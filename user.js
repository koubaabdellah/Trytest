// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.41/esri/copyright.txt for details.
// See https://www.arcgis.com/home/copyright.txt for further details.
//>>built
/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** @overview es6-promise - a tiny implementation of Promises/A+.
 @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   v4.2.8+1e68dce6
*/
require({cache:{"arcgisonline/pages/basePage":function(){define("require exports tslib calcite-web/js/calcite-web dojo/_base/kernel dojo/Deferred dojo/when dojo/_base/lang dojo/_base/window dojo/query dojo/debounce dijit/_WidgetBase dijit/registry dojo/on dojo/string dojo/topic dojo/dom-attr dojo/dom-construct dojo/dom-class esri/Evented esri/config arcgisonline/sharing/util ./utils/alerts ./utils/dom ./utils/organization arcgisonline/telemetry ../sharing/dijit/SiteHeader ./components/SiteFooter dojo/i18n!../nls/arcgisonline ./components/ManageBlockedApps/blocked-apps-service ../tsutils/declareDecorator arcgisonline/esriGeowConfig preact ./utils/queryHandler".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);
v=p.__importDefault(v);B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);E=p.__importDefault(E);F=p.__importDefault(F);w=p.__importDefault(w);D=p.__importDefault(D);G=p.__importDefault(G);H=p.__importDefault(H);R=p.__importStar(R);return function(){function N(K){this.i18n=w["default"];this.esriPortalConfig=H["default"];this._handles=[];this._forceErrorToast=this._hideErrors=this._showErrors=this.hideFooter=this.hideHeader=this.isLoaded=!1;this.page=p.__assign({},K);this.portalUser=
K.portalUser||null;this.portal=K.portal||null}N.prototype.destroy=function(){M.render(null,this.footerDiv)};N.prototype.postMixInProperties=function(){this.inherited(arguments);k["default"].defaults.io.errorHandler=this._showError.bind(this);this._queryStringParams=R.queryToObject(window.location.search.slice(1))};N.prototype.startup=function(){this.inherited(arguments);this.telemetry=A["default"].init({config:this.portal});var K=getComputedStyle(document.documentElement);"rgba(0, 0, 0, 0)"===(null===
K||void 0===K?void 0:K["background-color"])&&document.body.classList.contains("dj_a11y")&&document.documentElement.classList.add("a11y-black");this._buildPage();this._addEventListeners()};N.prototype.toggleErrors=function(K){this._hideErrors=!K;this._showErrors=K};N.prototype._setPageTitleAttr=function(K){window.document.title=K};N.prototype._setIsLoadedAttr=function(K){this.isLoaded=K};N.prototype.showLoader=function(){B["default"].activateNode(this._loader);B["default"].hideNode(this._content)};
N.prototype.hideLoader=function(){B["default"].deactivateNode(document.querySelector(".js-page-loader"));B["default"].showNode(document.querySelector(".js-content-wrapper"));B["default"].deactivateNode(this._loader);B["default"].showNode(this._content)};N.prototype.removeError=function(){var K=document.querySelector(".js-alert");K&&a["default"].destroy(K)};N.prototype.hideErrors=function(){var K=document.querySelector(".js-alert");K&&a["default"].empty(K)};N.prototype.showAlert=function(K){var V=
K.type||"success";K=K.text||"";this._alert&&this._alert.destroy();this._alert=v["default"].showAlert(V,K)};N.prototype.showError=function(K){this._showError(K)};N.prototype._addEventListeners=function(){this.own(e["default"].subscribe("alert/show",this.showAlert.bind(this)),e["default"].subscribe("tabs/disable",this._disableTabs.bind(this)),e["default"].subscribe("tabs/enable",this._enableTabs.bind(this)),e["default"].subscribe("page/showError",this._showError.bind(this)),n["default"](window,"resize",
q["default"](function(){return e["default"].publish("window/resize")},300)))};N.prototype._buildPage=function(){var K=this,V;this.set("pageTitle",H["default"].portalName||this.i18n.common.arcgis);var Z=t["default"].locale.split("-");document.documentElement.lang=-1!==t["default"].locale.indexOf("-")?[Z[0],Z[1].toUpperCase()].join("-"):Z[0];this.pageNode=this.pageNode||l["default"].body();this.flexFix=a["default"].create("div",{"class":"flex-column"},this.pageNode,"next");this.contentWrapper=a["default"].create("div",
{"class":"js-content-wrapper content-wrapper flex-column flex-1 hide"},this.flexFix,"next");this.hideHeader||(this.header=new E["default"]({page:this,id:"header",esriPortalConfig:this.esriPortalConfig,relativePath:this.relativePath,telemetry:this.telemetry}),this.header.placeAt(this.contentWrapper,"first"),this.header.startup());a["default"].place(this.domNode,this.contentWrapper);this.hideFooter||(this.footerDiv=a["default"].create("div",null,this.contentWrapper,"last"),this.footer=M.h(F["default"],
{id:"footer",portal:this.portal}),M.render(this.footer,this.footerDiv));this.skipToContent&&(Z=h["default"].substitute('\x3ca href\x3d"#${skipToContent}" class\x3d"skip-to-content js-skip-to-content"\x3e${i18n.common.skipToContent}\x3c/a\x3e',{skipToContent:this.skipToContent,i18n:w["default"]}),a["default"].place(Z,this.pageNode,"first"),document.querySelector(".js-skip-to-content").addEventListener("click",function(ca){ca.preventDefault();ca.stopPropagation();if(ca=document.getElementById(K.skipToContent))ca.tabIndex=
-1,ca.focus()}));this.set("htmlCssClasses");(null===(V=this.portalUser)||void 0===V?0:V.orgId)&&this.setBlockedClasses()};N.prototype.setBlockedClasses=function(){D["default"].getBlockedApps().then(function(K){var V={webappbuilder:"wab-blocked",arcgisstorymaps:"storymap-blocked",opsdashboard:"dashboard-blocked",experienceBuilder:"exp-builder-blocked",HubforArcGIS:"hub-blocked"};Object.keys(V).forEach(function(Z){-1<(null===K||void 0===K?void 0:K.indexOf(Z))&&(Z=V[Z],document.documentElement.classList.add(Z),
document.body.classList.add(Z))})})};N.prototype._setHtmlCssClassesAttr=function(){var K=[],V=this.portal,Z=V.getPortalUser(),ca=Z&&Z.isOrgUser,ea=Z&&Z.licenses,ka;K.push(V.isPortal?"is-on-premise":"is-online");K.push(Z?"is-signed-in":"is-signed-out");Object.keys(ea||{}).forEach(function(la){ka=ea[la];!ka.valid&&ka.className&&K.push(ka.className)});K.push(H["default"].webAppBuilderEnabled&&ca?"is-wab-enabled":"");K.push(H["default"].showCreateDashboard&&ca?"is-createDashboard-enabled":"");K.push(H["default"].sceneViewerEnabled?
"is-sceneViewer-enabled":"");b["default"].add(document.querySelector("html"),K.join(" "))};N.prototype._request=function(K,V){return r["default"].request(K,V)};N.prototype._showError=function(K){var V=null;V=K&&K.message||this.i18n.common.errors.genericError.message;var Z=document.querySelector(".js-alert")||a["default"].toDom('\x3cdiv class\x3d"flex-center js-alert leader-2 trailer-2"\x3e\x3c/div\x3e'),ca=null;if(!(this._hideErrors||K&&("SB_0001"===K.messageCode||"SB_0002"===K.messageCode)||403!==
K.code&&"GWM_0003"===K.messageCode)){if(!this._item&&this.portalUser&&K&&403===K.code){if(-1!==K.message.indexOf("world/utilities.gpserver"))return;V=this.i18n.errorWidget.accessDeniedResource;this._showErrors=!0}else"GWM_0011"===(null===K||void 0===K?void 0:K.messageCode)?(V=-1<window.location.href.indexOf("/group.html")?this.i18n.common.errors.spamContentGroupUpdate:this.i18n.common.errors.spamContentItemUpdate,this._showErrors=!0):V&&"Item does not exist or is inaccessible."===V?(V=this.i18n.errorWidget.itemNotFound+
" "+this.i18n.errorWidget.invalidItem,this._showErrors=!0):V&&"Your request has timed out."===V?V=this.i18n.contentCategories.errors.timedOut:this.portal.isPortal&&K&&"string"===typeof K&&-1<K.indexOf("ERROR 002555")?(V=this.i18n.itemProperties.error.dataStoreReadOnlyMode,this._showErrors=!0):V&&-1<V.indexOf("Your account is out of storage space and your item cannot be updated.")?(V=this.i18n.common.errors.outOfStorageSpace,this._showErrors=!0):V=K.messageHTML?K.messageHTML:r["default"].htmlEncode(V);
ca=a["default"].toDom('\x3cdiv class\x3d"column-12 alert alert-red alert-inline break-word is-active"\x3e'+V+"\x3c/div\x3e");if(this._showErrors&&K&&499!==K.code&&498!==K.code&&404!==K.code)if(this._forceErrorToast||this.isLoaded&&!K.forceErrorNode)v["default"].showAlert("error",V);else{u["default"](".content-wrapper .loader, .js-page-loader").removeClass("is-active");u["default"](".js-content-wrapper").removeClass("hide");V=document.querySelector(".view-background");var ea=document.querySelectorAll("header.subnav").length?
1:0;a["default"].place(Z,V,ea);a["default"].place(ca,Z,"only")}e["default"].publish("ago/page/error",{error:K});return K}};N.prototype._createTab=function(K,V){var Z=this.tabDijit=new K(g["default"].mixin({page:this,i18n:this.i18n,portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry},V||{}),a["default"].create("div",{},this._content)),ca=new m["default"];Z.startup().then(function(){y["default"].init();ca.resolve(Z)});return ca};N.prototype._destroyTab=function(){var K=this,V=new m["default"],
Z=this.tabDijit&&this.tabDijit.canDestroy?this.tabDijit.canDestroy():!0;f["default"](Z,function(){K.showLoader();(x["default"].findWidgets(K._content)||[]).forEach(function(ca){ca.destroy?ca.destroy():ca.destroyRecursive&&ca.destroyRecursive()});a["default"].empty(K._content);v["default"].clearAlerts();V.resolve(!0)});return V};N.prototype._disableTabs=function(){var K=this;this._clearTabHandlerOverrides();var V=document.querySelectorAll(".js-subnav-link");B["default"].forEachNode(V,function(Z){K._disabledTabHandlers.push(n["default"](Z,
"click",function(ca){ca.stopPropagation();ca.preventDefault()}));d["default"].set(Z,"aria-disabled",!0);b["default"].add(Z,"disabled")})};N.prototype._enableTabs=function(){var K=this;setTimeout(function(){K._clearTabHandlerOverrides();var V=document.querySelectorAll(".js-subnav-link");B["default"].forEachNode(V,function(Z){d["default"].set(Z,"aria-disabled",!1);b["default"].remove(Z,"disabled")})},500)};N.prototype._clearTabHandlerOverrides=function(){this._disabledTabHandlers=this._disabledTabHandlers||
[];this._disabledTabHandlers.forEach(function(K){return K.remove()})};N.prototype.getMemberDefaults=function(){var K,V=null===(K=this.portalUser)||void 0===K?void 0:K.userRole;K=(null===V||void 0===V?void 0:V.isAdmin())||(null===V||void 0===V?void 0:V.canManageSecurity());return this.portalUser&&this.portal.id&&K?this.portal.getMemberDefaults():(K=new m["default"],K.resolve(),K)};N.prototype.getHomePageConfig=function(){var K=new m["default"];if(!this.portalUser||!this.portal.id)return K.resolve(),
K;var V=C["default"].hasModernHomePageEnabled(this.portal);(this.portal.hasModernHomePageEnabled=V)?this.portal.getHomePageConfig().then(function(){K.resolve()}):K.resolve();return K};return N=p.__decorate([G["default"](z["default"],c["default"])],N)}()})},"arcgisonline/pages/utils/alerts":function(){define("require exports tslib ../dijit/Alert ./dom dijit/registry".split(" "),function(T,J,p,y,t,m){function f(u,q,z){void 0===z&&(z={cssClasses:"",preventAutoDismiss:!1});g();var x=z.cssClasses,n=z.preventAutoDismiss;
z=z.liveRegion;var h=document.createElement("div");document.body.appendChild(h);return new y["default"]({type:u,text:q,cssClasses:x||"",preventAutoDismiss:!!n,liveRegion:z},h)}function g(){t["default"].forEachNode(document.querySelectorAll(".alert"),function(u){var q,z;null===(z=null===(q=m["default"].byNode(u))||void 0===q?void 0:q.destroy)||void 0===z?void 0:z.call(q)})}function l(u,q){var z=q.reduce(function(n,h){return n+"\x3cli\x3e"+h+"\x3c/li\x3e"},""),x=document.createElement("div");document.body.appendChild(x);
return new y["default"]({type:u,text:"",listHTML:"\x3cul\x3e"+z+"\x3c/ul\x3e"},x)}Object.defineProperty(J,"__esModule",{value:!0});J.showAlertList=J.clearAlerts=J.showAlert=void 0;y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);J.showAlert=f;J.clearAlerts=g;J.showAlertList=l;J["default"]={clearAlerts:g,showAlert:f,showAlertList:l}})},"arcgisonline/pages/dijit/Alert":function(){define("require exports tslib ../utils/a11y ../utils/icons ../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/text!./Alert/Alert.html dojo/i18n!../../nls/arcgisonline dojo/_base/lang".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){this.templateString=u["default"];this.i18n=q["default"];this.icons=t["default"];this.cssClasses="";this.preventAutoDismiss=!1}x.prototype.postMixInProperties=function(){"success"===this.type?(this.modifier="green",this.icon=t["default"]["check-circle"]["32"],
this.iconAltText=q["default"].GroupWidget.successIcon):"error"===this.type?(this.modifier="red",this.icon=t["default"]["exclamation-mark-circle"]["32"],this.iconAltText=q["default"].GroupWidget.errorIcon):"warning"===this.type?(this.modifier="yellow",this.icon=t["default"]["exclamation-mark-triangle"]["32"],this.iconAltText=q["default"].GroupWidget.warningIcon):"info"===this.type&&(this.modifier="info",this.iconAltText=this.icon="")};x.prototype.postCreate=function(){var n=this;this.inherited(arguments);
this.listHTML&&(this._listContainer.innerHTML=this.listHTML);this._addEventListeners();"success"!==this.type||this.preventAutoDismiss||this._setAlertTimer();setTimeout(function(){n.domNode&&n.domNode.classList.add("is-active")},10)};x.prototype.startup=function(){this.inherited(arguments);y["default"].postToLiveRegion(this.text,this.liveRegion)};x.prototype._addEventListeners=function(){"success"===this.type&&this.own(l["default"](this.domNode).on("mouseover",z["default"].hitch(this,this._clearAlertTimer)),
l["default"](this.domNode).on("mouseout",z["default"].hitch(this,this._setAlertTimer)));this.own(l["default"](".js-alert-close",this.domNode).on("click",z["default"].hitch(this,this._dismiss)))};x.prototype._setAlertTimer=function(){var n=this;this._timeout||(this._timeout=window.setTimeout(function(){n._dismiss()},4E3))};x.prototype._clearAlertTimer=function(){clearTimeout(this._timeout);this._timeout=null};x.prototype._dismiss=function(n){var h=this;n&&n.preventDefault();this.domNode&&this.domNode.classList.remove("is-active");
setTimeout(function(){h.destroy()},300)};x.prototype.dismiss=function(){var n=this;this.domNode&&this.domNode.classList.remove("is-active");setTimeout(function(){n.destroy()},300)};return x=p.__decorate([m["default"](f["default"],g["default"])],x)}()})},"arcgisonline/pages/components/SiteFooter":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/organization ../utils/arrays dojo/topic preact preact/hooks dojo/i18n!../../nls/arcgisonline".split(" "),function(T,J,p,y,t,
m,f,g,l,u){Object.defineProperty(J,"__esModule",{value:!0});y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);u=p.__importDefault(u);J["default"]=function(q){var z=q.id,x=q.portal;q=l.useState(!1);var n=q[0],h=q[1];q=l.useState([]);var e=q[0],d=q[1];l.useEffect(function(){var v=f["default"].subscribe("contact-us-link/update",b);return function(){var B;null===(B=null===v||void 0===v?void 0:v.remove)||void 0===B?void 0:B.call(v)}},[]);l.useEffect(function(){a()},
[e]);var a=function(){var v,B,C=p.__assign(p.__assign(p.__assign({},u["default"].common),u["default"].siteFooter),{helpLabel:u["default"].supportPage.helpLabel}),A=x.portalUser,E=x.isPortal,F=window.location.href;-1<F.indexOf("?useExisting\x3d1")&&(F=F.substring(0,F.length-14));h(-1<F.indexOf("viewer.html")&&-1===F.indexOf("returnUrl")&&!t["default"].isMobile());var w=[];(y["default"].footerLinks||[]).forEach(function(D){var G,H,M="${i18n.legal}"===(null===D||void 0===D?void 0:D.title),R=!!(M&&(null===
A||void 0===A?0:A.accountId)),N="${i18n.help}"===(null===D||void 0===D?void 0:D.title)||"support.html"===(null===D||void 0===D?void 0:D.url),K=!(N&&!A&&"public"===x.access&&(E||!E&&x.customBaseUrl));M=!M&&!N||M&&!R||N&&!K;R=null===(G=D.title)||void 0===G?void 0:G.indexOf("${i18n.");G=null===(H=D.title)||void 0===H?void 0:H.indexOf("}");H=-1<R&&-1<G?""+C[D.title.substring(R+7,G)]:D.title;if(D.url){-1===D.url.indexOf("http")&&-1===D.url.indexOf("mailto:")&&n&&(D.url="support.html"===D.url?x.helpBase||
""+y["default"].baseUrl+D.url:""+y["default"].baseUrl+D.url);if("${i18n.help}"===D.title||"support.html"===D.url)D.url=x.helpBase;M&&w.push({href:D.url,target:"_blank",title:H})}else E&&"contactUs"===D.type?(G=y["default"].portalName||"ArcGIS.com",M=escape(F),D="mailto:"+D.email,w.push({id:z+"_contactEsri",href:D+('?subject\x3d"A comment about '+G+'"\x26body\x3d"I have the following comment about the ')+(G+" Web site. %0AReferring page: "+M+' %0A %0A(Please provide as much detail as possible. Note: Contact Us is not meant for obtaining technical support or general product information.)"'),
title:H})):"reportAbuse"===D.type&&(M=escape(F),D="mailto:"+D.email+'?subject\x3d"Concerns about an item"',w.push({href:D+('\x26body\x3d"I have concerns about the following. %0AReferring page: '+M+" %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\""),title:H}))});b(null===(B=null===(v=x.portalProperties)||void 0===v?
void 0:v.links)||void 0===B?void 0:B.contactUs,w)},b=function(v,B){B=null!==B&&void 0!==B?B:e;v=null!==v&&void 0!==v?v:{visible:!1,url:""};var C={id:z+"_customContactUs",href:v.url,title:u["default"].siteFooter.customContactUs,className:v.visible?"footer__contact-us":"footer__contact-us hide"},A=m["default"].findIndex(B,function(E){return E.id===z+"_customContactUs"});-1<A?B[A]=C:(A=m["default"].findIndex(B,function(E){return E.id===z+"_contactEsri"}),-1<A?B.splice(A,0,C):B.push(C));d(B)};q=z+"_links";
var c=n?"\x26nbsp;. ":"",k=e.filter(function(v){return!v.className||-1===v.className.indexOf("hide")}),r=k.map(function(v,B){var C,A,E,F=null!==(C=v.id)&&void 0!==C?C:z+"_link"+B;C=v.href;var w=null!==(A=v.target)&&void 0!==A?A:"";A=null!==(E=v.className)&&void 0!==E?E:"";E=B===k.length-1;return g.h(g.Fragment,null,g.h("a",{id:F,href:C,className:A,target:w},v.title),E?null:g.h("span",null,c))});return g.h("div",{"class":"padding-leader-2 footer text-center padding-trailer-1 font-size--2 text-light-gray",
role:"contentinfo"},g.h("span",{id:q,"class":"esriItemLinks"},r),g.h("div",{"class":"esri-footer-barrier"}))}})},"arcgisonline/pages/dijit/SubNav":function(){define("require exports tslib dojo/dom-class dojo/has dojo/hash dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase ../../tsutils/declareDecorator ../utils/formatters ../utils/arrays ../utils/dom ./InlineEdit dojo/text!./SubNav/templates/_option.html dojo/text!./SubNav/templates/_title.html dojo/text!./SubNav/templates/_paths.html dojo/text!./SubNav/templates/_path.html dojo/text!./SubNav/templates/SubNav.html dojo/i18n!../../nls/arcgisonline ../utils/icons".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=p.__importDefault(v);
return function(){function B(C,A){this.templateString=k["default"];this.i18n=r["default"];this.linksHTML=this.activeLabel="";this.hideLinks="hide";this.edit=null;this._titleTypeSize="subnav-title";this.titleHTML=""}B.prototype.postMixInProperties=function(){var C=this,A;this.inherited(arguments);var E=this.links&&this.links.map(function(F){F.show=-1===Object.keys(F).indexOf("show")||F.show;return F}).filter(function(F){return F.show});0<(null===E||void 0===E?void 0:E.length)&&(this.hideLinks="",this.linksHTML=
this.links.reduce(function(F,w){w.logClick=!!w.logClick;w.isActive=w.id===C.active?"is-active":"";w.isActive&&(C.activeLabel=w.label);return F+g["default"].substitute(d["default"],w,null,x["default"])},""),document.title=this.titleText+" - "+this.activeLabel);if(100<(null===(A=this.title)||void 0===A?void 0:A.length)||this.paths)this._titleTypeSize+=" subnav-title--"+(180<this.titleText.length?"smaller":"small"),this.edit&&(this.edit.titleClass=this._titleTypeSize);this.titleHTML=this.paths?this.generateBreadCrumbs(this.paths):
g["default"].substitute(a["default"],this)};B.prototype.postCreate=function(){var C=this;this.inherited(arguments);this.own(f["default"](".js-subnav-expand",this.domNode).on("click",this.toggleNav.bind(this)),f["default"](".js-subnav-link",this.domNode).on("keyup",this.handleKeyUp.bind(this)),f["default"](".js-subnav-link",this.domNode).on("click",this.handleLinkClick.bind(this)),l["default"].subscribe("/dojo/hashchange",function(A){(t["default"]("ie")||t["default"]("trident")||t["default"]("edge"))&&
C.updateActiveTab(A)}));this.paths&&this.attachBreadCrumbEvents();window.addEventListener("popstate",function(){C.updateActiveTab(window.location.hash)});this.edit&&(this.edit.formClass="flex flex-center fullscreen",this.edit.inputLabel=r["default"].itemProperties.editTitle,this._titleEdit=new e["default"](this.edit,this.domNode.querySelector(".js-subnav-edit")),this.own(l["default"].subscribe("inlineEdit/"+this.edit.prop+"/done",this.closeEdit.bind(this)),l["default"].subscribe("inlineEdit/"+this.edit.prop+
"/cancel",this.closeEdit.bind(this)),l["default"].subscribe("inlineEdit/"+this.edit.prop+"/start",this.openEdit.bind(this))))};B.prototype.showTab=function(C){f["default"]('.js-subnav-link[data-tab\x3d"'+C+'"]',this.domNode).removeClass("hide")};B.prototype.hideTab=function(C){f["default"]('.js-subnav-link[data-tab\x3d"'+C+'"]',this.domNode).addClass("hide")};B.prototype.showEditLink=function(){var C;null===(C=this._titleEdit)||void 0===C?void 0:C.showEditLink()};B.prototype.hideEditLink=function(){var C;
null===(C=this._titleEdit)||void 0===C?void 0:C.hideEditLink()};B.prototype.updateText=function(C){var A;null===(A=this._titleEdit)||void 0===A?void 0:A.updateText(C)};B.prototype.setPageTitle=function(C){this.domNode.querySelector("#pagetitle").textContent=C};B.prototype.updateBreadCrumbs=function(C){this.paths=C;this.domNode.querySelector(".js-subnav-title-wrap").innerHTML=this.generateBreadCrumbs(C);this.attachBreadCrumbEvents()};B.prototype.updateActiveTab=function(C){C=C||"overview";var A=f["default"](".js-subnav-link",
this.domNode);A.removeClass("is-active").attr("aria-selected","false");if(A=n["default"].find(A,function(E){return E.getAttribute("href").replace("#","")===C.replace("#","")}))y["default"].add(A,"is-active"),A.setAttribute("aria-selected","true"),this.activeLabel=A.textContent,this.domNode.querySelector(".js-subnav-current-label").innerHTML=this.activeLabel,this.closeNav(),document.title=this.titleText+" - "+this.activeLabel};B.prototype.attachBreadCrumbEvents=function(){var C=this,A;this.domNode.querySelectorAll(".js-subnav-paths")&&
0<(null===(A=this.paths)||void 0===A?void 0:A.length)&&(h["default"].forEachNode(this.domNode.querySelectorAll(".js-subnav-path"),function(E,F){var w;(null===(w=C.paths[F])||void 0===w?0:w.onPathClick)&&E.addEventListener("click",function(D){C.paths[F].onPathClick(D)})}),A=this.paths[this.paths.length-1],A.edit&&(A.edit.formClass="flex flex-center fullscreen",A.edit.inputLabel=r["default"].itemProperties.editTitle,this._titleEdit=new e["default"](A.edit,this.domNode.querySelector(".js-last-path")),
this.own(l["default"].subscribe("inlineEdit/"+A.edit.prop+"/done",this.closeEdit.bind(this)),l["default"].subscribe("inlineEdit/"+A.edit.prop+"/cancel",this.closeEdit.bind(this)),l["default"].subscribe("inlineEdit/"+A.edit.prop+"/start",this.openEdit.bind(this)))))};B.prototype.generateBreadCrumbs=function(C){C=C.map(function(A,E,F){return g["default"].substitute(c["default"],p.__assign(p.__assign({},A),{icons:v["default"],showBack:1<F.length&&0===E?"":"hide",lastPath:E===F.length-1?"js-last-path subnav-breadcrumb-last flex-0":
"subnav-breadcrumb-first js-early-path"}))}).join("\x3cspan class\x3d'subnav-breadcrumb-separator flex-0 js-early-path'\x3e/\x3c/span\x3e");return g["default"].substitute(b["default"],{paths:C,_titleTypeSize:this._titleTypeSize})};B.prototype.openNav=function(){f["default"](".js-subnav-links, .js-subnav-expand",this.domNode).addClass("is-active")};B.prototype.closeNav=function(){f["default"](".js-subnav-links, .js-subnav-expand",this.domNode).removeClass("is-active")};B.prototype.toggleNav=function(C){y["default"].contains(C.target,
"is-active")?this.closeNav():this.openNav()};B.prototype.openEdit=function(C){f["default"](".js-subnav-links,.js-subnav-expand,.js-early-path").addClass("visibility-hidden")};B.prototype.closeEdit=function(){f["default"](".js-subnav-links,.js-subnav-expand,.js-early-path").removeClass("visibility-hidden")};B.prototype.handleKeyUp=function(C){32===C.keyCode&&(C.preventDefault(),this.logClickEvent(C.target,this.telemetry),m["default"](C.target.getAttribute("href"),!0))};B.prototype.handleLinkClick=
function(C){this.logClickEvent(C.target,this.telemetry)};B.prototype.logClickEvent=function(C,A){"true"===(null===C||void 0===C?void 0:C.dataset.logclick)&&(null===A||void 0===A?void 0:A.logEvent({category:"Secondary Nav",action:C.dataset.tab,size:window.innerWidth,pageUrl:window.location.href}))};return B=p.__decorate([z["default"](q["default"],u["default"])],B)}()})},"arcgisonline/pages/dijit/InlineEdit":function(){define("require exports tslib esri/lang esri/libs/sanitizer/Sanitizer arcgis-components/wrappers/Tags dojo/on dojo/query dojo/has dojo/topic dojo/string dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/formatters ../utils/alerts ../utils/arrays ../utils/dom ../../sharing/util ../utils/icons ../../sharing/dijit/Editor dojox/uuid/generateRandomUuid ./CategoryPicker dojo/text!./InlineEdit/templates/InlineEdit.html dojo/text!./InlineEdit/templates/inlineEditTextArea.html dojo/text!./InlineEdit/templates/inlineEditFieldValueType.html dojo/text!./InlineEdit/templates/inlineEditRichText.html dojo/text!./InlineEdit/templates/inlineEditCustom.html dojo/text!./InlineEdit/templates/inlineEditLayerRename.html dojo/text!./InlineEdit/templates/inlineEditLayerRenameSubnav.html dojo/text!./InlineEdit/templates/inlineEditNotebookTags.html arcgisonline/tsutils/declareDecorator dijit/_editor/plugins/FontChoice dijit/_editor/plugins/TextColor ./InlineEdit/ViewSource ../../sharing/dijit/LinkDialog".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M){y=p.__importDefault(y);t=p.__importDefault(t);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=p.__importDefault(v);
B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);E=p.__importDefault(E);F=p.__importDefault(F);w=p.__importDefault(w);D=p.__importDefault(D);G=p.__importDefault(G);H=p.__importDefault(H);M=p.__importDefault(M);return function(){function R(N,K){this.templateString=C["default"];this.i18n=z["default"];this.icons=k["default"];this.inputType="textbox";this.inputClass="subnav-edit__input";this.defaultText=this.inputLabel="";this.invalidText=this.emptyText=void 0;this.required=!1;this.pattern=
void 0;this.editorHeight="240px";this.rows=4;this.titleClass="subnav-title";this.titleId="pagetitle";this.viewTitle=this.placeholder=this.buttonsClass=this.formClass=this.formTitle="";this.knownTags=[];this.isGroup=!1;this.editButtonClasses="btn-link-white if-can-update";this.editButtonUpdatePermissionClasses="if-can-update";this.cancelButtonClasses="btn btn-transparent btn-link-white";this.saveButtonClasses="btn btn-white margin-left-half";this.showCharactersLeft=this.showLoader=!1;this.sanitizer=
new t["default"];this.dontSanitize=!1;this._oldValue=this.prop="";this._supportsFormValidation=!1;this.templateString={textArea:A["default"],fieldValueType:E["default"],richText:F["default"],tags:w["default"],categories:w["default"],layerRename:D["default"],layerRenameSubnav:G["default"],notebookTags:H["default"]}[N.isNotebook?"notebookTags":N.inputType]||C["default"];this.baseUrl=N.baseUrl;this.openInNewTab=N.openInNewTab;this.inputLabel=N.inputLabel||N.formTitle||z["default"].common.edit}R.prototype.postMixInProperties=
function(){this.inherited(arguments);this.inputId=this.inputId||v["default"]();this._oldValue=this.value=this._sanitizeValue(this.value);this.knownTags&&(this.knownTags=this._sanitizeStringArray(this.knownTags))};R.prototype.postCreate=function(){this.inherited(arguments);this.showLoader&&b["default"].showNode(this._saveLoader);this.required&&(this._input.required=!0);this.pattern&&(this._input.pattern=this.pattern);var N=document.createElement("input");this._supportsFormValidation=!l["default"]("safari")&&
"required"in N&&"pattern"in N;!this._supportsFormValidation||"textArea"!==this.inputType&&"textbox"!==this.inputType||this._input.setCustomValidity(this._valOrFunction(this.defaultText||"",window,[this._input]));switch(this.inputType){case "textArea":case "textbox":this.maxLength&&(this._input.maxLength=this.maxLength);break;case "richText":this._formatRichText();break;case "tags":this._inputEl.id=this.inputId,this._form.addEventListener("keydown",function(K){"Enter"===K.key&&"INPUT"===K.target.nodeName&&
K.preventDefault()})}this._hasCharactersLeft()&&(b["default"].showNode(this._charactersLeft),this._setCharactersLeft(),this.own(f["default"](this._input,"keyup",this._setCharactersLeft.bind(this))));this._updateView();this._initHandlers()};R.prototype.initTagsEditor=function(){var N=Array.isArray(this.value)?this.value:this.value.split(",");this.domNode.querySelector(".js-inline-edit").setAttribute("data-edit-id","tags");this._input=new m.TagsWrapper(this.domNode.querySelector("#"+this.inputId),{activeTags:N.filter(function(K){return K}),
knownTags:this.knownTags.map(function(K){return K.tag}),maxWidth:"100%",minWidth:"100%"})};R.prototype.initCategoryPicker=function(){var N=this;this.portal&&this.portal.getCategories().then(function(K){N._formatCategories(N.value);N._input=new B["default"]({categories:N.value,schema:K,alwaysOpen:!0},N._inputEl);N._input.startup()},function(K){})};R.prototype.hide=function(){b["default"].hideNode(this.domNode)};R.prototype.hideEditLink=function(){g["default"](".js-inline-edit",this.domNode).addClass("visibility-hidden")};
R.prototype.showEditLink=function(){g["default"](".js-inline-edit",this.domNode).removeClass("visibility-hidden")};R.prototype.updateText=function(N){N=this._sanitizeString(N);g["default"](".js-view",this.domNode).innerHTML(N);this.value=this._input.value=N};R.prototype.updateValue=function(N){N=this._sanitizeValue(N);this._setInputValue(N);this.value=N;this._updateView()};R.prototype._sanitizeValue=function(N){return N instanceof Array?this._sanitizeStringArray(N):this._sanitizeString(N)};R.prototype._sanitizeStringArray=
function(N){var K=this;return this.dontSanitize?N:(N||[]).map(function(V){return K.sanitizer.sanitize(V)})};R.prototype._sanitizeString=function(N){return this.dontSanitize?N:this.sanitizer.sanitize(N)};R.prototype._setCharactersLeft=function(){this._hasCharactersLeft()&&(this._charactersLeft.textContent=q["default"].substitute(this.i18n.myOrganization.generalTab.summaryCharsLeft,{chars:this.maxLength-this._input.value.length}))};R.prototype._setInputValue=function(N){this._input&&("richText"===this.inputType?
this._input.set("value",N||""):"categories"===this.inputType?this._input.setCategories(N,!0):"tags"===this.inputType?(N=Array.isArray(N)?N:N.split(","),this._input.setTags(N.filter(function(K){return K}))):this._input.value=y["default"].isDefined(N)?N:"")};R.prototype._initHandlers=function(){var N=this;this.own(f["default"](this._cancelButton,"click",function(K){K.stopPropagation();K.preventDefault();N._cancelEdit()}),g["default"](".js-inline-edit",this.domNode).on("click",function(K){var V;K.stopPropagation();
u["default"].publish("inlineEdit/"+N.prop+"/start");N._oldValue=N.value;b["default"].hideNode(N._textView);b["default"].showNode(N._form);"richText"===N.inputType&&((null===(V=N._input)||void 0===V?0:V.destroy)&&N._input.destroy(!0),K=h["default"].editorDefaults(N.inputId),K.height=N.editorHeight,N._input=new r["default"](K,N._inputEl),N._input.startup(),N._input.set("value",N.value||""));"fieldValueType"===N.inputType&&N._setupFieldValueType(N.value);"categories"!==N.inputType&&N._input.focus()}),
f["default"](this._form,"submit",function(K){K.stopPropagation();K.preventDefault();K="richText"===N.inputType&&N._input.get("value")||"textArea"===N.inputType&&N._input.value;N.containsHttp(K)?d["default"].showAlert("error",N.i18n.common.httpNotSupported):N._submitForm()}),u["default"].subscribe("inlineEdit/"+this.prop+"/done",function(K){N.containsHttp(N.value)&&d["default"].showAlert("error",N.i18n.common.httpNotSupported);N._updateView();N.showLoader&&N._saveLoader&&(N._saveButton.disabled=!1,
N._cancelButton.disabled=!1,N._saveLoader.classList.remove("inline-edit-save-loader--active"));N._hideEdit()}),u["default"].subscribe("inlineEdit/cancel",function(){N._cancelEdit()}),u["default"].subscribe("inlineEdit/"+this.prop+"/oldValue",function(K){N.value=N._oldValue=K}));"textbox"!==this.inputType&&"textArea"!==this.inputType&&"layerRename"!==this.inputType&&"layerRenameSubnav"!==this.inputType||this.own(f["default"](this._input,"change",this._changeOrInput.bind(this)),f["default"](this._input,
"input",this._changeOrInput.bind(this)),f["default"](this._input,"invalid",this._invalid.bind(this)))};R.prototype.containsHttp=function(N){var K;return!c["default"].isPortal()&&("richText"===this.inputType||"textArea"===this.inputType)&&-1<(null===(K=null===N||void 0===N?void 0:N.indexOf)||void 0===K?void 0:K.call(N,"http://"))};R.prototype._cancelEdit=function(){var N;this._setInputValue(this._oldValue);this._setCharactersLeft();(null===(N=this._input)||void 0===N?0:N.validity)&&this._setCustomValidity("");
"categories"===this.inputType&&this._input.hideError();this._hideEdit();u["default"].publish("inlineEdit/"+this.prop+"/cancel")};R.prototype._hasCharactersLeft=function(){return"textArea"===this.inputType&&this.maxLength&&this.showCharactersLeft&&y["default"].isDefined(this._charactersLeft)};R.prototype._updateView=function(){var N=this.domNode.querySelectorAll(".js-view"),K=this.inputType;if(0<N.length&&this.value||"tags"===K){switch(K){case "categories":N=this._formatCategories(this.value);break;
case "fieldValueType":N=this._getFieldValueType(this.value);break;case "tags":N=this._formatTags(this.value);break;default:N=this.formatter?this.formatter(this.value):this.value}"tags"!==K&&"categories"!==K&&(N=this._sanitizeString(N));g["default"](".js-view",this.domNode).innerHTML(N);"richText"===this.inputType&&this._formatRichText()}};R.prototype._submitForm=function(){var N={},K=a["default"].from(this._form.elements)||[],V;if(("textbox"===this.inputType||"textArea"===this.inputType||"layerRename"===
this.inputType||"layerRenameSubnav"===this.inputType)&&!this._supportsFormValidation&&(K=K.some(function(Z){return(V=Z.getAttribute("data-customValidity"))?(u["default"].publish("page/showError",{message:V}),!0):!1})))return;this.showLoader&&this._saveLoader&&(this._saveButton.disabled=!0,this._cancelButton.disabled=!0,this._saveLoader.classList.add("inline-edit-save-loader--active"));"categories"===this.inputType?(this._input.hideError(),this.value=this._input.getCategories(!0),u["default"].publish("inlineEdit/categories/submit",
this.value)):(N[this.prop]="tags"===this.inputType?this._input.getTags().join(","):this._input.value,N.clearEmptyFields=!0,N.prop=this.prop,-1<["layerRename","layerRenameSubnav","layerDescription","layerCopyright"].indexOf(this.prop)&&void 0!==this.layerId&&(N.layerId=this.layerId),this.value=N[this.prop],u["default"].publish("inlineEdit/submit",N));this._oldValue=this.value};R.prototype._changeOrInput=function(){var N,K,V=null!==(K=null===(N=this._input.value)||void 0===N?void 0:N.trim())&&void 0!==
K?K:"";N=this._input.pattern;K=this._input.required;var Z="TEXTAREA"!==this._input.nodeName;!V&&K?this.emptyText&&this._setCustomValidity(this._valOrFunction(this.emptyText,window,[this._input])):this._supportsFormValidation&&Z||!N?this._setCustomValidity(""):(new RegExp(N)).test(V)?this._setCustomValidity(""):this.invalidText&&this._setCustomValidity(this._valOrFunction(this.invalidText,window,[this._input]))};R.prototype._invalid=function(){var N,K,V,Z,ca,ea,ka=null!==(K=null===(N=this._input.value)||
void 0===N?void 0:N.trim())&&void 0!==K?K:"";ka&&""!==ka?(null===(V=this._input.validity)||void 0===V?0:V.patternMismatch)||(null===(Z=this._input.validity)||void 0===Z?0:Z.badInput)||(null===(ca=this._input.validity)||void 0===ca?0:ca.typeMismatch)||(null===(ea=this._input.validity)||void 0===ea?0:ea.customError)?this.invalidText&&this._setCustomValidity(this._valOrFunction(this.invalidText,window,[this._input])):this._setCustomValidity(""):this.emptyText&&this._setCustomValidity(this._valOrFunction(this.emptyText,
window,[this._input]))};R.prototype._valOrFunction=function(N,K,V){return"function"===typeof N?N.apply(K,V):N};R.prototype._setCustomValidity=function(N){this._supportsFormValidation?this._input.setCustomValidity(N):(this._input.setAttribute("data-customvalidity",N),""===N&&u["default"].publish("hidePageError"))};R.prototype._hideEdit=function(){b["default"].showNode(this._textView);b["default"].hideNode(this._form)};R.prototype._formatCategories=function(N){var K=new RegExp(/^\/.+\//);N=N.map(function(V){return V.replace(K,
"")}).map(e["default"].formatCategoryChip).reduce(function(V,Z){return V+q["default"].substitute("\x3cspan class\x3d'label filter-label'\x3e${category}\x3c/span\x3e",{category:Z})},"");return 0<N.length?N:this.i18n.contentCategories.noCategoriesItem};R.prototype._formatTags=function(N){var K=this;N=N&&"string"===typeof N?N.split(","):N||[];var V="settings-tab"===this._currentView,Z=this.isGroup?"groups":"content";return 0>=N.filter(function(ca){return ca}).length?this.i18n.contentCategories.noTags:
N.map(function(ca){var ea=K.dontSanitize?ca:K.sanitizer.sanitize(ca);ea=c["default"].htmlEncode(ea);return V?ca:'\x3ca href\x3d"'+(K.baseUrl||"")+"search.html?t\x3d"+Z+"\x26q\x3dtags:%22"+ea+'%22" target\x3d"'+(K.openInNewTab?"_blank":"_self")+'"\x3e'+ea+"\x3c/a\x3e"}).join(", ")};R.prototype._formatRichText=function(){g["default"](".js-view table").addClass("table")};R.prototype._setupFieldValueType=function(N){for(var K=this.fieldValueTypeList.fieldValueType,V=0;V<K.length;V++)this._input.options[V]=
new Option(this._getFieldValueType(K[V].title),K[V].title),N===K[V].title&&(this._input.selectedIndex=V)};R.prototype._getFieldValueType=function(N){if("none"===N)return this.i18n.attributeFieldDetails.none;N=N||this.i18n.attributesView.commonUndefined;return this.i18n.attributeFieldDetails.fieldValueTypesList[N]||N};return R=p.__decorate([M["default"](n["default"],x["default"])],R)}()})},"arcgis-components/wrappers/Tags":function(){define(["../Component","../Inputs/Tags/index"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;
var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),
Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=987)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+
" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?
d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}function k(v){try{r(d["throw"](v))}catch(B){b(B)}}function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,
k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=B;break;case 4:return k.label++,{value:B[1],done:!1};case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=
k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),
"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});t.d(y,"g",function(){return q});var z=function(n,h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=
d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},16:function(p,y){p.exports=T},713:function(p,y){p.exports=J},987:function(p,y,t){t.r(y);t.d(y,"TagsWrapper",function(){return u});var m=t(0),f=t(16);p=t(713);t=t.n(p);var g=
function(q,z){switch(z.type){case "UPDATE_ACTIVE_TAGS":return Object(m.a)(Object(m.a)({},q),{activeTags:z.payload});case "UPDATE_KNOWN_TAGS":return Object(m.a)(Object(m.a)({},q),{knownTags:z.payload});default:return q}},l=Object(f.connect)(function(q){return{activeTags:q.activeTags,knownTags:q.knownTags}},function(q){return{onChange:function(z){q({type:"UPDATE_ACTIVE_TAGS",payload:z})}}})(t.a),u=function(){function q(z,x){this.renderContainer=z;this.store=Object(f.createStore)(g,{activeTags:x.activeTags,
knownTags:x.knownTags});this.projector=Object(f.createProjector)(this.store,function(n){return n(l,Object(m.a)({key:"wrapped-tags"},x))},this.renderContainer)}return q.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},q.prototype.focus=function(){var z=this.renderContainer.querySelector("input");z&&z.focus()},q.prototype.getTags=function(){return this.store.getState().activeTags},
q.prototype.setTags=function(z){this.store.dispatch({type:"UPDATE_ACTIVE_TAGS",payload:z})},q.prototype.getKnownTags=function(){return this.store.getState().knownTags},q.prototype.setKnownTags=function(z){this.store.dispatch({type:"UPDATE_KNOWN_TAGS",payload:z})},q.prototype.watchTags=function(z){var x=this,n=this.store.getState().activeTags;return this.store.subscribe(function(){var h=x.store.getState().activeTags;h!==n&&z(n=h)})},q}()}})})},"arcgis-components/Inputs/Tags/index":function(){define(["../../Component",
"dojo/i18n!../../Inputs/Tags/nls/resources"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,
f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=859)}({0:function(p,y,t){function m(n,
h){function e(){this.constructor=n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,
d[a])&&(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}function k(v){try{r(d["throw"](v))}catch(B){b(B)}}
function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=B;break;case 4:return k.label++,{value:B[1],done:!1};
case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});t.d(y,"g",function(){return q});var z=function(n,
h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},18:function(p,y){p.exports=T},417:function(p,y){p.exports=J},545:function(p,
y,t){y.a=function(m,f){var g=m.name;return f("li",{"class":"inp-tags__tag",key:g},f("span",{title:g,"class":"inp-tags__tag-innards",onkeydown:m.onKeyDown,id:"tag-"+g,tabindex:"-1"},g,f("button",{"class":"inp-tags__tag-remove-btn","data-value":g,onclick:m.onRemove,tabindex:"-1",type:"button"},f("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32"},f("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"})))))}},
546:function(p,y,t){var m=t(417);y.a=function(f,g){var l=f.onSuggestionFocus,u=f.onSuggestionBlur,q=f.onSuggestionClick,z=f.onSuggestionKeyDown;if(!f.visible)return null;var x=f.matchingTags.map(function(h,e){return g("li",{id:"suggestion-"+e,classes:{"inp-tags__suggestion":!0,"inp-tags__suggestion--grey":0==e%2,"inp-tags__suggestion--white":0!=e%2},"data-value":h,"data-index":e,key:h,title:h,onfocus:l,onblur:u,onmousedown:q,onkeydown:z,tabindex:"0"},h)}),n=g("div",{"class":"inp-tags__no-suggestions",
id:"no-matching-div"},g("div",{"class":"inp-tags__no-suggestions-text",id:"no-matching-text"},m.noTagsFound));return g("ul",{id:"tag-suggestions","class":"inp-tags__suggestions",key:"tag-suggestions"},x[0]?x:n)}},859:function(p,y,t){t.r(y);var m=t(0);p=t(18);var f=t(417),g=t(545),l=t(546);t=function(u){function q(z){z=u.call(this,z)||this;return z.state={value:"",isFocused:!1,isTyping:!1,hasBeenFocused:!1},z.handleInputBlur=z.handleInputBlur.bind(z),z.handleInputChange=z.handleInputChange.bind(z),
z.handleInputFocus=z.handleInputFocus.bind(z),z.handleInputKeyDown=z.handleInputKeyDown.bind(z),z.handleSuggestionBlur=z.handleSuggestionBlur.bind(z),z.handleSuggestionClick=z.handleSuggestionClick.bind(z),z.handleSuggestionFocus=z.handleSuggestionFocus.bind(z),z.handleSuggestionKeyDown=z.handleSuggestionKeyDown.bind(z),z.handleWidgetClick=z.handleWidgetClick.bind(z),z.spliceTag=z.spliceTag.bind(z),z.handleTagInputKeyDown=z.handleTagInputKeyDown.bind(z),z}return Object(m.d)(q,u),q.prototype.render=
function(z){var x=this,n={"inp-tags__active-tags":!0,"inp-tags__active-tags--focused":this.state.isFocused},h=this.props.knownTags.filter(function(e){return-1!==e.toLowerCase().indexOf(x.state.value.toLowerCase())&&-1===x.props.activeTags.indexOf(e)});return z("div",{id:"tags-container",classes:{"inp-tags__container":!0},style:"\n                        min-width: "+(this.props.minWidth?this.props.minWidth:"auto")+";\n                        max-width: "+(this.props.maxWidth?this.props.maxWidth:"auto")+
";\n                    "},z("ul",{classes:n,key:"active-tags",id:"active-tags"},this.props.activeTags.filter(function(e){return e}).map(function(e){return z(g.a,{name:e,onRemove:x.spliceTag,onKeyDown:x.handleTagInputKeyDown})}),z("input",{id:"tags-input","class":"inp-tags__input",placeholder:f.addTags,value:this.state.value,onkeydown:this.handleInputKeyDown,onfocus:this.handleInputFocus,onblur:this.handleInputBlur,oninput:this.handleInputChange,afterCreate:this.handler})),z(l.a,{matchingTags:h,onSuggestionBlur:this.handleSuggestionBlur,
onSuggestionClick:this.handleSuggestionClick,onSuggestionFocus:this.handleSuggestionFocus,onSuggestionKeyDown:this.handleSuggestionKeyDown,visible:this.state.isTyping}))},q.prototype.handler=function(z){},q.prototype.addTag=function(z,x){var n=this;void 0===x&&(x=!0);var h=[];z.split(",").forEach(function(d){(d=n.stripHTML(d.trim()))&&-1===n.props.activeTags.indexOf(d)&&-1===h.indexOf(d)&&h.push(d)});this.props.onChange(this.props.activeTags.concat(h));var e=document.getElementById("tags-input");
e&&x&&e.focus()},q.prototype.spliceTag=function(z){z=z.currentTarget||z.target;var x=Object(m.g)([],this.props.activeTags);x.splice(this.props.activeTags.indexOf(z.dataset.value),1);this.props.onChange(x)},q.prototype.handleInputBlur=function(z){var x=this;setTimeout(function(){var n=document.getElementById("tags-container");(null==n?0:n.contains(document.activeElement))||(x.addTag(z.target.value,!1),x.setState({value:"",hasBeenFocused:!0,isFocused:!1,isTyping:!1}))})},q.prototype.handleInputChange=
function(z){this.setState({value:z.target.value})},q.prototype.handleInputFocus=function(){this.setState({isFocused:!0})},q.prototype.handleInputKeyDown=function(z){switch(z.key){case "Enter":z.target.value&&(this.addTag(z.target.value),this.setState({value:"",isTyping:!1}),(x=document.getElementById("tags-input"))&&(x.focus(),x.value=""));break;case "Tab":var x;z.target.value&&(z.preventDefault(),this.addTag(z.target.value),this.setState({value:"",isTyping:!1}),(x=document.getElementById("tags-input"))&&
(x.focus(),x.value=""));break;case "Backspace":z.target.value||(z=Object(m.g)([],this.props.activeTags),z.pop(),this.props.onChange(z),this.setState({value:"",isTyping:!1}));break;case "Down":case "ArrowDown":x=document.getElementById("suggestion-0");this.state.isTyping&&x?(z.preventDefault(),x.focus()):this.setState({isTyping:!0});break;case "Up":case "ArrowUp":case "Left":case "ArrowLeft":this.focusElement(document.getElementById("tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;
default:this.setState({isTyping:!0})}},q.prototype.handleSuggestionBlur=function(z){z.preventDefault();this.setState({isFocused:!1,isTyping:!1})},q.prototype.handleSuggestionClick=function(z){z.preventDefault();this.addTag(z.target.dataset.value);this.setState({value:"",isFocused:!0,isTyping:!1});(z=document.getElementById("tags-input"))&&(z.focus(),z.value="")},q.prototype.handleSuggestionFocus=function(z){z.preventDefault();this.setState({isFocused:!0,isTyping:!0})},q.prototype.handleSuggestionKeyDown=
function(z){switch(z.preventDefault(),z.key){case "Up":case "ArrowUp":0===z.target["data-index"]?this.focusElement(document.getElementById("tags-input")):this.focusElement(document.getElementById("suggestion-"+(z.target["data-index"]-1)));break;case "Down":case "ArrowDown":(z=document.getElementById("suggestion-"+(z.target["data-index"]+1)))?z.focus():this.focusElement(document.getElementById("suggestion-0"));break;case "Tab":case "Enter":this.handleSuggestionClick(z);break;case "Escape":z.preventDefault(),
this.focusElement(document.getElementById("tags-input"))}},q.prototype.handleWidgetClick=function(z){(z=document.getElementById("tags-input"))&&z.focus()},q.prototype.handleTagInputKeyDown=function(z){var x=document.activeElement.getAttribute("title");if(x){var n=this.props.activeTags.indexOf(x);switch(z.key){case "Left":case "ArrowLeft":this.focusElement(document.getElementById(0<n?"tag-"+this.props.activeTags[n-1]:"tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;case "Right":case "ArrowRight":this.focusElement(document.getElementById(n<
this.props.activeTags.length-1?"tag-"+this.props.activeTags[n+1]:"tag-"+this.props.activeTags[0]));break;case "Down":case "ArrowDown":this.focusElement(document.getElementById("tags-input"));break;case "Backspace":case "Delete":z=Object(m.g)([],this.props.activeTags),z.splice(this.props.activeTags.indexOf(x),1),this.props.onChange(z),this.focusElement(document.getElementById("tag-"+this.props.activeTags[n<this.props.activeTags.length-1?n+1:n-1]))}}},q.prototype.focusElement=function(z){z&&z.focus()},
q.prototype.stripHTML=function(z){return z&&z.replace(/<(?:.|\s)*?>/g,"")},q}(p.Component);y["default"]=t}})})},"arcgisonline/sharing/dijit/Editor":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/Editor dijit/_editor/_Plugin dijit/form/ToggleButton".split(" "),function(T,J,p,y,t,m,f){function g(l){return new m["default"]({buttonClass:f["default"],command:l.name})}y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);T=function(){function l(u,
q){this.declaredClass="arcgisonline.sharing.dijit.Editor"}return l=p.__decorate([y["default"](t["default"])],l)}();m["default"].registry=p.__assign(p.__assign({},m["default"].registry),{insertOrderedList:g,insertUnorderedList:g,justifyCenter:g,justifyFull:g,justifyLeft:g,justifyRight:g});return T})},"dojox/uuid/generateRandomUuid":function(){define(["./_base"],function(){dojox.uuid.generateRandomUuid=function(){function T(){for(var m=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>m.length;)m=
"0"+m;return m}var J=T(),p=T();p=p.substring(0,4)+"-4"+p.substring(5,8);var y=T();y="8"+y.substring(1,4)+"-"+y.substring(4,8);var t=T();return(J+"-"+p+"-"+y+t).toLowerCase()};return dojox.uuid.generateRandomUuid})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(T){T.getObject("uuid",!0,dojox);dojox.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";dojox.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};dojox.uuid.variant=
{NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};dojox.uuid.assert=function(J,p){if(!J)throw p||(p="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(p);};dojox.uuid.generateNilUuid=function(){return dojox.uuid.NIL_UUID};dojox.uuid.isValid=function(J){J=J.toString();var p=T.isString(J)&&36==J.length&&J==J.toLowerCase();if(p){J=J.split("-");p=5==J.length&&8==J[0].length&&4==J[1].length&&4==J[2].length&&4==J[3].length&&12==J[4].length;for(var y in J){var t=
parseInt(J[y],16);p=p&&isFinite(t)}}return p};dojox.uuid.getVariant=function(J){if(!dojox.uuid._ourVariantLookupTable){var p=dojox.uuid.variant,y=[];y[0]=p.NCS;y[1]=p.NCS;y[2]=p.NCS;y[3]=p.NCS;y[4]=p.NCS;y[5]=p.NCS;y[6]=p.NCS;y[7]=p.NCS;y[8]=p.DCE;y[9]=p.DCE;y[10]=p.DCE;y[11]=p.DCE;y[12]=p.MICROSOFT;y[13]=p.MICROSOFT;y[14]=p.UNKNOWN;y[15]=p.UNKNOWN;dojox.uuid._ourVariantLookupTable=y}J=J.toString();J=J.charAt(19);J=parseInt(J,16);dojox.uuid.assert(0<=J&&16>=J);return dojox.uuid._ourVariantLookupTable[J]};
dojox.uuid.getVersion=function(J){dojox.uuid.assert(dojox.uuid.getVariant(J)==dojox.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");J=J.toString();J=J.charAt(14);return parseInt(J,16)};dojox.uuid.getNode=function(J){dojox.uuid.assert(dojox.uuid.getVersion(J)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");J=J.toString();return J.split("-")[4]};dojox.uuid.getTimestamp=function(J,p){dojox.uuid.assert(dojox.uuid.getVersion(J)==dojox.uuid.version.TIME_BASED,
"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");J=J.toString();p||(p=null);switch(p){case "string":case String:return dojox.uuid.getTimestamp(J,Date).toUTCString();case "hex":var y=J.split("-"),t=y[0],m=y[1];y=y[2];y=y.slice(1);t=y+m+t;dojox.uuid.assert(15==t.length);return t;case null:case "date":case Date:return y=J.split("-"),t=parseInt(y[0],16),m=parseInt(y[1],16),y=(parseInt(y[2],16)&4095)<<16,y=4294967296*(y+m),y+=t,new Date(y/1E4-122192928E5);default:dojox.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+
p)}};return dojox.uuid})},"arcgisonline/pages/dijit/CategoryPicker":function(){define("require exports tslib dojo/has dojo/topic dojo/query dojo/string dojo/dom-class dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../utils/categories ../utils/formatters ../utils/icons dojo/text!./CategoryPicker/templates/CategoryPicker.html dojo/text!./CategoryPicker/templates/Category.html dojo/text!./CategoryPicker/templates/CategoryGroup.html dojo/text!./CategoryPicker/templates/CategoryChip.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dom ../../esriGeowConfig esri/Evented".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=p.__importDefault(v);
return function(){function B(C,A){var E=this;this.templateString=h["default"];this.i18n=b["default"];this.icons=n["default"];this.defaultText="";this.categoriesLimit=20;this.globalClickListener=function(F){F=F.target;F.classList.contains("js-add-category-dropdown-link")||F.classList.contains("js-add-category-dropdown-button")||F.classList.contains("js-add-category-input")||E.closeCategoryDropdown()}}B.prototype.postMixInProperties=function(){var C=this,A,E,F;this.inherited(arguments);this.rootNode=
z["default"].getRootNode(this.schema);this.schema=(null===(E=null===(A=this.schema)||void 0===A?void 0:A[0])||void 0===E?void 0:E.categories)||[];this.categories=(null===(F=this.categories)||void 0===F?void 0:F.map(function(w){return C.removeRoot(w)}))||[];this.alwaysOpen=this.alwaysOpen||!1;this.categorySortHash=z["default"].getSchemaOrder(this.schema)};B.prototype.startup=function(){var C,A;this.inherited(arguments);if(null===(C=r["default"].portal)||void 0===C?0:C.maxCategoriesPerItem)this.categoriesLimit=
null===(A=r["default"].portal)||void 0===A?void 0:A.maxCategoriesPerItem;this.domNode.querySelector(".js-add-category-error").textContent=f["default"].substitute(b["default"].contentCategories.addCategoryError,{number:this.categoriesLimit});this.setCategories(this.categories);this.addEventListeners()};B.prototype.hideError=function(){m["default"](".js-add-category-error",this.domNode).removeClass("is-active")};B.prototype.setCategories=function(C,A){var E=this;C.map(function(F){return A?E.removeRoot(F):
F}).filter(function(F){return E.categorySortHash[F]});this.categories=C.map(function(F){return A?E.removeRoot(F):F}).filter(function(F){return E.categorySortHash[F]});this.rebuildCategoryChips();this.buildCategoryDropdown();this.alwaysOpen&&this.domNode.classList.add("category-picker--always-open")};B.prototype.getCategories=function(C){var A=C?this.rootNode:"";return this.categories.map(function(E){return""+A+E})};B.prototype.removeCategory=function(C,A){var E=this,F;this.categories.length<=this.categoriesLimit&&
k["default"].forEachNode(this.domNode.querySelectorAll(".js-add-category-error"),function(H){return H.classList.remove("is-active")});var w=this.domNode.querySelector(".js-category-chip[data-category-name\x3d'"+C+"']"),D=this.domNode.querySelector(".js-category-picker-item[data-category-path\x3d'"+C+"']"),G=D&&k["default"].querySelectorAllAsArray(".js-category-picker-item.is-active",D);G=null===G||void 0===G?void 0:G.map(function(H){return H.getAttribute("data-category-path")});if(-1<this.categories.indexOf(C)||
0<(null===G||void 0===G?void 0:G.length))null===(F=null===w||void 0===w?void 0:w.parentNode)||void 0===F?void 0:F.removeChild(w),this.categories=this.categories.filter(function(H){return H!==C}),D.classList.remove("is-active"),G.forEach(function(H){E.removeCategory(H)}),A&&t["default"].publish("categories/update"),this.emit("change",this.categories),this.rebuildCategoryChips();this.buildCategoryDropdown()};B.prototype.addCategory=function(C,A){if(0>this.categories.indexOf(C))if(this.categories=this.categories.filter(function(D){return 0>
C.indexOf(D+"/")}),this.categories.length<this.categoriesLimit){this.categories.push(C);var E=this.domNode.querySelector('.js-category-picker-item[data-category-path\x3d"'+C+'"]'),F=0<m["default"](E.parentElement).closest(".js-category-picker-item").length,w=[E];if(F)for(;E.parentElement.parentElement.classList.contains("js-category-picker-item");)E=E.parentElement.parentElement,w.push(E);w.forEach(function(D){return D.classList.add("is-active")});A&&t["default"].publish("categories/update");this.emit("change",
this.categories);this.rebuildCategoryChips()}else k["default"].querySelectorAllAsArray(".js-add-category-error",this.domNode).forEach(function(D){return D.classList.add("is-active")})};B.prototype.disable=function(){this.domNode.classList.add("category-picker--disabled")};B.prototype.enable=function(){this.domNode.classList.remove("category-picker--disabled")};B.prototype.buildCategoryDropdown=function(){if(this.domNode){var C=this.domNode.querySelector(".js-add-category-dropdown-menu");C&&(C.innerHTML=
this.categoriesToDom(this.schema,"",!0))}};B.prototype.categoriesToDom=function(C,A,E){var F=this;C=C.reduce(function(w,D){var G=A?A+"/"+D.title:"/"+D.title,H=D.categories?F.categoriesToDom(D.categories,G):"",M=G===F.selectedCategory?"is-selected":"",R=-1<F.categories.indexOf(G)||0<F.categories.filter(function(N){return-1<N.indexOf(G+"/")}).length;return w+f["default"].substitute(e["default"],{title:D.title,children:H,path:G,isActive:R?"is-active":"",isSelected:M,icons:n["default"]})},"");return f["default"].substitute(d["default"],
{categories:C,icons:n["default"],role:E?"tree":"group"})};B.prototype.addEventListeners=function(){this.inherited(arguments);this.own(m["default"](".js-add-category-dropdown-menu",this.domNode).on("click",this.treeLinkClick.bind(this)),m["default"](".js-category-chip-wrap",this.domNode).on("click",this.categoryChipClick.bind(this)),m["default"](".js-add-category-dropdown-button",this.domNode).on("click",this.toggleCategoryDropdown.bind(this)),m["default"](".js-add-category-input",this.domNode).on("keydown",
this.addCategoryKeyDown.bind(this)),m["default"](".js-add-category-input",this.domNode).on("keyup",this.addCategoryKeyUp.bind(this)))};B.prototype.treeLinkClick=function(C){var A,E=C.target;g["default"].contains(E,"js-add-category-dropdown-link")&&(C.preventDefault(),C=E.getAttribute("data-category-path"),E.parentNode.classList.contains("is-active")?this.removeCategory(C,!0):this.addCategory(C,!0),null===(A=this.domNode.querySelector(".js-add-category-input"))||void 0===A?void 0:A.focus())};B.prototype.categoryChipClick=
function(C){C.preventDefault();C=C.target;g["default"].contains(C,"js-category-chip-remove")&&(C=C.getAttribute("data-category-name"),this.removeCategory(C,!0))};B.prototype.toggleCategoryDropdown=function(){this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")?this.closeCategoryDropdown():this.openCategoryDropdown()};B.prototype.openCategoryDropdown=function(){var C=this.domNode.querySelector(".js-add-category-input"),A=this.domNode.querySelector(".js-add-category-dropdown");
C.value="";A.classList.add("is-active");C.focus();window.addEventListener("click",this.globalClickListener);if(y["default"]("trident")||y["default"]("edge"))C=this.domNode.closest(".dijitContentPane"),this.originalScrollTop&&this.originalScrollTop!==C.scrollTop?C.scrollTop=this.originalScrollTop:(this.originalScrollTop=C.scrollTop,C.scrollTop+=2)};B.prototype.closeCategoryDropdown=function(){this.alwaysOpen||(k["default"].querySelectorAllAsArray(".js-add-category-dropdown",this.domNode).forEach(function(C){return C.classList.remove("is-active")}),
this.selectedCategory=null);window.removeEventListener("click",this.globalClickListener);this.buildCategoryDropdown()};B.prototype.addCategoryKeyDown=function(C){9===C.keyCode?this.closeCategoryDropdown():13===C.keyCode&&this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")&&C.preventDefault()};B.prototype.addCategoryKeyUp=function(C){var A,E,F=C.keyCode,w=null===(A=C.target)||void 0===A?void 0:A.value;A=k["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",
this.domNode);var D=k["default"].querySelectorAllAsArray(".js-category-picker-item",this.domNode);k["default"].hideNodes(A);k["default"].hideNodes(D);var G=function(H){return-1<H.getAttribute("data-category-path").toLowerCase().indexOf(w.toLowerCase())};D=A.filter(function(H){var M=G(H);H=0<k["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",H.parentNode).filter(G).length;return M||H}).map(function(H){var M;H.classList.remove("hide");null===(M=H.parentNode)||void 0===M?void 0:M.classList.remove("hide");
return H});A=this.domNode.querySelector(".js-add-category-dropdown-link.is-selected");switch(F){case 27:this.closeCategoryDropdown();break;case 13:C.preventDefault();A&&(F=A.getAttribute("data-category-path"),(null===(E=A.parentNode)||void 0===E?0:E.classList.contains("is-active"))?this.removeCategory(F,!0):this.addCategory(F,!0),A.classList.add("is-selected"));break;case 40:case 38:C.preventDefault(),C=D.indexOf(A),E=D[C+1]?D[C+1]:D[0],C=D[C-1]?D[C-1]:D[D.length-1],F=40===F?E:C,A&&A.classList.remove("is-selected"),
g["default"].add(F,"is-selected"),this.selectedCategory=F.getAttribute("data-category-path")}};B.prototype.rebuildCategoryChips=function(){var C=this,A=this.domNode.querySelector(".js-category-chip-wrap");l["default"].empty(A);var E=this.categories.sort(function(F,w){return C.categorySortHash[F]-C.categorySortHash[w]});E.forEach(function(F){var w=f["default"].substitute(b["default"].contentCategories.removeCategoryX,{category:F});F=f["default"].substitute(a["default"],{category:F,removeText:w,icons:n["default"]},
null,x["default"]);l["default"].place(F,A)});this.defaultText&&k["default"].showHide(this.defaultTextContainer,0===E.length)};B.prototype.removeRoot=function(C){return C.replace(new RegExp(this.rootNode+"/"),"/")};return B=p.__decorate([c["default"](q["default"],u["default"],v["default"])],B)}()})},"arcgisonline/pages/utils/categories":function(){define("require exports tslib ../../esriGeowConfig ../../sharing/util dojo/Deferred".split(" "),function(T,J,p,y,t,m){function f(n,h){var e=new m["default"],
d=[];y["default"].self.hasCategorySchema&&h.length?(n=g([],n),n.forEach(function(a){var b={};b[a]={categories:h};d.push(b)}),t["default"].request({url:y["default"].restBaseUrl+"content/updateItems",content:{items:JSON.stringify(d)}},{usePost:!0}).then(function(){return e.resolve()},function(){return e.resolve()})):e.resolve();return e}function g(n,h){var e=[].concat(n||[]);(null!==h&&void 0!==h?h:[]).forEach(function(d){d&&-1===e.indexOf(d)&&e.push(d)});return e}function l(n){delete n.isOpen;delete n.depth;
delete n.order;n.categories&&(n.categories=n.categories.map(l));return n}function u(n,h,e){void 0===h&&(h="");void 0===e&&(e={});e.__total=e.__total||0;n.forEach(function(d){var a=h+"/"+d.title;a=a.trim();e.__total+=1;e[a]=e.__total;d.categories&&u(d.categories,a,e)});return e}function q(n){var h;(n=null===(h=null===n||void 0===n?void 0:n[0])||void 0===h?void 0:h.title)&&"/"!==n.charAt(0)&&(n="/"+n);return n||"/Categories"}function z(n,h){return{id:n.id,categories:h?n.groupCategories:n.categories}}
function x(n){var h=n.group;n=n.portal;return t["default"].request({url:y["default"].restBaseUrl+(h?"content/groups/"+h.id+"/search":"search"),content:{num:0,q:h?"":"orgid:"+n.id,countFields:h?"groupCategories":"categories",countSize:200}}).then(function(e){return e.aggregations.counts[0].fieldValues})}Object.defineProperty(J,"__esModule",{value:!0});J.getCounts=J.simplifyItemObject=J.getRootNode=J.getSchemaOrder=J.cleanSchema=J.concatUniqueIds=J.setItemCategories=void 0;y=p.__importDefault(y);t=
p.__importDefault(t);m=p.__importDefault(m);J.setItemCategories=f;J.concatUniqueIds=g;J.cleanSchema=l;J.getSchemaOrder=u;J.getRootNode=q;J.simplifyItemObject=z;J.getCounts=x;J["default"]={setItemCategories:f,concatUniqueIds:g,cleanSchema:l,getSchemaOrder:u,getRootNode:q,simplifyItemObject:z,getCounts:x}})},"dijit/_editor/plugins/FontChoice":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/i18n dojo/_base/lang dojo/string dojo/store/Memory ../../registry ../../_Widget ../../_TemplatedMixin ../../_WidgetsInTemplateMixin ../../form/FilteringSelect ../_Plugin ../range dojo/i18n!../nls/FontChoice".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){T=p("dijit._editor.plugins._FontDropDown",[u,q,z],{label:"",plainText:!1,templateString:"\x3cspan style\x3d'white-space: nowrap' class\x3d'dijit dijitReset dijitInline'\x3e\x3clabel class\x3d'dijitLeft dijitInline' for\x3d'${selectId}'\x3e${label}\x3c/label\x3e\x3cinput data-dojo-type\x3d'../../form/FilteringSelect' required\x3d'false' data-dojo-props\x3d'labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' class\x3d'${comboClass}' tabIndex\x3d'-1' id\x3d'${selectId}' data-dojo-attach-point\x3d'select' value\x3d''/\x3e\x3c/span\x3e",
contextRequire:T,postMixInProperties:function(){this.inherited(arguments);this.strings=t.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=l.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments)},postCreate:function(){this.select.set("store",new g({idProperty:"value",data:J.map(this.values,function(c){var k=this.strings[c]||c;return{label:this.getLabel(c,k),name:k,value:c}},this)}));this.select.set("value",
"",!1);this.disabled=this.select.get("disabled")},_setValueAttr:function(c,k){k=!1!==k;this.select.set("value",0>J.indexOf(this.values,c)?"":c,k);k||(this.select._lastValueReported=null)},_getValueAttr:function(){return this.select.get("value")},focus:function(){this.select.focus()},_setDisabledAttr:function(c){this._set("disabled",c);this.select.set("disabled",c)}});var e=p("dijit._editor.plugins._FontNameDropDown",T,{generic:!1,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){this.values||
(this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"]);this.inherited(arguments)},getLabel:function(c,k){return this.plainText?k:"\x3cdiv style\x3d'font-family: "+c+"'\x3e"+k+"\x3c/div\x3e"},_normalizeFontName:function(c){var k=this.values;if(!c||!k)return c;var r=c.split(",");if(1<r.length)for(var v=0,B=r.length;v<B;v++){var C=f.trim(r[v]);if(-1<J.indexOf(k,C))return C}return c},_setValueAttr:function(c,k){k=!1!==
k;c=this._normalizeFontName(c);this.generic&&(c={Arial:"sans-serif",Helvetica:"sans-serif",Myriad:"sans-serif",Times:"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive",Courier:"monospace","Courier New":"monospace",Papyrus:"fantasy","Estrangelo Edessa":"cursive",Gabriola:"fantasy"}[c]||c);this.inherited(arguments,[c,k])}}),d=p("dijit._editor.plugins._FontSizeDropDown",T,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(c,
k){return this.plainText?k:"\x3cfont size\x3d"+c+"'\x3e"+k+"\x3c/font\x3e"},_setValueAttr:function(c,k){k=!1!==k;c.indexOf&&-1!=c.indexOf("px")&&(c={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[parseInt(c,10)]||c);this.inherited(arguments,[c,k])}}),a=p("dijit._editor.plugins._FormatBlockDropDown",T,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:"noFormat p h1 h2 h3 pre".split(" "),postCreate:function(){this.inherited(arguments);this.set("value","noFormat",!1)},getLabel:function(c,k){return this.plainText||
"noFormat"==c?k:"\x3c"+c+"\x3e"+k+"\x3c/"+c+"\x3e"},_execCommand:function(c,k,r){if("noFormat"===r){var v;if((k=h.getSelection(c.window))&&0<k.rangeCount&&(r=k.getRangeAt(0),r)){k=r.startContainer;for(v=r.endContainer;k&&k!==c.editNode&&k!==c.document.body&&1!==k.nodeType;)k=k.parentNode;for(;v&&v!==c.editNode&&v!==c.document.body&&1!==v.nodeType;)v=v.parentNode;var B=m.hitch(this,function(F,w){if(F.childNodes&&F.childNodes.length){var D;for(D=0;D<F.childNodes.length;D++){var G=F.childNodes[D];if(1==
G.nodeType&&c.selection.inSelection(G)){var H=G.tagName?G.tagName.toLowerCase():"";-1!==J.indexOf(this.values,H)&&w.push(G);B(G,w)}}}});r=m.hitch(this,function(F){if(F&&F.length){for(c.beginEditing();F.length;)this._removeFormat(c,F.pop());c.endEditing()}});var C=[];if(k==v){for(v=k;v&&v!==c.editNode&&v!==c.document.body;){if(1==v.nodeType){var A=v.tagName?v.tagName.toLowerCase():"";if(-1!==J.indexOf(this.values,A)){var E=v;break}}v=v.parentNode}B(k,C);E&&(C=[E].concat(C))}else for(v=k;c.selection.inSelection(v);)1==
v.nodeType&&(A=v.tagName?v.tagName.toLowerCase():"",-1!==J.indexOf(this.values,A)&&C.push(v),B(v,C)),v=v.nextSibling;r(C);c.onDisplayChanged()}}else c.execCommand(k,r)},_removeFormat:function(c,k){if(c.customUndo){for(;k.firstChild;)y.place(k.firstChild,k,"before");k.parentNode.removeChild(k)}else{c.selection.selectElementChildren(k);var r=c.selection.getSelectedHtml();c.selection.selectElement(k);c.execCommand("inserthtml",r||"")}}}),b=p("dijit._editor.plugins.FontChoice",n,{useDefaultCommand:!1,
_initButton:function(){var c={fontName:e,fontSize:d,formatBlock:a}[this.command],k=this.params;this.params.custom&&(k.values=this.params.custom);var r=this.editor;this.button=new c(m.delegate({dir:r.dir,lang:r.lang},k));this.own(this.button.select.on("change",m.hitch(this,function(v){this.editor.focused&&this.editor.focus();"fontName"==this.command&&-1!=v.indexOf(" ")&&(v="'"+v+"'");this.button._execCommand?this.button._execCommand(this.editor,this.command,v):this.editor.execCommand(this.command,
v)})))},updateState:function(){var c=this.editor,k=this.command;if(c&&c.isLoaded&&k.length&&this.button){var r=this.get("disabled");this.button.set("disabled",r);if(!r){try{var v=c.queryCommandValue(k)||""}catch(C){v=""}(r=m.isString(v)&&(v.match(/'([^']*)'/)||v.match(/"([^"]*)"/)))&&(v=r[1]);"fontSize"!==k||v||(v=3);if("formatBlock"===k)if(v&&"p"!=v)0>J.indexOf(this.button.values,v)&&(v="noFormat");else{v=null;if((k=h.getSelection(this.editor.window))&&0<k.rangeCount&&(k=k.getRangeAt(0)))var B=k.endContainer;
for(;B&&B!==c.editNode&&B!==c.document;){if((k=B.tagName?B.tagName.toLowerCase():"")&&-1<J.indexOf(this.button.values,k)){v=k;break}B=B.parentNode}v||(v="noFormat")}v!==this.button.get("value")&&this.button.set("value",v,!1)}}}});J.forEach(["fontName","fontSize","formatBlock"],function(c){n.registry[c]=function(k){return new b({command:c,plainText:k.plainText})}});b._FontDropDown=T;b._FontNameDropDown=e;b._FontSizeDropDown=d;b._FormatBlockDropDown=a;return b})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(T,J,p,y,t){return T("dijit.form.FilteringSelect",[y,t],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(m,f,g,l){f&&f[this.searchAttr]!==this._lastQuery||!f&&m.length&&this.store.getIdentity(m[0])!=this._lastQuery||
(m.length?this.set("item",m[0],l):this.set("value","",l||void 0===l&&!this.focused,this.textbox.value,null))},_openResultList:function(m,f,g){f[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(m,f,g,l){this._onChangeActive||(f=null);if(void 0===l){if(null===m||""===m)if(m="",!J.isString(g)){this._setDisplayedValueAttr(g||"",f);
return}var u=this;this._lastQuery=m;p(this.store.get(m),function(q){u._callbackSetLabel(q?[q]:[],void 0,void 0,f)})}else this.valueNode.value=m,this.inherited(arguments,[m,f,g,l])},_setItemAttr:function(m,f,g){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(m){return m.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(m,f){null==m&&(m="");if(!this._created){if(!("displayedValue"in this.params))return;f=!1}if(this.store){this.closeDropDown();
var g=J.clone(this.query),l=this._getDisplayQueryString(m);if(this.store._oldAPI)var u=l;else u=this._patternToRegExp(l),u.toString=function(){return l};this._lastQuery=g[this.searchAttr]=u;this._lastDisplayedValue=this.textbox.value=m;this._set("displayedValue",m);var q=this,z={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};J.mixin(z,this.fetchProperties);this._fetchHandle=this.store.query(g,z);p(this._fetchHandle,function(x){q._fetchHandle=null;q._callbackSetLabel(x||[],g,z,f)},function(x){q._fetchHandle=
null})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/_editor/plugins/TextColor":function(){define("require dojo/colors dojo/_base/declare dojo/_base/lang ../_Plugin ../../form/DropDownButton".split(" "),function(T,J,p,y,t,m){var f=p("dijit._editor.plugins.TextColor",t,{buttonClass:m,colorPicker:"dijit/ColorPalette",useDefaultCommand:!1,_initButton:function(){this.command=this.name;this.inherited(arguments);var g=this;this.button.loadDropDown=function(l){function u(q){g.button.dropDown=
new q({dir:g.editor.dir,ownerDocument:g.editor.ownerDocument,value:g.value,onChange:function(z){g.editor.execCommand(g.command,z)},onExecute:function(){g.editor.execCommand(g.command,this.get("value"))}});l()}"string"==typeof g.colorPicker?T([g.colorPicker],u):u(g.colorPicker)}},updateState:function(){var g=this.editor,l=this.command;if(g&&g.isLoaded&&l.length){if(this.button){var u=this.get("disabled");this.button.set("disabled",u);if(u)return;try{var q=g.queryCommandValue(l)||""}catch(z){q=""}}""==
q&&(q="#000000");"transparent"==q&&(q="#ffffff");"string"==typeof q?-1<q.indexOf("rgb")&&(q=J.fromRgb(q).toHex()):(q=((q&255)<<16|q&65280|(q&16711680)>>>16).toString(16),q="#000000".slice(0,7-q.length)+q);this.value=q;(g=this.button.dropDown)&&g.get&&q!==g.get("value")&&g.set("value",q,!1)}}});t.registry.foreColor=function(g){return new f(g)};t.registry.hiliteColor=function(g){return new f(g)};return f})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],
function(T,J,p,y){var t={};J.setObject("dojo.colors",t);var m=function(g,l,u){0>u&&++u;1<u&&--u;var q=6*u;return 1>q?g+(l-g)*q:1>2*u?l:2>3*u?g+(l-g)*(2/3-u)*6:g};T.colorFromRgb=p.fromRgb=function(g,l){var u=g.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(u){var q=u[2].split(/\s*,\s*/),z=q.length;u=u[1];if("rgb"==u&&3==z||"rgba"==u&&4==z)return u=q[0],"%"==u.charAt(u.length-1)?(u=y.map(q,function(h){return 2.56*parseFloat(h)}),4==z&&(u[3]=q[3]),p.fromArray(u,l)):p.fromArray(q,l);if("hsl"==
u&&3==z||"hsla"==u&&4==z){u=(parseFloat(q[0])%360+360)%360/360;var x=parseFloat(q[1])/100,n=parseFloat(q[2])/100;x=.5>=n?n*(x+1):n+x-n*x;n=2*n-x;u=[256*m(n,x,u+1/3),256*m(n,x,u),256*m(n,x,u-1/3),1];4==z&&(u[3]=q[3]);return p.fromArray(u,l)}}return null};var f=function(g,l,u){g=Number(g);return isNaN(g)?u:g<l?l:g>u?u:g};p.prototype.sanitize=function(){this.r=Math.round(f(this.r,0,255));this.g=Math.round(f(this.g,0,255));this.b=Math.round(f(this.b,0,255));this.a=f(this.a,0,1);return this};t.makeGrey=
p.makeGrey=function(g,l){return p.fromArray([g,g,g,l])};J.mixin(p.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],
darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,
105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,
128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,
112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,
99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return p})},"arcgisonline/pages/dijit/InlineEdit/ViewSource":function(){define("require exports tslib ../../../tsutils/declareDecorator dijit/_editor/_Plugin dijit/_editor/plugins/ViewSource esri/libs/sanitizer/Sanitizer".split(" "),function(T,J,p,y,t,m,f){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);var g=function(){function l(u){this.declaredClass=
"arcgisonline.pages.dijit.InlineEdit.ViewSource";this.sanitizer=new f["default"]}l.prototype._filter=function(u){u&&(u=this.sanitizer.sanitize(u),this.stripScripts&&(u=this._stripScripts(u)),this.stripComments&&(u=this._stripComments(u)),this.stripIFrames&&(u=this._stripIFrames(u)),this.stripEventHandlers&&(u=this._stripEventHandlers(u)));return u};return l=p.__decorate([y["default"](m["default"])],l)}();t["default"].registry.viewSourceSanitize=t["default"].registry.viewsourcesanitize=function(l){return new g({readOnly:"readOnly"in
l?l.readOnly:!1,stripComments:"stripComments"in l?l.stripComments:!0,stripScripts:"stripScripts"in l?l.stripScripts:!0,stripIFrames:"stripIFrames"in l?l.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in l?l.stripEventHandlers:!0})};return g})},"dijit/_editor/plugins/ViewSource":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/window ../../focus ../_Plugin ../../form/ToggleButton ../.. ../../registry dojo/i18n!../nls/commands".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){var b=p("dijit._editor.plugins.ViewSource",h,{stripScripts:!0,stripComments:!0,stripIFrames:!0,stripEventHandlers:!0,readOnly:!1,_fsPlugin:null,toggle:function(){z("webkit")&&(this._vsFocused=!0);this.button.set("checked",!this.button.get("checked"))},_initButton:function(){var c=g.getLocalization("dijit._editor","commands"),k=this.editor;this.button=new e({label:c.viewSource,ownerDocument:k.ownerDocument,dir:k.dir,lang:k.lang,showLabel:!1,iconClass:this.iconClassPrefix+
" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:u.hitch(this,"_showSource")});this.button.set("readOnly",!1)},setEditor:function(c){this.editor=c;this._initButton();this.removeValueFilterHandles();this._setValueFilterHandle=J.before(this.editor,"setValue",u.hitch(this,function(k){return[this._filter(k)]}));this._getValueFilterHandle=J.after(this.editor,"getValue",u.hitch(this,function(k){return this._filter(k)}));this.editor.addKeyHandler(l.F12,!0,!0,u.hitch(this,function(k){this.button.focus();
this.toggle();k.stopPropagation();k.preventDefault();setTimeout(u.hitch(this,function(){this.editor.focused&&this.editor.focus()}),100)}))},_showSource:function(c){var k=this.editor,r=k._plugins;this._sourceShown=c;var v=this;try{this.sourceArea||this._createSourceView();if(c)k._sourceQueryCommandEnabled=k.queryCommandEnabled,k.queryCommandEnabled=function(C){return"viewsource"===C.toLowerCase()},this.editor.onDisplayChanged(),T.forEach(r,function(C){!C||C instanceof b||!C.isInstanceOf(h)||C.set("disabled",
!0)}),this._fsPlugin&&(this._fsPlugin._getAltViewNode=function(){return v.sourceArea}),this.sourceArea.value=k.get("value"),this.sourceArea.style.height=k.iframe.style.height,this.sourceArea.style.width=k.iframe.style.width,k.iframe.parentNode.style.position="relative",f.set(k.iframe,{position:"absolute",top:0,visibility:"hidden"}),f.set(this.sourceArea,{display:"block"}),this._resizeHandle=q(window,"resize",u.hitch(this,function(){var C=x.getBox(k.ownerDocument);"_prevW"in this&&"_prevH"in this&&
C.w===this._prevW&&C.h===this._prevH||(this._prevW=C.w,this._prevH=C.h,this._resizer&&(clearTimeout(this._resizer),delete this._resizer),this._resizer=setTimeout(u.hitch(this,function(){delete this._resizer;this._resize()}),10))})),setTimeout(u.hitch(this,this._resize),100),this.editor.onNormalizedDisplayChanged(),this.editor.__oldGetValue=this.editor.getValue,this.editor.getValue=u.hitch(this,function(){var C=this.sourceArea.value;return C=this._filter(C)}),this._setListener=J.after(this.editor,
"setValue",u.hitch(this,function(C){this.sourceArea.value=C||""}),!0);else{if(!k._sourceQueryCommandEnabled)return;this._setListener.remove();delete this._setListener;this._resizeHandle.remove();delete this._resizeHandle;this.editor.__oldGetValue&&(this.editor.getValue=this.editor.__oldGetValue,delete this.editor.__oldGetValue);k.queryCommandEnabled=k._sourceQueryCommandEnabled;if(!this._readOnly){var B=this.sourceArea.value;k.beginEditing();k.set("value",B);k.endEditing()}T.forEach(r,function(C){C&&
C.isInstanceOf(h)&&C.set("disabled",!1)});f.set(this.sourceArea,"display","none");f.set(k.iframe,{position:"relative",visibility:"visible"});delete k._sourceQueryCommandEnabled;this.editor.onDisplayChanged()}setTimeout(u.hitch(this,function(){var C=k.domNode.parentNode;C&&(C=a.getEnclosingWidget(C))&&C.resize&&C.resize();k.resize()}),300)}catch(C){}},updateState:function(){this.button.set("disabled",this.get("disabled"))},_resize:function(){var c=this.editor,k=c.getHeaderHeight(),r=c.getFooterHeight(),
v=m.position(c.domNode),B=m.getPadBorderExtents(c.iframe.parentNode),C=m.getMarginExtents(c.iframe.parentNode),A=m.getPadBorderExtents(c.domNode),E=v.w-A.w;v=v.h-(k+A.h+r);this._fsPlugin&&this._fsPlugin.isFullscreen&&(c=x.getBox(c.ownerDocument),E=c.w-A.w,v=c.h-(k+A.h+r));m.setMarginBox(this.sourceArea,{w:Math.round(E-(B.w+C.w)),h:Math.round(v-(B.h+C.h))})},_createSourceView:function(){var c=this.editor,k=c._plugins;this.sourceArea=t.create("textarea");this.readOnly&&(y.set(this.sourceArea,"readOnly",
!0),this._readOnly=!0);f.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});y.set(this.sourceArea,"aria-label",this.editor.id);t.place(this.sourceArea,c.iframe,"before");z("ie")&&c.iframe.parentNode.lastChild!==c.iframe&&f.set(c.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});c._viewsource_oldFocus=c.focus;var r=this;c.focus=function(){if(r._sourceShown)r.setSourceAreaCaret();else try{this._vsFocused?
(delete this._vsFocused,n.focus(c.editNode)):c._viewsource_oldFocus()}catch(C){}};var v,B;for(v=0;v<k.length;v++)if((B=k[v])&&("dijit._editor.plugins.FullScreen"===B.declaredClass||B.declaredClass===d._scopeName+"._editor.plugins.FullScreen")){this._fsPlugin=B;break}this._fsPlugin&&(this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode,this._fsPlugin._getAltViewNode=function(){return r._sourceShown?r.sourceArea:this._viewsource_getAltViewNode()});this.own(q(this.sourceArea,"keydown",
u.hitch(this,function(C){this._sourceShown&&C.keyCode==l.F12&&C.ctrlKey&&C.shiftKey&&(this.button.focus(),this.button.set("checked",!1),setTimeout(u.hitch(this,function(){c.focus()}),100),C.stopPropagation(),C.preventDefault())})))},_stripScripts:function(c){c&&(c=c.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,""),c=c.replace(/<\s*script\b([^<>]|\s)*>?/ig,""),c=c.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,""));return c},_stripComments:function(c){c&&(c=c.replace(/\x3c!--(.|\s){1,}?--\x3e/g,
""));return c},_stripIFrames:function(c){c&&(c=c.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,""));return c},_stripEventHandlers:function(c){if(c){var k=c.match(/<[a-z]+?\b(.*?on.*?(['"]).*?\2.*?)+>/gim);if(k)for(var r=0,v=k.length;r<v;r++){var B=k[r],C=B.replace(/\s+on[a-z]*\s*=\s*(['"])(.*?)\1/igm,"");c=c.replace(B,C)}}return c},_filter:function(c){c&&(this.stripScripts&&(c=this._stripScripts(c)),this.stripComments&&(c=this._stripComments(c)),this.stripIFrames&&(c=this._stripIFrames(c)),
this.stripEventHandlers&&(c=this._stripEventHandlers(c)));return c},removeValueFilterHandles:function(){this._setValueFilterHandle&&(this._setValueFilterHandle.remove(),delete this._setValueFilterHandle);this._getValueFilterHandle&&(this._getValueFilterHandle.remove(),delete this._getValueFilterHandle)},setSourceAreaCaret:function(){var c=this.sourceArea;n.focus(c);this._sourceShown&&!this.readOnly&&(c.setSelectionRange?c.setSelectionRange(0,0):this.sourceArea.createTextRange&&(c=c.createTextRange(),
c.collapse(!0),c.moveStart("character",-99999),c.moveStart("character",0),c.moveEnd("character",0),c.select()))},destroy:function(){this._resizer&&(clearTimeout(this._resizer),delete this._resizer);this._resizeHandle&&(this._resizeHandle.remove(),delete this._resizeHandle);this._setListener&&(this._setListener.remove(),delete this._setListener);this.removeValueFilterHandles();this.inherited(arguments)}});h.registry.viewSource=h.registry.viewsource=function(c){return new b({readOnly:"readOnly"in c?
c.readOnly:!1,stripComments:"stripComments"in c?c.stripComments:!0,stripScripts:"stripScripts"in c?c.stripScripts:!0,stripIFrames:"stripIFrames"in c?c.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in c?c.stripEventHandlers:!0})};return b})},"arcgisonline/sharing/dijit/LinkDialog":function(){define("require exports tslib dijit/_editor/_Plugin dijit/_editor/plugins/LinkDialog dojo/on ../util ../../pages/utils/validation ../../tsutils/declareDecorator dojo/i18n!../../nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);var q=function(){function x(n,h){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'hide'\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit/form/Select'\x3e\x3coption selected\x3d'selected' value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e"}
x.prototype._loadDropDown=function(){var n=this;this.inherited(arguments);var h=0,e=setInterval(function(){n._urlInput?(clearInterval(e),n._urlInput.isValid=function(){return!0}):15<h&&clearInterval(e);h++},1E3)};x.prototype._onOpenDialog=function(){this.inherited(arguments);var n=u["default"].linkDialog;this._urlInputError=document.getElementById(this._uniqueId+"_urlInputError");this.dropDown.contentsNode.parentNode.classList.add("link-container");var h=this.dropDown.containerNode;h.classList.add("text-left");
h.title=n.linkTitle;h.firstChild.textContent="";var e=h.children[0];e.className+="link-container__title font-size-1";e.style.cssText="";e.textContent=n.linkTitle;if(e=document.getElementById(this._uniqueId+"_textInputLabel"))e.innerHTML=n.text;if(e=document.getElementById(this._uniqueId+"_urlInputLabel"))e.innerHTML=n.url;this._setButton.set("label",n.update);n=h.querySelector("#"+this._uniqueId+"_textInput");var d=h.querySelector("#"+this._uniqueId+"_urlInput"),a=n.value;setTimeout(function(){a&&
d.focus()},150)};x.prototype._isValid=function(){var n=this._urlInput.get("value");if(!f["default"].isPortal()&&n.length&&-1<n.indexOf("http:"))return g["default"].setInvalidState(null,this._urlInputError,u["default"].common.httpNotSupported),!1;g["default"].clearState([this._urlInputError]);return!0};x.prototype._checkAndFixInput=function(){var n=this,h=this._urlInput.get("value");this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var e=
h,d=!1,a=!1;1<(null===e||void 0===e?void 0:e.length)&&(e=e.trim(),0!==e.indexOf("mailto:")&&(0<e.indexOf("/")?-1===e.indexOf("://")&&"/"!==e.charAt(0)&&e.indexOf("./")&&0!==e.indexOf("../")&&n._hostRxp.test(e)&&(d=!0):n._userAtRxp.test(e)&&(a=!0)));d&&-1===e.indexOf("{expression/")&&-1===e.indexOf("{relationships/")&&n._urlInput.set("value","http://"+e);a&&n._urlInput.set("value","mailto:"+e);n._setButton.set("disabled",!n._isValid())},250)};return x=p.__decorate([l["default"](t["default"])],x)}(),
z=function(){function x(n,h){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e";
this.htmlTemplate='\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e';this.tag="img"}x.prototype._getCurrentValues=function(n){if((null===n||void 0===n?void 0:n.tagName.toLowerCase())===this.tag){var h=n.getAttribute("_djrealurl")||n.getAttribute("src");var e=n.getAttribute("alt");this.editor.selection.selectElement(n,!0)}else e=this.editor.selection.getSelectedText();return{urlInput:h||"",textInput:e||""}};x.prototype._onOpenDialog=function(){this.inherited(arguments);
var n=u["default"].linkDialog;this._urlInputError=document.getElementById(this._uniqueId+"_urlInputError");this.dropDown.contentsNode.parentNode.classList.add("link-container");var h=this.dropDown.containerNode;h.classList.add("text-left");h.title=n.imageTitle;h.firstChild.textContent="";h=h.children[0];h.className+="link-container__title font-size-1";h.style.cssText="";h.textContent=n.imageTitle;if(h=document.getElementById(this._uniqueId+"_textInputLabel"))h.innerHTML=n.description;if(h=document.getElementById(this._uniqueId+
"_urlInputLabel"))h.innerHTML=n.url;this._setButton.set("label",n.update)};x.prototype._isValid=function(){var n=this._urlInput.get("value");if(!f["default"].isPortal()&&n.length&&-1<n.indexOf("http:"))return g["default"].setInvalidState(null,this._urlInputError,u["default"].common.httpNotSupported),!1;g["default"].clearState([this._urlInputError]);return!0};x.prototype._connectTagEvents=function(){var n=this;this.inherited(arguments);this.editor.onLoadDeferred.then(function(){n.own(m["default"](n.editor.editNode,
"mousedown",n._selectTag.bind(n)))})};x.prototype._selectTag=function(n){if(null===n||void 0===n?0:n.target)n=n.target,(n.tagName?n.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(n)};x.prototype._checkValues=function(n){if(null===n||void 0===n?0:n.urlInput)n.urlInput=n.urlInput.replace(/"/g,"\x26quot;");if(null===n||void 0===n?0:n.textInput)n.textInput=n.textInput.replace(/"/g,"\x26quot;");return n};x.prototype._onDblClick=function(n){if(n&&n.target&&(n=n.target,(n.tagName?
n.tagName.toLowerCase():"")===this.tag&&n.src)){var h=this.editor;this.editor.selection.selectElement(n);h.onDisplayChanged();h._updateTimer&&(h._updateTimer.remove(),delete h._updateTimer);h.onNormalizedDisplayChanged();var e=this.button;setTimeout(function(){e.set("disabled",!1);e.loadAndOpenDropDown().then(function(){e.dropDown.focus&&e.dropDown.focus()})},10)}};return x=p.__decorate([l["default"](t["default"])],x)}();y["default"].registry.createEsriLink=function(x){return new q({command:"createLink"})};
y["default"].registry.insertEsriImage=function(x){return new z({command:"insertImage"})};q.ImgLinkDialog=z;return q})},"dijit/_editor/plugins/LinkDialog":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/query dojo/string ../_Plugin ../../form/DropDownButton ../range".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x){var n=p("dijit._editor.plugins.LinkDialog",q,{allowUnsafeHtml:!1,linkFilter:[[/</g,"\x26lt;"]],buttonClass:z,
useDefaultCommand:!1,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",
emailRegExp:"\x3c?(mailto\\:)([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*\x3e?",htmlTemplate:'\x3ca href\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" target\x3d"${targetSelect}"\x3e${textInput}\x3c/a\x3e',tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,
linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit.form.Select'\x3e\x3coption selected\x3d'selected' value\x3d'_self'\x3e${currentWindow}\x3c/option\x3e\x3coption value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3coption value\x3d'_top'\x3e${topWindow}\x3c/option\x3e\x3coption value\x3d'_parent'\x3e${parentWindow}\x3c/option\x3e\x3c/select\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
_initButton:function(){this.inherited(arguments);this.button.loadDropDown=m.hitch(this,"_loadDropDown");this._connectTagEvents()},_loadDropDown:function(e){T("dojo/i18n ../../TooltipDialog ../../registry ../../form/Button ../../form/Select ../../form/ValidationTextBox dojo/i18n!../../nls/common dojo/i18n!../nls/LinkDialog".split(" "),m.hitch(this,function(d,a,b){var c=this;this.tag="insertImage"==this.command?"img":"a";d=m.delegate(d.getLocalization("dijit","common",this.lang),d.getLocalization("dijit._editor",
"LinkDialog",this.lang));var k=this.dropDown=this.button.dropDown=new a({title:d[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:m.hitch(this,"setValue"),onOpen:function(){c._onOpenDialog();a.prototype.onOpen.apply(this,arguments)},onCancel:function(){setTimeout(m.hitch(c,"_onCloseDialog"),0)}});d.urlRegExp=this.urlRegExp;d.id=b.getUniqueId(this.editor.id);this._uniqueId=d.id;this._setContent(k.title+"\x3cdiv style\x3d'border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'\x3e\x3c/div\x3e"+
u.substitute(this.linkDialogTemplate,d));k.startup();this._urlInput=b.byId(this._uniqueId+"_urlInput");this._textInput=b.byId(this._uniqueId+"_textInput");this._setButton=b.byId(this._uniqueId+"_setButton");this.own(b.byId(this._uniqueId+"_cancelButton").on("click",m.hitch(this.dropDown,"onCancel")));this._urlInput&&this.own(this._urlInput.on("change",m.hitch(this,"_checkAndFixInput")));this._textInput&&this.own(this._textInput.on("change",m.hitch(this,"_checkAndFixInput")));this._urlRegExp=new RegExp("^"+
this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=m.hitch(this,function(){var r=this._urlInput.get("value");return this._urlRegExp.test(r)||this._emailRegExp.test(r)});this.own(f(k.domNode,"keydown",m.hitch(this,m.hitch(this,function(r){!r||r.keyCode!=t.ENTER||r.shiftKey||r.metaKey||r.ctrlKey||r.altKey||this._setButton.get("disabled")||(k.onExecute(),k.execute(k.get("value")))}))));e()}))},_checkAndFixInput:function(){var e=this,d=this._urlInput.get("value");
this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var a=d,b=!1,c=!1;a&&1<a.length&&(a=m.trim(a),0!==a.indexOf("mailto:")&&(0<a.indexOf("/")?-1===a.indexOf("://")&&"/"!==a.charAt(0)&&a.indexOf("./")&&0!==a.indexOf("../")&&e._hostRxp.test(a)&&(b=!0):e._userAtRxp.test(a)&&(c=!0)));b&&e._urlInput.set("value","http://"+a);c&&e._urlInput.set("value","mailto:"+a);e._setButton.set("disabled",!e._isValid())},250)},_connectTagEvents:function(){this.editor.onLoadDeferred.then(m.hitch(this,
function(){this.own(f(this.editor.editNode,"mouseup",m.hitch(this,"_onMouseUp")));this.own(f(this.editor.editNode,"dblclick",m.hitch(this,"_onDblClick")))}))},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid()},_setContent:function(e){this.dropDown.set({parserScope:"dojo",content:e})},_checkValues:function(e){e&&e.urlInput&&(e.urlInput=e.urlInput.replace(/"/g,"\x26quot;"));!this.allowUnsafeHtml&&e&&e.textInput&&("function"===typeof this.linkFilter?e.textInput=this.linkFilter(e.textInput):
J.forEach(this.linkFilter,function(d){e.textInput=e.textInput.replace(d[0],d[1])}));return e},_createlinkEnabledImpl:function(){return!0},setValue:function(e){this._onCloseDialog();if(9>g("ie")){var d=x.getSelection(this.editor.window).getRangeAt(0).endContainer;3===d.nodeType&&(d=d.parentNode);d&&d.nodeName&&d.nodeName.toLowerCase()!==this.tag&&(d=this.editor.selection.getSelectedElement(this.tag));d&&d.nodeName&&d.nodeName.toLowerCase()===this.tag&&this.editor.queryCommandEnabled("unlink")&&(this.editor.selection.selectElementChildren(d),
this.editor.execCommand("unlink"))}e=this._checkValues(e);this.editor.execCommand("inserthtml",u.substitute(this.htmlTemplate,e));l("a",this.editor.document).forEach(function(a){a.innerHTML||y.has(a,"name")||a.parentNode.removeChild(a)},this)},_onCloseDialog:function(){this.editor.focused&&this.editor.focus()},_getCurrentValues:function(e){if(e&&e.tagName.toLowerCase()===this.tag){var d=e.getAttribute("_djrealurl")||e.getAttribute("href");var a=e.getAttribute("target")||"_self";var b=e.textContent||
e.innerText;this.editor.selection.selectElement(e,!0)}else b=this.editor.selection.getSelectedText();return{urlInput:d||"",textInput:b||"",targetSelect:a||""}},_onOpenDialog:function(){if(g("ie")){var e=x.getSelection(this.editor.window);if(e.rangeCount){var d=e.getRangeAt(0);var a=d.endContainer;3===a.nodeType&&(a=a.parentNode);a&&a.nodeName&&a.nodeName.toLowerCase()!==this.tag&&(a=this.editor.selection.getSelectedElement(this.tag));if(!a||a.nodeName&&a.nodeName.toLowerCase()!==this.tag)(e=this.editor.selection.getAncestorElement(this.tag))&&
e.nodeName&&e.nodeName.toLowerCase()==this.tag?(a=e,this.editor.selection.selectElement(a)):d.startContainer===d.endContainer&&(e=d.startContainer.firstChild)&&e.nodeName&&e.nodeName.toLowerCase()==this.tag&&(a=e,this.editor.selection.selectElement(a))}}else a=this.editor.selection.getAncestorElement(this.tag);this.dropDown.reset();this._setButton.set("disabled",!0);this.dropDown.set("value",this._getCurrentValues(a))},_onDblClick:function(e){if(e&&e.target&&(e=e.target,(e.tagName?e.tagName.toLowerCase():
"")===this.tag&&y.get(e,"href"))){var d=this.editor;this.editor.selection.selectElement(e);d.onDisplayChanged();d._updateTimer&&(d._updateTimer.remove(),delete d._updateTimer);d.onNormalizedDisplayChanged();var a=this.button;setTimeout(function(){a.set("disabled",!1);a.loadAndOpenDropDown().then(function(){a.dropDown.focus&&a.dropDown.focus()})},10)}},_onMouseUp:function(){if(g("ff")){var e=this.editor.selection.getAncestorElement(this.tag);if(e){var d=x.getSelection(this.editor.window).getRangeAt(0);
if(d.collapsed&&e.childNodes.length){var a=d.cloneRange();a.selectNodeContents(e.childNodes[e.childNodes.length-1]);a.setStart(e.childNodes[0],0);1!==d.compareBoundaryPoints(a.START_TO_START,a)?d.setStartBefore(e):-1!==d.compareBoundaryPoints(a.END_TO_START,a)&&d.setStartAfter(e)}}}}}),h=p("dijit._editor.plugins.ImgLinkDialog",[n],{linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput dojoType\x3d'dijit.form.ValidationTextBox' regExp\x3d'${urlRegExp}' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'false' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
htmlTemplate:'\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e',tag:"img",_getCurrentValues:function(e){if(e&&e.tagName.toLowerCase()===this.tag){var d=e.getAttribute("_djrealurl")||e.getAttribute("src");var a=e.getAttribute("alt");this.editor.selection.selectElement(e,!0)}else a=this.editor.selection.getSelectedText();return{urlInput:d||"",textInput:a||""}},_isValid:function(){return this._urlInput.isValid()},_connectTagEvents:function(){this.inherited(arguments);
this.editor.onLoadDeferred.then(m.hitch(this,function(){this.own(f(this.editor.editNode,"mousedown",m.hitch(this,"_selectTag")))}))},_selectTag:function(e){e&&e.target&&(e=e.target,(e.tagName?e.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(e))},_checkValues:function(e){e&&e.urlInput&&(e.urlInput=e.urlInput.replace(/"/g,"\x26quot;"));e&&e.textInput&&(e.textInput=e.textInput.replace(/"/g,"\x26quot;"));return e},_onDblClick:function(e){if(e&&e.target&&(e=e.target,(e.tagName?
e.tagName.toLowerCase():"")===this.tag&&y.get(e,"src"))){var d=this.editor;this.editor.selection.selectElement(e);d.onDisplayChanged();d._updateTimer&&(d._updateTimer.remove(),delete d._updateTimer);d.onNormalizedDisplayChanged();var a=this.button;setTimeout(function(){a.set("disabled",!1);a.loadAndOpenDropDown().then(function(){a.dropDown.focus&&a.dropDown.focus()})},10)}}});q.registry.createLink=function(e){var d={command:"createLink",allowUnsafeHtml:"allowUnsafeHtml"in e?e.allowUnsafeHtml:!1};
"linkFilter"in e&&(d.linkFilter=e.linkFilter);return new n(d)};q.registry.insertImage=function(){return new h({command:"insertImage"})};n.ImgLinkDialog=h;return n})},"arcgisonline/pages/user/settings/UserSettings":function(){define("require exports tslib dojo/topic dojo/string dojo/on dojo/Deferred dojo/text!./templates/UserSettings.html dojo/i18n!../../../nls/arcgisonline dojo/has dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/esriGeowConfig arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/pages/utils/organization ./contents/Preferences ./contents/Security ./contents/Credits ./contents/Licenses ./MenuItem ./MobileMenuItem arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=p.__importDefault(v);
return function(){function B(C,A){this.templateString=g["default"];this.icons=n["default"];this.menuItems=[];this.mobileMenuItems=[];this.contents=[]}B.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=p.__assign(p.__assign({},l["default"].common),l["default"].userProfile)};B.prototype.postCreate=function(){var C=this;this.inherited(arguments);y["default"].publish("account-menu/close");var A=this.isOwner?this.i18n.mySettings:this.profile.firstName?t["default"].substitute(this.i18n.usersSettings,
{name:this.profile.firstName}):this.i18n.settings;this.page.set("pageTitle",A);this.render();this.addEventListners();(u["default"]("ie")||u["default"]("trident"))&&setTimeout(function(){C.setMenuLeftPosition()},300)};B.prototype.startup=function(){this.inherited(arguments);var C=new f["default"];C.resolve();return C};B.prototype.addEventListners=function(){var C=this;this.own(m["default"](this.viewProfileBtn,"click",function(){location.hash="#profile"}),m["default"](this.mobileTitleBtn,"click",function(){C.mobileTitleBtn.classList.toggle("is-active");
C.mobileMenu.classList.toggle("is-active")}),m["default"](this.closeMobileNavBtn,"click",function(){C.mobileMenu.classList.remove("is-active");C.mobileTitleBtn.classList.remove("is-active")}),y["default"].subscribe("settings-update",function(A){var E,F=A.action;A=A.label;null===(E=C.telemetry)||void 0===E?void 0:E.logEvent({category:"profile settings update",action:F,label:A})}),m["default"](window,"resize",function(){return C.handleResize()}))};B.prototype.setMenuLeftPosition=function(){if(u["default"]("ie")||
u["default"]("trident")){var C=this.menuPlaceholder.getBoundingClientRect();this.tabsContainer.style.left=C.left+"px"}};B.prototype.handleResize=function(){this.setMenuLeftPosition()};B.prototype.render=function(){var C=this,A,E,F,w,D;this.mobileTitle.textContent=this.mainTitle.textContent=this.i18n.preferences;var G=[{id:"general-tab",key:"preferences",contentClass:d["default"],selector:".js-preferences"}],H=null===(A=this.portalUser)||void 0===A?void 0:A.userRole.isAdmin(),M=!this.hideNav&&this.portal.mfaEnabled&&
(!this.portal.isPortal&&x["default"].multiFactorEnabled||this.portal.isPortal&&this.portal.supportsEmail)&&!this.isDeveloperSubscription&&this.isArcGISUser&&(this.isAdmin||this.isOwner)&&(null===(E=this.portalUser)||void 0===E?void 0:E.orgId)&&(null===(F=this.profile)||void 0===F?void 0:F.orgId)&&this.isSameOrg;(this.isArcGISUser&&this.isOwner||M)&&G.push({id:"security-tab",key:"security",contentClass:a["default"],selector:".js-security"});!this.hideNav&&this.portal.id&&(this.isOwner||H||e["default"].canGetUserTypes(this.portalUser))&&
G.push({id:"licenses-tab",key:"licenses",contentClass:c["default"],selector:".js-licenses"});A=null===(w=this.portalUser)||void 0===w?void 0:w.userRole.canManageCredits();w="enabled"===this.portal.creditAssignments||"validated"===this.portal.creditAssignments;E=null===(D=this.portal.portalProperties)||void 0===D?void 0:D.showCreditsOnProfile;!this.portal.isPortal&&this.portal.id&&((w||E)&&(H||A)||E&&this.isOwner)&&G.push({id:"credits-tab",key:"credits",contentClass:b["default"],selector:".js-credits"});
this.menuItems=G.map(function(R){var N=R.key,K=R.contentClass,V=R.selector,Z=C.i18n[N],ca="preferences"===N;R=new k["default"]({id:R.id,key:N,name:Z,active:ca,telemetry:C.telemetry});C.own(m["default"](R,"select",function(ea){C.handleMenuSelect(ea)}));K=new K({key:N,name:Z,profile:C.profile,isArcGISUser:C.isArcGISUser,isSocialUser:C.isSocialUser,isEnterpriseUser:C.isEnterpriseUser,isOwner:C.isOwner,hideNav:C.hideNav,portal:C.portal,portalUser:C.portalUser,isAdmin:H,shouldShowMFA:M,telemetry:C.telemetry},
C.domNode.querySelector(V));ca&&K.show();C.contents.push(K);N=new r["default"]({key:N,name:Z,active:ca});C.own(m["default"](N,"select",function(ea){C.handleMenuSelect(ea)}));C.mobileMenuItems.push(N);C.mobileNavContent.appendChild(N.domNode);return R});h["default"].appendChildren(this.menuItems.map(function(R){return R.domNode}),this.tabsContainer)};B.prototype.handleMenuSelect=function(C){var A=this;h["default"].showHide(this.viewProfileBtn,"profile"===C);this.menuItems.forEach(function(E){E.key!==
C?E.deselect():(E.select(),A.mainTitle.textContent=E.name)});this.mobileMenuItems.forEach(function(E){E.key!==C?E.deselect():(E.select(),A.mobileTitle.textContent=E.name)});this.mobileMenu.classList.remove("is-active");this.mobileTitleBtn.classList.remove("is-active");this.contents.forEach(function(E){h["default"].showHide(E.domNode,E.key===C)})};return B=p.__decorate([v["default"](z["default"],q["default"])],B)}()})},"arcgisonline/pages/user/settings/contents/Preferences":function(){define("require exports tslib ./BaseContent ../UserSettingsCard ../rows/StartPageRow ../rows/LanguageAndFormatRow ../rows/RegionRow ../rows/UnitsRow ../rows/EsriAccessRow ../rows/LinkedAccountsRow ../rows/EmailPreferencesRow ../rows/EmailRow ../rows/ViewProfileRow ../rows/MapViewerRow ../rows/CategoriesRow arcgisonline/pages/utils/dom arcgisonline/sharing/geow/Account arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);return function(){function k(r,v){}k.prototype.render=function(){var r=
this;a["default"].getSupportedLanguagesAndRegions().then(function(v){var B,C;r.profile.languages=v.languages;r.profile.regions=v.regions;v=[];var A=null===(B=r.portal)||void 0===B?void 0:B.isWebTierAuth;!r.profile.orgId||r.hideNav||A||v.push(r.createRow(m["default"]));c["default"].newMapViewerEnabled&&v.push(r.createRow(h["default"]));v.push(r.createRow(f["default"]));r.portal.isPortal||v.push(r.createRow(g["default"]));v.push(r.createRow(l["default"]));!r.portal.isPortal&&r.portal.id&&v.push(r.createRow(u["default"]));
r.cards=[new t["default"]({rows:[r.createRow(n["default"])]}),new t["default"]({rows:[r.createRow(x["default"])]}),new t["default"]({rows:v})];c["default"].showAccountSwitcher&&r.isOwner&&!r.hideNav&&!r.portal.isPortal&&r.cards.push(new t["default"]({rows:[r.createRow(q["default"])]}));r.isOwner&&"both"===r.profile.userType&&r.cards.push(new t["default"]({rows:[r.createRow(z["default"])]}));(r.isOwner||r.portalUser.userRole.canViewOrgUsers())&&(null===(C=r.profile.categories)||void 0===C?0:C.length)&&
r.cards.push(new t["default"]({rows:[r.createRow(e["default"])]}));d["default"].appendChildren(r.cards.map(function(E){return E.domNode}),r.cardsContainer)},function(){})};return k=p.__decorate([b["default"](y["default"])],k)}()})},"arcgisonline/pages/user/settings/contents/BaseContent":function(){define("require exports tslib dojo/text!./TabContent.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);return function(){function u(){this.templateString=y["default"];this.i18n=t["default"];this.key=this.name="";this.hideNav=this.isAdmin=this.isEnterpriseUser=this.isSocialUser=this.isArcGISUser=this.isOwner=!1;this.cards=[]}u.prototype.postCreate=function(){this.inherited(arguments);this.render()};u.prototype.show=function(){g["default"].showNode(this.domNode)};
u.prototype.hide=function(){g["default"].hideNode(this.domNode)};u.prototype.render=function(){g["default"].appendChildren(this.cards.map(function(q){return q.domNode}),this.cardsContainer)};u.prototype.createRow=function(q,z){return new q(p.__assign({profile:this.profile,isArcGISUser:this.isArcGISUser,isSocialUser:this.isSocialUser,isEnterpriseUser:this.isEnterpriseUser,isOwner:this.isOwner,isAdmin:this.isAdmin,portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry},z||{}))};return u=
p.__decorate([l["default"](f["default"],m["default"])],u)}()})},"arcgisonline/pages/user/settings/UserSettingsCard":function(){define("require exports tslib dojo/text!./templates/UserSettingsCard.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=
p.__importDefault(l);return function(){function u(q,z){this.templateString=y["default"];this.i18n=t["default"]}u.prototype.postCreate=function(){this.inherited(arguments);g["default"].appendChildren(this.rows.map(function(q){return q.domNode}),this.content)};return u=p.__decorate([l["default"](f["default"],m["default"])],u)}()})},"arcgisonline/pages/user/settings/rows/StartPageRow":function(){define("require exports tslib dojo/topic dojo/on dojo/text!./templates/StartPageRow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/sharing/util arcgisonline/pages/utils/alerts arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);var n;(function(h){h.Home="index.html";h.Gallery="gallery.html";h.Map="webmap/viewer.html";h.Scene="webscene/viewer.html";h.Groups="groups.html";h.Content="content.html";h.Organization="organization.html"})(n||(n={}));return function(){function h(e,
d){this.templateString=m["default"];this.i18n=p.__assign(p.__assign(p.__assign({},f["default"].common),f["default"].userProfile),f["default"].siteHeader);this.isOwner=!1;this.labelText=f["default"].userProfile.landingPageLabel}h.prototype.postCreate=function(){this.inherited(arguments);this.isOwner||(this.descEl.textContent=this.i18n.startPageDescMember);this.render();this.addEventListeners()};h.prototype.render=function(){var e=this,d,a,b=this.profile.userRole,c=this.i18n;[{text:c.simpleHome,value:n.Home},
{text:c.gallery,value:n.Gallery},{text:c.map,value:n.Map},{text:c.scene,value:n.Scene},{text:c.groups,value:n.Groups},{text:c.myContent,value:n.Content},{text:c.myAccount,value:n.Organization,exclude:b&&!(null===b||void 0===b?0:b.canViewOrgUsers())}].forEach(function(r){r.exclude||e.selectLandingPage.options.add(new Option(r.text,r.value))});c=u["default"].isPortal();var k=null===(a=null===(d=this.profile.properties)||void 0===d?void 0:d.landingPage)||void 0===a?void 0:a.url;k||(k=b&&(!c||c&&!x["default"].restrictOrganizationPageToAdmin)&&
b.isBasedOnAdmin()||c&&x["default"].restrictOrganizationPageToAdmin&&b.isAdmin()?n.Organization:n.Home);this.selectLandingPage.value=k};h.prototype.addEventListeners=function(){var e=this;this.own(t["default"](this.selectLandingPage,"change",function(){return e.handleSelectChange()}))};h.prototype.handleSelectChange=function(){var e=this,d=p.__assign(p.__assign({},this.profile.properties),{landingPage:{url:this.selectLandingPage.value}});y["default"].publish("settings-update",{action:"update",label:"start page"});
this.setProperties(d).then(function(a){a.success?(q["default"].showAlert("success",e.i18n.updateSuccess),e.profile.properties.landingPage={url:e.selectLandingPage.value}):q["default"].showAlert("error",e.i18n.updateError)},function(){q["default"].showAlert("error",e.i18n.updateError)})};h.prototype.setProperties=function(e){return u["default"].request({url:x["default"].restBaseUrl+"community/users/"+this.profile.username+"/setProperties",content:{properties:JSON.stringify(e)}},{usePost:!0})};return h=
p.__decorate([z["default"](l["default"],g["default"])],h)}()})},"arcgisonline/pages/user/settings/rows/LanguageAndFormatRow":function(){define("require exports tslib dojo/on dojo/text!./templates/LanguageAndFormatRow.html dojo/i18n!../../../../nls/arcgisonline dojox/html/entities arcgisonline/esriGeowConfig arcgisonline/pages/utils/culture arcgisonline/pages/utils/dom arcgisonline/pages/utils/user arcgisonline/pages/utils/storage ./BaseRow ../LanguageAndFormatOverlay arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);return function(){function e(d,a){this.templateString=t["default"];this.i18n=p.__assign(p.__assign({},m["default"].common),m["default"].userProfile)}e.prototype.postCreate=function(){this.inherited(arguments);
this.render();this.addEventListeners()};e.prototype.render=function(){this.profile.languages.forEach(function(d){var a;d.displayName=f["default"].decode((d.localizedName?d.localizedName+" - ":"")+d.language+"\x26lrm;");(null===(a=d.cultureFormats)||void 0===a?0:a.length)&&d.cultureFormats.forEach(function(b){b.displayName=f["default"].decode((b.localizedName?b.localizedName+" - ":"")+b.name+"\x26lrm;")})});this.renderValues()};e.prototype.addEventListeners=function(){var d=this;this.own(y["default"](this.updateBtn,
"click",function(){return d.handleUpdateClick()}))};e.prototype.handleUpdateClick=function(){var d=this,a=new n["default"]({profile:this.profile,portal:this.portal});a.open();this.own(y["default"](a,"save",function(b){return d.saveCultureAndFormat(b)}));y["default"].once(a,"close",function(){d.updateBtn.focus()})};e.prototype.renderValues=function(){var d=this,a,b=l["default"].getActualCulture(this.profile.culture,this.profile.languages),c=b?this.profile.languages.filter(function(k){return k.culture===
b})[0]:{displayName:this.i18n.browserDefault};this.languageEl.textContent=null===c||void 0===c?void 0:c.displayName;if(null===(a=null===c||void 0===c?void 0:c.cultureFormats)||void 0===a?0:a.length){a=c.cultureFormats;if(a=a.filter(function(k){return k.format===d.profile.cultureFormat})[0]||a[0])this.formatEl.textContent=a.displayName;u["default"].showNode(this.formatContainer)}else u["default"].hideNode(this.formatContainer)};e.prototype.saveCultureAndFormat=function(d){var a=this,b=d.format;d=d.culture;
var c=""===d,k={culture:""+d+(b?"-"+b:""),cultureFormat:b};if(this.profile.culture!==k.culture||this.profile.cultureFormat!==k.cultureFormat){b||(k.clearEmptyFields=!0);if("ja"===k.culture||"ja"===this.profile.culture)k.fullName=q["default"].createFullName({firstName:this.profile.firstName,lastName:this.profile.lastName},k.culture);this.updateProfile(k).then(function(){a.profile.culture=k.culture;a.profile.cultureFormat=k.cultureFormat;a.renderValues();if(a.isOwner&&(k.culture||c)&&a.portalUser.culture!==
k.culture){a.portal.portalUser.culture=a.portalUser.culture=g["default"].userInfo.culture=k.culture.toLowerCase();var r=a.portal.isPortal?window.location.hostname:".arcgis.com",v=!a.portal.isPortal||a.portal.allSSL;c?(z["default"].setCookie("arcgisLocale",null,{expires:-1}),z["default"].setCookie("esri_locale",null,{expires:-1,path:"/",domain:r,secure:v})):(z["default"].setCookie("arcgisLocale",a.profile.culture,{sameSite:"Strict"}),z["default"].setCookie("esri_locale",a.profile.culture,{path:"/",
domain:r,secure:v}));location.reload()}})}};return e=p.__decorate([h["default"](x["default"])],e)}()})},"arcgisonline/pages/utils/culture":function(){define(["require","exports","tslib","dojo/string","dojo/_base/kernel"],function(T,J,p,y,t){y=p.__importDefault(y);t=p.__importDefault(t);return function(){function m(){}m.getString=function(f,g,l){var u,q="id ja ko th vi zh-cn zh-hk zh-tw".split(" "),z="en ca da de el es et fi hi hu it nb nl pt-pt sv tr".split(" "),x=null!==(u=m.getRootLocale(t["default"].locale))&&
void 0!==u?u:"en";l?l.number=g:l={number:g};return 1===g||-1<q.indexOf(x)?y["default"].substitute(f.single,l):1!==g&&-1<z.indexOf(x)?y["default"].substitute(f.multiple,l):y["default"].substitute(f.unknown,l)};m.stripCultureFormat=function(f,g){if((null===f||void 0===f?0:f.length)&&(null===g||void 0===g?0:g.length)){var l=f.indexOf("-"+g);if(-1<l)return f.substring(0,l)}return f};m.getRootLocale=function(f){if(null===f||void 0===f?0:f.length){f=f.split("-")[0];if(null===f||void 0===f?0:f.length)f=
f.toLowerCase();return f}return f};m.getLocaleFormat=function(f){if(null===f||void 0===f?0:f.length)if(f=f.split("-"),1<f.length)return f[1].toLowerCase()};m.getTrialLocale=function(f){var g=["pt-br","pt-pt","zh-cn","zh-hk","zh-tw"];return-1<(null===f||void 0===f?void 0:f.indexOf("-"))&&-1===g.indexOf(f)?this.getRootLocale(f):f};m.getActualCulture=function(f,g){var l,u=null!==(l=null===f||void 0===f?void 0:f.toLowerCase())&&void 0!==l?l:"",q=u.split("-");if(1<q.length){if(l=g.filter(function(z){return z.culture===
u}).shift())return u;l=g.filter(function(z){return z.culture===q[0]}).shift();if(null===l||void 0===l?0:l.cultureFormats){if(l.cultureFormats.filter(function(z){return z.format===q[1]}).shift())return l.culture}else if(l)return l.culture}return f};m.getSelectedFormat=function(f,g){return g.filter(function(l){return l.format===f}).shift()};m.getPercentString=function(f){var g=t["default"].locale.toLowerCase();return"ar"===g?"%"+100*f:f.toLocaleString(g,{style:"percent"})};return m}()})},"arcgisonline/pages/user/settings/rows/BaseRow":function(){define("require exports tslib dojo/Deferred dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/utils/alerts arcgisonline/pages/pageUtil arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/SubscriptionStatusDlg arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(){this.i18n=p.__assign(p.__assign({},t["default"].common),t["default"].userProfile);this.icons=g["default"];this.isAdmin=this.isEnterpriseUser=this.isSocialUser=this.isArcGISUser=this.isOwner=
!1}h.prototype.updateProfile=function(e,d,a,b){var c=this,k=new y["default"];q["default"].request({url:q["default"].getSecureUrl(x["default"].restBaseUrl)+"community/users/"+this.profile.username+"/update",content:e},{usePost:!0}).then(function(r){r.success?(b||l["default"].showAlert("success",d||c.i18n.updateSuccess),k.resolve()):(c.handleUpdateError(r,a),k.reject())},function(r){c.handleUpdateError(r,a);k.reject()});return k};h.prototype.handleUpdateError=function(e,d){var a,b;this.isInvalidSubscription(e)?
this.showSubscriptionDialog(this.portal.subscriptionInfo):this.isOtherInvalidSubscription(e)?this.showSubscriptionDialog(((null===e||void 0===e?0:e.error)?e.error:e).messageCode,!0):-1<(null===(b=null===(a=null===e||void 0===e?void 0:e.error)||void 0===a?void 0:a.message)||void 0===b?void 0:b.indexOf("file exceeds the max size"))?l["default"].showAlert("error",e.error.message):"COM_1035"===(null===e||void 0===e?void 0:e.messageCode)?l["default"].showAlert("error",this.i18n.errorUpdatingProfileMsg):
"GWM_0019"===(null===e||void 0===e?void 0:e.messageCode)?l["default"].showAlert("error",this.i18n.tooManyUpdates):l["default"].showAlert("error",d||this.i18n.updateError)};h.prototype.showSubscriptionDialog=function(e,d){u["default"].createSpecifiedDialog(z["default"])[d?"showOther":"show"](e)};h.prototype.isInvalidSubscription=function(e){e=(null===e||void 0===e?0:e.error)?e.error:e;var d=["SB_0001","SB_0002","SB_0003","SB_0004"];return(null===e||void 0===e?void 0:e.messageCode)&&-1<d.indexOf(e.messageCode)};
h.prototype.isOtherInvalidSubscription=function(e){e=(null===e||void 0===e?0:e.error)?e.error:e;var d=["SB_0005","SB_0006","SB_0007"];return(null===e||void 0===e?void 0:e.messageCode)&&-1<d.indexOf(e.messageCode)};return h=p.__decorate([n["default"](f["default"],m["default"])],h)}()})},"arcgisonline/pages/user/settings/LanguageAndFormatOverlay":function(){define("require exports tslib esri/Evented dojo/topic dojo/on dojo/text!./templates/LanguageAndFormatOverlay.html dojo/i18n!../../../nls/arcgisonline dojo/string dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/culture arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);return function(){function e(d,a){this.title=g["default"].userProfile.languageNumberAndDate;this.i18n=g["default"];this.overlayContents=l["default"].substitute(f["default"],{i18n:this.i18n});
this.background="white";this.constrain=!0;this.maxWidth=450;this.closeOnScrimClick=!1}e.prototype.postCreate=function(){var d=this;this.inherited(arguments);this._overlayTitleBar.classList.add("lang-format-overlay__title-bar");this.languageSelect=this.domNode.querySelector(".js-language-select");this.formatSelect=this.domNode.querySelector(".js-format-select");this.formatContainer=this.domNode.querySelector(".js-format-container");var a=this._overlayTitleBar.querySelector(".overlay-title");a.classList.add("text-ellipsis");
a.title=this.title;this.own(m["default"](this.languageSelect,"change",function(){return d.handleLanguageChange()}))};e.prototype.open=function(){var d=this,a;this.inherited(arguments);var b=x["default"].getActualCulture(this.profile.culture,this.profile.languages),c;this.portal.culture||this.languageSelect.add(new Option(g["default"].userProfile.browserDefault,""));this.profile.languages.forEach(function(r){d.languageSelect.add(new Option(r.displayName,r.culture));r.culture===b&&(c=r)});this.languageSelect.value=
b||"";if(c&&(null===(a=c.cultureFormats)||void 0===a?0:a.length)){a=c.cultureFormats;var k=a.filter(function(r){return r.format===d.profile.cultureFormat})[0];a.forEach(function(r){d.formatSelect.add(new Option(r.displayName,r.format))});k&&(this.formatSelect.value=k.format)}else n["default"].hideNode(this.formatContainer)};e.prototype.close=function(){this.inherited(arguments);this.emit("close")};e.prototype.handlePrimary=function(){this.emit("save",{format:this.formatSelect.value,culture:this.languageSelect.value});
t["default"].publish("settings-update",{action:"save",label:"language"});this.close()};e.prototype.handleCancel=function(){this.inherited(arguments);t["default"].publish("settings-update",{action:"cancel",label:"language"})};e.prototype.handleLanguageChange=function(){var d=this,a=this.profile.languages.filter(function(b){return b.culture===d.languageSelect.value})[0];this.renderFormatSelect(a)};e.prototype.renderFormatSelect=function(d){var a=this,b;this.formatSelect.innerHTML="";d&&(null===(b=d.cultureFormats)||
void 0===b?0:b.length)?(d=d.cultureFormats,b=d.filter(function(c){return c.format===a.profile.cultureFormat})[0],d.forEach(function(c){a.formatSelect.add(new Option(c.displayName,c.format))}),b&&(this.formatSelect.value=b.format),n["default"].showNode(this.formatContainer)):n["default"].hideNode(this.formatContainer)};return e=p.__decorate([h["default"](q["default"],u["default"],z["default"],y["default"])],e)}()})},"arcgisonline/pages/dijit/Overlay":function(){define("require exports tslib dojo/on dojo/debounce dojo/topic dojo/query dojo/has dojo/dom-class dojo/dom-construct dojox/uuid/generateRandomUuid dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase esri/Evented ../utils/formatters ../utils/icons ../utils/focus dojo/text!./Overlay/templates/Overlay.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);return function(){function r(){this.i18n=
c["default"];this.icons=d["default"];this.templateString=b["default"];this.hide=e["default"].hide;this._unsavedChanges=this.constrain=!1;this.maxWidth=null;this.showActionBar=!0;this.overlayContents=null;this._screenWidth=window.innerWidth;this._preventScrollClass=g["default"]("ios")?"ios-prevent-scroll":"overflow-hidden";this["class"]=this.title="";this.closeOnScrimClick=this.destroyOnClose=this.shouldScroll=!0;this.background="off-white";this.isDrillIn=!1;this.primaryBtnText=c["default"].common.save;
this.loadingText=c["default"].common.loading;this.uid=null}r.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=q["default"]();this.srcNodeRef||(this.srcNodeRef=u["default"].place(u["default"].create("div"),document.body,"last"))};r.prototype.postCreate=function(){this.inherited(arguments);u["default"].place(this.overlayContents,this._overlayContentWrapper,"only");this.showActionBar||l["default"].add(this._overlayContentWrapper,"overlay-content--no-actions");this.shouldScroll&&
l["default"].add(this._overlayContentWrapper,"overlay-content--scroll");this.constrain&&l["default"].add(this.domNode,"overlay--constrained");this.maxWidth&&(this._overlay.style.maxWidth=this.maxWidth+"px",this._screenWidth>=this.maxWidth&&l["default"].add(this.domNode,"overlay--max-width"));this._addEventListeners()};r.prototype._addEventListeners=function(){var v=this;this.own(m["default"].subscribe("overlay/open",function(){return v.open()}),y["default"](window,"resize",t["default"](function(B){return v.resizeHandler(B)},
30)),y["default"](this.closeBtn,"click",function(B){return v.handleCancel(B)}),y["default"](this._backArrow,"click",function(){return v.close()}),y["default"](this._primaryBtn,"click",function(B){return v.handlePrimary(B)}),y["default"](this._cancelBtn,"click",function(B){return v.handleCancel(B)}),y["default"](this._backgroundScrim,"click",function(B){return v.handleScrimClick(B)}),y["default"](document,"keyup",function(B){"Escape"===B.key&&v.close()}))};r.prototype.open=function(){var v=this;this.defaultOpener=
document.activeElement;var B=document.documentElement,C=B.scrollTop,A=document.body.scrollTop,E=B.classList.contains(this._preventScrollClass);window.getComputedStyle(this.domNode).opacity;f["default"](this.domNode).addClass("is-active");var F=a["default"].getFocusableElements(this.domNode);0<F.length&&F[0].focus();this._trapHandler=a["default"].trapFocus(this.domNode);this.render&&this.render();this.emit("open");(this.isDrillIn=E)||setTimeout(function(){g["default"]("ios")&&(v._bodyScrollTop=Math.max(window.pageYOffset,
C,A));l["default"].add(B,v._preventScrollClass)},300)};r.prototype.close=function(v){var B=this,C,A;this._unsavedChanges&&this.unsavedChangesText?this.confirmClose(this.unsavedChangesText).then(function(E){!0===E&&B._close()}):this._close();if(this.onClose&&"function"===typeof this.onClose)this.onClose();this.emit("close",v);v=this.opener||this.defaultOpener||document.body;null===(C=null===v||void 0===v?void 0:v.setFocus)||void 0===C?void 0:C.call(v);null===(A=null===v||void 0===v?void 0:v.focus)||
void 0===A?void 0:A.call(v)};r.prototype.confirmClose=function(v){var B=new z["default"];v=confirm(v);B.resolve(v);return B};r.prototype.showLoader=function(v){this._overlayLoaderText.textContent=v||"";this._overlayLoader.classList.add("is-active")};r.prototype.hideLoader=function(){this._overlayLoaderText.textContent="";this._overlayLoader.classList.remove("is-active")};r.prototype.setUnsaved=function(v){this._unsavedChanges=v};r.prototype.handlePrimary=function(v){};r.prototype.handleHelp=function(v){};
r.prototype.handleCancel=function(v){this.close()};r.prototype.handleScrimClick=function(v){this.closeOnScrimClick&&v.target===v.currentTarget&&this.close()};r.prototype.resizeHandler=function(v){v=window.innerWidth;this._screenWidth>=this.maxWidth&&v<this.maxWidth&&this.domNode.classList.remove("overlay--max-width");this._screenWidth<this.maxWidth&&v>=this.maxWidth&&this.domNode.classList.add("overlay--max-width");this._screenWidth=v};r.prototype._close=function(){this.domNode&&this.domNode.classList.remove("is-active");
this.isDrillIn||(l["default"].remove(document.documentElement,this._preventScrollClass),g["default"]("ios")&&(document.documentElement.scrollTop=this._bodyScrollTop,document.body.scrollTop=this._bodyScrollTop));this.destroyOnClose&&this._destroy()};r.prototype._destroy=function(){var v=this;this.domNode&&a["default"].untrapFocus(this.domNode,this._trapHandler);setTimeout(function(){return v.destroy()},300)};return r=p.__decorate([k["default"](n["default"],x["default"],h["default"])],r)}()})},"arcgisonline/pages/user/settings/rows/RegionRow":function(){define("require exports tslib dojo/topic dojo/on dojo/text!./templates/RegionRow.html dojo/i18n!../../../../nls/arcgisonline ./BaseRow arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);return function(){function z(x,n){this.templateString=m["default"];this.i18n=p.__assign(p.__assign({},f["default"].common),f["default"].userProfile)}z.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};z.prototype.render=function(){var x=
this,n;this.profile.regions.forEach(function(h){x.select.add(new Option(h.localizedName,h.region))});this.select.value=this.profile.region||(null===(n=q["default"].self)||void 0===n?void 0:n.ipCntryCode)||"WO";if(n=this.profile.regions.filter(function(h){return h.region===x.select.value})[0])this.readonlyValue.textContent=n.localizedName;l["default"].showHide(this.selectContainer,!this.profile.orgId);l["default"].showHide(this.readonlyContainer,this.profile.orgId)};z.prototype.addEventListeners=function(){var x=
this;this.own(t["default"](this.select,"change",function(){return x.handleSelectChange()}))};z.prototype.handleSelectChange=function(){var x=this,n=this.select.value;y["default"].publish("settings-update",{action:"update",label:"region"});this.updateProfile({region:n}).then(function(){n!==x.portalUser.region&&(x.portal.portalUser.region=x.portalUser.region=q["default"].userInfo.region=n)})};return z=p.__decorate([u["default"](g["default"])],z)}()})},"arcgisonline/pages/user/settings/rows/UnitsRow":function(){define("require exports tslib dojo/topic dojo/on dojo/text!./templates/SelectOptionsRow.html ./BaseRow arcgisonline/pages/dijit/SelectOptions arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);return function(){function u(q,z){this.templateString=m["default"];this.labelText=this.i18n.unitsLabel}u.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};u.prototype.render=function(){this.selectOptions=new g["default"]({options:[{name:"unitOption",text:this.i18n.unitsEnglish,value:"english"},
{name:"unitOption",text:this.i18n.unitsMetric,value:"metric"}]},this.domNode.querySelector(".js-select-options"));this.selectOptions.select(this.profile.units)};u.prototype.addEventListeners=function(){var q=this;this.own(t["default"](this.selectOptions,"change",function(){return q.handleSelectChange()}))};u.prototype.handleSelectChange=function(){y["default"].publish("settings-update",{action:"update",label:"units"});this.updateProfile({units:this.selectOptions.value()})};return u=p.__decorate([l["default"](f["default"])],
u)}()})},"arcgisonline/pages/dijit/SelectOptions":function(){define("require exports tslib esri/Evented dojo/on dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid arcgisonline/pages/utils/dom ./SelectOption/SelectOption arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);
q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){this.templateString='\x3cdiv class\x3d"select-options flex"\x3e\x3c/div\x3e';this.i18n=m["default"];this.id=null;this.vertical=this.rounded=!1;this.previousValue=""}x.prototype.postMixInProperties=function(){this.inherited(arguments);this.id=this.id||l["default"]()};x.prototype.postCreate=function(){this.inherited(arguments);this.render()};x.prototype.value=function(){return this.selectedValue};x.prototype.select=function(n){this.handleSelect(n,
!0)};x.prototype.revert=function(){this.handleSelect(this.previousValue,!0)};x.prototype.disable=function(){this.selectOptions.forEach(function(n){n.disable()})};x.prototype.enable=function(){this.selectOptions.forEach(function(n){n.enable()})};x.prototype.render=function(){var n=this;this.vertical&&this.domNode.classList.add("select-options--vertical");this.selectOptions=this.options.map(function(h){var e=new q["default"](p.__assign(p.__assign(p.__assign(p.__assign({},h),n.optionsClass&&{baseClass:n.optionsClass}),
n.optionsLabelClass&&{labelClass:n.optionsLabelClass}),{vertical:n.vertical}));h.selected&&(n.selectedValue=h.value);n.own(t["default"](e,"select",n.handleSelect.bind(n)));return e});u["default"].appendChildren(this.selectOptions.map(function(h){return h.domNode}),this.domNode);this.rounded&&(this.domNode.classList.add("radio-group--rounded"),this.selectOptions.forEach(function(h){h.domNode.classList.add("margin-right-half")}))};x.prototype.handleSelect=function(n,h){this.selectOptions.forEach(function(e){e.value!==
n?e.deselect():e.select()});this.previousValue=this.selectedValue;this.selectedValue=n;h||this.emit("change",this.selectedValue)};return x=p.__decorate([z["default"](g["default"],f["default"],y["default"])],x)}()})},"arcgisonline/pages/dijit/SelectOption/SelectOption":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./SelectOption.html dojo/text!./SelectOptionRadio.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){this.templateString=m["default"];this.labelClass="";this.vertical=!1;this.inputId=""}x.prototype.postMixInProperties=function(){this.inherited(arguments);this.vertical&&(this.templateString=f["default"])};x.prototype.postCreate=
function(){this.inherited(arguments);this.render()};x.prototype.deselect=function(){this.selected=!1;this.radio.checked=!1;this.radio.removeAttribute("checked");this.domNode.classList.remove("select-option__radio-label--selected")};x.prototype.select=function(){this.selected=!0;this.radio.checked=!0;this.domNode.classList.add("select-option__radio-label--selected")};x.prototype.disable=function(){this.domNode.classList.add("select-option--disabled");this.radio.disabled=!0};x.prototype.enable=function(){this.domNode.classList.remove("select-option--disabled");
this.radio.disabled=!1};x.prototype.render=function(){this.selected&&this.select();this.icon&&(this.iconContainer.innerHTML=u["default"][this.icon]["24"],q["default"].showNode(this.iconContainer));this.inputId&&(this.radio.id=this.inputId,this.selectLabel.setAttribute("for",this.radio.id));this.addEventListeners()};x.prototype.addEventListeners=function(){this.own(t["default"](this.vertical?this.radio:this.selectLabel,"click",this.handleClick.bind(this)))};x.prototype.handleClick=function(n){this.vertical&&
this.domNode.classList.add("select-option__radio-label--selected");this.emit("select",this.value)};return x=p.__decorate([z["default"](l["default"],g["default"],y["default"])],x)}()})},"arcgisonline/pages/user/settings/rows/EsriAccessRow":function(){define("require exports tslib dojo/text!./templates/EsriAccessRow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=y["default"];this.i18n=p.__assign(p.__assign({},t["default"].userProfile),t["default"].common);this.icons=l["default"]}q.prototype.postCreate=function(){this.inherited(arguments);this.render()};q.prototype.render=function(){"both"===this.profile.userType?(g["default"].showNode(this.checkIcon),
this.textValue.textContent=this.i18n.enabledLabel):(g["default"].showNode(this.xIcon),this.textValue.textContent=this.i18n.disabledLabel)};return q=p.__decorate([u["default"](f["default"],m["default"])],q)}()})},"arcgisonline/pages/user/settings/rows/LinkedAccountsRow":function(){define("require exports tslib dojo/topic dojo/on dojo/text!./templates/RowWithButton.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);return function(){function z(x,n){this.templateString=m["default"];this.i18n=p.__assign({},f["default"].userProfile);this.labelText=this.i18n.linkedAccountsLabel;this.btnText=this.i18n.linkedAccountsBtnLabel}z.prototype.postCreate=function(){this.inherited(arguments);this.btn.id="manage-linked-accounts";
this.own(t["default"](this.btn,"click",function(){y["default"].publish("settings-update",{action:"click",label:"manage linked accounts"});window.open(q["default"].baseUrl+"pages/Account/manage_accounts.html#client_id\x3darcgisonline\x26window_title\x3dmanageAccounts","_blank").focus()}))};return z=p.__decorate([u["default"](l["default"],g["default"])],z)}()})},"arcgisonline/pages/user/settings/rows/EmailPreferencesRow":function(){define("require exports tslib dojo/topic dojo/string dojo/on dojo/text!./templates/RowWithButton.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){this.templateString=f["default"];this.i18n=p.__assign({},g["default"].userProfile);this.labelText=this.i18n.manageEmailFromEsri;this.btnText=this.i18n.setEmailPref}x.prototype.postCreate=function(){var n=this;this.inherited(arguments);
this.btn.id="set-email-preferences";this.own(m["default"](this.btn,"click",function(){y["default"].publish("settings-update",{action:"click",label:"email preference"});location.href=t["default"].substitute(q["default"].esriPreferencesPostLink,{email:n.profile.email})}))};return x=p.__decorate([z["default"](u["default"],l["default"])],x)}()})},"arcgisonline/pages/user/settings/rows/EmailRow":function(){define("require exports tslib dojo/topic dojo/string dojo/_base/kernel dojo/on dojo/text!./templates/EmailRow.html arcgisonline/pages/utils/user arcgisonline/pages/utils/dom arcgisonline/pages/utils/validation arcgisonline/pages/pageUtil ./BaseRow ./EditMixin arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);return function(){function b(c,k){this.templateString=g["default"];this.confirmEdited=!1;this.verifyEmailUrl="";
this.handleWindowMessage=this.handleWindowMessage.bind(this)}b.prototype.postMixInProperties=function(){this.inherited(arguments);this.profile.fullName||(this.profile.fullName=l["default"].createFullName(this.profile))};b.prototype.postCreate=function(){this.inherited(arguments);(this.isArcGISUser||this.isSocialUser)&&(this.portalUser&&!this.portalUser.accountId&&this.isOwner||this.isAdmin)&&(u["default"].hideNode(this.readonlyValue),u["default"].showNode(this.editBtn));this.displayVerify();this.addEventListeners()};
b.prototype.destroy=function(){this.inherited(arguments);window.removeEventListener("message",this.handleWindowMessage)};b.prototype.hideForm=function(){this.inherited(arguments);this.emailInput.value=this.profile.email;this.confirmEmailInput.value="";q["default"].clearState([this.emailInput,this.emailError,this.confirmEmailInput,this.confirmEmailError]);this.confirmEdited=!1};b.prototype.displayVerify=function(){var c,k=["ConnectED","Education","Education Site License"],r=["Developer","Developer Subscription"],
v=this.portal.isPortal,B=this.portalUser.userRole;B=B.isAdmin()&&!B.isCustom();k=!v&&this.portal.subscriptionInfo&&(-1<r.indexOf(this.portal.subscriptionInfo.type)||!B&&-1<k.indexOf(this.portal.subscriptionInfo.type));k=d["default"].emailVerificationEnabled&&!k&&!!this.profile.email&&(!(null===(c=this.profile)||void 0===c?0:c.provider)||!this.isEnterpriseUser&&-1===this.profile.provider.indexOf("oidc"));c="verified"===this.profile.emailStatus;u["default"].showHide(this.verifyButton,k&&this.isOwner&&
!c);u["default"].showHide(this.verifiedChip,k&&c)};b.prototype.getUpdatedEmailStatus=function(){return p.__awaiter(this,void 0,void 0,function(){var c;return p.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,e["default"].request({url:d["default"].restBaseUrl+"community/users/"+this.profile.username,content:{ts:(new Date).getTime()}},{preventCache:!0})];case 1:if(c=k.sent())this.profile.emailStatus=c.emailStatus,this.displayVerify();return[3,3];case 2:return k.sent(),
[3,3];case 3:return[2]}})})};b.prototype.addEventListeners=function(){var c=this;this.own(f["default"](this.editBtn,"click",function(){c.showForm()}),f["default"](this.cancelBtn,"click",function(){y["default"].publish("settings-update",{action:"cancel",label:"email"});c.hideForm()}),f["default"](this.saveBtn,"click",function(){return c.handleSaveClick()}),f["default"](this.emailInput,"input",function(){c.isValidEmail()&&c.clearEmailError();c.confirmEmailInput.value===c.emailInput.value&&c.clearConfirmError()}),
f["default"](this.emailInput,"blur",function(){c.isValidEmail()?c.clearEmailError():c.showEmailError();c.confirmEdited&&c.validateConfirmEmail()}),f["default"](this.confirmEmailInput,"input",function(){c.confirmEdited=0<c.confirmEmailInput.value.length;c.confirmEmailInput.value===c.emailInput.value&&c.clearConfirmError()}),f["default"](this.confirmEmailInput,"blur",function(){c.confirmEdited&&c.validateConfirmEmail()}),f["default"](this.verifyButton,"click",function(){c.verifyEmailUrl=d["default"].restBaseUrl+
"oauth2/emailVerify?token\x3d"+e["default"].getToken()+"\x26client_id\x3darcgisonline\x26locale\x3d"+m["default"].locale;window.open(c.verifyEmailUrl,"_blank")}));window.addEventListener("message",this.handleWindowMessage)};b.prototype.handleWindowMessage=function(c){var k=d["default"].restBaseUrl.replace("/sharing/rest/","");c.origin===k&&"verify-email-complete"===c.data.type&&this.getUpdatedEmailStatus()};b.prototype.isValidEmail=function(){return e["default"].isValidEmailAddress(this.emailInput.value)&&
-1===this.emailInput.value.indexOf("'")};b.prototype.isValidConfirm=function(){return this.confirmEmailInput.value===this.emailInput.value};b.prototype.validateConfirmEmail=function(){this.isValidConfirm()?this.clearConfirmError():this.showConfirmError()};b.prototype.showEmailError=function(){q["default"].setInvalidState(this.emailInput,this.emailError);this.emailInput.focus()};b.prototype.clearEmailError=function(){q["default"].clearState([this.emailInput,this.emailError])};b.prototype.showConfirmError=
function(){q["default"].setInvalidState(this.confirmEmailInput,this.confirmEmailError)};b.prototype.clearConfirmError=function(){q["default"].clearState([this.confirmEmailInput,this.confirmEmailError])};b.prototype.handleSaveClick=function(){var c=this,k=this.emailInput.value,r=this.confirmEmailInput.value,v=k!==this.profile.email;if(e["default"].isValidEmailAddress(k)&&-1===k.indexOf("'"))if(k!==r)q["default"].setInvalidState(this.confirmEmailInput,this.confirmEmailError),this.confirmEmailInput.focus();
else if(v){var B=(this.isArcGISUser||this.isSocialUser)&&this.isOwner&&!this.portal.id;r={email:k};y["default"].publish("settings-update",{action:"save",label:"email"});this.updateProfile(r,void 0,void 0,B).then(function(){c.hideForm();B?z["default"].createSpecifiedDialog(h["default"]).show({title:c.i18n.confirmEmailTitle,message:t["default"].substitute(c.i18n.confirmEmailMsg,{email:k})}):(c.profile.email=c.emailInput.value=c.displayValue.textContent=k,c.profile.emailStatus="notVerified",c.displayVerify(),
c.confirmEmailInput.value="")})}else this.hideForm();else this.emailInput.focus()};return b=p.__decorate([a["default"](x["default"],n["default"])],b)}()})},"arcgisonline/pages/user/settings/rows/EditMixin":function(){define(["require","exports","tslib","arcgisonline/pages/utils/focus","arcgisonline/pages/utils/dom"],function(T,J,p,y,t){y=p.__importDefault(y);t=p.__importDefault(t);return function(){function m(){}m.prototype.showForm=function(){this.focusTrapListener&&y["default"].untrapFocus(this.editForm,
this.focusTrapListener);this.focusTrapListener=y["default"].trapFocus(this.editForm);var f=y["default"].getFocusableElements(this.editForm);f.length&&setTimeout(function(){f.shift().focus()},100);t["default"].showNode(this.editForm)};m.prototype.hideForm=function(){this.focusTrapListener&&(y["default"].untrapFocus(this.editForm,this.focusTrapListener),this.focusTrapListener=void 0);t["default"].hideNode(this.editForm);this.editBtn.focus()};return m}()})},"arcgisonline/pages/user/settings/rows/ViewProfileRow":function(){define("require exports tslib dojo/on dojo/string dojo/text!./templates/ViewProfileRow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=m["default"];this.i18n=p.__assign({},f["default"].userProfile);this.isOwner=!1}q.prototype.postCreate=function(){this.inherited(arguments);this.isOwner||(this.descEl.textContent=this.i18n.profilePageDescMember);this.isOwner||(this.viewBtn.textContent=t["default"].substitute(this.i18n.viewUserProfile,
{name:this.profile.firstName}));this.own(y["default"](this.viewBtn,"click",function(){location.hash=""}))};return q=p.__decorate([u["default"](l["default"],g["default"])],q)}()})},"arcgisonline/pages/user/settings/rows/MapViewerRow":function(){define("require exports tslib preact dojo/text!./templates/MapViewerRow.html dojo/i18n!../../../../nls/arcgisonline dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/utils/alerts arcgisonline/pages/components/MapViewerSelect arcgisonline/pages/utils/mapViewer arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);h=p.__importDefault(h);return function(){function e(d,a){this.templateString=t["default"];this.i18n=p.__assign({},m["default"].userProfile);this.isOwner=!1;this.handleSelectChange=this.handleSelectChange.bind(this)}e.prototype.postCreate=function(){this.inherited(arguments);
this.descEl.innerHTML=this.i18n.defaultMapViewerDesc+' \x3ca href\x3d"'+(""+this.portal.helpBase+(this.portal.helpMap.m["120002710"]||""))+'" target\x3d"_blank"\x3e'+m["default"].common.learnMore+"\x3c/a\x3e";this.render()};e.prototype.render=function(){var d,a,b,c=this.portal.portalUser,k=n.determineOrgMapViewer({mapViewer:null===(d=this.portal.portalProperties)||void 0===d?void 0:d.mapViewer,created:this.portal.created,subscriptionInfo:this.portal.subscriptionInfo,isPortal:this.portal.isPortal});
d=(null===(b=null===(a=this.profile)||void 0===a?void 0:a.properties)||void 0===b?void 0:b.mapViewer)||((null===c||void 0===c?0:c.orgId)?k:n.MapViewerType.Classic);this.renderMapViewerSelect(d)};e.prototype.renderMapViewerSelect=function(d){y.render(y.h(x["default"],{value:d,onChange:this.handleSelectChange,portal:this.portal}),this.domNode.querySelector(".js-map-viewer-select"))};e.prototype.handleSelectChange=function(d){var a=this;this.renderMapViewerSelect(d);var b=p.__assign(p.__assign({},this.profile.properties),
{mapViewer:d});f["default"].publish("settings-update",{action:"update",label:"map viewer"});this.setProperties(b).then(function(c){c.success?(z["default"].showAlert("success",a.i18n.updateSuccess),a.profile.properties.mapViewer=d,f["default"].publish("mapviewer/user-update",b.mapViewer)):z["default"].showAlert("error",a.i18n.updateError)},function(){z["default"].showAlert("error",a.i18n.updateError)})};e.prototype.setProperties=function(d){return q["default"].request({url:u["default"].restBaseUrl+
"community/users/"+this.profile.username+"/setProperties",content:{properties:JSON.stringify(d)}},{usePost:!0})};return e=p.__decorate([h["default"](l["default"],g["default"])],e)}()})},"arcgisonline/pages/components/MapViewerSelect":function(){define(["require","exports","tslib","preact","dojo/i18n!../../nls/org-settings"],function(T,J,p,y,t){Object.defineProperty(J,"__esModule",{value:!0});t=p.__importDefault(t);J["default"]=function(m){var f=m.value,g=m.onChange;p.__assign({},t["default"].mapTab.mapViewer);
return y.h("div",null,y.h("div",{"class":"flex"},y.h("div",null,[{text:"Map Viewer",value:"modern"},{text:"Map Viewer Classic",value:"classic"}].map(function(l){return y.h("label",{"for":"primary-mv-"+l.value,key:l.value,"class":"leader-quarter trailer-quarter flex flex-align-center"},y.h("input",{type:"radio",id:"primary-mv-"+l.value,name:"primaryViewer",value:l.value,checked:f===l.value,onClick:function(){return g(l.value)}}),l.text)})),y.h("div",{"class":"flex-1"})))}})},"arcgisonline/pages/user/settings/rows/CategoriesRow":function(){define("require exports tslib dojo/text!./templates/CategoriesRow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/tsutils/declareDecorator preact arcgisonline/pages/components/MemberCategories/CategoryPicker/CategoryChip".split(" "),
function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=y["default"];this.i18n=p.__assign({},t["default"].userProfile)}q.prototype.postCreate=function(){this.inherited(arguments);l.render(l.h(l.Fragment,null,this.profile.categories.map(function(z){return l.h(u["default"],{key:z,categoryPath:z})})),this.domNode.querySelector(".js-category-chips"))};
return q=p.__decorate([g["default"](f["default"],m["default"])],q)}()})},"arcgisonline/pages/components/MemberCategories/CategoryPicker/CategoryChip":function(){define("require exports tslib preact ../helpers arcgisonline/pages/utils/formatters dojo/i18n!../../../../nls/arcgisonline".split(" "),function(T,J,p,y,t,m,f){Object.defineProperty(J,"__esModule",{value:!0});m=p.__importDefault(m);f=p.__importDefault(f);J["default"]=function(g){var l=g.categoryPath,u=g.onRemove,q=p.__assign({},f["default"].contentCategories);
g=t.getPartialPath(l);q=q.removeCategoryX.replace("${category}",g);var z=function(x){x.preventDefault();u(l)};return y.h("span",{"class":"label categorize-member-card__category-chip margin-right-quarter"},y.h("div",{"class":"flex flex-align-center"},m["default"].formatCategoryChip(g),u&&y.h("button",{type:"button","class":"btn-link filter-label-remove margin-left-quarter right member-category__remove","aria-label":q,onClick:z},y.h("calcite-icon",{icon:"x",scale:"m"}))))}})},"arcgisonline/pages/components/MemberCategories/helpers":function(){define(["require",
"exports","tslib","arcgisonline/pages/utils/categories","dojo/string"],function(T,J,p,y,t){function m(K){K=K.filter(function(V){return V.title}).map(function(V){return p.__assign({},V)});K.forEach(function(V){var Z;if(null===(Z=V.categories)||void 0===Z?0:Z.length)V.categories=m(V.categories)});return K}function f(K,V,Z){return Z.map(function(ca){var ea;return ca.path===K?p.__assign(p.__assign({},ca),{finishAdding:V}):(null===(ea=ca.categories)||void 0===ea?0:ea.length)?p.__assign(p.__assign({},ca),
{finishAdding:!1,categories:f(K,V,ca.categories)}):p.__assign(p.__assign({},ca),{finishAdding:!1})})}function g(K,V,Z){return Z.map(function(ca){var ea;return ca.path===K?p.__assign(p.__assign({},ca),{finishEditing:V,errorMessage:""}):(null===(ea=ca.categories)||void 0===ea?0:ea.length)?p.__assign(p.__assign({},ca),{finishEditing:!1,errorMessage:"",categories:g(K,V,ca.categories)}):p.__assign(p.__assign({},ca),{finishEditing:!1,errorMessage:""})})}function l(K){return K.map(function(V){var Z;V=p.__assign(p.__assign({},
V),{finishAdding:!1,finishEditing:!1});if(null===(Z=V.categories)||void 0===Z?0:Z.length)V=p.__assign(p.__assign({},V),{categories:l(V.categories)});return V})}function u(K,V,Z,ca){void 0===ca&&(ca=!1);Z=Z.map(function(ea){var ka;if(ea.path&&ea.path===K&&!ca)return ca=!0,p.__assign(p.__assign({},ea),{isEditing:V,saveDisabled:!0});(null===(ka=ea.categories)||void 0===ka?0:ka.length)&&!ca&&(ea.categories=u(K,V,ea.categories,ca));return p.__assign({},ea)});return p.__spreadArray([],Z)}function q(K,V,
Z){return Z.map(function(ca){var ea=p.__spreadArray([],ca.categories||[]);ea.length&&(ea=q(K,V,ea));return ca.path&&ca.path===K?p.__assign(p.__assign({},ca),{sorting:V,categories:ea}):p.__assign(p.__assign({},ca),{sorting:!1,categories:ea})})}function z(K){return K.categories.map(function(V){var Z;if(null===(Z=V.categories)||void 0===Z?0:Z.length)V.categories=z(V);return p.__assign(p.__assign({},V),{selected:!1,indeterminate:!1})})}function x(K){var V;return!(null===(V=K.categories)||void 0===V||
!V.length)&&K.categories.some(function(Z){var ca;return Z.selected||Z.indeterminate||!(null===(ca=Z.categories)||void 0===ca||!ca.length)&&x(Z)})}function n(K,V){return V.map(function(Z){var ca;Z=p.__assign({},Z);if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=n(K,Z.categories);-1<K.indexOf(Z.path)&&(Z.indeterminate=x(Z));return Z})}function h(K,V,Z,ca){void 0===Z&&(Z=!1);void 0===ca&&(ca=[]);var ea=!K.selected;return V.map(function(ka){var la,ta;if(ka.path&&ka.path===K.path&&!Z)return Z=
!0,!ea&&(null===(la=ka.categories)||void 0===la?0:la.length)&&(ka.categories=z(ka)),ea?p.__assign(p.__assign({},ka),{selected:ea,indeterminate:!1}):p.__assign(p.__assign({},ka),{selected:ea});(null===(ta=ka.categories)||void 0===ta?0:ta.length)&&!Z&&(-1<K.path.indexOf(ka.path)&&ka.path!==J.rootTitle&&(ka=p.__assign(p.__assign({},ka),{selected:ea}),ea?ka.indeterminate=!1:ca.push(ka.path)),ka.categories=h(K,ka.categories,Z,ca));return p.__assign({},ka)})}function e(K){return-1<K.indexOf(J.rootTitle)?
K:""+J.rootTitle+K}function d(K,V){void 0===V&&(V=[]);K.forEach(function(Z){var ca;if(Z.selected||Z.indeterminate)null!==(ca=Z.categories)&&void 0!==ca&&ca.some(function(ea){return ea.selected||ea.indeterminate})?d(Z.categories,V):Z.selected&&V.push(Z.path)});return V}function a(K,V){void 0===V&&(V=[]);K.forEach(function(Z){var ca;Z.indeterminate&&V.push(Z.path);(null===(ca=Z.categories)||void 0===ca?0:ca.length)&&a(Z.categories,V)});return V}function b(K,V){var Z=y["default"].getSchemaOrder(V);return p.__spreadArray([],
K).sort(function(ca,ea){return Z[ca]-Z[ea]})}function c(K,V){return V.map(function(Z){var ca,ea=K.filter(function(ka){var la;return null===(la=ka.categories)||void 0===la?void 0:la.some(function(ta){var za;return e(ta)===Z.path||(null===(za=Z.categories)||void 0===za?void 0:za.length)&&-1<e(ta).indexOf(Z.path)})});ea.length?ea.length===K.length?Z=p.__assign(p.__assign({},Z),{selected:!0,indeterminate:!1}):ea.length<K.length&&(Z=p.__assign(p.__assign({},Z),{selected:!1,indeterminate:!0})):Z=p.__assign(p.__assign({},
Z),{selected:!1,indeterminate:!1});if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=c(K,Z.categories);return p.__assign({},Z)})}function k(K){return K.map(function(V){var Z,ca={title:V.title};if(null===(Z=V.categories)||void 0===Z?0:Z.length)ca.categories=k(V.categories);return ca})}function r(K,V){void 0===V&&(V="");return K.map(function(Z){var ca,ea=(V?V+"/":"/")+Z.title;return{title:Z.title,path:ea,categories:(null===(ca=Z.categories)||void 0===ca?0:ca.length)?r(Z.categories,ea):
[]}})}function v(K,V){return V?K.map(function(Z){var ca,ea=p.__assign({},Z);Z=Z.path.toLowerCase();ea.memberCount=V[Z]||0;if(null===(ca=ea.categories)||void 0===ca?0:ca.length)ea.categories=v(ea.categories,V);return ea}):K}function B(K,V){void 0===V&&(V=1);var Z=K.querySelector(":scope \x3e .category-editor-group \x3e .member-categories-list \x3e .js-member-category-node");return Z?(V++,B(Z,V)):V}function C(K,V){return V.map(function(Z){if(Z.path===K){var ca={title:"",categories:[],isEditing:!0,path:Z.path+
"/",saveDisabled:!0};return p.__assign(p.__assign({},Z),{categories:p.__spreadArray(p.__spreadArray([],Z.categories),[ca])})}return-1<K.indexOf(Z.path)&&(null===(ca=Z.categories)||void 0===ca?0:ca.length)?p.__assign(p.__assign({},Z),{categories:C(K,Z.categories)}):p.__assign({},Z)})}function A(K,V){return V.map(function(Z){var ca;if(K===Z.path)return p.__assign(p.__assign({},Z),{collapsed:!Z.collapsed});if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=A(K,Z.categories);return p.__assign({},
Z)})}function E(K,V){var Z=K.substring(0,K.lastIndexOf("/")),ca=[];V.some(function(ea){if(ea.path===Z)return ca=ea.categories.filter(function(ka){return ka.path!==K}),!0;if(-1<K.indexOf(ea.path+"/"))return ca=E(K,ea.categories),!0});return ca}function F(K){return K.substring(0,K.lastIndexOf("/"))}function w(K,V,Z){return Z.map(function(ca){var ea;ca.path===K?ca.categories=ca.categories.filter(function(ka){return ka.path!==V}):-1<V.indexOf(ca.path)&&(null===(ea=ca.categories)||void 0===ea?0:ea.length)&&
(ca.categories=w(K,V,ca.categories));return p.__assign({},ca)})}function D(K,V,Z){var ca=K.substring(0,K.lastIndexOf("/"));return Z.map(function(ea){var ka;ea.path===ca?ea.categories=V:-1<K.indexOf(ca)&&(null===(ka=ea.categories)||void 0===ka?0:ka.length)&&(ea.categories=D(K,V,ea.categories));return p.__assign({},ea)})}function G(K,V){var Z=F(K);V.some(function(ca){if(ca.path===Z)return ca.categories=ca.categories.filter(function(ea){return ea.path!==K}),!0;if(-1<K.indexOf(ca.path+"/"))return ca.categories=
G(K,ca.categories),!0});return p.__spreadArray([],V)}function H(K,V){return V.map(function(Z){var ca;if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=H(K,Z.categories);return p.__assign(p.__assign({},Z),{searchTerm:K,hidden:!R(K,Z)})})}function M(K,V){return V.map(function(Z){return p.__assign(p.__assign({},Z),{categories:p.__spreadArray([],Z.categories||[])})}).filter(function(Z){var ca,ea,ka=-1<Z.path.search(new RegExp(K,"i"));if(null===(ca=Z.categories)||void 0===ca?0:ca.length)Z.categories=
M(K,Z.categories);return ka||0<(null===(ea=Z.categories)||void 0===ea?void 0:ea.length)})}function R(K,V){var Z;return-1<V.title.search(new RegExp(K,"i"))||!K?!0:(null===(Z=V.categories)||void 0===Z?0:Z.length)?V.categories.some(function(ca){return R(K,ca)}):!1}function N(K,V){void 0===V&&(V=0);K.forEach(function(Z){var ca;"/Categories"!==Z.path&&V++;if(null===(ca=Z.categories)||void 0===ca?0:ca.length)V=N(Z.categories,V)});return V}Object.defineProperty(J,"__esModule",{value:!0});J.getCategoryCount=
J.matchSearchTerm=J.filterCategoriesBySearchTerm=J.searchCategories=J.removeCategory=J.reorderCategories=J.removeCategoryFromSrc=J.getParentPath=J.getSiblings=J.toggleCollapsed=J.removeCategoriesFromMembers=J.updateCategorizedMembers=J.addCategory=J.getDraggedLevel=J.isDuplicateTitle=J.getCategoryLevel=J.updateMemberCount=J.convertToCategoryData=J.removeExtraProperties=J.updateSelectedFromMembers=J.updateMembersFromSelected=J.sortCategoryPaths=J.getPartialPath=J.getFullPath=J.toggleSelected=J.fixDeselectedParents=
J.getNodePositionText=J.toggleSorting=J.updateIsEditing=J.clearEditOrAddProperties=J.updateFinishEditing=J.updateFinishAdding=J.removeEmptyCategories=J.rootTitle=void 0;y=p.__importDefault(y);t=p.__importDefault(t);J.rootTitle="/Categories";J.removeEmptyCategories=m;J.updateFinishAdding=f;J.updateFinishEditing=g;J.clearEditOrAddProperties=l;J.updateIsEditing=u;J.toggleSorting=q;J.getNodePositionText=function(K,V){var Z=Array.from(K.parentElement.children).filter(function(ea){return!ea.classList.contains("member-category-node__placeholder")&&
!ea.classList.contains("member-category__add-sibling")}),ca=Z.length;Z=Z.findIndex(function(ea){return ea===K})+1;return t["default"].substitute(V,{n:Z,total:ca})};J.fixDeselectedParents=n;J.toggleSelected=h;J.getFullPath=e;J.getPartialPath=function(K){return K.replace(new RegExp(J.rootTitle+"/"),"/")};J.sortCategoryPaths=b;J.updateMembersFromSelected=function(K,V){var Z=d(V[0].categories),ca=a(V[0].categories);return K.map(function(ea){ea.categories||(ea.categories=[]);ea.categories=ea.categories.filter(function(ka){return-1<
Z.indexOf(ka)||-1<ca.indexOf(ka)});Z.forEach(function(ka){var la=ea.categories.some(function(ta){return-1<ta.indexOf(ka)});-1!==ea.categories.indexOf(ka)||la||ea.categories.push(ka)});return p.__assign(p.__assign({},ea),{categories:b(ea.categories,V)})})};J.updateSelectedFromMembers=c;J.removeExtraProperties=k;J.convertToCategoryData=r;J.updateMemberCount=v;J.getCategoryLevel=function(K){return K.match(/\//g).length-1};J.isDuplicateTitle=function(K,V){var Z=V.dataset.title,ca=!1;K.querySelectorAll(":scope \x3e li.member-category:not(.gu-transit)").forEach(function(ea){ea.dataset.title===
Z&&(ca=!0)});return ca};J.getDraggedLevel=B;J.addCategory=C;J.updateCategorizedMembers=function(K,V,Z){Object.keys(K).forEach(function(ca){var ea=[];K[ca].map(function(ka){return ka.replace(V,Z)}).forEach(function(ka){if(!ea.find(function(ta){return-1<ta.indexOf(ka)})){var la=ea.findIndex(function(ta){return-1<ka.indexOf(ta)});-1<la?ea.splice(la,1,ka):ea.push(ka)}});K[ca]=ea});return p.__assign({},K)};J.removeCategoriesFromMembers=function(K,V){Object.keys(K).forEach(function(Z){K[Z]=K[Z].filter(function(ca){ca=
e(ca);return ca!==V&&-1===ca.indexOf(V)})});return p.__assign({},K)};J.toggleCollapsed=A;J.getSiblings=E;J.getParentPath=F;J.removeCategoryFromSrc=w;J.reorderCategories=D;J.removeCategory=G;J.searchCategories=H;J.filterCategoriesBySearchTerm=M;J.matchSearchTerm=R;J.getCategoryCount=N})},"arcgisonline/pages/user/settings/contents/Security":function(){define("require exports tslib dojo/_base/kernel ./BaseContent ../UserSettingsCard ../rows/PasswordRow ../rows/MFARow ../rows/SecurityQuestionRow arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){}x.prototype.postCreate=function(){this.inherited(arguments);var n={url:u["default"].getSecureUrl(q["default"].restBaseUrl)+"oauth2/authorize",clientId:"arcgisonline",redirectUri:q["default"].baseUrl+"postresetpassword.html",parent:window.location.protocol+
"//"+window.location.host,expiration:20160,locale:y["default"].locale},h=[];this.isArcGISUser&&this.isOwner&&h.push(this.createRow(f["default"],{oAuthInfo:n}));this.shouldShowMFA&&h.push(this.createRow(g["default"],{oAuthInfo:n,isOwner:this.isOwner,isArcGISUser:this.isArcGISUser}));this.isArcGISUser&&this.isOwner&&h.push(this.createRow(l["default"]));this.cards=[new m["default"]({rows:h})];this.inherited(arguments)};return x=p.__decorate([z["default"](t["default"])],x)}()})},"arcgisonline/pages/user/settings/rows/PasswordRow":function(){define("require exports tslib dojo/topic dojo/on dojo/text!./templates/RowWithButton.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);return function(){function z(x,n){this.templateString=m["default"];this.i18n=p.__assign({},f["default"].userProfile);this.labelText=this.i18n.newPwdLabel;this.btnText=this.i18n.passwordBtnLabel}z.prototype.postCreate=function(){var x=this;this.inherited(arguments);this.btn.id="change-password";
this.own(t["default"](this.btn,"click",function(){y["default"].publish("settings-update",{action:"click",label:"change password"});var n=p.__assign(p.__assign({},x.oAuthInfo),{redirectUri:encodeURIComponent(x.oAuthInfo.redirectUri+"?isPortal\x3d"+q["default"].self.isPortal)});location.href=n.url+"?client_id\x3d"+n.clientId+"\x26redirect_uri\x3d"+n.redirectUri+"\x26response_type\x3dtoken\x26expiration\x3d"+n.expiration+"\x26locale\x3d"+n.locale+"\x26resetPassword\x3dtrue"}))};return z=p.__decorate([u["default"](l["default"],
g["default"])],z)}()})},"arcgisonline/pages/user/settings/rows/MFARow":function(){define("require exports tslib dojo/topic dojo/on dojo/string dojo/text!./templates/MFARow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/pageUtil arcgisonline/sharing/dijit/dialog/DeleteWarningDlg arcgisonline/sharing/util arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),function(T,
J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);return function(){function a(b,c){this.templateString=f["default"];this.i18n=p.__assign(p.__assign({},g["default"].userProfile),g["default"].common)}
a.prototype.postCreate=function(){this.inherited(arguments);this.enableBtn.id="enable-mfa";this.disableBtn.id="disable-mfa";this.profile.mfaEnabled?(this.readonlyValue.innerHTML=this.i18n.enabledLabel,z["default"].showNode(this.disableBtn),z["default"].hideNode(this.enableBtn)):(this.readonlyValue.innerHTML=this.i18n.disabledLabel,z["default"].showNode(this.enableBtn),z["default"].hideNode(this.disableBtn));var b=this.isArcGISUser&&!this.isOwner&&this.profile&&!this.profile.mfaEnabled;z["default"].showHide(this.readonlyValue,
b);z["default"].showHide(this.btnsContainer,!b);this.reallyDisableMFA=this.reallyDisableMFA.bind(this);this.addEventListeners()};a.prototype.addEventListeners=function(){var b=this;this.own(t["default"](this.enableBtn,"click",function(){return b.handleEnableClick()}),t["default"](this.disableBtn,"click",function(){return b.handleDisableClick()}))};a.prototype.handleEnableClick=function(){y["default"].publish("settings-update",{action:"click",label:"multifactor"});this.oAuthInfo.redirectUri=encodeURIComponent(d["default"].baseUrl+
"postmfa.html");location.href=m["default"].substitute("${url}?client_id\x3d${clientId}\x26redirect_uri\x3d${redirectUri}\x26response_type\x3dtoken\x26expiration\x3d${expiration}\x26locale\x3d${locale}\x26enableMfa\x3dtrue",this.oAuthInfo)};a.prototype.handleDisableClick=function(){x["default"].createSpecifiedDialog(n["default"]).showMsgTitleButton(this.i18n.disableMultiFactorMsg,this.i18n.disable+" "+this.i18n.multiFactorAuth,this.i18n.disable,this.reallyDisableMFA)};a.prototype.reallyDisableMFA=
function(){var b=this;y["default"].publish("settings-update",{action:"update",label:"multifactor"});var c=h["default"].getSecureUrl(d["default"].restBaseUrl)+"community/users/"+this.profile.username+"/disableMfa";h["default"].request({url:c},{usePost:!0}).then(function(){q["default"].showAlert("success",b.i18n.disableMultiFactorSuccess);b.profile.mfaEnabled=!1;z["default"].showNode(b.enableBtn);z["default"].hideNode(b.disableBtn)},function(){var k=m["default"].substitute(b.i18n.error.disableMultiFactor,
{user:b.profile.username});q["default"].showAlert("error",k)})};return a=p.__decorate([e["default"](u["default"],l["default"])],a)}()})},"arcgisonline/sharing/dijit/dialog/DeleteWarningDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated"],function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg");T.require("dijit.Dialog");T.require("dijit._Widget");T.require("dijit._Templated");T.declare("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg",
[J._Widget,J._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"delete-warning-dialog" class\x3d"general-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.deleteWarningDlgTitle}"\x3e\r\n    \x3cdiv id\x3d"delete-warning-dialog-content" class\x3d"leader-quarter break-word"\x3e\x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"esriFloatTrailing right leader-1 clearfix flex flex-align-center"\x3e\r\n      \x3cspan id\x3d"delete-status" class\x3d"text-right margin-right-half" style\x3d"display: none;"\x3e${!i18n.deletingSpace}\x3c/span\x3e\r\n\t\x3c!-- "primary" / "calcite orange" used since this is a delete confirmation --\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-submit" class\x3d"jevent calcite orange btn-delete" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.deleteLabel}\r\n      \x3c/button\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-close" class\x3d"jevent cancel" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
handler:null,manualHide:!1,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.DeleteWarningDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=T.i18n.getLocalization("arcgisonline","arcgisonline").common;T.mixin(this.i18n,T.i18n.getLocalization("arcgisonline","arcgisonline").deleteWarningDlg)},postCreate:function(){this.loadConnections()},show:function(y,t,m,f){this.handler=m;this.clear();
if(null==t||""==t)t="item";J.byId("button_delete-warning-submit").set("disabled",!1);J.byId("button_delete-warning-close").set("disabled",!1);this.manualHide=f;m="";m=1==y?T.string.substitute(this.i18n.confirmDeleteItem,[t]):T.string.substitute(this.i18n.confirmDeleteItems,[y,t]);T.byId("delete-warning-dialog-content").innerHTML=m;T.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel;T.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel;T.style(T.byId("delete-status"),
"display","none");J.byId("delete-warning-dialog").show()},showMsg:function(y,t,m){null!=y&&0!=y.length&&(this.handler=t,this.clear(),J.byId("button_delete-warning-submit").set("disabled",!1),J.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=m,T.byId("delete-warning-dialog-content").innerHTML=y,T.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel,T.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel,T.style(T.byId("delete-status"),"display",
"none"),J.byId("delete-warning-dialog").show())},showMsgTitleButton:function(y,t,m,f,g){null!=y&&0!=y.length&&(this.handler=f,this.clear(),J.byId("button_delete-warning-submit").set("disabled",!1),J.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=g,T.byId("delete-warning-dialog-content").innerHTML=y,T.byId("delete-warning-dialog_title").innerHTML=t,T.byId("button_delete-warning-submit_label").innerHTML=m,T.style(T.byId("delete-status"),"display","none"),J.byId("delete-warning-dialog").show())},
renameDeleteButton:function(y){J.byId("button_delete-warning-submit").set("label",y)},renameCancelButton:function(y){J.byId("button_delete-warning-close").set("label",y)},clear:function(){},loadConnections:function(){this.own(T.query("#button_delete-warning-close").connect("onclick",function(y){y.preventDefault();if(this.onHide)this.onHide();J.byId("delete-warning-dialog").hide()}.bind(this)),T.query("#button_delete-warning-submit").connect("onclick",T.hitch(this,"submitRequest")))},submitRequest:function(y){y.preventDefault();
this.handler();this.manualHide?(T.style(T.byId("delete-status"),"display","inline-block"),J.byId("button_delete-warning-submit").set("disabled",!0),J.byId("button_delete-warning-close").set("disabled",!0)):J.byId("delete-warning-dialog").hide()},hide:function(){J.byId("delete-warning-dialog").hide()}})})},"arcgisonline/pages/user/settings/rows/SecurityQuestionRow":function(){define("require exports tslib dojo/topic dojo/on dojo/Deferred dojo/text!./templates/SecurityQuestionRow.html dojo/i18n!../../../../nls/arcgisonline ./BaseRow ./EditMixin arcgisonline/sharing/util arcgisonline/pages/utils/validation arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(e,d){this.templateString=f["default"];this.i18n=p.__assign(p.__assign({},g["default"].common),g["default"].userProfile);this.securityQuestionIdx=-1}h.prototype.postCreate=function(){var e=
this;this.inherited(arguments);this.editBtn.id="update-security-question";this.i18n.securityQuestions=g["default"].securityQuestions;this.addEventListeners();this.getUserProvider().then(function(){e.render()})};h.prototype.addEventListeners=function(){var e=this;this.own(t["default"](this.editBtn,"click",function(){return e.showForm()}),t["default"](this.cancelBtn,"click",function(){return e.handleCancelClick()}),t["default"](this.saveBtn,"click",function(){return e.handleSaveClick()}),t["default"](this.answerInput,
"input",function(){return e.handleAnswerInput()}))};h.prototype.render=function(){var e=this,d=this.i18n.securityQuestions;this.selectedQuestion.textContent=1<=this.securityQuestionIdx?d[this.securityQuestionIdx]:this.i18n.questionPrompt;Object.keys(d).forEach(function(a){e.questionsSelect.add(new Option(d[a],a))});this.questionsSelect.value=""+this.securityQuestionIdx};h.prototype.handleAnswerInput=function(){this.answerInput.value.trim()?z["default"].clearState([this.answerInput,this.answerError]):
z["default"].setInvalidState(this.answerInput,this.answerError)};h.prototype.handleCancelClick=function(){this.resetFormAndHide();y["default"].publish("settings-update",{action:"cancel",label:"security question"})};h.prototype.resetFormAndHide=function(){this.questionsSelect.value=""+this.securityQuestionIdx;this.answerInput.value="";z["default"].clearState([this.answerInput,this.answerError]);this.hideForm()};h.prototype.handleSaveClick=function(){var e=this;this.hasChanges()?this.answerInput.value.trim()?
(y["default"].publish("settings-update",{action:"save",label:"security question"}),this.updateProfile({securityQuestionIdx:+this.questionsSelect.value,securityAnswer:this.answerInput.value.trim()}).then(function(){e.securityQuestionIdx=+e.questionsSelect.value;e.selectedQuestion.textContent=1<=e.securityQuestionIdx?e.i18n.securityQuestions[e.securityQuestionIdx]:e.i18n.questionPrompt;e.resetFormAndHide()},function(){e.resetFormAndHide()})):z["default"].setInvalidState(this.answerInput,this.answerError):
this.hideForm()};h.prototype.hasChanges=function(){return+this.questionsSelect.value!==this.securityQuestionIdx||this.answerInput.value.trim()};h.prototype.getUserProvider=function(){var e=this,d=new m["default"];q["default"].request({url:n["default"].restBaseUrl+"community/users/"+this.profile.username+"/forgotPassword"}).then(function(a){e.securityQuestionIdx=a.securityQuestionIdx;d.resolve()},function(){d.resolve()});return d};return h=p.__decorate([x["default"](l["default"],u["default"])],h)}()})},
"arcgisonline/pages/user/settings/contents/Credits":function(){define("require exports tslib ./BaseContent ../UserSettingsCard ../rows/CreditsRow arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);return function(){function g(l,u){}g.prototype.postCreate=function(){this.inherited(arguments);this.cards=[new t["default"]({rows:[this.createRow(m["default"])]})];this.inherited(arguments)};
return g=p.__decorate([f["default"](y["default"])],g)}()})},"arcgisonline/pages/user/settings/rows/CreditsRow":function(){define("require exports tslib dojo/string dojo/text!./templates/CreditsRow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/organization/widgets/ProgressBar arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/pages/utils/number arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,
u,q,z,x){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);return function(){function n(h,e){this.templateString=t["default"];this.i18n=p.__assign(p.__assign({},m["default"].userProfile),m["default"].common);this.isOrgRestricted=!1;this.orgLimitText=""}n.prototype.postMixInProperties=function(){this.inherited(arguments);
this.isOrgRestricted=!this.portal.isPortal&&0>this.portal.subscriptionInfo.availableCredits;var h=z["default"].format(this.isOrgRestricted||void 0===this.profile.availableCredits?this.portal.subscriptionInfo.availableCredits:this.profile.availableCredits,2);this.orgLimitText=y["default"].substitute(this.isOrgRestricted?this.i18n.orgCreditBalance:this.i18n.upToOrgLimit,{num:this.isOrgRestricted?'\x3cspan class\x3d"text-red"\x3e'+h+"\x3c/span\x3e":h})};n.prototype.postCreate=function(){this.inherited(arguments);
this.creditsDesc.innerHTML=y["default"].substitute(this.i18n.creditsDesc,{linkStart:'\x3ca href\x3d"'+(""+this.portal.helpBase+(this.portal.helpMap.m["120001873"]||""))+'" target\x3d"_blank"\x3e',linkEnd:"\x3c/a\x3e",icon:'\x3cspan class\x3d"margin-left-half"\x3e'+u["default"].inline.launch["16"]+"\x3c/span\x3e"});this.render()};n.prototype.render=function(){void 0===this.profile.assignedCredits||-1===this.profile.assignedCredits||this.isOrgRestricted?this.renderNoLimit():this.renderProgressBarAndRemaining()};
n.prototype.renderNoLimit=function(){q["default"].hideNode(this.hasLimitSection);this.isOrgRestricted&&(this.unlimitedLabel.textContent=this.i18n.unavailable,this.unlimitedLabel.classList.add("text-red"));q["default"].showNode(this.noLimitSection)};n.prototype.renderProgressBarAndRemaining=function(){this.remainingValue.textContent=z["default"].format(this.profile.availableCredits,2);this.assignedValue.textContent=z["default"].format(this.profile.assignedCredits,2);var h=new l["default"]({used:this.profile.assignedCredits-
this.profile.availableCredits,total:this.profile.assignedCredits,warnPercent:100},this.domNode.querySelector(".js-progress-bar"));0>=this.profile.availableCredits&&this.remainingValue.classList.add("user-settings__credits-value--red");h.domNode.querySelector(".overview-progress-bar").classList.remove("overview-progress-bar")};return n=p.__decorate([x["default"](g["default"],f["default"])],n)}()})},"arcgisonline/pages/organization/widgets/ProgressBar":function(){define("require exports tslib dojo/text!./templates/_progressBar.html dojo/on dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom ../../../tsutils/declareDecorator ./_ProgressMixin".split(" "),
function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=y["default"];this._classPrefix="progress-bar-fill"}q.prototype.postCreate=function(){this.inherited(arguments);this._addCssClasses();document.body.appendChild(this.hoverLabel);this.addEventListeners()};q.prototype.destroy=function(){document.body.removeChild(this.hoverLabel);
this.inherited(arguments)};q.prototype.update=function(z,x){var n=this;this.used=z;this.total=x;this._cssClasses.forEach(function(h){n._bar.classList.remove(h)});this._addCssClasses()};q.prototype.warn=function(){this._bar.classList.remove(this._classPrefix+"--"+this._green);this._bar.classList.contains(this._classPrefix+"--"+this._red)||this._bar.classList.add(this._classPrefix+"--"+this._red);this.progressCss.color=this._red};q.prototype._addCssClasses=function(){var z=this,x=this.getProgressCss();
this._cssClasses=[this._classPrefix+"--"+x.color];this.noRounding?this._bar.style.width=x.percent+"%":this._cssClasses.push(this._classPrefix+"-"+x.percent);this._cssClasses.forEach(function(n){z._bar.classList.add(n)})};q.prototype.addEventListeners=function(){this.own(t["default"](this._bar,"mouseover",this.handleMouseOver.bind(this)),t["default"](this._bar,"mouseout",this.handleMouseOut.bind(this)))};q.prototype.handleMouseOver=function(z){if(this.hoverLabelFunc){var x=this._bar.getBoundingClientRect();
this.hoverLabel.style.top=x.top+x.height+10+"px";this.hoverLabel.style.left=z.clientX+"px";this.hoverLabel.innerHTML=this.hoverLabelFunc();g["default"].showNode(this.hoverLabel)}};q.prototype.handleMouseOut=function(){g["default"].hideNode(this.hoverLabel)};return q=p.__decorate([l["default"](f["default"],m["default"],u["default"])],q)}()})},"arcgisonline/pages/organization/widgets/_ProgressMixin":function(){define(["require","exports"],function(T,J){return function(){function p(){this.cssClasses=
"";this.showAvailable=!1;this.warnPercent=90;this.noRounding=!1;this._green="dark-green";this._red="red"}p.prototype.getProgressCss=function(){var y=this.used,t=this.total;0===y&&0<t?y=0:0<y&&0===t||y>t?y=100:this.noRounding?y=y/t*100:(y=Math.round(y/t*100)/10,y=10*Math[1>y&&0<y?"ceil":"round"](y));return this.progressCss={percent:this.showAvailable?100-y:y,color:this.getProgressColor(y)}};p.prototype.getProgressColor=function(y){return 0===y?this._green:this.used>this.total?this._red:-1!==this.warnPercent&&
y>=this.warnPercent?this._red:this._green};return p}()})},"arcgisonline/pages/user/settings/contents/Licenses":function(){define("require exports tslib ./BaseContent ../UserSettingsCard ../rows/UserTypeRow ../rows/RoleRow ../rows/LicensedProductsRow arcgisonline/pages/utils/dom arcgisonline/pages/utils/organization arcgisonline/sharing/geow/Licenses arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);
f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){}x.prototype.postCreate=function(){var n=this;this.inherited(arguments);this.licensesAPI=new q["default"];u["default"].initLicensesConfig(this.portal).then(function(){return n.getUserType()}).then(function(h){var e;if(h){var d=h.apps;if(null===(e=h.apps)||void 0===e?0:e.some(function(a){return a.isViewOnly}))d=u["default"].transformAppBundleApps(d,
n.portal.isPortal);d.forEach(function(a){a.isAppBundle||(a.title=u["default"].getAppTitle(a))});h.extensions&&(d=p.__spreadArray(p.__spreadArray([],d),h.extensions));n.cards=[new t["default"]({rows:[n.createRow(m["default"],{userType:h}),n.createRow(f["default"]),n.createRow(g["default"],{userTypeApps:d})]})];l["default"].appendChildren(n.cards.map(function(a){return a.domNode}),n.cardsContainer)}})};x.prototype.getUserType=function(){var n=this;return this.isAdmin||this.isOwner?this.licensesAPI.getUserLicenseType(this.profile.username):
this.licensesAPI.getLicenseTypes().then(function(h){h=h.userLicenseTypes;return null===h||void 0===h?void 0:h.filter(function(e){return e.id===n.profile.userLicenseTypeId})[0]})};return x=p.__decorate([z["default"](y["default"])],x)}()})},"arcgisonline/pages/user/settings/rows/UserTypeRow":function(){define("require exports tslib dojo/text!./templates/UserTypeRow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/dijit/InfoTooltip arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=y["default"];this.i18n=p.__assign({},t["default"].userProfile);this.icons=g["default"]}q.prototype.postCreate=function(){this.inherited(arguments);this.render()};q.prototype.render=function(){this.userTypeName.textContent=this.userType.name;new l["default"]({content:this.i18n.userTypesInfo+
('\x3ca href\x3d"'+(""+this.portal.helpBase+(this.portal.helpMap.m[this.portal.isPortal?"120001163":"120001561"]||""))+'" target\x3d"_blank"\x3e'+t["default"].myOrganization.licensesTab.learnMore+" "+g["default"].inline.launch["16"]+"\x3c/a\x3e"),buttonAriaLabel:this.i18n.learnMoreAboutUserTypes,buttonClasses:"tooltip"},this.domNode.querySelector(".js-info-icon"))};return q=p.__decorate([u["default"](f["default"],m["default"])],q)}()})},"arcgisonline/pages/dijit/InfoTooltip":function(){define("require exports tslib dojo/text!./InfoTooltip/templates/InfoTooltip.html dojo/i18n!../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/a11yclick ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(e,d){this.templateString=y["default"];this.i18n=t["default"];this.buttonClasses=this.content=this.title="";this.dialogClasses=[];this.orient=["above-centered","below-centered"];this.tooltipId=
"";this.icons=x["default"];this.preventInfoButtonEventDefault=!1;this.popoverClass=this.calciteIcon=this.icon=this.infoText="";this.isBlue=this.hideIcon=this.disabled=this.hideCloseBtn=!1}h.prototype.postMixInProperties=function(){this.inherited(arguments);this.buttonAriaLabel||(this.buttonAriaLabel=this.title)};h.prototype.postCreate=function(){this.inherited(arguments);this.disabled&&this._infoButton.classList.add("no-pointer");this.title||this._popoverContent.classList.remove("leader-half");this._popoverContent.innerHTML=
this.content;this.hideCloseBtn&&z["default"].hideNode(this._closeIcon);this._dialog=new l["default"]({id:this.tooltipId,"class":"popover "+this.popoverClass,title:this.title,content:this._popover});0<this.dialogClasses.length&&z["default"].addClasses(this._dialog.domNode,this.dialogClasses);void 0!==this.infoText&&(this._infoButton.className+=" flex flex-align-center",z["default"].showNode(this.infoTextEl));this.icon?this.iconWrapper.innerHTML=this.icon:this.calciteIcon&&(this.iconWrapper.innerHTML=
'\x3ccalcite-icon icon\x3d"'+this.calciteIcon+'" scale\x3d"s"\x3e\x3c/calcite-icon\x3e');this.hideIcon&&z["default"].hideNode(this.iconWrapper);this.isBlue&&this._infoButton.classList.remove("btn-link-darker-gray");this._addEventListeners()};h.prototype.closePopup=function(){u["default"].close(this._dialog)};h.prototype.destroy=function(){this.inherited(arguments);this._dialog&&this._dialog.destroy()};h.prototype.addContentClass=function(e){this._popoverContent.classList.add(e)};h.prototype.show=
function(){z["default"].showNode(this.domNode)};h.prototype.hide=function(){z["default"].hideNode(this.domNode)};h.prototype.getPopover=function(){return this._popover};h.prototype.update=function(e,d){this.infoTextEl.innerHTML=e;this._popoverContent.innerHTML=d};h.prototype._addEventListeners=function(){var e=this;this.own(q["default"](this._closeIcon,function(){u["default"].close(e._dialog);e._infoButton.focus()}),q["default"](this._infoButton,function(d){d.stopPropagation();e.preventInfoButtonEventDefault&&
d.preventDefault();e.disabled||(u["default"].open({popup:e._dialog,orient:e.orient,around:e._infoButton}),z["default"].showNode(e._popover),e._closeIcon.focus())}),m["default"](this._popover,"click",function(d){d.stopPropagation()}),m["default"](document.body,"click",function(d){u["default"].close(e._dialog)}))};return h=p.__decorate([n["default"](g["default"],f["default"])],h)}()})},"arcgisonline/pages/user/settings/rows/RoleRow":function(){define("require exports tslib dojo/on dojo/text!./templates/RoleRow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/RoleSummaryDlg arcgisonline/pages/pageUtil arcgisonline/pages/utils/icons arcgisonline/sharing/geow/Roles arcgisonline/sharing/dijit/_LevelAwareMixin arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);var h;(function(e){e.Admin="account_admin";e.Publisher="account_publisher";e.User="account_user";e.Viewer="account_viewer"})(h||(h={}));return function(){function e(d,a){this.templateString=t["default"];this.i18n=
p.__assign({},m["default"].userProfile);this.icons=q["default"]}e.prototype.postCreate=function(){this.inherited(arguments);this.rolesAPI=new z["default"];this.renderRoleName();this.addEventListeners()};e.prototype.addEventListeners=function(){var d=this;this.own(y["default"](this.infoBtn,"click",function(){u["default"].createSpecifiedDialog(l["default"],{role:d.role}).show()}))};e.prototype.renderRoleName=function(){var d,a=this,b=this.profile.roleId,c=this.profile.role,k=this.i18n,r=k.adminRole,
v=k.publisherRole,B=k.userRole,C=k.viewerRole,A=k.viewerEditRole,E=k.facilitatorRole;if(b)this.rolesAPI.getRole(b).then(function(w){if(null===w||void 0===w?0:w.name)w.id===a.SYSTEM_ROLES.VIEWER?w.name=C:w.id===a.SYSTEM_ROLES.DATA_EDITOR?w.name=A:w.id===a.SYSTEM_ROLES.FACILITATOR&&(w.name=E),F=w.name,a.roleName.textContent=F,w.privileges=a.profile.privileges,a.role=w});else{var F=(d={},d[h.Admin]=r,d[h.Publisher]=v,d[h.User]=B,d)[c];this.roleName.textContent=F;this.role={id:c,name:F}}};return e=p.__decorate([n["default"](g["default"],
f["default"],x["default"])],e)}()})},"arcgisonline/pages/dijit/RoleSummaryDlg":function(){define("require exports tslib dojo/text!./RoleSummaryDlg/RoleSummaryDlg.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase dijit/Dialog ./InviteMembers/MobileError ../../sharing/util ../../sharing/dijit/_LevelAwareMixin ../../sharing/dijit/Role ../../tsutils/declareDecorator ../../pages/utils/dom".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);
m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(){this.templateString=y["default"];this.i18n=t["default"];this._isMobile=480>=window.innerWidth;this._coreRoleIds="org_admin org_publisher org_user account_admin account_publisher account_user".split(" ")}h.prototype.postCreate=function(){this.inherited(arguments);
this._isPortal=u["default"].isPortal();this._isMobile?(this.dialog=new l["default"],this.dialog.domNode.classList.add("role-summary-alert")):(this.dialog=new g["default"]({title:this.role.name,style:{width:"315px",maxWidth:"315px",outline:"none"}}),this.dialog.set({content:this.domNode}));this._coreRoleIds.push(this.SYSTEM_ROLES.VIEWER,this.SYSTEM_ROLES.DATA_EDITOR,this.SYSTEM_ROLES.FACILITATOR);this._render()};h.prototype.show=function(){var e=this;this._isMobile?this.dialog.show({title:this.role.name,
description:this._content.innerHTML,hideActionBar:!0,isInfo:!0}):this.dialog.show().then(function(){var d=e.domNode.querySelector(".dijitDialogCloseIcon");d&&d.focus();e.dialog.closeButtonNode.tabIndex=0})};h.prototype._render=function(){var e,d="";if(-1===this._coreRoleIds.indexOf(this.role.id)){d=this.role.description;if(0<(null===(e=this.role.privileges)||void 0===e?void 0:e.length)){var a="";this._summarizeRole().forEach(function(c){a+="\x3cli\x3e"+c+"\x3c/li\x3e"});this._privilegesList.innerHTML=
a;n["default"].showNode(this._privilegesList);n["default"].showNode(this.privilegesTitle);e=this.role.privileges.some(function(c){return-1<c.indexOf(":admin:")});var b=this.role.privileges.some(function(c){return-1<c.indexOf(":publisher:")});e?this._extraInfo.textContent=this.i18n.customRoles.containsAdmin:b&&(this._extraInfo.textContent=this.i18n.customRoles.containsPublisher)}else this._extraInfo.textContent=this.i18n.customRoles.noneGranted;0<this._extraInfo.textContent.length&&n["default"].showNode(this._extraInfoContainer)}else{switch(this.role.id){case "org_admin":case "account_admin":d=
this._isPortal?this.i18n.customRoles.adminDescriptionPortal:this.i18n.customRoles.adminDescription;break;case "org_publisher":case "account_publisher":d=this.i18n.customRoles.publisherDescription;break;case "org_user":case "account_user":d=this.i18n.customRoles.userDescription;break;case this.SYSTEM_ROLES.VIEWER:d=this._isPortal?this.i18n.customRoles.viewerDescriptionPortal:this.i18n.customRoles.viewerDescription;break;case this.SYSTEM_ROLES.DATA_EDITOR:d=this._isPortal?this.i18n.customRoles.viewerPlusEditDescriptionPortal:
this.i18n.customRoles.viewerPlusEditDescription;break;case this.SYSTEM_ROLES.FACILITATOR:d=this.i18n.customRoles.facilitatorDescription}n["default"].showNode(this._coreRole)}this._description.textContent=d};h.prototype._summarizeRole=function(){var e=new z["default"]({id:this.role.id});e.setPrivileges(this.role.privileges);return e.summarize()};return h=p.__decorate([x["default"](f["default"],m["default"],q["default"])],h)}()})},"arcgisonline/pages/dijit/InviteMembers/MobileError":function(){define("require exports tslib dojo/Deferred dojo/text!./templates/MobileError.html dojo/i18n!../../../nls/arcgisonline dojo/Evented dijit/a11yclick dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/icons ../../../tsutils/declareDecorator ../../utils/dom".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);return function(){function n(h){this.templateString=t["default"];this.i18n=m["default"];this.icons=q["default"];this.description=this.title="";this.buttonText=this.i18n.common.ok;this.cancelText=this.i18n.common.cancel;this.actionText=
"";this.ACTIVE_CLASS="invite-members__mobile-error--is-active"}n.prototype.postCreate=function(){this.inherited(arguments);document.body.appendChild(this.domNode);this._addEventListeners()};n.prototype._addEventListeners=function(){this.own(g["default"](this._closeButton,this._close.bind(this)),g["default"](this._confirmButton,this._hideAndTakeAction.bind(this)),g["default"](this._cancelButton,this._cancel.bind(this)))};n.prototype._hideAndTakeAction=function(){this.hide();this._showDfd&&this._showDfd.resolve("onOk")};
n.prototype._close=function(){this.hide();this._showDfd&&this._showDfd.resolve("onClose")};n.prototype._cancel=function(){this.hide();this._showDfd&&this._showDfd.resolve("onCancel")};n.prototype.show=function(h){var e=h.title;e=void 0===e?"":e;var d=h.description;d=void 0===d?"":d;var a=h.buttonText;a=void 0===a?this.i18n.common.ok:a;var b=h.cancelText;b=void 0===b?this.i18n.common.cancel:b;var c=h.isConfirm;c=void 0===c?!1:c;var k=h.isInfo;k=void 0===k?!1:k;var r=h.isSuccess;r=void 0===r?!1:r;var v=
h.isRedButton;v=void 0===v?!1:v;var B=h.hideActionBar;B=void 0===B?!1:B;var C=h.showClose;C=void 0===C?!1:C;var A=h.hideConfirm;A=void 0===A?!1:A;var E=h.hideCancel;E=void 0===E?!1:E;var F=h.hideHeader;F=void 0===F?!1:F;h=h.isBlueCancel;h=void 0===h?!1:h;this.title=e;this._title.textContent=e;this.description=d;this._description.innerHTML=d;this.buttonText=a;this._confirmButton.textContent=a;this._cancelButton.textContent=b;this.domNode.classList[this.title?"remove":"add"]("mobile-alert--no-title");
this.domNode.classList[k?"add":"remove"]("mobile-alert--info");this.domNode.classList[r?"add":"remove"]("mobile-alert--success");r||B?x["default"].hideNode(this._actionBar):x["default"].showNode(this._actionBar);this._confirmButton.classList[v?"add":"remove"]("mobile-alert__btn--red");c?(x["default"].showNode(this._cancelButton),x["default"].hideNode(this._closeButton)):(x["default"].hideNode(this._cancelButton),x["default"].showNode(this._closeButton));C&&x["default"].showNode(this._closeButton);
A&&(x["default"].hideNode(this._confirmButton),this._cancelButton.classList.remove("leader-half"));E&&x["default"].hideNode(this._cancelButton);F&&x["default"].hideNode(this._header);this._cancelButton.classList[h?"remove":"add"]("btn-link-darker-gray");window.getComputedStyle(this.domNode).opacity;this.domNode.classList.add(this.ACTIVE_CLASS);return this._showDfd=new y["default"]};n.prototype.hide=function(){var h=this;this.domNode.classList.remove(this.ACTIVE_CLASS);setTimeout(function(){h.emit("hide")},
300)};return n=p.__decorate([z["default"](u["default"],l["default"],f["default"])],n)}()})},"arcgisonline/pages/user/settings/rows/LicensedProductsRow":function(){define("require exports tslib esri/request dojo/Deferred dojo/on dojo/text!./templates/LicensedProductsRow.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/pages/utils/icons arcgisonline/pages/utils/organization ./LicensedProductItem ./LicensedBundleItem arcgisonline/sharing/geow/Licenses arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);return function(){function b(c,k){this.templateString=f["default"];this.i18n=p.__assign({},g["default"].userProfile);
this.icons=z["default"];this.isAdmin=this.isOwner=!1;this.items=[]}b.prototype.postCreate=function(){this.inherited(arguments);this.licensesAPI=new e["default"];this.showHideItem=this.showHideItem.bind(this);this.render();this.addEventListeners()};b.prototype.render=function(){return p.__awaiter(this,void 0,void 0,function(){var c=this;return p.__generator(this,function(k){switch(k.label){case 0:return[4,this.getLicensedItems()];case 1:return k.sent(),x["default"].initLicensesConfig(this.portal).then(function(){return c.licensesAPI.getUserProvisionedListings(c.profile.username,
{includeExpired:!0},!0)}).then(function(r){var v,B;r=c.updateListings(r);var C=null===(B=null===(v=c.portalUser)||void 0===v?void 0:v.userRole)||void 0===B?void 0:B.canManageLicenses();return c.isOwner||c.isAdmin||C?c.licensesAPI.getUserAppBundles(c.profile.username).then(function(A){A=A.map(function(E){return p.__assign(p.__assign({},E),{title:E.name,isAppBundle:!0,tags:[]})});return p.__spreadArray(p.__spreadArray([],r),A)}):r}).then(function(r){var v;c.userTypeApps.forEach(function(B){B.inUserType=
!0});r=p.__spreadArray(p.__spreadArray([],c.userTypeApps),r);r.sort(function(B,C){return B.title<C.title?-1:B.title>C.title?1:0});c.bundleItems=r.filter(function(B){return B.isAppBundle}).map(function(B){return new h["default"]({app:B,portal:c.portal})});q["default"].appendChildren(c.bundleItems.map(function(B){return B.domNode}),c.itemsContainer);c.items=r.filter(function(B){var C,A;return!B.isAppBundle&&(c.profile.userLicenseTypeId&&"StorytellerUT"===c.profile.userLicenseTypeId||"ArcGIS for Power BI"!==
B.title||!(null===(C=x["default"].licensesConfig)||void 0===C?0:C.hidePowerBI))&&!(null===(A=B.entitlements)||void 0===A?0:A.some(function(E){return c.shouldBeHidden(E)}))}).map(function(B){return new n["default"]({app:B,portal:c.portal,profile:c.profile,iconClasses:"license-products-row__icon--padded"})});q["default"].appendChildren(c.items.map(function(B){return B.domNode}),c.itemsContainer);!c.isOwner||(null===(v=c.portal.portalProperties)||void 0===v?0:v.disableAppsDownload)&&!c.isAdmin||c.getConfig().then(function(B){B=
B.products;null===B||void 0===B?void 0:B.forEach(function(C){var A=c.items.filter(function(E){return E.app.title===C.name})[0];A&&A.showDownload(C)})})}),[2]}})})};b.prototype.shouldBeHidden=function(c){var k,r;return c?null===(r=null===(k=x["default"].licensesConfig)||void 0===k?void 0:k.apps)||void 0===r?void 0:r.some(function(v){return v.entitlement===c&&v.hidden}):!1};b.prototype.getEntitlementTitle=function(c){var k=x["default"].licensesConfig.apps.filter(function(r){return r.entitlement===c})[0];
return(null===k||void 0===k?void 0:k.label)||""};b.prototype.getLicensedItems=function(){return p.__awaiter(this,void 0,void 0,function(){var c;return p.__generator(this,function(k){switch(k.label){case 0:return c=this,[4,this.licensesAPI.getUserLicensedItems(this.profile.username)];case 1:return c.userLicensedItems=k.sent(),[2]}})})};b.prototype.updateListings=function(c){this.updateBAListing(c);this.updateDroneListing(c);return this.updateProListing(c)};b.prototype.getEntitlementKeys=function(c){var k=
c.itemId||c.id;c=this.userLicensedItems.filter(function(r){return r.itemId===k})[0];return(null===c||void 0===c?void 0:c.entitlements)||[]};b.prototype.updateLicenseTitle=function(c){var k,r=null===(k=this.getEntitlementKeys(c))||void 0===k?void 0:k[0];c.title=this.getEntitlementTitle(r)||c.title};b.prototype.updateBAListing=function(c){var k=c.filter(function(r){return x["default"].isBusinessAnalyst(r.title)})[0];if(!k)return c;this.updateLicenseTitle(k);return c};b.prototype.updateDroneListing=
function(c){var k=this,r=c.filter(function(v){return x["default"].isDrone2Map(v.title)});if(null===r||void 0===r||!r.length)return c;r.forEach(function(v){k.updateLicenseTitle(v)});return c};b.prototype.updateProListing=function(c){var k=c.filter(function(r){return"ArcGIS Pro"===r.title&&r.tags.some(function(v){return"pro"===v.toLowerCase()})})[0];if(!k)return c;k=this.getEntitlementKeys(k).map(function(r){return{key:r,title:e["default"].getProEntitlementTitle(r)}})||[];this.userTypeApps.some(function(r){return"ArcGIS Pro"===
r.title})&&(c=c.filter(function(r){return"ArcGIS Pro"!==r.title&&-1===r.tags.indexOf("pro")}));k=x["default"].getProExtensions(k);0<k.length&&(k.forEach(function(r){r.isExtension=!0;r.entitlements=[r.key]}),k={title:g["default"].myOrganization.licensesTab.proExtensions,isAppBundle:!0,isExtension:!0,apps:k},c=p.__spreadArray(p.__spreadArray([],c),[k]));return c};b.prototype.getProEntitlements=function(c){var k=this,r=new t["default"],v=c.filter(function(B){return"ArcGIS Pro"===B.title&&B.tags.some(function(C){return"pro"===
C.toLowerCase()})})[0];v?this.licensesAPI.retrieveProvisionedUserEntitlement(v.id||v.itemId,this.profile.username).then(function(B){B=((null===B||void 0===B?void 0:B.userEntitlements)||{entitlements:[]}).entitlements.map(function(C){return{key:C,title:e["default"].getProEntitlementTitle(C)}})||[];k.userTypeApps.some(function(C){return"ArcGIS Pro"===C.title})&&(c=c.filter(function(C){return"ArcGIS Pro"!==C.title&&-1===C.tags.indexOf("pro")}));B=x["default"].getProExtensions(B);0<B.length&&(B.forEach(function(C){C.isExtension=
!0;C.entitlements=[C.key]}),B={title:g["default"].myOrganization.licensesTab.proExtensions,isAppBundle:!0,isExtension:!0,apps:B},c=p.__spreadArray(p.__spreadArray([],c),[B]));r.resolve(c)}):r.resolve(c);return r};b.prototype.getConfig=function(){return this.portal.queryItems(d["default"].downloadsConfigItemQuery,!0).then(function(c){var k;return 0<(null===(k=c.items)||void 0===k?void 0:k.length)?y["default"]({url:c.items[0].itemDataUrl,content:{f:"json"}}):c})};b.prototype.addEventListeners=function(){var c=
this;this.own(m["default"](this.searchInput,"input",function(){return c.handleSearchInput()}))};b.prototype.handleSearchInput=function(){this.bundleItems.forEach(this.showHideItem);this.items.forEach(this.showHideItem)};b.prototype.showHideItem=function(c){var k=this.searchInput.value.toLowerCase();c.match(k)};return b=p.__decorate([a["default"](u["default"],l["default"])],b)}()})},"arcgisonline/pages/user/settings/rows/LicensedProductItem":function(){define("require exports tslib dojo/on dojo/text!./templates/LicensedProductItem.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/pages/dijit/InviteMembers/AppIcon arcgisonline/pages/organization/widgets/BlockedAppPopup ../DownloadOverlay arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(e,d){this.templateString=t["default"];this.i18n=p.__assign({},m["default"].userProfile);this.icons=l["default"];this.iconClasses=""}h.prototype.postCreate=function(){this.inherited(arguments);
this.render();this.addEventListeners()};h.prototype.show=function(){u["default"].showNode(this.domNode)};h.prototype.match=function(e){var d=this.app.title.toLowerCase();e=!e||-1<d.indexOf(e);u["default"].showHide(this.domNode,e);return e};h.prototype.showDownload=function(e){this.downloadConfig=e;u["default"].showNode(this.downloadBtn)};h.prototype.addEventListeners=function(){var e=this;this.own(y["default"](this.downloadBtn,"click",function(){return e.handleDownloadClick()}))};h.prototype.handleDownloadClick=
function(){(new x["default"]({config:this.downloadConfig,app:this.app,languages:this.profile.languages,opener:this.downloadBtn})).open()};h.prototype.render=function(){this.icon=new q["default"]({app:this.app,portal:this.portal},this.domNode.querySelector(".js-icon"));this.icon.domNode.className+=" "+this.iconClasses;this.app.inUserType||this.icon.showAddonBadge();if(this.app.blocked){this.domNode.classList.add("blocked-app-info");var e=new z["default"]({aroundEl:this.domNode.querySelector(".js-app-title")});
this.own(y["default"](this.domNode,"click",function(d){e.openPopover(d)}))}};return h=p.__decorate([n["default"](g["default"],f["default"])],h)}()})},"arcgisonline/pages/dijit/InviteMembers/AppIcon":function(){define("require exports tslib dojo/text!./templates/AppIcon.html dojo/on dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/organization ../../utils/dom ../../../tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);
f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=y["default"];this.defaultIcon=this.cssClasses="";this.hasTooltip=!1}q.prototype.postCreate=function(){var z=this;this.hasTooltip&&(this.domNode.classList.add("tooltip"),this.domNode.setAttribute("aria-label",this.app.title));g["default"].initLicensesConfig(this.portal).then(function(){var x;z.icon=g["default"].getAppIcon(z.app,z.defaultIcon);0<(null===(x=
z.icon.shapeClass)||void 0===x?void 0:x.length)&&z.domNode.classList.add(z.icon.shapeClass);z._img.src=z.icon.imagePath;z.icon.showAbbr&&(z._abbr.innerHTML=z.icon.abbr,l["default"].showNode(z._abbr));z.own(t["default"](z._img,"error",function(){z._img.src="js/arcgisonline/sharing/dijit/css/images/app-icons/generic-app.png"}))})};q.prototype.setAbbr=function(z){this.icon.showAbbr&&(this._abbr.innerHTML=z,l["default"].showNode(this._abbr))};q.prototype.showAddonBadge=function(){l["default"].showNode(this.addonBadge)};
return q=p.__decorate([u["default"](f["default"],m["default"])],q)}()})},"arcgisonline/pages/organization/widgets/BlockedAppPopup":function(){define("require exports tslib dojo/text!./templates/BlockedAppPopup.html dojo/i18n!../../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);
f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){this.templateString=y["default"];this.i18n=t["default"];this.popupId="";this.opened=!1}x.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};x.prototype.openPopover=function(n){n.stopPropagation();n.preventDefault();u["default"].open({popup:this.dialog,orient:["below-centered","above-centered"],
around:this.aroundEl});q["default"].showNode(this.domNode);this.closeIcon.focus();this.opened=!0};x.prototype.closePopover=function(){u["default"].close(this.dialog);this.aroundEl.focus();this.opened=!1};x.prototype.render=function(){this.dialog=new l["default"]({"class":"popover",title:"",content:this.domNode})};x.prototype.addEventListeners=function(){var n=this;this.own(m["default"](this.aroundEl,"click",function(h){n.openPopover(h)}),m["default"](this.closeIcon,"click",function(){n.closePopover()}),
m["default"](document.body,"click",function(h){n.opened&&!n.domNode.contains(h.target)&&n.closePopover()}))};return x=p.__decorate([z["default"](g["default"],f["default"])],x)}()})},"arcgisonline/pages/user/settings/DownloadOverlay":function(){define("require exports tslib calcite-web/js/calcite-web dojo/on dojo/text!./templates/DownloadOverlay.html dojo/i18n!../../../nls/arcgisonline dojo/string dojo/_base/kernel dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/icons arcgisonline/pages/dijit/InviteMembers/AppIcon arcgisonline/pages/utils/number arcgisonline/sharing/util arcgisonline/sharing/dijit/CopyToClipboard arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);return function(){function c(k,r){this.title=f["default"].userProfile.downloadPro;this.i18n=
f["default"];this.closeOnScrimClick=this.showActionBar=!1;this.constrain=!0;this.maxWidth=700;this.overlayContents=g["default"].substitute(m["default"],{i18n:this.i18n,downloadIcon:x["default"].inline["download-to"]["16"],openIcon:x["default"]["inline-end"].launch["16"],chevron:x["default"].inline["chevron-down"]["16"]})}c.prototype.postCreate=function(){this.inherited(arguments)};c.prototype.open=function(){var k=this;this.inherited(arguments);this.versionSelect=this.domNode.querySelector(".js-versions-select");
new n["default"]({app:this.app,portal:this.portal,cssClasses:"download-overlay__icon-container"},this.domNode.querySelector(".js-app-icon"));var r=p.__spreadArray([],this.config.setups);r.forEach(function(A){var E=k.getLanguage(A);A.localizedName=null===E||void 0===E?void 0:E.localizedName});r.sort(function(A,E){return A.localizedName===E.localizedName?A.version<E.version?-1:A.version>E.version?1:0:A.localizedName<E.localizedName?-1:1});var v=l["default"].locale.toLowerCase(),B=v.split("-")[0],C=
r.filter(function(A){A=A.lang.replace("_","-").toLowerCase();return-1<A.indexOf("-")&&A===v||A===B})[0];C||(C=r.filter(function(A){return A.lang.split("_")[0]===B})[0]);r.forEach(function(A){var E=k.getLanguage(A),F=g["default"].substitute(k.i18n.userProfile.version,{versionNum:A.version});A=new Option((null===E||void 0===E?void 0:E.localizedName)+" "+F,JSON.stringify(A));k.isLeftToRight()||(A.innerHTML=""+(null===E||void 0===E?void 0:E.localizedName)+(-1<(null===E||void 0===E?void 0:E.localizedName.indexOf(")"))?
"\x26lrm;":"")+" "+F);k.versionSelect.add(A)});C&&(this.versionSelect.value=JSON.stringify(C));r=this.getDownloadSetup();64===(r.sha256||r.md5||"").length&&r.sha256&&(this.domNode.querySelector(".js-checksum-label").textContent=this.i18n.userProfile.howCheckSumSHA,this.domNode.querySelector(".js-check-sum-text").textContent=this.i18n.userProfile.checkSumSHALabel);this.renderFileInfo();this.domNode.querySelector(".js-name").textContent=this.app.title;this.domNode.querySelector(".js-additional-1").innerHTML=
g["default"].substitute(this.i18n.userProfile.visitMyEsri,{myEsriStart:"",myEsriEnd:""});this.domNode.querySelector(".js-additional-2").innerHTML=g["default"].substitute(this.i18n.userProfile.accessDownloads,{myEsriStart:'\x3ca href\x3d"https://my.esri.com" target\x3d"_blank"\x3e',myEsriEnd:"\x3c/a\x3e"})+(' \x3ca href\x3d"https://support.esri.com/en/technical-article/000018698" target\x3d"_blank"\x3e'+this.i18n.userProfile.learnMoreDownload+"\x3c/a\x3e");y["default"].accordion();this.own(t["default"](this.domNode.querySelector(".js-download-btn"),
"click",function(){return k.handleDownloadClick()}),t["default"](this.versionSelect,"change",function(){return k.renderFileInfo()}))};c.prototype.close=function(){this.inherited(arguments)};c.prototype.getLanguage=function(k){return this.languages.filter(function(r){return r.culture===k.lang.replace("_","-")})[0]};c.prototype.renderFileInfo=function(){var k=this.getDownloadSetup(),r=h["default"].format(+k.filesize/1073741824,2);this.domNode.querySelector(".js-file-name").textContent=k.filename+" ("+
r+"GB)";k=k.sha256||k.md5||"";this.copyChecksum?this.copyChecksum.updateText(k):(this.copyChecksum=new d["default"]({id:"copy-checksum",icon:"duplicate",text:k},this.domNode.querySelector(".js-copy-check-sum")),this.copyChecksum.domNode.classList.add("copy-checksum"))};c.prototype.getDownloadSetup=function(){return JSON.parse(this.versionSelect.value)};c.prototype.handleDownloadClick=function(){var k=JSON.parse(this.versionSelect.value);e["default"].request({url:a["default"].downloadsUrl+"/dms/rest/download/secured/"+
k.filename,content:{folder:k.folder}}).then(function(r){200===r.code&&r.url&&(location.href=r.url)})};return c=p.__decorate([b["default"](q["default"],u["default"],z["default"])],c)}()})},"arcgisonline/sharing/dijit/CopyToClipboard":function(){define("require exports tslib ../../pages/utils/icons ../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/text!./templates/CopyToClipboard.html dojo/i18n!../../nls/arcgisonline".split(" "),function(T,J,p,y,t,m,f,g,l){y=p.__importDefault(y);
t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);return function(){function u(q,z){this.templateString=g["default"];this.icons=y["default"];this.i18n=l["default"];this.tooltipModifier="";this.icon="copy-to-clipboard"}u.prototype.postMixInProperties=function(){this.inherited(arguments);this.copySupported=document.queryCommandSupported("copy")};u.prototype.postCreate=function(){this.copySupported||(this.domNode.querySelector(".js-copy-group").classList.remove("input-group"),
this.domNode.querySelector(".js-copy-tooltip").classList.add("hide"))};u.prototype.copy=function(q){q=this.domNode.querySelector("#copy-to-clipboard-"+this.id);var z=this.domNode.querySelector(".js-copy-tooltip"),x=this.domNode.querySelector(".js-copy-alert");try{q.select(),document.execCommand("copy"),q.blur(),z.setAttribute("aria-label",l["default"].common.copiedLbl),x.innerHTML=l["default"].common.copiedLbl}catch(n){}};u.prototype.reset=function(){this.domNode.querySelector(".js-copy-tooltip").setAttribute("aria-label",
l["default"].tocPanel.copy);this.domNode.querySelector(".js-copy-alert").innerHTML=""};u.prototype.updateText=function(q){this.copyInput.value=q};return u=p.__decorate([t["default"](f["default"],m["default"])],u)}()})},"arcgisonline/pages/user/settings/rows/LicensedBundleItem":function(){define("require exports tslib dojo/text!./templates/LicensedBundleItem.html dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick arcgisonline/pages/utils/dom arcgisonline/pages/utils/icons arcgisonline/pages/utils/organization arcgisonline/pages/dijit/InviteMembers/AppIconWithLabel ./LicensedProductItem arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);return function(){function n(h,e){this.templateString=y["default"];this.icons=l["default"];this.items=[]}n.prototype.postCreate=function(){var h=this;this.inherited(arguments);this.render();this.own(f["default"](this.titleSection,function(){h.domNode.classList.toggle("licensed-products__bundle-row--expanded")}))};
n.prototype.match=function(h){var e=this.app.title.toLowerCase(),d=!h||-1<e.indexOf(h);if(d)return g["default"].showNode(this.domNode),this.items.forEach(function(a){a.show()}),d;this.items.forEach(function(a){a.match(h)&&(d=!0)});g["default"].showHide(this.domNode,d);return d};n.prototype.render=function(){var h=this,e=new q["default"]({app:this.app,portal:this.portal});e.domNode.classList.remove("leader-half");e.domNode.classList.remove("block");this.app.inUserType||e.showAddonBadge();this.nameCol.appendChild(e.domNode);
this.app.apps=u["default"].transformAppBundleApps(this.app.apps,this.portal.isPortal);this.app.apps.sort(function(d,a){return d.title<a.title?-1:d.title>a.title?1:0});this.app.apps.forEach(function(d){d.inUserType=!0;d=new z["default"]({app:d,portal:h.portal});d.icon.domNode.classList.remove("block");h.items.push(d);h.apps.appendChild(d.domNode)})};return n=p.__decorate([x["default"](m["default"],t["default"])],n)}()})},"arcgisonline/pages/dijit/InviteMembers/AppIconWithLabel":function(){define("require exports tslib dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/AppIconWithLabel.html dijit/_TemplatedMixin dijit/_WidgetBase ../../../sharing/geow/Licenses ../../utils/organization ./AppIcon ../../organization/widgets/BlockedAppPopup ../../../tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){this.i18n=y["default"];this.templateString=t["default"];this.cssClasses=this.textCssClasses="";this.blocked=this.hideIcon=!1}x.prototype.postCreate=function(){this.inherited(arguments);var n=this.app.title;if(!l["default"].isEntitlement(this.app)){var h=
this.app;h.entitlements&&1===h.entitlements.length&&(h=g["default"].getProEntitlementTitle(h.entitlements[0]),0<h.length&&(n=h))}this._titleLabel.textContent=n;this._titleLabel.title=n;this.hideIcon?(this.domNode.removeChild(this._appIcon),this._appIcon=void 0):this._appIcon=new u["default"]({app:this.app,portal:this.portal},this._appIcon);this.adjustForBlocked()};x.prototype.addAsterisk=function(){this._titleLabel.textContent+=" *"};x.prototype.showAddonBadge=function(){this._appIcon.showAddonBadge()};
x.prototype.adjustForBlocked=function(){this.blocked&&(this.content.classList.add("blocked-app-info"),new q["default"]({aroundEl:this.content}))};return x=p.__decorate([z["default"](f["default"],m["default"])],x)}()})},"arcgisonline/pages/user/settings/MenuItem":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/MenuItem.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,
y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=m["default"];this.i18n=f["default"];this.name=this.key="";this.active=!1;this.activeClass="org-settings__menu-item--active"}q.prototype.postCreate=function(){this.inherited(arguments);this.active&&this.select();this.addEventListeners()};q.prototype.select=function(){this.domNode.classList.add(this.activeClass)};
q.prototype.deselect=function(){this.domNode.classList.remove(this.activeClass)};q.prototype.addEventListeners=function(){var z=this;this.own(t["default"](this.domNode,"click",function(){z.logEvent();z.select();z.emit("select",z.key)}))};q.prototype.logEvent=function(){var z,x="preferences"===this.key?"general":this.key;null===(z=this.telemetry)||void 0===z?void 0:z.logEvent({category:"profile settings menu",action:x})};return q=p.__decorate([u["default"](l["default"],g["default"],y["default"])],
q)}()})},"arcgisonline/pages/user/settings/MobileMenuItem":function(){define("require exports tslib dojo/text!./templates/MobileMenuItem.html ./MenuItem arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);return function(){function f(g,l){this.templateString=y["default"];this.activeClass="is-active"}f.prototype.postCreate=function(){this.inherited(arguments)};f.prototype.startup=function(){this.inherited(arguments)};
return f=p.__decorate([m["default"](t["default"])],f)}()})},"arcgisonline/pages/user/UserProfile":function(){define("require exports tslib esri/request dragula/dragula dojo/string dojo/query dojo/on dojo/Deferred dojo/text!./UserProfile.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/esriGeowConfig arcgisonline/pages/portal/PortalItem arcgisonline/pages/dijit/Card/ProfileItemCard arcgisonline/pages/organization/widgets/GroupIcon arcgisonline/pages/utils/icons arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/utils/organization arcgisonline/pages/pageUtil arcgisonline/pages/organization/widgets/onboard/OnboardBanner arcgisonline/pages/components/Collaborations/collab-service arcgisonline/pages/dijit/InfoTooltip ./settings/rows/NameRow ./settings/rows/BioRow ./settings/rows/AccessRow ./settings/rows/ProfileImageRow ./FeedbackOverlay ./SocialProfiles arcgis-components/wrappers/ItemBrowser arcgisonline/sharing/dijit/_LevelAwareMixin arcgisonline/sharing/util arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);
v=p.__importDefault(v);B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);E=p.__importDefault(E);F=p.__importDefault(F);w=p.__importDefault(w);D=p.__importDefault(D);G=p.__importDefault(G);M=p.__importDefault(M);R=p.__importDefault(R);N=p.__importDefault(N);return function(){function K(V,Z){this.templateString=u["default"];this.i18n=q["default"];this.icons=a["default"];this.canUpdate=this.isEnterpriseUser=this.isOwner=!1}K.prototype.postCreate=function(){var V=this,Z,ca,ea,ka,la,
ta;this.inherited(arguments);this.profile.orgId&&this.portalUser.orgId&&(this.relevanceTooltip=new C["default"]({content:this.i18n.userProfile.relevanceTooltip,orient:["below-centered","above-centered"],buttonAriaLabel:this.i18n.userProfile.whatIsRelevance},this.domNode.querySelector(".js-tooltip")),this.relevanceTooltip.domNode.querySelector(".info-icon").classList.add("padding-left-quarter"));if(this.isOwner){var za=this.i18n.userProfile.myProfile;this.showButtons()}else za=this.profile.firstName?
m["default"].substitute(this.i18n.userProfile.usersProfile,{name:this.profile.firstName}):this.i18n.userProfile.profile;this.page.set("pageTitle",za);this.addEventListeners();za=null===(Z=this.portalUser)||void 0===Z?void 0:Z.userRole;Z=((null===(ca=this.portalUser)||void 0===ca?void 0:ca.accountId)||(null===(ea=this.portalUser)||void 0===ea?void 0:ea.orgId))===this.profile.orgId;ca=(null===za||void 0===za?void 0:za.isAdmin())&&this.portalUser&&Z;this.canUpdate=this.isOwner||ca||(null===za||void 0===
za?void 0:za.canUpdateUsers())&&Z;var ia=!1;ia=!ca&&(null===(ka=this.portalUser)||void 0===ka?0:ka.accountId)?!this.portal.updateUserProfileDisabled&&this.canUpdate:this.canUpdate;new A["default"](p.__assign({buttonId:"user-profile-name-edit"},this.getEditParams()),this.domNode.querySelector(".js-name"));new E["default"](p.__assign(p.__assign({},this.getEditParams()),{canUpdate:ia}),this.domNode.querySelector(".js-bio"));this.canUpdate?this.getCoordinators().then(function(){var U=new F["default"](p.__assign(p.__assign({},
V.getEditParams()),{canUpdate:ia}),V.domNode.querySelector(".js-vis"));V.own(U.on("access/change",function(ja){ja=ja.access;if("org"===ja||"public"===ja)V.isOwner&&V.showButtons(),V.updateProfileItems(V.profile.profileItemIds);V.showHideItems()}))}):c["default"].hideNode(this.visSection);this.canUpdate&&(ka=this.isOwner?this.i18n.userProfile.viewMySettings:m["default"].substitute(this.i18n.userProfile.viewUsersSettings,{name:this.profile.firstName}),this.viewLink.innerHTML=ka,c["default"].showNode(this.viewSettings));
this.isOwner&&!this.portal.isPortal&&(ka=new Date("May 1, 2020"),k["default"].shouldShowOnboard("user-profile",ka)&&new v["default"]({bannerText:"\x3cstrong\x3e"+this.i18n.userProfile.onboardText+"\x3c/strong\x3e\x3cbr /\x3e"+this.i18n.userProfile[this.portal.id?"onboardText2":"onboardText2Public"]+' \x3ca href\x3d"#settings"\x3e'+this.i18n.userProfile.viewMySettings+"\x3c/a\x3e",cookieKey:"user-profile",baseClass:"user-profile__onboard-banner",contentClasses:"user-profile__onboard-content",hideLearnMore:!0},
this.domNode.querySelector(".js-onboard")),this.portal.eueiEnabled&&k["default"].shouldShowOnboard("profile-feedback",ka)&&c["default"].showNode(this.feedbackCard));new w["default"](this.getEditParams(),this.domNode.querySelector(".js-member-thumb"));this.profile.description||ia||(c["default"].hideNode(this.bioSection),this.groupsSection.classList.add("user-profile-card__groups-section--no-border"));0<(null===(la=this.profile.groups)||void 0===la?void 0:la.length)?(this.profile.groups.slice(0,5).forEach(function(U){U=
new d["default"]({group:U,portal:V.portal,size:"32",letterSize:"1",cssClasses:"org-member-card__group-tile"});V.groupIcons.appendChild(U.domNode)}),la=this.profile.totalGroups||this.profile.groups.length,5<la&&(ka=document.createElement("div"),ka.className="org-member-card__more-tile link-darker-gray flex-center",ka.textContent="+"+(la-5),this.groupIcons.appendChild(ka))):c["default"].hideNode(this.groupsSection);this.profile.level&&this.profile.level!==this.LICENSE_LEVELS.TWO&&this.portal.id||(0<
(null===(ta=this.profile.profileItems)||void 0===ta?void 0:ta.length)&&(this.profile.profileItems.forEach(function(U){V.itemGallery.appendChild(V.createCard(U,V.isDraggable()).domNode)}),this.setupDrag(this.itemGallery)),this.showHideItems());this.bioSection.classList.contains("hide")&&this.visSection.classList.add("user-vis-section--no-prev");this.groupsSection.classList.contains("hide")&&this.viewSettings.classList.contains("hide")&&this.visSection.classList.add("user-vis-section--no-next");new G["default"]({profile:this.profile},
this.domNode.querySelector(".js-social-profiles"))};K.prototype.startup=function(){this.inherited(arguments);var V=new l["default"];V.resolve();return V};K.prototype.getCoordinators=function(){var V=this,Z,ca=new l["default"];(null===(Z=this.portalUser.userRole)||void 0===Z?0:Z.canViewUsers())?B["default"].getCoordinators(!0).then(function(ea){var ka;V.profile.isCoordinator=(null===(ka=null===ea||void 0===ea?void 0:ea.users)||void 0===ka?void 0:ka.some(function(la){return la.username===V.profile.username}))||
!1;ca.resolve()},function(){ca.resolve()}):ca.resolve();return ca};K.prototype.getItemCount=function(){var V=this,Z=new l["default"];if(void 0!==this.itemCount)return Z.resolve(this.itemCount),Z;R["default"].request({url:n["default"].restBaseUrl+"search",content:{q:'owner:"'+this.profile.username+'" -type:("Code Attachment") -typekeywords:("MapAreaPackage") -type:("Map Area")',sortField:"relevance",sortOrder:"desc",num:100}}).then(function(ca){V.itemCount=ca.total;Z.resolve(V.itemCount)});return Z};
K.prototype.showHideItems=function(){var V=this;this.showHideReset();c["default"].showHide(this.itemsCol,this.shouldShowItems());this.renderState();this.getItemCount().then(function(Z){V.itemsCount.textContent=""+(null!==Z&&void 0!==Z?Z:0);c["default"].showHide(V.itemsSection,Z&&"private"===V.profile.access)})};K.prototype.showButtons=function(){"private"===this.profile.access||"public"===this.profile.access&&!this.portal.canSharePublic||c["default"].showNodes([this.customizeBtn,this.resetDefaultBtn])};
K.prototype.isDraggable=function(){return this.isOwner&&("public"!==this.profile.access||this.portal.canSharePublic)};K.prototype.shouldShowPublicItems=function(){var V;return(!this.isOwner||!this.portal.id||this.portal.canSharePublic)&&"public"===this.profile.access&&(0<(null===(V=this.profile.publicItems)||void 0===V?void 0:V.length)||this.isOwner&&this.hasCustomPublicItems())};K.prototype.shouldShowOrgItems=function(){var V;return("org"===this.profile.access||"public"===this.profile.access)&&(0<
(null===(V=this.profile.orgItems)||void 0===V?void 0:V.length)||this.isOwner&&this.hasCustomOrgItems())};K.prototype.shouldShowItems=function(){var V;return"private"!==this.profile.access&&(0<(null===(V=this.profile.profileItems)||void 0===V?void 0:V.length)||this.isOwner&&this.hasCustomItems())};K.prototype.hasCustomItems=function(){return void 0!==this.profile.profileItemIds};K.prototype.hasCustomPublicItems=function(){var V;return void 0!==(null===(V=this.profile.profileItems)||void 0===V?void 0:
V["public"])};K.prototype.hasCustomOrgItems=function(){var V;return void 0!==(null===(V=this.profile.profileItems)||void 0===V?void 0:V.org)};K.prototype.showHideReset=function(){c["default"].showHide(this.resetDefaultBtn,this.hasCustomItems()&&this.isOwner)};K.prototype.addEventListeners=function(){var V=this;this.own(g["default"](this.groupsBtn,"click",function(){var Z;null===(Z=V.telemetry)||void 0===Z?void 0:Z.logEvent({category:"profile groups",action:"left click",label:"view all"});r["default"].goToPage("groups",
V.profile)}),f["default"](".js-view-all-items",this.domNode).on("click",function(){var Z;null===(Z=V.telemetry)||void 0===Z?void 0:Z.logEvent({category:"profile content",action:"left click",label:"view all"});r["default"].goToPage("content",V.profile)}),g["default"](this.feedbackBtn,"click",function(){var Z=new D["default"];Z.open();g["default"].once(Z,"close",function(){V.feedbackBtn.focus()});g["default"].once(Z,"save",function(ca){var ea;null===(ea=ca.selected)||void 0===ea?void 0:ea.forEach(function(ka){var la;
null===(la=V.telemetry)||void 0===la?void 0:la.logEvent({category:"profile feedback",label:ka})});c["default"].hideNode(V.feedbackCard)})}),g["default"](this.viewLink,"click",function(){var Z;null===(Z=V.telemetry)||void 0===Z?void 0:Z.logEvent({category:"profile settings",action:"left click",label:"view settings"})}),g["default"](this.viewLink,"contextmenu",function(){var Z;null===(Z=V.telemetry)||void 0===Z?void 0:Z.logEvent({category:"profile settings",action:"other",label:"view settings"})}),
g["default"](this.customizeBtn,"click",function(){return V.handleCustomizeClick()}),g["default"](this.resetDefaultBtn,"click",function(){return V.handleResetClick()}))};K.prototype.handleResetClick=function(){var V=this;return this.updateProfileItems(void 0).then(function(Z){V.profile.profileItems=V.profile.profileItemIds=void 0;return R["default"].request({url:V.portal.url+"search",content:{q:'owner:"'+V.profile.username+'" (access:"org" OR access:"public") -type:("Code Attachment") -typekeywords:("MapAreaPackage") -type:("Map Area")',
sortField:"relevance",sortOrder:"desc",num:12}}).then(function(ca){var ea=V.itemGallery;ea.innerHTML="";V.profile.profileItems=ca.results;ca.results.forEach(function(ka){ea.appendChild(V.createCard(ka,V.isDraggable()).domNode)});V.itemsDesc.textContent=V.i18n.userProfile.topItems;c["default"].showNode(V.descContainer);V.relevanceTooltip&&c["default"].showNode(V.relevanceTooltip.domNode);c["default"].hideNode(V.resetDefaultBtn);c["default"].hideNode(V.emptyView);b["default"].showAlert("success",V.i18n.userProfile.itemGalleryResetSuccess)})})};
K.prototype.handleBulkItemBrowserAction=function(V){var Z=this,ca=V.allSelectedItems,ea=this.itemGallery;ea.innerHTML="";this.itemsDesc.textContent="";c["default"].hideNode(this.descContainer);this.relevanceTooltip&&c["default"].hideNode(this.relevanceTooltip.domNode);return this.updateProfileItems(ca.map(function(ka){return ka.id})).then(function(ka){ca.forEach(function(la){ea.appendChild(Z.createCard(la,!0).domNode)});Z.profile.profileItemIds=ka;Z.profile.profileItems=ca;c["default"].showNode(Z.resetDefaultBtn);
b["default"].showAlert("success",Z.i18n.userProfile.itemGalleryUpdated);Z.closeItemBrowser();c["default"].showHide(Z.emptyView,!ca.length)})};K.prototype.updateProfileItems=function(V){var Z={items:V?p.__spreadArray([],V):void 0};return this.addResource(Z).then(function(){return Z.items})};K.prototype.closeItemBrowser=function(){document.documentElement.classList.remove("overflow-hidden");this.itemBrowser.renderContainer.children[0].classList.add("hide");this.destroyItemBrowser()};K.prototype.destroyItemBrowser=
function(){this.itemBrowserContainer.innerHTML="";this.itemBrowser=null};K.prototype.getInitiallySelectedItems=function(){var V=this;return this.profile.profileItems.reduce(function(Z,ca){var ea;if(!ca)return Z;var ka=new h["default"](p.__assign(p.__assign({},ca),{portal:V.portal}));return p.__assign(p.__assign({},Z),(ea={},ea[ca.id]=p.__assign(p.__assign({},ka),{iconURI:ka.iconUrl}),ea))},{})};K.prototype.createItemBrowser=function(){if(this.itemBrowser)this.itemBrowser.renderContainer.children[0].classList.remove("hide");
else{this.itemBrowserContainer||(this.itemBrowserContainer=document.createElement("div"),document.body.appendChild(this.itemBrowserContainer));var V=new l["default"];V.resolve(this.getInitiallySelectedItems());V={layoutMode:"adjustable",allowedItemTypes:[],usePrimaryButtonStyle:!1,asynchronousItemSelect:!0,disableOnSelect:!0,mainActionTitle:q["default"].common.addItem,mainInverseActionTitle:q["default"].GroupWidget.itemAdded,noItemsFoundText:q["default"].GroupWidget.noItems,dialogTitle:this.i18n.userProfile.customizeItemsTitle,
submitButtonText:q["default"].common.save,cancelButtonText:q["default"].common.cancel,onBulkAction:this.handleBulkItemBrowserAction.bind(this),baseSections:["myContent"],onBack:this.closeItemBrowser.bind(this),enableMapAreaFilter:!1,showSubResources:{},addQueryParameters:function(){return' (access:"org" || access:"public") -type:("Code Attachment") -typekeywords:("MapAreaPackage") -type:("Map Area")'},multiSelect:!0,initiallySelectedItemsDfd:V,itemSelectionEnabled:!0};this.itemBrowser=new H.ItemBrowserWrapper(this.itemBrowserContainer,
{apiVersion:3,portal:this.portal,request:y["default"],telemetry:this.telemetry,appName:"customize items",initialState:{settings:{config:V},parameters:{section:"myContent",sort:{field:"modified",order:"desc"}}}})}};K.prototype.handleCustomizeClick=function(){document.documentElement.classList.add("overflow-hidden");this.createItemBrowser()};K.prototype.renderState=function(){var V;this.itemsDesc.textContent=this.hasCustomItems()?"":this.i18n.userProfile.topItems;c["default"].showHide(this.descContainer,
!this.hasCustomItems());this.relevanceTooltip&&c["default"].showHide(this.relevanceTooltip.domNode,!this.hasCustomItems());this.showHideReset();c["default"].showHide(this.emptyView,0===(null===(V=this.profile.profileItems)||void 0===V?void 0:V.length))};K.prototype.createCard=function(V,Z){var ca=this,ea=new h["default"](p.__assign(p.__assign({},V),{portal:this.portal})),ka=new e["default"]({item:ea,telemetry:this.telemetry,draggable:Z});ka.domNode.classList.add("user-profile__item-card");this.own(ka.on("sorted",
function(){ca.handleDrop(ka.domNode.parentElement)}));return ka};K.prototype.getEditParams=function(){return{profile:this.profile,portal:this.portal,portalUser:this.portalUser,isOwner:this.isOwner,isEnterpriseUser:this.isEnterpriseUser,isArcGISUser:this.isArcGISUser,canUpdate:this.canUpdate}};K.prototype.setProperties=function(V){return R["default"].request({url:n["default"].restBaseUrl+"community/users/"+this.profile.username+"/setProperties",content:{properties:JSON.stringify(V)}},{usePost:!0})};
K.prototype.addResource=function(V){return R["default"].request({url:n["default"].restBaseUrl+"community/users/"+this.profile.username+"/addResource",content:{key:"portal_app_profile_items.json",text:JSON.stringify(V),access:"public"===this.profile.access?"Public":"AllOrgUsersPrivateApp"}},{usePost:!0})};K.prototype.setupDrag=function(V){var Z=this;this.dragulaInstance||(this.dragulaInstance=t["default"]([V],{direction:"horizontal",moves:function(ca,ea,ka){return ka.classList.contains("card-drag-handle")}}),
this.dragulaInstance.on("drag",function(){var ca;null===(ca=Z.relevanceTooltip)||void 0===ca?void 0:ca.closePopup()}),this.dragulaInstance.on("drop",function(){Z.handleDrop(V)}))};K.prototype.handleDrop=function(V){var Z=this,ca=[];f["default"](".js-card",V).forEach(function(ea){ca.push(ea.dataset.id)});this.updateProfileItems(ca).then(function(ea){Z.profile.profileItemIds=ea;Z.profile.profileItems=ea.map(function(ka){return Z.profile.profileItems.filter(function(la){return la.id===ka})[0]});Z.itemsDesc.textContent=
"";c["default"].hideNode(Z.descContainer);Z.relevanceTooltip&&c["default"].hideNode(Z.relevanceTooltip.domNode);c["default"].showNode(Z.resetDefaultBtn)})};return K=p.__decorate([N["default"](x["default"],z["default"],M["default"])],K)}()})},"arcgisonline/pages/dijit/Card/ProfileItemCard":function(){define("require exports tslib dojo/on esri/Evented arcgisonline/pages/dijit/Card arcgisonline/pages/utils/keys arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator dojo/text!./MinimalCard.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=u["default"];this.sorting=this.draggable=!1}q.prototype.postCreate=function(){var z=this;this.inherited(arguments);var x="profile "+this.item.access+" item card";this.draggable&&this.domNode.classList.add("card--draggable");this.own(y["default"](this.thumbLink,
"contextmenu",function(){var n;null===(n=z.telemetry)||void 0===n?void 0:n.logEvent({category:x,action:"other",label:"thumbnail"})}),y["default"](this.titleLink,"contextmenu",function(){var n;null===(n=z.telemetry)||void 0===n?void 0:n.logEvent({category:x,action:"other",label:"title"})}),y["default"](this.dragHandle,"keydown",function(n){return z.handleDragHandleKeydown(n)}),y["default"](this.dragHandle,"blur",function(){return z.handleDragHandleBlur()}))};q.prototype.handleDragHandleBlur=function(){var z=
this;setTimeout(function(){document.activeElement!==z.dragHandle&&(z.sorting=!1,z.domNode.classList.remove("card--sorting"))},100)};q.prototype.handleDragHandleKeydown=function(z){var x=this,n=z.keyCode,h=f["default"].ENTER,e=f["default"].UP,d=f["default"].DOWN,a=f["default"].RIGHT,b=f["default"].LEFT;if(n===f["default"].SPACEBAR||n===h)this.sorting=!this.sorting,z.preventDefault(),g["default"].addRemoveClass(this.domNode,"card--sorting",this.sorting);else if(!this.sorting||n!==d&&n!==a)this.sorting&&
(n===e||n===b)&&(z=this.domNode.previousSibling)&&(z.insertAdjacentElement("beforebegin",this.domNode),this.emit("sorted"),setTimeout(function(){x.dragHandle.focus()}));else if(z=this.domNode.nextSibling)z.insertAdjacentElement("afterend",this.domNode),this.emit("sorted"),setTimeout(function(){x.dragHandle.focus()})};return q=p.__decorate([l["default"](m["default"],t["default"])],q)}()})},"arcgisonline/pages/dijit/Card":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/string ./Card/_CardBase dojo/text!./Card/Card.html dojo/text!./Card/MinimalCard.html dojo/i18n!../../nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);return function(){function u(q,z){this.alwaysShowDrag=this.draggable=!1;this.templateString=q.minimal?g["default"]:f["default"]}u.prototype.postMixInProperties=function(){var q,z;this.inherited(arguments);this.item.ownerText=null!==(z=null===(q=this.item.verified)||void 0===q?void 0:q.name)&&void 0!==z?z:this.item.owner;this.item.viewMsg=
t["default"].substitute(l["default"].viewsWidget.universalViewsMsgAlone,{viewcount:this.item.numViews})};u.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};u.prototype.setDraggable=function(q){(this.draggable=q)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return u=p.__decorate([y["default"](m["default"])],u)}()})},
"arcgisonline/pages/dijit/Card/_CardBase":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../Favorite ../ItemShareSummary ../../utils/formatters ../../utils/item ../../utils/setItemUrls ../../utils/icons ../../utils/arrays ../../utils/dom ../../item/_Actions ../../../esriGeowConfig ./_getItemClasses dojo/text!./Card.html dojo/text!./OpenDropdown.html dojo/i18n!../../../nls/arcgisonline ../../../tsutils/declareDecorator ../OrgPopup/OrgPopup".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=
p.__importDefault(v);B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);var E;(function(F){F.notebook="notebookViewer";F.map="mapViewer";F.newMap="newMapViewer";F.download="download";F.desktop="openDesktop";F.pro="openPro";F.story="storyMapViewer"})(E||(E={}));return function(){function F(w){this.i18n=B["default"];this.template=r["default"];this.fullDate=x["default"].fullDate;this.completeDate=x["default"].completeDate;this.empty=x["default"].empty;this.getAccess=x["default"].getAccess;
this.getAccessIcon=x["default"].getAccessIcon;this.formatNumViews=x["default"].formatNumViews;this.formatViewsLabel=x["default"].formatViewsLabel;this.hasSharedOwnershipGroups=this.fullItemTypes=!1;this.hide=x["default"].hide;this.show=x["default"].show;this.icons=e["default"];this.isImage=!1;this.imageClass="";this.cssClasses=[];this.select=this.favoritesDisabled=!1;this.checked=this.selectedClass="";this.selectItem=B["default"].GroupWidget.selectItem;this.disabled="disabled";this.addSearchTelemetryParams=
!1;this.searchTerm="";this.canCreateNotebooks=!1}F.prototype.postMixInProperties=function(){var w=this,D,G,H,M,R,N;this.formatDisplayName=x["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.favoritesDisabled=!this.portalUser;this.selectCardClass=this.select?"card-select":"";this.isSelected&&(this.selectedClass="card-select-active",this.checked="checked",this.selectItem=B["default"].GroupWidget.unselectItem);this.hasSublayers=!(null===(D=this.item.sublayers)||void 0===D||!D.length);
this.removedClass=this.isRemoved?"card-select-removed":"";this.item.canShare=this.allowShare&&n["default"].canShareItem(this.item,this.portalUser);this.item.isAdmin=null!==(G=this.item.isAdmin)&&void 0!==G?G:(null===(H=this.portalUser)||void 0===H?void 0:H.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId;this.item.snippet=250<this.item.snippet.length?this.item.snippet.substring(0,250)+"\u2026":this.item.snippet;this.item.badges=n["default"].getBadges(this.item,this.isWide,this.portalUser);
this.item.ownerText=x["default"].formatOwnerText(this.item);this.item.accessIcon=x["default"].getAccessIcon(this.item.access);this.canCreateNotebooks=null===(M=this.portalUser)||void 0===M?void 0:M.userRole.canCreateNotebooks();this.item.openIn.forEach(function(K){return h["default"][K](w.item)});this.item.downloadUrl="file"===this.item.classification?h["default"].getItemDataUrl(this.item):"";this.item.defaultOpenUrl=this._getDefaultOpenUrl(this.item);this.item.defaultOpenIcon=this.item.defaultOpenIcon||
"launch";this.item.defaultOpenSvg=null!==(N=null===(R=e["default"].inline[this.item.defaultOpenIcon])||void 0===R?void 0:R["16"])&&void 0!==N?N:e["default"].inline.launch["16"];this.item.defaultOpenText=this._getDefaultOpenText(this.item);this._setDefaultThumbnail(this.item);this.cssClasses=k["default"](this.item,this.portalUser);"Image"===this.item.type&&(this.isImage=!0,this.imageClass="card--image-item")};F.prototype._setDefaultThumbnail=function(w){var D;w.thumbnailUrl=null!==(D=this.useMostRecentToken(w.thumbnailUrl))&&
void 0!==D?D:"";"Notebook"===w.type&&(D=c["default"].baseUrl+"js/arcgisonline/css/images/notebook-thumb.png",w.thumbnailUrl=w.thumbnailUrl||D);w.largeThumbnailUrl=""+w.thumbnailUrl+(-1<w.thumbnailUrl.search("\\?token\x3d")?"\x26":"?")+"w\x3d400"};F.prototype.useMostRecentToken=function(w){var D,G=this.item.portal.getPortalUser(),H=null===(D=null===G||void 0===G?void 0:G.credential)||void 0===D?void 0:D.token;return h["default"].swivelToken(w,null===G||void 0===G?void 0:G.token,H)};F.prototype._getDefaultOpenText=
function(w){return"Notebook"!==w.type||this.canCreateNotebooks?this.item.defaultOpenText||B["default"].itemLinks.viewDetails:B["default"].itemLinks.viewDetails};F.prototype.postCreate=function(){var w=this,D,G;this.inherited(arguments);this.cssClasses.filter(function(V){return V}).forEach(function(V){return w.domNode.classList.add(V)});var H=this.item,M=this.portalUser,R=this.domNode.querySelector(".js-favorites-container"),N=this.domNode.querySelector(".js-open-dropdown-container"),K=this.domNode.querySelector(".js-default-open");
this.favoritesDisabled||(this._favoriteDijit=new q["default"]({item:H},R));N&&y["default"].place(m["default"].substitute(v["default"],{item:H,i18n:B["default"],icons:e["default"],telemetryParams:this.addSearchTelemetryParams?"\x26fromSearch\x3dtrue\x26searchPosition\x3d"+this.itemIndex+"\x26searchTerm\x3d"+this.searchTerm+"\x26searchFacet\x3dcard%20dropdown%20item%20details":""},null,this),N);if("Feature Service"===H.type||"Feature Collection"===H.type)R=this.domNode.querySelector(".js-layers-tables"),
N=this.domNode.querySelector(".js-layers-tables-toggle"),R&&N&&c["default"].deepLayerSearchEnabled&&a["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:H,layers:H.sublayers,portal:H.portal,api:3,user:M,searchTerm:this.searchTerm,config:c["default"],telemetry:this.telemetry,border:!0,tooltip:this.formatDisplayName(H.displayName),i18nNoService:B["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:B["default"].SelectLayersWFS.noLayers},R).appendChild(N);
new z["default"]({item:H,portalUser:M,right:!0,canShare:this.item.canShare,allowShare:this.allowShare,showShareGroups:this.showShareGroups&&this.isWide,telemetry:this.telemetry},this.domNode.querySelector(".js-share-summary"));if(K){H=this.item.defaultOpenUrl;if(H===E.download||H===E.desktop||H===E.pro)K.classList.add("js-action"),K.setAttribute("data-action",this.item.defaultOpenUrl);this.item.defaultOpenUrl===E.newMap&&(H="modern"===this.item.portal.defaultMapViewer&&this.item.canOpenInNewMapViewer?
this.item.newMapViewerUrl:this.item.mapViewerUrl,K.href=H,K.setAttribute("data-href",H));(H=this.item.openIn)&&H[0]&&H[0]!==E.map&&this.item[H[0]+"Url"]&&K.setAttribute("target","_blank")}this._addEventListeners();(null===(D=this.item.portal)||void 0===D?0:D.isPortal)&&a["default"].hideNodes(null===(G=this.domNode)||void 0===G?void 0:G.querySelectorAll(".js-hide-portal"))};F.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy()};F.prototype._getDefaultOpenUrl=function(w){var D=
"item.html?id\x3d"+w.id,G=w.openIn&&w.openIn[0];return w.defaultOpenText===B["default"].itemLinks.openDesktop?E.desktop:w.defaultOpenText===B["default"].itemLinks.openPro?E.pro:w.defaultOpenText===B["default"].itemLinks.openVRExperience?w.vrExperienceUrl:!G||G!==E.notebook||this.portalUser&&this.portalUser.userRole.canCreateNotebooks()?G&&G!==E.map&&w[G+"Url"]?w[G+"Url"]:"download-to"===w.defaultOpenIcon||d["default"].includes(w.types,"is-pdf")?E.download:G===E.map?E.newMap:G===E.story?E.story:D:
D};F.prototype._addEventListeners=function(){var w=this;this.own(t["default"](".js-card-select-check-mark-wrap",this.domNode).on("click",function(G){G.stopPropagation()}),t["default"](".js-card-select-check-mark",this.domNode).on("change",function(G){w[G.target.checked?"_select":"_deselect"]()}),t["default"](this.domNode).on("click",this._toggleSelected.bind(this)),t["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),t["default"](".js-action",this.domNode).on("click",
this._handleAction.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),t["default"](".js-card-image",this.domNode).on("error",this._cardImageError.bind(this)),t["default"](".js-card-title-link",this.domNode).on("click",this._cardOpen.bind(this)),t["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),t["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),this.item.watch(this._itemUpdate.bind(this)));
var D=this.domNode.querySelector(".js-verified-owner-link");D&&this.own(f["default"](D,"click",this.showOrgPopup.bind(this)));this._favoriteDijit&&this.own(this._favoriteDijit.on("click",function(G){G.stopPropagation()}))};F.prototype._handleAction=function(w){var D=this;w.preventDefault();var G=w.currentTarget.getAttribute("data-action"),H=this.item,M=this.portalUser,R=this.item.portal;if(G&&b["default"][G])if("share"!==G||this.item.isOwner)b["default"][G]({evt:w,item:H,user:M,portal:R});else this.item.getOwnerProfile(!0,
!0).then(function(N){D.item.itemOwner=N;b["default"].share({evt:w,item:H,user:M,portal:R})})};F.prototype._select=function(){this.domNode.classList.add("card-select-active");this.item.isSelected=!0;var w=this.domNode.querySelector(".js-card-select-check-mark");w.parentNode.setAttribute("aria-label",B["default"].GroupWidget.unselectItem);w.checked=!0;g["default"].publish("view/select",this.item)};F.prototype._deselect=function(){this.domNode.classList.remove("card-select-active");this.item.isSelected=
!1;var w=this.domNode.querySelector(".js-card-select-check-mark");w&&(w.parentNode.setAttribute("aria-label",B["default"].GroupWidget.selectItem),w.checked=!1);g["default"].publish("view/deselect",this.item)};F.prototype._toggleSelected=function(w){"ARCGIS-LAYERS-AND-TABLES-SUMMARY-POPUP"!==w.target.tagName&&this.select&&(this.domNode.classList.contains("card-select-active")?this._deselect():this._select())};F.prototype._showProfile=function(w){w.stopPropagation();g["default"].publish("profile/show",
w)};F.prototype.showOrgPopup=function(w){w.stopPropagation();(new A["default"]({item:this.item,opener:w.target})).open()};F.prototype._cardImageError=function(w){w.preventDefault();w.target.src="js/arcgisonline/css/images/default_thumb.png"};F.prototype._cardOpen=function(w){g["default"].publish("card/open",this.itemIndex,w)};F.prototype._itemUpdate=function(w,D,G){g["default"].publish("item/update",{item:this.item,name:w,oldValue:D,value:G})};F.prototype._shareItemDropdown=function(w){this.domNode.querySelector(".js-item-share-dropdown").blur()};
F.prototype._categorizeItem=function(){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return F=p.__decorate([C["default"](l["default"],u["default"])],F)}()})},"arcgisonline/pages/dijit/Favorite":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/dom-class dojo/on dojo/topic dojo/text!./Favorite/Favorite.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/icons ../../sharing/geow/Content ./_CheckReadonlyMixin".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);return function(){function e(d,a){this.templateString=g["default"];this.i18n=l["default"]}e.prototype.postMixInProperties=function(){this.inherited(arguments)};e.prototype.postCreate=function(){this.inherited(arguments);
this._setState(this.item.isFavorite);this._addEventListeners()};e.prototype.getFavorite=function(){var d=this;z["default"].isFavorite(this.item).then(function(a){d._setState(a)},function(){d._setState(!1)})};e.prototype._setState=function(d){void 0!==this.button&&((this.isFavorite=d)?(this.button.setAttribute("aria-label",l["default"].common.unfavorite),t["default"].add(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.isFavorite+"\x3c/span\x3e"+
x["default"]["star-f"]["16"]):(this.button.setAttribute("aria-label",l["default"].common.favorite),t["default"].remove(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.notFavorite+"\x3c/span\x3e"+x["default"].star["16"]))};e.prototype._addEventListeners=function(){this.own(m["default"](this.button,"click",this._clickHandler.bind(this)))};e.prototype._clickHandler=function(d){var a=this;this.checkReadonly(this.item.portal)||(d=this.isFavorite?
"removeFromFavorites":"addToFavorites",this._setState(!this.isFavorite),this.item.set("isFavorite",this.isFavorite),n["default"][d](this.item).then(function(){a.button.blur()},function(b){f["default"].publish("alert/show",{type:"error",text:null===b||void 0===b?void 0:b.message});a._setState(!a.isFavorite);a.item.set("isFavorite",!a.isFavorite)}))};return e=p.__decorate([y["default"](q["default"],u["default"],h["default"])],e)}()})},"arcgisonline/pages/dijit/_CheckReadonlyMixin":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline ../pageUtil arcgisonline/sharing/dijit/dialog/GeneralDlg".split(" "),
function(T,J,p,y,t,m){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);return function(){function f(){}f.prototype.checkReadonly=function(g){g||(g=this.portal);return(null===g||void 0===g?0:g.isPortal)&&g.isReadOnly?(t["default"].createSpecifiedDialog(m["default"]).show({title:y["default"].common.errorTitle,message:y["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};f.prototype.memberActionGuard=function(g,l){return-1<["manageItems","viewGroups","viewProfile"].indexOf(g)?
!1:this.checkReadonly(l)};return f}()})},"arcgisonline/pages/dijit/ItemShareSummary":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/on dojo/dom-construct dojo/string dijit/_TemplatedMixin dijit/_WidgetBase ../utils/icons ../utils/dom ../utils/item dojo/text!./ItemShareSummary/ItemShareSummary.html dojo/text!./ItemShareSummary/ItemShareSummaryOverflow.html dojo/i18n!../../nls/arcgisonline ../item/_Actions ../organization/widgets/GroupIcon".split(" "),function(T,J,p,y,
t,m,f,g,l,u,q,z,x,n,h,e,d){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);return function(){function a(b,c){this.templateString=x["default"];this.i18n=h["default"];this.icons=u["default"];this.showShareGroups=this.canShare=this.right=
!1;this.responsive=!0;this.totalGroups=0;this.responsiveClass=this.directionClass=""}a.prototype.postMixInProperties=function(){this.inherited(arguments);var b={"private":u["default"].user["16"],shared:u["default"].user["16"],org:u["default"].organization["16"],"public":u["default"].globe["16"]},c={"private":h["default"].itemSharing.owner,shared:h["default"].itemSharing.owner,org:h["default"].itemSharing.org,"public":h["default"].itemSharing["public"]};this.levelIcon=this.item.access&&b[this.item.access]||
"";this.levelTooltip=h["default"].itemSharing.shareLevel+" "+c[this.item.access];this.right&&(this.directionClass="share-summary--right");this.responsive&&(this.responsiveClass="share-summary--responsive")};a.prototype.postCreate=function(){var b=this,c;this.inherited(arguments);var k=!this.showShareGroups&&"shared"===this.item.access,r=this.showShareGroups&&0<(null===(c=this.item.groupData)||void 0===c?void 0:c.length),v=this.domNode.querySelector(".js-share-button"),B=h["default"].itemSharing.updateSharing;
c=h["default"].itemSharing.ariaLabels.privateGroups;"shared"!==this.item.access&&(c=h["default"].itemSharing.ariaLabels[""+this.item.access+(r?"Groups":"")]);this.allowShare&&(this.item.canShare||z["default"].canShareItem(this.item,this.portalUser))?(this.own(t["default"](v,"click",this.handleClick.bind(this))),v.classList.add("share-summary__button--editable")):(B=m["default"].create("span"),m["default"].place(B,v,"before"),B.innerHTML=v.innerHTML,v.parentNode.removeChild(v),v=B,q["default"].addClasses(v,
"share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short".split(" ")),v.querySelector(".js-icon").tabIndex=0,B="");var C=""+B+(B?", ":"")+h["default"].itemSharing.shareLevel+" "+c;v.setAttribute("aria-label",h["default"].itemSharing.shareLevel+" "+c+" "+B);v.setAttribute("data-tooltip",C);r&&(this.totalGroups=this.item.sharedGroups||0,this.item.groupData.slice(0,3).forEach(function(A){A.id=A.id||A.groupId;A.title=A.title||A.groupTitle;A.thumbnail=
A.thumbnail||A.groupThumbnail;new d["default"]({group:A,portal:b.item.portal,size:"24",letterSize:"16",tooltipClass:"",cssClasses:"flex-0 share-summary__group"},m["default"].create("div",{},v))}),3<this.totalGroups&&m["default"].place(f["default"].substitute(n["default"],{num:this.totalGroups-3}),v,"last"));k&&this.domNode.classList.add("share-summary--show-unknown-group");r&&this.domNode.classList.add("share-summary--show-unknown-group-responsive");k||r||(this.domNode.querySelector(".js-sharing-plus-icon").classList.add("hide"),
this.domNode.classList.add("share-summary--no-groups"))};a.prototype.handleClick=function(b){var c=this;b.preventDefault();b.stopPropagation();var k=this.item,r=this.telemetry,v=k.portal,B=this.portalUser;this.item.isOwner?e["default"].share({evt:b,item:k,user:B,portal:v,telemetry:r}):this.item.getOwnerProfile(!0,!0).then(function(C){c.item.itemOwner=C;e["default"].share({evt:b,item:k,user:B,portal:v,telemetry:r})})};return a=p.__decorate([y["default"](l["default"],g["default"])],a)}()})},"arcgisonline/pages/item/_Actions":function(){define("require exports tslib dojo/_base/lang dojo/_base/event dojo/on dojo/aspect dojo/dom-attr dojo/topic dojo/promise/all dojo/Deferred dojo/cookie dojo/json dojo/dom-class dojo/dom-construct dojo/string dojo/has esri/config esri/lang ../pageUtil ../portal/PortalItem ../utils/strings ../../esriGeowConfig ../../sharing/util ../../sharing/geow/Content ../../map/utils/getMapCookie ../../sharing/dijit/dialog/ConfirmDialog ../dijit/ChangeOwner ../dijit/MoveItem ../../sharing/dijit/dialog/DeleteWarningDlg ../../sharing/dijit/dialog/ExportDlg ../../sharing/dijit/dialog/ExtentDlg ../../sharing/dijit/dialog/GeneralDlg ../../sharing/dijit/dialog/ShareOwnershipDlg ../../sharing/utilShare ../../sharing/dijit/dialog/RateLimiting ../../sharing/dijit/dialog/LayerTimeSettings ../../sharing/dijit/dialog/UpdateItemDlg ../../sharing/dijit/dialog/PublishTileServiceDlg ../../sharing/dijit/dialog/CreateAppDlg ../organization/widgets/ProfilePopup ./widgets/AdvancedOfflineOptions/AdvancedOfflineOptions ../../sharing/dijit/dialog/AttachCodeDlg ../../sharing/dijit/dialog/OpenMapDlg ../../sharing/dijit/dialog/ManageSceneCache ../../sharing/dijit/dialog/JobStatusDlg ../../sharing/dijit/AppendData ../dijit/ReplaceLayer/ReplaceLayer ../dijit/ReplaceLayer/ReplaceSceneLayer ../../sharing/dijit/dialog/OverwriteFromCloud ../../sharing/dijit/dialog/_CreateItemUtilMixin ./widgets/_metadata ./widgets/typeOptions/mapOptions/httpsUpdate ./widgets/typeOptions/mapOptions/domainUpdate ../utils/setItemUrls ../utils/item ../utils/alerts ../utils/arrays ../utils/dom ../utils/number ../utils/verified ../utils/icons ../serviceUtil ../components/Collaborations/collab-service esri/request arcgis-components/wrappers/Share dojo/i18n!../../nls/arcgisonline ../portal/PortalUser preact ../components/ConfirmDialog ../statusUtil ../components/ImageUploadModal/ImageUploadModal ../components/UpdateViewModal".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca,ea,ka,la,ta,za,ia,U,ja,S,O,I,ba,W,aa,P,L,Q,X,Y,da,ha,ma,na,sa,wa,ya,Aa,Ba,Oa,Ja,va,Fa,qa,oa){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);
a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=p.__importDefault(v);B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);E=p.__importDefault(E);F=p.__importDefault(F);w=p.__importDefault(w);D=p.__importDefault(D);G=p.__importDefault(G);H=p.__importDefault(H);M=p.__importDefault(M);R=p.__importDefault(R);N=p.__importDefault(N);K=p.__importDefault(K);V=p.__importDefault(V);Z=p.__importDefault(Z);ca=p.__importDefault(ca);
ea=p.__importDefault(ea);ka=p.__importDefault(ka);la=p.__importDefault(la);ta=p.__importDefault(ta);za=p.__importDefault(za);ia=p.__importDefault(ia);U=p.__importDefault(U);ja=p.__importDefault(ja);S=p.__importDefault(S);O=p.__importDefault(O);I=p.__importDefault(I);ba=p.__importDefault(ba);W=p.__importDefault(W);aa=p.__importDefault(aa);P=p.__importDefault(P);L=p.__importDefault(L);Q=p.__importDefault(Q);X=p.__importDefault(X);Y=p.__importDefault(Y);da=p.__importDefault(da);ha=p.__importDefault(ha);
ma=p.__importDefault(ma);na=p.__importDefault(na);sa=p.__importDefault(sa);wa=p.__importDefault(wa);ya=p.__importDefault(ya);Ba=p.__importDefault(Ba);Oa=p.__importDefault(Oa);va=p.__importDefault(va);Fa=p.__importDefault(Fa);qa=p.__importDefault(qa);oa=p.__importDefault(oa);return function(xa){function ra(){return null!==xa&&xa.apply(this,arguments)||this}p.__extends(ra,xa);ra.openDefault=function(fa){var pa,ua=fa.evt,Ea=fa.item,Da=null===(pa=null===Ea||void 0===Ea?void 0:Ea.openIn)||void 0===pa?
void 0:pa[0],Ca="Operation View"===Ea.type||"Dashboard"===Ea.type;pa="appViewer"===Da||"StoryMap"===Ea.type;var Ia="mapViewer"===Da,La="notebookViewer"===Da,Ga=Y["default"].includes(Ea.types,"is-desktop")||Y["default"].includes(Ea.types,"is-desktopPro"),Ma=Y["default"].includes(Ea.types,"is-pro"),Ha=Ea.types.some(function(Na){return-1<["is-download","is-pdf","is-file"].indexOf(Na)}),Ka=Y["default"].includes(Ea.types,"is-downloadImage");(Da=Ca?null:document.querySelector(".js-open-"+(pa?"url":Da)))?
(ua=g["default"].get(Da,"href"),pa?window.open(ua):Ia?this.newMapViewer(fa):window.location.href=ua):La?window.open(Ea.notebookViewerUrl,"_blank").focus():Ga?this.openDesktop(fa):Ma?this.openPro(fa):Ha?this.download(fa):Ka?this.downloadImage(fa):Ca?(Da=Array.prototype.slice.call(document.querySelectorAll(".js-open-btn")).filter(function(Na){return 0!==(null===Na||void 0===Na?void 0:Na.offsetHeight)}).shift(),ua=Da.getAttribute("href"),"Dashboard"===Ea.type?window.open(ua):window.location.href=ua):
t["default"].stop(ua)};ra.exportData=function(fa){var pa=fa.evt,ua=fa.item,Ea=new G["default"],Da=fa.layerId||g["default"].get(pa.currentTarget,"data-layerId");fa=fa.layer||(b["default"].isDefined(Da)?c["default"].findLayer(Da,ua.layers):ua.layers);Ea.show(ua,fa,g["default"].get(pa.target,"data-type"));m["default"](Ea,"done",function(Ca){Ea.hide().then(function(){window.location.href="item.html?id\x3d"+Ca.itemId})})};ra.exportImagery=function(fa){var pa=fa.item,ua=pa.portal||{},Ea=this._getAvailableCredits(ua),
Da=ua.isPortal?null:new q["default"];if(!ua.isPortal){ua=sa["default"].fetchExportImageryCredits(pa);var Ca=ua.canceller;ua.dfd.then(function(La){var Ga=La.outputValue;La.success&&Ga.credits?(La=e["default"].substitute(Ba["default"].exportDlg.costForTilePackage,{credits:ha["default"].format(Ga.credits),availableCredits:ha["default"].format(Ea)}),Da.resolve({success:Ea>=Ga.credits,code:1,message:La})):Da.reject(Ba["default"].errorWidget.defaultError);return null},function(){return Da.reject(Ba["default"].errorWidget.defaultError)})}var Ia=
new G["default"];Ia.show(pa,pa.layers,g["default"].get(fa.evt.target,"data-type"),{waitForCredits:Da,canceller:Ca});m["default"](Ia,"done",function(La){Ia.hide().then(function(){window.location.href="item.html?id\x3d"+La.itemId})})};ra.appendData=function(fa){var pa=fa.evt,ua=fa.page,Ea=fa.item;fa=b["default"].isDefined(fa.layerId)?fa.layerId:g["default"].get(pa.currentTarget,"data-layerId");fa=b["default"].isDefined(fa)?c["default"].findLayer(fa,Ea.layers):null;var Da=(new ja["default"]({item:Ea,
layer:fa,layers:fa?[fa]:Ea.layers})).show();m["default"](Da,"hide",function(Ca){ua._showDataLastUpdated(Ea);Da.destroyRecursive()})};ra.overwriteFromCloud=function(fa){var pa=fa.page.portal,ua=fa.item,Ea=new I["default"];ba["default"].getCloudProviderItemResource(ua).then(function(Da){Ea.startup(pa,Da,ua);Ea.showModal()},this._showError);m["default"](Ea,"hide",function(Da){Ea.destroyRecursive()})};ra.download=function(fa){fa=fa.item;B["default"]._fetchItemData(fa,this.getItemDataUrl(fa))};ra.openDesktop=
function(fa){var pa=fa.evt,ua=fa.item,Ea=ua.portal||{};pa=pa&&g["default"].get(pa.target,"data-type")||"arcmap";var Da=ua.url||"",Ca="Map Service"===ua.type,Ia="Image Service"===ua.type,La=B["default"].onAGOLFederatedServer(Da)||B["default"].onFederatedServer(Da),Ga=-1!==Da.indexOf(".arcgis.com/")&&-1!==Da.indexOf("//landscape"),Ma=ua.openPkg,Ha=ua.openData;Da=ua.openLyr;"pro"===pa?this.openPro(fa):(Ea.isPortal||!Ca&&!Ia||ua.isHostedService||ua.isServiceProxy||La||Ga||(Da=!0),fa=Ma?this._getItemPkgPath(ua):
Ha?this.getItemDataUrl(ua):Da?this._getLyrPath(ua):this._getPItemPath(ua),Da?B["default"].openPageAndCount(ua.id,fa):B["default"]._fetchItemData(ua,fa))};ra.openPro=function(fa){fa=fa.item;var pa=this._getPItemXPath(fa);fa.openLyr?B["default"].openPageAndCount(fa.id,pa):B["default"]._fetchItemData(fa,pa)};ra.share=function(fa,pa){var ua,Ea,Da,Ca,Ia=fa.items||(fa.item?[fa.item]:[]),La=fa.item||Ia[0]||{},Ga=document.createElement("div");Ga.classList.add("share-item-wrapper");document.body.appendChild(Ga);
var Ma=fa.telemetryWorkflow,Ha=fa.user.portal||(null===(ua=fa.page)||void 0===ua?void 0:ua.portal),Ka=fa.user||(null===(Ea=fa.page)||void 0===Ea?void 0:Ea.portalUser),Na=Ia.length,Qa=window.location.href,Pa=-1<Qa.indexOf("item.html")?"item":"content",Ra=fa.telemetry||(null===(Da=fa.page)||void 0===Da?void 0:Da.telemetry);!Ma&&Ra&&(Ma=Ra.startWorkflow("share",{details:La.access,pageUrl:Qa,pageName:Pa,count:Na}));var Sa=function(){var Ua;document.documentElement.classList.remove("overflow-hidden");
Ga.parentElement.removeChild(Ga);null===(Ua=null===pa||void 0===pa?void 0:pa.target)||void 0===Ua?void 0:Ua.focus()};document.documentElement.classList.add("overflow-hidden");var Va=new q["default"];Ha.canHavePartnerCollab()?wa["default"].getCollaborations().then(function(Ua){var Ta;Ua=(null===(Ta=null===Ua||void 0===Ua?void 0:Ua.trustedOrgs)||void 0===Ta?void 0:Ta.filter(function(Xa){return-1<Xa.from.established&&-1<Xa.to.established}))||[];Va.resolve(Ua)}):Va.resolve([]);Va.then(function(Ua){new Aa.ShareWrapper(Ga,
{apiVersion:3,portal:Ha,portalUser:Ka,request:ya["default"],initialState:{resources:{items:Ia},utilities:{onCancel:function(){Ma&&Ra&&Ra.cancelWorkflow("share",{pageName:Pa,pageUrl:Qa});Sa()},onComplete:function(Ta){var Xa,ab=0<(null===(Xa=null===Ta||void 0===Ta?void 0:Ta.errors)||void 0===Xa?void 0:Xa.length)&&Ta.errors[0];if(Ma){Xa={pageName:Pa,pageUrl:Qa,count:Na,details:void 0,error:void 0};if(Ta.selectedOptions){var Wa=Ta.selectedOptions,db=Object.keys(Ta.selectedOptions).filter(function($a){return"total"!==
$a}).reduce(function($a,Ya){if(!$a||Wa[Ya]>Wa[$a])$a=Ya;return $a},null);Xa.details=Wa[db]===Wa.total?db:"mixed"}ab&&ab.notSharedWith&&(Xa.error=ab.notSharedWith);Ra&&Ra.endWorkflow("share",Xa)}Sa();ab?X["default"].showAlert("error",ab.error.message):1===Ia.length?X["default"].showAlert("success",e["default"].substitute(Ba["default"].sharingDlg.itemUpdated,[Ia[0].title])):X["default"].showAlert("success",e["default"].substitute(Ba["default"].sharingDlg.itemsUpdated,[Ia[0].title,Ia.length-1]));var cb=
Ia.reduce(function($a,Ya){var bb;return p.__assign(p.__assign({},$a),(bb={},bb[Ya.id]=!0,bb))},{}),Za=Ia[0].portal;Ta=(Ta&&Ta.dependentItems||[]).filter(function($a){return!cb[$a.id]}).map(function($a){return new k["default"](y["default"].mixin($a,{portal:Za}))});Ia=Ia.concat(Ta);u["default"](Ia.map(y["default"].hitch(c["default"],"getItemSharing"))).then(function($a){Ia.forEach(function(Ya,bb){Ca=$a[bb];var eb=(Ca.groups||[]).map(function(fb){return{id:fb.id,thumbnail:fb.thumbnail,title:fb.title}});
y["default"].mixin(Ya,{access:(null===Ca||void 0===Ca?void 0:Ca.access)||Ya.access,sharing:Ca,groupData:eb,sharedGroups:Ca.total||0});Ya.contentStatus=Q["default"].getContentStatus(Ya)});return u["default"](Ia.map(ma["default"].getVerifiedInfo))}).then(function($a){$a.forEach(function(Ya,bb){Ia[bb].verified=Ya});Ia.forEach(function(Ya){var bb="public"===Ya.access,eb=Ya.types||[];eb=Y["default"].concatUnique(eb,bb?["is-public"]:["is-not-public"]);eb=Y["default"].filterOut(eb,bb?["is-not-public"]:["is-public"]);
Ya.types=eb.concat();Ya.set("sharing",Ya.sharing)});l["default"].publish("view/updateShare",Ia);l["default"].publish("view/deselectAll",{})})}},config:{groupsPerPage:100,hasTrustedOrgs:0<Ua.length}}})})};ra.shareOwnership=function(fa){fa.portal.getPortalUser().getGroups().then(function(pa){var ua=fa.item||{},Ea=fa.items||[ua],Da=ua.type,Ca=new E["default"]({"class":"sharedOwnershipDlg",title:Ba["default"].sharingDlg.sharedOwnershipTitle,buttonOk:Ba["default"].common.ok,buttonCancel:Ba["default"].common.cancel,
style:{height:"auto"}}),Ia=new R["default"]({value:{items:Ea,groups:pa}}),La;Ca.setContent(Ia.domNode);Ia.startup().then(function(){Ca.show()});var Ga=l["default"].subscribe("/dlg/onOk",function(){Ia.validate().then(function(){Ia.shareWithSelectedGroup().then(function(){u["default"](Ea.map(y["default"].hitch(c["default"],"getItemSharing"))).then(function(Ha){Ea.forEach(function(Ka,Na){La=Ha[Na];y["default"].mixin(Ka,{access:(null===La||void 0===La?void 0:La.access)||Ka.access,sharing:La})});Ea[0].set("sharing",
Ea[0].sharing);l["default"].publish("view/deselectAll",{});fa.item&&("Web Map"===Da||"Web Scene"===Da?(a["default"].defaults.io.errorHandler=function(){},N["default"].checkWebMapContent({webMapId:ua.id,webMapItemCard:ua,webMapConfig:ua.itemData,confirmItemControl:!0})):"Web Mapping Application"===Da&&N["default"].checkWebAppContent({webAppId:ua.id,webAppItemCard:ua,confirmItemControl:!0}))});Ca.hide().then(function(){Ma.remove();Ga.remove()})},function(Ha){Ha&&Ha.messageCode&&"GWM_0021"===Ha.messageCode&&
fa.page._showError(Ha)})})});var Ma=l["default"].subscribe("/dlg/onCancel",function(){Ma.remove();Ga.remove()})})};ra.rateLimiting=function(fa){(new K["default"]({item:fa.item,user:fa.user})).showModal()};ra.timeSettings=function(fa){var pa=fa.item,ua=fa.evt,Ea=fa.user;fa=fa.layerId||g["default"].get(ua.target,"data-layerId");fa=c["default"].findLayer(fa,pa.layers);(new V["default"]({item:pa,layer:fa,user:Ea})).showModal()};ra.toggleFavorite=function(fa){var pa=fa.item,ua=fa.item.isFavorite;fa=fa.evt;
var Ea=new q["default"];t["default"].stop(fa);C["default"][ua?"removeFromFavorites":"addToFavorites"](pa).then(function(Da){var Ca,Ia;(null===(Ca=null===Da||void 0===Da?void 0:Da.notSharedWith)||void 0===Ca?0:Ca.length)||(null===(Ia=null===Da||void 0===Da?void 0:Da.notUnsharedFrom)||void 0===Ia?0:Ia.length)?Ea.reject({message:Ba["default"].itemProperties.error.cantShareFavorites}):(pa.set("isFavorite",!ua),Ea.resolve(pa.isFavorite))},function(Da){Ea.reject("item not provisioned"===(null===Da||void 0===
Da?void 0:Da.message)?{message:Ba["default"].itemProperties.error.noShareListedItem}:Da)});return Ea};ra.updateData=function(fa){var pa=fa.item,ua=g["default"].get(fa.evt.target,"data-type"),Ea=pa.thumbnail&&-1===pa.thumbnail.indexOf("thumbnail/ago_downloaded.")&&-1===pa.thumbnail.indexOf("thumbnail/thumbnail.");if("append"===ua)return this.appendData(fa);if("overwriteFromCloud"===ua)return this.overwriteFromCloud(fa);var Da=new Z["default"];Da.show(pa);var Ca=l["default"].subscribe("itemData/update",
function(){Ca.remove();"Vector Tile Service"!==pa.type||Ea?Da.hide():(pa.set({thumbnail:"",thumbnailUrl:""}),pa.getThumbnail(!0).then(function(Ia){Da.hide()},function(){Da.hide()}))});m["default"].once(Da._updateItemDialog,"hide",function(){Da._updateItemDialog.destroyRecursive();Da.destroy()})};ra.publishService=function(fa,pa,ua){void 0===pa&&(pa="file");var Ea=fa.item,Da=fa.user;fa=fa.page;var Ca=h["default"].create("div",null,document.body,"last"),Ia=Da;Ea.owner!==Da.username&&(Ia=new Oa["default"](Ea.itemOwner));
pa=da["default"].createElement("arcgis-new-item",{isActive:!0,portal:Ea.portal,user:Ia,existingItem:Ea,config:v["default"],api:3,telemetry:fa.telemetry,existingItemType:pa,existingItemPublishType:ua},Ca);pa.addEventListener("workflowCancel",function(){l["default"].publish("folders/refresh",{forcedDelay:1E3});h["default"].destroy(Ca)});pa.addEventListener("workflowComplete",function(La){var Ga=La.detail;La=Ga.id;var Ma=Ga.response,Ha=Ga.jobId,Ka=Ga.serviceType,Na=Ga.item;Ga=Ga.newItemMode;if(null===
Ma||void 0===Ma?0:Ma.success)if(h["default"].destroy(Ca),Ma=Ha?"\x26jobid\x3d"+Ha:"",Ha="Map Service"===Ka?Na.tileAutoCreation?"#overview/manageTiles":"#settings/manageTiles":"","tileLayer"===Ga)window.location.href="item.html?id\x3d"+La+Ma+Ha;else switch(null===Na||void 0===Na?void 0:Na.type){case "Tile Package":window.location.href="item.html?id\x3d"+La+Ma+(Ka?"#settings/buildCache":"");break;case "Service Definition":window.location.href="item.html?id\x3d"+La+Ma+("Map Service"===Ka?"#settings/manageTiles":
"");break;default:window.location.href="item.html?id\x3d"+La+Ma}})};ra.publishTiles=function(fa){var pa=this,ua=fa.item,Ea=fa.user,Da=fa.layer,Ca=ua&&ua.itemOwner&&ua.itemOwner.folders,Ia=g["default"].get(fa.evt.target,"data-type"),La=this._getPublishingTypeMessage(ua,Ia);this._getPublishingCostMessage(ua,Ia).then(function(Ga){La=Ga&&Ga.message||La;if(!Ga||Ga.availableCredits>=Ga.totalCost)if("features"===Ia){var Ma=document.createElement("div"),Ha=function(Ka){Ja.render(Ja.h(oa["default"],{title:Ba["default"].itemProperties.publishViewLayer,
active:Ka,itemId:ua.id,onClose:function(){Ha(!1)}}),Ma)};Ha(!0)}else["vectorTiles","tiles"].includes(Ia)?pa.publishService(fa,"tileLayer",Ia):(new ca["default"]({portal:ua.portal,folders:Ca,portalUser:Ea,message:La,item:ua,showFolders:!0,type:Ia||"tiles",serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ka){var Na=null===Ka||void 0===Ka?void 0:Ka.id;Ka=!(null===Ka||void 0===Ka||!Ka.cacheOnDemand);Na&&(window.location.href="item.html?id\x3d"+Na+("tiles"===Ia?Ka?"":"#settings/manageTiles":
"scenes"===Ia?"#settings/buildCache":""))});else pa._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ra.publishImagery=function(fa){var pa=this,ua=fa.item,Ea=fa.user,Da=fa.layer,Ca=ua&&ua.itemOwner&&ua.itemOwner.folders,Ia=g["default"].get(fa.evt.target,"data-type"),La=this._getImageServiceTypeMessage(Ia);this._getPublishingCostMessage(ua,Ia).then(function(Ga){La=Ga&&Ga.message||La;!Ga||Ga.availableCredits>=Ga.totalCost?(new ca["default"]({portal:ua.portal,
folders:Ca,portalUser:Ea,message:La,item:ua,showFolders:!0,type:Ia,serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ma){if(Ma=null===Ma||void 0===Ma?void 0:Ma.id)window.location.href="item.html?id\x3d"+Ma}):pa._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ra._getImageServiceTypeMessage=function(fa){return"dynamicImagery"===fa?Ba["default"].publishImageServiceDlg.dynamicImageryLayerDesc:Ba["default"].publishImageServiceDlg.tileImageryLayerDesc};
ra._getPublishingTypeMessage=function(fa,pa){switch(pa){case "wfs":var ua="wfsServiceDetailsDesc";break;case "ogcfeatures":ua="ogcFeatureServiceDetailsDesc";break;case "scenes":ua="sceneServiceDetailsDesc";break;case "features":ua="viewServiceDetailsDesc";break;case "vectorTiles":ua="vectorServiceDetailsDesc";break;default:ua="serviceDetailsDesc"}return Ba["default"].publishTileServiceDlg[ua]};ra._getAvailableCredits=function(fa){var pa,ua;return(null===(pa=fa.user)||void 0===pa?void 0:pa.availableCredits)||
(null===(ua=fa.subscriptionInfo)||void 0===ua?void 0:ua.availableCredits)||0};ra._getPublishingCostMessage=function(fa,pa){var ua=new q["default"];if("scenes"!==pa)ua.resolve(null);else{var Ea=Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,Da=this._getAvailableCredits(fa.portal||{});sa["default"].fetchScenePublishingCredits(fa,fa.layers||[]).then(function(Ca){Ea=e["default"].substitute(Ba["default"].publishTileServiceDlg.createLayerCost,{credits:ha["default"].format(Ca),availableCredits:ha["default"].format(Da)});
Ea=Da>=Ca?e["default"].substitute(Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,{createLayerCost:Ea}):Ea;ua.resolve({totalCost:Ca,availableCredits:Da,message:Ea})})}return ua};ra.moveItem=function(fa){var pa,ua=fa.page.portal,Ea=fa.portalUser||(null===(pa=fa.item)||void 0===pa?void 0:pa.itemOwner)||ua.getPortalUser(),Da=fa.currentFolder&&fa.currentFolder.id||fa.item&&fa.item.folderId||Ea.username,Ca=fa.selectedItems||[fa.item];fa=new w["default"]({items:Ca,owner:Ea,portal:ua,currentFolder:Da});
fa.open();fa.on("close",function(Ia){l["default"].publish("folders/refresh");if(Ia){var La=Ia.newFolder;Ia=Ia.error;if(La&&!Ia)if(l["default"].publish("items/itemDetailRefresh",La),Da&&"all"!==Da){Ca.forEach(function(Ka){y["default"].mixin(Ka,{folder:La,folderId:La.id,ownerFolder:La.id})});l["default"].publish("items/refresh",{removedItems:Ca});var Ga=l["default"].subscribe("items/refreshComplete",function(){l["default"].publish("view/deselectAll");Ga.remove();l["default"].publish("folders/refreshAndSelect");
l["default"].publish("aggregations/refresh")})}else l["default"].publish("view/deselectAll",{}),l["default"].publish("aggregations/refresh");else if(Ia){var Ma=null===Ia||void 0===Ia?void 0:Ia.movedItems;if((null===Ma||void 0===Ma?0:Ma.length)&&Da&&"all"!==Da){l["default"].publish("items/refresh",{removedItems:null===Ia||void 0===Ia?void 0:Ia.movedItems});var Ha=l["default"].subscribe("items/refreshComplete",function(){Ha.remove();l["default"].publish("aggregations/refresh")})}}}})};ra.openLayerMetadata=
function(fa){var pa,ua,Ea=fa.item,Da=fa.evt,Ca=null!==(pa=fa.page)&&void 0!==pa?pa:null===(ua=null===fa||void 0===fa?void 0:fa.scope)||void 0===ua?void 0:ua.page,Ia=Da.target;fa=fa.layerId||g["default"].get(Ia,"data-layerId");var La=!1,Ga=!1;da["default"].disableNode(Ia,!0);W["default"].openLayerEditor(Ea,fa).then(function(Ma){var Ha=[],Ka=function(){da["default"].disableNode(Ia,!1)};Ha.push(Ma.gxeAdaptor.on("metadata-save",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||
void 0===Qa?0:Qa.success)La=!0,Ga=!1}));Ha.push(Ma.gxeAdaptor.on("metadata-delete",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||void 0===Qa?0:Qa.success)Ga=!0,La=!1}));Ha.push(f["default"].after(Ma.dialog,"show",Ka));Ha.push(f["default"].after(Ma.dialog,"hide",Ka));Ha.push(f["default"].after(Ma,"onDialogClose",function(){Ka();Ha.forEach(function(Na){var Qa;null===(Qa=null===Na||void 0===Na?void 0:Na.remove)||void 0===Qa?void 0:Qa.call(Na)});(La||Ga)&&setTimeout(function(){Ca._item.set("serviceChanged",
!0)},500)}))})};ra.viewMetadata=function(fa){fa=fa.item.itemUrl+"/info/metadata/metadata.xml";var pa=B["default"].getUser();B["default"].openPage(fa+"?format\x3ddefault\x26output\x3dhtml"+((null===pa||void 0===pa?0:pa.token)?"\x26token\x3d"+pa.token:""),!1)};ra.editMetadata=function(fa){var pa=fa.item,ua=fa.evt.target,Ea=!1;da["default"].disableNode(ua,!0);W["default"].openEditor(pa).then(function(Da){var Ca=[],Ia=function(){da["default"].disableNode(ua,!1)};Ca.push(Da.gxeAdaptor.on("metadata-save",
function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=Y["default"].concatUnique(pa.typeKeywords,["Metadata"]),pa.set("typeKeywords",La.join(",")),Ea=!0}));Ca.push(Da.gxeAdaptor.on("metadata-delete",function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=Y["default"].filterOut(pa.typeKeywords,["Metadata"]),pa.set("typeKeywords",La.join(",")),Ea=!1}));Ca.push(f["default"].after(Da.dialog,"show",Ia));
Ca.push(f["default"].after(Da.dialog,"hide",Ia));Ca.push(f["default"].after(Da,"onDialogClose",function(){Ia();Ca.forEach(function(La){var Ga;null===(Ga=null===La||void 0===La?void 0:La.remove)||void 0===Ga?void 0:Ga.call(La)});Ea&&setTimeout(function(){B["default"].request({url:pa.portal.portalUrl+"content/items/"+pa.id}).then(function(La){pa.set("accessInformation",La.accessInformation);pa.set("description",La.description);pa.set("licenseInfo",La.licenseInfo);pa.set("snippet",La.snippet);pa.set("tags",
La.tags);pa.set("title",La.title);pa.set("serviceChanged",!0)})},500)}))})};ra.setExtent=function(fa){};ra.setSearchExtent=function(fa){fa=fa.item;var pa=fa.proxyFilter||{};fa=fa.unsavedSearchExtent||pa.searchExtent||null;var ua=new H["default"];fa=fa?r["default"].stringToArray(fa,",",!1):null;ua._publish=function(Ea){l["default"].publish("searchExtent/update",Ea)};fa=4===(null===fa||void 0===fa?void 0:fa.length)?[[Number(fa[0]),Number(fa[1])],[Number(fa[2]),Number(fa[3])]]:null;ua.show(fa);m["default"].once(ua._extentDialog,
"hide",function(){ua._extentDialog.destroyRecursive();ua.destroyRecursive()})};ra.reassignItem=function(fa){var pa,ua,Ea,Da,Ca=fa.item||{},Ia=fa.items||[Ca],La=null===(pa=fa.page)||void 0===pa?void 0:pa.telemetry;pa=fa.portal||fa.page&&fa.page.portal||{};var Ga=(null===Ca||void 0===Ca?void 0:Ca.itemOwner)||fa.owner,Ma=(null===(ua=fa.owner)||void 0===ua?void 0:ua.getCurrentFolder())||{};ua=null===(Ea=Ca.resultData)||void 0===Ea?void 0:Ea.length;Ea="Feature Service"===(null===(Da=null===Ca||void 0===
Ca?void 0:Ca.sourceData)||void 0===Da?void 0:Da.type);var Ha=fa.dontRemoveFromList||!1;if(!Ca.isHostedService&&ua||Ca.isHostedService&&Ea&&("WFS"===Ca.type||Ca.isDataView||"Map Service"===Ca.type||"Scene Service"===Ca.type)){var Ka=new E["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});Ka.show({title:Ba["default"].common.notice,message:Ba["default"].common.errors.reassignSourceItemWithRelated}).then(function(){return Ka.hide()})}else Da=new F["default"]({items:Ia,
owner:Ga,portal:pa,telemetry:La,currentFolder:Ma}),Da.open(),Da.on("close",function(Na){var Qa;if(Na){var Pa=Na.newOwner,Ra=Na.newFolder,Sa=Na.error;Na=Na.updatedItems;if(Pa&&Ra&&!Sa)if(Ha=Ha||Pa===Ga.username&&(null===(Qa=fa.folder)||void 0===Qa?void 0:Qa.isAll),Ia.forEach(function(Ta){y["default"].mixin(Ta,{owner:Pa})}),fa.noRedirect){l["default"].publish("items/refresh",Ha?{forcedDelay:1E3}:{removedItems:Ia});var Va=l["default"].subscribe("items/refreshComplete",function(){Va.remove();l["default"].publish("folders/refreshAndSelect");
Sa||l["default"].publish("view/deselectAll",{});l["default"].publish("aggregations/refresh")})}else window.location.href="item.html?id\x3d"+Ca.id;if(Sa){Na.map(function(Ta){return Y["default"].find(Ia,function(Xa){return Xa.id===Ta.itemId})}).forEach(function(Ta){y["default"].mixin(Ta,{owner:Pa})});l["default"].publish("items/refresh",{forcedDelay:1E3});var Ua=l["default"].subscribe("items/refreshComplete",function(){Ua.remove();l["default"].publish("aggregations/refresh")})}}})};ra.deleteItem=function(fa){var pa=
this,ua=fa.item,Ea=ua.portal||{},Da,Ca,Ia,La,Ga,Ma,Ha=function(Ka){if(Ka&&Ka.success)if(fa.noRedirect){l["default"].publish("items/refresh",{removedItems:[ua]});var Na=l["default"].subscribe("items/refreshComplete",function(){l["default"].publish("view/deselectAll");Na.remove();Ma.hide();l["default"].publish("alert/show",{type:"success",text:Ba["default"].itemProperties.itemDeleteSuccess});l["default"].publish("aggregations/refresh")})}else window.location.href=(null===Ia||void 0===Ia?0:Ia.id)?"item.html?id\x3d"+
Ia.id:ua.isAdmin&&!ua.isOwner?"content.html?user\x3d"+ua.owner:"content.html";else Ma.hide(),fa.noRedirect?l["default"].publish("alert/show",{type:"error",text:Ba["default"].common.errors[(null===Ka||void 0===Ka?void 0:Ka.messageCode)||""]||Ka}):pa._showError(Ka)};u["default"]({canBeDeleted:Ea.isPortal?ua.canBeDeleted():null,sourceData:ua.getSourceData(),resultData:ua.getResultData()}).then(function(Ka){var Na,Qa,Pa;Da=null===(Na=Ka.canBeDeleted)||void 0===Na?void 0:Na.success;Ca=!Da&&(null===(Qa=
Ka.canBeDeleted)||void 0===Qa?void 0:Qa.offendingItems)||[];Ia=Ka.sourceData;La=Ka.resultData;Ga=!Ia&&(null===La||void 0===La?void 0:La.length)&&!ua.isHostedService;Na=Ba["default"].itemProperties.deleteItemBlocked+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e';Qa=Ba["default"].itemProperties.deleteSourceItem+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e\x3cbr/\x3e'+Ba["default"].itemProperties.deleteSourceItemMsg;var Ra=Ga?Qa:Na,Sa="",Va=Ea.helpBase+Ea.helpMap.m["120001208"];
Na=La||Ca||void 0;var Ua=(null===Na||void 0===Na?0:Na.length)?Na.length-5:0,Ta=(null===Na||void 0===Na?0:Na.length)?Na.map(function(Xa){return"id:"+(Xa.id||Xa.itemId)}).join(" OR "):"";Ea.isPortal?Da?(Ma=new D["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){c["default"].deleteItem(ua).then(Ha,Ha)},!0),m["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})):Da||Ca.length?(Ka=((null===(Pa=Ka.canBeDeleted)||void 0===
Pa?void 0:Pa.offendingItems)||[]).map(function(Xa){return B["default"].request({url:Ea.portalUrl+"content/items/"+Xa.itemId})}),u["default"](Ka).then(function(Xa){Ca=Xa;Ca=Ca.map(function(ab){return new k["default"](y["default"].mixin(ab,{portal:Ea}))});Ca.forEach(function(ab,Wa){5>Wa&&(Sa+=e["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',{relItem:ab,i18n:Ba["default"]}))});Sa+=5<Ca.length?
e["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"";Ra=e["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va});Ga?(Ma=new E["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,
style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(ab){"onOk"===ab&&c["default"].deleteItem(ua).then(Ha,Ha)})):(Ma=new M["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}));m["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})})):(Pa=Ka.canBeDeleted,l["default"].publish("alert/show",{type:"error",text:Pa&&(Pa.messageCode&&Ba["default"].common.errors[Pa.messageCode]||Pa.message||
Ba["default"].common.errors.genericError.message)})):(!La||!La.length||pa.isFeedWithSingleHostedFeatureLayer(ua,La)||pa.isHostedFeatureLayerFromFeed(ua,La)?(Ma=new D["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){c["default"].deleteItem(ua).then(Ha,Ha)},!0)):(La.forEach(function(Xa,ab){5>ab&&(Sa+=e["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',
{relItem:Xa,i18n:Ba["default"]}))}),Sa+=5<La.length?e["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"",Ra=e["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va}),Ga?(Ma=new E["default"]({buttonOkLabel:Ba["default"].common.yesLabel,
buttonCancelLabel:Ba["default"].common.noLabel,style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(Xa){"onOk"===Xa&&c["default"].deleteItem(ua).then(Ha,Ha)})):(Ma=new M["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}))),m["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()}))},function(Ka){l["default"].publish("alert/show",{type:"error",text:Ka&&(Ka.messageCode&&Ba["default"].common.errors[Ka.messageCode]||
Ka.message||Ba["default"].common.errors.genericError.message)})})};ra.toggleAttachments=function(fa){var pa=fa.item,ua=fa.evt,Ea=pa.isDataView,Da=Ba["default"].itemProperties,Ca=Ea?Da.showAttachments:Da.enableAttachments,Ia=Ea?Da.hideAttachments:Da.disableAttachments,La=Ea?Da.showingAttachments:Da.enablingAttachments,Ga=Ea?Da.hidingAttachments:Da.disablingAttachments,Ma=Ea?Da.enablingAttachmentsViewMessage:Da.enablingAttachmentsMessage;Da=Ea?Da.disableAttachmentsViewMessage:Da.disableAttachmentsMessage;
var Ha=fa.layerId||g["default"].get(ua.target,"data-layerId"),Ka=fa.layer||c["default"].findLayer(Ha,pa.layers),Na=Ka.hasAttachments,Qa=new E["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,busyMessage:Na?Ga:La,style:{width:"460px",height:"auto"}}),Pa=function(){Qa.set("disabled",!0);c["default"].enableAttachments(pa,Ka,!Na).then(function(){pa.set("maxAgeCheck",!0);g["default"].set(ua.target,"innerHTML",na["default"].inline.attachment["16"]+(Na?
Ca:Ia));Qa.hide()},function(Ra){Ra=Ra&&(Ra.messageCode&&Ba["default"].common.errors[Ra.messageCode]||Ra.message||Ba["default"].common.errors.genericError.message);Qa.hide();l["default"].publish("alert/show",{type:"error",text:Ra})})};fa=function(Ra){Qa.show({title:Na?Ia:Ca,message:Ra}).then(function(Sa){"onOk"===Sa&&Pa()})};Ea?Pa():fa(Na?Da:Ma)};ra.createApp=function(fa){var pa,ua=fa.item,Ea=fa.portal;fa=fa.evt;if(null===(pa=null===fa||void 0===fa?void 0:fa.target)||void 0===pa?0:pa.href)return window.open(fa.target.href,
"_blank");var Da=ua.isHostedTemplate;pa="wab"===g["default"].get(fa.target,"data-type")||Y["default"].includes(ua.typeKeywords,"Web AppBuilder for ArcGIS");fa=g["default"].get(fa.target,"data-type")||null;Da=Da||pa;var Ca=new ea["default"]({item:ua});pa={isWab:pa};if(fa){"webscene"===fa&&Ea.isPortal&&(pa.typeInfo="webscene_portal");if("storymap"===fa)return window.open(v["default"].storymapsUrl+"/stories/new?"+("Web Scene"===ua.type?"webscene":"webmap")+"\x3d"+ua.id,"_blank");(ua=Da?Ca.showModal(pa):
Ca.showWizard(pa))&&ua.then(function(Ia){if(null===Ia||void 0===Ia?0:Ia.configureUrl)window.location.href=Ia.configureUrl})}};ra.profilePopup=function(fa){var pa=this,ua=fa.item,Ea=fa.evt;(ua=fa.profile||ua.owner||(fa.user?fa.user.username||fa.user:null))&&!this._popup&&(this._popup=new ka["default"]({username:ua,opener:Ea.target,portal:fa.page.portal}),this._popup.open(),m["default"].once(this._popup,"close",function(){pa._popup=void 0}))};ra.advancedOfflineOptions=function(fa){var pa=document.createElement("div");
document.body.appendChild(pa);(new la["default"]({item:fa.item,page:fa.page},pa)).open()};ra.attachCode=function(fa){var pa=fa.item;fa=pa.codeAttachment;var ua=c["default"].createSpecifiedDialog(ta["default"],{item:pa,sharing:pa.sharing});ua.show(fa);f["default"].after(ua,"onUpload",function(){pa.set("codeAttachmentChanged",!0);ua.hide()})};ra.deleteCode=function(fa){var pa=fa.item;fa=fa.item;var ua=fa.portal,Ea=fa.codeAttachment;fa="Web Mapping Application"===pa.type&&Y["default"].includes(pa.typeKeywords,
"Web AppBuilder");Ea&&c["default"].createSpecifiedDialog(D["default"]).showMsgTitleButton(""+Ba["default"].itemProperties.removeAttachmentMsg+(fa?"":"\x3cbr\x3e\x3cbr\x3e"+Ba["default"].itemProperties.removeAttachmentUpdate),Ba["default"].itemProperties.removeAttachmentTitle,Ba["default"].itemProperties.removeAttachmentButton,function(){B["default"].request({url:ua.portalUrl+"content/items/"+Ea.id}).then(function(Da){Da=new k["default"](y["default"].mixin(Da,{portal:pa.portal}));c["default"].deleteItem(Da).then(function(){pa.set("codeAttachment",
null)})})})};ra.thumbnail=function(fa){var pa=this,ua=document.getElementById("item-thumb-modal-container");ua||(ua=document.createElement("div"),ua.id="item-thumb-modal-container",document.body.appendChild(ua));var Ea=function(){Ja.render(null,ua)},Da=Ba["default"].GroupWidget.thumbnailDlg;Ja.render(Ja.h(qa["default"],{contentClass:"esriThumbnailDlg",onSave:function(Ca){return p.__awaiter(pa,void 0,void 0,function(){var Ia,La,Ga,Ma,Ha,Ka,Na,Qa,Pa,Ra,Sa;return p.__generator(this,function(Va){switch(Va.label){case 0:Ia=
new FormData,La="thumbnail"+(new Date).getTime()+"."+Ca.format,Ia.append("thumbnail",Ca.blob,La),Ia.append("f","json"),Ga=fa.item,Ma=fa.page.portalUser,Ka=(Ha=Ga.itemOwner)?Ha.userContentUrl:Ma.userContentUrl,Na=Ga.folderId&&"/"!==Ga.folderId?"/"+Ga.folderId:"",Qa=""+Ka+Na+"/items/"+Ga.id+"/update",Va.label=1;case 1:return Va.trys.push([1,4,,5]),[4,B["default"].request({url:Qa,form:Ia,timeout:12E4},{usePost:!0})];case 2:return Va.sent(),[4,Ma.getItem(Ga.id)];case 3:return Pa=Va.sent(),Ra=Ga.thumbnailUrl,
Pa.thumbnailUrl&&(Sa=-1<Pa.thumbnailUrl.indexOf("?token\x3d"),Ra=""+Pa.thumbnailUrl+(Sa?"\x26":"?")+"ts\x3d"+(new Date).getTime()),Ga.set("thumbnailUrl",Ra),Ea(),[3,5];case 4:return Va.sent(),[3,5];case 5:return[2]}})})},onCancel:Ea,allowFromMap:!0,height:293,aspectRatio:1.5,zoomToFull:!0,fillBackground:!0,itemId:fa.item.id,texts:{title:Da.createThumb,drag:Da.uploadImage,size:Da.dragAndDrop}}),ua)};ra.newMapViewer=function(fa){var pa=fa.item;fa=fa.evt;var ua=g["default"].get(fa.currentTarget,"data-href")||
pa.mapNewViewerUrl,Ea=-1<ua.indexOf("useExisting\x3d1"),Da=pa.canOpenInNewMapViewer;"modern"===pa.portal.defaultMapViewer&&Da?window.location=g["default"].get(fa.currentTarget,"href")||pa.newMapViewerUrl:"Web Map"!==pa.type&&Ea?window.location=ua:A["default"]().then(function(Ca){if(Ca&&!0===Ca.c){var Ia=new za["default"];Ia.show(ua,Ca);m["default"].once(Ia._dialog,"hide",function(){Ia._dialog.destroyRecursive();Ia.destroy()})}else window.location=ua})};ra.whatsNew=function(fa){var pa=new q["default"],
ua=fa.key,Ea=fa.endDate,Da=fa.redirectUrl,Ca=fa.disableDebugBlock,Ia=new Date((new Date).getTime()+31556926E3),La={},Ga=new Date,Ma=B["default"].getCookie("esri_whatsnew")||{},Ha={closeable:!1,showCancel:!!Da,buttonOkLabel:Da?Ba["default"].common.learnMore:Ba["default"].common.gotIt,buttonCancelLabel:Ba["default"].common.gotIt,className:"whatsNewDlg"},Ka=-1<window.location.hostname.indexOf("esri.com")?".esri.com":".arcgis.com";if(Ga<Ea&&(Ca||!v["default"].isDebug))if(Ma[ua])pa.resolve(!0);else{var Na=
new E["default"](Ha);Da?(n["default"].add(Na.okButton.domNode,"hide"),Ea=h["default"].create("a",{className:"btn right learn-more-link icon-ui-link-external",href:Da,target:"_blank",innerHTML:Ba["default"].addItemFrm.learnMore},Na.actionBarNode,"last")):Ea=Na.okButton;m["default"].once(Ea,"click",function(){Na.hide()});m["default"].once(Na,"hide",function(){La[ua]=!0;z["default"]("esri_whatsnew",x["default"].stringify(y["default"].mixin(Ma,La)),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"});pa.resolve(!0)});
Na.show({message:fa.message||"",title:fa.title||""})}else Ma[ua]&&(delete Ma[ua],z["default"]("esri_whatsnew",x["default"].stringify(Ma),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"})),pa.resolve(!0);return pa};ra.shareSocial=function(fa){var pa=fa.evt.target;fa=fa.item;fa="public"===(null===fa||void 0===fa?void 0:fa.access);var ua=new E["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});fa?window.open(g["default"].get(pa,"href")):ua.show({title:Ba["default"].itemLinks.shareItem,
message:b["default"].substitute({appTitle:v["default"].portalName||"ArcGIS.com"},Ba["default"].itemLinks.shareItemMsg)}).then(function(){ua.hide().then(function(){window.open(g["default"].get(pa,"href"))})})};ra.sceneJobStatus=function(fa){var pa=fa.item,ua=fa.item;fa=ua.portal;var Ea=ua.portal.isPortal,Da=pa.properties.cacheJobUrl;ua=pa.lastCachingJobStatus;var Ca=pa.serverToken?"?token\x3d"+pa.serverToken:"",Ia=Ea?""+Da+Ca:pa.adminUrl+"/"+Da+Ca;pa=Ea?Da:pa.adminUrl+"/"+Da+Ca;(new U["default"]).show(fa,
fa.portalUser,Ia,pa,ua)};ra.manageSceneCache=function(fa){var pa=fa.item,ua=fa.page;fa=fa.item.portal.isPortal?ua._hostedFederatedServer:void 0;ua=pa.sourceData||{};(new ia["default"]).show(ua,pa,fa)};ra.markItemAsAuthoritative=function(fa){var pa,ua=fa.item,Ea=((null===(pa=ua.portal)||void 0===pa?0:pa.isVerified)&&"public"===ua.access?"public":"org")+"_authoritative";ua._setContentStatusTo(Ea).then(function(Da){Da.success&&(ua.set("protected",!0),l["default"].publish("item/protect",{protect:!0}),
ua.set("contentStatus",Ea));return ma["default"].getVerifiedInfo(ua)}).then(function(Da){ua.set("verified",Da)})};ra.markItemAsDeprecated=function(fa){var pa=fa.item;pa._setContentStatusTo("deprecated").then(function(ua){ua.success&&(pa.set("contentStatus","deprecated"),pa.set("verified",!1))})};ra.removeContentStatus=function(fa){var pa=fa.item;pa._setContentStatusTo("").then(function(ua){ua.success&&(pa.set("contentStatus",""),pa.set("verified",!1))})};ra.httpsUpdate=function(fa){var pa=document.createDocumentFragment();
fa=new aa["default"](fa,h["default"].create("div",null,pa));var ua=c["default"].createDialogWrapper({className:"update-to-https-dlg",draggable:!d["default"]("touch"),title:Ba["default"].itemProperties.updateLayersToHTTPS},pa);pa=function(){ua.hide()};fa.startup();fa.own(l["default"].subscribe("update-to-https/done",pa),l["default"].subscribe("update-to-https/cancel",pa));ua.show()};ra.domainUpdate=function(fa){var pa=document.createDocumentFragment(),ua=new P["default"](fa,h["default"].create("div",
null,pa)),Ea=c["default"].createDialogWrapper({className:"update-domains-dlg",draggable:!d["default"]("touch"),title:Ba["default"].itemProperties.domainsTitle},pa);ua.startup();ua.own(l["default"].subscribe("update-domain/done",function(){Ea.hide()}));Ea.show();setTimeout(function(){ua.domainReplace.value&&ua.domainReplace.focus()},200)};ra.replaceLayer=function(fa){(new S["default"]({item:fa.item,page:fa.page},h["default"].place(h["default"].create("div"),document.body.lastChild,"after"))).open()};
ra.replaceSceneLayer=function(fa){(new O["default"]({item:fa.item},h["default"].place(h["default"].create("div"),document.body.lastChild,"after"))).open()};ra.updateSourceUrlToHttps=function(fa){var pa=fa.page,ua=fa.item;fa=v["default"].restBaseUrl+"/portals/checkurl";var Ea=[200,301,302,304,307,401,403,407,498,499],Da=null===ua||void 0===ua?void 0:ua.url,Ca=(null===ua||void 0===ua?void 0:ua.sourceUrl)&&r["default"].startsWith(ua.sourceUrl,"http://"),Ia=null===ua||void 0===ua?void 0:ua.sourceUrl;
if(Ca){var La=Ia.replace("http://","https://");B["default"].request({url:fa+"?url\x3d"+encodeURIComponent(La+"?f\x3djson")},{addToken:!1}).then(function(Ga){Ga&&!Ga.code&&Y["default"].includes(Ea,Ga.httpStatusCode)?pa.updateItem({url:La}).then(function(){ua.set({url:Da,sourceUrl:La});l["default"].publish("item/proxy-url-update",{sourceUrl:La});X["default"].showAlert("success",Ba["default"].itemProperties.upgradeToHttpsSuccess)}):X["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)},
function(Ga){X["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)})}};ra.downloadImage=function(fa){c["default"].downloadImage(fa).then(function(pa){pa&&pa.url&&(window.location=pa.url)})};ra.refreshSnapshot=function(fa){var pa,ua,Ea,Da,Ca=fa.item;fa=fa.page;var Ia=(null===(ua=null===(pa=Ca.adminServiceInfo)||void 0===pa?void 0:pa.properties)||void 0===ua?0:ua.serviceInfo)?JSON.parse(Ca.adminServiceInfo.properties.serviceInfo):{};pa=((null===Ia||void 0===Ia?void 0:Ia.layers)||
[]).filter(function(Ua){return-1<Ua.queryPolicy.indexOf("createSnapshot")}).map(function(Ua){return Ua.id}).map(function(Ua){var Ta;return null===(Ta=Ca.serviceInfo.layers.filter(function(Xa){return Xa.id===Ua}).shift())||void 0===Ta?void 0:Ta.name});var La=fa._hostedFederatedServer.url+"/rest/services/System/PublishingTools/GPServer/Refresh%20Service",Ga=La+"/submitJob";ua=null===(Da=null===(Ea=Ca.url.split("/rest/services/"))||void 0===Ea?void 0:Ea[1])||void 0===Da?void 0:Da.split("/");var Ma=(Ea=
2===(ua.indexOf("MapServer")||ua.indexOf("FeatureServer")))?ua[1]:ua[0],Ha={f:"json",token:Ca.adminServerToken,serviceType:"MapServer",serviceName:Ma,serviceFolder:Ea?ua[0]:null},Ka=document.getElementById("refresh-snapshot-dialog"),Na=document.getElementById("refresh-snapshot-error-dialog");Ka||(Ka=document.createElement("div"),Ka.id="refresh-shapshot-dialog",document.body.appendChild(Ka));Na||(Na=document.createElement("div"),Na.id="refresh-snapshot-error-dialog",document.body.appendChild(Na));
var Qa=Ba["default"].itemProperties.snapshot.refresh;Ea=Ba["default"].itemProperties.snapshot.description+'\x3cdiv class\x3d"leader-half margin-left-1 margin-right-1"\x3e'+pa.join("\x3cbr\x3e")+"\x3c/div\x3e";Da=Ba["default"].common;var Pa=Da.ok,Ra=Da.cancel,Sa=function(){Ja.render(null,Na);document.body.removeChild(Na)},Va=function(){Ja.render(Ja.h(va["default"],{autoCloseOnOk:!0,hideCancel:!0,hideClose:!1,renderHtmlDescription:!1,onOk:Sa,onCancel:Sa,strings:{title:Qa,description:Ba["default"].itemProperties.snapshot.inProgress,
ok:Pa,cancel:Ra},width:"s"}),Na)};Ja.render(Ja.h(va["default"],{autoCloseOnOk:!1,hideCancel:!1,hideClose:!1,renderHtmlDescription:!0,onOk:function(Ua){B["default"].request({url:Ga,content:Ha},{usePost:!0}).then(function(Ta){Ja.render(null,Ka);X["default"].showAlert("success",Ba["default"].itemProperties.snapshot.success.replace("${name}",Ma));Fa["default"].checkAsyncJobStatus(La+"/jobs/"+Ta.jobId).then(function(){null===Ua||void 0===Ua?void 0:Ua();X["default"].showAlert("success",Ba["default"].itemProperties.snapshot.finished.replace("${name}",
Ma))},function(Xa){null===Ua||void 0===Ua?void 0:Ua();Va()})},function(Ta){null===Ua||void 0===Ua?void 0:Ua();Va()})},onCancel:function(){Ja.render(null,Ka);document.body.removeChild(Ka)},strings:{title:Qa,description:Ea,ok:Pa,cancel:Ra},width:"s"}),Ka)};ra._getItemPkgPath=function(fa){var pa=fa.portal.getPortalUser();return fa.itemUrl+"/item.pkinfo"+("public"!==fa.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ra._getPItemPath=function(fa){var pa=fa.portal.getPortalUser();
return fa.itemUrl+"/item.pitem"+("public"!==fa.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ra._getPItemXPath=function(fa){var pa=fa.portal.getPortalUser();return fa.itemUrl+"/item.pitemx"+("public"!==fa.access&&(null===pa||void 0===pa?0:pa.token)?"?token\x3d"+pa.token:"")};ra._getLyrPath=function(fa){var pa=fa.portal.getPortalUser();return fa.url+"?f\x3dlyr\x26v\x3d9.3"+("public"!==fa.access&&(null===pa||void 0===pa?0:pa.token)?"\x26token\x3d"+pa.token:"")};ra._showError=
function(fa){var pa=new E["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});pa.show({title:fa.title||Ba["default"].addItemFrm.errors.error.title,message:fa.message||Ba["default"].addItemFrm.errors.error.message}).then(function(){pa.hide()})};ra.isFeedWithSingleHostedFeatureLayer=function(fa,pa){return"Feed"===fa.type&&fa.isHostedService&&1===(null===pa||void 0===pa?void 0:pa.length)&&"Feature Service"===pa[0].type&&Y["default"].includes(pa[0].typeKeywords,
"Hosted Service")};ra.isHostedFeatureLayerFromFeed=function(fa,pa){return"Feature Service"===fa.type&&fa.isHostedService&&1===(null===pa||void 0===pa?void 0:pa.length)&&"Feed"===pa[0].type&&Y["default"].includes(pa[0].typeKeywords,"Hosted Service")};return ra}(L["default"])})},"arcgisonline/map/utils/getMapCookie":function(){define(["dojo/Deferred","dojo/json"],function(T,J){return function(){var p=window.sessionStorage&&window.sessionStorage.getItem("Esri_webmap"),y=new T;p&&p.length?y.resolve(J.parse(p)):
y.resolve(null);return y}})},"arcgisonline/pages/dijit/ChangeOwner":function(){define("require exports tslib dojo/promise/all dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ../components/MemberPicker ../components/MemberThumb ./ChangeOwner/FolderPicker ../portal/PortalUser ../../tsutils/declareDecorator ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/organization ../../esriGeowConfig dojo/text!./ChangeOwner/templates/ChangeOwner.html dojo/i18n!../../nls/arcgisonline ../utils/icons ./OverlayConfirm preact".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=p.__importDefault(v);B=p.__importDefault(B);return function(){function A(E,
F){this.title=r["default"].changeOwner.title;this.i18n=r["default"];this.icons=v["default"];this.constrain=!0;this.overlayContents=t["default"].substitute(k["default"],{i18n:r["default"],icons:v["default"]});this.maxWidth=600;this.closeOnScrimClick=!1}A.prototype.postMixInProperties=function(){this.inherited(arguments)};A.prototype.postCreate=function(){this.inherited(arguments);this._initialOpen=!0;this.group||(this._folderArea=this.domNode.querySelector(".js-folder-area"),this._folderEdit=this.domNode.querySelector(".js-folder-edit"),
this._folderEditButton=this.domNode.querySelector(".js-folder-button"));this._ownerArea=this.domNode.querySelector(".js-owner-area");this._ownerEdit=this.domNode.querySelector(".js-owner-edit");this._ownerEditButton=this.domNode.querySelector(".js-owner-edit-button");this._loader=this.domNode.querySelector(".js-overlay-loader");var E=this.portal.portalUser.userRole;this.canReassignOrgItems=E.isAdmin()||E.canReassignOrgItems();this.canReassignOwnItems=!this.canReassignOrgItems&&E.canReassignOwnItems();
this._primaryBtn.disabled=!0};A.prototype.open=function(){this.inherited(arguments);this._initUI();this._addListeners()};A.prototype.close=function(E){this.inherited(arguments)};A.prototype._destroy=function(){this.inherited(arguments);C.render(null,this.domNode.querySelector(".js-member-picker"));C.render(null,this.domNode.querySelector(".js-member-thumb"))};A.prototype.handlePrimary=function(){var E=this;this.disableButtons();!this.group&&this.canReassignOwnItems?this.reassignItems():this._folderPicker&&
this._folderPicker.hasUnsavedChanges()?this._folderPicker.saveNewfolder().then(function(F){E._folder=F;E._reassign()},this._reassign.bind(this)):this._reassign()};A.prototype.disableButtons=function(){this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0};A.prototype.enableButtons=function(){this._primaryBtn.disabled=!1;this._cancelBtn.disabled=!1};A.prototype._addListeners=function(){var E=this;this._ownerEdit.addEventListener("click",this._openOwnerSelect.bind(this));this.group||(this._folderEdit.addEventListener("click",
this._openFolderSelect.bind(this)),this.own(this._folderPicker.on("selectUpdate",this._folderSelectUpdate.bind(this)),this._folderPicker.on("folderCreated",function(F){return E._createdFolder=F}),this._folderPicker.on("cancel",this._folderSelectCancel.bind(this))))};A.prototype.initUIUtil=function(){var E=this.items||[this.group],F=E[0].owner;E=E.every(function(w){return w.owner===F});return{firstOwner:F,sameOwner:E}};A.prototype._initUI=function(){var E=this,F=this.initUIUtil(),w=F.firstOwner;this.sameOwner=
F.sameOwner;this.group&&(this.domNode.querySelector(".js-item-owner-label").innerHTML=r["default"].changeOwner.groupOwner);this.memberPickerProps={portal:this.portal,group:this.group,showCancel:!this.group&&this.sameOwner,selectUpdate:this._memberSelectUpdate.bind(this),selectCancel:this._memberSelectCancel.bind(this),showMemberPicker:!0,adminOnly:this.adminOnly};this.sameOwner&&(this.memberPickerProps.excludedUsernames=[w]);this._memberPicker=C.render(C.h(u.MemberPicker,this.memberPickerProps),this.domNode.querySelector(".js-member-picker"));
this.group||(this._folderPicker=new z["default"]({portal:this.portal,user:this.owner},this.domNode.querySelector(".js-folder-picker")));this.sameOwner?this._fetchUser(w).then(function(D){E._owner=D;E._memberSelectUpdate(E._owner)}):(this._openOwnerSelect(),this._fadeIn())};A.prototype._fetchUser=function(E){var F=this;return a["default"].request({url:c["default"].restBaseUrl+"/community/users/"+E+"/"}).then(function(w){return new x["default"](p.__assign(p.__assign({},w),{portal:F.portal}))})};A.prototype._fadeIn=
function(){var E=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");E.classList.add("animate-fade-in")};A.prototype._compileRequests=function(){var E=this;if(this.group)return[this.group].map(this._reassignGroup.bind(this));var F=[],w=[],D=[],G=this._owner.username===this.owner.username,H=b["default"].getUserRole(this.owner).isCustom();this.items.forEach(function(M){G&&M.owner===E._owner.username&&!H?F.push(M):
w.push(M)});0<F.length&&D.push(this._moveItems(F));0<w.length&&w.forEach(function(M){return D.push(E._reassignItem(M))});return D};A.prototype.reassignUtil=function(E){return d["default"].find(this.items,function(F){return F.id===E.itemId})};A.prototype._reassign=function(){var E=this,F=this._compileRequests();this._loader.classList.add("is-active");y["default"](F).then(function(w){var D=w.filter(function(M){return M.success}).map(function(M){return M.item}),G=w.filter(function(M){return M.error&&
!M.success}),H=w.filter(function(M){return M.moveItems});0<H.length&&(H[0].results||[]).forEach(function(M){var R=E.reassignUtil(M);M.success?D.push({success:!0,item:R}):G.push({error:M.error,item:R})});0===G.length&&0<D.length?E._handleSuccess(D):0<G.length&&0===D.length?E._handleError(G[0]):0<G.length&&0<D.length&&E._handlePartialSuccess(D,G[0]);0===w[0].length&&E._handleSuccess(w[0])},function(w){E._handleError(w)})};A.prototype.getTransferError=function(E){var F=r["default"].changeOwner.transferErrors.general;
(null===E||void 0===E?0:E.messageCode)&&(E=r["default"].changeOwner.transferErrors[E.messageCode])&&(F=E);return F};A.prototype.reassignItems=function(){return p.__awaiter(this,void 0,void 0,function(){var E,F,w,D,G,H;return p.__generator(this,function(M){switch(M.label){case 0:E=this.portal.portalUser.username,M.label=1;case 1:return M.trys.push([1,3,,4]),[4,a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+E+"/reassignItems",content:{targetUsername:this._owner.username,items:this.items.map(function(R){return R.id}).join(",")}},
{usePost:!0})];case 2:F=M.sent();if(D=F.results.some(function(R){if(R.error)return w=R.error,!0}))return G=this.getTransferError(w),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[2];e["default"].showAlert("success",r["default"].changeOwner.transferSuccess);this.close({newOwner:this._owner,newFolder:this.reassignFolderName});return[3,4];case 3:return H=M.sent(),G=this.getTransferError(H),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[3,4];case 4:return[2]}})})};
A.prototype.canReassignItems=function(){return p.__awaiter(this,void 0,void 0,function(){var E,F,w,D,G,H,M,R;return p.__generator(this,function(N){switch(N.label){case 0:E=this.portal.portalUser.username,F=this.domNode.querySelector(".js-member-select-error"),this._ownerEdit.classList.remove("input-error"),F.classList.remove("is-active"),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+E+"/canReassignItems?token\x3d"+a["default"].getToken(),
content:{targetUsername:this._owner.username,items:this.items.map(function(K){return K.id}).join(",")}},{usePost:!0})];case 2:return N.sent(),[3,4];case 3:return w=N.sent(),D=w.messageCode,G="",H=r["default"].changeOwner.warnings,M=H.cantReceiveItems,R=H.cantOwnItems,"CONT_0291"===D?G=M:"CONT_0292"===D&&(G=R),G&&(F.innerHTML=G,F.classList.add("is-active"),this._ownerEdit.classList.add("input-error")),[3,4];case 4:return[2]}})})};A.prototype._reassignItem=function(E){var F=this._owner.username===this._folder.id?
"/":this._folder.title,w=new m["default"];a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+E.owner+"/items/"+E.id+"/reassign",content:{targetUsername:this._owner.username,targetFolderName:F}},{usePost:!0}).then(function(){return w.resolve({success:!0,item:E})},function(D){return w.resolve({error:D,item:E})});return w};A.prototype._moveItems=function(E){var F=this._folder.username===this._folder.id?"/":this._folder.id,w=E.filter(function(G){return(G.ownerFolder||"/")!==F}),D=new m["default"];
0===w.length?D.resolve([]):a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:w.map(function(G){return G.id}).join(","),folder:F}},{usePost:!0}).then(function(G){return D.resolve({moveItems:!0,results:G.results})},function(G){return D.resolve({error:G,items:E})});return D};A.prototype._reassignGroup=function(){return a["default"].request({url:c["default"].restBaseUrl+"/community/groups/"+this.group.id+"/reassign",content:{targetUsername:this._owner.username}},
{usePost:!0})};A.prototype._handleSuccess=function(E){this._loader.classList.remove("is-active");if(this.telemetry&&!this.group){var F=this._folder.title===this._createdFolder;this.telemetry.logEvent({category:"change owner folder option",label:this._folder.id===this._owner.username?"default":F?"new":"custom"})}E={newOwner:this._owner,updatedItems:E};this.group||(e["default"].showAlert("success",r["default"].changeOwner.success),E.newFolder=this._folder);this.close(E)};A.prototype.showErrorPopup=
function(E){var F=this;E=new B["default"]({title:r["default"].common.errorTitle,description:E,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});E.domNode.classList.add("position-absolute");E.domNode.classList.add("fullscreen");this._overlay.appendChild(E.domNode);E.show().then(function(){F._ownerEditButton.focus()});this.enableButtons()};A.prototype._handleError=function(E){E=E.messageCode?this._getErrorText(E):this._getErrorText(E.error,E.item);this._loader.classList.remove("is-active");
this.showErrorPopup(E)};A.prototype._handlePartialSuccess=function(E,F){var w=F.error,D=F.item;this._loader.classList.remove("is-active");D=this._getErrorText(w,D);w={newOwner:this._owner,updatedItems:E,error:w};this.group||(e["default"].showAlert("error",D),w.newFolder=this._folder);this.close(w)};A.prototype._getErrorText=function(E,F){var w=this.group?r["default"].GroupWidget.error.cantReassignGroup:r["default"].changeOwner.cantChangeOwner,D=this._owner.username;if(null===E||void 0===E?0:E.messageCode)switch(E.messageCode){case "COM_0046":w=
t["default"].substitute(r["default"].GroupWidget.error.errorReassignGroupName,{name:D,groupName:this.group.title});break;case "CONT_0014":w=t["default"].substitute(r["default"].folderDlg.invalid.itemExists,[F.title,this._folder.folderAttributeName||this._folder.title]);break;case "COM_1065":w=E.message&&E.message.match(/\d+/)[0];w=t["default"].substitute(r["default"].GroupWidget.error.groupMaxOtherUser,{name:D,numGroups:w});break;case "COM_1076":w=t["default"].substitute(r["default"].GroupWidget.error.errorReassignGroupOpenData,
{name:D});break;case "COM_1084":w=t["default"].substitute(r["default"].GroupWidget.error.errorReassignGroupPrivileges,{name:D});break;case "COM_1070":w=r["default"].common.errors.COM_1070;break;default:r["default"].common.errors[E.messageCode]&&(w=r["default"].common.errors[E.messageCode]),403===E.code&&(w=r["default"].errorWidget.accessDeniedResource)}return w};A.prototype._openOwnerSelect=function(E){null===E||void 0===E?void 0:E.preventDefault();C.render(C.h(u.MemberPicker,p.__assign(p.__assign({},
this.memberPickerProps),{showMemberPicker:!0,showCancel:!this._initialOpen})),this.domNode.querySelector(".js-member-picker"));h["default"].setVisibility(this._ownerArea,!1);this.group||(h["default"].setVisibility(this._folderArea,!1),h["default"].hideNode(this._folderPicker.domNode))};A.prototype._openFolderSelect=function(E){E&&E.preventDefault();this.group||(h["default"].showNode(this._folderPicker.domNode),h["default"].setVisibility(this._folderArea,!1),this._folderPicker.focus());h["default"].setVisibility(this._ownerArea,
!1)};A.prototype._folderSelectUpdate=function(E){this._folder=E;h["default"].hideNode(this._folderPicker.domNode);h["default"].setVisibility(this._folderArea,!0);h["default"].setVisibility(this._ownerArea,!0);this._populateCurrentFolder();this._folderEditButton&&this._folderEditButton.focus()};A.prototype._folderSelectCancel=function(){h["default"].hideNode(this._folderPicker.domNode);h["default"].setVisibility(this._folderArea,!0);h["default"].setVisibility(this._ownerArea,!0);this._folderEditButton&&
this._folderEditButton.focus()};A.prototype._memberSelectUpdate=function(E){var F=this;this._owner=E;C.render(C.h(u.MemberPicker,p.__assign(p.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));h["default"].setVisibility(this._ownerArea,!0);C.render(C.h(q.MemberThumb,{member:E,cssClasses:"member-browser-row-thumbnail margin-right-half"}),this.domNode.querySelector(".js-member-thumb"));this.domNode.querySelector(".js-fullname").innerHTML=E.fullName;
this.domNode.querySelector(".js-username").innerHTML=E.username;this._folder=null;this._ownerEditButton.focus();if(!this._initialOpen||this.group)this._primaryBtn.disabled=!1;this.group?this._fadeIn():this.canReassignOrgItems?(this._ownerEdit.classList.add("btn-disabled"),E.folders?(this._populateCurrentFolder(),this._folderPicker.updateUser(E),this._ownerEdit.classList.remove("btn-disabled"),this._fadeIn()):E.getFolders().then(function(w){E.folders=w;F._owner.folders=w;F._populateCurrentFolder();
F._folderPicker.updateUser(E);F._ownerEdit.classList.remove("btn-disabled");F._fadeIn()})):this.canReassignOwnItems&&(this._initialOpen||this._populateTransferFolder(),this._fadeIn());E.privileges?this._validateSelectedMember():this._fetchUser(E.username).then(function(w){F._owner=w;!w.privileges&&F.canReassignOwnItems?F.canReassignItems():F._validateSelectedMember()});this._initialOpen&&this._openOwnerSelect();this._initialOpen&&!this.group&&this.canReassignOwnItems&&(this._initialOpen=!1)};A.prototype._memberSelectCancel=
function(){C.render(C.h(u.MemberPicker,p.__assign(p.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));this._ownerEdit.focus();h["default"].setVisibility(this._ownerArea,!0);this._folder&&!this.group&&h["default"].setVisibility(this._folderArea,!0);this._ownerEditButton.focus();this.canReassignOwnItems&&this._populateTransferFolder();!this._owner.privileges&&this.canReassignOwnItems?this.canReassignItems():this._validateSelectedMember()};A.prototype._validateSelectedMember=
function(){var E,F=this.domNode.querySelector(".js-member-select-error");this._ownerEdit.classList.remove("input-error");F.classList.remove("is-active");var w=!1,D=b["default"].getUserRole(this._owner),G=D.isCustom(),H=!!this.group,M=this._owner.username===this.portal.portalUser.username;H||!G||D.canCreateItem()||M||(w=r["default"].changeOwner.warnings.cantOwnItems);(null===(E=this.group)||void 0===E?0:E.isOpenDataEnabled)&&!D.canDesignateOpenDataGroups()&&(w=r["default"].changeOwner.warnings.cantOwnOpenData);
E=D.isAdmin()||G&&D.canCreateUpdateCapableGroup();H&&this.group.isSharedOwnership&&!E&&(w=r["default"].changeOwner.warnings.cantOwnAccessUpdateGroups);H&&G&&!D.canCreateGroup()&&(w=r["default"].changeOwner.warnings.cantOwnGroups);H||M||!this.canReassignOwnItems||!G||D.canReceiveUserItems()||(w=r["default"].changeOwner.warnings.cantReceiveItems);w&&"string"===typeof w&&(F.innerHTML=w,F.classList.add("is-active"),this._ownerEdit.classList.add("input-error"))};A.prototype._populateTransferFolder=function(){h["default"].setVisibility(this._folderArea,
!0);h["default"].setVisibility(this._folderEdit,!0);this._folderEdit.classList.add("change-owner-card--disabled");h["default"].hideNode(this.domNode.querySelector(".js-folder-edit-button"));var E=new Date,F=E.getDate(),w=E.getMonth()+1;F=(10>F?"0":"")+F;w=(10>w?"0":"")+w;E=E.getFullYear().toString();this.reassignFolderName=this.portal.portalUser.username+"_"+E+"_"+w+"_"+F;this.domNode.querySelector(".js-folder-name").innerHTML=this.reassignFolderName};A.prototype._populateCurrentFolder=function(){var E;
h["default"].setVisibility(this._folderArea,!0);h["default"].setVisibility(this._folderEdit,!0);h["default"].hideNode(this._folderPicker.domNode);if(!this._folder){var F=this.items[0].ownerFolder,w=this.items.every(function(G){return G.ownerFolder===F}),D=d["default"].find(this._owner.folders,function(G){return G.id===F});this._folder=w&&D?D:this._owner.folders[0]}this.domNode.querySelector(".js-folder-name").innerHTML=this._folder.title;w=v["default"].inline[this._folder.id===this._owner.username?
"home":"folder"]["16"];this.domNode.querySelector(".js-folder-icon").innerHTML=w;null===(E=this._folderEditButton)||void 0===E?void 0:E.focus();this._initialOpen&&(h["default"].setVisibility(this._folderArea,!1),this._initialOpen=!1)};return A=p.__decorate([n["default"](g["default"],f["default"],l["default"])],A)}()})},"arcgisonline/pages/components/MemberPicker":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../nls/arcgisonline arcgisonline/sharing/util arcgisonline/esriGeowConfig ../utils/keys ../portal/PortalUser ./MemberPickerRow ./preactHooks arcgisonline/sharing/dijit/_LevelAwareMixin".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x){var n=this;Object.defineProperty(J,"__esModule",{value:!0});J.MemberPicker=void 0;m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);u=p.__importDefault(u);J.MemberPicker=function(h){var e=z.useSetState({showCancel:h.showCancel||!0,selected:null,totalMembers:0,showMoreMembers:!1,showNoResults:!1,members:[],searchInput:"",initialFocus:!1}),d=e[0],a=e[1],b=t.useRef(null);e=t.useRef(null);t.useEffect(function(){k().then(function(R){a({totalMembers:R});
100>=R||h.allowEmptySearch?r().then(function(N){return a({members:N})}):a({showMoreMembers:!0})})},[]);t.useEffect(function(){var R=d.initialFocus;b.current&&R&&(c(),a({initialFocus:!1}))},[b,d.initialFocus]);t.useEffect(function(){h.showMemberPicker&&c()},[h.showMemberPicker]);t.useEffect(function(){a({showCancel:h.showCancel})},[h.showCancel]);var c=function(){var R;null===(R=b.current)||void 0===R?void 0:R.focus()},k=function(){return p.__awaiter(n,void 0,void 0,function(){var R,N,K;return p.__generator(this,
function(V){switch(V.label){case 0:return R=B("",1),N=v(),[4,f["default"].request({url:N,content:R})];case 1:return K=V.sent(),[2,K.total]}})})},r=function(R){return p.__awaiter(n,void 0,void 0,function(){var N,K,V,Z;return p.__generator(this,function(ca){switch(ca.label){case 0:return N=h.portal,K=B(R),V=v(),[4,f["default"].request({url:V,content:K})];case 1:return Z=ca.sent(),[2,(Z.results||Z.users).map(function(ea){return new u["default"](p.__assign(p.__assign({},ea),{portal:N}))})]}})})},v=function(){var R=
h.group;return(null===R||void 0===R?0:R.isBackedByEnterpriseGroup)?g["default"].restBaseUrl+"/community/groups/"+R.id+"/userlist":g["default"].restBaseUrl+"/portals/self/users/search"},B=function(R,N){var K,V,Z=h.group,ca=h.portal,ea=h.adminOnly,ka=x.LevelAwareInfo.LICENSE_LEVELS,la=ka.ONE;ka=ka.ONE_PLUS_EDIT;la=Z?"":"-level:"+la+" -level:"+ka+" ";Z=(null===Z||void 0===Z?0:Z.leavingDisallowed)||(null===Z||void 0===Z?0:Z.hiddenMembers)||ea?"role:org_admin":"";ea=R?"("+R+")":"";ka=ca.isPortal?"-username:esri_livingatlas -username:esri_boundaries -username:esri_demographics -username:esri_nav":
"";if(null===(K=h.excludedUsernames)||void 0===K?0:K.length)ka=h.excludedUsernames.reduce(function(ta,za){return""+ta+(ta?" ":"")+"-username:"+za},ka);K={num:N||100,sortField:"relevance",sortOrder:"asc"};(null===(V=h.group)||void 0===V?0:V.isBackedByEnterpriseGroup)?K.name=R:K.q=ea+" "+la+" "+Z+" orgid:"+ca.id+" "+ka;return K};t.useEffect(function(){var R=d.members,N=d.searchInput,K=d.totalMembers;0<(null===R||void 0===R?void 0:R.length)?a({showMoreMembers:!1,showNoResults:!1,selected:0}):a({showNoResults:0<
N.length,showMoreMembers:0===N.length&&100<=K})},[d.members,d.totalMembers]);var C=function(R){var N=d.members,K=d.selected;h.selectUpdate(R||N[K])},A=function(R,N){var K=d.members;a({showCancel:!0});var V=R,Z=K.length-1;R>Z?V=0:0>R&&(V=Z);a({selected:V});N||C(K[V])},E=function(){var R;null===(R=b.current)||void 0===R?void 0:R.focus()},F=function(){a(function(R){return{showCancel:!R.showCancel}})};z.useEventListener("keydown",function(R){var N=d.members,K=d.selected;if(h.showMemberPicker)switch(R.keyCode){case l.ESCAPE:h.selectCancel();
break;case l.ENTER:R.preventDefault();(null===N||void 0===N?0:N[K])&&C();break;case l.UP:R.preventDefault();A(K-1,!0);break;case l.DOWN:R.preventDefault(),A(K+1,!0)}});var w=d.members,D=d.showCancel,G=d.selected,H=d.showMoreMembers,M=d.showNoResults;return y.h("div",{ref:e,"class":"member-picker "+(h.showMemberPicker?"":"hide")},y.h("div",{"class":"font-size--1 trailer-half flex"},y.h("h4",{"class":"trailer-0 font-size--1 flex-1",id:"member-picker-label"},m["default"].changeOwner.newOwner),y.h("button",
{"class":"btn-link font-size--1 flex-0 btn-link-off-black right "+(D?"":"hide"),onClick:h.selectCancel},m["default"].common.cancel)),y.h("label",{"for":"member-picker-input","class":"visually-hidden"},m["default"].changeOwner.searchMembers),y.h("input",{id:"member-picker-input","class":"member-picker-search",ref:b,onInput:function(R){var N=d.totalMembers;R=R.target.value;R!==d.searchInput&&a({searchInput:R});(2<(null===R||void 0===R?void 0:R.length)||0<N&&100>=N||h.allowEmptySearch&&0===(null===R||
void 0===R?void 0:R.length))&&r(R).then(function(K){return a({members:K})});0===R.length&&a({showNoResults:!1});0===R.length&&!h.allowEmptySearch&&100<=N&&a({members:[],showMoreMembers:!0})},placeholder:m["default"].changeOwner.searchMembers,"aria-controls":"member-results-list",type:"search",autocomplete:"off"}),0<w.length&&y.h("ul",{"class":"member-picker-results",id:"member-results-list",role:"menu","aria-labelledby":"member-picker-label"},w.map(function(R,N){return y.h(q.MemberPickerRow,{key:R.id,
member:R,isSelected:N===G,index:N,handleCancel:F,handleSelect:A,handleFocus:E})})),M&&y.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},m["default"].changeOwner[h.group?"noUsersFoundGroup":"noUsersFoundItem"]),H&&y.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},m["default"].changeOwner.tooManyUsers))}})},"arcgisonline/pages/utils/keys":function(){define(["require","exports"],function(T,J){Object.defineProperty(J,"__esModule",{value:!0});
J.DOWN=J.RIGHT=J.UP=J.LEFT=J.TAB=J.SPACEBAR=J.ENTER=J.ESCAPE=void 0;J.ESCAPE=27;J.ENTER=13;J.SPACEBAR=32;J.TAB=9;J.LEFT=37;J.UP=38;J.RIGHT=39;J.DOWN=40;J["default"]={ESCAPE:J.ESCAPE,ENTER:J.ENTER,TAB:J.TAB,UP:J.UP,DOWN:J.DOWN,LEFT:J.LEFT,RIGHT:J.RIGHT,SPACEBAR:J.SPACEBAR}})},"arcgisonline/pages/components/MemberPickerRow":function(){define(["require","exports","preact","./MemberThumb","preact/hooks"],function(T,J,p,y,t){Object.defineProperty(J,"__esModule",{value:!0});J.MemberPickerRow=void 0;J.MemberPickerRow=
function(m){var f=m.member,g=m.isSelected,l=m.handleSelect,u=m.handleFocus,q=m.index,z=p.createRef();m=f.fullName;var x=f.username;t.useEffect(function(){g&&z.current&&z.current.scrollIntoView({behavior:"smooth"})},[g,z]);return p.h("li",{"class":"member-browser-row member-browser-row--select member-browser-row--on-gray member-browser-row--compact flex flex-center "+(g?"is-active":""),ref:z,role:"menuitem","aria-selected":g,"tab-index":"0",onFocus:u,onClick:function(){l(q)}},p.h(y.MemberThumb,{member:f,
cssClasses:"member-browser-row-thumbnail margin-right-half"}),p.h("div",{"class":"flex-1 flex flex-column margin-left-half"},p.h("h4",{"class":"member-browser-row-name avenir-bold font-size--1 trailer-0"},m),p.h("p",{"class":"trailer-0 font-size--2"},x)))}})},"arcgisonline/pages/components/MemberThumb":function(){define("require exports tslib preact preact/hooks arcgisonline/esriGeowConfig ../utils/strings".split(" "),function(T,J,p,y,t,m,f){Object.defineProperty(J,"__esModule",{value:!0});J.MemberThumb=
void 0;f=p.__importDefault(f);J.MemberThumb=function(g){var l=g.member,u=g.cssClasses;g=g.showTooltip;var q=t.useState(null),z=q[0],x=q[1],n=t.useState(null);q=n[0];var h=n[1],e=t.useState(null);n=e[0];var d=e[1];e=t.useState(!1);var a=e[0],b=e[1];t.useEffect(function(){var k,r,v;b(!1);x(l.thumbnailUrl||l.defaultThumbnailUrl);if(l.thumbnailUrl&&l.thumbnailUrl!==l.defaultThumbnailUrl){var B=(null===(r=null===(k=m.userInfo)||void 0===k?void 0:k.credential)||void 0===r?void 0:r.token)||(null===(v=m.userInfo)||
void 0===v?void 0:v.token);B&&-1===l.thumbnailUrl.indexOf("token")&&x(function(C){return""+C+(-1<l.thumbnailUrl.indexOf("?")?"\x26":"?")+"token\x3d"+B});h("");d("#FFFFFF")}else c()},[l]);var c=function(){var k=l.fullName,r=l.username;k.trim()?(k=k.split(" "),h(k[0].substring(0,1)+(k[1]?k[1].substring(0,1):""))):l.username&&h(r.substring(0,2));k=l.id;k=(null===k||void 0===k?void 0:k.substr(k.length-6))||"";f["default"].isValidHex(k)||(k=f["default"].stringToHex(l.username));k=f["default"].hexToRgb(k);
d("rgba("+k.r+","+k.g+","+k.b+",0.2)");b(!0)};return y.h("div",{"aria-label":g?l.fullName:"","class":g?"tooltip":""},y.h("div",{"class":"member-thumb "+(u||""),style:{backgroundColor:n}},y.h("img",{src:z,onError:c,alt:"","class":"margin-left-0 "+(a?"hide":"")}),y.h("div",{"class":"member-thumb__initials "+(a?"":"hide")},q),y.h("div",{"class":"member-thumb__edit-mask"},y.h("calcite-icon",{icon:"plusCircle",scale:"l"}))))}})},"arcgisonline/pages/components/preactHooks":function(){define(["require",
"exports","tslib","preact/hooks"],function(T,J,p,y){Object.defineProperty(J,"__esModule",{value:!0});J.useAsyncReference=J.useDebounce=J.useSetState=J.useEventListener=J.useWindowSize=void 0;J.useWindowSize=function(t){function m(){g({width:window.innerWidth,height:window.innerHeight})}t="object"!==typeof window;t=y.useState({width:t?1200:window.innerWidth,height:t?800:window.innerHeight});var f=t[0],g=t[1];y.useEffect(function(){window.addEventListener("resize",m);return function(){window.removeEventListener("resize",
m)}},[]);return f};J.useEventListener=function(t,m,f){void 0===f&&(f=window);var g=y.useRef();y.useEffect(function(){g.current=m},[m]);y.useEffect(function(){if(f&&f.addEventListener){var l=function(u){return g.current(u)};f.addEventListener(t,l);return function(){f.removeEventListener(t,l)}}},[t,f])};J.useSetState=function(t){void 0===t&&(t={});var m=y.useState(t);t=m[0];var f=m[1];m=y.useCallback(function(g){f(function(l){return p.__assign(p.__assign({},l),g instanceof Function?g(l):g)})},[f]);
return[t,m]};J.useDebounce=function(t,m){var f=y.useState(t),g=f[0],l=f[1];y.useEffect(function(){var u=setTimeout(function(){l(t)},m);return function(){clearTimeout(u)}},[t,m]);return g};J.useAsyncReference=function(t){var m=y.useRef(t),f=y.useState(!1)[1];return[m,function(g){Object.is(m.current,g)||(m.current=g,f(function(l){return!l}))}]}})},"arcgisonline/pages/dijit/ChangeOwner/FolderPicker":function(){define("require exports tslib dojo/text!./templates/FolderPicker.html dojo/i18n!../../../nls/arcgisonline dojo/Evented dojo/Deferred dojo/debounce dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator ../../../sharing/util ../../utils/organization ../../../esriGeowConfig ./FolderPickerRow ../../utils/dom ../../utils/keys ../../utils/icons".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);c=p.__importDefault(c);return function(){function k(r,v){this.templateString=y["default"];this.i18n=t["default"];
this.icons=c["default"];this._rows=[];this._selectedIndex=0;this._creatingFolder=!1}k.prototype.postMixInProperties=function(){this.inherited(arguments);this.containerClass=this.isMoveItem?"move-item-container":"member-picker"};k.prototype.postCreate=function(){var r=this,v;this.inherited(arguments);this.itemFolders=null===(v=this.items)||void 0===v?void 0:v.map(function(B){return B.ownerFolder});this._searchInput=this.domNode.querySelector(".js-search-input");this._noFolderRow=this.domNode.querySelector(".js-no-folder");
this._createFolderInlineLink=this._noFolderRow.querySelector(".js-create-folder-inline");this._createFolderInlineLink.addEventListener("click",this._showNewFolder.bind(this,!0));this._searchInput.addEventListener("input",g["default"](this._updateResults.bind(this),300));this.domNode.addEventListener("keydown",this._handleKeys.bind(this));this._newFolderForm=this.domNode.querySelector(".js-create-folder-form");this._newFolderForm.addEventListener("submit",function(B){var C,A;null===(A=null===(C=r.saveNewfolder(B))||
void 0===C?void 0:C.then)||void 0===A?void 0:A.call(C,function(E){r.emit("selectUpdate",E)})});this._newFolderInput=this._newFolderForm.querySelector(".js-create-folder-input");this._newFolderInput.addEventListener("input",g["default"](this._updateFolderResults.bind(this),300));this.isMoveItem?(v=this.domNode.querySelector(".js-folder-picker-cancel"),v.parentElement.removeChild(v),this._resultsDropdown.classList.add("move-item")):this.domNode.querySelector(".js-folder-picker-cancel").addEventListener("click",
function(B){r._cancelNewFolder();r._buildFolderList();r.emit("cancel")});this._createFolderButton=this.domNode.querySelector(".js-create-new-folder");this._createFolderButton.addEventListener("click",this._showNewFolder.bind(this,!1));this._showHideCreate()};k.prototype.shouldHideCreate=function(){var r=h["default"].getUserRole(this.portal.portalUser);return this.portal.portalUser.username!==this.user.username&&r.isCustom()&&r.canReassignOrgItems()};k.prototype._showHideCreate=function(){var r=this.shouldHideCreate();
a["default"].showHide(this._createFolderButton,!r);a["default"].showHide(this._createFolderInlineLink,!r)};k.prototype._buildFolderList=function(){var r=this,v;this._rows.forEach(function(C){return C.destroy()});this._rows=(this.user.folders||[]).map(function(C,A){var E=new d["default"]({folder:C,user:r.user,isMoveItem:r.isMoveItem},u["default"].place(u["default"].create("li"),r._resultsDropdown));E.on("select",function(){return r.emit("selectUpdate",C)});E.on("select",function(){return r._select(A)});
E.on("hover",function(){return r._active(A,!0)});return E});var B=null===(v=this.itemFolders)||void 0===v?void 0:v.filter(function(C,A){return C&&r.itemFolders.indexOf(C)===A});1===(null===B||void 0===B?void 0:B.length)?(v=this._rows.filter(function(C){return C.folder.id===B[0]})[0],v=this._rows.indexOf(v),-1!==v&&(this._active(v),this._select(v))):this._active(0);this._searchInput.value=""};k.prototype._updateResults=function(){var r=this._searchInput.value.toLowerCase(),v=this._rows.filter(function(B){var C=
B.folder.title.toLowerCase();C=!r||-1<C.indexOf(r);a["default"].showHide(B.domNode,C);return C});0===v.length&&(this._createFolderInlineLink.innerHTML=l["default"].substitute(this.i18n.folderDlg.createFolderInline,[r]));a["default"].showHide(this._noFolderRow,0===v.length)};k.prototype._checkMatchingFolder=function(r){var v=r.toLowerCase();return 0<this._rows.filter(function(B){return B.folder.title.toLowerCase()===v}).length};k.prototype._updateFolderResults=function(){this._checkMatchingFolder(this._newFolderInput.value)?
this._displayError("Unable to create folder.",this._newFolderInput.value):this._closeErrorMessage()};k.prototype._handleKeys=function(r){if(!this._creatingFolder)switch(r.keyCode){case b.ESCAPE:this.emit("cancel");break;case b.ENTER:r.preventDefault();this._createFolderInlineLink===document.activeElement?this._showNewFolder(!0):this._createFolderButton===document.activeElement&&this._showNewFolder(!1);if(r=this._rows[this._selectedIndex])this.emit("selectUpdate",r.folder),this._select(this._selectedIndex);
break;case b.UP:r.preventDefault();this._active(this._selectedIndex-1);break;case b.DOWN:r.preventDefault(),this._active(this._selectedIndex+1)}};k.prototype._select=function(r){if(r||0===r){var v=this._rows.length-1;r>v&&(r=0);0>r&&(r=v)}this._rows[r].select();this._rows.forEach(function(B,C){C!==r&&B.deselect()})};k.prototype._active=function(r,v){if(r||0===r){var B=this._rows.length-1;r>B&&(r=0);0>r&&(r=B);this._selectedIndex=r;this._rows[r].active();if(!v){var C=this._rows[r].domNode;B=C.parentElement;
var A=C.offsetTop;C=C.offsetHeight;var E=A+C;A<B.scrollTop?B.scrollTop=A:E>B.scrollTop+B.offsetHeight&&(B.scrollTop=A-B.offsetHeight+C)}}this._rows.filter(function(F,w){return w!==r}).forEach(function(F){return F.deactivate()})};k.prototype._showNewFolder=function(r){var v=this;this._creatingFolder=!0;r?(a["default"].hideNode(this._noFolderRow),this.saveNewfolder(void 0,!0).then(function(B){v.emit("selectUpdate",B)})):(a["default"].hideNode(this._createFolderButton),a["default"].showNode(this._newFolderForm),
this._active(),this._newFolderInput.focus(),this._newFolderForm.querySelector(".js-folder-create-cancel").addEventListener("click",this._cancelNewFolder.bind(this)))};k.prototype._cancelNewFolder=function(r){null===r||void 0===r?void 0:r.preventDefault();this._closeErrorMessage();this._creatingFolder=!1;a["default"].hideNode(this._newFolderForm);this._newFolderInput.value="";this.shouldHideCreate()||a["default"].showNode(this._createFolderButton)};k.prototype.focus=function(){this._searchInput.focus()};
k.prototype.updateUser=function(r){this.user=r;this._buildFolderList();this._showHideCreate()};k.prototype.hasUnsavedChanges=function(){return this._creatingFolder&&0<this._newFolderInput.value.length};k.prototype.saveNewfolder=function(r,v){var B=this;null===r||void 0===r?void 0:r.preventDefault();var C=e["default"].restBaseUrl+"/content/users/"+this.user.username+"/createFolder",A=v?this._searchInput.value:this._newFolderInput.value,E={title:A};if(null!==A&&void 0!==A&&A.trim())if(this._checkMatchingFolder(A))this._newFolderInput.focus();
else return this.emit("folderCreated",A),n["default"].request({url:C,content:E},{usePost:!0}).then(function(F){var w=new f["default"];!0===(null===F||void 0===F?void 0:F.success)&&(B._cancelNewFolder(),B.user.folders.unshift(F.folder),B._buildFolderList(),B._select(0),B._active(0),w.resolve(F.folder));return w},function(F){B._displayError(F.message,A)});else this._displayError(this.i18n.folderDlg.invalid.provideName,A)};k.prototype._displayError=function(r,v){var B;"Unable to create folder."===r&&
(B=""===v?this.i18n.folderDlg.invalid.provideName:l["default"].substitute(this.i18n.folderDlg.invalid.sameFolderName,[v]));var C=this.domNode.querySelector(".js-create-folder-error-message");C.innerHTML=B||r;this._newFolderInput.focus();C.classList.add("is-active");this._newFolderInput.classList.add("error")};k.prototype._closeErrorMessage=function(){this.domNode.querySelector(".js-create-folder-error-message").classList.remove("is-active");this._newFolderInput.classList.remove("error")};return k=
p.__decorate([x["default"](z["default"],q["default"],m["default"])],k)}()})},"arcgisonline/pages/dijit/ChangeOwner/FolderPickerRow":function(){define("require exports tslib dojo/text!./templates/FolderPickerRow.html dojo/i18n!../../../nls/arcgisonline ../../utils/icons dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);
l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(z,x){this.templateString=y["default"];this.i18n=t["default"];this.icons=m["default"]}q.prototype.postMixInProperties=function(){this.inherited(arguments);this.folderIcon=m["default"].inline[this.user.username===this.folder.id?"home":"folder"]["16"]};q.prototype.postCreate=function(){var z=this;this.inherited(arguments);this._folderLink.addEventListener("click",function(x){x.preventDefault();z.emit("select")});this.domNode.addEventListener("click",
function(x){return z.emit("select")});this._folderLink.addEventListener("mouseover",function(x){return z.emit("hover")})};q.prototype.active=function(){this._folderLink.classList.add("is-active")};q.prototype.deactivate=function(){this._folderLink.classList.remove("is-active")};q.prototype.select=function(){this._folderLink.setAttribute("aria-selected","true");this._folderLink.classList.add("is-selected")};q.prototype.deselect=function(){this._folderLink.setAttribute("aria-selected","false");this._folderLink.classList.remove("is-selected")};
return q=p.__decorate([u["default"](l["default"],g["default"],f["default"])],q)}()})},"arcgisonline/pages/dijit/OverlayConfirm":function(){define("require exports tslib esri/Evented dojo/text!./Overlay/templates/OverlayConfirm.html dojo/i18n!../../nls/arcgisonline dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../utils/icons ../utils/focus ../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);
m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(e,d){this.templateString=t["default"];this.i18n=m["default"];this.icons=q["default"];this.cancelText=this.confirmText="";this.isActions=!1;this.showActions=this.showClose=!0;this.cssClasses="";this.noMask=!1;this._confirmDfd=new f["default"]}h.prototype.postCreate=
function(){this.inherited(arguments);this.domNode.removeAttribute("title");var e=".js-confirm-btn",d=".js-cancel-btn";this.isActions&&(e=".js-action-one",d=".js-action-two",x["default"].hideNode(this._buttons),x["default"].showNode(this._actions));this._confirmBtn=this.domNode.querySelector(e);this._cancelBtn=this.domNode.querySelector(d);x["default"].showHide(this._closeBtn,this.showClose);this.showActions||(x["default"].hideNode(this._buttons),x["default"].hideNode(this._actions));this.noMask&&
this.domNode.classList.add("overlay-confirm--no-mask");this.iconKey&&(this.domNode.classList.add("overlay-confirm--has-icon"),this.icon.innerHTML=this.icons[this.iconKey]["16"]);this._render();this._addEventListeners()};h.prototype._render=function(){this._title.textContent=this.title;this._description.innerHTML=this.description;this._confirmBtn.textContent=this.confirmText;this._cancelBtn.textContent=this.cancelText};h.prototype._addEventListeners=function(){this.own(u["default"](this._confirmBtn,
this._confirmResolve.bind(this,"onOk")),u["default"](this._cancelBtn,this._confirmResolve.bind(this,"onCancel")),u["default"](this._closeBtn,this._confirmResolve.bind(this,"onClose")))};h.prototype._confirmResolve=function(e){var d=this;this._hide();setTimeout(function(){d._confirmDfd.resolve(e);d.destroy();d.emit("close")},300)};h.prototype._hide=function(){this.domNode.classList.remove("is-active")};h.prototype.show=function(){var e=this;window.getComputedStyle(this.domNode).opacity;this.domNode.classList.add("is-active");
setTimeout(function(){e.showClose?e._closeBtn.focus():e._cancelBtn.focus();z["default"].trapFocus(e.domNode)},300);return this._confirmDfd};h.prototype.hide=function(){var e=this;this._hide();setTimeout(function(){e.destroy()},300)};return h=p.__decorate([n["default"](l["default"],g["default"],y["default"])],h)}()})},"arcgisonline/pages/dijit/MoveItem":function(){define("require exports tslib dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ./OverlayConfirm ./ChangeOwner/FolderPicker ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/icons ../../esriGeowConfig dojo/text!./ChangeOwner/templates/MoveItem.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);return function(){function c(k,r){this.title=a["default"].itemProperties.moveToFolder;
this.i18n=a["default"];this.icons=h["default"];this.constrain=!0;this.overlayContents=y["default"].substitute(d["default"],{i18n:a["default"],icons:h["default"]});this.maxWidth=600;this.loadingText=a["default"].common.updating}c.prototype.postMixInProperties=function(){this.inherited(arguments)};c.prototype.postCreate=function(){this.inherited(arguments);this._loader=this.domNode.querySelector(".js-overlay-loader")};c.prototype.open=function(){this.inherited(arguments);this.initUI();this.addListeners()};
c.prototype.close=function(k){this.inherited(arguments)};c.prototype.handlePrimary=function(){var k=this,r;(null===(r=this._folderPicker)||void 0===r?0:r.hasUnsavedChanges())?this._folderPicker.saveNewfolder().then(function(v){k._folder=v;k.updateItems()},this.updateItems.bind(this)):this.updateItems()};c.prototype.addListeners=function(){this.own(this._folderPicker.on("selectUpdate",this.folderSelectUpdate.bind(this)))};c.prototype.initUI=function(){this._folderPicker=new u["default"]({portal:this.portal,
user:this.owner,isMoveItem:!0,items:this.items},this.domNode.querySelector(".js-folder-picker"));this.memberSelectUpdate(this.owner);this._primaryBtn.disabled=!0};c.prototype.fadeIn=function(){var k=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");k.classList.add("animate-fade-in");q["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};c.prototype.updateItems=function(){var k=this;this.moveItems(this.items).then(function(r){r=
r.results||[];var v=r.filter(function(A){return A.success}).map(function(A){return A.item}),B=r.filter(function(A){return A.error&&!A.success}),C=r.filter(function(A){return A.moveItems});0<C.length&&(C[0].results||[]).forEach(function(A){var E=x["default"].find(k.items,function(F){return F.id===A.itemId});A.success?v.push({success:!0,item:E}):B.push({error:A.error,item:E})});0===B.length&&0<v.length?k.handleSuccess(v):0<B.length&&0===v.length?k.handleError(B[0]):0<B.length&&0<v.length&&k.handlePartialSuccess(v,
B[0]);0===r.length&&k.handleSuccess()},this.handleError.bind(this))};c.prototype.moveItems=function(k){this._loader.classList.add("is-active");var r=this._folder.username===this._folder.id?"/":this._folder.id,v=k.filter(function(C){return(C.ownerFolder||"/")!==r}),B=new t["default"];0===v.length?B.resolve({moveItems:!0,results:[]}):n["default"].request({url:e["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:v.map(function(C){return C.id}).join(","),folder:r}},
{usePost:!0}).then(function(C){return B.resolve({moveItems:!0,results:C.results})},function(C){return B.resolve({error:C,items:k})});return B};c.prototype.handleSuccess=function(k){this._loader.classList.remove("is-active");k={newOwner:this._owner,newFolder:this._folder,updatedItems:k};z["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);this.close(k)};c.prototype.handleError=function(k){var r,v=k.error,B=k.itemId;k=v;"CONT_0014"===
v.messageCode&&(v=null===(r=this.items.filter(function(C){return C.id===B}))||void 0===r?void 0:r[0])&&(k=y["default"].substitute(a["default"].folderDlg.invalid.itemExists,[v.title,this._folder.folderAttributeName||this._folder.title]));this._loader.classList.remove("is-active");r=new l["default"]({title:a["default"].common.errorTitle,description:this._folder?k:a["default"].folderDlg.invalid.selectFolder,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});r.domNode.classList.add("position-absolute");
r.domNode.classList.add("fullscreen");this._overlay.appendChild(r.domNode);r.show()};c.prototype.handlePartialSuccess=function(k,r){var v,B=r.itemId,C=r.error;this._loader.classList.remove("is-active");var A={newOwner:this._owner,updatedItems:k,error:C},E=null===(v=this.items.filter(function(F){return F.id===B}))||void 0===v?void 0:v[0];z["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);"CONT_0014"===C.messageCode&&z["default"].showAlert("error",
y["default"].substitute(a["default"].folderDlg.invalid.itemExists,[E.title,this._folder.folderAttributeName||this._folder.title]));A.newFolder=this._folder;this.close(A)};c.prototype.openFolderSelect=function(k){null===k||void 0===k?void 0:k.preventDefault();q["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};c.prototype.folderSelectUpdate=function(k){this._folder=k;this.populateCurrentFolder();this._primaryBtn.disabled=!1};c.prototype.memberSelectUpdate=function(k){var r=
this;this._owner=k;this._folder=null;k.folders?(this.populateCurrentFolder(),this._folderPicker.updateUser(k),this.openFolderSelect(),this.fadeIn()):k.getFolders().then(function(v){k.folders=v;r._owner.folders=v;r.populateCurrentFolder();r._folderPicker.updateUser(k);r.fadeIn()})};c.prototype.populateCurrentFolder=function(){if(!this._folder){var k=this.items[0].ownerFolder,r=this.items.every(function(B){return B.ownerFolder===k}),v=x["default"].find(this._owner.folders,function(B){return B.id===
k});this._folder=r&&v?v:this._owner.folders[0]}};return c=p.__decorate([b["default"](f["default"],m["default"],g["default"])],c)}()})},"arcgisonline/sharing/dijit/dialog/ExportDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/serviceUtil ../../../pages/utils/categories ../../../pages/utils/dom ../../util ../SaveItem ./GeneralDlg ../../../tsutils/declareDecorator dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/promise/all dojo/string dojo/on dojo/topic esri/config esri/lang esri/Evented dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExportDlg.html ../ComboBox".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=
p.__importDefault(v);B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);var E;(function(F){F.ShapeFile="Shapefile";F.CSV="CSV";F.FileGDB="File Geodatabase";F.GeoJson="GeoJson";F.FeatureCollection="Feature Collection";F.KML="KML";F.Excel="Excel";F.TilePackage="Tile Package";F.GeoPackage="GeoPackage"})(E||(E={}));return function(){function F(){this.declaredClass="arcgisonline.sharing.dijit.dialog.ExportDlg";this.widgetsInTemplate=!0;this.templateString=A["default"];this.layerId=-1;
this.init=!1;this.checkStatusInterval=null;this.checkingStatus=!1;this.statusCheckIntervalTime=4E3;this._setMessageAttr={node:"_message",type:"innerHTML"};this.typeLookup={shapefileType:E.ShapeFile,csvType:E.CSV,fileGDB:E.FileGDB,geoJson:E.GeoJson,featureCollection:E.FeatureCollection,kmlType:E.KML,excelType:E.Excel,CSV:"CSV Collection",KML:"KML Collection",Excel:"Microsoft Excel",tilePackage:E.TilePackage};this.requiredBorder="1px dotted orangered";this.normalBorder="1px solid #bbb"}F.prototype.onDone=
function(w){};F.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=p.__assign(p.__assign(p.__assign({},C["default"].common),C["default"].exportDlg),{defaultError:C["default"].errorWidget.defaultError,generalize:C["default"].addLayerFromFileDlg.generalize,keepOrig:C["default"].addLayerFromFileDlg.keepOrig,notEnoughCreditsTitle:C["default"].publishTileServiceDlg.notEnoughCreditsTitle,itemProperties:C["default"].itemProperties});this._webMercatorValues={3857:1,102113:1,102100:1,
900913:1}};F.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.init=!0,this.saveItem=new u["default"]({},this.saveItemForm))};F.prototype.startup=function(){this.inherited(arguments);r["default"].defaults.io.proxyUrl=y["default"].proxyServer;y["default"].proxyUrl&&(r["default"].defaults.io.proxyUrl=y["default"].proxyUrl)};F.prototype.destroy=function(){this._onSaveItemValidateHandle&&(this._onSaveItemValidateHandle.remove(),this._onSaveItemValidateHandle=null);this.exportDialog.destroyRecursive();
this._pendingCanceller=this.exportDialog=null;this.inherited(arguments)};F.prototype.show=function(w,D,G,H){var M=this;this.showDlg(w,D,G);H&&setTimeout(function(){M._message.style.maxWidth=M.saveItem.domNode.clientWidth+"px";M.setWait(!0);H.waitForCredits.then(function(R){M._pendingCanceller=null;if(R.success)return M.set("message",R.message),M.unsetWait();M.displayError(R,M.i18n.notEnoughCreditsTitle)},function(R){M._pendingCanceller=null;M.displayError(R)});M._pendingCanceller=H.canceller},0)};
F.prototype.showShapefile=function(w,D){this.showDlg(w,D,E.ShapeFile)};F.prototype.showCSV=function(w,D){this.showDlg(w,D,E.CSV)};F.prototype.showFileGDB=function(w,D){this.showDlg(w,D,E.FileGDB)};F.prototype.showGeoJson=function(w,D){this.showDlg(w,D,E.GeoJson)};F.prototype.showFeatureCollection=function(w,D){this.showDlg(w,D,E.FeatureCollection)};F.prototype.showDlg=function(w,D,G){this.clear();this.item=w;this.setDialogTitle(G);this.setLayerDetails(D);this.checkForStaleData(w,D);this.initTags();
this.initCategories();this.exportDialog.show();w=this.onCancel.bind(this);this.own(x["default"](this.exportDialog.closeButtonNode,w),c["default"](this.cancelBtn,"click",w),c["default"](this.exportBtn,"click",this.onExport.bind(this)));this.exportDialog.closeButtonNode.tabIndex=0};F.prototype.checkForStaleData=function(w,D){var G,H,M,R;(null===(G=w.layers)||void 0===G?0:G.length)&&"Feature Service"===w.type&&-1<w.typeKeywords.indexOf("Hosted Service")&&(D&&!D.length?R=null===(H=D.editingInfo)||void 0===
H?void 0:H.lastEditDate:w.layers.forEach(function(N){var K;(M=null===(K=N.editingInfo)||void 0===K?void 0:K.lastEditDate)&&(!R||R<M)&&(R=M)}))};F.prototype.initTags=function(){var w=this;this.saveItem.loadTags().then(function(){w.saveItem.set("tags",[])})};F.prototype.initCategories=function(){this.saveItem.loadCategories(this.item.categories)};F.prototype.setDialogTitle=function(w){this.exportType=w;w=this.i18n.itemProperties;var D=this.i18n.exportDialogTitle;E.ShapeFile===this.exportType?D=w.exportToShapefile:
E.CSV===this.exportType?D=w.exportToCSVFile:E.FileGDB===this.exportType?D=w.exportToFileGDB:E.GeoJson===this.exportType?D=w.exportToGeoJson:E.FeatureCollection===this.exportType?D=w.exportToFeatureCollection:E.KML===this.exportType?D=w.exportToKML:E.Excel===this.exportType?D=w.exportToExcel:E.TilePackage===this.exportType?D=w.exportToTilePackage:E.GeoPackage===this.exportType&&(D=w.exportToGeoPackage);this.exportDialog.set("title",D)};F.prototype.setLayerDetails=function(w){var D,G,H,M;this._isTableLayer=
this._isWebMercator=!1;w&&v["default"].isDefined(w.id)?(this.layerId=w.id,this._layers=[w],this.saveItem.set("title",w.name),this._isWebMercator=(null===(G=null===(D=w.extent)||void 0===D?void 0:D.spatialReference)||void 0===G?void 0:G.wkid)in this._webMercatorValues,this._extent=w.extent):w&&w.length&&(this._layers=w,this._isWebMercator=(null===(M=null===(H=w[0].extent)||void 0===H?void 0:H.spatialReference)||void 0===M?void 0:M.wkid)in this._webMercatorValues,this._isTableLayer=w.every(function(R){return"Table"===
R.type}),this._extent=w[0].extent,this.saveItem.set("title",1===w.length?w[0].name:this.item.title));this._isWebMercator&&!this._isTableLayer&&this.exportType===E.FeatureCollection&&(this.featureCollectionDiv.classList.remove("hide"),this.generalizeChk.checked=!0)};F.prototype.clear=function(){this.exportDialog.set("title",this.i18n.exportDialogTitle);this.item=null;this.layerId=-1;this.checkStatusInterval=this.exportResponse=this.exportType=null;this.checkingStatus=!1;this.saveItem.set("title","");
this.saveItem.set("tags",[]);this.saveItem.set("summary","");this.saveItem.set("requires",["title"]);this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!0;this._onSaveItemValidateHandle=k["default"].subscribe("onSaveItemValidate",this.validate.bind(this));this.saveItem.hideRow("folder");g["default"].forEachNode(this.saveItem.domNode.querySelectorAll(".select2-container.select2-container-multi"),function(w){w.style.minWidth="33px"});this.featureCollectionDiv.classList.add("hide");
this.generalizeChk.checked=!1};F.prototype.hide=function(){return this.exportDialog.hide()};F.prototype.validate=function(w){w=this.saveItem.get("title");this.exportBtn.disabled=!w};F.prototype.validates=function(){return!!this.saveItem.get("title")};F.prototype.setWait=function(w){this.exportDialog.domNode.style.cursor="wait";w?this.set("message",this.i18n.estimatingCredits):this.exportingLabel.style.visibility="visible";this.exportBtn.disabled=!0};F.prototype.unsetWait=function(){this.exportDialog.domNode.style.cursor=
"default";this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!1};F.prototype.exportImageryItem=function(){var w=this,D=this.saveItem.get("title");D=m["default"].exportImageryToTilePackage(this.item,D);var G=D.dfd;this._pendingCanceller=D.canceller;G.then(function(H){var M=H.success;H=H.outputValue;w._pendingCanceller=null;M&&H.itemId?(w.exportResponse={exportItemId:H.itemId},w.updateExportedItemDetails({itemId:H.itemId,statusMessage:""})):w.displayError(w.i18n.defaultError)},function(){w._pendingCanceller=
null;w.displayError(w.i18n.defaultError)})};F.prototype.exportItem=function(){var w=this;if(this._moveFailed)this.updateItem(this._moveFailed.itemId,"/").then(function(N){w.unsetWait();w.onDone(N)});else{this.setWait();if("Image Service"===this.item.type&&E.TilePackage===this.exportType)return this.exportImageryItem();var D=this.saveItem.get("title"),G=this.generalizeChk.checked,H={maxAllowableOffset:1,quantizationParameters:{tolerance:1}},M=E.ShapeFile;E.CSV===this.exportType?M=E.CSV:E.FileGDB===
this.exportType?M=E.FileGDB:E.GeoJson===this.exportType?M=E.GeoJson:E.FeatureCollection===this.exportType?M=E.FeatureCollection:E.KML===this.exportType?M="kml":E.Excel===this.exportType?M="excel":E.GeoPackage===this.exportType&&(M="geoPackage");var R=this._layers.map(function(N){return G?p.__assign({id:N.id},H):{id:N.id}});D={itemId:this.item.id,title:D,exportFormat:M,exportParameters:-1<this.layerId?{layers:R}:G?H:null};this.item.isOwner&&this.item.isDataView&&(D.exportParameters=p.__assign(p.__assign({},
D.exportParameters||{}),{enforceFieldVisibility:!0}));E.FileGDB===this.exportType&&(D.exportParameters=p.__assign(p.__assign({},D.exportParameters||{}),{exportContingentValues:!0}));D.exportParameters&&(D.exportParameters=JSON.stringify(D.exportParameters));M=l["default"].getUser();l["default"].request({url:y["default"].restBaseUrl+"content/users/"+M.username+"/export",content:D},{usePost:!0}).then(this.handleExport.bind(this),this.displayError.bind(this))}};F.prototype.handleExport=function(w){!w||
w.code||w.message?this.displayError(w):(this.exportResponse=w,this.checkStatusInterval=setInterval(this.checkStatus.bind(this),this.statusCheckIntervalTime))};F.prototype.checkStatus=function(){var w=this;if(this.exportResponse&&!this.checkingStatus){var D={jobId:this.exportResponse.jobId,jobType:"export"},G=l["default"].getUser();G=y["default"].restBaseUrl+"content/users/"+G.username+"/items/"+this.exportResponse.exportItemId+"/status";this.checkingStatus=!0;l["default"].request({url:G,content:D}).then(function(H){w.handleStatusCheck(H);
w.checkingStatus=!1},function(H){w.displayError(H);w.checkingStatus=!1})}};F.prototype.handleStatusCheck=function(w){"completed"===(null===w||void 0===w?void 0:w.status)?(clearInterval(this.checkStatusInterval),this.updateExportedItemDetails(w)):"failed"===w.status&&(clearInterval(this.checkStatusInterval),this.updateExportedItemDetailsAndFail(w))};F.prototype.updateExportedItemDetailsAndFail=function(w){var D=this;this.getItemDetails(this.exportResponse.exportItemId).then(function(G){var H=[],M=
y["default"].self.hasCategorySchema&&D.saveItem.get("categories")||[];0<M.length&&H.push(f["default"].setItemCategories([G.id],M));H.push(D.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){D.unsetWait();D.displayFailure(w.statusMessage)})})};F.prototype.updateExportedItemDetails=function(w){var D=this;this.getItemDetails(w.itemId).then(function(G){var H=[],M=y["default"].self.hasCategorySchema&&D.saveItem.get("categories")||[];0<M.length&&H.push(f["default"].setItemCategories([G.id],
M));H.push(D.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){D.unsetWait();D.onDone(w)})})};F.prototype.moveItem=function(w,D){var G=this,H=new d["default"],M=l["default"].getUser();M=y["default"].restBaseUrl+"content/users/"+M.username+"/items/"+w+"/move";var R={folder:D||"/"};this._moveFailed=null;D&&"/"!==D&&""!==D?l["default"].request({url:M,content:R},{usePost:!0}).then(function(N){H.resolve(N)},function(N){if(N&&"CONT_0011"===N.messageCode){var K=G.saveItem.get("title");K=b["default"].substitute(G.i18n.duplicateFound,
{type:G.exportType,title:K});t["default"].createSpecifiedDialog(q["default"]).show({title:G.i18n.errorTitle,message:K});G._moveFailed=p.__assign(p.__assign({},N),{itemId:w,folderId:D});G.unsetWait()}}):H.resolve({itemId:w});return H};F.prototype.updateItem=function(w,D){var G=this.saveItem.get("title"),H=this.saveItem.get("tags"),M=this.saveItem.get("summary"),R=this.saveItem.get("folderId"),N=y["default"].restBaseUrl+"content/items/"+this.exportResponse.exportItemId+"/data",K=l["default"].getUser();
K=y["default"].restBaseUrl+"content/users/"+K.username;D&&0<D.length&&(K+="/"+D);K+="/items/"+this.exportResponse.exportItemId+"/update";G={title:G,tags:H,snippet:M};this._moveFailed||(G.folderId=R);E.KML===this.exportType&&(G.url=N);return l["default"].request({url:K,content:G},{usePost:!0}).then(this.moveItem.bind(this,w,R))};F.prototype.getItemDetails=function(w){return l["default"].request({url:y["default"].restBaseUrl+"content/items/"+w})};F.prototype.goToItem=function(w){var D=this;this.hide().then(function(){D.unsetWait();
window.location.href=y["default"].baseUrl+"item.html?id\x3d"+w})};F.prototype.checkTitle=function(){var w=this.saveItem.get("title"),D=this.saveItem.get("folderId"),G=this.typeLookup[this.exportType]||this.exportType,H=l["default"].getUser().username;return l["default"].request({url:y["default"].restBaseUrl+"search",content:{q:'title:"'+w+'" AND type:"'+G+'" AND owner:"'+H+'" AND ownerfolder:"'+(D&&"/"!==D?D:"root")+'"'}})};F.prototype.displayFailure=function(w){var D=this;if(w)try{var G=JSON.parse(w)}catch(R){G=
w}var H=t["default"].createSpecifiedDialog(q["default"]);H.onOkClick=function(){H.hide();D.onCancel()};var M=this.i18n.errorTitle;G.message&&(w=G.message);H.show({title:M,message:w})};F.prototype.displayError=function(w,D){var G=this;D=D||this.i18n.errorTitle;if(w){var H=t["default"].createSpecifiedDialog(q["default"]);H.onOkClick=function(){H.hide();G.onCancel()};H.show({title:D,message:(null===w||void 0===w?0:w.code)&&w.message?w.message:w})}};F.prototype.onExport=function(){var w=this;this.validates()&&
this.checkTitle().then(function(D){0<D.total?(D=w.saveItem.get("title"),D=b["default"].substitute(w.i18n.duplicateFound,{type:w.typeLookup[w.exportType]||w.exportType,title:D}),t["default"].createSpecifiedDialog(q["default"]).show({title:w.i18n.errorTitle,message:D})):w.exportItem()})};F.prototype.onCancel=function(w){var D,G;null===(D=null===w||void 0===w?void 0:w.preventDefault)||void 0===D?void 0:D.call(w);null===(G=this._pendingCanceller)||void 0===G?void 0:G.call(this);this.hide();this.destroy()};
return F=p.__decorate([z["default"](n["default"],h["default"],e["default"],B["default"])],F)}()})},"arcgisonline/pages/serviceUtil":function(){define("require exports tslib dojo/Deferred dojo/json dojo/promise/all dojo/sniff esri/lang esri/layers/FeatureLayer esri/request esri/tasks/Geoprocessor ./pageUtil ./utils/arrays arcgisonline/sharing/dijit/Role ../sharing/util ../esriGeowConfig".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);
f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);return function(){function d(){}d.getDateFields=function(a){return((null===a||void 0===a?void 0:a.fields)||[]).filter(function(b){return"esriFieldTypeDate"===(null===b||void 0===b?void 0:b.type)})};d.fetchServerToken=function(a,b){var c=a.portal,k=b||a.url;return k?h["default"].request({url:h["default"].getSecureUrl(c.portalUrl+
"generateToken"),content:{serverUrl:k}},{usePost:!0}).then(function(r){return r.token}):null};d.fetchItemAdminUrl=function(a,b){var c;return a.portal.isPortal?(null===b||void 0===b?0:b.adminUrl)&&b.url?this.getAdminUrl(a,b):a.url:(null===(c=a.url)||void 0===c?void 0:c.replace("/rest/","/rest/admin/"))||null};d.getAdminUrl=function(a,b){var c=a.url;c=c.replace(c.split("/rest/")[0],b.adminUrl);return a.isSDS||"Knowledge Graph"===a.type?c.replace("/rest/","/rest/admin/"):c.replace("/rest/","/admin/").replace("/FeatureServer",
".MapServer").replace("/MapServer",".MapServer").replace("/VectorTileServer",".VectorTileServer").replace("/SceneServer",".SceneServer").replace("/ImageServer",".ImageServer")};d.fetchServiceLayers=function(a){return h["default"].request({url:a+"/layers"}).then(function(b){return(null===b||void 0===b?void 0:b.layers)||[]})};d.renameServiceLayers=function(a,b){var c=new y["default"],k=b.adminUrl+"/"+a.layerId,r={name:a.layerRename};"Map Service"===b.type?(k+="/edit",r={layerDefinition:JSON.stringify(r)}):
(k+="/updateDefinition",r={updateDefinition:JSON.stringify(r),async:!1});h["default"].request({url:k,content:r},{usePost:!0}).then(function(){return c.resolve()},function(v){return c.reject(v)});return c};d.updateServiceDefinition=function(a){var b=a.layerId,c=a.item;a=a.definition;var k=new y["default"];h["default"].request({url:c.adminUrl+"/"+b+"/updateDefinition",content:{updateDefinition:JSON.stringify(a),async:!1}},{usePost:!0}).then(function(){return k.resolve()},function(r){return k.reject(r)});
return k};d.queryGeocodeCounts=function(a){var b=[],c=a.url,k={where:"1\x3d1",returnCountOnly:!0},r=a.reviewTable,v=c+"/"+(a.layers||[])[0].id+"/query",B=new y["default"];a.canUpdate&&a.isHostedService&&a.hasGeocodeReviewTable?(b.push(h["default"].request({url:v,content:k})),r&&(a=c+"/"+r.id+"/query",b.push(h["default"].request({url:a,content:k}))),m["default"](b).then(function(C){var A=(null===C||void 0===C?void 0:C.length)&&C[0].count||0;B.resolve({successful:A,total:A+(1<(null===C||void 0===C?
void 0:C.length)&&C[1].count||0)})},function(C){B.resolve(null)})):B.resolve(null);return B};d.adjustHostedServerForProtocol=function(a){return"https:"===location.protocol?a.replace("http:","https:").replace(":6080",":6443"):a.replace("https:","http:").replace(":6443",":6080")};d.checkForResources=function(a){var b=a.itemUrl+"/resources/styles/root.json";"Vector Tile Service"!==a.type||g["default"].isDefined(a.hasResources)?(b=new y["default"],b.resolve(!!a.hasResources)):b=h["default"].request({url:b}).then(function(){return!0},
function(){return!1});return b};d.setFeatureServiceScaleRanges=function(a){var b=this,c=new y["default"],k=a.url,r=a.sourceData||{},v=a.featureLayers||[];!a.numViews&&a.isHostedService&&"Feature Service"===a.type&&"Service Definition"!==r.type?m["default"](v.map(function(B){return b.setScaleRange(k+"/"+B.id,a,B.id)})).then(function(){return c.resolve(!0)}):c.resolve(!0);return c};d.setScaleRange=function(a,b,c){var k=new y["default"],r=new l["default"](a);a=b.adminUrl;c=g["default"].isDefined(c)?
"/"+c:"";var v=""+a+c+"/updateDefinition";r.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){r.statisticsPlugin.getSuggestedScaleRange().then(function(B){B={updateDefinition:t["default"].stringify({maxScale:B.maxScale||0,minScale:B.relaxedMinScale||0})};h["default"].request({url:v,content:B},{usePost:!0}).then(function(){return k.resolve(b)},function(){return k.resolve(b)})},function(B){k.resolve(b)})});return k};d.getSuggestedScaleRange=function(a){var b=new y["default"],c=new l["default"](a);
c.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){c.statisticsPlugin.getSuggestedScaleRange({sampleSize:100,forPublishingTiles:!0}).then(function(k){return b.resolve(k)},function(k){b.resolve(null)})},function(k){b.resolve(null)});return b};d.encodeServiceName=function(a,b){if(f["default"]("ie")||f["default"]("trident")||f["default"]("edge")){var c=a.indexOf("admin/services/Hosted/"),k=h["default"].isPortal()&&!b?-1<a.indexOf(".MapServer")?a.indexOf(".MapServer"):-1<a.indexOf(".VectorTileServer")?
a.indexOf(".VectorTileServer"):a.indexOf("/SceneServer"):a.indexOf("/FeatureServer");0<c&&(a=a.substring(0,c+22)+encodeURIComponent(a.substring(c+22,k))+a.substring(k))}return a};d.getImageryToTilePackageParams=function(a,b){var c,k=a.id,r=a.itemUrl||a.portal.portalUrl+"content/items/"+k,v=a.portal.getPortalUser();v=(null===(c=null===v||void 0===v?void 0:v.credential)||void 0===c?void 0:c.token)||(null===v||void 0===v?void 0:v.token);return{inputImageryLayer:JSON.stringify({itemId:k,url:r+"?token\x3d"+
v}),outputTilePackage:b||"tpk"+k,context:"{}"}};d.exportImageryToTilePackage=function(a,b,c){a=d.getImageryToTilePackageParams(a,b);a=p.__assign(p.__assign({},a),{f:"json"});return d.createImageryTask({taskName:"ExportToTilePackage",inputParameters:a,updateDelay:2E4,statusCallback:c,outputParameterName:"outTilePackage"})};d.fetchExportImageryCredits=function(a){a=d.getImageryToTilePackageParams(a);a={inputAnalysisTask:JSON.stringify({name:"ExportToTilePackage",parameters:a}),f:"json",context:"{}"};
return d.createImageryTask({taskName:"EstimateRasterAnalysisCost",inputParameters:a,updateDelay:2E3,outputParameterName:"outCost"})};d.createImageryTask=function(a){var b=a.taskName,c=a.updateDelay,k=a.inputParameters,r=a.outputParameterName,v=a.statusCallback,B=new y["default"],C=new q["default"](e["default"].self.helperServices.rasterAnalytics.url+"/"+b);c&&C.setUpdateDelay(c);var A,E=!1,F=function(w){return!E&&B.reject(w)};C.on("error",F);C.submitJob(k,function(w){if(!E)if("esriJobSucceeded"===
w.jobStatus){if(!r)return B.resolve({success:!0});C.getResultData(w.jobId,r).then(function(D){B.resolve({success:null!=(null===D||void 0===D?void 0:D.value),outputValue:null===D||void 0===D?void 0:D.value})},F)}else B.resolve({success:!1})},function(w){A=w.jobId;null===v||void 0===v?void 0:v(w)},F);return{canceller:function(){A&&(E=!0,C.cancelJobStatusUpdates(A),C.cancelJob(A,null,null))},dfd:B}};d.fetchBuildingSceneSubLayer=function(a,b,c){return new Promise(function(k){h["default"].request({url:a+
"/layers/"+b+"/sublayers/"+c}).then(function(r){k({layerId:b,subLayer:r})},function(){k({layerId:b,subLayer:{}})})})};d.fetchPartialUpdateBuildingScenePublishingCredits=function(a,b,c){var k=this,r=b.serviceInfo||{},v=r.layers||[],B=a.url+"/extractChanges",C={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},A={},E={textured:0,untextured:0},F=(b.portal||{}).portalUrl+"portals/self/usageCost",w={name:r.name,etype:"tilegencnt",
stype:"scene"},D;return new Promise(function(G){var H=[];c.forEach(function(M){var R,N;D=v.find(function(K){return K.id===M.id});(null===(R=D.sublayers)||void 0===R?void 0:R.filter(function(K){return"3DObject"===K.layerType}).map(function(K){return K.id})).forEach(function(K){H.push(k.fetchBuildingSceneSubLayer(b.url,M.id,K))});D.isTextured=!(null===(N=null===D||void 0===D?void 0:D.multiPatchInfo)||void 0===N||!N.hasTexture);A[M.id]=D});Promise.all(H).then(function(M){var R={};M.forEach(function(N){var K=
N.subLayer,V=K.associatedLayerID;K=K.serviceUpdateTimeStamp.lastUpdate;R[V]=N.layerId;C.layers.push(V);C.layerServerGens.push({id:V,serverGen:K})});h["default"].request({url:B,content:p.__assign(p.__assign({},C),{layers:JSON.stringify(C.layers),layerServerGens:JSON.stringify(C.layerServerGens)})},{usePost:!0}).then(function(N){(null===N||void 0===N?0:N.edits)?(Object.keys(N.edits).forEach(function(K){K=N.edits[K];var V=K.objectIds;E[A[R[K.id]].isTextured?"textured":"untextured"]+=V.adds.length+V.updates.length+
V.deletes.length}),m["default"]({textured:0<E.textured?h["default"].request({url:F,content:p.__assign({num:E.textured,task:"textured"},w)}):null,untextured:0<E.untextured?h["default"].request({url:F,content:p.__assign({num:E.untextured,task:"nontextured"},w)}):null}).then(function(K){var V,Z;K=((null===(V=null===K||void 0===K?void 0:K.textured)||void 0===V?void 0:V.credits)||0)+((null===(Z=null===K||void 0===K?void 0:K.untextured)||void 0===Z?void 0:Z.credits)||0);G(K)},function(){G(0)})):G(0)},function(N){G(0)})},
function(){G(0)})})};d.fetchPartialUpdateScenePublishingCredits=function(a,b,c){var k=new y["default"],r=(a.adminServiceInfo||{}).layers||[],v=b.serviceInfo||{},B=v.layers||[];a=a.url+"/extractChanges";var C={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},A={},E={textured:0,untextured:0},F=(b.portal||{}).portalUrl+"portals/self/usageCost",w={name:v.name,etype:"tilegencnt",stype:"scene"},D;c.forEach(function(G){var H;C.layers.push(G.id);
(D=x["default"].find(r,function(R){return R.id===G.id}))||1!==r.length||(D=r[0]);if(D){var M=G.id;M!==D.id&&(M=D.id);D.isTextured=!(null===(H=null===D||void 0===D?void 0:D.multiPatchInfo)||void 0===H||!H.hasTexture);A[M]=D}});B.forEach(function(G){-1<C.layers.indexOf(G.id)&&G.serviceUpdateTimeStamp&&C.layerServerGens.push({id:G.id,serverGen:G.serviceUpdateTimeStamp.lastUpdate})});h["default"].request({url:a,content:p.__assign(p.__assign({},C),{layers:JSON.stringify(C.layers),layerServerGens:JSON.stringify(C.layerServerGens)})},
{usePost:!0}).then(function(G){(null===G||void 0===G?0:G.edits)?(Object.keys(G.edits).forEach(function(H){H=G.edits[H];var M=H.objectIds;E[A[H.id].isTextured?"textured":"untextured"]+=M.adds.length+M.updates.length+M.deletes.length}),m["default"]({textured:0<E.textured?h["default"].request({url:F,content:p.__assign({num:E.textured,task:"textured"},w)}):null,untextured:0<E.untextured?h["default"].request({url:F,content:p.__assign({num:E.untextured,task:"nontextured"},w)}):null}).then(function(H){var M,
R;H=((null===(M=null===H||void 0===H?void 0:H.textured)||void 0===M?void 0:M.credits)||0)+((null===(R=null===H||void 0===H?void 0:H.untextured)||void 0===R?void 0:R.credits)||0);k.resolve(H)},function(){k.resolve(0)})):k.resolve(0)},function(G){k.resolve(0)});return k};d.fetchScenePublishingCredits=function(a,b,c){var k=new y["default"],r=a.adminServiceInfo||{},v=r.layers||[],B=a.url+"/query",C={},A={},E={textured:0,untextured:0},F=(a.portal||{}).portalUrl+"portals/self/usageCost",w={name:r.name,
etype:"tilegencnt",stype:"scene"},D;b.length&&c?v.forEach(function(G){var H;G.isTextured=!(null===(H=null===G||void 0===G?void 0:G.multiPatchInfo)||void 0===H||!H.hasTexture);A[G.id]=G;C[G.id]="1\x3d1"}):b.forEach(function(G){var H;(D=x["default"].find(v,function(R){return R.id===G.id}))||1!==v.length||(D=v[0]);if(D){var M=G.id;M!==D.id&&(M=D.id);D.isTextured=!(null===(H=null===D||void 0===D?void 0:D.multiPatchInfo)||void 0===H||!H.hasTexture);A[M]=D;C[M]="1\x3d1"}});h["default"].request({url:B,content:p.__assign(p.__assign({},
{}),{layerDefs:JSON.stringify(C),returnCountOnly:!0})}).then(function(G){(null===G||void 0===G?0:G.layers)?(G.layers.forEach(function(H){E[A[H.id].isTextured?"textured":"untextured"]+=H.count}),m["default"]({textured:0<E.textured?h["default"].request({url:F,content:p.__assign({num:E.textured,task:"textured"},w)}):null,untextured:0<E.untextured?h["default"].request({url:F,content:p.__assign({num:E.untextured,task:"nontextured"},w)}):null}).then(function(H){var M,R;H=((null===(M=null===H||void 0===
H?void 0:H.textured)||void 0===M?void 0:M.credits)||0)+((null===(R=null===H||void 0===H?void 0:H.untextured)||void 0===R?void 0:R.credits)||0);k.resolve(H)},function(){k.resolve(0)})):k.resolve(0)},function(){k.resolve(0)});return k};d.getServerLicenseInfo=function(a){a+="/admin/system/licenses";return h["default"].request({url:a},{useProxy:e["default"].isDebug||h["default"].shouldUseProxy(a)})};d.findManagedDataStoreItems=function(a){a+="/admin/data/findItems";return h["default"].request({url:a,
content:{managed:!0}},{useProxy:e["default"].isDebug||h["default"].shouldUseProxy(a)})};d.findRasterStoreItems=function(a){a+="/admin/data/findItems";return h["default"].request({url:a,content:{types:"rasterStore",decrypt:!0}},{useProxy:e["default"].isDebug||h["default"].shouldUseProxy(a)})};d.isBackedBySDS=function(a){var b,c=new y["default"],k=(null===(b=null===e["default"]||void 0===e["default"]?void 0:e["default"].self)||void 0===b?void 0:b.user)||{};b=new n["default"]({portalUser:k});var r=!1,
v;k&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!z["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(B){v=((null===B||void 0===B?void 0:B.items)||B||[]).filter(function(C){var A;return"arcgis data store"===(null===(A=null===C||void 0===C?void 0:C.provider)||void 0===A?void 0:A.toLowerCase())});r=!(null===v||void 0===v||!v.length);c.resolve(r)},function(){c.resolve(r)}):c.resolve(r);return c};d.isImageManagementTask=function(a){if(!a||-1===a.indexOf("RasterAnalysisTools")||
-1===a.indexOf("GPServer/"))return!1;a=a.slice(a.indexOf("GPServer/")+9);-1<a.indexOf("/")&&(a=a.slice(0,a.indexOf("/")));var b="buildfootprints buildoverview calculatestatistics definenodata computecolorcorrection computeseamlines".split(" ");return a&&-1<b.indexOf(a.toLowerCase())};d.getBackingDataStoreInfo=function(a){var b,c=new y["default"],k=(null===(b=null===e["default"]||void 0===e["default"]?void 0:e["default"].self)||void 0===b?void 0:b.user)||{};b=new n["default"]({portalUser:k});var r=
!0,v=!1,B=!1,C=!1,A,E,F;k&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!z["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(w){w=(null===w||void 0===w?void 0:w.items)||w||[];A=w.filter(function(D){var G;return"arcgis data store"===(null===(G=null===D||void 0===D?void 0:D.provider)||void 0===G?void 0:G.toLowerCase())});E=w.filter(function(D){var G,H,M;return"arcgis data store"===(null===(G=null===D||void 0===D?void 0:D.provider)||void 0===G?void 0:G.toLowerCase())&&
"spatiotemporal"===(null===(M=null===(H=D.info)||void 0===H?void 0:H.dsFeature)||void 0===M?void 0:M.toLowerCase())});F=w.filter(function(D){var G,H,M,R;return"arcgis data store"===(null===(G=null===D||void 0===D?void 0:D.provider)||void 0===G?void 0:G.toLowerCase())&&"nosql"===(null===(H=D.type)||void 0===H?void 0:H.toLowerCase())&&"graphstore"===(null===(R=null===(M=D.info)||void 0===M?void 0:M.dsFeature)||void 0===R?void 0:R.toLowerCase())});r=0===w.length;v=!(null===A||void 0===A||!A.length);
B=!(null===E||void 0===E||!E.length);C=!(null===F||void 0===F||!F.length);c.resolve({isSDS:v,isSTDS:B,isGraph:C,none:r})},function(){c.resolve({isSDS:v,isSTDS:B,isGraph:C,none:r})}):c.resolve({isSDS:v,isSTDS:B,isGraph:C,none:r});return c};d.cacheMaxAgeCheck=function(a,b){var c;if(!a.ignoreCache&&a.layers&&"Feature Service"===a.type&&a.isHostedService&&0<(null===(c=null===b||void 0===b?void 0:b.adminServiceInfo)||void 0===c?void 0:c.cacheMaxAge)&&(a.ignoreCache=function(){var r=this;this.ignoreCacheFlagTimestamp=
(new Date).getTime();var v=function(B){B.content=B.content||{};B.content._ts=r.ignoreCacheFlagTimestamp;return B};this.ignoreCacheFlag||(u["default"].setRequestPreCallback(v),this.ignoreCacheFlag=!0)},a.layers)){var k=0;a.layers.forEach(function(r){var v;(null===(v=r.editingInfo)||void 0===v?0:v.lastEditDate)&&k<r.editingInfo.lastEditDate&&(k=r.editingInfo.lastEditDate)});0<k&&((new Date).getTime()-k)/1E3<b.adminServiceInfo.cacheMaxAge&&a.ignoreCache()}};d.isServiceProxy=function(a){var b=(a||"").toLowerCase();
a=-1<b.indexOf("/servers/")&&-1<b.indexOf("/rest/services/");var c=e["default"].self.isPortal&&-1<b.indexOf(e["default"].self.portalHostname);b=!e["default"].self.isPortal&&-1<b.indexOf(".arcgis.com");return a&&(c||b)};d.ASYNC_POLL_INTERVALS=[2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,15E3,15E3,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,12E4];return d}()})},"arcgisonline/sharing/dijit/SaveItem":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/CategoryPicker ../../pages/utils/arrays ../../pages/utils/dom ../../pages/utils/storage ../util ../geow/Folder ../../tsutils/declareDecorator arcgis-components/wrappers/Tags dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/on dojo/topic dojo/data/ItemFileWriteStore dojo/i18n!../../nls/arcgisonline dojo/text!./templates/SaveItem.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);return function(){function v(B,C){this.declaredClass=
"arcgisonline.sharing.dijit.SaveItem";this.widgetsInTemplate=!0;this.templateString=r["default"];this.baseClass="esriAGOSaveItemForm";this.init=!1;this.folders={}}v.prototype.postMixInProperties=function(){this.i18n=p.__assign(p.__assign(p.__assign({},k["default"].common),k["default"].saveItem),{addTags:k["default"].itemCompleteness.addTags})};v.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.saveItemTags=new x.TagsWrapper(this.saveItemTagsContainer,{activeTags:[],knownTags:[],
maxWidth:"100%",minWidth:"100%"}),this.getFolders(),this.init=!0)};v.prototype.startup=function(){this.inherited(arguments);this.initHandlers()};v.prototype.hideRow=function(B){g["default"].hideNodes(this.domNode.querySelectorAll(".save-item-"+B+"-row"))};v.prototype.loadTags=function(B){var C=u["default"].getUser();B&&(C=B);return u["default"].loadUserTags(C.username)};v.prototype.loadCategories=function(B){var C=this,A=new d["default"],E=this.domNode.querySelectorAll(".categories-container");y["default"].self.hasCategorySchema?
u["default"].request({url:y["default"].restBaseUrl+"portals/self/categorySchema"}).then(function(F){C.categories=new m["default"]({categories:B||[],schema:F.categorySchema},C.saveItemCategories);C.categories.startup();g["default"].showNodes(E);A.resolve()},function(){g["default"].hideNodes(E);A.resolve()}):(g["default"].hideNodes(E),A.resolve());return A};v.prototype.initHandlers=function(){var B=this.validate.bind(this);this.own(a["default"](this.saveItemFolder,"change",this.onFolderChange.bind(this)),
a["default"](this.saveItemTitle,"change",B),a["default"](this.saveItemSummary,"change",B),t["default"].registerKeystrokeHandler(this.saveItemTitle,B),t["default"].registerKeystrokeHandler(this.saveItemSummary,B))};v.prototype.validate=function(){var B,C;if(!this.beingDestroyed){var A=!0,E=this.saveItemTitle.get("value"),F=(null===(C=null===(B=this.saveItemTags)||void 0===B?void 0:B.getTags())||void 0===C?void 0:C.join(","))||"";B=this.saveItemSummary.get("value");null===this.requires?A=!!(E&&F&&B):
(f["default"].includes(this.requires,"title")&&(A=A&&!!E),f["default"].includes(this.requires,"tags")&&(A=A&&0!==F.length),f["default"].includes(this.requires,"summary")&&(A=A&&!!B));b["default"].publish("onSaveItemValidate",[A])}};v.prototype.getFolders=function(){var B=this,C=u["default"].getUser();if(null!==C){var A=new c["default"]({url:null,data:{identifier:"name",items:[]}});A.newItem({name:C.username,id:""});this.saveItemFolder.set("store",A);this.saveItemFolder.set("value",C.username);q["default"].getFolders(function(E){var F=
null,w=l["default"].getCookie("ESRI_Content");w&&w.folderId&&(F=w.folderId);B.foldersJson=E.folders;E.folders.forEach(function(D,G){A.newItem({name:D.title,id:D.id});B.folders["id"+D.id]=D.title.replace(/"/g,'\\"');F===D.id&&(B.saveItemFolder.set("value",D.title),B.folderId=F,B.folderName=D.title)});A.save({})},function(E){})}};v.prototype.onFolderChange=function(B){var C=this;this.saveItemFolder.get("store").fetch({onComplete:function(A){A.forEach(function(E){E.name[0]===B&&(C.folderId=E.id[0],C.folderName=
E.name[0])})}})};v.prototype._setTitleAttr=function(B){this.saveItemTitle.set("value",B)};v.prototype._getTitleAttr=function(){return this.saveItemTitle.get("value")};v.prototype._setTagsAttr=function(B){this.saveItemTags.setTags(B)};v.prototype._getTagsAttr=function(){return this.saveItemTags.getTags()};v.prototype._setCategoriesAttr=function(B){var C=this;B&&B.forEach(function(A){C.categories.addCategory(A)})};v.prototype._getCategoriesAttr=function(){return this.categories.getCategories(!0)};v.prototype._setSummaryAttr=
function(B){this.saveItemSummary.set("value",B)};v.prototype._getSummaryAttr=function(){return this.saveItemSummary.get("value")};v.prototype._setFolderAttr=function(B){var C=this;this.saveItemFolder.get("store").fetch({onComplete:function(A){A.forEach(function(E){E.name[0]===B&&(C.folderId=E.id[0],C.folderName=E.name[0],C.saveItemFolder.set("value",C.folderName))})}})};v.prototype._getFolderAttr=function(){return this.folderName};v.prototype._setFolderIdAttr=function(B){var C=this;this.saveItemFolder.get("store").fetch({onComplete:function(A){A.forEach(function(E){E.id[0]===
B&&(C.folderId=E.id[0],C.folderName=E.name[0],C.saveItemFolder.set("value",E.name[0]))})}})};v.prototype._getFolderIdAttr=function(){return this.folderId};v.prototype._setRequiresAttr=function(B){this.requires=B?B:null};v.prototype._setTitlePlaceHolderAttr=function(B){this.saveItemTitle.set("placeHolder",B)};v.prototype._setTagsPlaceHolderAttr=function(B){this.saveItemTitle.set("placeHolder",B)};v.prototype._setSummaryPlaceHolderAttr=function(B){this.saveItemSummary.set("placeHolder",B)};return v=
p.__decorate([z["default"](h["default"],n["default"],e["default"])],v)}()})},"arcgisonline/sharing/geow/Folder":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/clone ../util dojo/promise/all dojo/topic dojo/when dojo/data/ItemFileReadStore".split(" "),function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(){}
q.createFolder=function(z,x,n){var h=m["default"].getUser();return(h=h&&(h.username||h.email))?this.createFolderByUser(h,z,x,n):null};q.createFolderByUser=function(z,x,n,h){var e=this;m["default"].getUser()&&m["default"].request({url:y["default"].restBaseUrl+"content/users/"+z+"/createFolder",content:x},{usePost:!0}).then(function(d){var a;if(null===(a=e._userFolders)||void 0===a?0:a[z])e._userFolders[z]=null;n(d)},function(d){h(d)})};q.deleteFolder=function(z,x,n){var h=m["default"].getUser();return(h=
h&&(h.username||h.email))?this.deleteFolderByUser(h,z,x,n):null};q.deleteFolderByUser=function(z,x,n,h){var e=this;x=y["default"].restBaseUrl+"content/users/"+z+"/"+x+"/delete";m["default"].getUser()&&m["default"].request({url:x},{usePost:!0}).then(function(d){var a;if(null===(a=e._userFolders)||void 0===a?0:a[z])e._userFolders[z]=null;n(d)},function(d){h(d)})};q.getFolders=function(z,x,n){var h=m["default"].getUser();return(h=h&&(h.username||h.email))?this.getFoldersByUser(h,z,x,n):null};q.getFoldersByUser=
function(z,x,n,h){var e=this,d;if(m["default"].getUser())if(this._isRequestingFolders)setTimeout(this.getFoldersByUser.bind(this,z,x,n,h),75);else{"function"!==typeof n&&(h=n,n=null);this._userFolders||(this._userFolders={});var a=y["default"].restBaseUrl+"content/users/"+z;h={num:h?100:1};a=(null===(d=this._userFolders[z])||void 0===d?void 0:d.folders)&&t["default"](this._userFolders[z].folders)||this._fetchAllItems(a,h).then(function(b){e._userFolders[z]={folders:b};e._isRequestingFolders=!1;return t["default"](b)},
function(b){throw b;});this._isRequestingFolders=!this._userFolders[z]||!this._userFolders[z].folders;l["default"](a,x,n)}};q._fetchAllItems=function(z,x){var n=this,h={};return this._fetchItems(z,x,h).then(function(e){if(1<x.num&&e.total>x.num){var d=Math.ceil(e.total/x.num),a=e.nextStart,b=[];1===(null===e||void 0===e?void 0:e.start)?h=e:h.items=h.items.concat(e.items);for(var c=0;c<d-1;c++)b.push(n._fetchItems(z,p.__assign(p.__assign({},x),{start:a}),h)),a+=e.num;return f["default"](b).then(function(k){(k||
[]).forEach(function(r){h.items=h.items.concat(r.items)});return h})}return e},function(e){throw e;})};q._fetchItems=function(z,x,n){return m["default"].request({url:z,content:x}).then(function(h){return h},function(h){throw h;})};q.foldersToStore=function(z){return new u["default"]({data:{label:"title",items:[{name:"Anonymous User",children:z}]}})};q.updateMoveToMenu=function(z,x,n,h,e){g["default"].publish("updateItemToolbar",[{folders:z,folderId:x,folderName:n,onClickHandler:h,customMenuItem:e}])};
q.updateMoveToMenuByUser=function(z,x,n,h,e){g["default"].publish("updateItemToolbar",[{username:z,folders:x,folderId:n,folderName:h,onClickHandler:e}])};return q}()})},"arcgisonline/sharing/dijit/ComboBox":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/form/ComboBox dojo/text!./templates/ComboBox.html".split(" "),function(T,J,p,y,t,m){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);return function(){function f(g,l){this.autoComplete=!1;this.templateString=
m["default"]}return f=p.__decorate([y["default"](t["default"])],f)}()})},"arcgisonline/sharing/dijit/dialog/ExtentDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/on dojo/topic dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../DefineExtent dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExtentDlg.html".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x){var n=J("arcgisonline.sharing.dijit.dialog.ExtentDlg",[g,l,u],{declaredClass:"arcgisonline.sharing.dijit.dialog.ExtentDlg",
basePath:T.toUrl("arcgisonline/sharing/dijit/dialog"),templateString:x,widgetsInTemplate:!0,postMixInProperties:function(){this.inherited(arguments);this.i18n=p.mixin({},z.common);this.i18n=p.mixin(this.i18n,z.viewer.geocode);this.i18n=p.mixin(this.i18n,z.generalDlg);this.i18n=p.mixin(this.i18n,z.extentDlg)},postCreate:function(){this.inherited(arguments);this._loadConnections()},_loadConnections:function(){this.own(y(this._cancelBtn,"click",p.hitch(this,"_cancelBtnClick")),y(this._okBtn,"click",
p.hitch(this,"_okBtnClick")),t.subscribe("define-extent/update",p.hitch(this,"_publish")))},_cancelBtnClick:function(h){h.preventDefault();this._extentDialog.hide()},_okBtnClick:function(h){h.preventDefault();this.setExtent()},hide:function(){this._defineExtent._destroyMap();this._extentDialog.hide()},show:function(h){this._defineExtent||(this._defineExtent=new q({id:"defineExtent"},this._extentContainer),this._defineExtent.startup());this._defineExtent.set("extent",h);this._extentDialog.show()},
setExtent:function(){var h=this._defineExtent.get("extent");h&&this._publish(h);this.hide()},_publish:function(h){t.publish("extent/update",h)}});n.prototype.statics={getInstance:function(){this._instance||(this._instance=new n);return this._instance}};return n})},"arcgisonline/sharing/dijit/DefineExtent":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/query dojo/on dojo/number dojo/topic esri/dijit/Search esri/map esri/layers/ImageParameters esri/layers/ArcGISTiledMapServiceLayer esri/geometry/Extent esri/geometry/Point esri/geometry/webMercatorUtils esri/SpatialReference esri/symbols/SimpleLineSymbol esri/toolbars/draw esri/graphic esri/dijit/Popup dijit/Dialog dijit/form/Button dijit/form/TextBox dijit/layout/BorderContainer dijit/layout/ContentPane dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../map/core/projectExtent ../../map/utils/clipOnHorizon ../../map/utils/createExtentSearchOptions ../util ../../pages/pageUtil ../../pages/utils/dom ../../pages/utils/number ../../esriGeowConfig ./dialog/GeneralDlg dojo/i18n!../../nls/arcgisonline dojo/text!./templates/DefineExtent.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca,ea,ka,la,ta,za){return J([G,H,M],{declaredClass:"arcgisonline.sharing.dijit.DefineExtent",basePath:T.toUrl("arcgisonline/sharing/dijit"),templateString:za,widgetsInTemplate:!0,numberPattern:"#.#",_setExtentAttr:function(ia){(this.extent=ia)&&2===ia.length&&2===ia[0].length&&2===ia[1].length?(this._initMap(ia),this._extentTop.set("value",ea.format(Math.round(1E3*this.extent[1][1])/1E3)),this._extentLeft.set("value",
ea.format(Math.round(1E3*this.extent[0][0])/1E3)),this._extentRight.set("value",ea.format(Math.round(1E3*this.extent[1][0])/1E3)),this._extentBottom.set("value",ea.format(Math.round(1E3*this.extent[0][1])/1E3))):(this._initMap(null),this._extentTop.set("value",""),this._extentLeft.set("value",""),this._extentRight.set("value",""),this._extentBottom.set("value",""))},_getExtentAttr:function(){var ia=[[],[]],U=this._extentTop.get("value"),ja=this._extentLeft.get("value"),S=this._extentBottom.get("value"),
O=this._extentRight.get("value"),I=z.parse(U),ba=z.parse(ja),W=z.parse(S),aa=z.parse(O);if(this._isValidExtentInput(U,ja,O,S,I,ba,aa,W)){ia[1][1]=I;ia[0][0]=ba;ia[1][0]=aa;ia[0][1]=W;if(this._isValidWGS84Extent(ia))return ia;Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRange+"\x3cbr\x3e"+this.i18n.error.errorValueBigger})}else Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorUseNumeric+"\x3cbr/\x3e"+this.i18n.error.errorRange+
"\x3cbr\x3e"+this.i18n.error.errorValueBigger})},postMixInProperties:function(){this.inherited(arguments);this.i18n=p.mixin({},ta.common);this.i18n=p.mixin(this.i18n,ta.viewer.geocode);this.i18n=p.mixin(this.i18n,ta.generalDlg);this.i18n=p.mixin(this.i18n,ta.extentDlg)},postCreate:function(){this.symbol=new r(r.STYLE_SOLID,new t([255,0,0]),2);this.defaultExtent=new a(-121,21.72,-76,61.28,new k({wkid:4326}));this._loadConnections()},destroy:function(){this.inherited(arguments);this._destroyMap()},
_loadConnections:function(){var ia=p.hitch(this,"_checkRange");this.own(q(this._extentTop,"blur",ia),q(this._extentLeft,"blur",ia),q(this._extentRight,"blur",ia),q(this._extentBottom,"blur",ia),q(this._buttonSetExtent,"click",p.hitch(this,"_toggleMapNavigation")))},_isValidWGS84Extent:function(ia){ia=[ia[0].join(","),ia[1].join(",")].join();ia=y.map(ia.split(","),function(U){return parseFloat(U)});return-90<=ia[3]&&90>=ia[3]&&-180<=ia[2]&&180>=ia[2]&&-180<=ia[0]&&180>=ia[0]&&-90<=ia[1]&&90>=ia[1]&&
ia[2]>ia[0]&&ia[3]>ia[1]},_isValidExtentInput:function(ia,U,ja,S,O,I,ba,W){return!(0===ia.length||0===U.length||0===ja.length||0===S.length||isNaN(O)||isNaN(I)||isNaN(ba)||isNaN(W))},_destroyMap:function(){if(this.map){try{this.map.destroy()}catch(U){}var ia=this.map.infoWindow;ia&&ia.destroy();this.map=null}if(this.geocoder){try{this.geocoder.destroy()}catch(U){}this.geocoder=null}m.byId("extent-map-container")&&g.empty(m.byId("extent-map-container"))},_setProjectedExtent:function(ia){ia=N(ia[0]);
q.once(this.map,"extent-change",p.hitch(this,"_drawBoundingBox",ia));this.map.setExtent(ia,!0)},_drawBoundingBox:function(ia){this._drawBox(ia)},_checkRange:function(ia){if(ia){var U=ia.target.value,ja=z.parse(U);ia=ia.target.id;var S=!1;if("extent-left"===ia){if(0===U.length||isNaN(ja))Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),S=!0;else if(-180>ja||180<ja)Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),
S=!0;S&&(this.extent&&2===this.extent.length&&2==this.extent[0].length&&2===this.extent[1].length?this._extentLeft.set("value",ea.format(Math.round(1E3*this.extent[0][0])/1E3)):this._extentLeft.set("value",""))}else if("extent-right"===ia){if(0===U.length||isNaN(ja))Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),S=!0;else if(-180>ja||180<ja)Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),
S=!0;S&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&2===this.extent[1].length?this._extentRight.set("value",ea.format(Math.round(1E3*this.extent[1][0])/1E3)):this._extentRight.set("value",""))}else if("extent-top"===ia){if(0===U.length||isNaN(ja))Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),S=!0;else if(-90>ja||90<ja)Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),
S=!0;S&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&2===this.extent[1].length?this._extentTop.set("value",ea.format(Math.round(1E3*this.extent[1][1])/1E3)):this._extentTop.set("value",""))}else{if(0===U.length||isNaN(ja))Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),S=!0;else if(-90>ja||90<ja)Z.createSpecifiedDialog(la).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),S=!0;S&&(this.extent&&
2==this.extent.length&&2==this.extent[0].length&&2==this.extent[1].length?this._extentBottom.set("value",ea.format(Math.round(1E3*this.extent[0][1])/1E3)):this._extentBottom.set("value",""))}null!=this.map&&0<this._extentTop.get("value").length&&0<this._extentLeft.get("value").length&&0<this._extentRight.get("value").length&&0<this._extentBottom.get("value").length?(U=[[],[]],U[1][1]=z.parse(this._extentTop.get("value")),U[0][0]=z.parse(this._extentLeft.get("value")),U[1][0]=z.parse(this._extentRight.get("value")),
U[0][1]=z.parse(this._extentBottom.get("value")),this._isValidWGS84Extent(U)?(U=new a(U[0][0],U[0][1],U[1][0],U[1][1],new k({wkid:4326})),R(U,this.map.spatialReference,p.hitch(this,"_setProjectedExtent"),null,this.map)):this._deleteBox()):null!=this.map&&this._deleteBox()}},_initMap:function(ia){var U=this.defaultExtent;null!=ia&&(U=new a(ia[0][0],ia[0][1],ia[1][0],ia[1][1],new k({wkid:4326})));if(this.map){if(null!=ia)q.once(this.map,"extent-change",p.hitch(this,"_drawBoundingBox",U));this.map.setExtent(U,
!0)}else{this.map=new h("extent-map-container",{showAttribution:!1,wrapAround180:!1,center:[-31,10],zoom:1});var ja=new e;ja.format="png24";ja=new d(ka.extentService,{imageParameters:ja});this.map.addLayer(ja);null!=ia&&this.own(this.map.on("load",p.hitch(this,"_onMapLoad",U)));this.own(ja.on("update",p.hitch(this,"_onUpdate")));this.toolbar=new v(this.map,{showTooltips:!1});this.own(this.toolbar.on("draw-complete",p.hitch(this,"_onDrawEnd")));this.mapNavigation=!0;f.set(this._buttonSetExtent,"innerHTML",
this.i18n.drawExtent);this.geocoder||(ia=K(this.map),ia.showInfoWindowOnSelect=!1,this.geocoder=new n(ia,g.create("div",{id:"extentSearch"},this._extentSearchContainer,"only")),this.geocoder.startup(),this.own(this.geocoder.on("select-result",p.hitch(this,"_onSearchResult"))))}},_onMapLoad:function(ia){u(".action.zoomTo").forEach(ca.hideNode);R(ia,this.map.spatialReference,p.hitch(this,"_setProjectedExtent"),null,this.map)},_drawBox:function(ia){this.map.graphics.clear();null!==ia&&this.map.graphics.add(new B(ia,
this.symbol))},_deleteBox:function(){this.map.graphics.clear()},_onUpdate:function(){this.map.reposition()},_toggleMapNavigation:function(){this.mapNavigation?(this.toolbar.activate(v.EXTENT),this.map.showZoomSlider(),this.mapNavigation=!1,f.set(this._buttonSetExtent,"innerHTML",this.i18n.enableMapPanning)):(this.toolbar.deactivate(),this.map.enableMapNavigation(),this.mapNavigation=!0,f.set(this._buttonSetExtent,"innerHTML",this.i18n.drawExtent))},_onSearchResult:function(ia){if(ia.result){ia=ia.result;
var U=ia.feature.geometry,ja=ia.extent;if("polygon"===U.type){var S=U.getExtent().expand(1.1);var O=U.getCentroid()}else"polyline"===U.type?(S=U.getExtent().expand(1.1),O=U.getPoint(0,0)):"multipoint"===U.type?(S=U.getExtent().expand(1.1),O=U.getPoint(0)):(S=ja||arcgisonline.map.main.map.extent.centerAt(U).expand(.0625),O=U);this._deleteBox();this.popup||(this.popup=new C(null,g.create("div",{"class":"blueTheme"},m.byId("extentMapDiv"))),this.popup.resize(150,100),this.popup.map=this.map);this.popup.setContent("\x3cdiv\x3e\x3cspan\x3e"+
ia.name+"\x3c/span\x3e\x3c/div\x3e");q.once(this.map,"extent-change",p.hitch(this,function(){this._drawBox(S);this.popup.show(O);setTimeout(p.hitch(this,function(){this.popup.hide()}),3E3)}));this.map.setExtent(S,!0);ia=S;4326!==S.spatialReference.wkid&&(ia=c.webMercatorToGeographic(S));this._extentTop.set("value",ea.format(Math.round(1E3*ia.ymax)/1E3));this._extentLeft.set("value",ea.format(Math.round(1E3*ia.xmin)/1E3));this._extentRight.set("value",ea.format(Math.round(1E3*ia.xmax)/1E3));this._extentBottom.set("value",
ea.format(Math.round(1E3*ia.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(ia.ymax);this.extent[0][0]=parseFloat(ia.xmin);this.extent[1][0]=parseFloat(ia.xmax);this.extent[0][1]=parseFloat(ia.ymin);x.publish("define-extent/change",ia)}},_onDrawEnd:function(ia){this._deleteBox();if(.01>ia.width){var U=.01;ia=new a(ia.xmin-U,ia.ymin,ia.xmin+U,ia.ymax,new k({wkid:4326}))}.01>ia.height&&(U=.01,ia=new a(ia.xmin,ia.ymin-U,ia.xmax,ia.ymin+U,new k({wkid:4326})));ia=N(ia.geographicGeometry);
q.once(this.map,"extent-change",p.hitch(this,"_drawBoundingBox",ia));this.map.setExtent(ia,!0);U=ia;4326!==ia.spatialReference.wkid&&(U=c.webMercatorToGeographic(ia));this._extentTop.set("value",ea.format(Math.round(1E3*U.ymax)/1E3));this._extentLeft.set("value",ea.format(Math.round(1E3*U.xmin)/1E3));this._extentRight.set("value",ea.format(Math.round(1E3*U.xmax)/1E3));this._extentBottom.set("value",ea.format(Math.round(1E3*U.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(U.ymax);this.extent[0][0]=
parseFloat(U.xmin);this.extent[1][0]=parseFloat(U.xmax);this.extent[0][1]=parseFloat(U.ymin);x.publish("define-extent/change",U)}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca,ea,ka,la,ta,za){function ia(U,ja){U&&ja&&(U._layer=ja,U._sourceLayer=ja)}J=J([c,k,r,t],{declaredClass:"esri.dijit.Search",templateString:b,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(U,ja){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new ka("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:a.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:a.widgets.Search.main.placeholder,highlightSymbol:(new G(T.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:350,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new N).setColor(new ta([181,56,46,.9])).setFont(new K("14px",K.STYLE_NORMAL,K.VARIANT_NORMAL,K.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new A(a.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:3,enableSearchingAll:!0};var S=p.mixin({},this.options,U);this.set(S);this._updateActiveSource();this._i18n=a;this._defaultSR=new F(4326);this.domNode=ja},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(p.hitch(this,this._init))},postCreate:function(){var U=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(g(this.submitNode,v,p.hitch(this,this._searchButton)));this.own(g(this.sourcesBtnNode,v,p.hitch(this,this._toggleSourcesMenu)));this.own(g(this.inputNode,v,p.hitch(this,this._inputClick)));this.own(g(this.clearNode,v,p.hitch(this,this._clearButton)));this.own(g(this.formNode,"submit",p.hitch(this,function(ja){ja.preventDefault();this._cancelSuggest();this.search()})));this.own(g(this.inputNode,"keyup",p.hitch(this,
function(ja){this._inputKey(ja)})));this.own(g(this.sourcesBtnNode,"keyup",p.hitch(this,function(ja){this._sourceBtnKey(ja)})));this.own(g(this.suggestionsNode,"li:click, li:keyup",function(ja){U._suggestionsEvent(ja,this)}));this.own(g(this.sourcesNode,"li:click, li:keyup",function(ja){U._sourcesEvent(ja,this)}));this.own(g(this.inputNode,"input, paste",p.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(g(this.map.infoWindow.domNode,
"#"+this._moreResultsId+"_show:click",p.hitch(this,function(ja){this._showMoreResultsClick(ja)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",p.hitch(this,function(ja){this._moreResultsClick(ja)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",p.hitch(this,function(ja){this._switchCoordinatesClick(ja)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);
this._setPlaceholder(this.activeSourceIndex);this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();e.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();x.get(this.inputNode,"value")&&x.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);n.remove(this.containerNode,
this.css.hasValue);x.set(this.clearNode,"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){h.set(this.domNode,"display","block")},hide:function(){h.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(n.add(this.containerNode,this.css.searchExpanded),n.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(n.remove(this.containerNode,
this.css.searchExpanded),n.add(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(U){this.enableButtonMode&&("undefined"===typeof U&&(U=!this.expanded),U?this.expand():this.collapse())},search:function(U){var ja=new m;this._mapLoaded().then(p.hitch(this,function(){this._searchDeferred(U).then(p.hitch(this,function(S){var O=S.results;this.set("searchResults",O);0===S.numResults&&(this._noResults(S.value),this._showNoResultsMenu());this._hideLoading();
this.emit("search-results",S);this._selectFirstResult(O,S.activeSourceIndex);ja.resolve(O)}),p.hitch(this,function(S){ja.reject(S)}))}));return ja.promise},suggest:function(U){var ja=new m;this._mapLoaded().then(p.hitch(this,function(){this._suggestDeferred(U).then(p.hitch(this,function(S){if(S){var O=S.results;this.set("suggestResults",O);this._insertSuggestions(O,S.value);this.emit("suggest-results",S);ja.resolve(O)}}),p.hitch(this,function(S){ja.reject(S)}))}));return ja.promise},select:function(U){var ja=
this._getDefaultSymbol(U),S=this.labelSymbol,O=this.sources,I=this.activeSourceIndex,ba=this.enableHighlight,W=this.enableLabel,aa=this.autoNavigate,P=this.showInfoWindowOnSelect,L=this.enableInfoWindow,Q=this.infoTemplate,X=U.feature?new w(U.feature.toJson()):null,Y=X?U.feature._sourceLayer:null;ia(X,Y);if(I===this._allIndex){var da=this._getSourceIndexOfResult(U);if(null!==da){var ha=O[da];I=da}}else ha=O[I];ha&&(ha.hasOwnProperty("highlightSymbol")&&(ja=ha.highlightSymbol),ha.hasOwnProperty("labelSymbol")&&
(S=ha.labelSymbol),ha.hasOwnProperty("enableHighlight")&&(ba=ha.enableHighlight),ha.hasOwnProperty("enableLabel")&&(W=ha.enableLabel),ha.hasOwnProperty("autoNavigate")&&(aa=ha.autoNavigate),ha.hasOwnProperty("showInfoWindowOnSelect")&&(P=ha.showInfoWindowOnSelect),ha.hasOwnProperty("enableInfoWindow")&&(L=ha.enableInfoWindow),ha.hasOwnProperty("infoTemplate")?Q=ha.infoTemplate:ha.featureLayer&&ha.featureLayer.infoTemplate&&(Q=ha.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(X){O=
this.highlightGraphic;var ma=this.graphicsLayer;da=this.labelGraphic;var na=p.mixin({},X.attributes,{searchTheme:this.theme,searchResult:this._searchResultHTML(U),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(U)}),sa=null;L&&(sa=Q);da?(da.setGeometry(X.geometry),da.setAttributes(na),da.setSymbol(S),S&&"textsymbol"===S.type&&da.symbol.setText(U.name)):(da=new w(X.geometry,
S,na),ia(da,Y),S&&"textsymbol"===S.type&&da.symbol.setText(U.name),W&&(ma?ma.add(da):this.map&&this.map.graphics&&this.map.graphics.add(da)));O?(O.setGeometry(X.geometry),O.setAttributes(na),O.setInfoTemplate(sa),O.setSymbol(ja)):(O=new w(X.geometry,ja,na,sa),ia(O,Y),ba&&(ma?ma.add(O):this.map&&this.map.graphics&&this.map.graphics.add(O)));O&&O.symbol&&"textsymbol"===O.symbol.type&&O.symbol.setText(U.name);this.map&&this.map.infoWindow&&L&&P&&(this.map.infoWindow.setFeatures([O]),ja=this._getPointFromGeometry(O.geometry),
this.map.infoWindow.show(ja));this.map&&aa&&U&&U.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&this.map.setExtent(U.extent,!0);this.set("highlightGraphic",O);this.set("labelGraphic",da)}this.set("selectedResult",U);this.emit("select-result",{result:U,source:ha,sourceIndex:I})},focus:function(){B.focus(this.inputNode)},blur:function(){this.inputNode.blur();B.curNode&&B.curNode.blur()},clearGraphics:function(){var U=this.highlightGraphic,ja=this.graphicsLayer,S=this.labelGraphic;
U&&(ja?ja.remove(U):this.map&&this.map.graphics&&this.map.graphics.remove(U));S&&(ja?ja.remove(S):this.map&&this.map.graphics&&this.map.graphics.remove(S));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var U=new m;if(this.map)if(this.map.loaded)U.resolve();else g.once(this.map,"load",p.hitch(this,function(){U.resolve()}));else U.resolve();return U.promise},_init:function(){this._getMapLayers().then(p.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},
_clearButton:function(){this.clear();B.focus(this.inputNode)},_error:function(U){return Error(this.declaredClass+" "+U)},_searchDeferred:function(U){var ja=new m,S=this.value,O=this.activeSourceIndex;U&&U.hasOwnProperty("index")&&(O=U.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var I={magicKey:this.magicKey,text:S};U?"string"===typeof U?(I.text=U,U=this._searchQueries(I)):U="object"===typeof U&&U.hasOwnProperty("magicKey")?this._searchQueries(U):"object"===
typeof U&&U.hasOwnProperty("geometry")?this._searchQueries({geometry:U}):"object"===typeof U&&U.hasOwnProperty(this._objectIdIdentifier)?this._searchQueries(U):"object"===typeof U&&"point"===U.type?this._searchQueries({point:U}):U instanceof Array&&2===U.length?this._searchQueries({latlon:U}):this._searchQueries(I):U=this._searchQueries(I);U.always(p.hitch(this,function(ba){ba=this._formatResults(ba,O,S);ja.resolve(ba)}));return ja.promise},_suggestDeferred:function(U){var ja=new m;this._deferreds.push(ja);
U||(U=this.value);var S=this.activeSourceIndex;this._suggestQueries({text:U}).always(p.hitch(this,function(O){var I;if(O)for(var ba=0;ba<O.length;ba++)O[ba]&&(I=!0);I?(O=this._formatResults(O,S,U),ja.resolve(O)):ja.resolve()}));return ja.promise},_getDefaultSymbol:function(U){var ja;this.map&&(ja=this.map.getBasemap());ja||(ja="topo");if(U&&U.feature&&U.feature.geometry)var S=U.feature.geometry.type;"polyline"===S?S="line":"circle"===S||"extent"===S?S="polygon":"multipoint"===S&&(S="point");if(S){if(U=
za.getSchemes({theme:"default",basemap:ja,geometryType:S}))var O=U.primaryScheme;if(O){O.color&&O.hasOwnProperty("opacity")&&(O.color.a=O.opacity);var I=O;U=O.color;O=O.size;switch(S){case "point":var ba=new H;ba.setColor(U);ba.setSize(null!==O?O:I.size);S=new M;S.setColor(I.outline.color);S.setWidth(I.outline.width);ba.setOutline(S);break;case "line":ba=new M;ba.setColor(U);ba.setWidth(null!==O?O:I.width);break;case "polygon":ba=new R,ba.setColor(U),S=new M,S.setColor(I.outline.color),S.setWidth(I.outline.width),
ba.setOutline(S)}I=ba}}return I},_selectFirstResult:function(U,ja){if(this.autoSelect&&U){var S;ja===this._allIndex?S=this._getFirstResult(U):U[ja]&&U[ja][0]&&(S=U[ja][0]);S&&this.select(S)}},_getSourceIndexOfResult:function(U){var ja=this.searchResults;if(ja)for(var S in ja)if(ja[S]&&ja[S].length)for(var O=0;O<ja[S].length;O++)if(ja[S][O]===U)return parseInt(S,10);return null},_getFirstResult:function(U){if(U)for(var ja in U)if(U[ja]&&U[ja][0])return U[ja][0];return!1},_onFocus:function(){this.map&&
"function"===typeof this.map.disableKeyboardNavigation&&this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var U=new m;if(this.addLayersFromMap&&this.map){var ja=[],S=this.map.graphicsLayerIds;if(S&&S.length){for(var O=
0;O<S.length;O++){var I=this.map.getLayer(S[O]);I&&ja.push(this._featureLayerLoaded(I))}D(ja).always(p.hitch(this,function(ba){for(var W,aa=this.sources,P=0;P<ba.length;P++)ba[P]&&ba[P].loaded&&"Feature Layer"===ba[P].type&&(aa.push({featureLayer:ba[P],enableSuggestions:!0}),W=!0);W&&this.set("sources",aa);U.resolve()}))}else U.resolve()}else U.resolve();return U.promise},_switchCoordinatesClick:function(U){U.preventDefault();if(U=x.get(U.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",
U),this.search()},_moreResultsClick:function(U){U.preventDefault();var ja=U.target;U=parseInt(x.get(ja,"data-source-index"),10);ja=parseInt(x.get(ja,"data-index"),10);var S=this.searchResults;S&&S[U]&&(U=S[U][ja])&&this.select(U)},_showMoreResultsClick:function(U){U.preventDefault();if(U=z.byId(this._moreResultsId)){n.toggle(U,this.css.searchShowMoreResults);var ja=z.byId(this._moreResultsId+"_show");ja&&(n.contains(U,this.css.searchShowMoreResults)?x.set(ja,"textContent",a.widgets.Search.main.hideMoreResults):
x.set(ja,"textContent",a.widgets.Search.main.showMoreResults))}},_featureLayerLoaded:function(U){var ja=new m;if(U.loaded)ja.resolve(U);else if(U.loadError)ja.reject(this._error("Layer failed to load."));else{var S=g.once(U,"load",p.hitch(this,function(){O.remove();ja.resolve(U)}));var O=g.once(U,"error",p.hitch(this,function(){S.remove();ja.reject(this._error("Layer could not be loaded."))}))}return ja.promise},_getObjectSize:function(U){var ja=0,S;for(S in U)U.hasOwnProperty(S)&&ja++;return ja},
_sourcesEvent:function(U,ja){var S=x.get(ja,"data-index"),O=l("li",this.sourcesNode),I=y.indexOf(O,ja);S!==this._allIndex&&(S=parseInt(S,10));"click"===U.type||U.keyCode===f.ENTER?(this.set("activeSourceIndex",S),B.focus(this.inputNode),this._hideSourcesMenu()):U.keyCode===f.UP_ARROW?(U.stopPropagation(),U.preventDefault(),S=I-1,0>S?B.focus(this.sourcesBtnNode):B.focus(O[S])):U.keyCode===f.DOWN_ARROW?(U.stopPropagation(),U.preventDefault(),S=I+1,S>=O.length?B.focus(this.sourcesBtnNode):B.focus(O[S])):
U.keyCode===f.ESCAPE&&(this._hideSourcesMenu(),B.focus(this.inputNode))},_suggestionsEvent:function(U,ja){var S=x.get(ja,"data-source-index"),O=parseInt(x.get(ja,"data-index"),10),I=l("li",this.suggestionsNode),ba=this.sources,W=y.indexOf(I,ja);S!==this._allIndex&&(S=parseInt(S,10));var aa;this._clearQueryTimeout();"click"===U.type||U.keyCode===f.ENTER?((I=this.suggestResults)&&I[S]&&I[S][O]&&(aa=I[S][O]),aa&&(aa.index=S,ba[S].featureLayer?(S=ba[S].featureLayer.objectIdField,aa[this._objectIdIdentifier]=
aa.feature.attributes[S],this.set("value",this._getSuggestionName(aa)),this.set("selectedFeatureId",aa.feature.attributes[S])):aa.magicKey&&aa.text&&(this.set("value",aa.text),this.set("magicKey",aa.magicKey)),this.search(aa),B.focus(this.inputNode))):U.keyCode===f.BACKSPACE||U.keyCode===f.DELETE?B.focus(this.inputNode):U.keyCode===f.UP_ARROW?(U.stopPropagation(),U.preventDefault(),aa=W-1,0>aa?B.focus(this.inputNode):B.focus(I[aa])):U.keyCode===f.DOWN_ARROW?(U.stopPropagation(),U.preventDefault(),
aa=W+1,aa>=I.length?B.focus(this.inputNode):B.focus(I[aa])):U.keyCode===f.ESCAPE&&(this._hideMenus(),B.focus(this.inputNode))},_getResultName:function(U){var ja;U.hasOwnProperty("name")&&null!==U.name&&(ja=U.name.toString());ja||(ja=a.widgets.Search.main.untitledResult);return ja},_getSuggestionName:function(U){var ja;U.hasOwnProperty("name")&&null!==U.name&&(ja=U.name.toString());U=U.text||ja;U||(U=a.widgets.Search.main.untitledResult);return U},_searchResultHTML:function(U){var ja="";if(U.feature&&
U.feature.attributes&&U.feature.attributes.Addr_type&&"LatLong"===U.feature.attributes.Addr_type){var S=U.name.split(" ");if(2===S.length){var O=S[0];var I=S[1]}I&&O?(U=parseFloat(O),I=parseFloat(I),S=I+", "+U,ja+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',ja+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.lonlat+"\x3c/div\x3e",ja=ja+(U+", "+I)+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsItem+'"\x3e'),U===I||90<U||-90>U||180<I||-180>I||(ja+=
'\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",ja+='\x3ca data-switch-coordinates\x3d"'+S+'" tabindex\x3d"0" href\x3d"#"\x3e'+S+"\x3c/a\x3e\x3c/div\x3e")):ja=U.name}else ja=U.name;return ja},_moreResultsHTML:function(U){var ja="",S="",O=this.searchResults,I=this.sources,ba=0;if(O){S+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e';S+='\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+a.widgets.Search.main.showMoreResults+
"\x3c/a\x3e";S=S+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsList+'"\x3e');S+='\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e';for(var W in O)if(O[W]){var aa=O[W].length;if(aa){var P=1===aa&&O[W][0]===U;if(1<this._getObjectSize(O)&&!P){var L=this._getSourceName(W);S+='\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+L+"\x3c/div\x3e"}if(aa&&!P){S+="\x3cul\x3e";L=I[W].maxResults||this.maxResults;for(P=0;P<aa&&P<L;++P)if(O[W][P]!==U){var Q=this._getResultName(O[W][P]);
S+='\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+P+'" data-source-index\x3d"'+W+'" href\x3d"#"\x3e'+Q+"\x3c/a\x3e\x3c/li\x3e";ba++}S+="\x3c/ul\x3e"}}}S+="\x3c/div\x3e\x3c/div\x3e"}ba&&(ja+=S);return ja},_validField:function(U,ja){return U.getField(ja)},_validFields:function(U,ja){if(U&&ja&&ja.length){for(var S=0;S<ja.length;S++)if(!this._validField(U,ja[S]))return!1;return!0}return!1},_getCodedName:function(U,ja){if(U&&U.length)for(var S=0,O=U.length;S<O;S++){var I=U[S];if(I.code===ja)return I.name}},
_getCodedValue:function(U,ja,S){if(U&&U.length)for(var O=0,I=U.length;O<I;O++){var ba=U[O],W=ba.name,aa=ja;S||(W=W.toLowerCase(),aa=aa.toLowerCase());if(W===aa)return ba.code}return!1},_whereClause:function(U,ja,S,O,I){var ba=null;if(U){var W="",aa=this.reHostedFS.test(ja.url);aa&&this._containsNonLatinCharacter(U)&&(W="N");if(S&&S.length)for(var P=0,L=S.length;P<L;P++){var Q="";Q=U.replace(/'/g,"''");var X=S[P],Y=ja.getField(X),da=ja.getDomain(X);da&&"codedValue"===da.type&&(Q=this._getCodedValue(da.codedValues,
Q,O));!1!==Q&&(Y=Y.type,"esriFieldTypeString"===Y||"esriFieldTypeDate"===Y?O&&"search"===I?Q=X+" \x3d "+W+"'"+Q+"'":(X=aa?X:"UPPER("+X+")",Q=aa?Q:Q.toUpperCase(),Q=X+" LIKE "+W+"'"+(O?Q+"%":"%"+Q+"%")+"'"):"esriFieldTypeOID"===Y||"esriFieldTypeSmallInteger"===Y||"esriFieldTypeInteger"===Y||"esriFieldTypeSingle"===Y||"esriFieldTypeDouble"===Y?(Q=parseFloat(Q),Q=isNaN(Q)?!1:X+" \x3d "+Q):Q=X+" \x3d "+Q,Q&&(ba=ba?ba+" or ":"",ba+=Q))}}return ba},_suggest:function(U){U||(U={index:this.activeSourceIndex,
text:this.value});var ja=new m,S=U.index,O=this.sources[S],I=this.enableSuggestions;O.hasOwnProperty("enableSuggestions")&&(I=O.enableSuggestions);var ba=0;if(U.hasOwnProperty("text")&&U.text){var W=p.trim(U.text);ba=U.text.length}U=O.minCharacters||this.minCharacters;if(I&&W&&ba>=U&&this._supportsPagination(O)){var aa="";O.prefix&&(aa+=O.prefix);aa+=W;O.suffix&&(aa+=O.suffix);var P=this._defaultSR;this.map&&(P=this.map.spatialReference);I={};O.locator?(O.categories&&(I.categories=O.categories),O.locator.outSpatialReference=
P,this.map&&O.localSearchOptions&&O.localSearchOptions.hasOwnProperty("distance")&&O.localSearchOptions.hasOwnProperty("minScale")&&(ba=this._getScale(),!O.localSearchOptions.minScale||ba&&ba<=parseFloat(O.localSearchOptions.minScale))&&(I.location=this.map.extent.getCenter(),I.distance=O.localSearchOptions.distance),I.text=aa,O.useMapExtent&&this.map&&this.map.extent&&(I.searchExtent=this.map.extent),O.searchExtent&&(I.searchExtent=O.searchExtent),I.maxSuggestions=O.maxSuggestions||this.maxSuggestions,
O.sourceCountry&&(I.countryCode=O.sourceCountry),O.countryCode&&(I.countryCode=O.countryCode),O.locator.suggestLocations(I).then(p.hitch(this,function(L){ja.resolve(L)}),p.hitch(this,function(L){L||(L=this._error("Locator suggestLocations could not be performed."));ja.reject(L)}))):O.featureLayer?this._featureLayerLoaded(O.featureLayer).then(p.hitch(this,function(){var L=this._getDisplayField(O),Q=O.searchFields||[L],X=[];O.suggestionTemplate?O.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(ma,
na){X.push(na)}):X=[L];-1===y.indexOf(X,O.featureLayer.objectIdField)&&X.push(O.featureLayer.objectIdField);L=this._validField(O.featureLayer,L);var Y=this._validFields(O.featureLayer,X),da=this._validFields(O.featureLayer,Q);if(L&&Y&&da){L=new la;O.hasOwnProperty("suggestQueryParams")&&p.mixin(L,O.suggestQueryParams);L.outSpatialReference=P;L.returnGeometry=!1;L.num=O.maxSuggestions||this.maxSuggestions;L.outFields=X;O.useMapExtent&&this.map&&this.map.extent&&(L.geometry=this.map.extent);O.searchExtent&&
(L.geometry=O.searchExtent);if(Q=this._whereClause(aa,O.featureLayer,Q,O.exactMatch,"suggest")){L.where=Q;var ha=!0}ha?O.featureLayer.queryFeatures(L,p.hitch(this,function(ma){var na;(ma=ma.features)&&(na=this._hydrateResults(ma,S,!0));ja.resolve(na)}),p.hitch(this,function(ma){ma||(ma=this._error("FeatureLayer queryFeatures errored with suggestions"));ja.reject(ma)})):ja.resolve()}else ja.reject(this._error("Invalid FeatureLayer field"))})):ja.reject(this._error("Invalid source"))}else ja.resolve();
return ja.promise},_supportsPagination:function(U){var ja;U.locator?ja=!0:U.featureLayer&&U.featureLayer.advancedQueryCapabilities&&U.featureLayer.advancedQueryCapabilities.supportsPagination&&(ja=!0);return ja},_suggestQueries:function(U){var ja=this.sources,S=this.activeSourceIndex,O=[];if(S===this._allIndex)for(S=0;S<ja.length;S++){var I=U;I.index=S;I=this._suggest(I);O.push(I)}else U.index=S,I=this._suggest(U),O.push(I);return D(O)},_getPointFromGeometry:function(U){switch(U.type){case "extent":var ja=
U.getCenter();break;case "multipoint":ja=U.getPoint(0);break;case "point":ja=U;break;case "polygon":ja=U.getCentroid();break;case "polyline":ja=U.getPoint(0,0)}return ja},_searchQueries:function(U){U.hasOwnProperty("index")||(U.index=this.activeSourceIndex);var ja=[];if(U.index===this._allIndex)for(var S=this.sources,O=0;O<S.length;O++){var I=U;I.index=O;I=this._search(I);ja.push(I)}else U=this._search(U),ja.push(U);return D(ja)},_searchButton:function(){this.enableButtonMode&&!this.expanded?(this.expand(),
B.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(U){U||(U={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(U.text=null,U[this._objectIdIdentifier]=this.selectedFeatureId);var ja,S=new m,O=U.index,I=this.sources[O],ba;U.hasOwnProperty("text")&&U.text&&(ba=p.trim(U.text));if(I){var W="";I.prefix&&!U.magicKey&&(W+=I.prefix);W+=ba;I.suffix&&!U.magicKey&&(W+=I.suffix);var aa=this._defaultSR;this.map&&
(aa=this.map.spatialReference);if(I.locator)if(U.hasOwnProperty("text")&&ba){var P={};I.categories&&(P.categories=I.categories);I.locationType&&(P.locationType=I.locationType);aa&&(I.locator.outSpatialReference=aa);if(this.map&&I.localSearchOptions&&I.localSearchOptions.hasOwnProperty("distance")&&I.localSearchOptions.hasOwnProperty("minScale")){var L=this._getScale();if(!I.localSearchOptions.minScale||L&&L<=parseFloat(I.localSearchOptions.minScale))P.location=this.map.extent.getCenter(),P.distance=
I.localSearchOptions.distance}P.address={};P.maxLocations=I.maxResults||this.maxResults;I.useMapExtent&&this.map&&this.map.extent&&(P.searchExtent=this.map.extent);I.searchExtent&&(P.searchExtent=I.searchExtent);I.sourceCountry&&(P.countryCode=I.sourceCountry);I.countryCode&&(P.countryCode=I.countryCode);U.magicKey&&(P.magicKey=U.magicKey);I.singleLineFieldName?P.address[I.singleLineFieldName]=W:P.address["Single Line Input"]=W;I.outFields&&(P.outFields=I.outFields);I.locator.addressToLocations(P).then(p.hitch(this,
function(Q){Q=this._hydrateResults(Q,O,!1);S.resolve(Q)}),p.hitch(this,function(Q){Q||(Q=this._error("Locator addressToLocations could not be performed"));S.reject(Q)}))}else U.geometry?(ja=this._getPointFromGeometry(U.geometry.geometry))?this._reverseGeocodePoint(O,ja).then(function(Q){S.resolve(Q)},function(Q){S.reject(Q)}):S.reject(this._error("Invalid point to reverse geocode")):U.point?this._reverseGeocodePoint(O,U.point).then(function(Q){S.resolve(Q)},function(Q){S.reject(Q)}):U.latlon?(P=new V(U.latlon,
this._defaultSR),this._reverseGeocodePoint(O,P).then(function(Q){S.resolve(Q)},function(Q){S.reject(Q)})):U.hasOwnProperty("text")&&!ba?S.resolve([]):S.reject(this._error("Invalid query type for Locator"));else I.featureLayer?this._featureLayerLoaded(I.featureLayer).then(p.hitch(this,function(){var Q=this._getDisplayField(I),X=I.searchFields||[Q];Q=this._validField(I.featureLayer,Q);var Y=this._validFields(I.featureLayer,X);if(Q&&Y){Q=new la;I.hasOwnProperty("searchQueryParams")&&p.mixin(Q,I.searchQueryParams);
aa&&(Q.outSpatialReference=aa,Y=this.map&&this.map.getMaxResolution()||1/ea.getUnitValueForSR(aa))&&(Q.maxAllowableOffset=Y);Q.returnGeometry=!0;I.outFields&&(Q.outFields=I.outFields);if(!U.hasOwnProperty(this._objectIdIdentifier)){this._supportsPagination(I)&&(Q.num=I.maxResults||this.maxResults);I.useMapExtent&&this.map&&this.map.extent&&(Q.geometry=this.map.extent);I.searchExtent&&(Q.geometry=I.searchExtent);var da=I.exactMatch}U.hasOwnProperty("text")&&ba?(X=this._whereClause(W,I.featureLayer,
X,da,"search"))?(Q.where=X,X=!0):X=!1:U.hasOwnProperty(this._objectIdIdentifier)?(Q.objectIds=[U[this._objectIdIdentifier]],X=!0):U.geometry?(Q.geometry=U.geometry,X=!0):U.point?(Q.geometry=U.point,X=!0):U.latlon?(ja=new V(U.latlon,this._defaultSR),Q.geometry=ja,X=!0):(U.hasOwnProperty("text")&&!ba?S.resolve([]):S.reject(this._error("Invalid query type for FeatureLayer")),X=!1);X?I.featureLayer.queryFeatures(Q,p.hitch(this,function(ha){ha=ha.features;var ma;ha&&(ma=this._hydrateResults(ha,O,!1));
S.resolve(ma)}),p.hitch(this,function(ha){ha||(ha=this._error("FeatureLayer queryFeatures could not be performed"));S.reject(ha)})):S.resolve()}else S.reject(this._error("Invalid FeatureLayer field"))})):S.reject(this._error("Invalid source"))}else S.reject(this._error("Source is undefined"));return S.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(U,ja,S){S={activeSourceIndex:ja,value:S,numResults:0,numErrors:0,errors:null,results:null};
var O={},I={};if(U)if(ja===this._allIndex)for(ja=0;ja<U.length;ja++)U[ja]&&(U[ja]instanceof Error?(O[ja]=U[ja],S.numErrors++):(I[ja]=U[ja],S.numResults+=U[ja].length));else U[0]&&(U[0]instanceof Error?(O[ja]=U[0],S.numErrors++):(I[ja]=U[0],S.numResults+=U[0].length));S.numErrors&&(S.errors=O);S.numResults&&(S.results=I);return S},_reverseGeocodePoint:function(U,ja){var S=new m,O=this.sources[U];if(ja&&O){var I=O.locationToAddressDistance||this.locationToAddressDistance;O.locator.outSpatialReference=
this._defaultSR;this.map&&(O.locator.outSpatialReference=this.map.spatialReference);O.locator.locationToAddress(ja,I,p.hitch(this,function(ba){ba=this._hydrateResults([ba],U,!1);S.resolve(ba)}),p.hitch(this,function(ba){ba||(ba=this._error("Locator locationToAddress could not be performed"));S.reject(ba)}))}else S.reject(this._error("No point or source defined for reverse geocoding"));return S.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var U=0;U<this._deferreds.length;U++)this._deferreds[U].cancel(this.declaredClass+
" cancelling request");this._deferreds=[]},_sourceBtnKey:function(U){if(U){var ja=l("li",this.sourcesNode);U.keyCode===f.UP_ARROW?(U.stopPropagation(),U.preventDefault(),this._showSourcesMenu(),(U=ja.length)&&B.focus(ja[U-1])):U.keyCode===f.DOWN_ARROW&&(U.stopPropagation(),U.preventDefault(),this._showSourcesMenu(),ja[0]&&B.focus(ja[0]))}},_inputKey:function(U){if(U){var ja=l("li",this.suggestionsNode),S=this.suggestResults;if(U.keyCode===f.TAB||U.keyCode===f.ESCAPE)this._cancelSuggest(),this._hideMenus();
else if(U.keyCode===f.UP_ARROW)U.stopPropagation(),U.preventDefault(),this._cancelSuggest(),S&&this._showSuggestionsMenu(),(U=ja.length)&&B.focus(ja[U-1]);else if(U.keyCode===f.DOWN_ARROW)U.stopPropagation(),U.preventDefault(),this._cancelSuggest(),S&&this._showSuggestionsMenu(),ja[0]&&B.focus(ja[0]);else{if(U.ctrlKey||U.metaKey||U.keyCode===f.copyKey||U.keyCode===f.LEFT_ARROW||U.keyCode===f.RIGHT_ARROW||U.keyCode===f.ENTER)return U;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();
this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();this._changeValue();this._queryTimer=setTimeout(p.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(U){return this._sourceNames[U]},_loadSources:function(U){U=
y.filter(U,function(ja){return!!ja.featureLayer});U=y.map(U,function(ja){return this._featureLayerLoaded(ja.featureLayer)},this);return D(U)},_createSourceNameMap:function(U){return this._loadSources(U).then(p.hitch(this,function(){var ja=y.map(U,function(S){return S.name||S.featureLayer&&S.featureLayer.name||a.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(U,ja);return ja}))},_getDuplicateSourceNameIndexes:function(U){var ja={},S=[];y.forEach(U,function(O,I){ja.hasOwnProperty(O)?
(-1===S.indexOf(ja[O])&&S.push(ja[O]),S.push(I)):U.lastIndexOf(O)!==I&&(ja[O]=I)});return S},_preventDuplicateSourceNames:function(U,ja){if(ja&&1<ja.length){var S=this._getDuplicateSourceNameIndexes(ja);y.forEach(S,function(O){ja[O]+=this._getFieldsString(U[O])},this)}},_getFieldsString:function(U){var ja="",S=U.featureLayer;if(S){U=U.searchFields||[this._getDisplayField(U)];for(var O=0;O<U.length;O++){ja=0===O?ja+": ":ja+", ";var I=U[O],ba=S.getFieldLabel(I);ja+=ba||I}}return ja},_splitResult:function(U,
ja){var S=q.escapeString(ja);return U.replace(new RegExp("(^|)("+S+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(U,ja){if(this.enableSuggestionsMenu&&this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var S=this.sources;if(U){var O=e.create("div");for(var I in U)if(U[I]&&U[I].length){var ba=this._getSourceName(I);1<S.length&&this.activeSourceIndex===this._allIndex&&e.create("div",{className:this.css.searchMenuHeader,textContent:ba},O);ba=e.create("ul",{role:"menu"},
O);for(var W=S[I].maxSuggestions||this.maxSuggestions,aa=0;aa<U[I].length&&aa<W;++aa){var P=e.create("li",{"data-index":aa,"data-source-index":I,role:"menuitem",tabindex:0},ba),L=this._getSuggestionName(U[I][aa]);L=this._splitResult(L,ja);for(var Q=L.length,X=0;X<Q;X++){var Y=L[X];Y.toLowerCase()===ja.toLowerCase()?e.create("strong",{textContent:Y},P):(Y=document.createTextNode(Y),e.place(Y,P))}}}}O?(e.place(O,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(e.empty(this.suggestionsNode),
this._hideSuggestionsMenu())}},_insertSources:function(U){if(this.enableSourcesMenu&&U&&1<U.length){var ja,S=this.activeSourceIndex,O=e.create("ul",{role:"menu"});if(this.enableSearchingAll){var I="";S===this._allIndex&&(I="active");e.create("li",{"data-index":this._allIndex,role:"menuitem",className:I,tabIndex:0,textContent:a.widgets.Search.main.all},O)}for(ja=0;ja<U.length;ja++){I="";ja===S&&(I=this.css.activeSource);var ba=this._getSourceName(ja);e.create("li",{"data-index":ja,role:"menuitem",
className:I,tabIndex:0,textContent:ba},O)}n.add(this.containerNode,this.css.hasMultipleSources);e.place(O,this.sourcesNode,"only")}else n.remove(this.containerNode,this.css.hasMultipleSources),e.empty(this.sourcesNode)},_showLoading:function(){n.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){n.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(n.add(this.containerNode,this.css.hasValue),x.set(this.clearNode,"title",a.widgets.Search.main.clearButtonTitle)):
this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(U){var ja;U&&(ja=p.trim(U));var S=e.create("div",{className:this.css.searchNoResultsBody});U&&ja?(e.create("div",{className:this.css.searchNoResultsHeader,textContent:a.widgets.Search.main.noResults},S),e.create("div",{className:this.css.searchNoResultsText,textContent:C.substitute({value:'"'+U+'"'},a.widgets.Search.main.noResultsFound)},S)):(U=e.create("div",
{},S),e.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},U),e.create("span",{className:this.css.searchNoValueText,textContent:a.widgets.Search.main.emptyValue},U));e.place(S,this.noResultsMenuNode,"only")},_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){n.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();n.add(this.containerNode,
this.css.showNoResults)},_hideSourcesMenu:function(){n.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){n.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();n.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();n.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();n.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(U){if(U&&(U=U.fields)&&U.length)for(var ja=0;ja<U.length;ja++){var S=U[ja];if("esriFieldTypeString"===S.type)return S.name}return""},_getDisplayField:function(U){return U.displayField||U.featureLayer.displayField||this._getFirstStringField(U.featureLayer)},_validLocation:function(U){return U&&"number"===typeof U.x&&"number"===typeof U.y},_validExtent:function(U){return U&&"number"===typeof U.xmin&&
"number"===typeof U.ymin&&"number"===typeof U.xmax&&"number"===typeof U.ymax},_hydrateResult:function(U,ja,S){var O={},I=this._defaultSR;ja=this.sources[ja];this.map&&(I=this.map.spatialReference);if(U.hasOwnProperty("text")&&U.hasOwnProperty("magicKey"))return U;if(U.hasOwnProperty("geometry")){var ba=new w(U.toJson());O.feature=ba;(ba=O.feature.geometry)&&ba.setSpatialReference(I)}else if(U.hasOwnProperty("location")&&this._validLocation(U.location)){var W=new V(U.location.x,U.location.y,I);ba=
{};U.hasOwnProperty("attributes")&&(ba=U.attributes);U.hasOwnProperty("address")&&"object"===typeof U.address&&p.mixin(ba,U.address);U.hasOwnProperty("score")&&(ba.score=U.score);O.feature=new w(W,null,ba,null)}!O.feature&&S&&(ba={},U.hasOwnProperty("attributes")&&(ba=U.attributes),U.hasOwnProperty("score")&&(ba.score=U.score),O.feature=new w(null,null,ba,null));if(O.feature){if(U.hasOwnProperty("extent")&&this._validExtent(U.extent))O.extent=new Z(U.extent),O.extent.setSpatialReference(I);else if(O.feature&&
O.feature.geometry)switch(O.feature.geometry.type){case "extent":O.extent=O.feature.geometry;break;case "multipoint":O.extent=ca.getDenormalizedExtent(O.feature.geometry);break;case "polygon":O.extent=ca.getDenormalizedExtent(O.feature.geometry);break;case "polyline":O.extent=ca.getDenormalizedExtent(O.feature.geometry);break;case "point":this.map?(I=this.zoomScale,ja&&ja.zoomScale&&(I=ja.zoomScale),this._getScale()>I?O.extent=ea.getExtentForScale(this.map,I).centerAt(O.feature.geometry):O.extent=
this.map.extent.centerAt(O.feature.geometry)):O.extent=new Z({xmin:O.feature.geometry.x-.25,ymin:O.feature.geometry.y-.25,xmax:O.feature.geometry.x+.25,ymax:O.feature.geometry.y+.25,spatialReference:this._defaultSR})}else O.extent=null;O.name="";ja.featureLayer?ja.suggestionTemplate&&S?O.name=C.substitute(U.attributes,ja.suggestionTemplate):ja.searchTemplate?O.name=C.substitute(U.attributes,ja.searchTemplate):(ba=this._getDisplayField(ja),S=ja.featureLayer.getField(ba),I=ja.featureLayer.getDomain(ba),
ba&&U.hasOwnProperty("attributes")&&U.attributes.hasOwnProperty(ba)&&(U=U.attributes[ba],I&&"codedValue"===I.type?O.name=this._getCodedName(I.codedValues,U):S&&"esriFieldTypeDate"===S.type&&!isNaN(U)?O.name=d.format(new Date(U)):O.name=U)):U.address&&ja.searchTemplate?O.name=C.substitute(U.address,ja.searchTemplate):U.hasOwnProperty("name")?O.name=U.name:U.hasOwnProperty("attributes")&&"object"===typeof U.attributes&&U.attributes.LongLabel?O.name=U.attributes.LongLabel:U.hasOwnProperty("attributes")&&
"object"===typeof U.attributes&&U.attributes.Match_addr?(O.name=U.attributes.Match_addr,U.attributes.Addr_type&&"POI"===U.attributes.Addr_type&&U.attributes.StAddr&&U.attributes.City?O.name+=" - "+U.attributes.StAddr+", "+U.attributes.City:U.attributes.Addr_type&&"POI"===U.attributes.Addr_type&&U.attributes.City&&(O.name+=" - "+U.attributes.City)):U.hasOwnProperty("address")&&"string"===typeof U.address?O.name=U.address:U.hasOwnProperty("address")&&"object"===typeof U.address&&U.address.hasOwnProperty("Address")?
U.address.hasOwnProperty("Match_addr")?O.name=U.address.Match_addr:U.address.hasOwnProperty("Address")&&(O.name=U.address.Address):O.feature&&O.feature.geometry&&(O.name=O.feature.geometry.x+","+O.feature.geometry.y);ja.featureLayer&&O.feature&&ia(O.feature,ja.featureLayer);return O}},_getScale:function(){var U;this.map&&"function"===typeof this.map.getScale&&(U=this.map.getScale());return U},_hydrateResults:function(U,ja,S,O){O=[];var I=0;if(U&&U.length)for(I;I<U.length;I++){var ba=this._hydrateResult(U[I],
ja,S);ba&&O.push(ba)}return O},_containsNonLatinCharacter:function(U){for(var ja=0;ja<U.length;ja++)if(255<U.charCodeAt(ja))return!0;return!1},_setPlaceholder:function(U){var ja="",S=this.sources[U];U===this._allIndex?ja=this.allPlaceholder||a.widgets.Search.main.allPlaceholder:S&&S.placeholder&&(ja=S.placeholder);var O=a.widgets.Search.main.all;S&&(O=this._getSourceName(U));x.set(this.sourceNameNode,"textContent",O);x.set(this.inputNode,"placeholder",ja);x.set(this.inputNode,"title",ja)},_updateActiveSource:function(){var U=
this.sources,ja=this.activeSourceIndex,S;U&&U[ja]&&(S=U[ja]);S?this.set("activeSource",S):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(U){U?(n.toggle(this.containerNode,this.css.searchExpanded,this.expanded),n.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),n.add(this.containerNode,this.css.hasButtonMode)):(n.remove(this.containerNode,this.css.searchExpanded),n.remove(this.containerNode,this.css.searchCollapsed),
n.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(U){U&&1===U.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(U){this._set("enableSourcesMenu",U);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(U){this._set("enableSearchingAll",U);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},
_setSourcesAttr:function(U){this._createSourceNameMap(U).then(p.hitch(this,function(ja){this._sourceNames=ja;this._created&&(this._setDefaultActiveSourceIndex(U),this._hideMenus(),this._insertSources(U))}));this._set("sources",U)},_setAllPlaceholderAttr:function(U){this._set("allPlaceholder",U);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(U){this._set("activeSourceIndex",U);this._updateActiveSource();this._created&&(this._setPlaceholder(U),this._hideMenus(),
this._insertSources(this.sources))},_setMaxLengthAttr:function(U){this._set("maxLength",U);this._created&&x.set(this.inputNode,"maxLength",U)},_setValueAttr:function(U){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",U);this._created&&(x.set(this.inputNode,"value",U),this._checkStatus())},_setVisibleAttr:function(U){this._set("visible",U);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(U){this._set("enableButtonMode",U);this._created&&this._updateButtonMode(U)},
_setThemeAttr:function(U){this._created&&(n.remove(this.domNode,this.theme),n.add(this.domNode,U));this._set("theme",U)}});p.setObject("dijit.Search",J,E);return J})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),function(T,J,p,y,t,m,f,g,l,u,q){T=T(u,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],
"addresses-to-locations-complete":["addresses"],"location-to-address-complete":["address"],"suggest-locations-complete":["suggestions"]},constructor:function(z){this._geocodeHandler=J.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=J.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=J.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},outSpatialReference:null,setOutSpatialReference:function(z){this.outSpatialReference=z},_geocodeHandler:function(z,
x,n,h,e){try{var d=z.candidates;x=[];var a,b=d.length,c=z.spatialReference,k;for(a=0;a<b;a++){var r=d[a];if(k=r.location)k.spatialReference=c;x[a]=new q(r)}this._successHandler([x],"onAddressToLocationsComplete",n,e)}catch(v){this._errorHandler(v,h,e)}},_geocodeAddressesHandler:function(z,x,n,h,e){try{var d=z.locations;x=[];var a,b=d.length,c=z.spatialReference,k;for(a=0;a<b;a++){if(k=d[a].location)k.spatialReference=c;x[a]=new q(d[a])}this._successHandler([x],"onAddressesToLocationsComplete",n,e)}catch(r){this._errorHandler(r,
h,e)}},addressToLocations:function(z,x,n,h,e){var d;if(z.address){h=n;n=x;x=z.outFields;e=z.searchExtent;var a=z.countryCode;var b=z.magicKey;var c=z.distance;var k=z.categories;z.location&&this.normalization&&(d=z.location.normalize());var r=z.locationType;var v=z.maxLocations;var B=z.forStorage;z=z.address}e&&(e=e.shiftCentralMeridian());var C=this.outSpatialReference;z=this._encode(J.mixin({},this._url.query,z,{f:"json",outSR:C&&t.toJson(C.toJson()),outFields:x&&x.join(",")||null,searchExtent:e&&
t.toJson(e.toJson()),category:k&&k.join(",")||null,countryCode:a||null,magicKey:b||null,distance:c||null,location:d||null,locationType:r||null,maxLocations:v||null,forStorage:B||null}));var A=this._geocodeHandler,E=this._errorHandler,F=new y(l._dfdCanceller);F._pendingDfd=g({url:this._url.path+"/findAddressCandidates",content:z,callbackParamName:"callback",load:function(w,D){A(w,D,n,h,F)},error:function(w){E(w,h,F)}});return F},suggestLocations:function(z){var x=new y(l._dfdCanceller);z.hasOwnProperty("location")&&
this.normalization&&(z.location=z.location.normalize());z.searchExtent&&(z.searchExtent=z.searchExtent.shiftCentralMeridian());z=this._encode(J.mixin({},this._url.query,{f:"json",text:z.text,maxSuggestions:z.maxSuggestions,searchExtent:z.searchExtent&&t.toJson(z.searchExtent.toJson()),category:z.categories&&z.categories.join(",")||null,countryCode:z.countryCode||null,location:z.location||null,distance:z.distance||null},{f:"json"}));z=g({url:this._url.path+"/suggest",content:z,callbackParamName:"callback"});
x._pendingDfd=z;z.then(J.hitch(this,function(n){n=n.suggestions||[];this.onSuggestLocationsComplete(n);x.resolve(n)}),J.hitch(this,function(n){this._errorHandler(n);x.reject(n)}));return x},addressesToLocations:function(z,x,n){var h=this.outSpatialReference,e=[],d=z.categories,a=z.locationType,b=z.countryCode;p.forEach(z.addresses,function(v,B){e.push({attributes:v})});z=this._encode(J.mixin({},this._url.query,{category:d&&d.join(",")||null,locationType:a||null,sourceCountry:b||null},{addresses:t.toJson({records:e})},
{f:"json",outSR:h&&t.toJson(h.toJson())}));var c=this._geocodeAddressesHandler,k=this._errorHandler,r=new y(l._dfdCanceller);r._pendingDfd=g({url:this._url.path+"/geocodeAddresses",content:z,callbackParamName:"callback",load:function(v,B){c(v,B,x,n,r)},error:function(v){k(v,n,r)}});return r},_reverseGeocodeHandler:function(z,x,n,h,e){try{var d=new q({address:z.address,location:z.location,score:100});this._successHandler([d],"onLocationToAddressComplete",n,e)}catch(a){this._errorHandler(a,h,e)}},locationToAddress:function(z,
x,n,h){z&&this.normalization&&(z=z.normalize());var e=this.outSpatialReference;z=this._encode(J.mixin({},this._url.query,{outSR:e&&t.toJson(e.toJson()),location:z&&t.toJson(z.toJson()),distance:x,f:"json"}));var d=this._reverseGeocodeHandler,a=this._errorHandler,b=new y(l._dfdCanceller);b._pendingDfd=g({url:this._url.path+"/reverseGeocode",content:z,callbackParamName:"callback",load:function(c,k){d(c,k,n,h,b)},error:function(c){a(c,h,b)}});return b},onSuggestLocationsComplete:function(){},onAddressToLocationsComplete:function(){},
onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});J.setObject("tasks.Locator",T,f);return T})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(T,J,p,y,t){T=T(null,{declaredClass:"esri.tasks.AddressCandidate",constructor:function(m){J.mixin(this,m);this.location=new t(this.location)}});J.setObject("tasks.AddressCandidate",T,y);return T})},"esri/styles/basic":function(){define(["dojo/_base/array",
"dojo/_base/lang","dojo/has","../kernel","../Color"],function(T,J,p,y,t){function m(u,q){if(u){var z={};z.color=new t(u.color);z.opacity=u.opacity||1;switch(q){case "point":z.outline={color:new t(u.outline.color),width:u.outline.width};z.size=u.size;break;case "line":z.width=u.width;break;case "polygon":z.outline={color:new t(u.outline.color),width:u.outline.width}}}return z}function f(u){if("esriGeometryPoint"===u||"esriGeometryMultipoint"===u)u="point";else if("esriGeometryPolyline"===u)u="line";
else if("esriGeometryPolygon"===u||"esriGeometryMultiPatch"===u)u="polygon";return u}var g={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,
77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},
secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},{color:[255,255,255,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,
1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},l={};(function(){var u,q,z;for(u in g){var x=g[u];var n=x.basemapGroups;var h=l[u]={basemaps:[].concat(n.light).concat(n.dark),point:{},line:{},polygon:{}};for(q in n){var e=n[q];for(z=0;z<e.length;z++){var d=e[z];x.pointSchemes&&(h.point[d]=x.pointSchemes[q]);x.lineSchemes&&(h.line[d]=
x.lineSchemes[q]);x.polygonSchemes&&(h.polygon[d]=x.polygonSchemes[q])}}}})();p={getAvailableThemes:function(u){var q=[],z;for(z in g){var x=g[z];var n=l[z];u&&-1===T.indexOf(n.basemaps,u)||q.push({name:x.name,label:x.label,description:x.description,basemaps:n.basemaps.slice(0)})}return q},getSchemes:function(u){var q=u.theme,z=u.basemap,x=f(u.geometryType);u=l[q];var n;(u=(u=u&&u[x])&&u[z])&&(n={primaryScheme:m(u.primary,x),secondarySchemes:T.map(u.secondary,function(h){return m(h,x)})});return n},
cloneScheme:function(u){if(u){var q=J.mixin({},u);q.color&&(q.color=new t(q.color));q.outline&&(q.outline={color:q.outline.color&&new t(q.outline.color),width:q.outline.width})}return q}};J.setObject("styles.basic",p,y);return p})},"esri/toolbars/draw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Color dojo/_base/window dojo/has dojo/sniff dojo/keys dojo/dom-construct dojo/dom-style dojo/dom-geometry ../kernel ../sniff ./_toolbar ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../graphic ../geometry/jsonUtils ../geometry/webMercatorUtils ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/Rect dojo/i18n!../nls/jsapi".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A){var E=T(h,{declaredClass:"esri.toolbars.Draw",_eventMap:{"draw-complete":!0,"draw-end":["geometry"]},constructor:function(F,w){this.markerSymbol=new e(e.STYLE_SOLID,10,new d(d.STYLE_SOLID,new t([255,0,0]),2),new t([0,0,0,.25]));this.lineSymbol=new d(d.STYLE_SOLID,new t([255,0,0]),2);this.fillSymbol=new a(a.STYLE_SOLID,new d(d.STYLE_SOLID,new t([255,0,0]),2),new t([0,0,0,.25]));this._points=[];this._mouse=!f("esri-touch")&&!f("esri-pointer");
this._defaultOptions={showTooltips:!0,drawTime:75,tolerance:8,tooltipOffset:15};this._options=J.mixin(J.mixin({},this._defaultOptions),w||{});if(g("ios")||g("android"))this._options.showTooltips=!1;this._onKeyDownHandler=J.hitch(this,this._onKeyDownHandler);this._onMouseDownHandler=J.hitch(this,this._onMouseDownHandler);this._onMouseUpHandler=J.hitch(this,this._onMouseUpHandler);this._onClickHandler=J.hitch(this,this._onClickHandler);this._onMouseMoveHandler=J.hitch(this,this._onMouseMoveHandler);
this._onMouseDragHandler=J.hitch(this,this._onMouseDragHandler);this._onDblClickHandler=J.hitch(this,this._onDblClickHandler);this._updateTooltip=J.hitch(this,this._updateTooltip);this._hideTooltip=J.hitch(this,this._hideTooltip);this._redrawGraphic=J.hitch(this,this._redrawGraphic)},_geometryType:null,respectDrawingVertexOrder:!1,setRespectDrawingVertexOrder:function(F){this.respectDrawingVertexOrder=F},setMarkerSymbol:function(F){this.markerSymbol=F},setLineSymbol:function(F){this.lineSymbol=F},
setFillSymbol:function(F){this.fillSymbol=F},activate:function(F,w){this._geometryType&&this.deactivate();var D=this.map,G=y.connect,H=E;this._options=J.mixin(J.mixin({},this._options),w||{});D.navigationManager.setImmediateClick(!1);switch(F){case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.TRIANGLE:case H.CIRCLE:case H.ELLIPSE:case H.RECTANGLE:this._deactivateMapTools(!0,!1,!1,!0);this._onClickHandler_connect=G(D,"onClick",this._onClickHandler);this._mouse?
(this._onMouseDownHandler_connect=G(D,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(D,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(D,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(D,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(D,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(D,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=
G(D,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(D,"onSwipeMove",this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(D,"onSwipeEnd",this._onMouseUpHandler));break;case H.POINT:this._onClickHandler_connect=G(D,"onClick",this._onClickHandler);break;case H.LINE:case H.EXTENT:case H.FREEHAND_POLYLINE:case H.FREEHAND_POLYGON:this._deactivateMapTools(!0,!1,!1,!0);this._mouse?(this._onMouseDownHandler_connect=G(D,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=
G(D,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(D,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(D,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(D,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(D,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=G(D,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(D,"onSwipeMove",
this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(D,"onSwipeEnd",this._onMouseUpHandler));break;case H.POLYLINE:case H.POLYGON:case H.MULTI_POINT:D.navigationManager.setImmediateClick(!0);this._onClickHandler_connect=G(D,"onClick",this._onClickHandler);this._onDblClickHandler_connect=G(D,"onDblClick",this._onDblClickHandler);this._dblClickZoom=D.isDoubleClickZoom;D.disableDoubleClickZoom();break;default:return}this._onKeyDown_connect=G(D,"onKeyDown",this._onKeyDownHandler);this._redrawConnect=
G(D,"onExtentChange",this._redrawGraphic);this._geometryType=F;this._toggleTooltip(!0);D.snappingManager&&"freehandpolyline"!==this._geometryType&&"freehandpolygon"!==this._geometryType&&(D.snappingManager._startSelectionLayerQuery(),D.snappingManager._setUpSnapping());this.onActivate(this._geometryType)},deactivate:function(){var F=this.map;this._clear();var w=y.disconnect;w(this._onMouseMoveHandler_connect);w(this._onMouseDownHandler_connect);w(this._onMouseDragHandler_connect);w(this._onMouseUpHandler_connect);
w(this._onMouseDownHandler2_connect);w(this._onMouseDragHandler2_connect);w(this._onMouseUpHandler2_connect);w(this._onClickHandler_connect);w(this._onDblClickHandler_connect);w(this._onKeyDown_connect);w(this._redrawConnect);this._onMouseDownHandler_connect=this._onMouseMoveHandler_connect=this._onMouseDragHandler_connect=this._onMouseUpHandler_connect=this._onMouseDownHandler2_connect=this._onMouseDragHandler2_connect=this._onMouseUpHandler2_connect=this._onClickHandler_connect=this._onDblClickHandler_connect=
this._onKeyDown_connect=this._redrawConnect=null;F.snappingManager&&(F.snappingManager._stopSelectionLayerQuery(),F.snappingManager._killOffSnapping());switch(this._geometryType){case E.CIRCLE:case E.ELLIPSE:case E.TRIANGLE:case E.ARROW:case E.LEFT_ARROW:case E.RIGHT_ARROW:case E.UP_ARROW:case E.DOWN_ARROW:case E.RECTANGLE:case E.LINE:case E.EXTENT:case E.FREEHAND_POLYLINE:case E.FREEHAND_POLYGON:this._activateMapTools(!0,!1,!1,!0);break;case E.POLYLINE:case E.POLYGON:case E.MULTI_POINT:this._dblClickZoom&&
F.enableDoubleClickZoom()}w=this._geometryType;this._geometryType=null;F.navigationManager.setImmediateClick(!1);this._toggleTooltip(!1);this.onDeactivate(w)},_clear:function(){this._graphic&&this.map.graphics.remove(this._graphic,!0);this._graphic=null;this.map.snappingManager&&this.map.snappingManager._setGraphic(null);this._points=[]},finishDrawing:function(){var F=this._points,w=this.map.spatialReference,D=E;F=F.slice(0,F.length);switch(this._geometryType){case D.POLYLINE:if(!this._graphic||2>
F.length)return;var G=new r(w);G.addPath([].concat(F));break;case D.POLYGON:if(!this._graphic||3>F.length)return;G=new v(w);F=[].concat(F,[F[0].offset(0,0)]);v.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse();G.addRing(F);break;case D.MULTI_POINT:G=new B(w),p.forEach(F,function(H){G.addPoint(H)})}y.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(G)},_drawEnd:function(F){if(F){var w=this.map.spatialReference,D;this.onDrawEnd(F);
w&&(w.isWebMercator()?D=k.webMercatorToGeographic(F,!0):4326===w.wkid&&(D=c.fromJson(F.toJson())));this.onDrawComplete({geometry:F,geographicGeometry:D})}},_normalizeRect:function(F,w,D){var G=F.x;F=F.y;var H=w.x;w=w.y;return{x:Math.min(G,H),y:Math.max(F,w),width:Math.abs(G-H),height:Math.abs(F-w),spatialReference:D}},_onMouseDownHandler:function(F){this._dragged=!1;if(this.map.snappingManager)var w=this.map.snappingManager._snappingPoint;var D=w||F.mapPoint,G=E;w=this.map;var H=w.spatialReference;
this._points.push(D.offset(0,0));switch(this._geometryType){case G.LINE:this._graphic=w.graphics.add(new b(new r({paths:[[[D.x,D.y],[D.x,D.y]]],spatialReference:H}),this.lineSymbol),!0);w.snappingManager&&w.snappingManager._setGraphic(this._graphic);break;case G.FREEHAND_POLYLINE:this._oldPoint=F.screenPoint;D=new r(H);D.addPath(this._points);this._graphic=w.graphics.add(new b(D,this.lineSymbol),!0);w.snappingManager&&w.snappingManager._setGraphic(this._graphic);break;case G.CIRCLE:case G.ELLIPSE:case G.TRIANGLE:case G.ARROW:case G.LEFT_ARROW:case G.RIGHT_ARROW:case G.UP_ARROW:case G.DOWN_ARROW:case G.RECTANGLE:case G.FREEHAND_POLYGON:this._oldPoint=
F.screenPoint,D=new v(H),D.addRing(this._points),this._graphic=w.graphics.add(new b(D,this.fillSymbol),!0),w.snappingManager&&w.snappingManager._setGraphic(this._graphic)}f("esri-touch")&&F.preventDefault();if(1===this._points.length)this.onDrawStart()},_onMouseMoveHandler:function(F){if(this.map.snappingManager)var w=this.map.snappingManager._snappingPoint;F=w||F.mapPoint;w=this._graphic.geometry;switch(this._geometryType){case E.POLYLINE:case E.POLYGON:var D=this._points.length,G=!!w.getPoint(0,
D);F=F.offset(0,0);G?w.setPoint(0,D,F):w.insertPoint(0,D,F);this._graphic.setGeometry(w)}},_onMouseDragHandler:function(F){if(this._graphic||this._points.length)if(f("esri-touch")&&!this._points.length)F.preventDefault();else{this._dragged=!0;if(this.map.snappingManager)var w=this.map.snappingManager._snappingPoint;var D=this._points[0],G=w||F.mapPoint,H=this.map,M=H.spatialReference;w=this._graphic;var R=E,N=H.toScreen(D),K=H.toScreen(G),V=[];V=K.x-N.x;K=K.y-N.y;var Z=Math.sqrt(V*V+K*K);switch(this._geometryType){case R.CIRCLE:this._hideTooltip();
w.geometry=v.createCircle({center:N,r:Z,numberOfPoints:60,map:H});w.setGeometry(w.geometry);break;case R.ELLIPSE:this._hideTooltip();w.geometry=v.createEllipse({center:N,longAxis:V,shortAxis:K,numberOfPoints:60,map:H});w.setGeometry(w.geometry);break;case R.TRIANGLE:this._hideTooltip();V=[[0,-Z],[.8660254037844386*Z,.5*Z],[-.8660254037844386*Z,.5*Z],[0,-Z]];w.geometry=this._toPolygon(V,N.x,N.y);w.setGeometry(w.geometry);break;case R.ARROW:this._hideTooltip();D=K/Z;H=V/Z;G=.25*H*Z;M=.25*Z/(K/V);Z*=
.25*D;V=[[V,K],[V-G*(1+24/M),K+24*H-Z],[V-G*(1+12/M),K+12*H-Z],[-12*D,12*H],[12*D,-12*H],[V-G*(1-12/M),K-12*H-Z],[V-G*(1-24/M),K-24*H-Z],[V,K]];w.geometry=this._toPolygon(V,N.x,N.y);w.setGeometry(w.geometry);break;case R.LEFT_ARROW:this._hideTooltip();V=0>=V?[[V,0],[.75*V,K],[.75*V,.5*K],[0,.5*K],[0,-.5*K],[.75*V,-.5*K],[.75*V,-K],[V,0]]:[[0,0],[.25*V,K],[.25*V,.5*K],[V,.5*K],[V,-.5*K],[.25*V,-.5*K],[.25*V,-K],[0,0]];w.geometry=this._toPolygon(V,N.x,N.y);w.setGeometry(w.geometry);break;case R.RIGHT_ARROW:this._hideTooltip();
V=0<=V?[[V,0],[.75*V,K],[.75*V,.5*K],[0,.5*K],[0,-.5*K],[.75*V,-.5*K],[.75*V,-K],[V,0]]:[[0,0],[.25*V,K],[.25*V,.5*K],[V,.5*K],[V,-.5*K],[.25*V,-.5*K],[.25*V,-K],[0,0]];w.geometry=this._toPolygon(V,N.x,N.y);w.setGeometry(w.geometry);break;case R.UP_ARROW:this._hideTooltip();V=0>=K?[[0,K],[-V,.75*K],[-.5*V,.75*K],[-.5*V,0],[.5*V,0],[.5*V,.75*K],[V,.75*K],[0,K]]:[[0,0],[-V,.25*K],[-.5*V,.25*K],[-.5*V,K],[.5*V,K],[.5*V,.25*K],[V,.25*K],[0,0]];w.geometry=this._toPolygon(V,N.x,N.y);w.setGeometry(w.geometry);
break;case R.DOWN_ARROW:this._hideTooltip();V=0<=K?[[0,K],[-V,.75*K],[-.5*V,.75*K],[-.5*V,0],[.5*V,0],[.5*V,.75*K],[V,.75*K],[0,K]]:[[0,0],[-V,.25*K],[-.5*V,.25*K],[-.5*V,K],[.5*V,K],[.5*V,.25*K],[V,.25*K],[0,0]];w.geometry=this._toPolygon(V,N.x,N.y);w.setGeometry(w.geometry);break;case R.RECTANGLE:this._hideTooltip();V=[[0,0],[V,0],[V,K],[0,K],[0,0]];w.geometry=this._toPolygon(V,N.x,N.y);w.setGeometry(w.geometry);break;case R.LINE:w.setGeometry(J.mixin(w.geometry,{paths:[[[D.x,D.y],[G.x,G.y]]]}));
break;case R.EXTENT:w&&H.graphics.remove(w,!0);w=new C(this._normalizeRect(D,G,M));w._originOnly=!0;this._graphic=H.graphics.add(new b(w,this.fillSymbol),!0);H.snappingManager&&H.snappingManager._setGraphic(this._graphic);break;case R.FREEHAND_POLYLINE:this._hideTooltip();if(!1===this._canDrawFreehandPoint(F)){f("esri-touch")&&F.preventDefault();return}this._points.push(F.mapPoint.offset(0,0));w.geometry._insertPoints([G.offset(0,0)],0);w.setGeometry(w.geometry);break;case R.FREEHAND_POLYGON:this._hideTooltip();
if(!1===this._canDrawFreehandPoint(F)){f("esri-touch")&&F.preventDefault();return}this._points.push(F.mapPoint.offset(0,0));w.geometry._insertPoints([G.offset(0,0)],0);w.setGeometry(w.geometry)}f("esri-touch")&&F.preventDefault()}},_canDrawFreehandPoint:function(F){if(!this._oldPoint)return!1;var w=this._oldPoint.x-F.screenPoint.x,D=this._oldPoint.y-F.screenPoint.y,G=this._options.tolerance;if((0>w?-1*w:w)<G&&(0>D?-1*D:D)<G)return!1;w=new Date;if(w-this._startTime<this._options.drawTime)return!1;
this._startTime=w;this._oldPoint=F.screenPoint;return!0},_onMouseUpHandler:function(F){if(this._dragged&&this._graphic){0===this._points.length&&this._points.push(F.mapPoint.offset(0,0));if(this.map.snappingManager)var w=this.map.snappingManager._snappingPoint;var D=this._points[0];w=w||F.mapPoint;var G=this.map.spatialReference,H=E;switch(this._geometryType){case H.CIRCLE:case H.ELLIPSE:case H.TRIANGLE:case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.RECTANGLE:var M=
this._graphic.geometry;break;case H.LINE:M=new r({paths:[[[D.x,D.y],[w.x,w.y]]],spatialReference:G});break;case H.EXTENT:M=(new C(this._normalizeRect(D,w,G))).getExtent();break;case H.FREEHAND_POLYLINE:M=new r(G);M.addPath([].concat(this._points,[w.offset(0,0)]));break;case H.FREEHAND_POLYGON:M=new v(G),D=[].concat(this._points,[w.offset(0,0),this._points[0].offset(0,0)]),v.prototype.isClockwise(D)||this.respectDrawingVertexOrder||D.reverse(),M.addRing(D)}f("esri-touch")&&F.preventDefault();this._clear();
this._drawEnd(M)}else this._clear()},_isPointToPointTool:function(F){switch(F){case E.POLYLINE:case E.POLYGON:case E.MULTI_POINT:return!0;default:return!1}},_onClickHandler:function(F){if(this.map.snappingManager)var w=this.map.snappingManager._snappingPoint;w=w||F.mapPoint;F=this.map;var D=F.toScreen(w),G=E;if(this._isPointToPointTool(this._geometryType)){var H=this._points[this._points.length-1];if(w&&H&&w.x===H.x&&w.y===H.y)return;this._points.push(w.offset(0,0))}switch(this._geometryType){case G.POINT:this.onDrawStart();
this._drawEnd(w.offset(0,0));this._setTooltipMessage(0);break;case G.POLYLINE:1===this._points.length?(w=new r(F.spatialReference),w.addPath(this._points),this._graphic=F.graphics.add(new b(w,this.lineSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=y.connect(F,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,w.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.lineSymbol));
break;case G.POLYGON:1===this._points.length?(w=new v(F.spatialReference),w.addRing(this._points),this._graphic=F.graphics.add(new b(w,this.fillSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=y.connect(F,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,w.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.fillSymbol));break;
case G.MULTI_POINT:w=this._points;1===w.length?(D=new B(F.spatialReference),D.addPoint(w[w.length-1]),this._graphic=F.graphics.add(new b(D,this.markerSymbol),!0),F.snappingManager&&F.snappingManager._setGraphic(this._graphic),this.onDrawStart()):(this._graphic.geometry.addPoint(w[w.length-1]),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.markerSymbol));break;case G.ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],D.x,D.y);break;case G.LEFT_ARROW:this._addShape([[0,
0],[24,24],[24,12],[96,12],[96,-12],[24,-12],[24,-24],[0,0]],D.x,D.y);break;case G.RIGHT_ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],D.x,D.y);break;case G.UP_ARROW:this._addShape([[0,0],[-24,24],[-12,24],[-12,96],[12,96],[12,24],[24,24],[0,0]],D.x,D.y);break;case G.DOWN_ARROW:this._addShape([[0,0],[-24,-24],[-12,-24],[-12,-96],[12,-96],[12,-24],[24,-24],[0,0]],D.x,D.y);break;case G.TRIANGLE:this._addShape([[0,-48],[41.56921938165306,24],[-41.56921938165306,
24],[0,-48]],D.x,D.y);break;case G.RECTANGLE:this._addShape([[0,-96],[96,-96],[96,0],[0,0],[0,-96]],D.x-48,D.y+48);break;case G.CIRCLE:this._clear();this.onDrawStart();this._drawEnd(v.createCircle({center:D,r:48,numberOfPoints:60,map:F}));break;case G.ELLIPSE:this._clear(),this.onDrawStart(),this._drawEnd(v.createEllipse({center:D,longAxis:48,shortAxis:24,numberOfPoints:60,map:F}))}this._setTooltipMessage(this._points.length)},_addShape:function(F,w,D){this._setTooltipMessage(0);this._clear();this.onDrawStart();
this._drawEnd(this._toPolygon(F,w,D))},_toPolygon:function(F,w,D){var G=this.map,H=new v(G.spatialReference);H.addRing(p.map(F,function(M){return G.toMap({x:M[0]+w,y:M[1]+D})}));return H},_onDblClickHandler:function(F){var w=this._points,D=this.map.spatialReference,G=E;f("esri-touch")&&w.push(F.mapPoint);var H=w[w.length-1],M=w[w.length-2];w=H&&M&&H.x===M.x&&H.y===M.y?w.slice(0,w.length-1):w.slice(0,w.length);switch(this._geometryType){case G.POLYLINE:if(!this._graphic||2>w.length){y.disconnect(this._onMouseMoveHandler_connect);
this._clear();this._onClickHandler(F);return}var R=new r(D);R.addPath([].concat(w));break;case G.POLYGON:if(!this._graphic||3>w.length)return;R=new v(D);F=[].concat(w,[w[0].offset(0,0)]);v.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse();R.addRing(F);break;case G.MULTI_POINT:R=new B(D),p.forEach(w,function(N){R.addPoint(N)})}y.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(R)},_onKeyDownHandler:function(F){F.keyCode===l.ESCAPE&&
(y.disconnect(this._onMouseMoveHandler_connect),this._clear(),this._setTooltipMessage(0))},_toggleTooltip:function(F){this._options.showTooltips&&(F?this._tooltip||(this._tooltip=u.create("div",{"class":"esriMapTooltip"},this.map.container),z.isBodyLtr()||q.set(this._tooltip,"direction","rtl"),this._tooltip.style.display="none",this._tooltip.style.position="fixed",this._setTooltipMessage(0),this._onTooltipMouseEnterHandler_connect=y.connect(this.map,"onMouseOver",this._updateTooltip),this._onTooltipMouseLeaveHandler_connect=
y.connect(this.map,"onMouseOut",this._hideTooltip),this._onTooltipMouseMoveHandler_connect=y.connect(this.map,"onMouseMove",this._updateTooltip)):this._tooltip&&(y.disconnect(this._onTooltipMouseEnterHandler_connect),y.disconnect(this._onTooltipMouseLeaveHandler_connect),y.disconnect(this._onTooltipMouseMoveHandler_connect),u.destroy(this._tooltip),this._tooltip=null))},_hideTooltip:function(){var F=this._tooltip;F&&(F.style.display="none")},_setTooltipMessage:function(F){var w=this._tooltip;if(w){var D=
"";switch(this._geometryType){case E.POINT:D=A.toolbars.draw.addPoint;break;case E.ARROW:case E.LEFT_ARROW:case E.RIGHT_ARROW:case E.UP_ARROW:case E.DOWN_ARROW:case E.TRIANGLE:case E.RECTANGLE:case E.CIRCLE:case E.ELLIPSE:D=A.toolbars.draw.addShape;break;case E.LINE:case E.EXTENT:case E.FREEHAND_POLYLINE:case E.FREEHAND_POLYGON:D=A.toolbars.draw.freehand;break;case E.POLYLINE:case E.POLYGON:D=A.toolbars.draw.start;1===F?D=A.toolbars.draw.resume:2<=F&&(D=A.toolbars.draw.complete);break;case E.MULTI_POINT:D=
A.toolbars.draw.addMultipoint,1<=F&&(D=A.toolbars.draw.finish)}w.innerHTML=D}},_updateTooltip:function(F){var w=this._tooltip;if(w){if(F.clientX||F.pageY){var D=F.clientX;F=F.clientY}else D=F.clientX+m.body().scrollLeft-m.body().clientLeft,F=F.clientY+m.body().scrollTop-m.body().clientTop;w.style.display="none";q.set(w,{left:D+this._options.tooltipOffset+"px",top:F+"px"});w.style.display=""}},_redrawGraphic:function(F,w,D,G){(D||this.map.wrapAround180)&&(F=this._graphic)&&F.setGeometry(F.geometry)},
onActivate:function(){},onDeactivate:function(){},onDrawComplete:function(){},onDrawStart:function(){},onDrawEnd:function(){}});J.mixin(E,{POINT:"point",MULTI_POINT:"multipoint",LINE:"line",EXTENT:"extent",POLYLINE:"polyline",POLYGON:"polygon",FREEHAND_POLYLINE:"freehandpolyline",FREEHAND_POLYGON:"freehandpolygon",ARROW:"arrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",TRIANGLE:"triangle",CIRCLE:"circle",ELLIPSE:"ellipse",RECTANGLE:"rectangle"});J.setObject("toolbars.Draw",
E,x);return E})},"esri/toolbars/_toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../Evented"],function(T,J,p,y,t){T=T([t],{declaredClass:"esri.toolbars._Toolbar",constructor:function(m){this.map=m},_cursors:{move:"pointer","move-v":"pointer","move-gv":"pointer",box0:"nw-resize",box1:"n-resize",box2:"ne-resize",box3:"e-resize",box4:"se-resize",box5:"s-resize",box6:"sw-resize",box7:"w-resize",box8:"pointer"},_deactivateMapTools:function(m,f,g,l){var u=this.map;
m&&(this._mapNavState={isDoubleClickZoom:u.isDoubleClickZoom,isClickRecenter:u.isClickRecenter,isPan:u.isPan,isRubberBandZoom:u.isRubberBandZoom,isKeyboardNavigation:u.isKeyboardNavigation,isScrollWheelZoom:u.isScrollWheelZoom},u.disableDoubleClickZoom(),u.disableClickRecenter(),u.disablePan(),u.disableRubberBandZoom(),u.disableKeyboardNavigation());f&&u.hideZoomSlider();g&&u.hidePanArrows();l&&u.graphics.disableMouseEvents()},_activateMapTools:function(m,f,g,l){var u=this.map,q=this._mapNavState;
m&&q&&(q.isDoubleClickZoom&&u.enableDoubleClickZoom(),q.isClickRecenter&&u.enableClickRecenter(),q.isPan&&u.enablePan(),q.isRubberBandZoom&&u.enableRubberBandZoom(),q.isKeyboardNavigation&&u.enableKeyboardNavigation(),q.isScrollWheelZoom&&u.enableScrollWheelZoom());f&&u.showZoomSlider();g&&u.showPanArrows();l&&u.graphics.enableMouseEvents()},_deactivateScrollWheel:function(){var m=this.map;this._scrollWheelState={isScrollWheelZoom:m.isScrollWheelZoom,isScrollWheelPan:m.isScrollWheelPan};m.disableScrollWheelZoom();
m.disableScrollWheelPan()},_activateScrollWheel:function(){var m=this.map,f=this._scrollWheelState;f&&(f.isScrollWheelZoom&&m.enableScrollWheelZoom(),f.isScrollWheelPan&&m.enableScrollWheelPan())}});J.setObject("toolbars._Toolbar",T,y);return T})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e){var d=p("dijit.layout._Splitter",[x,n],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);y.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var b=J(this._cookieName);b&&(this.child.domNode.style[this.horizontal?"height":"width"]=b)}},_computeMaxSize:function(){var b=this.horizontal?"h":"w",c=m.getMarginBox(this.child.domNode)[b],k=T.filter(this.container.getChildren(),function(r){return"center"==r.region})[0];
b=m.getContentBox(k.domNode)[b]-10;return Math.min(this.child.maxSize,c+b)},_startDrag:function(b){this.cover||(this.cover=t.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));y.add(this.cover,"dijitSplitterCoverActive");this.fake&&t.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),y.add(this.domNode,"dijitSplitterShadow"),t.place(this.fake,this.domNode,"after"));y.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&y.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var c=this._factor,k=this.horizontal,r=k?"pageY":"pageX",v=b[r],B=this.domNode.style;k=k?"h":"w";var C=f.getComputedStyle(this.child.domNode),A=m.getMarginBox(this.child.domNode,C)[k],E=this._computeMaxSize(),F=Math.max(this.child.minSize,m.getPadBorderExtents(this.child.domNode,C)[k]+10);k=this.region;var w="top"==k||"bottom"==k?"top":"left",D=parseInt(B[w],10),
G=this._resize,H=l.hitch(this.container,"_layoutChildren",this.child.id);k=this.ownerDocument;this._handlers=this._handlers.concat([u(k,q.move,this._drag=function(M,R){var N=M[r]-v,K=c*N+A,V=Math.max(Math.min(K,E),F);(G||R)&&H(V);B[w]=N+D+c*(V-K)+"px"}),u(k,"dragstart",function(M){M.stopPropagation();M.preventDefault()}),u(this.ownerDocumentBody,"selectstart",function(M){M.stopPropagation();M.preventDefault()}),u(k,q.release,l.hitch(this,"_stopDrag"))]);b.stopPropagation();b.preventDefault()},_onMouse:function(b){b=
"mouseover"==b.type||"mouseenter"==b.type;y.toggle(this.domNode,"dijitSplitterHover",b);y.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",b)},_stopDrag:function(b){try{this.cover&&y.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&t.destroy(this.fake),y.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(b),this._drag(b,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
J(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var b;b=this._handlers.pop();)b.remove()},_onKeyDown:function(b){this._resize=!0;var c=this.horizontal,k=1;switch(b.keyCode){case c?g.UP_ARROW:g.LEFT_ARROW:k*=-1;case c?g.DOWN_ARROW:g.RIGHT_ARROW:break;default:return}c=m.getMarginSize(this.child.domNode)[c?"h":"w"]+this._factor*k;this.container._layoutChildren(this.child.id,Math.max(Math.min(c,this._computeMaxSize()),this.child.minSize));
b.stopPropagation();b.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),a=p("dijit.layout._Gutter",[x,n],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);y.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});p=p("dijit.layout.BorderContainer",h,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:d,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(b){this.inherited(arguments);var c=b.region,k=b.isLeftToRight();"leading"==c&&(c=k?"left":"right");"trailing"==c&&(c=k?"right":"left");c&&"center"!=c&&(b.splitter||this.gutters)&&!b._splitterWidget&&(k=b.splitter?this._splitterClass:a,l.isString(k)&&
(k=l.getObject(k)),k=new k({id:b.id+"_splitter",container:this,child:b,region:c,live:this.liveSplitters}),k.isSplitter=!0,b._splitterWidget=k,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),t.place(k.domNode,b.domNode,c?"before":"after"),k.startup())},layout:function(){this._layoutChildren()},removeChild:function(b){var c=b._splitterWidget;c&&(c.destroy(),delete b._splitterWidget);this.inherited(arguments)},getChildren:function(){return T.filter(this.inherited(arguments),function(b){return!b.isSplitter})},
getSplitter:function(b){return T.filter(this.getChildren(),function(c){return c.region==b})[0]._splitterWidget},resize:function(b,c){if(!this.cs||!this.pe){var k=this.domNode;this.cs=f.getComputedStyle(k);this.pe=m.getPadExtents(k,this.cs);this.pe.r=f.toPixelValue(k,this.cs.paddingRight);this.pe.b=f.toPixelValue(k,this.cs.paddingBottom);f.set(k,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(b,c){if(this._borderBox&&this._borderBox.h){var k=[];T.forEach(this._getOrderedChildren(),
function(r){k.push(r);r._splitterWidget&&k.push(r._splitterWidget)});e.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},k,b,c)}},destroyRecursive:function(){T.forEach(this.getChildren(),function(b){var c=b._splitterWidget;c&&c.destroy();delete b._splitterWidget});this.inherited(arguments)}});p.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};l.mixin(p.ChildWidgetProperties,h.ChildWidgetProperties);l.extend(z,p.ChildWidgetProperties);
p._Splitter=d;p._Gutter=a;return p})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(T,J,p,y,t,m,f,g){J=J("dijit.layout.LayoutContainer",f,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(T.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(l){this.inherited(arguments);
l.region&&p.add(l.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var l=T.map(this.getChildren(),function(u,q){return{pane:u,weight:["center"==u.region?Infinity:0,u.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(u.region)?1:-1),q]}},this);l.sort(function(u,q){for(var z=u.weight,x=q.weight,n=0;n<z.length;n++)if(z[n]!=x[n])return z[n]-x[n];return 0});return T.map(l,function(u){return u.pane})},layout:function(){g.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},
addChild:function(l,u){this.inherited(arguments);this._started&&this.layout()},removeChild:function(l){this.inherited(arguments);this._started&&this.layout();p.remove(l.domNode,this.baseClass+"Pane");y.set(l.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});y.set(l.domNode,/top|bottom/.test(l.region)?"width":"height","auto")}});J.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};t.extend(m,J.ChildWidgetProperties);return J})},"arcgisonline/map/utils/clipOnHorizon":function(){define(["./contains"],
function(T){return function(J){T([102113,102100,3857],J.spatialReference.wkid)&&(J.xmin=Math.max(J.xmin,-20037507),J.xmax=Math.min(J.xmax,20037507),J.ymin=Math.max(J.ymin,-19971868),J.ymax=Math.min(J.ymax,19971868));return J}})},"arcgisonline/map/utils/createExtentSearchOptions":function(){define("dojo/_base/lang dojo/_base/array esri/lang esri/tasks/locator ../../esriGeowConfig ../../sharing/util dojo/i18n!../../nls/arcgisonline".split(" "),function(T,J,p,y,t,m,f){function g(){var l=T.clone(((t&&
t.self||{}).helperServices||{}).geocode||[]),u=!1;p.isDefined(t.geocodeAutoComplete)&&(u=t.geocodeAutoComplete);J.forEach(l,T.hitch(this,function(q){q.enableSuggestions=!0===q.suggest&&u?!0:!1;delete q.suggest;var z=m.isEsriWorldGeocoder(q);if(z||q.enableSuggestions)z&&(q.name=q.name||f.common.esriWorldGeocoder,q.enableSuggestions=u,q.placefinding=q.batch=q.esri=!0,q.outFields=["Match_addr","Addr_type","StAddr","City"]),q.placeholder=q.placeholder||f.viewer.findLocationText,q.singleLineFieldName=
q.singleLineFieldName||"SingleLine",q.highlightSymbol=null,q.localSearchOptions={minScale:3E5,distance:5E4};q.locator=new y(q.url)}));return l=J.filter(l,function(q){return p.isDefined(q.singleLineFieldName)&&p.isDefined(q.placefinding)&&q.placefinding})}return function(l,u){var q=p.isDefined(t.geocodeAutoComplete)?t.geocodeAutoComplete:!1,z=g();q={map:l,enableSuggestions:q,minCharacters:3,maxResults:5,suggestionDelay:100,value:u||null,autoNavigate:!1,activeSourceIndex:"all",sources:[].concat(z)};
1===q.sources.length&&delete q.activeSourceIndex;return q}})},"arcgisonline/sharing/dijit/dialog/ShareOwnershipDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/Select dojox/form/TriStateCheckBox ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys dgrid/OnDemandGrid dgrid/Selection dgrid/editor dojo/store/Memory dojo/store/Observable ./_CreateItemUtilMixin dojo/topic esri/Evented esri/arcgis/Portal ../../geow/Account ../../geow/Content ../../util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca,ea){return T("arcgisonline.sharing.dijit.dialog.ShareOwnershipDlg",[g,l,u,N],{baseClass:"esriSharedOwnershipDlg table-layout",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cp data-dojo-attach-point\x3d"_message"\x3e${i18n.sharingDlg.sharedOwnershipMsg}\x3c/p\x3e\x3cdiv class\x3d"main"\x3e\x3cdiv id\x3d"${id}-groups" data-dojo-attach-point\x3d"_groups" \x3e\x3c/div\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_footerMessage"\x3e${i18n.sharingDlg.settingsMsg}\x3c/p\x3e',
onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},ea)},postCreate:function(){this.inherited(arguments);V.getSelf(f.hitch(this,function(ka){this._loadConnections();this._portal=new K.Portal({url:esriGeowConfig.restBaseUrl,self:ka});this._connect=this._portal.on("load",f.hitch(this,function(){this._connect.remove();this._portalUser=this._portal.getPortalUser();this.set("disabled",!0,this.i18n.sharingDlg.fetchingGroups);return this._loadData().then(f.hitch(this,
function(la){this._createGrid(la);this.set("disabled",!1);R.publish("shareOwnership/load")}),f.hitch(this,function(la){R.publish("shareOwnership/load")}))}))}))},startup:function(){this.inherited(arguments);var ka=new e,la=R.subscribe("shareOwnership/load",function(){la.remove();ka.resolve()});return ka},destroy:function(){y(".dijit",this.contentNode).map(dijit.byNode).forEach(function(ka){ka.destroyRecursive?ka.destroyRecursive():ka.destroy&&ka.destroy();ka=null});this._groups.destroy();this._groupsStore=
this._groups=null;this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._portalUser=this._portal=null},_createGrid:function(ka){ka=[D({field:"visible",autoSave:!0},v),{field:"title"}];this._groups=new (T([F,w]))({selectionMode:"none",store:this._groupsStore,showHeader:!1,showLoadingMessage:!1,columns:ka,sort:[{attribute:"title",descending:!1}]},this._groups);this._groups.startup();this._groups.on(".dgrid-cell.field-visible:click",f.hitch(this,function(la){la=
this._groups.cell(la).element.widget;"mixed"===(la&&la.get("checked")||!1)&&la.set("checked",!0)}))},_loadConnections:function(){this.own(R.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){C.focus(this._focusNode)}),250)})),R.subscribe("/esri/disable",f.hitch(this,function(ka,la){this.set("disabled",ka,la,!0)})))},_loadData:function(){var ka=new e,la=d.map(this.items||[],f.hitch(this,function(ta){return this._getGroupsItemSharedWith(ta)}));this._sharedOwnershipGroups=
this._getSharedOwnershipGroups(this.groups);this._groupsStore=new H(new G({idProperty:"id",data:this._sharedOwnershipGroups}));n(la).then(f.hitch(this,function(ta){ka[this._sharedOwnershipGroups&&this._sharedOwnershipGroups.length?"resolve":"reject"](this._sharedOwnershipGroups)}));return ka},_setValueAttr:function(ka){this.items=ka.items.map(function(la){return f.mixin({},la)});this.groups=ka.groups.map(function(la){return f.mixin({},la)})},_getValueAttr:function(){return{selected:this._groupsStore.query({visible:"on"}).map(function(ka){return ka.id}),
unselected:this._groupsStore.query({visible:!1}).map(function(ka){return ka.id})}},_setFocusAttr:function(ka){ka=y(ka,this.domNode);C.focus(ka&&ka.length?ka[0]:this._title.domNode)},_setDisabledAttr:function(ka,la,ta){this.set("readOnly",ka,la,ta)},_setReadOnlyAttr:function(ka,la,ta){y(".dijit",this.domNode).map(dijit.byNode).forEach(function(za){za.set("disabled",ka)});y("a",this.domNode)[ka?"addClass":"removeClass"]("disabledLink");y("label, p, span",this.domNode)[ka?"addClass":"removeClass"]("disabled");
ta||(ka&&la&&R.publish("/dlg/busyMessage",la),R.publish("/esri/disable",ka,la))},shareWithSelectedGroup:function(){var ka=new e,la=d.map(this.items||[],"return item.id;").join(","),ta=this.items&&this.items.length?this.items[0].owner:null,za={owner:ta,items:la,groups:this.get("value").selected.join(","),confirmItemControl:!0};la={owner:ta,items:la,groups:this.get("value").unselected.join(",")};this.set("disabled",!0,this.i18n.sharingDlg.sharingItems);n([this._shareItems(za),this._unshareItems(la)]).then(f.hitch(this,
function(){this.set("disabled",!1);ka.resolve()}),f.hitch(this,function(ia){this.set("disabled",!1);ka.reject(ia)}));return ka},_shareItems:function(ka){var la=new e;ka.groups&&ka.groups.length?Z.shareItems(ka,f.hitch(this,function(ta){this.set("disabled",!1);la.resolve(ta)}),f.hitch(this,function(ta){la.reject(ta)})):la.resolve([]);return la},_unshareItems:function(ka){var la=new e;ka.groups&&ka.groups.length?Z.unshareItems(ka,f.hitch(this,function(ta){this.set("disabled",!1);la.resolve(ta)}),f.hitch(this,
function(ta){la.reject(ta)})):la.resolve([]);return la},_getGroupsItemSharedWith:function(ka){ka=this._portal.portalUrl+"content/items/"+ka.id+"/groups";var la=this.items&&this.items.length||0,ta,za=new e;ca.request({url:ka}).then(f.hitch(this,function(ia){ia=this._getSharedOwnershipGroups(ia.admin).concat(this._getSharedOwnershipGroups(ia.member)).concat(this._getSharedOwnershipGroups(ia.other));d.forEach(ia||[],f.hitch(this,function(U){if(ta=this._groupsStore.get(U.id))ta.shareCount=ta.shareCount?
ta.shareCount+1:1,ta.visible=ta.shareCount===la?"on":"mixed",this._groupsStore.put(ta)}));za.resolve(ia)}));return za},_getSharedOwnershipGroups:function(ka){var la,ta=this._portalUser&&this._portalUser.username;return d.filter(ka||[],f.hitch(this,function(za){la=za.capabilities&&za.capabilities.join(",")||"";return(za.owner===ta||!za.isViewOnly||za.userMembership&&"admin"===za.userMembership.memberType)&&-1<la.toLowerCase().indexOf("updateitemcontrol")}))},validate:function(){var ka=new e;this._focusNode=
null;var la=this._checkRequired();la=la.then(f.hitch(this,function(ta){ka.resolve(ta)}),f.hitch(this,function(ta){this._showError(ta);ka.reject(ta)}));return ka},_checkRequired:function(){var ka=new e;ka.resolve(!0);return ka},_showError:function(ka){ka=f.mixin(f.mixin({},ea.publishWizard.errors.error),ka);this._errorDlg=new B({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(ka).then(f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,
function(){C.focus(this._focusNode)}),250)}));return!1}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b){function c(r){return function(v){this._isLoaded?
this.inherited(r,arguments):this.loadDropDown(g.hitch(this,r,v))}}var k=J("dijit.form._SelectMenu",x,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"selectstart",function(r){r.preventDefault();r.stopPropagation()}))},focus:function(){var r=!1,v=this.parentWidget.value;g.isArray(v)&&(v=v[v.length-1]);v&&T.forEach(this.parentWidget._getChildren(),function(B){B.option&&
v===B.option.value&&(r=!0,this.focusChild(B,!1))},this);r||this.inherited(arguments)}});t=J("dijit.form.Select"+(u("dojo-bidi")?"_NoBidi":""),[q,z,d],{baseClass:"dijitSelect dijitValidationTextBox",templateString:b,_buttonInputDisabled:u("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var r=this.srcNodeRef.selectedIndex||
0;this._set("value",this.options[0<=r?r:0].value)}this.dropDown=new k({id:this.id+"_menu",parentWidget:this});y.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(r){if(r.value||r.label){var v=g.hitch(this,"_setValueAttr",r);r=new n({option:r,label:("text"===this.labelType?(r.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):r.label)||this.emptyLabel,onClick:v,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:r.disabled||
!1});r.focusNode.setAttribute("role","option");return r}return new h({ownerDocument:this.ownerDocument})},_addOptionItem:function(r){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(r))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(r){}},focusChild:function(r){r&&this.set("value",r.option)},_getFirst:function(){var r=this._getChildren();return r.length?r[0]:null},
_getLast:function(){var r=this._getChildren();return r.length?r[r.length-1]:null},childSelector:function(r){return(r=a.byNode(r))&&r.getParent()==this.dropDown},onKeyboardSearch:function(r,v,B,C){r&&this.focusChild(r)},_loadChildren:function(r){if(!0===r)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{T.forEach(this._getChildren(),function(B){B.destroyRecursive()});var v=new n({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(v)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(r){this.inherited(arguments);p.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(r){this.inherited(arguments);this._refreshState()},
_setRequiredAttr:function(r){this._set("required",r);this.focusNode.setAttribute("aria-required",r);this._refreshState()},_setOptionsAttr:function(r){this._isLoaded=!1;this._set("options",r)},_setDisplay:function(r){r=("text"===this.labelType?(r||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):r)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" aria-selected\x3d"true" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+r+"\x3c/span\x3e"},
validate:function(r){r=this.disabled||this.isValid(r);this._set("state",r?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",r?"false":"true");var v=r?"":this._missingMsg;v&&this.focused&&this._hasBeenBlurred?e.show(v,this.domNode,this.tooltipPosition,!this.isLeftToRight()):e.hide(this.domNode);this._set("message",v);return r},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);e.hide(this.domNode);
this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=m.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"selectstart",function(v){v.preventDefault();v.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var r=this._keyNavCodes;delete r[f.LEFT_ARROW];delete r[f.RIGHT_ARROW]},_setStyleAttr:function(r){this.inherited(arguments);y.toggle(this.domNode,
this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(r){this._loadChildren(!0);this._isLoaded=!0;r()},destroy:function(r){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(r),delete this.dropDown);e.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){e.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});u("dojo-bidi")&&(t=
J("dijit.form.Select",t,{_setDisplay:function(r){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));t._Menu=k;t.prototype._onContainerKeydown=c("_onContainerKeydown");t.prototype._onContainerKeypress=c("_onContainerKeypress");return t})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x){return t("dijit.form._FormSelectWidget",x,{multiple:!1,options:null,store:null,_setStoreAttr:function(n){this._created&&this._deprecatedSetStore(n)},query:null,_setQueryAttr:function(n){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:n})},queryOptions:null,_setQueryOptionsAttr:function(n){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:n})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(n){var h=this.options||[];if(null==n)return h;if(l.isArrayLike(n))return T.map(n,"return this.getOptions(item);",this);l.isString(n)&&(n={value:n});l.isObject(n)&&(T.some(h,function(e,d){for(var a in n)if(!(a in e)||e[a]!=n[a])return!1;n=d;return!0})||(n=-1));return 0<=n&&n<h.length?h[n]:null},addOption:function(n){T.forEach(l.isArrayLike(n)?n:[n],function(h){h&&l.isObject(h)&&this.options.push(h)},this);this._loadChildren()},removeOption:function(n){n=this.getOptions(l.isArrayLike(n)?
n:[n]);T.forEach(n,function(h){h&&(this.options=T.filter(this.options,function(e){return e.value!==h.value||e.label!==h.label}),this._removeOptionItem(h))},this);this._loadChildren()},updateOption:function(n){T.forEach(l.isArrayLike(n)?n:[n],function(h){var e=this.getOptions({value:h.value}),d;if(e)for(d in h)e[d]=h[d]},this);this._loadChildren()},setStore:function(n,h,e){g.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(n,h,e)},_deprecatedSetStore:function(n,h,e){var d=this.store;e=e||{};if(d!==n){for(var a;a=this._notifyConnections.pop();)a.remove();n.get||(l.mixin(n,{_oldAPI:!0,get:function(b){var c=new J;this.fetchItemByIdentity({identity:b,onItem:function(k){c.resolve(k)},onError:function(k){c.reject(k)}});return c.promise},query:function(b,c){var k=new J(function(){r.abort&&r.abort()});k.total=new J;var r=this.fetch(l.mixin({query:b,onBegin:function(v){k.total.resolve(v)},
onComplete:function(v){k.resolve(v)},onError:function(v){k.reject(v)}},c));return new z(k)}}),n.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[p.after(n,"onNew",l.hitch(this,"_onNewItem"),!0),p.after(n,"onDelete",l.hitch(this,"_onDeleteItem"),!0),p.after(n,"onSet",l.hitch(this,"_onSetItem"),!0)]));this._set("store",n)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);e.query&&this._set("query",e.query);e.queryOptions&&this._set("queryOptions",e.queryOptions);n&&n.query&&(this._loadingStore=!0,this.onLoadDeferred=new J,this._queryRes=n.query(this.query,this.queryOptions),q(this._queryRes,l.hitch(this,function(b){if(this.sortByLabel&&!e.sort&&b.length)if(n.getValue)b.sort(y.createSortFunction([{attribute:n.getLabelAttributes(b[0])[0]}],n));else{var c=this.labelAttr;b.sort(function(k,r){return k[c]>r[c]?1:r[c]>
k[c]?-1:0})}e.onFetch&&(b=e.onFetch.call(this,b,e));T.forEach(b,function(k){this._addOptionForItem(k)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(l.hitch(this,function(k,r,v){r==v?this._onSetItem(k):(-1!=r&&this._onDeleteItem(k),-1!=v&&this._onNewItem(k))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:h);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(b):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),l.hitch(this,function(b){this.onLoadDeferred.reject(b)})));return d},_setValueAttr:function(n,h){this._onChangeActive||(h=null);if(this._loadingStore)this._pendingValue=n;else if(null!=n){n=l.isArrayLike(n)?T.map(n,function(a){return l.isObject(a)?a:{value:a}}):l.isObject(n)?[n]:[{value:n}];n=T.filter(this.getOptions(n),function(a){return a&&a.value});var e=this.getOptions()||[];this.multiple||n[0]&&n[0].value||!e.length||(n[0]=e[0]);T.forEach(e,function(a){a.selected=T.some(n,
function(b){return b.value===a.value})});e=T.map(n,function(a){return a.value});if("undefined"!=typeof e&&"undefined"!=typeof e[0]){var d=T.map(n,function(a){return a.label});this._setDisplay(this.multiple?d:d[0]);this.inherited(arguments,[this.multiple?e:e[0],h]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var n=T.map([].concat(this.get("selectedOptions")),function(h){return h&&"label"in h?h.label:h?h.value:null},this);return this.multiple?n:n[0]},_setDisplayedValueAttr:function(n){this.set("value",
this.getOptions("string"==typeof n?{label:n}:n))},_loadChildren:function(){this._loadingStore||(T.forEach(this._getChildren(),function(n){n.destroyRecursive()}),T.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var n=[].concat(this.value);if(n&&n[0]){var h=this;T.forEach(this._getChildren(),function(e){var d=T.some(n,function(a){return e.option&&a===e.option.value});d&&!h.multiple&&
(h.focusedChild=e);f.toggle(e.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);e.domNode.setAttribute("aria-selected",d?"true":"false")},this)}},_getValueFromOpts:function(){var n=this.getOptions()||[];if(!this.multiple&&n.length){var h=T.filter(n,function(e){return e.selected})[0];if(h&&h.value)return h.value;n[0].selected=!0;return n[0].value}return this.multiple?T.map(T.filter(n,function(e){return e.selected}),function(e){return e.value})||[]:""},_onNewItem:function(n,h){h&&h.parent||
this._addOptionForItem(n)},_onDeleteItem:function(n){this.removeOption({value:this.store.getIdentity(n)})},_onSetItem:function(n){this.updateOption(this._getOptionObjForItem(n))},_getOptionObjForItem:function(n){var h=this.store,e=this.labelAttr&&this.labelAttr in n?n[this.labelAttr]:h.getLabel(n);return{value:e?h.getIdentity(n):null,label:e,item:n}},_addOptionForItem:function(n){var h=this.store;h.isItemLoaded&&!h.isItemLoaded(n)?h.loadItem({item:n,onItem:function(e){this._addOptionForItem(e)},scope:this}):
(n=this._getOptionObjForItem(n),this.addOption(n))},constructor:function(n){this._oValue=(n||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?u("\x3e *",this.srcNodeRef).map(function(n){return"separator"===n.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:n.getAttribute("data-"+g._scopeName+"-value")||n.getAttribute("value"),
label:String(n.innerHTML),selected:n.getAttribute("selected")||!1,disabled:n.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);p.after(this,"onChange",l.hitch(this,"_updateSelection"));var n=this.store;n&&(n.getIdentity||n.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(n,this._oValue,
{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var n;n=this._notifyConnections.pop();)n.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},
_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(T,J,p,y){return T("dijit.DropDownMenu",y,{templateString:p,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(t){this._moveToPopup(t);t.stopPropagation();t.preventDefault()},
_onLeftArrow:function(t){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else t.stopPropagation(),t.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){return J("dijit._MenuBase",[z,
h,n,x],{selected:null,_setSelectedAttr:function(e){this.selected!=e&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),e&&e._setSelected(!0),this._set("selected",e))},activated:!1,_setActivatedAttr:function(e){t.toggle(this.domNode,"dijitMenuActive",e);t.toggle(this.domNode,"dijitMenuPassive",!e);this._set("activated",e)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(e){var d=q.byNode(e);return e.parentNode==this.containerNode&&
d&&d.focus},postCreate:function(){var e=this,d="string"==typeof this.childSelector?this.childSelector:m.hitch(this,"childSelector");this.own(g(this.containerNode,g.selector(d,f.enter),function(){e.onItemHover(q.byNode(this))}),g(this.containerNode,g.selector(d,f.leave),function(){e.onItemUnhover(q.byNode(this))}),g(this.containerNode,g.selector(d,u),function(a){e.onItemClick(q.byNode(this),a);a.stopPropagation()}),g(this.containerNode,g.selector(d,"focusin"),function(){e._onItemFocus(q.byNode(this))}));
this.inherited(arguments)},onKeyboardSearch:function(e,d,a,b){this.inherited(arguments);if(e&&(-1==b||e.popup&&1==b))this.onItemClick(e,d)},_keyboardSearchCompare:function(e,d){return e.shortcutKey?d==e.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(e){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,e);else(e=this._getTopMenu())&&e._isMenuBar&&e.focusNext()},
_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(e){this.activated?(this.set("selected",e),!e.popup||e.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(e)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(e,{type:"click"})},this.passivePopupDelay));this._hoveredChild=
e;e._set("hovering",!0)},_onChildDeselect:function(e){this._stopPopupTimer();this.currentPopupItem==e&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;e._closePopup()},this.popupDelay))},onItemUnhover:function(e){this._hoveredChild==e&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);e._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&
(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var e=this;e.parentMenu;e=e.parentMenu);return e},onItemClick:function(e,d){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(e);if(e.disabled)return!1;if(e.popup){this.set("selected",e);this.set("activated",!0);var a=/^key/.test(d._origType||d.type)||0==d.clientX&&0==d.clientY;this._openItemPopup(e,
a)}else this.onExecute(),e._onClick?e._onClick(d):e.onClick(d)},_openItemPopup:function(e,d){if(e!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var a=e.popup;a.parentMenu=this;this.own(this._mouseoverHandle=g.once(a.domNode,"mouseover",m.hitch(this,"_onPopupHover")));var b=this;e._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){d&&b.focusChild(e);b._cleanUp()},onExecute:m.hitch(this,
"_cleanUp",!0),onClose:function(){b._mouseoverHandle&&(b._mouseoverHandle.remove(),delete b._mouseoverHandle)}},d);this.currentPopupItem=e}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(y.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),
this.currentPopupItem=null)},_onItemFocus:function(e){if(this._hoveredChild&&this._hoveredChild!=e)this.onItemUnhover(this._hoveredChild);this.set("selected",e)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(e){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);e&&this.set("selected",null)}})})},"dojox/form/TriStateCheckBox":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/dom-attr dojo/text!./resources/TriStateCheckBox.html dijit/form/Button dijit/form/_ToggleButtonMixin dojo/NodeList-dom".split(" "),
function(T,J,p,y,t,m,f,g,l,u){return J("dojox.form.TriStateCheckBox",[l,u],{templateString:g,baseClass:"dojoxTriStateCheckBox",type:"checkbox",states:"",_stateLabels:null,stateValue:null,_currentState:0,_stateType:"False",readOnly:!1,checked:"",_aria_attr:"aria-checked",constructor:function(){this.states=[!1,"mixed",!0];this.checked=!1;this._stateLabels={False:"\x26#9633;",True:"\x26#8730;",Mixed:"\x26#9632;"};this.stateValues={False:!1,True:"on",Mixed:"mixed"}},_fillContent:function(q){},postCreate:function(){f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},startup:function(){this.set("checked",this.params.checked||this.states[this._currentState]);f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},_setIconClassAttr:null,_setCheckedAttr:function(q,z){var x=p.indexOf(this.states,q);0<=x&&(this._currentState=x,this._stateType=this._getStateType(q),f.set(this.focusNode,"value",this.stateValues[this._stateType]),f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]),this.inherited(arguments))},setChecked:function(q){T.deprecated("setChecked("+q+") is deprecated. Use set('checked',"+q+") instead.","","2.0");this.set("checked",q)},_setStatesAttr:function(q){if(y.isArray(q))this._set("states",q);else if(y.isString(q)){var z={"true":!0,"false":!1,mixed:"mixed"};q=q.split(/\s*,\s*/);for(var x=0;x<q.length;x++)q[x]=void 0!==z[q[x]]?z[q[x]]:!1;this._set("states",q)}},_setReadOnlyAttr:function(q){this._set("readOnly",q);
f.set(this.focusNode,"readOnly",q)},_setValueAttr:function(q,z){"string"==typeof q&&0>p.indexOf(this.states,q)&&(""==q&&(q="on"),this.stateValues.True=q,q=!0);this._created&&(this._currentState=p.indexOf(this.states,q),this.set("checked",q,z),f.set(this.focusNode,"value",this.stateValues[this._stateType]))},_setValuesAttr:function(q){this.stateValues.True=q[0]?q[0]:this.stateValues.True;this.stateValues.Mixed=q[1]?q[1]:this.stateValues.Mixed},_getValueAttr:function(){return this.stateValues[this._stateType]},
reset:function(){this._hasBeenBlurred=!1;this.set("states",this.params.states||[!1,"mixed",!0]);this.stateValues=this.params.stateValues||{False:!1,True:"on",Mixed:"mixed"};this.set("values",this.params.values||[]);this.set("checked",this.params.checked||this.states[0])},_onFocus:function(){this.id&&m("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&m("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.mouseFocus=
!1;this.inherited(arguments)},_onClick:function(q){if(this.readOnly||this.disabled)return t.stop(q),!1;this.click();return this.onClick(q)},click:function(){this._currentState>=this.states.length-1?this._currentState=0:-1==this._currentState?this.fixState():this._currentState++;var q=this._currentState;this.set("checked",this.states[this._currentState]);this._currentState=q;f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType])},fixState:function(){this._currentState=this.states.length-
1},_getStateType:function(q){return q?"mixed"==q?"Mixed":"True":"False"},_onMouseDown:function(){this.mouseFocus=!0}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(T,J,p){return T("dgrid.OnDemandGrid",[J,p],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(T,J,p,y,t,m,f){function g(q,z){z&&z.nodeType&&q.appendChild(z)}function l(q,
z,x,n){if(this.formatter){n=this.formatter;var h=this.grid.formatterScope;x.innerHTML="string"===typeof n&&h?h[n](z,q):this.formatter(z,q)}else null!=z&&x.appendChild(document.createTextNode(z))}var u=8>y("ie")&&!y("quirks");J=J("dgrid.Grid",m,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(q){return"object"!=typeof q?this.columns[q]:this.cell(q).column},listType:"grid",cell:function(q,z){if(q.column&&q.element)return q;q.target&&q.target.nodeType&&(q=q.target);if(q.nodeType){do{if(this._rowIdToObject[q.id])break;
var x=q.columnId;if(x){z=x;var n=q;break}q=q.parentNode}while(q&&q!=this.domNode)}if(!n&&"undefined"!=typeof z){var h=this.row(q);if(x=h&&h.element){x=x.getElementsByTagName("td");for(var e=0;e<x.length;e++)if(x[e].columnId==z){n=x[e];break}}}if(null!=q)return{row:h||this.row(q),column:z&&this.column(z),element:n}},createRowCells:function(q,z,x,n){var h=t("table.dgrid-row-table[role\x3dpresentation]"),e=9>y("ie")||y("quirks")?t(h,"tbody"):h,d,a,b;x=x||this.subRows;var c=0;for(d=x.length;c<d;c++){var k=
x[c];var r=t(e,"tr");k.className&&t(r,"."+k.className);var v=0;for(a=k.length;v<a;v++){var B=k[v];var C=B.id;var A=B.field?".field-"+f.escapeCssIdentifier(B.field,"-"):"";(b="function"===typeof B.className?B.className(n):B.className)&&(A+="."+b);A=t(q+(".dgrid-cell.dgrid-cell-padding"+(C?".dgrid-column-"+f.escapeCssIdentifier(C,"-"):"")+A.replace(/ +/g,"."))+"[role\x3d"+("th"===q?"columnheader":"gridcell")+"]");A.columnId=C;u?(C=t(A,"!dgrid-cell-padding div.dgrid-cell-padding"),A.contents=C):C=A;
if(b=B.colSpan)A.colSpan=b;if(b=B.rowSpan)A.rowSpan=b;z(C,B);r.appendChild(A)}}return h},left:function(q,z){q.element||(q=this.cell(q));return this.cell(this._move(q,-(z||1),"dgrid-cell"))},right:function(q,z){q.element||(q=this.cell(q));return this.cell(this._move(q,z||1,"dgrid-cell"))},renderRow:function(q,z){var x=this.createRowCells("td",function(n,h){var e=q;h.get?e=h.get(q):"field"in h&&"_item"!=h.field&&(e=e[h.field]);h.renderCell?g(n,h.renderCell(q,e,n,z)):l.call(h,q,e,n,z)},z&&z.subRows,
q);return t("div[role\x3drow]\x3e",x)},renderHeader:function(){var q=this,z=this.headerNode,x=z.childNodes.length;for(z.setAttribute("role","row");x--;)t(z.childNodes[x],"!");x=this.createRowCells("th",function(n,h){var e=h.headerNode=n;u&&(n=n.parentNode);var d=h.field;d&&(n.field=d);h.renderHeaderCell?g(e,h.renderHeaderCell(e)):("label"in h||h.field)&&e.appendChild(document.createTextNode("label"in h?h.label:h.field));!1!==h.sortable&&d&&"_item"!=d&&(n.sortable=!0,n.className+=" dgrid-sortable")},
this.subRows&&this.subRows.headerRows);this._rowIdToObject[x.id=this.id+"-header"]=this.columns;z.appendChild(x);this._sortListener&&this._sortListener.remove();this._sortListener=p(x,"click,keydown",function(n){if("click"==n.type||32==n.keyCode||!y("opera")&&13==n.keyCode){var h=n.target,e,d;do if(h.sortable){var a=[{attribute:e=h.field||h.columnId,descending:(d=q._sort[0])&&d.attribute==e&&!d.descending}];e={bubbles:!0,cancelable:!0,grid:q,parentType:n.type,sort:a};p.emit(n.target,"dgrid-sort",
e)&&(q._sortNode=h,q.set("sort",a));break}while((h=h.parentNode)&&h!=z)}})},resize:function(){var q=this.headerNode.firstChild,z=this.contentNode,x;this.inherited(arguments);if(!y("ie")||7<y("ie")&&!y("quirks"))z.style.width="",z&&q&&(x=q.offsetWidth)!=z.offsetWidth&&(z.style.width=x+"px")},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(q,z){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(q){var z=
this.columns,x;for(x in z){var n=z[x];if(n.field==q)return n.headerNode}},updateSortArrow:function(q,z){this._lastSortedArrow&&(t(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),t(this._lastSortedArrow,"!"),delete this._lastSortedArrow);z&&(this._sort=q);if(q[0]){var x=q[0].attribute,n=q[0].descending;x=this._sortNode||this._findSortArrowParent(x);delete this._sortNode;if(x){x=x.contents||x;var h=this._lastSortedArrow=t("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]");h.innerHTML=
"\x26nbsp;";x.insertBefore(h,x.firstChild);t(x,n?".dgrid-sort-down":".dgrid-sort-up");this.resize()}}},styleColumn:function(q,z){return this.addCssRule("#"+f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+f.escapeCssIdentifier(q,"-"),z)},_configColumns:function(q,z){var x=[],n=z instanceof Array;f.each(z,function(h,e){"string"==typeof h&&(z[e]=h={label:h});n||h.field||(h.field=e);e=h.id=h.id||(isNaN(e)?e:q+e);this._configColumn&&(this._configColumn(h,e,z,q),e=h.id);n&&(this.columns[e]=h);
h.grid=this;"function"===typeof h.init&&h.init();x.push(h)},this);return n?z:x},_destroyColumns:function(){var q=this.subRows,z=q&&q.length,x,n;this.cleanup();for(x=0;x<z;x++){var h=0;for(n=q[x].length;h<n;h++){var e=q[x][h];"function"===typeof e.destroy&&e.destroy()}}},configStructure:function(){var q=this.subRows,z=this._columns=this.columns;this.columns=!z||z instanceof Array?{}:z;if(q)for(z=0;z<q.length;z++)q[z]=this._configColumns(z+"-",q[z]);else this.subRows=[this._configColumns("",z)]},_getColumns:function(){return this._columns||
this.columns},_setColumns:function(q){this._destroyColumns();this.subRows=null;this.columns=q;this._updateColumns()},_setSubRows:function(q){this._destroyColumns();this.subRows=q;this._updateColumns()},setColumns:function(q){T.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",q)},setSubRows:function(q){T.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",q)},_updateColumns:function(){this.configStructure();this.renderHeader();
this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});J.appendIfNode=g;J.defaultRenderCell=l;return J})},"put-selector/put":function(){(function(T){var J,p=/[-+,> ]/;T([],J=function(y,t){function m(q){function z(){d&&e&&d!=e&&(e==q&&(x||(x=p.test(k)&&y.createDocumentFragment()))?x:e).insertBefore(d,h||null)}for(var x,n,h,e,d,a=arguments,b=a[0],c=0;c<a.length;c++){var k=a[c];if("object"==
typeof k){n=!1;if(k instanceof Array){d=y.createDocumentFragment();for(var r=0;r<k.length;r++)d.appendChild(m(k[r]));k=d}if(k.nodeType)d=k,z(),e=k,h=0;else for(r in k)d[r]=k[r]}else if(n)n=!1,d.appendChild(y.createTextNode(k));else{1>c&&(q=null);n=!0;if(b=k.replace(f,function(v,B,C,A,E,F){B&&(z(),"-"==B||"+"==B?(e=(h=d||e).parentNode,d=null,"+"==B&&(h=h.nextSibling)):("\x3c"==B?e=d=(d||e).parentNode:(","==B?e=q:d&&(e=d),d=null),h=0),d&&(e=d));if((v=!C&&A)||!d&&(C||E))"$"==v?(v=a[++c],e.appendChild(y.createTextNode(v))):
(v=v||m.defaultTag,(B=u&&a[c+1]&&a[c+1].name)&&(v="\x3c"+v+' name\x3d"'+B+'"\x3e'),d=l&&~(g=v.indexOf("|"))?y.createElementNS(l[v.slice(0,g)],v.slice(g+1)):y.createElement(v));if(C)if("$"==A&&(A=a[++c]),"#"==C)d.id=A;else if(B=(v=d.className)&&(" "+v+" ").replace(" "+A+" "," "),"."==C)d.className=v?(B+A).substring(1):A;else if("!"==k){var w;u?m("div",d,"\x3c").innerHTML="":(w=d.parentNode)&&w.removeChild(d)}else B=B.substring(1,B.length-1),B!=v&&(d.className=B);E&&("$"==F&&(F=a[++c]),"style"==E?d.style.cssText=
F:(C="!"==E.charAt(0)?(E=E.substring(1))&&"removeAttribute":"setAttribute",F=""===F?E:F,l&&~(g=E.indexOf("|"))?d[C+"NS"](l[E.slice(0,g)],E.slice(g+1),F):d[C](E,F)));return""}))throw new SyntaxError("Unexpected char "+b+" in "+k);z();e=b=d||e}}q&&x&&q.appendChild(x);return b}p=t||p;var f=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,g,l=!1;y=y||document;var u="object"==typeof y.createElement;m.addNamespace=function(q,z){y.createElementNS?(l||
(l={}))[q]=z:y.namespaces.add(q,z)};m.defaultTag="div";m.forDocument=J;return m})})(function(T,J,p){p=p||J;"function"===typeof define?define([],function(){return p()}):"undefined"==typeof window?require("./node-html")(module,p):put=p()})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/query dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),function(T,J,p,y,t,m,f,g,
l,u){function q(r,v){return t("#"+f.escapeCssIdentifier(r),v)[0]}function z(r,v){u(document.body,r,".dgrid-scrollbar-measure");var B=r["offset"+v]-r["client"+v];r.className="";r.parentNode&&document.body.removeChild(r);return B}function x(r){var v=r?"."+r.replace(c,"."):"";this._class&&(v="!"+this._class.replace(c,"!")+v);u(this.domNode,v);this._class=r}function n(){return this._class}function h(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function e(r){"undefined"!==typeof r.x&&
(this.bodyNode.scrollLeft=r.x);"undefined"!==typeof r.y&&(this.bodyNode.scrollTop=r.y)}l("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var d,a;m.add("dom-scrollbar-width",function(r,v,B){return z(B,"Width")});m.add("dom-scrollbar-height",function(r,v,B){return z(B,"Height")});m.add("dom-rtl-scrollbar-left",function(r,v,B){r=u("div");u(document.body,B,".dgrid-scrollbar-measure[dir\x3drtl]");u(B,r);v=!!m("ie")||!!m("trident")||r.offsetLeft>=m("dom-scrollbar-width");B.className=
"";B.parentNode&&document.body.removeChild(B);u(r,"!");B.removeAttribute("dir");return v});var b=0,c=/ +/g,k=7>m("ie")&&!m("quirks")?function(){if(this._started){var r=document.documentElement;var v=r.clientWidth;r=r.clientHeight;var B=this._prevWinDims||[];if(B[0]!==v||B[1]!==r)this.resize(),this._prevWinDims=[v,r]}}:function(){this._started&&this.resize()};return J("dgrid.List",m("touch")?g:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,
addUiClasses:!0,shouldObserveStore:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(r,v){var B=this;(this._Row=function(C,A,E){this.id=C;this.data=A;this.element=E}).prototype.remove=function(){B.removeRow(this.element)};v&&(this.srcNodeRef=v=v.nodeType?v:q(v));this.create(r,v)},listType:"list",create:function(r,v){var B=this.domNode=v||u("div");if(r){this.params=r;J.safeMixin(this,r);var C=r["class"]||r.className||B.className;this._sort=r.sort||[];delete this.sort}else this._sort=
[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=B.id=B.id||this.id||"dgrid_"+b++;null===this.useTouchScroll&&(this.useTouchScroll=!m("dom-scrollbar-width"));this.buildRendering();C&&x.call(this,C);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var r=this.domNode,v=this.addUiClasses,B=this;var C=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||
document.body.style.direction).toLowerCase();r.className="";u(r,"[role\x3dgrid].dgrid.dgrid-"+this.listType+(v?".ui-widget":""));var A=this.headerNode=u(r,"div.dgrid-header.dgrid-header-row"+(v?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(m("quirks")||8>m("ie"))&&u(r,"div.dgrid-spacer");var E=this.bodyNode=u(r,"div.dgrid-scroller");m("ff")&&(E.tabIndex=-1);this.headerScrollNode=u(r,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(v?".ui-widget-header":""));var F=
this.footerNode=u("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));u(r,F);C&&(r.className+=" dgrid-rtl"+(m("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));y(E,"scroll",function(w){B.showHeader&&(A.scrollLeft=w.scrollLeft||E.scrollLeft);w.stopPropagation();y.emit(r,"scroll",{scrollTarget:E})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=u(this.bodyNode,"div.dgrid-content"+(v?".ui-widget-content":""));this._listeners.push(this._resizeHandle=y(window,"resize",
f.throttleDelayed(k,this)))},postCreate:m("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var r=this.bodyNode,v=this.headerNode,B=this.footerNode,C=v.offsetHeight,A=this.showFooter?B.offsetHeight:0,E=m("quirks")||7>m("ie");this.headerScrollNode.style.height=r.style.marginTop=C+"px";r.style.marginBottom=
A+"px";E&&(r.style.height="",r.style.height=Math.max(this.domNode.offsetHeight-C-A,0)+"px",A&&(B.style.bottom="1px",setTimeout(function(){B.style.bottom=""},0)));d||(d=m("dom-scrollbar-width"),a=m("dom-scrollbar-height"),m("ie")&&(d++,a++),f.addCssRule(".dgrid-scrollbar-width","width: "+d+"px"),f.addCssRule(".dgrid-scrollbar-height","height: "+a+"px"),17==d||E||(f.addCssRule(".dgrid-header-row","right: "+d+"px"),f.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+d+"px")));E&&(v.style.width=
r.clientWidth+"px",setTimeout(function(){v.scrollLeft=r.scrollLeft},0))},addCssRule:function(r,v){var B=f.addCssRule(r,v);this.cleanAddedRules&&this._listeners.push(B);return B},on:function(r,v){var B=y(this.domNode,r,v);m("dom-addeventlistener")||this._listeners.push(B);return B},cleanup:function(){var r=this.observers,v;for(v in this._rowIdToObject)if(this._rowIdToObject[v]!=this.columns){var B=q(v,this.domNode);B&&this.removeRow(B,!0)}for(v=0;v<r.length;v++)(B=r[v])&&B.cancel();this.observers=
[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var r=this._listeners.length;r--;)this._listeners[r].remove();delete this._listeners}this._started=!1;this.cleanup();u(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(r,v,B,C,A){if(v){var E=this.insertRow(r,v,B,C,A);u(E,".dgrid-highlight"+(this.addUiClasses?
".ui-state-highlight":""));setTimeout(function(){u(E,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return E}},adjustRowIndices:function(r){var v=r.rowIndex;if(-1<v){do-1<r.rowIndex&&(this.maintainOddEven&&-1<(r.className+" ").indexOf("dgrid-row ")&&u(r,"."+(1==v%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==v%2?"dgrid-row-odd":"dgrid-row-even")),r.rowIndex=v++);while((r=r.nextSibling)&&r.rowIndex!=v)}},renderArray:function(r,v,B){function C(){var ka=arguments;if(-1<R)for(var la=0;la<
ka.length;la++){var ta=ka[la],za=Z[ta?0:Z.length-1];if(za=za&&A(za)){var ia=za[ta?"previousSibling":"nextSibling"];ia&&(ia=w.row(ia));ia&&ia.element!=za&&(ta=ta?"unshift":"push",r[ta](ia.data),Z[ta](ia.element),B.count++)}}}function A(ka){return!p.isDescendant(ka,w.domNode)&&q(ka.id)?w.row(ka.id.slice(w.id.length+5)).element:ka}function E(ka){K=w.insertRow(ka,N,null,D++,B);K.observerIndex=R;return K}function F(ka){V=ka.slice(0);(H=v?v.parentNode:w.contentNode)&&H.parentNode&&(H!==w.contentNode||ka.length)?
(H.insertBefore(N,v||null),(K=ka[ka.length-1])&&w.adjustRowIndices(K)):G[R]&&w.cleanEmptyObservers&&w._onEmptyRender(R);Z=ka;M&&(M.rows=Z)}B=B||{};var w=this,D=B.start||0,G=this.observers,H;v||(this._lastCollection=r);if(r.observe&&this.shouldObserveStore){w._numObservers++;var M=r.observe(function(ka,la,ta){var za;if(-1<la&&Z[la]){var ia=Z.splice(la,1)[0];ia.parentNode==H&&((za=ia.nextSibling)&&la!=ta&&za.rowIndex--,w.removeRow(ia));B.count--;w._processScroll&&w._processScroll()}if(-1<ta){if(Z.length)if(0===
ta)var U=(U=Z[ta])&&A(U);else{if(U=Z[ta-1])U=A(U),U=(U.connected||U).nextSibling}else U=w._getFirstRowSibling&&w._getFirstRowSibling(H);ia&&U&&ia.id===U.id&&(U=(U.connected||U).nextSibling);U&&!U.parentNode&&(U=q(U.id));ia=v&&v.parentNode||U&&U.parentNode||w.contentNode;if(ia=w.newRow(ka,ia,U,B.start+ta,B))if(ia.observerIndex=R,Z.splice(ta,0,ia),!za||ta<la)za=(za=ia.previousSibling)&&za.rowIndex+1!=ia.rowIndex&&0!=ia.rowIndex?za:ia;B.count++}0===la?C(1,1):la===r.length-(-1===ta?0:1)&&C(0,0);la!=ta&&
za&&w.adjustRowIndices(za);w._onNotification(Z,ka,la,ta)},!0);var R=G.push(M)-1}var N=document.createDocumentFragment(),K,V;if(r.map){var Z=r.map(E,console.error);if(Z.then)return r.then(function(ka){r=ka;return Z.then(function(la){F(la);C(1,1,0,0);return V})})}else{Z=[];for(var ca=0,ea=r.length;ca<ea;ca++)Z[ca]=E(r[ca])}F(Z);C(1,1,0,0);return V},_onEmptyRender:function(r){"undefined"!==typeof r&&(this.observers[r].cancel(),this.observers[r]=0,this._numObservers--)},_onNotification:function(r,v,B,
C){},renderHeader:function(){},_autoId:0,insertRow:function(r,v,B,C,A){var E=A.parentId;E=this.id+"-row-"+(E?E+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(r):this._autoId++);var F=q(E,this.domNode),w=F&&F.previousSibling;F&&(F===B&&(B=(B.connected||B).nextSibling),this.removeRow(F));F=this.renderRow(r,A);F.className=(F.className||"")+" dgrid-row "+(1==C%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[F.id=E]=r;v.insertBefore(F,
B||null);w&&this.adjustRowIndices(w);F.rowIndex=C;return F},renderRow:function(r,v){return u("div",""+r)},removeRow:function(r,v){r=r.element||r;delete this._rowIdToObject[r.id];v||u(r,"!")},row:function(r){var v;if(r instanceof this._Row)return r;r.target&&r.target.nodeType&&(r=r.target);if(r.nodeType){do{var B=r.id;if(v=this._rowIdToObject[B])return new this._Row(B.substring(this.id.length+5),v,r);r=r.parentNode}while(r&&r!=this.domNode)}else return"object"==typeof r?v=this.store.getIdentity(r):
(v=r,r=this._rowIdToObject[this.id+"-row-"+v]),new this._Row(v,r,q(this.id+"-row-"+v,this.domNode))},cell:function(r){return{row:this.row(r)}},_move:function(r,v,B,C){var A;var E=A=r.element;v=v||1;do if(r=A[0>v?"previousSibling":"nextSibling"]){do if((A=r)&&-1<(A.className+" ").indexOf(B+" ")){E=A;v+=0>v?1:-1;break}while(r=(!C||!A.hidden)&&A[0>v?"lastChild":"firstChild"])}else if(A=A.parentNode,!A||A===this.bodyNode||A===this.headerNode)break;while(v);return E},up:function(r,v,B){r.element||(r=this.row(r));
return this.row(this._move(r,-(v||1),"dgrid-row",B))},down:function(r,v,B){r.element||(r=this.row(r));return this.row(this._move(r,v||1,"dgrid-row",B))},scrollTo:m("touch")?function(r){return this.useTouchScroll?this.inherited(arguments):e.call(this,r)}:e,getScrollPosition:m("touch")?function(){return this.useTouchScroll?this.inherited(arguments):h.call(this)}:h,get:function(r){var v="_get"+r.charAt(0).toUpperCase()+r.slice(1);return"function"===typeof this[v]?this[v].apply(this,[].slice.call(arguments,
1)):this[r]},set:function(r,v){if("object"===typeof r)for(var B in r)this.set(B,r[B]);else B="_set"+r.charAt(0).toUpperCase()+r.slice(1),"function"===typeof this[B]?this[B].apply(this,[].slice.call(arguments,1)):this[r]=v;return this},_getClass:n,_setClass:x,_getClassName:n,_setClassName:x,_setSort:function(r,v){this._sort="string"!=typeof r?r:[{attribute:r,descending:v}];this.refresh();this._lastCollection&&(r.length&&("string"!=typeof r&&(v=r[0].descending,r=r[0].attribute),this._lastCollection.sort(function(B,
C){var A=B[r],E=C[r];void 0===A&&(A="");void 0===E&&(E="");return A==E?0:A>E==!v?1:-1})),this.renderArray(this._lastCollection))},sort:function(r,v){T.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",r,v)},_getSort:function(){return this._sort},_setShowHeader:function(r){var v=this.headerNode;this.showHeader=r;u(v,(r?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();r&&(v.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(r){T.deprecated("setShowHeader(...)",
'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",r)},_setShowFooter:function(r){this.showFooter=r;u(this.footerNode,(r?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has"],function(T){T.add("dom-contains",function(u,q,z){return!!z.contains});var J=[],p,y,t,m=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,f=setTimeout,g=clearTimeout;T.add("requestidlecallback",function(u){return"function"===typeof u.requestIdleCallback});var l={defaultDelay:15,
throttle:function(u,q,z){var x=!1;z=z||l.defaultDelay;return function(){x||(x=!0,u.apply(q,arguments),f(function(){x=!1},z))}},throttleDelayed:function(u,q,z){var x=!1;z=z||l.defaultDelay;return function(){if(!x){x=!0;var n=arguments;f(function(){x=!1;u.apply(q,n)},z)}}},debounce:function(u,q,z){var x;z=z||l.defaultDelay;return function(){x&&(g(x),x=null);var n=arguments;x=f(function(){x=null;u.apply(q,n)},z)}},each:function(u,q,z){var x;if(u)if("number"===typeof u.length){var n=0;for(x=u.length;n<
x;n++)q.call(z,u[n],n,u)}else for(n in u)q.call(z,u[n],n,u)},contains:function(u,q){return T("dom-contains")?u.contains(q):u.compareDocumentPosition(q)&8},addCssRule:function(u,q){p||(p=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(p),p=p.sheet||p.styleSheet,y=p.deleteRule?"deleteRule":"removeRule",t=p.cssRules?"cssRules":"rules");var z=J.length;J[z]=(p.cssRules||p.rules).length;p.addRule?p.addRule(u,q):p.insertRule(u+"{"+q+"}",J[z]);return{get:function(x){return p[t][J[z]].style[x]},
set:function(x,n){"undefined"!==typeof J[z]&&(p[t][J[z]].style[x]=n)},remove:function(){var x=J[z],n;if(void 0!==x){p[y](x);J[z]=void 0;var h=z+1;for(n=J.length;h<n;h++)J[h]>x&&J[h]--}}}},escapeCssIdentifier:function(u,q){return"string"===typeof u?u.replace(m,q||"\\$1"):u}};return l})},"xstyle/has-class":function(){define(["dojo/has"],function(T){var J={};return function(){for(var p,y=arguments,t=0;t<y.length;t++)if(p=y[t],!J[p]){J[p]=!0;var m=p.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),f=T(m[2]),
g=-m[4];(0<g?g<=f&&(-m[5]||g)>=f:!!f)==!m[1]&&(document.documentElement.className+=" has-"+p)}}})},"xstyle/css":function(){define(["require"],function(T){function J(p,y,t){var m=document.documentElement;p=m.insertBefore(document.createElement(p),m.firstChild);p.id=y;y=(p.currentStyle||getComputedStyle(p,null)||{})[t];m.removeChild(p);return y}return{load:function(p,y,t,m){function f(q){var z=J("x-parse",null,"content"),x=q&&(q.sheet||q.styleSheet);z&&"none"!=z&&"normal"!=z?y([eval(z)],function(n){q?
n.process(q,t):(n.processAll(),t(x))}):t(x)}var g=y.toUrl(p);if(g.match(/!$/)){var l={wait:!1};g=g.slice(0,-1)}var u=y.cache&&y.cache["url:"+g];if(null!=u)u.xCss&&(u=u.cssText),"string"==typeof u?T(["./core/load-css"],function(q){f(q.insertCss(u))}):f();else{if("none"==J("div",p.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return f();T(["./core/load-css"],function(q){q(g,f,l)})}}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),
function(T,J,p,y,t,m,f,g,l){return p("dgrid.OnDemandList",[T,J],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:g.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var u=this;f(this.bodyNode,"scroll",g[this.pagingMethod](function(q){u._processScroll(q)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},
renderQuery:function(u,q){function z(k){l(c,"!");if(k)throw x._refreshDeferred&&(x._refreshDeferred.reject(k),delete x._refreshDeferred),k;}var x=this,n=q&&q.container||this.contentNode,h={query:u,count:0,options:q},e,d=this.preload,a,b={node:l(n,"div.dgrid-preload",{rowIndex:0}),count:0,query:u,next:h,options:q};b.node.style.height="0";h.node=e=l(n,"div.dgrid-preload");h.previous=b;e.rowIndex=this.minRowsPerPage;d?((h.next=d.next)&&e.offsetTop>=d.node.offsetTop?h.previous=d:(h.next=d,h.previous=
d.previous),h.previous.next=h,h.next.previous=h):this.preload=h;var c=l(e,"-div.dgrid-loading");l(c,"div.dgrid-below").innerHTML=this.loadingMessage;q=y.mixin(this.get("queryOptions"),q,{start:0,count:this.minRowsPerPage},"level"in u?{queryLevel:u.level}:null);this._trackError(function(){return a=u(q)});if("undefined"===typeof a)z();else return t.when(x.renderArray(a,e,q),function(k){return t.when("undefined"===typeof a.total?a.length:a.total,function(r){var v=k.length,B=e.parentNode,C=x.noDataNode;
l(c,"!");"queryLevel"in q||(x._total=r);0===r&&B&&(C&&(l(C,"!"),delete x.noDataNode),x.noDataNode=C=l("div.dgrid-no-data"),B.insertBefore(C,x._getFirstRowSibling(B)),C.innerHTML=x.noDataMessage);for(var A=C=0;A<v;A++)C+=x._calcRowHeight(k[A]);v&&C&&(x.rowHeight=C/v);C=x.rowHeight*x.bufferRows;C>x.farOffRemoval&&(x.farOffRemoval=C);r-=v;h.count=r;e.rowIndex=v;r?e.style.height=Math.min(r*x.rowHeight,x.maxEmptySpace)+"px":(e.style.display="none",q.count++);x._previousScrollPosition&&B&&B.offsetHeight&&
(x.scrollTo(x._previousScrollPosition),delete x._previousScrollPosition);x._processScroll();x._refreshDeferred&&(x._refreshDeferred.resolve(a),delete x._refreshDeferred);return k},z)},z),a},refresh:function(u){var q=this,z=u&&u.keepScrollPosition;"undefined"===typeof z&&(z=this.keepScrollPosition);z&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store){z=this._refreshDeferred=new t;var x=q.renderQuery(function(n){return q.store.query(q.query,n)});"undefined"===
typeof x&&z.reject();return z.then(function(n){q._refreshTimeout=setTimeout(function(){f.emit(q.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:q,results:n});q._refreshTimeout=null},0);delete q._refreshDeferred;return n},function(n){delete q._refreshDeferred;throw n;})}},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(u){return u.lastChild},_calcRowHeight:function(u){var q=u.nextSibling;return q&&!/\bdgrid-preload\b/.test(q.className)?
q.offsetTop-u.offsetTop:u.offsetHeight},lastScrollTop:0,_processScroll:function(u){function q(N,K,V,Z){var ca=n.farOffRemoval,ea=N.node;if(K>2*ca){for(var ka,la=ea[V],ta=0,za=0,ia=[];ka=la;){var U=n._calcRowHeight(ka);if(ta+U+ca>K||0>la.className.indexOf("dgrid-row")&&0>la.className.indexOf("dgrid-loading"))break;la=ka[V];ta+=U;za+=ka.count||1;n.removeRow(ka,!0);ia.push(ka)}N.count+=za;Z?(ea.rowIndex-=za,z(N)):ea.style.height=ea.offsetHeight+ta+"px";var ja=l("div",ia);setTimeout(function(){l(ja,"!")},
1)}}function z(N,K){N.node.style.height=Math.min(N.count*n.rowHeight,K?Infinity:n.maxEmptySpace)+"px"}function x(N,K){do N=K?N.next:N.previous;while(N&&!N.node.offsetWidth);return N}var n=this,h=n.bodyNode;u=u&&u.scrollTop||this.getScrollPosition().y;h=h.offsetHeight+u;var e=n.preload,d=n.lastScrollTop,a=n.bufferRows*n.rowHeight,b=a-n.rowHeight,c,k,r,v=!0;for(n.lastScrollTop=u;e&&!e.node.offsetWidth;)e=e.previous;for(;e&&e!=B;){var B=n.preload;n.preload=e;var C=e.node;var A=C.offsetTop;if(h+1+b<A)e=
x(e,v=!1);else if(u-1-b>A+C.offsetHeight)e=x(e,v=!0);else{var E=((C.rowIndex?u-a:h)-A)/n.rowHeight;A=(h-u+2*a)/n.rowHeight;A+=Math.min(Math.abs(Math.max(Math.min((u-d)*n.rowHeight,n.maxRowsPerPage/2),n.maxRowsPerPage/-2)),10);0==C.rowIndex&&(E-=A);E=Math.max(E,0);10>E&&0<E&&A+E<n.maxRowsPerPage&&(A+=Math.max(0,E),E=0);A=Math.min(Math.max(A,n.minRowsPerPage),n.maxRowsPerPage,e.count);if(0==A)e=x(e,v);else{A=Math.ceil(A);E=Math.min(Math.floor(E),e.count-A);var F=y.mixin(n.get("queryOptions"),e.options);
e.count-=A;var w=C,D=n.queryRowsOverlap,G=(0<C.rowIndex||C.offsetTop>u)&&e;if(G){var H=e.previous;H&&(q(H,u-(H.node.offsetTop+H.node.offsetHeight),"nextSibling"),0<E&&H.node==C.previousSibling?(E=Math.min(e.count,E),e.previous.count+=E,z(e.previous,!0),C.rowIndex+=E,D=0):A+=E,e.count-=E);F.start=C.rowIndex-D;F.count=Math.min(A+D,n.maxRowsPerPage);C.rowIndex=F.start+F.count}else{if(e.next)if(q(e.next,e.next.node.offsetTop-h,"previousSibling",!0),w=C.nextSibling,w==e.next.node)e.next.count+=e.count-
E,e.next.node.rowIndex=E+A,z(e.next),e.count=E,D=0;else var M=!0;F.start=e.count;F.count=Math.min(A+D,n.maxRowsPerPage)}M&&w&&w.offsetWidth&&(M=w.offsetTop);z(e);"level"in e.query&&(F.queryLevel=e.query.level);if("queryLevel"in F||!(F.start>n._total||0>F.count)){C=l(w,"-div.dgrid-loading[style\x3dheight:"+A*n.rowHeight+"px]");l(C,"div.dgrid-"+(G?"below":"above")).innerHTML=n.loadingMessage;C.count=A;var R=e.query(F);if(void 0===n._trackError(function(){return R})){l(C,"!");return}(function(N,K,V,
Z){r=t.when(n.renderArray(Z,N,F),function(ca){k=Z;w=N.nextSibling;l(N,"!");if(V&&w&&w.offsetWidth){var ea=n.getScrollPosition();n.scrollTo({x:ea.x,y:ea.y+w.offsetTop-V,preserveMomentum:!0})}t.when(Z.total||Z.length,function(ka){"queryLevel"in F||(n._total=ka);K&&(K.count=ka-K.node.rowIndex,0===K.count&&F.count++,z(K))});n._processScroll();return ca},function(ca){l(N,"!");throw ca;})}).call(this,C,G,M,R);e=e.previous}}}}r&&(c=this._refreshDeferred)&&(delete this._refreshDeferred,t.when(r,function(){c.resolve(k)}))},
removeRow:function(u,q){if(u){var z=u.previousSibling,x=u.nextSibling,n;if(n=z)n=z.observerIndex,n=null!=n?n:z.previousObserverIndex;z=n;if(n=x)n=x.observerIndex,n=null!=n?n:x.nextObserverIndex;x=u.observerIndex;u.observerIndex=void 0;q&&(u.nextObserverIndex=n,u.previousObserverIndex=z);if(this.cleanEmptyObservers&&-1<x&&x!==z&&x!==n&&(z=this.observers,n=z[x])){if(!q)for(var h=n.rows,e=0;e<h.length;e++)if(h[e]!=u&&m.isDescendant(h[e],this.domNode))return this.inherited(arguments);n.cancel();this._numObservers--;
z[x]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(T,J,p,y,t,m,f){function g(u){return u}function l(u){if("object"!==typeof u)u=Error(u);else if("cancel"===u.dojoType)return;u.grid=this;t.emit(this.domNode,"dgrid-error",{grid:this,error:u,cancelable:!0,bubbles:!0})}return J("dgrid._StoreMixin",null,{store:null,query:null,queryOptions:null,getBeforePut:!0,
noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};m.before(this,"configStructure",p.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(u){u.set&&(this._columnsWithSet[u.field]=u);this.inherited(arguments)},
_updateNotifyHandle:function(u){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);u&&"function"===typeof u.notify&&this.shouldObserveStore&&(this._notifyHandle=m.after(u,"notify",p.hitch(this,"_onNotify"),!0),this.get("sort"))},_setStore:function(u,q,z){this._updateNotifyHandle(u);this.store=u;this.dirty={};this.set("query",q,z)},_setQuery:function(u,q){var z=q&&q.sort;this.query=void 0!==u?u:this.query;this.queryOptions=q||this.queryOptions;this._started&&(z?this.set("sort",
z):this.refresh())},setStore:function(u,q,z){T.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",u,q,z)},setQuery:function(u,q){T.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",u,q)},_getQueryOptions:function(){var u=p.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)u.sort=this._sort;return u},_getQuery:function(){var u=this.query;return"object"==typeof u&&null!=u?p.delegate(u,{}):
u},_setSort:function(u,q){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(u,q){this.inherited(arguments);u&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var u=this.inherited(arguments);this.store||(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return u},renderArray:function(){var u=this,q=this.inherited(arguments);this.store||y.when(q,function(z){z.length&&u.noDataNode&&
f(u.noDataNode,"!")});return q},_onEmptyRender:function(){},insertRow:function(u,q,z,x,n){var h=this.store,e=this.dirty;h=h&&h.getIdentity(u);var d;h in e&&!(h in this._updating)&&(d=e[h]);d&&(u=p.delegate(u,d));return this.inherited(arguments)},updateDirty:function(u,q,z){var x=this.dirty,n=x[u];n||(n=x[u]={});n[q]=z},setDirty:function(u,q,z){T.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(u,q,z)},save:function(){function u(b,c){return function(k){var r=q._columnsWithSet,
v=q._updating,B;if("function"===typeof k.set)k.set(c);else for(B in c)k[B]=c[B];for(B in r){var C=r[B].set(k);void 0!==C&&(k[B]=C)}v[b]=!0;return y.when(z.put(k),function(){delete x[b];delete v[b]})}}var q=this,z=this.store,x=this.dirty,n=new y,h=n.promise,e=function(b){var c;return q.getBeforePut||!(c=q.row(b).data)?function(){return z.get(b)}:function(){return c}},d;for(d in x){var a=u(d,x[d]);h=h.then(e(d)).then(a)}n.resolve();return h},revert:function(){this.dirty={};this.refresh()},_trackError:function(u){"string"==
typeof u&&(u=p.hitch(this,u));try{var q=u()}catch(z){l.call(this,z)}return y.when(q,g,p.hitch(this,l))},newRow:function(){var u=this.inherited(arguments);this.noDataNode&&(f(this.noDataNode,"!"),delete this.noDataNode);return u},removeRow:function(u,q){var z={element:u};!q&&this.noDataMessage&&this.up(z).element===u&&this.down(z).element===u&&(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/mouse dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),
function(T,J,p,y,t,m,f,g,l,u){function q(a,b){for(var c=a.unselectable=b?"on":"",k=a.getElementsByTagName("*"),r=k.length;--r;)"INPUT"!==k[r].tagName&&"TEXTAREA"!==k[r].tagName&&(k[r].unselectable=c)}function z(a,b){var c=a.bodyNode,k=b?"text":21>t("ff")?"-moz-none":"none";n&&"msUserSelect"!==n?c.style[n]=k:t("dom-selectstart")?b||a._selectstartHandle?b&&a._selectstartHandle&&(a._selectstartHandle.remove(),delete a._selectstartHandle):a._selectstartHandle=y(c,"selectstart",function(r){var v=r.target&&
r.target.tagName;"INPUT"!==v&&"TEXTAREA"!==v&&r.preventDefault()}):(q(c,!b),b||a._unselectableHandle)?b&&a._unselectableHandle&&(a._unselectableHandle.remove(),delete a._unselectableHandle):a._unselectableHandle=f.after(a,"renderRow",function(r){q(r,!0);return r})}t.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});t.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});t.add("css-user-select",function(a,b,c){a=c.style;
b=["Khtml","O","ms","Moz","Webkit"];c=b.length;var k="userSelect";do if("undefined"!==typeof a[k])return k;while(c--&&(k=b[c]+"UserSelect"));return!1});t.add("dom-selectstart","undefined"!==typeof document.onselectstart);var x=t("mac")?"metaKey":"ctrlKey",n=t("css-user-select"),h=(g=t("pointer"))&&"MS"===g.slice(0,2),e=g?g+(h?"Down":"down"):"mousedown",d=g?g+(h?"Up":"up"):"mouseup";"WebkitUserSelect"===n&&"undefined"!==typeof document.documentElement.style.msUserSelect&&(n=!1);return J("dgrid.Selection",
null,{selectionDelegate:".dgrid-row",selectionEvents:e+","+d+",dgrid-cellfocusin",selectionTouchEvents:t("touch")?l.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);
this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(a){T.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");
this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?z(this,a):z(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(!m.isRight(a)&&this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&("dgrid-cellfocusin"!==a.type||"mousedown"!==a.parentType)&&(a.type!==d||b==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===e&&this.isSelected(b))this._waitForMouseUp=
b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,b){var c=a.keyCode?a.ctrlKey:a[x];this._lastSelected===b?this.select(b,null,!c||!this.isSelected(b)):(this.clearSelection(),this.select(b),this._lastSelected=b)},_multipleSelectionHandler:function(a,b){var c=this._lastSelected,k=a.keyCode?a.ctrlKey:a[x];if(!a.shiftKey){var r=k?null:!0;c=null}this.select(b,c,r);c||(this._lastSelected=b)},_extendedSelectionHandler:function(a,b){if(a[x]||
!this.isSelected(b)||1!==this.getSelectedCount())(2===a.button?this.isSelected(b):a.keyCode?a.ctrlKey:a[x])||this.clearSelection(null,!0),this._multipleSelectionHandler(a,b)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var a=this,b=this.contentNode,c=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};t("touch")&&!t("pointer")&&this.selectionTouchEvents?(y(b,l.selector(c,this.selectionTouchEvents),function(k){a._handleSelect(k,
this);a._ignoreMouseSelect=this}),y(b,y.selector(c,this.selectionEvents),function(k){a._ignoreMouseSelect!==this?a._handleSelect(k,this):k.type===d&&(a._ignoreMouseSelect=null)})):y(b,y.selector(c,this.selectionEvents),function(k){a._handleSelect(k,this)});this.addKeyHandler&&this.addKeyHandler(32,function(k){a._handleSelect(k,k.target)});if(this.allowSelectAll)this.on("keydown",function(k){k[x]&&65==k.keyCode&&!/\bdgrid-input\b/.test(k.target.className)&&(k.preventDefault(),a[a.allSelected?"clearSelection":
"selectAll"]())});this._setStore&&f.after(this,"_setStore",function(){a._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function a(v,B,C){v=B||v&&v[b.idProperty||"id"];if(null!=v&&(B=(v=b.row(v))&&b.selection[v.id]))b[C](v,null,B)}var b=this,c=this.store;this._removeDeselectSignals&&this._removeDeselectSignals();if(c&&c.notify){var k=f.before(c,"notify",function(v,B){v||a(v,B,"deselect")});var r=f.after(c,"notify",function(v,B){a(v,B,"select")},!0);
this._removeDeselectSignals=function(){k.remove();r.remove()}}else k=f.before(this,"removeRow",function(v,B){var C;B||(C=this.row(v))&&C.id in this.selection&&this.deselect(C)}),this._removeDeselectSignals=function(){k.remove()}},allowSelect:function(a){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],c=this._selectionTriggerEvent;var k={bubbles:!0,grid:this};c&&(k.parentType=c.type);k[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];y.emit(this.contentNode,
"dgrid-"+a,k)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a)){var k=this.selection;var r=!!k[a.id];null===c&&(c=!r);var v=a.element;c||this.allSelected?k[a.id]=c:delete this.selection[a.id];v&&(c?u(v,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):u(v,"!dgrid-selected!ui-state-active"));c!==r&&v&&this._selectionEventQueues[(c?
"":"de")+"select"].push(a);if(b)if(b.element||(b=this.row(b)),b){if(b=b.element)for(k=this._determineSelectionDirection(v,b),k||(b=document.getElementById(b.id),k=this._determineSelectionDirection(v,b));a.element!=b&&(a=this[k](a));)this._select(a,null,c)}else this._lastSelected=v}},_determineSelectionDirection:t("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":
"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},getSelectedCount:function(){var a=
0,b;for(b in this.selection)b&&(a+=1);return a},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this,b=this.inherited(arguments);p.when(b,function(c){var k=a.selection,r,v;for(r=0;r<c.length;r++){var B=
a.row(c[r]);(v=B.id in k?k[B.id]:a.allSelected)&&a._select(B,null,v)}a._fireSelectionEvents()});return b}})})},"dgrid/editor":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/dom-class dojo/on dojo/aspect dojo/has dojo/query dojo/when ./Grid put-selector/put dojo/_base/sniff".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z){function x(F,w){F.value=w;if("radio"==F.type||"checkbox"==F.type)F.checked=F.defaultChecked=!!w}function n(F,w){if("number"==typeof w)F=
isNaN(F)?F:parseFloat(F);else if("boolean"==typeof w)F="true"==F?!0:"false"==F?!1:F;else if(w instanceof Date){var D=new Date(F);F=isNaN(D.getTime())?F:D}return F}function h(F,w){return"function"==typeof w.get?n(w.get("value")):n(w["checkbox"==w.type||"radio"==w.type?"checked":"value"])}function e(F,w,D,G,H){if((D&&D.valueOf())!=(G&&G.valueOf())){var M=w.element;var R=w.row;var N=w.column;if(N.field&&R)if(w={grid:F,cell:w,rowId:R.id,oldValue:D,value:G,bubbles:!0,cancelable:!0},H&&H.type&&(w.parentType=
H.type),m.emit(M,"dgrid-datachange",w))F.updateDirty?(F.updateDirty(R.id,N.field,G),N.autoSave&&setTimeout(function(){F._trackError("save")},0)):R.data[N.field]=G;else{var K;(K=M.widget)?(K._dgridIgnoreChange=!0,K.set("value",D),setTimeout(function(){K._dgridIgnoreChange=!1},0)):(K=M.input)&&x(K,D);return D}}return G}function d(F,w,D){var G=F.cell(w.domNode||w),H=G.column,M;var R=F._activeCell;if(!w.isValid||w.isValid())if(D=e(F,G,R?F._activeValue:w._dgridLastValue,h(H,w),D),R?F._activeValue=D:w._dgridLastValue=
D,"radio"===w.type&&w.name&&!H.editOn&&H.field)for(M in R=F.row(w),l("input[type\x3dradio][name\x3d"+w.name+"]",F.contentNode).forEach(function(N){var K=F.row(N);N!==w&&N._dgridLastValue&&(N._dgridLastValue=!1,F.updateDirty?F.updateDirty(K.id,H.field,!1):K.data[H.field]=!1)}),F.dirty)R.id!==M&&F.dirty[M][H.field]&&F.updateDirty(M,H.field,!1)}function a(F){var w=F.parentNode||F.domNode&&F.domNode.parentNode;w&&t.contains(w,E)||(w=F.focusNode||F.domNode||F);return w}function b(F){if(F){var w=F.parentNode||
F.domNode&&F.domNode.parentNode;w&&t.contains(w,E)||(w=F.domNode||F);return w}}function c(F,w){isNaN(w)&&(w=isNaN(F.tabIndex)?-1:F.tabIndex);return z("div",{className:E,tabIndex:w},F)}function k(F){var w=F.editor,D=F.editOn,G=F.grid,H="string"!=typeof w;var M=F.editorArgs||{};"function"==typeof M&&(M=M.call(G,F));if(H){var R=new w(M);H=R.focusNode||R.domNode;H.className+=" dgrid-input";g("mac")&&D&&/checkbox|radio/i.test(H.type)?(F=c(R.domNode,F.tabIndex),m(F,"blur",function(){R._dgridIgnoreChange||
d(G,R,{type:"widget"})})):D||R.connect(R,"onChange",function(){R._dgridIgnoreChange||d(G,R,{type:"widget"})})}else{var N=function(K){var V=K.target;"_dgridLastValue"in V&&-1<V.className.indexOf("dgrid-input")&&d(G,V,K)};F.grid._hasInputListener||(G._hasInputListener=!0,G.on("change",function(K){N(K)}));R=H=z(("textarea"==w?"textarea":"input[type\x3d"+w+"]")+".dgrid-input",J.mixin({name:F.field,tabIndex:isNaN(F.tabIndex)?-1:F.tabIndex},M));g("mac")&&D&&/checkbox|radio/i.test(w)&&(F=c(R),R.tabIndex=
0,R.removeAttribute("tabindex"));if(9>g("ie")||g("ie")&&g("quirks"))"radio"==w||"checkbox"==w?m(R,"click",function(K){N(K)}):m(R,"change",function(K){N(K)})}return R}function r(F,w){function D(){var V=H._activeCell;N.blur();"function"===typeof H.focus&&setTimeout(function(){H.focus(V)},M&&9>g("ie")?15:0)}var G=k(F),H=F.grid,M=G.domNode,R=b(G),N=a(G),K=M?function(){G.set("value",G._dgridLastValue)}:function(){x(G,G._dgridLastValue);d(F.grid,G)};m(N,"keydown",function(V){V=V.keyCode||V.which;27==V?
(K(),H._activeValue=G._dgridLastValue,D()):13==V&&!1!==F.dismissOnEnter&&D()});(F._editorBlurHandle=m.pausable(a(G),"blur",function(V){if(!G.dropDown||!G.dropDown.domNode.contains(V.relatedTarget||document.activeElement)){if(V&&V.target){var Z=V.target;if((Z=t.contains(Z,E)&&Z)&&V.relatedTarget===(G.focusNode||G)){Z.focus();return}}d(H,G,{type:"widget"});V=R.parentNode;Z=V.children.length-1;var ca={alreadyHooked:!0},ea=H.cell(R);m.emit(ea.element,"dgrid-editor-hide",{grid:H,cell:ea,column:F,editor:G,
bubbles:!0,cancelable:!1});F._editorBlurHandle.pause();V.removeChild(R);if(ea.row){for(z(ea.element,"!dgrid-cell-editing");Z--;)z(V.firstChild,"!");q.appendIfNode(V,F.renderCell(F.grid.row(V).data,H._activeValue,V,H._activeOptions?J.delegate(ca,H._activeOptions):ca))}H._focusedEditorCell=H._activeCell=H._activeValue=H._activeOptions=null}})).pause();return G}function v(F,w,D,G){var H=F.domNode;H||x(F,G);D.innerHTML="";z(D,".dgrid-cell-editing");z(D,b(F));H&&!w.editOn?w.grid._editorsPendingStartup.push([F,
w,D,G]):B(F,w,D,G)}function B(F,w,D,G){var H=w.grid;F.domNode&&(F._started||F.startup(),F._dgridIgnoreChange=!0,F.set("value",G),setTimeout(function(){F._dgridIgnoreChange=!1},0));F._dgridLastValue=G;H._activeCell&&(H._activeValue=G,m.emit(D,"dgrid-editor-show",{grid:H,cell:H.cell(D),column:w,editor:F,bubbles:!0,cancelable:!1}))}function C(F){for(var w=F._editorsPendingStartup,D=w.length;D--;)B.apply(null,w[D]);F._editorsPendingStartup=[]}function A(F){function w(Z){H.grid._activeCell=R;v(H.editorInstance,
H,R,K);H._editTimer=setTimeout(function(){var ca=a(G);ca.focus&&ca.focus();H._editorBlurHandle&&H._editorBlurHandle.resume();H._editTimer=null;Z.resolve(G)},0)}var D,G;F.column||(F=this.cell(F));if(!F||!F.element)return null;var H=F.column;var M=H.field;var R=F.element.contents||F.element;if(G=H.editorInstance){if(H.grid._activeCell!=R){var N=F.row;var K=(D=this.dirty&&this.dirty[N.id])&&M in D?D[M]:H.get?H.get(N.data):N.data[M];if(!H.canEdit||H.canEdit(F.row.data,K)){var V=new y;F=a(G);F.offsetWidth?
(F.blur(),setTimeout(function(){w(V)},0)):w(V);return V.promise}}}else if(H.editor&&(G=R.widget||R.input))return V=new y,G.focus&&G.focus(),V.resolve(G),V.promise;return null}var E="dgrid-editor-focus-wrapper";J.getObject("dgrid.editor",!0);return dgrid.editor=function(F,w,D){function G(N){var K=N.grid,V;if(!K.edit){K.edit=A;K._editorsPendingStartup=[];M.push(m(K.domNode,".dgrid-input:focusin",function(){K._focusedEditorCell=K.cell(this)}));var Z=K._editorFocusoutHandle=m.pausable(K.domNode,".dgrid-input:focusout",
function(ca){K._focusedEditorCell&&K._focusedEditorCell.element.contains(ca.target)||(K._focusedEditorCell=null)});M.push(Z);M.push(f.before(K,"removeRow",function(ca){var ea=K._focusedEditorCell;ca=K.row(ca);ea&&ca&&ea.row.id===ca.id&&(V=ea,Z.pause(),setTimeout(function(){Z.resume();V=null},0))}));M.push(f.after(K,"insertRow",function(ca){var ea=K.row(ca);V&&V.row.id===ea.id&&K.edit(K.cell(ea,V.column.id));return ca}));M.push(f.after(K,"renderArray",function(ca){u(ca,function(ea){ea.length?C(K):
K._editorsPendingStartup=[]});return ca}));M.push(f.after(K,"_onNotification",function(){C(K)}))}}var H=F.renderCell||q.defaultRenderCell,M=[];F||(F={});F.editor=w=w||F.editor||"text";F.editOn=D=D||F.editOn;var R="string"!=typeof w;F.widgetArgs&&(T.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4"),F.editorArgs=F.widgetArgs);f.after(F,"init",D?function(){G(F);F.editorInstance=r(F,H)}:function(){var N=F.grid;G(F);R&&M.push(f.before(N,"removeRow",function(K){if(K=(K=N.cell(K,
F.id).element)&&(K.contents||K).widget)N._editorFocusoutHandle.pause(),K.destroyRecursive(),N._editorFocusoutHandle.resume()}))});f.after(F,"destroy",function(){p.forEach(M,function(N){N.remove()});F._editorBlurHandle&&F._editorBlurHandle.remove();F._editTimer&&clearTimeout(F._editTimer);D&&R&&F.editorInstance.destroyRecursive();F.grid.edit=null;F.grid._editorsPendingStartup=null});F.renderCell=D?function(N,K,V,Z){var ca=F.grid;Z&&Z.alreadyHooked||m("TD"==V.tagName?V:V.parentNode,D,function(){ca._activeOptions=
Z;ca.edit(this)});return H.call(F,N,K,V,Z)}:function(N,K,V,Z){if(!F.canEdit||F.canEdit(N,K))N=k(F),v(N,F,V,K),V[R?"widget":"input"]=N;else return H.call(F,N,K,V,Z)};return F}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(T,J,p,y){T=function(t){function m(q,z){var x=t[q];x&&(t[q]=function(n){var h;"put"===q&&(h=t.getIdentity(n));if(u)return x.apply(this,arguments);u=!0;try{var e=x.apply(this,arguments);p(e,function(d){z("object"==
typeof d&&d||n,h)});return e}finally{u=!1}})}var f=[],g=0;t=J.delegate(t);t.notify=function(q,z){g++;for(var x=f.slice(),n=0,h=x.length;n<h;n++)x[n](q,z)};var l=t.query;t.query=function(q,z){z=z||{};var x=l.apply(this,arguments);if(x&&x.forEach){var n=J.mixin({},z);delete n.start;delete n.count;var h=t.queryEngine&&t.queryEngine(q,n),e=g,d=[],a;x.observe=function(b,c){1==d.push(b)&&f.push(a=function(r,v){p(x,function(B){var C=B.length!=z.count,A;if(++e!=g)throw Error("Query is out of date, you must observe() the query prior to any data modifications");
var E=-1,F=-1;if(void 0!==v){var w=[].concat(B);h&&!r&&(w=h(B));var D=0;for(A=B.length;D<A;D++){var G=B[D];if(t.getIdentity(G)==v&&!(0>w.indexOf(G))){var H=G;E=D;!h&&r||B.splice(D,1);break}}}h?r&&(h.matches?h.matches(r):h([r]).length)&&(D=-1<E?E:B.length,B.splice(D,0,r),F=y.indexOf(h(B),r),B.splice(D,1),z.start&&0==F||!C&&F==B.length?F=-1:B.splice(F,0,r)):r&&(void 0!==v?F=E:z.start||(F=t.defaultIndex||0,B.splice(F,0,r)));if((-1<E||-1<F)&&(c||!h||E!=F))for(C=d.slice(),D=0;B=C[D];D++)B(r||H,E,F)})});
var k={};k.remove=k.cancel=function(){var r=y.indexOf(d,b);-1<r&&(d.splice(r,1),d.length||f.splice(y.indexOf(f,a),1))};return k}}return x};var u;m("put",function(q,z){t.notify(q,z)});m("add",function(q){t.notify(q)});m("remove",function(q){t.notify(void 0,q)});return t};J.setObject("dojo.store.Observable",T);return T})},"arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/kernel dojo/_base/array dojo/dom-form dojo/io-query dojo/json dojo/Deferred dojo/promise/all esri/lang arcgisonline/esriGeowConfig arcgisonline/pages/utils/categories arcgisonline/sharing/util esri/geometry/webMercatorUtils esri/geometry/Extent arcgisonline/sharing/dijit/Role arcgisonline/pages/statusUtil dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){return{addItem:function(b,c,k,r){var v=k&&k.getPortalUser(),B=c&&"/"!==c?c:"",C=b instanceof FormData,A={url:(k&&k.portalUrl)+"content/users/"+(r||v.username)+(B?"/"+B:"")+"/addItem"};c=b&&("FORM"===b.tagName||"FORM"===b.nodeName||C)?"form":"content";var E,F,w,D=new g;A[c]=b;q.self.hasCategorySchema&&A[c].categories&&(C?A[c].categories.value=f.stringify(A[c].categories):A[c].categories=f.stringify(A[c].categories));x.request(A,{usePost:!0}).then(J.hitch(this,
function(G){if(C)if(b.keys)for(w=b.keys(),E={};!(F=w.next()).done;)"file"!==F.value&&(E[F.value]=b.get(F.value));else E=G;else E=A.form?t.toObject(b):b;E.title=J.isArray(E.title)?E.title[0]:E.title;E=J.mixin(G,E,{folderId:B});D.resolve(E)}),function(G){D.reject(G)});return D},updateItem:function(b,c){var k=c&&c.getPortalUser();k=(c&&c.portalUrl)+"content/users/"+(b.owner||k.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/update";var r=J.mixin({},b),v=new g;delete r.owner;
q.self.hasCategorySchema&&r.categories&&(r.categories=f.stringify(r.categories));x.request({url:k,content:r},{usePost:!0}).then(J.hitch(this,function(B){v.resolve(b)}),function(B){v.reject(B)});return v},setCategories:function(b,c){!b.categories||c&&0!==c.length||(c=b.categories);return z.setItemCategories([b.id],c)},addItemResource:function(b,c,k){var r=c&&c.getPortalUser();return x.request({url:(c&&c.portalUrl)+"content/users/"+(b.owner||r.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:
"")+"/items/"+b.id+"/addResources",content:k},{usePost:!0}).then(J.hitch(this,function(v){return v}))},getCloudProviderItemResource:function(b){return x.request({url:q.restBaseUrl+"content/items/"+b.id+"/resources/cloudProvider.json"}).then(J.hitch(this,function(c){return c}))},getPublishParametersForOverwrite:function(b,c){var k=new g;this._fetchPublishParameters(b,c).then(J.hitch(this,function(r){this._fetchServiceInfo(b).then(J.hitch(this,function(v){var B="";"CSV"==c?(B=J.mixin(J.mixin({},v.layers&&
v.layers[0]),{fields:r.layerInfo.fields}),B=J.mixin(r,{layerInfo:B,name:r.name||b.title.replace(/ /g,"_")})):B="Microsoft Excel"==c?this._generateExcelOverwritePublishParameters(r,v):{name:b.title?b.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};B=v?J.mixin(B,v):B;k.resolve(B)}),J.hitch(this,function(v){k.reject(v)}))}),J.hitch(this,function(r){k.reject(r)}));return k},_fetchPublishParameters:function(b,c){var k=q.restBaseUrl+"content/items/"+b.id+"/info/publishParameters.json";!c||"CSV"!==
c&&"Microsoft Excel"!==c?(k=new g,k.resolve(!1)):k=x.request({url:k}).then(J.hitch(this,function(r){return r}));return k},_fetchServiceInfo:function(b){b=b.url;var c={addToken:(x.isHostedService(b)||x.isAgolService(b))&&!1!==q.isMultiTenant},k=new g,r;l([x.request({url:b},c),x.request({url:b+"/layers"},c)]).then(J.hitch(this,function(v){var B={},C=v&&1<v.length&&v[1],A=C&&C.layers;C=C&&C.tables;A&&A.length&&(y.forEach(A,function(E){delete E.fields}),B.layers=A);C&&C.length&&(B.tables=C);r=J.mixin(v[0],
B);k.resolve(r)}));return k},_generateExcelOverwritePublishParameters:function(b,c){c.name=b.name;c.sourceSR=b.sourceSR;c.targetSR=b.targetSR;for(var k=0;k<c.tables.length;k++)"Review"!=c.tables[k].name&&(c.layers[c.layers.length]=c.tables[k]);for(k=0;k<c.layers.length;k++)c.layers[k].excelSheetId=b.layers[k].excelSheetId,c.layers[k].locationType=b.layers[k].locationType,c.layers[k].latitudeFieldName=b.layers[k].latitudeFieldName,c.layers[k].longitudeFieldName=b.layers[k].longitudeFieldName,c.layers[k].geocodeServiceUrl=
b.layers[k].geocodeServiceUrl,c.layers[k].sourceLocale=b.layers[k].sourceLocale,c.layers[k].sourceCountry=b.layers[k].sourceCountry,c.layers[k].standardizedFieldNames=b.layers[k].standardizedFieldNames,c.layers[k].addressFields=b.layers[k].addressFields;return c},deleteItem:function(b,c){var k=(c&&c.getPortalUser()).userContentUrl+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/delete";return x.request({url:k},{usePost:!0})},publishItem:function(b,c,k){var r=(k&&k.getPortalUser()).username;
k=(k&&k.portalUrl)+"content/users/"+r+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/publish";var v=new g;c.publishParameters=f.stringify(c.publishParameters);x.request({url:k,content:c},{usePost:!0}).then(J.hitch(this,function(B){if(q.self.hasCategorySchema&&b.categories){var C=[];(B.services||[]).forEach(function(A){C.push(this.setCategories({id:A.id,categories:b.categories}))},this);l(C).then(J.hitch(this,function(){v.resolve(J.mixin(b,{publishResult:B.services||[]}))}))}else v.resolve(J.mixin(b,
{publishResult:B.services||[]}))}),function(B){v.reject(B)});return v},createService:function(b,c,k,r){var v=new g,B,C=r&&r.getPortalUser();x.request({url:(r&&r.portalUrl)+"content/users/"+(b.owner||C.username)+"/createService",content:c},{usePost:!0}).then(function(A){return B=A}).then(J.hitch(this,this.addToDefinition,k)).then(J.hitch(this,function(A){v.resolve(J.mixin(b,{createResult:A||[]}))}),J.hitch(this,function(A){this.deleteItem(J.mixin(B,{id:B.itemId}),r).then(function(){v.reject(A)})}));
return v},addToDefinition:function(b,c){var k=new g;if(b){var r=c.encodedServiceURL.replace("rest/services","rest/admin/services");x.request({url:r+"/addToDefinition",content:{addToDefinition:b,async:!0}},{usePost:!0}).then(function(v){return d.checkAsyncJobStatus(v.statusURL)}.bind(this),function(v){k.reject(v)}.bind(this)).then(J.hitch(this,function(v){k.resolve(J.mixin(c,{addToDefinitionResult:v}))}),function(v){k.reject(v)})}else k.resolve(c);return k},moveItem:function(b,c,k){var r=new g,v=k&&
k.getPortalUser();v=b.owner||v.username;k=(k&&k.portalUrl)+"content/users/"+v+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/move";v={folder:c&&c!==v?c:"/"};(b.folderId||"/")!==v.folder?x.request({url:k,content:v},{usePost:!0}).then(J.hitch(this,function(B){r.resolve(J.mixin(b,{folderId:c}))})):r.resolve(b);return r},serviceNameAvailable:function(b,c){var k=c&&c.getPortalUser(),r={name:b.title.replace(/ /g,"_"),type:b.type||"Feature Service"};return x.request({url:c.url+"portals/"+
k.orgId+"/isServiceNameAvailable",content:r})},analyzeItem:function(b,c,k){c=J.mixin({enableGlobalGeocoding:!0,sourceLocale:p.locale.split("-")[0]},c||{});b=J.mixin({},{analyzeParameters:c,filetype:b.fileType||b.type&&b.type.toLowerCase()||"",itemid:b.id});k=k.url+"/content/features/analyze";b.analyzeParameters=f.stringify(b.analyzeParameters);return x.request({url:k,content:b},{usePost:!0})},createTemplatedApplication:function(b,c,k,r){var v=b,B=r&&r.sharing?r.sharing:{},C=r&&r.isEveryoneChecked?
r:null,A=J.isArray(c.typeKeywords)?-1<y.indexOf(c.typeKeywords,"selfConfigured"):-1<c.typeKeywords.indexOf("selfConfigured"),E=J.isArray(c.typeKeywords)?-1<y.indexOf(c.typeKeywords,"configurableApp"):-1<c.typeKeywords.indexOf("configurableApp");r=J.isArray(c.typeKeywords)?-1<y.indexOf(c.typeKeywords,"Web AppBuilder for ArcGIS"):-1<c.typeKeywords.indexOf("Web AppBuilder for ArcGIS");var F,w=J.hitch(this,function(G){var H=new g;if(G.shareWithWebMap){var M=q.restBaseUrl+"content/items/"+G.id+"/share",
R="public"===B.access||C&&C.isEveryoneChecked()||!1,N="org"===B.access||C&&C.isAccountChecked()||!1,K=B.groups||C&&C.getSharedGroups()||[];K=y.map(K,"return item.id;");R={f:"json",everyone:R,org:N,groups:K.join(","),items:[G.id]};q.self.hasCategorySchema&&R.categories&&(R.categories=f.stringify(R.categories));x.request({url:M,content:R},{usePost:!0}).then(J.hitch(this,function(){H.resolve(G)}))}else H.resolve(G);return H});if(v&&r)return b=new g,v.folderId&&"/"!==v.folderId&&(v.folder=v.folderId),
r=window.location.protocol+"//"+window.location.host+x.getHomeAppContext()+"/apps/webappbuilder/index.html?",r+=m.objectToQuery({title:v.title,tags:v.tags,summary:v.description,folder:v.folder,categories:v.categories&&v.categories.length?f.stringify(v.categories):void 0}),b.resolve(J.mixin(v,{configureUrl:r})),b;if(v){r=x.parseUrl(c.url);delete b.typeKeywords;var D=window.location.protocol+"//"+r.host+(r.port&&"443"!==r.port&&"80"!==r.port?":"+r.port:"")+r.path;D="https:"===window.location.protocol?
x.getSecureUrl(D):x.getHttpUrl(D);v=J.mixin({type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, JavaScript, Ready To Use"+(A?" ,selfConfigured":"")+(E?", configurableApp":""),thumbnailURL:x.getStaticImagesUrl()+"/webapp.png",url:D},v);v.text=f.stringify(J.mixin({},{source:c.id,folderId:v.folderId,values:b.webSceneId?{webscene:b.webSceneId}:b.webMapId?{webmap:b.webMapId}:b.groupId?{group:b.groupId}:{}}));return this.addItem(v,v.folderId,k).then(J.hitch(this,function(G){return w(J.mixin(v,
{id:G.id})).then(J.hitch(this,function(H){var M=H.url.indexOf("?"),R=-1!==M?H.url.substr(M,H.url.length):"";R+=R&&R.length?"\x26":"?";R+="appid\x3d"+G.id;D=H.url.substr(0,-1!==M?M:H.url.length)+R;return this.updateItem({id:G.id,url:D,folderId:H.folderId},k).then(J.hitch(this,function(){return A?(F=A?D+"\x26edit\x3dtrue":q.baseUrl+("webmap/configureApp.html?appid\x3d"+G.id),F+=G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:"",J.mixin(H,G,{configureUrl:F,url:D})):E?(F=window.location.protocol+
"//"+window.location.host+x.getHomeAppContext()+"/apps/configure-template/index.html?appid\x3d"+G.id,J.mixin(H,G,{configureUrl:F,url:D})):x.request({url:q.restBaseUrl+"content/items/"+c.id+"/data"}).then(J.hitch(this,function(N){F=N&&N.configurationSettings?q.baseUrl+"webmap/configureApp.html?appid\x3d"+G.id+(G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:""):q.baseUrl+"item.html?id\x3d"+G.id;return J.mixin(H,G,{configureUrl:F,url:D})}))}))}))}),J.hitch(this,function(G){G&&409===G.code&&
(G=v,G={title:a.addItemFrm.errors.error.title,message:u.substitute({type:G.type,title:G.title},a.addItemFrm.errors.itemExists.message)});throw G;}))}},checkStatus:function(b,c,k,r){var v=(r&&r.getPortalUser()).userContentUrl;b?x.request({url:v+"/items/"+b.id+"/status",content:{jobId:b.jobId}}).then(J.hitch(this,function(B){B=B||{status:"failed"};if("completed"===B.status)return c.resolve(b);if("failed"===B.status||""===B.status)return B=d.getStatusError(B),c.reject({message:B});k=(k||500)+250;setTimeout(J.hitch(this,
function(){this.checkStatus(b,c,k,r)}),k)}),J.hitch(this,function(B){c.reject(B)})):c.reject()},_getBatchGeocodeServers:function(b){if(!this._batchGeocoderServers){var c=b.getPortalUser(),k=-1<y.indexOf(c.privileges,"portal:user:createItem")&&-1<y.indexOf(c.privileges,"premium:user:geocode"),r=/(arcgis.com\/arcgis\/rest\/services\/world\/geocodeserver).*/ig,v=/(\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/ig,B,C,A=[];y.forEach(b.helperServices&&b.helperServices.geocode||[],function(E){B=
!!E.url.match(r);C=!!E.url.match(v);(B&&!b.isPortal&&k||C||E.batch)&&A.push({isWorldGeocodeServer:B||C,isWorldGeocodeServerProxy:C,label:E.name,value:E.url,url:E.url,name:E.name})});this._batchGeocoderServers=A}return this._batchGeocoderServers},getPortalDefaultExtentAsGCS:function(b){if(b=b.defaultExtent||null){b=n.webMercatorToGeographic(new h(b));var c=b.spatialReference._getInfo();if(c){if(b.xmin>b.xmax){var k=c.valid[1]-b.xmin,r=b.xmax-c.valid[0];k>r?b.xmax=c.valid[1]+r:b.xmin=c.valid[0]-k}return Math.round(1E4*
b.xmin)/1E4+","+Math.round(1E4*b.ymin)/1E4+","+Math.round(1E4*b.xmax)/1E4+","+Math.round(1E4*b.ymax)/1E4}}return null},itemExists:function(b,c,k){var r=b.title;k=k&&"/"!==k?k:"root";var v="Data Store"===b.type?b.type.toLowerCase():b.type;c={q:'title:"'+r+'" AND type:"'+v+'" AND owner:"'+c+'" AND ownerfolder:"'+k+'"',num:1};var B,C=new dojo.Deferred;x.request({url:q.restBaseUrl+"search",content:c}).then(function(A){A&&A.total?(B=A.results&&A.results.shift(),b&&b.id===B.id||r!==B.title?C.resolve({itemExists:!1}):
(A=b.isFile?u.substitute({type:b.fileExtension,item:b.item,name:b.name||b.title,title:b.title},a.addItemFrm.errors.itemExistsFile.message):u.substitute({type:v,item:b.item,title:r},a.addItemFrm.errors.itemExists.message),C.resolve({itemExists:!0,message:A}))):C.resolve({itemExists:!1})}.bind(this));return C},noSQLCheck:function(b,c){return b.connectionUri===c.noSQLConnectionURI&&b.database===c.noSQLDataBase&&b.username===c.noSQLUsername},getAllNoSQLDatastorePromises:function(b){var c=new g,k=[];x.request({url:q.restBaseUrl+
"search?q\x3dtype%3A'Data+Store'\x26bbox\x3d\x26sortField\x3d\x26sortOrder\x3d"}).then(function(r){if(r&&r.total){var v=[];r.results.forEach(function(B){B.typeKeywords.includes("nosql")&&v.push(B)});0!==v.length&&v.forEach(function(B){k.push(function(){var C=new g;x.request({url:q.restBaseUrl+"content/items/"+B.id+"/data"}).then(function(A){this.noSQLCheck(A.info.connectionProperties,b)?C.resolve({itemExists:!0}):C.resolve({itemExists:!1})}.bind(this));return C}.call(this))}.bind(this))}c.resolve({allPromises:k})}.bind(this));
return c},checkForDuplicateNoSQL:function(b){var c=new g;this.getAllNoSQLDatastorePromises(b).then(function(k){l(k.allPromises).then(function(r){var v;0!==r.length?(r.forEach(function(B){!0===B.itemExists&&(v=!0)}),v?c.resolve({itemExists:!0}):c.resolve({itemExists:!1})):c.resolve({itemExists:!1})})}.bind(this));return c},hasCreateLayer:function(b){var c={managed:!0},k=b&&(b.user||b.getPortalUser&&b.getPortalUser()),r=new e({portalUser:k}),v,B,C,A,E;if(b.isPortal&&k&&(r.isBasedOnAdmin()||r.isBasedOnPublisher()))return b.getFederatedServers().then(J.hitch(this,
function(F){(B=(v=y.filter(F.servers||[],J.hitch(this,function(w){return w.isHosted})))&&v.length?v[0]:null)?(C=B.adminUrl+"/admin/data/findItems",E=x.request({url:C,content:c},{useProxy:!0}).then(J.hitch(this,function(w){return(A=y.filter(w.items||w||[],J.hitch(this,function(D){return D&&D.provider&&"arcgis data store"===D.provider.toLowerCase()})))&&A.length?!0:!1}),J.hitch(this,function(w){return!1}))):(E=new g,E.resolve(!1));return E}));b=new g;b.resolve(!0);return b}}})},"arcgisonline/pages/statusUtil":function(){define("require exports tslib dojo/Deferred dojo/on dojo/json dojo/topic esri/lang esri/urlUtils ./pageUtil ./utils/arrays ./utils/polling esri/tasks/Geoprocessor ../sharing/util dojo/i18n!../nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);return function(){function e(){}e.checkStatus=function(d){var a=new y["default"],b=this.getJobUrl(d),c=this.getJobId(d),k=n["default"].isPortal(),r="Scene Service"===d.type,v=k&&r&&!this.isSceneFromFeatures(d);
d.canUpdate&&d.isHostedService&&!d.isUtilityNetwork&&("Feature Service"===d.type||(k||b&&c)&&"Image Service"===d.type||r||"Vector Tile Service"===d.type||k&&"Map Service"===d.type)?(d.set("status","processing"),b&&c?this.checkJobStatus(d,500):r&&!v||!(c||"Feature Service"===d.type&&(this.isFeaturesFromPackage(d)||this.isFeaturesFromExcel(d))||"Map Service"===d.type&&!this.isTileFromFeatures(d)||"Vector Tile Service"===d.type&&d.sourceData&&!this.isVectorTileFromFeatures(d))?k||this.isVectorTileFromFeatures(d)?
d.set("status","completed"):this.checkServiceStatus(d,500,a):"Vector Tile Service"===d.type&&d.sourceData&&this.isVectorTileFromPackage(d)||"Feature Service"===d.type&&this.isFeaturesFromExcel(d)?this.checkItemStatusCallSupport(d,500,a):(d.set("firstStatus",!0),this.checkItemStatus(d,500,a))):d.set("status","completed");a.resolve(d);return a};e.checkItemStatusCallSupport=function(d,a,b){var c=this;this.supportsItemStatusCall(d).then(function(k){k?(d.set("firstStatus",!0),c.checkItemStatus(d,a,b)):
c.checkServiceStatus(d,a,b)})};e.supportsItemStatusCall=function(d){return n["default"].request({url:d.userItemUrl+"/status",content:{jobId:d.jobId}}).then(function(a){var b;return"item status doesn't exist"===(null===(b=null===a||void 0===a?void 0:a.statusMessage)||void 0===b?void 0:b.toLowerCase())?!1:!0},function(){return!1})};e.isFeaturesFromPackage=function(d){var a,b=null===(a=d.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===d.type&&0<(null===b||void 0===b?void 0:b.indexOf("Package"))};
e.isFeaturesFromExcel=function(d){var a,b=null===(a=d.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===d.type&&"Microsoft Excel"===b};e.isTileFromFeatures=function(d){var a;return"Map Service"===d.type&&"Feature Service"===(null===(a=d.sourceData)||void 0===a?void 0:a.type)};e.isSceneFromFeatures=function(d){var a;return"Scene Service"===d.type&&"Feature Service"===(null===(a=d.sourceData)||void 0===a?void 0:a.type)};e.isVectorTileFromFeatures=function(d){var a;return"Vector Tile Service"===
d.type&&"Feature Service"===(null===(a=d.sourceData)||void 0===a?void 0:a.type)};e.isVectorTileFromPackage=function(d){var a,b;return"Vector Tile Service"===d.type&&0<(null===(b=null===(a=d.sourceData)||void 0===a?void 0:a.type)||void 0===b?void 0:b.indexOf("Package"))};e.getJobId=function(d){var a=l["default"].urlToObject(document.URL),b=d.properties||{};d.jobId=d.jobId||b.jobId||a&&a.query&&a.query.jobid||null;return d.jobId};e.getJobUrl=function(d){var a=(d.properties&&d.properties.jobUrl||"").split("/jobs/");
d.jobUrl=a.shift();d.jobId=d.jobUrl?a.shift():null;return d.jobUrl};e.checkItemStatus=function(d,a,b){var c=this,k;void 0===a&&(a=500);var r=d.portal.isPortal,v=d.userItemUrl+"/status",B={jobId:d.jobId};"image service"===(null===(k=d.type)||void 0===k?void 0:k.toLowerCase())&&(B.jobType="publishImageService");n["default"].request({url:v,content:B}).then(function(C){C=C||{status:"failed"};var A=r&&"failed"===C.status&&-1<C.statusMessage.toLowerCase().indexOf("job not found.");"completed"===C.status||
A?d.set({firstStatus:void 0,status:"completed",readyForGeocodeReview:!0,readyToRetrieveServiceLayers:!0}):"failed"===C.status||400<C.code||""===C.status?(d.set("statusError",c.getStatusError(C)),d.set("status","failed")):(d.set("status","processing"),C.jobInfo.jobId&&(d.set("jobId",C.jobInfo.jobId),d.firstStatus?d.set({firstStatus:!1,status:"completed"}):d.set("status","processing")),a+=250,setTimeout(function(){return c.checkItemStatus(d,a,b)},a))},function(C){d.set("statusError",c.getStatusError(C));
d.set("status","failed")})};e.checkServiceStatus=function(d,a,b){var c=this;void 0===a&&(a=500);var k=d.adminUrl+"/status",r={};if("Scene Service"===d.type||"Vector Tile Service"===d.type)k=d.adminUrl;d.adminServerToken&&(r.token=d.adminServerToken);n["default"].request({url:k,content:r},{useProxy:n["default"].shouldUseProxy(k)}).then(function(v){var B,C;v.status=(null===(B=v.realTimeState)||void 0===B?void 0:B.toLowerCase())||(null===(C=v.status)||void 0===C?void 0:C.toLowerCase())||(v.currentVersion&&
v.capabilities?"started":"failed");if("Scene Service"===d.type||"Vector Tile Service"===d.type)v.status="PROCESSING"===v.cacheExecutionStatus||"SUBMITTED"===v.cacheExecutionStatus?"processing":"started";"started"===v.status?d.set({status:"completed",readyForGeocodeReview:!0}):"failed"===v.status||400<v.code||""===v.status?(d.set("statusError",c.getStatusError(v)),d.set("status","failed")):(d.set("status","processing"),a+=250,setTimeout(function(){return c.checkServiceStatus(d,a,b)},a))},function(v){d.set("statusErrorCode",
null===v||void 0===v?void 0:v.code);d.set("statusError",c.getStatusError(v));d.set("status","failed")})};e.checkVectorTileServiceJobStatus=function(d,a,b){var c=this;void 0===a&&(a=500);void 0===b&&(b=0);var k=new y["default"];if("Vector Tile Service"===d.type){var r=d.adminUrl,v={},B=null!==b&&void 0!==b?b:0;d.adminServerToken&&(v.token=d.adminServerToken);n["default"].request({url:r,content:v},{useProxy:n["default"].shouldUseProxy(r)}).then(function(C){C.code?10<B?(d.set("statusErrorCode",null===
C||void 0===C?void 0:C.code),d.set("statusError",c.getStatusError(C)),d.set("status","failed"),k.resolve(C)):(a+=1E3,setTimeout(function(){c.checkVectorTileServiceJobStatus(d,a,B+1)},a)):(C.status="PROCESSING"===C.cacheExecutionStatus||"SUBMITTED"===C.cacheExecutionStatus?"processing":"started","started"===C.status?(d.set("status","completed"),k.resolve(C)):"failed"===C.status||400<C.code||""===C.status?(d.set("statusError",c.getStatusError(C)),d.set("status","failed"),k.resolve(C)):(d.set("status",
"processing"),a+=1E3,setTimeout(function(){return c.checkVectorTileServiceJobStatus(d,a)},a)))},function(C){10<B?(d.set("statusErrorCode",null===C||void 0===C?void 0:C.code),d.set("statusError",c.getStatusError(C)),d.set("status","failed"),k.resolve(C)):(a+=1E3,setTimeout(function(){c.checkVectorTileServiceJobStatus(d,a,B+1)},a))})}else k.resolve();return k};e.checkJobStatus=function(d,a){var b=this,c;void 0===a&&(a=3E3);var k=null===(c=(d.portal.getPortalUser()||{}).credential)||void 0===c?void 0:
c.token,r=d.jobId;c=d.jobUrl;var v=d.properties;if(v&&"processing"===v.jobStatus){d.set("status","processing");var B=new x["default"](c+(k?"?token\x3d"+k:""));t["default"](B,"status-update",function(A){"esriJobExecuting"!==A.jobInfo.jobStatus?(d.set("status","completed"),C&&clearInterval(C)):d.set("status","processing")});t["default"](B,"error",function(A){var E;A=A.error||A;(null===(E=null===A||void 0===A?void 0:A.message)||void 0===E?0:E.indexOf("not found."))?(d.set("status","completed"),v&&(v.jobId&&
delete v.jobId,v.jobUrl&&delete v.jobUrl,v.jobStatus&&delete v.jobStatus,v.jobType&&delete v.jobType,d.set("properties",v))):(d.set("statusError",b.getStatusError(A)),d.set("status","failed"));C&&clearInterval(C)});var C=setInterval(function(){return B.checkJobStatus(r)},a)}else d.set("status","completed")};e.checkSceneCachingJobStatus=function(d,a,b,c){var k=this;void 0===a&&(a=3E3);var r=n["default"].isPortal(),v=!(!d.portalUser||!d.portalUser.isOrgAdmin),B=d.cachingJobUrl||d.properties&&d.properties.cacheJobUrl,
C=r?["esriJobSucceeded","esriJobFailed","esriJobCancelled"]:["Completed","Failed"],A=r?"esriJobFailed":"Failed",E=r?"jobStatus":"status",F=r?B:d.adminUrl+"/"+B;r&&v&&(F=F.replace("/rest/","/admin/").replace("/SceneCachingControllers/GPServer/","/SceneCachingControllers.GPServer/"),E="status");var w=r?{useProxy:n["default"].shouldUseProxy(F)}:{};if(B)var D=setInterval(function(){n["default"].request({url:F},w).then(function(G){c&&f["default"].publish(c,G);q["default"].includes(C,G[E])?(G[E]===A&&(d.set("status",
"failed"),b&&b.reject(G)),clearInterval(D),d.set("cachingJobUrl",void 0),d.set("status","completed"),b&&b.resolve(G)):d.set("status","processing")},function(G){var H;(null===(H=null===G||void 0===G?void 0:G.message)||void 0===H?0:H.indexOf("not found."))?(d.set("cachingJobUrl",void 0),d.set("status","completed"),b&&b.resolve()):(d.set("statusError",k.getStatusError(G)),d.set("status","failed"),b&&b.reject(G))})},a);else d.set("cachingJobUrl",void 0),d.set("status","completed"),b&&b.resolve({})};e.getStatusError=
function(d){var a=(null===d||void 0===d?void 0:d.statusMessage)||h["default"].addItemFrm.errors.publishError.message;return a?u["default"].isJson(a)?m["default"].parse(a):a:d};e.checkAsyncJobStatus=function(d,a){var b=new y["default"],c=0,k,r=function(){n["default"].request({url:d},a).then(function(v){v=v||{status:"Failed"};k=v.status||v.jobStatus;k=g["default"].isDefined(k)?k.toLowerCase():k;q["default"].includes(["esrijobsucceeded","completed"],k)?b.resolve(v):q["default"].includes(["esrijobfailed",
"failed"],k)||400<v.code?b.reject(v):setTimeout(r,z["default"].asyncIntervalTimerFunction(c++))},function(v){b.reject(v)})};setTimeout(r,z["default"].asyncIntervalTimerFunction(c++));return b};e.checkAsyncJobStatusWithVaryingInterval=function(d,a){var b=new y["default"],c=0,k,r=function(){setTimeout(function(){c++;n["default"].request({url:d}).then(function(v){v=v||{status:"Failed"};k=v.status||v.jobStatus;k=g["default"].isDefined(k)?k.toLowerCase():k;q["default"].includes(["esrijobsucceeded","completed"],
k)?b.resolve(v):q["default"].includes(["esrijobfailed","failed"],k)||400<v.code?b.reject(v):r()},function(v){return b.reject(v)})},a(c))};r();return b};e.getEndTime=function(d){var a=n["default"].isPortal();if(((null===d||void 0===d?0:d.startTime)||(null===d||void 0===d?0:d.submittedTime))&&((null===d||void 0===d?0:d.totalTime)||(null===d||void 0===d?0:d.duration))){var b=(a?d.submittedTime:d.startTime)||0;b=a?b:1E3*b;d=a?g["default"].isDefined(d.duration)?d.duration:void 0:g["default"].isDefined(d.totalTime)?
1E3*d.totalTime:void 0;return b+d}if(a&&d.jobStatus&&d.messages&&(d=q["default"].find(d.messages||[],function(k){return"esriJobMessageTypeInformative"===k.type&&0===k.description.indexOf("Succeeded at ")})))try{b=d.description.indexOf(" (Elapsed Time: ");var c=d.description.substring(14,b).trim();return(new Date(c)).getTime()}catch(k){}};return e}()})},"arcgisonline/pages/utils/polling":function(){define(["require","exports"],function(T,J){function p(y){return 1E3*J.ASYNC_POLLING_INTERVALS[-1<y&&
y<J.ASYNC_POLLING_INTERVALS.length-1?y:J.ASYNC_POLLING_INTERVALS.length-1]}Object.defineProperty(J,"__esModule",{value:!0});J.asyncIntervalTimerFunction=J.ASYNC_POLLING_INTERVALS=void 0;J.ASYNC_POLLING_INTERVALS=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];J.asyncIntervalTimerFunction=p;J["default"]={ASYNC_POLLING_INTERVALS:J.ASYNC_POLLING_INTERVALS,asyncIntervalTimerFunction:p}})},"arcgisonline/sharing/utilShare":function(){define("require exports tslib ../esriGeowConfig ./util ./dijit/dialog/ShareCheckDlg ./dijit/dialog/ConfirmDialog ./geow/Community dojo/promise/all dojo/Deferred dojo/string esri/lang esri/request dojo/i18n!../nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(){}h.isEmpty=function(e){return e?JSON.stringify(e)===JSON.stringify({}):!1};h.checkWebMapContent=function(e){var d=this,a=function(b){var c={};c.webMapId=b.webMapId;c.mainItemCard=
b.webMapItemCard;delete c.mainItemCard.needsUpdate;c.mainItemSharing=b.webMapItemSharing;c.mainConfig=b.webMapConfig;c.itemCards=b.itemCards||{};for(var k in c.itemCards)delete c.itemCards[k].needsUpdate;c.itemsSharing={};c.newAccess=b.newAccess;c.needUpdateHandler=b.needUpdateHandler;c.dontNeedUpdateHandler=b.dontNeedUpdateHandler;c.confirmItemControl=b.confirmItemControl;d.getMainItemCard(c)};e.useTimer?(this.waitHandler&&clearTimeout(this.waitHandler),this.waitHandler=setTimeout(function(){d.waitHandler=
null;a(e)},2E3)):a(e)};h.checkWebAppContent=function(e){var d={};d.webAppId=e.webAppId;d.mainItemCard=e.webAppItemCard;d.mainItemSharing=e.webAppItemSharing;d.mainConfig=e.webAppConfig;d.itemCards=e.itemCards||{};d.itemsSharing={};this.getMainItemCard(d)};h.getMainItemCard=function(e){var d=this,a=function(b){b.newAccess?(b.mainItemSharing=b.newAccess,d.getMainConfig(b)):"private"!==b.mainItemCard.access&&("shared"===b.mainItemCard.access?d.getMainSharingInfo(b):d.getMainConfig(b))};e.mainItemCard?
a(e):t["default"].request({url:y["default"].restBaseUrl+"content/items/"+(e.webMapId||e.webAppId)}).then(function(b){e.mainItemCard=b;a(e);return!0},function(b){return b})};h.getMainSharingInfo=function(e){var d=this;if(e.mainItemSharing)this.getMainConfig(e);else{var a=t["default"].getUser();a=y["default"].restBaseUrl+"content/users/"+a.username;e.mainItemCard.ownerFolder&&(a+="/"+e.mainItemCard.ownerFolder);a+="/items/"+(e.webMapId||e.webAppId);var b=t["default"].getToken();x["default"]({url:a+
(b?"?f\x3djson\x26token\x3d"+b:"?f\x3djson"),callbackParamName:"callback",load:function(c){e.mainItemSharing=c.sharing;d.getMainConfig(e)},error:function(c){d.getMainConfig(e)}},{disableIdentityLookup:!0})}};h.getMainConfig=function(e){var d=this;if(e.mainConfig)e.webMapId?this.readWebMapConfig(e):this.readWebAppConfig(e);else return t["default"].request({url:y["default"].restBaseUrl+"content/items/"+(e.webMapId||e.webAppId)+"/data"}).then(function(a){e.mainConfig=a;e.webMapId?d.readWebMapConfig(e):
d.readWebAppConfig(e)},function(a){})};h.checkForItemSharing=function(e){var d=this;if(e.newAccess&&"shared"!==e.newAccess.access||!e.newAccess&&"shared"!==e.mainItemCard.access)this.checkAccessOfItems(e);else{var a=[],b;for(b in e.itemCards){var c=e.itemCards[b];"shared"!==c.access&&"org"!==c.access||!c.ownerFolder&&null!==c.ownerFolder||a.push(this.getItemSharingInfo(c))}a.length?l["default"](a).then(function(k){k.forEach(function(r){r=r.length?r[1]:r;e.itemsSharing[r.item.id]=r.sharing});d.checkAccessOfItems(e)}):
this.checkAccessOfItems(e)}};h.checkAccessOfItems=function(e){var d=this,a=t["default"].getUser(),b=e.newAccess?e.newAccess.access:e.mainItemCard.access,c=[],k;for(k in e.itemCards){var r=e.itemCards[k];"shared"===b&&"public"!==r.access&&e.mainItemSharing&&void 0!==r.ownerFolder&&a.username!==r.owner&&c.push(this.getOwnerGroups(r,e))}c.length?l["default"](c).then(function(v){d._checkAccessOfItems(e)}):this._checkAccessOfItems(e)};h._checkAccessOfItems=function(e){var d=this,a=!1,b=e.newAccess?e.newAccess.access:
e.mainItemCard.access,c=[],k;for(k in e.itemCards){var r=e.itemCards[k],v=r.access,B=!1;e.containsPremiumContent=this.isPremiumContent(r);if("public"===b&&"public"!==v)B=!0;else if("org"===b&&"public"!==v&&"org"!==v)B=!0;else if("shared"===b&&"private"===v)B=!0;else if("shared"!==b||"shared"!==v&&"org"!==v)"Web Map"!==r.type&&"Web Scene"!==r.type?delete e.itemCards[k]:e.itemCards[k].needsUpdate=!1;else if(e.mainItemSharing)if(e.itemsSharing[k]&&void 0!==r.ownerFolder){v=e.mainItemSharing.groups;for(var C=
e.itemsSharing[k].groups,A=!1,E=0;E<v.length;E++)if(-1===C.indexOf(v[E])){A=B=!0;break}A||delete e.itemCards[k]}else B=!0;else B=!0;(B&&e.webAppId||"Web Map"===r.type||"Web Scene"===r.type)&&c.push(this.checkWebMapInWebApp(r.id,e));a=a||B}var F=function(w,D){var G=D.newAccess?D.newAccess.access:D.mainItemCard.access;w?D.needUpdateHandler?D.needUpdateHandler(D):m["default"].prototype.statics.getInstance().show(D):"public"===G&&"Web Map"===D.mainItemCard.type&&D.containsPremiumContent?d.showPremiumContentDlg(D):
D.dontNeedUpdateHandler&&D.dontNeedUpdateHandler(D)};c.length?l["default"](c).then(function(w){w.forEach(function(D){1<D.length&&z["default"].isDefined(D.length?D[1]:D)&&(a=a||D.length?D[1]:D)});F(a,e)}):this.isEmpty(e.itemCards)?e.dontNeedUpdateHandler&&e.dontNeedUpdateHandler(e):F(a,e)};h.isPremiumContent=function(e){e=e.typeKeywords||[];return-1<e.indexOf("Requires Subscription")||-1<e.indexOf("Requires Credits")};h.showPremiumContentDlg=function(e){var d=this;-1<document.location.href.indexOf("viewer.html")||
(e=""+y["default"].helpBase+y["default"].helpMap["120001307"],this.premiumContentDlg||(this.premiumContentDlg=new f["default"]({showCancel:!1,buttonOk:n["default"].common.ok,style:{width:"200px"}}),this.premiumContentDlg.show({message:q["default"].substitute('${i18n.shareMapDlg.premiumLayerMsg} \x3ca href\x3d"${helpLinkPremium}" target\x3d"_blank"\x3e${i18n.shareMapDlg.premiumLayerMsgLearnMore}\x3c/a\x3e',{i18n:n["default"],helpLinkPremium:e}),title:n["default"].common.premiumcontent}).then(function(a){d.premiumContentDlg.hide();
d.premiumContentDlg=null})))};h.readWebMapConfig=function(e){var d=this,a,b,c=!1,k=[],r=e.mainConfig.operationalLayers;e.mainConfig.tables&&e.mainConfig.tables.length&&(r=r.concat(e.mainConfig.tables));for(var v=r.length-1;0<=v;v--){var B=r[v];if(B.itemId)c=!0,e.itemCards[B.itemId]||k.push(this.getItemCard(B.itemId)),("ArcGISTiledMapServiceLayer"===B.layerType||"ArcGISTiledElevationServiceLayer"===B.layerType||"ArcGISSceneServiceLayer"===B.layerType)&&(null===(a=B.layers)||void 0===a?0:a.length)&&
B.layers.forEach(function(F){F.layerItemId&&!e.itemCards[F.layerItemId]&&k.push(d.getItemCard(F.layerItemId))});else if("GroupLayer"===B.layerType)for(var C=r[v],A=C.layers.length-1;0<=A;A--){var E=C.layers[A];E.itemId&&(c=!0,e.itemCards[E.itemId]||k.push(this.getItemCard(E.itemId)))}B.layers&&B.layers.forEach(function(F){F.layerItemId&&!e.itemCards[F.layerItemId]&&k.push(d.getItemCard(F.layerItemId))})}for(v=e.mainConfig.baseMap.baseMapLayers.length-1;0<=v;v--)a=e.mainConfig.baseMap.baseMapLayers[v],
a.itemId&&(c=!0,e.itemCards[a.itemId]||k.push(this.getItemCard(a.itemId)));if(e.mainConfig.baseMap.elevationLayers)for(v=e.mainConfig.baseMap.elevationLayers.length-1;0<=v;v--)a=e.mainConfig.baseMap.elevationLayers[v],a.itemId&&(c=!0,e.itemCards[a.itemId]||k.push(this.getItemCard(a.itemId)));k.length?l["default"](k).then(function(F){F.forEach(function(G){G=G.length?G[1]:G;G.id&&(e.itemCards[G.id]=G)});var w=[],D=[];F.forEach(function(G){G=G.length?G[1]:G;G.id&&("Map Service"===G.type||"Scene Service"===
G.type)&&-1<G.typeKeywords.indexOf("Hosted Service")&&!e.itemCards[G.id].data&&(w.push(d.getItemData(G.id)),D.push(G.id))});w.length?l["default"](w).then(function(G){G.forEach(function(H,M){var R=e.itemCards[D[M]];R.data=H.length?H[1]:H;var N=[];R.data.layers&&R.data.layers.forEach(function(K){K.layerItemId&&(e.itemCards[K.layerItemId]||N.push(d.getItemCard(K.layerItemId)))});N.length?l["default"](N).then(function(K){K.forEach(function(V){V=V.length?V[1]:V;V.id&&(e.itemCards[V.id]=V)});d.checkForItemSharing(e)},
function(K){d.checkForItemSharing(e)}):d.checkForItemSharing(e)},d)},function(G){d.checkForItemSharing(e)}):d.checkForItemSharing(e)},function(F){d.checkForItemSharing(e)}):c?this.checkForItemSharing(e):null===(b=e.dontNeedUpdateHandler)||void 0===b?void 0:b.call(e,e)};h.readWebAppConfig=function(e){var d=this;if(e.mainConfig.values&&e.mainConfig.values.webmap||e.mainConfig.map&&e.mainConfig.map.itemId||e.mainConfig.values&&e.mainConfig.values.webscene){var a=[];e.mainConfig&&(e.mainConfig.values?
e.mainConfig.values.webscene?a=e.mainConfig.values.webscene.split(","):e.mainConfig.values.webmap&&(a=e.mainConfig.values.webmap.split(",")):a=e.mainConfig.map&&e.mainConfig.map.itemId?[e.mainConfig.map.itemId]:[]);var b=[];a.forEach(function(c){e.itemCards[c]||b.push(d.getItemCard(c))});b.length?l["default"](b).then(function(c){c.forEach(function(k){k=k.length?k[1]:k;e.itemCards[k.id]=k});d.checkForItemSharing(e)}):this.checkForItemSharing(e)}};h.checkWebMapInWebApp=function(e,d){var a=new u["default"],
b={access:d.mainItemCard.access};d.mainItemSharing&&d.mainItemSharing.groups&&(b.groups=d.mainItemSharing.groups);this.checkWebMapContent({webMapId:e,webMapItemCard:d.itemCards[e],newAccess:b,needUpdateHandler:function(c){d.itemCards[e].webMapInfo=c;a.resolve(!0)},dontNeedUpdateHandler:function(c){a.resolve(!1)}});return a};h.getItemCard=function(e,d){var a=this;d=d||new u["default"];if("inProgress"===this.itemCards[e])setTimeout(function(){a.getItemCard(e,d)},1E3);else if(this.itemCards[e])delete this.itemCards[e].needsUpdate,
d.resolve(this.itemCards[e]);else{this.itemCards[e]="inProgress";var b=y["default"].restBaseUrl+"content/items/"+e,c=t["default"].getToken();x["default"]({url:b+(c?"?f\x3djson\x26token\x3d"+c:"?f\x3djson"),callbackParamName:"callback",load:function(k){a.itemCards[e]=k;d.resolve(k)},error:function(k){delete a.itemCards[e];d.reject(k)}},{disableIdentityLookup:!0})}return d};h.getItemData=function(e,d){var a=this,b;d=d||new u["default"];if(this.itemCards[e]&&"inProgress"===this.itemCards[e].data)setTimeout(function(){a.getItemData(e,
d)},1E3);else if(null===(b=this.itemCards[e])||void 0===b?0:b.data)d.resolve(this.itemCards[e].data);else{this.itemCards[e].data="inProgress";b=y["default"].restBaseUrl+"content/items/"+e+"/data";var c=t["default"].getToken();x["default"]({url:b+(c?"?f\x3djson\x26token\x3d"+c:"?f\x3djson"),callbackParamName:"callback",load:function(k){a.itemCards[e].data=k;d.resolve(k)},error:function(k){delete a.itemCards[e].data;d.reject(k)}},{disableIdentityLookup:!0})}return d};h.getItemSharingInfo=function(e){var d=
y["default"].restBaseUrl+"content/users/"+e.owner;e.ownerFolder&&(d+="/"+e.ownerFolder);d+="/items/"+e.id;e=t["default"].getToken();return x["default"]({url:d+(e?"?f\x3djson\x26token\x3d"+e:"?f\x3djson"),callbackParamName:"callback"},{disableIdentityLookup:!0})};h.getOwnerGroups=function(e,d){var a=this,b=new u["default"];this.ownerGroups[e.owner]?b.resolve():g["default"].getProfile(e.owner,function(c){c=(c.groups||[]).map(function(k){return k.id});a.ownerGroups[e.owner]=c;b.resolve()},function(){b.resolve()});
return b};h.itemCards=[];h.ownerGroups=[];return h}()})},"arcgisonline/sharing/dijit/dialog/ShareCheckDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/sharing/util"],function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog.ShareCheckDlg");T.require("dijit.Dialog");T.require("dijit._Widget");T.require("dijit._Templated");T.require("arcgisonline.sharing.util");T.declare("arcgisonline.sharing.dijit.dialog.ShareCheckDlg",[J._Widget,
J._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" id\x3d"shareCheck-dialog" title\x3d"${i18n.shareChecksDlgTitle}" execute\x3d""\x3e\r\n    \x3cstyle type\x3d"text/css"\x3e\r\n      .esri .dojoxGridHeader .dojoxGridCellFocus, .esri .dojoxGridHeader .dojoxGridCell {\r\n        border-bottom: 1px solid #CCC;\r\n      }\r\n    \x3c/style\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckTopMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojotype\x3d"dijit.layout.BorderContainer" design\x3d"headline" gutters\x3d"false" style\x3d"width:100%; height:120px; margin:20px 0 10px 0;"\x3e\r\n      \x3cdiv dojoType\x3d"dijit.layout.ContentPane" dojoAttachPoint\x3d"shareCheckGrid" region\x3d"top" style\x3d"height:118px;"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckBottomMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"editableLayerDiv" style\x3d"clear:both; display:none; background-color:rgba(240, 201, 206, 1); border:2px solid rgb(255, 0, 0); margin-top:10px; padding:8px;"\x3e\r\n      \x3cspan dojoAttachPoint\x3d"editableLayerMsg"\x3e\x3c/span\x3e\r\n      \x3ca dojoAttachPoint\x3d"editableLayerHelpLink" href\x3d"JavaScript:void(0);" dojoAttachEvent\x3d"onClick:onLearnHowClick"\x3e\x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing clearfix leader-1" style\x3d"padding-top:5px; padding-bottom:5px;"\x3e\r\n      \x3cbutton dojoAttachEvent\x3d"onClick:onCancelClick" dojoAttachPoint\x3d"exitButton" class\x3d"jevent cancel btn-two right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridUpdateButton" dojoAttachEvent\x3d"onClick:onUpdateClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.UpdateSharingBtn}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridOkButton" dojoAttachEvent\x3d"onClick:onCancelClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button" style\x3d"display:none;"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
grid:null,gridId:"shareCheckGridNode",oneLayerMissingDataCollection:!1,oneLayerNotMissingDataCollection:!1,oneLayerNotEditable:!1,statics:{_instance:null,getInstance:function(){this._instance&&J.byId("shareCheckGridNode")&&J.byId("shareCheckGridNode").destroy();null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.ShareCheckDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=T.i18n.getLocalization("arcgisonline","arcgisonline").common;
T.mixin(this.i18n,T.i18n.getLocalization("arcgisonline","arcgisonline").myOrganization.creditsTab);T.mixin(this.i18n,T.i18n.getLocalization("arcgisonline","arcgisonline").shareCheckDlg)},show:function(y){var t=T.hitch(this,function(x,n,h){var e=!1,d=!1;if(("public"===x||"org"===x)&&void 0!==h.ownerFolder)return{userCanUpdate:!0,hasItemWithKnownGroupDetails:e,unknownGroupDetails:d};if("shared"===x)if(void 0!==h.ownerFolder){e=!0;x=this.info.itemsSharing[g]?this.info.itemsSharing[g].groups:[];h=arcgisonline.sharing.utilShare.ownerGroups[h.owner];
for(var a=0;a<n.length;a++)if(-1===T.indexOf(x,n[a])&&(!esri.isDefined(h)||esri.isDefined(h)&&-1<T.indexOf(h,n[a])))return{userCanUpdate:!0,hasItemWithKnownGroupDetails:e,unknownGroupDetails:d}}else d=!0;return{userCanUpdate:!1,hasItemWithKnownGroupDetails:e,unknownGroupDetails:d}});this.info=y;y=!1;var m=this.info.mainItemCard.access,f="Web Scene"===this.info.mainItemCard.type,g;for(g in this.info.itemCards){var l=this.info.itemCards[g],u=this.info.mainItemSharing?this.info.mainItemSharing.groups:
[];if(!1===l.needsUpdate){if(l.webMapInfo){for(var q in l.webMapInfo.itemCards){var z=t(m,u,l.webMapInfo.itemCards[q]);y=z.userCanUpdate;0-z.unknownGroupDetails;if(y)break}if(y)break}}else if(z=t(m,u,l),y=z.userCanUpdate,0-z.unknownGroupDetails,y)break}y?(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML=this.info.webMapId?f?this.i18n.textBottomWebScene:this.i18n.textBottomWebmap:this.i18n.textBottomWebapp,
T.style(this.exitButton.domNode,"display",""),T.style(this.shareGridUpdateButton.domNode,"display",""),T.style(this.shareGridOkButton.domNode,"display","none")):(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML="",T.style(this.exitButton.domNode,"display","none"),T.style(this.shareGridUpdateButton.domNode,"display","none"),T.style(this.shareGridOkButton.domNode,"display",""));this.oneLayerMissingDataCollection=
this.oneLayerNotMissingDataCollection=this.oneLayerNotEditable=!1;this.editableLayerMsg.innerHTML="";T.style(this.editableLayerDiv,"display","none");this.checkEditableLayers();J.byId("shareCheck-dialog").show()},displayLayers:function(){var y=T.create("table",{border:"1",style:"width: 100%; height: 100%"},this.shareCheckItemsDiv),t=T.create("tbody",{},y);t=T.create("tr",{},t);T.create("span",{innerHTML:this.i18n.titleItem},T.create("td",{},t));T.create("span",{innerHTML:this.i18n.titleOwner},T.create("td",
{},t));for(var m in this.info.itemCards){var f=this.info.itemCards[m];t=T.create("tr",{},y);T.create("span",{innerHTML:f.title},T.create("td",{},t));T.create("span",{innerHTML:f.owner},T.create("td",{},t))}},checkEditableLayers:function(){var y=function(l,u){for(var q in l){var z=l[q];z&&!1!==z.needsUpdate&&"Feature Service"===z.type&&("admin"===z.itemControl||"update"===z.itemControl)&&-1<T.indexOf(z.typeKeywords,"Hosted Service")&&(u.push(arcgisonline.sharing.util.getJson(z.url+"/layers")),t.push(z))}};
if("public"===this.info.mainItemCard.access){var t=[],m=[];y(this.info.itemCards,m);for(var f in this.info.itemCards){var g=this.info.itemCards[f];g.webMapInfo&&y(g.webMapInfo.itemCards,m)}m.length?(new T.DeferredList(m)).addCallback(T.hitch(this,function(l){T.forEach(l,function(u,q){if(u[1].layers&&u[1].layers.length&&u[1].layers[0]&&-1<u[1].layers[0].capabilities.indexOf("Editing")){var z=t[q];z.isEditable=!0;this.editableLayerMsg.innerHTML="* "+this.i18n.layerIsEditable+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+
(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e";T.style(this.editableLayerDiv,"display","");-1===T.indexOf(z.typeKeywords,"Public Data Collection")?(this.oneLayerMissingDataCollection=!0,z.missingDataCollection=!0):this.oneLayerNotMissingDataCollection=!0}else this.oneLayerNotEditable=!0},this);this.oneLayerMissingDataCollection&&(this.editableLayerMsg.innerHTML=this.oneLayerNotMissingDataCollection?"* "+this.i18n.usePublicDataCollection+
"\x3c/br\x3e** "+this.i18n.layerIsEditable+"\x3c/br\x3e\x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e":"* "+this.i18n.usePublicDataCollection+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e",
T.style(this.editableLayerDiv,"display",""),this.oneLayerNotMissingDataCollection||this.oneLayerNotEditable||(this.shareCheckBottomMsg.innerHTML="",T.style(this.exitButton.domNode,"display","none"),T.style(this.shareGridUpdateButton.domNode,"display","none"),T.style(this.shareGridOkButton.domNode,"display","")));this.createGrid()})):this.createGrid()}else this.createGrid()},createGrid:function(){var y=[[{name:this.i18n.titleLayer,field:"name",width:"320px"},{name:this.i18n.titleOwner,field:"owner",
width:"320px"}]],t=[],m;for(m in this.info.itemCards){var f=this.info.itemCards[m];if(!1!==f.needsUpdate){var g=f.isEditable&&"public"===this.info.mainItemCard.access,l=f.missingDataCollection,u="";if("admin"===f.itemControl||"update"===f.itemControl)if(this.oneLayerMissingDataCollection&&this.oneLayerNotMissingDataCollection)u=l?" *":" **";else if(this.oneLayerMissingDataCollection||this.oneLayerNotMissingDataCollection)if(l||g)u=" *";t.push({id:f.id,name:f.title+u,owner:f.owner})}if(f.webMapInfo)for(var q in f.webMapInfo.itemCards)u=
f.webMapInfo.itemCards[q],g=u.isEditable&&"public"===this.info.mainItemCard.access,l=u.missingDataCollection,t.push({id:u.id,name:u.title+(this.oneLayerMissingDataCollection&&l||!this.oneLayerMissingDataCollection&&g?" *":""),owner:u.owner})}this.memory=new T.store.Memory({data:t,idProperty:"id"});this.store=new T.data.ObjectStore({objectStore:this.memory});this.grid=new p.grid.DataGrid({store:this.store,structure:y,id:this.gridId,style:{border:"1px #CCC solid"},selectionMode:"none"},T.create("div",
null,this.shareCheckGrid.domNode));this.grid.startup();J.byId("shareCheck-dialog").resize();esri.isTouchEnabled&&(this.gridScrollBox=this.grid.views.views[0].scrollboxNode,esri.setScrollable(this.gridScrollBox))},updateSharing:function(){var y=this.info.mainItemCard.access,t=[];if("public"===y||"org"===y)for(var m in this.info.itemCards){if(y=this.info.itemCards[m],void 0===y.ownerFolder||!1===y.needsUpdate||y.missingDataCollection||t.push(this.shareItemByID(y)),y.webMapInfo)for(var f in y.webMapInfo.itemCards){var g=
y.webMapInfo.itemCards[f];void 0===g.ownerFolder||y.missingDataCollection||t.push(this.shareItemByID(g))}}else{var l=this.info.mainItemSharing?this.info.mainItemSharing.groups:[];t=[];for(m in this.info.itemCards){y=this.info.itemCards[m];if(void 0!==y.ownerFolder&&!1!==y.needsUpdate){var u="",q="",z=this.info.itemsSharing[m]?this.info.itemsSharing[m].groups:[],x=arcgisonline.sharing.utilShare.ownerGroups[y.owner];T.forEach(l,function(n){-1===T.indexOf(z,n)&&(!esri.isDefined(x)||esri.isDefined(x)&&
-1<T.indexOf(x,n))&&(u+=q+n,q=",")},this);u.length&&t.push(this.shareItemByID(y,u))}if(y.webMapInfo)for(f in y.webMapInfo.itemCards)g=y.webMapInfo.itemCards[f],void 0!==g.ownerFolder&&(q=u="",z=y.webMapInfo.itemsSharing[f]?y.webMapInfo.itemsSharing[f].groups:[],x=arcgisonline.sharing.utilShare.ownerGroups[g.owner],T.forEach(l,function(n){-1===T.indexOf(z,n)&&(!esri.isDefined(x)||esri.isDefined(x)&&-1<T.indexOf(x,n))&&(u+=q+n,q=",")},this),u.length&&t.push(this.shareItemByID(g,u)))}}t.length?(new T.DeferredList(t)).addCallback(T.hitch(this,
function(n){T.forEach(n,function(h){h=h[1];h.itemId&&delete arcgisonline.sharing.utilShare.itemCards[h.itemId]});setTimeout(function(){T.publish("onShareUpdate",null);T.publish("shareCheckDlg/update")},100);this.hide()})):this.hide()},shareItemByID:function(y,t){var m=this.info.mainItemCard.access;m={everyone:"public"===m,account:"org"===m||"org"===y.access,confirmItemControl:this.info&&this.info.confirmItemControl?!0:!1};t&&(m.groups=t);var f=new T.Deferred;arcgisonline.sharing.geow.Content.shareItemByID(y,
m,T.hitch(this,function(g){f.callback(g)}),T.hitch(this,function(g){f.errback(g)}));return f},onLearnHowClick:function(){},onUpdateClick:function(){this.updateSharing()},onCancelClick:function(){this.hide()},hide:function(){this.store.close();delete this.store;delete this.memory;this.grid.destroy();delete this.grid;this.grid=this.store=this.memory=null;J.byId("shareCheck-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/RateLimiting":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/query dojo/parser dojo/ready dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ValidationTextBox dojo/Deferred dijit/Dialog dijit/form/Button dojo/json arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/ConfirmDialog dojox/validate/regexp esri/Evented dojo/text!arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D){return T("arcgisonline.sharing.dijit.dialog.RateLimiting",[d],{templateString:w,baseClass:"esriRateLimiting",buildRendering:function(){this.inherited(arguments);var G=y.doc.createDocumentFragment();this._templateDijit=new (T([d,a,b],{templateString:g.substitute(this.templateString,{i18n:D},null,this)}));this._content=z.place(this._templateDijit.domNode,G,"first");this.inherited(arguments);this.domNode.appendChild(this._content)},
postMixInProperties:function(){this.inherited(arguments);this.i18n=J.mixin(J.mixin({},D.common),D.itemProperties);this.serviceProxyParams=this.serviceProxyParams&&(this.serviceProxyParams.hitsPerInterval||this.serviceProxyParams.referrers)?this.serviceProxyParams:this.item&&this.item.serviceProxyParams||null},postCreate:function(){this.inherited(arguments);this._enableLimits=this._templateDijit._enableLimits;this._hitRate=this._templateDijit._hitRate;this._hitCount=this._templateDijit._hitCount;this._interval=
this._templateDijit._interval;this._referrerUrl=this._templateDijit._referrerUrl;this._referrers=this._templateDijit._referrers;this._addBtn=this._templateDijit._addBtn;this._delBtn=this._templateDijit._delBtn;this._loadConnections();this.set("value",this.serviceProxyParams)},destroy:function(){this._templateDijit.destroyRecursive();this._templateDijit=null;this.inherited(arguments)},_loadConnections:function(){this.own(l(this._enableLimits,"change",J.hitch(this,function(G){this._hitRate.set("disabled",
!0!==G);this._hitCount.set("disabled",!0!==G);this._interval.set("disabled",!0!==G);x(".canDisable")[!0!==G?"addClass":"removeClass"]("disabled");t[!0!==G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")})),l(this._addBtn,"click",J.hitch(this,function(){this._referrerUrl.isValid()&&(this._addReferralUrl(this._referrerUrl.get("value").split(/[ ,]+/)),this._referrerUrl.set("value",""))})),l(this._delBtn,"click",J.hitch(this,function(){this._referrers.getSelected().orphan();this._delBtn.set("disabled",
!this._referrers.getSelected().length)})),l(this._referrers,"blur, click",J.hitch(this,function(){this._delBtn.set("disabled",!this._referrers.getSelected().length)})))},_setDisabledAttr:function(G){var H=e.findWidgets(this.domNode).concat(e.findWidgets(this._content));p.forEach(H,function(M){M.set("disabled",G)});t[G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_addReferralUrl:function(G){var H;p.forEach(G,J.hitch(this,function(M){M&&((H=x("option",this._referrers.containerNode).some(function(R){return R.value.toLowerCase()===
M.toLowerCase()}))||this._referrers.containerNode.appendChild(z.create("option",{value:M,innerHTML:M})))}))},isValid:function(){return this._enableLimits.get("checked")&&!this._hitRate.isValid()?D.rateLimiting.errors.invalidHitRate:!0},_setValueAttr:function(G){this.serviceProxyParams=G;this._enableLimits.set("value",null);G&&(G.hitsPerInterval&&(this._hitRate.set("value",G.hitsPerInterval),this._interval.set("value",G.intervalSeconds),this._enableLimits.set("value","true"),this._extractUnits(G.intervalSeconds)),
this._addReferralUrl(G.referrers))},_extractUnits:function(G){var H=this._interval.options,M=parseInt(G,10);G=1;(H=p.filter(H,function(R){return 0===M%parseInt(R.value,10)}))&&H.length&&(G=H[H.length-1].value,this._interval.set("value",G),this._hitCount.set("value",Math.floor(M/parseInt(G,10))))},_getValueAttr:function(){var G={},H=[];x("option",this._referrers.containerNode).forEach(function(M){H.push(M.value)});this._enableLimits.get("checked")&&(G.hitsPerInterval=parseInt(this._hitRate.get("value"),
10),G.intervalSeconds=parseInt(this._hitCount.get("value"),10)*parseInt(this._interval.get("value"),10));H&&H.length&&(G.referrers=H);return G},showModal:function(G){var H=new k,M=new r({}),R=this.item.folderId,N=y.doc.createDocumentFragment(),K=z.place(this.domNode,N),V=z.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons"},K);K=new v({"class":"calcite cancel right btn-two",label:this.i18n.cancel,type:"button"},z.create("button",{},V));V=new v({"class":"calcite primary right",label:this.i18n.ok,
type:"button"},z.create("button",{},V));this.own(l(V,"click",J.hitch(this,function(){this.set("disabled",!0);var Z=esriGeowConfig.restBaseUrl+"content/users/"+this.item.owner+"/"+(R?R+"/":"")+"items/"+this.item.id,ca=this.isValid();if(!0!==ca)this._showError(ca),this.set("disabled",!1);else{var ea=this.get("value");return C.request({url:Z+"/update",content:{serviceProxyParams:B.stringify(ea)}},{usePost:!0}).then(J.hitch(this,function(){this.item.serviceProxyParams=ea;M.hide()}),J.hitch(this,function(ka){this._showError(ka);
this.set("disabled",!1)}))}})),l(K,"click",J.hitch(this,function(){M.hide()})),l(M,"hide",J.hitch(this,function(){M.destroyRecursive();H.resolve(this.item)})));M.set("title",G&&G.title||this.i18n.rateLimitingTitle);M.setContent(N);M.show();return H},_showError:function(G){G=G.error||G||this.i18n.errors.error;G.code=G.messageCode||G.code;G=this.i18n.errors[G.code]||G||this.i18n.errors.error;G.details=G.details&&J.isArray(G.details)&&G.details.length?p.filter(G.details,"return item !\x3d\x3d null"):
null;if(G.details&&G.details.length){var H="\x3cul\x3e";p.forEach(G.details,function(R){H+="\x3cli\x3e"+R+"\x3c/li\x3e"});H+="\x3c/ul\x3e\x3cbr/\x3e";G.message=G.message?"\x3cdiv\x3e"+G.message+"\x3c/div\x3e\x3cbr/\x3e"+H:H}if(G.message&&-1===G.message.indexOf("Request canceled")){G=J.mixin(J.mixin({hideCancel:!0},this.i18n.errors.error),G);var M=new A({});return M.show(G).then(J.hitch(this,function(){M.hide().then(dojo.hitch(this,function(){this.set("disabled",!1)}))}))}}})})},"dojox/validate/regexp":function(){define(["dojo/_base/lang",
"dojo/regexp","dojox/main"],function(T,J,p){var y=T.getObject("validate.regexp",!0,p);return y=p.validate.regexp={ipAddress:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowDottedDecimal&&(t.allowDottedDecimal=!0);"boolean"!=typeof t.allowDottedHex&&(t.allowDottedHex=!0);"boolean"!=typeof t.allowDottedOctal&&(t.allowDottedOctal=!0);"boolean"!=typeof t.allowDecimal&&(t.allowDecimal=!0);"boolean"!=typeof t.allowHex&&(t.allowHex=!0);"boolean"!=typeof t.allowIPv6&&(t.allowIPv6=!0);"boolean"!=
typeof t.allowHybrid&&(t.allowHybrid=!0);var m=[];t.allowDottedDecimal&&m.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");t.allowDottedHex&&m.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");t.allowDottedOctal&&m.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");t.allowDecimal&&m.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
t.allowHex&&m.push("0[xX]0*[\\da-fA-F]{1,8}");t.allowIPv6&&m.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");t.allowHybrid&&m.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");t="";0<m.length&&(t="("+m.join("|")+")");return t},host:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowIP&&(t.allowIP=!0);"boolean"!=typeof t.allowLocal&&(t.allowLocal=!1);"boolean"!=typeof t.allowPort&&(t.allowPort=!0);"boolean"!=typeof t.allowNamed&&
(t.allowNamed=!1);var m=t.allowPort?"(\\:\\d+)?":"",f="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.?)";t.allowIP&&(f+="|"+y.ipAddress(t));t.allowLocal&&(f+="|localhost");t.allowNamed&&(f+="|^[^-][a-zA-Z0-9_-]*");return"("+f+")"+m},url:function(t){t="object"==typeof t?t:{};"scheme"in t||(t.scheme=[!0,!1]);return J.buildGroupRE(t.scheme,function(m){return m?"(https?|ftps?)\\://":""})+y.host(t)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowCruft&&(t.allowCruft=!1);t.allowPort=!1;var m="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+y.host(t);t.allowCruft&&(m="\x3c?(mailto\\:)?"+m+"\x3e?");return m},emailAddressList:function(t){t="object"==typeof t?t:{};"string"!=typeof t.listSeparator&&(t.listSeparator="\\s;,");var m=y.emailAddress(t);return"("+m+"\\s*["+t.listSeparator+"]\\s*)*"+m+"\\s*["+t.listSeparator+"]?\\s*"},numberFormat:function(t){t=
"object"==typeof t?t:{};"undefined"==typeof t.format&&(t.format="###-###-####");return J.buildGroupRE(t.format,function(m){return J.escapeString(m,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(t){t="object"==typeof t?t:{};"boolean"!=typeof t.allowTerritories&&(t.allowTerritories=!0);"boolean"!=typeof t.allowMilitary&&(t.allowMilitary=!0);
var m="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";t.allowTerritories&&(m+="|AS|FM|GU|MH|MP|PW|PR|VI");t.allowMilitary&&(m+="|AA|AE|AP");return"("+m+")"}}}})},"arcgisonline/sharing/dijit/dialog/LayerTimeSettings":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/query dojo/on dojo/json dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Dialog dijit/form/CheckBox dijit/form/RadioButton dijit/form/Select dijit/form/Button dojo/Deferred arcgisonline/sharing/util ../../../pages/serviceUtil arcgisonline/sharing/dijit/dialog/ConfirmDialog esri/Evented dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A){return T("arcgisonline.sharing.dijit.dialog.LayerTimeSettings",[z,C],{baseClass:"esriLayerTimeSettings",postMixInProperties:function(){this.inherited(arguments);this.i18n=J.mixin({},A.common);this.i18n=J.mixin(this.i18n,A.layerTimeSettings);this.portal=this.item&&this.item.portal||{};this._isPortal=r.isPortal()},buildRendering:function(){var E=document.createDocumentFragment();t.create("p",{innerHTML:this.i18n.header},E);this._enableTimeChk=
new d({checked:!1,name:"enableTimeCheckbox"});E.appendChild(this._enableTimeChk.domNode);t.create("label",{"for":"enableTimeCheckbox","class":"esriLeadingMargin1 inline-block trailer-half",innerHTML:this.i18n.enableTimeLbl},E);t.create("br",{},E);t.create("p",{innerHTML:this.i18n.fieldsetLbl,"class":"trailer-half"},E);this._fieldSet=t.create("fieldset",{"class":"esriLeadingMargin2 padding-left-1 trailer-half fieldset-checkbox"},E);this._timeEventsRdio=new a({name:"times",checked:!0},t.create("input",
{},this._fieldSet));t.create("label",{"for":"timeEvents","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeEventsLbl},this._fieldSet);t.create("br",{},this._fieldSet);this._timeEventsDiv=t.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);t.create("label",{"for":"timeEventsSelect","class":"esriFloatLeading timeEvent",innerHTML:this.i18n.timeFieldLbl},this._timeEventsDiv);this._timeEventsSelect=new b({maxHeight:200,name:"timeEventsSelect"},t.create("select",{},this._timeEventsDiv));
t.create("br",{},this._fieldSet);this._timeRangesRdio=new a({name:"times","class":"timeRangeRdio"},t.create("input",{},this._fieldSet));t.create("label",{"for":"timeRanges","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeRangesLbl},this._fieldSet);t.create("br",{},this._fieldSet);this._timeRangesDiv=t.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);t.create("label",{"for":"startTimeSelect","class":"esriFloatLeading timeRange",innerHTML:this.i18n.startTimeLbl},this._timeRangesDiv);
this._startTimeSelect=new b({maxHeight:200,name:"startTimeSelect","class":"timeRange",disabled:!0},t.create("select",{},this._timeRangesDiv));t.create("br",{},this._timeRangesDiv);t.create("label",{"for":"endTimeSelect","class":"esriFloatLeading timeRange leader-half",innerHTML:this.i18n.endTimeLbl},this._timeRangesDiv);this._endTimeSelect=new b({maxHeight:200,name:"endTimeSelect","class":"timeRange",disabled:!0},t.create("select",{},this._timeRangesDiv));t.create("br",{},this._timeRangesDiv);this.inherited(arguments);
this.domNode.appendChild(E)},postCreate:function(){this.timeInfo=this.get("timeInfo");this.fields=this.get("dateFields");this._loadConnects();this._loadLayerFields();this._loadTimeInfo()},_loadConnects:function(){this.own(u(this._timeRangesRdio,"change",J.hitch(this,function(E){p.forEach(h.findWidgets(this._timeRangesDiv),function(F){F.set("disabled",!E)})})),u(this._timeEventsRdio,"change",J.hitch(this,function(E){this.options&&1<this.options.length&&p.forEach(h.findWidgets(this._timeEventsDiv),
function(F){F.set("disabled",!E)})})),u(this._enableTimeChk,"change",J.hitch(this,function(E){var F=this.options&&1<this.options.length;p.forEach(h.findWidgets(this._fieldSet),function(w){E=!F&&-1<w["class"].indexOf("timeRange")?!1:E;w.set("disabled",!E)});this[this._timeRangesRdio.get("checked")?"_timeEventsRdio":"_timeRangesRdio"].onChange(!1)})))},_getValueAttr:function(){return this._enableTimeChk.get("checked")?this._timeEventsRdio.get("checked")?{timeInfo:{startTimeField:this._timeEventsSelect.get("value")}}:
{timeInfo:{startTimeField:this._startTimeSelect.get("value"),endTimeField:this._endTimeSelect.get("value")}}:{timeInfo:this._isPortal?null:{}}},_setDisabledAttr:function(E){p.forEach(h.findWidgets(this.domNode),function(F){F.set("disabled",E)});dojo.query(".js-timeOptions-btn").map(dijit.byNode).forEach(function(F){F.set("disabled",E)});dojo.query(".js-timeOptions-msg")[E?"removeClass":"addClass"]("hide")},_getTimeInfoAttr:function(){var E=this.layer;return this.timeInfo||E.timeInfo||{}},_getDateFieldsAttr:function(){return v.getDateFields(this.layer)},
_loadLayerFields:function(){this.options=p.map(this.fields,J.hitch(this,function(E){return{label:E.alias||E.name,value:E.name}}));this._timeEventsSelect.set("options",this.options);this._timeEventsSelect.set("value",this.options[0].value);this.options&&1<this.options.length&&(this._startTimeSelect.set("options",J.clone(this.options)),this._startTimeSelect.set("value",this.options[0].value),this._endTimeSelect.set("options",J.clone(this.options)),this._endTimeSelect.set("value",this.options[1].value))},
_loadTimeInfo:function(){var E=this.timeInfo||{};this._enableTimeChk.set("checked",E.startTimeField);this._timeEventsSelect.set("value",E.startTimeField);this._startTimeSelect.set("value",E.startTimeField);this._endTimeSelect.set("value",E.endTimeField||this._endTimeSelect.get("value"));this._timeRangesRdio.set("checked",this.timeInfo.startTimeField&&this.timeInfo.endTimeField);this._timeEventsRdio.set("checked",!this.timeInfo.endTimeField)},showModal:function(E){var F=new k,w=new e({style:{width:"450px"}}),
D=y.doc.createDocumentFragment();t.place(this.domNode,D);var G=t.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons right"},D);t.create("span",{"class":"hide margin-right-half js-timeOptions-msg",innerHTML:A.timeSettingsDlg.statusMsg},G);var H=new c({"class":"calcite primary js-timeOptions-btn",label:this.i18n.ok,type:"button"},t.create("button",{},G));G=new c({"class":"calcite cancel js-timeOptions-btn",label:this.i18n.cancel,type:"button"},t.create("button",{},G));this.own(u(G,"click",
J.hitch(this,function(){w.hide()})),u(w,"hide",J.hitch(this,function(){w.destroyRecursive();F.resolve(this.item)})),u(H,"click",J.hitch(this,function(){this.set("disabled",!0);var M=this.get("value"),R={updateDefinition:q.stringify(M)},N=(this.item.adminUrl||this.item.url.replace("/rest/","/rest/admin/"))+"/"+this.layer.id+"/updateDefinition";M.timeInfo&&M.timeInfo.startTimeField&&M.timeInfo.startTimeField===M.timeInfo.endTimeField?(this.set("disabled",!1),this._showError(A.itemProperties.error.sameTimeField)):
r.request({url:N,content:R},{usePost:!0}).then(J.hitch(this,function(K){this.item.set("maxAgeCheck",!0);this.layer=J.mixin(this.layer,M);w.hide();F.resolve(M)}),J.hitch(this,function(K){this.set("disabled",!1);return this._showError(K)}))})));w.set("title",E&&E.title||A.timeSettingsDlg.timeSettingsDlgTitle);w.setContent(D);w.show();return F},_showError:function(E){E=E&&E.error||E||this.i18n.errors.genericError;E.code=E.messageCode||E.code;E=this.i18n.errors[E.code]||E||this.i18n.errors.error;E.details=
E.details&&J.isArray(E.details)&&E.details.length?p.filter(E.details,"return item !\x3d\x3d null"):null;if(E.details&&E.details.length){var F="\x3cul\x3e";p.forEach(E.details,function(D){F+="\x3cli\x3e"+D+"\x3c/li\x3e"});F+="\x3c/ul\x3e\x3cbr/\x3e";E.message=E.message?"\x3cdiv\x3e"+E.message+"\x3c/div\x3e\x3cbr/\x3e"+F:F}if(E.message&&-1===E.message.indexOf("Request canceled")){E=J.mixin(J.mixin({hideCancel:!0},this.i18n.errors.error),E);var w=new B({});return w.show(E).then(J.hitch(this,function(){w.hide().then(dojo.hitch(this,
function(){this.set("disabled",!1)}))}))}}})})},"arcgisonline/sharing/dijit/dialog/UpdateItemDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/form/SimpleTextarea,dijit/form/TextBox,dijit/form/CheckBox,dijit/form/Button,dijit/InlineEditBox,dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/pages/pageUtil,arcgisonline/pages/utils/dom,arcgisonline/pages/dijit/UploadProgressBar,arcgisonline/sharing/util,arcgisonline/sharing/geow/Community,arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Item,arcgisonline/sharing/dijit/dialog/GeneralDlg,arcgisonline/sharing/dijit/dialog/TagsDlg,dojo/promise/all,dojo/number"],
function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog.UpdateItemDlg");T.require("dijit.form.SimpleTextarea");T.require("dijit.form.TextBox");T.require("dijit.form.CheckBox");T.require("dijit.form.Button");T.require("dijit.InlineEditBox");T.require("dijit.Dialog");T.require("dijit._Widget");T.require("dijit._Templated");T.require("arcgisonline.pages.pageUtil");T.require("arcgisonline.pages.utils.dom");T.require("arcgisonline.pages.dijit.UploadProgressBar");T.require("arcgisonline.sharing.util");
T.require("arcgisonline.sharing.geow.Community");T.require("arcgisonline.sharing.geow.Content");T.require("arcgisonline.sharing.geow.Item");T.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");T.require("arcgisonline.sharing.dijit.dialog.TagsDlg");T.require("dojo.promise.all");T.require("dojo.number");T.declare("arcgisonline.sharing.dijit.dialog.UpdateItemDlg",[J._Widget,J._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,
itemAPI:arcgisonline.sharing.geow.Item,pageUtil:arcgisonline.pages.pageUtil,domUtil:arcgisonline.pages.utils.dom,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_updateItemDialog" title\x3d"${i18n.updateItem}" dojoAttachEvent\x3d"hide:clear" execute\x3d"" class\x3d"update-item-dlg"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_errorDiv"\x3e\x3c/div\x3e\r\n    \x3cform dojoAttachPoint\x3d"_updateItemForm" enctype\x3d"multipart/form-data"\x3e\r\n      \x3cdiv dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemFolderInput" type\x3d"hidden" value\x3d"0"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"id" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemIdInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"name" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemNameInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"title" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTitleInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"tags" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTagsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"type" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTypeInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"typeKeywords" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemKeywordsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"description" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateDescriptionInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"snippet" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateSnippetInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"accessInformation" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateAccessInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"licenseInfo" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateLicenseInfoInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"extent" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateExtentInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"overwrite" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateOverwriteInput" type\x3d"hidden" value\x3d"true"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"async" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" dojoAttachPoint\x3d"_updateAsyncInput" value\x3d"true"\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv\x3e\x3clabel class\x3d"font-size--1" dojoAttachPoint\x3d"_replaceUpdateVerLabel"\x3e${i18n.replaceUpdatedVersionMsg}\x3c/label\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3clabel class\x3d"esriFloatLeading esriTrailingMargin2" style\x3d"margin-top:6px;" for\x3d"update-item-file"\x3e${i18n.itemLabel}\x3c/label\x3e\r\n        \x3cinput type\x3d"file" dojoAttachPoint\x3d"_updateItemFile" id\x3d"update-item-file" name\x3d"file" size\x3d"40" class\x3d"esriFileInput"\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"overwrite_section" class\x3d"hide" style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3cinput id\x3d"overwriteService" type\x3d"checkbox" name\x3d"overwriteService" dojotype\x3d"dijit.form.CheckBox" checked\x3d"checked" dojoAttachPoint\x3d"_overwriteService"/\x3e\r\n        \x3clabel id\x3d"overwriteServiceLbl" for\x3d"overwriteService"\x3e${i18n.overwriteService} ${i18n.keepFieldsSame}\x3c/label\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"update-item-keepdescription" style\x3d"width:100%;display:none;"\x3e\r\n        \x3cdiv style\x3d"padding-bottom:5px; padding-top:2px;"\x3e\r\n          \x3clabel\x3e${i18n.updateItemDescription}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"line-height:23px"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" checked\x3d"checked" dojoAttachPoint\x3d"_useDescKeepRadio" id\x3d"useDescription:keep"/\x3e\r\n          \x3clabel for\x3d"useDescription:keep"\x3e${i18n.keepExistingProperties}\x3c/label\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" dojoAttachPoint\x3d"_useDescUpdateRadio" id\x3d"useDescription:update"/\x3e\r\n          \x3clabel for\x3d"useDescription:update"\x3e${i18n.useUploadedProperties}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"leader-half trailer-half flex"\x3e\r\n        \x3cdiv class\x3d"flex flex-1"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_waitingSpan" class\x3d"hide flex-column-justify-center"\x3e${i18n.uploadingItem}\x3c/span\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_uploadProgressBar"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:_handleCancel" dojoAttachPoint\x3d"_cancelBtn" id\x3d"button_update-item-cancel" class\x3d"jevent cancel margin-right-half" type\x3d"cancel"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3cbutton id\x3d"button_update-item" type\x3d"button" dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:uploadItem" class\x3d"primary" dojoAttachPoint\x3d"_updateItemBtn"\x3e${i18n.updateItem}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
item:null,admin:null,i18n:null,_replaceUpdateVerLabel:null,_updateItemDialog:null,_updateItemForm:null,_updateItemBtn:null,_cancelBtn:null,_waitingSpan:null,_useDescUpdateRadio:null,_useDescKeepRadio:null,_updateItemFile:null,_errorDiv:null,_updateItemFolderInput:null,_updateItemIdInput:null,_updateItemNameInput:null,_updateItemTitleInout:null,_updateItemTagsInput:null,_updateItemTypeInput:null,_updateItemKeywordsInput:null,_updateDescriptonInput:null,_updateSnippetInput:null,_updateAccessInput:null,
_updateLicenseInfoInput:null,_updateExtentInput:null,_updateOverwriteInput:null,_updateAsyncInput:null,statics:{_instance:null,getInstance:function(){null===this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.UpdateItemDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=T.i18n.getLocalization("arcgisonline","arcgisonline").common;T.mixin(this.i18n,T.i18n.getLocalization("arcgisonline","arcgisonline").updateItemDlg);T.mixin(this.i18n,{updating:T.i18n.getLocalization("arcgisonline",
"arcgisonline").addItemFrm.updating})},postCreate:function(){},show:function(y,t){var m={Shapefile:1,"File Geodatabase":1,GeoJson:1,CSV:1,"Microsoft Excel":1},f=y&&y.publishParameters&&"address"===y.publishParameters.locationType;this.item=y;t&&null!==this.adminUser&&(this.admin=t);"Layer Package"==y.type&&T.style(T.byId("update-item-keepdescription"),"display","block");"Vector Tile Service"===y.type?(T.attr(this._replaceUpdateVerLabel,"innerHTML",this.i18n.overwriteStyle),this._updateItemDialog.set("title",
this.i18n.updateStyle),this._updateItemBtn.set("label",this.i18n.updateStyle)):(this.itemName=this.item.sourceData&&this.item.sourceData.name||this.item.name,T.attr(this._replaceUpdateVerLabel,"innerHTML",T.string.substitute(this.i18n.replaceUpdatedVersionMsg,[this.itemName])));y&&y.type in m&&y.relatedService?this._overwriteService.set("checked",!1):y&&y.sourceData?(this._updateItemDialog.set("title",this.i18n.updateFeatures),this._updateItemBtn.set("label",this.i18n.updateFeatures),m=T.string.substitute(f?
this.i18n.overwriteServiceWithCreditsMsg:this.i18n.overwriteServiceMsg,[y.title,y.sourceData.name]),T.attr(this._replaceUpdateVerLabel,"innerHTML",m)):this._overwriteService.set("checked",!1);y&&y.sourceData&&(esri.hide(this._overwriteService.domNode),T.attr("overwriteServiceLbl","innerHTML",this.i18n.keepFieldsSame),T.removeClass("overwrite_section","hide"));this._updateItemDialog.show();this._uploadProgressBar=new arcgisonline.pages.dijit.UploadProgressBar({},this._uploadProgressBar);this._uploadProgressBar.startup();
this._uploadProgressBar.hide()},clear:function(){this._updateItemFile.value="";this._useDescKeepRadio.set("checked",!0);this._useDescUpdateRadio.set("checked",!1);this._overwriteService.set("checked",!0)},_handleCancel:function(y){y.preventDefault();this._updateItemDialog.hide()},hide:function(){this._disable(!1);this._updateItemDialog.hide()},uploadItem:function(y){y.preventDefault();if(0===this._updateItemFile.value.length)return arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.errorLabel,
message:this.i18n.error.providePath}),!1;y=this._fetchItem(this.item).then(T.hitch(this,"loadFile"));if(this.item.sourceData||this.item.relatedService&&this._overwriteService.get("checked"))T.attr(this._waitingSpan,"innerHTML",this.i18n.updating),y=y.then(T.hitch(this,"_updateServiceData",this.item.sourceData||this.item)).then(T.hitch(this,"_resetServiceTitle",this.item));return y.then(T.hitch(this,function(t){t&&!t.success&&t.error&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:t.error.message||this.i18n.error.errorWhileUpdate});t&&t.serviceItemId?(this._disable(!1),this._updateItemDialog.hide(),window.location="item.html?id\x3d"+t.serviceItemId+(t.jobId?"\x26jobid\x3d"+t.jobId:"")):T.publish("itemData/update",[""]);return!0}),T.hitch(this,function(t){T.isObject(t)&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,message:t.message||this.i18n.error.errorWhileUpdate});this._disable(!1)}))},_updateServiceData:function(y){var t=
new T.Deferred;this._checkStatus(y,500,T.hitch(this,function(m){var f=esriGeowConfig.restBaseUrl+"content/users/"+m.owner+"/publish",g,l,u={itemid:m.id,filetype:{"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel"}[m.type.toLowerCase()],overwrite:!0,publishParameters:T.json.stringify({name:this.item.title?this.item.title.replace(/ /g,"_"):m.title.replace(/ /g,"_")})};T.attr(this._waitingSpan,"innerHTML",this.i18n.updating);T.promise.all([this._fetchPublishParameters(this.item),
this._fetchServiceInfo(this.item.relatedService||this.item)]).then(T.hitch(this,function(q){g=q[1];(l=q[0])&&"CSV"===m.type?(q=T.mixin(T.mixin({},g.layers&&g.layers[0]),{fields:l.layerInfo.fields}),u.publishParameters=T.mixin(l,{layerInfo:q,name:l.name||m.title.replace(/ /g,"_")})):l&&"Microsoft Excel"===m.type?(u.publishParameters=this._generateExcelOverwritePublishParameters(l,g),g=null):u.publishParameters={name:m.title?m.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};u.publishParameters=
g?T.json.stringify(T.mixin(u.publishParameters,g)):u.publishParameters;return this.util.request({url:f,content:u},{usePost:!0}).then(T.hitch(this,function(z){t.resolve(z&&z.services&&z.services[0]||{serviceItemId:m.id})}),T.hitch(this,function(z){t.reject(z)}))}))}));return t},_generateExcelOverwritePublishParameters:function(y,t){t.name=y.name;t.sourceSR=y.sourceSR;t.targetSR=y.targetSR;for(var m=0;m<t.tables.length;m++)"Review"!=t.tables[m].name&&(t.layers[t.layers.length]=t.tables[m]);for(m=0;m<
t.layers.length;m++)t.layers[m].excelSheetId=y.layers[m].excelSheetId,t.layers[m].locationType=y.layers[m].locationType,t.layers[m].latitudeFieldName=y.layers[m].latitudeFieldName,t.layers[m].longitudeFieldName=y.layers[m].longitudeFieldName,t.layers[m].geocodeServiceUrl=y.layers[m].geocodeServiceUrl,t.layers[m].sourceLocale=y.layers[m].sourceLocale,t.layers[m].sourceCountry=y.layers[m].sourceCountry,t.layers[m].standardizedFieldNames=y.layers[m].standardizedFieldNames,t.layers[m].addressFields=y.layers[m].addressFields;
return JSON.stringify(t)},_resetServiceTitle:function(y,t){var m=new T.Deferred,f=this.util.getUser(),g=y.title||"",l=y.folderId||y.ownerFolder;f=esriGeowConfig.restBaseUrl+"content/users/"+(y.owner||f.username)+"/"+(l?l+"/":"")+"items/"+y.id+"/update";g=-1!==y.typeKeywords.indexOf("Involved Lookup")?{title:g,typeKeywords:y.typeKeywords.toString()+",showUnmatchedAddresses"}:{title:g};this.util.request({url:f,content:g},{usePost:!0}).then(T.hitch(this,function(){m.resolve(t)}),T.hitch(this,function(){m.resolve(t)}));
return m},_fetchServiceInfo:function(y){y=y.url;var t={addToken:(this.util.isHostedService(y)||this.util.isAgolService(y))&&!1!==esriGeowConfig.isMultiTenant},m=new T.Deferred,f;T.promise.all([this.util.request({url:y},t),this.util.request({url:y+"/layers"},t)]).then(T.hitch(this,function(g){var l={},u=g&&1<g.length&&g[1],q=u&&u.layers;u=u&&u.tables;q&&q.length&&(T.forEach(q,function(z){delete z.fields}),l.layers=q);u&&u.length&&(l.tables=u);f=T.mixin(g[0],l);m.resolve(f)}));return m},_fetchPublishParameters:function(y){var t=
esriGeowConfig.restBaseUrl+"content/items/"+y.id+"/info/publishParameters.json";y.publishParameters?(t=new T.Deferred,t.resolve(y.publishParameters)):!y.sourceData||"CSV"!==y.sourceData.type&&"Microsoft Excel"!==y.sourceData.type?(t=new T.Deferred,t.resolve(!1)):t=this.util.request({url:t}).then(T.hitch(this,function(m){return m}));return t},_fetchItem:function(y){if(y.sourceData)var t=this.util.request({url:esriGeowConfig.restBaseUrl+"content/items/"+y.sourceData.id}).then(T.hitch(this,function(m){m.folderId=
m.ownerFolder;return m}));else t=new T.Deferred,t.resolve(y);return t},loadFile:function(y){var t=new T.Deferred,m=this._updateItemFile.value,f=m.lastIndexOf("\\"),g=y.type;-1<f&&(m=m.substring(f+1,m.length));m=m.replace(/ /g,"_");if("Vector Tile Service"!==y.type&&this.itemName!=m)return y=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),y.show({title:this.i18n.errorLabel,message:T.string.substitute(this.i18n.error.sameFileName,[this.itemName])}),this._updateItemFile.value=
"",t.reject(!0),t;if("Vector Tile Service"===y.type){f=/(?:\.([^.]+))?$/;var l=m.replace(/^.*(\\|\/|:)/,"");if("json"!==(m?f.exec(l)[1].toLowerCase():""))return y=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),y.show({title:this.i18n.errorLabel,message:this.i18n.error.invalidStyleFileExtension}),this._updateItemFile.value="",t.reject(!0),t}this._disable(!0);m=!0;"Layer Package"==g&&(m=T.byId("useDescription:keep").checked);this._updateItemNameInput.set("value",this.itemName);
this._updateItemTitleInput.set("value",y.title);this._updateItemTagsInput.set("value",y.tags);this._updateItemTypeInput.set("value",g);this._updateItemKeywordsInput.set("value",y.typeKeywords);this._updateAccessInput.set("value",y.accessInformation);this._updateLicenseInfoInput.set("value",y.licenseInfo);this._updateItemFolderInput.set("value",y.folderId);m?(this._updateDescriptionInput.set("value",y.description),this._updateSnippetInput.set("value",y.snippet),this._updateExtentInput.set("value",
y.extent)):(this._updateDescriptionInput.set("value",""),this._updateSnippetInput.set("value",""),this._updateExtentInput.set("value",""));var u=function(q,z){if(!q.success||"completed"!==q.status&&q.status){var x=this.i18n.error.errorWhileUpdate;q&&q.error&&q.error.message&&(x=q.error.message);-1<x.indexOf("The request size is greater than the max allowed of 1024MB")&&(x=this.i18n.error.exceedFileSizeLimit);arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:x});t.reject(!0)}else t.resolve(!0)};g=function(q){this._disable(!1);t.reject(q)};y&&"Vector Tile Service"===y.type?this._updateItemResource(y,this._updateItemForm).then(T.hitch(this,u),T.hitch(this,g)):(this._uploadProgressBar.reset(),this._uploadProgressBar.show(),this.itemAPI.update.call(this.itemAPI,y,this._updateItemForm,this._updateItemFile.files[0]).then(function(q){this._uploadProgressBar.hide();u(q)}.bind(this),g.bind(this)));return t},_updateItemResource:function(y,t){var m=this.util.getUser(),
f=y.folderId||y.ownerFolder;m={url:esriGeowConfig.restBaseUrl+"content/users/"+(y.owner||m.username)+"/"+(f?f+"/":"")+"/items/"+y.id+"/updateResources",form:t,content:{resourcesPrefix:"styles",filename:"root.json"}};T.query("input",t).forEach(T.hitch(this,function(g){g&&"file"!==g.name&&T.attr(g,"name","")}));return this.util.request(m,{usePost:!0}).then(T.hitch(this,function(g){return g}),T.hitch(this,function(g){throw{message:this.i18n.error.invalidStyleFile};}))},_checkStatus:function(y,t,m){this.util.request({url:esriGeowConfig.restBaseUrl+
"content/users/"+y.owner+(y.ownerFolder&&"/"!==y.ownerFolder?"/"+y.ownerFolder:"")+"/items/"+y.id+"/status"}).then(T.hitch(this,function(f){f=f||{status:"failed"};"completed"===f.status?m(y):(t=(t||500)+250,setTimeout(T.hitch(this,function(){this._checkStatus(y,t,m)}),t))}))},_disable:function(y){this._updateItemBtn.set("disabled",y);this._cancelBtn.set("disabled",y);this.domUtil.showHide(this._waitingSpan,y);T.style(this._waitingSpan,"display",y?"inline-block":"none")}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare",
"dojo/dom-class","dojo/sniff","./TextBox"],function(T,J,p,y){return T("dijit.form.SimpleTextarea",y,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);p("ie")&&this.cols&&
J.add(this.textbox,"dijitTextAreaCols")},filter:function(t){t&&(t=t.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(t){if(this.maxLength){var m=parseInt(this.maxLength),f=this.textbox.value.replace(/\r/g,"");m=f.length-m;if(0<m){var g=this.textbox;if(g.selectionStart){var l=g.selectionStart,u=0;p("opera")&&(u=(this.textbox.value.substring(0,l).match(/\r/g)||[]).length);this.textbox.value=f.substring(0,l-m-u)+f.substring(l-u);g.setSelectionRange(l-m,l-m)}else this.ownerDocument.selection&&
(g.focus(),f=this.ownerDocument.selection.createRange(),f.moveStart("character",-m),f.text="",f.select())}}this.inherited(arguments)}})})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C){b=y("dijit._InlineEditor",[a,b,c],{templateString:C,contextRequire:T,postMixInProperties:function(){this.inherited(arguments);this.messages=l.getLocalization("dijit","common",this.lang);J.forEach(["buttonSave","buttonCancel"],function(A){this[A]||(this[A]=this.messages[A])},this)},buildRendering:function(){this.inherited(arguments);var A="string"==typeof this.editor?z.getObject(this.editor)||T(this.editor):this.editor,E=this.sourceStyle,
F="line-height:"+E.lineHeight+";",w=g.getComputedStyle(this.domNode);J.forEach(["Weight","Family","Size","Style"],function(G){w["font"+G]!=E["font"+G]&&(F+="font-"+G+":"+E["font"+G]+";")},this);J.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(G){this.domNode.style[G]=E[G]},this);var D=this.inlineEditBox.width;"100%"==D?(F+="width:100%;",this.domNode.style.display="block"):F+="width:"+(D+(Number(D)==D?"px":""))+";";D=z.delegate(this.inlineEditBox.editorParams,
{style:F,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new A(D,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,f.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var A=this.editWidget;this.inlineEditBox.autoSave?this.own(p.after(A,"onChange",z.hitch(this,"_onChange"),!0),x(A,"keydown",z.hitch(this,"_onKeyDown"))):"intermediateChanges"in A&&(A.set("intermediateChanges",
!0),this.own(p.after(A,"onChange",z.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var A=this.editWidget;return String(A.get("displayedValue"in A||"_getDisplayedValueAttr"in A?"displayedValue":
"value"))},_onKeyDown:function(A){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&!A.altKey&&!A.ctrlKey&&(A.keyCode==q.ESCAPE?(A.stopPropagation(),A.preventDefault(),this.cancel(!0)):A.keyCode==q.ENTER&&"INPUT"==A.target.tagName&&(A.stopPropagation(),A.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
this.inlineEditBox.editing&&this.enableSave()&&d.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(d._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){v.selectInputText(this.editWidget.focusNode)}))}});a=y("dijit.InlineEditBox"+(n("dojo-bidi")?"_NoBidi":""),a,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:B,editorWrapper:b,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=n("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(x(this.displayNode,e,z.hitch(this,"_onClick")),x(this.displayNode,"mouseover, focus",z.hitch(this,"_onMouseOver")),x(this.displayNode,"mouseout, blur",z.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);this.value||"value"in this.params||(this.value=z.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);m.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(A){u.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",A)},_setDisabledAttr:function(A){this.domNode.setAttribute("aria-disabled",A?"true":"false");A?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);m.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",A);this._set("disabled",A)},_onMouseOver:function(){this.disabled||m.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){m.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(A){this.disabled||(A&&(A.stopPropagation(),A.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
t.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var A=f.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?z.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:g.getComputedStyle(this.displayNode),save:z.hitch(this,"save"),cancel:z.hitch(this,"cancel"),
textDir:this.textDir},A);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var E=this.wrapperWidget;m.add(this.displayNode,"dijitOffScreen");m.remove(E.domNode,"dijitOffScreen");g.set(E.domNode,{visibility:"visible"});t.set(this.displayNode,"tabIndex","-1");var F=E.editWidget,w=this;h(F.onLoadDeferred,z.hitch(E,function(){F.set("displayedValue"in F||"_setDisplayedValueAttr"in F?"displayedValue":"value",w.value);this.defer(function(){E.saveButton&&E.saveButton.set("disabled",
"intermediateChanges"in F);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(A){var E=this.wrapperWidget;g.set(E.domNode,{visibility:"hidden"});m.add(E.domNode,"dijitOffScreen");m.remove(this.displayNode,"dijitOffScreen");t.set(this.displayNode,"tabIndex",this._savedTabIndex);A&&
d.focus(this.displayNode)},save:function(A){if(!this.disabled&&this.editing){this._set("editing",!1);var E=this.wrapperWidget.getValue();this.set("value",E);this._showText(A)}},setValue:function(A){u.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",A)},_setValueAttr:function(A){A=z.trim(A);var E=this.renderAsHtml?A:A.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=this.editorParams&&"password"===this.editorParams.type?"********":E||this.noValueIndicator;this._set("value",A);this._started&&this.defer(function(){this.onChange(A)})},getValue:function(){u.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(A){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(A))}});n("dojo-bidi")&&(a=y("dijit.InlineEditBox",
a,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.displayNode)}}));a._InlineEditor=b;return a})},"arcgisonline/pages/dijit/UploadProgressBar":function(){define("require exports tslib dojo/topic dojo/text!./UploadProgressBar/UploadProgressBar.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../utils/dom ../utils/culture ../../tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u,q){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);
f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);return function(){function z(x,n){this.templateString=t["default"];this.i18n=m["default"]}z.prototype.startup=function(){this.inherited(arguments);this.own(y["default"].subscribe("item/upload-progress-update",this._onProgressUpdate.bind(this)))};z.prototype.hide=function(){l["default"].hideNode(this.domNode)};z.prototype.show=function(){l["default"].showNode(this.domNode)};z.prototype.reset=
function(){this._uploadPercentLabel.textContent=this._uploadProgressFill.style.width="0%";this._uploadPercentLabel.innerHTML=u["default"].getPercentString(0);this._uploadProgressFill.style.width="0%"};z.prototype._onProgressUpdate=function(x){this._uploadProgressFill.classList[100===x?"add":"remove"]("upload-progress-bar__fill--full");this._uploadPercentLabel.innerHTML=u["default"].getPercentString(x/100);this._uploadProgressFill.style.width=x+"%"};return z=p.__decorate([q["default"](g["default"],
f["default"])],z)}()})},"arcgisonline/sharing/geow/Item":function(){define("require exports tslib ../../esriGeowConfig ../util dojo/Deferred dojo/dom-form dojo/topic dojo/promise/all esri/request".split(" "),function(T,J,p,y,t,m,f,g,l,u){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);return function(){function q(){}q.addItem=function(z,x,n){return q._action(z,x,n,"addItem")};q.update=
function(z,x,n){return q._action(z,x,n,"update")};q._action=function(z,x,n,h){if(t["default"].getUser())return h=q._getActionItemUrl(z,h),z=5242880<n.size?q._multiPartAction(h,x,n,z):q._postForm(h,x)};q._multiPartAction=function(z,x,n,h){var e=new m["default"],d=function(k){e.reject(k)},a=function(k){k.isMultipart=!0;e.resolve(k)},b=function(k){q._commitItem(h,x).then(a,d)},c=function(k){q._cancelItem(h);"Request canceled"!==k.message&&d.call(q,k)};q._startMultipartRequest(z,h.fileName?h.fileName:
n.name).then(function(k){k.success?(h.id=k.id,q._addItemParts(h,n).then(b,c)):d.call(q,k.error)},d);return e};q._postForm=function(z,x){return t["default"].request({url:z,form:x,timeout:0},{usePost:!0})};q._startMultipartRequest=function(z,x){return t["default"].request({url:z,content:{multipart:!0,filename:x,async:!0}},{usePost:!0})};q.generatePart=function(z,x){var n,h,e,d,a,b,c,k,r;return p.__generator(this,function(v){switch(v.label){case 0:n=z.name,h=z.size,e=5242880,d=Math.ceil(h/e),a=0,1E4<
d&&(e=Math.ceil(h/1E4),d=Math.ceil(h/e)),v.label=1;case 1:if(!(a<d))return[3,3];b=new FormData;c=a*e;k=z.slice(c,c+e);a++;r={partNum:a,size:k.size};b.append("partNum",String(r.partNum));b.append("streamdata","true");b.append("f","json");b.append("token",x);b.append("file",k,n);return[4,{partData:r,formData:b}];case 2:return v.sent(),[3,1];case 3:return[2]}})};q._addItemParts=function(z,x){var n=this,h=x.size,e=new m["default"],d={};this.pendingRequests=[];var a=3;g["default"].subscribe("cancel-item-upload",
function(){n.pendingRequests.forEach(function(r){r&&!r.isFulfilled()&&r.cancel()})});var b=q.generatePart(x,t["default"].getToken()),c=!0,k=function(){if(c){var r=[];q.uploadError=!1;for(var v=0;v<a;v++){var B=b.next(),C=B.value;if(B.done){c=!1;break}r.push(C)}l["default"](r.map(function(A){var E=new m["default"];return q._addPartWithRetries(z,A.partData,A.formData,1,h,d,E)})).then(function(){c||e.resolve();a=q.uploadError?Math.ceil(a/2):Math.min(++a,10);k()},function(A){c=!1;e.reject(A)})}};k();
return e};q._addPartWithRetries=function(z,x,n,h,e,d,a){var b=q._getActionItemUrl(z,"addPart");b=u["default"]({url:b,form:n,timeout:0},{returnProgress:!0,disableIdentityLookup:!0}).then(function(c){c.success?a.resolve(c):a.reject(c.error)},function(c){h++;q.uploadError=!0;"Request canceled"!==c.message&&7>=h?q._addPartWithRetries(z,x,n,h,e,d,a):a.reject(c)},function(c){c.loaded&&"upload"===c.transferType&&(d[x.partNum.toString()]=c.loaded,c=Object.keys(d).reduce(function(k,r){return k+d[r]},0),g["default"].publish("item/upload-progress-update",
Math.floor(c/e*100)))});q.pendingRequests.push(b);return a};q._commitItem=function(z,x){var n=q._getActionItemUrl(z,"commit");var h=x instanceof FormData?{title:z.fileName,type:z.fileType}:p.__assign({},f["default"].toObject(x));return t["default"].request({url:n,content:h},{usePost:!0})};q._cancelItem=function(z){z=q._getActionItemUrl(z,"cancel");return t["default"].request({url:z},{usePost:!0})};q._getUserUrl=function(z){var x=t["default"].getUser();x=x.username||x.email;return y["default"].restBaseUrl+
"content/users/"+(z.owner||x)};q._getActionItemUrl=function(z,x){var n=this._getUserUrl(z);z.folderId&&(n=n+"/"+z.folderId);return n="addItem"===x?n+"/addItem":n+"/items/"+z.id+"/"+x};q.uploadError=!1;return q}()})},"arcgisonline/sharing/dijit/dialog/TagsDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated,dijit/Dialog,dijit/form/MultiSelect,dijit/form/SimpleTextarea,arcgisonline/sharing/geow/Content"],function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog.TagsDlg");
T.require("dijit._Widget");T.require("dijit._Templated");T.require("dijit.Dialog");T.require("dijit.form.MultiSelect");T.require("dijit.form.SimpleTextarea");T.require("arcgisonline.sharing.geow.Content");T.declare("arcgisonline.sharing.dijit.dialog.TagsDlg",[J._Widget,J._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_tagsDialog" dojoAttachPoint\x3d"onHide:clear" title\x3d"${i18n.tagDlgTitle}" class\x3d"tagsForm"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_tagsErrorDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentTagsDiv" style\x3d"display:block;"\x3e\r\n\t\t\x3clabel \x3e${i18n.selectTag}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t    \x3cselect dojoAttachPoint\x3d"_tagsSelect" dojoType\x3d"dijit.form.MultiSelect" style\x3d"width:100%;height:150px;"\x3e\x3c/select\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_cancelBtn" dojotype\x3d"dijit.form.Button" class\x3d"cancel" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.cancel}\x3c/div\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_submitBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" type\x3d"submit" dojoAttachEvent\x3d"onClick:getSelectedTags" style\x3d"float:right;"\x3e${i18n.useSelected}\x3c/div\x3e  \r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentNoTagsDiv" style\x3d"display:none;"\x3e\r\n\t\t\x3clabel\x3e${i18n.tagsNotAvailable}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv id\x3d"button_tags-ok" dojoAttachPoint\x3d"_okBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.ok}\x3c/div\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
_tagsDialog:null,_contentTagsDiv:null,_contentNoTagsDiv:null,_tagsSelect:null,i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.TagsDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=T.i18n.getLocalization("arcgisonline","arcgisonline").common;T.mixin(this.i18n,T.i18n.getLocalization("arcgisonline","arcgisonline").tagsDlg)},postCreate:function(){},_handleCancelClick:function(y){y.preventDefault();
this._tagsDialog.hide()},clear:function(){this._tagsSelect.reset();T.style(this._contentTagsDiv,"display","none");T.style(this._contentNoTagsDiv,"display","none")},hide:function(){this._tagsDialog.hide()},show:function(y){this.clear();var t=arcgisonline.sharing.util.getUser(),m=esriGeowConfig.restBaseUrl+"community/users/";m=y&&(y.username||y.email)?m+(y.username?y.username:y.email):m+t.username;arcgisonline.sharing.util.getJson(m+"/tags",T.hitch(this,this._handleTagResponse),T.hitch(this,this._handleError));
this._tagsDialog.show()},_handleTagResponse:function(y){0==y.tags.length?T.style(this._contentNoTagsDiv,"display",""):(T.style(this._contentTagsDiv,"display",""),T.empty(this._tagsSelect.domNode),T.forEach(y.tags,function(t){T.create("option",{innerHTML:t.tag,value:t.tag},this._tagsSelect.domNode)},this))},_handleError:function(y){},getSelectedTags:function(y){y.preventDefault();y=[];y=this._tagsSelect.get("value");T.publish("onSelectedTagsUpdate",[y.toString()])}})})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),
function(T,J,p,y,t,m){m=J("dijit.form.MultiSelect"+(y("dojo-bidi")?"_NoBidi":""),m,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",addSelected:function(f){f.getSelected().forEach(function(g){this.containerNode.appendChild(g);this.domNode.scrollTop=this.domNode.offsetHeight;g=f.domNode.scrollTop;f.domNode.scrollTop=0;f.domNode.scrollTop=
g},this);this._set("value",this.get("value"))},getSelected:function(){return t("option",this.containerNode).filter(function(f){return f.selected})},_getValueAttr:function(){return T.map(this.getSelected(),function(f){return f.value})},multiple:!0,_setMultipleAttr:function(f){},_setValueAttr:function(f){y("android")?t("option",this.containerNode).orphan().forEach(function(g){var l=g.ownerDocument.createElement("option");l.value=g.value;l.selected=-1!=T.indexOf(f,g.value);l.text=g.text;l.originalText=
g.originalText;this.containerNode.appendChild(l)},this):t("option",this.containerNode).forEach(function(g){g.selected=-1!=T.indexOf(f,g.value)});this.inherited(arguments)},invertSelection:function(f){var g=[];t("option",this.containerNode).forEach(function(l){l.selected||g.push(l.value)});this._setValueAttr(g,!(!1===f||null==f))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(f){f&&p.setMarginBox(this.domNode,f)},postCreate:function(){this._set("value",this.get("value"));
this.inherited(arguments)}});y("dojo-bidi")&&(m=J("dijit.form.MultiSelect",m,{addSelected:function(f){f.getSelected().forEach(function(g){g.text=this.enforceTextDirWithUcc(this.restoreOriginalText(g),g.text)},this);this.inherited(arguments)},_setTextDirAttr:function(f){this.textDir==f&&this._created||!this.enforceTextDirWithUcc||(this._set("textDir",f),t("option",this.containerNode).forEach(function(g){this._created||g.value!==g.text||(g.value=g.text);g.text=this.enforceTextDirWithUcc(g,g.originalText||
g.text)},this))}}));return m})},"arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/CheckBox dijit/form/TextBox dijit/form/RadioButton dijit/form/Select ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys ./_CreateItemUtilMixin ./ItemPropertiesDlg dojo/topic esri/IdentityManager esri/lang esri/Evented esri/arcgis/Portal ../../geow/Account ./_PublishTileServiceDlgMixin ../../../esriGeowConfig ../../util ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/serviceUtil ../../../pages/statusUtil ../../../map/core/canUseForPublish esri/map esri/tasks/Geoprocessor esri/dijit/VisibleScaleRangeSlider ../../../pages/isGeographic preact ../../../pages/components/SelectLayerProperties dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca,ea,ka,la,ta,za,ia,U,ja,S,O,I,ba,W,aa){return T("arcgisonline.sharing.dijit.dialog.PublishTilesDlg2",[g,l,u,Z,N],{baseClass:"esriPublishTilesDlg",showFolders:!1,_typeInfo:"mapserver",userFolders:"",templateString:aa,onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},W);this._portalUser=(this._portal=ca.portal)&&this._portal.getPortalUser();switch(this.type){case "tiles":this._typeInfo=
"mapserver";break;case "scenes":this._typeInfo="sceneserver";break;case "features":this._typeInfo="featureserver";break;case "vectorTiles":this._typeInfo="vectortileserver";break;case "tiledImagery":case "dynamicImagery":this._typeInfo="imageserver";break;default:this._typeInfo=this.type}},postCreate:function(){this.inherited(arguments);V.getSelf(f.hitch(this,function(P){this._loadConnections();this._portal?this._init():(this._portal=new K.Portal({url:ca.restBaseUrl,self:P}),this._portal.on("load",
f.hitch(this,function(){this._connect&&this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){this._restBaseUrl=ca.allSSL?this._portal.portalUrl.replace("http:/","https:/"):this._portal.portalUrl;this._contentUrl=this._restBaseUrl+"content";this._publishUrl=this._contentUrl+"/users/"+this._portalUser.username;this.set("message",this.get("message"));this._portal&&!this._portal.isPortal&&(this.cacheStorageInfo.storageFormat="esriMapCacheStorageModeExploded");
this._itemPropertiesDlg.on("load",f.hitch(this,function(){this._loadData().then(f.hitch(this,function(P){this._itemPropertiesDlg.set("focus","title");"sceneserver"===this._typeInfo&&this._itemPropertiesDlg._title.set("disabled",!0);ca.self.hasCategorySchema&&(P=[],this.fsItem?P=this.fsItem.categories||P:this._selectedService&&(P=this._selectedService.categories||P),this._itemPropertiesDlg.set("categories",P))}))}))},destroy:function(){y(".dijit",this.contentNode).map(k.byNode).forEach(function(P){P.destroyRecursive?
P.destroyRecursive():P.destroy&&P.destroy();P=null});this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._tagsDijit=this._portalUser=this._portal=null},_loadConnections:function(){this.own(H.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){E.focus(this._focusNode)}),250)})),H.subscribe("/esri/disable",f.hitch(this,function(P,L){this.set("disabled",P,L,!0)})),J(this._agoBasemapRadio,"click",f.hitch(this,
function(){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._updateLODs(this.lods)})),J(this._customBasemapRadio,"click",f.hitch(this,function(){y(".visibleScaleRange",this.domNode).addClass("hide");this._isUserDefinedTileInfo=!0;this._customBasemapUrl.set("disabled",!1);this.userDefinedTileInfo&&this._updateLODs(this.userDefinedTileInfo.lods)})),J(this._customBasemapUrl,"keyup",f.hitch(this,function(P){P.keyCode===w.ENTER&&(F.stop(P),this._customBasemapUrl.onChange(this._customBasemapUrl.get("value")))})),
J(this._customBasemapUrl,"change",f.hitch(this,function(P){P&&P.length?(this._customBasemapUrl.set("disabled",!0),this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._fetchTileLayerInfo(P,this._type).then(f.hitch(this,function(L){this.userDefinedTileInfoUrl=P;this.userDefinedTileInfo=L;this._updateLODs(L.lods);this._customBasemapUrl.set("disabled",!1);this.set("disabled",this._buildingVisibleRange)}),f.hitch(this,function(L){this.userDefinedTileInfo=null;this._showError(L)}))):
(this.userDefinedTileInfo=null,y(".visibleScaleRange",this.domNode).addClass("hide"))})),J(this._tilesOnDemand,"click",f.hitch(this,"_visibleScaleRangeChange")),J(this._selectAttributesContainer,"click",this._selectAttributesClick.bind(this)))},_selectAttributesClick:function(){var P=this.fsItem&&this.fsItem.layers||this._selectedServiceLayers,L=this.vtLayerProperties||this.fsItem&&this.fsItem.adminServiceInfo&&this.fsItem.adminServiceInfo.layerProperties||[],Q=q.create("div",null,document.body,"last");
I.render(I.h(ba["default"],{layers:P,layerProperties:L,className:"normalize-modal",onCancel:function(){this._selectAttributesBtn.focus();I.render(null,Q)}.bind(this),onSubmit:function(X){this.vtLayerProperties=X;this.vectorTilePublishParams=f.mixin(this.vectorTilePublishParams||{},{layerProperties:X});this._selectAttributesBtn.focus();I.render(null,Q)}.bind(this)}),Q);Q.firstChild.classList.add("bring-modal-to-front")},_updateLODs:function(P){(P=P||this.lods)&&this.set("calculatedScales",this._calculateConstraints({layers:[{minScale:P[0].scale,
maxScale:P[P.length-1].scale}]}))},_adjustDefaultLODs:function(P){var L=P.maxScale||0,Q=P.minScale||this.lods[0].scale;this.lods=d.filter(this.lods,function(X){return X.scale>=L&&X.scale<=Q});return this._updateLODs(this.lods)},_getLayers:function(P){return P&&P.length?d.map(P,function(L){L.layerDefinition&&(L=f.mixin(L,L.layerDefinition),delete L.layerDefinition);return L}):null},_getLayerDefs:function(P){return P&&P.length?d.filter(P,function(L){return L.layerDefinition}).map(function(L){return{id:L.id,
layerDefinition:L.layerDefinition}}):null},_loadData:function(){if("imageserver"===this._typeInfo)return this._loadImageData();var P=new e;"wfs"!==this._type&&"ogcfeatures"!==this._type&&this.fsItem?(this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._selectedService=f.mixin({},this.fsItem),this._fetchFSInfo(this._selectedService).then(f.hitch(this,function(L){this._featureServiceJson=L.serviceInfo;this._selectedLayers=(this._selectedService.itemData=L.itemData)&&L.itemData.layers;
this._spatialReference=this._featureServiceJson&&this._featureServiceJson.spatialReference||{wkid:4326};"scenes"!==this._type||O(this._spatialReference)||(this._spatialReference.wkid?y(".sceneProperties .sceneDataDisplay",this.domNode).removeClass("hide"):(y(".sceneProperties .sceneDataDisplay",this.domNode).addClass("hide"),this._globalWkidRadio.set("checked",!0)));this._itemPropertiesDlg.set("summary",this._selectedService.snippet||"");this._itemPropertiesDlg.set("tags",this._selectedService.tags);
this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this._selectedService.title));this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders);p.set(this._globalWkidRadioLabel,"innerHTML",z.substitute(this.i18n.publishTileServiceDlg.globalWkid,{wkid:"4326"}));p.set(this._localWkidRadioLabel,"innerHTML",z.substitute(this.i18n.publishTileServiceDlg.localWkid,{wkid:""+this._spatialReference.wkid||4326}));this._selectedServiceLayers=L.layers&&L.layers.layers;this.set("calculatedScales",
this._calculateConstraints(L.layers));"tiles"===this._type&&this._checkTilesOnDemandSupport(L.layers);this.set("disabled",this._buildingVisibleRange);this.fsItem.isMultipatchFeatureService&&(y(".sceneProperties .sceneMultipatch",this.domNode).removeClass("hide"),L=this._featureServiceJson&&-1<this._featureServiceJson.capabilities.indexOf("ChangeTracking"),this._enableSceneUpdates.set("disabled",L));"vectorTiles"===this._type&&this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",
!0);P.resolve(this._selectedService)}),f.hitch(this,function(L){this._showError(L);P.reject(L)}))):(this.fsItem&&(this._itemPropertiesDlg.set("summary",this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders)),P.resolve(this.fsItem));return P},_loadImageData:function(){var P=new e;this.fsItem?(this._itemPropertiesDlg.set("summary",
this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders),P.resolve(this.fsItem)):P.reject(Error("Cannot locate image service item"));return P},_getSuggestedTitle:function(P,L){if("features"!==this._type)return L;var Q=P&&P.resultData||[],X=this._type.toLowerCase(),Y="Feature Service";L=this.sublayer&&this.sublayer.name&&
L+"_"+this.sublayer.name||L;switch(X){case "wfs":Y="WFS";break;case "ogcfeatures":Y="OGCFeatureService";break;case "scenes":Y="Scene Service";break;case "features":Y="Feature Service";break;default:Y="Feature Service"}Q=d.filter(Q,function(da){return da.type&&da.type===Y&&-1<da.title.indexOf(L)});return L+(Q.length?"_"+(Q.length+1):"_1")},_setMessageAttr:{node:"_message",type:"innerHTML"},_getMessageAttr:function(){if(this.message)return this.message;var P=this._type.toLowerCase(),L=W.publishTileServiceDlg;
switch(P){case "wfs":return L.wfsServiceDetailsDesc;case "ogcfeatures":return L.ogcFeatureServiceDetailsDesc;case "scenes":return L.sceneServiceDetailsDesc;case "features":return L.viewServiceDetailsDesc;case "vectortiles":return L.vectorServiceDetailsDesc;default:return L.serviceDetailsDesc}},_setTypeAttr:function(P){this._type=P;"tiles"===P?y(".tileProperties",this.domNode).removeClass("hide"):"vectorTiles"===P?(y(".vectorTileProperties",this.domNode).removeClass("hide"),la.showNode(this._tilePropertiesContainer),
la.hideNode(this._tilesOnDemandContainer),this._customBasemapUrl.set("placeholder",this._customBasemapUrl.get("placeholder").replace("/MapServer","/VectorTileServer"))):"scenes"===P?y(".sceneProperties",this.domNode).removeClass("hide"):"features"===P&&(P=(this.fsItem&&this.fsItem.layers||this._selectedServiceLayers||[]).some(function(L,Q){return L&&L.id!==Q}))&&(this._preserveIds.set("checked",P),y(".viewProperties",this.domNode).removeClass("hide"))},_checkTilesOnDemandSupport:function(P){var L=
!1;ca.tilesOnDemandEnabled&&P&&P.layers&&(L=!d.some(P.layers,function(Q){return!1===ia(Q,!1)}));b[L?"remove":"add"](this._tilesOnDemandContainer,"hide");this._tilesOnDemand.set("checked",L)},_enableChangeTrackingOnSource:function(){var P=new e,L=this.fsItem,Q=L.isMultipatchFeatureService,X=this._featureServiceJson,Y=X&&X.capabilities||"";X=0<Y.indexOf("ChangeTracking");L=L.adminUrl+"/updateDefinition";Y={capabilities:X?Y:Y+",ChangeTracking"};Q&&!X&&this._enableSceneUpdates.checked?ea.request({url:L,
content:{async:!0,updateDefinition:JSON.stringify(Y)}},{usePost:!0}).then(function(da){da.statusURL?za.checkAsyncJobStatus(da.statusURL).then(function(){P.resolve(!0)},function(){P.resolve(!0)}):P.resolve(!0)}):P.resolve(!0);return P},_getBusyMessageAttr:function(){var P=this._type.toLowerCase(),L=W.publishTileServiceDlg;switch(P){case "wfs":return L.publishingWfsService;case "ogcfeatures":return L.publishingOGCFeatureService;case "scenes":return L.publishingSceneService;case "features":return L.publishingViewService;
case "tiledimagery":return W.connectDataset.publishing;case "dynamicimagery":return W.connectDataset.publishing;default:return L.publishingTileService}},_setShowFoldersAttr:function(P){this._showFolders=P},_setItemAttr:function(P){if(!this.fsItem||this.fsItem&&P.url!==this.fsItem.url)this.fsItem=f.mixin({},P),this._created&&this._loadData().then(f.hitch(this,function(L){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._agoBasemapRadio.set("checked",!0);this._itemPropertiesDlg.set("focus",
"title");ca.self.hasCategorySchema&&this._itemPropertiesDlg.set("categories",this.fsItem.categories)}))},_setFoldersAttr:function(P){var L=this._portalUser&&this._portalUser.username;this._userFolders=P.map(function(Q){Q&&Q.id===L&&(Q=f.mixin(Q,{id:"/"}));return Q})},_setFocusAttr:function(P){P=y(P,this.domNode);E.focus(P&&P.length?P[0]:this._title.domNode)},_setDisabledAttr:function(P,L,Q){this.set("readOnly",P,L,Q)},_setReadOnlyAttr:function(P,L,Q){y(".dijit",this.domNode).map(k.byNode).forEach(function(X){X.set("disabled",
P)});y("a",this.domNode)[P?"addClass":"removeClass"]("disabledLink");y("label",this.domNode)[P?"addClass":"removeClass"]("disabled");this._itemPropertiesDlg.set("disabled",P);Q||(P&&L&&H.publish("/dlg/busyMessage",L),H.publish("/esri/disable",P,L))},_setCalculatedScalesAttr:function(P){this._buildingVisibleRange=!0;var L={constraints:P,minScale:P.minScale,maxScale:P.maxScale||18055.954822},Q=this.fsItem&&this.fsItem.url||this._selectedService&&this._selectedService.url,X=this.fsItem&&this.fsItem.layers||
this._selectedServiceLayers,Y=f.clone(this.userDefinedTileInfo&&this.userDefinedTileInfo.lods?this.userDefinedTileInfo.lods:this.tileCacheInfo.lods);"tiles"===this.type?(y(".visibleScaleRange",this.domNode).removeClass("hide"),this._visibleScaleRangeSlider&&(this._visibleScaleRangeSlider.destroyRecursive(),q.empty(this._visibleScaleRangeContainer)),this._visibleScaleRangeChangeHandler&&(this._visibleScaleRangeChangeHandler.remove(),this._visibleScaleRangeChangeHandler=void 0),Q?(la.showNodes([this._visibleRangeLoader,
this._visibleRangeLoaderMsg]),la.activateNode(this._visibleRangeLoader),n(d.map(X,f.hitch(this,function(da){return ta.getSuggestedScaleRange(Q+"/"+da.id)}))).then(f.hitch(this,function(da){var ha,ma,na;da.forEach(f.hitch(this,function(sa,wa){sa&&(ha=R.isDefined(ha)?sa&&sa.minScale>ha?sa.minScale:ha:sa?sa.minScale:P.minScale,na=R.isDefined(na)?sa&&sa.maxScale&&sa.maxScale<na?sa.maxScale:na:sa&&sa.maxScale?sa.maxScale:18055.954822,ma=R.isDefined(ma)?sa&&sa.minScale&&sa.minScale<ma?sa.minScale:ma:(sa&&
sa.minScale?sa.minScale:P.minScale)||this.SCALE_MIN)}));this._maxSupportedMinScale=P.minScale||this.SCALE_MIN;this._calculatedMinScale=(this._cacheOnDemandMinScale=ma||ha)||P.minScale;L.minScale=this._calculatedMinScale;L.maxScale=na||L.maxScale;L.minScale>P.minScale&&0<P.minScale&&(L.minScale=P.minScale);L.maxScale>=L.minScale&&0<L.minScale&&(L.maxScale=this._normalizeMaxScale(L.minScale,L.maxScale,Y));this._visibleScaleRangeSlider=new S(L,q.create("div",null,this._visibleScaleRangeContainer));this._visibleScaleRangeSlider.startup();
this._visibleScaleRangeChangeHandler=J(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);la.deactivateNode(this._visibleRangeLoader);la.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;this.set("disabled",this._buildingVisibleRange);this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}),f.hitch(this,function(){this._calculatedMinScale=
P.minScale;this._visibleScaleRangeSlider=new S(L,q.create("div",null,this._visibleScaleRangeContainer));this._visibleScaleRangeSlider.startup();this._visibleScaleRangeChangeHandler=J(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);la.deactivateNode(this._visibleRangeLoader);la.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;this.set("disabled",this._buildingVisibleRange);
this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}))):(this._calculatedMinScale=void 0,this._visibleScaleRangeSlider=new S(L,q.create("div",null,this._visibleScaleRangeContainer)),this._visibleScaleRangeSlider.startup(),this._visibleScaleRangeChangeHandler=J(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange")),this.own(this._visibleScaleRangeChangeHandler),la.deactivateNode(this._visibleRangeLoader),la.hideNodes([this._visibleRangeLoader,
this._visibleRangeLoaderMsg]),this._buildingVisibleRange=!1,this.set("disabled",this._buildingVisibleRange),this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))):(this._buildingVisibleRange=!1,this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))},_visibleScaleRangeChange:function(){var P=this._tilesOnDemand.get("checked");if(this._calculatedMinScale&&this._visibleScaleRangeSlider&&this._visibleScaleRangeSlider._started){var L=this._visibleScaleRangeSlider.get("minScale");
(0===L&&0!==this._calculatedMinScale||L>this._calculatedMinScale)&&P?(la.showNode(this._increaseScaleWarning),this._increaseScaleWarning.scrollIntoView(!1)):la.hideNode(this._increaseScaleWarning)}else la.hideNode(this._increaseScaleWarning)},_getItemAttr:function(){return"wfs"===this._type?this.get("wfsItem"):"ogcfeatures"===this._type?this.get("ogcFeatureItem"):"scenes"===this._type?this.get("sceneItem"):"features"===this._type?this.get("viewItem"):"vectorTiles"===this._type?this.get("vectorTileItem"):
this.get("tileItem")},_getOgcFeatureItemAttr:function(){var P=this._itemPropertiesDlg.get("item"),L={name:P.title.replace(/ /g,"_")};return{item:P,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:L,outputType:"OGCFeatureService"},publishParams:L}},_getWfsItemAttr:function(){var P=this._itemPropertiesDlg.get("item");var L=f.mixin({},{name:P.title.replace(/ /g,"_"),wfsProperties:{title:P.title,"abstract":P.snippet,keyword:P.tags}});return{item:P,publishContent:{itemid:this.fsItem.id,
filetype:"featureService",publishParameters:L,outputType:"WFS"},publishParams:L}},_getSceneItemAttr:function(){var P=this._itemPropertiesDlg.get("item"),L=this._globalWkidRadio.get("checked"),Q=this._featureServiceJson;var X=f.mixin({},{name:P.title.replace(/ /g,"_")});L||(X=f.mixin(X,{targetSR:Q.spatialReference}));return{item:P,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:X,outputType:"sceneService",buildInitialCache:!1},publishParams:X}},_getTileItemAttr:function(){var P=
this._visibleScaleRangeSlider.get("actualMaxScale"),L=this._visibleScaleRangeSlider.get("minScale")||this._maxSupportedMinScale||this.SCALE_MIN,Q=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):f.clone(this.tileCacheInfo),X=f.clone(this.cacheStorageInfo),Y={minScale:L,maxScale:P},da=this._tilesOnDemand.get("checked");var ha=this._itemPropertiesDlg.get("item");Q.dpi&&!Q.preciseDpi&&(Q.preciseDpi=Q.dpi);for(var ma=0;ma<Q.lods.length;ma++)delete Q.lods[ma].label;if(!Q.lods.some(function(sa){return sa.scale<=
L&&sa.scale>=P},this)){ma=Q.lods.filter(function(sa){return sa.scale>=L},this).reverse().shift();var na=Q.lods.filter(function(sa){return sa.scale<=P},this).shift();ma&&(L=ma.scale,Y.minScale=L);na&&(P=na.scale,Y.maxScale=P)}Q=f.mixin(Y,{name:ha.title.replace(/ /g,"_"),tilingSchema:{tileCacheInfo:Q,tileImageInfo:this.tileImageInfo,cacheStorageInfo:X}});ca.tilesOnDemandEnabled&&(Q.cacheOnDemand=da)&&(Q.cacheOnDemandMinScale=this._cacheOnDemandMinScale,Q.capabilities="Map,ChangeTracking");return{item:ha,
publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:Q,outputType:"tiles",buildInitialCache:!1},publishParams:Q}},_getVectorTileItemAttr:function(){var P=this._featureServiceJson;P=P.layers&&P.layers.length?P.layers[0]:{};var L={minScale:P.minScale||0,maxScale:P.maxScale||0};P=this._itemPropertiesDlg.get("item");var Q=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):void 0;L=f.mixin(L,{name:P.title.replace(/ /g,"_")},this.vectorTilePublishParams);Q&&(L.tilingSchema.tileCacheInfo=
Q);return{item:P,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:L,outputType:"vectorTiles",buildInitialCache:!1},publishParams:L}},_getViewItemAttr:function(){var P=this._itemPropertiesDlg.get("item"),L=this._featureServiceJson,Q=this._preserveIds.get("checked"),X=this._selectedLayers||[],Y;L=f.mixin({},{name:P.title.replace(/ /g,"_"),isView:!0,sourceSchemaChangesAllowed:!0,isUpdatableView:!0,spatialReference:L.spatialReference,initialExtent:L.initialExtent,capabilities:"Query",
preserveLayerIds:Q});this._portal&&this._portal.isPortal&&(Y=this._getDataSourceType(this.fsItem))&&Y.dataSourceType&&(L=f.mixin(L,{options:Y}));Q||X.forEach(function(da,ha){da.id=ha});return{item:P,createParams:L}},_validate:function(){var P=new e;this._focusNode=null;var L=this._itemPropertiesDlg._validate();L=L.then(f.hitch(this,"_checkRequired"));L=L.then(f.hitch(this,function(Q){P.resolve(Q)}),f.hitch(this,function(Q){this._showError(Q);P.reject(Q)}));return P},_checkRequired:function(){var P=
new e;if("tiles"===this._type){if(!this._featureServiceJson)var L=this.i18n.publishWizard.errors.selectedServiceNotExist;this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=y("input",this._customBasemapUrl.domNode)[0],L=this.i18n.publishWizard.errors.customTileBasemapNotSpecified)}"vectorTiles"===this._type&&(this._featureServiceJson||(L=this.i18n.publishWizard.errors.selectedServiceNotExist),this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=y("input",this._customBasemapUrl.domNode)[0],
L=this.i18n.publishWizard.errors.customTileBasemapNotSpecified));if(L)return P.reject(L),P;D.serviceNameAvailable(this._itemPropertiesDlg.get("item"),this._portal).then(f.hitch(this,function(Q){Q&&Q.available?P.resolve(!0):(this._focusNode=y("input",this._itemPropertiesDlg._title.domNode)[0],P.reject(W.addItemFrm.errors.serviceNameExists))}));return P},publishSceneService:function(){return this._enableChangeTrackingOnSource().then(this.publishService.bind(this))},publishImageService:function(P){var L=
new e,Q=this.fsItem.url,X=f.hitch(this,function(Y){this._showError(Y);throw Error(Y);});M.getCredential(Q).then(function(Y){this._createNewImageServiceItem().then(function(da){this._publishImageServiceGP(Q,da,Y.token).then(function(ha){L.resolve(ha)},X)}.bind(this),X)}.bind(this),X);return L},publishService:function(){var P=this.get("item"),L=P.publishContent,Q=this._tilesOnDemand.get("checked"),X,Y="scenes"===this.type,da=new e,ha=new e;D.publishItem(f.mixin(P,{owner:this.fsItem.owner}),L,this._portal).then(f.hitch(this,
function(ma){var na=ma&&ma.publishResult?ma.publishResult[0]:null;na&&na.error?(na.serviceItemId&&D.deleteItem({id:na.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal),this._showError(na.error||W.addItemFrm.errors.error),da.reject()):(D.checkStatus({id:na.serviceItemId,jobId:na.jobId},ha,500,this._portal),ha.then(f.hitch(this,function(sa){D.moveItem({id:sa.id,folderId:this.fsItem.ownerFolder,owner:this.fsItem.owner},P.item.folderId,this._portal).then(f.hitch(this,function(wa){(X=f.mixin(P.item,
wa,!Y&&this._selectedService&&this._selectedService.itemData?{text:c.stringify(this._selectedService.itemData)}:{}))&&delete X.typeKeywords;D.updateItem(X,this._portal).then(f.hitch(this,function(){this.set("disable",!1);da.resolve({id:na.serviceItemId,jobId:na.jobId,cacheOnDemand:Q})}))}))}),f.hitch(this,function(sa){D.deleteItem({id:na.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal);this._showError(sa)})))}),f.hitch(this,function(ma){this._showError(ma)}));return da},createViewService:function(){var P=
this.get("item"),L={createParameters:c.stringify(P.createParams),outputType:"featureService",isView:!0},Q=this.fsItem&&this.fsItem.serviceInfo||{},X=this.serviceLayers||this.fsItem.layers,Y,da,ha=new e;Q=X.map(function(ma){Y=f.mixin({},ma);delete Y.fields;delete Y.indexes;delete Y.relationships;return Y}).map(f.hitch(this,this._addAdminLayerInfo,Q));X=d.filter(Q||[],f.hitch(this,function(ma){return ma&&"Table"===ma.type}));Q=d.filter(Q||[],f.hitch(this,function(ma){return ma&&"Feature Layer"===ma.type}));
D.createService(f.mixin(P,{owner:this.fsItem.owner}),L,c.stringify({layers:Q,tables:X}),this._portal).then(f.hitch(this,function(ma){return D.moveItem({id:ma&&ma.createResult&&ma.createResult.itemId,owner:this.fsItem.owner},P.item.folderId,this._portal)}),f.hitch(this,function(ma){this._showError(ma);throw Error(ma);})).then(f.hitch(this,function(ma){this._selectedService&&this._selectedService.itemData&&this._selectedService.itemData.layers&&this.sublayer&&(this._selectedService.itemData.layers=
this._selectedService.itemData.layers.filter(function(na){return na.id===this.sublayer.id}.bind(this)),this._selectedService.itemData.layers[0]&&(this._selectedService.itemData.layers[0].id=0));da=f.mixin(P.item,ma,this._selectedService&&this._selectedService.itemData?{text:c.stringify(this._selectedService.itemData)}:{});da=f.mixin(da,{folderId:null});delete da.typeKeywords;delete da.type;delete da.wabType;return D.updateItem(da,this._portal)})).then(f.hitch(this,function(ma){ha.resolve(f.mixin({},
da,ma))}));return ha},_addAdminLayerInfo:function(P,L){var Q=/(\/(MapServer|FeatureServer)).*/ig,X=this.fsItem.url;Q=X&&X.replace(Q,"").replace(/^.*\//,"").replace(/\?.*$/,"");return f.mixin(L,{adminLayerInfo:{viewLayerDefinition:{sourceServiceName:Q||L.name,sourceLayerId:L.id,sourceLayerFields:"*"}}})},_getDataSourceType:function(P){P=P&&P.adminServiceInfo&&P.adminServiceInfo.adminServiceInfo||{};P=P.database&&P.database.datasource||{};return{dataSourceType:P.name&&(-1<P.name.indexOf("/nosqlDatabases")?
"spatiotemporal":-1<P.name.indexOf("/enterpriseDatabases")?"relational":null)}},showModal:function(P){var L=new e,Q,X=this._type,Y=this.dialog=new A({title:"features"===X?this.i18n.itemProperties.publishViewLayer:this.i18n.publishTileServiceDlg.publishTileDialogTitle,style:{height:"auto"}});Y.setContent(this.domNode);Y.show();this.own(J(Y.okButton,"click",f.hitch(this,function(){H.publish("/esri/disable",!0,this.get("busyMessage"));this._validate().then(f.hitch(this,function(){Q="tiledImagery"===
X||"dynamicImagery"===X?this.publishImageService():"features"!==X?"scenes"===X?this.publishSceneService():this.publishService():this.createViewService();Q.then(f.hitch(this,function(da){Y.hide().then(f.hitch(this,function(){L.resolve(da)}))}))}))})),J(Y,"hide",f.hitch(this,function(){Y.destroyRecursive()})));return L},_createNewImageServiceItem:function(){var P=new e,L=this._itemPropertiesDlg.get("item"),Q=L.title.replace(/ /g,"_");Q={title:L.title,outputType:"imageService",tags:L.tags,snippet:L.snippet,
createParameters:c.stringify("tiledImagery"===this.type?{name:Q,capabilities:"Image, TilesOnly"}:{name:Q,capabilities:"Image, Metadata, Mensuration",properties:{description:"",isManaged:"true",isCached:"true",colormapToRGB:"false",esriImageServiceSourceType:"esriImageServiceSourceTypeDataset",allowCopy:"true",allowAnalysis:"true",allowFunction:"true"}})};D.createService(f.mixin(L,{owner:this.fsItem.owner}),Q,null,this._portal).then(f.hitch(this,function(X){var Y=X&&X.createResult&&X.createResult.itemId;
if(!Y)return P.reject();X.owner=this.fsItem.owner;X.id=Y;X.url=X.createResult.serviceUrl;X.folderId=L.folderId;delete X.createResult;D.moveItem({id:Y,owner:X.owner},L.folderId,this._portal).then(function(){P.resolve(X)})}),f.hitch(this,function(X){P.reject(X)}));return P},_publishImageServiceGP:function(P,L,Q){var X=new e,Y=!1,da="tiledImagery"===this.type,ha=f.hitch(this,function(sa){if(!Y){Y=!0;var wa={id:L.id,owner:L.owner,folderId:L.folderId,title:L.title,tags:L.tags,snippet:L.snippet,properties:c.stringify({jobUrl:ma+
"/CopyRaster/jobs/"+sa.jobId+"?f\x3djson",jobStatus:"processing",jobId:sa.jobId,jobType:"GPServer"})},ya=f.hitch(this,function(){this.set("disable",!1);X.resolve({id:L.id,jobId:sa.jobId})});D.updateItem(wa,this._portal).then(ya,ya)}}),ma=this._portal.helperServices.rasterAnalytics.url,na=ma+"/CopyRaster";P+=Q?"?token\x3d"+Q:"";da={inputRaster:c.stringify(da?{url:P}:{tiled_url:P}),outputName:c.stringify({itemId:L.id})};na=new ja(na);na.setUpdateDelay(5E3);na.submitJob(da,null,ha);na.onError=f.hitch(this,
function(sa){D.deleteItem({id:L.id,folderId:L.folderId},this._portal);X.reject(sa)});return X},_showError:function(P){P=f.mixin(f.mixin({},W.publishWizard.errors.error),P);var L=f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,function(){E.focus(this._focusNode)}),250)});this._errorDlg=new A({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.own(J(this._errorDlg.closeButtonNode,"click",L));this._errorDlg.show(P).then(L);
return!1}})})},"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg":function(){define("esri/lang dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dojox/form/Uploader dijit/registry dijit/form/TextBox dijit/form/RadioButton dijit/ConfirmDialog dijit/focus dgrid/OnDemandGrid dgrid/editor dojo/store/Observable dojo/store/Memory esri/dijit/Tags arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin dijit/form/SimpleTextarea dijit/form/Textarea dijit/form/Select dojo/topic esri/Evented esri/arcgis/Portal arcgisonline/pages/portal/PortalItem arcgisonline/esriGeowConfig arcgisonline/pages/pageUtil arcgisonline/pages/utils/categories arcgisonline/pages/utils/dom arcgisonline/pages/dijit/CategoryPicker arcgisonline/sharing/geow/Account arcgisonline/sharing/util arcgisonline/sharing/geow/Folder esri/geometry/Extent esri/SpatialReference ../../../map/core/sameSpatialReference ../../../map/core/projectExtent dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca,ea,ka,la,ta,za,ia,U,ja,S,O,I,ba,W,aa,P){return J("arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg",[l,u,q,M,ca],{baseClass:"esriItemPropertiesDlg",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cdiv class\x3d"wabdiv"\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab2DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'checked:true,name:"wabtype"\' value\x3d"2d" /\x3e${i18n.addItemFrm.2d}\x3c/label\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab3DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'name:"wabtype"\' value\x3d"3d" /\x3e${i18n.addItemFrm.3d}\x3c/label\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_message" class\x3d"trailer-half"\x3e\x3c/p\x3e\x3cform id\x3d"_createForm" data-dojo-attach-point\x3d"_form" enctype\x3d"multipart/form-data" action\x3d"" method\x3d"POST"\x3e\x3clabel for\x3d"uploader" class\x3d"file"\x3e${i18n.addLayerFromFileDlg.fileLabel}\x3c/label\x3e\x3cdiv data-dojo-attach-point\x3d"_files" class\x3d"file" data-dojo-type\x3d"dojox/form/Uploader" data-dojo-props\x3d\'label:"Browse", name:"file", showInput:"before"\'\x3e\x3c/div\x3e\x3cbr class\x3d"file" /\x3e\x3cdiv data-dojo-attach-point\x3d"_zip" class\x3d"zip esriLeadingMargin80 hide"\x3e\x3clabel for\x3d"archiveSelect"\x3e${i18n.addItemFrm.itemContents}\x3c/label\x3e\x3cselect data-dojo-attach-point\x3d"_zipContents" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:25%;"\x3e\x3coption value\x3d"shapefile" selected\x3e${i18n.addItemFrm.typeShapefile}\x3c/option\x3e\x3coption value\x3d"filegeodatabase"\x3e${i18n.addItemFrm.itemFileGeodatabase}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-url" class\x3d"url hide trailer-0"\x3e${i18n.publishWizard.urlItemLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-url" class\x3d"required url trailer-half hide" data-dojo-attach-point\x3d"_url" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'disabled:true, name:"url", trim:true, placeHolder:"${i18n.addLayerFromUrlDlg.enterUrl}"\'\x3e\x3c/div\x3e\x3cbr class\x3d"url hide" /\x3e\x3clabel for\x3d"${id}-title" class\x3d"trailer-0"\x3e${i18n.publishWizard.titleLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-title" tabindex\x3d"0" class\x3d"required title trailer-half" data-dojo-attach-point\x3d"_title" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'name:"title", trim:true, placeHolder:"${i18n.publishWizard.titlePlaceHolder}"\'\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-tags" data-dojo-attach-point\x3d"_tagsDijitLbl" class\x3d"tagsLbl leader-0 trailer-0"\x3e${i18n.publishWizard.tagsLbl}\x3cspan class\x3d"screen-readers-only" id\x3d"tags-required"\x3e${i18n.publishWizard.tagsRequired}\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"position-relative hide js-tags-mask"\x3e\x3cdiv class\x3d"tags-disabled-mask"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}-tags" class\x3d"trailer-half" data-dojo-attach-point\x3d"_tagsDijit" data-dojo-type\x3d"esri/dijit/Tags" data-dojo-props\x3d"name: \'tags\', width:\'100%\', minWidth:\'100%\', maxWidth:\'100%\'"\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-summary" class\x3d"trailer-0 leader-half"\x3e${i18n.publishWizard.summaryLbl}\x3c/label\x3e\x3ctextarea id\x3d"${id}-summary" tabindex\x3d"0" class\x3d"required snippet trailer-0" maxlength\x3d"250" data-dojo-attach-point\x3d"_summaryDijit" class\x3d"summaryTextBox dijitPlaceHolder" data-dojo-type\x3d"dijit/form/Textarea" data-dojo-props\x3d\'name:"snippet", trim:true, placeHolder:"${i18n.publishWizard.summaryPlaceHolder}", value: "${i18n.publishWizard.summaryPlaceHolder}"\'\x3e\x3c/textarea\x3e\x3cbr /\x3e\x3cdiv class\x3d"hide categories-container"\x3e\x3clabel class\x3d"trailer-0 leader-half" data-dojo-attach-point\x3d"_categoriesLbl" for\x3d"itemPropCategoryPicker"\x3e${i18n.addItemFrm.categories}${i18n.addItemFrm.colon}\x3c/label\x3e\n\x3cdiv class\x3d"categoriesPickerSection" data-dojo-attach-point\x3d"_categoriesContainer" id\x3d"itemPropCategoryPicker"\x3e\x3c/div\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-folders" data-dojo-attach-point\x3d"_foldersDijitLbl" class\x3d"folderDropdown trailer-0 leader-half hide" style\x3d"clear:both;"\x3e\x3cspan class\x3d"saveFolderLbl"\x3e${i18n.publishWizard.saveFolderLbl}\x3c/span\x3e\x3cselect id\x3d"${id}-folders" tabindex\x3d"0"  class\x3d"folderDropdownSelect folderDropdown hide" data-dojo-attach-point\x3d"_folders" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:77%;" data-dojo-props\x3d\'maxHeight:"200"\'\x3e\x3c/select\x3e\x3c/label\x3e\x3c/form\x3e\x3c/div\x3e',
onOk:function(){},onCancel:function(){},onLoad:function(){},postMixInProperties:function(){this.inherited(arguments);this._errorDlg=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance();this.i18n=g.mixin({},P);this._maxFileSize=1E9;this._analyzeTypes={csv:1};this._type=this.typeInfo;var L=b("ESRI_Content");this._selectedFolderId=(L?k.parse(L):{}).folderId||null;this._portalUser=(this._portal=la.portal)&&(this._portal.portalUser||this._portal.user||this._portal.getPortalUser())},
postCreate:function(){this.inherited(arguments);c.add(this._summaryDijit.domNode,"dijitPlaceHolder");var L=this._files.displayInput;c.add(L,"placeHolder");y.set(L,"value","Select File");this._tagsDijit&&this._tagsDijit._inputTextBox&&this._tagsDijit._inputTextBox.set&&this._tagsDijit._inputTextBox.set("aria-describedby","tags-required");this._tagsDijitLbl&&this._tagsDijit._inputTextBox&&y.set(this._tagsDijitLbl,"for",this._tagsDijit._inputTextBox.id);ja.getSelf(g.hitch(this,function(Q){this._loadConnections();
this._portal?this._init():(this._portal=new ea.Portal({url:la.restBaseUrl,self:Q}),this._connect=this._portal.on("load",g.hitch(this,function(X){this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){return h([S.loadUserTags(this._portalUser.username),this._getFolders()]).then(g.hitch(this,function(L){L&&L[0]&&this._tagsDijit.set("knownTags",L[0]);this.item&&this.item.type&&!this.item.declaredClass&&(this.item=new ka(g.mixin(this.item,{portal:this._portal})));
this._tagsDijit.set("value",this.item&&this.item.tags||"");this._summaryDijit.set("value",P.publishWizard.summaryPlaceHolder);this._loadFolders(L[1]&&L[1].folders||[],this._folders);this._supportedType=!this.item||"Web Scene"!==this.item.type&&"Web Map"!==this.item.type?null:this.item.type;this.set("showWAB","wab"!==this._type||this._supportedType?!1:!0);this._supportedType&&this.wab2DRadio.set("checked","Web Map"===this._supportedType);this.onLoad()}))},destroy:function(){t(".dijit",this.contentNode).map(v.byNode).forEach(function(L){L.destroyRecursive?
L.destroyRecursive():L.destroy?L.destroy():L=null});this.inherited(arguments);this._grid&&(this._grid.destroy(),this._grid=null);this._tagsDijit&&(this._tagsDijit.destroyRecursive(),this._tagsDijit=null);this._analyzedFile?R.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(L){this._tagsDijit=this._portalUser=this._portal=this._analyzedFile=null})):this._tagsDijit=this._portalUser=this._portal=null;this._errorDlg&&(this._errorDlg._dialog&&this._errorDlg._dialog.destroyRecursive(),
this._errorDlg.destroyRecursive(),this._errorDlg=null)},startup:function(){this.inherited(arguments);this._initializeCategoryPicker(this.categories||[])},disableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.remove("hide");this._categories&&this._categories.disable()},enableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.add("hide");this._categories&&this._categories.enable()},_initializeCategoryPicker:function(L){if(la.self.hasCategorySchema){var Q=
function(X){this._categories=new U({categories:L||[],schema:X},z.create("div",null,this._categoriesContainer));this._categories.startup();ia.showNodes(t(".categories-container",this.domNode));this._initializingCategoryPicker=!1}.bind(this);this.item&&this.item.portal&&this.item.portal.getCategories&&this.item.portal.getCategories instanceof Function?(this._initializingCategoryPicker=!0,this.item.portal.getCategories().then(Q)):(this._initializingCategoryPicker=!0,S.request({url:la.restBaseUrl+"portals/self/categorySchema"}).then(function(X){Q(X.categorySchema)}.bind(this)))}},
_getWebMapAuthoringInfo:function(){return{authoringApp:"WebMapViewer",authoringAppVersion:S.isPortal()?"10.6":"6.1",version:"2.11"}},addItem:function(){var L=new d,Q,X;this._validate().then(g.hitch(this,function(){Z.publish("/esri/disable",!0,P.addItemFrm.addingItem);if(this._analyzedFile)Q=this._updateItem().then(g.hitch(this,function(da){return da}));else if("webmap"===this._type)Q=this._fetchBaseMap().then(g.hitch(this,function(da){return X=da})).then(g.hitch(this,"_projectPortalExtent")).then(g.hitch(this,
function(da){var ha=this.get("item");ha.text=X?k.stringify(X):ha.text;ha.extent=da;return R.addItem(ha,this.get("folder"),this._portal)}));else if("dashboard_map"===this._type){var Y=this.get("item");Y.text=x.substitute(Y.text,{mapId:this.item.id});Q=R.addItem(Y,this.get("folder"),this._portal)}else Q=R.addItem(this.showFile?this.get("form"):this.get("item"),this.get("folder"),this._portal);Q.then(g.hitch(this,function(da){Z.publish("/esri/disable",!1);L.resolve(da)}),g.hitch(this,function(da){Z.publish("/esri/disable",
!1);da&&409===da.code&&(da=this.get("item"),da={title:P.addItemFrm.errors.error.title,message:T.substitute({type:da.type,title:da.title},P.addItemFrm.errors.itemExists.message)});L.reject(da)}))}),g.hitch(this,function(Y){Z.publish("/esri/disable",!1);L.reject(Y)}));return L},_fetchBaseMap:function(){var L=this._portal&&this._portal.defaultBasemap||null,Q=this._getWebMapAuthoringInfo(),X,Y,da,ha=function(){Y=a.map(L.baseMapLayers||[],g.hitch(this,function(na,sa){X=g.clone(na);X=g.mixin(X,{opacity:1,
layerType:"ArcGISTiledMapServiceLayer",visibility:!0,id:"defaultBasemap_"+sa});da=0===sa?na.spatialReference||na.resourceInfo&&na.resourceInfo.spatialReference:da;delete X.resourceInfo;return X}));return g.mixin({operationalLayers:[],spatialReference:da||this._portal&&this.portal.defaultExtent&&this.portal.defaultExtent.spatialReference,baseMap:g.mixin(L,{baseMapLayers:Y})},Q)};if(L&&L.id)var ma=ea.PortalUtil.request(this._portal.portalUrl+"content/items/"+L.id+"/data").then(g.hitch(this,function(na){return na}),
g.hitch(this,function(na){return ha()}));else L?(ma=new d,ma.resolve(ha())):(ma=new d,ma.resolve());return ma},_projectPortalExtent:function(L){var Q=new d;L=this._portal&&this._portal.defaultExtent||null;var X=new I(L),Y=new ba({wkid:102100});L&&X.spatialReference.wkid!==Y.wkid?aa(X,Y,g.hitch(this,function(da){da[0]?Q.resolve(R.getPortalDefaultExtentAsGCS({defaultExtent:da[0]})):Q.resolve(R.getPortalDefaultExtentAsGCS(this._portal))})):Q.resolve(R.getPortalDefaultExtentAsGCS(this._portal));return Q},
_extent2String:function(L,Q){Q=Q||4;var X=+L.xmin.toFixed(Q),Y=+L.ymin.toFixed(Q),da=+L.xmax.toFixed(Q),ha=+L.ymax.toFixed(Q);return isNaN(X)||isNaN(Y)||isNaN(da)||isNaN(ha)?"":X+","+Y+","+da+","+ha},_loadConnections:function(){this.own(Z.subscribe("/esri/disable",g.hitch(this,function(L){this.set("readOnly",L)})),t(".dijitTextArea",this.contentNode).on("focus",g.hitch(this,function(L){L=this._summaryDijit;L.get("value")===P.publishWizard.summaryPlaceHolder&&(c.remove(L.domNode,"dijitPlaceHolder"),
L.set("value",""))})),t(".dijitTextArea",this.contentNode).on("blur",g.hitch(this,function(L){L=this._summaryDijit;""===L.get("value")&&(c.add(L.domNode,"dijitPlaceHolder"),L.set("value",P.publishWizard.summaryPlaceHolder))})),p(this._errorDlg,"hide",g.hitch(this,function(){this._focusNode&&setTimeout(g.hitch(this,function(){E.focus(this._focusNode)}),250)})),p(this._tagsDijitLbl,"click",g.hitch(this,function(L){this._tagsDijit._inputTextBox.focus();t(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),
p(this._tagsDijit.domNode,"focusout",g.hitch(this,function(L){t(".select2-choices",this._tagsDijit.domNode).removeClass("focus")})),p(this._tagsDijit.domNode,"focusin",g.hitch(this,function(L){this._tagsDijit._inputTextBox.focus();t(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),p(this._foldersDijitLbl,"click",g.hitch(this,function(L){this._folders.focus()})))},_setTitleAttr:function(L){return this._title.set("value",L||"")},_getTitleAttr:function(){return this._title.get("value")},
_setShowFileAttr:function(L){L||(t(".file",this.contentNode).style("display","none"),t(".dijitUploader input",this.contentNode).attr("disabled","disabled"),this._files.set("disabled",!0))},_setShowUrlAttr:function(L){L&&(t(".url",this.contentNode).removeClass("hide"),this._url.set("disabled",!1))},_setShowFoldersAttr:function(L){t(".folderDropdown",this.domNode)[L?"removeClass":"addClass"]("hide")},_setFoldersAttr:function(L){this._userFolders=L;this._folders.set("options",a.map(L,"return {label:item.title, value:item.id};"));
this._folders.set("value",this._selectedFolderId||"/")},_setShowWABAttr:function(L){t(".wab",this.domNode)[L?"removeClass":"addClass"]("hide")},_setMessageAttr:{node:"_message",type:"innerHTML"},_setTypeAttr:function(L){y.set(this._type,"value",L)},_setTypeInfoAttr:function(L){this._type=L},_setTagsAttr:function(L){this._tagsDijit.set("value",L||"")},_setCategoriesAttr:function(L){if(la.self.hasCategorySchema)if(!this._categories||this._initializingCategoryPicker)var Q=setInterval(function(){this._categories&&
!this._initializingCategoryPicker&&(clearInterval(Q),this._categories.setCategories(L||[],!0))}.bind(this),50);else this._categories.setCategories(L||[],!0)},_setSummaryAttr:function(L){c[L?"remove":"add"](this._summaryDijit.domNode,"dijitPlaceHolder");this._summaryDijit.set("value",L||P.publishWizard.summaryPlaceHolder);this._summaryDijit.resize()},_setBatchGeocodersAttr:function(L){this._geocoders.set("options",L);this._geocoders.set("value",L[0].value,!1);this._batchGeocoders=L;this._selectedGeocoder=
L[0]},_setFocusAttr:function(L){var Q=v.byId(this.id+"-"+L);if(Q)setTimeout(g.hitch(this,function(){Q.focus()}),250);else{var X=t(L,this.domNode);setTimeout(g.hitch(this,function(){E.focus(X&&X.length?X[0]:this._title.domNode)}),250)}},_setDisabledAttr:function(L){this._disable(L)},_setReadOnlyAttr:function(L){t(".dijit",this.domNode).map(v.byNode).forEach(function(Q){Q.set("readOnly",L)});t(".dijitButtonContents",this._files.domNode).forEach(function(Q){y.set(Q,"readonly",L);c[L?"add":"remove"](Q,
"dijitDisabled dijitTextBoxDisabled")});c[L?"add":"remove"](this._tagsDijit.domNode,"dijitDisabled dijitTextBoxDisabled");t("input",this._tagsDijit.domNode).forEach(function(Q){y.set(Q,"readonly",L)});t("a",this.contentNode)[L?"addClass":"removeClass"]("disabledLink");t(".dijitSelect .dijitButtonText",this.contentNode)[L?"addClass":"removeClass"]("dijitTextBoxDisabled");this._folders.set("disabled",L);this._summaryDijit.set("disabled",L);t(".dijitUploader input",this.contentNode).attr("readonly",
"readonly")},_getFormAttr:function(){var L=this._checkThumbnailURL(g.mixin({},this.itemInfo[this._type])),Q=z.create("div",null,this._form);L=g.mixin(L,{tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==P.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):""});L=this._adjustItemInfo(L);for(var X in L)z.place(z.create("input",{name:X,type:"text",value:L[X],"class":"hide"}),Q);return m.byId("_createForm")},_getItemAttr:function(){var L=this._checkThumbnailURL(g.mixin({},
this.itemInfo[this._type]));L=g.mixin(L,{title:this._title.get("value"),tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==P.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):"",folderId:this.get("folder"),wabType:"wab"===this._type?this.get("WABType"):null});L=this._adjustItemInfo(L);la.self.hasCategorySchema&&this._categories&&(L.categories=this._categories.getCategories(!0));this._supportedType&&(L=g.mixin(L,{webmap:this.item.id}));return L},_adjustItemInfo:function(L){var Q=
this._type,X=L.text,Y=this._portal&&this._portal.helperServices||[];Y=Y.defaultElevationLayers?g.clone(Y.defaultElevationLayers):[];if(X&&("webscene"===Q||"webscene_portal"===Q)&&Y&&Y.length){var da=JSON.parse(X);Y=Y.map(function(ha){ha=g.mixin(ha,{title:ha.title||ha.name||"Elevation",id:ha.id||ha.name||(new Date).getTime()+""});ha.name&&delete ha.name;return ha});da.baseMap.elevationLayers=Y;da.ground.layers=Y;L.text=JSON.stringify(da)}if("dashboard"===Q||"dashboard_map"===Q)L.typeKeywords="ArcGIS Dashboards",
da=JSON.parse(X||"{}"),da.version=45,L.text=JSON.stringify(da),delete L.thumbnailURL,L.thumbnailUrl="dashboard"===Q?"https://static.arcgis.com/images/dashboards.png":L.thumbnailUrl;return L},_getWABTypeAttr:function(){return this.wab2DRadio.get("checked")?"HTML":"HTML3D"},_getFolderAttr:function(){var L=this._folders.get("value");L=this._portalUser?"/"===L||L===this._portalUser.username?null:L:"/"===L?null:L;return this.showFolders?L:this._selectedFolderId},_getFolders:function(){var L=new d;this._portalUser.getFolders?
this._portalUser.getFolders().then(g.hitch(this,function(Q){L.resolve({folders:Q})}),g.hitch(this,function(Q){L.reject(Q)})):O.getFolders(g.hitch(this,function(Q){L.resolve(Q)}),g.hitch(this,function(Q){L.reject(Q)}),!1);return L},_getFileInfo:function(L){var Q=new d,X=/(?:\.([^.]+))?$/;L=L&&L.length&&L[0]||{};var Y=L.name.replace(/^.*(\\|\/|:)/,"");X=Y?X.exec(Y)[1].toLowerCase():"";var da=Y?Y.substring(0,Y.lastIndexOf(".")):"";this._isValidFileType(X)||Q.reject(P.addItemFrm.errors.unknownType);window&&
window.FileReader&&L.size>this._maxFileSize&&Q.reject(P.addItemFrm.errors.fileToLarge);Q.resolve(g.mixin(L,{title:da,fileType:X,origName:Y}));return Q},_deleteAnalyzedFile:function(){if(this._analyzedFile)var L=R.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(){this._analyzeResult=this._analyzedFile=null}));else L=new d,L.resolve(!0);return L},_toOptions:function(L,Q){var X=[];Q&&(L=g.mixin({},P.addItemFrm.notUsed,L));for(var Y in L)X.push({label:L[Y],value:Y});return X},_addFile:function(){var L=
this.get("form");if(L)return L=R.addItem(L,this.get("folder"),this._portal),L.then(g.hitch(this,function(Q){Z.publish("/esri/disable",!1);return Q}),g.hitch(this,function(Q){Z.publish("/esri/disable",!1);this._showError(Q)}))},_updateItem:function(){var L=this._analyzedFile,Q=this.get("item"),X=!1,Y;for(Y in Q)L[Y]&&L[Y]===Q[Y]?delete Q[Y]:X=!0;X?Q=R.updateItem(g.mixin(Q,{id:L.id,folderId:L.folderId}),this._portal).then(g.hitch(this,function(da){return g.mixin(L,da)})):(Q=new d,Q.resolve(L));return Q},
_getPublishParameters:function(L){var Q=this._geocoder||"none";L=this._getDefaultPublishParameters(L);var X=this._analyzeResult&&this._analyzeResult.publishParameters,Y=X&&X.standardizedFieldNames,da=this._grid&&this._grid.store;if(X)if("addressTypes"===Q){var ha=0,ma={},na=Y;da.query(function(wa){"unknown"!==wa.locationType&&wa.locationType in na&&(ma[wa.locationType]=wa.name,ha++)});if(1>ha)return{error:this.i18n.errors.noAddressFields};L.publishParameters.locationType="address";L.publishParameters.addressFields=
ma}else if("locationTypes"===Q){var sa={locationType:"coordinates",latitudeFieldName:null,longitudeFieldName:null};na=g.mixin({},this.i18n.addItemFrm[Q]);da.query(function(wa){"unknown"!==wa.locationType&&wa.locationType in na&&(sa[wa.locationType+"FieldName"]=wa.name)});if(!sa.latitudeFieldName||!sa.longitudeFieldName)return{error:this.i18n.errors.noLocationFields};g.mixin(L,sa)}else L.publishParameters.locationType="none";return L},_getDefaultPublishParameters:function(L){var Q=L.type.toLowerCase(),
X={itemId:L.id,filetype:Q},Y=this._analyzeResult&&this._analyzeResult.publishParameters;"tile package"===Q&&(X.filetype="tilePackage",X.buildInitialCache=!0);X.publishParameters=g.mixin(Y||{},{name:L.title.replace(/ /g,"_"),maxRecordCount:2E3});Y&&(X.hasStaticData=!0,X.publishParameters.layerInfo=g.mixin(Y.layerInfo||{},{capabilities:"Query"}),X.publishParameters.persistErrorRecordsForReview=!0);return X},_analyze:function(){var L={};Z.publish("/esri/disable",!0,"Uploading file...");return this._addFile().then(g.hitch(this,
function(Q){Z.publish("/esri/disable",!0,"Analyzing file...");this._analyzedFile=Q;this._portal._isPortal||!this._selectedGeocoder.isWorldGeocodeServer?L.geocodeServiceUrl=encodeURI(this._selectedGeocoder):this._selectedGeocoder.isWorldGeocodeServer&&(L.sourceCountry=this._analyzeResult?this._countries.get("value").toLowerCase():"",L.sourceCountryHint=this._analyzeResult?"":this._sourceCountry);return R.analyzeItem(Q,L,this._portal).then(g.hitch(this,function(X){this._analyzeResult=this._analyzedFile.analyzeResult=
X;this._createGrid(X);c.remove(this.geocoding,"hide");Z.publish("/esri/disable",!1);return this._analyzedFile}))}))},_validate:function(){var L=new d;var Q=this._checkRequired(this.get("item"));Q=Q.then(g.hitch(this,"_itemExists",this.get("item")));Q=Q.then(g.hitch(this,function(X){L.resolve(X)}),g.hitch(this,function(X){this._focusNode&&E.focus(this._focusNode);L.reject(X)}));return L},_isValidFileType:function(L){var Q=!0;this.showFile&&this.validTypes?(this.validTypes=this.validTypes instanceof
Array?this.validTypes:[this.validTypes],-1===a.indexOf(this.validTypes,L)&&(Q=!1)):this.itemInfo[type.toLowerCase()]||(Q=!1);return Q},_checkThumbnailURL:function(L){this.item&&this.item.thumbnail&&this.item.thumbnailUrl?L.thumbnailUrl=this.item.thumbnailUrl:(L.thumbnailURL&&(L.thumbnailURL=S.getStaticImagesUrl()+L.thumbnailURL),this._portal.isPortal&&L.thumbnailURL&&0!==L.thumbnailURL.indexOf("http")&&(L.thumbnailURL=window.location.protocol+"//"+window.location.host+L.thumbnailURL));return L},_isEmpty:function(L){return(this.trim?
/^\s*$/:/^$/).test(L)},_disable:function(L){this._folders.set("disabled",L);this._summaryDijit.set("disabled",L);!this.showFiles&&L&&t(".dijitUploader input",this.contentNode).attr("disabled","disabled")},_loadFolders:function(L,Q){var X=b("ESRI_Content");X=X?k.parse(X):{};var Y=X.folderId||null;this._selectedFolderId=X.folderId||null;(!L||!L.length||L&&L.length&&L[0].title!==this._portalUser.username)&&L.unshift({title:this._portalUser.username,id:"/"});Q.options=a.map(L,"return {label:item.title, value:item.id};");
Q.set("value",Y||this._portalUser.username)},_loadCountries:function(L,Q){var X=this._portal.getPortalUser(),Y=[];X=(this._portal.region||X.region||portal.ipCntryCode||"world").toLowerCase();X="wo"===X?"world":X;for(var da in L)Y.push({label:L[da],value:da.toLowerCase()});Y=Y.sort(function(ha,ma){return ha.label<ma.label?-1:ha.label>ma.label?1:0});Q.set("options",Y);Q.set("value",X,!1);this._sourceCountry=X},_checkRequired:function(){var L=new d,Q,X;t(".required",this.contentNode).map(v.byNode).every(g.hitch(this,
function(Y){return!c.contains(Y.domNode,"hide")&&this._isEmpty(Y.get("value"))?(X=Y.domNode||Y,this._focusNode=t("input",X)[0],Q=g.mixin({},P.publishWizard.errors.error,P.publishWizard.errors.required[Y.get("name")]),!1):!0}));Q?L.reject(Q):L.resolve(!0);return L},_itemExists:function(L){var Q=new d,X=this._type in{mapserver:1,featureserver:1,sceneserver:1,wfs:1,ogcFeatures:1,vectortileserver:1,imageserver:1},Y="wfs"===this._type||"ogcFeatures"===this._type,da=Y?/[.@#%&*+=\-\\';,\/|\\":<>()\?]/g.test(L.title):
X?/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(L.title):/[<>]/g.test(L.title),ha=L.title.match(/^\d/)?!0:!1,ma=this.itemInfo[L.type.toLowerCase()]?this.itemInfo[L.type.toLowerCase()].type:L.type;this._itemExistsCheck(L).then(function(na){da||X&&120<L.title.length?(this._focusNode=t("input",this._title.domNode)[0],Q.reject(X?P.addItemFrm.errors.invalidServiceTitle:P.addItemFrm.errors.invalidItemTitle)):Y&&ha?Q.reject(P.addItemFrm.errors.invalidCharactersStartsWithNumber):na?(this._focusNode=t("input",this._title.domNode)[0],
na=T.substitute({type:ma,title:L.title},P.addItemFrm.errors.itemExists.message),Q.reject({title:P.addItemFrm.errors.error.title,message:na})):Q.resolve(!1)}.bind(this));return Q},_itemExistsCheck:function(L){var Q=L.title,X=this.get("folder"),Y=this.itemInfo[L.type.toLowerCase()]?this.itemInfo[L.type.toLowerCase()].type:L.type,da=this._portalUser.username,ha=new dojo.Deferred;S.request({url:la.restBaseUrl+"search",content:{q:'title:"'+Q+'" AND type:"'+Y+'" AND owner:"'+da+'" AND ownerfolder:"'+(X&&
"/"!==X?X:"root")+'"',num:1}}).then(dojo.hitch(this,function(ma){ma&&ma.total?ha.resolve(this._isSameTitle(L,ma.results.shift())):ha.resolve(!1)}));return ha},_isSameTitle:function(L,Q){return(L&&L.title)===(Q&&Q.title)},_showError:function(L){L.messageCode&&"GWM_0011"===L.messageCode&&(L=g.mixin(L,{message:P.common.errors.spamContentItemCreate}));L=g.mixin(g.mixin({},P.publishWizard.errors.error),L);this._errorDlg.show(L);this._disable(!1);return!1}})})},"dojox/form/Uploader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-attr dojo/dom-construct dojo/dom-form dijit dijit/form/Button ./uploader/_Base ./uploader/_HTML5 ./uploader/_IFrame ./uploader/_Flash dojo/i18n!./nls/Uploader dojo/text!./resources/Uploader.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c){return J("dojox.form.Uploader",[h,n,e,d,a],{uploadOnSelect:!1,tabIndex:0,multiple:!1,label:b.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:c,baseClass:"dijitUploader "+n.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.force=this.force.toLowerCase();this.supports("multiple")?this.uploadType="form"===this.force?"form":
"html5":this.uploadType="flash"===this.force?"flash":"iframe";this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);f.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();u.set(this.titleNode,"tabIndex",-1)},_buildDisplay:function(){this.showInput&&(this.displayInput=q.create("input",{"class":"dijitUploadDisplayInput",tabIndex:-1,autocomplete:"off",role:"presentation"},this.containerNode,this.showInput),this._attachPoints.push("displayInput"),this.connect(this,
"onChange",function(k){for(var r=0,v,B=[];v=k[r++];)v&&v.name&&B.push(v.name);this.displayInput.value=B.join(", ")}),this.connect(this,"reset",function(){this.displayInput.value=""}))},startup:function(){this._buildInitialized||(this._buildInitialized=!0,this._getButtonStyle(this.domNode),this._setButtonStyle(),this.inherited(arguments))},onChange:function(k){},onBegin:function(k){},onProgress:function(k){},onComplete:function(k){this.reset()},onCancel:function(){},onAbort:function(){},onError:function(k){},
upload:function(k){k=k||{};k.uploadType=this.uploadType;this.inherited(arguments)},submit:function(k){k=k?k.tagName?k:this.getForm():this.getForm();k=z.toObject(k);k.uploadType=this.uploadType;this.upload(k)},reset:function(){delete this._files;this._disconnectButton();y.forEach(this._inputs,q.destroy);this._inputs=[];this._nameIndex=0;this._createInput()},getFileList:function(){var k=[];this.supports("multiple")?y.forEach(this._files,function(r,v){k.push({index:v,name:r.name,size:r.size,type:r.type})},
this):y.forEach(this._inputs,function(r,v){r.value&&k.push({index:v,name:r.value.substring(r.value.lastIndexOf("\\")+1),size:0,type:r.value.substring(r.value.lastIndexOf(".")+1)})},this);return k},_getValueAttr:function(){return this.getFileList()},_setValueAttr:function(k){},_setDisabledAttr:function(k){this.disabled!=k&&this.inputNode&&(this.inherited(arguments),f.set(this.inputNode,"display",k?"none":""))},_getButtonStyle:function(k){this.btnSize={w:f.get(k,"width"),h:f.get(k,"height")}},_setButtonStyle:function(){this.inputNodeFontSize=
Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput()},_getFileFieldName:function(){return this.supports("multiple")&&this.multiple?this.name+"s[]":this.name+(this.multiple?this._nameIndex:"")},_createInput:function(){this._inputs.length&&(f.set(this.inputNode,{top:"500px"}),this._disconnectButton(),this._nameIndex++);var k=this._getFileFieldName();this.focusNode=this.inputNode=q.create("input",{type:"file",name:k,"aria-labelledby":this.id+"_label"},this.domNode,
"first");this.supports("multiple")&&this.multiple&&u.set(this.inputNode,"multiple",!0);this._inputs.push(this.inputNode);f.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton()},_connectButton:function(){this._cons.push(t.connect(this.inputNode,"change",this,function(k){this._files=this.inputNode.files;this.onChange(this.getFileList(k));!this.supports("multiple")&&this.multiple&&this._createInput()}));-1<this.tabIndex&&
(this.inputNode.tabIndex=this.tabIndex,this._cons.push(t.connect(this.inputNode,"focus",this,function(){g.add(this.domNode,this.focusedClass)})),this._cons.push(t.connect(this.inputNode,"blur",this,function(){g.remove(this.domNode,this.focusedClass)})))},_disconnectButton:function(){y.forEach(this._cons,t.disconnect);this._cons.splice(0,this._cons.length)}})})},"dojox/form/uploader/_Base":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/has dojo/_base/declare dojo/_base/event dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin".split(" "),
function(T,J,p,y,t,m,f,g,l,u){t.add("FormData",function(){return!!window.FormData});t.add("xhr-sendAsBinary",function(){var q=window.XMLHttpRequest&&new window.XMLHttpRequest;return q&&!!q.sendAsBinary});t.add("file-multiple",function(){return!!{"true":1,"false":1}[y.get(document.createElement("input",{type:"file"}),"multiple")]});return m("dojox.form.uploader._Base",[g,l,u],{getForm:function(){if(!this.form)for(var q=this.domNode;q&&q.tagName&&q!==document.body;){if("form"==q.tagName.toLowerCase()){this.form=
q;break}q=q.parentNode}return this.form},getUrl:function(){this.uploadUrl&&(this.url=this.uploadUrl);if(this.url)return this.url;this.getForm()&&(this.url=this.form.action);return this.url},connectForm:function(){this.url=this.getUrl();!this._fcon&&this.getForm()&&(this._fcon=!0,this.connect(this.form,"onsubmit",function(q){f.stop(q);this.submit(this.form)}))},supports:function(q){switch(q){case "multiple":if("flash"==this.force||"iframe"==this.force)break;return t("file-multiple");case "FormData":return t(q);
case "sendAsBinary":return t("xhr-sendAsBinary")}return!1},getMimeType:function(){return"application/octet-stream"},getFileType:function(q){return q.substring(q.lastIndexOf(".")+1).toUpperCase()},convertBytes:function(q){var z=Math.round(q/1024*1E5)/1E5,x=Math.round(q/1048576*1E5)/1E5,n=Math.round(q/1073741824*1E5)/1E5,h=q;1<z&&(h=z.toFixed(1)+" kb");1<x&&(h=x.toFixed(1)+" mb");1<n&&(h=n.toFixed(1)+" gb");return{kb:z,mb:x,gb:n,bytes:q,value:h}}})})},"dojox/form/uploader/_HTML5":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo dojo/request dojo/has".split(" "),
function(T,J,p,y,t,m){return T("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.connectForm();this.inherited(arguments);this.uploadOnSelect&&this.connect(this,"onChange",function(f){this.upload(f[0])})},_drop:function(f){y.stopEvent(f);this._files=f.dataTransfer.files;this.onChange(this.getFileList())},upload:function(f){this.onBegin(this.getFileList());
this.uploadWithFormData(f)},addDropTarget:function(f,g){g||(this.connect(f,"dragenter",y.stopEvent),this.connect(f,"dragover",y.stopEvent),this.connect(f,"dragleave",y.stopEvent));this.connect(f,"drop","_drop")},uploadWithFormData:function(f){function g(n){z._xhrProgress(n);"load"===n.type&&(z.onComplete(x.response.data),x.response.xhr.removeEventListener("load",g,!1),x.response.xhr.upload.removeEventListener("progress",g,!1),x=null)}if(this.getUrl()){var l=new FormData,u=this._getFileFieldName();
p.forEach(this._files,function(n,h){l.append(u,n)},this);if(f){f.uploadType=this.uploadType;for(var q in f)l.append(q,f[q])}var z=this,x=t(this.getUrl(),{method:"POST",data:l,handleAs:"json",uploadProgress:!0,headers:{Accept:"application/json"}},!0);x.promise.response.otherwise(function(n){z.onError(n)});m("native-xhr2")?(x.response.xhr.addEventListener("load",g,!1),x.response.xhr.upload.addEventListener("progress",g,!1)):x.promise.then(function(n){z.onComplete(n)})}},_xhrProgress:function(f){if(f.lengthComputable){var g=
{bytesLoaded:f.loaded,bytesTotal:f.total,type:f.type,timeStamp:f.timeStamp};"load"==f.type?(g.percent="100%",g.decimal=1):(g.decimal=f.loaded/f.total,g.percent=Math.ceil(f.loaded/f.total*100)+"%");this.onProgress(g)}}})})},"dojox/form/uploader/_IFrame":function(){define("dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-form dojo/request/iframe".split(" "),function(T,J,p,y,t,m,f){return p("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);
"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(g){var l={};this.getForm();var u=this.getUrl(),q=this;g=g||{};g.uploadType=this.uploadType;var z=J.place('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e\x3c/form\x3e',this.domNode);t.forEach(this._inputs,function(x,n){""!==x.value&&(z.appendChild(x),l[x.name]=x.value)},this);if(g)for(nm in g)void 0===l[nm]&&J.create("input",{name:nm,value:g[nm],type:"hidden"},z);f.post(u,{form:z,
handleAs:"json",content:g}).then(function(x){J.destroy(z);if(x.ERROR||x.error)q.onError(x);else q.onComplete(x)},function(x){J.destroy(z);q.onError(x)})}})})},"dojox/form/uploader/_Flash":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/array dojox/embed/Flash".split(" "),function(T,J,p,y,t,m,f,g,l,u){return t("dojox.form.uploader._Flash",[],{swfPath:m.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),
preventCache:!0,skipServerCheck:!0,serverTimeout:2E3,isDebug:!1,devMode:!1,deferredUploading:0,postMixInProperties:function(){"flash"===this.uploadType&&(this._files=[],this._fileMap={},this._createInput=this._createFlashUploader,this.getFileList=this.getFlashFileList,this.reset=this.flashReset,this.upload=this.uploadFlash,this.fieldname="flashUploadFiles");this.inherited(arguments)},onReady:function(q){},onLoad:function(q){},onFileChange:function(q){},onFileProgress:function(q){},getFlashFileList:function(){return this._files},
flashReset:function(){this.flashMovie.reset();this._files=[];this._fileMap={}},uploadFlash:function(q){this.onBegin(this.getFileList());q=q||{};q.returnType="F";q.uploadType=this.uploadType;this.flashMovie.doUpload(q)},_change:function(q){this._files=this._files.concat(q);l.forEach(q,function(z){z.bytesLoaded=0;z.bytesTotal=z.size;this._fileMap[z.name+"_"+z.size]=z},this);this.onChange(this._files);this.onFileChange(q)},_complete:function(q){this._getCustomEvent().type="load";this.onComplete(q)},
_progress:function(q){this._fileMap[q.name+"_"+q.bytesTotal].bytesLoaded=q.bytesLoaded;var z=this._getCustomEvent();this.onFileProgress(q);this.onProgress(z)},_error:function(q){this.onError(q)},_onFlashBlur:function(q){},_getCustomEvent:function(){var q={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:(new Date).getTime()},z;for(z in this._fileMap)q.bytesTotal+=this._fileMap[z].bytesTotal,q.bytesLoaded+=this._fileMap[z].bytesLoaded;q.decimal=q.bytesLoaded/q.bytesTotal;q.percent=Math.ceil(q.bytesLoaded/
q.bytesTotal*100)+"%";return q},_connectFlash:function(){this._subs=[];this._cons=[];var q=g.hitch(this,function(z,x){this._subs.push(f.subscribe(this.id+z,this,x))});q("/filesSelected","_change");q("/filesUploaded","_complete");q("/filesProgress","_progress");q("/filesError","_error");q("/filesCanceled","onCancel");q("/stageBlur","_onFlashBlur");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus()});0<=this.tabIndex&&y.set(this.domNode,"tabIndex",this.tabIndex)},
_createFlashUploader:function(){var q=this.btnSize.w,z=this.btnSize.h;if(q){var x=this.getUrl();if(x&&0>x.toLowerCase().indexOf("http")&&0!=x.indexOf("/")){var n=window.location.href.split("/");n.pop();n=n.join("/")+"/";x=n+x}this.inputNode=p.create("div",{className:"dojoxFlashNode"},this.domNode,"first");J.set(this.inputNode,{position:"absolute",top:"-2px",width:q+"px",height:z+"px",opacity:0});q={expressInstall:!0,path:(this.swfPath.uri||this.swfPath)+(this.preventCache?"?cb_"+(new Date).getTime():
""),width:q,height:z,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:x,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new u(q,this.inputNode);this.flashObject.onError=
g.hitch(function(h){});this.flashObject.onReady=g.hitch(this,function(){this.onReady(this)});this.flashObject.onLoad=g.hitch(this,function(h){this.flashMovie=h;this.flashReady=!0;this.onLoad(this)});this._connectFlash()}else setTimeout(dojo.hitch(this,function(){this._getButtonStyle(this.domNode);this._createFlashUploader()}),200)}})})},"dojox/embed/Flash":function(){define("dojo/_base/lang dojo/_base/unload dojo/_base/array dojo/query dojo/has dojo/dom dojo/on dojo/window dojo/string".split(" "),
function(T,J,p,y,t,m,f,g,l){function u(e){e=T.delegate(z,e);if(!("path"in e))return null;"id"in e||(e.id="dojox-embed-flash-"+q++);return e}var q=0,z={expressInstall:!1,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};if(t("ie")){var x=function(e){e=u(e);if(!e)return null;var d,a=e.path;if(e.vars){var b=[];for(d in e.vars)b.push(encodeURIComponent(d)+"\x3d"+encodeURIComponent(e.vars[d]));e.params.FlashVars=b.join("\x26");delete e.vars}a=
'\x3cobject id\x3d"'+l.escape(String(e.id))+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"'+l.escape(String(e.width))+'" height\x3d"'+l.escape(String(e.height))+'"'+(e.style?' style\x3d"'+l.escape(String(e.style))+'"':"")+'\x3e\x3cparam name\x3d"movie" value\x3d"'+l.escape(String(a))+'" /\x3e';if(e.params)for(d in e.params)a+='\x3cparam name\x3d"'+l.escape(d)+'" value\x3d"'+l.escape(String(e.params[d]))+'" /\x3e';return{id:e.id,markup:a+"\x3c/object\x3e"}};var n=function(){for(var e=
10,d=null;!d&&7<e;)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e--)}catch(a){}return d?(e=d.GetVariable("$version").split(" ")[1].split(","),{major:null!=e[0]?parseInt(e[0]):0,minor:null!=e[1]?parseInt(e[1]):0,rev:null!=e[2]?parseInt(e[2]):0}):{major:0,minor:0,rev:0}}();J.addOnWindowUnload(function(){var e=function(){};y("object").reverse().style("display","none").forEach(function(d){for(var a in d)if("FlashVars"!=a&&"function"==typeof d[a])try{d[a]=e}catch(b){}})})}else x=function(e){e=
u(e);if(!e)return null;var d,a=e.path;if(e.vars){var b=[];for(d in e.vars)b.push(encodeURIComponent(d)+"\x3d"+encodeURIComponent(e.vars[d]));e.params.flashVars=b.join("\x26");delete e.vars}a='\x3cembed type\x3d"application/x-shockwave-flash" src\x3d"'+l.escape(String(a))+'" id\x3d"'+l.escape(String(e.id))+'" width\x3d"'+l.escape(String(e.width))+'" height\x3d"'+l.escape(String(e.height))+'"'+(e.style?' style\x3d"'+l.escape(String(e.style))+'" ':"")+'pluginspage\x3d"'+window.location.protocol+'//www.adobe.com/go/getflashplayer" ';
if(e.params)for(d in e.params)a+=" "+l.escape(d)+'\x3d"'+l.escape(String(e.params[d]))+'"';return{id:e.id,markup:a+" /\x3e"}},n=function(){var e=navigator.plugins["Shockwave Flash"];return e&&e.description?(e=e.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),{major:null!=e[0]?parseInt(e[0]):0,minor:null!=e[1]?parseInt(e[1]):0,rev:null!=e[2]?parseInt(e[2]):0}):{major:0,minor:0,rev:0}}();var h=function(e,d){if(-1<location.href.toLowerCase().indexOf("file://"))throw Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");
this.available=n.major;this.minimumVersion=e.minimumVersion||9;this.domNode=this.movie=this.id=null;d&&(d=m.byId(d));setTimeout(T.hitch(this,function(){if(e.expressInstall||this.available&&this.available>=this.minimumVersion)if(e&&d)this.init(e,d);else this.onError("embed.Flash was not provided with the proper arguments.");else if(this.available)this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);else this.onError("Flash is not installed.")}),
100)};T.extend(h,{onReady:function(e){},onLoad:function(e){},onError:function(e){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie)},init:function(e,d){this.destroy();d=m.byId(d||this.domNode);if(!d)throw Error("dojox.embed.Flash: no domNode reference has been passed.");var a=0;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;h.initialized&&(this.id=h.place(e,d),this.domNode=d,setTimeout(T.hitch(this,
function(){this.movie=this.byId(this.id,e.doc);this.onReady(this.movie);this._poller=setInterval(T.hitch(this,function(){try{a=this.movie.PercentLoaded()}catch(b){}if(100==a)this._onload();else if(0==a&&this._pollCount++>this._pollMax)throw clearInterval(this._poller),Error("Building SWF failed.");}),this.pollTime)}),1))},_destroy:function(){try{this.domNode.removeChild(this.movie)}catch(e){}this.id=this.movie=this.domNode=null},destroy:function(){if(this.movie){var e=T.delegate({id:!0,movie:!0,domNode:!0,
onReady:!0,onLoad:!0}),d;for(d in this)e[d]||delete this[d];this._poller?f(this,"Load",this,"_destroy"):this._destroy()}},byId:function(e,d){d=d||document;return d.embeds[e]?d.embeds[e]:d[e]?d[e]:window[e]?window[e]:document[e]?document[e]:null}});T.mixin(h,{minSupported:8,available:n.major,supported:n.major>=n.required,minimumRequired:n.required,version:n,initialized:!1,onInitialize:function(){h.initialized=!0},__ie_markup__:function(e){return x(e)},proxy:function(e,d){p.forEach(d instanceof Array?
d:[d],function(a){this[a]=T.hitch(this,function(){return function(){return eval(this.movie.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e\x3carguments\x3e'+p.map(arguments,function(b){return __flash__toXML(b)}).join("")+"\x3c/arguments\x3e\x3c/invoke\x3e"))}.apply(this,arguments||[])})},e)}});h.place=function(e,d){var a=x(e);d=m.byId(d);d||(d=g.doc.createElement("div"),d.id=a.id+"-container",g.body().appendChild(d));return a?(d.innerHTML=a.markup,a.id):null};h.onInitialize();
T.setObject("dojox.embed.Flash",h);return h})},"dijit/ConfirmDialog":function(){define(["dojo/_base/declare","./Dialog","./_ConfirmDialogMixin"],function(T,J,p){return T("dijit.ConfirmDialog",[J,p],{})})},"dijit/_ConfirmDialogMixin":function(){define(["dojo/_base/declare","./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(T,J,p,y){return T("dijit._ConfirmDialogMixin",J,{actionBarTemplate:y,buttonOk:p.buttonOk,_setButtonOkAttr:{node:"okButton",
attribute:"label"},buttonCancel:p.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},"esri/dijit/Tags":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/html dojo/keys dojo/on dojo/query dojo/string dojo/store/Memory dijit/focus dijit/form/TextBox dijit/registry dijit/Tooltip dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dgrid/OnDemandGrid dgrid/Selection dgrid/Keyboard ../kernel ../lang dojo/i18n!../nls/jsapi dojo/NodeList-traverse dojo/NodeList-manipulate dojo/_base/sniff".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F){c=J([r,c,k],{declaredClass:"esri.dijit.Tags",templateString:'\x3cdiv class\x3d"${baseClass}"\x3e\x3c/div\x3e',baseClass:"esriTags",_attachmentNode:"",_autocompleteList:"",_grid:"",_store:"",_matchParam:"",_idProperty:"",_gridId:"",_filterId:"",_placeHolder:"",_noDataMsg:"",_maxWidth:"",_minWidth:"",_inputTextBox:"",_gridHasFocus:!1,_metaKeyPressed:!1,_shiftKeyPressed:!1,_CSS_STYLES:{CLASS_SELECTOR:".",ALL_SELECTOR:"\x3e",MULTI:"select2-container select2-container-multi",
CHOICES:"select2-choices",CHOICE:"select2-search-choice",SEARCH_CHOICE_FOCUS:"select2-search-choice-focus",SEARCH_FIELD:"select2-search-field",CLOSE_ICON:"select2-search-choice-close"},values:[],_selRows:[],_CHOICE_SELECTOR:"",_CHOICE_FOCUS:"",_CHOICE_FOCUS_ALL:"",tooltipPosition:[],constructor:function(w){this._idProperty=w.idProperty||"tag";this._maxWidth=w.maxWidth||"auto";this._minWidth=w.minWidth||"auto";this._matchParam=w.matchParam||"first";this.values=[];this._selRows=[];this._CHOICE_ALL_SELECTOR=
this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE+this._CSS_STYLES.ALL_SELECTOR;this._CHOICE_FOCUS=this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.SEARCH_CHOICE_FOCUS;this._CHOICE_FOCUS_ALL=this._CHOICE_FOCUS+this._CSS_STYLES.ALL_SELECTOR},postMixInProperties:function(){this.inherited(arguments);var w=(new Date).getTime();this._tagsId="userTags-"+w;this._gridId="grid-"+w;this._filterId="filter-"+w;this._isIE8=9>l("ie");this.i18n={};p.mixin(this.i18n,F.widgets.tags)},postCreate:function(){if(this._isIE8)this._textTags=
new d({trim:!0,placeHolder:this.i18n.addTags,style:{minWidth:this.minWidth,maxWidth:this.maxWidth}},f.create("div",{id:this._tagsId},this.domNode)),this._textTags.startup(),m.add(this._textTags.domNode,"ie8Style");else{this._attachmentNode=f.create("div",{id:this._tagsId,className:"grid_1"},this.domNode);this._createContainerNode();this._createTagList();this._createDropDownList();this._createInput();var w=p.hitch(this,function(R,N,K){N=this._inputTextBox?this._inputTextBox.get("value")+"":"";if(1>
N.length)return!0;if(!R.tag)return!1;R=(R.tag+"").toLowerCase().match(new RegExp("^"+N.toLowerCase()));return null!==R&&0<R.length?!0:!1}),D=p.hitch(this,function(R,N,K){N=this._inputTextBox?this._inputTextBox.get("value")+"":"";return 1>N.length?!0:R.tag?(R.tag+"").toLowerCase().indexOf(N.toLowerCase())?!0:!1:!1}),G=[{field:this._idProperty}],H=[{attribute:this._idProperty,ascending:!0}];this._store=new h({idProperty:this._idProperty,data:[]});this._grid=new (J([v,B,C]))({store:this._store,showHeader:!1,
noDataMessage:this.i18n.noTagsFound,selectionMode:"extended",allowSelectAll:!0,cellNavigation:!1,columns:G,sort:H,renderRow:this._renderItem},this._dropDownList);this._grid.startup();m.add(this._grid.domNode,"gridHeightLimiter");this._grid.query="first"===this._matchParam?w:D;var M;this.own(this._inputTextBox.watch("value",p.hitch(this,function(R,N,K){M&&(clearTimeout(M),M=null);this._grid.refresh()})));this.own(this._grid.on(".dgrid-row:click",p.hitch(this,function(R){var N="";this._shiftKeyPressed||
this._metaKeyPressed?R.shiftKey||R.metaKey||R.ctrlKey||(N=this._selRows[0],this._createTags(N),this._store.remove(N),this._grid.refresh(),this._resetInputTextBox()):(N=this._grid.row(R).data.tag,this._createTags(N),this._store.remove(N),this._grid.refresh(),this._resetInputTextBox())})));this.own(this._grid.on("dgrid-deselect",p.hitch(this,function(R){this._selRows=[];for(var N in this._grid.selection)this._grid.selection.hasOwnProperty(N)&&this._selRows.push(N)})));this.own(this._grid.on("dgrid-select",
p.hitch(this,function(R){this._selRows=[];for(var N in this._grid.selection)this._grid.selection.hasOwnProperty(N)&&this._selRows.push(N)})));this.own(this.connect(this.domNode,"keydown","_keydownHandler"));window.onkeydown=p.hitch(this,function(R){if(R.shiftKey||R.ctrlKey||224===R.keyCode)this._metaKeyPressed=!0});this.own(this.connect(document,"onkeydown",p.hitch(this,function(R){this._metaKeyPressed=this._shiftKeyPressed=!0})))}},_keydownHandler:function(w){this._clearMessage();if(void 0!==e.curNode.value)var D=
e.curNode.value.length;var G=x(this._CHOICE_FOCUS,y.byId(this.id)),H=x(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,y.byId(this.id)).last();switch(w.keyCode){case q.RIGHT_ARROW:this._navigate(G,D,H,"right");this._hideGrid();break;case q.LEFT_ARROW:this._navigate(G,D,H,"left");this._hideGrid();break;case q.DOWN_ARROW:w.preventDefault();this._unhighlightTag(G);"none"===g.get(this._gridId,"display")&&this._showGrid();this._gridHasFocus||(this._grid.focus(this._setFocusOnFirstRow(this._grid,
0)),this._gridHasFocus=!0);break;case q.UP_ARROW:break;case q.BACKSPACE:if(0===D&&0===x(this._CHOICE_FOCUS_ALL).length&&void 0!==x(this._CHOICE_ALL_SELECTOR)[x(this._CHOICE_ALL_SELECTOR).length-1]){var M=x(this._CHOICE_ALL_SELECTOR)[x(this._CHOICE_ALL_SELECTOR).length-1].title;if(0<x("li",this._attachmentNode).length&&(f.destroy(H[0]),void 0!==M))try{this._store.add({tag:M})}catch(N){}}if(0<x(this._CHOICE_FOCUS_ALL).length&&(M=x(this._CHOICE_FOCUS_ALL).text(),f.destroy(G[0]),void 0!==M))try{this._store.add({tag:M})}catch(N){}this._grid.refresh();
0===D&&this._hideGrid();this._removeTag(M);this._emitRemoved(M);this._emitChanged();this.validate();break;case q.CTRL:this._metaKeyPressed=!0;break;case q.META:this._metaKeyPressed=!0;break;case q.SHIFT:this._shiftKeyPressed=!0;break;case q.ENTER:if(0<D){D=this._stripHTML(e.curNode.value);D=D.split(",");var R=[];T.forEach(D,function(N,K){-1===T.indexOf(R,N)&&R.push(n.trim(N))});T.forEach(R,p.hitch(this,function(N,K){this._isEmpty(N)||this._contains(this.values,N)||this._createTags(N)}))}else{for(D=
0;D<this._selRows.length;D++)this._createTags(this._selRows[D]),this._store.remove(this._selRows[D]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();w.preventDefault();e.focus(y.byId(this._filterId));break;case q.TAB:if(e.curNode.id!==this._filterId||0!==D){if(0<D)D=this._stripHTML(e.curNode.value),D=D.split(","),R=[],T.forEach(D,function(N,K){-1===T.indexOf(R,N)&&R.push(n.trim(N))}),T.forEach(R,p.hitch(this,function(N,K){this._isEmpty(N)||this._contains(this.values,N)||this._createTags(N)}));
else{for(D=0;D<this._selRows.length;D++)this._createTags(this._selRows[D]),this._store.remove(this._selRows[D]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();w.preventDefault();e.focus(y.byId(this._filterId))}break;case q.ESCAPE:this._hideGrid();break;default:-1<D&&("none"===g.get(y.byId(this._gridId),"display")&&this._showGrid(),this._unhighlightTag(G)),this._metaKeyPressed=!1}},_blurHandler:function(w,D,G){if(!this.focused){w=this._stripHTML(this._inputTextBox.value);if(0<
w.length){var H=[];w=w.split(",");T.forEach(w,function(M,R){-1===T.indexOf(H,M)&&H.push(n.trim(M))});T.forEach(H,p.hitch(this,function(M,R){this._isEmpty(M)||this._contains(this.values,M)||this._createTags(M)}));this._resetInputTextBox()}this._hideGrid()}this.validate()},isValid:function(){var w=this.get("value");return this.required?E.isDefined(w)&&0<w.length:!0},validate:function(){this._created&&!this.isValid()?(t.set(this.domNode,"aria-invalid","true"),this._displayMessage(this.i18n.required)):
(t.set(this.domNode,"aria-invalid","false"),this._displayMessage(null))},_clearMessage:function(){this._displayMessage(null)},_displayMessage:function(w){var D=this._isIE8?this._textTags.domNode:y.byId(this._tagsId);w&&this.focused?b.show(w,D):b.hide(D)},_resetInputTextBox:function(){a.byId(this._filterId).set("value","")},_isEmpty:function(w){w=w.replace(/^\s+|\s+$/,"");return 0===w.length?!0:!1},_navigate:function(w,D,G,H){0<w.length&&1>D?("right"===H?this._hightlightTag(w.next()):this._hightlightTag(w.prev()),
this._unhighlightTag(w)):1>D&&this._hightlightTag(G)},_contains:function(w,D){return 0<=T.indexOf(w,D)},_hightlightTag:function(w){w.addClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_unhighlightTag:function(w){w.removeClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_removeTag:function(w){w&&-1!==T.indexOf(this.values,w)&&this.values.splice(T.indexOf(this.values,w),1)},_hideGrid:function(){y.byId(this._gridId)&&g.set(y.byId(this._gridId),"display","none");this._gridHasFocus=!1},_showGrid:function(){g.set(y.byId(this._gridId),
"display","block");var w=g.get(y.byId(this._attachmentNode),"width");g.set(y.byId(this._gridId),"width",w+"px")},_setFocusOnFirstRow:function(w,D){return x(".dgrid-content .dgrid-cell",this._grid.domNode)[D]||x(".dgrid-content .dgrid-row",this._grid.domNode)[D]},_createTags:function(w){x(this._CHOICE_FOCUS,y.byId(this.id)).removeClass("select2-search-choice-focus");var D=f.create("li",null,this._autocompleteList);m.add(D,this._CSS_STYLES.CHOICE);D=f.create("div",{title:w},D);u.set(D,this._htmlEncode(w));
D=f.create("a",{href:"#"},D);m.add(D,this._CSS_STYLES.CLOSE_ICON);z(D,"click",p.hitch(this,function(G){var H=n.trim(G.target.parentElement.textContent);try{this._store.add({tag:H})}catch(M){}this._grid.refresh();this._removeTag(H);this._emitRemoved(H);this._emitChanged();f.destroy(G.target.parentNode.parentNode);G.preventDefault()}));D=a.byId(this._filterId);f.place(D.domNode,this._autocompleteList,"last");this._hideGrid();this.values.push(w);this._emitAdded(w);this._emitChanged()},_emitAdded:function(w){this.emit("tags-add",
{tag:w})},_emitRemoved:function(w){this.emit("tags-remove",{tag:w})},_emitChanged:function(){this.emit("tags-change",{tags:this.get("tags")})},_renderItem:function(w){return f.create("div",{innerHTML:w.tag})},_createContainerNode:function(){this._containerNode=f.create("div",null,this._attachmentNode);m.add(this._containerNode,this._CSS_STYLES.MULTI);g.set(this._containerNode,"maxWidth",this._maxWidth);g.set(this._containerNode,"minWidth",this._minWidth)},_createTagList:function(){this._autocompleteList=
f.create("ul",null,this._containerNode);m.add(this._autocompleteList,this._CSS_STYLES.CHOICES)},_createInput:function(){var w=f.create("li",null,this._autocompleteList,"last");m.add(w,this._CSS_STYLES.SEARCH_FIELD);this._inputTextBox=new d({id:this._filterId,placeHolder:this.i18n.addTags,intermediateChanges:!0,trim:!0,style:{border:"none"}},w);m.add(this._inputTextBox,"inputTextBox");g.set(this._inputTextBox,"width",this._minWidth);(8<l("ie")||4<l("trident"))&&m.add(this._inputTextBox.domNode,"ieStyle");
this.own(e.watch("curNode",p.hitch(this,this._blurHandler)))},_createDropDownList:function(){this._dropDownList=f.create("div",{id:this._gridId},this._containerNode);m.add(this._dropDownList,"dropDownList");g.set(this._dropDownList,"width",this._minWidth)},focus:function(){e.focus(this.domNode);this._isIE8?this._textTags.focus():this._inputTextBox.focus()},reset:function(){this.clearTags()},prepopulate:function(w){T.forEach(w,p.hitch(this,function(D,G){this._createTags(D);this._store.remove(D)}))},
clearTags:function(){var w=x(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,y.byId(this.id)),D=!1,G;0<w.length&&(D=!0,T.forEach(w,p.hitch(this,function(H,M){try{G=x(this._CHOICE_ALL_SELECTOR,y.byId(this.id))[0].title,this._store.add({tag:G})}catch(R){}f.destroy(H);this._emitRemoved(G)})),this.values=[],D&&this._emitChanged())},addStyledTags:function(w,D){m.add(y.byId(D),this._CSS_STYLES.MULTI);var G=f.create("ul",null,y.byId(D));m.add(G,this._CSS_STYLES.CHOICES);g.set(G,"border","none");
T.forEach(w,function(H,M){var R=f.create("li",null,G);g.set(R,"padding","3px 5px 3px 5px");m.add(R,"select2-search-resultSet");R=f.create("div",{title:H},R);u.set(R,H)})},_getUniqueTags:function(w){var D=[],G;T.forEach(w,p.hitch(this,function(H){G=this._stripHTML(H);E.isDefined(G)&&0<G.length&&D.push(G)}));return T.filter(D,p.hitch(this,function(H,M){return T.indexOf(D,H)===M}))},_setValueAttr:function(w){this._setTagsAttr(w)},_getValueAttr:function(){return this._getTagsAttr()},_setTagsAttr:function(w){!w||
w instanceof Array||(w=w.split(","));this._isIE8?this._textTags&&this._textTags.set("value",this._getUniqueTags(w).join(",")):(this.clearTags(),this.prepopulate(w?this._getUniqueTags(w):[]))},_getTagsAttr:function(){return this._isIE8?this._textTags?this._textTags.get("value"):"":this.values?this.values.join(","):""},_setRequiredAttr:function(w){this.required=w},_getRequiredAttr:function(){return this.required},_setMinWidthAttr:function(w){this.minWidth=w},_setMaxWidthAttr:function(w){this.maxWidth=
w},_setKnownTagsAttr:function(w){if(!this._isIE8){var D=[],G;for(G=0;G<w.length;G++)0>T.indexOf(this.values,w[G])&&D.push(w[G]);this._store=new h({idProperty:this._idProperty,data:D});this._grid.set("store",this._store);this._grid.refresh()}},_stripHTML:function(w){return w&&w.replace(/<(?:.|\s)*?>/g,"")},_htmlEncode:function(w){return w?w.replace(/&/g,"\x26amp;").replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;").replace(/"/g,"\x26quot;"):w}});p.setObject("dijit.Tags",c,A);return c})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(T,J,p,y,t,m,f,g){function l(C){C.preventDefault()}var u={checkbox:1,radio:1,button:1},q=/\bdgrid-cell\b/,z=/\bdgrid-row\b/,x=T("dgrid.Keyboard",null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=y.mixin({},x.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=y.mixin({},x.defaultHeaderKeyMap))},postCreate:function(){function C(F){var w=F.target;return w.type&&(!u[w.type]||32==F.keyCode)}function A(F){function w(){E._focusedHeaderNode&&
(E._focusedHeaderNode.tabIndex=-1);if(E.showHeader){if(D)for(var R=0,N,K=E.headerNode.getElementsByTagName("th");N=K[R];++R){if(G.test(N.className)){E._focusedHeaderNode=M=N;break}}else E._focusedHeaderNode=M=E.headerNode;M&&(M.tabIndex=E.tabIndex)}}var D=E.cellNavigation,G=D?q:z,H=F===E.headerNode,M=F;H?(w(),J.after(E,"renderHeader",w,!0)):J.after(E,"renderArray",function(R){return g.when(R,function(N){var K=E._focusedNode||M;if(G.test(K.className)&&f.contains(F,K))return N;for(var V=0,Z=F.getElementsByTagName("*"),
ca;ca=Z[V];++V)if(G.test(ca.className)){K=E._focusedNode=ca;break}K.tabIndex=E.tabIndex;return N})});E._listeners.push(p(F,"mousedown",function(R){C(R)||E._focusOnNode(R.target,H,R)}));E._listeners.push(p(F,"keydown",function(R){if(!R.metaKey&&!R.altKey){var N=E[H?"headerKeyMap":"keyMap"][R.keyCode];N&&!C(R)&&N.call(E,R)}}))}this.inherited(arguments);var E=this;this.tabableHeader&&(A(this.headerNode),this._listeners.push(p(this.headerNode,"dgrid-cellfocusin",function(){E.scrollTo({x:this.scrollLeft})})));
A(this.contentNode);this._debouncedEnsureScroll=f.debounce(this._ensureScroll,this)},removeRow:function(C){if(!this._focusedNode)return this.inherited(arguments);var A=this,E=document.activeElement===this._focusedNode,F=this[this.cellNavigation?"cell":"row"](this._focusedNode),w=F.row||F,D;C=C.element||C;C===w.element&&((D=this.down(w,!0))&&D.element!==C||(D=this.up(w,!0)),this._removedFocus={active:E,rowId:w.id,columnId:F.column&&F.column.id,siblingId:D&&D.element!==C?D.id:void 0},setTimeout(function(){A._removedFocus&&
A._restoreFocus(w.id)},0),this._focusedNode=null);this.inherited(arguments)},insertRow:function(C){var A=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(A);return A},_restoreFocus:function(C){var A=this._removedFocus,E;if((C=(C=C&&this.row(C))&&C.element&&C.id===A.rowId?C:"undefined"!==typeof A.siblingId&&this.row(A.siblingId))&&C.element){if(!C.element.parentNode.parentNode){A.wait=!0;return}"undefined"!==typeof A.columnId&&(E=this.cell(C,A.columnId))&&
E.element&&(C=E);A.active&&0!==C.element.offsetHeight?this._focusOnNode(C,!1,null):(m(C.element,".dgrid-focus"),C.element.tabIndex=this.tabIndex,this._focusedNode=C.element)}delete this._removedFocus},addKeyHandler:function(C,A,E){return J.after(this[E?"headerKeyMap":"keyMap"],C,A,!0)},_ensureRowScroll:function(C){var A=this.getScrollPosition().y;A>C.offsetTop?this.scrollTo({y:C.offsetTop}):A+this.contentNode.offsetHeight<C.offsetTop+C.offsetHeight&&this.scrollTo({y:C.offsetTop-this.contentNode.offsetHeight+
C.offsetHeight})},_ensureColumnScroll:function(C){var A=this.getScrollPosition().x,E=C.offsetLeft;if(A>E)this.scrollTo({x:E});else{var F=this.bodyNode.clientWidth;C=C.offsetWidth;var w=E+C;A+F<w&&this.scrollTo({x:F>C?w-F:E})}},_ensureScroll:function(C,A){this.cellNavigation&&(this.columnSets||1<this.subRows.length)&&!A&&this._ensureRowScroll(C.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(C.element)},_focusOnNode:function(C,A,E){var F="_focused"+(A?
"Header":"")+"Node",w=this[F],D=this.cellNavigation?"cell":"row",G=this[D](C),H;if(C=G&&G.element){if(this.cellNavigation){var M=C.getElementsByTagName("input");var R=0;for(H=M.length;R<H;R++){var N=M[R];if((-1!=N.tabIndex||"_dgridLastValue"in N)&&!N.disabled){8>t("ie")&&(N.style.position="relative");N.focus();8>t("ie")&&(N.style.position="");var K=!0;break}}}null!==E&&(E=y.mixin({grid:this},E),E.type&&(E.parentType=E.type),E.bubbles||(E.bubbles=!0));w&&(m(w,"!dgrid-focus[!tabIndex]"),8>t("ie")&&
(w.style.position=""),E&&(E[D]=this[D](w),p.emit(w,"dgrid-cellfocusout",E)));w=this[F]=C;E&&(E[D]=G);F=this.cellNavigation?q:z;!K&&F.test(C.className)&&(8>t("ie")&&(C.style.position="relative"),C.tabIndex=this.tabIndex,C.focus());m(C,".dgrid-focus");E&&p.emit(w,"dgrid-cellfocusin",E);this._debouncedEnsureScroll(G,A)}},focusHeader:function(C){this._focusOnNode(C||this._focusedHeaderNode,!0)},focus:function(C){(C=C||this._focusedNode)?this._focusOnNode(C,!1):this.contentNode.focus()}}),n=x.moveFocusVertical=
function(C,A){if(this._focusOnNode&&C.target!==this.contentNode){var E=this.cellNavigation,F=this[E?"cell":"row"](C);F=E&&F.column.id;var w=this.down(this._focusedNode,A,!0);E&&(w=this.cell(w,F));this._focusOnNode(w,!1,C);C.preventDefault()}};T=x.moveFocusUp=function(C){n.call(this,C,-1)};var h=x.moveFocusDown=function(C){n.call(this,C,1)},e=x.moveFocusPageUp=function(C){n.call(this,C,-this.pageSkip)},d=x.moveFocusPageDown=function(C){n.call(this,C,this.pageSkip)},a=x.moveFocusHorizontal=function(C,
A){if(this.cellNavigation&&C.target!==this.contentNode){var E=!this.row(C);this._focusOnNode(this.right(this["_focused"+(E?"Header":"")+"Node"],A),E,C);C.preventDefault()}},b=x.moveFocusLeft=function(C){a.call(this,C,-1)},c=x.moveFocusRight=function(C){a.call(this,C,1)},k=x.moveHeaderFocusEnd=function(C,A){if(this.cellNavigation){var E=this.headerNode.getElementsByTagName("th");this._focusOnNode(E[A?0:E.length-1],!0,C)}C.preventDefault()},r=x.moveHeaderFocusHome=function(C){k.call(this,C,!0)},v=x.moveFocusEnd=
function(C,A){var E=this,F=this.cellNavigation,w=this.contentNode,D=w.scrollTop+(A?0:w.scrollHeight);w=w[A?"firstChild":"lastChild"];var G=-1<w.className.indexOf("dgrid-preload"),H=G?w[(A?"next":"previous")+"Sibling"]:w,M=H.offsetTop+(A?0:H.offsetHeight);if(G){for(;H&&0>H.className.indexOf("dgrid-row");)H=H[(A?"next":"previous")+"Sibling"];if(!H)return}if(!G||1>w.offsetHeight)F&&(H=this.cell(H,this.cell(C).column.id)),this._focusOnNode(H,!1,C);else{t("dom-addeventlistener")||(C=y.mixin({},C));var R=
J.after(this,"renderArray",function(N){R.remove();return g.when(N,function(K){K=K[A?0:K.length-1];F&&(K=E.cell(K,E.cell(C).column.id));E._focusOnNode(K,!1,C)})})}D===M&&C.preventDefault()},B=x.moveFocusHome=function(C){v.call(this,C,!0)};x.defaultKeyMap={32:l,33:e,34:d,35:v,36:B,37:b,38:T,39:c,40:h};x.defaultHeaderKeyMap={32:l,35:k,36:r,37:b,39:c};return x})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(T,J,p){var y=T.NodeList;J.extend(y,{_buildArrayFromCallback:function(t){for(var m=
[],f=0;f<this.length;f++){var g=t.call(this[f],this[f],m);g&&(m=m.concat(g))}return m},_getUniqueAsNodeList:function(t){for(var m=[],f=0,g;g=t[f];f++)1==g.nodeType&&-1==p.indexOf(m,g)&&m.push(g);return this._wrap(m,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(t,m){var f=this._getUniqueAsNodeList(t);f=m?T._filterResult(f,m):f;return f._stash(this)},_getRelatedUniqueNodes:function(t,m){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(m),t)},children:function(t){return this._getRelatedUniqueNodes(t,
function(m,f){return J._toArray(m.childNodes)})},closest:function(t,m){return this._getRelatedUniqueNodes(null,function(f,g){do if(T._filterResult([f],t,m).length)return f;while(f!=m&&(f=f.parentNode)&&1==f.nodeType);return null})},parent:function(t){return this._getRelatedUniqueNodes(t,function(m,f){return m.parentNode})},parents:function(t){return this._getRelatedUniqueNodes(t,function(m,f){for(var g=[];m.parentNode;)m=m.parentNode,g.push(m);return g})},siblings:function(t){return this._getRelatedUniqueNodes(t,
function(m,f){for(var g=[],l=m.parentNode&&m.parentNode.childNodes,u=0;u<l.length;u++)l[u]!=m&&g.push(l[u]);return g})},next:function(t){return this._getRelatedUniqueNodes(t,function(m,f){for(var g=m.nextSibling;g&&1!=g.nodeType;)g=g.nextSibling;return g})},nextAll:function(t){return this._getRelatedUniqueNodes(t,function(m,f){for(var g=[],l=m;l=l.nextSibling;)1==l.nodeType&&g.push(l);return g})},prev:function(t){return this._getRelatedUniqueNodes(t,function(m,f){for(var g=m.previousSibling;g&&1!=
g.nodeType;)g=g.previousSibling;return g})},prevAll:function(t){return this._getRelatedUniqueNodes(t,function(m,f){for(var g=[],l=m;l=l.previousSibling;)1==l.nodeType&&g.push(l);return g})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(t,m){return 0!=m%2})},odd:function(){return this.filter(function(t,m){return 0==
m%2})}});return y})},"arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojox/grid/DataGrid"],function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin");T.require("dojox.grid.DataGrid");T.declare("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin",null,{itemInfo:{nmf:{typeKeywords:"Map,Explorer Map,Explorer Document,2D,3D,ArcGIS Explorer,nmf",type:"Explorer Map"},mxd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, mxd",
type:"Map Document"},msd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, msd",type:"Map Document"},"3dd":{typeKeywords:"Map, Globe Document, 3D, ArcGlobe, ArcGIS Server, 3dd",type:"Globe Document"},"3ws":{typeKeywords:"3D, Map, Scene, Web",type:"CityEngine Web Scene",thumbnailURL:"/cw_webscene.png"},sxd:{typeKeywords:"Map, Scene Document, 3D, ArcScene, sxd",type:"Scene Document"},lpk:{typeKeywords:"",type:"Layer Package"},lpkx:{typeKeywords:"",type:"Layer Package"},mpk:{typeKeywords:"",
type:"Map Package"},mpkx:{typeKeywords:"",type:"Map Package"},wmpk:{typeKeywords:"",type:"Windows Mobile Package"},rpk:{typeKeywords:"",type:"Rule Package"},bpk:{typeKeywords:"",type:"Mobile Basemap Package"},mspk:{typeKeywords:"",type:"Mobile Scene Package",thumbnailURL:"/mobilescenepackage.png"},scenepackage:{typeKeywords:"",type:"Scene Package",thumbnailURL:"/desktopapp.png"},gpkg:{typeKeywords:"",type:"GeoPackage",thumbnailURL:"/geopackage.png"},imagecollection:{typeKeywords:"Data, Image, Raster",
type:"Image Collection"},photocollection:{typeKeywords:"Photo locations",type:"Image Collection"},deeplearningpackage:{typeKeywords:"Deep Learning, Raster",type:"Deep Learning Package",thumbnailURL:"/deeplearningpackage.png"},gml:{type:"GML"},mapx:{typeKeywords:"ArcGIS Pro, Map, Map File, mapx",type:"Pro Map"},lyrx:{typeKeywords:"ArcGIS Pro, Layer, Layer File, lyrx",type:"Layer"},pagx:{typeKeywords:"ArcGIS Pro, Layout, Layout File, pagx",type:"Layout"},lyr:{typeKeywords:"Data, Layer, ArcMap,ArcGlobe,ArcGIS Explorer,lyr",
type:"Layer"},servicedefinition:{typeKeywords:"Data, Service, Service Definition",type:"Service Definition"},nmc:{typeKeywords:"Data,Layer,Explorer Layer,ArcGIS Explorer,nmc",type:"Explorer Layer"},ncfg:{typeKeywords:"Map,Explorer Map,Explorer Mapping Application,2D,3D,ArcGIS Explorer,ncfg",type:"Explorer Map"},eaz:{typeKeywords:"Tool,Add In,Explorer Add In,ArcGIS Explorer,eaz",type:"Explorer Add In"},pmf:{typeKeywords:"Map,Published Map,2D,ArcReader,ArcMap,ArcGIS Server,pmf",type:"Published Map"},
gpk:{typeKeywords:"",type:"Geoprocessing Package"},gpkx:{typeKeywords:"Tool, ArcGIS Pro, Toolbox, Model, Script, Result, gpkx",type:"Geoprocessing Package"},gcpk:{typeKeywords:"",type:"Locator Package"},tilepackage:{type:"Tile Package",typeKeywords:""},vectortilepackage:{type:"Vector Tile Package",typeKeywords:""},vectortileserver:{type:"Vector Tile Service",typeKeywords:""},urbanmodel:{type:"Urban Model",typeKeywords:""},wpk:{type:"Workflow Manager Package",typeKeywords:"",thumbnailURL:"/desktopapp.png"},
esriaddin:{type:"Desktop Add In",typeKeywords:"Tool,Add In,Desktop Add In,ArcGIS Desktop,ArcMap,ArcGlobe,ArcScene,esriaddin"},esriaddinx:{type:"ArcGIS Pro Add In",typeKeywords:"Tool, Add In, Pro Add In, esriaddinx"},dtemp:{type:"Desktop Application Template",typeKeywords:"application, template, ArcGIS desktop"},mtemp:{type:"Map Template",typeKeywords:"map, ArcMap, template, ArcGIS desktop"},codesample:{type:"Code Sample",typeKeywords:"Code, Sample",thumbnailURL:"/desktopapp.png"},shapefile:{type:"Shapefile",
typeKeywords:"Data, Layer, shapefile"},vieweraddin:{type:"Windows Viewer Add In",typeKeywords:"Application, ArcGIS Windows Viewer, Add In"},opdashboardaddin:{type:"Operations Dashboard Add In",typeKeywords:"Application, ArcGIS Operations Dashboard, Add In"},desktopapplication:{type:"Desktop Application",typeKeywords:"Desktop Application"},proconfigx:{type:"ArcGIS Pro Configuration",typeKeywords:""},csv:{type:"CSV",typeKeywords:"CSV",thumbnailURL:"/desktopapp.png"},gpsample:{type:"Geoprocessing Sample",
typeKeywords:"tool, geoprocessing, sample",thumbnailURL:"/desktopapp.png"},kml:{type:"KML",typeKeywords:"Data, Map, kml",thumbnailURL:"/desktopapp.png"},kmz:{type:"KML",typeKeywords:"Data, Map, kmz",thumbnailURL:"/desktopapp.png"},apimobile:{type:"Mobile Application",typeKeywords:"ArcGIS Mobile Map, Mobile Application",thumbnailURL:"/mobileapp.png"},apimap:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site",thumbnailURL:"/webapp.png"},apiapp:{type:"Application",typeKeywords:"Application"},
wab:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, Web AppBuilder for ArcGIS",thumbnailURL:"/webapp.png"},configapp:{type:"Web Mapping Application",typeKeywords:"JavaScript, Map, Mapping Site, Online Map, Ready To Use, Web Map",thumbnailURL:"/webapp.png"},dashboard:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png"},dashboard_map:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png",text:'{ "version": 45, "layout": { "rootElement": { "type": "itemLayoutElement", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517" } }, "widgets": [ { "type": "mapWidget", "itemId": "${mapId}", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517", "name": "Map (1)"} ] }'},
featureserver:{type:"Feature Service",typeKeywords:"Data, Service, Feature Service, ArcGIS Server, Feature Access"},mapserver:{type:"Map Service",typeKeywords:"Data, Service, Map Service, ArcGIS Server"},geocodeserver:{type:"Geocoding Service",typeKeywords:"Tool, Service, Geocoding Service, Locator Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},geoenrichmentserver:{type:"Geoenrichment Service"},naserver:{type:"Network Analysis Service",typeKeywords:"Tool, Service, Network Analysis Service, ArcGIS Server"},
globeserver:{type:"Globe Service",typeKeywords:"Data, Service, Globe Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},gpserver:{type:"Geoprocessing Service",typeKeywords:"Tool, Service, Geoprocessing Service, ArcGIS Server"},geodataserver:{type:"Geodata Service",typeKeywords:"Data, Service, Geodata Service, ArcGIS Server"},imageserver:{type:"Image Service",typeKeywords:"Data, Service, Image Service, ArcGIS Server"},geometryserver:{type:"Geometry Service",typeKeywords:"Tool, Service, Geometry Service, ArcGIS Server",
thumbnailURL:"/desktopapp.png"},wmserver:{type:"Workflow Manager Service",typeKeywords:"Workflow Manager, ArcGIS Server, WMServer, Workflow, JTX, Job Tracking",thumbnailURL:"/desktopapp.png"},sceneserver:{type:"Scene Service",thumbnailURL:"/scene.png",typeKeywords:"Scene Service"},streamserver:{type:"Stream Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Data, Service, Stream Service, ArcGIS Server"},elevationserver:{type:"Image Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Elevation 3D Layer"},
tiledimageserver:{type:"Image Service",thumbnailURL:"/tiledimagerylayer.png",typeKeywords:"Tiled Imagery"},workspaceserver:{type:"Insights Workbook",thumbnailURL:"/desktopapp.png",typeKeywords:"Application,ArcGIS,Insights Workbook"},ogc:{type:"WMS",typeKeywords:"Data, Service, Web Map Service, OGC"},wfs:{type:"WFS",typeKeywords:"Data, Service, Web Feature Service, OGC"},wmts:{type:"WMTS",typeKeywords:"Data, Service, OGC"},ogcfeatures:{type:"OGCFeatureService",typeKeywords:"Data, Feature Service, Features, OGC, Service, WFS"},
arcpadpackage:{type:"ArcPad Package",typeKeywords:"Map, Layer, Data",thumbnailURL:"/desktopapp.png"},kmlcollection:{type:"KML Collection",thumbnailURL:"/desktopapp.png"},csvcollection:{type:"CSV Collection",thumbnailURL:"/desktopapp.png"},filegeodatabase:{type:"File Geodatabase",thumbnailURL:"/desktopapp.png"},caddrawing:{type:"CAD Drawing",thumbnailURL:"/desktopapp.png"},featurecollection:{type:"Feature Collection"},esritasks:{type:"Task File",typeKeywords:"ArcGIS Professional, Task Assistant, esriTasks"},
stylx:{type:"Desktop Style",typeKeywords:"ArcGIS Pro, Symbology, Style, Symbols"},ppkx:{type:"Project Package",typeKeywords:""},aptx:{type:"Project Template",typeKeywords:"ArcGIS Project Template, Project Template, ArcGIS Pro"},mmpk:{type:"Mobile Map Package",typeKeywords:""},mbpk:{type:"Mobile Basemap Package",typeKeywords:""},geojson:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},json:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},
rft:{type:"Raster function template",typeKeywords:"Raster, Functions, Processing, rft, srf, function template, templates, ArcGIS Pro",thumbnailURL:"/desktopapp.png"},"3vr":{type:"360 VR Experience",typeKeywords:""},ipynb:esriGeowConfig.userRole&&esriGeowConfig.userRole.canCreateNotebooks()?{type:"Notebook",typeKeywords:"Notebook, Python"}:!1,notebook:esriGeowConfig.userRole&&(esriGeowConfig.userRole.canCreateNotebooks()||esriGeowConfig.userRole.canPublishNotebooks())?{type:"Notebook",typeKeywords:"Notebook, Python"}:
!1},orgOnly:{ppt:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},pptx:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},document:{type:"Document Link",typeKeywords:"Data, Document"},doc:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},docx:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},xls:{type:"Microsoft Excel",typeKeywords:"Data, Document, Microsoft Excel"},xlsx:{type:"Microsoft Excel",
typeKeywords:"Data, Document, Microsoft Excel"},pdf:{type:"PDF",typeKeywords:"Data, Document, PDF"},jpg:{type:"Image",typeKeywords:"Data, Image, jpg"},jpeg:{type:"Image",typeKeywords:"Data, Image, jpeg"},tif:{type:"Image",typeKeywords:"Data, Image, tif"},tiff:{type:"Image",typeKeywords:"Data, Image, tiff"},png:{type:"Image",typeKeywords:"Data, Image, png"},vsd:{type:"Visio Document",typeKeywords:"Data, Document, Visio Document"},pages:{type:"iWork Pages",typeKeywords:"Data, Document, Mac"},numbers:{type:"iWork Numbers",
typeKeywords:"Data, Document, Mac"},keynote:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},key:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},opext:{type:"Operations Dashboard Extension",typeKeywords:"Extension, Application, ArcGIS Operations Dashboard"},appbldrext:{type:"AppBuilder Extension",typeKeywords:"Widget, App Builder"},appbldrpackage:{type:"AppBuilder Widget Package"},rptx:{type:"Pro Report",typeKeywords:""},xml:{type:"Earth Configuration",typeKeywords:"ArcGIS Earth, Earth, Earth Configuration"}},
gridInfo:{csv:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"type",name:"fieldType",select:"fieldTypes",editable:!0,type:p.grid.cells.Select},{width:"160px",field:"locationType",name:"addressFields",select:"addressTypes",editable:"true",type:p.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:p.grid.cells.Select}],xlsx:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"locationType",
name:"addressFields",select:"addressTypes",editable:"true",type:p.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:p.grid.cells.Select}],ogc:[{field:"visible",name:'\x3cinput id\x3d"_ogcCB", type\x3d"checkbox" checked/\x3e',width:"16px",editable:!0,type:p.grid.cells.Bool},{field:"title",name:"ogcLayers",editable:!0,width:"420px"}]}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),
function(T,J,p,y,t,m,f,g,l){var u=m("dojox.grid.DataGrid",f,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},
destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new g(this)},get:function(q,z){if(z&&"_item"==this.field&&!this.fields)return z;if(z&&this.fields){var x=[],n=this.grid.store;J.forEach(this.fields,function(h){x=x.concat(n.getValues(z,h))});return x}return z||"string"!==typeof q?z?this.field?"_item"==this.field?z:this.grid.store.getValue(z,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<
this.updateDelay){var q=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,q=!0);this.updating||(this.beginUpdate(),q=!0);if(q){var z=this;this._endUpdateDelay=setTimeout(function(){delete z._endUpdateDelay;z.endUpdate()},this.updateDelay)}}},_onSet:function(q,z,x,n){this._checkUpdateStatus();q=this.getItemIndex(q);-1<q&&this.updateRow(q)},_createItem:function(q,z){var x=this._hasIdentity?this.store.getIdentity(q):y.toJson(this.query)+":idx:"+z+":sort:"+y.toJson(this.getSortProps());
return this._by_idty[x]={idty:x,item:q}},_addItem:function(q,z,x){this._by_idx[z]=this._createItem(q,z);x||this.updateRow(z)},_onNew:function(q,z){this._checkUpdateStatus();var x=this.get("rowCount");this._addingItem=!0;this.updateRowCount(x+1);this._addingItem=!1;this._addItem(q,x);this.showMessage()},_onDelete:function(q){this._checkUpdateStatus();q=this._getItemIndex(q,!0);if(0<=q){this._pages=[];this._eop=this._bop=-1;var z=this._by_idx[q];this._by_idx.splice(q,1);delete this._by_idty[z.idty];
this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(q)&&(this.selection.deselect(q),this.selection.selected.splice(q,1))},_onRevert:function(){this._refresh()},setStore:function(q,z,x){this._requestsPending(0)||(this._setQuery(z,x),this._setStore(q),this._refresh(!0))},setQuery:function(q,z){this._requestsPending(0)||(this._setQuery(q,z),this._refresh(!0))},setItems:function(q){this.items=q;this._setStore(this.store);
this._refresh(!0)},_setQuery:function(q,z){this.query=q;this.queryOptions=z||this.queryOptions},_setStore:function(q){this.store&&this._store_connects&&J.forEach(this._store_connects,this.disconnect,this);if(this.store=q){q=this.store.getFeatures();var z=[];this._canEdit=!!q["dojo.data.api.Write"]&&!!q["dojo.data.api.Identity"];this._hasIdentity=!!q["dojo.data.api.Identity"];q["dojo.data.api.Notification"]&&!this.items&&(z.push(this.connect(this.store,"onSet","_onSet")),z.push(this.connect(this.store,
"onNew","_onNew")),z.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&z.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=z}},_onFetchBegin:function(q,z){this.scroller&&(this.rowCount!=q&&(z.isRender?(this.scroller.init(q,this.keepRows,this.rowsPerPage),this.rowCount=q,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(q)),q?this.showMessage():(this.views.render(),this._resize(),
this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(q,z){this.scroller&&(q&&0<q.length&&(J.forEach(q,function(x,n){this._addItem(x,z.start+n,!0)},this),this.updateRows(z.start,q.length),z.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),t("ie")&&l.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[z.start]=
!1)},_onFetchError:function(q,z){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[z.start]=!1;this.onFetchError(q,z)},onFetchError:function(q,z){},_fetch:function(q,z){q=q||0;if(this.store&&!this._pending_requests[q]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[q]=!0;try{if(this.items){var x=this.items,n=this.store;this.rowsPerPage=x.length;
var h={start:q,count:this.rowsPerPage,isRender:z};this._onFetchBegin(x.length,h);var e=0;J.forEach(x,function(a){n.isItemLoaded(a)||e++});if(0===e)this._onFetchComplete(x,h);else{var d=function(a){e--;0===e&&this._onFetchComplete(x,h)};J.forEach(x,function(a){n.isItemLoaded(a)||n.loadItem({item:a,onItem:d,scope:this})},this)}}else this.store.fetch({start:q,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:z,onBegin:p.hitch(this,"_onFetchBegin"),
onComplete:p.hitch(this,"_onFetchComplete"),onError:p.hitch(this,"_onFetchError")})}catch(a){this._onFetchError(a,{start:q,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(q){var z=this._by_idx[q];return!z||z&&!z.item?(this._preparePage(q),null):z.item},getItemIndex:function(q){return this._getItemIndex(q,!1)},_getItemIndex:function(q,z){if(!z&&!this.store.isItem(q))return-1;
for(var x=this._hasIdentity?this.store.getIdentity(q):null,n=0,h=this._by_idx.length;n<h;n++){var e=this._by_idx[n];if(e&&(x&&e.idty==x||e.item===q))return n}return-1},filter:function(q,z){this.query=q;z&&this._clearData();this._fetch()},_getItemAttr:function(q,z){var x=this.getItem(q);return x?this.store.getValue(x,z):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(q){return this._pending_requests[q]},
_rowToPage:function(q){return this.rowsPerPage?Math.floor(q/this.rowsPerPage):q},_pageToRow:function(q){return this.rowsPerPage?this.rowsPerPage*q:q},_preparePage:function(q){(q<this._bop||q>=this._eop)&&!this._addingItem&&(q=this._rowToPage(q),this._needPage(q),this._bop=q*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(q){this._pages[q]||(this._pages[q]=!0,this._requestPage(q))},_requestPage:function(q){q=this._pageToRow(q);0<Math.min(this.rowsPerPage,
this.get("rowCount")-q)&&(this._requests++,this._requestsPending(q)||setTimeout(p.hitch(this,"_fetch",q,!1),1))},getCellName:function(q){return q.field},_refresh:function(q){this._clearData();this._fetch(0,q)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var q=this.getCell(this.getSortIndex());if(q){var z=q.sortDesc,x=!(0<this.sortInfo);return[{attribute:q.field,descending:"undefined"==typeof z?
x:x?!z:z}]}return this.sortFields?this.sortFields:null},styleRowState:function(q){if(this.store&&this.store.getState){for(var z=this.store.getState(q.index),x="",n=0,h=["inflight","error","inserting"],e;e=h[n];n++)if(z[e]){x=" dojoxGridRow-"+e;break}q.customClasses+=x}},onStyleRow:function(q){this.styleRowState(q);this.inherited(arguments)},canEdit:function(q,z){return this._canEdit},_copyAttr:function(q,z){var x=this.getItem(q);return this.store.getValue(x,z)},doStartEdit:function(q,z){this._cache[z]||
(this._cache[z]=this._copyAttr(z,q.field));this.onStartEdit(q,z)},doApplyCellEdit:function(q,z,x){this.store.fetchItemByIdentity({identity:this._by_idx[z].idty,onItem:p.hitch(this,function(n){var h=this.store.getValue(n,x);"number"==typeof h?q=isNaN(q)?q:parseFloat(q):"boolean"==typeof h?q="true"==q?!0:"false"==q?!1:q:h instanceof Date&&(h=new Date(q),q=isNaN(h.getTime())?q:h);this.store.setValue(n,x,q);this.onApplyCellEdit(q,z,x)})})},doCancelEdit:function(q){this._cache[q]&&(this.updateRow(q),delete this._cache[q]);
this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(q,z){this.onApplyEdit(q)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var q=p.hitch(this,function(z){z.length&&(J.forEach(z,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:q}):q(this.selection.getSelected())}}});u.cell_markupFactory=function(q,z,x){var n=p.trim(l.attr(z,"field")||"");n&&(x.field=n);x.field=
x.field||x.name;if(n=p.trim(l.attr(z,"fields")||""))x.fields=n.split(",");q&&q(z,x)};u.markupFactory=function(q,z,x,n){return f.markupFactory(q,z,x,p.partial(u.cell_markupFactory,n))};return u})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(T,J,p){return T("dojox.grid.DataSelection",p,{constructor:function(y){y.keepSelection&&(this.preserver=new J(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var y=
p.prototype.getFirstSelected.call(this);return-1==y?null:this.grid.getItem(y)},getNextSelected:function(y){y=this.grid.getItemIndex(y);y=p.prototype.getNextSelected.call(this,y);return-1==y?null:this.grid.getItem(y)},getSelected:function(){for(var y=[],t=0,m=this.selected.length;t<m;t++)this.selected[t]&&y.push(this.grid.getItem(t));return y},addToSelection:function(y){if("none"!=this.mode){var t=null;t="number"==typeof y||"string"==typeof y?y:this.grid.getItemIndex(y);p.prototype.addToSelection.call(this,
t)}},deselect:function(y){if("none"!=this.mode){var t=null;t="number"==typeof y||"string"==typeof y?y:this.grid.getItemIndex(y);p.prototype.deselect.call(this,t)}},deselectAll:function(y){var t=null;y||"number"==typeof y?(t="number"==typeof y||"string"==typeof y?y:this.grid.getItemIndex(y),p.prototype.deselectAll.call(this,t)):this.inherited(arguments)}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(T,
J,p,y){return T("dojox.grid._SelectionPreserver",null,{constructor:function(t){this.selection=t;var m=this.grid=t.grid;this.reset();this._connects=[J.connect(m,"_setStore",this,"reset"),J.connect(m,"_addItem",this,"_reSelectById"),J.connect(t,"onSelected",p.hitch(this,"_selectById",!0)),J.connect(t,"onDeselected",p.hitch(this,"_selectById",!1)),J.connect(t,"deselectAll",this,"reset")]},destroy:function(){this.reset();y.forEach(this._connects,J.disconnect);delete this._connects},reset:function(){this._selectedById=
{}},_reSelectById:function(t,m){t&&this.grid._hasIdentity&&(this.selection.selected[m]=this._selectedById[this.grid.store.getIdentity(t)])},_selectById:function(t,m){if("none"!=this.selection.mode&&this.grid._hasIdentity){var f=m,g=this.grid;if("number"==typeof m||"string"==typeof m)f=(f=g._by_idx[m])&&f.item;f&&(this._selectedById[g.store.getIdentity(f)]=!!t);return f}}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],
function(T,J,p,y){return T("dijit.form.Textarea",[y,p],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);J.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),
function(T,J,p,y,t,m,f){p.add("textarea-needs-help-shrinking",function(){var g=m.body(),l=J.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},g,"last"),u=l.scrollHeight>=l.clientHeight;g.removeChild(l);return u});return T("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var g=this.textbox;g.style.overflowY="hidden";this.own(t(g,"focus, resize",y.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(f.on("resize",y.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(g){this.inherited(arguments);this.resize()},_estimateHeight:function(){var g=this.textbox;g.rows=(g.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function g(){var e=!1;""===l.value&&(l.value=" ",e=!0);var d=l.scrollHeight;e&&(l.value="");return d}var l=this.textbox;"hidden"==l.style.overflowY&&(l.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(g()||l.offsetHeight){var u=g()+Math.max(l.offsetHeight-l.clientHeight,0),q=u+"px";q!=l.style.height&&(l.style.height=q,l.rows=1);if(p("textarea-needs-help-shrinking")){var z=g(),x=l.style.minHeight,n=4,h=l.scrollTop;l.style.minHeight=q;for(l.style.height="auto";0<u;){l.style.minHeight=
Math.max(u-n,4)+"px";q=g();z-=q;u-=z;if(z<n)break;z=q;n<<=1}l.style.height=u+"px";l.style.minHeight=x;l.scrollTop=h}l.style.overflowY=g()>l.clientHeight?"auto":"hidden";"hidden"==l.style.overflowY&&(l.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"arcgisonline/map/core/sameSpatialReference":function(){define(["esri/lang","arcgisonline/map/utils/contains"],function(T,J){return function(p,y){var t=[102113,102100,3857];return p&&y&&p.wkt==y.wkt&&(p.wkid==y.wkid||T.isDefined(p.latestWkid)&&
p.latestWkid==y.wkid||T.isDefined(y.latestWkid)&&p.wkid==y.latestWkid||T.isDefined(p.latestWkid)&&p.latestWkid==y.latestWkid)||p&&y&&p.wkid&&y.wkid&&J(t,p.wkid)&&J(t,y.wkid)?!0:!1}})},"arcgisonline/sharing/dijit/dialog/_PublishTileServiceDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojo/promise/all,dojo/Deferred,esri/geometry/Extent,arcgisonline/sharing/util"],function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin");T.require("dojo.promise.all");
T.require("dojo.Deferred");T.require("esri.geometry.Extent");T.require("arcgisonline.sharing.util");T.declare("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin",null,{_util:arcgisonline.sharing.util,SCALE_MIN:5.91657527591555E8,SCALE_MAX:0,tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:256,cols:256,dpi:96,preciseDpi:96,lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,
scale:2.95828763795777E8},{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},
{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,
scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147}]},tileImageInfo:{format:"PNG32",compressionQuality:0,antialiasing:!0},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128},vectorTilePublishParams:{tilingSchema:{tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},
origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:2.95828763795777E8},{level:1,resolution:39135.75848200009,scale:1.47914381897889E8},{level:2,resolution:19567.87924099992,scale:7.3957190948944E7},{level:3,resolution:9783.93962049996,scale:3.6978595474472E7},{level:4,resolution:4891.96981024998,scale:1.8489297737236E7},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,
scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,
resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},
tileImageInfo:{format:"indexedVector",compressionQuality:0,antialiasing:!1},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128}}},lods:[{level:0,label:"1:591,657,528",scale:5.91657527591555E8},{level:1,label:"1:295,828,764",scale:2.95828763795777E8},{level:2,label:"1:147,914,382",scale:1.47914381897889E8},{level:3,label:"1:73,957,191",scale:7.3957190948944E7},{level:4,label:"1:36,978,595",scale:3.6978595474472E7},{level:5,label:"1:18,489,298",scale:1.8489297737236E7},
{level:6,label:"1:9,244,649",scale:9244648.868618},{level:7,label:"1:4,622,324",scale:4622324.434309},{level:8,label:"1:2,311,162",scale:2311162.217155},{level:9,label:"1:1,155,581",scale:1155581.108577},{level:10,label:"1:577,791",scale:577790.554289},{level:11,label:"1:288,895",scale:288895.277144},{level:12,label:"1:144,448",scale:144447.638572},{level:13,label:"1:72,224",scale:72223.819286},{level:14,label:"1:36,112",scale:36111.909643},{level:15,label:"1:18,056",scale:18055.954822},{level:16,
label:"1:9,028",scale:9027.977411},{level:17,label:"1:4,514",scale:4513.988705},{level:18,label:"1:2,257",scale:2256.994353},{level:19,label:"1:1,128",scale:1128.497176},{level:20,label:"1:564",scale:564.248588},{level:21,label:"1:282",scale:282.124294},{level:22,label:"1:141",scale:141.062147}],statusCheckIntervalTime:2500,_fetchFSInfo:function(y){var t=new T.Deferred,m=y&&y.url,f=y?esriGeowConfig.restBaseUrl+"content/items/"+y.id+"/data":null;m&&f?T.promise.all({serviceInfo:this._fetchServiceInfo(m),
layers:this._fetchServiceLayers(m),itemData:this._fetchItemData(f,y)}).then(T.hitch(this,function(g){t.resolve(T.mixin({},g))})):t.reject(this.i18n.publishWizard.errors.noItemUrl||{message:"Item does not specify a url."});return t},_fetchServiceInfo:function(y){return this._util.request({url:y})},_fetchServiceLayers:function(y){return this._util.request({url:y+"/layers"}).then(T.hitch(this,function(t){return{layers:t.layers}}))},_fetchItemData:function(y,t){return this._util.request({url:y}).then(T.hitch(this,
function(m){var f=[],g="features"===this._type,l;T.forEach(m&&m.layers||[],T.hitch(this,function(u,q){u&&(l=T.mixin({},g?{id:u.id}:{id:q,layerUrl:t.url+"/"+u.id,layerItemId:t.id,layerDefinition:u.layerDefinition}),u.popupInfo&&(l=T.mixin(l,{popupInfo:u.popupInfo})),!g&&esri.isDefined(u.showLegend)&&(l=T.mixin(l,{showLegend:u.showLegend})));f.push(l)}));return f&&f.length?T.mixin(m,{layers:f}):null}))},_computeScale:function(y,t){var m={width:esri.config.defaults.map.width,extent:new esri.geometry.Extent(y),
spatialReference:y.spatialReference||t};return esri.geometry.getScale(m)},_fetchTileLayerInfo:function(y,t){var m=new T.Deferred,f=t&&"vectorTiles"===t,g=function(l){return-1<window.location.href.indexOf("https:")&&l&&-1<l.indexOf("http:")};-1<(f?y.indexOf("/VectorTileServer"):y.indexOf("/MapServer"))?this._util.request({url:y,timeout:1E4},{useProxy:g(y),addToken:!1}).then(T.hitch(this,function(l){l&&l.singleFusedMapCache&&l.tileInfo?m.resolve(this._addScaleLabels(l.tileInfo)):l&&f&&l.tileInfo?m.resolve(l.tileInfo):
m.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.noTilingSchemeFound})}),T.hitch(this,function(l){m.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.mapServiceError})})):m.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.badMapServiceUrl});return m},_addScaleLabels:function(y){if(y&&y.lods)return T.forEach(y&&y.lods||[],T.hitch(this,function(t){t.label="1:"+T.number.format(Math.round(t.scale),{pattern:"#,###,###,##0"})})),
y},_calculateConstraints:function(y){var t={minScale:null,maxScale:null},m=function(f){if(!esri.isDefined(t.minScale))t.minScale=f.minScale;else if(f.minScale>t.minScale||0===f.minScale)t.minScale=f.minScale;esri.isDefined(t.maxScale)?f.maxScale<t.maxScale&&(t.maxScale=f.maxScale):t.maxScale=f.maxScale};y?y.layers&&T.forEach(y.layers,m):(t.minScale=this.SCALE_MIN,t.maxScale=this.SCALE_MAX);return t},_normalizeMaxScale:function(y,t,m){if(y<=t&&m){for(t=m.length-1;0<=t;t--)if(y<m[t].scale){var f=t+
2;break}f=f>m.length-1?m.length-1:f;return m[f].scale}return t}})})},"esri/dijit/VisibleScaleRangeSlider":function(){define("../kernel ./_EventedWidget ./_Tooltip ./VisibleScaleRangeSlider/_RecommendedScaleRangeBounds ./VisibleScaleRangeSlider/_SlideEvent ./VisibleScaleRangeSlider/ScaleMenu ./VisibleScaleRangeSlider/ScalePreview ./VisibleScaleRangeSlider/ScaleRanges dijit/form/DropDownButton dijit/popup dojo/_base/array dojo/_base/lang dojo/aspect dojo/debounce dojo/Deferred dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/on dojo/string dojox/form/HorizontalRangeSlider dojo/i18n!../nls/jsapi".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B){J=J.createSubclass([p],{declaredClass:"esri.dijit.VisibleScaleRangeSlider",baseClass:"esriVisibleScaleRangeSlider",css:{currentScaleIndicator:"esriCurrentScaleIndicator",currentScaleIndicatorContainer:"esriCurrentScaleIndicatorContainer",scaleIndicator:"esriScaleIndicator",scaleIndicatorContainer:"esriScaleIndicatorContainer"},disabled:!1,map:null,layer:null,region:"en-US",minScale:0,maxScale:0,intermediateChanges:!1,labels:B.widgets.visibleScaleRangeSlider,
_slider:null,_currentScaleIndicator:null,_scalePreview:null,_maxScaleButton:null,_minScaleButton:null,_mapUpdateHandler:null,_scaleRanges:null,_scheduleScaleRangeChangeEmit:null,_getSliderIndexRange:function(C){C=Math.floor(C);return{min:C,max:C+.99999}},_setDisabledAttr:function(C){this._slider.set("disabled",C);this._maxScaleButton.set("disabled",C);this._minScaleButton.set("disabled",C);this._set("disabled",C)},_setMapAttr:function(C){this._set("map",C);this._mapUpdateHandler&&this._mapUpdateHandler.remove();
this._slider.set("disabled",!0);this._ensureMap().then(this._updateFromMap)},_setConstraintsAttr:function(C){this._set("constraints",C);this._setUpSlider({minScale:C.minScale,maxScale:C.maxScale})},_updateFromMap:function(C){var A=C.getMinScale(),E=C.getMaxScale();this._setUpSlider({minScale:A,maxScale:E});this._updateCurrentScaleIndicator();C=C.on("zoom-end",z.hitch(this,this._updateCurrentScaleIndicator));this.own(C);this._mapUpdateHandler=C},_setUpSlider:function(C){var A=C.maxScale;C=C.minScale;
this._slider.set("disabled",this.get("disabled"));this._scaleRanges.set("scaleRangeBounds",{minScale:C,maxScale:A});var E=this._getSliderIndexRange(this._scaleRanges.length-1);this._slider.set("maximum",E.max);this._silentSliderUpdate({maxScale:A,minScale:C})},_ensureMap:function(){return this._untilLoaded(this.map)},_untilLoaded:function(C){var A=new h;if(C)if(C.loaded)A.resolve(C);else C.on("load",function(){A.resolve(C)});else A.reject(Error("could not load resource"));return A.promise},_updateCurrentScaleIndicator:function(){var C=
this._scaleRanges.clampScale(this.map.getScale());C=this._mapScaleToSlider(C)/this._slider.maximum;this.isLeftToRight()||(C=1-C);b.set(this._currentScaleIndicator,{left:100*C+"%"})},_setLayerAttr:function(C){this._set("layer",C);this._ensureScaleRangeProvider().then(this._ensureLayer).then(this._updateMinMaxScaleFromLayer)},_ensureLayer:function(){return this._untilLoaded(this.layer)},_updateMinMaxScaleFromLayer:function(C){this.set({minScale:C.minScale,maxScale:C.maxScale})},_mapSliderToScale:function(C){var A=
this._getSliderIndexRange(C),E=this._scaleRanges.findScaleRangeByIndex(C);return this._mapToRange(C,A.min,A.max,E.minScale,E.maxScale)},_mapToRange:function(C,A,E,F,w){return F+(C-A)*(w-F)/(E-A)},_setRegionAttr:function(C){this._set("region",C);this._scalePreview.set("source",g.getScalePreviewSource(C))},_getMinimumAttr:function(){return this._mapSliderToScale(this._slider.minimum)},_getMaximumAttr:function(){return this._mapSliderToScale(this._slider.maximum)},_getActualMaxScaleAttr:function(){return this._scaleRanges.clampMaxScale(this.maxScale)},
_setMaxScaleAttr:function(C){this._set("maxScale",C);this._ensureScaleRangeProvider().then(z.hitch(this,function(){C=this._scaleRanges.clampMaxScale(C);this._set("maxScale",this._layerConstrainedMaxScale(C));this._silentSliderUpdate({maxScale:C});this._scheduleScaleRangeChangeEmit()}))},_silentSliderUpdate:function(C){var A=C.minScale,E=C.maxScale,F=this._scaleRanges;C=this._slider;void 0!==A&&(A=this._mapScaleToSlider(F.clampMinScale(A)),C.set("value",A,!1,!1));void 0!==E&&(A=this._mapScaleToSlider(F.clampMaxScale(E)),
C.set("value",A,!1,!0))},_mapScaleToSlider:function(C){var A=this._scaleRanges.scaleToRangeIndex(C),E=this._getSliderIndexRange(A);A=this._scaleRanges.findScaleRangeByIndex(A);return this._mapToRange(C,A.minScale,A.maxScale,E.min,E.max)},_getActualMinScaleAttr:function(){return this._scaleRanges.clampMinScale(this.minScale)},_setMinScaleAttr:function(C){this._set("minScale",C);this._ensureScaleRangeProvider().then(z.hitch(this,function(){C=this._scaleRanges.clampMinScale(C);this._set("minScale",this._layerConstrainedMinScale(C));
this._silentSliderUpdate({minScale:C});this._scheduleScaleRangeChangeEmit()}))},_ensureScaleRangeProvider:function(){if(this.map)return this._ensureMap();var C=new h;this.constraints&&C.resolve();return C.promise},_emitScaleRangeChange:function(){this.emit("scale-range-change",{minScale:this.minScale,maxScale:this.maxScale})},_layerConstrainedMinScale:function(C){var A=z.getObject("tileInfo.lods",!1,this.layer)||[];var E=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===
this.layer.declaredClass);return 0<A.length&&!E?(A=A[0].scale,E=this._scaleRanges.get("firstRange"),(E=.85<this._mapToRange(C,E.maxScale,E.minScale,0,1))?A:C>A?A:C):this._scaleRanges.beyondMinScale(C)?0:C},_layerConstrainedMaxScale:function(C){var A=z.getObject("tileInfo.lods",!1,this.layer)||[],E=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===this.layer.declaredClass);return 0<A.length&&!E?(A=A[A.length-1].scale,C<A?A:C):this._scaleRanges.beyondMaxScale(C)?
0:C},constructor:function(){this._scaleRanges=new (g.createSubclass([y]));this._scheduleScaleRangeChangeEmit=n(z.hitch(this,this._emitScaleRangeChange),0);this._ensureMap=z.hitch(this,this._ensureMap);this._ensureScaleRangeProvider=z.hitch(this,this._ensureScaleRangeProvider);this._ensureLayer=z.hitch(this,this._ensureLayer);this._updateMinMaxScaleFromLayer=z.hitch(this,this._updateMinMaxScaleFromLayer);this._updateFromMap=z.hitch(this,this._updateFromMap)},buildRendering:function(){this.inherited(arguments);
this._initSlider();this._initScalePreview();this._initCurrentScaleIndicator();this._initScaleMenus()},_initSlider:function(){var C=new (v.createSubclass([t]))({baseClass:"esriHorizontalSlider",showButtons:!1,intermediateChanges:this.intermediateChanges,disabled:!0});this._slider=C;C.placeAt(this.domNode);C.startup();this.own(C.on("slide-onmousemove, slidemax-onmousemove",z.hitch(this,function(A){this._updateScalePreview(A.movable.handle)})),C.on("slide-onmovestop, slidemax-onmovestop",z.hitch(this,
function(A){e.contains(A.movable.handle,"dijitSliderThumbHover")||this._closeScalePreview()})),C.on("change",z.hitch(this,function(){var A=Math.round(this._mapSliderToScale(this._getSliderMin())),E=Math.round(this._mapSliderToScale(this._getSliderMax()));this.set({minScale:A,maxScale:E})})),x.after(C,"_setValueAttr",z.hitch(this,this._updateLabelMenus)))},_getSliderMin:function(){return this._slider.get("value")[0]},_getSliderMax:function(){return this._slider.get("value")[1]},_updateLabelMenus:function(){var C=
this._maxScaleButton;this._minScaleButton.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMin()));C.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMax()))},_initScalePreview:function(){var C=new f;C.startup();u.moveOffScreen(C);q.forEach([this._slider._movable.handle,this._slider._movableMax.handle],function(A){A.onmouseenter=z.hitch(this,this._updateScalePreview,A);A.onmouseleave=z.hitch(this,this._closeScalePreview)},this);this.own(C);this._scalePreview=C},_closeScalePreview:function(){u.close(this._scalePreview)},
_updateScalePreview:function(C){if(!this.disabled){var A=this._scalePreview;u.moveOffScreen(A);var E=this._slider,F=C===E.sliderHandle?this._getSliderMin():this._getSliderMax(),w=a.position(C),D=a.position(A.domNode);E=a.position(E.sliderBarContainer);var G=this.isLeftToRight();F=this._scaleRanges.getScalePreviewSpriteBackgroundPosition(F);A.set("backgroundPosition",F);w=w.x-E.x;D=.5*D.w;u.open({parent:this,popup:A,around:C,orient:w<D?G?["above","below"]:["above-alt","below-alt"]:w<E.w-D?["above-centered",
"below-centered"]:G?["above-alt","below-alt"]:["above","below"]})}},_initCurrentScaleIndicator:function(){if(this.map){var C=d.create("div",{className:this.css.scaleIndicatorContainer+" "+this.css.currentScaleIndicatorContainer},this._slider.sliderBarContainer),A=d.create("div",{className:this.css.scaleIndicator+" "+this.css.currentScaleIndicator},C);this._currentScaleIndicator=A;this.createTooltip(A);C=k(A,"mouseover",z.hitch(this,function(){var E=r.substitute(this.labels.currentScaleTooltip,{scaleLabel:this._scaleRanges.getScaleRangeLabel(this._mapScaleToSlider(this.map.getScale()))});
this.findTooltip(A).set("label",E)}));this.own(C)}},_initScaleMenus:function(){var C=new m,A=new m;this.own(C.on("scale-selected",z.hitch(this,function(w){E.closeDropDown();this.set("minScale",w.scale)})));this.own(A.on("scale-selected",z.hitch(this,function(w){F.closeDropDown();this.set("maxScale",w.scale)})));var E=new l({baseClass:"esriScaleMenuButton esriMinScaleMenuButton",dropDown:C,dropDownPosition:["below","above"]});E.toggleDropDown();E.toggleDropDown();var F=new l({baseClass:"esriScaleMenuButton esriMaxScaleMenuButton",
dropDown:A,dropDownPosition:["below","above"]});F.toggleDropDown();F.toggleDropDown();this.own(x.before(E,"openDropDown",z.hitch(this,function(){var w=this._scaleRanges.findScaleRange(this.get("actualMaxScale")).minScale;C.set("options",{label:E.label,scale:{current:this.get("actualMinScale"),map:this._getMapScale(),min:this.get("minimum"),max:w}})})));this.own(x.before(F,"openDropDown",z.hitch(this,function(){var w=this._scaleRanges.findScaleRange(this.get("actualMinScale")).maxScale;A.set("options",
{label:F.label,scale:{current:this.get("actualMaxScale"),map:this._getMapScale(),min:w,max:this.get("maximum")}})})));E.placeAt(this.domNode);F.placeAt(this.domNode);C.startup();A.startup();E.startup();F.startup();this._minScaleButton=E;this._maxScaleButton=F},_getMapScale:function(){return this.map?this.map.getScale():-1},startup:function(){this.inherited(arguments);this.watch("intermediateChanges",function(C,A,E){this._slider.set(C,E)})}});z.setObject("dijit.VisibleScaleRangeSlider",J,T);return J})},
"esri/dijit/_Tooltip":function(){define(["dijit/Tooltip","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom"],function(T,J,p,y,t){return p(null,{declaredClass:"esri.dijit._Tooltip",_tooltips:null,constructor:function(){this._tooltips=[]},startup:function(){this.inherited(arguments);this._started||J.forEach(this._tooltips,function(m){m.startup()})},destroy:function(){this.inherited(arguments);J.forEach(this._tooltips,function(m){m.destroy()});this._tooltips=null},createTooltips:function(m){J.forEach(m,
function(f){this.createTooltip(f.node,f.label)},this)},createTooltip:function(m,f){var g=this._getConnectId(m);g&&(g="object"===typeof f?y.mixin({},f,{connectId:g}):{connectId:g,label:f},g=new T(g),this._started&&g.startup(),this._tooltips.push(g))},_getConnectId:function(m){var f;if(m){if(y.isArray(m)){var g=[];J.forEach(m,function(l){(f=this._getNode(l))&&g.push(f)});if(0===g.length)return}else if(g=this._getNode(m),!g)return;return g}},_getNode:function(m){return t.byId(m.domNode||m)},findTooltip:function(m){var f=
this._getNode(m),g;if(m){m=this._tooltips;var l=m.length;for(var u=0;u<l;u++){var q=m[u];if(g=y.isArray(q.connectId)?-1<J.indexOf(q.connectId,f):q.connectId===f)return q}}}})})},"esri/dijit/VisibleScaleRangeSlider/_RecommendedScaleRangeBounds":function(){define(["./recommendedScales","dojo/_base/declare"],function(T,J){return J(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._RecommendedScaleRangeBounds",beyondMinScale:function(p){var y=this.get("firstRange"),t=y.minScale;y=T.getRecommendedScale(y.id)||
y.maxScale;return p<=t&&p>y},beyondMaxScale:function(p){var y=this.get("lastRange"),t=y.maxScale;y=T.getRecommendedScale(y.id)||y.minScale;return p<y&&p>=t}})})},"esri/dijit/VisibleScaleRangeSlider/recommendedScales":function(){define(["dojo/_base/lang"],function(T){var J={_recommendedScales:{world:1E8,continent:5E7,countriesBig:25E6,countriesSmall:12E6,statesProvinces:6E6,stateProvince:3E6,counties:15E5,county:75E4,metropolitanArea:32E4,cities:16E4,city:8E4,town:4E4,neighborhood:2E4,streets:1E4,
street:5E3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100},getRecommendedScale:function(p){return J._recommendedScales[p]},all:function(){return T.clone(J._recommendedScales)}};return J})},"esri/dijit/VisibleScaleRangeSlider/_SlideEvent":function(){define(["dojo/_base/array","dojo/_base/declare"],function(T,J){return J(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._SlideEvent",_events:["onMouseMove","onFirstMove",{name:"onMoveStop",hookTo:"destroy"}],postCreate:function(){this.inherited(arguments);
this._extendMover(this._movable);this._extendMover(this._movableBar,"rangebar");this._extendMover(this._movableMax,"max")},_extendMover:function(p,y){if(p){var t=p.mover,m={};T.forEach(this._events,function(f){if("object"===typeof f){var g=f.name;var l=f.hookTo}else g=f;var u=t.prototype[g]||function(){};var q="slide"+(y||"")+"-"+g.toLowerCase();var z=function(){u.apply(this,arguments);this.widget.emit(q,{movable:p})};if(l){var x=t.prototype[l];m[l]=function(){x.apply(this,arguments);z.apply(this,
arguments)}}m[g]=z});t.extend(m)}}})})},"esri/dijit/VisibleScaleRangeSlider/ScaleMenu":function(){define("../../kernel ../_EventedWidget ../_Tooltip ./recommendedScales ./ScaleRanges dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-prop dojo/dom-style dojo/has dojo/keys dojo/number dojo/on dojo/query dojo/string dojox/html/entities dojox/lang/functional/object dojo/i18n!../../nls/jsapi dojo/text!./templates/ScaleMenu.html dijit/form/TextBox".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B){J=g([J,m,f,p],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScaleMenu",templateString:B,baseClass:"esriScaleMenu",labels:v.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",section:"esriSection",content:"esriContent",current:"esriCurrent",input:"esriInput",list:"esriList",item:"esriItem",inline:"esriInline",selectable:"esriSelectable",hidden:"esriHidden"},_elementValueMap:null,_elements:null,_scaleRangeCategories:null,_scaleRanges:null,
_rangeToScaleAndNodeLookup:null,constructor:function(){this._scaleRanges=new t},buildRendering:function(){this.inherited(arguments);this._rangeToScaleAndNodeLookup={map:{scale:null,node:this.dap_mapScaleItem}};var C=this.labels,A=C.featuredScaleLabels,E=y.all(),F=this.css.item+" "+this.css.selectable,w;l.forEach(r.keys(E),function(H){w=A[H];var M=E[H],R=c.substitute(w,{scaleLabel:this._formatScale(M)});R=z.create("li",{innerHTML:R,className:F},this.dap_recommendedScales);this._rangeToScaleAndNodeLookup[H]=
{scale:M,node:R}},this);var D=z.create("span",{innerHTML:C.setTo,className:this.css.inline}),G=z.create("span",{innerHTML:C.selectOne,className:this.css.inline});x.set(this.dap_scaleListHeader,"innerHTML",c.substitute(C.setToSelectOne,{setTo:D.outerHTML,selectOne:G.outerHTML}))},_formatScale:function(C){return"1:"+d.format(C)},postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,a.selector("."+this.css.item+"."+this.css.selectable,"click"),u.hitch(this,function(C){C=C.target===
this.dap_mapScaleItem?this.options.scale.map:this._parseScale(C.target.innerHTML);this._emitScaleSelected(C)})));this.dap_scaleInput.on("keyDown",u.hitch(this,function(C){C.keyCode===e.ENTER&&this._handleCustomScaleInput()}));this.createTooltip(this.dap_scaleInput,this.labels.customScaleInputTooltip)},_emitScaleSelected:function(C){this.emit("scale-selected",{scale:C})},_handleCustomScaleInput:function(){var C=this._parseScale(this.dap_scaleInput.get("value"));isNaN(C)||this._emitScaleSelected(this._scaleRanges.clampScale(C))},
_parseScale:function(C){C=k.decode(C).replace(/.*\(/,"").replace(/\).*$/,"").replace(/.*1:/,"").replace(/[^0-9.\s]/g,"");return d.parse(C)},_setOptionsAttr:function(C){var A=C.scale,E=this._formatScale(A.current);x.set(this.dap_currentScaleLabel,"innerHTML",C.label);this.dap_scaleInput.set("value",E,!1);E=c.substitute(this.labels.featuredScaleLabels.current,{scaleLabel:this._formatScale(A.map)});this._rangeToScaleAndNodeLookup.map.scale=A.map;x.set(this.dap_mapScaleItem,"innerHTML",E);q.toggle(this.dap_mapScaleItem,
this.css.hidden,-1===A.map);this._scaleRanges.set("scaleRangeBounds",{minScale:A.min,maxScale:A.max});this._hideOutOfScaleRanges();this._set("options",C)},_hideOutOfScaleRanges:function(){var C=b("."+this.css.item+"."+this.css.selectable,this.dap_recommendedScales),A=this._scaleRanges;l.forEach(r.keys(this._rangeToScaleAndNodeLookup),function(E){E=this._rangeToScaleAndNodeLookup[E];q.toggle(E.node,this.css.hidden,!A.contains(E.scale))},this);C=C.every(function(E){return"none"===n.get(E,"display")});
q.toggle(this.dap_recommendedScaleSection,this.css.hidden,C)}});u.setObject("dijit.ScaleMenu",J,T);return J})},"esri/dijit/VisibleScaleRangeSlider/ScaleRanges":function(){define(["./scalePreviewUtil","dojo/_base/array","dojo/_base/declare","dojo/Stateful","dojo/i18n!../../nls/jsapi"],function(T,J,p,y,t){p=p(y,{_scaleRangeStops:[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},
{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"state",minScale:3999999},{id:"states",minScale:6999999},{id:"country",minScale:14999999},{id:"countries",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:147914382}],_allRanges:null,_ranges:null,length:0,constructor:function(){this._allRanges=
this.getScaleRanges()},_scaleRangeBoundsSetter:function(m){this._ranges=m=this.getScaleRanges(m.maxScale,m.minScale);this.length=m.length},getScaleRanges:function(m,f){var g=this._scaleRangeStops,l=g.length;m=0<=m?m:0;f=0<f?f:g[l-1].minScale;var u=m;var q=[];for(var z=0;z<l;z++){var x=Math.min(g[z].minScale,f);var n=Math.min(x,f);m<=x&&u<f&&q.push({id:g[z].id,maxScale:Math.max(u,m),minScale:n});u=n+1}q.reverse();return this._ensureValidBoundaryRanges(q)},_ensureValidBoundaryRanges:function(m){var f=
m[0];f.minScale===f.maxScale&&(m.shift(),m[0].minScale+=1);f=m[m.length-1];f.minScale===f.maxScale&&(m.pop(),--m[m.length-1].maxScale);return m},getScalePreviewSpriteBackgroundPosition:function(m){m=this._toFullRangeIndex(m);return T.getScalePreviewSpriteBackgroundPosition(m)},_toFullRangeIndex:function(m){m=this.findScaleRangeByIndex(Math.floor(m));for(var f=this._allRanges,g=f.length,l=0,u=0;u<g;u++)if(f[u].id===m.id){l=u;break}return l},getScaleRangeLabel:function(m){m=this._ranges[this._clampScaleRangeIndex(m)];
return t.widgets.visibleScaleRangeSlider.scaleRangeLabels[m.id]},findScaleRange:function(m){var f=this._ranges;if(m>=f[0].maxScale)return f[0];if(m<=f[f.length-1].minScale)return f[f.length-1];for(var g=0;g<f.length;g++){var l=f[g];if(m>=l.maxScale&&m<=l.minScale){var u=l;break}}return u},findScaleRangeByIndex:function(m){m=this._clampScaleRangeIndex(m);return this._ranges[m]},clampScale:function(m){return Math.min(this.get("minScale"),Math.max(this.get("maxScale"),m))},_minScaleGetter:function(){return this.get("firstRange").minScale},
_maxScaleGetter:function(){return this.get("lastRange").maxScale},_firstRangeGetter:function(){return this._ranges[0]},_lastRangeGetter:function(){var m=this._ranges;return m[m.length-1]},clampMinScale:function(m){return 0===m?this.get("minScale"):this.clampScale(m)},clampMaxScale:function(m){return this.clampScale(m)},_clampScaleRangeIndex:function(m){if(0>=m)return 0;var f=this._ranges.length-1;return m>f?f:Math.floor(m)},scaleToRangeIndex:function(m){return J.indexOf(this._ranges,this.findScaleRange(m))},
contains:function(m){for(var f=this._ranges,g=!1,l,u=0;u<f.length;u++)if(l=f[u],m>=l.maxScale&&m<=l.minScale){g=!0;break}return g}});p.getScalePreviewSource=function(m){return T.getScalePreviewSource(m)};return p})},"esri/dijit/VisibleScaleRangeSlider/scalePreviewUtil":function(){define(["dojo/_base/array","require"],function(T,J){var p={_supportedRegions:"ar-iq ar-kw bg-bg cs-cz da-dk da-gl da-gl de-at de-ch de-de de-li el-gr en-ae en-au en-ca en-ca en-eg en-gb en-hk en-id en-ie en-ie en-il en-in en-iq en-ke en-lu en-mo en-my en-nz en-rw en-sg en-us en-us en-vi en-vi en-wo en-za es-ar es-ar es-bo es-bo es-cl es-cl es-co es-co es-cr es-cr es-es es-gt es-gt es-mx es-mx es-ni es-ni es-pe es-pe es-pr es-pr es-sv es-sv es-ve et-ee fi-fi fi-fi fr-ci fr-fr fr-ma fr-mg fr-ml fr-tn is-is is-is it-it ja-jp ja-jp ko-kr lt-lt lv-lv nl-be nl-nl nl-sr nl-sr nn-no nn-no pl-pl pt-br pt-br pt-pt ro-ro ru-ru sk-sk sv-se sv-se th-th zh-cn zh-tw".split(" "),
_defaultRegion:"en-us",_getSupportedRegion:function(y){y=y?y.toLowerCase():"";return-1<T.indexOf(p._supportedRegions,y)?y:p._defaultRegion},getScalePreviewSource:function(y){y="./images/scalePreview/"+p._getSupportedRegion(y)+".jpg";return"url("+J.toUrl(y)+")"},getScalePreviewSpriteBackgroundPosition:function(y){return"-"+y%5*128+"px -"+128*Math.floor(y/5)+"px"}};return p})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(T,J,p){var y={};
J.mixin(p,{keys:function(t){var m=[],f;for(f in t)f in y||m.push(f);return m},values:function(t){var m=[],f;for(f in t)f in y||m.push(t[f]);return m},filterIn:function(t,m,f){f=f||T.global;m=p.lambda(m);var g={},l;for(l in t)if(!(l in y)){var u=t[l];m.call(f,u,l,t)&&(g[l]=u)}return g},forIn:function(t,m,f){f=f||T.global;m=p.lambda(m);for(var g in t)g in y||m.call(f,t[g],g,t);return f},mapIn:function(t,m,f){f=f||T.global;m=p.lambda(m);var g={},l;for(l in t)l in y||(g[l]=m.call(f,t[l],l,t));return g}});
return p})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(T,J,p){var y=J.getObject("lang.functional",!0,T),t={},m=1<"ab".split(/a*/).length?String.prototype.split:function(l){var u=this.split.call(this,l);(l=l.exec(this))&&0==l.index&&u.unshift("");return u},f=function(l){var u=[],q=m.call(l,/\s*->\s*/m);if(1<q.length)for(;q.length;)l=q.pop(),u=q.pop().split(/\s*,\s*|\s+/m),q.length&&q.push("(function("+u.join(", ")+"){ return ("+l+"); })");
else if(l.match(/\b_\b/))u=["_"];else{q=l.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m);var z=l.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(q||z)q&&(u.push("$1"),l="$1"+l),z&&(u.push("$2"),l+="$2");else{q=l.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var x={};p.forEach(q,function(n){x.hasOwnProperty(n)||(u.push(n),x[n]=1)})}}return{args:u,body:l}},g=function(l){return l.length?function(){var u=l.length-1,q=y.lambda(l[u]).apply(this,arguments);for(--u;0<=u;--u)q=y.lambda(l[u]).call(this,q);return q}:function(u){return u}};J.mixin(y,{rawLambda:function(l){return f(l)},buildLambda:function(l){l=f(l);return"function("+l.args.join(",")+"){return ("+l.body+");}"},lambda:function(l){if("function"==typeof l)return l;
if(l instanceof Array)return g(l);if(t.hasOwnProperty(l))return t[l];var u=f(l);return t[l]=new Function(u.args,"return ("+u.body+");")},clearLambdaCache:function(){t={}}});return y})},"esri/dijit/VisibleScaleRangeSlider/ScalePreview":function(){define("../../kernel dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/has dojo/i18n!../../nls/jsapi dojo/text!./templates/ScalePreview.html".split(" "),function(T,J,p,y,t,m,f,g,l){J=y([p,J],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScalePreview",
baseClass:"esriScalePreview",templateString:l,labels:g.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",thumbnail:"esriThumbnail"},source:null,_setSourceAttr:function(u){this.source!==u&&(this._set("source",u),m.set(this.dap_scalePreviewThumbnail,"backgroundImage",u))},backgroundPosition:null,_setBackgroundPositionAttr:function(u){this.backgroundPosition!==u&&(this._set("backgroundPosition",u),m.set(this.dap_scalePreviewThumbnail,"backgroundPosition",u))}});t.setObject("dijit.ScalePreview",
J,T);return J})},"dojox/form/HorizontalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/HorizontalRangeSlider.html","dijit/form/HorizontalSlider"],function(T,J,p,y){return T("dojox.form.HorizontalRangeSlider",[y,J],{templateString:p})})},"dojox/form/_RangeSliderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){var e=function(b,c){return b-c};u=T("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=p.map(this.value,function(b){return parseInt(b,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(e);var b=this,c=T(d,{constructor:function(){this.widget=b}});this._movableMax=new z(this.sliderHandleMax,{mover:c});this.sliderHandle.setAttribute("aria-valuemin",
this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);c=T(a,{constructor:function(){this.widget=b}});this._movableBar=new z(this.progressBar,{mover:c});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},destroy:function(){this.inherited(arguments);this._movableMax.destroy();
this._movableBar.destroy()},_onKeyPress:function(b){if(!(this.disabled||this.readOnly||b.altKey||b.ctrlKey)){var c=b.target===this.sliderHandleMax,k=b.target===this.progressBar,r=J.delegate(l,this.isLeftToRight()?{PREV_ARROW:l.LEFT_ARROW,NEXT_ARROW:l.RIGHT_ARROW}:{PREV_ARROW:l.RIGHT_ARROW,NEXT_ARROW:l.LEFT_ARROW}),v=0,B=!1;switch(b.keyCode){case r.HOME:this._setValueAttr(this.minimum,!0,c);t.stop(b);return;case r.END:this._setValueAttr(this.maximum,!0,c);t.stop(b);return;case r.PREV_ARROW:case r.DOWN_ARROW:B=
!0;case r.NEXT_ARROW:case r.UP_ARROW:v=1;break;case r.PAGE_DOWN:B=!0;case r.PAGE_UP:v=this.pageIncrement;break;default:this.inherited(arguments);return}B&&(v=-v);v&&(k?this._bumpValue([{change:v,useMaxValue:!1},{change:v,useMaxValue:!0}]):this._bumpValue(v,c),t.stop(b))}},_onHandleClickMax:function(b){this.disabled||this.readOnly||(m("ie")||n.focus(this.sliderHandleMax),t.stop(b))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?this.minimum:this.maximum,!0,!0)},_bumpValue:function(b,
c){var k=J.isArray(b)?[this._getBumpValue(b[0].change,b[0].useMaxValue),this._getBumpValue(b[1].change,b[1].useMaxValue)]:this._getBumpValue(b,c);this._setValueAttr(k,!0,c)},_getBumpValue:function(b,c){var k=c?1:0,r=f.getComputedStyle(this.sliderBarContainer),v=g.getContentBox(this.sliderBarContainer,r);r=this.discreteValues;k=this.value[k];if(1>=r||Infinity==r)r=v[this._pixelCount];r--;k=this.maximum>this.minimum?(k-this.minimum)*r/(this.maximum-this.minimum)+b:0;0>k&&(k=0);k>r&&(k=r);return k*(this.maximum-
this.minimum)/r+this.minimum},_onBarClick:function(b){this.disabled||this.readOnly||(m("ie")||n.focus(this.progressBar),t.stop(b))},_onRemainingBarClick:function(b){if(!this.disabled&&!this.readOnly){m("ie")||n.focus(this.progressBar);var c=g.position(this.sliderBarContainer,!0),k=g.position(this.progressBar,!0),r=b[this._mousePixelCoord],v=k[this._startingPixelCoord];k=v+k[this._pixelCount];v=this._isReversed()?r<=v:r>=k;r=this._isReversed()?c[this._pixelCount]-r+c[this._startingPixelCoord]:r-c[this._startingPixelCoord];
this._setPixelValue(r,c[this._pixelCount],!0,v);t.stop(b)}},_setPixelValue:function(b,c,k,r){this.disabled||this.readOnly||(b=this._getValueByPixelValue(b,c),this._setValueAttr(b,k,r))},_getValueByPixelValue:function(b,c){var k=this.discreteValues;if(1>=k||Infinity==k)k=c;k--;return(this.maximum-this.minimum)*Math.round((0>b?0:c<b?c:b)/(c/k))/k+this.minimum},_setValueAttr:function(b,c,k){var r=J.clone(this.value);J.isArray(b)?r=b:r[k?1:0]=b;this._lastValueReported="";this.valueNode.value=b=r;r.sort(e);
this.sliderHandle.setAttribute("aria-valuenow",r[0]);this.sliderHandleMax.setAttribute("aria-valuenow",r[1]);x.prototype._setValueAttr.apply(this,arguments);this._printSliderBar(c,k)},_printSliderBar:function(b,c){var k=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):0,r=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,v=k;k>r&&(k=r,r=v);var B=this._isReversed()?100*(1-k):100*k,C=this._isReversed()?100*(1-r):100*r,A=this._isReversed()?
100*(1-r):100*k;if(b&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),v=this.slideDuration/10,0!==v){0>v&&(v=0-v);var E={},F={},w={};E[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],end:B,units:"%"};F[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:C,units:"%"};w[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],
end:A,units:"%"};w[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(r-k),units:"%"};k=y.animateProperty({node:this.sliderHandle.parentNode,duration:v,properties:E});r=y.animateProperty({node:this.sliderHandleMax.parentNode,duration:v,properties:F});v=y.animateProperty({node:this.progressBar,duration:v,properties:w});h.combine([k,r,v]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=B+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=
C+"%",this.progressBar.style[this._handleOffsetCoord]=A+"%",this.progressBar.style[this._progressPixelSize]=100*(r-k)+"%"}});var d=T("dijit.form._SliderMoverMax",q,{onMouseMove:function(b){var c=this.widget,k=c._abspos;k||(k=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=J.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());b=b[c._mousePixelCoord]-k[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?k[c._pixelCount]-b:b,k[c._pixelCount],!1,!0)},destroy:function(b){q.prototype.destroy.apply(this,
arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,!0)}}),a=T("dijit.form._SliderBarMover",q,{onMouseMove:function(b){var c=this.widget;if(!c.disabled&&!c.readOnly){var k=c._abspos,r=c._bar,v=c._mouseOffset;k||(k=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=J.hitch(c,"_setPixelValue"),c._getValueByPixelValue_=J.hitch(c,"_getValueByPixelValue"),c._isReversed_=c._isReversed());r||(r=c._bar=g.position(c.progressBar,!0));v||(v=c._mouseOffset=b[c._mousePixelCoord]-r[c._startingPixelCoord]);
b=b[c._mousePixelCoord]-k[c._startingPixelCoord]-v;pixelValues=[b,b+r[c._pixelCount]];pixelValues.sort(e);0>=pixelValues[0]&&(pixelValues[0]=0,pixelValues[1]=r[c._pixelCount]);pixelValues[1]>=k[c._pixelCount]&&(pixelValues[1]=k[c._pixelCount],pixelValues[0]=k[c._pixelCount]-r[c._pixelCount]);k=[c._getValueByPixelValue(c._isReversed_?k[c._pixelCount]-pixelValues[0]:pixelValues[0],k[c._pixelCount]),c._getValueByPixelValue(c._isReversed_?k[c._pixelCount]-pixelValues[1]:pixelValues[1],k[c._pixelCount])];
c._setValueAttr(k,!1,!1)}},destroy:function(){q.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._bar=null;b._mouseOffset=null;b._setValueAttr(b.value,!0)}});return u})},"dojox/fx":function(){define(["./fx/_base"],function(T){return T})},"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(T,J,p,y,t,m,f,g,l){T=J.getObject("dojox.fx",!0);
J.mixin(T,{anim:p.anim,animateProperty:p.animateProperty,fadeTo:p._fade,fadeIn:p.fadeIn,fadeOut:p.fadeOut,combine:y.combine,chain:y.chain,slideTo:y.slideTo,wipeIn:y.wipeIn,wipeOut:y.wipeOut});T.sizeTo=function(u){var q=u.node=t.byId(u.node),z=u.method||"chain";u.duration||(u.duration=500);"chain"==z&&(u.duration=Math.floor(u.duration/2));var x,n,h,e,d,a=null,b=function(c){return function(){var k=m.getComputedStyle(c),r=k.position,v=k.width,B=k.height;x="absolute"==r?c.offsetTop:parseInt(k.top)||0;
h="absolute"==r?c.offsetLeft:parseInt(k.left)||0;d="auto"==v?0:parseInt(v);a="auto"==B?0:parseInt(B);e=h-Math.floor((u.width-d)/2);n=x-Math.floor((u.height-a)/2);"absolute"!=r&&"relative"!=r&&(k=m.coords(c,!0),x=k.y,h=k.x,c.style.position="absolute",c.style.top=x+"px",c.style.left=h+"px")}}(q);q=p.animateProperty(J.mixin({properties:{height:function(){b();return{end:u.height||0,start:a}},top:function(){return{start:x,end:n}}}},u));z=p.animateProperty(J.mixin({properties:{width:function(){return{start:d,
end:u.width||0}},left:function(){return{start:h,end:e}}}},u));return y["combine"==u.method?"combine":"chain"]([q,z])};T.slideBy=function(u){var q,z,x=function(n){return function(){var h=m.getComputedStyle(n),e=h.position;q="absolute"==e?n.offsetTop:parseInt(h.top)||0;z="absolute"==e?n.offsetLeft:parseInt(h.left)||0;"absolute"!=e&&"relative"!=e&&(h=f.coords(n,!0),q=h.y,z=h.x,n.style.position="absolute",n.style.top=q+"px",n.style.left=z+"px")}}(u.node=t.byId(u.node));x();u=p.animateProperty(J.mixin({properties:{top:q+
(u.top||0),left:z+(u.left||0)}},u));g.connect(u,"beforeBegin",u,x);return u};T.crossFade=function(u){var q=u.nodes[0]=t.byId(u.nodes[0]),z=l.style(q,"opacity"),x=u.nodes[1]=t.byId(u.nodes[1]);l.style(x,"opacity");return y.combine([p[0==z?"fadeIn":"fadeOut"](J.mixin({node:q},u)),p[0==z?"fadeOut":"fadeIn"](J.mixin({node:x},u))])};T.highlight=function(u){var q=u.node=t.byId(u.node);u.duration=u.duration||400;var z=u.color||"#ffff99",x=l.style(q,"backgroundColor");"rgba(0, 0, 0, 0)"==x&&(x="transparent");
u=p.animateProperty(J.mixin({properties:{backgroundColor:{start:z,end:x}}},u));"transparent"==x&&g.connect(u,"onEnd",u,function(){q.style.backgroundColor=x});return u};T.wipeTo=function(u){u.node=t.byId(u.node);var q=u.node,z=q.style,x=u.width?"width":"height",n={};n[x]={start:function(){z.overflow="hidden";if("hidden"==z.visibility||"none"==z.display)return z[x]="1px",z.display="",z.visibility="",1;var h=l.style(q,x);return Math.max(h,1)},end:u[x]};return p.animateProperty(J.mixin({properties:n},
u))};return T})},"arcgisonline/pages/isGeographic":function(){define(["require","exports","tslib","esri/WKIDUnitConversion"],function(T,J,p,y){y=p.__importDefault(y);return function(t){t=t||{};return t.wkid?!y["default"].hasOwnProperty(t.wkid):t.wkt?/^\s*GEOGCS/i.test(t.wkt):!1}})},"arcgisonline/pages/components/SelectLayerProperties":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline ../utils/arrays".split(" "),function(T,J,p,y,t,m){Object.defineProperty(J,"__esModule",
{value:!0});t=p.__importDefault(t);m=p.__importDefault(m);T=function(f){function g(){var l=null!==f&&f.apply(this,arguments)||this;l.state={active:!0,layerProperties:l.props.layerProperties};l.excludedFieldTypes=["esriFieldTypeOID","esriFieldTypeGlobalID"];l.toggleLayerPropertyField=function(u,q){var z=p.__spreadArray([],l.state.layerProperties),x=m["default"].findIndex(z,function(h){return h.id===u});if(-1<x){var n=z[x];m["default"].includes(n.additionalFields,q)?(n.additionalFields=m["default"].filterOut(n.additionalFields,
[q]),0===n.additionalFields.length&&z.splice(x,1)):n.additionalFields.push(q)}else z.push({id:u,additionalFields:[q]});l.setState({layerProperties:z})};l.save=function(){l.setState({active:!1});l.props.onSubmit(l.state.layerProperties)};l.cancel=function(){l.setState({active:!1,layerProperties:l.props.layerProperties});setTimeout(function(){l.props.onCancel()},400)};return l}p.__extends(g,f);g.prototype.componentWillUnmount=function(){document.documentElement.classList.remove("overflow-hidden")};
g.prototype.render=function(){var l=this,u,q=this.props,z=q.layers,x=q.onSubmit,n=this.state;q=n.active;var h=n.layerProperties;n=this.props.rebuildMode?t["default"].itemProperties.configureAttributes.rebuild:t["default"].itemProperties.configureAttributes.description;var e=this.props.rebuildMode?t["default"].itemProperties.configureAttributes.rebuildCache:t["default"].itemProperties.configureAttributes.select;z=null!==(u=null===z||void 0===z?void 0:z.map(function(d,a){var b,c=d.id,k=d.name,r=d.fields;
r=null!==(b=null===r||void 0===r?void 0:r.map(function(v,B){var C=v.type,A=v.name,E=v.alias,F=(h||[]).some(function(w){return(null===w||void 0===w?void 0:w.id)===c&&-1<w.additionalFields.indexOf(A)});return m["default"].includes(l.excludedFieldTypes,C)?null:y.h("label",{"class":"font-size--2 trailer-0",key:B},y.h("input",{type:"checkbox",checked:F,onChange:function(){return l.toggleLayerPropertyField(c,A)}})," ",E||A)}))&&void 0!==b?b:r;return y.h(y.Fragment,{key:a},y.h("div",{"class":"avenir-demi"},
k),y.h("div",{"class":"margin-left-1"},r))}))&&void 0!==u?u:z;return y.h("calcite-modal",{active:q,"intl-close":t["default"].common.close,role:"dialog","aria-modal":"true",oncalciteModalClose:this.cancel,"disable-outside-close":!0},y.h("h3",{slot:"header","class":"font-size-2 trailer-0"},t["default"].itemProperties.configureAttributes.selectAttributes),y.h("div",{slot:"content","class":"position-relative"},y.h("div",{"class":"trailer-half"},n),z),y.h("calcite-button",{slot:"secondary",width:"full",
appearance:"outline",color:"blue",onClick:function(){return l.cancel()}},t["default"].common.cancel),y.h("calcite-button",{slot:"primary",width:"full",color:"blue",appearance:"solid",onClick:function(){x(h)}},e))};return g}(y.Component);J["default"]=T})},"arcgisonline/sharing/dijit/dialog/CreateAppDlg":function(){define("require esri/declare esri/Evented esri/kernel esri/lang esri/request dojo/_base/lang dojo/_base/window dojo/_base/array dojo/topic dojo/string dojo/query dojo/on dojo/json dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/promise/all dojo/Deferred dojo/when dojo/io-query dojox/widget/Wizard dojox/widget/WizardPane dijit/Dialog dijit/registry ./ConfirmDialog ./ItemPropertiesDlg ./BrowseItemsDlg ./ConfirmDialog ./_CreateItemUtilMixin ../../../esriGeowConfig ../../../pages/utils/arrays ../../../map/utils/previewInTemplate ../../../map/utils/openMap dijit/_WidgetBase arcgisonline/sharing/util dojo/i18n!../../../nls/arcgisonline arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca){return J([V,p],{showModal:function(ea){var ka=new k,la=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},ta=ea.isWab,za="Web Scene"===la.type,ia=Z.getHomeAppContext(),U=ea.message,ja,S=new F({title:ea.title||ca.itemProperties.createNewApp,buttonOk:ca.common.ok,buttonCancel:ca.common.cancel,busyMessage:ca.addItemFrm.addingItem,style:{width:"550px",height:"auto"}}),O=new w({typeInfo:ta?
"wab":"configapp",message:U||(ta?ca.items.createWABMessage:ca.itemProperties.createAppTitle),showFolders:!0,showFile:!1,item:la});this.item&&(O.set("summary",this.item.isHostedTemplate?"":this.item.snippet),O.set("title",this.item.isHostedTemplate?"":this.item.title),O.set("tags",this.item.isHostedTemplate?[]:this.item.tags),M.self.hasCategorySchema&&O.set("categories",this.item.categories||[]));S.setContent(O.domNode);S.show();O.set("focus","title");this.own(x(S,"ok",f.hitch(this,function(){u.publish("/esri/disable",
!0,ca.addItemFrm.addingItem);O._validate().then(f.hitch(this,function(){ta?(la=f.mixin({},O.get("item")),S.hide().then(f.hitch(this,function(){this.redirectToAppBuilder(la)}))):(ja=O.get("item"),this.item.isHostedTemplate||(ja=f.mixin(ja,{shareWithWebMap:!0},za?{webSceneId:this.item.id}:{webMapId:this.item.id})),Z.isPortal()&&la.url&&0===la.url.indexOf("/")&&la.url&&-1===la.url.indexOf(ia)&&(la.url=ia+la.url),H.createTemplatedApplication(ja,la,this.item.portal,this.item).then(function(I){ja=I;S.hide()}))}),
f.hitch(this,function(I){u.publish("/esri/disable",!1);this._showError(I)}))})),x(S,"hide",function(){ka.resolve(ja)}));return ka},showWizard:function(ea){var ka=new k,la=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},ta=new A({title:ca.items.newWebMappingAppTitle,"class":"esriCreateAppDlg"}),za=this.item&&this.item.portal||ea.portal||{};ea=this.item?R.includes(la.types,"is-map"):!0;var ia="Web Scene"===la.type,U;ea=ea?this.item?"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":
"arcgisonline/sharing/dijit/dialog/PluginConfigurableApps":"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer";var ja=[new D({messageLeft:ca.browseItemsDlg.instructionsLeft,messageRight:ca.browseItemsDlg.instructionsRight,item:this.item,"class":"esriBrowseItemsDlg"}),new w({message:ca.itemProperties.createAppTitle,typeInfo:"configapp",showFolders:!0,showFile:!1,showUrl:!1,item:this.item})],S=f.hitch(this,function(Q){u.publish("/esri/disable",Q,ca.addItemFrm.addingItem);z(".dojoxWizardButtons .dijitButton").map(E.byNode).forEach(function(X){X.set("disabled",
Q)})}),O=f.hitch(this,function(Q){return Q._validate()}),I=u.subscribe("/esri/browseitems/close",f.hitch(this,function(Q,X){if("create-app"===Q)aa.nextButton.onClick();else"on-view-item"===Q?window.open("item.html?id\x3d"+X.id):"download-app"===Q?Z.downloadWebMappingApp(X):"preview-app"===Q&&N(la,X)})),ba=f.hitch(this,function(Q){Q._validate().then(f.hitch(this,function(X){S(!0);X=ja[0].get("selection");var Y=Z.getHomeAppContext(),da=ja[1].get("item");Z.isPortal()&&X.url&&0===X.url.indexOf("/")&&
X.url&&-1===X.url.indexOf(Y)&&(X.url=Y+X.url);U=da;this.item&&!this.item.isHostedTemplate&&(U=f.mixin(U,{shareWithWebMap:!0},ia?{webSceneId:this.item.id}:{webMapId:this.item.id}));H.createTemplatedApplication(da,X,za,this.item).then(f.hitch(this,function(ha){this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label});ta.hide().then(f.hitch(this,function(){setTimeout(function(){window.location=ha.configureUrl},400)}))}),f.hitch(this,function(ha){S(!1);
this._showError(ha)}))}),f.hitch(this,function(X){S(!1);this._showError(X)}))}),W=f.hitch(this,function(Q){ta.hide().then(f.hitch(this,function(){ka.resolve(!1)}))}),aa=new B({nextButtonLabel:ca.publishWizard.nextButtonLabel,previousButtonLabel:ca.publishWizard.previousButtonLabel,doneButtonLabel:ca.publishWizard.doneButtonLabel,cancelButtonLabel:ca.publishWizard.cancelButtonLabel,"class":"esriCreateApp",hideDisabled:!0,doneFunction:ba,cancelFunction:W}),P=ja[1];ja[0].addPlugin(ea);var L=x(ta,"hide",
f.hitch(this,function(Q){L.remove();l.forEach(ja,function(X){X.destroyRecursive();X=null});I.remove();aa.destroyRecursive();ta.destroyRecursive();(Q=document.getElementById("create-dropdown"))&&Q.focus()}));l.forEach(ja,function(Q,X){(new C({content:Q.domNode,passFunction:f.partial(O,Q),doneFunction:X===ja.length-1?f.partial(ba,Q):null})).placeAt(aa)});h.after(aa,"_checkButtons",function(){aa.selectedChildWidget.isFirstChild?aa.nextButton.domNode.style.display="none":aa.selectedChildWidget.isLastChild&&
P.set("focus","title")});z(".dojoxWizardButtons",aa.domNode).addClass("esriFloatTrailing");a.add(aa.nextButton.domNode,["calcite","primary"]);a.add(aa.cancelButton.domNode,["calcite","cancel"]);a.add(aa.previousButton.domNode,["calcite","default btn-back icon-ui-left"]);a.add(aa.doneButton.domNode,["calcite","primary"]);this.item&&(P.set("summary",this.item.isHostedTemplate?"":this.item.snippet),P.set("title",this.item.isHostedTemplate?"":this.item.title),P.set("tags",this.item.isHostedTemplate?"":
this.item.tags),M.self.hasCategorySchema&&P.set("categories",this.item.categories||[]));aa.startup();b.create("span",{"class":"spinner hide",innerHTML:ca.common.pleaseWait},z(".dojoxWizardButtons",aa.domNode)[0],"first");ta.setContent(aa.domNode);ta.show().then(function(){ta.closeButtonNode&&(ta.closeButtonNode.tabIndex=0)}.bind(this));document.documentElement.scrollTop=document.body.scrollTop=(document.documentElement.scrollTop||document.body.scrollTop)+1;return ka},showCreateDefaultItem:function(ea){var ka=
new F({title:ea.title||ca.common.create,buttonOk:ca.common.ok,buttonCancel:ca.common.cancel,style:{width:"550px",height:"auto"}}),la=ea.typeInfo,ta=new w({typeInfo:la,item:ea.item,message:ea.message,showFolders:!0,showFile:!1,showUrl:ea.showUrl}),za=null;"dashboard_map"===la&&ea&&ea.item&&(ta.set("title",ea.item.title),M.self.hasCategorySchema&&ta.set("categories",ea.item.categories||[]));ka.setContent(ta.domNode);ka.show();x(ka,"hide",function(){var ja=document.getElementById("create-dropdown");
ja&&ja.focus()});var ia=x(ka.okButton,"click",f.hitch(this,function(){ea.isWAB?ta._validate().then(f.hitch(this,function(ja){za=ta.get("item");this.telemetry&&this.label&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label,attribute:ta.wab2DRadio.checked?"2d":"3d"});ka.hide().then(f.hitch(this,function(){setTimeout(function(){this.redirectToAppBuilder(za)}.bind(this),400)}))}),f.hitch(this,function(ja){this._showError(ja)})):ta.addItem().then(f.hitch(this,
function(ja){ka.hide().then(f.hitch(this,function(){U.remove();ia.remove();"webmap"===la?K(ja.id):"webscene"===la||"webscene_portal"===la?window.location="./webscene/viewer.html?webscene\x3d"+ja.id:"urbanmodel"===la?window.location=(M.urbanUrl||"https://urban.arcgis.com")+"?id\x3d"+ja.id:"dashboard"===la||"dashboard_map"===la?(this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:"dashboard"}),setTimeout(function(){this.redirectToAppBuilder(ja)}.bind(this),
400)):window.location="ipynb"===la||"notebook"===la?"notebook/notebook.html?id\x3d"+ja.id:"item.html?id\x3d"+(ja.serviceItemId||ja.id)+(ja.jobId?"\x26jobid\x3d"+ja.jobId:"")}))}),f.hitch(this,function(ja){this._showError(ja)}))}));var U=x.once(ka.cancelButton,"click",f.hitch(this,function(){U.remove();ia.remove()}))},redirectToAppBuilder:function(ea){ea.folderId&&"/"!==ea.folderId&&(ea.folder=ea.folderId);var ka={title:ea.title,tags:ea.tags,summary:ea.snippet,folder:ea.folder,appType:ea.wabType},
la="Dashboard"===ea.type?"../apps/dashboards/"+ea.id+"#mode\x3dedit":"../apps/webappbuilder/index.html?";M.self.hasCategorySchema&&ea.categories&&ea.categories.length&&f.mixin(ka,{categories:n.stringify(ea.categories)});ea.wabType&&(ka=f.mixin(ka,{appType:ea.wabType,webmap:ea.webmap}),la+=v.objectToQuery(ka));window.location=la},_showError:function(ea){ea=f.mixin(f.mixin({},ca.publishWizard.errors.error),ea);this._errorDlg=new F({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(ea).then(f.hitch(this,
function(){this._errorDlg.hide()}));return!1}})})},"dojox/widget/Wizard":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dijit/layout/StackContainer dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/i18n dojo/text!./Wizard/Wizard.html dojo/i18n!dijit/nls/common dojo/i18n!./nls/Wizard dijit/form/Button".split(" "),function(T,J,p,y,t,m,f,g){return J("dojox.widget.Wizard",[y,t,m],{templateString:g,nextButtonLabel:"",previousButtonLabel:"",cancelButtonLabel:"",doneButtonLabel:"",
cancelFunction:null,hideDisabled:!1,postMixInProperties:function(){this.inherited(arguments);var l=T.mixin({cancel:f.getLocalization("dijit","common",this.lang).buttonCancel},f.getLocalization("dojox.widget","Wizard",this.lang)),u;for(u in l)this[u+"ButtonLabel"]||(this[u+"ButtonLabel"]=l[u])},startup:function(){this._started||(this.inherited(arguments),this.connect(this.nextButton,"onClick","_forward"),this.connect(this.previousButton,"onClick","back"),this.cancelFunction?(T.isString(this.cancelFunction)&&
(this.cancelFunction=T.getObject(this.cancelFunction)),this.connect(this.cancelButton,"onClick",this.cancelFunction)):this.cancelButton.domNode.style.display="none",this.connect(this.doneButton,"onClick","done"),this._subscription=p.subscribe(this.id+"-selectChild",T.hitch(this,"_checkButtons")),this._started=!0)},resize:function(){this.inherited(arguments);this._checkButtons()},_checkButtons:function(){var l=this.selectedChildWidget,u=l.isLastChild||this.nextButton.get("disabled");this.nextButton.set("disabled",
u);this._setButtonClass(this.nextButton);l.doneFunction?(this.doneButton.domNode.style.display="",u&&(this.nextButton.domNode.style.display="none")):this.doneButton.domNode.style.display="none";this.previousButton.set("disabled",!this.selectedChildWidget.canGoBack);this._setButtonClass(this.previousButton)},_setButtonClass:function(l){l.domNode.style.display=this.hideDisabled&&l.disabled?"none":""},_forward:function(){this.selectedChildWidget._checkPass()&&this.forward()},done:function(){this.selectedChildWidget.done()},
destroy:function(){p.unsubscribe(this._subscription);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){m("dijit-legacy-requires")&&l(0,function(){require(["dijit/layout/StackController"])});p=p("dijit.layout.StackContainer",n,{doLayout:!0,
persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);y.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",f.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var h=this.getChildren();T.forEach(h,this._setupChild,this);this.persist?this.selectedChildWidget=z.byId(J(this.id+"_selectedChild")):T.some(h,function(d){d.selected&&(this.selectedChildWidget=d);return d.selected},
this);var e=this.selectedChildWidget;!e&&h[0]&&(e=this.selectedChildWidget=h[0],e.selected=!0);u.publish(this.id+"-startup",{children:h,selected:e,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var h=this.selectedChildWidget;h&&this._showChild(h)}this.inherited(arguments)},_setupChild:function(h){var e=h.domNode,d=t.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",h.domNode,"replace"),a=
h["aria-label"]||h.title||h.label;a&&d.setAttribute("aria-label",a);t.place(e,d);h._wrapper=d;this.inherited(arguments);"none"==e.style.display&&(e.style.display="block");h.domNode.removeAttribute("title")},addChild:function(h,e){this.inherited(arguments);this._started&&(u.publish(this.id+"-addChild",h,e),this.layout(),this.selectedChildWidget||this.selectChild(h))},removeChild:function(h){var e=T.indexOf(this.getChildren(),h);this.inherited(arguments);t.destroy(h._wrapper);delete h._wrapper;this._started&&
u.publish(this.id+"-removeChild",h);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===h&&(this.selectedChildWidget=void 0,this._started)){var d=this.getChildren();d.length&&this.selectChild(d[Math.max(e-1,0)])}this._started&&this.layout()}},selectChild:function(h,e){h=z.byId(h);if(this.selectedChildWidget!=h){var d=this._transition(h,this.selectedChildWidget,e);this._set("selectedChildWidget",h);u.publish(this.id+"-selectChild",h,this._focused);this.persist&&J(this.id+"_selectedChild",
this.selectedChildWidget.id)}return q(d||!0)},_transition:function(h,e){e&&this._hideChild(e);var d=this._showChild(h);h.resize&&(this.doLayout?h.resize(this._containerContentBox||this._contentBox):h.resize());return d},_adjacent:function(h){var e=this.getChildren(),d=T.indexOf(e,this.selectedChildWidget);d+=h?1:e.length-1;return e[d%e.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(h){u.publish(this.id+
"-containerKeyDown",{e:h,page:this})},layout:function(){var h=this.selectedChildWidget;h&&h.resize&&(this.doLayout?h.resize(this._containerContentBox||this._contentBox):h.resize())},_showChild:function(h){var e=this.getChildren();h.isFirstChild=h==e[0];h.isLastChild=h==e[e.length-1];h._set("selected",!0);h._wrapper&&y.replace(h._wrapper,"dijitVisible","dijitHidden");return h._onShow&&h._onShow()||!0},_hideChild:function(h){h._set("selected",!1);h._wrapper&&y.replace(h._wrapper,"dijitHidden","dijitVisible");
h.onHide&&h.onHide()},closeChild:function(h){if(!h.onClose||h.onClose(this,h))this.removeChild(h),h.destroyRecursive()},destroyDescendants:function(h){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;T.forEach(this.getChildren(),function(e){h||this.removeChild(e);e.destroyRecursive(h)},this);this._descendantsBeingDestroyed=!1}});p.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};f.extend(x,p.ChildWidgetProperties);return p})},"dojox/widget/WizardPane":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dijit/layout/ContentPane"],function(T,J,p){return J("dojox.widget.WizardPane",p,{canGoBack:!0,passFunction:null,doneFunction:null,startup:function(){this.inherited(arguments);this.isFirstChild&&(this.canGoBack=!1);T.isString(this.passFunction)&&(this.passFunction=T.getObject(this.passFunction));T.isString(this.doneFunction)&&this.doneFunction&&(this.doneFunction=T.getObject(this.doneFunction))},_onShow:function(){this.isFirstChild&&(this.canGoBack=!1);this.inherited(arguments)},
_checkPass:function(){var y=!0;if(this.passFunction&&T.isFunction(this.passFunction)){var t=this.passFunction();switch(typeof t){case "boolean":y=t;break;case "string":alert(t),y=!1}}return y},done:function(){this.doneFunction&&T.isFunction(this.doneFunction)&&this.doneFunction()}})})},"arcgisonline/sharing/dijit/dialog/BrowseItemsDlg":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/_base/event dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/mouse dojo/topic dojo/query dojo/parser dijit/registry dijit/TooltipDialog dijit/popup dojo/promise/all dojo/Deferred dgrid/Grid dgrid/extensions/Pagination dgrid/OnDemandGrid dgrid/Selection dgrid/selector dgrid/Keyboard dgrid/util/mouse dgrid/util/touch put-selector/put dojo/store/Observable dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/arcgis/Portal esri/Evented esri/PluginTarget arcgisonline/sharing/util arcgisonline/sharing/geow/Account arcgisonline/esriGeowConfig ./_AppTemplateFiltersMixin dojo/i18n!arcgisonline/nls/arcgisonline ../_RefreshMixin ../_Empty dojo/NodeList-dom".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca,ea,ka,la,ta,za,ia){var U=T(null,{idProperty:"id",constructor:function(ja){T.safeMixin(this,ja)},get:function(ja,S){return K.PortalUtil.request(this.portalUrl+"content/items/"+ja,S).then(function(O){return new K.PortalItem(J.mixin(O,{portal:this.portal}))})},getIdentity:function(ja){return ja[this.idProperty]},query:function(ja,S){var O=J.isObject(ja)?ja:{q:ja};if(S&&(O=J.mixin(O,{num:S.count,start:(S.start||0)+
1}),S.sort&&S.sort.length)){var I=S.sort[0];O=J.mixin(O,{sortField:encodeURIComponent("created"===I.attribute?"uploaded":I.attribute),sortOrder:I.descending?"desc":"asc"})}O=this.portal.queryItems(O,!0).then(function(ba){ba.results.total=ba.total;return ba.results});return K.PortalResult(O)}});return T("arcgisonline.sharing.dijit.dialog.BrowseItemsDlg",[M,R,N,Z],{templateString:'\x3cdiv\x3e\x3cdiv class\x3d"top-bar clearfix"\x3e\x3cdiv  class\x3d"left instructions"\x3e\x3cspan class\x3d"font-size-0 messageLeft hide" data-dojo-attach-point\x3d"messageNodeLeft"\x3e\x3c/span\x3e\x3ch2 class\x3d"font-size-0 trailer-0 inline-block messageRight"\x3e\x3cspan class\x3d"hide" data-dojo-attach-point\x3d"messageNodeRight"\x3e\x3c/span\x3e\x3ca data-dojo-attach-point\x3d"helpLink" class\x3d"icon-ui-question icon-ui-flush margin-left-half hide" title\x3d"${i18n.common.learnMoreConfigurableApps}" href\x3d"#" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/h2\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}_search"class\x3d"searchBar right"\x3e\x3cinput tabIndex\x3d"0" placeholder\x3d"${i18n.search.searchTitle}" aria-label \x3d"${i18n.search.searchTitle}" class\x3d"esriSearchBox dijitTextBox" type\x3d"search"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"gallery"\x3e\x3cdiv class\x3d"gallery-left  quiet-scroll"\x3e\x3cul class\x3d"filters"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"templates gallery-right"\x3e\x3cp id\x3d"${id}_filterTitle" class\x3d"filter-title hide" data-dojo-attach-point\x3d"filterDescription"\x3e\x3c/p\x3e\x3cdiv id\x3d"${id}_grid"class\x3d"dgrid-autoheight quiet-scroll"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"loader-wrap"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv  data-dojo-attach-point\x3d"infoPanel" id\x3d"template-info-panel"\x3e\x3c/div\x3e\x3c/div\x3e',
galleryTemplate:'\x3cdiv style\x3d\'opacity:1;\' class\x3d\'grid-item gallery-view\' tabIndex\x3d"0" aria-label\x3d"${item.title}"\x3e\x3cdiv class\x3d\'grid-item-thumbnail-wrap\'\x3e${item:_formatThumbnail}\x3cp class\x3d"template-overlay" style\x3d"display:none;"\x3e${i18n.browseItemsDlg.selectDetails}\x3c/p\x3e\x3c/div\x3e${item:_formatItemTitle}\x3c/div\x3e',infoPanelTemplate:'\x3cdiv class\x3d"template-info-wrapper"\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"on-next"\x3e${i18n.browseItemsDlg.configure}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
baseClass:"esriBrowseItems",i18n:ta,postCreate:function(){this.inherited(arguments);this._portalUser=(this._portal=ka.portal)&&(this._portal.user||this._portal.getPortalUser());ea.getSelf(J.hitch(this,function(ja){this._canSearchPublic=ja.canSearchPublic;this._currentFilter=J.mixin(this._currentFilter||{},{get:function(S){return J.isArray(this[S])&&1<this[S].length?"("+this[S].join(" OR ")+") ":this[S]?this[S]+" ":""},toString:function(){return{q:this.get("groups")+this.get("tags")+this.get("persistentTypekeywords")+
this.get("typekeywords")+this.get("types")+(this.query||"")+(this.search||"")+' -type:"Attachment"'}}});ja.canSearchPublic=!0;this._portal?this.itemQuery&&this._fetchData():(this._portal=new K.Portal({url:ka.restBaseUrl,self:ja}),this._portal.on("load",J.hitch(this,function(){this.addPlugin(this.plugin).then(J.hitch(this,function(){}))})));e(".templates",this.domNode).addClass("fade");e(".dgrid-footer",this.domNode).addClass("hide")}))},destroy:function(){this.inherited(arguments);this._grid&&this._grid.destroy();
this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove());this._queryTimer&&clearTimeout(this._queryTimer);this._grid=this._portal=null},addPlugin:function(ja){var S=new r;ja?this.inherited(arguments).then(J.hitch(this,function(O){this.galleryTemplate=this.plugIn&&this.plugIn.galleryTemplate||this.galleryTemplate;(this.helpLinkUrl=this.plugIn&&this.plugIn.helpLinkUrl||"")?(g.set(this.helpLink,"href",this.helpLinkUrl),m.remove(this.helpLink,"hide")):m.add(this.helpLink,"hide");
this._fetchData().then(function(){S.resolve(O)})})):S.resolve(!0);return S},_setItemQueryAttr:function(ja){this.itemQuery=ja},_setPluginAttr:function(ja){this.plugin=ja},_setMessageAttr:function(ja){this.set("messageRight",ja)},_setMessageRightAttr:function(ja){g.set(this.messageNodeRight,"innerHTML",ja);m.remove(this.messageNodeRight,"hide")},_setMessageLeftAttr:function(ja){g.set(this.messageNodeLeft,"innerHTML",ja);m.remove(this.messageNodeLeft,"hide")},_setDisabledAttr:function(ja){var S=a.findWidgets(this.domNode).concat(a.findWidgets(this._content));
p.forEach(S,function(O){O.set("disabled",ja)});m[ja?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_setSortAttr:function(ja){this.sortAttribute=ja},_setSortDescendingAttr:function(ja){this.sortDescending=ja},_getSelectionAttr:function(){var ja=this._grid.selection,S;for(S in ja)break;return S&&this._grid.row(S).data},_getInfoPanelTemplateAttr:function(){return this.plugIn&&this.plugIn.infoPanelTemplate||this.infoPanelTemplate},_getGalleryTemplateAttr:function(){return this.plugIn&&
this.plugIn.galleryTemplate||this.galleryTemplate},_validate:function(){return!!this.get("selection")},_clearQueryTimeout:function(){clearTimeout(this._queryTimer);this._queryTimer=null},_clearClosePanelTimeout:function(){clearTimeout(this._panelClosing);this._panelClosing=null;p.forEach(this._panelClickHandles,"item.remove();");x.empty("template-info-panel")},_createGrid:function(){var ja=T([v,B,A,F,za]),S=new H(new U({portal:this._portal})),O=this._currentFilter,I=J.hitch(this,function(ba){ba.snippet=
ba.snippet||"";ba.title=ba.title||"";var W=G("div");ba=l.substitute(this.get("galleryTemplate"),{item:ba,i18n:ta},null,this);x.place(ba,W);return W});this._grid=new ja({store:S,query:O.toString(),selectionMode:"single",pagingLinks:2,rowsPerPage:this.plugIn&&this.plugIn.rowsPerPage||8,noDataMessage:l.substitute(ia,{message:ta.emptyStates.noContentAvailable,width:256}),showLoadingMessage:!1,renderRow:I,sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},this.id+"_grid");
this._grid.startup();this.own(u(this.domNode,"click",J.hitch(this,function(ba){z.byId("close-panel")&&z.byId("close-panel").click()})),this._grid.addKeyHandler(13,J.hitch(this,function(ba){ba=ba.target;this._grid.select(ba);ba.click()})),this._grid.addKeyHandler(32,J.hitch(this,function(ba){ba=ba.target;this._grid.select(ba);ba.click()})),this._grid.on(w.enterRow,J.hitch(this,function(ba){!1===m.contains(this.domNode,"showing")&&this._showOverlay(!0,ba)})),this._grid.on(w.leaveRow,J.hitch(this,function(ba){this._showOverlay(!1,
ba)})),this._grid.on(".dgrid-row:click",J.hitch(this,function(ba){if(!1===m.contains(this.domNode,"showing")){ba.preventDefault();t.stop(ba);this._clearClosePanelTimeout();var W=this.get("selection");this._showOverlay(!1,ba);x.place(l.substitute(this.get("infoPanelTemplate"),{item:W,i18n:ta,previewButtonWidth:this._previewButtonWidth(W),hideDownload:this._hideDownload(W)},function(aa){return esri.isDefined(aa)?aa:""},this),this.infoPanel);m.add(this.domNode,"showing");h.publish("/esri/browseitems/showInfoTemplate",
!0);setTimeout(J.hitch(this,function(){e("#template-info-panel *",this.domNode).forEach(function(P){P.tabIndex=0});var aa=this.domNode.querySelector("#create-app");aa&&aa.focus()}),500);this._panelClickHandles=[e(".template-info-showing .thumbnail img",this.domNode).on("error",J.hitch(this,function(aa){g.set(aa.target,"src",W.thumbnailUrl)})),e(".panel-actions .btn").on("click",J.hitch(this,function(aa){aa.preventDefault();t.stop(aa);"close-panel"===aa.target.id?(m.remove(this.domNode,"showing"),
e("#template-info-panel *",this.domNode).forEach(function(P){P.tabIndex=-1}),h.publish("/esri/browseitems/showInfoTemplate",!1),this._panelClosing=setTimeout(J.hitch(this,function(){p.forEach(void 0,"item.remove();")},250))):h.publish("/esri/browseitems/close",aa.target.id,this.get("selection"))})),e("#template-info-panel").on("click",J.hitch(this,function(aa){aa.preventDefault();t.stop(aa)}))]}})),this._grid.on("dgrid-refresh-complete",J.hitch(this,function(ba){e(".templates",this.domNode).removeClass("fade");
e("#loader-wrap",this.domNode).addClass("hide");e(".dgrid-footer",this.domNode)[this._grid._total<=this._grid.rowsPerPage?"addClass":"removeClass"]("hide")})),this._grid.on("refresh",J.hitch(this,function(){this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove(),this._img_connect_error=this._img_connect=null);this._img_connect=e(".grid-item-thumb",this._grid.domNode).on("load",J.hitch(this,function(ba){(ba=this._grid.row(ba))&&ba.element&&e(".grid-item",ba.element).addClass("fadeIn").style("opacity",
"1")}));this._img_connect_error=e(".grid-item-thumb",this._grid.domNode).on("error",J.hitch(this,function(ba){g.set(ba.target,"src",ca.getStaticImagesUrl()+"/desktopapp.png")}))})),u(z.byId(this.id+"_search"),"keyup, input",J.hitch(this,function(ba){ba.preventDefault();this._clearQueryTimeout();this._queryTimer=setTimeout(J.hitch(this,function(){this._currentFilter.search=g.get(ba.target,"value");this._fetchItems(this._currentFilter).then(J.hitch(this,function(){this._clearQueryTimeout()}))}),this.searchKeypressDelay||
450)})),u(z.byId(this.id+"_search"),"search",J.hitch(this,function(ba){this._queryTimer||(ba.preventDefault(),this._currentFilter.search=g.get(ba.target,"value"),this._fetchItems(this._currentFilter))})))},_createFilters:function(){if(this.plugIn&&this.plugIn.filters){var ja=this.plugIn.filters,S=this.plugIn.filterStrings,O=e(".filters",this.domNode)[0];for(I in ja)x.create("li",{"class":"instant"===I?"active":"",innerHTML:"\x3ca id\x3d'"+I+"'  href\x3d'#'\x3e"+S[I].title+"\x3c/a\x3e"},O);var I=J.mixin({},
ja.instant||{});this._currentFilter.tags=p.map(I.tags||[],function(ba){return'tags:"'+ba+'"'});this._currentFilter.typekeywords=[].concat(p.map(I.typekeywords||[],function(ba){return'typekeywords:"'+ba+'"'}));this.plugIn.filters.instant&&(g.set(this.filterDescription,"innerHTML",ta.appTemplateFilters.instant.description),this.filterDescription.classList.remove("hide"));this.own(u(O,"li a:click",J.hitch(this,function(ba){ba.preventDefault();var W=ba.target;e(".active",O).removeClass("active");m.add(W.parentNode,
"active");e(".templates",this.domNode).addClass("fade");setTimeout(J.hitch(this,function(){m["all"===W.id?"add":"remove"](this.filterDescription,"hide");var aa=this._portal.isPortal&&S[W.id].descriptionPortal||S[W.id].description||"";"narrate"===W.id&&this._portal.isPortal&&(aa=ka.baseUrl.replace("/home/","/apps/storymaps/"),aa=l.substitute(S[W.id].descriptionPortal,{linkStart:'\x3ca href\x3d"'+aa+'" target\x3d"_blank"\x3e',linkEnd:"\x3c/a\x3e"}));g.set(this.filterDescription,"innerHTML",aa)}),225);
ba=J.mixin({},ja[W.id]||{});this._currentFilter.tags=p.map(ba.tags||[],function(aa){return'tags:"'+aa+'"'});this._currentFilter.typekeywords=[].concat(p.map(ba.typekeywords||[],function(aa){return'typekeywords:"'+aa+'"'}));this._fetchItems(this._currentFilter)})));m.add(this.domNode,"filters")}else m.add(this.domNode,"nofilters"+(this.plugIn&&this.plugIn.extraClasses?" "+this.plugIn.extraClasses.join(" "):""))},_showOverlay:function(ja,S){var O=this._grid.row(S);O&&e(".template-overlay",O.element).style("display",
ja?"":"none")},_fetchData:function(){if(this._portal)return this._user=this._portalUser||this._portal&&this._portal.getPortalUser(),this.plugIn&&this.plugIn.fetchData?this.plugIn.fetchData():this._fetchItems(this.itemQuery);var ja=new r;ja.resolve(!1);return ja},_fetchItems:function(ja,S){var O={sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},I=new r;e(".templates",this.domNode).addClass("fade");e(".dgrid-footer",this.domNode).addClass("hide");e("#loader-wrap",this.domNode).removeClass("hide");
setTimeout(J.hitch(this,function(){this._currentFilter=J.mixin(this._currentFilter,ja);this._grid?this._grid.set("query",this._currentFilter.toString(),O):(this._createFilters(),this._createGrid());I.resolve(this._grid)}),60);return I},_formatThumbnail:function(ja){var S=ja.thumbnailUrl||ca.getStaticImagesUrl()+"/desktopapp.png";ja.thumbnailUrl=S;return"\x3cimg class\x3d'grid-item-thumb' width\x3d'187px' height\x3d'125px' alt\x3d'' src\x3d'"+S+"'\x3e"},_formatInfoPanelImage:function(ja){var S=ja.screenshots&&
ja.screenshots.length?ja.screenshots[0]:null;return S?ja.itemUrl+"/info/"+S:ja.thumbnailUrl},_formatItemTitle:function(ja){return"\x3ch3 class\x3d'font-size-0 trailer-0'\x3e"+(ja.title||ja.name||"\x3cNo Title\x3e")+"\x3c/h3\x3e"},_hideDownload:function(ja){var S=ja.typeKeywords&&-1<ja.typeKeywords.indexOf("indoors"),O=ja.typeKeywords&&-1<ja.typeKeywords.indexOf("instantApp"),I=ja.typeKeywords&&-1<ja.typeKeywords.indexOf("story"),ba=ja.typeKeywords&&-1<ja.typeKeywords.indexOf("Configurable")&&-1<ja.typeKeywords.indexOf("createAppWithoutMap");
ja="/apps/instant/filtergallery/index.html"===ja.url&&-1<window.location.pathname.indexOf("group.html");var W=ka.self.isPortal;return S||O||ja||W&&ba&&!O&&!S&&!I?"hide":""},_previewButtonWidth:function(ja){return"hide"===this._hideDownload(ja)?"btn-wide":""}})})},"dgrid/extensions/Pagination":function(){define("../_StoreMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/on dojo/query dojo/string dojo/has put-selector/put ../util/misc dojo/i18n!./nls/pagination dojo/_base/sniff xstyle/css!../css/extensions/Pagination.css".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z){function x(h){h.noDataNode?(u(h.noDataNode,"!"),delete h.noDataNode):h.cleanup();h.contentNode.innerHTML=""}function n(h){if(h.loadingNode)u(h.loadingNode,"!"),delete h.loadingNode;else if(h._oldPageNodes){for(var e in h._oldPageNodes)h.removeRow(h._oldPageNodes[e]);delete h._oldPageNodes;h._oldPageObserver&&(h._oldPageObserver.cancel(),h._numObservers--,delete h._oldPageObserver)}delete h._isLoading}return J("dgrid.extensions.Pagination",T,{rowsPerPage:10,pagingTextBox:!1,
previousNextArrows:!0,firstLastArrows:!1,pagingLinks:2,pageSizeOptions:null,showLoadingMessage:!0,i18nPagination:z,showFooter:!0,_currentPage:1,_total:0,buildRendering:function(){this.inherited(arguments);var h=this,e=this.paginationNode=u(this.footerNode,"div.dgrid-pagination"),d=this.paginationStatusNode=u(e,"div.dgrid-status"),a=this.i18nPagination;d.tabIndex=0;this._updatePaginationSizeSelect();this._updateRowsPerPageOption();d.innerHTML=g.substitute(a.status,{start:1,end:1,total:0});e=this.paginationNavigationNode=
u(e,"div.dgrid-navigation");this.firstLastArrows&&(d=this.paginationFirstNode=u(e,"span.dgrid-first.dgrid-page-link","\u00ab"),d.setAttribute("aria-label",a.gotoFirst),d.tabIndex=0);this.previousNextArrows&&(d=this.paginationPreviousNode=u(e,"span.dgrid-previous.dgrid-page-link","\u2039"),d.setAttribute("aria-label",a.gotoPrev),d.tabIndex=0);this.paginationLinksNode=u(e,"span.dgrid-pagination-links");this.previousNextArrows&&(d=this.paginationNextNode=u(e,"span.dgrid-next.dgrid-page-link","\u203a"),
d.setAttribute("aria-label",a.gotoNext),d.tabIndex=0);this.firstLastArrows&&(d=this.paginationLastNode=u(e,"span.dgrid-last.dgrid-page-link","\u00bb"),d.setAttribute("aria-label",a.gotoLast),d.tabIndex=0);this._listeners.push(m(e,".dgrid-page-link:click,.dgrid-page-link:keydown",function(b){if("keydown"!==b.type||13===b.keyCode)if(b=this.className,!(h._isLoading||-1<b.indexOf("dgrid-page-disabled"))){var c=h._currentPage;var k=Math.ceil(h._total/h.rowsPerPage);this===h.paginationPreviousNode?h.gotoPage(c-
1):this===h.paginationNextNode?h.gotoPage(c+1):this===h.paginationFirstNode?h.gotoPage(1):this===h.paginationLastNode?h.gotoPage(k):"dgrid-page-link"===b&&h.gotoPage(+this.innerHTML)}}))},destroy:function(){this.inherited(arguments);this._pagingTextBoxHandle&&this._pagingTextBoxHandle.remove()},_updatePaginationSizeSelect:function(){var h=this.pageSizeOptions,e=this.paginationSizeSelect;if(h&&h.length){if(!e){e=this.paginationSizeSelect=u(this.paginationNode,"select.dgrid-page-size[aria-label\x3d"+
this.i18nPagination.rowsPerPage+"]");var d=this._paginationSizeChangeHandle=m(e,"change",y.hitch(this,function(){this.set("rowsPerPage",+this.paginationSizeSelect.value)}));this._listeners.push(d)}for(d=e.options.length=0;d<h.length;d++)u(e,"option",h[d],{value:h[d],selected:this.rowsPerPage===h[d]});this._updateRowsPerPageOption()}else h&&h.length||!e||(u(e,"!"),this.paginationSizeSelect=null,this._paginationSizeChangeHandle.remove())},_setPageSizeOptions:function(h){this.pageSizeOptions=h&&h.sort(function(e,
d){return e-d});this._updatePaginationSizeSelect()},_updateRowsPerPageOption:function(){var h=this.rowsPerPage,e=this.pageSizeOptions,d=this.paginationSizeSelect;d&&(0>p.indexOf(e,h)?this._setPageSizeOptions(e.concat([h])):d.value=""+h)},_setRowsPerPage:function(h){this.rowsPerPage=h;this._updateRowsPerPageOption();this.gotoPage(1)},_updateNavigation:function(){function h(F,w){if(d.pagingTextBox&&F==c&&1<v){var D=u(b,"input.dgrid-page-input[type\x3dtext][value\x3d$]",c);D.setAttribute("aria-label",
a.jumpPage);d._pagingTextBoxHandle=m(D,"change",function(){var H=+this.value;!isNaN(H)&&0<H&&H<=v&&d.gotoPage(+this.value)});C&&"INPUT"===C.tagName&&D.focus()}else{var G=F===c;D=u(b,"span"+(G?".dgrid-page-disabled":"")+".dgrid-page-link",F+(w?" ":""));D.setAttribute("aria-label",a.gotoPage);D.tabIndex=G?-1:0;A===F&&(G?F<v?A++:E.focus():D.focus());G||(E=D)}}function e(F,w){u(F,(w?".":"!")+"dgrid-page-disabled");F.tabIndex=w?-1:0}var d=this,a=this.i18nPagination,b=this.paginationLinksNode,c=this._currentPage,
k=this.pagingLinks,r=this.paginationNavigationNode,v=Math.ceil(this._total/this.rowsPerPage),B=this._pagingTextBoxHandle,C=document.activeElement,A,E;C&&q.contains(this.paginationNavigationNode,C)?"dgrid-page-link"===C.className&&(A=+C.innerHTML):C=null;B&&B.remove();b.innerHTML="";f(".dgrid-first, .dgrid-previous",r).forEach(function(F){e(F,1===c)});f(".dgrid-last, .dgrid-next",r).forEach(function(F){e(F,c>=v)});if(k&&0<v){h(1,!0);r=c-k;for(2<r?u(b,"span.dgrid-page-skip","..."):r=2;r<Math.min(c+
k+1,v);r++)h(r,!0);c+k+1<v&&u(b,"span.dgrid-page-skip","...");1<v&&h(v)}else d.pagingTextBox&&h(c);C&&-1===C.tabIndex&&(k=f("[tabindex\x3d'0']",this.paginationNavigationNode),C===this.paginationPreviousNode||C===this.paginationFirstNode?C=k[0]:k.length&&(C=k[k.length-1]),C&&C.focus())},refresh:function(){var h=this;this.inherited(arguments);if(this.store)return this.gotoPage(1).then(function(e){setTimeout(function(){m.emit(h.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:h,results:e})},
0);return e})},_onNotification:function(h){h.length!==this._rowsOnPage&&this.gotoPage(this._currentPage)},renderArray:function(h,e){var d=this,a=this.inherited(arguments);this._lastCollection=null;e||(this._topLevelRequest&&this._topLevelRequest!==h&&(this._topLevelRequest.cancel(),delete this._topLevelRequest),"function"===typeof h.cancel&&(this._topLevelRequest=h),t.when(h,function(){d._topLevelRequest&&delete d._topLevelRequest}));return a},insertRow:function(){var h=this._oldPageNodes,e=this.inherited(arguments);
h&&e===h[e.id]&&delete h[e.id];return e},gotoPage:function(h){var e=this,d=new t;this._trackError(function(){var a=e.rowsPerPage,b=(h-1)*a,c=y.mixin(e.get("queryOptions"),{start:b,count:a}),k=e.contentNode,r;if(e.showLoadingMessage){x(e);var v=e.loadingNode=u(k,"div.dgrid-loading");v.innerHTML=e.loadingMessage}else{e._oldPageNodes=v={};k=k.children;var B=0;for(r=k.length;B<r;B++)v[k[B].id]=k[B];e._oldPageObserver=e.observers.pop()}e._isLoading=!0;var C=e.store.query(e.query,c);t.when(e.renderArray(C,
null,c),function(A){n(e);e.scrollTo({y:0});t.when(C.total,function(E){E||(e.noDataNode&&(u(e.noDataNode,"!"),delete e.noDataNode),e.noDataNode=u(e.contentNode,"div.dgrid-no-data"),e.noDataNode.innerHTML=e.noDataMessage);e.paginationStatusNode.innerHTML=g.substitute(e.i18nPagination.status,{start:Math.min(b+1,E),end:Math.min(E,b+a),total:E});e._total=E;e._currentPage=h;e._rowsOnPage=A.length;e._updateNavigation()});(7>l("ie")||l("ie")&&l("quirks"))&&e.resize();d.resolve(C)},function(A){n(e);d.reject(A)});
return d.promise})||d.reject();return d.promise}})})},"dgrid/selector":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/lang dojo/on dojo/aspect dojo/_base/sniff put-selector/put".split(" "),function(T,J,p,y,t,m,f){p.getObject("dgrid.selector",!0);return dgrid.selector=function(g,l){function u(a){return!h.allowSelect(h.row(a))}function q(a){return function(b){var c=b.rows,k=c.length;b="false";var r;for(r=0;r<k;r++){var v=h.cell(c[r],g.id).element;v&&(v=(v.contents||v).input)&&!v.disabled&&
(v.checked=a,v.setAttribute("aria-checked",a))}if("checkbox"==e.type){c=h.selection;k=!1;for(r in c)if(c[r]!=h.allSelected){k=!0;break}e.indeterminate=k;e.checked=h.allSelected;k?b="mixed":h.allSelected&&(b="true");e.setAttribute("aria-checked",b)}}}function z(a){if("click"==a.type||32==a.keyCode||!m("opera")&&13==a.keyCode||0===a.keyCode){var b=h.row(a);h._selectionTriggerEvent=a;if(b){if(h.allowSelect(b)){var c=h._lastSelected&&h.row(h._lastSelected);"radio"==l?c&&c.id==b.id||(h.clearSelection(),
h.select(b,null,!0),h._lastSelected=b.element):b&&(a.shiftKey?q(!0)({rows:[b]}):c=null,c=a.shiftKey?c:null,h.select(c||b,b,c?void 0:null),h._lastSelected=b.element)}}else f(this,(h.allSelected?"!":".")+"dgrid-select-all"),h[h.allSelected?"clearSelection":"selectAll"]();h._selectionTriggerEvent=null}}function x(){h._hasSelectorInputListener=!0;n.push(h.on(".dgrid-selector:click,.dgrid-selector:keydown",z));var a=h._handleSelect;h._handleSelect=function(k){this.cell(k).column!=g&&a.apply(this,arguments)};
if("function"==typeof g.disabled){var b=h.allowSelect,c=g.disabled;h.allowSelect=function(k){var r=b.call(this,k);return c===u?r:r&&!c.call(g,k.data)}}g.disabled=u;n.push(h.on("dgrid-select",q(!0)));n.push(h.on("dgrid-deselect",q(!1)))}var n=[],h,e;g||(g={});g.type&&(g.selectorType=g.type,T.deprecated("columndef.type","use columndef.selectorType instead","dgrid 0.4"));g.selectorType=l=l||g.selectorType||"checkbox";g.sortable=!1;var d="function"==typeof l?l:function(a,b,c){var k=b.parentNode;h._hasSelectorInputListener||
x();var r=g.disabled;f(k&&k.contents?k:b,".dgrid-selector");b=b.input||(b.input=f(b,"input[type\x3d"+l+"]",{tabIndex:isNaN(g.tabIndex)?-1:g.tabIndex,disabled:r&&("function"==typeof r?r.call(g,c):r),checked:a}));b.setAttribute("aria-checked",!!a);return b};t.after(g,"init",function(){h=g.grid});t.after(g,"destroy",function(){J.forEach(n,function(a){a.remove()});h._hasSelectorInputListener=!1});g.renderCell=function(a,b,c,k,r){b=(b=a&&h.row(a))&&h.selection[b.id];d(b,c,a)};g.renderHeaderCell=function(a){var b=
"label"in g?g.label:g.field||"";"radio"!=l&&h.allowSelectAll?d(!1,a,{}):(a.appendChild(document.createTextNode(b)),h._hasSelectorInputListener||x());e=a.lastChild};return g}})},"dgrid/util/mouse":function(){define(["dojo/_base/lang","dojo/on","dojo/dom","dojo/query"],function(T,J,p){function y(m,f){return function(g,l){return J(g,m+":"+f,function(u){if(!p.isDescendant(u.relatedTarget,this))return l.call(this,u)})}}var t={enterRow:y(".dgrid-content .dgrid-row","mouseover"),enterCell:y(".dgrid-content .dgrid-cell",
"mouseover"),enterHeaderCell:y(".dgrid-header .dgrid-cell","mouseover"),leaveRow:y(".dgrid-content .dgrid-row","mouseout"),leaveCell:y(".dgrid-content .dgrid-cell","mouseout"),leaveHeaderCell:y(".dgrid-header .dgrid-cell","mouseout"),createDelegatingHandler:y};T.getObject("dgrid.util.mouse",!0);T.mixin(dgrid.util.mouse,t);return t})},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(T,J){function p(t,m,f,g){if(!(1<f.targetTouches.length)){var l=f.changedTouches[0],u=l.screenX,
q=l.screenY;g&&f.preventDefault();var z=T(t,"touchend",function(x){var n=x.changedTouches[0];x.targetTouches.length||(Math.abs(n.screenX-u)<y.tapRadius&&Math.abs(n.screenY-q)<y.tapRadius&&(g&&x.preventDefault(),m.call(this,x)),z.remove())})}}var y={tapRadius:10,dbltapTime:250,selector:function(t,m,f){return function(g,l){var u=m.bubble;u?m=u:!1!==f&&(f=!0);return T(g,m,function(q){var z=q.target;3==z.nodeType&&(z=z.parentNode);for(;!J.matches(z,t,g);)if(z==g||!f||!(z=z.parentNode))return;return l.call(z,
q)})}},countCurrentTouches:function(t,m){if(!("touches"in t))return-1;var f,g,l;for(g=f=0;l=t.touches[f];++f)m.contains(l.target)&&++g;return g},tap:function(t,m){return T(t,"touchstart",function(f){p(t,m,f)})},dbltap:function(t,m){var f,g;return T(t,"touchstart",function(l){f?p(t,function(u){if(f){var q=u.changedTouches[0];Math.abs(q.screenX-f.screenX)<y.tapRadius&&Math.abs(q.screenY-f.screenY)<y.tapRadius&&(g&&clearTimeout(g),f=g=null,m.call(this,u))}},l,!0):p(t,function(u){f=u.changedTouches[0];
g=setTimeout(function(){f=g=null},y.dbltapTime)},l)})}};return y})},"arcgisonline/sharing/dijit/dialog/_AppTemplateFiltersMixin":function(){define(["dojo/_base/declare"],function(){return{rootNodes:{app:{instant:{typekeywords:["instantApp"]},all:{},collect:{typekeywords:["collect"]},compare:{typekeywords:["compare"]},"3dscene":{typekeywords:["3Dscene","twoDthreeD"]},analyze:{typekeywords:["summarize"]},imagery:{typekeywords:["interpret"]},present:{typekeywords:["gallery"]},local:{typekeywords:["local"]},
route:{typekeywords:["route"]},showcase:{typekeywords:["showcase"]}}}}})},"arcgisonline/sharing/dijit/_RefreshMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on"],function(T,J,p,y){function t(m){"object"!==typeof m&&(m=Error(m));m.grid=this;y.emit(this.domNode,"dgrid-error",{grid:this,error:m,cancelable:!0,bubbles:!0})}return T(null,{_trackError:function(m){"string"===typeof m&&(m=J.hitch(this,m));try{var f=m()}catch(g){t.call(this,g)}return p.when(f,J.hitch(this,
function(){y.emit(this.domNode,"refresh",{cancelable:!0,bubbles:!0})}),J.hitch(this,t))}})})},"arcgisonline/map/utils/previewInTemplate":function(){define(["dojo/io-query","esri/lang","esri/request","arcgisonline/sharing/util"],function(T,J,p,y){return function(t,m){p({url:t.itemDataUrl,callbackParamName:"callback"}).promise.always(function(){var f=y.isPortal(),g=m.url,l=g.indexOf("?"),u=-1<l?g.substring(0,l):g;g=-1<l?T.queryToObject(g.substring(l+1)):{};l="Web Scene"===t.type?"webscene":"webmap";
if(f){f=m.url;u=y.parseUrl(f);var q="https:"===window.location.protocol;!1===/^(?:[a-z]+:)?\/\//i.test(f)&&(f=window.location.protocol+"//"+window.location.host+y.getHomeAppContext()+u.path);f=q?y.getSecureUrl(f):y.getHttpUrl(f)}else f=u;g[l]=t.id;window.open(f.replace("/hosted/","/apps/")+"?"+T.objectToQuery(g))})}})},"arcgisonline/map/utils/openMap":function(){define(["dojo/Deferred","dojo/io-query","dojo/_base/lang","./getMapCookie","arcgisonline/sharing/dijit/dialog/OpenMapDlg"],function(T,J,
p,y,t){return function(m,f,g){var l="./webmap/viewer.html?webmap\x3d"+m,u="signin.html?returnUrl\x3d"+encodeURIComponent(l);f="boolean"===typeof f?f:!1;y().then(p.hitch(this,function(q){q&&!0===q.c?t.prototype.statics.getInstance().show(f?u:l,q):document.location=f?u:l}))}})},"arcgisonline/sharing/dijit/dialog/OpenMapDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/_Widget,dijit/_Templated"],function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog.OpenMapDlg");
T.require("dijit.Dialog");T.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");T.require("dijit._Widget");T.require("dijit._Templated");T.declare("arcgisonline.sharing.dijit.dialog.OpenMapDlg",[J._Widget,J._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_dialog" id\x3d"open-map-dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv id\x3d"open-map-dialog-content"\x3e\r\n    \x3cdiv style\x3d"margin-bottom: 10px;"\x3e${i18n.unsavedChangesMsg}\x3c/div\x3e\r\n      \x3ctable class\x3d"table-layout" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv\x3e${i18n.titleLabel}\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-title"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-layersRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-layersLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-layers"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-tablesRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-tablesLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-tables"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n      \x3cdiv style\x3d"margin-top: 10px;"\x3e${i18n.openAnotherMapQtn}\x3c/div\x3e\r\n      \x3cbr /\x3e\r\n      \x3cdiv style\x3d"float: right;" class\x3d"clearfix"\x3e\r\n         \x3cbutton id\x3d"button_open-map-no" class\x3d"action-bar-btn jevent cancel right btn-two" dojoType\x3d"dijit.form.Button"\x3e${i18n.notOpen}\x3c/button\x3e\r\n         \x3cbutton id\x3d"button_open-map-yes" class\x3d"padding-right-half jevent primary right" dojoType\x3d"dijit.form.Button"\x3e${i18n.yesOpen}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
handler:null,newMapUrl:"",i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.OpenMapDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=T.i18n.getLocalization("arcgisonline","arcgisonline").common;T.mixin(this.i18n,T.i18n.getLocalization("arcgisonline","arcgisonline").openMapDlg)},postCreate:function(){this.loadConnections()},show:function(y,t,m,f,g){this.newMapUrl=y;y=document.getElementById("webmap-title-text")&&
document.getElementById("webmap-title-text").innerHTML;T.byId("open-map-dialog-title").innerHTML=y||g||t&&t.t||this.i18n.untitled;var l=[];t?T.forEach(t.operationalLayers,function(x){l.push(x.title)}):m&&T.forEach(m,function(x){"user"!==x.type&&"mapNotes"!==x.type||l.push(x.title)});if(0===l.length)T.style(T.byId("open-map-dialog-layersRow"),"display","none");else{if(1===l.length)T.byId("open-map-dialog-layersLabel").innerHTML=this.i18n.layerLabel,T.byId("open-map-dialog-layers").innerHTML=l[0];else{T.byId("open-map-dialog-layersLabel").innerHTML=
this.i18n.layersLabel;var u="",q="";T.forEach(l,function(x){u+=q+x;q=", "});T.byId("open-map-dialog-layers").innerHTML=u}T.style(T.byId("open-map-dialog-layersRow"),"display","")}var z=[];t?T.forEach(t.tables,function(x){z.push(x.title)}):f&&T.forEach(f,function(x){z.push(x.title)});0===z.length?T.style(T.byId("open-map-dialog-tablesRow"),"display","none"):(1===z.length?(T.byId("open-map-dialog-tablesLabel").innerHTML=this.i18n.tableLabel,T.byId("open-map-dialog-tables").innerHTML=z[0]):(T.byId("open-map-dialog-tablesLabel").innerHTML=
this.i18n.tablesLabel,q=u="",T.forEach(z,function(x){u+=q+x;q=", "}),T.byId("open-map-dialog-tables").innerHTML=u),T.style(T.byId("open-map-dialog-tablesRow"),"display",""));J.byId("open-map-dialog").show()},loadConnections:function(){T.query(".jevent").connect("onclick",function(y){y.preventDefault()});T.query("#button_open-map-no").connect("onclick",function(){J.byId("open-map-dialog").hide()});T.query("#button_open-map-yes").connect("onclick",T.hitch(this,"submitRequest"))},submitRequest:function(y){document.location=
this.newMapUrl},hide:function(){J.byId("open-map-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query dojo/Deferred ./_AppTemplateFiltersMixin arcgisonline/sharing/util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),function(T,J,p,y,t,m,f,g,l,u){var q=T("arcgisonline.sharing.dijit.dialog.PluginConfigurableAppsViewer",null,{infoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${previewButtonWidth}" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${hideDownload}" id\x3d"download-app"\x3e${i18n.templatesGridWidget.download}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
customGroupInfoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary btn-wide" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
filters:J.mixin({},g.rootNodes.app),filterStrings:u.appTemplateFilters,rowsPerPage:100,constructor:function(z){J.mixin(this,z);this.helpLinkUrl=esriGeowConfig.self&&esriGeowConfig.self.isPortal?esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001018"]:"":esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001055"]:"";delete this.filters.present;delete this.filters["3dscene"]},fetchData:function(){var z=[];this.parent._currentFilter.types=
['type:"Web Mapping Application"'];this._portal=this.parent._portal;this._user=this._portal.getPortalUser();return this.checkIndoorsCapabilities(this._portal).then(function(x){this.capabilities=x;return this._fetchGroups().then(function(n){p.forEach(n||[],function(h){h&&h.id&&z.push('group:"'+h.id+'"')});return this._fetchGroupItems(z)}.bind(this))}.bind(this))},_fetchGroups:function(){var z=this._portal.templatesGroupQuery||null;return z&&z.split("id:")[1]?this._fetchOrgConfigurableApps():this._fetchEsriConfigurableApps()},
_fetchGroup:function(z,x){this._groups=this._groups||[];return this._groups[z]||this._portal.queryGroups(x,!0).then(J.hitch(this,function(n){n=n.total&&n.results&&n.results[0]||null;return(this._groups[z]=n)||{}}))},_fetchGroupItems:function(z){return this.parent._fetchItems({groups:z})},_updateIndoorsFilters:function(){var z=this.capabilities.indoors,x=this.capabilities.indoorsmaps,n=this.capabilities.indoorsspaces,h=z||n||x;!l.isArcGISEnterpriseOnKubernetes()&&h||this.parent._currentFilter.persistentTypekeywords.push('-typekeywords:"indoors"');
x||z||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Viewer"');n||z||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Space Planner"')},_fetchEsriConfigurableApps:function(){var z=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),x={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[z]||z)+'"'};this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"3Dscene"'];
this._updateIndoorsFilters();return y([this._fetchGroup("esriGallery_"+z,x)]).then(J.hitch(this,function(n){return n||[]}))},_fetchOrgConfigurableApps:function(){var z={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"Web AppBuilder"'];this._updateIndoorsFilters();return y([this._fetchGroup("customGallery",z)]).then(J.hitch(this,
function(x){this.parent.sortDescending=x[0].sortOrder&&"desc"===x[0].sortOrder||!1;this.parent.sortAttribute=x[0].sortField||"asc";return x&&x.length?[x[0]]:[]}))},hasIndoors:function(z){return this.fetchCapabilities(z).then(function(x){return x.some(function(n){return"indoors"===n.id})})},checkIndoorsCapabilities:function(z){return this.fetchCapabilities(z).then(function(x){return x.reduce(function(n,h){n[h.id]=!0;return n},{})})},fetchCapabilities:function(z){var x=new f;l.request({url:esriGeowConfig.restBaseUrl+
"portals/self/subscriptionInfo"}).then(function(n){x.resolve(n&&n.orgCapabilities||[])});return x}});J.mixin(q,{add:function(z,x){if(!z.plugIn){var n=x||{};n.parent=z;z.plugIn=new q(n)}},remove:function(z){z.plugIn&&(z.plugIn.destroy(),delete z.plugIn)}});return q})},"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query ./_AppTemplateFiltersMixin ./PluginConfigurableAppsViewer dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l){var u=T("arcgisonline.sharing.dijit.dialog.Plugin3DConfigurableAppsViewer",[g],{constructor:function(q){this.inherited(arguments);this.filters=null},_fetchEsriConfigurableApps:function(){var q=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),z={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[q]||q)+'"'};this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"',
'typekeywords: "twoDthreeD"'];return y([this._fetchGroup("esriGallery_"+q,z)]).then(J.hitch(this,function(x){return x||[]}))},_fetchOrgConfigurableApps:function(){var q={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"','-typekeywords:"Web AppBuilder"','typekeywords:"WAB3D"','typekeywords: "twoDthreeD"'];return y([this._fetchGroup("customGallery",
q)]).then(J.hitch(this,function(z){this.parent.sortDescending=z[0].sortOrder&&"desc"===z[0].sortOrder||!1;this.parent.sortAttribute=z[0].sortField||"asc";return z&&z.length?[z[0]]:[]}))}});J.mixin(u,{add:function(q,z){if(!q.plugIn){var x=z||{};x.parent=q;q.plugIn=new u(x)}},remove:function(q){q.plugIn&&(q.plugIn.destroy(),delete q.plugIn)}});return u})},"arcgisonline/pages/item/widgets/AdvancedOfflineOptions/AdvancedOfflineOptions":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/_base/lang dojo/string dojo/text!./templates/AdvancedOfflineOptions.html dojo/text!./templates/AdvancedOfflineOptionSearchItem.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../../../sharing/util ../../../../esriGeowConfig ../../../utils/dom ../../../dijit/Overlay ../../../dijit/InfoTooltip ../../../../tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);return function(){function b(c,k){this.title=u["default"].itemProperties.advancedOptions.overlayTitle;this.i18n=
u["default"];this.overlayContents=f["default"].substitute(g["default"],{i18n:this.i18n});this._fileNameEdited=!1}b.prototype.open=function(){this.inherited(arguments);this.domNode.classList.add("overlay--top");this._editableFeaturesAndAttachmentsOption=this.domNode.querySelector(".js-edit-features-and-attachments");this._editableFeaturesOnlyOption=this.domNode.querySelector(".js-edit-features-only");this._editableFeaturesNoneOption=this.domNode.querySelector(".js-edit-none");this._readonlyFeaturesAndAttachmentsOption=
this.domNode.querySelector(".js-readonly-features-and-attachments");this._readonlyFeaturesOnlyOption=this.domNode.querySelector(".js-readonly-features-only");this._tileWebmapOption=this.domNode.querySelector(".js-tile-webmap");this._tileMobileOption=this.domNode.querySelector(".js-tile-mobile");this._tileMobileFileNameContainer=this.domNode.querySelector(".js-file-name-container");this._tileMobileFilename=this.domNode.querySelector(".js-tile-mobile-file-name");this._fileNameError=this.domNode.querySelector(".js-tile-mobile-file-name-error");
this._tileOrgOption=this.domNode.querySelector(".js-tile-org");this._tileOrgSearchContainer=this.domNode.querySelector(".js-tile-search-container");this._tileOrgSearch=this.domNode.querySelector(".js-tile-search");this._searchResults=this.domNode.querySelector(".js-search-results");this._updateLoader=this.domNode.querySelector(".js-update-loader");this._learnMoreLink=this.domNode.querySelector(".js-learn-more");this._overlay.insertBefore(this.domNode.querySelector(".js-update-loader-container"),this.domNode.querySelector(".overlay-title-bar"));
var c=this.page.portal.helpMap.m["120000899"];this._learnMoreLink.href=this.page.portal.helpBase+(c?c:"");this._overlayActionBar.insertBefore(this._learnMoreLink,this._overlayActionBar.querySelector("nav"));this._attachmentsInfo=new d["default"]({content:this.i18n.itemProperties.advancedOptions.attachmentTooltip},this.domNode.querySelector(".js-attachments-info"));this._packageInfo=new d["default"]({content:this.i18n.itemProperties.advancedOptions.tilePackageTooltip},this.domNode.querySelector(".js-package-info"));
c=(this._itemData=m["default"].clone(this.item.itemData))&&this._itemData.applicationProperties&&this._itemData.applicationProperties.offline||{};this._editableLayers=c.editableLayers;this._readonlyLayers=c.readonlyLayers;this._offlineBasemap=c.offlinebasemap;y["default"].accordion();this._selectOptions();this._addListeners()};b.prototype.close=function(){this.inherited(arguments)};b.prototype._addListeners=function(){var c=this;[].slice.call(this.domNode.querySelectorAll(".js-tile-option")).forEach(function(k){k.addEventListener("change",
function(){h["default"].showHide(c._tileMobileFileNameContainer,c._tileMobileOption.checked);h["default"].showHide(c._tileOrgSearchContainer,c._tileOrgOption.checked)})});this._tileMobileFilename.addEventListener("change",function(){c._fileNameEdited=!0;c._onFilenameKeyup()});this._tileMobileFilename.addEventListener("keyup",this._onFilenameKeyup.bind(this));this._tileOrgSearch.addEventListener("keyup",this._onSearchKeyup.bind(this));this._tileOrgSearch.addEventListener("search",this._onSearchKeyup.bind(this))};
b.prototype._onFilenameKeyup=function(){if(this._fileNameEdited){var c=this._tileMobileFilename.value;this._fileNameError.textContent="";0===c.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(c)?(this._fileNameError.classList.remove("is-active"),this._tileMobileFilename.classList.remove("input-error")):this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension;0<this._fileNameError.textContent.length&&
(this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"))}};b.prototype._onSearchKeyup=function(){var c=this;x["default"].request({url:n["default"].restBaseUrl+"search",content:{num:16,start:1,sortField:"title",sortOrder:"asc",q:'title:"'+this._tileOrgSearch.value+'" orgid:'+this.page.portal.id+' (type:"Vector Tile Package" OR type:"Raster Tile Package")'}}).then(function(k){c._searchResults.innerHTML="";0<c._tileOrgSearch.value.length&&k.results.forEach(function(r){c._searchResults.insertAdjacentHTML("beforeend",
f["default"].substitute(l["default"],{title:r.title}))})})};b.prototype.handlePrimary=function(){var c=this;if(this._isValid()){var k=this.domNode.querySelector(".js-editable-features:checked");k={applicationProperties:{offline:{editableLayers:{download:k.value,sync:k.dataset.sync},readonlyLayers:{downloadAttachments:this._readonlyFeaturesAndAttachmentsOption.checked}}}};this._tileMobileOption.checked&&(k.applicationProperties.offline.offlinebasemap={referenceBasemapName:this._tileMobileFilename.value});
this._itemData=p.__assign(p.__assign({},this._itemData),k);k={text:JSON.stringify(this._itemData)};this._updateLoader.classList.add("is-active");this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0;this.closeBtn.disabled=!0;this.page.updateItem(k).then(function(r){c.close();r&&r.code&&r.message?t["default"].publish("settings/error",r):t["default"].publish("settings/update")},function(r){c.close();t["default"].publish("settings/error",r)})}};b.prototype._isValidFileExtension=function(c){return/\.(vtpk|tpk|tpkx)$/i.test(c)};
b.prototype._isValid=function(){var c=this._tileMobileFilename.value;this._fileNameEdited=!0;if(this._tileMobileOption.checked&&(this._fileNameError.textContent="",0===c.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(c)||(this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension),0<this._fileNameError.textContent.length))return this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"),
!1;this._fileNameError.classList.remove("is-active");this._tileMobileFilename.classList.remove("input-error");return!0};b.prototype._selectOptions=function(){this._editableLayers&&"featuresAndAttachments"!==this._editableLayers.download?"features"===this._editableLayers.download?this._editableFeaturesOnlyOption.checked=!0:this._editableFeaturesNoneOption.checked=!0:this._editableFeaturesAndAttachmentsOption.checked=!0;!this._readonlyLayers||this._readonlyLayers.downloadAttachments?this._readonlyFeaturesAndAttachmentsOption.checked=
!0:this._readonlyFeaturesOnlyOption.checked=!0;this._offlineBasemap&&0!==this._offlineBasemap.referenceBasemapName.length?0<this._offlineBasemap.referenceBasemapName.length?(this._tileMobileOption.checked=!0,this._tileMobileFilename.value=this._offlineBasemap.referenceBasemapName,h["default"].showNode(this._tileMobileFileNameContainer)):this._tileOrgOption.checked=!0:this._tileWebmapOption.checked=!0};return b=p.__decorate([a["default"](z["default"],q["default"],e["default"])],b)}()})},"arcgisonline/sharing/dijit/dialog/AttachCodeDlg":function(){define(["dojo",
"dijit","dojox","dojo/require!arcgisonline/sharing/util,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/form/Button,dijit/_Widget,dijit/_Templated"],function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog.AttachCodeDlg");T.require("arcgisonline.sharing.util");T.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");T.require("dijit.form.Button");T.require("dijit._Widget");T.require("dijit._Templated");T.declare("arcgisonline.sharing.dijit.dialog.AttachCodeDlg",[J._Widget,J._Templated],{util:arcgisonline.sharing.util,
community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"  dojoAttachPoint\x3d"containerNode"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"dialog" title\x3d"${titleLabel}" execute\x3d""\x3e\r\n    \x3ctable class\x3d"table-layout"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cdiv id\x3d"code_upload_message" style\x3d"margin-bottom:10px;"\x3e\r\n\t\t\t        ${messageLabel}\r\n\t\t\t      \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cform dojoAttachPoint\x3d"form" action\x3d"" enctype\x3d"multipart/form-data" method\x3d"post" onSubmit\x3d"return false;"\x3e\r\n\t\t\t        \x3cinput type\x3d"file" name\x3d"file" dojoAttachPoint\x3d"fileInput" size\x3d"50" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"title" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"type" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"typekeywords" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"overwrite" value\x3d"false" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"relationshipType" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"originItemId" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"async" value\x3d"true" /\x3e\r\n\r\n\t\t\t        \x3c!-- this is complicated... need some way of automating this --\x3e\r\n\t\t\t        \x3c!--\x3cdiv id\x3d"add-item-callback" name\x3d"callback.html" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" value\x3d"textarea"\x3e\x3c/div\x3e --\x3e\r\n\t\t\t      \x3c/form\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd style\x3d"padding-top:2em;"\x3e\r\n  \t\t      \x3cbutton dojoAttachPoint\x3d"cancelButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing cancel right" type\x3d"button" dojoAttachEvent\x3d"onClick:_cancelButtonClick"\x3e\r\n  \t\t        ${i18n.cancel}\r\n  \t        \x3c/button\x3e\r\n    \t\t    \x3cbutton dojoAttachPoint\x3d"uploadButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing primary right"  type\x3d"button" dojoAttachEvent\x3d"onClick:_uploadButtonClick"\x3e\r\n    \t\t      ${i18n.uploadLabel}\r\n    \t\t    \x3c/button\x3e\r\n            \x3cspan id\x3d"code_upload-waiting" class\x3d"esriFloatTrailing" style\x3d"display:none;padding-top:8px;"\x3e\x3c/span\x3e\r\n\t\t        \x3cspan class\x3d"esriFloatLeading error" dojoAttachPoint\x3d"errorLabelNode" style\x3d"padding-top:8px;"\x3e\x3c/span\x3e\r\n\t        \x3c/td\x3e\r\n\t      \x3c/tr\x3e\r\n\t    \x3c/tbody\x3e\r\n\t  \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
dialog:null,fileInput:null,cancelButton:null,uploadButton:null,cancelButton:null,clearFormOnHide:!0,codeAttachment:null,titleLabel:"",messageLabelUpdate:"",messageLabel:"",messageErrorUpdate:"",errorLabelNode:null,type:"Code Attachment",typeKeywords:"Code",item:null,sharing:null,fileName:null,_lastUploaded:null,i18n:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=T.i18n.getLocalization("arcgisonline","arcgisonline").common;T.mixin(this.i18n,T.i18n.getLocalization("arcgisonline",
"arcgisonline").attachCodeDlg);this.titleLabel=this.i18n.attachCode;this.messageLabelUpdate=this.i18n.messageLabelUpdateString;this.messageLabel=this.i18n.messageLabelString;this.messageErrorUpdate=this.i18n.messageErrorUpdateString},postCreate:function(){this.fileInput&&T.connect(this.fileInput,"onchange",this,function(){this.errorLabelNode.innerHTML=""})},statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.AttachCodeDlg);return this._instance}},
clear:function(){this.fileInput&&(this.fileInput.value="")},hide:function(){this.dialog&&(this.dialog.hide(),this.clearFormOnHide&&this.clear())},show:function(y){(this.codeAttachment=y)&&this.codeAttachment.name?(this.messageLabelUpdate=T.string.substitute(this.messageLabelUpdate,{fileName:this.codeAttachment.name}),T.byId("code_upload_message").innerHTML=this.messageLabelUpdate,this.dialog.set("title",this.i18n.updateCode)):(T.byId("code_upload_message").innerHTML=this.messageLabel,this.dialog.set("title",
this.i18n.attachCode));this.dialog&&this.dialog.show()},_cancelButtonClick:function(y){this.hide()},_uploadButtonClick:function(y){(y=this.fileInput.value)&&0<y.length&&this.util.endsWith(y,".zip")?(this.uploadButton.set("disabled",!0),this.cancelButton.set("disabled",!0),T.style(T.byId("code_upload-waiting"),"display","inline-block"),this.doUpload()):this.errorLabelNode.innerHTML=this.i18n.fileZipFormat},doUpload:function(){if(null==this.item||null===this.item.id)this.uploadButton.set("disabled",
!1),this.cancelButton.set("disabled",!1),T.style(T.byId("code_upload-waiting"),"display","none");else{var y=this.fileInput.value,t=y.lastIndexOf("\\");-1<t&&(y=y.substring(t+1,y.length));if(this.codeAttachment){var m=this.codeAttachment.name.lastIndexOf(".");t=y.lastIndexOf(".");m=[this.codeAttachment.name.substring(0,m),this.codeAttachment.name.substring(m).toLowerCase()];y=[y.substring(0,t),y.substring(t).toLowerCase()];m[0]!==y[0]||m[1]!==y[1]?(arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateCodeError,
message:T.string.substitute(this.messageErrorUpdate,{fileName:this.codeAttachment.name})}),this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),T.style(T.byId("code_upload-waiting"),"display","none")):this._updateCodeItem()}else this._createCodeItem()}},_createCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.relationshipType.value="WMA2Code";"Mobile Application"===this.item.type&&(this.form.relationshipType.value=
"MobileApp2Code");this.form.originItemId.value=this.item.id;var y=this.fileInput.value,t=y.lastIndexOf("\\");-1<t&&(y=y.substring(t+1,y.length));this.fileName=y;this.form.title.value=y;y=this.form.title.value.lastIndexOf("\\");-1<y&&(this.form.title.value=this.form.title.value.substring(y+1,this.form.title.value.length));y=this.form.title.value.lastIndexOf("/");-1<y&&(this.form.title.value=this.form.title.value.substring(y+1,this.form.title.value.length));this.content.addItem(null,this.form,T.hitch(this,
this._handle_addItem),T.hitch(this,this._handle_addItem))}},_updateCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.overwrite.value="true";var y=this.fileInput.value,t=y.lastIndexOf("\\");-1<t&&(y=y.substring(t+1,y.length));this.fileName=y;this.form.title.value=y;this.content.updateItem(this.codeAttachment,this.form,T.hitch(this,this._handle_addItem),T.hitch(this,this._handle_addItem))}},_handle_addItem:function(y,t){var m=!1;
-1<t.url.indexOf("/status")&&(m=!0);if(!m&&y.success||m&&"completed"===y.status)this._lastUploaded=T.clone(y),this._lastUploaded.title=this._lastUploaded.name=this.form.title.value,this.onUpload(this._lastUploaded);else{m=this.i18n.attachementFailedUpload;y&&y.error&&y.error.message?m=y.error.message:y&&y.statusMessage&&(m=y.statusMessage);var f=this.i18n.cannotAddAttachment;-1<m.indexOf("already exists")?(m=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<m.indexOf("The request size is greater than the max allowed of 1024MB")&&
(m=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:m})}this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);T.style(T.byId("code_upload-waiting"),"display","none")},_handle_updateItem:function(y,t){if(y.success)this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),T.style(T.byId("code_upload-waiting"),"display","none"),this.hide();else{var m=this.i18n.attachementFailedUpload;
y&&y.error&&y.error.message&&(m=y.error.message);var f=this.i18n.cannotAddAttachment;-1<m.indexOf("already exists")?(m=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<m.indexOf("The request size is greater than the max allowed of 1024MB")&&(m=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:m});this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);T.style(T.byId("code_upload-waiting"),
"display","none")}},onUpload:function(y){}})})},"arcgisonline/sharing/dijit/dialog/ManageSceneCache":function(){define("require esri/declare esri/Evented esri/lang esri/request dojo/_base/lang dojo/on dojo/query dojo/topic dijit/a11yclick dojo/string dojo/promise/all dojo/json dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/Dialog ../../../sharing/dijit/dialog/ConfirmDialog ../../../sharing/dijit/dialog/GeneralDlg ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/utils/number ../../../pages/serviceUtil ../../../pages/statusUtil ../../../sharing/util ../../../esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ManageSceneCache.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F){return J([h,e],{declaredClass:"arcgisonline.sharing.dijit.dialog.ManageSceneCache",basePath:T.toUrl("arcgisonline/sharing/dijit/dialog"),baseClass:"esriManageSceneCache",templateString:F,widgetsInTemplate:!0,_serviceStartWait:5E3,postMixInProperties:function(){this.inherited(arguments);this.i18n=m.mixin({},E.common);m.mixin(this.i18n,E.manageSceneCache);m.mixin(this.i18n,{webScene:E.items.webScene,buildingCache:E.itemProperties.buildingCache})},
postCreate:function(){this.inherited(arguments);this._initHandlers()},startup:function(){this.inherited(arguments);var w=C.isPortal();w&&k.hideNode(this._sceneLayerSelectContainer);!w&&this._hasSource()?this._isBuildingSceneLayer()?this._rebuildLayersRadioClick():this._rebuildFullRadioClick():(w&&(k.hideNode(this._optionsContainer),k.showNode(this._portalOptionsContainer),k.checkNode(this._rebuildPortalFullRadio,!0),this._rebuildLayersRadioClick()),k.disableNode(this._rebuildFullRadio),this._rebuildLayersRadioClick())},
_initHandlers:function(){this.own(u(this._rebuildFullRadio,this._rebuildFullRadioClick.bind(this)),u(this._rebuildLayersRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildPartialRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildPortalFullRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildPortalPartialRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildPortalAttributesRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildAttributesRadio,this._rebuildLayersRadioClick.bind(this)),
u(this._rebuildBtn,this._rebuildClick.bind(this)),u(this._cancelBtn,this._cancelClick.bind(this)))},_hasSource:function(){return y.isDefined(this._item.sourceData)},_dialogHidden:function(){this._dialog&&this._dialog.destroyRecursive();this.destroyRecursive()},_fetchSourceItemAdminServiceInfo:function(){return C.request({url:this._featureServiceAdminUrl})},_rebuildFullRadioClick:function(){k.hideNode(this._sceneLayerSelectContainer);k.disableNode(this._rebuildBtn,!1)},_rebuildLayersRadioClick:function(){if(!C.isPortal()&&
this._canShowPartialRebuild){var w=k.isChecked(this._rebuildLayersRadio),D=k.isChecked(this._rebuildPartialRadio);if(w||D)g(".layer-checkbox",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");k.checkNode(G,w&&H);k.disableNode(G,H)}),g(".layer-label",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");G.classList[D&&H?"add":"remove"]("label-disabled")})}C.isPortal()||k.showNode(this._sceneLayerSelectContainer);this._checkBoxClick()},
_displayCreditCost:function(w,D,G){var H=C.isPortal(),M=A.self&&A.self.subscriptionInfo||{},R=(A.self&&A.self.user||{}).availableCredits||M.availableCredits||0;z({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(N){H?D():(this._sourceItem.set("adminServiceInfo",N.adminServiceInfo),v.fetchScenePublishingCredits(this._sourceItem,w).then(function(K){var V=this._fullRebuildInProgress?this.i18n.confirmFullProceed:this.i18n.confirmProceed;confirmMsg="\x3cp\x3e"+[this._fullRebuildInProgress?
this.i18n.confirmFullDesc:this.i18n.confirmDesc,q.substitute(this._fullRebuildInProgress?this.i18n.confirmFullCredits:this.i18n.confirmCredits,{credits:r.format(K),availableCredits:r.format(R)}),V].join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";confirmDlg=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});R<K&&confirmDlg.okButton.set("disabled",!0);confirmDlg.show({title:this.i18n.confirmTitle,message:confirmMsg}).then(function(Z){"onOk"===Z?D():G();confirmDlg.hide()}.bind(this))}.bind(this)))}.bind(this))},
_rebuildClick:function(){k.isChecked(this._rebuildFullRadio)&&this._hasSource()?this._rebuildFullCache():this._rebuildLayers()},_rebuildFullCache:function(){var w=this._item.owner,D=this._item.folderId,G=A.restBaseUrl+"content/users/"+w+"/"+(D&&D!==w?D+"/":"")+"publish";publishRequest={buildInitialCache:!1,itemid:this._item.sourceData.id,filetype:"featureService",publishParameters:x.stringify({name:this._item.name?this._item.name:this._item.title.replace(/ /g,"_"),targetSR:this._item.serviceInfo.layers[0].spatialReference}),
outputType:"sceneService",overwrite:!0};selectedLayers=[];rebuildFullFailure=function(H){c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildFullError});k.deactivateNode(this._caching);k.disableNode(this._rebuildBtn,!1);k.showNodes([this._optionsContainer,this._buttonBar])}.bind(this);this._fullRebuildInProgress=!0;k.disableNode(this._rebuildBtn,!0);g(".layer-checkbox",this.domNode).map(function(H){k.checkNode(H,!0);selectedLayers.push({id:parseInt(H.getAttribute("data-layer-id"),
10)})});this._displayCreditCost(selectedLayers,function(){k.hideNodes([this._optionsContainer,this._buttonBar]);k.activateNode(this._caching);C.request({url:G,content:publishRequest},{usePost:!0}).then(function(H){H&&H.services&&0<H.services.length?(H=H.services.shift(),B.checkAsyncJobStatus(A.restBaseUrl+"content/users/"+w+"/items/"+H.serviceItemId+"/status?jobId\x3d"+H.jobId).then(function(M){setTimeout(function(){this._rebuildLayers();l.publish("manage-scene-cache/republish",M)}.bind(this),this._serviceStartWait)}.bind(this),
rebuildFullFailure)):rebuildFullFailure(H)}.bind(this),rebuildFullFailure)}.bind(this),function(){this._fullRebuildInProgress=!1;k.disableNode(this._rebuildBtn,!1)}.bind(this))},_rebuildLayers:function(){var w=A.self&&A.self.subscriptionInfo||{},D=(A.self&&A.self.user||{}).availableCredits||w.availableCredits||0,G=[],H=C.isPortal(),M,R,N;g(".layer-checkbox",this.domNode).map(function(K){k.isChecked(K)&&G.push({id:parseInt(K.getAttribute("data-layer-id"),10)})});0<G.length&&this._adminUrl&&(k.disableNode(this._rebuildBtn,
!0),z({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(K){if(H)this._submitPortalSceneCacheJob(G).then(function(ca){var ea=v.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/jobs/"+ca.jobId;ca.jobUrl=ea;l.publish("manage-scene-cache/rebuild",ca);k.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(ca){k.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,
message:this.i18n.rebuildError})}.bind(this),function(ca){k.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this));else{this._sourceItem.set("adminServiceInfo",K.adminServiceInfo);K=k.isChecked(this._rebuildPartialRadio);var V=this._rebuildAttributesRadio.checked,Z=this._adminUrl+(V?"/updateAttribute":K?"/updateCache":"/rebuildCache");this._fullRebuildInProgress?C.request({url:Z,content:{layers:G.map(function(ca){return ca.id},
this).join(",")}},{usePost:!0}).then(function(ca){l.publish("manage-scene-cache/rebuild",ca);k.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(ca){k.disableNode(this._rebuildBtn,!1);k.deactivateNode(this._caching);k.showNodes([this._optionsContainer,this._buttonBar]);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):(K||V?this._isBuildingSceneLayer()?v.fetchPartialUpdateBuildingScenePublishingCredits(this._sourceItem,this._item,
G):v.fetchPartialUpdateScenePublishingCredits(this._sourceItem,this._item,G):v.fetchScenePublishingCredits(this._sourceItem,G,this._isBuildingSceneLayer())).then(function(ca){N=[this.i18n.confirmDesc,q.substitute(this.i18n.confirmCredits,{credits:r.format(ca),availableCredits:r.format(D)}),this.i18n.confirmProceed];R="\x3cp\x3e"+N.join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";M=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});D<ca&&M.okButton.set("disabled",
!0);M.show({title:this.i18n.confirmTitle,message:R}).then(function(ea){"onOk"===ea?C.request({url:Z,content:{layers:G.map(function(ka){return ka.id},this).join(",")}},{usePost:!0}).then(function(ka){l.publish("manage-scene-cache/rebuild",ka);k.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(ka){k.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):k.disableNode(this._rebuildBtn,!1);M.hide()}.bind(this))}.bind(this))}}.bind(this)))},
_cancelClick:function(){this._dialog.hide()},_checkBoxClick:function(){var w=g(".layer-checkbox",this.domNode).some(function(D){return k.isChecked(D)});k.disableNode(this._rebuildBtn,!w)},_createLayerListDisplay:function(w,D){var G=n.create("div",{display:"table"},D);w&&0<w.length&&w.forEach(this._createLayerDisplay.bind(this,G))},_createLayerDisplay:function(w,D){var G=D.requiresRebuild&&!0===D.requiresRebuild?"true":"false",H=n.create("div",{display:"table-row"},w),M=n.create("div",{display:"table-cell"},
n.create("div",{display:"table-column"},H));H=n.create("div",{display:"table-cell"},n.create("div",{display:"table-column"},H));var R={id:q.substitute("layer-${id}-checkbox",{id:D.id}),"class":"layer-checkbox",type:"checkbox","data-layer-id":D.id,"data-rebuild-required":G};C.isPortal()&&(R.checked=!0);M=n.create("input",R,M);n.create("label",{"for":q.substitute("layer-${id}-checkbox",{id:D.id}),"class":"layer-label trailer-0",innerHTML:D.name,"data-rebuild-required":G},n.create("span",null,H));this.own(u(M,
this._checkBoxClick.bind(this)))},_getPortalUpdateMode:function(){return k.isChecked(this._rebuildPortalAttributesRadio)?"PARTIAL_UPDATE_ATTRIBUTES":k.isChecked(this._rebuildPortalPartialRadio)?"PARTIAL_UPDATE_NODES":"RECREATE_ALL_NODES"},_submitPortalSceneCacheJob:function(w){var D=1<w.length?w.map(function(H){return{id:H.id}}):{},G=this._getPortalUpdateMode();w=v.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/submitJob";
D={service_url:this._item.url,num_of_caching_service_instances:2,layer:x.stringify(D),update_mode:G,update_extent:"DEFAULT",area_of_interest:x.stringify({displayFieldName:"",geometryType:"esriGeometryPolygon",spatialReference:{wkid:54051,latestWkid:54051},fields:[{name:"OID",type:"esriFieldTypeOID",alias:"OID"},{name:"updateGeom_Length",type:"esriFieldTypeDouble",alias:"updateGeom_Length"},{name:"updateGeom_Area",type:"esriFieldTypeDouble",alias:"updateGeom_Area"}],features:[],exceededTransferLimit:!1}),
f:"json",token:this._item.serverToken};return t({url:w,content:D},{usePost:!0})},_isBuildingSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Building")},_isPointSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Point")},_is3DObjectsWithoutUpdateEnabled:function(){return-1<this._item.typeKeywords.indexOf("3DObject")&&!this._hasUpdateEnabled()},_hasUpdateEnabled:function(){return(this._item.serviceInfo.layers||[]).some(function(w){return w&&y.isDefined(w.updateEnabled)&&
!0===w.updateEnabled},this)},show:function(w,D,G){var H=C.isPortal();this._sourceItem=w;this._item=D;this._featureServiceUrl=w.url;this._featureServiceAdminUrl=H?D.url:w.url.replace("/rest/","/rest/admin/");this._adminUrl=D.adminUrl;this._adminServiceInfo=D.serviceInfo||{};this._hostedServer=G;this._canShowPartialRebuild=!H&&!this._isPointSceneLayer()&&!this._is3DObjectsWithoutUpdateEnabled()&&!this._isBuildingSceneLayer();this._dialog=new d({title:this.i18n.title,"class":this.baseClass});H||this._canShowPartialRebuild||
(k.hideNode(this._rebuildPartialContainer),k.hideNode(this._rebuildPartialAttrContainer));this._createLayerListDisplay(this._adminServiceInfo.layers,this._sceneLayerContainer);this._dialog.setContent(this.domNode);this.own(f(this._dialog,"hide",function(){this._dialogHidden()}.bind(this)));!H&&this._isBuildingSceneLayer()&&(k.hideNode(this._rebuildFullContainer),this._rebuildLayersRadio.checked=!0,this._rebuildLayersRadioClick());this._dialog.show()},hide:function(){this._dialog.hide()}})})},"arcgisonline/sharing/dijit/dialog/JobStatusDlg":function(){define("require exports tslib ../../../pages/pageUtil ../../../pages/utils/arrays ../../../pages/utils/date ../../../pages/utils/dom ../../../pages/utils/number ../../util ./SimpleDlg ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/topic esri/lang moment/moment dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/JobStatusDlg.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);return function(){function k(r){this.templateString=c["default"];
this.i18n=p.__assign(p.__assign({},b["default"].common),b["default"].jobStatusDlg);this.linkToJobStatus=!0;this.STATUS_STARTED="Started";this.STATUS_IN_PROGRESS="InProgress";this.STATUS_FAILED="Failed";this.STATUS_COMPLETED="Completed";this.PORTAL_STATUS_STARTED="esriJobSubmitted";this.PORTAL_STATUS_IN_PROGRESS="esriJobExecuting";this.PORTAL_STATUS_FAILED="esriJobFailed";this.PORTAL_STATUS_COMPLETED="esriJobSucceeded";this.PORTAL_STATUS_CANCELLED="esriJobCancelled";this.PORTAL_STATUS_CANCELLING="esriJobCancelling";
this.PORTAL_STATUS_TIMED_OUT="esriJobTimedOut";this.PORTAL_STATUS_WAITING="esriJobWaiting"}k.prototype.postCreate=function(){this.inherited(arguments);this._initHandlers()};k.prototype.show=function(r,v,B,C,A){this._portal=r;this._portalUser=v;this._jobUrl=B;this._jobInfoUrl=C;this._initUI();this._populateStatus(A);this._dialog.show()};k.prototype.hide=function(){this._dialog.hide()};k.prototype._initUI=function(){var r=this._portal.isPortal;r||f["default"].hideNode(this._cancelJobBtn);this.linkToJobStatus||
(f["default"].hideNode(this._jobIdLinkContainer),f["default"].showNode(this._jobIdText));f["default"].showHide(this._jobAdminDetailsContainer,r&&this._portalUser.isOrgAdmin)};k.prototype._initHandlers=function(){this.own(h["default"](this._closeBtn,this._closeClick.bind(this)),h["default"](this._cancelJobBtn,this._cancelJobClick.bind(this)),e["default"].subscribe("job-status/refresh",this._populateStatus.bind(this)))};k.prototype._cancelJobClick=function(){var r=this,v=this._jobUrl.indexOf("?token\x3d");
v=-1<v?this._jobUrl.substr(0,v)+"/cancel"+this._jobUrl.substr(v):this._jobUrl+"/cancel";f["default"].disableNode(this._cancelJobBtn,!0);l["default"].request({url:v,content:{cancel:!0}},{usePost:!0}).then(function(B){if(!B||(null===B||void 0===B?0:B.code))y["default"].createSpecifiedDialog(u["default"],{title:r.i18n.errorTitle,content:r.i18n.cancelError}).show(),f["default"].disableNode(r._cancelJobBtn,!1)},function(B){y["default"].createSpecifiedDialog(u["default"],{title:r.i18n.errorTitle,content:r.i18n.cancelError}).show();
f["default"].disableNode(r._cancelJobBtn,!1)})};k.prototype._closeClick=function(){this.hide()};k.prototype._getStatusString=function(r){switch(r){case this.STATUS_STARTED:return this.i18n.started;case this.STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.STATUS_COMPLETED:return this.i18n.completed;case this.STATUS_FAILED:return this.i18n.failed;case this.PORTAL_STATUS_STARTED:return this.i18n.started;case this.PORTAL_STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.PORTAL_STATUS_FAILED:return this.i18n.failed;
case this.PORTAL_STATUS_COMPLETED:return this.i18n.completed;case this.PORTAL_STATUS_CANCELLED:return this.i18n.cancelled;case this.PORTAL_STATUS_CANCELLING:return this.i18n.cancelling;case this.PORTAL_STATUS_TIMED_OUT:return this.i18n.timedOut;case this.PORTAL_STATUS_WAITING:return this.i18n.waiting;default:return""}};k.prototype._getDurationString=function(r,v){if(r){var B=d["default"].isDefined(v)?r+v:Date.now(),C=a["default"](B).diff(a["default"](r),"seconds"),A=a["default"](B).diff(a["default"](r),
"minutes");B=a["default"](B).diff(a["default"](r),"hours");var E=void 0,F=void 0;if(60>C)return this.i18n.seconds.replace("${num}",g["default"].format(C));if(60>A)return E=this.i18n.minutes.replace("${num}",g["default"].format(A)),F=this.i18n.seconds.replace("${num}",g["default"].format(C-60*A)),E+" "+F;var w=this.i18n.hours.replace("${num}",g["default"].format(B));E=this.i18n.minutes.replace("${num}",g["default"].format(A-60*B));F=this.i18n.seconds.replace("${num}",g["default"].format(C-60*A));return w+
" "+E+" "+F}return""};k.prototype._getStartDateFromString=function(r){if(r=t["default"].find(null!==r&&void 0!==r?r:[],function(B){return"esriJobMessageTypeInformative"===B.type&&0===B.description.indexOf("Start Time: ")}))try{var v=r.description.substring(13).trim();return(new Date(v)).getTime()}catch(B){}return 0};k.prototype._getEndTimeFromString=function(r){if(r=t["default"].find(null!==r&&void 0!==r?r:[],function(C){return"esriJobMessageTypeInformative"===C.type&&0===C.description.indexOf("Succeeded at ")}))try{var v=
r.description.indexOf(" (Elapsed Time: "),B=r.description.substring(14,v).trim();return(new Date(B)).getTime()}catch(C){}};k.prototype._populateStatus=function(r){var v=this._portal.isPortal,B=this._portalUser.isOrgAdmin;if(r){this._statusInfo.classList.remove("hide");this._statusLoader.classList.remove("is-active");var C=(v?B?r.submittedTime:this._getStartDateFromString(r.messages):r.startTime)||0,A=v?C:1E3*C;C=r.messages?this._getEndTimeFromString(r.messages):void 0;var E=v?B?d["default"].isDefined(r.duration)&&
r.duration||void 0:C?C-A:void 0:d["default"].isDefined(r.totalTime)?1E3*r.totalTime:void 0;C=v&&!B?this._getStatusString(r.jobStatus):this._getStatusString(r.status);var F=m["default"].format(new Date(A),"day-short-month-year-long-time"),w=d["default"].isDefined(E)?m["default"].format(new Date(A+E),"day-short-month-year-long-time"):"";A=this._getDurationString(A,E);E=v&&B?r.machinename:"";B=v&&B?r.username:"";r=v?r.jobId:r.id;this._jobStatus.innerHTML=C;this._jobStartTime.innerHTML=F;this._jobDuration.innerHTML=
A;this._jobEndTime.innerHTML=w;this._jobMachine.innerHTML=E;this._jobUser.innerHTML=B;this._jobIdLink.href=this._jobInfoUrl;this._jobIdLink.innerHTML=r;this._jobIdText.textContent=r;r=t["default"].includes([this.i18n.completed,this.i18n.failed,this.i18n.cancelled,this.i18n.cancelling,this.i18n.timedOut],C);f["default"].disableNode(this._cancelJobBtn,r)}else this._statusInfo.classList.add("hide"),this._statusLoader.classList.add("is-active"),f["default"].disableNode(this._cancelJobBtn,!0)};return k=
p.__decorate([q["default"](x["default"],z["default"],n["default"])],k)}()})},"arcgisonline/sharing/dijit/dialog/SimpleDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/form/Button,dijit/_Widget,dijit/_Templated"],function(T,J,p){T.provide("arcgisonline.sharing.dijit.dialog.SimpleDlg");T.require("dijit.Dialog");T.require("dijit.form.Button");T.require("dijit._Widget");T.require("dijit._Templated");T.declare("arcgisonline.sharing.dijit.dialog.SimpleDlg",[J._Widget,J._Templated],
{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"dialog" title\x3d"${title}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_content"\x3e${!content}\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1 esriFloatTrailing right"\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-event\x3d"onClick: hide" class\x3d"primary" type\x3d"button"\x3e${i18n.ok}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
postMixInProperties:function(){this.inherited(arguments);this.i18n=T.i18n.getLocalization("arcgisonline","arcgisonline").common},show:function(){this.dialog.show()},hide:function(){this.dialog.hide()}})})},"arcgisonline/sharing/dijit/AppendData":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/UploadProgressBar ../../pages/utils/arrays ../../pages/utils/clone ../../pages/utils/dom ../../pages/utils/strings ../../sharing/util ./AppendData/FieldTableRow ./AppendData/_canMatchFields ./dialog/ConfirmDialog ./dialog/_CreateItemUtilMixin ../../sharing/geow/Item dijit/_TemplatedMixin dijit/_WidgetBase dojo/on dojo/topic dojo/Deferred dojo/promise/all esri/lang dojo/i18n!../../nls/arcgisonline dojo/text!../../pages/dijit/View/templates/loader.html dojo/text!./AppendData/templates/_appendData.html dojo/text!./AppendData/templates/_table-row.html ../../tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);
v=p.__importDefault(v);B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);E=p.__importDefault(E);F=p.__importDefault(F);return function(){function w(D,G){this.templateString=A["default"];this.i18n=B["default"];this.baseClass="appendData";this.dijits=[];this.supportedItemTypes=[{value:"Shapefile",innerHTML:B["default"].addItemFrm.typeShapefile,regex:"(.zip$)",fileType:"shapefile",extension:"zip",appendUploadFormat:"shapefile"},{value:"File Geodatabase",innerHTML:B["default"].addItemFrm.itemFileGeodatabase,
regex:"(.zip$)",fileType:"fileGeodatabase",extension:"zip",appendUploadFormat:"filegdb"},{value:"CSV",regex:"(.csv$)",fileType:"csv",appendUploadFormat:"csv",extension:"csv"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xls"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xlsx"},{value:"GeoJson",regex:"(.geojson$)",fileType:"geojson",appendUploadFormat:"geojson",extension:"geojson"}];
this.supportedFilesRegEx="(.zip$|.csv$|.xls$|.xlsx$|.geojson$)";this.noneField={value:"__none",displayName:B["default"].appendDataDlg.none,name:B["default"].appendDataDlg.none,type:"none"};this.longitudeField={value:"longitude",displayName:B["default"].addItemFrm.locationTypes.longitude,name:"longitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"longitude"};this.latitudeField={value:"latitude",displayName:B["default"].addItemFrm.locationTypes.latitude,
name:"latitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"latitude"};this.sortHandlers=[]}w.prototype.postMixInProperties=function(){var D;this.inherited(arguments);this.serviceUrl=this.item&&this.item.url;this.portal=this.portal||(null===(D=this.item)||void 0===D?void 0:D.portal)||(null===y["default"]||void 0===y["default"]?void 0:y["default"].self)||{};this.user=this.user||this.portalUser||(this.portal.getPortalUser?this.portal.getPortalUser():this.portal.portalUser)||
{};this.serviceLayers=this.layer?g["default"]([this.layer||this.layerInfo]):g["default"](this.layers||[this.layer||this.layerInfo]);this._layerInfo=this.layer||this.layerInfo||this.serviceLayers&&this.serviceLayers.length?this.serviceLayers[0]:null;this.serviceInfo=this.item&&this.item.serviceInfo||{};this.adminServiceInfo=this.item&&this.item.adminServiceInfo||{};this.capabilities=this.portal.isPortal&&!this.item.isSDS?u["default"].stringToArray(this.serviceInfo.capabilities,",",!0):u["default"].stringToArray(this.adminServiceInfo.capabilities||
"",",",!0);this.changeTrackingEnabled=f["default"].includes(this.capabilities,"ChangeTracking");this.syncEnabled=this.serviceInfo.syncEnabled||!1};w.prototype.postCreate=function(){this.inherited(arguments);var D=this.domNode.querySelector(".js-analyze-loader-wrap");D.innerHTML=C["default"].replace("${location}","");this.uploadProgressBar=new m["default"]({});this.uploadProgressBar.startup();this.uploadProgressBar.hide();D.appendChild(this.uploadProgressBar.domNode);this.portal.isPortal&&(this.supportedItemTypes.splice(1,
1),this.step1Bullet4.innerText=B["default"].appendDataDlg.messageStep1Bullet4Portal);this.sortHeader=this.sortHeader.bind(this)};w.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};w.prototype.destroy=function(){var D=this;this.inherited(arguments);c["default"].publish("cancel-item-upload");this.deleteItem().then(function(){D.dijits.forEach(function(G){G.destroy()});D.sortHandlers.forEach(function(G){G.remove()});D.sortHandlers=
[];D.dijits=[]})};w.prototype.show=function(){var D,G,H,M=(null===(D=this.portal.helpMap)||void 0===D?void 0:D.m["120001300"])||"share-maps/manage-hosted-feature-layers.htm#ESRI_SECTION1_E2F5EF6240F246EBA5D238968B63BF97";this.dlg=new n["default"]({title:B["default"].appendDataDlg.title,buttonOkLabel:B["default"].appendDataDlg.uploadBtn,buttonCancelLabel:B["default"].common.cancel,helpLinkInfo:{title:B["default"].appendDataDlg.helpLinkTitle,url:""+this.portal.helpBase+M}});this.dlg.setContent(this.domNode);
this.dlg.show();this.okBtn=null===(G=this.dlg)||void 0===G?void 0:G.okButton;null===(H=this.okBtn)||void 0===H?void 0:H.set("disabled",!0);this.own(b["default"](this.dlg,"ok",this.processStep.bind(this)));return this.dlg};w.prototype.hide=function(){var D;null===(D=this.dlg)||void 0===D?void 0:D.hide();b["default"].emit(this,"hide",{bubbles:!0,cancelable:!0})};w.prototype.processStep=function(){var D=this,G=new k["default"];this.isStep1?this.uploadData().then(this.analyze.bind(this)).then(this.addLayerInfo.bind(this)).then(this.validateLayers.bind(this),
function(H){D.showError(H)}).then(this.showStep2.bind(this),function(H){D.showError(H)}).then(function(H){G.resolve(H)},function(H){D.showStep1()}):this.appendDataLayer().then(function(H){D.done();G.resolve(H)},function(H){D.showStep2();D.showError(H)});return G};w.prototype._setItemAttr=function(D){this.item=D};w.prototype._setReadOnlyAttr=function(D,G){var H=D?"add":"remove";c["default"].publish("/esri/disable",D," ");l["default"].querySelectorAllAsArray(".append-data",this.domNode).forEach(function(M){M.classList[H]("disabled")});
D?this.showLoader(G||this.i18n.common.pleaseWait):this.hideLoader()};w.prototype.setSelectedSourceType=function(){this.selectedSourceType=this.findSupportedType(this.supportedTypes.options[this.supportedTypes.selectedIndex].dataset.fileType)};w.prototype.getFieldMappings=function(){var D=this,G=this.fromField.value,H=this.toField.value,M=this.dijits.map(function(R){return R.field}).filter(function(R){return R.matchField&&"__none"!==R.matchField.value}).map(function(R){return{source:R.matchField&&
R.matchField.name,name:R.name}});this.updateExistingFeatures.checked&&"__none"!==H&&(M=M.filter(function(R){return R.name!==D.fromField.value&&R.name!==D.toField.value}),M.push({source:H,name:G}));return(null===M||void 0===M?0:M.length)?M:null};w.prototype.getAppendFields=function(D){return(((null===D||void 0===D?0:D.length)?D:this.getFieldMappings())||[]).filter(function(G){return null===G||void 0===G?void 0:G.name}).map(function(G){return G.name})};w.prototype.getAppendParams=function(){var D=this.selectedSourceType.appendUploadFormat,
G=this.updateExistingFeatures.checked,H=this.fromField.options[this.fromField.selectedIndex];H=this.findField({name:H.dataset.value,type:H.dataset.type},this.layerFields);var M=this.getSelectedDataLayer(),R=this.getFieldMappings();D={sourceTableName:M.name,fieldMappings:(null===R||void 0===R?0:R.length)?JSON.stringify(R):null,upsert:G,skipUpdates:!1,useGlobalIds:G&&"esriFieldTypeGlobalID"===(null===H||void 0===H?void 0:H.type),skipInserts:G?this.skipInserts.checked:!1,updateGeometry:G?this.updateGeometry.checked:
!0,appendFields:JSON.stringify(this.getAppendFields()),appendItemId:this.uploadedItem.id,appendUploadFormat:D,rollbackOnFailure:!0};!this.selectedSourceType||"csv"!==this.selectedSourceType.fileType&&"excel"!==this.selectedSourceType.fileType||(D=p.__assign(p.__assign({},D),{appendSourceInfo:JSON.stringify(this.getAnalyzeParameters())}));if(null===H||void 0===H?0:H.isUniqueIndex)D.upsertMatchingField=H.name;return D};w.prototype.getSelectedDataLayer=function(){var D=parseInt(this.dataLayersSelect.value,
10);var G=(this.dataLayers||[]).filter(function(H){return H.excelSheetId===D||H.id===D});return(null===G||void 0===G?0:G.length)?G.shift():{}};w.prototype.getSelectedServiceLayer=function(){var D=parseInt(this.serviceLayersSelect.value,10);return this.findLayer(""+D,this.serviceLayers||[])};w.prototype.getFormData=function(){var D=this.fileInput.files[0],G=(null===D||void 0===D?void 0:D.name)||"",H=this.selectedSourceType.value,M=G.substr(0,G.indexOf("."))+"_agotmp"+G.substr(G.indexOf(".")),R=new FormData;
R.append("type",H);R.append("title",M);R.append("file",D,M);this.origFilename=G;this.sourceTitle=M;return R};w.prototype.getAnalyzeParameters=function(){var D=g["default"](this.analyzeResults),G=this.findLocationField("longitude"),H=this.findLocationField("latitude"),M=D.publishParameters.locationType;G=G&&"__none"!==G.value?G.name:D.publishParameters.longitudeFieldName;H=H&&"__none"!==H.value?H.name:D.publishParameters.latitudeFieldName;G&&H?(D.publishParameters.locationType="coordinates",D.publishParameters.latitudeFieldName=
H,D.publishParameters.longitudeFieldName=G):"coordinates"!==M&&(D.publishParameters.locationType="none");return D.publishParameters};w.prototype.addEventListeners=function(){var D=new k["default"];this.own(b["default"](this.showFieldMatchingLink,"click",this.showFieldMatching.bind(this)),b["default"](this.updateExistingFeatures,"change",this.updateExistingFeaturesChange.bind(this)),b["default"](this.fileInput,"change",this.onFileChange.bind(this)),b["default"](this.fromField,"change",this.onFromFieldChange.bind(this)),
b["default"](this.toField,"change",this.onToFieldChange.bind(this)),b["default"](this.serviceLayersSelect,"change",this.onServiceLayerChange.bind(this)),b["default"](this.dataLayersSelect,"change",this.onDataLayerChange.bind(this)),b["default"](this.supportedTypes,"change",this.setSelectedSourceType.bind(this)));D.resolve();return D};w.prototype.sortHeader=function(D){var G=D.target;D=G.dataset.sort;var H=G.classList.contains("is-ascending")||G.classList.contains("is-descending");G=G.dataset.sortOrder;
H&&(G="asc"===G?"desc":"asc");this.sortUpdate({property:D,ascending:"asc"===G})};w.prototype.sortUpdate=function(D){var G=this,H=this.domNode.querySelector(".js-table-rows"),M=this.noneField,R=this.getUIDField(),N=this.updateExistingFeatures.checked,K=this.getSelectedDataLayer(),V=(K.fields||[this.noneField]).sort(function(la,ta){return la.name.localeCompare(ta.name)}),Z=this.layerFields,ca={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},ea={portal:this.portal,template:E["default"],dataLayerFields:V,
addressFields:K.addressFields};this.currentSort=D=D||this.currentSort;(null===V||void 0===V?0:V.length)&&"__none"!==V[0].value&&V.unshift(M);var ka=D.ascending?"is-ascending":"is-descending";l["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(la){la.classList.remove("is-descending");la.classList.remove("is-ascending");la.setAttribute("aria-sort","none")});l["default"].querySelectorAllAsArray(".js-table-sort-header[data-sort\x3d'"+D.property+"']",this.domNode).forEach(function(la){la.classList.add(ka);
la.setAttribute("aria-sort",D.ascending?"ascending":"descending");la.dataset.sortOrder=D.ascending?"asc":"desc"});this.sortTitle("matchField"===D.property?this.matchFields||[]:this.layerFields||[],D);this.sortHandlers.forEach(function(la){la.remove()});this.sortHandlers=[];l["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(la){G.sortHandlers.push(b["default"](la,"click",G.sortHeader.bind(G)))});this.dijits.forEach(function(la){la.destroy()});this.dijits=[];
Z.forEach(function(la){la.type in ca||!la.editable||N&&la.name===R.name||(la=new z["default"](p.__assign(p.__assign({},ea),{field:la})),la.startup(),la.placeAt(H),G.dijits.push(la))})};w.prototype.sortTitle=function(D,G){return null===D||void 0===D?void 0:D.sort(function(H,M){return G.ascending?H.name.localeCompare(M.name):M.name.localeCompare(H.name)})};w.prototype.showStep1=function(){var D=this,G=new k["default"],H=this.okBtn;this.fillSupportedTypes().then(function(){l["default"].hideNode(D.step2);
l["default"].showNode(D.step1);D.isStep1=!0;null===H||void 0===H?void 0:H.set("label",B["default"].appendDataDlg.uploadBtn);D.set("readOnly",!1);G.resolve(!0)});return G};w.prototype.showStep2=function(){var D=this,G=new k["default"];r["default"]({serviceLayers:this.fillServiceLayers(this.serviceLayers),dataLayers:this.fillDataLayers(this.dataLayers)}).then(function(){var H=D.getSelectedDataLayer(),M=D.getSelectedServiceLayer();D.updateFields(M,H).then(function(){G.resolve(!0)})});return G};w.prototype.updateFields=
function(D,G){var H=this,M=new k["default"],R=this.okBtn,N="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,K=this.selectedFile||this.uploadedItem&&this.uploadedItem.title||this.sourceTitle||"",V=this.syncEnabled||this.changeTrackingEnabled,Z=G&&G.geometryType,ca=D&&D.geometryType,ea=ca?!0:!1,ka,la,ta;r["default"]({serviceLayerFields:this.fillServiceLayerFields(D,G),dataLayerFields:this.fillDataLayerFields(D,G),fieldMatching:this.fillFieldMatching(D,G)}).then(function(){l["default"].hideNode(H.step1);
l["default"].showNode(H.step2);if(V){if(ca!==Z&&ca&&("esriGeometryPoint"!==ca||N||Z)){H.showError({message:B["default"].appendDataDlg.noMatchingSelectedLayerType});return}ka=!0}else ca===Z?ka=la=ta=!0:ca&&("esriGeometryPoint"!==ca||N||Z)?ta=!0:ka=la=ta=!0;H.domNode.querySelector(".js-updateFeatures-container").classList.add("hide");l["default"].showHideAll(l["default"].querySelectorAllAsArray(".js-updateGeometry",H.domNode),ea);H.updateExistingFeatures.checked=la||ta||!1;!la&&ka?l["default"].querySelectorAllAsArray(".js-updateFeatures, .js_attributesOnly",
H.domNode).forEach(function(za){za.classList.add("disabled")}):(l["default"].querySelectorAllAsArray(".js-updateFeatures",H.domNode).forEach(function(za){za.classList.remove("disabled")}),l["default"].querySelectorAllAsArray(".js-attributesOnly",H.domNode).forEach(function(za){za.classList[!la&&ta?"add":"remove"]("disabled")}));H.updateExistingFeaturesChange();H.updateGeometry.checked=!1;H.skipInserts.checked=!ka&&(la||ta)||!1;H.toField.value="__none";H.isStep1=!1;H.appendDataLabel.innerHTML=B["default"].appendDataDlg.chooseLayer.replace("${fileName}",
K);null===R||void 0===R?void 0:R.set("label",B["default"].appendDataDlg.applyUpdatesBtn);H.set("readOnly",!1);M.resolve(!0)});return M};w.prototype.updateLayerDataUpdatedDate=function(){var D=this.item,G=this._layerInfo,H=(new Date).getTime();G&&(G.editingInfo=G.editingInfo||{},G.editingInfo.lastEditDate=H,D.layers&&(D=D.layers[G.id],D.editingInfo=D.editingInfo||{},D.editingInfo.lastEditDate=H))};w.prototype.done=function(){var D=this;this.deleteItem().then(function(){D.updateLayerDataUpdatedDate();
c["default"].publish("append/done",{type:"success"});D.set("readOnly",!1);c["default"].publish("alert/show",{type:"success",text:B["default"].appendDataDlg.updateSuccess});D.hide()})};w.prototype.showFieldMatching=function(D){D="true"===this.showFieldMatchingLink.dataset.value;this.showFieldMatchingLink.dataset.value=D?"false":"true";this.showFieldMatchingLink.innerHTML=D?B["default"].appendDataDlg.showFieldMatching:B["default"].appendDataDlg.hideFieldMatching;l["default"].showHide(this.fieldMatching,
!D)};w.prototype.updateExistingFeaturesChange=function(D){var G=this.updateExistingFeatures.checked?"remove":"add";l["default"].querySelectorAllAsArray(".js-updateFeatures-container",this.domNode).forEach(function(H){H.classList[G]("hide")});this.sortUpdate()};w.prototype.onFileChange=function(D){D=this.fileInput.files[0];D=(null===D||void 0===D?void 0:D.name)||"";var G=D.split(".").pop(),H=(new RegExp(this.supportedFilesRegEx,"i")).test(D),M="zip"===(null===G||void 0===G?void 0:G.toLowerCase());
this.selectedSourceType=this.findSupportedType(M?"shapefile":G);this.selectedFile=D;l["default"].showHide(this.zipSelect,H&&M&&!this.portal.isPortal);this.okBtn.set("disabled",!H)};w.prototype.onFromFieldChange=function(D){D=(null===D||void 0===D?void 0:D.target)||{};var G=D.options[D.selectedIndex],H=this.getSelectedDataLayer(),M=this.getSelectedServiceLayer();G={name:G.dataset.value,type:G.dataset.type};var R=this.findField(G,this.layerFields),N=this.findField({name:D.dataset.prevValue,type:D.dataset.prevType},
this.layerFields);this.uidField=G;R.type!==N.type&&this.fillDataLayerFields(M,H);"__none"===R.value&&(this.toField.value="__none");D.dataset.prevValue=D.value;D.dataset.prevType=D.type;this.sortUpdate()};w.prototype.onToFieldChange=function(D){D=(null===D||void 0===D?void 0:D.target)||{};D=D.options[D.selectedIndex];D=this.findField({name:D.dataset.value,type:D.dataset.type},this.layerFields);c["default"].publish("appendData/fieldChanged",D)};w.prototype.onServiceLayerChange=function(){this.showStep2()};
w.prototype.onDataLayerChange=function(){var D=this.getSelectedDataLayer(),G=this.getSelectedServiceLayer();this.updateFields(G,D)};w.prototype.render=function(){var D=new k["default"];r["default"]([this.showStep1()]).then(function(){D.resolve(!0)});return D};w.prototype.showLoader=function(D){var G=this.domNode.querySelector(".analyze-loader-wrap .loader");l["default"].showNode(this.domNode.querySelector(".analyze-loader-wrap"));l["default"].activateNode(G);if(G=G.querySelector(".loader-text"))G.innerHTML=
D};w.prototype.hideLoader=function(){l["default"].hideNode(this.domNode.querySelector(".analyze-loader-wrap"));l["default"].deactivateNode(this.domNode.querySelector(".analyze-loader-wrap .loader"))};w.prototype.clearSelect=function(D){if(null===D||void 0===D?0:D.options)for(var G=D.options.length-1;0<=G;G--)D.remove(G)};w.prototype.fillSupportedTypes=function(){var D=this,G=new k["default"],H;this.supportedItemTypes.forEach(function(M){M.innerHTML&&(H=document.createElement("option"),H.dataset.value=
M.value,H.dataset.validate=M.regex||"",H.dataset.fileType=M.fileType,H.dataset.appendUploadFormat=M.appendUploadFormat,H.value=M.value,H.innerHTML=M.innerHTML,D.supportedTypes.add(H))});G.resolve(!0);return G};w.prototype.fillServiceLayers=function(D){var G=this,H,M,R;D=new k["default"];if(null===(M=null===(H=this.serviceLayersSelect)||void 0===H?void 0:H.options)||void 0===M?0:M.length)D.resolve(this.serviceLayers);else{H=this.serviceLayers||[];var N;this.clearSelect(this.serviceLayersSelect);(null===
H||void 0===H?0:H.length)&&H.forEach(function(K){N=document.createElement("option");N.dataset.value=K.id;N.value=K.id;N.innerHTML=K.name;G.serviceLayersSelect.add(N)});l["default"].showHide(this.serviceLayersContainer,1<(null===(R=this.layers)||void 0===R?void 0:R.length));D.resolve(H)}return D};w.prototype.fillDataLayers=function(D){var G=this,H,M=new k["default"];D=D||this.dataLayers||[];this.clearSelect(this.dataLayersSelect);D.forEach(function(N){var K=""+(v["default"].isDefined(N.excelSheetId)?
parseInt(N.excelSheetId,10):parseInt(N.id,10)),V=document.createElement("option");V.dataset.value=K;V.value=K;V.innerHTML=N.name;G.dataLayersSelect.add(V)});if(this.dataLayersSelect.options&&!this.dataLayersSelect.options.length){var R=document.createElement("option");R.dataset.value=this.noneField.value;R.value=this.noneField.value;R.innerHTML=this.noneField.name;this.dataLayersSelect.add(R)}l["default"].showHide(this.dataLayersContainer,1<(null===(H=this.analyzeResultLayers)||void 0===H?void 0:
H.length));this.dataLayers=D;M.resolve(D);return M};w.prototype.fillServiceLayerFields=function(D,G){var H=this,M=new k["default"],R=this.noneField,N=g["default"](D.indexes||[]),K=this.getUIDField(D),V={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},Z=g["default"](D.fields||[]),ca;this.clearSelect(this.fromField);N.filter(function(ea){return null===ea||void 0===ea?void 0:ea.isUnique}).forEach(function(ea){var ka;ca=(null===(ka=ea.fields)||void 0===ka?void 0:ka.split(","))||[];ca.forEach(function(la){Z.some(function(ta){return ta.name.toLowerCase()===
la.toLowerCase()?ta.isUniqueIndex=!0:!1})})});"Table"===D.type||!this.selectedSourceType||"excel"!==this.selectedSourceType.fileType&&"csv"!==this.selectedSourceType.fileType||((N=this.findField(this.longitudeField,Z))&&"__none"!==N.value||Z.push(g["default"](this.longitudeField)),(N=this.findField(this.latitudeField,Z))&&"__none"!==N.value||Z.push(g["default"](this.latitudeField)));this.layerFields=g["default"](Z||[]);Z=Z.filter(function(ea){return ea.type&&ea.type in V||ea.isUniqueIndex}).sort(function(ea,
ka){return ea.name.localeCompare(ka.name)});Z.unshift(R);Z.forEach(function(ea){var ka=document.createElement("option");ka.dataset.value=ea.value||ea.name||null;ka.dataset.type=ea.type||null;ka.value=ea.value||ea.name||null;ka.innerHTML=ea.displayName||ea.name;H.fromField.add(ka)});this.fromField.value=(null===K||void 0===K?void 0:K.value)||"__none";this.fromField.dataset.type=(null===K||void 0===K?void 0:K.value)||"__none";this.fromField.dataset.prevValue=this.fromField.value;this.fromField.dataset.prevType=
this.fromField.type;M.resolve(Z);return M};w.prototype.fillDataLayerFields=function(D,G){var H=this,M,R=new k["default"],N=this.noneField,K=G&&G.fields?g["default"](G.fields):[],V=this.getUIDField(D);K=this.filterAllowedFields(K,V).sort(function(Z,ca){return Z.name.localeCompare(ca.name)});V=this.findField(V,K);this.clearSelect(this.toField);(null===K||void 0===K?0:K.length)&&"__none"!==K[0].value?K.unshift(N):K=[N];K.forEach(function(Z){var ca=document.createElement("option");ca.dataset.value=Z.value||
Z.name||null;ca.dataset.type=Z.type||null;ca.value=Z.value||Z.name||null;ca.innerHTML=Z.displayName||Z.name;H.toField.add(ca)});this.toField.value="__none"!==(null===V||void 0===V?void 0:V.value)?V.name||"__none":"__none";this.toField.disabled="__none"===this.fromField.value||2>(null===(M=this.toField.options)||void 0===M?void 0:M.length);R.resolve(K);return R};w.prototype.filterAllowedFields=function(D,G){var H=D.filter(function(M){return x["default"](G,M)});return(null===H||void 0===H?0:H.length)?
H:[]};w.prototype.fillFieldMatching=function(D,G){var H=new k["default"];this.sortUpdate({property:"title",ascending:!0});H.resolve(!0);return H};w.prototype.addLayerInfo=function(D){var G=new k["default"],H=(null===D||void 0===D?0:D.publishParameters)?g["default"](D.publishParameters):{};D=(H.layers||[H.layerInfo]).map(function(M){var R=M.locationType||H.locationType||null;M.geometryType=M.geometryType||("coordinates"===R?"esriGeometryPoint":null)||null;M.addressFields=M.addressFields||H.addressFields||
("coordinates"===R?{longitudeFieldName:M.longitudeFieldName||H.longitudeFieldName,latitudeFieldName:M.latitudeFieldName||H.latitudeFieldName}:{});return M});G.resolve(D);return G};w.prototype.validateLayers=function(D){var G=new k["default"],H="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,M=this.syncEnabled||this.changeTrackingEnabled?this.layers.filter(function(R){return D.some(function(N){return N.geometryType===R.geometryType||!R.geometryType||"esriGeometryPoint"===
R.geometryType&&!H&&!N.geometryType})}):this.layers;M&&M.length?(this.analyzeResultLayers=g["default"](D),this.dataLayers=g["default"](D),this.serviceLayers=g["default"](M),G.resolve(this.analyzeResults)):G.reject({message:B["default"].appendDataDlg.noMatchingLayerType});return G};w.prototype.getUIDField=function(D){var G=this.uidField||null;if(!G){var H=D.globalIdField;D=(D.fields||[]).filter(function(M){return M.name===H});G=this.uidField=(null===D||void 0===D?0:D.length)?D.shift():this.noneField}return G};
w.prototype.findField=function(D,G){var H=(G||[]).filter(function(M){return M.type===D.type&&M.name.toLowerCase()===D.name.toLowerCase()});return(null===H||void 0===H?0:H.length)?H.shift():this.noneField};w.prototype.findLocationField=function(D){var G=this.dijits.map(function(H){return H.field}).filter(function(H){return H.name.toLowerCase()===D.toLowerCase()&&H.matchField});return(null===G||void 0===G?0:G.length)?G.shift().matchField:null};w.prototype.findLayer=function(D,G){return t["default"].findLayer(D,
G||[])};w.prototype.findSupportedType=function(D){var G=(this.supportedItemTypes||[]).filter(function(H){return H.fileType===D||H.extension.toLowerCase()===D.toLowerCase()});return(null===G||void 0===G?0:G.length)?G.shift():null};w.prototype.uploadData=function(D){var G=this,H;D=D||new k["default"];var M=null===(H=this.item)||void 0===H?void 0:H.owner;H=this.getFormData();var R={owner:M,folderId:void 0,fileName:this.sourceTitle,fileType:this.selectedSourceType.value};this._setReadOnlyAttr(!0,B["default"].appendDataDlg.uploadProgress);
this.uploadProgressBar.reset();this.uploadProgressBar.show();e["default"].addItem(R,H,this.fileInput.files[0]).then(function(N){G.uploadProgressBar.hide();if(N&&N.success){var K={title:R.fileName,type:R.fileType,folderId:""};G.uploadedItem=p.__assign(p.__assign(p.__assign({},N),K),{title:G.sourceTitle});N.isMultipart?(N.statusUrl=e["default"]._getActionItemUrl(R,"status"),G._setReadOnlyAttr(!0,B["default"].addItemFrm.checkingStatus),G.checkStatus(N).then(function(){G.set("readOnly",!1);D.resolve(N)})):
D.resolve(N)}else D.reject(N)},function(N){G.uploadProgressBar.hide();N&&409!==N.code?G.showError(N):G.deleteExistingTempItem(G.sourceTitle).then(function(){G.uploadData(D)},function(K){G.showError(N)})});return D};w.prototype.analyze=function(D){var G=this,H=new k["default"];D=p.__assign({fileType:this.selectedSourceType.fileType},D);this._setReadOnlyAttr(!0,B["default"].appendDataDlg.analyzeProgress);h["default"].analyzeItem(D,{enableGlobalGeocoding:!1},this.portal).then(function(M){G.analyzeResults=
M;H.resolve(M)},function(M){H.reject(M)});return H};w.prototype.appendDataLayer=function(){var D,G=new k["default"],H=this.getSelectedServiceLayer(),M=this.analyzeResults||{},R=(null===(D=M.publishParameters)||void 0===D?void 0:D.locationType)||"none";D=this.serviceUrl+"/"+H.id+"/append";var N=this.getAppendParams(),K=this.findLocationField("longitude")||{},V=this.findLocationField("latitude")||{},Z=this.updateExistingFeatures.checked;if(Z&&("__none"===this.fromField.value||"__none"===this.toField.value))return G.reject({message:B["default"].appendDataDlg.noUIDFieldMapping}),
G;if(!(!M.publishParameters||"csv"!==M.publishParameters.type&&"excel"!==M.publishParameters.type||"esriGeometryPoint"!==H.geometryType||"none"!==R&&"address"!==R||Z&&!N.updateGeometry||"__none"!==K.value&&"__none"!==V.value))return G.reject({message:B["default"].appendDataDlg.noLocationFields}),G;N.fieldMappings?(this._setReadOnlyAttr(!0,B["default"].appendDataDlg.applyProgress),q["default"].request({url:D,content:N},{usePost:!0}).then(this.checkStatus.bind(this),function(ca){G.reject(ca)}).then(function(ca){G.resolve(ca)})):
G.reject({message:B["default"].appendDataDlg.noMatchingFields});return G};w.prototype.checkStatus=function(D,G,H){var M=this,R=null===D||void 0===D?void 0:D.statusUrl,N=H||new k["default"],K=G||500;q["default"].request({url:R}).then(function(V){var Z,ca;V=V||{status:"completed"};"completed"===(null===(Z=V.status)||void 0===Z?void 0:Z.toLowerCase())?N.resolve(!0):"failed"===(null===(ca=V.status)||void 0===ca?void 0:ca.toLowerCase())||400<V.code||""===V.status?M.showError(V):(K=(K||500)+250,setTimeout(function(){M.checkStatus(D,
K,N)},G))},function(V){M.showError(V)});return N};w.prototype.deleteItem=function(){var D=this,G,H=new k["default"],M=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.uploadedItem?M.deleteItems([this.uploadedItem]).then(function(){D.uploadedItem=null;H.resolve(!0)},function(){D.uploadedItem=null;H.resolve(!0)}):H.resolve(!0);return H};w.prototype.deleteExistingTempItem=function(D){var G,H=new k["default"],M=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.portal.queryItems("title:"+
D).then(function(R){var N;(null===(N=null===R||void 0===R?void 0:R.items)||void 0===N?0:N.length)?M.deleteItems([R.items.shift()]).then(function(){H.resolve(!0)},function(){H.resolve(!0)}):H.resolve(!1)});return H};w.prototype.showError=function(D){var G=this,H=p.__assign(p.__assign({},B["default"].publishWizard.errors.error),D);D=D&&(D.statusMessage||D.message||"");-1<D.indexOf("Invalid Shapefile")?H.message=v["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidShapefile.message):
-1<D.indexOf("Invalid File Geodatabase")?H.message=v["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidFileGeodatabase.message):-1<D.indexOf("Object reference not set to")?H.message=v["default"].substitute({name:this.origFilename},this.i18n.appendDataDlg.error):-1<D.indexOf("Duplicate field names are not allowed")?H.message=this.i18n.common.errors.duplicateFields:-1<D.indexOf("Must specify data to be analyzed")&&(H.message=this.i18n.appendDataDlg.specifyData);this.errorDlg=
new n["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this.errorDlg.show(H).then(function(){G.set("readOnly",!1);G.errorDlg.hide()});return!1};return w=p.__decorate([F["default"](a["default"],d["default"])],w)}()})},"arcgisonline/sharing/dijit/AppendData/FieldTableRow":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/formatters ./_canMatchFields ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/topic dojo/Deferred dojo/promise/all dojo/text!./templates/_table-row.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);return function(){function e(d,a){this.i18n=h["default"];this.noneField={value:"__none",name:h["default"].appendDataDlg.none}}e.prototype.postMixInProperties=function(){var d=this;this.inherited(arguments);
Object.keys(t["default"]).forEach(function(a){d[a]=t["default"][a]});this.portal=this.portal||(null===y["default"]||void 0===y["default"]?void 0:y["default"].self)||{};this.portalUser=this.portalUser||this.user||this.portal.portalUser||{};this.templateString=this.template||n["default"];this.displayName=this.field.displayName||this.field.name};e.prototype.postCreate=function(){var d=this,a;this.inherited(arguments);null===(a=this.cssClasses)||void 0===a?void 0:a.forEach(function(b){d.domNode.classList.add(b)})};
e.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};e.prototype.setValue=function(d){d=(null===d||void 0===d?void 0:d.matchField)||d||{name:h["default"].appendDataDlg.none,value:"__none"};this.matchFields.value=d.value;this.field.matchField=d;this.matchFieldValue.innerHTML=d.displayName||d.name;this.matchFieldValue.dataset.value=d.value||d.name;this.matchFieldValue.dataset.type=d.type};e.prototype.render=function(){var d=
this,a=new z["default"];x["default"]([this.createMatchFieldOptions()]).then(function(){var b,c=(null===(b=d.field)||void 0===b?void 0:b.matchField)||d.field;b=c?d.findField(c,d.dataLayerFields):null;d.setValue(b);a.resolve(!0)});return a};e.prototype.addEventListeners=function(){var d=this,a=new z["default"];this.own(u["default"](this.matchFields,"blur",function(b){d.field.value=d.editEnd({evt:b})}),u["default"](this.matchFieldsContainer,"click",function(b){d.editStart({evt:b})}),q["default"].subscribe("appendData/fieldChanged",
function(b){var c,k;"__none"!==b.value&&(null===(k=null===(c=d.field)||void 0===c?void 0:c.matchField)||void 0===k?void 0:k.name)===b.name&&d.setValue()}));a.resolve();return a};e.prototype.editStart=function(d){d=d.evt.target;var a=d.parentElement.querySelector("select"),b=d.dataset.value;b&&"SPAN"===(null===d||void 0===d?void 0:d.tagName)&&(d.classList.add("hide"),a.classList.remove("hide"),a.value=b,a.focus())};e.prototype.editEnd=function(d){d=d.evt.target;var a=d.parentElement.querySelector("span"),
b=d.options[d.selectedIndex].dataset.value,c=this.findField({type:d.options[d.selectedIndex].dataset.type,name:b},this.dataLayerFields);q["default"].publish("appendData/fieldChanged",c);this.setValue(c);d.classList.add("hide");a.classList.remove("hide");return b};e.prototype.findField=function(d,a){var b=this,c=(a||[]).filter(function(k){return d.name.toLowerCase()===k.name.toLowerCase()&&(k.type===d.type||b.findAddressField(k.displayName||k.name))});return(null===c||void 0===c?0:c.length)?c.shift():
this.noneField};e.prototype.findAddressField=function(d){var a=this.addressFields||{},b=Object.keys(a).filter(function(c){return a[c]===d});return(null===b||void 0===b?0:b.length)?b.shift():null};e.prototype.createMatchFieldOptions=function(){var d=this,a=new z["default"];(this.dataLayerFields||[]).forEach(function(b){if("__none"===b.value||m["default"](d.field,b)){var c=document.createElement("option");c.dataset.value=b.value||b.name;c.dataset.type=b.type||null;c.value=b.value||b.name;c.innerHTML=
b.displayName||b.name;d.matchFields.add(c)}});a.resolve(!0);return a};return e=p.__decorate([f["default"](g["default"],l["default"])],e)}()})},"arcgisonline/sharing/dijit/AppendData/_canMatchFields":function(){define(["require","exports"],function(T,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=function(p,y){var t,m=(null===p||void 0===p?void 0:p.type)||null,f=(null===y||void 0===y?void 0:y.type)||null,g={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger",
"esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:"esriFieldTypeString esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeDate esriFieldTypeGUID".split(" "),esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID",
"esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"]};return f&&(f===m||-1<(null===(t=g[m])||void 0===t?void 0:t.indexOf(f)))}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceLayer.html dojo/text!../../../img/Archive_no-text.svg dojo/text!../../../img/Replace_no-text.svg dojo/i18n!../../../nls/arcgisonline dojo/string dojo/dom-attr dojo/dom-construct dojo/query arcgisonline/pages/dijit/Overlay ../../utils/dom ../../utils/icons ../../serviceUtil arcgis-components/wrappers/ItemBrowser ../../portal/Portal esri/request arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig arcgisonline/map/core/sameSpatialReference arcgisonline/map/core/sameTilingScheme arcgisonline/map/layer/getServiceInfo ../../portal/PortalItem ../../../sharing/util ../../utils/alerts dojo/Deferred".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=p.__importDefault(v);
B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);E=p.__importDefault(E);return function(){function F(w,D){this.title=f["default"].replaceLayer.replaceLayer;this.i18n=f["default"];this.icons=n["default"];this.overlayContents=g["default"].substitute(y["default"],{i18n:this.i18n,icons:this.icons});this._showPreviewStylesTab=!0;this._replaceItemInformation=!1;this.isVectorTile=!0;this._currentStep=1;this.cacheTypeKeywords=""}F.prototype.postCreate=function(){var w=this,D;this.inherited(arguments);
this.type=this.item.type;this.isTile=this.item.types.includes("is-tile");this.isVectorTile=this.item.types.includes("is-vectorTile");(this.isCacheContent=this.item.typeKeywords.includes("ExtractedCache"))&&(this.isTile||this.isVectorTile)&&(this.cacheTypeKeywords=' AND typekeywords:("ExtractedCache" AND "Tiled" AND "'+(this.isTile?"Map Service":"Vector Tile Service")+'")');this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:f["default"].replaceLayer.selectReplacementLayer,
mainActionTitle:f["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent","myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(w.isCacheContent?"-":"")+'typekeywords:"Hosted Service"'+w.cacheTypeKeywords+" NOT id:"+w.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",
order:"desc"}}};this.telemetry=null===(D=this.page)||void 0===D?void 0:D.telemetry;this._stepperNextButton=this.domNode.querySelector(".js-stepper-next-btn");this._overlayHelpButton=this.domNode.querySelector(".overlay-help");this._stepperLinks=this.domNode.querySelectorAll(".js-step-link");this._selectLayerButton=this.domNode.querySelector(".js-replace-layer-select");this._changeLayerButton=this.domNode.querySelector(".js-replace-lyr-change-lyr");this._archiveInputContainer=this.domNode.querySelector(".js-replace-lyr-edit-container");
this._currentArchiveName=this.domNode.querySelector(".js-replace-lyr-current-arch-name");this._archiveInputName=this.domNode.querySelector(".js-replace-lyr-edit-name");this._archiveInputSave=this.domNode.querySelector(".js-replace-lyr-edit-save");this._archiveInputEdit=this.domNode.querySelector(".js-replace-lyr-current-arch-btn");this._nameInputError=this.domNode.querySelector(".js-replace-name-input-error");this._nameAvailableError=this.domNode.querySelector(".js-replace-name-available-error");
this._itemInformationSwitch=this.domNode.querySelector(".js-replace-lyr-replace-item-switch");this._changeLayerSummaryButton=this.domNode.querySelector(".js-replace-lyr-change-lyr-summary");this._changeLayerOptionButton=this.domNode.querySelector(".js-replace-lyr-change-option");this._availabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice");this._closeAvailabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice-close");this._radioOptions=q["default"]("input[name\x3djs-replace-lyr-archive-option-radio]",
this.domNode);this._archiveSvg=this.domNode.querySelector(".js-archive_svg");this._replaceSvg=this.domNode.querySelector(".js-replace_svg");this._shownPreviewStylesContent=this.domNode.querySelectorAll(".js-replace-lyr-show-preview-step");this._selectedLayerTitle=this.domNode.querySelectorAll(".js-replace-lyr-selected-lyr-name");this._selectedLayerOwner=this.domNode.querySelectorAll(".js-replace-lyr-selected-owner");this._selectedLayerIcon=this.domNode.querySelectorAll(".js-replace-lyr-selected-icon");
this._selectedLayerType=this.domNode.querySelectorAll(".js-replace-lyr-selected-type");this._currentLayerTitle=this.domNode.querySelector(".js-replace-lyr-current-lyr-name");this._currentLayerOwner=this.domNode.querySelector(".js-replace-lyr-current-owner");this._currentLayerIcon=this.domNode.querySelector(".js-replace-lyr-current-icon");this._currentLayerType=this.domNode.querySelector(".js-replace-lyr-current-type");this._preSelectContainer=this.domNode.querySelector(".pre-select");this._postSelectContainer=
this.domNode.querySelector(".post-select");this._checkStyles=this.domNode.querySelector(".js-replace-lyr-check-styles");this._checkStylesSuccess=this.domNode.querySelector(".js-replace-lyr-check-styles-success");this._checkStylesWarnings=this.domNode.querySelectorAll(".js-replace-lyr-check-styles-warning");this._selectedLayerContainer=this.domNode.querySelector(".js-replace-lyr-selected-layer");this._replaceLayerErrorMessage=this.domNode.querySelector(".js-replace-lyr-error");this._replaceLayerPreviewContainer=
this.domNode.querySelector(".js-replace-lyr-preview-container");this._styleDropdown=this.domNode.querySelector(".js-replace-lyr-style-layer-dropdown");this._replaceSingleStyle=this.domNode.querySelector(".js-replace-lyr-single-style");this._replaceMultipleStyles=this.domNode.querySelector(".js-replace-lyr-multiple-styles");this._replaceSingleStyleLabel=this.domNode.querySelector(".js-replace-lyr-style-layer");this._archiveOptionLayerName=this.domNode.querySelector(".js-replace-lyr-new-layer-name");
this._replaceItemInformationLabel=this.domNode.querySelector(".js-replace-lyr-replace-item-information");this._replaceOptionArchiveLabel=this.domNode.querySelector(".js-replace-lyr-archive-option");this._replaceOptionReplacementLabel=this.domNode.querySelector(".js-replace-lyr-replace-option")};F.prototype.addListeners=function(){var w=this;this._stepperNextButton.addEventListener("click",this.handlePrimary.bind(this),!1);this._overlayHelpButton.addEventListener("click",this.handleHelp.bind(this),
!1);for(var D=0;D<this._stepperLinks.length;D++)this._stepperLinks[D].addEventListener("click",this.onStepClick.bind(this));this._radioOptions.on("change",this.onOptionSelect.bind(this));this._selectLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._changeLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._archiveInputName.addEventListener("input",this.handleArchiveInput.bind(this));this._archiveInputSave.addEventListener("click",this.handleArchiveSave.bind(this));
this._archiveInputEdit.addEventListener("click",this.handleArchiveEdit.bind(this));this._itemInformationSwitch.addEventListener("click",this.handleReplaceItemInformationSwitch.bind(this));this._changeLayerSummaryButton.addEventListener("click",this.handleChangeLayerSummaryClick.bind(this));this._changeLayerOptionButton.addEventListener("click",this.handleChangeOptionSummaryClick.bind(this));this._closeAvailabilityNotice.addEventListener("click",this.handleCloseNotice.bind(this));this._styleDropdown.addEventListener("change",
this.handleLayerDropdownChange.bind(this));this._overlay.addEventListener("transitionend",function(G){"transform"===G.propertyName&&w._selectLayerButton.focus()})};F.prototype.open=function(){this.domNode.classList.add("overlay-stepper");u["default"].place(this.domNode.querySelector(".js-stepper-headers"),this._overlayContentWrapper,"before");u["default"].place(this.domNode.querySelector(".js-step-bars"),this.domNode.querySelector(".js-stepper-headers"),"after");document.body.classList.add("stepper--open");
this.initUI();this.inherited(arguments)};F.prototype.close=function(){this.inherited(arguments);this._itemBrowserContainer&&this._itemBrowserContainer.parentNode.removeChild(this._itemBrowserContainer);document.body.classList.remove("stepper--open")};F.prototype.initUI=function(){for(var w=this,D,G,H=1;4>=H;H++)this["_step"+H]=this.domNode.querySelector(".js-step-"+H),this["_stepHeader"+H]=this.domNode.querySelector(".js-step-header-"+H),this["_stepBar"+H]=this.domNode.querySelector(".js-step-"+H+
"-bar");this._selectedOption=this.getSelectedOption();this._archiveName=this.generateArchiveName();this._currentArchiveName.textContent=this._archiveName;this._archiveInputName.value=this._archiveName;this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);this._archiveSvg&&(this._archiveSvg.innerHTML=g["default"].substitute(t["default"],{i18n:f["default"]}));this._replaceSvg&&(this._replaceSvg.innerHTML=g["default"].substitute(m["default"],{i18n:f["default"]}));x["default"].showNode(this._overlayHelpButton);
c["default"].self.isPortal||x["default"].showNode(this._availabilityNotice);this._relatedStyles=this.item.relatedItems.Service2Style_forward;if(!(0<(null===(D=this._relatedStyles)||void 0===D?void 0:D.length)))this._showPreviewStylesTab=!1,x["default"].hideNodes(this._shownPreviewStylesContent);else if(null===(G=this._relatedStyles)||void 0===G?0:G[0])this._selectedBaseStyle=this._relatedStyles[0],h["default"].checkForResources(this._selectedBaseStyle).then(function(M){w._selectedBaseStyle.hasResources=
M});this.item.serviceInfo||v["default"](this.item.url,null,function(M){w.item.serviceInfo=M});this.createItemBrowser();this.addListeners();this.goToStep(1)};F.prototype.generateArchiveName=function(){function w(N){return 2>String(N).length?"0"+N:N}var D=new Date,G=D.getFullYear(),H=w(D.getMonth()+1),M=w(D.getDate()),R=w(D.getHours());D=w(D.getMinutes());return this.item.title+"_"+(G+"_"+H+"_"+M+"_"+R+"_"+D)};F.prototype.replaceSpacesWithUnderscore=function(w){return w.replace(/\s/g,"_")};F.prototype.createItemBrowser=
function(){var w=this;this._itemBrowserContainer||(this._itemBrowserContainer=document.createElement("div"),x["default"].hideNode(this._itemBrowserContainer),document.body.appendChild(this._itemBrowserContainer),this.portal=new d["default"](c["default"].restBaseUrl),this.portal.signIn().then(function(){w._itemBrowser=new e.ItemBrowserWrapper(w._itemBrowserContainer,{apiVersion:3,portal:w.portal,request:a["default"],initialState:w._itemBrowserConfig})}))};F.prototype.openItemBrowser=function(){var w=
this;this._itemBrowserContainer.querySelector(".mod__overlay-container").addEventListener("animationend",function(){w._itemBrowserContainer.querySelector(".mod__overlay__close").focus({preventScroll:!0})});x["default"].isHidden(this._itemBrowserContainer)?x["default"].showNode(this._itemBrowserContainer):this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.remove("hide")};F.prototype.handleSelectItem=function(w){this._selectedReplacementItem=new B["default"](p.__assign(p.__assign({},
w[0]),{portal:this.portal}));this.initiateCompatibilityCheck();this.closeItemBrowser();for(w=0;w<this._selectedLayerTitle.length;w++)this._selectedLayerTitle[w].innerHTML=this._selectedReplacementItem.title,this._selectedLayerOwner[w].innerHTML=this._selectedReplacementItem.owner,this._selectedLayerOwner[w].href=c["default"].baseUrl+"user.html?user\x3d"+this._selectedReplacementItem.owner,this._selectedLayerIcon[w].src=this._selectedReplacementItem.iconUrl,this._selectedLayerType[w].innerHTML=this.getItemDisplayName(this._selectedReplacementItem)};
F.prototype.initiateCompatibilityCheck=function(){var w=this;this._primaryBtn.disabled=!0;this._preSelectContainer.classList.add("hide");this._postSelectContainer.classList.remove("hide");this._selectedLayerContainer.classList.remove("stepper__content-pane-error");this._replaceLayerErrorMessage.classList.remove("is-active");x["default"].hideNode(this._checkStylesSuccess);x["default"].hideNodes(this._checkStylesWarnings);x["default"].showNode(this._checkStyles);this.item.canUpdate?this.checkLayerCompatibility().then(function(){w.checkForCompatibleStyles(w._selectedReplacementItem)},
function(D){w.handleLayerSelectionError(D)}):(this._selectedLayerContainer.classList.add("stepper__content-pane-error"),this._replaceLayerErrorMessage.innerHTML=f["default"].replaceLayer.error,x["default"].activateNode(this._replaceLayerErrorMessage),x["default"].hideNode(this._checkStylesSuccess),x["default"].hideNode(this._checkStyles))};F.prototype.checkLayerCompatibility=function(){var w=this,D=new E["default"];v["default"](this._selectedReplacementItem.url,null,function(G){-1<w._selectedReplacementItem.url.indexOf("://vectortileservices")?
w._selectedReplacementItem.getRelatedItems(w.isCacheContent?"DataStore2ByRefService":"Service2Service","reverse").then(function(H){var M=f["default"].replaceLayer.error,R=!0,N=k["default"](w.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference),K=w.item.serviceInfo.tileInfo.layerType===G.tileInfo.layerType;0<H.map(function(V){return V.type}).filter(function(V){return"Feature Service"===V}).length?M=f["default"].replaceLayer.tileLayerPackageError:N||K?N?K?R=!1:M=f["default"].replaceLayer.replaceSceneLayer.layerTypeError:
M=f["default"].replaceLayer.differentCoordinateSystem:M=f["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError;R?D.reject(Error(M)):D.resolve()}):w._selectedReplacementItem.getRelatedItems("Service2Service","reverse").then(function(H){var M;w.isTile&&"Feature Service"===(null===(M=H[0])||void 0===M?void 0:M.type)&&D.reject(Error(f["default"].replaceLayer.hostedFeatureLayerError));h["default"].checkForResources(w.item).then(function(R){w.item.hasResources=R});h["default"].checkForResources(w._selectedReplacementItem).then(function(R){w._selectedReplacementItem.hasResources=
R});H=r["default"](w.item.serviceInfo.tileInfo,G.tileInfo);k["default"](w.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference)&&H?D.resolve():D.reject(Error(f["default"].replaceLayer.differentSchemeCombined))})},function(G){w.handleLayerSelectionError(G)});return D};F.prototype.checkForCompatibleStyles=function(w){var D=this,G=""+w.url+(this.isVectorTile&&!w.url.includes("://vectortileservices")?"/resources/styles/root.json":"");w=""+this.item.url+(this.isVectorTile&&!this.item.url.includes("://vectortileservices")?
"/resources/styles/root.json":"");C["default"].request({url:w,content:{f:"json"}}).then(function(H){D._baseItemJson=H;C["default"].request({url:G,content:{f:"json"}}).then(function(M){D._replacementItemJson=M}).then(function(){var M=D._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");!D.isVectorTile||D.compareLayers(D._baseItemJson.layers,D._replacementItemJson.layers)?(x["default"].showNode(D._checkStylesSuccess),x["default"].hideNodes(D._checkStylesWarnings),
x["default"].hideNode(D._checkStyles)):(x["default"].hideNode(D._checkStylesSuccess),x["default"].showNodes(D._checkStylesWarnings),x["default"].hideNode(D._checkStyles),M&&D._changeLayerButton.focus());D._primaryBtn.disabled=!1;M&&D._primaryBtn.focus()})["catch"](function(M){D.handleLayerSelectionError(M)})})};F.prototype.isWebMercator=function(w){return 0<=[102113,102100,3857,3785].indexOf(w)};F.prototype.handleLayerSelectionError=function(w){var D;this._selectedLayerContainer.classList.add("stepper__content-pane-error");
this._replaceLayerErrorMessage.innerHTML=0<(null===(D=w.message)||void 0===D?void 0:D.length)?w.message:"Error";x["default"].activateNode(this._replaceLayerErrorMessage);x["default"].hideNode(this._checkStylesSuccess);x["default"].hideNode(this._checkStyles);this._changeLayerButton.focus()};F.prototype.compareLayers=function(w,D){var G=this,H=w.map(function(R){return G.isVectorTile?R.id:R.name}).sort(),M=D.map(function(R){return G.isVectorTile?R.id:R.name}).sort();return H.every(function(R){return 0<=
M.indexOf(R)})||M.every(function(R){return 0<=H.indexOf(R)})};F.prototype.closeItemBrowser=function(){this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.add("hide");x["default"].isHidden(this._postSelectContainer)?this._selectLayerButton.focus():this._changeLayerButton.focus()};F.prototype.goToStep=function(w){var D=this;x["default"].hideNode(this["_step"+this._currentStep]);this["_stepBar"+this._currentStep]&&x["default"].hideNode(this["_stepBar"+this._currentStep]);
this._currentStep=w;for(var G=w-1;1<=G;G--)this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_stepHeader"+G].classList.add("stepper__step-item--past"),this["_step"+G].parentNode.classList.add("stepper__content--past-step");for(G=w+1;4>=G;G++)this["_stepHeader"+G].classList.remove("stepper__step-item--past"),this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_step"+G].parentNode.classList.remove("stepper__content--past-step");x["default"].showNode(this["_step"+
this._currentStep]);(w=this.domNode.querySelector(".stepper__content--active-step"))&&w.classList.remove("stepper__content--active-step");this["_step"+this._currentStep].parentNode.classList.remove("stepper__content--past-step");this["_step"+this._currentStep].parentNode.classList.add("stepper__content--active-step");this["_stepHeader"+this._currentStep].classList.remove("stepper__step-item--past");this["_stepHeader"+this._currentStep].classList.add("stepper__step-item--active");this["_stepBar"+this._currentStep]?
(x["default"].showNode(this["_stepBar"+this._currentStep]),this.domNode.classList.add("has-step-bar")):this.domNode.classList.remove("has-step-bar");x["default"].hideNode(this.domNode.querySelector(".js-compile-error-icon"));this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);switch(this._currentStep){case 1:this._primaryBtn.disabled=!this._selectedReplacementItem;break;case 2:this.checkServiceNameAvailable(this._archiveName).then(function(H){H.available||(D.handleArchiveNameValidationError("unavailable"),
D.handleArchiveEdit())});this.alignSvgLabels();break;case 3:this.populateRelatedStyles();this._replaceLayerPreviewContainer.src=this.composePreviewPath();break;case 4:this.populateSummary(),this.setPrimaryBtnText(f["default"].replaceLayer.replace)}};F.prototype.populateRelatedStyles=function(){var w=this;if(0!==this._relatedStyles.length)if(1<this._relatedStyles.length){for(;0<this._styleDropdown.options.length;)this._styleDropdown.remove(0);this._relatedStyles.forEach(function(D){D.option=new Option(D.title);
w._styleDropdown.add(D.option);h["default"].checkForResources(D).then(function(G){return D.hasResources=G})});x["default"].hideNode(this._replaceSingleStyle);x["default"].showNode(this._replaceMultipleStyles)}else this._replaceSingleStyleLabel.textContent=this._relatedStyles[0].title,x["default"].showNode(this._replaceSingleStyle),x["default"].hideNode(this._replaceMultipleStyles)};F.prototype.alignSvgLabels=function(){var w,D,G;null===(w=this.domNode.querySelector(".archive-lyr-current-layer-svg"))||
void 0===w?void 0:w.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(D=this.domNode.querySelector(".archive-lyr-archive-svg"))||void 0===D?void 0:D.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(G=this.domNode.querySelector(".replace-lyr-current-layer-svg"))||void 0===G?void 0:G.setAttribute("text-anchor","rtl"===document.dir?"end":"start")};F.prototype.onStepClick=function(w){w=+l["default"].get(w.target,"data-step-num");w<this._currentStep&&this.goToStep(w)};
F.prototype.onOptionSelect=function(){var w=this.getSelectedOptionContainer();this._selectedOption=this.getSelectedOption();for(var D=this.domNode.querySelectorAll(".stepper__radio-item"),G=0;G<D.length;G++)D[G].classList.remove("stepper__radio-item--selected");w.classList.add("stepper__radio-item--selected")};F.prototype.getSelectedOption=function(){var w;this._radioOptions.some(function(D){D.checked&&(w=D.value);return D.checked});return w};F.prototype.getSelectedOptionContainer=function(){var w=
this._radioOptions.filter(function(D){return D.checked})[0];return w?w.parentNode.parentNode:null};F.prototype.handleArchiveEdit=function(){this._primaryBtn.disabled=!0;x["default"].showNode(this._archiveInputContainer);x["default"].hideNode(this._archiveInputEdit);this._archiveInputName.focus()};F.prototype.handleArchiveInput=function(w){x["default"].deactivateNode(this._nameInputError);x["default"].deactivateNode(this._nameAvailableError);var D=/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(w.target.value);
0===w.target.value.length||D?this.handleArchiveNameValidationError(D?"invalid":void 0):this._archiveInputSave.disabled=!1};F.prototype.handleArchiveSave=function(){var w=this,D=this._archiveInputName.value;this.checkServiceNameAvailable(this.replaceSpacesWithUnderscore(D)).then(function(G){G.available?w.saveArchiveName(D):w.handleArchiveNameValidationError("unavailable")})};F.prototype.saveArchiveName=function(w){this._archiveName=w;this._currentArchiveName.textContent=w;x["default"].hideNode(this._archiveInputContainer);
x["default"].showNode(this._archiveInputEdit);this._primaryBtn.disabled=!1};F.prototype.checkServiceNameAvailable=function(w){return C["default"].request({url:c["default"].portal.portalUrl+"portals/"+(c["default"].self&&c["default"].self.user&&(c["default"].self.user.accountId||c["default"].self.user.orgId))+"/isServiceNameAvailable",content:{name:w,type:"Vector Tile Service",f:"json"}})};F.prototype.composePreviewPath=function(){var w=(this._selectedBaseStyle.hasResources?this._selectedBaseStyle.itemUrl:
this._selectedBaseStyle.url)+"/resources/styles/root.json";return c["default"].vectorTileStylePreview+"?vtStyle\x3d"+(this._selectedBaseStyle.viewStyleUrl?this._selectedBaseStyle.viewStyleUrl:w)+"\x26vtLayer\x3d"+(this._selectedReplacementItem.viewUrl?this._selectedReplacementItem.viewUrl:this._selectedReplacementItem.url)+(this.isWebMercator(Number(this.item.serviceInfo.tileInfo.spatialReference.wkid))?"\x26basemap\x3dstreets-vector":"")};F.prototype.handleArchiveNameValidationError=function(w){this._archiveInputSave.disabled=
!0;switch(w){case "invalid":x["default"].activateNode(this._nameInputError);break;case "unavailable":x["default"].activateNode(this._nameAvailableError)}};F.prototype.handleReplaceItemInformationSwitch=function(){this._replaceItemInformation=this._itemInformationSwitch.checked};F.prototype.handleChangeLayerSummaryClick=function(){this.goToStep(1)};F.prototype.handleChangeOptionSummaryClick=function(){this.goToStep(2)};F.prototype.handleLayerDropdownChange=function(){this._selectedBaseStyle=this._relatedStyles.filter(function(w){return w.option.selected})[0];
this._replaceLayerPreviewContainer.src=this.composePreviewPath()};F.prototype.handlePrimary=function(w){var D=this;w.stopPropagation();w.preventDefault();2!==this._currentStep||this._showPreviewStylesTab?4<=this._currentStep?(this.close(),this.replaceLayer().then(function(){var G;null===(G=D.telemetry)||void 0===G?void 0:G.logEvent({category:"archive option",label:"archive"===D._selectedOption?"new layer":"swap"});A["default"].showAlert("success",g["default"].substitute(f["default"].replaceLayer.layerReplaceSuccess,
{srcTitle:"\x3cb\x3e"+D.item.title+"\x3c/b\x3e"}));setTimeout(function(){window.location.reload()},4E3)})["catch"](function(G){A["default"].showAlert("error",G)})):this.goToStep(this._currentStep+1):this.goToStep(4)};F.prototype.handleHelp=function(){var w;window.open(""+c["default"].self.helpBase+((null===(w=c["default"].self.helpMap)||void 0===w?void 0:w.m["120001792"])||""))};F.prototype.handleCloseNotice=function(w){x["default"].hideNode(w.target.parentNode)};F.prototype.setPrimaryBtnText=function(w){this._primaryBtn.innerHTML=
w};F.prototype.getItemDisplayName=function(w){return"Vector Tile Service"===w.type?f["default"].items.tileLayer:w.displayName};F.prototype.populateSummary=function(){this._currentLayerTitle.innerHTML=this.item.title;this._currentLayerOwner.innerHTML=this.item.owner;this._currentLayerOwner.href=c["default"].baseUrl+"user.html?user\x3d"+this.item.owner;this._currentLayerIcon.src=this.item.iconUrl;this._currentLayerType.innerHTML=this.getItemDisplayName(this.item);"archive"===this._selectedOption?(this._archiveOptionLayerName.innerHTML=
this.replaceSpacesWithUnderscore(this._archiveName),x["default"].showNode(this._replaceOptionArchiveLabel),x["default"].hideNode(this._replaceOptionReplacementLabel)):(x["default"].showNode(this._replaceOptionReplacementLabel),x["default"].hideNode(this._replaceOptionArchiveLabel));this._replaceItemInformation?x["default"].showNode(this._replaceItemInformationLabel):x["default"].hideNode(this._replaceItemInformationLabel)};F.prototype.replaceLayer=function(){var w="archive"===this._selectedOption?
{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"}:{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._selectedReplacementItem.title),replaceMetadata:this._replaceItemInformation,f:"json"};return C["default"].request({url:this.portal.portalUrl+
"content/users/"+this.portal.user.username+"/replaceService",content:w},{usePost:!0})};return F=p.__decorate([b["default"](z["default"])],F)}()})},"arcgis-components/wrappers/ItemBrowser":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/_base/kernel ../ItemBrowser/index".split(" "),function(T,J,p,y,t,m){return function(f){function g(u){if(l[u])return l[u].exports;var q=l[u]={i:u,l:!1,exports:{}};return f[u].call(q.exports,q,q.exports,g),q.l=
!0,q.exports}var l={};return g.m=f,g.c=l,g.d=function(u,q,z){g.o(u,q)||Object.defineProperty(u,q,{enumerable:!0,get:z})},g.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},g.t=function(u,q){if((1&q&&(u=g(u)),8&q)||4&q&&"object"==typeof u&&u&&u.__esModule)return u;var z=Object.create(null);if(g.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:u}),2&q&&"string"!=typeof u)for(var x in u)g.d(z,
x,function(n){return u[n]}.bind(null,x));return z},g.n=function(u){var q=u&&u.__esModule?function(){return u["default"]}:function(){return u};return g.d(q,"a",q),q},g.o=function(u,q){return Object.prototype.hasOwnProperty.call(u,q)},g.p="",g(g.s=983)}({0:function(f,g,l){function u(a,b){function c(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)}function q(a,b){var c={},k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(c[k]=a[k]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(k=Object.getOwnPropertySymbols(a);r<k.length;r++)0>b.indexOf(k[r])&&Object.prototype.propertyIsEnumerable.call(a,k[r])&&(c[k[r]]=a[k[r]])}return c}function z(a,b,c,k){var r,v=arguments.length,B=3>v?b:null===k?k=Object.getOwnPropertyDescriptor(b,c):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=
Reflect.decorate(a,b,c,k);else for(var C=a.length-1;0<=C;C--)(r=a[C])&&(B=(3>v?r(B):3<v?r(b,c,B):r(b,c))||B);return 3<v&&B&&Object.defineProperty(b,c,B),B}function x(a,b,c,k){return new (c||(c=Promise))(function(r,v){function B(E){try{A(k.next(E))}catch(F){v(F)}}function C(E){try{A(k["throw"](E))}catch(F){v(F)}}function A(E){var F;E.done?r(E.value):(F=E.value,F instanceof c?F:new c(function(w){w(F)})).then(B,C)}A((k=k.apply(a,b||[])).next())})}function n(a,b){function c(A){return function(E){return function(F){if(k)throw new TypeError("Generator is already executing.");
for(;C;)try{if(k=1,r&&(v=2&F[0]?r["return"]:F[0]?r["throw"]||((v=r["return"])&&v.call(r),0):r.next)&&!(v=v.call(r,F[1])).done)return v;switch(r=0,v&&(F=[2&F[0],v.value]),F[0]){case 0:case 1:v=F;break;case 4:return C.label++,{value:F[1],done:!1};case 5:C.label++;r=F[1];F=[0];continue;case 7:F=C.ops.pop();C.trys.pop();continue;default:if(!(v=C.trys,(v=0<v.length&&v[v.length-1])||6!==F[0]&&2!==F[0])){C=0;continue}if(3===F[0]&&(!v||F[1]>v[0]&&F[1]<v[3]))C.label=F[1];else if(6===F[0]&&C.label<v[1])C.label=
v[1],v=F;else if(v&&C.label<v[2])C.label=v[2],C.ops.push(F);else{v[2]&&C.ops.pop();C.trys.pop();continue}}F=b.call(a,C)}catch(w){F=[6,w],r=0}finally{k=v=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([A,E])}}var k,r,v,B,C={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return B={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(B[Symbol.iterator]=function(){return this}),B}function h(a,b){for(var c=0,k=b.length,r=a.length;c<k;c++,r++)a[r]=
b[c];return a}l.d(g,"d",function(){return u});l.d(g,"a",function(){return d});l.d(g,"f",function(){return q});l.d(g,"c",function(){return z});l.d(g,"b",function(){return x});l.d(g,"e",function(){return n});l.d(g,"g",function(){return h});var e=function(a,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,k){c.__proto__=k}||function(c,k){for(var r in k)Object.prototype.hasOwnProperty.call(k,r)&&(c[r]=k[r])})(a,b)},d=function(){return(d=Object.assign||function(a){for(var b,
c=1,k=arguments.length;c<k;c++)for(var r in b=arguments[c])Object.prototype.hasOwnProperty.call(b,r)&&(a[r]=b[r]);return a}).apply(this,arguments)};Object.create;Object.create},100:function(f,g,l){l.d(g,"g",function(){return z});l.d(g,"k",function(){return x});l.d(g,"j",function(){return n});l.d(g,"h",function(){return h});l.d(g,"i",function(){return e});l.d(g,"c",function(){return d});l.d(g,"b",function(){return a});l.d(g,"f",function(){return b});l.d(g,"e",function(){return c});l.d(g,"d",function(){return k});
l.d(g,"a",function(){return r});l.d(g,"r",function(){return v});l.d(g,"n",function(){return B});l.d(g,"s",function(){return C});l.d(g,"o",function(){return A});l.d(g,"q",function(){return E});l.d(g,"p",function(){return F});l.d(g,"l",function(){return w});l.d(g,"m",function(){return D});var u=l(78),q=l(48),z="SELECT_ITEM",x="TOGGLE_ITEM",n="SELECT_ITEM_SINGLE",h="SELECT_ITEM_ASYNC",e="SELECT_ITEM_ASYNC_FAILED",d="DESELECT_ITEM",a="DESELECT_ALL",b="SELECT_ALL",c="SELECT_ALL_FROM_QUERY_SUCCESS",k="END_BULK_WORKFLOW",
r="CANCEL_BULK_WORKFLOW",v=function(G){return function(H,M){var R=M();if(R.settings.config.asynchronousItemSelect){H({type:h,payload:G});var N=R.settings.config.onSelect([Object(u.b)(G)]);(null==N?0:N.then)&&N.then(function(){R.settings.config.singleItemSelect?H({type:n,payload:G}):H({type:z,payload:G})},function(){H({type:e,payload:G})})}else R.settings.config.singleItemSelect?(H({type:n,payload:G}),R.settings.config.onSelect([Object(u.b)(G)])):(H({type:z,payload:G}),R.settings.config.onSelect([Object(u.b)(G)]))}},
B=function(G,H){var M=H();if(M.settings.config.disableInitiallySelectedItems){M=M.results;var R=M.selectedItems,N=M.initiallySelectedItems;Object.keys(R).map(function(K){return R[K]}).filter(function(K){return!N[K.id]}).forEach(function(K){G({type:d,payload:K})})}else G({type:a})},C=function(G){return{type:x,payload:G}},A=function(G){return function(H,M){var R=M();H({type:d,payload:G});R.settings.config.onDeselect([Object(u.b)(G)])}},E=function(){return function(G,H){var M=H();G({type:b,payload:M.ui.pagination.displayItems})}},
F=function(G){return{type:c,payload:G}},w=function(G,H){var M=null==H?void 0:H();G({type:r});null==M||M.settings.config.onBack()},D=function(G,H){var M=null==H?void 0:H();if(null==M?0:M.settings.config.onBulkAction){var R=M.settings.config.onBulkAction;M=M.results;var N=M.selectedItems,K=M.initiallySelectedItems;M=Object.keys(K).map(function(ea){return K[ea]});var V=Object.keys(N).map(function(ea){return N[ea]}),Z=M.filter(function(ea){return!N[ea.id]}),ca=V.filter(function(ea){return!K[ea.id]});
G({type:q.a});G({type:k,payload:ca});R({initiallySelectedItems:M,allSelectedItems:V,newlySelectedItems:ca,deselectedItems:Z})}}},101:function(f,g,l){l.d(g,"a",function(){return q});l.d(g,"b",function(){return z});var u=l(0),q=function(x){return x?x.urlKey?location.protocol+"//"+x.urlKey+"."+x.customBaseUrl:location.protocol+"//"+x.portalHostname:""},z=function(x){return Object(u.a)(Object(u.a)({},x),{baseUrl:q(x)})}},117:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,
x){var n=Object(u.a),h=Object(u.a)({},x),e=x.type,d=x.typeKeywords?x.typeKeywords:[],a=null==e?void 0:e.toLowerCase(),b=!1,c=!1,k=e=!1;if("ogcfeatureserver"===a)d="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||"wfs"===a){var r=-1<d.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(k=-1<d.indexOf("Table"),b=-1<d.indexOf("Route Layer"),c=-1<d.indexOf("Markup"),d=(e=-1!==d.indexOf("Spatiotemporal"))&&
k?"spatiotemporaltable":k?"table":b?"routelayer":c?"markup":e?"spatiotemporal":r?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?d=r||-1<d.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?d=-1<d.indexOf("Line")?"sceneweblayerline":-1<d.indexOf("3DObject")?"sceneweblayermultipatch":-1<d.indexOf("Point")?"sceneweblayerpoint":-1<d.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<d.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<d.indexOf("Polygon")?"sceneweblayerpolygon":
-1<d.indexOf("Building")?"sceneweblayerbuilding":-1<d.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(e=-1<d.indexOf("Elevation 3D Layer"),d=-1<d.indexOf("Tiled Imagery"),d=e?"elevationlayer":d?"tiledimagerylayer":"imagery"):d="stream service"===a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<d.indexOf("Web Tool")?"tool":"layers"}else d="web map"===
a||"cityengine web scene"===a?"maps":"web scene"===a?-1<d.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==d?void 0:d.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||
"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<d.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<d.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===
a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<d.indexOf("Explorer Mapping Application")||-1<d.indexOf("Document")?
"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":
"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===
a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return n(h,{iconURI:z+"/"+d+"16.png"})})},120:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x){var n=
Object(u.a),h=Object(u.a)({},x),e,d,a="notebook"!==(null===(e=x.type)||void 0===e?void 0:e.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(d=x.type)||void 0===d?void 0:d.toLowerCase())&&(a="notebook-code-snippet-thumb.png");d=z.baseUrl+"/home/js/arcgisonline/css/images/"+a;e=(x.thumbnail&&(d=z.restUrl+"/content/items/"+x.id+"/info/"+x.thumbnail+(z.credential?"?token\x3d"+z.credential.token:"")),d);return n(h,{thumbURI:e})})},121:function(f,g,l){l.d(g,"a",
function(){return z});var u=l(0);f=l(15);var q=function(x,n){return n.description?n.description.replace(/src=('|")js\/jsapi\/esri\//g,function(h){return"src\x3d"+('"'===h[4]?'"':"'")+x.baseUrl+"/home/js/jsapi/esri/"}):void 0},z=Object(f.a)(function(x,n){return Object(u.a)(Object(u.a)({},n),{patchedDescription:q(x,n)})})},122:function(f,g,l){l.d(g,"a",function(){return x});var u=l(0),q=l(124);f=l(15);var z=l(58),x=Object(f.a)(function(n,h){var e=Object(u.a),d=Object(u.a)({},h),a,b=h.type,c=h.typeKeywords||
[],k=b,r=(null==n?void 0:n.portalUser)||(null==n?void 0:n.user);if("Feature Service"===b||"Feature Collection"===b){if(k=-1<c.indexOf("Table")?"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",r&&Object(z.d)(h,r)&&-1<(null==c?void 0:c.indexOf("Hosted Service")))c=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",k=k+" ("+(q.a[c]||q.a[c.split("-")[0]]||q.a.en)+")"}else"Image Service"===b?(a=
-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),k=a?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?k="Scene Layer":"Scene Package"===b?k="Scene Layer Package":"Stream Service"===b?k="Feature Layer":"Geocoding Service"===b?k="Locator":"Microsoft Powerpoint"===b?k="Microsoft PowerPoint":"OGCFeatureServer"===b?k="OGC Feature Layer":"GeoJson"===b?k="GeoJSON":"Globe Service"===b?k="Globe Layer":"Vector Tile Service"===b?k="Tile Layer":"netCDF"===b?k="NetCDF":
"Map Service"===b?k=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?k=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?k="Big Data File Share":"Web Mapping Application"===b&&(null==c?0:c.includes("configurableApp"))?k="Instant App":"Data Store"===b&&(c.includes("cloudStore_amazon")||c.includes("cloudStore_azure")?k+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||
c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(k+=" (Big Data File Share)"));return e(d,{displayName:k})})},123:function(f,g,l){l.d(g,"a",function(){return z});var u=l(0);f=l(15);var q=function(x,n){var h=[],e=x.typeKeywords?x.typeKeywords:[];return x.contentStatus&&("org_authoritative"===x.contentStatus||"public_authoritative"===x.contentStatus?h.push("authoritative"):"deprecated"===x.contentStatus&&h.push("deprecated")),x.origin&&h.push("collaboration"),x.groupDesignations&&
-1<x.groupDesignations.indexOf("livingatlas")&&h.push("livingAtlas"),-1<e.indexOf("Requires Credits")?h.push("premium"):-1<e.indexOf("Requires Subscription")&&h.push("subscriber"),-1<e.indexOf("Public Data Collection")&&((null==n?void 0:n.portalUser)||(null==n?void 0:n.user))&&h.push("publicDataCollection"),"Solution"===x.type&&-1<x.typeKeywords.indexOf("ArcGIS Solution")&&h.push("solution"),n.isPortal&&"Web Mapping Application"===x.type&&(-1<x.typeKeywords.indexOf("Story Map")&&h.push("retiredStoryMap"),
function(d){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
c=-1<a.indexOf(".html");return-1<(null===(b=d.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(c?"":"/")))})}(x)&&h.push("retiredApp")),h},z=Object(f.a)(function(x,n){return Object(u.a)(Object(u.a)({},n),{badges:q(n,x)})})},124:function(f,g,l){l.d(g,"a",function(){return u});var u={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},126:function(f,g,l){function u(x){var n=Object(q.b)(x.settings.config.customSections,x.parameters.section);return(null==n?0:n.portal)?Object(z.b)(n.portal):x.settings.utils.portal}l.d(g,"a",function(){return u});var q=l(86),z=l(101)},141:function(f,g,l){l.d(g,"b",function(){return u});l.d(g,"a",function(){return q});var u={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},q="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
148:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x){var n=Object(u.a),h=Object(u.a)({},x);var e=x.thumbnail?z.restUrl+"/community/users/"+x.username+"/info/"+x.thumbnail+(z.credential?"?token\x3d"+z.credential.token:""):void 0;return n(h,{thumbURI:e})})},15:function(f,g,l){function u(z){return function n(){for(var h=this,e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];return e.length>=z.length?z.call.apply(z,Object(q.g)([this],e)):function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];return n.call.apply(n,Object(q.g)(Object(q.g)([h],e),a))}}}l.d(g,"a",function(){return u});var q=l(0)},150:function(f,g){f.exports=t},16:function(f,g){f.exports=T},162:function(f,g,l){function u(C,A){var E=["",{method:"get",query:A.settings.config.addRequestParameters?Object(x.a)({f:"json",q:Object(h.b)(A),num:C.num?C.num:A.settings.config.resultsPerQuery,sortOrder:A.parameters.sort.order,start:C.start?C.start:1},A.settings.config.addRequestParameters()):
{f:"json",q:Object(h.b)(A),num:C.num?C.num:A.settings.config.resultsPerQuery,sortOrder:A.parameters.sort.order,start:C.start?C.start:1}}];return Object(n.a)(c(A),k(A),r(A),v(A))(E)}function q(C,A){var E=["",{method:"get",query:{f:"json",q:Object(h.a)(C),num:0,countFields:A.join(", "),countSize:200}}];return b(C)(E)}function z(C,A){var E=["",{method:"get",query:{f:"json",q:Object(h.c)(C,A),num:0,countFields:"tags",countSize:200}}];return b(C)(E)}l.d(g,"b",function(){return u});l.d(g,"a",function(){return q});
l.d(g,"c",function(){return z});var x=l(0),n=l(63);f=l(15);var h=l(179),e=l(356),d=l(126),a=l(86),b=function(C){return Object(n.a)(v(C),B(C),r(C))},c=Object(f.a)(function(C,A){var E=A[0],F=A[1],w=C.parameters.sort.field;return"relevance"!==w?[E,Object(x.a)(Object(x.a)({},F),{query:Object(x.a)(Object(x.a)({},F.query),{sortField:w})})]:[E,F]}),k=Object(f.a)(function(C,A){var E=A[0],F=A[1];if(C.parameters.filter.searchMapArea){var w=C.parameters.extent.area;w=w.minx+","+w.miny+","+w.maxx+","+w.maxy;
return[E,Object(x.a)(Object(x.a)({},F),{query:Object(x.a)(Object(x.a)({},F.query),{bbox:w})})]}return[E,F]}),r=Object(f.a)(function(C,A){var E=A[0],F=A[1],w=Object(e.a)(C);return w?[E,Object(x.a)(Object(x.a)({},F),{query:Object(x.a)(Object(x.a)({},F.query),{enriched:w})})]:[E,F]}),v=Object(f.a)(function(C,A){A[0];var E=A[1],F=C.parameters,w=F.section;F=F.filter;var D=Object(d.a)(C),G=D.restUrl+"/search";if("myGroups"===w&&F.group)G=D.restUrl+"/content/groups/"+F.group.id+"/search",F.groupCategories&&
(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.groupCategories.value])));else if("livingAtlas"!==w&&"Living Atlas"!==w||!C.results.livingAtlas.groupId)if(!F.orgCategories||"myOrganization"!==w&&"myContent"!==w){if(w=Object(a.b)(C.settings.config.customSections,w))Object(a.d)(w)&&F.orgCategories&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.orgCategories.value]))),(w=Object(a.c)(w))&&(G=D.restUrl+"/content/groups/"+w.id+"/search",F.groupCategories&&(G=G+"?categories\x3d"+
encodeURIComponent(JSON.stringify([F.groupCategories.value]))))}else G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.orgCategories.value]));else G=D.restUrl+"/content/groups/"+C.results.livingAtlas.groupId+"/search",F.livingAtlasCategories?(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasCategories.value])),F.livingAtlasRegion&&(G=G+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasRegion.value])))):F.livingAtlasRegion&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([F.livingAtlasRegion.value])));
return[G,E]}),B=Object(f.a)(function(C,A){var E=A[0],F=A[1],w=C.parameters.section,D=Object(a.b)(C.settings.config.customSections,w);return"myGroups"===w&&C.parameters.filter.group||("livingAtlas"===w||"Living Atlas"===w)&&C.results.livingAtlas.groupId||D&&Object(a.c)(D)?[E,Object(x.a)(Object(x.a)({},F),{query:Object(x.a)(Object(x.a)({},F.query),{countFields:F.query.countFields?F.query.countFields.replace("categories","groupcategories"):void 0})})]:[E,F]})},170:function(f,g){var l=function(){return this}();
try{l=l||(new Function("return this"))()}catch(u){"object"==typeof window&&(l=window)}f.exports=l},173:function(f,g,l){l.d(g,"a",function(){return n});l.d(g,"c",function(){return h});l.d(g,"b",function(){return e});l.d(g,"d",function(){return d});l.d(g,"h",function(){return a});l.d(g,"i",function(){return b});l.d(g,"j",function(){return c});l.d(g,"e",function(){return k});l.d(g,"g",function(){return r});l.d(g,"f",function(){return v});l.d(g,"l",function(){return B});l.d(g,"k",function(){return A});
l.d(g,"m",function(){return E});f=l(65);var u=l.n(f);f=l(56);var q=l.n(f),z=l(30),x=l(48),n="ADD_TO_FAVORITES",h="ADD_TO_FAVORITES_SUCCESS",e="ADD_TO_FAVORITES_FAIL",d="LOADING_USER_INFO",a="UPDATE_GROUP_CATEGORIES",b="UPDATE_USER_INFO",c="UPDATE_USER_INFO_FAILED",k="REMOVE_FROM_FAVORITES",r="REMOVE_FROM_FAVORITES_SUCCESS",v="REMOVE_FROM_FAVORITES_FAIL",B=function(){return function(F,w){var D=w(),G=D.parameters.filter.group,H=D.results.user.groupCategories;if("loaded"===D.results.user.status)return G&&
!H[G.id]?F(C(G.id)):(new q.a).resolve();if("failed"===D.results.user.status)return(new q.a).reject();F({type:d});H=D.settings.utils;D=H.request;H=H.portal;return u()([Object(z.r)(D,H).then(function(M){return M.groups.map(function(R){return{id:R.id,title:R.title}})}),Object(z.s)(D,H).then(function(M){return M.folders.map(function(R){return{id:R.id,title:R.title}})}),Object(z.t)(D,H,H.user.favGroupId).then(function(M){return M.items.reduce(function(R,N){return R[N.id]=!0,R},{})})].concat(G?[F(C(G.id))]:
[])).then(function(M){F({type:b,payload:{groups:M[0],folders:M[1],favorites:M[2]}})},function(M){F({type:c})})}},C=function(F){return function(w,D){var G=D().settings.utils;return Object(z.f)(G.request,G.portal,F).then(function(H){w({type:a,payload:{id:F,categorySchema:H.categorySchema}})})}},A=function(F){return function(w,D){var G=D(),H=G.settings.utils.portal,M=H.restUrl+"/content/items/"+F.id+"/share";H={f:"json",everyone:F.access&&"public"===F.access||F.sharing&&F.sharing.access&&"public"===
F.sharing.access,org:F.access&&"org"===F.access||F.sharing&&F.sharing.access&&"org"===F.sharing.access||!1,groups:[H.user.favGroupId],items:[F.id]};w({type:n,payload:F});G.settings.utils.request(M,{method:"post",query:H}).then(function(R){w({type:h,payload:F})},function(R){w({type:e,payload:F})})}},E=function(F){return function(w,D){var G=D(),H=G.settings.utils.portal,M=H.user.favGroupId,R=H.restUrl+"/content/items/"+F.id+"/unshare",N={f:"json",everyone:!1,org:!1,groups:[M],items:[F.id]};w({type:k,
payload:F});G.settings.utils.request(R,{method:"post",query:N}).then(function(K){function V(){w({type:r,payload:F})}"myFavorites"===(G=D()).parameters.section?function ca(){G.settings.utils.request(H.restUrl+"/search",{query:{f:"json",q:"(id:"+F.id+") (group:"+M+")"},method:"get"}).then(function(ea){0<ea.data.total?setTimeout(function(){ca()},250):(V(),w(Object(x.i)()))},function(ea){V()})}():V()},function(K){w({type:v,payload:F})})}}},179:function(f,g,l){function u(G){return Object(n.a)(h.b,w(G),
D(G),Object(e.a)(G.parameters.filter.orgGroup),Object(d.a)(G.parameters.filter.status,G.settings.utils.portal.user),F(G),Object(a.a)(G.parameters.filter.shared),Object(b.a)(G.parameters.filter.dateCreated),Object(b.b)(G.parameters.filter.dateModified),Object(c.a)(C.b,{allowedItemTypes:G.settings.config.allowedItemTypes,itemTypeFilter:G.parameters.filter.itemType,specialItemQ:G.settings.config.specialItemQ}),Object(k.b)(G.parameters.filter.tags),Object(r.a)(G.parameters.filter.origins))([G.parameters.searchString.current]).join(" ")}
function q(G){return Object(n.a)(h.b,w(G),F(G),Object(c.a)(C.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}))([G.parameters.searchString.current]).join(" ")}function z(G,H){return Object(n.a)(h.b,w(G),F(G),Object(c.a)(C.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}),Object(k.a)(H))([G.parameters.searchString.current]).join(" ")}l.d(g,"b",function(){return u});l.d(g,"a",function(){return q});
l.d(g,"c",function(){return z});var x=l(0),n=l(63),h=l(99),e=l(398),d=l(399),a=l(400),b=l(323),c=l(265),k=l(324),r=l(401);f=l(15);var v=l(5),B=l(180),C=l(141),A=l(126),E=l(86),F=Object(f.a)(function(G,H){var M=G.parameters.filter,R=G.settings.config,N=Object(A.a)(G);switch(G.parameters.section){case "myContent":return N.user?N.user&&M.folder?Object(x.g)(Object(x.g)([],H),['(owner:"'+N.user.username+'") (ownerfolder:'+M.folder.id+")"]):Object(x.g)(Object(x.g)([],H),['(owner:"'+N.user.username+'")']):
H;case "myFavorites":return N.user?Object(x.g)(Object(x.g)([],H),["(group:"+N.user.favGroupId+")"]):H;case "myGroups":if(G.results.user.groups){if(G.parameters.filter.group)return Object(x.g)(Object(x.g)([],H),["(group:"+G.parameters.filter.group.id+")"]);M=G.results.user.groups.map(function(K){return K.id});return Object(x.g)(Object(x.g)([],H),["(group:"+M.join(" OR group:")+")"])}return H;case "myOrganization":return Object(x.g)(Object(x.g)([],H),["(orgid:"+N.id+")"]);case "subscription":return Object(x.g)(Object(x.g)([],
H),["("+G.results.provisionedContent.content.map(function(K){return"id:"+K}).join(" OR ")+")"]);case "all":return H;default:return(M=R.customSections.filter(function(K){return G.parameters.section===K.name})[0])?Object(x.g)(Object(x.g)([],H),[M.baseQuery]):H}}),w=Object(f.a)(function(G,H){var M=G.settings.config.addQueryParameters;try{if(M&&"function"==typeof M)return Object(x.g)(Object(x.g)([],H),[M(G)])}catch(R){}return H}),D=Object(f.a)(function(G,H){var M=Object(E.b)(G.settings.config.customSections,
G.parameters.section);if(M&&!Object(v.b)(G.parameters.filter.customFilter)){var R=Object.keys(G.parameters.filter.customFilter).filter(function(N){return G.parameters.filter.customFilter[N]}).reduce(function(N,K){var V,Z=parseInt(K,10),ca=G.parameters.filter.customFilter[Z].value;if(null===(V=null==M?void 0:M.filters)||void 0===V?0:V[Z])if(V=Object(B.a)("children","value",M.filters[Z],ca))return Object(x.g)(Object(x.g)([],N),["("+V.q+")"]);return N},[]).join(" AND ");return Object(x.g)(Object(x.g)([],
H),[""+R])}return H})},180:function(f,g,l){function u(k,r){return e("children","value",k,r)}function q(k,r){return d("children","value",k,r)}function z(k,r){return function F(B,C,A,E){var w,D=A[B];return D&&0!==D.length?Object(c.a)(Object(c.a)({},A),((w={})[B]=D.reduce(function(G,H){return-1!==E.indexOf(H[C])&&G.push(F(B,C,H,E)),G},[]),w)):Object(c.a)({},A)}("children","value",k,r)}function x(k){return function(r,v){var B,C=v[r];return C?Object(c.a)(Object(c.a)({},v),((B={})[r]=function F(E){return 0===
E.length?[]:1!==E.length||E[0][r]?1<E.length?E.reduce(function(w,D){var G;return D[r]?(w.push(Object(c.a)(Object(c.a)({},D),((G={})[r]=F(D[r]),G))),w):(w.push(D),w)},[]):F(E[0][r]):E}(C),B)):v}("children",k)}function n(k,r){return a("children",k,r)}function h(k,r){return function E(B,C,A){var F=C[B];F&&F.forEach(function(w){return E(B,w,A)});A(C)}("children",k,r)}function e(k,r,v,B){var C=v[k];return v[r]===B?v:C?C.reduce(function(A,E){return A||e(k,r,E,B)},void 0):void 0}function d(k,r,v,B){if(v=
v[k])return v.reduce(function(C,A){return A[r]===B[0]?1===B.length?A:d(k,r,A,B.slice(1)):C},void 0)}function a(k,r,v){var B;return v(Object(c.a)(Object(c.a)({},r),((B={})[k]=r[k]?r[k].map(function(C){return a(k,C,v)}):void 0,B)))}function b(k,r,v){return a(k,v,function(B){var C=B[r];if(delete B[r],B[k]){var A=B[k];return delete B[k],Object(c.a)(Object(c.a)({},B),{value:C,children:A})}return Object(c.a)(Object(c.a)({},B),{value:C})})}l.d(g,"f",function(){return u});l.d(g,"d",function(){return q});
l.d(g,"i",function(){return z});l.d(g,"e",function(){return x});l.d(g,"h",function(){return n});l.d(g,"g",function(){return h});l.d(g,"a",function(){return e});l.d(g,"b",function(){return d});l.d(g,"c",function(){return b});var c=l(0)},189:function(f,g){function l(){throw Error("setTimeout has not been defined");}function u(){throw Error("clearTimeout has not been defined");}function q(v){if(d===setTimeout)return setTimeout(v,0);if((d===l||!d)&&setTimeout)return d=setTimeout,setTimeout(v,0);try{return d(v,
0)}catch(B){try{return d.call(null,v,0)}catch(C){return d.call(this,v,0)}}}function z(){k&&b&&(k=!1,b.length?c=b.concat(c):r=-1,c.length&&x())}function x(){if(!k){var v=q(z);k=!0;for(var B=c.length;B;){b=c;for(c=[];++r<B;)b&&b[r].run();r=-1;B=c.length}b=null;k=!1;(function(C){if(a===clearTimeout)return clearTimeout(C);if((a===u||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(C);try{a(C)}catch(A){try{return a.call(null,C)}catch(E){return a.call(this,C)}}})(v)}}function n(v,B){this.fun=v;this.array=
B}function h(){}var e=f.exports={};try{var d="function"==typeof setTimeout?setTimeout:l}catch(v){d=l}try{var a="function"==typeof clearTimeout?clearTimeout:u}catch(v){a=u}!0;var b,c=[],k=!1,r=-1;e.nextTick=function(v){var B=Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)B[C-1]=arguments[C];c.push(new n(v,B));1!==c.length||k||q(x)};n.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=!0;e.env={};e.argv=[];e.version="";e.versions=
{};e.on=h;e.addListener=h;e.once=h;e.off=h;e.removeListener=h;e.removeAllListeners=h;e.emit=h;e.prependListener=h;e.prependOnceListener=h;e.listeners=function(v){return[]};e.binding=function(v){throw Error("process.binding is not supported");};e.cwd=function(){return"/"};e.chdir=function(v){throw Error("process.chdir is not supported");};e.umask=function(){return 0}},193:function(f,g,l){function u(x){var n,h;return null!==(n=x.orgId)&&void 0!==n?n:null===(h=x.portal)||void 0===h?void 0:h.id}function q(x){var n;
if(!x)return!1;var h=u(x),e=null===(n=x.portal)||void 0===n?void 0:n.isPortal;return!!h&&!e&&"public_authoritative"===x.contentStatus}function z(x,n,h){return new Promise(function(e){var d=x.map(function(a){return function(b,c,k){var r="https://"+c.portalHostname+"/sharing/rest/portals/"+b;return new Promise(function(v){k(r,{method:"get",query:{f:"json"}}).then(function(B){B=B.data;var C=B.thumbnail,A=(B.allSSL?"https://":"http://")+(B.urlKey||"")+"."+B.customBaseUrl+"/";v({name:B.name,url:A+"home/",
thumbnail:C?A+"sharing/rest/portals/self/resources/"+C:"./images/group-no-image.png",id:b})})})}(a,n,h)});Promise.all(d).then(function(a){e(a.filter(function(b){return b}))})})}l.d(g,"b",function(){return u});l.d(g,"c",function(){return q});l.d(g,"a",function(){return z})},199:function(f,g,l){function u(b,c,k){return b.filter(function(r,v,B){return B.indexOf(r)===v&&!c.hasOwnProperty(r)&&-1===k.indexOf(r)})}l.d(g,"c",function(){return n});l.d(g,"d",function(){return h});l.d(g,"a",function(){return e});
l.d(g,"b",function(){return d});l.d(g,"e",function(){return a});var q=l(0),z=l(193),x=l(309),n="USER_THUMBNAILS_LOAD_START",h="USER_THUMBNAILS_LOAD_SUCCESS",e="ORG_THUMBNAILS_LOAD_START",d="ORG_THUMBNAILS_LOAD_SUCCESS",a=function(b,c){var k=c(),r=k.settings.utils,v=r.request;r=r.portal;var B=k.ui.pagination;k=B.displayItems;var C=B.userThumbnailCache,A=B.pendingUserThumbRequests,E=B.orgThumbnailCache;B=B.pendingOrgThumbRequests;E=u(k.filter(z.c).map(z.b),E,B);k=u(k.map(function(F){return F.owner}),
C,A);if(0!==k.length||0!==E.length)b({type:n,payload:k}),b({type:e,payload:E}),k=Object(x.a)(k,r,v),v=Object(z.a)(E,r,v),Promise.all([k,v]).then(function(F){var w=F[0];F=F[1];w=(null==w?void 0:w.reduce(function(D,G){var H;return Object(q.a)(Object(q.a)({},D),((H={})[G.username]={thumbnail:G.thumbURI||G.thumbnail,username:G.username,fullName:G.fullName,id:G.id},H))},{}))||{};F=(null==F?void 0:F.reduce(function(D,G){var H;return Object(q.a)(Object(q.a)({},D),((H={})[G.id]=G,H))},{}))||{};b({type:h,
payload:w});b({type:d,payload:F})})}},217:function(f,g,l){l.d(g,"a",function(){return d});var u=l(0);f=l(56);var q=l.n(f);f=l(65);var z=l.n(f);f=l(15);var x=l(99),n=l(30),h=l(325),e=l(126),d=Object(f.a)(function(a,b){var c=a.settings.utils.request,k=Object(e.a)(a),r=new q.a,v=b.data.results.filter(function(B){return B.orgId&&!a.results.allOrganizations[B.orgId]}).map(function(B){return B.orgId}).filter(x.e).map(function(B){return Object(n.m)(c,k,B)});return z()(v).then(function(B){r.resolve(Object(u.a)(Object(u.a)({},
b),{data:Object(u.a)(Object(u.a)({},b.data),{organizations:B.reduce(function(C,A){var E;return Object(u.a)(Object(u.a)({},C),((E={})[A.id]=Object(h.a)(A),E))},{})})}))},function(B){r.reject(B)}),r})},227:function(f,g,l){l.d(g,"a",function(){return z});var u=l(0),q=l(101),z=function(x){var n=Object(u.a),h=Object(u.a)({},x),e=Object(q.a)(x);return n(h,{thumbURI:x.thumbnail?e+"/sharing/rest/portals/"+x.id+"/resources/"+x.thumbnail:e+"/home/images/group-no-image.png"})}},228:function(f,g,l){l.d(g,"a",
function(){return z});var u=l(0),q=l(101),z=function(x){return Object(u.a)(Object(u.a)({},x),{orgUrl:Object(q.a)(x)+"/home/index.html"})}},231:function(f,g){f.exports=m},256:function(f,g,l){l.d(g,"a",function(){return x});l.d(g,"b",function(){return n});l.d(g,"c",function(){return h});l.d(g,"d",function(){return e});f=l(56);var u=l.n(f),q=l(30),z=l(78),x="UPDATE_PROVISIONED_CONTENT",n="UPDATE_PROVISIONED_CONTENT_FAILED",h="UPDATE_PROVISIONED_CONTENT_SUCCESS",e=function(){return function(d,a){var b=
a();if("loaded"===b.results.provisionedContent.status)return(new u.a).resolve();if("failed"===b.results.provisionedContent.status)return(new u.a).reject();d({type:x});var c=b.settings.utils,k=c.portal;return Object(q.d)(c.request,k,k.user.username).then(function(r){d({type:h,payload:r.filter(function(v){return-1<b.settings.config.allowedItemTypes.indexOf(v.type)}).map(function(v){return Object(z.a)(k,b.settings.utils.iconDir,v)})})},function(r){d({type:n})})}}},264:function(f,g,l){l.d(g,"a",function(){return e});
l.d(g,"c",function(){return d});l.d(g,"d",function(){return a});l.d(g,"b",function(){return b});l.d(g,"e",function(){return c});var u=l(0);f=l(65);var q=l.n(f);f=l(56);var z=l.n(f),x=l(99),n=l(30);f=l(15);var h=l(86),e="LOADING_CUSTOM_SECTION_INFO",d="UPDATE_CUSTOM_SECTION_SCHEMAS",a="UPDATE_CUSTOM_SECTION_INFO_FAILED",b="UPDATE_CUSTOM_SECTION_GROUPS",c=function(){return function(v,B){function C(F){v({type:a})}var A=B();if("loaded"===A.results.customSections.status)return(new z.a).resolve();if("failed"===
A.results.customSections.status)return(new z.a).reject();v({type:e});var E=Object(x.f)("id",A.settings.config.customSections.filter(h.f).map(h.a).reduce(function(F,w){return Object(u.g)(Object(u.g)([],F),w)},[]));return k(v,B,E).then(function(){return A=B(),q()(E.map(function(F){return r(A,F).then(function(w){return{id:F.id,type:F.type,response:w}})}))},C).then(function(F){return v({type:d,payload:F})},C)}},k=function(v,B,C){var A=B(),E=new z.a;if(0<C.length){A=A.settings.utils;var F=A.request,w=
A.portal;C=C.filter(function(D){return"group"===D.type}).map(function(D){var G=D.id;return Object(n.e)(F,w,D.fetchGroupIdByQuery||"id:"+G).then(function(H){return H.results[0]||{}})});q()(C).then(function(D){var G=B();v({type:b,payload:{currentSection:G.parameters.section,customSections:G.settings.config.customSections,groups:D}});E.resolve()})}else E.resolve();return E},r=Object(f.a)(function(v,B){var C=v.settings.utils,A=C.request;C=C.portal;return B.staticSchema?(A=new z.a,A.resolve({categorySchema:B.staticSchema}),
A.then(function(E){return E})):"group"===B.type?Object(n.f)(A,C,B.id):Object(n.j)(A,C,B.id)})},265:function(f,g,l){function u(n){if(0<n.length){var h=z.a.filter(function(e){return-1===n.indexOf(e)}).filter(function(e){return n.reduce(function(d,a){return-1<e.indexOf(a)||d},!1)});return'((type:"'+n.join('" OR type:"')+'")'+(0<h.length?' AND (-type:"'+h.join('" AND -type:"')+'")':"")+")"}return""}l.d(g,"a",function(){return x});var q=l(0),z=l(141);f=l(15);var x=Object(f.a)(function(n,h,e){var d=h.itemTypeFilter,
a=h.allowedItemTypes;h=h.specialItemQ;return d?0<a.length&&h?Object(q.g)(Object(q.g)([],e),[n[d.value]+" AND ("+h+" OR ("+u(a)+"))"]):0<a.length||h?Object(q.g)(Object(q.g)([],e),[n[d.value]+" AND ("+(h?""+h:""+u(a))+")"]):Object(q.g)(Object(q.g)([],e),[""+n[d.value]]):h?Object(q.g)(Object(q.g)([],e),["("+h+") "+(0<a.length?"OR ("+u(a)+")":"")]):Object(q.g)(Object(q.g)([],e),[u(a)])})},266:function(f,g,l){l.d(g,"a",function(){return x});l.d(g,"b",function(){return n});l.d(g,"c",function(){return h});
l.d(g,"d",function(){return e});f=l(65);var u=l.n(f);f=l(56);var q=l.n(f),z=l(30),x="LOADING_ORG_INFO",n="UPDATE_ORG_INFO",h="UPDATE_ORG_INFO_FAILED",e=function(){return function(d,a){var b=a();if("loaded"===b.results.organization.status)return(new q.a).resolve();if("failed"===b.results.organization.status)return(new q.a).reject();d({type:x});var c=b.settings.utils;b=c.request;c=c.portal;var k=[Object(z.j)(b,c).then(function(r){return r.categorySchema}),Object(z.c)(b,c).then(function(r){return r.data.results})];
return c.isPortal&&k.push(Object(z.o)(b,c).then(function(r){return r.servers})),u()(k).then(function(r){d({type:n,payload:{schema:r[0],groups:r[1],servers:r[2]}})},function(r){d({type:h})})}}},28:function(f,g,l){(function(u,q){f.exports=function(){function z(){var ia=setTimeout;return function(){return ia(x,1)}}function x(){for(var ia=0;ia<E;ia+=2)(0,N[ia])(N[ia+1]),N[ia]=void 0,N[ia+1]=void 0;E=0}function n(ia,U){var ja=this,S=new this.constructor(e);void 0===S[ka]&&C(S);var O=ja._state;if(O){var I=
arguments[O-1];D(function(){return B(O,S,I,ja._result)})}else r(ja,S,ia,U);return S}function h(ia){if(ia&&"object"==typeof ia&&ia.constructor===this)return ia;var U=new this(e);return a(U,ia),U}function e(){}function d(ia,U,ja){U.constructor===ia.constructor&&ja===n&&U.constructor.resolve===h?function(S,O){1===O._state?c(S,O._result):2===O._state?k(S,O._result):r(O,void 0,function(I){return a(S,I)},function(I){return k(S,I)})}(ia,U):void 0===ja?c(ia,U):"function"==typeof ja?function(S,O,I){D(function(ba){var W=
!1,aa=function(P,L,Q,X){try{P.call(L,Q,X)}catch(Y){return Y}}(I,O,function(P){W||(W=!0,O!==P?a(ba,P):c(ba,P))},function(P){W||(W=!0,k(ba,P))},ba._label);!W&&aa&&(W=!0,k(ba,aa))},S)}(ia,U,ja):c(ia,U)}function a(ia,U){if(ia===U)k(ia,new TypeError("You cannot resolve a promise with itself"));else if(S=typeof(ja=U),null===ja||"object"!==S&&"function"!==S)c(ia,U);else{ja=void 0;try{ja=U.then}catch(O){return void k(ia,O)}d(ia,U,ja)}var ja,S}function b(ia){ia._onerror&&ia._onerror(ia._result);v(ia)}function c(ia,
U){void 0===ia._state&&(ia._result=U,ia._state=1,0!==ia._subscribers.length&&D(v,ia))}function k(ia,U){void 0===ia._state&&(ia._state=2,ia._result=U,D(b,ia))}function r(ia,U,ja,S){var O=ia._subscribers,I=O.length;ia._onerror=null;O[I]=U;O[I+1]=ja;O[I+2]=S;0===I&&ia._state&&D(v,ia)}function v(ia){var U=ia._subscribers,ja=ia._state;if(0!==U.length){for(var S=void 0,O=void 0,I=ia._result,ba=0;ba<U.length;ba+=3)S=U[ba],O=U[ba+ja],S?B(ja,S,O,I):O(I);ia._subscribers.length=0}}function B(ia,U,ja,S){var O=
"function"==typeof ja,I=void 0,ba=void 0,W=!0;if(O){try{I=ja(S)}catch(aa){W=!1,ba=aa}if(U===I)return void k(U,new TypeError("A promises callback cannot return that same promise."))}else I=S;void 0!==U._state||(O&&W?a(U,I):!1===W?k(U,ba):1===ia?c(U,I):2===ia&&k(U,I))}function C(ia){ia[ka]=la++;ia._state=void 0;ia._result=void 0;ia._subscribers=[]}var A=Array.isArray?Array.isArray:function(ia){return"[object Array]"===Object.prototype.toString.call(ia)},E=0,F=void 0,w=void 0,D=function(ia,U){N[E]=ia;
N[E+1]=U;2===(E+=2)&&(w?w(x):ea())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var M="undefined"==typeof self&&void 0!==u&&"[object process]"==={}.toString.call(u),R="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,N=Array(1E3),K,V,Z,ca,ea=void 0;M?ea=function(){return u.nextTick(x)}:H?(V=0,Z=new H(x),ca=document.createTextNode(""),Z.observe(ca,{characterData:!0}),ea=function(){ca.data=
V=++V%2}):R?((K=new MessageChannel).port1.onmessage=x,ea=function(){return K.port2.postMessage(0)}):ea=void 0===G?function(){try{var ia=Function("return this")().require("vertx");return void 0!==(F=ia.runOnLoop||ia.runOnContext)?function(){F(x)}:z()}catch(U){return z()}}():z();var ka=Math.random().toString(36).substring(2),la=0,ta=function(){function ia(U,ja){this._instanceConstructor=U;this.promise=new U(e);this.promise[ka]||C(this.promise);A(ja)?(this.length=ja.length,this._remaining=ja.length,
this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(ja),0===this._remaining&&c(this.promise,this._result))):k(this.promise,Error("Array Methods must be provided an Array"))}return ia.prototype._enumerate=function(U){for(var ja=0;void 0===this._state&&ja<U.length;ja++)this._eachEntry(U[ja],ja)},ia.prototype._eachEntry=function(U,ja){var S=this._instanceConstructor,O=S.resolve;if(O===h){var I=O=void 0,ba=!1;try{O=U.then}catch(W){ba=
!0,I=W}O===n&&void 0!==U._state?this._settledAt(U._state,ja,U._result):"function"!=typeof O?(this._remaining--,this._result[ja]=U):S===za?(S=new S(e),ba?k(S,I):d(S,U,O),this._willSettleAt(S,ja)):this._willSettleAt(new S(function(W){return W(U)}),ja)}else this._willSettleAt(O(U),ja)},ia.prototype._settledAt=function(U,ja,S){var O=this.promise;void 0===O._state&&(this._remaining--,2===U?k(O,S):this._result[ja]=S);0===this._remaining&&c(O,this._result)},ia.prototype._willSettleAt=function(U,ja){var S=
this;r(U,void 0,function(O){return S._settledAt(1,ja,O)},function(O){return S._settledAt(2,ja,O)})},ia}(),za=function(){function ia(U){this[ka]=la++;this._result=this._state=void 0;this._subscribers=[];if(e!==U){if("function"!=typeof U)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ia)(function(ja,S){try{S(function(O){a(ja,O)},function(O){k(ja,O)})}catch(O){k(ja,O)}})(this,U);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return ia.prototype["catch"]=function(U){return this.then(null,U)},ia.prototype["finally"]=function(U){var ja=this.constructor;return"function"==typeof U?this.then(function(S){return ja.resolve(U()).then(function(){return S})},function(S){return ja.resolve(U()).then(function(){throw S;})}):this.then(U,U)},ia}();return za.prototype.then=n,za.all=function(ia){return(new ta(this,ia)).promise},za.race=function(ia){var U=this;return A(ia)?new U(function(ja,S){for(var O=ia.length,I=0;I<O;I++)U.resolve(ia[I]).then(ja,
S)}):new U(function(ja,S){return S(new TypeError("You must pass an array to race."))})},za.resolve=h,za.reject=function(ia){var U=new this(e);return k(U,ia),U},za._setScheduler=function(ia){w=ia},za._setAsap=function(ia){D=ia},za._asap=D,za.polyfill=function(){var ia=void 0;if(void 0!==q)ia=q;else if("undefined"!=typeof self)ia=self;else try{ia=Function("return this")()}catch(S){throw Error("polyfill failed because global object is unavailable in this environment");}var U=ia.Promise;if(U){var ja=
null;try{ja=Object.prototype.toString.call(U.resolve())}catch(S){}if("[object Promise]"===ja&&!U.cast)return}ia.Promise=za},za.Promise=za,za}()}).call(this,l(189),l(170))},286:function(f,g,l){l.d(g,"b",function(){return d});l.d(g,"a",function(){return a});l.d(g,"c",function(){return b});var u=l(0);f=l(65);var q=l.n(f);f=l(56);var z=l.n(f),x=l(30),n=l(51),h=l(78),e=l(126),d="UPDATE_FULL_ITEM_DETAILS",a="FETCH_FULL_ITEM_DETAILS_FAILED",b=function(c){return function(k,r){var v=r(),B=Object(e.a)(v),C=
v.settings.utils.request,A=[];A.push(Object(x.r)(C,B,c.owner).then(function(F){return Object(n.m)(B,F)},function(F){throw F;}));var E=B.restUrl+"/content/items/"+c.id;B.user&&c.owner===B.user.username&&(E=B.restUrl+"/content/users/"+B.user.username+"/items/"+c.id);A.push(Object(x.v)(C,E).then(function(F){if(F.item&&F.sharing){var w=new z.a;return Object(x.v)(C,B.restUrl+"/community/groups",{q:"id: "+F.sharing.groups.map(function(D){return'"'+D+'"'}).join(" OR ")}).then(function(D){return w.resolve(Object(u.a)(Object(u.a)({},
Object(h.a)(B,v.settings.utils.iconDir,F.item)),{sharing:F.sharing,sharedToGroups:D.results}))},function(D){return w.reject(D)}),w}return Object(h.a)(B,v.settings.utils.iconDir,F)},function(F){throw c.id;}));q()(A).then(function(F){k({type:d,payload:{item:F[1],owner:F[0]}})},function(F){k({type:a,payload:F})})}}},288:function(f,g,l){l.d(g,"a",function(){return u});l.d(g,"b",function(){return q});var u="CHANGE_SEARCH_SECTION",q=function(z){return function(x,n){var h=n();x({type:u,payload:{newSection:z,
customSections:h.settings.config.customSections,customSectionGroupSort:h.results.customSections.groupSort}})}}},290:function(f,g,l){l.d(g,"b",function(){return u});l.d(g,"a",function(){return q});l.d(g,"d",function(){return z});l.d(g,"c",function(){return x});var u="CHANGE_SORT_ORDER",q="CHANGE_SORT_FIELD",z=function(n){return{type:u,payload:n}},x=function(n){return{type:q,payload:n}}},295:function(f,g,l){l.d(g,"b",function(){return n});l.d(g,"a",function(){return h});l.d(g,"c",function(){return e});
l.d(g,"d",function(){return d});var u=l(162),q=l(78),z=l(217),x=l(199),n="CHANGE_PAGE_SUCCESS",h="CHANGE_PAGE_FAIL",e="CHANGING_PAGE",d=function(a){return function(b,c){var k=c();b({type:e,payload:a});var r=k.settings.utils,v=r.portal,B=r.iconDir;r=k.settings.utils.request;var C=k.settings.config.resultsPerQuery;C=Object(u.b)({num:C,start:(a-1)*C+1},k);r(C[0],C[1]).then(Object(z.a)(k),function(A){return b({type:h,payload:{err:A}})}).then(function(A){b({type:n,payload:{organizations:A.data.organizations,
displayItems:A.data.results.map(function(E){return Object(q.a)(v,B,E)}),page:a}});b(x.e)},function(A){return b({type:h,payload:{err:A}})})}}},30:function(f,g,l){function u(N){return N.reduce(function(K,V){return V&&V.relatedItems?K.concat(V.relatedItems.map(function(Z){return Z})):K},[])}function q(N,K,V){return N(K,{query:Object(n.a)({f:"json"},V)}).then(function(Z){return Z.data})}function z(N,K){void 0===K&&(K=100);for(var V=[],Z=0;Z<Math.ceil(N.length/K);Z++)V.push(N.slice(Z*K,(Z+1)*K));return V.filter(function(ca){return 0<
ca.length})}function x(N){var K=N.itemIds,V=N.request,Z=N.groupIds,ca=N.portal.restUrl+"/content/itemsgroups";return new h.Promise(function(ea,ka){V(ca,{method:"get",query:{f:"json",items:K,groups:Z}}).then(function(la){ea(la.data)},ka)})}l.d(g,"u",function(){return e});l.d(g,"n",function(){return d});l.d(g,"h",function(){return a});l.d(g,"e",function(){return b});l.d(g,"f",function(){return c});l.d(g,"j",function(){return k});l.d(g,"o",function(){return r});l.d(g,"l",function(){return v});l.d(g,
"k",function(){return B});l.d(g,"m",function(){return C});l.d(g,"c",function(){return A});l.d(g,"d",function(){return E});l.d(g,"r",function(){return F});l.d(g,"s",function(){return w});l.d(g,"t",function(){return D});l.d(g,"g",function(){return G});l.d(g,"p",function(){return H});l.d(g,"q",function(){return M});l.d(g,"v",function(){return q});l.d(g,"a",function(){return z});l.d(g,"i",function(){return x});l.d(g,"b",function(){return R});var n=l(0),h=l(28),e=function(N){return function(K,V){return N({url:K,
content:V.query},{usePost:"post"===V.method}).then(function(Z){return{data:Z}})}},d=function(N,K,V){return q(N,K.restUrl+"/portals/self",{culture:V,"default":!0})},a=function(N,K,V){return q(N,K.restUrl+"/content/items/"+V+"/data")},b=function(N,K,V,Z){return q(N,K.restUrl+"/community/groups",Object(n.a)({q:V},Z))},c=function(N,K,V){return q(N,K.restUrl+"/community/groups/"+V+"/categorySchema")},k=function(N,K,V){return q(N,K.restUrl+"/portals/"+(V||K.id)+"/categorySchema")},r=function(N,K){return q(N,
K.restUrl+"/portals/"+K.id+"/servers")},v=function(N,K,V,Z){return N(K.restUrl+"/portals/"+(V||K.id)+"/collaborationsSummary",Z)},B=function(N,K,V,Z){return N(K.restUrl+"/portals/"+(V||K.id)+"/collaboratedItems",Z)},C=function(N,K,V){return q(N,location.protocol+"//"+K.portalHostname+"/sharing/rest/portals/"+(V||"self"))},A=function(N,K,V){return N(K.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+K.id+" AND access:public",num:100,start:V||1,sortField:"title",sortOrder:"asc"}}).then(function(Z){return Z.data.total>
Z.data.start+Z.data.num?A(N,K,Z.data.start+Z.data.num).then(function(ca){return Object(n.a)(Object(n.a)({},ca),{data:Object(n.a)(Object(n.a)({},ca.data),{results:Z.data.results.concat(ca.data.results)})})}):Z})},E=function(N,K,V,Z){return N(K.restUrl+"/community/users/"+V+"/provisionedListings",{query:{f:"json",num:100,start:Z||1}}).then(function(ca){var ea=h.Promise.all(ca.data.provisionedListings.filter(function(la){return la.itemId}).map(function(la){return(new h.Promise(function(ta,za){N(K.restUrl+
"/content/items/"+la.itemId,{method:"get",query:{f:"json"}}).then(function(ia){ta(ia.data)},za)}))["catch"](function(ta){return 0})})),ka=ca.data.provisionedListings.map(function(la){return q(N,K.restUrl+"/content/items/"+(la.id||la.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ta){return ta},function(ta){})});return ca.data.total>ca.data.start+ca.data.num?E(N,K,V,ca.data.start+ca.data.num).then(function(la){return h.Promise.all([ea].concat(ka)).then(function(ta){return ta[0].results.concat(u(ta.slice(1))).concat(la)})}):
h.Promise.all([ea].concat(ka)).then(function(la){return la[0].filter(function(ta){return void 0!==ta}).concat(u(la.slice(1)))})})},F=function(N,K,V){return q(N,K.restUrl+"/community/users/"+(V||K.user.username))},w=function(N,K,V){return q(N,K.restUrl+"/content/users/"+(V||K.user.username),{num:1})},D=function(N,K,V){return q(N,K.restUrl+"/content/groups/"+V)},G=function(N,K,V){return q(N,K.restUrl+"/community/groups",V)},H=function(N,K){return q(N,K.restUrl+"/portals/self/settings")},M=function(N,
K){return q(N,K.restUrl+"/portals/self/trustedOrgs",{num:100})},R=function(N,K){return void 0===K&&(K=","),N.map(function(V){return V.id}).join(K)}},309:function(f,g,l){function u(q,z,x){return Promise.all(q.map(function(n){return function(h,e,d){return new Promise(function(a,b){d(e.restUrl+"/community/users/"+h,{method:"get",query:{f:"json"}}).then(function(c){return a(null==c?void 0:c.data)},b)})}(n,z,x)}))}l.d(g,"a",function(){return u})},323:function(f,g,l){l.d(g,"b",function(){return q});l.d(g,
"a",function(){return z});var u=l(0);f=l(15);f=Object(f.a)(function(x,n,h){return n?Object(u.g)(Object(u.g)([],h),["("+x+":["+(n.start+" TO "+n.end+"])")]):h});var q=f("modified"),z=f("uploaded")},324:function(f,g,l){l.d(g,"b",function(){return q});l.d(g,"a",function(){return z});var u=l(0);f=l(15);var q=Object(f.a)(function(x,n){if(x){var h=Object.keys(x);if(0<h.length)return Object(u.g)(Object(u.g)([],n),["tags:("+h.join(" AND ")+")"])}return n}),z=Object(f.a)(function(x,n){return 2<x.length?Object(u.g)(Object(u.g)([],
n),["tags:("+x+"* OR "+x+")"]):n})},325:function(f,g,l){l.d(g,"a",function(){return q});f=l(63);g=l(101);var u=l(227);l=l(228);var q=Object(f.a)(u.a,l.a,g.b)},326:function(f,g,l){l.d(g,"a",function(){return n});l.d(g,"b",function(){return h});f=l(56);var u=l.n(f),q=l(30),z=l(325),x=l(150),n="UPDATE_PORTAL_SELF",h=function(){return function(e,d){var a=d(),b=a.settings.utils,c=b.portal;b=b.request;var k=c.user&&c.user.culture?c.user.culture:x.locale;return a.settings.utils.self?(new u.a).resolve(a.settings.utils.self):
Object(q.n)(b,c,k).then(function(r){r=Object(z.a)(r);return e({type:n,payload:{self:r,config:a.settings.config}}),r})}}},327:function(f,g,l){l.d(g,"a",function(){return h});l.d(g,"b",function(){return e});l.d(g,"c",function(){return d});l.d(g,"d",function(){return a});var u=l(0),q=l(36);f=l(56);var z=l.n(f),x=l(150),n=l(402),h="LOADING_LIVING_ATLAS_INFO",e="UPDATE_LIVING_ATLAS_INFO",d="FETCH_LIVING_ATLAS_INFO_FAILED",a=function(b){return function(c,k){var r=k();if("loaded"===r.results.livingAtlas.status)return(new z.a).resolve();
if("failed"===r.results.livingAtlas.status)return(new z.a).reject();c({type:h});r=r.settings.utils;var v=r.portal;return Object(n.a)(r.request,v,b,v.user&&v.user.culture?v.user.culture:x.locale).then(function(B){c({type:e,payload:Object(u.a)(Object(u.a)({},B),{schema:B.schema.map(function(C){return"region"===C.title?Object(u.a)(Object(u.a)({},C),{displayName:q.regions}):C})})})},function(B){c({type:d})})}}},328:function(f,g,l){l.d(g,"a",function(){return n});var u=l(30),q=l(49);f=l(65);var z=l.n(f),
x=function(h,e,d){h({type:"LOADING_COLLABORATIONS"});var a=[];Object.keys(d).forEach(function(c){a[c]=[];0<d[c].participants.length&&d[c].participants.forEach(function(k){a[k.value]=[]})});var b=Object.keys(a).map(function(c){c=c.split("__");var k=c[0],r=c[1]?c[1]:"";return Object(u.k)(e.settings.utils.request,e.settings.utils.portal,e.settings.utils.portal.id,{query:""!==r?{collaborationId:k,participantId:r,f:"json"}:{collaborationId:k,f:"json"}}).then(function(v){(v.data.collaboratedItems||v.collaboratedItems).forEach(function(B){if(r){var C=
k+"__"+r;d[k].participants.filter(function(A){return A.value===C})[0].items.push(Object.keys(B)[0])}else d[k].items.push(Object.keys(B)[0])})},function(){return h({type:"LOADING_COLLABORATIONS_FAILED"})})});return z()(b).then(function(){h(Object(q.s)(d));h({type:"LOADING_COLLABORATIONS_SUCCESS",payload:d})})},n=function(h,e){if(h({type:"LOADING_COLLABORATIONS"}),e&&e.parameters&&e.parameters.filter&&e.parameters.filter.origins&&0<Object.keys(e.parameters.filter.origins).length){var d=e.parameters.filter.origins;
return h(Object(q.s)(d)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:d}}return Object(u.l)(e.settings.utils.request,e.settings.utils.portal,e.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(a){var b=[];a.data&&a.data.collaborations&&a.data.collaborations.forEach(function(c){var k=c.collaborationId,r=c.collaborationName.trim();b[k]={value:k,label:r,addClass:"",childOf:"",selected:!1,participants:[],items:[]};c.participants&&(b[k].participants=c.participants.map(function(v){return 1===
(v=Object.keys(v).map(function(B){var C=v[B].trim();return{value:k+"__"+B,label:C,childOf:k,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?v[0]:v}))});x(h,e,b).then(function(){return h(Object(q.s)(b))},function(){return h({type:"LOADING_COLLABORATIONS_FAILED"})})},function(a){return h({type:"LOADING_COLLABORATIONS_FAILED",payload:a})})}},329:function(f,g,l){function u(q){return"string"==typeof q?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(q):
!!q.filters&&-1<q.filters.indexOf("tags")}l.d(g,"a",function(){return u})},336:function(f,g,l){(function(u,q){function z(oa,xa){return oa.set(xa[0],xa[1]),oa}function x(oa,xa){return oa.add(xa),oa}function n(oa,xa,ra,fa){var pa=-1,ua=oa?oa.length:0;for(fa&&ua&&(ra=oa[++pa]);++pa<ua;)ra=xa(ra,oa[pa],pa,oa);return ra}function h(oa){var xa=!1;if(null!=oa&&"function"!=typeof oa.toString)try{xa=!!(oa+"")}catch(ra){}return xa}function e(oa){var xa=-1,ra=Array(oa.size);return oa.forEach(function(fa,pa){ra[++xa]=
[pa,fa]}),ra}function d(oa,xa){return function(ra){return oa(xa(ra))}}function a(oa){var xa=-1,ra=Array(oa.size);return oa.forEach(function(fa){ra[++xa]=fa}),ra}function b(oa){var xa=-1,ra=oa?oa.length:0;for(this.clear();++xa<ra;){var fa=oa[xa];this.set(fa[0],fa[1])}}function c(oa){var xa=-1,ra=oa?oa.length:0;for(this.clear();++xa<ra;){var fa=oa[xa];this.set(fa[0],fa[1])}}function k(oa){var xa=-1,ra=oa?oa.length:0;for(this.clear();++xa<ra;){var fa=oa[xa];this.set(fa[0],fa[1])}}function r(oa){this.__data__=
new c(oa)}function v(oa,xa){var ra=Fa(oa)||function(Ea){return!!Ea&&"object"==typeof Ea&&R(Ea)&&ba.call(Ea,"callee")&&(!X.call(Ea,"callee")||"[object Arguments]"==W.call(Ea))}(oa)?function(Ea,Da){for(var Ca=-1,Ia=Array(Ea);++Ca<Ea;)Ia[Ca]=Da(Ca);return Ia}(oa.length,String):[],fa=ra.length,pa=!!fa,ua;for(ua in oa)!xa&&!ba.call(oa,ua)||pa&&("length"==ua||G(ua,fa))||ra.push(ua);return ra}function B(oa,xa,ra){var fa=oa[xa];ba.call(oa,xa)&&(fa===ra||fa!=fa&&ra!=ra)&&(void 0!==ra||xa in oa)||(oa[xa]=ra)}
function C(oa,xa){for(var ra=oa.length;ra--;){var fa=oa[ra][0];if(fa===xa||fa!=fa&&xa!=xa)return ra}return-1}function A(oa,xa,ra,fa,pa,ua,Ea){var Da;if(fa&&(Da=ua?fa(oa,pa,ua,Ea):fa(oa)),void 0!==Da)return Da;if(!K(oa))return oa;if(pa=Fa(oa)){if(Da=function(Ga){var Ma=Ga.length,Ha=Ga.constructor(Ma);Ma&&"string"==typeof Ga[0]&&ba.call(Ga,"index")&&(Ha.index=Ga.index,Ha.input=Ga.input);return Ha}(oa),!xa)return function(Ga,Ma){var Ha=-1,Ka=Ga.length;for(Ma||(Ma=Array(Ka));++Ha<Ka;)Ma[Ha]=Ga[Ha];return Ma}(oa,
Da)}else{var Ca=va(oa),Ia="[object Function]"==Ca||"[object GeneratorFunction]"==Ca;if(qa(oa))return function(Ga,Ma){if(Ma)return Ga.slice();var Ha=new Ga.constructor(Ga.length);return Ga.copy(Ha),Ha}(oa,xa);if("[object Object]"==Ca||"[object Arguments]"==Ca||Ia&&!ua){if(h(oa))return ua?oa:{};if(Da=function(Ga){return"function"!=typeof Ga.constructor||H(Ga)?{}:(Ma=L(Ga),K(Ma)?Q(Ma):{});var Ma}(Ia?{}:oa),!xa)return function(Ga,Ma){return F(Ga,Ja(Ga),Ma)}(oa,function(Ga,Ma){return Ga&&F(Ma,V(Ma),Ga)}(Da,
oa))}else{if(!ka[Ca])return ua?oa:{};Da=function(Ga,Ma,Ha,Ka){var Na=Ga.constructor;switch(Ma){case "[object ArrayBuffer]":return E(Ga);case "[object Boolean]":case "[object Date]":return new Na(+Ga);case "[object DataView]":return function(Pa,Ra){var Sa=Ra?E(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.byteLength)}(Ga,Ka);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Pa,
Ra){var Sa=Ra?E(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.length)}(Ga,Ka);case "[object Map]":return function(Pa,Ra,Sa){return n(Ra?Sa(e(Pa),!0):e(Pa),z,new Pa.constructor)}(Ga,Ka,Ha);case "[object Number]":case "[object String]":return new Na(Ga);case "[object RegExp]":return function(Pa){var Ra=new Pa.constructor(Pa.source,Z.exec(Pa));return Ra.lastIndex=Pa.lastIndex,Ra}(Ga);case "[object Set]":return function(Pa,Ra,Sa){return n(Ra?Sa(a(Pa),!0):a(Pa),x,new Pa.constructor)}(Ga,
Ka,Ha);case "[object Symbol]":return Qa=Ga,Oa?Object(Oa.call(Qa)):{}}var Qa}(oa,Ca,A,xa)}}Ea||(Ea=new r);if(ua=Ea.get(oa))return ua;if(Ea.set(oa,Da),!pa)var La=ra?function(Ga){var Ma=Ja,Ha=V(Ga);if(!Fa(Ga)){Ga=Ma(Ga);Ma=-1;for(var Ka=Ga.length,Na=Ha.length;++Ma<Ka;)Ha[Na+Ma]=Ga[Ma]}return Ha}(oa):V(oa);return function(Ga,Ma){for(var Ha=-1,Ka=Ga?Ga.length:0;++Ha<Ka&&!1!==Ma(Ga[Ha],Ha,Ga););}(La||oa,function(Ga,Ma){La&&(Ga=oa[Ma=Ga]);B(Da,Ma,A(Ga,xa,ra,fa,Ma,oa,Ea))}),Da}function E(oa){var xa=new oa.constructor(oa.byteLength);
return(new P(xa)).set(new P(oa)),xa}function F(oa,xa,ra,fa){ra||(ra={});for(var pa=-1,ua=xa.length;++pa<ua;){var Ea=xa[pa],Da=fa?fa(ra[Ea],oa[Ea],Ea,ra,oa):void 0;B(ra,Ea,void 0===Da?oa[Ea]:Da)}return ra}function w(oa,xa){var ra,fa=oa.__data__;return("string"==(ra=typeof xa)||"number"==ra||"symbol"==ra||"boolean"==ra?"__proto__"!==xa:null===xa)?fa["string"==typeof xa?"string":"hash"]:fa.map}function D(oa,xa){var ra=null==oa?void 0:oa[xa];a:{var fa=!(!K(ra)||(pa=ra,O&&O in pa))&&(N(ra)||h(ra)?aa:ca).test(M(ra));
break a;var pa}return fa?ra:void 0}function G(oa,xa){return!!(xa=null==xa?9007199254740991:xa)&&("number"==typeof oa||ea.test(oa))&&-1<oa&&0==oa%1&&oa<xa}function H(oa){var xa=oa&&oa.constructor;return oa===("function"==typeof xa&&xa.prototype||ja)}function M(oa){if(null!=oa){try{return I.call(oa)}catch(xa){}return oa+""}return""}function R(oa){var xa;if(xa=null!=oa)xa=oa.length,xa="number"==typeof xa&&-1<xa&&0==xa%1&&9007199254740991>=xa;return xa&&!N(oa)}function N(oa){oa=K(oa)?W.call(oa):"";return"[object Function]"==
oa||"[object GeneratorFunction]"==oa}function K(oa){var xa=typeof oa;return!!oa&&("object"==xa||"function"==xa)}function V(oa){if(R(oa))oa=v(oa);else if(H(oa)){var xa=[],ra;for(ra in Object(oa))ba.call(oa,ra)&&"constructor"!=ra&&xa.push(ra);oa=xa}else oa=da(oa);return oa}var Z=/\w*$/,ca=/^\[object .+?Constructor\]$/,ea=/^(?:0|[1-9]\d*)$/,ka={};ka["[object Arguments]"]=ka["[object Array]"]=ka["[object ArrayBuffer]"]=ka["[object DataView]"]=ka["[object Boolean]"]=ka["[object Date]"]=ka["[object Float32Array]"]=
ka["[object Float64Array]"]=ka["[object Int8Array]"]=ka["[object Int16Array]"]=ka["[object Int32Array]"]=ka["[object Map]"]=ka["[object Number]"]=ka["[object Object]"]=ka["[object RegExp]"]=ka["[object Set]"]=ka["[object String]"]=ka["[object Symbol]"]=ka["[object Uint8Array]"]=ka["[object Uint8ClampedArray]"]=ka["[object Uint16Array]"]=ka["[object Uint32Array]"]=!0;ka["[object Error]"]=ka["[object Function]"]=ka["[object WeakMap]"]=!1;var la="object"==typeof self&&self&&self.Object===Object&&self;
la="object"==typeof u&&u&&u.Object===Object&&u||la||Function("return this")();var ta=g&&!g.nodeType&&g,za=ta&&"object"==typeof q&&q&&!q.nodeType&&q;za=za&&za.exports===ta;var ia;ta=Array.prototype;var U=Function.prototype,ja=Object.prototype,S=la["__core-js_shared__"],O=(ia=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+ia:"",I=U.toString,ba=ja.hasOwnProperty,W=ja.toString,aa=RegExp("^"+I.call(ba).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$");za=za?la.Buffer:void 0;ia=la.Symbol;var P=la.Uint8Array,L=d(Object.getPrototypeOf,Object),Q=Object.create,X=ja.propertyIsEnumerable,Y=ta.splice;ta=Object.getOwnPropertySymbols;za=za?za.isBuffer:void 0;var da=d(Object.keys,Object);U=D(la,"DataView");var ha=D(la,"Map");S=D(la,"Promise");var ma=D(la,"Set");la=D(la,"WeakMap");var na=D(Object,"create"),sa=M(U),wa=M(ha),ya=M(S),Aa=M(ma),Ba=M(la),Oa=(ia=ia?ia.prototype:void 0)?ia.valueOf:void 0;b.prototype.clear=function(){this.__data__=na?
na(null):{}};b.prototype["delete"]=function(oa){return this.has(oa)&&delete this.__data__[oa]};b.prototype.get=function(oa){var xa=this.__data__;return na?(oa=xa[oa],"__lodash_hash_undefined__"===oa?void 0:oa):ba.call(xa,oa)?xa[oa]:void 0};b.prototype.has=function(oa){var xa=this.__data__;return na?void 0!==xa[oa]:ba.call(xa,oa)};b.prototype.set=function(oa,xa){return this.__data__[oa]=na&&void 0===xa?"__lodash_hash_undefined__":xa,this};c.prototype.clear=function(){this.__data__=[]};c.prototype["delete"]=
function(oa){var xa=this.__data__;oa=C(xa,oa);return!(0>oa)&&(oa==xa.length-1?xa.pop():Y.call(xa,oa,1),!0)};c.prototype.get=function(oa){var xa=this.__data__;oa=C(xa,oa);return 0>oa?void 0:xa[oa][1]};c.prototype.has=function(oa){return-1<C(this.__data__,oa)};c.prototype.set=function(oa,xa){var ra=this.__data__,fa=C(ra,oa);return 0>fa?ra.push([oa,xa]):ra[fa][1]=xa,this};k.prototype.clear=function(){this.__data__={hash:new b,map:new (ha||c),string:new b}};k.prototype["delete"]=function(oa){return w(this,
oa)["delete"](oa)};k.prototype.get=function(oa){return w(this,oa).get(oa)};k.prototype.has=function(oa){return w(this,oa).has(oa)};k.prototype.set=function(oa,xa){return w(this,oa).set(oa,xa),this};r.prototype.clear=function(){this.__data__=new c};r.prototype["delete"]=function(oa){return this.__data__["delete"](oa)};r.prototype.get=function(oa){return this.__data__.get(oa)};r.prototype.has=function(oa){return this.__data__.has(oa)};r.prototype.set=function(oa,xa){var ra=this.__data__;if(ra instanceof
c){ra=ra.__data__;if(!ha||199>ra.length)return ra.push([oa,xa]),this;ra=this.__data__=new k(ra)}return ra.set(oa,xa),this};var Ja=ta?d(ta,Object):function(){return[]},va=function(oa){return W.call(oa)};(U&&"[object DataView]"!=va(new U(new ArrayBuffer(1)))||ha&&"[object Map]"!=va(new ha)||S&&"[object Promise]"!=va(S.resolve())||ma&&"[object Set]"!=va(new ma)||la&&"[object WeakMap]"!=va(new la))&&(va=function(oa){var xa=W.call(oa);if(oa=(oa="[object Object]"==xa?oa.constructor:void 0)?M(oa):void 0)switch(oa){case sa:return"[object DataView]";
case wa:return"[object Map]";case ya:return"[object Promise]";case Aa:return"[object Set]";case Ba:return"[object WeakMap]"}return xa});var Fa=Array.isArray,qa=za||function(){return!1};q.exports=function(oa){return A(oa,!0,!0)}}).call(this,l(170),l(366)(f))},356:function(f,g,l){function u(z){var x;z=Object(q.a)(z);return!0===(null===(x=z.portalProperties)||void 0===x?void 0:x.semanticSearchEnabled)||z.portalUser&&!z.portalUser.orgId}l.d(g,"a",function(){return u});var q=l(126)},357:function(f,g,l){l.d(g,
"a",function(){return q});l.d(g,"b",function(){return z});var u=l(286),q="VIEW_ITEM_DETAILS",z=function(x){return function(n){n({type:q,payload:x});n(Object(u.c)(x))}}},36:function(f,g){f.exports=J},366:function(f,g){f.exports=function(l){return l.webpackPolyfill||(l.deprecate=function(){},l.paths=[],l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),l.webpackPolyfill=1),
l}},386:function(f,g,l){(function(u,q){function z(ra,fa,pa){switch(pa.length){case 0:return ra.call(fa);case 1:return ra.call(fa,pa[0]);case 2:return ra.call(fa,pa[0],pa[1]);case 3:return ra.call(fa,pa[0],pa[1],pa[2])}return ra.apply(fa,pa)}function x(ra){var fa=-1,pa=null==ra?0:ra.length;for(this.clear();++fa<pa;){var ua=ra[fa];this.set(ua[0],ua[1])}}function n(ra){var fa=-1,pa=null==ra?0:ra.length;for(this.clear();++fa<pa;){var ua=ra[fa];this.set(ua[0],ua[1])}}function h(ra){var fa=-1,pa=null==
ra?0:ra.length;for(this.clear();++fa<pa;){var ua=ra[fa];this.set(ua[0],ua[1])}}function e(ra){this.size=(this.__data__=new n(ra)).size}function d(ra,fa,pa){(void 0===pa||w(ra[fa],pa))&&(void 0!==pa||fa in ra)||b(ra,fa,pa)}function a(ra,fa){for(var pa=ra.length;pa--;)if(w(ra[pa][0],fa))return pa;return-1}function b(ra,fa,pa){"__proto__"==fa&&na?na(ra,fa,{configurable:!0,enumerable:!0,value:pa,writable:!0}):ra[fa]=pa}function c(ra){if(null==ra)ra=void 0===ra?"[object Undefined]":"[object Null]";else if(ma&&
ma in Object(ra)){var fa=I.call(ra,ma),pa=ra[ma];try{ra[ma]=void 0;var ua=!0}catch(Da){}var Ea=W.call(ra);ua&&(fa?ra[ma]=pa:delete ra[ma]);ra=Ea}else ra=W.call(ra);return ra}function k(ra){return R(ra)&&"[object Arguments]"==c(ra)}function r(ra){return!(!M(ra)||ba&&ba in ra)&&(G(ra)?P:V).test(function(fa){if(null!=fa){try{return O.call(fa)}catch(pa){}return fa+""}return""}(ra))}function v(ra,fa,pa,ua,Ea){ra!==fa&&Oa(fa,function(Da,Ca){if(Ea||(Ea=new e),M(Da))!function(La,Ga,Ma,Ha,Ka,Na,Qa){var Pa=
F(La,Ma),Ra=F(Ga,Ma),Sa=Qa.get(Ra);if(Sa)return void d(La,Ma,Sa);Ga=Na?Na(Pa,Ra,Ma+"",La,Ga,Qa):void 0;if(Sa=void 0===Ga){var Va=Fa(Ra),Ua=!Va&&qa(Ra),Ta=!Va&&!Ua&&oa(Ra);Ga=Ra;Va||Ua||Ta?Fa(Pa)?Ga=Pa:R(cb=Pa)&&D(cb)?Ga=function(Za,$a){var Ya=-1,bb=Za.length;for($a||($a=Array(bb));++Ya<bb;)$a[Ya]=Za[Ya];return $a}(Pa):Ua?(Sa=!1,Ga=function(Za,$a){if($a)return Za.slice();var Ya=Za.length;Ya=Q?Q(Ya):new Za.constructor(Ya);return Za.copy(Ya),Ya}(Ra,!0)):Ta?(Sa=!1,Xa=Ra,ab=(Wa=Xa.buffer,db=new Wa.constructor(Wa.byteLength),
(new L(db)).set(new L(Wa)),db),Ga=new Xa.constructor(ab,Xa.byteOffset,Xa.length)):Ga=[]:function(Za){if(!R(Za)||"[object Object]"!=c(Za))return!1;Za=X(Za);if(null===Za)return!0;Za=I.call(Za,"constructor")&&Za.constructor;return"function"==typeof Za&&Za instanceof Za&&O.call(Za)==aa}(Ra)||va(Ra)?(Ga=Pa,va(Pa)?Ga=function(Za){var $a=N(Za),Ya=void 0,bb=!Ya;Ya||(Ya={});for(var eb=-1,fb=$a.length;++eb<fb;){var gb=$a[eb],hb=void 0;void 0===hb&&(hb=Za[gb]);if(bb)b(Ya,gb,hb);else{var ib=Ya,jb=ib[gb];I.call(ib,
gb)&&w(jb,hb)&&(void 0!==hb||gb in ib)||b(ib,gb,hb)}}return Ya}(Pa):M(Pa)&&!G(Pa)||(Ga=function(Za){return"function"!=typeof Za.constructor||E(Za)?{}:Ba(X(Za))}(Ra))):Sa=!1}var Xa,ab,Wa,db,cb;Sa&&(Qa.set(Ra,Ga),Ka(Ga,Ra,Ha,Na,Qa),Qa["delete"](Ra));d(La,Ma,Ga)}(ra,fa,Ca,pa,v,ua,Ea);else{var Ia=ua?ua(F(ra,Ca),Da,Ca+"",ra,fa,Ea):void 0;void 0===Ia&&(Ia=Da);d(ra,Ca,Ia)}},N)}function B(ra,fa){var pa,ua=ra.__data__;return("string"==(pa=typeof fa)||"number"==pa||"symbol"==pa||"boolean"==pa?"__proto__"!==
fa:null===fa)?ua["string"==typeof fa?"string":"hash"]:ua.map}function C(ra,fa){var pa=null==ra?void 0:ra[fa];return r(pa)?pa:void 0}function A(ra,fa){var pa=typeof ra;return!!(fa=null==fa?9007199254740991:fa)&&("number"==pa||"symbol"!=pa&&Z.test(ra))&&-1<ra&&0==ra%1&&ra<fa}function E(ra){var fa=ra&&ra.constructor;return ra===("function"==typeof fa&&fa.prototype||S)}function F(ra,fa){if(("constructor"!==fa||"function"!=typeof ra[fa])&&"__proto__"!=fa)return ra[fa]}function w(ra,fa){return ra===fa||
ra!=ra&&fa!=fa}function D(ra){return null!=ra&&H(ra.length)&&!G(ra)}function G(ra){if(!M(ra))return!1;ra=c(ra);return"[object Function]"==ra||"[object GeneratorFunction]"==ra||"[object AsyncFunction]"==ra||"[object Proxy]"==ra}function H(ra){return"number"==typeof ra&&-1<ra&&0==ra%1&&9007199254740991>=ra}function M(ra){var fa=typeof ra;return null!=ra&&("object"==fa||"function"==fa)}function R(ra){return null!=ra&&"object"==typeof ra}function N(ra){if(D(ra)){var fa=Fa(ra),pa=!fa&&va(ra),ua=!fa&&!pa&&
qa(ra),Ea=!fa&&!pa&&!ua&&oa(ra);if(fa=fa||pa||ua||Ea){pa=ra.length;for(var Da=String,Ca=-1,Ia=Array(pa);++Ca<pa;)Ia[Ca]=Da(Ca);pa=Ia}else pa=[];Da=pa.length;for(var La in ra)fa&&("length"==La||ua&&("offset"==La||"parent"==La)||Ea&&("buffer"==La||"byteLength"==La||"byteOffset"==La)||A(La,Da))||pa.push(La);ra=pa}else if(M(ra)){La=E(ra);Ea=[];for(ua in ra)("constructor"!=ua||!La&&I.call(ra,ua))&&Ea.push(ua);ra=Ea}else{La=[];if(null!=ra)for(Ea in Object(ra))La.push(Ea);ra=La}return ra}function K(ra){return ra}
var V=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,ca={};ca["[object Float32Array]"]=ca["[object Float64Array]"]=ca["[object Int8Array]"]=ca["[object Int16Array]"]=ca["[object Int32Array]"]=ca["[object Uint8Array]"]=ca["[object Uint8ClampedArray]"]=ca["[object Uint16Array]"]=ca["[object Uint32Array]"]=!0;ca["[object Arguments]"]=ca["[object Array]"]=ca["[object ArrayBuffer]"]=ca["[object Boolean]"]=ca["[object DataView]"]=ca["[object Date]"]=ca["[object Error]"]=ca["[object Function]"]=ca["[object Map]"]=
ca["[object Number]"]=ca["[object Object]"]=ca["[object RegExp]"]=ca["[object Set]"]=ca["[object String]"]=ca["[object WeakMap]"]=!1;var ea="object"==typeof u&&u&&u.Object===Object&&u,ka="object"==typeof self&&self&&self.Object===Object&&self;ka=ea||ka||Function("return this")();var la=g&&!g.nodeType&&g,ta=la&&"object"==typeof q&&q&&!q.nodeType&&q;ea=(la=ta&&ta.exports===la)&&ea.process;a:{try{var za=ta&&ta.require&&ta.require("util").types||ea&&ea.binding&&ea.binding("util");break a}catch(ra){}za=
void 0}za=za&&za.isTypedArray;var ia,U,ja;ea=Array.prototype;var S=Object.prototype;ta=ka["__core-js_shared__"];var O=Function.prototype.toString,I=S.hasOwnProperty,ba=(ia=/[^.]+$/.exec(ta&&ta.keys&&ta.keys.IE_PROTO||""))?"Symbol(src)_1."+ia:"",W=S.toString,aa=O.call(Object),P=RegExp("^"+O.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ia=la?ka.Buffer:void 0;la=ka.Symbol;var L=ka.Uint8Array,Q=ia?ia.allocUnsafe:void 0,
X=(U=Object.getPrototypeOf,ja=Object,function(ra){return U(ja(ra))}),Y=Object.create,da=S.propertyIsEnumerable,ha=ea.splice,ma=la?la.toStringTag:void 0,na=function(){try{var ra=C(Object,"defineProperty");return ra({},"",{}),ra}catch(fa){}}();ia=ia?ia.isBuffer:void 0;var sa=Math.max,wa=Date.now,ya=C(ka,"Map"),Aa=C(Object,"create"),Ba=function(){function ra(){}return function(fa){if(!M(fa))return{};if(Y)return Y(fa);ra.prototype=fa;fa=new ra;return ra.prototype=void 0,fa}}();x.prototype.clear=function(){this.__data__=
Aa?Aa(null):{};this.size=0};x.prototype["delete"]=function(ra){ra=this.has(ra)&&delete this.__data__[ra];return this.size-=ra?1:0,ra};x.prototype.get=function(ra){var fa=this.__data__;return Aa?(ra=fa[ra],"__lodash_hash_undefined__"===ra?void 0:ra):I.call(fa,ra)?fa[ra]:void 0};x.prototype.has=function(ra){var fa=this.__data__;return Aa?void 0!==fa[ra]:I.call(fa,ra)};x.prototype.set=function(ra,fa){var pa=this.__data__;return this.size+=this.has(ra)?0:1,pa[ra]=Aa&&void 0===fa?"__lodash_hash_undefined__":
fa,this};n.prototype.clear=function(){this.__data__=[];this.size=0};n.prototype["delete"]=function(ra){var fa=this.__data__;ra=a(fa,ra);return!(0>ra)&&(ra==fa.length-1?fa.pop():ha.call(fa,ra,1),--this.size,!0)};n.prototype.get=function(ra){var fa=this.__data__;ra=a(fa,ra);return 0>ra?void 0:fa[ra][1]};n.prototype.has=function(ra){return-1<a(this.__data__,ra)};n.prototype.set=function(ra,fa){var pa=this.__data__,ua=a(pa,ra);return 0>ua?(++this.size,pa.push([ra,fa])):pa[ua][1]=fa,this};h.prototype.clear=
function(){this.size=0;this.__data__={hash:new x,map:new (ya||n),string:new x}};h.prototype["delete"]=function(ra){ra=B(this,ra)["delete"](ra);return this.size-=ra?1:0,ra};h.prototype.get=function(ra){return B(this,ra).get(ra)};h.prototype.has=function(ra){return B(this,ra).has(ra)};h.prototype.set=function(ra,fa){var pa=B(this,ra),ua=pa.size;return pa.set(ra,fa),this.size+=pa.size==ua?0:1,this};e.prototype.clear=function(){this.__data__=new n;this.size=0};e.prototype["delete"]=function(ra){var fa=
this.__data__;ra=fa["delete"](ra);return this.size=fa.size,ra};e.prototype.get=function(ra){return this.__data__.get(ra)};e.prototype.has=function(ra){return this.__data__.has(ra)};e.prototype.set=function(ra,fa){var pa=this.__data__;if(pa instanceof n){var ua=pa.__data__;if(!ya||199>ua.length)return ua.push([ra,fa]),this.size=++pa.size,this;pa=this.__data__=new h(ua)}return pa.set(ra,fa),this.size=pa.size,this};var Oa=function(ra,fa,pa){var ua=-1,Ea=Object(ra);pa=pa(ra);for(var Da=pa.length;Da--;){var Ca=
pa[++ua];if(!1===fa(Ea[Ca],Ca,Ea))break}return ra},Ja=function(ra){var fa=0,pa=0;return function(){var ua=wa(),Ea=16-(ua-pa);if(pa=ua,0<Ea){if(800<=++fa)return arguments[0]}else fa=0;return ra.apply(void 0,arguments)}}(na?function(ra,fa){return na(ra,"toString",{configurable:!0,enumerable:!1,value:(pa=fa,function(){return pa}),writable:!0});var pa}:K),va=k(function(){return arguments}())?k:function(ra){return R(ra)&&I.call(ra,"callee")&&!da.call(ra,"callee")},Fa=Array.isArray,qa=ia||function(){return!1},
oa=za?function(ra){return function(fa){return ra(fa)}}(za):function(ra){return R(ra)&&H(ra.length)&&!!ca[c(ra)]},xa;ka=(xa=function(ra,fa,pa,ua){v(ra,fa,pa,ua)},function(ra,fa){return Ja(function(pa,ua,Ea){return ua=sa(void 0===ua?pa.length-1:ua,0),function(){for(var Da=arguments,Ca=-1,Ia=sa(Da.length-ua,0),La=Array(Ia);++Ca<Ia;)La[Ca]=Da[ua+Ca];Ca=-1;for(Ia=Array(ua+1);++Ca<ua;)Ia[Ca]=Da[Ca];return Ia[ua]=Ea(La),z(pa,this,Ia)}}(ra,fa,K),ra+"")}(function(ra,fa){var pa=-1,ua=fa.length,Ea=1<ua?fa[ua-
1]:void 0,Da=2<ua?fa[2]:void 0;Ea=3<xa.length&&"function"==typeof Ea?(ua--,Ea):void 0;var Ca;if(Ca=Da){Ca=fa[0];var Ia=fa[1];if(M(Da)){var La=typeof Ia;Ca=!!("number"==La?D(Da)&&A(Ia,Da.length):"string"==La&&Ia in Da)&&w(Da[Ia],Ca)}else Ca=!1}Ca&&(Ea=3>ua?void 0:Ea,ua=1);for(ra=Object(ra);++pa<ua;)(Da=fa[pa])&&xa(ra,Da,pa,Ea);return ra}));q.exports=ka}).call(this,l(170),l(366)(f))},398:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x){return z?Object(u.g)(Object(u.g)([],
x),["(group:"+z.id+")"]):x})},399:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x,n){if(z)switch(z.value){case "authoritative":return x&&x.orgId&&!x.portal.isPortal?Object(u.g)(Object(u.g)([],n),["((contentstatus:org_authoritative orgid:"+x.orgId+") OR contentstatus:public_authoritative)"]):x&&x.orgId&&x.portal.isPortal?Object(u.g)(Object(u.g)([],n),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(u.g)(Object(u.g)([],
n),["(contentstatus:public_authoritative)"]);case "deprecated":return Object(u.g)(Object(u.g)([],n),["(contentstatus:deprecated)"])}return n})},400:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x){return z?Object(u.g)(Object(u.g)([],x),["(access:"+z.value+")"]):x})},401:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x){if(z){var n=function(h){for(var e,d=0,a=Object.keys(h);d<a.length;d++){var b=h[a[d]];
if(b.selected){e=b.items;break}b=b.participants.filter(function(c){return c.selected});if(0<b.length){e=b[0].items;break}}return e}(z);if(n)return n=n.join(" OR "),Object(u.g)(Object(u.g)([],x),["id:("+n+")"])}return x})},402:function(f,g,l){l.d(g,"a",function(){return z});f=l(56);var u=l.n(f),q=l(30),z=function(x,n,h,e){function d(w){C=w.categorySchema[0].source.split(".")[1];Object(q.e)(x,n,h.contentCategorySetsGroupQuery).then(a,v);Object(q.v)(x,n.restUrl+"/portals/regions",{culture:e}).then(k,
v)}function a(w){w.results[0]?Object(q.v)(x,n.restUrl+"/content/groups/"+w.results[0].id+"/search",{q:"typekeywords: "+C}).then(b,v):v("The content category sets group could not be found.")}function b(w){1===w.results.length&&w.results[0]?Object(q.h)(x,n,w.results[0].id).then(c,v):v("The item containing the living atlas categories could not be determined.")}function c(w){A=w.categorySchema[0];h.isPortal&&E?r([A]):E&&r([A,E])}function k(w){E={categories:w.map(function(D){return{displayName:D.localizedName,
title:D.region}}).sort(function(D,G){return"wo"===D.title.toLowerCase()?-1:D.displayName.localeCompare(G.displayName)}),description:"2.0",displayName:"Regions",title:"region"};h.isPortal&&A?r([A]):A&&r([A,E])}function r(w){F.resolve({schema:w,id:B})}function v(w){F.reject(w)}void 0===e&&(e="en");var B,C,A,E,F=new u.a;return Object(q.e)(x,n,h.livingAtlasGroupQuery,(null==n?0:n.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(w){w.results[0]&&w.results[0].id?(B=w.results[0].id,Object(q.f)(x,
n,B).then(d,v)):v("The living atlas group could not be found.")},v),F}},409:function(f,g,l){l.d(g,"a",function(){return u});l.d(g,"b",function(){return q});var u="CHANGE_SEARCH_STRING",q=function(z){return{type:u,payload:z}}},410:function(f,g,l){l.d(g,"b",function(){return u});l.d(g,"a",function(){return q});var u="SHOW_EMPTY_RESULTS",q="CHANGE_RESULT_DISPLAY"},48:function(f,g,l){function u(ca,ea,ka){var la=ea.settings.utils.request,ta=Object(x.b)({},ea);ta=la(ta[0],ta[1]).then(Object(n.a)(ea),function(ja){return ca({type:D,
payload:ja})});if(ka){var za=Object(x.a)(ea,["access","contentstatus","categories"]);za=la(za[0],za[1]);ka=ea.settings.config.customSections;var ia=ea.parameters.section;if(Object(B.a)(ia)||Object(v.e)(ka,ia)&&Object(B.a)(Object(v.b)(ka,ia))){var U=Object(x.c)(ea,ea.ui.tagsFilter.filterString);U=la(U[0],U[1])}}la=[ta,za,U].filter(function(ja){return ja});h()(la).then(function(ja){ca(function(S,O){var I,ba,W=O[0],aa=O[1],P=O[2],L=Object(C.a)(S),Q=S.settings.utils.iconDir;return{type:w,payload:{search:Object(q.a)(Object(q.a)({},
W.data),{results:W.data.results.map(function(X){return Object(e.a)(L,Q,X)})}),aggregations:(null===(I=null==aa?void 0:aa.data)||void 0===I?0:I.aggregations)?{counts:Object(q.g)([],aa.data.aggregations.counts).concat((null===(ba=null==P?void 0:P.data)||void 0===ba?0:ba.aggregations)?Object(q.g)([],P.data.aggregations.counts):[]),countInfo:{section:S.parameters.section,group:S.parameters.filter.group,custom:S.settings.config.customSections.filter(function(X){return X.name===S.parameters.section})[0]}}:
void 0}}}(ea,ja));ca(E.e)},function(ja){return ca({type:D,payload:ja})})}l.d(g,"a",function(){return F});l.d(g,"c",function(){return w});l.d(g,"b",function(){return D});l.d(g,"d",function(){return G});l.d(g,"f",function(){return H});l.d(g,"e",function(){return M});l.d(g,"g",function(){return R});l.d(g,"h",function(){return N});l.d(g,"i",function(){return K});var q=l(0),z=l(100),x=l(162),n=l(217);f=l(65);var h=l.n(f),e=l(78),d=l(326),a=l(327),b=l(173),c=l(266),k=l(328),r=l(264),v=l(86),B=l(329),C=
l(126),A=l(256),E=l(199),F="LOADING_CONTENT",w="LOADING_CONTENT_SUCCESS",D="LOADING_CONTENT_FAILED",G="LOADING_NEXT",H="LOADING_NEXT_SUCCESS",M="LOADING_NEXT_FAILED",R="SUBSCRIPTION_CONTENT_SUCCESS",N=function(ca){return function(ea,ka){var la=ka(),ta=la.settings.utils.request,za=la.parameters.nextQuery.nextStart;ea({type:G});za=Object(x.b)({num:ca,start:za},la);ta(za[0],za[1]).then(Object(n.a)(la),function(ia){return ea({type:M,payload:ia})}).then(function(ia){return ea(Z(la,ia))},function(ia){return ea({type:M,
payload:ia})})}},K=function(ca){return function(ea,ka){var la=ka();ea({type:F});la.settings.config.clearSelectionBetweenSearches&&ea({type:z.b});ea(V(ca))}},V=function(ca){return function(ea,ka){var la=ka(),ta=la.parameters.section,za=la.settings.utils.portal.user,ia=!!za,U=la.settings.utils.portal,ja=U.isPortal,S=za&&"org_admin"===za.role,O=za&&za.privileges&&-1<za.privileges.indexOf("portal:admin:manageCollaborations"),I=za&&!ja&&za.orgId&&U.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer",
"Evaluation"].indexOf(U.subscriptionInfo.type);ea(Object(d.b)()).then(function(ba){"livingAtlas"===ta||"Living Atlas"===ta?ea(Object(a.d)(ba)).then(function(){return u(ea,ka(),ca)},function(){return ea({type:D,payload:"Couldn't load the living atlas info."})}):"myContent"!==ta&&"myGroups"!==ta&&"myFavorites"!==ta&&"subscription"!==ta||!ia?"myOrganization"===ta&&ia?h()([ea(Object(c.d)())].concat(S&&O&&!I?[ea(Object(k.a)(ea,ka()))]:[])).then(function(){return u(ea,ka(),ca)},function(){return ea({type:D,
payload:"Couldn't load the organization info."})}):Object(v.e)(la.settings.config.customSections,ta)?ea(Object(r.e)()).then(function(){return u(ea,ka(),ca)},function(){return ea({type:D,payload:"Couldn't load the custom section info."})}):u(ea,la,ca):h()([ea(Object(b.l)())].concat(ia&&za.orgId?[ea(Object(c.d)())]:[]).concat(S&&O&&!I?[ea(Object(k.a)(ea,ka()))]:[])).then(function(){return"subscription"===ta?ea(Object(A.d)()).then(function(){return ea({type:R,payload:ka().results.provisionedContent.content})},
function(){return ea({type:D,payload:"Couldn't load provisioned content info."})}):u(ea,ka(),ca)},function(){return ea({type:D,payload:"Couldn't load the user info."})})})}},Z=function(ca,ea){var ka=ca.settings.utils.iconDir,la=Object(C.a)(ca);return{type:H,payload:Object(q.a)(Object(q.a)({},ea.data),{results:ea.data.results.map(function(ta){return Object(e.a)(la,ka,ta)})})}}},49:function(f,g,l){l.d(g,"d",function(){return u});l.d(g,"n",function(){return q});l.d(g,"i",function(){return z});l.d(g,
"j",function(){return x});l.d(g,"m",function(){return n});l.d(g,"f",function(){return h});l.d(g,"h",function(){return e});l.d(g,"l",function(){return d});l.d(g,"c",function(){return a});l.d(g,"p",function(){return b});l.d(g,"g",function(){return c});l.d(g,"e",function(){return k});l.d(g,"q",function(){return r});l.d(g,"k",function(){return v});l.d(g,"o",function(){return B});l.d(g,"r",function(){return C});l.d(g,"b",function(){return A});l.d(g,"a",function(){return E});l.d(g,"u",function(){return F});
l.d(g,"E",function(){return w});l.d(g,"y",function(){return D});l.d(g,"D",function(){return G});l.d(g,"z",function(){return H});l.d(g,"A",function(){return M});l.d(g,"w",function(){return R});l.d(g,"C",function(){return N});l.d(g,"t",function(){return K});l.d(g,"G",function(){return V});l.d(g,"v",function(){return Z});l.d(g,"x",function(){return ca});l.d(g,"H",function(){return ea});l.d(g,"B",function(){return ka});l.d(g,"F",function(){return la});l.d(g,"I",function(){return ta});l.d(g,"s",function(){return za});
var u="UPDATE_CUSTOM_FILTER",q="UPDATE_ORG_GROUP_FILTER",z="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",x="UPDATE_LIVING_ATLAS_REGION_FILTER",n="UPDATE_ORG_CATEGORIES_FILTER",h="UPDATE_GROUP_CATEGORIES_FILTER",e="UPDATE_ITEM_TYPE_FILTER",d="UPDATE_MODIFIED_FILTER",a="UPDATE_CREATED_FILTER",b="UPDATE_SHARED_FILTER",c="UPDATE_GROUP_FILTER",k="UPDATE_FOLDER_FILTER",r="UPDATE_STATUS_FILTER",v="UPDATE_MAP_AREA_FILTER",B="UPDATE_SEARCH_ORG_FILTER",C="UPDATE_TAGS_FILTER",A="UPDATE_COLLABORATIONS_FILTER",E="CLEAR_ALL_FILTERS",
F=function(ia,U){return{type:u,payload:{index:ia,filter:U}}},w=function(ia){return{type:q,payload:ia}},D=function(ia){return{type:e,payload:ia}},G=function(ia){return{type:n,payload:ia}},H=function(ia){return{type:z,payload:ia}},M=function(ia){return{type:x,payload:ia}},R=function(ia){return{type:h,payload:ia}},N=function(ia,U){return{type:d,payload:{section:ia,modified:U}}},K=function(ia,U){return{type:a,payload:{section:ia,created:U}}},V=function(ia){return{type:b,payload:ia}},Z=function(ia){return{type:k,
payload:ia}},ca=function(ia){return{type:c,payload:ia}},ea=function(ia){return{type:r,payload:ia}},ka=function(ia){return{type:v,payload:ia}},la=function(ia){return{type:B,payload:ia}},ta=function(ia){return{type:C,payload:ia}},za=function(ia){return{type:A,payload:ia}}},5:function(f,g,l){function u(a){return 0===Object.keys(a).length&&a.constructor===Object}function q(a){return null!=a}function z(a,b){return e.apply(null,arguments)}function x(a,b){return d.apply(null,arguments)}l.d(g,"b",function(){return u});
l.d(g,"a",function(){return q});l.d(g,"e",function(){return h});l.d(g,"c",function(){return z});l.d(g,"d",function(){return x});var n=l(0);f=l(15);var h=Object(f.a)(function(a,b){var c=Object(n.a)({},b);return delete c[a],c}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,k){return c[k]=a(b[k],k,b),c},{})}),d=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,k){return a(b[k],k,b)&&(c[k]=b[k]),c},{})})},51:function(f,g,l){function u(w){return!(!w.urlKey||!w.customBaseUrl)}
function q(w){return w.role===k.admin||w.role===k.accountAdmin}function z(w){return Object(B.a)(w.roleId)&&0<(w.roleId||"").length}function x(w){return!z(w)||z(w)&&-1<(w.privileges||[]).indexOf("portal:admin:viewItems")}function n(w){return-1<(w.privileges||[]).indexOf("portal:user:shareToOrg")}function h(w){return-1<(w.privileges||[]).indexOf("portal:user:shareToGroup")}function e(w){return-1<(w.privileges||[]).indexOf("portal:user:shareToPublic")}function d(w,D){return a(w)||b(w)||D.canSharePublic&&
c(w)}function a(w){return-1<(w.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(w){return-1<(w.privileges||[]).indexOf("portal:admin:shareToOrg")}function c(w){return-1<(w.privileges||[]).indexOf("portal:admin:shareToPublic")}l.d(g,"l",function(){return A});l.d(g,"h",function(){return E});l.d(g,"m",function(){return F});l.d(g,"k",function(){return u});l.d(g,"i",function(){return q});l.d(g,"j",function(){return z});l.d(g,"g",function(){return x});l.d(g,"b",function(){return n});l.d(g,
"a",function(){return h});l.d(g,"c",function(){return e});l.d(g,"d",function(){return a});l.d(g,"e",function(){return b});l.d(g,"f",function(){return c});var k,r=l(63),v=l(148),B=l(5),C=l(58);!function(w){w.user="org_user";w.accountUser="account_user";w.publisher="org_publisher";w.accountPublisher="account_publisher";w.admin="org_admin";w.accountAdmin="account_admin";w.viewer="iAAAAAAAAAAAAAAA";w.dataEditor="iBBBBBBBBBBBBBBB"}(k||(k={}));var A=function(w){var D=w.items;return!!w.user.orgId&&D.every(function(G){return G.isOrgItem})},
E=function(w){var D=w.items,G=w.user,H=w.portal;w=D[0];var M=Object(C.c)(w,G),R=z(G),N=d(G,H);if(R=Object(C.a)(w,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!R)R=!u(H)||h(G)||n(G)||H.canSharePublic&&e(G)||d(G,H);H=R;return!(w.portal.isPortal&&w.owner!==G.username&&-1<w.owner.indexOf("esri_"))&&(M||H||A({items:D,user:G})&&N)},F=function(w,D){return Object(r.a)(Object(v.a)(w))(D)}},56:function(f,g){f.exports=p},58:function(f,g,l){function u(e,d){return(null==e?void 0:e.owner)===d.username}
function q(e,d){var a;if(!(a=u(e,d)))if(Object(x.a)(e.isAdmin))a=!!e.isAdmin;else{a=e.owner;var b="admin"===e.itemControl;a=!(e.portal.isPortal&&!u(e,d)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function z(e,d){return q(e,d)||"update"===e.itemControl}l.d(g,"d",function(){return u});l.d(g,"c",function(){return q});l.d(g,"a",function(){return z});l.d(g,"b",function(){return h});var x=l(5),n=l(51),h=function(e){var d=e.user,a=e.items;
e=e.portal;return Object(n.l)({items:a,user:d})&&Object(n.h)({items:a,user:d,portal:e})&&Object(n.g)(d)&&a[0].itemOwner||d}},63:function(f,g,l){function u(){for(var q=[],z=0;z<arguments.length;z++)q[z]=arguments[z];return function(x){return q.reduceRight(function(n,h){return h(n)},x)}}l.d(g,"a",function(){return u})},65:function(f,g){f.exports=y},710:function(f,g,l){function u(B,C){var A,E,F=C.settings.utils.telemetry,w={pageName:C.settings.utils.appName||window.location.href,facetValue:{myContent:"my content",
myFavorites:"my fav",myGroups:"my groups",myOrganization:"my org",livingAtlas:"living atlas",all:"arcgis online"}[C.parameters.section]||"other"};if(B.type===x.a)return(null==F?void 0:F.getWorkflow("item browser"))&&F.cancelWorkflow("item browser"),void(null==F||F.startWorkflow("item browser",w));var D=null==F?void 0:F.getWorkflow("item browser");if(F&&D)switch(B.type){case n.a:case h.a:F.stepWorkflow("item browser","search",Object(q.a)(Object(q.a)({},w),{details:(null===(A=C.parameters.searchString)||
void 0===A?void 0:A.current)||"",attribute:Object(r.a)(C)?"enriched":void 0,searchQuery:Object(v.b)(C)}));break;case e.a:F.stepWorkflow("item browser","sort",Object(q.a)(Object(q.a)({},w),{details:B.payload}));break;case d.a:F.stepWorkflow("item browser","list"===C.ui.resultPanel.display?"list view":"compact view",Object(q.a)({},w));break;case a.c:F.stepWorkflow("item browser","pagination",Object(q.a)(Object(q.a)({},w),{details:B.payload}));break;case b.e:case b.h:case b.l:case b.c:case b.r:case b.p:F.stepWorkflow("item browser",
"filter",Object(q.a)(Object(q.a)({},w),{details:B.type.split("_").join(" ").toLowerCase()}));break;case c.f:F.stepWorkflow("item browser","select all on page",Object(q.a)({},w));break;case k.a:F.stepWorkflow("item browser","card action",Object(q.a)(Object(q.a)({},w),{details:"view item details"}));break;case z.SELECT_ITEM:F.stepWorkflow("item browser","card action",Object(q.a)(Object(q.a)({},w),{details:"add"}));break;case z.DESELECT_ITEM:F.stepWorkflow("item browser","card action",Object(q.a)(Object(q.a)({},
w),{details:"remove"}));break;case c.k:A=C.results.selectedItems[B.payload.id]?"select":"deselect";F.stepWorkflow("item browser","card action",Object(q.a)(Object(q.a)({},w),{details:A}));break;case c.d:F.endWorkflow("item browser",Object(q.a)(Object(q.a)({},w),{count:null===(E=B.payload)||void 0===E?void 0:E.length}));break;case c.a:F.cancelWorkflow("item browser",Object(q.a)({},w))}}l.d(g,"a",function(){return u});var q=l(0),z=l(231),x=l(326),n=l(288),h=l(409),e=l(290),d=l(410),a=l(295),b=l(49),
c=l(100),k=l(357),r=l(356),v=l(179)},78:function(f,g,l){l.d(g,"a",function(){return e});l.d(g,"b",function(){return d});var u=l(63);f=l(5);var q=l(123),z=l(122),x=l(117),n=l(121),h=l(120),e=function(a,b,c){return Object(u.a)(Object(h.a)(a),Object(n.a)(a),Object(x.a)(b),Object(z.a)(a),Object(q.a)(a))(c)},d=Object(u.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},86:function(f,g,l){function u(e){return!(!n(e)&&!h(e))}
function q(e,d){return e.filter(function(a){return a.name===d})[0]}function z(e,d){return!!q(e,d)}l.d(g,"a",function(){return x});l.d(g,"c",function(){return n});l.d(g,"d",function(){return h});l.d(g,"f",function(){return u});l.d(g,"b",function(){return q});l.d(g,"e",function(){return z});f=l(15);var x=function(e){return e.filters?e.filters.filter(function(d){return"object"==typeof d&&("group"===d.type||"org"===d.type)}):[]};f=Object(f.a)(function(e,d){if(d.filters)return d.filters.reduce(function(a,
b){return"object"==typeof b&&b.type===e?b:a},void 0)});var n=f("group"),h=f("org")},983:function(f,g,l){l.r(g);l.d(g,"ItemBrowserWrapper",function(){return c});var u=l(0),q=l(231),z=l.n(q),x=l(16);f=l(386);var n=l.n(f);f=l(336);var h=l.n(f),e=l(30),d=l(117),a=l(100),b=l(710);l.d(g,"changeSearchSection",function(){return q.changeSearchSection});l.d(g,"initialState",function(){return q.initialState});l.d(g,"search",function(){return q.search});l.d(g,"updateExtent",function(){return q.updateExtent});
l.d(g,"viewItemDetails",function(){return q.viewItemDetails});var c=function(){function k(r,v){var B,C;this.options=v;this.listener=this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.style.width="100%";this.renderContainer.style.height="100%";this.renderContainer.id="item-browser-wrapper";r.appendChild(this.renderContainer);var A=h()(q.initialState),E=h()(v.initialState);A=n()(A,E,function(F,w){if(Array.isArray(F)&&w)return w});this.initialState=Object(u.a)(Object(u.a)({},
A),{settings:Object(u.a)(Object(u.a)({},A.settings),{utils:{telemetry:v.telemetry,appName:v.appName,request:4===v.apiVersion?v.request:Object(e.u)(v.request),portal:4===v.apiVersion?v.portal:Object(u.a)(Object(u.a)({},v.portal),{restUrl:v.portal.portalUrl.slice(0,-1),credential:null===(B=v.portal.user)||void 0===B?void 0:B.credential}),iconDir:4===v.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons")}})});B=v.middlewares||[];(null===(C=v.telemetry)||
void 0===C?0:C.getWorkflow("item browser"))&&v.telemetry.cancelWorkflow("item browser");this.store=x.applyMiddleware.apply(void 0,Object(u.g)([x.thunk,Object(x.addListener)(b.a),Object(x.addListener)(this.listener)],B))(x.createStore)(q.reducers,this.initialState);this.projector=Object(x.createProjector)(this.store,function(F){return F(z.a,{key:"ib"})},this.renderContainer);this.store.dispatch(Object(q.search)(!0));this.handleInitiallySelectedItemsDfd()}return k.prototype.handleInitiallySelectedItemsDfd=
function(){var r=this,v=this.getState().settings,B=v.config.initiallySelectedItemsDfd,C=v.utils.iconDir;B?B.then(function(A){var E=Object.keys(A).map(function(F){return Object(d.a)(C,Object(u.a)({},A[F]))}).reduce(function(F,w){var D;return Object(u.a)(Object(u.a)({},F),((D={})[w.id]=w,D))},{});r.store.dispatch(Object(a.p)(E))}):this.store.dispatch(Object(a.p)({}))},k.prototype.shimmedRequest=function(r,v){var B,C=Object(u.a)({},v.query);return(null===(B=this.options.portal.user)||void 0===B?void 0:
B.credential)&&-1<r.indexOf(this.options.portal.restUrl)&&(C.token=this.options.portal.user.credential.token),this.options.request({url:r,content:v.query},{usePost:"post"===v.method}).then(function(A){return{data:A}})},k.prototype.dispatch=function(r){var v;null===(v=this.store)||void 0===v||v.dispatch(r)},k.prototype.getState=function(){var r;return(null===(r=this.store)||void 0===r?void 0:r.getState())||this.initialState},k.prototype.listener=function(r,v){var B,C;null===(C=null===(B=this.options)||
void 0===B?void 0:B.listener)||void 0===C||C.call(B,r,v)},k}()},99:function(f,g,l){function u(e,d){if(null==e?0:e.length)for(var a=void 0,b=0;b<e.length;b++)if(d(a=e[b]))return a}function q(e){return e.filter(function(d){return 0<d.length})}function z(e,d,a){var b=[];return d.forEach(function(c){(a?c[a].toLowerCase()===e.toLowerCase():c.toLowerCase()===e.toLowerCase())?b.unshift(c):b.push(c)}),b}l.d(g,"e",function(){return x});l.d(g,"f",function(){return n});l.d(g,"c",function(){return u});l.d(g,
"b",function(){return q});l.d(g,"a",function(){return h});l.d(g,"d",function(){return z});f=l(15);var x=function(e,d,a){return a.indexOf(e)===d},n=Object(f.a)(function(e,d){var a={};return d.filter(function(b){return!a[b[e]]&&(a[b[e]]=!0,!0)})}),h=function(e,d){return e.length===d.length&&e.reduce(function(a,b){return a&&-1<d.indexOf(b)},!0)}}})})},"arcgis-components/ItemBrowser/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../Loaders/LoaderBars ../Buttons/SvgButton ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index ../Buttons/IconButton ../Modals/Overlay ../Dropdowns/TextOptionDropdown ../Navigation/TabNav ../Filters/CategoriesFilter/index ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Badges/Retired ../Filters/MapAreaFilter ../Filters/ItemTypeFilter/index ../Filters/ModifiedFilter/index ../Filters/SharedFilter/index ../Filters/StatusFilter/index ../Filters/FolderFilter/index ../Filters/GroupFilter/index ../Filters/TagsFilter/index ../Filters/CollaborationFilter/index ../Dropdowns/FilterController/index ../Management/LazyLoader ../ItemCards/AnalysisCard/index ../Badges/Authoritative ../Badges/Collaboration ../Badges/Deprecated ../Badges/LivingAtlas ../Badges/Marketplace ../Badges/OpenData ../Badges/Premium ../Badges/Subscriber ../Badges/Solution ../Badges/PublicDataCollection ../ItemCards/MiniCard/index ../ItemCards/MiniCardRow/index".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E,F,w,D,G,H,M,R,N,K,V,Z,ca,ea,ka,la,ta,za,ia,U,ja){return function(S){function O(ba){if(I[ba])return I[ba].exports;var W=I[ba]={i:ba,l:!1,exports:{}};return S[ba].call(W.exports,W,W.exports,O),W.l=!0,W.exports}var I={};return O.m=S,O.c=I,O.d=function(ba,W,aa){O.o(ba,W)||Object.defineProperty(ba,W,{enumerable:!0,get:aa})},O.r=function(ba){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ba,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(ba,"__esModule",{value:!0})},O.t=function(ba,W){if((1&W&&(ba=O(ba)),8&W)||4&W&&"object"==typeof ba&&ba&&ba.__esModule)return ba;var aa=Object.create(null);if(O.r(aa),Object.defineProperty(aa,"default",{enumerable:!0,value:ba}),2&W&&"string"!=typeof ba)for(var P in ba)O.d(aa,P,function(L){return ba[L]}.bind(null,P));return aa},O.n=function(ba){var W=ba&&ba.__esModule?function(){return ba["default"]}:function(){return ba};return O.d(W,"a",W),W},O.o=function(ba,W){return Object.prototype.hasOwnProperty.call(ba,
W)},O.p="",O(O.s=860)}([function(S,O,I){function ba(da,ha){function ma(){this.constructor=da}if("function"!=typeof ha&&null!==ha)throw new TypeError("Class extends value "+String(ha)+" is not a constructor or null");X(da,ha);da.prototype=null===ha?Object.create(ha):(ma.prototype=ha.prototype,new ma)}function W(da,ha){var ma={},na;for(na in da)Object.prototype.hasOwnProperty.call(da,na)&&0>ha.indexOf(na)&&(ma[na]=da[na]);if(null!=da&&"function"==typeof Object.getOwnPropertySymbols){var sa=0;for(na=
Object.getOwnPropertySymbols(da);sa<na.length;sa++)0>ha.indexOf(na[sa])&&Object.prototype.propertyIsEnumerable.call(da,na[sa])&&(ma[na[sa]]=da[na[sa]])}return ma}function aa(da,ha,ma,na){var sa,wa=arguments.length,ya=3>wa?ha:null===na?na=Object.getOwnPropertyDescriptor(ha,ma):na;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ya=Reflect.decorate(da,ha,ma,na);else for(var Aa=da.length-1;0<=Aa;Aa--)(sa=da[Aa])&&(ya=(3>wa?sa(ya):3<wa?sa(ha,ma,ya):sa(ha,ma))||ya);return 3<wa&&ya&&Object.defineProperty(ha,
ma,ya),ya}function P(da,ha,ma,na){return new (ma||(ma=Promise))(function(sa,wa){function ya(Oa){try{Ba(na.next(Oa))}catch(Ja){wa(Ja)}}function Aa(Oa){try{Ba(na["throw"](Oa))}catch(Ja){wa(Ja)}}function Ba(Oa){var Ja;Oa.done?sa(Oa.value):(Ja=Oa.value,Ja instanceof ma?Ja:new ma(function(va){va(Ja)})).then(ya,Aa)}Ba((na=na.apply(da,ha||[])).next())})}function L(da,ha){function ma(Ba){return function(Oa){return function(Ja){if(na)throw new TypeError("Generator is already executing.");for(;Aa;)try{if(na=
1,sa&&(wa=2&Ja[0]?sa["return"]:Ja[0]?sa["throw"]||((wa=sa["return"])&&wa.call(sa),0):sa.next)&&!(wa=wa.call(sa,Ja[1])).done)return wa;switch(sa=0,wa&&(Ja=[2&Ja[0],wa.value]),Ja[0]){case 0:case 1:wa=Ja;break;case 4:return Aa.label++,{value:Ja[1],done:!1};case 5:Aa.label++;sa=Ja[1];Ja=[0];continue;case 7:Ja=Aa.ops.pop();Aa.trys.pop();continue;default:if(!(wa=Aa.trys,(wa=0<wa.length&&wa[wa.length-1])||6!==Ja[0]&&2!==Ja[0])){Aa=0;continue}if(3===Ja[0]&&(!wa||Ja[1]>wa[0]&&Ja[1]<wa[3]))Aa.label=Ja[1];else if(6===
Ja[0]&&Aa.label<wa[1])Aa.label=wa[1],wa=Ja;else if(wa&&Aa.label<wa[2])Aa.label=wa[2],Aa.ops.push(Ja);else{wa[2]&&Aa.ops.pop();Aa.trys.pop();continue}}Ja=ha.call(da,Aa)}catch(va){Ja=[6,va],sa=0}finally{na=wa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ba,Oa])}}var na,sa,wa,ya,Aa={label:0,sent:function(){if(1&wa[0])throw wa[1];return wa[1]},trys:[],ops:[]};return ya={next:ma(0),"throw":ma(1),"return":ma(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya}function Q(da,ha){for(var ma=0,na=ha.length,sa=da.length;ma<na;ma++,sa++)da[sa]=ha[ma];return da}I.d(O,"d",function(){return ba});I.d(O,"a",function(){return Y});I.d(O,"f",function(){return W});I.d(O,"c",function(){return aa});I.d(O,"b",function(){return P});I.d(O,"e",function(){return L});I.d(O,"g",function(){return Q});var X=function(da,ha){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ma,na){ma.__proto__=na}||function(ma,na){for(var sa in na)Object.prototype.hasOwnProperty.call(na,
sa)&&(ma[sa]=na[sa])})(da,ha)},Y=function(){return(Y=Object.assign||function(da){for(var ha,ma=1,na=arguments.length;ma<na;ma++)for(var sa in ha=arguments[ma])Object.prototype.hasOwnProperty.call(ha,sa)&&(da[sa]=ha[sa]);return da}).apply(this,arguments)};Object.create;Object.create},,,,,function(S,O,I){function ba(da){return 0===Object.keys(da).length&&da.constructor===Object}function W(da){return null!=da}function aa(da,ha){return X.apply(null,arguments)}function P(da,ha){return Y.apply(null,arguments)}
I.d(O,"b",function(){return ba});I.d(O,"a",function(){return W});I.d(O,"e",function(){return Q});I.d(O,"c",function(){return aa});I.d(O,"d",function(){return P});var L=I(0);S=I(15);var Q=Object(S.a)(function(da,ha){var ma=Object(L.a)({},ha);return delete ma[da],ma}),X=Object(S.a)(function(da,ha){return Object.keys(ha).reduce(function(ma,na){return ma[na]=da(ha[na],na,ha),ma},{})}),Y=Object(S.a)(function(da,ha){return Object.keys(ha).reduce(function(ma,na){return da(ha[na],na,ha)&&(ma[na]=ha[na]),
ma},{})})},,,,,,,,,,function(S,O,I){function ba(aa){return function L(){for(var Q=this,X=[],Y=0;Y<arguments.length;Y++)X[Y]=arguments[Y];return X.length>=aa.length?aa.call.apply(aa,Object(W.g)([this],X)):function(){for(var da=[],ha=0;ha<arguments.length;ha++)da[ha]=arguments[ha];return L.call.apply(L,Object(W.g)(Object(W.g)([Q],X),da))}}}I.d(O,"a",function(){return ba});var W=I(0)},function(S,O){S.exports=T},,,,,,,,,,,,function(S,O,I){(function(ba,W){S.exports=function(){function aa(){var Ha=setTimeout;
return function(){return Ha(P,1)}}function P(){for(var Ha=0;Ha<Oa;Ha+=2)(0,fa[Ha])(fa[Ha+1]),fa[Ha]=void 0,fa[Ha+1]=void 0;Oa=0}function L(Ha,Ka){var Na=this,Qa=new this.constructor(X);void 0===Qa[Ia]&&Aa(Qa);var Pa=Na._state;if(Pa){var Ra=arguments[Pa-1];Fa(function(){return ya(Pa,Qa,Ra,Na._result)})}else sa(Na,Qa,Ha,Ka);return Qa}function Q(Ha){if(Ha&&"object"==typeof Ha&&Ha.constructor===this)return Ha;var Ka=new this(X);return da(Ka,Ha),Ka}function X(){}function Y(Ha,Ka,Na){Ka.constructor===Ha.constructor&&
Na===L&&Ka.constructor.resolve===Q?function(Qa,Pa){1===Pa._state?ma(Qa,Pa._result):2===Pa._state?na(Qa,Pa._result):sa(Pa,void 0,function(Ra){return da(Qa,Ra)},function(Ra){return na(Qa,Ra)})}(Ha,Ka):void 0===Na?ma(Ha,Ka):"function"==typeof Na?function(Qa,Pa,Ra){Fa(function(Sa){var Va=!1,Ua=function(Ta,Xa,ab,Wa){try{Ta.call(Xa,ab,Wa)}catch(db){return db}}(Ra,Pa,function(Ta){Va||(Va=!0,Pa!==Ta?da(Sa,Ta):ma(Sa,Ta))},function(Ta){Va||(Va=!0,na(Sa,Ta))},Sa._label);!Va&&Ua&&(Va=!0,na(Sa,Ua))},Qa)}(Ha,Ka,
Na):ma(Ha,Ka)}function da(Ha,Ka){if(Ha===Ka)na(Ha,new TypeError("You cannot resolve a promise with itself"));else if(Qa=typeof(Na=Ka),null===Na||"object"!==Qa&&"function"!==Qa)ma(Ha,Ka);else{Na=void 0;try{Na=Ka.then}catch(Pa){return void na(Ha,Pa)}Y(Ha,Ka,Na)}var Na,Qa}function ha(Ha){Ha._onerror&&Ha._onerror(Ha._result);wa(Ha)}function ma(Ha,Ka){void 0===Ha._state&&(Ha._result=Ka,Ha._state=1,0!==Ha._subscribers.length&&Fa(wa,Ha))}function na(Ha,Ka){void 0===Ha._state&&(Ha._state=2,Ha._result=Ka,
Fa(ha,Ha))}function sa(Ha,Ka,Na,Qa){var Pa=Ha._subscribers,Ra=Pa.length;Ha._onerror=null;Pa[Ra]=Ka;Pa[Ra+1]=Na;Pa[Ra+2]=Qa;0===Ra&&Ha._state&&Fa(wa,Ha)}function wa(Ha){var Ka=Ha._subscribers,Na=Ha._state;if(0!==Ka.length){for(var Qa=void 0,Pa=void 0,Ra=Ha._result,Sa=0;Sa<Ka.length;Sa+=3)Qa=Ka[Sa],Pa=Ka[Sa+Na],Qa?ya(Na,Qa,Pa,Ra):Pa(Ra);Ha._subscribers.length=0}}function ya(Ha,Ka,Na,Qa){var Pa="function"==typeof Na,Ra=void 0,Sa=void 0,Va=!0;if(Pa){try{Ra=Na(Qa)}catch(Ua){Va=!1,Sa=Ua}if(Ka===Ra)return void na(Ka,
new TypeError("A promises callback cannot return that same promise."))}else Ra=Qa;void 0!==Ka._state||(Pa&&Va?da(Ka,Ra):!1===Va?na(Ka,Sa):1===Ha?ma(Ka,Ra):2===Ha&&na(Ka,Ra))}function Aa(Ha){Ha[Ia]=La++;Ha._state=void 0;Ha._result=void 0;Ha._subscribers=[]}var Ba=Array.isArray?Array.isArray:function(Ha){return"[object Array]"===Object.prototype.toString.call(Ha)},Oa=0,Ja=void 0,va=void 0,Fa=function(Ha,Ka){fa[Oa]=Ha;fa[Oa+1]=Ka;2===(Oa+=2)&&(va?va(P):Ca())},qa="undefined"!=typeof window?window:void 0,
oa=qa||{};oa=oa.MutationObserver||oa.WebKitMutationObserver;var xa="undefined"==typeof self&&void 0!==ba&&"[object process]"==={}.toString.call(ba),ra="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,fa=Array(1E3),pa,ua,Ea,Da,Ca=void 0;xa?Ca=function(){return ba.nextTick(P)}:oa?(ua=0,Ea=new oa(P),Da=document.createTextNode(""),Ea.observe(Da,{characterData:!0}),Ca=function(){Da.data=ua=++ua%2}):ra?((pa=new MessageChannel).port1.onmessage=
P,Ca=function(){return pa.port2.postMessage(0)}):Ca=void 0===qa?function(){try{var Ha=Function("return this")().require("vertx");return void 0!==(Ja=Ha.runOnLoop||Ha.runOnContext)?function(){Ja(P)}:aa()}catch(Ka){return aa()}}():aa();var Ia=Math.random().toString(36).substring(2),La=0,Ga=function(){function Ha(Ka,Na){this._instanceConstructor=Ka;this.promise=new Ka(X);this.promise[Ia]||Aa(this.promise);Ba(Na)?(this.length=Na.length,this._remaining=Na.length,this._result=Array(this.length),0===this.length?
ma(this.promise,this._result):(this.length=this.length||0,this._enumerate(Na),0===this._remaining&&ma(this.promise,this._result))):na(this.promise,Error("Array Methods must be provided an Array"))}return Ha.prototype._enumerate=function(Ka){for(var Na=0;void 0===this._state&&Na<Ka.length;Na++)this._eachEntry(Ka[Na],Na)},Ha.prototype._eachEntry=function(Ka,Na){var Qa=this._instanceConstructor,Pa=Qa.resolve;if(Pa===Q){var Ra=Pa=void 0,Sa=!1;try{Pa=Ka.then}catch(Va){Sa=!0,Ra=Va}Pa===L&&void 0!==Ka._state?
this._settledAt(Ka._state,Na,Ka._result):"function"!=typeof Pa?(this._remaining--,this._result[Na]=Ka):Qa===Ma?(Qa=new Qa(X),Sa?na(Qa,Ra):Y(Qa,Ka,Pa),this._willSettleAt(Qa,Na)):this._willSettleAt(new Qa(function(Va){return Va(Ka)}),Na)}else this._willSettleAt(Pa(Ka),Na)},Ha.prototype._settledAt=function(Ka,Na,Qa){var Pa=this.promise;void 0===Pa._state&&(this._remaining--,2===Ka?na(Pa,Qa):this._result[Na]=Qa);0===this._remaining&&ma(Pa,this._result)},Ha.prototype._willSettleAt=function(Ka,Na){var Qa=
this;sa(Ka,void 0,function(Pa){return Qa._settledAt(1,Na,Pa)},function(Pa){return Qa._settledAt(2,Na,Pa)})},Ha}(),Ma=function(){function Ha(Ka){this[Ia]=La++;this._result=this._state=void 0;this._subscribers=[];if(X!==Ka){if("function"!=typeof Ka)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof Ha)(function(Na,Qa){try{Qa(function(Pa){da(Na,Pa)},function(Pa){na(Na,Pa)})}catch(Pa){na(Na,Pa)}})(this,Ka);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return Ha.prototype["catch"]=function(Ka){return this.then(null,Ka)},Ha.prototype["finally"]=function(Ka){var Na=this.constructor;return"function"==typeof Ka?this.then(function(Qa){return Na.resolve(Ka()).then(function(){return Qa})},function(Qa){return Na.resolve(Ka()).then(function(){throw Qa;})}):this.then(Ka,Ka)},Ha}();return Ma.prototype.then=L,Ma.all=function(Ha){return(new Ga(this,Ha)).promise},Ma.race=function(Ha){var Ka=this;return Ba(Ha)?new Ka(function(Na,Qa){for(var Pa=Ha.length,Ra=
0;Ra<Pa;Ra++)Ka.resolve(Ha[Ra]).then(Na,Qa)}):new Ka(function(Na,Qa){return Qa(new TypeError("You must pass an array to race."))})},Ma.resolve=Q,Ma.reject=function(Ha){var Ka=new this(X);return na(Ka,Ha),Ka},Ma._setScheduler=function(Ha){va=Ha},Ma._setAsap=function(Ha){Fa=Ha},Ma._asap=Fa,Ma.polyfill=function(){var Ha=void 0;if(void 0!==W)Ha=W;else if("undefined"!=typeof self)Ha=self;else try{Ha=Function("return this")()}catch(Qa){throw Error("polyfill failed because global object is unavailable in this environment");
}var Ka=Ha.Promise;if(Ka){var Na=null;try{Na=Object.prototype.toString.call(Ka.resolve())}catch(Qa){}if("[object Promise]"===Na&&!Ka.cast)return}Ha.Promise=Ma},Ma.Promise=Ma,Ma}()}).call(this,I(189),I(170))},,function(S,O,I){function ba(fa){return fa.reduce(function(pa,ua){return ua&&ua.relatedItems?pa.concat(ua.relatedItems.map(function(Ea){return Ea})):pa},[])}function W(fa,pa,ua){return fa(pa,{query:Object(L.a)({f:"json"},ua)}).then(function(Ea){return Ea.data})}function aa(fa,pa){void 0===pa&&
(pa=100);for(var ua=[],Ea=0;Ea<Math.ceil(fa.length/pa);Ea++)ua.push(fa.slice(Ea*pa,(Ea+1)*pa));return ua.filter(function(Da){return 0<Da.length})}function P(fa){var pa=fa.itemIds,ua=fa.request,Ea=fa.groupIds,Da=fa.portal.restUrl+"/content/itemsgroups";return new Q.Promise(function(Ca,Ia){ua(Da,{method:"get",query:{f:"json",items:pa,groups:Ea}}).then(function(La){Ca(La.data)},Ia)})}I.d(O,"u",function(){return X});I.d(O,"n",function(){return Y});I.d(O,"h",function(){return da});I.d(O,"e",function(){return ha});
I.d(O,"f",function(){return ma});I.d(O,"j",function(){return na});I.d(O,"o",function(){return sa});I.d(O,"l",function(){return wa});I.d(O,"k",function(){return ya});I.d(O,"m",function(){return Aa});I.d(O,"c",function(){return Ba});I.d(O,"d",function(){return Oa});I.d(O,"r",function(){return Ja});I.d(O,"s",function(){return va});I.d(O,"t",function(){return Fa});I.d(O,"g",function(){return qa});I.d(O,"p",function(){return oa});I.d(O,"q",function(){return xa});I.d(O,"v",function(){return W});I.d(O,"a",
function(){return aa});I.d(O,"i",function(){return P});I.d(O,"b",function(){return ra});var L=I(0),Q=I(28),X=function(fa){return function(pa,ua){return fa({url:pa,content:ua.query},{usePost:"post"===ua.method}).then(function(Ea){return{data:Ea}})}},Y=function(fa,pa,ua){return W(fa,pa.restUrl+"/portals/self",{culture:ua,"default":!0})},da=function(fa,pa,ua){return W(fa,pa.restUrl+"/content/items/"+ua+"/data")},ha=function(fa,pa,ua,Ea){return W(fa,pa.restUrl+"/community/groups",Object(L.a)({q:ua},Ea))},
ma=function(fa,pa,ua){return W(fa,pa.restUrl+"/community/groups/"+ua+"/categorySchema")},na=function(fa,pa,ua){return W(fa,pa.restUrl+"/portals/"+(ua||pa.id)+"/categorySchema")},sa=function(fa,pa){return W(fa,pa.restUrl+"/portals/"+pa.id+"/servers")},wa=function(fa,pa,ua,Ea){return fa(pa.restUrl+"/portals/"+(ua||pa.id)+"/collaborationsSummary",Ea)},ya=function(fa,pa,ua,Ea){return fa(pa.restUrl+"/portals/"+(ua||pa.id)+"/collaboratedItems",Ea)},Aa=function(fa,pa,ua){return W(fa,location.protocol+"//"+
pa.portalHostname+"/sharing/rest/portals/"+(ua||"self"))},Ba=function(fa,pa,ua){return fa(pa.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+pa.id+" AND access:public",num:100,start:ua||1,sortField:"title",sortOrder:"asc"}}).then(function(Ea){return Ea.data.total>Ea.data.start+Ea.data.num?Ba(fa,pa,Ea.data.start+Ea.data.num).then(function(Da){return Object(L.a)(Object(L.a)({},Da),{data:Object(L.a)(Object(L.a)({},Da.data),{results:Ea.data.results.concat(Da.data.results)})})}):Ea})},Oa=function(fa,
pa,ua,Ea){return fa(pa.restUrl+"/community/users/"+ua+"/provisionedListings",{query:{f:"json",num:100,start:Ea||1}}).then(function(Da){var Ca=Q.Promise.all(Da.data.provisionedListings.filter(function(La){return La.itemId}).map(function(La){return(new Q.Promise(function(Ga,Ma){fa(pa.restUrl+"/content/items/"+La.itemId,{method:"get",query:{f:"json"}}).then(function(Ha){Ga(Ha.data)},Ma)}))["catch"](function(Ga){return 0})})),Ia=Da.data.provisionedListings.map(function(La){return W(fa,pa.restUrl+"/content/items/"+
(La.id||La.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(Ga){return Ga},function(Ga){})});return Da.data.total>Da.data.start+Da.data.num?Oa(fa,pa,ua,Da.data.start+Da.data.num).then(function(La){return Q.Promise.all([Ca].concat(Ia)).then(function(Ga){return Ga[0].results.concat(ba(Ga.slice(1))).concat(La)})}):Q.Promise.all([Ca].concat(Ia)).then(function(La){return La[0].filter(function(Ga){return void 0!==Ga}).concat(ba(La.slice(1)))})})},
Ja=function(fa,pa,ua){return W(fa,pa.restUrl+"/community/users/"+(ua||pa.user.username))},va=function(fa,pa,ua){return W(fa,pa.restUrl+"/content/users/"+(ua||pa.user.username),{num:1})},Fa=function(fa,pa,ua){return W(fa,pa.restUrl+"/content/groups/"+ua)},qa=function(fa,pa,ua){return W(fa,pa.restUrl+"/community/groups",ua)},oa=function(fa,pa){return W(fa,pa.restUrl+"/portals/self/settings")},xa=function(fa,pa){return W(fa,pa.restUrl+"/portals/self/trustedOrgs",{num:100})},ra=function(fa,pa){return void 0===
pa&&(pa=","),fa.map(function(ua){return ua.id}).join(pa)}},,,,,,function(S,O){S.exports=J},,,,,,,,,,,,function(S,O,I){function ba(Da,Ca,Ia){var La=Ca.settings.utils.request,Ga=Object(P.b)({},Ca);Ga=La(Ga[0],Ga[1]).then(Object(L.a)(Ca),function(Na){return Da({type:Fa,payload:Na})});if(Ia){var Ma=Object(P.a)(Ca,["access","contentstatus","categories"]);Ma=La(Ma[0],Ma[1]);Ia=Ca.settings.config.customSections;var Ha=Ca.parameters.section;if(Object(ya.a)(Ha)||Object(wa.e)(Ia,Ha)&&Object(ya.a)(Object(wa.b)(Ia,
Ha))){var Ka=Object(P.c)(Ca,Ca.ui.tagsFilter.filterString);Ka=La(Ka[0],Ka[1])}}La=[Ga,Ma,Ka].filter(function(Na){return Na});Q()(La).then(function(Na){Da(function(Qa,Pa){var Ra,Sa,Va=Pa[0],Ua=Pa[1],Ta=Pa[2],Xa=Object(Aa.a)(Qa),ab=Qa.settings.utils.iconDir;return{type:va,payload:{search:Object(W.a)(Object(W.a)({},Va.data),{results:Va.data.results.map(function(Wa){return Object(X.a)(Xa,ab,Wa)})}),aggregations:(null===(Ra=null==Ua?void 0:Ua.data)||void 0===Ra?0:Ra.aggregations)?{counts:Object(W.g)([],
Ua.data.aggregations.counts).concat((null===(Sa=null==Ta?void 0:Ta.data)||void 0===Sa?0:Sa.aggregations)?Object(W.g)([],Ta.data.aggregations.counts):[]),countInfo:{section:Qa.parameters.section,group:Qa.parameters.filter.group,custom:Qa.settings.config.customSections.filter(function(Wa){return Wa.name===Qa.parameters.section})[0]}}:void 0}}}(Ca,Na));Da(Oa.e)},function(Na){return Da({type:Fa,payload:Na})})}I.d(O,"a",function(){return Ja});I.d(O,"c",function(){return va});I.d(O,"b",function(){return Fa});
I.d(O,"d",function(){return qa});I.d(O,"f",function(){return oa});I.d(O,"e",function(){return xa});I.d(O,"g",function(){return ra});I.d(O,"h",function(){return fa});I.d(O,"i",function(){return pa});var W=I(0),aa=I(100),P=I(162),L=I(217);S=I(65);var Q=I.n(S),X=I(78),Y=I(326),da=I(327),ha=I(173),ma=I(266),na=I(328),sa=I(264),wa=I(86),ya=I(329),Aa=I(126),Ba=I(256),Oa=I(199),Ja="LOADING_CONTENT",va="LOADING_CONTENT_SUCCESS",Fa="LOADING_CONTENT_FAILED",qa="LOADING_NEXT",oa="LOADING_NEXT_SUCCESS",xa="LOADING_NEXT_FAILED",
ra="SUBSCRIPTION_CONTENT_SUCCESS",fa=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.settings.utils.request,Ma=La.parameters.nextQuery.nextStart;Ca({type:qa});Ma=Object(P.b)({num:Da,start:Ma},La);Ga(Ma[0],Ma[1]).then(Object(L.a)(La),function(Ha){return Ca({type:xa,payload:Ha})}).then(function(Ha){return Ca(Ea(La,Ha))},function(Ha){return Ca({type:xa,payload:Ha})})}},pa=function(Da){return function(Ca,Ia){var La=Ia();Ca({type:Ja});La.settings.config.clearSelectionBetweenSearches&&Ca({type:aa.b});
Ca(ua(Da))}},ua=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.parameters.section,Ma=La.settings.utils.portal.user,Ha=!!Ma,Ka=La.settings.utils.portal,Na=Ka.isPortal,Qa=Ma&&"org_admin"===Ma.role,Pa=Ma&&Ma.privileges&&-1<Ma.privileges.indexOf("portal:admin:manageCollaborations"),Ra=Ma&&!Na&&Ma.orgId&&Ka.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(Ka.subscriptionInfo.type);Ca(Object(Y.b)()).then(function(Sa){"livingAtlas"===Ga||"Living Atlas"===Ga?Ca(Object(da.d)(Sa)).then(function(){return ba(Ca,
Ia(),Da)},function(){return Ca({type:Fa,payload:"Couldn't load the living atlas info."})}):"myContent"!==Ga&&"myGroups"!==Ga&&"myFavorites"!==Ga&&"subscription"!==Ga||!Ha?"myOrganization"===Ga&&Ha?Q()([Ca(Object(ma.d)())].concat(Qa&&Pa&&!Ra?[Ca(Object(na.a)(Ca,Ia()))]:[])).then(function(){return ba(Ca,Ia(),Da)},function(){return Ca({type:Fa,payload:"Couldn't load the organization info."})}):Object(wa.e)(La.settings.config.customSections,Ga)?Ca(Object(sa.e)()).then(function(){return ba(Ca,Ia(),Da)},
function(){return Ca({type:Fa,payload:"Couldn't load the custom section info."})}):ba(Ca,La,Da):Q()([Ca(Object(ha.l)())].concat(Ha&&Ma.orgId?[Ca(Object(ma.d)())]:[]).concat(Qa&&Pa&&!Ra?[Ca(Object(na.a)(Ca,Ia()))]:[])).then(function(){return"subscription"===Ga?Ca(Object(Ba.d)()).then(function(){return Ca({type:ra,payload:Ia().results.provisionedContent.content})},function(){return Ca({type:Fa,payload:"Couldn't load provisioned content info."})}):ba(Ca,Ia(),Da)},function(){return Ca({type:Fa,payload:"Couldn't load the user info."})})})}},
Ea=function(Da,Ca){var Ia=Da.settings.utils.iconDir,La=Object(Aa.a)(Da);return{type:oa,payload:Object(W.a)(Object(W.a)({},Ca.data),{results:Ca.data.results.map(function(Ga){return Object(X.a)(La,Ia,Ga)})})}}},function(S,O,I){I.d(O,"d",function(){return ba});I.d(O,"n",function(){return W});I.d(O,"i",function(){return aa});I.d(O,"j",function(){return P});I.d(O,"m",function(){return L});I.d(O,"f",function(){return Q});I.d(O,"h",function(){return X});I.d(O,"l",function(){return Y});I.d(O,"c",function(){return da});
I.d(O,"p",function(){return ha});I.d(O,"g",function(){return ma});I.d(O,"e",function(){return na});I.d(O,"q",function(){return sa});I.d(O,"k",function(){return wa});I.d(O,"o",function(){return ya});I.d(O,"r",function(){return Aa});I.d(O,"b",function(){return Ba});I.d(O,"a",function(){return Oa});I.d(O,"u",function(){return Ja});I.d(O,"E",function(){return va});I.d(O,"y",function(){return Fa});I.d(O,"D",function(){return qa});I.d(O,"z",function(){return oa});I.d(O,"A",function(){return xa});I.d(O,
"w",function(){return ra});I.d(O,"C",function(){return fa});I.d(O,"t",function(){return pa});I.d(O,"G",function(){return ua});I.d(O,"v",function(){return Ea});I.d(O,"x",function(){return Da});I.d(O,"H",function(){return Ca});I.d(O,"B",function(){return Ia});I.d(O,"F",function(){return La});I.d(O,"I",function(){return Ga});I.d(O,"s",function(){return Ma});var ba="UPDATE_CUSTOM_FILTER",W="UPDATE_ORG_GROUP_FILTER",aa="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",P="UPDATE_LIVING_ATLAS_REGION_FILTER",L="UPDATE_ORG_CATEGORIES_FILTER",
Q="UPDATE_GROUP_CATEGORIES_FILTER",X="UPDATE_ITEM_TYPE_FILTER",Y="UPDATE_MODIFIED_FILTER",da="UPDATE_CREATED_FILTER",ha="UPDATE_SHARED_FILTER",ma="UPDATE_GROUP_FILTER",na="UPDATE_FOLDER_FILTER",sa="UPDATE_STATUS_FILTER",wa="UPDATE_MAP_AREA_FILTER",ya="UPDATE_SEARCH_ORG_FILTER",Aa="UPDATE_TAGS_FILTER",Ba="UPDATE_COLLABORATIONS_FILTER",Oa="CLEAR_ALL_FILTERS",Ja=function(Ha,Ka){return{type:ba,payload:{index:Ha,filter:Ka}}},va=function(Ha){return{type:W,payload:Ha}},Fa=function(Ha){return{type:X,payload:Ha}},
qa=function(Ha){return{type:L,payload:Ha}},oa=function(Ha){return{type:aa,payload:Ha}},xa=function(Ha){return{type:P,payload:Ha}},ra=function(Ha){return{type:Q,payload:Ha}},fa=function(Ha,Ka){return{type:Y,payload:{section:Ha,modified:Ka}}},pa=function(Ha,Ka){return{type:da,payload:{section:Ha,created:Ka}}},ua=function(Ha){return{type:ha,payload:Ha}},Ea=function(Ha){return{type:na,payload:Ha}},Da=function(Ha){return{type:ma,payload:Ha}},Ca=function(Ha){return{type:sa,payload:Ha}},Ia=function(Ha){return{type:wa,
payload:Ha}},La=function(Ha){return{type:ya,payload:Ha}},Ga=function(Ha){return{type:Aa,payload:Ha}},Ma=function(Ha){return{type:Ba,payload:Ha}}},,function(S,O,I){function ba(va){return!(!va.urlKey||!va.customBaseUrl)}function W(va){return va.role===na.admin||va.role===na.accountAdmin}function aa(va){return Object(ya.a)(va.roleId)&&0<(va.roleId||"").length}function P(va){return!aa(va)||aa(va)&&-1<(va.privileges||[]).indexOf("portal:admin:viewItems")}function L(va){return-1<(va.privileges||[]).indexOf("portal:user:shareToOrg")}
function Q(va){return-1<(va.privileges||[]).indexOf("portal:user:shareToGroup")}function X(va){return-1<(va.privileges||[]).indexOf("portal:user:shareToPublic")}function Y(va,Fa){return da(va)||ha(va)||Fa.canSharePublic&&ma(va)}function da(va){return-1<(va.privileges||[]).indexOf("portal:admin:shareToGroup")}function ha(va){return-1<(va.privileges||[]).indexOf("portal:admin:shareToOrg")}function ma(va){return-1<(va.privileges||[]).indexOf("portal:admin:shareToPublic")}I.d(O,"l",function(){return Ba});
I.d(O,"h",function(){return Oa});I.d(O,"m",function(){return Ja});I.d(O,"k",function(){return ba});I.d(O,"i",function(){return W});I.d(O,"j",function(){return aa});I.d(O,"g",function(){return P});I.d(O,"b",function(){return L});I.d(O,"a",function(){return Q});I.d(O,"c",function(){return X});I.d(O,"d",function(){return da});I.d(O,"e",function(){return ha});I.d(O,"f",function(){return ma});var na,sa=I(63),wa=I(148),ya=I(5),Aa=I(58);!function(va){va.user="org_user";va.accountUser="account_user";va.publisher=
"org_publisher";va.accountPublisher="account_publisher";va.admin="org_admin";va.accountAdmin="account_admin";va.viewer="iAAAAAAAAAAAAAAA";va.dataEditor="iBBBBBBBBBBBBBBB"}(na||(na={}));var Ba=function(va){var Fa=va.items;return!!va.user.orgId&&Fa.every(function(qa){return qa.isOrgItem})},Oa=function(va){var Fa=va.items,qa=va.user,oa=va.portal;va=Fa[0];var xa=Object(Aa.c)(va,qa),ra=aa(qa),fa=Y(qa,oa);if(ra=Object(Aa.a)(va,qa)&&-1<(qa.privileges||[]).indexOf("portal:admin:updateItems")&&!ra)ra=!ba(oa)||
Q(qa)||L(qa)||oa.canSharePublic&&X(qa)||Y(qa,oa);oa=ra;return!(va.portal.isPortal&&va.owner!==qa.username&&-1<va.owner.indexOf("esri_"))&&(xa||oa||Ba({items:Fa,user:qa})&&fa)},Ja=function(va,Fa){return Object(sa.a)(Object(wa.a)(va))(Fa)}},,,,,function(S,O){S.exports=p},,function(S,O,I){function ba(X,Y){return(null==X?void 0:X.owner)===Y.username}function W(X,Y){var da;if(!(da=ba(X,Y)))if(Object(P.a)(X.isAdmin))da=!!X.isAdmin;else{da=X.owner;var ha="admin"===X.itemControl;da=!(X.portal.isPortal&&!ba(X,
Y)&&ha&&-1<da.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(da))&&ha}return da}function aa(X,Y){return W(X,Y)||"update"===X.itemControl}I.d(O,"d",function(){return ba});I.d(O,"c",function(){return W});I.d(O,"a",function(){return aa});I.d(O,"b",function(){return Q});var P=I(5),L=I(51),Q=function(X){var Y=X.user,da=X.items;X=X.portal;return Object(L.l)({items:da,user:Y})&&Object(L.h)({items:da,user:Y,portal:X})&&Object(L.g)(Y)&&da[0].itemOwner||Y}},,,,,function(S,
O,I){function ba(){for(var W=[],aa=0;aa<arguments.length;aa++)W[aa]=arguments[aa];return function(P){return W.reduceRight(function(L,Q){return Q(L)},P)}}I.d(O,"a",function(){return ba})},,function(S,O){S.exports=y},,,,function(S,O){S.exports=t},,function(S,O,I){I.d(O,"a",function(){return ba});var ba="CLEAR_SELECTION_STATE"},,,,,,,function(S,O,I){I.d(O,"a",function(){return X});I.d(O,"b",function(){return Y});var ba=I(63);S=I(5);var W=I(123),aa=I(122),P=I(117),L=I(121),Q=I(120),X=function(da,ha,ma){return Object(ba.a)(Object(Q.a)(da),
Object(L.a)(da),Object(P.a)(ha),Object(aa.a)(da),Object(W.a)(da))(ma)},Y=Object(ba.a)(Object(S.e)("patchedDescription"),Object(S.e)("thumbURI"),Object(S.e)("iconURI"),Object(S.e)("displayName"),Object(S.e)("badges"))},,,,,,,,function(S,O,I){function ba(X){return!(!L(X)&&!Q(X))}function W(X,Y){return X.filter(function(da){return da.name===Y})[0]}function aa(X,Y){return!!W(X,Y)}I.d(O,"a",function(){return P});I.d(O,"c",function(){return L});I.d(O,"d",function(){return Q});I.d(O,"f",function(){return ba});
I.d(O,"b",function(){return W});I.d(O,"e",function(){return aa});S=I(15);var P=function(X){return X.filters?X.filters.filter(function(Y){return"object"==typeof Y&&("group"===Y.type||"org"===Y.type)}):[]};S=Object(S.a)(function(X,Y){if(Y.filters)return Y.filters.reduce(function(da,ha){return"object"==typeof ha&&ha.type===X?ha:da},void 0)});var L=S("group"),Q=S("org")},,,,function(S,O,I){I.d(O,"a",function(){return ba});I.d(O,"b",function(){return W});I.d(O,"c",function(){return aa});I.d(O,"d",function(){return P});
I.d(O,"e",function(){return L});I.d(O,"h",function(){return Q});I.d(O,"i",function(){return X});I.d(O,"j",function(){return Y});I.d(O,"k",function(){return da});I.d(O,"g",function(){return ha});I.d(O,"f",function(){return ma});var ba="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",W="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",aa="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
P="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",L="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",Q="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
X="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
Y="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",da="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",ha="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",ma="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
,,,,,,,,function(S,O,I){function ba(X,Y){if(null==X?0:X.length)for(var da=void 0,ha=0;ha<X.length;ha++)if(Y(da=X[ha]))return da}function W(X){return X.filter(function(Y){return 0<Y.length})}function aa(X,Y,da){var ha=[];return Y.forEach(function(ma){(da?ma[da].toLowerCase()===X.toLowerCase():ma.toLowerCase()===X.toLowerCase())?ha.unshift(ma):ha.push(ma)}),ha}I.d(O,"e",function(){return P});I.d(O,"f",function(){return L});I.d(O,"c",function(){return ba});I.d(O,"b",function(){return W});I.d(O,"a",function(){return Q});
I.d(O,"d",function(){return aa});S=I(15);var P=function(X,Y,da){return da.indexOf(X)===Y},L=Object(S.a)(function(X,Y){var da={};return Y.filter(function(ha){return!da[ha[X]]&&(da[ha[X]]=!0,!0)})}),Q=function(X,Y){return X.length===Y.length&&X.reduce(function(da,ha){return da&&-1<Y.indexOf(ha)},!0)}},function(S,O,I){I.d(O,"g",function(){return aa});I.d(O,"k",function(){return P});I.d(O,"j",function(){return L});I.d(O,"h",function(){return Q});I.d(O,"i",function(){return X});I.d(O,"c",function(){return Y});
I.d(O,"b",function(){return da});I.d(O,"f",function(){return ha});I.d(O,"e",function(){return ma});I.d(O,"d",function(){return na});I.d(O,"a",function(){return sa});I.d(O,"r",function(){return wa});I.d(O,"n",function(){return ya});I.d(O,"s",function(){return Aa});I.d(O,"o",function(){return Ba});I.d(O,"q",function(){return Oa});I.d(O,"p",function(){return Ja});I.d(O,"l",function(){return va});I.d(O,"m",function(){return Fa});var ba=I(78),W=I(48),aa="SELECT_ITEM",P="TOGGLE_ITEM",L="SELECT_ITEM_SINGLE",
Q="SELECT_ITEM_ASYNC",X="SELECT_ITEM_ASYNC_FAILED",Y="DESELECT_ITEM",da="DESELECT_ALL",ha="SELECT_ALL",ma="SELECT_ALL_FROM_QUERY_SUCCESS",na="END_BULK_WORKFLOW",sa="CANCEL_BULK_WORKFLOW",wa=function(qa){return function(oa,xa){var ra=xa();if(ra.settings.config.asynchronousItemSelect){oa({type:Q,payload:qa});var fa=ra.settings.config.onSelect([Object(ba.b)(qa)]);(null==fa?0:fa.then)&&fa.then(function(){ra.settings.config.singleItemSelect?oa({type:L,payload:qa}):oa({type:aa,payload:qa})},function(){oa({type:X,
payload:qa})})}else ra.settings.config.singleItemSelect?(oa({type:L,payload:qa}),ra.settings.config.onSelect([Object(ba.b)(qa)])):(oa({type:aa,payload:qa}),ra.settings.config.onSelect([Object(ba.b)(qa)]))}},ya=function(qa,oa){var xa=oa();if(xa.settings.config.disableInitiallySelectedItems){xa=xa.results;var ra=xa.selectedItems,fa=xa.initiallySelectedItems;Object.keys(ra).map(function(pa){return ra[pa]}).filter(function(pa){return!fa[pa.id]}).forEach(function(pa){qa({type:Y,payload:pa})})}else qa({type:da})},
Aa=function(qa){return{type:P,payload:qa}},Ba=function(qa){return function(oa,xa){var ra=xa();oa({type:Y,payload:qa});ra.settings.config.onDeselect([Object(ba.b)(qa)])}},Oa=function(){return function(qa,oa){var xa=oa();qa({type:ha,payload:xa.ui.pagination.displayItems})}},Ja=function(qa){return{type:ma,payload:qa}},va=function(qa,oa){var xa=null==oa?void 0:oa();qa({type:sa});null==xa||xa.settings.config.onBack()},Fa=function(qa,oa){var xa=null==oa?void 0:oa();if(null==xa?0:xa.settings.config.onBulkAction){var ra=
xa.settings.config.onBulkAction;xa=xa.results;var fa=xa.selectedItems,pa=xa.initiallySelectedItems;xa=Object.keys(pa).map(function(Ca){return pa[Ca]});var ua=Object.keys(fa).map(function(Ca){return fa[Ca]}),Ea=xa.filter(function(Ca){return!fa[Ca.id]}),Da=ua.filter(function(Ca){return!pa[Ca.id]});qa({type:W.a});qa({type:na,payload:Da});ra({initiallySelectedItems:xa,allSelectedItems:ua,newlySelectedItems:Da,deselectedItems:Ea})}}},function(S,O,I){I.d(O,"a",function(){return W});I.d(O,"b",function(){return aa});
var ba=I(0),W=function(P){return P?P.urlKey?location.protocol+"//"+P.urlKey+"."+P.customBaseUrl:location.protocol+"//"+P.portalHostname:""},aa=function(P){return Object(ba.a)(Object(ba.a)({},P),{baseUrl:W(P)})}},,,,,,,,,,,,,,,,function(S,O,I){I.d(O,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,P){var L=Object(ba.a),Q=Object(ba.a)({},P),X=P.type,Y=P.typeKeywords?P.typeKeywords:[],da=null==X?void 0:X.toLowerCase(),ha=!1,ma=!1,na=X=!1;if("ogcfeatureserver"===da)Y="featureshosted";
else if(0<(null==da?void 0:da.indexOf("service"))||"feature collection"===da||"kml"===da||"wms"===da||"wmts"===da||"wfs"===da){var sa=-1<Y.indexOf("Hosted Service");"feature service"===da||"feature collection"===da||"kml"===da||"wfs"===da?(na=-1<Y.indexOf("Table"),ha=-1<Y.indexOf("Route Layer"),ma=-1<Y.indexOf("Markup"),Y=(X=-1!==Y.indexOf("Spatiotemporal"))&&na?"spatiotemporaltable":na?"table":ha?"routelayer":ma?"markup":X?"spatiotemporal":sa?"featureshosted":"features"):"map service"===da||"wms"===
da||"wmts"===da?Y=sa||-1<Y.indexOf("Tiled")||"wmts"===da?"maptiles":"mapimages":"scene service"===da?Y=-1<Y.indexOf("Line")?"sceneweblayerline":-1<Y.indexOf("3DObject")?"sceneweblayermultipatch":-1<Y.indexOf("Point")?"sceneweblayerpoint":-1<Y.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<Y.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<Y.indexOf("Polygon")?"sceneweblayerpolygon":-1<Y.indexOf("Building")?"sceneweblayerbuilding":-1<Y.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===
da?(X=-1<Y.indexOf("Elevation 3D Layer"),Y=-1<Y.indexOf("Tiled Imagery"),Y=X?"elevationlayer":Y?"tiledimagerylayer":"imagery"):Y="stream service"===da?"streamlayer":"vector tile service"===da?"vectortile":"datastore catalog service"===da?"datastorecollection":"geocoding service"===da?"geocodeservice":"geoprocessing service"===da&&-1<Y.indexOf("Web Tool")?"tool":"layers"}else Y="web map"===da||"cityengine web scene"===da?"maps":"web scene"===da?-1<Y.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":
"web mapping application"===da&&-1<(null==Y?void 0:Y.indexOf("configurableApp"))?"instantapps":"web mapping application"===da||"mobile application"===da||"application"===da||"operation view"===da||"desktop application"===da?"apps":"map document"===da||"map package"===da||"published map"===da||"scene document"===da||"globe document"===da||"basemap package"===da||"mobile basemap package"===da||"mobile map package"===da||"project package"===da||"project template"===da||"pro map"===da||"layout"===da||
"layer"===da&&-1<Y.indexOf("ArcGIS Pro")||"explorer map"===da&&-1<Y.indexOf("Explorer Document")?"mapsgray":"service definition"===da||"csv"===da||"administrative report"===da||"shapefile"===da||"cad drawing"===da||"geojson"===da||"360 vr experience"===da||"netcdf"===da?"datafiles":"explorer add in"===da||"desktop add in"===da||"windows viewer add in"===da||"windows viewer configuration"===da?"appsgray":"arcgis pro add in"===da||"arcgis pro configuration"===da?"addindesktop":"rule package"===da||
"file geodatabase"===da||"csv collection"===da||"kml collection"===da||"windows mobile package"===da||"map template"===da||"desktop application template"===da||"arcpad package"===da||"code sample"===da||"form"===da||"document link"===da||"vector tile package"===da||"operations dashboard add in"===da||"rules package"===da||"image"===da||"workflow manager package"===da||"explorer map"===da&&-1<Y.indexOf("Explorer Mapping Application")||-1<Y.indexOf("Document")?"datafilesgray":"network analysis service"===
da||"geoprocessing service"===da||"geodata service"===da||"geometry service"===da||"geoprocessing package"===da||"locator package"===da||"geoprocessing sample"===da||"workflow manager service"===da||"raster function template"===da||"deep learning package"===da?"toolsgray":"layer"===da||"layer package"===da||"explorer layer"===da?"layersgray":"scene package"===da?"scenepackage":"tile package"===da?"tilepackage":"storymap"===da?"storymap":"storymap theme"===da?"storymaptheme":"web experience"===da?
"experiencebuilder":"web experience template"===da?"webexperiencetemplate":"task file"===da?"taskfile":"report template"===da?"report-template":"statistical data collection"===da?"statisticaldatacollection":"insights workbook"===da?"workbook":"insights model"===da?"insightsmodel":"insights page"===da?"insightspage":"hub initiative"===da?"hubinitiative":"hub page"===da?"hubpage":"hub site application"===da?"hubsite":"relational database connection"===da?"relationaldatabaseconnection":"big data file share"===
da||"data store"===da?"datastorecollection":"image collection"===da?"imagecollection":"desktop style"===da?"desktopstyle":"style"===da?"style":"dashboard"===da?"dashboard":"feed"===da?"feed":"real time analytic"===da?"realtimeanalytics":"big data analytic"===da?"bigdataanalytics":"notebook"===da?"notebook":"notebook code snippets"===da?"notebookcodesnippets":"maps";return L(Q,{iconURI:aa+"/"+Y+"16.png"})})},,,function(S,O,I){I.d(O,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,
P){var L=Object(ba.a),Q=Object(ba.a)({},P),X,Y,da="notebook"!==(null===(X=P.type)||void 0===X?void 0:X.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(Y=P.type)||void 0===Y?void 0:Y.toLowerCase())&&(da="notebook-code-snippet-thumb.png");Y=aa.baseUrl+"/home/js/arcgisonline/css/images/"+da;X=(P.thumbnail&&(Y=aa.restUrl+"/content/items/"+P.id+"/info/"+P.thumbnail+(aa.credential?"?token\x3d"+aa.credential.token:"")),Y);return L(Q,{thumbURI:X})})},function(S,
O,I){I.d(O,"a",function(){return aa});var ba=I(0);S=I(15);var W=function(P,L){return L.description?L.description.replace(/src=('|")js\/jsapi\/esri\//g,function(Q){return"src\x3d"+('"'===Q[4]?'"':"'")+P.baseUrl+"/home/js/jsapi/esri/"}):void 0},aa=Object(S.a)(function(P,L){return Object(ba.a)(Object(ba.a)({},L),{patchedDescription:W(P,L)})})},function(S,O,I){I.d(O,"a",function(){return P});var ba=I(0),W=I(124);S=I(15);var aa=I(58),P=Object(S.a)(function(L,Q){var X=Object(ba.a),Y=Object(ba.a)({},Q),
da,ha=Q.type,ma=Q.typeKeywords||[],na=ha,sa=(null==L?void 0:L.portalUser)||(null==L?void 0:L.user);if("Feature Service"===ha||"Feature Collection"===ha){if(na=-1<ma.indexOf("Table")?"Table":-1<ma.indexOf("Route Layer")?"Route Layer":-1<ma.indexOf("Markup")?"Markup":"Feature Layer",sa&&Object(aa.d)(Q,sa)&&-1<(null==ma?void 0:ma.indexOf("Hosted Service")))ma=(null===(da=null===document||void 0===document?void 0:document.documentElement)||void 0===da?void 0:da.lang)||"en",na=na+" ("+(W.a[ma]||W.a[ma.split("-")[0]]||
W.a.en)+")"}else"Image Service"===ha?(da=-1<ma.indexOf("Elevation 3D Layer"),ma=-1<ma.indexOf("Tiled Imagery"),na=da?"Elevation Layer":ma?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===ha?na="Scene Layer":"Scene Package"===ha?na="Scene Layer Package":"Stream Service"===ha?na="Feature Layer":"Geocoding Service"===ha?na="Locator":"Microsoft Powerpoint"===ha?na="Microsoft PowerPoint":"OGCFeatureServer"===ha?na="OGC Feature Layer":"GeoJson"===ha?na="GeoJSON":"Globe Service"===ha?na="Globe Layer":
"Vector Tile Service"===ha?na="Tile Layer":"netCDF"===ha?na="NetCDF":"Map Service"===ha?na=-1===ma.indexOf("Spatiotemporal")&&(-1<ma.indexOf("Hosted Service")||-1<ma.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":ha&&-1<ha.toLowerCase().indexOf("add in")?na=ha.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===ha?na="Big Data File Share":"Web Mapping Application"===ha&&(null==ma?0:ma.includes("configurableApp"))?na="Instant App":"Data Store"===ha&&(ma.includes("cloudStore_amazon")||ma.includes("cloudStore_azure")?
na+=" (Cloud)":(ma.includes("fileShare")||ma.includes("hdfs")||ma.includes("hive")||ma.includes("bigDataFileShare")&&ma.includes("dataStore"))&&(na+=" (Big Data File Share)"));return X(Y,{displayName:na})})},function(S,O,I){I.d(O,"a",function(){return aa});var ba=I(0);S=I(15);var W=function(P,L){var Q=[],X=P.typeKeywords?P.typeKeywords:[];return P.contentStatus&&("org_authoritative"===P.contentStatus||"public_authoritative"===P.contentStatus?Q.push("authoritative"):"deprecated"===P.contentStatus&&
Q.push("deprecated")),P.origin&&Q.push("collaboration"),P.groupDesignations&&-1<P.groupDesignations.indexOf("livingatlas")&&Q.push("livingAtlas"),-1<X.indexOf("Requires Credits")?Q.push("premium"):-1<X.indexOf("Requires Subscription")&&Q.push("subscriber"),-1<X.indexOf("Public Data Collection")&&((null==L?void 0:L.portalUser)||(null==L?void 0:L.user))&&Q.push("publicDataCollection"),"Solution"===P.type&&-1<P.typeKeywords.indexOf("ArcGIS Solution")&&Q.push("solution"),L.isPortal&&"Web Mapping Application"===
P.type&&(-1<P.typeKeywords.indexOf("Story Map")&&Q.push("retiredStoryMap"),function(Y){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(da){var ha,
ma=-1<da.indexOf(".html");return-1<(null===(ha=Y.url)||void 0===ha?void 0:ha.indexOf("/apps/"+da+(ma?"":"/")))})}(P)&&Q.push("retiredApp")),Q},aa=Object(S.a)(function(P,L){return Object(ba.a)(Object(ba.a)({},L),{badges:W(L,P)})})},function(S,O,I){I.d(O,"a",function(){return ba});var ba={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},function(S,O,I){I.d(O,"a",function(){return L});I.d(O,"d",function(){return Q});I.d(O,"c",function(){return X});I.d(O,"b",function(){return Y});I.d(O,"f",function(){return da});I.d(O,"h",function(){return ha});I.d(O,"g",function(){return ma});I.d(O,"i",function(){return na});I.d(O,"e",function(){return sa});I.d(O,"m",function(){return wa});I.d(O,"l",function(){return ya});I.d(O,"k",function(){return Aa});
I.d(O,"o",function(){return Ba});I.d(O,"j",function(){return Oa});I.d(O,"p",function(){return Ja});I.d(O,"n",function(){return va});var ba=I(0);S=I(65);var W=I.n(S),aa=I(30),P=I(51),L="CHANGE_PAGE",Q="CHANGE_SORT_ORDER",X="CHANGE_SORT_FIELD",Y="CHANGE_SEARCH_STRING",da="FETCH_RESOURCES",ha="FETCH_RESOURCES_SUCCESS",ma="FETCH_RESOURCES_FAILED",na="UPDATE_ACTIVE_FILTERS",sa="CLEAR_ALL_FILTERS",wa=function(Fa){return{type:Q,payload:Fa}},ya=function(Fa){return{type:X,payload:Fa}},Aa=function(Fa){return{type:Y,
payload:Fa}},Ba=function(){return function(Fa,qa){var oa=qa();if(!1===oa.ui.resourceSectionVisible)Fa({type:ma});else{Fa({type:da});var xa=Object(aa.v)(oa.request,oa.item.url),ra=Object(aa.r)(oa.request,oa.portal,oa.item.owner);W()([xa,ra]).then(function(fa){if("Geoprocessing Service"===oa.item.type&&fa[0].tasks&&0<fa[0].tasks.length){var pa=fa[0].tasks.map(function(ua){return Object(aa.v)(oa.request,oa.item.url+"/"+ua)});W()(pa).then(function(ua){Fa({type:ha,payload:{resources:ua.map(function(Ea){return Object(ba.a)({type:"task"},
Ea)}).filter(oa.config.allowed),resourcesPerPage:oa.config.resourcesPerPage,owner:Object(P.m)(oa.portal,fa[1]),service:Object(ba.a)({},fa[0])}})},function(){Fa({type:ma})})}else"Big Data File Share"===oa.item.type&&fa[0].children&&0<fa[0].children.length?(pa=fa[0].children.map(function(ua){return Object(aa.v)(oa.request,oa.item.url+"/"+ua.name)}),W()(pa).then(function(ua){Fa({type:ha,payload:{resources:ua.map(function(Ea,Da){return Object(ba.a)(Object(ba.a)({},fa[0].children[Da]),Ea)}).filter(oa.config.allowed),
resourcesPerPage:oa.config.resourcesPerPage,owner:Object(P.m)(oa.portal,fa[1]),service:Object(ba.a)({},fa[0])}})},function(){Fa({type:ma})})):fa[0].layers&&0<fa[0].layers.length||fa[0].tables&&0<fa[0].tables.length?(fa[0].layers=fa[0].layers.concat(fa[0].tables),pa=fa[0].layers.map(function(ua){return Object(aa.v)(oa.request,oa.item.url+"/"+ua.id)}),W()(pa).then(function(ua){Fa({type:ha,payload:{resources:ua.map(function(Ea,Da){return Object(ba.a)(Object(ba.a)({},fa[0].layers[Da]),Ea)}).filter(oa.config.allowed),
resourcesPerPage:oa.config.resourcesPerPage,owner:Object(P.m)(oa.portal,fa[1]),service:Object(ba.a)({},fa[0])}})},function(){Fa({type:ma})})):Object(aa.v)(oa.request,oa.item.url).then(function(ua){Fa({type:ha,payload:{resources:[ua].map(function(Ea){return Object(ba.a)(Object(ba.a)({},oa.item),Ea)}).filter(oa.config.allowed),resourcesPerPage:oa.config.resourcesPerPage,owner:Object(P.m)(oa.portal,fa[1]),service:Object(ba.a)({},fa[0])}})},function(){Fa({type:ma})})},function(fa){Fa({type:ma})})}}},
Oa=function(Fa){return{type:L,payload:Fa}},Ja=function(Fa,qa){return{type:na,payload:{index:Fa,filter:qa}}},va=function(){return{type:sa}}},function(S,O,I){function ba(P){var L=Object(W.b)(P.settings.config.customSections,P.parameters.section);return(null==L?0:L.portal)?Object(aa.b)(L.portal):P.settings.utils.portal}I.d(O,"a",function(){return ba});var W=I(86),aa=I(101)},,,,,,,,,,,,,,,function(S,O,I){I.d(O,"b",function(){return ba});I.d(O,"a",function(){return W});var ba={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},W="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
,,,,,,function(S,O,I){I.d(O,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,P){var L=Object(ba.a),Q=Object(ba.a)({},P);var X=P.thumbnail?aa.restUrl+"/community/users/"+P.username+"/info/"+P.thumbnail+(aa.credential?"?token\x3d"+aa.credential.token:""):void 0;return L(Q,{thumbURI:X})})},,function(S,O){S.exports=m},function(S,O){S.exports=f},,,,,,,,,,,function(S,O,I){function ba(Aa,Ba){var Oa=["",{method:"get",query:Ba.settings.config.addRequestParameters?Object(P.a)({f:"json",
q:Object(Q.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1},Ba.settings.config.addRequestParameters()):{f:"json",q:Object(Q.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1}}];return Object(L.a)(ma(Ba),na(Ba),sa(Ba),wa(Ba))(Oa)}function W(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(Q.a)(Aa),num:0,countFields:Ba.join(", "),countSize:200}}];return ha(Aa)(Oa)}
function aa(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(Q.c)(Aa,Ba),num:0,countFields:"tags",countSize:200}}];return ha(Aa)(Oa)}I.d(O,"b",function(){return ba});I.d(O,"a",function(){return W});I.d(O,"c",function(){return aa});var P=I(0),L=I(63);S=I(15);var Q=I(179),X=I(356),Y=I(126),da=I(86),ha=function(Aa){return Object(L.a)(wa(Aa),ya(Aa),sa(Aa))},ma=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],va=Aa.parameters.sort.field;return"relevance"!==va?[Oa,Object(P.a)(Object(P.a)({},Ja),
{query:Object(P.a)(Object(P.a)({},Ja.query),{sortField:va})})]:[Oa,Ja]}),na=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1];if(Aa.parameters.filter.searchMapArea){var va=Aa.parameters.extent.area;va=va.minx+","+va.miny+","+va.maxx+","+va.maxy;return[Oa,Object(P.a)(Object(P.a)({},Ja),{query:Object(P.a)(Object(P.a)({},Ja.query),{bbox:va})})]}return[Oa,Ja]}),sa=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],va=Object(X.a)(Aa);return va?[Oa,Object(P.a)(Object(P.a)({},Ja),{query:Object(P.a)(Object(P.a)({},
Ja.query),{enriched:va})})]:[Oa,Ja]}),wa=Object(S.a)(function(Aa,Ba){Ba[0];var Oa=Ba[1],Ja=Aa.parameters,va=Ja.section;Ja=Ja.filter;var Fa=Object(Y.a)(Aa),qa=Fa.restUrl+"/search";if("myGroups"===va&&Ja.group)qa=Fa.restUrl+"/content/groups/"+Ja.group.id+"/search",Ja.groupCategories&&(qa=qa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value])));else if("livingAtlas"!==va&&"Living Atlas"!==va||!Aa.results.livingAtlas.groupId)if(!Ja.orgCategories||"myOrganization"!==va&&"myContent"!==
va){if(va=Object(da.b)(Aa.settings.config.customSections,va))Object(da.d)(va)&&Ja.orgCategories&&(qa=qa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]))),(va=Object(da.c)(va))&&(qa=Fa.restUrl+"/content/groups/"+va.id+"/search",Ja.groupCategories&&(qa=qa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value]))))}else qa=qa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]));else qa=Fa.restUrl+"/content/groups/"+Aa.results.livingAtlas.groupId+
"/search",Ja.livingAtlasCategories?(qa=qa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasCategories.value])),Ja.livingAtlasRegion&&(qa=qa+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])))):Ja.livingAtlasRegion&&(qa=qa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])));return[qa,Oa]}),ya=Object(S.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],va=Aa.parameters.section,Fa=Object(da.b)(Aa.settings.config.customSections,
va);return"myGroups"===va&&Aa.parameters.filter.group||("livingAtlas"===va||"Living Atlas"===va)&&Aa.results.livingAtlas.groupId||Fa&&Object(da.c)(Fa)?[Oa,Object(P.a)(Object(P.a)({},Ja),{query:Object(P.a)(Object(P.a)({},Ja.query),{countFields:Ja.query.countFields?Ja.query.countFields.replace("categories","groupcategories"):void 0})})]:[Oa,Ja]})},,,,,,,,function(S,O){var I=function(){return this}();try{I=I||(new Function("return this"))()}catch(ba){"object"==typeof window&&(I=window)}S.exports=I},
,,function(S,O,I){I.d(O,"a",function(){return L});I.d(O,"c",function(){return Q});I.d(O,"b",function(){return X});I.d(O,"d",function(){return Y});I.d(O,"h",function(){return da});I.d(O,"i",function(){return ha});I.d(O,"j",function(){return ma});I.d(O,"e",function(){return na});I.d(O,"g",function(){return sa});I.d(O,"f",function(){return wa});I.d(O,"l",function(){return ya});I.d(O,"k",function(){return Ba});I.d(O,"m",function(){return Oa});S=I(65);var ba=I.n(S);S=I(56);var W=I.n(S),aa=I(30),P=I(48),
L="ADD_TO_FAVORITES",Q="ADD_TO_FAVORITES_SUCCESS",X="ADD_TO_FAVORITES_FAIL",Y="LOADING_USER_INFO",da="UPDATE_GROUP_CATEGORIES",ha="UPDATE_USER_INFO",ma="UPDATE_USER_INFO_FAILED",na="REMOVE_FROM_FAVORITES",sa="REMOVE_FROM_FAVORITES_SUCCESS",wa="REMOVE_FROM_FAVORITES_FAIL",ya=function(){return function(Ja,va){var Fa=va(),qa=Fa.parameters.filter.group,oa=Fa.results.user.groupCategories;if("loaded"===Fa.results.user.status)return qa&&!oa[qa.id]?Ja(Aa(qa.id)):(new W.a).resolve();if("failed"===Fa.results.user.status)return(new W.a).reject();
Ja({type:Y});oa=Fa.settings.utils;Fa=oa.request;oa=oa.portal;return ba()([Object(aa.r)(Fa,oa).then(function(xa){return xa.groups.map(function(ra){return{id:ra.id,title:ra.title}})}),Object(aa.s)(Fa,oa).then(function(xa){return xa.folders.map(function(ra){return{id:ra.id,title:ra.title}})}),Object(aa.t)(Fa,oa,oa.user.favGroupId).then(function(xa){return xa.items.reduce(function(ra,fa){return ra[fa.id]=!0,ra},{})})].concat(qa?[Ja(Aa(qa.id))]:[])).then(function(xa){Ja({type:ha,payload:{groups:xa[0],
folders:xa[1],favorites:xa[2]}})},function(xa){Ja({type:ma})})}},Aa=function(Ja){return function(va,Fa){var qa=Fa().settings.utils;return Object(aa.f)(qa.request,qa.portal,Ja).then(function(oa){va({type:da,payload:{id:Ja,categorySchema:oa.categorySchema}})})}},Ba=function(Ja){return function(va,Fa){var qa=Fa(),oa=qa.settings.utils.portal,xa=oa.restUrl+"/content/items/"+Ja.id+"/share";oa={f:"json",everyone:Ja.access&&"public"===Ja.access||Ja.sharing&&Ja.sharing.access&&"public"===Ja.sharing.access,
org:Ja.access&&"org"===Ja.access||Ja.sharing&&Ja.sharing.access&&"org"===Ja.sharing.access||!1,groups:[oa.user.favGroupId],items:[Ja.id]};va({type:L,payload:Ja});qa.settings.utils.request(xa,{method:"post",query:oa}).then(function(ra){va({type:Q,payload:Ja})},function(ra){va({type:X,payload:Ja})})}},Oa=function(Ja){return function(va,Fa){var qa=Fa(),oa=qa.settings.utils.portal,xa=oa.user.favGroupId,ra=oa.restUrl+"/content/items/"+Ja.id+"/unshare",fa={f:"json",everyone:!1,org:!1,groups:[xa],items:[Ja.id]};
va({type:na,payload:Ja});qa.settings.utils.request(ra,{method:"post",query:fa}).then(function(pa){function ua(){va({type:sa,payload:Ja})}"myFavorites"===(qa=Fa()).parameters.section?function Da(){qa.settings.utils.request(oa.restUrl+"/search",{query:{f:"json",q:"(id:"+Ja.id+") (group:"+xa+")"},method:"get"}).then(function(Ca){0<Ca.data.total?setTimeout(function(){Da()},250):(ua(),va(Object(P.i)()))},function(Ca){ua()})}():ua()},function(pa){va({type:wa,payload:Ja})})}}},,,,,function(S,O){S.exports=
g},function(S,O,I){function ba(qa){return Object(L.a)(Q.b,va(qa),Fa(qa),Object(X.a)(qa.parameters.filter.orgGroup),Object(Y.a)(qa.parameters.filter.status,qa.settings.utils.portal.user),Ja(qa),Object(da.a)(qa.parameters.filter.shared),Object(ha.a)(qa.parameters.filter.dateCreated),Object(ha.b)(qa.parameters.filter.dateModified),Object(ma.a)(Aa.b,{allowedItemTypes:qa.settings.config.allowedItemTypes,itemTypeFilter:qa.parameters.filter.itemType,specialItemQ:qa.settings.config.specialItemQ}),Object(na.b)(qa.parameters.filter.tags),
Object(sa.a)(qa.parameters.filter.origins))([qa.parameters.searchString.current]).join(" ")}function W(qa){return Object(L.a)(Q.b,va(qa),Ja(qa),Object(ma.a)(Aa.b,{allowedItemTypes:qa.settings.config.allowedItemTypes,specialItemQ:qa.settings.config.specialItemQ}))([qa.parameters.searchString.current]).join(" ")}function aa(qa,oa){return Object(L.a)(Q.b,va(qa),Ja(qa),Object(ma.a)(Aa.b,{allowedItemTypes:qa.settings.config.allowedItemTypes,specialItemQ:qa.settings.config.specialItemQ}),Object(na.a)(oa))([qa.parameters.searchString.current]).join(" ")}
I.d(O,"b",function(){return ba});I.d(O,"a",function(){return W});I.d(O,"c",function(){return aa});var P=I(0),L=I(63),Q=I(99),X=I(398),Y=I(399),da=I(400),ha=I(323),ma=I(265),na=I(324),sa=I(401);S=I(15);var wa=I(5),ya=I(180),Aa=I(141),Ba=I(126),Oa=I(86),Ja=Object(S.a)(function(qa,oa){var xa=qa.parameters.filter,ra=qa.settings.config,fa=Object(Ba.a)(qa);switch(qa.parameters.section){case "myContent":return fa.user?fa.user&&xa.folder?Object(P.g)(Object(P.g)([],oa),['(owner:"'+fa.user.username+'") (ownerfolder:'+
xa.folder.id+")"]):Object(P.g)(Object(P.g)([],oa),['(owner:"'+fa.user.username+'")']):oa;case "myFavorites":return fa.user?Object(P.g)(Object(P.g)([],oa),["(group:"+fa.user.favGroupId+")"]):oa;case "myGroups":if(qa.results.user.groups){if(qa.parameters.filter.group)return Object(P.g)(Object(P.g)([],oa),["(group:"+qa.parameters.filter.group.id+")"]);xa=qa.results.user.groups.map(function(pa){return pa.id});return Object(P.g)(Object(P.g)([],oa),["(group:"+xa.join(" OR group:")+")"])}return oa;case "myOrganization":return Object(P.g)(Object(P.g)([],
oa),["(orgid:"+fa.id+")"]);case "subscription":return Object(P.g)(Object(P.g)([],oa),["("+qa.results.provisionedContent.content.map(function(pa){return"id:"+pa}).join(" OR ")+")"]);case "all":return oa;default:return(xa=ra.customSections.filter(function(pa){return qa.parameters.section===pa.name})[0])?Object(P.g)(Object(P.g)([],oa),[xa.baseQuery]):oa}}),va=Object(S.a)(function(qa,oa){var xa=qa.settings.config.addQueryParameters;try{if(xa&&"function"==typeof xa)return Object(P.g)(Object(P.g)([],oa),
[xa(qa)])}catch(ra){}return oa}),Fa=Object(S.a)(function(qa,oa){var xa=Object(Oa.b)(qa.settings.config.customSections,qa.parameters.section);if(xa&&!Object(wa.b)(qa.parameters.filter.customFilter)){var ra=Object.keys(qa.parameters.filter.customFilter).filter(function(fa){return qa.parameters.filter.customFilter[fa]}).reduce(function(fa,pa){var ua,Ea=parseInt(pa,10),Da=qa.parameters.filter.customFilter[Ea].value;if(null===(ua=null==xa?void 0:xa.filters)||void 0===ua?0:ua[Ea])if(ua=Object(ya.a)("children",
"value",xa.filters[Ea],Da))return Object(P.g)(Object(P.g)([],fa),["("+ua.q+")"]);return fa},[]).join(" AND ");return Object(P.g)(Object(P.g)([],oa),[""+ra])}return oa})},function(S,O,I){function ba(na,sa){return X("children","value",na,sa)}function W(na,sa){return Y("children","value",na,sa)}function aa(na,sa){return function Ja(ya,Aa,Ba,Oa){var va,Fa=Ba[ya];return Fa&&0!==Fa.length?Object(ma.a)(Object(ma.a)({},Ba),((va={})[ya]=Fa.reduce(function(qa,oa){return-1!==Oa.indexOf(oa[Aa])&&qa.push(Ja(ya,
Aa,oa,Oa)),qa},[]),va)):Object(ma.a)({},Ba)}("children","value",na,sa)}function P(na){return function(sa,wa){var ya,Aa=wa[sa];return Aa?Object(ma.a)(Object(ma.a)({},wa),((ya={})[sa]=function Ja(Oa){return 0===Oa.length?[]:1!==Oa.length||Oa[0][sa]?1<Oa.length?Oa.reduce(function(va,Fa){var qa;return Fa[sa]?(va.push(Object(ma.a)(Object(ma.a)({},Fa),((qa={})[sa]=Ja(Fa[sa]),qa))),va):(va.push(Fa),va)},[]):Ja(Oa[0][sa]):Oa}(Aa),ya)):wa}("children",na)}function L(na,sa){return da("children",na,sa)}function Q(na,
sa){return function Oa(ya,Aa,Ba){var Ja=Aa[ya];Ja&&Ja.forEach(function(va){return Oa(ya,va,Ba)});Ba(Aa)}("children",na,sa)}function X(na,sa,wa,ya){var Aa=wa[na];return wa[sa]===ya?wa:Aa?Aa.reduce(function(Ba,Oa){return Ba||X(na,sa,Oa,ya)},void 0):void 0}function Y(na,sa,wa,ya){if(wa=wa[na])return wa.reduce(function(Aa,Ba){return Ba[sa]===ya[0]?1===ya.length?Ba:Y(na,sa,Ba,ya.slice(1)):Aa},void 0)}function da(na,sa,wa){var ya;return wa(Object(ma.a)(Object(ma.a)({},sa),((ya={})[na]=sa[na]?sa[na].map(function(Aa){return da(na,
Aa,wa)}):void 0,ya)))}function ha(na,sa,wa){return da(na,wa,function(ya){var Aa=ya[sa];if(delete ya[sa],ya[na]){var Ba=ya[na];return delete ya[na],Object(ma.a)(Object(ma.a)({},ya),{value:Aa,children:Ba})}return Object(ma.a)(Object(ma.a)({},ya),{value:Aa})})}I.d(O,"f",function(){return ba});I.d(O,"d",function(){return W});I.d(O,"i",function(){return aa});I.d(O,"e",function(){return P});I.d(O,"h",function(){return L});I.d(O,"g",function(){return Q});I.d(O,"a",function(){return X});I.d(O,"b",function(){return Y});
I.d(O,"c",function(){return ha});var ma=I(0)},,function(S,O,I){function ba(Q){return Object(L.h)(Q,function(X){return X.count&&delete X.count,X})}function W(Q,X,Y){if(X)return Q.counts.filter(function(da){return da.fieldName===Y})[0].fieldValues.forEach(function(da){var ha=da.count;da=da.value.split("/").slice(1);(da=Object(L.d)(X,da))&&(da.count=ha)}),X}function aa(Q){Q=Object(L.c)("categories","title",{title:"root",categories:Q});return Object(L.h)(Q,function(X){return Object(P.a)(Object(P.a)({},
X),{value:X.value.toLowerCase(),displayName:X.displayName?X.displayName:X.value,tooltip:X.description?X.description:void 0})}).children}I.d(O,"a",function(){return ba});I.d(O,"c",function(){return W});I.d(O,"b",function(){return aa});var P=I(0),L=I(180)},,,,,,,function(S,O){function I(){throw Error("setTimeout has not been defined");}function ba(){throw Error("clearTimeout has not been defined");}function W(wa){if(Y===setTimeout)return setTimeout(wa,0);if((Y===I||!Y)&&setTimeout)return Y=setTimeout,
setTimeout(wa,0);try{return Y(wa,0)}catch(ya){try{return Y.call(null,wa,0)}catch(Aa){return Y.call(this,wa,0)}}}function aa(){na&&ha&&(na=!1,ha.length?ma=ha.concat(ma):sa=-1,ma.length&&P())}function P(){if(!na){var wa=W(aa);na=!0;for(var ya=ma.length;ya;){ha=ma;for(ma=[];++sa<ya;)ha&&ha[sa].run();sa=-1;ya=ma.length}ha=null;na=!1;(function(Aa){if(da===clearTimeout)return clearTimeout(Aa);if((da===ba||!da)&&clearTimeout)return da=clearTimeout,clearTimeout(Aa);try{da(Aa)}catch(Ba){try{return da.call(null,
Aa)}catch(Oa){return da.call(this,Aa)}}})(wa)}}function L(wa,ya){this.fun=wa;this.array=ya}function Q(){}var X=S.exports={};try{var Y="function"==typeof setTimeout?setTimeout:I}catch(wa){Y=I}try{var da="function"==typeof clearTimeout?clearTimeout:ba}catch(wa){da=ba}!0;var ha,ma=[],na=!1,sa=-1;X.nextTick=function(wa){var ya=Array(arguments.length-1);if(1<arguments.length)for(var Aa=1;Aa<arguments.length;Aa++)ya[Aa-1]=arguments[Aa];ma.push(new L(wa,ya));1!==ma.length||na||W(P)};L.prototype.run=function(){this.fun.apply(null,
this.array)};X.title="browser";X.browser=!0;X.env={};X.argv=[];X.version="";X.versions={};X.on=Q;X.addListener=Q;X.once=Q;X.off=Q;X.removeListener=Q;X.removeAllListeners=Q;X.emit=Q;X.prependListener=Q;X.prependOnceListener=Q;X.listeners=function(wa){return[]};X.binding=function(wa){throw Error("process.binding is not supported");};X.cwd=function(){return"/"};X.chdir=function(wa){throw Error("process.chdir is not supported");};X.umask=function(){return 0}},,,,function(S,O,I){function ba(P){var L,Q;
return null!==(L=P.orgId)&&void 0!==L?L:null===(Q=P.portal)||void 0===Q?void 0:Q.id}function W(P){var L;if(!P)return!1;var Q=ba(P),X=null===(L=P.portal)||void 0===L?void 0:L.isPortal;return!!Q&&!X&&"public_authoritative"===P.contentStatus}function aa(P,L,Q){return new Promise(function(X){var Y=P.map(function(da){return function(ha,ma,na){var sa="https://"+ma.portalHostname+"/sharing/rest/portals/"+ha;return new Promise(function(wa){na(sa,{method:"get",query:{f:"json"}}).then(function(ya){ya=ya.data;
var Aa=ya.thumbnail,Ba=(ya.allSSL?"https://":"http://")+(ya.urlKey||"")+"."+ya.customBaseUrl+"/";wa({name:ya.name,url:Ba+"home/",thumbnail:Aa?Ba+"sharing/rest/portals/self/resources/"+Aa:"./images/group-no-image.png",id:ha})})})}(da,L,Q)});Promise.all(Y).then(function(da){X(da.filter(function(ha){return ha}))})})}I.d(O,"b",function(){return ba});I.d(O,"c",function(){return W});I.d(O,"a",function(){return aa})},,,,,,function(S,O,I){function ba(ha,ma,na){return ha.filter(function(sa,wa,ya){return ya.indexOf(sa)===
wa&&!ma.hasOwnProperty(sa)&&-1===na.indexOf(sa)})}I.d(O,"c",function(){return L});I.d(O,"d",function(){return Q});I.d(O,"a",function(){return X});I.d(O,"b",function(){return Y});I.d(O,"e",function(){return da});var W=I(0),aa=I(193),P=I(309),L="USER_THUMBNAILS_LOAD_START",Q="USER_THUMBNAILS_LOAD_SUCCESS",X="ORG_THUMBNAILS_LOAD_START",Y="ORG_THUMBNAILS_LOAD_SUCCESS",da=function(ha,ma){var na=ma(),sa=na.settings.utils,wa=sa.request;sa=sa.portal;var ya=na.ui.pagination;na=ya.displayItems;var Aa=ya.userThumbnailCache,
Ba=ya.pendingUserThumbRequests,Oa=ya.orgThumbnailCache;ya=ya.pendingOrgThumbRequests;Oa=ba(na.filter(aa.c).map(aa.b),Oa,ya);na=ba(na.map(function(Ja){return Ja.owner}),Aa,Ba);if(0!==na.length||0!==Oa.length)ha({type:L,payload:na}),ha({type:X,payload:Oa}),na=Object(P.a)(na,sa,wa),wa=Object(aa.a)(Oa,sa,wa),Promise.all([na,wa]).then(function(Ja){var va=Ja[0];Ja=Ja[1];va=(null==va?void 0:va.reduce(function(Fa,qa){var oa;return Object(W.a)(Object(W.a)({},Fa),((oa={})[qa.username]={thumbnail:qa.thumbURI||
qa.thumbnail,username:qa.username,fullName:qa.fullName,id:qa.id},oa))},{}))||{};Ja=(null==Ja?void 0:Ja.reduce(function(Fa,qa){var oa;return Object(W.a)(Object(W.a)({},Fa),((oa={})[qa.id]=qa,oa))},{}))||{};ha({type:Q,payload:va});ha({type:Y,payload:Ja})})}},,,,,,function(S,O){S.exports=l},function(S,O){S.exports=u},,,,,,,,,,function(S,O){S.exports=q},function(S,O,I){I.d(O,"a",function(){return Y});var ba=I(0);S=I(56);var W=I.n(S);S=I(65);var aa=I.n(S);S=I(15);var P=I(99),L=I(30),Q=I(325),X=I(126),
Y=Object(S.a)(function(da,ha){var ma=da.settings.utils.request,na=Object(X.a)(da),sa=new W.a,wa=ha.data.results.filter(function(ya){return ya.orgId&&!da.results.allOrganizations[ya.orgId]}).map(function(ya){return ya.orgId}).filter(P.e).map(function(ya){return Object(L.m)(ma,na,ya)});return aa()(wa).then(function(ya){sa.resolve(Object(ba.a)(Object(ba.a)({},ha),{data:Object(ba.a)(Object(ba.a)({},ha.data),{organizations:ya.reduce(function(Aa,Ba){var Oa;return Object(ba.a)(Object(ba.a)({},Aa),((Oa={})[Ba.id]=
Object(Q.a)(Ba),Oa))},{})})}))},function(ya){sa.reject(ya)}),sa})},,,,,,,,,function(S,O,I){I.d(O,"c",function(){return ba});I.d(O,"d",function(){return W});I.d(O,"e",function(){return aa});I.d(O,"b",function(){return P});I.d(O,"f",function(){return L});I.d(O,"g",function(){return Q});I.d(O,"a",function(){return X});I.d(O,"h",function(){return Y});I.d(O,"i",function(){return da});I.d(O,"j",function(){return ha});var ba="MAXIMIZE_DLG",W="MINIMIZE_DLG",aa="TOGGLE_EXPANDED_FILTERS",P="CLOSE_FULLSCREEN_BROWSER",
L="TOGGLE_EXPANDED_SORT",Q="UPDATE_SUBLAYER_CARD_STATE",X="CLOSE_EXPANDED_SORT",Y=function(){return{type:X}},da=function(){return{type:aa}},ha=function(){return{type:L}}},function(S,O,I){I.d(O,"a",function(){return aa});var ba=I(0),W=I(101),aa=function(P){var L=Object(ba.a),Q=Object(ba.a)({},P),X=Object(W.a)(P);return L(Q,{thumbURI:P.thumbnail?X+"/sharing/rest/portals/"+P.id+"/resources/"+P.thumbnail:X+"/home/images/group-no-image.png"})}},function(S,O,I){I.d(O,"a",function(){return aa});var ba=I(0),
W=I(101),aa=function(P){return Object(ba.a)(Object(ba.a)({},P),{orgUrl:Object(W.a)(P)+"/home/index.html"})}},,,,,,,,,,,,,,,,,,,,,,,,,,function(S,O){S.exports=z},function(S,O){S.exports=x},function(S,O,I){I.d(O,"a",function(){return P});I.d(O,"b",function(){return L});I.d(O,"c",function(){return Q});I.d(O,"d",function(){return X});S=I(56);var ba=I.n(S),W=I(30),aa=I(78),P="UPDATE_PROVISIONED_CONTENT",L="UPDATE_PROVISIONED_CONTENT_FAILED",Q="UPDATE_PROVISIONED_CONTENT_SUCCESS",X=function(){return function(Y,
da){var ha=da();if("loaded"===ha.results.provisionedContent.status)return(new ba.a).resolve();if("failed"===ha.results.provisionedContent.status)return(new ba.a).reject();Y({type:P});var ma=ha.settings.utils,na=ma.portal;return Object(W.d)(ma.request,na,na.user.username).then(function(sa){Y({type:Q,payload:sa.filter(function(wa){return-1<ha.settings.config.allowedItemTypes.indexOf(wa.type)}).map(function(wa){return Object(aa.a)(na,ha.settings.utils.iconDir,wa)})})},function(sa){Y({type:L})})}}},,
,,,,,,function(S,O,I){I.d(O,"a",function(){return X});I.d(O,"c",function(){return Y});I.d(O,"d",function(){return da});I.d(O,"b",function(){return ha});I.d(O,"e",function(){return ma});var ba=I(0);S=I(65);var W=I.n(S);S=I(56);var aa=I.n(S),P=I(99),L=I(30);S=I(15);var Q=I(86),X="LOADING_CUSTOM_SECTION_INFO",Y="UPDATE_CUSTOM_SECTION_SCHEMAS",da="UPDATE_CUSTOM_SECTION_INFO_FAILED",ha="UPDATE_CUSTOM_SECTION_GROUPS",ma=function(){return function(wa,ya){function Aa(Ja){wa({type:da})}var Ba=ya();if("loaded"===
Ba.results.customSections.status)return(new aa.a).resolve();if("failed"===Ba.results.customSections.status)return(new aa.a).reject();wa({type:X});var Oa=Object(P.f)("id",Ba.settings.config.customSections.filter(Q.f).map(Q.a).reduce(function(Ja,va){return Object(ba.g)(Object(ba.g)([],Ja),va)},[]));return na(wa,ya,Oa).then(function(){return Ba=ya(),W()(Oa.map(function(Ja){return sa(Ba,Ja).then(function(va){return{id:Ja.id,type:Ja.type,response:va}})}))},Aa).then(function(Ja){return wa({type:Y,payload:Ja})},
Aa)}},na=function(wa,ya,Aa){var Ba=ya(),Oa=new aa.a;if(0<Aa.length){Ba=Ba.settings.utils;var Ja=Ba.request,va=Ba.portal;Aa=Aa.filter(function(Fa){return"group"===Fa.type}).map(function(Fa){var qa=Fa.id;return Object(L.e)(Ja,va,Fa.fetchGroupIdByQuery||"id:"+qa).then(function(oa){return oa.results[0]||{}})});W()(Aa).then(function(Fa){var qa=ya();wa({type:ha,payload:{currentSection:qa.parameters.section,customSections:qa.settings.config.customSections,groups:Fa}});Oa.resolve()})}else Oa.resolve();return Oa},
sa=Object(S.a)(function(wa,ya){var Aa=wa.settings.utils,Ba=Aa.request;Aa=Aa.portal;return ya.staticSchema?(Ba=new aa.a,Ba.resolve({categorySchema:ya.staticSchema}),Ba.then(function(Oa){return Oa})):"group"===ya.type?Object(L.f)(Ba,Aa,ya.id):Object(L.j)(Ba,Aa,ya.id)})},function(S,O,I){function ba(L){if(0<L.length){var Q=aa.a.filter(function(X){return-1===L.indexOf(X)}).filter(function(X){return L.reduce(function(Y,da){return-1<X.indexOf(da)||Y},!1)});return'((type:"'+L.join('" OR type:"')+'")'+(0<
Q.length?' AND (-type:"'+Q.join('" AND -type:"')+'")':"")+")"}return""}I.d(O,"a",function(){return P});var W=I(0),aa=I(141);S=I(15);var P=Object(S.a)(function(L,Q,X){var Y=Q.itemTypeFilter,da=Q.allowedItemTypes;Q=Q.specialItemQ;return Y?0<da.length&&Q?Object(W.g)(Object(W.g)([],X),[L[Y.value]+" AND ("+Q+" OR ("+ba(da)+"))"]):0<da.length||Q?Object(W.g)(Object(W.g)([],X),[L[Y.value]+" AND ("+(Q?""+Q:""+ba(da))+")"]):Object(W.g)(Object(W.g)([],X),[""+L[Y.value]]):Q?Object(W.g)(Object(W.g)([],X),["("+
Q+") "+(0<da.length?"OR ("+ba(da)+")":"")]):Object(W.g)(Object(W.g)([],X),[ba(da)])})},function(S,O,I){I.d(O,"a",function(){return P});I.d(O,"b",function(){return L});I.d(O,"c",function(){return Q});I.d(O,"d",function(){return X});S=I(65);var ba=I.n(S);S=I(56);var W=I.n(S),aa=I(30),P="LOADING_ORG_INFO",L="UPDATE_ORG_INFO",Q="UPDATE_ORG_INFO_FAILED",X=function(){return function(Y,da){var ha=da();if("loaded"===ha.results.organization.status)return(new W.a).resolve();if("failed"===ha.results.organization.status)return(new W.a).reject();
Y({type:P});var ma=ha.settings.utils;ha=ma.request;ma=ma.portal;var na=[Object(aa.j)(ha,ma).then(function(sa){return sa.categorySchema}),Object(aa.c)(ha,ma).then(function(sa){return sa.data.results})];return ma.isPortal&&na.push(Object(aa.o)(ha,ma).then(function(sa){return sa.servers})),ba()(na).then(function(sa){Y({type:L,payload:{schema:sa[0],groups:sa[1],servers:sa[2]}})},function(sa){Y({type:Q})})}}},,,,,,,,,,,,,,,,,,,function(S,O){S.exports=n},function(S,O,I){I.d(O,"b",function(){return Y});
I.d(O,"a",function(){return da});I.d(O,"c",function(){return ha});var ba=I(0);S=I(65);var W=I.n(S);S=I(56);var aa=I.n(S),P=I(30),L=I(51),Q=I(78),X=I(126),Y="UPDATE_FULL_ITEM_DETAILS",da="FETCH_FULL_ITEM_DETAILS_FAILED",ha=function(ma){return function(na,sa){var wa=sa(),ya=Object(X.a)(wa),Aa=wa.settings.utils.request,Ba=[];Ba.push(Object(P.r)(Aa,ya,ma.owner).then(function(Ja){return Object(L.m)(ya,Ja)},function(Ja){throw Ja;}));var Oa=ya.restUrl+"/content/items/"+ma.id;ya.user&&ma.owner===ya.user.username&&
(Oa=ya.restUrl+"/content/users/"+ya.user.username+"/items/"+ma.id);Ba.push(Object(P.v)(Aa,Oa).then(function(Ja){if(Ja.item&&Ja.sharing){var va=new aa.a;return Object(P.v)(Aa,ya.restUrl+"/community/groups",{q:"id: "+Ja.sharing.groups.map(function(Fa){return'"'+Fa+'"'}).join(" OR ")}).then(function(Fa){return va.resolve(Object(ba.a)(Object(ba.a)({},Object(Q.a)(ya,wa.settings.utils.iconDir,Ja.item)),{sharing:Ja.sharing,sharedToGroups:Fa.results}))},function(Fa){return va.reject(Fa)}),va}return Object(Q.a)(ya,
wa.settings.utils.iconDir,Ja)},function(Ja){throw ma.id;}));W()(Ba).then(function(Ja){na({type:Y,payload:{item:Ja[1],owner:Ja[0]}})},function(Ja){na({type:da,payload:Ja})})}}},,function(S,O,I){I.d(O,"a",function(){return ba});I.d(O,"b",function(){return W});var ba="CHANGE_SEARCH_SECTION",W=function(aa){return function(P,L){var Q=L();P({type:ba,payload:{newSection:aa,customSections:Q.settings.config.customSections,customSectionGroupSort:Q.results.customSections.groupSort}})}}},,function(S,O,I){I.d(O,
"b",function(){return ba});I.d(O,"a",function(){return W});I.d(O,"d",function(){return aa});I.d(O,"c",function(){return P});var ba="CHANGE_SORT_ORDER",W="CHANGE_SORT_FIELD",aa=function(L){return{type:ba,payload:L}},P=function(L){return{type:W,payload:L}}},,,,function(S,O){S.exports=h},function(S,O,I){I.d(O,"b",function(){return L});I.d(O,"a",function(){return Q});I.d(O,"c",function(){return X});I.d(O,"d",function(){return Y});var ba=I(162),W=I(78),aa=I(217),P=I(199),L="CHANGE_PAGE_SUCCESS",Q="CHANGE_PAGE_FAIL",
X="CHANGING_PAGE",Y=function(da){return function(ha,ma){var na=ma();ha({type:X,payload:da});var sa=na.settings.utils,wa=sa.portal,ya=sa.iconDir;sa=na.settings.utils.request;var Aa=na.settings.config.resultsPerQuery;Aa=Object(ba.b)({num:Aa,start:(da-1)*Aa+1},na);sa(Aa[0],Aa[1]).then(Object(aa.a)(na),function(Ba){return ha({type:Q,payload:{err:Ba}})}).then(function(Ba){ha({type:L,payload:{organizations:Ba.data.organizations,displayItems:Ba.data.results.map(function(Oa){return Object(W.a)(wa,ya,Oa)}),
page:da}});ha(P.e)},function(Ba){return ha({type:Q,payload:{err:Ba}})})}}},,,,,,,,,,,,function(S,O,I){var ba=I(0);S=I(16);var W=I(90);I=function(aa){function P(){return null!==aa&&aa.apply(this,arguments)||this}return Object(ba.d)(P,aa),P.prototype.render=function(L){return L("div",{"class":"ib-ex-results__item-list"},L("div",{"class":"ib-ex-results__no-items-container"},L("div",{"class":"ib-ex-results__no-items-centered"},L("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},L("path",{fill:"#ccc",
d:W.f})),L("p",{"class":"ib-ex-results__no-items-text"},this.props.text))))},P}(S.Component);O.a=I},,function(S,O,I){function ba(W,aa,P){return Promise.all(W.map(function(L){return function(Q,X,Y){return new Promise(function(da,ha){Y(X.restUrl+"/community/users/"+Q,{method:"get",query:{f:"json"}}).then(function(ma){return da(null==ma?void 0:ma.data)},ha)})}(L,aa,P)}))}I.d(O,"a",function(){return ba})},function(S,O){S.exports=e},,,,,,,,,,,,,function(S,O,I){I.d(O,"b",function(){return W});I.d(O,"a",
function(){return aa});var ba=I(0);S=I(15);S=Object(S.a)(function(P,L,Q){return L?Object(ba.g)(Object(ba.g)([],Q),["("+P+":["+(L.start+" TO "+L.end+"])")]):Q});var W=S("modified"),aa=S("uploaded")},function(S,O,I){I.d(O,"b",function(){return W});I.d(O,"a",function(){return aa});var ba=I(0);S=I(15);var W=Object(S.a)(function(P,L){if(P){var Q=Object.keys(P);if(0<Q.length)return Object(ba.g)(Object(ba.g)([],L),["tags:("+Q.join(" AND ")+")"])}return L}),aa=Object(S.a)(function(P,L){return 2<P.length?
Object(ba.g)(Object(ba.g)([],L),["tags:("+P+"* OR "+P+")"]):L})},function(S,O,I){I.d(O,"a",function(){return W});S=I(63);O=I(101);var ba=I(227);I=I(228);var W=Object(S.a)(ba.a,I.a,O.b)},function(S,O,I){I.d(O,"a",function(){return L});I.d(O,"b",function(){return Q});S=I(56);var ba=I.n(S),W=I(30),aa=I(325),P=I(150),L="UPDATE_PORTAL_SELF",Q=function(){return function(X,Y){var da=Y(),ha=da.settings.utils,ma=ha.portal;ha=ha.request;var na=ma.user&&ma.user.culture?ma.user.culture:P.locale;return da.settings.utils.self?
(new ba.a).resolve(da.settings.utils.self):Object(W.n)(ha,ma,na).then(function(sa){sa=Object(aa.a)(sa);return X({type:L,payload:{self:sa,config:da.settings.config}}),sa})}}},function(S,O,I){I.d(O,"a",function(){return Q});I.d(O,"b",function(){return X});I.d(O,"c",function(){return Y});I.d(O,"d",function(){return da});var ba=I(0),W=I(36);S=I(56);var aa=I.n(S),P=I(150),L=I(402),Q="LOADING_LIVING_ATLAS_INFO",X="UPDATE_LIVING_ATLAS_INFO",Y="FETCH_LIVING_ATLAS_INFO_FAILED",da=function(ha){return function(ma,
na){var sa=na();if("loaded"===sa.results.livingAtlas.status)return(new aa.a).resolve();if("failed"===sa.results.livingAtlas.status)return(new aa.a).reject();ma({type:Q});sa=sa.settings.utils;var wa=sa.portal;return Object(L.a)(sa.request,wa,ha,wa.user&&wa.user.culture?wa.user.culture:P.locale).then(function(ya){ma({type:X,payload:Object(ba.a)(Object(ba.a)({},ya),{schema:ya.schema.map(function(Aa){return"region"===Aa.title?Object(ba.a)(Object(ba.a)({},Aa),{displayName:W.regions}):Aa})})})},function(ya){ma({type:Y})})}}},
function(S,O,I){I.d(O,"a",function(){return L});var ba=I(30),W=I(49);S=I(65);var aa=I.n(S),P=function(Q,X,Y){Q({type:"LOADING_COLLABORATIONS"});var da=[];Object.keys(Y).forEach(function(ma){da[ma]=[];0<Y[ma].participants.length&&Y[ma].participants.forEach(function(na){da[na.value]=[]})});var ha=Object.keys(da).map(function(ma){ma=ma.split("__");var na=ma[0],sa=ma[1]?ma[1]:"";return Object(ba.k)(X.settings.utils.request,X.settings.utils.portal,X.settings.utils.portal.id,{query:""!==sa?{collaborationId:na,
participantId:sa,f:"json"}:{collaborationId:na,f:"json"}}).then(function(wa){(wa.data.collaboratedItems||wa.collaboratedItems).forEach(function(ya){if(sa){var Aa=na+"__"+sa;Y[na].participants.filter(function(Ba){return Ba.value===Aa})[0].items.push(Object.keys(ya)[0])}else Y[na].items.push(Object.keys(ya)[0])})},function(){return Q({type:"LOADING_COLLABORATIONS_FAILED"})})});return aa()(ha).then(function(){Q(Object(W.s)(Y));Q({type:"LOADING_COLLABORATIONS_SUCCESS",payload:Y})})},L=function(Q,X){if(Q({type:"LOADING_COLLABORATIONS"}),
X&&X.parameters&&X.parameters.filter&&X.parameters.filter.origins&&0<Object.keys(X.parameters.filter.origins).length){var Y=X.parameters.filter.origins;return Q(Object(W.s)(Y)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:Y}}return Object(ba.l)(X.settings.utils.request,X.settings.utils.portal,X.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(da){var ha=[];da.data&&da.data.collaborations&&da.data.collaborations.forEach(function(ma){var na=ma.collaborationId,
sa=ma.collaborationName.trim();ha[na]={value:na,label:sa,addClass:"",childOf:"",selected:!1,participants:[],items:[]};ma.participants&&(ha[na].participants=ma.participants.map(function(wa){return 1===(wa=Object.keys(wa).map(function(ya){var Aa=wa[ya].trim();return{value:na+"__"+ya,label:Aa,childOf:na,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?wa[0]:wa}))});P(Q,X,ha).then(function(){return Q(Object(W.s)(ha))},function(){return Q({type:"LOADING_COLLABORATIONS_FAILED"})})},function(da){return Q({type:"LOADING_COLLABORATIONS_FAILED",
payload:da})})}},function(S,O,I){function ba(W){return"string"==typeof W?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(W):!!W.filters&&-1<W.filters.indexOf("tags")}I.d(O,"a",function(){return ba})},,,,function(S,O){S.exports=d},,,,,,,,,function(S,O){S.exports=a},,,,,,,,function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(180),P=I(561),L=I(49),Q=I(48),X=I(413),Y=I(552),da=I.n(Y);Y=I(376);var ha=I.n(Y);Y=I(553);var ma=I.n(Y);Y=I(554);var na=I.n(Y);Y=I(555);var sa=
I.n(Y);Y=I(556);var wa=I.n(Y);Y=I(557);var ya=I.n(Y);Y=I(558);var Aa=I.n(Y);Y=I(559);var Ba=I.n(Y);Y=I(560);var Oa=I.n(Y);Y=I(342);var Ja=I.n(Y),va=I(562);I=function(Fa){function qa(oa){oa=Fa.call(this,oa)||this;return oa.handleCustomFilterToggle=oa.handleCustomFilterToggle.bind(oa),oa.handleMapAreaToggle=oa.handleMapAreaToggle.bind(oa),oa.handleMapAreaKeyUp=oa.handleMapAreaKeyUp.bind(oa),oa.handleSearchOrgToggle=oa.handleSearchOrgToggle.bind(oa),oa.handleCreatedFilterChange=oa.handleCreatedFilterChange.bind(oa),
oa.handleItemTypeFilterChange=oa.handleItemTypeFilterChange.bind(oa),oa.handleModifiedFilterChange=oa.handleModifiedFilterChange.bind(oa),oa.handleSharedFilterChange=oa.handleSharedFilterChange.bind(oa),oa.handleStatusFilterChange=oa.handleStatusFilterChange.bind(oa),oa.handleFolderFilterChange=oa.handleFolderFilterChange.bind(oa),oa.handleGroupFilterChange=oa.handleGroupFilterChange.bind(oa),oa.handleOrgGroupFilterChange=oa.handleOrgGroupFilterChange.bind(oa),oa.handleTagsFilterChange=oa.handleTagsFilterChange.bind(oa),
oa.handleCollaborationFilterChange=oa.handleCollaborationFilterChange.bind(oa),oa.handleOrgCategorySelect=oa.handleOrgCategorySelect.bind(oa),oa.handleClearOrgCategories=oa.handleClearOrgCategories.bind(oa),oa.handleGroupCategorySelect=oa.handleGroupCategorySelect.bind(oa),oa.handleClearGroupCategories=oa.handleClearGroupCategories.bind(oa),oa.handleLACategorySelect=oa.handleLACategorySelect.bind(oa),oa.handleClearLACategories=oa.handleClearLACategories.bind(oa),oa.handleLARegionSelect=oa.handleLARegionSelect.bind(oa),
oa.handleClearLARegion=oa.handleClearLARegion.bind(oa),oa.handleTagsFilterStringChange=oa.handleTagsFilterStringChange.bind(oa),oa}return Object(ba.d)(qa,Fa),qa.prototype.render=function(oa){var xa=this,ra=this.props.stateTree.settings.config,fa=this.props.stateTree.parameters.filter,pa=this.props.stateTree.settings.utils.portal.user,ua=this.props.stateTree.settings.utils.portal,Ea=this.props.stateTree.parameters.section,Da=Object(P.a)(this.props.stateTree),Ca=ra.availableItemTypeFilters.filter(function(Ia){var La=
xa.props.stateTree.results.organization.servers||[];La="livingAtlas"!==Ea&&ua.isPortal&&La.some(function(Ga){return"KnowledgeServer"===Ga.serverFunction});return"knowledgeGraphs"!==Ia||La});ra=ra.enableMapAreaFilter?oa(da.a,{key:"map-area-filter",handleMapAreaToggle:this.handleMapAreaToggle,handleMapAreaKeyUp:this.handleMapAreaKeyUp,searchMapArea:this.props.stateTree.parameters.filter.searchMapArea,text:this.props.stateTree.settings.config.mapAreaFilterText?this.props.stateTree.settings.config.mapAreaFilterText:
W.filterPane.mapArea}):null;Da=Da.map(function(Ia,La){switch(Ia){case "group":return oa(Aa.a,{key:"group-filter",onGroupSelect:xa.handleGroupFilterChange,availableGroups:xa.props.stateTree.results.user.groups,groupFilter:xa.props.stateTree.parameters.filter.group});case "folder":var Ga=xa.props.stateTree.results.user.folders,Ma={title:xa.props.stateTree.settings.utils.portal.user.username,id:"root"};return oa(ya.a,{key:"folder-filter",onFolderSelect:xa.handleFolderFilterChange,availableFolders:Ga?
Object(ba.g)([Ma],Ga):[Ma],folderFilter:xa.props.stateTree.parameters.filter.folder});case "itemType":return oa(ma.a,{key:"item-type-filter",onItemTypeSelect:xa.handleItemTypeFilterChange,availableItemTypes:Ca,itemTypeFilter:xa.props.stateTree.parameters.filter.itemType});case "orgCategories":if((Ga=xa.props.stateTree.results.organization.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"org-categories-filter",onCategorySelect:xa.handleOrgCategorySelect,onClearCategories:xa.handleClearOrgCategories,
availableCategories:Ga.children[0].children,categoriesFilter:xa.props.stateTree.parameters.filter.orgCategories,title:W.filterPane.categories,prependValue:"/"+Ga.children[0].value+"/"});break;case "livingAtlasCategories":if((Ga=xa.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"la-categories-filter",onCategorySelect:xa.handleLACategorySelect,onClearCategories:xa.handleClearLACategories,availableCategories:Ga.children[0].children,
categoriesFilter:xa.props.stateTree.parameters.filter.livingAtlasCategories,title:Ga.children[0].displayName,prependValue:"/categories/",showTooltips:!0,startActive:!0});break;case "livingAtlasRegion":if((Ga=xa.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[1]&&Ga.children[1].children)return oa(Ja.a,{key:"la-region-filter",onCategorySelect:xa.handleLARegionSelect,onClearCategories:xa.handleClearLARegion,availableCategories:Ga.children[1].children,categoriesFilter:xa.props.stateTree.parameters.filter.livingAtlasRegion,
title:Ga.children[1].displayName,prependValue:"/region/",startActive:!0});break;case "groupCategories":if(fa.group&&(Ga=xa.props.stateTree.results.user.groupCategories[fa.group.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return oa(Ja.a,{key:"group-categories-filter",onCategorySelect:xa.handleGroupCategorySelect,onClearCategories:xa.handleClearGroupCategories,availableCategories:Ga.children[0].children,categoriesFilter:xa.props.stateTree.parameters.filter.groupCategories,title:W.filterPane.groupCategories,
prependValue:"/"+Ga.children[0].value+"/"});break;case "orgGroups":break;case "modified":return oa(na.a,{key:"modified-filters",onDateModifiedSelect:xa.handleModifiedFilterChange,dateModifiedFilter:xa.props.stateTree.parameters.filter.dateModified,dateModifiedSection:xa.props.stateTree.ui.filters.modifiedSection});case "created":return oa(ha.a,{key:"created-filters",onDateCreatedSelect:xa.handleCreatedFilterChange,dateCreatedFilter:xa.props.stateTree.parameters.filter.dateCreated,dateCreatedSection:xa.props.stateTree.ui.filters.createdSection});
case "shared":return oa(sa.a,{counts:xa.props.stateTree.results.counts.access,key:"shared-filters",onSharedSelect:xa.handleSharedFilterChange,sharedFilter:xa.props.stateTree.parameters.filter.shared,hideOrgGroupFilters:pa&&!pa.orgId});case "status":Ga=xa.props.stateTree.results.counts.contentStatus;Ma=Ga.orgAuthoritative;var Ha=Ga.publicAuthoritative;return oa(wa.a,{counts:{authoritative:pa&&pa.orgId?Ma+Ha:Ha,deprecated:Ga.deprecated},key:"status-filters",onStatusSelect:xa.handleStatusFilterChange,
statusFilter:xa.props.stateTree.parameters.filter.status});case "tags":return oa(Ba.a,{availableTags:xa.props.stateTree.ui.tagsFilter.visibleTags,filterString:xa.props.stateTree.ui.tagsFilter.filterString,key:"ib-tags-filter",onFilterStringChange:xa.handleTagsFilterStringChange,onTagSelect:xa.handleTagsFilterChange,tagsFilter:xa.props.stateTree.parameters.filter.tags});case "collaboration":Ha=xa.props.stateTree.settings.utils.portal;Ha=pa&&!Ha.isPortal&&pa.orgId&&Ha.subscriptionInfo&&-1<["Trial",
"Trial Press","Trial Developer","Evaluation"].indexOf(Ha.subscriptionInfo.type);var Ka=pa&&"org_admin"===pa.role,Na=pa&&pa.privileges&&-1<pa.privileges.indexOf("portal:admin:manageCollaborations");if(Ka&&Na&&!Ha)return oa(Oa.a,{key:"ib-collaborations-filter",onCollaborationSelect:xa.handleCollaborationFilterChange,collaborationsFilter:xa.props.stateTree.parameters.filter.origins?xa.props.stateTree.parameters.filter.origins:[]});default:if("object"==typeof Ia)if("group"===Ia.type){if((Ga=xa.props.stateTree.results.customSections.groupSchemas[Ia.id])&&
Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(aa.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,oa(Ja.a,{key:"custom-group-categories-filter",onCategorySelect:xa.handleGroupCategorySelect,onClearCategories:xa.handleClearGroupCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:xa.props.stateTree.parameters.filter.groupCategories,title:Ia.name,prependValue:"/"+(Ma?Ma.join("/")+"/":"")})}else if("org"===Ia.type){if((Ga=
xa.props.stateTree.results.customSections.orgSchemas[Ia.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(aa.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,oa(Ja.a,{key:"custom-org-categories-filter",onCategorySelect:xa.handleOrgCategorySelect,onClearCategories:xa.handleClearOrgCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:xa.props.stateTree.parameters.filter.orgCategories,title:Ia.name,prependValue:"/"+
(Ma?Ma.join("/")+"/":"")})}else if(Ia.children)return Ga=xa.props.stateTree.parameters.filter.customFilter[La],oa(va.a,{key:Ia.displayName+"-filter-accordion",filter:Ia,index:La,onClear:xa.handleCustomFilterToggle,onClick:xa.handleCustomFilterToggle,selectedOption:Ga?Ga.value:void 0})}return null});return ra?[ra,oa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)]:oa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)},qa.prototype.handleCustomFilterToggle=
function(oa,xa,ra){this.props.dispatch(Object(L.u)(oa,xa?{value:xa,text:ra}:void 0));this.props.dispatch(Object(Q.i)())},qa.prototype.handleMapAreaToggle=function(){this.props.dispatch(Object(L.B)(!this.props.stateTree.parameters.filter.searchMapArea));this.props.dispatch(Object(Q.i)())},qa.prototype.handleMapAreaKeyUp=function(oa){switch(oa.key){case "Enter":this.handleMapAreaToggle()}},qa.prototype.handleSearchOrgToggle=function(){this.props.dispatch(Object(L.F)(!this.props.stateTree.parameters.filter.searchOrg));
this.props.dispatch(Object(Q.i)())},qa.prototype.handleItemTypeFilterChange=function(oa){this.props.dispatch(Object(L.y)(oa));this.props.dispatch(Object(Q.i)())},qa.prototype.handleModifiedFilterChange=function(oa,xa){this.props.dispatch(Object(L.C)(oa,xa));this.props.dispatch(Object(Q.i)())},qa.prototype.handleCreatedFilterChange=function(oa,xa){this.props.dispatch(Object(L.t)(oa,xa));this.props.dispatch(Object(Q.i)())},qa.prototype.handleSharedFilterChange=function(oa){this.props.dispatch(Object(L.G)(oa));
this.props.dispatch(Object(Q.i)())},qa.prototype.handleStatusFilterChange=function(oa){this.props.dispatch(Object(L.H)(oa));this.props.dispatch(Object(Q.i)())},qa.prototype.handleFolderFilterChange=function(oa){this.props.dispatch(Object(L.v)(oa));this.props.dispatch(Object(Q.i)(!0))},qa.prototype.handleGroupFilterChange=function(oa){this.props.dispatch(Object(L.x)(oa));this.props.dispatch(Object(Q.i)(!0))},qa.prototype.handleOrgGroupFilterChange=function(oa){this.props.dispatch(Object(L.E)(oa));
this.props.dispatch(Object(Q.i)())},qa.prototype.handleTagsFilterChange=function(oa){this.props.dispatch(Object(L.I)(oa));this.props.dispatch(Object(Q.i)())},qa.prototype.handleCollaborationFilterChange=function(oa){this.props.dispatch(Object(L.s)(oa));this.props.dispatch(Object(Q.i)())},qa.prototype.handleOrgCategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.orgCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(L.D)()):this.props.dispatch(Object(L.D)(oa));this.props.dispatch(Object(Q.i)())},
qa.prototype.handleClearOrgCategories=function(){this.props.dispatch(Object(L.D)());this.props.dispatch(Object(Q.i)())},qa.prototype.handleLACategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.livingAtlasCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(L.z)()):this.props.dispatch(Object(L.z)(oa));this.props.dispatch(Object(Q.i)())},qa.prototype.handleClearLACategories=function(){this.props.dispatch(Object(L.z)());this.props.dispatch(Object(Q.i)())},qa.prototype.handleLARegionSelect=
function(oa){var xa=this.props.stateTree.parameters.filter.livingAtlasRegion;xa&&xa.value===oa.value?this.props.dispatch(Object(L.A)()):this.props.dispatch(Object(L.A)(oa));this.props.dispatch(Object(Q.i)())},qa.prototype.handleClearLARegion=function(){this.props.dispatch(Object(L.A)());this.props.dispatch(Object(Q.i)())},qa.prototype.handleGroupCategorySelect=function(oa){var xa=this.props.stateTree.parameters.filter.groupCategories;xa&&xa.value===oa.value?this.props.dispatch(Object(L.w)()):this.props.dispatch(Object(L.w)(oa));
this.props.dispatch(Object(Q.i)())},qa.prototype.handleClearGroupCategories=function(){this.props.dispatch(Object(L.w)());this.props.dispatch(Object(Q.i)())},qa.prototype.handleTagsFilterStringChange=function(oa){this.props.dispatch(Object(X.e)(oa))},qa}(S.Component);O.a=Object(S.connect)(function(Fa){return{stateTree:Fa}},function(Fa){return{dispatch:Fa}})(I)},,,,,,function(S,O,I){function ba(aa){var P;aa=Object(W.a)(aa);return!0===(null===(P=aa.portalProperties)||void 0===P?void 0:P.semanticSearchEnabled)||
aa.portalUser&&!aa.portalUser.orgId}I.d(O,"a",function(){return ba});var W=I(126)},function(S,O,I){I.d(O,"a",function(){return W});I.d(O,"b",function(){return aa});var ba=I(286),W="VIEW_ITEM_DETAILS",aa=function(P){return function(L){L({type:W,payload:P});L(Object(ba.c)(P))}}},,,,,,function(S,O,I){I.d(O,"b",function(){return ba});I.d(O,"a",function(){return W});I.d(O,"c",function(){return aa});var ba="CLOSING_DETAILS_PANE",W="CLOSE_DETAILS_PANE",aa=function(){return{type:ba}}},,,,,,,,,function(S,
O){S.exports=b},function(S,O){S.exports=c},function(S,O){S.exports=k},function(S,O,I){I.d(O,"a",function(){return L});var ba=I(0),W=I(69);S=I(254);var aa=I.n(S);S=I(16);var P=I(90),L=function(Q){function X(Y){var da=Q.call(this,Y)||this;return da.state.searchTerm=da.props.currentSearchString||"",da.debouncedInput=aa()(function(){da.props.changeSearchString.apply(da,[da.state.searchTerm])},400),da.handleInputChange=da.handleInputChange.bind(da),da.handleClear=da.handleClear.bind(da),da}return Object(ba.d)(X,
Q),X.prototype.componentWillReceiveProps=function(Y){Y.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:Y.currentSearchString})},X.prototype.render=function(Y){var da=this.props,ha=da.title,ma=da.placeholder;da=da.controls;var na=this.state.searchTerm||"";return Y("div",{"class":"ac-search-area"},Y("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},Y("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",
fill:"currentColor"})),Y("input",{"class":"ac-search-area__input",key:"search-input",title:ha,"aria-label":ha,type:"search",oninput:this.handleInputChange,value:na,placeholder:ma,"aria-controls":da}),na&&Y("button",{"class":"ac-search-area__clear",onclick:this.handleClear,key:"search-input-button","aria-label":W.clearSearch},Y("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},Y("path",{d:P.k,fill:"currentColor"}))))},X.prototype.handleInputChange=function(Y){this.setState({searchTerm:Y.target.value});
this.debouncedInput()},X.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},X}(S.Component)},function(S,O){S.exports=r},,,,,,,,,,,,,,,,,,,,,,function(S,O,I){I.d(O,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,P){return aa?Object(ba.g)(Object(ba.g)([],P),["(group:"+aa.id+")"]):P})},function(S,O,I){I.d(O,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,P,L){if(aa)switch(aa.value){case "authoritative":return P&&
P.orgId&&!P.portal.isPortal?Object(ba.g)(Object(ba.g)([],L),["((contentstatus:org_authoritative orgid:"+P.orgId+") OR contentstatus:public_authoritative)"]):P&&P.orgId&&P.portal.isPortal?Object(ba.g)(Object(ba.g)([],L),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(ba.g)(Object(ba.g)([],L),["(contentstatus:public_authoritative)"]);case "deprecated":return Object(ba.g)(Object(ba.g)([],L),["(contentstatus:deprecated)"])}return L})},function(S,O,I){I.d(O,"a",function(){return W});
var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,P){return aa?Object(ba.g)(Object(ba.g)([],P),["(access:"+aa.value+")"]):P})},function(S,O,I){I.d(O,"a",function(){return W});var ba=I(0);S=I(15);var W=Object(S.a)(function(aa,P){if(aa){var L=function(Q){for(var X,Y=0,da=Object.keys(Q);Y<da.length;Y++){var ha=Q[da[Y]];if(ha.selected){X=ha.items;break}ha=ha.participants.filter(function(ma){return ma.selected});if(0<ha.length){X=ha[0].items;break}}return X}(aa);if(L)return L=L.join(" OR "),Object(ba.g)(Object(ba.g)([],
P),["id:("+L+")"])}return P})},function(S,O,I){I.d(O,"a",function(){return aa});S=I(56);var ba=I.n(S),W=I(30),aa=function(P,L,Q,X){function Y(va){Aa=va.categorySchema[0].source.split(".")[1];Object(W.e)(P,L,Q.contentCategorySetsGroupQuery).then(da,wa);Object(W.v)(P,L.restUrl+"/portals/regions",{culture:X}).then(na,wa)}function da(va){va.results[0]?Object(W.v)(P,L.restUrl+"/content/groups/"+va.results[0].id+"/search",{q:"typekeywords: "+Aa}).then(ha,wa):wa("The content category sets group could not be found.")}
function ha(va){1===va.results.length&&va.results[0]?Object(W.h)(P,L,va.results[0].id).then(ma,wa):wa("The item containing the living atlas categories could not be determined.")}function ma(va){Ba=va.categorySchema[0];Q.isPortal&&Oa?sa([Ba]):Oa&&sa([Ba,Oa])}function na(va){Oa={categories:va.map(function(Fa){return{displayName:Fa.localizedName,title:Fa.region}}).sort(function(Fa,qa){return"wo"===Fa.title.toLowerCase()?-1:Fa.displayName.localeCompare(qa.displayName)}),description:"2.0",displayName:"Regions",
title:"region"};Q.isPortal&&Ba?sa([Ba]):Ba&&sa([Ba,Oa])}function sa(va){Ja.resolve({schema:va,id:ya})}function wa(va){Ja.reject(va)}void 0===X&&(X="en");var ya,Aa,Ba,Oa,Ja=new ba.a;return Object(W.e)(P,L,Q.livingAtlasGroupQuery,(null==L?0:L.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(va){va.results[0]&&va.results[0].id?(ya=va.results[0].id,Object(W.f)(P,L,ya).then(Y,wa)):wa("The living atlas group could not be found.")},wa),Ja}},,,,,,,function(S,O,I){I.d(O,"a",function(){return ba});
I.d(O,"b",function(){return W});var ba="CHANGE_SEARCH_STRING",W=function(aa){return{type:ba,payload:aa}}},function(S,O,I){I.d(O,"b",function(){return ba});I.d(O,"a",function(){return W});var ba="SHOW_EMPTY_RESULTS",W="CHANGE_RESULT_DISPLAY"},,,function(S,O,I){I.d(O,"a",function(){return W});I.d(O,"c",function(){return aa});I.d(O,"b",function(){return P});I.d(O,"d",function(){return L});I.d(O,"e",function(){return Q});S=I(254);S=I.n(S);var ba=I(162),W="LOADING_TAGS",aa="LOADING_TAGS_SUCCESS",P="LOADING_TAGS_FAILED",
L="UPDATE_TAGS_FILTER_STRING",Q=function(Y){return function(da,ha){da({type:L,payload:Y});2<Y.length&&X(da,ha(),Y)}},X=S()(function(Y,da,ha){Y({type:W});var ma=da.settings.utils.request;da=Object(ba.c)(da,ha);ma(da[0],da[1]).then(function(na){Y({type:aa,payload:na.data})},function(na){return Y({type:P,payload:na})})},400)},,function(S,O,I){I.d(O,"a",function(){return aa});I.d(O,"b",function(){return P});I.d(O,"c",function(){return L});S=I(16);O=I(428);var ba=I(453),W=I(461);I=I(478);var aa=O.b.config,
P={parameters:ba.b,settings:O.b,results:W.b,ui:I.b},L=Object(S.combineReducers)({settings:O.a,parameters:ba.a,results:W.a,ui:I.a})},,,function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(49),P=I(48),L=I(566),Q=I.n(L),X=I(86),Y=I(5),da={itemType:Object(aa.y)(),modified:Object(aa.C)(),created:Object(aa.t)(),shared:Object(aa.G)(),folder:Object(aa.v)(),group:Object(aa.x)(),status:Object(aa.H)(),orgGroup:Object(aa.E)()};I=function(ha){function ma(na){na=ha.call(this,na)||this;return na.handleRemoveMapAreaFilter=
na.handleRemoveMapAreaFilter.bind(na),na.handleRemoveSearchOrgFilter=na.handleRemoveSearchOrgFilter.bind(na),na.handleRemoveGeneralFilter=na.handleRemoveGeneralFilter.bind(na),na.handleRemoveOrgCategoriesFilter=na.handleRemoveOrgCategoriesFilter.bind(na),na.handleRemoveLACategoriesFilter=na.handleRemoveLACategoriesFilter.bind(na),na.handleRemoveLARegionFilter=na.handleRemoveLARegionFilter.bind(na),na.handleRemoveGroupCategoriesFilter=na.handleRemoveGroupCategoriesFilter.bind(na),na.handleClearAll=
na.handleClearAll.bind(na),na.handleRemoveTagsFilter=na.handleRemoveTagsFilter.bind(na),na.handleRemoveCollaborationFilter=na.handleRemoveCollaborationFilter.bind(na),na.handleRemoveCustomFilter=na.handleRemoveCustomFilter.bind(na),na}return Object(ba.d)(ma,ha),ma.prototype.render=function(na){var sa,wa,ya=this,Aa=this.props.stateTree.parameters.filter,Ba=[];if(null===(sa=this.props.staticFilters)||void 0===sa||sa.forEach(function(va){Ba.push({filterId:va,text:va,"static":!0})}),Aa.searchOrg&&"all"===
this.props.stateTree.parameters.section&&(null===(wa=this.props.stateTree.settings.utils.portal.user)||void 0===wa?void 0:wa.credential)&&this.props.stateTree.settings.utils.portal.name&&Ba.push({filterId:"searchOrg",onRemove:this.handleRemoveSearchOrgFilter,text:"Organization: "+this.props.stateTree.settings.utils.portal.name}),Aa.searchMapArea&&Ba.push({filterId:"searchMapArea",onRemove:this.handleRemoveMapAreaFilter,text:this.props.stateTree.settings.config.mapAreaFilterChipText?this.props.stateTree.settings.config.mapAreaFilterChipText:
W.filterChips.mapArea}),Aa.itemType&&Ba.push({filterId:"itemType",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.type+": "+Aa.itemType.text}),Aa.dateModified&&Ba.push({filterId:"modified",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.dateModified+": "+Aa.dateModified.label}),Aa.dateCreated&&Ba.push({filterId:"created",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.dateCreated+": "+Aa.dateCreated.label}),Aa.shared&&Ba.push({filterId:"shared",onRemove:this.handleRemoveGeneralFilter,
text:W.filterChips.access+": "+Aa.shared.text}),Aa.group&&"myGroups"===this.props.stateTree.parameters.section?Ba.push({filterId:"group",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.group+": "+Aa.group.title}):Aa.orgGroup&&"myOrganization"===this.props.stateTree.parameters.section&&Ba.push({filterId:"orgGroup",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.group+": "+Aa.orgGroup.title}),Aa.folder&&"myContent"===this.props.stateTree.parameters.section&&Ba.push({filterId:"folder",
onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.folder+": "+Aa.folder.title}),Aa.status&&Ba.push({filterId:"status",onRemove:this.handleRemoveGeneralFilter,text:W.filterChips.status+": "+Aa.status.text}),Aa.orgCategories)sa=Aa.orgCategories,Ba.push({filterId:sa.value,onRemove:this.handleRemoveOrgCategoriesFilter,text:W.filterChips.category+": "+sa.text});Aa.livingAtlasCategories&&(sa=Aa.livingAtlasCategories,Ba.push({filterId:sa.value,onRemove:this.handleRemoveLACategoriesFilter,text:W.filterChips.category+
": "+sa.text}));Aa.groupCategories&&(sa=Aa.groupCategories,Ba.push({filterId:sa.value,onRemove:this.handleRemoveGroupCategoriesFilter,text:W.filterChips.category+": "+sa.text}));Aa.livingAtlasRegion&&(sa=Aa.livingAtlasRegion,Ba.push({filterId:sa.value,onRemove:this.handleRemoveLARegionFilter,text:W.filterChips.region+": "+sa.text}));Aa.tags&&Object.keys(Aa.tags).forEach(function(va){Ba.push({filterId:va,onRemove:ya.handleRemoveTagsFilter,text:W.filterChips.tagged+": "+va})});if(Aa.origins){var Oa=
Aa.origins;Object.keys(Aa.origins).forEach(function(va){var Fa;Oa[va].selected?Ba.push({filterId:Oa[va].value,onRemove:ya.handleRemoveCollaborationFilter,text:W.filterChips.collaboration+": "+Oa[va].label}):null===(Fa=Oa[va].participants)||void 0===Fa||Fa.forEach(function(qa){qa.selected&&Ba.push({filterId:qa.value,onRemove:ya.handleRemoveCollaborationFilter,text:W.filterChips.collaboration+": "+qa.label})})})}var Ja=Object(X.b)(this.props.stateTree.settings.config.customSections,this.props.stateTree.parameters.section);
if(Ja&&!Object(Y.b)(Aa.customFilter)&&Object.keys(Aa.customFilter).filter(function(va){return Aa.customFilter[va]}).forEach(function(va){var Fa,qa=parseInt(va,10);(null===(Fa=null==Ja?void 0:Ja.filters)||void 0===Fa?0:Fa[qa])&&Ba.push({filterId:""+qa,onRemove:ya.handleRemoveCustomFilter,text:Ja.filters[qa].displayName+": "+Aa.customFilter[va].text})}),0<Ba.length)return na("div",{key:"active-filter-area","class":"ib__active-filters filter-chip-wrap"},na(Q.a,{key:"item-browser-filter-controller",filters:Ba,
onClear:this.handleClearAll,mode:"fullscreen"===this.props.stateTree.settings.config.layoutMode?"expanding":"full-width",startOpen:"fullscreen"===this.props.stateTree.settings.config.layoutMode,theme:this.props.theme,showLabel:this.props.showLabel}))},ma.prototype.handleRemoveCustomFilter=function(na){this.props.dispatch(Object(aa.u)(parseInt(na.target.value,10)));this.props.dispatch(Object(P.i)())},ma.prototype.handleRemoveGeneralFilter=function(na){this.props.dispatch(da[na.target.value]);this.props.dispatch(Object(P.i)("folder"===
na.target.value))},ma.prototype.handleRemoveMapAreaFilter=function(na){this.props.dispatch(Object(aa.B)(!1));this.props.dispatch(Object(P.i)())},ma.prototype.handleRemoveSearchOrgFilter=function(na){this.props.dispatch(Object(aa.F)(!1));this.props.dispatch(Object(P.i)())},ma.prototype.handleClearAll=function(){var na=!!this.props.stateTree.parameters.filter.folder;this.props.dispatch({type:aa.a});this.props.dispatch(Object(P.i)(na))},ma.prototype.handleRemoveOrgCategoriesFilter=function(na){this.props.dispatch(Object(aa.D)());
this.props.dispatch(Object(P.i)())},ma.prototype.handleRemoveLACategoriesFilter=function(na){this.props.dispatch(Object(aa.z)());this.props.dispatch(Object(P.i)())},ma.prototype.handleRemoveGroupCategoriesFilter=function(na){this.props.dispatch(Object(aa.w)());this.props.dispatch(Object(P.i)())},ma.prototype.handleRemoveLARegionFilter=function(na){this.props.dispatch(Object(aa.A)());this.props.dispatch(Object(P.i)())},ma.prototype.handleRemoveTagsFilter=function(na){var sa=this.props.stateTree.parameters.filter.tags;
if(null==sa?0:sa[na.target.value])sa=Object(ba.a)({},sa),delete sa[na.target.value],0<Object.keys(sa).length?this.props.dispatch(Object(aa.I)(sa)):this.props.dispatch(Object(aa.I)()),this.props.dispatch(Object(P.i)())},ma.prototype.handleRemoveCollaborationFilter=function(na){this.props.dispatch(Object(aa.s)());this.props.dispatch(Object(P.i)())},ma}(S.Component);O.a=Object(S.connect)(function(ha){return{stateTree:ha}},function(ha){return{dispatch:ha}})(I)},,,,,,,,,,function(S,O,I){I.d(O,"b",function(){return W});
S=I(16);var ba=I(451);I=I(452);var W={config:ba.b,utils:I.b};O.a=Object(S.combineReducers)({config:ba.a,utils:I.a})},,,,,,function(S,O,I){I.d(O,"b",function(){return W});I.d(O,"a",function(){return aa});I.d(O,"c",function(){return P});var ba=I(78),W="START_CUSTOM_ACTION",aa="END_CUSTOM_ACTION",P=function(L,Q){return function(X,Y){var da=Y().settings.config.customActions.filter(function(ha){return ha.name===L})[0];da&&(da.asynchronous?(X({type:W,payload:Q}),da.onAction(Object(ba.b)(Q)).then(function(){X({type:aa,
payload:Q})},function(){X({type:aa,payload:Q})})):da.onAction(Object(ba.b)(Q)))}}},,,,,,,,,,,,,,,,,function(S,O,I){I.d(O,"b",function(){return X});var ba=I(0);S=I(36);var W=I(100),aa=I(264),P=I(141),L=I(99),Q=I(86),X={asynchronousItemSelect:!1,usePrimaryButtonStyle:!0,dialogTitle:"Item Browser",disableMainAction:!1,mainActionTitle:S.itemDetails.addToMap,mainInverseActionTitle:S.itemDetails.removeFromMap,onSelect:function(){},onDeselect:function(){},onBulkAction:function(){},preSelect:function(){},
disableOnSelect:!1,baseSections:"myContent myFavorites myGroups myOrganization livingAtlas all".split(" "),layoutMode:"adjustable",detailsPaneType:"flyout",singleItemSelect:!1,enableMapAreaFilter:!0,mapAreaThrottleTime:2500,enableSelectAllItemsFromQuery:!1,showSubmitButton:!0,submitButtonText:"Submit Selection",cancelButtonText:"Cancel",clearSelectionBetweenSearches:!1,resultsPerQuery:16,allowedItemTypes:P.a,availableItemTypeFilters:"maps webMaps mapFiles layers featureLayers tileLayers mapImageLayers imageryLayers sceneLayers tables layerFiles scenes apps webApps experienceApps instantApps sites pages storyMaps mobileApps desktopApps tools analytics locators geodatabaseAccess geometricOperations geoprocessingTasks networkAnalysis files documents images pdfs csvs reports webTools notebooks tiledImageLayers elevationLayers rasterFunctionTemplates knowledgeGraphs".split(" "),
disableItemTypeFilters:!1,customActions:[],customSections:[],showCloseBtn:!1,showBackBtn:!0,onBack:function(){},hideEllipses:!1,replaceSectionDropdownWithTitle:!1,disabledSubResources:{},noItemsFoundText:S.results.noItemsFound,itemSelectionEnabled:!1,disableInitiallySelectedItems:!1};O.a=function(Y,da){switch(void 0===Y&&(Y=X),da.type){case aa.b:return Object(L.f)("id",Y.customSections.filter(Q.f).map(Q.a).reduce(function(ha,ma){return Object(ba.g)(Object(ba.g)([],ha),ma)},[]).filter(function(ha){return"object"==
typeof ha&&"group"===ha.type})).forEach(function(ha,ma){ha.id=da.payload.groups[ma].id;delete ha.fetchGroupIdByQuery}),Y;case W.e:return Object(ba.a)(Object(ba.a)({},Y),{itemSelectionEnabled:!0});default:return Y}}},function(S,O,I){I.d(O,"b",function(){return P});var ba=I(0),W=I(326),aa=I(101),P={iconDir:"",portal:{},request:function(L){return null}};O.a=function(L,Q){switch(void 0===L&&(L=P),Q.type){case W.a:return Object(ba.a)(Object(ba.a)({},L),{self:Q.payload.self});default:return L.portal.portalHostname&&
!L.portal.baseUrl&&(L.portal.baseUrl=Object(aa.a)(L.portal)),L}}},function(S,O,I){I.d(O,"b",function(){return Q});S=I(16);var ba=I(454),W=I(456),aa=I(457),P=I(460),L=I(458);I=I(459);var Q={extent:ba.b,filter:W.b,nextQuery:aa.b,searchString:L.b,section:I.b,sort:P.b};O.a=Object(S.combineReducers)({extent:ba.a,filter:W.a,nextQuery:aa.a,searchString:L.a,section:I.a,sort:P.a})},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(0),W=I(455),aa={area:{minx:-180,miny:-90,maxx:180,maxy:90},throttling:!1};
O.a=function(P,L){switch(void 0===P&&(P=aa),L.type){case W.a:return Object(ba.a)(Object(ba.a)({},P),{throttling:!1});case W.b:return{area:L.payload,throttling:!0};default:return P}}},function(S,O,I){I.d(O,"b",function(){return W});I.d(O,"a",function(){return aa});I.d(O,"c",function(){return P});var ba=I(48),W="UPDATE_EXTENT",aa="UNTHROTTLE_EXTENT",P=function(L){return function(Q,X){var Y=X();Y.parameters.extent.throttling||(Q({type:W,payload:L}),Y.parameters.filter.searchMapArea&&Q(Object(ba.i)()),
setTimeout(function(){Q({type:aa})},Y.settings.config.mapAreaThrottleTime))}}},function(S,O,I){I.d(O,"b",function(){return P});var ba=I(0),W=I(49),aa=I(288),P={customFilter:{},searchMapArea:!1};O.a=function(L,Q){var X;switch(void 0===L&&(L=P),Q.type){case W.a:return{customFilter:{},searchMapArea:!1};case W.n:return Object(ba.a)(Object(ba.a)({},L),{orgGroup:Q.payload});case W.j:return Object(ba.a)(Object(ba.a)({},L),{livingAtlasRegion:Q.payload});case W.i:return Object(ba.a)(Object(ba.a)({},L),{livingAtlasCategories:Q.payload});
case W.m:return Object(ba.a)(Object(ba.a)({},L),{orgCategories:Q.payload});case W.f:return Object(ba.a)(Object(ba.a)({},L),{groupCategories:Q.payload});case W.h:return Object(ba.a)(Object(ba.a)({},L),{itemType:Q.payload});case W.l:return Object(ba.a)(Object(ba.a)({},L),{dateModified:Q.payload.modified});case W.c:return Object(ba.a)(Object(ba.a)({},L),{dateCreated:Q.payload.created});case W.p:return Object(ba.a)(Object(ba.a)({},L),{shared:Q.payload});case W.e:return Object(ba.a)(Object(ba.a)({},L),
{folder:Q.payload});case W.g:return Object(ba.a)(Object(ba.a)({},L),{groupCategories:void 0,group:Q.payload});case W.q:return Object(ba.a)(Object(ba.a)({},L),{status:Q.payload});case W.k:return Object(ba.a)(Object(ba.a)({},L),{searchMapArea:Q.payload});case W.o:return Object(ba.a)(Object(ba.a)({},L),{searchOrg:Q.payload,orgCategories:void 0});case W.r:return Object(ba.a)(Object(ba.a)({},L),{tags:Q.payload});case W.b:return Object(ba.a)(Object(ba.a)({},L),{origins:Q.payload});case W.d:return Object(ba.a)(Object(ba.a)({},
L),{customFilter:Object(ba.a)(Object(ba.a)({},L.customFilter),(X={},X[Q.payload.index]=Q.payload.filter,X))});case aa.a:return{customFilter:{},searchMapArea:!1};default:return L}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(0),W=I(48),aa={nextStart:-1,total:0};O.a=function(P,L){switch(void 0===P&&(P=aa),L.type){case W.a:return Object(ba.a)(Object(ba.a)({},P),{total:0});case W.c:return{nextStart:L.payload.search.nextStart,total:L.payload.search.total};case W.f:return{nextStart:L.payload.nextStart,
total:L.payload.total};case W.g:return{nextStart:-1,total:L.payload.length};default:return P}}},function(S,O,I){I.d(O,"b",function(){return P});var ba=I(0),W=I(48),aa=I(409),P={current:"",previous:""};O.a=function(L,Q){switch(void 0===L&&(L=P),Q.type){case W.a:return Object(ba.a)(Object(ba.a)({},L),{previous:L.current});case aa.a:return Object(ba.a)(Object(ba.a)({},L),{current:Q.payload});default:return L}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(288),W=I(326),aa="all";O.a=function(P,
L){switch(void 0===P&&(P=aa),L.type){case ba.a:return L.payload.newSection;case W.a:var Q=L.payload.config.baseSections,X=L.payload.config.customSections.map(function(Y){return Y.name});return-1<Q.indexOf(P)||-1<X.indexOf(P)?P:0<Q.length?Q[0]:0<X.length?X[0]:"all";default:return P}}},function(S,O,I){I.d(O,"b",function(){return X});var ba=I(0),W=I(290),aa=I(288),P=I(264),L=I(86),Q=I(99),X={field:"relevance",order:"desc"},Y={myContent:"modified",myFavorites:"modified",myGroups:"modified",myOrganization:"modified",
livingAtlas:"relevance",all:"relevance"},da={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};O.a=function(ha,ma){switch(void 0===ha&&(ha=X),ma.type){case W.b:return Object(ba.a)(Object(ba.a)({},ha),{order:ma.payload});case W.a:var na=ma.payload;return{field:na,order:da[na]||ha.order};case aa.a:na=Object(L.b)(ma.payload.customSections,ma.payload.newSection);if(null==na?0:na.filters){var sa=na.filters.filter(function(wa){return"object"==typeof wa&&
"group"===wa.type})[0];if(null==sa?0:sa.id)if(sa=ma.payload.customSectionGroupSort[sa.id])return sa}na=Y[ma.payload.newSection]||(null==na?void 0:na.sortField);return{field:na||"relevance",order:da[na]||"desc"};case P.b:sa=ma.payload;na=sa.customSections;sa=Object(L.b)(na,sa.currentSection);if(null==sa?0:sa.filters)if(na=Object(Q.f)("id",na.filter(L.f).map(L.a).reduce(function(wa,ya){return Object(ba.g)(Object(ba.g)([],wa),ya)},[]).filter(function(wa){return"object"==typeof wa&&"group"===wa.type})),
sa=sa.filters.filter(function(wa){return"object"==typeof wa&&"group"===wa.type})[0],na=ma.payload.groups[na.indexOf(sa)])return{field:na.sortField||"relevance",order:na.sortOrder||"desc"};return ha;default:return ha}}},function(S,O,I){I.d(O,"b",function(){return wa});S=I(16);var ba=I(462),W=I(465),aa=I(466),P=I(467),L=I(468),Q=I(469),X=I(471),Y=I(470),da=I(472),ha=I(473),ma=I(474),na=I(475),sa=I(476);I=I(477);var wa={counts:ba.b,displayItems:W.b,livingAtlas:aa.b,loadingItems:P.b,selectedItems:L.b,
initiallySelectedItems:Q.b,failedItemDetails:Y.b,fullItemDetails:X.b,organization:da.b,user:ha.b,customSections:ma.b,allOrganizations:na.b,users:sa.b,provisionedContent:I.b};O.a=Object(S.combineReducers)({counts:ba.a,displayItems:W.a,loadingItems:P.a,selectedItems:L.a,failedItemDetails:Y.a,fullItemDetails:X.a,initiallySelectedItems:Q.a,livingAtlas:aa.a,organization:da.a,user:ha.a,customSections:ma.a,allOrganizations:na.a,users:sa.a,provisionedContent:I.a})},function(S,O,I){I.d(O,"b",function(){return W});
S=I(16);var ba=I(463);I=I(464);var W={access:ba.b,contentStatus:I.b};O.a=Object(S.combineReducers)({access:ba.a,contentStatus:I.a})},function(S,O,I){I.d(O,"b",function(){return W});var ba=I(48),W={org:void 0,"private":void 0,"public":void 0,shared:void 0};O.a=function(aa,P){switch(void 0===aa&&(aa=W),P.type){case ba.c:if(P.payload.aggregations&&P.payload.aggregations.counts){var L=P.payload.aggregations.counts.filter(function(da){return"access"===da.fieldName})[0];if(L){var Q=L.fieldValues.filter(function(da){return"org"===
da.value})[0],X=L.fieldValues.filter(function(da){return"private"===da.value})[0],Y=L.fieldValues.filter(function(da){return"public"===da.value})[0];L=L.fieldValues.filter(function(da){return"shared"===da.value})[0];return{org:Q?Q.count:void 0,"private":X?X.count:void 0,"public":Y?Y.count:void 0,shared:L?L.count:void 0}}}return aa;default:return aa}}},function(S,O,I){I.d(O,"b",function(){return W});var ba=I(48),W={publicAuthoritative:0,orgAuthoritative:0,deprecated:0};O.a=function(aa,P){switch(void 0===
aa&&(aa=W),P.type){case ba.c:if(P.payload.aggregations&&P.payload.aggregations.counts){var L=P.payload.aggregations.counts.filter(function(Y){return"contentstatus"===Y.fieldName})[0];if(L){var Q=L.fieldValues.filter(function(Y){return"org_authoritative"===Y.value})[0],X=L.fieldValues.filter(function(Y){return"public_authoritative"===Y.value})[0];L=L.fieldValues.filter(function(Y){return"deprecated"===Y.value})[0];return{publicAuthoritative:X?X.count:0,orgAuthoritative:Q?Q.count:0,deprecated:L?L.count:
0}}}return aa;default:return aa}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(0),W=I(48),aa=[];O.a=function(P,L){switch(void 0===P&&(P=[]),L.type){case W.c:return L.payload.search.results;case W.g:return L.payload;case W.f:return Object(ba.g)(Object(ba.g)([],P),L.payload.results);default:return P}}},function(S,O,I){I.d(O,"b",function(){return L});var ba=I(0),W=I(327),aa=I(48),P=I(182),L={categorySchema:void 0,groupId:void 0,status:"initial"};O.a=function(Q,X){switch(void 0===Q&&(Q=
L),X.type){case W.a:return Object(ba.a)(Object(ba.a)({},Q),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},Q),{categorySchema:{displayName:X.payload.id,value:X.payload.id,children:Object(P.b)(X.payload.schema)},groupId:X.payload.id,status:"loaded"});case aa.c:return Q.categorySchema&&X.payload.aggregations&&X.payload.aggregations.countInfo&&"livingAtlas"===X.payload.aggregations.countInfo.section?Object(ba.a)(Object(ba.a)({},Q),{categorySchema:Object(P.c)(X.payload.aggregations,Object(P.a)(Q.categorySchema),
"groupCategories")}):Q;case W.c:return Object(ba.a)(Object(ba.a)({},Q),{status:"failed"});default:return Q}}},function(S,O,I){I.d(O,"b",function(){return Q});var ba=I(0),W=I(100),aa=I(434),P=I(71),L=I(173),Q={};O.a=function(X,Y){var da,ha,ma,na,sa,wa,ya,Aa,Ba,Oa,Ja,va;switch(void 0===X&&(X={}),Y.type){case W.h:return Object(ba.a)(Object(ba.a)({},X),((da={})[Y.payload.id]=Y.payload,da));case W.g:return Object(ba.a)(Object(ba.a)({},X),((ha={})[Y.payload.id]=void 0,ha));case W.j:return Object(ba.a)(Object(ba.a)({},
X),((ma={})[Y.payload.id]=void 0,ma));case W.i:return Object(ba.a)(Object(ba.a)({},X),((na={})[Y.payload.id]=void 0,na));case aa.b:return Object(ba.a)(Object(ba.a)({},X),((sa={})[Y.payload.id]=Y.payload,sa));case aa.a:return Object(ba.a)(Object(ba.a)({},X),((wa={})[Y.payload.id]=void 0,wa));case P.a:return{};case L.a:return Object(ba.a)(Object(ba.a)({},X),((ya={})[Y.payload.id]=Y.payload,ya));case L.c:return Object(ba.a)(Object(ba.a)({},X),((Aa={})[Y.payload.id]=void 0,Aa));case L.b:return Object(ba.a)(Object(ba.a)({},
X),((Ba={})[Y.payload.id]=void 0,Ba));case L.e:return Object(ba.a)(Object(ba.a)({},X),((Oa={})[Y.payload.id]=Y.payload,Oa));case L.g:return Object(ba.a)(Object(ba.a)({},X),((Ja={})[Y.payload.id]=void 0,Ja));case L.f:return Object(ba.a)(Object(ba.a)({},X),((va={})[Y.payload.id]=void 0,va));default:return X}}},function(S,O,I){I.d(O,"b",function(){return P});var ba=I(0),W=I(100),aa=I(71),P={};O.a=function(L,Q){var X;switch(void 0===L&&(L={}),Q.type){case W.b:return{};case W.f:return Object(ba.a)(Object(ba.a)({},
L),Q.payload.reduce(function(ha,ma){var na;return Object(ba.a)(Object(ba.a)({},ha),((na={})[ma.id]=ma,na))},{}));case W.c:var Y=L;var da=Q.payload.id;Y[da];return Object(ba.f)(Y,["symbol"==typeof da?da:da+""]);case W.g:return Object(ba.a)(Object(ba.a)({},L),((Y={})[Q.payload.id]=Q.payload,Y));case W.k:return L[Q.payload.id]?(Y=L,da=Q.payload.id,Y[da],Object(ba.f)(Y,["symbol"==typeof da?da:da+""])):Object(ba.a)(Object(ba.a)({},L),((da={})[Q.payload.id]=Q.payload,da));case W.j:return(X={})[Q.payload.id]=
Q.payload,X;case W.e:return Object(ba.a)(Object(ba.a)({},L),Q.payload);case aa.a:return{};default:return L}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(0),W=I(100),aa={};O.a=function(P,L){switch(void 0===P&&(P={}),L.type){case W.e:return Object(ba.a)(Object(ba.a)({},P),L.payload);default:return P}}},function(S,O,I){I.d(O,"b",function(){return P});var ba=I(0),W=I(286),aa=I(357),P={};O.a=function(L,Q){var X;switch(void 0===L&&(L=P),Q.type){case W.b:return L[Q.payload.item.id]?(delete (Y=
Object(ba.a)({},L))[Q.payload.item.id],Y):L;case aa.a:var Y;return L[Q.payload.id]?(delete (Y=Object(ba.a)({},L))[Q.payload.id],Y):L;case W.a:return Object(ba.a)(Object(ba.a)({},L),((X={})[Q.payload]=!0,X));default:return L}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(0),W=I(286),aa={};O.a=function(P,L){var Q;switch(void 0===P&&(P=aa),L.type){case W.b:return Object(ba.a)(Object(ba.a)({},P),((Q={})[L.payload.item.id]=L.payload.item,Q));case W.a:return P[L.payload]?(Q=Object(ba.a)({},
P),delete Q[L.payload],Q):P;default:return P}}},function(S,O,I){I.d(O,"b",function(){return L});var ba=I(0),W=I(266),aa=I(48),P=I(182),L={categorySchema:void 0,groups:void 0,status:"initial",servers:[]};O.a=function(Q,X){switch(void 0===Q&&(Q=L),X.type){case W.a:return Object(ba.a)(Object(ba.a)({},Q),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},Q),{groups:X.payload.groups,categorySchema:{displayName:"##orgCatRoot--1337!",value:"##orgCatRoot--1337!",children:Object(P.b)(X.payload.schema)},
status:"loaded",servers:X.payload.servers||[]});case aa.c:return Q.categorySchema&&X.payload.aggregations&&X.payload.aggregations.countInfo&&("myOrganization"===X.payload.aggregations.countInfo.section||"myContent"===X.payload.aggregations.countInfo.section||"all"===X.payload.aggregations.countInfo.section)?Object(ba.a)(Object(ba.a)({},Q),{categorySchema:Object(P.c)(X.payload.aggregations,Object(P.a)(Q.categorySchema),"categories")}):Q;case W.c:return Object(ba.a)(Object(ba.a)({},Q),{status:"failed"});
default:return Q}}},function(S,O,I){I.d(O,"b",function(){return L});var ba=I(0),W=I(173),aa=I(48),P=I(182),L={favorites:void 0,folders:void 0,groups:void 0,groupCategories:{},status:"initial"};O.a=function(Q,X){var Y,da,ha,ma,na;switch(void 0===Q&&(Q=L),X.type){case W.d:return Object(ba.a)(Object(ba.a)({},Q),{status:"loading"});case W.i:return Object(ba.a)(Object(ba.a)({},Q),{favorites:X.payload.favorites,folders:X.payload.folders,groups:X.payload.groups,status:"loaded"});case W.h:return Object(ba.a)(Object(ba.a)({},
Q),{groupCategories:Object(ba.a)(Object(ba.a)({},Q.groupCategories),(Y={},Y[X.payload.id]={value:X.payload.id,children:Object(P.b)(X.payload.categorySchema)},Y))});case aa.c:return X.payload.aggregations&&X.payload.aggregations.countInfo&&"myGroups"===X.payload.aggregations.countInfo.section&&X.payload.aggregations.countInfo.group&&(Y=X.payload.aggregations.countInfo.group.id,Q.groupCategories[Y])?Object(ba.a)(Object(ba.a)({},Q),{groupCategories:Object(ba.a)(Object(ba.a)({},Q.groupCategories),(da=
{},da[Y]=Object(P.c)(X.payload.aggregations,Object(P.a)(Q.groupCategories[Y]),"groupCategories"),da))}):Q;case W.j:return Object(ba.a)(Object(ba.a)({},Q),{status:"failed"});case W.c:return Object(ba.a)(Object(ba.a)({},Q),{favorites:Q.favorites?Object(ba.a)(Object(ba.a)({},Q.favorites),(ha={},ha[X.payload.id]=!0,ha)):(ma={},ma[X.payload.id]=!0,ma)});case W.g:return Object(ba.a)(Object(ba.a)({},Q),{favorites:Q.favorites?Object(ba.a)(Object(ba.a)({},Q.favorites),(na={},na[X.payload.id]=!1,na)):{}});
default:return Q}}},function(S,O,I){function ba(X,Y,da){return Y.filter(function(ha){return ha.type===X}).reduce(function(ha,ma){return ha[ma.id]||(ha[ma.id]={value:ma.id,children:Object(L.b)(ma.response.categorySchema)}),ha},Object(W.a)({},da))}I.d(O,"b",function(){return Q});var W=I(0),aa=I(264),P=I(48),L=I(182),Q={groupSchemas:{},groupSort:{},orgSchemas:{},status:"initial"};O.a=function(X,Y){switch(void 0===X&&(X=Q),Y.type){case aa.a:return Object(W.a)(Object(W.a)({},X),{status:"loading"});case aa.b:return Object(W.a)(Object(W.a)({},
X),{groupSort:Y.payload.groups.reduce(function(ha,ma){return ha[ma.id]={field:ma.sortField,order:ma.sortOrder},ha},X.groupSort)});case aa.c:return Object(W.a)(Object(W.a)({},X),{orgSchemas:ba("org",Y.payload,X.orgSchemas),groupSchemas:ba("group",Y.payload,X.groupSchemas),status:"loaded"});case aa.d:return Object(W.a)(Object(W.a)({},X),{status:"failed"});case P.c:if(Y.payload.aggregations){var da=Y.payload.aggregations.countInfo;if(da.custom&&da.custom.filters)return da.custom.filters.filter(function(ha){return"object"==
typeof ha}).reduce(function(ha,ma){var na,sa;return"group"===ma.type?Object(W.a)(Object(W.a)({},X),{groupSchemas:Object(W.a)(Object(W.a)({},X.groupSchemas),(na={},na[ma.id]=Object(L.c)(Y.payload.aggregations,Object(L.a)(X.groupSchemas[ma.id]),"groupCategories"),na))}):"org"===ma.type?Object(W.a)(Object(W.a)({},X),{orgSchemas:Object(W.a)(Object(W.a)({},X.orgSchemas),(sa={},sa[ma.id]=Object(L.c)(Y.payload.aggregations,Object(L.a)(X.orgSchemas[ma.id]),"categories"),sa))}):ha},X)}return X;default:return X}}},
function(S,O,I){I.d(O,"b",function(){return P});var ba=I(0),W=I(48),aa=I(295),P={};O.a=function(L,Q){switch(void 0===L&&(L=P),Q.type){case W.c:return Object(ba.a)(Object(ba.a)({},L),Q.payload.search.organizations);case W.f:case aa.b:return Object(ba.a)(Object(ba.a)({},L),Q.payload.organizations);default:return L}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(0),W=I(286),aa={};O.a=function(P,L){var Q;switch(void 0===P&&(P=aa),L.type){case W.b:return Object(ba.a)(Object(ba.a)({},P),((Q=
{})[L.payload.owner.username]=L.payload.owner,Q));default:return P}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(0),W=I(256),aa={content:[],status:"initial"};O.a=function(P,L){switch(void 0===P&&(P=aa),L.type){case W.a:return Object(ba.a)(Object(ba.a)({},P),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},P),{status:"failed"});case W.c:return Object(ba.a)(Object(ba.a)({},P),{status:"loaded",content:L.payload});default:return P}}},function(S,O,I){I.d(O,"b",function(){return Q});
S=I(16);var ba=I(479),W=I(480),aa=I(484),P=I(485),L=I(486);I=I(487);var Q={sidePanel:ba.b,expanded:W.b,resultPanel:aa.b,filters:P.b,tagsFilter:L.b,pagination:I.b};O.a=Object(S.combineReducers)({sidePanel:ba.a,expanded:W.a,resultPanel:aa.a,filters:P.a,tagsFilter:L.a,pagination:I.a})},function(S,O,I){I.d(O,"b",function(){return X});var ba=I(0),W=I(363),aa=I(357),P=I(804),L=I(805),Q=I(48),X={closing:!1,type:"hidden"};O.a=function(Y,da){switch(void 0===Y&&(Y=X),da.type){case W.b:return Object(ba.a)(Object(ba.a)({},
Y),{closing:!0});case W.a:return Object(ba.a)(Object(ba.a)({},Y),{closing:!1,type:"hidden",item:void 0});case aa.a:return Object(ba.a)(Object(ba.a)({},Y),{type:"item",item:da.payload});case P.a:return Object(ba.a)(Object(ba.a)({},Y),{type:"filter",item:void 0});case L.a:return Object(ba.a)(Object(ba.a)({},Y),{type:"sort",item:void 0});case Q.c:return"item"===Y.type&&Y.item&&!da.payload.search.results.filter(function(ha){return Y.item&&ha.id===Y.item.id})[0]?Object(ba.a)(Object(ba.a)({},Y),{closing:!0}):
Y;case Q.g:return"item"===Y.type&&Y.item&&!da.payload.filter(function(ha){return Y.item&&ha.id===Y.item.id})[0]?Object(ba.a)(Object(ba.a)({},Y),{closing:!0}):Y;default:return Y}}},function(S,O,I){I.d(O,"b",function(){return L});S=I(481);var ba=I(482),W=I(483),aa=I(16),P=I(226),L={filters:S.b,sort:ba.b,sublayerCards:W.b,maximized:!1,closing:!1};O.a=Object(aa.combineReducers)({filters:S.a,sort:ba.a,sublayerCards:W.a,maximized:function(Q,X){switch(X.type){case P.c:return!0;case P.d:return!1;default:return Q}},
closing:function(Q,X){switch(X.type){case P.b:return!0;default:return Q}}})},function(S,O,I){I.d(O,"b",function(){return W});var ba=I(226),W=!1;O.a=function(aa,P){switch(P.type){case ba.e:return!aa;default:return aa}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(226),W=I(290),aa=!1;O.a=function(P,L){switch(L.type){case ba.f:return!P;case ba.a:return!1;case W.a:case W.b:return!P;default:return P}}},function(S,O,I){I.d(O,"b",function(){return aa});var ba=I(0),W=I(226),aa={cardStates:{},
overlayOpen:!1};O.a=function(P,L){var Q;switch(L.type){case W.g:return Object(ba.a)(Object(ba.a)({},P),{cardStates:Object(ba.a)(Object(ba.a)({},P.cardStates),(Q={},Q[L.payload.item.id]=L.payload,Q)),overlayOpen:L.payload.overlay.visible&&!L.payload.overlay.closing});default:return P}}},function(S,O,I){I.d(O,"b",function(){return P});var ba=I(0),W=I(48),aa=I(410),P={display:"list",status:"empty"};O.a=function(L,Q){switch(void 0===L&&(L=P),Q.type){case W.g:case W.c:case W.f:return Object(ba.a)(Object(ba.a)({},
L),{status:"success"});case W.b:case W.e:return Object(ba.a)(Object(ba.a)({},L),{status:"failed"});case W.a:return Object(ba.a)(Object(ba.a)({},L),{status:"loading"});case W.d:return Object(ba.a)(Object(ba.a)({},L),{status:"loadingNext"});case aa.a:return Object(ba.a)(Object(ba.a)({},L),{display:"table"===L.display?"list":"table"});case aa.b:return Object(ba.a)(Object(ba.a)({},L),{status:"empty"});default:return L}}},function(S,O,I){I.d(O,"b",function(){return P});var ba=I(0),W=I(49),aa=I(288),P=
{};O.a=function(L,Q){switch(void 0===L&&(L=P),Q.type){case W.a:return{};case W.l:return Object(ba.a)(Object(ba.a)({},L),{modifiedSection:Q.payload.section});case W.c:return Object(ba.a)(Object(ba.a)({},L),{createdSection:Q.payload.section});case aa.a:return{};default:return L}}},function(S,O,I){I.d(O,"b",function(){return Q});var ba=I(0);S=I(63);var W=I(99),aa=I(288),P=I(413),L=I(48),Q={allTags:[],filterString:"",visibleTags:[]};O.a=function(Y,da){switch(void 0===Y&&(Y=Q),da.type){case aa.a:return Object(ba.a)(Object(ba.a)({},
Y),{filterString:""});case P.d:return Object(ba.a)(Object(ba.a)({},Y),{filterString:da.payload,visibleTags:Y.allTags.filter(function(sa){return 0===da.payload.length||-1<sa.value.indexOf(da.payload)})});case P.a:return Y;case P.c:return da.payload.aggregations&&(ha=da.payload.aggregations.counts.filter(function(sa){return"tags"===sa.fieldName})[0])?(ha=(ma=Y.allTags,na=ha.fieldValues,X(ma.concat(na))),Object(ba.a)(Object(ba.a)({},Y),{allTags:ha,visibleTags:ha.filter(function(sa){return 0===Y.filterString.length||
-1<sa.value.indexOf(Y.filterString)})})):Y;case P.b:return Y;case L.c:var ha;return da.payload.aggregations&&(ha=da.payload.aggregations.counts.filter(function(sa){return"tags"===sa.fieldName})[0])?(ha=X(ha.fieldValues),Object(ba.a)(Object(ba.a)({},Y),{allTags:ha,visibleTags:ha.filter(function(sa){return 0===Y.filterString.length||-1<sa.value.indexOf(Y.filterString)})})):Y;default:return Y}var ma,na};O=Object(W.f)("value");var X=Object(S.a)(O,function(Y){return Y.map(function(da){var ha=da.count;
return{value:da.value.trim(),count:ha}})},function(Y){return Y.sort(function(da,ha){return ha.count-da.count})})},function(S,O,I){I.d(O,"b",function(){return L});var ba=I(0),W=I(295),aa=I(48),P=I(199),L={page:1,displayItems:[],userThumbnailCache:{},pendingUserThumbRequests:[],orgThumbnailCache:{},pendingOrgThumbRequests:[],status:"loading"};O.a=function(Q,X){switch(void 0===Q&&(Q=L),X.type){case W.c:return Object(ba.a)(Object(ba.a)({},Q),{status:"loading"});case W.b:return Object(ba.a)(Object(ba.a)({},
Q),{displayItems:X.payload.displayItems,page:X.payload.page,status:"success"});case W.a:return Object(ba.a)(Object(ba.a)({},Q),{status:"failed"});case aa.c:return Object(ba.a)(Object(ba.a)({},Q),{displayItems:X.payload.search.results,status:"success",page:1});case aa.g:return Object(ba.a)(Object(ba.a)({},Q),{displayItems:X.payload,status:"success",page:1});case P.c:return Object(ba.a)(Object(ba.a)({},Q),{pendingUserThumbRequests:Object(ba.g)(Object(ba.g)([],Q.pendingUserThumbRequests),X.payload).filter(function(Y,
da,ha){return ha.indexOf(Y)===da})});case P.d:return Object(ba.a)(Object(ba.a)({},Q),{userThumbnailCache:Object(ba.a)(Object(ba.a)({},Q.userThumbnailCache),X.payload),pendingUserThumbRequests:Q.pendingUserThumbRequests.filter(function(Y){return!X.payload[Y]})});case P.a:return Object(ba.a)(Object(ba.a)({},Q),{pendingOrgThumbRequests:Object(ba.g)(Object(ba.g)([],Q.pendingOrgThumbRequests),X.payload).filter(function(Y,da,ha){return ha.indexOf(Y)===da})});case P.b:return Object(ba.a)(Object(ba.a)({},
Q),{orgThumbnailCache:Object(ba.a)(Object(ba.a)({},Q.orgThumbnailCache),X.payload),pendingOrgThumbRequests:Q.pendingOrgThumbRequests.filter(function(Y){return!X.payload[Y]})});default:return Q}}},function(S,O,I){var ba=I(0);S=I(16);var W=I(547),aa=I(548),P=I(571),L=I(294),Q=I.n(L),X=I(100);I=function(Y){function da(){return null!==Y&&Y.apply(this,arguments)||this}return Object(ba.d)(da,Y),da.prototype.render=function(ha){var ma=!this.props.filtersVisible&&!this.props.sortVisible&&!this.props.sublayerOverlayOpen||
!window.matchMedia("(max-width: 860px)").matches&&!this.props.sublayerOverlayOpen;return ha("div",{id:"item-browser-container",classes:this.props.containerClasses,key:"ib-expanded"},ha(Q.a,{closing:this.props.closing,key:"ib-big-overlay",scrollable:ma,adjustable:this.props.adjustable,flex:!0},ha(W.a,{key:"big-browser-header"}),ha(aa.a,{key:"big-browser-body"}),this.props.renderFooter&&ha(P.a,{handleSecondaryClick:this.props.handleCancelClick,handlePrimaryClick:this.props.handleSubmitClick,key:"big-browser-footer",
primaryText:this.props.submitButtonText,secondaryText:this.props.cancelButtonText})))},da}(S.Component);O.a=Object(S.connect)(function(Y){return{closing:Y.ui.expanded.closing,filtersVisible:Y.ui.expanded.filters,sortVisible:Y.ui.expanded.sort,sublayerOverlayOpen:Y.ui.expanded.sublayerCards.overlayOpen,adjustable:"adjustable"===Y.settings.config.layoutMode,renderFooter:!!Y.settings.config.multiSelect,submitButtonText:Y.settings.config.submitButtonText,cancelButtonText:Y.settings.config.cancelButtonText}},
function(Y){return{handleSubmitClick:function(){Y(X.m)},handleCancelClick:function(){Y(X.l)}}})(I)},function(S,O){S.exports=v},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(90);I=function(P){function L(Q){Q=P.call(this,Q)||this;return Q.handleContract=Q.handleContract.bind(Q),Q.handleClose=Q.handleClose.bind(Q),Q.handleTitleCreate=Q.handleTitleCreate.bind(Q),Q}return Object(ba.d)(L,P),L.prototype.componentWillReceiveProps=function(Q){Q.page!==
this.props.page&&this.titleNode&&this.titleNode.scrollIntoView()},L.prototype.render=function(Q){return Q("header",{"class":"ib__big-header"},Q("div",{"class":"ib__big-header-title-section"},Q("h3",{"class":"ib__big-header-title",id:"ib__big-header-title",afterCreate:this.handleTitleCreate},this.props.dialogTitle),Q("button",{key:"main-close-btn","class":"mod__overlay__close","aria-label":W.close,onclick:this.handleClose},Q("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",
viewBox:"0 0 24 24",fill:"currentColor"},Q("path",{d:aa.k})))))},L.prototype.handleContract=function(){this.props.onBack()},L.prototype.handleClose=function(){this.props.onBack()},L.prototype.handleTitleCreate=function(Q){this.titleNode=Q},L}(S.Component);O.a=Object(S.connect)(function(P){return{dialogTitle:P.settings.config.dialogTitle,onBack:function(){var L,Q;null===(Q=null===(L=P.settings.config)||void 0===L?void 0:L.onBack)||void 0===Q||Q.call(L)},page:P.ui.pagination.page}},function(){return{}})(I)},
function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(551),P=I(563),L=I(567),Q=I(550),X=I(372),Y=I.n(X),da=I(295);X=I(205);var ha=I.n(X);X=I(373);var ma=I.n(X),na=I(350),sa=I(226),wa=I(333),ya=I(549);I=function(Aa){function Ba(Oa){Oa=Aa.call(this,Oa)||this;return Oa.handlePageChange=Oa.handlePageChange.bind(Oa),Oa.handleCloseMobileFilters=Oa.handleCloseMobileFilters.bind(Oa),Oa}return Object(ba.d)(Ba,Aa),Ba.prototype.render=function(Oa){var Ja=this,va=this.props.expandedFiltersActive,Fa={"ib__big-section":!0,
"ib__big-filters":!0,"ib__big-filters--hidden":!va,"ib__big-filters--visible":va},qa="loading"===this.props.resultStatus||"loading"===this.props.paginationStatus,oa={"ib__big-wrapper":!0,"ib__big-wrapper--faded":qa,"ib__big-wrapper--transparent":qa&&0===this.props.pageDisplayItems.length},xa=Math.ceil(1E4<this.props.itemTotal?1E4/this.props.resultsPerQuery:this.props.itemTotal/this.props.resultsPerQuery);return Oa("div",{"class":"ib__big-body","aria-labelledby":Object(wa.slugifySectionName)(this.props.section),
role:"tabpanel"},Oa("div",{"class":"ib-nav-container"},Oa(ya.a,{key:"big-browser-section-tabs"}),"subscription"!==this.props.section&&Oa(Q.a,{key:"ib__big-search-area"})),Oa("div",{"class":"ib__big-row",afterCreate:function(ra){ra&&!Ja.scrollContainer&&(Ja.scrollContainer=ra)}},Oa("section",{classes:Fa,key:"fullscreen-filters"},Oa("div",{"class":va?"":"hide"},Oa("div",{"class":"ib-ex-input__container"},Oa("span",{"class":"ib__big-filter-label"},W.filterPane.filter)),Oa(aa.a,null))),Oa("div",{"class":"ib__big-overlay-filters"},
Oa(ma.a,{key:"mobile-filter-wrap",maxHeight:!0,open:va,onClose:this.handleCloseMobileFilters,title:W.filterPane.filter,footer:Oa("button",{"class":"ib__big-filter-results-btn",onclick:this.handleCloseMobileFilters},W.viewResults)},Oa(na.a,{key:"mobile-filters"}))),Oa("section",{"class":"ib__big-section ib__big-results",key:"results-section"},Oa("div",{classes:oa},Oa("div",{"class":"ib-ex-alert-container hide",key:"ib-ex-alert-container"},Oa("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",
height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding: 0rem .2rem .1rem;\n                                    "},Oa("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z"})),
Oa("span",{"class":"ib-ex-alert-text"},W.groupAddDisclaimer)),Oa(P.a,{key:"big-browser-input-area"}),Oa(L.a,{key:"big-browser-result-panel"}),1<xa&&"subscription"!==this.props.section&&Oa(Y.a,{key:"big-browser-pager",onPageChange:this.handlePageChange,numPages:xa,currentPage:this.props.currentPage,paginationLimitReached:1E4<this.props.itemTotal})),qa&&Oa("div",{"class":"ib-ex__load-container",key:"ib-ex__load-container"},Oa(ha.a,{key:"item-ex-loading"})))))},Ba.prototype.handlePageChange=function(Oa){this.scrollContainer&&
(this.scrollContainer.scrollTop=0);this.props.changePage(Oa)},Ba.prototype.handleCloseMobileFilters=function(){this.props.toggleExpandedFilters()},Ba}(S.Component);O.a=Object(S.connect)(function(Aa){return{expandedFiltersActive:Aa.ui.expanded.filters,resultStatus:Aa.ui.resultPanel.status,paginationStatus:Aa.ui.pagination.status,pageDisplayItems:Aa.ui.pagination.displayItems,currentPage:Aa.ui.pagination.page,itemTotal:Aa.parameters.nextQuery.total,resultsPerQuery:Aa.settings.config.resultsPerQuery,
section:Aa.parameters.section}},function(Aa){return{changePage:function(Ba){Aa(Object(da.d)(Ba))},toggleExpandedFilters:function(){Aa(Object(sa.i)())}}})(I)},function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(288),P=I(48),L=I(333),Q=I.n(L),X=I(125);I=function(Y){function da(ha){ha=Y.call(this,ha)||this;return ha.state={options:(ha.props.user?ha.props.baseSections:ha.props.baseSections.filter(function(ma){return"livingAtlas"===ma||"all"===ma})).map(function(ma){return{value:ma,text:W.header.sectionTitles[ma]}}).concat(ha.props.customSections.map(function(ma){return{value:ma.name,
text:ma.name}}))},ha.handleTabSelect=ha.handleTabSelect.bind(ha),ha}return Object(ba.d)(da,Y),da.prototype.render=function(ha){return ha(Q.a,{key:"ib-expanded-nav",options:this.state.options,onSelect:this.handleTabSelect,selectedOptionValue:this.props.currentSection,dropdownOnly:!0})},da.prototype.handleTabSelect=function(ha){this.props.changeSearchSection(ha);this.props.search(!0)},da}(S.Component);O.a=Object(S.connect)(function(Y){return{user:Y.settings.utils.portal.user,baseSections:Y.settings.config.baseSections,
customSections:Y.settings.config.customSections,currentSection:Y.parameters.section}},function(Y){return{changeSearchSection:function(da){Y(Object(X.k)(""));Y(Object(aa.b)(da))},search:function(da){Y(Object(P.i)(da))}}})(I)},function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(285),P=I.n(aa),L=I(226),Q=I(290),X=I(409),Y=I(48);aa=I(374);var da=I.n(aa),ha=I(375),ma="relevance title owner created modified numviews".split(" "),na={myContent:["relevance","modified","title"],myFavorites:["relevance","modified",
"title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};I=function(sa){function wa(ya){ya=sa.call(this,ya)||this;return ya.handleToggleFilters=ya.handleToggleFilters.bind(ya),ya.handleSearchChange=ya.handleSearchChange.bind(ya),ya.handleSortFieldChange=ya.handleSortFieldChange.bind(ya),
ya.handleSortOrderChange=ya.handleSortOrderChange.bind(ya),ya.handleSortClick=ya.handleSortClick.bind(ya),ya.handleSortBlur=ya.handleSortBlur.bind(ya),ya}return Object(ba.d)(wa,sa),wa.prototype.render=function(ya){var Aa=W.header.sectionTitles[this.props.section];Aa=this.props.searchPlaceholderText?this.props.searchPlaceholderText:W.search+" "+(Aa||this.props.section);var Ba=this.props.section;Ba=na[Ba]?Object(ba.g)([],na[Ba]):Object(ba.g)([],ma);return-1===Ba.indexOf(this.props.sortField)&&(this.props.sortField=
Ba[0]),ya("div",{"class":"ib-ex-search-area__container",key:"search-area"},ya(ha.a,{key:"ib-ex-search-area-input",title:W.header.search,placeholder:Aa,currentSearchString:this.props.searchString,changeSearchString:this.handleSearchChange}),ya("div",{"class":"ib-ex-search-area__btn-section"},ya(da.a,{active:this.props.sortActive,key:"ib-ex-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:Ba,onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,
onClick:this.handleSortClick,handleMenuBlur:this.handleSortBlur}),ya(P.a,{key:"ib-ex-filter-btn",active:this.props.expandedFiltersActive,handleClick:this.handleToggleFilters},ya("div",{"class":"drp-sort__btn-body"},ya("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},ya("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),ya("span",{"class":"drp-sort__btn-label"},W.filterPane.filter)))))},wa.prototype.handleToggleFilters=function(){this.props.toggleExpandedFilters()},
wa.prototype.handleSearchChange=function(ya){this.props.changeSearchString(ya);this.props.search(!0)},wa.prototype.handleSortFieldChange=function(ya){this.props.changeSortField(ya);this.props.search()},wa.prototype.handleSortOrderChange=function(ya){this.props.changeSortOrder(ya);this.props.search()},wa.prototype.handleSortClick=function(){this.props.toggleExpandedSort()},wa.prototype.handleSortBlur=function(){this.props.closeExpandedSort()},wa}(S.Component);O.a=Object(S.connect)(function(sa){return{searchPlaceholderText:sa.settings.config.searchPlaceholderText,
section:sa.parameters.section,searchString:sa.parameters.searchString.current,previousSearchString:sa.parameters.searchString.previous,sortActive:sa.ui.expanded.sort,sortField:sa.parameters.sort.field,sortOrder:sa.parameters.sort.order,expandedFiltersActive:sa.ui.expanded.filters}},function(sa){return{toggleExpandedFilters:function(){sa(Object(L.i)())},toggleExpandedSort:function(){sa(Object(L.j)())},changeSortField:function(wa){sa(Object(Q.c)(wa))},changeSortOrder:function(wa){sa(Object(Q.d)(wa))},
changeSearchString:function(wa){sa(Object(X.b)(wa))},search:function(wa){sa(Object(Y.i)(wa))},closeExpandedSort:function(){sa(Object(L.h)())}}})(I)},function(S,O,I){var ba=I(350);O.a=function(W,aa){return aa(ba.a,{key:"big-browser-filters"})}},function(S,O){S.exports=B},function(S,O){S.exports=C},function(S,O){S.exports=A},function(S,O){S.exports=E},function(S,O){S.exports=F},function(S,O){S.exports=w},function(S,O){S.exports=D},function(S,O){S.exports=G},function(S,O){S.exports=H},function(S,O,I){function ba(aa){var P,
L=aa.settings.utils.portal.user,Q=!L;L=!Q&&!L.orgId;if(Q||L)if(L)Q=function(X){switch(X.parameters.section){case "myContent":return"folder itemType modified created tags shared".split(" ");case "myFavorites":return["itemType","modified","created","tags","status"];case "myGroups":return"groupCategories group itemType modified created tags".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","status"];default:return W(X)}}(aa);
else a:switch(aa.parameters.section){case "livingAtlas":Q=["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];break a;case "all":Q=["itemType","modified","status"];break a;default:Q=W(aa)}else Q=function(X){switch(X.parameters.section){case "myContent":return"folder orgCategories itemType modified created tags shared status collaboration".split(" ");case "myFavorites":return"itemType modified created tags shared status collaboration".split(" ");case "myGroups":return"group groupCategories itemType modified created tags shared status collaboration".split(" ");
case "myOrganization":return"orgCategories itemType modified created tags shared status collaboration".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","shared","status"];default:return W(X)}}(aa);return P=Q,function(X,Y){var da=Y.indexOf("itemType");X&&-1<da&&Y.splice(da,1);return Y}(aa.settings.config.disableItemTypeFilters,P)}function W(aa){return aa.settings.config.customSections.reduce(function(P,
L){return L.name===aa.parameters.section&&L.filters?L.filters:P},["itemType","modified","shared"])}I.d(O,"a",function(){return ba})},function(S,O,I){var ba=I(0);S=I(16);var W=I(216),aa=I.n(W);W=I(255);var P=I.n(W);I=function(L){function Q(X){X=L.call(this,X)||this;return X.handleClear=X.handleClear.bind(X),X.handleClick=X.handleClick.bind(X),X}return Object(ba.d)(Q,L),Q.prototype.render=function(X){var Y=this,da=this.props.filter;return X(P.a,{key:da.displayName+"-filter-accordion",clearable:!1,onClear:this.handleClear,
title:da.displayName},X("ul",{"aria-label":da.displayName,id:da.displayName+"-filter-accordion-tree","class":"ftr-custom__tree",role:"tree"},da.children?da.children.map(function(ha){return X(aa.a,{key:ha.value,value:ha.value,name:ha.displayName,onToggleClick:Y.handleClick,selectedToggle:Y.props.selectedOption,childOptions:ha.children})}):null))},Q.prototype.handleClear=function(){this.props.onClear(this.props.index)},Q.prototype.handleClick=function(X,Y){X===this.props.selectedOption?this.props.onClick(this.props.index,
void 0):this.props.onClick(this.props.index,X,Y)},Q}(S.Component);O.a=I},function(S,O,I){var ba=I(0),W=I(36),aa=I(178);S=I(16);var P=I(418),L=I(564),Q=I(100);I=function(X){function Y(){return null!==X&&X.apply(this,arguments)||this}return Object(ba.d)(Y,X),Y.prototype.render=function(da){var ha=this,ma=this.props,na=ma.itemTotal,sa=ma.itemName,wa=ma.dropdownItems,ya=ma.staticFilters,Aa=ma.handleItemClick,Ba=ma.handleClearAllClick,Oa=ma.handleSelectPageClick,Ja=ma.multiselect,va=ma.maxSelected,Fa=
ma.showSelectAllOnPage,qa=ma.itemsPerPage,oa=ma.pageNumber;ma=ma.showDeselectTooltip;var xa=1E4<=na?W.itemLimitReached.replace("${limit}",aa.format(1E4)):aa.format(na),ra=Math.min((oa-1)*qa+1,na);na=Math.min(oa*qa,na);sa=sa?xa+" "+sa:W.itemTotalInfo.replace("${from}",ra).replace("${to}",na).replace("${total}",xa).replace("-"," - ");Aa=Ja&&0<wa.length&&da(L.a,{key:"ib-item-dropdown",items:wa,maxSelected:va,handleItemClick:Aa,showDeselectTooltip:ma});wa=Ja&&0<wa.length&&da("button",{key:"clear-selection-button",
"class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--clear-all",onclick:function(fa){ha.handleFocus();Ba()}},W.filterPane.clearSelection);Fa=Fa&&da("button",{key:"select-all-button","class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--select-page",onclick:function(fa){ha.handleFocus();Oa()}},W.filterPane.selectAll);return da("div",{"class":"ib-ex-input__container",key:"ib-result-count-container"},da("div",{"class":"ib-ex-input__container__controls"},da("span",{key:"input-area-results","class":"ib-ex-input-area__result-count"},
sa),Aa,wa,Fa),da(P.a,{staticFilters:ya,key:"ib-ex__active-filters",theme:"dark",showLabel:W.filterPane.filters+":"}))},Y.prototype.handleFocus=function(){window.setTimeout(function(){var da;null===(da=document.querySelector(".ib-ex-input__container button"))||void 0===da||da.focus()},20)},Y}(S.Component);O.a=Object(S.connect)(function(X){return{itemName:X.settings.config.itemName,itemTotal:X.parameters.nextQuery.total,pageNumber:X.ui.pagination.page,staticFilters:X.settings.config.staticFilters,itemsPerPage:X.settings.config.resultsPerQuery,
dropdownItems:Object.keys(X.results.selectedItems).map(function(Y){return X.results.selectedItems[Y]}).filter(function(Y){return!X.settings.config.disableInitiallySelectedItems||!X.results.initiallySelectedItems[Y.id]}),multiselect:!!X.settings.config.multiSelect,maxSelected:X.settings.config.maxSelected,showDeselectTooltip:X.settings.config.showDeselectTooltip,showSelectAllOnPage:!!X.settings.config.multiSelect&&0<X.parameters.nextQuery.total&&!X.ui.pagination.displayItems.every(function(Y){return X.results.selectedItems[Y.id]})&&
(!X.settings.config.maxSelected||X.ui.pagination.displayItems.filter(function(Y){return!X.results.selectedItems[Y.id]}).length+Object.keys(X.results.selectedItems).length<=X.settings.config.maxSelected)}},function(X){return{handleItemClick:function(Y){X({type:Q.c,payload:Y})},handleClearAllClick:function(){X(Q.n)},handleSelectPageClick:function(){X(Object(Q.q)())}}})(I)},function(S,O,I){var ba=I(0),W=I(36),aa=I(150);S=I(16);var P=I(90),L=I(565),Q={open:!1};I=function(X){function Y(){var da=null!==
X&&X.apply(this,arguments)||this;return da.state=Q,da.handleBlur=function(ha){var ma;(ha=ha.relatedTarget)&&(null===(ma=da.dropdown)||void 0===ma?0:ma.contains(ha))||da.setState({open:!1})},da.handleClick=function(ha){var ma,na;ha=ha.target;null!==(ma=da.dropdown)&&void 0!==ma&&ma.contains(ha)||((ma=null===(na=da.toggleButton)||void 0===na?void 0:na.contains(ha))?da.setState({open:!da.state.open}):da.state.open&&!ma&&da.setState({open:!1}))},da}return Object(ba.d)(Y,X),Y.prototype.render=function(da){var ha=
this,ma=this.props,na=ma.items,sa=ma.maxSelected,wa=ma.showDeselectTooltip;ma=sa?W.itemsSelectedMax:W.itemsSelected;var ya=1<na.length?ma.enPlural:ma.en;"en"!==aa.locale.slice(0,2)&&(ya=ma.other);sa=sa?ya.replace("${num}",na.length).replace("${max}",sa):ya.replace("${num}",na.length);return da("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",ha.handleClick)},afterRemoved:function(){document.removeEventListener("click",ha.handleClick);
ha.setState(Q)}},da("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(Aa){ha.toggleButton=Aa},afterRemoved:function(){ha.toggleButton=void 0}},da("span",{"class":"selected-dropdown__toggle-button__text"},sa),da("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},da("path",{d:P.a}))),this.state.open&&da("div",{"class":"selected-dropdown__list__container",
key:"selected-dropdown__list__container",afterCreate:function(Aa){ha.dropdown=Aa},afterRemoved:function(){ha.dropdown=void 0}},da("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",key:"selected-dropdown__list",role:"menu"},na.map(function(Aa){return da(L.a,{item:Aa,handleCloseClick:ha.props.handleItemClick,handleBlur:ha.handleBlur,showDeselectTooltip:wa,key:Aa.id})}))))},Y}(S.Component);O.a=I},function(S,O,I){var ba=I(0);S=I(16);var W=I(36),aa=I(90);I=function(P){function L(){return null!==
P&&P.apply(this,arguments)||this}return Object(ba.d)(L,P),L.prototype.render=function(Q){var X=this.props,Y=X.item,da=X.handleCloseClick,ha=X.handleBlur;X=X.showDeselectTooltip;var ma="selected-"+Y.id,na="deselect-item-"+Y.id,sa=function(){return Q("button",{id:na,"class":"selected-dropdown__list-item__button",onclick:function(){da(Y)},"aria-labelledby":ma,"aria-label":W.deselect,onblur:ha},Q("svg",null,Q("path",{d:aa.j})))};return Q("li",{"class":"selected-dropdown__list-item",role:"menuitem",key:Y.id},
Q("img",{src:Y.iconURI,alt:Y.type,"class":"selected-dropdown__list-item__icon"}),Q("span",{"class":"selected-dropdown__list-item__description",id:ma},Y.title),X?Q("calcite-tooltip-manager",null,sa(),Q("calcite-tooltip",{"reference-element":na},W.deselect)):sa())},L}(S.Component);O.a=I},function(S,O){S.exports=M},function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(569),P=I(568),L=I.n(P).a;I=function(Q){function X(){return null!==Q&&Q.apply(this,arguments)||this}return Object(ba.d)(X,Q),X.prototype.render=
function(Y){return"success"!==this.props.resultStatus&&"loading"!==this.props.resultStatus||"success"!==this.props.pageStatus&&"loading"!==this.props.pageStatus?this.props.tooManyGroups?Y("div",{key:"request-error","class":"ib__results"},Y("div",{"class":"ib-results__message-container"},Y("span",{"class":"ib-results__message"},W.results.tooManyGroups))):Y("div",{key:"request-error","class":"ib__results"},Y("div",{"class":"ib-results__message-container"},Y("span",{"class":"ib-results__message"},W.results.requestError))):
this.props.showSubResources?Y(L,{key:"lazy-sublayers",path:"ItemBrowser/SubResourceItemList",componentProps:{key:"subresource-item-list"}},"loading..."):Y(aa.a,{key:"ib-ex-item-list"})},X}(S.Component);O.a=Object(S.connect)(function(Q){return{resultStatus:Q.ui.resultPanel.status,pageStatus:Q.ui.pagination.status,showSubResources:Q.settings.config.showSubResources,tooManyGroups:!(!("myGroups"===Q.parameters.section&&Q.results.user.groups&&175<Q.results.user.groups.length)||Q.parameters.filter.group)}},
function(){return{}})(I)},function(S,O){S.exports=R},function(S,O,I){var ba=I(0);S=I(16);var W=I(570),aa=I.n(W),P=I(126),L=I(307);I=function(Q){function X(){return null!==Q&&Q.apply(this,arguments)||this}return Object(ba.d)(X,Q),X.prototype.render=function(Y){var da=this,ha=Object(P.a)(this.props.stateTree),ma=this.props.stateTree.ui.pagination.displayItems.map(function(na){return Y(aa.a,{key:na.id,item:na,organization:"public_authoritative"===na.contentStatus&&da.props.stateTree.results.allOrganizations[na.orgId]?
da.props.stateTree.results.allOrganizations[na.orgId]:void 0,portal:ha,mainAction:da.props.stateTree.settings.config.onSelect,mainInverseAction:da.props.stateTree.settings.config.onDeselect,mainActionTitle:da.props.stateTree.settings.config.mainActionTitle,mainInverseActionTitle:da.props.stateTree.settings.config.mainInverseActionTitle,loadOnMainAction:da.props.stateTree.settings.config.asynchronousItemSelect,usePrimaryButtonStyle:da.props.stateTree.settings.config.usePrimaryButtonStyle,isSelected:da.props.stateTree.settings.config.preSelect,
customActions:da.props.stateTree.settings.config.customActions,sortField:da.props.stateTree.parameters.sort.field})});return 0<ma.length?Y("div",{key:this.props.key,"class":"ib-ex-results__item-list"},ma):Y(L.a,{key:this.props.key,text:this.props.stateTree.settings.config.noItemsFoundText||""})},X}(S.Component);O.a=Object(S.connect)(function(Q){return{stateTree:Q}},function(){return{}})(I)},function(S,O){S.exports=N},function(S,O,I){var ba=I(0);S=function(W){function aa(){return null!==W&&W.apply(this,
arguments)||this}return Object(ba.d)(aa,W),aa.prototype.render=function(P){var L=this;return P("footer",{"class":"ib__big-footer"},P("button",{"class":"ib__big-footer-btn ib__big-footer-btn--secondary",onclick:function(){return L.props.handleSecondaryClick()}},this.props.secondaryText),P("button",{"class":"ib__big-footer-btn ib__big-footer-btn--primary",onclick:function(){var Q,X;return null===(X=(Q=L.props).handlePrimaryClick)||void 0===X?void 0:X.call(Q)}},this.props.primaryText))},aa}(I(16).Component);
O.a=S},function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(363),P=I(574),L=I(575),Q=I(573),X=I(589);I=function(Y){function da(ha){ha=Y.call(this,ha)||this;return ha.handleCloseDetailsPane=ha.handleCloseDetailsPane.bind(ha),ha}return Object(ba.d)(da,Y),da.prototype.render=function(ha){var ma=this.props.detailsPaneType,na=this.props.sidePanelType,sa=this.props.closing,wa={"ib-side__container--fade-in":!sa,"ib-side__container--fade-out":sa,"ib-side__container--flyout":"flyout"===ma,"ib-side__container--flyover":"flyover"===
ma};ma={"ib-side__content--flyout":"flyout"===ma,"ib-side__content--in-right":!sa&&"flyout"===ma,"ib-side__content--out-left":sa&&"flyout"===ma,"ib-side__content--flyover":"flyover"===ma,"ib-side__content--in-left":!sa&&"flyover"===ma,"ib-side__content--out-right":sa&&"flyover"===ma};if("sort"===na){var ya=ha(Q.a,{key:"sort-pane"});var Aa=W.sortOptions.sort}else if("filter"===na)ya=ha(P.a,{key:"filter-pane"}),Aa=W.filterPane.filter;else if("item"===na&&this.props.sidePanelItem)ya=ha(L.a,{key:this.props.sidePanelItem.id,
item:this.props.sidePanelItem});else if("hidden"===na)return;return ha(X.a,{key:"item"===na&&this.props.sidePanelItem?""+this.props.sidePanelItem.id:na,containerClasses:wa,contentClasses:ma,handleClose:this.handleCloseDetailsPane,i18n:W,type:na,title:Aa},ya)},da.prototype.componentWillReceiveProps=function(ha){var ma=this;!this.props.closing&&ha.closing&&("item"===this.props.sidePanelType&&this.props.sidePanelItem?(ha=document.getElementById("item-"+this.props.sidePanelItem.id+"-card-title"))&&ha.focus():
"filter"===this.props.sidePanelType?(ha=document.getElementById("filter-button"))&&ha.focus():"sort"===this.props.sidePanelType&&(ha=document.getElementById("sort-button"))&&ha.focus(),setTimeout(function(){ma.props.closeDetailsPaneImmediately()},300))},da.prototype.handleCloseDetailsPane=function(){this.props.closeDetailsPane()},da}(S.Component);O.a=Object(S.connect)(function(Y){return{detailsPaneType:Y.settings.config.detailsPaneType,sidePanelType:Y.ui.sidePanel.type,sidePanelItem:Y.ui.sidePanel.item}},
function(Y){return{closeDetailsPane:function(){Y(Object(aa.c)())},closeDetailsPaneImmediately:function(){Y({type:aa.a})}}})(I)},function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(290),P=I(48),L=I(216),Q=I.n(L),X="relevance title owner created modified numviews".split(" "),Y={myContent:["modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],
livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};I=function(da){function ha(ma){ma=da.call(this,ma)||this;return ma.handleChangeSortField=ma.handleChangeSortField.bind(ma),ma.handleChangeSortAsc=ma.handleChangeSortAsc.bind(ma),ma.handleChangeSortDesc=ma.handleChangeSortDesc.bind(ma),ma}return Object(ba.d)(ha,da),ha.prototype.render=function(ma){var na=this,sa=this.props.section;sa=(Y[sa]?Object(ba.g)([],Y[sa]):Object(ba.g)([],
X)).map(function(Aa){return ma(Q.a,{key:Aa,name:W.sortOptions[Aa],value:Aa,selectedToggle:na.props.sortField,onToggleClick:na.handleChangeSortField})});var wa=this.props.sortField,ya=this.props.sortOrder;return ma("div",{id:"sort-pane-container",key:"sort-pane-container","class":"ib-sort-pane__container"},ma("div",{"class":"ib-sort-pane__body"},ma("h3",{id:"sort-options-title","class":"drp-sort__menu-title"},W.sortOptions.sortBy),ma("ul",{key:"sort-option-section","class":"ib-sort-pane__option-section",
role:"radiogroup","aria-labelledby":"sort-options-title","aria-activedescendent":this.props.sortField+"-option"},sa),"relevance"!==wa?ma("div",null,ma("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},W.sortOptions.sortDir),ma("ul",{key:"sort-direction-section","class":"ib-sort-pane__dir-section",role:"radiogroup","aria-labelledby":"sort-dir-title","aria-activedescendent":ya+"-option"},ma(Q.a,{key:"sort-asc-toggle",name:W.sortOptions.ascending[wa],value:"asc",onToggleClick:this.handleChangeSortAsc,
selectedToggle:ya}),ma(Q.a,{key:"sort-desc-toggle",name:W.sortOptions.descending[wa],value:"desc",onToggleClick:this.handleChangeSortDesc,selectedToggle:ya}))):null))},ha.prototype.handleChangeSortField=function(ma){this.props.changeSortField(ma);this.props.search()},ha.prototype.handleChangeSortAsc=function(ma){"desc"===this.props.sortOrder&&(this.props.changeSortOrder("asc"),this.props.search())},ha.prototype.handleChangeSortDesc=function(ma){"asc"===this.props.sortOrder&&(this.props.changeSortOrder("desc"),
this.props.search())},ha}(S.Component);O.a=Object(S.connect)(function(da){return{section:da.parameters.section,sortField:da.parameters.sort.field,sortOrder:da.parameters.sort.order}},function(da){return{changeSortField:function(ha){da(Object(aa.c)(ha))},changeSortOrder:function(ha){da(Object(aa.d)(ha))},search:function(ha){da(Object(P.i)(ha))}}})(I)},function(S,O,I){var ba=I(0);S=I(16);var W=I(350);I=function(aa){function P(){return null!==aa&&aa.apply(this,arguments)||this}return Object(ba.d)(P,
aa),P.prototype.render=function(L){return L("div",{id:"filter-pane-container",key:"filter-pane-container","class":"ib-filter-pane__container"},L(W.a,{key:"filter-options"}))},P}(S.Component);O.a=I},function(S,O,I){var ba=I(0),W=I(36),aa=I(178);S=I(16);var P=I(173),L=I(126),Q=I(205),X=I.n(Q),Y=I(587);Q=I(576);var da=I.n(Q);Q=I(577);var ha=I.n(Q);Q=I(578);var ma=I.n(Q);Q=I(579);var na=I.n(Q);Q=I(580);var sa=I.n(Q);Q=I(581);var wa=I.n(Q);Q=I(582);var ya=I.n(Q);Q=I(583);var Aa=I.n(Q);Q=I(584);var Ba=
I.n(Q);Q=I(489);var Oa=I.n(Q);Q=I(585);var Ja=I.n(Q);Q=I(206);var va=I.n(Q),Fa=I(586),qa=I(588),oa=I(151);I=function(xa){function ra(fa){fa=xa.call(this,fa)||this;return fa.handleItemDetails=fa.handleItemDetails.bind(fa),fa.handleFavorites=fa.handleFavorites.bind(fa),fa}return Object(ba.d)(ra,xa),ra.prototype.render=function(fa){if(!(this.props.stateTree.results.fullItemDetails[this.props.item.id]&&this.props.stateTree.results.users[this.props.item.owner]||this.props.stateTree.results.failedItemDetails[this.props.item.id]))return fa(X.a,
{key:"loading-item-details"});if(this.props.stateTree.results.failedItemDetails[this.props.item.id])return fa("div",{"class":"ib-item-pane__message-container"},fa("span",{"class":"ib-results__message"},W.results.requestError));var pa=this.props.stateTree.results.fullItemDetails[this.props.item.id],ua=this.props.stateTree.results.users[pa.owner],Ea=Object(L.a)(this.props.stateTree),Da=pa&&this.props.stateTree.results.loadingItems[pa.id],Ca={"ib-item-pane__fader":!0,"ib-item-pane__fader--loading":Da},
Ia=new Date(pa.modified),La=new Date(pa.created),Ga=this.props.stateTree.results.allOrganizations[pa.orgId],Ma="public_authoritative"===pa.contentStatus&&pa.orgId&&Ga,Ha=!("Raster function template"===pa.type&&pa.owner.includes("esri_"));return[fa("div",{"class":"ib-item-pane__thumb-container",key:"ib-item-pane__thumb-container"},fa("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","class":"ib-item-pane__thumbnail",style:"\n                            display: block;\n                            padding: none;\n                            margin: none;\n                            background-image: url("+
pa.thumbURI+");\n                            width: 15rem;\n                            height: 10rem;\n                        ",alt:""}),fa(Fa.a,{favorites:this.props.stateTree.results.user.favorites,item:pa,onToggleFavorite:this.handleFavorites})),fa("div",{id:"item-pane-container","class":"ib-item-pane__container",key:pa.id+"-container"},fa("div",{classes:Ca},fa("div",{key:"item-details"},fa("h4",{"class":"ib-item-pane__title"},pa.title,"\u00a0",Ha&&fa(va.a,{key:"view-full-item-details",title:W.viewFullDetails,
handleClick:this.handleItemDetails,focusable:!0},fa("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},fa("path",{d:"M13 15h-12v-12h10v-1h-11v14h14v-6h-1z"}),fa("path",{d:"M13 7.536l3-3-3-3v1.061l1.404 1.404h-1.404c-3.85 0-7 3.15-7 7v1h1v-1c0-3.309 2.691-6 6-6h1.475l-1.475 1.475v1.061z"})))),fa("span",{key:"item-owner","class":"ib-item-pane__owner-text"},fa("img",{src:pa.iconURI,"class":"ib-item-pane__type-icon",title:pa.displayName}),pa.displayName,
" ",W.itemDetails.by,"\u00a0",fa("a",{"class":"ib-item-pane__owner-link",title:Ma?W.itemDetails.viewOrg:W.itemDetails.viewUser,target:"_blank",href:Ma?Ga.orgUrl:Ea.baseUrl+"/home/user.html?user\x3d"+pa.owner},Ma?Ga.name:pa.owner)),fa("span",{key:"modified-date","class":"ib-item-pane__modified"},W.itemDetails.lastModified,": "+oa.format(Ia,{selector:"date",formatLength:"long"})),fa("div",{"class":"ib-item-pane__badges"},this.renderBadges(pa,fa)),fa("div",{"class":"ib-item-pane__line",style:"width: 100%; border-bottom: 1px solid #ccc"}),
fa("span",{key:"snippet","class":"ib-item-pane__snippet"},pa.snippet?pa.snippet:W.itemDetails.noSnippet),fa("h5",{"class":"ib-item-pane__details"},W.itemDetails.details),pa.patchedDescription?fa("span",{key:"item-description",innerHTML:pa.patchedDescription,"class":"ib-item-pane__description"}):fa("span",{key:"item-no-description","class":"ib-item-pane__description"},W.itemDetails.noDescription),fa("h5",{"class":"ib-item-pane__terms-of-use"},W.itemDetails.termsOfUse),pa.licenseInfo?fa("span",{key:"item-terms-of-use",
innerHTML:pa.licenseInfo,"class":"ib-item-pane__license-info"}):fa("span",{key:"item-no-terms-of-use","class":"ib-item-pane__license-info"},W.itemDetails.noTermsOfUse),fa("h5",{"class":"ib-item-pane__credits"},W.itemDetails.attribution),pa.accessInformation?fa("span",{key:"item-access-information",innerHTML:pa.accessInformation,"class":"ib-item-pane__attribution"}):fa("span",{key:"item-no-access-information","class":"ib-item-pane__attribution"},W.itemDetails.noAttribution),Ma?fa("p",null,fa("h5",
{"class":"ib-item-pane__pa-owner"},W.sortOptions.owner),fa("div",{"class":"ib-item-pane__pa-org"},fa("img",{src:Ga.thumbURI,alt:Ga.name,"class":"ib-item-pane__pa-org-thumb user-image-small-inline padding-right-half display-block js-owner-thumbnail"}),Ga.name),fa("div",{"class":"ib-item-pane__pa-managed"},fa("span",{"class":"ib-item-pane__pa-managed-label"},W.itemDetails.managedBy),fa("div",{"class":"ib-item-pane__pa-manager"},ua.thumbURI?fa("img",{src:ua.thumbURI,"class":"ib-item-pane__pa-managed-thumb"}):
fa(Y.a,{"class":"ib-item-pane__pa-managed-thumb"}),pa.owner))):null,fa("span",{key:"num-views","class":"ib-item-pane__num-views"},fa("strong",null,W.itemDetails.views),": "+aa.format(pa.numViews)),fa("span",{key:"created-date","class":"ib-item-pane__num-views"},fa("strong",null,W.itemDetails.created),": "+oa.format(La,{selector:"date",formatLength:"long"})),fa(qa.a,{baseUrl:Ea.baseUrl,item:pa}))),Da?fa(X.a,{key:"item-pane-loading"}):null)]},ra.prototype.renderBadges=function(fa,pa){var ua=this,Ea=
this.props.stateTree.settings.utils.portal.user;return fa.badges.map(function(Da){switch(Da){case "authoritative":return pa(da.a,{altOrg:"public_authoritative"===fa.contentStatus&&ua.props.stateTree.results.allOrganizations[fa.orgId]?ua.props.stateTree.results.allOrganizations[fa.orgId].name:void 0});case "deprecated":return pa(ma.a,null);case "collaboration":return pa(ha.a,null);case "livingAtlas":return pa(na.a,null);case "marketplace":return pa(sa.a,null);case "openData":return pa(wa.a,null);case "premium":return pa(ya.a,
{user:Ea});case "subscriber":return pa(Aa.a,{user:Ea});case "solution":return pa(Ba.a,null);case "publicDataCollection":return pa(Ja.a,null);case "retiredStoryMap":return pa(Oa.a,{isRetiredStoryMap:!0});case "retiredApp":return pa(Oa.a,null)}return null})},ra.prototype.handleItemDetails=function(){var fa=Object(L.a)(this.props.stateTree),pa=this.props.stateTree.ui.sidePanel.item;pa&&window.open(fa.baseUrl+"/home/item.html?id\x3d"+pa.id,"_blank")},ra.prototype.handleFavorites=function(){var fa=this.props.stateTree.ui.sidePanel.item,
pa=this.props.stateTree.results.user.favorites;fa&&pa&&pa[fa.id]?this.props.removeFromFavorites(fa):fa&&pa&&!pa[fa.id]&&this.props.addToFavorites(fa)},ra}(S.Component);O.a=Object(S.connect)(function(xa){return{stateTree:xa}},function(xa){return{addToFavorites:function(ra){xa(Object(P.k)(ra))},removeFromFavorites:function(ra){xa(Object(P.m)(ra))}}})(I)},function(S,O){S.exports=K},function(S,O){S.exports=V},function(S,O){S.exports=Z},function(S,O){S.exports=ca},function(S,O){S.exports=ea},function(S,
O){S.exports=ka},function(S,O){S.exports=la},function(S,O){S.exports=ta},function(S,O){S.exports=za},function(S,O){S.exports=ia},function(S,O,I){var ba=I(36);O.a=function(W,aa){var P=W.favorites;if(!P)return null;P=P[W.item.id];return aa("button",{onclick:W.onToggleFavorite,classes:{"ib-item-pane__favorites-btn":!0,"ib-item-pane__favorites-btn--active":P}},aa("span",{"class":"screen-readers-only"},P?ba.itemDetails.isFavorite:ba.itemDetails.notFavorite),aa("svg",{xmlns:"http://www.w3.org/2000/svg",
role:"img",width:"32",height:"32",viewBox:"0 0 32 32"},aa("path",{d:"M16.043.367L19.813 12H32l-9.859 7.172 3.789 11.625-9.887-7.193-9.889 7.193 3.787-11.625L0 12h12.271z"})),P?ba.itemDetails.removeFromFavorites:ba.itemDetails.addToFavorites)}},function(S,O,I){O.a=function(ba,W){return W("div",{"class":ba["class"]},W("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 150",height:"100%",width:"100%"},W("path",{id:"path3727",d:"m 52,148.35766 c -2.475,-0.18484 -10.8,-0.45343 -18.5,-0.59687 L 19.5,147.5 19.194994,142.1708 C 18.780069,134.92106 24.675201,110.99518 28,106.43495 c 2.119734,-2.90738 3.184268,-3.40501 11.820245,-5.52557 14.015326,-3.441464 12.799724,-4.197584 21.447495,13.34062 4.135724,8.3875 8.291761,16.93353 9.235637,18.99118 0.943876,2.05765 2.065683,3.52516 2.492905,3.26112 0.427221,-0.26404 4.718162,-8.47257 9.535425,-18.24118 4.817262,-9.76862 9.137298,-18.24997 9.600081,-18.847444 1.07417,-1.386813 10.747512,-0.129937 19.839562,2.577794 7.37115,2.19522 11.16896,5.44708 12.85677,11.00853 6.69283,22.05341 7.84944,32.33763 3.67188,32.64913 -1.1,0.082 -6.95,0.62022 -13,1.19598 -11.23048,1.06878 -55.365488,2.12006 -63.5,1.51255 z m 20,-17.37753 c 0,-0.56093 -1.107043,-2.77354 -2.460095,-4.91692 -1.353052,-2.14337 -2.772339,-5.17193 -3.153972,-6.73012 C 66.0043,117.77489 65.377929,116.275 64.993998,116 c -0.383932,-0.275 -2.303235,-3.7147 -4.265118,-7.64379 -2.997369,-6.00286 -3.476188,-7.83951 -2.998076,-11.499996 0.312942,-2.395918 0.973535,-4.62137 1.467986,-4.94545 0.494451,-0.32408 2.959173,0.453755 5.47716,1.728522 2.517988,1.274768 6.181951,2.618632 8.142141,2.986366 3.484798,0.653752 4.619546,0.375908 12.565461,-3.076659 3.34951,-1.455391 3.803432,-1.47865 3.300927,-0.169142 -0.398242,1.037802 -0.124039,1.342318 0.866449,0.962233 C 92.04719,93.384178 91.914975,93.739792 82.242203,114 79.747646,119.225 76.801902,125.4125 75.696105,127.75 73.817142,131.72187 72,133.30992 72,130.98013 Z M 70.29923,93.893977 C 68.538807,93.384871 66.824749,92.525456 66.490213,91.984165 66.155677,91.442874 65.211939,91 64.393017,91 c -1.502433,0 -6.302871,-4.784056 -6.361416,-6.339707 -0.01738,-0.461839 -0.887451,-1.586839 -1.933489,-2.5 C 50.802328,77.537229 48.879628,58.999483 52.441931,46.909154 54.720369,39.176219 55.37403,38.7615 68,37.038257 72.675,36.400195 79.341587,35.480846 82.814638,34.995261 86.28769,34.509675 89.663822,34.317502 90.317154,34.568209 91.693801,35.096478 97,43.197939 97,44.771524 c 0,0.583995 0.454771,1.2134 1.010602,1.398677 1.503878,0.501292 2.439668,18.675087 1.175539,22.829799 -2.185196,7.181885 -3.87855,11.047986 -5.800118,13.242269 -1.087422,1.241752 -2.586953,3.479873 -3.332291,4.973602 -0.745338,1.493728 -1.684447,2.51236 -2.086909,2.263625 -0.402462,-0.248735 -1.79714,0.347041 -3.099286,1.323947 -5.368623,4.027692 -8.806128,4.756927 -14.568307,3.090534 z M 47.015313,60.25 C 47.006891,59.5625 46.333573,59 45.519052,59 43.283015,59 42.644845,54.707151 43.38075,44.616059 44.166271,33.844619 44.896556,30 46.15707,30 c 1.316225,0 7.090208,-4.174219 8.645304,-6.25 0.721069,-0.9625 1.890773,-1.75 2.599342,-1.75 0.70857,0 2.102798,-0.9 3.098284,-2 1.625205,-1.795832 3.079967,-2 14.250617,-2 14.795202,0 15.235286,0.195009 24.330624,10.781341 1.078019,1.254737 2.667599,4.179737 3.532399,6.5 0.86481,2.320262 1.94546,5.118659 2.40144,6.218659 1.51768,3.661163 2.10273,13.653118 0.88532,15.120015 -2.35184,2.833785 -3.74627,1.464615 -4.45065,-4.370015 -0.68461,-5.670783 -5.785078,-16.623556 -8.973492,-19.269704 -1.58533,-1.315707 -2.444358,-1.239512 -24.630153,2.184678 -15.102822,2.330992 -14.275738,1.799234 -17.29574,11.119973 -0.852701,2.631721 -1.557256,6.456721 -1.565678,8.5 C 48.976265,56.828226 48.533156,59.175 48,60 c -0.64625,1 -0.974479,1.083333 -0.984687,0.25 z",
fill:"#fff"})))}},function(S,O,I){var ba=I(36);O.a=function(W,aa){var P=W.item,L=W.baseUrl,Q=ba.itemDetails.shared[P.access?P.access:P.sharing&&P.sharing.access];if(P.sharedToGroups&&0<P.sharedToGroups.length){var X=P.sharedToGroups.map(function(Y){return aa("a",{"class":"ib-item-pane__group-link",href:L+"/home/group.html?owner\x3d"+Y.owner+"\x26title\x3d"+Y.title,key:Y.id,target:"_blank"},Y.title)}).reduce(function(Y,da,ha){return Y[ha-1]&&Y.push(", "),Y.push(da),Y},[]);Q="public"===P.access||"org"===
P.access?[Q+", ",X]:X}else if("shared"===P.access&&(!P.sharedToGroups||0===P.sharedToGroups.length))return null;return aa("span",{key:"shared-with","class":"ib-item-pane__shared"},aa("strong",null,ba.itemDetails.sharedWith),": ",Q)}},function(S,O,I){function ba(P){P.focus()}S=I(206);var W=I.n(S),aa=I(590);O.a=function(P,L){var Q=P.key,X=P.containerClasses,Y=P.contentClasses,da=P.handleClose,ha=P.i18n,ma=P.title,na=P.children,sa=null;return"item"===P.type&&(sa=L(aa.a,{key:"item-details-footer"})),
L("div",{key:"details-pane",classes:X,"aria-expanded":"true"},L("div",{key:"content-container",classes:Y},L("header",{"class":"ib-side-body__header"},L("span",{"class":"ib-side-body__title"},ma),L("div",{"class":"ib-side-body__btn-container"},L(W.a,{afterCreate:ba,focusable:!0,handleClick:da,key:"side-panel-close-btn",title:ha.close},L("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},L("path",{d:"M13.314 1.99l0.707 0.707-11.314 11.313-0.707-0.707 11.314-11.313z"}),
L("path",{d:"M2 2.697l0.707-0.707 11.313 11.314-0.707 0.707-11.313-11.314z"}))))),L("section",{key:Q,"class":"ib-side-body__content"},na),sa))}},function(S,O,I){var ba=I(0);S=I(16);var W=I(100),aa=I(434);I=function(P){function L(Q){Q=P.call(this,Q)||this;return Q.handleAddBtnClick=Q.handleAddBtnClick.bind(Q),Q.handleCustomActionClick=Q.handleCustomActionClick.bind(Q),Q}return Object(ba.d)(L,P),L.prototype.render=function(Q){var X=this,Y=this.props.stateTree.ui.sidePanel.item,da=Y&&!!this.props.stateTree.results.selectedItems[Y.id],
ha={"ib-item-pane__btn--disabled":Y&&!!this.props.stateTree.results.loadingItems[Y.id]},ma=Object(ba.a)(Object(ba.a)({},ha),{"ib-item-pane__btn--active":da}),na=this.props.stateTree.settings.config.customActions.filter(function(sa){return sa.allowed(Y||{})});return Q("footer",{"class":"ib-item-pane__footer"},this.props.stateTree.settings.config.disableMainAction?null:Q("button",{key:"select-btn","class":"ib-item-pane__select-btn",classes:ma,onclick:this.handleAddBtnClick},da?this.props.stateTree.settings.config.mainInverseActionTitle:
this.props.stateTree.settings.config.mainActionTitle),na.map(function(sa){return Q("button",{key:"usage","class":"ib-item-pane__btn",classes:ha,value:sa.name,onclick:X.handleCustomActionClick},sa.name)}))},L.prototype.handleAddBtnClick=function(){var Q=this.props.stateTree.ui.sidePanel.item;Q&&(this.props.stateTree.results.selectedItems[Q.id]?this.props.deselectItem(Q):this.props.selectItem(Q))},L.prototype.handleCustomActionClick=function(Q){var X=this.props.stateTree.ui.sidePanel.item;X&&this.props.customAction(Q.target.value,
X)},L}(S.Component);O.a=Object(S.connect)(function(P){return{stateTree:P}},function(P){return{deselectItem:function(L){P(Object(W.o)(L))},selectItem:function(L){P(Object(W.r)(L))},customAction:function(L,Q){P(Object(aa.c)(L,Q))}}})(I)},function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(592),P=I(206),L=I.n(P);I=function(Q){function X(){return null!==Q&&Q.apply(this,arguments)||this}return Object(ba.d)(X,Q),X.prototype.render=function(Y){var da=Y("div",{"class":"ib-header__spacer"});this.props.showBackBtn&&
(da=Y(L.a,{handleClick:this.props.onBack,key:"main-back-btn",title:W.back,focusable:!0},Y("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},Y("path",{d:"M8 1.288l-7.212 7.212 7.212 7.212v-1.414l-5.288-5.297h13.288v-0.99h-13.307l5.307-5.307z"}))));var ha=Y("div",{"class":"ib-header__spacer"});return this.props.showCloseBtn&&(ha=Y(L.a,{key:"main-close-btn",title:W.close,focusable:!0,handleClick:this.props.onBack},Y("svg",{role:"img",width:"16",height:"16",
viewBox:"0 0 32 32"},Y("path",{d:"M31.047 28h-5l-12-12 12-12h5l-12 12 12 12zm-26-12l12-12h-5l-12 12 12 12h5l-12-12z"})))),Y("div",{classes:{ib__header:!0},key:"header"},Y("div",{key:"section-title-container","class":"ib-header__search-section"},da,Y(aa.a,{key:"section-dropdown"}),ha))},X}(S.Component);O.a=Object(S.connect)(function(Q){return{showBackBtn:Q.settings.config.showBackBtn,showCloseBtn:Q.settings.config.showCloseBtn,onBack:function(){Q.settings.config.onBack()}}},function(){return{}})(I)},
function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(288),P=I(48),L=I(310),Q=I.n(L);L=I(206);var X=I.n(L);I=function(Y){function da(ha){ha=Y.call(this,ha)||this;var ma=(ha.props.portal.user?ha.props.baseSections:ha.props.baseSections.filter(function(na){return"livingAtlas"===na||"all"===na})).map(function(na){return{value:na,text:W.header.sectionTitles[na]}});return ha.props.customSections.forEach(function(na){var sa={value:na.name,text:na.name};na.addToFront?ma.splice(0,0,sa):ma.push(sa)}),ha.state=
{options:ma},ha.handleOptionSelect=ha.handleOptionSelect.bind(ha),ha}return Object(ba.d)(da,Y),da.prototype.render=function(ha){var ma=this.props.section,na=W.header.sectionTitles[ma];return 2>this.state.options.length||this.props.replaceSectionDropdownWithTitle?ha("h3",{id:"ib-dialog-title","class":"ib-header__dialog-title"},this.props.dialogTitle):ha(Q.a,{key:"section-dropdown-base",options:this.state.options,onSelect:this.handleOptionSelect,selectedOptionValue:this.props.section},ha("h3",{key:"search-"+
ma+"-dropdown",id:"section-dropdown-toggle","class":"ib-section-dropdown__toggle"},na||ma,"\u00a0",ha("span",{"class":"btn-svg__button-noevent flex"},ha(X.a,{key:"section-dropdown-button"},ha("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 16 16"},ha("path",{d:"M1.5,4 L8,11 L14.5,4 C11.893,4 4.101,4 1.5,4 Z"}))))))},da.prototype.handleOptionSelect=function(ha){this.props.changeSearchSection(ha);this.props.search(!0)},da}(S.Component);O.a=Object(S.connect)(function(Y){return{baseSections:Y.settings.config.baseSections,
customSections:Y.settings.config.customSections,portal:Y.settings.utils.portal,replaceSectionDropdownWithTitle:!!Y.settings.config.replaceSectionDropdownWithTitle,dialogTitle:Y.settings.config.dialogTitle,section:Y.parameters.section}},function(Y){return{changeSearchSection:function(da){Y(Object(aa.b)(da))},search:function(da){Y(Object(P.i)(da))}}})(I)},function(S,O,I){var ba=I(0),W=I(36),aa=I(178);S=I(16);var P=I(285),L=I.n(P),Q=I(418),X=I(48),Y=I(410),da=I(409),ha=I(363),ma=I(804),na=I(805);I=function(sa){function wa(ya){ya=
sa.call(this,ya)||this;return ya.handleSearchChange=ya.handleSearchChange.bind(ya),ya.handleSearchKeyDown=ya.handleSearchKeyDown.bind(ya),ya.handleListClick=ya.handleListClick.bind(ya),ya.handleTableClick=ya.handleTableClick.bind(ya),ya.handleSortClick=ya.handleSortClick.bind(ya),ya.handleFilterClick=ya.handleFilterClick.bind(ya),ya}return Object(ba.d)(wa,sa),wa.prototype.render=function(ya){var Aa=1E4<=this.props.nextTotal?W.itemLimitReached.replace("${limit}",aa.format(1E4)):aa.format(this.props.nextTotal);
Aa="function"==typeof this.props.replacementItemName?this.props.replacementItemName(Aa):this.props.replacementItemName?Aa+" "+this.props.replacementItemName:W.resultCount+": "+Aa;var Ba=W.header.sectionTitles[this.props.section];Ba=this.props.placeholderText?this.props.placeholderText:W.search+" "+(Ba||this.props.section);var Oa={"ib-input-area__result-bar-container":!0,"ib-input-area__result-bar-container--solo":"subscription"===this.props.section};return ya("div",null,ya("div",{key:"search-input-area",
"class":"ib__input-area"},"subscription"!==this.props.section?ya("div",{key:"search-bar-container","class":"ib-input-area__search-bar"},ya("input",{id:"item-browser-search-input","class":"ib-input-area__search-input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,placeholder:Ba,"aria-label":Ba,value:this.props.searchString})):null,ya("div",{classes:Oa},ya("span",{"class":"ib-input-area__result-count"},Aa),ya("div",{"class":"ib-input-area__icon-button-container"},
ya(L.a,{active:"table"===this.props.resultPanelType,key:"table-button",handleClick:this.handleTableClick,title:W.compactView},ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M4 14h11v1H4v-1zm0-4h11v1H4v-1zm0-3h11V6H4v1zm0-4h11V2H4v1zM3 14H1v1h2v-1zm0-4H1v1h2v-1zm0-4H1v1h2V6zm0-4H1v1h2V2z"}))))),ya(L.a,{active:"list"===this.props.resultPanelType,handleClick:this.handleListClick,key:"list-button",title:W.listView},
ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M7 13h8v1H7zm-2-1H2v3h3zm2-8h8V3H7zm0 5h8V8H7zM5 2H2v3h3zm0 5H2v3h3z"}))))),"subscription"!==this.props.section?[ya("div",{key:"spacer","class":"ib-input-area__spacer"}),ya(L.a,{active:"filter"===this.props.sidePanelType,handleClick:this.handleFilterClick,key:"filter-button",title:"filter"===this.props.sidePanelType?W.close:W.filterPane.filter},ya("svg",{role:"img",
viewBox:"0 0 16 16",width:"16px",height:"16px"},ya("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"}))),ya(L.a,{active:"sort"===this.props.sidePanelType,handleClick:this.handleSortClick,key:"sort-button",title:"sort"===this.props.sidePanelType?W.close:W.sortOptions.sort},ya("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},ya("g",{stroke:"none","stroke-width":"1"},ya("g",null,ya("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))))]:
null))),ya(Q.a,{key:"active-filters",theme:"dark"}))},wa.prototype.handleSearchChange=function(ya){this.props.changeSearchString(ya.target.value);""===ya.target.value&&""!==this.props.previousSearchString&&this.props.search(!0)},wa.prototype.handleSearchKeyDown=function(ya){"Enter"===ya.key&&this.props.search(!0)},wa.prototype.handleTableClick=function(ya){ya.preventDefault();"list"===this.props.resultPanelType&&this.props.changeResultDisplay()},wa.prototype.handleListClick=function(ya){ya.preventDefault();
"table"===this.props.resultPanelType&&this.props.changeResultDisplay()},wa.prototype.handleFilterClick=function(ya){ya.preventDefault();"filter"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewFilters()},wa.prototype.handleSortClick=function(ya){ya.preventDefault();"sort"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewSort()},wa}(S.Component);O.a=Object(S.connect)(function(sa){return{nextTotal:sa.parameters.nextQuery.total,placeholderText:sa.settings.config.searchPlaceholderText,
previousSearchString:sa.parameters.searchString.previous,replacementItemName:sa.settings.config.itemName,resultPanelType:sa.ui.resultPanel.display,searchString:sa.parameters.searchString.current,sidePanelType:sa.ui.sidePanel.type,section:sa.parameters.section}},function(sa){return{search:function(wa){sa(Object(X.i)(wa))},changeResultDisplay:function(){sa({type:Y.a})},changeSearchString:function(wa){sa(Object(da.b)(wa))},closeDetailsPane:function(){sa(Object(ha.c)())},viewFilters:function(){sa(Object(ma.b)())},
viewSort:function(){sa(Object(na.b)())}}})(I)},function(S,O,I){var ba=I(0),W=I(36);S=I(16);var aa=I(48),P=I(595),L=I(596),Q=I(205),X=I.n(Q);I=function(Y){function da(){var ha=null!==Y&&Y.apply(this,arguments)||this;return ha.handleScroll=function(ma){.99<=(ma.target.scrollTop+ma.target.offsetHeight)/ma.target.scrollHeight&&"loadingNext"!==ha.props.resultPanelStatus&&-1!==ha.props.nextStart&&ha.props.loadMoreContent()},ha.handleCreate=function(ma){setTimeout(function(){ma.scrollHeight<=ma.clientHeight&&
"loadingNext"!==ha.props.resultPanelStatus&&-1!==ha.props.nextStart&&ha.props.loadMoreContent(50)},10)},ha}return Object(ba.d)(da,Y),da.prototype.render=function(ha){var ma=this.props,na=ma.resultPanelStatus,sa=ma.displayItems,wa=ma.showSubmitButton,ya=ma.resultPanelDisplayType;ma=ma.tooManyGroups;switch(na){case "success":case "loadingNext":return ha(P.a,{key:"item-list-"+ya,i18n:W,showSubmitButton:wa,results:sa,loadingNext:"loadingNext"===na,handleScroll:this.handleScroll,handleCreate:this.handleCreate},
ha(L.a,{key:"result-items"}));case "loading":return ha("div",{key:"loading-items","class":"ib__results"},ha(X.a,{key:"item-loader",text:W.results.loadingItems}));case "empty":return ha("div",{key:"empty-state","class":"ib__results"},ha("div",{"class":"ib-results__message-container"},ha("span",{"class":"ib-results__message"},W.results.empty)))}return ma?ha("div",{key:"too-many-groups","class":"ib__results"},ha("div",{"class":"ib-results__message-container"},ha("span",{"class":"ib-results__message"},
W.results.tooManyGroups))):ha("div",{key:"request-error","class":"ib__results"},ha("div",{"class":"ib-results__message-container"},ha("span",{"class":"ib-results__message"},W.results.requestError)))},da}(S.Component);O.a=Object(S.connect)(function(Y){return{displayItems:Y.results.displayItems,nextStart:Y.parameters.nextQuery.nextStart,showSubmitButton:Y.settings.config.showSubmitButton,resultPanelDisplayType:Y.ui.resultPanel.display,resultPanelStatus:Y.ui.resultPanel.status,tooManyGroups:!(!("myGroups"===
Y.parameters.section&&Y.results.user.groups&&175<Y.results.user.groups.length)||Y.parameters.filter.group)}},function(Y){return{loadMoreContent:function(da){Y(Object(aa.h)(da))}}})(I)},function(S,O,I){S=I(205);var ba=I.n(S);O.a=function(W,aa){var P=W.key,L=W.i18n,Q=W.loadingNext,X=W.handleScroll,Y=W.handleCreate,da=W.children;return 0<W.results.length?aa("div",{key:P,"class":"ib-results__item-list",onscroll:X,afterCreate:Y},da,Q?aa("div",{"class":"ib-results__load-container"},aa(ba.a,{key:"more-items-loader"})):
null):aa("div",{key:"no-items-found","class":"ib-results__item-list ib-results__item-list--none"},aa("span",{style:"font-size: 0.9375rem;"},L.results.noItemsFound))}},function(S,O,I){var ba=I(0);S=I(16);var W=I(126),aa=I(363),P=I(357),L=I(100),Q=I(434),X=I(597),Y=I.n(X);X=I(598);var da=I.n(X);I=function(ha){function ma(na){na=ha.call(this,na)||this;return na.handleShowItemDetails=na.handleShowItemDetails.bind(na),na.handleSelectionClick=na.handleSelectionClick.bind(na),na.handleCustomActionClick=
na.handleCustomActionClick.bind(na),na.startResizePoll=na.startResizePoll.bind(na),na.resizePoll=na.resizePoll.bind(na),na}return Object(ba.d)(ma,ha),ma.prototype.render=function(na){var sa=this.props.stateTree.results;if(0<sa.displayItems.length)return na("div",{key:"item-wrapper",id:"resize-detector",afterCreate:this.startResizePoll},this.mapItemsToChildren(sa.displayItems,na))},ma.prototype.mapItemsToChildren=function(na,sa){var wa=this;return na.map(function(ya){var Aa=Object(W.a)(wa.props.stateTree);
return"list"===wa.props.stateTree.ui.resultPanel.display?sa(Y.a,{constrained:wa.state.constrained,key:ya.id+"-card",item:ya,loadingItems:wa.props.stateTree.results.loadingItems,selectedItems:wa.props.stateTree.results.selectedItems,activeItem:wa.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:wa.handleShowItemDetails,onSelectionClick:wa.handleSelectionClick,customActions:wa.props.stateTree.settings.config.customActions,onCustomActionClick:wa.handleCustomActionClick,disableMainAction:wa.props.stateTree.settings.config.disableMainAction,
sortField:wa.props.stateTree.parameters.sort.field,hideEllipses:wa.props.stateTree.settings.config.hideEllipses,organization:"public_authoritative"===ya.contentStatus&&wa.props.stateTree.results.allOrganizations[ya.orgId]?wa.props.stateTree.results.allOrganizations[ya.orgId]:void 0}):sa(da.a,{key:ya.id+"-cardrow",item:ya,loadingItems:wa.props.stateTree.results.loadingItems,selectedItems:wa.props.stateTree.results.selectedItems,activeItem:wa.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:wa.handleShowItemDetails,
onSelectionClick:wa.handleSelectionClick,customActions:wa.props.stateTree.settings.config.customActions,onCustomActionClick:wa.handleCustomActionClick,disableMainAction:wa.props.stateTree.settings.config.disableMainAction,sortField:wa.props.stateTree.parameters.sort.field,hideEllipses:wa.props.stateTree.settings.config.hideEllipses})})},ma.prototype.handleShowItemDetails=function(na){var sa=this.props.stateTree.ui.sidePanel;sa.item&&sa.item.id===na.id?this.props.closeDetailsPane():this.props.viewItemDetails(na)},
ma.prototype.handleSelectionClick=function(na){this.props.stateTree.results.selectedItems[na.id]?this.props.deselectItem(na):this.props.selectItem(na)},ma.prototype.handleCustomActionClick=function(na,sa){this.props.customAction(na,sa)},ma.prototype.startResizePoll=function(na){this.resizePoll(na)},ma.prototype.resizePoll=function(na){var sa=this;na&&0<na.clientWidth&&(300>na.clientWidth&&!this.state.constrained?this.setState({constrained:!0}):300<na.clientWidth&&this.state.constrained&&this.setState({constrained:!1}),
setTimeout(function(){sa.resizePoll(na)},250))},ma}(S.Component);O.a=Object(S.connect)(function(ha){return{stateTree:ha}},function(ha){return{closeDetailsPane:function(){ha(Object(aa.c)())},viewItemDetails:function(ma){ha(Object(P.b)(ma))},deselectItem:function(ma){ha(Object(L.o)(ma))},selectItem:function(ma){ha(Object(L.r)(ma))},customAction:function(ma,na){ha(Object(Q.c)(ma,na))}}})(I)},function(S,O){S.exports=U},function(S,O){S.exports=ja},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,O,I){I.d(O,"a",function(){return ba});I.d(O,"b",function(){return W});var ba="VIEW_FILTERS",W=function(){return{type:ba}}},function(S,O,I){I.d(O,"a",function(){return ba});I.d(O,"b",function(){return W});var ba="VIEW_SORT",W=function(){return{type:ba}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(S,O,I){I.r(O);var ba=I(0);
S=I(16);var W=I(415);I.d(O,"defaultConfig",function(){return W.a});I.d(O,"reducers",function(){return W.c});I.d(O,"initialState",function(){return W.b});var aa=I(100);I.d(O,"SELECT_ITEM_SINGLE",function(){return aa.j});I.d(O,"SELECT_ITEM",function(){return aa.g});I.d(O,"DESELECT_ITEM",function(){return aa.c});I.d(O,"SELECT_ITEM_ASYNC",function(){return aa.h});I.d(O,"SELECT_ITEM_ASYNC_FAILED",function(){return aa.i});var P=I(48);I.d(O,"search",function(){return P.i});var L=I(455);I.d(O,"updateExtent",
function(){return L.c});var Q=I(357);I.d(O,"viewItemDetails",function(){return Q.b});var X=I(288);I.d(O,"changeSearchSection",function(){return X.b});var Y=I(591),da=I(593),ha=I(594),ma=I(572),na=I(488);I=function(sa){function wa(){return null!==sa&&sa.apply(this,arguments)||this}return Object(ba.d)(wa,sa),wa.prototype.render=function(ya){var Aa=this.props.layoutMode,Ba={ib__container:!0,"ib__container--expanded":"fullscreen"===Aa,"ib__container--adjustable":"adjustable"===Aa};switch(Aa){case "fullscreen":return ya(na.a,
{key:"big-browser",containerClasses:Ba});case "adjustable":return ya("div",null,ya(na.a,{key:"big-browser",containerClasses:Ba}),ya("div",{"class":"ib__container--underlay"}));default:return ya("div",{id:"item-browser-container",classes:Ba},ya(ma.a,{key:"side-panel",closing:this.props.sidePanelClosing}),ya(Y.a,{key:"header"}),ya(da.a,{key:"input-area"}),ya(ha.a,{key:"result-panel"}))}},wa}(S.Component);O["default"]=Object(S.connect)(function(sa){return{layoutMode:sa.settings.config.layoutMode,expanded:sa.ui.expanded.maximized,
sidePanelClosing:sa.ui.sidePanel.closing}},function(){return{}})(I)}])})},"arcgis-components/Loaders/LoaderBars":function(){define(function(){return function(T){function J(y){if(p[y])return p[y].exports;var t=p[y]={i:y,l:!1,exports:{}};return T[y].call(t.exports,t,t.exports,J),t.l=!0,t.exports}var p={};return J.m=T,J.c=p,J.d=function(y,t,m){J.o(y,t)||Object.defineProperty(y,t,{enumerable:!0,get:m})},J.r=function(y){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(y,"__esModule",{value:!0})},J.t=function(y,t){if((1&t&&(y=J(y)),8&t)||4&t&&"object"==typeof y&&y&&y.__esModule)return y;var m=Object.create(null);if(J.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:y}),2&t&&"string"!=typeof y)for(var f in y)J.d(m,f,function(g){return y[g]}.bind(null,f));return m},J.n=function(y){var t=y&&y.__esModule?function(){return y["default"]}:function(){return y};return J.d(t,"a",t),t},J.o=function(y,t){return Object.prototype.hasOwnProperty.call(y,
t)},J.p="",J(J.s=868)}({868:function(T,J,p){p.r(J);J["default"]=function(y,t){var m=y.text;return t("div",{"class":"load-bars__container",key:y.key},t("div",{"class":"load-bars__bars"}),m?t("span",{"class":"load-bars__text"},m):null)}}})})},"arcgis-components/Buttons/SvgButton":function(){define(["../Component"],function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,
p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,
g));return f},p.n=function(t){var m=t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=830)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h=
{},e;for(e in x)Object.prototype.hasOwnProperty.call(x,e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(x);d<e.length;d++)0>n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);
else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");
for(;c;)try{if(e=1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=
a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=
n[h];return x}y.d(p,"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});y.d(p,"g",function(){return u});var q=function(x,n){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,
h=1,e=arguments.length;h<e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};Object.create;Object.create},16:function(J,p){J.exports=T},830:function(J,p,y){y.r(p);var t=y(0);J=function(m){function f(g){g=m.call(this,g)||this;return g.handleClick=g.handleClick.bind(g),g}return Object(t.d)(f,m),f.prototype.render=function(g){var l=this.props,u=l.label,q=l.labelDirection,z=l.key,x=l.title;return g("button",Object(t.a)({afterCreate:l.afterCreate,
key:z,id:z,classes:{"btn-svg__button":!0,"btn-svg__button--tooltip":u,"btn-svg__button--tooltip-left":"left"===q,"btn-svg__button--tooltip-right":"right"===q,"btn-svg__button--tooltip-top":"top"===q},onmousedown:this.preventFocus,onclick:this.handleClick},u?{"aria-label":u}:{title:x},{tabindex:!l.focusable&&"-1",value:l.value}),g("div",{"class":"btn-svg__button-content"},this.props.children))},f.prototype.preventFocus=function(g){g.preventDefault()},f.prototype.handleClick=function(g){this.props.handleClick&&
g.target&&(g.target.value=this.props.value,this.props.handleClick(g))},f}(y(16).Component);p["default"]=J}})})},"arcgis-components/Buttons/Toggle":function(){define(["../Component"],function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",
m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=831)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h={},e;for(e in x)Object.prototype.hasOwnProperty.call(x,e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=
0;for(e=Object.getOwnPropertySymbols(x);d<e.length;d++)0>n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||
(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;
switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=
[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=n[h];return x}y.d(p,"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});
y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});y.d(p,"g",function(){return u});var q=function(x,n){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,h=1,e=arguments.length;h<e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};
Object.create;Object.create},16:function(J,p){J.exports=T},831:function(J,p,y){y.r(p);var t=y(0);J=function(m){function f(g){g=m.call(this,g)||this;return g.handleToggleClick=g.handleToggleClick.bind(g),g}return Object(t.d)(f,m),f.prototype.render=function(g){var l=this.props,u=l.name,q=l.childOptions,z=l.prependValue,x=l.infoTooltip;z=z?""+z+this.props.value:this.props.value;l=!!(l.selectedToggle===z||q&&this.childSelectedRecursive(q,z));var n={"btn-toggle__item":!0,"btn-toggle__item--active":l,
"btn-toggle__item--flex":!!x},h={"btn-toggle__button":!0,"btn-toggle__button--active":l},e=null;return q&&(e=g("ul",{"class":"btn-toggle__sub-list",role:"group"},this.mapChildrenToToggles(g))),g("li",{key:z,classes:n,role:"treeitem","aria-selected":l?"true":void 0,"aria-expanded":q?l?"true":"false":void 0},g("button",{key:z,classes:h,value:z,onmousedown:this.preventDefault,onclick:this.handleToggleClick,title:this.props.tooltip,role:"checkbox","aria-checked":l?"true":void 0,"aria-label":u,onblur:this.props.handleBlur,
tabindex:"0"},g("span",{"class":"btn-toggle__text",key:"text"},u),this.props.count?g("span",{"class":"btn-toggle__count",key:"count"},"\u00a0","("+this.props.count+")"):null),!!x&&g("calcite-tooltip-manager",{"class":"btn-toggle__item-tooltip"},g("calcite-button",{id:"share-org-settings-filter-tooltip",appearance:"transparent",color:"neutral",scale:"s",round:!0},g("calcite-icon",{scale:"s",icon:"information"})),g("calcite-tooltip",{"reference-element":"share-org-settings-filter-tooltip","overlay-positioning":"fixed"},
x)),l?e:null)},f.prototype.preventDefault=function(g){g.preventDefault()},f.prototype.mapChildrenToToggles=function(g){var l=this,u=this.props,q=u.childOptions,z=u.selectedToggle,x=u.onToggleClick,n=u.useFullPathAsValue,h=(u=u.prependValue)?""+u+this.props.value:this.props.value;return q?q.map(function(e){return g(f,{count:e.count,key:e.value,name:e.displayName,value:n?h+"/"+e.value:e.value,showTooltip:l.props.showTooltip,tooltip:e.tooltip,selectedToggle:z,childOptions:e.children,onToggleClick:x,
useFullPathAsValue:n})}):null},f.prototype.childSelectedRecursive=function(g,l){var u=this,q=this.props,z=q.selectedToggle;return q.useFullPathAsValue?g.reduce(function(x,n){return!!(z===l+"/"+n.value||n.children&&u.childSelectedRecursive(n.children,l+"/"+n.value))||x},!1):g.reduce(function(x,n){return!!(z===n.value||n.children&&u.childSelectedRecursive(n.children,u.props.value))||x},!1)},f.prototype.handleToggleClick=function(g){g.preventDefault();this.props.onToggleClick(this.props.prependValue?
""+this.props.prependValue+this.props.value:this.props.value,this.props.name)},f}(y(16).Component);p["default"]=J}})})},"arcgis-components/Dropdowns/AccordionDropdown/index":function(){define(["../../Component","dojo/i18n!../../Dropdowns/AccordionDropdown/nls/resources"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,
f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=
m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=835)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,
d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?
a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}function k(v){try{r(d["throw"](v))}catch(B){b(B)}}function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=
1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=B;break;case 4:return k.label++,{value:B[1],done:!1};case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&
k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,
"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});t.d(y,"g",function(){return q});var z=function(n,h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<
d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},18:function(p,y){p.exports=T},339:function(p,y,t){t.d(y,"a",function(){return m});var m=function(f){return function(g){13===g.keyCode&&f(g)}}},525:function(p,y){p.exports=J},835:function(p,y,t){t.r(y);var m=t(0),f=t(525);p=t(18);var g=t(339);t=function(l){function u(q){var z=l.call(this,q)||this;return z.handleDropdownKeyDown=Object(g.a)(z.handleDropdownClick.bind(z)),
z.state={active:!!q.startActive},z.handleDropdownClick=z.handleDropdownClick.bind(z),z.handleClear=z.handleClear.bind(z),z}return Object(m.d)(u,l),u.prototype.render=function(q){var z={"drp-accordion__content":!0,"drp-accordion__content--no-padding":!1===this.props.padding},x={"drp-accordion__icon":!0,"drp-accordion__icon--active":this.state.active},n=null;return this.props.clearable&&(n=q("button",{"class":"drp-accordion__clear-btn",onclick:this.handleClear},f.clear)),q("div",{key:this.props.key,
classes:{"drp-accordion__section":!0},role:"tablist"},q("h4",{classes:{"drp-accordion__title":!0,clearfix:!0,"drp-accordion__title--flex":this.props.flex,"drp-accordion__title--active":this.state.active},value:"itemType",onclick:this.handleDropdownClick,onkeydown:this.handleDropdownKeyDown,role:"tab",tabindex:"0","aria-expanded":""+this.state.active},q("div",{"class":"drp-accordion__wrapper"},q("span",{classes:x},q("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32",
role:"img"},q("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),q("span",null,this.props.title)),n),this.state.active?q("div",{classes:z},this.props.children):null)},u.prototype.handleDropdownClick=function(){this.setState({active:!this.state.active})},u.prototype.handleClear=function(q){if(!this.props.onClear)throw"no onClear callback has been provided to AccordionDropdown";q.stopPropagation();this.props.onClear()},u}(p.Component);y["default"]=t}})})},"arcgis-components/Buttons/IconButton":function(){define(["../Component"],
function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==
typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=829)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=
typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h={},e;for(e in x)Object.prototype.hasOwnProperty.call(x,e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(x);d<e.length;d++)0>n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}
function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;
r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;
d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&
a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=n[h];return x}y.d(p,"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});y.d(p,"g",function(){return u});var q=function(x,n){return(q=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,h=1,e=arguments.length;h<e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};Object.create;Object.create},16:function(J,p){J.exports=T},829:function(J,p,y){y.r(p);var t=y(0);J=function(m){function f(){return null!==
m&&m.apply(this,arguments)||this}return Object(t.d)(f,m),f.prototype.render=function(g){var l=this.props,u=l.active,q=l.label,z=l.labelDirection,x=l.key,n=l.ariaControls;return g("button",Object(t.a)({id:x,key:x+"-container",classes:{"btn-icon__button":!0,"btn-icon__button--center":l.center,"btn-icon__button--tooltip":q,"btn-icon__button--tooltip-left":"left"===z,"btn-icon__button--tooltip-right":"right"===z,"btn-icon__button--tooltip-top":"top"===z,"btn-icon__button--active":u},"aria-label":q,onmousedown:this.preventFocus,
onclick:this.props.handleClick,tabindex:this.props.tabindex?""+this.props.tabindex:"0"},n?{"aria-controls":n,"aria-expanded":u?"true":"false"}:{"aria-checked":u},{title:l.title}),this.props.children)},f.prototype.preventFocus=function(g){g.preventDefault()},f}(y(16).Component);p["default"]=J}})})},"arcgis-components/Modals/Overlay":function(){define(["../Component"],function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,
m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),
2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=874)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=
null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h={},e;for(e in x)Object.prototype.hasOwnProperty.call(x,e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(x);d<e.length;d++)0>n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}
function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-
1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==
typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=n[h];return x}y.d(p,"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});y.d(p,"g",function(){return u});var q=function(x,n){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,
d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,h=1,e=arguments.length;h<e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};Object.create;Object.create},16:function(J,p){J.exports=T},312:function(J,p,y){function t(g){return f[g.vnodeSelector]&&(!g.properties||!g.properties.disabled&&-1!==g.properties.tabindex)||g.properties&&g.properties.tabindex&&-1<parseInt(g.properties.tabindex,10)}var m=
y(0),f={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};J=function(g){function l(u){u=g.call(this,u)||this;return u.registerFirstFocusable=u.registerFirstFocusable.bind(u),u.registerLastFocusable=u.registerLastFocusable.bind(u),u.handleFocusChange=u.handleFocusChange.bind(u),u}return Object(m.d)(l,g),l.prototype.render=function(){var u=this.findFirstFocusable(this.props.children),q=this.findLastFocusable(this.props.children);return u&&q&&(u.properties?u.properties.afterCreate=this.registerFirstFocusable:
u.properties={afterCreate:this.registerFirstFocusable},q.properties?q.properties.afterCreate=this.registerLastFocusable:q.properties={afterCreate:this.registerLastFocusable}),this.props.children},l.prototype.findFirstFocusable=function(u){if(u)for(var q=0;q<u.length;q++){var z=u[q];if(t(z)||z.children&&(z=this.findFirstFocusable(z.children)))return z}},l.prototype.findLastFocusable=function(u){if(u)for(var q=u.length-1;0<=q;q--){var z=u[q];if(t(z)||z.children&&(z=this.findLastFocusable(z.children)))return z}},
l.prototype.registerFirstFocusable=function(u){this.firstFocusableElement&&this.firstFocusableElement!==u&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);u.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=u;setTimeout(function(){u&&u.focus()},10)},l.prototype.registerLastFocusable=function(u){this.lastFocusableElement&&this.lastFocusableElement!==u&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=
u;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},l.prototype.handleFocusChange=function(u){"Tab"!==u.key&&9!==u.keyCode||(u.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),u.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),u.preventDefault()))},l}(y(16).Component);p.a=J},874:function(J,p,y){y.r(p);var t=y(0);
J=y(16);var m=y(312);y=function(f){function g(){return null!==f&&f.apply(this,arguments)||this}return Object(t.d)(g,f),g.prototype.componentWillReceiveProps=function(l){!1!==this.props.scrollable&&!1===l.scrollable&&(l=document.getElementsByClassName("mod__overlay-container"),l[0]&&(l[0].scrollTop=0))},g.prototype.render=function(l){return l(m.a,{key:"overlay-focus-trap"},l("div",{classes:{"mod__overlay-container":!0,"mod__overlay-container--adjustable":this.props.adjustable,"mod__overlay-container--closing":this.props.closing,
"mod__overlay-container--no-scroll":!1===this.props.scrollable,"mod__overlay-container--slide-left":"left"===this.props.slide,"mod__overlay-container--slide-right":"right"===this.props.slide,"mod__overlay-container--size-small":"small"===this.props.size||"large"===this.props.size,"mod__overlay-container--size-large":"large"===this.props.size,"mod__overlay-container--flex":this.props.flex},key:this.props.key},this.props.children))},g}(J.Component);p["default"]=y}})})},"arcgis-components/Dropdowns/TextOptionDropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&
f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=840)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=
n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&
(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}function k(v){try{r(d["throw"](v))}catch(B){b(B)}}
function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=B;break;case 4:return k.label++,{value:B[1],done:!1};
case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});t.d(y,"g",function(){return q});var z=function(n,
h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},16:function(p,y){p.exports=T},367:function(p,y){p.exports=J},840:function(p,
y,t){t.r(y);var m=t(0);p=t(16);var f=t(367),g=t.n(f);t=function(l){function u(q){q=l.call(this,q)||this;return q.state={optionElements:[],numOptions:-1,active:!1},q.navId=q.props.key+"-option-dropdown",q.handleOptionBlur=q.handleOptionBlur.bind(q),q.handleOptionClick=q.handleOptionClick.bind(q),q.mapOptionsToButtons=q.mapOptionsToButtons.bind(q),q.registerOptionElement=q.registerOptionElement.bind(q),q.handleOptionKeyDown=q.handleOptionKeyDown.bind(q),q.handleButtonKeyDown=q.handleButtonKeyDown.bind(q),
q}return Object(m.d)(u,l),u.prototype.render=function(q){var z=this,x={"drp-text-option__menu--left":!this.props.justify||"left"===this.props.justify,"drp-text-option__menu--right":"right"===this.props.justify};if(this.props.children&&this.props.children[0])return q(g.a,{key:this.props.key+"-dropdown-base",handleButtonKeyDown:this.handleButtonKeyDown,active:this.state.active,onToggle:function(){z.setState({active:!z.state.active})}},this.props.children[0],q("nav",{id:this.navId,"class":"drp-text-option__menu",
classes:x,style:"\n                        background-color: white;\n                        z-index: 9999999;\n                        margin: 0px;\n                        display: block;\n                        pointer-events: all;\n                        box-shadow: 0 0 16px 0 rgba(0,0,0,0.2);\n                        border: 0;\n                    ",role:"listbox","aria-activedescendant":this.props.selectedOptionValue+"-option"},this.mapOptionsToButtons(q)))},u.prototype.mapOptionsToButtons=
function(q){var z=this;return this.props.options.map(function(x,n){return q("button",{id:x.value+"-option",classes:{"drp-text-option__link":!0,"drp-text-option__link--active":x.value===z.props.selectedOptionValue},key:x.value,onclick:z.handleOptionClick,onkeydown:z.handleOptionKeyDown,value:x.value,dataIndex:n,afterCreate:z.registerOptionElement,role:"option","aria-selected":""+(x.value===z.props.selectedOptionValue),onblur:z.handleOptionBlur},x.text)})},u.prototype.handleOptionBlur=function(q){var z;
(null===(z=document.querySelector("#"+this.navId))||void 0===z?0:z.contains(q.relatedTarget))||this.setState({active:!1})},u.prototype.handleOptionClick=function(q){this.setState({active:!1});this.props.onSelect(q.target.value)},u.prototype.registerOptionElement=function(q){var z;this.setState({optionElements:Object(m.a)(Object(m.a)({},this.state.optionElements),(z={},z[q.dataIndex]=q,z)),numOptions:this.state.numOptions+1})},u.prototype.handleButtonKeyDown=function(q){q.keyCode&&40===q.keyCode&&
this.state.optionElements[0]&&this.state.optionElements[0].focus()},u.prototype.handleOptionKeyDown=function(q){var z=q.target.dataIndex;switch(q.keyCode){case 40:this.state.optionElements[z+1]?this.state.optionElements[z+1].focus():this.state.optionElements[0]&&this.state.optionElements[0].focus();break;case 38:this.state.optionElements[z-1]?this.state.optionElements[z-1].focus():this.state.optionElements[this.state.numOptions]&&this.state.optionElements[this.state.numOptions].focus()}},u}(p.Component);
y["default"]=t}})})},"arcgis-components/Dropdowns/BasicDropdown":function(){define(["../Component"],function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,
"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=
837)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h={},e;for(e in x)Object.prototype.hasOwnProperty.call(x,e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(x);d<e.length;d++)0>
n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}
function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=
v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?
v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=n[h];return x}y.d(p,"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});
y.d(p,"g",function(){return u});var q=function(x,n){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,h=1,e=arguments.length;h<e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};Object.create;Object.create},16:function(J,p){J.exports=
T},837:function(J,p,y){y.r(p);var t=y(0);J=function(m){function f(g){g=m.call(this,g)||this;return g.state={active:!1},g.handleBtnClick=g.handleBtnClick.bind(g),g.handleDropdownClick=g.handleDropdownClick.bind(g),g.handleButtonKeyDown=g.handleButtonKeyDown.bind(g),g.registerCloseHandler=g.registerCloseHandler.bind(g),g.close=g.close.bind(g),g}return Object(t.d)(f,m),f.prototype.render=function(g){var l=void 0===this.props.active?this.state.active:this.props.active;if(this.props.children&&this.props.children[0]&&
this.props.children[1]){var u=this.props.children[0],q=l?this.props.children[1]:null;l=l?g("div",{key:"open-dropdown-hook",id:this.props.key+"-hook",afterCreate:this.registerCloseHandler,style:"display: none;"}):null;return g("div",{"class":"drp-basic__container",onclick:this.handleDropdownClick},l,g("span",{id:this.props.key,"class":"drp-basic__button",onclick:this.handleBtnClick,onkeydown:this.handleButtonKeyDown,role:"button",tabindex:this.props.tabindex?this.props.tabindex:"0"},u),q)}},f.prototype.componentWillReceiveProps=
function(g){!0===this.props.active&&!1===g.active&&document.body.removeEventListener("click",this.close)},f.prototype.close=function(){void 0===this.props.active?this.setState({active:!1}):this.props.onToggle&&this.props.onToggle();document.body.removeEventListener("click",this.close)},f.prototype.handleBtnClick=function(g){g.stopPropagation();void 0===this.props.active?this.setState({active:!this.state.active}):this.props.onToggle?this.props.onToggle():this.setState({active:!this.state.active})},
f.prototype.handleDropdownClick=function(g){g.stopPropagation();this.setState({active:!this.state.active})},f.prototype.handleButtonKeyDown=function(g){13===g.keyCode||32===g.keyCode?(g.preventDefault(),this.handleBtnClick(g)):this.props.handleButtonKeyDown&&this.props.handleButtonKeyDown(g)},f.prototype.registerCloseHandler=function(){document.body.addEventListener("click",this.close)},f}(y(16).Component);p["default"]=J}})})},"arcgis-components/Navigation/TabNav":function(){define(["../Component",
"../Buttons/SvgButton","../Dropdowns/TextOptionDropdown"],function(T,J,p){return function(y){function t(f){if(m[f])return m[f].exports;var g=m[f]={i:f,l:!1,exports:{}};return y[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var m={};return t.m=y,t.c=m,t.d=function(f,g,l){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:l})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},
t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)t.d(l,u,function(q){return f[q]}.bind(null,u));return l},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=876)}({0:function(y,t,m){function f(h,
e){function d(){this.constructor=h}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x(h,e);h.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(h,e){var d={},a;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&0>e.indexOf(a)&&(d[a]=h[a]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(h);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(h,
a[b])&&(d[a[b]]=h[a[b]])}return d}function l(h,e,d,a){var b,c=arguments.length,k=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(h,e,d,a);else for(var r=h.length-1;0<=r;r--)(b=h[r])&&(k=(3>c?b(k):3<c?b(e,d,k):b(e,d))||k);return 3<c&&k&&Object.defineProperty(e,d,k),k}function u(h,e,d,a){return new (d||(d=Promise))(function(b,c){function k(B){try{v(a.next(B))}catch(C){c(C)}}function r(B){try{v(a["throw"](B))}catch(C){c(C)}}
function v(B){var C;B.done?b(B.value):(C=B.value,C instanceof d?C:new d(function(A){A(C)})).then(k,r)}v((a=a.apply(h,e||[])).next())})}function q(h,e){function d(v){return function(B){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,b&&(c=2&C[0]?b["return"]:C[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,C[1])).done)return c;switch(b=0,c&&(C=[2&C[0],c.value]),C[0]){case 0:case 1:c=C;break;case 4:return r.label++,{value:C[1],done:!1};
case 5:r.label++;b=C[1];C=[0];continue;case 7:C=r.ops.pop();r.trys.pop();continue;default:if(!(c=r.trys,(c=0<c.length&&c[c.length-1])||6!==C[0]&&2!==C[0])){r=0;continue}if(3===C[0]&&(!c||C[1]>c[0]&&C[1]<c[3]))r.label=C[1];else if(6===C[0]&&r.label<c[1])r.label=c[1],c=C;else if(c&&r.label<c[2])r.label=c[2],r.ops.push(C);else{c[2]&&r.ops.pop();r.trys.pop();continue}}C=e.call(h,r)}catch(A){C=[6,A],b=0}finally{a=c=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([v,B])}}var a,b,c,k,r={label:0,
sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function z(h,e){for(var d=0,a=e.length,b=h.length;d<a;d++,b++)h[b]=e[d];return h}m.d(t,"d",function(){return f});m.d(t,"a",function(){return n});m.d(t,"f",function(){return g});m.d(t,"c",function(){return l});m.d(t,"b",function(){return u});m.d(t,"e",function(){return q});m.d(t,"g",function(){return z});var x=function(h,
e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(h,e)},n=function(){return(n=Object.assign||function(h){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(h[b]=e[b]);return h}).apply(this,arguments)};Object.create;Object.create},16:function(y,t){y.exports=T},206:function(y,t){y.exports=J},310:function(y,
t){y.exports=p},876:function(y,t,m){m.r(t);m.d(t,"slugifySectionName",function(){return q});var f=m(0);y=m(16);var g=m(310),l=m.n(g);g=m(206);var u=m.n(g),q=function(z){return"nav-tabnav-"+z.replace(" ","-").toLowerCase()};m=function(z){function x(n){n=z.call(this,n)||this;return n.optionElements=[],n.handleBtnClick=n.handleBtnClick.bind(n),n.handleMobileClick=n.handleMobileClick.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return Object(f.d)(x,z),x.prototype.render=function(n){var h=this;if(!(1>=
this.props.options.length)){var e=this.props.options.map(function(a,b){var c=a.value,k=a.text,r=h.props.selectedOptionValue===c;return n("button",{key:c,classes:{"nav-tabnav__btn":!0,"nav-tabnav__btn--active":r},value:c,onclick:h.handleBtnClick,id:q(c),"aria-selected":r.toString(),role:"tab",afterCreate:function(v){v&&(h.optionElements[b]=v)}},k)}),d=this.props.options.filter(function(a){return a.value===h.props.selectedOptionValue})[0].text;return n("nav",{"class":"nav-tabnav__nav",role:"tablist",
"aria-labelledby":"ib__big-header-title",onkeydown:this.handleKeyDown},this.props.dropdownOnly?"":e,n("div",{classes:{"nav-tabnav__mobile-menu":!0,"nav-tabnav__mobile-menu--always-available":this.props.dropdownOnly}},n(l.a,{key:"ib-ex__section-dropdown",options:this.props.options,onSelect:this.handleMobileClick,selectedOptionValue:this.props.selectedOptionValue},n("h3",{key:"search-"+d+"-dropdown",id:"section-dropdown-toggle","class":"nav-tabnav__section-dropdown-title"},n("span",{"class":"nav-tabnav__section-dropdown-text"},
d),n("span",{"class":"btn-svg__button-noevent"},n(u.a,{key:"section-dropdown-button"},n("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 16 16",fill:"#323232"},n("path",{d:"M8 11.207l-4-4V5.793l4 4 4-4v1.414z"}))))))))}},x.prototype.handleBtnClick=function(n){n.target.value!==this.props.selectedOptionValue&&this.props.onSelect(n.target.value)},x.prototype.handleKeyDown=function(n){n=n.keyCode;var h=this.optionElements,e=h.indexOf(document.activeElement);if((39===n||37===n)&&0<=e){var d=h[e+1]||
h[0];h=h[e-1]||h[h.length-1];(n=39===n?d:h)&&n.focus()}},x.prototype.handleMobileClick=function(n){n!==this.props.selectedOptionValue&&this.props.onSelect(n)},x}(y.Component);t["default"]=m}})})},"arcgis-components/Filters/CategoriesFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle"],function(T,J,p){return function(y){function t(f){if(m[f])return m[f].exports;var g=m[f]={i:f,l:!1,exports:{}};return y[f].call(g.exports,g,g.exports,t),
g.l=!0,g.exports}var m={};return t.m=y,t.c=m,t.d=function(f,g,l){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:l})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:f}),2&g&&"string"!=
typeof f)for(var u in f)t.d(l,u,function(q){return f[q]}.bind(null,u));return l},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=841)}({0:function(y,t,m){function f(h,e){function d(){this.constructor=h}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x(h,e);h.prototype=null===e?Object.create(e):
(d.prototype=e.prototype,new d)}function g(h,e){var d={},a;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&0>e.indexOf(a)&&(d[a]=h[a]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(h);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(h,a[b])&&(d[a[b]]=h[a[b]])}return d}function l(h,e,d,a){var b,c=arguments.length,k=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)k=Reflect.decorate(h,e,d,a);else for(var r=h.length-1;0<=r;r--)(b=h[r])&&(k=(3>c?b(k):3<c?b(e,d,k):b(e,d))||k);return 3<c&&k&&Object.defineProperty(e,d,k),k}function u(h,e,d,a){return new (d||(d=Promise))(function(b,c){function k(B){try{v(a.next(B))}catch(C){c(C)}}function r(B){try{v(a["throw"](B))}catch(C){c(C)}}function v(B){var C;B.done?b(B.value):(C=B.value,C instanceof d?C:new d(function(A){A(C)})).then(k,r)}v((a=a.apply(h,e||[])).next())})}function q(h,e){function d(v){return function(B){return function(C){if(a)throw new TypeError("Generator is already executing.");
for(;r;)try{if(a=1,b&&(c=2&C[0]?b["return"]:C[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,C[1])).done)return c;switch(b=0,c&&(C=[2&C[0],c.value]),C[0]){case 0:case 1:c=C;break;case 4:return r.label++,{value:C[1],done:!1};case 5:r.label++;b=C[1];C=[0];continue;case 7:C=r.ops.pop();r.trys.pop();continue;default:if(!(c=r.trys,(c=0<c.length&&c[c.length-1])||6!==C[0]&&2!==C[0])){r=0;continue}if(3===C[0]&&(!c||C[1]>c[0]&&C[1]<c[3]))r.label=C[1];else if(6===C[0]&&r.label<c[1])r.label=
c[1],c=C;else if(c&&r.label<c[2])r.label=c[2],r.ops.push(C);else{c[2]&&r.ops.pop();r.trys.pop();continue}}C=e.call(h,r)}catch(A){C=[6,A],b=0}finally{a=c=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([v,B])}}var a,b,c,k,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function z(h,e){for(var d=0,a=e.length,b=h.length;d<a;d++,b++)h[b]=
e[d];return h}m.d(t,"d",function(){return f});m.d(t,"a",function(){return n});m.d(t,"f",function(){return g});m.d(t,"c",function(){return l});m.d(t,"b",function(){return u});m.d(t,"e",function(){return q});m.d(t,"g",function(){return z});var x=function(h,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(h,e)},n=function(){return(n=Object.assign||function(h){for(var e,
d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(h[b]=e[b]);return h}).apply(this,arguments)};Object.create;Object.create},131:function(y,t){y.exports=J},165:function(y,t){y.exports=p},18:function(y,t){y.exports=T},841:function(y,t,m){m.r(t);var f=m(0);y=m(18);var g=m(131),l=m.n(g);g=m(165);var u=m.n(g);m=function(q){function z(x){x=q.call(this,x)||this;return x.mapCategoriesToToggles=x.mapCategoriesToToggles.bind(x),x.handleToggleClick=x.handleToggleClick.bind(x),
x.handleClearFilter=x.handleClearFilter.bind(x),x}return Object(f.d)(z,q),z.prototype.render=function(x){return x(l.a,{key:this.props.key,title:this.props.title,clearable:!!this.props.categoriesFilter,onClear:this.handleClearFilter,startActive:this.props.startActive},x("ul",{"aria-label":this.props.title,"class":"ftr-categories__tree",role:"tree"},this.mapCategoriesToToggles(x)))},z.prototype.mapCategoriesToToggles=function(x){var n=this;return this.props.availableCategories.map(function(h){return x(u.a,
{count:h.count,key:h.value,name:h.displayName,value:h.value,selectedToggle:n.props.categoriesFilter?n.props.categoriesFilter.value:void 0,childOptions:h.children,onToggleClick:n.handleToggleClick,useFullPathAsValue:!0,prependValue:n.props.prependValue,showTooltip:n.props.showTooltips,tooltip:h.tooltip})})},z.prototype.handleToggleClick=function(x,n){this.props.onCategorySelect({value:x,text:n})},z.prototype.handleClearFilter=function(){this.props.onClearCategories()},z}(y.Component);t["default"]=
m}})})},"arcgis-components/Navigation/Pager/index":function(){define(["../../Component","dojo/i18n!../../Navigation/Pager/nls/resources"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,
f)},y.p="",y(y.s=875)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<
d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}
function k(v){try{r(d["throw"](v))}catch(B){b(B)}}function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=
B;break;case 4:return k.label++,{value:B[1],done:!1};case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?
B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});
t.d(y,"g",function(){return q});var z=function(n,h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},18:function(p,y){p.exports=
T},343:function(p,y){p.exports=J},875:function(p,y,t){t.r(y);var m=t(0),f=t(343);p=function(g){function l(u){u=g.call(this,u)||this;return u.handleNext=u.handleNext.bind(u),u.handlePrevious=u.handlePrevious.bind(u),u.handlePageBtn=u.handlePageBtn.bind(u),u}return Object(m.d)(l,g),l.prototype.render=function(u){var q=this,z=this.props,x=z.numPages,n=z.currentPage;z=z.paginationLimitReached;var h=Array.apply(null,{length:x}).map(function(a,b){var c=n===b+1;return u("button",{classes:{"nav-pager__btn":!0,
"nav-pager__page-btn--active":c,"nav-pager__page-btn--inactive":!c},id:"page-"+(b+1)+"-button",title:f.page+" "+(b+1),onclick:function(){q.handlePageBtn(b+1)},role:"link",tabindex:"0",key:"page-"+(b+1)+"-button"},""+(b+1))}).reduce(function(a,b,c,k){return 0===c||c===x-1||c===n-1||c===n-2||c===n||1===c&&4===n||c===x-2&&n===x-3||4>=c&&5>n?a.push(b):(c===n-3||c===n+1||5===c&&5>n)&&a.push(u("span",{"class":"nav-pager__dots",key:"dots-"+c},"...")),a},[]),e={"nav-pager__btn":!0,"nav-pager__btn--disabled":1>=
n},d={"nav-pager__btn":!0,"nav-pager__btn--disabled":n>=x};return 1<x?u("nav",{"class":"nav-pager__container",key:"pager"},n===x&&z&&u("div",{"class":"nav-pager__limit-container",key:"pagination-limit-container"},u("div",{"class":"nav-pager__limit-inner"},u("p",{"class":"nav-pager__limit-text"},f.paginationLimit))),u("button",{classes:e,id:"previous",title:f.previous,role:"link",key:"previous-btn",onclick:this.handlePrevious,tabindex:1>=n?"-1":"0"},f.previous),u("div",{"class":"nav-pager__page-btn-container"},
h),u("button",{classes:d,id:"next",title:f.next,role:"link",key:"next-btn",onclick:this.handleNext,tabindex:n>=x?"-1":"0"},f.next)):u("span",null)},l.prototype.handleNext=function(){this.props.onPageChange(this.props.currentPage+1)},l.prototype.handlePrevious=function(){this.props.onPageChange(this.props.currentPage-1)},l.prototype.handlePageBtn=function(u){this.props.onPageChange(u)},l}(t(18).Component);y["default"]=p}})})},"arcgis-components/Modals/MobileWrap":function(){define(["../Component",
"../Buttons/SvgButton"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&
(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=873)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=
n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&
(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}function k(v){try{r(d["throw"](v))}catch(B){b(B)}}
function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=B;break;case 4:return k.label++,{value:B[1],done:!1};
case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});t.d(y,"g",function(){return q});var z=function(n,
h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},16:function(p,y){p.exports=T},206:function(p,y){p.exports=J},312:function(p,
y,t){function m(l){return g[l.vnodeSelector]&&(!l.properties||!l.properties.disabled&&-1!==l.properties.tabindex)||l.properties&&l.properties.tabindex&&-1<parseInt(l.properties.tabindex,10)}var f=t(0),g={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};p=function(l){function u(q){q=l.call(this,q)||this;return q.registerFirstFocusable=q.registerFirstFocusable.bind(q),q.registerLastFocusable=q.registerLastFocusable.bind(q),q.handleFocusChange=q.handleFocusChange.bind(q),q}return Object(f.d)(u,
l),u.prototype.render=function(){var q=this.findFirstFocusable(this.props.children),z=this.findLastFocusable(this.props.children);return q&&z&&(q.properties?q.properties.afterCreate=this.registerFirstFocusable:q.properties={afterCreate:this.registerFirstFocusable},z.properties?z.properties.afterCreate=this.registerLastFocusable:z.properties={afterCreate:this.registerLastFocusable}),this.props.children},u.prototype.findFirstFocusable=function(q){if(q)for(var z=0;z<q.length;z++){var x=q[z];if(m(x)||
x.children&&(x=this.findFirstFocusable(x.children)))return x}},u.prototype.findLastFocusable=function(q){if(q)for(var z=q.length-1;0<=z;z--){var x=q[z];if(m(x)||x.children&&(x=this.findLastFocusable(x.children)))return x}},u.prototype.registerFirstFocusable=function(q){this.firstFocusableElement&&this.firstFocusableElement!==q&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);q.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=q;setTimeout(function(){q&&
q.focus()},10)},u.prototype.registerLastFocusable=function(q){this.lastFocusableElement&&this.lastFocusableElement!==q&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=q;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},u.prototype.handleFocusChange=function(q){"Tab"!==q.key&&9!==q.keyCode||(q.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
q.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),q.preventDefault()))},u}(t(16).Component);y.a=p},873:function(p,y,t){t.r(y);var m=t(0);p=t(16);var f=t(206),g=t.n(f),l=t(312);t=function(u){function q(z){z=u.call(this,z)||this;return z.state={closing:!1,open:z.props.open},z.handleClose=z.handleClose.bind(z),z}return Object(m.d)(q,u),q.prototype.componentWillReceiveProps=function(z){var x=this;this.props.open===z.open||
this.state.closing||(z.open?(this.setState({open:z.open}),setTimeout(function(){var n=document.getElementById(x.props.key+"close");n&&n.focus()},100)):(this.setState({closing:!0}),setTimeout(function(){x.setState({open:!1,closing:!1})},200)))},q.prototype.render=function(z){return z(l.a,{key:"mobile-wrap-focus-trap"},z("div",{classes:{"mod__mob-wrap-container":!0,"mod__mob-wrap-container--closed":!this.state.open,"mod__mob-wrap-container--closing":this.state.closing},key:this.props.key},z("div",{classes:{"mod__mob-wrap-body":!0,
"mod__mob-wrap-body--max-height":this.props.maxHeight,"mod__mob-wrap-body--closing":this.state.closing}},z("div",{"class":"mod__mob-wrap-header"},z("span",{"class":"mod__mob-wrap-title"},this.props.title),z(g.a,{key:this.props.key+"close",focusable:!0,handleClick:this.handleClose},z("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",viewBox:"0 0 24 24",width:"24",height:"24"},z("path",{fill:"currentColor",d:"M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z"})))),
z("div",{"class":"mod__mob-wrap-content"},this.props.children),this.props.footer?z("div",{"class":"mod__mob-wrap-footer"},this.props.footer):null)))},q.prototype.handleClose=function(){this.props.onClose&&this.props.onClose()},q}(p.Component);y["default"]=t}})})},"arcgis-components/Dropdowns/SortDropdown/index":function(){define("../../Component ../../Buttons/Toggle ../../Dropdowns/Ago2018Dropdown dojo/i18n!../../Dropdowns/SortDropdown/nls/resources ../../Buttons/IconButton ../../Modals/MobileWrap".split(" "),
function(T,J,p,y,t,m){return function(f){function g(u){if(l[u])return l[u].exports;var q=l[u]={i:u,l:!1,exports:{}};return f[u].call(q.exports,q,q.exports,g),q.l=!0,q.exports}var l={};return g.m=f,g.c=l,g.d=function(u,q,z){g.o(u,q)||Object.defineProperty(u,q,{enumerable:!0,get:z})},g.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},g.t=function(u,q){if((1&q&&(u=g(u)),8&q)||4&
q&&"object"==typeof u&&u&&u.__esModule)return u;var z=Object.create(null);if(g.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:u}),2&q&&"string"!=typeof u)for(var x in u)g.d(z,x,function(n){return u[n]}.bind(null,x));return z},g.n=function(u){var q=u&&u.__esModule?function(){return u["default"]}:function(){return u};return g.d(q,"a",q),q},g.o=function(u,q){return Object.prototype.hasOwnProperty.call(u,q)},g.p="",g(g.s=839)}({0:function(f,g,l){function u(a,b){function c(){this.constructor=
a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function q(a,b){var c={},k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(c[k]=a[k]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(k=Object.getOwnPropertySymbols(a);r<k.length;r++)0>b.indexOf(k[r])&&Object.prototype.propertyIsEnumerable.call(a,k[r])&&
(c[k[r]]=a[k[r]])}return c}function z(a,b,c,k){var r,v=arguments.length,B=3>v?b:null===k?k=Object.getOwnPropertyDescriptor(b,c):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(a,b,c,k);else for(var C=a.length-1;0<=C;C--)(r=a[C])&&(B=(3>v?r(B):3<v?r(b,c,B):r(b,c))||B);return 3<v&&B&&Object.defineProperty(b,c,B),B}function x(a,b,c,k){return new (c||(c=Promise))(function(r,v){function B(E){try{A(k.next(E))}catch(F){v(F)}}function C(E){try{A(k["throw"](E))}catch(F){v(F)}}
function A(E){var F;E.done?r(E.value):(F=E.value,F instanceof c?F:new c(function(w){w(F)})).then(B,C)}A((k=k.apply(a,b||[])).next())})}function n(a,b){function c(A){return function(E){return function(F){if(k)throw new TypeError("Generator is already executing.");for(;C;)try{if(k=1,r&&(v=2&F[0]?r["return"]:F[0]?r["throw"]||((v=r["return"])&&v.call(r),0):r.next)&&!(v=v.call(r,F[1])).done)return v;switch(r=0,v&&(F=[2&F[0],v.value]),F[0]){case 0:case 1:v=F;break;case 4:return C.label++,{value:F[1],done:!1};
case 5:C.label++;r=F[1];F=[0];continue;case 7:F=C.ops.pop();C.trys.pop();continue;default:if(!(v=C.trys,(v=0<v.length&&v[v.length-1])||6!==F[0]&&2!==F[0])){C=0;continue}if(3===F[0]&&(!v||F[1]>v[0]&&F[1]<v[3]))C.label=F[1];else if(6===F[0]&&C.label<v[1])C.label=v[1],v=F;else if(v&&C.label<v[2])C.label=v[2],C.ops.push(F);else{v[2]&&C.ops.pop();C.trys.pop();continue}}F=b.call(a,C)}catch(w){F=[6,w],r=0}finally{k=v=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([A,E])}}var k,r,v,B,C={label:0,
sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return B={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(B[Symbol.iterator]=function(){return this}),B}function h(a,b){for(var c=0,k=b.length,r=a.length;c<k;c++,r++)a[r]=b[c];return a}l.d(g,"d",function(){return u});l.d(g,"a",function(){return d});l.d(g,"f",function(){return q});l.d(g,"c",function(){return z});l.d(g,"b",function(){return x});l.d(g,"e",function(){return n});l.d(g,"g",function(){return h});var e=function(a,
b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,k){c.__proto__=k}||function(c,k){for(var r in k)Object.prototype.hasOwnProperty.call(k,r)&&(c[r]=k[r])})(a,b)},d=function(){return(d=Object.assign||function(a){for(var b,c=1,k=arguments.length;c<k;c++)for(var r in b=arguments[c])Object.prototype.hasOwnProperty.call(b,r)&&(a[r]=b[r]);return a}).apply(this,arguments)};Object.create;Object.create},165:function(f,g){f.exports=J},18:function(f,g){f.exports=T},273:function(f,
g){f.exports=p},299:function(f,g){f.exports=y},348:function(f,g){f.exports=t},368:function(f,g){f.exports=m},839:function(f,g,l){l.r(g);var u=l(0),q=l(299);f=l(18);var z=l(348),x=l.n(z);z=l(165);var n=l.n(z);z=l(273);var h=l.n(z);z=l(368);var e=l.n(z);l=function(d){function a(b){var c=d.call(this,b)||this;return c.handleToggleBlur=function(k){var r,v,B;(null===(r=document.querySelector("#dropdown-sort-menu-container"))||void 0===r?0:r.contains(k.relatedTarget))||null===(B=(v=c.props).handleMenuBlur)||
void 0===B||B.call(v)},c.handleSortClick=c.handleSortClick.bind(c),c.handleFieldChange=c.handleFieldChange.bind(c),c.handleOrderChange=c.handleOrderChange.bind(c),c.handleMobileWrapClose=c.handleMobileWrapClose.bind(c),c}return Object(u.d)(a,d),a.prototype.render=function(b){var c=this,k=[b("div",{"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title"},q.sortBy),this.props.availableFields.map(function(r){return b(n.a,{key:r,name:q[r],value:r,onToggleClick:c.handleFieldChange,
selectedToggle:c.props.field,handleBlur:c.handleToggleBlur})})),"relevance"!==this.props.field?b("div",{key:this.props.field,"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},q.sortDir),b(n.a,{key:"ascending-toggle",name:q.ascending[this.props.field],value:"asc",onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur}),b(n.a,{key:"descending-toggle",name:q.descending[this.props.field],value:"desc",
onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur})):null];return window.matchMedia("(max-width: 860px)").matches?[b(x.a,{key:"gb-sort-btn-mobile",active:this.props.active,handleClick:this.handleSortClick},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),
b("span",{"class":"drp-sort__btn-label"},q[this.props.field]))),b(e.a,{key:"sort-mobile-wrap",title:q.sort,open:this.props.active,onClose:this.handleMobileWrapClose},k)]:b(h.a,{key:"sort-dropdown",active:this.props.active,onToggle:this.handleSortClick},b(x.a,{key:"gb-sort-btn",active:this.props.active,handleClick:this.stub,tabindex:-1},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",
{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),b("span",{"class":"drp-sort__btn-label"},q[this.props.field]))),b("div",{"class":"drp-sort__menu-container",id:"dropdown-sort-menu-container"},k))},a.prototype.stub=function(){},a.prototype.handleSortClick=function(){var b,c;null===(c=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===c||c.call(b)},a.prototype.handleFieldChange=function(b){var c,k;b===
this.props.field||null!==(k=null===(c=this.props)||void 0===c?void 0:c.onFieldChange)&&void 0!==k&&k.call(c,b)},a.prototype.handleOrderChange=function(b){var c,k;b===this.props.order||null!==(k=null===(c=this.props)||void 0===c?void 0:c.onOrderChange)&&void 0!==k&&k.call(c,b)},a.prototype.handleMobileWrapClose=function(){var b,c;null===(c=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===c||c.call(b)},a}(f.Component);g["default"]=l}})})},"arcgis-components/Dropdowns/Ago2018Dropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&
f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=836)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=
n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&
(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}function k(v){try{r(d["throw"](v))}catch(B){b(B)}}
function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=B;break;case 4:return k.label++,{value:B[1],done:!1};
case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});t.d(y,"g",function(){return q});var z=function(n,
h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},16:function(p,y){p.exports=T},367:function(p,y){p.exports=J},836:function(p,
y,t){t.r(y);var m=t(0);p=t(16);var f=t(367),g=t.n(f);t=function(l){function u(q){q=l.call(this,q)||this;return q.state={active:!!q.props.active&&q.props.active,closing:!1},q.handleDrpClick=q.handleDrpClick.bind(q),q}return Object(m.d)(u,l),u.prototype.render=function(q){var z={"drp-ago2018__menu":!0,"drp-ago2018__menu--active":this.state.active&&!this.state.closing};if(this.props.children&&this.props.children[0]&&this.props.children[1])return q(g.a,{key:this.props.key,active:this.state.active,onToggle:this.handleDrpClick,
tabindex:this.props.tabindex},this.props.children[0],q("div",{classes:z},this.props.children[1]))},u.prototype.componentWillReceiveProps=function(q){!1===q.active&&!0===this.props.active&&this.close()},u.prototype.close=function(q){var z=this;this.setState({closing:!0});setTimeout(function(){z.setState({active:!1,closing:!1});z.props.onToggle&&q&&z.props.onToggle()},200)},u.prototype.handleDrpClick=function(){this.state.active?this.close(!0):this.state.closing||(this.setState({active:!0}),this.props.onToggle&&
this.props.onToggle())},u}(p.Component);y["default"]=t}})})},"arcgis-components/Filters/CreatedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/CreatedFilter/nls/resources"],function(T,J,p,y){return function(t){function m(g){if(f[g])return f[g].exports;var l=f[g]={i:g,l:!1,exports:{}};return t[g].call(l.exports,l,l.exports,m),l.l=!0,l.exports}var f={};return m.m=t,m.c=f,m.d=function(g,
l,u){m.o(g,l)||Object.defineProperty(g,l,{enumerable:!0,get:u})},m.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},m.t=function(g,l){if((1&l&&(g=m(g)),8&l)||4&l&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(m.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&l&&"string"!=typeof g)for(var q in g)m.d(u,q,function(z){return g[z]}.bind(null,
q));return u},m.n=function(g){var l=g&&g.__esModule?function(){return g["default"]}:function(){return g};return m.d(l,"a",l),l},m.o=function(g,l){return Object.prototype.hasOwnProperty.call(g,l)},m.p="",m(m.s=843)}({0:function(t,m,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");n(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function l(e,d){var a=
{},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function u(e,d,a,b){var c,k=arguments.length,r=3>k?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,d,a,b);
else for(var v=e.length-1;0<=v;v--)(c=e[v])&&(r=(3>k?c(r):3<k?c(d,a,r):c(d,a))||r);return 3<k&&r&&Object.defineProperty(d,a,r),r}function q(e,d,a,b){return new (a||(a=Promise))(function(c,k){function r(C){try{B(b.next(C))}catch(A){k(A)}}function v(C){try{B(b["throw"](C))}catch(A){k(A)}}function B(C){var A;C.done?c(C.value):(A=C.value,A instanceof a?A:new a(function(E){E(A)})).then(r,v)}B((b=b.apply(e,d||[])).next())})}function z(e,d){function a(B){return function(C){return function(A){if(b)throw new TypeError("Generator is already executing.");
for(;v;)try{if(b=1,c&&(k=2&A[0]?c["return"]:A[0]?c["throw"]||((k=c["return"])&&k.call(c),0):c.next)&&!(k=k.call(c,A[1])).done)return k;switch(c=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return v.label++,{value:A[1],done:!1};case 5:v.label++;c=A[1];A=[0];continue;case 7:A=v.ops.pop();v.trys.pop();continue;default:if(!(k=v.trys,(k=0<k.length&&k[k.length-1])||6!==A[0]&&2!==A[0])){v=0;continue}if(3===A[0]&&(!k||A[1]>k[0]&&A[1]<k[3]))v.label=A[1];else if(6===A[0]&&v.label<k[1])v.label=
k[1],k=A;else if(k&&v.label<k[2])v.label=k[2],v.ops.push(A);else{k[2]&&v.ops.pop();v.trys.pop();continue}}A=d.call(e,v)}catch(E){A=[6,E],c=0}finally{b=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([B,C])}}var b,c,k,r,v={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return r={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function x(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=
d[a];return e}f.d(m,"d",function(){return g});f.d(m,"a",function(){return h});f.d(m,"f",function(){return l});f.d(m,"c",function(){return u});f.d(m,"b",function(){return q});f.d(m,"e",function(){return z});f.d(m,"g",function(){return x});var n=function(e,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},h=function(){return(h=Object.assign||function(e){for(var d,
a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,m){t.exports=J},18:function(t,m){t.exports=T},370:function(t,m){t.exports=p},446:function(t,m){t.exports=y},843:function(t,m,f){f.r(m);var g=f(0),l=f(446);t=f(18);var u=f(131),q=f.n(u);u=f(370);var z=f.n(u);f=function(x){function n(h){h=x.call(this,h)||this;return h.handleDateRangeSelect=h.handleDateRangeSelect.bind(h),
h.handleClearFilter=h.handleClearFilter.bind(h),h}return Object(g.d)(n,x),n.prototype.render=function(h){return h(q.a,{key:"created-filter-accordion",title:l.dateCreated,clearable:!!this.props.dateCreatedFilter,onClear:this.handleClearFilter},h("ul",{"aria-label":l.dateCreated,"class":"ftr-created__tree",role:"tree"},h(z.a,{key:"date-range-selector",selectedOption:this.props.dateCreatedSection,range:this.props.dateCreatedFilter,onDateRangeSelect:this.handleDateRangeSelect,preventFutureDate:!0})))},
n.prototype.handleDateRangeSelect=function(h,e){this.props.onDateCreatedSelect(h,e)},n.prototype.handleClearFilter=function(){this.props.onDateCreatedSelect()},n}(t.Component);m["default"]=f}})})},"arcgis-components/DateSelection/DateRangeSelector/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Toggle","dojo/i18n!../../DateSelection/DateRangeSelector/nls/resources","../../DateSelection/DatePicker"],function(T,J,p,y,t){return function(m){function f(l){if(g[l])return g[l].exports;
var u=g[l]={i:l,l:!1,exports:{}};return m[l].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var g={};return f.m=m,f.c=g,f.d=function(l,u,q){f.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:q})},f.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},f.t=function(l,u){if((1&u&&(l=f(l)),8&u)||4&u&&"object"==typeof l&&l&&l.__esModule)return l;var q=Object.create(null);if(f.r(q),
Object.defineProperty(q,"default",{enumerable:!0,value:l}),2&u&&"string"!=typeof l)for(var z in l)f.d(q,z,function(x){return l[x]}.bind(null,z));return q},f.n=function(l){var u=l&&l.__esModule?function(){return l["default"]}:function(){return l};return f.d(u,"a",u),u},f.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},f.p="",f(f.s=833)}({0:function(m,f,g){function l(d,a){function b(){this.constructor=d}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");h(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function u(d,a){var b={},c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&0>a.indexOf(c)&&(b[c]=d[c]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(c=Object.getOwnPropertySymbols(d);k<c.length;k++)0>a.indexOf(c[k])&&Object.prototype.propertyIsEnumerable.call(d,c[k])&&(b[c[k]]=d[c[k]])}return b}function q(d,a,b,c){var k,r=arguments.length,v=3>r?a:null===c?
c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(d,a,b,c);else for(var B=d.length-1;0<=B;B--)(k=d[B])&&(v=(3>r?k(v):3<r?k(a,b,v):k(a,b))||v);return 3<r&&v&&Object.defineProperty(a,b,v),v}function z(d,a,b,c){return new (b||(b=Promise))(function(k,r){function v(A){try{C(c.next(A))}catch(E){r(E)}}function B(A){try{C(c["throw"](A))}catch(E){r(E)}}function C(A){var E;A.done?k(A.value):(E=A.value,E instanceof b?E:new b(function(F){F(E)})).then(v,
B)}C((c=c.apply(d,a||[])).next())})}function x(d,a){function b(C){return function(A){return function(E){if(c)throw new TypeError("Generator is already executing.");for(;B;)try{if(c=1,k&&(r=2&E[0]?k["return"]:E[0]?k["throw"]||((r=k["return"])&&r.call(k),0):k.next)&&!(r=r.call(k,E[1])).done)return r;switch(k=0,r&&(E=[2&E[0],r.value]),E[0]){case 0:case 1:r=E;break;case 4:return B.label++,{value:E[1],done:!1};case 5:B.label++;k=E[1];E=[0];continue;case 7:E=B.ops.pop();B.trys.pop();continue;default:if(!(r=
B.trys,(r=0<r.length&&r[r.length-1])||6!==E[0]&&2!==E[0])){B=0;continue}if(3===E[0]&&(!r||E[1]>r[0]&&E[1]<r[3]))B.label=E[1];else if(6===E[0]&&B.label<r[1])B.label=r[1],r=E;else if(r&&B.label<r[2])B.label=r[2],B.ops.push(E);else{r[2]&&B.ops.pop();B.trys.pop();continue}}E=a.call(d,B)}catch(F){E=[6,F],k=0}finally{c=r=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([C,A])}}var c,k,r,v,B={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return v={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function n(d,a){for(var b=0,c=a.length,k=d.length;b<c;b++,k++)d[k]=a[b];return d}g.d(f,"d",function(){return l});g.d(f,"a",function(){return e});g.d(f,"f",function(){return u});g.d(f,"c",function(){return q});g.d(f,"b",function(){return z});g.d(f,"e",function(){return x});g.d(f,"g",function(){return n});var h=function(d,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=
c}||function(b,c){for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(b[k]=c[k])})(d,a)},e=function(){return(e=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++)for(var k in a=arguments[b])Object.prototype.hasOwnProperty.call(a,k)&&(d[k]=a[k]);return d}).apply(this,arguments)};Object.create;Object.create},151:function(m,f){m.exports=J},165:function(m,f){m.exports=p},18:function(m,f){m.exports=T},225:function(m,f){m.exports=y},425:function(m,f,g){var l=g(0),u=g(225),q=g(151);
f.a=function(z,x){var n=new Date,h=n.getTime();n.setHours(0,0,0,0);n=n.getTime();switch(z){case "today":return{start:n,end:h,label:u.today};case "yesterday":return{start:n-864E5,end:n,label:u.yesterday};case "last7Days":return{start:h-6048E5,end:h,label:u.last7Days};case "last30Days":return{start:h-2592E6,end:h,label:u.last30Days};case "custom":if(x)return h=q.format(new Date(x.start),{selector:"date",formatLength:"short"}),n=q.format(new Date(x.end),{selector:"date",formatLength:"short"}),Object(l.a)(Object(l.a)({},
x),{label:h+"\u2014"+n})}}},442:function(m,f){m.exports=t},523:function(m,f,g){var l=g(0);m=g(18);var u=g(165),q=g.n(u);g=function(z){function x(n){return z.call(this,n)||this}return Object(l.d)(x,z),x.prototype.render=function(n){var h=this;return this.props.options.map(function(e){return n(q.a,{key:e.value,name:e.displayName,value:e.value,selectedToggle:h.props.selectedOption,childOptions:e.childOptions,onToggleClick:h.props.handleOptionClick})})},x}(m.Component);f.a=g},833:function(m,f,g){g.r(f);
var l=g(0),u=g(225);m=g(18);var q=g(442),z=g.n(q),x=g(523),n=g(425);g=function(h){function e(d){var a=h.call(this,d)||this;return a.state={uid:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),customStart:"custom"===d.selectedOption&&d.range?new Date(d.range.start):void 0,customEnd:"custom"===d.selectedOption&&d.range?new Date(d.range.end):void 0,customRange:"custom"===d.selectedOption&&d.range?d.range:void 0,options:[{value:"today",displayName:u.today},{value:"yesterday",displayName:u.yesterday},
{value:"last7Days",displayName:u.last7Days},{value:"last30Days",displayName:u.last30Days},{value:"custom",displayName:u.custom}]},a.handleFromDateChange=a.handleFromDateChange.bind(a),a.handleToDateChange=a.handleToDateChange.bind(a),a.handleOptionClick=a.handleOptionClick.bind(a),a}return Object(l.d)(e,h),e.prototype.render=function(d){var a,b={hide:"custom"!==this.props.selectedOption,"margin-left-1":!0,"margin-right-0":!0,date__selector:!0,"date__selector--hide":"custom"!==this.props.selectedOption},
c=new Date;if(this.props.preventFutureDate){var k=this.state.customEnd;(!k||k>c)&&(k=c);k={max:k}}else this.state.customEnd&&(k={max:this.state.customEnd});return(this.state.customStart||this.props.preventFutureDate)&&(a=Object(l.a)(Object(l.a)({},this.state.customStart&&{min:this.state.customStart}),this.props.preventFutureDate&&{max:c})),d("div",null,d(x.a,{key:"date-range-static-toggles",options:this.state.options,selectedOption:this.props.selectedOption,customRange:this.state.customRange,handleOptionClick:this.handleOptionClick}),
d("div",{classes:b},d("label",{"aria-label":u.from},u.from,d("div",{"class":"date-selector__pick-wrapper"},d(z.a,{key:"from-picker-"+this.state.uid,onDateChange:this.handleFromDateChange,value:this.state.customStart,constraints:k}))),d("label",{"aria-label":u.to},u.to,d("div",{"class":"date-selector__pick-wrapper"},d(z.a,{key:"to-picker-"+this.state.uid,onDateChange:this.handleToDateChange,value:this.state.customEnd,constraints:a})))))},e.prototype.handleFromDateChange=function(d){this.state.customEnd?
(this.setState({customStart:d,customRange:{start:d.getTime(),end:this.state.customEnd.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(n.a)("custom",this.state.customRange))):this.setState({customStart:d})},e.prototype.handleToDateChange=function(d){this.state.customStart?(this.setState({customEnd:d,customRange:{start:this.state.customStart.getTime(),end:d.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(n.a)("custom",this.state.customRange))):this.setState({customEnd:d})},
e.prototype.handleOptionClick=function(d){this.props.selectedOption===d?this.props.onDateRangeSelect():this.props.onDateRangeSelect(d,Object(n.a)(d,this.state.customRange))},e}(m.Component);f["default"]=g}})})},"arcgis-components/DateSelection/DatePicker":function(){define(["../Component","dijit/form/DateTextBox"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=
p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,
l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=834)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e=
{},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);
else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}function k(v){try{r(d["throw"](v))}catch(B){b(B)}}function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");
for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=B;break;case 4:return k.label++,{value:B[1],done:!1};case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=
b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=
h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});t.d(y,"g",function(){return q});var z=function(n,h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,
e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},16:function(p,y){p.exports=T},524:function(p,y){p.exports=J},834:function(p,y,t){t.r(y);var m=t(0);p=t(16);var f=t(524),g=t.n(f);t=function(l){function u(q){q=l.call(this,q)||this;return q.processDijit=q.processDijit.bind(q),q.createDijit=q.createDijit.bind(q),q.handleDateChange=q.handleDateChange.bind(q),q}return Object(m.d)(u,
l),u.prototype.render=function(q){return q("div",{key:this.props.key,id:this.props.key,"class":"margin-right-1",afterCreate:this.processDijit})},u.prototype.componentWillReceiveProps=function(q){q.constraints!==this.props.constraints&&this.state.dijit&&this.state.dijit.textbox&&this.state.dijit.set("constraints",Object(m.a)({},q.constraints))},u.prototype.processDijit=function(q){this.state.dijit&&this.state.dijit.destroy();q=this.createDijit(q);q.on("change",this.handleDateChange);this.setState({dijit:q})},
u.prototype.createDijit=function(q){return new g.a({value:this.props.value,constraints:Object(m.a)({},this.props.constraints)},q)},u.prototype.handleDateChange=function(q){this.props.onDateChange(q)},u}(p.Component);y["default"]=t}})})},"arcgis-components/Badges/Retired":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,
f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,
l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=824)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=T},824:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){var u=g.isRetiredStoryMap?m.tooltips.retiredStoryMap:m.tooltips.retiredApp;return l(f.a,{backgroundColor:"#efe397",
textColor:"#786d1c",key:"retired-badge",size:g.size,text:m.retired,title:u,tooltip:g.tooltip?u:void 0,tooltipDirection:g.tooltipDirection},l("path",{fill:"#786d1c",d:"M14.78 14.645L8.255 1.52a.938.938 0 0 0-.84-.52.938.938 0 0 0-.84.522L.092 14.647A.938.938 0 0 0 .932 16h13.009a.937.937 0 0 0 .838-1.355zm-.724.49a.137.137 0 0 1-.115.065H.933a.137.137 0 0 1-.116-.063.139.139 0 0 1-.008-.135L7.293 1.876a.14.14 0 0 1 .123-.076.138.138 0 0 1 .125.077l6.521 13.124a.138.138 0 0 1-.006.135zM7.495 11.5a.988.988 0 0 1 1 .976v.048a1 1 0 0 1-2 0v-.048a.988.988 0 0 1 1-.976zM7.018 6h.977v4h-.977z"}))}}})})},
"arcgis-components/Badges/Badge":function(){define(function(){return function(T){function J(y){if(p[y])return p[y].exports;var t=p[y]={i:y,l:!1,exports:{}};return T[y].call(t.exports,t,t.exports,J),t.l=!0,t.exports}var p={};return J.m=T,J.c=p,J.d=function(y,t,m){J.o(y,t)||Object.defineProperty(y,t,{enumerable:!0,get:m})},J.r=function(y){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"});Object.defineProperty(y,"__esModule",{value:!0})},J.t=
function(y,t){if((1&t&&(y=J(y)),8&t)||4&t&&"object"==typeof y&&y&&y.__esModule)return y;var m=Object.create(null);if(J.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:y}),2&t&&"string"!=typeof y)for(var f in y)J.d(m,f,function(g){return y[g]}.bind(null,f));return m},J.n=function(y){var t=y&&y.__esModule?function(){return y["default"]}:function(){return y};return J.d(t,"a",t),t},J.o=function(y,t){return Object.prototype.hasOwnProperty.call(y,t)},J.p="",J(J.s=813)}({813:function(T,J,p){p.r(J);
J["default"]=function(y,t){var m=y.key,f=y.size,g=y.text,l=y.title,u=y.tooltip,q=y.tooltipDirection,z=y.backgroundColor,x=y.textColor,n=y.children;q={"qual-badge__container":!0,"qual-badge__container--small":"small"===f,"qual-badge__container--tooltip":u,"qual-badge__container--tooltip-left":"left"===q,"qual-badge__container--tooltip-top":"top"===q,"qual-badge__container--tooltip-right":"right"===q,"tooltip-bottom":!q||"bottom"===q,"tooltip-left":"left"===q,"tooltip-top":"top"===q,"tooltip-right":"right"===
q};return"small"===f?t("span",{key:m+"-small",classes:q,"class":"qual-badge__container--small","aria-label":u,style:"background-color: "+z+"; color: "+x+";",title:u?void 0:l},n):t("span",{key:m+"-regular",classes:q,"class":"qual-badge__container--regular","aria-label":u,style:"background-color: "+z+"; color: "+x+";",title:l},t("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 16 16"},n),t("span",{"class":"qual-badge__text"},g))}}})})},"arcgis-components/Filters/MapAreaFilter":function(){define(["../Buttons/ToggleSwitch"],
function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==
typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=852)}({528:function(J,p){J.exports=T},852:function(J,p,y){y.r(p);J=y(528);var t=
y.n(J);p["default"]=function(m,f){return f(t.a,{key:"map-area-filter",label:m.text,handleToggleClick:m.handleMapAreaToggle,handleKeyUp:m.handleMapAreaKeyUp,value:m.searchMapArea})}}})})},"arcgis-components/Buttons/ToggleSwitch":function(){define(["../Component"],function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,
m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=
t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=832)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h={},e;for(e in x)Object.prototype.hasOwnProperty.call(x,
e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(x);d<e.length;d++)0>n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?
d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=
1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=n[h];return x}y.d(p,
"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});y.d(p,"g",function(){return u});var q=function(x,n){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,h=1,e=arguments.length;h<
e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};Object.create;Object.create},16:function(J,p){J.exports=T},832:function(J,p,y){y.r(p);var t=y(0);J=function(m){function f(){return null!==m&&m.apply(this,arguments)||this}return Object(t.d)(f,m),f.prototype.render=function(g){var l=this.props,u=l.handleToggleClick,q=l.handleKeyUp,z=l.value,x=l.id;return g("label",{"class":"btn-toggle-switch__toggle",key:x||"toggle-switch"},g("span",
{"class":"btn-toggle-switch__label"},l.label),g("input",{id:x+"-input",type:"checkbox","class":"btn-toggle-switch__input",onchange:u,onkeyup:q,checked:z}),g("span",{id:x+"-switch","class":"btn-toggle-switch__switch"}))},f}(y(16).Component);p["default"]=J}})})},"arcgis-components/Filters/ItemTypeFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/ItemTypeFilter/nls/resources"],function(T,J,p,y){return function(t){function m(g){if(f[g])return f[g].exports;
var l=f[g]={i:g,l:!1,exports:{}};return t[g].call(l.exports,l,l.exports,m),l.l=!0,l.exports}var f={};return m.m=t,m.c=f,m.d=function(g,l,u){m.o(g,l)||Object.defineProperty(g,l,{enumerable:!0,get:u})},m.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},m.t=function(g,l){if((1&l&&(g=m(g)),8&l)||4&l&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(m.r(u),
Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&l&&"string"!=typeof g)for(var q in g)m.d(u,q,function(z){return g[z]}.bind(null,q));return u},m.n=function(g){var l=g&&g.__esModule?function(){return g["default"]}:function(){return g};return m.d(l,"a",l),l},m.o=function(g,l){return Object.prototype.hasOwnProperty.call(g,l)},m.p="",m(m.s=846)}({0:function(t,m,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+
" is not a constructor or null");n(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function l(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function u(e,d,a,b){var c,k=arguments.length,r=3>k?d:null===b?
b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,d,a,b);else for(var v=e.length-1;0<=v;v--)(c=e[v])&&(r=(3>k?c(r):3<k?c(d,a,r):c(d,a))||r);return 3<k&&r&&Object.defineProperty(d,a,r),r}function q(e,d,a,b){return new (a||(a=Promise))(function(c,k){function r(C){try{B(b.next(C))}catch(A){k(A)}}function v(C){try{B(b["throw"](C))}catch(A){k(A)}}function B(C){var A;C.done?c(C.value):(A=C.value,A instanceof a?A:new a(function(E){E(A)})).then(r,
v)}B((b=b.apply(e,d||[])).next())})}function z(e,d){function a(B){return function(C){return function(A){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,c&&(k=2&A[0]?c["return"]:A[0]?c["throw"]||((k=c["return"])&&k.call(c),0):c.next)&&!(k=k.call(c,A[1])).done)return k;switch(c=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return v.label++,{value:A[1],done:!1};case 5:v.label++;c=A[1];A=[0];continue;case 7:A=v.ops.pop();v.trys.pop();continue;default:if(!(k=
v.trys,(k=0<k.length&&k[k.length-1])||6!==A[0]&&2!==A[0])){v=0;continue}if(3===A[0]&&(!k||A[1]>k[0]&&A[1]<k[3]))v.label=A[1];else if(6===A[0]&&v.label<k[1])v.label=k[1],k=A;else if(k&&v.label<k[2])v.label=k[2],v.ops.push(A);else{k[2]&&v.ops.pop();v.trys.pop();continue}}A=d.call(e,v)}catch(E){A=[6,E],c=0}finally{b=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([B,C])}}var b,c,k,r,v={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return r={next:a(0),"throw":a(1),
"return":a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function x(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=d[a];return e}f.d(m,"d",function(){return g});f.d(m,"a",function(){return h});f.d(m,"f",function(){return l});f.d(m,"c",function(){return u});f.d(m,"b",function(){return q});f.d(m,"e",function(){return z});f.d(m,"g",function(){return x});var n=function(e,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},h=function(){return(h=Object.assign||function(e){for(var d,a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,m){t.exports=J},165:function(t,m){t.exports=p},18:function(t,m){t.exports=T},180:function(t,m,f){function g(b,c){return n("children","value",b,c)}function l(b,
c){return h("children","value",b,c)}function u(b,c){return function A(r,v,B,C){var E,F=B[r];return F&&0!==F.length?Object(a.a)(Object(a.a)({},B),((E={})[r]=F.reduce(function(w,D){return-1!==C.indexOf(D[v])&&w.push(A(r,v,D,C)),w},[]),E)):Object(a.a)({},B)}("children","value",b,c)}function q(b){return function(c,k){var r,v=k[c];return v?Object(a.a)(Object(a.a)({},k),((r={})[c]=function A(C){return 0===C.length?[]:1!==C.length||C[0][c]?1<C.length?C.reduce(function(E,F){var w;return F[c]?(E.push(Object(a.a)(Object(a.a)({},
F),((w={})[c]=A(F[c]),w))),E):(E.push(F),E)},[]):A(C[0][c]):C}(v),r)):k}("children",b)}function z(b,c){return e("children",b,c)}function x(b,c){return function C(r,v,B){var A=v[r];A&&A.forEach(function(E){return C(r,E,B)});B(v)}("children",b,c)}function n(b,c,k,r){var v=k[b];return k[c]===r?k:v?v.reduce(function(B,C){return B||n(b,c,C,r)},void 0):void 0}function h(b,c,k,r){if(k=k[b])return k.reduce(function(v,B){return B[c]===r[0]?1===r.length?B:h(b,c,B,r.slice(1)):v},void 0)}function e(b,c,k){var r;
return k(Object(a.a)(Object(a.a)({},c),((r={})[b]=c[b]?c[b].map(function(v){return e(b,v,k)}):void 0,r)))}function d(b,c,k){return e(b,k,function(r){var v=r[c];if(delete r[c],r[b]){var B=r[b];return delete r[b],Object(a.a)(Object(a.a)({},r),{value:v,children:B})}return Object(a.a)(Object(a.a)({},r),{value:v})})}f.d(m,"f",function(){return g});f.d(m,"d",function(){return l});f.d(m,"i",function(){return u});f.d(m,"e",function(){return q});f.d(m,"h",function(){return z});f.d(m,"g",function(){return x});
f.d(m,"a",function(){return n});f.d(m,"b",function(){return h});f.d(m,"c",function(){return d});var a=f(0)},397:function(t,m){t.exports=y},447:function(t,m,f){t=f(397);m.a=[{value:"maps",displayName:"Maps",children:[{value:"webMaps",displayName:"Web maps"},{value:"mapFiles",displayName:"Map files"}]},{value:"layers",displayName:"Layers",children:[{value:"featureLayers",displayName:"Feature layers"},{value:"tileLayers",displayName:"Tile layers"},{value:"mapImageLayers",displayName:"Map image layers"},
{value:"imageryLayers",displayName:"Imagery layers"},{value:"tiledImageLayers",displayName:"Tiled imagery layers"},{value:"elevationLayers",displayName:"Elevation layers"},{value:"sceneLayers",displayName:"Scene layers"},{value:"tables",displayName:"Tables"},{value:"layerFiles",displayName:"Layer files"},{value:"bigDataFileShares",displayName:"Big data file shares"}]},{value:"scenes",displayName:"Scenes"},{value:"apps",displayName:"Apps",children:[{value:"webApps",displayName:"Web apps"},{value:"experienceApps",
displayName:"Experience Builder"},{value:"instantApps",displayName:"Instant Apps"},{value:"sites",displayName:"Sites"},{value:"pages",displayName:"Pages"},{value:"storyMaps",displayName:"StoryMaps"},{value:"mobileApps",displayName:"Mobile apps"},{value:"desktopApps",displayName:"Desktop apps"}]},{value:"tools",displayName:"Tools",children:[{value:"locators",displayName:"Locators"},{value:"geodatabaseAccess",displayName:"Geodatabase access"},{value:"geometricOperations",displayName:"Geometric operations"},
{value:"geoprocessingTasks",displayName:"Geoprocessing tasks"},{value:"networkAnalysis",displayName:"Network analysis"},{value:"webTools",displayName:t.filters.webTools},{value:"rasterFunctionTemplates",displayName:"Raster function templates"},{value:"deepLearningPackages",displayName:"Deep learning packages"},{value:"analytics",displayName:"Analytics"}]},{value:"files",displayName:"Files",children:[{value:"documents",displayName:"Documents"},{value:"images",displayName:"Images"},{value:"pdfs",displayName:"PDFs"},
{value:"csvs",displayName:"CSVs"},{value:"reports",displayName:"Administrative reports"},{value:"rasterFunctionTemplates",displayName:"Raster function templates"}]},{value:"notebooks",displayName:"Notebooks"},{value:"knowledgeGraphs",displayName:"Knowledge graphs"}]},846:function(t,m,f){f.r(m);var g=f(0),l=f(397);t=f(18);var u=f(131),q=f.n(u);u=f(165);var z=f.n(u),x=f(447),n=f(180);f=function(h){function e(d){var a=h.call(this,d)||this;return a.state={availableFilters:Object(n.e)(Object(n.i)({value:"##itemTypeOptionsRoot",
children:x.a},d.availableItemTypes)).children},a.mapItemTypesToToggles=a.mapItemTypesToToggles.bind(a),a.handleToggleClick=a.handleToggleClick.bind(a),a.handleClearFilter=a.handleClearFilter.bind(a),a}return Object(g.d)(e,h),e.prototype.render=function(d){return d(q.a,{key:"item-type-accordion",title:l.itemType,clearable:!!this.props.itemTypeFilter,onClear:this.handleClearFilter},d("ul",{"aria-label":l.itemType,"class":"ftr-item-type__tree",role:"tree"},this.mapItemTypesToToggles(d)))},e.prototype.mapItemTypesToToggles=
function(d){var a=this;return Object(n.e)(Object(n.i)({value:"##itemTypeOptionsRoot",children:x.a},this.props.availableItemTypes)).children.map(function(b){return d(z.a,{key:b.value,name:b.displayName,value:b.value,selectedToggle:a.props.itemTypeFilter?a.props.itemTypeFilter.value:void 0,childOptions:b.children,onToggleClick:a.handleToggleClick})})},e.prototype.handleToggleClick=function(d,a){var b=this.props.itemTypeFilter;b&&b.value===d?this.props.onItemTypeSelect():this.props.onItemTypeSelect({value:d,
text:a})},e.prototype.handleClearFilter=function(){this.props.onItemTypeSelect()},e}(t.Component);m["default"]=f}})})},"arcgis-components/Filters/ModifiedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/ModifiedFilter/nls/resources"],function(T,J,p,y){return function(t){function m(g){if(f[g])return f[g].exports;var l=f[g]={i:g,l:!1,exports:{}};return t[g].call(l.exports,l,l.exports,m),
l.l=!0,l.exports}var f={};return m.m=t,m.c=f,m.d=function(g,l,u){m.o(g,l)||Object.defineProperty(g,l,{enumerable:!0,get:u})},m.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},m.t=function(g,l){if((1&l&&(g=m(g)),8&l)||4&l&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(m.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&l&&"string"!=
typeof g)for(var q in g)m.d(u,q,function(z){return g[z]}.bind(null,q));return u},m.n=function(g){var l=g&&g.__esModule?function(){return g["default"]}:function(){return g};return m.d(l,"a",l),l},m.o=function(g,l){return Object.prototype.hasOwnProperty.call(g,l)},m.p="",m(m.s=847)}({0:function(t,m,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");n(e,d);e.prototype=null===d?Object.create(d):
(a.prototype=d.prototype,new a)}function l(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function u(e,d,a,b){var c,k=arguments.length,r=3>k?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)r=Reflect.decorate(e,d,a,b);else for(var v=e.length-1;0<=v;v--)(c=e[v])&&(r=(3>k?c(r):3<k?c(d,a,r):c(d,a))||r);return 3<k&&r&&Object.defineProperty(d,a,r),r}function q(e,d,a,b){return new (a||(a=Promise))(function(c,k){function r(C){try{B(b.next(C))}catch(A){k(A)}}function v(C){try{B(b["throw"](C))}catch(A){k(A)}}function B(C){var A;C.done?c(C.value):(A=C.value,A instanceof a?A:new a(function(E){E(A)})).then(r,v)}B((b=b.apply(e,d||[])).next())})}function z(e,d){function a(B){return function(C){return function(A){if(b)throw new TypeError("Generator is already executing.");
for(;v;)try{if(b=1,c&&(k=2&A[0]?c["return"]:A[0]?c["throw"]||((k=c["return"])&&k.call(c),0):c.next)&&!(k=k.call(c,A[1])).done)return k;switch(c=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return v.label++,{value:A[1],done:!1};case 5:v.label++;c=A[1];A=[0];continue;case 7:A=v.ops.pop();v.trys.pop();continue;default:if(!(k=v.trys,(k=0<k.length&&k[k.length-1])||6!==A[0]&&2!==A[0])){v=0;continue}if(3===A[0]&&(!k||A[1]>k[0]&&A[1]<k[3]))v.label=A[1];else if(6===A[0]&&v.label<k[1])v.label=
k[1],k=A;else if(k&&v.label<k[2])v.label=k[2],v.ops.push(A);else{k[2]&&v.ops.pop();v.trys.pop();continue}}A=d.call(e,v)}catch(E){A=[6,E],c=0}finally{b=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([B,C])}}var b,c,k,r,v={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return r={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function x(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=
d[a];return e}f.d(m,"d",function(){return g});f.d(m,"a",function(){return h});f.d(m,"f",function(){return l});f.d(m,"c",function(){return u});f.d(m,"b",function(){return q});f.d(m,"e",function(){return z});f.d(m,"g",function(){return x});var n=function(e,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},h=function(){return(h=Object.assign||function(e){for(var d,
a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,m){t.exports=J},18:function(t,m){t.exports=T},370:function(t,m){t.exports=p},448:function(t,m){t.exports=y},847:function(t,m,f){f.r(m);var g=f(0),l=f(448);t=f(18);var u=f(131),q=f.n(u);u=f(370);var z=f.n(u);f=function(x){function n(h){h=x.call(this,h)||this;return h.handleDateRangeSelect=h.handleDateRangeSelect.bind(h),
h.handleClearFilter=h.handleClearFilter.bind(h),h}return Object(g.d)(n,x),n.prototype.render=function(h){return h(q.a,{key:"modified-filter-accordion",title:l.dateModified,clearable:!!this.props.dateModifiedFilter,onClear:this.handleClearFilter},h("ul",{"aria-label":l.dateModified,"class":"ftr-modified__tree",role:"tree"},h(z.a,{key:"date-range-selector",selectedOption:this.props.dateModifiedSection,range:this.props.dateModifiedFilter,onDateRangeSelect:this.handleDateRangeSelect})))},n.prototype.handleDateRangeSelect=
function(h,e){this.props.onDateModifiedSelect(h,e)},n.prototype.handleClearFilter=function(){this.props.onDateModifiedSelect()},n}(t.Component);m["default"]=f}})})},"arcgis-components/Filters/SharedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/SharedFilter/nls/resources"],function(T,J,p,y){return function(t){function m(g){if(f[g])return f[g].exports;var l=f[g]={i:g,l:!1,exports:{}};return t[g].call(l.exports,
l,l.exports,m),l.l=!0,l.exports}var f={};return m.m=t,m.c=f,m.d=function(g,l,u){m.o(g,l)||Object.defineProperty(g,l,{enumerable:!0,get:u})},m.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},m.t=function(g,l){if((1&l&&(g=m(g)),8&l)||4&l&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(m.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),
2&l&&"string"!=typeof g)for(var q in g)m.d(u,q,function(z){return g[z]}.bind(null,q));return u},m.n=function(g){var l=g&&g.__esModule?function(){return g["default"]}:function(){return g};return m.d(l,"a",l),l},m.o=function(g,l){return Object.prototype.hasOwnProperty.call(g,l)},m.p="",m(m.s=848)}({0:function(t,m,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");n(e,d);e.prototype=
null===d?Object.create(d):(a.prototype=d.prototype,new a)}function l(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function u(e,d,a,b){var c,k=arguments.length,r=3>k?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,d,a,b);else for(var v=e.length-1;0<=v;v--)(c=e[v])&&(r=(3>k?c(r):3<k?c(d,a,r):c(d,a))||r);return 3<k&&r&&Object.defineProperty(d,a,r),r}function q(e,d,a,b){return new (a||(a=Promise))(function(c,k){function r(C){try{B(b.next(C))}catch(A){k(A)}}function v(C){try{B(b["throw"](C))}catch(A){k(A)}}function B(C){var A;C.done?c(C.value):(A=C.value,A instanceof a?A:new a(function(E){E(A)})).then(r,v)}B((b=b.apply(e,d||[])).next())})}
function z(e,d){function a(B){return function(C){return function(A){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,c&&(k=2&A[0]?c["return"]:A[0]?c["throw"]||((k=c["return"])&&k.call(c),0):c.next)&&!(k=k.call(c,A[1])).done)return k;switch(c=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return v.label++,{value:A[1],done:!1};case 5:v.label++;c=A[1];A=[0];continue;case 7:A=v.ops.pop();v.trys.pop();continue;default:if(!(k=v.trys,(k=0<k.length&&k[k.length-
1])||6!==A[0]&&2!==A[0])){v=0;continue}if(3===A[0]&&(!k||A[1]>k[0]&&A[1]<k[3]))v.label=A[1];else if(6===A[0]&&v.label<k[1])v.label=k[1],k=A;else if(k&&v.label<k[2])v.label=k[2],v.ops.push(A);else{k[2]&&v.ops.pop();v.trys.pop();continue}}A=d.call(e,v)}catch(E){A=[6,E],c=0}finally{b=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([B,C])}}var b,c,k,r,v={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return r={next:a(0),"throw":a(1),"return":a(2)},"function"==
typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function x(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=d[a];return e}f.d(m,"d",function(){return g});f.d(m,"a",function(){return h});f.d(m,"f",function(){return l});f.d(m,"c",function(){return u});f.d(m,"b",function(){return q});f.d(m,"e",function(){return z});f.d(m,"g",function(){return x});var n=function(e,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])})(e,d)},h=function(){return(h=Object.assign||function(e){for(var d,a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,m){t.exports=J},165:function(t,m){t.exports=p},18:function(t,m){t.exports=T},340:function(t,m){t.exports=y},848:function(t,m,f){f.r(m);var g=f(0),l=f(340);t=f(18);var u=f(131),q=f.n(u);u=f(165);var z=f.n(u);f=function(x){function n(h){h=
x.call(this,h)||this;return h.state={options:[{value:"public",displayName:l.options["public"]},{value:"org",displayName:l.options.org},{value:"shared",displayName:l.options.shared},{value:"private",displayName:l.options["private"]}]},h.mapOptionsToToggles=h.mapOptionsToToggles.bind(h),h.handleToggleClick=h.handleToggleClick.bind(h),h.handleClearFilter=h.handleClearFilter.bind(h),h}return Object(g.d)(n,x),n.prototype.render=function(h){return h(q.a,{key:"shared-accordion",title:l.shared,clearable:!!this.props.sharedFilter,
onClear:this.handleClearFilter},h("ul",{"class":"ftr-shared__tree",role:"tree","aria-label":l.shared},this.mapOptionsToToggles(h)))},n.prototype.mapOptionsToToggles=function(h){var e=this,d=this.state.options;return this.props.hideOrgGroupFilters&&(d=[this.state.options[0],this.state.options[3]]),d.map(function(a){return h(z.a,{count:e.props.counts[a.value],key:a.value,name:a.displayName,value:a.value,selectedToggle:e.props.sharedFilter?e.props.sharedFilter.value:void 0,childOptions:a.childOptions,
onToggleClick:e.handleToggleClick})})},n.prototype.handleToggleClick=function(h,e){var d=this.props.sharedFilter;d&&d.value===h?this.props.onSharedSelect():this.props.onSharedSelect({value:h,text:e})},n.prototype.handleClearFilter=function(){this.props.onSharedSelect()},n}(t.Component);m["default"]=f}})})},"arcgis-components/Filters/StatusFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/StatusFilter/nls/resources"],
function(T,J,p,y){return function(t){function m(g){if(f[g])return f[g].exports;var l=f[g]={i:g,l:!1,exports:{}};return t[g].call(l.exports,l,l.exports,m),l.l=!0,l.exports}var f={};return m.m=t,m.c=f,m.d=function(g,l,u){m.o(g,l)||Object.defineProperty(g,l,{enumerable:!0,get:u})},m.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},m.t=function(g,l){if((1&l&&(g=m(g)),8&l)||4&l&&
"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(m.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&l&&"string"!=typeof g)for(var q in g)m.d(u,q,function(z){return g[z]}.bind(null,q));return u},m.n=function(g){var l=g&&g.__esModule?function(){return g["default"]}:function(){return g};return m.d(l,"a",l),l},m.o=function(g,l){return Object.prototype.hasOwnProperty.call(g,l)},m.p="",m(m.s=849)}({0:function(t,m,f){function g(e,d){function a(){this.constructor=
e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");n(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function l(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&
(a[b[c]]=e[b[c]])}return a}function u(e,d,a,b){var c,k=arguments.length,r=3>k?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,d,a,b);else for(var v=e.length-1;0<=v;v--)(c=e[v])&&(r=(3>k?c(r):3<k?c(d,a,r):c(d,a))||r);return 3<k&&r&&Object.defineProperty(d,a,r),r}function q(e,d,a,b){return new (a||(a=Promise))(function(c,k){function r(C){try{B(b.next(C))}catch(A){k(A)}}function v(C){try{B(b["throw"](C))}catch(A){k(A)}}
function B(C){var A;C.done?c(C.value):(A=C.value,A instanceof a?A:new a(function(E){E(A)})).then(r,v)}B((b=b.apply(e,d||[])).next())})}function z(e,d){function a(B){return function(C){return function(A){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,c&&(k=2&A[0]?c["return"]:A[0]?c["throw"]||((k=c["return"])&&k.call(c),0):c.next)&&!(k=k.call(c,A[1])).done)return k;switch(c=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return v.label++,{value:A[1],done:!1};
case 5:v.label++;c=A[1];A=[0];continue;case 7:A=v.ops.pop();v.trys.pop();continue;default:if(!(k=v.trys,(k=0<k.length&&k[k.length-1])||6!==A[0]&&2!==A[0])){v=0;continue}if(3===A[0]&&(!k||A[1]>k[0]&&A[1]<k[3]))v.label=A[1];else if(6===A[0]&&v.label<k[1])v.label=k[1],k=A;else if(k&&v.label<k[2])v.label=k[2],v.ops.push(A);else{k[2]&&v.ops.pop();v.trys.pop();continue}}A=d.call(e,v)}catch(E){A=[6,E],c=0}finally{b=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([B,C])}}var b,c,k,r,v={label:0,
sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return r={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function x(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=d[a];return e}f.d(m,"d",function(){return g});f.d(m,"a",function(){return h});f.d(m,"f",function(){return l});f.d(m,"c",function(){return u});f.d(m,"b",function(){return q});f.d(m,"e",function(){return z});f.d(m,"g",function(){return x});var n=function(e,
d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},h=function(){return(h=Object.assign||function(e){for(var d,a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,m){t.exports=J},165:function(t,m){t.exports=p},18:function(t,
m){t.exports=T},407:function(t,m){t.exports=y},849:function(t,m,f){f.r(m);var g=f(0),l=f(407);t=f(18);var u=f(131),q=f.n(u);u=f(165);var z=f.n(u);f=function(x){function n(h){h=x.call(this,h)||this;return h.state={options:[{value:"authoritative",displayName:l.options.authoritative},{value:"deprecated",displayName:l.options.deprecated}]},h.mapOptionsToToggles=h.mapOptionsToToggles.bind(h),h.handleToggleClick=h.handleToggleClick.bind(h),h.handleClearFilter=h.handleClearFilter.bind(h),h}return Object(g.d)(n,
x),n.prototype.render=function(h){return h(q.a,{key:"status-accordion",title:l.status,clearable:!!this.props.statusFilter,onClear:this.handleClearFilter},h("ul",{"aria-label":l.status,"class":"ftr-status__tree",role:"tree"},this.mapOptionsToToggles(h)))},n.prototype.mapOptionsToToggles=function(h){var e=this;return this.state.options.map(function(d){return h(z.a,{key:d.value,name:d.displayName,value:d.value,selectedToggle:e.props.statusFilter?e.props.statusFilter.value:void 0,childOptions:d.childOptions,
onToggleClick:e.handleToggleClick})})},n.prototype.handleToggleClick=function(h,e){var d=this.props.statusFilter;d&&d.value===h?this.props.onStatusSelect():this.props.onStatusSelect({value:h,text:e})},n.prototype.handleClearFilter=function(){this.props.onStatusSelect()},n}(t.Component);m["default"]=f}})})},"arcgis-components/Filters/FolderFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/FolderFilter/nls/resources"],function(T,J,
p){return function(y){function t(f){if(m[f])return m[f].exports;var g=m[f]={i:f,l:!1,exports:{}};return y[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var m={};return t.m=y,t.c=m,t.d=function(f,g,l){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:l})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&
f&&f.__esModule)return f;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)t.d(l,u,function(q){return f[q]}.bind(null,u));return l},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=844)}({0:function(y,t,m){function f(h,e){function d(){this.constructor=h}if("function"!=typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x(h,e);h.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(h,e){var d={},a;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&0>e.indexOf(a)&&(d[a]=h[a]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(h);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(h,a[b])&&(d[a[b]]=h[a[b]])}return d}
function l(h,e,d,a){var b,c=arguments.length,k=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(h,e,d,a);else for(var r=h.length-1;0<=r;r--)(b=h[r])&&(k=(3>c?b(k):3<c?b(e,d,k):b(e,d))||k);return 3<c&&k&&Object.defineProperty(e,d,k),k}function u(h,e,d,a){return new (d||(d=Promise))(function(b,c){function k(B){try{v(a.next(B))}catch(C){c(C)}}function r(B){try{v(a["throw"](B))}catch(C){c(C)}}function v(B){var C;
B.done?b(B.value):(C=B.value,C instanceof d?C:new d(function(A){A(C)})).then(k,r)}v((a=a.apply(h,e||[])).next())})}function q(h,e){function d(v){return function(B){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,b&&(c=2&C[0]?b["return"]:C[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,C[1])).done)return c;switch(b=0,c&&(C=[2&C[0],c.value]),C[0]){case 0:case 1:c=C;break;case 4:return r.label++,{value:C[1],done:!1};case 5:r.label++;
b=C[1];C=[0];continue;case 7:C=r.ops.pop();r.trys.pop();continue;default:if(!(c=r.trys,(c=0<c.length&&c[c.length-1])||6!==C[0]&&2!==C[0])){r=0;continue}if(3===C[0]&&(!c||C[1]>c[0]&&C[1]<c[3]))r.label=C[1];else if(6===C[0]&&r.label<c[1])r.label=c[1],c=C;else if(c&&r.label<c[2])r.label=c[2],r.ops.push(C);else{c[2]&&r.ops.pop();r.trys.pop();continue}}C=e.call(h,r)}catch(A){C=[6,A],b=0}finally{a=c=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([v,B])}}var a,b,c,k,r={label:0,sent:function(){if(1&
c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function z(h,e){for(var d=0,a=e.length,b=h.length;d<a;d++,b++)h[b]=e[d];return h}m.d(t,"d",function(){return f});m.d(t,"a",function(){return n});m.d(t,"f",function(){return g});m.d(t,"c",function(){return l});m.d(t,"b",function(){return u});m.d(t,"e",function(){return q});m.d(t,"g",function(){return z});var x=function(h,e){return(x=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(h,e)},n=function(){return(n=Object.assign||function(h){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(h[b]=e[b]);return h}).apply(this,arguments)};Object.create;Object.create},131:function(y,t){y.exports=J},18:function(y,t){y.exports=T},339:function(y,t,m){m.d(t,"a",
function(){return f});var f=function(g){return function(l){13===l.keyCode&&g(l)}}},358:function(y,t){y.exports=p},844:function(y,t,m){m.r(t);var f=m(0),g=m(358);y=m(18);var l=m(131),u=m.n(l),q=m(339);m=function(z){function x(n){n=z.call(this,n)||this;return n.handleToggleKeyDown=Object(q.a)(n.handleToggleFilter.bind(n)),n.handleClearKeyDown=Object(q.a)(n.handleClearFilter.bind(n)),n.state={filterString:""},n.handleFilterStringChange=n.handleFilterStringChange.bind(n),n.handleToggleFilter=n.handleToggleFilter.bind(n),
n.handleClearFilter=n.handleClearFilter.bind(n),n.mapFoldersToLinks=n.mapFoldersToLinks.bind(n),n}return Object(f.d)(x,z),x.prototype.render=function(n){return n(u.a,{key:"folder-accordion",title:g.folders,clearable:!!this.props.folderFilter,onClear:this.handleClearFilter,padding:!1},n("div",{"class":"ftr-folder__input-area"},n("input",{"class":"ftr-folder__input",type:"search",placeholder:g.filterFolders,"aria-label":g.filterFolders,oninput:this.handleFilterStringChange,value:this.state.filterString})),
n("ul",{"class":"ftr-folder__list"},this.mapFoldersToLinks(n)))},x.prototype.handleFilterStringChange=function(n){this.setState({filterString:n.target.value})},x.prototype.handleToggleFilter=function(n){var h=n.target.dataset;n=h.id;h=h.title;this.props.folderFilter&&this.props.folderFilter.id===n||this.props.onFolderSelect({id:n,title:h})},x.prototype.handleClearFilter=function(){this.props.folderFilter&&this.props.onFolderSelect()},x.prototype.preventCloseDropdown=function(n){n.stopPropagation()},
x.prototype.mapFoldersToLinks=function(n){var h=this,e={"ftr-folder__link":!0,"ftr-folder__link--active":!this.props.folderFilter};return this.props.availableFolders?[n("li",{"class":"ftr-folder__item",key:"all-user-content"},n("a",{classes:e,"data-id":"all-folder-content","data-title":g.allFolders,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},this.props.folderFilter?n("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},n("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})):
n("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},n("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})),g.allFolders))].concat(this.props.availableFolders.filter(function(d){return-1!==d.title.toLowerCase().indexOf(h.state.filterString.toLowerCase())}).map(function(d){var a,b=Object(f.a)(Object(f.a)({},e),{"ftr-folder__link--active":h.props.folderFilter&&
h.props.folderFilter.id===d.id,"ftr-folder__link--home":"root"===d.id});return a="root"===d.id?n("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},n("path",{fill:"currentColor",d:"M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z"})):h.props.folderFilter&&h.props.folderFilter.id===d.id?n("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},n("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})):
n("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},n("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})),n("li",{"class":"ftr-folder__item",key:d.id},n("a",{classes:b,"data-id":d.id,"data-title":d.title,onclick:h.handleToggleFilter,onkeydown:h.handleToggleKeyDown,tabindex:"0"},a,n("span",{"class":"ftr-folder__title"},d.title)))})):null},x}(y.Component);t["default"]=m}})})},"arcgis-components/Filters/GroupFilter/index":function(){define(["../../Component",
"../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/GroupFilter/nls/resources"],function(T,J,p){return function(y){function t(f){if(m[f])return m[f].exports;var g=m[f]={i:f,l:!1,exports:{}};return y[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var m={};return t.m=y,t.c=m,t.d=function(f,g,l){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:l})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,
"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)t.d(l,u,function(q){return f[q]}.bind(null,u));return l},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=
845)}({0:function(y,t,m){function f(h,e){function d(){this.constructor=h}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x(h,e);h.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(h,e){var d={},a;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&0>e.indexOf(a)&&(d[a]=h[a]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(h);b<a.length;b++)0>
e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(h,a[b])&&(d[a[b]]=h[a[b]])}return d}function l(h,e,d,a){var b,c=arguments.length,k=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(h,e,d,a);else for(var r=h.length-1;0<=r;r--)(b=h[r])&&(k=(3>c?b(k):3<c?b(e,d,k):b(e,d))||k);return 3<c&&k&&Object.defineProperty(e,d,k),k}function u(h,e,d,a){return new (d||(d=Promise))(function(b,c){function k(B){try{v(a.next(B))}catch(C){c(C)}}
function r(B){try{v(a["throw"](B))}catch(C){c(C)}}function v(B){var C;B.done?b(B.value):(C=B.value,C instanceof d?C:new d(function(A){A(C)})).then(k,r)}v((a=a.apply(h,e||[])).next())})}function q(h,e){function d(v){return function(B){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,b&&(c=2&C[0]?b["return"]:C[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,C[1])).done)return c;switch(b=0,c&&(C=[2&C[0],c.value]),C[0]){case 0:case 1:c=
C;break;case 4:return r.label++,{value:C[1],done:!1};case 5:r.label++;b=C[1];C=[0];continue;case 7:C=r.ops.pop();r.trys.pop();continue;default:if(!(c=r.trys,(c=0<c.length&&c[c.length-1])||6!==C[0]&&2!==C[0])){r=0;continue}if(3===C[0]&&(!c||C[1]>c[0]&&C[1]<c[3]))r.label=C[1];else if(6===C[0]&&r.label<c[1])r.label=c[1],c=C;else if(c&&r.label<c[2])r.label=c[2],r.ops.push(C);else{c[2]&&r.ops.pop();r.trys.pop();continue}}C=e.call(h,r)}catch(A){C=[6,A],b=0}finally{a=c=0}if(5&C[0])throw C[1];return{value:C[0]?
C[1]:void 0,done:!0}}([v,B])}}var a,b,c,k,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function z(h,e){for(var d=0,a=e.length,b=h.length;d<a;d++,b++)h[b]=e[d];return h}m.d(t,"d",function(){return f});m.d(t,"a",function(){return n});m.d(t,"f",function(){return g});m.d(t,"c",function(){return l});m.d(t,"b",function(){return u});m.d(t,"e",function(){return q});
m.d(t,"g",function(){return z});var x=function(h,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(h,e)},n=function(){return(n=Object.assign||function(h){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(h[b]=e[b]);return h}).apply(this,arguments)};Object.create;Object.create},131:function(y,t){y.exports=
J},18:function(y,t){y.exports=T},339:function(y,t,m){m.d(t,"a",function(){return f});var f=function(g){return function(l){13===l.keyCode&&g(l)}}},359:function(y,t){y.exports=p},845:function(y,t,m){m.r(t);var f=m(0),g=m(359);y=m(18);var l=m(131),u=m.n(l),q=m(339);m=function(z){function x(n){n=z.call(this,n)||this;return n.handleToggleKeyDown=Object(q.a)(n.handleToggleFilter.bind(n)),n.handleClearKeyDown=Object(q.a)(n.handleClearFilter.bind(n)),n.state={filterString:""},n.handleToggleFilter=n.handleToggleFilter.bind(n),
n.handleClearFilter=n.handleClearFilter.bind(n),n.mapGroupsToLinks=n.mapGroupsToLinks.bind(n),n}return Object(f.d)(x,z),x.prototype.render=function(n){var h=this;return n(u.a,{key:"group-accordion",title:this.props.title||g.groups,clearable:!!this.props.groupFilter,onClear:this.handleClearFilter,padding:!1},n("div",{"class":"ftr-group__input-area"},n("input",{"class":"ftr-group__input",type:"search",placeholder:g.filterGroups,"aria-label":g.filterGroups,oninput:function(e){h.setState({filterString:e.target.value})},
value:this.state.filterString})),n("ul",{"class":"ftr-group__list"},this.mapGroupsToLinks(n)))},x.prototype.handleToggleFilter=function(n){var h=n.id;n=n.title;this.props.groupFilter&&this.props.groupFilter.id===h||this.props.onGroupSelect({id:h,title:n})},x.prototype.handleClearFilter=function(){this.props.groupFilter&&this.props.onGroupSelect()},x.prototype.preventCloseDropdown=function(n){n.stopPropagation()},x.prototype.mapGroupsToLinks=function(n){var h=this;if(!this.props.availableGroups)return null;
var e={"ftr-group__link":!0,"ftr-group__link--active":!this.props.groupFilter};return[n("li",{"class":"ftr-group__item",key:"all-user-groups"},n("a",{classes:e,"data-id":"all-group-content","data-title":g.allGroups,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},n("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},n("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
n("span",{"class":"ftr-group__link__text"},g.allGroups)))].concat(this.props.availableGroups.filter(function(d){return-1!==d.title.toLowerCase().indexOf(h.state.filterString.toLowerCase())}).map(function(d){var a,b=Object(f.a)(Object(f.a)({},e),{"ftr-group__link--active":(null===(a=h.props.groupFilter)||void 0===a?void 0:a.id)===d.id});return n("li",{"class":"ftr-group__item",key:d.id},n("a",{classes:b,onclick:function(){h.handleToggleFilter(d)},onkeydown:h.handleToggleKeyDown,tabindex:"0"},n("svg",
{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},n("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
n("span",{"class":"ftr-group__link__text"},d.title)))}))},x}(y.Component);t["default"]=m}})})},"arcgis-components/Filters/TagsFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/TagsFilter/nls/resources","../../Buttons/CheckToggle"],function(T,J,p,y){return function(t){function m(g){if(f[g])return f[g].exports;var l=f[g]={i:g,l:!1,exports:{}};return t[g].call(l.exports,l,l.exports,m),l.l=!0,l.exports}var f={};return m.m=t,m.c=f,m.d=
function(g,l,u){m.o(g,l)||Object.defineProperty(g,l,{enumerable:!0,get:u})},m.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},m.t=function(g,l){if((1&l&&(g=m(g)),8&l)||4&l&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(m.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&l&&"string"!=typeof g)for(var q in g)m.d(u,q,function(z){return g[z]}.bind(null,
q));return u},m.n=function(g){var l=g&&g.__esModule?function(){return g["default"]}:function(){return g};return m.d(l,"a",l),l},m.o=function(g,l){return Object.prototype.hasOwnProperty.call(g,l)},m.p="",m(m.s=850)}({0:function(t,m,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");n(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function l(e,d){var a=
{},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}function u(e,d,a,b){var c,k=arguments.length,r=3>k?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,d,a,b);
else for(var v=e.length-1;0<=v;v--)(c=e[v])&&(r=(3>k?c(r):3<k?c(d,a,r):c(d,a))||r);return 3<k&&r&&Object.defineProperty(d,a,r),r}function q(e,d,a,b){return new (a||(a=Promise))(function(c,k){function r(C){try{B(b.next(C))}catch(A){k(A)}}function v(C){try{B(b["throw"](C))}catch(A){k(A)}}function B(C){var A;C.done?c(C.value):(A=C.value,A instanceof a?A:new a(function(E){E(A)})).then(r,v)}B((b=b.apply(e,d||[])).next())})}function z(e,d){function a(B){return function(C){return function(A){if(b)throw new TypeError("Generator is already executing.");
for(;v;)try{if(b=1,c&&(k=2&A[0]?c["return"]:A[0]?c["throw"]||((k=c["return"])&&k.call(c),0):c.next)&&!(k=k.call(c,A[1])).done)return k;switch(c=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return v.label++,{value:A[1],done:!1};case 5:v.label++;c=A[1];A=[0];continue;case 7:A=v.ops.pop();v.trys.pop();continue;default:if(!(k=v.trys,(k=0<k.length&&k[k.length-1])||6!==A[0]&&2!==A[0])){v=0;continue}if(3===A[0]&&(!k||A[1]>k[0]&&A[1]<k[3]))v.label=A[1];else if(6===A[0]&&v.label<k[1])v.label=
k[1],k=A;else if(k&&v.label<k[2])v.label=k[2],v.ops.push(A);else{k[2]&&v.ops.pop();v.trys.pop();continue}}A=d.call(e,v)}catch(E){A=[6,E],c=0}finally{b=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([B,C])}}var b,c,k,r,v={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return r={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function x(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=
d[a];return e}f.d(m,"d",function(){return g});f.d(m,"a",function(){return h});f.d(m,"f",function(){return l});f.d(m,"c",function(){return u});f.d(m,"b",function(){return q});f.d(m,"e",function(){return z});f.d(m,"g",function(){return x});var n=function(e,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},h=function(){return(h=Object.assign||function(e){for(var d,
a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,m){t.exports=J},18:function(t,m){t.exports=T},360:function(t,m){t.exports=p},371:function(t,m){t.exports=y},850:function(t,m,f){f.r(m);var g=f(0),l=f(360);t=f(18);var u=f(131),q=f.n(u);u=f(371);var z=f.n(u);f=function(x){function n(h){h=x.call(this,h)||this;return h.handleFilterStringChange=h.handleFilterStringChange.bind(h),
h.handleToggleClick=h.handleToggleClick.bind(h),h.handleClearFilter=h.handleClearFilter.bind(h),h}return Object(g.d)(n,x),n.prototype.render=function(h){return h(q.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:l.tags,clearable:!!this.props.tagsFilter,onClear:this.handleClearFilter,padding:!1},h("div",{"class":"ftr-tags__input-area"},h("input",{"class":"ftr-tags__input",type:"search",placeholder:l.filterTags,"aria-label":l.filterTags,oninput:this.handleFilterStringChange,
value:this.props.filterString})),h("ul",{"class":"ftr-tags__tree",role:"tree","aria-label":l.tags},0<this.props.availableTags.length?this.mapTagsToToggles(h):h("p",{"class":"ftr-tags__none"},l.noTags)))},n.prototype.mapTagsToToggles=function(h){var e=this;return this.props.availableTags.map(function(d){return h(z.a,{key:d.value,name:d.value,value:d.value,selectedToggles:e.props.tagsFilter?e.props.tagsFilter:void 0,onToggleClick:e.handleToggleClick})})},n.prototype.handleToggleClick=function(h,e){var d,
a=this.props.tagsFilter;if(a&&a[h]){var b=Object(g.a)({},a);delete b[h];0<Object.keys(b).length?this.props.onTagSelect(b):this.props.onTagSelect()}else a?this.props.onTagSelect(Object(g.a)(Object(g.a)({},a),((b={})[h]=!0,b))):this.props.onTagSelect(((d={})[h]=!0,d))},n.prototype.handleFilterStringChange=function(h){h.preventDefault();this.props.onFilterStringChange(h.target.value)},n.prototype.handleClearFilter=function(){this.props.tagsFilter&&this.props.onTagSelect()},n}(t.Component);m["default"]=
f}})})},"arcgis-components/Buttons/CheckToggle":function(){define(["../Component"],function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,
"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=
827)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h={},e;for(e in x)Object.prototype.hasOwnProperty.call(x,e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(x);d<e.length;d++)0>
n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}
function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=
v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?
v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=n[h];return x}y.d(p,"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});
y.d(p,"g",function(){return u});var q=function(x,n){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,h=1,e=arguments.length;h<e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};Object.create;Object.create},16:function(J,p){J.exports=
T},827:function(J,p,y){function t(g,l,u,q,z){return u?u.map(function(x){return g(f,{key:x.value,name:x.displayName,value:l+"/"+x.value,selectedToggles:z,childOptions:x.children,onToggleClick:q})}):null}y.r(p);var m=y(0),f=function(g){function l(u){u=g.call(this,u)||this;return u.handleToggleClick=u.handleToggleClick.bind(u),u}return Object(m.d)(l,g),l.prototype.render=function(u){var q=this.props,z=q.name,x=q.value,n=q.selectedToggles,h=q.childOptions,e=q.onToggleClick;q=q.showChildren;var d=!(!n||
!n[x]),a={"btn-check-toggle__item":!0,"btn-check-toggle__item--active":d},b={"btn-check-toggle__button":!0,"btn-check-toggle__button--active":d},c=null;return h&&(c=u("ul",{"class":"btn-check-toggle__sub-list"},t(u,x,h,e,n))),u("li",{key:x,classes:a},u("button",{id:"toggle-"+x,key:x,classes:b,value:x,onmousedown:this.preventDefault,onclick:this.handleToggleClick,tabindex:"0"},u("span",{"class":"btn-check-toggle__text",key:"text"},z),this.props.count?u("span",{"class":"btn-check-toggle__count",key:"count"},
"\u00a0","("+this.props.count+")"):null),q||d?c:null)},l.prototype.preventDefault=function(u){u.preventDefault()},l.prototype.handleToggleClick=function(u){u.preventDefault();this.props.onToggleClick(this.props.value,this.props.name)},l}(y(16).Component);p["default"]=f}})})},"arcgis-components/Filters/CollaborationFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/CheckToggle","dojo/i18n!../../Filters/CollaborationFilter/nls/resources"],function(T,
J,p,y){return function(t){function m(g){if(f[g])return f[g].exports;var l=f[g]={i:g,l:!1,exports:{}};return t[g].call(l.exports,l,l.exports,m),l.l=!0,l.exports}var f={};return m.m=t,m.c=f,m.d=function(g,l,u){m.o(g,l)||Object.defineProperty(g,l,{enumerable:!0,get:u})},m.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},m.t=function(g,l){if((1&l&&(g=m(g)),8&l)||4&l&&"object"==typeof g&&
g&&g.__esModule)return g;var u=Object.create(null);if(m.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&l&&"string"!=typeof g)for(var q in g)m.d(u,q,function(z){return g[z]}.bind(null,q));return u},m.n=function(g){var l=g&&g.__esModule?function(){return g["default"]}:function(){return g};return m.d(l,"a",l),l},m.o=function(g,l){return Object.prototype.hasOwnProperty.call(g,l)},m.p="",m(m.s=851)}({0:function(t,m,f){function g(e,d){function a(){this.constructor=e}if("function"!=typeof d&&
null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");n(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function l(e,d){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>d.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>d.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(e,b[c])&&(a[b[c]]=e[b[c]])}return a}
function u(e,d,a,b){var c,k=arguments.length,r=3>k?d:null===b?b=Object.getOwnPropertyDescriptor(d,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,d,a,b);else for(var v=e.length-1;0<=v;v--)(c=e[v])&&(r=(3>k?c(r):3<k?c(d,a,r):c(d,a))||r);return 3<k&&r&&Object.defineProperty(d,a,r),r}function q(e,d,a,b){return new (a||(a=Promise))(function(c,k){function r(C){try{B(b.next(C))}catch(A){k(A)}}function v(C){try{B(b["throw"](C))}catch(A){k(A)}}function B(C){var A;
C.done?c(C.value):(A=C.value,A instanceof a?A:new a(function(E){E(A)})).then(r,v)}B((b=b.apply(e,d||[])).next())})}function z(e,d){function a(B){return function(C){return function(A){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,c&&(k=2&A[0]?c["return"]:A[0]?c["throw"]||((k=c["return"])&&k.call(c),0):c.next)&&!(k=k.call(c,A[1])).done)return k;switch(c=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return v.label++,{value:A[1],done:!1};case 5:v.label++;
c=A[1];A=[0];continue;case 7:A=v.ops.pop();v.trys.pop();continue;default:if(!(k=v.trys,(k=0<k.length&&k[k.length-1])||6!==A[0]&&2!==A[0])){v=0;continue}if(3===A[0]&&(!k||A[1]>k[0]&&A[1]<k[3]))v.label=A[1];else if(6===A[0]&&v.label<k[1])v.label=k[1],k=A;else if(k&&v.label<k[2])v.label=k[2],v.ops.push(A);else{k[2]&&v.ops.pop();v.trys.pop();continue}}A=d.call(e,v)}catch(E){A=[6,E],c=0}finally{b=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([B,C])}}var b,c,k,r,v={label:0,sent:function(){if(1&
k[0])throw k[1];return k[1]},trys:[],ops:[]};return r={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function x(e,d){for(var a=0,b=d.length,c=e.length;a<b;a++,c++)e[c]=d[a];return e}f.d(m,"d",function(){return g});f.d(m,"a",function(){return h});f.d(m,"f",function(){return l});f.d(m,"c",function(){return u});f.d(m,"b",function(){return q});f.d(m,"e",function(){return z});f.d(m,"g",function(){return x});var n=function(e,d){return(n=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(e,d)},h=function(){return(h=Object.assign||function(e){for(var d,a=1,b=arguments.length;a<b;a++)for(var c in d=arguments[a])Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);return e}).apply(this,arguments)};Object.create;Object.create},131:function(t,m){t.exports=J},18:function(t,m){t.exports=T},371:function(t,m){t.exports=
p},427:function(t,m){t.exports=y},851:function(t,m,f){f.r(m);var g=f(0),l=f(427);t=f(18);var u=f(131),q=f.n(u);u=f(371);var z=f.n(u);f=function(x){function n(h){h=x.call(this,h)||this;return h.handleToggleClick=h.handleToggleClick.bind(h),h.handleClearFilter=h.handleClearFilter.bind(h),h}return Object(g.d)(n,x),n.prototype.render=function(h){return h(q.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:l.collaboration,clearable:this.getSelected(),onClear:this.handleClearFilter},
h("ul",{"class":"ftr-collaborations__tree",role:"tree","aria-label":l.collaborations},0<Object.keys(this.props.collaborationsFilter).length?this.mapCollaborationsToToggles(h):h("p",{"class":"ftr-collaborations__none"},l.noCollaborations)))},n.prototype.getSelected=function(){var h=this.props.collaborationsFilter;return Object.keys(this.props.collaborationsFilter).some(function(e){var d;return!!h[e].selected||(null===(d=h[e].participants)||void 0===d?void 0:d.some(function(a){return!!a.selected}))})},
n.prototype.mapCollaborationsToToggles=function(h){var e=this;this.props.collaborationsFilter.sort(function(b,c){return b.label<c.label?-1:b.label>c.label?1:0});var d=this.props.collaborationsFilter,a=Object.keys(this.props.collaborationsFilter).map(function(b){var c,k=((c={})[b]=d[b].selected,c);c=d[b].participants?d[b].participants.map(function(r){var v;return k=Object(g.a)(Object(g.a)({},k),((v={})[b+"/"+r.value]=r.selected,v)),{value:r.value,displayName:r.label,onToggleClick:e.handleToggleClick,
selectedToggles:k}}):[];return h(z.a,{key:d[b].value,name:d[b].label,value:d[b].value,childOptions:c,selectedToggles:k,onToggleClick:e.handleToggleClick,showChildren:!0})});return a.sort(function(b,c){if(b.children[0].children[0].text&&c.children[0].children[0].text){var k=b.children[0].children[0].text.toLowerCase(),r=c.children[0].children[0].text.toLowerCase();if(k<r)return-1;if(k>r)return 1}return 0}),a},n.prototype.handleToggleClick=function(h,e){var d=this.props.collaborationsFilter;if(d){if(d[h])d[h].selected||
Object.keys(d).forEach(function(b){return d[b].selected=!1}),Object.keys(d).forEach(function(b){d[b].participants.forEach(function(c){c.selected=!1})}),d[h].selected=!d[h].selected;else{var a=h.split("/")[1];Object.keys(d).forEach(function(b){d[b].selected=!1;d[b].participants.forEach(function(c){c.value===a?c.selected=!c.selected:c.selected=!1})})}this.props.onCollaborationSelect(d)}},n.prototype.handleFilterStringChange=function(h){},n.prototype.handleClearFilter=function(){if(this.props.collaborationsFilter){var h=
this.props.collaborationsFilter;Object.keys(h).forEach(function(e){h[e].selected=!1;h[e].participants.forEach(function(d){return d.selected=!1})});this.props.onCollaborationSelect(h)}},n}(t.Component);m["default"]=f}})})},"arcgis-components/Dropdowns/FilterController/index":function(){define(["../../Component","../../Buttons/FilterChip/index","dojo/i18n!../../Dropdowns/FilterController/nls/resources"],function(T,J,p){return function(y){function t(f){if(m[f])return m[f].exports;var g=m[f]={i:f,l:!1,
exports:{}};return y[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var m={};return t.m=y,t.c=m,t.d=function(f,g,l){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:l})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,
"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)t.d(l,u,function(q){return f[q]}.bind(null,u));return l},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=838)}({0:function(y,t,m){function f(h,e){function d(){this.constructor=h}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");
x(h,e);h.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(h,e){var d={},a;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&0>e.indexOf(a)&&(d[a]=h[a]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(h);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(h,a[b])&&(d[a[b]]=h[a[b]])}return d}function l(h,e,d,a){var b,c=arguments.length,k=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,
d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(h,e,d,a);else for(var r=h.length-1;0<=r;r--)(b=h[r])&&(k=(3>c?b(k):3<c?b(e,d,k):b(e,d))||k);return 3<c&&k&&Object.defineProperty(e,d,k),k}function u(h,e,d,a){return new (d||(d=Promise))(function(b,c){function k(B){try{v(a.next(B))}catch(C){c(C)}}function r(B){try{v(a["throw"](B))}catch(C){c(C)}}function v(B){var C;B.done?b(B.value):(C=B.value,C instanceof d?C:new d(function(A){A(C)})).then(k,r)}v((a=a.apply(h,
e||[])).next())})}function q(h,e){function d(v){return function(B){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,b&&(c=2&C[0]?b["return"]:C[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,C[1])).done)return c;switch(b=0,c&&(C=[2&C[0],c.value]),C[0]){case 0:case 1:c=C;break;case 4:return r.label++,{value:C[1],done:!1};case 5:r.label++;b=C[1];C=[0];continue;case 7:C=r.ops.pop();r.trys.pop();continue;default:if(!(c=r.trys,(c=0<c.length&&
c[c.length-1])||6!==C[0]&&2!==C[0])){r=0;continue}if(3===C[0]&&(!c||C[1]>c[0]&&C[1]<c[3]))r.label=C[1];else if(6===C[0]&&r.label<c[1])r.label=c[1],c=C;else if(c&&r.label<c[2])r.label=c[2],r.ops.push(C);else{c[2]&&r.ops.pop();r.trys.pop();continue}}C=e.call(h,r)}catch(A){C=[6,A],b=0}finally{a=c=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([v,B])}}var a,b,c,k,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:d(0),"throw":d(1),"return":d(2)},
"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function z(h,e){for(var d=0,a=e.length,b=h.length;d<a;d++,b++)h[b]=e[d];return h}m.d(t,"d",function(){return f});m.d(t,"a",function(){return n});m.d(t,"f",function(){return g});m.d(t,"c",function(){return l});m.d(t,"b",function(){return u});m.d(t,"e",function(){return q});m.d(t,"g",function(){return z});var x=function(h,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,
a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(h,e)},n=function(){return(n=Object.assign||function(h){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(h[b]=e[b]);return h}).apply(this,arguments)};Object.create;Object.create},18:function(y,t){y.exports=T},426:function(y,t){y.exports=J},443:function(y,t){y.exports=p},838:function(y,t,m){function f(z){z.preventDefault()}m.r(t);var g=m(0),l=m(443);y=m(18);var u=
m(426),q=m.n(u);m=function(z){function x(n){n=z.call(this,n)||this;return n.toggleFilterDisplay=n.toggleFilterDisplay.bind(n),n.state={open:!!n.props.startOpen},n}return Object(g.d)(x,z),x.prototype.render=function(n){var h,e=Object(g.g)([],this.props.filters),d={"filter-controller__expand-btn":!0,"filter-controller__expand-btn--active":this.state.open,"filter-controller__expand-btn--dark":"light"===this.props.theme},a={"filter-controller__container":!0,"filter-controller__container--light":"light"===
this.props.theme},b={"filter-controller__chip-container":!0,"margin-right-half":!0,"filter-controller__chip-container--full-width":"full-width"===this.props.mode},c="light"===this.props.theme?"dark":"light";1<this.props.filters.length&&(h=n("button",{key:"filter-controller-toggle-btn",classes:d,onclick:this.toggleFilterDisplay,onmousedown:f},(this.state.open?"-":"+")+" "+(this.props.filters.length-1)));if(d=e.shift())return this.state.open?n("div",{classes:a},n("span",{"class":"filter-controller__label margin-right-half"},
this.props.showLabel),n("div",{classes:b},n(q.a,{filterId:d.filterId,handleRemoveFilter:d.onRemove,key:d.filterId,text:d.text,theme:c,"static":d["static"]}),e.map(function(k){return n(q.a,{filterId:k.filterId,handleRemoveFilter:k.onRemove,key:k.filterId,text:k.text,theme:c,"static":k["static"]})}),h,this.clearableFilters(Object(g.g)([d],e))?n("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},l.clearAll):null)):n("div",{classes:a},n("span",{"class":"filter-controller__label"},
this.props.showLabel),n("div",{classes:b},n(q.a,{filterId:d.filterId,handleRemoveFilter:d.onRemove,key:d.filterId,text:d.text,theme:c,"static":d["static"]}),h,this.clearableFilters(Object(g.g)([d],e))?n("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},l.clearAll):null))},x.prototype.toggleFilterDisplay=function(){this.setState({open:!this.state.open})},x.prototype.clearableFilters=function(n){return n.some(function(h){return!h["static"]})},x}(y.Component);t["default"]=
m}})})},"arcgis-components/Buttons/FilterChip/index":function(){define(["../../Component","dojo/i18n!../../Buttons/FilterChip/nls/resources"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,
f)},y.p="",y(y.s=828)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<
d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}
function k(v){try{r(d["throw"](v))}catch(B){b(B)}}function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=
B;break;case 4:return k.label++,{value:B[1],done:!1};case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?
B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});
t.d(y,"g",function(){return q});var z=function(n,h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},18:function(p,y){p.exports=
T},522:function(p,y){p.exports=J},828:function(p,y,t){t.r(y);var m=t(0),f=t(522);p=function(g){function l(){return null!==g&&g.apply(this,arguments)||this}return Object(m.d)(l,g),l.prototype.render=function(u){var q=this.props,z=q.filterId,x=q.handleRemoveFilter;q=q.text;return u("span",{id:"filter-chip-"+q,classes:{"btn-ftr-chip__label":!0,"btn-ftr-chip__label--dark":"dark"===this.props.theme},key:q},q,this.props["static"]?null:u("button",{"aria-label":f.clear+": "+q,value:z,id:"filter-chip-x-"+
q,"class":"btn-ftr-chip__remove",onclick:x},u("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    display: block;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding-right: .15em;\n                                    transform: rotate(360deg);\n                                "},
u("path",{d:"M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"}))))},l}(t(18).Component);y["default"]=p}})})},"arcgis-components/Management/LazyLoader":function(){define(["../Component"],function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,
m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=
t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,m)},p.p="",p(p.s=871)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h={},e;for(e in x)Object.prototype.hasOwnProperty.call(x,
e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(x);d<e.length;d++)0>n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?
d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=
1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=n[h];return x}y.d(p,
"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});y.d(p,"g",function(){return u});var q=function(x,n){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,h=1,e=arguments.length;h<
e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};Object.create;Object.create},16:function(J,p){J.exports=T},871:function(J,p,y){y.r(p);var t=y(0);J=function(m){function f(){return null!==m&&m.apply(this,arguments)||this}return Object(t.d)(f,m),f.prototype.componentDidConnect=function(){var g=this;try{var l=window.require.on("error",function(u){throw Error("Could not lazy-load the '"+g.props.path+"' component. The 'arcgis-components' submodule MUST be registered as 'arcgis-components' in dojoConfig packages in order for lazy component loading to function properly.");
});window.require(["arcgis-components/"+this.props.path],function(u){l.remove();g.setState({Cmp:u["default"]})})}catch(u){this.props.onFail&&this.props.onFail(u)}},f.prototype.render=function(g){return this.state.Cmp?g(this.state.Cmp,Object(t.a)({},this.props.componentProps)):this.props.children&&this.props.children[0]?this.props.children[0]:g("div")},f}(y(16).Component);p["default"]=J}})})},"arcgis-components/ItemCards/AnalysisCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/date/locale dojo/number ../../Badges/Retired ../../Loaders/LoaderIcon ../../Dropdowns/Ago2018Dropdown ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d){return function(a){function b(k){if(c[k])return c[k].exports;var r=c[k]={i:k,l:!1,exports:{}};return a[k].call(r.exports,r,r.exports,b),r.l=!0,r.exports}var c={};return b.m=a,b.c=c,b.d=function(k,r,v){b.o(k,r)||Object.defineProperty(k,r,{enumerable:!0,get:v})},b.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},b.t=function(k,r){if((1&
r&&(k=b(k)),8&r)||4&r&&"object"==typeof k&&k&&k.__esModule)return k;var v=Object.create(null);if(b.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:k}),2&r&&"string"!=typeof k)for(var B in k)b.d(v,B,function(C){return k[C]}.bind(null,B));return v},b.n=function(k){var r=k&&k.__esModule?function(){return k["default"]}:function(){return k};return b.d(r,"a",r),r},b.o=function(k,r){return Object.prototype.hasOwnProperty.call(k,r)},b.p="",b(b.s=862)}({0:function(a,b,c){function k(w,D){function G(){this.constructor=
w}if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");E(w,D);w.prototype=null===D?Object.create(D):(G.prototype=D.prototype,new G)}function r(w,D){var G={},H;for(H in w)Object.prototype.hasOwnProperty.call(w,H)&&0>D.indexOf(H)&&(G[H]=w[H]);if(null!=w&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(H=Object.getOwnPropertySymbols(w);M<H.length;M++)0>D.indexOf(H[M])&&Object.prototype.propertyIsEnumerable.call(w,H[M])&&
(G[H[M]]=w[H[M]])}return G}function v(w,D,G,H){var M,R=arguments.length,N=3>R?D:null===H?H=Object.getOwnPropertyDescriptor(D,G):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(w,D,G,H);else for(var K=w.length-1;0<=K;K--)(M=w[K])&&(N=(3>R?M(N):3<R?M(D,G,N):M(D,G))||N);return 3<R&&N&&Object.defineProperty(D,G,N),N}function B(w,D,G,H){return new (G||(G=Promise))(function(M,R){function N(Z){try{V(H.next(Z))}catch(ca){R(ca)}}function K(Z){try{V(H["throw"](Z))}catch(ca){R(ca)}}
function V(Z){var ca;Z.done?M(Z.value):(ca=Z.value,ca instanceof G?ca:new G(function(ea){ea(ca)})).then(N,K)}V((H=H.apply(w,D||[])).next())})}function C(w,D){function G(V){return function(Z){return function(ca){if(H)throw new TypeError("Generator is already executing.");for(;K;)try{if(H=1,M&&(R=2&ca[0]?M["return"]:ca[0]?M["throw"]||((R=M["return"])&&R.call(M),0):M.next)&&!(R=R.call(M,ca[1])).done)return R;switch(M=0,R&&(ca=[2&ca[0],R.value]),ca[0]){case 0:case 1:R=ca;break;case 4:return K.label++,
{value:ca[1],done:!1};case 5:K.label++;M=ca[1];ca=[0];continue;case 7:ca=K.ops.pop();K.trys.pop();continue;default:if(!(R=K.trys,(R=0<R.length&&R[R.length-1])||6!==ca[0]&&2!==ca[0])){K=0;continue}if(3===ca[0]&&(!R||ca[1]>R[0]&&ca[1]<R[3]))K.label=ca[1];else if(6===ca[0]&&K.label<R[1])K.label=R[1],R=ca;else if(R&&K.label<R[2])K.label=R[2],K.ops.push(ca);else{R[2]&&K.ops.pop();K.trys.pop();continue}}ca=D.call(w,K)}catch(ea){ca=[6,ea],M=0}finally{H=R=0}if(5&ca[0])throw ca[1];return{value:ca[0]?ca[1]:
void 0,done:!0}}([V,Z])}}var H,M,R,N,K={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return N={next:G(0),"throw":G(1),"return":G(2)},"function"==typeof Symbol&&(N[Symbol.iterator]=function(){return this}),N}function A(w,D){for(var G=0,H=D.length,M=w.length;G<H;G++,M++)w[M]=D[G];return w}c.d(b,"d",function(){return k});c.d(b,"a",function(){return F});c.d(b,"f",function(){return r});c.d(b,"c",function(){return v});c.d(b,"b",function(){return B});c.d(b,"e",function(){return C});
c.d(b,"g",function(){return A});var E=function(w,D){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,H){G.__proto__=H}||function(G,H){for(var M in H)Object.prototype.hasOwnProperty.call(H,M)&&(G[M]=H[M])})(w,D)},F=function(){return(F=Object.assign||function(w){for(var D,G=1,H=arguments.length;G<H;G++)for(var M in D=arguments[G])Object.prototype.hasOwnProperty.call(D,M)&&(w[M]=D[M]);return w}).apply(this,arguments)};Object.create;Object.create},112:function(a,b){a.exports=
J},117:function(a,b,c){c.d(b,"a",function(){return r});var k=c(0);a=c(15);var r=Object(a.a)(function(v,B){var C=Object(k.a),A=Object(k.a)({},B),E=B.type,F=B.typeKeywords?B.typeKeywords:[],w=null==E?void 0:E.toLowerCase(),D=!1,G=!1,H=E=!1;if("ogcfeatureserver"===w)F="featureshosted";else if(0<(null==w?void 0:w.indexOf("service"))||"feature collection"===w||"kml"===w||"wms"===w||"wmts"===w||"wfs"===w){var M=-1<F.indexOf("Hosted Service");"feature service"===w||"feature collection"===w||"kml"===w||"wfs"===
w?(H=-1<F.indexOf("Table"),D=-1<F.indexOf("Route Layer"),G=-1<F.indexOf("Markup"),F=(E=-1!==F.indexOf("Spatiotemporal"))&&H?"spatiotemporaltable":H?"table":D?"routelayer":G?"markup":E?"spatiotemporal":M?"featureshosted":"features"):"map service"===w||"wms"===w||"wmts"===w?F=M||-1<F.indexOf("Tiled")||"wmts"===w?"maptiles":"mapimages":"scene service"===w?F=-1<F.indexOf("Line")?"sceneweblayerline":-1<F.indexOf("3DObject")?"sceneweblayermultipatch":-1<F.indexOf("Point")?"sceneweblayerpoint":-1<F.indexOf("IntegratedMesh")?
"sceneweblayermesh":-1<F.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<F.indexOf("Polygon")?"sceneweblayerpolygon":-1<F.indexOf("Building")?"sceneweblayerbuilding":-1<F.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===w?(E=-1<F.indexOf("Elevation 3D Layer"),F=-1<F.indexOf("Tiled Imagery"),F=E?"elevationlayer":F?"tiledimagerylayer":"imagery"):F="stream service"===w?"streamlayer":"vector tile service"===w?"vectortile":"datastore catalog service"===w?"datastorecollection":
"geocoding service"===w?"geocodeservice":"geoprocessing service"===w&&-1<F.indexOf("Web Tool")?"tool":"layers"}else F="web map"===w||"cityengine web scene"===w?"maps":"web scene"===w?-1<F.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===w&&-1<(null==F?void 0:F.indexOf("configurableApp"))?"instantapps":"web mapping application"===w||"mobile application"===w||"application"===w||"operation view"===w||"desktop application"===w?"apps":"map document"===w||"map package"===
w||"published map"===w||"scene document"===w||"globe document"===w||"basemap package"===w||"mobile basemap package"===w||"mobile map package"===w||"project package"===w||"project template"===w||"pro map"===w||"layout"===w||"layer"===w&&-1<F.indexOf("ArcGIS Pro")||"explorer map"===w&&-1<F.indexOf("Explorer Document")?"mapsgray":"service definition"===w||"csv"===w||"administrative report"===w||"shapefile"===w||"cad drawing"===w||"geojson"===w||"360 vr experience"===w||"netcdf"===w?"datafiles":"explorer add in"===
w||"desktop add in"===w||"windows viewer add in"===w||"windows viewer configuration"===w?"appsgray":"arcgis pro add in"===w||"arcgis pro configuration"===w?"addindesktop":"rule package"===w||"file geodatabase"===w||"csv collection"===w||"kml collection"===w||"windows mobile package"===w||"map template"===w||"desktop application template"===w||"arcpad package"===w||"code sample"===w||"form"===w||"document link"===w||"vector tile package"===w||"operations dashboard add in"===w||"rules package"===w||
"image"===w||"workflow manager package"===w||"explorer map"===w&&-1<F.indexOf("Explorer Mapping Application")||-1<F.indexOf("Document")?"datafilesgray":"network analysis service"===w||"geoprocessing service"===w||"geodata service"===w||"geometry service"===w||"geoprocessing package"===w||"locator package"===w||"geoprocessing sample"===w||"workflow manager service"===w||"raster function template"===w||"deep learning package"===w?"toolsgray":"layer"===w||"layer package"===w||"explorer layer"===w?"layersgray":
"scene package"===w?"scenepackage":"tile package"===w?"tilepackage":"storymap"===w?"storymap":"storymap theme"===w?"storymaptheme":"web experience"===w?"experiencebuilder":"web experience template"===w?"webexperiencetemplate":"task file"===w?"taskfile":"report template"===w?"report-template":"statistical data collection"===w?"statisticaldatacollection":"insights workbook"===w?"workbook":"insights model"===w?"insightsmodel":"insights page"===w?"insightspage":"hub initiative"===w?"hubinitiative":"hub page"===
w?"hubpage":"hub site application"===w?"hubsite":"relational database connection"===w?"relationaldatabaseconnection":"big data file share"===w||"data store"===w?"datastorecollection":"image collection"===w?"imagecollection":"desktop style"===w?"desktopstyle":"style"===w?"style":"dashboard"===w?"dashboard":"feed"===w?"feed":"real time analytic"===w?"realtimeanalytics":"big data analytic"===w?"bigdataanalytics":"notebook"===w?"notebook":"notebook code snippets"===w?"notebookcodesnippets":"maps";return C(A,
{iconURI:v+"/"+F+"16.png"})})},120:function(a,b,c){c.d(b,"a",function(){return r});var k=c(0);a=c(15);var r=Object(a.a)(function(v,B){var C=Object(k.a),A=Object(k.a)({},B),E,F,w="notebook"!==(null===(E=B.type)||void 0===E?void 0:E.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(F=B.type)||void 0===F?void 0:F.toLowerCase())&&(w="notebook-code-snippet-thumb.png");F=v.baseUrl+"/home/js/arcgisonline/css/images/"+w;E=(B.thumbnail&&(F=v.restUrl+"/content/items/"+
B.id+"/info/"+B.thumbnail+(v.credential?"?token\x3d"+v.credential.token:"")),F);return C(A,{thumbURI:E})})},121:function(a,b,c){c.d(b,"a",function(){return v});var k=c(0);a=c(15);var r=function(B,C){return C.description?C.description.replace(/src=('|")js\/jsapi\/esri\//g,function(A){return"src\x3d"+('"'===A[4]?'"':"'")+B.baseUrl+"/home/js/jsapi/esri/"}):void 0},v=Object(a.a)(function(B,C){return Object(k.a)(Object(k.a)({},C),{patchedDescription:r(B,C)})})},122:function(a,b,c){c.d(b,"a",function(){return B});
var k=c(0),r=c(124);a=c(15);var v=c(58),B=Object(a.a)(function(C,A){var E=Object(k.a),F=Object(k.a)({},A),w,D=A.type,G=A.typeKeywords||[],H=D,M=(null==C?void 0:C.portalUser)||(null==C?void 0:C.user);if("Feature Service"===D||"Feature Collection"===D){if(H=-1<G.indexOf("Table")?"Table":-1<G.indexOf("Route Layer")?"Route Layer":-1<G.indexOf("Markup")?"Markup":"Feature Layer",M&&Object(v.d)(A,M)&&-1<(null==G?void 0:G.indexOf("Hosted Service")))G=(null===(w=null===document||void 0===document?void 0:document.documentElement)||
void 0===w?void 0:w.lang)||"en",H=H+" ("+(r.a[G]||r.a[G.split("-")[0]]||r.a.en)+")"}else"Image Service"===D?(w=-1<G.indexOf("Elevation 3D Layer"),G=-1<G.indexOf("Tiled Imagery"),H=w?"Elevation Layer":G?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===D?H="Scene Layer":"Scene Package"===D?H="Scene Layer Package":"Stream Service"===D?H="Feature Layer":"Geocoding Service"===D?H="Locator":"Microsoft Powerpoint"===D?H="Microsoft PowerPoint":"OGCFeatureServer"===D?H="OGC Feature Layer":"GeoJson"===
D?H="GeoJSON":"Globe Service"===D?H="Globe Layer":"Vector Tile Service"===D?H="Tile Layer":"netCDF"===D?H="NetCDF":"Map Service"===D?H=-1===G.indexOf("Spatiotemporal")&&(-1<G.indexOf("Hosted Service")||-1<G.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":D&&-1<D.toLowerCase().indexOf("add in")?H=D.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===D?H="Big Data File Share":"Web Mapping Application"===D&&(null==G?0:G.includes("configurableApp"))?H="Instant App":"Data Store"===D&&(G.includes("cloudStore_amazon")||
G.includes("cloudStore_azure")?H+=" (Cloud)":(G.includes("fileShare")||G.includes("hdfs")||G.includes("hive")||G.includes("bigDataFileShare")&&G.includes("dataStore"))&&(H+=" (Big Data File Share)"));return E(F,{displayName:H})})},123:function(a,b,c){c.d(b,"a",function(){return v});var k=c(0);a=c(15);var r=function(B,C){var A=[],E=B.typeKeywords?B.typeKeywords:[];return B.contentStatus&&("org_authoritative"===B.contentStatus||"public_authoritative"===B.contentStatus?A.push("authoritative"):"deprecated"===
B.contentStatus&&A.push("deprecated")),B.origin&&A.push("collaboration"),B.groupDesignations&&-1<B.groupDesignations.indexOf("livingatlas")&&A.push("livingAtlas"),-1<E.indexOf("Requires Credits")?A.push("premium"):-1<E.indexOf("Requires Subscription")&&A.push("subscriber"),-1<E.indexOf("Public Data Collection")&&((null==C?void 0:C.portalUser)||(null==C?void 0:C.user))&&A.push("publicDataCollection"),"Solution"===B.type&&-1<B.typeKeywords.indexOf("ArcGIS Solution")&&A.push("solution"),C.isPortal&&
"Web Mapping Application"===B.type&&(-1<B.typeKeywords.indexOf("Story Map")&&A.push("retiredStoryMap"),function(F){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(w){var D,
G=-1<w.indexOf(".html");return-1<(null===(D=F.url)||void 0===D?void 0:D.indexOf("/apps/"+w+(G?"":"/")))})}(B)&&A.push("retiredApp")),A},v=Object(a.a)(function(B,C){return Object(k.a)(Object(k.a)({},C),{badges:r(C,B)})})},124:function(a,b,c){c.d(b,"a",function(){return k});var k={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},148:function(a,b,c){c.d(b,"a",function(){return r});var k=c(0);a=c(15);var r=Object(a.a)(function(v,B){var C=Object(k.a),A=Object(k.a)({},B);var E=B.thumbnail?v.restUrl+"/community/users/"+B.username+"/info/"+B.thumbnail+(v.credential?"?token\x3d"+v.credential.token:""):void 0;return C(A,{thumbURI:E})})},15:function(a,b,c){function k(v){return function C(){for(var A=this,E=[],F=0;F<arguments.length;F++)E[F]=
arguments[F];return E.length>=v.length?v.call.apply(v,Object(r.g)([this],E)):function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];return C.call.apply(C,Object(r.g)(Object(r.g)([A],E),w))}}}c.d(b,"a",function(){return k});var r=c(0)},151:function(a,b){a.exports=p},178:function(a,b){a.exports=y},18:function(a,b){a.exports=T},233:function(a,b){a.exports=t},250:function(a,b){a.exports=m},273:function(a,b){a.exports=f},274:function(a,b){a.exports=g},275:function(a,b){a.exports=l},276:function(a,
b){a.exports=u},277:function(a,b){a.exports=q},278:function(a,b){a.exports=z},279:function(a,b){a.exports=x},280:function(a,b){a.exports=n},281:function(a,b){a.exports=h},282:function(a,b){a.exports=e},311:function(a,b){a.exports=d},5:function(a,b,c){function k(w){return 0===Object.keys(w).length&&w.constructor===Object}function r(w){return null!=w}function v(w,D){return E.apply(null,arguments)}function B(w,D){return F.apply(null,arguments)}c.d(b,"b",function(){return k});c.d(b,"a",function(){return r});
c.d(b,"e",function(){return A});c.d(b,"c",function(){return v});c.d(b,"d",function(){return B});var C=c(0);a=c(15);var A=Object(a.a)(function(w,D){var G=Object(C.a)({},D);return delete G[w],G}),E=Object(a.a)(function(w,D){return Object.keys(D).reduce(function(G,H){return G[H]=w(D[H],H,D),G},{})}),F=Object(a.a)(function(w,D){return Object.keys(D).reduce(function(G,H){return w(D[H],H,D)&&(G[H]=D[H]),G},{})})},51:function(a,b,c){function k(ea){return!(!ea.urlKey||!ea.customBaseUrl)}function r(ea){return ea.role===
H.admin||ea.role===H.accountAdmin}function v(ea){return Object(N.a)(ea.roleId)&&0<(ea.roleId||"").length}function B(ea){return!v(ea)||v(ea)&&-1<(ea.privileges||[]).indexOf("portal:admin:viewItems")}function C(ea){return-1<(ea.privileges||[]).indexOf("portal:user:shareToOrg")}function A(ea){return-1<(ea.privileges||[]).indexOf("portal:user:shareToGroup")}function E(ea){return-1<(ea.privileges||[]).indexOf("portal:user:shareToPublic")}function F(ea,ka){return w(ea)||D(ea)||ka.canSharePublic&&G(ea)}
function w(ea){return-1<(ea.privileges||[]).indexOf("portal:admin:shareToGroup")}function D(ea){return-1<(ea.privileges||[]).indexOf("portal:admin:shareToOrg")}function G(ea){return-1<(ea.privileges||[]).indexOf("portal:admin:shareToPublic")}c.d(b,"l",function(){return V});c.d(b,"h",function(){return Z});c.d(b,"m",function(){return ca});c.d(b,"k",function(){return k});c.d(b,"i",function(){return r});c.d(b,"j",function(){return v});c.d(b,"g",function(){return B});c.d(b,"b",function(){return C});c.d(b,
"a",function(){return A});c.d(b,"c",function(){return E});c.d(b,"d",function(){return w});c.d(b,"e",function(){return D});c.d(b,"f",function(){return G});var H,M=c(63),R=c(148),N=c(5),K=c(58);!function(ea){ea.user="org_user";ea.accountUser="account_user";ea.publisher="org_publisher";ea.accountPublisher="account_publisher";ea.admin="org_admin";ea.accountAdmin="account_admin";ea.viewer="iAAAAAAAAAAAAAAA";ea.dataEditor="iBBBBBBBBBBBBBBB"}(H||(H={}));var V=function(ea){var ka=ea.items;return!!ea.user.orgId&&
ka.every(function(la){return la.isOrgItem})},Z=function(ea){var ka=ea.items,la=ea.user,ta=ea.portal;ea=ka[0];var za=Object(K.c)(ea,la),ia=v(la),U=F(la,ta);if(ia=Object(K.a)(ea,la)&&-1<(la.privileges||[]).indexOf("portal:admin:updateItems")&&!ia)ia=!k(ta)||A(la)||C(la)||ta.canSharePublic&&E(la)||F(la,ta);ta=ia;return!(ea.portal.isPortal&&ea.owner!==la.username&&-1<ea.owner.indexOf("esri_"))&&(za||ta||V({items:ka,user:la})&&U)},ca=function(ea,ka){return Object(M.a)(Object(R.a)(ea))(ka)}},58:function(a,
b,c){function k(E,F){return(null==E?void 0:E.owner)===F.username}function r(E,F){var w;if(!(w=k(E,F)))if(Object(B.a)(E.isAdmin))w=!!E.isAdmin;else{w=E.owner;var D="admin"===E.itemControl;w=!(E.portal.isPortal&&!k(E,F)&&D&&-1<w.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(w))&&D}return w}function v(E,F){return r(E,F)||"update"===E.itemControl}c.d(b,"d",function(){return k});c.d(b,"c",function(){return r});c.d(b,"a",function(){return v});c.d(b,"b",function(){return A});
var B=c(5),C=c(51),A=function(E){var F=E.user,w=E.items;E=E.portal;return Object(C.l)({items:w,user:F})&&Object(C.h)({items:w,user:F,portal:E})&&Object(C.g)(F)&&w[0].itemOwner||F}},63:function(a,b,c){function k(){for(var r=[],v=0;v<arguments.length;v++)r[v]=arguments[v];return function(B){return r.reduceRight(function(C,A){return A(C)},B)}}c.d(b,"a",function(){return k})},78:function(a,b,c){c.d(b,"a",function(){return E});c.d(b,"b",function(){return F});var k=c(63);a=c(5);var r=c(123),v=c(122),B=
c(117),C=c(121),A=c(120),E=function(w,D,G){return Object(k.a)(Object(A.a)(w),Object(C.a)(w),Object(B.a)(D),Object(v.a)(w),Object(r.a)(w))(G)},F=Object(k.a)(Object(a.e)("patchedDescription"),Object(a.e)("thumbURI"),Object(a.e)("iconURI"),Object(a.e)("displayName"),Object(a.e)("badges"))},862:function(a,b,c){c.r(b);var k=c(0),r=c(112);a=c(18);var v=c(151),B=c(178),C=c(250),A=c.n(C);C=c(274);var E=c.n(C);C=c(275);var F=c.n(C);C=c(276);var w=c.n(C);C=c(277);var D=c.n(C);C=c(278);var G=c.n(C);C=c(279);
var H=c.n(C);C=c(280);var M=c.n(C);C=c(281);var R=c.n(C);C=c(311);var N=c.n(C);C=c(282);var K=c.n(C);C=c(233);var V=c.n(C);C=c(273);var Z=c.n(C),ca=c(78);c=function(ea){function ka(la){var ta=ea.call(this,la)||this;return ta.state={customActionsOpen:!1,inversedAction:la.isSelected&&la.isSelected(Object(ca.b)(ta.props.item)),isLoading:!1},ta.handleActionDropdownToggle=ta.handleActionDropdownToggle.bind(ta),ta.handleCustomActionClick=ta.handleCustomActionClick.bind(ta),ta.handleMainActionClick=ta["handleMainActionClick"+
(ta.props.loadOnMainAction?"Async":"")].bind(ta),ta}return Object(k.d)(ka,ea),ka.prototype.render=function(la){var ta,za=this,ia=this.props,U=ia.item;ia=ia.sortField;var ja=this.props.customActions?this.props.customActions.filter(function(ba){return ba.allowed(za.props.item)}):[],S={"card-ac__container":!0,"card-ac__container-inverse-action":this.state.inversedAction,"card-mc__fader":this.props.loadOnMainAction,"card-mc__fader--loading":this.state.isLoading},O={"card-ac__custom-actions":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,
"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle},I={"card-ac__custom-action-btn":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle};return ta="numviews"===ia?r.viewCount+": "+B.format(U.numViews):"avgrating"===ia?r.rating+": "+U.avgRating.toFixed(2):"created"===ia?r.created+": "+v.format(new Date(U.created),{selector:"date",formatLength:"short"}):r.updated+": "+v.format(new Date(U.modified),{selector:"date",formatLength:"short"}),
la("div",{classes:S,key:this.props.key},la("div",{"class":"card-ac__details-container"},la("div",{"class":"card-ac__thumb-container"},la("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-ac__thumbnail",style:"\n                                background-image: url("+U.thumbURI+");\n                            "})),la("div",{"class":"card-ac__details"},la("h4",{"class":"card-ac__title"},U.title),la("div",{"class":"card-ac__info-row"},la("div",
{"class":"card-ac__icon-title-container"},la("img",{src:U.iconURI,"class":"content-search-item-icon",alt:""}),la("span",{"class":"card-ac__author-text"},U.displayName+" "+r.by,la("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?r.viewOrg:r.viewProfile,href:this.props.organization?this.props.organization.orgUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+U.owner,target:"_blank"}," "+(this.props.organization?this.props.organization.name:U.owner)))),
la("span",{"class":"card-ac__info-bullet","aria-hidden":"true"},"\u2022"),la("span",{"class":"card-ac__info-string"},ta)),la("p",{"class":"card-ac__snippet"},la("span",{"class":"card-ac__snippet-text"},U.snippet," "),la("a",{"class":"card-ac__side-action card-ac__no-wrap",href:this.props.portal.baseUrl+"/home/item.html?id\x3d"+U.id,target:"_blank"},r.viewItem,la("svg",{role:"img",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},la("path",{d:"M10 1v1h3.293l-6.646 6.646 0.707 0.707 6.646-6.646v3.293h1v-5z"}),
la("path",{d:"M14 8v6h-12v-12h6v-1h-7v14h14v-7z"})))))),la("div",{"class":"card-ac__sub-container"},la("div",{"class":"card-ac__badge-container card-ac__badge-container--regular card-ac__sub-group"},this.renderBadges(la)),la("div",{"class":"card-ac__badge-container card-ac__badge-container--small card-ac__sub-group"},this.renderBadges(la,!0)),la("div",{"class":"card-ac__action-container card-ac__sub-group"},la("div",{"class":"card-ac__no-wrap"},this.renderMainActionButton(la),0<ja.length?la(Z.a,{key:U.id+
"-action-dropdown",active:this.state.customActionsOpen,onToggle:this.handleActionDropdownToggle},la("span",{classes:O,title:r.actions},la("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},la("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),la("div",null,ja.map(function(ba,W){return la("button",{key:ba.name,"class":I,value:W,onclick:za.handleCustomActionClick},ba.name)}))):null))))},ka.prototype.renderLoaderIcon=function(la){return this.props.loadOnMainAction&&this.state.isLoading?
la(A.a,{color:"#ffffff"}):null},ka.prototype.renderMainActionButton=function(la){return la("button",{"class":"card-ac__btn "+(this.props.usePrimaryButtonStyle?"card-ac__primary-btn":"card-ac__secondary-btn"),onclick:this.handleMainActionClick.bind(this,this.state.inversedAction?"Inverse":"")},this.renderLoaderIcon(la),this.props[this.state.inversedAction?"mainInverseActionTitle":"mainActionTitle"])},ka.prototype.renderBadges=function(la,ta){var za=this,ia=ta?"small":"regular";return this.props.item.badges.map(function(U){switch(U){case "authoritative":return la(E.a,
{size:ia,altOrg:za.props.organization?za.props.organization.name:void 0});case "deprecated":return la(w.a,{size:ia});case "collaboration":return la(F.a,{size:ia});case "livingAtlas":return la(D.a,{size:ia});case "marketplace":return la(G.a,{size:ia});case "openData":return la(H.a,{size:ia});case "premium":return la(M.a,{size:ia,user:za.props.portal.user});case "subscriber":return la(R.a,{size:ia,user:za.props.portal.user});case "solution":return la(N.a,{size:ia});case "publicDataCollection":return la(K.a,
{size:ia});case "retiredStoryMap":return la(V.a,{size:ia,isRetiredStoryMap:!0});case "retiredApp":return la(V.a,{size:ia})}return null})},ka.prototype.handleActionDropdownToggle=function(){this.setState({customActionsOpen:!this.state.customActionsOpen})},ka.prototype.handleMainActionClick=function(la){this.props.mainAction([Object(ca.b)(this.props.item)])},ka.prototype.handleCustomActionClick=function(la){this.setState({customActionsOpen:!this.state.customActionsOpen});this.props.customActions&&this.props.customActions[la.target.value]&&
this.props.customActions[la.target.value].onAction(Object(ca.b)(this.props.item))},ka}(a.Component);b["default"]=c}})})},"arcgis-components/Loaders/LoaderIcon":function(){define(function(){return function(T){function J(y){if(p[y])return p[y].exports;var t=p[y]={i:y,l:!1,exports:{}};return T[y].call(t.exports,t,t.exports,J),t.l=!0,t.exports}var p={};return J.m=T,J.c=p,J.d=function(y,t,m){J.o(y,t)||Object.defineProperty(y,t,{enumerable:!0,get:m})},J.r=function(y){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(y,Symbol.toStringTag,{value:"Module"});Object.defineProperty(y,"__esModule",{value:!0})},J.t=function(y,t){if((1&t&&(y=J(y)),8&t)||4&t&&"object"==typeof y&&y&&y.__esModule)return y;var m=Object.create(null);if(J.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:y}),2&t&&"string"!=typeof y)for(var f in y)J.d(m,f,function(g){return y[g]}.bind(null,f));return m},J.n=function(y){var t=y&&y.__esModule?function(){return y["default"]}:function(){return y};return J.d(t,"a",
t),t},J.o=function(y,t){return Object.prototype.hasOwnProperty.call(y,t)},J.p="",J(J.s=869)}({869:function(T,J,p){p.r(J);J["default"]=function(y,t){return t("div",{key:y.key||"loader-icon","class":"load-icon__icon"},t("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                fill: currentColor;\n                pointer-events: none;\n                display: inline-block;\n                width: 1em;\n                height: 1em;\n                vertical-align: -0.15em;\n                color: "+
(y.color||"#0079c1")+";\n                transition-property: transform;\n                transition-duration: 0.5s;\n                animation-name: rotate;\n                animation-duration: 1s;\n                animation-iteration-count: infinite;\n                animation-timing-function: linear;\n                transform-origin: 50% 50%;\n            "},t("path",{d:"M16 8A8 8 0 1 1 7 .07v.909a7.1 7.1 0 1 0 2 0v-.91A7.996 7.996 0 0 1 16 8z"})))}}})})},"arcgis-components/Badges/Authoritative":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),
8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=812)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=
T},812:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){var u=g.altOrg;return l(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"authoritative-badge",size:g.size,text:m.authoritative,title:u?m.tooltips.altAuthoritative+" "+u:m.tooltips.authoritative,tooltip:g.tooltip?m.tooltips.authoritative:void 0,tooltipDirection:g.tooltipDirection},l("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l("path",{fill:"none",d:"M0 0h16v16H0z"}),
l("g",{fill:"#2B622B"},l("path",{d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zm0 15a7 7 0 1 1 7-7 7.008 7.008 0 0 1-7 7z"}),l("path",{d:"M11.834 5.146l-5.646 5.647-2.334-2.334a.5.5 0 0 0-.708.707l3.042 3.041 6.353-6.353a.5.5 0 1 0-.707-.707z"}))))}}})})},"arcgis-components/Badges/Collaboration":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,
f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),
2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=815)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=T},815:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){return l(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",
key:"collaboration-badge",size:g.size,text:m.collaboration,title:m.tooltips.collaboration,tooltip:g.tooltip?m.tooltips.collaboration:void 0,tooltipDirection:g.tooltipDirection},l("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l("g",{fill:"#196FA6"},l("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),l("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),l("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),
l("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),l("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),l("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),l("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
l("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),l("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))))}}})})},"arcgis-components/Badges/Deprecated":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,
f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=
m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=816)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=T},816:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){return l(f.a,{backgroundColor:"#F3DED7",textColor:"#8C2907",key:"deprecated-badge",size:g.size,text:m.deprecated,title:m.tooltips.deprecated,tooltip:g.tooltip?m.tooltips.deprecated:
void 0,tooltipDirection:g.tooltipDirection},l("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l("path",{fill:"none",d:"M0 0h16v16H0z"}),l("path",{fill:"#8C2907",d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zM1 8a6.99 6.99 0 0 1 11.577-5.284l-9.861 9.861A6.964 6.964 0 0 1 1 8zm7 7a6.964 6.964 0 0 1-4.577-1.716l9.861-9.861A6.99 6.99 0 0 1 8 15z"})))}}})})},"arcgis-components/Badges/LivingAtlas":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],
function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==
typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=817)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=T},817:function(p,
y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){return l(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"living-atlas-badge",size:g.size,text:m.livingAtlas,title:m.tooltips.livingAtlas,tooltip:g.tooltip?m.tooltips.livingAtlas:void 0,tooltipDirection:g.tooltipDirection},l("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l("rect",{width:"16",height:"16",fill:"none"}),l("rect",{width:"16",height:"16",fill:"none"}),l("g",
null,l("path",{d:"M14.75342,4.57031a.50021.50021,0,0,0-.84277-.53906,5.85956,5.85956,0,0,1-1.04541,1.12939A27.86114,27.86114,0,0,1,8.5,8.19922a27.48671,27.48671,0,0,1-4.81445,2.26172,5.9062,5.9062,0,0,1-1.50049.34033.5.5,0,0,0,.022.99951L2.23,11.80029a6.51338,6.51338,0,0,0,1.46027-.30341A5.97993,5.97993,0,0,0,7.5,13.30646V15H5a.5.5,0,0,0,0,1h6a.5.5,0,0,0,0-1H8.5V13.301a5.95318,5.95318,0,0,0,5.25336-7.601A6.38549,6.38549,0,0,0,14.75342,4.57031ZM10.5,11.66357A4.99888,4.99888,0,0,1,4.75793,11.129,30.77175,30.77175,0,0,0,9,9.06543a30.80143,30.80143,0,0,0,3.9082-2.642A5.00026,5.00026,0,0,1,10.5,11.66357Z",
fill:"#196fa6"}),l("path",{d:"M7.06836,2.41943a5.00709,5.00709,0,0,1,4.71045,1.63867.50023.50023,0,1,0,.75684-.6543A6.01019,6.01019,0,0,0,6.88184,1.437a.5.5,0,0,0,.18652.98242Z",fill:"#196fa6"}),l("path",{d:"M2.80176,9.63281a.50023.50023,0,0,0,.47217-.66406A4.98907,4.98907,0,0,1,5.08917,3.29163l.22772.39441a.50008.50008,0,0,0,.86621-.5l-1-1.73193a.50008.50008,0,0,0-.86621.5l.27222.47144A5.988,5.988,0,0,0,2.32959,9.29688.49991.49991,0,0,0,2.80176,9.63281Z",fill:"#196fa6"}))))}}})})},"arcgis-components/Badges/Marketplace":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),
8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=818)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=
T},818:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){return l(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"marketplace-badge",size:g.size,text:m.marketplace,title:m.tooltips.marketplace,tooltip:g.tooltip?m.tooltips.marketplace:void 0,tooltipDirection:g.tooltipDirection},l("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l("path",{fill:"#196FA6",d:"M15.939 13L12.832 3h-3.65L8.033 6.68 6.811 3H3.16L.054 13H4.13l.96-3.21L6.192 13h3.594l1.104-3.17.993 3.17h4.056zM3.386 12H1.41l2.486-8h1.881l-2.391 8zm2.196-3.856l.893-2.983 1.048 3.156-.895 2.871-1.046-3.044zM9.075 12H7.422l2.496-8h1.943l-2.786 8zm3.409-6.749L14.583 12h-1.966l-1.176-3.755 1.043-2.994z"})))}}})})},
"arcgis-components/Badges/OpenData":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,
f)},y.p="",y(y.s=819)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=T},819:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){return l(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"open-data-badge",size:g.size,text:m.openData,title:m.tooltips.openData,tooltip:g.tooltip?m.tooltips.openData:void 0,tooltipDirection:g.tooltipDirection},l("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l("path",{fill:"none",
d:"M0 0h16v16H0z"}),l("g",{fill:"#196fa6"},l("path",{d:"M8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.628 8.628 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2 5 1.056 5 2-2.138 2-5 2zM13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.968 11.968 0 0 0 5 .984.5.5 0 0 0 0-1A10.146 10.146 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5z"}))))}}})})},
"arcgis-components/Badges/Premium":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,
f)},y.p="",y(y.s=820)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=T},820:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){var u=g.user;u=u?u.orgId?"Org":"Public":"Anon";return l(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"premium-badge",size:g.size,text:m.premium,title:m.tooltips["premium"+u],tooltip:g.tooltip?m.tooltips["premium"+u]:void 0,tooltipDirection:g.tooltipDirection},l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",
viewBox:"0 0 16 16"},l("path",{fill:"none",d:"M0 0h16v16H0z"}),l("path",{fill:"none",d:"M0 0h16v16H0z"}),l("path",{d:"M8.05 15.5a.497.497 0 0 1-.25-.067C.6 11.275 1.542 2.038 1.552 1.944a.5.5 0 0 1 .259-.382.507.507 0 0 1 .463-.009 5.15 5.15 0 0 0 5.459-.94.5.5 0 0 1 .64.006c1.817 1.54 3.601 1.844 5.457.932a.5.5 0 0 1 .718.394 16.944 16.944 0 0 1-.344 4.965.5.5 0 1 1-.978-.211 16.952 16.952 0 0 0 .367-3.962 5.57 5.57 0 0 1-5.55-1.098A6.178 6.178 0 0 1 2.51 2.706c-.057 2.086.231 8.651 5.79 11.86a.5.5 0 0 1-.25.934z",
fill:"#196fa6"}),l("path",{d:"M12 15.5a4 4 0 1 1 4-4 4.005 4.005 0 0 1-4 4zm0-7a3 3 0 1 0 3 3 3.003 3.003 0 0 0-3-3z",fill:"#196fa6"})))}}})})},"arcgis-components/Badges/Subscriber":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,
f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=
m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=821)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=T},821:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){var u=g.user;u=u?u.orgId?"Org":"Public":"Anon";return l(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"subscriber-badge",size:g.size,text:m.subscriber,title:m.tooltips["subscriber"+
u],tooltip:g.tooltip?m.tooltips["subscriber"+u]:void 0,tooltipDirection:g.tooltipDirection},l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l("path",{d:"M8.05371,15.5H8.0498a.49939.49939,0,0,1-.25-.06689C.59961,11.27539,1.542,2.0376,1.55225,1.94434A.49966.49966,0,0,1,1.811,1.56152a.50721.50721,0,0,1,.46338-.0083A5.15007,5.15007,0,0,0,7.73291.61328a.51762.51762,0,0,1,.6377,0,5.14642,5.14642,0,0,0,5.4585.93994.50711.50711,0,0,1,.46338.0083.49966.49966,0,0,1,.25879.38281c.01025.09326.95264,9.33105-6.24756,13.48877A.49939.49939,0,0,1,8.05371,15.5Zm0-.5h0ZM2.50977,2.70557c-.05615,2.05469.22266,8.45508,5.542,11.71387,5.31934-3.25879,5.59814-9.65967,5.542-11.71387a6.17691,6.17691,0,0,1-5.542-1.07324A6.18289,6.18289,0,0,1,2.50977,2.70557Z",
fill:"#196fa6"})))}}})})},"arcgis-components/Badges/PublicDataCollection":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,
f)},y.p="",y(y.s=823)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=T},823:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){return l(f.a,{backgroundColor:"#efe397",textColor:"#786d1c",key:"public-data-collection-badge",size:g.size,text:m.publicDataCollection,title:m.tooltips.publicDataCollection,tooltip:g.tooltip?m.tooltips.publicDataCollection:void 0,tooltipDirection:g.tooltipDirection},l("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",
height:"16",viewBox:"0 0 16 16"},l("path",{fill:"none",d:"M0 0h16v16H0z"}),l("path",{fill:"#786d1c",d:"M15.721 4.007a.965.965 0 0 0-.03-1.385l-1.413-1.414a.965.965 0 0 0-1.385-.03L2.841 11.23l-1.756 4.097a.371.371 0 0 0 .488.487L5.67 14.06l8.607-8.609zM2.624 14.276l.554-1.294.74.74zm2.338-.924L3.55 11.937l8.007-8.008 1.414 1.415zm8.716-8.716l-1.414-1.414 1.09-1.09a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .434z"})))}}})})},"arcgis-components/Badges/Solution":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),
8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=822)}({130:function(p,y){p.exports=J},73:function(p,y){p.exports=
T},822:function(p,y,t){t.r(y);var m=t(73);p=t(130);var f=t.n(p);y["default"]=function(g,l){return l(f.a,{backgroundColor:"#e2deee",textColor:"#312b43",key:"solution-badge",size:g.size,text:m.solution,title:m.tooltips.solution,tooltip:g.tooltip?m.tooltips.solution:void 0,tooltipDirection:g.tooltipDirection},l("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},l("path",{fill:"#312b43",d:"M29.963 7.672a1.586 1.586 0 0 0-1.584-1.585h-5.274a.187.187 0 0 1-.188-.187V3.977A2 2 0 0 0 20.825 2h-9.672A2.095 2.095 0 0 0 9.06 4.093V5.9a.187.187 0 0 1-.187.187H3.598a1.586 1.586 0 0 0-1.584 1.585v4.016a.281.281 0 0 0 .281.28H4.9l.014-.013V9.153a.177.177 0 0 1 .177-.177h21.46a.456.456 0 0 1 .449.45v13.742A1.832 1.832 0 0 1 25.168 25h-8.892a.568.568 0 0 1-.534-.373 3.98 3.98 0 0 0-7.6.373H5.657a.757.757 0 0 1-.757-.757v-3.055A.188.188 0 0 0 4.714 21H2.028l-.014.014v4.58a2.35 2.35 0 0 0 2.347 2.346h4.161a3.963 3.963 0 0 0 6.8.256.569.569 0 0 1 .475-.256h12.065a2.102 2.102 0 0 0 2.101-2.101zM21 5.625a.375.375 0 0 1-.375.375h-9.25A.375.375 0 0 1 11 5.625V4.45a.456.456 0 0 1 .45-.45h9.1a.456.456 0 0 1 .45.45zM12 28a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}),
l("path",{"class":"cls-1",d:"M13.273 17.994a.57.57 0 0 1 .479.262A3.73 3.73 0 0 0 17 20a3.74 3.74 0 0 0 3.403-2.006h3.41a.188.188 0 0 0 .187-.188v-2.589a.187.187 0 0 0-.188-.188H20.8A3.8 3.8 0 0 0 17 12a4.058 4.058 0 0 0-3.69 2.647.568.568 0 0 1-.537.383H1.093a.094.094 0 0 0-.093.093V17.9a.094.094 0 0 0 .094.094zM17 13.9a2.1 2.1 0 1 1-2.1 2.1 2.1 2.1 0 0 1 2.1-2.1z"})))}}})})},"arcgis-components/ItemCards/MiniCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../../Badges/Retired ../../Buttons/SvgButton ../../Loaders/LoaderIcon ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution ../../Dropdowns/TextOptionDropdown".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b){return function(c){function k(v){if(r[v])return r[v].exports;var B=r[v]={i:v,l:!1,exports:{}};return c[v].call(B.exports,B,B.exports,k),B.l=!0,B.exports}var r={};return k.m=c,k.c=r,k.d=function(v,B,C){k.o(v,B)||Object.defineProperty(v,B,{enumerable:!0,get:C})},k.r=function(v){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"});Object.defineProperty(v,"__esModule",{value:!0})},k.t=function(v,B){if((1&
B&&(v=k(v)),8&B)||4&B&&"object"==typeof v&&v&&v.__esModule)return v;var C=Object.create(null);if(k.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:v}),2&B&&"string"!=typeof v)for(var A in v)k.d(C,A,function(E){return v[E]}.bind(null,A));return C},k.n=function(v){var B=v&&v.__esModule?function(){return v["default"]}:function(){return v};return k.d(B,"a",B),B},k.o=function(v,B){return Object.prototype.hasOwnProperty.call(v,B)},k.p="",k(k.s=863)}({0:function(c,k,r){function v(G,H){function M(){this.constructor=
G}if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");w(G,H);G.prototype=null===H?Object.create(H):(M.prototype=H.prototype,new M)}function B(G,H){var M={},R;for(R in G)Object.prototype.hasOwnProperty.call(G,R)&&0>H.indexOf(R)&&(M[R]=G[R]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var N=0;for(R=Object.getOwnPropertySymbols(G);N<R.length;N++)0>H.indexOf(R[N])&&Object.prototype.propertyIsEnumerable.call(G,R[N])&&
(M[R[N]]=G[R[N]])}return M}function C(G,H,M,R){var N,K=arguments.length,V=3>K?H:null===R?R=Object.getOwnPropertyDescriptor(H,M):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(G,H,M,R);else for(var Z=G.length-1;0<=Z;Z--)(N=G[Z])&&(V=(3>K?N(V):3<K?N(H,M,V):N(H,M))||V);return 3<K&&V&&Object.defineProperty(H,M,V),V}function A(G,H,M,R){return new (M||(M=Promise))(function(N,K){function V(ea){try{ca(R.next(ea))}catch(ka){K(ka)}}function Z(ea){try{ca(R["throw"](ea))}catch(ka){K(ka)}}
function ca(ea){var ka;ea.done?N(ea.value):(ka=ea.value,ka instanceof M?ka:new M(function(la){la(ka)})).then(V,Z)}ca((R=R.apply(G,H||[])).next())})}function E(G,H){function M(ca){return function(ea){return function(ka){if(R)throw new TypeError("Generator is already executing.");for(;Z;)try{if(R=1,N&&(K=2&ka[0]?N["return"]:ka[0]?N["throw"]||((K=N["return"])&&K.call(N),0):N.next)&&!(K=K.call(N,ka[1])).done)return K;switch(N=0,K&&(ka=[2&ka[0],K.value]),ka[0]){case 0:case 1:K=ka;break;case 4:return Z.label++,
{value:ka[1],done:!1};case 5:Z.label++;N=ka[1];ka=[0];continue;case 7:ka=Z.ops.pop();Z.trys.pop();continue;default:if(!(K=Z.trys,(K=0<K.length&&K[K.length-1])||6!==ka[0]&&2!==ka[0])){Z=0;continue}if(3===ka[0]&&(!K||ka[1]>K[0]&&ka[1]<K[3]))Z.label=ka[1];else if(6===ka[0]&&Z.label<K[1])Z.label=K[1],K=ka;else if(K&&Z.label<K[2])Z.label=K[2],Z.ops.push(ka);else{K[2]&&Z.ops.pop();Z.trys.pop();continue}}ka=H.call(G,Z)}catch(la){ka=[6,la],N=0}finally{R=K=0}if(5&ka[0])throw ka[1];return{value:ka[0]?ka[1]:
void 0,done:!0}}([ca,ea])}}var R,N,K,V,Z={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return V={next:M(0),"throw":M(1),"return":M(2)},"function"==typeof Symbol&&(V[Symbol.iterator]=function(){return this}),V}function F(G,H){for(var M=0,R=H.length,N=G.length;M<R;M++,N++)G[N]=H[M];return G}r.d(k,"d",function(){return v});r.d(k,"a",function(){return D});r.d(k,"f",function(){return B});r.d(k,"c",function(){return C});r.d(k,"b",function(){return A});r.d(k,"e",function(){return E});
r.d(k,"g",function(){return F});var w=function(G,H){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,R){M.__proto__=R}||function(M,R){for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(M[N]=R[N])})(G,H)},D=function(){return(D=Object.assign||function(G){for(var H,M=1,R=arguments.length;M<R;M++)for(var N in H=arguments[M])Object.prototype.hasOwnProperty.call(H,N)&&(G[N]=H[N]);return G}).apply(this,arguments)};Object.create;Object.create},112:function(c,k){c.exports=
J},150:function(c,k){c.exports=p},151:function(c,k){c.exports=y},178:function(c,k){c.exports=t},18:function(c,k){c.exports=T},233:function(c,k){c.exports=m},239:function(c,k){c.exports=f},250:function(c,k){c.exports=g},274:function(c,k){c.exports=l},275:function(c,k){c.exports=u},276:function(c,k){c.exports=q},277:function(c,k){c.exports=z},278:function(c,k){c.exports=x},279:function(c,k){c.exports=n},280:function(c,k){c.exports=h},281:function(c,k){c.exports=e},282:function(c,k){c.exports=d},311:function(c,
k){c.exports=a},378:function(c,k){c.exports=b},600:function(c,k,r){function v(F){F.stopPropagation()}var B=r(0);c=r(18);var C=r(151),A=r(150),E=r(178);r=function(F){function w(){return null!==F&&F.apply(this,arguments)||this}return Object(B.d)(w,F),w.prototype.formatDate=function(D){return""+C.format(new Date(D),{selector:"date",formatLength:"short",locale:A.locale})},w.prototype.render=function(D){var G,H=this.props,M=H.active,R=H.classes,N=(H.handleShowItemDetails,H.item),K=H.iconUrl,V=H.userUrl,
Z=(H.portal,H.sortField);H=H.i18n;return G="numviews"===Z?H.viewCount+": "+E.format(N.numViews):"avgrating"===Z?H.rating+": "+N.avgRating.toFixed(2):"created"===Z?H.created+": "+this.formatDate(N.created):H.updated+": "+this.formatDate(N.modified),D("header",{classes:R},D("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-mc__thumbnail",style:"\n                        background-image: url("+this.props.thumbURI+");\n                    "}),
D("div",{"class":"card-mc__title-container"},D("button",{id:"item-"+N.id+"-card-title","class":"card-mc__title",title:M?H.hideItem:H.viewItem,tabindex:"0"},N.title),D("div",{"class":"card-mc__author-row"},D("img",{src:K,"class":"content-search-item-icon",title:N.displayName}),D("span",{"class":"card-mc__author-text"},H.by,D("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?H.viewOrg:H.viewProfile,href:this.props.organization?this.props.organization.orgUrl:
V,target:"_blank",onclick:v}," "+(this.props.organization?this.props.organization.name:N.owner)))),D("p",{"class":"card-mc__info"},G)))},w}(c.Component);k.a=r},601:function(c,k,r){c=r(378);var v=r.n(c);c=r(239);var B=r.n(c);c=r(250);var C=r.n(c);k.a=function(A,E){var F=A.selected,w=A.handleSelectionClick,D=A.handleIconActionClick,G=A.handleCustomActionClick,H=A.availableMiscActions,M=A.availableIconActions,R=A.loading,N=A.children,K=A.id,V=A.hideEllipses,Z=A.i18n,ca=null;A.disableMainAction||(ca=
R?E(C.a,null):E(B.a,{focusable:!0,handleClick:w,key:K+"-selection-btn",title:F?Z.remove:Z.add},E("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},E("g",{id:"16px",stroke:"none","stroke-width":"1"},E("g",null,E("g",null,E("polygon",F?{points:"3 7 12 7 12 8 3 8"}:{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),E("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));
F=M.map(function(ea){return E(B.a,{focusable:!0,handleClick:D,key:K+"-"+ea.text,title:ea.text,value:ea.value},E("div",{"class":"card-mc__custom-icon-container",innerHTML:ea.icon}))});return E("div",{id:"item-"+K+"-action-row","class":"content-search-item-action-row card-mc__action-row"},N,E("div",{key:"action-container","class":"card-mc__action-container"},E(B.a,{key:K+"-spacer"},E("svg",{height:"16px",width:"0px"})),ca,F,0<H.length&&!V?E(v.a,{key:K+"-actions",options:H,onSelect:G,selectedOptionValue:void 0,
justify:"right"},E(B.a,{focusable:!1,key:K+"-action-btn",title:Z.actions},E("svg",{role:"img",width:"16px",height:"16px",style:"transform: translate(0, -2px);"},E("g",{stroke:"none","stroke-width":"1"},E("g",null,E("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))}},863:function(c,k,r){r.r(k);var v=r(0),B=r(112);c=r(18);var C=r(600),A=r(601),E=r(274),F=r.n(E);E=r(275);var w=r.n(E);E=r(276);var D=r.n(E);E=r(277);var G=r.n(E);E=r(278);var H=
r.n(E);E=r(279);var M=r.n(E);E=r(280);var R=r.n(E);E=r(281);var N=r.n(E);E=r(311);var K=r.n(E);E=r(282);var V=r.n(E);E=r(233);var Z=r.n(E);r=function(ca){function ea(ka){ka=ca.call(this,ka)||this;return ka.handleShowItemDetails=ka.handleShowItemDetails.bind(ka),ka.handleSelectionClick=ka.handleSelectionClick.bind(ka),ka.handleCustomActionClick=ka.handleCustomActionClick.bind(ka),ka.handleIconActionClick=ka.handleIconActionClick.bind(ka),ka}return Object(v.d)(ea,ca),ea.prototype.render=function(ka){var la=
this,ta=!!this.props.selectedItems[this.props.item.id],za=!!this.props.loadingItems[this.props.item.id],ia=!(!this.props.activeItem||this.props.activeItem.id!==this.props.item.id),U=this.props.customActions.filter(function(S){return S.allowed(la.props.item)}).map(function(S){return{value:S.name,text:S.name,icon:S.icon}}),ja=U.filter(function(S){return S.icon});U=U.filter(function(S){return!S.icon});return ka("section",{key:this.props.item.id,classes:{"card-mc__container":!0,"card-mc__container--selected":ta,
"card-mc__container--active":ia}},ka("div",{classes:{"card-mc__fader":!0,"card-mc__fader--loading":za},onclick:this.handleShowItemDetails},ka(C.a,{active:ia,classes:{"card-mc__header":!0,"card-mc__header--constrained":!!this.props.constrained},handleShowItemDetails:this.handleShowItemDetails,i18n:B,iconUrl:this.props.item.iconURI,item:this.props.item,key:"mini-card-header",portal:this.props.portal,sortField:this.props.sortField,thumbURI:this.props.item.thumbURI,userUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+
this.props.item.owner,organization:this.props.organization}),ka(A.a,{selected:ta,handleSelectionClick:this.handleSelectionClick,loading:za,id:this.props.item.id,i18n:B,availableMiscActions:U,availableIconActions:ja,handleIconActionClick:this.handleIconActionClick,handleCustomActionClick:this.handleCustomActionClick,disableMainAction:this.props.disableMainAction,hideEllipses:this.props.hideEllipses},ka("div",{key:"badges"},this.renderBadges(ka)))))},ea.prototype.renderBadges=function(ka){var la=this;
return this.props.item.badges.map(function(ta){switch(ta){case "authoritative":return ka(F.a,{size:"small",altOrg:la.props.organization?la.props.organization.name:void 0});case "deprecated":return ka(D.a,{size:"small"});case "collaboration":return ka(w.a,{size:"small"});case "livingAtlas":return ka(G.a,{size:"small"});case "marketplace":return ka(H.a,{size:"small"});case "openData":return ka(M.a,{size:"small"});case "premium":return ka(R.a,{size:"small",user:la.props.portal.user});case "subscriber":return ka(N.a,
{size:"small",user:la.props.portal.user});case "publicDataCollection":return ka(V.a,{size:"small"});case "solution":return ka(K.a,{size:"small"});case "retiredStoryMap":return ka(Z.a,{size:"small",isRetiredStoryMap:!0});case "retiredApp":return ka(Z.a,{size:"small"})}return null})},ea.prototype.handleShowItemDetails=function(ka){this.props.onShowItemDetails(this.props.item)},ea.prototype.handleSelectionClick=function(ka){ka.stopPropagation();this.props.onSelectionClick(this.props.item)},ea.prototype.handleIconActionClick=
function(ka){ka.stopPropagation();ka.target.value&&this.props.onCustomActionClick(ka.target.value,this.props.item)},ea.prototype.handleCustomActionClick=function(ka){this.props.onCustomActionClick(ka,this.props.item)},ea}(c.Component);k["default"]=r}})})},"arcgis-components/ItemCards/MiniCardRow/index":function(){define(["../../Component","dojo/i18n!../../ItemCards/nls/resources","../../Buttons/SvgButton","../../Loaders/LoaderIcon","../../Dropdowns/TextOptionDropdown"],function(T,J,p,y,t){return function(m){function f(l){if(g[l])return g[l].exports;
var u=g[l]={i:l,l:!1,exports:{}};return m[l].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var g={};return f.m=m,f.c=g,f.d=function(l,u,q){f.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:q})},f.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},f.t=function(l,u){if((1&u&&(l=f(l)),8&u)||4&u&&"object"==typeof l&&l&&l.__esModule)return l;var q=Object.create(null);if(f.r(q),
Object.defineProperty(q,"default",{enumerable:!0,value:l}),2&u&&"string"!=typeof l)for(var z in l)f.d(q,z,function(x){return l[x]}.bind(null,z));return q},f.n=function(l){var u=l&&l.__esModule?function(){return l["default"]}:function(){return l};return f.d(u,"a",u),u},f.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},f.p="",f(f.s=864)}({0:function(m,f,g){function l(d,a){function b(){this.constructor=d}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");h(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function u(d,a){var b={},c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&0>a.indexOf(c)&&(b[c]=d[c]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(c=Object.getOwnPropertySymbols(d);k<c.length;k++)0>a.indexOf(c[k])&&Object.prototype.propertyIsEnumerable.call(d,c[k])&&(b[c[k]]=d[c[k]])}return b}function q(d,a,b,c){var k,r=arguments.length,v=3>r?a:null===c?
c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(d,a,b,c);else for(var B=d.length-1;0<=B;B--)(k=d[B])&&(v=(3>r?k(v):3<r?k(a,b,v):k(a,b))||v);return 3<r&&v&&Object.defineProperty(a,b,v),v}function z(d,a,b,c){return new (b||(b=Promise))(function(k,r){function v(A){try{C(c.next(A))}catch(E){r(E)}}function B(A){try{C(c["throw"](A))}catch(E){r(E)}}function C(A){var E;A.done?k(A.value):(E=A.value,E instanceof b?E:new b(function(F){F(E)})).then(v,
B)}C((c=c.apply(d,a||[])).next())})}function x(d,a){function b(C){return function(A){return function(E){if(c)throw new TypeError("Generator is already executing.");for(;B;)try{if(c=1,k&&(r=2&E[0]?k["return"]:E[0]?k["throw"]||((r=k["return"])&&r.call(k),0):k.next)&&!(r=r.call(k,E[1])).done)return r;switch(k=0,r&&(E=[2&E[0],r.value]),E[0]){case 0:case 1:r=E;break;case 4:return B.label++,{value:E[1],done:!1};case 5:B.label++;k=E[1];E=[0];continue;case 7:E=B.ops.pop();B.trys.pop();continue;default:if(!(r=
B.trys,(r=0<r.length&&r[r.length-1])||6!==E[0]&&2!==E[0])){B=0;continue}if(3===E[0]&&(!r||E[1]>r[0]&&E[1]<r[3]))B.label=E[1];else if(6===E[0]&&B.label<r[1])B.label=r[1],r=E;else if(r&&B.label<r[2])B.label=r[2],B.ops.push(E);else{r[2]&&B.ops.pop();B.trys.pop();continue}}E=a.call(d,B)}catch(F){E=[6,F],k=0}finally{c=r=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([C,A])}}var c,k,r,v,B={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return v={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function n(d,a){for(var b=0,c=a.length,k=d.length;b<c;b++,k++)d[k]=a[b];return d}g.d(f,"d",function(){return l});g.d(f,"a",function(){return e});g.d(f,"f",function(){return u});g.d(f,"c",function(){return q});g.d(f,"b",function(){return z});g.d(f,"e",function(){return x});g.d(f,"g",function(){return n});var h=function(d,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=
c}||function(b,c){for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(b[k]=c[k])})(d,a)},e=function(){return(e=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++)for(var k in a=arguments[b])Object.prototype.hasOwnProperty.call(a,k)&&(d[k]=a[k]);return d}).apply(this,arguments)};Object.create;Object.create},112:function(m,f){m.exports=J},18:function(m,f){m.exports=T},239:function(m,f){m.exports=p},250:function(m,f){m.exports=y},378:function(m,f){m.exports=t},864:function(m,
f,g){g.r(f);var l=g(0),u=g(112);m=g(18);var q=g(378),z=g.n(q);q=g(239);var x=g.n(q);q=g(250);var n=g.n(q);g=function(h){function e(d){d=h.call(this,d)||this;return d.handleShowItemDetails=d.handleShowItemDetails.bind(d),d.handleSelectionClick=d.handleSelectionClick.bind(d),d.handleIconActionClick=d.handleIconActionClick.bind(d),d.handleCustomActionClick=d.handleCustomActionClick.bind(d),d}return Object(l.d)(e,h),e.prototype.render=function(d){var a,b=this,c=!!this.props.selectedItems[this.props.item.id],
k=!!this.props.loadingItems[this.props.item.id],r=this.props.activeItem&&this.props.activeItem.id===this.props.item.id,v=this.props.customActions.filter(function(C){return C.allowed(b.props.item)}).map(function(C){return{value:C.name,text:C.name,icon:C.icon}}),B=v.filter(function(C){return!!C.icon});v=v.filter(function(C){return!C.icon});this.props.disableMainAction||(a=k?d(n.a,null):d(x.a,{focusable:!0,handleClick:this.handleSelectionClick,key:this.props.item.id+"-selection-btn",title:c?u.remove:
u.add},d("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},d("g",{stroke:"none","stroke-width":"1"},c?d("g",{id:"minus-circled-1px-16"},d("g",null,d("polygon",{points:"3 7 12 7 12 8 3 8"}),d("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"}))):d("g",{id:"plus-circled-1px-16"},d("g",null,
d("polygon",{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),d("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));k=B.map(function(C){return d(x.a,{focusable:!0,handleClick:b.handleIconActionClick,key:b.props.item.id+"-"+C.text,title:C.text,value:C.value},
d("div",{"class":"card-mcr__custom-icon-container",innerHTML:C.icon}))});return d("div",{key:this.props.item.id,classes:{"card-mcr__container":!0,"card-mcr__container--selected":c,"card-mcr__container--active":r},onclick:this.handleShowItemDetails},d("img",{src:this.props.item.iconURI,"class":"card-mcr__item-icon",title:this.props.item.displayName,alt:""}),d("button",{id:"item-"+this.props.item.id+"-card-title","class":"card-mcr__item-title",title:r?u.hideItem:u.viewItem,tabindex:"0"},this.props.item.title),
d("div",{"class":"card-mcr__spacer"}),d("div",{"class":"card-mcr__action-container"},a,k,0<v.length&&!this.props.hideEllipses?d(z.a,{key:this.props.item.id+"-actions",options:v,onSelect:this.handleCustomActionClick,selectedOptionValue:void 0,justify:"right"},d(x.a,{key:this.props.item.id+"-action-btn",focusable:!1,title:u.actions},d("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},d("g",{stroke:"none","stroke-width":"1"},d("g",{id:"ellipses-1px-16"},
d("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))},e.prototype.handleShowItemDetails=function(d){this.props.onShowItemDetails(this.props.item)},e.prototype.handleSelectionClick=function(d){d.stopPropagation();this.props.onSelectionClick(this.props.item)},e.prototype.handleIconActionClick=function(d){d.stopPropagation();d.target.value&&this.props.onCustomActionClick(d.target.value,this.props.item)},e.prototype.handleCustomActionClick=
function(d){this.props.onCustomActionClick(d,this.props.item)},e}(m.Component);f["default"]=g}})})},"arcgisonline/map/core/sameTilingScheme":function(){define([],function(){return function(T,J){for(var p=!1,y=!1,t=0;t<T.lods.length;t++){var m=T.lods[t].scale;T.dpi!==J.dpi&&(m=T.lods[t].scale/T.dpi);for(var f=0;f<J.lods.length;f++){var g=J.lods[f].scale;T.dpi!==J.dpi&&(g=J.lods[f].scale/J.dpi);if(.01>Math.abs(g-m)/g)if(p){y=!0;break}else p=!0;if(g<m)break}if(y)break}return y||p&&(1===T.lods.length||
1===J.lods.length)?!0:!1}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceSceneLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceSceneLayer.html dojo/i18n!../../../nls/arcgisonline dojo/string ../../utils/dom ../../../sharing/util arcgisonline/tsutils/declareDecorator arcgisonline/map/core/sameSpatialReference arcgisonline/map/layer/getServiceInfo ./ReplaceLayer dojo/Deferred arcgisonline/esriGeowConfig".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=
p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(e,d){this.overlayContents=m["default"].substitute(y["default"],{i18n:this.i18n,icons:this.icons})}h.prototype.initUI=function(){var e,d;this.inherited(arguments);this.layerType=null!==(d=null===(e=this.item.serviceInfo.layers)||
void 0===e?void 0:e[0].layerType)&&void 0!==d?d:this.item.serviceInfo.layerType;this._showPreviewStylesTab=!1;f["default"].hideNodes(this._shownPreviewStylesContent)};h.prototype.createItemBrowser=function(){var e=this;this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:t["default"].replaceLayer.selectReplacementLayer,mainActionTitle:t["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent",
"myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(e.isCacheContent?'typekeywords:"ExtractedCache" -':"")+'typekeywords:"Hosted Service" NOT id:'+e.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",order:"desc"}}};this.inherited(arguments)};h.prototype.checkLayerCompatibility=function(){var e=this,d=new x["default"];if(this.isTile)this.inherited(arguments).then(function(){d.resolve()},
function(k){e.handleLayerSelectionError(k)});else{var a=this.isCacheContent,b=t["default"].replaceLayer.error,c=!0;q["default"](this._selectedReplacementItem.url,null,function(k){e._selectedReplacementItem.getRelatedItems(a?"DataStore2ByRefService":"Service2Service","reverse").then(function(r){var v;if(null===(v=e.item.serviceInfo.layers)||void 0===v?0:v[0]){v=u["default"](e.item.serviceInfo.layers[0].spatialReference,k.layers[0].spatialReference);var B=e.layerType===k.layers[0].layerType;r=0>=r.length;
a||r?v||B?v?a||B?c=!1:b=t["default"].replaceLayer.replaceSceneLayer.layerTypeError:b=t["default"].replaceLayer.differentCoordinateSystem:b=t["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError:b=t["default"].replaceLayer.replaceSceneLayer.sceneLayerPackageError;c?d.reject(Error(b)):d.resolve()}else d.resolve()})},function(k){e.handleLayerSelectionError(k)})}return d};h.prototype.checkForCompatibleStyles=function(e){e=this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");
f["default"].showNode(this._checkStylesSuccess);f["default"].hideNodes(this._checkStylesWarnings);f["default"].hideNode(this._checkStyles);this._primaryBtn.disabled=!1;e&&this._primaryBtn.focus()};h.prototype.handleHelp=function(){var e;window.open(""+n["default"].self.helpBase+((null===(e=n["default"].self.helpMap)||void 0===e?void 0:e.m["120001916"])||""))};h.prototype.replaceLayer=function(){var e={toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),
replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"};return g["default"].request({url:this.portal.portalUrl+"content/users/"+this.portal.user.username+"/replaceService",content:e},{usePost:!0})};return h=p.__decorate([l["default"](z["default"])],h)}()})},"arcgisonline/sharing/dijit/dialog/OverwriteFromCloud":function(){define("require exports tslib esri/Evented dojo/query dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/Deferred ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dijit/_WidgetsInTemplateMixin dojo/_base/lang esri/lang arcgisonline/pages/portal/cloudProvider/BoxConnect arcgisonline/pages/portal/cloudProvider/DropBoxConnect arcgisonline/pages/portal/cloudProvider/GoogleConnect arcgisonline/pages/portal/cloudProvider/OneDriveConnect ../../../sharing/dijit/dialog/ConfirmDialog ./_CreateItemUtilMixin dojo/text!arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);return function(){function r(){this.templateString=
k["default"]}r.prototype.postMixInProperties=function(){this.inherited(arguments);x["default"].mixin(this,{isBatch:this.items&&1<this.items.length});this.i18n=x["default"].mixin({},q["default"])};r.prototype.startup=function(v,B,C){var A;this.inherited(arguments);this.portal=v;this.cloudProviderInfo=B;this.originalItemToOverwrite=C;this.addItem=null;this.currentCloudProvider="";this.cloudConnect={googleConnect:null,dropBoxConnect:null,oneDriveConnect:null,boxConnect:null,none:null};this.cloudDriveText=
"";this.publishInfo=null;switch(null===(A=this.cloudProviderInfo)||void 0===A?void 0:A.cloudProvider){case "boxConnect":this.currentCloudProvider="boxConnect";this.cloudConnect[this.currentCloudProvider]=new h["default"];this.cloudDriveText="Box";break;case "dropBoxConnect":this.currentCloudProvider="dropBoxConnect";this.cloudConnect[this.currentCloudProvider]=new e["default"];this.cloudDriveText="Dropbox";break;case "oneDriveConnect":this.currentCloudProvider="oneDriveConnect";this.cloudConnect[this.currentCloudProvider]=
new a["default"];this.cloudDriveText="OneDrive";break;case "googleConnect":this.currentCloudProvider="googleConnect";this.cloudConnect[this.currentCloudProvider]=new d["default"];this.cloudDriveText="Google Drive";break;default:this.currentCloudProvider="none",this.cloudDriveText=q["default"].overwriteFromGeoJSON.sourceGeoJSON}return this.initUI()};r.prototype.showModal=function(){var v=this,B=new l["default"],C=q["default"].overwriteFromCloudDlg.overwriteCloudButton+this.cloudDriveText;"none"===
this.currentCloudProvider&&(C=q["default"].updateItemDlg.updateFeatures);this.dlg=new b["default"]({title:q["default"].overwriteFromCloudDlg.originalDialogTitle+this.cloudDriveText,style:{width:"500px",height:"auto"},buttonOkLabel:C});C="";var A=this.cloudProviderInfo.mimeType;switch(A){case "google-apps":case "googlesheets":C=q["default"].overwriteFromCloudDlg.cloudFileTypeGoogleSheets;this.cloudProviderInfo.mimeType="googlesheets";break;case "csv":C=q["default"].overwriteFromCloudDlg.cloudFileTypeCsv;
break;case "excel":case "spreadsheetml":C=q["default"].overwriteFromCloudDlg.cloudFileTypeExcel;break;case "shapeFile":C=q["default"].overwriteFromCloudDlg.cloudFileTypeShapefile;break;case "fgdb":C=q["default"].overwriteFromCloudDlg.cloudFileTypeFgdb;break;case "geojson":C=q["default"].overwriteFromCloudDlg.cloudFileTypeGeoJson;break;default:C=q["default"].overwriteFromCloudDlg.cloudFileTypeExcel}"none"===this.currentCloudProvider&&A.includes("geojson")?(C=n["default"].substitute({title:this.originalItemToOverwrite.title},
q["default"].overwriteFromGeoJSON.description),t["default"](".overwriteInfoNote",this.domNode).addClass("hide")):C=n["default"].substitute({title:this.originalItemToOverwrite.title,fileType:C,cloudDrive:this.cloudDriveText},q["default"].overwriteFromCloudDlg.overwriteInfoText);t["default"](".overwriteInfoText",this.domNode).attr("innerHTML",C);this.dlg.setContent(this.domNode);this.dlg.show();this.own(m["default"](this.dlg,"ok",function(){v.set("readOnly",!0);var E="";v.loaderHelper(!0,q["default"].overwriteFromCloudDlg.defaultLoading);
"none"!==v.currentCloudProvider?(v.cloudConnect[v.currentCloudProvider].GetTokenViaOauth("https://"+v.portal.portalHostname).then(function(F){E="googleConnect"===v.cloudProviderInfo.cloudProvider?["google-apps","googlesheets"].includes(A)?"https://www.googleapis.com/drive/v3/files/"+v.cloudProviderInfo.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"https://www.googleapis.com/drive/v3/files/"+v.cloudProviderInfo.id+
'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"dropBoxConnect"===v.cloudProviderInfo.cloudProvider?'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'","Dropbox-API-Arg":"{\\"path\\":\\"'+v.cloudProviderInfo.id+'\\"}"}':"oneDriveConnect"===v.cloudProviderInfo.cloudProvider?"https://graph.microsoft.com/v1.0/me/drive/items/"+v.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}':"https://api.box.com/2.0/files/"+
v.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+F+'"}';v.overwriteItem(E)}),function(F){"popupBlocked"===F?v.showError(q["default"].overwriteFromCloudDlg.errors.popupIssue):"InvalidToken"===F||"windowClosed"===F?v.loaderHelper(!1,null):v.showError(F)}):v.overwriteItem(v.cloudProviderInfo.url)}));m["default"](this.dlg,"cancel",function(){v.set("readOnly",!0);v.onCancel()});return B};r.prototype.onCancel=function(){this.dlg&&this.dlg.destroyRecursive()};r.prototype.overwriteItem=
function(v){var B=this;this.loaderHelper(!0,q["default"].overwriteFromCloudDlg.addingItem);this.addExternalItem(v,this.originalItemToOverwrite.title,this.cloudProviderInfo.mimeType).then(function(){B.publishInfo={itemId:B.addItem.id,filetype:B.getNameForMimeType(B.cloudProviderInfo.mimeType,"publish")};B.getPublishParametersForOverwrite().then(function(C){B.publishInfo.item=B.addItem;B.publishInfo.publishParameters=C;B.publishInfo.overwrite=!0;B.publishInfo.deleteSourceItemUponCompletion=!0;B.loaderHelper(!0,
q["default"].overwriteFromCloudDlg.overwriting);B.publishExternalItem().then(function(A){B.updateTypeKeyword(A).then(function(){window.location.href="item.html?id\x3d"+A[0].serviceItemId+"\x26jobid\x3d"+A[0].jobId})})})});(function(C){B.showError(q["default"].overwriteFromCloudDlg.errors.addItemCheckStatusIssue,!0)})};r.prototype.initUI=function(){return new l["default"]};r.prototype.addExternalItem=function(v,B,C){var A=this,E=new l["default"];v={dataUrl:v,async:!0,type:this.getNameForMimeType(C,
"addItemType"),typeKeywords:this.getNameForMimeType(C,"addItemKeywords"),Title:B,filename:B};var F=this.portal;c["default"].addItem(v,this.originalItemToOverwrite.folderId,F).then(function(w){A.addItem=w;c["default"].checkStatus(A.addItem,E,null,F,function(D){E.resolve(D)})});(function(w){A.showError(w);E.reject(w)});return E};r.prototype.getPublishParametersForOverwrite=function(){var v=this,B=new l["default"];c["default"].getPublishParametersForOverwrite(this.originalItemToOverwrite,this.getNameForMimeType(this.cloudProviderInfo.mimeType,
"addItem")).then(function(C){B.resolve(C)});(function(C){v.showError(C);B.reject(C)});return B};r.prototype.publishExternalItem=function(){var v=this,B=new l["default"];c["default"].publishItem(this.publishInfo.item,this.publishInfo,this.portal).then(function(C){B.resolve(C.publishResult)});(function(C){v.showError(C);B.reject(C)});return B};r.prototype.getNameForMimeType=function(v,B){var C="";return C=-1!==B.indexOf("addItem")?-1!==v.indexOf("csv")?"CSV":-1!==v.indexOf("excel")?"Microsoft Excel":
-1!==v.indexOf("shapeFile")?"Shapefile":-1!==v.indexOf("fgdb")?"File Geodatabase":-1!==v.indexOf("geojson")?"GeoJson":-1!==v.indexOf("sheets")?"Microsoft Excel":"CSV":-1!==v.indexOf("csv")?"csv":-1!==v.indexOf("excel")?"excel":-1!==v.indexOf("shapeFile")?"shapefile":-1!==v.indexOf("fgdb")?"fileGeodatabase":-1!==v.indexOf("geojson")?"geojson":-1!==v.indexOf("sheets")?"excel":"csv"};r.prototype.updateTypeKeyword=function(v){var B=this,C=new l["default"],A=this.portal,E=this.originalItemToOverwrite.folderId,
F="Cloud Drive",w=JSON.parse(this.publishInfo.publishParameters);if("address"===w.locationType||w.layers[0]&&"address"===w.layers[0].locationType)F+=",showUnmatchedAddresses,Involved Lookup";else if("none"===w.locationType||w.layers[0]&&"none"===w.layers[0].locationType)F+=",Table";c["default"].updateItem({folderId:E,id:v[0].serviceItemId,typeKeywords:F},A).then(function(){C.resolve()});(function(D){B.showError(D);C.reject(D)});return C};r.prototype.showError=function(v,B){var C=this,A=x["default"].mixin(x["default"].mixin({},
q["default"].overwriteFromCloudDlg.errors.error),v);this._errorDlg=new b["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(A).then(function(){C.set("readOnly",!1);C._errorDlg.hide()});B||null!=this.addItem&&c["default"].deleteItem(this.addItem,this.portal);this.loaderHelper(!1,null);return!1};r.prototype.loaderHelper=function(v,B){var C=B?B:"Loading...";!0===v?(this.showHideDiv(".loader",!0),t["default"](".loader-text",this.domNode).attr("innerHTML",C),t["default"](".overwriteDialog",
this.domNode).style("opacity","0.5"),t["default"](".overwriteDialog",this.domNode).style("pointer-events","none"),this.dlg.okButton.set("disabled",!0),this.dlg.cancelButton.set("disabled",!0)):(t["default"](".loader-text",this.domNode).attr("innerHTML",C),this.showHideDiv(".loader",!1),t["default"](".overwriteDialog",this.domNode).style("opacity","1"),t["default"](".overwriteDialog",this.domNode).style("pointer-events","auto"),this.dlg.okButton.set("disabled",!1),this.dlg.cancelButton.set("disabled",
!1))};r.prototype.showHideDiv=function(v,B){!0===B?t["default"](v).removeClass("hide"):t["default"](v).addClass("hide")};return r=p.__decorate([u["default"](g["default"],f["default"],z["default"],y["default"])],r)}()})},"arcgisonline/pages/portal/cloudProvider/BoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(T,J,p,y,t,m,f,g){y=p.__importDefault(y);t=p.__importDefault(t);
m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);return function(){function l(u){this.boxToken="";this.allPages=[]}l.prototype.postscript=function(){};l.prototype.GetTokenViaOauth=function(u){var q=this,z=new f["default"],x=u+"/home/cloudDriveOauth-callback2.html";this._oauthSignIn("https://account.box.com/api/oauth2/authorize?redirect_uri\x3d"+x+"\x26response_type\x3dcode\x26client_id\x3d"+y["default"].boxClientId+"\x26locale\x3d"+g["default"].locale,u).then(function(n){q._getTokenValue(n,
"code").then(function(h){q._makeExternalRequests("POST","https://api.box.com/oauth2/token","grant_type\x3dauthorization_code\x26code\x3d"+h+"\x26client_id\x3d"+y["default"].boxClientId+"\x26client_secret\x3d"+y["default"].boxClientSecret+"\x26redirect_uri\x3d"+x).then(function(e){q.boxToken=e.access_token;z.resolve(e.access_token)},function(e){z.reject(e)})})},function(n){z.reject(n)});return z};l.prototype.GetAllFiles=function(u){var q=this,z=new f["default"],x=null===u||void 0===u?void 0:u.searchText,
n=null===u||void 0===u?void 0:u.dropdownFilter;u=null===u||void 0===u?void 0:u.previousOrNext;var h="Bearer "+this.boxToken;u||(this.allPages=[]);var e="https://api.box.com/2.0/search?fields\x3did,name\x26type\x3dfile\x26limit\x3d10";e=x?e+("\x26query\x3d"+x):e+"\x26query\x3dcsv xls";e="all"!==n&&n?"csv"===n?e+"\x26file_extensions\x3dcsv":"excel"===n?e+"\x26file_extensions\x3dxls,xlsx":e+"\x26file_extensions\x3dcsv,xls,xlsx":e+"\x26file_extensions\x3dcsv,xls,xlsx";u&&"next"===u&&(e+="\x26offset\x3d"+
this.allPages[this.allPages.length-1].NextToken);u&&"previous"===u&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(e+="\x26offset\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",e,null,h,"application/json").then(function(d){var a={files:[],next:d.total_count>d.limit+d.offset?!0:!1,previous:1<=q.allPages.length?!0:!1};q.allPages.push({Next:a.next,Previous:a.previous,NextToken:d.total_count>d.limit+d.offset?d.limit+
d.offset:!1});for(var b=0;b<d.entries.length;b++){var c=d.entries[b];a.files.push({id:c.id,name:c.name,mimeType:-1!==c.name.indexOf("csv")?"csv":"excel",downloadUrl:"https://api.box.com/2.0/files/"+c.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+q.boxToken+'"}'})}z.resolve(a)},function(d){z.reject(d)});return z};return l=p.__decorate([m["default"](t["default"])],l)}()})},"arcgisonline/pages/portal/cloudProvider/CommonCloudProvider":function(){define("require exports tslib ../../../tsutils/declareDecorator dojo/Deferred dojo/Stateful".split(" "),
function(T,J,p,y,t,m){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);return function(){function f(g){}f.prototype.postscript=function(){};f.prototype._oauthSignIn=function(g,l){var u=new t["default"],q=l+"/home/cloudDriveOauth-callback.html?cloudUrl\x3d"+(g+"\x26currentSourceUrl\x3d"+(window.location.protocol+"//"+window.location.hostname)+"\x26portalHostName\x3d"+l),z=document.createElement("iframe");z.src=q;z.className="hide";document.body.appendChild(z);q=window.addEventListener?
"addEventListener":"attachEvent";(0,window[q])("attachEvent"===q?"onmessage":"message",function(x){x.origin===l&&("popupBlocked"!==x.data&&"windowClosed"!==x.data||u.reject(x.data),u.resolve(x.data))},!1);return u};f.prototype._getTokenValue=function(g,l){var u=new t["default"];l=l.replace(/[[]/,"[").replace(/[]]/,"]");var q=(new RegExp("[?\x26#]"+l+"\x3d([^\x26#]*)")).exec(g);null==q?u.reject("InvalidToken"):u.resolve(q[1]);return u};f.prototype._makeExternalRequests=function(g,l,u,q,z){var x=new t["default"],
n=new XMLHttpRequest;n.open(g,l,!1);q&&n.setRequestHeader("Authorization",q);z&&n.setRequestHeader("Content-type",z);u?n.send(u):n.send();g=JSON.parse(n.responseText);400<=n.status&&x.reject(JSON.parse(n.responseText));x.resolve(g);return x};return f=p.__decorate([y["default"](m["default"])],f)}()})},"arcgisonline/pages/portal/cloudProvider/DropBoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(T,J,p,y,t,m,f,g){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);return function(){function l(u){this.dropBoxToken="";this.allPages=[]}l.prototype.postscript=function(){};l.prototype.GetTokenViaOauth=function(u){var q=this,z=new f["default"],x="dropbox"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://www.dropbox.com/oauth2/authorize?redirect_uri\x3d"+(u+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
y["default"].dropboxClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+x,u).then(function(n){q._getTokenValue(n,"state").then(function(h){x!==h&&z.reject("invalidState");q._getTokenValue(n,"access_token").then(function(e){q.dropBoxToken=e;z.resolve(e)},function(e){z.reject(e)})})},function(n){z.reject(n)});return z};l.prototype.GetAllFiles=function(u){var q=this,z=new f["default"],x=null===u||void 0===u?void 0:u.searchText,n=null===u||void 0===u?void 0:u.dropdownFilter,h=null===u||void 0===
u?void 0:u.previousOrNext;u="Bearer "+this.dropBoxToken;h||(this.allPages=[]);var e="";x=x?" "+x:"";var d=0;h&&"next"===h&&(d=this.allPages[this.allPages.length-1].NextToken);h&&"previous"===h&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(d=this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());h="";"csv"===n?(h='{"path":"","query":"'+x+' csv","mode": "filename_and_content","max_results":10,"start":'+d+"}",e="csv"):"excel"===n?(h='{"path":"","query":"'+x+' xls","mode": "filename_and_content","max_results":10,"start":'+
d+"}",e="excel"):"shapeFile"===n?(h='{"path":"","query":"'+x+' .zip","mode": "filename_and_content","max_results":10,"start":'+d+"}",e="shapeFile"):"fgdb"===n?(h='{"path":"","query":"'+x+' .zip","mode": "filename_and_content","max_results":10,"start":'+d+"}",e="fgdb"):"geoJson"===n?(h='{"path":"","query":"'+x+' .geojson","mode": "filename_and_content","max_results":10,"start":'+d+"}",e="geojson"):(h='{"path":"","query":"'+x+' csv","mode": "filename_and_content","max_results":10,"start":'+d+"}",e=
"csv");this._makeExternalRequests("POST","https://api.dropboxapi.com/2/files/search",h,u,"application/json").then(function(a){var b={files:[],next:a.more?!0:!1,previous:1<=q.allPages.length?!0:!1};q.allPages.push({Next:b.next,Previous:b.previous,NextToken:a.more?a.start:null});for(var c=0;c<a.matches.length;c++){var k=a.matches[c];"file"===k.metadata[".tag"]&&b.files.push({id:k.metadata.id,name:k.metadata.name,mimeType:e,downloadUrl:'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+
q.dropBoxToken+'","Dropbox-API-Arg":"{\\"path\\":\\"'+k.metadata.id+'\\"}"}'})}z.resolve(b)},function(a){z.reject(a)});return z};return l=p.__decorate([m["default"](t["default"])],l)}()})},"arcgisonline/pages/portal/cloudProvider/GoogleConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(T,J,p,y,t,m,f,g){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);
f=p.__importDefault(f);g=p.__importDefault(g);return function(){function l(u){this.googleToken="";this.allPages=[]}l.prototype.postscript=function(){};l.prototype.GetTokenViaOauth=function(u){var q=this,z=new f["default"],x="google"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://accounts.google.com/o/oauth2/v2/auth?scope\x3dhttps://www.googleapis.com/auth/drive.readonly\x26redirect_uri\x3d"+(u+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+y["default"].googleClientId+
"\x26hl\x3d"+g["default"].locale+"\x26state\x3d"+x,u).then(function(n){q._getTokenValue(n,"state").then(function(h){x!==h&&z.reject("invalidState");q._getTokenValue(n,"access_token").then(function(e){q.googleToken=e;z.resolve(e)},function(e){z.reject(e)})})},function(n){z.reject(n)});return z};l.prototype.GetAllFiles=function(u){var q=this,z=new f["default"],x=null===u||void 0===u?void 0:u.searchText,n=null===u||void 0===u?void 0:u.dropdownFilter;u=null===u||void 0===u?void 0:u.previousOrNext;u||
(this.allPages=[]);var h="",e="https://www.googleapis.com/drive/v3/files?access_token\x3d"+this.googleToken+"\x26pageSize\x3d10\x26q\x3d";x&&(e+="name contains '"+x+"'and");"csv"===n?(e+='(mimeType\x3d"text/csv")',h="csv"):"excel"===n?(e+='(mimeType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"ormimeType\x3d"application/vnd.ms-excel")',h="excel"):"shapeFile"===n?(e+='(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',h="shapeFile"):"fgdb"===n?(e+=
'(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',h="fgdb"):"geoJson"===n?(e+='(name contains "json" or name contains "geojson")and(mimeType\x3d"application/octet-stream"ormimeType\x3d"application/json")',h="geojson"):"sheets"===n?(e+='(mimeType\x3d"application/vnd.google-apps.spreadsheet")',h="googlesheets"):(e+='(mimeType\x3d"text/csv")',h="csv");u&&"next"===u&&(e+="\x26pageToken\x3d"+this.allPages[this.allPages.length-1].NextToken);u&&"previous"===u&&2<=this.allPages.length&&
(this.allPages.pop(),1<this.allPages.length&&(e+="\x26pageToken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",e,null,null,"application/json").then(function(d){var a={files:[],next:d.nextPageToken?!0:!1,previous:1<=q.allPages.length?!0:!1};q.allPages.push({Next:a.next,Previous:a.previous,NextToken:d.nextPageToken?d.nextPageToken:null});for(var b=0;b<d.files.length;b++){var c=d.files[b];a.files.push({id:c.id,name:c.name,mimeType:h,downloadUrl:-1!==
c.mimeType.indexOf("google-apps")?"https://www.googleapis.com/drive/v3/files/"+c.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+q.googleToken+'"}':"https://www.googleapis.com/drive/v3/files/"+c.id+'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+q.googleToken+'"}'})}z.resolve(a)},function(d){z.reject(d)});return z};return l=p.__decorate([m["default"](t["default"])],l)}()})},"arcgisonline/pages/portal/cloudProvider/OneDriveConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(T,J,p,y,t,m,f,g){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);return function(){function l(u){this.oneDriveToken="";this.allPages=[]}l.prototype.postscript=function(){};l.prototype.GetTokenViaOauth=function(u){var q=this,z=new f["default"],x="onedrive"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope\x3dfiles.read\x26redirect_uri\x3d"+(u+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
y["default"].oneDriveClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+x,u).then(function(n){q._getTokenValue(n,"state").then(function(h){x!==h&&z.reject("invalidState");q._getTokenValue(n,"access_token").then(function(e){q.oneDriveToken=e;z.resolve(e)},function(e){z.reject(e)})})},function(n){z.reject(n)});return z};l.prototype.GetAllFiles=function(u){var q=this,z=new f["default"],x=null===u||void 0===u?void 0:u.searchText,n=null===u||void 0===u?void 0:u.dropdownFilter;u=null===u||void 0===
u?void 0:u.previousOrNext;var h="Bearer "+this.oneDriveToken;u||(this.allPages=[]);var e="",d="https://graph.microsoft.com/v1.0/me/drive/root/search(q\x3d'";x&&(d+=x+" ");"csv"===n?(d+=".csv",e="csv"):"excel"===n?(d+=".xls",e="excel"):"shapeFile"===n?(d+=".zip",e="shapeFile"):"fgdb"===n?(d+=".zip",e="fgdb"):"geoJson"===n?(d+=".geojson .json",e="geojson"):(d+=".csv",e="csv");d+="')?select\x3dname,id,file\x26top\x3d10";u&&"next"===u&&(d+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-1].NextToken);
u&&"previous"===u&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(d+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",d,null,h,"application/json").then(function(a){var b={files:[],next:a["@odata.nextLink"]?!0:!1,previous:1<=q.allPages.length?!0:!1},c={Next:b.next,Previous:b.previous,NextToken:a["@odata.nextLink"]?q._getNextTokenFromUrl(a["@odata.nextLink"],"skiptoken"):null};q.allPages.push(c);for(c=
0;c<a.value.length;c++){var k=a.value[c];k.file&&("fgdb"!==e&&"shapeFile"!==e||"application/zip"===k.file.mimeType)&&b.files.push({id:k.id,name:k.name,mimeType:e,downloadUrl:"https://graph.microsoft.com/v1.0/me/drive/items/"+k.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+q.oneDriveToken+'"}'})}z.resolve(b)},function(a){z.reject(a)});return z};l.prototype._getNextTokenFromUrl=function(u,q){q=q.replace(/[[]/,"[").replace(/[]]/,"]");var z=(new RegExp("[?\x26#$]"+q+"\x3d([^\x26#]*)")).exec(u);
return null===z?"":z[1]};return l=p.__decorate([m["default"](t["default"])],l)}()})},"arcgisonline/pages/item/widgets/_metadata":function(){define("require exports tslib dojo/_base/lang dojo/Deferred esri/lang dojo/topic ../../../esriGeowConfig ../../../sharing/util ../../utils/arrays ../../statusUtil dojo/i18n!../../../nls/arcgisonline arcgisonline/pages/utils/metadata".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);
g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return{_isLoading:!1,_gxeContext:null,_editor:null,_gxeAdaptor:null,_portalItemContext:null,_portalItemAdaptor:null,_formats:{formatDefault:"default",formatArcGIS:"arcgis",formatFGDC:"fgdc",formatINSPIRE:"inspire",formatISO19139:"iso19139",formatISO1913932:"iso19139-3.2",formatISO19115:"iso19115"},configureGeocoders:function(n,h){for(var e=n?y["default"].clone(n):[],d=0;d<e.length;d++){var a=
e[d];if(l["default"].isEsriWorldGeocoder(a)){a.suggest=!0;a.name=z["default"].common.esriWorldGeocoder;a.singleLineFieldName="SingleLine";m["default"].isDefined(a.placefinding)||(a.placefinding=!0);m["default"].isDefined(a.batch)||(a.batch=!0);break}}e=e.filter(function(b){return(null===b||void 0===b?void 0:b.placefinding)&&(null===b||void 0===b?void 0:b.singleLineFieldName)});0<e.length&&(h.arcgisGeocoder=!1,h.geocoders=e)},openLayerEditor:function(n,h){var e=this,d,a,b=new t["default"],c=l["default"].getToken(),
k=g["default"].self,r=0<(null===(d=k.metadataFormats)||void 0===d?void 0:d.length)?y["default"].clone(k.metadataFormats):null,v=(null===(a=k.helperServices)||void 0===a?0:a.geocode)?y["default"].clone(k.helperServices.geocode):[],B=u["default"].find(n.layers||[],function(C){return C.id.toString()===h.toString()});if(null===B||void 0===B?0:B.layerMetadataUrl)B.rawMetadataUrl=B.layerMetadataUrl.split("?")[0];else if(null===B||void 0===B?0:B.url)B.rawMetadataUrl=B.url.split("?")[0]+"/metadata";this._isLoading?
b.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require(["esri/dijit/metadata/context/GxeContext","esri/dijit/metadata/context/GxeAdaptor","esri/dijit/metadata/editor/EditorDialog","esri/dijit/metadata/editor/Editor","dojo/domReady!"],function(C,A,E){var F=z["default"].itemProperties.metadataISO1913932,w={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],arcgisMode:!0,defaultArcGISStyle:null,basemapUrl:null,basemap:null,getOriginalXml:void 0},
D={getAllowDeleteMetadata:function(){return!0},getAllowEditMetadata:function(){return!0},getOriginalXml:void 0,deleteMetadata:function(){var H=new t["default"];l["default"].request({url:B.rawMetadataUrl+"/update/",content:{metadata:"",metadataUploadFormat:"xml"}},{usePost:!0}).then(function(M){(null===M||void 0===M?0:M.statusUrl)?q["default"].checkAsyncJobStatus(M.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{deleted:!0});H.resolve()},function(){f["default"].publish("metadata/layerEditor/updated",
{deleted:!0});H.resolve()}):(H.resolve(),f["default"].publish("metadata/layerEditor/updated",{deleted:!0}))},function(M){return H.resolve()});return H},saveXml:function(H,M){var R=new t["default"];l["default"].request({url:B.rawMetadataUrl+"/update/",content:{metadata:M,metadataUploadFormat:"xml"}},{usePost:!0}).then(function(N){(null===N||void 0===N?0:N.statusUrl)?q["default"].checkAsyncJobStatus(N.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});R.resolve()},
function(){setTimeout(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});R.resolve()},3E3)}):(f["default"].publish("metadata/layerEditor/updated",{changed:!0}),R.resolve())},function(N){return R.resolve()});return R},viewHtml:function(){var H=c?"\x26token\x3d"+c:"",M=new t["default"];H="?format\x3ddefault\x26f\x3dhtml"+H;(null===B||void 0===B?0:B.rawMetadataUrl)?l["default"].openPage(B.rawMetadataUrl+H,!1):l["default"].openPage(B.url.split("?")[0]+"/metadata"+H,!1);M.resolve();
return M}},G=function(){e._editor=new E({title:B.name,gxeAdaptor:e._gxeAdaptor,gxeContext:e._gxeContext});e._editor.show();e._isLoading=!1;b.resolve(e._editor)};if(0<(null===r||void 0===r?void 0:r.length))switch(r[0]){case e._formats.formatFGDC:F=z["default"].itemProperties.metadataFGDC;break;case e._formats.formatINSPIRE:F=z["default"].itemProperties.metadataINSPIRE;break;case e._formats.formatISO19139:F=z["default"].itemProperties.metadataISO19139;break;case e._formats.formatISO19115:F=z["default"].itemProperties.metadataISO19115}w.defaultArcGISStyle=
F;g["default"].extentService?w.basemapUrl=g["default"].extentService:w.basemap="hybrid";e.configureGeocoders(v,w);e._gxeContext=new C(w);(null===B||void 0===B?0:B.hasMetadata)?x.retrieveArcGISXml(B.rawMetadataUrl).then(function(H){D.getOriginalXml=function(){return H};e._gxeAdaptor=new A(D);G()},function(H){D.getOriginalXml=function(){return null};e._gxeAdaptor=new A(D);G()}):(D.getOriginalXml=function(){return null},e._gxeAdaptor=new A(D),G())});(function(C){b.reject()})}),function(C){b.reject()});
return b},openEditor:function(n){var h=this,e,d,a=new t["default"],b=g["default"].self,c=0<(null===(e=b.metadataFormats)||void 0===e?void 0:e.length)?y["default"].clone(b.metadataFormats):null,k=(null===(d=b.helperServices)||void 0===d?0:d.geocode)?y["default"].clone(b.helperServices.geocode):[];this._isLoading?a.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require("esri/dijit/metadata/context/GxeContext esri/dijit/metadata/arcgis/portal/PortalItemContext esri/dijit/metadata/arcgis/portal/PortalItemAdaptor esri/dijit/metadata/editor/EditorDialog esri/dijit/metadata/editor/Editor dojo/domReady!".split(" "),
function(r,v,B,C){var A=z["default"].itemProperties.metadataISO1913932,E={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],defaultArcGISStyle:"",basemapUrl:"",basemap:""};if(0<(null===c||void 0===c?void 0:c.length)){var F=c[0];switch(F){case h._formats.formatFGDC:A=z["default"].itemProperties.metadataFGDC;break;case h._formats.formatINSPIRE:A=z["default"].itemProperties.metadataINSPIRE;break;case h._formats.formatISO19139:A=z["default"].itemProperties.metadataISO19139;break;case h._formats.formatISO19115:A=
z["default"].itemProperties.metadataISO19115}}E.defaultArcGISStyle=A;g["default"].extentService?E.basemapUrl=g["default"].extentService:E.basemap="hybrid";h.configureGeocoders(k,E);h._gxeContext=new r(E);h._portalItemContext=new v({isForPortalItemPage:!0,allowEditMetadata:!0,allowPushToItem:!0,autoPullItem:!0,portalItem:n,portal:b,restBaseUrl:g["default"].restBaseUrl,token:l["default"].getToken(),originalXml:null});h._portalItemAdaptor=new B({portalItemContext:h._portalItemContext,viewHtml:function(){var w=
new t["default"],D=n.itemUrl+"/info/metadata/metadata.xml",G=l["default"].getUser();l["default"].openPage(D+"?format\x3ddefault\x26output\x3dhtml"+((null===G||void 0===G?0:G.token)?"\x26token\x3d"+G.token:""),!1);w.resolve();return w}});u["default"].includes(n.typeKeywords,"Metadata")?h._portalItemAdaptor.readXml("text").then(function(w){h._portalItemContext.originalXml=x.cleanXml(w);h._editor=new C({title:n.title,gxeAdaptor:h._portalItemAdaptor,gxeContext:h._gxeContext});h._editor.show();h._isLoading=
!1;a.resolve(h._editor)}):(h._editor=new C({title:n.title,gxeAdaptor:h._portalItemAdaptor,gxeContext:h._gxeContext}),h._editor.show(),h._isLoading=!1,a.resolve(h._editor))});(function(r){a.reject()})}),function(r){a.reject()});return a}}})},"arcgisonline/pages/utils/metadata":function(){define("require exports tslib dojo/_base/Deferred ../../sharing/util esri/request dojo/i18n!../../nls/arcgisonline".split(" "),function(T,J,p,y,t,m,f){function g(b){var c;return b?"1.0"===(null===(c=b.querySelector("metadata \x3e Esri \x3e ArcGISFormat"))||
void 0===c?void 0:c.textContent):!1}function l(b){return"string"!==typeof b?null:null!==b?0===b.length?null:b.trim():b}function u(b){var c=document.createElement("textarea");c.innerHTML=b;return c.value}function q(b){var c=document.createElement("textarea");c.textContent=b;return c.innerHTML}function z(b,c){var k=b.querySelector(c);return u((null===k||void 0===k?void 0:k.innerHTML)||"")}function x(b,c,k){if(!g(b))return b;var r=b.querySelector("metadata");r=r.querySelector("dataIdInfo")||r.appendChild(b.createElement("dataIdInfo"));
var v=r.querySelector("idCitation")||r.appendChild(b.createElement("idCitation"));r=c===d.title?v:r;(r.querySelector(c)||r.appendChild(b.createElement(c))).textContent=u(k);return b}function n(b,c,k,r,v){var B=new y;v=(new XMLSerializer).serializeToString(c);r&&(v='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e'+v);t["default"].request({url:b,content:{metadataUploadFormat:"xml",metadata:v}},{usePost:!0}).then(function(C){return h(C.statusUrl,k)},function(C){return B.reject(C)}).then(function(C){return B.resolve(c)},
function(C){return B.reject(C)});return B}function h(b,c){var k=new y,r,v=0,B=setInterval(function(){v++;m["default"]({url:b,content:{token:c,f:"json"}}).then(function(C){r=((null===C||void 0===C?void 0:C.status)||"failed").toLowerCase();C=C||{status:"Failed"};if("completed"===r)clearInterval(B),k.resolve(C);else if("failed"===r||400<C.code)clearInterval(B),k.reject(C)},function(C){if("Invalid JSON primitive: ."!==(null===C||void 0===C?void 0:C.message)||10<v)clearInterval(B),k.reject(C)})},1E3);
return k}function e(b){return("0"+(b||0)).slice(-2)}Object.defineProperty(J,"__esModule",{value:!0});J.createLayerXML=J.updateLayerXML=J.updateLayerXMLProperty=J.parseEsriXML=J.setXMLTagValue=J.getXMLTagValue=J.encodeHTMLEntities=J.decodeHTMLEntities=J.cleanXml=J.isValidArcGISMetadata=J.retrieveArcGISXml=void 0;t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);J.retrieveArcGISXml=function(b,c){var k=new y,r=t["default"].getUser(),v=null===r||void 0===r?void 0:r.token,B={f:"xml"};
!c&&r&&(B.token=v);c&&c.token&&(B.token=c.token);m["default"]({url:b,content:B,handleAs:"text",preventCache:!0},{usePost:!0}).then(function(C){return k.resolve(l(C))},function(C){k.resolve(null)});return k};J.isValidArcGISMetadata=g;J.cleanXml=l;J.decodeHTMLEntities=u;J.encodeHTMLEntities=q;J.getXMLTagValue=z;J.setXMLTagValue=x;J.parseEsriXML=function(b){var c={};if(!b)return c;c=[].slice.call(b.querySelectorAll(d.keywords)).map(function(k){return k.textContent}).reduce(function(k,r){return k.concat(r.split(/\n/))},
[]);return{title:z(b,d.title),"abstract":z(b,d["abstract"]),summary:z(b,d.summary),credits:z(b,d.credits),use:z(b,d.use),keywords:c}};J.updateLayerXMLProperty=function(b){var c=b.url,k=b.token;b=x(b.xml,d[b.prop],q(b.value));return n(c,b,k)};J.updateLayerXML=n;J.createLayerXML=function(b){var c=b.url,k=b.portal,r=b.prop,v=b.layer,B=b.value;b=b.token;var C=new Date,A=C.getFullYear(),E=e(C.getMonth()+1),F=e(C.getDate()),w=e(C.getHours()),D=e(C.getMinutes());C=e(C.getSeconds());var G=(k=null===(G=null===
k||void 0===k?void 0:k.metadataFormats)||void 0===G?void 0:G[0])&&a[k]?"\x3cArcGISstyle\x3e"+a[k]+"\x3c/ArcGISstyle\x3e":"";v='\n    \x3cmetadata xml:lang\x3d"en"\x3e\n      \x3cEsri\x3e\n        \x3cCreaDate\x3e'+A+E+F+"\x3c/CreaDate\x3e\n        \x3cCreaTime\x3e"+w+D+C+"00\x3c/CreaTime\x3e\n        \x3cArcGISFormat\x3e1.0\x3c/ArcGISFormat\x3e\n        \x3cModDate\x3e"+A+E+F+"\x3c/ModDate\x3e\n        \x3cModTime\x3e"+w+D+C+"00\x3c/ModTime\x3e\n        "+G+"\n      \x3c/Esri\x3e\n      \x3cdataIdInfo\x3e\n        \x3cidCitation\x3e\n          \x3cresTitle\x3e"+
v.name+'\x3c/resTitle\x3e\n        \x3c/idCitation\x3e\n      \x3c/dataIdInfo\x3e\n      \x3cmdDateSt Sync\x3d"TRUE"\x3e'+A+E+F+"\x3c/mdDateSt\x3e\n    \x3c/metadata\x3e\n  ";v=(new DOMParser).parseFromString(v,"text/xml");v.querySelector("dataIdInfo").appendChild(v.createElement(d[r]));r=x(v,d[r],q(B));return n(c,r,b,!0)};var d;(function(b){b.title="resTitle";b["abstract"]="idAbs";b.summary="idPurp";b.credits="idCredit";b.use="resConst Consts useLimit";b.keywords="searchKeys keyword"})(d||(d={}));
var a={arcgis:f["default"].myOrganization.itemDetailsTab.formats.arcgis,fgdc:f["default"].myOrganization.itemDetailsTab.formats.fgdc,inspire:f["default"].myOrganization.itemDetailsTab.formats.inspire,iso19139:f["default"].myOrganization.itemDetailsTab.formats.iso19139,"iso19139-3.2":f["default"].myOrganization.itemDetailsTab.formats.iso1913932,iso19115:f["default"].myOrganization.itemDetailsTab.formats.iso19115}})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../utils/dom dojo/dom-construct dojo/topic dojo/string dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./httpsResultIssue.html dojo/text!./httpsResultUpdated.html dojo/text!./httpsResultUnchanged.html dojo/text!./httpsUpdate.html ../../../../../tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);return function(){function b(c,k){this.templateString=d["default"];this.WEB_SCENE="Web Scene"}b.prototype.postMixInProperties=
function(){this.inherited(arguments);this.i18n=x["default"]};b.prototype.startup=function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.isWebScene=this.item.type===this.WEB_SCENE;this.updateHttpsDesc.innerHTML=this.i18n.itemProperties[this.isWebScene?"updateSceneLayersToHTTPSDesc":"updateLayersToHTTPSDesc"];this.own(l["default"](this.okBtn,this.okClick.bind(this)),l["default"](this.doneBtn,this.doneClick.bind(this)),l["default"](this.cancelBtn,this.cancelClick.bind(this)),
l["default"](this.toggleIssues,this.issuesToggled.bind(this)),l["default"](this.toggleUpdated,this.updatedToggled.bind(this)),l["default"](this.toggleUnchanged,this.unchangedToggled.bind(this)))};b.prototype.filterForIssues=function(c){return c.filter(function(k){return"failure"===k.layerUrlChange||k.layerRenderingFailures||k.layerQueryUrlFailures||k.itemAccess&&("failure"===k.itemUrlChange||k.itemRenderingFailures||k.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(c){return c.filter(function(k){return("success"===
k.layerUrlChange||k.layerRenderingChanged||k.layerQueryUrlChanged)&&!k.layerRenderingFailures&&!k.layerQueryUrlFailures||k.itemAccess&&("success"===k.itemUrlChange||k.itemRenderingChanged||k.itemQueryUrlChanged)&&!k.itemRenderingFailures&&!k.itemQueryUrlFailures})};b.prototype.filterForUnchanged=function(c){return c.filter(function(k){return"none"===k.layerUrlChange&&!k.layerRenderingChanged&&!k.layerRenderingFailures&&!k.layerQueryUrlChanged&&!k.layerQueryUrlFailures&&(!k.itemAccess||k.itemAccess&&
"none"===k.itemUrlChange&&!k.itemRenderingChanged&&!k.itemRenderingFailures&&!k.itemQueryUrlChanged&&!k.itemQueryUrlFailures)})};b.prototype.writeOutIssues=function(c){var k=this;c.length?(this.issuesTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersWithIssues,{n:c.length}),m["default"].empty(this.issues),c.forEach(function(r){r.message="";if("failure"===r.layerUrlChange||r.layerQueryUrlFailures||r.itemQueryUrlFailures)r.message=k.i18n.itemProperties.layerMessages.httpsNotSupported;
else if(r.layerRenderingFailures||r.itemAccess&&r.itemRenderingFailures)r.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"sceneSymbolHttpsNotSupported":"symbolHttpsNotSupported"];m["default"].place(g["default"].substitute(n["default"],r),k.issues,"last")}),t["default"].showNode(this.layersWithIssues)):t["default"].hideNode(this.layersWithIssues)};b.prototype.writeOutUpdated=function(c){var k=this;c.length?(this.updatedTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersUpdated,
{n:c.length}),m["default"].empty(this.updated),c.forEach(function(r){r.message="";"success"===r.layerUrlChange||r.layerRenderingChanged||r.layerQueryUrlChanged?(r.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"updatedInScene":"updatedInMap"],r.itemAccess&&("success"===r.itemUrlChange||r.itemRenderingChanged||r.itemQueryUrlChanged)&&(r.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"])):r.itemAccess&&("success"===r.itemUrlChange||r.itemRenderingChanged||
r.itemQueryUrlChanged)?r.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"]:r.layerRenderingChanged&&(r.message=k.i18n.itemProperties.layerMessages[k.isWebScene?"updatedInScene":"updatedInMap"]);m["default"].place(g["default"].substitute(h["default"],r),k.updated,"last")}),t["default"].showNode(this.layersUpdated)):t["default"].hideNode(this.layersUpdated)};b.prototype.writeOutUnchanged=function(c){var k=this;c.length?(this.unchangedTitle.innerHTML=
g["default"].substitute(this.i18n.itemProperties.layersUnchanged,{n:c.length}),m["default"].empty(this.unchanged),c.forEach(function(r){r.message="";m["default"].place(g["default"].substitute(e["default"],r),k.unchanged,"last")}),t["default"].showNode(this.layersUnchanged)):t["default"].hideNode(this.layersUnchanged)};b.prototype.okClick=function(){var c=this;t["default"].hideNode(this.updateHttpsDesc);t["default"].showNode(this.updateHttpsLoading);t["default"].disableNode(this.okBtn,!0);y["default"].switchToHTTPS(this.item.itemData,
this.item).then(function(k){var r=c.filterForIssues(k.layers),v=c.filterForUpdated(k.layers),B=c.filterForUnchanged(k.layers);t["default"].hideNode(c.updateHttpsLoading);z["default"].isDefined(k.configChange)&&"failure"===k.configChange?t["default"].showNode(c.unexpectedError):(c.writeOutIssues(r),c.writeOutUpdated(v),c.writeOutUnchanged(B),r.length?c.issuesToggled():v.length?c.updatedToggled():B.length&&c.unchangedToggled(),r.length||v.length||!B.length?t["default"].showNode(c.updateHttpsResults):
t["default"].showNode(c.noChangesMade));t["default"].hideNode(c.okBtn);t["default"].hideNode(c.cancelBtn);t["default"].showNode(c.doneBtn);f["default"].publish("item-data/change")},function(k){t["default"].hideNode(c.updateHttpsLoading);t["default"].showNode(c.unexpectedError);t["default"].hideNode(c.okBtn);t["default"].hideNode(c.cancelBtn);t["default"].showNode(c.doneBtn)})};b.prototype.cancelClick=function(){f["default"].publish("update-to-https/cancel")};b.prototype.doneClick=function(){f["default"].publish("update-to-https/done")};
b.prototype.toggleSection=function(c,k){t["default"].showHide(k,c.classList.contains("icon-ui-right"));c.classList.toggle("icon-ui-right");c.classList.toggle("icon-ui-down")};b.prototype.issuesToggled=function(){this.toggleSection(this.toggleIssues,this.issues)};b.prototype.updatedToggled=function(){this.toggleSection(this.toggleUpdated,this.updated)};b.prototype.unchangedToggled=function(){this.toggleSection(this.toggleUnchanged,this.unchanged)};return b=p.__decorate([a["default"](u["default"],q["default"])],
b)}()})},"arcgisonline/map/core/urlUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/dom dojo/dom-construct dojo/json dojo/Deferred dojo/DeferredList esri/request esri/lang esri/layers/VectorTileLayer esri/layers/CSVLayer esri/layers/KMLLayer esri/layers/GeoRSSLayer esri/layers/WebTiledLayer esri/layers/WMSLayer esri/layers/WFSLayer esri/layers/WMTSLayer".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){function b(W,aa){var P=new f;W._ssl&&delete W._ssl;var L=
esriGeowConfig.restBaseUrl+"content/users/"+aa.owner;L+=aa.ownerFolder?"/"+aa.ownerFolder:"";L+="/items/"+aa.id+"/update";var Q={text:m.stringify(W),f:"json"},X={usePost:!0};"http:"===window.location.protocol&&-1<L.indexOf("https://")&&(X.useProxy=!0);l({url:L,content:Q,load:function(Y){P.resolve()},error:function(Y){P.reject(Y)}},X);return P}function c(W){var aa=W.configLayer,P=W.from,L=W.to,Q=W.type,X=W.checkRenderer,Y=new f;switch(aa.layerType||aa.type){case "ArcGISFeatureLayer":case void 0:if(aa.url)return k(W);
if(X)return r(W);Y.resolve({type:"notTested",msg:"No URL"});break;case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":return k(W);case "VectorTileLayer":return v(W);case "CSV":return B(W);case "GeoRSS":return C(W);case "KML":return A(W);case "WebTiledLayer":return aa.wmtsInfo?
E(W):F(W);case "WFS":return w(W);case "WMS":return D(W);case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":X={url:"",origUrl:"",msg:"Layer has no URL.",code:"layer_003",layerId:aa.id,type:"layer"},aa.portalUrl&&(P=aa.portalUrl.replace(P,L),P!==aa.portalUrl?(aa.portalUrl=P,J.mixin(X,{msg:"Portal URL switched to "+L+".",code:"layer_001"})):J.mixin(X,{msg:"Portal URL is already "+L+".",code:"layer_002"})),Y.resolve(X);case "OpenStreetMap":X={url:"",origUrl:"",msg:"Layer has no URL.",code:"layer_003",
layerId:aa.id,type:"layer"},Y.resolve(X);default:if("table"===Q)return k(W);Y.resolve({type:"notTested",msg:"Unknown type"})}return Y}function k(W){var aa=W.configLayer,P=W.from,L=W.to,Q=W.checkRenderer,X=new f,Y=aa.url,da=aa.url.replace(P,L),ha={url:Y,origUrl:Y,layerId:aa.id,type:"layer"};if(Y===da)return J.mixin(ha,{url:da,msg:"Layer URL is already "+L+".",code:"layer_002"}),Q?G(aa,W,ha).then(function(sa){M(aa,sa).then(function(wa){Z(W,wa).then(function(ya){X.resolve(ya)})})}):G(aa,W,ha).then(function(sa){Z(W,
sa).then(function(wa){X.resolve(wa)})}),X;if("http://"===P&&"https://"===L&&-1===Y.indexOf("sampleserver")&&(-1<Y.indexOf(".arcgis.com")||-1<Y.indexOf(".arcgisonline.com")))return aa.url=da,J.mixin(ha,{url:da,msg:"Layer URL switched to "+L+".",code:"layer_001"}),Q?G(aa,W,ha).then(function(sa){M(aa,sa).then(function(wa){Z(W,wa).then(function(ya){X.resolve(ya)})})}):G(aa,W,ha).then(function(sa){Z(W,sa).then(function(wa){X.resolve(wa)})}),X;var ma=1,na=setInterval(function(){esri.id.isBusy()&&3>ma?ma++:
(esri.id.isBusy()&&esri.id.dialog.destroy(),J.mixin(ha,{msg:"Timeout",code:"layer_021"}),G(aa,W,ha).then(function(sa){Z(W,sa).then(function(wa){X.reject(wa)})}),clearInterval(na),delete na)},2E4);P=da+(-1<da.indexOf("?")?"\x26f\x3djson":"?f\x3djson");l({url:P,callbackParamName:"callback",load:function(sa,wa){na&&(clearTimeout(na),aa.url=da,J.mixin(ha,{url:da,msg:"Layer URL switched to "+L+".",code:"layer_001"}),Q?G(aa,W,ha).then(function(ya){M(aa,ya).then(function(Aa){Z(W,Aa).then(function(Ba){X.resolve(Ba)})})}):
G(aa,W,ha).then(function(ya){Z(W,ya).then(function(Aa){X.resolve(Aa)})}))},error:function(sa){na&&(clearTimeout(na),esri.id.isBusy()?sa&&sa.message&&-1<sa.message.toLowerCase().indexOf("aborted")?(J.mixin(ha,{msg:"Aborted the Sign-In process.",code:"layer_012"}),G(aa,W,ha).then(function(wa){Z(W,wa).then(function(ya){X.reject(ya)})})):(J.mixin(ha,{msg:sa.message,code:"layer_010"}),G(aa,W,ha).then(function(wa){Z(W,wa).then(function(ya){X.reject(ya)})})):(J.mixin(ha,{msg:sa.message,code:"layer_010"}),
G(aa,W,ha).then(function(wa){Z(W,wa).then(function(ya){X.reject(ya)})})))}});return X}function r(W){var aa=W.configLayer,P=new f,L={url:"",origUrl:"",layerId:aa.id,msg:"Layer has no URL.",code:"layer_003",type:"layer",renderers:[],symbols:[]};if(aa.featureCollection)if(aa.featureCollection.layers){var Q=[];T.forEach(aa.featureCollection.layers,function(X,Y){if(X.layerDefinition&&X.layerDefinition.drawingInfo&&X.layerDefinition.drawingInfo.renderer){var da=new f;N(aa,X.layerDefinition.drawingInfo.renderer).then(J.hitch(this,
function(ha,ma){aa.featureCollection.layers[ha].layerDefinition.drawingInfo.renderer=ma.renderer;da.resolve(ma)},Y));Q.push(da)}X.featureSet&&X.featureSet.features&&X.featureSet.features.length&&X.featureSet.features[0].symbol&&T.forEach(X.featureSet.features,function(ha){var ma=new f;K(aa,ha.symbol).then(J.hitch(this,function(na,sa){L.symbols=[sa];ma.resolve(L)},Y));Q.push(ma)})});Q.length?(new g(Q)).addCallback(function(X){var Y=[],da=[];T.forEach(X,function(ha){"renderer"===ha[1].type?Y.push(ha[1]):
"symbol"===ha[1].type&&da.push(ha[1])});J.mixin(L,{renderers:Y.length?Y:[],symbols:da.length?da:[]});Z(W,L).then(function(ha){P.resolve(ha)})}):Z(W,L).then(function(X){P.resolve(X)})}else Z(W,L).then(function(X){P.resolve(X)});else Z(W,L).then(function(X){P.resolve(X)});return P}function v(W){var aa=W.configLayer,P=W.from,L=W.to,Q=new f,X=aa.styleUrl;if(!aa.styleUrl&&aa.itemId){var Y=esriGeowConfig.restBaseUrl+"content/items/"+aa.itemId+"/resources";if(!esriGeowConfig.self.isPortal){var da=Y.indexOf("://"),
ha=Y.indexOf("/",da+3);Y=Y.substring(0,da+3)+esriGeowConfig.self.portalHostname+Y.substring(ha)}aa.styleUrl=Y+"/styles/root.json"}var ma=aa.styleUrl.replace(P,L);P=new q(ma);p.connect(P,"onLoad",J.hitch(this,function(){var na={url:ma,origUrl:X,layerId:aa.id,type:"layer"};aa.styleUrl===ma?J.mixin(na,{msg:"Layer URL is already "+L+".",code:"layer_002"}):(aa.styleUrl=ma,J.mixin(na,{msg:"Layer URL switched to "+L+".",code:"layer_001"}));Z(W,na).then(function(sa){Q.resolve(sa)})}));p.connect(P,"onError",
J.hitch(this,function(na){Z(W,{url:aa.styleUrl,origUrl:aa.styleUrl,layerId:aa.id,msg:na.message,code:"layer_010",type:"layer"}).then(function(sa){Q.reject(sa)})}));return Q}function B(W){var aa=W.configLayer,P=W.from,L=W.to,Q=W.checkRenderer,X=new f,Y=aa.url.replace(P,L),da=aa.url;if(da===Y)return W={url:Y,origUrl:da,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},Q?M(aa,W).then(function(ha){X.resolve(ha)}):X.resolve(W),X;W=new z(Y,{columnDelimiter:aa.columnDelimiter,
latitudeFieldName:aa.locationInfo.latitudeFieldName,longitudeFieldName:aa.locationInfo.longitudeFieldName});p.connect(W,"onLoad",J.hitch(this,function(){aa.url=Y;var ha={url:Y,origUrl:da,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};Q?M(aa,ha).then(function(ma){X.resolve(ma)}):X.resolve(ha)}));p.connect(W,"onError",J.hitch(this,function(ha){X.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:ha.message,code:"layer_010",type:"layer"})}));return X}function C(W){var aa=
W.configLayer,P=W.from,L=W.to,Q=W.checkRenderer,X=new f,Y=aa.url.replace(P,L),da=aa.url;if(da===Y){var ha={url:Y,origUrl:da,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"};Q&&aa.pointSymbol?K(aa,aa.pointSymbol).then(function(ma){ha.symbols=[ma];X.resolve(ha)}):X.resolve(ha);return X}W=new n(Y);p.connect(W,"onLoad",J.hitch(this,function(){aa.url=Y;var ma={url:Y,origUrl:da,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};Q&&aa.pointSymbol?
K(aa,aa.pointSymbol).then(function(na){ma.symbols=[na];X.resolve(ma)}):X.resolve(ma)}));p.connect(W,"onError",J.hitch(this,function(ma){X.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:ma.message,code:"layer_010",type:"layer"})}));return X}function A(W){var aa=W.configLayer,P=W.from,L=W.to,Q=new f,X=aa.url.replace(P,L),Y=aa.url;if(Y===X)return Q.resolve({url:X,origUrl:Y,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),Q;P=X;L=arcgisonline.sharing.util.getUser();
var da=esriGeowConfig.self.urlKey?esriGeowConfig.self.customBaseUrl:esriGeowConfig.self.portalHostname,ha=P.indexOf(da);L&&aa.itemId&&-1<ha&&(P="https://"+esriGeowConfig.self.portalHostname+P.substring(ha+da.length));L&&(-1<P.indexOf(esriGeowConfig.self.portalHostname)||-1<P.indexOf(da))&&(L=arcgisonline.sharing.util.getToken())&&(P+="?token\x3d"+L);P=new x(P);p.connect(P,"onLoad",J.hitch(this,function(){aa.url=X;var ma={url:X,origUrl:Y,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",
type:"layer"};aa.itemId?(W.checkRenderer=!1,Z(W,ma).then(function(na){Q.resolve(na)})):Q.resolve(ma)}));p.connect(P,"onError",J.hitch(this,function(ma){Q.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:ma.message,code:"layer_010",type:"layer"})}));return Q}function E(W){var aa=W.configLayer,P=W.from;W=W.to;var L=new f,Q={};aa.wmtsInfo.customParameters&&(Q.customParameters=aa.wmtsInfo.customParameters);aa.wmtsInfo.customLayerParameters&&(Q.customLayerParameters=aa.wmtsInfo.customLayerParameters);
var X=aa.wmtsInfo.url.replace(P,W),Y=aa.wmtsInfo.url;if(Y===X)return L.resolve({url:X,origUrl:Y,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),L;var da=function(){var na=!1;T.forEach(layerObj.layers,function(sa){sa.identifier===aa.wmtsInfo.layerIdentifier&&T.forEach(sa.tileMatrixSetInfos,function(wa){if(wa.tileMatrixSet===aa.wmtsInfo.tileMatrixSet){na=!0;layerObj.copyright&&"none"!==layerObj.copyright.toLowerCase()&&(aa.copyright=layerObj.copyright,180<layerObj.copyright.length&&
(aa.copyright=layerObj.copyright.substring(0,180)+"..."));var ya=-1<T.indexOf(sa.formats,"image/png")?"image/png":sa.formats[0];aa.templateUrl=layerObj.getTileUrlTemplate({identifier:sa.identifier,tileMatrixSet:wa.tileMatrixSet,format:ya});-1<aa.templateUrl.indexOf("http://")&&S(X,aa.templateUrl)&&(aa.templateUrl=aa.templateUrl.replace("http://","https://"));-1<aa.templateUrl.indexOf("http://")?L.reject({url:aa.wmtsInfo.url,origUrl:aa.wmtsInfo.url,layerId:aa.id,msg:"WTMS does not return https URLs.",
code:"layer_013",type:"layer"}):(aa.wmtsInfo.url=X,L.resolve({url:X,origUrl:Y,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))}})});na||L.reject({url:aa.wmtsInfo.url,origUrl:aa.wmtsInfo.url,layerId:aa.id,msg:"WMTS is missing layer or tileMatrixSet.",code:"wmts_011",type:"layer"})};layerObj=new a(X,Q);var ha=p.connect(layerObj,"onError",function(na){p.disconnect(ha);p.disconnect(ma);Q.serviceMode="KVP";layerObj=new a(X,Q);p.connect(layerObj,"onError",function(sa){L.reject({url:aa.wmtsInfo.url,
origUrl:aa.wmtsInfo.url,layerId:aa.id,msg:sa.message,code:"layer_010",type:"layer"})});p.connect(layerObj,"onLoad",J.hitch(this,function(){da()}))}),ma=p.connect(layerObj,"onLoad",J.hitch(this,function(){p.disconnect(ha);p.disconnect(ma);da()}));return L}function F(W){var aa=W.configLayer,P=W.from;W=W.to;var L=new f,Q=aa.templateUrl.replace(P,W),X=aa.templateUrl;if(X===Q)return L.resolve({url:Q,origUrl:X,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),L;var Y=setTimeout(J.hitch(this,
function(){clearTimeout(Y);Y=null;L.reject({url:aa.templateUrl,origUrl:aa.templateUrl,layerId:aa.id,msg:"WebTiledLayer timeout error.",code:"WTL_012",type:"layer"})}),1E4);P=Q;aa.subDomains&&aa.subDomains.length&&(P=P.replace("{subDomain}",aa.subDomains[0]));P=P.replace("{level}",0).replace("{row}",0).replace("{col}",0);l({url:P,load:function(da,ha){Y&&(clearTimeout(Y),aa.templateUrl=Q,L.resolve({url:Q,origUrl:X,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))},error:function(da){Y&&
(clearTimeout(Y),L.reject({url:aa.templateUrl,origUrl:aa.templateUrl,layerId:aa.id,msg:"WebTiledLayer access error.",code:"WTL_011",type:"layer"}))}});return L}function w(W){var aa=W.config.spatialReference,P=W.configLayer,L=W.from,Q=W.to,X=W.checkRenderer,Y=new f,da=P.url.replace(L,Q),ha=P.url;if(ha===da)return W={url:da,origUrl:ha,layerId:P.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},X?M(P,W).then(function(sa){Y.resolve(sa)}):Y.resolve(W),Y;var ma=new d;p.connect(ma,"onError",
J.hitch(this,function(sa){Y.reject({url:P.url,origUrl:P.url,layerId:P.id,msg:sa.message,code:"layer_010",type:"layer"})}));var na={url:da,version:P.wfsInfo.version,customParameters:P.wfsInfo.customParameters};ma.initialize(na,function(sa){for(var wa,ya=0;ya<sa.length;ya++)if(sa[ya].name===P.wfsInfo.name){wa=sa[ya];break}wa?(na={layerName:P.wfsInfo.name,visible:P.defaultVisibility,maxFeatures:P.wfsInfo.maxFeatures?P.wfsInfo.maxFeatures:3E3,swapXY:P.wfsInfo.swapXY,geometryType:P.layerDefinition?P.layerDefinition.geometryType:
null,wkid:P.layerDefinition?P.layerDefinition.spatialReference.wkid:P.wfsInfo.supportedSpatialReferences?P.wfsInfo.supportedSpatialReferences[0]:4326,mode:"snapshot"},ma.selectLayer(na,function(Aa){P.wfsInfo.wfsNamespace=ma.layerNamespace;P.wfsInfo.featureUrl=ma.getFeatureUrl;-1<P.wfsInfo.wfsNamespace.indexOf("http://")||-1<P.wfsInfo.featureUrl.indexOf("http://")?Y.reject({url:P.url,origUrl:P.url,layerId:P.id,msg:"WFS does not return https URLs.",code:"WFS_012",type:"layer"}):(P.wfsInfo.supportedSpatialReferences=
wa.spatialReferences,-1===T.indexOf([3857,102100],aa.wkid)&&4326!==aa.wkid&&-1===T.indexOf(ma.spatialReferences,aa.wkid)?Y.reject({url:P.url,origUrl:P.url,layerId:P.id,msg:"WFS does not contain map spatial reference.",code:"WFS_013",type:"layer"}):(P.url=da,Aa={url:da,origUrl:ha,layerId:P.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"},X?M(P,Aa).then(function(Ba){Y.resolve(Ba)}):Y.resolve(Aa)))})):Y.reject({url:P.url,origUrl:P.url,layerId:P.id,msg:"WFS does not contain layer.",
code:"WFS_011",type:"layer"})});return Y}function D(W){var aa=W.configLayer,P=W.from;W=W.to;var L=new f,Q=aa.url.replace(P,W),X=aa.url;if(X===Q)return L.resolve({url:Q,origUrl:X,layerId:aa.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),L;var Y=new e(Q,{visibleLayers:aa.visibleLayers,customLayerParameters:aa.customLayerParameters,customParameters:aa.customParameters});p.connect(Y,"onLoad",J.hitch(this,function(){-1<Y.getMapURL.indexOf("http://")&&S(Q,Y.getMapURL)&&(Y.getMapURL=
Y.getMapURL.replace("http://","https://"));-1<Y.getFeatureInfoURL.indexOf("http://")&&S(Q,Y.getFeatureInfoURL)&&(Y.getFeatureInfoURL=Y.getFeatureInfoURL.replace("http://","https://"));-1<Y.copyright.indexOf("http://")&&S(Q,Y.copyright)&&(Y.copyright=Y.copyright.replace("http://","https://"));if(-1<Y.getMapURL.indexOf("http://")||-1<Y.getFeatureInfoURL.indexOf("http://"))L.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:"WMS does not return https URLs.",code:"WMS_011",type:"layer"});else if(-1<
Y.getMapURL.indexOf("https://localhost/")||-1<Y.getFeatureInfoURL.indexOf("https://localhost/"))L.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:"WMS does not return valid https URLs.",code:"WMS_012",type:"layer"});else{for(var da=[],ha=0;ha<aa.layers.length;ha++){var ma=J.clone(aa.layers[ha]),na=function(Aa,Ba){T.forEach(Aa,function(Oa){Oa.subLayers&&0<Oa.subLayers.length?na(Oa.subLayers,Ba):Ba.push(Oa)},this)};if(Y.layerInfos){var sa=[];na(Y.layerInfos,sa);Y.layerInfos=sa}sa=!1;for(var wa=
0;wa<Y.layerInfos.length;wa++){var ya=Y.layerInfos[wa];if(ma.name===ya.name)if(sa=!0,ma.legendURL&&ya.legendURL){if(ma.legendURL=ya.legendURL,-1<ma.legendURL.indexOf("http://")&&S(Q,ma.legendURL)&&(ma.legendURL=ma.legendURL.replace("http://","https://")),-1<ma.legendURL.indexOf("http://")){L.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:"WMS does not return https URLs.",code:"WMS_011",type:"layer"});return}}else ma.legendURL=ya.legendURL}if(!sa){L.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,
msg:"WMS layer is missing.",code:"WMS_013",type:"layer"});return}da.push(ma)}aa.url=Q;aa.mapUrl=Y.getMapURL;aa.featureInfoUrl=Y.getFeatureInfoURL;aa.copyright=Y.copyright;aa.layers=da;L.resolve({url:Q,origUrl:X,layerId:aa.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"})}}));p.connect(Y,"onError",J.hitch(this,function(da){L.reject({url:aa.url,origUrl:aa.url,layerId:aa.id,msg:da.message,code:"layer_010",type:"layer"})}));return L}function G(W,aa,P){var L=new f,Q=[];W.layers&&T.forEach(W.layers,
function(Y,da){if(Y.layerUrl){var ha=new f;k({configLayer:{url:Y.layerUrl,id:W.id+"_"+da},from:aa.from,to:aa.to,checkRenderer:!1}).then(J.hitch(this,function(ma,na){ma.layerUrl=na.url;ha.resolve(na)},Y),function(ma){ha.resolve(ma)});Q.push(ha)}});if(Q.length){var X=[];(new g(Q)).addCallback(function(Y){T.forEach(Y,function(da){X.push(da[1])});P.queryLayers=X;L.resolve(P)})}else L.resolve(P);return L}function H(W,aa,P,L){var Q=new f,X=[];P.layers&&T.forEach(P.layers,function(da,ha){if(da.layerUrl){var ma=
new f;k({configLayer:{url:da.layerUrl,id:W.id+"_item_"+ha},from:aa.from,to:aa.to,checkRenderer:!1}).then(J.hitch(this,function(na){da.layerUrl=na.url;ma.resolve(na)}),function(na){ma.resolve(na)});X.push(ma)}});if(X.length){var Y=[];(new g(X)).addCallback(function(da){T.forEach(da,function(ha){Y.push(ha[1])});L.item.queryLayers=Y;Q.resolve(L)})}else Q.resolve(L);return Q}function M(W,aa){var P=new f,L=[];if(W.layerDefinition&&W.layerDefinition.drawingInfo&&W.layerDefinition.drawingInfo.renderer){var Q=
new f;N(W,W.layerDefinition.drawingInfo.renderer).then(J.hitch(this,function(Y,da){Y.layerDefinition.drawingInfo.renderer=da.renderer;Q.resolve(da)},W),function(Y){Q.resolve(Y)});L.push(Q)}W.layers&&T.forEach(W.layers,function(Y){if(Y.layerDefinition&&Y.layerDefinition.drawingInfo&&Y.layerDefinition.drawingInfo.renderer){var da=new f;N(W,Y.layerDefinition.drawingInfo.renderer).then(J.hitch(this,function(ha,ma){ha.layerDefinition.drawingInfo.renderer=ma.renderer;da.resolve(ma)},Y),function(ha){da.resolve(ha)});
L.push(da)}});if(L.length){var X=[];(new g(L)).addCallback(function(Y){T.forEach(Y,function(da){X.push(da[1])});aa.renderers=X;P.resolve(aa)})}else P.resolve(aa);return P}function R(W,aa,P){var L=new f,Q=[];aa.layers&&T.forEach(aa.layers,function(Y){if(Y.layerDefinition&&Y.layerDefinition.drawingInfo&&Y.layerDefinition.drawingInfo.renderer){var da=new f;N(W,Y.layerDefinition.drawingInfo.renderer).then(J.hitch(this,function(ha){Y.layerDefinition.drawingInfo.renderer=ha.renderer;da.resolve(ha)}),function(ha){da.resolve(ha)});
Q.push(da)}});if(Q.length){var X=[];(new g(Q)).addCallback(function(Y){T.forEach(Y,function(da){X.push(da[1])});P.item.renderers=X;L.resolve(P)})}else L.resolve(P);return L}function N(W,aa){for(var P=new f,L=[],Q=m.stringify(aa),X=Q.indexOf("http://");-1<X;){var Y=Q.indexOf('"',X+1);Y=Q.substring(X,Y);L.push(V(W,Y));X=Q.indexOf("http://",X+1)}L.length?(new g(L)).addCallback(function(da){var ha=[];T.forEach(da,function(ma){var na=ma[1];ha.push(na);!0===ma[0]&&(Q=Q.replace(na.origUrl,na.url))});P.resolve({renderer:m.parse(Q),
origRenderer:aa,layerId:W.id,type:"renderer",symbols:ha})}):P.resolve({renderer:aa,origRenderer:aa,layerId:W.id,type:"renderer",symbols:[]});return P}function K(W,aa){var P=new f;aa?aa.url?V(W,aa.url).then(function(L){aa.url=L.url;P.resolve(L)},function(L){P.resolve(L)}):P.resolve({url:"",origUrl:"",layerId:W.id,msg:"Symbol has no URL.",code:"sym_003",type:"symbol"}):P.resolve({url:"",origUrl:"",layerId:W.id,msg:"No symbol.",code:"sym_005",type:"symbol"});return P}function V(W,aa){var P=new f,L=aa;
if(aa.startsWith("https://"))return P.resolve({url:aa,origUrl:L,layerId:W.id,msg:"symbol URL already https",code:"sym_002",type:"symbol"}),P;if(aa.startsWith("http://")){if(aa=aa.replace("http://","https://"),-1<aa.indexOf(esriGeowConfig.self.portalHostname))return P.resolve({url:aa,origUrl:L,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"}),P}else return P.resolve({url:aa,origUrl:L,layerId:W.id,msg:"symbol URL is relative path",code:"sym_004",type:"symbol"}),P;this.cachedImages=
this.cachedImages||[];for(var Q,X=0;X<this.cachedImages.length;X++)if(this.cachedImages[X].url===aa){Q=this.cachedImages[X];if("success"===Q.status)P.resolve({url:aa,origUrl:L,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"});else if("error"===Q.status)P.reject({url:L,origUrl:L,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"});else if("inProgress"===Q.status)var Y=setInterval(J.hitch(this,function(na){"success"===na.status?(clearInterval(Y),
P.resolve({url:aa,origUrl:L,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})):"error"===na.status&&(clearInterval(Y),P.reject({url:L,origUrl:L,layerId:W.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"}))},Q),1E3);return P}Q||(Q={url:aa,status:"inProgress"},this.cachedImages.push(Q));y.byId("imageTesterDiv")||t.create("div",{id:"imageTesterDiv",style:"position:absolute;top:-1000px;left:-1000px"},document.body);var da=Math.random()+"_testImage";
t.create("img",{id:da+"_testImage"},y.byId("imageTesterDiv"));var ha=p.connect(y.byId(da+"_testImage"),"onload",J.hitch(this,function(){p.disconnect(ha);clearTimeout(ma);t.destroy(da+"_testImage");Q.status="success";P.resolve({url:aa,origUrl:L,layerId:W.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})})),ma=setTimeout(J.hitch(this,function(){p.disconnect(ha);t.destroy(da+"_testImage");clearTimeout(ma);Q.status="error";P.reject({url:L,origUrl:L,layerId:W.id,msg:"symbol URL can't be switched to https",
code:"sym_010",type:"symbol"})}),5E3);y.byId(da+"_testImage").src=aa;return P}function Z(W,aa){var P=W.configLayer,L=W.from,Q=W.to,X=W.checkedItemsList,Y=new f;if(P.itemId&&!aa.item)if(X[P.itemId])if("inProgress"===X[P.itemId].status)var da=setInterval(J.hitch(this,function(ha,ma){"inProgress"!==X[ha.itemId].status&&(clearInterval(da),ma.itemAccess=X[ha.itemId].refObj.itemAccess,ma.item=X[ha.itemId].refObj.item,Y.resolve(ma))},P,aa),1E3);else aa.itemAccess=X[P.itemId].refObj.itemAccess,aa.item=X[P.itemId].refObj.item,
Y.resolve(aa);else X[P.itemId]={status:"inProgress",refObj:aa},ea(P.itemId).then(function(ha){aa.itemAccess=!0;var ma={};if(ha&&ha.url){aa.item={url:ha.url,origUrl:ha.url,type:"layer"};if(O(aa.origUrl,ha.url)&&!O(aa.origUrl,aa.url))J.mixin(aa.item,{url:aa.url,msg:aa.msg,code:aa.code}),ma.url=ha.url.replace(L,Q);else if(O(aa.origUrl,ha.url)&&O(aa.origUrl,aa.url))J.mixin(aa.item,{msg:aa.msg,code:aa.code});else if(O(aa.url,ha.url))J.mixin(aa.item,{msg:"Layer URL is already "+Q+".",code:"layer_002"});
else if(!O(aa.origUrl,ha.url)&&!O(aa.url,ha.url))if(-1<T.indexOf("CSV GeoRSS KML WebTiledLayer WFS WMS".split(" "),P.layerType||P.type))X[P.itemId].status="done",Y.resolve(aa);else{var na=J.clone(P);delete na.itemId;P.url?na.url=ha.url:P.styleUrl&&(na.styleUrl=ha.url);var sa=J.clone(W);sa.configLayer=na;c(sa).then(function(wa){ma.url=wa.url;aa.item=wa;ca(W,ha,aa,ma).then(function(ya){X[P.itemId].status="done";Y.resolve(ya)})},function(wa){aa.item=wa;ca(W,ha,aa,ma).then(function(ya){X[P.itemId].status=
"done";Y.resolve(ya)})});return}ca(W,ha,aa,ma).then(function(wa){X[P.itemId].status="done";Y.resolve(wa)})}else ha?(aa.item={url:"",origUrl:"",type:"layer"},ca(W,ha,aa,ma).then(function(wa){X[P.itemId].status="done";Y.resolve(wa)})):(aa.itemAccess=!1,X[P.itemId].status="done",Y.resolve(aa))},function(ha){aa.itemAccess=!1;X[P.itemId].status="done";Y.resolve(aa)});else Y.resolve(aa);return Y}function ca(W,aa,P,L){var Q=W.configLayer,X=W.checkRenderer,Y=new f;ka(aa.id).then(function(da){if(da&&"Feature Collection"===
aa.type)if(X&&da.layers){var ha=J.clone(Q);delete ha.itemId;ha.featureCollection={layers:da.layers};r({configLayer:ha,from:"http://",to:"https://",checkRenderer:X,type:null}).then(function(na){J.mixin(P.item,na);L.text=m.stringify(da);la(aa,L).then(function(sa){Y.resolve(P)},function(){J.mixin(P.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(P)})},function(na){Y.resolve(P)})}else Y.resolve(P);else if(da&&da.layers){var ma=!1;H(Q,W,da,P).then(function(na){na.item.queryLayers&&T.forEach(na.item.queryLayers,
function(sa){sa.url!==sa.origUrl&&(ma=!0)});X?R(Q,da,na).then(function(sa){sa.item.renderers&&!ma?T.forEach(sa.item.renderers,function(wa){wa.renderer!==wa.origRenderer&&(ma=!0)}):sa.item.symbols&&!ma&&T.forEach(sa.item.symbols,function(wa){wa.url!==wa.origUrl&&(ma=!0)});ma&&(L.text=m.stringify(da));la(aa,L).then(function(wa){Y.resolve(sa)},function(){J.mixin(sa.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(sa)})}):(ma&&(L.text=m.stringify(da)),la(aa,L).then(function(sa){Y.resolve(na)},
function(){J.mixin(na.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(na)}))})}else la(aa,L).then(function(na){Y.resolve(P)},function(){J.mixin(P.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(P)})},function(){la(aa,L).then(function(da){Y.resolve(P)},function(){J.mixin(P.item,{msg:"Item update failure.",code:"layer_020"});Y.resolve(P)})});return Y}function ea(W){var aa=new f;l({url:esriGeowConfig.restBaseUrl+"content/items/"+W,content:{f:"json"},callbackParamName:"callback",
load:function(P,L){"update"===P.itemControl||"admin"===P.itemControl?aa.resolve(P):aa.reject(Error("No write access"))},error:function(P){aa.reject(P)}});return aa}function ka(W){var aa=new f;l({url:esriGeowConfig.restBaseUrl+"content/items/"+W+"/data",content:{f:"json"},callbackParamName:"callback",load:function(P,L){P&&delete P._ssl;ba();aa.resolve(P)},error:function(P){aa.reject()}});return aa}function la(W,aa){var P=new f;if(arcgisonline.isEmpty(aa))P.resolve({});else{ba();var L=esriGeowConfig.restBaseUrl+
"content/users/"+W.owner;L+=W.ownerFolder?"/"+W.ownerFolder:"";L+="/items/"+W.id+"/update";if("noSave"===ba())P.resolve({});else{var Q={usePost:!0};"http:"===window.location.protocol&&-1<L.indexOf("https://")&&(Q.useProxy=!0);l({url:L,content:dojo.mixin(aa,{f:"json"}),callbackParamName:"callback",load:function(X,Y){P.resolve(X)},error:function(X){P.reject(X)}},Q)}}return P}function ta(){var W=new f,aa=[];esriGeowConfig.self.isPortal?l({url:esriGeowConfig.restBaseUrl+"portals/self/servers",content:{f:"json"},
callbackParamName:"callback",load:function(P,L){P.servers&&(arcgisonline.sharing.util.setFederatedServers(P.servers||[]),dojo.forEach(P.servers,function(Q){Q.url&&aa.push(Q.url.substring(Q.url.indexOf("//")))}));W.resolve(aa)},error:function(P){W.resolve(aa)}}):W.resolve(aa);return W}function za(W,aa){var P,L;for(P=0;P<W.operationalLayers.length;P++){if(W.operationalLayers[P].id===aa)return W.operationalLayers[P];if("GroupLayer"===W.operationalLayers[P].layerType){var Q=W.operationalLayers[P].layers;
for(L=0;L<Q.length;L++)if(Q[L].id===aa)return Q[L]}}if(W.baseMap.baseMapLayers)for(P=0;P<W.baseMap.baseMapLayers.length;P++){if(W.baseMap.baseMapLayers[P].id===aa)return W.baseMap.baseMapLayers[P];if("GroupLayer"===W.baseMap.baseMapLayers[P].layerType)for(Q=W.baseMap.baseMapLayers[P].layers,L=0;L<Q.length;L++)if(Q[L].id===aa)return Q[L]}if(W.baseMap.elevationLayers)for(P=0;P<W.baseMap.elevationLayers.length;P++)if(W.baseMap.elevationLayers[P].id===aa)return W.baseMap.elevationLayers[P];if(W.ground&&
W.ground.layers)for(P=0;P<W.ground.layers.length;P++)if(W.ground.layers[P].id===aa)return W.ground.layers[P];if(W.tables)for(P=0;P<W.tables.length;P++)if(W.tables[P].id===aa)return W.tables[P];if(W.presentation&&W.presentation.slides)for(L=0;L<W.presentation.slides.length;L++){var X=W.presentation.slides[L];if(X.baseMap&&X.baseMap.baseMapLayers)for(P=0;P<X.baseMap.baseMapLayers.length;P++){if(X.baseMap.baseMapLayers[P].id===aa)return X.baseMap.baseMapLayers[P];if("GroupLayer"===X.baseMap.baseMapLayers[P].layerType)for(Q=
X.baseMap.baseMapLayers[P].layers,L=0;L<Q.length;L++)if(Q[L].id===aa)return Q[L]}}}function ia(W,aa){switch(W.layerType||W.type){case "ArcGISFeatureLayer":case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":case void 0:return!W.url||-1<W.url.indexOf("://services")&&
(-1<W.url.indexOf(".arcgis.com")||-1<W.url.indexOf(".arcgisonline.com"))||(-1<W.url.indexOf("://tiles")||-1<W.url.indexOf("://utility"))&&-1<W.url.indexOf(".arcgis.com")?null:ja(W.url);case "VectorTileLayer":return!W.styleUrl||-1<W.styleUrl.indexOf(esriGeowConfig.self.portalHostname)||-1<W.styleUrl.indexOf(esriGeowConfig.self.customBaseUrl)||-1<W.styleUrl.indexOf("/items/")||-1<W.styleUrl.indexOf("://tiles")&&-1<W.url.indexOf(".arcgis.com")?null:ja(W.styleUrl);case "CSV":case "GeoRSS":case "KML":case "WebTiledLayer":case "WFS":case "WMS":case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":case "OpenStreetMap":return null;
default:return"table"===aa?-1<W.url.indexOf(".arcgis.com")||-1<W.url.indexOf(".arcgisonline.com")?null:ja(W.url):null}}function U(W){var aa=[];T.forEach(W.operationalLayers,function(P){"GroupLayer"===P.layerType?T.forEach(P.layers,function(L){aa.push({layer:L,type:"operationalLayers.groupLayer"})}):aa.push({layer:P,type:"operationalLayers"})});W.baseMap&&(T.forEach(W.baseMap.baseMapLayers,function(P){"GroupLayer"===P.layerType?T.forEach(P.layers,function(L){aa.push({layer:L,type:"baseMapLayers.groupLayer"})}):
(P.title=P.title||W.baseMap.title,aa.push({layer:P,type:"baseMapLayers"}))}),T.forEach(W.baseMap.elevationLayers,function(P){P.title=P.title||W.baseMap.title;aa.push({layer:P,type:"elevationLayers"})}));W.ground&&T.forEach(W.ground.layers,function(P){P.title=P.title||W.baseMap.title;aa.push({layer:P,type:"ground"})});T.forEach(W.tables,function(P){aa.push({layer:P,type:"tables"})});W.presentation&&W.presentation.slides&&T.forEach(W.presentation.slides,function(P){P.baseMap&&P.baseMap.baseMapLayers&&
T.forEach(P.baseMap.baseMapLayers,function(L){"GroupLayer"===L.layerType?T.forEach(L.layers,function(Q){aa.push({layer:Q,type:"slides.baseMapLayers.groupLayer"})}):(L.title=L.title||P.baseMap.title,aa.push({layer:L,type:"slides.baseMapLayers"}))})});return aa}function ja(W){W=I(W);var aa=W.protocol+"://"+W.domain;W.port&&(aa+=":"+W.port);return aa+="/"+W.instance}function S(W,aa){var P=I(W),L=I(aa);return P.domain===L.domain?!0:!1}function O(W,aa){if(W&&aa){var P=W.toLowerCase().indexOf("/featureserver/");
-1<P&&(W=W.substring(0,P+14));P=aa.toLowerCase().indexOf("/featureserver/");-1<P&&(aa=aa.substring(0,P+14));P=W.toLowerCase().indexOf("/mapserver/");-1<P&&(W=W.substring(0,P+10));P=aa.toLowerCase().indexOf("/mapserver/");-1<P&&(aa=aa.substring(0,P+10));P=W.toLowerCase().indexOf("/sceneserver/");-1<P&&(W=W.substring(0,P+12));P=aa.toLowerCase().indexOf("/sceneserver/");-1<P&&(aa=aa.substring(0,P+12));if(W===aa)return!0}return!1}function I(W){var aa={};if(!W||!W.length)return aa;var P=W.indexOf("://");
aa.protocol=W.substr(0,P);W=W.substr(P+3,W.length);P=W.indexOf("/");P=-1===P?W.length-1:P;aa.domain=W.substr(0,P);-1<aa.domain.indexOf(":")&&(aa.port=aa.domain.substr(aa.domain.indexOf(":")+1),aa.domain=aa.domain.substr(0,aa.domain.indexOf(":")));aa.path=-1===P||P+1===W.length?null:W.substr(P+1,W.length);aa.instance=aa.path.split("/")[0];W=aa.domain.split(".");switch(W.length){case 2:aa.subdomain=null;aa.host=W[0];aa.tld=W[1];break;case 3:aa.subdomain=W[0];aa.host=W[1];aa.tld=W[2];break;case 4:aa.subdomain=
W[0],aa.host=W[1],aa.tld=W[2]+"."+W[3]}aa.host&&aa.tld&&(aa.parentDomain=aa.host+"."+aa.tld);return aa}function ba(){var W=arcgisonline.sharing.util.urlToObject(document.URL);W.query=W.query||{};return W.query.debug}return{getUniqueDomains:function(W){var aa,P,L=[],Q=[],X=new f,Y=function(ma,na,sa,wa,ya){if(!(ma.url&&-1<ma.url.indexOf(esriGeowConfig.self.portalHostname)||ma.styleUrl&&-1<ma.styleUrl.indexOf(esriGeowConfig.self.portalHostname))){var Aa=!1;T.forEach(wa,function(Ba){if(ma.url&&-1<ma.url.indexOf(Ba)||
ma.styleUrl&&-1<ma.styleUrl.indexOf(Ba))Aa=!0});!Aa&&(aa=ia(ma,ya))&&(-1<na.indexOf(aa)?(P=na.indexOf(aa),sa[P].layers.push({id:ma.id,title:ma.title})):(na.push(aa),sa.push({domain:aa,layers:[{id:ma.id,title:ma.title}]})))}},da=function(ma,na){return ma.title.toLowerCase()<na.title.toLowerCase()?-1:1},ha=function(ma,na){ma.layers=ma.layers.sort(da);na.layers=na.layers.sort(da);return ma.domain.toLowerCase()<na.domain.toLowerCase()?-1:1};ta().then(function(ma){var na=U(W);T.forEach(na,function(sa){Y(sa.layer,
L,Q,ma,"tables"===sa.type?"table":null)});Q=Q.sort(ha);X.resolve(Q)});return X},switchToHTTPS:function(W,aa){ba();var P=new f,L=J.clone(W),Q={from:"http://",to:"https://",checkRenderer:!0,type:null,checkedItemsList:{}},X=[],Y=[],da=U(W);T.forEach(da,function(ha){var ma={config:W,configLayer:ha.layer};"tables"===ha.type&&(ma.type="table");J.mixin(ma,Q);Y.push(ha.layer.id);X.push(c(ma))});X.length?(new g(X)).addCallback(function(ha){var ma=[];T.forEach(ha,function(na){ba();na=na[1];if("notTested"!==
na.type){var sa=za(W,na.layerId),wa={id:na.layerId,title:sa.title};-1<T.indexOf(["layer_001"],na.code)?wa.layerUrlChange="success":-1<T.indexOf(["layer_002","layer_003"],na.code)?wa.layerUrlChange="none":wa.layerUrlChange="failure";na.queryLayers&&(wa.layerQueryUrlChanged=!1,wa.layerQueryUrlFailures=!1,T.forEach(na.queryLayers,function(ya){-1<T.indexOf(["layer_001"],ya.code)?wa.layerQueryUrlChanged=!0:-1<T.indexOf(["layer_002","layer_003"],ya.code)||(wa.layerQueryUrlFailures=!0)}));if(na.renderers||
na.symbols)wa.layerRenderingChanged=!1,wa.layerRenderingFailures=!1,T.forEach(na.renderers,function(ya){T.forEach(ya.symbols,function(Aa){-1<T.indexOf(["sym_010"],Aa.code)&&(wa.layerRenderingFailures=!0);-1<T.indexOf(["sym_001"],Aa.code)&&(wa.layerRenderingChanged=!0)})}),T.forEach(na.symbols,function(ya){-1<T.indexOf(["sym_010"],ya.code)&&(wa.layerRenderingFailures=!0);-1<T.indexOf(["sym_001"],ya.code)&&(wa.layerRenderingChanged=!0)});sa.itemId&&(wa.itemAccess=na.itemAccess)&&(-1<T.indexOf(["layer_001"],
na.item.code)?wa.itemUrlChange="success":-1<T.indexOf(["layer_020"],na.item.code)?(wa.itemUrlChange="success",wa.itemAccess=!1):-1<T.indexOf(["layer_002","layer_003"],na.item.code)?wa.itemUrlChange="none":wa.itemUrlChange="failure",na.item.queryLayers&&(wa.itemQueryUrlChanged=!1,wa.itemQueryUrlFailures=!1,T.forEach(na.item.queryLayers,function(ya){-1<T.indexOf(["layer_001"],ya.code)?wa.itemQueryUrlChanged=!0:-1<T.indexOf(["layer_002","layer_003"],ya.code)||(wa.itemQueryUrlFailures=!0)})),na.item.renderers||
na.item.symbols)&&(wa.itemRenderingChanged=!1,wa.itemRenderingFailures=!1,T.forEach(na.item.renderers,function(ya){T.forEach(ya.symbols,function(Aa){-1<T.indexOf(["sym_010"],Aa.code)&&(wa.itemRenderingFailures=!0);-1<T.indexOf(["sym_001"],Aa.code)&&(wa.itemRenderingChanged=!0)})}),T.forEach(na.item.symbols,function(ya){-1<T.indexOf(["sym_010"],ya.code)&&(wa.itemRenderingFailures=!0);-1<T.indexOf(["sym_001"],ya.code)&&(wa.itemRenderingChanged=!0)}));ma.push(wa)}});W.presentation&&W.presentation.slides&&
T.forEach(W.presentation.slides,function(na){na.baseMap&&na.baseMap.baseMapLayers&&T.forEach(na.baseMap.baseMapLayers,function(sa,wa){if(-1<T.indexOf(Y,sa.id)){var ya=za(W,sa.id);na.baseMap.baseMapLayers[wa]=ya}})});ba();ha=m.stringify(L)===m.stringify(W);ba();ha||"noSave"===ba()?P.resolve({layers:ma,configChange:"none"}):b(W,aa).then(function(){P.resolve({layers:ma,configChange:"success"})},function(na){P.resolve({layers:ma,configChange:"failure"})})}):P.resolve({layers:[]});return P},switchDomain:function(W,
aa,P,L){var Q=new f,X=[];if(!(W&&aa&&P&&L))return Q.resolve({layers:[]}),Q;var Y=J.clone(W),da={from:P,to:L,type:null,checkedItemsList:{}};P=U(W);T.forEach(P,function(ha){var ma={configLayer:ha.layer};"tables"===ha.type&&(ma.type="table");J.mixin(ma,da);ia(ma.configLayer,ma.type)===ma.from&&X.push(c(ma))});X.length?(new g(X)).addCallback(function(ha){var ma=[];T.forEach(ha,function(na){ba();na=na[1];var sa=za(W,na.layerId),wa={id:na.layerId,title:sa.title};-1<T.indexOf(["layer_001"],na.code)?wa.layerUrlChange=
"success":-1<T.indexOf(["layer_002","layer_003"],na.code)?wa.layerUrlChange="none":wa.layerUrlChange="failure";sa.itemId&&(wa.itemAccess=na.itemAccess)&&(-1<T.indexOf(["layer_001"],na.item.code)?wa.itemUrlChange="success":-1<T.indexOf(["layer_020"],na.item.code)?(wa.itemUrlChange="success",wa.itemAccess=!1):-1<T.indexOf(["layer_002","layer_003"],na.item.code)?wa.itemUrlChange="none":wa.itemUrlChange="failure");ma.push(wa)});ba();ha=m.stringify(Y)===m.stringify(W);ba();ha||"noSave"===ba()?Q.resolve({layers:ma,
configChange:"none"}):b(W,aa).then(function(){Q.resolve({layers:ma,configChange:"success"})},function(na){Q.resolve({layers:ma,configChange:"failure"})})}):Q.resolve({layers:[]});return Q}}})},"esri/layers/VectorTileLayer":function(){(function(){var T=function(){try{var p=window.WebGLRenderingContext}catch(l){p=!1}try{for(var y=document.createElement("canvas"),t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],m=null,f=0;f<t.length;++f){try{m=y.getContext(t[f])}catch(l){}if(m)break}var g=m}catch(l){g=
!1}return p&&g?!0:!1}(),J=["dojo/_base/lang","dojo/has","dojo/Deferred","../sniff","./layer"];T&&J.push("./VectorTileLayerImpl");define(J,function(p,y,t,m,f,g){y=g?g:f.createSubclass({declaredClass:"esri.layers.VectorTileLayer",constructor:function(){var l=new t;l.reject(Error("esri.layers.VectorTileLayer is not supported"));l.promise.otherwise(p.hitch(this,function(u){this._errorHandler(u)}))}});y.ACCESS_TOKEN=null;y.supported=function(){return T};p.setObject("layers.VectorTileLayer",y,m);return y})})()},
"esri/layers/CSVLayer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../arcgis/csv ./FeatureLayer ../geometry/Extent ../tasks/FeatureSet".split(" "),function(T,J,p,y,t,m,f,g,l){J=J(f,{declaredClass:"esri.layers.CSVLayer",_preventInit:!0,_fieldTypeMap:{Date:"esriFieldTypeDate",Number:"esriFieldTypeDouble",String:"esriFieldTypeString"},constructor:function(u,q){this.url=u;q=p.mixin({},q);this.columnDelimiter=q.columnDelimiter;this.latitudeFieldName=q.latitudeFieldName;
this.longitudeFieldName=q.longitudeFieldName;var z=q.layerDefinition;z||(z={fields:q.fields||[],geometryType:"esriGeometryPoint",copyrightText:q.copyright},q.fields&&T.forEach(q.fields,function(x){x.type=this._fieldTypeMap[x.type||"String"];x.alias||(x.alias=x.name)},this));this._buildCsvFcParam={url:this.url,columnDelimiter:this.columnDelimiter,layerDefinition:z,outFields:q.outFields};this.latitudeFieldName&&this.longitudeFieldName&&(this._buildCsvFcParam.locationInfo={locationType:"coordinates",
latitudeFieldName:this.latitudeFieldName,longitudeFieldName:this.longitudeFieldName});this._projectFeatures=p.hitch(this,this._projectFeatures);this._addFeatures=p.hitch(this,this._addFeatures);this._initCSVLayer(q)},refresh:function(){this._fireUpdateStart();this.applyEdits(null,null,this.graphics);this._loadFeatures()},_isWebGLCompatible:function(){return!1},_setMap:function(u){var q=this.inherited(arguments);this._fireUpdateStart();this._projectFeatures(this._csvFC).then(this._addFeatures).otherwise(this._errorHandler);
this._csvFC=null;return q},_initCSVLayer:function(u){var q=this;m.buildCSVFeatureCollection(this._buildCsvFcParam).then(function(z){!q._buildCsvFcParam.locationInfo||q.latitudeFieldName&&q.longitudeFieldName||(q.latitudeFieldName=q._buildCsvFcParam.locationInfo.latitudeFieldName,q.longitudeFieldName=q._buildCsvFcParam.locationInfo.longitudeFieldName);q._csvFC=z;var x=z.layerDefinition;x.extent=q._getFCExtent(z);u.outFields||(u.outFields=["*"]);u.timeInfo&&(x.timeInfo=u.timeInfo);q._initFeatureLayer({layerDefinition:x},
u)}).otherwise(this._errorHandler)},_loadFeatures:function(){m.buildCSVFeatureCollection(this._buildCsvFcParam).then(this._projectFeatures).then(this._addFeatures).otherwise(this._errorHandler)},_projectFeatures:function(u){return m.projectFeatureCollection(u,this._map.spatialReference)},_addFeatures:function(u){u=new l(u.featureSet);this.applyEdits(u.features,null,null);this._fireUpdateEnd()},_getFCExtent:function(u){if(u&&u.featureSet&&u.featureSet.features){u=u.featureSet.features;var q=u.length;
if(1<q){var z=u[0].geometry;var x=new g(z.x,z.y,z.x,z.y);for(--q;0<q;q--)z=u[q].geometry,x.xmin=Math.min(x.xmin,z.x),x.ymin=Math.min(x.ymin,z.y),x.xmax=Math.max(x.xmax,z.x),x.ymax=Math.max(x.ymax,z.y);0>=x.getWidth()&&0>=x.getHeight()&&(x=null)}}return x}});p.setObject("layers.CSVLayer",J,t);return J})},"esri/arcgis/csv":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/sniff dojo/number dojox/data/CsvStore ../kernel ../config ../request ../SpatialReference ../geometry/jsonUtils ../geometry/webMercatorUtils".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z){function x(r){var v=0,B="";J.forEach([","," ",";","|","\t"],function(C){var A=r.split(C).length;A>v&&(v=A,B=C)});return B}function n(r,v){if(!r||"[object Date]"!==Object.prototype.toString.call(r)||isNaN(r.getTime()))return!1;var B=!0;if(y("chrome")&&/\d+\W*$/.test(v)){if(v.match(/[^0-9a-zA-Z\s]/))return!1;var C=v.match(/[a-zA-Z]{2,}/);if(C){B=!1;for(var A=0,E=C.length,F=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i;!B&&
A<=E&&!(B=!F.test(C[A]));)A++;B=!B}}return B}function h(r,v,B){var C=r.indexOf("\n");C=T.trim(r.substr(0,C));var A=v.columnDelimiter;A||(A=x(C));var E=new m({data:r,separator:A});E.fetch({onComplete:function(F,w){var D=0,G={layerDefinition:v.layerDefinition,featureSet:{features:[],geometryType:"esriGeometryPoint"}},H=G.layerDefinition.objectIdField,M=G.layerDefinition.fields;H||J.some(M,function(ia){return"esriFieldTypeOID"===ia.type?(H=ia.name,!0):!1})||(M.push({name:"__OBJECTID",alias:"__OBJECTID",
type:"esriFieldTypeOID",editable:!1}),H="__OBJECTID");var R=E._attributes,N=[],K=[];J.forEach(M,function(ia){"esriFieldTypeDate"===ia.type?N.push(ia.name):("esriFieldTypeDouble"===ia.type||"esriFieldTypeInteger"===ia.type)&&K.push(ia.name)});if(v.locationInfo&&"coordinates"===v.locationInfo.locationType){var V=v.locationInfo.latitudeFieldName;var Z=v.locationInfo.longitudeFieldName}else J.forEach(R,function(ia){var U=J.indexOf(b,ia.toLowerCase());-1!==U&&(V=ia);U=J.indexOf(c,ia.toLowerCase());-1!==
U&&(Z=ia)}),V&&Z&&(v.locationInfo={locationType:"coordinates",latitudeFieldName:V,longitudeFieldName:Z});if(V&&Z){-1===J.indexOf(K,V)&&K.push(V);-1===J.indexOf(K,Z)&&K.push(Z);if(T.isArray(v.outFields)&&-1===J.indexOf(v.outFields,"*"))var ca=v.outFields;J.forEach(R,function(ia){J.some(M,function(U){return ia===U.name})||M.push({name:ia,alias:ia,type:ia===V||ia===Z?"esriFieldTypeDouble":"esriFieldTypeString"})});R=0;var ea=F.length;for(R;R<ea;R++){var ka=F[R],la=E.getAttributes(ka),ta={};J.forEach(la,
function(ia){if(ia&&(ia===V||ia===Z||!ca||-1<J.indexOf(ca,ia))){var U=ia;0===ia.length&&J.forEach(M,function(S,O){S.name==="attribute_"+(O-1)&&(ia="attribute_"+(O-1))});if(-1<J.indexOf(N,ia)){U=E.getValue(ka,U);var ja=new Date(U);ta[ia]=n(ja,U)?ja.getTime():null}else-1<J.indexOf(K,ia)?(ja=t.parse(E.getValue(ka,U)),ia!==V&&ia!==Z||!(isNaN(ja)||181<Math.abs(ja))||(ja=parseFloat(E.getValue(ka,U))),isNaN(ja)?ta[ia]=null:ta[ia]=ja):ta[ia]=E.getValue(ka,U)}});ta[H]=D;D++;la=ta[V];var za=ta[Z];null==za||
null==la||isNaN(la)||isNaN(za)||(ca&&-1===J.indexOf(ca,V)&&delete ta[V],ca&&-1===J.indexOf(ca,Z)&&delete ta[Z],G.featureSet.features.push({geometry:{x:za,y:la,spatialReference:{wkid:4326}},attributes:ta}))}G.layerDefinition.name="csv";B&&B(G)}else setTimeout(function(){},1),B&&B(null,Error("File does not seem to contain fields with point coordinates."))},onError:function(F){B&&B(null,F)}});return!0}function e(r,v,B,C,A,E){0===r.length&&A(null);var F=q.getGeometryType(v),w=[];J.forEach(r,function(D){D=
new F(D);D.spatialReference=B;w.push(D)},this);v=[102113,102100,3857];B.wkid&&4326===B.wkid&&C.wkid&&-1<J.indexOf(v,C.wkid)?(J.forEach(w,function(D){D.xmin?(D.xmin=Math.max(D.xmin,-180),D.xmax=Math.min(D.xmax,180),D.ymin=Math.max(D.ymin,-89.99),D.ymax=Math.min(D.ymax,89.99)):D.rings?J.forEach(D.rings,function(G){J.forEach(G,function(H){H[0]=Math.min(Math.max(H[0],-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):D.paths?J.forEach(D.paths,function(G){J.forEach(G,function(H){H[0]=
Math.min(Math.max(H[0],-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):D.x&&(D.x=Math.min(Math.max(D.x,-180),180),D.y=Math.min(Math.max(D.y,-89.99),89.99))},this),r=[],J.forEach(w,function(D){D=z.geographicToWebMercator(D);102100!==C.wkid&&(D.spatialReference=C);r.push(D.toJson())},this),A(r)):null!==B.wkid&&-1<J.indexOf(v,B.wkid)&&null!==C.wkid&&4326===C.wkid?(r=[],J.forEach(w,function(D){r.push(z.webMercatorToGeographic(D).toJson())},this),A(r)):(v=function(D,G){D&&D.length===
r.length?(r=[],J.forEach(D,function(H){H&&(H.rings&&0<H.rings.length&&0<H.rings[0].length&&0<H.rings[0][0].length&&!isNaN(H.rings[0][0][0])&&!isNaN(H.rings[0][0][1])||H.paths&&0<H.paths.length&&0<H.paths[0].length&&0<H.paths[0][0].length&&!isNaN(H.paths[0][0][0])&&!isNaN(H.paths[0][0][1])||H.xmin&&!isNaN(H.xmin)&&H.ymin&&!isNaN(H.ymin)||H.x&&!isNaN(H.x)&&H.y&&!isNaN(H.y))?r.push(H.toJson()):r.push(null)},this),A(r)):E(D,G)},g.defaults.geometryService?g.defaults.geometryService.project(w,C,T.hitch(this,
v),E):A(null))}function d(r,v){var B=[102113,102100,3857];return r&&v&&r.wkid===v.wkid&&r.wkt===v.wkt||r&&v&&r.wkid&&v.wkid&&-1<J.indexOf(B,r.wkid)&&-1<J.indexOf(B,v.wkid)?!0:!1}function a(r,v,B,C){if(r.featureSet&&0!==r.featureSet.features.length)if(d(B,v))C(r);else{var A=function(D){var G=[];J.forEach(r.featureSet.features,function(H,M){D[M]&&(H.geometry=D[M],G.push(H))},this);C(r)},E=function(D,G){C(r)},F=function(D,G){e(w,r.featureSet.geometryType,v,B,T.hitch(this,A),T.hitch(this,E))};if(r.featureSet.features&&
0<r.featureSet.features.length){var w=[];J.forEach(r.featureSet.features,function(D){if(D.geometry.toJson)w.push(D.geometry);else{var G=q.getGeometryType(r.featureSet.geometryType);w.push(new G(D.geometry))}});v.toJson||(v=new u(v));B.toJson||(B=new u(B));e(w,r.featureSet.geometryType,v,B,T.hitch(this,A),T.hitch(this,F))}else C(r)}}var b="lat latitude y ycenter latitude83 latdecdeg point-y lat_dd".split(" "),c="lon lng long longitude x xcenter longitude83 longdecdeg point-x long_dd".split(" "),k=
{latFieldStrings:b,longFieldStrings:c,buildCSVFeatureCollection:function(r){var v=new p,B=function(A,E){E?v.errback(E):v.callback(A)},C={url:r.url,handleAs:"text",load:function(A){h(A,r,T.hitch(this,B))},error:function(A){v.errback(A)}};-1<r.url.indexOf("arcgis.com")&&-1<r.url.indexOf("/content/items")&&-1<r.url.indexOf("/data")&&(C.headers={"Content-Type":""});l(C,{usePost:!1});return v},projectFeatureCollection:function(r,v,B){var C=new p;B||(B=new u({wkid:4326}));a(r,B,v,T.hitch(this,function(A){C.callback(A)}));
return C},generateDefaultPopupInfo:function(r){var v={esriFieldTypeDouble:1,esriFieldTypeSingle:1},B={esriFieldTypeInteger:1,esriFieldTypeSmallInteger:1},C={esriFieldTypeDate:1},A=null;r=J.map(r.layerDefinition.fields,T.hitch(this,function(E){"NAME"===E.name.toUpperCase()&&(A=E.name);var F="esriFieldTypeOID"!==E.type&&"esriFieldTypeGlobalID"!==E.type&&"esriFieldTypeGeometry"!==E.type,w=null;if(F){var D=E.name.toLowerCase();if(-1<",stretched value,fnode_,tnode_,lpoly_,rpoly_,poly_,subclass,subclass_,rings_ok,rings_nok,".indexOf(","+
D+",")||-1<D.indexOf("area")||-1<D.indexOf("length")||-1<D.indexOf("shape")||-1<D.indexOf("perimeter")||-1<D.indexOf("objectid")||D.indexOf("_")===D.length-1||D.indexOf("_i")===D.length-2&&1<D.length)F=!1;E.type in B?w={places:0,digitSeparator:!0}:E.type in v?w={places:2,digitSeparator:!0}:E.type in C&&(w={dateFormat:"shortDateShortTime"})}return T.mixin({},{fieldName:E.name,label:E.alias,isEditable:!0,tooltip:"",visible:F,format:w,stringFieldOption:"textbox"})}));return{title:A?"{"+A+"}":"",fieldInfos:r,
description:null,showAttachments:!1,mediaInfos:[]}},_getSeparator:x,_isValidDate:n,_processCsvData:h,_projectGeometries:e,_sameSpatialReference:d,_projectFeatureSet:a};T.setObject("arcgis.csv",k,f);return k})},"dojox/data/CsvStore":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/xhr dojo/_base/kernel dojo/data/util/filter dojo/data/util/simpleFetch".split(" "),function(T,J,p,y,t,m){J=J("dojox.data.CsvStore",null,{constructor:function(f){this._attributes=[];this._attributeIndexes=
{};this._dataArray=[];this._arrayOfAllItems=[];this._loadFinished=!1;f.url&&(this.url=f.url);this._csvData=f.data;f.label?this.label=f.label:""===this.label&&(this.label=void 0);this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._loadInProgress=!1;this._queuedFetches=[];this.identifier=f.identifier;""===this.identifier?delete this.identifier:this._idMap={};"separator"in f&&(this.separator=f.separator);"urlPreventCache"in f&&
(this.urlPreventCache=f.urlPreventCache?!0:!1)},url:"",label:"",identifier:"",separator:",",urlPreventCache:!1,_assertIsItem:function(f){if(!this.isItem(f))throw Error(this.declaredClass+": a function was passed an item argument that was not an item");},_getIndex:function(f){f=this.getIdentity(f);this.identifier&&(f=this._idMap[f]);return f},getValue:function(f,g,l){this._assertIsItem(f);var u=l;if("string"===typeof g)g=this._attributeIndexes[g],null!=g&&(u=this._dataArray[this._getIndex(f)][g]||
l);else throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");return u},getValues:function(f,g){var l=this.getValue(f,g);return l?[l]:[]},getAttributes:function(f){this._assertIsItem(f);var g=[];f=this._dataArray[this._getIndex(f)];for(var l=0;l<f.length;l++)""!==f[l]&&g.push(this._attributes[l]);return g},hasAttribute:function(f,g){this._assertIsItem(f);if("string"===typeof g){var l=this._attributeIndexes[g],u=this._dataArray[this._getIndex(f)];return"undefined"!==
typeof l&&l<u.length&&""!==u[l]}throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");},containsValue:function(f,g,l){var u=void 0;"string"===typeof l&&(u=t.patternToRegExp(l,!1));return this._containsValue(f,g,l,u)},_containsValue:function(f,g,l,u){f=this.getValues(f,g);for(g=0;g<f.length;++g){var q=f[g];if("string"===typeof q&&u)return null!==q.match(u);if(l===q)return!0}return!1},isItem:function(f){if(f&&f[this._storeProp]===this)if(f=f[this._idProp],
this.identifier){if(this._dataArray[this._idMap[f]])return!0}else if(0<=f&&f<this._dataArray.length)return!0;return!1},isItemLoaded:function(f){return this.isItem(f)},loadItem:function(f){},getFeatures:function(){return this._features},getLabel:function(f){if(this.label&&this.isItem(f))return this.getValue(f,this.label)},getLabelAttributes:function(f){return this.label?[this.label]:null},_fetchItems:function(f,g,l){var u=this,q=function(h,e){var d=null;if(h.query){var a;d=[];var b=h.queryOptions?
h.queryOptions.ignoreCase:!1,c={};for(a in h.query){var k=h.query[a];"string"===typeof k&&(c[a]=t.patternToRegExp(k,b))}for(b=0;b<e.length;++b){var r=!0,v=e[b];for(a in h.query)k=h.query[a],u._containsValue(v,a,k,c[a])||(r=!1);r&&d.push(v)}}else d=e.slice(0,e.length);g(d,h)};if(this._loadFinished)q(f,this._arrayOfAllItems);else if(""!==this.url)if(this._loadInProgress)this._queuedFetches.push({args:f,filter:q});else{this._loadInProgress=!0;var z=p.get({url:u.url,handleAs:"text",preventCache:u.urlPreventCache});
z.addCallback(function(h){try{u._processData(h),q(f,u._arrayOfAllItems),u._handleQueuedFetches()}catch(e){l(e,f)}});z.addErrback(function(h){u._loadInProgress=!1;if(l)l(h,f);else throw h;});var x=null;f.abort&&(x=f.abort);f.abort=function(){var h=z;h&&-1===h.fired&&(h.cancel(),h=null);x&&x.call(f)}}else if(this._csvData)try{this._processData(this._csvData),this._csvData=null,q(f,this._arrayOfAllItems)}catch(h){l(h,f)}else{var n=Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");
if(l)l(n,f);else throw n;}},close:function(f){},_getArrayOfArraysFromCsvFileContents:function(f){if(T.isString(f)){var g=RegExp("^\\s+","g"),l=RegExp("\\s+$","g"),u=RegExp('""',"g"),q=[],z=this._splitLines(f);for(f=0;f<z.length;++f){var x=z[f];if(0<x.length){x=x.split(this.separator);for(var n=0;n<x.length;){var h=x[n].replace(g,""),e=h.replace(l,""),d=e.charAt(0),a=e.charAt(e.length-1),b=e.charAt(e.length-2),c=e.charAt(e.length-3);if(2===e.length&&'""'==e)x[n]="";else if('"'==d&&('"'!=a||'"'==a&&
'"'==b&&'"'!=c)){if(n+1===x.length)return;x[n]=h+this.separator+x[n+1];x.splice(n+1,1)}else'"'==d&&'"'==a&&(e=e.slice(1,e.length-1),e=e.replace(u,'"')),x[n]=e,n+=1}q.push(x)}}this._attributes=q.shift();for(f=0;f<this._attributes.length;f++)this._attributeIndexes[this._attributes[f]]=f;this._dataArray=q}},_splitLines:function(f){var g=[],l,u="",q=!1;for(l=0;l<f.length;l++){var z=f.charAt(l);switch(z){case '"':q=!q;u+=z;break;case "\r":q?u+=z:(g.push(u),u="",l<f.length-1&&"\n"==f.charAt(l+1)&&l++);
break;case "\n":q?u+=z:(g.push(u),u="");break;default:u+=z}}""!==u&&g.push(u);return g},_processData:function(f){this._getArrayOfArraysFromCsvFileContents(f);this._arrayOfAllItems=[];if(this.identifier&&void 0===this._attributeIndexes[this.identifier])throw Error(this.declaredClass+": Identity specified is not a column header in the data set.");for(f=0;f<this._dataArray.length;f++){var g=f;this.identifier&&(g=this._dataArray[f][this._attributeIndexes[this.identifier]],this._idMap[g]=f);this._arrayOfAllItems.push(this._createItemFromIdentity(g))}this._loadFinished=
!0;this._loadInProgress=!1},_createItemFromIdentity:function(f){var g={};g[this._storeProp]=this;g[this._idProp]=f;return g},getIdentity:function(f){return this.isItem(f)?f[this._idProp]:null},fetchItemByIdentity:function(f){var g=f.scope?f.scope:y.global;if(this._loadFinished){var l=this._createItemFromIdentity(f.identity);this.isItem(l)||(l=null);f.onItem&&f.onItem.call(g,l)}else{var u=this;if(""!==this.url)this._loadInProgress?this._queuedFetches.push({args:f}):(this._loadInProgress=!0,l=p.get({url:u.url,
handleAs:"text"}),l.addCallback(function(q){try{u._processData(q);var z=u._createItemFromIdentity(f.identity);u.isItem(z)||(z=null);f.onItem&&f.onItem.call(g,z);u._handleQueuedFetches()}catch(x){f.onError&&f.onError.call(g,x)}}),l.addErrback(function(q){this._loadInProgress=!1;f.onError&&f.onError.call(g,q)}));else if(this._csvData)try{u._processData(u._csvData),u._csvData=null,l=u._createItemFromIdentity(f.identity),u.isItem(l)||(l=null),f.onItem&&f.onItem.call(g,l)}catch(q){f.onError&&f.onError.call(g,
q)}}},getIdentityAttributes:function(f){return this.identifier?[this.identifier]:null},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var f=0;f<this._queuedFetches.length;f++){var g=this._queuedFetches[f],l=g.filter,u=g.args;l?l(u,this._arrayOfAllItems):this.fetchItemByIdentity(g.args)}this._queuedFetches=[]}}});T.extend(J,m);return J})},"esri/layers/KMLLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/sniff dojo/io-query dojo/dom-construct dojo/dom-style ../kernel ../config ../lang ../request ../urlUtils ../SpatialReference ../geometry/webMercatorUtils ../dijit/PopupTemplate ./layer ./KMLFolder ./KMLGroundOverlay ./MapImageLayer ./FeatureLayer".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v){var B=J([b],{declaredClass:"esri.layers.KMLLayer",serviceUrl:h.getProtocolForWebResource()+"//utility.arcgis.com/sharing/kml",constructor:function(C,A){this._url=h.urlToObject(this.url=C);this._outSR=A&&A.outSR||new e({wkid:4326});this._options=y.mixin({},A);z.defaults.kmlService&&(this.serviceUrl=z.defaults.kmlService);var E=this.linkInfo=A&&A.linkInfo;E&&(this.visible=!!E.visibility,this._waitingForMap=!!E.viewFormat);(!E||E&&E.visibility&&
!this._waitingForMap)&&this._parseKml();this.refresh=y.hitch(this,this.refresh);this.registerConnectEvents("esri.layers.KMLLayer",!0)},getFeature:function(C){if(C){var A=C.type,E=C.id,F;switch(A){case "esriGeometryPoint":case "esriGeometryPolyline":case "esriGeometryPolygon":(C=this["_"+A])&&(F=y.getObject("_mode._featureMap."+E,!1,C));break;case "GroundOverlay":if(C=this._groundLyr){var w=C.getImages();A=w.length;for(C=0;C<A;C++)if(w[C].id===E){F=w[C];break}}break;case "NetworkLink":t.some(this._links,
function(D){return D.linkInfo&&D.linkInfo.id===E?(F=D,!0):!1});break;case "Folder":for(A=(w=this.folders)?w.length:0,C=0;C<A;C++)if(w[C].id===E){F=w[C];break}}return F}},getLayers:function(){var C=[];this._groundLyr&&C.push(this._groundLyr);this._fLayers&&(C=C.concat(this._fLayers));this._links&&t.forEach(this._links,function(A){A.declaredClass&&C.push(A)});return C},setFolderVisibility:function(C,A){C&&(this._fireUpdateStart(),(C.visible=A)&&(A=this._areLocalAncestorsVisible(C)),this._setState(C,
A),this._fireUpdateEnd())},_eventMap:{"network-link-error":["error"]},onRefresh:function(){},onOpacityChange:function(){},onNetworkLinkError:function(){},_parseKml:function(C){var A=this;this._fireUpdateStart();this._io=n({url:this.serviceUrl,content:{url:this._url.path+this._getQueryParameters(C),model:"simple",folders:"",refresh:this.loaded?!0:void 0,outSR:m.toJson(this._outSR.toJson())},callbackParamName:"callback",load:function(E){A._io=null;A._initLayer(E)},error:function(E){A._io=null;E=y.mixin(Error(),
E);E.message="Unable to load KML: "+(E.message||"");A._fireUpdateEnd(E);A._errorHandler(E)}})},_initLayer:function(C){if(this.loaded){var A=[];t.forEach(this.folders,function(M){M.visible&&A.push(M.id)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale;this._options.opacity=this.opacity;this._removeInternalLayers()}this.name=C.name;this.description=C.description;this.snippet=C.snippet;this.visibility=C.visibility;this.featureInfos=C.featureInfos;var E,F=this.folders=C.folders,
w=[];if(F){var D=F.length;for(E=0;E<D;E++){var G=F[E]=new c(F[E]);-1===G.parentFolderId&&w.push(G)}}F=this._links=C.networkLinks;D=F?F.length:0;for(E=0;E<D;E++)if(!F[E].viewRefreshMode||-1===F[E].viewRefreshMode.toLowerCase().indexOf("onregion")){var H=y.mixin({},this._options);H.linkInfo=F[E];H.id&&(H.id=H.id+"_"+E);G=F[E]=new B(F[E].href,H);G._parentLayer=this;G._parentFolderId=this._getLinkParentId(G.linkInfo.id);G._linkErrorHandle=G.on("error,network-link-error",y.hitch(G,function(M){this._parentLayer.onNetworkLinkError(M.error)}))}if((F=
C.groundOverlays)&&0<F.length)for(H=y.mixin({},this._options),H.id&&(H.id+="_mapImage"),G=this._groundLyr=new r(H),D=F.length,E=0;E<D;E++)G.addImage(new k(F[E]));(C=y.getObject("featureCollection.layers",!1,C))&&0<C.length&&(this._fLayers=[],t.forEach(C,function(M,R){var N=y.getObject("featureSet.features",!1,M);N&&0<N.length&&(H=y.mixin({outFields:["*"],infoTemplate:M.popupInfo?new a(M.popupInfo):null,editable:!1},this._options),H.id&&(H.id=H.id+"_"+R),H.webgl=!1,M.layerDefinition.capabilities="Query,Data",
N=new v(M,H),N.geometryType&&(this["_"+N.geometryType]=N),this._fLayers.push(N))},this),0===this._fLayers.length&&delete this._fLayers);if(!this.loaded)for(D=w.length,E=0;E<D;E++)G=w[E],this._setState(G,G.visible);this._fireUpdateEnd();this.loaded?(this._addInternalLayers(),t.forEach(this.folders,function(M){-1<t.indexOf(A,M.id)?this.setFolderVisibility(M,!0):this.setFolderVisibility(M,!1)},this),this.onRefresh()):(this.loaded=!0,this.onLoad(this))},_addInternalLayers:function(){var C=this._map;this._fireUpdateStart();
this._links&&t.forEach(this._links,function(w){w.declaredClass&&(C.addLayer(w),w._waitingForMap&&(w._waitingForMap=null,w.visible?w._parseKml(C):w._wMap=C))});var A=C.spatialReference,E=this._outSR;if(!A.equals(E))if(A.isWebMercator()&&4326===E.wkid)var F=d.geographicToWebMercator;else if(E.isWebMercator()&&4326===A.wkid)F=d.webMercatorToGeographic;else return;this._groundLyr&&(F&&t.forEach(this._groundLyr.getImages(),function(w){w.extent=F(w.extent)}),C.addLayer(this._groundLyr));(A=this._fLayers)&&
0<A.length&&t.forEach(A,function(w){if(F){var D=w.graphics,G,H,M=D?D.length:0;for(G=0;G<M;G++)(H=D[G].geometry)&&D[G].setGeometry(F(H))}C.addLayer(w)});this.onVisibilityChange(this.visible)},_removeInternalLayers:function(){var C=this._map;this._links&&t.forEach(this._links,function(A){A.declaredClass&&A._io&&A._io.cancel();A._linkErrorHandle&&(A._linkErrorHandle.remove(),A._linkErrorHandle=null)});C&&t.forEach(this.getLayers(),C.removeLayer,C)},_setState:function(C,A){var E=C.featureInfos,F,w,D=
E?E.length:0,G=A?"show":"hide",H=A?"_resume":"_suspend";for(w=0;w<D;w++){var M=E[w];if(F=this.getFeature(M))if("Folder"===M.type)this._setState(F,A&&F.visible);else if("NetworkLink"===M.type)this._setInternalVisibility(F,A);else if(F[H])F[H]();else F[G]()}},_areLocalAncestorsVisible:function(C){var A=C.parentFolderId;for(C=C.visible;C&&-1!==A;)A=this.getFeature({type:"Folder",id:A}),C=C&&A.visible,A=A.parentFolderId;return C},_setInternalVisibility:function(C,A){var E=C._parentLayer,F=C._parentFolderId;
for(A=A&&C.visible;A&&E;)A=A&&E.visible,-1<F&&(A=A&&E._areLocalAncestorsVisible(E.getFeature({type:"Folder",id:F}))),F=E._parentFolderId,E=E._parentLayer;this._setIntState(C,A)},_setIntState:function(C,A){C&&t.forEach(C.getLayers(),function(E){E.linkInfo?C._setIntState(E,A&&E.visible&&C._areLocalAncestorsVisible(C.getFeature({type:"Folder",id:E._parentFolderId}))):E.setVisibility(A)})},_getLinkParentId:function(C){var A=-1;this.folders&&t.some(this.folders,function(E){return E.networkLinkIds&&-1!==
t.indexOf(E.networkLinkIds,C)?(A=E.id,!0):!1});return A},_checkAutoRefresh:function(){var C=this.linkInfo;if(C)if(this.visible){if(this.loaded&&this._map){var A=C.refreshMode,E=C.refreshInterval,F=C.viewRefreshMode;C=C.viewRefreshTime;A&&-1!==A.toLowerCase().indexOf("oninterval")&&0<E&&(this._stopAutoRefresh(),this._timeoutHandle=setTimeout(this.refresh,1E3*E));F&&-1!==F.toLowerCase().indexOf("onstop")&&0<C&&!this._extChgHandle&&(this._extChgHandle=p.connect(this._map,"onExtentChange",this,this._extentChanged))}}else this._stopAutoRefresh(),
p.disconnect(this._extChgHandle),delete this._extChgHandle},_stopAutoRefresh:function(){clearTimeout(this._timeoutHandle);this._timeoutHandle=null},_getQueryParameters:function(C){C=C||this._map;var A={},E=this.linkInfo,F=C&&C.extent;if(this._url.query){y.mixin(A,this._url.query);var w=!!this._url.query.token}q.id&&!w&&(w=q.id.findCredential(this._url.path))&&(A.token=w.token);if(E){w=E.viewFormat;var D=E.httpQuery;E=E.viewBoundScale;if(F&&w){var G=F,H=F,M=F.spatialReference;M&&(M.isWebMercator()?
G=d.webMercatorToGeographic(F):4326===M.wkid&&(H=d.geographicToWebMercator(F)));F=G.getCenter();H=Math.max(H.getWidth(),H.getHeight());E&&(G=G.expand(E));w=w.replace(/\[bboxWest\]/ig,G.xmin).replace(/\[bboxEast\]/ig,G.xmax).replace(/\[bboxSouth\]/ig,G.ymin).replace(/\[bboxNorth\]/ig,G.ymax).replace(/\[lookatLon\]/ig,F.x).replace(/\[lookatLat\]/ig,F.y).replace(/\[lookatRange\]/ig,H).replace(/\[lookatTilt\]/ig,0).replace(/\[lookatHeading\]/ig,0).replace(/\[lookatTerrainLon\]/ig,F.x).replace(/\[lookatTerrainLat\]/ig,
F.y).replace(/\[lookatTerrainAlt\]/ig,0).replace(/\[cameraLon\]/ig,F.x).replace(/\[cameraLat\]/ig,F.y).replace(/\[cameraAlt\]/ig,H).replace(/\[horizFov\]/ig,60).replace(/\[vertFov\]/ig,60).replace(/\[horizPixels\]/ig,C.width).replace(/\[vertPixels\]/ig,C.height).replace(/\[terrainEnabled\]/ig,0);y.mixin(A,g.queryToObject(w))}D&&(D=D.replace(/\[clientVersion\]/ig,q.version).replace(/\[kmlVersion\]/ig,2.2).replace(/\[clientName\]/ig,"ArcGIS API for JavaScript").replace(/\[language\]/ig,T.locale),y.mixin(A,
g.queryToObject(D)))}C=[];for(var R in A)x.isDefined(A[R])&&C.push(R+"\x3d"+A[R]);return(C=C.join("\x26"))?"?"+C:""},setScaleRange:function(C,A){this.inherited(arguments);t.forEach(this.getLayers(),function(E){E.setScaleRange(C,A)})},setOpacity:function(C){this.opacity!=C&&(t.forEach(this.getLayers(),function(A){A.setOpacity(C)}),this.opacity=C,this.onOpacityChange(C))},_setMap:function(C,A){this.inherited(arguments);this._map=C;var E=this._div=l.create("div",null,A);u.set(E,"position","absolute");
this._addInternalLayers();this.evaluateSuspension();return E},_unsetMap:function(C,A){this._io&&this._io.cancel();this._stopAutoRefresh();p.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var E=this._div;E&&(A.removeChild(E),l.destroy(E));this._wMap=this._div=null;this.inherited(arguments)},onVisibilityChange:function(C){this.loaded?(this._fireUpdateStart(),this._setInternalVisibility(this,C),this._checkAutoRefresh(),this._fireUpdateEnd()):this.linkInfo&&C&&(this._waitingForMap||
this._parseKml(this._wMap))},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._parseKml()},getFeatureCollection:function(C){var A,E=[];(C=this.getFeature({type:"Folder",id:C}))&&(A=t.map(C.featureInfos,function(F){if("esriGeometryPoint"===F.type||"esriGeometryPolyline"===F.type||"esriGeometryPolygon"===F.type)return F.id},this))&&0<A.length&&t.forEach(this._fLayers,function(F){var w;var D=F.toJson();D.featureSet.features&&0<D.featureSet.features.length&&(w=t.filter(D.featureSet.features,
function(G){if(-1!==t.indexOf(A,G.attributes[F.objectIdField]))return G},this));w&&0<w.length&&(D.featureSet.features=w,E.push(D))},this);return E},getFeatureCount:function(C){C=this.getFeature({type:"Folder",id:C});var A={points:0,polylines:0,polygons:0};C&&t.forEach(C.featureInfos,function(E){"esriGeometryPoint"===E.type&&(A.points+=1);"esriGeometryPolyline"===E.type&&(A.polylines+=1);"esriGeometryPolygon"===E.type&&(A.polygons+=1)});return A},_extentChanged:function(){this._stopAutoRefresh();this._timeoutHandle=
setTimeout(this.refresh,1E3*this.linkInfo.viewRefreshTime)}});y.setObject("layers.KMLLayer",B,q);return B})},"esri/layers/KMLFolder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(T,J,p,y,t){T=T(null,{declaredClass:"esri.layers.KMLFolder",constructor:function(m){J.mixin(this,m);t.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});J.setObject("layers.KMLFolder",T,y);return T})},"esri/layers/KMLGroundOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./MapImage".split(" "),
function(T,J,p,y,t,m){T=T([m],{declaredClass:"esri.layers.KMLGroundOverlay",constructor:function(f){t.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});J.setObject("layers.KMLGroundOverlay",T,y);return T})},"esri/layers/GeoRSSLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../config ../request ../urlUtils ./ServiceGeneratedFeatureCollection".split(" "),function(T,J,p,y,t,m,f,g,l){T=T([l],{declaredClass:"esri.layers.GeoRSSLayer",serviceUrl:g.getProtocolForWebResource()+
"//utility.arcgis.com/sharing/rss",constructor:function(u,q){this._url=g.urlToObject(this.url=u);m.defaults.geoRSSService&&(this.serviceUrl=m.defaults.geoRSSService);this._createLayer()},parse:function(){return this._io=f({url:this.serviceUrl,content:{url:this.url,refresh:this.loaded?!0:void 0,outSR:this._outSR?p.toJson(this._outSR.toJson()):void 0},callbackParamName:"callback"})},_initLayer:function(u){this.inherited(arguments);this.loaded||(this.loaded=!0,this.onLoad(this))}});J.setObject("layers.GeoRSSLayer",
T,t);return T})},"esri/layers/ServiceGeneratedFeatureCollection":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/has ../kernel ../SpatialReference ../geometry/Extent ../geometry/webMercatorUtils ../renderers/SimpleRenderer ./layer ./FeatureLayer ../dijit/PopupTemplate".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h){T=T([x],{declaredClass:"esri.layers._ServiceGeneratedFeatureCollection",constructor:function(e,d){this.pointSymbol=
d&&d.pointSymbol;this.polylineSymbol=d&&d.polylineSymbol;this.polygonSymbol=d&&d.polygonSymbol;this._outSR=d&&(d.outSpatialReference||d.outSR)||new l({wkid:4326});this._options=p.mixin({},d)},parse:function(){},getFeatureLayers:function(){var e=[];this._fLayers&&(e=e.concat(this._fLayers));return e},onRefresh:function(){},onOpacityChange:function(){},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._createLayer()},_createLayer:function(e){var d=this;this._fireUpdateStart();
e=this.parse(e);e.addCallback(function(a){d._io=null;d._initLayer(a)});e.addErrback(function(a){d._io=null;a=p.mixin(Error(),a);a.message="Unable to load resource: "+d.url+" "+(a.message||"");d._fireUpdateEnd(a);d.onError(a)})},_initLayer:function(e){this.loaded&&this._removeInternalLayers();this.name=e.name;this.description=e.description;this.snippet=e.snippet;this.featureInfos=e.featureInfos;this.fullExtent=this.initialExtent=new u(e.lookAtExtent);this.copyright=e.author||e.copyright;var d;(e=p.getObject("featureCollection.layers",
!1,e))&&0<e.length&&(this._fLayers=[],y.forEach(e,function(a,b){var c=p.getObject("featureSet.features",!1,a);c&&0<c.length&&(d=p.mixin({outFields:["*"],infoTemplate:a.popupInfo?new h(a.popupInfo):null,editable:!1},this._options),d.id&&(d.id=d.id+"_"+b),d.webgl=!1,a.layerDefinition.capabilities="Query,Data",c=new n(a,d),c.geometryType&&(this["_"+c.geometryType]=c),this._fLayers.push(c))},this),0===this._fLayers.length&&delete this._fLayers);this.items=[];this._esriGeometryPoint&&(this.items=this.items.concat(this._esriGeometryPoint.graphics),
this.pointSymbol&&(e=new z(this.pointSymbol),this._esriGeometryPoint.setRenderer(e)));this._esriGeometryPolyline&&(this.items=this.items.concat(this._esriGeometryPolyline.graphics),this.polylineSymbol&&(e=new z(this.polylineSymbol),this._esriGeometryPolyline.setRenderer(e)));this._esriGeometryPolygon&&(this.items=this.items.concat(this._esriGeometryPolygon.graphics),this.polygonSymbol&&(e=new z(this.polygonSymbol),this._esriGeometryPolygon.setRenderer(e)));this._fireUpdateEnd();this.loaded&&(this._addInternalLayers(),
this.onRefresh())},_addInternalLayers:function(){var e=this._map;this._fireUpdateStart();var d=e.spatialReference,a=this._outSR;if(d.wkid)var b=d._isWebMercator()&&a._isWebMercator()||d.wkid===a.wkid;else if(d.wkt)b=d.wkt===a.wkt;else return;if(!b)if(d._isWebMercator()&&4326===a.wkid)this._converter=q.geographicToWebMercator;else if(a._isWebMercator()&&4326===d.wkid)this._converter=q.webMercatorToGeographic;else return;(d=this._fLayers)&&0<d.length&&y.forEach(d,function(c){if(this._converter){var k=
c.graphics,r,v,B=k?k.length:0;for(r=0;r<B;r++)(v=k[r].geometry)&&k[r].setGeometry(this._converter(v))}e.addLayer(c)},this);this.setVisibility(this.visible);this._fireUpdateEnd()},_removeInternalLayers:function(){var e=this._map;e&&y.forEach(this.getFeatureLayers(),e.removeLayer,e)},setScaleRange:function(e,d){this.inherited(arguments);y.forEach(this.getFeatureLayers(),function(a){a.setScaleRange(e,d)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale},setOpacity:function(e){this.opacity!=
e&&(y.forEach(this.getFeatureLayers(),function(d){d.setOpacity(e)}),this.opacity=this._options.opacity=e,this.onOpacityChange(e))},onVisibilityChange:function(e){this._fireUpdateStart();y.forEach(this.getFeatureLayers(),function(d){d.setVisibility(e)});this._fireUpdateEnd()},_setMap:function(e,d){this.inherited(arguments);this._map=e;var a=this._div=t.create("div",null,d);m.set(a,"position","absolute");this._addInternalLayers();this.evaluateSuspension();return a},_unsetMap:function(e,d){this._io&&
this._io.cancel();J.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var a=this._div;a&&(d.removeChild(a),t.destroy(a));this._div=null;this.inherited(arguments)}});p.setObject("layers._ServiceGeneratedFeatureCollection",T,g);return T})},"esri/layers/WebTiledLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/url dojo/sniff dojo/string ../config ../kernel ../request ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){function h(e,d){var a=[];if(e&&d&&(d.customLayerParameters||d.customParameters)){var b=J.clone(d.customParameters||{});J.mixin(b,d.customLayerParameters||{});var c=u.urlToObject(e);for(var k in c.query)b.hasOwnProperty(k)||a.push(k+"\x3d"+c.query[k]);e=c.path+(a.length?"?"+a.join("\x26"):"")}return e}T=T(x,{declaredClass:"esri.layers.WebTiledLayer",constructor:function(e,d){d||(d={});this.urlTemplate=e=h(e,d.wmtsInfo);var a=new z(-2.0037508342787E7,-2.003750834278E7,
2.003750834278E7,2.0037508342787E7,new q({wkid:102100})),b=new z(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,new q({wkid:102100}));this.initialExtent=d.initialExtent||a;this.fullExtent=d.fullExtent||b;this.tileInfo=d.tileInfo?d.tileInfo:new n({dpi:96,rows:256,cols:256,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,scale:2.95828763795777E8},
{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,
scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,
scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147},{level:23,resolution:.01866138385297604,scale:70.5310735}]});this.spatialReference=new q(this.tileInfo.spatialReference.toJson());this.copyright=d.copyright||"";var c=new y(e);a=c.scheme+"://"+c.authority+"/";this.urlPath=e.substring(a.length);this.tileServers=d.tileServers||[];-1===c.authority.indexOf("{subDomain}")&&
this.tileServers.push(a);if(d.subDomains&&0<d.subDomains.length&&1<c.authority.split(".").length){this.subDomains=d.subDomains;var k;p.forEach(d.subDomains,function(C){-1<c.authority.indexOf("${subDomain}")?k=c.scheme+"://"+m.substitute(c.authority,{subDomain:C})+"/":-1<c.authority.indexOf("{subDomain}")&&(k=c.scheme+"://"+c.authority.replace(/\{subDomain\}/gi,C)+"/");this.tileServers.push(k)},this)}this.tileServers=p.map(this.tileServers,function(C){"/"!==C.charAt(C.length-1)&&(C+="/");return C});
this._levelToLevelValue=[];var r=0;p.forEach(this.tileInfo.lods,function(C,A){this._levelToLevelValue[C.level]=C.levelValue||C.level;0===A&&(r=this._levelToLevelValue[C.level])},this);this._wmtsInfo=d.wmtsInfo;var v=J.hitch(this,function(){this.loaded=!0;this.onLoad(this)});if(t("chrome")){a=this.getTileUrl(r,0,0);b=f.defaults.io;var B="with-credentials"===b.useCors?u.canUseXhr(a,!0):-1;(b=-1<B?b.corsEnabledServers[B]:null)&&b.withCredentials?l({url:a,handleAs:"arraybuffer"}).addBoth(function(){v()}):
v()}else v()},getTileUrl:function(e,d,a){e=this._levelToLevelValue[e];var b=this.tileServers[d%this.tileServers.length]+m.substitute(this.urlPath,{level:e,z:e,col:a,x:a,row:d,y:d});b=b.replace(/\{level\}/gi,e).replace(/\{row\}/gi,d).replace(/\{col\}/gi,a).replace(/\{z\}/gi,e).replace(/\{x\}/gi,a).replace(/\{y\}/gi,d);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return u.addProxy(b)},_appendCustomLayerParameters:function(e){var d;if(this._wmtsInfo&&(this._wmtsInfo.customLayerParameters||
this._wmtsInfo.customParameters)){var a=J.clone(this._wmtsInfo.customParameters||{});J.mixin(a,this._wmtsInfo.customLayerParameters||{});for(d in a)e+=(-1===e.indexOf("?")?"?":"\x26")+d+"\x3d"+encodeURIComponent(a[d])}return e}});J.setObject("layers.WebTiledLayer",T,g);return T})},"esri/layers/WMSLayer":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff ../config ../graphic ../kernel ../request ../urlUtils ../dijit/PopupTemplate ../SpatialReference ../geometry/Extent ../geometry/Point ./DynamicMapServiceLayer ./WMSLayerInfo dojo/query".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d){p=p([e],{declaredClass:"esri.layers.WMSLayer",_CRS_TO_EPSG:{84:4326,83:4269,27:4267},_REVERSED_LAT_LONG_RANGES:[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],
[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],_WEB_MERCATOR:[102100,3857,102113,900913],_WORLD_MERCATOR:[3395,54004],allExtents:[],version:null,constructor:function(a,b){var c=q.urlToObject(a);c.query&&(c.query.version||c.query.Version||c.query.VERSION)&&
(this.version=c.query.version||c.query.Version||c.query.VERSION);this.url=a=this._stripParameters(a,"version service request bbox format height width layers srs crs styles transparent bgcolor exceptions time elevation sld wfs".split(" "));this._url=q.urlToObject(a);this._getCapabilitiesURL=a;this._initLayer=y.hitch(this,this._initLayer);this._parseCapabilities=y.hitch(this,this._parseCapabilities);this._getCapabilitiesError=y.hitch(this,this._getCapabilitiesError);b?(this.customParameters=b.customParameters,
this.customLayerParameters=b.customLayerParameters,this.imageFormat=this._getImageFormat(b.format),this.imageTransparency=!1!==b.transparent,this.visibleLayers=b.visibleLayers?b.visibleLayers:[],this.version=b.version||this.version,b.resourceInfo?this._readResourceInfo(b.resourceInfo):this._getCapabilities()):(this.imageFormat="image/png",this.imageTransparency=!0,this.visibleLayers=[],this._getCapabilities());this._blankImageURL=T.toUrl("../images/pixel.png");this.extentProcessor=this._createExtentProcessor(0);
this._createChildLayer()},setVisibleLayers:function(a){this.visibleLayers=(a=this._checkVisibleLayersList(a))?a:[];this.refresh(!0)},setImageFormat:function(a){this.imageFormat=this._getImageFormat(a);this.refresh(!0)},setImageTransparency:function(a){this.imageTransparency=a;this.refresh(!0)},setCustomParameters:function(a,b){this.customParameters=a;this.customLayerParameters=b;this.refresh(!0)},refresh:function(){this._refreshTS=Date.now();this.inherited(arguments);this._childLayer&&this._childLayer.refresh.apply(this._childLayer,
arguments)},getImageUrl:function(a,b,c,k){if(this.visibleLayers&&0!==this.visibleLayers.length){a=this._getImageParams(a,b,c);a=this._mixinCustomLayerParameters(a);b=this.getMapURL;var r;b+=-1===b.indexOf("?")?"?":"";for(r in a)a.hasOwnProperty(r)&&(b+="?"===b.substring(b.length-1,b.length)?"":"\x26",b+=r+"\x3d"+a[r]);b=this.addTimestampToURL(b);k(q.addProxy(b))}else k(this._blankImageURL)},_setMap:function(a,b,c){var k=this.inherited(arguments);a.wrapAround180?this._childLayer&&(this.suspended&&
this._childLayer.suspend(),this._childLayer._setMap(a,k)):this._childLayer=this.extentProcessor=null;return k},_unsetMap:function(a,b){this._childLayer&&this._childLayer._unsetMap(a,this._div);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._childLayer&&this._childLayer.suspend()},onResume:function(){this.inherited(arguments);this._childLayer&&this._childLayer.resume()},_createChildLayer:function(){this._childLayer=new e(null,{extentProcessor:this._createExtentProcessor(1)});
this._childLayer._isChildLayer=!0;this._childLayer.getImageUrl=y.hitch(this,this.getImageUrl);this._childLayer.loaded=!0},_createExtentProcessor:function(a){return y.hitch(this,this._extentProcessor,a)},_extentProcessor:function(a,b){var c=b.extent,k=b.width,r=0;if(c){var v=c.getWidth()/k,B=c.bisect();c=B.extents;var C=c[a];C&&(k=B.marginLeft/v,r=0===a?k:k+c[0].getWidth()/v,k=Math.ceil(C.getWidth()/v),r=Math.ceil(r));c=C}return{extent:c,width:k,marginLeft:r}},_getImageParams:function(a,b,c){var k=
a.spatialReference.wkid;-1===t.indexOf(this.spatialReferences,k)&&a.spatialReference.latestWkid&&(k=a.spatialReference.latestWkid);if(t.some(this._WEB_MERCATOR,function(A){return A==k})){var r=t.filter(this.spatialReferences,function(A){return t.some(this._WEB_MERCATOR,function(E){return E==A})},this);0===r.length&&(r=t.filter(this.spatialReferences,function(A){return t.some(this._WORLD_MERCATOR,function(E){return E==A})},this));k=0<r.length?r[0]:this._WEB_MERCATOR[1]}this.spatialReferences=t.filter(this.spatialReferences,
function(A){return A!==k});this.spatialReferences.unshift(k);r=a.xmin;var v=a.xmax,B=a.ymin;a=a.ymax;var C={SERVICE:"WMS",REQUEST:"GetMap"};C.FORMAT=this.imageFormat;C.TRANSPARENT=this.imageTransparency?"TRUE":"FALSE";C.STYLES="";C.VERSION=this.version;C.LAYERS=this.visibleLayers?this.visibleLayers.toString():null;C.WIDTH=b;C.HEIGHT=c;this.maxWidth<b&&(C.WIDTH=this.maxWidth);this.maxHeight<c&&(C.HEIGHT=this.maxHeight);b=k?k:NaN;isNaN(b)||("1.3.0"==this.version?C.CRS="EPSG:"+b:C.SRS="EPSG:"+b);"1.3.0"==
this.version&&this._useLatLong(b)?C.BBOX=B+","+r+","+a+","+v:C.BBOX=r+","+B+","+v+","+a;return C},_initLayer:function(a,b){this.spatialReference=new x(this.extent.spatialReference);this.initialExtent=new n(this.extent);this.fullExtent=new n(this.extent);this.visibleLayers=this._checkVisibleLayersList(this.visibleLayers);var c=y.hitch(this,function(){this.loaded=!0;this.onLoad(this);var v=this._loadCallback;v&&(delete this._loadCallback,v(this))});if(m("chrome")){var k=f.defaults.io,r="with-credentials"===
k.useCors?q.canUseXhr(this.getMapURL,!0):-1;(k=-1<r?k.corsEnabledServers[r]:null)&&k.withCredentials?u({url:this.getMapURL,handleAs:"text",content:{SERVICE:"WMS",REQUEST:"GetMap"}}).addBoth(function(){c()}):c()}else c()},_readResourceInfo:function(a){a.extent?a.layerInfos?(this.extent=a.extent,this.allExtents[0]=a.extent,this.layerInfos=a.layerInfos,this.description=a.description?a.description:"",this.copyright=a.copyright?a.copyright:"",this.title=a.title?a.title:"",this.getMapURL=a.getMapURL?a.getMapURL:
this._getCapabilitiesURL,this.getFeatureInfoURL=a.getFeatureInfoURL,this.featureInfoFormat=a.featureInfoFormat,this.version=a.version?a.version:"1.3.0",this.maxWidth=a.maxWidth?a.maxWidth:5E3,this.maxHeight=a.maxHeight?a.maxHeight:5E3,this.spatialReferences=a.spatialReferences?a.spatialReferences:[],this.imageFormat=this._getImageFormat(a.format),this.setScaleRange(a.minScale,a.maxScale),this.customLayerParameters=a.customLayerParameters||this.customLayerParameters,this.customParameters=a.customParameters||
this.customParameters,this._initLayer()):this._errorHandler(Error("esri.layers.WMSLayer: unable to find the 'layerInfos' property in resourceInfo")):this._errorHandler(Error("esri.layers.WMSLayer: Unable to find the 'extent' property in resourceInfo."))},_getCapabilities:function(a){var b=this._url.query?this._url.query:{};b.SERVICE="WMS";b.REQUEST="GetCapabilities";this.version&&(b.VERSION=this.version);b=this._mixinCustomParameters(b);var c=this._url.path+"?",k;for(k in b)b.hasOwnProperty(k)&&(c+=
"?"==c.substring(c.length-1,c.length)?"":"\x26",c+=k+"\x3d"+b[k]);u({url:c,handleAs:a||"xml",headers:{"Content-Type":null},load:this._parseCapabilities,error:this._getCapabilitiesError},{usePost:!1})},_parseCapabilities:function(a,b){if(a){if("text"===b.handleAs){try{var c=(new DOMParser).parseFromString(a,"application/xml")}catch(w){}c&&!c.getElementsByTagName("parsererror").length||this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (XML Parse error.)"))}else c=
a;var k=this;this.version=this._getAttributeValue("WMS_Capabilities","version",c,null);this.version||(this.version=this._getAttributeValue("WMT_MS_Capabilities","version",c,"1.3.0"));var r=this._getTag("Service",c);this.title=this._getTagValue("Title",r,"");this.title||(this.title=this._getTagValue("Name",r,""));this.copyright=this._getTagValue("AccessConstraints",r,"");this.description=this._getTagValue("Abstract",r,"");this.maxWidth=parseInt(this._getTagValue("MaxWidth",r,5E3),10);this.maxHeight=
parseInt(this._getTagValue("MaxHeight",r,5E3),10);if(r=this._getTag("Layer",c)){var v=this._getLayerInfo(r),B=0,C=null;r=this._getTag("Capability",c);t.forEach(r.childNodes,function(w){"Layer"==w.nodeName&&(0===B?C=w:(1===B&&v.name&&(v.name="",v.subLayers=[],v.subLayers.push(this._getLayerInfo(C))),v.subLayers.push(this._getLayerInfo(w))),B++)},this);if(v&&(this.layerInfos=v.subLayers,this.layerInfos&&0!==this.layerInfos.length||(this.layerInfos=[v]),this.extent=v.extent,this.extent||(v.extent=new n(this.layerInfos[0].extent.toJson()),
this.extent=v.extent),this.allExtents=v.allExtents,this.allExtents&&this.allExtents.length||(v.allExtents=[],t.forEach(this.layerInfos[0].allExtents,function(w,D){w&&(v.allExtents[D]=new n(w.toJson()))}),this.allExtents=v.allExtents),this.spatialReferences=v.spatialReferences,!this.spatialReferences.length&&0<this.layerInfos.length)){var A=function(w){var D;for(D=0;D<w.subLayers.length;D++){var G=w.subLayers[D],H=G.spatialReferences;!H.length&&G.subLayers&&0<G.subLayers.length&&(H=A(G));if(H.length)return H}return[]};
for(r=0;r<this.layerInfos.length;r++){var E=this.layerInfos[r];this.spatialReferences=this.layerInfos[0].spatialReferences;!this.spatialReferences.length&&E.subLayers&&0<E.subLayers.length&&(this.spatialReferences=A(E));if(this.spatialReferences.length)break}}r=function(w){return(w=J.query("DCPType",k._getTag(w,c)))&&0<w.length&&(w=J.query("HTTP",w[0]))&&0<w.length&&(w=J.query("Get",w[0]))&&0<w.length&&(w=k._getAttributeValue("OnlineResource","xlink:href",w[0],null))?(w.indexOf("\x26")===w.length-
1&&(w=w.substring(0,w.length-1)),k._stripParameters(w,["service","request"])):null};E=function(w){var D=[];0===J.query("Operation",c).length?t.forEach(J.query("Format",k._getTag(w,c)),function(G){D.push(G.text?G.text:G.textContent)}):(t.forEach(J.query("Operation",c),function(G){G.getAttribute("name")===w&&t.forEach(J.query("Format",G),function(H){D.push(H.text?H.text:H.textContent)})}),D.length||t.forEach(J.query("Format",k._getTag(w,c)),function(G){D.push(G.text?G.text:G.textContent)}));return D};
this.getMapURL=r("GetMap")||this._getCapabilitiesURL;this.getMapFormats=E("GetMap");this.getMapFormats.length&&!t.some(this.getMapFormats,function(w){return-1<w.indexOf(this.imageFormat)},this)&&(this.imageFormat=this.getMapFormats[0]);if(this.getFeatureInfoURL=r("GetFeatureInfo"))this.getFeatureInfoFormats=E("GetFeatureInfo"),-1<t.indexOf(this.getFeatureInfoFormats,"text/html")?this.featureInfoFormat="text/html":-1<t.indexOf(this.getFeatureInfoFormats,"text/plain")&&(this.featureInfoFormat="text/plain");
if(!this.featureInfoFormat){var F=function(w){if(w&&(w.queryable=!1,w.subLayers))for(var D=0;D<w.subLayers.length;D++)F(w.subLayers[D])};F(v)}this._initLayer()}else this._errorHandler(Error("esri.layers.WMSLayer: Response does not contain any layers."))}else"xml"===b.handleAs?this._getCapabilities("text"):this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (Response is null.)"))},_getCapabilitiesError:function(a){a&&a.message&&(a.message="GetCapabilities request for "+
this._getCapabilitiesURL+" failed. ("+a.message+")");this._errorHandler(a)},_getLayerInfo:function(a){if(!a)return null;var b=new d;b.name="";b.title="";b.description="";b.allExtents=[];b.spatialReferences=[];b.queryable="1"===a.getAttribute("queryable");b.subLayers=[];var c=this._getTag("LatLonBoundingBox",a);c&&(b.allExtents[0]=this._getExtent(c,4326));var k=this._getTag("EX_GeographicBoundingBox",a);if(k){var r=new n(0,0,0,0,new x({wkid:4326}));r.xmin=parseFloat(this._getTagValue("westBoundLongitude",
k,0));r.ymin=parseFloat(this._getTagValue("southBoundLatitude",k,0));r.xmax=parseFloat(this._getTagValue("eastBoundLongitude",k,0));r.ymax=parseFloat(this._getTagValue("northBoundLatitude",k,0));b.allExtents[0]=r}c||k||(r=new n(-180,-90,180,90,new x({wkid:4326})),b.allExtents[0]=r);b.extent=b.allExtents[0];var v=-1<t.indexOf(["1.0.0","1.1.0","1.1.1"],this.version)?"SRS":"CRS";t.forEach(a.childNodes,function(B){if("Name"==B.nodeName)b.name=(B.text?B.text:B.textContent)||"";else if("Title"==B.nodeName)b.title=
(B.text?B.text:B.textContent)||"";else if("Abstract"==B.nodeName)b.description=(B.text?B.text:B.textContent)||"";else if("BoundingBox"==B.nodeName){var C=B.getAttribute(v);C&&0===C.indexOf("EPSG:")?(C=parseInt(C.substring(5),10),0===C||isNaN(C)||(B="1.3.0"==this.version?this._getExtent(B,C,this._useLatLong(C)):this._getExtent(B,C),b.allExtents[C]=B,b.extent||(b.extent=B))):C&&0===C.indexOf("CRS:")?(C=parseInt(C.substring(4),10),0===C||isNaN(C)||(this._CRS_TO_EPSG[C]&&(C=this._CRS_TO_EPSG[C]),b.allExtents[C]=
this._getExtent(B,C))):(C=parseInt(C,10),0===C||isNaN(C)||(b.allExtents[C]=this._getExtent(B,C)))}else if(B.nodeName==v)B=(B.text?B.text:B.textContent).split(" "),t.forEach(B,function(A){A=-1<A.indexOf(":")?parseInt(A.split(":")[1],10):parseInt(A,10);0===A||isNaN(A)||(this._CRS_TO_EPSG[A]&&(A=this._CRS_TO_EPSG[A]),-1==t.indexOf(b.spatialReferences,A)&&b.spatialReferences.push(A))},this);else if("Style"!=B.nodeName||b.legendURL)"Layer"===B.nodeName&&b.subLayers.push(this._getLayerInfo(B));else if(B=
this._getTag("LegendURL",B))if(B=this._getTag("OnlineResource",B))b.legendURL=B.getAttribute("xlink:href")},this);b.title=b.title||b.name;return b},_getImageFormat:function(a){switch(a?a.toLowerCase():""){case "jpg":return"image/jpeg";case "bmp":return"image/bmp";case "gif":return"image/gif";case "svg":return"image/svg+xml";default:return"image/png"}},getImageFormat:function(){switch(this.imageFormat?this.imageFormat.toLowerCase():""){case "image/jpeg":return"jpg";case "image/bmp":return"bmp";case "image/gif":return"gif";
case "image/svg+xml":return"svg";default:return"png"}},_getExtent:function(a,b,c){if(a){var k=new n;var r=parseFloat(a.getAttribute("minx")),v=parseFloat(a.getAttribute("miny")),B=parseFloat(a.getAttribute("maxx"));a=parseFloat(a.getAttribute("maxy"));c?(k.xmin=isNaN(v)?-1*Number.MAX_VALUE:v,k.ymin=isNaN(r)?-1*Number.MAX_VALUE:r,k.xmax=isNaN(a)?Number.MAX_VALUE:a,k.ymax=isNaN(B)?Number.MAX_VALUE:B):(k.xmin=isNaN(r)?-1*Number.MAX_VALUE:r,k.ymin=isNaN(v)?-1*Number.MAX_VALUE:v,k.xmax=isNaN(B)?Number.MAX_VALUE:
B,k.ymax=isNaN(a)?Number.MAX_VALUE:a);k.spatialReference=new x({wkid:b})}return k},_useLatLong:function(a){var b;for(b=0;b<this._REVERSED_LAT_LONG_RANGES.length;b++){var c=this._REVERSED_LAT_LONG_RANGES[b];if(a>=c[0]&&a<=c[1]){var k=!0;break}}return k},_getTag:function(a,b){var c=J.query(a,b);return c&&0<c.length?c[0]:null},_getTagValue:function(a,b,c){return(a=J.query(a,b))&&0<a.length?a[0].text?a[0].text:a[0].textContent:c},_getAttributeValue:function(a,b,c,k){return(a=J.query(a,c))&&0<a.length?
a[0].getAttribute(b):k},_checkVisibleLayersList:function(a){if(a&&0<a.length&&this.layerInfos&&0<this.layerInfos.length&&"number"==typeof a[0]){var b=[];t.forEach(a,function(c){c<this.layerInfos.length&&b.push(this.layerInfos[c].name)},this);a=b}return a},_stripParameters:function(a,b){var c=q.urlToObject(a),k,r=[];for(k in c.query)c.query.hasOwnProperty(k)&&-1===t.indexOf(b,k.toLowerCase())&&r.push(k+"\x3d"+c.query[k]);return c.path+(r.length?"?"+r.join("\x26"):"")},_getPopupGraphic:function(a,b){var c=
this.visibleLayers;if(!c||0===c.length)return null;var k=this._popupGraphic;k||(k=new z({title:this.title||""}),k.setContent(function(E){var F=document.createElement("div");if(E=E&&E.attributes&&E.attributes.QUERY_URL)F.style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;",F.innerHTML='\x3ciframe sandbox src\x3d"'+E+'" width\x3d"250" height\x3d"147" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" style\x3d"position:absolute;top:0;left:0;width:100%;height:100%;border:0;background:url(\''+
T.toUrl("../dijit/images/loading-throb.gif")+"') transparent center no-repeat;\" onload\x3d\"(event.target || event.srcElement).style.background \x3d 'none';\"\x3e\x3c/iframe\x3e";return F}),k=this._popupGraphic=new g(null,null,{},k),k._layer=this);var r=function(E){var F=[];if(E&&(E.queryable&&E.showPopup&&E.name&&F.push(E.name),E.subLayers))for(var w=0;w<E.subLayers.length;w++){var D=r(E.subLayers[w]);D.length&&(F=F.concat(D))}return F},v=r({subLayers:this.layerInfos});v=t.filter(v,function(E){return-1<
t.indexOf(c,E)});if(v.length){var B=this.getFeatureInfoURL,C=this._getImageParams(a.extent,a.width,a.height);C=this._mixinCustomLayerParameters(C);C.REQUEST="GetFeatureInfo";C.INFO_FORMAT=this.featureInfoFormat;C.QUERY_LAYERS=v.join();C.FEATURE_COUNT=25;"1.3.0"===this.version?(C.I=Math.round(b.x),C.J=Math.round(b.y)):(C.X=Math.round(b.x),C.Y=Math.round(b.y));B+=-1===B.indexOf("?")?"?":"";for(var A in C)C.hasOwnProperty(A)&&(B+="?"===B.substring(B.length-1,B.length)?"":"\x26",B+=A+"\x3d"+C[A]);k.attributes.QUERY_URL=
B;return k}return null},_mixinCustomParameters:function(a){if(this.customParameters)for(var b in this.customParameters)a[b]=encodeURIComponent(this.customParameters[b]);return a},_mixinCustomLayerParameters:function(a){if(this.customLayerParameters||this.customParameters){var b=y.clone(this.customParameters||{});y.mixin(b,this.customLayerParameters||{});for(var c in b)"styles"===c.toLowerCase()&&delete a.STYLES,a[c]=encodeURIComponent(b[c])}return a}});y.setObject("layers.WMSLayer",p,l);return p})},
"esri/layers/WMSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../kernel"],function(T,J,p,y,t){T=T(null,{declaredClass:"esri.layers.WMSLayerInfo",name:null,title:null,description:null,extent:null,legendURL:null,subLayers:[],allExtents:[],spatialReferences:[],queryable:!1,showPopup:!1,constructor:function(m){m&&(this.name=m.name,this.title=m.title,this.description=m.description,this.extent=m.extent,this.legendURL=m.legendURL,this.subLayers=m.subLayers?
m.subLayers:[],this.allExtents=m.allExtents?m.allExtents:[],this.spatialReferences=m.spatialReferences?m.spatialReferences:[],this.queryable=!!m.queryable,this.showPopup=!!m.showPopup)},clone:function(){var m={name:this.name,title:this.title,description:this.description,legendURL:this.legendURL};this.extent&&(m.extent=this.extent.getExtent());m.subLayers=[];p.forEach(this.subLayers,function(g){m.subLayers.push(g.clone())});m.allExtents=[];for(f in this.allExtents){var f=parseInt(f,10);isNaN(f)||(m.allExtents[f]=
this.allExtents[f].getExtent())}m.spatialReferences=[];p.forEach(this.spatialReferences,function(g){m.spatialReferences.push(g)});m.queryable=this.queryable;m.showPopup=this.showPopup;return m}});J.setObject("layers.WMSLayerInfo",T,t);return T})},"esri/layers/WFSLayer":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/has dojo/on ../request ../kernel ../graphic ../renderers/jsonUtils ../symbols/jsonUtils ../Color ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../SpatialReference ../geometry/webMercatorUtils ../geometry/Extent ../geometry/Point ../geometry/Multipoint ../geometry/Polyline ../geometry/Polygon ./LabelClass ./GraphicsLayer".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C){T=T([C],{declaredClass:"esri.layers.WFSLayer",constructor:function(A){this.geometryType=this.describeFeatureTypeUrl=this.getFeatureUrl=this.layerNamespace="";this.fields=[];this.spatialReferences=[];this.fullExtent=null;this.visible=!0;this.renderer=null;this.id="WFSLayer";this._url="";this._version="1.1.0";this._layerName="";this._nsLayerNames={};this._layerDefinedGeometryType="esriGeometryComplex";this._wkid=3857;this._mode="snapshot";
this._maxFeatures=100;this._inverseResponse=this._inverseFilter=!1;this._nsGeometryFieldName=this._getFeatureRequest=this._nsFields="";this._graphicArray=[];this._gmlNS="http://www.opengis.net/gml";this._layerEventHandlers=[];this.customParameters=this._describeFeatureTypeCallback=this._getCapabilitiesCallback=null;this.showLabels=!0;this.labelingInfo=null;A&&(A.id&&(this.id=A.id),this.showLabels=null!==A.showLabels?A.showLabels:!0);this.onError=p.hitch(this,this.onError);this._errorSupport=p.hitch(this,
this._errorSupport);this._parseGml=p.hitch(this,this._parseGml);this._getCapabilities=p.hitch(this,this._getCapabilities);this._getCapabilitiesResponse=p.hitch(this,this._getCapabilitiesResponse);this._describeFeatureTypeResponse=p.hitch(this,this._describeFeatureTypeResponse);this._pointSymbol=new n(n.STYLE_CIRCLE,6,new h(h.STYLE_SOLID,new x([0,255,0]),1),new x([255,0,0]));this._lineSymbol=new h(h.STYLE_SOLID,new x([0,255,0]),3);this._polygonSymbol=new e(e.STYLE_SOLID,new h(h.STYLE_SOLID,new x([255,
0,0]),2),new x([255,255,0,.25]));this.loaded=!1;this._isProjectedOk=!0},initialize:function(A,E){A.id&&(this.id=A.id);A.url&&(this._url=A.url);A.version&&(this._version=A.version);this.customParameters=A.customParameters;this._getCapabilities(E)},selectLayer:function(A,E){this._layerName=A.layerName;this._wkid=A.wkid;this._mode=A.mode;this._maxFeatures=A.maxFeatures;this._inverseResponse=A.swapXY;this._inverseFilter=A.swapXYFilter;this.geometryType=A.geometryType;this._describeFeatureType(E);this.loaded=
!0},toJson:function(){var A={};A.id=this.id;A.url=this._url;A.version=this._version;A.mode="snapshot"===this._mode?0:1;A.name=this._layerName;A.geometryType=this.geometryType;A.wkid=this._wkid;A.maxFeatures=this._maxFeatures;A.swapXY=this._inverseResponse;A.swapXYFilter=this._inverseFilter;A.pointSymbol=this._pointSymbol.toJson();A.lineSymbol=this._lineSymbol.toJson();A.polygonSymbol=this._polygonSymbol.toJson();A.showLabels=this.showLabels;this.labelingInfo&&(A.labelingInfo=y.map(this.labelingInfo,
function(E){return E.toJson()}));this.customParameters&&(A.customParameters=this.customParameters);return A},fromJson:function(A,E){A.id&&(this.id=A.id);A.url&&(this._url=A.url);A.version&&(this._version=A.version);A.mode&&(this._mode=0===A.mode?"snapshot":"onDemand");A.name&&(this._layerName=A.name);A.geometryType&&(this.geometryType=A.geometryType);A.wkid&&(this._wkid=A.wkid);A.maxFeatures&&(this._maxFeatures=A.maxFeatures);A.swapXY&&(this._inverseResponse=A.swapXY);A.swapXYFilter&&(this._inverseFilter=
A.swapXYFilter);A.pointSymbol&&(this._pointSymbol=z.fromJson(A.pointSymbol));A.lineSymbol&&(this._lineSymbol=z.fromJson(A.lineSymbol));A.polygonSymbol&&(this._polygonSymbol=z.fromJson(A.polygonSymbol));this.showLabels=null!=A.showLabels?A.showLabels:!0;A.labelingInfo&&(this.labelingInfo=y.map(A.labelingInfo,function(F){return new B(F)}));this.customParameters=A.customParameters;this._getCapabilities(E);this.loaded=!0},setPointSymbol:function(A){this._pointSymbol=A},setLineSymbol:function(A){this._lineSymbol=
A},setPolygonSymbol:function(A){this._polygonSymbol=A},_setMap:function(A){this._map=A;var E=this.inherited(arguments);this._map&&(this._layerEventHandlers.push(this._map.on("extent-change",p.hitch(this,"refresh"))),this._layerEventHandlers.push(this.on("visibility-change",p.hitch(this,"_visibilityChange"))));this._getFeature();this.refresh();return E},_unsetMap:function(){for(var A=0;A<this._layerEventHandlers.length;A++)t.disconnect(this._layerEventHandlers[A]);this.refresh();this.inherited(arguments)},
refresh:function(){this.clear();this.redraw();"ondemand"===this._mode.toLowerCase()&&this._fireUpdateStart()},redraw:function(){if(this.visible)for(var A=0;A<this._graphicArray.length;A++){var E=this._graphicArray[A],F=E.geometry,w=null;"point"===F.type?w=this.renderer?this.renderer.getSymbol(E):this._pointSymbol:"multipoint"===F.type?w=this.renderer?this.renderer.getSymbol(E):this._pointSymbol:"polyline"===F.type?w=this.renderer?this.renderer.getSymbol(E):this._lineSymbol:"polygon"===F.type&&(w=
this.renderer?this.renderer.getSymbol(E):this._polygonSymbol);E.setSymbol(w);this.add(E)}},_visibilityChange:function(A){this.visible=A.visible;this.redraw()},onUpdateStart:function(){this._getFeature()},onUpdateEnd:function(){this.clear();this.redraw()},setLabelingInfo:function(A){A?(this.labelingInfo=A,this._fixLabelExpr()):delete this.labelingInfo;this.onLabelingInfoChange()},onLabelingInfoChange:function(){},_fixLabelExpr:function(){var A=/\[([^\[\]]+)\]/ig,E,F=this,w=function(D,G){var H=F._getField(G,
!0);return"["+(H&&H.name||G)+"]"};y.forEach(this.labelingInfo,function(D){if(E=D.labelExpression)D.labelExpression=E.replace(A,w)})},_getField:function(A,E){var F=this.fields;if(!F||0===F.length)return null;var w;E&&(A=A.toLowerCase());y.some(F,function(D){var G=!1;(G=E?D&&D.name.toLowerCase()===A?!0:!1:D&&D.name===A?!0:!1)&&(w=D);return G});return w},setCustomParameters:function(A){this.customParameters=A;this._getFeature();this.refresh()},_getCapabilities:function(A){this._getCapabilitiesCallback=
A;A=p.trim(this._url);if(""===A)this.onError("WFSLayer: url is invalid");else if("1.0.0"!==this._version&&"1.1.0"!==this._version&&"2.0.0"!==this._version)this.onError("WFSLayer: version is invalid");else if(""!==A){var E=A.indexOf("?");E=this._checkForUrlInUrl(A,E);E="?"===A.charAt(A.length-1)?"":-1===E?"?":"\x26";A=A+E+"service\x3dWFS\x26request\x3dGetCapabilities\x26version\x3d"+this._version;A=this._appendCustomParameters(A);g({url:A,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._getCapabilitiesResponse,
this._errorSupport)}},_errorSupport:function(A){this.onError(A)},_getCapabilitiesResponse:function(A){var E,F,w,D=new DOMParser;try{var G=D.parseFromString(A,"text/xml"),H=this._readExceptionReport(G,A);if(H)this.onError("WFSLayer: getCapabilities - returns exception: "+H);else{var M=G.documentElement.attributes.getNamedItem("version");if(M){this._version=M.value;var R="2.0.0"===this._version?"http://www.opengis.net/wfs/2.0":"http://www.opengis.net/wfs";if("2.0.0"===this._version){var N=G.getElementsByTagNameNS("http://www.opengis.net/ows/1.1",
"Operation");for(E=0;E<N.length;E++){if((w=N[E].attributes.getNamedItem("name"))&&"DescribeFeatureType"===w.value){var K=N[E].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Get");this.describeFeatureTypeUrl=K[0].attributes.getNamedItem("xlink:href").value}if(w&&"GetFeature"===w.value){var V=N[E].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Post");this.getFeatureUrl=V[0].attributes.getNamedItem("xlink:href").value}}}else if("1.1.0"===this._version)for(N=G.getElementsByTagNameNS("http://www.opengis.net/ows",
"Operation"),E=0;E<N.length;E++)(w=N[E].attributes.getNamedItem("name"))&&"DescribeFeatureType"===w.value&&(K=N[E].getElementsByTagNameNS("http://www.opengis.net/ows","Get"),this.describeFeatureTypeUrl=K[0].attributes.getNamedItem("xlink:href").value),w&&"GetFeature"===w.value&&(V=N[E].getElementsByTagNameNS("http://www.opengis.net/ows","Post"))&&V.length&&(this.getFeatureUrl=V[0].attributes.getNamedItem("xlink:href").value);else if("1.0.0"===this._version){var Z=G.getElementsByTagNameNS(R,"DescribeFeatureType");
if(!Z||!Z.length){this.onError("WFSLayer: getCapabilities - no describeFeatureType info");return}K=Z[0].getElementsByTagNameNS(R,"Get");this.describeFeatureTypeUrl=K[0].attributes.getNamedItem("onlineResource").value;var ca=G.getElementsByTagNameNS(R,"GetFeature");if(!ca||!ca.length){this.onError("WFSLayer: getCapabilities - no GetFeature info");return}(V=ca[0].getElementsByTagNameNS(R,"Post"))&&V.length&&(this.getFeatureUrl=V[0].attributes.getNamedItem("onlineResource").value)}this._nsLayerNames=
{};A=[];var ea=G.getElementsByTagNameNS(R,"FeatureTypeList");for(E=0;E<ea.length;E++){var ka=ea[E].getElementsByTagNameNS(R,"FeatureType");for(F=0;F<ka.length;F++){var la=ka[F],ta=la.getElementsByTagNameNS(R,"Name")[0],za=ta.textContent,ia=za.indexOf(":"),U=za.substring(0,ia),ja=za.substring(ia+1),S=ta.lookupNamespaceURI(U);null===S&&(S=ta.lookupNamespaceURI(null));this._nsLayerNames[ja]={prefix:U,namespace:S};var O=la.getElementsByTagNameNS(R,"Title"),I=0<O.length?O[0].textContent:"";""===I&&(I=
ja);this.spatialReferences=this._readFactoryCodes(this._version,la);var ba=this._readDefaultBBOX(this._version,la);A.push({name:ja,title:I,spatialReferences:this.spatialReferences,extent:ba})}}this._describeFeatureType();var W=this._getCapabilitiesCallback;W&&W(A)}else this.onError("WFSLayer: getCapabilities - document not recognized.")}}catch(aa){this.onError("WFSLayer: getCapabilities - parsing error")}},_readFactoryCodes:function(A,E){var F,w=[];if("2.0.0"===A||"1.1.0"===A){var D=E.getElementsByTagNameNS("*",
"DefaultSRS");this._addCodeList(w,D[0]);D=E.getElementsByTagNameNS("*","DefaultCRS");this._addCodeList(w,D[0]);D=E.getElementsByTagNameNS("*","OtherSRS");for(F=0;F<D.length;F++)this._addCodeList(w,D[F]);D=E.getElementsByTagNameNS("*","OtherCRS");for(F=0;F<D.length;F++)this._addCodeList(w,D[F])}else"1.0.0"===A&&(D=E.getElementsByTagNameNS("*","SRS"),this._addCodeList(w,D[0]));for(D=!1;0<w.length;){4326===w[0]&&(D=!0);break}D||w.push(4326);return w},_addCodeList:function(A,E){if(E){var F=E.textContent.match(/\d+/g);
0<F.length&&(F=parseInt(F[F.length-1],10),84===F&&(F=4326),A.push(F))}},_readDefaultBBOX:function(A,E){if("2.0.0"===A||"1.1.0"===A){var F=E.getElementsByTagNameNS("*","WGS84BoundingBox");if(!F[0]||!F[0].attributes)return[];var w=F[0].getElementsByTagNameNS("*","LowerCorner");var D=F[0].getElementsByTagNameNS("*","UpperCorner");if(0>=w.length||0>=D.length)return[];var G=w[0].textContent;F=G.indexOf(" ");w=G.substring(0,F);G=G.substring(F+1);F=D[0].textContent;var H=F.indexOf(" ");D=F.substring(0,H);
F=F.substring(H+1)}else if("1.0.0"===A){F=E.getElementsByTagNameNS("*","LatLongBoundingBox");if(!F[0]||!F[0].attributes)return[];w=F[0].attributes.getNamedItem("minx").value;G=F[0].attributes.getNamedItem("miny").value;D=F[0].attributes.getNamedItem("maxx").value;F=F[0].attributes.getNamedItem("maxy").value}w=parseFloat(w,10);G=parseFloat(G,10);D=parseFloat(D,10);F=parseFloat(F,10);return[w,G,D,F]},_describeFeatureType:function(A){if(""!==this._layerName)if(""===this.describeFeatureTypeUrl)this.onError("WFSLayer: invalid describeFeatureType url");
else if(""===this._wkid)this.onError("WFSLayer: invalid wkid");else if("snapshot"!==this._mode&&"onDemand"!==this._mode)this.onError("WFSLayer: invalid mode");else if(""===this._maxFeatures||0>this._maxFeatures||1E6<this._maxFeatures)this.onError("WFSLayer: invalid maxFeatures");else if(this._describeFeatureTypeCallback=A,A=p.trim(this.describeFeatureTypeUrl),""!==A){var E=A.indexOf("?");E=this._checkForUrlInUrl(A,E);var F="?"===A.charAt(A.length-1)?"":-1===E?"?":"\x26",w=this._nsLayerNames[this._layerName];
if(void 0===w)this.onError("WFSLayer: invalid layerName");else E=w.prefix,w=w.namespace,A=A+F+"service\x3dWFS\x26request\x3dDescribeFeatureType\x26version\x3d"+this._version,A+="\x26typeName\x3d",""!==E&&(A+=E+":"),A+=encodeURIComponent(this._layerName),""!==E&&(A+="\x26namespace\x3dxmlns("+E+"\x3d"+encodeURIComponent(w)+")"),A=this._appendCustomParameters(A),g({url:A,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._describeFeatureTypeResponse,this._errorSupport)}},_describeFeatureTypeResponse:function(A){var E=
(new DOMParser).parseFromString(A,"text/xml");if(A=this._readExceptionReport(E,A))this.onError("WFSLayer: DescribeFeatureType - returns exception: "+A);else{this.fields=[];A=E.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","schema");for(E=0;E<A.length;E++){var F=this._readAllFields(A[E]);null!==F&&(this._layerDefinedGeometryType=F[0],this.fields=F[1])}this.geometryType&&""!==this.geometryType||(this.geometryType=this._layerDefinedGeometryType);for(E=0;E<this.fields.length;E++)A=this.fields[E],
"esriFieldTypeGeometry"===A.type&&(this._nsGeometryFieldName=A.name);this.layerNamespace=this._nsLayerNames[this._layerName].namespace;if(0===this.fields.length)this.onError("WFSLayer: DescribeFeatureType - can't get fields");else this._getFeature(),(E=this._describeFeatureTypeCallback)&&E(this.fields)}},_readAllFields:function(A){for(var E=A.childNodes,F=0;F<E.length;F++){var w=E[F];if("element"===w.localName){var D=w.attributes;if(D.name.value===this._layerName)return(E=D.type)?(w=E.value,E=w.indexOf(":"),
w=w.substring(E+1),this._readFieldsFromGlobalComplextType(A,w)):this._readFieldsFromLocalComplextType(w)}}return null},_readFieldsFromGlobalComplextType:function(A,E){for(var F=A.childNodes,w=0;w<F.length;w++){var D=F[w];if("complexType"===D.localName&&D.attributes.name.value===E)return this._readFieldsFromLocalComplextType(D)}return null},_readFieldsFromLocalComplextType:function(A){for(var E=[],F="esriGeometryComplex",w=A.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","element"),D=0;D<
w.length;D++){var G=w[D],H="",M=G.attributes.getNamedItem("name");M&&(H=M.value);if(""!==H){var R=A="",N=G.attributes.getNamedItem("type");M="unknown";if(null!==N){R=N.value;var K=R.indexOf(":");A=R.substring(0,K);R=R.substring(K+1);M=N.lookupNamespaceURI(A);null===M&&(M=N.lookupNamespaceURI(null))}if(""===R){G=G.childNodes;for(var V=0;V<G.length;V++)if(A=G[V],"simpleType"===A.localName){A=A.childNodes;for(V=0;V<A.length;V++)if(node2=A[V],"restriction"===node2.localName){N=node2.attributes.getNamedItem("base");
R=N.value;K=R.indexOf(":");A=R.substring(0,K);R=R.substring(K+1);break}if(""!==R)break}}G="Unknown";switch(R){case "integer":case "nonPositiveInteger":case "negativeInteger":case "long":case "int":case "short":case "byte":case "nonNegativeInteger":case "unsignedLong":case "unsignedInt":case "unsignedShort":case "unsignedByte":case "positiveInteger":G="esriFieldTypeInteger";E.push({name:H,alias:H,type:G,wfsNamespace:M});break;case "float":case "double":case "decimal":G="esriFieldTypeDouble";E.push({name:H,
alias:H,type:G,wfsNamespace:M});break;case "boolean":case "string":case "gYearMonth":case "gYear":case "gMonthDay":case "gDay":case "gMonth":case "anyURI":case "QName":case "NOTATION":case "normalizedString":case "token":case "language":case "IDREFS":case "ENTITIES":case "NMTOKEN":case "NMTOKENS":case "Name":case "NCName":case "ID":case "IDREF":case "ENTITY":G="esriFieldTypeString";E.push({name:H,alias:H,type:G,wfsNamespace:M});break;case "duration":case "dateTime":case "time":case "date":G="esriFieldTypeDate";
E.push({name:H,alias:H,type:G,wfsNamespace:M});break;case "PointPropertyType":case "MultiPointPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPoint";E.push({name:H,alias:H,type:G,wfsNamespace:M});break;case "MultiCurvePropertyType":case "MultiLineStringPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPolyline";E.push({name:H,alias:H,type:G,wfsNamespace:M});break;case "MultiSurfacePropertyType":case "MultiPolygonPropertyType":G="esriFieldTypeGeometry";F="esriGeometryPolygon";E.push({name:H,
alias:H,type:G,wfsNamespace:M});break;case "GeometryPropertyType":case "MultiGeometryPropertyType":G="esriFieldTypeGeometry",F="esriGeometryComplex",E.push({name:H,alias:H,type:G,wfsNamespace:M})}}}return[F,E]},_getFeature:function(){var A="\x3c?xml version\x3d'1.0' encoding\x3d'utf-8'?\x3e\n\x3cGetFeature \n xmlns:xsi\x3d'http://www.w3.org/2001/XMLSchema-instance'\n xmlns:gml\x3d'http://www.opengis.net/gml'\n xmlns:ogc\x3d'http://www.opengis.net/ogc'\n xmlns:wfs\x3d'http://www.opengis.net/wfs'\n";
A="2.0.0"===this._version?A+" xmlns\x3d'http://www.opengis.net/wfs/2.0'\n":A+" xmlns\x3d'http://www.opengis.net/wfs'\n";var E=this._nsLayerNames[this._layerName];if(void 0===E)this.onError("WFSLayer: invalid layerName");else{var F=E.prefix;E=E.namespace;if("ondemand"===this._mode.toLowerCase()&&""===this._nsGeometryFieldName)this.onError("WFSLayer: GetFeature - can't use 'onDemand' mode as geometryFieldName is unknown.");else if(A+=" xmlns:"+F+"\x3d'"+E+"'\n",A="2.0.0"===this._version?A+(" version\x3d'"+
this._version+"' service\x3d'WFS' count\x3d'"+this._maxFeatures+"'\x3e\n"):A+(" version\x3d'"+this._version+"' service\x3d'WFS' maxFeatures\x3d'"+this._maxFeatures+"'\x3e\n"),A="2.0.0"===this._version?A+(" \x3cQuery typeNames\x3d'"+F+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"):A+(" \x3cwfs:Query typeName\x3d'"+F+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"),"ondemand"===this._mode.toLowerCase()&&(A=A+"  \x3cogc:Filter xmlns:ogc\x3d'http://www.opengis.net/ogc'\x3e\n   \x3cogc:BBOX\x3e\n    \x3cogc:PropertyName\x3e"+
(F+":"+this._nsGeometryFieldName+"\x3c/ogc:PropertyName\x3e\n"),A+="    \x3cgml:Box srsName\x3d'EPSG:"+this._wkid+"'\x3e\n",A=this._inverseFilter?A+"      \x3cgml:coordinates\x3e{ymin},{xmin} {ymax},{xmax}\x3c/gml:coordinates\x3e\n":A+"      \x3cgml:coordinates\x3e{xmin},{ymin} {xmax},{ymax}\x3c/gml:coordinates\x3e\n",A+="    \x3c/gml:Box\x3e\n   \x3c/ogc:BBOX\x3e\n  \x3c/ogc:Filter\x3e\n"),A="2.0.0"===this._version?A+" \x3c/Query\x3e\n":A+" \x3c/wfs:Query\x3e\n",this._getFeatureRequest=A+"\x3c/GetFeature\x3e\n",
""===this.getFeatureUrl)this.onError("WFSLayer: getFeature - server doesn't support POST method.");else if(""!==this._getFeatureRequest&&this._map&&null!==this._map.spatialReference.wkid){A=this._getFeatureRequest;if("ondemand"===this._mode.toLowerCase()){A=this._map.extent.xmin;F=this._map.extent.ymin;E=this._map.extent.xmax;var w=this._map.extent.ymax,D={},G=this._map.spatialReference,H=new d(this._wkid);this._projectFromSRToSR(G,H,A,F,D)&&(A=D.x,F=D.y);this._projectFromSRToSR(G,H,E,w,D)&&(E=D.x,
w=D.y);A=this._getFeatureRequest.replace(/{xmin}/,A).replace(/{ymin}/,F).replace(/{xmax}/,E).replace(/{ymax}/,w)}F=this._appendCustomParameters(this.getFeatureUrl);g({url:F,handleAs:"text",headers:{"Content-Type":"text/xml"},postData:A},{usePost:!0}).then(this._parseGml,this._errorSupport)}}},_parseGml:function(A){if(this._map&&this._map.spatialReference&&this._map.spatialReference.wkid){var E=(new DOMParser).parseFromString(A,"text/xml");if(A=this._readExceptionReport(E,A))this.onError("WFSLayer: GetFeature - returns exception: "+
A);else this._gmlNS="2.0.0"===this._version?"http://www.opengis.net/gml/3.2":"http://www.opengis.net/gml",""===this._wkid&&(this._wkid=this._map.spatialReference.wkid),this._graphicArray=this._readFeatureMembers(E,this._wkid,2,this._nsLayerNames[this._layerName].namespace,this._layerName),this.fullExtent=this._createFullExtent(this._graphicArray),this.onLabelingInfoChange(),"ondemand"===this._mode.toLowerCase()?this._fireUpdateEnd():this.refresh()}},_limit4326:function(A){for(var E=0;E<A.length;E++){var F=
A[E].geometry;4326===F.spatialReference.wkid&&(F.x=this._limit4326X(F.x),F.y=this._limit4326Y(F.y))}},_limit4326X:function(A){180<=A&&(A=179.99);-180>=A&&(A=-179.99);return A},_limit4326Y:function(A){90<=A&&(A=89.99);-90>=A&&(A=-89.99);return A},_createFullExtent:function(A){for(var E=null,F=0;F<A.length;F++){var w=A[F].geometry,D=null;(D="point"===w.geometryType?new b(w.x,w.y,w.x,w.y,w.spatialReference):w.getExtent())&&(E=null===E?D:E.union(D))}return E},_readExceptionReport:function(A,E){return 0<
A.getElementsByTagNameNS("*","ExceptionReport").length||0<A.getElementsByTagNameNS("*","ServiceExceptionReport").length?E:""},_readFeatureMembers:function(A,E,F,w,D){var G=this._readWkidFromNode(A);-1!=G&&(E=G);G=this._readSrsDimension(A);0!==G&&(F=G);var H=[];var M=A.getElementsByTagNameNS("*","featureMembers");for(G=0;G<M.length;G++){var R=M[G];var N=R.getElementsByTagNameNS(w,D);0===N.length&&(N=R.getElementsByTagNameNS(null,D));0===N.length&&(N=R.getElementsByTagNameNS("*",D));for(R=0;R<N.length;R++)this._readLayer(H,
N[R],E,F)}M=A.getElementsByTagNameNS("*","featureMember");for(G=0;G<M.length;G++)for(R=M[G],N=R.getElementsByTagNameNS(w,D),0===N.length&&(N=R.getElementsByTagNameNS(null,D)),0===N.length&&(N=R.getElementsByTagNameNS("*",D)),R=0;R<N.length;R++)this._readLayer(H,N[R],E,F);M=A.getElementsByTagNameNS("*","member");for(G=0;G<M.length;G++)for(R=M[G],N=R.getElementsByTagNameNS(w,D),0===N.length&&(N=R.getElementsByTagNameNS(null,D)),0===N.length&&(N=R.getElementsByTagNameNS("*",D)),R=0;R<N.length;R++)this._readLayer(H,
N[R],E,F);return H},_readLayer:function(A,E,F,w){var D=this._readSrsDimension(E);0!==D&&(w=D);var G=E.childNodes,H="",M=null;for(E=0;E<G.length;E++){var R=G[E];if(1==R.nodeType&&(D=R.localName,"boundedBy"!==D)){R=this._readGeometry(R,F,w);if(!this._isProjectedOk){this._isProjectedOk=!0;break}if(null!==R&&(M=R,H=D,"point"!==M.geometryType||"esriGeometryPolygon"!==this.geometryType&&"esriGeometryPolyline"!==this.geometryType))break}}if(M){F={};for(E=0;E<G.length;E++)if(R=G[E],D=R.localName,w=R.textContent,
D!==H)for(R=0;R<this.fields.length;R++){var N=this.fields[R];N.name==D&&(F[D]="esriFieldTypeDouble"===N.type?parseFloat(w,10):"esriFieldTypeInteger"===N.type?parseInt(w,10):w.trim())}this._convertWFSGeometryToGraphicObjects(A,M,F)}},_convertWFSGeometryToGraphicObjects:function(A,E,F){if("point"===E.geometryType&&("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType)){var w=new u;E=new c(E);w.setGeometry(E);w.setAttributes(F);A.push(w)}else if("multipoint"===E.geometryType&&
("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType))w=new u,E=new k(E),w.setGeometry(E),w.setAttributes(F),A.push(w);else if("polyline"===E.geometryType&&("esriGeometryPolyline"===this.geometryType||"esriGeometryComplex"===this.geometryType))w=new u,E=new r(E),w.setGeometry(E),w.setAttributes(F),A.push(w);else if("polygon"===E.geometryType&&("esriGeometryPolygon"===this.geometryType||"esriGeometryComplex"===this.geometryType))w=new u,E=new v(E),w.setGeometry(E),w.setAttributes(F),
A.push(w);else if("multigeometry"===E.geometryType)for(w=0;w<E.length;w++)this._convertWFSGeometryToGraphicObjects(A,E[w],F)},_readGeometry:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);var D=A.getElementsByTagNameNS(this._gmlNS,"MultiSurface");if(1<=D.length)for(w=0;w<D.length;)return this._readMultiSurface(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"MultiCurve");if(1<=D.length){var G=[];for(w=0;w<D.length;w++){var H=this._readMultiCurve(D[w],
E,F);for(A=0;A<H.length;A++)G.push(H[A])}return{geometryType:"polyline",paths:G,spatialReference:{wkid:this._map.spatialReference.wkid}}}D=A.getElementsByTagNameNS(this._gmlNS,"MultiGeometry");for(w=0;w<D.length;)return this._readMultiGeometry(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"Geometry");for(w=0;w<D.length;)return this._readGeometry(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"GeometryCollection");for(w=0;w<D.length;)return this._readGeometryCollection(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,
"Surface");for(w=0;w<D.length;)return this._readSurface(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"Curve");for(w=0;w<D.length;)return this._readCurve(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"MultiPolygon");for(w=0;w<D.length;)return this._readMultiPolygon(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"Polygon");for(w=0;w<D.length;)return this._readPolygon(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"MultiLineString");for(w=0;w<D.length;)return this._readMultiLineString(D[w],
E,F);D=A.getElementsByTagNameNS(this._gmlNS,"LineString");for(w=0;w<D.length;){E=this._readLineString(D[w],E,F);F={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};w=[];for(A=0;A<E.length;A++)w.push(E[A]);F.paths.push(w);return F}D=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");for(w=0;w<D.length;)return this._readLinearRing(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"Box");if(1<=D.length)for(w=0;w<D.length;)return this._readBox(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,
"Envelope");for(w=0;w<D.length;)return this._readEnvelope(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"MultiPoint");if(1<=D.length)for(w=0;w<D.length;)return this._readMultiPoint(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"Point");for(w=0;w<D.length;)return this._readPoint(D[w],E,F);return null},_readGeometryCollection:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w=[];w.geometryType="multigeometry";w.spatialReference={wkid:this._map.spatialReference.wkid};
var D=A.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(A=0;A<D.length;A++){var G=this._readGeometryMember(D[A],E,F);w.push(G)}return w},_readMultiGeometry:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w=[];w.geometryType="multigeometry";w.spatialReference={wkid:this._map.spatialReference.wkid};var D=A.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(A=0;A<D.length;A++){var G=this._readGeometryMember(D[A],E,F);w.push(G)}return w},
_readSurface:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);var D=[];D.geometryType="multigeometry";D.spatialReference={wkid:this._map.spatialReference.wkid};var G=A.getElementsByTagNameNS(this._gmlNS,"Point");for(w=0;w<G.length;w++)D.push(this._readPoint(G[w],E,F));G=A.getElementsByTagNameNS(this._gmlNS,"patches");for(w=0;w<G.length;w++){A=this._readPatches(G[w],E,F);for(var H=0;H<A.length;H++)D.push(A[H])}return D},_readMultiSurface:function(A,
E,F){var w;var D=this._readWkidFromNode(A);-1!=D&&(E=D);D=this._readSrsDimension(A);0!==D&&(F=D);var G=[];G.geometryType="multigeometry";G.spatialReference={wkid:this._map.spatialReference.wkid};var H=A.getElementsByTagNameNS(this._gmlNS,"surfaceMember");for(D=0;D<H.length;D++){var M=this._readSurfaceMember(H[D],E,F);for(w=0;w<M.length;w++)G.push(M[w])}H=A.getElementsByTagNameNS(this._gmlNS,"surfaceMembers");for(D=0;D<H.length;D++)for(A=this._readSurfaceMembers(H[D],E,F),w=0;w<A.length;w++)G.push(A[w]);
return G},_readCurve:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var D=A.getElementsByTagNameNS(this._gmlNS,"segments");for(A=0;A<D.length;A++)for(var G=this._readSegments(D[A],E,F),H=0;H<G.length;H++)w.paths.push(G[H]);return w},_readSegments:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w=[];
w.geometryType="multigeometry";w.spatialReference={wkid:this._map.spatialReference.wkid};var D=A.getElementsByTagNameNS(this._gmlNS,"LineStringSegment");for(A=0;A<D.length;A++){var G=this._readLineStringSegment(D[A],E,F);w.push(G)}return w},_readLineStringSegment:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);for(A=A.getElementsByTagNameNS(this._gmlNS,"posList");0<A.length;)return this._readPosList(A[0],E,F)},_readMultiCurve:function(A,E,F){var w;
var D=this._readWkidFromNode(A);-1!=D&&(E=D);D=this._readSrsDimension(A);0!==D&&(F=D);var G=[];G.spatialReference={wkid:this._map.spatialReference.wkid};var H=A.getElementsByTagNameNS(this._gmlNS,"curveMember");for(D=0;D<H.length;D++){var M=this._readCurveMember(H[D],E,F);for(w=0;w<M.length;w++)G.push(M[w])}H=A.getElementsByTagNameNS(this._gmlNS,"curveMembers");for(D=0;D<H.length;D++)for(M=this._readCurveMembers(H[D],E,F),w=0;w<M.length;w++)G.push(M[w]);return G},_readGeometryMember:function(A,E,
F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);var D=A.getElementsByTagNameNS(this._gmlNS,"Point");for(w=0;w<D.length;)return this._readPoint(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"LineString");for(w=0;w<D.length;){E=this._readLineString(D[w],E,F);F={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};w=[];for(A=0;A<E.length;A++)w.push(E[A]);F.paths.push(w);return F}D=A.getElementsByTagNameNS(this._gmlNS,"Polygon");
for(w=0;w<D.length;)return this._readPolygon(D[w],E,F);return null},_readSurfaceMember:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w=[];w.geometryType="multigeometry";w.spatialReference={wkid:this._map.spatialReference.wkid};var D=A.getElementsByTagNameNS(this._gmlNS,"Polygon");for(A=0;A<D.length;A++){var G=this._readPolygon(D[A],E,F);w.push(G)}return w},_readSurfaceMembers:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);
0!==w&&(F=w);w=[];w.geometryType="multigeometry";w.spatialReference={wkid:this._map.spatialReference.wkid};var D=A.getElementsByTagNameNS(this._gmlNS,"Polygon");for(A=0;A<D.length;A++){var G=this._readPolygon(D[A],E,F);w.push(G)}return w},_readCurveMember:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w=[];w.geometryType="multigeometry";w.spatialReference={wkid:this._map.spatialReference.wkid};var D=A.getElementsByTagNameNS(this._gmlNS,"LineString");
for(A=0;A<D.length;A++){var G=this._readLineString(D[A],E,F);w.push(G)}return w},_readCurveMembers:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w=[];w.geometryType="multigeometry";w.spatialReference={wkid:this._map.spatialReference.wkid};var D=A.getElementsByTagNameNS(this._gmlNS,"LineString");for(A=0;A<D.length;A++){var G=this._readLineString(D[A],E,F);w.push(G)}return w},_readBox:function(A,E,F){var w,D,G,H,M=this._readWkidFromNode(A);-1!=
M&&(E=M);M=this._readSrsDimension(A);0!==M&&(F=M);M={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var R=A.getElementsByTagNameNS(this._gmlNS,"coordinates");for(w=0;w<R.length;w++)if(D=this._readCoordinates(R[w],E,F)){if(1<=D.length){var N=G=D[0][0];var K=H=D[0][1]}1<=D.length&&(G=D[1][0],H=D[1][1]);M.rings.push([[N,K],[N,H],[G,H],[G,K],[N,K]]);return M}R=A.getElementsByTagNameNS(this._gmlNS,"coord");return 2<=R.length?((A=this._readCoord(R[0],E,F))&&1<=
A.length&&(N=G=A[0][0],K=H=A[0][1]),(E=this._readCoord(R[1],E,F))&&1<=E.length&&(G=E[0][0],H=E[0][1]),M.rings.push([[N,K],[N,H],[G,H],[G,K],[N,K]]),M):null},_readEnvelope:function(A,E,F){var w,D;var G=this._readWkidFromNode(A);-1!=G&&(E=G);G=this._readSrsDimension(A);0!==G&&(F=G);var H=A.getElementsByTagNameNS(this._gmlNS,"lowerCorner");for(G=0;G<H.length;G++){var M=this._readCoordinates(H[G],E,F);M&&(w=M[0])}H=A.getElementsByTagNameNS(this._gmlNS,"upperCorner");for(G=0;G<H.length;G++)(A=this._readCoordinates(H[G],
E,F))&&(D=A[0]);return w&&D?{geometryType:"polygon",rings:[[[w[0],w[1]],[w[0],D[1]],[D[0],D[1]],[D[0],w[1]],[w[0],w[1]]]],spatialReference:{wkid:this._map.spatialReference.wkid}}:null},_readPolygon:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);var D={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var G=A.getElementsByTagNameNS(this._gmlNS,"outerBoundaryIs");for(w=0;w<G.length;w++){var H=this._readOuterBoundaryIs(G[w],
E,F);D.rings.push(H)}G=A.getElementsByTagNameNS(this._gmlNS,"innerBoundaryIs");for(w=0;w<G.length;w++)H=this._readInnerBoundaryIs(G[w],E,F),D.rings.push(H);G=A.getElementsByTagNameNS(this._gmlNS,"exterior");for(w=0;w<G.length;w++)H=this._readExterior(G[w],E,F),D.rings.push(H);G=A.getElementsByTagNameNS(this._gmlNS,"interior");for(w=0;w<G.length;w++)H=this._readInterior(G[w],E,F),D.rings.push(H);return D},_readPolygonMember:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);
0!==w&&(F=w);for(A=A.getElementsByTagNameNS(this._gmlNS,"Polygon");0<A.length;)return this._readPolygon(A[0],E,F);return null},_readMultiPolygon:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w=[];w.geometryType="multigeometry";w.spatialReference={wkid:this._map.spatialReference.wkid};var D=A.getElementsByTagNameNS(this._gmlNS,"polygonMember");for(A=0;A<D.length;A++){var G=this._readPolygonMember(D[A],E,F);w.push(G)}return w},_readOuterBoundaryIs:function(A,
E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);for(A=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<A.length;)return this._readLinearRing(A[0],E,F);return null},_readInnerBoundaryIs:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);for(A=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<A.length;)return this._readLinearRing(A[0],E,F);return null},_readExterior:function(A,E,F){var w=this._readWkidFromNode(A);
-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);for(A=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<A.length;)return this._readLinearRing(A[0],E,F);return null},_readInterior:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);for(A=A.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<A.length;)return this._readLinearRing(A[0],E,F);return null},_readPatches:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);
0!==w&&(F=w);w=[];w.spatialReference={wkid:this._map.spatialReference.wkid};var D=A.getElementsByTagNameNS(this._gmlNS,"PolygonPatch");for(A=0;A<D.length;A++)w.push(this._readPolygon(D[A],E,F));return w},_readLineString:function(A,E,F){var w,D;var G=this._readWkidFromNode(A);-1!=G&&(E=G);G=this._readSrsDimension(A);0!==G&&(F=G);var H=[];H.spatialReference={wkid:this._map.spatialReference.wkid};var M=A.getElementsByTagNameNS(this._gmlNS,"coordinates");for(G=0;G<M.length;G++)if(D=this._readCoordinates(M[G],
E,F))for(w=0;w<D.length;w++){var R=D[w];H.push(R)}M=A.getElementsByTagNameNS(this._gmlNS,"coord");for(G=0;G<M.length;G++)if(D=this._readCoord(M[G],E,F))for(w=0;w<D.length;w++)R=D[w],H.push(R);M=A.getElementsByTagNameNS(this._gmlNS,"posList");for(G=0;G<M.length;G++)if(D=this._readPosList(M[G],E,F))for(w=0;w<D.length;w++)R=D[w],H.push(R);return H},_readLineStringMember:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);for(A=A.getElementsByTagNameNS(this._gmlNS,
"LineString");0<A.length;)return this._readLineString(A[0],E,F);return null},_readMultiLineString:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var D=A.getElementsByTagNameNS(this._gmlNS,"lineStringMember");for(A=0;A<D.length;A++){var G=this._readLineStringMember(D[A],E,F);G&&w.paths.push(G)}return 1<=w.paths.length?w:null},_readPoint:function(A,E,F){var w;
var D=this._readWkidFromNode(A);-1!=D&&(E=D);D=this._readSrsDimension(A);0!==D&&(F=D);var G=A.getElementsByTagNameNS(this._gmlNS,"coordinates");for(D=0;D<G.length;D++)if(w=this._readCoordinates(G[D],E,F))return{geometryType:"point",x:w[0][0],y:w[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};G=A.getElementsByTagNameNS(this._gmlNS,"pos");for(D=0;D<G.length;D++)if((w=this._readPos(G[D],E,F))&&0<w.length)return{geometryType:"point",x:w[0][0],y:w[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};
G=A.getElementsByTagNameNS(this._gmlNS,"coord");for(D=0;D<G.length;D++)if(A=this._readCoord(G[D],E,F))return{geometryType:"point",x:A[0][0],y:A[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};return null},_readPointMember:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);for(A=A.getElementsByTagNameNS(this._gmlNS,"Point");0<A.length;)return this._readPoint(A[0],E,F);return null},_readMultiPoint:function(A,E,F){var w=this._readWkidFromNode(A);
-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);w={geometryType:"multipoint",points:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var D=A.getElementsByTagNameNS(this._gmlNS,"pointMember");for(A=0;A<D.length;A++){var G=this._readPointMember(D[A],E,F);G&&w.points.push([G.x,G.y])}return 1<=w.points.length?w:null},_readLinearRing:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);var D=A.getElementsByTagNameNS(this._gmlNS,"coordinates");
for(w=0;w<D.length;)return this._readCoordinates(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"posList");for(w=0;w<D.length;)return this._readCoordinates(D[w],E,F);D=A.getElementsByTagNameNS(this._gmlNS,"pos");for(w=0;w<D.length;)return this._readPos(D[w],E,F)},_readCoordinatesBody:function(A,E,F){var w=new d(A);E=E.trim();var D=[];D.spatialReference={wkid:this._map.spatialReference.wkid};A=this._isReverse(A,this.version);if(E)if(2===F){if((E=E.match(/[0123456789.\-\+eE]+/g))&&2<=E.length)for(F=
0;F<E.length;F+=2){var G=parseFloat(E[F]);var H=parseFloat(E[F+1]);if(A){var M=H;H=G;G=M}M={};this._projectFromSRToSR(w,this._map.spatialReference,G,H,M)&&(G=M.x,H=M.y);D.push([G,H])}}else if(3===F&&(E=E.match(/[0123456789.\-\+eE]+/g))&&3<=E.length)for(F=0;F<E.length;F+=3)G=parseFloat(E[F]),H=parseFloat(E[F+1]),A&&(M=H,H=G,G=M),M={},this._projectFromSRToSR(w,this._map.spatialReference,G,H,M)&&(G=M.x,H=M.y),D.push([G,H]);return D},_readCoord:function(A,E,F){var w,D=this._readWkidFromNode(A);-1!=D&&
(E=D);D=new d(E);var G=this._readSrsDimension(A);0!==G&&(F=G);var H=this._isReverse(E,this.version),M=[];M.spatialReference={wkid:this._map.spatialReference.wkid};G=0;var R=A.getElementsByTagNameNS(this._gmlNS,"X");for(w=0;w<R.length;){G=this._readFloat(R[w],E,F);break}var N=0;R=A.getElementsByTagNameNS(this._gmlNS,"Y");for(w=0;w<R.length;){N=this._readFloat(R[w],E,F);break}H&&(A=N,N=G,G=A);A={};this._projectFromSRToSR(D,this._map.spatialReference,G,N,A)&&(G=A.x,N=A.y);M.push(H?[N,G]:[G,N]);return M},
_readCoordinates:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);return this._readCoordinatesBody(E,A.textContent,F)},_readPos:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);return this._readCoordinatesBody(E,A.textContent,F)},_readPosList:function(A,E,F){var w=this._readWkidFromNode(A);-1!=w&&(E=w);w=this._readSrsDimension(A);0!==w&&(F=w);return this._readCoordinatesBody(E,A.textContent,F)},
_projectFromSRToSR:function(A,E,F,w,D){if(a.canProject(A,E))return A=new c(F,w,A),E=a.project(A,E),D.x=E.x,D.y=E.y,!0;D.x=F;D.y=w;return this._isProjectedOk=!1},_readFloat:function(A){return(A=A.textContent)?parseFloat(A):0},_readSrsDimension:function(A){return A.attributes&&(A=A.attributes.getNamedItem("srsDimension"))?parseInt(A.value,10):0},_readWkidFromNode:function(A){return A.attributes&&(A=A.attributes.getNamedItem("srsName"))&&(A=A.value.match(/\d+/g))&&0<A.length?(A=parseInt(A[A.length-1],
10),84===A&&(A=4326),parseInt(A,10)):-1},_isReverse:function(A,E){return this._inverseResponse},_appendCustomParameters:function(A){if(this.customParameters)for(var E in this.customParameters)A+=(-1===A.indexOf("?")?"?":"\x26")+E+"\x3d"+encodeURIComponent(this.customParameters[E]);return A},_checkForUrlInUrl:function(A,E){var F=A.toLowerCase().lastIndexOf("http");-1<E&&F>E&&(-1<A.indexOf("?",F)||-1!==A.indexOf("\x26",F)||(E=-1));return E}});p.setObject("layers.WFSLayer",T,l);return T})},"esri/layers/WMTSLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff dojox/xml/parser ../kernel ../lang ../request ../urlUtils ../WKIDUnitConversion ../SpatialReference ../geometry/Point ../geometry/Extent ../geometry/webMercatorUtils ./TiledMapServiceLayer ./TileInfo ./WMTSLayerInfo dojo/query".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){J=J([e],{declaredClass:"esri.layers.WMTSLayer",copyright:null,extent:null,tileUrl:null,spatialReference:null,tileInfo:null,constructor:function(b,c){this.version="1.0.0";this.tileUrl=this._url=b;this.serviceMode="RESTful";this._parseCapabilities=p.hitch(this,this._parseCapabilities);this._getCapabilitiesError=p.hitch(this,this._getCapabilitiesError);this._formatDictionary={"image/png":".png","image/png8":".png","image/png24":".png","image/png32":".png",
"image/jpg":".jpg","image/jpeg":".jpeg","image/gif":".gif","image/bmp":".bmp","image/tiff":".tif","image/jpgpng":"","image/jpegpng":"","image/unknown":""};c||(c={});if(c.serviceMode)if("KVP"===c.serviceMode||"RESTful"===c.serviceMode)this.serviceMode=c.serviceMode;else return;this.customParameters=c.customParameters;this.customLayerParameters=c.customLayerParameters;this.layerInfo=new a;c.layerInfo&&(this.layerInfo=c.layerInfo,this._identifier=c.layerInfo.identifier,this._tileMatrixSetId=c.layerInfo.tileMatrixSet,
c.layerInfo.format&&(this.format="image/"+c.layerInfo.format),this._style=c.layerInfo.style,this.title=c.layerInfo.title,this._dimension=c.layerInfo.dimension,this._dimension2=c.layerInfo.dimension2);c.resourceInfo?(this.version=c.resourceInfo.version,c.resourceInfo.getTileUrl&&(this._url=this.tileUrl=c.resourceInfo.getTileUrl),this.copyright=c.resourceInfo.copyright,this.layerInfos=c.resourceInfo.layerInfos,this.customParameters=c.resourceInfo.customParameters||this.customParameters,this.customLayerParameters=
c.resourceInfo.customLayerParameters||this.customLayerParameters,this._parseResourceInfo(),this.loaded=!0,this.onLoad(this)):this._getCapabilities()},setActiveLayer:function(b){this.setVisibleLayer(b)},setVisibleLayer:function(b){this._setActiveLayer(b);this.refresh(!0)},setCustomParameters:function(b,c){this.customParameters=b;this.customLayerParameters=c;this.refresh(!0)},getTileUrl:function(b,c,k){b=this._levelToLevelValue[b];b=this.resourceUrls&&0<this.resourceUrls.length?this.resourceUrls[c%
this.resourceUrls.length].template.replace(/\{Style\}/gi,this._style).replace(/\{TileMatrixSet\}/gi,this._tileMatrixSetId).replace(/\{TileMatrix\}/gi,b).replace(/\{TileRow\}/gi,c).replace(/\{TileCol\}/gi,k).replace(/\{dimensionValue\}/gi,this._dimension).replace(/\{dimensionValue2\}/gi,this._dimension2):this.UrlTemplate.replace(/\{level\}/gi,b).replace(/\{row\}/gi,c).replace(/\{col\}/gi,k);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return u.addProxy(b)},getTileUrlTemplate:function(b){var c=
b.identifier,k=b.tileMatrixSet,r=b.format,v=b.style,B=b.dimension,C=b.dimension2;c?b=y.filter(this.layers,function(E){return E.identifier===c})[0]:(b=this.layers[0],c=this.layers[0].identifier);if(b){if(!r)r=b.formats[0];else if(!(-1===r.indexOf("image/")&&-1<y.indexOf(b.formats,r))&&(-1===r.indexOf("image/")&&(r="image/"+r),-1===y.indexOf(b.formats,r))){this.onError(Error("The layer doesn't support the format of "+r));return}if(!v)v=b.styles[0];else if(-1===y.indexOf(b.styles,v)){this.onError(Error("The layer doesn't support the style of "+
v));return}if(!B&&b.dimensions)B=b.dimensions[0];else if(-1===y.indexOf(b.dimensions,B)){this.onError(Error("The layer doesn't support the dimension of "+B));return}if(!C&&b.dimensions2)C=b.dimensions2[0];else if(-1===y.indexOf(b.dimensions2,C)){this.onError(Error("The layer doesn't support the dimension of "+C));return}if(k){var A=y.filter(b.tileMatrixSetInfos,function(E){return E.tileMatrixSet===k})[0];if(!A){this.onError(Error("The tileMatrixSetId "+k+" is not supported by the layer of "+c));return}}else(A=
y.filter(b.tileMatrixSetInfos,function(E){return"GoogleMapsCompatible"===E.tileMatrixSet})[0])||(A=b.tileMatrixSetInfos[0]),k=A.tileMatrixSet;return this._getTileUrlTemplate(c,k,r,v,B,C)}this.onError(Error("couldn't find the layer "+c))},_getTileUrlTemplate:function(b,c,k,r,v,B){b||(b=this._identifier);c||(c=this._tileMatrixSetId);k||(k=this.format);r||""===r||(r=this._style);if(this.resourceUrls&&0<this.resourceUrls.length){var C=this.resourceUrls[0].template;C.indexOf(".xxx")===C.length-4&&(C=C.slice(0,
C.length-4));C=C.replace(/\{Style\}/gi,r);C=C.replace(/\{TileMatrixSet\}/gi,c);C=C.replace(/\{TileMatrix\}/gi,"{level}");C=C.replace(/\{TileRow\}/gi,"{row}");C=C.replace(/\{TileCol\}/gi,"{col}");C=C.replace(/\{dimensionValue\}/gi,v);return C=C.replace(/\{dimensionValue2\}/gi,B)}"KVP"===this.serviceMode?C=this._url+"SERVICE\x3dWMTS\x26VERSION\x3d"+this.version+"\x26REQUEST\x3dGetTile\x26LAYER\x3d"+b+"\x26STYLE\x3d"+r+"\x26FORMAT\x3d"+k+"\x26TILEMATRIXSET\x3d"+c+"\x26TILEMATRIX\x3d{level}\x26TILEROW\x3d{row}\x26TILECOL\x3d{col}":
"RESTful"===this.serviceMode&&(v="",this._formatDictionary[k.toLowerCase()]&&(v=this._formatDictionary[k.toLowerCase()]),C=this._url+b+"/"+r+"/"+c+"/{level}/{row}/{col}"+v);return C},_parseResourceInfo:function(){var b=this.layerInfos,c;"KVP"===this.serviceMode&&(this._url+=-1<this._url.indexOf("?")?"":"?");for(c=0;c<b.length;c++)if(!(this._identifier&&b[c].identifier!==this._identifier||this.title&&b[c].title!==this.title||this._tileMatrixSetId&&b[c].tileMatrixSet!==this._tileMatrixSetId||this.format&&
"image/"+b[c].format!==this.format||this._style&&b[c].style!==this._style)){p.mixin(this,{description:b[c].description,tileInfo:b[c].tileInfo,spatialReference:b[c].tileInfo.spatialReference,fullExtent:b[c].fullExtent,initialExtent:b[c].initialExtent,_identifier:b[c].identifier,_tileMatrixSetId:b[c].tileMatrixSet,format:"image/"+b[c].format,_style:b[c].style});break}for(c=0;c<b.length;c++){var k=b[c].tileInfo;96!==k.dpi&&(y.forEach(k.lods,function(r){r.scale=96*r.scale/k.dpi}),k.dpi=96);y.forEach(k.lods,
function(r){r.resolution=this._getResolution(k.spatialReference.wkid,90.71428571428571*r.scale/96,b[c].tileMatrixSet)},this)}this._setActiveLayer();this.UrlTemplate=this._getTileUrlTemplate();this._levelToLevelValue=[];y.forEach(this.tileInfo.lods,function(r){this._levelToLevelValue[r.level]=r.levelValue?r.levelValue:r.level},this)},_getCapabilities:function(){var b;"KVP"===this.serviceMode?b=-1<this._url.indexOf("?")?this._url+"\x26request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:
this._url+"?request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:"RESTful"===this.serviceMode&&(b=this._url+"/"+this.version+"/WMTSCapabilities.xml");b=this._appendCustomParameters(b);l({url:b,handleAs:"text",load:this._parseCapabilities,error:this._getCapabilitiesError})},_parseCapabilities:function(b){b=b.replace(/ows:/gi,"");b=m.parse(b);var c=T.query("Contents",b)[0];if(c){var k=T.query("OperationsMetadata",b)[0],r=T.query("[name\x3d'GetTile']",k)[0];k=this._url;r=T.query("Get",
r);var v,B=!1;for(v=0;v<r.length;v++){var C=T.query("Constraint",r[v])[0];if(!C||this._getTagWithChildTagValue("AllowedValues","Value",this.serviceMode,C)){k=r[v].attributes[0].nodeValue;B=!0;break}else if(!C||this._getTagWithChildTagValue("AllowedValues","Value","RESTful",C))var A=r[v].attributes[0].nodeValue;else if(!C||this._getTagWithChildTagValue("AllowedValues","Value","KVP",C))var E=r[v].attributes[0].nodeValue}B||("KVP"===this.serviceMode&&A?(k=A,this.serviceMode="RESTful"):"RESTful"===this.serviceMode&&
E&&(k=E,this.serviceMode="KVP"));-1===k.indexOf("/1.0.0/")&&"RESTful"===this.serviceMode&&(k+="/");"KVP"===this.serviceMode&&(k+=-1<k.indexOf("?")?"":"?");this._url=k;this.copyright=this._getTagValues("Capabilities\x3eServiceIdentification\x3eAccessConstraints",b)[0];A=T.query("Layer",c);var F,w=[];this.layers=[];y.forEach(A,function(D){F=this._getTagValues("Identifier",D)[0];w.push(F);this.layers.push(this._getWMTSLayerInfo(F,D,c))},this);this._setActiveLayer();this.loaded=!0;this.onLoad(this)}else this.onError(Error("The WMTS capabilities XML is not valid"))},
_setActiveLayer:function(b){b||(b={});b.identifier&&(this._identifier=b.identifier);b.tileMatrixSet&&(this._tileMatrixSetId=b.tileMatrixSet);b.format&&(this.format=b.format);b.style&&(this._style=b.style);b.dimension&&(this._dimension=b.dimension);b.dimension2&&(this._dimension2=b.dimension2);if(this.layers)if(this._identifier?b=y.filter(this.layers,function(k){return k.identifier===this._identifier},this)[0]:(b=this.layers[0],this._identifier=this.layers[0].identifier),b){if(this.format){if(-1===
this.format.indexOf("image/")&&(this.format="image/"+this.format),-1===y.indexOf(b.formats,this.format)){this.onError(Error("The layer doesn't support the format of "+this.format));return}}else this.format=b.formats[0],-1===this.format.indexOf("image/")&&(this.format="image/"+this.format);if(!this._style)this._style=b.styles[0];else if(-1===y.indexOf(b.styles,this._style)){this.onError(Error("The layer doesn't support the style of "+this._style));return}if(!this._dimension&&b.dimensions)this._dimension=
b.dimensions[0];else if(-1===y.indexOf(b.dimensions,this._dimension)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension));return}if(!this._dimension2&&b.dimensions2)this._dimension2=b.dimensions2[0];else if(-1===y.indexOf(b.dimensions2,this._dimension2)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension2));return}if(this._tileMatrixSetId){var c=y.filter(b.tileMatrixSetInfos,function(k){return k.tileMatrixSet===this._tileMatrixSetId},this)[0];
if(!c){this.onError(Error("The tileMatrixSetId "+this._tileMatrixSetId+" is not supported by the layer of "+this._identifier));return}}else(c=y.filter(b.tileMatrixSetInfos,function(k){return"GoogleMapsCompatible"===k.tileMatrixSet})[0])||(c=b.tileMatrixSetInfos[0]),this._tileMatrixSetId=c.tileMatrixSet;this.description=b.description;this.title=b.title;this.spatialReference=c.tileInfo.spatialReference;this.tileInfo=c.tileInfo;this._levelToLevelValue=[];y.forEach(this.tileInfo.lods,function(k){this._levelToLevelValue[k.level]=
k.levelValue?k.levelValue:k.level},this);102100===this.spatialReference.wkid||102113===this.spatialReference.wkid?this.fullExtent=this.initialExtent=h.geographicToWebMercator(b.gcsExtent):4326===this.spatialReference.wkid?this.fullExtent=this.initialExtent=b.gcsExtent:(this.fullExtent=c.fullExtent,this.initialExtent=c.initialExtent);this.resourceUrls=b.resourceUrls;this.UrlTemplate=this._getTileUrlTemplate();this.layerInfo={identifier:this._identifier,tileMatrixSet:this._tileMatrixSetId,format:this.format,
style:this._style,fullExtent:this.fullExtent,initialExtent:this.initialExtent,tileInfo:this.tileInfo,title:this.title,description:this.description}}else this.onError(Error("couldn't find the layer "+this._identifier))},_getWMTSLayerInfo:function(b,c,k){var r=this._getTagValues("Abstract",c)[0],v=this._getTagValues("Title",c)[0],B=T.query("WGS84BoundingBox",c)[0],C=B?this._getTagValues("LowerCorner",B)[0].split(" "):["-180","-90"],A=B?this._getTagValues("UpperCorner",B)[0].split(" "):["180","90"];
B=parseFloat(C[0]);C=parseFloat(C[1]);var E=parseFloat(A[0]);A=parseFloat(A[1]);B=new n(B,C,E,A,new z({wkid:4326}));A=this._getTagValues("Identifier",T.query("Style",c)[0]);var F=this._getTagValues("Identifier",T.query("Dimension",c)[0]),w=this._getTagValues("Default",T.query("Dimension",c)[0])||this._getTagValues("Value",T.query("Dimension",c)[0]),D=1<T.query("Dimension",c).length?this._getTagValues("Identifier",T.query("Dimension",c)[1]):[],G=1<T.query("Dimension",c).length?this._getTagValues("Default",
T.query("Dimension",c)[1])||this._getTagValues("Value",T.query("Dimension",c)[1]):[];C=this._getTagValues("Format",c);k=this._getLayerMatrixInfos(c,k);b={identifier:b,tileMatrixSetInfos:k,formats:C,styles:A,title:v,description:r,gcsExtent:B,dimensions:w,dimensions2:G};c=T.query("ResourceURL",c);var H=[],M;y.forEach(c,function(R){M=R.getAttribute("template");if(F&&w&&F[0]&&w[0])if(-1<M.indexOf("{"+F+"}"))M=M.replace("{"+F+"}","{dimensionValue}");else{var N=M.toLowerCase().indexOf("{"+F[0].toLowerCase()+
"}");-1<N&&(M=M.substring(0,N)+"{dimensionValue}"+M.substring(N+F[0].length+2))}D&&G&&D[0]&&G[0]&&(-1<M.indexOf("{"+D+"}")?M=M.replace("{"+D+"}","{dimensionValue2}"):(N=M.toLowerCase().indexOf("{"+D[0].toLowerCase()+"}"),-1<N&&(M=M.substring(0,N)+"{dimensionValue2}"+M.substring(N+D[0].length+2))));H.push({template:M,format:R.getAttribute("format"),resourceType:R.getAttribute("resourceType")})});H&&0<H.length&&(b.resourceUrls=H);return b},_getLayerMatrixInfos:function(b,c){var k=[],r=this._getTagValues("TileMatrixSet",
b);if(r&&0!==r.length)return y.forEach(r,function(v){v=this._getLayerMatrixInfo(v,b,c);k.push(v)},this),k},_getLayerMatrixInfo:function(b,c,k){var r=[];c=this._getTagWithChildTagValue("TileMatrixSetLink","TileMatrixSet",b,c);var v=this._getTagValues("TileMatrix",c),B=this._getTagWithChildTagValue("TileMatrixSet","Identifier",b,k),C=this._getTagValues("SupportedCRS",B)[0];var A=parseInt(C.split(":").pop(),10);if(900913==A||3857==A)A=102100;if(-1<C.toLowerCase().indexOf("crs84")||-1<C.toLowerCase().indexOf("crs:84")){A=
4326;var E=!0}else if(-1<C.toLowerCase().indexOf("crs83")||-1<C.toLowerCase().indexOf("crs:83"))A=4269,E=!0;else if(-1<C.toLowerCase().indexOf("crs27")||-1<C.toLowerCase().indexOf("crs:27"))A=4267,E=!0;var F=new z({wkid:A}),w=T.query("TileMatrix",B)[0];k=parseInt(this._getTagValues("TileWidth",w)[0],10);c=parseInt(this._getTagValues("TileHeight",w)[0],10);var D=this._getTagValues("TopLeftCorner",w)[0].split(" ");var G=D[0],H=D[1];1<G.split("E").length&&(D=G.split("E"),G=D[0]*Math.pow(10,D[1]));1<
H.split("E").length&&(D=H.split("E"),H=D[0]*Math.pow(10,D[1]));G=parseFloat(G);H=parseFloat(H);var M=E&&4326===A&&90===G&&-180===H;for(D=0;D<this._flippingAxisForWkids.length;D++)if(C.split(":").pop()>=this._flippingAxisForWkids[D][0]&&C.split(":").pop()<=this._flippingAxisForWkids[D][1]||4326===A&&(!E||M)){4326===A&&90<G&&(G="90");var R=new x(H,G,F);break}D===this._flippingAxisForWkids.length&&(R=new x(G,H,F));if(0===v.length)for(v=T.query("TileMatrix",B),D=0;D<v.length;D++)E=this._getLodFromTileMatrix(v[D],
A,D,b),r.push(E);else for(D=0;D<v.length;D++)E=this._getTagWithChildTagValue("TileMatrix","Identifier",v[D],B),E=this._getLodFromTileMatrix(E,A,D,b),r.push(E);A=T.query("BoundingBox",B)[0];if(A){var N=this._getTagValues("LowerCorner",A)[0].split(" ");var K=this._getTagValues("UpperCorner",A)[0].split(" ")}N&&1<N.length&&K&&1<K.length?(w=parseFloat(N[0]),A=parseFloat(N[1]),N=parseFloat(K[0]),K=parseFloat(K[1])):(N=this._getTagValues("MatrixWidth",w)[0],A=this._getTagValues("MatrixHeight",w)[0],w=R.x,
K=R.y,N=w+N*c*r[0].resolution,A=K-A*k*r[0].resolution);K=N=new n(w,A,N,K,F);R=new d({dpi:96,spatialReference:F,format:this.format,rows:k,cols:c,origin:R,lods:r});return{tileMatrixSet:b,fullExtent:K,initialExtent:N,tileInfo:R}},_getCapabilitiesError:function(b){this.onError(b)},_getLodFromTileMatrix:function(b,c,k,r){var v=this._getTagValues("Identifier",b)[0];b=this._getTagValues("ScaleDenominator",b)[0];1<b.split("E").length?(b=b.split("E"),b=b[0]*Math.pow(10,b[1])):b=parseFloat(b);c=this._getResolution(c,
b,r);return{level:k,levelValue:v,scale:1.058267716535433*b,resolution:c}},_getResolution:function(b,c,k){b=g.isDefined(q[b])?q.values[q[b]]:"default028mm"===k?6370997*Math.PI/180:6378137*Math.PI/180;return 7*c/25E3/b},_getTag:function(b,c){var k=T.query(b,c);return k&&0<k.length?k[0]:null},_getTagValues:function(b,c){var k=[],r=b.split("\x3e"),v;var B=T.query(r[0],c)[0];if(1<r.length){for(v=1;v<r.length-1;v++)B=T.query(r[v],B)[0];r=T.query(r[r.length-1],B)}else r=T.query(r[0],c);r&&0<r.length&&y.forEach(r,
function(C){9>t("ie")?k.push(C.childNodes.length?C.childNodes[0].nodeValue:""):k.push(C.textContent)});return k},_getAttributeValues:function(b,c,k){b=T.query(b,k);var r=[];b&&0<b.length&&y.forEach(b,function(v){r.push(v.getAttribute(c))});return r},_getTagWithChildTagValue:function(b,c,k,r){r=r.childNodes;var v;for(v=0;v<r.length;v++)if(-1<r[v].nodeName.indexOf(b)){if(9>t("ie")){if(g.isDefined(T.query(c,r[v])[0]))var B=T.query(c,r[v])[0].childNodes[0].nodeValue}else g.isDefined(T.query(c,r[v])[0])&&
(B=T.query(c,r[v])[0].textContent);if(B===k||k.split(":")&&B===k.split(":")[1])return r[v]}},_appendCustomParameters:function(b){var c;if(this.customParameters)for(c in this.customParameters)b+=(-1===b.indexOf("?")?"?":"\x26")+c+"\x3d"+encodeURIComponent(this.customParameters[c]);return b},_appendCustomLayerParameters:function(b){var c;if(this.customLayerParameters||this.customParameters){var k=p.clone(this.customParameters||{});p.mixin(k,this.customLayerParameters||{});for(c in k)b+=(-1===b.indexOf("?")?
"?":"\x26")+c+"\x3d"+encodeURIComponent(k[c])}return b},_flippingAxisForWkids:[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,
5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,
3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],
[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]]});p.setObject("layers.WMTSLayer",J,f);return J})},"esri/layers/WMTSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(T,J,p,y){T=T(null,{declaredClass:"esri.layers.WMTSLayerInfo",identifier:null,tileMatrixSet:null,format:null,style:null,tileInfo:null,title:null,fullExtent:null,initialExtent:null,description:null,dimension:null,constructor:function(t){t&&(this.title=t.title,this.tileMatrixSet=
t.tileMatrixSet,this.format=t.format,this.style=t.style,this.tileInfo=t.tileInfo,this.fullExtent=t.fullExtent,this.initialExtent=t.initialExtent,this.identifier=t.identifier,this.description=t.description,this.dimension=t.dimension)}});J.setObject("layers.WMTSLayerInfo",T,y);return T})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../pageUtil ../../../../utils/dom ../../../../utils/strings ../../../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/a11yclick dojo/dom-construct dojo/on dojo/string dojo/topic esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./domainUpdate.html".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);return function(){function b(c,k){this.templateString=a["default"];this.i18n=d["default"]}b.prototype.startup=
function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.initHandlers();this.initDomains()};b.prototype.initHandlers=function(){this.own(q["default"](this.doneBtn,this.doneClick.bind(this)),x["default"](this.domainSelect,"change",this.selectedDomainChange.bind(this)),q["default"](this.replaceDomainBtn,this.replaceDomainClick.bind(this)),t["default"].registerKeystrokeHandler(this.domainReplace,this.replaceDomainChange.bind(this)),h["default"].subscribe("item-data/change-complete",
this.itemDataChange.bind(this)))};b.prototype.initDomains=function(){var c=this,k=this.domainSelect.value,r=!1;y["default"].getUniqueDomains(this.item.itemData).then(function(v){z["default"].empty(c.domainSelect);v.forEach(function(B){var C={value:B.domain,innerHTML:B.domain};!c.autoSelectReplacementValue||B.domain!==c.autoSelectReplacementValue&&B.domain!==k||(r=C.selected=!0,c.autoSelectReplacementValue=void 0);z["default"].create("option",C,c.domainSelect)});c.domainSelect.options&&c.domainSelect.options.length?
(r||(m["default"].selectOption(c.domainSelect.options,c.domainSelect.options[0].value),c.lastSelectedDomain=c.domainSelect.options[0].value),c.selectedDomainChange()):(m["default"].hideNodes([c.updateDomainDesc,c.updateDomainContainer,c.replaceDomainLoading,c.replaceDomainFailure,c.layerDetailsContainer]),z["default"].empty(c.replaceDomainSuccess),c.replaceDomainSuccess.innerHTML=c.i18n.itemProperties.noLayersToUpdateDomain,m["default"].showNode(c.replaceDomainSuccess))})};b.prototype.filterForIssues=
function(c){return c.filter(function(k){return"failure"===k.layerUrlChange||k.layerRenderingFailures||k.layerQueryUrlFailures||k.itemAccess&&("failure"===k.itemUrlChange||k.itemRenderingFailures||k.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(c){return c.filter(function(k){return("success"===k.layerUrlChange||k.layerRenderingChanged||k.layerQueryUrlChanged)&&!k.layerRenderingFailures&&!k.layerQueryUrlFailures||k.itemAccess&&("success"===k.itemUrlChange||k.itemRenderingChanged||k.itemQueryUrlChanged)&&
!k.itemRenderingFailures&&!k.itemQueryUrlFailures})};b.prototype.containsInvalidProtocol=function(c){return-1===(null===c||void 0===c?void 0:c.indexOf("://"))&&!(f["default"].startsWith(c,"http://")||f["default"].startsWith(c,"https://"))};b.prototype.ensureProtocol=function(c){return this.containsInvalidProtocol(c)?"http://"+c:c};b.prototype.validateDomain=function(c){var k=this.domainSelect.value,r=!!k,v=RegExp("/","g"),B=!0;c?(this.containsInvalidProtocol(c)&&(B=!1),r&&(k.match(v)||[]).length!==
(c.match(v)||[]).length&&(B=!1)):B=!1;return B};b.prototype.doneClick=function(){h["default"].publish("update-domain/done")};b.prototype.setInputError=function(c){this.domainReplace.classList.add("input-error");this.domainReplaceError.classList.add("is-active");this.domainReplaceError.classList.remove("hide")};b.prototype.clearInputError=function(){this.domainReplace.classList.remove("input-error");this.domainReplaceError.classList.remove("is-active");this.domainReplaceError.classList.add("hide")};
b.prototype.selectedDomainChange=function(){var c=this,k=this.domainSelect.value,r=!!k,v="",B;y["default"].getUniqueDomains(this.item.itemData).then(function(C){c.refreshingDomains?c.refreshingDomains=void 0:k!==c.lastSelectedDomain&&(m["default"].hideNode(c.replaceDomainFailure),m["default"].hideNode(c.replaceDomainSuccess));if(r){if(B=C.filter(function(A){return A.domain===k}))B=B.shift(),c.domainReplace.value=B.domain,c.lastSelectedDomain=B.domain,B.layers.forEach(function(A){v+=A.title+"\x3cbr\x3e"}),
c.layerDetails.innerHTML=v;c.clearInputError();m["default"].showHide(c.layerDetailsContainer,B);c.domainReplace.focus()}else m["default"].hideNode(c.layerDetailsContainer);c.replaceDomainChange()})};b.prototype.replaceDomainClick=function(){var c=this,k=this.domainSelect.value,r=this.ensureProtocol(this.domainReplace.value.trim());this.clearInputError();this.validateDomain(r)?(m["default"].hideNodes([this.layerDetailsContainer,this.replaceDomainFailure,this.replaceDomainSuccess]),m["default"].showNode(this.replaceDomainLoading),
y["default"].switchDomain(this.item.itemData,this.item,k,r).then(function(v){m["default"].hideNode(c.replaceDomainLoading);var B=c.filterForIssues(v.layers),C=c.filterForUpdated(v.layers);e["default"].isDefined(v.configChange)&&"failure"===v.configChange?(c.replaceDomainFailureMessage.innerHTML=c.i18n.itemProperties.errorUpdateHTTPS,m["default"].showNode(c.replaceDomainFailure)):B.length?(c.replaceDomainFailureMessage.innerHTML=n["default"].substitute(c.i18n.itemProperties.someLayerDomainsFailed,
{domainName:r,n:B.length}),m["default"].showNode(c.replaceDomainFailure),C.length&&(c.replaceDomainSuccessMessage.innerHTML=n["default"].substitute(c.i18n.itemProperties.someLayerDomainsUpdated,{domainName:r,n:C.length}),m["default"].showNode(c.replaceDomainSuccess))):(c.replaceDomainSuccessMessage.innerHTML=n["default"].substitute(c.i18n.itemProperties.domainUpdateSuccess,{domainName:r}),m["default"].showNode(c.replaceDomainSuccess));c.autoSelectReplacementValue=r;c.domainReplace.value="";c.refreshingDomains=
!0;c.replaceDomainChange();h["default"].publish("item-data/change")},function(v){c.setInputError(v)})):this.setInputError()};b.prototype.replaceDomainChange=function(){var c=this.domainReplace.value.trim(),k=this.domainSelect.value;k=k&&c&&0<c.length&&c!==k;m["default"].disableNode(this.replaceDomainBtn,!k||k&&!this.validateDomain(c));this.clearInputError()};b.prototype.itemDataChange=function(c){"type-options/map"===c.source&&(this.item.itemData=c.itemData,this.initDomains())};return b=p.__decorate([g["default"](l["default"],
u["default"])],b)}()})},"arcgisonline/pages/components/Collaborations/collab-service":function(){define("require exports tslib dojo/Deferred arcgisonline/sharing/util arcgisonline/pages/pageUtil arcgisonline/pages/utils/organizationResources arcgisonline/esriGeowConfig".split(" "),function(T,J,p,y,t,m,f,g){var l=this;Object.defineProperty(J,"__esModule",{value:!0});y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);var u=g["default"].restBaseUrl+
"portals/self",q=u+"/trustedOrgs",z=function(n,h){return t["default"].request({url:q+"/"+n+"/update",content:p.__assign({orgId:n},h)},{usePost:!0})},x=g["default"].restBaseUrl+"portals/self/contacts";J["default"]={add:function(n){return t["default"].request({url:u+"/addTrustedOrg",content:n},{usePost:!0})},update:z,suspend:function(n){return z(n,{state:"suspended"})},resume:function(n){return z(n,{state:"active"})},remove:function(n,h){return t["default"].request({url:q+"/"+n+"/delete",content:{message:h,
async:!0}},{usePost:!0})},getCollaborations:function(n){void 0===n&&(n=!1);var h=new y["default"];n=p.__assign({num:100},n&&{hub:!1});t["default"].request({url:q,content:n}).then(function(e){h.resolve(e)},function(){h.resolve({trustedOrgs:[]})});return h},getCoordinators:function(n){var h=new y["default"];t["default"].request({url:x,content:{type:"collaboration",num:100,collaborators:!n}}).then(function(e){h.resolve(e)},function(){h.resolve()});return h},getAllCoordinators:function(){var n=new y["default"];
m["default"].fetchAllResources(x,{type:"collaboration",collaborators:!0},"users").then(function(h){n.resolve(h)},function(){n.resolve([])});return n},getCoordinatorsByOrg:function(n){return t["default"].request({url:x,content:{type:"collaboration",orgId:n}})},getGroupUserCount:function(n,h){return t["default"].request({url:g["default"].restBaseUrl+"community/users",content:{q:""+(h||""),searchUserAccess:"groupMember",groups:n,countFields:"accountid",num:0}})},getCollabGroups:function(n,h){return t["default"].request({url:g["default"].restBaseUrl+
"community/groups",content:{q:"orgid:"+n.id+" memberorgids:"+h}})},getEndedCollabs:function(){var n=new y["default"];f["default"].fetch("ended_collaborations.json").then(function(h){n.resolve(h||[])},function(){n.resolve([])});return n},getCollaborationLimit:function(){var n=new y["default"];t["default"].request({url:u+"/limits",content:{limitsType:"Collaboration",limitName:"MaxTrustedOrgs"}}).then(function(h){var e;n.resolve(null!==(e=null===h||void 0===h?void 0:h.limitValue)&&void 0!==e?e:10)},
function(){n.resolve(10)});return n},getCollaborationByOrgId:function(n){return p.__awaiter(l,void 0,void 0,function(){var h;return p.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t["default"].request({url:q+"/"+n})];case 1:return h=e.sent(),[2,h];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},updateEndedCollabs:function(n){return f["default"].add({key:"ended_collaborations.json",text:JSON.stringify(n)})}}})},"arcgisonline/pages/utils/organizationResources":function(){define("require exports tslib ../../esriGeowConfig ./resources ../../sharing/util".split(" "),
function(T,J,p,y,t,m){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);return function(){function f(){}f.fetchAll=function(){return t["default"].fetchAllResources(y["default"].restBaseUrl+"portals/self/resources",{},"resources")};f.fetchPage=function(g,l){void 0===g&&(g=1);void 0===l&&(l=100);return m["default"].request({url:y["default"].restBaseUrl+"portals/self/resources",content:{start:g,num:100<l?100:l}})};f.fetch=function(g){return m["default"].request({url:y["default"].restBaseUrl+
"portals/self/resources/"+g})};f.add=function(g){var l=!g.key;g=p.__assign(p.__assign({url:y["default"].restBaseUrl+"portals/self/addResource"},l&&{form:g}),!l&&{content:g});return m["default"].request(g,{usePost:!0})};f.remove=function(g){return m["default"].request({url:y["default"].restBaseUrl+"portals/self/removeResource",content:{key:g}},{usePost:!0})};return f}()})},"arcgis-components/wrappers/Share":function(){define(["../Component","dojo/i18n!../Share/nls/resources","../Share/index"],function(T,
J,p){return function(y){function t(f){if(m[f])return m[f].exports;var g=m[f]={i:f,l:!1,exports:{}};return y[f].call(g.exports,g,g.exports,t),g.l=!0,g.exports}var m={};return t.m=y,t.c=m,t.d=function(f,g,l){t.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:l})},t.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},t.t=function(f,g){if((1&g&&(f=t(f)),8&g)||4&g&&"object"==typeof f&&
f&&f.__esModule)return f;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)t.d(l,u,function(q){return f[q]}.bind(null,u));return l},t.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return t.d(g,"a",g),g},t.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},t.p="",t(t.s=985)}({0:function(y,t,m){function f(h,e){function d(){this.constructor=h}if("function"!=typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x(h,e);h.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}function g(h,e){var d={},a;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&0>e.indexOf(a)&&(d[a]=h[a]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(h);b<a.length;b++)0>e.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(h,a[b])&&(d[a[b]]=h[a[b]])}return d}
function l(h,e,d,a){var b,c=arguments.length,k=3>c?e:null===a?a=Object.getOwnPropertyDescriptor(e,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(h,e,d,a);else for(var r=h.length-1;0<=r;r--)(b=h[r])&&(k=(3>c?b(k):3<c?b(e,d,k):b(e,d))||k);return 3<c&&k&&Object.defineProperty(e,d,k),k}function u(h,e,d,a){return new (d||(d=Promise))(function(b,c){function k(B){try{v(a.next(B))}catch(C){c(C)}}function r(B){try{v(a["throw"](B))}catch(C){c(C)}}function v(B){var C;
B.done?b(B.value):(C=B.value,C instanceof d?C:new d(function(A){A(C)})).then(k,r)}v((a=a.apply(h,e||[])).next())})}function q(h,e){function d(v){return function(B){return function(C){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,b&&(c=2&C[0]?b["return"]:C[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,C[1])).done)return c;switch(b=0,c&&(C=[2&C[0],c.value]),C[0]){case 0:case 1:c=C;break;case 4:return r.label++,{value:C[1],done:!1};case 5:r.label++;
b=C[1];C=[0];continue;case 7:C=r.ops.pop();r.trys.pop();continue;default:if(!(c=r.trys,(c=0<c.length&&c[c.length-1])||6!==C[0]&&2!==C[0])){r=0;continue}if(3===C[0]&&(!c||C[1]>c[0]&&C[1]<c[3]))r.label=C[1];else if(6===C[0]&&r.label<c[1])r.label=c[1],c=C;else if(c&&r.label<c[2])r.label=c[2],r.ops.push(C);else{c[2]&&r.ops.pop();r.trys.pop();continue}}C=e.call(h,r)}catch(A){C=[6,A],b=0}finally{a=c=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([v,B])}}var a,b,c,k,r={label:0,sent:function(){if(1&
c[0])throw c[1];return c[1]},trys:[],ops:[]};return k={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function z(h,e){for(var d=0,a=e.length,b=h.length;d<a;d++,b++)h[b]=e[d];return h}m.d(t,"d",function(){return f});m.d(t,"a",function(){return n});m.d(t,"f",function(){return g});m.d(t,"c",function(){return l});m.d(t,"b",function(){return u});m.d(t,"e",function(){return q});m.d(t,"g",function(){return z});var x=function(h,e){return(x=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])})(h,e)},n=function(){return(n=Object.assign||function(h){for(var e,d=1,a=arguments.length;d<a;d++)for(var b in e=arguments[d])Object.prototype.hasOwnProperty.call(e,b)&&(h[b]=e[b]);return h}).apply(this,arguments)};Object.create;Object.create},101:function(y,t,m){m.d(t,"a",function(){return g});m.d(t,"b",function(){return l});var f=
m(0),g=function(u){return u?u.urlKey?location.protocol+"//"+u.urlKey+"."+u.customBaseUrl:location.protocol+"//"+u.portalHostname:""},l=function(u){return Object(f.a)(Object(f.a)({},u),{baseUrl:g(u)})}},117:function(y,t,m){m.d(t,"a",function(){return g});var f=m(0);y=m(15);var g=Object(y.a)(function(l,u){var q=Object(f.a),z=Object(f.a)({},u),x=u.type,n=u.typeKeywords?u.typeKeywords:[],h=null==x?void 0:x.toLowerCase(),e=!1,d=!1,a=x=!1;if("ogcfeatureserver"===h)n="featureshosted";else if(0<(null==h?
void 0:h.indexOf("service"))||"feature collection"===h||"kml"===h||"wms"===h||"wmts"===h||"wfs"===h){var b=-1<n.indexOf("Hosted Service");"feature service"===h||"feature collection"===h||"kml"===h||"wfs"===h?(a=-1<n.indexOf("Table"),e=-1<n.indexOf("Route Layer"),d=-1<n.indexOf("Markup"),n=(x=-1!==n.indexOf("Spatiotemporal"))&&a?"spatiotemporaltable":a?"table":e?"routelayer":d?"markup":x?"spatiotemporal":b?"featureshosted":"features"):"map service"===h||"wms"===h||"wmts"===h?n=b||-1<n.indexOf("Tiled")||
"wmts"===h?"maptiles":"mapimages":"scene service"===h?n=-1<n.indexOf("Line")?"sceneweblayerline":-1<n.indexOf("3DObject")?"sceneweblayermultipatch":-1<n.indexOf("Point")?"sceneweblayerpoint":-1<n.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<n.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<n.indexOf("Polygon")?"sceneweblayerpolygon":-1<n.indexOf("Building")?"sceneweblayerbuilding":-1<n.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===h?(x=-1<n.indexOf("Elevation 3D Layer"),
n=-1<n.indexOf("Tiled Imagery"),n=x?"elevationlayer":n?"tiledimagerylayer":"imagery"):n="stream service"===h?"streamlayer":"vector tile service"===h?"vectortile":"datastore catalog service"===h?"datastorecollection":"geocoding service"===h?"geocodeservice":"geoprocessing service"===h&&-1<n.indexOf("Web Tool")?"tool":"layers"}else n="web map"===h||"cityengine web scene"===h?"maps":"web scene"===h?-1<n.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===h&&-1<(null==
n?void 0:n.indexOf("configurableApp"))?"instantapps":"web mapping application"===h||"mobile application"===h||"application"===h||"operation view"===h||"desktop application"===h?"apps":"map document"===h||"map package"===h||"published map"===h||"scene document"===h||"globe document"===h||"basemap package"===h||"mobile basemap package"===h||"mobile map package"===h||"project package"===h||"project template"===h||"pro map"===h||"layout"===h||"layer"===h&&-1<n.indexOf("ArcGIS Pro")||"explorer map"===
h&&-1<n.indexOf("Explorer Document")?"mapsgray":"service definition"===h||"csv"===h||"administrative report"===h||"shapefile"===h||"cad drawing"===h||"geojson"===h||"360 vr experience"===h||"netcdf"===h?"datafiles":"explorer add in"===h||"desktop add in"===h||"windows viewer add in"===h||"windows viewer configuration"===h?"appsgray":"arcgis pro add in"===h||"arcgis pro configuration"===h?"addindesktop":"rule package"===h||"file geodatabase"===h||"csv collection"===h||"kml collection"===h||"windows mobile package"===
h||"map template"===h||"desktop application template"===h||"arcpad package"===h||"code sample"===h||"form"===h||"document link"===h||"vector tile package"===h||"operations dashboard add in"===h||"rules package"===h||"image"===h||"workflow manager package"===h||"explorer map"===h&&-1<n.indexOf("Explorer Mapping Application")||-1<n.indexOf("Document")?"datafilesgray":"network analysis service"===h||"geoprocessing service"===h||"geodata service"===h||"geometry service"===h||"geoprocessing package"===
h||"locator package"===h||"geoprocessing sample"===h||"workflow manager service"===h||"raster function template"===h||"deep learning package"===h?"toolsgray":"layer"===h||"layer package"===h||"explorer layer"===h?"layersgray":"scene package"===h?"scenepackage":"tile package"===h?"tilepackage":"storymap"===h?"storymap":"storymap theme"===h?"storymaptheme":"web experience"===h?"experiencebuilder":"web experience template"===h?"webexperiencetemplate":"task file"===h?"taskfile":"report template"===h?
"report-template":"statistical data collection"===h?"statisticaldatacollection":"insights workbook"===h?"workbook":"insights model"===h?"insightsmodel":"insights page"===h?"insightspage":"hub initiative"===h?"hubinitiative":"hub page"===h?"hubpage":"hub site application"===h?"hubsite":"relational database connection"===h?"relationaldatabaseconnection":"big data file share"===h||"data store"===h?"datastorecollection":"image collection"===h?"imagecollection":"desktop style"===h?"desktopstyle":"style"===
h?"style":"dashboard"===h?"dashboard":"feed"===h?"feed":"real time analytic"===h?"realtimeanalytics":"big data analytic"===h?"bigdataanalytics":"notebook"===h?"notebook":"notebook code snippets"===h?"notebookcodesnippets":"maps";return q(z,{iconURI:l+"/"+n+"16.png"})})},120:function(y,t,m){m.d(t,"a",function(){return g});var f=m(0);y=m(15);var g=Object(y.a)(function(l,u){var q=Object(f.a),z=Object(f.a)({},u),x,n,h="notebook"!==(null===(x=u.type)||void 0===x?void 0:x.toLowerCase())?"default_thumb.png":
"notebook-thumb.png";"notebook code snippets"===(null===(n=u.type)||void 0===n?void 0:n.toLowerCase())&&(h="notebook-code-snippet-thumb.png");n=l.baseUrl+"/home/js/arcgisonline/css/images/"+h;x=(u.thumbnail&&(n=l.restUrl+"/content/items/"+u.id+"/info/"+u.thumbnail+(l.credential?"?token\x3d"+l.credential.token:"")),n);return q(z,{thumbURI:x})})},121:function(y,t,m){m.d(t,"a",function(){return l});var f=m(0);y=m(15);var g=function(u,q){return q.description?q.description.replace(/src=('|")js\/jsapi\/esri\//g,
function(z){return"src\x3d"+('"'===z[4]?'"':"'")+u.baseUrl+"/home/js/jsapi/esri/"}):void 0},l=Object(y.a)(function(u,q){return Object(f.a)(Object(f.a)({},q),{patchedDescription:g(u,q)})})},122:function(y,t,m){m.d(t,"a",function(){return u});var f=m(0),g=m(124);y=m(15);var l=m(58),u=Object(y.a)(function(q,z){var x=Object(f.a),n=Object(f.a)({},z),h,e=z.type,d=z.typeKeywords||[],a=e,b=(null==q?void 0:q.portalUser)||(null==q?void 0:q.user);if("Feature Service"===e||"Feature Collection"===e){if(a=-1<d.indexOf("Table")?
"Table":-1<d.indexOf("Route Layer")?"Route Layer":-1<d.indexOf("Markup")?"Markup":"Feature Layer",b&&Object(l.d)(z,b)&&-1<(null==d?void 0:d.indexOf("Hosted Service")))d=(null===(h=null===document||void 0===document?void 0:document.documentElement)||void 0===h?void 0:h.lang)||"en",a=a+" ("+(g.a[d]||g.a[d.split("-")[0]]||g.a.en)+")"}else"Image Service"===e?(h=-1<d.indexOf("Elevation 3D Layer"),d=-1<d.indexOf("Tiled Imagery"),a=h?"Elevation Layer":d?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===
e?a="Scene Layer":"Scene Package"===e?a="Scene Layer Package":"Stream Service"===e?a="Feature Layer":"Geocoding Service"===e?a="Locator":"Microsoft Powerpoint"===e?a="Microsoft PowerPoint":"OGCFeatureServer"===e?a="OGC Feature Layer":"GeoJson"===e?a="GeoJSON":"Globe Service"===e?a="Globe Layer":"Vector Tile Service"===e?a="Tile Layer":"netCDF"===e?a="NetCDF":"Map Service"===e?a=-1===d.indexOf("Spatiotemporal")&&(-1<d.indexOf("Hosted Service")||-1<d.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":
e&&-1<e.toLowerCase().indexOf("add in")?a=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?a="Big Data File Share":"Web Mapping Application"===e&&(null==d?0:d.includes("configurableApp"))?a="Instant App":"Data Store"===e&&(d.includes("cloudStore_amazon")||d.includes("cloudStore_azure")?a+=" (Cloud)":(d.includes("fileShare")||d.includes("hdfs")||d.includes("hive")||d.includes("bigDataFileShare")&&d.includes("dataStore"))&&(a+=" (Big Data File Share)"));return x(n,{displayName:a})})},
123:function(y,t,m){m.d(t,"a",function(){return l});var f=m(0);y=m(15);var g=function(u,q){var z=[],x=u.typeKeywords?u.typeKeywords:[];return u.contentStatus&&("org_authoritative"===u.contentStatus||"public_authoritative"===u.contentStatus?z.push("authoritative"):"deprecated"===u.contentStatus&&z.push("deprecated")),u.origin&&z.push("collaboration"),u.groupDesignations&&-1<u.groupDesignations.indexOf("livingatlas")&&z.push("livingAtlas"),-1<x.indexOf("Requires Credits")?z.push("premium"):-1<x.indexOf("Requires Subscription")&&
z.push("subscriber"),-1<x.indexOf("Public Data Collection")&&((null==q?void 0:q.portalUser)||(null==q?void 0:q.user))&&z.push("publicDataCollection"),"Solution"===u.type&&-1<u.typeKeywords.indexOf("ArcGIS Solution")&&z.push("solution"),q.isPortal&&"Web Mapping Application"===u.type&&(-1<u.typeKeywords.indexOf("Story Map")&&z.push("retiredStoryMap"),function(n){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(h){var e,
d=-1<h.indexOf(".html");return-1<(null===(e=n.url)||void 0===e?void 0:e.indexOf("/apps/"+h+(d?"":"/")))})}(u)&&z.push("retiredApp")),z},l=Object(y.a)(function(u,q){return Object(f.a)(Object(f.a)({},q),{badges:g(q,u)})})},124:function(y,t,m){m.d(t,"a",function(){return f});var f={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(y,t,m){m.d(t,"a",function(){return g});m.d(t,"b",function(){return l});var f=m(0);y=m(15);var g=function(u,q){var z;return q.thumbnail&&(z=u.restUrl+"/community/groups/"+q.id+"/info/"+q.thumbnail+(u.credential?"?token\x3d"+u.credential.token:"")),z},l=Object(y.a)(function(u,q){return Object(f.a)(Object(f.a)({},q),{thumbURI:g(u,q)})})},137:function(y,t,m){m.d(t,"a",function(){return f});
m.d(t,"d",function(){return u});m.d(t,"c",function(){return q});m.d(t,"e",function(){return z});m.d(t,"f",function(){return x});var f,g=m(0),l=m(25);!function(n){n.LOADING="loading";n.LOADED="loaded";n.FAILED="failed"}(f||(f={}));var u=function(n){var h=n.selectedGroups,e=n.selectorItems;return 0===e.length?Object.keys(h).map(function(d){return h[d].group}):Object.keys(h).filter(function(d){return z(h[d],e)}).map(function(d){return h[d].group})},q=function(n){var h=n.initialSelectedGroups,e=n.selectedGroups,
d=Object.keys(e).map(function(a){return e[a].group.id});return Object.keys(h).map(function(a){return h[a].group.id}).filter(function(a){return 0>d.indexOf(a)}).map(function(a){return h[a].group})},z=function(n,h){return!n.selectedByIds||n.selectedByIds.length===h.length},x={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:f.LOADING,total:0,hasGroups:!0};t.b=function(n,h){switch(void 0===n&&(n=x),h.type){case l.a.DESELECT_GROUPS:return Object(g.a)(Object(g.a)({},
n),{selectedGroups:h.payload.reduce(function(a,b){var c=b.id;a[c];return Object(g.f)(a,["symbol"==typeof c?c:c+""])},n.selectedGroups)});case l.a.REVERT_GROUPS:return h.payload?Object(g.a)(Object(g.a)({},n),{selectedGroups:h.payload.reduce(function(a,b){var c;if(n.initialSelectedGroups[b.id])return Object(g.a)(Object(g.a)({},a),((c={})[b.id]=n.initialSelectedGroups[b.id],c));c=b.id;a[c];return Object(g.f)(a,["symbol"==typeof c?c:c+""])},n.selectedGroups)}):Object(g.a)(Object(g.a)({},n),{selectedGroups:Object(g.a)({},
n.initialSelectedGroups)});case l.a.SELECT_GROUPS:var e=n.selectorItems.map(function(a){return a.id});return Object(g.a)(Object(g.a)({},n),{selectedGroups:h.payload.reduce(function(a,b){var c;return Object(g.a)(Object(g.a)({},a),((c={})[b.group.id]=Object(g.a)({selectedByIds:e},b),c))},n.selectedGroups)});case l.a.SET_INITIAL_GROUPS:var d=h.payload.reduce(function(a,b){var c;return Object(g.a)(Object(g.a)({},a),((c={})[b.group.id]=b,c))},{});return Object(g.a)(Object(g.a)({},n),{selectedGroups:d,
initialSelectedGroups:Object(g.a)({},d)});case l.a.SET_SELECTOR_ITEMS:return Object(g.a)(Object(g.a)({},n),{selectorItems:h.payload});case l.a.CLEAR_SELECTION:return Object(g.a)(Object(g.a)({},n),{selectedGroups:{}});case l.a.LOADING_GROUPS:return Object(g.a)(Object(g.a)({},n),{status:f.LOADING});case l.a.LOAD_GROUPS_SUCCESS:return Object(g.a)(Object(g.a)({},n),{displayGroups:h.payload.results,total:h.payload.total,status:f.LOADED});case l.a.LOAD_GROUPS_FAIL:return Object(g.a)(Object(g.a)({},n),{displayGroups:[],
status:f.FAILED});case l.a.SET_HAS_GROUPS:return Object(g.a)(Object(g.a)({},n),{hasGroups:h.payload});default:return n}}},139:function(y,t,m){function f(K,V){var Z=V(),ca=Z.utilities.request,ea=Z.resources;Z=ea.selectedOptions;var ka=ea.selectedOptionsDirty;ea=Object(c.b)(ea.items);Z=ka&&Z["public"]===Z.total;K(F(B.a.LOADING));0<ea.length&&Z?Object(c.a)({items:ea,request:ca}).then(function(la){la.length?(la=la.some(function(ta){return-1===ta.typeKeywords.indexOf("Public Data Collection")}),K(A(la?
B.c.PUBLIC_DATA_COLLECTION_DISABLED:B.c.PUBLIC_DATA_COLLECTION_ENABLED))):K(g)})["catch"](function(){K(g)}):K(g)}function g(K,V){var Z=V(),ca=Z.utilities,ea=ca.portal,ka=ca.request,la=ca.onComplete;ca=Z.resources;var ta=ca.items,za=ca.selectedOptions,ia=ca.portalUser;ca=Z.gbState.groups;Z=ca.selectedGroups;ca=ca.initialSelectedGroups;var U=Object(e.d)({selectedGroups:Z,selectorItems:ta});Z=Object(e.c)({initialSelectedGroups:ca,selectedGroups:Z});var ja=[];Object(d.h)({items:ta,groups:Z,portalUser:ia,
restUrl:ea.restUrl,request:ka}).then(function(){return Object(d.g)({items:ta,groups:U,portalUser:ia,request:ka,restUrl:ea.restUrl,selectedOptions:za})})["catch"](function(S){S.results?ja=ja.concat(Object(k.a)(S.results,ta)):S.message&&ja.push({error:S})}).then(function(){return K(D)}).then(function(){var S=V().resources,O=S.items,I=S.dependentItems,ba=I.needGroupSharingUpdate,W=I.notEditable,aa=I.premium,P=I.needPubliclyEditableWarning,L=I.needEditableWarning,Q=I.needDataCollectionEnabled,X=I.needGroupDependentApplicationWarning,
Y=I.needBDFSDatastoreUpdate,da=S.selectedOptions,ha=(S=S.selectedOptionsDirty)&&da["public"]===da.total;0!==I.needShareLevelUpdate.length||0!==ba.length||0!==W.length||0!==aa.length||0!==P.length||0!==L.length||0!==Q.length||0!==X.length&&ha||0!==Y.length||0!==Object(d.c)(O,da,S).length?K({type:z.SET_CURRENT_VIEW,payload:B.a.DEPENDENT_ITEM_CONFIRMATION}):la(0<ja.length?{errors:ja,selectedOptions:da}:{selectedOptions:da})})["catch"](console.error)}function l(K){return K.filter(function(V){return-1===
V.typeKeywords.indexOf("bigDataFileShare")})}function u(K,V){var Z=V(),ca=Z.utilities,ea=ca.portal,ka=ca.request,la=ca.onComplete;ca=Z.resources;var ta=ca.dependentItems,za=ta.needBDFSDatastoreUpdate,ia=ta.needShareLevelUpdate,U=ta.needGroupSharingUpdate,ja=ta.needEditableWarning,S=ca.selectedOptions;ca=ca.portalUser;ta=Z.gbState.groups;Z=ta.selectedGroups;var O=ta.selectorItems;if(0!==za.length||0!==ia.length||0!==U.length||0!==ja.length){ta=Object(d.g)({items:l(za),groups:[],portalUser:ca,request:ka,
restUrl:ea.restUrl,selectedOptions:S});var I=Object(d.g)({items:Object(x.g)(Object(x.g)([],l(ia)),ja),groups:[],portalUser:ca,request:ka,restUrl:ea.restUrl,selectedOptions:S});ea=Object(d.g)({items:U,groups:Object(e.d)({selectedGroups:Z,selectorItems:O}),portalUser:ca,request:ka,restUrl:ea.restUrl,selectedOptions:S,ignoreShareLevel:!0});a.Promise.all([ta,I,ea]).then(function(){var ba=Object(x.g)(Object(x.g)(Object(x.g)(Object(x.g)([],za),ia),U),ja),W=ba.map(function(aa){return aa.id});ba=ba.filter(function(aa,
P){return W.indexOf(aa.id)===P});la({dependentItems:ba,selectedOptions:S})})["catch"](function(ba){throw ba;})}else la({selectedOptions:S})}function q(K,V){switch(V().resources.currentMiniDlg){case B.c.OPEN_GROUP_BROWSER:K(C(B.b["public"]));K(F(B.a.GROUP_BROWSER));break;case B.c.REVERT_SHARE_LEVEL:K({type:z.SET_INITIAL_SHARE_LEVEL});K(Object(h.c)());break;case B.c.REVERT_GROUPS:K(C(B.b["public"]));K(Object(h.c)());break;case B.c.EDITABLE_LAYERS:K(g);break;case B.c.SET_SHARE_TO_PRIVATE:K(C(B.b["private"]));
K(Object(h.a)());break;case B.c.PUBLIC_DATA_COLLECTION_DISABLED:K(F(B.a.SHARE));break;case B.c.PUBLIC_DATA_COLLECTION_ENABLED:K(g)}K({type:z.SET_MINI_DIALOG,payload:B.c.NONE})}m.d(t,"a",function(){return z});m.d(t,"k",function(){return A});m.d(t,"g",function(){return E});m.d(t,"j",function(){return F});m.d(t,"d",function(){return f});m.d(t,"i",function(){return u});m.d(t,"h",function(){return q});m.d(t,"c",function(){return H});m.d(t,"b",function(){return M});m.d(t,"e",function(){return R});m.d(t,
"f",function(){return N});var z,x=m(0),n=m(177),h=m(144),e=m(137),d=m(61),a=m(28),b=m(335),c=m(194),k=m(379),r=m(51),v=m(58),B=m(26);!function(K){K.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";K.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";K.SET_CURRENT_VIEW="SET_CURRENT_VIEW";K.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";K.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";K.SET_MINI_DIALOG="SET_MINI_DIALOG";K.SET_SHARE_MODE="SET_SHARE_MODE";K.SET_USER_TYPE="SET_USER_TYPE";K.SET_HELP_MAP="SET_HELP_MAP"}(z||
(z={}));var C=function(K){return{type:z.SET_SELECTED_SHARE_LEVEL,payload:K}},A=function(K){return{type:z.SET_MINI_DIALOG,payload:K}},E=function(){return function(K,V){var Z=V(),ca=Z.utilities,ea=ca.portal,ka=ca.request;ca=Z.resources.items;Z=w(Z);var la=ea.urlKey||ea.isPortal?B.e.ORG:B.e.PUBLIC;K({type:z.SET_INITIAL_SHARE_LEVEL});K({type:z.SET_SHARE_MODE,payload:Z});K({type:z.SET_USER_TYPE,payload:la});K(Object(n.a)({selectorItems:ca,anySelectorItemsPrivate:0<V().resources.selectedOptions[B.b["private"]],
shareMode:Z,userType:la})).then(function(){return Object(d.a)(ea,ka)}).then(function(ta){K({type:z.SET_HELP_MAP,payload:ta});K(F(B.a.SHARE))})}},F=function(K){return function(V){V({type:z.SET_CURRENT_VIEW,payload:K})}},w=function(K){var V=K.resources,Z=V.items;V=V.portalUser;K=K.utilities.portal;var ca=Z[0];if(Object(v.d)(ca,V))return B.d.DEFAULT;ca=!ca.orgId||ca.orgId===V.orgId;return Object(r.h)({items:Z,user:V,portal:K})&&ca?B.d.ADMIN:B.d.GROUP},D=function(K,V){var Z=V(),ca=Z.resources,ea=ca.selectedOptions,
ka=Z.utilities,la=ka.portal,ta=ka.request,za=ka.iconDir;Z=Z.gbState.groups;var ia=Z.selectedGroups,U=Z.selectorItems;ca=ca.items.map(function(ja){return Object(b.b)({item:ja,portal:la,request:ta,iconDir:za})});return a.Promise.all(ca).then(function(ja){return G({dependentItems:ja,selectedGroups:ia,selectorItems:U,selectedOptions:ea,request:ta,portal:la})}).then(function(ja){K({type:z.SET_DEPENDENT_ITEMS,payload:ja})})},G=function(K){var V=K.dependentItems,Z=K.selectedGroups,ca=K.selectorItems,ea=
K.selectedOptions,ka=K.request,la=K.portal;return new a.Promise(function(ta,za){var ia=Object(d.b)(V).filter(function(S){return S}),U=ia.map(function(S){return S.id}),ja=ia.filter(function(S,O){return U.indexOf(S.id)===O});a.Promise.all(ja.map(function(S){return Object(b.a)({item:S,selectedOptions:ea,selectedGroups:Object(e.d)({selectedGroups:Z,selectorItems:ca}),request:ka,portal:la})})).then(function(S){var O=[],I=[],ba=[],W=[],aa=[],P=[],L=[],Q=[],X=[],Y=!Object(d.e)(ea)&&Object(d.d)(ea)===B.b["public"];
S.forEach(function(da,ha){var ma=ja[ha];if(da.premium)W.push(ma);else if(da.groupDependentApplication)Q.push(ma);else{if(!da.bdfsDatastore)return Y&&da.editable&&Object(c.c)(ma)&&ma.isUpdateLayer?ma.access===B.b["public"]?void P.push(ma):-1<ma.typeKeywords.indexOf("Public Data Collection")?void aa.push(ma):void L.push(ma):void((da.needsShareLevelUpdate||da.needsGroupSharingUpdate)&&(da.editable?(da.needsShareLevelUpdate&&I.push(ma),da.needsGroupSharingUpdate&&O.push(ma)):ba.push(ma)));X.push(ma)}});
ta({needGroupSharingUpdate:O,needShareLevelUpdate:I,notEditable:ba,premium:W,needPubliclyEditableWarning:P,needEditableWarning:aa,needDataCollectionEnabled:L,needGroupDependentApplicationWarning:Q,needBDFSDatastoreUpdate:X})})["catch"](function(S){throw S;})})},H=function(K,V){var Z=V(),ca=Z.gbState.groups.initialSelectedGroups,ea=Z.resources.selectedOptions;Z.config.userType===B.e.PUBLIC&&0<ea["private"]&&0<Object.keys(ca).length?K(A(B.c.REVERT_GROUPS)):K(Object(h.c)())},M=function(K,V){var Z=V(),
ca=Z.resources,ea=ca.portalUser;ca=ca.selectedOptions;Object(r.k)(Z.utilities.portal)||Object(r.a)(ea)||!Object(d.e)(ca)&&Object(d.d)(ca)!==B.b["private"]?K(F(B.a.GROUP_BROWSER)):K(A(B.c.OPEN_GROUP_BROWSER))},R=function(K,V){var Z=V(),ca=Z.resources,ea=ca.portalUser;ca=ca.items;var ka=Z.gbState.groups.selectedGroups;Object(r.k)(Z.utilities.portal)||Object(r.b)(ea)||!Object(c.d)({items:ca,groupDatas:Object.keys(ka).map(function(la){return ka[la]})})?K({type:z.SET_INITIAL_SHARE_LEVEL}):K(A(B.c.REVERT_SHARE_LEVEL))},
N=function(K){return function(V,Z){var ca=Z(),ea=ca.resources.portalUser,ka=ca.gbState.groups.selectedGroups;!Object(r.k)(ca.utilities.portal)&&!Object(r.b)(ea)&&K===B.b["private"]&&0<Object.keys(ka).length?V(A(B.c.SET_SHARE_TO_PRIVATE)):V(C(K))}}},144:function(y,t,m){m.d(t,"d",function(){return q});m.d(t,"e",function(){return z});m.d(t,"b",function(){return x});m.d(t,"c",function(){return n});m.d(t,"a",function(){return h});m.d(t,"f",function(){return e});var f=m(0),g=m(181),l=m(163),u=m(68),q=function(d){return 1<
d.length&&Object(l.a)(),{type:u.a.SELECT_GROUPS,payload:d.map(function(a){return{group:Object(g.c)(a)}})}},z=function(d){return{type:u.a.SET_INITIAL_GROUPS,payload:d.map(function(a){return Object(f.a)(Object(f.a)({},a),{group:Object(g.c)(a.group)})})}},x=function(d){return 1<d.length&&Object(l.b)(),{type:u.a.DESELECT_GROUPS,payload:d}},n=function(d){return{type:u.a.REVERT_GROUPS,payload:d}},h=function(){return Object(l.c)(),{type:u.a.CLEAR_SELECTION}},e=function(d){return{type:u.a.SET_SELECTOR_ITEMS,
payload:d}}},148:function(y,t,m){m.d(t,"a",function(){return g});var f=m(0);y=m(15);var g=Object(y.a)(function(l,u){var q=Object(f.a),z=Object(f.a)({},u);var x=u.thumbnail?l.restUrl+"/community/users/"+u.username+"/info/"+u.thumbnail+(l.credential?"?token\x3d"+l.credential.token:""):void 0;return q(z,{thumbURI:x})})},15:function(y,t,m){function f(l){return function q(){for(var z=this,x=[],n=0;n<arguments.length;n++)x[n]=arguments[n];return x.length>=l.length?l.call.apply(l,Object(g.g)([this],x)):
function(){for(var h=[],e=0;e<arguments.length;e++)h[e]=arguments[e];return q.call.apply(q,Object(g.g)(Object(g.g)([z],x),h))}}}m.d(t,"a",function(){return f});var g=m(0)},159:function(y,t,m){m.d(t,"b",function(){return d});m.d(t,"a",function(){return b});var f=m(0),g=m(181),l=m(30),u=m(163),q=m(54),z=m(68),x=m(28),n=m(61),h=m(38),e=m(26),d=function(E,F){a(F()).then(function(w){var D=F();D=Object(q.b)(D)?D:D.gbState;var G=D.utils;D.ui.focus.focusSelectAll&&Object(u.c)();E({type:z.a.LOAD_GROUPS_SUCCESS,
payload:Object(f.a)(Object(f.a)({},w),{results:w.results.map(function(H){return Object(g.b)(G.portal,H)})})})})["catch"](function(w){var D=F();(Object(q.b)(D)?D:D.gbState).ui.focus.focusSelectAll&&Object(u.c)();E({type:z.a.LOAD_GROUPS_FAIL,payload:w})})},a=function(E){E=Object(q.b)(E)?E:E.gbState;var F=E.utils,w=F.request,D=F.portal,G=E.config;F=G.groupsPerPage;var H=G.withinShare,M=(G.withinAppConfig,E.parameters);G=M.filter;M=M.sort;var R=E.ui.page.currentPageNumber,N={q:A(E),num:F,sortField:M.field,
sortOrder:M.order,start:(R-1)*F+1};return H&&(N.searchUserAccess="groupMember",N.searchUserName=G.currentUsername),G.designationFilter!==h.b.orgSettings||r(D)?new x.Promise(function(K,V){Object(l.g)(w,D,N).then(K,V)}):new x.Promise(function(K){K({query:N.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},b=function(E){var F=E.user;E=E.state;E=Object(q.b)(E)?E:E.gbState;var w=E.utils,D=w.request,G=w.portal;E=Object(f.a)(Object(f.a)({},E),{parameters:Object(f.a)(Object(f.a)({},E.parameters),{filter:Object(f.a)(Object(f.a)({},
E.parameters.filter),{currentUsername:F.username})})});var H={q:A(E),num:100,searchUserAccess:"groupMember",searchUserName:F.username};return(new x.Promise(function(M,R){return Object(l.g)(D,G,H).then(function(N){if(-1!==N.nextStart){var K=Math.ceil(N.total/100)-1,V=[N.results];N=function(ca){V.push(new x.Promise(function(ea,ka){var la=100*(ca+1)+1;Object(l.g)(D,G,Object(f.a)(Object(f.a)({},H),{start:la})).then(function(ta){ea(ta.results)},ka)}))};for(var Z=0;Z<K;Z++)N(Z);x.Promise.all(V).then(function(ca){M(Object(n.b)(ca))})}else M(N.results)},
R)}))["catch"](function(M){throw M;})},c=function(E){var F,w=E.shareMode,D=E.currentUsername,G=E.portalUser;E=E.userGroups;var H=[];switch(E&&E.forEach(function(M){var R,N=null===(R=M.userMembership)||void 0===R?void 0:R.memberType;!M.isViewOnly||"owner"!==N&&"admin"!==N||H.push(M.id)}),H.length&&(F="(isviewonly:false OR "+H.join(" OR ")+")"),w){case e.d.DEFAULT:return F||"(owner:"+D+" OR isviewonly:false)";case e.d.GROUP:return"owner:"+D+" -capabilities:updateitemcontrol";case e.d.ADMIN:return G.username===
D?"(isviewonly:false OR owner:"+G.username+") -capabilities:updateitemcontrol":"(owner:"+D+" OR isviewonly:false)";default:return""}},k=function(E,F){0!==(null==E?void 0:E.indexOf("id:"))||-1<F.indexOf(E)||F.push(E)},r=function(E){var F,w,D,G,H,M=[],R=[E.featuredItemsGroupQuery,E.basemapGalleryGroupQuery,E.templatesGroupQuery,E["2DStylesGroupQuery"],E.stylesGroupQuery,E.analysisLayersGroupQuery,E.galleryTemplatesGroupQuery];if(E.hasModernHomePageEnabled){var N=(null===(w=null===(F=E.homePageConfig)||
void 0===F?void 0:F.content)||void 0===w?void 0:w.filter(function(K){return"gallery"===K.type&&!!K.groupId}))||[];0<N.length&&N.forEach(function(K){k("id:"+K.groupId,M)})}else R.push(E.homePageFeaturedContent);return R.forEach(function(K){k(K,M)}),null===(D=E.featuredGroups)||void 0===D||D.forEach(function(K){(K=K.id)&&k("id:"+K,M)}),null===(H=null===(G=E.userDefaults)||void 0===G?void 0:G.groups)||void 0===H||H.forEach(function(K){k("id:"+K,M)}),0<M.length?"("+M.join(" OR ")+")":""},v=function(E){var F=
E.portal;switch(E.designationFilter){case h.b.openData:return"isopendata:true";case h.b.updateGroups:return"capabilities:updateitemcontrol";case h.b.distributed:return"capabilities:distributed";case h.b.administrative:return"isleavingdisallowed:true";case h.b.orgSettings:return r(F)||"";default:return""}},B=function(E){var F=E.portal,w=E.username,D=E.currentUsername,G=E.userType,H=E.withinAppConfig;w=E.shareMode===e.d.ADMIN&&D||w;H=F.isPortal&&H?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":
"";switch(E.ownerFilter){case h.d.itemOwner:return"owner:"+w+" "+H;case h.d.inOrg:return"-owner:"+w+" orgid:"+F.id+" "+H;case h.d.outsideOrg:return G===e.e.PUBLIC?"-owner:"+w+" "+H:"(orgid: [0 TO \\{]) -orgid:"+F.id+" "+H;default:return H}},C=function(E){return E?"created: ["+(F=E).start+" TO "+F.end+"]":"";var F},A=function(E){var F=E.utils,w=F.portal;F=F.portalUser;var D=E.config,G=D.shareMode,H=D.userType,M=D.withinAppConfig,R=D.hasIndoorsSpaces;E=E.parameters.filter;var N=E.designationFilter,
K=E.membershipFilter,V=E.dateCreatedFilter,Z=E.currentUsername,ca=E.ownerFilter;return[D.baseQ+" "+E.searchString,c({shareMode:G,currentUsername:Z,portalUser:F,userGroups:D.userGroups}),R?"-capabilities:distributed":v({designationFilter:N,portal:w}),R?"membershipaccess:org":K?"anyOrg"===K?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+K:"",C(V),B({ownerFilter:ca,portal:w,username:F.username,currentUsername:Z,shareMode:G,userType:H,withinAppConfig:M})].filter(function(ea){return ea}).join(" ").trim()}},
16:function(y,t){y.exports=T},163:function(y,t,m){function f(){u("gb__select-all-input")}function g(){u("gb__clear-selection-btn")}function l(){setTimeout(function(){var q=document.querySelector(".gcard-gcc__container");q&&(q=q.querySelector(".btn-2018check__input"))&&q.focus()},50)}function u(q){setTimeout(function(){var z=document.querySelector("#"+q);z&&z.focus()},50)}m.d(t,"c",function(){return f});m.d(t,"a",function(){return g});m.d(t,"b",function(){return l})},170:function(y,t){var m=function(){return this}();
try{m=m||(new Function("return this"))()}catch(f){"object"==typeof window&&(m=window)}y.exports=m},175:function(y,t,m){var f;m.d(t,"a",function(){return f});(f||(f={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(y,t,m){m.d(t,"a",function(){return k});var f=m(0),g=m(54),l=m(144),u=m(159),q=m(313),z=m(314),x=m(186),n=m(30),h=m(28),e=m(25),d=m(61),a=m(68),b=m(192),c=m(58),k=function(v){return function(B,C){var A=C(),E=(Object(g.b)(A)?A:A.gbState).utils,F=E.portal;E=E.portalUser;if(!(v&&
v.selectorItems&&0<v.selectorItems.length))return B(u.b),h.Promise.resolve();var w=v.selectorItems,D=v.userType;B({type:e.a.SET_SHARE_MODE,payload:v.shareMode});B({type:e.a.SET_USER_TYPE,payload:D});B(Object(l.f)(w));F=Object(c.b)({user:E,items:w,portal:F});var G=E.username===F.username?[E]:[E,F];return 1<G.length&&!v.anySelectorItemsPrivate&&B({type:e.a.ENABLE_USER_TOGGLE}),B(Object(x.c)(G)),B(Object(x.h)(F.username)),void 0===A.config.hasTrustedOrgs&&B(q.a),Object(z.a)(C()).then(function(H){return H&&
B({type:b.a.USER_DETAILS_LOADED,payload:H.groups}),B(u.b),h.Promise.all(G.map(function(M){return Object(u.a)({user:M,state:C()})})).then(function(M){M=Object(d.b)(M);var R=M.map(function(N){return N.id});M=M.filter(function(N,K){return R.indexOf(N.id)===K});return B(r(M))})})}},r=function(v){return function(B,C){return new h.Promise(function(A,E){var F=C();F=Object(g.b)(F)?F:F.gbState;var w=F.utils,D=w.portal,G=w.request,H=Object(n.b)(F.groups.selectorItems);F=Object(n.a)(v).map(function(M){return Object(n.i)({itemIds:H,
groupIds:Object(n.b)(M),portal:D,request:G})});h.Promise.all(F).then(function(M){var R=M.reduce(function(K,V){return Object(f.a)(Object(f.a)({},K),V)},{}),N=Object.keys(R);M=v.filter(function(K){return 0<=N.indexOf(K.id)}).map(function(K){return{group:K,selectedByIds:R[K.id].items.map(function(V){return V.itemId})}});B({type:a.a.SET_HAS_GROUPS,payload:0<v.length});B(Object(l.e)(M));A()})["catch"](E)})}}},181:function(y,t,m){m.d(t,"b",function(){return u});m.d(t,"c",function(){return q});m.d(t,"a",
function(){return z});var f=m(63);y=m(5);var g=m(99),l=m(128),u=function(x,n){return Object(f.a)(Object(l.b)(x))(n)},q=Object(f.a)(Object(y.e)("thumbURI")),z=function(x){var n=x.initialSelectedByIds;return!Object(g.a)(x.selectedBy.map(function(h){return h.id}),n)}},186:function(y,t,m){m.d(t,"b",function(){return g});m.d(t,"g",function(){return l});m.d(t,"h",function(){return u});m.d(t,"e",function(){return q});m.d(t,"f",function(){return z});m.d(t,"d",function(){return x});m.d(t,"c",function(){return n});
m.d(t,"a",function(){return h});var f=m(83),g=function(e){return{type:f.a.SET_SEARCH_STRING,payload:e}},l=function(e){return{type:f.a.UPDATE_OWNER_FILTER,payload:e}},u=function(e){return{type:f.a.UPDATE_USERNAME_FILTER,payload:e}},q=function(e){return{type:f.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:e}},z=function(e){return{type:f.a.UPDATE_MEMBERSHIP_FILTER,payload:e}},x=function(e){return{type:f.a.UPDATE_CREATED_ON_FILTER,payload:{section:e.section,created:e.created}}},n=function(e){return{type:f.a.SET_USERS,
payload:e}},h=function(e){return{type:f.a.CLEAR_FILTERS,payload:e}}},189:function(y,t){function m(){throw Error("setTimeout has not been defined");}function f(){throw Error("clearTimeout has not been defined");}function g(c){if(n===setTimeout)return setTimeout(c,0);if((n===m||!n)&&setTimeout)return n=setTimeout,setTimeout(c,0);try{return n(c,0)}catch(k){try{return n.call(null,c,0)}catch(r){return n.call(this,c,0)}}}function l(){a&&e&&(a=!1,e.length?d=e.concat(d):b=-1,d.length&&u())}function u(){if(!a){var c=
g(l);a=!0;for(var k=d.length;k;){e=d;for(d=[];++b<k;)e&&e[b].run();b=-1;k=d.length}e=null;a=!1;(function(r){if(h===clearTimeout)return clearTimeout(r);if((h===f||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(r);try{h(r)}catch(v){try{return h.call(null,r)}catch(B){return h.call(this,r)}}})(c)}}function q(c,k){this.fun=c;this.array=k}function z(){}var x=y.exports={};try{var n="function"==typeof setTimeout?setTimeout:m}catch(c){n=m}try{var h="function"==typeof clearTimeout?clearTimeout:f}catch(c){h=
f}!0;var e,d=[],a=!1,b=-1;x.nextTick=function(c){var k=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)k[r-1]=arguments[r];d.push(new q(c,k));1!==d.length||a||g(u)};q.prototype.run=function(){this.fun.apply(null,this.array)};x.title="browser";x.browser=!0;x.env={};x.argv=[];x.version="";x.versions={};x.on=z;x.addListener=z;x.once=z;x.off=z;x.removeListener=z;x.removeAllListeners=z;x.emit=z;x.prependListener=z;x.prependOnceListener=z;x.listeners=function(c){return[]};
x.binding=function(c){throw Error("process.binding is not supported");};x.cwd=function(){return"/"};x.chdir=function(c){throw Error("process.chdir is not supported");};x.umask=function(){return 0}},192:function(y,t,m){var f;m.d(t,"a",function(){return f});(f||(f={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(y,t,m){function f(h){return"Feature Service"===h.type&&-1<h.typeKeywords.indexOf("Hosted Service")}function g(h){return h.filter(function(e){return e.access!==z.b["public"]&&f(e)})}function l(h){var e=
h.request;h=h.items.map(function(d){return function(a,b){return new u.Promise(function(c){f(a)?Object(q.v)(b,a.url+"/layers").then(function(k){k=k.layers;c((null==k?void 0:k.reduce(function(r,v){return r||v&&-1<v.capabilities.indexOf("Editing")},!1))&&a)},function(){return c(!1)}):c(!1)})}(d,e)});return u.Promise.all(h).then(function(d){return d.filter(function(a){return a})})}m.d(t,"d",function(){return x});m.d(t,"c",function(){return f});m.d(t,"b",function(){return g});m.d(t,"a",function(){return l});
var u=m(28),q=m(30),z=m(26),x=function(h){var e=h.groupDatas;return h.items.filter(function(d){d=d.access?d.access:d.sharing&&d.sharing.access;return d===z.b["private"]||d===z.b.shared}).reduce(function(d,a){return d||n({item:a,groupDatas:e})},!1)},n=function(h){var e=h.item;return h.groupDatas.reduce(function(d,a){return d||!!a.selectedByIds&&0<=a.selectedByIds.indexOf(e.id)},!1)}},204:function(y,t,m){var f;m.d(t,"a",function(){return f});(function(g){g.SET_PAGE="SET_PAGE";g.TOGGLE_SORT_DROPDOWN=
"TOGGLE_SORT_DROPDOWN";g.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(f||(f={}))},207:function(y,t,m){m.d(t,"b",function(){return l});var f=m(0),g=m(25),l={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};t.a=function(u,q){switch(void 0===u&&(u=l),q.type){case g.a.ENABLE_USER_TOGGLE:return Object(f.a)(Object(f.a)({},u),{enableUserToggle:!0});case g.a.SET_SHARE_MODE:return Object(f.a)(Object(f.a)({},
u),{shareMode:q.payload});case g.a.SET_USER_TYPE:return Object(f.a)(Object(f.a)({},u),{userType:q.payload});case g.a.TRUSTED_ORGS_LOADED:return Object(f.a)(Object(f.a)({},u),{hasTrustedOrgs:0<q.payload.length});case g.a.USER_DETAILS_LOADED:return Object(f.a)(Object(f.a)({},u),{userGroups:q.payload});case g.a.SET_SELECTOR_ITEMS:var z=!!q.payload.find(function(x){var n;return-1<(null===(n=null==x?void 0:x.typeKeywords)||void 0===n?void 0:n.indexOf("EditExtensionIndoorsSpaces"))});return Object(f.a)(Object(f.a)({},
u),{hasIndoorsSpaces:z});default:return u}}},208:function(y,t,m){m.d(t,"b",function(){return g});y=m(16);var f=m(209);m=m(38);var g={sort:f.b,filter:m.f};t.a=Object(y.combineReducers)({sort:f.a,filter:m.e})},209:function(y,t,m){m.d(t,"b",function(){return l});var f=m(0),g=m(25),l={field:"title",order:"asc"},u={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};t.a=function(q,z){switch(void 0===q&&(q=l),z.type){case g.a.CHANGE_SORT_FIELD:return Object(f.a)(Object(f.a)({},
q),{field:z.payload,order:u[z.payload]});case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},q),{order:z.payload});default:return q}}},210:function(y,t,m){m.d(t,"b",function(){return u});y=m(16);var f=m(211),g=m(212),l=m(213);m=m(214);var u={page:f.b,sort:g.b,focus:l.b,filter:m.b};t.a=Object(y.combineReducers)({page:f.a,sort:g.a,focus:l.a,filter:m.a})},211:function(y,t,m){m.d(t,"b",function(){return l});var f=m(0),g=m(25),l={currentPageNumber:1};t.a=function(u,q){switch(void 0===u&&(u=l),
q.type){case g.a.CLEAR_FILTERS:case g.a.UPDATE_USERNAME_FILTER:case g.a.UPDATE_OWNER_FILTER:case g.a.UPDATE_CREATED_ON_FILTER:case g.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:1});case g.a.SET_PAGE:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:q.payload});case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:q.payload.num>q.payload.total?1:Math.ceil(q.payload.start/q.payload.num)});case g.a.LOAD_GROUPS_FAIL:return Object(f.a)(Object(f.a)({},
u),{currentPageNumber:1});default:return u}}},212:function(y,t,m){m.d(t,"b",function(){return g});var f=m(25),g=!1;t.a=function(l,u){switch(void 0===l&&(l=g),u.type){case f.a.CHANGE_SORT_FIELD:case f.a.CHANGE_SORT_ORDER:case f.a.TOGGLE_SORT_DROPDOWN:return!l;default:return l}}},213:function(y,t,m){m.d(t,"b",function(){return l});var f=m(0),g=m(25),l={focusSelectAll:!1};t.a=function(u,q){switch(q.type){case g.a.LOAD_GROUPS_FAIL:case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},u),{focusSelectAll:!1});
case g.a.CHANGE_SORT_FIELD:case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},u),{focusSelectAll:!0});default:return u}}},214:function(y,t,m){m.d(t,"b",function(){return u});var f=m(0),g=m(25),l=m(38),u={expanded:!1};t.a=function(q,z){switch(z.type){case g.a.CLEAR_FILTERS:switch(z.payload){case void 0:case l.a.DATE_CREATED:return Object(f.a)(Object(f.a)({},q),{dateCreatedSelectedSection:void 0});default:return q}case g.a.TOGGLE_EXPANDED_FILTERS:return Object(f.a)(Object(f.a)({},q),{expanded:!q.expanded});
case g.a.UPDATE_CREATED_ON_FILTER:return Object(f.a)(Object(f.a)({},q),{dateCreatedSelectedSection:z.payload.section});default:return q}}},215:function(y,t,m){m.d(t,"b",function(){return g});var f=m(101),g={portal:{},portalUser:{},request:function(l){return null}};t.a=function(l,u){return void 0===l&&(l=g),u.type,l.portal.portalHostname&&!l.portal.baseUrl&&(l.portal.baseUrl=Object(f.a)(l.portal)),l}},25:function(y,t,m){m.d(t,"a",function(){return q});var f;y=m(0);t=m(204);var g=m(68),l=m(175),u=m(83);
m=m(192);!function(z){z.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";z.SET_SHARE_MODE="SET_SHARE_MODE";z.SET_USER_TYPE="SET_USER_TYPE"}(f||(f={}));var q=Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)({},t.a),g.a),u.a),f),l.a),m.a)},26:function(y,t,m){var f,g,l,u,q;m.d(t,"b",function(){return f});m.d(t,"a",function(){return g});m.d(t,"c",function(){return l});m.d(t,"e",function(){return u});m.d(t,"d",function(){return q});(function(z){z.org="org";z["private"]="private";z["public"]=
"public";z.shared="shared"})(f||(f={}));(function(z){z.LOADING="LOADING";z.SHARE="SHARE";z.GROUP_BROWSER="GROUP_BROWSER";z.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(g||(g={}));(function(z){z.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";z.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";z.REVERT_GROUPS="REVERT_GROUPS";z.EDITABLE_LAYERS="EDITABLE_LAYERS";z.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";z.NONE="NONE";z.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";z.PUBLIC_DATA_COLLECTION_ENABLED=
"PUBLIC_DATA_COLLECTION_ENABLED"})(l||(l={}));(function(z){z.ORG="ORG";z.PUBLIC="PUBLIC"})(u||(u={}));(function(z){z.DEFAULT="DEFAULT";z.ADMIN="ADMIN";z.GROUP="GROUP"})(q||(q={}))},28:function(y,t,m){(function(f,g){y.exports=function(){function l(){var la=setTimeout;return function(){return la(u,1)}}function u(){for(var la=0;la<B;la+=2)(0,H[la])(H[la+1]),H[la]=void 0,H[la+1]=void 0;B=0}function q(la,ta){var za=this,ia=new this.constructor(x);void 0===ia[Z]&&r(ia);var U=za._state;if(U){var ja=arguments[U-
1];E(function(){return k(U,ia,ja,za._result)})}else b(za,ia,la,ta);return ia}function z(la){if(la&&"object"==typeof la&&la.constructor===this)return la;var ta=new this(x);return h(ta,la),ta}function x(){}function n(la,ta,za){ta.constructor===la.constructor&&za===q&&ta.constructor.resolve===z?function(ia,U){1===U._state?d(ia,U._result):2===U._state?a(ia,U._result):b(U,void 0,function(ja){return h(ia,ja)},function(ja){return a(ia,ja)})}(la,ta):void 0===za?d(la,ta):"function"==typeof za?function(ia,
U,ja){E(function(S){var O=!1,I=function(ba,W,aa,P){try{ba.call(W,aa,P)}catch(L){return L}}(ja,U,function(ba){O||(O=!0,U!==ba?h(S,ba):d(S,ba))},function(ba){O||(O=!0,a(S,ba))},S._label);!O&&I&&(O=!0,a(S,I))},ia)}(la,ta,za):d(la,ta)}function h(la,ta){if(la===ta)a(la,new TypeError("You cannot resolve a promise with itself"));else if(ia=typeof(za=ta),null===za||"object"!==ia&&"function"!==ia)d(la,ta);else{za=void 0;try{za=ta.then}catch(U){return void a(la,U)}n(la,ta,za)}var za,ia}function e(la){la._onerror&&
la._onerror(la._result);c(la)}function d(la,ta){void 0===la._state&&(la._result=ta,la._state=1,0!==la._subscribers.length&&E(c,la))}function a(la,ta){void 0===la._state&&(la._state=2,la._result=ta,E(e,la))}function b(la,ta,za,ia){var U=la._subscribers,ja=U.length;la._onerror=null;U[ja]=ta;U[ja+1]=za;U[ja+2]=ia;0===ja&&la._state&&E(c,la)}function c(la){var ta=la._subscribers,za=la._state;if(0!==ta.length){for(var ia=void 0,U=void 0,ja=la._result,S=0;S<ta.length;S+=3)ia=ta[S],U=ta[S+za],ia?k(za,ia,
U,ja):U(ja);la._subscribers.length=0}}function k(la,ta,za,ia){var U="function"==typeof za,ja=void 0,S=void 0,O=!0;if(U){try{ja=za(ia)}catch(I){O=!1,S=I}if(ta===ja)return void a(ta,new TypeError("A promises callback cannot return that same promise."))}else ja=ia;void 0!==ta._state||(U&&O?h(ta,ja):!1===O?a(ta,S):1===la?d(ta,ja):2===la&&a(ta,ja))}function r(la){la[Z]=ca++;la._state=void 0;la._result=void 0;la._subscribers=[]}var v=Array.isArray?Array.isArray:function(la){return"[object Array]"===Object.prototype.toString.call(la)},
B=0,C=void 0,A=void 0,E=function(la,ta){H[B]=la;H[B+1]=ta;2===(B+=2)&&(A?A(u):V())},F="undefined"!=typeof window?window:void 0,w=F||{};w=w.MutationObserver||w.WebKitMutationObserver;var D="undefined"==typeof self&&void 0!==f&&"[object process]"==={}.toString.call(f),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=Array(1E3),M,R,N,K,V=void 0;D?V=function(){return f.nextTick(u)}:w?(R=0,N=new w(u),K=document.createTextNode(""),N.observe(K,
{characterData:!0}),V=function(){K.data=R=++R%2}):G?((M=new MessageChannel).port1.onmessage=u,V=function(){return M.port2.postMessage(0)}):V=void 0===F?function(){try{var la=Function("return this")().require("vertx");return void 0!==(C=la.runOnLoop||la.runOnContext)?function(){C(u)}:l()}catch(ta){return l()}}():l();var Z=Math.random().toString(36).substring(2),ca=0,ea=function(){function la(ta,za){this._instanceConstructor=ta;this.promise=new ta(x);this.promise[Z]||r(this.promise);v(za)?(this.length=
za.length,this._remaining=za.length,this._result=Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(za),0===this._remaining&&d(this.promise,this._result))):a(this.promise,Error("Array Methods must be provided an Array"))}return la.prototype._enumerate=function(ta){for(var za=0;void 0===this._state&&za<ta.length;za++)this._eachEntry(ta[za],za)},la.prototype._eachEntry=function(ta,za){var ia=this._instanceConstructor,U=ia.resolve;if(U===z){var ja=
U=void 0,S=!1;try{U=ta.then}catch(O){S=!0,ja=O}U===q&&void 0!==ta._state?this._settledAt(ta._state,za,ta._result):"function"!=typeof U?(this._remaining--,this._result[za]=ta):ia===ka?(ia=new ia(x),S?a(ia,ja):n(ia,ta,U),this._willSettleAt(ia,za)):this._willSettleAt(new ia(function(O){return O(ta)}),za)}else this._willSettleAt(U(ta),za)},la.prototype._settledAt=function(ta,za,ia){var U=this.promise;void 0===U._state&&(this._remaining--,2===ta?a(U,ia):this._result[za]=ia);0===this._remaining&&d(U,this._result)},
la.prototype._willSettleAt=function(ta,za){var ia=this;b(ta,void 0,function(U){return ia._settledAt(1,za,U)},function(U){return ia._settledAt(2,za,U)})},la}(),ka=function(){function la(ta){this[Z]=ca++;this._result=this._state=void 0;this._subscribers=[];if(x!==ta){if("function"!=typeof ta)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof la)(function(za,ia){try{ia(function(U){h(za,U)},function(U){a(za,U)})}catch(U){a(za,U)}})(this,
ta);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return la.prototype["catch"]=function(ta){return this.then(null,ta)},la.prototype["finally"]=function(ta){var za=this.constructor;return"function"==typeof ta?this.then(function(ia){return za.resolve(ta()).then(function(){return ia})},function(ia){return za.resolve(ta()).then(function(){throw ia;})}):this.then(ta,ta)},la}();return ka.prototype.then=
q,ka.all=function(la){return(new ea(this,la)).promise},ka.race=function(la){var ta=this;return v(la)?new ta(function(za,ia){for(var U=la.length,ja=0;ja<U;ja++)ta.resolve(la[ja]).then(za,ia)}):new ta(function(za,ia){return ia(new TypeError("You must pass an array to race."))})},ka.resolve=z,ka.reject=function(la){var ta=new this(x);return a(ta,la),ta},ka._setScheduler=function(la){A=la},ka._setAsap=function(la){E=la},ka._asap=E,ka.polyfill=function(){var la=void 0;if(void 0!==g)la=g;else if("undefined"!=
typeof self)la=self;else try{la=Function("return this")()}catch(ia){throw Error("polyfill failed because global object is unavailable in this environment");}var ta=la.Promise;if(ta){var za=null;try{za=Object.prototype.toString.call(ta.resolve())}catch(ia){}if("[object Promise]"===za&&!ta.cast)return}la.Promise=ka},ka.Promise=ka,ka}()}).call(this,m(189),m(170))},30:function(y,t,m){function f(H){return H.reduce(function(M,R){return R&&R.relatedItems?M.concat(R.relatedItems.map(function(N){return N})):
M},[])}function g(H,M,R){return H(M,{query:Object(q.a)({f:"json"},R)}).then(function(N){return N.data})}function l(H,M){void 0===M&&(M=100);for(var R=[],N=0;N<Math.ceil(H.length/M);N++)R.push(H.slice(N*M,(N+1)*M));return R.filter(function(K){return 0<K.length})}function u(H){var M=H.itemIds,R=H.request,N=H.groupIds,K=H.portal.restUrl+"/content/itemsgroups";return new z.Promise(function(V,Z){R(K,{method:"get",query:{f:"json",items:M,groups:N}}).then(function(ca){V(ca.data)},Z)})}m.d(t,"u",function(){return x});
m.d(t,"n",function(){return n});m.d(t,"h",function(){return h});m.d(t,"e",function(){return e});m.d(t,"f",function(){return d});m.d(t,"j",function(){return a});m.d(t,"o",function(){return b});m.d(t,"l",function(){return c});m.d(t,"k",function(){return k});m.d(t,"m",function(){return r});m.d(t,"c",function(){return v});m.d(t,"d",function(){return B});m.d(t,"r",function(){return C});m.d(t,"s",function(){return A});m.d(t,"t",function(){return E});m.d(t,"g",function(){return F});m.d(t,"p",function(){return w});
m.d(t,"q",function(){return D});m.d(t,"v",function(){return g});m.d(t,"a",function(){return l});m.d(t,"i",function(){return u});m.d(t,"b",function(){return G});var q=m(0),z=m(28),x=function(H){return function(M,R){return H({url:M,content:R.query},{usePost:"post"===R.method}).then(function(N){return{data:N}})}},n=function(H,M,R){return g(H,M.restUrl+"/portals/self",{culture:R,"default":!0})},h=function(H,M,R){return g(H,M.restUrl+"/content/items/"+R+"/data")},e=function(H,M,R,N){return g(H,M.restUrl+
"/community/groups",Object(q.a)({q:R},N))},d=function(H,M,R){return g(H,M.restUrl+"/community/groups/"+R+"/categorySchema")},a=function(H,M,R){return g(H,M.restUrl+"/portals/"+(R||M.id)+"/categorySchema")},b=function(H,M){return g(H,M.restUrl+"/portals/"+M.id+"/servers")},c=function(H,M,R,N){return H(M.restUrl+"/portals/"+(R||M.id)+"/collaborationsSummary",N)},k=function(H,M,R,N){return H(M.restUrl+"/portals/"+(R||M.id)+"/collaboratedItems",N)},r=function(H,M,R){return g(H,location.protocol+"//"+
M.portalHostname+"/sharing/rest/portals/"+(R||"self"))},v=function(H,M,R){return H(M.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+M.id+" AND access:public",num:100,start:R||1,sortField:"title",sortOrder:"asc"}}).then(function(N){return N.data.total>N.data.start+N.data.num?v(H,M,N.data.start+N.data.num).then(function(K){return Object(q.a)(Object(q.a)({},K),{data:Object(q.a)(Object(q.a)({},K.data),{results:N.data.results.concat(K.data.results)})})}):N})},B=function(H,M,R,N){return H(M.restUrl+
"/community/users/"+R+"/provisionedListings",{query:{f:"json",num:100,start:N||1}}).then(function(K){var V=z.Promise.all(K.data.provisionedListings.filter(function(ca){return ca.itemId}).map(function(ca){return(new z.Promise(function(ea,ka){H(M.restUrl+"/content/items/"+ca.itemId,{method:"get",query:{f:"json"}}).then(function(la){ea(la.data)},ka)}))["catch"](function(ea){return 0})})),Z=K.data.provisionedListings.map(function(ca){return g(H,M.restUrl+"/content/items/"+(ca.id||ca.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ea){return ea},
function(ea){})});return K.data.total>K.data.start+K.data.num?B(H,M,R,K.data.start+K.data.num).then(function(ca){return z.Promise.all([V].concat(Z)).then(function(ea){return ea[0].results.concat(f(ea.slice(1))).concat(ca)})}):z.Promise.all([V].concat(Z)).then(function(ca){return ca[0].filter(function(ea){return void 0!==ea}).concat(f(ca.slice(1)))})})},C=function(H,M,R){return g(H,M.restUrl+"/community/users/"+(R||M.user.username))},A=function(H,M,R){return g(H,M.restUrl+"/content/users/"+(R||M.user.username),
{num:1})},E=function(H,M,R){return g(H,M.restUrl+"/content/groups/"+R)},F=function(H,M,R){return g(H,M.restUrl+"/community/groups",R)},w=function(H,M){return g(H,M.restUrl+"/portals/self/settings")},D=function(H,M){return g(H,M.restUrl+"/portals/self/trustedOrgs",{num:100})},G=function(H,M){return void 0===M&&(M=","),H.map(function(R){return R.id}).join(M)}},313:function(y,t,m){m.d(t,"a",function(){return u});var f=m(30),g=m(54),l=m(175),u=function(q,z){var x=z();x=(Object(g.b)(x)?x:x.gbState).utils;
Object(f.q)(x.request,x.portal).then(function(n){var h;n=(null===(h=null==n?void 0:n.trustedOrgs)||void 0===h?void 0:h.filter(function(e){return-1<e.from.established&&-1<e.to.established}))||[];q({type:l.a.TRUSTED_ORGS_LOADED,payload:n})},function(){q({type:l.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(y,t,m){m.d(t,"a",function(){return u});var f=m(30),g=m(54),l=m(28),u=function(q){q=(Object(g.b)(q)?q:q.gbState).utils;var z=q.request,x=q.portal,n=q.portalUser;return new l.Promise(function(h,
e){Object(f.r)(z,x,n.username).then(function(d){h(d)},function(){h()})})}},335:function(y,t,m){m.d(t,"b",function(){return n});m.d(t,"a",function(){return B});var f=m(0),g=m(28),l=m(30),u=m(78),q=m(61),z=m(194),x=m(26),n=function(E){if(E.depth&&4<E.depth)return g.Promise.resolve([]);switch(E.depth=E.depth?E.depth+1:1,E.item.type){case "Web Map":case "Web Scene":return k(E);case "Web Mapping Application":return e(E);case "Big Data File Share":return d(E);case "Data Store":return a(E);default:return g.Promise.resolve([])}},
h=function(E){var F=E.item,w=E.request,D=E.portal,G=E.iconDir;return F.itemId?new g.Promise(function(H){Object(l.v)(w,D.restUrl+"/content/items/"+F.itemId).then(function(M){0<Object(z.b)([M]).length?Object(z.a)({items:[M],request:w}).then(function(R){M.isUpdateLayer=0<R.length;H(Object(u.a)(D,G,M))},function(){return H(Object(u.a)(D,G,M))}):H(Object(u.a)(D,G,M))},function(){return H(null)})}):g.Promise.resolve(null)},e=function(E){var F=E.item,w=E.request,D=E.portal,G=E.iconDir;return new g.Promise(function(H){Object(l.v)(w,
D.restUrl+"/content/items/"+F.id+"/data").then(function(M){M||H([]);var R=function(N){var K,V,Z,ca,ea,ka,la,ta,za,ia,U=(null===(K=null==N?void 0:N.map)||void 0===K?0:K.itemId)?[N.map.itemId]:[];K=null!==(ca=null===(Z=null===(V=N.values)||void 0===V?void 0:V.itemCollection)||void 0===Z?void 0:Z.map(function(ja){return ja.id}))&&void 0!==ca?ca:[];V=null!==(la=null===(ka=null===(ea=N.values)||void 0===ea?void 0:ea.webmap)||void 0===ka?void 0:ka.split(","))&&void 0!==la?la:[];N=null!==(ia=null===(za=
null===(ta=N.values)||void 0===ta?void 0:ta.webscene)||void 0===za?void 0:za.split(","))&&void 0!==ia?ia:[];return Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],U),K),V),N)}(M).map(function(N){return h({item:{itemId:N},request:w,portal:D,iconDir:G})});g.Promise.all(R).then(function(N){var K=N.filter(function(V){return V});N=K.map(function(V){return n({item:V,request:w,portal:D,iconDir:G})});g.Promise.all(N).then(function(V){var Z;V=Object(f.g)(Object(f.g)([],K),Object(q.b)(V));(null===(Z=M.values)||
void 0===Z?0:Z.group)&&(F.itemData=M,V.push(F));H(V)})})})})},d=function(E){var F=E.item,w=E.request,D=E.portal,G=E.iconDir;return new g.Promise(function(H){Object(l.v)(w,D.restUrl+"/content/items/"+F.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(M){if(-1<M.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&-1<M.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(l.v)(w,D.restUrl+"/content/items/"+M.relatedItems[0].id+"/relatedItems",
{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(N){N.relatedItems.push(M.relatedItems[0]);N=b(N.relatedItems,w,D,G);g.Promise.all(N).then(function(K){H(K)})});else{var R=b(M.relatedItems,w,D,G);g.Promise.all(R).then(function(N){H(N)})}})})},a=function(E){var F=E.item,w=E.request,D=E.portal,G=E.iconDir;return new g.Promise(function(H){Object(l.v)(w,D.restUrl+"/content/items/"+F.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(M){M=
b(M.relatedItems,w,D,G);g.Promise.all(M).then(function(R){H(R)})})})},b=function(E,F,w,D){return E.map(function(G){return c(G,F,w,D)})},c=function(E,F,w,D){return new g.Promise(function(G){Object(l.v)(F,w.restUrl+"/content/items/"+E.id).then(function(H){G(Object(u.a)(w,D,H))})})},k=function(E){var F=E.item,w=E.request,D=E.portal,G=E.iconDir;return new g.Promise(function(H){return function(M){var R=M.portal,N=M.item,K=M.request;return new g.Promise(function(V){if(N.itemData){var Z=N.itemData,ca=Z.operationalLayers,
ea=Z.baseMap,ka=Z.tables;Z=Z.ground;return V(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],(null==ea?void 0:ea.baseMapLayers)||[]),(null==Z?void 0:Z.layers)||[]),ca||[]),ka||[]))}return Object(l.v)(K,R.restUrl+"/content/items/"+N.id+"/data").then(function(la){var ta=la.baseMap,za=la.tables,ia=la.ground;return V(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],la.operationalLayers||[]),(null==ta?void 0:ta.baseMapLayers)||[]),(null==ia?void 0:ia.layers)||[]),za||[]))},function(){return V([])})})}({request:w,
item:F,portal:D}).then(function(M){g.Promise.all(r(M).map(function(R){return h({item:R,request:w,portal:D,iconDir:G})})).then(H)})})},r=function(E){return E.reduce(function(F,w){return(null==w?0:w.itemId)?F.concat(w):(null==w?0:w.layers)&&"GroupLayer"===w.layerType?F.concat(w.layers):F},[])},v={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,bdfsDatastore:!1},B=function(E){var F=E.item,w=E.selectedOptions,D=E.selectedGroups,G=E.request;E=E.portal;
return C({item:F,selectedOptions:w})?g.Promise.resolve(Object(f.a)(Object(f.a)({},v),{editable:!1,premium:!0})):A({item:F,selectedGroups:D,request:G,portal:E,selectedOptions:w}).then(function(H){var M=H.needsGroupSharingUpdate,R;if(!(R=H.needsShareLevelUpdate)){var N,K=!0;Object(q.e)(w)&&(K=!1);R=Object(q.d)(w);R!==x.b["private"]&&R!==x.b.shared||(K=!1);var V=F.access||(null===(N=F.sharing)||void 0===N?void 0:N.access);R=(V===x.b["public"]&&(K=!1),V===R&&(K=!1),R===x.b["private"]&&(V===x.b.shared&&
(K=!1),V===x.b.org&&(K=!1)),K)}return{needsGroupSharingUpdate:M,needsShareLevelUpdate:R,editable:H.editable,premium:!1,groupDependentApplication:H.groupDependentApplication,bdfsDatastore:H.bdfsDatastore}})},C=function(E){var F=E.selectedOptions;E=E.item;return Object(q.e)(F)?!1:Object(q.d)(F)===x.b["public"]?(F=E.typeKeywords,-1<E.owner.toLowerCase().indexOf("esri")&&(-1<(null==F?void 0:F.indexOf("Requires Credits"))||-1<(null==F?void 0:F.indexOf("Requires Subscription")))):!1},A=function(E){var F=
E.item,w=E.selectedGroups,D=E.selectedOptions,G=E.request,H=E.portal;return new g.Promise(function(M,R){var N,K;"Web Mapping Application"===F.type&&(null===(K=null===(N=F.itemData)||void 0===N?void 0:N.values)||void 0===K?0:K.group)?M(Object(f.a)(Object(f.a)({},v),{groupDependentApplication:!0})):"Data Store"!==F.type?Object(l.v)(G,H.restUrl+"/content/users/"+F.owner+(F.ownerFolder?"/"+F.ownerFolder:"")+"/items/"+(F.itemId||F.id)).then(function(V){var Z,ca=V.item.itemControl,ea=V.sharing.groups;V=
F.access||(null===(Z=F.sharing)||void 0===Z?void 0:Z.access);Object(q.f)(F)&&D.total===D["public"]?M(Object(f.a)(Object(f.a)({},v),{needsShareLevelUpdate:!0,editable:!1})):ca&&"admin"!==ca&&"update"!==ca?M(Object(f.a)(Object(f.a)({},v),{editable:!1})):V!==x.b["public"]?w.length>ea.length?M(Object(f.a)(Object(f.a)({},v),{needsGroupSharingUpdate:!0})):(Z=w.some(function(ka){return 0>ea.indexOf(ka.id)}),M(Object(f.a)(Object(f.a)({},v),{needsGroupSharingUpdate:Z}))):M(Object(f.a)({},v))},function(V){Object(l.v)(G,
H.restUrl+"/content/items/"+(F.itemId||F.id)).then(function(Z){Z=Z.access;Z===x.b["public"]||Z===x.b.org&&D.total===D.org+D["private"]?M(Object(f.a)(Object(f.a)({},v),{editable:!1})):M(Object(f.a)(Object(f.a)({},v),{needsShareLevelUpdate:!0,editable:!1}))},function(Z){M(Object(f.a)(Object(f.a)({},v),{needsShareLevelUpdate:!0,editable:!1}))})}):M(Object(f.a)(Object(f.a)({},v),{bdfsDatastore:!0}))})}},336:function(y,t,m){(function(f,g){function l(va,Fa){return va.set(Fa[0],Fa[1]),va}function u(va,Fa){return va.add(Fa),
va}function q(va,Fa,qa,oa){var xa=-1,ra=va?va.length:0;for(oa&&ra&&(qa=va[++xa]);++xa<ra;)qa=Fa(qa,va[xa],xa,va);return qa}function z(va){var Fa=!1;if(null!=va&&"function"!=typeof va.toString)try{Fa=!!(va+"")}catch(qa){}return Fa}function x(va){var Fa=-1,qa=Array(va.size);return va.forEach(function(oa,xa){qa[++Fa]=[xa,oa]}),qa}function n(va,Fa){return function(qa){return va(Fa(qa))}}function h(va){var Fa=-1,qa=Array(va.size);return va.forEach(function(oa){qa[++Fa]=oa}),qa}function e(va){var Fa=-1,
qa=va?va.length:0;for(this.clear();++Fa<qa;){var oa=va[Fa];this.set(oa[0],oa[1])}}function d(va){var Fa=-1,qa=va?va.length:0;for(this.clear();++Fa<qa;){var oa=va[Fa];this.set(oa[0],oa[1])}}function a(va){var Fa=-1,qa=va?va.length:0;for(this.clear();++Fa<qa;){var oa=va[Fa];this.set(oa[0],oa[1])}}function b(va){this.__data__=new d(va)}function c(va,Fa){var qa=Oa(va)||function(fa){return!!fa&&"object"==typeof fa&&G(fa)&&S.call(fa,"callee")&&(!P.call(fa,"callee")||"[object Arguments]"==O.call(fa))}(va)?
function(fa,pa){for(var ua=-1,Ea=Array(fa);++ua<fa;)Ea[ua]=pa(ua);return Ea}(va.length,String):[],oa=qa.length,xa=!!oa,ra;for(ra in va)!Fa&&!S.call(va,ra)||xa&&("length"==ra||F(ra,oa))||qa.push(ra);return qa}function k(va,Fa,qa){var oa=va[Fa];S.call(va,Fa)&&(oa===qa||oa!=oa&&qa!=qa)&&(void 0!==qa||Fa in va)||(va[Fa]=qa)}function r(va,Fa){for(var qa=va.length;qa--;){var oa=va[qa][0];if(oa===Fa||oa!=oa&&Fa!=Fa)return qa}return-1}function v(va,Fa,qa,oa,xa,ra,fa){var pa;if(oa&&(pa=ra?oa(va,xa,ra,fa):
oa(va)),void 0!==pa)return pa;if(!M(va))return va;if(xa=Oa(va)){if(pa=function(Ca){var Ia=Ca.length,La=Ca.constructor(Ia);Ia&&"string"==typeof Ca[0]&&S.call(Ca,"index")&&(La.index=Ca.index,La.input=Ca.input);return La}(va),!Fa)return function(Ca,Ia){var La=-1,Ga=Ca.length;for(Ia||(Ia=Array(Ga));++La<Ga;)Ia[La]=Ca[La];return Ia}(va,pa)}else{var ua=Ba(va),Ea="[object Function]"==ua||"[object GeneratorFunction]"==ua;if(Ja(va))return function(Ca,Ia){if(Ia)return Ca.slice();var La=new Ca.constructor(Ca.length);
return Ca.copy(La),La}(va,Fa);if("[object Object]"==ua||"[object Arguments]"==ua||Ea&&!ra){if(z(va))return ra?va:{};if(pa=function(Ca){return"function"!=typeof Ca.constructor||w(Ca)?{}:(Ia=W(Ca),M(Ia)?aa(Ia):{});var Ia}(Ea?{}:va),!Fa)return function(Ca,Ia){return C(Ca,Aa(Ca),Ia)}(va,function(Ca,Ia){return Ca&&C(Ia,R(Ia),Ca)}(pa,va))}else{if(!Z[ua])return ra?va:{};pa=function(Ca,Ia,La,Ga){var Ma=Ca.constructor;switch(Ia){case "[object ArrayBuffer]":return B(Ca);case "[object Boolean]":case "[object Date]":return new Ma(+Ca);
case "[object DataView]":return function(Ka,Na){var Qa=Na?B(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,Ka.byteLength)}(Ca,Ga);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Ka,Na){var Qa=Na?B(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,
Ka.length)}(Ca,Ga);case "[object Map]":return function(Ka,Na,Qa){return q(Na?Qa(x(Ka),!0):x(Ka),l,new Ka.constructor)}(Ca,Ga,La);case "[object Number]":case "[object String]":return new Ma(Ca);case "[object RegExp]":return function(Ka){var Na=new Ka.constructor(Ka.source,N.exec(Ka));return Na.lastIndex=Ka.lastIndex,Na}(Ca);case "[object Set]":return function(Ka,Na,Qa){return q(Na?Qa(h(Ka),!0):h(Ka),u,new Ka.constructor)}(Ca,Ga,La);case "[object Symbol]":return Ha=Ca,ya?Object(ya.call(Ha)):{}}var Ha}(va,
ua,v,Fa)}}fa||(fa=new b);if(ra=fa.get(va))return ra;if(fa.set(va,pa),!xa)var Da=qa?function(Ca){var Ia=Aa,La=R(Ca);if(!Oa(Ca)){Ca=Ia(Ca);Ia=-1;for(var Ga=Ca.length,Ma=La.length;++Ia<Ga;)La[Ma+Ia]=Ca[Ia]}return La}(va):R(va);return function(Ca,Ia){for(var La=-1,Ga=Ca?Ca.length:0;++La<Ga&&!1!==Ia(Ca[La],La,Ca););}(Da||va,function(Ca,Ia){Da&&(Ca=va[Ia=Ca]);k(pa,Ia,v(Ca,Fa,qa,oa,Ia,va,fa))}),pa}function B(va){var Fa=new va.constructor(va.byteLength);return(new ba(Fa)).set(new ba(va)),Fa}function C(va,
Fa,qa,oa){qa||(qa={});for(var xa=-1,ra=Fa.length;++xa<ra;){var fa=Fa[xa],pa=oa?oa(qa[fa],va[fa],fa,qa,va):void 0;k(qa,fa,void 0===pa?va[fa]:pa)}return qa}function A(va,Fa){var qa,oa=va.__data__;return("string"==(qa=typeof Fa)||"number"==qa||"symbol"==qa||"boolean"==qa?"__proto__"!==Fa:null===Fa)?oa["string"==typeof Fa?"string":"hash"]:oa.map}function E(va,Fa){var qa=null==va?void 0:va[Fa];a:{var oa=!(!M(qa)||(xa=qa,U&&U in xa))&&(H(qa)||z(qa)?I:K).test(D(qa));break a;var xa}return oa?qa:void 0}function F(va,
Fa){return!!(Fa=null==Fa?9007199254740991:Fa)&&("number"==typeof va||V.test(va))&&-1<va&&0==va%1&&va<Fa}function w(va){var Fa=va&&va.constructor;return va===("function"==typeof Fa&&Fa.prototype||za)}function D(va){if(null!=va){try{return ja.call(va)}catch(Fa){}return va+""}return""}function G(va){var Fa;if(Fa=null!=va)Fa=va.length,Fa="number"==typeof Fa&&-1<Fa&&0==Fa%1&&9007199254740991>=Fa;return Fa&&!H(va)}function H(va){va=M(va)?O.call(va):"";return"[object Function]"==va||"[object GeneratorFunction]"==
va}function M(va){var Fa=typeof va;return!!va&&("object"==Fa||"function"==Fa)}function R(va){if(G(va))va=c(va);else if(w(va)){var Fa=[],qa;for(qa in Object(va))S.call(va,qa)&&"constructor"!=qa&&Fa.push(qa);va=Fa}else va=Q(va);return va}var N=/\w*$/,K=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,Z={};Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object DataView]"]=Z["[object Boolean]"]=Z["[object Date]"]=Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=
Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=Z["[object Set]"]=Z["[object String]"]=Z["[object Symbol]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0;Z["[object Error]"]=Z["[object Function]"]=Z["[object WeakMap]"]=!1;var ca="object"==typeof self&&self&&self.Object===Object&&self;ca="object"==typeof f&&f&&f.Object===Object&&f||ca||Function("return this")();
var ea=t&&!t.nodeType&&t,ka=ea&&"object"==typeof g&&g&&!g.nodeType&&g;ka=ka&&ka.exports===ea;var la;ea=Array.prototype;var ta=Function.prototype,za=Object.prototype,ia=ca["__core-js_shared__"],U=(la=/[^.]+$/.exec(ia&&ia.keys&&ia.keys.IE_PROTO||""))?"Symbol(src)_1."+la:"",ja=ta.toString,S=za.hasOwnProperty,O=za.toString,I=RegExp("^"+ja.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ka=ka?ca.Buffer:void 0;la=ca.Symbol;
var ba=ca.Uint8Array,W=n(Object.getPrototypeOf,Object),aa=Object.create,P=za.propertyIsEnumerable,L=ea.splice;ea=Object.getOwnPropertySymbols;ka=ka?ka.isBuffer:void 0;var Q=n(Object.keys,Object);ta=E(ca,"DataView");var X=E(ca,"Map");ia=E(ca,"Promise");var Y=E(ca,"Set");ca=E(ca,"WeakMap");var da=E(Object,"create"),ha=D(ta),ma=D(X),na=D(ia),sa=D(Y),wa=D(ca),ya=(la=la?la.prototype:void 0)?la.valueOf:void 0;e.prototype.clear=function(){this.__data__=da?da(null):{}};e.prototype["delete"]=function(va){return this.has(va)&&
delete this.__data__[va]};e.prototype.get=function(va){var Fa=this.__data__;return da?(va=Fa[va],"__lodash_hash_undefined__"===va?void 0:va):S.call(Fa,va)?Fa[va]:void 0};e.prototype.has=function(va){var Fa=this.__data__;return da?void 0!==Fa[va]:S.call(Fa,va)};e.prototype.set=function(va,Fa){return this.__data__[va]=da&&void 0===Fa?"__lodash_hash_undefined__":Fa,this};d.prototype.clear=function(){this.__data__=[]};d.prototype["delete"]=function(va){var Fa=this.__data__;va=r(Fa,va);return!(0>va)&&
(va==Fa.length-1?Fa.pop():L.call(Fa,va,1),!0)};d.prototype.get=function(va){var Fa=this.__data__;va=r(Fa,va);return 0>va?void 0:Fa[va][1]};d.prototype.has=function(va){return-1<r(this.__data__,va)};d.prototype.set=function(va,Fa){var qa=this.__data__,oa=r(qa,va);return 0>oa?qa.push([va,Fa]):qa[oa][1]=Fa,this};a.prototype.clear=function(){this.__data__={hash:new e,map:new (X||d),string:new e}};a.prototype["delete"]=function(va){return A(this,va)["delete"](va)};a.prototype.get=function(va){return A(this,
va).get(va)};a.prototype.has=function(va){return A(this,va).has(va)};a.prototype.set=function(va,Fa){return A(this,va).set(va,Fa),this};b.prototype.clear=function(){this.__data__=new d};b.prototype["delete"]=function(va){return this.__data__["delete"](va)};b.prototype.get=function(va){return this.__data__.get(va)};b.prototype.has=function(va){return this.__data__.has(va)};b.prototype.set=function(va,Fa){var qa=this.__data__;if(qa instanceof d){qa=qa.__data__;if(!X||199>qa.length)return qa.push([va,
Fa]),this;qa=this.__data__=new a(qa)}return qa.set(va,Fa),this};var Aa=ea?n(ea,Object):function(){return[]},Ba=function(va){return O.call(va)};(ta&&"[object DataView]"!=Ba(new ta(new ArrayBuffer(1)))||X&&"[object Map]"!=Ba(new X)||ia&&"[object Promise]"!=Ba(ia.resolve())||Y&&"[object Set]"!=Ba(new Y)||ca&&"[object WeakMap]"!=Ba(new ca))&&(Ba=function(va){var Fa=O.call(va);if(va=(va="[object Object]"==Fa?va.constructor:void 0)?D(va):void 0)switch(va){case ha:return"[object DataView]";case ma:return"[object Map]";
case na:return"[object Promise]";case sa:return"[object Set]";case wa:return"[object WeakMap]"}return Fa});var Oa=Array.isArray,Ja=ka||function(){return!1};g.exports=function(va){return v(va,!0,!0)}}).call(this,m(170),m(366)(y))},354:function(y,t){y.exports=p},366:function(y,t){y.exports=function(m){return m.webpackPolyfill||(m.deprecate=function(){},m.paths=[],m.children||(m.children=[]),Object.defineProperty(m,"loaded",{enumerable:!0,get:function(){return m.l}}),Object.defineProperty(m,"id",{enumerable:!0,
get:function(){return m.i}}),m.webpackPolyfill=1),m}},379:function(y,t,m){function f(u,q){var z=u.filter(function(x){var n;return!x.success&&500===(null===(n=null==x?void 0:x.error)||void 0===n?void 0:n.code)}).map(function(x){var n=Object(l.c)(q,function(h){return h.id===x.itemId});return(null==n?void 0:n.title)||x.itemId});return u.map(function(x){x.error=x.error||{};var n=x.error,h=n.messageCode;n=n.code;return h&&g.errors[h]&&(x.error.message=g.errors[h]),n&&g.errors[n]&&(x.error.message=g.errors[n]),
(500===h||500===n&&z)&&(x.error.details=z,x.error.message=g.errors[500]+" "+(null==z?void 0:z.join(", "))),x}).filter(function(x){return!x.success})}m.d(t,"a",function(){return f});var g=m(39),l=m(99)},38:function(y,t,m){m.d(t,"b",function(){return f});m.d(t,"d",function(){return l});m.d(t,"c",function(){return u});m.d(t,"a",function(){return q});m.d(t,"f",function(){return n});var f,g,l,u,q,z=m(0),x=m(25);!function(h){h.openData="openData";h.updateGroups="updateGroups";h.distributed="distributed";
h.administrative="administrative";h.orgSettings="orgSettings"}(f||(f={}));(g||(g={})).owner="owner";(function(h){h.itemOwner="itemOwner";h.inOrg="inOrg";h.outsideOrg="outsideOrg"})(l||(l={}));(function(h){h.myOrg="org";h.partnered="collaboration";h.anyOrg="anyOrg"})(u||(u={}));(function(h){h.USER="USER";h.OWNER="OWNER";h.DESIGNATION="DESIGNATION";h.DATE_CREATED="DATE_CREATED";h.MEMBERSHIP="MEMBERSHIP"})(q||(q={}));var n={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};t.e=function(h,
e){switch(void 0===h&&(h=n),e.type){case x.a.CLEAR_FILTERS:switch(e.payload){case q.DESIGNATION:return Object(z.a)(Object(z.a)({},h),{designationFilter:void 0});case q.DATE_CREATED:return Object(z.a)(Object(z.a)({},h),{dateCreatedFilter:void 0});case q.OWNER:return Object(z.a)(Object(z.a)({},h),{ownerFilter:void 0});case q.USER:return h;case q.MEMBERSHIP:return Object(z.a)(Object(z.a)({},h),{membershipFilter:void 0});default:return Object(z.a)(Object(z.a)({},h),{designationFilter:void 0,dateCreatedFilter:void 0,
membershipFilter:void 0,ownerFilter:void 0})}case x.a.UPDATE_OWNER_FILTER:return Object(z.a)(Object(z.a)({},h),{ownerFilter:e.payload===h.ownerFilter?void 0:e.payload});case x.a.UPDATE_USERNAME_FILTER:return Object(z.a)(Object(z.a)({},h),{currentUsername:e.payload});case x.a.UPDATE_CREATED_ON_FILTER:return Object(z.a)(Object(z.a)({},h),{dateCreatedFilter:e.payload.created});case x.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(z.a)(Object(z.a)({},h),{designationFilter:e.payload===h.designationFilter?
void 0:e.payload});case x.a.UPDATE_MEMBERSHIP_FILTER:return Object(z.a)(Object(z.a)({},h),{membershipFilter:e.payload===h.membershipFilter?void 0:e.payload});case x.a.SET_USERS:return Object(z.a)(Object(z.a)({},h),{allUsers:e.payload.reduce(function(d,a){var b;return Object(z.a)(Object(z.a)({},d),((b={})[a.username]=a,b))},{})});case x.a.SET_SEARCH_STRING:return Object(z.a)(Object(z.a)({},h),{searchString:e.payload});default:return h}}},386:function(y,t,m){(function(f,g){function l(qa,oa,xa){switch(xa.length){case 0:return qa.call(oa);
case 1:return qa.call(oa,xa[0]);case 2:return qa.call(oa,xa[0],xa[1]);case 3:return qa.call(oa,xa[0],xa[1],xa[2])}return qa.apply(oa,xa)}function u(qa){var oa=-1,xa=null==qa?0:qa.length;for(this.clear();++oa<xa;){var ra=qa[oa];this.set(ra[0],ra[1])}}function q(qa){var oa=-1,xa=null==qa?0:qa.length;for(this.clear();++oa<xa;){var ra=qa[oa];this.set(ra[0],ra[1])}}function z(qa){var oa=-1,xa=null==qa?0:qa.length;for(this.clear();++oa<xa;){var ra=qa[oa];this.set(ra[0],ra[1])}}function x(qa){this.size=
(this.__data__=new q(qa)).size}function n(qa,oa,xa){(void 0===xa||A(qa[oa],xa))&&(void 0!==xa||oa in qa)||e(qa,oa,xa)}function h(qa,oa){for(var xa=qa.length;xa--;)if(A(qa[xa][0],oa))return xa;return-1}function e(qa,oa,xa){"__proto__"==oa&&da?da(qa,oa,{configurable:!0,enumerable:!0,value:xa,writable:!0}):qa[oa]=xa}function d(qa){if(null==qa)qa=void 0===qa?"[object Undefined]":"[object Null]";else if(Y&&Y in Object(qa)){var oa=ja.call(qa,Y),xa=qa[Y];try{qa[Y]=void 0;var ra=!0}catch(pa){}var fa=O.call(qa);
ra&&(oa?qa[Y]=xa:delete qa[Y]);qa=fa}else qa=O.call(qa);return qa}function a(qa){return G(qa)&&"[object Arguments]"==d(qa)}function b(qa){return!(!D(qa)||S&&S in qa)&&(F(qa)?ba:R).test(function(oa){if(null!=oa){try{return U.call(oa)}catch(xa){}return oa+""}return""}(qa))}function c(qa,oa,xa,ra,fa){qa!==oa&&ya(oa,function(pa,ua){if(fa||(fa=new x),D(pa))!function(Da,Ca,Ia,La,Ga,Ma,Ha){var Ka=C(Da,Ia),Na=C(Ca,Ia),Qa=Ha.get(Na);if(Qa)return void n(Da,Ia,Qa);Ca=Ma?Ma(Ka,Na,Ia+"",Da,Ca,Ha):void 0;if(Qa=
void 0===Ca){var Pa=Oa(Na),Ra=!Pa&&Ja(Na),Sa=!Pa&&!Ra&&va(Na);Ca=Na;Pa||Ra||Sa?Oa(Ka)?Ca=Ka:G(ab=Ka)&&E(ab)?Ca=function(Wa,db){var cb=-1,Za=Wa.length;for(db||(db=Array(Za));++cb<Za;)db[cb]=Wa[cb];return db}(Ka):Ra?(Qa=!1,Ca=function(Wa,db){if(db)return Wa.slice();var cb=Wa.length;cb=aa?aa(cb):new Wa.constructor(cb);return Wa.copy(cb),cb}(Na,!0)):Sa?(Qa=!1,Va=Na,Ua=(Ta=Va.buffer,Xa=new Ta.constructor(Ta.byteLength),(new W(Xa)).set(new W(Ta)),Xa),Ca=new Va.constructor(Ua,Va.byteOffset,Va.length)):Ca=
[]:function(Wa){if(!G(Wa)||"[object Object]"!=d(Wa))return!1;Wa=P(Wa);if(null===Wa)return!0;Wa=ja.call(Wa,"constructor")&&Wa.constructor;return"function"==typeof Wa&&Wa instanceof Wa&&U.call(Wa)==I}(Na)||Ba(Na)?(Ca=Ka,Ba(Ka)?Ca=function(Wa){var db=H(Wa),cb=void 0,Za=!cb;cb||(cb={});for(var $a=-1,Ya=db.length;++$a<Ya;){var bb=db[$a],eb=void 0;void 0===eb&&(eb=Wa[bb]);if(Za)e(cb,bb,eb);else{var fb=cb,gb=fb[bb];ja.call(fb,bb)&&A(gb,eb)&&(void 0!==eb||bb in fb)||e(fb,bb,eb)}}return cb}(Ka):D(Ka)&&!F(Ka)||
(Ca=function(Wa){return"function"!=typeof Wa.constructor||B(Wa)?{}:wa(P(Wa))}(Na))):Qa=!1}var Va,Ua,Ta,Xa,ab;Qa&&(Ha.set(Na,Ca),Ga(Ca,Na,La,Ma,Ha),Ha["delete"](Na));n(Da,Ia,Ca)}(qa,oa,ua,xa,c,ra,fa);else{var Ea=ra?ra(C(qa,ua),pa,ua+"",qa,oa,fa):void 0;void 0===Ea&&(Ea=pa);n(qa,ua,Ea)}},H)}function k(qa,oa){var xa,ra=qa.__data__;return("string"==(xa=typeof oa)||"number"==xa||"symbol"==xa||"boolean"==xa?"__proto__"!==oa:null===oa)?ra["string"==typeof oa?"string":"hash"]:ra.map}function r(qa,oa){var xa=
null==qa?void 0:qa[oa];return b(xa)?xa:void 0}function v(qa,oa){var xa=typeof qa;return!!(oa=null==oa?9007199254740991:oa)&&("number"==xa||"symbol"!=xa&&N.test(qa))&&-1<qa&&0==qa%1&&qa<oa}function B(qa){var oa=qa&&qa.constructor;return qa===("function"==typeof oa&&oa.prototype||ia)}function C(qa,oa){if(("constructor"!==oa||"function"!=typeof qa[oa])&&"__proto__"!=oa)return qa[oa]}function A(qa,oa){return qa===oa||qa!=qa&&oa!=oa}function E(qa){return null!=qa&&w(qa.length)&&!F(qa)}function F(qa){if(!D(qa))return!1;
qa=d(qa);return"[object Function]"==qa||"[object GeneratorFunction]"==qa||"[object AsyncFunction]"==qa||"[object Proxy]"==qa}function w(qa){return"number"==typeof qa&&-1<qa&&0==qa%1&&9007199254740991>=qa}function D(qa){var oa=typeof qa;return null!=qa&&("object"==oa||"function"==oa)}function G(qa){return null!=qa&&"object"==typeof qa}function H(qa){if(E(qa)){var oa=Oa(qa),xa=!oa&&Ba(qa),ra=!oa&&!xa&&Ja(qa),fa=!oa&&!xa&&!ra&&va(qa);if(oa=oa||xa||ra||fa){xa=qa.length;for(var pa=String,ua=-1,Ea=Array(xa);++ua<
xa;)Ea[ua]=pa(ua);xa=Ea}else xa=[];pa=xa.length;for(var Da in qa)oa&&("length"==Da||ra&&("offset"==Da||"parent"==Da)||fa&&("buffer"==Da||"byteLength"==Da||"byteOffset"==Da)||v(Da,pa))||xa.push(Da);qa=xa}else if(D(qa)){Da=B(qa);fa=[];for(ra in qa)("constructor"!=ra||!Da&&ja.call(qa,ra))&&fa.push(ra);qa=fa}else{Da=[];if(null!=qa)for(fa in Object(qa))Da.push(fa);qa=Da}return qa}function M(qa){return qa}var R=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,K={};K["[object Float32Array]"]=K["[object Float64Array]"]=
K["[object Int8Array]"]=K["[object Int16Array]"]=K["[object Int32Array]"]=K["[object Uint8Array]"]=K["[object Uint8ClampedArray]"]=K["[object Uint16Array]"]=K["[object Uint32Array]"]=!0;K["[object Arguments]"]=K["[object Array]"]=K["[object ArrayBuffer]"]=K["[object Boolean]"]=K["[object DataView]"]=K["[object Date]"]=K["[object Error]"]=K["[object Function]"]=K["[object Map]"]=K["[object Number]"]=K["[object Object]"]=K["[object RegExp]"]=K["[object Set]"]=K["[object String]"]=K["[object WeakMap]"]=
!1;var V="object"==typeof f&&f&&f.Object===Object&&f,Z="object"==typeof self&&self&&self.Object===Object&&self;Z=V||Z||Function("return this")();var ca=t&&!t.nodeType&&t,ea=ca&&"object"==typeof g&&g&&!g.nodeType&&g;V=(ca=ea&&ea.exports===ca)&&V.process;a:{try{var ka=ea&&ea.require&&ea.require("util").types||V&&V.binding&&V.binding("util");break a}catch(qa){}ka=void 0}ka=ka&&ka.isTypedArray;var la,ta,za;V=Array.prototype;var ia=Object.prototype;ea=Z["__core-js_shared__"];var U=Function.prototype.toString,
ja=ia.hasOwnProperty,S=(la=/[^.]+$/.exec(ea&&ea.keys&&ea.keys.IE_PROTO||""))?"Symbol(src)_1."+la:"",O=ia.toString,I=U.call(Object),ba=RegExp("^"+U.call(ja).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");la=ca?Z.Buffer:void 0;ca=Z.Symbol;var W=Z.Uint8Array,aa=la?la.allocUnsafe:void 0,P=(ta=Object.getPrototypeOf,za=Object,function(qa){return ta(za(qa))}),L=Object.create,Q=ia.propertyIsEnumerable,X=V.splice,Y=ca?ca.toStringTag:
void 0,da=function(){try{var qa=r(Object,"defineProperty");return qa({},"",{}),qa}catch(oa){}}();la=la?la.isBuffer:void 0;var ha=Math.max,ma=Date.now,na=r(Z,"Map"),sa=r(Object,"create"),wa=function(){function qa(){}return function(oa){if(!D(oa))return{};if(L)return L(oa);qa.prototype=oa;oa=new qa;return qa.prototype=void 0,oa}}();u.prototype.clear=function(){this.__data__=sa?sa(null):{};this.size=0};u.prototype["delete"]=function(qa){qa=this.has(qa)&&delete this.__data__[qa];return this.size-=qa?
1:0,qa};u.prototype.get=function(qa){var oa=this.__data__;return sa?(qa=oa[qa],"__lodash_hash_undefined__"===qa?void 0:qa):ja.call(oa,qa)?oa[qa]:void 0};u.prototype.has=function(qa){var oa=this.__data__;return sa?void 0!==oa[qa]:ja.call(oa,qa)};u.prototype.set=function(qa,oa){var xa=this.__data__;return this.size+=this.has(qa)?0:1,xa[qa]=sa&&void 0===oa?"__lodash_hash_undefined__":oa,this};q.prototype.clear=function(){this.__data__=[];this.size=0};q.prototype["delete"]=function(qa){var oa=this.__data__;
qa=h(oa,qa);return!(0>qa)&&(qa==oa.length-1?oa.pop():X.call(oa,qa,1),--this.size,!0)};q.prototype.get=function(qa){var oa=this.__data__;qa=h(oa,qa);return 0>qa?void 0:oa[qa][1]};q.prototype.has=function(qa){return-1<h(this.__data__,qa)};q.prototype.set=function(qa,oa){var xa=this.__data__,ra=h(xa,qa);return 0>ra?(++this.size,xa.push([qa,oa])):xa[ra][1]=oa,this};z.prototype.clear=function(){this.size=0;this.__data__={hash:new u,map:new (na||q),string:new u}};z.prototype["delete"]=function(qa){qa=k(this,
qa)["delete"](qa);return this.size-=qa?1:0,qa};z.prototype.get=function(qa){return k(this,qa).get(qa)};z.prototype.has=function(qa){return k(this,qa).has(qa)};z.prototype.set=function(qa,oa){var xa=k(this,qa),ra=xa.size;return xa.set(qa,oa),this.size+=xa.size==ra?0:1,this};x.prototype.clear=function(){this.__data__=new q;this.size=0};x.prototype["delete"]=function(qa){var oa=this.__data__;qa=oa["delete"](qa);return this.size=oa.size,qa};x.prototype.get=function(qa){return this.__data__.get(qa)};x.prototype.has=
function(qa){return this.__data__.has(qa)};x.prototype.set=function(qa,oa){var xa=this.__data__;if(xa instanceof q){var ra=xa.__data__;if(!na||199>ra.length)return ra.push([qa,oa]),this.size=++xa.size,this;xa=this.__data__=new z(ra)}return xa.set(qa,oa),this.size=xa.size,this};var ya=function(qa,oa,xa){var ra=-1,fa=Object(qa);xa=xa(qa);for(var pa=xa.length;pa--;){var ua=xa[++ra];if(!1===oa(fa[ua],ua,fa))break}return qa},Aa=function(qa){var oa=0,xa=0;return function(){var ra=ma(),fa=16-(ra-xa);if(xa=
ra,0<fa){if(800<=++oa)return arguments[0]}else oa=0;return qa.apply(void 0,arguments)}}(da?function(qa,oa){return da(qa,"toString",{configurable:!0,enumerable:!1,value:(xa=oa,function(){return xa}),writable:!0});var xa}:M),Ba=a(function(){return arguments}())?a:function(qa){return G(qa)&&ja.call(qa,"callee")&&!Q.call(qa,"callee")},Oa=Array.isArray,Ja=la||function(){return!1},va=ka?function(qa){return function(oa){return qa(oa)}}(ka):function(qa){return G(qa)&&w(qa.length)&&!!K[d(qa)]},Fa;Z=(Fa=function(qa,
oa,xa,ra){c(qa,oa,xa,ra)},function(qa,oa){return Aa(function(xa,ra,fa){return ra=ha(void 0===ra?xa.length-1:ra,0),function(){for(var pa=arguments,ua=-1,Ea=ha(pa.length-ra,0),Da=Array(Ea);++ua<Ea;)Da[ua]=pa[ra+ua];ua=-1;for(Ea=Array(ra+1);++ua<ra;)Ea[ua]=pa[ua];return Ea[ra]=fa(Da),l(xa,this,Ea)}}(qa,oa,M),qa+"")}(function(qa,oa){var xa=-1,ra=oa.length,fa=1<ra?oa[ra-1]:void 0,pa=2<ra?oa[2]:void 0;fa=3<Fa.length&&"function"==typeof fa?(ra--,fa):void 0;var ua;if(ua=pa){ua=oa[0];var Ea=oa[1];if(D(pa)){var Da=
typeof Ea;ua=!!("number"==Da?E(pa)&&v(Ea,pa.length):"string"==Da&&Ea in pa)&&A(pa[Ea],ua)}else ua=!1}ua&&(fa=3>ra?void 0:fa,ra=1);for(qa=Object(qa);++xa<ra;)(pa=oa[xa])&&Fa(qa,pa,xa,fa);return qa}));g.exports=Z}).call(this,m(170),m(366)(y))},39:function(y,t){y.exports=J},5:function(y,t,m){function f(h){return 0===Object.keys(h).length&&h.constructor===Object}function g(h){return null!=h}function l(h,e){return x.apply(null,arguments)}function u(h,e){return n.apply(null,arguments)}m.d(t,"b",function(){return f});
m.d(t,"a",function(){return g});m.d(t,"e",function(){return z});m.d(t,"c",function(){return l});m.d(t,"d",function(){return u});var q=m(0);y=m(15);var z=Object(y.a)(function(h,e){var d=Object(q.a)({},e);return delete d[h],d}),x=Object(y.a)(function(h,e){return Object.keys(e).reduce(function(d,a){return d[a]=h(e[a],a,e),d},{})}),n=Object(y.a)(function(h,e){return Object.keys(e).reduce(function(d,a){return h(e[a],a,e)&&(d[a]=e[a]),d},{})})},51:function(y,t,m){function f(A){return!(!A.urlKey||!A.customBaseUrl)}
function g(A){return A.role===a.admin||A.role===a.accountAdmin}function l(A){return Object(k.a)(A.roleId)&&0<(A.roleId||"").length}function u(A){return!l(A)||l(A)&&-1<(A.privileges||[]).indexOf("portal:admin:viewItems")}function q(A){return-1<(A.privileges||[]).indexOf("portal:user:shareToOrg")}function z(A){return-1<(A.privileges||[]).indexOf("portal:user:shareToGroup")}function x(A){return-1<(A.privileges||[]).indexOf("portal:user:shareToPublic")}function n(A,E){return h(A)||e(A)||E.canSharePublic&&
d(A)}function h(A){return-1<(A.privileges||[]).indexOf("portal:admin:shareToGroup")}function e(A){return-1<(A.privileges||[]).indexOf("portal:admin:shareToOrg")}function d(A){return-1<(A.privileges||[]).indexOf("portal:admin:shareToPublic")}m.d(t,"l",function(){return v});m.d(t,"h",function(){return B});m.d(t,"m",function(){return C});m.d(t,"k",function(){return f});m.d(t,"i",function(){return g});m.d(t,"j",function(){return l});m.d(t,"g",function(){return u});m.d(t,"b",function(){return q});m.d(t,
"a",function(){return z});m.d(t,"c",function(){return x});m.d(t,"d",function(){return h});m.d(t,"e",function(){return e});m.d(t,"f",function(){return d});var a,b=m(63),c=m(148),k=m(5),r=m(58);!function(A){A.user="org_user";A.accountUser="account_user";A.publisher="org_publisher";A.accountPublisher="account_publisher";A.admin="org_admin";A.accountAdmin="account_admin";A.viewer="iAAAAAAAAAAAAAAA";A.dataEditor="iBBBBBBBBBBBBBBB"}(a||(a={}));var v=function(A){var E=A.items;return!!A.user.orgId&&E.every(function(F){return F.isOrgItem})},
B=function(A){var E=A.items,F=A.user,w=A.portal;A=E[0];var D=Object(r.c)(A,F),G=l(F),H=n(F,w);if(G=Object(r.a)(A,F)&&-1<(F.privileges||[]).indexOf("portal:admin:updateItems")&&!G)G=!f(w)||z(F)||q(F)||w.canSharePublic&&x(F)||n(F,w);w=G;return!(A.portal.isPortal&&A.owner!==F.username&&-1<A.owner.indexOf("esri_"))&&(D||w||v({items:E,user:F})&&H)},C=function(A,E){return Object(b.a)(Object(c.a)(A))(E)}},54:function(y,t,m){m.d(t,"b",function(){return u});m.d(t,"a",function(){return q});m.d(t,"c",function(){return z});
y=m(16);t=m(215);var f=m(208),g=m(137),l=m(210);m=m(207);var u=function(x){return!x.gbState},q={config:m.b,parameters:f.b,groups:g.f,ui:l.b,utils:t.b},z=Object(y.combineReducers)({config:m.a,parameters:f.a,groups:g.b,ui:l.a,utils:t.a})},58:function(y,t,m){function f(x,n){return(null==x?void 0:x.owner)===n.username}function g(x,n){var h;if(!(h=f(x,n)))if(Object(u.a)(x.isAdmin))h=!!x.isAdmin;else{h=x.owner;var e="admin"===x.itemControl;h=!(x.portal.isPortal&&!f(x,n)&&e&&-1<h.indexOf("esri_")&&0>["esri_livingatlas",
"esri_demographics","esri_boundaries"].indexOf(h))&&e}return h}function l(x,n){return g(x,n)||"update"===x.itemControl}m.d(t,"d",function(){return f});m.d(t,"c",function(){return g});m.d(t,"a",function(){return l});m.d(t,"b",function(){return z});var u=m(5),q=m(51),z=function(x){var n=x.user,h=x.items;x=x.portal;return Object(q.l)({items:h,user:n})&&Object(q.h)({items:h,user:n,portal:x})&&Object(q.g)(n)&&h[0].itemOwner||n}},61:function(y,t,m){function f(B){var C=B.groupIds,A=B.shareLevelOptions,E=
B.restUrl,F=B.request,w=B.unshare;return z.Promise.all(B.items.map(function(D,G){return new z.Promise(function(H,M){F(E+"/content/items/"+(D.itemId||D.id)+"/"+(w?"unshare":"share"),{method:"post",query:Object(u.a)({f:"json",groups:C,confirmItemControl:!0},A||{})}).then(H,M)})}))["catch"](function(D){throw D;})}function g(B,C){return new z.Promise(function(A,E){var F,w=null===(F=B.helpMap)||void 0===F?void 0:F.m;w?A(w):C(B.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(D){var G;
A(null===(G=D.data.helpMap)||void 0===G?void 0:G.m)},E)})}m.d(t,"h",function(){return n});m.d(t,"g",function(){return h});m.d(t,"b",function(){return e});m.d(t,"e",function(){return d});m.d(t,"d",function(){return a});m.d(t,"f",function(){return r});m.d(t,"c",function(){return v});m.d(t,"a",function(){return g});var l,u=m(0),q=m(30),z=m(28);y=m(26);var x=m(58),n=function(B){var C=B.items,A=B.groups,E=B.restUrl,F=B.request,w=B.portalUser;if(0===C.length)return z.Promise.resolve();var D=Object(q.b)(A);
return C.every(function(G){return Object(x.d)(G,w)})?new z.Promise(function(G,H){if(!A||0===A.length)return G();var M={f:"json",items:Object(q.b)(C),groups:D};F(E+"/content/users/"+w.username+"/unshareItems",{method:"post",query:M}).then(G,H)}):f({items:C,groupIds:D,restUrl:E,request:F,unshare:!0})},h=function(B){var C=B.items,A=B.groups,E=B.restUrl,F=B.request,w=B.portalUser,D=B.selectedOptions;B=B.ignoreShareLevel;if(0===C.length)return z.Promise.resolve();if(!B&&!D)throw"Selected options must be provided unless share level is ignored.";
var G=Object(q.b)(A),H=B?{}:b(D);return C.every(function(M){return Object(x.d)(M,w)})?new z.Promise(function(M,R){F(E+"/content/users/"+w.username+"/shareItems",{method:"post",query:Object(u.a)({f:"json",items:Object(q.b)(C),groups:G,confirmItemControl:!0},H)}).then(function(N){N=N.data;N.results.every(function(K){return K.success})?M():R(N)},R)}):f({items:C,groupIds:G,shareLevelOptions:H,restUrl:E,request:F})},e=function(B){return B.reduce(function(C,A){return Object(u.g)(Object(u.g)([],C),A)},[])},
d=function(B){return 1<Object.keys(B).filter(function(C){return"total"!==C&&0<B[C]}).length},a=function(B){return Object.keys(B).filter(function(C){return"total"!==C}).reduce(function(C,A){return B[A]===B.total?A:C})},b=function(B){return d(B)?{}:c[a(B)]},c=((l={})[y.b["public"]]={org:!1,everyone:!0},l[y.b.org]={org:!0,everyone:!1},l[y.b["private"]]={org:!1,everyone:!1},l[y.b.shared]={org:!1,everyone:!1},l),k="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),
r=function(B){var C,A,E=B.typeKeywords,F=B.type;F=k.some(function(D){return-1<E.indexOf(D)})&&"Real Time Analytic"!==F&&"Big Data Analytic"!==F;var w=!(null===(C=null==B?void 0:B.portal)||void 0===C?0:C.isPortal)&&"Image Service"===B.type&&-1<(null===(A=B.url)||void 0===A?void 0:A.indexOf("://iservices"))&&-1<B.url.indexOf("arcgis.com");B="Knowledge Graph"===B.type;return F||w||B},v=function(B,C,A){return A&&C["public"]===C.total?B.filter(function(E){return-1<E.typeKeywords.indexOf("DeveloperBasemap")}):
[]}},63:function(y,t,m){function f(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];return function(u){return g.reduceRight(function(q,z){return z(q)},u)}}m.d(t,"a",function(){return f})},68:function(y,t,m){var f;m.d(t,"a",function(){return f});(function(g){g.LOADING_GROUPS="LOADING_GROUPS";g.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";g.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";g.SELECT_GROUPS="SELECT_GROUPS";g.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";g.DESELECT_GROUPS="DESELECT_GROUPS";g.REVERT_GROUPS=
"REVERT_GROUPS";g.CLEAR_SELECTION="CLEAR_SELECTION";g.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";g.SET_HAS_GROUPS="SET_HAS_GROUPS"})(f||(f={}))},78:function(y,t,m){m.d(t,"a",function(){return x});m.d(t,"b",function(){return n});var f=m(63);y=m(5);var g=m(123),l=m(122),u=m(117),q=m(121),z=m(120),x=function(h,e,d){return Object(f.a)(Object(z.a)(h),Object(q.a)(h),Object(u.a)(e),Object(l.a)(h),Object(g.a)(h))(d)},n=Object(f.a)(Object(y.e)("patchedDescription"),Object(y.e)("thumbURI"),Object(y.e)("iconURI"),
Object(y.e)("displayName"),Object(y.e)("badges"))},83:function(y,t,m){var f;m.d(t,"a",function(){return f});(function(g){g.SET_SEARCH_STRING="SET_SEARCH_STRING";g.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";g.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";g.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";g.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";g.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";g.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";g.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";
g.SET_USERS="SET_USERS";g.CLEAR_FILTERS="CLEAR_FILTERS"})(f||(f={}))},985:function(y,t,m){m.r(t);m.d(t,"ShareWrapper",function(){return e});var f=m(0),g=m(354),l=m.n(g),u=m(16),q=m(30);y=m(386);var z=m.n(y);y=m(336);var x=m.n(y),n=m(139),h=m(61);m.d(t,"unshareItems",function(){return h.h});m.d(t,"shareItems",function(){return h.g});m.d(t,"getShimmedRequest",function(){return q.u});m.d(t,"initialState",function(){return g.initialState});var e=function(){function d(a,b){this.options=b;this.listener=
this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.id="share-wrapper";a.appendChild(this.renderContainer);var c=x()(g.initialState),k=x()(b.initialState);c=z()(c,k,function(C,A){if(Array.isArray(C)&&A)return A});k=b.initialState&&b.initialState.resources&&b.initialState.resources.items;var r=4===b.apiVersion?b.request:Object(q.u)(b.request),v=4===b.apiVersion?b.portal:Object(f.a)(Object(f.a)({},b.portal),{restUrl:b.portal.portalUrl.slice(0,-1),credential:b.portal.user&&
b.portal.user.credential?b.portal.user.credential:void 0}),B=4===b.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons");this.initialState=Object(f.a)(Object(f.a)({},c),{resources:Object(f.a)(Object(f.a)({},c.resources),{portalUser:b.portalUser,items:k}),utilities:Object(f.a)(Object(f.a)({},c.utilities),{request:r,portal:v,iconDir:B}),gbState:Object(f.a)(Object(f.a)({},c.gbState),{utils:Object(f.a)(Object(f.a)({},c.gbState.utils),{request:r,
portal:v,portalUser:b.portalUser}),config:Object(f.a)(Object(f.a)({},c.gbState.config),{groupsPerPage:c.config.groupsPerPage,withinShare:!0,enableFiltering:!0,hasTrustedOrgs:c.config.hasTrustedOrgs})})});this.store=Object(u.applyMiddleware)(u.thunk,Object(u.addListener)(this.listener))(u.createStore)(g.reducers,this.initialState);this.dispatch(Object(n.g)());this.projector=Object(u.createProjector)(this.store,function(C){return C(l.a,{key:"share"})},this.renderContainer)}return d.prototype.remove=
function(){document&&document.documentElement&&document.documentElement.classList.remove("overflow-hidden");this.renderContainer&&this.renderContainer.parentElement&&this.renderContainer.parentElement.removeChild(this.renderContainer)},d.prototype.dispatch=function(a){this.store&&this.store.dispatch(a)},d.prototype.getState=function(){return this.store?this.store.getState():this.initialState},d.prototype.listener=function(a,b){this.options.listener&&this.options.listener(a,b)},d}()},99:function(y,
t,m){function f(x,n){if(null==x?0:x.length)for(var h=void 0,e=0;e<x.length;e++)if(n(h=x[e]))return h}function g(x){return x.filter(function(n){return 0<n.length})}function l(x,n,h){var e=[];return n.forEach(function(d){(h?d[h].toLowerCase()===x.toLowerCase():d.toLowerCase()===x.toLowerCase())?e.unshift(d):e.push(d)}),e}m.d(t,"e",function(){return u});m.d(t,"f",function(){return q});m.d(t,"c",function(){return f});m.d(t,"b",function(){return g});m.d(t,"a",function(){return z});m.d(t,"d",function(){return l});
y=m(15);var u=function(x,n,h){return h.indexOf(x)===n},q=Object(y.a)(function(x,n){var h={};return n.filter(function(e){return!h[e[x]]&&(h[e[x]]=!0,!0)})}),z=function(x,n){return x.length===n.length&&x.reduce(function(h,e){return h&&-1<n.indexOf(e)},!0)}}})})},"arcgis-components/Share/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/i18n!../Share/nls/resources ../Loaders/LoaderBars ../GroupBrowser/index ../Modals/Overlay".split(" "),function(T,J,p,y,t,m){return function(f){function g(u){if(l[u])return l[u].exports;
var q=l[u]={i:u,l:!1,exports:{}};return f[u].call(q.exports,q,q.exports,g),q.l=!0,q.exports}var l={};return g.m=f,g.c=l,g.d=function(u,q,z){g.o(u,q)||Object.defineProperty(u,q,{enumerable:!0,get:z})},g.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},g.t=function(u,q){if((1&q&&(u=g(u)),8&q)||4&q&&"object"==typeof u&&u&&u.__esModule)return u;var z=Object.create(null);if(g.r(z),
Object.defineProperty(z,"default",{enumerable:!0,value:u}),2&q&&"string"!=typeof u)for(var x in u)g.d(z,x,function(n){return u[n]}.bind(null,x));return z},g.n=function(u){var q=u&&u.__esModule?function(){return u["default"]}:function(){return u};return g.d(q,"a",q),q},g.o=function(u,q){return Object.prototype.hasOwnProperty.call(u,q)},g.p="",g(g.s=877)}({0:function(f,g,l){function u(a,b){function c(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+
" is not a constructor or null");e(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function q(a,b){var c={},k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(c[k]=a[k]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(k=Object.getOwnPropertySymbols(a);r<k.length;r++)0>b.indexOf(k[r])&&Object.prototype.propertyIsEnumerable.call(a,k[r])&&(c[k[r]]=a[k[r]])}return c}function z(a,b,c,k){var r,v=arguments.length,B=3>v?b:null===k?
k=Object.getOwnPropertyDescriptor(b,c):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(a,b,c,k);else for(var C=a.length-1;0<=C;C--)(r=a[C])&&(B=(3>v?r(B):3<v?r(b,c,B):r(b,c))||B);return 3<v&&B&&Object.defineProperty(b,c,B),B}function x(a,b,c,k){return new (c||(c=Promise))(function(r,v){function B(E){try{A(k.next(E))}catch(F){v(F)}}function C(E){try{A(k["throw"](E))}catch(F){v(F)}}function A(E){var F;E.done?r(E.value):(F=E.value,F instanceof c?F:new c(function(w){w(F)})).then(B,
C)}A((k=k.apply(a,b||[])).next())})}function n(a,b){function c(A){return function(E){return function(F){if(k)throw new TypeError("Generator is already executing.");for(;C;)try{if(k=1,r&&(v=2&F[0]?r["return"]:F[0]?r["throw"]||((v=r["return"])&&v.call(r),0):r.next)&&!(v=v.call(r,F[1])).done)return v;switch(r=0,v&&(F=[2&F[0],v.value]),F[0]){case 0:case 1:v=F;break;case 4:return C.label++,{value:F[1],done:!1};case 5:C.label++;r=F[1];F=[0];continue;case 7:F=C.ops.pop();C.trys.pop();continue;default:if(!(v=
C.trys,(v=0<v.length&&v[v.length-1])||6!==F[0]&&2!==F[0])){C=0;continue}if(3===F[0]&&(!v||F[1]>v[0]&&F[1]<v[3]))C.label=F[1];else if(6===F[0]&&C.label<v[1])C.label=v[1],v=F;else if(v&&C.label<v[2])C.label=v[2],C.ops.push(F);else{v[2]&&C.ops.pop();C.trys.pop();continue}}F=b.call(a,C)}catch(w){F=[6,w],r=0}finally{k=v=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([A,E])}}var k,r,v,B,C={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return B={next:c(0),"throw":c(1),
"return":c(2)},"function"==typeof Symbol&&(B[Symbol.iterator]=function(){return this}),B}function h(a,b){for(var c=0,k=b.length,r=a.length;c<k;c++,r++)a[r]=b[c];return a}l.d(g,"d",function(){return u});l.d(g,"a",function(){return d});l.d(g,"f",function(){return q});l.d(g,"c",function(){return z});l.d(g,"b",function(){return x});l.d(g,"e",function(){return n});l.d(g,"g",function(){return h});var e=function(a,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,k){c.__proto__=
k}||function(c,k){for(var r in k)Object.prototype.hasOwnProperty.call(k,r)&&(c[r]=k[r])})(a,b)},d=function(){return(d=Object.assign||function(a){for(var b,c=1,k=arguments.length;c<k;c++)for(var r in b=arguments[c])Object.prototype.hasOwnProperty.call(b,r)&&(a[r]=b[r]);return a}).apply(this,arguments)};Object.create;Object.create},101:function(f,g,l){l.d(g,"a",function(){return q});l.d(g,"b",function(){return z});var u=l(0),q=function(x){return x?x.urlKey?location.protocol+"//"+x.urlKey+"."+x.customBaseUrl:
location.protocol+"//"+x.portalHostname:""},z=function(x){return Object(u.a)(Object(u.a)({},x),{baseUrl:q(x)})}},117:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x){var n=Object(u.a),h=Object(u.a)({},x),e=x.type,d=x.typeKeywords?x.typeKeywords:[],a=null==e?void 0:e.toLowerCase(),b=!1,c=!1,k=e=!1;if("ogcfeatureserver"===a)d="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||
"wfs"===a){var r=-1<d.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(k=-1<d.indexOf("Table"),b=-1<d.indexOf("Route Layer"),c=-1<d.indexOf("Markup"),d=(e=-1!==d.indexOf("Spatiotemporal"))&&k?"spatiotemporaltable":k?"table":b?"routelayer":c?"markup":e?"spatiotemporal":r?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?d=r||-1<d.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?d=-1<d.indexOf("Line")?"sceneweblayerline":
-1<d.indexOf("3DObject")?"sceneweblayermultipatch":-1<d.indexOf("Point")?"sceneweblayerpoint":-1<d.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<d.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<d.indexOf("Polygon")?"sceneweblayerpolygon":-1<d.indexOf("Building")?"sceneweblayerbuilding":-1<d.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(e=-1<d.indexOf("Elevation 3D Layer"),d=-1<d.indexOf("Tiled Imagery"),d=e?"elevationlayer":d?"tiledimagerylayer":"imagery"):d="stream service"===
a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<d.indexOf("Web Tool")?"tool":"layers"}else d="web map"===a||"cityengine web scene"===a?"maps":"web scene"===a?-1<d.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==d?void 0:d.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===
a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<d.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<d.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===
a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===
a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<d.indexOf("Explorer Mapping Application")||-1<d.indexOf("Document")?"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===
a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":
"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===
a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return n(h,{iconURI:z+"/"+d+"16.png"})})},120:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x){var n=Object(u.a),h=Object(u.a)({},x),e,d,a="notebook"!==(null===(e=x.type)||void 0===e?void 0:e.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(d=x.type)||void 0===d?void 0:d.toLowerCase())&&(a="notebook-code-snippet-thumb.png");
d=z.baseUrl+"/home/js/arcgisonline/css/images/"+a;e=(x.thumbnail&&(d=z.restUrl+"/content/items/"+x.id+"/info/"+x.thumbnail+(z.credential?"?token\x3d"+z.credential.token:"")),d);return n(h,{thumbURI:e})})},121:function(f,g,l){l.d(g,"a",function(){return z});var u=l(0);f=l(15);var q=function(x,n){return n.description?n.description.replace(/src=('|")js\/jsapi\/esri\//g,function(h){return"src\x3d"+('"'===h[4]?'"':"'")+x.baseUrl+"/home/js/jsapi/esri/"}):void 0},z=Object(f.a)(function(x,n){return Object(u.a)(Object(u.a)({},
n),{patchedDescription:q(x,n)})})},122:function(f,g,l){l.d(g,"a",function(){return x});var u=l(0),q=l(124);f=l(15);var z=l(58),x=Object(f.a)(function(n,h){var e=Object(u.a),d=Object(u.a)({},h),a,b=h.type,c=h.typeKeywords||[],k=b,r=(null==n?void 0:n.portalUser)||(null==n?void 0:n.user);if("Feature Service"===b||"Feature Collection"===b){if(k=-1<c.indexOf("Table")?"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",r&&Object(z.d)(h,r)&&-1<(null==c?void 0:
c.indexOf("Hosted Service")))c=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",k=k+" ("+(q.a[c]||q.a[c.split("-")[0]]||q.a.en)+")"}else"Image Service"===b?(a=-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),k=a?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?k="Scene Layer":"Scene Package"===b?k="Scene Layer Package":"Stream Service"===b?k="Feature Layer":"Geocoding Service"===b?k="Locator":
"Microsoft Powerpoint"===b?k="Microsoft PowerPoint":"OGCFeatureServer"===b?k="OGC Feature Layer":"GeoJson"===b?k="GeoJSON":"Globe Service"===b?k="Globe Layer":"Vector Tile Service"===b?k="Tile Layer":"netCDF"===b?k="NetCDF":"Map Service"===b?k=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?k=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?k="Big Data File Share":"Web Mapping Application"===
b&&(null==c?0:c.includes("configurableApp"))?k="Instant App":"Data Store"===b&&(c.includes("cloudStore_amazon")||c.includes("cloudStore_azure")?k+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(k+=" (Big Data File Share)"));return e(d,{displayName:k})})},123:function(f,g,l){l.d(g,"a",function(){return z});var u=l(0);f=l(15);var q=function(x,n){var h=[],e=x.typeKeywords?x.typeKeywords:[];return x.contentStatus&&
("org_authoritative"===x.contentStatus||"public_authoritative"===x.contentStatus?h.push("authoritative"):"deprecated"===x.contentStatus&&h.push("deprecated")),x.origin&&h.push("collaboration"),x.groupDesignations&&-1<x.groupDesignations.indexOf("livingatlas")&&h.push("livingAtlas"),-1<e.indexOf("Requires Credits")?h.push("premium"):-1<e.indexOf("Requires Subscription")&&h.push("subscriber"),-1<e.indexOf("Public Data Collection")&&((null==n?void 0:n.portalUser)||(null==n?void 0:n.user))&&h.push("publicDataCollection"),
"Solution"===x.type&&-1<x.typeKeywords.indexOf("ArcGIS Solution")&&h.push("solution"),n.isPortal&&"Web Mapping Application"===x.type&&(-1<x.typeKeywords.indexOf("Story Map")&&h.push("retiredStoryMap"),function(d){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
c=-1<a.indexOf(".html");return-1<(null===(b=d.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(c?"":"/")))})}(x)&&h.push("retiredApp")),h},z=Object(f.a)(function(x,n){return Object(u.a)(Object(u.a)({},n),{badges:q(n,x)})})},124:function(f,g,l){l.d(g,"a",function(){return u});var u={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(f,g,l){l.d(g,"a",function(){return q});l.d(g,"b",function(){return z});var u=l(0);f=l(15);var q=function(x,n){var h;return n.thumbnail&&(h=x.restUrl+"/community/groups/"+n.id+"/info/"+n.thumbnail+(x.credential?"?token\x3d"+x.credential.token:"")),h},z=Object(f.a)(function(x,n){return Object(u.a)(Object(u.a)({},n),{thumbURI:q(x,n)})})},137:function(f,g,l){l.d(g,"a",function(){return u});
l.d(g,"d",function(){return x});l.d(g,"c",function(){return n});l.d(g,"e",function(){return h});l.d(g,"f",function(){return e});var u,q=l(0),z=l(25);!function(d){d.LOADING="loading";d.LOADED="loaded";d.FAILED="failed"}(u||(u={}));var x=function(d){var a=d.selectedGroups,b=d.selectorItems;return 0===b.length?Object.keys(a).map(function(c){return a[c].group}):Object.keys(a).filter(function(c){return h(a[c],b)}).map(function(c){return a[c].group})},n=function(d){var a=d.initialSelectedGroups,b=d.selectedGroups,
c=Object.keys(b).map(function(k){return b[k].group.id});return Object.keys(a).map(function(k){return a[k].group.id}).filter(function(k){return 0>c.indexOf(k)}).map(function(k){return a[k].group})},h=function(d,a){return!d.selectedByIds||d.selectedByIds.length===a.length},e={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:u.LOADING,total:0,hasGroups:!0};g.b=function(d,a){switch(void 0===d&&(d=e),a.type){case z.a.DESELECT_GROUPS:return Object(q.a)(Object(q.a)({},
d),{selectedGroups:a.payload.reduce(function(k,r){var v=r.id;k[v];return Object(q.f)(k,["symbol"==typeof v?v:v+""])},d.selectedGroups)});case z.a.REVERT_GROUPS:return a.payload?Object(q.a)(Object(q.a)({},d),{selectedGroups:a.payload.reduce(function(k,r){var v;if(d.initialSelectedGroups[r.id])return Object(q.a)(Object(q.a)({},k),((v={})[r.id]=d.initialSelectedGroups[r.id],v));v=r.id;k[v];return Object(q.f)(k,["symbol"==typeof v?v:v+""])},d.selectedGroups)}):Object(q.a)(Object(q.a)({},d),{selectedGroups:Object(q.a)({},
d.initialSelectedGroups)});case z.a.SELECT_GROUPS:var b=d.selectorItems.map(function(k){return k.id});return Object(q.a)(Object(q.a)({},d),{selectedGroups:a.payload.reduce(function(k,r){var v;return Object(q.a)(Object(q.a)({},k),((v={})[r.group.id]=Object(q.a)({selectedByIds:b},r),v))},d.selectedGroups)});case z.a.SET_INITIAL_GROUPS:var c=a.payload.reduce(function(k,r){var v;return Object(q.a)(Object(q.a)({},k),((v={})[r.group.id]=r,v))},{});return Object(q.a)(Object(q.a)({},d),{selectedGroups:c,
initialSelectedGroups:Object(q.a)({},c)});case z.a.SET_SELECTOR_ITEMS:return Object(q.a)(Object(q.a)({},d),{selectorItems:a.payload});case z.a.CLEAR_SELECTION:return Object(q.a)(Object(q.a)({},d),{selectedGroups:{}});case z.a.LOADING_GROUPS:return Object(q.a)(Object(q.a)({},d),{status:u.LOADING});case z.a.LOAD_GROUPS_SUCCESS:return Object(q.a)(Object(q.a)({},d),{displayGroups:a.payload.results,total:a.payload.total,status:u.LOADED});case z.a.LOAD_GROUPS_FAIL:return Object(q.a)(Object(q.a)({},d),{displayGroups:[],
status:u.FAILED});case z.a.SET_HAS_GROUPS:return Object(q.a)(Object(q.a)({},d),{hasGroups:a.payload});default:return d}}},139:function(f,g,l){function u(ca,ea){var ka=ea(),la=ka.utilities.request,ta=ka.resources;ka=ta.selectedOptions;var za=ta.selectedOptionsDirty;ta=Object(v.b)(ta.items);ka=za&&ka["public"]===ka.total;ca(G(E.a.LOADING));0<ta.length&&ka?Object(v.a)({items:ta,request:la}).then(function(ia){ia.length?(ia=ia.some(function(U){return-1===U.typeKeywords.indexOf("Public Data Collection")}),
ca(w(ia?E.c.PUBLIC_DATA_COLLECTION_DISABLED:E.c.PUBLIC_DATA_COLLECTION_ENABLED))):ca(q)})["catch"](function(){ca(q)}):ca(q)}function q(ca,ea){var ka=ea(),la=ka.utilities,ta=la.portal,za=la.request,ia=la.onComplete;la=ka.resources;var U=la.items,ja=la.selectedOptions,S=la.portalUser;la=ka.gbState.groups;ka=la.selectedGroups;la=la.initialSelectedGroups;var O=Object(b.d)({selectedGroups:ka,selectorItems:U});ka=Object(b.c)({initialSelectedGroups:la,selectedGroups:ka});var I=[];Object(c.h)({items:U,groups:ka,
portalUser:S,restUrl:ta.restUrl,request:za}).then(function(){return Object(c.g)({items:U,groups:O,portalUser:S,request:za,restUrl:ta.restUrl,selectedOptions:ja})})["catch"](function(ba){ba.results?I=I.concat(Object(B.a)(ba.results,U)):ba.message&&I.push({error:ba})}).then(function(){return ca(M)}).then(function(){var ba=ea().resources,W=ba.items,aa=ba.dependentItems,P=aa.needGroupSharingUpdate,L=aa.notEditable,Q=aa.premium,X=aa.needPubliclyEditableWarning,Y=aa.needEditableWarning,da=aa.needDataCollectionEnabled,
ha=aa.needGroupDependentApplicationWarning,ma=aa.needBDFSDatastoreUpdate,na=ba.selectedOptions,sa=(ba=ba.selectedOptionsDirty)&&na["public"]===na.total;0!==aa.needShareLevelUpdate.length||0!==P.length||0!==L.length||0!==Q.length||0!==X.length||0!==Y.length||0!==da.length||0!==ha.length&&sa||0!==ma.length||0!==Object(c.c)(W,na,ba).length?ca({type:h.SET_CURRENT_VIEW,payload:E.a.DEPENDENT_ITEM_CONFIRMATION}):ia(0<I.length?{errors:I,selectedOptions:na}:{selectedOptions:na})})["catch"](console.error)}
function z(ca){return ca.filter(function(ea){return-1===ea.typeKeywords.indexOf("bigDataFileShare")})}function x(ca,ea){var ka=ea(),la=ka.utilities,ta=la.portal,za=la.request,ia=la.onComplete;la=ka.resources;var U=la.dependentItems,ja=U.needBDFSDatastoreUpdate,S=U.needShareLevelUpdate,O=U.needGroupSharingUpdate,I=U.needEditableWarning,ba=la.selectedOptions;la=la.portalUser;U=ka.gbState.groups;ka=U.selectedGroups;var W=U.selectorItems;if(0!==ja.length||0!==S.length||0!==O.length||0!==I.length){U=Object(c.g)({items:z(ja),
groups:[],portalUser:la,request:za,restUrl:ta.restUrl,selectedOptions:ba});var aa=Object(c.g)({items:Object(e.g)(Object(e.g)([],z(S)),I),groups:[],portalUser:la,request:za,restUrl:ta.restUrl,selectedOptions:ba});ta=Object(c.g)({items:O,groups:Object(b.d)({selectedGroups:ka,selectorItems:W}),portalUser:la,request:za,restUrl:ta.restUrl,selectedOptions:ba,ignoreShareLevel:!0});k.Promise.all([U,aa,ta]).then(function(){var P=Object(e.g)(Object(e.g)(Object(e.g)(Object(e.g)([],ja),S),O),I),L=P.map(function(Q){return Q.id});
P=P.filter(function(Q,X){return L.indexOf(Q.id)===X});ia({dependentItems:P,selectedOptions:ba})})["catch"](function(P){throw P;})}else ia({selectedOptions:ba})}function n(ca,ea){switch(ea().resources.currentMiniDlg){case E.c.OPEN_GROUP_BROWSER:ca(F(E.b["public"]));ca(G(E.a.GROUP_BROWSER));break;case E.c.REVERT_SHARE_LEVEL:ca({type:h.SET_INITIAL_SHARE_LEVEL});ca(Object(a.c)());break;case E.c.REVERT_GROUPS:ca(F(E.b["public"]));ca(Object(a.c)());break;case E.c.EDITABLE_LAYERS:ca(q);break;case E.c.SET_SHARE_TO_PRIVATE:ca(F(E.b["private"]));
ca(Object(a.a)());break;case E.c.PUBLIC_DATA_COLLECTION_DISABLED:ca(G(E.a.SHARE));break;case E.c.PUBLIC_DATA_COLLECTION_ENABLED:ca(q)}ca({type:h.SET_MINI_DIALOG,payload:E.c.NONE})}l.d(g,"a",function(){return h});l.d(g,"k",function(){return w});l.d(g,"g",function(){return D});l.d(g,"j",function(){return G});l.d(g,"d",function(){return u});l.d(g,"i",function(){return x});l.d(g,"h",function(){return n});l.d(g,"c",function(){return N});l.d(g,"b",function(){return K});l.d(g,"e",function(){return V});l.d(g,
"f",function(){return Z});var h,e=l(0),d=l(177),a=l(144),b=l(137),c=l(61),k=l(28),r=l(335),v=l(194),B=l(379),C=l(51),A=l(58),E=l(26);!function(ca){ca.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";ca.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";ca.SET_CURRENT_VIEW="SET_CURRENT_VIEW";ca.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";ca.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";ca.SET_MINI_DIALOG="SET_MINI_DIALOG";ca.SET_SHARE_MODE="SET_SHARE_MODE";ca.SET_USER_TYPE="SET_USER_TYPE";ca.SET_HELP_MAP=
"SET_HELP_MAP"}(h||(h={}));var F=function(ca){return{type:h.SET_SELECTED_SHARE_LEVEL,payload:ca}},w=function(ca){return{type:h.SET_MINI_DIALOG,payload:ca}},D=function(){return function(ca,ea){var ka=ea(),la=ka.utilities,ta=la.portal,za=la.request;la=ka.resources.items;ka=H(ka);var ia=ta.urlKey||ta.isPortal?E.e.ORG:E.e.PUBLIC;ca({type:h.SET_INITIAL_SHARE_LEVEL});ca({type:h.SET_SHARE_MODE,payload:ka});ca({type:h.SET_USER_TYPE,payload:ia});ca(Object(d.a)({selectorItems:la,anySelectorItemsPrivate:0<ea().resources.selectedOptions[E.b["private"]],
shareMode:ka,userType:ia})).then(function(){return Object(c.a)(ta,za)}).then(function(U){ca({type:h.SET_HELP_MAP,payload:U});ca(G(E.a.SHARE))})}},G=function(ca){return function(ea){ea({type:h.SET_CURRENT_VIEW,payload:ca})}},H=function(ca){var ea=ca.resources,ka=ea.items;ea=ea.portalUser;ca=ca.utilities.portal;var la=ka[0];if(Object(A.d)(la,ea))return E.d.DEFAULT;la=!la.orgId||la.orgId===ea.orgId;return Object(C.h)({items:ka,user:ea,portal:ca})&&la?E.d.ADMIN:E.d.GROUP},M=function(ca,ea){var ka=ea(),
la=ka.resources,ta=la.selectedOptions,za=ka.utilities,ia=za.portal,U=za.request,ja=za.iconDir;ka=ka.gbState.groups;var S=ka.selectedGroups,O=ka.selectorItems;la=la.items.map(function(I){return Object(r.b)({item:I,portal:ia,request:U,iconDir:ja})});return k.Promise.all(la).then(function(I){return R({dependentItems:I,selectedGroups:S,selectorItems:O,selectedOptions:ta,request:U,portal:ia})}).then(function(I){ca({type:h.SET_DEPENDENT_ITEMS,payload:I})})},R=function(ca){var ea=ca.dependentItems,ka=ca.selectedGroups,
la=ca.selectorItems,ta=ca.selectedOptions,za=ca.request,ia=ca.portal;return new k.Promise(function(U,ja){var S=Object(c.b)(ea).filter(function(ba){return ba}),O=S.map(function(ba){return ba.id}),I=S.filter(function(ba,W){return O.indexOf(ba.id)===W});k.Promise.all(I.map(function(ba){return Object(r.a)({item:ba,selectedOptions:ta,selectedGroups:Object(b.d)({selectedGroups:ka,selectorItems:la}),request:za,portal:ia})})).then(function(ba){var W=[],aa=[],P=[],L=[],Q=[],X=[],Y=[],da=[],ha=[],ma=!Object(c.e)(ta)&&
Object(c.d)(ta)===E.b["public"];ba.forEach(function(na,sa){var wa=I[sa];if(na.premium)L.push(wa);else if(na.groupDependentApplication)da.push(wa);else{if(!na.bdfsDatastore)return ma&&na.editable&&Object(v.c)(wa)&&wa.isUpdateLayer?wa.access===E.b["public"]?void X.push(wa):-1<wa.typeKeywords.indexOf("Public Data Collection")?void Q.push(wa):void Y.push(wa):void((na.needsShareLevelUpdate||na.needsGroupSharingUpdate)&&(na.editable?(na.needsShareLevelUpdate&&aa.push(wa),na.needsGroupSharingUpdate&&W.push(wa)):
P.push(wa)));ha.push(wa)}});U({needGroupSharingUpdate:W,needShareLevelUpdate:aa,notEditable:P,premium:L,needPubliclyEditableWarning:X,needEditableWarning:Q,needDataCollectionEnabled:Y,needGroupDependentApplicationWarning:da,needBDFSDatastoreUpdate:ha})})["catch"](function(ba){throw ba;})})},N=function(ca,ea){var ka=ea(),la=ka.gbState.groups.initialSelectedGroups,ta=ka.resources.selectedOptions;ka.config.userType===E.e.PUBLIC&&0<ta["private"]&&0<Object.keys(la).length?ca(w(E.c.REVERT_GROUPS)):ca(Object(a.c)())},
K=function(ca,ea){var ka=ea(),la=ka.resources,ta=la.portalUser;la=la.selectedOptions;Object(C.k)(ka.utilities.portal)||Object(C.a)(ta)||!Object(c.e)(la)&&Object(c.d)(la)!==E.b["private"]?ca(G(E.a.GROUP_BROWSER)):ca(w(E.c.OPEN_GROUP_BROWSER))},V=function(ca,ea){var ka=ea(),la=ka.resources,ta=la.portalUser;la=la.items;var za=ka.gbState.groups.selectedGroups;Object(C.k)(ka.utilities.portal)||Object(C.b)(ta)||!Object(v.d)({items:la,groupDatas:Object.keys(za).map(function(ia){return za[ia]})})?ca({type:h.SET_INITIAL_SHARE_LEVEL}):
ca(w(E.c.REVERT_SHARE_LEVEL))},Z=function(ca){return function(ea,ka){var la=ka(),ta=la.resources.portalUser,za=la.gbState.groups.selectedGroups;!Object(C.k)(la.utilities.portal)&&!Object(C.b)(ta)&&ca===E.b["private"]&&0<Object.keys(za).length?ea(w(E.c.SET_SHARE_TO_PRIVATE)):ea(F(ca))}}},144:function(f,g,l){l.d(g,"d",function(){return n});l.d(g,"e",function(){return h});l.d(g,"b",function(){return e});l.d(g,"c",function(){return d});l.d(g,"a",function(){return a});l.d(g,"f",function(){return b});var u=
l(0),q=l(181),z=l(163),x=l(68),n=function(c){return 1<c.length&&Object(z.a)(),{type:x.a.SELECT_GROUPS,payload:c.map(function(k){return{group:Object(q.c)(k)}})}},h=function(c){return{type:x.a.SET_INITIAL_GROUPS,payload:c.map(function(k){return Object(u.a)(Object(u.a)({},k),{group:Object(q.c)(k.group)})})}},e=function(c){return 1<c.length&&Object(z.b)(),{type:x.a.DESELECT_GROUPS,payload:c}},d=function(c){return{type:x.a.REVERT_GROUPS,payload:c}},a=function(){return Object(z.c)(),{type:x.a.CLEAR_SELECTION}},
b=function(c){return{type:x.a.SET_SELECTOR_ITEMS,payload:c}}},148:function(f,g,l){l.d(g,"a",function(){return q});var u=l(0);f=l(15);var q=Object(f.a)(function(z,x){var n=Object(u.a),h=Object(u.a)({},x);var e=x.thumbnail?z.restUrl+"/community/users/"+x.username+"/info/"+x.thumbnail+(z.credential?"?token\x3d"+z.credential.token:""):void 0;return n(h,{thumbURI:e})})},15:function(f,g,l){function u(z){return function n(){for(var h=this,e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];return e.length>=
z.length?z.call.apply(z,Object(q.g)([this],e)):function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return n.call.apply(n,Object(q.g)(Object(q.g)([h],e),a))}}}l.d(g,"a",function(){return u});var q=l(0)},159:function(f,g,l){l.d(g,"b",function(){return c});l.d(g,"a",function(){return r});var u=l(0),q=l(181),z=l(30),x=l(163),n=l(54),h=l(68),e=l(28),d=l(61),a=l(38),b=l(26),c=function(D,G){k(G()).then(function(H){var M=G();M=Object(n.b)(M)?M:M.gbState;var R=M.utils;M.ui.focus.focusSelectAll&&
Object(x.c)();D({type:h.a.LOAD_GROUPS_SUCCESS,payload:Object(u.a)(Object(u.a)({},H),{results:H.results.map(function(N){return Object(q.b)(R.portal,N)})})})})["catch"](function(H){var M=G();(Object(n.b)(M)?M:M.gbState).ui.focus.focusSelectAll&&Object(x.c)();D({type:h.a.LOAD_GROUPS_FAIL,payload:H})})},k=function(D){D=Object(n.b)(D)?D:D.gbState;var G=D.utils,H=G.request,M=G.portal,R=D.config;G=R.groupsPerPage;var N=R.withinShare,K=(R.withinAppConfig,D.parameters);R=K.filter;K=K.sort;var V=D.ui.page.currentPageNumber,
Z={q:w(D),num:G,sortField:K.field,sortOrder:K.order,start:(V-1)*G+1};return N&&(Z.searchUserAccess="groupMember",Z.searchUserName=R.currentUsername),R.designationFilter!==a.b.orgSettings||C(M)?new e.Promise(function(ca,ea){Object(z.g)(H,M,Z).then(ca,ea)}):new e.Promise(function(ca){ca({query:Z.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},r=function(D){var G=D.user;D=D.state;D=Object(n.b)(D)?D:D.gbState;var H=D.utils,M=H.request,R=H.portal;D=Object(u.a)(Object(u.a)({},D),{parameters:Object(u.a)(Object(u.a)({},
D.parameters),{filter:Object(u.a)(Object(u.a)({},D.parameters.filter),{currentUsername:G.username})})});var N={q:w(D),num:100,searchUserAccess:"groupMember",searchUserName:G.username};return(new e.Promise(function(K,V){return Object(z.g)(M,R,N).then(function(Z){if(-1!==Z.nextStart){var ca=Math.ceil(Z.total/100)-1,ea=[Z.results];Z=function(la){ea.push(new e.Promise(function(ta,za){var ia=100*(la+1)+1;Object(z.g)(M,R,Object(u.a)(Object(u.a)({},N),{start:ia})).then(function(U){ta(U.results)},za)}))};
for(var ka=0;ka<ca;ka++)Z(ka);e.Promise.all(ea).then(function(la){K(Object(d.b)(la))})}else K(Z.results)},V)}))["catch"](function(K){throw K;})},v=function(D){var G,H=D.shareMode,M=D.currentUsername,R=D.portalUser;D=D.userGroups;var N=[];switch(D&&D.forEach(function(K){var V,Z=null===(V=K.userMembership)||void 0===V?void 0:V.memberType;!K.isViewOnly||"owner"!==Z&&"admin"!==Z||N.push(K.id)}),N.length&&(G="(isviewonly:false OR "+N.join(" OR ")+")"),H){case b.d.DEFAULT:return G||"(owner:"+M+" OR isviewonly:false)";
case b.d.GROUP:return"owner:"+M+" -capabilities:updateitemcontrol";case b.d.ADMIN:return R.username===M?"(isviewonly:false OR owner:"+R.username+") -capabilities:updateitemcontrol":"(owner:"+M+" OR isviewonly:false)";default:return""}},B=function(D,G){0!==(null==D?void 0:D.indexOf("id:"))||-1<G.indexOf(D)||G.push(D)},C=function(D){var G,H,M,R,N,K=[],V=[D.featuredItemsGroupQuery,D.basemapGalleryGroupQuery,D.templatesGroupQuery,D["2DStylesGroupQuery"],D.stylesGroupQuery,D.analysisLayersGroupQuery,D.galleryTemplatesGroupQuery];
if(D.hasModernHomePageEnabled){var Z=(null===(H=null===(G=D.homePageConfig)||void 0===G?void 0:G.content)||void 0===H?void 0:H.filter(function(ca){return"gallery"===ca.type&&!!ca.groupId}))||[];0<Z.length&&Z.forEach(function(ca){B("id:"+ca.groupId,K)})}else V.push(D.homePageFeaturedContent);return V.forEach(function(ca){B(ca,K)}),null===(M=D.featuredGroups)||void 0===M||M.forEach(function(ca){(ca=ca.id)&&B("id:"+ca,K)}),null===(N=null===(R=D.userDefaults)||void 0===R?void 0:R.groups)||void 0===N||
N.forEach(function(ca){B("id:"+ca,K)}),0<K.length?"("+K.join(" OR ")+")":""},A=function(D){var G=D.portal;switch(D.designationFilter){case a.b.openData:return"isopendata:true";case a.b.updateGroups:return"capabilities:updateitemcontrol";case a.b.distributed:return"capabilities:distributed";case a.b.administrative:return"isleavingdisallowed:true";case a.b.orgSettings:return C(G)||"";default:return""}},E=function(D){var G=D.portal,H=D.username,M=D.currentUsername,R=D.userType,N=D.withinAppConfig;H=
D.shareMode===b.d.ADMIN&&M||H;N=G.isPortal&&N?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(D.ownerFilter){case a.d.itemOwner:return"owner:"+H+" "+N;case a.d.inOrg:return"-owner:"+H+" orgid:"+G.id+" "+N;case a.d.outsideOrg:return R===b.e.PUBLIC?"-owner:"+H+" "+N:"(orgid: [0 TO \\{]) -orgid:"+G.id+" "+N;default:return N}},F=function(D){return D?"created: ["+(G=D).start+" TO "+G.end+"]":"";var G},w=function(D){var G=D.utils,H=G.portal;G=G.portalUser;var M=D.config,
R=M.shareMode,N=M.userType,K=M.withinAppConfig,V=M.hasIndoorsSpaces;D=D.parameters.filter;var Z=D.designationFilter,ca=D.membershipFilter,ea=D.dateCreatedFilter,ka=D.currentUsername,la=D.ownerFilter;return[M.baseQ+" "+D.searchString,v({shareMode:R,currentUsername:ka,portalUser:G,userGroups:M.userGroups}),V?"-capabilities:distributed":A({designationFilter:Z,portal:H}),V?"membershipaccess:org":ca?"anyOrg"===ca?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+ca:"",F(ea),E({ownerFilter:la,
portal:H,username:G.username,currentUsername:ka,shareMode:R,userType:N,withinAppConfig:K})].filter(function(ta){return ta}).join(" ").trim()}},16:function(f,g){f.exports=T},163:function(f,g,l){function u(){x("gb__select-all-input")}function q(){x("gb__clear-selection-btn")}function z(){setTimeout(function(){var n=document.querySelector(".gcard-gcc__container");n&&(n=n.querySelector(".btn-2018check__input"))&&n.focus()},50)}function x(n){setTimeout(function(){var h=document.querySelector("#"+n);h&&
h.focus()},50)}l.d(g,"c",function(){return u});l.d(g,"a",function(){return q});l.d(g,"b",function(){return z})},170:function(f,g){var l=function(){return this}();try{l=l||(new Function("return this"))()}catch(u){"object"==typeof window&&(l=window)}f.exports=l},175:function(f,g,l){var u;l.d(g,"a",function(){return u});(u||(u={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(f,g,l){l.d(g,"a",function(){return B});var u=l(0),q=l(54),z=l(144),x=l(159),n=l(313),h=l(314),e=l(186),d=l(30),a=l(28),
b=l(25),c=l(61),k=l(68),r=l(192),v=l(58),B=function(A){return function(E,F){var w=F(),D=(Object(q.b)(w)?w:w.gbState).utils,G=D.portal;D=D.portalUser;if(!(A&&A.selectorItems&&0<A.selectorItems.length))return E(x.b),a.Promise.resolve();var H=A.selectorItems,M=A.userType;E({type:b.a.SET_SHARE_MODE,payload:A.shareMode});E({type:b.a.SET_USER_TYPE,payload:M});E(Object(z.f)(H));G=Object(v.b)({user:D,items:H,portal:G});var R=D.username===G.username?[D]:[D,G];return 1<R.length&&!A.anySelectorItemsPrivate&&
E({type:b.a.ENABLE_USER_TOGGLE}),E(Object(e.c)(R)),E(Object(e.h)(G.username)),void 0===w.config.hasTrustedOrgs&&E(n.a),Object(h.a)(F()).then(function(N){return N&&E({type:r.a.USER_DETAILS_LOADED,payload:N.groups}),E(x.b),a.Promise.all(R.map(function(K){return Object(x.a)({user:K,state:F()})})).then(function(K){K=Object(c.b)(K);var V=K.map(function(Z){return Z.id});K=K.filter(function(Z,ca){return V.indexOf(Z.id)===ca});return E(C(K))})})}},C=function(A){return function(E,F){return new a.Promise(function(w,
D){var G=F();G=Object(q.b)(G)?G:G.gbState;var H=G.utils,M=H.portal,R=H.request,N=Object(d.b)(G.groups.selectorItems);G=Object(d.a)(A).map(function(K){return Object(d.i)({itemIds:N,groupIds:Object(d.b)(K),portal:M,request:R})});a.Promise.all(G).then(function(K){var V=K.reduce(function(ca,ea){return Object(u.a)(Object(u.a)({},ca),ea)},{}),Z=Object.keys(V);K=A.filter(function(ca){return 0<=Z.indexOf(ca.id)}).map(function(ca){return{group:ca,selectedByIds:V[ca.id].items.map(function(ea){return ea.itemId})}});
E({type:k.a.SET_HAS_GROUPS,payload:0<A.length});E(Object(z.e)(K));w()})["catch"](D)})}}},181:function(f,g,l){l.d(g,"b",function(){return x});l.d(g,"c",function(){return n});l.d(g,"a",function(){return h});var u=l(63);f=l(5);var q=l(99),z=l(128),x=function(e,d){return Object(u.a)(Object(z.b)(e))(d)},n=Object(u.a)(Object(f.e)("thumbURI")),h=function(e){var d=e.initialSelectedByIds;return!Object(q.a)(e.selectedBy.map(function(a){return a.id}),d)}},186:function(f,g,l){l.d(g,"b",function(){return q});
l.d(g,"g",function(){return z});l.d(g,"h",function(){return x});l.d(g,"e",function(){return n});l.d(g,"f",function(){return h});l.d(g,"d",function(){return e});l.d(g,"c",function(){return d});l.d(g,"a",function(){return a});var u=l(83),q=function(b){return{type:u.a.SET_SEARCH_STRING,payload:b}},z=function(b){return{type:u.a.UPDATE_OWNER_FILTER,payload:b}},x=function(b){return{type:u.a.UPDATE_USERNAME_FILTER,payload:b}},n=function(b){return{type:u.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:b}},h=function(b){return{type:u.a.UPDATE_MEMBERSHIP_FILTER,
payload:b}},e=function(b){return{type:u.a.UPDATE_CREATED_ON_FILTER,payload:{section:b.section,created:b.created}}},d=function(b){return{type:u.a.SET_USERS,payload:b}},a=function(b){return{type:u.a.CLEAR_FILTERS,payload:b}}},189:function(f,g){function l(){throw Error("setTimeout has not been defined");}function u(){throw Error("clearTimeout has not been defined");}function q(v){if(d===setTimeout)return setTimeout(v,0);if((d===l||!d)&&setTimeout)return d=setTimeout,setTimeout(v,0);try{return d(v,0)}catch(B){try{return d.call(null,
v,0)}catch(C){return d.call(this,v,0)}}}function z(){k&&b&&(k=!1,b.length?c=b.concat(c):r=-1,c.length&&x())}function x(){if(!k){var v=q(z);k=!0;for(var B=c.length;B;){b=c;for(c=[];++r<B;)b&&b[r].run();r=-1;B=c.length}b=null;k=!1;(function(C){if(a===clearTimeout)return clearTimeout(C);if((a===u||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(C);try{a(C)}catch(A){try{return a.call(null,C)}catch(E){return a.call(this,C)}}})(v)}}function n(v,B){this.fun=v;this.array=B}function h(){}var e=f.exports=
{};try{var d="function"==typeof setTimeout?setTimeout:l}catch(v){d=l}try{var a="function"==typeof clearTimeout?clearTimeout:u}catch(v){a=u}!0;var b,c=[],k=!1,r=-1;e.nextTick=function(v){var B=Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)B[C-1]=arguments[C];c.push(new n(v,B));1!==c.length||k||q(x)};n.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=!0;e.env={};e.argv=[];e.version="";e.versions={};e.on=h;e.addListener=h;e.once=
h;e.off=h;e.removeListener=h;e.removeAllListeners=h;e.emit=h;e.prependListener=h;e.prependOnceListener=h;e.listeners=function(v){return[]};e.binding=function(v){throw Error("process.binding is not supported");};e.cwd=function(){return"/"};e.chdir=function(v){throw Error("process.chdir is not supported");};e.umask=function(){return 0}},192:function(f,g,l){var u;l.d(g,"a",function(){return u});(u||(u={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(f,g,l){function u(a){return"Feature Service"===
a.type&&-1<a.typeKeywords.indexOf("Hosted Service")}function q(a){return a.filter(function(b){return b.access!==h.b["public"]&&u(b)})}function z(a){var b=a.request;a=a.items.map(function(c){return function(k,r){return new x.Promise(function(v){u(k)?Object(n.v)(r,k.url+"/layers").then(function(B){B=B.layers;v((null==B?void 0:B.reduce(function(C,A){return C||A&&-1<A.capabilities.indexOf("Editing")},!1))&&k)},function(){return v(!1)}):v(!1)})}(c,b)});return x.Promise.all(a).then(function(c){return c.filter(function(k){return k})})}
l.d(g,"d",function(){return e});l.d(g,"c",function(){return u});l.d(g,"b",function(){return q});l.d(g,"a",function(){return z});var x=l(28),n=l(30),h=l(26),e=function(a){var b=a.groupDatas;return a.items.filter(function(c){c=c.access?c.access:c.sharing&&c.sharing.access;return c===h.b["private"]||c===h.b.shared}).reduce(function(c,k){return c||d({item:k,groupDatas:b})},!1)},d=function(a){var b=a.item;return a.groupDatas.reduce(function(c,k){return c||!!k.selectedByIds&&0<=k.selectedByIds.indexOf(b.id)},
!1)}},204:function(f,g,l){var u;l.d(g,"a",function(){return u});(function(q){q.SET_PAGE="SET_PAGE";q.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";q.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(u||(u={}))},205:function(f,g){f.exports=y},207:function(f,g,l){l.d(g,"b",function(){return z});var u=l(0),q=l(25),z={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};g.a=function(x,n){switch(void 0===x&&(x=
z),n.type){case q.a.ENABLE_USER_TOGGLE:return Object(u.a)(Object(u.a)({},x),{enableUserToggle:!0});case q.a.SET_SHARE_MODE:return Object(u.a)(Object(u.a)({},x),{shareMode:n.payload});case q.a.SET_USER_TYPE:return Object(u.a)(Object(u.a)({},x),{userType:n.payload});case q.a.TRUSTED_ORGS_LOADED:return Object(u.a)(Object(u.a)({},x),{hasTrustedOrgs:0<n.payload.length});case q.a.USER_DETAILS_LOADED:return Object(u.a)(Object(u.a)({},x),{userGroups:n.payload});case q.a.SET_SELECTOR_ITEMS:var h=!!n.payload.find(function(e){var d;
return-1<(null===(d=null==e?void 0:e.typeKeywords)||void 0===d?void 0:d.indexOf("EditExtensionIndoorsSpaces"))});return Object(u.a)(Object(u.a)({},x),{hasIndoorsSpaces:h});default:return x}}},208:function(f,g,l){l.d(g,"b",function(){return q});f=l(16);var u=l(209);l=l(38);var q={sort:u.b,filter:l.f};g.a=Object(f.combineReducers)({sort:u.a,filter:l.e})},209:function(f,g,l){l.d(g,"b",function(){return z});var u=l(0),q=l(25),z={field:"title",order:"asc"},x={relevance:"desc",title:"asc",created:"desc",
owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};g.a=function(n,h){switch(void 0===n&&(n=z),h.type){case q.a.CHANGE_SORT_FIELD:return Object(u.a)(Object(u.a)({},n),{field:h.payload,order:x[h.payload]});case q.a.CHANGE_SORT_ORDER:return Object(u.a)(Object(u.a)({},n),{order:h.payload});default:return n}}},210:function(f,g,l){l.d(g,"b",function(){return x});f=l(16);var u=l(211),q=l(212),z=l(213);l=l(214);var x={page:u.b,sort:q.b,focus:z.b,filter:l.b};g.a=Object(f.combineReducers)({page:u.a,
sort:q.a,focus:z.a,filter:l.a})},211:function(f,g,l){l.d(g,"b",function(){return z});var u=l(0),q=l(25),z={currentPageNumber:1};g.a=function(x,n){switch(void 0===x&&(x=z),n.type){case q.a.CLEAR_FILTERS:case q.a.UPDATE_USERNAME_FILTER:case q.a.UPDATE_OWNER_FILTER:case q.a.UPDATE_CREATED_ON_FILTER:case q.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(u.a)(Object(u.a)({},x),{currentPageNumber:1});case q.a.SET_PAGE:return Object(u.a)(Object(u.a)({},x),{currentPageNumber:n.payload});case q.a.LOAD_GROUPS_SUCCESS:return Object(u.a)(Object(u.a)({},
x),{currentPageNumber:n.payload.num>n.payload.total?1:Math.ceil(n.payload.start/n.payload.num)});case q.a.LOAD_GROUPS_FAIL:return Object(u.a)(Object(u.a)({},x),{currentPageNumber:1});default:return x}}},212:function(f,g,l){l.d(g,"b",function(){return q});var u=l(25),q=!1;g.a=function(z,x){switch(void 0===z&&(z=q),x.type){case u.a.CHANGE_SORT_FIELD:case u.a.CHANGE_SORT_ORDER:case u.a.TOGGLE_SORT_DROPDOWN:return!z;default:return z}}},213:function(f,g,l){l.d(g,"b",function(){return z});var u=l(0),q=
l(25),z={focusSelectAll:!1};g.a=function(x,n){switch(n.type){case q.a.LOAD_GROUPS_FAIL:case q.a.LOAD_GROUPS_SUCCESS:return Object(u.a)(Object(u.a)({},x),{focusSelectAll:!1});case q.a.CHANGE_SORT_FIELD:case q.a.CHANGE_SORT_ORDER:return Object(u.a)(Object(u.a)({},x),{focusSelectAll:!0});default:return x}}},214:function(f,g,l){l.d(g,"b",function(){return x});var u=l(0),q=l(25),z=l(38),x={expanded:!1};g.a=function(n,h){switch(h.type){case q.a.CLEAR_FILTERS:switch(h.payload){case void 0:case z.a.DATE_CREATED:return Object(u.a)(Object(u.a)({},
n),{dateCreatedSelectedSection:void 0});default:return n}case q.a.TOGGLE_EXPANDED_FILTERS:return Object(u.a)(Object(u.a)({},n),{expanded:!n.expanded});case q.a.UPDATE_CREATED_ON_FILTER:return Object(u.a)(Object(u.a)({},n),{dateCreatedSelectedSection:h.payload.section});default:return n}}},215:function(f,g,l){l.d(g,"b",function(){return q});var u=l(101),q={portal:{},portalUser:{},request:function(z){return null}};g.a=function(z,x){return void 0===z&&(z=q),x.type,z.portal.portalHostname&&!z.portal.baseUrl&&
(z.portal.baseUrl=Object(u.a)(z.portal)),z}},249:function(f,g,l){var u=l(128);g.a=function(q,z){var x=q.group,n=q.stacked,h=q.portal;n={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!x.thumbURI,"gcard-thumbnail--stacked":void 0!==n&&n,"gcard-thumbnail--transparent":q.transparent};if(x.thumbnail&&!x.thumbURI&&h&&(x.thumbURI=Object(u.a)(h,x)),x.thumbURI)return z("img",{src:x.thumbURI,classes:n,alt:x.title});h=!(!x.title.charAt(0)||!x.title.charAt(0).match(/^\w+$/));return z("div",
{key:"group-thumbnail-"+x.id,classes:n},z("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},z("path",{fill:"#"+x.id.substr(x.id.length-6),d:"M0 0h65v65H0z"}),z("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),h?z("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},x.title.slice(0,1).toUpperCase()):z("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(f,g,l){l.d(g,"a",function(){return n});var u;f=l(0);g=l(204);var q=l(68),z=l(175),x=l(83);l=l(192);!function(h){h.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";h.SET_SHARE_MODE="SET_SHARE_MODE";h.SET_USER_TYPE="SET_USER_TYPE"}(u||(u={}));var n=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},g.a),q.a),x.a),u),z.a),l.a)},258:function(f,g){f.exports=t},26:function(f,g,l){var u,q,z,x,n;l.d(g,"b",function(){return u});l.d(g,"a",function(){return q});l.d(g,"c",function(){return z});
l.d(g,"e",function(){return x});l.d(g,"d",function(){return n});(function(h){h.org="org";h["private"]="private";h["public"]="public";h.shared="shared"})(u||(u={}));(function(h){h.LOADING="LOADING";h.SHARE="SHARE";h.GROUP_BROWSER="GROUP_BROWSER";h.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(q||(q={}));(function(h){h.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";h.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";h.REVERT_GROUPS="REVERT_GROUPS";h.EDITABLE_LAYERS="EDITABLE_LAYERS";h.OPEN_GROUP_BROWSER=
"OPEN_GROUP_BROWSER";h.NONE="NONE";h.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";h.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(z||(z={}));(function(h){h.ORG="ORG";h.PUBLIC="PUBLIC"})(x||(x={}));(function(h){h.DEFAULT="DEFAULT";h.ADMIN="ADMIN";h.GROUP="GROUP"})(n||(n={}))},28:function(f,g,l){(function(u,q){f.exports=function(){function z(){var ia=setTimeout;return function(){return ia(x,1)}}function x(){for(var ia=0;ia<E;ia+=2)(0,N[ia])(N[ia+1]),N[ia]=void 0,
N[ia+1]=void 0;E=0}function n(ia,U){var ja=this,S=new this.constructor(e);void 0===S[ka]&&C(S);var O=ja._state;if(O){var I=arguments[O-1];D(function(){return B(O,S,I,ja._result)})}else r(ja,S,ia,U);return S}function h(ia){if(ia&&"object"==typeof ia&&ia.constructor===this)return ia;var U=new this(e);return a(U,ia),U}function e(){}function d(ia,U,ja){U.constructor===ia.constructor&&ja===n&&U.constructor.resolve===h?function(S,O){1===O._state?c(S,O._result):2===O._state?k(S,O._result):r(O,void 0,function(I){return a(S,
I)},function(I){return k(S,I)})}(ia,U):void 0===ja?c(ia,U):"function"==typeof ja?function(S,O,I){D(function(ba){var W=!1,aa=function(P,L,Q,X){try{P.call(L,Q,X)}catch(Y){return Y}}(I,O,function(P){W||(W=!0,O!==P?a(ba,P):c(ba,P))},function(P){W||(W=!0,k(ba,P))},ba._label);!W&&aa&&(W=!0,k(ba,aa))},S)}(ia,U,ja):c(ia,U)}function a(ia,U){if(ia===U)k(ia,new TypeError("You cannot resolve a promise with itself"));else if(S=typeof(ja=U),null===ja||"object"!==S&&"function"!==S)c(ia,U);else{ja=void 0;try{ja=
U.then}catch(O){return void k(ia,O)}d(ia,U,ja)}var ja,S}function b(ia){ia._onerror&&ia._onerror(ia._result);v(ia)}function c(ia,U){void 0===ia._state&&(ia._result=U,ia._state=1,0!==ia._subscribers.length&&D(v,ia))}function k(ia,U){void 0===ia._state&&(ia._state=2,ia._result=U,D(b,ia))}function r(ia,U,ja,S){var O=ia._subscribers,I=O.length;ia._onerror=null;O[I]=U;O[I+1]=ja;O[I+2]=S;0===I&&ia._state&&D(v,ia)}function v(ia){var U=ia._subscribers,ja=ia._state;if(0!==U.length){for(var S=void 0,O=void 0,
I=ia._result,ba=0;ba<U.length;ba+=3)S=U[ba],O=U[ba+ja],S?B(ja,S,O,I):O(I);ia._subscribers.length=0}}function B(ia,U,ja,S){var O="function"==typeof ja,I=void 0,ba=void 0,W=!0;if(O){try{I=ja(S)}catch(aa){W=!1,ba=aa}if(U===I)return void k(U,new TypeError("A promises callback cannot return that same promise."))}else I=S;void 0!==U._state||(O&&W?a(U,I):!1===W?k(U,ba):1===ia?c(U,I):2===ia&&k(U,I))}function C(ia){ia[ka]=la++;ia._state=void 0;ia._result=void 0;ia._subscribers=[]}var A=Array.isArray?Array.isArray:
function(ia){return"[object Array]"===Object.prototype.toString.call(ia)},E=0,F=void 0,w=void 0,D=function(ia,U){N[E]=ia;N[E+1]=U;2===(E+=2)&&(w?w(x):ea())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var M="undefined"==typeof self&&void 0!==u&&"[object process]"==={}.toString.call(u),R="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,N=Array(1E3),K,V,Z,ca,ea=void 0;M?ea=function(){return u.nextTick(x)}:
H?(V=0,Z=new H(x),ca=document.createTextNode(""),Z.observe(ca,{characterData:!0}),ea=function(){ca.data=V=++V%2}):R?((K=new MessageChannel).port1.onmessage=x,ea=function(){return K.port2.postMessage(0)}):ea=void 0===G?function(){try{var ia=Function("return this")().require("vertx");return void 0!==(F=ia.runOnLoop||ia.runOnContext)?function(){F(x)}:z()}catch(U){return z()}}():z();var ka=Math.random().toString(36).substring(2),la=0,ta=function(){function ia(U,ja){this._instanceConstructor=U;this.promise=
new U(e);this.promise[ka]||C(this.promise);A(ja)?(this.length=ja.length,this._remaining=ja.length,this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(ja),0===this._remaining&&c(this.promise,this._result))):k(this.promise,Error("Array Methods must be provided an Array"))}return ia.prototype._enumerate=function(U){for(var ja=0;void 0===this._state&&ja<U.length;ja++)this._eachEntry(U[ja],ja)},ia.prototype._eachEntry=function(U,ja){var S=
this._instanceConstructor,O=S.resolve;if(O===h){var I=O=void 0,ba=!1;try{O=U.then}catch(W){ba=!0,I=W}O===n&&void 0!==U._state?this._settledAt(U._state,ja,U._result):"function"!=typeof O?(this._remaining--,this._result[ja]=U):S===za?(S=new S(e),ba?k(S,I):d(S,U,O),this._willSettleAt(S,ja)):this._willSettleAt(new S(function(W){return W(U)}),ja)}else this._willSettleAt(O(U),ja)},ia.prototype._settledAt=function(U,ja,S){var O=this.promise;void 0===O._state&&(this._remaining--,2===U?k(O,S):this._result[ja]=
S);0===this._remaining&&c(O,this._result)},ia.prototype._willSettleAt=function(U,ja){var S=this;r(U,void 0,function(O){return S._settledAt(1,ja,O)},function(O){return S._settledAt(2,ja,O)})},ia}(),za=function(){function ia(U){this[ka]=la++;this._result=this._state=void 0;this._subscribers=[];if(e!==U){if("function"!=typeof U)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ia)(function(ja,S){try{S(function(O){a(ja,O)},function(O){k(ja,
O)})}catch(O){k(ja,O)}})(this,U);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return ia.prototype["catch"]=function(U){return this.then(null,U)},ia.prototype["finally"]=function(U){var ja=this.constructor;return"function"==typeof U?this.then(function(S){return ja.resolve(U()).then(function(){return S})},function(S){return ja.resolve(U()).then(function(){throw S;})}):this.then(U,U)},ia}();return za.prototype.then=
n,za.all=function(ia){return(new ta(this,ia)).promise},za.race=function(ia){var U=this;return A(ia)?new U(function(ja,S){for(var O=ia.length,I=0;I<O;I++)U.resolve(ia[I]).then(ja,S)}):new U(function(ja,S){return S(new TypeError("You must pass an array to race."))})},za.resolve=h,za.reject=function(ia){var U=new this(e);return k(U,ia),U},za._setScheduler=function(ia){w=ia},za._setAsap=function(ia){D=ia},za._asap=D,za.polyfill=function(){var ia=void 0;if(void 0!==q)ia=q;else if("undefined"!=typeof self)ia=
self;else try{ia=Function("return this")()}catch(S){throw Error("polyfill failed because global object is unavailable in this environment");}var U=ia.Promise;if(U){var ja=null;try{ja=Object.prototype.toString.call(U.resolve())}catch(S){}if("[object Promise]"===ja&&!U.cast)return}ia.Promise=za},za.Promise=za,za}()}).call(this,l(189),l(170))},291:function(f,g,l){var u=l(0);f=l(16);var q=l(634);l=function(z){function x(){return null!==z&&z.apply(this,arguments)||this}return Object(u.d)(x,z),x.prototype.render=
function(n){var h=this.props,e=h.items,d=h.text,a=h.title,b=h.portal;h=h.error;return 0<e.length&&n("div",{key:"need-update-list",classes:{"dependent-items":!0,"dependent-items--error":h}},n("h4",{"class":"dependent-items__title"},a.replace("${num}",e.length.toString())),d&&n("p",{"class":"dependent-items__count"},d),n("ul",{"class":"dependent-items__list"},e.map(function(c){return n(q.a,{key:c.id,item:c,portal:b})})))},x}(f.Component);g.a=l},294:function(f,g){f.exports=m},30:function(f,g,l){function u(N){return N.reduce(function(K,
V){return V&&V.relatedItems?K.concat(V.relatedItems.map(function(Z){return Z})):K},[])}function q(N,K,V){return N(K,{query:Object(n.a)({f:"json"},V)}).then(function(Z){return Z.data})}function z(N,K){void 0===K&&(K=100);for(var V=[],Z=0;Z<Math.ceil(N.length/K);Z++)V.push(N.slice(Z*K,(Z+1)*K));return V.filter(function(ca){return 0<ca.length})}function x(N){var K=N.itemIds,V=N.request,Z=N.groupIds,ca=N.portal.restUrl+"/content/itemsgroups";return new h.Promise(function(ea,ka){V(ca,{method:"get",query:{f:"json",
items:K,groups:Z}}).then(function(la){ea(la.data)},ka)})}l.d(g,"u",function(){return e});l.d(g,"n",function(){return d});l.d(g,"h",function(){return a});l.d(g,"e",function(){return b});l.d(g,"f",function(){return c});l.d(g,"j",function(){return k});l.d(g,"o",function(){return r});l.d(g,"l",function(){return v});l.d(g,"k",function(){return B});l.d(g,"m",function(){return C});l.d(g,"c",function(){return A});l.d(g,"d",function(){return E});l.d(g,"r",function(){return F});l.d(g,"s",function(){return w});
l.d(g,"t",function(){return D});l.d(g,"g",function(){return G});l.d(g,"p",function(){return H});l.d(g,"q",function(){return M});l.d(g,"v",function(){return q});l.d(g,"a",function(){return z});l.d(g,"i",function(){return x});l.d(g,"b",function(){return R});var n=l(0),h=l(28),e=function(N){return function(K,V){return N({url:K,content:V.query},{usePost:"post"===V.method}).then(function(Z){return{data:Z}})}},d=function(N,K,V){return q(N,K.restUrl+"/portals/self",{culture:V,"default":!0})},a=function(N,
K,V){return q(N,K.restUrl+"/content/items/"+V+"/data")},b=function(N,K,V,Z){return q(N,K.restUrl+"/community/groups",Object(n.a)({q:V},Z))},c=function(N,K,V){return q(N,K.restUrl+"/community/groups/"+V+"/categorySchema")},k=function(N,K,V){return q(N,K.restUrl+"/portals/"+(V||K.id)+"/categorySchema")},r=function(N,K){return q(N,K.restUrl+"/portals/"+K.id+"/servers")},v=function(N,K,V,Z){return N(K.restUrl+"/portals/"+(V||K.id)+"/collaborationsSummary",Z)},B=function(N,K,V,Z){return N(K.restUrl+"/portals/"+
(V||K.id)+"/collaboratedItems",Z)},C=function(N,K,V){return q(N,location.protocol+"//"+K.portalHostname+"/sharing/rest/portals/"+(V||"self"))},A=function(N,K,V){return N(K.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+K.id+" AND access:public",num:100,start:V||1,sortField:"title",sortOrder:"asc"}}).then(function(Z){return Z.data.total>Z.data.start+Z.data.num?A(N,K,Z.data.start+Z.data.num).then(function(ca){return Object(n.a)(Object(n.a)({},ca),{data:Object(n.a)(Object(n.a)({},ca.data),{results:Z.data.results.concat(ca.data.results)})})}):
Z})},E=function(N,K,V,Z){return N(K.restUrl+"/community/users/"+V+"/provisionedListings",{query:{f:"json",num:100,start:Z||1}}).then(function(ca){var ea=h.Promise.all(ca.data.provisionedListings.filter(function(la){return la.itemId}).map(function(la){return(new h.Promise(function(ta,za){N(K.restUrl+"/content/items/"+la.itemId,{method:"get",query:{f:"json"}}).then(function(ia){ta(ia.data)},za)}))["catch"](function(ta){return 0})})),ka=ca.data.provisionedListings.map(function(la){return q(N,K.restUrl+
"/content/items/"+(la.id||la.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(ta){return ta},function(ta){})});return ca.data.total>ca.data.start+ca.data.num?E(N,K,V,ca.data.start+ca.data.num).then(function(la){return h.Promise.all([ea].concat(ka)).then(function(ta){return ta[0].results.concat(u(ta.slice(1))).concat(la)})}):h.Promise.all([ea].concat(ka)).then(function(la){return la[0].filter(function(ta){return void 0!==ta}).concat(u(la.slice(1)))})})},
F=function(N,K,V){return q(N,K.restUrl+"/community/users/"+(V||K.user.username))},w=function(N,K,V){return q(N,K.restUrl+"/content/users/"+(V||K.user.username),{num:1})},D=function(N,K,V){return q(N,K.restUrl+"/content/groups/"+V)},G=function(N,K,V){return q(N,K.restUrl+"/community/groups",V)},H=function(N,K){return q(N,K.restUrl+"/portals/self/settings")},M=function(N,K){return q(N,K.restUrl+"/portals/self/trustedOrgs",{num:100})},R=function(N,K){return void 0===K&&(K=","),N.map(function(V){return V.id}).join(K)}},
312:function(f,g,l){function u(x){return z[x.vnodeSelector]&&(!x.properties||!x.properties.disabled&&-1!==x.properties.tabindex)||x.properties&&x.properties.tabindex&&-1<parseInt(x.properties.tabindex,10)}var q=l(0),z={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};f=function(x){function n(h){h=x.call(this,h)||this;return h.registerFirstFocusable=h.registerFirstFocusable.bind(h),h.registerLastFocusable=h.registerLastFocusable.bind(h),h.handleFocusChange=h.handleFocusChange.bind(h),
h}return Object(q.d)(n,x),n.prototype.render=function(){var h=this.findFirstFocusable(this.props.children),e=this.findLastFocusable(this.props.children);return h&&e&&(h.properties?h.properties.afterCreate=this.registerFirstFocusable:h.properties={afterCreate:this.registerFirstFocusable},e.properties?e.properties.afterCreate=this.registerLastFocusable:e.properties={afterCreate:this.registerLastFocusable}),this.props.children},n.prototype.findFirstFocusable=function(h){if(h)for(var e=0;e<h.length;e++){var d=
h[e];if(u(d)||d.children&&(d=this.findFirstFocusable(d.children)))return d}},n.prototype.findLastFocusable=function(h){if(h)for(var e=h.length-1;0<=e;e--){var d=h[e];if(u(d)||d.children&&(d=this.findLastFocusable(d.children)))return d}},n.prototype.registerFirstFocusable=function(h){this.firstFocusableElement&&this.firstFocusableElement!==h&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);h.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=
h;setTimeout(function(){h&&h.focus()},10)},n.prototype.registerLastFocusable=function(h){this.lastFocusableElement&&this.lastFocusableElement!==h&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=h;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},n.prototype.handleFocusChange=function(h){"Tab"!==h.key&&9!==h.keyCode||(h.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
h.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),h.preventDefault()))},n}(l(16).Component);g.a=f},313:function(f,g,l){l.d(g,"a",function(){return x});var u=l(30),q=l(54),z=l(175),x=function(n,h){var e=h();e=(Object(q.b)(e)?e:e.gbState).utils;Object(u.q)(e.request,e.portal).then(function(d){var a;d=(null===(a=null==d?void 0:d.trustedOrgs)||void 0===a?void 0:a.filter(function(b){return-1<b.from.established&&-1<b.to.established}))||
[];n({type:z.a.TRUSTED_ORGS_LOADED,payload:d})},function(){n({type:z.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(f,g,l){l.d(g,"a",function(){return x});var u=l(30),q=l(54),z=l(28),x=function(n){n=(Object(q.b)(n)?n:n.gbState).utils;var h=n.request,e=n.portal,d=n.portalUser;return new z.Promise(function(a,b){Object(u.r)(h,e,d.username).then(function(c){a(c)},function(){a()})})}},320:function(f,g,l){var u=l(0),q=l(36),z=l(39);f=l(16);var x=l(90);l=function(n){function h(){return null!==n&&n.apply(this,
arguments)||this}return Object(u.d)(h,n),h.prototype.render=function(e){var d=this.props,a=d.onCancel,b=d.title,c=d.onBack;return e("div",{"class":"share-dlg__container-header",key:"share-view-header"},e("h2",{key:"share-view-header-title",id:"modal-title","class":"share-dlg__title"},d.back?e("button",{key:"share-dlg-header-back","class":"share-dlg__back",onclick:c,"aria-label":z.backToShare},e("svg",{viewbox:"0 0 24 24",role:"img"},e("path",{d:x.b})),b):b),e("button",{"class":"mod__overlay__close",
"aria-label":q.close,onclick:a},e("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:x.k}))))},h}(f.Component);g.a=l},335:function(f,g,l){l.d(g,"b",function(){return d});l.d(g,"a",function(){return E});var u=l(0),q=l(28),z=l(30),x=l(78),n=l(61),h=l(194),e=l(26),d=function(D){if(D.depth&&4<D.depth)return q.Promise.resolve([]);switch(D.depth=D.depth?D.depth+1:1,D.item.type){case "Web Map":case "Web Scene":return B(D);case "Web Mapping Application":return b(D);
case "Big Data File Share":return c(D);case "Data Store":return k(D);default:return q.Promise.resolve([])}},a=function(D){var G=D.item,H=D.request,M=D.portal,R=D.iconDir;return G.itemId?new q.Promise(function(N){Object(z.v)(H,M.restUrl+"/content/items/"+G.itemId).then(function(K){0<Object(h.b)([K]).length?Object(h.a)({items:[K],request:H}).then(function(V){K.isUpdateLayer=0<V.length;N(Object(x.a)(M,R,K))},function(){return N(Object(x.a)(M,R,K))}):N(Object(x.a)(M,R,K))},function(){return N(null)})}):
q.Promise.resolve(null)},b=function(D){var G=D.item,H=D.request,M=D.portal,R=D.iconDir;return new q.Promise(function(N){Object(z.v)(H,M.restUrl+"/content/items/"+G.id+"/data").then(function(K){K||N([]);var V=function(Z){var ca,ea,ka,la,ta,za,ia,U,ja,S,O=(null===(ca=null==Z?void 0:Z.map)||void 0===ca?0:ca.itemId)?[Z.map.itemId]:[];ca=null!==(la=null===(ka=null===(ea=Z.values)||void 0===ea?void 0:ea.itemCollection)||void 0===ka?void 0:ka.map(function(I){return I.id}))&&void 0!==la?la:[];ea=null!==(ia=
null===(za=null===(ta=Z.values)||void 0===ta?void 0:ta.webmap)||void 0===za?void 0:za.split(","))&&void 0!==ia?ia:[];Z=null!==(S=null===(ja=null===(U=Z.values)||void 0===U?void 0:U.webscene)||void 0===ja?void 0:ja.split(","))&&void 0!==S?S:[];return Object(u.g)(Object(u.g)(Object(u.g)(Object(u.g)([],O),ca),ea),Z)}(K).map(function(Z){return a({item:{itemId:Z},request:H,portal:M,iconDir:R})});q.Promise.all(V).then(function(Z){var ca=Z.filter(function(ea){return ea});Z=ca.map(function(ea){return d({item:ea,
request:H,portal:M,iconDir:R})});q.Promise.all(Z).then(function(ea){var ka;ea=Object(u.g)(Object(u.g)([],ca),Object(n.b)(ea));(null===(ka=K.values)||void 0===ka?0:ka.group)&&(G.itemData=K,ea.push(G));N(ea)})})})})},c=function(D){var G=D.item,H=D.request,M=D.portal,R=D.iconDir;return new q.Promise(function(N){Object(z.v)(H,M.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(K){if(-1<K.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&
-1<K.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(z.v)(H,M.restUrl+"/content/items/"+K.relatedItems[0].id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(Z){Z.relatedItems.push(K.relatedItems[0]);Z=r(Z.relatedItems,H,M,R);q.Promise.all(Z).then(function(ca){N(ca)})});else{var V=r(K.relatedItems,H,M,R);q.Promise.all(V).then(function(Z){N(Z)})}})})},k=function(D){var G=D.item,H=D.request,M=D.portal,R=D.iconDir;return new q.Promise(function(N){Object(z.v)(H,
M.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(K){K=r(K.relatedItems,H,M,R);q.Promise.all(K).then(function(V){N(V)})})})},r=function(D,G,H,M){return D.map(function(R){return v(R,G,H,M)})},v=function(D,G,H,M){return new q.Promise(function(R){Object(z.v)(G,H.restUrl+"/content/items/"+D.id).then(function(N){R(Object(x.a)(H,M,N))})})},B=function(D){var G=D.item,H=D.request,M=D.portal,R=D.iconDir;return new q.Promise(function(N){return function(K){var V=
K.portal,Z=K.item,ca=K.request;return new q.Promise(function(ea){if(Z.itemData){var ka=Z.itemData,la=ka.operationalLayers,ta=ka.baseMap,za=ka.tables;ka=ka.ground;return ea(Object(u.g)(Object(u.g)(Object(u.g)(Object(u.g)([],(null==ta?void 0:ta.baseMapLayers)||[]),(null==ka?void 0:ka.layers)||[]),la||[]),za||[]))}return Object(z.v)(ca,V.restUrl+"/content/items/"+Z.id+"/data").then(function(ia){var U=ia.baseMap,ja=ia.tables,S=ia.ground;return ea(Object(u.g)(Object(u.g)(Object(u.g)(Object(u.g)([],ia.operationalLayers||
[]),(null==U?void 0:U.baseMapLayers)||[]),(null==S?void 0:S.layers)||[]),ja||[]))},function(){return ea([])})})}({request:H,item:G,portal:M}).then(function(K){q.Promise.all(C(K).map(function(V){return a({item:V,request:H,portal:M,iconDir:R})})).then(N)})})},C=function(D){return D.reduce(function(G,H){return(null==H?0:H.itemId)?G.concat(H):(null==H?0:H.layers)&&"GroupLayer"===H.layerType?G.concat(H.layers):G},[])},A={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,
bdfsDatastore:!1},E=function(D){var G=D.item,H=D.selectedOptions,M=D.selectedGroups,R=D.request;D=D.portal;return F({item:G,selectedOptions:H})?q.Promise.resolve(Object(u.a)(Object(u.a)({},A),{editable:!1,premium:!0})):w({item:G,selectedGroups:M,request:R,portal:D,selectedOptions:H}).then(function(N){var K=N.needsGroupSharingUpdate,V;if(!(V=N.needsShareLevelUpdate)){var Z,ca=!0;Object(n.e)(H)&&(ca=!1);V=Object(n.d)(H);V!==e.b["private"]&&V!==e.b.shared||(ca=!1);var ea=G.access||(null===(Z=G.sharing)||
void 0===Z?void 0:Z.access);V=(ea===e.b["public"]&&(ca=!1),ea===V&&(ca=!1),V===e.b["private"]&&(ea===e.b.shared&&(ca=!1),ea===e.b.org&&(ca=!1)),ca)}return{needsGroupSharingUpdate:K,needsShareLevelUpdate:V,editable:N.editable,premium:!1,groupDependentApplication:N.groupDependentApplication,bdfsDatastore:N.bdfsDatastore}})},F=function(D){var G=D.selectedOptions;D=D.item;return Object(n.e)(G)?!1:Object(n.d)(G)===e.b["public"]?(G=D.typeKeywords,-1<D.owner.toLowerCase().indexOf("esri")&&(-1<(null==G?void 0:
G.indexOf("Requires Credits"))||-1<(null==G?void 0:G.indexOf("Requires Subscription")))):!1},w=function(D){var G=D.item,H=D.selectedGroups,M=D.selectedOptions,R=D.request,N=D.portal;return new q.Promise(function(K,V){var Z,ca;"Web Mapping Application"===G.type&&(null===(ca=null===(Z=G.itemData)||void 0===Z?void 0:Z.values)||void 0===ca?0:ca.group)?K(Object(u.a)(Object(u.a)({},A),{groupDependentApplication:!0})):"Data Store"!==G.type?Object(z.v)(R,N.restUrl+"/content/users/"+G.owner+(G.ownerFolder?
"/"+G.ownerFolder:"")+"/items/"+(G.itemId||G.id)).then(function(ea){var ka,la=ea.item.itemControl,ta=ea.sharing.groups;ea=G.access||(null===(ka=G.sharing)||void 0===ka?void 0:ka.access);Object(n.f)(G)&&M.total===M["public"]?K(Object(u.a)(Object(u.a)({},A),{needsShareLevelUpdate:!0,editable:!1})):la&&"admin"!==la&&"update"!==la?K(Object(u.a)(Object(u.a)({},A),{editable:!1})):ea!==e.b["public"]?H.length>ta.length?K(Object(u.a)(Object(u.a)({},A),{needsGroupSharingUpdate:!0})):(ka=H.some(function(za){return 0>
ta.indexOf(za.id)}),K(Object(u.a)(Object(u.a)({},A),{needsGroupSharingUpdate:ka}))):K(Object(u.a)({},A))},function(ea){Object(z.v)(R,N.restUrl+"/content/items/"+(G.itemId||G.id)).then(function(ka){ka=ka.access;ka===e.b["public"]||ka===e.b.org&&M.total===M.org+M["private"]?K(Object(u.a)(Object(u.a)({},A),{editable:!1})):K(Object(u.a)(Object(u.a)({},A),{needsShareLevelUpdate:!0,editable:!1}))},function(ka){K(Object(u.a)(Object(u.a)({},A),{needsShareLevelUpdate:!0,editable:!1}))})}):K(Object(u.a)(Object(u.a)({},
A),{bdfsDatastore:!0}))})}},36:function(f,g){f.exports=J},379:function(f,g,l){function u(x,n){var h=x.filter(function(e){var d;return!e.success&&500===(null===(d=null==e?void 0:e.error)||void 0===d?void 0:d.code)}).map(function(e){var d=Object(z.c)(n,function(a){return a.id===e.itemId});return(null==d?void 0:d.title)||e.itemId});return x.map(function(e){e.error=e.error||{};var d=e.error,a=d.messageCode;d=d.code;return a&&q.errors[a]&&(e.error.message=q.errors[a]),d&&q.errors[d]&&(e.error.message=
q.errors[d]),(500===a||500===d&&h)&&(e.error.details=h,e.error.message=q.errors[500]+" "+(null==h?void 0:h.join(", "))),e}).filter(function(e){return!e.success})}l.d(g,"a",function(){return u});var q=l(39),z=l(99)},38:function(f,g,l){l.d(g,"b",function(){return u});l.d(g,"d",function(){return z});l.d(g,"c",function(){return x});l.d(g,"a",function(){return n});l.d(g,"f",function(){return d});var u,q,z,x,n,h=l(0),e=l(25);!function(a){a.openData="openData";a.updateGroups="updateGroups";a.distributed=
"distributed";a.administrative="administrative";a.orgSettings="orgSettings"}(u||(u={}));(q||(q={})).owner="owner";(function(a){a.itemOwner="itemOwner";a.inOrg="inOrg";a.outsideOrg="outsideOrg"})(z||(z={}));(function(a){a.myOrg="org";a.partnered="collaboration";a.anyOrg="anyOrg"})(x||(x={}));(function(a){a.USER="USER";a.OWNER="OWNER";a.DESIGNATION="DESIGNATION";a.DATE_CREATED="DATE_CREATED";a.MEMBERSHIP="MEMBERSHIP"})(n||(n={}));var d={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};
g.e=function(a,b){switch(void 0===a&&(a=d),b.type){case e.a.CLEAR_FILTERS:switch(b.payload){case n.DESIGNATION:return Object(h.a)(Object(h.a)({},a),{designationFilter:void 0});case n.DATE_CREATED:return Object(h.a)(Object(h.a)({},a),{dateCreatedFilter:void 0});case n.OWNER:return Object(h.a)(Object(h.a)({},a),{ownerFilter:void 0});case n.USER:return a;case n.MEMBERSHIP:return Object(h.a)(Object(h.a)({},a),{membershipFilter:void 0});default:return Object(h.a)(Object(h.a)({},a),{designationFilter:void 0,
dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case e.a.UPDATE_OWNER_FILTER:return Object(h.a)(Object(h.a)({},a),{ownerFilter:b.payload===a.ownerFilter?void 0:b.payload});case e.a.UPDATE_USERNAME_FILTER:return Object(h.a)(Object(h.a)({},a),{currentUsername:b.payload});case e.a.UPDATE_CREATED_ON_FILTER:return Object(h.a)(Object(h.a)({},a),{dateCreatedFilter:b.payload.created});case e.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(h.a)(Object(h.a)({},a),{designationFilter:b.payload===
a.designationFilter?void 0:b.payload});case e.a.UPDATE_MEMBERSHIP_FILTER:return Object(h.a)(Object(h.a)({},a),{membershipFilter:b.payload===a.membershipFilter?void 0:b.payload});case e.a.SET_USERS:return Object(h.a)(Object(h.a)({},a),{allUsers:b.payload.reduce(function(c,k){var r;return Object(h.a)(Object(h.a)({},c),((r={})[k.username]=k,r))},{})});case e.a.SET_SEARCH_STRING:return Object(h.a)(Object(h.a)({},a),{searchString:b.payload});default:return a}}},39:function(f,g){f.exports=p},422:function(f,
g,l){var u,q=l(0);f=l(39);var z=l(16),x=l(629),n=l(139),h=l(26);l=function(d){function a(){var b=null!==d&&d.apply(this,arguments)||this;return b.handleKeyUp=function(c){"Escape"===c.key&&b.props.handleSecondaryClick()},b}return Object(q.d)(a,d),a.prototype.render=function(b){var c=this,k=this.props,r=k.handleSecondaryClick,v=k.handlePrimaryClick,B=k.text;if(k.dialogExists&&B)return b("div",{key:"share-mini-dlg__wrapper",afterCreate:function(){window.addEventListener("keyup",c.handleKeyUp)},afterRemoved:function(){window.removeEventListener("keyup",
c.handleKeyUp)}},b(x.a,{key:"share-mini-dlg__component",isError:null==B?void 0:B.isError,render:function(){return b("div",{key:"share-mini-dlg","class":"share-mini-dlg"},b("h2",{"class":"share-mini-dlg__title"},B.title),b("p",{"class":"share-mini-dlg__body"},B.body),b("div",{"class":"share-mini-dlg__buttons"},B.secondaryButton&&b("button",{appearance:"outline",onclick:r,id:"share-mini-dlg-secondary","class":"share-dlg__button--secondary share-mini-dlg__cancel-button"},B.secondaryButton),b("button",
{onclick:v,id:"share-mini-dlg-primary","class":"share-dlg__button--primary share-mini-dlg__remove-button"},B.primaryButton)))}}))},a}(z.Component);g.a=Object(z.connect)(function(d){d=d.resources.currentMiniDlg;return{text:e[d],dialogExists:d!==h.c.NONE}},function(d){return{handleSecondaryClick:function(){d(Object(n.k)(h.c.NONE));d(Object(n.j)(h.a.SHARE))},handlePrimaryClick:function(){d(n.h)}}})(l);var e=((u={})[h.c.OPEN_GROUP_BROWSER]={title:f.MiniDlg.changeShareLevelTitle,body:f.MiniDlg.changeShareLevelBody,
primaryButton:f.update,secondaryButton:f.cancel},u[h.c.SET_SHARE_TO_PRIVATE]={title:f.MiniDlg.setShareToPrivateTitle,body:f.MiniDlg.setShareToPrivateBody,primaryButton:f.update,secondaryButton:f.cancel},u[h.c.REVERT_SHARE_LEVEL]={title:f.MiniDlg.revertShareLevelTitle,body:f.MiniDlg.revertShareLevelBody,primaryButton:f.update,secondaryButton:f.cancel},u[h.c.REVERT_GROUPS]={title:f.MiniDlg.revertGroupsTitle,body:f.MiniDlg.revertGroupsBody,primaryButton:f.update,secondaryButton:f.cancel},u[h.c.EDITABLE_LAYERS]=
{title:f.MiniDlg.editableLayersTitle,body:f.MiniDlg.editableLayersBody,primaryButton:f.update,secondaryButton:f.cancel,isError:!0},u[h.c.PUBLIC_DATA_COLLECTION_ENABLED]={title:f.MiniDlg.publicDataCollectionEnabledTitle,body:f.MiniDlg.publicDataCollectionEnabledBody,primaryButton:f.update,secondaryButton:f.cancel,isError:!0},u[h.c.PUBLIC_DATA_COLLECTION_DISABLED]={title:f.MiniDlg.publicDataCollectionDisabledTitle,body:f.MiniDlg.publicDataCollectionDisabledBody,primaryButton:f.ok,isError:!0},u)},440:function(f,
g,l){l.d(g,"a",function(){return z});l.d(g,"b",function(){return x});f=l(495);g=l(496);var u=l(54),q=l(497);l=l(16);u.a.ui.filter.expanded=860<window.innerWidth;var z={resources:f.b,utilities:g.b,gbState:u.a,config:q.b},x=Object(l.combineReducers)({resources:f.a,utilities:g.a,gbState:u.c,config:q.a})},495:function(f,g,l){function u(d){var a=Object(z.a)(Object(z.a)({},h),{total:d.length});return d.forEach(function(b){switch(b.access?b.access:b.sharing&&b.sharing.access){case n.b["public"]:a[n.b["public"]]++;
break;case n.b.org:a[n.b.org]++;break;case n.b.shared:case n.b["private"]:a[n.b["private"]]++}}),a}l.d(g,"b",function(){return e});var q,z=l(0),x=l(139),n=l(26),h=((q={total:0})[n.b["private"]]=0,q[n.b.org]=0,q[n.b["public"]]=0,q),e={items:[],portalUser:{},selectedOptions:Object(z.a)({},h),selectedOptionsDirty:!1,dependentItems:{needShareLevelUpdate:[],needGroupSharingUpdate:[],notEditable:[],premium:[],needEditableWarning:[],needPubliclyEditableWarning:[],needDataCollectionEnabled:[],needGroupDependentApplicationWarning:[],
needBDFSDatastoreUpdate:[]},currentMiniDlg:n.c.NONE,isLoading:!1};g.a=function(d,a){var b;switch(void 0===d&&(d=e),a.type){case x.a.SET_HELP_MAP:return Object(z.a)(Object(z.a)({},d),{helpMap:a.payload});case x.a.SET_SELECTED_SHARE_LEVEL:var c=d.selectedOptions.total,k=Object(z.a)(Object(z.a)(Object(z.a)({},h),((b={})[a.payload]=c,b)),{total:c}),r=u(d.items);b=!Object.keys(k).reduce(function(v,B){return v&&k[B]===r[B]},!0);return Object(z.a)(Object(z.a)({},d),{selectedOptions:k,selectedOptionsDirty:b});
case x.a.SET_INITIAL_SHARE_LEVEL:return Object(z.a)(Object(z.a)({},d),{selectedOptions:u(d.items),selectedOptionsDirty:!1});case x.a.SET_DEPENDENT_ITEMS:return Object(z.a)(Object(z.a)({},d),{dependentItems:a.payload});case x.a.SET_MINI_DIALOG:return Object(z.a)(Object(z.a)({},d),{currentMiniDlg:a.payload});default:return d}}},496:function(f,g,l){l.d(g,"b",function(){return u});var u={onCancel:function(){return null},onComplete:function(){return null},request:function(q){return null},portal:{},iconDir:""};
g.a=function(q,z){return void 0===q&&(q=u),z.type,q}},497:function(f,g,l){l.d(g,"b",function(){return z});var u=l(0),q=l(139);f=l(26);var z={groupsPerPage:10,currentView:f.a.LOADING,shareMode:f.d.DEFAULT,userType:f.e.ORG};g.a=function(x,n){switch(void 0===x&&(x=z),n.type){case q.a.SET_CURRENT_VIEW:return Object(u.a)(Object(u.a)({},x),{currentView:n.payload});case q.a.SET_SHARE_MODE:return Object(u.a)(Object(u.a)({},x),{shareMode:n.payload});case q.a.SET_USER_TYPE:return Object(u.a)(Object(u.a)({},
x),{userType:n.payload});default:return x}}},5:function(f,g,l){function u(a){return 0===Object.keys(a).length&&a.constructor===Object}function q(a){return null!=a}function z(a,b){return e.apply(null,arguments)}function x(a,b){return d.apply(null,arguments)}l.d(g,"b",function(){return u});l.d(g,"a",function(){return q});l.d(g,"e",function(){return h});l.d(g,"c",function(){return z});l.d(g,"d",function(){return x});var n=l(0);f=l(15);var h=Object(f.a)(function(a,b){var c=Object(n.a)({},b);return delete c[a],
c}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,k){return c[k]=a(b[k],k,b),c},{})}),d=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,k){return a(b[k],k,b)&&(c[k]=b[k]),c},{})})},51:function(f,g,l){function u(w){return!(!w.urlKey||!w.customBaseUrl)}function q(w){return w.role===k.admin||w.role===k.accountAdmin}function z(w){return Object(B.a)(w.roleId)&&0<(w.roleId||"").length}function x(w){return!z(w)||z(w)&&-1<(w.privileges||[]).indexOf("portal:admin:viewItems")}
function n(w){return-1<(w.privileges||[]).indexOf("portal:user:shareToOrg")}function h(w){return-1<(w.privileges||[]).indexOf("portal:user:shareToGroup")}function e(w){return-1<(w.privileges||[]).indexOf("portal:user:shareToPublic")}function d(w,D){return a(w)||b(w)||D.canSharePublic&&c(w)}function a(w){return-1<(w.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(w){return-1<(w.privileges||[]).indexOf("portal:admin:shareToOrg")}function c(w){return-1<(w.privileges||[]).indexOf("portal:admin:shareToPublic")}
l.d(g,"l",function(){return A});l.d(g,"h",function(){return E});l.d(g,"m",function(){return F});l.d(g,"k",function(){return u});l.d(g,"i",function(){return q});l.d(g,"j",function(){return z});l.d(g,"g",function(){return x});l.d(g,"b",function(){return n});l.d(g,"a",function(){return h});l.d(g,"c",function(){return e});l.d(g,"d",function(){return a});l.d(g,"e",function(){return b});l.d(g,"f",function(){return c});var k,r=l(63),v=l(148),B=l(5),C=l(58);!function(w){w.user="org_user";w.accountUser="account_user";
w.publisher="org_publisher";w.accountPublisher="account_publisher";w.admin="org_admin";w.accountAdmin="account_admin";w.viewer="iAAAAAAAAAAAAAAA";w.dataEditor="iBBBBBBBBBBBBBBB"}(k||(k={}));var A=function(w){var D=w.items;return!!w.user.orgId&&D.every(function(G){return G.isOrgItem})},E=function(w){var D=w.items,G=w.user,H=w.portal;w=D[0];var M=Object(C.c)(w,G),R=z(G),N=d(G,H);if(R=Object(C.a)(w,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!R)R=!u(H)||h(G)||n(G)||H.canSharePublic&&
e(G)||d(G,H);H=R;return!(w.portal.isPortal&&w.owner!==G.username&&-1<w.owner.indexOf("esri_"))&&(M||H||A({items:D,user:G})&&N)},F=function(w,D){return Object(r.a)(Object(v.a)(w))(D)}},54:function(f,g,l){l.d(g,"b",function(){return x});l.d(g,"a",function(){return n});l.d(g,"c",function(){return h});f=l(16);g=l(215);var u=l(208),q=l(137),z=l(210);l=l(207);var x=function(e){return!e.gbState},n={config:l.b,parameters:u.b,groups:q.f,ui:z.b,utils:g.b},h=Object(f.combineReducers)({config:l.a,parameters:u.a,
groups:q.b,ui:z.a,utils:g.a})},58:function(f,g,l){function u(e,d){return(null==e?void 0:e.owner)===d.username}function q(e,d){var a;if(!(a=u(e,d)))if(Object(x.a)(e.isAdmin))a=!!e.isAdmin;else{a=e.owner;var b="admin"===e.itemControl;a=!(e.portal.isPortal&&!u(e,d)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function z(e,d){return q(e,d)||"update"===e.itemControl}l.d(g,"d",function(){return u});l.d(g,"c",function(){return q});l.d(g,
"a",function(){return z});l.d(g,"b",function(){return h});var x=l(5),n=l(51),h=function(e){var d=e.user,a=e.items;e=e.portal;return Object(n.l)({items:a,user:d})&&Object(n.h)({items:a,user:d,portal:e})&&Object(n.g)(d)&&a[0].itemOwner||d}},61:function(f,g,l){function u(E){var F=E.groupIds,w=E.shareLevelOptions,D=E.restUrl,G=E.request,H=E.unshare;return h.Promise.all(E.items.map(function(M,R){return new h.Promise(function(N,K){G(D+"/content/items/"+(M.itemId||M.id)+"/"+(H?"unshare":"share"),{method:"post",
query:Object(x.a)({f:"json",groups:F,confirmItemControl:!0},w||{})}).then(N,K)})}))["catch"](function(M){throw M;})}function q(E,F){return new h.Promise(function(w,D){var G,H=null===(G=E.helpMap)||void 0===G?void 0:G.m;H?w(H):F(E.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(M){var R;w(null===(R=M.data.helpMap)||void 0===R?void 0:R.m)},D)})}l.d(g,"h",function(){return d});l.d(g,"g",function(){return a});l.d(g,"b",function(){return b});l.d(g,"e",function(){return c});l.d(g,
"d",function(){return k});l.d(g,"f",function(){return C});l.d(g,"c",function(){return A});l.d(g,"a",function(){return q});var z,x=l(0),n=l(30),h=l(28);f=l(26);var e=l(58),d=function(E){var F=E.items,w=E.groups,D=E.restUrl,G=E.request,H=E.portalUser;if(0===F.length)return h.Promise.resolve();var M=Object(n.b)(w);return F.every(function(R){return Object(e.d)(R,H)})?new h.Promise(function(R,N){if(!w||0===w.length)return R();var K={f:"json",items:Object(n.b)(F),groups:M};G(D+"/content/users/"+H.username+
"/unshareItems",{method:"post",query:K}).then(R,N)}):u({items:F,groupIds:M,restUrl:D,request:G,unshare:!0})},a=function(E){var F=E.items,w=E.groups,D=E.restUrl,G=E.request,H=E.portalUser,M=E.selectedOptions;E=E.ignoreShareLevel;if(0===F.length)return h.Promise.resolve();if(!E&&!M)throw"Selected options must be provided unless share level is ignored.";var R=Object(n.b)(w),N=E?{}:r(M);return F.every(function(K){return Object(e.d)(K,H)})?new h.Promise(function(K,V){G(D+"/content/users/"+H.username+"/shareItems",
{method:"post",query:Object(x.a)({f:"json",items:Object(n.b)(F),groups:R,confirmItemControl:!0},N)}).then(function(Z){Z=Z.data;Z.results.every(function(ca){return ca.success})?K():V(Z)},V)}):u({items:F,groupIds:R,shareLevelOptions:N,restUrl:D,request:G})},b=function(E){return E.reduce(function(F,w){return Object(x.g)(Object(x.g)([],F),w)},[])},c=function(E){return 1<Object.keys(E).filter(function(F){return"total"!==F&&0<E[F]}).length},k=function(E){return Object.keys(E).filter(function(F){return"total"!==
F}).reduce(function(F,w){return E[w]===E.total?w:F})},r=function(E){return c(E)?{}:v[k(E)]},v=((z={})[f.b["public"]]={org:!1,everyone:!0},z[f.b.org]={org:!0,everyone:!1},z[f.b["private"]]={org:!1,everyone:!1},z[f.b.shared]={org:!1,everyone:!1},z),B="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),C=function(E){var F,w,D=E.typeKeywords,G=E.type;
G=B.some(function(M){return-1<D.indexOf(M)})&&"Real Time Analytic"!==G&&"Big Data Analytic"!==G;var H=!(null===(F=null==E?void 0:E.portal)||void 0===F?0:F.isPortal)&&"Image Service"===E.type&&-1<(null===(w=E.url)||void 0===w?void 0:w.indexOf("://iservices"))&&-1<E.url.indexOf("arcgis.com");E="Knowledge Graph"===E.type;return G||H||E},A=function(E,F,w){return w&&F["public"]===F.total?E.filter(function(D){return-1<D.typeKeywords.indexOf("DeveloperBasemap")}):[]}},623:function(f,g,l){l.d(g,"a",function(){return x});
var u;f=l(624);g=l(631);var q=l(632),z=l(630);l=l(26);var x=((u={})[l.a.SHARE]=f.a,u[l.a.LOADING]=z.a,u[l.a.GROUP_BROWSER]=g.a,u[l.a.DEPENDENT_ITEM_CONFIRMATION]=q.a,u)},624:function(f,g,l){var u=l(0),q=l(39);f=l(16);var z=l(320),x=l(625),n=l(139),h=l(422),e=l(26);l=function(d){function a(){return null!==d&&d.apply(this,arguments)||this}return Object(u.d)(a,d),a.prototype.render=function(b){var c=this.props,k=c.miniDialogOpen,r=c.onCancel,v=c.attemptToSaveShareState;return[b(z.a,{key:"share-dlg-header",
onCancel:r,title:q.share}),b("div",{key:"share-view-content","class":"share-dlg__contents"},b(x.a,{key:"share-dialog"}),b(h.a,{key:"share-mini-dlg"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"share-view-save",id:"share-modal-primary",disabled:k,onclick:function(){v()}},q.save),b("button",{"class":"share-dlg__button--secondary",key:"share-view-close",id:"share-modal-secondary",disabled:k,onclick:r},q.cancel))]},a}(f.Component);
g.a=Object(f.connect)(function(d){return{miniDialogOpen:d.resources.currentMiniDlg!==e.c.NONE,onCancel:d.utilities.onCancel}},function(d){return{attemptToSaveShareState:function(){d(n.d)}}})(l)},625:function(f,g,l){var u=l(0),q=l(39);f=l(16);var z=l(90),x=l(626),n=l(628),h=l(139);l=function(e){function d(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(d,e),d.prototype.render=function(a){var b=this.props,c=b.portal,k=b.resetShareLevel;b=b.selectedOptionsDirty;return a("div",{"class":"share-level__wrap",
key:"share-level__wrap"},a("div",{"class":"share-dlg__header",key:"share-dlg__header"},a("h3",{id:"share-options-title","class":"share-options__title"},q.ShareDialog.setSharingLevel),b&&a("button",{onclick:k,"class":"btn-svg share-options__reset share-dlg__btn-svg"},a("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},a("path",{d:z.g})),q.ShareOptions.revert)),a(x.a,{key:"share-options"}),a("hr",{"class":"share-dlg__divider"}),a(n.a,{key:"share-groups-section",
portal:c}))},d}(f.Component);g.a=Object(f.connect)(function(e){return{portal:e.utilities.portal,selectedOptionsDirty:e.resources.selectedOptionsDirty}},function(e){return{resetShareLevel:function(){e(h.e)}}})(l)},626:function(f,g,l){var u,q=l(0),z=l(39);f=l(16);var x=l(26),n=l(627),h=l(139),e=l(51),d=l(61);l=function(r){function v(){return null!==r&&r.apply(this,arguments)||this}return Object(q.d)(v,r),v.prototype.render=function(B){var C=this.props,A=C.handleOptionClick,E=C.selectedOptions,F=C.availableShareLevels,
w=C.showOptions,D=C.userType,G=C.possibleShareLevels,H=C.items;return B("fieldset",{"class":"share-options"},w&&G.map(function(M){var R=x.b[M];M=Object(d.f)(H[0])?z.ShareDialog.sharingLimitedItemDisclaimer:z.ShareDialog.cannotShareToLevelDisclaimer;return B(n.a,{key:R,level:R,handleLevelClick:function(){A(R)},disabledText:M,total:E.total,count:E[R],userType:D,disabled:-1===F.indexOf(R)})}),w&&F.length<G.length&&!Object(d.f)(H[0])&&B("p",{key:"share-options__disclaimer--limited","class":"share-options__disclaimer"},
z.ShareDialog.sharingLimitedDisclaimer),!w&&B("p",{key:"share-options__disclaimer--none","class":"share-options__disclaimer"},z.ShareDialog.noShareDisclaimer))},v}(f.Component);g.a=Object(f.connect)(function(r){var v=r.resources,B=v.portalUser,C=v.items;v=v.selectedOptions;var A=r.config,E=A.userType,F={user:B,items:C,userType:E};A=A.shareMode!==x.d.GROUP;r=c({portal:r.utilities.portal,portalUser:B,selectedOptions:v,userType:E});return{selectedOptions:v,showOptions:A,userType:E,availableShareLevels:r.filter(function(w){return k[w](F)}),
possibleShareLevels:r,items:C}},function(r){return{handleOptionClick:function(v){r(Object(h.f)(v))}}})(l);var a=function(r,v){return v.every(function(B){return B.owner===r.username})},b=function(r,v){return v.every(function(B){return B.owner===r.username||B.portal.id===(null==r?void 0:r.orgId)})},c=function(r){var v=r.portal,B=r.portalUser,C=r.selectedOptions;return r.userType===x.e.PUBLIC?[x.b["private"],x.b["public"]]:v.canSharePublic||0!==C["public"]||Object(e.i)(B)?[x.b["private"],x.b.org,x.b["public"]]:
[x.b["private"],x.b.org]},k=((u={})[x.b["private"]]=function(r){return!0},u[x.b.org]=function(r){var v=r.user,B=r.items;if(r.userType===x.e.PUBLIC)return!1;r=a(v,B);var C=b(v,B);B=Object(e.i)(v)&&!Object(e.j)(v)&&b(v,B);return Object(e.b)(v)&&(r||B)||Object(e.e)(v)&&C},u[x.b["public"]]=function(r){var v=r.user,B=r.items;r=r.userType;if(1===B.length&&Object(d.f)(B[0]))return!1;var C=a(v,B);B=b(v,B);var A=Object(e.i)(v)&&!Object(e.j)(v)&&B;return r===x.e.PUBLIC||Object(e.c)(v)&&(C||A)||Object(e.f)(v)&&
B},u)},627:function(f,g,l){var u,q,z=l(0),x=l(39);f=l(16);var n=l(90),h=l(26);l=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return Object(z.d)(c,b),c.prototype.render=function(k){var r=this.props,v=r.level,B=r.count,C=r.total,A=r.handleLevelClick,E=r.disabled,F=r.disabledText,w=a[v],D=w.description;w=w.title;r.userType===h.e.PUBLIC&&v===h.b["public"]&&(D=x.ShareDialog.everyoneDescriptionPublic);r=B===C;var G=0<B&&!r,H=e(x.ShareOptions[v],B,C);B=e(x.ShareOptions.numItems,
B,C);return k("label",{key:w,id:"share-level-"+v,classes:{"share-options__label":!0,"share-options__label--selected":r,"share-options__label--indeterminate":G,"share-options__label--disabled":E},"aria-label":E&&F?F:void 0},k("input",{type:"radio",name:"sharing-type",key:w,"class":"share-options__input",checked:r,disabled:E,indeterminate:G,onclick:function(M){M.preventDefault();E||A()}}),k("svg",{style:"\n              width: 24px;\n              height: 24px;\n              fill: currentColor;\n            ",
role:"img"},k("path",{d:d[v]})),k("span",{"class":"share-options__content"},k("h4",{"class":"share-options__header"},w,G&&k("span",{"class":"share-options__indeterminate-text","aria-label":E?void 0:H},k("svg",{style:"\n                      width: 1rem;\n                      height: 1rem;\n                      margin: 0 0.25rem;\n                      display: inline-block;\n                      vertical-align: -0.25rem;\n                      fill: #959595;\n                    "},k("path",{d:n.d})),
k("span",null,B))),k("p",{"class":"share-options__description"},D)))},c}(f.Component);g.a=l;var e=function(b,c,k){return void 0===b&&(b=""),b.replace("${num}",""+c).replace("${total}",""+k)},d=((u={})[h.b["public"]]=n.c,u[h.b.org]=n.e,u[h.b["private"]]=n.h,u[h.b.shared]=n.h,u),a=((q={})[h.b["private"]]={title:x.ShareDialog.owner,description:x.ShareDialog.ownerDescription},q[h.b.shared]={title:x.ShareDialog.owner,description:x.ShareDialog.ownerDescription},q[h.b.org]={title:x.ShareDialog.organization,
description:x.ShareDialog.organizationDescription},q[h.b["public"]]={title:x.ShareDialog.everyone,description:x.ShareDialog.everyoneDescription},q)},628:function(f,g,l){var u=l(0),q=l(39);f=l(16);var z=l(249),x=l(90),n=l(139),h=l(51),e=l(181),d=l(68);l=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Object(u.d)(b,a),b.prototype.render=function(c){var k=this.props,r=k.selectedGroupsDatas,v=k.portal,B=k.handleRemoveGroupsClick,C=k.handleRevertGroupsClick,A=k.handleEditGroupSharingClick,
E=k.groupSharingMixed,F=k.hasGroups,w=k.groupsDirty,D=k.canShareItemToGroup;k=k.selectorItemsLength;return c("div",{"class":"share-groups"},c("h3",{"class":"share-groups__header"},q.groups.setGroupSharing,D&&0<r.length&&!w&&c("button",{"class":"share-dlg__button--transparent btn-svg share-dlg__btn-svg",id:"share-groups__remove",onclick:B,"aria-haspopup":"true"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},c("path",{d:x.k})),q.groups.remove),w&&
c("button",{onclick:C,"class":"btn-svg share-options__reset share-dlg__btn-svg"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},c("path",{d:x.g})),q.ShareOptions.revert)),c("div",{"class":"share-groups__body"},0<r.length?this.getGroupIcons({needsWarning:E,groupDatas:r,portal:v,selectorItemsLength:k,tsx:c}):c("p",{"class":"share-groups__empty"},F?q.groups.noneYet:q.groups.noGroupsToShare),F&&D&&c("button",{onclick:A,id:"edit-group-sharing-button",
"class":"share-dlg__button--secondary btn-svg share-groups__edit share-dlg__btn-svg"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},c("path",{d:x.i})),q.groups.editGroupSharing)))},b.prototype.getGroupIcons=function(c){var k=c.groupDatas,r=c.portal,v=c.tsx,B=c.needsWarning,C=c.selectorItemsLength;c=Math.max(k.length-3,0);return v("div",null,v("div",{key:"group-thumbnails","class":"share-groups__thumbnails"},k.slice(0,3).map(function(A){return v(z.a,
{transparent:A.selectedByIds&&A.selectedByIds.length!==C,group:A.group,stacked:!0,portal:r})}),0<c&&v("span",{"class":"share-groups__plus"},"+"+c)),B&&v("p",{"class":"share-groups__empty"},q.groups.mixedGroupSharing))},b}(f.Component);g.a=Object(f.connect)(function(a){var b,c,k=a.utilities.portal,r=a.resources.portalUser,v=a.gbState.groups,B=v.selectedGroups,C=v.initialSelectedGroups;a=v.selectorItems;v=v.hasGroups;var A=Object.keys(B).map(function(w){return B[w]}).sort(function(w,D){return w.selectedByIds&&
D.selectedByIds?D.selectedByIds.length-w.selectedByIds.length:0}),E=A[A.length-1];E=(E&&E.selectedByIds&&E.selectedByIds.length||0)<(a&&a.length||0);k=!Object(h.k)(k)||Object(h.a)(r)||Object(h.d)(r)&&(b=r.username,c=r.orgId,Object.keys(B).every(function(w){w=B[w].group;var D=c&&c===(null==w?void 0:w.orgId);return b===(null==w?void 0:w.owner)||D}));r=Object.keys(B).length;var F=Object.keys(C);r=F.length!==r||F.reduce(function(w,D){return w||!B[D]||Object(e.a)({selectedBy:(B[D].selectedByIds||[]).map(function(G){return{id:G}}),
initialSelectedByIds:C[D].selectedByIds||[]})},!1);return{selectedGroupsDatas:A,groupSharingMixed:E,hasGroups:v,canShareItemToGroup:k,selectorItemsLength:a.length,groupsDirty:r}},function(a){return{handleRemoveGroupsClick:function(){a({type:d.a.CLEAR_SELECTION})},handleRevertGroupsClick:function(){a(n.c)},handleEditGroupSharingClick:function(){a(n.b)}}})(l)},629:function(f,g,l){var u=l(312);g.a=function(q,z){var x=q.render;return z("div",{"class":"mini-dlg__wrapper",key:"mini-dlg__wrapper"},z("div",
{classes:{"mini-dlg":!0,"min-dlg--error":!!q.isError}},z(u.a,{key:"mini-dlg-trap"},x())),z("div",{"class":"mini-dlg__scrim"}))}},63:function(f,g,l){function u(){for(var q=[],z=0;z<arguments.length;z++)q[z]=arguments[z];return function(x){return q.reduceRight(function(n,h){return h(n)},x)}}l.d(g,"a",function(){return u})},630:function(f,g,l){var u=l(0),q=l(39);f=l(16);var z=l(320),x=l(205),n=l.n(x),h=l(422);l=function(e){function d(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(d,
e),d.prototype.render=function(a){return[a(z.a,{key:"share-dlg-header-loading",onCancel:this.props.handleCancelClick,title:q.share}),a("div",{key:"loading-view-content","class":"share-dlg__contents share-loader__container"},a(n.a,{key:"share-loader",text:q.loading}),a(h.a,{key:"share-mini-dlg"})),a("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},a("button",{"class":"share-dlg__button--primary",key:"loading-view-save",id:"share-modal-primary",disabled:""},q.update),a("button",
{"class":"share-dlg__button--secondary",key:"loading-view-close",id:"share-modal-secondary",onclick:this.props.handleCancelClick},q.cancel))]},d}(f.Component);g.a=Object(f.connect)(function(e){return{handleCancelClick:e.utilities.onCancel}},function(e){return{}})(l)},631:function(f,g,l){var u=l(0),q=l(39);f=l(16);var z=l(139),x=l(258),n=l.n(x),h=l(320),e=l(26);l=function(d){function a(){return null!==d&&d.apply(this,arguments)||this}return Object(u.d)(a,d),a.prototype.render=function(b){return[b(h.a,
{key:"share-dlg-header-loading",onCancel:this.props.onCancel,onBack:this.props.closeGroupBrowser,back:!0,title:q.groupSharing}),b("div",{key:"group-browser-view-content-gb","class":"share-dlg__contents share-dlg__contents--wide"},b(n.a,{key:"share-group-browser"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"group-browser-view-save",id:"share-modal-primary",onclick:this.props.closeGroupBrowser},q.ok))]},a}(f.Component);
g.a=Object(f.connect)(function(d){return{onCancel:d.utilities.onCancel}},function(d){return{closeGroupBrowser:function(){d(Object(z.j)(e.a.SHARE))}}})(l)},632:function(f,g,l){var u=l(0),q=l(39);f=l(16);var z=l(320),x=l(633),n=l(139);l=function(h){function e(d){d=h.call(this,d)||this;return d.state={loading:!1},d}return Object(u.d)(e,h),e.prototype.render=function(d){var a=this,b=this.props,c=b.handlePrimaryClick,k=b.handleCancelClick;b=b.updatable;var r=this.state.loading;return[d(z.a,{key:"share-dlg-header-loading",
onCancel:k,title:q.DependentItems.updateSharing}),d("div",{key:"dependent-item-view-content","class":"share-dlg__contents"},d(x.a,{key:"dependent-items"})),d("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},d("button",{"class":"share-dlg__button--primary",key:"dependent-item-view-save",id:"share-modal-primary",loading:r,onclick:function(){a.setState({loading:!0});c()}},b?q.update:q.ok),b&&d("button",{"class":"share-dlg__button--secondary",key:"dependent-item-view-close",id:"share-modal-secondary",
onclick:k},q.cancel))]},e}(f.Component);g.a=Object(f.connect)(function(h){var e=h.utilities;h=h.resources;var d=h.dependentItems,a=d.needShareLevelUpdate,b=d.needGroupSharingUpdate,c=d.needEditableWarning,k=h.selectedOptions;return{updatable:0<Object(u.g)(Object(u.g)(Object(u.g)(Object(u.g)([],d.needBDFSDatastoreUpdate),a),b),c).length,handleCancelClick:function(){e.onComplete({selectedOptions:k})}}},function(h){return{handlePrimaryClick:function(){h(n.i)}}})(l)},633:function(f,g,l){var u=l(0),q=
l(39);f=l(16);var z=l(291),x=l(61);l=function(n){function h(){return null!==n&&n.apply(this,arguments)||this}return Object(u.d)(h,n),h.prototype.render=function(e){var d=this.props,a=d.dependentItems,b=a.needGroupSharingUpdate,c=a.notEditable,k=a.premium,r=a.needEditableWarning,v=a.needPubliclyEditableWarning,B=a.needDataCollectionEnabled,C=a.needGroupDependentApplicationWarning,A=a.needBDFSDatastoreUpdate,E=d.portal,F=d.items,w=d.helpMap;d=d.authenticatedItems;a=Object(u.g)(Object(u.g)([],a.needShareLevelUpdate),
b);var D=a.map(function(G){return G.id});a=a.filter(function(G,H){return D.indexOf(G.id)===H});b=1===F.length&&"Web Map"===F[0].type;F=q.DependentItems[b?"premiumItemsWebMap":"premiumItems"];w=w&&e("a",{href:""+E.helpBase+w[120001307]},q.DependentItems[b?"premiumTextMap":"premiumText"]);return e("div",{"class":"dependent-items-confirmation",key:"dependent-items-confirmation"},e(z.a,{key:"need-editable-warning-list",items:r,title:q.DependentItems.needEditableTitle,text:q.DependentItems.needEditableText,
portal:E,error:!0}),e(z.a,{key:"need-editable-warning-public-list",items:v,title:q.DependentItems.needPubliclyEditableTitle,text:q.DependentItems.needPubliclyEditableText,portal:E,error:!0}),e(z.a,{key:"authenticated-items-warning",items:d,title:q.DependentItems.authenticatedItemsTitle,text:q.DependentItems.authenticatedItemsText,portal:E,error:!0}),e(z.a,{key:"need-data-collection-endabled-list",items:B,title:q.DependentItems.needDataCollectionEnabledTitle,text:q.DependentItems.needDataCollectionEnabledText,
portal:E,error:!0}),e(z.a,{key:"group-dependent",items:C,title:q.DependentItems.groupDependentApplicationTitle,text:q.DependentItems.groupDependentApplicationText,portal:E,error:!0}),e(z.a,{key:"needs-update-list",items:a,title:q.DependentItems.updateItemsCount,text:q.DependentItems.confirmationDescription,portal:E}),e(z.a,{key:"premium-items-list",items:k,title:F,text:w,portal:E}),e(z.a,{key:"not-editable-list",items:c,title:q.DependentItems.uneditableItemsCount,portal:E}),e(z.a,{key:"bdfs-datastore-dependent",
items:A,title:q.DependentItems.updateItemsCount,text:q.DependentItems.needBDFSDatastoreUpdateText,portal:E,error:!0}))},h}(f.Component);g.a=Object(f.connect)(function(n){var h=n.resources,e=h.items,d=h.helpMap;n=n.utilities.portal;return{dependentItems:h.dependentItems,authenticatedItems:Object(x.c)(e,h.selectedOptions,h.selectedOptionsDirty),portal:n,helpMap:d,items:e}},function(){return{}})(l)},634:function(f,g,l){var u=l(0),q=l(39);f=l(16);var z=l(101);l=function(x){function n(){return null!==
x&&x.apply(this,arguments)||this}return Object(u.d)(n,x),n.prototype.render=function(h){var e=this.props,d=e.item;e=e.portal;var a=d.name||d.title,b=Object(z.a)(e)+"/home/item.html?id\x3d"+d.id;return h("li",{key:d.id,"class":"dependent-item"},h("h3",{"class":"dependent-item__title"},e?h("a",{href:b,target:"_blank",rel:"noreferrer"},a):h("span",null,a)),h("span",{"class":"dependent-item__details"},d.iconURI&&h("img",{"class":"dependent-item__icon",src:d.iconURI}),h("p",{"class":"dependent-item__description"},
q.DependentItems.itemDescription.replace("${type}",d.displayName||d.type).replace("${owner}",d.owner?d.owner:""))))},n}(f.Component);g.a=l},68:function(f,g,l){var u;l.d(g,"a",function(){return u});(function(q){q.LOADING_GROUPS="LOADING_GROUPS";q.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";q.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";q.SELECT_GROUPS="SELECT_GROUPS";q.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";q.DESELECT_GROUPS="DESELECT_GROUPS";q.REVERT_GROUPS="REVERT_GROUPS";q.CLEAR_SELECTION="CLEAR_SELECTION";
q.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";q.SET_HAS_GROUPS="SET_HAS_GROUPS"})(u||(u={}))},78:function(f,g,l){l.d(g,"a",function(){return e});l.d(g,"b",function(){return d});var u=l(63);f=l(5);var q=l(123),z=l(122),x=l(117),n=l(121),h=l(120),e=function(a,b,c){return Object(u.a)(Object(h.a)(a),Object(n.a)(a),Object(x.a)(b),Object(z.a)(a),Object(q.a)(a))(c)},d=Object(u.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},
83:function(f,g,l){var u;l.d(g,"a",function(){return u});(function(q){q.SET_SEARCH_STRING="SET_SEARCH_STRING";q.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";q.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";q.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";q.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";q.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";q.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";q.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";q.SET_USERS="SET_USERS";q.CLEAR_FILTERS=
"CLEAR_FILTERS"})(u||(u={}))},877:function(f,g,l){l.r(g);var u=l(0);f=l(16);var q=l(440);l.d(g,"reducers",function(){return q.b});l.d(g,"initialState",function(){return q.a});var z=l(623),x=l(294),n=l.n(x),h=l(26);l=function(e){function d(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(d,e),d.prototype.render=function(a){var b=this.props.currentView;return a("div",{key:"share-container","class":"share-dlg__container"},a(n.a,{key:"sharing-overlay",scrollable:!0,size:b===h.a.GROUP_BROWSER?
"large":"small"},a(z.a[b],{key:b})))},d}(f.Component);g["default"]=Object(f.connect)(function(e){return{currentView:e.config.currentView}},function(e){return{}})(l)},90:function(f,g,l){l.d(g,"a",function(){return u});l.d(g,"b",function(){return q});l.d(g,"c",function(){return z});l.d(g,"d",function(){return x});l.d(g,"e",function(){return n});l.d(g,"h",function(){return h});l.d(g,"i",function(){return e});l.d(g,"j",function(){return d});l.d(g,"k",function(){return a});l.d(g,"g",function(){return b});
l.d(g,"f",function(){return c});var u="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",q="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",z="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
x="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",n="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",h="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
e="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
d="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",a="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",b="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",c="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(f,g,l){function u(e,d){if(null==e?0:e.length)for(var a=void 0,b=0;b<e.length;b++)if(d(a=e[b]))return a}function q(e){return e.filter(function(d){return 0<d.length})}function z(e,d,a){var b=[];return d.forEach(function(c){(a?c[a].toLowerCase()===e.toLowerCase():c.toLowerCase()===e.toLowerCase())?b.unshift(c):b.push(c)}),b}l.d(g,"e",function(){return x});l.d(g,"f",function(){return n});l.d(g,"c",function(){return u});l.d(g,"b",function(){return q});l.d(g,"a",function(){return h});l.d(g,
"d",function(){return z});f=l(15);var x=function(e,d,a){return a.indexOf(e)===d},n=Object(f.a)(function(e,d){var a={};return d.filter(function(b){return!a[b[e]]&&(a[b[e]]=!0,!0)})}),h=function(e,d){return e.length===d.length&&e.reduce(function(a,b){return a&&-1<d.indexOf(b)},!0)}}})})},"arcgis-components/GroupBrowser/index":function(){define("../Component dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel ../Loaders/LoaderBars ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index dojo/string ../Buttons/IconButton ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Buttons/FilterChip/index ../GroupCards/GroupCheckCard/index ../GroupCards/MultiselectableGroupCard/index".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e){return function(d){function a(c){if(b[c])return b[c].exports;var k=b[c]={i:c,l:!1,exports:{}};return d[c].call(k.exports,k,k.exports,a),k.l=!0,k.exports}var b={};return a.m=d,a.c=b,a.d=function(c,k,r){a.o(c,k)||Object.defineProperty(c,k,{enumerable:!0,get:r})},a.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})},a.t=function(c,k){if((1&
k&&(c=a(c)),8&k)||4&k&&"object"==typeof c&&c&&c.__esModule)return c;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:c}),2&k&&"string"!=typeof c)for(var v in c)a.d(r,v,function(B){return c[B]}.bind(null,v));return r},a.n=function(c){var k=c&&c.__esModule?function(){return c["default"]}:function(){return c};return a.d(k,"a",k),k},a.o=function(c,k){return Object.prototype.hasOwnProperty.call(c,k)},a.p="",a(a.s=855)}({0:function(d,a,b){function c(F,w){function D(){this.constructor=
F}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");A(F,w);F.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}function k(F,w){var D={},G;for(G in F)Object.prototype.hasOwnProperty.call(F,G)&&0>w.indexOf(G)&&(D[G]=F[G]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(G=Object.getOwnPropertySymbols(F);H<G.length;H++)0>w.indexOf(G[H])&&Object.prototype.propertyIsEnumerable.call(F,G[H])&&
(D[G[H]]=F[G[H]])}return D}function r(F,w,D,G){var H,M=arguments.length,R=3>M?w:null===G?G=Object.getOwnPropertyDescriptor(w,D):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(F,w,D,G);else for(var N=F.length-1;0<=N;N--)(H=F[N])&&(R=(3>M?H(R):3<M?H(w,D,R):H(w,D))||R);return 3<M&&R&&Object.defineProperty(w,D,R),R}function v(F,w,D,G){return new (D||(D=Promise))(function(H,M){function R(V){try{K(G.next(V))}catch(Z){M(Z)}}function N(V){try{K(G["throw"](V))}catch(Z){M(Z)}}
function K(V){var Z;V.done?H(V.value):(Z=V.value,Z instanceof D?Z:new D(function(ca){ca(Z)})).then(R,N)}K((G=G.apply(F,w||[])).next())})}function B(F,w){function D(K){return function(V){return function(Z){if(G)throw new TypeError("Generator is already executing.");for(;N;)try{if(G=1,H&&(M=2&Z[0]?H["return"]:Z[0]?H["throw"]||((M=H["return"])&&M.call(H),0):H.next)&&!(M=M.call(H,Z[1])).done)return M;switch(H=0,M&&(Z=[2&Z[0],M.value]),Z[0]){case 0:case 1:M=Z;break;case 4:return N.label++,{value:Z[1],
done:!1};case 5:N.label++;H=Z[1];Z=[0];continue;case 7:Z=N.ops.pop();N.trys.pop();continue;default:if(!(M=N.trys,(M=0<M.length&&M[M.length-1])||6!==Z[0]&&2!==Z[0])){N=0;continue}if(3===Z[0]&&(!M||Z[1]>M[0]&&Z[1]<M[3]))N.label=Z[1];else if(6===Z[0]&&N.label<M[1])N.label=M[1],M=Z;else if(M&&N.label<M[2])N.label=M[2],N.ops.push(Z);else{M[2]&&N.ops.pop();N.trys.pop();continue}}Z=w.call(F,N)}catch(ca){Z=[6,ca],H=0}finally{G=M=0}if(5&Z[0])throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}([K,V])}}var G,
H,M,R,N={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return R={next:D(0),"throw":D(1),"return":D(2)},"function"==typeof Symbol&&(R[Symbol.iterator]=function(){return this}),R}function C(F,w){for(var D=0,G=w.length,H=F.length;D<G;D++,H++)F[H]=w[D];return F}b.d(a,"d",function(){return c});b.d(a,"a",function(){return E});b.d(a,"f",function(){return k});b.d(a,"c",function(){return r});b.d(a,"b",function(){return v});b.d(a,"e",function(){return B});b.d(a,"g",function(){return C});
var A=function(F,w){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var H in G)Object.prototype.hasOwnProperty.call(G,H)&&(D[H]=G[H])})(F,w)},E=function(){return(E=Object.assign||function(F){for(var w,D=1,G=arguments.length;D<G;D++)for(var H in w=arguments[D])Object.prototype.hasOwnProperty.call(w,H)&&(F[H]=w[H]);return F}).apply(this,arguments)};Object.create;Object.create},101:function(d,a,b){b.d(a,"a",function(){return k});b.d(a,"b",
function(){return r});var c=b(0),k=function(v){return v?v.urlKey?location.protocol+"//"+v.urlKey+"."+v.customBaseUrl:location.protocol+"//"+v.portalHostname:""},r=function(v){return Object(c.a)(Object(c.a)({},v),{baseUrl:k(v)})}},1019:function(d,a,b){b.d(a,"a",function(){return k});var c=b(204),k=function(){return{type:c.a.TOGGLE_SORT_DROPDOWN}}},128:function(d,a,b){b.d(a,"a",function(){return k});b.d(a,"b",function(){return r});var c=b(0);d=b(15);var k=function(v,B){var C;return B.thumbnail&&(C=
v.restUrl+"/community/groups/"+B.id+"/info/"+B.thumbnail+(v.credential?"?token\x3d"+v.credential.token:"")),C},r=Object(d.a)(function(v,B){return Object(c.a)(Object(c.a)({},B),{thumbURI:k(v,B)})})},137:function(d,a,b){b.d(a,"a",function(){return c});b.d(a,"d",function(){return v});b.d(a,"c",function(){return B});b.d(a,"e",function(){return C});b.d(a,"f",function(){return A});var c,k=b(0),r=b(25);!function(E){E.LOADING="loading";E.LOADED="loaded";E.FAILED="failed"}(c||(c={}));var v=function(E){var F=
E.selectedGroups,w=E.selectorItems;return 0===w.length?Object.keys(F).map(function(D){return F[D].group}):Object.keys(F).filter(function(D){return C(F[D],w)}).map(function(D){return F[D].group})},B=function(E){var F=E.initialSelectedGroups,w=E.selectedGroups,D=Object.keys(w).map(function(G){return w[G].group.id});return Object.keys(F).map(function(G){return F[G].group.id}).filter(function(G){return 0>D.indexOf(G)}).map(function(G){return F[G].group})},C=function(E,F){return!E.selectedByIds||E.selectedByIds.length===
F.length},A={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:c.LOADING,total:0,hasGroups:!0};a.b=function(E,F){switch(void 0===E&&(E=A),F.type){case r.a.DESELECT_GROUPS:return Object(k.a)(Object(k.a)({},E),{selectedGroups:F.payload.reduce(function(G,H){var M=H.id;G[M];return Object(k.f)(G,["symbol"==typeof M?M:M+""])},E.selectedGroups)});case r.a.REVERT_GROUPS:return F.payload?Object(k.a)(Object(k.a)({},E),{selectedGroups:F.payload.reduce(function(G,H){var M;if(E.initialSelectedGroups[H.id])return Object(k.a)(Object(k.a)({},
G),((M={})[H.id]=E.initialSelectedGroups[H.id],M));M=H.id;G[M];return Object(k.f)(G,["symbol"==typeof M?M:M+""])},E.selectedGroups)}):Object(k.a)(Object(k.a)({},E),{selectedGroups:Object(k.a)({},E.initialSelectedGroups)});case r.a.SELECT_GROUPS:var w=E.selectorItems.map(function(G){return G.id});return Object(k.a)(Object(k.a)({},E),{selectedGroups:F.payload.reduce(function(G,H){var M;return Object(k.a)(Object(k.a)({},G),((M={})[H.group.id]=Object(k.a)({selectedByIds:w},H),M))},E.selectedGroups)});
case r.a.SET_INITIAL_GROUPS:var D=F.payload.reduce(function(G,H){var M;return Object(k.a)(Object(k.a)({},G),((M={})[H.group.id]=H,M))},{});return Object(k.a)(Object(k.a)({},E),{selectedGroups:D,initialSelectedGroups:Object(k.a)({},D)});case r.a.SET_SELECTOR_ITEMS:return Object(k.a)(Object(k.a)({},E),{selectorItems:F.payload});case r.a.CLEAR_SELECTION:return Object(k.a)(Object(k.a)({},E),{selectedGroups:{}});case r.a.LOADING_GROUPS:return Object(k.a)(Object(k.a)({},E),{status:c.LOADING});case r.a.LOAD_GROUPS_SUCCESS:return Object(k.a)(Object(k.a)({},
E),{displayGroups:F.payload.results,total:F.payload.total,status:c.LOADED});case r.a.LOAD_GROUPS_FAIL:return Object(k.a)(Object(k.a)({},E),{displayGroups:[],status:c.FAILED});case r.a.SET_HAS_GROUPS:return Object(k.a)(Object(k.a)({},E),{hasGroups:F.payload});default:return E}}},144:function(d,a,b){b.d(a,"d",function(){return B});b.d(a,"e",function(){return C});b.d(a,"b",function(){return A});b.d(a,"c",function(){return E});b.d(a,"a",function(){return F});b.d(a,"f",function(){return w});var c=b(0),
k=b(181),r=b(163),v=b(68),B=function(D){return 1<D.length&&Object(r.a)(),{type:v.a.SELECT_GROUPS,payload:D.map(function(G){return{group:Object(k.c)(G)}})}},C=function(D){return{type:v.a.SET_INITIAL_GROUPS,payload:D.map(function(G){return Object(c.a)(Object(c.a)({},G),{group:Object(k.c)(G.group)})})}},A=function(D){return 1<D.length&&Object(r.b)(),{type:v.a.DESELECT_GROUPS,payload:D}},E=function(D){return{type:v.a.REVERT_GROUPS,payload:D}},F=function(){return Object(r.c)(),{type:v.a.CLEAR_SELECTION}},
w=function(D){return{type:v.a.SET_SELECTOR_ITEMS,payload:D}}},148:function(d,a,b){b.d(a,"a",function(){return k});var c=b(0);d=b(15);var k=Object(d.a)(function(r,v){var B=Object(c.a),C=Object(c.a)({},v);var A=v.thumbnail?r.restUrl+"/community/users/"+v.username+"/info/"+v.thumbnail+(r.credential?"?token\x3d"+r.credential.token:""):void 0;return B(C,{thumbURI:A})})},15:function(d,a,b){function c(r){return function B(){for(var C=this,A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];return A.length>=
r.length?r.call.apply(r,Object(k.g)([this],A)):function(){for(var F=[],w=0;w<arguments.length;w++)F[w]=arguments[w];return B.call.apply(B,Object(k.g)(Object(k.g)([C],A),F))}}}b.d(a,"a",function(){return c});var k=b(0)},150:function(d,a){d.exports=p},159:function(d,a,b){b.d(a,"b",function(){return D});b.d(a,"a",function(){return H});var c=b(0),k=b(181),r=b(30),v=b(163),B=b(54),C=b(68),A=b(28),E=b(61),F=b(38),w=b(26),D=function(ea,ka){G(ka()).then(function(la){var ta=ka();ta=Object(B.b)(ta)?ta:ta.gbState;
var za=ta.utils;ta.ui.focus.focusSelectAll&&Object(v.c)();ea({type:C.a.LOAD_GROUPS_SUCCESS,payload:Object(c.a)(Object(c.a)({},la),{results:la.results.map(function(ia){return Object(k.b)(za.portal,ia)})})})})["catch"](function(la){var ta=ka();(Object(B.b)(ta)?ta:ta.gbState).ui.focus.focusSelectAll&&Object(v.c)();ea({type:C.a.LOAD_GROUPS_FAIL,payload:la})})},G=function(ea){ea=Object(B.b)(ea)?ea:ea.gbState;var ka=ea.utils,la=ka.request,ta=ka.portal,za=ea.config;ka=za.groupsPerPage;var ia=za.withinShare,
U=(za.withinAppConfig,ea.parameters);za=U.filter;U=U.sort;var ja=ea.ui.page.currentPageNumber,S={q:ca(ea),num:ka,sortField:U.field,sortOrder:U.order,start:(ja-1)*ka+1};return ia&&(S.searchUserAccess="groupMember",S.searchUserName=za.currentUsername),za.designationFilter!==F.b.orgSettings||N(ta)?new A.Promise(function(O,I){Object(r.g)(la,ta,S).then(O,I)}):new A.Promise(function(O){O({query:S.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},H=function(ea){var ka=ea.user;ea=ea.state;ea=Object(B.b)(ea)?
ea:ea.gbState;var la=ea.utils,ta=la.request,za=la.portal;ea=Object(c.a)(Object(c.a)({},ea),{parameters:Object(c.a)(Object(c.a)({},ea.parameters),{filter:Object(c.a)(Object(c.a)({},ea.parameters.filter),{currentUsername:ka.username})})});var ia={q:ca(ea),num:100,searchUserAccess:"groupMember",searchUserName:ka.username};return(new A.Promise(function(U,ja){return Object(r.g)(ta,za,ia).then(function(S){if(-1!==S.nextStart){var O=Math.ceil(S.total/100)-1,I=[S.results];S=function(W){I.push(new A.Promise(function(aa,
P){var L=100*(W+1)+1;Object(r.g)(ta,za,Object(c.a)(Object(c.a)({},ia),{start:L})).then(function(Q){aa(Q.results)},P)}))};for(var ba=0;ba<O;ba++)S(ba);A.Promise.all(I).then(function(W){U(Object(E.b)(W))})}else U(S.results)},ja)}))["catch"](function(U){throw U;})},M=function(ea){var ka,la=ea.shareMode,ta=ea.currentUsername,za=ea.portalUser;ea=ea.userGroups;var ia=[];switch(ea&&ea.forEach(function(U){var ja,S=null===(ja=U.userMembership)||void 0===ja?void 0:ja.memberType;!U.isViewOnly||"owner"!==S&&
"admin"!==S||ia.push(U.id)}),ia.length&&(ka="(isviewonly:false OR "+ia.join(" OR ")+")"),la){case w.d.DEFAULT:return ka||"(owner:"+ta+" OR isviewonly:false)";case w.d.GROUP:return"owner:"+ta+" -capabilities:updateitemcontrol";case w.d.ADMIN:return za.username===ta?"(isviewonly:false OR owner:"+za.username+") -capabilities:updateitemcontrol":"(owner:"+ta+" OR isviewonly:false)";default:return""}},R=function(ea,ka){0!==(null==ea?void 0:ea.indexOf("id:"))||-1<ka.indexOf(ea)||ka.push(ea)},N=function(ea){var ka,
la,ta,za,ia,U=[],ja=[ea.featuredItemsGroupQuery,ea.basemapGalleryGroupQuery,ea.templatesGroupQuery,ea["2DStylesGroupQuery"],ea.stylesGroupQuery,ea.analysisLayersGroupQuery,ea.galleryTemplatesGroupQuery];if(ea.hasModernHomePageEnabled){var S=(null===(la=null===(ka=ea.homePageConfig)||void 0===ka?void 0:ka.content)||void 0===la?void 0:la.filter(function(O){return"gallery"===O.type&&!!O.groupId}))||[];0<S.length&&S.forEach(function(O){R("id:"+O.groupId,U)})}else ja.push(ea.homePageFeaturedContent);return ja.forEach(function(O){R(O,
U)}),null===(ta=ea.featuredGroups)||void 0===ta||ta.forEach(function(O){(O=O.id)&&R("id:"+O,U)}),null===(ia=null===(za=ea.userDefaults)||void 0===za?void 0:za.groups)||void 0===ia||ia.forEach(function(O){R("id:"+O,U)}),0<U.length?"("+U.join(" OR ")+")":""},K=function(ea){var ka=ea.portal;switch(ea.designationFilter){case F.b.openData:return"isopendata:true";case F.b.updateGroups:return"capabilities:updateitemcontrol";case F.b.distributed:return"capabilities:distributed";case F.b.administrative:return"isleavingdisallowed:true";
case F.b.orgSettings:return N(ka)||"";default:return""}},V=function(ea){var ka=ea.portal,la=ea.username,ta=ea.currentUsername,za=ea.userType,ia=ea.withinAppConfig;la=ea.shareMode===w.d.ADMIN&&ta||la;ia=ka.isPortal&&ia?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(ea.ownerFilter){case F.d.itemOwner:return"owner:"+la+" "+ia;case F.d.inOrg:return"-owner:"+la+" orgid:"+ka.id+" "+ia;case F.d.outsideOrg:return za===w.e.PUBLIC?"-owner:"+la+" "+ia:"(orgid: [0 TO \\{]) -orgid:"+
ka.id+" "+ia;default:return ia}},Z=function(ea){return ea?"created: ["+(ka=ea).start+" TO "+ka.end+"]":"";var ka},ca=function(ea){var ka=ea.utils,la=ka.portal;ka=ka.portalUser;var ta=ea.config,za=ta.shareMode,ia=ta.userType,U=ta.withinAppConfig,ja=ta.hasIndoorsSpaces;ea=ea.parameters.filter;var S=ea.designationFilter,O=ea.membershipFilter,I=ea.dateCreatedFilter,ba=ea.currentUsername,W=ea.ownerFilter;return[ta.baseQ+" "+ea.searchString,M({shareMode:za,currentUsername:ba,portalUser:ka,userGroups:ta.userGroups}),
ja?"-capabilities:distributed":K({designationFilter:S,portal:la}),ja?"membershipaccess:org":O?"anyOrg"===O?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+O:"",Z(I),V({ownerFilter:W,portal:la,username:ka.username,currentUsername:ba,shareMode:za,userType:ia,withinAppConfig:U})].filter(function(aa){return aa}).join(" ").trim()}},16:function(d,a){d.exports=T},163:function(d,a,b){function c(){v("gb__select-all-input")}function k(){v("gb__clear-selection-btn")}function r(){setTimeout(function(){var B=
document.querySelector(".gcard-gcc__container");B&&(B=B.querySelector(".btn-2018check__input"))&&B.focus()},50)}function v(B){setTimeout(function(){var C=document.querySelector("#"+B);C&&C.focus()},50)}b.d(a,"c",function(){return c});b.d(a,"a",function(){return k});b.d(a,"b",function(){return r})},170:function(d,a){var b=function(){return this}();try{b=b||(new Function("return this"))()}catch(c){"object"==typeof window&&(b=window)}d.exports=b},175:function(d,a,b){var c;b.d(a,"a",function(){return c});
(c||(c={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},181:function(d,a,b){b.d(a,"b",function(){return v});b.d(a,"c",function(){return B});b.d(a,"a",function(){return C});var c=b(63);d=b(5);var k=b(99),r=b(128),v=function(A,E){return Object(c.a)(Object(r.b)(A))(E)},B=Object(c.a)(Object(d.e)("thumbURI")),C=function(A){var E=A.initialSelectedByIds;return!Object(k.a)(A.selectedBy.map(function(F){return F.id}),E)}},186:function(d,a,b){b.d(a,"b",function(){return k});b.d(a,"g",function(){return r});b.d(a,
"h",function(){return v});b.d(a,"e",function(){return B});b.d(a,"f",function(){return C});b.d(a,"d",function(){return A});b.d(a,"c",function(){return E});b.d(a,"a",function(){return F});var c=b(83),k=function(w){return{type:c.a.SET_SEARCH_STRING,payload:w}},r=function(w){return{type:c.a.UPDATE_OWNER_FILTER,payload:w}},v=function(w){return{type:c.a.UPDATE_USERNAME_FILTER,payload:w}},B=function(w){return{type:c.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:w}},C=function(w){return{type:c.a.UPDATE_MEMBERSHIP_FILTER,
payload:w}},A=function(w){return{type:c.a.UPDATE_CREATED_ON_FILTER,payload:{section:w.section,created:w.created}}},E=function(w){return{type:c.a.SET_USERS,payload:w}},F=function(w){return{type:c.a.CLEAR_FILTERS,payload:w}}},189:function(d,a){function b(){throw Error("setTimeout has not been defined");}function c(){throw Error("clearTimeout has not been defined");}function k(M){if(E===setTimeout)return setTimeout(M,0);if((E===b||!E)&&setTimeout)return E=setTimeout,setTimeout(M,0);try{return E(M,0)}catch(R){try{return E.call(null,
M,0)}catch(N){return E.call(this,M,0)}}}function r(){G&&w&&(G=!1,w.length?D=w.concat(D):H=-1,D.length&&v())}function v(){if(!G){var M=k(r);G=!0;for(var R=D.length;R;){w=D;for(D=[];++H<R;)w&&w[H].run();H=-1;R=D.length}w=null;G=!1;(function(N){if(F===clearTimeout)return clearTimeout(N);if((F===c||!F)&&clearTimeout)return F=clearTimeout,clearTimeout(N);try{F(N)}catch(K){try{return F.call(null,N)}catch(V){return F.call(this,N)}}})(M)}}function B(M,R){this.fun=M;this.array=R}function C(){}var A=d.exports=
{};try{var E="function"==typeof setTimeout?setTimeout:b}catch(M){E=b}try{var F="function"==typeof clearTimeout?clearTimeout:c}catch(M){F=c}!0;var w,D=[],G=!1,H=-1;A.nextTick=function(M){var R=Array(arguments.length-1);if(1<arguments.length)for(var N=1;N<arguments.length;N++)R[N-1]=arguments[N];D.push(new B(M,R));1!==D.length||G||k(v)};B.prototype.run=function(){this.fun.apply(null,this.array)};A.title="browser";A.browser=!0;A.env={};A.argv=[];A.version="";A.versions={};A.on=C;A.addListener=C;A.once=
C;A.off=C;A.removeListener=C;A.removeAllListeners=C;A.emit=C;A.prependListener=C;A.prependOnceListener=C;A.listeners=function(M){return[]};A.binding=function(M){throw Error("process.binding is not supported");};A.cwd=function(){return"/"};A.chdir=function(M){throw Error("process.chdir is not supported");};A.umask=function(){return 0}},192:function(d,a,b){var c;b.d(a,"a",function(){return c});(c||(c={})).USER_DETAILS_LOADED="USER_LOADED"},204:function(d,a,b){var c;b.d(a,"a",function(){return c});(function(k){k.SET_PAGE=
"SET_PAGE";k.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";k.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(c||(c={}))},205:function(d,a){d.exports=y},207:function(d,a,b){b.d(a,"b",function(){return r});var c=b(0),k=b(25),r={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};a.a=function(v,B){switch(void 0===v&&(v=r),B.type){case k.a.ENABLE_USER_TOGGLE:return Object(c.a)(Object(c.a)({},v),{enableUserToggle:!0});
case k.a.SET_SHARE_MODE:return Object(c.a)(Object(c.a)({},v),{shareMode:B.payload});case k.a.SET_USER_TYPE:return Object(c.a)(Object(c.a)({},v),{userType:B.payload});case k.a.TRUSTED_ORGS_LOADED:return Object(c.a)(Object(c.a)({},v),{hasTrustedOrgs:0<B.payload.length});case k.a.USER_DETAILS_LOADED:return Object(c.a)(Object(c.a)({},v),{userGroups:B.payload});case k.a.SET_SELECTOR_ITEMS:var C=!!B.payload.find(function(A){var E;return-1<(null===(E=null==A?void 0:A.typeKeywords)||void 0===E?void 0:E.indexOf("EditExtensionIndoorsSpaces"))});
return Object(c.a)(Object(c.a)({},v),{hasIndoorsSpaces:C});default:return v}}},208:function(d,a,b){b.d(a,"b",function(){return k});d=b(16);var c=b(209);b=b(38);var k={sort:c.b,filter:b.f};a.a=Object(d.combineReducers)({sort:c.a,filter:b.e})},209:function(d,a,b){b.d(a,"b",function(){return r});var c=b(0),k=b(25),r={field:"title",order:"asc"},v={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};a.a=function(B,C){switch(void 0===B&&(B=r),C.type){case k.a.CHANGE_SORT_FIELD:return Object(c.a)(Object(c.a)({},
B),{field:C.payload,order:v[C.payload]});case k.a.CHANGE_SORT_ORDER:return Object(c.a)(Object(c.a)({},B),{order:C.payload});default:return B}}},210:function(d,a,b){b.d(a,"b",function(){return v});d=b(16);var c=b(211),k=b(212),r=b(213);b=b(214);var v={page:c.b,sort:k.b,focus:r.b,filter:b.b};a.a=Object(d.combineReducers)({page:c.a,sort:k.a,focus:r.a,filter:b.a})},211:function(d,a,b){b.d(a,"b",function(){return r});var c=b(0),k=b(25),r={currentPageNumber:1};a.a=function(v,B){switch(void 0===v&&(v=r),
B.type){case k.a.CLEAR_FILTERS:case k.a.UPDATE_USERNAME_FILTER:case k.a.UPDATE_OWNER_FILTER:case k.a.UPDATE_CREATED_ON_FILTER:case k.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(c.a)(Object(c.a)({},v),{currentPageNumber:1});case k.a.SET_PAGE:return Object(c.a)(Object(c.a)({},v),{currentPageNumber:B.payload});case k.a.LOAD_GROUPS_SUCCESS:return Object(c.a)(Object(c.a)({},v),{currentPageNumber:B.payload.num>B.payload.total?1:Math.ceil(B.payload.start/B.payload.num)});case k.a.LOAD_GROUPS_FAIL:return Object(c.a)(Object(c.a)({},
v),{currentPageNumber:1});default:return v}}},212:function(d,a,b){b.d(a,"b",function(){return k});var c=b(25),k=!1;a.a=function(r,v){switch(void 0===r&&(r=k),v.type){case c.a.CHANGE_SORT_FIELD:case c.a.CHANGE_SORT_ORDER:case c.a.TOGGLE_SORT_DROPDOWN:return!r;default:return r}}},213:function(d,a,b){b.d(a,"b",function(){return r});var c=b(0),k=b(25),r={focusSelectAll:!1};a.a=function(v,B){switch(B.type){case k.a.LOAD_GROUPS_FAIL:case k.a.LOAD_GROUPS_SUCCESS:return Object(c.a)(Object(c.a)({},v),{focusSelectAll:!1});
case k.a.CHANGE_SORT_FIELD:case k.a.CHANGE_SORT_ORDER:return Object(c.a)(Object(c.a)({},v),{focusSelectAll:!0});default:return v}}},214:function(d,a,b){b.d(a,"b",function(){return v});var c=b(0),k=b(25),r=b(38),v={expanded:!1};a.a=function(B,C){switch(C.type){case k.a.CLEAR_FILTERS:switch(C.payload){case void 0:case r.a.DATE_CREATED:return Object(c.a)(Object(c.a)({},B),{dateCreatedSelectedSection:void 0});default:return B}case k.a.TOGGLE_EXPANDED_FILTERS:return Object(c.a)(Object(c.a)({},B),{expanded:!B.expanded});
case k.a.UPDATE_CREATED_ON_FILTER:return Object(c.a)(Object(c.a)({},B),{dateCreatedSelectedSection:C.payload.section});default:return B}}},215:function(d,a,b){b.d(a,"b",function(){return k});var c=b(101),k={portal:{},portalUser:{},request:function(r){return null}};a.a=function(r,v){return void 0===r&&(r=k),v.type,r.portal.portalHostname&&!r.portal.baseUrl&&(r.portal.baseUrl=Object(c.a)(r.portal)),r}},216:function(d,a){d.exports=t},226:function(d,a,b){b.d(a,"c",function(){return c});b.d(a,"d",function(){return k});
b.d(a,"e",function(){return r});b.d(a,"b",function(){return v});b.d(a,"f",function(){return B});b.d(a,"g",function(){return C});b.d(a,"a",function(){return A});b.d(a,"h",function(){return E});b.d(a,"i",function(){return F});b.d(a,"j",function(){return w});var c="MAXIMIZE_DLG",k="MINIMIZE_DLG",r="TOGGLE_EXPANDED_FILTERS",v="CLOSE_FULLSCREEN_BROWSER",B="TOGGLE_EXPANDED_SORT",C="UPDATE_SUBLAYER_CARD_STATE",A="CLOSE_EXPANDED_SORT",E=function(){return{type:A}},F=function(){return{type:r}},w=function(){return{type:B}}},
249:function(d,a,b){var c=b(128);a.a=function(k,r){var v=k.group,B=k.stacked,C=k.portal;B={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!v.thumbURI,"gcard-thumbnail--stacked":void 0!==B&&B,"gcard-thumbnail--transparent":k.transparent};if(v.thumbnail&&!v.thumbURI&&C&&(v.thumbURI=Object(c.a)(C,v)),v.thumbURI)return r("img",{src:v.thumbURI,classes:B,alt:v.title});C=!(!v.title.charAt(0)||!v.title.charAt(0).match(/^\w+$/));return r("div",{key:"group-thumbnail-"+v.id,classes:B},r("svg",
{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},r("path",{fill:"#"+v.id.substr(v.id.length-6),d:"M0 0h65v65H0z"}),r("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),C?r("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},v.title.slice(0,1).toUpperCase()):r("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(d,a,b){b.d(a,"a",function(){return B});var c;d=b(0);a=b(204);var k=b(68),r=b(175),v=b(83);b=b(192);!function(C){C.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";C.SET_SHARE_MODE="SET_SHARE_MODE";C.SET_USER_TYPE="SET_USER_TYPE"}(c||(c={}));var B=Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},a.a),k.a),v.a),c),r.a),b.a)},254:function(d,a){d.exports=m},255:function(d,a){d.exports=f},26:function(d,a,b){var c,k,r,v,B;b.d(a,"b",function(){return c});b.d(a,"a",function(){return k});
b.d(a,"c",function(){return r});b.d(a,"e",function(){return v});b.d(a,"d",function(){return B});(function(C){C.org="org";C["private"]="private";C["public"]="public";C.shared="shared"})(c||(c={}));(function(C){C.LOADING="LOADING";C.SHARE="SHARE";C.GROUP_BROWSER="GROUP_BROWSER";C.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(k||(k={}));(function(C){C.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";C.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";C.REVERT_GROUPS="REVERT_GROUPS";C.EDITABLE_LAYERS=
"EDITABLE_LAYERS";C.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";C.NONE="NONE";C.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";C.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(r||(r={}));(function(C){C.ORG="ORG";C.PUBLIC="PUBLIC"})(v||(v={}));(function(C){C.DEFAULT="DEFAULT";C.ADMIN="ADMIN";C.GROUP="GROUP"})(B||(B={}))},28:function(d,a,b){(function(c,k){d.exports=function(){function r(){var L=setTimeout;return function(){return L(v,1)}}function v(){for(var L=0;L<
V;L+=2)(0,ia[L])(ia[L+1]),ia[L]=void 0,ia[L+1]=void 0;V=0}function B(L,Q){var X=this,Y=new this.constructor(A);void 0===Y[ba]&&N(Y);var da=X._state;if(da){var ha=arguments[da-1];ea(function(){return R(da,Y,ha,X._result)})}else H(X,Y,L,Q);return Y}function C(L){if(L&&"object"==typeof L&&L.constructor===this)return L;var Q=new this(A);return F(Q,L),Q}function A(){}function E(L,Q,X){Q.constructor===L.constructor&&X===B&&Q.constructor.resolve===C?function(Y,da){1===da._state?D(Y,da._result):2===da._state?
G(Y,da._result):H(da,void 0,function(ha){return F(Y,ha)},function(ha){return G(Y,ha)})}(L,Q):void 0===X?D(L,Q):"function"==typeof X?function(Y,da,ha){ea(function(ma){var na=!1,sa=function(wa,ya,Aa,Ba){try{wa.call(ya,Aa,Ba)}catch(Oa){return Oa}}(ha,da,function(wa){na||(na=!0,da!==wa?F(ma,wa):D(ma,wa))},function(wa){na||(na=!0,G(ma,wa))},ma._label);!na&&sa&&(na=!0,G(ma,sa))},Y)}(L,Q,X):D(L,Q)}function F(L,Q){if(L===Q)G(L,new TypeError("You cannot resolve a promise with itself"));else if(Y=typeof(X=
Q),null===X||"object"!==Y&&"function"!==Y)D(L,Q);else{X=void 0;try{X=Q.then}catch(da){return void G(L,da)}E(L,Q,X)}var X,Y}function w(L){L._onerror&&L._onerror(L._result);M(L)}function D(L,Q){void 0===L._state&&(L._result=Q,L._state=1,0!==L._subscribers.length&&ea(M,L))}function G(L,Q){void 0===L._state&&(L._state=2,L._result=Q,ea(w,L))}function H(L,Q,X,Y){var da=L._subscribers,ha=da.length;L._onerror=null;da[ha]=Q;da[ha+1]=X;da[ha+2]=Y;0===ha&&L._state&&ea(M,L)}function M(L){var Q=L._subscribers,
X=L._state;if(0!==Q.length){for(var Y=void 0,da=void 0,ha=L._result,ma=0;ma<Q.length;ma+=3)Y=Q[ma],da=Q[ma+X],Y?R(X,Y,da,ha):da(ha);L._subscribers.length=0}}function R(L,Q,X,Y){var da="function"==typeof X,ha=void 0,ma=void 0,na=!0;if(da){try{ha=X(Y)}catch(sa){na=!1,ma=sa}if(Q===ha)return void G(Q,new TypeError("A promises callback cannot return that same promise."))}else ha=Y;void 0!==Q._state||(da&&na?F(Q,ha):!1===na?G(Q,ma):1===L?D(Q,ha):2===L&&G(Q,ha))}function N(L){L[ba]=W++;L._state=void 0;L._result=
void 0;L._subscribers=[]}var K=Array.isArray?Array.isArray:function(L){return"[object Array]"===Object.prototype.toString.call(L)},V=0,Z=void 0,ca=void 0,ea=function(L,Q){ia[V]=L;ia[V+1]=Q;2===(V+=2)&&(ca?ca(v):I())},ka="undefined"!=typeof window?window:void 0,la=ka||{};la=la.MutationObserver||la.WebKitMutationObserver;var ta="undefined"==typeof self&&void 0!==c&&"[object process]"==={}.toString.call(c),za="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,
ia=Array(1E3),U,ja,S,O,I=void 0;ta?I=function(){return c.nextTick(v)}:la?(ja=0,S=new la(v),O=document.createTextNode(""),S.observe(O,{characterData:!0}),I=function(){O.data=ja=++ja%2}):za?((U=new MessageChannel).port1.onmessage=v,I=function(){return U.port2.postMessage(0)}):I=void 0===ka?function(){try{var L=Function("return this")().require("vertx");return void 0!==(Z=L.runOnLoop||L.runOnContext)?function(){Z(v)}:r()}catch(Q){return r()}}():r();var ba=Math.random().toString(36).substring(2),W=0,
aa=function(){function L(Q,X){this._instanceConstructor=Q;this.promise=new Q(A);this.promise[ba]||N(this.promise);K(X)?(this.length=X.length,this._remaining=X.length,this._result=Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(X),0===this._remaining&&D(this.promise,this._result))):G(this.promise,Error("Array Methods must be provided an Array"))}return L.prototype._enumerate=function(Q){for(var X=0;void 0===this._state&&X<Q.length;X++)this._eachEntry(Q[X],
X)},L.prototype._eachEntry=function(Q,X){var Y=this._instanceConstructor,da=Y.resolve;if(da===C){var ha=da=void 0,ma=!1;try{da=Q.then}catch(na){ma=!0,ha=na}da===B&&void 0!==Q._state?this._settledAt(Q._state,X,Q._result):"function"!=typeof da?(this._remaining--,this._result[X]=Q):Y===P?(Y=new Y(A),ma?G(Y,ha):E(Y,Q,da),this._willSettleAt(Y,X)):this._willSettleAt(new Y(function(na){return na(Q)}),X)}else this._willSettleAt(da(Q),X)},L.prototype._settledAt=function(Q,X,Y){var da=this.promise;void 0===
da._state&&(this._remaining--,2===Q?G(da,Y):this._result[X]=Y);0===this._remaining&&D(da,this._result)},L.prototype._willSettleAt=function(Q,X){var Y=this;H(Q,void 0,function(da){return Y._settledAt(1,X,da)},function(da){return Y._settledAt(2,X,da)})},L}(),P=function(){function L(Q){this[ba]=W++;this._result=this._state=void 0;this._subscribers=[];if(A!==Q){if("function"!=typeof Q)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof
L)(function(X,Y){try{Y(function(da){F(X,da)},function(da){G(X,da)})}catch(da){G(X,da)}})(this,Q);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return L.prototype["catch"]=function(Q){return this.then(null,Q)},L.prototype["finally"]=function(Q){var X=this.constructor;return"function"==typeof Q?this.then(function(Y){return X.resolve(Q()).then(function(){return Y})},function(Y){return X.resolve(Q()).then(function(){throw Y;
})}):this.then(Q,Q)},L}();return P.prototype.then=B,P.all=function(L){return(new aa(this,L)).promise},P.race=function(L){var Q=this;return K(L)?new Q(function(X,Y){for(var da=L.length,ha=0;ha<da;ha++)Q.resolve(L[ha]).then(X,Y)}):new Q(function(X,Y){return Y(new TypeError("You must pass an array to race."))})},P.resolve=C,P.reject=function(L){var Q=new this(A);return G(Q,L),Q},P._setScheduler=function(L){ca=L},P._setAsap=function(L){ea=L},P._asap=ea,P.polyfill=function(){var L=void 0;if(void 0!==k)L=
k;else if("undefined"!=typeof self)L=self;else try{L=Function("return this")()}catch(Y){throw Error("polyfill failed because global object is unavailable in this environment");}var Q=L.Promise;if(Q){var X=null;try{X=Object.prototype.toString.call(Q.resolve())}catch(Y){}if("[object Promise]"===X&&!Q.cast)return}L.Promise=P},P.Promise=P,P}()}).call(this,b(189),b(170))},284:function(d,a){d.exports=g},285:function(d,a){d.exports=l},30:function(d,a,b){function c(ia){return ia.reduce(function(U,ja){return ja&&
ja.relatedItems?U.concat(ja.relatedItems.map(function(S){return S})):U},[])}function k(ia,U,ja){return ia(U,{query:Object(B.a)({f:"json"},ja)}).then(function(S){return S.data})}function r(ia,U){void 0===U&&(U=100);for(var ja=[],S=0;S<Math.ceil(ia.length/U);S++)ja.push(ia.slice(S*U,(S+1)*U));return ja.filter(function(O){return 0<O.length})}function v(ia){var U=ia.itemIds,ja=ia.request,S=ia.groupIds,O=ia.portal.restUrl+"/content/itemsgroups";return new C.Promise(function(I,ba){ja(O,{method:"get",query:{f:"json",
items:U,groups:S}}).then(function(W){I(W.data)},ba)})}b.d(a,"u",function(){return A});b.d(a,"n",function(){return E});b.d(a,"h",function(){return F});b.d(a,"e",function(){return w});b.d(a,"f",function(){return D});b.d(a,"j",function(){return G});b.d(a,"o",function(){return H});b.d(a,"l",function(){return M});b.d(a,"k",function(){return R});b.d(a,"m",function(){return N});b.d(a,"c",function(){return K});b.d(a,"d",function(){return V});b.d(a,"r",function(){return Z});b.d(a,"s",function(){return ca});
b.d(a,"t",function(){return ea});b.d(a,"g",function(){return ka});b.d(a,"p",function(){return la});b.d(a,"q",function(){return ta});b.d(a,"v",function(){return k});b.d(a,"a",function(){return r});b.d(a,"i",function(){return v});b.d(a,"b",function(){return za});var B=b(0),C=b(28),A=function(ia){return function(U,ja){return ia({url:U,content:ja.query},{usePost:"post"===ja.method}).then(function(S){return{data:S}})}},E=function(ia,U,ja){return k(ia,U.restUrl+"/portals/self",{culture:ja,"default":!0})},
F=function(ia,U,ja){return k(ia,U.restUrl+"/content/items/"+ja+"/data")},w=function(ia,U,ja,S){return k(ia,U.restUrl+"/community/groups",Object(B.a)({q:ja},S))},D=function(ia,U,ja){return k(ia,U.restUrl+"/community/groups/"+ja+"/categorySchema")},G=function(ia,U,ja){return k(ia,U.restUrl+"/portals/"+(ja||U.id)+"/categorySchema")},H=function(ia,U){return k(ia,U.restUrl+"/portals/"+U.id+"/servers")},M=function(ia,U,ja,S){return ia(U.restUrl+"/portals/"+(ja||U.id)+"/collaborationsSummary",S)},R=function(ia,
U,ja,S){return ia(U.restUrl+"/portals/"+(ja||U.id)+"/collaboratedItems",S)},N=function(ia,U,ja){return k(ia,location.protocol+"//"+U.portalHostname+"/sharing/rest/portals/"+(ja||"self"))},K=function(ia,U,ja){return ia(U.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+U.id+" AND access:public",num:100,start:ja||1,sortField:"title",sortOrder:"asc"}}).then(function(S){return S.data.total>S.data.start+S.data.num?K(ia,U,S.data.start+S.data.num).then(function(O){return Object(B.a)(Object(B.a)({},
O),{data:Object(B.a)(Object(B.a)({},O.data),{results:S.data.results.concat(O.data.results)})})}):S})},V=function(ia,U,ja,S){return ia(U.restUrl+"/community/users/"+ja+"/provisionedListings",{query:{f:"json",num:100,start:S||1}}).then(function(O){var I=C.Promise.all(O.data.provisionedListings.filter(function(W){return W.itemId}).map(function(W){return(new C.Promise(function(aa,P){ia(U.restUrl+"/content/items/"+W.itemId,{method:"get",query:{f:"json"}}).then(function(L){aa(L.data)},P)}))["catch"](function(aa){return 0})})),
ba=O.data.provisionedListings.map(function(W){return k(ia,U.restUrl+"/content/items/"+(W.id||W.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(aa){return aa},function(aa){})});return O.data.total>O.data.start+O.data.num?V(ia,U,ja,O.data.start+O.data.num).then(function(W){return C.Promise.all([I].concat(ba)).then(function(aa){return aa[0].results.concat(c(aa.slice(1))).concat(W)})}):C.Promise.all([I].concat(ba)).then(function(W){return W[0].filter(function(aa){return void 0!==
aa}).concat(c(W.slice(1)))})})},Z=function(ia,U,ja){return k(ia,U.restUrl+"/community/users/"+(ja||U.user.username))},ca=function(ia,U,ja){return k(ia,U.restUrl+"/content/users/"+(ja||U.user.username),{num:1})},ea=function(ia,U,ja){return k(ia,U.restUrl+"/content/groups/"+ja)},ka=function(ia,U,ja){return k(ia,U.restUrl+"/community/groups",ja)},la=function(ia,U){return k(ia,U.restUrl+"/portals/self/settings")},ta=function(ia,U){return k(ia,U.restUrl+"/portals/self/trustedOrgs",{num:100})},za=function(ia,
U){return void 0===U&&(U=","),ia.map(function(ja){return ja.id}).join(U)}},307:function(d,a,b){var c=b(0);d=b(16);var k=b(90);b=function(r){function v(){return null!==r&&r.apply(this,arguments)||this}return Object(c.d)(v,r),v.prototype.render=function(B){return B("div",{"class":"ib-ex-results__item-list"},B("div",{"class":"ib-ex-results__no-items-container"},B("div",{"class":"ib-ex-results__no-items-centered"},B("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},B("path",{fill:"#ccc",d:k.f})),B("p",
{"class":"ib-ex-results__no-items-text"},this.props.text))))},v}(d.Component);a.a=b},372:function(d,a){d.exports=u},373:function(d,a){d.exports=q},374:function(d,a){d.exports=z},375:function(d,a,b){b.d(a,"a",function(){return B});var c=b(0),k=b(69);d=b(254);var r=b.n(d);d=b(16);var v=b(90),B=function(C){function A(E){var F=C.call(this,E)||this;return F.state.searchTerm=F.props.currentSearchString||"",F.debouncedInput=r()(function(){F.props.changeSearchString.apply(F,[F.state.searchTerm])},400),F.handleInputChange=
F.handleInputChange.bind(F),F.handleClear=F.handleClear.bind(F),F}return Object(c.d)(A,C),A.prototype.componentWillReceiveProps=function(E){E.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:E.currentSearchString})},A.prototype.render=function(E){var F=this.props,w=F.title,D=F.placeholder;F=F.controls;var G=this.state.searchTerm||"";return E("div",{"class":"ac-search-area"},E("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},E("path",
{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",fill:"currentColor"})),E("input",{"class":"ac-search-area__input",key:"search-input",title:w,"aria-label":w,type:"search",oninput:this.handleInputChange,value:G,placeholder:D,"aria-controls":F}),G&&E("button",{"class":"ac-search-area__clear",
onclick:this.handleClear,key:"search-input-button","aria-label":k.clearSearch},E("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},E("path",{d:v.k,fill:"currentColor"}))))},A.prototype.handleInputChange=function(E){this.setState({searchTerm:E.target.value});this.debouncedInput()},A.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},A}(d.Component)},376:function(d,a){d.exports=x},38:function(d,a,b){b.d(a,"b",function(){return c});b.d(a,"d",
function(){return r});b.d(a,"c",function(){return v});b.d(a,"a",function(){return B});b.d(a,"f",function(){return E});var c,k,r,v,B,C=b(0),A=b(25);!function(F){F.openData="openData";F.updateGroups="updateGroups";F.distributed="distributed";F.administrative="administrative";F.orgSettings="orgSettings"}(c||(c={}));(k||(k={})).owner="owner";(function(F){F.itemOwner="itemOwner";F.inOrg="inOrg";F.outsideOrg="outsideOrg"})(r||(r={}));(function(F){F.myOrg="org";F.partnered="collaboration";F.anyOrg="anyOrg"})(v||
(v={}));(function(F){F.USER="USER";F.OWNER="OWNER";F.DESIGNATION="DESIGNATION";F.DATE_CREATED="DATE_CREATED";F.MEMBERSHIP="MEMBERSHIP"})(B||(B={}));var E={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};a.e=function(F,w){switch(void 0===F&&(F=E),w.type){case A.a.CLEAR_FILTERS:switch(w.payload){case B.DESIGNATION:return Object(C.a)(Object(C.a)({},F),{designationFilter:void 0});case B.DATE_CREATED:return Object(C.a)(Object(C.a)({},F),{dateCreatedFilter:void 0});case B.OWNER:return Object(C.a)(Object(C.a)({},
F),{ownerFilter:void 0});case B.USER:return F;case B.MEMBERSHIP:return Object(C.a)(Object(C.a)({},F),{membershipFilter:void 0});default:return Object(C.a)(Object(C.a)({},F),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case A.a.UPDATE_OWNER_FILTER:return Object(C.a)(Object(C.a)({},F),{ownerFilter:w.payload===F.ownerFilter?void 0:w.payload});case A.a.UPDATE_USERNAME_FILTER:return Object(C.a)(Object(C.a)({},F),{currentUsername:w.payload});case A.a.UPDATE_CREATED_ON_FILTER:return Object(C.a)(Object(C.a)({},
F),{dateCreatedFilter:w.payload.created});case A.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(C.a)(Object(C.a)({},F),{designationFilter:w.payload===F.designationFilter?void 0:w.payload});case A.a.UPDATE_MEMBERSHIP_FILTER:return Object(C.a)(Object(C.a)({},F),{membershipFilter:w.payload===F.membershipFilter?void 0:w.payload});case A.a.SET_USERS:return Object(C.a)(Object(C.a)({},F),{allUsers:w.payload.reduce(function(D,G){var H;return Object(C.a)(Object(C.a)({},D),((H={})[G.username]=G,H))},{})});
case A.a.SET_SEARCH_STRING:return Object(C.a)(Object(C.a)({},F),{searchString:w.payload});default:return F}}},416:function(d,a,b){var c,k=b(0);d=b(16);var r=b(54),v=b(535),B=b(38),C=b(532),A=b(534),E=b(533),F=b(536),w=b(26);b=function(G){function H(){return null!==G&&G.apply(this,arguments)||this}return Object(k.d)(H,G),H.prototype.render=function(M){return this.props.availableFilters.map(function(R){return M(D[R],{key:"gb-filter-"+R})})},H}(d.Component);var D=((c={})[B.a.DATE_CREATED]=C.a,c[B.a.OWNER]=
E.a,c[B.a.DESIGNATION]=A.a,c[B.a.USER]=v.a,c[B.a.MEMBERSHIP]=F.a,c);a.a=Object(d.connect)(function(G){var H=Object(r.b)(G)?G:G.gbState,M=H.utils;G=M.portalUser.username;var R=M.portal,N=H.config,K=N.shareMode;M=N.enableUserToggle;H=H.parameters.filter.currentUsername;if(N.withinAppConfig)return{availableFilters:[B.a.OWNER]};if(N.userType===w.e.PUBLIC)switch(K){case w.d.DEFAULT:return{availableFilters:[B.a.OWNER,B.a.DATE_CREATED]};case w.d.GROUP:return{availableFilters:[B.a.DATE_CREATED]}}switch(K){case w.d.DEFAULT:return{availableFilters:Object(k.g)(Object(k.g)([B.a.OWNER],
R.isPortal?[]:[B.a.MEMBERSHIP]),[B.a.DESIGNATION,B.a.DATE_CREATED])};case w.d.GROUP:return{availableFilters:[B.a.DESIGNATION,B.a.DATE_CREATED]};case w.d.ADMIN:return G=M&&G===H?[]:[B.a.OWNER],{availableFilters:Object(k.g)(Object(k.g)(Object(k.g)([],M?[B.a.USER]:[]),G),[B.a.DESIGNATION,B.a.DATE_CREATED])};default:return{availableFilters:[]}}},function(G){return{}})(b)},449:function(d,a){d.exports=n},5:function(d,a,b){function c(F){return 0===Object.keys(F).length&&F.constructor===Object}function k(F){return null!=
F}function r(F,w){return A.apply(null,arguments)}function v(F,w){return E.apply(null,arguments)}b.d(a,"b",function(){return c});b.d(a,"a",function(){return k});b.d(a,"e",function(){return C});b.d(a,"c",function(){return r});b.d(a,"d",function(){return v});var B=b(0);d=b(15);var C=Object(d.a)(function(F,w){var D=Object(B.a)({},w);return delete D[F],D}),A=Object(d.a)(function(F,w){return Object.keys(w).reduce(function(D,G){return D[G]=F(w[G],G,w),D},{})}),E=Object(d.a)(function(F,w){return Object.keys(w).reduce(function(D,
G){return F(w[G],G,w)&&(D[G]=w[G]),D},{})})},51:function(d,a,b){function c(ca){return!(!ca.urlKey||!ca.customBaseUrl)}function k(ca){return ca.role===G.admin||ca.role===G.accountAdmin}function r(ca){return Object(R.a)(ca.roleId)&&0<(ca.roleId||"").length}function v(ca){return!r(ca)||r(ca)&&-1<(ca.privileges||[]).indexOf("portal:admin:viewItems")}function B(ca){return-1<(ca.privileges||[]).indexOf("portal:user:shareToOrg")}function C(ca){return-1<(ca.privileges||[]).indexOf("portal:user:shareToGroup")}
function A(ca){return-1<(ca.privileges||[]).indexOf("portal:user:shareToPublic")}function E(ca,ea){return F(ca)||w(ca)||ea.canSharePublic&&D(ca)}function F(ca){return-1<(ca.privileges||[]).indexOf("portal:admin:shareToGroup")}function w(ca){return-1<(ca.privileges||[]).indexOf("portal:admin:shareToOrg")}function D(ca){return-1<(ca.privileges||[]).indexOf("portal:admin:shareToPublic")}b.d(a,"l",function(){return K});b.d(a,"h",function(){return V});b.d(a,"m",function(){return Z});b.d(a,"k",function(){return c});
b.d(a,"i",function(){return k});b.d(a,"j",function(){return r});b.d(a,"g",function(){return v});b.d(a,"b",function(){return B});b.d(a,"a",function(){return C});b.d(a,"c",function(){return A});b.d(a,"d",function(){return F});b.d(a,"e",function(){return w});b.d(a,"f",function(){return D});var G,H=b(63),M=b(148),R=b(5),N=b(58);!function(ca){ca.user="org_user";ca.accountUser="account_user";ca.publisher="org_publisher";ca.accountPublisher="account_publisher";ca.admin="org_admin";ca.accountAdmin="account_admin";
ca.viewer="iAAAAAAAAAAAAAAA";ca.dataEditor="iBBBBBBBBBBBBBBB"}(G||(G={}));var K=function(ca){var ea=ca.items;return!!ca.user.orgId&&ea.every(function(ka){return ka.isOrgItem})},V=function(ca){var ea=ca.items,ka=ca.user,la=ca.portal;ca=ea[0];var ta=Object(N.c)(ca,ka),za=r(ka),ia=E(ka,la);if(za=Object(N.a)(ca,ka)&&-1<(ka.privileges||[]).indexOf("portal:admin:updateItems")&&!za)za=!c(la)||C(ka)||B(ka)||la.canSharePublic&&A(ka)||E(ka,la);la=za;return!(ca.portal.isPortal&&ca.owner!==ka.username&&-1<ca.owner.indexOf("esri_"))&&
(ta||la||K({items:ea,user:ka})&&ia)},Z=function(ca,ea){return Object(H.a)(Object(M.a)(ca))(ea)}},530:function(d,a,b){var c=b(0),k=b(69),r=b(284);d=b(16);var v=b(186),B=b(802),C=b(803),A=b(1019),E=b(54),F=b(374),w=b.n(F),D=b(25);F=b(285);var G=b.n(F),H=b(375);b=function(M){function R(N){N=M.call(this,N)||this;return N.handleInputChange=N.handleInputChange.bind(N),N.handleSortFieldChange=N.handleSortFieldChange.bind(N),N.handleSortOrderChange=N.handleSortOrderChange.bind(N),N.handleSortClick=N.handleSortClick.bind(N),
N}return Object(c.d)(R,M),R.prototype.render=function(N){var K=r.substitute(this.props.userFileringEnabled?k.searchGroupsForUser:k.searchGroups,{user:this.props.currentUser});return N("div",{classes:{"gb-search-area__container":!0,"gb-search-area__container--offset-top":this.props.isWithinShare}},N(H.a,{key:"groupbrowser-search-area-input",title:K,placeholder:K,currentSearchString:this.props.currentSearchString,changeSearchString:this.handleInputChange,controls:"group-browser-results-region"}),!this.props.isWithinShare&&
N("div",{"class":"gb-search-area__btn-section"},N(w.a,{active:this.props.sortActive,key:"gb-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:["title","owner","created","modified"],onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick})),this.props.filteringEnabled&&N(G.a,{key:"ib-ex-filter-btn",active:this.props.filtersOpen,center:!0,handleClick:this.props.toggleFilterSidebar,ariaControls:"filter-pane-container"},
N("div",{"class":"drp-sort__btn-body"},N("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},N("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),N("span",{"class":"drp-sort__btn-label"},k.filter))))},R.prototype.handleInputChange=function(N){this.props.changeSearchString(N);this.props.updateDisplayGroups()},R.prototype.handleSortFieldChange=function(N){this.props.changeSortField(N);this.props.updateDisplayGroups()},R.prototype.handleSortOrderChange=
function(N){this.props.changeSortOrder(N);this.props.updateDisplayGroups()},R.prototype.handleSortClick=function(){this.props.toggleSortDropdown()},R}(d.Component);a.a=Object(d.connect)(function(M){var R=Object(E.b)(M)?M:M.gbState,N=R.ui,K=R.parameters;R=R.config;return{currentSearchString:K.filter.searchString,sortActive:N.sort,sortField:K.sort.field,sortOrder:K.sort.order,filteringEnabled:R.enableFiltering,filtersOpen:N.filter.expanded,isWithinShare:!Object(E.b)(M),userFileringEnabled:R.enableUserToggle,
currentUser:K.filter.currentUsername}},function(M){return{changeSearchString:function(R){return M(Object(v.b)(R))},changeSortField:function(R){return M(Object(B.a)(R))},changeSortOrder:function(R){return M(Object(B.b)(R))},updateDisplayGroups:function(){M(Object(C.a)(1))},toggleSortDropdown:function(){return M(Object(A.a)())},toggleFilterSidebar:function(){M({type:D.a.TOGGLE_EXPANDED_FILTERS})}}})(b)},531:function(d,a,b){var c=b(0),k=b(69);d=b(16);var r=b(54),v=b(416);b=function(B){function C(){return null!==
B&&B.apply(this,arguments)||this}return Object(c.d)(C,B),C.prototype.render=function(A){var E=this.props.filterOpen;return A("div",{classes:{"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--narrow":!0,"ib__big-filters--visible":E,"ib__big-filters--hidden":!E}},A("div",{id:"filter-pane-container",key:"filter-pane-container",classes:{"ib-filter-pane__container":!0,hide:!E}},A("h3",{"class":"ib__big-filter-label"},k.filters),A(v.a,{key:"group-browser-filters"})))},C}(d.Component);a.a=Object(d.connect)(function(B){return{filterOpen:(Object(r.b)(B)?
B:B.gbState).ui.filter.expanded}},function(B){return{}})(b)},532:function(d,a,b){d=b(16);var c=b(376);c=b.n(c);var k=b(54),r=b(186),v=b(159);a.a=Object(d.connect)(function(B){B=Object(k.b)(B)?B:B.gbState;return{dateCreatedFilter:B.parameters.filter.dateCreatedFilter,dateCreatedSection:B.ui.filter.dateCreatedSelectedSection}},function(B){return{onDateCreatedSelect:function(C,A){B(Object(r.d)({section:C,created:A}));B(v.b)}}})(c.a)},533:function(d,a,b){var c=b(0),k=b(69);d=b(16);var r=b(54),v=b(186),
B=b(159),C=b(38),A=b(255),E=b.n(A);A=b(216);var F=b.n(A),w=b(26);b=function(D){function G(){return null!==D&&D.apply(this,arguments)||this}return Object(c.d)(G,D),G.prototype.render=function(H){var M=this.props,R=M.currentFilter,N=M.handleOwnerClick,K=M.username,V=M.userType,Z=M.portal,ca=M.hasIndoorsSpaces;return H(E.a,{key:"group-owner-filter-accordion",title:k.owner,clearable:!!R,onClear:function(){N(R)},startActive:!0},H("ul",{"class":"ib-filter-pane__list"},Object.keys(C.d).map(function(ea){if(!(ea===
C.d.inOrg&&V===w.e.PUBLIC||ea===C.d.outsideOrg&&(Z.isPortal||ca))){var ka=k.ownerTitles[ea];ea===C.d.itemOwner?ka=K:ea===C.d.outsideOrg&&V===w.e.PUBLIC&&(ka=k.ownerTitles.someOneElse);var la=C.d[ea];return H(F.a,{key:la,name:ka,value:la,selectedToggle:R,onToggleClick:function(){N(la)}})}})))},G}(d.Component);a.a=Object(d.connect)(function(D){var G=Object(r.b)(D)?D:D.gbState;D=G.utils;var H=D.portalUser.username,M=G.parameters.filter,R=M.currentUsername;G=G.config;return{currentFilter:M.ownerFilter,
portal:D.portal,username:G.shareMode===w.d.ADMIN?R:H,userType:G.userType,hasIndoorsSpaces:G.hasIndoorsSpaces}},function(D){return{handleOwnerClick:function(G){D(Object(v.g)(G));D(B.b)}}})(b)},534:function(d,a,b){var c=b(0),k=b(69);d=b(16);var r=b(54),v=b(186),B=b(159),C=b(38),A=b(255),E=b.n(A);A=b(216);var F=b.n(A),w=b(26);b=function(D){function G(){return null!==D&&D.apply(this,arguments)||this}return Object(c.d)(G,D),G.prototype.render=function(H){var M=this.props,R=M.currentFilter,N=M.handleDesignationClick,
K=M.showSharedUpdate,V=M.portal,Z=M.hasIndoorsSpaces;return H(E.a,{key:"group-designation-filter-accordion",title:k.designation,clearable:!!R,onClear:function(){N(R)}},H("ul",{"class":"ib-filter-pane__list"},Object.keys(C.b).filter(function(ca){return!(ca===C.b.updateGroups&&!K)&&(ca!==C.b.openData||!V.isPortal)&&(ca!==C.b.distributed||!Z)}).map(function(ca){var ea=C.b[ca];return H(F.a,{key:ea,name:k.designationFilterTitles[ca],value:ea,selectedToggle:R,onToggleClick:function(){N(ea)},infoTooltip:"orgSettings"===
ea?k.orgSettingsTooltip:void 0})})))},G}(d.Component);a.a=Object(d.connect)(function(D){var G=Object(r.b)(D)?D:D.gbState;D=G.utils;var H=D.portalUser.username,M=G.config,R=M.shareMode;G=G.parameters.filter;var N=G.currentUsername;return{currentFilter:G.designationFilter,portal:D.portal,hasIndoorsSpaces:M.hasIndoorsSpaces,showSharedUpdate:(!M.enableUserToggle||H!==N)&&R!==w.d.GROUP}},function(D){return{handleDesignationClick:function(G){D(Object(v.e)(G));D(B.b)}}})(b)},535:function(d,a,b){var c=b(0),
k=b(69);d=b(16);var r=b(54),v=b(186),B=b(159),C=b(255),A=b.n(C);C=b(216);var E=b.n(C);b=function(F){function w(){return null!==F&&F.apply(this,arguments)||this}return Object(c.d)(w,F),w.prototype.render=function(D){var G=this.props,H=G.currentUsername,M=G.portalUsername,R=G.handleUserClick;return D(A.a,{key:"user-toggle-filter-accordion",title:k.viewGroupsFor,clearable:!1,startActive:!0},D("ul",{"class":"ib-filter-pane__list"},G.allUsernames.map(function(N){var K=N===H;return D(E.a,{key:N,name:M===
N?N+" "+k.me:N,value:N,selectedToggle:H,onToggleClick:function(){K||R(N)}})})))},w}(d.Component);a.a=Object(d.connect)(function(F){F=Object(r.b)(F)?F:F.gbState;var w=F.parameters.filter,D=F.utils.portal.portalUser.username;return{currentUsername:w.currentUsername,portalUsername:D,allUsernames:Object.keys(w.allUsers).sort(function(G){return G===D?1:-1})}},function(F){return{handleUserClick:function(w){F(Object(v.a)());F(Object(v.h)(w));F(B.b)}}})(b)},536:function(d,a,b){var c=b(0),k=b(69);d=b(16);
var r=b(54),v=b(186),B=b(159),C=b(255),A=b.n(C);C=b(216);var E=b.n(C),F=b(38);b=function(w){function D(){return null!==w&&w.apply(this,arguments)||this}return Object(c.d)(D,w),D.prototype.render=function(G){var H=this.props,M=H.currentFilter,R=H.hasTrustedOrgs,N=H.handleMembershipClick;if(!H.hasIndoorsSpaces)return G(A.a,{key:"group-membership-filter-accordion",title:k.membership,clearable:!!M,onClear:function(){N(M)},flex:!0},G("ul",{"class":"ib-filter-pane__list"},Object.keys(F.c).filter(function(K){return R||
"partnered"!==K}).map(function(K){var V=F.c[K];return G(E.a,{key:V,name:k.membershipFilterTitles[K],value:V,selectedToggle:M,onToggleClick:function(){N(V)}})})))},D}(d.Component);a.a=Object(d.connect)(function(w){w=Object(r.b)(w)?w:w.gbState;var D=w.config;return{currentFilter:w.parameters.filter.membershipFilter,hasTrustedOrgs:D.hasTrustedOrgs,hasIndoorsSpaces:D.hasIndoorsSpaces}},function(w){return{handleMembershipClick:function(D){w(Object(v.f)(D));w(B.b)}}})(b)},537:function(d,a,b){var c=b(0);
d=b(16);var k=b(205),r=b.n(k),v=b(542),B=b(538),C=b(144),A=b(54),E=b(137);b=function(F){function w(){var D=null!==F&&F.apply(this,arguments)||this;return D.handleGroupCheck=function(G){if(D.props.enableSingleSelection){var H=Object.keys(D.props.selectedGroups).map(function(M){return D.props.selectedGroups[M].group});D.props.deselectGroups(H)}D.props.selectGroups([G])},D.handleGroupUncheck=function(G){D.props.deselectGroups([G])},D.handleGroupRevert=function(G){D.props.revertGroups([G])},D}return Object(c.d)(w,
F),w.prototype.render=function(D){var G=this.props,H=G.selectorItems,M=G.displayGroups,R=G.selectedGroups,N=G.sortField,K=G.initialSelectedGroups,V=G.portal,Z=G.shouldDisable,ca=G.disabledText,ea=G.noFilters;G=G.status===E.a.LOADING;var ka={"gb-results-panel__section-container":!0,"gb-results-panel__section-container--loading":G};return D("div",{classes:{"gb-results-panel__container":!0,"ib__big-section":!0,"ib__big-results":!0}},G?D(r.a,{key:"group-browser-loader-bars"}):null,D("section",{classes:ka,
key:"group-browser-section-totals"},D(B.a,{key:"group-browser-totals"})),D("section",{classes:ka,key:"group-browser-section-groups"},D(v.a,{key:"groups-area",selectorItems:H,displayGroups:M,selectedGroups:R,sortField:N,handleGroupCheck:this.handleGroupCheck,handleGroupUncheck:this.handleGroupUncheck,handleGroupRevert:this.handleGroupRevert,initialSelectedGroups:K,portal:V,noFilters:ea,shouldDisable:Z,disabledText:ca})))},w}(d.Component);a.a=Object(d.connect)(function(F){F=Object(A.b)(F)?F:F.gbState;
var w=F.groups,D=F.config,G=F.parameters,H=G.filter,M=H.ownerFilter,R=H.designationFilter,N=H.dateCreatedFilter;return{status:w.status,displayGroups:w.displayGroups,selectedGroups:w.selectedGroups,sortField:G.sort.field,noFilters:!(H.searchString||R||N||M),portal:F.utils.portal,selectorItems:w.selectorItems,initialSelectedGroups:w.initialSelectedGroups,shouldDisable:D.shouldDisable,disabledText:D.disabledText,enableSingleSelection:D.enableSingleSelection}},function(F){return{selectGroups:function(w){return F(Object(C.d)(w))},
deselectGroups:function(w){return F(Object(C.b)(w))},revertGroups:function(w){return F(Object(C.c)(w))}}})(b)},538:function(d,a,b){var c=b(0),k=b(69),r=b(150);d=b(16);var v=b(144),B=b(539),C=b(54),A=b(137),E=b(541);b=function(F){function w(){var D=null!==F&&F.apply(this,arguments)||this;return D.handleSelectAll=function(){D.props.selectGroups(D.props.displayGroups)},D.handleDeselectAll=function(){D.props.deselectGroups(D.props.displayGroups)},D.handleClearSelection=function(){D.props.clearAll()},
D}return Object(c.d)(w,F),w.prototype.render=function(D){var G=this,H=this.props,M=H.displayGroups,R=H.selectedGroups,N=H.selectorItems,K=H.portal,V=H.isWithinShare,Z=H.enableSingleSelection;H=function(ka){var la=ka.fullySelectedGroups,ta=ka.displayGroups.map(function(za){return za.id});return la.filter(function(za){return 0<=ta.indexOf(za.id)})}({fullySelectedGroups:H.fullySelectedGroups,displayGroups:M});M=M.length===H.length;H=Object.keys(R).map(function(ka){return R[ka]});var ca="en"===r.locale.slice(0,
2),ea=(ca?k.pageRange.en:k.pageRange.other).replace("${start}",this.props.startNum).replace("${end}",this.props.endNum).replace("${total}",this.props.totalItems);ca=(ca?k.total.en:k.total.other).replace("${total}",this.props.totalItems);return D("div",{"class":"gb-total-area__wrap",key:"gb-total-area__wrap"},D("div",{"class":"gb-total-area__container",key:"gb-total-area-checked"},0<H.length&&D(B.a,{key:"selected-groups-dropdown",groups:H,items:N,handleGroupClick:function(ka){G.props.deselectGroups([ka])},
portal:K}),0<H.length&&D("button",{key:"gb-clear-selection-btn",id:"gb__clear-selection-btn","class":"gb-total-area__btn-link",onclick:this.handleClearSelection},k.clearSelection),0===H.length&&D("span",{"class":"gb-total-area__description"},ea,D("span",{"class":"gb-total-area__screen-reader-total","aria-live":"polite",id:"group-browser-results-region"},ca)),V||Z?null:M?D("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleDeselectAll},
k.deselectAllOnPage):D("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleSelectAll},k.selectAllOnPage)),D(E.a,{key:"gb-filter-chips"}))},w}(d.Component);a.a=Object(d.connect)(function(F){var w=Object(C.b)(F)?F:F.gbState,D=w.groups,G=D.total,H=D.selectedGroups,M=D.selectorItems,R=w.config,N=R.groupsPerPage;R=R.enableSingleSelection;var K=w.utils.portal,V=w.ui.page.currentPageNumber,Z=0===G?0:N*(V-1)+1;N=G<N*V?G:N*V;return{displayGroups:D.displayGroups,
fullySelectedGroups:Object(A.d)(w.groups),selectedGroups:H,selectorItems:M,startNum:Z,endNum:N,totalItems:G,portal:K,isWithinShare:!Object(C.b)(F),enableSingleSelection:R}},function(F){return{selectGroups:function(w){return F(Object(v.d)(w))},deselectGroups:function(w){return F(Object(v.b)(w))},clearAll:function(){return F(Object(v.a)())}}})(b)},539:function(d,a,b){var c=b(0),k=b(69),r=b(150);d=b(16);var v=b(90),B=b(540),C={open:!1};b=function(A){function E(){var F=null!==A&&A.apply(this,arguments)||
this;return F.state=C,F.handleClick=function(w){w=w.target;F.dropdown&&F.dropdown.contains(w)||((w=F.toggleButton&&F.toggleButton.contains(w))?F.setState({open:!F.state.open}):F.state.open&&!w&&F.setState({open:!1}))},F}return Object(c.d)(E,A),E.prototype.render=function(F){var w=this,D=this.props,G=D.groups,H=D.handleGroupClick,M=D.items,R=D.portal;D=1<G.length?k.groupsSelected.enPlural:k.groupsSelected.en;"en"!==r.locale.slice(0,2)&&(D=k.groupsSelected.other);D=D.replace("${num}",G.length);var N=
M.some(function(K){return!!K.username});return F("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",w.handleClick)},afterRemoved:function(){document.removeEventListener("click",w.handleClick);w.setState(C)}},F("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(K){w.toggleButton=K},afterRemoved:function(){w.toggleButton=void 0}},F("span",{"class":"selected-dropdown__toggle-button__text"},
D),F("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},F("path",{d:v.a}))),this.state.open&&F("div",{"class":"selected-dropdown__list__container",key:"selected-dropdown__list__container",afterCreate:function(K){w.dropdown=K},afterRemoved:function(){w.dropdown=void 0}},F("h3",{"class":"selected-dropdown__list__title"},k.selectedGroups),F("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",
key:"selected-dropdown__list",role:"menu"},G.map(function(K){return F(B.a,{selectedGroupData:K,itemTotal:M.length,handleCloseClick:H,key:K.group.id,portal:R,isMemberSelector:N})}))))},E}(d.Component);a.a=b},54:function(d,a,b){b.d(a,"b",function(){return v});b.d(a,"a",function(){return B});b.d(a,"c",function(){return C});d=b(16);a=b(215);var c=b(208),k=b(137),r=b(210);b=b(207);var v=function(A){return!A.gbState},B={config:b.b,parameters:c.b,groups:k.f,ui:r.b,utils:a.b},C=Object(d.combineReducers)({config:b.a,
parameters:c.a,groups:k.b,ui:r.a,utils:a.a})},540:function(d,a,b){var c=b(0),k=b(69),r=b(150);d=b(16);var v=b(249),B=b(90);b=function(C){function A(){return null!==C&&C.apply(this,arguments)||this}return Object(c.d)(A,C),A.prototype.render=function(E){var F=this.props,w=F.selectedGroupData,D=F.handleCloseClick,G=F.itemTotal,H=F.portal,M=w.group;w=w.selectedByIds&&w.selectedByIds.length;F=F.isMemberSelector?k.membersSelected:k.itemsSelected;F="en"===r.locale.slice(0,2)?F.en.replace("${num}",w).replace("${total}",
G):F.other.replace("${num}",w).replace("${total}",G);var R=k.deselectGroup.replace("${name}",M.title);return E("li",{"class":"selected-dropdown__list-item",role:"menuitem",key:M.id},E(v.a,{group:M,stacked:!0,portal:H}),E("span",{"class":"selected-dropdown__list-item__description"},M.title,w!==G&&E("span",{"class":"selected-dropdown__list-item__count"},F)),E("button",{"class":"selected-dropdown__list-item__button",onclick:function(){D(M)},"aria-label":R},E("svg",null,E("path",{d:B.j}))))},A}(d.Component);
a.a=b},541:function(d,a,b){var c=b(0),k=b(69),r=b(284);d=b(16);var v=b(54),B=b(38),C=b(449),A=b.n(C),E=b(186),F=b(159),w=b(26);b=function(G){function H(){var M=null!==G&&G.apply(this,arguments)||this;return M.state={filterOpen:!1},M}return Object(c.d)(H,G),H.prototype.render=function(M){var R=this,N=this.props,K=N.activeFilters,V=N.handleClearAllFilters,Z=N.handleClearFilter,ca=this.state.filterOpen;if(0!==K.length)return M("div",{"class":"ib__active-filters gb-filter-chip-wrap",key:"filter-chip-wrap"},
M("div",{"class":"filter-controller__container",key:"filter-controller__container"},M("span",{"class":"filter-controller__label"},k.filters,":"),M("div",{"class":"filter-controller__chip-container margin-right-half filter-controller__chip-container--full-width"},ca?K.map(function(ea){return M(A.a,{filterId:ea.type,handleRemoveFilter:function(ka){Z(ea.type)},key:ea.type,text:ea.text})}):M(A.a,{filterId:K[0].type,handleRemoveFilter:function(ea){Z(K[0].type)},key:K[0].type,text:K[0].text}),1<K.length&&
M("button",{onclick:function(){return R.setState({filterOpen:!ca})},key:"filter-controller-more-button",classes:{"filter-controller__expand-btn":!0,"filter-controller__expand-btn--dark":ca}},(ca?"- ":"+ ")+(K.length-1)),M("button",{"class":"filter-controller__clear-btn",onclick:V},k.clearAll))))},H}(d.Component);a.a=Object(d.connect)(function(G){G=Object(v.b)(G)?G:G.gbState;return{activeFilters:D({filterState:G.parameters.filter,username:G.utils.portalUser.username,isPublic:G.config.userType===w.e.PUBLIC})}},
function(G){return{handleClearAllFilters:function(){G(Object(E.a)());G(F.b)},handleClearFilter:function(H){G(Object(E.a)(H));G(F.b)}}})(b);var D=function(G){var H=G.filterState,M=H.designationFilter,R=H.ownerFilter,N=H.dateCreatedFilter,K=H.membershipFilter;H=G.username;G=G.isPublic;var V=[];M&&V.push({text:r.substitute(k.filterChips.designation,{designation:k.designationFilterTitles[M]}),type:B.a.DESIGNATION});R&&(M=R===B.d.itemOwner&&H||k.ownerTitles[R],R===B.d.outsideOrg&&G&&(M=k.ownerTitles.someOneElse),
V.push({text:r.substitute(k.filterChips.owner,{owner:M}),type:B.a.OWNER}));if(N&&V.push({text:r.substitute(k.filterChips.created,{created:N.label}),type:B.a.DATE_CREATED}),K){var Z="";Object.keys(B.c).some(function(ca){return B.c[ca]===K&&(Z=ca),Z});V.push({text:r.substitute(k.filterChips.membership,{membership:k.membershipFilterTitles[Z]}),type:B.a.MEMBERSHIP})}return V}},542:function(d,a,b){var c=b(69);d=b(543);var k=b.n(d);d=b(544);var r=b.n(d),v=b(307),B=b(137);a.a=function(C,A){var E=C.displayGroups,
F=C.handleGroupCheck,w=C.handleGroupUncheck,D=C.selectedGroups,G=C.sortField,H=C.portal,M=C.selectorItems,R=C.initialSelectedGroups,N=C.handleGroupRevert,K=C.shouldDisable,V=C.noFilters,Z=C.disabledText;return 0===E.length?A(v.a,{key:"no-group-results",text:V?c.noGroupsAvailable:c.noGroupsFound}):E.map(function(ca){var ea=D[ca.id],ka=ea&&Object(B.e)(ea,M);if(0===M.length)return A(k.a,{checked:ka,group:ca,key:ca.id,sortField:G,onCheckGroup:F,onUncheckGroup:w,portal:H,shouldDisable:K,disabledText:Z});
var la=R[ca.id],ta=!!(ea&&!ka&&ea.selectedByIds&&0<ea.selectedByIds.length);la=la&&la.selectedByIds||[];var za=ea&&ea.selectedByIds||[];ea=M.filter(function(ia){return-1<za.indexOf(ia.id)});return A(r.a,{group:ca,checked:ka,indeterminate:ta,initialSelectedByIds:la,selectedBy:ea,allSelectorItemIds:M.map(function(ia){return ia.id}),key:ca.id,sortField:G,onCheckGroup:F,onUncheckGroup:w,onRevertGroup:N,portal:H,shouldDisable:K,disabledText:"",selectors:M})})}},543:function(d,a){d.exports=h},544:function(d,
a){d.exports=e},58:function(d,a,b){function c(A,E){return(null==A?void 0:A.owner)===E.username}function k(A,E){var F;if(!(F=c(A,E)))if(Object(v.a)(A.isAdmin))F=!!A.isAdmin;else{F=A.owner;var w="admin"===A.itemControl;F=!(A.portal.isPortal&&!c(A,E)&&w&&-1<F.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(F))&&w}return F}function r(A,E){return k(A,E)||"update"===A.itemControl}b.d(a,"d",function(){return c});b.d(a,"c",function(){return k});b.d(a,"a",function(){return r});
b.d(a,"b",function(){return C});var v=b(5),B=b(51),C=function(A){var E=A.user,F=A.items;A=A.portal;return Object(B.l)({items:F,user:E})&&Object(B.h)({items:F,user:E,portal:A})&&Object(B.g)(E)&&F[0].itemOwner||E}},61:function(d,a,b){function c(V){var Z=V.groupIds,ca=V.shareLevelOptions,ea=V.restUrl,ka=V.request,la=V.unshare;return C.Promise.all(V.items.map(function(ta,za){return new C.Promise(function(ia,U){ka(ea+"/content/items/"+(ta.itemId||ta.id)+"/"+(la?"unshare":"share"),{method:"post",query:Object(v.a)({f:"json",
groups:Z,confirmItemControl:!0},ca||{})}).then(ia,U)})}))["catch"](function(ta){throw ta;})}function k(V,Z){return new C.Promise(function(ca,ea){var ka,la=null===(ka=V.helpMap)||void 0===ka?void 0:ka.m;la?ca(la):Z(V.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(ta){var za;ca(null===(za=ta.data.helpMap)||void 0===za?void 0:za.m)},ea)})}b.d(a,"h",function(){return E});b.d(a,"g",function(){return F});b.d(a,"b",function(){return w});b.d(a,"e",function(){return D});b.d(a,"d",
function(){return G});b.d(a,"f",function(){return N});b.d(a,"c",function(){return K});b.d(a,"a",function(){return k});var r,v=b(0),B=b(30),C=b(28);d=b(26);var A=b(58),E=function(V){var Z=V.items,ca=V.groups,ea=V.restUrl,ka=V.request,la=V.portalUser;if(0===Z.length)return C.Promise.resolve();var ta=Object(B.b)(ca);return Z.every(function(za){return Object(A.d)(za,la)})?new C.Promise(function(za,ia){if(!ca||0===ca.length)return za();var U={f:"json",items:Object(B.b)(Z),groups:ta};ka(ea+"/content/users/"+
la.username+"/unshareItems",{method:"post",query:U}).then(za,ia)}):c({items:Z,groupIds:ta,restUrl:ea,request:ka,unshare:!0})},F=function(V){var Z=V.items,ca=V.groups,ea=V.restUrl,ka=V.request,la=V.portalUser,ta=V.selectedOptions;V=V.ignoreShareLevel;if(0===Z.length)return C.Promise.resolve();if(!V&&!ta)throw"Selected options must be provided unless share level is ignored.";var za=Object(B.b)(ca),ia=V?{}:H(ta);return Z.every(function(U){return Object(A.d)(U,la)})?new C.Promise(function(U,ja){ka(ea+
"/content/users/"+la.username+"/shareItems",{method:"post",query:Object(v.a)({f:"json",items:Object(B.b)(Z),groups:za,confirmItemControl:!0},ia)}).then(function(S){S=S.data;S.results.every(function(O){return O.success})?U():ja(S)},ja)}):c({items:Z,groupIds:za,shareLevelOptions:ia,restUrl:ea,request:ka})},w=function(V){return V.reduce(function(Z,ca){return Object(v.g)(Object(v.g)([],Z),ca)},[])},D=function(V){return 1<Object.keys(V).filter(function(Z){return"total"!==Z&&0<V[Z]}).length},G=function(V){return Object.keys(V).filter(function(Z){return"total"!==
Z}).reduce(function(Z,ca){return V[ca]===V.total?ca:Z})},H=function(V){return D(V)?{}:M[G(V)]},M=((r={})[d.b["public"]]={org:!1,everyone:!0},r[d.b.org]={org:!0,everyone:!1},r[d.b["private"]]={org:!1,everyone:!1},r[d.b.shared]={org:!1,everyone:!1},r),R="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),N=function(V){var Z,ca,ea=V.typeKeywords,ka=
V.type;ka=R.some(function(ta){return-1<ea.indexOf(ta)})&&"Real Time Analytic"!==ka&&"Big Data Analytic"!==ka;var la=!(null===(Z=null==V?void 0:V.portal)||void 0===Z?0:Z.isPortal)&&"Image Service"===V.type&&-1<(null===(ca=V.url)||void 0===ca?void 0:ca.indexOf("://iservices"))&&-1<V.url.indexOf("arcgis.com");V="Knowledge Graph"===V.type;return ka||la||V},K=function(V,Z,ca){return ca&&Z["public"]===Z.total?V.filter(function(ea){return-1<ea.typeKeywords.indexOf("DeveloperBasemap")}):[]}},63:function(d,
a,b){function c(){for(var k=[],r=0;r<arguments.length;r++)k[r]=arguments[r];return function(v){return k.reduceRight(function(B,C){return C(B)},v)}}b.d(a,"a",function(){return c})},68:function(d,a,b){var c;b.d(a,"a",function(){return c});(function(k){k.LOADING_GROUPS="LOADING_GROUPS";k.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";k.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";k.SELECT_GROUPS="SELECT_GROUPS";k.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";k.DESELECT_GROUPS="DESELECT_GROUPS";k.REVERT_GROUPS="REVERT_GROUPS";
k.CLEAR_SELECTION="CLEAR_SELECTION";k.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";k.SET_HAS_GROUPS="SET_HAS_GROUPS"})(c||(c={}))},69:function(d,a){d.exports=J},802:function(d,a,b){b.d(a,"a",function(){return k});b.d(a,"b",function(){return r});var c=b(83),k=function(v){return{type:c.a.CHANGE_SORT_FIELD,payload:v}},r=function(v){return{type:c.a.CHANGE_SORT_ORDER,payload:v}}},803:function(d,a,b){b.d(a,"a",function(){return r});var c=b(159),k=b(204),r=function(v){return function(B,C){B({type:k.a.SET_PAGE,
payload:v});B(c.b)}}},83:function(d,a,b){var c;b.d(a,"a",function(){return c});(function(k){k.SET_SEARCH_STRING="SET_SEARCH_STRING";k.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";k.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";k.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";k.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";k.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";k.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";k.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";k.SET_USERS="SET_USERS";
k.CLEAR_FILTERS="CLEAR_FILTERS"})(c||(c={}))},855:function(d,a,b){b.r(a);var c=b(0),k=b(69);d=b(16);var r=b(54);b.d(a,"reducers",function(){return r.c});b.d(a,"initialState",function(){return r.a});var v=b(144);b.d(a,"deselectGroups",function(){return v.b});b.d(a,"selectGroups",function(){return v.d});var B=b(159);b.d(a,"search",function(){return B.b});var C=b(803),A=b(372),E=b.n(A),F=b(530),w=b(531),D=b(537);A=b(373);var G=b.n(A),H=b(416),M=b(226);b=function(R){function N(){var K=null!==R&&R.apply(this,
arguments)||this;return K.handlePageChange=function(V){var Z;K.props.setPageAndUpdateGroups(V);(null===(Z=K.el)||void 0===Z?0:Z.parentElement)&&(K.el.parentElement.scrollTop=0)},K}return Object(c.d)(N,R),N.prototype.render=function(K){var V=this,Z=this.props,ca=Z.currentTotal,ea=Z.groupsPerPage,ka=Z.currentPage,la=Z.filtersOpen;Z=Z.toggleFilters;return K("div",{"class":"group-browser__container",afterCreate:function(ta){ta&&!V.el&&(V.el=ta)}},K(F.a,{key:"group-browser-search-area"}),K("div",{"class":"ib__big-row"},
K(w.a,{key:"group-browser-filter-sidebar"}),K(D.a,{key:"group-browser-results-panel"})),K(E.a,{key:"group-browse-pager",numPages:ea>ca?1:Math.ceil(ca/ea),currentPage:ka,onPageChange:this.handlePageChange}),K("div",{"class":"ib__big-overlay-filters"},K(G.a,{key:"mobile-filter-wrap",maxHeight:!0,open:la,onClose:Z,title:k.filters},K(H.a,{key:"mobile-filters"}))))},N}(d.Component);a["default"]=Object(d.connect)(function(R){R=Object(r.b)(R)?R:R.gbState;var N=R.ui;return{currentPage:N.page.currentPageNumber,
groupsPerPage:R.config.groupsPerPage,currentTotal:R.groups.total,filtersOpen:N.filter.expanded}},function(R){return{setPageAndUpdateGroups:function(N){R(Object(C.a)(N))},toggleFilters:function(){R(Object(M.i)())}}})(b)},90:function(d,a,b){b.d(a,"a",function(){return c});b.d(a,"b",function(){return k});b.d(a,"c",function(){return r});b.d(a,"d",function(){return v});b.d(a,"e",function(){return B});b.d(a,"h",function(){return C});b.d(a,"i",function(){return A});b.d(a,"j",function(){return E});b.d(a,
"k",function(){return F});b.d(a,"g",function(){return w});b.d(a,"f",function(){return D});var c="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",k="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",r="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
v="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",B="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",C="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
A="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
E="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",F="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",w="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",D="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(d,a,b){function c(A,E){if(null==A?0:A.length)for(var F=void 0,w=0;w<A.length;w++)if(E(F=A[w]))return F}function k(A){return A.filter(function(E){return 0<E.length})}function r(A,E,F){var w=[];return E.forEach(function(D){(F?D[F].toLowerCase()===A.toLowerCase():D.toLowerCase()===A.toLowerCase())?w.unshift(D):w.push(D)}),w}b.d(a,"e",function(){return v});b.d(a,"f",function(){return B});b.d(a,"c",function(){return c});b.d(a,"b",function(){return k});b.d(a,"a",function(){return C});b.d(a,
"d",function(){return r});d=b(15);var v=function(A,E,F){return F.indexOf(A)===E},B=Object(d.a)(function(A,E){var F={};return E.filter(function(w){return!F[w[A]]&&(F[w[A]]=!0,!0)})}),C=function(A,E){return A.length===E.length&&A.reduce(function(F,w){return F&&-1<E.indexOf(w)},!0)}}})})},"arcgis-components/GroupCards/GroupCheckCard/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Ago2018Checkbox","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/GroupCheckCard/nls/resources"],
function(T,J,p,y,t){return function(m){function f(l){if(g[l])return g[l].exports;var u=g[l]={i:l,l:!1,exports:{}};return m[l].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var g={};return f.m=m,f.c=g,f.d=function(l,u,q){f.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:q})},f.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},f.t=function(l,u){if((1&u&&(l=f(l)),8&u)||4&u&&
"object"==typeof l&&l&&l.__esModule)return l;var q=Object.create(null);if(f.r(q),Object.defineProperty(q,"default",{enumerable:!0,value:l}),2&u&&"string"!=typeof l)for(var z in l)f.d(q,z,function(x){return l[x]}.bind(null,z));return q},f.n=function(l){var u=l&&l.__esModule?function(){return l["default"]}:function(){return l};return f.d(u,"a",u),u},f.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},f.p="",f(f.s=856)}({0:function(m,f,g){function l(d,a){function b(){this.constructor=
d}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");h(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function u(d,a){var b={},c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&0>a.indexOf(c)&&(b[c]=d[c]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(c=Object.getOwnPropertySymbols(d);k<c.length;k++)0>a.indexOf(c[k])&&Object.prototype.propertyIsEnumerable.call(d,c[k])&&
(b[c[k]]=d[c[k]])}return b}function q(d,a,b,c){var k,r=arguments.length,v=3>r?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(d,a,b,c);else for(var B=d.length-1;0<=B;B--)(k=d[B])&&(v=(3>r?k(v):3<r?k(a,b,v):k(a,b))||v);return 3<r&&v&&Object.defineProperty(a,b,v),v}function z(d,a,b,c){return new (b||(b=Promise))(function(k,r){function v(A){try{C(c.next(A))}catch(E){r(E)}}function B(A){try{C(c["throw"](A))}catch(E){r(E)}}
function C(A){var E;A.done?k(A.value):(E=A.value,E instanceof b?E:new b(function(F){F(E)})).then(v,B)}C((c=c.apply(d,a||[])).next())})}function x(d,a){function b(C){return function(A){return function(E){if(c)throw new TypeError("Generator is already executing.");for(;B;)try{if(c=1,k&&(r=2&E[0]?k["return"]:E[0]?k["throw"]||((r=k["return"])&&r.call(k),0):k.next)&&!(r=r.call(k,E[1])).done)return r;switch(k=0,r&&(E=[2&E[0],r.value]),E[0]){case 0:case 1:r=E;break;case 4:return B.label++,{value:E[1],done:!1};
case 5:B.label++;k=E[1];E=[0];continue;case 7:E=B.ops.pop();B.trys.pop();continue;default:if(!(r=B.trys,(r=0<r.length&&r[r.length-1])||6!==E[0]&&2!==E[0])){B=0;continue}if(3===E[0]&&(!r||E[1]>r[0]&&E[1]<r[3]))B.label=E[1];else if(6===E[0]&&B.label<r[1])B.label=r[1],r=E;else if(r&&B.label<r[2])B.label=r[2],B.ops.push(E);else{r[2]&&B.ops.pop();B.trys.pop();continue}}E=a.call(d,B)}catch(F){E=[6,F],k=0}finally{c=r=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([C,A])}}var c,k,r,v,B={label:0,
sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return v={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function n(d,a){for(var b=0,c=a.length,k=d.length;b<c;b++,k++)d[k]=a[b];return d}g.d(f,"d",function(){return l});g.d(f,"a",function(){return e});g.d(f,"f",function(){return u});g.d(f,"c",function(){return q});g.d(f,"b",function(){return z});g.d(f,"e",function(){return x});g.d(f,"g",function(){return n});var h=function(d,
a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(b[k]=c[k])})(d,a)},e=function(){return(e=Object.assign||function(d){for(var a,b=1,c=arguments.length;b<c;b++)for(var k in a=arguments[b])Object.prototype.hasOwnProperty.call(a,k)&&(d[k]=a[k]);return d}).apply(this,arguments)};Object.create;Object.create},128:function(m,f,g){g.d(f,"a",function(){return u});g.d(f,"b",function(){return q});
var l=g(0);m=g(15);var u=function(z,x){var n;return x.thumbnail&&(n=z.restUrl+"/community/groups/"+x.id+"/info/"+x.thumbnail+(z.credential?"?token\x3d"+z.credential.token:"")),n},q=Object(m.a)(function(z,x){return Object(l.a)(Object(l.a)({},x),{thumbURI:u(z,x)})})},15:function(m,f,g){function l(q){return function x(){for(var n=this,h=[],e=0;e<arguments.length;e++)h[e]=arguments[e];return h.length>=q.length?q.call.apply(q,Object(u.g)([this],h)):function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=
arguments[a];return x.call.apply(x,Object(u.g)(Object(u.g)([n],h),d))}}}g.d(f,"a",function(){return l});var u=g(0)},151:function(m,f){m.exports=J},18:function(m,f){m.exports=T},249:function(m,f,g){var l=g(128);f.a=function(u,q){var z=u.group,x=u.stacked,n=u.portal;x={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!z.thumbURI,"gcard-thumbnail--stacked":void 0!==x&&x,"gcard-thumbnail--transparent":u.transparent};if(z.thumbnail&&!z.thumbURI&&n&&(z.thumbURI=Object(l.a)(n,z)),z.thumbURI)return q("img",
{src:z.thumbURI,classes:x,alt:z.title});n=!(!z.title.charAt(0)||!z.title.charAt(0).match(/^\w+$/));return q("div",{key:"group-thumbnail-"+z.id,classes:x},q("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},q("path",{fill:"#"+z.id.substr(z.id.length-6),d:"M0 0h65v65H0z"}),q("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),n?q("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central",
"text-anchor":"middle"},z.title.slice(0,1).toUpperCase()):q("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(m,f){m.exports=p},377:function(m,f){m.exports=y},450:function(m,f){m.exports=t},856:function(m,f,g){g.r(f);var l=g(0),u=g(450),q=g(151);m=g(18);var z=g(249),x=g(308),n=g.n(x);x=g(377);var h=g.n(x);g=function(e){function d(){var a=null!==e&&e.apply(this,arguments)||this;return a.handleCheckClick=function(){var b,c;null!==(c=(b=a.props).shouldDisable)&&void 0!==c&&c.call(b,a.props.group)||(b=a.props.checked?a.props.onUncheckGroup:a.props.onCheckGroup)&&b(a.props.group)},a}return Object(l.d)(d,
e),d.prototype.render=function(a){var b=this.props,c=b.checked,k=b.group,r=b.portal,v=b.key,B=b.shouldDisable;b=k.owner;var C=k.title,A=this.props,E=A.group;var F=E.created;E=E.modified;F=(A=A.sortField)&&"created"===A?u.created+": "+q.format(new Date(F),{selector:"date",formatLength:"medium"}):u.modified+": "+q.format(new Date(0<E?E:F),{selector:"date",formatLength:"medium"});A=(B=!(null==B||!B(this.props.group)))&&this.props.disabledText;return a("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":this.props.checked,
"gcard-gcc__container--disabled":B},key:v,onclick:this.handleCheckClick},a(n.a,{key:"gcard-gcc__checkbox-"+k.id,checked:c,onChange:this.handleCheckClick,title:C}),a(z.a,{group:this.props.group,portal:this.props.portal}),a("div",{"class":"gcard-gcc__flex"},a("div",{"class":"gcard-gcc__title-owner"},a("span",{"class":"gcard-gcc__title"},C),a("a",{href:r.baseUrl+"/home/user.html?user\x3d"+b,"class":"gcard-gcc__owner",target:"_blank"},b),a("span",{"class":"gcard-gcc__small-info"},F),A?a("div",{"class":"gcard-gcc__disabled-text"},
a("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},a("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),a("span",{"class":"margin-left-quarter font-size--2"},this.props.disabledText)):null),a("div",{"class":"gcard-gcc__info"},a("span",null,F))),a(h.a,{key:"gcard-gcc__toggle-"+k.id,id:"gcard-toggle-"+k.id,value:c,handleToggleClick:this.handleCheckClick,
label:""}))},d}(m.Component);f["default"]=g}})})},"arcgis-components/Buttons/Ago2018Checkbox":function(){define(["../Component"],function(T){return function(J){function p(t){if(y[t])return y[t].exports;var m=y[t]={i:t,l:!1,exports:{}};return J[t].call(m.exports,m,m.exports,p),m.l=!0,m.exports}var y={};return p.m=J,p.c=y,p.d=function(t,m,f){p.o(t,m)||Object.defineProperty(t,m,{enumerable:!0,get:f})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,m){if((1&m&&(t=p(t)),8&m)||4&m&&"object"==typeof t&&t&&t.__esModule)return t;var f=Object.create(null);if(p.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:t}),2&m&&"string"!=typeof t)for(var g in t)p.d(f,g,function(l){return t[l]}.bind(null,g));return f},p.n=function(t){var m=t&&t.__esModule?function(){return t["default"]}:function(){return t};return p.d(m,"a",m),m},p.o=function(t,m){return Object.prototype.hasOwnProperty.call(t,
m)},p.p="",p(p.s=825)}({0:function(J,p,y){function t(x,n){function h(){this.constructor=x}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");q(x,n);x.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}function m(x,n){var h={},e;for(e in x)Object.prototype.hasOwnProperty.call(x,e)&&0>n.indexOf(e)&&(h[e]=x[e]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(e=Object.getOwnPropertySymbols(x);d<
e.length;d++)0>n.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(x,e[d])&&(h[e[d]]=x[e[d]])}return h}function f(x,n,h,e){var d,a=arguments.length,b=3>a?n:null===e?e=Object.getOwnPropertyDescriptor(n,h):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(x,n,h,e);else for(var c=x.length-1;0<=c;c--)(d=x[c])&&(b=(3>a?d(b):3<a?d(n,h,b):d(n,h))||b);return 3<a&&b&&Object.defineProperty(n,h,b),b}function g(x,n,h,e){return new (h||(h=Promise))(function(d,a){function b(r){try{k(e.next(r))}catch(v){a(v)}}
function c(r){try{k(e["throw"](r))}catch(v){a(v)}}function k(r){var v;r.done?d(r.value):(v=r.value,v instanceof h?v:new h(function(B){B(v)})).then(b,c)}k((e=e.apply(x,n||[])).next())})}function l(x,n){function h(k){return function(r){return function(v){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,d&&(a=2&v[0]?d["return"]:v[0]?d["throw"]||((a=d["return"])&&a.call(d),0):d.next)&&!(a=a.call(d,v[1])).done)return a;switch(d=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=
v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;d=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=n.call(x,c)}catch(B){v=[6,B],d=0}finally{e=a=0}if(5&v[0])throw v[1];return{value:v[0]?
v[1]:void 0,done:!0}}([k,r])}}var e,d,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(x,n){for(var h=0,e=n.length,d=x.length;h<e;h++,d++)x[d]=n[h];return x}y.d(p,"d",function(){return t});y.d(p,"a",function(){return z});y.d(p,"f",function(){return m});y.d(p,"c",function(){return f});y.d(p,"b",function(){return g});y.d(p,"e",function(){return l});
y.d(p,"g",function(){return u});var q=function(x,n){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])})(x,n)},z=function(){return(z=Object.assign||function(x){for(var n,h=1,e=arguments.length;h<e;h++)for(var d in n=arguments[h])Object.prototype.hasOwnProperty.call(n,d)&&(x[d]=n[d]);return x}).apply(this,arguments)};Object.create;Object.create},16:function(J,p){J.exports=
T},825:function(J,p,y){y.r(p);var t=y(0);J=function(m){function f(g){g=m.call(this,g)||this;return g.handleCheckChange=g.handleCheckChange.bind(g),g}return Object(t.d)(f,m),f.prototype.render=function(g){var l=Object(t.a)({"btn-2018check__wrap":!0},this.props.wrapperClasses),u={"btn-2018check__custom":!0,"btn-2018check__custom--large":this.props.large,"btn-2018check__custom--active":this.props.checked||this.props.indeterminate,"btn-2018check__custom--disabled":this.props.disabled},q=this.props.large?
"20":"16";return g("span",{classes:l,key:this.props.key},g("input",{type:"checkbox",checked:this.props.checked,classes:{"btn-2018check__input":!0,"btn-2018check__input--disabled":this.props.disabled},indeterminate:this.props.indeterminate,onclick:this.handleCheckChange,title:this.props.title,id:this.props.id,"aria-label":this.props.title,disabled:this.props.disabled,"aria-describedby":this.props.describedBy}),g("span",{classes:u},this.props.checked?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",
width:q,height:q,viewBox:"0 0 16 16"},g("path",{d:"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"})):this.props.indeterminate?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:q,height:q,viewBox:"0 0 16 16"},g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 7h8v2H4z"})):null))},f.prototype.handleCheckChange=function(g){var l,u;g.stopPropagation();g.preventDefault();this.props.disabled||null!==(u=null===(l=this.props)||void 0===l?void 0:l.onChange)&&void 0!==u&&
u.call(l,!this.props.checked)},f}(y(16).Component);p["default"]=J}})})},"arcgis-components/GroupCards/MultiselectableGroupCard/index":function(){define(["../../Component","../../Buttons/Ago2018Checkbox","../../GroupBadges/index","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/MultiselectableGroupCard/nls/resources"],function(T,J,p,y,t){return function(m){function f(l){if(g[l])return g[l].exports;var u=g[l]={i:l,l:!1,exports:{}};return m[l].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var g=
{};return f.m=m,f.c=g,f.d=function(l,u,q){f.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:q})},f.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"});Object.defineProperty(l,"__esModule",{value:!0})},f.t=function(l,u){if((1&u&&(l=f(l)),8&u)||4&u&&"object"==typeof l&&l&&l.__esModule)return l;var q=Object.create(null);if(f.r(q),Object.defineProperty(q,"default",{enumerable:!0,value:l}),2&u&&"string"!=typeof l)for(var z in l)f.d(q,
z,function(x){return l[x]}.bind(null,z));return q},f.n=function(l){var u=l&&l.__esModule?function(){return l["default"]}:function(){return l};return f.d(u,"a",u),u},f.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},f.p="",f(f.s=857)}({0:function(m,f,g){function l(d,a){function b(){this.constructor=d}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");h(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,
new b)}function u(d,a){var b={},c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&0>a.indexOf(c)&&(b[c]=d[c]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(c=Object.getOwnPropertySymbols(d);k<c.length;k++)0>a.indexOf(c[k])&&Object.prototype.propertyIsEnumerable.call(d,c[k])&&(b[c[k]]=d[c[k]])}return b}function q(d,a,b,c){var k,r=arguments.length,v=3>r?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=
Reflect.decorate(d,a,b,c);else for(var B=d.length-1;0<=B;B--)(k=d[B])&&(v=(3>r?k(v):3<r?k(a,b,v):k(a,b))||v);return 3<r&&v&&Object.defineProperty(a,b,v),v}function z(d,a,b,c){return new (b||(b=Promise))(function(k,r){function v(A){try{C(c.next(A))}catch(E){r(E)}}function B(A){try{C(c["throw"](A))}catch(E){r(E)}}function C(A){var E;A.done?k(A.value):(E=A.value,E instanceof b?E:new b(function(F){F(E)})).then(v,B)}C((c=c.apply(d,a||[])).next())})}function x(d,a){function b(C){return function(A){return function(E){if(c)throw new TypeError("Generator is already executing.");
for(;B;)try{if(c=1,k&&(r=2&E[0]?k["return"]:E[0]?k["throw"]||((r=k["return"])&&r.call(k),0):k.next)&&!(r=r.call(k,E[1])).done)return r;switch(k=0,r&&(E=[2&E[0],r.value]),E[0]){case 0:case 1:r=E;break;case 4:return B.label++,{value:E[1],done:!1};case 5:B.label++;k=E[1];E=[0];continue;case 7:E=B.ops.pop();B.trys.pop();continue;default:if(!(r=B.trys,(r=0<r.length&&r[r.length-1])||6!==E[0]&&2!==E[0])){B=0;continue}if(3===E[0]&&(!r||E[1]>r[0]&&E[1]<r[3]))B.label=E[1];else if(6===E[0]&&B.label<r[1])B.label=
r[1],r=E;else if(r&&B.label<r[2])B.label=r[2],B.ops.push(E);else{r[2]&&B.ops.pop();B.trys.pop();continue}}E=a.call(d,B)}catch(F){E=[6,F],k=0}finally{c=r=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([C,A])}}var c,k,r,v,B={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return v={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function n(d,a){for(var b=0,c=a.length,k=d.length;b<c;b++,k++)d[k]=
a[b];return d}g.d(f,"d",function(){return l});g.d(f,"a",function(){return e});g.d(f,"f",function(){return u});g.d(f,"c",function(){return q});g.d(f,"b",function(){return z});g.d(f,"e",function(){return x});g.d(f,"g",function(){return n});var h=function(d,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(b[k]=c[k])})(d,a)},e=function(){return(e=Object.assign||function(d){for(var a,
b=1,c=arguments.length;b<c;b++)for(var k in a=arguments[b])Object.prototype.hasOwnProperty.call(a,k)&&(d[k]=a[k]);return d}).apply(this,arguments)};Object.create;Object.create},128:function(m,f,g){g.d(f,"a",function(){return u});g.d(f,"b",function(){return q});var l=g(0);m=g(15);var u=function(z,x){var n;return x.thumbnail&&(n=z.restUrl+"/community/groups/"+x.id+"/info/"+x.thumbnail+(z.credential?"?token\x3d"+z.credential.token:"")),n},q=Object(m.a)(function(z,x){return Object(l.a)(Object(l.a)({},
x),{thumbURI:u(z,x)})})},15:function(m,f,g){function l(q){return function x(){for(var n=this,h=[],e=0;e<arguments.length;e++)h[e]=arguments[e];return h.length>=q.length?q.call.apply(q,Object(u.g)([this],h)):function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];return x.call.apply(x,Object(u.g)(Object(u.g)([n],h),d))}}}g.d(f,"a",function(){return l});var u=g(0)},18:function(m,f){m.exports=T},181:function(m,f,g){g.d(f,"b",function(){return z});g.d(f,"c",function(){return x});g.d(f,"a",
function(){return n});var l=g(63);m=g(5);var u=g(99),q=g(128),z=function(h,e){return Object(l.a)(Object(q.b)(h))(e)},x=Object(l.a)(Object(m.e)("thumbURI")),n=function(h){var e=h.initialSelectedByIds;return!Object(u.a)(h.selectedBy.map(function(d){return d.id}),e)}},249:function(m,f,g){var l=g(128);f.a=function(u,q){var z=u.group,x=u.stacked,n=u.portal;x={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!z.thumbURI,"gcard-thumbnail--stacked":void 0!==x&&x,"gcard-thumbnail--transparent":u.transparent};
if(z.thumbnail&&!z.thumbURI&&n&&(z.thumbURI=Object(l.a)(n,z)),z.thumbURI)return q("img",{src:z.thumbURI,classes:x,alt:z.title});n=!(!z.title.charAt(0)||!z.title.charAt(0).match(/^\w+$/));return q("div",{key:"group-thumbnail-"+z.id,classes:x},q("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},q("path",{fill:"#"+z.id.substr(z.id.length-6),d:"M0 0h65v65H0z"}),q("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),n?q("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?
"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},z.title.slice(0,1).toUpperCase()):q("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(m,f){m.exports=J},349:function(m,f){m.exports=p},377:function(m,f){m.exports=y},408:function(m,f){m.exports=t},5:function(m,f,g){function l(d){return 0===Object.keys(d).length&&d.constructor===Object}function u(d){return null!=d}function q(d,a){return h.apply(null,arguments)}function z(d,a){return e.apply(null,arguments)}g.d(f,"b",function(){return l});g.d(f,"a",function(){return u});g.d(f,"e",function(){return n});g.d(f,"c",function(){return q});g.d(f,"d",function(){return z});var x=
g(0);m=g(15);var n=Object(m.a)(function(d,a){var b=Object(x.a)({},a);return delete b[d],b}),h=Object(m.a)(function(d,a){return Object.keys(a).reduce(function(b,c){return b[c]=d(a[c],c,a),b},{})}),e=Object(m.a)(function(d,a){return Object.keys(a).reduce(function(b,c){return d(a[c],c,a)&&(b[c]=a[c]),b},{})})},63:function(m,f,g){function l(){for(var u=[],q=0;q<arguments.length;q++)u[q]=arguments[q];return function(z){return u.reduceRight(function(x,n){return n(x)},z)}}g.d(f,"a",function(){return l})},
857:function(m,f,g){g.r(f);var l=g(0),u=g(408);m=g(18);var q=g(249),z=g(308),x=g.n(z);z=g(377);var n=g.n(z),h=g(349),e=g.n(h),d=g(181);g=function(b){function c(){var k=null!==b&&b.apply(this,arguments)||this;return k.handleAssignedLinkClick=function(r){r.stopPropagation()},k.handleCheckClick=function(){var r,v;null!==(v=(r=k.props).shouldDisable)&&void 0!==v&&v.call(r,k.props.group)||(r=k.props.checked?k.props.onUncheckGroup:k.props.onCheckGroup,null==r||r(k.props.group))},k}return Object(l.d)(c,
b),c.prototype.render=function(k){var r=this,v=this.props,B=v.checked,C=v.group,A=v.indeterminate,E=v.key,F=v.selectedBy,w=v.initialSelectedByIds,D=v.portal,G=v.shouldDisable,H=v.disabledText;v=v.selectors;var M=C.title,R=C.id+"-badge",N=a(this.props,k);G=!(null==G||!G(C));var K=Object(h.getBadgeTypes)(C,D).map(function(Z){return R+"-"+Z}).join(" "),V=null==v?void 0:v.some(function(Z){return!!Z.username});return k("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":B,"gcard-gcc__container--disabled":G,
"gcard-gcc__container--compact":!0},key:E,onclick:this.handleCheckClick},k(x.a,{key:"gcard-gcc__checkbox-"+C.id,checked:B,indeterminate:A,onChange:this.handleCheckClick,title:M,describedBy:K}),k(q.a,{group:C,portal:D}),k("span",{key:"gcard-gcc__title","class":"gcard-gcc__title"},k("div",null,M),!!v&&V&&A&&k("div",{id:"partial-assigned-container-"+C.id},k("calcite-popover-manager",null,k("calcite-link",{id:"partial-assigned-"+C.id,onclick:this.handleAssignedLinkClick},u.membersAssigned.replace("${num}",
F.length).replace("${total}",v.length))),k("calcite-popover",{"reference-element":"partial-assigned-"+C.id},k("ul",{"class":"padding-right-1"},F.map(function(Z){return k("li",{key:Z.username},Z.username)}))))),k(e.a,{group:C,portal:D,key:"group-badges",id:R}),k("div",{key:"gcard-gcc__details","class":"gcard-gcc__details"},N,Object(d.a)({selectedBy:F,initialSelectedByIds:w})?k("button",{key:"gcard-gcc__revert-button","class":"gcard-gcc__revert-button",onclick:function(Z){var ca,ea;Z.stopPropagation();
null===(ea=(ca=r.props).onRevertGroup)||void 0===ea||ea.call(ca,C)}},u.revert):null),G&&k("div",{"class":"gcard-gcc__disabled-text",key:"disabled-text"},k("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},k("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),k("span",{"class":"margin-left-quarter font-size--2"},H)),k(n.a,{key:"gcard-gcc__toggle-"+
C.id,id:"gcard-toggle-"+C.id,value:B,handleToggleClick:this.handleCheckClick,label:""}))},c}(m.Component);f["default"]=g;var a=function(b,c){var k=b.selectedBy,r=b.allSelectorItemIds,v=b.initialSelectedByIds;return 0===r.length||1===r.length||0===v.length&&0===k.length?null:c("span",{key:"gcard-gcc__share-text","class":"gcard-gcc__share-text",innerHTML:(Object(d.a)({selectedBy:k,initialSelectedByIds:v})?u.willBeShared:u.alreadyShared).replace("${num}",k.length).replace("${total}",r.length)})}},99:function(m,
f,g){function l(h,e){if(null==h?0:h.length)for(var d=void 0,a=0;a<h.length;a++)if(e(d=h[a]))return d}function u(h){return h.filter(function(e){return 0<e.length})}function q(h,e,d){var a=[];return e.forEach(function(b){(d?b[d].toLowerCase()===h.toLowerCase():b.toLowerCase()===h.toLowerCase())?a.unshift(b):a.push(b)}),a}g.d(f,"e",function(){return z});g.d(f,"f",function(){return x});g.d(f,"c",function(){return l});g.d(f,"b",function(){return u});g.d(f,"a",function(){return n});g.d(f,"d",function(){return q});
m=g(15);var z=function(h,e,d){return d.indexOf(h)===e},x=Object(m.a)(function(h,e){var d={};return e.filter(function(a){return!d[a[h]]&&(d[a[h]]=!0,!0)})}),n=function(h,e){return h.length===e.length&&h.reduce(function(d,a){return d&&-1<e.indexOf(a)},!0)}}})})},"arcgis-components/GroupBadges/index":function(){define(["../Component","../GroupBadge/index"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,
y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=
typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},y.p="",y(y.s=853)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):
(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}function k(v){try{r(d["throw"](v))}catch(B){b(B)}}function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");
for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=B;break;case 4:return k.label++,{value:B[1],done:!1};case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=
b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=
h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});t.d(y,"g",function(){return q});var z=function(n,h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,
e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},16:function(p,y){p.exports=T},200:function(p,y,t){var m,f;t.d(y,"b",function(){return f});t.d(y,"a",function(){return g});(function(l){l.collaboration="collaboration";l.featuredContent="featuredContent";l.gallery="gallery";l.openData="openData";l.sharedUpdate="sharedUpdate";l.partnered="partnered";l.anyOrg="anyOrg"})(f||(f=
{}));var g=((m={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
m[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",m[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
m[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",m[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
m[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",m[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
m)},529:function(p,y){p.exports=J},853:function(p,y,t){function m(q,z){var x=[];return q.capabilities&&-1<q.capabilities.indexOf("updateitemcontrol")&&x.push(u.b.sharedUpdate),q.isOpenData&&x.push(u.b.openData),(q.collaborationInfo&&q.collaborationInfo.collaborationId||q.capabilities&&-1<q.capabilities.indexOf("distributed"))&&x.push(u.b.collaboration),z.homePageFeaturedContent&&z.homePageFeaturedContent==="id:"+q.id&&x.push(u.b.featuredContent),z.featuredItemsGroupQuery&&z.featuredItemsGroupQuery===
"id:"+q.id&&x.push(u.b.gallery),q.membershipAccess||x.push(u.b.anyOrg),"collaboration"===q.membershipAccess&&x.push(u.b.partnered),x}t.r(y);t.d(y,"getBadgeTypes",function(){return m});var f=t(0);p=t(16);var g=t(529),l=t.n(g),u=t(200);t=function(q){function z(){return null!==q&&q.apply(this,arguments)||this}return Object(f.d)(z,q),z.prototype.render=function(x){var n=this.props,h=n.id;n=m(n.group,n.portal);return x("div",{"class":"group-badges"},n.map(function(e){return x(l.a,{badgeType:e,key:e,id:h})}))},
z}(p.Component);y["default"]=t}})})},"arcgis-components/GroupBadge/index":function(){define(["../Component","dojo/i18n!../GroupBadge/nls/resources"],function(T,J){return function(p){function y(m){if(t[m])return t[m].exports;var f=t[m]={i:m,l:!1,exports:{}};return p[m].call(f.exports,f,f.exports,y),f.l=!0,f.exports}var t={};return y.m=p,y.c=t,y.d=function(m,f,g){y.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},y.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,f){if((1&f&&(m=y(m)),8&f)||4&f&&"object"==typeof m&&m&&m.__esModule)return m;var g=Object.create(null);if(y.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&"string"!=typeof m)for(var l in m)y.d(g,l,function(u){return m[u]}.bind(null,l));return g},y.n=function(m){var f=m&&m.__esModule?function(){return m["default"]}:function(){return m};return y.d(f,"a",f),f},y.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,
f)},y.p="",y(y.s=854)}({0:function(p,y,t){function m(n,h){function e(){this.constructor=n}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");z(n,h);n.prototype=null===h?Object.create(h):(e.prototype=h.prototype,new e)}function f(n,h){var e={},d;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&0>h.indexOf(d)&&(e[d]=n[d]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(n);a<
d.length;a++)0>h.indexOf(d[a])&&Object.prototype.propertyIsEnumerable.call(n,d[a])&&(e[d[a]]=n[d[a]])}return e}function g(n,h,e,d){var a,b=arguments.length,c=3>b?h:null===d?d=Object.getOwnPropertyDescriptor(h,e):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,h,e,d);else for(var k=n.length-1;0<=k;k--)(a=n[k])&&(c=(3>b?a(c):3<b?a(h,e,c):a(h,e))||c);return 3<b&&c&&Object.defineProperty(h,e,c),c}function l(n,h,e,d){return new (e||(e=Promise))(function(a,b){function c(v){try{r(d.next(v))}catch(B){b(B)}}
function k(v){try{r(d["throw"](v))}catch(B){b(B)}}function r(v){var B;v.done?a(v.value):(B=v.value,B instanceof e?B:new e(function(C){C(B)})).then(c,k)}r((d=d.apply(n,h||[])).next())})}function u(n,h){function e(r){return function(v){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,a&&(b=2&B[0]?a["return"]:B[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,B[1])).done)return b;switch(a=0,b&&(B=[2&B[0],b.value]),B[0]){case 0:case 1:b=
B;break;case 4:return k.label++,{value:B[1],done:!1};case 5:k.label++;a=B[1];B=[0];continue;case 7:B=k.ops.pop();k.trys.pop();continue;default:if(!(b=k.trys,(b=0<b.length&&b[b.length-1])||6!==B[0]&&2!==B[0])){k=0;continue}if(3===B[0]&&(!b||B[1]>b[0]&&B[1]<b[3]))k.label=B[1];else if(6===B[0]&&k.label<b[1])k.label=b[1],b=B;else if(b&&k.label<b[2])k.label=b[2],k.ops.push(B);else{b[2]&&k.ops.pop();k.trys.pop();continue}}B=h.call(n,k)}catch(C){B=[6,C],a=0}finally{d=b=0}if(5&B[0])throw B[1];return{value:B[0]?
B[1]:void 0,done:!0}}([r,v])}}var d,a,b,c,k={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function q(n,h){for(var e=0,d=h.length,a=n.length;e<d;e++,a++)n[a]=h[e];return n}t.d(y,"d",function(){return m});t.d(y,"a",function(){return x});t.d(y,"f",function(){return f});t.d(y,"c",function(){return g});t.d(y,"b",function(){return l});t.d(y,"e",function(){return u});
t.d(y,"g",function(){return q});var z=function(n,h){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])})(n,h)},x=function(){return(x=Object.assign||function(n){for(var h,e=1,d=arguments.length;e<d;e++)for(var a in h=arguments[e])Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a]);return n}).apply(this,arguments)};Object.create;Object.create},16:function(p,y){p.exports=
T},200:function(p,y,t){var m,f;t.d(y,"b",function(){return f});t.d(y,"a",function(){return g});(function(l){l.collaboration="collaboration";l.featuredContent="featuredContent";l.gallery="gallery";l.openData="openData";l.sharedUpdate="sharedUpdate";l.partnered="partnered";l.anyOrg="anyOrg"})(f||(f={}));var g=((m={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
m[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",m[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
m[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",m[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
m[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",m[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
m)},341:function(p,y){p.exports=J},854:function(p,y,t){t.r(y);var m=t(0);p=t(16);var f=t(200),g=t(341);t=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return Object(m.d)(u,l),u.prototype.render=function(q){var z,x=this.props,n=x.badgeType;x=x.id;var h=n===f.b.sharedUpdate?"#ab3c16":"#005e95";return x&&(z=x+"-"+n),q("button",{"class":"group-badge","aria-label":g[n]+": "+g.tooltips[n]},q("svg",{role:"img",style:"\n            width: 16px;\n            height: 16px;\n            vertical-align: -3px;\n          ",
fill:h,key:"group-badge-icon"},n!==f.b.anyOrg&&n!==f.b.collaboration&&q("path",{d:f.a[n]}),n===f.b.anyOrg&&q("g",null,q("path",{d:"M8,6.5A2.5,2.5,0,1,0,10.5,9,2.5,2.5,0,0,0,8,6.5Zm0,4A1.5,1.5,0,1,1,9.5,9,1.5,1.5,0,0,1,8,10.5Z"}),q("polygon",{points:"10.85 2.85 8 5.71 5.15 2.85 5.85 2.15 7.5 3.79 7.5 0.5 8.5 0.5 8.5 3.79 10.15 2.15 10.85 2.85"}),q("polygon",{points:"5.01 10.9 3.97 14.79 3 14.54 3.61 12.28 0.75 13.93 0.25 13.07 3.11 11.42 0.85 10.82 1.11 9.85 5.01 10.9"}),q("polygon",{points:"15.25 13.93 12.39 12.28 13 14.54 12.03 14.79 10.99 10.9 14.89 9.85 15.15 10.82 12.89 11.42 15.75 13.07 15.25 13.93"})),
n===f.b.collaboration&&q("g",null,q("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),q("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),q("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),q("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),q("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),q("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),
q("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
q("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),q("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))),q("span",{"class":"group-badge__title",key:"group-badge-title"},g[n]),q("span",{"class":"group-badge__description",key:"group-badge-description"},g.tooltips[n]),q("span",{"class":"group-badge__description group-badge__description--small",key:"group-badge-description-small",id:z},g[n],": ",g.tooltips[n]))},u}(p.Component);y["default"]=t}})})},"arcgisonline/pages/components/ImageUploadModal/ImageUploadModal":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./UploadStep ./EditStep ./FromMapStep ./shared arcgisonline/pages/utils/alerts dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){Object.defineProperty(J,"__esModule",{value:!0});g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);T=n["default"].uploadLogo;var h=x["default"].GroupWidget.thumbnailDlg,e={title:T.name,drag:T.dragDrop,size:T.bestSize,browse:T.browse,save:n["default"].common.save,cancel:n["default"].common.cancel,fileError:T.validImageRequired,saveError:T.imageEditError,zoom:T.zoom,chooseDiff:T.chooseDiff,
or:h.or,fromMap:h.createFromMap,fromMapDescription:h.createFromMapSub};n=function(d){function a(){N&&document.documentElement.classList.add("overflow-hidden")}var b=d.texts,c=d.height,k=d.zoomToFull,r=d.onSave,v=d.onCancel,B=d.onDelete,C=d.hideSize,A=d.existingImage,E=d.isRound,F=d.fillBackground,w=d.maxSize,D=d.hasDelete,G=d.allowFromMap,H=d.aspectRatio,M=d.contentClass,R=d.itemId,N=d.fromOverlay,K=d.noEdit;d=p.__assign(p.__assign({},e),b);c=t.useReducer(f.reducer,{previewSrc:"",imageScale:1,imageWidth:0,
imageHeight:0,imageTop:0,imageLeft:0,manuallySettingZoom:!1,isModified:!1,zoomValue:"50",currentStep:"upload",imageFormat:"png",fileName:"",editingExisting:!1,transformOrigin:{x:50,y:50},loadingImage:!1,previewImage:void 0,texts:d,hideSize:C,saving:!1,deleting:!1,saveData:void 0,aspectRatio:H||1,height:c,isRound:E,fillBackground:F,maxSize:w,zoomToFull:k,allowFromMap:G,itemId:R,noEdit:K});var V=c[0],Z=c[1];c=t.useMemo(function(){return{state:V,dispatch:Z}},[V]);k=t.useRef(null);C=t.useRef(null);E=
d.title;F=d.save;w=d.cancel;var ca=d.fileError;d=d.chooseDiff;t.useEffect(function(){var ta=function(za){"new_thumb"!==za.data.dataType||V.previewSrc===za.data.dataUrl||V.saving||(Z(f.setImageFromMap(za.data.dataUrl)),window.parent.removeEventListener("message",ta))};window.parent.addEventListener("message",ta)},[]);t.useEffect(function(){V.fromMapLoaded&&Z(f.initSave())},[V.fromMapLoaded]);t.useEffect(function(){V.saveData&&(r(V.saveData),a())},[V.saveData]);t.useEffect(function(){V.saving&&K&&Z(f.updateSaveData({blob:q.dataURIToBlob(V.previewSrc),
base64:V.previewSrc,format:V.imageFormat}))},[V.saving,K]);t.useEffect(function(){A&&Z(f.editExistingImage(A))},[A]);G=function(){return"edit"===V.currentStep};var ea=function(){return"fromMap"===V.currentStep};H="rtl"===document.documentElement.getAttribute("dir");R=function(){Z(f.changeImage())};var ka=function(){Z(f.initDelete());B()},la=function(){v();a()};C.current&&(C.current.loading=V.saving);k.current&&(k.current.loading=V.deleting);return y.h(m.StoreContext.Provider,{value:c},y.h("calcite-modal",
{width:650,active:!0,role:"dialog","aria-modal":"true","aria-labelledby":"image-upload-modal-title",disableOutsideClose:!0,oncalciteModalClose:la,intlClose:x["default"].common.close},y.h("h3",{slot:"header",id:"image-upload-modal-title","aria-label":E,"class":"font-size-2 trailer-0"},E),y.h("div",{slot:"content","class":""+(M||"")},y.h("div",{"class":"panel content-node padding-trailer-1 "+(ea()?"":"org-settings__upload-logo-dlg-content")},"upload"===V.currentStep&&y.h(g["default"],null),G()&&y.h(l["default"],
null),ea()&&y.h(u["default"],null))),(G()||ea())&&!D&&y.h("calcite-button",{slot:"back",appearance:"transparent",color:"blue","icon-start":"chevron-left",width:"full",disabled:V.saving,onClick:R,"icon-flip-rtl":H?"start":""},d),G()&&V.editingExisting&&void 0!==B&&y.h("calcite-button",{ref:k,slot:"back",appearance:"outline",width:"full",color:"blue",disabled:V.saving,onClick:ka},b["delete"]),!D&&y.h("calcite-button",{slot:"secondary",disabled:V.saving,color:"blue",appearance:"outline",width:"full",
onClick:la},w),D&&G()&&y.h("calcite-button",{slot:"secondary",disabled:V.saving||V.deleting,color:"blue",appearance:"outline",width:"full",onClick:R},b.changePhoto),y.h("calcite-button",{ref:C,slot:"primary",color:"blue",appearance:"solid",width:"full",onClick:function(){ea()?window.postMessage("thumbnail_create","*"):!K&&"edit"!==V.currentStep||!V.previewSrc?z["default"].showAlert("error",ca):Z(f.initSave())},disabled:V.deleting},F)))};n.defaultProps={height:412>window.innerWidth?200:300,texts:e,
aspectRatio:1};J["default"]=n})},"arcgisonline/pages/components/ImageUploadModal/store-context":function(){define(["require","exports","preact","preact/hooks"],function(T,J,p,y){Object.defineProperty(J,"__esModule",{value:!0});J.useStoreContext=J.StoreContext=void 0;J.StoreContext=p.createContext({});J.useStoreContext=function(){return y.useContext(J.StoreContext)}})},"arcgisonline/pages/components/ImageUploadModal/reducer":function(){define(["require","exports","tslib"],function(T,J,p){Object.defineProperty(J,
"__esModule",{value:!0});J.reducer=J.setImageFromMap=J.showFromMapStep=J.editExistingImage=J.updatePreviewImage=J.imageLoaded=J.updateZoomScale=J.updateManuallySettingZoom=J.updateImagePosition=J.updateSrcAndFileName=J.updatePreviewSrc=J.updateSaveData=J.initDelete=J.initSave=J.changeImage=J.SET_IMAGE_FROM_MAP=J.SHOW_FROM_MAP_STEP=J.IMAGE_LOADED=J.EDIT_EXISTING_IMAGE=J.UPDATE_PREVIEW_IMAGE=J.UPDATE_SRC_AND_FILE_NAME=J.UPDATE_ZOOM_SCALE=J.UPDATE_MANUALLY_SETTING_ZOOM=J.UPDATE_IMAGE_POSITION=J.UPDATE_PREVIEW_SRC=
J.UPDATE_SAVE_DATA=J.INIT_DELETE=J.INIT_SAVE=J.CHANGE_IMAGE=void 0;J.CHANGE_IMAGE="CHANGE_IMAGE";J.INIT_SAVE="INIT_SAVE";J.INIT_DELETE="INIT_DELETE";J.UPDATE_SAVE_DATA="UPDATE_SAVE_DATA";J.UPDATE_PREVIEW_SRC="UPDATE_PREVIEW_SRC";J.UPDATE_IMAGE_POSITION="UPDATE_IMAGE_POSITION";J.UPDATE_MANUALLY_SETTING_ZOOM="UPDATE_MANUALLY_SETTING_ZOOM";J.UPDATE_ZOOM_SCALE="UPDATE_ZOOM_SCALE";J.UPDATE_SRC_AND_FILE_NAME="UPDATE_SRC_AND_FILE_NAME";J.UPDATE_PREVIEW_IMAGE="UPDATE_PREVIEW_IMAGE";J.EDIT_EXISTING_IMAGE=
"EDIT_EXISTING_IMAGE";J.IMAGE_LOADED="IMAGE_LOADED";J.SHOW_FROM_MAP_STEP="SHOW_FROM_MAP_STEP";J.SET_IMAGE_FROM_MAP="SET_IMAGE_FROM_MAP";J.changeImage=function(){return{type:J.CHANGE_IMAGE}};J.initSave=function(){return{type:J.INIT_SAVE}};J.initDelete=function(){return{type:J.INIT_DELETE}};J.updateSaveData=function(y){return{type:J.UPDATE_SAVE_DATA,payload:y}};J.updatePreviewSrc=function(y){return{type:J.UPDATE_PREVIEW_SRC,payload:y}};J.updateSrcAndFileName=function(y){return{type:J.UPDATE_SRC_AND_FILE_NAME,
payload:y}};J.updateImagePosition=function(y){return{type:J.UPDATE_IMAGE_POSITION,payload:y}};J.updateManuallySettingZoom=function(y){return{type:J.UPDATE_MANUALLY_SETTING_ZOOM,payload:y}};J.updateZoomScale=function(y){return{type:J.UPDATE_ZOOM_SCALE,payload:y}};J.imageLoaded=function(y){return{type:J.IMAGE_LOADED,payload:y}};J.updatePreviewImage=function(y){return{type:J.UPDATE_PREVIEW_IMAGE,payload:y}};J.editExistingImage=function(y){return{type:J.EDIT_EXISTING_IMAGE,payload:y}};J.showFromMapStep=
function(){return{type:J.SHOW_FROM_MAP_STEP}};J.setImageFromMap=function(y){return{type:J.SET_IMAGE_FROM_MAP,payload:y}};J.reducer=function(y,t){var m=t.payload;switch(t.type){case J.CHANGE_IMAGE:return p.__assign(p.__assign({},y),{currentStep:"upload",editingExisting:!1,previewSrc:""});case J.INIT_SAVE:return p.__assign(p.__assign({},y),{saving:!0});case J.INIT_DELETE:return p.__assign(p.__assign({},y),{deleting:!0});case J.UPDATE_SAVE_DATA:return p.__assign(p.__assign({},y),{saveData:p.__assign(p.__assign({},
m),{fileName:y.fileName,isModified:y.isModified})});case J.UPDATE_PREVIEW_SRC:return p.__assign(p.__assign({},y),{previewSrc:m,imageScale:1,currentStep:"edit"});case J.UPDATE_SRC_AND_FILE_NAME:return p.__assign(p.__assign({},y),{previewSrc:m.previewSrc,fileName:m.fileName,imageScale:1,currentStep:y.noEdit?"upload":"edit"});case J.UPDATE_PREVIEW_IMAGE:return p.__assign(p.__assign({},y),{previewImage:m});case J.UPDATE_IMAGE_POSITION:var f=p.__assign({},y);void 0!==m.imageTop&&(f.imageTop=m.imageTop);
void 0!==m.imageLeft&&(f.imageLeft=m.imageLeft);return p.__assign(p.__assign({},f),{isModified:!0});case J.UPDATE_MANUALLY_SETTING_ZOOM:return p.__assign(p.__assign({},y),{manuallySettingZoom:m});case J.EDIT_EXISTING_IMAGE:return p.__assign(p.__assign({},y),{editingExisting:!0,previewSrc:m,currentStep:"edit",loadingImage:!0});case J.UPDATE_ZOOM_SCALE:return p.__assign(p.__assign({},y),{imageScale:m.imageScale,zoomValue:m.zoomValue,isModified:!0});case J.IMAGE_LOADED:f=y.height;var g=y.zoomToFull,
l=y.aspectRatio,u={};if(y.editingExisting)g=m.width,u={imageWidth:g,imageHeight:g,imageScale:f/g,imageTop:0,imageLeft:0,transformOrigin:{x:0,y:0},loadingImage:!1,previewImage:m};else{var q=1===l?f:f*l,z=m.clientWidth,x=m.clientHeight;u="fromMap"===y.currentStep;u={imageWidth:z,imageHeight:x,imageTop:f/2-x/2,imageLeft:f*l/2-z/2,currentStep:u?"fromMap":"edit",transformOrigin:{x:50,y:50},previewImage:m,fromMapLoaded:u};g&&(m=q/(z>x?z:x),u=p.__assign(p.__assign({},u),{imageScale:m,manuallySettingZoom:!0,
zoomValue:""+(50+Math.log(m)/Math.log(1.1)),isModified:!0}))}m=p.__assign(p.__assign({},y),u);return m;case J.SHOW_FROM_MAP_STEP:return p.__assign(p.__assign({},y),{currentStep:"fromMap"});case J.SET_IMAGE_FROM_MAP:return p.__assign(p.__assign({},y),{previewSrc:m,imageScale:1});default:return p.__assign({},y)}}})},"arcgisonline/pages/components/ImageUploadModal/UploadStep":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(T,J,p,y,t,m,f,g){var l=this;Object.defineProperty(J,"__esModule",{value:!0});g=p.__importDefault(g);J["default"]=function(){var u=m.useStoreContext(),q=u.state,z=u.dispatch,x=q.texts;u=q.hideSize;var n=q.allowFromMap,h=t.useRef(null),e=t.useRef(null);t.useEffect(function(){h.current&&h.current.focus()},[h.current]);var d=function(c){c.preventDefault()},a=function(c){var k=e.current;if(k.value||c){var r=c||k.files[0];r&&((null===r||void 0===r?0:r.name)&&/\.(gif|jpg|jpeg|png)$/i.test(r.name)?
(c=new FileReader,c.onload=function(v){return p.__awaiter(l,void 0,void 0,function(){return p.__generator(this,function(B){z(f.updateSrcAndFileName({previewSrc:v.target.result,fileName:r.name||(null===k||void 0===k?void 0:k.value)||""}));return[2]})})},c.readAsDataURL(r)):g["default"].showAlert("error",x.fileError))}},b=function(){z(f.showFromMapStep())};return y.h("div",{"class":"text-center",onDragOver:d,onDragEnter:d,onDrop:function(c){c.preventDefault();a(c.dataTransfer.files[0])},"aria-label":x.drag},
y.h("div",{"class":"icon-large trailer-half leader-quarter text-dark-gray"},y.h("calcite-icon",{icon:"upload"})),y.h("div",{"class":"trailer-0"},y.h("div",{"class":"font-size-1","aria-label":x.drag},x.drag),!u&&y.h("div",{"aria-label":x.size},x.size)),y.h("button",{ref:h,"class":"btn-link btn-link-dark-blue leader-1",onClick:function(){e.current.click()},onKeyDown:function(c){13===c.keyCode&&(c.preventDefault(),e.current.click())},"aria-label":x.browse},y.h("div",{"class":"flex flex-align-center"},
(!q.noEdit||!q.fileName)&&y.h(y.Fragment,null,y.h("calcite-icon",{icon:"image","class":"margin-right-half"})," ",x.browse),q.noEdit&&q.fileName&&y.h(y.Fragment,null,q.fileName," ",y.h("calcite-icon",{icon:"check","class":"margin-left-half image-upload-modal__check-icon"})))),y.h("input",{ref:e,"class":"hide",type:"file",accept:".jpg,.gif,.png,image/jpg,image/gif,image/png",onChange:function(){a()}}),n&&y.h("div",{tabIndex:0,onClick:b},y.h("p",{"class":"text-center leader-1 trailer-half"},y.h("b",
{"class":"horizontal-lines"},y.h("span",null,x.or))),y.h("div",{"class":"text-center panel thumbnail-from-map-container","data-dojo-attach-point":"_createFromMap",id:"createFromMap"},y.h("p",{"class":"trailer-0"},y.h("span",{"class":"flex-center font-size-1"},y.h("div",{"class":"flex flex-align-center"},y.h("calcite-icon",{scale:"m",icon:"map","class":"margin-right-half"})," ",x.fromMap)),y.h("span",{"class":"display-block font-size--2"},x.fromMapDescription)))))}})},"arcgisonline/pages/components/ImageUploadModal/EditStep":function(){define("require exports tslib preact preact/hooks ./TranslucentContainer ./ImageCanvas ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(T,J,p,y,t,m,f,g,l,u){Object.defineProperty(J,"__esModule",{value:!0});m=p.__importDefault(m);f=p.__importDefault(f);u=p.__importDefault(u);J["default"]=function(){var q=g.useStoreContext(),z=q.state,x=q.dispatch,n=z.texts,h=t.useRef(null),e=t.useRef(null),d=z.height*z.aspectRatio;q=z.height+60+"px";var a={width:d+60+"px",height:q};d={width:d+"px",height:z.height+"px"};var b={transform:"scale("+z.imageScale+")",top:z.imageTop+"px",left:z.imageLeft+"px",transformOrigin:z.transformOrigin.x+
"% "+z.transformOrigin.y+"%"};t.useEffect(function(){h.current&&h.current.focus()},[h.current]);t.useEffect(function(){e.current&&x(l.updatePreviewImage(e.current))},[e.current]);var c=function(){x(l.imageLoaded(e.current))},k=function(){u["default"].showAlert("error",n.fileError);x(l.changeImage())},r=function(v){z.manuallySettingZoom?x(l.updateManuallySettingZoom(!1)):x(l.updateZoomScale({imageScale:Math.pow(1.1,v.target.value-50),zoomValue:v.target.value}))};return y.h("div",{"class":"edit-thumb-display",
onWheel:function(v){v.preventDefault();v=0<v.deltaY?1*z.imageScale/1.1:1.1*z.imageScale;x(l.updateZoomScale({imageScale:v,zoomValue:""+(50+Math.log(v)/Math.log(1.1))}))}},y.h(f["default"],{imageContainer:h.current}),y.h("div",{"class":"crop-thumb-container overflow-hidden",style:{height:q}},y.h(m["default"],{onDrag:function(v){x(l.updateImagePosition({imageTop:z.imageTop+v.top,imageLeft:z.imageLeft+v.left}))},style:a},y.h("div",{ref:h,"class":"crop-thumb-clear",tabIndex:0,style:d,onKeyDown:function(v){var B=
!1;switch(v.key){case "ArrowUp":x(l.updateImagePosition({imageTop:z.imageTop-1}));B=!0;break;case "ArrowDown":x(l.updateImagePosition({imageTop:z.imageTop+1}));B=!0;break;case "ArrowLeft":x(l.updateImagePosition({imageLeft:z.imageLeft-1}));B=!0;break;case "ArrowRight":x(l.updateImagePosition({imageLeft:z.imageLeft+1})),B=!0}B&&v.preventDefault()}},z.previewSrc&&y.h("img",{ref:e,src:z.previewSrc,alt:"","class":"preview-image "+(z.loadingImage?"visibility-hidden":""),style:b,onLoad:c,onError:k})))),
"edit"===z.currentStep&&y.h("label",{htmlFor:"","class":"trailer-half leader-half"},n.zoom,y.h("input",{type:"range",value:z.zoomValue,onInput:r,onChange:r,"aria-label":n.zoom}),y.h("span",{"class":"clearfix"},y.h("span",{"class":"left inline-block leader-half"},y.h("calcite-icon",{icon:"image",scale:"s"})),y.h("span",{"class":"right"},y.h("calcite-icon",{icon:"image",scale:"l"})))))}})},"arcgisonline/pages/components/ImageUploadModal/TranslucentContainer":function(){define(["require","exports","preact",
"preact/hooks"],function(T,J,p,y){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=function(t){var m=t.style,f=t.onDrag;t=t.children;var g=y.useState(!1),l=g[0],u=g[1];g=y.useState(void 0);var q=g[0],z=g[1];g=function(){u(!0)};var x=function(h){var e=h.touches,d=h.clientX,a=h.clientY;if(void 0===d||void 0===a){if(null===e||void 0===e||!e.length)return;d=e[0].clientX;a=e[0].clientY}l&&(q?(e=q.top,h=q.left,a-=e,d-=h,f({top:a,left:d}),z({top:e+a,left:h+d})):z({top:a,left:d}))},n=function(){u(!1);
z(void 0)};return p.h("div",{"class":"crop-thumb-translucent overflow-hidden",style:m,onMouseDown:g,onTouchStart:g,onMouseMove:x,onTouchMove:x,onMouseUp:n,onTouchEnd:n,onMouseOut:n},t)}})},"arcgisonline/pages/components/ImageUploadModal/ImageCanvas":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./shared arcgisonline/pages/utils/alerts".split(" "),function(T,J,p,y,t,m,f,g,l){var u=this;Object.defineProperty(J,"__esModule",{value:!0});l=p.__importDefault(l);
J["default"]=function(q){var z=q.imageContainer;q=m.useStoreContext();var x=q.state,n=q.dispatch,h=x.texts,e=t.useRef(null),d=function(c){var k=c.image,r=c.context,v=c.selectionX,B=c.selectionY,C=c.selectionWidth,A=c.selectionHeight,E=c.canvasWidth,F=c.canvasHeight,w=c.minWidth,D=c.minHeight,G=c.drawDimensions,H=c.scaleFactor;c=e.current;c.width=E<w?w:E*H;c.height=F<D?D:F*H;x.maxSize&&(c.width>x.maxSize&&(c.width=x.maxSize),c.height>x.maxSize&&(c.height=x.maxSize));E=G.left*c.width;F=G.top*c.height;
w=G.width*c.width;G=G.height*c.height;!x.isRound&&x.fillBackground&&(r.fillStyle="#efefef",r.fillRect(0,0,c.width,c.height));r.drawImage(k,v,B,C,A,E,F,w,G);x.isRound&&(r.globalCompositeOperation="destination-in",r.beginPath(),r.arc(c.width/2,c.height/2,c.height/2,0,2*Math.PI),r.closePath(),r.fill());k=c.toDataURL("image/png");r=g.dataURIToBlob(k);return{base64:k,blob:r}},a=function(){return new Promise(function(c,k){var r=new Image;-1<x.previewSrc.indexOf("arcgis.com")&&(r.crossOrigin="Anonymous");
r.onload=function(){if(.01>Math.abs(x.aspectRatio-r.width/r.height)&&!x.isModified)c({blob:g.dataURIToBlob(x.previewSrc),base64:x.previewSrc,format:x.imageFormat});else{var v=x.height*x.aspectRatio,B=x.height;var C=x.previewImage.getBoundingClientRect();var A=z.getBoundingClientRect();var E=(A.left-C.left)/C.width;var F=(A.right-C.left)/C.width;var w=(A.top-C.top)/C.height;C=(A.bottom-C.top)/C.height;A=0>E?0:E;var D=0>w?0:w,G=1<F?1:F,H=1<C?1:C,M=x.previewImage.getBoundingClientRect();var R=z.getBoundingClientRect();
R={left:(0<M.left-R.left?M.left-R.left:0)/R.width,top:(0<M.top-R.top?M.top-R.top:0)/R.height,width:((M.right>R.right?R.right:M.right)-(M.left<R.left?R.left:M.left))/R.width,height:((M.bottom>R.bottom?R.bottom:M.bottom)-(M.top<R.top?R.top:M.top))/R.height};M=e.current.getContext("2d");E={image:r,context:M,selectionX:A*x.imageWidth,selectionY:D*x.imageHeight,selectionWidth:G*x.imageWidth-A*x.imageWidth,selectionHeight:H*x.imageHeight-D*x.imageHeight,canvasWidth:F*x.imageWidth-E*x.imageWidth,canvasHeight:C*
x.imageHeight-w*x.imageHeight,minWidth:v,minHeight:B,drawDimensions:R,scaleFactor:1};try{var N=d(p.__assign({},E));if(1E7<N.blob.size||0===N.blob.size)M.clearRect(0,0,e.current.width,e.current.height),N=d(p.__assign(p.__assign({},E),{scaleFactor:1600/r.width}))}catch(K){"NS_ERROR_FAILURE"!==K.name?l["default"].showAlert("error",h.saveError):(M.clearRect(0,0,e.current.width,e.current.height),N=d(p.__assign(p.__assign({},E),{scaleFactor:1600/r.width})))}c({blob:null===N||void 0===N?void 0:N.blob,base64:null===
N||void 0===N?void 0:N.base64,format:x.imageFormat})}};r.onerror=function(){l["default"].showAlert("error",h.fileError)};r.src=x.previewSrc})},b=function(){return p.__awaiter(u,void 0,void 0,function(){var c;return p.__generator(this,function(k){switch(k.label){case 0:return[4,a()];case 1:return c=k.sent(),n(f.updateSaveData(p.__assign({},c))),[2]}})})};t.useEffect(function(){x.saving&&b()},[x.saving]);return y.h("canvas",{ref:e,"class":"upload-image-canvas"})}})},"arcgisonline/pages/components/ImageUploadModal/shared":function(){define(["require",
"exports"],function(T,J){Object.defineProperty(J,"__esModule",{value:!0});J.dataURIToBlob=void 0;J.dataURIToBlob=function(p){var y=atob(p.split(",")[1]);p=p.split(",")[0].split(":")[1].split(";")[0];for(var t=new ArrayBuffer(y.length),m=new Uint8Array(t),f=0;f<y.length;f++)m[f]=y.charCodeAt(f);return new Blob([t],{type:p})}})},"arcgisonline/pages/components/ImageUploadModal/FromMapStep":function(){define("require exports tslib preact ./store-context ./EditStep arcgisonline/esriGeowConfig arcgisonline/sharing/util".split(" "),
function(T,J,p,y,t,m,f,g){Object.defineProperty(J,"__esModule",{value:!0});m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);J["default"]=function(){var l=t.useStoreContext().state;l=(f["default"].isDebug?"webviewer/dist/":"/apps/mapviewer/")+"thumbnailer.html?webmap\x3d"+l.itemId;if(g["default"].isPortal()){var u=f["default"].self.portalHostname.replace(/^[^\/]*/,"");l=l.replace("/apps/",u+"/apps/");l+="\x26extentService\x3d"+encodeURI(f["default"].extentService)}return y.h("div",
{"class":"text-center position: relative;",style:"max-height: 60vh"},y.h("iframe",{"data-dojo-attach-point":"_mapIframe",style:"border:none; overflow:hidden",src:l,width:"600",height:"399"}),y.h("div",{style:"visibility: hidden; position: absolute; top: 0;"},y.h(m["default"],null)))}})},"arcgisonline/pages/components/UpdateViewModal":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline preact preact/hooks preact/compat arcgisonline/esriGeowConfig".split(" "),function(T,J,p,y,
t,m,f,g){Object.defineProperty(J,"__esModule",{value:!0});y=p.__importDefault(y);g=p.__importDefault(g);J["default"]=function(l){var u=l.title,q=l.active,z=l.itemId,x=l.hasDerivative,n=l.onClose,h=function(e){if(null!==e&&void 0!==e&&e.data){var d=JSON.parse(e.data);e=d.type;d=d.value;"create"===e&&(null===d||void 0===d?0:d.id)?(window.location.href="item.html?id\x3d"+(null===d||void 0===d?void 0:d.id),n()):"update"!==e&&"close"!==e||!d||n()}};m.useEffect(function(){window.addEventListener("message",
h);return function(){window.removeEventListener("message",h)}},[]);l=""+g["default"].createViewUrl+z+(x?"\x26hasDerivative\x3dtrue":"");return t.h(t.Fragment,null,f.createPortal(t.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-lablledby":"update-view-modal-title",active:q,oncalciteModalClose:n,intlClose:y["default"].common.close,fullscreen:!0,noPadding:!0},t.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"update-view-modal-title"},u),t.h("div",{slot:"content","class":"flex manage-areas"},
q&&t.h("iframe",{"class":"flex-1 manage-areas__iframe",src:l}))),document.body))}})},"arcgisonline/pages/dijit/Card/_getItemClasses":function(){define("require exports tslib ../../utils/arrays ../../utils/organization dojo/sniff arcgisonline/pages/utils/mapViewer".split(" "),function(T,J,p,y,t,m,f){Object.defineProperty(J,"__esModule",{value:!0});y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);J["default"]=function(g,l){var u,q,z,x=g.url||"";var n=g.isHostedService;var h=g.serviceInfo||
{},e=null!==(q=null===h||void 0===h?void 0:h.capabilities)&&void 0!==q?q:"";q=null===l||void 0===l?void 0:l.userRole;x=l&&-1<x.indexOf(l.orgId);e=-1<e.indexOf("Editing");h=y["default"].includes(g.typeKeywords,"Multi Services View")||h.isMultiServicesView;var d=g.isAdminView?null===q||void 0===q?void 0:q.canUpdateOrgItems():g.canUpdate;n=n&&!h&&(d||e&&(null===q||void 0===q?void 0:q.canEditFeaturesFullControl())&&x);n=null!==(z=g.canEditService)&&void 0!==z?z:n;g.isEditableByUser=n;z=m["default"]("trident");
n=t["default"].isMobile();z=z||n;q="Scene Service"===g.type&&y["default"].includes(g.typeKeywords,"Voxel");h=g.portal.isPortal;n=[].concat(g.types);n.push(g.hasResources?"has-resources":"");n.push(g.hasViewStyle?"has-viewStyle":"");n.push(g.url?"has-url":"");n.push(!h&&y["default"].includes(g.typeKeywords,"Presentation Map")?"has-presentation":"");n.push((null===l||void 0===l?0:l.isOrgUser)&&"Form"===g.type?"is-surveyForm":"");n.push(g.portal&&!g.portal.isPortal&&(null===l||void 0===l?0:l.isOrgUser)&&
"Form"===g.type?"is-surveyFormBrowser":"");n.push(g.isConfigurableApp?"can-configure":"");n.push(g.isEditableByUser&&"Feature Service"===g.type?"can-edit-service":"");n.push(q?"is-voxel":"");n.push(g.isOwner?"is-owner":"");n.push(g.isAdmin?"is-admin":"");n.push((null===l||void 0===l?0:l.isOrgUser)?"":"is-public-user");n.push((null===l||void 0===l?0:l.isOrgAdmin)?"is-admin":"");n.push(g.canUpdate?"can-update":"is-viewer");n.push(y["default"].includes(g.typeKeywords,"Web AppBuilder")&&g.canUpdate&&
!g.origin?"can-edit-wab":"");n.push(!h&&g.canUpdate?"can-create-presentation":"");n.push((null===l||void 0===l?0:l.isOrgUser)&&"Notebook"===g.type?"is-notebook":"");q=-1<(null===(u=g.openIn)||void 0===u?void 0:u.indexOf("mapViewer"));n.push(q&&!z?"is-map-viewer-beta":"");n.push(l&&(null===l||void 0===l?void 0:l.defaultMapViewer)!==f.MapViewerType.Modern?"is-map-viewer-classic":"is-map-viewer-modern");"OGCFeatureServer"===g.type&&n.push("no-legacy-viewer-support");g.addBlockClasses(n);return n}})},
"arcgisonline/pages/dijit/OrgPopup/OrgPopup":function(){define("require exports tslib esri/Evented dojo/text!./OrgPopup.html dojo/i18n!../../../nls/arcgisonline dojo/on dojo/keys dijit/_TemplatedMixin dijit/_WidgetBase dijit/popup dijit/TooltipDialog arcgisonline/pages/utils/dom arcgisonline/pages/utils/focus arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);
f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);return function(){function d(a,b){this.templateString=t["default"];this.i18n=m["default"];this.icons=h["default"]}d.prototype.postCreate=function(){this.inherited(arguments);this.dialog=new z["default"]({"class":"profile-popup",title:"",content:this.domNode,_onKey:this.handleDialogKeydown.bind(this)});
this.render();this.addEventListeners()};d.prototype.open=function(){var a=this;q["default"].open({popup:this.dialog,orient:["below","above"],around:this.opener,onCancel:function(){a.opener.focus();a.close()}});this.dialog.domNode.parentElement.classList.add("profile-popup__container");var b=n["default"].getFocusableElements(this.dialog.domNode);this.firstFocusItem=b[0];this.lastFocusItem=b[b.length-1];this.firstFocusItem.focus();setTimeout(function(){x["default"].showHide(a.descToggle,a.descEl.scrollHeight>
a.descEl.clientHeight)},100)};d.prototype.close=function(){q["default"].close(this.dialog);this.dialog.destroy();this.destroy();this.emit("close")};d.prototype.render=function(){x["default"].showHide(this.descContainer,!!this.item.verified.description);this.item.verified.description&&(this.descEl.innerHTML=this.item.verified.description)};d.prototype.addEventListeners=function(){var a=this;this.own(f["default"](this.closeIcon,"click",function(){q["default"].close(a.dialog)}),f["default"](this.domNode,
"click",function(b){b.stopPropagation()}),f["default"](document.body,"click",function(){a.close()}),f["default"](this.descToggle,"click",function(){return a.handleDescToggle()}))};d.prototype.handleDialogKeydown=function(a){var b=this;if(a.keyCode===g["default"].TAB)if(a.stopPropagation(),this.lastFocusItem!==a.target||a.shiftKey)a.shiftKey&&this.firstFocusItem===a.target&&(a.preventDefault(),this.opener.focus(),this.close());else{a.preventDefault();var c=n["default"].getFocusableElements(document.body);
c.forEach(function(k,r){k===b.opener&&c[r+1].focus()});this.close()}};d.prototype.handleDescToggle=function(){this.descContainer.classList.toggle("profile-popup__bio-container--expanded")};return d=p.__decorate([e["default"](u["default"],l["default"],y["default"])],d)}()})},"arcgisonline/pages/organization/widgets/onboard/OnboardBanner":function(){define("require exports tslib dojo/topic dojo/text!./templates/OnboardBanner.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../../utils/dom ../../../utils/organization ../../../utils/icons ../../../../tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){this.templateString=t["default"];this.i18n=m["default"];this.icons=q["default"];this.messageClasses=this.contentClasses="";this.hideClose=this.hideLearnMore=!1;this.content=""}x.prototype.postCreate=function(){var n=this;this.inherited(arguments);
this._closeBtn.addEventListener("click",function(){u["default"].createOnboardCookie(n.cookieKey);y["default"].publish("onboard-banner/close");l["default"].hideNode(n.domNode)});this.content?this.contentContainer.innerHTML=this.content:(this.hideLearnMore&&l["default"].hideNode(this._learnMoreBtn),this.hideClose&&l["default"].hideNode(this._closeBtn),this.learnMoreText&&(this._learnMoreBtn.textContent=this.learnMoreText),this._learnMoreBtn.addEventListener("click",function(){n.handleLearnMoreClick()}))};
x.prototype.handleLearnMoreClick=function(){y["default"].publish("onboard-banner/learn-more")};x.prototype.focusOnMore=function(){this._learnMoreBtn.focus()};return x=p.__decorate([z["default"](g["default"],f["default"])],x)}()})},"arcgisonline/pages/user/settings/rows/NameRow":function(){define("require exports tslib dojo/on dojo/text!./templates/NameRow.html arcgisonline/pages/utils/user arcgisonline/pages/utils/dom arcgisonline/pages/utils/validation ./BaseRow ./EditMixin arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);return function(){function n(h,e){this.templateString=t["default"];this.buttonId=""}n.prototype.postCreate=function(){this.inherited(arguments);this.buttonId&&(this.editBtn.id=this.buttonId);var h=!(q["default"].useDefaultIdentityStore||
this.isArcGISUser||this.isEnterpriseUser)&&!this.isSocialUser;this.canUpdate&&!h&&f["default"].showNode(this.editBtn);this.addEventListeners()};n.prototype.hideForm=function(){this.inherited(arguments);g["default"].clearState([this.firstNameInput,this.firstNameError]);g["default"].clearState([this.lastNameInput,this.lastNameError])};n.prototype.addEventListeners=function(){var h=this;this.own(y["default"](this.editBtn,"click",function(){h.showForm()}),y["default"](this.cancelBtn,"click",function(){h.firstNameInput.value=
h.profile.firstName;h.lastNameInput.value=h.profile.lastName;h.hideForm()}),y["default"](this.saveBtn,"click",function(){return h.handleSaveClick()}),y["default"](this.firstNameInput,"keyup",function(){h.validateInput(h.firstNameInput,h.firstNameError)}),y["default"](this.lastNameInput,"keyup",function(){h.validateInput(h.lastNameInput,h.lastNameError)}))};n.prototype.validateInput=function(h,e){h.value?g["default"].clearState([h,e]):g["default"].setInvalidState(h,e)};n.prototype.handleSaveClick=
function(){var h=this,e=z["default"].stripHTML(this.firstNameInput.value.trim()),d=z["default"].stripHTML(this.lastNameInput.value.trim());if(e&&d)if(q["default"].useDefaultIdentityStore||this.isArcGISUser||this.isEnterpriseUser||this.isSocialUser){var a={firstName:e,lastName:d},b=m["default"].createFullName(a,this.profile.culture||this.portal.culture);a.fullName=b;this.updateProfile(a,this.i18n.profileSuccess,this.i18n.profileError).then(function(){h.displayValue.textContent=b;var c=h.isOwner&&(h.isEnterpriseUser?
a.fullName!==h.profile.fullName:a.firstName!==h.profile.firstName||a.lastName!==h.profile.lastName);h.isOwner&&h.portalUser.fullName!==b&&(h.portal.portalUser.fullName=h.portalUser.fullName=q["default"].userInfo.fullName=b);c&&location.reload();h.profile.firstName=e;h.profile.lastName=d;h.profile.fullName=b;h.hideForm()})}else this.hideForm();else this.validateInput(this.firstNameInput,this.firstNameError),this.validateInput(this.lastNameInput,this.lastNameError)};return n=p.__decorate([x["default"](l["default"],
u["default"])],n)}()})},"arcgisonline/pages/user/settings/rows/BioRow":function(){define("require exports tslib dojo/query dojo/on dojo/text!./templates/BioRow.html ./BaseRow ./EditMixin arcgisonline/pages/utils/dom arcgisonline/pages/utils/strings arcgisonline/sharing/util arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u,q,z){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);
q=p.__importDefault(q);z=p.__importDefault(z);return function(){function x(n,h){this.templateString=m["default"];this.canUpdate=!1}x.prototype.postCreate=function(){this.inherited(arguments);this.setDisplayValue(this.profile.description);this.setTextareaValue(this.profile.description);this.canUpdate||(l["default"].showNode(this.readonlyContainer),l["default"].hideNode(this.editBtn));this.addEventListeners();this.showHideEllipsis()};x.prototype.addEventListeners=function(){var n=this;this.own(t["default"](this.editBtn,
"click",function(){n.showForm()}),t["default"](this.cancelBtn,"click",function(){n.setTextareaValue(n.profile.description);n.hideForm()}),t["default"](this.saveBtn,"click",function(){return n.handleSaveClick()}),t["default"](this.readonlyToggle,"click",function(){return n.handleMoreToggleClick()}))};x.prototype.showHideEllipsis=function(){var n=this;setTimeout(function(){if(n.canUpdate){var h=n.displayValue.clientHeight,e=n.displayValue.scrollHeight;l["default"].showHide(n.editEllipsis,e>h)}else h=
n.readonlyValue.clientHeight,e=n.readonlyValue.scrollHeight,l["default"].showHide(n.readonlyToggle,e>h)},100)};x.prototype.handleMoreToggleClick=function(){this.readonlyContainer.classList.toggle("profile-bio__readonly--expanded")};x.prototype.handleSaveClick=function(){var n=this,h=u["default"].escapeNewlines(q["default"].stripHTML(this.bioTextarea.value));this.updateProfile({description:h,clearEmptyFields:!0},this.i18n.profileSuccess,this.i18n.profileError).then(function(){n.setDisplayValue(h);
n.showHideEllipsis();n.profile.description=n.bioTextarea.value=q["default"].stripHTML(n.bioTextarea.value);n.hideForm()})};x.prototype.setDisplayValue=function(n){(n=n||"")&&(n=u["default"].escapeNewlines(u["default"].addHyperlinks(u["default"].restoreNewlines(n))));n=u["default"].insertHTMLLineBreaks(n);this.readonlyValue.innerHTML=n;this.displayValue.innerHTML=n||this.i18n.addBio;n=y["default"]("a",this.displayValue);0<n.length&&this.own(n.on("click",function(h){h.stopPropagation()}))};x.prototype.setTextareaValue=
function(n){this.bioTextarea.value=u["default"].restoreNewlines(n)};return x=p.__decorate([z["default"](f["default"],g["default"])],x)}()})},"arcgisonline/pages/user/settings/rows/AccessRow":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/AccessRow.html dojo/i18n!../../../../nls/arcgisonline arcgisonline/pages/utils/dom arcgisonline/pages/utils/icons ./BaseRow arcgisonline/tsutils/declareDecorator".split(" "),function(T,J,p,y,t,m,f,g,l,u,q){y=p.__importDefault(y);
t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);var z;(function(x){x.Private="private";x.Organization="org";x.Public="public"})(z||(z={}));return function(){function x(n,h){this.templateString=m["default"];this.labelText=this.i18n.profileVis;this.canUpdate=!1}x.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};x.prototype.render=function(){var n,
h=this,e=this.i18n,d=e.privateLabel,a=e.orgLabel;e=e.everyone;var b=(n={},n[z.Private]={text:d,icon:l["default"].inline.user["16"]},n[z.Organization]={text:a,icon:l["default"].inline.organization["16"]},n[z.Public]={text:e,icon:l["default"].inline.globe["16"]},n);n=this.profile.access?b[this.profile.access]:b[z.Public];this.readonlyValue.innerHTML=n.icon+" "+n.text;this.domNode.classList.remove("org-settings__card-row");this.canUpdate?([{text:d,value:z.Private},{text:a,value:z.Organization},{text:e,
value:z.Public}].forEach(function(c){var k=c.text;c=c.value;if(!h.portal.isPortal&&h.portal.id||c!==z.Organization)k=new Option(k,c),h.profile.isCoordinator&&c===z.Private&&(k.text+=" "+f["default"].userProfile.privateNotAvail,k.disabled=!0),h.select.add(k)}),this.select.value=this.profile.access||z.Public,this.showHideVisDesc(),this.select.classList.add("full-width"),this.select.classList.remove("leader-half"),this.select.classList.add("leader-quarter")):(g["default"].hideNode(this.editContainer),
g["default"].showNode(this.readonlyContainer))};x.prototype.showHideVisDesc=function(){var n=this.profile.access===z.Public&&!!this.portal.id||this.profile.access===z.Private;g["default"].showHide(this.privateVisDesc,n);n&&(this.visDescText.textContent=this.profile.access===z.Public?this.i18n.publicVisItems:this.i18n.privateVisItems)};x.prototype.addEventListeners=function(){var n=this;this.own(t["default"](this.select,"change",function(){return n.handleOptionsChange()}))};x.prototype.handleOptionsChange=
function(){var n=this,h=this.select.value;this.updateProfile({access:h},this.i18n.profileSuccess,this.i18n.profileError).then(function(){n.profile.access=h;n.showHideVisDesc();n.emit("access/change",{access:h})},function(){n.select.value=n.profile.access||z.Public})};return x=p.__decorate([q["default"](u["default"],y["default"])],x)}()})},"arcgisonline/pages/user/settings/rows/ProfileImageRow":function(){define("require exports tslib preact dojo/text!./templates/ProfileImageRow.html dojo/i18n!../../../../nls/arcgisonline dijit/a11yclick arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/dijit/MemberThumb arcgisonline/pages/portal/PortalUser arcgisonline/pages/components/ImageUploadModal/ImageUploadModal ./BaseRow arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n,h,e){t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);return function(){function d(a,b){this.templateString=t["default"];this.canUpdate=!1;this.hideModal=this.hideModal.bind(this);this.handleDialogSave=this.handleDialogSave.bind(this);this.handleDeletePhoto=
this.handleDeletePhoto.bind(this)}d.prototype.postCreate=function(){this.inherited(arguments);this.createThumb();this.renderSocialIcon();this.addEventListeners()};d.prototype.renderSocialIcon=function(){if(this.canUpdate){var a={facebook:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xml:space\x3d"preserve" version\x3d"1.1" focusable\x3d"false" style\x3d"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox\x3d"0 0 14222 14222" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cstyle type\x3d"text/css"\x3e.fil0 {fill:#1977F3;fill-rule:nonzero;}.fil1 {fill:#FEFEFE;fill-rule:nonzero;}\x3c/style\x3e\x3cg id\x3d"Layer_x0020_1"\x3e\x3cpath class\x3d"fil0" d\x3d"M14222 7111c0,-3927 -3184,-7111 -7111,-7111 -3927,0 -7111,3184 -7111,7111 0,3549 2600,6491 6000,7025l0 -4969 -1806 0 0 -2056 1806 0 0 -1567c0,-1782 1062,-2767 2686,-2767 778,0 1592,139 1592,139l0 1750 -897 0c-883,0 -1159,548 -1159,1111l0 1334 1972 0 -315 2056 -1657 0 0 4969c3400,-533 6000,-3475 6000,-7025z"\x3e\x3c/path\x3e\x3cpath class\x3d"fil1" d\x3d"M9879 9167l315 -2056 -1972 0 0 -1334c0,-562 275,-1111 1159,-1111l897 0 0 -1750c0,0 -814,-139 -1592,-139 -1624,0 -2686,984 -2686,2767l0 1567 -1806 0 0 2056 1806 0 0 4969c362,57 733,86 1111,86 378,0 749,-30 1111,-86l0 -4969 1657 0z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e',
google:'\x3csvg version\x3d"1.1" id\x3d"google_icon" focusable\x3d"false" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" x\x3d"0px" y\x3d"0px" viewBox\x3d"0 0 533.5 544.3" style\x3d"enable-background:new 0 0 533.5 544.3;" xml:space\x3d"preserve"\x3e\x3cstyle type\x3d"text/css"\x3e.st0{fill:#4285F4;}.st1{fill:#34A853;}.st2{fill:#FBBC04;}.st3{fill:#EA4335;}\x3c/style\x3e\x3cg\x3e\x3cpath class\x3d"st0" d\x3d"M533.5,278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1,33.8-25.7,63.7-54.4,82.7v68h87.7 C503.9,431.2,533.5,361.2,533.5,278.4z"\x3e\x3c/path\x3e\x3cpath class\x3d"st1" d\x3d"M272.1,544.3c73.4,0,135.3-24.1,180.4-65.7l-87.7-68c-24.4,16.6-55.9,26-92.6,26c-71,0-131.2-47.9-152.8-112.3 H28.9v70.1C75.1,486.3,169.2,544.3,272.1,544.3z"\x3e\x3c/path\x3e\x3cpath class\x3d"st2" d\x3d"M119.3,324.3c-11.4-33.8-11.4-70.4,0-104.2V150H28.9c-38.6,76.9-38.6,167.5,0,244.4L119.3,324.3z"\x3e\x3c/path\x3e\x3cpath class\x3d"st3" d\x3d"M272.1,107.7c38.8-0.6,76.3,14,104.4,40.8l0,0l77.7-77.7C405,24.6,339.7-0.8,272.1,0C169.2,0,75.1,58,28.9,150 l90.4,70.1C140.8,155.6,201.1,107.7,272.1,107.7z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e',
github:'\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" class\x3d"octicon octicon-mark-github" viewBox\x3d"0 0 16 16"\x3e\x3cg\x3e\x3cpath fill-rule\x3d"evenodd" d\x3d"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e',
apple:'\x3csvg version\x3d"1.1" id\x3d"apple_logo" class\x3d"svg-icon-black" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" x\x3d"0px" y\x3d"0px" viewBox\x3d"0 0 22.773 22.773" style\x3d"enable-background:new 0 0 22.773 22.773;" xml:space\x3d"preserve"\x3e\x3cg\x3e\x3cpath d\x3d"M15.769,0c0.053,0,0.106,0,0.162,0c0.13,1.606-0.483,2.806-1.228,3.675c-0.731,0.863-1.732,1.7-3.351,1.573 c-0.108-1.583,0.506-2.694,1.25-3.561C13.292,0.879,14.557,0.16,15.769,0z"/\x3e\x3cpath d\x3d"M20.67,16.716c0,0.016,0,0.03,0,0.045c-0.455,1.378-1.104,2.559-1.896,3.655c-0.723,0.995-1.609,2.334-3.191,2.334 c-1.367,0-2.275-0.879-3.676-0.903c-1.482-0.024-2.297,0.735-3.652,0.926c-0.155,0-0.31,0-0.462,0 c-0.995-0.144-1.798-0.932-2.383-1.642c-1.725-2.098-3.058-4.808-3.306-8.276c0-0.34,0-0.679,0-1.019 c0.105-2.482,1.311-4.5,2.914-5.478c0.846-0.52,2.009-0.963,3.304-0.765c0.555,0.086,1.122,0.276,1.619,0.464 c0.471,0.181,1.06,0.502,1.618,0.485c0.378-0.011,0.754-0.208,1.135-0.347c1.116-0.403,2.21-0.865,3.652-0.648 c1.733,0.262,2.963,1.032,3.723,2.22c-1.466,0.933-2.625,2.339-2.427,4.74C17.818,14.688,19.086,15.964,20.67,16.716z"/\x3e\x3c/g\x3e\x3c/svg\x3e'};
this.profile.provider&&a[this.profile.provider]&&(this.socialIcon.innerHTML=a[this.profile.provider],q["default"].showNode(this.socialIcon))}};d.prototype.createThumb=function(){this.member=new x["default"](p.__assign(p.__assign({},this.profile),{portal:this.portal}));this.memberThumb&&this.memberThumb.destroy();this.memberThumb=new z["default"]({member:this.member,cssClasses:"member-thumb--large trailer-half"});if(this.profile.thumbnail){var a=-1<this.memberThumb.domNode.querySelector("img").src.indexOf("?");
this.memberThumb.domNode.querySelector("img").src+=(a?"\x26":"?")+"refresh-ts\x3d"+(new Date).getTime()}this.thumbContainer.appendChild(this.memberThumb.domNode);this.canUpdate&&(this.thumbContainer.classList.add("member-thumb--editable"),this.thumbContainer.tabIndex=0,this.thumbContainer.setAttribute("aria-label",this.i18n.editProfileImage))};d.prototype.addEventListeners=function(){var a=this;this.own(f["default"](this.thumbContainer,function(){return a.handleUploadClick()}))};d.prototype.handleUploadClick=
function(){this.canUpdate&&(this.modalContainer||(this.modalContainer=document.createElement("div"),this.modalContainer.classList.add("user-profile__photo-dlg"),document.body.appendChild(this.modalContainer)),this.renderImageModal())};d.prototype.renderImageModal=function(){var a;this.member.thumbnailUrl&&this.member.thumbnailUrl!==this.member.defaultThumbnailUrl&&(a=""+this.member.thumbnailUrl+(-1<this.member.thumbnailUrl.indexOf("?")?"\x26":"?")+"w\x3d400\x26refresh-ts\x3d"+(new Date).getTime());
var b=m["default"].userProfile;y.render(y.h(n["default"],{texts:{title:b.uploadPhoto,size:b.bestSize,"delete":b.deletePhoto,changePhoto:b.changePhoto},onSave:this.handleDialogSave,onCancel:this.hideModal,onDelete:this.handleDeletePhoto,height:200,existingImage:a,maxSize:2E3,isRound:!0,hasDelete:!0}),this.modalContainer)};d.prototype.hideModal=function(){y.render(null,this.modalContainer);this.thumbContainer.focus()};d.prototype.handleDeletePhoto=function(){var a=this;g["default"].request({url:g["default"].getSecureUrl(l["default"].restBaseUrl)+
"community/users/"+this.profile.username+"/deleteThumbnail"},{usePost:!0}).then(function(){u["default"].showAlert("success",a.i18n.photoDeleteSuccess);a.hideModal();a.profile.thumbnail="";a.createThumb()},function(){u["default"].showAlert("error",a.i18n.photoDeleteError);a.hideModal()})};d.prototype.handleDialogSave=function(a){var b=this;a=a.blob;var c=new FormData;c.append("thumbnail",a);g["default"].request({url:g["default"].getSecureUrl(l["default"].restBaseUrl)+"community/users/"+this.profile.username+
"/update",form:c},{usePost:!0}).then(function(k){k.success?(u["default"].showAlert("success",b.i18n.updateSuccess),b.profile.thumbnail="blob.png",b.createThumb()):b.handleUpdateError(k);b.hideModal()},function(k){b.handleUpdateError(k);b.hideModal()})};return d=p.__decorate([e["default"](h["default"])],d)}()})},"arcgisonline/pages/user/FeedbackOverlay":function(){define("require exports tslib esri/Evented dojo/query dojo/text!./FeedbackOverlay.html dojo/i18n!../../nls/arcgisonline dojo/string dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/icons arcgisonline/pages/utils/organization arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q,z,x,n){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);return function(){function h(e,d){this.i18n=f["default"];this.title=this.i18n.userProfile.giveFeedback;this.background="white";this.constrain=!0;this.maxWidth=650;this.closeOnScrimClick=!1;this.i18n.feedbackOverlay=
p.__assign({},f["default"].userProfile.feedbackOverlay);this.overlayContents=g["default"].substitute(m["default"],{i18n:this.i18n,launchIcon:z["default"]["inline-end"].launch[16]})}h.prototype.postCreate=function(){this.inherited(arguments);this._primaryBtn.textContent=this.i18n.feedbackOverlay.send;this.checkboxes=t["default"]("input[type\x3dcheckbox]",this.domNode)};h.prototype.open=function(){var e=this;this.inherited(arguments);this.own(this.checkboxes.on("change",function(){return e.handleCheckboxChange()}))};
h.prototype.close=function(){this.inherited(arguments);this.emit("close")};h.prototype.handlePrimary=function(){x["default"].createOnboardCookie("profile-feedback");var e=[];this.checkboxes.forEach(function(d){d.checked&&e.push(d.dataset.telemetryLabel)});this.emit("save",{selected:e});this.close()};h.prototype.handleCheckboxChange=function(){var e=this.domNode.querySelector(".js-no-features-checkbox"),d=e.checked,a=t["default"]("input[type\x3dcheckbox]:checked").length;d?t["default"](".js-features-cb",
this.domNode).forEach(function(b){b.checked=!1;b.disabled=!0}):1<=a?e.disabled=!0:this.checkboxes.attr("disabled",!1)};return h=p.__decorate([n["default"](u["default"],l["default"],q["default"],y["default"])],h)}()})},"arcgisonline/pages/user/SocialProfiles":function(){define("require exports tslib dojo/on dojo/text!./SocialProfiles.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(T,J,p,y,t,m,f,g,l,u,q){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);return function(){function z(x,n){this.templateString=t["default"];this.i18n=p.__assign(p.__assign(p.__assign({},m["default"].common),m["default"].userProfile),m["default"].userProfile.socialForm);this.icons=l["default"]}z.prototype.postCreate=function(){this.inherited(arguments);this.addEventListeners()};
z.prototype.addEventListeners=function(){var x=this;this.own(y["default"](this.editBtn,"click",function(){return x.handleEditClick()}),y["default"](this.saveBtn,"click",function(){return x.handleSaveClick()}),y["default"](this.cancelBtn,"click",function(){return x.handleCancelClick()}))};z.prototype.handleSaveClick=function(){u["default"].hideNode(this.editForm)};z.prototype.handleCancelClick=function(){u["default"].hideNode(this.editForm)};z.prototype.handleEditClick=function(){u["default"].showNode(this.editForm)};
return z=p.__decorate([q["default"](g["default"],f["default"])],z)}()})},"url:arcgisonline/pages/item/widgets/templates/_loader.html":'\x3cdiv class\x3d"loader is-active padding-leader-3 padding-trailer-3"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/dijit/Alert/Alert.html":'\x3cdiv class\x3d"alert alert-${modifier} alert-fixed alert-fade-in-down leader-1 trailer-1 ${cssClasses}"\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-${modifier}" aria-label\x3d"${iconAltText}"\x3e\r\n      ${!icon}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0 alert__text-container" role\x3d"status"\x3e\r\n      ${!text}\r\n      \x3cdiv data-dojo-attach-point\x3d"_listContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"alert-close btn-link btn-link-black js-alert-close" aria-label\x3d"${i18n.common.close}"\x3e\r\n      ${!icons.x.32}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryPicker.html":'\x3cdiv class\x3d"leader-half"\x3e\r\n  \x3cdiv\r\n    class\x3d"js-add-category-error alert alert-red font-size--3 padding-leader-quarter padding-trailer-quarter trailer-quarter"\r\n  \x3e\r\n    ${i18n.contentCategories.addCategoryError}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"category-picker"\x3e\r\n    \x3cdiv class\x3d"font-size--1 category-picker__chip-wrap js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"hide category-picker__default-text font-size--1" data-dojo-attach-point\x3d"defaultTextContainer"\x3e${defaultText}\x3c/div\x3e\r\n    \x3cdiv class\x3d"dropdown js-add-category-dropdown leader-half trailer-half category-picker__dropdown"\x3e\r\n      \x3cspan class\x3d"font-size--1 category-picker__dropdown-btn"\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size--1 js-add-category-dropdown-button"\r\n          tabindex\x3d"0"\r\n          aria-haspopup\x3d"true"\r\n          aria-expanded\x3d"false"\r\n          type\x3d"button"\r\n        \x3e\r\n          \x3cspan class\x3d"text-green"\x3e${!icons.inline.plus-f.16}\x3c/span\r\n          \x3e${i18n.contentCategories.addCategory}${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"dropdown-menu leader-quarter category-picker__dropdown-menu"\x3e\r\n        \x3cdiv class\x3d"category-picker-search-wrap"\x3e\r\n          \x3cinput\r\n            type\x3d"text"\r\n            class\x3d"add-category-input js-add-category-input leader-0"\r\n            placeholder\x3d"${i18n.contentCategories.filterCategories}"\r\n            aria-label\x3d"${i18n.contentCategories.addCategoryToItem}"\r\n          /\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\r\n          class\x3d"js-add-category-dropdown-menu category-picker-dropdown-nav padding-leader-half padding-trailer-half padding-left-half padding-right-half filter-tree--always-open"\r\n          role\x3d"menu"\r\n        \x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/Category.html":'\x3cli class\x3d"js-category-picker-item filter-tree-item category-picker--add-category-dropdown ${isActive}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3cspan class\x3d"category-picker--add-category-dropdown-icon"\x3e${icons.check.16}\x3c/span\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link category-picker--add-category-dropdown-link js-add-category-dropdown-link ${isSelected}" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e${title}\x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"${role}"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryChip.html":'\x3cspan class\x3d"label filter-label js-category-chip" data-category-name\x3d"${category}"\x3e\r\n  ${category:formatCategoryChip}\r\n  \x3cbutton class\x3d"js-category-chip-remove btn-link filter-label-remove margin-left-quarter right" aria-label\x3d"${removeText}" data-category-name\x3d"${category}"\x3e${icons.x.16}\x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/InlineEdit.html":'\x3cdiv\x3e\r\n    \x3ch1 class\x3d"${titleClass} break-word flex text-ellipsis" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"if-name js-view subnav-title__name" id\x3d"${titleId}"\x3e\x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn btn-transparent padding-leader-quarter font-size--3 ${editButtonClasses}" aria-label\x3d"${inputLabel}"\x3e${!icons.edit.16}\x3c/button\x3e\r\n    \x3c/h1\x3e\r\n    \x3cform class\x3d"hide ${formClass}" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"leader-0 flex flex-1"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"${inputClass} flex-1 margin-right-1 margin-left-0" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input" autocomplete\x3d"off"\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${saveButtonClasses}" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${cancelButtonClasses}" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditTextArea.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link btn-link-darker-gray font-size--3 ${editButtonUpdatePermissionClasses}" aria-label\x3d"${inputLabel}"\x3e\r\n            ${!icons.inline.edit.16} ${i18n.common.edit}\r\n        \x3c/button\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"trailer-quarter" for\x3d"${inputId}"\x3e\r\n            ${inputLabel}\r\n            \x3ctextarea\r\n                id\x3d"${inputId}"\r\n                data-dojo-attach-point\x3d"_input"\r\n                name\x3d"snippet"\r\n                rows\x3d"${rows}"\r\n                class\x3d"js-snippet-input display-block resize-v"\x3e${value}\x3c/textarea\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n                \x3cdiv class\x3d"hide inline-edit__characters-left" data-dojo-attach-point\x3d"_charactersLeft"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-quarter"\x3e\r\n                \x3cspan class\x3d"inline-edit-textarea__save-loader margin-right-half hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n                \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n                \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditFieldValueType.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n    \x3cbutton class\x3d"js-inline-edit right btn-link btn-link-darker-gray font-size--3 ${editButtonUpdatePermissionClasses}" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"_form" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n    \x3clabel class\x3d"trailer-half"\x3e\r\n      ${inputLabel}\r\n      \x3cselect class\x3d"dropdown-change" data-dojo-attach-point\x3d"_input"\x3e\x3c/select\x3e\r\n      \x3c!-- \x3cselect class\x3d"dropdown-change" data-dojo-attach-point\x3d"_type"\x3e\x3c/select\x3e --\x3e\r\n    \x3c/label\x3e\r\n    \x3cdiv class\x3d"text-right"\x3e\r\n        \x3cspan class\x3d"inline-edit-textarea__save-loader margin-right-half hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditRichText.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView" class\x3d"trailer-2"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn-link btn-link-darker-gray ${editButtonUpdatePermissionClasses} font-size--3 right" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide leader-1" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"trailer-half" for\x3d"${inputId}"\x3e${inputLabel}\x3c/label\x3e\r\n        \x3cdiv id\x3d"${inputId}" class\x3d"rich-text" data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-right leader-half"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditCustom.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView" class\x3d"leader-1 padding-leader-half"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn-link btn-link-darker-gray if-can-update font-size--3 right" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n        \x3ch5 class\x3d"trailer-half"\x3e\r\n            ${viewTitle}\r\n        \x3c/h5\x3e\r\n        \x3cp class\x3d"js-view break-word"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide ${formClass}" aria-live\x3d"polite"\x3e\r\n        ${formTitle}\r\n        \x3cdiv data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-right ${buttonsClass}"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditLayerRename.html":'\x3cdiv\x3e\r\n    \x3ch5 class\x3d"font-size-1 trailer-0 leader-0 sub-nav-title break-word" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"padding-right-1 gutter-right-1 rtl-gutter-right-0"\x3e\r\n            \x3ca target\x3d"_blank" href\x3d"${layerUrl}" class\x3d"if-name js-view"\x3e\x3c/a\x3e\r\n        \x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link font-size--3 btn-link-darker-gray if-can-renameLayer" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n    \x3c/h5\x3e\r\n    \x3cform class\x3d"column-12 padding-leader-half padding-trailer-half hide" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"input-group leader-0"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"input-group-input" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input"\x3e\r\n            \x3cspan class\x3d"input-group-button padding-right-quarter"\x3e\r\n                \x3cbutton class\x3d"btn" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n                \x3cbutton class\x3d"btn-link btn btn-clear btn-two cancel-title-edit" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditLayerRenameSubnav.html":'\x3cdiv class\x3d"flex-1 flex"\x3e\r\n    \x3ch5 class\x3d"trailer-0 leader-0 break-word flex" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"padding-right-1 gutter-right-1 rtl-gutter-right-0 js-view subnav-breadcrumb flex-1 text-ellipsis"\x3e\x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link font-size--3 btn-link-white" aria-label\x3d"${inputLabel}"\x3e${!icons.edit.16}\x3c/button\x3e\r\n    \x3c/h5\x3e\r\n    \x3cform class\x3d"hide ${formClass}" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"leader-0 flex flex-1"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"${inputClass} flex-1 margin-right-1 margin-left-0" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input" autocomplete\x3d"off"\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${saveButtonClasses}" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${cancelButtonClasses}" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditNotebookTags.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n    \x3cbutton\r\n      class\x3d"js-inline-edit btn-link btn-link-darker-gray if-can-update font-size--3 right"\r\n      aria-label\x3d"${inputLabel}"\r\n    \x3e\r\n      ${!icons.inline.edit.16}${i18n.common.edit}\r\n    \x3c/button\x3e\r\n    \x3ch4 class\x3d"panel-header if-tag if-can-update"\x3e${viewTitle}\x3c/h5\x3e\r\n    \x3cp class\x3d"js-view"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide ${formClass}" aria-live\x3d"polite"\x3e\r\n    ${formTitle}\r\n    \x3cdiv data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"text-right ${buttonsClass}"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/_option.html":'\x3ca\r\n  href\x3d"#${id}"\r\n  data-tab\x3d"${id}"\r\n  data-logClick\x3d"${logClick}"\r\n  role\x3d"tab"\r\n  aria-selected\x3d"false"\r\n  class\x3d"js-subnav-link subnav-link ${isActive} ${show:hide} ${classes:empty}"\r\n  aria-controls\x3d"tabcontent"\x3e\r\n  \x3cspan class\x3d"subnav-link__text no-pointer"\x3e${label}\x3c/a\x3e\r\n',"url:arcgisonline/pages/dijit/SubNav/templates/_title.html":'\x3cdiv class\x3d"js-subnav-edit subnav-edit flex flex-column flex-1 flex-align-center break-word"\x3e\r\n  \x3ch1 class\x3d"subnav-title ${_titleTypeSize}" id\x3d"pagetitle"\x3e${titleText}\x3c/h1\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/_paths.html":'\x3cdiv class\x3d"flex flex-1 flex-align-center break-word"\x3e\r\n  \x3ch1 class\x3d"subnav-title flex flex-align-center margin-right-1 ${_titleTypeSize} js-subnav-paths" id\x3d"pagetitle"\x3e\r\n    ${paths}\r\n  \x3c/h1\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/dijit/SubNav/templates/_path.html":'\x3ca href\x3d"#" class\x3d"subnav-breadcrumb js-subnav-path ${lastPath} text-ellipsis"\x3e\r\n  \x3cspan class\x3d"${showBack} inline-block padding-right-quarter subnav-breadcrumb-back"\x3e${icons.arrow-left.24}\x3c/span\x3e${title}\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/SubNav.html":'\x3cheader class\x3d"subnav" role\x3d"banner"\x3e\r\n  \x3cdiv class\x3d"subnav-wrap grid-container flex phone-flex-column js-subnav-wrap"\x3e\r\n    \x3cdiv class\x3d"flex flex-1 flex-align-center phone-flex-column ${_titleTypeSize}"\x3e\r\n      \x3cspan class\x3d"js-subnav-title-wrap flex-1 flex"\x3e${!titleHTML}\x3c/span\x3e\r\n      \x3cbutton class\x3d"js-subnav-expand subnav-expand ${hideLinks}"\x3e\r\n        \x3cspan class\x3d"js-subnav-current-label subnav-expand__current-label no-pointer inline-block margin-right-half margin-left-0"\x3e${activeLabel}\x3c/span\x3e\r\n        \x3csvg class\x3d"subnav-expand-icon no-pointer" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16"\x3e\r\n          \x3cpath fill\x3d"#FFF" d\x3d"M8 11.5l-7-7h14z"/\x3e\r\n        \x3c/svg\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cnav class\x3d"subnav-links ${hideLinks} js-subnav-links flex-0 flex" role\x3d"tablist" aria-labelledby\x3d"pagetitle"\x3e${!linksHTML}\x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/header\x3e\r\n',
"url:arcgisonline/pages/user/settings/templates/UserSettings.html":'\x3cdiv class\x3d"grid-container flex user-settings" id\x3d"main-content-area"\x3e\r\n  \x3cdiv class\x3d"org-settings__menu-placeholder margin-right-2 flex-0" data-dojo-attach-point\x3d"menuPlaceholder"\x3e\r\n    \x3cdiv class\x3d"org-settings__menu user-settings__menu margin-right-2 flex-0" data-dojo-attach-point\x3d"tabsContainer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"flex-1 leader-1 user-settings__content" data-dojo-attach-point\x3d"content"\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"flex"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3ch1\r\n            class\x3d"hide-on-mobile font-size-4 trailer-1 avenir-bold org-settings__main-title"\r\n            data-dojo-attach-point\x3d"mainTitle"\r\n          \x3e\x3c/h1\x3e\r\n          \x3cdiv class\x3d"only-on-mobile position-relative org-settings__mobile-nav-container"\x3e\r\n            \x3cbutton\r\n              class\x3d"flex flex-align-center btn-link btn-link-darker-gray trailer-1 org-settings__title-btn"\r\n              data-dojo-attach-point\x3d"mobileTitleBtn"\r\n            \x3e\r\n              \x3cdiv class\x3d"font-size-4 avenir-bold org-settings__main-title" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n              \x3cdiv class\x3d"margin-left-quarter"\x3e${!icons.chevron-down.24}\x3c/div\x3e\r\n            \x3c/button\x3e\r\n            \x3cdiv class\x3d"org-settings__mobile-menu" data-dojo-attach-point\x3d"mobileMenu"\x3e\r\n              \x3cdiv class\x3d"org-settings__mobile-nav-mask"\x3e\x3c/div\x3e\r\n              \x3cnav\r\n                class\x3d"org-settings__mobile-nav flex-0 flex flex-column"\r\n                role\x3d"tablist"\r\n                aria-labelledby\x3d"pagetitle"\r\n                data-dojo-attach-point\x3d"mobileNav"\r\n              \x3e\r\n                \x3cdiv class\x3d"flex trailer-half"\x3e\r\n                  \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n                  \x3cbutton class\x3d"btn-link btn-link-darker-gray tooltip tooltip-bottom-right" aria-label\x3d"${i18n.close}" data-dojo-attach-point\x3d"closeMobileNavBtn"\x3e\r\n                    ${!icons.x.16}\r\n                  \x3c/button\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"org-settings__mobile-nav-content" data-dojo-attach-point\x3d"mobileNavContent"\x3e\x3c/div\x3e\r\n              \x3c/nav\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton data-dojo-attach-point\x3d"viewProfileBtn" class\x3d"hide flex-0 user-settings-btn btn btn-primary leader-half"\x3e${i18n.viewProfile}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv data-dojo-attach-point\x3d"content"\x3e\r\n        \x3cdiv class\x3d"js-profile"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-preferences"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-security"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-licenses"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-credits"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/contents/TabContent.html":'\x3cdiv class\x3d"hide"\x3e\r\n  \x3cdiv\r\n    class\x3d"hide font-size-3 avenir-bold trailer-half org-settings__search-section-title"\r\n    data-dojo-attach-point\x3d"tabName"\r\n  \x3e\r\n    ${name}\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"cardsContainer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/user/settings/templates/UserSettingsCard.html":'\x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n  \x3cdiv class\x3d"user-settings__card-content" data-dojo-attach-point\x3d"content"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/StartPageRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-quarter"\x3e${i18n.landingPageLabel}\x3c/div\x3e\r\n  \x3cp class\x3d"trailer-half" data-dojo-attach-point\x3d"descEl"\x3e${i18n.startPageDesc}\x3c/p\x3e\r\n  \x3cselect data-dojo-attach-point\x3d"selectLandingPage"\x3e\x3c/select\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/user/settings/rows/templates/LanguageAndFormatRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-1"\x3e${i18n.languageAndFormat}\x3c/div\x3e\r\n  \x3cbutton data-dojo-attach-point\x3d"updateBtn" type\x3d"button" class\x3d"btn btn-clear trailer-1"\x3e${i18n.update}\x3c/button\x3e\r\n  \x3cdiv class\x3d"flex trailer-half"\x3e\r\n    ${i18n.languageLabel}\r\n    \x3cdiv class\x3d"margin-left-quarter" data-dojo-attach-point\x3d"languageEl"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex" data-dojo-attach-point\x3d"formatContainer"\x3e\r\n    ${i18n.numDateFormatLabel}\r\n    \x3cdiv class\x3d"margin-left-quarter" data-dojo-attach-point\x3d"formatEl"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide org-settings__edit-form user-profile__name-edit text-left" data-dojo-attach-point\x3d"editForm"\x3e\r\n    \x3clabel class\x3d"trailer-half"\x3e\r\n      ${i18n.languageLabel}\r\n      \x3cselect class\x3d"leader-half" data-dojo-attach-point\x3d"languageSelect"\x3e\x3c/select\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel class\x3d"trailer-half"\x3e\r\n      ${i18n.numDateFormat}\r\n      \x3cselect class\x3d"leader-half" data-dojo-attach-point\x3d"formatSelect"\x3e\x3c/select\x3e\r\n    \x3c/label\x3e\r\n    \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n      \x3cbutton class\x3d"control-bar__btn margin-right-quarter" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3cbutton class\x3d"control-bar__btn" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/templates/LanguageAndFormatOverlay.html":'\x3cdiv class\x3d"lang-format-overlay__content"\x3e\r\n  \x3clabel class\x3d"avenir-bold"\x3e\r\n    ${i18n.userProfile.language}\r\n    \x3cselect class\x3d"leader-half full-width js-language-select" \x3e\x3c/select\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"avenir-bold js-format-container" \x3e\r\n    ${i18n.userProfile.numDateFormat}\r\n    \x3cselect class\x3d"leader-half full-width js-format-select" \x3e\x3c/select\x3e\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/Overlay.html":'\x3cdiv class\x3d"overlay-background js-overlay-background" data-dojo-attach-point\x3d"_backgroundScrim" id\x3d"${id}"\x3e\r\n  \x3cdiv\r\n    class\x3d"overlay overlay--${background} ${class} js-overlay"\r\n    role\x3d"dialog"\r\n    aria-labelledby\x3d"overlay-title-${uid}"\r\n    aria-modal\x3d"true"\r\n    data-dojo-attach-point\x3d"_overlay"\r\n  \x3e\r\n    \x3cdiv\r\n      class\x3d"js-overlay-loader overlay-loader-container overlay-white fullscreen"\r\n      data-dojo-attach-point\x3d"_overlayLoader"\r\n    \x3e\r\n      \x3cdiv class\x3d"loader is-active"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text overlay-loader-text" data-dojo-attach-point\x3d"_overlayLoaderText"\x3e\r\n          ${!loadingText}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"overlay-title-bar flex js-overlay-title-bar" data-dojo-attach-point\x3d"_overlayTitleBar"\x3e\r\n      \x3cdiv class\x3d"flex overlay-mobile__title font-size-2"\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__back-arrow" data-dojo-attach-point\x3d"_backArrow"\x3e${!icons.arrow-left.24}\x3c/div\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__title-text" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3ch3 id\x3d"overlay-title-${uid}" class\x3d"overlay-title flex-1" title\x3d"${title}" data-dojo-attach-point\x3d"overlayTitle"\x3e${title}\x3c/h3\x3e\r\n      \x3cdiv\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 margin-right-half flex-0 overlay-help hide"\r\n          data-dojo-attach-point\x3d"_helpBtn"\r\n          aria-label\x3d"help"\r\n        \x3e\r\n          ${!icons.question.32}\x3c/button\r\n        \x3e\x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 flex-0 overlay-close"\r\n          data-dojo-attach-point\x3d"closeBtn"\r\n          aria-label\x3d"${i18n.common.close}"\r\n        \x3e\r\n          ${!icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-overlay-control-bar"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-control-bar-filters js-overlay-control-bar-filters"\x3e\x3c/div\x3e\r\n    \x3cdiv\r\n      class\x3d"overlay-content js-overlay-content"\r\n      data-dojo-attach-point\x3d"_overlayContentWrapper"\r\n      id\x3d"overlay-content-${uid}"\r\n    \x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-action-bar ${showActionBar:hide}" data-dojo-attach-point\x3d"_overlayActionBar"\x3e\r\n      \x3cbutton class\x3d"hide btn-link" data-dojo-attach-point\x3d"backBtn"\x3e\x3c/button\x3e\r\n      \x3cnav class\x3d"right"\x3e\r\n        \x3cbutton class\x3d"btn js-overlay-primary" data-dojo-attach-point\x3d"_primaryBtn"\x3e${primaryBtnText}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear js-overlay-cancel" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n          ${i18n.common.cancel}\r\n        \x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-loader folder-loader loader loader-centered overlay-white"\x3e\r\n      \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/RegionRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3clabel class\x3d"avenir-bold trailer-half" data-dojo-attach-point\x3d"selectContainer"\x3e\r\n    ${i18n.regionLabel}\r\n    \x3cselect class\x3d"leader-half" data-dojo-attach-point\x3d"select"\x3e\x3c/select\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"readonlyContainer"\x3e\r\n    \x3cdiv class\x3d"avenir-bold"\x3e${i18n.regionLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"readonlyValue"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/SelectOptionsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-half"\x3e${labelText}\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-select-options"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/dijit/SelectOption/SelectOption.html":'\x3cdiv class\x3d"font-size--1 position-relative"\x3e\r\n  \x3cinput class\x3d"radio-group-input" id\x3d"${name}-${value}-option" data-dojo-attach-point\x3d"radio" type\x3d"radio" name\x3d"${name}" value\x3d"" \x3e\r\n  \x3clabel class\x3d"radio-group-label ${labelClass}" for\x3d"${name}-${value}-option" data-dojo-attach-point\x3d"selectLabel"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"iconContainer" class\x3d"hide trailer-quarter"\x3e\x3c/div\x3e\r\n    ${text}\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SelectOption/SelectOptionRadio.html":'\x3clabel data-dojo-attach-point\x3d"selectLabel" class\x3d"flex select-option__radio-label font-size--1"\x3e\r\n  \x3cinput type\x3d"radio" name\x3d"${name}" data-dojo-attach-point\x3d"radio" \x3e\r\n  ${text}\r\n\x3c/label\x3e\r\n',"url:arcgisonline/pages/user/settings/rows/templates/EsriAccessRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-half"\x3e${i18n.esriAccess}\x3c/div\x3e\r\n  \x3cp class\x3d"font-size--1 trailer-half" \x3e${i18n.esriAccessDesc}\x3c/p\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"hide margin-right-half esri-access__check-icon" data-dojo-attach-point\x3d"checkIcon"\x3e${!icons.check-circle.24}\x3c/div\x3e\r\n    \x3cdiv class\x3d"hide margin-right-half esri-access__x-icon" data-dojo-attach-point\x3d"xIcon"\x3e${!icons.x-circle.24}\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"textValue"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/RowWithButton.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-half"\x3e${labelText}\x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"btn"\x3e${btnText}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/user/settings/rows/templates/EmailRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold"\x3e${i18n.changeEmailLabel}\x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-value-col position-relative"\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n      \x3cp data-dojo-attach-point\x3d"readonlyValue" class\x3d"trailer-0 leader-half"\x3e${profile.email}\x3c/p\x3e\r\n      \x3cbutton class\x3d"hide btn-link btn-link-darker-gray flex text-left leader-half user-settings__edit-btn" data-dojo-attach-point\x3d"editBtn" aria-haspopup\x3d"dialog" aria-label\x3d""\x3e\r\n        \x3cdiv class\x3d"org-settings__display-value" data-dojo-attach-point\x3d"displayValue"\x3e${profile.email}\x3c/div\x3e\r\n        \x3cdiv class\x3d"margin-left-1"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n      \x3c/button\x3e\r\n      \x3cdiv class\x3d"padding-leader-half margin-left-1"\x3e\r\n        \x3ccalcite-button data-dojo-attach-point\x3d"verifyButton" scale\x3d"l" rel\x3d"opener" target\x3d"_blank" appearance\x3d"outline"\x3e${i18n.verifyEmail}\x3c/calcite-button\x3e\r\n        \x3ccalcite-chip data-dojo-attach-point\x3d"verifiedChip" scale\x3d"l" appearance\x3d"clear" color\x3d"green" icon\x3d"check"\x3e${i18n.verified}\x3c/calcite-chip\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide org-settings__edit-form user-settings__edit-popup" data-dojo-attach-point\x3d"editForm"\x3e\r\n        \x3clabel class\x3d"trailer-half"\x3e\r\n          ${i18n.newEmailLabel}\r\n          \x3cinput type\x3d"text" value\x3d"${profile.email}" data-dojo-attach-point\x3d"emailInput"\x3e\r\n          \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"emailError"\x3e${i18n.error.emailInvalid}\x3c/div\x3e\r\n        \x3c/label\x3e\r\n        \x3clabel class\x3d"trailer-half"\x3e\r\n          ${i18n.verifyNewEmailLabel}\r\n          \x3cinput type\x3d"text" value\x3d"" data-dojo-attach-point\x3d"confirmEmailInput"\x3e\r\n          \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"confirmEmailError"\x3e${i18n.error.emailVerifyNoMatch}\x3c/div\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n          \x3cbutton class\x3d"control-bar__btn margin-right-quarter" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n          \x3cbutton class\x3d"control-bar__btn" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/ViewProfileRow.html":'\x3cdiv class\x3d"org-settings__card-row view-profile-row"\x3e\r\n  \x3cp class\x3d"trailer-quarter avenir-bold"\x3e${i18n.profilePage}\x3c/p\x3e\r\n  \x3cp class\x3d"trailer-1" data-dojo-attach-point\x3d"descEl"\x3e${i18n.profilePageDesc}\x3c/p\x3e\r\n  \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"viewBtn"\x3e${i18n.viewMyProfile}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/user/settings/rows/templates/MapViewerRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-quarter"\x3e${i18n.defaultMapViewer}\x3c/div\x3e\r\n  \x3cp class\x3d"trailer-half" data-dojo-attach-point\x3d"descEl"\x3e\x3c/p\x3e\r\n  \x3cdiv class\x3d"js-map-viewer-select"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/CategoriesRow.html":'\x3cdiv class\x3d"user-settings__categories-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold"\x3e${i18n.categories}\x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-value-col position-relative leader-half js-category-chips"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/user/settings/rows/templates/MFARow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-half"\x3e${i18n.mfaLabel}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"btnsContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"enableBtn"\x3e${i18n.enable}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"disableBtn"\x3e${i18n.disable}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"readonlyValue"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/SecurityQuestionRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-half"\x3e${i18n.questionLabel}\x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-value-col position-relative"\x3e\r\n    \x3cdiv class\x3d"trailer-half" data-dojo-attach-point\x3d"selectedQuestion"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"editBtn"\x3e${i18n.update}\x3c/button\x3e\r\n    \x3cdiv class\x3d"hide org-settings__edit-form user-settings__edit-popup" data-dojo-attach-point\x3d"editForm"\x3e\r\n        \x3clabel class\x3d"trailer-half"\x3e\r\n          \x3cselect data-dojo-attach-point\x3d"questionsSelect"\x3e\x3c/select\x3e\r\n        \x3c/label\x3e\r\n        \x3clabel class\x3d"trailer-half"\x3e\r\n          ${i18n.answerLabel}\r\n          \x3cinput type\x3d"text" value\x3d"" maxlength\x3d"60" data-dojo-attach-point\x3d"answerInput"\x3e\r\n          \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"answerError"\x3e${i18n.error.answerIsBlank}\x3c/div\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n          \x3cbutton class\x3d"control-bar__btn margin-right-quarter" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n          \x3cbutton class\x3d"control-bar__btn" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/CreditsRow.html":'\x3cdiv class\x3d"user-settings__credits-row org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-1"\x3e${i18n.credits}\x3c/div\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"noLimitSection"\x3e\r\n    \x3cp class\x3d"font-size-6 trailer-0" data-dojo-attach-point\x3d"unlimitedLabel"\x3e${i18n.unlimited}\x3c/p\x3e\r\n    \x3cp\x3e${!orgLimitText}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"hasLimitSection"\x3e\r\n    \x3cdiv class\x3d"js-progress-bar"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex leader-1"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3cdiv class\x3d"font-size--2"\x3e${i18n.remaining}\x3c/div\x3e\r\n        \x3cdiv class\x3d"font-size-6 user-settings__credits-value--green" data-dojo-attach-point\x3d"remainingValue"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv\x3e\r\n        \x3cdiv class\x3d"font-size--2"\x3e${i18n.assigned}\x3c/div\x3e\r\n        \x3cdiv class\x3d"font-size-6 user-settings__credits-value--green" data-dojo-attach-point\x3d"assignedValue"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cp class\x3d"leader-1 trailer-0" data-dojo-attach-point\x3d"creditsDesc"\x3e\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/_progressBar.html":'\x3cdiv class\x3d"${cssClasses}"\x3e\r\n    \x3cdiv class\x3d"progress-bar overview-progress-bar"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_bar" class\x3d"progress-bar-fill"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"progress-bar__hover-label hide" data-dojo-attach-point\x3d"hoverLabel"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/user/settings/rows/templates/UserTypeRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-half flex flex-align-center"\x3e\x3cdiv class\x3d"margin-right-half"\x3e${i18n.userType}\x3c/div\x3e \x3cdiv class\x3d"js-info-icon"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"userTypeName"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InfoTooltip/templates/InfoTooltip.html":'\x3cdiv class\x3d"inline-block"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn-link btn-link-darker-gray info-icon ${buttonClasses}" aria-label\x3d"${buttonAriaLabel}" data-dojo-attach-point\x3d"_infoButton"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"iconWrapper"\x3e${!icons.inline.info.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"hide margin-left-quarter font-size--1" data-dojo-attach-point\x3d"infoTextEl"\x3e${infoText}\x3c/div\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_popover" class\x3d"text-left"\x3e\r\n        \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"_closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"popover-title"\x3e${title}\x3c/div\x3e\r\n        \x3cdiv class\x3d"popover-text leader-half" data-dojo-attach-point\x3d"_popoverContent"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/RoleRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold trailer-half"\x3e${i18n.roleLabel}\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"margin-right-half" data-dojo-attach-point\x3d"roleName"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"infoBtn"\x3e${!icons.info.16}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/dijit/RoleSummaryDlg/RoleSummaryDlg.html":'\x3cdiv\x3e\r\n    \x3cstrong\x3e${i18n.customRoles.descriptionLabel}\x3c/strong\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_content"\x3e\r\n        \x3cp class\x3d"trailer-half" data-dojo-attach-point\x3d"_description"\x3e\x3c/p\x3e\r\n        \x3cstrong class\x3d"hide" data-dojo-attach-point\x3d"privilegesTitle"\x3e${i18n.customRoles.rolePrivilegesLabel}\x3c/strong\x3e\r\n        \x3cul class\x3d"hide" data-dojo-attach-point\x3d"_privilegesList"\x3e\x3c/ul\x3e\r\n        \x3cp class\x3d"hide trailer-0" data-dojo-attach-point\x3d"_extraInfoContainer"\x3e\x3cem data-dojo-attach-point\x3d"_extraInfo"\x3e\x3c/em\x3e\x3c/p\x3e\r\n        \x3cp class\x3d"hide trailer-0" data-dojo-attach-point\x3d"_coreRole"\x3e${i18n.customRoles.coreRole}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/MobileError.html":'\x3cdiv\x3e\r\n    \x3cdiv class\x3d"invite-members__mobile-error-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"invite-members__mobile-error"\x3e\r\n        \x3cdiv class\x3d"invite-members__mobile-error-body flex-column"\x3e\r\n            \x3cdiv class\x3d"mobile-alert__top-section"\x3e\r\n                \x3cdiv class\x3d"flex mobile-alert__heading" data-dojo-attach-point\x3d"_header"\x3e\r\n                    \x3cdiv class\x3d"flex-1 font-size-2"\x3e\r\n                        \x3cspan class\x3d"hide mobile-alert__warning-icon" data-dojo-attach-point\x3d"_warningIcon"\x3e${!icons.inline.exclamation-mark-circle.16}\x3c/span\x3e\r\n                        \x3cspan data-dojo-attach-point\x3d"_title"\x3e${title}\x3c/span\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"_closeButton" \x3e${!icons.x.24}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"invite-members__mobile-error-description" data-dojo-attach-point\x3d"_description"\x3e\r\n                    ${description}\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"mobile-alert__action-bar" data-dojo-attach-point\x3d"_actionBar"\x3e\r\n                \x3cbutton class\x3d"btn-link mobile-alert__btn--red" data-dojo-attach-point\x3d"_confirmButton"\x3e${buttonText}\x3c/button\x3e\r\n                \x3cbutton class\x3d"btn-link btn-link-darker-gray leader-half" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.myOrganization.inviteMembers.cancel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/LicensedProductsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"avenir-bold flex-1"\x3e${i18n.licensedProducts}\x3c/div\x3e\r\n    \x3cdiv\x3e\x3cspan class\x3d"user-settings__add-on-badge margin-right-quarter"\x3e\x3c/span\x3e${i18n.addonLicense}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"position-relative trailer-half leader-half org-settings__roles-search-container"\x3e\r\n    \x3cdiv class\x3d"org-settings__roles-search-icon"\x3e${!icons.search.16}\x3c/div\x3e\r\n    \x3cinput class\x3d"org-settings__roles-search-input" placeholder\x3d"${i18n.searchLicensedProducts}" type\x3d"text" data-dojo-attach-point\x3d"searchInput"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"flex licensed-products__item-row"\x3e\r\n      \x3cdiv class\x3d"license-products-row__name-col avenir-bold"\x3e${i18n.license}\x3c/div\x3e\r\n      \x3c!-- \x3cdiv class\x3d"avenir-bold"\x3e${i18n.lastLogin}\x3c/div\x3e --\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"itemsContainer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/LicensedProductItem.html":'\x3cdiv class\x3d"flex flex-align-center licensed-products__item-row"\x3e\r\n  \x3cdiv class\x3d"js-icon"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 flex licensed-product-item__info margin-left-half"\x3e\r\n    \x3cdiv class\x3d"js-app-title"\x3e${app.title}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"flex-0 btn-link margin-right-1 hide" data-dojo-attach-point\x3d"downloadBtn"\x3e${!icons.inline.download-to.16}${i18n.downloadPro}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/AppIcon.html":'\x3cdiv class\x3d"org-member-card__license-icon ${cssClasses}"\x3e\r\n    \x3cdiv class\x3d"app-icon__add-on-badge hide" data-dojo-attach-point\x3d"addonBadge"\x3e\x3c/div\x3e\r\n    \x3cimg data-dojo-attach-point\x3d"_img" alt\x3d""\x3e\r\n    \x3cdiv class\x3d"org-member-card__license-abbr hide" data-dojo-attach-point\x3d"_abbr"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/BlockedAppPopup.html":'\x3cdiv class\x3d"text-left hide"\x3e\r\n  \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n  \x3cdiv class\x3d"popover-title"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"popover-text leader-half"\x3e${i18n.myOrganization.licensesTab.appBlocked}\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/templates/DownloadOverlay.html":'\x3cdiv class\x3d"download-overlay__content"\x3e\r\n  \x3cdiv class\x3d"download-overlay__top-section flex-center flex-column "\x3e\r\n    \x3cdiv class\x3d"js-app-icon"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"avenir-bold font-size-2 trailer-half leader-half js-name"\x3e\x3c/div\x3e\r\n    \x3cselect class\x3d"js-versions-select"\x3e\x3c/select\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-primary leader-1 trailer-1 js-download-btn"\x3e${downloadIcon}${i18n.userProfile.download}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"download-overlay__bottom-section"\x3e\r\n    \x3cp class\x3d"trailer-quarter"\x3e${i18n.userProfile.downloadComplete}\x3c/p\x3e\r\n    \x3ca href\x3d"https://pro.arcgis.com/en/pro-app/get-started/install-and-sign-in-to-arcgis-pro.htm" target\x3d"_blank"\x3e${i18n.userProfile.installProcess}${openIcon}\x3c/a\x3e\r\n    \x3cdiv class\x3d"js-accordion"\x3e\r\n      \x3cdiv class\x3d"accordion-section leader-1 trailer-half"\x3e\r\n        \x3cdiv class\x3d"accordion-title download-overlay__addition-title"\x3e\r\n          ${chevron}${i18n.userProfile.fileDetails}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"download-overlay__addition-content accordion-content"\x3e\r\n          \x3cp class\x3d"js-file-name trailer-half font-size--1"\x3e\x3c/p\x3e\r\n          \x3cdiv class\x3d"js-check-sum trailer-quarter font-size--1"\x3e\r\n            \x3cdiv class\x3d"js-check-sum-text"\x3e${i18n.userProfile.checkSumLabel}\x3c/div\x3e\r\n            \x3cdiv class\x3d"js-copy-check-sum"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cp\x3e\x3ca href\x3d"https://support.esri.com/en/technical-article/000020408" target\x3d"_blank"\x3e\x3cspan class\x3d"js-checksum-label font-size--1"\x3e${i18n.userProfile.howCheckSum}\x3c/span\x3e ${openIcon}\x3c/a\x3e\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"accordion-section leader-half trailer-1"\x3e\r\n        \x3cdiv class\x3d"accordion-title download-overlay__addition-title"\x3e\r\n          ${chevron}${i18n.userProfile.needAdditional}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"download-overlay__addition-content accordion-content"\x3e\r\n          \x3cp class\x3d"js-additional-1 font-size--1"\x3e\x3c/p\x3e\r\n          \x3cp class\x3d"js-additional-2 font-size--1"\x3e\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/CopyToClipboard.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"input-group js-copy-group"\x3e\r\n    \x3cinput data-dojo-attach-point\x3d"copyInput" class\x3d"input-group-input copy-to-clipboard-input" readonly type\x3d"text" value\x3d"${text}" id\x3d"copy-to-clipboard-${id}"\x3e\r\n    \x3cspan class\x3d"js-copy-tooltip input-group-button tooltip ${tooltipModifier}" aria-label\x3d"${i18n.tocPanel.copy}"\x3e\r\n      \x3cbutton aria-label\x3d"${i18n.itemProperties.copyToClipboard}"\r\n              class\x3d"js-copy-btn btn btn-clear"\r\n              data-dojo-attach-event\x3d"click: copy, mouseleave: reset"\x3e\r\n              \x3ccalcite-icon scale\x3d"s" icon\x3d"${icon}" \x3e\x3c/calcite-icon\x3e\r\n      \x3c/button\x3e\r\n    \x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cp role\x3d"alert" aria-live\x3d"polite" class\x3d"js-copy-alert screen-readers-only"\x3e\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/LicensedBundleItem.html":'\x3cdiv class\x3d"licensed-products__bundle-row"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"titleSection" class\x3d"flex flex-align-center padding-leader-half padding-trailer-half licensed-products__bundle-title" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"licensed-products__bundle-chevron"\x3e${!icons.chevron-down.24}\x3c/div\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"nameCol"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"licensed-products__bundled-apps" data-dojo-attach-point\x3d"apps"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/AppIconWithLabel.html":'\x3cdiv class\x3d"block flex flex-align-center leader-half ${cssClasses}"\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center" data-dojo-attach-point\x3d"content"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_appIcon"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"margin-left-half ${textCssClasses}" data-dojo-attach-point\x3d"_titleLabel"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"popover" class\x3d"text-left hide"\x3e\r\n      \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n      \x3cdiv class\x3d"popover-title"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"popover-text leader-half"\x3e${i18n.myOrganization.licensesTab.appBlocked}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/templates/MenuItem.html":'\x3cbutton class\x3d"btn-link btn-link-darker-gray org-settings__menu-item"\x3e${name}\x3c/button\x3e\r\n',"url:arcgisonline/pages/user/settings/templates/MobileMenuItem.html":'\x3ca role\x3d"tab" aria-selected\x3d"false" class\x3d"subnav-link padding-left-3"\x3e\r\n  \x3cspan class\x3d"subnav-link__text no-pointer" \x3e${name}\x3c/span\x3e\r\n\x3c/a\x3e\r\n',"url:arcgisonline/pages/user/UserProfile.html":'\x3cdiv class\x3d"grid-container user-profile"\x3e\r\n  \x3cdiv class\x3d"js-onboard"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"user-profile__content flex user-profile__content--no-item"\x3e\r\n    \x3cdiv class\x3d"flex-0"\x3e\r\n      \x3cdiv class\x3d"user-profile-card"\x3e\r\n        \x3cdiv class\x3d"user-profile-card__top-section"\x3e\r\n          \x3cdiv class\x3d"js-member-thumb"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-name"\x3e\x3c/div\x3e\r\n          \x3cdiv\x3e${profile.username}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"user-profile-card__bottom-section"\x3e\r\n          \x3cdiv class\x3d"trailer-half" data-dojo-attach-point\x3d"bioSection"\x3e\r\n            \x3ch3 class\x3d"avenir-bold font-size-0 trailer-quarter"\x3e${i18n.userProfile.bioLabel}\x3c/h3\x3e\r\n            \x3cdiv class\x3d"js-bio"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"user-profile-card__section" data-dojo-attach-point\x3d"visSection"\x3e\r\n            \x3cdiv class\x3d"js-vis"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"groupsSection" class\x3d"user-profile-card__section flex flex-wrap flex-align-center"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n              \x3ch3 class\x3d"avenir-bold font-size-0 trailer-quarter"\x3e${i18n.userProfile.groups}\x3c/h3\x3e\r\n              \x3cdiv class\x3d"flex" data-dojo-attach-point\x3d"groupIcons"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"groupsBtn" type\x3d"button" class\x3d"btn-link font-size--1 leader-half flex-0 flex flex-align-center"\x3e\r\n              ${i18n.userProfile.viewAll} ${!icons.inline-end.launch.16}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"itemsSection" class\x3d"hide user-profile-card__section flex flex-wrap flex-align-center"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n              \x3cdiv class\x3d"avenir-bold trailer-quarter"\x3e${i18n.userProfile.items}\x3c/div\x3e\r\n              \x3cdiv class\x3d"font-size-4 profile-popup__item-count" data-dojo-attach-point\x3d"itemsCount"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"itemsCountBtn" type\x3d"button" class\x3d"btn-link font-size--1 leader-half flex-0 flex flex-align-center js-view-all-items"\x3e\r\n              ${i18n.userProfile.viewAll} \x3ccalcite-icon class\x3d"margin-left-half" icon\x3d"launch" scale\x3d"s"\x3e\x3c/calcite-icon\x3e\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"user-profile-card__section hide"\x3e\r\n            \x3cdiv class\x3d"avenir-bold trailer-half"\x3e${i18n.userProfile.socialProfiles}\x3c/div\x3e\r\n            \x3cdiv class\x3d"js-social-profiles"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"hide user-profile-card__view-settings" data-dojo-attach-point\x3d"viewSettings"\x3e\r\n            \x3ca href\x3d"#settings" data-dojo-attach-point\x3d"viewLink" class\x3d"leader-1 display-block"\x3e\x3c/a\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"user-profile__feedback leader-1 flex hide" data-dojo-attach-point\x3d"feedbackCard"\x3e\r\n        ${!icons.promote.48}\r\n        \x3cp class\x3d"margin-left-1 trailer-0" \x3e${i18n.userProfile.howWeImprove} \x3cbutton class\x3d"btn-link" data-dojo-attach-point\x3d"feedbackBtn"\x3e${i18n.userProfile.giveFeedback}\x3c/button\x3e\x3c/p\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"user-profile__items-col margin-left-2 flex-1 hide" data-dojo-attach-point\x3d"itemsCol"\x3e\r\n      \x3cdiv class\x3d"flex user-profile__items-header padding-left-1 padding-right-1" \x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-align-center"\x3e\r\n         \x3ch2 class\x3d"font-size-1 avenir-bold trailer-0"\x3e${i18n.userProfile.itemGallery}\x3c/h2\x3e\r\n         \x3cbutton class\x3d"btn btn-clear margin-left-1 hide" data-dojo-attach-point\x3d"customizeBtn"\x3e${i18n.userProfile.customize}\x3c/button\x3e\r\n         \x3cbutton class\x3d"btn-link margin-left-1 hide" data-dojo-attach-point\x3d"resetDefaultBtn"\x3e${i18n.userProfile.resetToDefault}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cbutton type\x3d"button" class\x3d"btn-link user-profile__all-items-btn js-view-all-items" data-dojo-attach-point\x3d"itemsBtn"\x3e${i18n.userProfile.viewAll} ${!icons.inline-end.launch.16}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"padding-left-1 padding-right-1"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center trailer-1"\x3e\r\n          \x3cdiv class\x3d"flex flex-align-center margin-right-1" data-dojo-attach-point\x3d"descContainer"\x3e\r\n            \x3cp class\x3d"font-size--1 trailer-0" data-dojo-attach-point\x3d"itemsDesc"\x3e${i18n.userProfile.topItems}\x3c/p\x3e\r\n            \x3cdiv class\x3d"js-tooltip"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3c!-- \x3cbutton class\x3d"btn btn-clear hide" data-dojo-attach-point\x3d"customizeBtn"\x3e${i18n.userProfile.customize}\x3c/button\x3e\r\n          \x3cbutton class\x3d"btn-link margin-left-1 hide" data-dojo-attach-point\x3d"resetDefaultBtn"\x3e${i18n.userProfile.resetToDefault}\x3c/button\x3e --\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv data-dojo-attach-point\x3d"itemGallery" class\x3d"block-group"\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"emptyView" class\x3d"text-center hide"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n          \x3ch3 class\x3d"font-size-1 avenir-bold trailer-half"\x3e${i18n.userProfile.customizeNoItems}\x3c/h3\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Favorite/Favorite.html":'\x3cspan\x3e\r\n  \x3cbutton class\x3d"card-action tooltip tooltip-bottom-right" aria-label\x3d"${i18n.common.favorite}" data-dojo-attach-point\x3d"button"\x3e\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummary.html":'\x3cdiv class\x3d"share-summary ${directionClass} ${responsiveClass}"\x3e\r\n  \x3cbutton class\x3d"js-share-button share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short"\x3e\r\n    \x3cspan class\x3d"js-icon share-summary__level flex flex-center"\x3e${!levelIcon}\x3c/span\x3e\r\n    \x3cspan class\x3d"js-sharing-plus-icon share-summary__plus"\x3e${!icons.plus.16}\x3c/span\x3e\r\n    \x3cspan class\x3d"share-summary__group share-summary__group--unknown"\x3e\r\n      ${!icons.users.16}\r\n    \x3c/span\x3e\r\n  \x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummaryOverflow.html":'\x3cspan class\x3d"share-summary__overflow"\x3e\x26#43;${num}\x3c/span\x3e',"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPicker.html":'\x3cdiv class\x3d"${containerClass}"\x3e\r\n  \x3cdiv class\x3d"font-size--1 trailer-half flex js-member-picker-header"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size--1 flex-1" id\x3d"folder-picker-label"\x3e${i18n.changeOwner.selectFolder}\x3c/h4\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 flex-0 btn-link-off-black right js-folder-picker-cancel"\x3e\r\n      ${i18n.common.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput\r\n    class\x3d"member-picker-search js-search-input"\r\n    placeholder\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-label\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-controls\x3d"folder-results-list"\r\n    type\x3d"search"\r\n    autocomplete\x3d"off"\r\n  /\x3e\r\n\r\n  \x3cul\r\n    class\x3d"js-member-picker-results folder-picker-results member-picker-results--border"\r\n    id\x3d"folder-results-list"\r\n    role\x3d"menu"\r\n    aria-labelledby\x3d"folder-picker-label"\r\n    data-dojo-attach-point\x3d"_resultsDropdown"\r\n  \x3e\r\n    \x3cli class\x3d"folder-list-item js-no-folder hide" data-title\x3d"no-folder" role\x3d"none"\x3e\r\n      \x3cspan\r\n        class\x3d"folder-list-link folder-list-link--expanded"\r\n        data-id\x3d"no-folder"\r\n        data-title\x3d"no-folder"\r\n        role\x3d"menuitem"\r\n        aria-selected\x3d"false"\r\n        data-dojo-attach-point\x3d"_folderLink"\r\n      \x3e\r\n        ${i18n.folderDlg.noFolders}\r\n        \x3cbutton class\x3d"js-create-folder-inline create-folder-inline-link btn-link font-size--2"\x3e\r\n          ${i18n.folderDlg.noFolderLabel}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/li\x3e\r\n  \x3c/ul\x3e\r\n  \x3cbutton\r\n    class\x3d"js-create-new-folder btn-link btn-link-dark-blue padding-leader-quarter padding-trailer-quarter leader-half padding-left-half padding-right-half font-size--2"\r\n  \x3e\r\n    ${!icons.inline.folder-plus.16} ${i18n.changeOwner.createNewFolder}\r\n  \x3c/button\x3e\r\n  \x3cform class\x3d"hide js-create-folder-form position-relative leader-half"\x3e\r\n    \x3cinput\r\n      class\x3d"folder-list-link folder-list-link--large leader-0 trailer-0 js-create-folder-input"\r\n      type\x3d"text"\r\n      maxlength\x3d"125"\r\n      value\x3d""\r\n      placeholder\x3d"${i18n.changeOwner.enterFolderName}"\r\n      aria-label\x3d"${i18n.changeOwner.enterFolderName}"\r\n    /\x3e\r\n    \x3cspan class\x3d"change-owner-new-folder-icon"\x3e${!icons.inline.folder-plus.16}\x3c/span\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.save}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show folder-list-action--green folder-list-action--left js-folder-create-save"\r\n      type\x3d"submit"\r\n    \x3e\r\n      ${!icons.check.24}\r\n    \x3c/button\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.cancel}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show js-folder-create-cancel"\r\n    \x3e\r\n      ${!icons.x.24}\r\n    \x3c/button\x3e\r\n  \x3c/form\x3e\r\n  \x3cdiv class\x3d"js-create-folder-error-message input-error-message"\x3e\r\n    ${i18n.folderDlg.passwordMin}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPickerRow.html":'\x3cli class\x3d"folder-list-item" data-title\x3d"${folder.title}" role\x3d"none"\x3e\r\n  \x3cspan \r\n    class\x3d"folder-list-link folder-list-link--expanded" \r\n    data-id\x3d"${folder.id}"\r\n    data-title\x3d"${folder.title}"\r\n    role\x3d"menuitem"\r\n    aria-selected\x3d"false"\r\n    data-dojo-attach-point\x3d"_folderLink"\x3e\r\n    ${!folderIcon}${folder.title}\r\n  \x3c/span\x3e\r\n\x3c/li\x3e',"url:arcgisonline/pages/dijit/ChangeOwner/templates/ChangeOwner.html":'\x3cdiv class\x3d"change-owner-container padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-owner-area visibility-hidden"\x3e\r\n      \x3ch4 class\x3d"font-size--1 js-item-owner-label"\x3e${i18n.changeOwner.itemOwner}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex change-owner-card js-owner-edit input-error--no-icon"\x3e\r\n        \x3cdiv class\x3d"js-member-thumb"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0 js-fullname"\x3eFullname\x3c/h4\x3e\r\n          \x3cp class\x3d"trailer-0 font-size--2 js-username"\x3eUsername\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black change-owner-card-edit js-owner-edit-button"\r\n          aria-label\x3d"${i18n.changeOwner.title}"\r\n        \x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cp class\x3d"input-error-message js-member-select-error position-absolute"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-member-picker"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-area visibility-hidden leader-1"\x3e\r\n      \x3ch4 class\x3d"font-size--1"\x3e${i18n.changeOwner.folder}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex trailer-2 change-owner-card js-folder-edit"\x3e\r\n        \x3cdiv class\x3d"flex-0 js-folder-icon"\x3e${icons.inline.folder.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-0 js-folder-name"\x3e${i18n.folderDlg.noFolderLabel}\x3c/h4\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black change-owner-card-edit js-folder-edit-button" aria-label\x3d"${i18n.changeOwner.title}"\x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-picker hide"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/OverlayConfirm.html":'\x3cdiv class\x3d"position-relative full-height overlay-confirm"\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-pane ${cssClasses} position-relative"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray overlay-confirm-close-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"overlay-confirm__icon margin-right-1" data-dojo-attach-point\x3d"icon"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"avenir-demi font-size-1" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half flex overlay-confirm-buttons" data-dojo-attach-point\x3d"_buttons"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear js-cancel-btn"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-1 padding-leader-1 overlay-confirm-actions" data-dojo-attach-point\x3d"_actions"\x3e\r\n        \x3cbutton class\x3d"btn-link trailer-half display-block js-action-one"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn-link js-action-two"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/MoveItem.html":'\x3cdiv class\x3d"padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.updating}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-folder-picker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/SaveItem.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.titleLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTitle"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextTitle}" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half clearfix"\x3e\r\n    ${i18n.tagsLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTagsContainer"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"categories-container"\x3e\r\n    \x3clabel class\x3d"calcite-web-label trailer-0 clearfix categories-container"\r\n      data-dojo-attach-point\x3d"saveItemCategoriesContainer"\r\n      for\x3d"saveItemCategoryPicker"\x3e\r\n      ${i18n.categoriesLabel}\r\n    \x3c/label\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemCategories" id\x3d"saveItemCategoryPicker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.summaryLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemSummary"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextSummary}" maxlength\x3d"250" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-select" for\x3d"itemFolderComboBox"\x3e\r\n    ${i18n.saveInFolderLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemFolder"\r\n         data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\r\n         id\x3d"itemFolderComboBox"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExportDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"exportDialog" id\x3d"export-dialog" title\x3d"${i18n.exportDialogTitle}" execute\x3d""\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemForm"\x3e\x3c/div\x3e\r\n    \x3cfieldset data-dojo-attach-point\x3d"featureCollectionDiv" class\x3d"featureCollectionOnly hide"\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" data-dojo-attach-point\x3d"generalizeChk" name\x3d"generalize"\x3e${i18n.generalize}\x3c/label\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"generalize" checked\x3e${i18n.keepOrig}\x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n\r\n    \x3cp data-dojo-attach-point\x3d"_message" class\x3d"break_word"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"exportingLabel" style\x3d"visibility:hidden;"\x3e${i18n.exportingLabel}\x3c/span\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" type\x3d"button" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3cbutton class\x3d"btn" type\x3d"button" data-dojo-attach-point\x3d"exportBtn"\x3e${i18n.exportLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/ComboBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"combobox" aria-haspopup\x3d"true"\r\n     data-dojo-attach-point\x3d"_popupStateNode"\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n       data-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1"\r\n           readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true" ${_buttonInputDisabled}/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text"\r\n           tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\x3e\r\n    \x3cinput class\x3d\'dijitReset dijitInputInner\' readonly\x3d"readonly" ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n           data-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"/\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/templates/DefineExtent.html":'\x3cdiv\x3e\r\n  \x3cspan\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin05 extent-search backward-compatible-extent-search inline-block" data-dojo-attach-point\x3d"_extentSearchContainer"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"calcite secondary btn btn-blue small right" id\x3d"extent-dlg-draw-button" data-dojo-attach-point\x3d"_buttonSetExtent"\x3e\r\n      ${i18n.drawExtent}\r\n    \x3c/button\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv id\x3d"extent-map-container" style\x3d"width:500px; max-width: 100%; height:340px; border:1px solid #000;"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"inline-block leader-half"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-left"\x3e${i18n.leftLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input inline-block" id\x3d"extent-left" data-dojo-attach-point\x3d"_extentLeft"\r\n           data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-right"\x3e${i18n.rightLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-right" data-dojo-attach-point\x3d"_extentRight" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n  \x3cbr\x3e\r\n  \x3cdiv class\x3d"inline-block"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-top"\x3e${i18n.topLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-top" data-dojo-attach-point\x3d"_extentTop" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-bottom"\x3e${i18n.bottomLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-bottom" data-dojo-attach-point\x3d"_extentBottom" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExtentDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"extent-dialog" data-dojo-attach-point\x3d"_extentDialog" title\x3d"${i18n.extentDlgTitle}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_extentContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"right esriFloatTrailing margin-right-1 extent-ltr-margin-right-0"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelBtn" type\x3d"button" data-dojo-type\x3d"dijit/form/Button" class\x3d"cancel"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_okBtn" data-dojo-type\x3d"dijit/form/Button" class\x3d"primary"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\r\n\trole\x3d"listbox" aria-haspopup\x3d"true"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\r\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t/\x3e\x3c/div\r\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\r\n\t\t/\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\r\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/\x3e\x3c/td\r\n\t\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dojox/form/resources/TriStateCheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dojoxTriStateCheckBoxInner" dojoAttachPoint\x3d"stateLabelNode"\x3e\x3c/div\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" dojoAttachPoint\x3d"focusNode"\r\n\tclass\x3d"dijitReset dojoxTriStateCheckBoxInput" dojoAttachEvent\x3d"onclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',"url:arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html":'\x3cdiv\x3e\r\n  \x3cdiv id\x3d"rateLimiting" class\x3d"rateLimiting"\x3e\r\n    \x3cp\x3e${i18n.rateLimiting.instructions}\x3c/p\x3e\r\n    \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"_enableLimits" type\x3d"checkbox" value\x3d"true" name\x3d"enableRateLimiting"/\x3e\r\n    \x3clabel class\x3d"esriLeadingMargin05 esriTrailingMargin1 inline-block trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.hitRate}\x3c/label\x3e\r\n    \x3cdiv class\x3d"rateLimitingDiv esriLeadingMargin108 clearfix"\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1000"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitRate"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\',constraints:{min:1, max:1000000, places:0}" /\x3e\r\n      \x3clabel class\x3d"canDisable esriLeadingMargin1 esriTrailingMargin1 inline-block left leader-half trailer-0 padding-right-half" for\x3d"referrerUri"\x3e\r\n        ${i18n.rateLimiting.per}\r\n      \x3c/label\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitCount"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\', constraints:{min:1, max:1000000, places:0}"/\x3e\r\n\r\n      \x3cselect class\x3d"esriUnits left inline-block" data-dojo-attach-point\x3d"_interval" data-dojo-type\x3d"dijit/form/Select" data-dojo-props\x3d"disabled:true" style\x3d"width:8.75em;"\x3e\r\n        \x3coption value\x3d"1"\x3e${i18n.rateLimiting.second}\x3c/option\x3e\r\n        \x3coption value\x3d"60"\x3e${i18n.rateLimiting.minute}\x3c/option\x3e\r\n        \x3coption value\x3d"3600"\x3e${i18n.rateLimiting.hour}\x3c/option\x3e\r\n        \x3coption value\x3d"86400"\x3e${i18n.rateLimiting.day}\x3c/option\x3e\r\n        \x3coption value\x3d"604800"\x3e${i18n.rateLimiting.week}\x3c/option\x3e\r\n        \x3coption value\x3d"2628000"\x3e${i18n.rateLimiting.month}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr /\x3e\r\n    \x3clabel class\x3d"esriTrailingMargin05 trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.referrerUri}\x3c/label\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cinput data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"_referrerUrl" data-dojo-props\x3d"placeHolder:\'${i18n.registerApp.urlPlaceHolder}\'" type\x3d"text" class\x3d"left referrerUrl"/\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_delBtn" data-dojo-props\x3d"disabled:true, label:\'${i18n.registerApp.del}\'"\x3e\x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_addBtn" data-dojo-props\x3d"label:\'${i18n.registerApp.add}\'"\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin93 trailer-half referralUris" data-dojo-type\x3d"dijit/form/MultiSelect" data-dojo-attach-point\x3d"_referrers" data-dojo-props\x3d"size:4, name:\'referral_uris\'"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\r\n\t\x3e\x3c/span\r\n\x3e\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/UploadProgressBar/UploadProgressBar.html":'\x3cdiv class\x3d"upload-progress-bar flex-1 flex-column-justify-center margin-right-1 margin-left-half position-relative"\x3e\r\n  \x3cdiv class\x3d"progress-bar"\x3e\r\n    \x3cdiv class\x3d"progress-bar-fill" data-dojo-attach-point\x3d"_uploadProgressFill"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--3 upload-percent-label" data-dojo-attach-point\x3d"_uploadPercentLabel"\x3e0%\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/form/resources/Uploader.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e \r\n\t\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1" data-dojo-attach-point\x3d"valueNode" /\x3e\r\n\x3c/span\x3e\r\n',
"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\r\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n","url:esri/dijit/VisibleScaleRangeSlider/templates/ScaleMenu.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.section}"\x3e\r\n    \x3cdiv class\x3d"${css.header}"\x3e${labels.current}\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_currentScaleLabel" class\x3d"${css.item} ${css.current}"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_scaleInput" data-dojo-type\x3d"dijit/form/TextBox" class\x3d"${css.input}"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"${css.section}" data-dojo-attach-point\x3d"dap_recommendedScaleSection"\x3e\r\n    \x3cdiv class\x3d"${css.header}" data-dojo-attach-point\x3d"dap_scaleListHeader"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3col data-dojo-attach-point\x3d"dap_recommendedScales" class\x3d"${css.list}"\x3e\r\n        \x3cli data-dojo-attach-point\x3d"dap_mapScaleItem" class\x3d"${css.item} ${css.selectable}"\x3e\x3c/li\x3e\r\n        \x3c!--additional list items added dynamically--\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:esri/dijit/VisibleScaleRangeSlider/templates/ScalePreview.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.header}"\x3e${labels.preview}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dap_scalePreviewThumbnail" class\x3d"${css.thumbnail}"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:dojox/form/resources/HorizontalRangeSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onkeyup:_onKeyUp" role\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent\x3d"onmousedown:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv role\x3d"presentation" class\x3d"dojoxRangeSliderBarContainer" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent\x3d"onmousedown:_onBarClick"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClickMax" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent\x3d"onmousedown:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html":'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\r\n  \x3cp data-dojo-attach-point\x3d"_message"\x3e\x3c/p\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_itemPropertiesDlg"  data-dojo-type\x3d"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg" data-dojo-props\x3d"typeInfo:\'${_typeInfo}\', showFile:false, showUrl:false, showFolders:${showFolders}"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"sceneProperties hide"\x3e\r\n      \x3cdiv class\x3d"sceneDataDisplay hide"\x3e\r\n          \x3cdiv\x3e${i18n.publishTileServiceDlg.displayInLbl}\x3c/div\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-globalWkid" data-dojo-attach-point\x3d"_globalWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"global"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_globalWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-localWkid" data-dojo-attach-point\x3d"_localWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"local"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_localWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"sceneMultipatch hide"\x3e\r\n        \x3clabel\x3e\r\n          \x3cinput id\x3d"${id}-enableUpdates" data-dojo-attach-point\x3d"_enableSceneUpdates" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-props\x3d"checked:true" value\x3d"true"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_enableSceneUpdatesLabel"\x3e${i18n.publishTileServiceDlg.enableUpdates}\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilePropertiesContainer"\x3e\r\n    \x3clabel\x3e${i18n.publishTileServiceDlg.tileSchemeLabel}\x3c/label\x3e\r\n    \x3cdiv class\x3d"tilePropertiesRadios"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-agoBasemap" data-dojo-attach-point\x3d"_agoBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"ago"\x3e${i18n.publishTileServiceDlg.matchAGOLBasemaps}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-custom" data-dojo-attach-point\x3d"_customBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"custom"\x3e${i18n.publishTileServiceDlg.matchOwnBasemap}\r\n      \x3c/label\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"_customBasemapUrl" class\x3d"custom esriLeadingMargin2" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"disabled:true,placeholder:\'${i18n.publishTileServiceDlg.tileSchemePlaceholder}\'"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilesOnDemandContainer"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-tilesOnDemand" data-dojo-attach-point\x3d"_tilesOnDemand" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.enableTilesOnDemand}\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"visibleScaleRange hide"\x3e\r\n      \x3clabel class\x3d"tileRange"\x3e${i18n.publishTileServiceDlg.scaleRangeLabel}\x3c/label\x3e\r\n      \x3cdiv\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_visibleScaleRangeContainer"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader js-visible-range-loader overlay-white position-relative hide" data-dojo-attach-point\x3d"_visibleRangeLoader"\x3e\r\n          \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"loader-text hide" data-dojo-attach-point\x3d"_visibleRangeLoaderMsg"\x3e${!i18n.common.loading}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_increaseScaleWarning"\x3e\r\n      ${i18n.publishTileServiceDlg.increaseScaleWarning}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"vectorTileProperties leader-half hide" data-dojo-attach-point\x3d"_selectAttributesContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_selectAttributesBtn"\x3e${i18n.itemProperties.configureAttributes.selectAttributes}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"viewProperties hide"\x3e\r\n    \x3clabel\x3e ${i18n.publishTileServiceDlg.createViewOptionsLabel}\x3c/label\x3e\r\n    \x3clabel\x3e\r\n      \x3cinput id\x3d"${id}-preserveIds" data-dojo-attach-point\x3d"_preserveIds" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.preserveLayerIds}\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/widget/Wizard/Wizard.html":'\x3cdiv class\x3d"dojoxWizard" dojoAttachPoint\x3d"wizardNode"\x3e\r\n    \x3cdiv class\x3d"dojoxWizardContainer" dojoAttachPoint\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"dojoxWizardButtons" dojoAttachPoint\x3d"wizardNav"\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"previousButton"\x3e${previousButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"nextButton"\x3e${nextButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"doneButton" style\x3d"display:none"\x3e${doneButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"cancelButton"\x3e${cancelButtonLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptions.html":'\x3cdiv class\x3d"advanced-offline-options grid-container js-accordion"\x3e\r\n  \x3csection class\x3d"accordion-section is-active"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-attachments-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-half leader-1 avenir-demi"\x3e${i18n.itemProperties.advancedOptions.editableFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"featuresAndAttachments" data-sync\x3d"syncFeaturesAndAttachments"\r\n            class\x3d"js-editable-features js-edit-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"features"\r\n            data-sync\x3d"syncFeaturesUploadAttachments" class\x3d"js-editable-features js-edit-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesOnly}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"none"\r\n            data-sync\x3d"uploadFeaturesAndAttachments" class\x3d"js-editable-features js-edit-none"\x3e\r\n          ${i18n.itemProperties.advancedOptions.neverGetUpdates}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half avenir-demi"\x3e${i18n.itemProperties.advancedOptions.readonlyFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"true"\r\n            class\x3d"js-readonly-features js-readonly-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"false"\r\n            class\x3d"js-readonly-features js-readonly-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.readonlyFeaturesOnly}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsFootNote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3csection class\x3d"accordion-section is-active leader-1"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e ${i18n.itemProperties.advancedOptions.tilePackageTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-package-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.tilePackageDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"webmap" class\x3d"js-tile-option js-tile-webmap"\x3e\r\n          ${i18n.itemProperties.advancedOptions.useBasemapInWebmap}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"mobile" class\x3d"js-tile-option js-tile-mobile"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e${i18n.itemProperties.advancedOptions.useTilePackageOnMobile}\x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-half padding-left-2 hide advanced-offline-options__option-input-container js-file-name-container"\x3e\r\n              \x3clabel class\x3d"trailer-0"\x3e\r\n                ${i18n.itemProperties.advancedOptions.packageFileName}\r\n                \x3cinput type\x3d"text" class\x3d"js-tile-mobile-file-name" placeholder\x3d"${i18n.itemProperties.advancedOptions.fileNamePlaceholder}"\x3e\r\n                \x3cdiv class\x3d"input-error-message js-tile-mobile-file-name-error"\x3e\x3c/div\x3e\r\n              \x3c/label\x3e\r\n              \x3cdiv class\x3d"font-size--2"\x3e${i18n.itemProperties.advancedOptions.enterTilePackageFileName}\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- hide the third option until Apps team supports it --\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex hide"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"uploaded" class\x3d"js-tile-option js-tile-org"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e\r\n              ${i18n.itemProperties.advancedOptions.useUploadedTilePackage}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"hide leader-half padding-left-2 padding-trailer-1 advanced-offline-options__option-input-container js-tile-search-container"\x3e\r\n              \x3cinput type\x3d"search" class\x3d"input-minimal js-tile-search" placeholder\x3d"${i18n.itemProperties.advancedOptions.findPackage}"\x3e\r\n              \x3cdiv class\x3d"position-relative"\x3e\r\n                \x3cdiv class\x3d"advanced-offline-options__search-results trailer-1 js-search-results"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.tilePackageFootnote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3cdiv class\x3d"position-relative js-update-loader-container advanced-offline-options__loader-container"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_optionsLoader" class\x3d"loader js-update-loader overlay-white fullscreen"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${i18n.itemProperties.updatingItemLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ca class\x3d"js-learn-more" target\x3d"_blank"\x3e${i18n.itemProperties.advancedOptions.learnMore}\x3c/a\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptionSearchItem.html":'\x3cbutton class\x3d"btn-link flex advanced-offline-options__search-result-item"\x3e\r\n    \x3cdiv class\x3d"margin-right-half"\x3e\r\n        \x3cimg src\x3d"js/arcgisonline/img/item-types/tilepackage16.svg" class\x3d"advanced-offline-options__search-result-item-img"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-right-1 advanced-offline-options__search-result-item-title"\x3e${title}\x3c/div\x3e\r\n\x3c/button\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ManageSceneCache.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_optionsContainer"\x3e\r\n    ${i18n.description}\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildFullContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildFullRadio" checked\x3e ${i18n.rebuildFull}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildLayersRadio"\x3e ${i18n.rebuildLayers}\r\n      \x3c/label\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildPartialContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"_rebuildPartialAttrContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_portalOptionsContainer"\x3e\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalFullRadio"\x3e ${i18n.rebuildFullCache}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"loader js-caching-loader overlay-white position-relative leader-1 padding-trailer-1" data-dojo-attach-point\x3d"_caching"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${!i18n.republishing}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv data-dojo-attach-point\x3d"_sceneLayerSelectContainer"\x3e\r\n    \x3clabel class\x3d"trailer-0" data-dojo-attach-point\x3d"_sceneLayerSelectLabel"\x3e${i18n.selectLayers}\x3c/label\x3e\r\n    \x3cdiv class\x3d"scene-layer-list trailer-1" data-dojo-attach-point\x3d"_sceneLayerContainer"\x3e\r\n      \x3c!-- create scene layers here--\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"right inline-block padding-right-1" data-dojo-attach-point\x3d"_buttonBar"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-blue" disabled\x3d"true" data-dojo-attach-point\x3d"_rebuildBtn"\x3e${i18n.rebuildLabel}\x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/JobStatusDlg.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv class\x3d"${baseClass} orgDlg job-status-dlg" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_statusContainer"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_statusInfo"\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.status}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStatus"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.startTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStartTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.endTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobEndTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.duration}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobDuration"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_jobAdminDetailsContainer"\x3e\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.machine}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobMachine"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.user}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobUser"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.jobId}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobIdLinkContainer"\x3e\x3ca data-dojo-attach-point\x3d"_jobIdLink" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_jobIdText"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"loader overlay-white position-relative js-status-loader" data-dojo-attach-point\x3d"_statusLoader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${!i18n.awaitingInfo}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-blue" data-dojo-attach-point\x3d"_cancelJobBtn"\x3e${i18n.cancelJob}\x3c/button\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_closeBtn"\x3e${i18n.close}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/AppendData/templates/_table-row.html":'\x3cdiv class\x3d"table-select-row" role\x3d"row"\x3e\r\n    \x3c!-- Field Name --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-field text-ellipsis"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width display-block"\x3e${displayName}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n    \x3c!-- Match Field --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-matchField text-ellipsis" data-dojo-attach-point\x3d"matchFieldsContainer"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width" data-dojo-attach-point\x3d"matchFieldValue" data-value\x3d"__none"\x3e${!i18n.appendDataDlg.none}\x3c/span\x3e\r\n        \x3cselect data-dojo-attach-point\x3d"matchFields" class\x3d"leader-0 hide"\x3e\x3c/select\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/loader.html":'\x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 is-active"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${location}\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/sharing/dijit/AppendData/templates/_appendData.html":'\x3cdiv\x3e\r\n    \x3csection class\x3d"padding-leader-half content-node append-data"\x3e\r\n\r\n            \x3c!--Step 1--\x3e\r\n            \x3cdiv class\x3d"step-1 hide" data-dojo-attach-point\x3d"step1"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1Title}\x3c/label\x3e\r\n                \x3cul class\x3d"trailer-half"\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet1}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet2}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet3}\x3c/li\x3e\r\n                    \x3cli data-dojo-attach-point\x3d"step1Bullet4"\x3e${i18n.appendDataDlg.messageStep1Bullet4}\x3c/li\x3e\r\n                \x3c/ul\x3e\r\n                \x3cform data-dojo-attach-point\x3d"fileForm" enctype\x3d"multipart/form-data" class\x3d"text-left"\x3e\r\n                    \x3clabel\x3e\r\n                        ${i18n.appendDataDlg.fileName}\r\n                        \x3cinput name\x3d"file" type\x3d"file" accept\x3d".zip, .csv, .xls, .xlsx, .geojson" data-dojo-attach-point\x3d"fileInput"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"zipSelect"\x3e\r\n                        ${i18n.appendDataDlg.contents}\r\n                        \x3cselect name\x3d"type" data-dojo-attach-point\x3d"supportedTypes" class\x3d"text-left"\x3e\x3c/select\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/form\x3e\r\n                \x3cp class\x3d"trailer-quarter"\x3e${i18n.appendDataDlg.note}\x3c/p\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!--Step 2--\x3e\r\n            \x3cdiv class\x3d"step-2 padding-right-half hide" data-dojo-attach-point\x3d"step2"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${!i18n.appendDataDlg.messageStep2}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"serviceLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseServiceLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"serviceLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"dataLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"dataLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3c!-- Update Existing Features--\x3e\r\n                \x3cdiv class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesLbl}\x3c/div\x3e\r\n                \x3cp class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesMsg}\x3c/p\x3e\r\n                \x3clabel class\x3d"inline-block margin-right-half trailer-half align-middle updateFeatures js-updateFeatures js-attributesOnly"\x3e\r\n                    \x3cinput name\x3d"updateExistingFeatures" type\x3d"checkbox" data-dojo-attach-point\x3d"updateExistingFeatures"/\x3e\r\n                    ${i18n.appendDataDlg.updateExistingFeatures}\r\n                \x3c/label\x3e\r\n                \x3cdiv class\x3d"margin-left-1 updateFeatures js-updateFeatures-container js-updateFeatures"\x3e\r\n                    \x3c!-- UID field matching --\x3e\r\n                    \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.selectFields}\x3c/p\x3e\r\n                    \x3cdiv class\x3d"trailer-half"\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"fromField" class\x3d"margin-right-half inline-block"\x3e\x3c/select\x3e\r\n                        \x3cspan class\x3d"margin-right-half"\x3e${i18n.appendDataDlg.matchesTo}\x3c/span\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"toField" class\x3d"inline-block"\x3e\x3c/select\x3e\r\n                    \x3c/div\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.skipInserts}\r\n                        \x3cinput name\x3d"skipInserts" type\x3d"checkbox" data-dojo-attach-point\x3d"skipInserts"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-updateGeometry js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.updateGeometryOnly}\r\n                        \x3cinput name\x3d"updateGeometry" type\x3d"checkbox" data-dojo-attach-point\x3d"updateGeometry"/\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3c!-- Table View --\x3e\r\n                \x3cbutton class\x3d"btn-link trailer-half btn-fill" data-value\x3d"false" data-dojo-attach-point\x3d"showFieldMatchingLink"\x3e${i18n.appendDataDlg.showFieldMatching}\x3c/button\x3e\r\n                \x3cdiv class\x3d"js-table-wrap table-select trailer-half js-view hide" role\x3d"table" data-dojo-attach-point\x3d"fieldMatching"\x3e\r\n                    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\r\n                        \x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header is-ascending" aria-sort\x3d"ascending" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.fields}\x3c/button\x3e\x3c/span\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"matchField" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.matchField}\x3c/button\x3e\x3c/span\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!-- Loader --\x3e\r\n            \x3cdiv class\x3d"hide analyze-loader-wrap js-analyze-loader-wrap"\x3e\x3c/div\x3e\r\n\r\n    \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.chooseArchiveOption}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.chooseArchiveOption}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameScheme}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item stepper__radio-item--selected"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForArchive}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"replace"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\r\n            \x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/span\r\n          \x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeSwapped}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsBothLayers}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForReplacement}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-replace_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- End radio --\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-column"\x3e\r\n        \x3cdiv class\x3d"replace-lyr-preview-label flex flex-space-between"\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.replacementLayer}\x3c/span\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.currentLayer}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.archiveOption}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.chooseArchiveOption}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/img/Archive_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1,.cls-13{fill:none}.cls-1{stroke:#323232;stroke-miterlimit:10}.cls-1,.cls-13,.cls-14{stroke-linecap:round}.cls-2{fill:#323232}.cls-14,.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}.cls-13,.cls-14{stroke:#ff3636;stroke-linejoin:round}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M389.51 132.42c-7 0-14.06 4.57-19.41 13.84M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z" fill\x3d"#ff3636"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5zM198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M228.88 135.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM219.41 140.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM209.94 146l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM281.65 156.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM264.44 166.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM254.97 172l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM234.02 129.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM223.7 135.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM214.23 140.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM173.75 157.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM226.57 188.4l2.6 1.5 16.36-9.44-2.6-1.5-16.36 9.44zM229.86 157.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM244.49 149.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M222.59 169.2a3.88 3.88 0 011.86 2h10.31L219 162.18v5.95a9.28 9.28 0 013.59 1.07zM213.09 169.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"217.85" cy\x3d"171.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 217.85 171.934)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M213.12 174.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM224.45 172.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M350.67 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M350.33 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L294.75 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L406.25 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M320.2 143.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM295.25 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM344.61 186.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM344.45 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM399.69 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M319.5 171.9l19.92 11.5 19.79-11.43-19.92-11.5-19.79 11.43z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M321.07 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM295.25 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM345.48 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM346.18 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM400.56 155.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M338.55 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath fill\x3d"#ffe0e0" d\x3d"M229.17 189.9l-55.42-32 55.08-31.8 55.42 32-55.08 31.8z" opacity\x3d".5"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M232.93 150v-1.73a2.8 2.8 0 00-2.57-2.27h-3.29a2.8 2.8 0 00-2.57 2.27V150"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M235.47 170h-12.94l-2.35-20h17.64l-2.35 20z"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M219.5 149h19v4h-19z"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M223.6 155.6l1.2 12M227.2 155.6l.4 12M230.8 155.6l-.4 12M234.4 155.6l-1.2 12"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.65 87a29.18 29.18 0 011.35-8.41 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"archive-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3ctext class\x3d"archive-lyr-archive-svg" x\x3d"395" y\x3d"137" text-anchor\x3d"start"\x3e${i18n.replaceLayer.archivedSvg}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/img/Replace_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1{fill:none;stroke:#323232;stroke-linecap:round;stroke-miterlimit:10}.cls-2{fill:#323232}.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.68 85.94a30.38 30.38 0 011.32-7.35 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M137.07 82.96l-.68-.74-3.62 3.34-3.07-3.86-.78.63 3.73 4.7 4.42-4.07zM153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"replace-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceSceneLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.replaceSceneLayer.archive}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.replaceSceneLayer.archive}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.coordinateSystem}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.layerTypesShouldMatch}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3c!-- Radio \'checked\' needed for summary --\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n            class\x3d"hide"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-1"\x3e\x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replaceSceneLayer.archiveDetails}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.replaceSceneLayer.updateArchive}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n   \x3cdiv class\x3d"overwriteDialog"\x3e\r\n       \x3cp class\x3d"overwriteInfoText"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoText}\x3c/p\x3e\r\n       \x3cp class\x3d"overwriteInfoNote"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoNote}\x3c/p\x3e\r\n   \x3c/div\x3e \r\n   \x3c!-- Loader --\x3e\r\n   \x3cdiv class\x3d"loader loader-connectDataset is-active hide padding-leader-3 padding-trailer-3"\x3e\r\n     \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n     \x3cdiv class\x3d"loader-text"\x3e${i18n.overwriteFromCloudDlg.defaultLoading}\x3c/div\x3e\r\n   \x3c/div\x3e \r\n \x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultIssue.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUpdated.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUnchanged.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate.html":'\x3cdiv class\x3d"clearfix"\x3e\r\n  \x3cdiv class\x3d"leader-half font-size--1" data-dojo-attach-point\x3d"updateHttpsDesc"\x3e${i18n.itemProperties.updateLayersToHTTPSDesc}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"updateHttpsLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingLayersToHTTPS}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingLayersToHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide update-https-results" data-dojo-attach-point\x3d"updateHttpsResults"\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersWithIssues"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleIssues"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"text-red" data-dojo-attach-point\x3d"issuesTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"issues"\x3e\x3c!-- write out issues here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUpdated"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUpdated"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"updatedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"updated"\x3e\x3c!-- write out updated here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUnchanged"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUnchanged"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"unchangedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"unchanged"\x3e\x3c!-- write out unchanged here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"noChangesMade"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.noLayersToUpdateHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"unexpectedError"\x3e${i18n.itemProperties.errorUpdateHTTPS}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"leader-1 inline-block esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"okBtn"\x3e${i18n.itemProperties.updateLayers}\x3c/button\x3e\r\n    \x3cbutton class\x3d"hide btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"updateDomainDesc"\x3e${i18n.itemProperties.updateDomainDesc}\x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"updateDomainContainer"\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-update-select"\x3e\r\n        ${i18n.common.find}\x3cbr\x3e\r\n        \x3cselect class\x3d"select-full" data-dojo-attach-point\x3d"domainSelect" id\x3d"domain-update-select"\x3e\x3c/select\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-replace-input"\x3e\r\n        ${i18n.common.replace}\x3cbr\x3e\r\n        \x3cinput id\x3d"domain-replace-input" data-dojo-attach-point\x3d"domainReplace"\x3e\r\n        \x3cdiv class\x3d"hide input-error-message" data-dojo-attach-point\x3d"domainReplaceError"\x3e\r\n          ${i18n.itemProperties.siteReferenceInvalid}\r\n        \x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"inline-block align-top"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear btn-small" data-dojo-attach-point\x3d"replaceDomainBtn" disabled\x3e${i18n.common.replace}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingDomains}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingDomains}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainFailure"\x3e\r\n    \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainFailureMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainSuccess"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainSuccessMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"layerDetailsContainer"\x3e\r\n    ${i18n.itemProperties.layersWithDomain}\r\n    \x3cdiv class\x3d"font-size--2" data-dojo-attach-point\x3d"layerDetails"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"clearfix leader-1 esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/Card.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap tooltip" aria-label\x3d"${selectItem}"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-card-select-check-mark" value\x3d"${item.id}" data-id\x3d"${item.id}" ${checked}\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n\r\n  \x3ca href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size--1 trailer-0 text-ellipsis"\x3e\x3ca class\x3d"card-title-link" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${!item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-quarter flex"\x3e\r\n        \x3cspan class\x3d"js-layers-tables font-size--2"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle text-darkest-gray"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray card-created" title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/p\x3e\r\n      \x3cdiv class\x3d"flex-0 card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center leader-quarter"\x3e\r\n      \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis font-size--2 inline-block"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center flex-justify-end card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/OpenDropdown.html":'\x3cdiv class\x3d"display-block dropdown js-dropdown"\x3e\r\n  \x3cbutton class\x3d"card-action js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false" aria-label\x3d"${i18n.siteHeader.moreOptions}"\x3e\r\n    ${icons.ellipsis-f.16}\r\n  \x3c/button\x3e\r\n  \x3cnav class\x3d"dropdown-menu dropdown-menu-constrained dropdown-right" role\x3d"menu"\x3e\r\n    \x3c!-- Primary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"item.html?id\x3d${item.id}${telemetryParams:empty}" class\x3d"dropdown-link"\x3e${i18n.itemLinks.viewDetails}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-pdf js-action" data-action\x3d"download"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3cbutton role\x3d"menuitem" class\x3d"dropdown-link js-item-categorize if-allow-categorization"\x3e${i18n.items.categorize}\x3c/button\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-file if-download js-action" data-action\x3d"download"\x3e${i18n.itemLinks.download}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-explorer js-action" data-action\x3d"download"\x3e${i18n.itemLinks.openExplorer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadStyleUrl:empty}" class\x3d"dropdown-link if-resources"\x3e${i18n.itemLinks.downloadStyle}\x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-map-viewer-classic"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapNewViewerUrl:empty}" data-href\x3d"${item.mapNewViewerUrl:empty}" class\x3d"dropdown-link if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.addToNewViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemProperties.openViewerFullEditingRole}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"if-map-viewer-modern"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewerWithControl}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"if-geoBIM"\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.geoBIMUrl:empty}" class\x3d"dropdown-link if-create-GeoBIM"\x3e${i18n.itemLinks.openGeoBIM}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene if-3d"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.url:empty}" target\x3d"_blank" class\x3d"dropdown-link if-app"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-mobile"\x3e${i18n.itemLinks.getApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-link"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workforceViewerUrl:empty}" class\x3d"dropdown-link if-workforceProject-and-not-blocked"\x3e${i18n.itemLinks.openWorkforce}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workflowViewerUrl:empty}"  class\x3d"dropdown-link if-workflow"\x3e${i18n.itemLinks.openWorkflow}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyViewerUrl:empty}" class\x3d"dropdown-link if-surveyFormBrowser-and-not-blocked"\x3e${i18n.itemLinks.openSurveyBrowser}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyAppUrl:empty}" class\x3d"dropdown-link if-surveyForm-and-not-blocked"\x3e${i18n.itemLinks.openSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyManageUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.manageSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyEditUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.editSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.insightsViewerUrl:empty}" class\x3d"dropdown-link if-insights-and-not-blocked"\x3e${i18n.itemLinks.openInsights}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.urbanViewerUrl:empty}" class\x3d"dropdown-link if-urbanModel"\x3e${i18n.itemLinks.openUrbanModel}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.orthoMakerUrl:empty}" class\x3d"dropdown-link if-orthoMaker"\x3e${i18n.itemLinks.openOrthoMaker}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.missionViewerUrl:empty}" class\x3d"dropdown-link if-mission"\x3e${i18n.itemLinks.openMission}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.geoAIStudioUrl:empty}" class\x3d"dropdown-link if-geoAIStudioProject"\x3e${i18n.itemLinks.openGeoAIStudio}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubInitiativeUrl:empty}" class\x3d"dropdown-link if-hubInitiative-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubEventUrl:empty}" class\x3d"dropdown-link if-hubEvent-and-not-blocked"\x3e${i18n.itemLinks.viewInHub}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectEditUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.editHubProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotViewerUrl:empty}" class\x3d"dropdown-link if-bigDataAnalytic if-realTimeAnalytic"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotFeedUrl:empty}" class\x3d"dropdown-link if-feedLayer"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.vrExperienceUrl:empty}" class\x3d"dropdown-link if-vrExperience-and-not-blocked js-hide-portal"\x3e${i18n.itemLinks.openVRExperience}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.cityEngineViewerUrl:empty}" class\x3d"dropdown-link if-city-engine"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburViewerUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburProjectUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.viewExcaliburProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburMediaUrl:empty}" class\x3d"dropdown-link if-excaliburMedia"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-dashboard-and-not-blocked"\x3e${i18n.itemLinks.dashboardView}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardEditUrl:empty}" class\x3d"dropdown-link if-can-edit-dashboard"\x3e${i18n.itemLinks.dashboardEdit}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.fieldMapsUrl:empty}" class\x3d"dropdown-link if-fieldMaps"\x3e${i18n.itemLinks.fieldMaps}\x3c/a\x3e\r\n    \x3cdiv class\x3d"if-notebookServer-enabled"\x3e\r\n      \x3cspan class\x3d"if-can-create-notebooks"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.notebookViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-notebook"\x3e${i18n.itemLinks.openNotebook}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- Web Experience Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperience-and-not-blocked" target\x3d"_blank" rel\x3d"noopener noreferrer"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperience"\x3e${i18n.common.edit}\x3c/a\x3e\r\n\r\n    \x3c!-- Web Experience Template Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperienceTemplate-and-not-blocked"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperienceTemplate"\x3e${i18n.common.edit}\x3c/a\x3e\r\n    \x3cspan class\x3d"if-published-webExperienceTemplate-and-not-blocked"\x3e\r\n      \x3ca href\x3d"${item.webExperienceCreateUrl:empty}" class\x3d"dropdown-link if-can-create-webExperienceTemplate if-published-webExperienceTemplate-and-not-blocked if-no-public-user js-open-btn"\x3e${i18n.itemLinks.createWebExperience}\x3c/a\x3e\r\n    \x3c/span\x3e\r\n\r\n    \x3c!-- Secondary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.wabEditUrl:empty}" class\x3d"dropdown-link if-can-edit-wab-and-not-blocked"\x3e${i18n.itemLinks.editApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene-2"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openDesktop}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openArcMap}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-pro if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"pro"\x3e${i18n.itemLinks.openPro}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-no-presentation if-map"\x3e${i18n.siteHeader.createPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openPresentationUrl:empty}" class\x3d"dropdown-link if-presentation"\x3e${i18n.siteHeader.viewPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-create-presentation"\x3e${i18n.siteHeader.editPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureUrl:empty}" class\x3d"dropdown-link if-can-configure"\x3e${i18n.itemProperties.configureApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.viewStyleUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-vectorTile if-viewStyle"\x3e${i18n.itemLinks.viewStyle}\x3c/a\x3e\r\n\r\n    \x3c!-- Storymap Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureStoryMapUrl:empty}" class\x3d"dropdown-link if-editable-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.editStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.editStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.storyMapViewerUrl:empty}" class\x3d"dropdown-link if-published-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.viewStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.viewStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-published-storymap-theme"\x3e\r\n      \x3ca\r\n        class\x3d"dropdown-link"\r\n        href\x3d"${item.newStoryMapFromThemeUrl:empty}"\r\n      \x3e\r\n        ${i18n.itemLinks.newStoryFromTheme}\r\n      \x3c/a\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.newStoryMapCollectionFromThemeUrl:empty}" class\x3d"dropdown-link"\x3e\r\n        ${i18n.itemLinks.newCollectionFromTheme}\r\n      \x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3ca\r\n      href\x3d"${item.configureStoryMapThemeUrl:empty}"\r\n      class\x3d"dropdown-link if-editable-storymap-theme"\r\n    \x3e\r\n      ${i18n.itemLinks.editStorymapTheme}\r\n    \x3c/a\x3e\r\n  \x3c/nav\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/OrgPopup/OrgPopup.html":'\x3cdiv\x3e\r\n  \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"hide popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loader" class\x3d"profile-popup__loader loader"\x3e\r\n    \x3cdiv class\x3d"profile-popup__loader-bars loader-bars"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"text-left" data-dojo-attach-point\x3d"content"\x3e\r\n    \x3cdiv class\x3d"profile-popup__top-section flex flex-align-center"\x3e\r\n      \x3cimg src\x3d"${item.verified.thumbnail}" class\x3d"profile-popup__org-thumbnail margin-right-1"\x3e\r\n      \x3cdiv class\x3d"flex-1 font-size-1 avenir-demi"\x3e\r\n        ${item.verified.name}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"profile-popup__org-bottom" data-dojo-attach-point\x3d"bottomSection"\x3e\r\n      \x3cdiv class\x3d"profile-popup__bio-container" data-dojo-attach-point\x3d"descContainer"\x3e\r\n        \x3cp class\x3d"profile-popup__bio-section trailer-half" data-dojo-attach-point\x3d"descEl"\x3e\x3c/p\x3e\r\n        \x3cbutton class\x3d"hide btn-link btn-link-darker-gray profile-popup__more-toggle" data-dojo-attach-point\x3d"descToggle"\x3e${!icons.chevron-down.24}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1"\x3e\r\n        \x3ca href\x3d"${item.verified.url}"  target\x3d"_blank"\x3e${i18n.myOrganization.homeTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n        \x3ca href\x3d"${item.verified.url}gallery.html"  target\x3d"_blank" class\x3d"margin-left-1"\x3e${i18n.myOrganization.galleryTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/MinimalCard.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}" tabindex\x3d"0"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center" tabindex\x3d"0"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3ca data-dojo-attach-point\x3d"thumbLink" href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size-0 leader-quarter trailer-quarter text-ellipsis avenir-bold"\x3e\x3ca data-dojo-attach-point\x3d"titleLink" class\x3d"card-title-link minimal-card__title-link display-block text-ellipsis" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2"\x3e${item.displayName:formatDisplayName}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/onboard/templates/OnboardBanner.html":'\x3cdiv class\x3d"onboard-banner flex"\x3e\r\n    \x3cdiv class\x3d"onboard-banner-container flex ${contentClasses}"\x3e\r\n        \x3cdiv class\x3d"flex-1 flex"\x3e\r\n            \x3cdiv class\x3d"flex"\x3e\r\n                \x3cspan class\x3d"onboard-banner__light-bulb-icon"\x3e${!icons.inline.lightbulb.24}\x3c/span\x3e\r\n                \x3cdiv class\x3d"${messageClasses}" data-dojo-attach-point\x3d"contentContainer"\x3e\r\n                    \x3cdiv class\x3d"margin-right-half left"\x3e${!bannerText}\x3c/div\x3e\r\n                    \x3cbutton class\x3d"btn-link" data-dojo-attach-point\x3d"_learnMoreBtn"\x3e${i18n.myOrganization.onboarding.learnMore}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex flex-0"\x3e\r\n            \x3cbutton class\x3d"btn btn-clear onboard-banner_dismiss-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e\r\n                ${i18n.myOrganization.onboarding.dismiss}\r\n            \x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/NameRow.html":'\x3cdiv class\x3d"org-settings__card-value-col position-relative user-profile__name-row"\x3e\r\n  \x3cdiv class\x3d"avenir-bold font-size-2 flex"\x3e\r\n    \x3ch2 class\x3d"font-size-2 avenir-bold trailer-0 flex-1 user-profile__name-display" data-dojo-attach-point\x3d"displayValue"\x3e${profile.fullName}\x3c/h2\x3e\r\n    \x3cbutton class\x3d"flex-0 btn-link btn-link-darker-gray hide" data-dojo-attach-point\x3d"editBtn" aria-label\x3d"${i18n.editName}"\x3e${!icons.inline-end.pencil.16}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide org-settings__edit-form user-profile__name-edit text-left" data-dojo-attach-point\x3d"editForm"\x3e\r\n      \x3clabel class\x3d"trailer-half"\x3e\r\n        ${i18n.firstName}\r\n        \x3cinput type\x3d"text" value\x3d"${profile.firstName}" data-dojo-attach-point\x3d"firstNameInput"\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"firstNameError"\x3e${i18n.firstNameError}\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"trailer-half"\x3e\r\n        ${i18n.lastName}\r\n        \x3cinput type\x3d"text" value\x3d"${profile.lastName}" data-dojo-attach-point\x3d"lastNameInput"\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"lastNameError"\x3e${i18n.lastNameError}\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n        \x3cbutton class\x3d"control-bar__btn margin-right-quarter" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3cbutton class\x3d"control-bar__btn" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/BioRow.html":'\x3cdiv class\x3d"org-settings__card-value-col position-relative"\x3e\r\n  \x3cdiv class\x3d"hide position-relative profile-bio__readonly" data-dojo-attach-point\x3d"readonlyContainer"\x3e\r\n    \x3cdiv class\x3d"profile-bio__readonly-value" data-dojo-attach-point\x3d"readonlyValue"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"hide btn-link btn-link-darker-gray profile-bio__more-toggle" data-dojo-attach-point\x3d"readonlyToggle"\x3e${!icons.chevron-down.24}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn-link btn-link-darker-gray flex text-left user-settings__edit-btn position-relative" data-dojo-attach-point\x3d"editBtn" aria-haspopup\x3d"dialog" aria-label\x3d"${i18n.bioLabel}"\x3e\r\n    \x3cdiv class\x3d"org-settings__display-value profile-bio__edit-value" data-dojo-attach-point\x3d"displayValue"\x3e${profile.description}\x3c/div\x3e\r\n    \x3cdiv class\x3d"margin-left-1"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n    \x3cdiv class\x3d"hide profile-bio__edit-ellipsis" data-dojo-attach-point\x3d"editEllipsis"\x3e...\x3c/div\x3e\r\n  \x3c/button\x3e\r\n  \x3cdiv class\x3d"hide org-settings__edit-form user-settings__edit-popup user-settings__bio-popup" data-dojo-attach-point\x3d"editForm"\x3e\r\n      \x3ctextarea data-dojo-attach-point\x3d"bioTextarea" rows\x3d"10"\x3e\x3c/textarea\x3e\r\n      \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n        \x3cbutton class\x3d"control-bar__btn margin-right-quarter" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3cbutton class\x3d"control-bar__btn" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/AccessRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"readonlyContainer"\x3e\r\n    \x3cp class\x3d"avenir-bold trailer-0"\x3e${labelText}\x3c/p\x3e\r\n    \x3cp class\x3d"trailer-0" data-dojo-attach-point\x3d"readonlyValue"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"avenir-bold trailer-half" data-dojo-attach-point\x3d"editContainer"\x3e\r\n    \x3ch3 class\x3d"trailer-0 font-size-0 avenir-bold"\x3e${labelText}\x3c/h3\x3e\r\n    \x3cselect class\x3d"leader-half" data-dojo-attach-point\x3d"select"\x3e\x3c/select\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center private-vis-info hide" data-dojo-attach-point\x3d"privateVisDesc"\x3e\r\n    \x3cdiv class\x3d"margin-left-1 margin-right-1"\x3e\r\n      \x3ccalcite-icon class\x3d"text-blue" icon\x3d"information" scale\x3d"m"\x3e\x3c/calcite-icon\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--2" data-dojo-attach-point\x3d"visDescText"\x3e${i18n.privateVisItems}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/settings/rows/templates/ProfileImageRow.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"position-relative" data-dojo-attach-point\x3d"thumbContainer"\x3e\r\n    \x3cdiv class\x3d"hide profile-image__social-icon" data-dojo-attach-point\x3d"socialIcon"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/user/FeedbackOverlay.html":'\x3cdiv class\x3d"feedback-overlay__content"\x3e\r\n  \x3cp\x3e${i18n.feedbackOverlay.selectFeatures}\x3c/p\x3e\r\n  \x3clabel for\x3d"feedback-overlay-specifyContent"\x3e\r\n    \x3cinput id\x3d"feedback-overlay-specifyContent" type\x3d"checkbox" data-telemetry-label\x3d"specify" class\x3d"js-specify-checkbox js-features-cb"\x3e ${i18n.feedbackOverlay.specifyContent}\r\n  \x3c/label\x3e\r\n  \x3clabel for\x3d"feedback-overlay-noContent"\x3e\r\n    \x3cinput id\x3d"feedback-overlay-noContent" type\x3d"checkbox" data-telemetry-label\x3d"choose" class\x3d"js-no-content-checkbox  js-features-cb"\x3e ${i18n.feedbackOverlay.noContent}\r\n  \x3c/label\x3e\r\n  \x3clabel for\x3d"feedback-overlay-socialNetwork"\x3e\r\n    \x3cinput id\x3d"feedback-overlay-socialNetwork" type\x3d"checkbox" data-telemetry-label\x3d"add" class\x3d"js-social-network-checkbox  js-features-cb"\x3e ${i18n.feedbackOverlay.socialNetwork}\r\n  \x3c/label\x3e\r\n  \x3clabel for\x3d"feedback-overlay-noFeatures"\x3e\r\n    \x3cinput id\x3d"feedback-overlay-noFeatures" type\x3d"checkbox" data-telemetry-label\x3d"none" class\x3d"js-no-features-checkbox"\x3e ${i18n.feedbackOverlay.noFeatures}\r\n  \x3c/label\x3e\r\n  \x3cp\x3e${i18n.feedbackOverlay.haveAnIdea} \x3ca href\x3d"https://community.esri.com/community/arcgis-ideas" target\x3d"_blank"\x3e${i18n.feedbackOverlay.shareYourThoughts}${launchIcon}\x3c/a\x3e\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/user/SocialProfiles.html":'\x3cdiv class\x3d"org-settings__card-value-col position-relative"\x3e\r\n  \x3cdiv\r\n    class\x3d"btn-link btn-link-darker-gray flex inline-flex text-left user-settings__edit-btn position-relative"\r\n    data-dojo-attach-point\x3d"editBtn"\r\n    aria-haspopup\x3d"dialog"\r\n    aria-label\x3d""\r\n  \x3e\r\n    \x3cdiv class\x3d"org-settings__display-value profile-bio__edit-value" data-dojo-attach-point\x3d"displayValue"\x3e\r\n      ${i18n.addSocialProfiles}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"margin-left-1"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\r\n    class\x3d"hide org-settings__edit-form user-settings__edit-popup user-settings__bio-popup"\r\n    data-dojo-attach-point\x3d"editForm"\r\n  \x3e\r\n    \x3clabel for\x3d"social-profiles-website-input"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3csvg viewBox\x3d"0 0 16 16" class\x3d"social-profiles__icon margin-right-half"\x3e\x3cpath d\x3d"M8 0a8 8 0 1 0 8 8 7.999 7.999 0 0 0-8-8zm3.83 3.162c.067.24.01.47-.273.47a.669.669 0 0 0 .16-.55c.039.027.08.055.112.08zm-.372-.95l.207.072a.803.803 0 0 0-.428.158.406.406 0 0 1 .222-.23zM7.792 1.01a2.963 2.963 0 0 1 .638.012l-.054.083c-.123-.004-.54-.027-.653-.01.073-.074.015-.021.07-.085zM2.527 12.357a7.018 7.018 0 0 1-.414-.58 6.759 6.759 0 0 1 .58.405.918.918 0 0 0-.166.175zm7.606 2.31a6.986 6.986 0 0 1-7.058-1.695c-.003-.07 0-.08.059-.122 1-.692.512-1.033-1.055-2.047-.123-.084-.179-.132-.19-.165-.075-1.662-.082-.85-.662-2.313a2.123 2.123 0 0 0-.222-.427 6.967 6.967 0 0 1 1.911-4.701c.616.008.934.146 1.176-.473.015-.04.06-.16.073-.121.7.04.593.475 1.518-.9a1.156 1.156 0 0 0 .157-.36c.2-.065.405-.119.613-.166-.465.623-.137 1.095.319 1.095.141 0 .731-.33 1.07-.387.608.03.853.118 1.201-.337a2.112 2.112 0 0 1 .3-.416 6.936 6.936 0 0 1 1.548.498c-.508.388-.222.396-.56.838-.334.444-.017.803.425 1.138a2.056 2.056 0 0 0-.28.242.59.59 0 0 0-.223-.321.669.669 0 0 0-.735-.596.599.599 0 0 0-.147 1.122.573.573 0 0 0 .292.473c-.164.242-.081.414-.01.663-.052 0-.29-.069-.374-.069-.72 0-.785 1.215-.46 1.543-.79.68-.809.795-.917 1.017a1.921 1.921 0 0 0-1.248 1.686c0 .41-.25.36-.317.682-.102.485.146.728.435 1.006.32.311.152.587.628.973.572.477.863.374 1.603.268a2.339 2.339 0 0 1 1.257.134c.09.021.181.057.1.298a.596.596 0 0 0 .133.739.275.275 0 0 1 .11.19c.05.639-.197.474-.47 1.01zm.383-8.91l.2.098a.313.313 0 0 1 .255-.052c.37.233.57.424.93.066a2.055 2.055 0 0 1 .325.339.593.593 0 0 0 .914.493c.214.276.447.177.757.255a1.3 1.3 0 0 1 .088.284 1.486 1.486 0 0 1-.52.136c-.114-.03-.231-.125-.35-.125a.533.533 0 0 0-.656.356 1.398 1.398 0 0 1-.698-.416c.1-.693-.948-.767-1.63-.616.02-.025.108-.16.089-.185a.665.665 0 0 0 .094-.14.838.838 0 0 0 .315-.284zm-.996.222a.732.732 0 0 0-.064.138c0-.055.002-.102.005-.147l.059.01zm1.844 8.16a1.248 1.248 0 0 0-.241-1.173.955.955 0 0 0-.68-1.316c-.006-.002-.38-.081-.473-.113-1.052-.302-1.98.487-2.265-.484a2.546 2.546 0 0 0-.573-.79c.382-.424.237-.624.333-1.035.313-1.157.897-.378 1.276-1.376.017-.042.634-.564.768-.765.379.458.848.204 1.465.243.133.77 1.55 1.512 2.121.763.703.292 1.96-.216 1.646-1.118v.001a1.301 1.301 0 0 0-.112-.342.945.945 0 0 0-.935-.511.8.8 0 0 0-.72-.205c-.255-.554-.903-1.088-1.488-.733a.95.95 0 0 0-.705-.183.798.798 0 0 0-.36-.04 5.498 5.498 0 0 0-.033-.098.782.782 0 0 0 .065-.216.87.87 0 0 0 .691-.33c1.179.708 2.182-1.263.96-1.935.016 0 .03-.01.046-.011a6.994 6.994 0 0 1-.786 11.766z"\x3e\x3c/path\x3e\x3c/svg\x3e\r\n        ${i18n.website.label}\r\n      \x3c/div\x3e\r\n      \x3cinput id\x3d"social-profiles-website-input" type\x3d"text" placeholder\x3d"${i18n.website.placeholder}"\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel for\x3d"social-profiles-linkedin"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3csvg class\x3d"social-profiles__icon margin-right-half" role\x3d"img" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ctitle\x3eLinkedIn icon\x3c/title\x3e\x3cpath d\x3d"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/\x3e\x3c/svg\x3e\r\n        Linkedin\r\n      \x3c/div\x3e\r\n      \x3cinput id\x3d"social-profiles-linkedin" type\x3d"text" placeholder\x3d"${i18n.linkedIn.placeholder}"\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel for\x3d"social-profiles-twitter"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3csvg class\x3d"social-profiles__icon margin-right-half" role\x3d"img" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ctitle\x3eTwitter icon\x3c/title\x3e\x3cpath d\x3d"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/\x3e\x3c/svg\x3e\r\n        Twitter\r\n      \x3c/div\x3e\r\n      \x3cinput id\x3d"social-profiles-twitter" type\x3d"text" placeholder\x3d"${i18n.twitter.placeholder}"\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel for\x3d"social-profiles-facebook"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3csvg class\x3d"social-profiles__icon margin-right-half" role\x3d"img" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ctitle\x3eFacebook icon\x3c/title\x3e\x3cpath d\x3d"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"/\x3e\x3c/svg\x3e\r\n        Facebook\r\n      \x3c/div\x3e\r\n      \x3cinput id\x3d"social-profiles-facebook" type\x3d"text"  placeholder\x3d"${i18n.socialForm.facebook.placeholder}"\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel for\x3d"social-profiles-instagram"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3csvg class\x3d"social-profiles__icon margin-right-half" role\x3d"img" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ctitle\x3eInstagram icon\x3c/title\x3e\x3cpath d\x3d"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/\x3e\x3c/svg\x3e\r\n        Instagram\r\n      \x3c/div\x3e\r\n      \x3cinput id\x3d"social-profiles-instagram" type\x3d"text" placeholder\x3d"${i18n.socialForm.instagram.placeholder}"\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel for\x3d"social-profiles-github"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3csvg class\x3d"social-profiles__icon margin-right-quarter" role\x3d"img" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ctitle\x3eGitHub icon\x3c/title\x3e\x3cpath d\x3d"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/\x3e\x3c/svg\x3e\r\n        Github\r\n      \x3c/div\x3e\r\n      \x3cinput id\x3d"social-profiles-github" type\x3d"text" placeholder\x3d"${i18n.socialForm.github.placeholder}"\x3e\r\n    \x3c/label\x3e\r\n    \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n      \x3cbutton class\x3d"control-bar__btn margin-right-quarter" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3cbutton class\x3d"control-bar__btn" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"*now":function(T){T(['dojo/i18n!*preload*arcgisonline/pages/nls/user*["ar","bg","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("arcgisonline/pages/user","require exports tslib dojo/promise/all dojo/Deferred dojo/i18n!../nls/arcgisonline dojo/dom-construct dojo/string dojo/has dojo/topic dojo/text!./item/widgets/templates/_loader.html ./basePage ./dijit/SubNav ./utils/dom ./utils/user ./utils/subscription ./pageUtil ./user/settings/UserSettings ./user/UserProfile arcgisonline/sharing/util arcgisonline/sharing/dijit/Role arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/sharing/dijit/_LevelAwareMixin arcgisonline/sharing/geow/Account arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator ./utils/queryHandler".split(" "),function(T,
J,p,y,t,m,f,g,l,u,q,z,x,n,h,e,d,a,b,c,k,r,v,B,C,A,E){y=p.__importDefault(y);t=p.__importDefault(t);m=p.__importDefault(m);f=p.__importDefault(f);g=p.__importDefault(g);l=p.__importDefault(l);u=p.__importDefault(u);q=p.__importDefault(q);z=p.__importDefault(z);x=p.__importDefault(x);n=p.__importDefault(n);h=p.__importDefault(h);e=p.__importDefault(e);d=p.__importDefault(d);a=p.__importDefault(a);b=p.__importDefault(b);c=p.__importDefault(c);k=p.__importDefault(k);r=p.__importDefault(r);v=p.__importDefault(v);
B=p.__importDefault(B);C=p.__importDefault(C);A=p.__importDefault(A);E=p.__importStar(E);var F;(function(w){w.ArcGIS="arcgis";w.Both="both";w.Enterprise="enterprise"})(F||(F={}));return function(){function w(){this.hideNav=this.canViewUsers=this.showPublicItems=this.showOrgItems=this.isDeveloperSubscription=this.isSameOrg=this.isAdmin=this.isOwner=!1;this.socialProviders=["google","facebook","github","apple"];this._hideErrors=!0}w.prototype.startup=function(){var D,G,H,M,R;this.inherited(arguments);
this.domNode.classList.add("flex-1");var N=this.queryParams=E.queryToObject(location.search.slice(1)),K=N.user;N=N.hideNav;var V=c["default"].stripHTML(this.queryParams.verifyEmail),Z=c["default"].stripHTML(this.queryParams.validateEmail);this.isOwner=K?(null===(D=this.portalUser)||void 0===D?void 0:D.username)===K:!0;this.isAdmin=null===(G=this.portalUser)||void 0===G?void 0:G.userRole.isAdmin();D=null===(M=null===(H=this.portal.subscriptionInfo)||void 0===H?void 0:H.type)||void 0===M?void 0:M.toLowerCase();
this.isDeveloperSubscription=e["default"].isDeveloperSubscription(D,this.portal.isPortal);this.hideNav=!!N;V&&d["default"].createSpecifiedDialog(r["default"]).show({title:this.i18n.userProfile.confirmEmailTitle,message:g["default"].substitute(this.i18n.userProfile.confirmEmailMsg,{email:V})});Z&&c["default"].requireAuthentication();this.canViewUsers=(null===(R=this.portalUser)||void 0===R?void 0:R.userRole.isCustom())&&this.portalUser.userRole.canViewUsers();this.renderPage();this.addEventListeners()};
w.prototype.renderPage=function(){var D=this,G;c["default"].isLoggedIn()||this.queryParams.user||c["default"].requireAuthentication();this.subNav=new x["default"]({titleText:this.i18n.userProfile.mySettings});this.domNode.appendChild(this.subNav.domNode);this._loader=f["default"].place(g["default"].substitute(q["default"],{i18n:m["default"]}),this.domNode);this._content=f["default"].create("main",{"class":"hide tab-content",id:"tabcontent","aria-live":"polite",role:"main"},this.domNode);var H=this.queryParams.user,
M=this.isOwner?null===(G=this.portalUser)||void 0===G?void 0:G.username:H;this.checkValidateEmail(M).then(function(){return D.getProfile(M)}).then(function(R){return B["default"].getSupportedLanguagesAndRegions().then(function(N){R.languages=N.languages;R.regions=N.regions;return R})}).then(function(R){var N,K;D.profile=R;D.profile.description=c["default"].stripHTML(D.profile.description);D.profile.firstName=c["default"].stripHTML(D.profile.firstName);D.profile.lastName=c["default"].stripHTML(D.profile.lastName);
D.profile.fullName=c["default"].stripHTML(D.profile.fullName);D.isSameOrg=(null===(N=D.portalUser)||void 0===N?void 0:N.accountId)&&D.portalUser.accountId===D.profile.orgId;D.portalUser&&!D.isSameOrg&&(D.isAdmin=!1);if(!D.profile.firstName&&D.profile.fullName){N=h["default"].splitFullName(D.profile.fullName);var V="ja"===D.profile.culture;D.profile.firstName=V?N.last:N.first;D.profile.lastName=V?N.first:N.last}D.profile.firstName||(D.profile.firstName="");D.profile.lastName||(D.profile.lastName="");
D.profile.fullName||(D.profile.fullName=h["default"].createFullName(D.profile));D.profile.description||(D.profile.description="");D.profile.role=c["default"].normalizeOrgRole(R.role);D.profile.userRole=new k["default"]({id:R.roleId?R.roleId:R.role,role:R.role});D.profile.userRole.setPrivileges(R.privileges);D.isOwner||(R=void 0,R=D.profile.firstName?g["default"].substitute(D.i18n.userProfile.usersSettings,{name:D.profile.firstName}):D.i18n.userProfile.settings,D.subNav.setPageTitle(R));D.showOrgItems=
(null===(K=D.portalUser)||void 0===K?void 0:K.accountId)&&("org"===D.profile.access||"public"===D.profile.access);D.showPublicItems=!D.profile.orgId||"public"===D.profile.access;return D.getProperties()}).then(function(){return D.getProfileItems().then(function(R){R&&(D.profile.profileItemIds=R)})}).then(function(){var R=new t["default"];D.profile.level&&D.profile.level!==D.LICENSE_LEVELS.TWO&&D.portal.id?R.resolve():y["default"]({profileItems:D.getUserProfileItems(M),groups:D.profile.groups?null:
D.getUserGroups(M)}).then(function(N){var K=N.profileItems;N=N.groups;var V=D.profile.profileItemIds;void 0!==V?(D.profile.profileItems=[],V.forEach(function(Z){var ca,ea=null===(ca=null===K||void 0===K?void 0:K.results)||void 0===ca?void 0:ca.filter(function(ka){return ka.id===Z})[0];ea&&D.profile.profileItems.push(ea)})):D.profile.profileItems=null===K||void 0===K?void 0:K.results;!D.profile.groups&&(null===N||void 0===N?0:N.results)&&(D.profile.groups=N.results,D.profile.totalGroups=N.total);R.resolve()},
function(){R.resolve()});return R}).then(function(){return D.updateTab()}).then(function(){D.hideLoader();u["default"].publish("page/show")})};w.prototype.checkValidateEmail=function(D){var G=this,H=new t["default"],M=this.queryParams.validateEmail;M?this.updateProfile(D,{validateEmail:M}).then(function(){d["default"].createSpecifiedDialog(r["default"]).show({title:G.i18n.common.notice,message:G.i18n.userProfile.verifiedEmailMsg});H.resolve()},function(){H.resolve()}):H.resolve();return H};w.prototype.getProfileResource=
function(){var D=new t["default"];c["default"].request({url:C["default"].restBaseUrl+"community/users/"+this.profile.username+"/resources/portal_app_profile_items.json"}).then(function(G){D.resolve(G)},function(){D.resolve()});return D};w.prototype.getProfileItems=function(){return!this.profile.access||"public"===this.profile.access&&!1===this.portal.canSharePublic?(new t["default"]).resolve():this.getProfileResource().then(function(D){return null===D||void 0===D?void 0:D.items})};w.prototype.updateProfile=
function(D,G){return c["default"].request({url:C["default"].restBaseUrl+"community/users/"+D+"/update",content:G},{usePost:!0})};w.prototype.getProfile=function(D){return c["default"].request({url:C["default"].restBaseUrl+"community/users/"+D,content:{ts:(new Date).getTime()}},{preventCache:!0})};w.prototype.getUserGroups=function(D){return c["default"].request({url:this.portal.url+"community/groups",content:{q:'(owner:"'+D+'")',num:100}})};w.prototype.getUserProfileItems=function(D){if(!this.profile.access)return(new t["default"]).resolve();
var G="";if(this.profile.profileItemIds){var H=this.profile.profileItemIds;H.length&&(G="("+H.map(function(M){return"id:"+M}).join(" OR ")+")")}return c["default"].request({url:this.portal.url+"search",content:{q:'owner:"'+D+'" (access:"public" OR access:"org") -type:("Code Attachment") -typekeywords:("MapAreaPackage") -type:("Map Area") '+(G?"("+G+")":""),sortField:"relevance",sortOrder:"desc",num:this.profile.profileItemIds?100:12}})};w.prototype.getProperties=function(){var D=this,G=new t["default"];
if(this.isOwner||this.isAdmin||this.canViewUsers&&this.profile.orgId&&this.profile.orgId===this.portalUser.accountId)return c["default"].request({url:C["default"].restBaseUrl+"community/users/"+this.profile.username+"/properties"}).then(function(H){D.profile.properties=H.properties||{}});G.resolve();return G};w.prototype.addEventListeners=function(){var D=this;window.addEventListener("popstate",function(){D.updateTab().then(function(){D.hideLoader()})});this.own(u["default"].subscribe("/dojo/hashchange",
function(G){(l["default"]("ie")||l["default"]("trident")||l["default"]("edge"))&&D.updateTab().then(function(){D.hideLoader()})}))};w.prototype.updateTab=function(){var D=this,G="#"===location.hash.charAt(0)?location.hash.substring(1):location.hash;this.domNode.classList.add("view-background");if("settings"===G){var H=a["default"];n["default"].showNode(this.subNav.domNode)}else H=b["default"],n["default"].hideNode(this.subNav.domNode);return this._destroyTab().then(function(){return D._createTab(H,
{profile:D.profile,isOwner:D.isOwner,isArcGISUser:D.isArcGISUser(),isSocialUser:D.isSocialUser(),isEnterpriseUser:D.isEnterpriseUser(),isDeveloperSubscription:D.isDeveloperSubscription,isSameOrg:D.isSameOrg,isAdmin:D.isAdmin,hideNav:D.hideNav})})};w.prototype.isArcGISUser=function(){var D;return this.isOwner&&(null===(D=this.portalUser)||void 0===D?void 0:D.provider)===F.ArcGIS||!this.isOwner&&this.profile.provider===F.ArcGIS};w.prototype.isSocialUser=function(){var D,G;return this.isOwner&&(null===
(D=this.portalUser)||void 0===D?void 0:D.provider)&&-1<this.socialProviders.indexOf(null===(G=this.portalUser)||void 0===G?void 0:G.provider)||!this.isOwner&&this.profile.provider&&-1<this.socialProviders.indexOf(this.profile.provider)};w.prototype.isEnterpriseUser=function(){var D,G;return this.isOwner&&(null===(D=this.portalUser)||void 0===D?void 0:D.provider)===F.Enterprise||!this.isOwner&&(null===(G=this.profile)||void 0===G?void 0:G.provider)===F.Enterprise};return w=p.__decorate([A["default"](z["default"],
v["default"])],w)}()});