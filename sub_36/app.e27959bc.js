(function(t){function e(e){for(var a,s,r=e[0],c=e[1],u=e[2],d=0,m=[];d<r.length;d++)s=r[d],i[s]&&m.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1157:function(t,e,n){t.exports=n.p+"media/Sector-Off-Limits_Looping.eef34222.mp3"},"21bb":function(t,e,n){"use strict";var a=n("bcc9"),i=n.n(a);i.a},"23ec":function(t,e,n){t.exports=n.p+"img/logo-klasse@2x.80f44243.png"},"25a2":function(t,e,n){t.exports=n.p+"media/wrong.ab4456e7.mp3"},"35a7":function(t,e,n){t.exports=function(){return new Worker(n.p+"abad02bfc3759878b562.worker.js")}},3725:function(t,e,n){t.exports=n.p+"media/game-over.252cda80.mp3"},"420f":function(t,e,n){},4415:function(t,e,n){t.exports=n.p+"media/Ticking.553d7c73.mp3"},"55b7":function(t,e,n){t.exports=n.p+"media/minute-remaining.577cff4e.mp3"},"55ed":function(t,e,n){t.exports=n.p+"media/keyboard.a66fd203.mp3"},"56d7":function(t,e,n){"use strict";n.r(e);n("a481"),n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-100",attrs:{id:"app"}},[n("router-view"),n("resume-play")],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"myModalRef",attrs:{"hide-footer":"",title:"Er is nog een spel bezig",bodyClass:"bg-dark",headerClass:"bg-dark",hideHeaderClose:""}},[n("button",{staticClass:"btn btn-outline-light border-2",attrs:{variant:"outline-danger",block:""},on:{click:t.stopGame}},[t._v("Stoppen")]),n("button",{staticClass:"btn btn-light border-2 ml-3",attrs:{variant:"outline-danger",block:""},on:{click:t.resumeGame}},[t._v("Voortzetten")])])},r=[],c=n("3a5b"),u=n("f429"),l=n("bc3a"),d=n.n(l),m=d.a.create({baseURL:"https://klasse.cito.nl/api",withCredentials:!0}),p={components:{"b-modal":c["a"]},directives:{"b-modal":u["a"]},created:function(){var t=this;m.get("/game/gamerunning/1").then(function(e){1==e.data?t.showModal():t.stopGame()}).catch(function(t){console.log("no game"+t)})},methods:{showModal:function(){this.$refs.myModalRef.show()},hideModal:function(){this.$refs.myModalRef.hide()},stopGame:function(){var t=this;m.post("/game/stop").then(function(){t.hideModal()}).catch(function(e){t.errorMessage="Kan het spel niet stoppen",console.log(e)})},resumeGame:function(){this.$router.push({path:"/countdown"}),this.hideModal()}}},h=p,f=(n("758f"),n("2877")),v=Object(f["a"])(h,s,r,!1,null,null,null);v.options.__file="resumeplay.vue";var g=v.exports,b={components:{ResumePlay:g}},w=b,_=Object(f["a"])(w,i,o,!1,null,null,null);_.options.__file="App.vue";var y=_.exports,x=n("8c4f"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("cookie-consent",[a("template",{slot:"message"},[a("span",{staticClass:"text-dark"},[t._v("Klasse maakt gebruik van cookies")]),a("a",{staticClass:"btn btn-link text-cito-cyan",attrs:{href:"www.cito.nl"}},[t._v("Meer weten?")])]),a("template",{slot:"button"},[a("button",{staticClass:"btn btn-cito-cyan rounded btn-sm"},[t._v("Ik snap het")])])],2),a("div",{staticClass:"theme"},[a("transition",{attrs:{appear:"","appear-active-class":"animated slideInDown","leave-active-class":"animated slideOutUp"}},[t.show?a("div",{staticClass:"theme-intro-text"},[a("h4",{directives:[{name:"title",rawName:"v-title"}],staticClass:"title"},[t._v("**GEHACKT**")]),a("p",[t._v("Het schoolsysteem is gehackt!")])]):t._e()]),a("div",{staticClass:"theme-intro-button"},[a("transition",{attrs:{appear:"","appear-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.show?a("button",{staticClass:"button-large",on:{click:t.startGame}},[t._v("SPEEL")]):t._e()])],1)],1),a("transition",{attrs:{appear:"","appear-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"},on:{"after-leave":t.afterLeave}},[t.show?a("div",{staticClass:"footer"},[a("img",{staticStyle:{position:"absolute","transform-origin":"bottom left",transform:"scale(1.6) translateY(-1.3rem)"},attrs:{src:n("23ec")}}),a("div",{staticClass:"text-dark"},[t._v("Meer informatie op "),a("a",{staticClass:"text-cito-cyan",attrs:{href:"http://cito.nl/klasse",target:"_new"}},[t._v("cito.nl/klasse")])]),a("img",{attrs:{src:n("8e77")}})]):t._e()])],1)},S=[],C={data:function(){return{show:!0}},methods:{startGame:function(){this.show=!1},afterLeave:function(){this.$router.push({path:"intro"})}}},T=C,O=T,M=(n("21bb"),Object(f["a"])(O,k,S,!1,null,null,null));M.options.__file="Home.vue";var j=M.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-100 d-flex flex-column p-2 p-sm-3 p-md-4"},[n("transition",{attrs:{appear:"","appear-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.show?n("button",{staticClass:"position-absolute right-0 top-0 m-2 m-sm-3 m-md-4 button-small",on:{click:t.stopGame}},[t._v("STOP")]):t._e()]),n("transition",{attrs:{appear:"","appear-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},on:{"after-leave":t.afterLeave}},[t.show?n("div",{staticClass:"window-frame",staticStyle:{"min-height":"14rem"}},[n("h4",{directives:[{name:"title",rawName:"v-title"}],staticClass:"title m-0 mb-2"},[t._v("**GEHACKT**")]),n("div",{directives:[{name:"introtext",rawName:"v-introtext"}],staticClass:"introtext",on:{"my-event":function(e){t.stopAudio(),t.showStart=!0}}},[t._v("\n        Dit systeem is gehackt en alle persoonlijke documenten zijn versleuteld.\n        Om ze terug te krijgen moet er een codewoord worden ingevoerd.\n        De letters van dat codewoord moeten eerst verdiend worden met opdrachten.\n        Als het codewoord op tijd ingevoerd wordt, worden alle persoonlijke documenten weer vrijgegeven.\n        Maar pas op: met elke foute invoer gaat er tijd vanaf..\n      ")]),t.showStart?n("div",{directives:[{name:"title",rawName:"v-title",value:{time:500},expression:"{ time: 500 }"}],staticClass:"mt-2"},[t._v("-H4ck3r-")]):t._e()]):t._e()]),n("div",{staticClass:"flex-even d-flex align-items-end"},[n("transition",{attrs:{"enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.showStart?n("button",{staticClass:"button-large ml-auto",on:{click:t.startGame}},[t._v("Start")]):t._e()])],1)],1)},I=[],L=n("cf96"),z={inserted:function(t,e){var n="my-event",a={myData:"stuff - "+e.expression},i=0,o=t.innerText;function s(){i<o.length?(t.innerText=o.substring(0,i),i++,setTimeout(s,"."==o.charAt(i-2)?800:50)):t.dispatchEvent(new CustomEvent(n,{detail:a}))}t.innerText="",s()}},G={inserted:function(t,e){new L["a"](t,{timeOffset:e.value?e.value.time:100}).start().play()}},P={game_started:new Audio(n("c19b")),game_over:new Audio(n("3725")),beep:new Audio(n("4415")),alert:new Audio(n("25a2")),one_minute_remaining:new Audio(n("55b7")),intro_text:new Audio(n("55ed")),intro_music:new Audio(n("1157"))},A={data:function(){return{audio:P,show:!0,showStart:!1,routeTo:""}},created:function(){this.audio.intro_text.play()},destroyed:function(){this.audio.intro_text.pause()},methods:{stopGame:function(){this.routeTo="/",this.show=!1,this.showStart=!1},stopAudio:function(){this.audio.intro_text.pause()},afterLeave:function(){this.$router.push({path:this.routeTo})},startGame:function(){this.routeTo="/countdown",this.show=!1,this.showStart=!1}}},$=A,W=$,D=Object(f["a"])(W,E,I,!1,null,null,null);D.options.__file="Intro.vue";var R=D.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"h-100 d-flex flex-column"},[t.isDebug?a("div",{staticClass:"position-absolute"},[t.timeout?t._e():a("button",{on:{click:function(){return t.setTimeTo(64)}}},[t._v("64s")]),t.timeout?t._e():a("button",{on:{click:function(){return t.setTimeTo(12)}}},[t._v("12s")]),t.timeout?t._e():a("button",{on:{click:function(){return t.setTimeTo(2)}}},[t._v("2s")])]):t._e(),t.passed?a("div",{staticClass:"position-absolute success"},t._l(100,function(e){return a("div",{key:e,class:{particle:t.passed}})})):t._e(),a("transition",{attrs:{appear:"","appear-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.show?a("button",{staticClass:"position-absolute right-0 top-0 m-2 m-sm-3 m-md-4 button-small",on:{click:t.stopGame}},[t._v("STOP")]):t._e()]),a("div",{staticClass:"flex-even d-flex flex-column align-items-center justify-content-end"},[a("transition",{attrs:{"enter-active-class":"animated slideInDown","leave-active-class":"animated slideOutUp"}},[t.show?a("div",[t.timeout?a("h4",{staticClass:"title text-center"},[t._v("*** GAME OVER ***")]):t._e(),t.timeout?a("h6",{staticClass:"title text-center"},[t._v(t._s(t.maxTimeInMinutes)+":00+")]):t._e()]):t._e()]),a("transition",{attrs:{"enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},on:{"after-leave":t.afterLeave}},[t.show?a("div",{staticClass:"timer mt-md-2 mb-md-3 display-3 w-100 d-flex justify-content-center text-monospace",class:{"clock-danger pulse":this.addSeconds>0,"clock-warning pulse":this.remainingSeconds<60&&!this.timeout,pulse:t.passed}},[a("transition",{attrs:{name:"seconds",mode:"out-in"}},[a("div",[t._v(t._s(t.minutes))])]),a("div",[t._v(":")]),a("transition",{attrs:{name:"timer",mode:"out-in"}},[a("div",{key:t.seconds},[t._v(t._s(t.seconds))])])],1):t._e()])],1),a("div",{staticClass:"flex-even d-flex flex-column align-items-center"},[a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.show?a("div",{staticClass:"masked",class:{"shake animated":t.emptyanswer},on:{animationend:function(e){t.emptyanswer=!1}}},[t._l(t.solutionLength,function(e){return a("span",{key:e,staticClass:"placeholders"},[t._v("Â ")])}),t.timeout&&2!==t.gameState?t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"enter",style:{width:"calc( "+t.solutionLength+"ch + "+10*t.solutionLength+"60px )"},attrs:{id:"enter",spellcheck:"false",autocomplete:"off",disabled:t.passed,maxlength:t.solutionLength},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})],2):t._e()]),t.passed||t.timeout&&2!==t.gameState?t._e():a("div",{staticClass:"d-flex justify-content-center w-100"},[a("transition",{attrs:{"enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.show?a("button",{staticClass:"button-password p-3 mt-3",class:{pulseon:t.code.length==t.solutionLength},on:{click:t.checkCode}},[a("img",{staticStyle:{width:"1.7rem",height:"1.7rem","margin-top":"-0.3rem"},attrs:{src:n("90a1")}})]):t._e()])],1),a("transition",{attrs:{"enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.timeout&&2!==t.gameState?a("div",{staticClass:"d-flex justify-content-center w-100"},[a("button",{staticClass:"button-large m-2",on:{click:t.continueGame}},[t._v("doorgaan")]),a("button",{staticClass:"button-large m-2",on:{click:t.stopGame}},[t._v("stoppen")])]):t._e()])],1)],1)},K=[],N=(n("96cf"),n("1da1")),U=n("35a7"),J=n.n(U),V=function(t,e,n){return new Promise(function(a){t.style[e]=n;var i=function n(i){i.propertyName===e&&(t.removeEventListener("transitionend",n),a())};t.addEventListener("transitionend",i)})},q={data:function(){return{secondWorker:void 0,timer:null,maxTimeInMinutes:0,remainingSeconds:0,solutionLength:0,code:"",penaltySeconds:30,addSeconds:0,timeout:!1,passed:!1,failed:!1,gameState:0,errorMessage:"",emptyanswer:!1,audio:P,show:!1}},created:function(){var t=this;m.post("/game/start/1").then(function(e){t.remainingSeconds=e.data.remainingSeconds,t.timeout=t.remainingSeconds<0,t.penaltySeconds=e.data.penaltySeconds,t.solutionLength=e.data.solutionLength,t.maxTimeInMinutes=e.data.maxTimeInMinutes,t.gameState=e.data.state,t.remainingSeconds==60*t.maxTimeInMinutes&&t.audio.game_started.play(),t.show=!0,t.startTimer()}).catch(function(e){t.errorMessage="Kan spel niet starten",console.log(e)})},destroyed:function(){this.audio.alert.pause(),this.audio.beep.pause(),this.resetTimer()},methods:{startTimer:function(){if("undefined"==typeof this.secondWorker){this.secondWorker=new J.a;var t=this;this.secondWorker.onmessage=function(){t.countdown()}}},stopTimer:function(){void 0!==this.secondWorker&&(this.secondWorker.terminate(),this.secondWorker=void 0)},resetTimer:function(){this.remainingSeconds=1800,void 0!==this.secondWorker&&(this.secondWorker.terminate(),this.secondWorker=void 0)},setTimeTo:function(t){this.remainingSeconds=t,clearInterval(this.timer),this.countdown()},padTime:function(t){return(t<10?"0":"")+t},setOutcome:function(t){this.passed=t,this.failed=!t},doPenalty:function(){var t=this;this.addSeconds>0&&(this.addSeconds--,this.timeout?this.remainingSeconds++:this.remainingSeconds--,setTimeout(function(){t.doPenalty()},10*this.penaltySeconds-8*(this.penaltySeconds-this.addSeconds)))},countdown:function(){0!=this.remainingSeconds||this.timeout||(this.audio.game_over.play(),this.timeout=!0,this.setOutcome(!1)),this.timeout?this.remainingSeconds++:this.remainingSeconds--,this.remainingSeconds<=10&&!this.timeout&&this.audio.beep.play(),this.remainingSeconds<63&&this.remainingSeconds>60&&!this.timeout&&this.audio.beep.play(),60!=this.remainingSeconds||this.timeout||this.audio.one_minute_remaining.play()},continueGame:function(){m.post("/game/continue"),this.gameState=2},checkCode:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.code.length<this.solutionLength)){t.next=3;break}return this.emptyanswer=!0,t.abrupt("return");case 3:return e=document.getElementById("enter"),n=V(e,"opacity","0"),t.next=7,n;case 7:m.post("/game/checkanswer",'"'.concat(this.code,'"'),{headers:{"Content-Type":"application/json"}}).then(function(t){42===t.data.code?(a.setOutcome(!0),a.stopTimer()):(a.addSeconds+=a.penaltySeconds,a.doPenalty(),a.audio.alert.play(),a.code=""),V(e,"opacity","1")}).catch(function(t){return console.log(t)});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),afterLeave:function(){var t=this;m.post("/game/stop").then(function(){t.$router.push({path:"/"})}).catch(function(e){t.errorMessage="Kan het spel niet stoppen",console.log(e)})},stopGame:function(){this.show=!1},continuePlaying:function(){this.failed=!1}},computed:{minutes:function(){if(0==this.remainingSeconds)return"--";var t=Math.floor(Math.abs(this.remainingSeconds)/60);return this.padTime(t)},seconds:function(){if(0==this.remainingSeconds)return"--";var t=Math.abs(this.remainingSeconds)-60*Math.abs(this.minutes);return this.padTime(t)},isDebug:function(){return!1}}},B=q,Y=B,F=(n("92e4"),Object(f["a"])(Y,H,K,!1,null,null,null));F.options.__file="Countdown.vue";var Q=F.exports,X=n("a149"),Z=n.n(X),tt=n("af3d");n("420f");(function(){if("function"===typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t})(),a["a"].component("cookie-consent",tt["a"]),a["a"].config.productionTip=!1,a["a"].directive("introtext",z),a["a"].directive("title",G),a["a"].use(Z.a,{options:{required:{i:8,f:25,o:17,s:9,c:22},reminder:24},test:!1,l:!1}),a["a"].use(x["a"]);var et=new x["a"]({mode:"abstract",routes:[{path:"/",name:"home-page",component:j},{path:"/intro",name:"intro-page",component:R},{path:"/countdown",name:"countdown-page",component:Q}]});et.replace("/"),new a["a"]({router:et,render:function(t){return t(y)}}).$mount("#app")},"758f":function(t,e,n){"use strict";var a=n("eca3"),i=n.n(a);i.a},"8e77":function(t,e,n){t.exports=n.p+"img/logo-cito.a595e31d.svg"},"90a1":function(t,e,n){t.exports=n.p+"img/lock.e27eee76.svg"},"92e4":function(t,e,n){"use strict";var a=n("dc7a"),i=n.n(a);i.a},bcc9:function(t,e,n){},c19b:function(t,e,n){t.exports=n.p+"media/game-started.1a78078c.mp3"},dc7a:function(t,e,n){},eca3:function(t,e,n){}});
//# sourceMappingURL=app.e27959bc.js.map