// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.24/esri/copyright.txt for details.//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(k,c,b,n,p,q,r,l,t,d,v,w,x,u){b=function(m){function e(a){a=m.call(this,a)||this;a.layer=null;a.parent=
null;return a}k._inheritsLoose(e,m);var f=e.prototype;f.initialize=function(){this.when().catch(a=>{if("layerview:create-error"!==a.name){const g=this.layer&&this.layer.id||"no id",h=this.layer&&this.layer.title||"no title";r.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${h}', id: '${g}')`,a)}})};f.canResume=function(){var a,g,h;return this.visible&&(null==(a=this.layer)?void 0:a.loaded)&&!(null!=(g=this.parent)&&g.suspended)&&(null==(h=this.view)?
void 0:h.ready)||!1};f.getSuspendInfo=function(){const a=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(a.viewNotReady=!0);this.layer&&this.layer.loaded||(a.layerNotLoaded=!0);this.visible||(a.layerInvisible=!0);return a};f.isUpdating=function(){return!1};k._createClass(e,[{key:"fullOpacity",get:function(){return l.unwrapOr(this.get("layer.opacity"),1)*l.unwrapOr(this.get("parent.fullOpacity"),1)}},{key:"suspended",get:function(){return!this.canResume()}},
{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){var a;return!this.suspended&&!0===(null==(a=this.layer)?void 0:a.legendEnabled)}},{key:"updating",get:function(){var a;return!!(null!=(a=this.updatingHandles)&&a.updating||this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"visible",get:function(){var a;return!0===(null==(a=this.layer)?void 0:a.visible)},set:function(a){void 0===a?this._clearOverride("visible"):
this._override("visible",a)}}]);return e}(p.HandleOwnerMixin(q.IdentifiableMixin(t.EsriPromiseMixin(n.EventedMixin(b)))));c.__decorate([d.property()],b.prototype,"fullOpacity",null);c.__decorate([d.property()],b.prototype,"layer",void 0);c.__decorate([d.property()],b.prototype,"parent",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"suspended",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"suspendInfo",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"legendEnabled",
null);c.__decorate([d.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"updatingProgress",null);c.__decorate([d.property()],b.prototype,"visible",null);c.__decorate([d.property()],b.prototype,"view",void 0);return b=c.__decorate([u.subclass("esri.views.layers.LayerView")],b)});