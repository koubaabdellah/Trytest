//>>built
/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
require({cache:{"tslib/tslib":function(){var F,d,p,z,r,l,C,E,A,B,k,q,c,a,g,t,m,D,G,H,K,L,P,O;(function(x){function M(b,e){b!==I&&("function"===typeof Object.create?Object.defineProperty(b,"__esModule",{value:!0}):b.__esModule=!0);return function(f,h){return b[f]=e?e(f,h):h}}var I="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(b){x(M(I,M(b)))}):"object"===typeof module&&"object"===
typeof module.exports?x(M(I,M(module.exports))):x(M(I))})(function(x){var M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,e){b.__proto__=e}||function(b,e){for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])};F=function(b,e){function f(){this.constructor=b}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");M(b,e);b.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)};d=Object.assign||
function(b){for(var e,f=1,h=arguments.length;f<h;f++){e=arguments[f];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(b[n]=e[n])}return b};p=function(b,e){var f={},h;for(h in b)Object.prototype.hasOwnProperty.call(b,h)&&0>e.indexOf(h)&&(f[h]=b[h]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(h=Object.getOwnPropertySymbols(b);n<h.length;n++)0>e.indexOf(h[n])&&Object.prototype.propertyIsEnumerable.call(b,h[n])&&(f[h[n]]=b[h[n]])}return f};z=function(b,e,f,h){var n=
arguments.length,u=3>n?e:null===h?h=Object.getOwnPropertyDescriptor(e,f):h,v;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)u=Reflect.decorate(b,e,f,h);else for(var w=b.length-1;0<=w;w--)if(v=b[w])u=(3>n?v(u):3<n?v(e,f,u):v(e,f))||u;return 3<n&&u&&Object.defineProperty(e,f,u),u};r=function(b,e){return function(f,h){e(f,h,b)}};l=function(b,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(b,e)};C=function(b,e,f,h){function n(u){return u instanceof
f?u:new f(function(v){v(u)})}return new (f||(f=Promise))(function(u,v){function w(J){try{y(h.next(J))}catch(N){v(N)}}function Q(J){try{y(h["throw"](J))}catch(N){v(N)}}function y(J){J.done?u(J.value):n(J.value).then(w,Q)}y((h=h.apply(b,e||[])).next())})};E=function(b,e){function f(y){return function(J){return h([y,J])}}function h(y){if(u)throw new TypeError("Generator is already executing.");for(;n;)try{if(u=1,v&&(w=y[0]&2?v["return"]:y[0]?v["throw"]||((w=v["return"])&&w.call(v),0):v.next)&&!(w=w.call(v,
y[1])).done)return w;if(v=0,w)y=[y[0]&2,w.value];switch(y[0]){case 0:case 1:w=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++;v=y[1];y=[0];continue;case 7:y=n.ops.pop();n.trys.pop();continue;default:if(!(w=n.trys,w=0<w.length&&w[w.length-1])&&(6===y[0]||2===y[0])){n=0;continue}if(3===y[0]&&(!w||y[1]>w[0]&&y[1]<w[3]))n.label=y[1];else if(6===y[0]&&n.label<w[1])n.label=w[1],w=y;else if(w&&n.label<w[2])n.label=w[2],n.ops.push(y);else{w[2]&&n.ops.pop();n.trys.pop();continue}}y=e.call(b,
n)}catch(J){y=[6,J],v=0}finally{u=w=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}var n={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},u,v,w,Q;return Q={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q};A=function(b,e){for(var f in b)"default"===f||Object.prototype.hasOwnProperty.call(e,f)||O(e,b,f)};O=Object.create?function(b,e,f,h){void 0===h&&(h=f);Object.defineProperty(b,h,{enumerable:!0,
get:function(){return e[f]}})}:function(b,e,f,h){void 0===h&&(h=f);b[h]=e[f]};B=function(b){var e="function"===typeof Symbol&&Symbol.iterator,f=e&&b[e],h=0;if(f)return f.call(b);if(b&&"number"===typeof b.length)return{next:function(){b&&h>=b.length&&(b=void 0);return{value:b&&b[h++],done:!b}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.");};k=function(b,e){var f="function"===typeof Symbol&&b[Symbol.iterator];if(!f)return b;b=f.call(b);var h,n=[];try{for(;(void 0===
e||0<e--)&&!(h=b.next()).done;)n.push(h.value)}catch(v){var u={error:v}}finally{try{h&&!h.done&&(f=b["return"])&&f.call(b)}finally{if(u)throw u.error;}}return n};q=function(){for(var b=[],e=0;e<arguments.length;e++)b=b.concat(k(arguments[e]));return b};c=function(){for(var b=0,e=0,f=arguments.length;e<f;e++)b+=arguments[e].length;b=Array(b);var h=0;for(e=0;e<f;e++)for(var n=arguments[e],u=0,v=n.length;u<v;u++,h++)b[h]=n[u];return b};a=function(b,e,f){if(f||2===arguments.length)for(var h=0,n=e.length,
u;h<n;h++)!u&&h in e||(u||(u=Array.prototype.slice.call(e,0,h)),u[h]=e[h]);return b.concat(u||Array.prototype.slice.call(e))};g=function(b){return this instanceof g?(this.v=b,this):new g(b)};t=function(b,e,f){function h(N){Q[N]&&(y[N]=function(R){return new Promise(function(S,T){1<J.push([N,R,S,T])||n(N,R)})})}function n(N,R){try{var S=Q[N](R);S.value instanceof g?Promise.resolve(S.value.v).then(u,v):w(J[0][2],S)}catch(T){w(J[0][3],T)}}function u(N){n("next",N)}function v(N){n("throw",N)}function w(N,
R){(N(R),J.shift(),J.length)&&n(J[0][0],J[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=f.apply(b,e||[]),y,J=[];return y={},h("next"),h("throw"),h("return"),y[Symbol.asyncIterator]=function(){return this},y};m=function(b){function e(n,u){f[n]=b[n]?function(v){return(h=!h)?{value:g(b[n](v)),done:"return"===n}:u?u(v):v}:u}var f,h;return f={},e("next"),e("throw",function(n){throw n;}),e("return"),f[Symbol.iterator]=function(){return this},f};D=function(b){function e(u){n[u]=
b[u]&&function(v){return new Promise(function(w,Q){v=b[u](v);f(w,Q,v.done,v.value)})}}function f(u,v,w,Q){Promise.resolve(Q).then(function(y){u({value:y,done:w})},v)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h=b[Symbol.asyncIterator],n;return h?h.call(b):(b="function"===typeof B?B(b):b[Symbol.iterator](),n={},e("next"),e("throw"),e("return"),n[Symbol.asyncIterator]=function(){return this},n)};G=function(b,e){Object.defineProperty?Object.defineProperty(b,
"raw",{value:e}):b.raw=e;return b};var I=Object.create?function(b,e){Object.defineProperty(b,"default",{enumerable:!0,value:e})}:function(b,e){b["default"]=e};H=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var f in b)"default"!==f&&Object.prototype.hasOwnProperty.call(b,f)&&O(e,b,f);I(e,b);return e};K=function(b){return b&&b.__esModule?b:{"default":b}};L=function(b,e,f,h){if("a"===f&&!h)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?
b!==e||!h:!e.has(b))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===f?h:"a"===f?h.call(b):h?h.value:e.get(b)};P=function(b,e,f,h,n){if("m"===h)throw new TypeError("Private method is not writable");if("a"===h&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?b!==e||!n:!e.has(b))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===h?n.call(b,
f):n?n.value=f:e.set(b,f),f};x("__extends",F);x("__assign",d);x("__rest",p);x("__decorate",z);x("__param",r);x("__metadata",l);x("__awaiter",C);x("__generator",E);x("__exportStar",A);x("__createBinding",O);x("__values",B);x("__read",k);x("__spread",q);x("__spreadArrays",c);x("__spreadArray",a);x("__await",g);x("__asyncGenerator",t);x("__asyncDelegator",m);x("__asyncValues",D);x("__makeTemplateObject",G);x("__importStar",H);x("__importDefault",K);x("__classPrivateFieldGet",L);x("__classPrivateFieldSet",
P)})},"app/utils/UrlParameters":function(){define(["require","exports","tslib","./urlUtils"],function(F,d,p,z){Object.defineProperty(d,"__esModule",{value:!0});z=p.__importStar(z);F=function(){function r(l){this.hasDerivative=!1;this.clearAttributes="layers url extent extentService basemapUrl urls isViz center level basemapReferenceUrl find marker layerId layerIds hasDerivative".split(" ");l=z.urlParams();this._readParametersFromHashMap(l)}Object.defineProperty(r.prototype,"noUrlParams",{get:function(){return(null==
this.layers||0===this.layers.length)&&null==this.webmap&&null===this.url},enumerable:!1,configurable:!0});r.prototype._readParametersFromHashMap=function(l){this.layers=r._parseList(l.layers);this.url=l.url;this.webmap=l.webmap;this.extent=l.extent;this.extentService=l.extentService;this.basemapUrl=l.basemapUrl;this.url=l.url;this.urls=l.urls;this.isViz=l.isViz;this.center=l.center;this.level=l.level;this.basemapReferenceUrl=l.basemapReferenceUrl;this.find=l.find;this.marker=l.marker;l.layerId?this.layerIds=
[r._parseNumber(l.layerId)]:l.layerIds&&(this.layerIds=r._parseNumberList(l.layerIds));this.hasDerivative=r._parseBoolean(l.hasDerivative);this.developer=r._parseBoolean(l.developer);this.embedded=r._parseBoolean(l.embedded)};r._parseBoolean=function(l){return"true"===l?!0:"false"===l?!1:null};r._parseNumber=function(l){l=parseFloat(l);return isNaN(l)?null:l};r._parseList=function(l){return"string"===typeof l&&(l=l.split(",").filter(function(C){return 0<C.length}),0<l.length)?l:null};r._parseNumberList=
function(l){return"string"===typeof l&&(l=l.split(",").filter(function(C){return 0<C.length}).map(function(C){return parseFloat(C)}),0<l.length)?l:null};r.prototype.clear=function(){var l=this;(this.clearAttributes||[]).forEach(function(C){return l[C]=void 0})};return r}();d.default=F})},"app/utils/urlUtils":function(){define("require exports tslib esri/geometry/Extent esri/geometry/Point ./pictureMarkerSymbol".split(" "),function(F,d,p,z,r,l){function C(){var c=E()||{},a;for(a in c)c.hasOwnProperty(a)&&
"string"===typeof c[a]&&(c[a]=c[a].replace(/(&lt;|&gt;|<|>|%3C|%3E)/g,""));return c}function E(){var c=location.search.substring(1);if(c){var a={},g=0;for(c=c.split("\x26");g<c.length;g++){var t=c[g];if(t){var m=t.indexOf("\x3d"),D=void 0,G=void 0;0>m?(D=decodeURIComponent(t),G=""):(D=decodeURIComponent(t.slice(0,m)),G=decodeURIComponent(t.slice(m+1)));t=a[D];"string"===typeof t&&(t=a[D]=[t]);Array.isArray(t)?t.push(G):a[D]=G}}return a}return""}function A(c){var a={},g=encodeURIComponent,t=[],m;for(m in c){var D=
c[m];if(D!==a[m]){var G=g(m)+"\x3d";if(Array.isArray(D))for(var H=0,K=D.length;H<K;++H)t.push(G+g(D[H]));else t.push(G+g(D))}}return t.join("\x26")}function B(c){var a=(c||{}).portalUrl;c=(c||{}).isDebug;c=void 0===c?!1:c;var g=window.location,t=g.host;g=g.protocol;var m=k();c||(a=g+"//"+t+m+"sharing/rest/");return a}function k(){var c=window.location.pathname.split("/").filter(function(a){return a});c=c&&c.length?c[0]:"/";return"/"!==c&&"home"!==c?""+c:c}function q(c){if(!c)return null;var a=c.split(";");
return 1===a.length?c.split(","):a}Object.defineProperty(d,"__esModule",{value:!0});d.getBasemap=d.getGraphic=d.parseMarker=d.getExtent=d.getZoom=d.getPoint=d.getPortalContext=d.getPortalRestBaseUrl=d.getBaseUrl=d.cleanUrl=d.objectToQuery=d.queryToObject=d.urlWithoutParams=d.urlParams=void 0;z=p.__importDefault(z);r=p.__importDefault(r);l=p.__importDefault(l);d.urlParams=C;d.urlWithoutParams=function(c){var a=c.indexOf("?");return-1!==a?c.slice(0,a):c};d.queryToObject=E;d.objectToQuery=A;d.cleanUrl=
function(){var c=E()||{},a=C();if(a.hasOwnProperty("locale")){delete c.locale;var g=decodeURIComponent(A(c));window.history.pushState(null,null,location.pathname+"?"+g)}if(a.hasOwnProperty("layers")||a.hasOwnProperty("url")||a.hasOwnProperty("webmap"))delete c.viewingmode,g=decodeURIComponent(A(c)),window.history.pushState(null,null,location.pathname+"?"+g)};d.getBaseUrl=function(c,a){if(a){c=a.customBaseUrl;var g=a.portalHostname;a=a.urlKey;return window.location.protocol+"//"+(a?a+"."+c:g)}return B(c)};
d.getPortalRestBaseUrl=B;d.getPortalContext=k;d.getPoint=function(c){if(!c)return null;var a=q(c),g=a.length;if(2>g)return null;c=parseFloat(a[0]);var t=parseFloat(a[1]);if(isNaN(c)||isNaN(t))return null;a=3===g?parseInt(a[2],10):4326;return new r.default({x:c,y:t,spatialReference:{wkid:a}})};d.getZoom=function(c){return c&&parseInt(c,10)};d.getExtent=function(c){if(!c)return null;var a=q(c),g=a.length;if(4>g)return null;c=parseFloat(a[0]);var t=parseFloat(a[1]),m=parseFloat(a[2]),D=parseFloat(a[3]);
if(isNaN(c)||isNaN(t)||isNaN(m)||isNaN(D))return null;a=5===g?parseInt(a[4],10):4326;return new z.default({xmin:c,ymin:t,xmax:m,ymax:D,spatialReference:{wkid:a}})};d.parseMarker=function(c){return p.__awaiter(this,void 0,void 0,function(){var a,g,t,m,D,G,H,K,L,P,O,x,M,I,b,e,f,h;return p.__generator(this,function(n){switch(n.label){case 0:if(!c)return[2,Promise.resolve()];a=q(c);g=a.length;return 2>g?[2,Promise.reject()]:[4,Promise.all([(new Promise(function(u,v){F(["esri/Graphic"],u,v)})).then(p.__importStar),
(new Promise(function(u,v){F(["esri/PopupTemplate"],u,v)})).then(p.__importStar),(new Promise(function(u,v){F(["esri/symbols/PictureMarkerSymbol"],u,v)})).then(p.__importStar),(new Promise(function(u,v){F(["esri/symbols/SimpleMarkerSymbol"],u,v)})).then(p.__importStar)])];case 1:return t=n.sent(),m=t[0],D=t[1],G=t[2],H=t[3],K=parseFloat(a[0]),L=parseFloat(a[1]),P=a[3],O=a[4]||l.default(),x=a[5],M=a[2]?parseInt(a[2],10):4326,I=O?new G.default({url:O,height:"32px",width:"32px"}):new H.default({outline:{width:1},
size:14,color:[255,255,255,0]}),b=new r.default({x:K,y:L,spatialReference:{wkid:M}}),f=(e=P||x)?new D.default({title:P||null,content:x||null}):null,h=new m.default({geometry:b,symbol:I,popupTemplate:f}),[2,h]}})})};d.getGraphic=function(c){return p.__awaiter(this,void 0,void 0,function(){var a,g,t,m,D,G,H,K,L,P,O,x,M,I,b,e,f,h,n;return p.__generator(this,function(u){switch(u.label){case 0:if(!c)return[2,Promise.resolve()];a=q(c);g=a.length;return 2>g?[2,Promise.reject()]:[4,Promise.all([(new Promise(function(v,
w){F(["esri/Graphic"],v,w)})).then(p.__importStar),(new Promise(function(v,w){F(["esri/PopupTemplate"],v,w)})).then(p.__importStar),(new Promise(function(v,w){F(["esri/symbols/PictureMarkerSymbol"],v,w)})).then(p.__importStar)])];case 1:return t=u.sent(),m=t[0],D=t[1],G=t[2],H=parseFloat(a[0]),K=parseFloat(a[1]),L=a[3],P=a[4],O=a[5],x=a[2]?parseInt(a[2],10):4326,M={url:F.toUrl("./symbols/marker.png"),width:"32px",height:"32px"},I=P?{url:P,height:"32px",width:"32px"}:M,b=new G.default(I),e=new r.default({x:H,
y:K,spatialReference:{wkid:x}}),h=(f=L||O)?new D.default({title:L||null,content:O||null}):null,n=new m.default({geometry:e,symbol:b,popupTemplate:h}),[2,n]}})})};d.getBasemap=function(c,a){return p.__awaiter(this,void 0,void 0,function(){var g,t,m,D,G,H,K,L,P,O,x,M;return p.__generator(this,function(I){switch(I.label){case 0:return c?[4,Promise.all([(new Promise(function(b,e){F(["esri/layers/Layer"],b,e)})).then(p.__importStar),(new Promise(function(b,e){F(["esri/Basemap"],b,e)})).then(p.__importStar)])]:
[2,Promise.resolve()];case 1:g=I.sent(),t=g[0],m=g[1],D=t.default.fromArcGISServerUrl({url:c}),G=a?t.default.fromArcGISServerUrl({url:a}):Promise.resolve(),I.label=2;case 2:return I.trys.push([2,7,,8]),[4,Promise.all([D,G])];case 3:return H=I.sent(),K=H[0],L=H[1],(P=(null===K||void 0===K?void 0:K.loadError)||(null===L||void 0===L?void 0:L.loadError))?[2,Promise.reject(P)]:[3,4];case 4:return O={baseLayers:[K],referenceLayers:L?[L]:[]},x=new m.default(O),[4,x.loadAll()];case 5:return I.sent(),[2,x];
case 6:return[3,8];case 7:return M=I.sent(),[2,Promise.reject(M)];case 8:return[2]}})})}})},"app/utils/pictureMarkerSymbol":function(){define(["require","exports"],function(F,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDMjdDMDU2RTdEM0ExMUUzOTkyRUU3OTg1MDdCQzMzRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDMjdDMDU2RjdEM0ExMUUzOTkyRUU3OTg1MDdCQzMzRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMyN0MwNTZDN0QzQTExRTM5OTJFRTc5ODUwN0JDMzNFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMyN0MwNTZEN0QzQTExRTM5OTJFRTc5ODUwN0JDMzNFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+aJP1/QAAAeNJREFUeNpi/P//PwM+IOdS4gCkEoA4AIj50aQ/AvEGIF7waE/PAXzmMOKzCGjJBGY2rnxeKQ0GNl5hBiAbRf7vr28Mvz6/Zfj87AaIPRFoWQHJFgEtKWDl4u8XVrNmYGRmRZH79uE1RDMTMwMLGzsDCysbw9tbRxl+f/tYCLRsAjbzmPD4toBfwRDDEmTw/99fht8/gL768Z0BpBakB5daFjwWybNyokYJLycLg6okN8PPLwwMN558YPj87TckCH//ZGAXEGVgYmaVJ8ciFOBjIs5Q6KvEwMMB0fLl+2+GjlWXGDYee0iUfiZiFBkp8TPUhqrBLQEBHk5WhpZ4YwZTNVG42L+/vymzKNJWGqdcrIsK9XyE7BN0wMvJSj2Lvvz4g1Pu8/ff1LNo+eGnOOUW77lDPYvO3fvI0Lz6ForPQKmuZuFZhtO3XhNlEdHJe8uZlwwHr76F5qOPKPmIqhZB4uMP2HewIogUwMRAJzBq0cBaxMjISJFFFz88OE/YAGYWBg4+YQao2ovkWOTw/e0jvJaBLGHnEWD4+PACA0gtSA/JFgGr5A/4LMNmCVQP6XGEyzJSLSHYCkJqqAgAqQOcwnL6AsC2AUgPKZYQbRG6ZSA+KZaQZBGyZbDEQqwlIAAQYACcTOWIFuSO8AAAAABJRU5ErkJggg\x3d\x3d"}})},
"app/utils/browserHelper":function(){define(["require","exports"],function(F,d){Object.defineProperty(d,"__esModule",{value:!0});d.isUnsupportedBrowser=void 0;d.isUnsupportedBrowser=function(){var p="undefined"!==typeof window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"",z="undefined"!==typeof window&&-1<window.location.href.indexOf("edge.html");return p?/Trident\/\d+/i.test(p)||!z&&/Edge\/\d+/i.test(p)?!0:!1:!1}})},"app/utils/loadConfig":function(){define(["require",
"exports","tslib","esri/request"],function(F,d,p,z){function r(l){return p.__awaiter(this,void 0,void 0,function(){var C,E;return p.__generator(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,z.default(""+l,{responseType:"json"})];case 1:return C=A.sent(),[2,(null===C||void 0===C?void 0:C.data)||{}];case 2:return E=A.sent(),console.error("Error loading config: "+l,E),[3,3];case 3:return[2]}})})}Object.defineProperty(d,"__esModule",{value:!0});d.loadConfig=void 0;z=p.__importDefault(z);
d.loadConfig=function(l){return p.__awaiter(this,void 0,void 0,function(){var C,E,A,B,k,q,c;return p.__generator(this,function(a){switch(a.label){case 0:return C="js/config/app.json",E=l?"js/config/"+l+".json":null,(A=JSON.parse(sessionStorage.getItem("appConfig."+l)))&&0<Object.keys(A).length?[2,A]:[3,1];case 1:return[4,r(C)];case 2:return B=a.sent(),E?[4,r(E)]:[3,4];case 3:return q=a.sent(),[3,5];case 4:q={},a.label=5;case 5:return k=q,c=p.__assign(p.__assign({},B),k),l&&sessionStorage.setItem("appConfig."+
l,JSON.stringify(c)),[2,c]}})})}})},"app/utils/messageBundleLoader":function(){define(["require","exports","tslib","esri/intl","esri/request"],function(F,d,p,z,r){function l(E,A){return p.__awaiter(this,void 0,void 0,function(){var B,k;return p.__generator(this,function(q){switch(q.label){case 0:B=z.normalizeMessageBundleLocale(A),q.label=1;case 1:return q.trys.push([1,3,,5]),[4,C("./js/app/"+E+"_"+B.toLowerCase()+".json")];case 2:return k=q.sent(),[2,k];case 3:return q.sent(),[4,C("./js/app/"+E+
"_en.json")];case 4:return k=q.sent(),[2,k];case 5:return[2]}})})}function C(E){return p.__awaiter(this,void 0,void 0,function(){var A,B;return p.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,r.default(""+E,{responseType:"json"})];case 1:return A=k.sent(),[2,(null===A||void 0===A?void 0:A.data)||{}];case 2:throw B=k.sent(),console.error("Error loading locale: "+E,B),Error(B);case 3:return[2]}})})}Object.defineProperty(d,"__esModule",{value:!0});d.fetchMessageBundles=
d.createMessageBundleLoader=d.isLoadingLocale=void 0;z=p.__importStar(z);r=p.__importDefault(r);d.isLoadingLocale=!1;d.createMessageBundleLoader=function(E){return p.__awaiter(this,void 0,void 0,function(){var A,B,k;return p.__generator(this,function(q){k=/^mapviewer\/(.+)/;z.registerMessageBundleLoader({pattern:k,fetchMessageBundle:function(c,a){return p.__awaiter(this,void 0,void 0,function(){var g,t;return p.__generator(this,function(m){switch(m.label){case 0:d.isLoadingLocale&&setTimeout(function(){return d.isLoadingLocale=
!1},250);if(a===A)return[3,2];d.isLoadingLocale=!0;return[4,l("t9n/app",a)];case 1:B=m.sent(),A=a,m.label=2;case 2:return g=k.exec(c)[1],"all"!==g?[3,3]:[2,B];case 3:return B[g]?[2,B[g]]:[3,4];case 4:return[4,l(g,a)];case 5:return t=m.sent(),[2,t]}})})}});return[2]})})};d.fetchMessageBundles=function(E,A){return p.__awaiter(this,void 0,void 0,function(){var B;return p.__generator(this,function(k){B=E.map(function(q){return z.fetchMessageBundle(q)});return[2,Promise.all(B)]})})}})},"app/utils/mapUtils/errorUtils":function(){define("require exports tslib ../topic esri/intl/substitute esri/layers/support/arcgisLayerUrl ../messageBundleLoader".split(" "),
function(F,d,p,z,r,l,C){function E(k){var q=k&&k.type||"error";var c=k.name;c=void 0===c?"":c;var a=k.details,g=k.type;a=k.item||a&&a.layer||a&&a.item||{title:""};g="warning"===(void 0===g?"error":g)?d.messagesErrors.genericWarningTitle:d.messagesErrors.genericErrorTitle;-1<c.indexOf("layerview:create-error")?g=r.substitute(d.messagesErrors.failedToAddLayer,a):"request:server"===c||"identity-manager:not-authorized"===c?(c=a&&a.title||A(k)||"",g=r.substitute(d.messagesErrors.failedToAddLayer,{title:c})):
"webmap:save"===c?g=d.messagesErrors.failedToSaveMap:"csv"===c&&(g=r.substitute(d.messagesErrors.unableToAdd,{type:"CSV"}));c=g;g=k&&k.message||d.messagesErrors.genericError;a=k&&k.name;k&&k.details?(g=(g=k.details)&&g.errors||g&&g.error||[],a=k.item||k.details.layer||k.details.item||{title:""},g=g&&g.name?B(p.__assign(p.__assign({},g),{item:a})):g.length?B(p.__assign(p.__assign({},g.shift()),{item:a})):B(k)):a?g=B(k):g&&-1<g.toLowerCase().indexOf("you do not have access to this resource")&&(g=B({name:"webmap:no-permission",
message:g}));return{type:q,title:c,message:g}}function A(k){return(k=(k=(k=(null===k||void 0===k?void 0:k.details)||"")&&k.url)&&l.parse(k))&&k.title||""}function B(k){var q=k.name,c=k.details,a=k.item||c&&(c.layer||c.item)||{},g=null===c||void 0===c?void 0:c.messageCode;if(a){var t=a.portal;t=null===t||void 0===t?void 0:t.user}else t=null;a.title=a.title||A(k)||"";var m=k&&k.message||d.messagesErrors.genericError;if(a&&"layerview:spatial-reference-incompatible"===q)m=r.substitute(d.messagesErrors.spatialReference,
a);else if(a&&"featurelayerview:table-not-supported"===q)m=r.substitute(d.messagesErrors.tableNotSupported,a);else if(a&&"layer:unsupported-layer-type"===q)k=a&&a.resourceInfo||{type:""},m=r.substitute(d.messagesErrors.unsupportedLayerType,p.__assign(p.__assign({},a),k));else if(a&&"url:unknown-item-type"===q)m=r.substitute(d.messagesErrors.unsupportedUrlType,{});else if(a&&"imageserverraster:open"===q||"imagery-layer:fetch-service-info"===q)m=d.messagesErrors.unsupportedLayer;else if("request:server"===
q&&(-1<(null===m||void 0===m?void 0:m.indexOf("Unexpected token \x3c in JSON at position 0"))||-1<(null===m||void 0===m?void 0:m.indexOf("JSON.parse: unexpected character"))))m=0===c.httpStatus?d.messagesErrors.layerNotOGCFeatures:d.messagesErrors.layerNotAdded;else if("request:server"!==q||"CONT_0155"!==g)"request:server"===q&&400===c.httpStatus||"wmtslayer:unsupported-service-data"===q?m=(null===a||void 0===a?0:a.title)?r.substitute(d.messagesErrors.layerNotAddedSecure,a):d.messagesErrors.layerNotAdded:
"request:server"===q&&0===c.httpStatus&&"GeoJSON"===(null===c||void 0===c?void 0:c.type)?m=d.messagesErrors.layerNotGeoJSON:"request:server"===q&&(503===c.httpStatus||500===c.httpStatus||400===c.httpStatus||404===c.httpStatus||301===c.httpStatus&&"GeoJSON"===(null===c||void 0===c?void 0:c.type))?m=(null===a||void 0===a?0:a.title)?r.substitute(d.messagesErrors.layerNotAddedItem,a):d.messagesErrors.layerNotAdded:"TypeError"===q?m=d.messagesErrors.layerNotAdded:"request:not-secure"===q?m=d.messagesErrors.httpNotAllowed:
"webmap:save"===q?m=r.substitute(d.messagesErrors.layerNotSaved,a):"web-document-write:property-required"===q?m=r.substitute(d.messagesErrors.webMapPropRequired,c):"webmap:unsupported-version"===q?m=r.substitute(d.messagesErrors.webMapUnsupportedVersion,a):"webmap:no-permission"===q?m=r.substitute(d.messagesErrors.webMapNoPermission,a):"basemap:spatial-reference-incompatible"===q?m=r.substitute(d.messagesErrors.basemapIncompatibleSR,a):"basemap:spatial-reference-incompatible-layers"===q?m=r.substitute(d.messagesErrors.basemapLayersIncompatibleSR,
a):"basemap:spatial-reference-incompatible-basemap"===q?m=r.substitute(d.messagesErrors.basemapIncompatible,a):"basemap:arcgis-layers:url-mismatch"===q?m=d.messagesErrors.basemapNotAvailable:"feature-layer-source:unsupported-type"===q||"ogc-feature-layer:missing-property"===q?(k=a&&a.title||A(k),m=r.substitute(d.messagesErrors.unsupportedLayerType,{type:k||"Layer"})):"identity-manager:not-authorized"===q||"request:server"===q&&403===c.httpStatus?(a=(null===a||void 0===a?void 0:a.portalItem)||a,a=
null===a||void 0===a?void 0:a.typeKeywords,a=-1<(null===a||void 0===a?void 0:a.indexOf("Requires Subscription"))||-1<(null===a||void 0===a?void 0:a.indexOf("Requires Credits"))||!1,k=A(k),m=a?r.substitute((null===t||void 0===t?0:t.isOrgUser)?d.messagesErrors.subscriptionContentOrg:d.messagesErrors.subscriptionContentPublic,{title:k||""}):r.substitute(d.messagesErrors.failedToAddLayer,{title:k||""})):-1<(null===m||void 0===m?void 0:m.indexOf("Unable to identify latitudeField and/or longitudeField from"))?
m=d.messagesErrors.unableToAddCSV:"shortcut:invalid"===q?m=r.substitute(d.messagesErrors.shortcutInvalid,{name:k.currentCommand.alias}):"forms:missingRequiredField"===q?m=d.messagesErrors.missingRequiredField:"csv-layer:location-fields-not-found"===q?m=d.messagesErrors.csvLayerLocationFieldsNotFound:"wfs-layer:kvp-encoding-not-supported"===q?m=d.messagesErrors.wfsEncodingNotSupported:"web-document-write:unsupported-feature-effect"===q&&(m=d.tempErrorMessage);return m}Object.defineProperty(d,"__esModule",
{value:!0});d.getErrorInfo=d.showError=d.fetchErrorMessages=d.messagesErrors=d.tempErrorMessage=void 0;z=p.__importDefault(z);r=p.__importStar(r);l=p.__importStar(l);d.tempErrorMessage="Close the Filter pane before saving.";d.fetchErrorMessages=function(){return p.__awaiter(this,void 0,void 0,function(){var k;return p.__generator(this,function(q){switch(q.label){case 0:return[4,C.fetchMessageBundles(["mapviewer/errors"])];case 1:return k=q.sent()[0],d.messagesErrors=k,[2]}})})};d.showError=function(k,
q){k=E(p.__assign(p.__assign({},k&&k.error||k),{item:q}));z.default.publish("alert/show",k)};d.getErrorInfo=E})},"app/utils/topic":function(){define(["require","exports","tslib","esri/core/Evented"],function(F,d,p,z){Object.defineProperty(d,"__esModule",{value:!0});z=p.__importDefault(z);F=function(){function r(){}r.publish=function(l,C){return this.hub.emit.apply(this.hub,arguments)};r.subscribe=function(l,C){return this.hub.on.apply(this.hub,arguments)};r.hub=new z.default;return r}();d.default=
F})}}});
define("require exports tslib ./utils/UrlParameters ./utils/browserHelper ./utils/loadConfig esri/intl/locale ./utils/messageBundleLoader ./utils/mapUtils/errorUtils".split(" "),function(F,d,p,z,r,l,C,E,A){function B(q,c,a){return(new Promise(function(g,t){F([q],g,t)})).then(p.__importStar).then(function(g){return new g.default({config:a,container:c})})}var k=this;Object.defineProperty(d,"__esModule",{value:!0});z=p.__importDefault(z);C=p.__importStar(C);d.default=function(q){return p.__awaiter(k,void 0,
void 0,function(){var c,a,g,t,m,D,G;return p.__generator(this,function(H){switch(H.label){case 0:return[4,l.loadConfig(q)];case 1:return c=H.sent(),a=new z.default,c.urlParameters=a,g=document.getElementsByTagName("html")[0],t=g.getAttribute("lang"),c.userLocale=t,C.setLocale(t),[4,E.createMessageBundleLoader()];case 2:return H.sent(),[4,A.fetchErrorMessages()];case 3:return H.sent(),m=c.isMapMaker||c.isCalciteShell,D="./App",G=document.querySelector(".js-main-container"),m&&(G=document.querySelector(".calcite-shell-container"),
D=r.isUnsupportedBrowser()?"./UnsupportedBrowser":"./"+c.panel||"./MapMaker"),B(D,G,c),[2]}})})}});