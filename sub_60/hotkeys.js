//>>built
(function(w,z){"object"===typeof exports&&"undefined"!==typeof module?module.exports=z():"function"===typeof define&&define.amd?define(z):(w="undefined"!==typeof globalThis?globalThis:w||self,w.hotkeys=z())})(this,function(){function w(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on".concat(b),function(){c(window.event)})}function z(a,b){b=b.slice(0,b.length-1);for(var c=0;c<b.length;c++)b[c]=a[b[c].toLowerCase()];return b}function G(a){"string"!==typeof a&&
(a="");a=a.replace(/\s/g,"");a=a.split(",");for(var b=a.lastIndexOf("");0<=b;)a[b-1]+=",",a.splice(b,1),b=a.lastIndexOf("");return a}function H(a){I=a||"all"}function A(){return I||"all"}function J(a,b,c,d){if(b.element===d&&(b.scope===c||"all"===b.scope)){c=0<b.mods.length;for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(!l[e]&&-1<b.mods.indexOf(+e)||l[e]&&-1===b.mods.indexOf(+e))&&(c=!1);(0!==b.mods.length||l[16]||l[18]||l[17]||l[91])&&!c&&"*"!==b.shortcut||!1!==b.method(a,b)||(a.preventDefault?
a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}function K(a,b){var c=h["*"],d=a.keyCode||a.which||a.charCode;if(u.filter.call(this,a)){if(93===d||224===d)d=91;-1===f.indexOf(d)&&229!==d&&f.push(d);["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(m){var k=C[m];a[m]&&-1===f.indexOf(k)?f.push(k):!a[m]&&-1<f.indexOf(k)?f.splice(f.indexOf(k),1):"metaKey"===m&&a[m]&&3===f.length&&(a.ctrlKey||a.shiftKey||a.altKey||(f=f.slice(f.indexOf(k))))});
if(d in l){l[d]=!0;for(var e in v)v[e]===d&&(u[e]=!0);if(!c)return}for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(l[g]=a[C[g]]);a.getModifierState&&(!a.altKey||a.ctrlKey)&&a.getModifierState("AltGraph")&&(-1===f.indexOf(17)&&f.push(17),-1===f.indexOf(18)&&f.push(18),l[17]=!0,l[18]=!0);e=A();if(c)for(g=0;g<c.length;g++)c[g].scope===e&&("keydown"===a.type&&c[g].keydown||"keyup"===a.type&&c[g].keyup)&&J(a,c[g],e,b);if(d in h)for(c=0;c<h[d].length;c++)if(("keydown"===a.type&&h[d][c].keydown||
"keyup"===a.type&&h[d][c].keyup)&&h[d][c].key){g=h[d][c];for(var n=g.key.split(g.splitKey),p=[],t=0;t<n.length;t++)p.push(B(n[t]));p.sort().join("")===f.sort().join("")&&J(a,g,e,b)}}}function u(a,b,c){f=[];var d=G(a),e=[],g="all",n=document,p=0,t=!1,m=!0,k="+",x=!1;void 0===c&&"function"===typeof b&&(c=b);"[object Object]"===Object.prototype.toString.call(b)&&(b.scope&&(g=b.scope),b.element&&(n=b.element),b.keyup&&(t=b.keyup),void 0!==b.keydown&&(m=b.keydown),void 0!==b.capture&&(x=b.capture),"string"===
typeof b.splitKey&&(k=b.splitKey));for("string"===typeof b&&(g=b);p<d.length;p++)a=d[p].split(k),e=[],1<a.length&&(e=z(v,a)),a=a[a.length-1],a="*"===a?"*":B(a),a in h||(h[a]=[]),h[a].push({keyup:t,keydown:m,scope:g,mods:e,shortcut:d[p],method:c,key:d[p],splitKey:k,element:n});"undefined"===typeof n||-1<L.indexOf(n)||!window||(L.push(n),w(n,"keydown",function(q){K(q,n)},x),M||(M=!0,w(window,"focus",function(){f=[]},x)),w(n,"keyup",function(q){K(q,n);var y=q.keyCode||q.which||q.charCode,N=f.indexOf(y);
0<=N&&f.splice(N,1);q.key&&"meta"===q.key.toLowerCase()&&f.splice(0,f.length);if(93===y||224===y)y=91;if(y in l){l[y]=!1;for(var O in v)v[O]===y&&(u[O]=!1)}},x))}var r="undefined"!==typeof navigator?0<navigator.userAgent.toLowerCase().indexOf("firefox"):!1,D={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,
num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":r?173:189,"\x3d":r?61:187,";":r?59:186,"'":222,"[":219,"]":221,"\\":220},v={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},C={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},l={16:!1,18:!1,17:!1,91:!1},h={};for(r=
1;20>r;r++)D["f".concat(r)]=111+r;var f=[],M=!1,I="all",L=[],B=function(a){return D[a.toLowerCase()]||v[a.toLowerCase()]||a.toUpperCase().charCodeAt(0)},E=function(a){var b=a.scope,c=a.method,d=a.splitKey,e=void 0===d?"+":d;G(a.key).forEach(function(g){g=g.split(e);var n=g.length,p=g[n-1];p="*"===p?"*":B(p);if(h[p]){b||(b=A());var t=1<n?z(v,g):[];h[p]=h[p].filter(function(m){var k;if(k=(c?m.method===c:!0)&&m.scope===b){k=m.mods;m=k.length>=t.length?k:t;k=k.length>=t.length?t:k;for(var x=!0,q=0;q<
m.length;q++)-1===k.indexOf(m[q])&&(x=!1);k=x}return!k})}})};r={setScope:H,getScope:A,deleteScope:function(a,b){var c;a||(a=A());for(var d in h)if(Object.prototype.hasOwnProperty.call(h,d)){var e=h[d];for(c=0;c<e.length;)e[c].scope===a?e.splice(c,1):c++}A()===a&&H(b||"all")},getPressedKeyCodes:function(){return f.slice(0)},isPressed:function(a){"string"===typeof a&&(a=B(a));return-1!==f.indexOf(a)},filter:function(a){a=a.target||a.srcElement;var b=a.tagName,c=!0;if(a.isContentEditable||("INPUT"===
b||"TEXTAREA"===b||"SELECT"===b)&&!a.readOnly)c=!1;return c},trigger:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(h).forEach(function(c){(c=h[c].find(function(d){return d.scope===b&&d.shortcut===a}))&&c.method&&c.method()})},unbind:function(a){if("undefined"===typeof a)Object.keys(h).forEach(function(e){return delete h[e]});else if(Array.isArray(a))a.forEach(function(e){e.key&&E(e)});else if("object"===typeof a)a.key&&E(a);else if("string"===typeof a){for(var b=
arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];b=c[0];c=c[1];"function"===typeof b&&(c=b,b="");E({key:a,scope:b,method:c,splitKey:"+"})}},keyMap:D,modifier:v,modifierMap:C};for(var F in r)Object.prototype.hasOwnProperty.call(r,F)&&(u[F]=r[F]);if("undefined"!==typeof window){var P=window.hotkeys;u.noConflict=function(a){a&&window.hotkeys===u&&(window.hotkeys=P);return u};window.hotkeys=u}return u});