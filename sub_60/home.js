// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.41/esri/copyright.txt for details.
// See https://www.arcgis.com/home/copyright.txt for further details.
//>>built
require({cache:{"arcgisonline/pages/basePage":function(){define("require exports tslib calcite-web/js/calcite-web dojo/_base/kernel dojo/Deferred dojo/when dojo/_base/lang dojo/_base/window dojo/query dojo/debounce dijit/_WidgetBase dijit/registry dojo/on dojo/string dojo/topic dojo/dom-attr dojo/dom-construct dojo/dom-class esri/Evented esri/config arcgisonline/sharing/util ./utils/alerts ./utils/dom ./utils/organization arcgisonline/telemetry ../sharing/dijit/SiteHeader ./components/SiteFooter dojo/i18n!../nls/arcgisonline ./components/ManageBlockedApps/blocked-apps-service ../tsutils/declareDecorator arcgisonline/esriGeowConfig preact ./utils/queryHandler".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f,q,B,v,t,u,A,z,E,y,x,C,w,G,R,H,Z,F,da,V,ca,T){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);q=b.__importDefault(q);B=b.__importDefault(B);v=b.__importDefault(v);t=b.__importDefault(t);u=b.__importDefault(u);A=b.__importDefault(A);z=b.__importDefault(z);E=b.__importDefault(E);y=b.__importDefault(y);
x=b.__importDefault(x);C=b.__importDefault(C);w=b.__importDefault(w);G=b.__importDefault(G);R=b.__importDefault(R);H=b.__importDefault(H);Z=b.__importDefault(Z);F=b.__importDefault(F);da=b.__importDefault(da);V=b.__importDefault(V);T=b.__importStar(T);return function(){function aa(D){this.i18n=Z["default"];this.esriPortalConfig=V["default"];this._handles=[];this._forceErrorToast=this._hideErrors=this._showErrors=this.hideFooter=this.hideHeader=this.isLoaded=!1;this.page=b.__assign({},D);this.portalUser=
D.portalUser||null;this.portal=D.portal||null}aa.prototype.destroy=function(){ca.render(null,this.footerDiv)};aa.prototype.postMixInProperties=function(){this.inherited(arguments);E["default"].defaults.io.errorHandler=this._showError.bind(this);this._queryStringParams=T.queryToObject(window.location.search.slice(1))};aa.prototype.startup=function(){this.inherited(arguments);this.telemetry=G["default"].init({config:this.portal});var D=getComputedStyle(document.documentElement);"rgba(0, 0, 0, 0)"===
(null===D||void 0===D?void 0:D["background-color"])&&document.body.classList.contains("dj_a11y")&&document.documentElement.classList.add("a11y-black");this._buildPage();this._addEventListeners()};aa.prototype.toggleErrors=function(D){this._hideErrors=!D;this._showErrors=D};aa.prototype._setPageTitleAttr=function(D){window.document.title=D};aa.prototype._setIsLoadedAttr=function(D){this.isLoaded=D};aa.prototype.showLoader=function(){C["default"].activateNode(this._loader);C["default"].hideNode(this._content)};
aa.prototype.hideLoader=function(){C["default"].deactivateNode(document.querySelector(".js-page-loader"));C["default"].showNode(document.querySelector(".js-content-wrapper"));C["default"].deactivateNode(this._loader);C["default"].showNode(this._content)};aa.prototype.removeError=function(){var D=document.querySelector(".js-alert");D&&u["default"].destroy(D)};aa.prototype.hideErrors=function(){var D=document.querySelector(".js-alert");D&&u["default"].empty(D)};aa.prototype.showAlert=function(D){var L=
D.type||"success";D=D.text||"";this._alert&&this._alert.destroy();this._alert=x["default"].showAlert(L,D)};aa.prototype.showError=function(D){this._showError(D)};aa.prototype._addEventListeners=function(){this.own(v["default"].subscribe("alert/show",this.showAlert.bind(this)),v["default"].subscribe("tabs/disable",this._disableTabs.bind(this)),v["default"].subscribe("tabs/enable",this._enableTabs.bind(this)),v["default"].subscribe("page/showError",this._showError.bind(this)),q["default"](window,"resize",
h["default"](function(){return v["default"].publish("window/resize")},300)))};aa.prototype._buildPage=function(){var D=this,L;this.set("pageTitle",V["default"].portalName||this.i18n.common.arcgis);var J=c["default"].locale.split("-");document.documentElement.lang=-1!==c["default"].locale.indexOf("-")?[J[0],J[1].toUpperCase()].join("-"):J[0];this.pageNode=this.pageNode||n["default"].body();this.flexFix=u["default"].create("div",{"class":"flex-column"},this.pageNode,"next");this.contentWrapper=u["default"].create("div",
{"class":"js-content-wrapper content-wrapper flex-column flex-1 hide"},this.flexFix,"next");this.hideHeader||(this.header=new R["default"]({page:this,id:"header",esriPortalConfig:this.esriPortalConfig,relativePath:this.relativePath,telemetry:this.telemetry}),this.header.placeAt(this.contentWrapper,"first"),this.header.startup());u["default"].place(this.domNode,this.contentWrapper);this.hideFooter||(this.footerDiv=u["default"].create("div",null,this.contentWrapper,"last"),this.footer=ca.h(H["default"],
{id:"footer",portal:this.portal}),ca.render(this.footer,this.footerDiv));this.skipToContent&&(J=B["default"].substitute('\x3ca href\x3d"#${skipToContent}" class\x3d"skip-to-content js-skip-to-content"\x3e${i18n.common.skipToContent}\x3c/a\x3e',{skipToContent:this.skipToContent,i18n:Z["default"]}),u["default"].place(J,this.pageNode,"first"),document.querySelector(".js-skip-to-content").addEventListener("click",function(Q){Q.preventDefault();Q.stopPropagation();if(Q=document.getElementById(D.skipToContent))Q.tabIndex=
-1,Q.focus()}));this.set("htmlCssClasses");(null===(L=this.portalUser)||void 0===L?0:L.orgId)&&this.setBlockedClasses()};aa.prototype.setBlockedClasses=function(){F["default"].getBlockedApps().then(function(D){var L={webappbuilder:"wab-blocked",arcgisstorymaps:"storymap-blocked",opsdashboard:"dashboard-blocked",experienceBuilder:"exp-builder-blocked",HubforArcGIS:"hub-blocked"};Object.keys(L).forEach(function(J){-1<(null===D||void 0===D?void 0:D.indexOf(J))&&(J=L[J],document.documentElement.classList.add(J),
document.body.classList.add(J))})})};aa.prototype._setHtmlCssClassesAttr=function(){var D=[],L=this.portal,J=L.getPortalUser(),Q=J&&J.isOrgUser,Y=J&&J.licenses,X;D.push(L.isPortal?"is-on-premise":"is-online");D.push(J?"is-signed-in":"is-signed-out");Object.keys(Y||{}).forEach(function(I){X=Y[I];!X.valid&&X.className&&D.push(X.className)});D.push(V["default"].webAppBuilderEnabled&&Q?"is-wab-enabled":"");D.push(V["default"].showCreateDashboard&&Q?"is-createDashboard-enabled":"");D.push(V["default"].sceneViewerEnabled?
"is-sceneViewer-enabled":"");A["default"].add(document.querySelector("html"),D.join(" "))};aa.prototype._request=function(D,L){return y["default"].request(D,L)};aa.prototype._showError=function(D){var L=null;L=D&&D.message||this.i18n.common.errors.genericError.message;var J=document.querySelector(".js-alert")||u["default"].toDom('\x3cdiv class\x3d"flex-center js-alert leader-2 trailer-2"\x3e\x3c/div\x3e'),Q=null;if(!(this._hideErrors||D&&("SB_0001"===D.messageCode||"SB_0002"===D.messageCode)||403!==
D.code&&"GWM_0003"===D.messageCode)){if(!this._item&&this.portalUser&&D&&403===D.code){if(-1!==D.message.indexOf("world/utilities.gpserver"))return;L=this.i18n.errorWidget.accessDeniedResource;this._showErrors=!0}else"GWM_0011"===(null===D||void 0===D?void 0:D.messageCode)?(L=-1<window.location.href.indexOf("/group.html")?this.i18n.common.errors.spamContentGroupUpdate:this.i18n.common.errors.spamContentItemUpdate,this._showErrors=!0):L&&"Item does not exist or is inaccessible."===L?(L=this.i18n.errorWidget.itemNotFound+
" "+this.i18n.errorWidget.invalidItem,this._showErrors=!0):L&&"Your request has timed out."===L?L=this.i18n.contentCategories.errors.timedOut:this.portal.isPortal&&D&&"string"===typeof D&&-1<D.indexOf("ERROR 002555")?(L=this.i18n.itemProperties.error.dataStoreReadOnlyMode,this._showErrors=!0):L&&-1<L.indexOf("Your account is out of storage space and your item cannot be updated.")?(L=this.i18n.common.errors.outOfStorageSpace,this._showErrors=!0):L=D.messageHTML?D.messageHTML:y["default"].htmlEncode(L);
Q=u["default"].toDom('\x3cdiv class\x3d"column-12 alert alert-red alert-inline break-word is-active"\x3e'+L+"\x3c/div\x3e");if(this._showErrors&&D&&499!==D.code&&498!==D.code&&404!==D.code)if(this._forceErrorToast||this.isLoaded&&!D.forceErrorNode)x["default"].showAlert("error",L);else{p["default"](".content-wrapper .loader, .js-page-loader").removeClass("is-active");p["default"](".js-content-wrapper").removeClass("hide");L=document.querySelector(".view-background");var Y=document.querySelectorAll("header.subnav").length?
1:0;u["default"].place(J,L,Y);u["default"].place(Q,J,"only")}v["default"].publish("ago/page/error",{error:D});return D}};aa.prototype._createTab=function(D,L){var J=this.tabDijit=new D(k["default"].mixin({page:this,i18n:this.i18n,portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry},L||{}),u["default"].create("div",{},this._content)),Q=new e["default"];J.startup().then(function(){a["default"].init();Q.resolve(J)});return Q};aa.prototype._destroyTab=function(){var D=this,L=new e["default"],
J=this.tabDijit&&this.tabDijit.canDestroy?this.tabDijit.canDestroy():!0;d["default"](J,function(){D.showLoader();(f["default"].findWidgets(D._content)||[]).forEach(function(Q){Q.destroy?Q.destroy():Q.destroyRecursive&&Q.destroyRecursive()});u["default"].empty(D._content);x["default"].clearAlerts();L.resolve(!0)});return L};aa.prototype._disableTabs=function(){var D=this;this._clearTabHandlerOverrides();var L=document.querySelectorAll(".js-subnav-link");C["default"].forEachNode(L,function(J){D._disabledTabHandlers.push(q["default"](J,
"click",function(Q){Q.stopPropagation();Q.preventDefault()}));t["default"].set(J,"aria-disabled",!0);A["default"].add(J,"disabled")})};aa.prototype._enableTabs=function(){var D=this;setTimeout(function(){D._clearTabHandlerOverrides();var L=document.querySelectorAll(".js-subnav-link");C["default"].forEachNode(L,function(J){t["default"].set(J,"aria-disabled",!1);A["default"].remove(J,"disabled")})},500)};aa.prototype._clearTabHandlerOverrides=function(){this._disabledTabHandlers=this._disabledTabHandlers||
[];this._disabledTabHandlers.forEach(function(D){return D.remove()})};aa.prototype.getMemberDefaults=function(){var D,L=null===(D=this.portalUser)||void 0===D?void 0:D.userRole;D=(null===L||void 0===L?void 0:L.isAdmin())||(null===L||void 0===L?void 0:L.canManageSecurity());return this.portalUser&&this.portal.id&&D?this.portal.getMemberDefaults():(D=new e["default"],D.resolve(),D)};aa.prototype.getHomePageConfig=function(){var D=new e["default"];if(!this.portalUser||!this.portal.id)return D.resolve(),
D;var L=w["default"].hasModernHomePageEnabled(this.portal);(this.portal.hasModernHomePageEnabled=L)?this.portal.getHomePageConfig().then(function(){D.resolve()}):D.resolve();return D};return aa=b.__decorate([da["default"](m["default"],z["default"])],aa)}()})},"arcgisonline/pages/utils/alerts":function(){define("require exports tslib ../dijit/Alert ./dom dijit/registry".split(" "),function(ba,l,b,a,c,e){function d(p,h,m){void 0===m&&(m={cssClasses:"",preventAutoDismiss:!1});k();var f=m.cssClasses,
q=m.preventAutoDismiss;m=m.liveRegion;var B=document.createElement("div");document.body.appendChild(B);return new a["default"]({type:p,text:h,cssClasses:f||"",preventAutoDismiss:!!q,liveRegion:m},B)}function k(){c["default"].forEachNode(document.querySelectorAll(".alert"),function(p){var h,m;null===(m=null===(h=e["default"].byNode(p))||void 0===h?void 0:h.destroy)||void 0===m?void 0:m.call(h)})}function n(p,h){var m=h.reduce(function(q,B){return q+"\x3cli\x3e"+B+"\x3c/li\x3e"},""),f=document.createElement("div");
document.body.appendChild(f);return new a["default"]({type:p,text:"",listHTML:"\x3cul\x3e"+m+"\x3c/ul\x3e"},f)}Object.defineProperty(l,"__esModule",{value:!0});l.showAlertList=l.clearAlerts=l.showAlert=void 0;a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);l.showAlert=d;l.clearAlerts=k;l.showAlertList=n;l["default"]={clearAlerts:k,showAlert:d,showAlertList:n}})},"arcgisonline/pages/dijit/Alert":function(){define("require exports tslib ../utils/a11y ../utils/icons ../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/text!./Alert/Alert.html dojo/i18n!../../nls/arcgisonline dojo/_base/lang".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);return function(){function f(q,B){this.templateString=p["default"];this.i18n=h["default"];this.icons=c["default"];this.cssClasses="";this.preventAutoDismiss=!1}f.prototype.postMixInProperties=function(){"success"===this.type?(this.modifier="green",this.icon=c["default"]["check-circle"]["32"],
this.iconAltText=h["default"].GroupWidget.successIcon):"error"===this.type?(this.modifier="red",this.icon=c["default"]["exclamation-mark-circle"]["32"],this.iconAltText=h["default"].GroupWidget.errorIcon):"warning"===this.type?(this.modifier="yellow",this.icon=c["default"]["exclamation-mark-triangle"]["32"],this.iconAltText=h["default"].GroupWidget.warningIcon):"info"===this.type&&(this.modifier="info",this.iconAltText=this.icon="")};f.prototype.postCreate=function(){var q=this;this.inherited(arguments);
this.listHTML&&(this._listContainer.innerHTML=this.listHTML);this._addEventListeners();"success"!==this.type||this.preventAutoDismiss||this._setAlertTimer();setTimeout(function(){q.domNode&&q.domNode.classList.add("is-active")},10)};f.prototype.startup=function(){this.inherited(arguments);a["default"].postToLiveRegion(this.text,this.liveRegion)};f.prototype._addEventListeners=function(){"success"===this.type&&this.own(n["default"](this.domNode).on("mouseover",m["default"].hitch(this,this._clearAlertTimer)),
n["default"](this.domNode).on("mouseout",m["default"].hitch(this,this._setAlertTimer)));this.own(n["default"](".js-alert-close",this.domNode).on("click",m["default"].hitch(this,this._dismiss)))};f.prototype._setAlertTimer=function(){var q=this;this._timeout||(this._timeout=window.setTimeout(function(){q._dismiss()},4E3))};f.prototype._clearAlertTimer=function(){clearTimeout(this._timeout);this._timeout=null};f.prototype._dismiss=function(q){var B=this;q&&q.preventDefault();this.domNode&&this.domNode.classList.remove("is-active");
setTimeout(function(){B.destroy()},300)};f.prototype.dismiss=function(){var q=this;this.domNode&&this.domNode.classList.remove("is-active");setTimeout(function(){q.destroy()},300)};return f=b.__decorate([e["default"](d["default"],k["default"])],f)}()})},"arcgisonline/pages/components/SiteFooter":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/organization ../utils/arrays dojo/topic preact preact/hooks dojo/i18n!../../nls/arcgisonline".split(" "),function(ba,l,b,a,c,
e,d,k,n,p){Object.defineProperty(l,"__esModule",{value:!0});a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);p=b.__importDefault(p);l["default"]=function(h){var m=h.id,f=h.portal;h=n.useState(!1);var q=h[0],B=h[1];h=n.useState([]);var v=h[0],t=h[1];n.useEffect(function(){var x=d["default"].subscribe("contact-us-link/update",A);return function(){var C;null===(C=null===x||void 0===x?void 0:x.remove)||void 0===C?void 0:C.call(x)}},[]);n.useEffect(function(){u()},
[v]);var u=function(){var x,C,w=b.__assign(b.__assign(b.__assign({},p["default"].common),p["default"].siteFooter),{helpLabel:p["default"].supportPage.helpLabel}),G=f.portalUser,R=f.isPortal,H=window.location.href;-1<H.indexOf("?useExisting\x3d1")&&(H=H.substring(0,H.length-14));B(-1<H.indexOf("viewer.html")&&-1===H.indexOf("returnUrl")&&!c["default"].isMobile());var Z=[];(a["default"].footerLinks||[]).forEach(function(F){var da,V,ca="${i18n.legal}"===(null===F||void 0===F?void 0:F.title),T=!!(ca&&
(null===G||void 0===G?0:G.accountId)),aa="${i18n.help}"===(null===F||void 0===F?void 0:F.title)||"support.html"===(null===F||void 0===F?void 0:F.url),D=!(aa&&!G&&"public"===f.access&&(R||!R&&f.customBaseUrl));ca=!ca&&!aa||ca&&!T||aa&&!D;T=null===(da=F.title)||void 0===da?void 0:da.indexOf("${i18n.");da=null===(V=F.title)||void 0===V?void 0:V.indexOf("}");V=-1<T&&-1<da?""+w[F.title.substring(T+7,da)]:F.title;if(F.url){-1===F.url.indexOf("http")&&-1===F.url.indexOf("mailto:")&&q&&(F.url="support.html"===
F.url?f.helpBase||""+a["default"].baseUrl+F.url:""+a["default"].baseUrl+F.url);if("${i18n.help}"===F.title||"support.html"===F.url)F.url=f.helpBase;ca&&Z.push({href:F.url,target:"_blank",title:V})}else R&&"contactUs"===F.type?(da=a["default"].portalName||"ArcGIS.com",ca=escape(H),F="mailto:"+F.email,Z.push({id:m+"_contactEsri",href:F+('?subject\x3d"A comment about '+da+'"\x26body\x3d"I have the following comment about the ')+(da+" Web site. %0AReferring page: "+ca+' %0A %0A(Please provide as much detail as possible. Note: Contact Us is not meant for obtaining technical support or general product information.)"'),
title:V})):"reportAbuse"===F.type&&(ca=escape(H),F="mailto:"+F.email+'?subject\x3d"Concerns about an item"',Z.push({href:F+('\x26body\x3d"I have concerns about the following. %0AReferring page: '+ca+" %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\""),title:V}))});A(null===(C=null===(x=f.portalProperties)||void 0===
x?void 0:x.links)||void 0===C?void 0:C.contactUs,Z)},A=function(x,C){C=null!==C&&void 0!==C?C:v;x=null!==x&&void 0!==x?x:{visible:!1,url:""};var w={id:m+"_customContactUs",href:x.url,title:p["default"].siteFooter.customContactUs,className:x.visible?"footer__contact-us":"footer__contact-us hide"},G=e["default"].findIndex(C,function(R){return R.id===m+"_customContactUs"});-1<G?C[G]=w:(G=e["default"].findIndex(C,function(R){return R.id===m+"_contactEsri"}),-1<G?C.splice(G,0,w):C.push(w));t(C)};h=m+"_links";
var z=q?"\x26nbsp;. ":"",E=v.filter(function(x){return!x.className||-1===x.className.indexOf("hide")}),y=E.map(function(x,C){var w,G,R,H=null!==(w=x.id)&&void 0!==w?w:m+"_link"+C;w=x.href;var Z=null!==(G=x.target)&&void 0!==G?G:"";G=null!==(R=x.className)&&void 0!==R?R:"";R=C===E.length-1;return k.h(k.Fragment,null,k.h("a",{id:H,href:w,className:G,target:Z},x.title),R?null:k.h("span",null,z))});return k.h("div",{"class":"padding-leader-2 footer text-center padding-trailer-1 font-size--2 text-light-gray",
role:"contentinfo"},k.h("span",{id:h,"class":"esriItemLinks"},y),k.h("div",{"class":"esri-footer-barrier"}))}})},"arcgisonline/pages/home/sharedResources":function(){define("require exports tslib ../../esriGeowConfig ../utils/clone ../utils/organization ../utils/strings ../../sharing/util dojo/i18n!../../nls/homepage".split(" "),function(ba,l,b,a,c,e,d,k,n){function p(w){var G,R;if(!w)return w;if(null===(G=w.header)||void 0===G?0:G.title)w.header.title=d["default"].encodeAngleBrackets(w.header.title);
(null===(R=w.content)||void 0===R?0:R.length)&&w.content.forEach(function(H){"text"===H.type?(H.title&&(H.title=d["default"].encodeAngleBrackets(H.title)),H.body&&(H.body=d["default"].encodeAngleBrackets(H.body))):"gallery"===H.type?(H.title&&(H.title=d["default"].encodeAngleBrackets(H.title)),H.summary&&(H.summary=d["default"].encodeAngleBrackets(H.summary))):"link"===H.type&&H.links.forEach(function(Z){Z.title&&(Z.title=d["default"].encodeAngleBrackets(Z.title))})});w.footer&&(w.footer.contact&&
(w.footer.contact=d["default"].encodeAngleBrackets(w.footer.contact)),w.footer.copy&&(w.footer.copy=d["default"].encodeAngleBrackets(w.footer.copy)));return w}function h(w){var G,R;if(!w)return w;if(null===(G=w.header)||void 0===G?0:G.title)w.header.title=d["default"].decodeAngleBrackets(w.header.title);(null===(R=w.content)||void 0===R?0:R.length)&&w.content.forEach(function(H){"text"===H.type?(H.title&&(H.title=d["default"].decodeAngleBrackets(H.title)),H.body&&(H.body=d["default"].decodeAngleBrackets(H.body))):
"gallery"===H.type?(H.title&&(H.title=d["default"].decodeAngleBrackets(H.title)),H.summary&&(H.summary=d["default"].decodeAngleBrackets(H.summary))):"link"===H.type&&H.links.forEach(function(Z){Z.title&&(Z.title=d["default"].decodeAngleBrackets(Z.title))})});w.footer&&(w.footer.contact&&(w.footer.contact=d["default"].decodeAngleBrackets(w.footer.contact)),w.footer.copy&&(w.footer.copy=d["default"].decodeAngleBrackets(w.footer.copy)));return w}function m(w){w.header.backgroundColor||(w.header.backgroundColor=
w.header.titleColor);w.baseColor||w.useCustomStyles?w.baseColor||(w.baseColor="gs"):(w.baseColor="gs",w.header.backgroundColor="white"===w.header.backgroundColor?"dark-ramp":"dark-gray"===w.header.backgroundColor?"light-ramp":"light-gray"===w.header.backgroundColor?"medium-ramp":"white-ramp",w.content.forEach(function(G){G.bgColor="white"===G.bgColor?"white-ramp":"light-gray"===G.bgColor?"light-ramp":"dark-gray"===G.bgColor?"medium-ramp":"dark-ramp"}),w.footer.bgColor="white"===w.footer.bgColor?"white-ramp":
"light-gray"===w.footer.bgColor?"light-ramp":"dark-gray"===w.footer.bgColor?"medium-ramp":"dark-ramp");w.useCustomTypography||(w.useCustomTypography=!1);w.customTypography||(w.customTypography=["Avenir Next","Avenir Next"]);w.typography||(w.typography=["Avenir Next","Avenir Next"]);return w}function f(w){null===w||void 0===w?void 0:w.forEach(function(G,R){if(G){var H=R+1;document.body.style.setProperty("--custom-homepage-color-"+H+"-background",G.background);document.body.style.setProperty("--custom-homepage-color-"+
H+"-title",G.header);document.body.style.setProperty("--custom-homepage-color-"+H+"-text",G.text);document.body.style.setProperty("--custom-homepage-color-"+H+"-button",G.button)}})}function q(w){return-1==="Avenir Next;Arial;Helvetica;Montserrat;Roboto;Verdana".split(";").indexOf(w)?w+", serif":w+", sans-serif"}function B(w){return b.__awaiter(this,void 0,void 0,function(){var G;return b.__generator(this,function(R){G=a["default"].restBaseUrl+"community/groups/"+w;return[2,k["default"].request({url:G})]})})}
function v(w){var G,R,H,Z,F,da,V;return b.__awaiter(this,void 0,void 0,function(){var ca,T,aa,D,L,J,Q;return b.__generator(this,function(Y){switch(Y.label){case 0:ca=c["default"](l.DefaultOrgHomePage);ca.header.title=w.name;ca.header.coverImgStock=e["default"].pickRandomHomePageStockImage();ca.header.backgroundColor=e["default"].getTitleColorBasedOnStockImage(ca.header.coverImgStock);T=null===(G=w.homePageFeaturedContent)||void 0===G?void 0:G.indexOf("id:");aa=w.homePageFeaturedContentCount||4;if(!(-1<
T))return[3,4];D={type:"gallery",groupId:w.homePageFeaturedContent.substring(T+3),sortField:"",sortAsc:!0,itemType:"All",id:"",title:"",showTitle:!1,summary:"",showSummary:!1,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"dark-ramp",bgCustom:"",numItems:aa,showViewLink:!0};Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,B(w.homePageFeaturedContent.substr(T+3))];case 2:return L=Y.sent(),D.title=(null===L||void 0===L?void 0:L.title)||"",D.sortField=(null===
L||void 0===L?void 0:L.sortField)||"",D.sortAsc="desc"===(null===L||void 0===L?void 0:L.sortOrder)?!1:!0,ca.content.push(D),[3,4];case 3:return Y.sent(),ca.content.push(D),[3,4];case 4:return J=null===(Z=null===(H=null===(R=w.portalProperties)||void 0===R?void 0:R.links)||void 0===H?void 0:H.contactUs)||void 0===Z?void 0:Z.url,Q=null===(V=null===(da=null===(F=w.portalProperties)||void 0===F?void 0:F.links)||void 0===da?void 0:da.contactUs)||void 0===V?void 0:V.visible,-1<(null===J||void 0===J?void 0:
J.indexOf("mailto:"))&&(ca.footer.showContact=Q,ca.footer.contact=J.substring(J.indexOf("mailto:")+7)),[2,ca]}})})}var t,u,A,z,E,y,x,C;Object.defineProperty(l,"__esModule",{value:!0});l.getDefaultOrgHomePage=l.useHomePageFonts=l.writeCustomStyles=l.updateLegacyConfiguration=l.decodeHomePageConfiguration=l.encodeHomePageConfiguration=l.DefaultPublicHomePageDiscoverGalleryItems=l.DefaultPublicHomePage=l.DefaultOrgHomePage=void 0;a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=
b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);l.DefaultOrgHomePage={key:null,baseColor:"gs",useCustomStyles:!1,useCustomTypography:!1,typography:["default","default"],customTypography:["Avenir Next","Avenir Next"],header:{title:"",showTitle:!0,logo:"",showLogo:!1,coverType:"stock",coverImg:"",coverImgLayout:"Full-height",coverImgStock:"",coverImgPlacement:null,coverBGColor:"",headerCustom:"",showCoverImg:!0,backgroundColor:"dark-ramp",titleColor:"deprecated",titleLogoPos:"middle",
titleLogoAlign:"center",opacity:.2},content:[],footer:{showContact:!1,contact:"",showCopy:!1,copy:"",bgColor:"light-ramp",bgCustom:""},customStyles:[]};l.DefaultPublicHomePage={key:null,baseColor:"gs",useCustomStyles:!1,useCustomTypography:!1,typography:["default","default"],customTypography:["Avenir Next","Avenir Next"],header:{title:n["default"].title,showTitle:!0,logo:k["default"].relativeToExplicitUrl("js/arcgisonline/img/arcgis-online-64.svg"),showLogo:!0,coverType:"custom",coverImg:k["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background-public.png"),
coverImgLayout:"Half-height",coverImgStock:null,coverImgPlacement:null,coverBGColor:"",showCoverImg:!0,backgroundColor:"dark-ramp",titleColor:"deprecated",titleLogoPos:"middle",titleLogoAlign:"center",headerCustom:"",opacity:null},content:[{type:"text",title:n["default"].welcome.title,showTitle:!0,body:n["default"].welcome.summary,showBody:!0,bgColor:"medium-ramp",bgCustom:"",alignment:"left"},{type:"gallery",groupId:"",sortField:"",sortAsc:!0,itemType:"All",id:"home-page_discover",title:n["default"].discover.title,
showTitle:!0,summary:n["default"].discover.summary,showSummary:!0,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!0,showItemType:!1,bgColor:"light-ramp",bgCustom:"",numItems:4,showViewLink:!1},{type:"gallery",groupId:"",sortField:"modified",sortAsc:!1,itemType:"All",id:"home-page_explore",title:n["default"].explore.title,showTitle:!0,summary:n["default"].explore.summary,showSummary:!0,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"medium-ramp",
bgCustom:"",numItems:8,showViewLink:!0},{type:"gallery",groupId:"",sortField:"modified",sortAsc:!1,itemType:"All",id:"home-page_see",title:n["default"].see.title,showTitle:!0,summary:n["default"].see.summary,showSummary:!0,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"light-ramp",bgCustom:"",numItems:4,showViewLink:!1},{type:"gallery",groupId:"",sortField:"title",sortAsc:!0,itemType:"All",id:"home-page_subscribe",title:n["default"].subscribe.title,
showTitle:!0,summary:n["default"].subscribe.summary,showSummary:!0,alignment:"left",showItemThumb:!1,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"medium-ramp",bgCustom:"",numItems:4,showViewLink:!1}],footer:{showContact:!1,contact:"",showCopy:!1,copy:"",bgColor:"light-ramp",bgCustom:""},customStyles:[]};l.DefaultPublicHomePageDiscoverGalleryItems=[{title:n["default"].discover["try"].title,snippet:n["default"].discover["try"].snippet,thumbnailUrl:k["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_try-arcgis-online.png"),
url:null!==(u=null===(t=a["default"].discoverLinks)||void 0===t?void 0:t["try"])&&void 0!==u?u:"#"},{title:n["default"].discover.create.title,snippet:n["default"].discover.create.snippet,thumbnailUrl:k["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_create-maps.png"),url:null!==(z=null===(A=a["default"].discoverLinks)||void 0===A?void 0:A.create)&&void 0!==z?z:"#"},{title:n["default"].discover.share.title,snippet:n["default"].discover.share.snippet,thumbnailUrl:k["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_share-and-collaborate.png"),
url:null!==(y=null===(E=a["default"].discoverLinks)||void 0===E?void 0:E.share)&&void 0!==y?y:"#"},{title:n["default"].discover.patterns.title,snippet:n["default"].discover.patterns.snippet,thumbnailUrl:k["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_discover-patterns-and-trends.png"),url:null!==(C=null===(x=a["default"].discoverLinks)||void 0===x?void 0:x.patterns)&&void 0!==C?C:"#"}];l.encodeHomePageConfiguration=p;l.decodeHomePageConfiguration=h;l.updateLegacyConfiguration=m;l.writeCustomStyles=
f;l.useHomePageFonts=function(w){var G,R,H,Z;if(w.useCustomTypography){var F=(null===(G=w.customTypography)||void 0===G?void 0:G[0])||"Avenir Next";w=(null===(R=w.customTypography)||void 0===R?void 0:R[1])||"Avenir Next"}else F=(null===(H=w.typography)||void 0===H?void 0:H[0])||"Avenir Next",w=(null===(Z=w.typography)||void 0===Z?void 0:Z[1])||"Avenir Next";document.body.style.setProperty("--homepage-body-font",q(w));document.body.style.setProperty("--homepage-title-font",q(F))};l.getDefaultOrgHomePage=
v;l["default"]={DefaultOrgHomePage:l.DefaultOrgHomePage,DefaultPublicHomePage:l.DefaultPublicHomePage,DefaultPublicHomePageDiscoverGalleryItems:l.DefaultPublicHomePageDiscoverGalleryItems,encodeHomePageConfiguration:p,decodeHomePageConfiguration:h,updateLegacyConfiguration:m,writeCustomStyles:f,getDefaultOrgHomePage:v}})},"arcgisonline/pages/home/widgets/HomePageAboveHeader":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ./HomePageComponent ../../../tsutils/declareDecorator dojo/text!./templates/HomePageAboveHeader.html".split(" "),
function(ba,l,b,a,c,e,d,k){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);return function(){function n(p,h){this.templateString=k["default"]}n.prototype.startup=function(){this.inherited(arguments);this.render()};n.prototype.setLogo=function(p){p.match(/^data:/)?this.logo.src=p:(this.logo.src=this.useExplicitLogoPath&&p?p:p?""+this.fetchResourceUrl(p):"",this.logo.src+=this.logo.src.match(/\?/)?"\x26nocache\x3d"+(new Date).getTime():
"?nocache\x3d"+(new Date).getTime());c["default"].showHide(this.domNode,this.isVisibleDueToPlacement())};n.prototype.showLogo=function(p){this.logo.classList[p?"add":"remove"]("inline-block");p&&this.header.logo&&!this.logo.src&&this.setLogo(this.header.logo);c["default"].showHide(this.logo,this.isVisibleDueToPlacement()&&p&&0<this.header.logo.length);c["default"].showHide(this.domNode,this.isVisibleDueToPlacement()&&(this.header.showTitle||p&&0<this.header.logo.length))};n.prototype.setTitle=function(p){this.heading.innerHTML=
this.sanitize(p)};n.prototype.showTitle=function(p){c["default"].showHide(this.heading,this.isVisibleDueToPlacement()&&p);c["default"].showHide(this.domNode,this.isVisibleDueToPlacement()&&(this.header.showLogo&&0<this.header.logo.length||p))};n.prototype.setTitleColor=function(p){p=p.replace("ramp",this.baseColor);c["default"].setModifierClass(this.domNode,"home-page__header-background-color--",p)};n.prototype.setTitleAndLogoPlacement=function(p){c["default"].showHide(this.domNode,"above"===p);"above"===
p&&(this.showLogo(this.header.showLogo),this.showTitle(this.header.showTitle))};n.prototype.setTitleAndLogoAlignment=function(p){if("left"===p){var h=a["default"].isRightToLeft;this.titleContainer.style.justifyContent="flex-start";this.titleContainer.style.textAlign=h?"right":p}else this.titleContainer.style.justifyContent=p,this.titleContainer.style.textAlign=p};n.prototype.isVisibleDueToPlacement=function(){return"above"===this.header.titleLogoPos};n.prototype.render=function(){this.renderLogo();
this.renderTitle();this.renderTitleColor();this.renderTitleAndLogoPlacement();this.renderTitleAndLogoAlignment();c["default"].showHide(this.domNode,this.isVisibleDueToPlacement()&&(this.header.showTitle||this.header.showLogo&&0<this.header.logo.length))};n.prototype.renderLogo=function(){this.header.showLogo&&this.setLogo(this.header.logo);this.showLogo(this.header.showLogo)};n.prototype.renderTitle=function(){this.header.title&&this.setTitle(this.header.title);this.showTitle(this.header.showTitle)};
n.prototype.renderTitleColor=function(){this.setTitleColor((this.useCustomStyles?this.header.headerCustom:this.header.backgroundColor)||"white")};n.prototype.renderTitleAndLogoPlacement=function(){this.setTitleAndLogoPlacement(this.header.titleLogoPos||"middle")};n.prototype.renderTitleAndLogoAlignment=function(){this.setTitleAndLogoAlignment(this.header.titleLogoAlign||"center")};return n=b.__decorate([d["default"](e["default"])],n)}()})},"arcgisonline/pages/home/widgets/HomePageComponent":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ../../../sharing/util ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(ba,l,b,a,c,e,d,k,n){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);return function(){function p(){this.anchorClass="home-page__anchors";this.anchorBaseClass="home-page__anchors--"}p.prototype.postCreate=function(){this.resourcesUrl=e["default"].getSecureUrl(a["default"].restBaseUrl)+"portals/self/resources/"};p.prototype.fetchResourceUrl=function(h){var m=e["default"].getToken();return""+this.resourcesUrl+
h+(m?"?token\x3d"+m:"")};p.prototype.sanitize=function(h){var m,f;return null!==(f=null===(m=this.sanitizer)||void 0===m?void 0:m.sanitize(h))&&void 0!==f?f:h};p.prototype.renderAndSanitizeMarkdown=function(h){var m,f;h=this.disableMarkdown?h:null!==(f=null===(m=this.markdown)||void 0===m?void 0:m.render(h))&&void 0!==f?f:h;return this.sanitize(h)};p.prototype.processLinks=function(h){var m=this;c["default"].querySelectorAllAsArray("a",h).forEach(function(f){f.classList.add(m.anchorClass);f.href===
window.location.href?f.classList.add(m.anchorBaseClass+"disabled"):(f.target="_blank",f.rel="noopener noreferrer");if(m.preview||f.href===window.location.href)m.preventFocus(f),f.addEventListener("click",m.preventClick)})};p.prototype.preventFocus=function(h){h.tabIndex=-1};p.prototype.preventClick=function(h){var m,f,q;null===(m=null===h||void 0===h?void 0:h.preventDefault)||void 0===m?void 0:m.call(h);null===(f=null===h||void 0===h?void 0:h.stopImmediatePropagation)||void 0===f?void 0:f.call(h);
null===(q=null===h||void 0===h?void 0:h.stopPropagation)||void 0===q?void 0:q.call(h)};return p=b.__decorate([d["default"](k["default"],n["default"])],p)}()})},"arcgisonline/pages/home/widgets/HomePageHeader":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ../../utils/icons ./HomePageComponent ../../../sharing/util ../../../tsutils/declareDecorator dojo/text!./templates/HomePageHeader.html ../../utils/color".split(" "),function(ba,l,b,a,c,e,d,k,n,p,h){a=b.__importDefault(a);
c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);return function(){function m(f,q){this.templateString=p["default"];this.overlayColors={brown:["f2ece6","7c410a","3e2105"],blue:["e5f1f9","0079c1","003d61"],green:["e9f3ea","288835","14441b"],yellow:["fefced","f9e54e","7d7327"],orange:["fef5e9","f89927","7c4d14"],red:["fbeae8","d83020","6c1810"],violet:["efebf5","633b9b","321e4e"]};this.stockBackgroundPath=
"js/arcgisonline/img/homepage_background-"}m.prototype.startup=function(){this.inherited(arguments);this.render()};m.prototype.setVisible=function(f){this.domNode.classList[f?"remove":"add"]("invisible")};m.prototype.getCoverImage=function(){return this.domNode.style.backgroundImage};m.prototype.setCoverImage=function(f){this.domNode&&(this.domNode.style.backgroundImage=f,"none"===f?(this.header.showCoverImg=!1,this.setCoverImageLayout("no-image")):this.setCoverImageLayout(this.header.coverImgLayout));
this.checkShowHeader()};m.prototype.setCoverImageLayout=function(f){"full-height"===f.toLowerCase()?(this.domNode.classList.remove("home-page__header--no-image"),this.domNode.classList.remove("home-page__header--half-height"),this.domNode.classList.add("home-page__header--full-height")):"no-image"===f.toLowerCase()?(this.domNode.classList.remove("home-page__header--half-height"),this.domNode.classList.remove("home-page__header--full-height"),this.domNode.classList.add("home-page__header--no-image")):
(this.domNode.classList.remove("home-page__header--no-image"),this.domNode.classList.remove("home-page__header--full-height"),this.domNode.classList.add("home-page__header--half-height"));c["default"].showHide(this.arrowContainer,"full-height"===f.toLowerCase())};m.prototype.setLogo=function(f){f.match(/^data:/)?this.logo.src=f:(this.logo.src=this.useExplicitLogoPath&&f?f:f?""+this.fetchResourceUrl(f):"",this.logo.src+=this.logo.src.match(/\?/)?"\x26nocache\x3d"+Date.now():"?nocache\x3d"+Date.now())};
m.prototype.showLogo=function(f){this.logo.classList[f?"add":"remove"]("inline-block");f&&this.header.logo&&!this.logo.src&&this.setLogo(this.header.logo);c["default"].showHide(this.logo,this.isVisibleDueToPlacement()&&f&&0<this.header.logo.length);this.header.showLogo=f;this.checkShowHeader();this.setOpacity(this.header.opacity)};m.prototype.setTitle=function(f){this.heading.innerHTML=this.sanitize(f)};m.prototype.showTitle=function(f){c["default"].showHide(this.heading,this.isVisibleDueToPlacement()&&
f);this.header.showTitle=f;this.checkShowHeader();this.setOpacity(this.header.opacity)};m.prototype.setTitleColor=function(f){f=f.replace("ramp",this.baseColor);c["default"].setModifierClass(this.domNode,"home-page__header-background-color--",f);c["default"].setModifierClass(this.arrowContainer,"home-page__scroll-down-arrow--",f);this.setOpacity(this.header.opacity)};m.prototype.setOpacity=function(f){this.header.showLogo||this.header.showTitle||(f=0);if(this.useCustomStyles)if(this.header.headerCustom.match(/^custom/)&&
!this.customStyles[parseInt(this.header.headerCustom.replace("custom",""),10)-1]&&(this.header.headerCustom="white"),this.header.headerCustom.match(/^custom/)){var q=parseInt(this.header.headerCustom.replace("custom",""),10)-1;q=h["default"].hexRgb(this.customStyles[q].background);q=q[0]+", "+q[1]+", "+q[2]+","}else q="black"===this.header.headerCustom||-1!==this.header.headerCustom.indexOf("dark-")?"0,0,0,":"255,255,255,";else this.header.backgroundColor.match(/ramp$/)&&"gs"!==this.baseColor?(q=
-1!==this.header.backgroundColor.indexOf("dark-")?h["default"].hexRgb(this.overlayColors[this.baseColor][2]):"white-ramp"===this.header.backgroundColor?[255,255,255]:h["default"].hexRgb(this.overlayColors[this.baseColor][0]),q=q[0]+", "+q[1]+", "+q[2]+","):q="black"===this.header.backgroundColor||-1!==this.header.backgroundColor.indexOf("dark-")?"0,0,0,":"255,255,255,";this.headerOverlay.style.backgroundColor="rgba("+q+((null===f||void 0===f?void 0:f.toFixed(2))||0)+")"};m.prototype.setCustomStyles=
function(f){this.customStyles=f};m.prototype.setTitleAndLogoPlacement=function(f){c["default"].setModifierClass(this.headerOverlay,"home-page__header-overlay-valign--",f);"above"!==f&&"below"!==f?(c["default"].showNodes([this.heading,this.logo]),this.headerOverlay.classList.remove("is-empty"),this.showTitle(this.header.showTitle),this.showLogo(this.header.showLogo)):(c["default"].hideNodes([this.heading,this.logo]),this.headerOverlay.classList.add("is-empty"))};m.prototype.setTitleAndLogoAlignment=
function(f){if("left"===f){var q=a["default"].isRightToLeft;this.titleContainer.style.justifyContent="flex-start";this.titleContainer.style.textAlign=q?"right":f}else this.titleContainer.style.justifyContent=f,this.titleContainer.style.textAlign=f};m.prototype.render=function(){this.checkShowHeader()&&(this.setVisible(!this.startHidden),this.renderCoverImage(),this.renderCoverImageLayout(),this.renderLogo(),this.renderTitle(),this.renderTitleColor(),this.renderOpacity(),this.renderTitleAndLogoPlacement(),
this.renderTitleAndLogoAlignment())};m.prototype.checkShowHeader=function(){var f=this.header.showCoverImg||this.header.showLogo||this.header.showTitle;c["default"].showHide(this.headerContainer,f);return f};m.prototype.renderCoverImage=function(){if(!this.header.showCoverImg)this.setCoverImage("none");else if("stock"===this.header.coverType){var f=""+k["default"].relativeToExplicitUrl(""+this.stockBackgroundPath+this.header.coverImgStock+".jpg");this.setCoverImage("url("+f+")")}else if(this.header.coverImg){f=
this.useExplicitCoverImgPath?this.header.coverImg:this.fetchResourceUrl(this.header.coverImg);var q=f.match(/\?/)?"\x26nocache\x3d"+Date.now():"?nocache\x3d"+Date.now();this.setCoverImage("url("+f+q+")")}this.header.coverImgPlacement&&(this.domNode.style.backgroundPositionX=this.header.coverImgPlacement.x,this.domNode.style.backgroundPositionY=this.header.coverImgPlacement.y)};m.prototype.renderCoverImageLayout=function(){var f,q,B="home-page__header--"+((null===(q=null===(f=this.header.coverImgLayout)||
void 0===f?void 0:f.toLowerCase)||void 0===q?void 0:q.call(f))||"half-height");(this.header.coverImg||this.header.coverImgStock)&&this.header.showCoverImg||(B="home-page__header--no-image");this.arrowContainer.innerHTML=e["default"]["arrow-down"]["32"];this.domNode.classList.add(B)};m.prototype.renderLogo=function(){this.header.showLogo&&this.setLogo(this.header.logo);this.showLogo(this.header.showLogo);this.setLogoClass(this.header.showTitle)};m.prototype.setLogoClass=function(f){c["default"].addRemoveClass(this.logo,
"no-title",!f)};m.prototype.renderTitle=function(){this.header.title&&this.setTitle(this.header.title);this.showTitle(this.header.showTitle)};m.prototype.renderTitleColor=function(){this.useCustomStyles?(this.header.headerCustom=this.header.headerCustom||"black",this.setTitleColor(this.header.headerCustom)):this.setTitleColor(this.header.backgroundColor)};m.prototype.renderOpacity=function(){this.setOpacity(this.header.opacity)};m.prototype.renderTitleAndLogoPlacement=function(){this.setTitleAndLogoPlacement(this.header.titleLogoPos||
"middle")};m.prototype.renderTitleAndLogoAlignment=function(){this.setTitleAndLogoAlignment(this.header.titleLogoAlign||"center")};m.prototype.isVisibleDueToPlacement=function(){var f=this.header.titleLogoPos||"middle";return"above"!==f&&"below"!==f};return m=b.__decorate([n["default"](d["default"])],m)}()})},"arcgisonline/pages/utils/color":function(){define(["require","exports"],function(ba,l){return function(){function b(){}b.hexRgb=function(a){a=a.replace(/^#/,"");a=parseInt(a,16);return[a>>16,
a>>8&255,a&255,255]};b.rgbHex=function(a){a=a.replace(/^rgb\(/,"").replace(")","");var c=a.split(",");if(3!==c.length)return"#ffffff";a=parseInt(c[0],10).toString(16);1===a.length&&(a="0"+a);var e=parseInt(c[1],10).toString(16);1===e.length&&(e="0"+e);c=parseInt(c[2],10).toString(16);1===c.length&&(c="0"+c);return"#"+a+e+c};b.relativeLuminance=function(a){var c=1/12.92,e=a[0]/255,d=a[1]/255;a=a[2]/255;e=.03928>=e?e*c:this.adjustGamma(e);d=.03928>=d?d*c:this.adjustGamma(d);c=.03928>=a?a*c:this.adjustGamma(a);
return.2126*e+.7152*d+.0722*c};b.adjustGamma=function(a){return Math.pow((a+.055)/1.055,2.4)};b.luminance=function(a,c){return(Math.max(a,c)+.05)/(Math.min(a,c)+.05)};b.checkContrast=function(a,c){a=this.expandHexAbbr(a);c=this.expandHexAbbr(c);var e=[a,c].map(this.hexRgb.bind(this)).map(this.relativeLuminance.bind(this));e=this.luminance(e[0],e[1]);return{contrast:e,passesDoubleA:4.5<=e}};b.expandHexAbbr=function(a){if(4!==a.length)return a;a=a.split("");return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]};
return b}()})},"arcgisonline/pages/home/widgets/HomePageBelowHeader":function(){define("require exports tslib ./HomePageAboveHeader ../../utils/dom ../../../tsutils/declareDecorator dojo/text!./templates/HomePageBelowHeader.html".split(" "),function(ba,l,b,a,c,e,d){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);return function(){function k(n,p){this.templateString=d["default"]}k.prototype.setTitleAndLogoPlacement=function(n){c["default"].showHide(this.domNode,
"below"===n);"below"===n&&(this.showLogo(this.header.showLogo),this.showTitle(this.header.showTitle))};k.prototype.isVisibleDueToPlacement=function(){return"below"===this.header.titleLogoPos};return k=b.__decorate([e["default"](a["default"])],k)}()})},"arcgisonline/pages/home/widgets/HomePageFooter":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ./HomePageComponent ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/HomePageFooter.html".split(" "),
function(ba,l,b,a,c,e,d,k,n){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);return function(){function p(h,m){this.templateString=n["default"];this.i18n=k["default"].siteFooter}p.prototype.startup=function(){var h=this;this.inherited(arguments);this.render();if(this.preview){var m=this.domNode.querySelectorAll("a");c["default"].forEachNode(m,function(f){h.preventFocus(f);f.addEventListener("click",h.preventClick)})}};
p.prototype.setContact=function(h){var m=this.sanitize(h);this.contactUs.href=h?"mailto:"+m:""};p.prototype.showContact=function(h){c["default"].showHide(this.contactUs,h)};p.prototype.setCopy=function(h){h=this.renderAndSanitizeMarkdown(h);this.footerCopyContainer.innerHTML=h;this.processLinks(this.footerCopyContainer)};p.prototype.showCopy=function(h){c["default"].showHide(this.footerCopyContainer,h)};p.prototype.setBackgroundColor=function(h,m,f){void 0!==f&&(this.useCustomStyles=f);h=this.useCustomStyles?
m:h.replace("ramp",this.baseColor);c["default"].setModifierClass(this.domNode,"home-page__footer-color--",h);this.updateFooterCopyLinksBackgroundColor();this.updateFooterLinksBackgroundColor(h)};p.prototype.render=function(){var h=encodeURI(window.location.href);this.reportAbuse.href+='?subject\x3d"Concerns about an item"\x26body\x3d"I have concerns about the following. %0AReferring page: '+h+" %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\"";
this.setBackgroundColor(this.footer.bgColor,this.footer.bgCustom);this.footer.contact&&this.setContact(this.footer.contact);this.showContact(this.footer.showContact);this.footer.copy&&this.setCopy(this.footer.copy);this.showCopy(this.footer.showCopy);this.portal.isPortal&&this.renderFooterConfig()};p.prototype.renderFooterConfig=function(){var h=this,m=[];(a["default"].footerLinks||[]).forEach(function(f){var q,B,v=b.__assign(b.__assign(b.__assign({},k["default"].common),k["default"].siteFooter),
{helpLabel:k["default"].supportPage.helpLabel}),t=h.portal.portalUser,u=h.portal.isPortal,A=window.location.href,z="${i18n.legal}"===(null===f||void 0===f?void 0:f.title),E=!!(z&&(null===t||void 0===t?0:t.accountId)),y="${i18n.help}"===(null===f||void 0===f?void 0:f.title)||"support.html"===(null===f||void 0===f?void 0:f.url);t=!(y&&!t&&"public"===h.portal.access&&u);z=!z&&!y||z&&!E||y&&!t;E=null===(q=f.title)||void 0===q?void 0:q.indexOf("${i18n.");q=null===(B=f.title)||void 0===B?void 0:B.indexOf("}");
B=-1<E&&-1<q?""+v[f.title.substring(E+7,q)]:f.title;if(f.url){-1===f.url.indexOf("http")&&-1===f.url.indexOf("mailto:")&&(f.url="support.html"===f.url?h.portal.helpBase||""+a["default"].baseUrl+f.url:""+a["default"].baseUrl+f.url);if("${i18n.help}"===f.title||"support.html"===f.url)f.url=h.portal.helpBase;z&&m.push({href:f.url,target:"_blank",title:B})}else u&&"contactUs"===f.type?(u=a["default"].portalName||"ArcGIS.com",A=escape(A),f="mailto:"+f.email,m.push({href:f+('?subject\x3d"A comment about '+
u+'"\x26body\x3d"I have the following comment about the ')+(u+" Web site. %0AReferring page: "+A+' %0A %0A(Please provide as much detail as possible. Note: Contact Us is not meant for obtaining technical support or general product information.)"'),title:B})):"reportAbuse"===f.type&&(A=escape(A),f="mailto:"+f.email+'?subject\x3d"Concerns about an item"',m.push({href:f+('\x26body\x3d"I have concerns about the following. %0AReferring page: '+A+" %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\""),
title:B}))});m.filter(function(f){return!f.className||-1===f.className.indexOf("hide")}).forEach(function(f,q){var B,v,t,u=null!==(B=f.id)&&void 0!==B?B:"link"+q;B=f.href;var A=null!==(v=f.target)&&void 0!==v?v:"";v=null!==(t=f.className)&&void 0!==t?t:"";t=document.createElement("a");t.id=u;t.innerText=f.title;t.href=B;A&&(t.target=A);t.className="home-page__footer-link margin-right-2 font-size--1 home-page__footer-color--"+h.footer.bgColor+" "+v;h.contactUs.insertAdjacentElement("beforebegin",t)})};
p.prototype.updateFooterCopyLinksBackgroundColor=function(){this.processLinks(this.footerCopyContainer)};p.prototype.updateFooterLinksBackgroundColor=function(h){var m=this.domNode.querySelectorAll("a");c["default"].forEachNode(m,function(f){c["default"].setModifierClass(f,"home-page__footer-color--",h)})};return p=b.__decorate([d["default"](e["default"])],p)}()})},"arcgisonline/pages/home/widgets/HomePageGallery":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ./HomePageComponent ./HomePageGalleryItem ../../dijit/FilterItemType/_itemTypes ../../../sharing/util ../../../tsutils/declareDecorator dojo/Deferred esri/Evented dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/HomePageGallery.html ../../portal/PortalItem".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f,q,B){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);q=b.__importDefault(q);B=b.__importDefault(B);return function(){function v(t,u){this.templateString=q["default"];this.galleryItems=[]}v.prototype.startup=function(){this.inherited(arguments);this.preview&&(this.viewBtn.tabIndex=-1);
this.render()};v.prototype.setAlignment=function(t){c["default"].removeClasses(this.domNode,["text-left","text-center"]);c["default"].removeClasses(this.heading,["text-left","text-center"]);c["default"].removeClasses(this.summary,["text-left","text-center"]);t="text-"+t;this.domNode.classList.add(t);this.heading.classList.add(t);this.summary.classList.add(t)};v.prototype.setBackgroundColor=function(t){t=t.replace("ramp",this.baseColor);c["default"].setModifierClass(this.domNode,"home-page__gallery-color--",
t)};v.prototype.setGroupID=function(t){this.gallery.groupId=t;this.renderItems()};v.prototype.setSortField=function(t){this.gallery.sortField=t;this.renderItems()};v.prototype.setSortAsc=function(t){this.gallery.sortAsc=t;this.renderItems()};v.prototype.showItemTitle=function(t){this.gallery.showItemTitle=t;this.renderItems()};v.prototype.showItemSummary=function(t){this.gallery.showItemSummary=t;this.renderItems()};v.prototype.showItemThumb=function(t){this.gallery.showItemThumb=t;this.renderItems()};
v.prototype.showItemType=function(t){this.gallery.showItemType=t;this.renderItems()};v.prototype.setItemType=function(t,u){this.gallery.itemType=t;this.renderItems(u)};v.prototype.setNumItems=function(t){this.gallery.numItems=t;this.renderItems()};v.prototype.setTitle=function(t){this.heading.innerHTML=this.sanitize(t)};v.prototype.showTitle=function(t){c["default"].showHide(this.heading,t)};v.prototype.setSummary=function(t){this.summary.innerHTML=this.renderAndSanitizeMarkdown(t);this.processLinks(this.summary)};
v.prototype.showSummary=function(t){c["default"].showHide(this.summary,t)};v.prototype.setViewLinkLabel=function(t){this.viewBtn.innerHTML=this.sanitize(t)};v.prototype.setViewLinkClick=function(t){this.viewBtn.addEventListener("click",t)};v.prototype.showViewLink=function(t){c["default"].showHide(this.viewBtnContainer,t)};v.prototype.render=function(){this.renderViewLink();this.renderAlignment();this.renderBackgroundColor();this.renderTitle();this.renderSummary();this.renderItems()};v.prototype.renderAlignment=
function(){this.gallery.alignment&&this.setAlignment(this.gallery.alignment||"center")};v.prototype.renderBackgroundColor=function(){this.useCustomStyles?(this.gallery.bgCustom=this.gallery.bgCustom||"white",this.setBackgroundColor(this.gallery.bgCustom)):this.setBackgroundColor(this.gallery.bgColor)};v.prototype.renderTitle=function(){this.gallery.showTitle&&this.setTitle(this.gallery.title);this.showTitle(this.gallery.showTitle)};v.prototype.renderSummary=function(){this.gallery.showSummary&&this.setSummary(this.gallery.summary);
this.showSummary(this.gallery.showSummary)};v.prototype.renderViewLink=function(){this.setViewLinkLabel(f["default"].orgHomePageSetup.galleryText.viewGallery);this.preview||this.stopViewLink||this.setViewLinkClick(this.goToGroupPage.bind(this));this.showViewLink(this.gallery.showViewLink)};v.prototype.renderItems=function(t){var u=this,A;this.explicitQuery&&!this.gallery.groupId?this.searchItems():this.explicitItems?null===(A=this.explicitItems)||void 0===A?void 0:A.forEach(function(z){return u.renderItem(z)}):
this.fetchGroup().then(function(z){z?u.fetchItems(z,t):c["default"].hideNode(u.domNode)},function(z){c["default"].hideNode(u.domNode)})};v.prototype.goToGroupPage=function(){var t=this.explicitFocus?"\x26focus\x3d"+this.explicitFocus:"",u=this.getExplicitQueryParameters(!0);window.open(a["default"].baseUrl+"group.html?id\x3d"+this.gallery.groupId+"\x26view\x3dgrid\x26showFilters\x3dfalse\x26sortField\x3d"+this.gallery.sortField+("\x26sortOrder\x3d"+(this.gallery.sortAsc?"asc":"desc"))+u+t+"#content",
"_blank")};v.prototype.searchItems=function(){var t=this,u,A=new h["default"],z=a["default"].restBaseUrl+"search",E=null!==(u=this.explicitQueryFilter)&&void 0!==u?u:"",y={start:1,num:this.gallery.numItems,q:""+this.explicitQuery+E,sortField:this.gallery.sortField,sortOrder:this.gallery.sortAsc?"asc":"desc"};this.explicitQueryParams&&Object.keys(this.explicitQueryParams).forEach(function(x){return y[x]=t.explicitQueryParams[x]});n["default"].request({url:z,content:y}).then(function(x){var C;null===
x||void 0===x?void 0:x.results.forEach(function(w){w=new B["default"](b.__assign(b.__assign({},w),{portal:t.portal}));t.renderItem(w)});x&&0!==(null===(C=x.results)||void 0===C?void 0:C.length)||c["default"].hideNode(t.domNode)});return A};v.prototype.getExplicitQueryParameters=function(t){var u=this;if(this.explicitQueryParams){var A="";Object.keys(this.explicitQueryParams).forEach(function(z){var E;if("categories"===z){var y=null===(E=u.explicitQueryParams[z])||void 0===E?void 0:E.split(",");null===
y||void 0===y?void 0:y.forEach(function(x){A=t&&-1<x.indexOf("/Region/")?A+"\x26regions\x3d"+encodeURIComponent(x):A+"\x26"+z+"\x3d"+encodeURIComponent(x)})}else A=A+"\x26"+z+"\x3d"+u.explicitQueryParams[z]});return A}return""};v.prototype.fetchItems=function(t,u){var A=this,z,E,y,x;c["default"].showNode(this.domNode);var C=new h["default"],w=null===(z=t.properties)||void 0===z?void 0:z.isFeatured,G=(null===(E=t.properties)||void 0===E?void 0:E.featuredItemIds)||[];z=this.gallery.sortAsc?"asc":"desc";
E=this.getExplicitQueryParameters();var R=(null===(x=k["default"][null===(y=this.gallery.itemType)||void 0===y?void 0:y.replace("Apps","applications").toLowerCase()])||void 0===x?void 0:x.q)||"";y="\x26q\x3d"+(this.explicitQuery||R)+" "+(this.explicitQueryFilter||"")+' -(type:"Code Attachment" OR type:"Windows Viewer Add In" OR type:"Windows Viewer Configuration" OR type:"Map Area") -typekeywords:"MapAreaPackage"';"featured"===this.gallery.sortField&&w&&G.length&&(G=G.splice(0,this.gallery.numItems),
y=y.replace("\x26q\x3d","\x26q\x3did:("+G.join(" OR ")+") \x26"));x="";"featured"!==this.gallery.sortField&&(x="\x26sortField\x3d"+this.gallery.sortField+"\x26sortOrder\x3d"+z);n["default"].request({url:a["default"].restBaseUrl+"content/groups/"+this.gallery.groupId+"/search?f\x3djson"+(y+"\x26start\x3d1"+x+("\x26num\x3d"+this.gallery.numItems)+E)}).then(function(H){var Z;A.itemContainer.innerHTML="";"featured"===A.gallery.sortField&&w&&G.length&&(null===H||void 0===H?0:H.results)&&(H.results=A.sortByFeatured(H.results,
G));null===H||void 0===H?void 0:H.results.forEach(function(F,da){if(da<A.gallery.numItems){var V=new B["default"](b.__assign(b.__assign({},F),{portal:A.portal}));A.renderItem(V)}});H&&0!==(null===(Z=H.results)||void 0===Z?void 0:Z.length)||(c["default"].hideNode(A.domNode),u&&u())});return C};v.prototype.sortByFeatured=function(t,u){var A=[],z={};t.forEach(function(E){z[E.id]=E});u.forEach(function(E){z[E]&&A.push(z[E])});return A};v.prototype.fetchGroup=function(){var t=new h["default"];n["default"].request({url:a["default"].restBaseUrl+
"community/groups",content:{q:"id:"+this.gallery.groupId}}).then(function(u){var A;0<(null===(A=null===u||void 0===u?void 0:u.results)||void 0===A?void 0:A.length)?t.resolve(u.results[0]):t.resolve(void 0)},function(u){t.resolve(void 0)});return t};v.prototype.renderItem=function(t){var u,A=document.createElement("div");null===(u=this.itemContainer)||void 0===u?void 0:u.appendChild(A);t=this.createGalleryItem(t,A);this.galleryItems.push(t)};v.prototype.createGalleryItem=function(t,u){var A=new d["default"]({gallery:this.gallery,
item:t,portal:this.portal,sanitizer:this.sanitizer,preview:this.preview,linkToItemUrl:this.explicitItems&&this.linkToItemUrls?!0:void 0},u);A.startup();return A};return v=b.__decorate([p["default"](e["default"],m["default"])],v)}()})},"arcgisonline/pages/home/widgets/HomePageGalleryItem":function(){define("require exports tslib ./HomePageComponent ../../utils/dom ../../utils/item ../../utils/icons ../../utils/setItemUrls ../../../sharing/util ../../../tsutils/declareDecorator dojo/on dojo/text!./templates/HomePageGalleryItem.html".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);return function(){function f(q,B){this.templateString=m["default"];this.icons=d["default"]}f.prototype.startup=function(){this.inherited(arguments);this.preview&&(this.domNode.tabIndex=-1);this.addEventListeners();this.render()};f.prototype.setThumbnail=function(q){q=
q?""+q+(-1<q.search("\\?token\x3d")?"\x26":"?")+"w\x3d400":q;this.itemThumbnail.style.backgroundColor="#fff";this.itemThumbnail.style.backgroundImage="url("+q+")";this.setThumbnailAlt()};f.prototype.showThumbnail=function(q){c["default"].showHide(this.itemThumbnail,q);this.computeLaunchVisibility();this.setThumbnailAlt()};f.prototype.setType=function(q){this.itemType.innerText=this.sanitize(q)};f.prototype.showType=function(q){c["default"].showHide(this.itemTypeContainer,q);this.computeLaunchVisibility()};
f.prototype.setTitle=function(q){this.itemTitle.innerText=this.sanitize(q);this.itemTitle.setAttribute("aria-label",this.sanitize(q));this.itemTitle.title=this.sanitize(q);this.setThumbnailAlt()};f.prototype.showTitle=function(q){c["default"].showHide(this.itemTitle,q);this.computeLaunchVisibility();this.setThumbnailAlt()};f.prototype.setSummary=function(q){this.itemSummary.innerText=this.sanitize(q)};f.prototype.showSummary=function(q){c["default"].showHide(this.itemSummary,q);this.computeLaunchVisibility()};
f.prototype.setThumbnailAlt=function(){this.itemThumbnail.alt=this.gallery.showItemThumb&&!this.gallery.showItemTitle?this.item.title:""};f.prototype.computeLaunchVisibility=function(){var q=this.gallery.showItemThumb&&!this.gallery.showItemTitle&&!this.gallery.showItemSummary&&!this.gallery.showItemType;c["default"].showHide(this.itemLaunch,q);c["default"].showHide(this.itemContent,!q)};f.prototype.addEventListeners=function(){var q=this,B,v,t,u;if(!this.preview)if(this.linkToItemUrl)this.own(h["default"](this.domNode,
"click",function(){return window.open(q.item.url,"_blank")}));else{var A=!1;"Web Experience"===this.item.type&&k["default"].webExperienceViewer(this.item);var z=n["default"].getHomePageGalleryLinkInfo(this.item),E=-1<(null===(v=null===(B=null===z||void 0===z?void 0:z.href)||void 0===B?void 0:B.toLowerCase)||void 0===v?void 0:v.call(B).indexOf("javascript"));E&&this.item.url&&e["default"].shouldOpenToItemURLInNewTab(this.item)&&(z.href=this.item.url,A=!0);e["default"].shouldOpenInNewTab(this.item)&&
(A=!0);E=-1<(null===(u=null===(t=null===z||void 0===z?void 0:z.href)||void 0===t?void 0:t.toLowerCase)||void 0===u?void 0:u.call(t).indexOf("javascript"));this.own(h["default"](this.domNode,"click",E&&z.onclick?z.onclick:function(){window.open(z.href,A?"_blank":"")}))}};f.prototype.render=function(){this.renderThumbnail();this.renderType();this.renderTitle();this.renderSummary();this.setAlignment()};f.prototype.renderThumbnail=function(){var q=this;this.gallery.showItemThumb&&(this.item.getThumbnail?
this.item.getThumbnail(!1).then(function(){q.setThumbnail(q.item.thumbnailUrl)}):this.item.thumbnailUrl&&this.setThumbnail(this.item.thumbnailUrl));this.showThumbnail(this.gallery.showItemThumb);this.setThumbnailAlt()};f.prototype.renderType=function(){this.gallery.showItemType&&this.setType(this.item.displayName||this.item.type);this.showType(this.gallery.showItemType)};f.prototype.renderTitle=function(){var q;this.setTitle(null!==(q=this.item.title)&&void 0!==q?q:"");this.showTitle(this.gallery.showItemTitle)};
f.prototype.renderSummary=function(){var q;this.setSummary(null!==(q=this.item.snippet)&&void 0!==q?q:"");this.showSummary(this.gallery.showItemSummary)};f.prototype.setAlignment=function(){this.gallery.showItemSummary?this.itemTextContent.classList.add("text-left"):this.itemTextContent.classList.add("text-center")};return f=b.__decorate([p["default"](a["default"])],f)}()})},"arcgisonline/pages/dijit/FilterItemType/_itemTypes":function(){define(["require","exports"],function(ba,l){return{maps:{q:'type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package")',
label:"Maps"},"maps-webmaps":{q:'type:("Web Map" OR "CityEngine Web Scene") -type:"Web Mapping Application"',label:"Web maps"},"maps-mapfiles":{q:'type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template")',label:"Map files"},layers:{q:'(type:"Scene Service" OR type:"Feature Collection" OR type:"Route Layer" OR type:"Layer" OR type:"Explorer Layer" OR type:"Tile Package" OR type:"Compact Tile Package" OR type:"Vector Tile Package" OR type:"Scene Package" OR type:"Layer Package" OR type:"Feature Service" OR type:"Stream Service" OR type:"Feed" OR type:"Map Service" OR type:"Vector Tile Service" OR type:"Image Service" OR type:"WMS" OR type:"WFS" OR type:"WMTS" OR type:"KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR type:"Globe Service" OR type:"CSV" OR type:"Shapefile" OR type:"GeoJson" OR type:"Service Definition" OR type:"File Geodatabase" OR type:"CAD Drawing" OR type:"Relational Database Connection" OR type:"GeoPackage") -type:("Web Mapping Application" OR "Geodata Service")',
label:"Layers"},"layers-weblayers":{q:'type:("Feature Collection" OR "Feature Service" OR "Image Service" OR "Map Service" OR "Vector Tile Service" OR "Scene Service" OR "Stream Service" OR "WMS" OR "WMTS" OR "WFS" OR "KML" OR "OGCFeatureServer") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Web layers"},"layers-weblayers-features":{q:'type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table"',label:"Feature layers"},
"layers-weblayers-tiles":{q:'type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled")',label:"Tile layers"},"layers-weblayers-mapimage":{q:'type:("Map Service" OR "WMS") -typekeywords:("Hosted" OR "Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Map Image layers"},"layers-weblayers-imagery":{q:'type:"Image Service" -typekeywords: "Elevation 3D Layer" -typekeywords: "Tiled Imagery"',label:"Imagery layers"},"layers-weblayers-scenelayers":{q:'type:"Scene Service"',
label:"Scene layers"},"layers-weblayers-videolayers":{q:'type:"Video Service"',label:"Video layers"},"layers-weblayers-tiledimagelayers":{q:'type: "Image Service" typekeywords: "Tiled Imagery"',label:"Tiled Imagery layers"},"layers-weblayers-elevationlayers":{q:'type: "Image Service" typekeywords: "Elevation 3D Layer"',label:"Elevation layers"},"layers-weblayers-feeds":{q:'type:"Feed"',label:"Feeds"},"layers-weblayers-tables":{q:"typekeywords:Table",label:"Tables"},"layers-layerfiles":{q:'type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Compact Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel" OR "GeoPackage") -type:("Explorer Maps" OR "Map Documents")',
label:"Layer files"},scenes:{q:'-type:"CityEngine Web Scene" type:"Web Scene"',label:"Scenes"},applications:{q:'type:("Code Sample" OR "Web Mapping Application" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "StoryMap" OR "Web Experience" OR "Web Experience Template" OR "Form")',
label:"Apps"},"applications-web":{q:'type:("Web Mapping Application") NOT (typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT")',label:"Web apps"},"applications-dashboards":{q:'type:("Dashboard") typekeywords:("Dashboard" NOT "ArcGIS Operation View" NOT "Add In" NOT "Extension")',label:"Dashboards"},"applications-sites":{q:'type:("Hub Site Application" OR "Site Application")',label:"Sites"},"applications-pages":{q:'type:("Hub Page" OR "Site Page")',label:"Pages"},"applications-geobim-projects":{q:'type:("GeoBIM Project")',
label:"GeoBIM projects"},"applications-geobim-apps":{q:'type:("GeoBIM Application")',label:"GeoBIM applications"},"applications-instant-apps":{q:'typekeywords:"configurableApp"',label:"Instant Apps"},"applications-storymap":{q:'type:("StoryMap")',label:"Storymaps"},"applications-experience":{q:'type:("Web Experience" OR "Web Experience Template")',label:"Experience Builder"},"applications-wab":{q:'typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT"',label:"Web AppBuilder"},
"applications-mobile":{q:'type:"Mobile Application"',label:"Mobile apps"},"applications-desktop":{q:'type:"Desktop Application" -type:"Desktop Application Template"',label:"Desktop apps"},tools:{q:'(typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR type:"Big Data Analytic" OR type:"Real Time Analytic") -type:"KML"',
label:"Tools"},"tools-locators":{q:'type:("Geocoding Service" OR "Locator Package")',label:"Locators"},"tools-geodatabase":{q:'type:"Geodata Service"',label:"Geodatabase access"},"tools-geometric":{q:'type:"Geometry Service"',label:"Geometric operations"},"tools-geoprocessing":{q:'type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample")',label:"Geoprocessing tasks"},"tools-network":{q:'type:"Network Analysis Service"',label:"Network analysis"},"tools-analytics":{q:'type:("Big Data Analytic" OR "Real Time Analytic")',
label:"Analytics"},files:{q:'(typekeywords:"Document" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Pro Report" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF" OR type:"PDF" OR type:"CSV" OR type:"Administrative Report" OR type: "Raster function template") -type:("Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document")',label:"Files"},"files-document":{q:'typekeywords:"Document" -type:"PDF"',
label:"Documents"},"files-image":{q:'type:("Image" OR "360 VR Experience") -type:"Image Service"',label:"Images"},"files-pdf":{q:'type:"PDF"',label:"PDFs"},"files-csv":{q:'type:"CSV"',label:"CSVs"},"files-report":{q:'type:"Administrative Report"',label:"Administrative reports"},"files-raster":{q:'type: "Raster function template"',label:"Raster function templates"},notebooks:{q:'type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook")',label:"Notebooks"},insights:{q:'type:("Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Insights Theme" OR "Insights Script")',
label:"Insights"},"insights-workbooks":{q:'type:"Insights Workbook"',label:"Workbooks"},"insights-pages":{q:'type:"Insights Page"',label:"Pages"},"insights-models":{q:'type:"Insights Model" (-tags: "insights-theme") AND (-tags: "insights-script") AND (-tags: "insights-one-drive") AND (-tags: "insights-sharepoint")',label:"Models"},"insights-themes":{q:'type:"Insights Theme" OR (type:"Insights Model" AND tags:"insights-theme")',label:"Themes"},"data-stores":{q:'type:("Data Store")',label:"Data stores"},
knowledgeGraphs:{q:'type:"Knowledge Graph"',label:"Knowledge graphs"}}})},"arcgisonline/pages/home/widgets/HomePageText":function(){define("require exports tslib ../../utils/dom ./HomePageComponent ../../../tsutils/declareDecorator dojo/text!./templates/HomePageText.html".split(" "),function(ba,l,b,a,c,e,d){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);return function(){function k(n,p){this.templateString=d["default"]}k.prototype.startup=function(){this.inherited(arguments);
this.render()};k.prototype.setAlignment=function(n){a["default"].removeClasses(this.domNode,["text-center","text-left"]);this.domNode.classList.add("text-"+n)};k.prototype.setBackgroundColor=function(n){n=n.replace("ramp",this.baseColor);a["default"].setModifierClass(this.domNode,"home-page__text-color--",n)};k.prototype.setTitle=function(n){this.headline.innerHTML=this.sanitize(n)};k.prototype.showTitle=function(n){a["default"].showHide(this.headline,n)};k.prototype.setBody=function(n){this.body.innerHTML=
this.renderAndSanitizeMarkdown(n);this.processLinks(this.body)};k.prototype.showBody=function(n){a["default"].showHide(this.body,n)};k.prototype.render=function(){this.renderAlignment();this.renderBackgroundColor();this.renderTitle();this.renderBody()};k.prototype.renderBody=function(){this.text.showBody&&this.setBody(this.text.body);this.showBody(this.text.showBody)};k.prototype.renderTitle=function(){this.text.showTitle&&this.setTitle(this.text.title);this.showTitle(this.text.showTitle)};k.prototype.renderBackgroundColor=
function(){this.useCustomStyles?(this.text.bgCustom=this.text.bgCustom||"white",this.setBackgroundColor(this.text.bgCustom)):this.setBackgroundColor(this.text.bgColor)};k.prototype.renderAlignment=function(){this.text.alignment&&this.setAlignment(this.text.alignment||"center")};return k=b.__decorate([e["default"](c["default"])],k)}()})},"arcgisonline/pages/home/widgets/HomePageLinks":function(){define("require exports tslib ../../utils/dom ./HomePageComponent ../../utils/icons ../../../tsutils/declareDecorator dojo/text!./templates/HomePageLinks.html".split(" "),
function(ba,l,b,a,c,e,d,k){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);return function(){function n(p,h){this.templateString=k["default"]}n.prototype.startup=function(){this.inherited(arguments);this.render()};n.prototype.setBackgroundColor=function(p){p=p.replace("ramp",this.baseColor);a["default"].setModifierClass(this.domNode,"home-page__link-color--",p)};n.prototype.render=function(){this.renderLinks();this.renderBackgroundColor()};
n.prototype.renderLinks=function(){var p=this;this.link.links.forEach(function(h,m){var f=document.createElement("a"),q=document.createElement("div");f.append(q);var B=p.sanitize(h.title),v=document.createElement("button");v.classList.add("link-dsp-button");v.setAttribute("aria-label",B);f.href=h.href;f.target="_blank";f.id="link_"+m;f.tabIndex=-1;if(p.link.images){var t=document.createElement("button");t.classList.add("link-image-button");t.title=B;t.setAttribute("aria-label",B);if(h.image){var u=
h.image.split(" ^ ");u=2===u.length?u[1]:u[0];u=p.useExplicitImgPath||u.match(/data:image/i)?u:p.fetchResourceUrl(u);t.style.backgroundImage="url("+u+")";t.style.backgroundSize="cover"}else t.innerHTML=e["default"].image["32"];q.append(t)}!1===p.link.showOutline&&v.classList.add("no-outline");v.innerHTML=B;q.append(v);p.preview&&(v.tabIndex=-1,v.addEventListener("click",p.preventClick),f.addEventListener("click",p.preventClick));p.domNode.querySelector(".links-container").append(f)})};n.prototype.renderBackgroundColor=
function(){this.useCustomStyles?(this.link.bgCustom=this.link.bgCustom||"white",this.setBackgroundColor(this.link.bgCustom)):this.setBackgroundColor(this.link.bgColor)};return n=b.__decorate([d["default"](c["default"])],n)}()})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/HomePageOverlay":function(){define("require exports tslib preact ../../../../../esriGeowConfig ../../../../dijit/Overlay ../../../../dijit/OverlayConfirm ../../../../home/sharedResources ./utils/homePageUtils ../../../../home/widgets/HomePageAboveHeader ../../../../home/widgets/HomePageBelowHeader ../../../../home/widgets/HomePageGallery ../../../../home/widgets/HomePageText ../../../../home/widgets/HomePageLinks ../../../../home/widgets/HomePageFooter ../../../../home/widgets/HomePageHeader ../../onboard/HomePageColorsOnboardOverlay ../../onboard/HomePageTypographyOnboardOverlay ./HomePagePreview ../../../../utils/icons ../../../../utils/organizationResources ../../../../utils/organization ../../../../utils/strings ../../../../pageUtil ../../../../utils/alerts ../../../../utils/dom ../../../../utils/validation ../../../../utils/device ../../../../utils/markdown ../../../../../sharing/util ../../../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick dijit/registry dijit/popup dojo/string dojo/on dojo/Deferred dojo/topic arcgisonline/pages/utils/clone esri/libs/sanitizer/Sanitizer dojo/i18n!../../../../../nls/arcgisonline dojo/text!./HomePageOverlay.html ../../../../components/ConfirmDialog ./components/StartAdmin ./components/HeaderAdmin ./components/HeaderLayoutAdmin ./components/ContentAdmin ./components/TextAdmin ./components/LinkAdmin ./components/GalleryAdmin ./components/FooterAdmin ./components/TypographyAdmin ./components/ColorsAdmin".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f,q,B,v,t,u,A,z,E,y,x,C,w,G,R,H,Z,F,da,V,ca,T,aa,D,L,J,Q,Y,X,I,S,N,P,ha,ia,ma,pa,ra,la,ua,qa,xa,ya){c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);q=b.__importDefault(q);B=b.__importDefault(B);v=b.__importDefault(v);t=b.__importDefault(t);u=b.__importDefault(u);A=b.__importDefault(A);z=b.__importDefault(z);E=b.__importDefault(E);y=b.__importDefault(y);
x=b.__importDefault(x);C=b.__importDefault(C);w=b.__importDefault(w);G=b.__importDefault(G);R=b.__importDefault(R);H=b.__importDefault(H);Z=b.__importDefault(Z);F=b.__importDefault(F);da=b.__importDefault(da);V=b.__importDefault(V);ca=b.__importDefault(ca);T=b.__importDefault(T);aa=b.__importDefault(aa);D=b.__importDefault(D);L=b.__importDefault(L);J=b.__importDefault(J);Q=b.__importDefault(Q);Y=b.__importDefault(Y);X=b.__importDefault(X);I=b.__importDefault(I);S=b.__importDefault(S);N=b.__importDefault(N);
P=b.__importDefault(P);ha=b.__importDefault(ha);ia=b.__importDefault(ia);ma=b.__importDefault(ma);pa=b.__importDefault(pa);ra=b.__importDefault(ra);la=b.__importDefault(la);ua=b.__importDefault(ua);qa=b.__importDefault(qa);xa=b.__importDefault(xa);ya=b.__importDefault(ya);return function(){function U(g,r){this.i18n=S["default"];this.icons=z["default"];this.unsavedChangesText=S["default"].orgHomePageSetup.unsaved;this.homePageFile="home.page.json";this.sanitizer=new I["default"];this.panelButtonListeners=
[];this.bodyMaxChars=1E3;this.footerMaxChars=this.galleryMaxChars=500;this.galleryTitleMaxChars=this.textTitleMaxChars=55;this.linkMax=8;this.linkImages={};this.galleryCount=0;this.editLinkIndex=null;this.contentWidgetArray=[];this.customColorDiv=document.createElement("div");this.groupTitles=[];this.groupSnippets=[];this.groupFeatured={};this.groupKeyedTitles={};this.groupFeaturedIds={};this.errors=[];this.currentView="desktop";this.alignLR=this.isLeftToRight()?S["default"].orgHomePageSetup.header.left:
S["default"].orgHomePageSetup.header.right;this.tempOrgHomePage={key:null,baseColor:"gs",useCustomStyles:!1,useCustomTypography:!1,typography:["default","default"],customTypography:["Avenir Next","Avenir Next"],header:{title:"",titleColor:"white",backgroundColor:"deprecated",showTitle:!0,titleLogoPos:"middle",titleLogoAlign:"center",logo:"",showLogo:!1,coverType:"stock",coverImg:"",showCoverImg:!0,coverImgStock:"1",coverImgLayout:"Half-height",coverImgPlacement:{x:"50%",y:"50%"},coverBGColor:"",headerCustom:"",
opacity:.45},content:[],footer:{showContact:!1,contact:"",showCopy:!1,copy:"",bgColor:"",bgCustom:""},customStyles:[]};this.state={page:"start",section:""};this.maxBlocks=15;this.maxStyles=4;this.textAreaCursor={start:0,end:0};this.updatingCustomCover=!1;this.inherited(arguments);this.portal=g.portal;this.telemetry=g.telemetry;this.title=S["default"].orgHomePageSetup.title;this.tempOrgHomePage.header.title=this.portal.name||"";this.overlayContents=L["default"].substitute(N["default"],{i18n:S["default"],
monitorIcon:z["default"].monitor["16"],tabletIcon:z["default"].tablet["16"],mobileIcon:z["default"].mobile["16"],warnIcon:z["default"]["exclamation-mark-triangle"]["16"]})}U.prototype.postCreate=function(){var g=this;this.device=new H["default"];this.markdown=this.markdown||Z["default"].getLinksOnlyMarkdownInstance();"organization"===(window.location&&window.location.pathname).replace(/^.*\//,"").replace(/\?.*$/,"").split(".html")[0]&&this.domNode.classList.add("is-org-page");this._overlayActionBar.classList.add("flex-center");
this._primaryBtn.id="homePageSaveButton";this.closeBtn.id="overlayCloseX";this.closeBtn.setAttribute("aria-label",S["default"].common.close);this.closeBtn.classList.add("tooltip");this.closeBtn.classList.add("tooltip-left");this.inherited(arguments);this._getGroupList();this.loadExistingHomePage().then(function(r){g.tempOrgHomePage=X["default"](r);g.tempOrgHomePage=k.updateLegacyConfiguration(g.tempOrgHomePage);g.galleryCount=g.tempOrgHomePage.content.filter(function(K){return"gallery"===K.type}).length;
g._mapContentColors();g.preview=new A["default"]({},g.domNode.querySelector(".js-preview"));g.contentContainer=g.preview.domNode.querySelector(".home-page__content");g._overlayActionBar.insertBefore(g.domNode.querySelector(".js-view-size"),g._overlayActionBar.childNodes[0]);g.tempOrgHomePage.key||(g.tempOrgHomePage.key=Date.now());g._leftBarDiv=g.domNode.querySelector(".home-page-overlay__left-panel");g.switchToNewBtn=g.domNode.querySelector(".js-switch-to-new");g._renderFirstLoad();g._renderPage();
g.closeBtn.focus();g.desktopBtn=g.domNode.querySelector(".js-desktop-btn");g.tabletBtn=g.domNode.querySelector(".js-tablet-btn");g.mobileBtn=g.domNode.querySelector(".js-mobile-btn");g.own(J["default"](g.desktopBtn,"click",function(){g.setPreviewMode(g.desktopBtn,"desktop")}),J["default"](g.tabletBtn,"click",function(){g.setPreviewMode(g.tabletBtn,"tablet")}),J["default"](g.mobileBtn,"click",function(){g.setPreviewMode(g.mobileBtn,"mobile")}),J["default"](g.desktopBtn,"mouseover",function(){g.setViewModeTip("desktop")}),
J["default"](g.tabletBtn,"mouseover",function(){g.setViewModeTip("tablet")}),J["default"](g.mobileBtn,"mouseover",function(){g.setViewModeTip("mobile")}),J["default"](g.desktopBtn,"focus",function(){g.setViewModeTip("desktop")}),J["default"](g.tabletBtn,"focus",function(){g.setViewModeTip("tablet")}),J["default"](g.mobileBtn,"focus",function(){g.setViewModeTip("mobile")}),T["default"](g._primaryBtn,function(){g.saveToHomePage().then(function(){y["default"].hasTransitionalHomePageEnabled(g.portal)&&
g.switchToModern()})}),T["default"](g.switchToNewBtn,g.switchAndSave.bind(g)));g.checkPreviewSize();y["default"].hasModernHomePageEnabled(g.portal)||y["default"].hasLegacyHomePageDefaults(g.portal)?G["default"].hideNode(g.switchToNewBtn.parentElement):(g._overlayActionBar.classList.add("home-page-overlay__action-bar-not-active"),g._leftBarDiv.classList.add("home-page-overlay__action-bar-not-active"))})};U.prototype.destroy=function(){this.destroyTooltipDialogs();var g=document.body.querySelector("#transitional-message");
g&&(a.render(null,g),document.body.removeChild(g));window.onbeforeunload=void 0;this.inherited(arguments)};U.prototype.open=function(){window.onbeforeunload=this.leavePageWarning.bind(this);this.inherited(arguments)};U.prototype.close=function(){this.ensureContentIsApplied();this.destroyTooltipDialogs();window.onbeforeunload=void 0;this.inherited(arguments)};U.prototype.confirmClose=function(){var g=this,r=new Q["default"],K=new d["default"]({title:S["default"].orgHomePageSetup.unsavedTitle,description:this.unsavedChangesText,
confirmText:S["default"].orgHomePageSetup.exitWithSave,cancelText:S["default"].orgHomePageSetup.exitNoSave,showClose:!0});this._overlay.appendChild(K.domNode);var M=!1;this.errors.forEach(function(ea){".contactEmail"===ea.errorField&&(M=!0,g.state.page="footer",g._renderPage())});K.show().then(function(ea){"onOk"===ea?M?(R["default"].setInvalidState(document.querySelector(".contactEmail"),document.querySelector(".invalid-email-address"),S["default"].orgHomePageSetup.footer.invalidEmail,!0),w["default"].showAlert("error",
S["default"].orgHomePageSetup.save.error),r.resolve(!1)):(g.tempOrgHomePage.header.logo!==g.orgHomePage.header.logo&&g.removeResource(g.tempOrgHomePage.header.logo),g.tempOrgHomePage.header.coverImg!==g.orgHomePage.header.coverImg&&g.removeResource(g.tempOrgHomePage.header.coverImg),g.saveToHomePage().then(function(){return r.resolve(!0)},function(){return r.resolve(!1)})):"onCancel"===ea?(k.useHomePageFonts(g.orgHomePage),g.orgHomePage.useCustomStyles&&g.orgHomePage.customStyles.forEach(function(na,
O){if(na){var ja=O+1;document.body.style.setProperty("--custom-homepage-color-"+ja+"-background",na.background);document.body.style.setProperty("--custom-homepage-color-"+ja+"-title",na.header);document.body.style.setProperty("--custom-homepage-color-"+ja+"-text",na.text);document.body.style.setProperty("--custom-homepage-color-"+ja+"-button",na.button)}}),r.resolve(!0)):"onClose"===ea&&r.resolve(!1)});return r};U.prototype.leavePageWarning=function(g){var r=this.i18n.orgHomePageSetup.leavePage;g&&
(g.returnValue=r);return r};U.prototype.setActiveSize=function(g){g.classList.add("home-page-overlay__view-size-btn--active")};U.prototype.clearActiveSize=function(g){g.classList.remove("home-page-overlay__view-size-btn--active")};U.prototype._renderFirstLoad=function(){this.initTransitionalUI();this._initCustomStyles();this.aboveHeaderWidget=new p["default"]({header:this.tempOrgHomePage.header,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,preview:!0,baseColor:this.tempOrgHomePage.baseColor||
"gs"},this.domNode.querySelector(".home-page__above-header"));this.aboveHeaderWidget.startup();this.headerWidget=new v["default"]({header:this.tempOrgHomePage.header,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,preview:!0,baseColor:this.tempOrgHomePage.baseColor||"gs",useCustomStyles:this.tempOrgHomePage.useCustomStyles,customStyles:this.tempOrgHomePage.customStyles},this.domNode.querySelector(".home-page__header"));this.headerWidget.startup();this.belowHeaderWidget=new h["default"]({header:this.tempOrgHomePage.header,
portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,preview:!0,baseColor:this.tempOrgHomePage.baseColor||"gs",useCustomStyles:this.tempOrgHomePage.useCustomStyles},this.domNode.querySelector(".home-page__below-header"));this.belowHeaderWidget.startup();this._setOrgTitleColor();this.footerWidget=new B["default"]({footer:this.tempOrgHomePage.footer,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,preview:!0,baseColor:this.tempOrgHomePage.baseColor||"gs",useCustomStyles:this.tempOrgHomePage.useCustomStyles},
this.domNode.querySelector(".home-page__footer"));this.tempOrgHomePage.customStyles||(this.tempOrgHomePage.customStyles=[]);this.footerWidget.startup();this.closeBtn.blur();k.useHomePageFonts(this.tempOrgHomePage);document.querySelector(".custom-color-overlay")?this.customColorDiv=document.querySelector(".custom-color-overlay"):(this.customColorDiv.classList.add("custom-color-overlay"),this.customColorDiv.classList.add("hide"),document.querySelector("body").append(this.customColorDiv))};U.prototype.onHeaderChange=
function(g,r){var K;this.isSectionButton=!1;this._unsavedChanges=!0;var M=this.tempOrgHomePage.header,ea=this.aboveHeaderWidget,na=this.headerWidget,O=this.belowHeaderWidget;"titleLogoPos"!==g&&"above"!==this.tempOrgHomePage.header.titleLogoPos&&this.setContentScrollTop(this.headerWidget.domNode);switch(g){case "showTitle":M.showTitle=r;ea.showTitle(r);na.showTitle(r);O.showTitle(r);break;case "title":M.title=this.stripHTML(r);ea.setTitle(M.title);na.setTitle(M.title);O.setTitle(M.title);break;case "color":this.tempOrgHomePage.useCustomStyles?
M.headerCustom=r:M.backgroundColor=r;this._setOrgTitleColor();break;case "showLogo":M.showLogo=r;ea.showLogo(r);na.showLogo(r);O.showLogo(r);break;case "logo":this.logoFileName=r.fileName;this.removeError(".home-page__logo-inputs");this.tempOrgHomePage.header.showLogo=!0;this.logoBlob=r.blob;this.tempOrgHomePage.header.logo=r.logoURI;ea.setLogo(r.logoURI);na.setLogo(r.logoURI);O.setLogo(r.logoURI);ea.showLogo(!0);na.showLogo(!0);O.showLogo(!0);break;case "logoError":this.chkLogoError();break;case "coverType":M.coverType=
r;"custom"===r?(this.removeError(".home-page__custom-image-inputs"),(null===(K=this.tempOrgHomePage.header.coverImg)||void 0===K?0:K.length)&&this.tempOrgHomePage.header.showCoverImg?(K=this.tempOrgHomePage.header.coverImg.match(/^url/)?this.tempOrgHomePage.header.coverImg:this._fetchResourceUrl(this.tempOrgHomePage.header.coverImg),this.lastBackgroundImage=this.tempOrgHomePage.header.coverImg.match(/^url/)?K:"url("+K+")",this.headerWidget.setCoverImage(this.lastBackgroundImage),this.coverURI=K):
this.errorCheckImages("custom")):(this.removeError(".home-page__custom-image-inputs"),this.tempOrgHomePage.header.showCoverImg&&(K=""+F["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background-"+this.tempOrgHomePage.header.coverImgStock+".jpg"),this.headerWidget.setCoverImage("url("+K+")")));break;case "coverImg":this.coverExt=r.format;this.coverBlob=r.blob;this.removeError(".home-page__custom-image-inputs");this.tempOrgHomePage.header.showCoverImg=!0;this.tempOrgHomePage.header.coverImg=
r.lastBackgroundImage;this.coverURI=r.lastBackgroundImage.replace(/^url\(/,"").replace(/\)$/,"");this.headerWidget.setCoverImage(r.lastBackgroundImage);break;case "showCoverImg":this.tempOrgHomePage.header.showCoverImg=r;na.setCoverImage(r?this.tempOrgHomePage.header.coverImgLayout:"none");this.onHeaderChange("coverType",this.tempOrgHomePage.header.coverType);break;case "coverImgStock":this.useStockImage(r);break;case "titleLogoPos":this.aboveHeaderWidget.setTitleAndLogoPlacement(r);this.headerWidget.setTitleAndLogoPlacement(r);
this.belowHeaderWidget.setTitleAndLogoPlacement(r);if("above"===r||"below"===r)this.tempOrgHomePage.header.opacity=0,this._userCoverImgOpacity(0);else if("above"===this.tempOrgHomePage.header.titleLogoPos||"below"===this.tempOrgHomePage.header.titleLogoPos)this.tempOrgHomePage.header.opacity=.45,this._userCoverImgOpacity(.45);this.tempOrgHomePage.header.titleLogoPos=r;this.calculateHeaderHeight();this._renderPage();break;case "titleLogoAlign":this.tempOrgHomePage.header.titleLogoAlign=r;this.aboveHeaderWidget.setTitleAndLogoAlignment(r);
this.headerWidget.setTitleAndLogoAlignment(r);this.belowHeaderWidget.setTitleAndLogoAlignment(r);break;case "opacity":this.tempOrgHomePage.header.opacity=r;this.headerWidget.setOpacity(r);break;case "coverImgLayout":this.tempOrgHomePage.header.coverImgLayout=r;this.headerWidget.setCoverImageLayout(r);this.calculateHeaderHeight();break;case "coverImgPlacement":this.tempOrgHomePage.header.coverImgPlacement=r,this._userCoverImgPlacement(r)}};U.prototype.onContentChange=function(g,r){this.isSectionButton=
!1;var K=this.tempOrgHomePage.content;switch(g){case "order":this._unsavedChanges=!0;this.tempOrgHomePage.content=r;this._drawContent();break;case "edit":this.editIndex=r;this.state.page=this.tempOrgHomePage.content[r].type+"-edit";"text-edit"===this.state.page?this.text=this.tempOrgHomePage.content[r]:"link-edit"===this.state.page?this.link=this.tempOrgHomePage.content[r]:this.gallery=this.tempOrgHomePage.content[r];this._renderPage();break;case "addText":this.text=null;this.state.page="text";this._renderPage();
break;case "addGallery":this.gallery=null;this.state.page="gallery";this._renderPage();break;case "addLink":this.link=null;this.state.page="link";this._renderPage();break;case "delete":this._unsavedChanges=!0,K.splice(parseInt(r,10),1),this.tempOrgHomePage.content=K,this.state.page="content",this._renderPage()}};U.prototype.onTextChange=function(g,r){this.isSectionButton=!1;this._setContentScroll(this.editIndex);this._unsavedChanges=!0;var K=this.setTextListenerContent(r.index),M=K.contItem;K=K.widge;
switch(g){case "showTitle":M.showTitle=null===r||void 0===r?void 0:r.state;K.showTitle(null===r||void 0===r?void 0:r.state);break;case "title":M.title=this.stripHTML(null===r||void 0===r?void 0:r.title);K.setTitle(this.stripHTML(null===r||void 0===r?void 0:r.title));break;case "showBody":M.showBody=null===r||void 0===r?void 0:r.state;K.showBody(null===r||void 0===r?void 0:r.state);break;case "body":M.body=this.stripHTML(null===r||void 0===r?void 0:r.body);K.setBody(this.stripHTML(null===r||void 0===
r?void 0:r.body));break;case "alignment":M.alignment=null===r||void 0===r?void 0:r.align;K.setAlignment(null===r||void 0===r?void 0:r.align);break;case "color":this.tempOrgHomePage.useCustomStyles?M.bgCustom=r.color:M.bgColor=r.color,K.setBackgroundColor(r.color)}};U.prototype.onLinksChange=function(g,r){this.isSectionButton=!1;this._setContentScroll(this.editIndex);if(!r&&0!==r)return!1;this._unsavedChanges=!0;var K=this.setLinkListenerContent(r.index),M=K.contItem;K=K.widge;switch(g){case "links":M.links=
r.links;this.link=M;this._drawContent();this._setContentScroll(r.index);break;case "linkImages":if(!("linkImages"in r)&&r.linkImages)return!1;M=0;for(K=Object.entries(r.linkImages);M<K.length;M++){var ea=K[M];this.linkImages[ea[0]]=ea[1]}break;case "color":this.tempOrgHomePage.useCustomStyles?M.bgCustom=r.color:M.bgColor=r.color;K.setBackgroundColor(r.color);break;case "images":M.images=r.images;this._drawContent();break;case "showOutline":M.showOutline=r.showOutline;this._drawContent();break;case "noLinks":this.onContentChange("delete",
r);break;case "hasLinks":this.state.page="content",this._renderPage()}};U.prototype.onGalleryChange=function(g,r){this.isSectionButton=!1;this._unsavedChanges=!0;var K=this.setGalleryListenerContent(r.index),M=K.contItem;K=K.widge;this._setContentScroll(this.editIndex);switch(g){case "groupId":M.groupId=r.value;this.gallery=M;K.setGroupID(r.value);break;case "showViewLink":M.showViewLink=r.value;this.gallery=M;K.showViewLink(r.value);break;case "sortField":M.sortField=r.value;this.gallery=M;K.setSortField(r.value);
break;case "sortAsc":M.sortAsc=r.value;this.gallery=M;K.setSortAsc(r.value);break;case "itemType":M.itemType=r.value;this.gallery=M;K.setItemType(r.value,r.callback);break;case "title":M.title=r.value;this.gallery=M;K.setTitle(r.value);break;case "showTitle":M.showTitle=r.value;this.gallery=M;K.showTitle(r.value);K.setTitle(M.title);break;case "summary":M.summary=r.value;this.gallery=M;K.setSummary(r.value);break;case "showSummary":M.showSummary=r.value;this.gallery=M;K.showSummary(r.value);break;
case "alignment":M.alignment=r.value;this.gallery=M;K.setAlignment(r.value);break;case "showItemThumb":M.showItemThumb=r.value;this.gallery=M;K.showItemThumb(r.value);break;case "showItemTitle":M.showItemTitle=r.value;this.gallery=M;K.showItemTitle(r.value);break;case "showItemSummary":M.showItemSummary=r.value;this.gallery=M;K.showItemSummary(r.value);break;case "showItemType":M.showItemType=r.value;this.gallery=M;K.showItemType(r.value);break;case "numItems":M.numItems=r.value;this.gallery=M;K.setNumItems(r.value);
break;case "color":this.tempOrgHomePage.useCustomStyles?M.bgCustom=r.color:M.bgColor=r.color,K.setBackgroundColor(r.color)}};U.prototype.onFooterChange=function(g,r){this.isSectionButton=!1;this.setContentScrollTop(this.footerWidget.domNode);switch(g){case "copy":this._unsavedChanges=!0;this.tempOrgHomePage.footer.copy=r;this.footerWidget.setCopy(r);break;case "contact":this._unsavedChanges=!0;this.tempOrgHomePage.footer.contact=r;this.footerWidget.setContact(r);break;case "showContact":this._unsavedChanges=
!0;this.tempOrgHomePage.footer.showContact=r;this.footerWidget.showContact(r);break;case "showCopy":this._unsavedChanges=!0;this.tempOrgHomePage.footer.showCopy=r;this.footerWidget.showCopy(r);break;case "contactBlur":r?(this.tempOrgHomePage.footer.contact=this.stripHTML(r).replace(/(\s|\t|\n|\f)+/g,""),this.updateContactEmail(null,!0,0===this.tempOrgHomePage.footer.contact.length)):this.removeError(".contactEmail");break;case "color":this._unsavedChanges=!0,this.tempOrgHomePage.useCustomStyles?(this.tempOrgHomePage.footer.bgCustom=
r,this.footerWidget.setBackgroundColor(null,r,!0)):(this.tempOrgHomePage.footer.bgColor=r,this.footerWidget.setBackgroundColor(r,null,!1))}};U.prototype.onTypographyChange=function(g,r){this.isSectionButton=!1;this._unsavedChanges=!0;switch(g){case "useCustomTypography":this.tempOrgHomePage.useCustomTypography=r;k.useHomePageFonts(this.tempOrgHomePage);break;case "typography":this.tempOrgHomePage.typography=r;k.useHomePageFonts(this.tempOrgHomePage);break;case "customTypography":this.tempOrgHomePage.customTypography=
r;k.useHomePageFonts(this.tempOrgHomePage);break;case "typographyOnboard":this.openTypographyOnboarding()}};U.prototype.onColorsChange=function(g,r){this.isSectionButton=!1;this._unsavedChanges=!0;switch(g){case "customColorSectionChange":if("header"===r.section)this.onHeaderChange("color",r.value);else if("footer"===r.section)this.onFooterChange("color",r.value);else{var K=r.section.split(":"),M=this.setGalleryListenerContent(K[1]).contItem;this._setContentScroll(K[1]);M=M.type;if("gallery"===M)this.onGalleryChange("color",
{index:K[1],color:r.value});else if("text"===M)this.onTextChange("color",{index:K[1],color:r.value});else if("link"===M)this.onLinksChange("color",{index:K[1],color:r.value})}break;case "baseColor":this.tempOrgHomePage.baseColor=r;this.footerWidget.baseColor=r;this._renderPage();break;case "customStyles":this.tempOrgHomePage.customStyles=r;k.writeCustomStyles(this.tempOrgHomePage.customStyles);this._renderPage();break;case "useCustomStyles":this.tempOrgHomePage.useCustomStyles=r;this._renderPage();
break;case "customColorsDelete":this.tempOrgHomePage.customStyles=r;break;case "customColorsDeleteFromWarn":this.tempOrgHomePage.header=r.header;this.tempOrgHomePage.content=r.content;this.tempOrgHomePage.footer=r.footer;this._renderPage();break;case "colorOnboard":this.openColorsOnboarding()}};U.prototype.setTextListenerContent=function(g){this.editIndex=g;return{contItem:this.tempOrgHomePage.content[g],widge:this.contentWidgetArray[g]}};U.prototype.setLinkListenerContent=function(g){this.editIndex=
g;return{contItem:this.tempOrgHomePage.content[g],widge:this.contentWidgetArray[g]}};U.prototype.setGalleryListenerContent=function(g){this.editIndex=g;return{contItem:this.tempOrgHomePage.content[g],widge:this.contentWidgetArray[g]}};U.prototype.initTransitionalUI=function(){if(y["default"].hasTransitionalHomePageEnabled(this.portal)&&(G["default"].hideNode(this.switchToNewBtn.parentElement),this.hasSavedConfig)){var g=document.createElement("div");g.id="transitional-message";document.body.appendChild(g);
var r=S["default"].orgHomePageSetup.transition,K=function(){};a.render(a.h(P["default"],{strings:{title:r.title,description:r.description,ok:S["default"].common.ok,close:S["default"].common.close},onCancel:K,onOk:K,autoCloseOnOk:!0,hideCancel:!0}),g);g.firstElementChild.classList.add("bring-modal-to-front")}};U.prototype._renderPage=function(){if("start"===this.state.page)this._renderStart();else if("header"===this.state.page)this._renderHeader();else if(this.state.page.match(/^cover/)){var g=this.state.page.split("-");
this.state.page="cover";this.state.section=g[1];this._renderCover()}else this.state.page.match(/^content/)?(this._leftBarDiv.innerHTML="","content"===this.state.page&&(this.gallery=null),g=this.state.page.split("-"),this.state.page="content",1<g.length&&("gallery"===g[1]?"cancel"===g[2]&&this.removeLastRow():"text"===g[1]&&"cancel"===g[2]&&this.removeLastRow()),this._renderContent()):"footer"===this.state.page?this._renderFooter():"gallery"===this.state.page?this._renderGallery():"text"===this.state.page?
this._renderText():"link"===this.state.page?this._renderLink():"styles"===this.state.page?this._renderStyles():"typography"===this.state.page?this._renderTypography():"link-change"===this.state.page?this._renderLink(this.link):"gallery-edit"===this.state.page?this._renderGallery(this.gallery):"text-edit"===this.state.page?this._renderText(this.text):"link-edit"===this.state.page&&this._renderLink(this.link);this._addButtonListeners();"text"!==this.state.page&&"text-edit"!==this.state.page&&"gallery"!==
this.state.page&&"gallery-edit"!==this.state.page&&"link"!==this.state.page&&"link-edit"!==this.state.page&&this._drawContent();this.calculateHeaderHeight()};U.prototype._renderStart=function(){this._leftBarDiv.innerHTML="";a.render(a.h(ha["default"],{}),this._leftBarDiv)};U.prototype._renderHeader=function(){var g=this;this._leftBarDiv.innerHTML="";var r=this.sectionErrorChk(this.state.page);a.render(a.h(ia["default"],{HP:this.tempOrgHomePage,onHeaderChange:this.onHeaderChange.bind(this),onCustColorChange:this.onColorsChange.bind(this),
customColorDiv:this.customColorDiv,portal:this.portal,key:Date.now()}),this._leftBarDiv);"above"!==this.tempOrgHomePage.header.titleLogoPos&&setTimeout(function(){g.setContentScrollTop(g.headerWidget.domNode);g.domNode.querySelector(".setup-container .org-button.back-button").focus()},700);this.showErrors(r);this.calculateHeaderHeight()};U.prototype._renderText=function(g){g?(this._leftBarDiv.innerHTML="",g=this.sectionErrorChk(this.state.page),a.render(a.h(ra["default"],{portal:this.portal,HP:this.tempOrgHomePage,
index:this.editIndex,onTextChange:this.onTextChange.bind(this),onCustColorChange:this.onColorsChange.bind(this),customColorDiv:this.customColorDiv,key:Date.now()}),this._leftBarDiv),this.showErrors(g),this._setContentScroll(this.editIndex)):(this.text={type:"text",title:S["default"].orgHomePageSetup.galleryText.defaultTextTitle,showTitle:!0,body:S["default"].orgHomePageSetup.galleryText.defaultTextBody,showBody:!0,alignment:"left",bgColor:"medium-ramp",bgCustom:"dark-gray"},this.tempOrgHomePage.content.unshift(this.text),
this.editIndex=0,this.state.page="text-edit",this._drawContent(),this._renderPage())};U.prototype._renderFooter=function(){var g=this;this._leftBarDiv.innerHTML="";var r=this.sectionErrorChk(this.state.page);this.footerWidget.setCopy(this.tempOrgHomePage.footer.copy||"");a.render(a.h(qa["default"],{portal:this.portal,HP:this.tempOrgHomePage,onFooterChange:this.onFooterChange.bind(this),onCustColorChange:this.onColorsChange.bind(this),customColorDiv:this.customColorDiv,key:Date.now()}),this._leftBarDiv);
setTimeout(function(){g.setContentScrollTop(g.footerWidget.domNode)},700);this.showErrors(r)};U.prototype._renderCover=function(){var g=this;this._leftBarDiv.innerHTML="";var r=this.sectionErrorChk(this.state.page);a.render(a.h(ma["default"],{HP:this.tempOrgHomePage,LTR:this.isLeftToRight(),coverURI:this.coverURI,onHeaderChange:this.onHeaderChange.bind(this)}),this._leftBarDiv);"above"!==this.tempOrgHomePage.header.titleLogoPos&&setTimeout(function(){g.setContentScrollTop(g.headerWidget.domNode)},
700);this.showErrors(r);this.calculateHeaderHeight()};U.prototype._renderContent=function(){this._leftBarDiv.innerHTML="";a.render(a.h(pa["default"],{portal:this.portal,HP:this.tempOrgHomePage,onContentChange:this.onContentChange.bind(this),groupKeyedTitles:this.groupKeyedTitles}),this._leftBarDiv)};U.prototype._renderStyles=function(){a.render(a.h(ya["default"],{portal:this.portal,HP:this.tempOrgHomePage,onColorsChange:this.onColorsChange.bind(this),key:Date.now()}),this._leftBarDiv)};U.prototype._renderTypography=
function(){a.render(a.h(xa["default"],{HP:this.tempOrgHomePage,onTypographyChange:this.onTypographyChange.bind(this)}),this._leftBarDiv)};U.prototype._mapContentColors=function(){var g=this,r,K,M,ea,na,O,ja,ka,sa,za,Da;if(this.tempOrgHomePage.useCustomStyles)this.tempOrgHomePage.header.headerCustom?(null===(r=this.tempOrgHomePage.header.headerCustom)||void 0===r?0:r.match(/(custom|gray|black|white)[0-9]?$/i))?"white-ramp"===this.tempOrgHomePage.header.headerCustom?this.tempOrgHomePage.header.headerCustom=
"white":"light-ramp"===this.tempOrgHomePage.header.headerCustom?this.tempOrgHomePage.header.headerCustom="light-gray":"medium-ramp"===this.tempOrgHomePage.header.headerCustom?this.tempOrgHomePage.header.headerCustom="dark-gray":"dark-ramp"===this.tempOrgHomePage.header.headerCustom&&(this.tempOrgHomePage.header.headerCustom="black"):(null===(K=this.tempOrgHomePage.header.backgroundColor)||void 0===K?0:K.match(/(gray|black|white)$/))?this.tempOrgHomePage.header.headerCustom=this.tempOrgHomePage.header.backgroundColor:
0<=(null===(M=this.tempOrgHomePage.header.backgroundColor)||void 0===M?void 0:M.indexOf("ramp"))&&("white-ramp"===this.tempOrgHomePage.header.backgroundColor?this.tempOrgHomePage.header.headerCustom="white":"light-ramp"===this.tempOrgHomePage.header.backgroundColor?this.tempOrgHomePage.header.headerCustom="light-gray":"medium-ramp"===this.tempOrgHomePage.header.backgroundColor?this.tempOrgHomePage.header.headerCustom="dark-gray":"dark-ramp"===this.tempOrgHomePage.header.backgroundColor&&(this.tempOrgHomePage.header.headerCustom=
"black")):this.tempOrgHomePage.header.headerCustom="black",this.tempOrgHomePage.footer.bgCustom?(null===(ea=this.tempOrgHomePage.footer.bgCustom)||void 0===ea?0:ea.match(/(custom|gray|black|white)[0-9]?$/i))?"white-ramp"===this.tempOrgHomePage.footer.bgCustom?this.tempOrgHomePage.footer.bgCustom="white":"light-ramp"===this.tempOrgHomePage.footer.bgCustom?this.tempOrgHomePage.footer.bgCustom="light-gray":"medium-ramp"===this.tempOrgHomePage.footer.bgCustom?this.tempOrgHomePage.footer.bgCustom="dark-gray":
"dark-ramp"===this.tempOrgHomePage.footer.bgCustom&&(this.tempOrgHomePage.footer.bgCustom="black"):(null===(na=this.tempOrgHomePage.footer.bgColor)||void 0===na?0:na.match(/(gray|black|white)$/))?this.tempOrgHomePage.footer.bgCustom=this.tempOrgHomePage.footer.bgColor:0<=this.tempOrgHomePage.footer.bgColor.indexOf("ramp")&&("white-ramp"===this.tempOrgHomePage.footer.bgColor?this.tempOrgHomePage.footer.bgCustom="white":"light-ramp"===this.tempOrgHomePage.footer.bgColor?this.tempOrgHomePage.footer.bgCustom=
"light-gray":"medium-ramp"===this.tempOrgHomePage.footer.bgColor?this.tempOrgHomePage.footer.bgCustom="dark-gray":"dark-ramp"===this.tempOrgHomePage.footer.bgColor&&(this.tempOrgHomePage.footer.bgCustom="black")):this.tempOrgHomePage.footer.bgCustom="light-gray",this.tempOrgHomePage.content.forEach(function(wa,ta){var Aa,Ea,W;wa.bgCustom?(null===(Aa=wa.bgCustom)||void 0===Aa?0:Aa.match(/(custom|gray|black|white)[0-9]?$/i))?"white-ramp"===wa.bgCustom?g.tempOrgHomePage.content[ta].bgCustom="white":
"light-ramp"===wa.bgCustom?g.tempOrgHomePage.content[ta].bgCustom="light-gray":"medium-ramp"===wa.bgCustom?g.tempOrgHomePage.content[ta].bgCustom="dark-gray":"dark-ramp"===wa.bgCustom&&(g.tempOrgHomePage.content[ta].bgCustom="light-gray"):(null===(Ea=wa.bgColor)||void 0===Ea?0:Ea.match(/(gray|black|white)$/))?g.tempOrgHomePage.content[ta].bgCustom=g.tempOrgHomePage.content[ta].bgColor:0<=(null===(W=wa.bgColor)||void 0===W?void 0:W.indexOf("ramp"))&&("white-ramp"===wa.bgColor?g.tempOrgHomePage.content[ta].bgCustom=
"white":"light-ramp"===wa.bgColor?g.tempOrgHomePage.content[ta].bgCustom="light-gray":"medium-ramp"===wa.bgColor?g.tempOrgHomePage.content[ta].bgCustom="dark-gray":"dark-ramp"===wa.bgColor&&(g.tempOrgHomePage.content[ta].bgCustom="black")):g.tempOrgHomePage.content[ta].bgCustom="white"});else{if((null===(O=this.tempOrgHomePage.header.backgroundColor)||void 0===O?0:O.match(/(custom)/))||!this.tempOrgHomePage.header.backgroundColor)(null===(ja=this.tempOrgHomePage.header.headerCustom)||void 0===ja?
0:ja.match(/(gray|black|white)$/))||(null===(ka=this.tempOrgHomePage.header.headerCustom)||void 0===ka?0:ka.match(/ramp/))?this.tempOrgHomePage.header.backgroundColor=this.tempOrgHomePage.header.headerCustom:!this.tempOrgHomePage.header.backgroundColor&&this.tempOrgHomePage.header.headerCustom.match(/(custom)/i)?this.tempOrgHomePage.header.backgroundColor=this._mapCustomToRamp(this.tempOrgHomePage.header.headerCustom):this.tempOrgHomePage.header.backgroundColor="black";if((null===(sa=this.tempOrgHomePage.footer.bgColor)||
void 0===sa?0:sa.match(/(custom)/))||!this.tempOrgHomePage.footer.bgColor)(null===(za=this.tempOrgHomePage.footer.bgCustom)||void 0===za?0:za.match(/(gray|black|white)$/))||(null===(Da=this.tempOrgHomePage.footer.bgCustom)||void 0===Da?0:Da.match(/ramp/))?this.tempOrgHomePage.footer.bgColor=this.tempOrgHomePage.footer.bgCustom:!this.tempOrgHomePage.footer.bgColor&&this.tempOrgHomePage.footer.bgCustom.match(/(custom)/i)?this.tempOrgHomePage.footer.bgColor=this._mapCustomToRamp(this.tempOrgHomePage.footer.bgCustom):
this.tempOrgHomePage.footer.bgColor="light-ramp";this.tempOrgHomePage.content.forEach(function(wa,ta){var Aa,Ea,W;if((null===(Aa=wa.bgColor)||void 0===Aa?0:Aa.match(/(custom)/))||!wa.bgColor)(null===(Ea=wa.bgCustom)||void 0===Ea?0:Ea.match(/(gray|black|white)$/))||(null===(W=wa.bgCustom)||void 0===W?0:W.match(/ramp/))?g.tempOrgHomePage.content[ta].bgColor=wa.bgCustom:!g.tempOrgHomePage.content[ta].bgColor&&g.tempOrgHomePage.content[ta].bgCustom.match(/(custom)/i)?g.tempOrgHomePage.content[ta].bgColor=
g._mapCustomToRamp(g.tempOrgHomePage.content[ta].bgCustom):g.tempOrgHomePage.content[ta].bgColor="white"})}};U.prototype._mapCustomToRamp=function(g){return"custom1"===g?"white-ramp":"custom2"===g?"light-ramp":"custom3"===g?"medium-ramp":"dark-ramp"};U.prototype._initCustomStyles=function(){k.writeCustomStyles(this.tempOrgHomePage.customStyles)};U.prototype._setContentScroll=function(g){if(this.domNode){var r=this.domNode.querySelectorAll(".home-page__content\x3ediv.home-page__content-block");this.setContentScrollTop(r.item(g))}};
U.prototype._renderLink=function(g){var r=this;this._leftBarDiv.innerHTML="";if(!g)return this.link={type:"link",showOutline:!1,bgColor:"light-ramp",bgCustom:"light-gray",links:[]},this.tempOrgHomePage.content.unshift(this.link),this.editIndex=0,this.state.page="link-edit",this._drawContent(),this._renderPage(),!1;a.render(a.h(la["default"],{HP:this.tempOrgHomePage,linkValues:g,index:this.editIndex,portal:this.portal,onLinksChange:this.onLinksChange.bind(this),onCustColorChange:this.onColorsChange.bind(this),
customColorDiv:this.customColorDiv,key:Date.now()}),this._leftBarDiv);setTimeout(function(){r._setContentScroll(r.editIndex)},100)};U.prototype._renderGallery=function(g){var r;if(g){this._leftBarDiv.innerHTML="";var K=this.sectionErrorChk(this.state.page);var M=this.editIndex;var ea=this.gallery.title+Date.now();a.render(a.h(ua["default"],{portal:this.portal,HP:this.tempOrgHomePage,index:M,onGalleryChange:this.onGalleryChange.bind(this),onCustColorChange:this.onColorsChange.bind(this),key:ea,customColorDiv:this.customColorDiv,
defaultSummary:this.defaultGroupSummary,groups:this._groups}),this._leftBarDiv);this.showErrors(K);this._setContentScroll(this.editIndex)}else g=(null===(K=this._groups[0])||void 0===K?void 0:K.snippet)||"",this.gallery={type:"gallery",groupId:null===(M=this._groups[0])||void 0===M?void 0:M.id,showViewLink:!1,sortField:"title",sortAsc:!0,itemType:"All",id:"",title:(null===(r=null===(ea=this._groups[0])||void 0===ea?void 0:ea.title)||void 0===r?void 0:r.substring(0,55))||"",showTitle:!0,summary:g,
showSummary:!0,alignment:this.gallery?this.gallery.alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!0,showItemType:!0,bgColor:"white-ramp",bgCustom:"white",numItems:4},this.tempOrgHomePage.content.unshift(this.gallery),this.editIndex=0,this.state.page="gallery-edit",this._drawContent(),this._renderPage()};U.prototype._getGroupList=function(){var g=this;this.getGroups().then(function(r){var K,M;g._groups=r;r.length&&(g.defaultGroupName=(null===(K=g._groups[0].title)||void 0===K?
void 0:K.substring(0,55))||"",g.defaultGroupSummary=g._groups[0].snippet,g.defaultGroupFeatured=null===(M=g._groups[0].properties)||void 0===M?void 0:M.isFeatured);r.forEach(function(ea){var na,O;g.groupTitles.push(ea.title.substring(0,55));g.groupKeyedTitles[ea.id]=ea.title.substring(0,55);g.groupSnippets.push(ea.snippet);g.groupFeatured[ea.id]=null===(na=ea.properties)||void 0===na?void 0:na.isFeatured;g.groupFeaturedIds[ea.id]=(null===(O=ea.properties)||void 0===O?void 0:O.featuredItemIds)||[]})})};
U.prototype.getGroups=function(){return C["default"].fetchAllResources(c["default"].restBaseUrl+"/community/groups",{q:"orgid:"+this.portal.id+' AND (-owner:"esri_nav" -owner:"esri_boundaries" -owner:"esri_demographics" -owner:"esri_livingatlas") AND (access:org OR access:public)',sortField:"title",sortOrder:"asc"})};U.prototype.destroyTooltipDialogs=function(){this.customColorsOnboard&&(D["default"].close(this.customColorsOnboard),this.customColorsOnboard.destroy(),this.customColorsOnboard=void 0);
this.typoCustomizationOnboard&&(D["default"].close(this.typoCustomizationOnboard),this.typoCustomizationOnboard.destroy(),this.typoCustomizationOnboard=void 0)};U.prototype._addButtonListeners=function(){var g=this;this.panelButtonListeners.forEach(function(K){return K.remove()});var r=this.domNode.querySelectorAll(".org-button, .step-header");G["default"].forEachNode(r,function(K){g.panelButtonListeners.push(T["default"](K,function(M){g.isSectionButton=!0;g._findAction(M.target);g.contentContainer.scrollTop=
0;g._leftBarDiv.scrollTop=0;g.destroyTooltipDialogs()}))})};U.prototype._findAction=function(g,r){g=g.closest(".org-button:not(.link-section-button)");if(!g)return!1;r||(r=!1);if(-1<g.dataset.action.indexOf("gallery")&&0===this._groups.length)return!1;g!==document.body&&(this.state.page=g.dataset.action,this._renderPage());return null};U.prototype.removeResource=function(g){return F["default"].request({url:c["default"].restBaseUrl+"portals/self/removeResource",content:{key:g}},{usePost:!0})};U.prototype._fetchResourceUrl=
function(g){return c["default"].restBaseUrl+"portals/self/resources/"+g+"?nocache\x3d"+Date.now()+"\x26token\x3d"+F["default"].getToken()};U.prototype._clearContent=function(){this.contentWidgetArray.forEach(function(r){r.destroyRecursive()});if(this.domNode){var g=this.domNode.querySelectorAll(".home-page-overlay__content .home-page__gallery, .home-page-overlay__content .home-page__text, .home-page-overlay__content .home-page__link, .home-page-overlay__content .home-page-group-div");G["default"].forEachNode(g,
function(r){r.remove()})}};U.prototype._drawContent=function(){var g=this;this._clearContent();var r=document.querySelector(".home-page-overlay__content .home-page__below-header"),K=document.querySelector(".home-page-overlay__content .home-page__footer"),M=this.tempOrgHomePage.content;this.contentWidgetArray=[];M.forEach(function(ea,na){var O,ja;if("gallery"===ea.type){var ka="group"+(null===(O=ea.title)||void 0===O?void 0:O.replace(/[^a-zA-Z]/g,""))+ea.groupId+"-"+na;g.destroyDijit([ka]);O=document.createElement("div");
O.id=ka;O.classList.add("home-page-group-div");r.insertAdjacentElement("afterend",O);g.contentContainer.insertBefore(O,K);O=new m["default"]({gallery:ea,portal:g.portal,sanitizer:g.sanitizer,markdown:g.markdown,preview:!0,baseColor:g.tempOrgHomePage.baseColor,useCustomStyles:g.tempOrgHomePage.useCustomStyles},O);O.startup();g.contentWidgetArray.push(O)}else if("link"===ea.type){if(!ea.links||0===(null===(ja=ea.links)||void 0===ja?void 0:ja.length))return!1;ka="link"+ea.links[0].title.replace(/[^0-9a-zA-Z]+/g,
"")+na;O=document.createElement("div");O.classList.add("home-page__link");O.id=ka;r.insertAdjacentElement("afterend",O);g.contentContainer.insertBefore(O,K);ka=new q["default"]({link:ea,portal:g.portal,sanitizer:g.sanitizer,markdown:g.markdown,preview:!0,baseColor:g.tempOrgHomePage.baseColor||"gs",useCustomStyles:g.tempOrgHomePage.useCustomStyles},O);ka.startup();g.contentWidgetArray.push(ka);O.innerHTML=ea.links[0].title}else O="text"+(null===(ka=ea.title)||void 0===ka?void 0:ka.replace(/[^a-zA-Z]/g,
""))+"-"+na,g.destroyDijit([O]),ka=document.createElement("div"),ka.id=O,r.insertAdjacentElement("afterend",ka),g.contentContainer.insertBefore(ka,K),O=new f["default"]({text:ea,portal:g.portal,sanitizer:g.sanitizer,markdown:g.markdown,preview:!0,baseColor:g.tempOrgHomePage.baseColor||"gs",useCustomStyles:g.tempOrgHomePage.useCustomStyles},ka),O.startup(),g.contentWidgetArray.push(O)})};U.prototype.saveLinkImg=function(g,r,K){var M,ea=g.split("."),na=ea.pop();ea=ea.join("");var O=Date.now();this.saveLinkNewName=
""+ea+O+"."+na;this.linkImages[g]?(na=null===(M=this.linkImages[g])||void 0===M?void 0:M.blob,this.saveLinkIndex=r,this.saveLinkIndex2=K,this.saveLinkFname=g,g=c["default"].restBaseUrl+"portals/self/addResource?token\x3d"+F["default"].getToken(),r=new FormData,r.append("file",na),r.append("key",this.saveLinkNewName),r.append("f","json"),F["default"].postForm(r,g,this._addLinkImage.bind(this),this._addLinkImageFailure.bind(this))):(this.tempOrgHomePage.content[this.saveLinkIndex].links[this.saveLinkIndex2].image=
"",this.saveToHomePage())};U.prototype._addLinkImage=function(){var g;this.tempOrgHomePage.content[this.saveLinkIndex].links[this.saveLinkIndex2].image=this.saveLinkNewName;(null===(g=this.linkImages[this.saveLinkFname])||void 0===g?0:g.prevFile)&&this.removeResource(this.linkImages[this.saveLinkFname].prevFile);this.saveToHomePage()};U.prototype._addLinkImageFailure=function(g){w["default"].showAlert("error",S["default"].orgHomePageSetup.link.linkImgError)};U.prototype.ensureContentIsApplied=function(){if(this.state.page.match(/^(gallery|text)/)){if(this.state.page.match(/^gallery/)&&
this.gallery.showSummary&&!this.portal.isPortal&&x["default"].containsHTTPProtocol(this.gallery.summary)||this.state.page.match(/^text/)&&this.text.showBody&&!this.portal.isPortal&&x["default"].containsHTTPProtocol(this.text.body))return!1;var g=this.state.page.split("-")[0];this.state.page="content-"+g+"-"+this[g+"Action"];this._renderPage()}return!0};U.prototype.sectionErrorChk=function(g){var r=[];this.errors.forEach(function(K){K.displayState===g.split("-")[0]&&r.push(K)});return r};U.prototype.removeError=
function(g){var r=this,K=[];this.errors.forEach(function(M){M.errorField!==g?K.push(M):r.domNode&&R["default"].clearState([r.domNode.querySelector(M.errorField),r.domNode.querySelector(M.errorMsgField)])});this.errors=K};U.prototype.showErrors=function(g){0<g.length&&(R["default"].setInvalidState(this.domNode.querySelector(g[0].errorField),this.domNode.querySelector(g[0].errorMsgField),g[0].errorMsg,!0),this.setTACursor(document.querySelector(g[0].errorField)))};U.prototype.errorCheckOnSave=function(){return 0<
this.errors.length?(this.state.page=this.errors[0].displayState,this._renderPage(),!0):!1};U.prototype.errorCheckImages=function(g){var r,K;g&&"logo"!==g||null!==(r=this.tempOrgHomePage.header.logo)&&void 0!==r&&r.length||!this.tempOrgHomePage.header.showLogo||(this.removeError(".home-page__logo-inputs"),this.errors.push({displayState:"header",errorField:".home-page__logo-inputs",errorMsgField:".logo-image-error",errorMsg:S["default"].orgHomePageSetup.header.noLogo}));g&&"custom"!==g||null!==(K=this.tempOrgHomePage.header.coverImg)&&
void 0!==K&&K.length||!this.tempOrgHomePage.header.showCoverImg||"custom"!==this.tempOrgHomePage.header.coverType||(this.removeError(".home-page__custom-image-inputs"),this.errors.push({displayState:"header",errorField:".home-page__custom-image-inputs",errorMsgField:".custom-image-error",errorMsg:S["default"].orgHomePageSetup.header.noCover}))};U.prototype.openColorsOnboarding=function(){this.launchElement=this.colorsOnboardBtn;this.destroyTooltipDialogs();(new t["default"]).open()};U.prototype.openTypographyOnboarding=
function(){this.launchElement=this.typographyOnboardBtn;this.destroyTooltipDialogs();(new u["default"]).open()};U.prototype.switchAndSave=function(){var g=this;this.saveToHomePage().then(function(){g.switchToModern()})};U.prototype.switchToModern=function(){Y["default"].publish("activate-homepage/modern");G["default"].hideNode(this.switchToNewBtn.parentElement);this._overlayActionBar.classList.remove("home-page-overlay__action-bar-not-active");this._leftBarDiv.classList.remove("home-page-overlay__action-bar-not-active")};
U.prototype.saveToHomePage=function(){var g=this,r=new Q["default"];this.tempOrgHomePage.footer.showContact&&this.updateContactEmail(null,!0);if(this.logoBlob)return this.saveLogo(),r;if(this.coverBlob)return this.saveCover(),r;for(var K=!0,M=0;M<this.tempOrgHomePage.content.length;M++){var ea=this.tempOrgHomePage.content[M];if("link"===ea.type)for(var na=0;na<ea.links.length;na++){var O=ea.links[na];if("image"in O&&(O=O.image||null)&&(O=O.split(" ^ "),2===O.length))if(this.linkImages[O[0]]){this.saveLinkImg(O[0],
M,na);K=!1;break}else ea.links[na].image=null}if(!1===K)return r}for(M=0;M<this.tempOrgHomePage.content.length;M++)if(ea=this.tempOrgHomePage.content[M],K=!1,"gallery"===ea.type&&ea.showSummary&&!this.portal.isPortal&&x["default"].containsHTTPProtocol(ea.summary)?(this.gallery=ea,this.state.page="gallery-edit",K=!0):"text"===ea.type&&ea.showBody&&!this.portal.isPortal&&x["default"].containsHTTPProtocol(ea.body)&&(this.text=ea,this.state.page="text-edit",K=!0),K)return this.editIndex=M,this._renderPage(),
r;if(this.errorCheckOnSave()){var ja=!1;this.errors.forEach(function(ka){"footer"===ka.displayState?(ja=!0,g.state.page="footer",g._renderPage()):".home-page__custom-image-inputs"===ka.errorField?g.tempOrgHomePage.header.coverType="stock":".home-page__logo-inputs"===ka.errorField&&(g.tempOrgHomePage.header.showLogo=!1)});if(ja)return this._unsavedChanges=!0,r.resolve(!1),r;this.errors.length&&(this.errors=[],this._renderPage())}if(!this.ensureContentIsApplied())return r;M=document.createElement("form");
M.method="post";M.enctype="multipart/form-data";M=new FormData(M);M.append("key",this.homePageFile);M.append("text",JSON.stringify(k.encodeHomePageConfiguration(this.tempOrgHomePage)));E["default"].add(M).then(function(){g.emit("save");g.runTelemetry();w["default"].showAlert("success",S["default"].orgHomePageSetup.save.success);g.orgHomePage.header.coverImg&&g.orgHomePage.header.coverImg!==g.tempOrgHomePage.header.coverImg&&g.removeResource(g.orgHomePage.header.coverImg);g.orgHomePage.header.logo&&
g.orgHomePage.header.logo!==g.tempOrgHomePage.header.logo&&g.removeResource(g.orgHomePage.header.logo);g.orgHomePage=X["default"](g.tempOrgHomePage);g._unsavedChanges=!1;r.resolve()},function(ka){w["default"].showAlert("error",S["default"].orgHomePageSetup.save.error);r.reject()});return r};U.prototype.runTelemetry=function(){var g,r,K,M,ea,na,O,ja,ka;null===(g=this.telemetry)||void 0===g?void 0:g.logEvent({category:"new home page editor",label:"body textBlock",count:this.tempOrgHomePage.content.filter(function(sa){return"text"===
sa.type}).length});null===(r=this.telemetry)||void 0===r?void 0:r.logEvent({category:"new home page editor",label:"body itemGalleryBlock",count:this.tempOrgHomePage.content.filter(function(sa){return"gallery"===sa.type}).length});null===(K=this.telemetry)||void 0===K?void 0:K.logEvent({category:"new home page editor",label:"body linksBlock",count:this.tempOrgHomePage.content.filter(function(sa){return"link"===sa.type}).length});null===(M=this.telemetry)||void 0===M?void 0:M.logEvent({category:"new home page editor",
label:"header coverType",details:this.tempOrgHomePage.header.coverType});null===(ea=this.telemetry)||void 0===ea?void 0:ea.logEvent({category:"new home page editor",label:"header coverImgLayout",details:"full-height"===this.tempOrgHomePage.header.coverImgLayout.toLowerCase()?"full-height":"half-height"});null===(na=this.telemetry)||void 0===na?void 0:na.logEvent({category:"new home page editor",label:"footer showContact",details:""+this.tempOrgHomePage.footer.showContact});g=this.tempOrgHomePage.useCustomTypography;
r=this.tempOrgHomePage[g?"customTypography":"typography"];null===(O=this.telemetry)||void 0===O?void 0:O.logEvent({category:"new home page editor",label:"font style",details:g?"custom":"preset",attribute:(null===r||void 0===r?void 0:r.join(","))||"Avenir Next,Avenir Next"});O=this.tempOrgHomePage.useCustomStyles;g={category:"new home page editor",label:"color style",details:O?"custom":"preset"};O?g.count=(null===(ja=this.tempOrgHomePage.customStyles)||void 0===ja?void 0:ja.length)||0:g.attribute=
this.tempOrgHomePage.baseColor;null===(ka=this.telemetry)||void 0===ka?void 0:ka.logEvent(g)};U.prototype.updateContactEmail=function(g,r,K){if(r)g=this.tempOrgHomePage.footer.contact;else{r=g.detail.trim();var M=this.stripHTML(r);r!==M&&(g.detail=M);g=g.detail}r=g.length&&!g.match(/^[a-zA-Z0-9\._\-]+@[a-zA-Z0-9\-]+\.[a-zA-Z0-9\-]+(\.[a-zA-Z0-9]+)*$/);!this.tempOrgHomePage.footer.showContact||!r&&g.length?this.removeError(".contactEmail"):(this.removeError(".contactEmail"),this.errors.push({displayState:"footer",
errorField:".contactEmail",errorMsgField:".invalid-email-address",errorMsg:S["default"].orgHomePageSetup.footer.invalidEmail}),K||R["default"].setInvalidState(document.querySelector(".contactEmail"),document.querySelector(".invalid-email-address"),S["default"].orgHomePageSetup.footer.invalidEmail,!0));this.tempOrgHomePage.footer.contact=!this.tempOrgHomePage.footer.showContact&&r&&g.length?"":g;this._unsavedChanges=!0;this.domNode&&(K=this.domNode.querySelector(".home-page-footer-email"),this.tempOrgHomePage.footer.showContact&&
(K.href="mailto:"+this.tempOrgHomePage.footer.contact))};U.prototype.loadExistingHomePage=function(){var g=this,r=new Q["default"];E["default"].fetch(this.homePageFile).then(function(K){g.hasSavedConfig=!0;g.orgHomePage=k.decodeHomePageConfiguration(K);r.resolve(g.orgHomePage)},function(){k.getDefaultOrgHomePage(g.portal).then(function(K){g.orgHomePage=X["default"](K);r.resolve(g.orgHomePage)})});return r};U.prototype._userCoverImgPlacement=function(g){var r=this.domNode.querySelector(".home-page__header");
r.style.backgroundPositionX=g.x;r.style.backgroundPositionY=g.y};U.prototype._userCoverImgOpacity=function(g){this.headerWidget.setOpacity(g);g="rgba("+n.getOverlayColor(this.tempOrgHomePage)+((null===g||void 0===g?void 0:g.toFixed(2))||0)+")";var r=this.domNode.querySelector(".placement-guide-overlay");r&&(r.style.backgroundColor=g)};U.prototype._setOrgTitleColor=function(){var g=this.tempOrgHomePage.useCustomStyles?this.tempOrgHomePage.header.headerCustom:this.tempOrgHomePage.header.backgroundColor.replace("ramp",
this.tempOrgHomePage.baseColor);this.headerWidget.baseColor=this.tempOrgHomePage.baseColor;this.headerWidget.useCustomStyles=this.tempOrgHomePage.useCustomStyles;this.aboveHeaderWidget.setTitleColor(g);this.headerWidget.setTitleColor(g);this.belowHeaderWidget.setTitleColor(g);this.headerWidget.setOpacity(this.tempOrgHomePage.header.opacity)};U.prototype.removeLastRow=function(){var g=document.querySelectorAll(".home-page__gallery, .home-page__text, .home-page__link");g[g.length-1].remove()};U.prototype.setContentScrollTop=
function(g){var r=this;setTimeout(function(){var K;null===g||void 0===g?void 0:g.scrollIntoView({behavior:"smooth"});(null===(K=r.launchElement)||void 0===K?0:K.closest(".home-page__left-panel"))&&r.launchElement.focus()},1E3);this.isSectionButton&&this.domNode.querySelector(".setup-container .org-button.back-button").focus()};U.prototype.destroyDijit=function(g){g.forEach(function(r){aa["default"].byId(r)&&aa["default"].byId(r).destroy()})};U.prototype.useStockImage=function(g){this.tempOrgHomePage.header.coverImgStock=
g;this._unsavedChanges=!0;g=""+F["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background-"+this.tempOrgHomePage.header.coverImgStock+".jpg");this.headerWidget.setCoverImage("url("+g+")");g=this.tempOrgHomePage.header.titleLogoPos;g="above"===g||"below"===g?0:.45;this.tempOrgHomePage.header.opacity=g;this._userCoverImgOpacity(g);g=y["default"].getTitleColorBasedOnStockImage(this.tempOrgHomePage.header.coverImgStock);this.tempOrgHomePage.header.backgroundColor=g;this.tempOrgHomePage.header.headerCustom.match(/^custom/)||
(this.tempOrgHomePage.header.headerCustom="dark-ramp"===g?"black":"white");this._setOrgTitleColor();this._renderPage()};U.prototype._addLogo=function(){this.tempOrgHomePage.header.logo!==this.orgHomePage.header.logo&&this.removeResource(this.orgHomePage.header.logo);this.logoBlob=null;this.saveToHomePage()};U.prototype._addLogoFailure=function(g){w["default"].showAlert("error",S["default"].orgHomePageSetup.header.logoError)};U.prototype.saveLogo=function(){var g=c["default"].restBaseUrl+"portals/self/addResource?token\x3d"+
F["default"].getToken(),r=new FormData;r.append("file",this.logoBlob);this.tempOrgHomePage.header.logo="home.logo"+this.tempOrgHomePage.key+"."+this.logoFileName.split(".").pop();r.append("key",this.tempOrgHomePage.header.logo);r.append("f","json");F["default"].postForm(r,g,this._addLogo.bind(this),this._addLogoFailure.bind(this))};U.prototype.saveCover=function(){var g=c["default"].restBaseUrl+"portals/self/addResource?token\x3d"+F["default"].getToken(),r=new FormData;r.append("file",this.coverBlob);
this.tempOrgHomePage.header.coverImg="home.coverimg"+this.tempOrgHomePage.key+"."+this.coverExt;r.append("key",this.tempOrgHomePage.header.coverImg);r.append("f","json");F["default"].postForm(r,g,this._addCover.bind(this),this._addCoverFailure.bind(this))};U.prototype._addCover=function(){this.tempOrgHomePage.header.coverImg!==this.orgHomePage.header.coverImg&&this.removeResource(this.orgHomePage.header.coverImg);this.coverBlob=null;this.saveToHomePage()};U.prototype.onLogoDelete=function(g){g.stopPropagation();
this.removeResource(this.tempOrgHomePage.header.logo);this.tempOrgHomePage.header.logo="";this.tempOrgHomePage.header.showLogo=!1;this.headerWidget.showLogo(!1);this.headerWidget.setLogo("");this._editBtn.innerText=this.logoText.uploadImage;this.state.page="header";this._renderPage()};U.prototype._addCoverFailure=function(g){w["default"].showAlert("error",S["default"].orgHomePageSetup.header.customError)};U.prototype.chkLogoError=function(){""===this.tempOrgHomePage.header.logo&&R["default"].setInvalidState(this.domNode.querySelector(".home-page__logo-inputs"),
this.domNode.querySelector(".logo-image-error"),S["default"].orgHomePageSetup.header.noLogo,!0)};U.prototype.chkCoverImgError=function(){!this.tempOrgHomePage.header.showCoverImg||"custom"!==this.tempOrgHomePage.header.coverType||""!==this.tempOrgHomePage.header.coverImg||this.coverURI||this.updatingCustomCover||R["default"].setInvalidState(this.domNode.querySelector(".home-page__custom-image-inputs"),this.domNode.querySelector(".custom-image-error"),S["default"].orgHomePageSetup.header.noCover,!0)};
U.prototype.setPreviewMode=function(g,r){var K=this;this.currentView=r;[this.tabletBtn,this.mobileBtn,this.desktopBtn].forEach(function(M){M===g?K.setActiveSize(M):K.clearActiveSize(M)});"desktop"===r?this.preview.simulateDesktop():"tablet"===r?this.preview.simulateTablet():this.preview.simulateMobile()};U.prototype.checkPreviewSize=function(){this.device.isMobile?(G["default"].hideNodes([this.tabletBtn,this.desktopBtn]),"mobile"!==this.currentView&&this.setPreviewMode(this.mobileBtn,"mobile")):this.device.isTablet?
(G["default"].showNode(this.tabletBtn),G["default"].hideNode(this.desktopBtn),"mobile"!==this.currentView&&this.setPreviewMode(this.tabletBtn,"tablet")):(G["default"].showNodes([this.tabletBtn,this.desktopBtn]),"desktop"!==this.currentView&&this.setPreviewMode(this.desktopBtn,"desktop"))};U.prototype.calculateHeaderHeight=function(){var g=this.domNode.querySelector(".home-page-overlay__content .home-page__header.home-page__header--full-height"),r=this.domNode.querySelector(".home-page-overlay__content .home-page__header.home-page__header--half-height"),
K=this.domNode.querySelector(".home-page-overlay__content .home-page__header.home-page__header--no-image");if((g||r)&&!K){K=this.aboveHeaderWidget.domNode.offsetHeight;var M=this.belowHeaderWidget.domNode.offsetHeight;K=0<K?K:M;g?g.style.height="calc(100% - "+K+"px)":r&&(r.style.height="calc(50% - "+K+"px)")}};U.prototype.setViewModeTip=function(g){"desktop"===g?(this.desktopBtn.classList.add("tooltip"),this.tabletBtn.classList.remove("tooltip"),this.mobileBtn.classList.remove("tooltip")):"tablet"===
g?(this.tabletBtn.classList.add("tooltip"),this.desktopBtn.classList.remove("tooltip"),this.mobileBtn.classList.remove("tooltip")):"mobile"===g&&(this.mobileBtn.classList.add("tooltip"),this.desktopBtn.classList.remove("tooltip"),this.tabletBtn.classList.remove("tooltip"))};U.prototype.setTACursor=function(g){if(!g)return!1;g.scrollIntoView();g.setSelectionRange(this.textAreaCursor.start,this.textAreaCursor.end)};U.prototype.stripHTML=function(g){return x["default"].shouldStripHTML(g)?x["default"].stripHTML(g):
g};return U=b.__decorate([da["default"](ca["default"],V["default"],e["default"])],U)}()})},"arcgisonline/pages/dijit/Overlay":function(){define("require exports tslib dojo/on dojo/debounce dojo/topic dojo/query dojo/has dojo/dom-class dojo/dom-construct dojox/uuid/generateRandomUuid dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase esri/Evented ../utils/formatters ../utils/icons ../utils/focus dojo/text!./Overlay/templates/Overlay.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f,q,B,v,t,u,A,z,E){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);q=b.__importDefault(q);B=b.__importDefault(B);v=b.__importDefault(v);t=b.__importDefault(t);u=b.__importDefault(u);A=b.__importDefault(A);z=b.__importDefault(z);E=b.__importDefault(E);return function(){function y(){this.i18n=
z["default"];this.icons=t["default"];this.templateString=A["default"];this.hide=v["default"].hide;this._unsavedChanges=this.constrain=!1;this.maxWidth=null;this.showActionBar=!0;this.overlayContents=null;this._screenWidth=window.innerWidth;this._preventScrollClass=k["default"]("ios")?"ios-prevent-scroll":"overflow-hidden";this["class"]=this.title="";this.closeOnScrimClick=this.destroyOnClose=this.shouldScroll=!0;this.background="off-white";this.isDrillIn=!1;this.primaryBtnText=z["default"].common.save;
this.loadingText=z["default"].common.loading;this.uid=null}y.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=h["default"]();this.srcNodeRef||(this.srcNodeRef=p["default"].place(p["default"].create("div"),document.body,"last"))};y.prototype.postCreate=function(){this.inherited(arguments);p["default"].place(this.overlayContents,this._overlayContentWrapper,"only");this.showActionBar||n["default"].add(this._overlayContentWrapper,"overlay-content--no-actions");this.shouldScroll&&
n["default"].add(this._overlayContentWrapper,"overlay-content--scroll");this.constrain&&n["default"].add(this.domNode,"overlay--constrained");this.maxWidth&&(this._overlay.style.maxWidth=this.maxWidth+"px",this._screenWidth>=this.maxWidth&&n["default"].add(this.domNode,"overlay--max-width"));this._addEventListeners()};y.prototype._addEventListeners=function(){var x=this;this.own(e["default"].subscribe("overlay/open",function(){return x.open()}),a["default"](window,"resize",c["default"](function(C){return x.resizeHandler(C)},
30)),a["default"](this.closeBtn,"click",function(C){return x.handleCancel(C)}),a["default"](this._backArrow,"click",function(){return x.close()}),a["default"](this._primaryBtn,"click",function(C){return x.handlePrimary(C)}),a["default"](this._cancelBtn,"click",function(C){return x.handleCancel(C)}),a["default"](this._backgroundScrim,"click",function(C){return x.handleScrimClick(C)}),a["default"](document,"keyup",function(C){"Escape"===C.key&&x.close()}))};y.prototype.open=function(){var x=this;this.defaultOpener=
document.activeElement;var C=document.documentElement,w=C.scrollTop,G=document.body.scrollTop,R=C.classList.contains(this._preventScrollClass);window.getComputedStyle(this.domNode).opacity;d["default"](this.domNode).addClass("is-active");var H=u["default"].getFocusableElements(this.domNode);0<H.length&&H[0].focus();this._trapHandler=u["default"].trapFocus(this.domNode);this.render&&this.render();this.emit("open");(this.isDrillIn=R)||setTimeout(function(){k["default"]("ios")&&(x._bodyScrollTop=Math.max(window.pageYOffset,
w,G));n["default"].add(C,x._preventScrollClass)},300)};y.prototype.close=function(x){var C=this,w,G;this._unsavedChanges&&this.unsavedChangesText?this.confirmClose(this.unsavedChangesText).then(function(R){!0===R&&C._close()}):this._close();if(this.onClose&&"function"===typeof this.onClose)this.onClose();this.emit("close",x);x=this.opener||this.defaultOpener||document.body;null===(w=null===x||void 0===x?void 0:x.setFocus)||void 0===w?void 0:w.call(x);null===(G=null===x||void 0===x?void 0:x.focus)||
void 0===G?void 0:G.call(x)};y.prototype.confirmClose=function(x){var C=new m["default"];x=confirm(x);C.resolve(x);return C};y.prototype.showLoader=function(x){this._overlayLoaderText.textContent=x||"";this._overlayLoader.classList.add("is-active")};y.prototype.hideLoader=function(){this._overlayLoaderText.textContent="";this._overlayLoader.classList.remove("is-active")};y.prototype.setUnsaved=function(x){this._unsavedChanges=x};y.prototype.handlePrimary=function(x){};y.prototype.handleHelp=function(x){};
y.prototype.handleCancel=function(x){this.close()};y.prototype.handleScrimClick=function(x){this.closeOnScrimClick&&x.target===x.currentTarget&&this.close()};y.prototype.resizeHandler=function(x){x=window.innerWidth;this._screenWidth>=this.maxWidth&&x<this.maxWidth&&this.domNode.classList.remove("overlay--max-width");this._screenWidth<this.maxWidth&&x>=this.maxWidth&&this.domNode.classList.add("overlay--max-width");this._screenWidth=x};y.prototype._close=function(){this.domNode&&this.domNode.classList.remove("is-active");
this.isDrillIn||(n["default"].remove(document.documentElement,this._preventScrollClass),k["default"]("ios")&&(document.documentElement.scrollTop=this._bodyScrollTop,document.body.scrollTop=this._bodyScrollTop));this.destroyOnClose&&this._destroy()};y.prototype._destroy=function(){var x=this;this.domNode&&u["default"].untrapFocus(this.domNode,this._trapHandler);setTimeout(function(){return x.destroy()},300)};return y=b.__decorate([E["default"](q["default"],f["default"],B["default"])],y)}()})},"dojox/uuid/generateRandomUuid":function(){define(["./_base"],
function(){dojox.uuid.generateRandomUuid=function(){function ba(){for(var e=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>e.length;)e="0"+e;return e}var l=ba(),b=ba();b=b.substring(0,4)+"-4"+b.substring(5,8);var a=ba();a="8"+a.substring(1,4)+"-"+a.substring(4,8);var c=ba();return(l+"-"+b+"-"+a+c).toLowerCase()};return dojox.uuid.generateRandomUuid})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(ba){ba.getObject("uuid",!0,dojox);dojox.uuid.NIL_UUID=
"00000000-0000-0000-0000-000000000000";dojox.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};dojox.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};dojox.uuid.assert=function(l,b){if(!l)throw b||(b="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(b);};dojox.uuid.generateNilUuid=function(){return dojox.uuid.NIL_UUID};dojox.uuid.isValid=function(l){l=l.toString();var b=ba.isString(l)&&
36==l.length&&l==l.toLowerCase();if(b){l=l.split("-");b=5==l.length&&8==l[0].length&&4==l[1].length&&4==l[2].length&&4==l[3].length&&12==l[4].length;for(var a in l){var c=parseInt(l[a],16);b=b&&isFinite(c)}}return b};dojox.uuid.getVariant=function(l){if(!dojox.uuid._ourVariantLookupTable){var b=dojox.uuid.variant,a=[];a[0]=b.NCS;a[1]=b.NCS;a[2]=b.NCS;a[3]=b.NCS;a[4]=b.NCS;a[5]=b.NCS;a[6]=b.NCS;a[7]=b.NCS;a[8]=b.DCE;a[9]=b.DCE;a[10]=b.DCE;a[11]=b.DCE;a[12]=b.MICROSOFT;a[13]=b.MICROSOFT;a[14]=b.UNKNOWN;
a[15]=b.UNKNOWN;dojox.uuid._ourVariantLookupTable=a}l=l.toString();l=l.charAt(19);l=parseInt(l,16);dojox.uuid.assert(0<=l&&16>=l);return dojox.uuid._ourVariantLookupTable[l]};dojox.uuid.getVersion=function(l){dojox.uuid.assert(dojox.uuid.getVariant(l)==dojox.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");l=l.toString();l=l.charAt(14);return parseInt(l,16)};dojox.uuid.getNode=function(l){dojox.uuid.assert(dojox.uuid.getVersion(l)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");
l=l.toString();return l.split("-")[4]};dojox.uuid.getTimestamp=function(l,b){dojox.uuid.assert(dojox.uuid.getVersion(l)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");l=l.toString();b||(b=null);switch(b){case "string":case String:return dojox.uuid.getTimestamp(l,Date).toUTCString();case "hex":var a=l.split("-"),c=a[0],e=a[1];a=a[2];a=a.slice(1);c=a+e+c;dojox.uuid.assert(15==c.length);return c;case null:case "date":case Date:return a=l.split("-"),c=parseInt(a[0],
16),e=parseInt(a[1],16),a=(parseInt(a[2],16)&4095)<<16,a=4294967296*(a+e),a+=c,new Date(a/1E4-122192928E5);default:dojox.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+b)}};return dojox.uuid})},"arcgisonline/pages/dijit/OverlayConfirm":function(){define("require exports tslib esri/Evented dojo/text!./Overlay/templates/OverlayConfirm.html dojo/i18n!../../nls/arcgisonline dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../utils/icons ../utils/focus ../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f,q){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);q=b.__importDefault(q);return function(){function B(v,t){this.templateString=c["default"];this.i18n=e["default"];this.icons=h["default"];this.cancelText=this.confirmText="";this.isActions=!1;this.showActions=this.showClose=!0;this.cssClasses=
"";this.noMask=!1;this._confirmDfd=new d["default"]}B.prototype.postCreate=function(){this.inherited(arguments);this.domNode.removeAttribute("title");var v=".js-confirm-btn",t=".js-cancel-btn";this.isActions&&(v=".js-action-one",t=".js-action-two",f["default"].hideNode(this._buttons),f["default"].showNode(this._actions));this._confirmBtn=this.domNode.querySelector(v);this._cancelBtn=this.domNode.querySelector(t);f["default"].showHide(this._closeBtn,this.showClose);this.showActions||(f["default"].hideNode(this._buttons),
f["default"].hideNode(this._actions));this.noMask&&this.domNode.classList.add("overlay-confirm--no-mask");this.iconKey&&(this.domNode.classList.add("overlay-confirm--has-icon"),this.icon.innerHTML=this.icons[this.iconKey]["16"]);this._render();this._addEventListeners()};B.prototype._render=function(){this._title.textContent=this.title;this._description.innerHTML=this.description;this._confirmBtn.textContent=this.confirmText;this._cancelBtn.textContent=this.cancelText};B.prototype._addEventListeners=
function(){this.own(p["default"](this._confirmBtn,this._confirmResolve.bind(this,"onOk")),p["default"](this._cancelBtn,this._confirmResolve.bind(this,"onCancel")),p["default"](this._closeBtn,this._confirmResolve.bind(this,"onClose")))};B.prototype._confirmResolve=function(v){var t=this;this._hide();setTimeout(function(){t._confirmDfd.resolve(v);t.destroy();t.emit("close")},300)};B.prototype._hide=function(){this.domNode.classList.remove("is-active")};B.prototype.show=function(){var v=this;window.getComputedStyle(this.domNode).opacity;
this.domNode.classList.add("is-active");setTimeout(function(){v.showClose?v._closeBtn.focus():v._cancelBtn.focus();m["default"].trapFocus(v.domNode)},300);return this._confirmDfd};B.prototype.hide=function(){var v=this;this._hide();setTimeout(function(){v.destroy()},300)};return B=b.__decorate([q["default"](n["default"],k["default"],a["default"])],B)}()})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/homePageUtils":function(){define("require exports tslib ../../../../../utils/color dojo/i18n!../../../../../../nls/arcgisonline dojo/Deferred ../../../../../../esriGeowConfig ../../../../../../sharing/util ../../../../../pageUtil".split(" "),
function(ba,l,b,a,c,e,d,k,n){function p(h){h=h.replace("-","").toLowerCase();"lightgs"===h?h="lightgray":"mediumgs"===h?h="darkgray":"darkgs"===h?h="black":"whitegs"===h&&(h="white");return c["default"].orgHomePageSetup.colors[h]||""}Object.defineProperty(l,"__esModule",{value:!0});l.getGroupList=l.getGroupCounts=l.toggleLinkButton=l.getColorName=l.getColors=l.getOverlayColor=l.overlayColors=l.getLinkRanges=l.handleMenuPosAndAccess=l.srSpeak=l.fetchResourceUrl=l.getLinksLength=l.maxStyles=l.maxBlocks=
void 0;a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);l.maxBlocks=15;l.maxStyles=4;l.getLinksLength=function(h){if(!h)return 0;h=h.match(/\[[^\]]+\]\([^\)]+\)/g);var m=0;null===h||void 0===h?void 0:h.forEach(function(f){m+=f.length;f=f.replace(/\].+$/,"").length-1;m-=f});return m};l.fetchResourceUrl=function(h){return d["default"].restBaseUrl+"portals/self/resources/"+h+"?nocache\x3d"+Date.now()+"\x26token\x3d"+
k["default"].getToken()};l.srSpeak=function(h,m){m=m||"assertive";var f=document.createElement("div"),q="speak-"+Date.now();f.setAttribute("id",q);f.setAttribute("aria-live",m||"polite");f.classList.add("visually-hidden");document.body.appendChild(f);window.setTimeout(function(){document.getElementById(q).innerHTML=h},100);window.setTimeout(function(){document.body.removeChild(document.getElementById(q))},1E3)};l.handleMenuPosAndAccess=function(h,m,f,q){var B=document.querySelector(".setup-body-wrapper");
h.style.top="unset";h.style.bottom="unset";h.style.position="absolute";var v=m.getBoundingClientRect().top,t=B.getBoundingClientRect().top;var u="typography"===f?(v-t+60).toString()+"px":(v-t+50).toString()+"px";var A=document.querySelector("div.overlay-action-bar").getBoundingClientRect().top,z=document.querySelector(".sc-container .menu").getBoundingClientRect();B=!1;A<v-t+75+z.height&&(B=!0,u=A-z.height,u=50>u?"65px":u-75+"px",h.style.transform="translateY("+u+")");h.querySelector(".style-content-card").focus();
h.addEventListener("blur",function(y){y=y.target;if(y.classList.contains("style-content-card")||y.classList.contains("sc-container")||y.classList.contains("fc-container"))return!1;q();if("styles"===f||"typography"===f){document.querySelector(".style-content-card-header").classList.remove("active");document.querySelector(".style-content-card-footer").classList.remove("active");y=document.querySelectorAll(".style-content-cards .style-content-card");for(var x=1;x<y.length;x++)y[x].classList.remove("active")}});
var E=h.querySelectorAll(".style-content-card");v=function(y){E[y].addEventListener("keydown",function(x){0===y&&("ArrowUp"===x.key||x.shiftKey&&"Tab"===x.key)||y===E.length-1&&("ArrowDown"===x.key||"Tab"===x.key)?(x.preventDefault(),q&&q(),m.classList.remove("active"),m.focus()):"ArrowUp"===x.key?(h.querySelectorAll(".style-content-card")[y].classList.remove("active"),h.querySelectorAll(".style-content-card")[y-1].classList.add("active"),h.querySelectorAll(".style-content-card")[y-1].focus()):"ArrowDown"===
x.key&&(h.querySelectorAll(".style-content-card")[y].classList.remove("active"),h.querySelectorAll(".style-content-card")[y+1].classList.add("active"),h.querySelectorAll(".style-content-card")[y+1].focus())})};for(t=0;t<E.length;t++)v(t);B||(h.style.transform="translateY("+u+")")};l.getLinkRanges=function(h){var m=[];if(!h)return m;h.split("").forEach(function(f,q){"["===f&&m.push(q+"-");")"===f&&m[m.length-1]&&(m[m.length-1]+=q.toString())});return m};l.overlayColors={gs:["f2f2f2","4a4a4a","222222"],
brown:["f2ece6","7c410a","3e2105"],blue:["e5f1f9","0079c1","003d61"],green:["e9f3ea","288835","14441b"],yellow:["fefced","f9e54e","7d7327"],orange:["fef5e9","f89927","7c4d14"],red:["fbeae8","d83020","6c1810"],violet:["efebf5","633b9b","321e4e"]};l.getOverlayColor=function(h){if(h.useCustomStyles)if(h.header.headerCustom.match("custom")){var m=parseInt(h.header.headerCustom.replace("custom",""),10)-1;h=a["default"].hexRgb(h.customStyles[m].background);h=h[0]+", "+h[1]+", "+h[2]+","}else h="black"===
h.header.headerCustom||-1!==h.header.headerCustom.indexOf("dark-")?"0,0,0,":"255,255,255,";else h.header.backgroundColor.match(/ramp$/)&&"gs"!==h.baseColor?(h=-1!==h.header.backgroundColor.indexOf("dark-")?a["default"].hexRgb(l.overlayColors[h.baseColor][2]):"white-ramp"===h.header.backgroundColor?[255,255,255]:a["default"].hexRgb(l.overlayColors[h.baseColor][0]),h=h[0]+", "+h[1]+", "+h[2]+","):h="black"===h.header.backgroundColor||-1!==h.header.backgroundColor.indexOf("dark-")?"0,0,0,":"255,255,255,";
return h};l.getColors=function(h,m,f){var q="",B=[],v=h.baseColor;if(null===f||void 0===f?0:f.match(/^custom/i)){var t=parseInt(f.replace(/^custom/i,""),10)-1;t=h.customStyles[t].name}else t=p(f.replace("-ramp",v));q=f.replace("-ramp","-"+h.baseColor);h.useCustomStyles?(h.customStyles.forEach(function(u,A){u&&B.push({name:u.name,"class":"custom"+(A+1).toString(),value:"custom"+(A+1).toString()})}),B.push({name:p("white"),"class":"white",value:"white"}),"header"!==m&&B.push({name:p("light-gray"),"class":"light-gray",
value:"light-gray"},{name:p("dark-gray"),"class":"dark-gray",value:"dark-gray"}),B.push({name:p("black"),"class":"black",value:"black"})):(B.push({name:p("white"),"class":"white",value:"white"}),"header"!==m&&B.push({name:p("light-gray"),"class":"light-gray",value:"light-gray"},{name:p("dark-gray"),"class":"dark-gray",value:"dark-gray"}),B.push({name:p("black"),"class":"black",value:"black"}),"gs"!==v&&(B.push({name:p("white"+v),"class":"white-"+v,value:"white-ramp"}),"header"!==m&&(B.push({name:p("light"+
v),"class":"light-"+v,value:"light-ramp"}),B.push({name:p("medium"+v),"class":"medium-"+v,value:"medium-ramp"})),B.push({name:p("dark"+v),"class":"dark-"+v,value:"dark-ramp"})));return{startColor:t,startClassSuffix:q,menuColors:B}};l.getColorName=p;l.toggleLinkButton=function(h,m){document.querySelector(".home-page-overlay__left-panel .yes-link").classList.remove("hide");document.querySelector(".home-page-overlay__left-panel .no-link").classList.remove("hide");!h||m?document.querySelector(".home-page-overlay__left-panel .yes-link").classList.add("hide"):
document.querySelector(".home-page-overlay__left-panel .no-link").classList.add("hide")};l.getGroupCounts=function(h){var m=new e["default"];k["default"].request({url:d["default"].restBaseUrl+"content/groups/"+h+"/search",content:{countFields:"access",start:1,num:0,countSize:200,sortField:"added",sortOrder:"desc",f:"json",token:k["default"].getToken()}}).then(function(f){var q,B,v,t={"public":0,shared:0,org:0,total:0,"private":0};null===(v=null===(B=null===(q=f.aggregations)||void 0===q?void 0:q.counts[0])||
void 0===B?void 0:B.fieldValues)||void 0===v?void 0:v.forEach(function(u){t[u.value]=u.count;t.total+=u.count});m.resolve([t["public"],t.org,t.total-t.org-t["public"]])});return m};l.getGroupList=function(h){var m=new e["default"];n["default"].fetchAllResources(d["default"].restBaseUrl+"/community/groups",{q:"orgid:"+h.id+' AND (-owner:"esri_nav" -owner:"esri_boundaries" -owner:"esri_demographics" -owner:"esri_livingatlas") AND (access:org OR access:public)',sortField:"title",sortOrder:"asc"}).then(function(f){m.resolve(f)});
return m}})},"arcgisonline/pages/organization/widgets/onboard/HomePageColorsOnboardOverlay":function(){define("require exports tslib ../../../dijit/Overlay ../../components/HomePageColorsOnboard ../../../utils/whatsNew ../../../../tsutils/declareDecorator preact dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings".split(" "),function(ba,l,b,a,c,e,d,k,n,p){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);n=b.__importDefault(n);p=
b.__importDefault(p);return function(){function h(m,f){this.i18n=n["default"];this.overlayContents='\x3cdiv class\x3d"js-home-page-colors-onboarding"\x3e\x3c/div\x3e';this.strings=b.__assign({},p["default"].homePageTab.colorsOnboarding);this.maxWidth=600;this.constrain=!0;this.closeOnScrimClick=!1;this.background="white"}h.prototype.postMixInProperties=function(){this.inherited(arguments);this.title=this.i18n.orgHomePageSetup.start.colors};h.prototype.open=function(){this.inherited(arguments);this._overlayActionBar.classList.add("hide");
k.render(k.h(c["default"],{strings:this.strings}),this.domNode.querySelector(".js-home-page-colors-onboarding"))};h.prototype.close=function(){this.inherited(arguments);e["default"].set("colorsIntro")};return h=b.__decorate([d["default"](a["default"])],h)}()})},"arcgisonline/pages/organization/components/HomePageColorsOnboard":function(){define(["require","exports","tslib","../../../sharing/util","preact"],function(ba,l,b,a,c){Object.defineProperty(l,"__esModule",{value:!0});a=b.__importDefault(a);
l["default"]=function(e){e=e.strings;var d=a["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_preset-themes.png"),k=a["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_custom-themes.png"),n=a["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_apply-blocks.png");return c.h("div",{"class":"margin-left-1 margin-right-1 leader-1 trailer-1"},c.h("div",{"class":"flex trailer-1 homepage-onboarding__colors--row"},c.h("div",{"class":"margin-right-quarter homepage-onboarding__colors--column"},
c.h("img",{src:d,alt:""})),c.h("div",{"class":"margin-left-quarter homepage-onboarding__colors--column"},c.h("label",{"class":"avenir-demi font-size-1 trailer-quarter"},e.preset),c.h("div",{"class":"font-size--1"},e.pickPreset))),c.h("div",{"class":"flex trailer-1 homepage-onboarding__colors--row"},c.h("div",{"class":"margin-right-quarter homepage-onboarding__colors--column"},c.h("label",{"class":"avenir-demi font-size-1 trailer-quarter"},e.custom),c.h("div",{"class":"font-size--1"},e.useCustom)),
c.h("div",{"class":"margin-left-quarter homepage-onboarding__colors--column"},c.h("img",{src:k,alt:""}))),c.h("div",{"class":"flex homepage-onboarding__colors--row"},c.h("div",{"class":"margin-right-quarter homepage-onboarding__colors--column"},c.h("img",{src:n,alt:""})),c.h("div",{"class":"margin-left-quarter homepage-onboarding__colors--column"},c.h("label",{"class":"avenir-demi font-size-1 trailer-quarter"},e.apply),c.h("div",{"class":"font-size--1"},e.applyColors))))}})},"arcgisonline/pages/utils/whatsNew":function(){define(["require",
"exports","tslib","./storage"],function(ba,l,b,a){a=b.__importDefault(a);return function(){function c(){}c.getCookie=function(){return a["default"].getCookie(c.COOKIE,!0)||{}};c.setCookie=function(e){var d=new Date((new Date).getTime()+31556926E3),k=-1<window.location.hostname.indexOf("esri.com")?".esri.com":".arcgis.com";a["default"].setCookie(c.COOKIE,e,{expires:d,path:"/",domain:k,sameSite:"Strict"},!0)};c.shouldShow=function(e,d){var k=new Date,n=c.getCookie();if(k<d){if(!n[e])return!0}else c.reset(e);
return!1};c.set=function(e){var d=c.getCookie();d[e]=!0;c.setCookie(d)};c.reset=function(e){var d=c.getCookie();d[e]&&(delete d[e],c.setCookie(d))};c.COOKIE="esri_whatsnew";return c}()})},"arcgisonline/pages/organization/widgets/onboard/HomePageTypographyOnboardOverlay":function(){define("require exports tslib ../../../dijit/Overlay ../../components/HomePageTypographyOnboard ../../../utils/whatsNew ../../../../tsutils/declareDecorator preact dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings".split(" "),
function(ba,l,b,a,c,e,d,k,n,p){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);n=b.__importDefault(n);p=b.__importDefault(p);return function(){function h(m,f){this.i18n=n["default"];this.overlayContents='\x3cdiv class\x3d"js-home-page-typo-onboarding"\x3e\x3c/div\x3e';this.strings=b.__assign({},p["default"].homePageTab.typographyOnboarding);this.maxWidth=400;this.constrain=!0;this.closeOnScrimClick=!1;this.background="white"}h.prototype.postMixInProperties=
function(){this.inherited(arguments);this.title=this.i18n.orgHomePageSetup.start.typography};h.prototype.open=function(){this.inherited(arguments);this._overlayActionBar.classList.add("hide");k.render(k.h(c["default"],{strings:this.strings}),this.domNode.querySelector(".js-home-page-typo-onboarding"))};h.prototype.close=function(){this.inherited(arguments);e["default"].set("typoIntro")};return h=b.__decorate([d["default"](a["default"])],h)}()})},"arcgisonline/pages/organization/components/HomePageTypographyOnboard":function(){define(["require",
"exports","tslib","../../../sharing/util","preact"],function(ba,l,b,a,c){Object.defineProperty(l,"__esModule",{value:!0});a=b.__importDefault(a);l["default"]=function(e){e=e.strings;var d=a["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_typography.png");return c.h(c.Fragment,null,c.h("div",{"class":"trailer-1 homepage-onboarding__typo--row"},c.h("img",{src:d,alt:""})),c.h("div",{"class":"margin-left-2 margin-right-2 leader-1 trailer-1"},c.h("div",{"class":"leader-1 trailer-1 homepage-onboarding__typo--row"},
c.h("label",{"class":"avenir-demi font-size-1 trailer-quarter"},e.presetTheme),c.h("div",{"class":"font-size--1"},e.pickFont)),c.h("div",{"class":"leader-1 trailer-1 homepage-onboarding__typo--row"},c.h("label",{"class":"avenir-demi font-size-1 trailer-quarter"},e.customTheme),c.h("div",{"class":"font-size--1"},e.selectCombo))))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/HomePagePreview":function(){define("require exports tslib dojo/text!./HomePagePreview.html dojo/i18n!../../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(ba,l,b,a,c,e,d,k,n){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);return function(){function p(h,m){this.templateString=a["default"];this.i18n=c["default"];this.icons=k["default"];this.inherited(arguments)}p.prototype.postCreate=function(){this.inherited(arguments)};p.prototype.simulateTablet=function(){this.domNode.className="home-page home-page--tablet flex-1 flex"};p.prototype.simulateMobile=function(){this.domNode.className=
"home-page home-page--mobile flex-1 flex"};p.prototype.simulateDesktop=function(){this.domNode.className="home-page flex-1 flex"};return p=b.__decorate([n["default"](d["default"],e["default"])],p)}()})},"arcgisonline/pages/utils/organizationResources":function(){define("require exports tslib ../../esriGeowConfig ./resources ../../sharing/util".split(" "),function(ba,l,b,a,c,e){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);return function(){function d(){}d.fetchAll=function(){return c["default"].fetchAllResources(a["default"].restBaseUrl+
"portals/self/resources",{},"resources")};d.fetchPage=function(k,n){void 0===k&&(k=1);void 0===n&&(n=100);return e["default"].request({url:a["default"].restBaseUrl+"portals/self/resources",content:{start:k,num:100<n?100:n}})};d.fetch=function(k){return e["default"].request({url:a["default"].restBaseUrl+"portals/self/resources/"+k})};d.add=function(k){var n=!k.key;k=b.__assign(b.__assign({url:a["default"].restBaseUrl+"portals/self/addResource"},n&&{form:k}),!n&&{content:k});return e["default"].request(k,
{usePost:!0})};d.remove=function(k){return e["default"].request({url:a["default"].restBaseUrl+"portals/self/removeResource",content:{key:k}},{usePost:!0})};return d}()})},"arcgisonline/pages/utils/device":function(){define(["require","exports","tslib","dojo/sniff"],function(ba,l,b,a){a=b.__importDefault(a);return function(){function c(){this.doc=document;this.win=window;this.platform=this.win.navigator.platform;this.ua=this.win.navigator.userAgent;this.device={ios:!1,android:!1,androidChrome:!1,desktop:!1,
windowsPhone:!1,iphone:!1,iphoneX:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!this.win.cordova&&!this.win.phonegap),phonegap:!(!this.win.cordova&&!this.win.phonegap),os:null,osVersion:null,webView:null,standalone:null,statusBar:null,needsStatusbarOverlay:null,pixelRatio:null,minimalUi:null,statusbar:null};this.screenWidth=this.win.screen.width;this.screenHeight=this.win.screen.height;this.windowsPhone=this.ua.match(/(Windows Phone);?[\s\/]+([\d.]+)?/);this.android=this.ua.match(/(Android);?[\s\/]+([\d.]+)?/);
this.ipad=this.ua.match(/(iPad).*OS\s([\d_]+)/);this.ipod=this.ua.match(/(iPod)(.*OS\s([\d_]+))?/);this.iphoneX=(this.iphone=!this.ipad&&this.ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/))&&(375===this.screenWidth&&812===this.screenHeight||414===this.screenWidth&&896===this.screenHeight);this.ie=0<=this.ua.indexOf("MSIE ")||0<=this.ua.indexOf("Trident/");this.edge=0<=this.ua.indexOf("Edge/");this.firefox=0<=this.ua.indexOf("Gecko/")&&0<=this.ua.indexOf("Firefox/");this.macos="MacIntel"===this.platform;this.windows=
"Win32"===this.platform;this.isTablet=this.isMobile=!1;this.setVals()}c.prototype.setVals=function(){this.windowsPhone&&(this.device.os="windows",this.device.osVersion=this.windowsPhone[2],this.device.windowsPhone=!0);this.android&&!this.windows&&(this.device.os="android",this.device.osVersion=this.android[2],this.device.android=!0,this.device.androidChrome=0<=this.ua.toLowerCase().indexOf("chrome"));if(this.ipad||this.iphone||this.ipod)this.device.os="ios",this.device.ios=!0;this.iphone&&!this.ipod&&
(this.device.osVersion=this.iphone[2].replace(/_/g,"."),this.device.iphone=!0,this.device.iphoneX=this.iphoneX);this.ipad&&(this.device.osVersion=this.ipad[2].replace(/_/g,"."),this.device.ipad=!0);this.ipod&&(this.device.osVersion=this.ipod[3]?this.ipod[3].replace(/_/g,"."):null,this.device.iphone=!0);this.device.ios&&this.device.osVersion&&0<=this.ua.indexOf("Version/")&&"10"===this.device.osVersion.split(".")[0]&&(this.device.osVersion=this.ua.toLowerCase().split("version/")[1].split(" ")[0]);
this.press=this.device.desktop?"mousedown":"touchstart";this.release=this.device.desktop?"mouseup":"touchend";this.click=this.device.desktop?"click":"touchend";this.clickOrRelease=this.device.desktop?"click, mouseup":"touchend";this.move=this.device.desktop?"mousemove":"touchmove";this.device.webView=!(!(this.iphone||this.ipad||this.ipod)||!this.ua.match(/.*AppleWebKit(?!.*Safari)/i)&&!this.win.navigator.standalone)||this.win.matchMedia&&this.win.matchMedia("(display-mode: standalone)").matches;this.device.standalone=
this.device.webView;this.device.desktop=!(this.device.os||this.device.android||this.device.webView);this.device.desktop&&(this.device.macos=this.macos,this.device.windows=this.windows);if(this.device.os&&"ios"===this.device.os){var e=this.device.osVersion.split("."),d=this.doc.querySelector('meta[name\x3d"viewport"]');this.device.minimalUi=!this.device.webView&&(this.ipod||this.iphone)&&(7===1*e[0]?1<=1*e[1]:7<1*e[0])&&d&&0<=d.getAttribute("content").indexOf("minimal-ui")}this.device.needsStatusbarOverlay=
this.needsStatusbarOverlay();this.device.statusbar=this.needsStatusbarOverlay();this.device.pixelRatio=this.win.devicePixelRatio||1;this.isMobile=this.isMobileDevice();this.isTablet=this.isTabletDevice()};c.prototype.needsStatusbarOverlay=function(){return(this.device.webView||this.device.android&&this.device.cordova)&&this.win.innerWidth*this.win.innerHeight===this.win.screen.width*this.win.screen.height?!this.device.iphoneX||90!==this.win.orientation&&-90!==this.win.orientation?!0:!1:!1};c.prototype.isMobileDevice=
function(){return!this.device.desktop&&!this.device.ipad};c.prototype.isTabletDevice=function(){return this.device.ipad};c.prototype.isPCWithTouchScreen=function(){return this.device.desktop&&a["default"]("touch")};c.prototype.isLandscape=function(){return 90===Math.abs(+this.win.orientation)};return c}()})},"arcgisonline/pages/utils/markdown":function(){define(["require","exports","tslib","markdown-it/markdown-it"],function(ba,l,b,a){a=b.__importDefault(a);var c;(function(d){d.Commonmark="commonmark";
d.Default="default";d.Zero="zero"})(c||(c={}));var e;(function(d){d.Table="table";d.Code="code";d.Fence="fence";d.Blockquote="blockquote";d.HorizontalRule="hr";d.List="list";d.Reference="reference";d.Heading="heading";d.LeftHeading="lheading";d.HtmlBlock="html_block";d.Newline="newline";d.Escape="escape";d.Backticks="backticks";d.Strikethrough="strikethrough";d.Emphasis="emphasis";d.Image="image";d.Autolink="autolink";d.HtmlInline="html_inline";d.Entity="entity";d.BalancePairs="balance_pairs";d.TextCollapse=
"text_collapse"})(e||(e={}));return function(){function d(){}d.getLinksOnlyMarkdownInstance=function(){var k=new a["default"]({html:!1,xhtmlOut:!1,linkify:!0,typographer:!1,breaks:!0});k.disable([e.Table,e.Code,e.Fence,e.Blockquote,e.HorizontalRule,e.List,e.Reference,e.Heading,e.LeftHeading,e.HtmlBlock,e.Escape,e.Backticks,e.Strikethrough,e.Emphasis,e.Image,e.Autolink,e.HtmlInline,e.Entity,e.BalancePairs,e.TextCollapse]);return k};return d}()})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/StartAdmin":function(){define(["require",
"exports","tslib","preact","dojo/i18n!../../../../../../nls/arcgisonline"],function(ba,l,b,a,c){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);l["default"]=function(){return a.h("div",{"class":"setup-container"},a.h("div",{"class":"org-section start-button",id:"startToHomeButton","aria-label":c["default"].orgHomePageSetup.start.intro,"data-action":"start"},a.h("div",{"class":"org-setup-header"},c["default"].orgHomePageSetup.start.home),a.h("div",{"class":"start-text"},c["default"].orgHomePageSetup.start.intro)),
a.h("div",{"class":"org-setup-sub-header"},c["default"].orgHomePageSetup.start.contentCaps),a.h("div",{"class":"org-button start-button",id:"startToHeaderButton","aria-label":c["default"].orgHomePageSetup.start.header,"data-action":"header",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header"},c["default"].orgHomePageSetup.start.header,a.h("svg",{viewBox:"0 0 16 16",width:"16",height:"16","class":"icon-inline  "},a.h("path",{d:"M13 5.293v1.414l-4.5 4.5-4.5-4.5V5.293l4.5 4.5z"}))),a.h("div",
{"class":"start-text"},c["default"].orgHomePageSetup.start.headerDesc)),a.h("div",{"class":"org-button start-button",id:"startToContentButton","aria-label":c["default"].orgHomePageSetup.start.body,"data-action":"content",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header"},c["default"].orgHomePageSetup.start.body,a.h("svg",{viewBox:"0 0 16 16",width:"16",height:"16","class":"icon-inline  "},a.h("path",{d:"M13 5.293v1.414l-4.5 4.5-4.5-4.5V5.293l4.5 4.5z"}))),a.h("div",{"class":"start-text"},
c["default"].orgHomePageSetup.start.contentDesc)),a.h("div",{"class":"org-button start-button",id:"startToFooterButton","aria-label":c["default"].orgHomePageSetup.start.footer,"data-action":"footer",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header"},c["default"].orgHomePageSetup.start.footer,a.h("svg",{viewBox:"0 0 16 16",width:"16",height:"16","class":"icon-inline  "},a.h("path",{d:"M13 5.293v1.414l-4.5 4.5-4.5-4.5V5.293l4.5 4.5z"}))),a.h("div",{"class":"start-text"},c["default"].orgHomePageSetup.start.footerDesc)),
a.h("div",{"class":"org-setup-sub-header"},c["default"].orgHomePageSetup.start.design),a.h("div",{"class":"org-button start-button",id:"startToStylesButton","aria-label":c["default"].orgHomePageSetup.start.colors,"data-action":"styles",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header"},c["default"].orgHomePageSetup.start.colors,a.h("svg",{viewBox:"0 0 16 16",width:"16",height:"16","class":"icon-inline  "},a.h("path",{d:"M13 5.293v1.414l-4.5 4.5-4.5-4.5V5.293l4.5 4.5z"}))),a.h("div",
{"class":"start-text"},c["default"].orgHomePageSetup.start.colorsText)),a.h("div",{"class":"org-button start-button",id:"startToTypographyButton","aria-label":c["default"].orgHomePageSetup.start.typography,"data-action":"typography",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header"},c["default"].orgHomePageSetup.start.typography,a.h("svg",{viewBox:"0 0 16 16",width:"16",height:"16","class":"icon-inline  "},a.h("path",{d:"M13 5.293v1.414l-4.5 4.5-4.5-4.5V5.293l4.5 4.5z"}))),a.h("div",
{"class":"start-text"},c["default"].orgHomePageSetup.start.typographyText)))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/HeaderAdmin":function(){define("require exports tslib preact preact/hooks ../utils/homePageUtils ../utils/StockImageSelect dojo/i18n!../../../../../../nls/arcgisonline ../../../../../utils/strings ../../../../../components/ImageUploadModal/ImageUploadModal ../utils/ColorMenu ../utils/ColorCard ../utils/CustomColorOverlay".split(" "),function(ba,
l,b,a,c,e,d,k,n,p,h,m,f){Object.defineProperty(l,"__esModule",{value:!0});d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);l["default"]=function(q){var B=q.HP,v=q.onHeaderChange,t=q.onCustColorChange,u=q.customColorDiv,A=q.portal,z=B.header,E;q=c.useState(z.showTitle);var y=q[0],x=q[1],C=c.useState(z.title);q=C[0];var w=C[1];C=c.useState(z.showLogo);var G=C[0],R=C[1],H=c.useState(z.logo);
C=H[0];var Z=H[1],F=c.useState(z.coverType);H=F[0];var da=F[1];F=c.useState(z.showCoverImg);var V=F[0],ca=F[1];F=z.coverImg;var T="object"===typeof z.coverImgStock?z.coverImgStock.value:z.coverImgStock,aa=B.useCustomStyles?z.headerCustom:z.backgroundColor,D=e.getColors(B,"header",aa);z=D.menuColors;D=c.useState({name:D.startColor,"class":D.startClassSuffix,value:aa});var L=D[0],J=D[1];D=c.useState(!1);var Q=D[0],Y=D[1];c.useEffect(function(){if(Q){var la=document.querySelector("div.sc-container"),
ua=document.querySelector("button.backgroundColor");e.handleMenuPosAndAccess(la,ua,"header")}},[Q]);D=function(la){la=n["default"].stripHTML(la.target.value).substr(0,55);w(la);v("title",la)};var X=function(){E||(E=document.createElement("div"),E.classList.add("homepage-logo-upload-container"),document.querySelector(".home-page-overlay__content").closest(".overlay").appendChild(E))},I=function(){X();a.render(a.h(p["default"],{zoomToFull:!0,onSave:S,onCancel:N,fromOverlay:!0,texts:{title:k["default"].sharedStyles.uploadLogo}}),
E)},S=function(la){var ua=la.blob,qa=la.base64;la=la.fileName;Z(qa);R(!0);v("showLogo",!G);v("logo",{blob:ua,logoURI:qa,fileName:la});N()},N=function(){E.remove();E=void 0},P=function(la){la=la.target.value;v("coverType",la);da(la)},ha=function(){X();a.render(a.h(p["default"],{noEdit:!0,onSave:ia,onCancel:N,fromOverlay:!0,texts:{title:k["default"].orgHomePageSetup.header.uploadCustom,size:k["default"].orgHomePageSetup.header.coverUploadDescription}}),E)},ia=function(la){v("coverImg",{lastBackgroundImage:"url("+
la.base64+")",format:la.format,blob:la.blob});N()},ma=function(la){v("coverImgStock",la.value)},pa=function(la){v("color",la.value);J(la)},ra=function(){a.render(a.h(f["default"],{portal:A,HP:B,index:parseInt(aa.replace("custom",""),10)-1,onCancel:function(){u.classList.add("hide")},onSave:function(la,ua){u.classList.add("hide");var qa=b.__assign({},B);qa.customStyles[la]=ua;qa=e.getColors(qa,"header","custom"+(la+1));var xa=qa.startColor;J({name:xa,"class":qa.startClassSuffix,value:xa});L.value!==
"custom"+(la+1)&&v("color","custom"+(la+1));t("customStyles",B.customStyles)},key:Date.now()}),document.querySelector(".custom-color-overlay"));document.querySelector(".custom-color-overlay").classList.remove("hide")};return a.h("div",{"class":"setup-container flex-column"},a.h("div",{"class":"org-button back-button","data-action":"start",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},a.h("calcite-icon",{scale:"s",icon:"chevron-left"}),a.h("div",{"class":"flex-1 margin-left-quarter"},
k["default"].orgHomePageSetup.start.home))),a.h("div",{"class":"setup-body-wrapper flex-1"},a.h("div",{"class":"org-setup-header org-title-bar"},k["default"].orgHomePageSetup.start.header),a.h("div",{"class":"org-section"},a.h("div",{"class":"org-setup-text"},a.h("div",{"class":"org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},k["default"].orgHomePageSetup.header.showOrganizationTitle,a.h("calcite-switch",{name:"showTitle",value:"enabled",checked:y,"aria-label":k["default"].orgHomePageSetup.header.showOrganizationTitle,
scale:"l",oncalciteSwitchChange:function(){v("showTitle",!y);x(!y)}})))),a.h("div",{"class":"org-setup-text"},y&&a.h("div",{"class":"org-setup-text toggle__orgTitle"},a.h("label",{"class":"trailer-0"},k["default"].orgHomePageSetup.header.organizationTitle,a.h("br",null),a.h("input",{name:"headerTitle",id:"headerTitle","class":"orgTitle",maxLength:55,placeholder:k["default"].orgHomePageSetup.header.organizationTitle,"aria-label":k["default"].orgHomePageSetup.header.organizationTitle,onKeyUp:D,value:q})))),
(G||y)&&a.h("div",{"class":"org-setup-text toggle__orgTitle leader-half"},a.h("label",{"class":"trailer-0"},a.h("div",{"class":"content-block-color-title"},a.h("div",{"class":"title"},k["default"].orgHomePageSetup.header.organizationTitleColor),L.value.match(/^custom/)&&a.h("a",{href:"javascript:void(0)",onClick:ra},a.h("div",{"class":"edit-custom-block-color"},k["default"].orgHomePageSetup.styles.editCustomStyle))),a.h(m["default"],{color:L,title:k["default"].orgHomePageSetup.start.header,onClick:function(){Y(!Q)}})))),
a.h("div",{"class":"org-section org-setup-text bottom-margin-half-rem org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},k["default"].orgHomePageSetup.header.showLogo,a.h("calcite-switch",{name:"showLogo",value:"enabled",checked:G,scale:"l",oncalciteSwitchChange:function(){v("showLogo",!G);R(!G)}})),G&&a.h("div",{"class":"org-setup-text org-padding-top"},a.h("button",{"class":"org-setup-text toggle__logo",onClick:I},a.h("div",{"class":"home-page__image-upload-card org-subtext home-page__logo-inputs"},
a.h("div",{"class":"home-page__logo-name"},C?k["default"].orgHomePageSetup.header.logoApplied:k["default"].orgHomePageSetup.header.noFileChosen),a.h("div",{tabIndex:0,"class":"home-page__logo-link home-page__edit-btn"},C?k["default"].orgHomePageSetup.header.replaceFile:k["default"].orgHomePageSetup.header.chooseFile))),a.h("div",{"class":"input-error-message logo-image-error"}))),a.h("div",{"class":"org-section"},a.h("div",{"class":"org-setup-text"},a.h("div",{"class":"org-padding-top"},a.h("calcite-label",
{layout:"inline-space-between"},k["default"].orgHomePageSetup.header.showCoverImg,a.h("calcite-switch",{name:"showCoverImg",value:"enabled",checked:V,scale:"l",oncalciteSwitchChange:function(){v("showCoverImg",!V);ca(!V)}}))),V&&a.h("div",null,a.h("div",{"class":"toggle__coverImg"},a.h("label",{"class":"trailer-0","for":"stock-cover-radio"},a.h("input",{tabIndex:0,type:"radio",id:"stock-cover-radio",name:"coverImage","class":"coverImage coverImage-stock","aria-label":k["default"].orgHomePageSetup.header.stockCover,
value:"stock",onClick:P,checked:"stock"===H}),k["default"].orgHomePageSetup.header.stockCover)),"stock"===H&&a.h("div",{"class":"stock-images-container toggle__coverImg needs-cover-img"},a.h(d["default"],{coverImgStock:T,onStockImgChange:ma})),a.h("div",{"class":"toggle__coverImg needs-cover-img"},a.h("label",{"class":"trailer-0","for":"custom-cover-radio"},a.h("input",{tabIndex:0,id:"custom-cover-radio",type:"radio",name:"coverImage","class":"coverImage coverImage-custom","aria-label":k["default"].orgHomePageSetup.header.uploadCustom,
value:"custom",onClick:P,checked:"custom"===H}),k["default"].orgHomePageSetup.header.uploadCustom)),"custom"===H&&a.h("button",{"class":"org-setup-text toggle__logo",onClick:ha},a.h("div",{"class":"home-page__image-upload-card org-subtext home-page__logo-inputs"},a.h("div",{"class":"home-page__logo-name"},F?k["default"].orgHomePageSetup.header.customApplied:k["default"].orgHomePageSetup.header.noFileChosen),a.h("div",{tabIndex:0,"class":"home-page__logo-link home-page__edit-btn"},F?k["default"].orgHomePageSetup.header.replaceFile:
k["default"].orgHomePageSetup.header.chooseFile)))))),a.h("div",{"class":"org-button header-to-layout",id:"headerToLayoutButton","data-action":"cover-1",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header"},k["default"].orgHomePageSetup.header.layoutOptions,a.h("calcite-icon",{scale:"s",icon:"chevron-right"})))),Q&&a.h(h["default"],{colors:z,onSelect:pa,onClose:function(){return Y(!1)}}))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/StockImageSelect":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../../../../nls/arcgisonline ../../../../../../sharing/util".split(" "),
function(ba,l,b,a,c,e,d){Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);d=b.__importDefault(d);l["default"]=function(k){var n=k.onStockImgChange;k=k.coverImgStock||"1";var p=[{name:e["default"].orgHomePageSetup.header.violetRiver,value:"1",image:d["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background_t-1.png")},{name:e["default"].orgHomePageSetup.header.emeraldRiver,value:"2",image:d["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background_t-2.png")},
{name:e["default"].orgHomePageSetup.header.amberGeology,value:"3",image:d["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background_t-3.png")},{name:e["default"].orgHomePageSetup.header.lilacGeology,value:"4",image:d["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background_t-4.png")},{name:e["default"].orgHomePageSetup.header.goldSoil,value:"5",image:d["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background_t-5.png")},{name:e["default"].orgHomePageSetup.header.silverSoil,
value:"6",image:d["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background_t-6.png")}];k=parseInt(k,10)-1;k=c.useState(p[k]);var h=k[0],m=k[1];c.useEffect(function(){h||m(p[0]);f.current.innerHTML=h?h.name:p[0].name});var f=c.useRef(),q=c.useRef(),B=c.useRef(),v=c.useRef(),t,u=function(y){A();document.body.removeEventListener("click",z);y=parseInt(y.target.dataset.value,10)-1;y=p[y];m(y);n(y)},A=function(){var y=v.current.offsetTop;y>window.innerHeight-(y+45)-v.current.offsetHeight?
(B.current.style.top="inherit",B.current.style.bottom=v.current.offsetHeight+"px"):(B.current.style.top=v.current.offsetHeight+"px",B.current.style.bottom="inherit");q.current.classList.toggle("hide");y=q.current.classList.contains("hide");var x=q.current.querySelectorAll(".option");t=x[0];x=x[x.length-1];document.body.removeEventListener("click",z);q.current.removeEventListener("keydown",E);x.removeEventListener("blur",A);y?(v.current.focus(),t=void 0):(null===t||void 0===t?void 0:t.focus(),q.current.addEventListener("keyup",
E),x.addEventListener("blur",A),document.body.addEventListener("click",z))},z=function(y){var x=y.target,C=!1;y.target&&(C=x&&!v.current.contains(x));C&&A()},E=function(y){y.preventDefault();if("Escape"===y.key)A();else if("Tab"===y.key&&!y.shiftKey||"ArrowDown"===y.keyCode)(y=t.nextSibling)&&q.current.contains(y)?(y.focus(),t=y):A();else if("ArrowUp"===y.key||"Tab"===y.key)(y=t.previousSibling)&&q.current.contains(y)?(y.focus(),t=y):A()};return a.h("div",{id:"stockImageSelect","class":"stock-images-select"},
a.h("a",{href:"javascript:void(0)",onClick:A,ref:v,tabIndex:0},a.h("div",{"class":"enh-sel-dropdown","data-dojo-attach-point":"dropdownEl","aria-haspopup":"true","aria-expanded":"false",id:"stockImageSelect","aria-label":"Select a stock image","aria-controls":"stockImageSelect-menu"},a.h("div",{"class":"title pointerCursor stockImgName",ref:f},h.name))),a.h("div",{"class":"menu pointerCursor enh-sel-dropdown hide",ref:q,id:"stockImageSelect-menu",role:"menu"},a.h("div",{"class":"menu",ref:B},p.map(function(y,
x){return a.h("button",{"class":"option","data-value":x+1,"aria-label":y.name,"aria-role":"menuitem",tabIndex:0,key:Date.now()+x,onClick:u},y.name,a.h("img",{src:y.image,"class":"option-image",alt:""}))}))))}})},"arcgisonline/pages/components/ImageUploadModal/ImageUploadModal":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./UploadStep ./EditStep ./FromMapStep ./shared arcgisonline/pages/utils/alerts dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f,q){Object.defineProperty(l,"__esModule",{value:!0});k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);m=b.__importDefault(m);f=b.__importDefault(f);q=b.__importDefault(q);ba=q["default"].uploadLogo;var B=f["default"].GroupWidget.thumbnailDlg,v={title:ba.name,drag:ba.dragDrop,size:ba.bestSize,browse:ba.browse,save:q["default"].common.save,cancel:q["default"].common.cancel,fileError:ba.validImageRequired,saveError:ba.imageEditError,zoom:ba.zoom,
chooseDiff:ba.chooseDiff,or:B.or,fromMap:B.createFromMap,fromMapDescription:B.createFromMapSub};q=function(t){function u(){aa&&document.documentElement.classList.add("overflow-hidden")}var A=t.texts,z=t.height,E=t.zoomToFull,y=t.onSave,x=t.onCancel,C=t.onDelete,w=t.hideSize,G=t.existingImage,R=t.isRound,H=t.fillBackground,Z=t.maxSize,F=t.hasDelete,da=t.allowFromMap,V=t.aspectRatio,ca=t.contentClass,T=t.itemId,aa=t.fromOverlay,D=t.noEdit;t=b.__assign(b.__assign({},v),A);z=c.useReducer(d.reducer,{previewSrc:"",
imageScale:1,imageWidth:0,imageHeight:0,imageTop:0,imageLeft:0,manuallySettingZoom:!1,isModified:!1,zoomValue:"50",currentStep:"upload",imageFormat:"png",fileName:"",editingExisting:!1,transformOrigin:{x:50,y:50},loadingImage:!1,previewImage:void 0,texts:t,hideSize:w,saving:!1,deleting:!1,saveData:void 0,aspectRatio:V||1,height:z,isRound:R,fillBackground:H,maxSize:Z,zoomToFull:E,allowFromMap:da,itemId:T,noEdit:D});var L=z[0],J=z[1];z=c.useMemo(function(){return{state:L,dispatch:J}},[L]);E=c.useRef(null);
w=c.useRef(null);R=t.title;H=t.save;Z=t.cancel;var Q=t.fileError;t=t.chooseDiff;c.useEffect(function(){var S=function(N){"new_thumb"!==N.data.dataType||L.previewSrc===N.data.dataUrl||L.saving||(J(d.setImageFromMap(N.data.dataUrl)),window.parent.removeEventListener("message",S))};window.parent.addEventListener("message",S)},[]);c.useEffect(function(){L.fromMapLoaded&&J(d.initSave())},[L.fromMapLoaded]);c.useEffect(function(){L.saveData&&(y(L.saveData),u())},[L.saveData]);c.useEffect(function(){L.saving&&
D&&J(d.updateSaveData({blob:h.dataURIToBlob(L.previewSrc),base64:L.previewSrc,format:L.imageFormat}))},[L.saving,D]);c.useEffect(function(){G&&J(d.editExistingImage(G))},[G]);da=function(){return"edit"===L.currentStep};var Y=function(){return"fromMap"===L.currentStep};V="rtl"===document.documentElement.getAttribute("dir");T=function(){J(d.changeImage())};var X=function(){J(d.initDelete());C()},I=function(){x();u()};w.current&&(w.current.loading=L.saving);E.current&&(E.current.loading=L.deleting);
return a.h(e.StoreContext.Provider,{value:z},a.h("calcite-modal",{width:650,active:!0,role:"dialog","aria-modal":"true","aria-labelledby":"image-upload-modal-title",disableOutsideClose:!0,oncalciteModalClose:I,intlClose:f["default"].common.close},a.h("h3",{slot:"header",id:"image-upload-modal-title","aria-label":R,"class":"font-size-2 trailer-0"},R),a.h("div",{slot:"content","class":""+(ca||"")},a.h("div",{"class":"panel content-node padding-trailer-1 "+(Y()?"":"org-settings__upload-logo-dlg-content")},
"upload"===L.currentStep&&a.h(k["default"],null),da()&&a.h(n["default"],null),Y()&&a.h(p["default"],null))),(da()||Y())&&!F&&a.h("calcite-button",{slot:"back",appearance:"transparent",color:"blue","icon-start":"chevron-left",width:"full",disabled:L.saving,onClick:T,"icon-flip-rtl":V?"start":""},t),da()&&L.editingExisting&&void 0!==C&&a.h("calcite-button",{ref:E,slot:"back",appearance:"outline",width:"full",color:"blue",disabled:L.saving,onClick:X},A["delete"]),!F&&a.h("calcite-button",{slot:"secondary",
disabled:L.saving,color:"blue",appearance:"outline",width:"full",onClick:I},Z),F&&da()&&a.h("calcite-button",{slot:"secondary",disabled:L.saving||L.deleting,color:"blue",appearance:"outline",width:"full",onClick:T},A.changePhoto),a.h("calcite-button",{ref:w,slot:"primary",color:"blue",appearance:"solid",width:"full",onClick:function(){Y()?window.postMessage("thumbnail_create","*"):!D&&"edit"!==L.currentStep||!L.previewSrc?m["default"].showAlert("error",Q):J(d.initSave())},disabled:L.deleting},H)))};
q.defaultProps={height:412>window.innerWidth?200:300,texts:v,aspectRatio:1};l["default"]=q})},"arcgisonline/pages/components/ImageUploadModal/store-context":function(){define(["require","exports","preact","preact/hooks"],function(ba,l,b,a){Object.defineProperty(l,"__esModule",{value:!0});l.useStoreContext=l.StoreContext=void 0;l.StoreContext=b.createContext({});l.useStoreContext=function(){return a.useContext(l.StoreContext)}})},"arcgisonline/pages/components/ImageUploadModal/reducer":function(){define(["require",
"exports","tslib"],function(ba,l,b){Object.defineProperty(l,"__esModule",{value:!0});l.reducer=l.setImageFromMap=l.showFromMapStep=l.editExistingImage=l.updatePreviewImage=l.imageLoaded=l.updateZoomScale=l.updateManuallySettingZoom=l.updateImagePosition=l.updateSrcAndFileName=l.updatePreviewSrc=l.updateSaveData=l.initDelete=l.initSave=l.changeImage=l.SET_IMAGE_FROM_MAP=l.SHOW_FROM_MAP_STEP=l.IMAGE_LOADED=l.EDIT_EXISTING_IMAGE=l.UPDATE_PREVIEW_IMAGE=l.UPDATE_SRC_AND_FILE_NAME=l.UPDATE_ZOOM_SCALE=l.UPDATE_MANUALLY_SETTING_ZOOM=
l.UPDATE_IMAGE_POSITION=l.UPDATE_PREVIEW_SRC=l.UPDATE_SAVE_DATA=l.INIT_DELETE=l.INIT_SAVE=l.CHANGE_IMAGE=void 0;l.CHANGE_IMAGE="CHANGE_IMAGE";l.INIT_SAVE="INIT_SAVE";l.INIT_DELETE="INIT_DELETE";l.UPDATE_SAVE_DATA="UPDATE_SAVE_DATA";l.UPDATE_PREVIEW_SRC="UPDATE_PREVIEW_SRC";l.UPDATE_IMAGE_POSITION="UPDATE_IMAGE_POSITION";l.UPDATE_MANUALLY_SETTING_ZOOM="UPDATE_MANUALLY_SETTING_ZOOM";l.UPDATE_ZOOM_SCALE="UPDATE_ZOOM_SCALE";l.UPDATE_SRC_AND_FILE_NAME="UPDATE_SRC_AND_FILE_NAME";l.UPDATE_PREVIEW_IMAGE=
"UPDATE_PREVIEW_IMAGE";l.EDIT_EXISTING_IMAGE="EDIT_EXISTING_IMAGE";l.IMAGE_LOADED="IMAGE_LOADED";l.SHOW_FROM_MAP_STEP="SHOW_FROM_MAP_STEP";l.SET_IMAGE_FROM_MAP="SET_IMAGE_FROM_MAP";l.changeImage=function(){return{type:l.CHANGE_IMAGE}};l.initSave=function(){return{type:l.INIT_SAVE}};l.initDelete=function(){return{type:l.INIT_DELETE}};l.updateSaveData=function(a){return{type:l.UPDATE_SAVE_DATA,payload:a}};l.updatePreviewSrc=function(a){return{type:l.UPDATE_PREVIEW_SRC,payload:a}};l.updateSrcAndFileName=
function(a){return{type:l.UPDATE_SRC_AND_FILE_NAME,payload:a}};l.updateImagePosition=function(a){return{type:l.UPDATE_IMAGE_POSITION,payload:a}};l.updateManuallySettingZoom=function(a){return{type:l.UPDATE_MANUALLY_SETTING_ZOOM,payload:a}};l.updateZoomScale=function(a){return{type:l.UPDATE_ZOOM_SCALE,payload:a}};l.imageLoaded=function(a){return{type:l.IMAGE_LOADED,payload:a}};l.updatePreviewImage=function(a){return{type:l.UPDATE_PREVIEW_IMAGE,payload:a}};l.editExistingImage=function(a){return{type:l.EDIT_EXISTING_IMAGE,
payload:a}};l.showFromMapStep=function(){return{type:l.SHOW_FROM_MAP_STEP}};l.setImageFromMap=function(a){return{type:l.SET_IMAGE_FROM_MAP,payload:a}};l.reducer=function(a,c){var e=c.payload;switch(c.type){case l.CHANGE_IMAGE:return b.__assign(b.__assign({},a),{currentStep:"upload",editingExisting:!1,previewSrc:""});case l.INIT_SAVE:return b.__assign(b.__assign({},a),{saving:!0});case l.INIT_DELETE:return b.__assign(b.__assign({},a),{deleting:!0});case l.UPDATE_SAVE_DATA:return b.__assign(b.__assign({},
a),{saveData:b.__assign(b.__assign({},e),{fileName:a.fileName,isModified:a.isModified})});case l.UPDATE_PREVIEW_SRC:return b.__assign(b.__assign({},a),{previewSrc:e,imageScale:1,currentStep:"edit"});case l.UPDATE_SRC_AND_FILE_NAME:return b.__assign(b.__assign({},a),{previewSrc:e.previewSrc,fileName:e.fileName,imageScale:1,currentStep:a.noEdit?"upload":"edit"});case l.UPDATE_PREVIEW_IMAGE:return b.__assign(b.__assign({},a),{previewImage:e});case l.UPDATE_IMAGE_POSITION:var d=b.__assign({},a);void 0!==
e.imageTop&&(d.imageTop=e.imageTop);void 0!==e.imageLeft&&(d.imageLeft=e.imageLeft);return b.__assign(b.__assign({},d),{isModified:!0});case l.UPDATE_MANUALLY_SETTING_ZOOM:return b.__assign(b.__assign({},a),{manuallySettingZoom:e});case l.EDIT_EXISTING_IMAGE:return b.__assign(b.__assign({},a),{editingExisting:!0,previewSrc:e,currentStep:"edit",loadingImage:!0});case l.UPDATE_ZOOM_SCALE:return b.__assign(b.__assign({},a),{imageScale:e.imageScale,zoomValue:e.zoomValue,isModified:!0});case l.IMAGE_LOADED:d=
a.height;var k=a.zoomToFull,n=a.aspectRatio,p={};if(a.editingExisting)k=e.width,p={imageWidth:k,imageHeight:k,imageScale:d/k,imageTop:0,imageLeft:0,transformOrigin:{x:0,y:0},loadingImage:!1,previewImage:e};else{var h=1===n?d:d*n,m=e.clientWidth,f=e.clientHeight;p="fromMap"===a.currentStep;p={imageWidth:m,imageHeight:f,imageTop:d/2-f/2,imageLeft:d*n/2-m/2,currentStep:p?"fromMap":"edit",transformOrigin:{x:50,y:50},previewImage:e,fromMapLoaded:p};k&&(e=h/(m>f?m:f),p=b.__assign(b.__assign({},p),{imageScale:e,
manuallySettingZoom:!0,zoomValue:""+(50+Math.log(e)/Math.log(1.1)),isModified:!0}))}e=b.__assign(b.__assign({},a),p);return e;case l.SHOW_FROM_MAP_STEP:return b.__assign(b.__assign({},a),{currentStep:"fromMap"});case l.SET_IMAGE_FROM_MAP:return b.__assign(b.__assign({},a),{previewSrc:e,imageScale:1});default:return b.__assign({},a)}}})},"arcgisonline/pages/components/ImageUploadModal/UploadStep":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(ba,l,b,a,c,e,d,k){var n=this;Object.defineProperty(l,"__esModule",{value:!0});k=b.__importDefault(k);l["default"]=function(){var p=e.useStoreContext(),h=p.state,m=p.dispatch,f=h.texts;p=h.hideSize;var q=h.allowFromMap,B=c.useRef(null),v=c.useRef(null);c.useEffect(function(){B.current&&B.current.focus()},[B.current]);var t=function(z){z.preventDefault()},u=function(z){var E=v.current;if(E.value||z){var y=z||E.files[0];y&&((null===y||void 0===y?0:y.name)&&/\.(gif|jpg|jpeg|png)$/i.test(y.name)?
(z=new FileReader,z.onload=function(x){return b.__awaiter(n,void 0,void 0,function(){return b.__generator(this,function(C){m(d.updateSrcAndFileName({previewSrc:x.target.result,fileName:y.name||(null===E||void 0===E?void 0:E.value)||""}));return[2]})})},z.readAsDataURL(y)):k["default"].showAlert("error",f.fileError))}},A=function(){m(d.showFromMapStep())};return a.h("div",{"class":"text-center",onDragOver:t,onDragEnter:t,onDrop:function(z){z.preventDefault();u(z.dataTransfer.files[0])},"aria-label":f.drag},
a.h("div",{"class":"icon-large trailer-half leader-quarter text-dark-gray"},a.h("calcite-icon",{icon:"upload"})),a.h("div",{"class":"trailer-0"},a.h("div",{"class":"font-size-1","aria-label":f.drag},f.drag),!p&&a.h("div",{"aria-label":f.size},f.size)),a.h("button",{ref:B,"class":"btn-link btn-link-dark-blue leader-1",onClick:function(){v.current.click()},onKeyDown:function(z){13===z.keyCode&&(z.preventDefault(),v.current.click())},"aria-label":f.browse},a.h("div",{"class":"flex flex-align-center"},
(!h.noEdit||!h.fileName)&&a.h(a.Fragment,null,a.h("calcite-icon",{icon:"image","class":"margin-right-half"})," ",f.browse),h.noEdit&&h.fileName&&a.h(a.Fragment,null,h.fileName," ",a.h("calcite-icon",{icon:"check","class":"margin-left-half image-upload-modal__check-icon"})))),a.h("input",{ref:v,"class":"hide",type:"file",accept:".jpg,.gif,.png,image/jpg,image/gif,image/png",onChange:function(){u()}}),q&&a.h("div",{tabIndex:0,onClick:A},a.h("p",{"class":"text-center leader-1 trailer-half"},a.h("b",
{"class":"horizontal-lines"},a.h("span",null,f.or))),a.h("div",{"class":"text-center panel thumbnail-from-map-container","data-dojo-attach-point":"_createFromMap",id:"createFromMap"},a.h("p",{"class":"trailer-0"},a.h("span",{"class":"flex-center font-size-1"},a.h("div",{"class":"flex flex-align-center"},a.h("calcite-icon",{scale:"m",icon:"map","class":"margin-right-half"})," ",f.fromMap)),a.h("span",{"class":"display-block font-size--2"},f.fromMapDescription)))))}})},"arcgisonline/pages/components/ImageUploadModal/EditStep":function(){define("require exports tslib preact preact/hooks ./TranslucentContainer ./ImageCanvas ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(ba,l,b,a,c,e,d,k,n,p){Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);d=b.__importDefault(d);p=b.__importDefault(p);l["default"]=function(){var h=k.useStoreContext(),m=h.state,f=h.dispatch,q=m.texts,B=c.useRef(null),v=c.useRef(null),t=m.height*m.aspectRatio;h=m.height+60+"px";var u={width:t+60+"px",height:h};t={width:t+"px",height:m.height+"px"};var A={transform:"scale("+m.imageScale+")",top:m.imageTop+"px",left:m.imageLeft+"px",transformOrigin:m.transformOrigin.x+
"% "+m.transformOrigin.y+"%"};c.useEffect(function(){B.current&&B.current.focus()},[B.current]);c.useEffect(function(){v.current&&f(n.updatePreviewImage(v.current))},[v.current]);var z=function(){f(n.imageLoaded(v.current))},E=function(){p["default"].showAlert("error",q.fileError);f(n.changeImage())},y=function(x){m.manuallySettingZoom?f(n.updateManuallySettingZoom(!1)):f(n.updateZoomScale({imageScale:Math.pow(1.1,x.target.value-50),zoomValue:x.target.value}))};return a.h("div",{"class":"edit-thumb-display",
onWheel:function(x){x.preventDefault();x=0<x.deltaY?1*m.imageScale/1.1:1.1*m.imageScale;f(n.updateZoomScale({imageScale:x,zoomValue:""+(50+Math.log(x)/Math.log(1.1))}))}},a.h(d["default"],{imageContainer:B.current}),a.h("div",{"class":"crop-thumb-container overflow-hidden",style:{height:h}},a.h(e["default"],{onDrag:function(x){f(n.updateImagePosition({imageTop:m.imageTop+x.top,imageLeft:m.imageLeft+x.left}))},style:u},a.h("div",{ref:B,"class":"crop-thumb-clear",tabIndex:0,style:t,onKeyDown:function(x){var C=
!1;switch(x.key){case "ArrowUp":f(n.updateImagePosition({imageTop:m.imageTop-1}));C=!0;break;case "ArrowDown":f(n.updateImagePosition({imageTop:m.imageTop+1}));C=!0;break;case "ArrowLeft":f(n.updateImagePosition({imageLeft:m.imageLeft-1}));C=!0;break;case "ArrowRight":f(n.updateImagePosition({imageLeft:m.imageLeft+1})),C=!0}C&&x.preventDefault()}},m.previewSrc&&a.h("img",{ref:v,src:m.previewSrc,alt:"","class":"preview-image "+(m.loadingImage?"visibility-hidden":""),style:A,onLoad:z,onError:E})))),
"edit"===m.currentStep&&a.h("label",{htmlFor:"","class":"trailer-half leader-half"},q.zoom,a.h("input",{type:"range",value:m.zoomValue,onInput:y,onChange:y,"aria-label":q.zoom}),a.h("span",{"class":"clearfix"},a.h("span",{"class":"left inline-block leader-half"},a.h("calcite-icon",{icon:"image",scale:"s"})),a.h("span",{"class":"right"},a.h("calcite-icon",{icon:"image",scale:"l"})))))}})},"arcgisonline/pages/components/ImageUploadModal/TranslucentContainer":function(){define(["require","exports","preact",
"preact/hooks"],function(ba,l,b,a){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(c){var e=c.style,d=c.onDrag;c=c.children;var k=a.useState(!1),n=k[0],p=k[1];k=a.useState(void 0);var h=k[0],m=k[1];k=function(){p(!0)};var f=function(B){var v=B.touches,t=B.clientX,u=B.clientY;if(void 0===t||void 0===u){if(null===v||void 0===v||!v.length)return;t=v[0].clientX;u=v[0].clientY}n&&(h?(v=h.top,B=h.left,u-=v,t-=B,d({top:u,left:t}),m({top:v+u,left:B+t})):m({top:u,left:t}))},q=function(){p(!1);
m(void 0)};return b.h("div",{"class":"crop-thumb-translucent overflow-hidden",style:e,onMouseDown:k,onTouchStart:k,onMouseMove:f,onTouchMove:f,onMouseUp:q,onTouchEnd:q,onMouseOut:q},c)}})},"arcgisonline/pages/components/ImageUploadModal/ImageCanvas":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./shared arcgisonline/pages/utils/alerts".split(" "),function(ba,l,b,a,c,e,d,k,n){var p=this;Object.defineProperty(l,"__esModule",{value:!0});n=b.__importDefault(n);
l["default"]=function(h){var m=h.imageContainer;h=e.useStoreContext();var f=h.state,q=h.dispatch,B=f.texts,v=c.useRef(null),t=function(z){var E=z.image,y=z.context,x=z.selectionX,C=z.selectionY,w=z.selectionWidth,G=z.selectionHeight,R=z.canvasWidth,H=z.canvasHeight,Z=z.minWidth,F=z.minHeight,da=z.drawDimensions,V=z.scaleFactor;z=v.current;z.width=R<Z?Z:R*V;z.height=H<F?F:H*V;f.maxSize&&(z.width>f.maxSize&&(z.width=f.maxSize),z.height>f.maxSize&&(z.height=f.maxSize));R=da.left*z.width;H=da.top*z.height;
Z=da.width*z.width;da=da.height*z.height;!f.isRound&&f.fillBackground&&(y.fillStyle="#efefef",y.fillRect(0,0,z.width,z.height));y.drawImage(E,x,C,w,G,R,H,Z,da);f.isRound&&(y.globalCompositeOperation="destination-in",y.beginPath(),y.arc(z.width/2,z.height/2,z.height/2,0,2*Math.PI),y.closePath(),y.fill());E=z.toDataURL("image/png");y=k.dataURIToBlob(E);return{base64:E,blob:y}},u=function(){return new Promise(function(z,E){var y=new Image;-1<f.previewSrc.indexOf("arcgis.com")&&(y.crossOrigin="Anonymous");
y.onload=function(){if(.01>Math.abs(f.aspectRatio-y.width/y.height)&&!f.isModified)z({blob:k.dataURIToBlob(f.previewSrc),base64:f.previewSrc,format:f.imageFormat});else{var x=f.height*f.aspectRatio,C=f.height;var w=f.previewImage.getBoundingClientRect();var G=m.getBoundingClientRect();var R=(G.left-w.left)/w.width;var H=(G.right-w.left)/w.width;var Z=(G.top-w.top)/w.height;w=(G.bottom-w.top)/w.height;G=0>R?0:R;var F=0>Z?0:Z,da=1<H?1:H,V=1<w?1:w,ca=f.previewImage.getBoundingClientRect();var T=m.getBoundingClientRect();
T={left:(0<ca.left-T.left?ca.left-T.left:0)/T.width,top:(0<ca.top-T.top?ca.top-T.top:0)/T.height,width:((ca.right>T.right?T.right:ca.right)-(ca.left<T.left?T.left:ca.left))/T.width,height:((ca.bottom>T.bottom?T.bottom:ca.bottom)-(ca.top<T.top?T.top:ca.top))/T.height};ca=v.current.getContext("2d");R={image:y,context:ca,selectionX:G*f.imageWidth,selectionY:F*f.imageHeight,selectionWidth:da*f.imageWidth-G*f.imageWidth,selectionHeight:V*f.imageHeight-F*f.imageHeight,canvasWidth:H*f.imageWidth-R*f.imageWidth,
canvasHeight:w*f.imageHeight-Z*f.imageHeight,minWidth:x,minHeight:C,drawDimensions:T,scaleFactor:1};try{var aa=t(b.__assign({},R));if(1E7<aa.blob.size||0===aa.blob.size)ca.clearRect(0,0,v.current.width,v.current.height),aa=t(b.__assign(b.__assign({},R),{scaleFactor:1600/y.width}))}catch(D){"NS_ERROR_FAILURE"!==D.name?n["default"].showAlert("error",B.saveError):(ca.clearRect(0,0,v.current.width,v.current.height),aa=t(b.__assign(b.__assign({},R),{scaleFactor:1600/y.width})))}z({blob:null===aa||void 0===
aa?void 0:aa.blob,base64:null===aa||void 0===aa?void 0:aa.base64,format:f.imageFormat})}};y.onerror=function(){n["default"].showAlert("error",B.fileError)};y.src=f.previewSrc})},A=function(){return b.__awaiter(p,void 0,void 0,function(){var z;return b.__generator(this,function(E){switch(E.label){case 0:return[4,u()];case 1:return z=E.sent(),q(d.updateSaveData(b.__assign({},z))),[2]}})})};c.useEffect(function(){f.saving&&A()},[f.saving]);return a.h("canvas",{ref:v,"class":"upload-image-canvas"})}})},
"arcgisonline/pages/components/ImageUploadModal/shared":function(){define(["require","exports"],function(ba,l){Object.defineProperty(l,"__esModule",{value:!0});l.dataURIToBlob=void 0;l.dataURIToBlob=function(b){var a=atob(b.split(",")[1]);b=b.split(",")[0].split(":")[1].split(";")[0];for(var c=new ArrayBuffer(a.length),e=new Uint8Array(c),d=0;d<a.length;d++)e[d]=a.charCodeAt(d);return new Blob([c],{type:b})}})},"arcgisonline/pages/components/ImageUploadModal/FromMapStep":function(){define("require exports tslib preact ./store-context ./EditStep arcgisonline/esriGeowConfig arcgisonline/sharing/util".split(" "),
function(ba,l,b,a,c,e,d,k){Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);l["default"]=function(){var n=c.useStoreContext().state;n=(d["default"].isDebug?"webviewer/dist/":"/apps/mapviewer/")+"thumbnailer.html?webmap\x3d"+n.itemId;if(k["default"].isPortal()){var p=d["default"].self.portalHostname.replace(/^[^\/]*/,"");n=n.replace("/apps/",p+"/apps/");n+="\x26extentService\x3d"+encodeURI(d["default"].extentService)}return a.h("div",
{"class":"text-center position: relative;",style:"max-height: 60vh"},a.h("iframe",{"data-dojo-attach-point":"_mapIframe",style:"border:none; overflow:hidden",src:n,width:"600",height:"399"}),a.h("div",{style:"visibility: hidden; position: absolute; top: 0;"},a.h(e["default"],null)))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/ColorMenu":function(){define("require exports tslib preact preact/hooks ./ColorMenuOption".split(" "),function(ba,l,b,a,c,e){Object.defineProperty(l,
"__esModule",{value:!0});e=b.__importDefault(e);l["default"]=function(d){var k=d.colors,n=d.onSelect,p=d.onClose,h=c.useRef();c.useEffect(function(){document.addEventListener("click",m,!0);return function(){document.removeEventListener("click",m,!0)}},[]);var m=function(q){var B,v,t=q.target,u=null===(B=h.current)||void 0===B?void 0:B.closest("label");u?u.contains(t)||(q.stopPropagation(),q.preventDefault(),q.cancelBubble=!0,p()):null!==(v=h.current)&&void 0!==v&&v.contains(t)||(q.stopPropagation(),
q.preventDefault(),q.cancelBubble=!0,p())},f=function(q){p();n(q)};return a.h("div",{"class":"sc-container",ref:h},a.h("div",{"class":"style-content-cards style-content-menu no-basecolor enh-sel-dropdown",tabIndex:0},a.h("div",{"class":"menu"},k.map(function(q,B){return a.h(e["default"],{value:q,index:B,key:Date.now()+B,onSelect:f})}))))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/ColorMenuOption":function(){define("require exports tslib preact ../utils/AaBox dojo/i18n!../../../../../../nls/arcgisonline".split(" "),
function(ba,l,b,a,c,e){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);e=b.__importDefault(e);l["default"]=function(d){var k=d.value,n=d.onSelect,p=d.baseColor;return a.h("button",{tabIndex:0,"class":"ramp-only style-content-card style-content-card-"+(p?"ob":"-"+k["class"])+" option "+(d.isSelected?"base-color":""),onClick:function(){n(p?p:k)},key:d.index},a.h(c["default"],{className:p?"aA-box one-aA light-"+p:null}),p&&a.h(c["default"],{className:"aA-box two-aA medium-"+p}),
p&&a.h(c["default"],{className:"aA-box three-aA dark-"+p}),a.h("div",{"class":"style-text"},p&&a.h("div",{"class":"style-header"},e["default"].orgHomePageSetup.colors[p.replace("gs","grayscaleOnly")]),!p&&k.name))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/AaBox":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../../../../nls/arcgisonline"],function(ba,l,b,a,c){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);l["default"]=
function(e){return a.h("div",{"class":e.className||"aA-box"},a.h("svg",null,a.h("rect",{width:"32",height:"32"}),a.h("text",{"class":"aAtext",x:"16",y:"21"},c["default"].orgHomePageSetup.styles.aA)))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/ColorCard":function(){define("require exports tslib preact dojo/i18n!../../../../../../nls/arcgisonline ../utils/AaBox".split(" "),function(ba,l,b,a,c,e){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);
e=b.__importDefault(e);l["default"]=function(d){var k=d.color,n=d.title,p=d.onClick;d=d.noArrow;n=n||"";return a.h("button",{tabIndex:0,"aria-label":c["default"].orgHomePageSetup.header.backgroundColor,"class":"backgroundColor",id:"backgroundColor",onClick:p},a.h("div",{"class":"style-content-card style-content-card--"+k["class"]+" style-content-card-footer"},a.h(e["default"],null),a.h("div",{"class":"style-text"},""!==n&&a.h("div",{"class":"style-header"},n),a.h("div",{"class":"style-text-name"},
c["default"].orgHomePageSetup.styles.style,"\u00a0",a.h("span",null,k.name))),!d&&a.h("div",{"class":"style-arrow"},a.h("calcite-icon",{scale:"s",icon:"caret-down"}))))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/CustomColorOverlay":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../../../../nls/arcgisonline ../../../../../../esriGeowConfig ../utils/homePageUtils ../../../../../utils/color ../../../../../utils/focus ../../../../../utils/number ../../../../../utils/timeout".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m){var f=this;Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);d=b.__importDefault(d);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);l["default"]=function(q){var B,v=q.portal,t=q.HP,u=q.index,A=q.onCancel,z=q.onSave,E={background:"#202020",header:"#fff",text:"#fff",button:"#00A0FF",name:e["default"].orgHomePageSetup.styles.customStyleX.replace("${x}",u+1)};q=d["default"].isRightToLeft?"rtl":"ltr";for(var y=4,x=3;0<=x;x--)t.customStyles[x]||
(y=x);x=t.key;var C=t.customStyles[u]?e["default"].orgHomePageSetup.styles.editCustomStyle:e["default"].orgHomePageSetup.styles.addCustomStyle;E=t.customStyles[u]||E;var w=c.useState(E.name),G=w[0],R=w[1];w=c.useState(E.background);var H=w[0],Z=w[1];w=c.useState(E.header);var F=w[0],da=w[1];w=c.useState(E.text);var V=w[0],ca=w[1];E=c.useState(E.button);var T=E[0],aa=E[1];E=c.useState(!1);var D=E[0],L=E[1];w=c.useState();E=w[0];var J=w[1];w=c.useState();var Q=w[0],Y=w[1];w=c.useState(0);var X=w[0],
I=w[1];w=c.useState(0);var S=w[0],N=w[1];w=c.useState(0);var P=w[0],ha=w[1];w=c.useState(!1);var ia=w[0],ma=w[1];w=c.useState(!1);var pa=w[0],ra=w[1];w=c.useState(null);var la=w[0],ua=w[1],qa=null===(B=v.portalProperties)||void 0===B?void 0:B.sharedTheme,xa=function(){for(var W=[],fa=Object.keys(k.overlayColors),Ba=function(Fa){fa.forEach(function(Ja){W.push("#"+k.overlayColors[Ja][Fa])})},Ga=2;0<=Ga;Ga--)Ba(Ga);return W}(),ya=c.useRef(),U=c.useRef(),g=c.useRef(),r=c.useRef(),K=c.useRef(),M=c.useRef(),
ea=c.useRef(),na=c.useRef();c.useEffect(function(){document.addEventListener("click",O,!0);return function(){document.removeEventListener("click",O,!0)}},[]);c.useEffect(function(){var W=U.current,fa=p["default"].trapFocus(W);return function(){p["default"].untrapFocus(W,fa)}},[U.current]);c.useEffect(function(){g.current.focus()},[g.current]);var O=function(W){var fa;W=W.target;(null===(fa=ya.current)||void 0===fa?0:fa.contains(W))||ja()};c.useEffect(function(){sa()},[H,F,V,T]);c.useEffect(function(){(function(){var W;
return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(fa){switch(fa.label){case 0:return D?[4,m.timeout(100)]:[3,2];case 1:fa.sent(),null===(W=null===na||void 0===na?void 0:na.current)||void 0===W?void 0:W.setFocus(),fa.label=2;case 2:return[2]}})})})()},[D]);var ja=function(){return b.__awaiter(f,void 0,void 0,function(){return b.__generator(this,function(W){switch(W.label){case 0:return L(!1),null!==la&&void 0!==la&&la.current?[4,m.timeout(100)]:[3,2];case 1:W.sent(),
la.current.focus(),W.label=2;case 2:return[2]}})})},ka=function(W){"background"===Q?Z(W):"header"===Q?da(W):"text"===Q?ca(W):"button"===Q&&aa(W)};B=function(W){W=W.target.value;J(W);ka(W)};v=function(W){"Space"!==W.code&&"Enter"!==W.code||ja()};var sa=function(){var W=n["default"].checkContrast(H,F),fa=n["default"].checkContrast(H,V),Ba=n["default"].checkContrast(H,T);I(W.contrast);N(fa.contrast);ha(Ba.contrast)};w=function(){A()};var za=function(W,fa){var Ba=0!==u&&!u||fa?y:u;(4.5>X||4.5>S||4.5>
P)&&!W?(fa&&ra(!0),ma(!0)):(ma(!1),z(Ba,{name:G,header:F,background:H,text:V,button:T}))},Da=function(W,fa){return b.__awaiter(f,void 0,void 0,function(){return b.__generator(this,function(Ba){"background"===W?ua(r):"header"===W?ua(K):"text"===W?ua(M):"button"===W&&ua(ea);J(fa);Y(W);L(!0);return[2]})})},wa=function(){var W=[];W={};var fa=null===qa||void 0===qa?void 0:qa.body;(null===fa||void 0===fa?0:fa.background)&&"no-color"!==fa.background&&(W[fa.background]=1);(null===fa||void 0===fa?0:fa.text)&&
"no-color"!==fa.text&&(W[fa.text]=1);(null===fa||void 0===fa?0:fa.link)&&"no-color"!==fa.link&&(W[fa.link]=1);fa=null===qa||void 0===qa?void 0:qa.button;(null===fa||void 0===fa?0:fa.background)&&"no-color"!==fa.background&&(W[fa.background]=1);(null===fa||void 0===fa?0:fa.text)&&"no-color"!==fa.text&&(W[fa.text]=1);fa=null===qa||void 0===qa?void 0:qa.header;(null===fa||void 0===fa?0:fa.background)&&"no-color"!==fa.background&&(W[fa.background]=1);(null===fa||void 0===fa?0:fa.text)&&"no-color"!==fa.text&&
(W[fa.text]=1);return W=Object.keys(W)}(),ta=[],Aa="custom"+(u+1);t.header.headerCustom===Aa&&ta.push([e["default"].orgHomePageSetup.start.header,""]);t.content.forEach(function(W){W.bgCustom===Aa&&("gallery"===W.type?ta.push([W.title||W.summary,e["default"].orgHomePageSetup.content.itemGallery]):"text"===W.type?ta.push([W.title||W.body,e["default"].orgHomePageSetup.content.textBlock]):"link"===W.type&&W.links.length&&ta.push([W.links[0].title,e["default"].orgHomePageSetup.content.linkBlock]))});
var Ea=function(W,fa){var Ba;"Tab"===W.code&&("warn"===fa?(ma(!1),null===(Ba=null===la||void 0===la?void 0:la.current)||void 0===Ba?void 0:Ba.focus()):A())};t.footer.bgCustom===Aa&&ta.push([e["default"].orgHomePageSetup.start.footer,""]);sa();return a.h("div",{"class":"overlay-background js-overlay-background is-active custom-style-editor-container bring-modal-to-front",id:"uniqName_"+x},a.h("div",{"class":"overlay js-overlay",role:"dialog","aria-labelledby":"overlay-title-"+x,"aria-modal":"true",
ref:U},a.h("div",{"class":"overlay-title-bar flex js-overlay-title-bar"},a.h("h3",{id:"overlay-title-"+x,"class":"overlay-title flex-1",title:C},C),a.h("div",null,a.h("button",{"class":"btn-link btn-link-off-black font-size-2 flex-0 overlay-close","aria-label":e["default"].common.close,title:e["default"].common.close,onClick:w,onKeyDown:function(W){"Tab"===W.code&&W.shiftKey&&A()},ref:g},a.h("calcite-icon",{scale:"l",icon:"x"})))),a.h("div",{"class":"js-overlay-control-bar"}),a.h("div",{"class":"overlay-control-bar-filters js-overlay-control-bar-filters"}),
a.h("div",{"class":"overlay-content js-overlay-content overlay-content--scroll",id:"overlay-content-"+x},a.h("div",{"class":"custom-style-add-edit"},a.h("div",{"class":"custom-style-settings"},a.h("div",{"class":"custom-style-header"},e["default"].orgHomePageSetup.styles.styleName,a.h("br",null),a.h("input",{name:"stylename",id:"stylename","class":"style-name",value:G,onInput:function(W){R(W.target.value)}})),a.h("div",{"class":"custom-style-header configure-colors"},e["default"].orgHomePageSetup.styles.configureColors),
a.h("table",{cellSpacing:0,cellPadding:0},a.h("tbody",null,a.h("tr",null,a.h("td",{"class":"edit-cell edit-cell-background"},a.h("a",{href:"javascript:void(0)","data-type":"background",onClick:function(){Da("background",H)},ref:r,"aria-label":e["default"].orgHomePageSetup.styles.backgroundColor+": "+H},a.h("div",{"class":"edit-custom-color"},a.h("svg",{"class":"color-block-container"},a.h("rect",{style:"fill: "+H,"class":"color-block"})),a.h("div",{"class":"color-text"},a.h("div",{"class":"custom-hex-color"},
e["default"].orgHomePageSetup.styles.backgroundColor),a.h("div",null,"\u200e",a.h("span",{"class":"custom-value custom-background-value"},H))),a.h("button",{"class":"edit-icon edit-background",tabIndex:-1},a.h("calcite-icon",{scale:"s",icon:"pencil"}))))),a.h("th",null,e["default"].classificationBannerDlg.contrastRatio),a.h("th",null,e["default"].orgHomePageSetup.styles.legibility)),a.h("tr",null,a.h("td",{"class":"edit-cell edit-cell-title"},a.h("a",{href:"javascript:void(0)","data-type":"title",
onClick:function(){Da("header",F)},"aria-label":e["default"].orgHomePageSetup.styles.titleColor+": "+F,ref:K},a.h("div",{"class":"edit-custom-color"},a.h("svg",{"class":"color-block-container"},a.h("rect",{style:"fill:"+F,"class":"color-block"})),a.h("div",{"class":"color-text"},a.h("div",{"class":"custom-hex-color"},e["default"].orgHomePageSetup.styles.titleColor),a.h("div",null,"\u200e",a.h("span",{"class":"custom-value custom-title-value"},F))),a.h("button",{"class":"edit-icon edit-header",tabIndex:-1},
a.h("calcite-icon",{scale:"s",icon:"pencil"}))))),a.h("td",{"class":"custom-title-ratio"},h["default"].format(X,2)),a.h("td",{"class":"legibility"},4.5<=X&&a.h("div",{"class":"custom-cell-leg custom-title-leg"},a.h("calcite-icon",{"class":"icon-ui-green",scale:"s",icon:"check-circle-f"}),"\u00a0",e["default"].orgHomePageSetup.styles.legible),4.5>X&&a.h("div",{"aria-label":e["default"].orgHomePageSetup.styles.legibilityWarn,"class":"tooltip tooltip-top tooltip-multiline custom-cell-notleg icon-ui-red custom-title-notleg"},
a.h("calcite-icon",{scale:"s","class":"icon-ui-red",icon:"x-circle-f"}),"\u00a0",e["default"].orgHomePageSetup.styles.notLegible))),a.h("tr",null,a.h("td",{"class":"edit-cell edit-cell-summary"},a.h("a",{href:"javascript:void(0)","data-type":"summary",onClick:function(){Da("text",V)},"aria-label":e["default"].orgHomePageSetup.styles.summaryColor+": "+V,ref:M},a.h("div",{"class":"edit-custom-color"},a.h("svg",{"class":"color-block-container"},a.h("rect",{style:"fill:"+V,"class":"color-block"})),a.h("div",
{"class":"color-text"},a.h("div",{"class":"custom-hex-color"},e["default"].orgHomePageSetup.styles.summaryColor),a.h("div",null,"\u200e",a.h("span",{"class":"custom-value custom-summary-value"},V))),a.h("button",{"class":"edit-icon edit-text",tabIndex:-1},a.h("calcite-icon",{scale:"s",icon:"pencil"}))))),a.h("td",{"class":"custom-summary-ratio"},h["default"].format(S,2)),a.h("td",{"class":"legibility"},4.5<=S&&a.h("span",{"class":"custom-cell-leg custom-summary-leg"},a.h("calcite-icon",{scale:"s",
icon:"check-circle-f"}),"\u00a0",e["default"].orgHomePageSetup.styles.legible),4.5>S&&a.h("span",{"aria-label":e["default"].orgHomePageSetup.styles.legibilityWarn,"class":"tooltip tooltip-top tooltip-multiline custom-cell-notleg custom-summary-notleg"},a.h("calcite-icon",{scale:"s",icon:"x-circle-f"}),"\u00a0",e["default"].orgHomePageSetup.styles.notLegible))),a.h("tr",null,a.h("td",{"class":"edit-cell edit-cell-button"},a.h("a",{href:"javascript:void(0)","data-type":"button",onClick:function(){Da("button",
T)},"aria-label":e["default"].orgHomePageSetup.styles.buttonColor+": "+T,ref:ea},a.h("div",{"class":"edit-custom-color"},a.h("svg",{"class":"color-block-container"},a.h("rect",{style:"fill: "+T,"class":"color-block"})),a.h("div",{"class":"color-text"},a.h("div",{"class":"custom-hex-color"},e["default"].orgHomePageSetup.styles.buttonColor),a.h("div",null,"\u200e",a.h("span",{"class":"custom-value custom-button-value"},T))),a.h("button",{"class":"edit-icon edit-button",tabIndex:-1},a.h("calcite-icon",
{scale:"s",icon:"pencil"}))))),a.h("td",{"class":"custom-button-ratio"},h["default"].format(P,2)),a.h("td",{"class":"legibility"},4.5<=P&&a.h("span",{"class":"custom-cell-leg custom-button-leg"},a.h("calcite-icon",{scale:"s",icon:"check-circle-f"}),"\u00a0",e["default"].orgHomePageSetup.styles.legible),4.5>P&&a.h("span",{"aria-label":e["default"].orgHomePageSetup.styles.legibilityWarn,"class":"tooltip tooltip-top tooltip-multiline custom-cell-notleg custom-button-notleg"},a.h("calcite-icon",{scale:"s",
icon:"x-circle-f"}),"\u00a0",e["default"].orgHomePageSetup.styles.notLegible))))),a.h("span",{"class":"contrast-text"},e["default"].orgHomePageSetup.styles.contrastRatio),0!==ta.length&&a.h("div",{"class":"custom-style-header blocks-using-header"},e["default"].orgHomePageSetup.styles.blocksUsing),0!==ta.length&&a.h("div",{"class":"blocks-using-custom"},ta.map(function(W,fa){return a.h("div",{"class":"block-using-custom",key:Date.now()+fa},a.h("div",{"class":"block-using-title",title:W[0]},W[0]),a.h("div",
{"class":"block-using-type"},W[1]))}))),D&&a.h("div",{"class":"color-picker",ref:ya,onBlur:function(){L(!1)}},a.h("calcite-color-picker",{ref:na,scale:"s",value:E,"hide-saved":"true",dir:q,appearance:"default","calcite-hydrated":"",oncalciteColorPickerInput:B,onKeyUp:v}),0<wa.length&&a.h("div",{"class":"shared-theme-colors"},a.h("div",null,e["default"].orgHomePageSetup.styles.sharedThemeColors),a.h("div",{"class":"shared-org-color-theme"},wa.map(function(W){return a.h("a",{href:"javascript:void(0)",
"aria-label":W,onClick:function(){J(W);ka(W)}},a.h("div",{"class":"swatch"},a.h("svg",null,a.h("rect",{width:"16",height:"16",fill:W}))))}))),a.h("div",{"class":"recommended-colors"},a.h("div",null,e["default"].orgHomePageSetup.styles.recColors),a.h("div",{"class":"recommended-color-theme"},xa.map(function(W,fa){return a.h("a",{href:"javascript:void(0)","aria-label":W,key:""+Date.now()+fa,onClick:function(){J(W);ka(W)},onKeyDown:function(Ba){fa===xa.length-1&&"Tab"===Ba.code&&ja()}},a.h("div",{"class":"swatch"},
a.h("svg",null,a.h("rect",{width:"16",height:"16",fill:W}))))})))),a.h("div",{"class":"custom-style-preview-container"},a.h("div",{"class":"custom-style-header"},e["default"].orgHomePageSetup.styles.preview),a.h("div",{"class":"custom-style-preview",style:"background-color:"+H},a.h("div",null,a.h("h2",{style:"color:"+F},e["default"].orgHomePageSetup.styles.blockTitle)),a.h("div",null,a.h("p",{style:"color:"+V},e["default"].orgHomePageSetup.styles.blockText," ",a.h("a",{href:"javascript:void(0)",tabIndex:-1,
style:"color:"+T},e["default"].orgHomePageSetup.styles.blockText1)," ",e["default"].orgHomePageSetup.styles.blockText2," ",a.h("a",{href:"javascript:void(0)",tabIndex:-1,style:"color:"+T},e["default"].orgHomePageSetup.styles.blockText3),".",e["default"].orgHomePageSetup.styles.blockText," ",a.h("a",{href:"javascript:void(0)",tabIndex:-1,style:"color:"+T},e["default"].orgHomePageSetup.styles.blockText1)," ",e["default"].orgHomePageSetup.styles.blockText2," ",a.h("a",{href:"javascript:void(0)",tabIndex:-1,
style:"color:"+T},e["default"].orgHomePageSetup.styles.blockText3),".",e["default"].orgHomePageSetup.styles.blockText," ",a.h("a",{href:"javascript:void(0)",tabIndex:-1,style:"color:"+T},e["default"].orgHomePageSetup.styles.blockText1)," ",e["default"].orgHomePageSetup.styles.blockText2," ",a.h("a",{href:"javascript:void(0)",tabIndex:-1,style:"color:"+T},e["default"].orgHomePageSetup.styles.blockText3),".")),a.h("div",null,a.h("button",{style:"color:"+T+"; border: 1px solid "+T+"; background-color: "+
H+";",tabIndex:-1},e["default"].orgHomePageSetup.styles.blockButton)))))),a.h("div",{"class":"overlay-action-bar "},t.customStyles[u]&&a.h("nav",{"class":"right"},a.h("button",{"class":"btn js-overlay-primary",onClick:function(){za()}},e["default"].orgHomePageSetup.styles.overwriteStyle),"\u00a0",4!==y&&a.h("button",{"class":"btn btn-clear calcite-web-btn-clear js-overlay-cancel",onClick:function(){za(!1,!0)}},e["default"].orgHomePageSetup.styles.saveAsNew)),!t.customStyles[u]&&a.h("nav",{"class":"right"},
a.h("button",{"class":"btn js-overlay-primary",onClick:function(){za()}},e["default"].common.save),"\u00a0",a.h("button",{"class":"btn btn-clear calcite-web-btn-clear js-overlay-cancel",onClick:w,onKeyDown:Ea},e["default"].common.cancel))),ia&&a.h("div",{"class":"position-relative full-height overlay-confirm is-active"},a.h("div",{"class":"overlay-confirm-mask"}),a.h("div",{"class":"overlay-confirm-pane legibility-warning-overlay position-relative"},a.h("div",{"class":"flex flex-align-center"},a.h("div",
null,a.h("div",{"class":"avenir-demi font-size-1"},e["default"].orgHomePageSetup.styles.legOvTitle),a.h("div",{"class":"font-size--1"},e["default"].orgHomePageSetup.styles.legOvBody))),a.h("div",{"class":"leader-half flex overlay-confirm-buttons","data-dojo-attach-point":"_buttons"},a.h("button",{"class":"btn btn-clear js-cancel-btn",onClick:function(){ra(!1);ma(!ia)}},e["default"].orgHomePageSetup.styles.legOvPrimary),"\u00a0",a.h("button",{"class":"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn",
onClick:function(){za(!0,pa)},onKeyDown:function(W){Ea(W,"warn")}},e["default"].orgHomePageSetup.styles.legOvCancel))))))}})},"arcgisonline/pages/utils/timeout":function(){define(["require","exports"],function(ba,l){Object.defineProperty(l,"__esModule",{value:!0});l.timeout=void 0;l.timeout=function(b){return new Promise(function(a){return setTimeout(a,b)})}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/HeaderLayoutAdmin":function(){define("require exports tslib preact preact/hooks ../../../../../../sharing/util ../utils/homePageUtils dojo/i18n!../../../../../../nls/arcgisonline dojo/i18n!../../../../../../nls/org-settings".split(" "),
function(ba,l,b,a,c,e,d,k,n){Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);k=b.__importDefault(k);n=b.__importDefault(n);l["default"]=function(p){var h=p.HP,m=p.coverURI,f=p.onHeaderChange,q=h.header;p=p.LTR?k["default"].orgHomePageSetup.header.left:k["default"].orgHomePageSetup.header.right;var B=c.useRef(),v=c.useState(q.opacity),t=v[0],u=v[1];v=c.useState(q.coverImgPlacement||{x:"50%",y:"50%"});var A=v[0],z=v[1],E=c.useState(q.coverImgLayout);v=E[0];var y=E[1],x=c.useState(q.titleLogoAlign);
E=x[0];var C=x[1];x=c.useState(q.titleLogoPos);var w=x[0],G=x[1],R=c.useState();x=R[0];var H=R[1],Z;c.useEffect(function(){f("coverImgPlacement",A)},[A]);R=function(J){var Q=B.current.getBoundingClientRect(),Y=(J.clientX-Q.left)/J.currentTarget.clientWidth;J=(J.clientY-Q.top)/J.currentTarget.clientHeight;0>Y?Y=0:1<Y&&(Y=1);0>J?J=0:1<J&&(J=1);z({x:100*Y+"%",y:100*J+"%"})};var F=function(J){var Q=parseInt(A.y,10),Y=parseInt(A.x,10),X="";0===Q?X=n["default"].homePageTab.backgroundImage.placeTop:100===
Q?X=n["default"].homePageTab.backgroundImage.placeBottom:50===Q?X=n["default"].homePageTab.backgroundImage.placeMiddle:50<Q?X=n["default"].homePageTab.backgroundImage.placeBelow.replace("${y}",2*(Q-50)+"%"):50>Q&&(X=n["default"].homePageTab.backgroundImage.placeAbove.replace("${y}",2*(50-Q)+"%"));Q="";0===Y?Q=n["default"].homePageTab.backgroundImage.placeLeft:100===Y?Q=n["default"].homePageTab.backgroundImage.placeRight:50===Y?Q=n["default"].homePageTab.backgroundImage.placeCenter:50<Y?Q=n["default"].homePageTab.backgroundImage.placeROC.replace("${x}",
2*(Y-50)+"%"):50>Y&&(Q=n["default"].homePageTab.backgroundImage.placeLOC.replace("${x}",2*(50-Y)+"%"));if("x"===J||"y"===J)return X+", "+Q;J=n["default"].homePageTab.backgroundImage.placement.replace("${top}",X).replace("${left}",Q);H(J)},da=function(J,Q,Y){0>Q&&(Q=0);0>J&&(J=0);100<Q&&(Q=100);100<J&&(J=100);Y.style.top=J+"%";Y.style.left=Q+"%";z({x:Q+"%",y:J+"%"});Y.setAttribute("aria-label",F())},V=function(J){var Q=document.querySelector(".placement-guide-overlay span"),Y=parseInt(Q.style.top,
10),X=parseInt(Q.style.left,10),I="";switch(J.key){case "ArrowUp":da(Y-1,X,Q);J.preventDefault();J.stopPropagation();I=F("y");d.srSpeak(I);Q.setAttribute("aria-label",I);break;case "ArrowDown":da(Y+1,X,Q);J.preventDefault();J.stopPropagation();I=F("y");d.srSpeak(I);Q.setAttribute("aria-label",I);break;case "ArrowLeft":da(Y,X-1,Q);I=F("x");Q.setAttribute("aria-label",I);break;case "ArrowRight":da(Y,X+1,Q),I=F("x"),Q.setAttribute("aria-label",I)}},ca=function(J){y(J.target.value);f("coverImgLayout",
J.target.value)},T=function(J){C(J.target.value);f("titleLogoAlign",J.target.value)},aa=function(J){"above"===J.target.value||"below"===J.target.value?u(0):("above"===w||"below"===w)&&u(.45);G(J.target.value);f("titleLogoPos",J.target.value)},D=function(J){clearTimeout(Z);Z=setTimeout(function(){var Q=parseInt(J.target.value,10)/100;u(Q);f("opacity",Q)},100)};if((h.header.coverImg||h.header.coverImgStock)&&h.header.showCoverImg){var L="custom"===h.header.coverType&&m?m:"custom"===h.header.coverType&&
h.header.coverImg?d.fetchResourceUrl(h.header.coverImg):""+e["default"].relativeToExplicitUrl("js/arcgisonline/img/homepage_background-"+h.header.coverImgStock+".jpg?nocache\x3d"+Date.now());L.match(/^url\(/)&&(L=L.replace(/^url\(/,""),L=L.replace(/\)$/,""))}return a.h("div",{"class":"setup-container flex-column"},a.h("div",null,a.h("div",{"class":"org-button back-button",id:"layoutToHeaderButton","data-action":"header",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},
a.h("calcite-icon",{scale:"s",icon:"chevron-left"}),a.h("div",{"class":"flex-1 margin-left-quarter"},k["default"].orgHomePageSetup.start.header)))),a.h("div",null,a.h("div",{"class":"setup-body-wrapper flex-1"},a.h("div",{"class":"org-setup-header org-title-bar"},k["default"].orgHomePageSetup.header.layoutOptions),q.showCoverImg&&a.h("div",{"class":"org-section needs-cover-img"},a.h("div",{"class":"org-setup-text org-padding-top org-setup-header"},k["default"].orgHomePageSetup.header.coverImg),a.h("div",
{"class":"org-setup-text bottom-margin-half-rem"},a.h("div",{"class":"org-subtext"},k["default"].orgHomePageSetup.header.fullOrHalf),a.h("div",null,a.h("label",{"class":"trailer-0","for":"cover-full-height-radio"},a.h("input",{type:"radio","class":"coverImageHeight",id:"cover-full-height-radio",name:"coverImageHeight","aria-label":k["default"].orgHomePageSetup.header.fullHeight,value:"Full-height",onClick:ca,checked:"Full-height"===v}),k["default"].orgHomePageSetup.header.fullHeight)),a.h("div",null,
a.h("label",{"class":"trailer-0","for":"cover-half-height-radio"},a.h("input",{type:"radio","class":"coverImageHeight",id:"cover-half-height-radio",name:"coverImageHeight","aria-label":k["default"].orgHomePageSetup.header.halfHeight,value:"Half-height",onClick:ca,checked:"Half-height"===v}),k["default"].orgHomePageSetup.header.halfHeight)))),q.showCoverImg&&a.h("div",{"class":"org-section needs-cover-img"},a.h("div",{"class":"org-setup-text org-padding-top org-setup-header"},k["default"].orgHomePageSetup.header.focalPoint),
a.h("div",{"class":"org-subtext bottom-margin-half-rem needs-cover-img"},k["default"].orgHomePageSetup.header.moreAdjustmentsDesc),a.h("div",{"class":"placement-guide-container bottom-margin-half-rem"},a.h("img",{src:L,"class":"placement-guide"}),a.h("div",{"class":"placement-guide-overlay",ref:B,style:"background-color: rgba("+d.getOverlayColor(h)+t+")",onClick:R,onKeyDown:V},a.h("span",{"class":"focal-point-selector",style:"left: "+A.x+"; top: "+A.y,tabIndex:0,"aria-label":x}))),"above"!==w&&"below"!==
w&&a.h("div",{"class":"opacity-settings"},a.h("div",{"class":"bottom-margin-half-rem"},k["default"].orgHomePageSetup.header.overlayOpacity),a.h("div",{"class":"opacity-slider"},a.h("calcite-slider",{min:20,max:70,value:100*t,step:1,label:k["default"].orgHomePageSetup.header.overlayOpacity,oncalciteSliderChange:D,ticks:0,id:"opacitySlider"}))))),(q.showLogo||q.showTitle)&&a.h("div",{"class":"org-setup-text org-section needs-title-logo"},a.h("div",{"class":"org-setup-header margin-bottom-half-rem"},
k["default"].orgHomePageSetup.header.titleAndLogo),a.h("p",{"class":"trailer-0 margin-bottom-half-rem"},a.h("div",{"class":"org-subtext"},k["default"].orgHomePageSetup.header.alignment),a.h("label",{"class":"trailer-0","for":"title-alignment-left-radio"},a.h("input",{type:"radio",id:"title-alignment-left-radio","class":"alignment",name:"alignment","aria-label":k["default"].orgHomePageSetup.header.alignment,value:"left",onClick:T,checked:"left"===E}),p),a.h("label",{"class":"trailer-0","for":"title-alignment-center-radio"},
a.h("input",{type:"radio",id:"title-alignment-center-radio","class":"alignment",name:"alignment","aria-label":k["default"].orgHomePageSetup.header.alignment,value:"center",onClick:T,checked:"center"===E}),k["default"].orgHomePageSetup.header.center)),q.showCoverImg&&a.h("div",{"class":"needs-cover-img leader-half"},a.h("label",{"class":"trailer-0"},k["default"].orgHomePageSetup.header.positioning,a.h("select",{name:"positioning","class":"positioning",onChange:aa},a.h("option",{value:"above",selected:"above"===
w},k["default"].orgHomePageSetup.header.aboveCover),a.h("option",{value:"top3rd",selected:"top3rd"===w},k["default"].orgHomePageSetup.header.topThird),a.h("option",{value:"middle",selected:"middle"===w},k["default"].orgHomePageSetup.header.middleCover),a.h("option",{value:"bottom3rd",selected:"bottom3rd"===w},k["default"].orgHomePageSetup.header.bottomThird),a.h("option",{value:"below",selected:"below"===w},k["default"].orgHomePageSetup.header.belowCover)))))))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/ContentAdmin":function(){define("require exports tslib preact preact/hooks dragula/dragula dojo/i18n!../../../../../../nls/arcgisonline ../utils/ContentCard ../utils/ContentAddButton".split(" "),
function(ba,l,b,a,c,e,d,k,n){Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);l["default"]=function(p){var h=p.HP,m=p.onContentChange,f=p.groupKeyedTitles;p=p.portal.isTrialOrg();var q=c.useRef(),B=c.useRef(),v=c.useState(h.content),t=v[0],u=v[1];v=c.useState(!1);var A=v[0],z=v[1],E=c.useState(!1);v=E[0];var y=E[1];c.useEffect(function(){e["default"]([q.current]).on("drop",x)},[]);var x=function(){for(var Z=
b.__spreadArray([],h.content),F=[],da=q.current.querySelectorAll(".drag-content"),V=0;V<da.length;V++){var ca=parseInt(da[V].dataset.order,10);F.push(Z[ca])}u(F);m("order",F)};c.useEffect(function(){A&&B.current.focus()},[A]);E=function(){z(!1)};var C=function(Z){m("edit",Z)},w=function(Z){m("delete",Z)},G=function(){m("addText","")},R=function(){m("addGallery","")},H=function(){m("addLink","")};return a.h("div",{"class":"setup-container flex-column"},a.h("div",{"class":"org-button back-button",id:"contentToHomeButton",
"data-action":"start",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},a.h("calcite-icon",{scale:"s",icon:"chevron-left"}),a.h("div",{"class":"flex-1 margin-left-quarter"},d["default"].orgHomePageSetup.start.home))),a.h("div",{"class":"setup-body-wrapper flex-1"},a.h("div",{"class":"org-setup-header org-title-bar"},d["default"].orgHomePageSetup.start.body),a.h("div",{"class":"content-intro org-section org-subtext"},d["default"].orgHomePageSetup.content.contentIntro),
a.h("div",{"class":"content-order"},a.h("div",{ref:q},t.map(function(Z,F){return"link"!==Z.type||Z.links.length?a.h(k["default"],{index:F,value:Z,onEdit:C,onDelete:w,key:F,groupKeyedTitles:f}):(w(F),!1)}))),15<=h.content.length+3&&a.h("div",{"class":"block-limit-warn org-subtext text-center"},d["default"].orgHomePageSetup.link.linkTitleCharsRem.replace("${x}",15-h.content.length).replace("${chars}",15)),a.h("div",{"class":"org-setup-text  org-standard-text text-center"},a.h("button",{"class":"btn btn-clear add-block",
"aria-label":"",onClick:function(){15<=h.content.length?y(!0):z(!0)}},d["default"].orgHomePageSetup.content.addBlockPlus)),A&&a.h("div",{"class":"setup-content"},a.h("div",{"class":"setup-content-header"},a.h("div",{"class":"setup-content-header-title"},d["default"].orgHomePageSetup.content.addBlock),a.h("button",{"class":"setup-content-header-close","aria-label":d["default"].orgHomePageSetup.content.closeAddBlock,ref:B,onClick:E},a.h("calcite-icon",{scale:"m",icon:"x"}))),a.h(n["default"],{onClick:G,
type:"Text"}),a.h(n["default"],{onClick:R,type:"Gallery"}),!p&&a.h(n["default"],{onClick:H,type:"Link"})),v&&a.h("div",{"class":"block-limit"},a.h("div",{"class":"block-limit-header"},a.h("div",{"class":"block-limit-header-title"},d["default"].orgHomePageSetup.content.blockLimitTitle),a.h("button",{"class":"block-limit-header-close","aria-label":d["default"].orgHomePageSetup.content.closeLimitReached,onClick:function(){y(!1)}},a.h("calcite-icon",{scale:"m",icon:"x"}))),a.h("div",{"class":"block-limit-text"},
d["default"].orgHomePageSetup.content.blockLimit))))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/ContentCard":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../../../../nls/arcgisonline"],function(ba,l,b,a,c){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);l["default"]=function(e){var d=e.index,k=e.value,n=e.onDelete,p=e.onEdit;e=e.groupKeyedTitles;var h="",m="";"type"in k?"link"===k.type?(m=c["default"].orgHomePageSetup.content.linkBlock,
h=k.links[0].title):"text"===k.type?(m=c["default"].orgHomePageSetup.content.textBlock,h=k.title):(m=c["default"].orgHomePageSetup.content.itemGallery,h=k.title||k.summary.substring(0,150)||e[k.groupId]):h=k.title;return a.h("div",{"class":"drag-content org-settings__card-list-row home-page-overlay__draggable-row flex flex-align-center draggable","data-order":d,id:""},a.h("div",{"class":"flex-0 drag-icon tooltip tooltip-right","aria-label":c["default"].orgHomePageSetup.content.reorder,tabIndex:0},
a.h("calcite-icon",{scale:"s",icon:"drag"})),a.h("a",{href:"javascript:void(0)",onClick:function(f){p(d)},"aria-label":c["default"].orgHomePageSetup.content.edit,tabIndex:0,"class":"tooltip"},a.h("div",{"class":"drag-content-container drag flex-1",role:"button"},a.h("div",{"class":"drag-content-text flex-1"},a.h("div",{"class":"drag-content__title drag-",title:h},h),a.h("span",null,"type"in k?m:k.href)),a.h("div",{"class":"flex-0 edit-content-item"},a.h("calcite-icon",{scale:"s",icon:"pencil"})))),
a.h("a",{href:"javascript:void(0)",onClick:function(f){n(d)},"aria-label":c["default"].orgHomePageSetup.content["delete"],tabIndex:0,"class":"tooltip tooltip-left"},a.h("div",{"class":"flex-0 remove-content-item",role:"button"},a.h("calcite-icon",{scale:"s",icon:"trash"}))))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/ContentAddButton":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../../../../nls/arcgisonline"],function(ba,l,b,a,c){Object.defineProperty(l,
"__esModule",{value:!0});c=b.__importDefault(c);l["default"]=function(e){var d=e.onClick;e=e.type;var k=e.toLowerCase(),n="Gallery"===e?c["default"].orgHomePageSetup.content.itemGallery:c["default"].orgHomePageSetup.content[k],p=c["default"].orgHomePageSetup.content[k+"Description"];return a.h("button",{"class":"org-button start-button",id:"contentTo"+e+"Button","aria-label":n,"data-action":k,tabIndex:0,role:"button",onClick:d},a.h("div",{"class":"add-block-icon flex-0"},a.h("calcite-icon",{scale:"m",
icon:"Gallery"===e?"apps":k})),a.h("div",{"class":"add-block-text flex-1"},a.h("div",{"class":"org-setup-header galleries-header"},n),a.h("div",{"class":"start-text galleries-used"},p)))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/TextAdmin":function(){define("require exports tslib preact preact/hooks ../utils/homePageUtils dojo/i18n!../../../../../../nls/arcgisonline ../../../../../utils/strings ../utils/LinkedTextArea ../utils/ColorMenu ../utils/ColorCard ../utils/CustomColorOverlay".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m){Object.defineProperty(l,"__esModule",{value:!0});d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);l["default"]=function(f){var q,B=f.portal,v=f.HP,t=f.index,u=f.onTextChange,A=f.onCustColorChange,z=f.customColorDiv,E=v.content[t];f=d["default"].orgHomePageSetup.galleryText.defaultTextTitle;var y=d["default"].orgHomePageSetup.galleryText.defaultTextBody,x=B.isTrialOrg(),C=c.useRef(),
w=c.useState(E.title),G=w[0],R=w[1];w=c.useState(E.showTitle);var H=w[0],Z=w[1],F=c.useState(E.body);w=F[0];var da=F[1];F=c.useState(E.showBody);var V=F[0],ca=F[1],T=c.useState(E.alignment);F=T[0];var aa=T[1],D=c.useState(55);T=D[0];var L=D[1],J=v.useCustomStyles?E.bgCustom:E.bgColor;D=e.getColors(v,"text",J);E=D.menuColors;D=c.useState({name:D.startColor,"class":D.startClassSuffix,value:J});var Q=D[0],Y=D[1];D=c.useState(!1);var X=D[0],I=D[1];c.useEffect(function(){L(55<C.current.value.length?0:
55-C.current.value.length)},[]);c.useEffect(function(){if(X){var ia=document.querySelector("div.sc-container"),ma=document.querySelector("button.backgroundColor");e.handleMenuPosAndAccess(ia,ma,"text")}},[X]);D=function(ia){ia=k["default"].stripHTML(ia.target.value).substr(0,55);R(ia);u("title",{title:ia,index:t});L(55-ia.length)};var S=function(ia){da(ia);u("body",{body:ia,index:t})},N=function(ia){ia=ia.target.value;aa(ia);u("alignment",{index:t,align:ia})},P=function(ia){u("color",{color:ia.value,
index:t});Y(ia)},ha=function(){a.render(a.h(m["default"],{portal:B,HP:v,index:parseInt(J.replace("custom",""),10)-1,onCancel:function(){z.classList.add("hide")},onSave:function(ia,ma){z.classList.add("hide");var pa=b.__assign({},v);pa.customStyles[ia]=ma;pa=e.getColors(pa,"text","custom"+(ia+1));var ra=pa.startColor;Y({name:ra,"class":pa.startClassSuffix,value:ra});Q.value!=="custom"+(ia+1)&&u("color",{color:"custom"+(ia+1),index:t});A("customStyles",v.customStyles)},key:Date.now()}),document.querySelector(".custom-color-overlay"));
document.querySelector(".custom-color-overlay").classList.remove("hide")};return a.h("div",{"class":"setup-container flex-column"},a.h("div",{"class":"org-button back-button","data-action":"content",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},a.h("calcite-icon",{scale:"s",icon:"chevron-left"}),a.h("div",{"class":"flex-1 margin-left-quarter"},d["default"].orgHomePageSetup.start.body))),a.h("div",{"class":"setup-body-wrapper flex-1"},a.h("div",{"class":"org-setup-header org-title-bar"},
d["default"].orgHomePageSetup.content.textBlock),a.h("div",{"class":"org-section"},a.h("div",{"class":"org-setup-text"},a.h("div",{"class":"org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showHeadline,a.h("calcite-switch",{name:"showTitle",value:"enabled",checked:H,"aria-label":d["default"].orgHomePageSetup.galleryText.showHeadline,scale:"l",oncalciteSwitchChange:function(){u("showTitle",{state:!H,index:t});Z(!H)}}))),H&&a.h("div",{"class":"title-email toggle__title"},
a.h("label",{"class":"trailer-0"},d["default"].orgHomePageSetup.galleryText.headline,a.h("br",null),a.h("input",{name:"textTitle","class":"textTitle",id:"textTitle",placeholder:f,ref:C,maxLength:55,"aria-label":d["default"].orgHomePageSetup.galleryText.headline,value:G!==f?G.substring(0,55):"",onKeyUp:D})),a.h("div",{"class":"org-subtext"},null===(q=d["default"].orgHomePageSetup.galleryText.charsRemaining)||void 0===q?void 0:q.replace("${x}",T)))),a.h("div",{"class":"org-setup-text"},a.h("div",{"class":"org-padding-top"},
a.h("div",{"class":"trailer-0"},d["default"].orgHomePageSetup.galleryText.showBodyCopy,a.h("div",{id:"displayBody","class":"bodyTog toggle-right"},a.h("calcite-switch",{name:"showBody",value:"enabled",checked:V,"aria-label":d["default"].orgHomePageSetup.galleryText.showBodyCopy,scale:"l",oncalciteSwitchChange:function(){u("showBody",{state:!V,index:t});ca(!V)}})))),V&&a.h("div",{"class":"body-text toggle__body"},a.h(n["default"],{isTrial:x,textValue:w,maxChars:1E3,onTextChange:S,portal:B,defaultValue:y,
label:d["default"].orgHomePageSetup.galleryText.bodyCopy}))),a.h("div",{"class":"org-setup-text org-padding-top"},d["default"].orgHomePageSetup.galleryText.headlineBodyAlign,a.h("label",{"class":"trailer-0","for":"text-align-left-radio"},a.h("input",{type:"radio",id:"text-align-left-radio",name:"headlineBodyAlign","class":"headlineBodyAlign",value:"left",onClick:N,checked:"left"===F}),d["default"].orgHomePageSetup.header.left),a.h("label",{"class":"trailer-0","for":"text-align-center-radio"},a.h("input",
{type:"radio",id:"text-align-center-radio",name:"headlineBodyAlign","class":"headlineBodyAlign",value:"center",onClick:N,checked:"center"===F}),d["default"].orgHomePageSetup.header.center)),a.h("div",{"class":"org-background-one-line org-setup-text org-padding-top"},a.h("label",{"class":"trailer-0"},a.h("div",{"class":"content-block-color-title"},a.h("div",{"class":"title"},d["default"].orgHomePageSetup.galleryText.backgroundColor),Q.value.match(/^custom/)&&a.h("a",{href:"javascript:void(0)",onClick:ha},
a.h("div",{"class":"edit-custom-block-color"},d["default"].orgHomePageSetup.styles.editCustomStyle))),a.h(h["default"],{color:Q,onClick:function(){I(!X)}}))))),X&&a.h(p["default"],{colors:E,onSelect:P,onClose:function(){return I(!1)}}))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/LinkedTextArea":function(){define("require exports tslib preact dojo/i18n!../../../../../../nls/arcgisonline preact/hooks ./homePageUtils ../utils/LinkDialog ../../../../../utils/validation".split(" "),
function(ba,l,b,a,c,e,d,k,n){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);k=b.__importDefault(k);n=b.__importDefault(n);l["default"]=function(p){var h,m,f=p.isTrial,q=p.textValue,B=p.maxChars,v=p.onTextChange,t=p.portal,u=p.label,A=p.defaultValue;p=e.useState({start:0,end:0});var z=p[0],E=p[1],y=e.useState({text:"",href:""});p=y[0];var x=y[1],C=e.useState(!1);y=C[0];var w=C[1];C=e.useState(q);var G=C[0],R=C[1],H=e.useState(q===A?B:B-(q.length-d.getLinksLength(q)));C=H[0];
var Z=H[1],F=e.useState(c["default"].orgHomePageSetup.link.addLink);H=F[0];var da=F[1];F=e.useState(void 0);var V=F[0],ca=F[1],T=e.useRef(),aa=e.useRef();F=function(){w(!0)};var D=function(){w(!1)},L=function(Y){w(!1);Y="["+Y.link.title+"]("+Y.link.href+")";V?R(""+G.substring(0,V.start)+Y+G.substring(V.end,G.length)):R(G.substring(0,z.start)+Y+G.substring(z.end,G.length))};e.useEffect(function(){n["default"].clearState([T.current,aa.current]);G.match("http://")?n["default"].setInvalidState(T.current,
aa.current,c["default"].orgHomePageSetup.link.linkHrefError,!0):(Z(q===A?B:B-(G.length-d.getLinksLength(G))),v(G))},[G]);var J=function(Y,X,I){var S;d.getLinkRanges(I).some(function(N){var P=N.split("-");N=parseInt(P[0],10)+1;P=parseInt(P[1],10);var ha=Y>=N&&Y<=P||Y<=P&&X>=P||Y<=N&&X>=P;if(ha){var ia=G.slice(N,P).split("](");S={text:ia[0],href:ia[1]};ca({start:N-1,end:P+1})}return ha});return S},Q=function(Y){var X=Y.target;Y=X.selectionStart;X=X.selectionEnd;E({start:Y,end:X});var I=J(Y,X,G);I?(x(I),
da(c["default"].orgHomePageSetup.link.editLink)):(Y!==X?x({text:G.substring(Y,X),href:""}):x({text:"",href:""}),da(c["default"].orgHomePageSetup.link.addLink),ca(void 0))};f=!f&&(0<C||0<(null===(h=null===p||void 0===p?void 0:p.text)||void 0===h?void 0:h.length));return a.h(a.Fragment,null,a.h("div",{"class":"text-area-link-button-div"},a.h("span",{"class":"trailer-0 no-link"},u),f&&a.h("label",{"class":"trailer-0 yes-link"},a.h("button",{"class":"text-area-link-button",type:"button","aria-labelledby":"footer-add-link",
onClick:F,tabIndex:-1},a.h("span",{"class":"text-add-link-surround",tabIndex:0},a.h("calcite-icon",{scale:"s",icon:"link"}),a.h("span",{id:"footer-add-link","class":"text-area-link-btext"},H))))),a.h("textarea",{name:"copyText","class":"copyText",ref:T,onInput:function(Y){var X=d.getLinksLength(G);R(Y.target.value.substring(0,B+X))},onKeyUp:Q,onSelect:Q,onClick:Q,value:G,onFocus:function(){G===A&&R("")},"aria-label":c["default"].orgHomePageSetup.footer.footText}),a.h("div",{"class":"org-subtext"},
null===(m=c["default"].orgHomePageSetup.galleryText.charsRemaining)||void 0===m?void 0:m.replace("${x}",C)),a.h("div",{ref:aa,"class":"input-error-message invalid-copy-text"}),y&&a.h("div",{"class":"text-area-link-div"},a.h(k["default"],{charsRem:C,link:p,onLinkChange:L,onClose:D,portal:t})))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/LinkDialog":function(){define("require exports tslib preact dojo/i18n!../../../../../../nls/arcgisonline preact/hooks arcgisonline/sharing/util ../../../../../components/ImageUploadModal/ImageUploadModal".split(" "),
function(ba,l,b,a,c,e,d,k){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);d=b.__importDefault(d);k=b.__importDefault(k);l["default"]=function(n){var p,h=n.charsRem,m=n.textAreaCursor,f=n.link,q=n.onLinkChange,B=n.onClose,v=n.images,t=n.index,u,A=n.portal.isPortal;void 0!==f.title&&(f.text=f.title);-1===h&&(h=30-f.text.length);var z=e.useState(h);n=z[0];var E=z[1];z=e.useState(f.text);var y=z[0],x=z[1],C=e.useState(!1);z=C[0];var w=C[1];C=e.useState(f.href);var G=C[0],R=C[1],
H=e.useState(!1);C=H[0];var Z=H[1];H=e.useState(f.image||null);var F=H[0],da=H[1],V=e.useState(!1);H=V[0];var ca=V[1];V=e.useState();var T=V[0],aa=V[1],D=h+f.text.length,L=e.useRef(),J=e.useRef(),Q=function(){var N=G.toLowerCase();return!(!N||!A&&0===N.indexOf("http://")||!(d["default"].isValidUrl(N)||0===N.indexOf("mailto:")&&d["default"].isValidEmailAddress(N.replace("mailto:",""))))},Y=function(N){var P=N.base64,ha=N.fileName;aa({blob:N.blob,URI:P,fileName:ha,prevFile:!f.image||f.image.match(/ ^ /)?
null:f.image});da(ha+" ^ "+P);X()},X=function(){u.remove();u=void 0};h=function(N){u||(u=document.createElement("div"),u.classList.add("homepage-link-img-upload-container"),document.querySelector(".home-page-overlay__content").closest(".overlay").appendChild(u));a.render(a.h(k["default"],{noEdit:!1,height:181,aspectRatio:1.52,onSave:Y,onCancel:X,fromOverlay:!0,zoomToFull:!0,texts:{title:c["default"].GroupWidget.thumbnailDlg.uploadImage,size:c["default"].GroupWidget.thumbnailDlg.sizeSpec}}),u)};V=
function(){da(null)};var I=function(N){null===B||void 0===B?void 0:B()},S=null===(p=c["default"].orgHomePageSetup.galleryText.charsRemaining)||void 0===p?void 0:p.replace("${x}",n);p=!y&&(z||H);z=!Q()&&(C||H);return a.h("div",{"class":"setup-link"},a.h("div",{"class":"setup-link-header"},a.h("div",{"class":"setup-link-header-title",tabIndex:0},0<f.href.length?c["default"].orgHomePageSetup.link.editLink:c["default"].orgHomePageSetup.link.addLink),a.h("button",{"class":"setup-link-header-close",role:"button",
onClick:I,"aria-label":c["default"].common.close},a.h("calcite-icon",{icon:"x",scale:"l"}))),"number"!==typeof t&&a.h("div",{"class":"link-section org-subtext",tabIndex:0},c["default"].orgHomePageSetup.link.addLinkText),a.h("div",{"class":"link-section start-button",role:"button"},a.h("div",{"class":"add-link-text"},a.h("div",{"class":"org-setup-header link-title"},c["default"].orgHomePageSetup.link.linkTitle),a.h("div",{"class":""},a.h("input",{id:"linkTitle","aria-label":c["default"].orgHomePageSetup.link.linkTitle,
type:"text",value:y,ref:L,maxLength:y.length+n,onInput:function(N){N=N.target.value;var P=D-N.length;0>P&&(N=N.substring(0,D),P=0);x(N);w(!0);E(P)},placeholder:c["default"].orgHomePageSetup.link.linkTitleDefault,"class":p?"input-error":""})),S,a.h("div",{"class":"content-intro org-section org-subtext title-error error-color "+(p?"":"hide")},c["default"].orgHomePageSetup.link.linkTitleError),a.h("div",{"class":"content-intro org-section org-subtext link-chars"}))),v&&a.h("div",{"class":"link-section start-button needs-link-image",
role:"button"},a.h("div",{"class":"add-link-text"},a.h("div",{"class":"org-setup-header link-image-title link-title"},c["default"].orgHomePageSetup.link.linkImage))),v&&a.h("div",{"class":"home-page__image-upload-card org-subtext home-page__link-inputs needs-link-image"},a.h("div",{"class":"home-page__logo-name",id:"linkImageText"},F?c["default"].orgHomePageSetup.link.imageApplied:c["default"].orgHomePageSetup.link.noImageApplied),F&&a.h("div",{tabIndex:0,id:"linkImageEdit","aria-label":c["default"].orgHomePageSetup.link.replaceImage,
onClick:h,"class":"tooltip tooltip-left link-edit-image home-page__edit-btn"},a.h("calcite-icon",{icon:"image-plus",scale:"s"})),F&&a.h("div",{tabIndex:0,id:"linkImageDelete","aria-label":c["default"].orgHomePageSetup.link.deleteImage,onClick:V,"class":"tooltip tooltip-left link-delete-image home-page__del-btn"},a.h("calcite-icon",{icon:"trash",scale:"s"})),!F&&a.h("div",{tabIndex:0,id:"linkImageAdd",onClick:h,"class":"link-add-image home-page__logo-link home-page__del-btn"},c["default"].orgHomePageSetup.link.uploadImage)),
a.h("div",{"class":"link-section start-button",role:"button"},a.h("div",{"class":"add-link-text"},a.h("div",{"class":"org-setup-header link-title"},c["default"].orgHomePageSetup.link.linkDestination),a.h("div",{"class":""},a.h("input",{id:"linkHref","aria-label":c["default"].orgHomePageSetup.link.linkDestination,type:"text",value:G,ref:J,onInput:function(N){R(N.target.value);Z(!0)},placeholder:c["default"].orgHomePageSetup.link.linkHrefDefault,"class":z?"input-error":""})),a.h("div",{"class":"content-intro org-section org-subtext href-error "+
(z?"title-error":"")},c["default"].orgHomePageSetup.link.linkHrefError))),a.h("div",{"class":"link-section link-buttons",id:"linkAddCancel"},a.h("button",{"class":"link-cancel btn-clear btn-cancel btn margin-right-quarter",role:"button",onClick:I,"aria-label":c["default"].common.cancel},c["default"].common.cancel),a.h("button",{"class":"link-save btn",role:"button",onClick:function(N){ca(!0);Q()?N=!0:(J.current.focus(),N=!1);if(y)var P=!0;else L.current.focus(),P=!1;if(!N||!P)return!1;q?null!==t?
q({index:t,link:{title:y,href:G,image:F},imageInfo:T}):q({link:"["+y+"]("+G+")"}):(N=null!==t?new CustomEvent("HPLinkAddUpdate",{detail:{link:{title:y,href:G},index:t,image:F}}):new CustomEvent("HPTALinkEvent",{detail:{link:"["+y+"]("+G+")",textAreaCursor:m}}),document.dispatchEvent(N))},"aria-label":c["default"].common.save},c["default"].common.save)))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/LinkAdmin":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../../../../nls/arcgisonline dragula/dragula ../utils/homePageUtils ../utils/LinkDialog ../utils/ColorMenu ../utils/ColorCard ../utils/ContentCard ../utils/CustomColorOverlay".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f){Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);d=b.__importDefault(d);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);l["default"]=function(q){var B=q.HP,v=q.linkValues,t=q.index,u=q.portal,A=q.onLinksChange,z=q.onCustColorChange,E=q.customColorDiv;q=c.useState(v.links);var y=q[0],x=q[1],C=c.useState(!1);q=C[0];var w=C[1],G=c.useState({title:"",href:"",image:""});C=G[0];
var R=G[1],H=c.useState();G=H[0];var Z=H[1],F=c.useState(v.images||!1);H=F[0];var da=F[1],V={},ca=B.useCustomStyles?v.bgCustom:v.bgColor,T=k.getColors(B,"link",ca);F=T.menuColors;ca=c.useState({name:T.startColor,"class":T.startClassSuffix,value:ca});var aa=ca[0],D=ca[1];ca=c.useState(!1);var L=ca[0],J=ca[1],Q=c.useRef();c.useEffect(function(){d["default"]([Q.current]).on("drop",Y)},[]);c.useEffect(function(){if(L){var P=document.querySelector("div.sc-container"),ha=document.querySelector("button.backgroundColor");
k.handleMenuPosAndAccess(P,ha,"link")}},[L]);var Y=function(P){P=b.__spreadArray([],v.links);for(var ha=[],ia=Q.current.querySelectorAll(".drag-content"),ma=0;ma<ia.length;ma++){var pa=parseInt(ia[ma].dataset.order,10);ha.push(P[pa])}x(ha)};c.useEffect(function(){A("links",{index:t,links:y})},[y]);ca=function(){w(!1)};var X=function(P){var ha=b.__spreadArray([],y);ha.splice(P,1);x(ha)},I=function(P){R(y[P]);Z(P);w(!0)};T=function(P){var ha=y.slice(0);ha[P.index]=P.link;x(ha);w(!1);P.imageInfo&&(V[P.imageInfo.fileName]=
P.imageInfo,A("linkImages",{index:t,linkImages:V}))};var S=function(P){A("color",{color:P.value,index:t});D(P)},N=function(){var P=parseInt(aa.value.replace("custom",""),10)-1;a.render(a.h(f["default"],{portal:u,HP:B,index:P,onCancel:function(){E.classList.add("hide")},onSave:function(ha,ia){E.classList.add("hide");var ma=b.__assign({},B);ma.customStyles[ha]=ia;ma=k.getColors(ma,"link","custom"+(ha+1));var pa=ma.startColor;D({name:pa,"class":ma.startClassSuffix,value:pa});aa.value!=="custom"+(ha+
1)&&A("color",{color:"custom"+(ha+1),index:t});z("customStyles",B.customStyles)},key:Date.now()}),document.querySelector(".custom-color-overlay"));document.querySelector(".custom-color-overlay").classList.remove("hide")};return a.h("div",{"class":"setup-container flex-column"},a.h("div",{"class":"org-button back-button link-section-button","data-action":"content",onClick:function(){0===y.length?A("noLinks",t):A("hasLinks",t)},tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},
a.h("calcite-icon",{scale:"s",icon:"chevron-left"}),a.h("div",{"class":"flex-1 margin-left-quarter"},e["default"].orgHomePageSetup.start.body))),a.h("div",{"class":"setup-body-wrapper flex-1"},a.h("div",{"class":"org-setup-header org-title-bar add-link-block-title"},e["default"].orgHomePageSetup.link.addLinkBlock),a.h("div",{"class":"org-setup-header org-title-bar hide edit-link-block-title"},e["default"].orgHomePageSetup.link.editLinkBlock),a.h("div",{"class":"current-links"},a.h("div",{"class":"org-section"},
e["default"].orgHomePageSetup.link.links),a.h("div",{"class":"link-order",ref:Q},y.map(function(P,ha){var ia=Date.now()+ha;return a.h(m["default"],{index:ha,value:P,onEdit:I,onDelete:X,key:ia})}))),a.h("div",{"class":"org-setup-text  org-standard-text text-center"},a.h("button",{"class":"btn btn-clear add-link","aria-label":e["default"].orgHomePageSetup.link.addLinkPlus,onClick:function(){Z(y.length);R({title:"",href:""});w(!0)}},e["default"].orgHomePageSetup.link.addLinkPlus)),a.h("div",{"class":"links-rem"},
e["default"].orgHomePageSetup.link.linkTitleCharsRem.replace("${x}",8-y.length).replace("${chars}",8)),a.h("div",{"class":"org-setup-text org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},e["default"].orgHomePageSetup.link.addImage,a.h("calcite-switch",{name:"images",value:"enabled",checked:H,switched:H,"aria-label":e["default"].orgHomePageSetup.link.addImage,scale:"l",oncalciteSwitchChange:function(P){P="checked"in P.detail?P.detail.checked:P.detail.switched;A("images",{index:t,
images:P});da(P)}}))),a.h("div",{"class":"org-setup-text org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},e["default"].orgHomePageSetup.link.showButtonOutlines,a.h("calcite-switch",{name:"showButtonOutlines",value:"enabled",checked:v.showOutline,switched:v.showOutline,"aria-label":e["default"].orgHomePageSetup.link.showButtonOutlines,scale:"l",oncalciteSwitchChange:function(P){A("showOutline",{index:t,showOutline:"checked"in P.detail?P.detail.checked:P.detail.switched})}}))),
a.h("div",{"class":"org-background-one-line org-setup-text org-padding-top"},a.h("label",{"class":"trailer-0"},a.h("div",{"class":"content-block-color-title"},a.h("div",{"class":"title"},e["default"].orgHomePageSetup.galleryText.backgroundColor),aa.value.match(/^custom/)&&a.h("a",{href:"javascript:void(0)",onClick:N},a.h("div",{"class":"edit-custom-block-color"},e["default"].orgHomePageSetup.styles.editCustomStyle))),a.h(h["default"],{color:aa,onClick:function(){J(!L)}})))),L&&a.h(p["default"],{colors:F,
onSelect:S,onClose:function(){return J(!1)}}),q&&a.h("div",{"class":"text-area-link-div"},a.h(n["default"],{charsRem:-1,link:C,index:G,images:H,onLinkChange:T,onClose:ca,portal:u})))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/GalleryAdmin":function(){define("require exports tslib preact preact/hooks ../utils/homePageUtils dojo/i18n!../../../../../../nls/arcgisonline ../../../../../utils/strings ../utils/LinkedTextArea ../utils/ColorMenu ../utils/ColorCard ../../GroupSelect ../utils/CustomColorOverlay".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f){Object.defineProperty(l,"__esModule",{value:!0});d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);l["default"]=function(q){var B,v=q.portal,t=q.HP,u=q.index,A=q.onGalleryChange,z=q.onCustColorChange,E=q.customColorDiv,y=q.groups,x=t.content[u],C=[],w=[],G=null,R=null,H=v.isTrialOrg(),Z=c.useRef(),F,da=c.useState(x.summary),V=da[0],ca=da[1],T=c.useState(x.groupId),
aa=T[0],D=T[1],L=c.useState(x.title),J=L[0],Q=L[1],Y=c.useState(x.showTitle),X=Y[0],I=Y[1],S=c.useState(x.showSummary),N=S[0],P=S[1],ha=c.useState(x.alignment),ia=ha[0],ma=ha[1],pa=c.useState(x.sortField),ra=pa[0],la=pa[1],ua=c.useState(x.itemType),qa=ua[0],xa=ua[1],ya=c.useState(!1),U=ya[0],g=ya[1],r=c.useState(x.numItems),K=r[0],M=r[1],ea=c.useState(x.showViewLink),na=ea[0],O=ea[1],ja=c.useState(x.showItemThumb),ka=ja[0],sa=ja[1],za=c.useState(x.showItemTitle),Da=za[0],wa=za[1],ta=c.useState(x.showItemSummary),
Aa=ta[0],Ea=ta[1],W=c.useState(x.showItemType),fa=W[0],Ba=W[1],Ga=c.useState([0,0,0]),Fa=Ga[0],Ja=Ga[1],Qa=c.useState(),Ia=Qa[0],Ra=Qa[1],Sa=c.useState(),Ta=Sa[0],jb=Sa[1],Ua=c.useState(),Va=Ua[0],kb=Ua[1],Wa=c.useState(),lb=Wa[0],mb=Wa[1],Xa=c.useState(!1),nb=Xa[0],ob=Xa[1],Ya=c.useState(!0),pb=Ya[0],Za=Ya[1],$a=c.useState(!0),La=$a[0],qb=$a[1],Ma=t.useCustomStyles?x.bgCustom:x.bgColor,Na=e.getColors(t,"text",Ma),rb=Na.menuColors,ab=c.useState({name:Na.startColor,"class":Na.startClassSuffix,value:Ma}),
Oa=ab[0],bb=ab[1],cb=c.useState(!1),Ka=cb[0],db=cb[1],eb=c.useState(null===(B=d["default"].orgHomePageSetup.galleryText.charsRemaining)||void 0===B?void 0:B.replace("${x}",55<J.length?0:55-J.length)),sb=eb[0],tb=eb[1];c.useEffect(function(){ub(y)},[]);c.useEffect(function(){if(Ka){var oa=document.querySelector("div.sc-container"),Ca=document.querySelector("button.backgroundColor");e.handleMenuPosAndAccess(oa,Ca,"gallery")}},[Ka]);c.useEffect(function(){A("groupId",{index:u,value:aa});var oa=y.filter(function(Ca){return Ca.id===
aa})[0];e.getGroupCounts(aa).then(Ja);Ra(oa);fb()},[aa]);c.useEffect(function(){A("sortField",{index:u,value:ra})},[ra]);c.useEffect(function(){La?qb(!1):ob(0===Fa[0]+Fa[1]+Fa[2])},[Fa]);c.useEffect(function(){(null===Ia||void 0===Ia?0:Ia.access)&&mb(Ia.access.replace("org",d["default"].groupsPage.organization).replace("public",d["default"].groupsPage.everyone).replace("private",d["default"].orgHomePageSetup.content.groupMembers))},[Ia]);c.useEffect(function(){var oa={value:qa,index:u,callback:null};
"All"!==qa&&(oa.callback=vb);A("itemType",oa)},[qa]);var fb=function(){Ta&&Va&&(Ta[aa]&&0!==Va[aa].length?(La||(la("title"),xa("All")),Za(!0)):(La||la("title"),Za(!1)))},gb=function(oa){var Ca;oa="string"===typeof oa?oa:oa.target.value;oa=k["default"].stripHTML(oa).substr(0,55);Q(oa);A("title",{value:oa,index:u});tb(null===(Ca=d["default"].orgHomePageSetup.galleryText.charsRemaining)||void 0===Ca?void 0:Ca.replace("${x}",55-oa.length))},hb=function(oa,Ca){var va=k["default"].stripHTML(oa).substring(0,
500);A("summary",{index:u,value:va});Ca&&ca(va)},ib=function(oa){oa=oa.target.value;ma(oa);A("alignment",{index:u,value:oa})},wb=function(oa){la(("switched"in oa.detail?oa.detail.switched:oa.detail.checked)?"featured":"title")},xb=function(oa){la(oa.target.value)},yb=function(oa){A("sortAsc",{index:u,value:oa.target.checked})},zb=function(oa){A("color",{color:oa.value,index:u});bb(oa)},Ab=function(oa){g(!1);xa(oa.target.value)},vb=function(){g(!0)},ub=function(oa){G={};R={};oa.forEach(function(va){var Ha,
Pa;C.push(va.title.substring(0,55));w.push(va.snippet);G[va.id]=null===(Ha=va.properties)||void 0===Ha?void 0:Ha.isFeatured;R[va.id]=(null===(Pa=va.properties)||void 0===Pa?void 0:Pa.featuredItemIds)||[]});jb(G);kb(R);var Ca=oa.filter(function(va){return va.id===aa})[0];Ra(Ca);fb();e.getGroupCounts(aa).then(Ja);F=new m["default"]({baseClass:"leader-half",portal:v,groups:oa,selectedGroup:Ca,editButtonClass:"full-width",pickerClass:"home-page-overlay__group-picker"});Z.current.appendChild(F.domNode);
F.on("change",function(va){va=va.group;D((null===va||void 0===va?void 0:va.id)||null);gb(va.title);hb(va.snippet,!0);g(!1)})},Bb=function(){a.render(a.h(f["default"],{portal:v,HP:t,index:parseInt(Ma.replace("custom",""),10)-1,onCancel:function(){E.classList.add("hide")},onSave:function(oa,Ca){E.classList.add("hide");var va=b.__assign({},t);va.customStyles[oa]=Ca;va=e.getColors(va,"gallery","custom"+(oa+1));var Ha=va.startColor;bb({name:Ha,"class":va.startClassSuffix,value:Ha});Oa.value!=="custom"+
(oa+1)&&A("color",{color:"custom"+(oa+1),index:u});z("customStyles",t.customStyles)},key:Date.now()}),document.querySelector(".custom-color-overlay"));document.querySelector(".custom-color-overlay").classList.remove("hide")};return a.h("div",{"class":"setup-container flex-column"},a.h("div",{"class":"org-button back-button","data-action":"content",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},a.h("calcite-icon",{scale:"s",icon:"chevron-left"}),a.h("div",{"class":"flex-1 margin-left-quarter"},
d["default"].orgHomePageSetup.start.body))),a.h("div",{"class":"setup-body-wrapper flex-1"},a.h("div",{"class":"org-setup-header org-title-bar"},d["default"].orgHomePageSetup.content.itemGallery),a.h("div",{"class":"org-section"},a.h("div",{"class":"org-setup-text  org-standard-text  "},d["default"].orgHomePageSetup.galleryText.group,a.h("br",null),a.h("div",{id:"galleryGroup","class":"gallery-group",ref:Z})),nb&&a.h("div",{"class":"input-error-message empty-group-error is-active","aria-live":"polite"},
d["default"].orgHomePageSetup.galleryText.groupNoItems),a.h("div",{"class":"groupMoreInfo"},a.h("div",{"class":"group-info"},a.h("div",{"class":"group-access",tabIndex:0},d["default"].orgHomePageSetup.galleryText.groupViewableBy," ",a.h("span",{"class":"val"}," ",lb)),a.h("div",{"class":"group-total",tabIndex:0},a.h("calcite-icon",{scale:"s",icon:"users"}),d["default"].orgHomePageSetup.galleryText.groupItems,a.h("span",{"class":"val"}," ",Fa[2])),a.h("div",{"class":"group-org",tabIndex:0},a.h("calcite-icon",
{scale:"s",icon:"organization"}),d["default"].orgHomePageSetup.galleryText.organizationItems,a.h("span",{"class":"val"}," ",Fa[1])),a.h("div",{"class":"group-public",tabIndex:0},a.h("calcite-icon",{scale:"s",icon:"globe"}),d["default"].orgHomePageSetup.galleryText.everyoneItems,a.h("span",{"class":"val"}," ",Fa[0]))))),a.h("div",{"class":"org-section"},a.h("div",{"class":"org-setup-text"},a.h("div",{"class":"org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showGalleryTitle,
a.h("calcite-switch",{name:"showTitle",value:"enabled",checked:X,"aria-label":d["default"].orgHomePageSetup.galleryText.showGalleryTitle,scale:"l",oncalciteSwitchChange:function(){A("showTitle",{value:!X,index:u});I(!X)}}))),X&&a.h("div",{"class":"title-email toggle__title"},a.h("label",{"class":"trailer-0"},d["default"].orgHomePageSetup.galleryText.galleryTitle,a.h("br",null),a.h("input",{name:"galleryTitle","class":"galleryTitle",id:"galleryTitle",maxLength:55,title:d["default"].orgHomePageSetup.galleryText.galleryTitle,
"aria-label":d["default"].orgHomePageSetup.galleryText.galleryTitle,value:J.substring(0,55),onKeyUp:gb})),a.h("div",{"class":"org-subtext"},sb))),a.h("div",{"class":"org-setup-text"},a.h("div",{"class":"org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showGallerySummary,a.h("calcite-switch",{name:"showBody",value:"enabled",checked:N,"aria-label":d["default"].orgHomePageSetup.galleryText.gallerySummary,scale:"l",oncalciteSwitchChange:function(){A("showSummary",
{value:!N,index:u});P(!N)}}))),N&&a.h("div",{"class":"body-text toggle__body"},a.h(n["default"],{isTrial:H,textValue:V,maxChars:500,onTextChange:hb,portal:v,key:Date.now(),label:d["default"].orgHomePageSetup.galleryText.gallerySummary}))),a.h("div",{"class":"org-setup-text org-padding-top"},d["default"].orgHomePageSetup.galleryText.titleSummaryAlign,a.h("label",{"class":"trailer-0","for":"text-align-left-radio"},a.h("input",{type:"radio",id:"text-align-left-radio",name:"headlineBodyAlign","class":"headlineBodyAlign",
value:"left",onClick:ib,checked:"left"===ia}),d["default"].orgHomePageSetup.header.left),a.h("label",{"class":"trailer-0","for":"text-align-center-radio"},a.h("input",{type:"radio",id:"text-align-center-radio",name:"headlineBodyAlign","class":"headlineBodyAlign",value:"center",onClick:ib,checked:"center"===ia}),d["default"].orgHomePageSetup.header.center)),a.h("div",{"class":"org-section"},a.h("div",{"class":"org-setup-text  org-standard-text"},a.h("label",{"class":"trailer-0"},d["default"].orgHomePageSetup.galleryText.numDisplayed,
a.h("br",null),a.h("select",{"aria-label":d["default"].orgHomePageSetup.galleryText.numDisplayed,onChange:function(oa){A("numItems",{index:u,value:parseInt(oa.target.value,10)});M(parseInt(oa.target.value,10))},"class":"galleryNumDisp",id:"galleryNumDisp"},a.h("option",{value:"4",selected:4===K},"4"),a.h("option",{value:"8",selected:8===K},"8"),a.h("option",{value:"12",selected:12===K},"12"),a.h("option",{value:"16",selected:16===K},"16")))),pb&&a.h("div",{"class":"org-setup-text has-featured-items org-standard-text leader-half"},
a.h("div",{"class":"org-setup-text  org-standard-text "},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showFeaturedItems,a.h("calcite-switch",{name:"featuredItems",value:"enabled",checked:"featured"===ra,"aria-label":d["default"].orgHomePageSetup.galleryText.showFeaturedItems,scale:"l",oncalciteSwitchChange:wb})))),"featured"!==ra&&a.h("div",{"class":"org-setup-text gallery-sort org-standard-text leader-half"},a.h("label",{"class":"trailer-0"},d["default"].orgHomePageSetup.galleryText.sortBy,
a.h("br",null),a.h("select",{"class":"margin-right-half sortBy gallerySortBy",onChange:xb},a.h("option",{value:"title",selected:"title"===ra},d["default"].myOrganization.sortFields.title),a.h("option",{value:"owner",selected:"owner"===ra},d["default"].myOrganization.sortFields.owner),a.h("option",{value:"modified",selected:"modified"===ra},d["default"].myOrganization.sortFields.modified),a.h("option",{value:"numviews",selected:"numviews"===ra},d["default"].myOrganization.sortFields.numviews)))),"featured"!==
ra&&a.h("div",{"class":"org-setup-text gallery-sort org-standard-text bottom-margin-half-rem"},a.h("label",{"class":"trailer-0"},a.h("input",{type:"checkbox",id:"sortAsc","class":"gallerySortAsc",value:"Asc",checked:x.sortAsc,onClick:yb}),d["default"].orgHomePageSetup.galleryText.sortAsc)),"featured"!==ra&&a.h("div",{"class":"org-setup-text  org-standard-text leader-half bottom-margin-half-rem js-display-items-container"},a.h("label",{"class":"trailer-0"},d["default"].orgHomePageSetup.galleryText.galleryItemType,
a.h("br",null),a.h("select",{"class":"margin-right-half sortBy galleryItemType",onChange:Ab},a.h("option",{value:"All",selected:"All"===qa},d["default"].folders.filters.all),a.h("option",{value:"Maps",selected:"Maps"===qa},d["default"].folders.filters.maps),a.h("option",{value:"Apps",selected:"Apps"===qa},d["default"].folders.filters.apps),a.h("option",{value:"Scenes",selected:"Scenes"===qa},d["default"].folders.filters.scenes),a.h("option",{value:"Layers",selected:"Layers"===qa},d["default"].folders.filters.layers),
a.h("option",{value:"Files",selected:"Files"===qa},d["default"].folders.filters.files),a.h("option",{value:"Tools",selected:"Tools"===qa},d["default"].folders.filters.tools)))),U&&a.h("div",{"class":"input-error-message empty-group-type-error is-active"},d["default"].orgHomePageSetup.galleryText.groupTypeNoItems),a.h("div",{"class":"org-setup-text org-standard-text org-gallery-display-prefs leader-half"},d["default"].orgHomePageSetup.galleryText.displayPreferences),a.h("div",{"class":"org-background-one-line org-setup-text org-padding-top"},
a.h("label",{"class":"trailer-0"},a.h("div",{"class":"content-block-color-title"},a.h("div",{"class":"title"},d["default"].orgHomePageSetup.galleryText.blockColors),Oa.value.match(/^custom/)&&a.h("a",{href:"javascript:void(0)",onClick:Bb},a.h("div",{"class":"edit-custom-block-color"},d["default"].orgHomePageSetup.styles.editCustomStyle))),a.h(h["default"],{color:Oa,onClick:function(){db(!Ka)}}))),a.h("div",{"class":"org-setup-text  org-standard-text"},a.h("div",{"aria-label":d["default"].orgHomePageSetup.footer.blockColors,
"class":"gallery-background backgroundColor",id:"backgroundColor"})),a.h("div",{"class":"org-setup-text  org-standard-text   org-gallery-showthumbnail"},a.h("div",{"class":"org-setup-text org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showThumbnail,a.h("calcite-switch",{name:"featuredItems",value:"enabled",checked:x.showItemThumb,"aria-label":d["default"].orgHomePageSetup.galleryText.showThumbnail,scale:"l",oncalciteSwitchChange:function(){A("showItemThumb",
{value:!ka,index:u});sa(!ka)}})))),a.h("div",{"class":"org-setup-text  org-standard-text org-gallery-showitemtype"},a.h("div",{"class":"org-setup-text org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showItemType,a.h("calcite-switch",{name:"featuredItems",value:"enabled",checked:x.showItemType,"aria-label":d["default"].orgHomePageSetup.galleryText.showItemType,scale:"l",oncalciteSwitchChange:function(){A("showItemType",{value:!fa,index:u});
Ba(!fa)}})))),a.h("div",{"class":"org-setup-text  org-standard-text   org-gallery-showtitle"},a.h("div",{"class":"org-setup-text org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showTitle,a.h("calcite-switch",{name:"featuredItems",value:"enabled",checked:x.showItemTitle,"aria-label":d["default"].orgHomePageSetup.galleryText.showTitle,scale:"l",oncalciteSwitchChange:function(){A("showItemTitle",{value:!Da,index:u});wa(!Da)}})))),a.h("div",
{"class":"org-setup-text  org-standard-text   org-gallery-showsummary"},a.h("div",{"class":"org-setup-text org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showSummary,a.h("calcite-switch",{name:"featuredItems",value:"enabled",checked:Aa,"aria-label":d["default"].orgHomePageSetup.galleryText.showSummary,scale:"l",oncalciteSwitchChange:function(){A("showItemSummary",{value:!Aa,index:u});Ea(!Aa)}})))),a.h("div",{"class":"org-setup-text  org-standard-text   org-gallery-group-view"},
a.h("div",{"class":"org-setup-text org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},d["default"].orgHomePageSetup.galleryText.showViewGroup,a.h("calcite-switch",{name:"featuredItems",value:"enabled",checked:na,"aria-label":d["default"].orgHomePageSetup.galleryText.showViewGroup,scale:"l",oncalciteSwitchChange:function(){A("showViewLink",{value:!na,index:u});O(!na)}}))))))),Ka&&a.h(p["default"],{colors:rb,onSelect:zb,onClose:function(){return db(!1)}}))}})},"arcgisonline/pages/organization/widgets/settings/GroupSelect":function(){define("require exports tslib esri/Evented dojo/text!./templates/GroupSelect.html dijit/_TemplatedMixin dijit/_WidgetBase ./rows/GroupEditButton ./GroupPicker arcgisonline/tsutils/declareDecorator".split(" "),
function(ba,l,b,a,c,e,d,k,n,p){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);return function(){function h(m,f){this.templateString=c["default"]}h.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};h.prototype.render=function(){this.editButton=new k["default"]({portal:this.portal,groups:this.groups,selectedGroup:this.selectedGroup,baseClass:this.editButtonClass},
this.domNode.querySelector(".js-edit-btn"));this.groupPicker=new n["default"]({portal:this.portal,hideCancel:!0,baseClass:this.pickerClass,fetchAll:!0},this.domNode.querySelector(".js-picker"))};h.prototype.addEventListeners=function(){var m=this;this.own(this.editButton.on("edit",function(){m.editButton.hide();m.groupPicker.show();m.groupPicker.focus()}),this.groupPicker.on("selectUpdate",function(f){m.editButton.update(f);m.hideGroupPicker();m.editButton.domNode.focus();m.emit("change",{group:f})}),
this.groupPicker.on("cancel",function(){return m.hideGroupPicker()}))};h.prototype.hideGroupPicker=function(){this.groupPicker.hide();this.editButton.show()};return h=b.__decorate([p["default"](d["default"],e["default"],a["default"])],h)}()})},"arcgisonline/pages/organization/widgets/settings/rows/GroupEditButton":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/GroupEditButton.html dijit/_TemplatedMixin dijit/_WidgetBase ../../GroupIcon ../../../../utils/icons ../../../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);return function(){function f(q,B){this.templateString=e["default"];this.icons=p["default"]}f.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};f.prototype.hide=function(){h["default"].hideNode(this.domNode)};f.prototype.show=
function(){h["default"].showNode(this.domNode)};f.prototype.addEventListeners=function(){var q=this;this.own(c["default"](this.domNode,"click",function(B){B.stopPropagation();q.emit("edit")}))};f.prototype.render=function(){if(this.selectedGroup)this.createIcon(),this.groupTitle.textContent=this.selectedGroup.altTitle||this.selectedGroup.title;else{var q=this.query,B=this.groups;if(q){var v=q.indexOf('title:"'),t=q.indexOf("id:");if(-1<v){var u=q.substring(v+7),A;v=q.indexOf("owner:");u=u.substring(0,
u.lastIndexOf('"'));-1<v&&(A=q.substring(v+6));if(u&&A&&(B=B.filter(function(y){return y.title===u&&y.owner===A})[0])){u=B.altTitle||B.title;var z=B}q=!this.portal.isPortal&&q.indexOf("owner:esri")||this.portal.isPortal&&!z?this.defaultText:u}else if(-1<t){var E=q.substring(t+3);(B=B.filter(function(y){return y.id===E})[0])?(q=B.altTitle||B.title,z=B):q=this.defaultText}else q=this.defaultText}else q=this.defaultText;z&&(this.selectedGroup=z,this.createIcon());this.groupTitle.textContent=q}};f.prototype.createIcon=
function(){this.groupIcon=new n["default"]({portal:this.portal,group:this.selectedGroup,size:"32",letterSize:"1",cssClasses:"org-member-card__group-tile margin-right-1",tooltipClass:""});this.iconContainer.appendChild(this.groupIcon.domNode)};f.prototype.update=function(q){this.selectedGroup=q;this.groupIcon&&this.groupIcon.destroy();q?(this.createIcon(),this.groupTitle.textContent=q.altTitle||q.title):this.groupTitle.textContent=this.defaultText};return f=b.__decorate([m["default"](k["default"],
d["default"],a["default"])],f)}()})},"arcgisonline/pages/organization/widgets/settings/GroupPicker":function(){define("require exports tslib esri/Evented dojo/debounce dojo/on dojo/text!./templates/GroupPicker.html dojo/i18n!../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../utils/dom ../../../pageUtil ../../../utils/keys ./GroupPickerRow ../../../../sharing/util ../../../../esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),function(ba,l,b,a,c,e,d,k,n,p,h,
m,f,q,B,v,t){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);q=b.__importDefault(q);B=b.__importDefault(B);v=b.__importDefault(v);t=b.__importDefault(t);return function(){function u(A,z){this.templateString=d["default"];this.i18n=b.__assign(b.__assign({},k["default"].groupSelect),k["default"].common);this.fetchAll=this.hideCancel=!1;this.rows=
[];this.pageSize=100;this.selectedIndex=0}u.prototype.postMixInProperties=function(){this.inherited(arguments);this.listId="group-results-list-"+Date.now()};u.prototype.postCreate=function(){this.inherited(arguments);this.hideCancel&&h["default"].hideNode(this.cancelWrapper);this.addEventListeners()};u.prototype.hide=function(){h["default"].hideNode(this.domNode)};u.prototype.show=function(){this.reset();h["default"].showNode(this.domNode)};u.prototype.focus=function(){this.searchInput.focus()};u.prototype.reset=
function(){this.rows.forEach(function(A){return A.destroy()});this.rows=[];this.searchInput.value="";h["default"].hideNode(this.noResults);this.getGroups("").then(this.updateList.bind(this))};u.prototype.addEventListeners=function(){var A=this;this.own(e["default"](this.searchInput,"input",c["default"](this.updateResults.bind(this),300)),e["default"](this.cancelBtn,"click",function(){A.emit("cancel")}),e["default"](this.domNode,"keydown",this.handleKeys.bind(this)));this.hideCancel&&this.own(e["default"](document.documentElement,
"click",this.handleDocClick.bind(this)))};u.prototype.handleDocClick=function(A){this.domNode.contains(A.target)||this.emit("cancel")};u.prototype.handleKeys=function(A){switch(A.keyCode){case f.ESCAPE:this.emit("cancel");break;case f.ENTER:A.preventDefault();A=this.rows[this.selectedIndex];var z=this.defaultText&&0===this.selectedIndex;A&&!z?this.emit("selectUpdate",A.group):this.emit("clear");break;case f.UP:A.preventDefault();this.select(this.selectedIndex-1);break;case f.DOWN:A.preventDefault(),
this.select(this.selectedIndex+1)}};u.prototype.getParams=function(A,z){return{q:"orgid:"+this.portal.id+' AND (-owner:"esri_nav" -owner:"esri_boundaries" -owner:"esri_demographics" -owner:"esri_livingatlas") AND (access:org OR access:public) '+A,num:z||this.pageSize,sortField:"title",sortOrder:"asc"}};u.prototype.getGroups=function(A){var z=v["default"].restBaseUrl+"/community/groups";A=this.getParams(A);return this.fetchAll?m["default"].fetchAllResources(z,A):B["default"].request({url:z,content:A})};
u.prototype.updateResults=function(){var A=this.searchInput.value;A&&0<A.length?this.getGroups(A).then(this.updateList.bind(this)):(h["default"].hideNode(this.noResults),this.getGroups("").then(this.updateList.bind(this)))};u.prototype.updateList=function(A){var z=this;A=this.fetchAll?A:A.results;this.rows.forEach(function(E){return E.destroy()});A&&0!==A.length?(h["default"].hideNode(this.noResults),this.defaultText&&(A=b.__spreadArray([{id:"0",title:this.defaultText,owner:""}],A)),this.rows=A.map(function(E,
y){var x=z.defaultText&&0===y,C=new q["default"]({portal:z.portal,group:E,isNonGroup:x,defaultIcon:z.defaultIcon});z.own(e["default"](C,"focus",function(){return z.select(y,!0)}),e["default"](C,"select",function(){x?z.emit("clear"):z.emit("selectUpdate",E)}),e["default"](C,"hover",function(){return z.select(y,!0)}));return C}),h["default"].appendChildren(this.rows.map(function(E){return E.domNode}),this.resultsDropdown),h["default"].showNode(this.resultsDropdown),this.resultsDropdown.setAttribute("aria-expanded",
"true"),0<this.rows.length&&this.select(0)):(h["default"].hideNode(this.resultsDropdown),this.searchInput.value&&h["default"].showNode(this.noResults),this.resultsDropdown.removeAttribute("aria-expanded"),this.resultsDropdown.removeAttribute("aria-activedescendant"))};u.prototype.select=function(A,z){var E=this.rows.length-1;A>E&&(A=0);0>A&&(A=E);this.selectedIndex=A;if(E=this.rows[A])if(E.select(),this.resultsDropdown.setAttribute("aria-activedescendant",E.group.id),!z){E=E.domNode;var y=E.parentElement,
x=E.offsetTop;x+E.clientHeight>y.scrollTop+y.clientHeight?y.scrollTop=x-y.clientHeight+E.clientHeight:y.scrollTop>x&&(y.scrollTop=x)}this.rows.filter(function(C,w){return w!==A}).forEach(function(C){return C.deselect()})};return u=b.__decorate([t["default"](p["default"],n["default"],a["default"])],u)}()})},"arcgisonline/pages/utils/keys":function(){define(["require","exports"],function(ba,l){Object.defineProperty(l,"__esModule",{value:!0});l.DOWN=l.RIGHT=l.UP=l.LEFT=l.TAB=l.SPACEBAR=l.ENTER=l.ESCAPE=
void 0;l.ESCAPE=27;l.ENTER=13;l.SPACEBAR=32;l.TAB=9;l.LEFT=37;l.UP=38;l.RIGHT=39;l.DOWN=40;l["default"]={ESCAPE:l.ESCAPE,ENTER:l.ENTER,TAB:l.TAB,UP:l.UP,DOWN:l.DOWN,LEFT:l.LEFT,RIGHT:l.RIGHT,SPACEBAR:l.SPACEBAR}})},"arcgisonline/pages/organization/widgets/settings/GroupPickerRow":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/GroupPickerRow.html dijit/_TemplatedMixin dijit/_WidgetBase ../GroupIcon ../../../utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h){a=b.__importDefault(a);c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);return function(){function m(f,q){this.templateString=e["default"];this.isNonGroup=!1}m.prototype.postCreate=function(){this.inherited(arguments);if(this.isNonGroup){var f=document.createElement("div");f.className="org-settings__non-group-icon flex flex-align-center font-size-1";f.innerHTML=
this.defaultIcon?p["default"][this.defaultIcon]["24"]:this.group.title[0].toUpperCase();this.defaultIcon||f.classList.add("is-abbr");this.domNode.querySelector(".js-group-icon").appendChild(f)}else new n["default"]({portal:this.portal,group:this.group,size:"38",letterSize:"1",cssClasses:"org-settings__group-icon-tile",tooltipClass:""},this.domNode.querySelector(".js-group-icon"));this.addEventListeners()};m.prototype.select=function(){this.domNode.setAttribute("aria-selected","true");this.domNode.classList.add("is-active")};
m.prototype.deselect=function(){this.domNode.setAttribute("aria-selected","false");this.domNode.classList.remove("is-active")};m.prototype.addEventListeners=function(){var f=this;this.own(c["default"](this.domNode,"click",function(q){q.stopPropagation();f.emit("select")}),c["default"](this.domNode,"mouseover",function(){return f.emit("hover")}),c["default"](this.domNode,"focusin",function(){return f.emit("focus")}))};return m=b.__decorate([h["default"](k["default"],d["default"],a["default"])],m)}()})},
"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/FooterAdmin":function(){define("require exports tslib preact preact/hooks ../utils/homePageUtils ../utils/LinkedTextArea dojo/i18n!../../../../../../nls/arcgisonline ../utils/ColorMenu ../utils/ColorCard ../utils/CustomColorOverlay".split(" "),function(ba,l,b,a,c,e,d,k,n,p,h){Object.defineProperty(l,"__esModule",{value:!0});d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);
l["default"]=function(m){var f=m.portal,q=m.HP,B=m.onFooterChange,v=m.onCustColorChange,t=m.customColorDiv,u=q.footer;m=f.isTrialOrg();var A=c.useState(u.showCopy),z=A[0],E=A[1],y=c.useState(u.copy);A=y[0];var x=y[1];y=c.useState(u.showContact);var C=y[0],w=y[1],G=c.useState(u.contact);y=G[0];var R=G[1],H=q.useCustomStyles?u.bgCustom:u.bgColor;G=e.getColors(q,"footer",H);u=G.menuColors;G=c.useState({name:G.startColor,"class":G.startClassSuffix,value:H});var Z=G[0],F=G[1];G=c.useState(!1);var da=G[0],
V=G[1],ca=c.useRef();c.useEffect(function(){if(da){var J=document.querySelector("div.sc-container"),Q=document.querySelector("button.backgroundColor");e.handleMenuPosAndAccess(J,Q,"footer")}},[da]);G=function(J){x(J);B("copy",J)};var T=function(J){R(ca.current.value);B("contact",ca.current.value)},aa=function(J){B("contactBlur",ca.current.value)},D=function(J){B("color",J.value);F(J)},L=function(){a.render(a.h(h["default"],{portal:f,HP:q,index:parseInt(H.replace("custom",""),10)-1,onCancel:function(){t.classList.add("hide")},
onSave:function(J,Q){t.classList.add("hide");var Y=b.__assign({},q);Y.customStyles[J]=Q;Y=e.getColors(Y,"footer","custom"+(J+1));var X=Y.startColor;F({name:X,"class":Y.startClassSuffix,value:X});Z.value!=="custom"+(J+1)&&B("color","custom"+(J+1));t.classList.add("hide");v("customStyles",q.customStyles)},key:Date.now()}),document.querySelector(".custom-color-overlay"));document.querySelector(".custom-color-overlay").classList.remove("hide")};return a.h("div",{"class":"setup-container flex-column"},
a.h("div",{"class":"org-button back-button","data-action":"start",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},a.h("calcite-icon",{scale:"s",icon:"chevron-left"}),a.h("div",{"class":"flex-1 margin-left-quarter"},k["default"].orgHomePageSetup.start.home))),a.h("div",{"class":"setup-body-wrapper flex-1"},a.h("div",{"class":"org-setup-header org-title-bar"},k["default"].orgHomePageSetup.start.footer),a.h("div",{"class":"org-section"},a.h("div",{"class":"org-setup-text"},
a.h("div",{"class":"org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},k["default"].orgHomePageSetup.footer.showCopy,a.h("calcite-switch",{name:"showCopy",value:"enabled",checked:z,scale:"l","aria-label":k["default"].orgHomePageSetup.footer.showCopy,oncalciteSwitchChange:function(){B("showCopy",!z);E(!z)}})))),z&&a.h("div",{"class":"copy-text toggle__copy"},a.h(d["default"],{isTrial:m,textValue:A,maxChars:500,onTextChange:G,portal:f,label:k["default"].orgHomePageSetup.footer.footText})),
a.h("div",{"class":"input-error-message invalid-copy-text"}),a.h("div",{"class":"org-setup-text"},a.h("div",{"class":"org-padding-top"},a.h("calcite-label",{layout:"inline-space-between"},k["default"].orgHomePageSetup.footer.showContact,a.h("calcite-switch",{name:"showContact",value:"enabled",checked:C,scale:"l",oncalciteSwitchChange:function(){B("showContact",!C);w(!C)}}))),C&&a.h("div",{"class":"contact-email toggle__contact"},a.h("label",{"class":"trailer-0"},k["default"].orgHomePageSetup.footer.contactEmail,
a.h("br",null),a.h("input",{name:"contactEmail","class":"contactEmail",id:"contactEmail",placeholder:k["default"].orgHomePageSetup.footer.contactEmail,"aria-label":k["default"].orgHomePageSetup.footer.contactEmail,title:k["default"].orgHomePageSetup.footer.contactEmail,value:y,onChange:T,onBlur:aa,ref:ca})),a.h("div",{"class":"input-error-message invalid-email-address"}))),a.h("div",{"class":"org-setup-text org-padding-top"},a.h("label",{"class":"trailer-0"},a.h("div",{"class":"content-block-color-title"},
a.h("div",{"class":"title"},k["default"].orgHomePageSetup.footer.backgroundColor),Z.value.match(/^custom/)&&a.h("a",{href:"javascript:void(0)",onClick:L},a.h("div",{"class":"edit-custom-block-color"},k["default"].orgHomePageSetup.styles.editCustomStyle))),a.h(p["default"],{color:Z,title:k["default"].orgHomePageSetup.start.footer,onClick:function(){V(!da)}}))))),da&&a.h(n["default"],{colors:u,onSelect:D,onClose:function(){return V(!1)}}))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/TypographyAdmin":function(){define("require exports tslib preact dojo/i18n!../../../../../../nls/arcgisonline ../utils/AaBox ../utils/homePageUtils preact/hooks ../utils/SVGRadio ../utils/TypographyMenu".split(" "),
function(ba,l,b,a,c,e,d,k,n,p){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);e=b.__importDefault(e);n=b.__importDefault(n);p=b.__importDefault(p);l["default"]=function(h){var m=h.HP,f=h.onTypographyChange;h=k.useRef();var q=k.useRef(),B=k.useRef(),v=k.useState(m.useCustomTypography),t=v[0],u=v[1],A=k.useState(m.typography);v=A[0];var z=A[1];m=k.useState(m.customTypography);var E=m[0],y=m[1];m=k.useState("title");var x=m[0],C=m[1];m=k.useState(!1);var w=m[0],G=m[1];k.useEffect(function(){document.addEventListener("click",
R,!0);return function(){document.removeEventListener("click",R,!0)}},[]);var R=function(F){var da;F=F.target;(null===(da=B.current)||void 0===da?0:da.contains(F))||!w||G(!1)};m=function(F){F=F.target.closest(".style-content-card").dataset.id.split("|");z(F);f("typography",F)};A=function(F){var da="title"===x?0:1,V=b.__spreadArray([],E);V[da]=F;y(V);G(!1);f("customTypography",V)};var H=function(F){F=F.target.closest(".style-content-card");C(F.classList.contains("title-typography-card")?"title":"body");
G(!0);setTimeout(function(){d.handleMenuPosAndAccess(B.current,B.current,"typography")},100)},Z=function(){G(!1)};return a.h("div",{"class":"setup-container flex-column typography-left-bar"},a.h("div",{"class":"org-button back-button","data-action":"start",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},a.h("calcite-icon",{scale:"s",icon:"chevron-left"}),a.h("div",{"class":"flex-1 margin-left-quarter"},c["default"].orgHomePageSetup.start.home))),a.h("div",{"class":"setup-body-wrapper flex-1"},
a.h("div",{"class":"org-setup-header org-title-bar"},c["default"].orgHomePageSetup.start.typography,a.h("div",{"class":"right"},a.h("button",{type:"button","class":"btn-link info-icon js-typo-onboard-btn","aria-label":"{i18n.orgHomePageSetup.start.typography}",onClick:function(){f("typographyOnboard")}},a.h("calcite-icon",{scale:"s",icon:"information"})))),a.h("div",{"class":"org-section org-padding-top no-padding-bottom no-border"},a.h("div",{"class":"org-setup-header bottom-margin-rem"},c["default"].orgHomePageSetup.typography.chooseTheme),
a.h("div",{"class":"org-padding-top toggle-button-container"},a.h("button",{"class":"toggle-button use-preset-typography "+(t?"":"active"),onClick:function(F){u(!1);f("useCustomTypography",!1)}},c["default"].orgHomePageSetup.typography.usePreset),a.h("button",{"class":"toggle-button use-custom-typography "+(t?"active":""),onClick:function(F){u(!0);f("useCustomTypography",!0)}},c["default"].orgHomePageSetup.typography.useCustom))),a.h("div",{"class":"content-intro org-section org-subtext"},c["default"].orgHomePageSetup.typography.pickTheme,
a.h("br",null),a.h("br",null)),t&&a.h("div",{"class":"custom-typography org-section no-border"},a.h("div",{"class":"content-intro org-section org-subtext no-border"},c["default"].orgHomePageSetup.typography.titleFont),a.h("button",{"class":"title-typography-card style-content-card style-card-custom-typography",tabIndex:0,title:c["default"].orgHomePageSetup.typography.titleFont+" "+E[0],"aria-label":c["default"].orgHomePageSetup.typography.titleFont+" - "+E[0],style:"font-family: '"+E[0]+"'",ref:h,
onClick:H},a.h(e["default"],null),a.h("div",{"class":"style-text"},E[0]),a.h("div",{"class":"style-arrow"},a.h("calcite-icon",{scale:"s",icon:"caret-down"}))),a.h("div",{"class":"content-intro org-section org-subtext no-border"},c["default"].orgHomePageSetup.typography.bodyFont),a.h("button",{"class":"body-typography-card style-content-card style-card-custom-typography",tabIndex:0,title:c["default"].orgHomePageSetup.typography.bodyFont+" "+E[1],"aria-label":c["default"].orgHomePageSetup.typography.bodyFont+
" - "+E[1],style:"font-family: '"+E[1]+"'",ref:q,onClick:H},a.h(e["default"],null),a.h("div",{"class":"style-text"},E[1]),a.h("div",{"class":"style-arrow"},a.h("calcite-icon",{scale:"s",icon:"caret-down"})))),!t&&a.h("div",{"class":"preset-typography org-section no-border"},a.h("button",{tabIndex:0,onClick:m,"class":"Avenir Next|Avenir Next"===v.join("|")?"style-content-card style-content-card-typography active":"style-content-card style-content-card-typography","data-id":"Avenir Next|Avenir Next"},
a.h("div",{"class":"radio-svg","aria-hidden":"true"},a.h(n["default"],null)),a.h("div",{"class":"style-text"},a.h("div",{"class":"style-header title-default"},c["default"].orgHomePageSetup.typography.titleDefault," Avenir Next"),a.h("div",{"class":"style-text-name boyd-default"},c["default"].orgHomePageSetup.typography.bodyDefault," Avenir Next"))),a.h("button",{tabIndex:0,onClick:m,"class":"Avenir Next|Noto Serif"===v.join("|")?"style-content-card style-content-card-typography active":"style-content-card style-content-card-typography",
"data-id":"Avenir Next|Noto Serif"},a.h("div",{"class":"radio-svg","aria-hidden":"true"},a.h(n["default"],null)),a.h("div",{"class":"style-text"},a.h("div",{"class":"style-header title-default"},c["default"].orgHomePageSetup.typography.titleDefault," Avenir Next"),a.h("div",{"class":"style-text-name body-noto"},c["default"].orgHomePageSetup.typography.bodyDefault," Noto Serif"))),a.h("button",{tabIndex:0,onClick:m,"class":"Noto Serif|Avenir Next"===v.join("|")?"style-content-card style-content-card-typography active":
"style-content-card style-content-card-typography","data-id":"Noto Serif|Avenir Next"},a.h("div",{"class":"radio-svg","aria-hidden":"true"},a.h(n["default"],null)),a.h("div",{"class":"style-text"},a.h("div",{"class":"style-header title-noto"},c["default"].orgHomePageSetup.typography.titleDefault," Noto Serif"),a.h("div",{"class":"style-text-name body-default  "},c["default"].orgHomePageSetup.typography.bodyDefault," Avenir Next"))),a.h("button",{tabIndex:0,onClick:m,"class":"Noto Serif|Noto Serif"===
v.join("|")?"style-content-card style-content-card-typography active":"style-content-card style-content-card-typography","data-id":"Noto Serif|Noto Serif"},a.h("div",{"class":"radio-svg","aria-hidden":"true"},a.h(n["default"],null)),a.h("div",{"class":"style-text"},a.h("div",{"class":"style-header title-noto"},c["default"].orgHomePageSetup.typography.titleDefault," Noto Serif"),a.h("div",{"class":"style-text-name body-noto"},c["default"].orgHomePageSetup.typography.bodyDefault," Noto Serif"))))),
w&&a.h("div",{"class":"sc-container",ref:B},a.h(p["default"],{onTypographyChange:A,onTypographyClose:Z,key:(new Date).getTime()})))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/SVGRadio":function(){define(["require","exports","preact"],function(ba,l,b){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(){return b.h("svg",null,b.h("circle",{"class":"outer",cy:"17",cx:"17",r:"6"}),b.h("circle",{"class":"inner",cy:"17",cx:"17",r:"3"}))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/TypographyMenu":function(){define("require exports tslib preact ../utils/AaBox preact/hooks".split(" "),
function(ba,l,b,a,c,e){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);l["default"]=function(d){var k=d.onTypographyChange,n=d.onTypographyClose,p=e.useRef();e.useEffect(function(){document.addEventListener("click",h,!0);return function(){document.removeEventListener("click",h,!0)}},[]);var h=function(m){var f,q=m.target;null!==(f=p.current)&&void 0!==f&&f.contains(q)||(m.stopPropagation(),n())};d=function(m){m=m.target.closest(".style-content-card");var f=m.querySelector(".style-text").innerHTML;
k(m.dataset.val,f)};return a.h("div",{"class":"style-content-cards style-content-menu no-basetypography enh-sel-dropdown",tabIndex:0,ref:p},a.h("div",{"class":"menu"},a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--avenirnext option","data-val":"Avenir Next",style:"font-family: Avenir Next;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Avenir Next")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--arial option",
"data-val":"Arial",style:"font-family: Arial;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Arial")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--georgia option","data-val":"Georgia",style:"font-family: Georgia;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Georgia")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--helvetica option","data-val":"Helvetica",
style:"font-family: Helvetica;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Helvetica")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--merriweather option","data-val":"Merriweather",style:"font-family: Merriweather;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Merriweather")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--montserrat option",
"data-val":"Montserrat",style:"font-family: Montserrat;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Montserrat")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--notoserif option","data-val":"Noto Serif",style:"font-family: Noto Serif;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Noto Serif")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--playfairdisplay option",
"data-val":"Playfair Display",style:"font-family: Playfair Display;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Playfair Display")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--roboto option","data-val":"Roboto",style:"font-family: Roboto;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Roboto")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--newtimesroman option",
"data-val":"New Times Roman",style:"font-family: New Times Roman;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"New Times Roman")),a.h("button",{tabIndex:0,onClick:d,"class":"style-content-card style-content-card--verdana option","data-val":"Verdana",style:"font-family: Verdana;"},a.h("div",{"class":"aA-box"},a.h(c["default"],null)),a.h("div",{"class":"style-text"},"Verdana"))))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/components/ColorsAdmin":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../../../../nls/arcgisonline ../utils/homePageUtils ../utils/ColorMenu ../utils/OBColorsMenu ../utils/ColorCard ../utils/CustomStylesList ../utils/CustomColorOverlay ../utils/AaBox ../utils/CustomColorDeleteWarn ../../../../../home/sharedResources".split(" "),
function(ba,l,b,a,c,e,d,k,n,p,h,m,f,q,B){Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);q=b.__importDefault(q);l["default"]=function(v){var t=v.portal,u=v.HP,A=v.onColorsChange;v=document.createElement("div");document.querySelector(".custom-color-overlay")||(v.classList.add("custom-color-overlay"),v.classList.add("hide"),document.querySelector("body").append(v));
var z=function(O,ja){var ka=d.getColors(u,O,ja);return{name:ka.startColor,"class":ka.startClassSuffix,value:ja}},E=u.customStyles;B.writeCustomStyles(E);var y=c.useState(!1);v=y[0];var x=y[1],C=c.useState(!1);y=C[0];var w=C[1];C=c.useState(!1);var G=C[0],R=C[1];C=c.useState(!1);var H=C[0],Z=C[1];C=c.useState("none");var F=C[0],da=C[1];C=c.useState(E);var V=C[0],ca=C[1];C=c.useState();var T=C[0],aa=C[1];C=c.useState(u.baseColor);var D=C[0],L=C[1];C=c.useState(z("header",u.useCustomStyles?u.header.headerCustom:
u.header.backgroundColor));var J=C[0],Q=C[1];C=c.useState(u.header);var Y=C[0],X=C[1];C=c.useState(u.footer);var I=C[0],S=C[1];C=c.useState(u.content);var N=C[0],P=C[1];C=c.useState(z("footer",u.useCustomStyles?u.footer.bgCustom:u.footer.bgColor));var ha=C[0],ia=C[1],ma=c.useState();C=ma[0];var pa=ma[1];ma=c.useState(u.useCustomStyles);var ra=ma[0],la=ma[1],ua=function(){var O=[];N.forEach(function(ja,ka){var sa=ra?ja.bgCustom||"white":ja.bgColor,za=d.getColors(u,"text",sa);O[ka]={name:za.startColor,
"class":za.startClassSuffix,value:sa}});return O},qa;ma=c.useState(ua());var xa=ma[0],ya=ma[1];c.useEffect(function(){if("none"!==F){var O=document.querySelectorAll("button.backgroundColor");if("header"===F)qa=O[0];else if("footer"===F)qa=O[O.length-1];else if("footer"!==F&&"header"!==F){var ja=parseInt(F.split(":")[1],10);qa=O[ja+1]}setTimeout(function(){var ka=qa,sa=document.querySelector("div.sc-container");sa&&ka&&d.handleMenuPosAndAccess(sa,ka,F)},100)}},[F]);c.useEffect(function(){G||da("none")},
[G]);c.useEffect(function(){var O=document.querySelector(".custom-color-overlay");H?(a.render(a.h(m["default"],{portal:t,HP:u,index:T,onCancel:function(){Z(!1)},onSave:function(ja,ka){Z(!1);V[ja]=ka;ca(V)},key:Date.now()}),O),O.classList.remove("hide"),O.classList.add("bring-modal-to-front")):(O.classList.add("hide"),O.classList.remove("bring-modal-to-front"))},[H]);c.useEffect(function(){U();ya(ua());P(b.__spreadArray([],N));ia(z("footer",u.useCustomStyles&&u.footer.bgCustom?u.footer.bgCustom:u.footer.bgColor));
Q(z("header",u.useCustomStyles&&u.header.headerCustom?u.header.headerCustom:u.header.backgroundColor));la(ra);A("customColorSectionChange",{section:"header",value:J.value});A("customColorSectionChange",{section:"footer",value:ha.value})},[ra]);c.useEffect(function(){P(b.__spreadArray([],N))},[xa]);c.useEffect(function(){JSON.stringify(V)!==JSON.stringify(E)&&A("customStyles",V)},[V]);var U=function(){u.header.headerCustom||(u.header.headerCustom="dark-ramp"===u.header.backgroundColor?"black":"white");
u.footer.bgCustom||(u.footer.bgCustom="dark-ramp"===u.footer.bgColor?"black":"white-ramp"===u.footer.bgColor?"white":"medium-ramp"===u.footer.bgColor?"medium-gray":"light-gray")};ma=function(O){if("header"===F)Q(O),g(ra?"headerCustom":"backgroundColor",O.value);else if("footer"===F)ia(O),r(ra?"bgCustom":"bgColor",O.value);else{var ja=F.split(":");xa[ja[1]]=O;ya(xa);N[ja[1]][ra?"bgCustom":"bgColor"]=O.value;P(N)}A("customColorSectionChange",{section:F,value:O.value})};var g=function(O,ja){X(function(ka){var sa;
return b.__assign(b.__assign({},ka),(sa={},sa[O]=ja,sa))})},r=function(O,ja){S(function(ka){var sa;return b.__assign(b.__assign({},ka),(sa={},sa[O]=ja,sa))})};c.useEffect(function(){u.baseColor=D;ya(ua());U();ia(z("footer",u.useCustomStyles?u.footer.bgCustom:u.footer.bgColor));Q(z("header",u.useCustomStyles?u.header.headerCustom:u.header.backgroundColor))},[D]);var K=function(O){x(!1);L(O);A("baseColor",O)},M=function(){x(!0)},ea=function(O){var ja="custom"+O;Y.headerCustom===ja&&(Y.headerCustom=
"white",Q({name:e["default"].orgHomePageSetup.colors.white,"class":"white",value:"white"}),X(Y));N.forEach(function(ka,sa){ka.bgCustom===ja&&(N[sa].bgCustom="light-gray")});P(N);ya(ua());I.bgCustom===ja&&(I.bgCustom="dark-gray",ia({name:e["default"].orgHomePageSetup.colors.darkgray,"class":"dark-gray",value:"dark-gray"}),S(I));V[O-1]=null;A("customColorsDeleteFromWarn",{header:Y,footer:I,content:N});P(b.__spreadArray([],N));ca(V)},na=function(O){var ja="custom"+O;O--;var ka=!1;Y.headerCustom===ja?
ka=!0:I.bgCustom===ja?ka=!0:N.forEach(function(za,Da){za.bgCustom===ja&&(ka=!0)});if(ka)aa(O),w(!0);else{var sa=JSON.parse(JSON.stringify(V));sa[O]=null;ca(sa)}};return a.h("div",{"class":"setup-container flex-column"},a.h("div",{"class":"org-button back-button",id:"headerToStartButton","data-action":"start",tabIndex:0,role:"button"},a.h("div",{"class":"org-setup-header flex flex-align-center"},a.h("svg",{viewBox:"0 0 16 16",width:"16",height:"16","class":"flex-0 icon-inline back"},a.h("path",{d:"M13 5.293v1.414l-4.5 4.5-4.5-4.5V5.293l4.5 4.5z"})),
a.h("div",{"class":"flex-1 margin-left-quarter"},e["default"].orgHomePageSetup.start.home))),a.h("div",{"class":"setup-body-wrapper flex-1"},a.h("div",{"class":"org-setup-header org-title-bar no-border"},e["default"].orgHomePageSetup.start.colors,a.h("div",{"class":"right"},a.h("button",{type:"button","class":"btn-link info-icon js-colors-onboard-btn","aria-label":e["default"].orgHomePageSetup.start.colors,onClick:function(){A("colorOnboard",{detail:""})}},a.h("calcite-icon",{scale:"s",icon:"information"})))),
a.h("div",{"class":"org-padding-top toggle-button-container"},a.h("button",{onClick:function(){la(!1);A("useCustomStyles",!1)},"class":"toggle-button preset-theme-button"+(ra?"":" active")},e["default"].orgHomePageSetup.typography.usePreset),a.h("button",{onClick:function(){la(!0);A("useCustomStyles",!0)},"class":"toggle-button preset-theme-button"+(ra?" active":"")},e["default"].orgHomePageSetup.typography.useCustom)),!ra&&a.h("div",{"class":"org-setup-text org-section no-border ob-colors-section"},
a.h("div",{"class":"org-setup-header org-title-bar no-border"},e["default"].orgHomePageSetup.styles.OBColors),a.h("div",{tabIndex:0,"class":"style-content-card style-content-card-ob style-content-card-header",onClick:M},a.h(f["default"],{className:"aA-box one-aA light-"+D}),a.h(f["default"],{className:"aA-box two-aA medium-"+D}),a.h(f["default"],{className:"aA-box three-aA dark-"+D}),a.h("div",{"class":"style-text"},a.h("div",{"class":"style-header"},e["default"].orgHomePageSetup.colors[D.replace("gs",
"grayscaleOnly")])),a.h("div",{"class":"style-arrow"},a.h("calcite-icon",{scale:"s",icon:"caret-down"})))),ra&&a.h("div",{"class":"org-setup-text org-section no-border custom-colors-section"},a.h(h["default"],{CustomStyles:V,HP:u,onUpdate:function(O){if(null===O){O=null;for(var ja=3;0<=ja;ja--)V[ja]||(O=ja)}aa(O);Z(!0)},onDelete:function(O){na(O)}})),a.h("div",{"class":"org-setup-header org-title-bar no-border"},e["default"].orgHomePageSetup.styles.appliedColorStyles),a.h("div",{"class":"org-setup-text org-title-bar no-border"},
a.h("div",{"class":"style-content-cards"},a.h(p["default"],{color:J,title:e["default"].orgHomePageSetup.start.header,onClick:function(){var O=d.getColors(u,"header",J.value).menuColors;pa(O);R(!0);da("header")}}),a.h("div",{"class":"style-cards__content"},N.map(function(O,ja){var ka="text"===O.type?O.title:"gallery"===O.type?O.title:O.links[0].title;return a.h(p["default"],{color:xa[ja],key:Date.now()+ja,title:ka,onClick:function(){da("content:"+ja);var sa=d.getColors(u,"text",xa[ja].value).menuColors;
pa(sa);R(!0)}})})),a.h(p["default"],{color:ha,title:e["default"].orgHomePageSetup.start.footer,onClick:function(){var O=d.getColors(u,"footer",ha.value).menuColors;pa(O);R(!0);da("footer")}})))),G&&a.h(k["default"],{colors:C,onSelect:ma,onClose:function(){return R(!1)}}),v&&a.h(n["default"],{onSelect:K,selectedColor:D,onClose:function(){return x(!1)}}),y&&a.h(q["default"],{HP:u,index:T,onCancel:function(){w(!1)},onDelete:function(O){w(!1);ea(O)}}))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/OBColorsMenu":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../../../../nls/arcgisonline ./AaBox".split(" "),
function(ba,l,b,a,c,e,d){Object.defineProperty(l,"__esModule",{value:!0});e=b.__importDefault(e);d=b.__importDefault(d);l["default"]=function(k){var n=k.onSelect,p=k.onClose,h=c.useRef();c.useEffect(function(){document.addEventListener("click",m,!0);return function(){document.removeEventListener("click",m,!0)}},[]);var m=function(f){var q,B=f.target;null!==(q=h.current)&&void 0!==q&&q.contains(B)||(f.stopPropagation(),p())};return a.h("div",{"class":"sc-container",ref:h},a.h("div",{"class":"style-content-cards style-content-menu no-basecolor enh-sel-dropdown",
tabIndex:0},a.h("div",{"class":"menu"},"gs brown blue green yellow orange red violet".split(" ").map(function(f,q){return a.h("button",{tabIndex:0,"class":"style-content-card style-content-card-ob style-content-card-header option",onClick:function(){p();n(f)}},a.h(d["default"],{className:"aA-box one-aA light-"+f}),a.h(d["default"],{className:"aA-box two-aA medium-"+f}),a.h(d["default"],{className:"aA-box three-aA dark-"+f}),a.h("div",{"class":"style-text"},a.h("div",{"class":"style-header"},e["default"].orgHomePageSetup.colors[f.replace("gs",
"grayscaleOnly")])))}))))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/CustomStylesList":function(){define("require exports tslib preact dojo/i18n!../../../../../../nls/arcgisonline dojo/i18n!../../../../../../nls/org-settings ../utils/AaBox".split(" "),function(ba,l,b,a,c,e,d){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);e=b.__importDefault(e);d=b.__importDefault(d);l["default"]=function(k){var n=k.CustomStyles,p=k.onUpdate,h=k.onDelete,m=
0;k=function(){p(null)};return a.h("div",{"class":"org-setup-text org-section no-border custom-colors-section"},a.h("div",{"class":"org-setup-header org-title-bar no-border"},c["default"].orgHomePageSetup.styles.customColorStyles,a.h("div",{"class":"custom-style-info-button"},a.h("button",{type:"button",id:"custom-color-info","class":"btn-link info-icon js-colors-onboard-btn","aria-label":c["default"].orgHomePageSetup.start.colors},a.h("calcite-icon",{scale:"s",icon:"information"})),a.h("calcite-popover",
{referenceElement:"custom-color-info",placement:"auto",label:"","offset-distance":"6","offset-skidding":"0","text-close":"Close",dismissible:!0},a.h("div",{style:"width: 300px; padding:12px 16px;"},a.h("b",null,e["default"].homePageTab.colorsOnboarding.setupTheme),a.h("br",null),a.h("br",null),e["default"].homePageTab.colorsOnboarding.themeDesc)))),a.h("div",{"class":"custom-styles-container"},n.map(function(f,q){if(f)return m++,a.h("div",{key:Date.now()+q,"class":"style-content-card style-content-card--custom"+
(q+1)},a.h("button",{tabIndex:0,"class":"edit-wrap tooltip tooltip-multiline tooltip-top","aria-label":c["default"].common.edit+" - "+f.name,onClick:function(){p(q)}},a.h(d["default"],null),a.h("div",{"class":"style-text",title:f.name},f.name),a.h("div",{"class":"edit-style"},a.h("calcite-icon",{scale:"s",icon:"pencil"}))),a.h("button",{tabIndex:0,"class":"delete-wrap tooltip tooltip-multiline tooltip-left","aria-label":c["default"].common.deleteLabel+" - "+f.name,onClick:function(){h(q+1)}},a.h("div",
{"class":"delete-style"},a.h("calcite-icon",{scale:"s",icon:"trash"}))))})),a.h("div",{"class":"custom-styles-button"},4<=m&&a.h("button",{tabIndex:0,"class":"btn btn-clear add-homepage-custom-style tooltip tooltip-top tooltip-multiline","aria-label":c["default"].orgHomePageSetup.styles.customStylesLimit+"\n\n"+c["default"].orgHomePageSetup.styles.customStylesLimitText},c["default"].orgHomePageSetup.styles.addCustomStyle),4>m&&a.h("button",{tabIndex:0,"class":"btn btn-clear add-homepage-custom-style",
"aria-label":c["default"].orgHomePageSetup.styles.addCustomStyle,onClick:k},c["default"].orgHomePageSetup.styles.addCustomStyle)))}})},"arcgisonline/pages/organization/widgets/settings/HomePageOverlay/utils/CustomColorDeleteWarn":function(){define("require exports tslib preact dojo/i18n!../../../../../../nls/arcgisonline ./ColorCard".split(" "),function(ba,l,b,a,c,e){Object.defineProperty(l,"__esModule",{value:!0});c=b.__importDefault(c);e=b.__importDefault(e);l["default"]=function(d){var k=d.HP,
n=d.index,p=d.onDelete,h=d.onCancel,m="custom"+(n+1),f={name:k.customStyles[n].name,"class":m,value:m};d=function(){h()};return a.h("div",{"class":"overlay-background js-overlay-background is-active custom-style-editor-container delete-style-editor-container",title:c["default"].orgHomePageSetup.styles.deleteCustomStyle},a.h("div",{"class":"overlay overlay--off-white  js-overlay"},a.h("div",{"class":"overlay-title-bar flex js-overlay-title-bar"},a.h("div",{"class":"flex overlay-mobile__title font-size-2"},
a.h("div",{"class":"overlay-mobile__title-text",title:c["default"].orgHomePageSetup.styles.deleteCustomStyle,"aria-label":c["default"].orgHomePageSetup.styles.deleteCustomStyle},c["default"].orgHomePageSetup.styles.deleteCustomStyle)),a.h("h3",{id:"overlay-title","class":"overlay-title flex-1",title:c["default"].orgHomePageSetup.styles.deleteCustomStyle,"aria-label":c["default"].orgHomePageSetup.styles.deleteCustomStyle},c["default"].orgHomePageSetup.styles.deleteCustomStyle),a.h("div",{title:c["default"].common.close,
onClick:d},a.h("button",{"class":"btn-link btn-link-off-black font-size-2 flex-0 overlay-close","aria-label":c["default"].common.close,title:c["default"].common.close,onClick:d},a.h("calcite-icon",{scale:"l",icon:"x"})))),a.h("div",{"class":"overlay-control-bar-filters js-overlay-control-bar-filters"}),a.h("div",{"class":"overlay-content js-overlay-content overlay-content--scroll",id:"overlay-content"},a.h("div",{"class":"custom-style-delete"},a.h("div",{"class":"delete-custom-style"},a.h("div",{"class":"custom-style-header blocks-using-header"},
c["default"].orgHomePageSetup.styles.deleteStyleWarn,a.h("br",null),a.h("br",null),c["default"].orgHomePageSetup.styles.deleteStyleWarn2),a.h("div",{"class":"blocks-using-custom"},a.h("div",{"class":"style-content-cards"},k.header.headerCustom===m&&a.h(e["default"],{color:f,title:c["default"].orgHomePageSetup.start.header,onClick:function(){},noArrow:!0}),a.h("div",{"class":"style-cards__content"},k.content.map(function(q,B){var v="text"===q.type?q.title:"gallery"===q.type?q.title:q.links[0].title;
if(q.bgCustom===m)return a.h(e["default"],{color:f,key:B,noArrow:!0,title:v,onClick:function(){}})})),k.footer.bgCustom===m&&a.h(e["default"],{color:f,title:c["default"].orgHomePageSetup.start.footer,onClick:function(){},noArrow:!0})))))),a.h("div",{"class":"overlay-action-bar"},a.h("button",{"class":"hide btn-link"}),a.h("nav",{"class":"right"},a.h("button",{"class":"btn js-overlay-primary",onClick:function(){p(n+1)},"aria-label":c["default"].common.remove,title:c["default"].common.remove},c["default"].common.remove),
a.h("button",{"class":"btn btn-clear calcite-web-btn-clear js-overlay-cancel","aria-label":c["default"].common.cancel,title:c["default"].common.cancel,onClick:d},c["default"].common.cancel))),a.h("div",{"class":"js-folder-loader folder-loader loader loader-centered overlay-white"},a.h("div",{"class":"loader-bars"}),a.h("div",{"class":"loader-text"},c["default"].common.loading))))}})},"arcgisonline/pages/utils/culture":function(){define(["require","exports","tslib","dojo/string","dojo/_base/kernel"],
function(ba,l,b,a,c){a=b.__importDefault(a);c=b.__importDefault(c);return function(){function e(){}e.getString=function(d,k,n){var p,h="id ja ko th vi zh-cn zh-hk zh-tw".split(" "),m="en ca da de el es et fi hi hu it nb nl pt-pt sv tr".split(" "),f=null!==(p=e.getRootLocale(c["default"].locale))&&void 0!==p?p:"en";n?n.number=k:n={number:k};return 1===k||-1<h.indexOf(f)?a["default"].substitute(d.single,n):1!==k&&-1<m.indexOf(f)?a["default"].substitute(d.multiple,n):a["default"].substitute(d.unknown,
n)};e.stripCultureFormat=function(d,k){if((null===d||void 0===d?0:d.length)&&(null===k||void 0===k?0:k.length)){var n=d.indexOf("-"+k);if(-1<n)return d.substring(0,n)}return d};e.getRootLocale=function(d){if(null===d||void 0===d?0:d.length){d=d.split("-")[0];if(null===d||void 0===d?0:d.length)d=d.toLowerCase();return d}return d};e.getLocaleFormat=function(d){if(null===d||void 0===d?0:d.length)if(d=d.split("-"),1<d.length)return d[1].toLowerCase()};e.getTrialLocale=function(d){var k=["pt-br","pt-pt",
"zh-cn","zh-hk","zh-tw"];return-1<(null===d||void 0===d?void 0:d.indexOf("-"))&&-1===k.indexOf(d)?this.getRootLocale(d):d};e.getActualCulture=function(d,k){var n,p=null!==(n=null===d||void 0===d?void 0:d.toLowerCase())&&void 0!==n?n:"",h=p.split("-");if(1<h.length){if(n=k.filter(function(m){return m.culture===p}).shift())return p;n=k.filter(function(m){return m.culture===h[0]}).shift();if(null===n||void 0===n?0:n.cultureFormats){if(n.cultureFormats.filter(function(m){return m.format===h[1]}).shift())return n.culture}else if(n)return n.culture}return d};
e.getSelectedFormat=function(d,k){return k.filter(function(n){return n.format===d}).shift()};e.getPercentString=function(d){var k=c["default"].locale.toLowerCase();return"ar"===k?"%"+100*d:d.toLocaleString(k,{style:"percent"})};return e}()})},"url:arcgisonline/pages/dijit/Alert/Alert.html":'\x3cdiv class\x3d"alert alert-${modifier} alert-fixed alert-fade-in-down leader-1 trailer-1 ${cssClasses}"\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-${modifier}" aria-label\x3d"${iconAltText}"\x3e\r\n      ${!icon}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0 alert__text-container" role\x3d"status"\x3e\r\n      ${!text}\r\n      \x3cdiv data-dojo-attach-point\x3d"_listContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"alert-close btn-link btn-link-black js-alert-close" aria-label\x3d"${i18n.common.close}"\x3e\r\n      ${!icons.x.32}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageAboveHeader.html":'\x3cdiv class\x3d"flex home-page__above-header"\x3e\r\n  \x3cdiv class\x3d"flex-center home-page__constraint-wrapper" data-dojo-attach-point\x3d"titleContainer"\x3e\r\n    \x3cimg class\x3d"home-page__logo-img margin-right-half" data-dojo-attach-point\x3d"logo"\x3e\r\n    \x3ch1 class\x3d"trailer-0 home-page__avenir-demi font-size-6" data-dojo-attach-point\x3d"heading"\x3e\x3c/h1\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/home/widgets/templates/HomePageHeader.html":'\x3cdiv class\x3d"home-page__header" data-dojo-attach-point\x3d"headerContainer"\x3e\r\n  \x3cdiv class\x3d"flex home-page__header-overlay home-page__header-constraint-wrapper" data-dojo-attach-point\x3d"headerOverlay"\x3e\r\n    \x3cdiv class\x3d"flex-center home-page__constraint-wrapper" data-dojo-attach-point\x3d"titleContainer"\x3e\r\n      \x3cimg class\x3d"home-page__logo-img margin-right-half" data-dojo-attach-point\x3d"logo"\x3e\r\n      \x3ch1 class\x3d"trailer-0 home-page__avenir-demi font-size-6" data-dojo-attach-point\x3d"heading"\x3e\x3c/h1\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"home-page__scroll-down-arrow" data-dojo-attach-point\x3d"arrowContainer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageBelowHeader.html":'\x3cdiv class\x3d"flex home-page__below-header"\x3e\r\n  \x3cdiv class\x3d"flex-center home-page__constraint-wrapper" data-dojo-attach-point\x3d"titleContainer"\x3e\r\n    \x3cimg class\x3d"home-page__logo-img margin-right-half" data-dojo-attach-point\x3d"logo"\x3e\r\n    \x3ch1 class\x3d"trailer-0 home-page__avenir-demi font-size-6" data-dojo-attach-point\x3d"heading"\x3e\x3c/h1\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/home/widgets/templates/HomePageFooter.html":'\x3cdiv class\x3d"home-page__footer"\x3e\r\n  \x3cdiv class\x3d"home-page__footer-copy footer-copy-text home-page__constraint-wrapper" data-dojo-attach-point\x3d"footerCopyContainer"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"home-page__constraint-wrapper flex-center" data-dojo-attach-point\x3d"footerContainer"\x3e\r\n    \x3cdiv class\x3d"flex home-page__footer-content" data-dojo-attach-point\x3d"footerContentContainer"\x3e\r\n      \x3ca\r\n        href\x3d"http://trust.arcgis.com"\r\n        target\x3d"_blank"\r\n        class\x3d"home-page__footer-link margin-right-2 font-size--1 if-not-on-premise"\r\n        \x3e${i18n.trustCenter}\x3c/a\r\n      \x3e\r\n      \x3ca\r\n        href\x3d"http://www.esri.com/about-esri/contact"\r\n        target\x3d"_blank"\r\n        class\x3d"home-page__footer-link margin-right-2 font-size--1 if-not-on-premise"\r\n        data-dojo-attach-point\x3d"contactEsri"\r\n        \x3e${i18n.contactUs}\x3c/a\r\n      \x3e\r\n      \x3ca\r\n        href\x3d"mailto:arcgisonline_feedback@esri.com"\r\n        target\x3d"_blank"\r\n        class\x3d"home-page__footer-link margin-right-2 font-size--1 if-not-on-premise"\r\n        data-dojo-attach-point\x3d"reportAbuse"\r\n        \x3e${i18n.reportAbuse}\x3c/a\r\n      \x3e\r\n      \x3ca\r\n        href\x3d"#"\r\n        target\x3d"_blank"\r\n        class\x3d"home-page-footer-email home-page__footer-link margin-right-2 font-size--1 hide"\r\n        data-dojo-attach-point\x3d"contactUs"\r\n        \x3e${i18n.customContactUs}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageGalleryItem.html":'\x3cdiv class\x3d"home-page__gallery-tile flex-column" tabindex\x3d"0"\x3e\r\n  \x3cdiv class\x3d"home-page__gallery-tile-img" data-dojo-attach-point\x3d"itemThumbnail"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"home-page__gallery-tile-content flex" data-dojo-attach-point\x3d"itemContent"\x3e\r\n    \x3cdiv class\x3d"overflow-hidden full-width" data-dojo-attach-point\x3d"itemTextContent"\x3e\r\n      \x3cdiv class \x3d "home-page__gallery-tile-type font-size--2" data-dojo-attach-point\x3d"itemType"\x3e\x3c/div\x3e\r\n      \x3ch3 class\x3d"font-size-0 avenir-demi text-ellipsis" aria-label\x3d"" title\x3d"" data-dojo-attach-point\x3d"itemTitle"\x3e\x3c/h3\x3e\r\n      \x3cp class\x3d"font-size--1 trailer-0 gallery-item-summary" data-dojo-attach-point\x3d"itemSummary"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"home-page__gallery-tile-launch hide" data-dojo-attach-point\x3d"itemLaunch" tabindex\x3d"-1"\x3e\r\n    ${!icons.launch.16}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageGallery.html":'\x3cdiv class\x3d"home-page__content-block home-page__gallery hide home-page__gallery--medium-bg"\x3e\r\n  \x3cdiv class\x3d"home-page__constraint-wrapper"\x3e\r\n    \x3ch2 class\x3d"home-page__gallery-title font-size-4 avenir-bold" data-dojo-attach-point\x3d"heading"\x3e\x3c/h2\x3e\r\n    \x3cp class\x3d"home-page__gallery-summary font-size-1" data-dojo-attach-point\x3d"summary"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"flex flex-wrap home-page__gallery-item-container gallery-items-container" data-dojo-attach-point\x3d"itemContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"text-center leader-2 view-gallery-button hide" data-dojo-attach-point\x3d"viewBtnContainer"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"viewBtn" aria-haspopup\x3d"dialog" aria-label\x3d"" aria-expanded\x3d"false" aria-controls\x3d"uniqName_9_10-edit-form"\x3e\r\n        \x3cdiv class\x3d"home-page__view-gallery-btn"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"margin-left-1 org-settings__edit-icon"\x3e\x3csvg viewBox\x3d"0 0 16 16" width\x3d"16" height\x3d"16" class\x3d"icon-inline icon-inline--on-left "\x3e\x3cpath d\x3d"M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/div\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageText.html":'\x3cdiv class\x3d"home-page__content-block home-page__text"\x3e\r\n  \x3cdiv class\x3d"home-page__constraint-wrapper"\x3e\r\n    \x3ch2 class\x3d"font-size-4 avenir-bold text-element-title" data-dojo-attach-point\x3d"headline"\x3e\x3c/h2\x3e\r\n    \x3cp class\x3d"trailer-0 font-size-1 text-element-body" data-dojo-attach-point\x3d"body"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/home/widgets/templates/HomePageLinks.html":'\x3cdiv class\x3d"home-page__links home-page__content-block"\x3e\r\n  \x3cdiv class\x3d"home-page__constraint-wrapper links-container"\x3e\r\n\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/Overlay.html":'\x3cdiv class\x3d"overlay-background js-overlay-background" data-dojo-attach-point\x3d"_backgroundScrim" id\x3d"${id}"\x3e\r\n  \x3cdiv\r\n    class\x3d"overlay overlay--${background} ${class} js-overlay"\r\n    role\x3d"dialog"\r\n    aria-labelledby\x3d"overlay-title-${uid}"\r\n    aria-modal\x3d"true"\r\n    data-dojo-attach-point\x3d"_overlay"\r\n  \x3e\r\n    \x3cdiv\r\n      class\x3d"js-overlay-loader overlay-loader-container overlay-white fullscreen"\r\n      data-dojo-attach-point\x3d"_overlayLoader"\r\n    \x3e\r\n      \x3cdiv class\x3d"loader is-active"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text overlay-loader-text" data-dojo-attach-point\x3d"_overlayLoaderText"\x3e\r\n          ${!loadingText}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"overlay-title-bar flex js-overlay-title-bar" data-dojo-attach-point\x3d"_overlayTitleBar"\x3e\r\n      \x3cdiv class\x3d"flex overlay-mobile__title font-size-2"\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__back-arrow" data-dojo-attach-point\x3d"_backArrow"\x3e${!icons.arrow-left.24}\x3c/div\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__title-text" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3ch3 id\x3d"overlay-title-${uid}" class\x3d"overlay-title flex-1" title\x3d"${title}" data-dojo-attach-point\x3d"overlayTitle"\x3e${title}\x3c/h3\x3e\r\n      \x3cdiv\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 margin-right-half flex-0 overlay-help hide"\r\n          data-dojo-attach-point\x3d"_helpBtn"\r\n          aria-label\x3d"help"\r\n        \x3e\r\n          ${!icons.question.32}\x3c/button\r\n        \x3e\x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 flex-0 overlay-close"\r\n          data-dojo-attach-point\x3d"closeBtn"\r\n          aria-label\x3d"${i18n.common.close}"\r\n        \x3e\r\n          ${!icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-overlay-control-bar"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-control-bar-filters js-overlay-control-bar-filters"\x3e\x3c/div\x3e\r\n    \x3cdiv\r\n      class\x3d"overlay-content js-overlay-content"\r\n      data-dojo-attach-point\x3d"_overlayContentWrapper"\r\n      id\x3d"overlay-content-${uid}"\r\n    \x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-action-bar ${showActionBar:hide}" data-dojo-attach-point\x3d"_overlayActionBar"\x3e\r\n      \x3cbutton class\x3d"hide btn-link" data-dojo-attach-point\x3d"backBtn"\x3e\x3c/button\x3e\r\n      \x3cnav class\x3d"right"\x3e\r\n        \x3cbutton class\x3d"btn js-overlay-primary" data-dojo-attach-point\x3d"_primaryBtn"\x3e${primaryBtnText}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear js-overlay-cancel" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n          ${i18n.common.cancel}\r\n        \x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-loader folder-loader loader loader-centered overlay-white"\x3e\r\n      \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/OverlayConfirm.html":'\x3cdiv class\x3d"position-relative full-height overlay-confirm"\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-pane ${cssClasses} position-relative"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray overlay-confirm-close-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"overlay-confirm__icon margin-right-1" data-dojo-attach-point\x3d"icon"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"avenir-demi font-size-1" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half flex overlay-confirm-buttons" data-dojo-attach-point\x3d"_buttons"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear js-cancel-btn"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-1 padding-leader-1 overlay-confirm-actions" data-dojo-attach-point\x3d"_actions"\x3e\r\n        \x3cbutton class\x3d"btn-link trailer-half display-block js-action-one"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn-link js-action-two"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/HomePageOverlay/HomePagePreview.html":'\x3cdiv class\x3d"home-page flex-1 flex"\x3e\r\n  \x3cdiv class\x3d"home-page__content" tabindex\x3d"0"\x3e\r\n\r\n    \x3cdiv class\x3d"home-page__above-header"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex home-page__header home-page__header--half-height home-page__header-background-color--white"\x3e\r\n      \x3cdiv class\x3d"flex home-page__header-overlay home-page__header-overlay-valign--middle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"home-page__below-header"\x3e\x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"home-page__footer flex-center"\x3e\r\n      \x3cdiv class\x3d"flex home-page__footer-content"\x3e\r\n        \x3ca\r\n          href\x3d"mailto:arcgisonline_feedback@esri.com"\r\n          target\x3d"_blank"\r\n          class\x3d"home-page-footer-email home-page-show-false home-page__footer-link margin-right-2 font-size--1"\r\n          \x3eContact Us\x3c/a\x3e\r\n        \x3ca\r\n          href\x3d"http://trust.arcgis.com"\r\n          target\x3d"_blank"\r\n          class\x3d"home-page__footer-link margin-right-2 font-size--1"\r\n          \x3eTrust Center\x3c/a\r\n        \x3e\r\n        \x3ca\r\n          href\x3d"http://www.esri.com/about-esri/contact"\r\n          target\x3d"_blank"\r\n          class\x3d"home-page__footer-link margin-right-2 font-size--1"\r\n          \x3eContact Esri\x3c/a\r\n        \x3e\r\n        \x3ca\r\n          href\x3d"mailto:arcgisonline_feedback@esri.com"\r\n          target\x3d"_blank"\r\n          class\x3d"home-page__footer-link margin-right-2 font-size--1"\r\n          \x3eReport Abuse\x3c/a\r\n        \x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/HomePageOverlay/HomePageOverlay.html":'\x3cdiv class\x3d"home-page-overlay__content flex"\x3e\r\n  \x3cdiv class\x3d"home-page-overlay__left-panel"\x3e\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"js-preview"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-view-size flex flex-align-center flex-1 left"\x3e\r\n    \x3cdiv class\x3d"margin-right-1"\x3e${i18n.orgHomePageSetup.view}:\x3c/div\x3e\r\n    \x3cbutton tabindex\x3d"0" aria-label\x3d"${i18n.orgHomePageSetup.desktopView}"\r\n      class\x3d"tooltip tooltip-top js-desktop-btn btn-link home-page-overlay__view-size-btn home-page-overlay__view-size-btn--active"\r\n    \x3e\r\n      ${monitorIcon}\r\n    \x3c/button\x3e\r\n    \x3cbutton tabindex\x3d"0" aria-label\x3d"${i18n.orgHomePageSetup.tabletView}" class\x3d"tooltip tooltip-top js-tablet-btn btn-link home-page-overlay__view-size-btn"\x3e${tabletIcon}\x3c/button\x3e\r\n    \x3cbutton tabindex\x3d"0" aria-label\x3d"${i18n.orgHomePageSetup.mobileView}" class\x3d"tooltip tooltip-top js-mobile-btn btn-link home-page-overlay__view-size-btn"\x3e${mobileIcon}\x3c/button\x3e\r\n\r\n    \x3cdiv class\x3d"js-config-not-active home-page-overlay__config-not-active flex-center flex-1 right"\x3e\r\n      \x3cbutton class\x3d"js-warn-btn btn-link" tabindex\x3d"-1"\x3e${warnIcon}\x3c/button\x3e\r\n      ${i18n.orgHomePageSetup.configNotActive}\x26nbsp;\r\n      \x3ca class\x3d"org-settings__clickable-link js-switch-to-new" tabindex\x3d"0" aria-label\x3d"${i18n.orgHomePageSetup.switchToConfig}" id\x3d"switchToConfig"\x3e${i18n.orgHomePageSetup.switchToConfig}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv id\x3d"home-page-overlay__live-region" class\x3d"screen-readers-only" role\x3d"alert" aria-live\x3d"assertive" aria-atomic\x3d"true"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/GroupSelect.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-edit-btn"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-picker"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/GroupEditButton.html":'\x3cbutton class\x3d"btn-link btn-link-darker-gray flex flex-align-center text-left org-settings__group-edit-button"\x3e\r\n  \x3cdiv class\x3d"flex-0" data-dojo-attach-point\x3d"iconContainer"\x3e\x3cdiv class\x3d"js-icon"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 text-ellipsis org-settings__group-edit-button-text" data-dojo-attach-point\x3d"groupTitle"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-0 margin-left-1"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n\x3c/button\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/GroupPicker.html":'\x3cdiv class\x3d"org-settings__group-picker flex hide"\x3e\r\n  \x3cdiv class\x3d"flex-1 min-width-fix"\x3e\r\n    \x3cinput\r\n      data-dojo-attach-point\x3d"searchInput"\r\n      class\x3d"member-picker-search flex-1"\r\n      placeholder\x3d"${i18n.searchGroups}"\r\n      aria-label\x3d"${i18n.searchGroups}"\r\n      aria-controls\x3d"${listId}"\r\n      type\x3d"search"\r\n      autocomplete\x3d"off"\r\n    /\x3e\r\n    \x3cul\r\n      class\x3d"member-picker-results position-relative hide"\r\n      id\x3d"${listId}"\r\n      role\x3d"listbox"\r\n      data-dojo-attach-point\x3d"resultsDropdown"\r\n    \x3e\x3c/ul\x3e\r\n    \x3cp\r\n      class\x3d"leader-half trailer-half font-size--2 padding-left-1 padding-right-1 hide"\r\n      data-dojo-attach-point\x3d"noResults"\r\n    \x3e\r\n      ${i18n.noGroupsFound}\r\n    \x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"nowrap padding-leader-quarter" data-dojo-attach-point\x3d"cancelWrapper"\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 flex-0 btn-link-off-black margin-left-1" data-dojo-attach-point\x3d"cancelBtn"\x3e\r\n      ${i18n.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/GroupPickerRow.html":'\x3cli\r\n  id\x3d"${group.id}"\r\n  class\x3d"member-browser-row member-browser-row--select member-browser-row--on-gray member-browser-row--compact flex flex-center"\r\n  role\x3d"option"\r\n  aria-selected\x3d"false"\r\n  tabindex\x3d"0"\r\n\x3e\r\n  \x3cdiv class\x3d"js-group-icon"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half min-width-fix"\x3e\r\n    \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0 text-ellipsis"\x3e${group.title}\x3c/h4\x3e\r\n    \x3cp class\x3d"trailer-0 font-size--2"\x3e${group.owner}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/home.html":'\x3cdiv class\x3d"home-page flex-1 flex"\x3e\r\n  \x3cdiv class\x3d"home-page__content"\x3e\r\n    \x3cdiv class\x3d"js-above-header"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-header"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-below-header"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-content"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-footer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/home/widgets/templates/homeContent.html":'\x3cdiv class\x3d"js-above-header"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"js-header"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"js-below-header"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"js-content"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"js-footer"\x3e\x3c/div\x3e',
"url:arcgisonline/pages/home/widgets/templates/editHomePage.html":'\x3cbutton type\x3d"button" class\x3d"home-page__edit-home-page-btn js-home-page-edit-btn btn" aria-label\x3d"${i18n.edit}"\x3e${editIcon} ${i18n.edit}\x3c/button\x3e',"*now":function(ba){ba(['dojo/i18n!*preload*arcgisonline/pages/nls/home*["ar","bg","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});
define("arcgisonline/pages/home","require exports tslib ../esriGeowConfig ./basePage ./home/sharedResources ./home/widgets/HomePageAboveHeader ./home/widgets/HomePageHeader ./home/widgets/HomePageBelowHeader ./home/widgets/HomePageFooter ./home/widgets/HomePageGallery ./home/widgets/HomePageText ./home/widgets/HomePageLinks ./organization/widgets/settings/HomePageOverlay/HomePageOverlay ./utils/alerts ./utils/arrays ./utils/culture ./utils/device ./utils/markdown ./utils/organization ./utils/organizationResources ./utils/icons ./utils/user ../sharing/util ../tsutils/declareDecorator dijit/a11yclick dojo/Deferred dojo/dom-construct dojo/string dojo/_base/kernel dojo/on dojo/topic esri/libs/sanitizer/Sanitizer dojo/i18n!../nls/homepage dojo/i18n!../nls/arcgisonline taginsert/umd/taginsert dojo/text!./home/widgets/templates/home.html dojo/text!./home/widgets/templates/homeContent.html dojo/text!./home/widgets/templates/editHomePage.html".split(" "),function(ba,
l,b,a,c,e,d,k,n,p,h,m,f,q,B,v,t,u,A,z,E,y,x,C,w,G,R,H,Z,F,da,V,ca,T,aa,D,L,J,Q){a=b.__importDefault(a);c=b.__importDefault(c);d=b.__importDefault(d);k=b.__importDefault(k);n=b.__importDefault(n);p=b.__importDefault(p);h=b.__importDefault(h);m=b.__importDefault(m);f=b.__importDefault(f);q=b.__importDefault(q);B=b.__importDefault(B);v=b.__importDefault(v);t=b.__importDefault(t);u=b.__importDefault(u);A=b.__importDefault(A);z=b.__importDefault(z);E=b.__importDefault(E);y=b.__importDefault(y);x=b.__importDefault(x);
C=b.__importDefault(C);w=b.__importDefault(w);G=b.__importDefault(G);R=b.__importDefault(R);H=b.__importDefault(H);Z=b.__importDefault(Z);F=b.__importDefault(F);da=b.__importDefault(da);V=b.__importDefault(V);ca=b.__importDefault(ca);T=b.__importDefault(T);aa=b.__importDefault(aa);D=b.__importDefault(D);L=b.__importDefault(L);J=b.__importDefault(J);Q=b.__importDefault(Q);var Y;(function(X){X.Legacy="legacy";X.Modern="modern";X.Transitional="transititional"})(Y||(Y={}));return function(){function X(){this.baseClass=
"flex-1 overflow-visible view-background";this.skipToContent="main-content-area";this.hideFooter=!0;this.sanitizer=new ca["default"];this.icons=y["default"];this.i18n=T["default"];this.firstLoad=!0;this.homePageKey="home.page.json";this.userRegion="WO";this.content=[]}X.prototype.startup=function(){var I=this;this.inherited(arguments);document.body.classList.add(this.portal.isPortal?"is-on-premise":"is-not-on-premise");this.deviceUtil=new u["default"];this.markdown=A["default"].getLinksOnlyMarkdownInstance();
this.calculateHeight=this.calculateHeight.bind(this);this.activateModern=this.activateModern.bind(this);x["default"].getUserProperties(this.portalUser).then(function(S){I.userProperties=a["default"].userProperties=S;I.loadHomePageConfig().then(function(){return I._renderPage()}).then(function(){var N,P,ha;I.emit("ready");((null===(N=I.portalUser)||void 0===N?0:N.isOrgAdmin)||(null===(ha=null===(P=I.portalUser)||void 0===P?void 0:P.userRole)||void 0===ha?0:ha.canManageWebsite()))&&I.configureEdit()},
function(N){I._showErrors=!0;N=I.i18n.homePage.loadError;N=b.__assign(b.__assign({},I.i18n.common.errors.genericError),{message:N});I._showError(N);I.emit("error",N)})});this.emit("ready")};X.prototype._renderPage=function(){var I,S=new R["default"];this.addDynamicMetaTags();this.isTrial=this.portal.isTrialOrg();(this.infoBanner=document.body.querySelector(".info-banner"))&&this.domNode.classList.add("has-info-banner");document.title=this.homePageCfg.header.title||this.portal.name||aa["default"].common.arcgis;
document.createElement("div").innerHTML=L["default"];H["default"].create("div",{innerHTML:L["default"]},this.domNode,"next");this.userRegion=(null===(I=this.portalUser)||void 0===I?void 0:I.region)||this.portal.ipCntryCode;this.doPageRender();S.resolve();return S};X.prototype.doPageRender=function(){e.writeCustomStyles(this.homePageCfg.customStyles);e.useHomePageFonts(this.homePageCfg);this.renderHeader();this.renderContent();this.renderFooter();this.set("isLoaded",!0);this.hideLoader()};X.prototype.addDynamicMetaTags=
function(){var I=this;this.portal.isPortal&&"public"!==this.portal.access||this.portal.getLocalizedOrgProperties().then(function(S){var N,P=I.portal.name||I.homePageCfg.header.title,ha=I.portal.thumbnail||I.homePageCfg.header.logo;ha=ha?I.getResourceUrl(ha):void 0;S=null===(N=null===S||void 0===S?void 0:S["default"])||void 0===N?void 0:N.description;D["default"]({item:{title:P,description:S,image:ha},mapping:{w3c:{description:"description",image_src:"image"},twitter:{description:"description",image:"image"},
og:{description:"description",image:"image"}}})})};X.prototype.loadHomePageConfig=function(){var I=this,S,N,P=new R["default"],ha=this.portal.isPortal||(null===(S=this.portalUser)||void 0===S?void 0:S.orgId)||0<(null===(N=this.portal.id)||void 0===N?void 0:N.length);ha&&(z["default"].hasModernHomePageEnabled(this.portal)||z["default"].hasLegacyHomePageDefaults(this.portal))?E["default"].fetch(this.homePageKey).then(function(ia){I.homePageCfg=e.updateLegacyConfiguration(e.decodeHomePageConfiguration(ia));
P.resolve(I.homePageCfg)},function(ia){e.getDefaultOrgHomePage(I.portal).then(function(ma){I.homePageCfg=e.updateLegacyConfiguration(ma);P.resolve(I.homePageCfg)})}):ha?e.getDefaultOrgHomePage(this.portal).then(function(ia){I.homePageCfg=e.updateLegacyConfiguration(ia);P.resolve(I.homePageCfg)}):(this.usingDefaultPublicHomePage=!0,this.homePageCfg=e.updateLegacyConfiguration(e.DefaultPublicHomePage),this.findLivingAtlasGroup().then(function(ia){ia?v["default"].find(I.homePageCfg.content,function(ma){return"gallery"===
ma.type&&"home-page_explore"===ma.id}).groupId=ia:I.homePageCfg.content=I.homePageCfg.content.filter(function(ma){return"gallery"!==ma.type||"home-page_explore"!==ma.id});P.resolve(I.homePageCfg)}));return P};X.prototype.findLivingAtlasGroup=function(){return C["default"].request({url:a["default"].restBaseUrl+"community/groups",content:{num:1,start:1,q:'title:"LAW Search" AND owner:"Esri_LivingAtlas"'}}).then(function(I){var S,N;return(null===(N=null===(S=null===I||void 0===I?void 0:I.results)||void 0===
S?void 0:S[0])||void 0===N?void 0:N.id)||void 0},function(){})};X.prototype.destroyHomePage=function(){var I,S,N,P;null===(I=this.aboveHeader)||void 0===I?void 0:I.destroy();null===(S=this.header)||void 0===S?void 0:S.destroy();null===(N=this.belowHeader)||void 0===N?void 0:N.destroy();this.content.forEach(function(ha){return null===ha||void 0===ha?void 0:ha.destroy()});null===(P=this.footer)||void 0===P?void 0:P.destroy();this.domNode.querySelector(".home-page__content").innerHTML=J["default"]};
X.prototype.renderHeader=function(){var I=this,S={header:this.homePageCfg.header,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles,customStyles:this.homePageCfg.customStyles,disableMarkdown:this.isTrial},N=b.__assign(b.__assign({},S),{startHidden:!this.usingDefaultPublicHomePage});this.usingDefaultPublicHomePage&&(N.useExplicitLogoPath=!0,N.useExplicitCoverImgPath=!0);this.aboveHeader=new d["default"](S,
this.domNode.querySelector(".js-above-header"));this.aboveHeader.startup();this.header=new k["default"](N,this.domNode.querySelector(".js-header"));this.header.startup();this.belowHeader=new n["default"](S,this.domNode.querySelector(".js-below-header"));this.belowHeader.startup();this.usingDefaultPublicHomePage?this.header.domNode.classList.add("home-page__public"):(this.windowWidth=window.innerWidth,setTimeout(this.calculateHeight,500),window.onresize=function(){var P=!I.deviceUtil.isMobile&&!I.deviceUtil.isTablet;
if(I.windowWidth!==window.innerWidth||P)I.windowWidth=window.innerWidth,I.calculateHeight()})};X.prototype.calculateHeight=function(){var I=this.domNode.querySelector(".home-page__header.home-page__header--full-height"),S=this.domNode.querySelector(".home-page__header.home-page__header--half-height"),N=this.domNode.querySelector(".home-page__header.home-page__header--no-image");if((I||S)&&!N){var P=this.aboveHeader.domNode.offsetHeight,ha=this.belowHeader.domNode.offsetHeight;N=window.innerHeight||
document.documentElement.clientHeight||document.body.clientHeight;var ia=this.infoBanner?56+this.infoBanner.clientHeight:56;P=0<P?P:ha;I?I.style.height=N-ia-P+"px":S&&(S.style.height=N/2-ia-P+"px")}this.firstLoad&&(this.firstLoad=!1,this.header.setVisible(!0))};X.prototype.renderContent=function(){var I=this,S;0<(null===(S=this.homePageCfg.content)||void 0===S?void 0:S.length)&&this.homePageCfg.content.forEach(function(N){if("gallery"===N.type){var P=document.createElement("div");I.domNode.querySelector(".js-content").appendChild(P);
var ha=void 0;(ha=I.usingDefaultPublicHomePage?I.renderPublicGallery(N,P):I.renderGallery(N,P))&&I.content.push(ha)}else"text"===N.type?(P=document.createElement("div"),I.domNode.querySelector(".js-content").appendChild(P),N=new m["default"]({text:N,portal:I.portal,sanitizer:I.sanitizer,markdown:I.markdown,baseColor:I.homePageCfg.baseColor,useCustomStyles:I.homePageCfg.useCustomStyles,disableMarkdown:I.isTrial},P),N.startup(),I.content.push(N)):"link"===N.type&&(P=document.createElement("div"),I.domNode.querySelector(".js-content").appendChild(P),
N=new f["default"]({link:N,portal:I.portal,sanitizer:I.sanitizer,markdown:I.markdown,baseColor:I.homePageCfg.baseColor,useCustomStyles:I.homePageCfg.useCustomStyles,disableMarkdown:I.isTrial},P),N.startup(),I.content.push(N))})};X.prototype.renderGallery=function(I,S){var N=new h["default"]({gallery:I,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles,disableMarkdown:this.isTrial},S);N.startup();
return N};X.prototype.renderPublicGallery=function(I,S){var N=this,P,ha="contentstatus:public_authoritative "+a["default"].viewQueries.web,ia=F["default"].locale.toLowerCase(),ma=t["default"].getRootLocale(ia);if("home-page_discover"===I.id){var pa=e.DefaultPublicHomePageDiscoverGalleryItems.map(function(ya){var U="es de fr ja ru zh-cn".split(" "),g=U.indexOf(ma),r=U.indexOf(ia);"en"!==ma&&(-1<g||-1<r)&&(ya.url=ya.url.replace("/en/","/"+U[-1<g?g:r]+"/"));return ya});pa=new h["default"]({gallery:I,
portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles,disableMarkdown:this.isTrial,explicitItems:pa,linkToItemUrls:!0,stopViewLink:!0},S)}else"home-page_explore"===I.id?pa=new h["default"]({gallery:I,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles,disableMarkdown:this.isTrial,explicitQueryFilter:' type:("Web Map" OR "Web Scene" OR "CityEngine Web Scene" OR "Web Mapping Application")',
explicitQueryParams:{categories:'["/Categories/Trending/New and noteworthy"],["/Region/'+this.userRegion+'"]'},explicitFocus:"maps-webmaps",stopViewLink:!0},S):"home-page_see"===I.id?pa=new h["default"]({gallery:I,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles,disableMarkdown:this.isTrial,explicitQuery:ha,stopViewLink:!0},S):"home-page_subscribe"===I.id&&(pa=new h["default"]({gallery:I,portal:this.portal,
sanitizer:this.sanitizer,markdown:this.markdown,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles,disableMarkdown:this.isTrial,explicitItems:[],stopViewLink:!0},S));null===(P=null===pa||void 0===pa?void 0:pa.startup)||void 0===P?void 0:P.call(pa);if("home-page_discover"===I.id)pa.setViewLinkLabel(T["default"].discover.go),pa.setViewLinkClick(function(){return window.open(N.getHelpURL(),"_blank")}),pa.showViewLink(!0);else if("home-page_explore"===I.id){P=["es",
"de","fr","ja","pt-br"];var ra="en",la=P.indexOf(ma),ua=P.indexOf(ia);"en"!==ma&&(-1<la||-1<ua)&&(ra=P[-1<la?la:ua]);var qa="";-1<this.portal.customBaseUrl.indexOf("mapsdevext")?qa="dev":-1<this.portal.customBaseUrl.indexOf("mapsqa")&&(qa="stg");pa.setViewLinkLabel(T["default"].explore.go);pa.setViewLinkClick(function(){window.open("https://livingatlas"+qa+".arcgis.com/"+ra+"/browse/#d\x3d1\x26rgnCode\x3d"+N.userRegion,"_blank")})}else if("home-page_see"===I.id)pa.setViewLinkLabel(T["default"].see.go),
pa.setViewLinkClick(function(){return window.open(a["default"].baseUrl+"search.html?q\x3d"+ha+"\x26restrict\x3dfalse\x26sortOrder\x3ddesc\x26sortField\x3dmodified\x26showFilters\x3dfalse","_blank")}),pa.showViewLink(!0);else if("home-page_subscribe"===I.id){var xa="https://www.esri.com/en-us/arcgis/products/arcgis-online/trial";"mapsdevext.arcgis.com"===this.portal.customBaseUrl?xa="https://preview.esri.com/en-us/arcgis/products/arcgis-online/trial?env\x3ddev":"mapsqa.arcgis.com"===this.portal.customBaseUrl&&
(xa="https://preview.esri.com/en-us/arcgis/products/arcgis-online/trial?env\x3dstg");pa.setViewLinkLabel(T["default"].subscribe.go);pa.setViewLinkClick(function(){return window.open(xa,"_blank")});pa.showViewLink(!0)}return pa};X.prototype.renderFooter=function(){this.footer=new p["default"]({footer:this.homePageCfg.footer,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles,disableMarkdown:this.isTrial},
this.domNode.querySelector(".js-footer"));this.footer.startup()};X.prototype.configureEdit=function(){var I=this,S=Z["default"].substitute(Q["default"],{i18n:T["default"],editIcon:y["default"].inline.edit[16]});this.domNode.insertAdjacentHTML("beforebegin",S);var N=document.body.querySelector(".js-home-page-edit-btn");this.own(G["default"](N,function(){I.openHomePageEditor(N)}),V["default"].subscribe("activate-homepage/modern",function(){return I.activateModern()}))};X.prototype.activateModern=function(){var I=
this,S=b.__assign(b.__assign({},this.portal.portalProperties),{homePage:Y.Modern}),N={portalProperties:JSON.stringify(S)};C["default"].request({url:a["default"].restBaseUrl+"portals/self/update",content:N},{usePost:!0}).then(function(){var P;I.portal.portalProperties=S;null===(P=I.telemetry)||void 0===P?void 0:P.logEvent({category:"homePage",label:"portalProperties.homePage",action:"Save"});B["default"].showAlert("success",T["default"].modernActivated);I.refreshHomePage()})};X.prototype.refreshHomePage=
function(){var I=this;this.destroyHomePage();this.firstLoad=!0;this.loadHomePageConfig().then(function(){return I._renderPage()})};X.prototype.openHomePageEditor=function(I){var S=this;this.editor=new q["default"]({portal:this.portal,telemetry:this.telemetry,markdown:this.markdown,opener:I});this.editor.open();this.own(da["default"](this.editor,"save",function(){!S.portal.isPortal&&z["default"].isTransitionalHomePage(S.portal)||S.refreshHomePage()}),da["default"](this.editor,"close",function(){null===
I||void 0===I?void 0:I.focus()}))};X.prototype.getHelpURL=function(){return this.portal.isPortal?this.getPortalHelpURL():this.portal.helpBase};X.prototype.getPortalHelpURL=function(){if(-1<this.portal.helpBase.indexOf("enterprise.arcgis.com"))return this.portal.helpBase;var I=window.location.protocol+"//"+window.location.host+this.portal.helpBase+"portal/";return this.portal.allSSL||"https:"===window.location.protocol||C["default"].usePortalSSL()||"7443"===location.port?C["default"].getSecureUrl(I):
I};X.prototype.getResourceUrl=function(I){return C["default"].getSecureUrl(this.portal.url)+"portals/"+this.portal.id+"/resources/"+I};return X=b.__decorate([w["default"](c["default"])],X)}()});