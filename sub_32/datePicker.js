require(["luxon"],function(e){const t=t=>{const s=e.DateTime,r=s.local({locale:"nl"});let l={days:r.day,months:r.month,years:r.year};const o=t,n=o.querySelector("[data-dp='inputContainer']"),d=o.querySelector("input"),i=n.querySelector("button"),c=o.querySelector("[role='dialog']"),u=c.querySelector("button"),y=c.querySelector("[data-dp='daysList']"),p=c.querySelector("[data-dp='monthsList']"),m=c.querySelector("[data-dp='yearsList']"),v=o.querySelector("[role='alert']"),h=o.querySelector("[data-dp='overlay']"),L=o.querySelector("[data-dp='helpText']"),b=e=>{const t=s.local(e.years,e.months).daysInMonth;return e.days>t&&(e={...e,days:t},N("days",e.days,!1)),e},f=e=>{const t=s.fromFormat(e,"dd-LL-yyyy",{locale:"nl"});l={days:t.day,months:t.month,years:t.year}},g=e=>{const t=e.target.value.split(/\/|-/gm);return{days:parseInt(t[0]?t[0]:null),months:parseInt(t[1]?t[1]:null),years:parseInt(t[2]?t[2]:null)}},E=e=>{const t=(e=>{const t=e.split(/\/|-/gm);return`${t[0]?t[0].padStart(2,"0"):null}-${t[1]?t[1].padStart(2,"0"):null}-${t[2]?t[2]:null}`})(e);return s.fromFormat(t,"dd-LL-yyyy",{locale:"nl"}).isValid},q=()=>{L.classList.remove("is-visible"),v.classList.add("is-visible"),n.classList.add("has-error")},S=()=>{L.classList.add("is-visible"),v.classList.remove("is-visible"),n.classList.remove("has-error")};d.value&&(E(d.value)?f(d.value):q());const A=(e,t,s)=>{(()=>{let t=document.createElement("div");const r=e.getAttribute("data-dp")+Math.floor(1e4*Math.random());t.id=r,e.setAttribute("aria-labelledby",r),t.className="dp-scroll-wheel__label",t.innerText=a(C.of(s)),e.parentNode.insertBefore(t,e)})();const r=()=>{let t=document.createElement("li");t.className="dp-scroll-wheel__spacer",e.appendChild(t)};return r(),t.forEach(t=>{let a=document.createElement("li");a.appendChild(document.createTextNode("object"==typeof t?t.label:t)),a.className="dp-scroll-wheel__item",a.setAttribute("aria-selected","false"),a.setAttribute("data-dp-value","object"==typeof t?t.value:t),a.setAttribute("role","option"),e.appendChild(a)}),r(),e},k=Array.from({length:31},(e,t)=>t+1),$=t=>e.Info.months("long",{locale:t}),w=(d.dataset.dpLanguage?$(d.dataset.dpLanguage.replace("_","-")):$("nl")).map((e,t)=>({value:t+1,label:a(e)})),I=d.dataset.dpFirstYear?parseInt(d.dataset.dpFirstYear):r.year-25,T=d.dataset.dpLastYear?parseInt(d.dataset.dpLastYear):r.year,_=d.dataset.dpLanguage?d.dataset.dpLanguage.replace("_","-"):"nl",F=Array.from({length:T-I+1},(e,t)=>t+I),C=new Intl.DisplayNames(_,{type:"dateTimeField"});A(y,k,"day"),A(p,w,"month"),A(m,F,"year"),L.innerText=`${C.of("day")} - ${C.of("month")} - ${C.of("year")}`;const D=()=>{const e=y.querySelectorAll("[role='option']"),t=s.local(l.years,l.months).daysInMonth;e.forEach(e=>{const a=e.getAttribute("data-dp-value");e.classList.remove("hidden"),a>t&&e.classList.add("hidden")})},M=()=>{d.value=s.fromObject({day:l.days,month:l.months,year:l.years}).setLocale("nl").toFormat("dd-LL-yyyy")},N=(e,t,a)=>{const s=c.querySelector(`[data-dp='${e}List']`);s.querySelectorAll("[role='option']").forEach(r=>{const l=r.getAttribute("data-dp-value");l==t?(s.scrollTo({top:48*("years"==e?l-I+1:l),behavior:a?"smooth":"auto"}),r.classList.add("active"),r.setAttribute("aria-selected","true")):(r.classList.remove("active"),r.setAttribute("aria-selected","false"))})},x=()=>{allOptions=c.querySelectorAll("[role='option']"),allOptions.forEach(e=>{e.classList.remove("focus-visible")})},O=e=>{x(),e.classList.add("focus-visible")},Y=()=>{c.classList.remove("is-visible"),h.classList.remove("is-visible"),document.removeEventListener("click",j)},j=e=>{e.target.closest("[role='dialog']")||e.target==i||Y()},U=(e,t)=>{const a=c.querySelector(`[data-dp='${e}List']`);l=b({...l,[e]:t}),D(),M(),N(e,l[e],!0),O(a.querySelector(`[data-dp-value='${l[e]}']`))};["days","months","years"].forEach(e=>{const t=c.querySelector(`[data-dp='${e}List']`);t.addEventListener("keyup",a=>{const r={days:1,months:1,years:F[0]},o={days:s.local(l.years,l.months).daysInMonth,months:12,years:F[F.length-1]};"Tab"==a.key&&O(t.querySelector(`[data-dp-value='${l[e]}']`)),"ArrowUp"==a.key&&l[e]>r[e]&&U(e,l[e]-1),"ArrowDown"==a.key&&l[e]<o[e]&&U(e,l[e]+1),"Home"==a.key&&U(e,r[e]),"End"==a.key&&U(e,o[e])}),t.querySelectorAll("[role='option']").forEach(t=>{const a=t.getAttribute("data-dp-value");t.addEventListener("click",t=>{v.classList.remove("is-visible"),n.classList.remove("has-error");const s=b({...l,[e]:a});l=s,D(),M(),N(e,s[e],!0),O(t.target)})})}),i.addEventListener("click",()=>{c.classList.contains("is-visible")?Y():(c.classList.add("is-visible"),h.classList.add("is-visible"),document.addEventListener("click",j),document.addEventListener("keydown",e=>{"Escape"!==e.code&&"Enter"!==e.code||Y()}),D(),["days","months","years"].forEach(e=>{N(e,l[e],!1)}),S(),B(c))}),u.addEventListener("click",e=>{e.preventDefault(),Y()}),d.addEventListener("blur",e=>{""!=e.target.value||e.target.required?E(e.target.value)?(S(),l={...g(e)},M()):q():S()}),d.addEventListener("keyup",e=>{("Enter"===e.key||v.classList.contains("is-visible"))&&(E(e.target.value)?S():q())}),new MutationObserver(()=>{f(d.getAttribute("value")),M(),x()}).observe(d,{attributeFilter:["value"]});const B=e=>{var t=e.querySelectorAll("ul"),a=t[0],s=t[t.length-1];e.addEventListener("keydown",e=>{("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===a&&(s.focus(),e.preventDefault()):document.activeElement===s&&(a.focus(),e.preventDefault()))})}},a=e=>e.charAt(0).toUpperCase()+e.slice(1);document.querySelectorAll("[data-dp='container']").forEach(e=>{t(e)})});