webpackJsonp([3],{244:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(259);e.default=s.a},259:function(t,e,i){"use strict";var s=i(157),l=i(156),n=i(10);const o="[js-hook-scroll-indicator-slider]",r="[js-hook-scroll-indicator-slider-container]",d="[data-scroll-indicator-id]",a="js-hook-scroll-indicator-last",c="scroll-indicator__label--active",h="scroll-indicator--is-initialized",u="content",m="scroll-indicator__arrow",p=`${m}--up`;const w=t=>t.reduce((t,e,i)=>t+=I(e.id?e.id:u,e.dataset.scrollIndicatorId?e.dataset.scrollIndicatorId:"",i),""),I=(t,e,i)=>{let s=" ";return t===u&&(s=` ${a}`),`<div data-label-index="${i}" data-label-id="${e}" data-label-link="${t}" class="scroll-indicator__label"${s}>${e}</div>`},g=()=>document.body.scrollTop||window.pageYOffset,f=t=>{let e=t;const i=window.getComputedStyle(t),s={};s.top=parseInt(i.marginTop,10)||0;let l=0-s.top;do{l+=e.offsetTop||0,e=e.offsetParent}while(e);return l- -100};e.a=class ScrollIndicator{constructor(t){this.element=t,this.sections=[...document.querySelectorAll(d)],this.sliderContainer=document.querySelector(r),this.slider=this.sliderContainer.querySelector(o),this.sliderIsInit=!1,this.currentItem={},this.sliderArrow=this.element.querySelector(`.${m}`),this.scrollUp=!1,this.direction="down",this.sections.length<2||(this.generateSlider(),this.bindEvents())}onWindowUpdate(){this.getSectionsPositions(),this.updateActiveSlideItem()}getSectionsPositions(){this.positions=this.sections.map(t=>f(t))}setScrollDirection(){const t=void 0===window.scrollY?window.pageYOffset:window.scrollY;this.direction=this.prevPosition<t?"down":"up",this.prevPosition=t}bindEvents(){n.a.set([{element:window,event:"scroll",namespace:"ScrolIndicator-Scroll",fn:()=>this.onWindowUpdate()},{element:window,event:"resize",namespace:"ScrolIndicator-Resize",fn:()=>this.onWindowUpdate()}]),this.onWindowUpdate()}initSlider(t,e){this.goToSlide(t,e),this.element.classList.add(h),this.sliderIsInit=!0}updateActiveSlideItem(){const t=g();if(t+l.a.height===Math.max(s.a.scrollHeight,s.a.offsetHeight,s.b.clientHeight,s.b.scrollHeight,s.b.offsetHeight))this.goToSlide(this.slides[this.slides.length-1],this.slides[this.slides.length-1].dataset.labelIndex);else{const e=this.slides.map((e,i)=>e.hasAttribute(a)?0:this.positions[i]<=t+l.a.height?1:0).reduce((t,e)=>t+e,0);this.sliderIsInit?this.goToSlide(e):this.initSlider(e)}}goToSlide(t){if(!this.slides[t])return;this.slideDimensions=this.slides.reduce((t,e)=>[...t,e.getBoundingClientRect().height]||t,[]),this.sliderContainer.style.width=`${this.slideDimensions[t]}px`;const e=this.slideDimensions.reduce((e,i,s)=>s<=parseInt(t,10)-1?e+=i:e,0);this.slides[t].classList.add(c),this.currentItem.element&&this.currentItem.element.classList&&this.currentItem.element.classList.remove(c);const i=`translate3d(-${e.toFixed(2)}px,0,0)`;this.slider.style.transform=i,this.slider.style.webkitTransform=i,this.slides[t].dataset.labelLink===u?this.sliderArrow.classList.add(p):this.sliderArrow.classList.remove(p),this.element.href=`#${this.slides[t].dataset.labelLink}`}generateSlider(){this.slider.innerHTML=w(this.sections),this.slides=[...this.slider.children]}updateCurrentItem(t,e,i){this.currentItem.id=t,this.currentItem.element=e,this.currentItem.link=i}}}});