//>>built
define("arcgisonline/pages/utils/mapViewer",["require","exports","tslib","../../esriGeowConfig","./subscription"],function(w,c,u,d,p){function g(a){return-1<[f.Modern,f.Classic].indexOf(a)}function h(a,b){var e=(new Date("April 13, 2021")).getTime();return b?!1:a>=e}function k(a){var b,e;if(a.isPortal)return a.mapViewer||f.Classic;if(g(a.mapViewer))return a.mapViewer;if(a.subscriptionInfo){h(a.created,a.isPortal);if(p.isTrialSubscription(null===(b=a.subscriptionInfo)||void 0===b?void 0:b.type,a.isPortal))return f.Classic;
p.isDeveloperSubscription(null===(e=a.subscriptionInfo)||void 0===e?void 0:e.type,a.isPortal);return f.Modern}}function l(a){var b;if(a.isSignedIn){var e=null===(b=a.properties)||void 0===b?void 0:b.mapViewer;if(g(e))return e;if(!a.isViewingOrg)return f.Classic}else if(!a.isViewingOrg)return f.Modern}function q(a){var b,e,m,n,r=!!d["default"].self,t=!(!d["default"].userInfo||!d["default"].userInfo.username&&!d["default"].userInfo.email);a=l({isSignedIn:t,isViewingOrg:r&&!!d["default"].self.id,properties:a||
d["default"].userProperties});var v=null===(e=null===(b=d["default"].self)||void 0===b?void 0:b.portalProperties)||void 0===e?void 0:e.mapViewer;b=d["default"].self.id&&k({mapViewer:v,created:null===(m=d["default"].self)||void 0===m?void 0:m.created,subscriptionInfo:r&&d["default"].self.subscriptionInfo,isPortal:null===(n=d["default"].self)||void 0===n?void 0:n.isPortal});return a||b||(t?f.Classic:f.Modern)}Object.defineProperty(c,"__esModule",{value:!0});c.determineMapViewerSetting=c.determineUserMapViewer=
c.determineOrgMapViewer=c.isOrgPastMapViewerCutOffDate=c.MapViewerType=void 0;d=u.__importDefault(d);var f;(function(a){a.Modern="modern";a.Classic="classic"})(f=c.MapViewerType||(c.MapViewerType={}));c.isOrgPastMapViewerCutOffDate=h;c.determineOrgMapViewer=k;c.determineUserMapViewer=l;c.determineMapViewerSetting=q;c["default"]={MapViewerType:f,isValidMapViewerType:g,isOrgPastMapViewerCutOffDate:h,determineOrgMapViewer:k,determineUserMapViewer:l,determineMapViewerSetting:q}});