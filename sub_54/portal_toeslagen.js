new function(){self=this,this._data={jsonRouteIwcm:"/wps/wcm/myconnect/bldcontentnl/berichten/toeslagen-onderhoud.json",jsonRoute:"/wps/wcm/connect/bldcontentnl/berichten/toeslagen-onderhoud.json",jsonRouteDevelop:"/data/toeslagen-onderhoud.json",url:"",tsl_data:"",currentDate:""},this._sel={bldSubContent:$("#bldSubContent1"),headerTitle:$("title"),bodyTitle:$("h1")},this.init=function(){this.getCurrentDate(),this.messageToDisplay()},this.setPathToJson=function(){return window.location.href.indexOf("dxp")>-1?this._data.url=this._data.jsonRouteIwcm:"test"===util.environment()?this._data.url=this._data.jsonRouteDevelop:this._data.url=this._data.jsonRoute,this},this.getCurrentDate=function(){var t=new Date,e=t.getTimezoneOffset();if(t.setMinutes(t.getMinutes()+e),-120===e)var a=120;else a=60;return t.setMinutes(t.getMinutes()+a),this._data.currentDate=t,this._data.currentDate},this.getJson=function(){return this.setPathToJson(),bld_getData(this._data.url,"json").then(t=>(this._data.tsl_data=t,void 0!==this._data.tsl_data?this._data.tsl_data:void 0))},this.messageToDisplay=function(){this.getJson().then(t=>{if(void 0!==t)if(uri.args.indexOf("bld-toeslagen")>-1)this.placeContent("startOnderhoudBeta",t),this.placeContent("vooraankondiging",t);else if("live"===util.environment()||"beta"===util.environment())if("ja"===t.damage.damage)this.placeContent("damage",t);else{var e=new Date(t.dates["einde-onderhoud"]),a=new Date(t.dates["start-onderhoud"]),n=new Date(t.dates["start-vooraankondiging"]);this._data.currentDate<e&&(this._data.currentDate>a?this.placeContent("startOnderhoud",t):this._data.currentDate>n&&this.placeContent("vooraankondiging",t))}else"ja"===t.damage.damage?this.placeContent("damage",t):(this.placeContent("startOnderhoudBeta",t),this.placeContent("vooraankondiging",t))})},this.placeContent=function(t){var e="";switch(t){case"startOnderhoud":case"startOnderhoudBeta":e="<p>"+this._data.tsl_data.content.onderhoud+"</p>","startOnderhoud"===t&&this._sel.bldSubContent.empty(),this._sel.headerTitle.text(this._data.tsl_data.content["titel-onderhoud"]),this._sel.bodyTitle.text(this._data.tsl_data.content["titel-onderhoud"]),this._sel.bldSubContent.prepend(e);break;case"vooraankondiging":e='<div class="message_letop" dir="ltr"><strong>let op!<br></strong>'+this._data.tsl_data.content.vooraankondiging+"</div>",this._sel.bldSubContent.append(e);break;case"damage":this._sel.headerTitle.text(this._data.tsl_data.content["titel-damage"]),this._sel.bodyTitle.text(this._data.tsl_data.content["titel-damage"]),e="<p>"+this._data.tsl_data.content["inhoud-damage"]+"</p>",this._sel.bldSubContent.empty(),this._sel.bldSubContent.prepend(e)}},this.init()};