define(["../Component","dojo/i18n!../ItemBrowser/nls/resources","dojo/Deferred","dojo/promise/all","dojo/_base/kernel","../ItemBrowser/index"],(function(t,e,n,r,o,i){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=961)}({0:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function c(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}Object.create;function l(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}Object.create},113:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),o=n(16),i=function(t,e,n){var r,o=null==e?void 0:e.toLowerCase(),i=!1,a=!1,c=!1,u=!1;if("ogcfeatureserver"===o)r="featureshosted";else if((null==o?void 0:o.indexOf("service"))>0||"feature collection"===o||"kml"===o||"wms"===o||"wmts"===o||"wfs"===o){var s=n.indexOf("Hosted Service")>-1;if("feature service"===o||"feature collection"===o||"kml"===o||"wfs"===o)u=n.indexOf("Table")>-1,i=n.indexOf("Route Layer")>-1,a=n.indexOf("Markup")>-1,r=(c=-1!==n.indexOf("Spatiotemporal"))&&u?"spatiotemporaltable":u?"table":i?"routelayer":a?"markup":c?"spatiotemporal":s?"featureshosted":"features";else if("map service"===o||"wms"===o||"wmts"===o)r=s||n.indexOf("Tiled")>-1||"wmts"===o?"maptiles":"mapimages";else if("scene service"===o)r=n.indexOf("Line")>-1?"sceneweblayerline":n.indexOf("3DObject")>-1?"sceneweblayermultipatch":n.indexOf("Point")>-1?"sceneweblayerpoint":n.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":n.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":n.indexOf("Polygon")>-1?"sceneweblayerpolygon":n.indexOf("Building")>-1?"sceneweblayerbuilding":n.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer";else if("image service"===o){var l=n.indexOf("Elevation 3D Layer")>-1,f=n.indexOf("Tiled Imagery")>-1;r=l?"elevationlayer":f?"tiledimagerylayer":"imagery"}else r="stream service"===o?"streamlayer":"vector tile service"===o?"vectortile":"datastore catalog service"===o?"datastorecollection":"geocoding service"===o?"geocodeservice":"geoprocessing service"===o&&n.indexOf("Web Tool")>-1?"tool":"layers"}else r="web map"===o||"cityengine web scene"===o?"maps":"web scene"===o?n.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===o&&(null==n?void 0:n.indexOf("configurableApp"))>-1?"instantapps":"web mapping application"===o||"mobile application"===o||"application"===o||"operation view"===o||"desktop application"===o?"apps":"map document"===o||"map package"===o||"published map"===o||"scene document"===o||"globe document"===o||"basemap package"===o||"mobile basemap package"===o||"mobile map package"===o||"project package"===o||"project template"===o||"pro map"===o||"layout"===o||"layer"===o&&n.indexOf("ArcGIS Pro")>-1||"explorer map"===o&&n.indexOf("Explorer Document")>-1?"mapsgray":"service definition"===o||"csv"===o||"administrative report"===o||"shapefile"===o||"cad drawing"===o||"geojson"===o||"360 vr experience"===o||"netcdf"===o?"datafiles":"explorer add in"===o||"desktop add in"===o||"windows viewer add in"===o||"windows viewer configuration"===o?"appsgray":"arcgis pro add in"===o||"arcgis pro configuration"===o?"addindesktop":"rule package"===o||"file geodatabase"===o||"csv collection"===o||"kml collection"===o||"windows mobile package"===o||"map template"===o||"desktop application template"===o||"arcpad package"===o||"code sample"===o||"form"===o||"document link"===o||"vector tile package"===o||"operations dashboard add in"===o||"rules package"===o||"image"===o||"workflow manager package"===o||"explorer map"===o&&n.indexOf("Explorer Mapping Application")>-1||n.indexOf("Document")>-1?"datafilesgray":"network analysis service"===o||"geoprocessing service"===o||"geodata service"===o||"geometry service"===o||"geoprocessing package"===o||"locator package"===o||"geoprocessing sample"===o||"workflow manager service"===o||"raster function template"===o||"deep learning package"===o?"toolsgray":"layer"===o||"layer package"===o||"explorer layer"===o?"layersgray":"scene package"===o?"scenepackage":"tile package"===o?"tilepackage":"storymap"===o?"storymap":"storymap theme"===o?"storymaptheme":"web experience"===o?"experiencebuilder":"web experience template"===o?"webexperiencetemplate":"task file"===o?"taskfile":"report template"===o?"report-template":"statistical data collection"===o?"statisticaldatacollection":"insights workbook"===o?"workbook":"insights model"===o?"insightsmodel":"insights page"===o?"insightspage":"hub initiative"===o?"hubinitiative":"hub page"===o?"hubpage":"hub site application"===o?"hubsite":"relational database connection"===o?"relationaldatabaseconnection":"big data file share"===o?"datastorecollection":"image collection"===o?"imagecollection":"desktop style"===o?"desktopstyle":"style"===o?"style":"dashboard"===o?"dashboard":"feed"===o?"feed":"real time analytic"===o?"realtimeanalytics":"big data analytic"===o?"bigdataanalytics":"maps";return t+"/"+r+"16.png"},a=Object(o.a)((function(t,e){return Object(r.a)(Object(r.a)({},e),{iconURI:i(t,e.type,e.typeKeywords?e.typeKeywords:[])})}))},117:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),o=n(16),i=function(t,e){var n,r="notebook"!==(null===(n=e.type)||void 0===n?void 0:n.toLowerCase())?"default_thumb.png":"notebook-thumb.png",o=t.baseUrl+"/home/js/arcgisonline/css/images/"+r;return e.thumbnail&&(o=t.restUrl+"/content/items/"+e.id+"/info/"+e.thumbnail+(t.credential?"?token="+t.credential.token:"")),o},a=Object(o.a)((function(t,e){return Object(r.a)(Object(r.a)({},e),{thumbURI:i(t,e)})}))},118:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),o=n(16),i=function(t,e){return e.description?e.description.replace(/src=('|")js\/jsapi\/esri\//g,(function(e){return"src="+('"'===e[4]?'"':"'")+t.baseUrl+"/home/js/jsapi/esri/"})):void 0},a=Object(o.a)((function(t,e){return Object(r.a)(Object(r.a)({},e),{patchedDescription:i(t,e)})}))},119:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),o=n(121),i=n(16),a=n(56),c=function(t,e){var n,r=e.type,i=e.typeKeywords||[],c=r,u=(null==t?void 0:t.portalUser)||(null==t?void 0:t.user);if("Feature Service"===r||"Feature Collection"===r){if(c=i.indexOf("Table")>-1?"Table":i.indexOf("Route Layer")>-1?"Route Layer":i.indexOf("Markup")>-1?"Markup":"Feature Layer",u&&Object(a.d)(e,u)&&(null==i?void 0:i.indexOf("Hosted Service"))>-1){var s=(null===(n=null===document||void 0===document?void 0:document.documentElement)||void 0===n?void 0:n.lang)||"en";c=c+" ("+(o.a[s]||o.a[s.split("-")[0]]||o.a.en)+")"}}else if("Image Service"===r){var l=i.indexOf("Elevation 3D Layer")>-1,f=i.indexOf("Tiled Imagery")>-1;c=l?"Elevation Layer":f?"Tiled Imagery Layer":"Imagery Layer"}else"Scene Service"===r?c="Scene Layer":"Scene Package"===r?c="Scene Layer Package":"Stream Service"===r?c="Feature Layer":"Geocoding Service"===r?c="Locator":"Microsoft Powerpoint"===r?c="Microsoft PowerPoint":"OGCFeatureServer"===r?c="OGC Feature Layer":"GeoJson"===r?c="GeoJSON":"Globe Service"===r?c="Globe Layer":"Vector Tile Service"===r?c="Tile Layer":"netCDF"===r?c="NetCDF":"Map Service"===r?c=-1===i.indexOf("Spatiotemporal")&&(i.indexOf("Hosted Service")>-1||i.indexOf("Tiled")>-1)?"Tile Layer":"Map Image Layer":r&&r.toLowerCase().indexOf("add in")>-1?c=r.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===r?c="Big Data File Share":"Web Mapping Application"===r&&(null==i?void 0:i.includes("configurableApp"))&&(c="Instant App");return c},u=Object(i.a)((function(t,e){return Object(r.a)(Object(r.a)({},e),{displayName:c(t,e)})}))},120:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),o=n(16),i=function(t,e){var n=[],r=t.typeKeywords?t.typeKeywords:[];return t.contentStatus&&("org_authoritative"===t.contentStatus||"public_authoritative"===t.contentStatus?n.push("authoritative"):"deprecated"===t.contentStatus&&n.push("deprecated")),t.origin&&n.push("collaboration"),t.groupDesignations&&t.groupDesignations.indexOf("livingatlas")>-1&&n.push("livingAtlas"),r.indexOf("Requires Credits")>-1?n.push("premium"):r.indexOf("Requires Subscription")>-1&&n.push("subscriber"),r.indexOf("Public Data Collection")>-1&&((null==e?void 0:e.portalUser)||(null==e?void 0:e.user))&&n.push("publicDataCollection"),"Solution"===t.type&&t.typeKeywords.indexOf("ArcGIS Solution")>-1&&n.push("solution"),n},a=Object(o.a)((function(t,e){return Object(r.a)(Object(r.a)({},e),{badges:i(e,t)})}))},121:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={ar:"مستضاف",bs:"hostirano",ca:"allotjat",cs:"hostovaná položka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"isännöity",fr:"hébergé",he:"מתארח",hr:"hostirano",hu:"tárolt",id:"di-host",it:"ospitati",ja:"ホスト",ko:"호스팅",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"găzduite",ru:"размещенный",sl:"gostujoči",sk:"hostil",sr:"hostovani",sv:"driftade",th:"หลัก",tr:"barındırılan",uk:"розміщений на хості",vi:"được lưu trữ","zh-cn":"托管","zh-hk":"託管","zh-tw":"託管"}},123:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(84),o=n(99);function i(t){var e=Object(r.b)(t.settings.config.customSections,t.parameters.section);return(null==e?void 0:e.portal)?Object(o.b)(e.portal):t.settings.utils.portal}},136:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var r={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},o=["Web Map","CityEngine Web Scene","Web Scene","360 VR Experience","Pro Map","Feature Service","Map Service","Image Service","KML","KML Collection","WFS","WMTS","Feature Collection","Feature Collection Template","Vector Tile Service","Scene Service","Relational Database Connection","Web Mapping Application","Mobile Application","Code Attachment","Operations Dashboard Add In","Native Application","Native Application Template","Native Application Installer","Workforce Project","Form","Insights Workbook","Insights Model","Insights Page","Dashboard","Hub Initiative","Hub Site Application","Hub Page","Site Application","Site Page","AppBuilder Widget Package","Symbol Set","Color Set","Shapefile","File Geodatabase","CSV","Administrative Report","CAD Drawing","Service Definition","Microsoft Word","Microsoft Powerpoint","Microsoft Excel","PDF","Image","Visio Document","iWork Keynote","iWork Pages","iWork Numbers","Report Template","Statistical Data Collection","Map Document","Map Package","Mobile Basemap Package","Mobile Map Package","Tile Package","Vector Tile Package","Project Package","Task File","ArcPad Package","Explorer Map","Globe Document","Scene Document","Published Map","Map Template","Windows Mobile Package","Pro Map","Layout","Project Template","Layer","Layer Package","Explorer Layer","Scene Package","Image Collection","Desktop Style","Geoprocessing Package","Geoprocessing Package (Pro version)","Geoprocessing Sample","Locator Package","Rule Package","Raster function template","Deep Learning Package","ArcGIS Pro Configuration","Workflow Manager Package","Desktop Application","Desktop Application Template","Code Sample","Desktop Add In","Explorer Add In","ArcGIS Pro Add In","Geometry Service","Geocoding Service","Network Analysis Service","Geoprocessing Service","Workflow Manager Service","Big Data File Share","Web Tool","Notebook","Web Experience","Web Experience Template","Feed","Real Time Analytic","Big Data Analytic","OGCFeatureServer","Solution","Knowledge Graph"]},145:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),o=n(16),i=function(t,e){if(e.thumbnail)return t.restUrl+"/community/users/"+e.username+"/info/"+e.thumbnail+(t.credential?"?token="+t.credential.token:"")},a=Object(o.a)((function(t,e){return Object(r.a)(Object(r.a)({},e),{thumbURI:i(t,e)})}))},146:function(t,e){t.exports=o},158:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return p}));var r=n(0),o=n(59),i=n(16),a=n(175),c=n(346),u=n(123),s=n(84);function l(t,e){var n=["",{method:"get",query:e.settings.config.addRequestParameters?Object(r.a)({f:"json",q:Object(a.b)(e),num:t.num?t.num:e.settings.config.resultsPerQuery,sortOrder:e.parameters.sort.order,start:t.start?t.start:1},e.settings.config.addRequestParameters()):{f:"json",q:Object(a.b)(e),num:t.num?t.num:e.settings.config.resultsPerQuery,sortOrder:e.parameters.sort.order,start:t.start?t.start:1}}];return d(e)(n)}function f(t,e){var n=["",{method:"get",query:{f:"json",q:Object(a.a)(t),num:0,countFields:e.join(", "),countSize:200}}];return b(t)(n)}function p(t,e){var n=["",{method:"get",query:{f:"json",q:Object(a.c)(t,e),num:0,countFields:"tags",countSize:200}}];return b(t)(n)}var d=function(t){return Object(o.a)(g(t),y(t),v(t),O(t))},b=function(t){return Object(o.a)(O(t),h(t),v(t))},g=Object(i.a)((function(t,e){var n=e[0],o=e[1],i=t.parameters.sort.field;return"relevance"!==i?[n,Object(r.a)(Object(r.a)({},o),{query:Object(r.a)(Object(r.a)({},o.query),{sortField:i})})]:[n,o]})),y=Object(i.a)((function(t,e){var n=e[0],o=e[1];if(t.parameters.filter.searchMapArea){var i=t.parameters.extent.area,a=i.minx+","+i.miny+","+i.maxx+","+i.maxy;return[n,Object(r.a)(Object(r.a)({},o),{query:Object(r.a)(Object(r.a)({},o.query),{bbox:a})})]}return[n,o]})),v=Object(i.a)((function(t,e){var n=e[0],o=e[1],i=Object(c.a)(t);return i?[n,Object(r.a)(Object(r.a)({},o),{query:Object(r.a)(Object(r.a)({},o.query),{enriched:i})})]:[n,o]})),O=Object(i.a)((function(t,e){e[0];var n=e[1],r=t.parameters,o=r.section,i=r.filter,a=Object(u.a)(t),c=a.restUrl+"/search";if("myGroups"===o&&i.group)c=a.restUrl+"/content/groups/"+i.group.id+"/search",i.groupCategories&&(c=c+"?categories="+encodeURIComponent(JSON.stringify([i.groupCategories.value])));else if("livingAtlas"!==o&&"Living Atlas"!==o||!t.results.livingAtlas.groupId)if(!i.orgCategories||"myOrganization"!==o&&"myContent"!==o){var l=Object(s.b)(t.settings.config.customSections,o);if(l){Object(s.d)(l)&&i.orgCategories&&(c=c+"?categories="+encodeURIComponent(JSON.stringify([i.orgCategories.value])));var f=Object(s.c)(l);f&&(c=a.restUrl+"/content/groups/"+f.id+"/search",i.groupCategories&&(c=c+"?categories="+encodeURIComponent(JSON.stringify([i.groupCategories.value]))))}}else c=c+"?categories="+encodeURIComponent(JSON.stringify([i.orgCategories.value]));else c=a.restUrl+"/content/groups/"+t.results.livingAtlas.groupId+"/search",i.livingAtlasCategories?(c=c+"?categories="+encodeURIComponent(JSON.stringify([i.livingAtlasCategories.value])),i.livingAtlasRegion&&(c=c+"&categories="+encodeURIComponent(JSON.stringify([i.livingAtlasRegion.value])))):i.livingAtlasRegion&&(c=c+"?categories="+encodeURIComponent(JSON.stringify([i.livingAtlasRegion.value])));return[c,n]})),h=Object(i.a)((function(t,e){var n=e[0],o=e[1],i=t.parameters.section,a=Object(s.b)(t.settings.config.customSections,i);return"myGroups"===i&&t.parameters.filter.group||("livingAtlas"===i||"Living Atlas"===i)&&t.results.livingAtlas.groupId||a&&Object(s.c)(a)?[n,Object(r.a)(Object(r.a)({},o),{query:Object(r.a)(Object(r.a)({},o.query),{countFields:o.query.countFields?o.query.countFields.replace("categories","groupcategories"):void 0})})]:[n,o]}))},16:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0);function o(t){return function e(){for(var n=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return o.length>=t.length?t.call.apply(t,Object(r.g)([this],o)):function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.call.apply(e,Object(r.g)(Object(r.g)([n],o),t))}}}},164:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},167:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return g})),n.d(e,"e",(function(){return y})),n.d(e,"g",(function(){return v})),n.d(e,"f",(function(){return O})),n.d(e,"l",(function(){return h})),n.d(e,"k",(function(){return j})),n.d(e,"m",(function(){return _}));var r=n(63),o=n.n(r),i=n(51),a=n.n(i),c=n(32),u=n(43),s="ADD_TO_FAVORITES",l="ADD_TO_FAVORITES_SUCCESS",f="ADD_TO_FAVORITES_FAIL",p="LOADING_USER_INFO",d="UPDATE_GROUP_CATEGORIES",b="UPDATE_USER_INFO",g="UPDATE_USER_INFO_FAILED",y="REMOVE_FROM_FAVORITES",v="REMOVE_FROM_FAVORITES_SUCCESS",O="REMOVE_FROM_FAVORITES_FAIL",h=function(){return function(t,e){var n=e(),r=n.parameters.filter.group,i=n.results.user.groupCategories;if("loaded"===n.results.user.status)return r&&!i[r.id]?t(m(r.id)):(new a.a).resolve();if("failed"===n.results.user.status)return(new a.a).reject();t({type:p});var u=n.settings.utils,s=u.request,l=u.portal;return o()([Object(c.r)(s,l).then((function(t){return t.groups.map((function(t){return{id:t.id,title:t.title}}))})),Object(c.s)(s,l).then((function(t){return t.folders.map((function(t){return{id:t.id,title:t.title}}))})),Object(c.t)(s,l,l.user.favGroupId).then((function(t){return t.items.reduce((function(t,e){return t[e.id]=!0,t}),{})}))].concat(r?[t(m(r.id))]:[])).then((function(e){t({type:b,payload:{groups:e[0],folders:e[1],favorites:e[2]}})}),(function(e){console.error(e),t({type:g})}))}},m=function(t){return function(e,n){var r=n().settings.utils,o=r.request,i=r.portal;return Object(c.f)(o,i,t).then((function(n){var r=n.categorySchema;e({type:d,payload:{id:t,categorySchema:r}})}))}},j=function(t){return function(e,n){var r=n(),o=r.settings.utils.portal,i=o.user.favGroupId,a=o.restUrl+"/content/items/"+t.id+"/share",c={f:"json",everyone:t.access&&"public"===t.access||t.sharing&&t.sharing.access&&"public"===t.sharing.access,org:t.access&&"org"===t.access||t.sharing&&t.sharing.access&&"org"===t.sharing.access||!1,groups:[i],items:[t.id]};e({type:s,payload:t}),r.settings.utils.request(a,{method:"post",query:c}).then((function(n){e({type:l,payload:t})}),(function(n){console.error(n),e({type:f,payload:t})}))}},_=function(t){return function(e,n){var r=n(),o=r.settings.utils.portal,i=o.user.favGroupId,a=o.restUrl+"/content/items/"+t.id+"/unshare",c={f:"json",everyone:!1,org:!1,groups:[i],items:[t.id]};e({type:y,payload:t}),r.settings.utils.request(a,{method:"post",query:c}).then((function(a){function c(){e({type:v,payload:t})}"myFavorites"===(r=n()).parameters.section?function n(){r.settings.utils.request(o.restUrl+"/search",{query:{f:"json",q:"(id:"+t.id+") (group:"+i+")"},method:"get"}).then((function(t){t.data.total>0?setTimeout((function(){n()}),250):(c(),e(Object(u.i)()))}),(function(t){console.error(t),c()}))}():c()}),(function(n){e({type:O,payload:t})}))}}},17:function(e,n){e.exports=t},175:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return j}));var r=n(0),o=n(59),i=n(96),a=n(386),c=n(387),u=n(388),s=n(312),l=n(257),f=n(313),p=n(389),d=n(16),b=n(6),g=n(176),y=n(136),v=n(123),O=n(84);function h(t){return _(t)([t.parameters.searchString.current]).join(" ")}function m(t){return S(t)([t.parameters.searchString.current]).join(" ")}function j(t,e){return A(t,e)([t.parameters.searchString.current]).join(" ")}var _=function(t){return Object(o.a)(i.b,R(t),I(t),Object(a.a)(t.parameters.filter.orgGroup),Object(c.a)(t.parameters.filter.status,t.settings.utils.portal.user),w(t),Object(u.a)(t.parameters.filter.shared),Object(s.a)(t.parameters.filter.dateCreated),Object(s.b)(t.parameters.filter.dateModified),Object(l.a)(y.b,{allowedItemTypes:t.settings.config.allowedItemTypes,itemTypeFilter:t.parameters.filter.itemType,specialItemQ:t.settings.config.specialItemQ}),Object(f.b)(t.parameters.filter.tags),Object(p.a)(t.parameters.filter.origins))},S=function(t){return Object(o.a)(i.b,R(t),w(t),Object(l.a)(y.b,{allowedItemTypes:t.settings.config.allowedItemTypes,specialItemQ:t.settings.config.specialItemQ}))},A=function(t,e){return Object(o.a)(i.b,R(t),w(t),Object(l.a)(y.b,{allowedItemTypes:t.settings.config.allowedItemTypes,specialItemQ:t.settings.config.specialItemQ}),Object(f.a)(e))},w=Object(d.a)((function(t,e){var n=t.parameters.filter,o=t.settings.config,i=Object(v.a)(t);switch(t.parameters.section){case"myContent":return i.user?i.user&&n.folder?Object(r.g)(Object(r.g)([],e),['(owner:"'+i.user.username+'") (ownerfolder:'+n.folder.id+")"]):Object(r.g)(Object(r.g)([],e),['(owner:"'+i.user.username+'")']):e;case"myFavorites":return i.user?Object(r.g)(Object(r.g)([],e),["(group:"+i.user.favGroupId+")"]):e;case"myGroups":if(t.results.user.groups){if(t.parameters.filter.group)return Object(r.g)(Object(r.g)([],e),["(group:"+t.parameters.filter.group.id+")"]);var a=t.results.user.groups.map((function(t){return t.id}));return Object(r.g)(Object(r.g)([],e),["(group:"+a.join(" OR group:")+")"])}return e;case"myOrganization":return Object(r.g)(Object(r.g)([],e),["(orgid:"+i.id+")"]);case"subscription":return Object(r.g)(Object(r.g)([],e),["("+t.results.provisionedContent.content.map((function(t){return"id:"+t})).join(" OR ")+")"]);case"all":return e;default:var c=o.customSections.filter((function(e){return t.parameters.section===e.name}))[0];return c?Object(r.g)(Object(r.g)([],e),[c.baseQuery]):e}})),R=Object(d.a)((function(t,e){var n=t.settings.config.addQueryParameters;try{if(n&&"function"==typeof n)return Object(r.g)(Object(r.g)([],e),[n(t)])}catch(t){console.error(t)}return e})),I=Object(d.a)((function(t,e){var n=Object(O.b)(t.settings.config.customSections,t.parameters.section);if(n&&!Object(b.b)(t.parameters.filter.customFilter)){var o=Object.keys(t.parameters.filter.customFilter).filter((function(e){return t.parameters.filter.customFilter[e]})).reduce((function(e,o){var i,a=parseInt(o,10),c=t.parameters.filter.customFilter[a].value;if(null===(i=null==n?void 0:n.filters)||void 0===i?void 0:i[a]){var u=n.filters[a],s=Object(g.a)("children","value",u,c);if(s)return Object(r.g)(Object(r.g)([],e),["("+s.q+")"])}return e}),[]).join(" AND ");return Object(r.g)(Object(r.g)([],e),[""+o])}return e}))},176:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"i",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d}));var r=n(0);function o(t,e){return l("children","value",t,e)}function i(t,e){return f("children","value",t,e)}function a(t,e){return function t(e,n,o,i){var a,c=o,u=o[e];if(!u||0===u.length)return Object(r.a)({},c);return Object(r.a)(Object(r.a)({},c),((a={})[e]=u.reduce((function(r,o){return-1!==i.indexOf(o[n])&&r.push(t(e,n,o,i)),r}),[]),a))}("children","value",t,e)}function c(t){return function(t,e){var n,o=e,i=e[t];if(!i)return e;return Object(r.a)(Object(r.a)({},o),((n={})[t]=function e(n){if(0===n.length)return[];if(1===n.length&&!n[0][t])return n;if(n.length>1)return n.reduce((function(n,o){var i;if(!o[t])return n.push(o),n;var a=o;return n.push(Object(r.a)(Object(r.a)({},a),((i={})[t]=e(a[t]),i))),n}),[]);return e(n[0][t])}(i),n))}("children",t)}function u(t,e){return p("children",t,e)}function s(t,e){return function t(e,n,r){var o=n[e];o&&o.forEach((function(n){return t(e,n,r)}));r(n)}("children",t,e)}function l(t,e,n,r){var o=n[t];return n[e]===r?n:o?o.reduce((function(n,o){return n||l(t,e,o,r)}),void 0):void 0}function f(t,e,n,r){var o=n[t];if(o)return o.reduce((function(n,o){return o[e]===r[0]?1===r.length?o:f(t,e,o,r.slice(1)):n}),void 0)}function p(t,e,n){var o,i=e;return n(Object(r.a)(Object(r.a)({},i),((o={})[t]=i[t]?i[t].map((function(e){return p(t,e,n)})):void 0,o)))}function d(t,e,n){return p(t,n,(function(n){var o=n,i=n[e];if(delete n[e],n[t]){var a=n[t];return delete n[t],Object(r.a)(Object(r.a)({},o),{value:i,children:a})}return Object(r.a)(Object(r.a)({},o),{value:i})}))}},186:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var t=c(p);l=!0;for(var e=s.length;e;){for(u=s,s=[];++f<e;)u&&u[f].run();f=-1,e=s.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function b(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new b(t,e)),1!==s.length||l||c(d)},b.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},187:function(t,e,n){"use strict";function r(t){var e,n;return null!==(e=t.orgId)&&void 0!==e?e:null===(n=t.portal)||void 0===n?void 0:n.id}function o(t){var e;if(!t)return!1;var n=r(t),o=null===(e=t.portal)||void 0===e?void 0:e.isPortal;return!!n&&!o&&"public_authoritative"===t.contentStatus}function i(t,e,n){return new Promise((function(r){var o=t.map((function(t){return function(t,e,n){var r="https://"+e.portalHostname+"/sharing/rest/portals/"+t;return new Promise((function(e){n(r,{method:"get",query:{f:"json"}}).then((function(n){var r=n.data,o=r.allSSL,i=r.urlKey,a=r.customBaseUrl,c=r.thumbnail,u=r.name,s=""+(o?"https://":"http://")+(i||"")+"."+a+"/";e({name:u,url:s+"home/",thumbnail:c?s+"sharing/rest/portals/self/resources/"+c:"./images/group-no-image.png",id:t})}))}))}(t,e,n)}));Promise.all(o).then((function(t){r(t.filter((function(t){return t})))}))}))}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},192:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return l}));var r=n(0),o=n(187),i=n(299),a="USER_THUMBNAILS_LOAD_START",c="USER_THUMBNAILS_LOAD_SUCCESS",u="ORG_THUMBNAILS_LOAD_START",s="ORG_THUMBNAILS_LOAD_SUCCESS",l=function(t,e){var n=e(),l=n.settings.utils,p=l.request,d=l.portal,b=n.ui.pagination,g=b.displayItems,y=b.userThumbnailCache,v=b.pendingUserThumbRequests,O=b.orgThumbnailCache,h=b.pendingOrgThumbRequests,m=f(g.filter(o.c).map(o.b),O,h),j=f(g.map((function(t){return t.owner})),y,v);if(0!==j.length||0!==m.length){t(function(t){return{type:a,payload:t}}(j)),t({type:u,payload:m});var _=Object(i.a)(j,d,p),S=Object(o.a)(m,d,p);Promise.all([_,S]).then((function(e){var n=e[0],o=e[1],i=(null==n?void 0:n.reduce((function(t,e){var n;return Object(r.a)(Object(r.a)({},t),((n={})[e.username]={thumbnail:e.thumbURI||e.thumbnail,username:e.username,fullName:e.fullName,id:e.id},n))}),{}))||{},a=(null==o?void 0:o.reduce((function(t,e){var n;return Object(r.a)(Object(r.a)({},t),((n={})[e.id]=e,n))}),{}))||{};t({type:c,payload:i}),t({type:s,payload:a})}))}};function f(t,e,n){return t.filter((function(t,r,o){return o.indexOf(t)===r&&!e.hasOwnProperty(t)&&-1===n.indexOf(t)}))}},209:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(0),o=n(51),i=n.n(o),a=n(63),c=n.n(a),u=n(16),s=n(96),l=n(32),f=n(314),p=n(123),d=Object(u.a)((function(t,e){var n=t.settings.utils.request,o=Object(p.a)(t),a=new i.a,u=e.data.results.filter((function(e){return e.orgId&&!t.results.allOrganizations[e.orgId]})).map((function(t){return t.orgId})).filter(s.e).map((function(t){return Object(l.m)(n,o,t)}));return c()(u).then((function(t){a.resolve(Object(r.a)(Object(r.a)({},e),{data:Object(r.a)(Object(r.a)({},e.data),{organizations:t.reduce((function(t,e){var n;return Object(r.a)(Object(r.a)({},t),((n={})[e.id]=Object(f.a)(e),n))}),{})})}))}),(function(t){a.reject(t)})),a}))},218:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),o=n(99),i=function(t){var e=Object(o.a)(t);return t.thumbnail?e+"/sharing/rest/portals/"+t.id+"/resources/"+t.thumbnail:e+"/home/images/group-no-image.png"},a=function(t){return Object(r.a)(Object(r.a)({},t),{thumbURI:i(t)})}},219:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),o=n(99),i=function(t){return Object(o.a)(t)+"/home/index.html"},a=function(t){return Object(r.a)(Object(r.a)({},t),{orgUrl:i(t)})}},223:function(t,e){t.exports=i},249:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l}));var r=n(51),o=n.n(r),i=n(32),a=n(78),c="UPDATE_PROVISIONED_CONTENT",u="UPDATE_PROVISIONED_CONTENT_FAILED",s="UPDATE_PROVISIONED_CONTENT_SUCCESS",l=function(){return function(t,e){var n=e();if("loaded"===n.results.provisionedContent.status)return(new o.a).resolve();if("failed"===n.results.provisionedContent.status)return(new o.a).reject();t({type:c});var r=n.settings.utils,l=r.request,f=r.portal;return Object(i.d)(l,f,f.user.username).then((function(e){t({type:s,payload:e.filter((function(t){var e=t.type;return n.settings.config.allowedItemTypes.indexOf(e)>-1})).map((function(t){return Object(a.a)(f,n.settings.utils.iconDir,t)}))})}),(function(e){console.error(e),t({type:u})}))}}},256:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return b})),n.d(e,"b",(function(){return g})),n.d(e,"e",(function(){return y}));var r=n(0),o=n(63),i=n.n(o),a=n(51),c=n.n(a),u=n(96),s=n(32),l=n(16),f=n(84),p="LOADING_CUSTOM_SECTION_INFO",d="UPDATE_CUSTOM_SECTION_SCHEMAS",b="UPDATE_CUSTOM_SECTION_INFO_FAILED",g="UPDATE_CUSTOM_SECTION_GROUPS",y=function(){return function(t,e){var n=e();if("loaded"===n.results.customSections.status)return(new c.a).resolve();if("failed"===n.results.customSections.status)return(new c.a).reject();t({type:p});var o=Object(u.f)("id",n.settings.config.customSections.filter(f.f).map(f.a).reduce((function(t,e){return Object(r.g)(Object(r.g)([],t),e)}),[]));return v(t,e,o).then((function(){return n=e(),i()(o.map((function(t){return O(n,t).then((function(e){return{id:t.id,type:t.type,response:e}}))})))}),a).then((function(e){return t({type:d,payload:e})}),a);function a(e){console.error(e),t({type:b})}}},v=function(t,e,n){var r=e(),o=new c.a;if(n.length>0){var a=r.settings.utils,u=a.request,l=a.portal,f=n.filter((function(t){return"group"===t.type})).map((function(t){var e=t.id,n=t.fetchGroupIdByQuery;return Object(s.e)(u,l,n||"id:"+e).then((function(t){return t.results[0]||{}}))}));i()(f).then((function(n){var r=e();t({type:g,payload:{currentSection:r.parameters.section,customSections:r.settings.config.customSections,groups:n}}),o.resolve()}))}else o.resolve();return o},O=Object(l.a)((function(t,e){var n=t.settings.utils,r=n.request,o=n.portal;if(e.staticSchema){var i=new c.a;return i.resolve({categorySchema:e.staticSchema}),i.then((function(t){return t}))}return"group"===e.type?Object(s.f)(r,o,e.id):Object(s.j)(r,o,e.id)}))},257:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0),o=n(136),i=n(16),a=Object(i.a)((function(t,e,n){var o=e.itemTypeFilter,i=e.allowedItemTypes,a=e.specialItemQ;return o?i.length>0&&a?Object(r.g)(Object(r.g)([],n),[t[o.value]+" AND ("+a+" OR ("+c(i)+"))"]):i.length>0||a?Object(r.g)(Object(r.g)([],n),[t[o.value]+" AND ("+(a?""+a:""+c(i))+")"]):Object(r.g)(Object(r.g)([],n),[""+t[o.value]]):a?Object(r.g)(Object(r.g)([],n),["("+a+") "+(i.length>0?"OR ("+c(i)+")":"")]):Object(r.g)(Object(r.g)([],n),[c(i)])}));function c(t){if(t.length>0){var e=o.a.filter((function(e){return-1===t.indexOf(e)})).filter((function(e){return t.reduce((function(t,n){return e.indexOf(n)>-1||t}),!1)}));return'((type:"'+t.join('" OR type:"')+'")'+(e.length>0?' AND (-type:"'+e.join('" AND -type:"')+'")':"")+")"}return""}},258:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return f}));var r=n(63),o=n.n(r),i=n(51),a=n.n(i),c=n(32),u="LOADING_ORG_INFO",s="UPDATE_ORG_INFO",l="UPDATE_ORG_INFO_FAILED",f=function(){return function(t,e){var n=e();if("loaded"===n.results.organization.status)return(new a.a).resolve();if("failed"===n.results.organization.status)return(new a.a).reject();t({type:u});var r=n.settings.utils,i=r.request,f=r.portal,p=[Object(c.j)(i,f).then((function(t){return t.categorySchema})),Object(c.c)(i,f).then((function(t){return t.data.results}))];return f.isPortal&&p.push(Object(c.o)(i,f).then((function(t){return t.servers}))),o()(p).then((function(e){t({type:s,payload:{schema:e[0],groups:e[1],servers:e[2]}})}),(function(e){console.error(e),t({type:l})}))}}},279:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return b}));var r=n(0),o=n(63),i=n.n(o),a=n(51),c=n.n(a),u=n(32),s=n(55),l=n(78),f=n(123),p="UPDATE_FULL_ITEM_DETAILS",d="FETCH_FULL_ITEM_DETAILS_FAILED",b=function(t){return function(e,n){var o=n(),a=Object(f.a)(o),b=o.settings.utils.request,g=[];g.push(Object(u.r)(b,a,t.owner).then((function(t){return Object(s.l)(a,t)}),(function(t){throw t})));var y=a.restUrl+"/content/items/"+t.id;if(a.user&&t.owner===a.user.username){var v=a.user.username;y=a.restUrl+"/content/users/"+v+"/items/"+t.id}g.push(Object(u.v)(b,y).then((function(t){if(t.item&&t.sharing){var e=new c.a;return Object(u.v)(b,a.restUrl+"/community/groups",{q:"id: "+t.sharing.groups.map((function(t){return'"'+t+'"'})).join(" OR ")}).then((function(n){return e.resolve(Object(r.a)(Object(r.a)({},Object(l.a)(a,o.settings.utils.iconDir,t.item)),{sharing:t.sharing,sharedToGroups:n.results}))}),(function(t){return e.reject(t)})),e}return Object(l.a)(a,o.settings.utils.iconDir,t)}),(function(e){throw t.id}))),i()(g).then((function(t){e(function(t,e){return{type:p,payload:{item:t,owner:e}}}(t[1],t[0]))}),(function(t){e({type:d,payload:t})}))}}},281:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r="CHANGE_SEARCH_SECTION",o=function(t){return function(e,n){var o=n();e({type:r,payload:{newSection:t,customSections:o.settings.config.customSections,customSectionGroupSort:o.results.customSections.groupSort}})}}},282:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a}));var r="CHANGE_SORT_ORDER",o="CHANGE_SORT_FIELD",i=function(t){return{type:r,payload:t}},a=function(t){return{type:o,payload:t}}},285:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l}));var r=n(158),o=n(78),i=n(209),a=n(192),c="CHANGE_PAGE_SUCCESS",u="CHANGE_PAGE_FAIL",s="CHANGING_PAGE",l=function(t){return function(e,n){var l=n();e({type:s,payload:t});var f=l.settings.utils,p=f.portal,d=f.iconDir,b=l.settings.utils.request,g=l.settings.config.resultsPerQuery,y=(t-1)*g+1,v=Object(r.b)({num:g,start:y},l);b(v[0],v[1]).then(Object(i.a)(l),(function(t){return e({type:u,payload:{err:t}})})).then((function(n){e({type:c,payload:{organizations:n.data.organizations,displayItems:n.data.results.map((function(t){return Object(o.a)(p,d,t)})),page:t}}),e(a.e)}),(function(t){return e({type:u,payload:{err:t}})}))}}},29:function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,c=function(t,e){b[o]=t,b[o+1]=e,2===(o+=2)&&(a?a(g):m())},u="undefined"!=typeof window?window:void 0,s=u||{},l=s.MutationObserver||s.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(g,1)}}var b=new Array(1e3);function g(){for(var t=0;t<o;t+=2)(0,b[t])(b[t+1]),b[t]=void 0,b[t+1]=void 0;o=0}var y,v,O,h,m=void 0;function j(t,e){var n=this,r=new this.constructor(A);void 0===r[S]&&D(r);var o=n._state;if(o){var i=arguments[o-1];c((function(){return L(o,r,i,n._result)}))}else k(n,r,t,e);return r}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(A);return R(e,t),e}f?m=function(){return e.nextTick(g)}:l?(v=0,O=new l(g),h=document.createTextNode(""),O.observe(h,{characterData:!0}),m=function(){h.data=v=++v%2}):p?((y=new MessageChannel).port1.onmessage=g,m=function(){return y.port2.postMessage(0)}):m=void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(g)}:d()}catch(t){return d()}}():d();var S=Math.random().toString(36).substring(2);function A(){}function w(e,n,r){n.constructor===e.constructor&&r===j&&n.constructor.resolve===_?function(t,e){1===e._state?T(t,e._result):2===e._state?E(t,e._result):k(e,void 0,(function(e){return R(t,e)}),(function(e){return E(t,e)}))}(e,n):void 0===r?T(e,n):t(r)?function(t,e,n){c((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?R(t,n):T(t,n))}),(function(e){r||(r=!0,E(t,e))}),t._label);!r&&o&&(r=!0,E(t,o))}),t)}(e,n,r):T(e,n)}function R(t,e){if(t===e)E(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)T(t,e);else{var n=void 0;try{n=e.then}catch(e){return void E(t,e)}w(t,e,n)}var r,o}function I(t){t._onerror&&t._onerror(t._result),P(t)}function T(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&c(P,t))}function E(t,e){void 0===t._state&&(t._state=2,t._result=e,c(I,t))}function k(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&c(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?L(n,r,o,i):o(i);t._subscribers.length=0}}function L(e,n,r,o){var i=t(r),a=void 0,c=void 0,u=!0;if(i){try{a=r(o)}catch(t){u=!1,c=t}if(n===a)return void E(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;void 0!==n._state||(i&&u?R(n,a):!1===u?E(n,c):1===e?T(n,a):2===e&&E(n,a))}var C=0;function D(t){t[S]=C++,t._state=void 0,t._result=void 0,t._subscribers=[]}var x=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[S]||D(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&T(this.promise,this._result))):E(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===_){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(t){a=!0,i=t}if(o===j&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var c=new n(A);a?E(c,i):w(c,t,o),this._willSettleAt(c,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?E(r,n):this._result[e]=n),0===this._remaining&&T(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;k(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),U=function(){function e(t){this[S]=C++,this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){R(t,e)}),(function(e){E(t,e)}))}catch(e){E(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return U.prototype.then=j,U.all=function(t){return new x(this,t).promise},U.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},U.resolve=_,U.reject=function(t){var e=new this(A);return E(e,t),e},U._setScheduler=function(t){a=t},U._setAsap=function(t){c=t},U._asap=c,U.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=U},U.Promise=U,U},t.exports=r()}).call(this,n(186),n(164))},299:function(t,e,n){"use strict";function r(t,e,n){return Promise.all(t.map((function(t){return function(t,e,n){return new Promise((function(r,o){n(e.restUrl+"/community/users/"+t,{method:"get",query:{f:"json"}}).then((function(t){return r(null==t?void 0:t.data)}),o)}))}(t,e,n)})))}n.d(e,"a",(function(){return r}))},312:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n(0),o=n(16),i=Object(o.a)((function(t,e,n){return e?Object(r.g)(Object(r.g)([],n),["("+t+":"+u(e)+")"]):n})),a=i("modified"),c=i("uploaded");function u(t){return"["+t.start+" TO "+t.end+"]"}},313:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));var r=n(0),o=n(16),i=Object(o.a)((function(t,e){if(t){var n=Object.keys(t);if(n.length>0)return Object(r.g)(Object(r.g)([],e),["tags:("+n.join(" AND ")+")"])}return e})),a=Object(o.a)((function(t,e){return t.length>2?Object(r.g)(Object(r.g)([],e),["tags:("+t+"* OR "+t+")"]):e}))},314:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(59),o=n(99),i=n(218),a=n(219),c=Object(r.a)(i.a,a.a,o.b)},315:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s}));var r=n(51),o=n.n(r),i=n(32),a=n(314),c=n(146),u="UPDATE_PORTAL_SELF",s=function(){return function(t,e){var n=e(),r=n.settings.utils,s=r.portal,l=r.request,f=s.user&&s.user.culture?s.user.culture:c.locale;return n.settings.utils.self?(new o.a).resolve(n.settings.utils.self):Object(i.n)(l,s,f).then((function(e){var r=Object(a.a)(e);return t({type:u,payload:{self:r,config:n.settings.config}}),r}))}}},316:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return p}));var r=n(0),o=n(36),i=n(51),a=n.n(i),c=n(146),u=n(390),s="LOADING_LIVING_ATLAS_INFO",l="UPDATE_LIVING_ATLAS_INFO",f="FETCH_LIVING_ATLAS_INFO_FAILED",p=function(t){return function(e,n){var i=n();if("loaded"===i.results.livingAtlas.status)return(new a.a).resolve();if("failed"===i.results.livingAtlas.status)return(new a.a).reject();e({type:s});var p=i.settings.utils,d=p.portal,b=p.request,g=d.user&&d.user.culture?d.user.culture:c.locale;return Object(u.a)(b,d,t,g).then((function(t){e({type:l,payload:Object(r.a)(Object(r.a)({},t),{schema:t.schema.map((function(t){return"region"===t.title?Object(r.a)(Object(r.a)({},t),{displayName:o.regions}):t}))})})}),(function(t){console.error(t),e({type:f})}))}}},317:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(32),o=n(45),i=n(63),a=n.n(i),c=function(t,e,n){t({type:"LOADING_COLLABORATIONS"});var i=[];Object.keys(n).forEach((function(t){i[t]=[],n[t].participants.length>0&&n[t].participants.forEach((function(t){i[t.value]=[]}))}));var c=Object.keys(i).map((function(o){var i=o.split("__"),a=i[0],c=i[1]?i[1]:"";return function(t,e,n){var o=t.settings.utils.request,i=t.settings.utils.portal,a=t.settings.utils.portal.id,c={query:""!==n?{collaborationId:e,participantId:n,f:"json"}:{collaborationId:e,f:"json"}};return Object(r.k)(o,i,a,c)}(e,a,c).then((function(t){(t.data.collaboratedItems||t.collaboratedItems).forEach((function(t){if(c){var e=a+"__"+c;n[a].participants.filter((function(t){return t.value===e}))[0].items.push(Object.keys(t)[0])}else n[a].items.push(Object.keys(t)[0])}))}),(function(){return t({type:"LOADING_COLLABORATIONS_FAILED"})}))}));return a()(c).then((function(){t(Object(o.s)(n)),t({type:"LOADING_COLLABORATIONS_SUCCESS",payload:n})}))},u=function(t,e){if(t({type:"LOADING_COLLABORATIONS"}),e&&e.parameters&&e.parameters.filter&&e.parameters.filter.origins&&Object.keys(e.parameters.filter.origins).length>0){var n=e.parameters.filter.origins;return t(Object(o.s)(n)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:n}}var i=e.settings.utils.request,a=e.settings.utils.portal,u=e.settings.utils.portal.id;return Object(r.l)(i,a,u,{query:{includeParticipantInfo:"true",f:"json"}}).then((function(n){var r=[];n.data&&n.data.collaborations&&n.data.collaborations.forEach((function(t){var e=t.collaborationId,n=t.collaborationName.trim();r[e]={value:e,label:n,addClass:"",childOf:"",selected:!1,participants:[],items:[]},t.participants&&(r[e].participants=t.participants.map((function(t){return 1===(t=Object.keys(t).map((function(n){var r=t[n].trim();return{value:e+"__"+n,label:r,childOf:e,addClass:"filter-tree-item-child",selected:!1,items:[]}}))).length?t[0]:t})))})),c(t,e,r).then((function(){return t(Object(o.s)(r))}),(function(){return t({type:"LOADING_COLLABORATIONS_FAILED"})}))}),(function(e){return t({type:"LOADING_COLLABORATIONS_FAILED",payload:e})}))}},318:function(t,e,n){"use strict";function r(t){return"string"==typeof t?["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(t)>-1:!!t.filters&&t.filters.indexOf("tags")>-1}n.d(e,"a",(function(){return r}))},32:function(t,e,n){"use strict";n.d(e,"u",(function(){return i})),n.d(e,"n",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"j",(function(){return l})),n.d(e,"o",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"k",(function(){return d})),n.d(e,"m",(function(){return b})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return y})),n.d(e,"r",(function(){return O})),n.d(e,"s",(function(){return h})),n.d(e,"t",(function(){return m})),n.d(e,"g",(function(){return j})),n.d(e,"p",(function(){return _})),n.d(e,"q",(function(){return S})),n.d(e,"v",(function(){return A})),n.d(e,"a",(function(){return w})),n.d(e,"i",(function(){return R})),n.d(e,"b",(function(){return I}));var r=n(0),o=n(29),i=function(t){return function(e,n){return t({url:e,content:n.query},{usePost:"post"===n.method}).then((function(t){return{data:t}}))}},a=function(t,e,n){return A(t,e.restUrl+"/portals/self",{culture:n,default:!0})},c=function(t,e,n){return A(t,e.restUrl+"/content/items/"+n+"/data")},u=function(t,e,n,o){return A(t,e.restUrl+"/community/groups",Object(r.a)({q:n},o))},s=function(t,e,n){return A(t,e.restUrl+"/community/groups/"+n+"/categorySchema")},l=function(t,e,n){return A(t,e.restUrl+"/portals/"+(n||e.id)+"/categorySchema")},f=function(t,e){return A(t,e.restUrl+"/portals/"+e.id+"/servers")},p=function(t,e,n,r){return t(e.restUrl+"/portals/"+(n||e.id)+"/collaborationsSummary",r)},d=function(t,e,n,r){return t(e.restUrl+"/portals/"+(n||e.id)+"/collaboratedItems",r)},b=function(t,e,n){return A(t,location.protocol+"//"+e.portalHostname+"/sharing/rest/portals/"+(n||"self"))},g=function(t,e,n){return t(e.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+e.id+" AND access:public",num:100,start:n||1,sortField:"title",sortOrder:"asc"}}).then((function(n){return n.data.total>n.data.start+n.data.num?g(t,e,n.data.start+n.data.num).then((function(t){return Object(r.a)(Object(r.a)({},t),{data:Object(r.a)(Object(r.a)({},t.data),{results:n.data.results.concat(t.data.results)})})})):n}))},y=function(t,e,n,r){return t(e.restUrl+"/community/users/"+n+"/provisionedListings",{query:{f:"json",num:100,start:r||1}}).then((function(r){var i=o.Promise.all(r.data.provisionedListings.filter((function(t){return t.itemId})).map((function(n){return new o.Promise((function(r,o){t(e.restUrl+"/content/items/"+n.itemId,{method:"get",query:{f:"json"}}).then((function(t){var e=t.data;r(e)}),o)})).catch((function(t){return console.error(t)}))}))),a=r.data.provisionedListings.map((function(n){return A(t,e.restUrl+"/content/items/"+(n.id||n.itemId)+"/relatedItems?relationshipType=Listed2ImplicitlyListed&direction=forward").then((function(t){return t}),(function(t){}))}));return r.data.total>r.data.start+r.data.num?y(t,e,n,r.data.start+r.data.num).then((function(t){return o.Promise.all([i].concat(a)).then((function(e){return e[0].results.concat(v(e.slice(1))).concat(t)}))})):o.Promise.all([i].concat(a)).then((function(t){return t[0].filter((function(t){return void 0!==t})).concat(v(t.slice(1)))}))}))};function v(t){return t.reduce((function(t,e){return e&&e.relatedItems?t.concat(e.relatedItems.map((function(t){return t}))):t}),[])}var O=function(t,e,n){return A(t,e.restUrl+"/community/users/"+(n||e.user.username))},h=function(t,e,n){return A(t,e.restUrl+"/content/users/"+(n||e.user.username),{num:1})},m=function(t,e,n){return A(t,e.restUrl+"/content/groups/"+n)},j=function(t,e,n){return A(t,e.restUrl+"/community/groups",n)},_=function(t,e){return A(t,e.restUrl+"/portals/self/settings")},S=function(t,e){return A(t,e.restUrl+"/portals/self/trustedOrgs",{num:100})};function A(t,e,n){return t(e,{query:Object(r.a)({f:"json"},n)}).then((function(t){return t.data}))}function w(t,e){void 0===e&&(e=100);for(var n=[],r=0;r<Math.ceil(t.length/e);r++){var o=r*e,i=(r+1)*e;n.push(t.slice(o,i))}return n.filter((function(t){return t.length>0}))}function R(t){var e=t.itemIds,n=t.portal,r=t.request,i=t.groupIds,a=n.restUrl+"/content/itemsgroups";return new o.Promise((function(t,n){r(a,{method:"get",query:{f:"json",items:e,groups:i}}).then((function(e){var n=e.data;t(n)}),n)}))}var I=function(t,e){return void 0===e&&(e=","),t.map((function(t){return t.id})).join(e)}},326:function(t,e,n){(function(t,n){var r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a="[object Map]",c="[object Set]",u=/\w*$/,s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,f={};f[r]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object DataView]"]=f["[object Boolean]"]=f["[object Date]"]=f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f[a]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f[c]=f["[object String]"]=f["[object Symbol]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Error]"]=f[o]=f["[object WeakMap]"]=!1;var p="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,b=p||d||Function("return this")(),g=e&&!e.nodeType&&e,y=g&&"object"==typeof n&&n&&!n.nodeType&&n,v=y&&y.exports===g;function O(t,e){return t.set(e[0],e[1]),t}function h(t,e){return t.add(e),t}function m(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function j(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function _(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function S(t,e){return function(n){return t(e(n))}}function A(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var w,R=Array.prototype,I=Function.prototype,T=Object.prototype,E=b["__core-js_shared__"],k=(w=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",P=I.toString,L=T.hasOwnProperty,C=T.toString,D=RegExp("^"+P.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=v?b.Buffer:void 0,U=b.Symbol,F=b.Uint8Array,M=S(Object.getPrototypeOf,Object),N=Object.create,G=T.propertyIsEnumerable,W=R.splice,q=Object.getOwnPropertySymbols,B=x?x.isBuffer:void 0,V=S(Object.keys,Object),z=yt(b,"DataView"),H=yt(b,"Map"),K=yt(b,"Promise"),Q=yt(b,"Set"),$=yt(b,"WeakMap"),J=yt(Object,"create"),Y=jt(z),X=jt(H),Z=jt(K),tt=jt(Q),et=jt($),nt=U?U.prototype:void 0,rt=nt?nt.valueOf:void 0;function ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function it(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function at(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ct(t){this.__data__=new it(t)}function ut(t,e){var n=St(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&At(t)}(t)&&L.call(t,"callee")&&(!G.call(t,"callee")||C.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var a in t)!e&&!L.call(t,a)||i&&("length"==a||ht(a,o))||n.push(a);return n}function st(t,e,n){var r=t[e];L.call(t,e)&&_t(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function lt(t,e){for(var n=t.length;n--;)if(_t(t[n][0],e))return n;return-1}function ft(t,e,n,s,l,p,d){var b;if(s&&(b=p?s(t,l,p,d):s(t)),void 0!==b)return b;if(!It(t))return t;var g=St(t);if(g){if(b=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&L.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,b)}else{var y=Ot(t),v=y==o||y==i;if(wt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if("[object Object]"==y||y==r||v&&!p){if(j(t))return p?t:{};if(b=function(t){return"function"!=typeof t.constructor||mt(t)?{}:(e=M(t),It(e)?N(e):{});var e}(v?{}:t),!e)return function(t,e){return bt(t,vt(t),e)}(t,function(t,e){return t&&bt(e,Tt(e),t)}(b,t))}else{if(!f[y])return p?t:{};b=function(t,e,n,r){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return dt(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var n=e?dt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?dt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case a:return function(t,e,n){return m(e?n(_(t),!0):_(t),O,new t.constructor)}(t,r,n);case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,u.exec(t));return e.lastIndex=t.lastIndex,e}(t);case c:return function(t,e,n){return m(e?n(A(t),!0):A(t),h,new t.constructor)}(t,r,n);case"[object Symbol]":return i=t,rt?Object(rt.call(i)):{}}var i}(t,y,ft,e)}}d||(d=new ct);var S=d.get(t);if(S)return S;if(d.set(t,b),!g)var w=n?function(t){return function(t,e,n){var r=e(t);return St(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Tt,vt)}(t):Tt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(w||t,(function(r,o){w&&(r=t[o=r]),st(b,o,ft(r,e,n,s,o,t,d))})),b}function pt(t){return!(!It(t)||(e=t,k&&k in e))&&(Rt(t)||j(t)?D:s).test(jt(t));var e}function dt(t){var e=new t.constructor(t.byteLength);return new F(e).set(new F(t)),e}function bt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;st(n,a,void 0===c?t[a]:c)}return n}function gt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function yt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return pt(n)?n:void 0}ot.prototype.clear=function(){this.__data__=J?J(null):{}},ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ot.prototype.get=function(t){var e=this.__data__;if(J){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return L.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:L.call(e,t)},ot.prototype.set=function(t,e){return this.__data__[t]=J&&void 0===e?"__lodash_hash_undefined__":e,this},it.prototype.clear=function(){this.__data__=[]},it.prototype.delete=function(t){var e=this.__data__,n=lt(e,t);return!(n<0)&&(n==e.length-1?e.pop():W.call(e,n,1),!0)},it.prototype.get=function(t){var e=this.__data__,n=lt(e,t);return n<0?void 0:e[n][1]},it.prototype.has=function(t){return lt(this.__data__,t)>-1},it.prototype.set=function(t,e){var n=this.__data__,r=lt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},at.prototype.clear=function(){this.__data__={hash:new ot,map:new(H||it),string:new ot}},at.prototype.delete=function(t){return gt(this,t).delete(t)},at.prototype.get=function(t){return gt(this,t).get(t)},at.prototype.has=function(t){return gt(this,t).has(t)},at.prototype.set=function(t,e){return gt(this,t).set(t,e),this},ct.prototype.clear=function(){this.__data__=new it},ct.prototype.delete=function(t){return this.__data__.delete(t)},ct.prototype.get=function(t){return this.__data__.get(t)},ct.prototype.has=function(t){return this.__data__.has(t)},ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof it){var r=n.__data__;if(!H||r.length<199)return r.push([t,e]),this;n=this.__data__=new at(r)}return n.set(t,e),this};var vt=q?S(q,Object):function(){return[]},Ot=function(t){return C.call(t)};function ht(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||l.test(t))&&t>-1&&t%1==0&&t<e}function mt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}function jt(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function _t(t,e){return t===e||t!=t&&e!=e}(z&&"[object DataView]"!=Ot(new z(new ArrayBuffer(1)))||H&&Ot(new H)!=a||K&&"[object Promise]"!=Ot(K.resolve())||Q&&Ot(new Q)!=c||$&&"[object WeakMap]"!=Ot(new $))&&(Ot=function(t){var e=C.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?jt(n):void 0;if(r)switch(r){case Y:return"[object DataView]";case X:return a;case Z:return"[object Promise]";case tt:return c;case et:return"[object WeakMap]"}return e});var St=Array.isArray;function At(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Rt(t)}var wt=B||function(){return!1};function Rt(t){var e=It(t)?C.call(t):"";return e==o||e==i}function It(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Tt(t){return At(t)?ut(t):function(t){if(!mt(t))return V(t);var e=[];for(var n in Object(t))L.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return ft(t,!0,!0)}}).call(this,n(164),n(356)(t))},346:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(123);function o(t){var e,n=Object(r.a)(t);return!0===(null===(e=n.portalProperties)||void 0===e?void 0:e.semanticSearchEnabled)||n.portalUser&&!n.portalUser.orgId}},347:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(279),o="VIEW_ITEM_DETAILS",i=function(t){return function(e){e({type:o,payload:t}),e(Object(r.c)(t))}}},356:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},36:function(t,n){t.exports=e},375:function(t,e,n){(function(t,n){var r=/^\[object .+?Constructor\]$/,o=/^(?:0|[1-9]\d*)$/,i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var a="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=a||c||Function("return this")(),s=e&&!e.nodeType&&e,l=s&&"object"==typeof n&&n&&!n.nodeType&&n,f=l&&l.exports===s,p=f&&a.process,d=function(){try{var t=l&&l.require&&l.require("util").types;return t||p&&p.binding&&p.binding("util")}catch(t){}}(),b=d&&d.isTypedArray;function g(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var y,v,O,h=Array.prototype,m=Function.prototype,j=Object.prototype,_=u["__core-js_shared__"],S=m.toString,A=j.hasOwnProperty,w=(y=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",R=j.toString,I=S.call(Object),T=RegExp("^"+S.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=f?u.Buffer:void 0,k=u.Symbol,P=u.Uint8Array,L=E?E.allocUnsafe:void 0,C=(v=Object.getPrototypeOf,O=Object,function(t){return v(O(t))}),D=Object.create,x=j.propertyIsEnumerable,U=h.splice,F=k?k.toStringTag:void 0,M=function(){try{var t=st(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),N=E?E.isBuffer:void 0,G=Math.max,W=Date.now,q=st(u,"Map"),B=st(Object,"create"),V=function(){function t(){}return function(e){if(!jt(e))return{};if(D)return D(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function H(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function K(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Q(t){var e=this.__data__=new H(t);this.size=e.size}function $(t,e){var n=yt(t),r=!n&&gt(t),o=!n&&!r&&Ot(t),i=!n&&!r&&!o&&St(t),a=n||r||o||i,c=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=c.length;for(var s in t)!e&&!A.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||lt(s,u))||c.push(s);return c}function J(t,e,n){(void 0!==n&&!bt(t[e],n)||void 0===n&&!(e in t))&&Z(t,e,n)}function Y(t,e,n){var r=t[e];A.call(t,e)&&bt(r,n)&&(void 0!==n||e in t)||Z(t,e,n)}function X(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}function Z(t,e,n){"__proto__"==e&&M?M(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}z.prototype.clear=function(){this.__data__=B?B(null):{},this.size=0},z.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},z.prototype.get=function(t){var e=this.__data__;if(B){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return A.call(e,t)?e[t]:void 0},z.prototype.has=function(t){var e=this.__data__;return B?void 0!==e[t]:A.call(e,t)},z.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=B&&void 0===e?"__lodash_hash_undefined__":e,this},H.prototype.clear=function(){this.__data__=[],this.size=0},H.prototype.delete=function(t){var e=this.__data__,n=X(e,t);return!(n<0)&&(n==e.length-1?e.pop():U.call(e,n,1),--this.size,!0)},H.prototype.get=function(t){var e=this.__data__,n=X(e,t);return n<0?void 0:e[n][1]},H.prototype.has=function(t){return X(this.__data__,t)>-1},H.prototype.set=function(t,e){var n=this.__data__,r=X(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new z,map:new(q||H),string:new z}},K.prototype.delete=function(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e},K.prototype.get=function(t){return ut(this,t).get(t)},K.prototype.has=function(t){return ut(this,t).has(t)},K.prototype.set=function(t,e){var n=ut(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new H,this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Q.prototype.get=function(t){return this.__data__.get(t)},Q.prototype.has=function(t){return this.__data__.has(t)},Q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof H){var r=n.__data__;if(!q||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(t,e),this.size=n.size,this};var tt,et=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var c=i[tt?a:++r];if(!1===e(o[c],c,o))break}return t};function nt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?function(t){var e=A.call(t,F),n=t[F];try{t[F]=void 0;var r=!0}catch(t){}var o=R.call(t);r&&(e?t[F]=n:delete t[F]);return o}(t):function(t){return R.call(t)}(t)}function rt(t){return _t(t)&&"[object Arguments]"==nt(t)}function ot(t){return!(!jt(t)||function(t){return!!w&&w in t}(t))&&(ht(t)?T:r).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function it(t){if(!jt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=ft(t),n=[];for(var r in t)("constructor"!=r||!e&&A.call(t,r))&&n.push(r);return n}function at(t,e,n,r,o){t!==e&&et(e,(function(i,a){if(o||(o=new Q),jt(i))!function(t,e,n,r,o,i,a){var c=pt(t,n),u=pt(e,n),s=a.get(u);if(s)return void J(t,n,s);var l=i?i(c,u,n+"",t,e,a):void 0,f=void 0===l;if(f){var p=yt(u),d=!p&&Ot(u),b=!p&&!d&&St(u);l=u,p||d||b?yt(c)?l=c:_t(h=c)&&vt(h)?l=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(c):d?(f=!1,l=function(t,e){if(e)return t.slice();var n=t.length,r=L?L(n):new t.constructor(n);return t.copy(r),r}(u,!0)):b?(f=!1,g=u,y=!0?(v=g.buffer,O=new v.constructor(v.byteLength),new P(O).set(new P(v)),O):g.buffer,l=new g.constructor(y,g.byteOffset,g.length)):l=[]:function(t){if(!_t(t)||"[object Object]"!=nt(t))return!1;var e=C(t);if(null===e)return!0;var n=A.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==I}(u)||gt(u)?(l=c,gt(c)?l=function(t){return function(t,e,n,r){var o=!n;n||(n={});var i=-1,a=e.length;for(;++i<a;){var c=e[i],u=r?r(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),o?Z(n,c,u):Y(n,c,u)}return n}(t,At(t))}(c):jt(c)&&!ht(c)||(l=function(t){return"function"!=typeof t.constructor||ft(t)?{}:V(C(t))}(u))):f=!1}var g,y,v,O;var h;f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u));J(t,n,l)}(t,e,a,n,at,r,o);else{var c=r?r(pt(t,a),i,a+"",t,e,o):void 0;void 0===c&&(c=i),J(t,a,c)}}),At)}function ct(t,e){return dt(function(t,e,n){return e=G(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=G(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),g(t,this,c)}}(t,e,It),t+"")}function ut(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function st(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ot(n)?n:void 0}function lt(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}function ft(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||j)}function pt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var dt=function(t){var e=0,n=0;return function(){var r=W(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(M?function(t,e){return M(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:It);function bt(t,e){return t===e||t!=t&&e!=e}var gt=rt(function(){return arguments}())?rt:function(t){return _t(t)&&A.call(t,"callee")&&!x.call(t,"callee")},yt=Array.isArray;function vt(t){return null!=t&&mt(t.length)&&!ht(t)}var Ot=N||function(){return!1};function ht(t){if(!jt(t))return!1;var e=nt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function mt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function jt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function _t(t){return null!=t&&"object"==typeof t}var St=b?function(t){return function(e){return t(e)}}(b):function(t){return _t(t)&&mt(t.length)&&!!i[nt(t)]};function At(t){return vt(t)?$(t,!0):it(t)}var wt,Rt=(wt=function(t,e,n,r){at(t,e,n,r)},ct((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=wt.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!jt(n))return!1;var r=typeof e;return!!("number"==r?vt(n)&&lt(e,n.length):"string"==r&&e in n)&&bt(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&wt(t,a,n,o)}return t})));function It(t){return t}n.exports=Rt}).call(this,n(164),n(356)(t))},386:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),o=n(16),i=Object(o.a)((function(t,e){return t?Object(r.g)(Object(r.g)([],e),["(group:"+t.id+")"]):e}))},387:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),o=n(16),i=Object(o.a)((function(t,e,n){if(t)switch(t.value){case"authoritative":return e&&e.orgId&&!e.portal.isPortal?Object(r.g)(Object(r.g)([],n),["((contentstatus:org_authoritative orgid:"+e.orgId+") OR contentstatus:public_authoritative)"]):e&&e.orgId&&e.portal.isPortal?Object(r.g)(Object(r.g)([],n),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(r.g)(Object(r.g)([],n),["(contentstatus:public_authoritative)"]);case"deprecated":return Object(r.g)(Object(r.g)([],n),["(contentstatus:deprecated)"]);default:return n}return n}))},388:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),o=n(16),i=Object(o.a)((function(t,e){return t?Object(r.g)(Object(r.g)([],e),["(access:"+t.value+")"]):e}))},389:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),o=n(16),i=Object(o.a)((function(t,e){if(t){var n=function(t){for(var e,n=0,r=Object.keys(t);n<r.length;n++){var o=t[r[n]];if(o.selected){e=o.items;break}var i=o.participants.filter((function(t){return t.selected}));if(i.length>0){e=i[0].items;break}}return e}(t);if(n){var o=n.join(" OR ");return Object(r.g)(Object(r.g)([],e),["id:("+o+")"])}}return e}))},390:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(51),o=n.n(r),i=n(32),a=function(t,e,n,r){void 0===r&&(r="en");var a,c,u,s,l=new o.a,f=(null==e?void 0:e.isPortal)?{sortField:"title",sortOrder:"asc"}:{};return Object(i.e)(t,e,n.livingAtlasGroupQuery,f).then((function(n){n.results[0]&&n.results[0].id?(a=n.results[0].id,Object(i.f)(t,e,a).then(p,O)):O("The living atlas group could not be found.")}),O),l;function p(o){c=o.categorySchema[0].source.split(".")[1],Object(i.e)(t,e,n.contentCategorySetsGroupQuery).then(d,O),function(t,e,n){return Object(i.v)(t,e.restUrl+"/portals/regions",{culture:n})}(t,e,r).then(y,O)}function d(n){n.results[0]?function(t,e,n,r){return Object(i.v)(t,e.restUrl+"/content/groups/"+n+"/search",{q:"typekeywords: "+r})}(t,e,n.results[0].id,c).then(b,O):O("The content category sets group could not be found.")}function b(n){1===n.results.length&&n.results[0]?Object(i.h)(t,e,n.results[0].id).then(g,O):O("The item containing the living atlas categories could not be determined.")}function g(t){u=t.categorySchema[0],n.isPortal&&s?v([u]):s&&v([u,s])}function y(t){var e=t.map((function(t){return{displayName:t.localizedName,title:t.region}})).sort((function(t,e){return"wo"===t.title.toLowerCase()?-1:t.displayName.localeCompare(e.displayName)}));s={categories:e,description:"2.0",displayName:"Regions",title:"region"},n.isPortal&&u?v([u]):u&&v([u,s])}function v(t){l.resolve({schema:t,id:a})}function O(t){l.reject(t)}}},397:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r="CHANGE_SEARCH_STRING",o=function(t){return{type:r,payload:t}}},398:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var r="SHOW_EMPTY_RESULTS",o="CHANGE_RESULT_DISPLAY"},43:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return S})),n.d(e,"d",(function(){return A})),n.d(e,"f",(function(){return w})),n.d(e,"e",(function(){return R})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return T})),n.d(e,"i",(function(){return E}));var r=n(0),o=n(97),i=n(158),a=n(209),c=n(63),u=n.n(c),s=n(78),l=n(315),f=n(316),p=n(167),d=n(258),b=n(317),g=n(256),y=n(84),v=n(318),O=n(123),h=n(249),m=n(192),j="LOADING_CONTENT",_="LOADING_CONTENT_SUCCESS",S="LOADING_CONTENT_FAILED",A="LOADING_NEXT",w="LOADING_NEXT_SUCCESS",R="LOADING_NEXT_FAILED",I="SUBSCRIPTION_CONTENT_SUCCESS",T=function(t){return function(e,n){var r=n(),o=r.settings.utils.request,c=r.parameters.nextQuery.nextStart;e({type:A});var u=Object(i.b)({num:t,start:c},r);o(u[0],u[1]).then(Object(a.a)(r),(function(t){return e(C(t))})).then((function(t){return e(L(r,t))}),(function(t){return e(C(t))}))}},E=function(t){return function(e,n){var r=n();e({type:j}),r.settings.config.clearSelectionBetweenSearches&&e({type:o.b}),e(k(t))}},k=function(t){return function(e,n){var r=n(),o=r.parameters.section,i=r.settings.utils.portal.user,a=!!i,c=r.settings.utils.portal,s=c.isPortal,v=i&&"org_admin"===i.role,O=i&&i.privileges&&i.privileges.indexOf("portal:admin:manageCollaborations")>-1,m=i&&!s&&i.orgId&&c.subscriptionInfo&&["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(c.subscriptionInfo.type)>-1;e(Object(l.b)()).then((function(c){"livingAtlas"===o||"Living Atlas"===o?e(Object(f.d)(c)).then((function(){return P(e,n(),t)}),(function(){return e({type:S,payload:"Couldn't load the living atlas info."})})):"myContent"!==o&&"myGroups"!==o&&"myFavorites"!==o&&"subscription"!==o||!a?"myOrganization"===o&&a?u()([e(Object(d.d)())].concat(v&&O&&!m?[e(Object(b.a)(e,n()))]:[])).then((function(){return P(e,n(),t)}),(function(){return e({type:S,payload:"Couldn't load the organization info."})})):Object(y.e)(r.settings.config.customSections,o)?e(Object(g.e)()).then((function(){return P(e,n(),t)}),(function(){return e({type:S,payload:"Couldn't load the custom section info."})})):P(e,r,t):u()([e(Object(p.l)())].concat(a&&i.orgId?[e(Object(d.d)())]:[]).concat(v&&O&&!m?[e(Object(b.a)(e,n()))]:[])).then((function(){return"subscription"===o?e(Object(h.d)()).then((function(){return e({type:I,payload:n().results.provisionedContent.content})}),(function(){return e({type:S,payload:"Couldn't load provisioned content info."})})):P(e,n(),t)}),(function(){return e({type:S,payload:"Couldn't load the user info."})}))}))}};function P(t,e,n){var o,c,l=e.settings.utils.request,f=Object(i.b)({},e),p=l(f[0],f[1]).then(Object(a.a)(e),(function(e){return t({type:S,payload:e})}));if(n){var d=Object(i.a)(e,["access","contentstatus","categories"]);o=l(d[0],d[1]);var b=e.settings.config.customSections,g=e.parameters.section;if(Object(v.a)(g)||Object(y.e)(b,g)&&Object(v.a)(Object(y.b)(b,g))){var h=Object(i.c)(e,e.ui.tagsFilter.filterString);c=l(h[0],h[1])}}var j=[p,o,c].filter((function(t){return t}));u()(j).then((function(n){t(function(t,e){var n,o,i=e[0],a=e[1],c=e[2],u=Object(O.a)(t),l=t.settings.utils.iconDir;return{type:_,payload:{search:Object(r.a)(Object(r.a)({},i.data),{results:i.data.results.map((function(t){return Object(s.a)(u,l,t)}))}),aggregations:(null===(n=null==a?void 0:a.data)||void 0===n?void 0:n.aggregations)?{counts:Object(r.g)([],a.data.aggregations.counts).concat((null===(o=null==c?void 0:c.data)||void 0===o?void 0:o.aggregations)?Object(r.g)([],c.data.aggregations.counts):[]),countInfo:{section:t.parameters.section,group:t.parameters.filter.group,custom:t.settings.config.customSections.filter((function(e){return e.name===t.parameters.section}))[0]}}:void 0}}}(e,n)),t(m.e)}),(function(e){return t({type:S,payload:e})}))}var L=function(t,e){var n=t.settings.utils.iconDir,o=Object(O.a)(t);return{type:w,payload:Object(r.a)(Object(r.a)({},e.data),{results:e.data.results.map((function(t){return Object(s.a)(o,n,t)}))})}},C=function(t){return{type:R,payload:t}}},45:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"n",(function(){return o})),n.d(e,"i",(function(){return i})),n.d(e,"j",(function(){return a})),n.d(e,"m",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"h",(function(){return s})),n.d(e,"l",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"p",(function(){return p})),n.d(e,"g",(function(){return d})),n.d(e,"e",(function(){return b})),n.d(e,"q",(function(){return g})),n.d(e,"k",(function(){return y})),n.d(e,"o",(function(){return v})),n.d(e,"r",(function(){return O})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"u",(function(){return j})),n.d(e,"E",(function(){return _})),n.d(e,"y",(function(){return S})),n.d(e,"D",(function(){return A})),n.d(e,"z",(function(){return w})),n.d(e,"A",(function(){return R})),n.d(e,"w",(function(){return I})),n.d(e,"C",(function(){return T})),n.d(e,"t",(function(){return E})),n.d(e,"G",(function(){return k})),n.d(e,"v",(function(){return P})),n.d(e,"x",(function(){return L})),n.d(e,"H",(function(){return C})),n.d(e,"B",(function(){return D})),n.d(e,"F",(function(){return x})),n.d(e,"I",(function(){return U})),n.d(e,"s",(function(){return F}));var r="UPDATE_CUSTOM_FILTER",o="UPDATE_ORG_GROUP_FILTER",i="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",a="UPDATE_LIVING_ATLAS_REGION_FILTER",c="UPDATE_ORG_CATEGORIES_FILTER",u="UPDATE_GROUP_CATEGORIES_FILTER",s="UPDATE_ITEM_TYPE_FILTER",l="UPDATE_MODIFIED_FILTER",f="UPDATE_CREATED_FILTER",p="UPDATE_SHARED_FILTER",d="UPDATE_GROUP_FILTER",b="UPDATE_FOLDER_FILTER",g="UPDATE_STATUS_FILTER",y="UPDATE_MAP_AREA_FILTER",v="UPDATE_SEARCH_ORG_FILTER",O="UPDATE_TAGS_FILTER",h="UPDATE_COLLABORATIONS_FILTER",m="CLEAR_ALL_FILTERS",j=function(t,e){return{type:r,payload:{index:t,filter:e}}},_=function(t){return{type:o,payload:t}},S=function(t){return{type:s,payload:t}},A=function(t){return{type:c,payload:t}},w=function(t){return{type:i,payload:t}},R=function(t){return{type:a,payload:t}},I=function(t){return{type:u,payload:t}},T=function(t,e){return{type:l,payload:{section:t,modified:e}}},E=function(t,e){return{type:f,payload:{section:t,created:e}}},k=function(t){return{type:p,payload:t}},P=function(t){return{type:b,payload:t}},L=function(t){return{type:d,payload:t}},C=function(t){return{type:g,payload:t}},D=function(t){return{type:y,payload:t}},x=function(t){return{type:v,payload:t}},U=function(t){return{type:O,payload:t}},F=function(t){return{type:h,payload:t}}},51:function(t,e){t.exports=n},55:function(t,e,n){"use strict";n.d(e,"h",(function(){return u})),n.d(e,"l",(function(){return s})),n.d(e,"k",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return p})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return m}));var r,o=n(59),i=n(145),a=n(6),c=n(56);!function(t){t.user="org_user",t.accountUser="account_user",t.publisher="org_publisher",t.accountPublisher="account_publisher",t.admin="org_admin",t.accountAdmin="account_admin",t.viewer="iAAAAAAAAAAAAAAA",t.dataEditor="iBBBBBBBBBBBBBBB"}(r||(r={}));var u=function(t){var e=t.items,n=t.user,r=t.portal,o=e[0],i=Object(c.c)(o,n),a=p(n),u=v(n,r),s=!!n.orgId&&e.every((function(t){return t.portal.id===n.orgId})),f=Object(c.a)(o,n)&&function(t){return(t.privileges||[]).indexOf("portal:admin:updateItems")>-1}(n)&&!a&&(function(t,e){return!l(e)||g(t)||b(t)||e.canSharePublic&&y(t)}(n,r)||v(n,r));return i||f||s&&u},s=function(t,e){return Object(o.a)(Object(i.a)(t))(e)};function l(t){return!(!t.urlKey||!t.customBaseUrl)}function f(t){return t.role===r.admin||t.role===r.accountAdmin}function p(t){return Object(a.a)(t.roleId)&&(t.roleId||"").length>0}function d(t){return!p(t)||p(t)&&function(t){return(t.privileges||[]).indexOf("portal:admin:viewItems")>-1}(t)}function b(t){return(t.privileges||[]).indexOf("portal:user:shareToOrg")>-1}function g(t){return(t.privileges||[]).indexOf("portal:user:shareToGroup")>-1}function y(t){return(t.privileges||[]).indexOf("portal:user:shareToPublic")>-1}function v(t,e){return O(t)||h(t)||e.canSharePublic&&m(t)}function O(t){return(t.privileges||[]).indexOf("portal:admin:shareToGroup")>-1}function h(t){return(t.privileges||[]).indexOf("portal:admin:shareToOrg")>-1}function m(t){return(t.privileges||[]).indexOf("portal:admin:shareToPublic")>-1}},56:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n(6),o=n(55);function i(t,e){return(null==t?void 0:t.owner)===e.username}function a(t,e){return i(t,e)||function(t,e){if(Object(r.a)(t.isAdmin))return!!t.isAdmin;var n=t.owner,o="admin"===t.itemControl;return!(t.portal.isPortal&&!i(t,e)&&o&&n.indexOf("esri_")>-1&&["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(n)<0)&&o}(t,e)}function c(t,e){return a(t,e)||"update"===t.itemControl}var u=function(t){var e=t.user,n=t.items,r=t.portal;return Object(o.h)({items:n,user:e,portal:r})&&Object(o.g)(e)&&n[0].itemOwner||e}},59:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduceRight((function(t,e){return e(t)}),e)}}n.d(e,"a",(function(){return r}))},6:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l}));var r=n(0),o=n(16);function i(t){return 0===Object.keys(t).length&&t.constructor===Object}function a(t){return null!=t}var c=Object(o.a)((function(t,e){var n=Object(r.a)({},e);return delete n[t],n}));function u(t,e){return s.apply(null,arguments)}var s=Object(o.a)((function(t,e){return Object.keys(e).reduce((function(n,r){return n[r]=t(e[r],r,e),n}),{})}));function l(t,e){return f.apply(null,arguments)}var f=Object(o.a)((function(t,e){return Object.keys(e).reduce((function(n,r){return t(e[r],r,e)&&(n[r]=e[r]),n}),{})}))},63:function(t,e){t.exports=r},696:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(0),o=n(223),i=n(315),a=n(281),c=n(397),u=n(282),s=n(398),l=n(285),f=n(45),p=n(97),d=n(347),b=n(346),g=n(175);function y(t,e){var n,y,v="item browser",O=e.settings.utils.telemetry,h={pageName:e.settings.utils.appName||window.location.href,facetValue:{myContent:"my content",myFavorites:"my fav",myGroups:"my groups",myOrganization:"my org",livingAtlas:"living atlas",all:"arcgis online"}[e.parameters.section]||"other"};if(t.type===i.a)return(null==O?void 0:O.getWorkflow(v))&&O.cancelWorkflow(v),void(null==O||O.startWorkflow(v,h));var m=null==O?void 0:O.getWorkflow(v);if(O&&m)switch(t.type){case a.a:case c.a:O.stepWorkflow(v,"search",Object(r.a)(Object(r.a)({},h),{details:(null===(n=e.parameters.searchString)||void 0===n?void 0:n.current)||"",attribute:Object(b.a)(e)?"enriched":void 0,searchQuery:Object(g.b)(e)}));break;case u.a:O.stepWorkflow(v,"sort",Object(r.a)(Object(r.a)({},h),{details:t.payload}));break;case s.a:var j="list"===e.ui.resultPanel.display?"list view":"compact view";O.stepWorkflow(v,j,Object(r.a)({},h));break;case l.c:O.stepWorkflow(v,"pagination",Object(r.a)(Object(r.a)({},h),{details:t.payload}));break;case f.e:case f.h:case f.l:case f.c:case f.r:case f.p:O.stepWorkflow(v,"filter",Object(r.a)(Object(r.a)({},h),{details:t.type.split("_").join(" ").toLowerCase()}));break;case p.f:O.stepWorkflow(v,"select all on page",Object(r.a)({},h));break;case d.a:O.stepWorkflow(v,"card action",Object(r.a)(Object(r.a)({},h),{details:"view item details"}));break;case o.SELECT_ITEM:O.stepWorkflow(v,"card action",Object(r.a)(Object(r.a)({},h),{details:"add"}));break;case o.DESELECT_ITEM:O.stepWorkflow(v,"card action",Object(r.a)(Object(r.a)({},h),{details:"remove"}));break;case p.k:var _=e.results.selectedItems[t.payload.id]?"select":"deselect";O.stepWorkflow(v,"card action",Object(r.a)(Object(r.a)({},h),{details:_}));break;case p.d:O.endWorkflow(v,Object(r.a)(Object(r.a)({},h),{count:null===(y=t.payload)||void 0===y?void 0:y.length}));break;case p.a:O.cancelWorkflow(v,Object(r.a)({},h))}}},78:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f}));var r=n(59),o=n(6),i=n(120),a=n(119),c=n(113),u=n(118),s=n(117),l=function(t,e,n){return Object(r.a)(Object(s.a)(t),Object(u.a)(t),Object(c.a)(e),Object(a.a)(t),Object(i.a)(t))(n)},f=Object(r.a)(Object(o.e)("patchedDescription"),Object(o.e)("thumbURI"),Object(o.e)("iconURI"),Object(o.e)("displayName"),Object(o.e)("badges"))},84:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return l}));var r=n(16),o=function(t){return t.filters?t.filters.filter((function(t){return"object"==typeof t&&("group"===t.type||"org"===t.type)})):[]},i=Object(r.a)((function(t,e){if(e.filters)return e.filters.reduce((function(e,n){return"object"==typeof n&&n.type===t?n:e}),void 0)})),a=i("group"),c=i("org");function u(t){return!(!a(t)&&!c(t))}function s(t,e){return t.filter((function(t){return t.name===e}))[0]}function l(t,e){return!!s(t,e)}},96:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return s}));var r=n(16),o=function(t,e,n){return n.indexOf(t)===e},i=Object(r.a)((function(t,e){var n={};return e.filter((function(e){return!n[e[t]]&&(n[e[t]]=!0,!0)}))}));function a(t,e){if(null==t?void 0:t.length)for(var n=void 0,r=0;r<t.length;r++)if(e(n=t[r]))return n}function c(t){return t.filter((function(t){return t.length>0}))}var u=function(t,e){return t.length===e.length&&t.reduce((function(t,n){return t&&e.indexOf(n)>-1}),!0)};function s(t,e,n){var r=[];return e.forEach((function(e){(n?e[n].toLowerCase()===t.toLowerCase():e.toLowerCase()===t.toLowerCase())?r.unshift(e):r.push(e)})),r}},961:function(t,e,n){"use strict";n.r(e),n.d(e,"ItemBrowserWrapper",(function(){return g}));var r=n(0),o=n(223),i=n.n(o),a=n(17),c=n(375),u=n.n(c),s=n(326),l=n.n(s),f=n(32),p=n(113),d=n(97),b=n(696);n.d(e,"changeSearchSection",(function(){return o.changeSearchSection})),n.d(e,"initialState",(function(){return o.initialState})),n.d(e,"search",(function(){return o.search})),n.d(e,"updateExtent",(function(){return o.updateExtent})),n.d(e,"viewItemDetails",(function(){return o.viewItemDetails}));var g=function(){function t(t,e){var n,c;this.options=e,this.listener=this.listener.bind(this),this.renderContainer=document.createElement("div"),this.renderContainer.style.width="100%",this.renderContainer.style.height="100%",this.renderContainer.id="item-browser-wrapper",t.appendChild(this.renderContainer);var s=l()(o.initialState),p=l()(e.initialState),d=u()(s,p,(function(t,e){if(Array.isArray(t)&&e)return e}));this.initialState=Object(r.a)(Object(r.a)({},d),{settings:Object(r.a)(Object(r.a)({},d.settings),{utils:{telemetry:e.telemetry,appName:e.appName,request:4===e.apiVersion?e.request:Object(f.u)(e.request),portal:4===e.apiVersion?e.portal:Object(r.a)(Object(r.a)({},e.portal),{restUrl:e.portal.portalUrl.slice(0,-1),credential:null===(n=e.portal.user)||void 0===n?void 0:n.credential}),iconDir:4===e.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons")}})});var g=e.middlewares||[];(null===(c=e.telemetry)||void 0===c?void 0:c.getWorkflow("item browser"))&&e.telemetry.cancelWorkflow("item browser"),this.store=a.applyMiddleware.apply(void 0,Object(r.g)([a.thunk,Object(a.addListener)(b.a),Object(a.addListener)(this.listener)],g))(a.createStore)(o.reducers,this.initialState),this.projector=Object(a.createProjector)(this.store,(function(t){return t(i.a,{key:"ib"})}),this.renderContainer),this.store.dispatch(Object(o.search)(!0)),this.handleInitiallySelectedItemsDfd()}return t.prototype.handleInitiallySelectedItemsDfd=function(){var t=this,e=this.getState().settings,n=e.config.initiallySelectedItemsDfd,o=e.utils.iconDir;n?n.then((function(e){var n=Object.keys(e).map((function(t){return Object(p.a)(o,Object(r.a)({},e[t]))})).reduce((function(t,e){var n;return Object(r.a)(Object(r.a)({},t),((n={})[e.id]=e,n))}),{});t.store.dispatch(Object(d.p)(n))})):this.store.dispatch(Object(d.p)({}))},t.prototype.shimmedRequest=function(t,e){var n,o=Object(r.a)({},e.query);return(null===(n=this.options.portal.user)||void 0===n?void 0:n.credential)&&t.indexOf(this.options.portal.restUrl)>-1&&(o.token=this.options.portal.user.credential.token),this.options.request({url:t,content:e.query},{usePost:"post"===e.method}).then((function(t){return{data:t}}))},t.prototype.dispatch=function(t){var e;null===(e=this.store)||void 0===e||e.dispatch(t)},t.prototype.getState=function(){var t;return(null===(t=this.store)||void 0===t?void 0:t.getState())||this.initialState},t.prototype.listener=function(t,e){var n,r;null===(r=null===(n=this.options)||void 0===n?void 0:n.listener)||void 0===r||r.call(n,t,e)},t}()},97:function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"k",(function(){return a})),n.d(e,"j",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"f",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return b})),n.d(e,"a",(function(){return g})),n.d(e,"r",(function(){return v})),n.d(e,"n",(function(){return h})),n.d(e,"s",(function(){return m})),n.d(e,"o",(function(){return j})),n.d(e,"q",(function(){return S})),n.d(e,"p",(function(){return A})),n.d(e,"l",(function(){return w})),n.d(e,"m",(function(){return R}));var r=n(78),o=n(43),i="SELECT_ITEM",a="TOGGLE_ITEM",c="SELECT_ITEM_SINGLE",u="SELECT_ITEM_ASYNC",s="SELECT_ITEM_ASYNC_FAILED",l="DESELECT_ITEM",f="DESELECT_ALL",p="SELECT_ALL",d="SELECT_ALL_FROM_QUERY_SUCCESS",b="END_BULK_WORKFLOW",g="CANCEL_BULK_WORKFLOW",y=function(t){return{type:i,payload:t}},v=function(t){return function(e,n){var o=n();if(o.settings.config.asynchronousItemSelect){e(_(t));var i=o.settings.config.onSelect([Object(r.b)(t)]);(null==i?void 0:i.then)?i.then((function(){o.settings.config.singleItemSelect?e(O(t)):e(y(t))}),(function(){e({type:s,payload:t})})):console.error("If asynchronous item selection is enabled, the onSelect function in the item browser config must return a dojo deferred.")}else o.settings.config.singleItemSelect?(e(O(t)),o.settings.config.onSelect([Object(r.b)(t)])):(e(y(t)),o.settings.config.onSelect([Object(r.b)(t)]))}},O=function(t){return{type:c,payload:t}},h=function(t,e){var n=e();if(n.settings.config.disableInitiallySelectedItems){var r=n.results,o=r.selectedItems,i=r.initiallySelectedItems;Object.keys(o).map((function(t){return o[t]})).filter((function(t){return!i[t.id]})).forEach((function(e){t({type:l,payload:e})}))}else t({type:f})},m=function(t){return{type:a,payload:t}},j=function(t){return function(e,n){var o=n();e({type:l,payload:t}),o.settings.config.onDeselect([Object(r.b)(t)])}},_=function(t){return{type:u,payload:t}},S=function(){return function(t,e){var n=e();t({type:p,payload:n.ui.pagination.displayItems})}},A=function(t){return{type:d,payload:t}},w=function(t,e){var n=null==e?void 0:e();t({type:g}),null==n||n.settings.config.onBack()},R=function(t,e){var n=null==e?void 0:e();if(null==n?void 0:n.settings.config.onBulkAction){var r=n.settings.config.onBulkAction,i=n.results,a=i.selectedItems,c=i.initiallySelectedItems,u=Object.keys(c).map((function(t){return c[t]})),s=Object.keys(a).map((function(t){return a[t]})),l=u.filter((function(t){return!a[t.id]})),f=s.filter((function(t){return!c[t.id]}));t({type:o.a}),t({type:b,payload:f}),r({initiallySelectedItems:u,allSelectedItems:s,newlySelectedItems:f,deselectedItems:l})}}},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(0),o=function(t){return t?t.urlKey?location.protocol+"//"+t.urlKey+"."+t.customBaseUrl:location.protocol+"//"+t.portalHostname:""},i=function(t){return Object(r.a)(Object(r.a)({},t),{baseUrl:o(t)})}}})}));
//# sourceMappingURL=ItemBrowser.js.map