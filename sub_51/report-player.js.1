//>>built
/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
(function(l,a){var u=function(){return"undefined"!==typeof E&&"function"!==typeof E?E:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),x=function(){},w=function(e){for(var C in e)return 0;return 1},n={}.toString,m=function(e){return"[object Function]"==n.call(e)},b=function(e){return"[object String]"==n.call(e)},d=function(e){return"[object Array]"==n.call(e)},k=function(e,C){if(e)for(var M=0;M<e.length;)C(e[M++])},p=function(e,C){for(var M in C)e[M]=C[M];return e},r=function(e,
C){return p(Error(e),{src:"dojoLoader",info:C})},h=1,q=function(){return"_"+h++},t=function(e,C,M){return va(e,C,M,0,t)},E=u,T=E.document,Y=T&&T.createElement("DiV"),v=t.has=function(e){return m(L[e])?L[e]=L[e](E,T,Y):L[e]},L=v.cache=a.hasCache;m(l)&&(l=l(u));v.add=function(e,C,M,R){(void 0===L[e]||R)&&(L[e]=C);return M&&v(e)};v.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);v("host-webworker")&&(p(a.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),a.loaderPatch={injectUrl:function(e,C){try{importScripts(e),C()}catch(M){console.info("failed to load resource ("+e+")"),console.error(M)}}});for(var S in l.has)v.add(S,l.has[S],0,1);t.async=1;var V=v("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");t.eval=function(e,C){return V(e+"\r\n//# sourceURL\x3d"+C)};var y={},D=t.signal=function(e,C){e=y[e];k(e&&e.slice(0),function(M){M.apply(null,
d(C)?C:[C])})};S=t.on=function(e,C){var M=y[e]||(y[e]=[]);M.push(C);return{remove:function(){for(var R=0;R<M.length;R++)if(M[R]===C){M.splice(R,1);break}}}};var P=[],Z={},ha=[],F={},G=t.map={},N=[],O={},W="",ea={},fa={};u={};var z=0;if(!v("foreign-loader"))var K=function(e,C){C=!1!==C;var M,R;for(M in fa){var ca=fa[M];if(R=M.match(/^url:(.+)/))ea["url:"+Sa(R[1],e)]=ca;else if("*now"==M)var aa=ca;else"*noref"!=M&&(R=ka(M,e,!0),ea[R.mid]=ea["url:"+R.url]=ca)}aa&&aa(za(e));C&&(fa={})};var J=function(e){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(C){return"\\"+C})},U=function(e,C){C.splice(0,C.length);for(var M in e)C.push([M,e[M],new RegExp("^"+J(M)+"(/|$)"),M.length]);C.sort(function(R,ca){return ca[3]-R[3]});return C},X=function(e,C){k(e,function(M){C.push([b(M[0])?new RegExp("^"+J(M[0])+"$"):M[0],M[1]])})},da=function(e){var C=e.name;C||(C=e,e={name:C});e=p({main:"main"},e);e.location=e.location?e.location:C;e.packageMap&&(G[C]=e.packageMap);e.main.indexOf("./")||(e.main=e.main.substring(2));F[C]=e},na=[],la=function(e,C,M){for(var R in e){"waitSeconds"==
R&&(t.waitms=1E3*(e[R]||0));"cacheBust"==R&&(W=e[R]?b(e[R])?e[R]:(new Date).getTime()+"":"");if("baseUrl"==R||"combo"==R)t[R]=e[R];e[R]!==L&&(t.rawConfig[R]=e[R],"has"!=R&&v.add("config-"+R,e[R],0,C))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(R in e.has)v.add(R,e.has[R],0,C);k(e.packages,da);for(var ca in e.packagePaths)k(e.packagePaths[ca],function(aa){var oa=ca+"/"+aa;b(aa)&&(aa={name:aa});aa.location=oa;da(aa)});U(p(G,e.map),N);k(N,function(aa){aa[1]=U(aa[1],[]);"*"==
aa[0]&&(N.star=aa)});U(p(Z,e.paths),ha);X(e.aliases,P);if(!v("foreign-loader")){if(C)na.push({config:e.config});else for(R in e.config)C=xa(R,M),C.config=p(C.config||{},e.config[R]);e.cache&&(K(),fa=e.cache,K(0,!!e.cache["*noref"]))}D("config",[e,t.rawConfig])};if(v("dojo-cdn")){var ja=T.getElementsByTagName("script");var pa=0;for(var ma,ia,ta,qa;pa<ja.length;)if(ma=ja[pa++],(ta=ma.getAttribute("src"))&&(qa=ta.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ia=qa[3]||"",a.baseUrl=a.baseUrl||ia,z=ma),ta=ma.getAttribute("data-dojo-config")||
ma.getAttribute("djConfig"))u=t.eval("({ "+ta+" })","data-dojo-config"),z=ma}t.rawConfig={};la(a,1);v("dojo-cdn")&&((F.dojo.location=ia)&&(ia+="/"),F.dijit.location=ia+"../dijit/",F.dojox.location=ia+"../dojox/");la(l,1);la(u,1);if(!v("foreign-loader"))var ra=function(e){Ha(function(){k(e.deps,Ta)})},va=function(e,C,M,R,ca){var aa;if(b(e)){if((aa=xa(e,R,!0))&&aa.executed)return aa.result;throw r("undefinedModule",e);}d(e)||(la(e,0,R),e=C,C=M);if(d(e))if(e.length){M="require*"+q();for(var oa,Ba=[],
Ca=0;Ca<e.length;)oa=e[Ca++],Ba.push(xa(oa,R));aa=p(I("",M,0,""),{injected:2,deps:Ba,def:C||x,require:R?R.require:t,gc:1});O[aa.mid]=aa;ra(aa);var Ia=Da&&!0;Ha(function(){Ja(aa,Ia)});aa.executed||sa.push(aa);Ka()}else C&&C();return ca},za=function(e){if(!e)return t;var C=e.require;C||(C=function(M,R,ca){return va(M,R,ca,e,C)},e.require=p(C,t),C.module=e,C.toUrl=function(M){return Sa(M,e)},C.toAbsMid=function(M){return La(M,e)});return C},sa=[],f=[],A={},H=function(e){e.injected=1;A[e.mid]=1;e.url&&
(A[e.url]=e.pack||1);$a()},Q=function(e){e.injected=2;delete A[e.mid];e.url&&delete A[e.url];w(A)&&ab()},c=t.idle=function(){return!f.length&&w(A)&&!sa.length&&!Da};var g=function(e,C){if(C)for(var M=0;M<C.length;M++)if(C[M][2].test(e))return C[M];return 0},B=function(e){var C=[];for(e=e.replace(/\\/g,"/").split("/");e.length;){var M=e.shift();if(".."==M&&C.length&&".."!=R){C.pop();var R=C[C.length-1]}else"."!=M&&C.push(R=M)}return C.join("/")},I=function(e,C,M,R){return{pid:e,mid:C,pack:M,url:R,
executed:0,def:0}},ba=function(e,C,M,R,ca,aa,oa,Ba,Ca,Ia){var Aa,Ua,wa;var Ma=/^\./.test(e);if(/(^\/)|(:)|(\.js$)/.test(e)||Ma&&!C)return I(0,e,0,e);e=B(Ma?C.mid+"/../"+e:e);if(/^\./.test(e))throw r("irrationalPath",e);Ia||Ma||!aa.star||(wa=g(e,aa.star[1]));!wa&&C&&(wa=(wa=g(C.mid,aa))&&g(e,wa[1]));wa&&(e=wa[1]+e.substring(wa[3]));C=(qa=e.match(/^([^\/]+)(\/(.+))?$/))?qa[1]:"";(Aa=M[C])?e=C+"/"+(Ua=qa[3]||Aa.main):C="";var Na=0;k(Ba,function(Ea){var Va=e.match(Ea[0]);Va&&0<Va.length&&(Na=m(Ea[1])?
e.replace(Ea[0],Ea[1]):Ea[1])});if(Na)return ba(Na,0,M,R,ca,aa,oa,Ba,Ca);if(M=R[e])return Ca?I(M.pid,M.mid,M.pack,M.url):R[e];R=(wa=g(e,oa))?wa[1]+e.substring(wa[3]):C?("/"===Aa.location.slice(-1)?Aa.location.slice(0,-1):Aa.location)+"/"+Ua:e;/(^\/)|(:)/.test(R)||(R=ca+R);return I(C,e,Aa,B(R+".js"))},ka=function(e,C,M){return ba(e,C,F,O,t.baseUrl,N,ha,P,void 0,M)};if(!v("foreign-loader"))var ya=function(e,C,M){return e.normalize?e.normalize(C,function(R){return La(R,M)}):La(C,M)},ua=0,xa=function(e,
C,M){var R;if(R=e.match(/^(.+?)!(.*)$/)){var ca=xa(R[1],C,M);5!==ca.executed||ca.load||Oa(ca);ca.load?(R=ya(ca,R[2],C),e=ca.mid+"!"+(ca.dynamic?++ua+"!":"")+R):(R=R[2],e=ca.mid+"!"+ ++ua+"!waitingForPlugin");e={plugin:ca,mid:e,req:za(C),prid:R}}else e=ka(e,C);return O[e.mid]||!M&&(O[e.mid]=e)};var La=t.toAbsMid=function(e,C){return ka(e,C).mid},Sa=t.toUrl=function(e,C){C=ka(e+"/x",C);var M=C.url;return Wa(0===C.pid?e:M.substring(0,M.length-5))};if(!v("foreign-loader")){var Xa={injected:2,executed:5,
def:3,result:3};ia=function(e){return O[e]=p({mid:e},Xa)};var bb=ia("require"),cb=ia("exports"),db=ia("module"),Fa={},Pa=0,Oa=function(e){var C=e.result;e.dynamic=C.dynamic;e.normalize=C.normalize;e.load=C.load;return e},eb=function(e){var C={};k(e.loadQ,function(ca){var aa=ya(e,ca.prid,ca.req.module),oa=e.dynamic?ca.mid.replace(/waitingForPlugin$/,aa):e.mid+"!"+aa;aa=p(p({},ca),{mid:oa,prid:aa,injected:0});O[oa]&&O[oa].injected||Ya(O[oa]=aa);C[ca.mid]=O[oa];Q(ca);delete O[ca.mid]});e.loadQ=0;var M=
function(ca){for(var aa=ca.deps||[],oa=0;oa<aa.length;oa++)(ca=C[aa[oa].mid])&&(aa[oa]=ca)},R;for(R in O)M(O[R]);k(sa,M)},Qa=function(e){t.trace("loader-finish-exec",[e.mid]);e.executed=5;e.defOrder=Pa++;e.loadQ&&(Oa(e),eb(e));for(pa=0;pa<sa.length;)sa[pa]===e?sa.splice(pa,1):pa++;/^require\*/.test(e.mid)&&delete O[e.mid]},fb=[],Ja=function(e,C){if(4===e.executed)return t.trace("loader-circular-dependency",[fb.concat(e.mid).join("-\x3e")]),!e.def||C?Fa:e.cjs&&e.cjs.exports;if(!e.executed){if(!e.def)return Fa;
var M=e.mid,R=e.deps||[],ca,aa=[],oa=0;for(e.executed=4;ca=R[oa++];){ca=ca===bb?za(e):ca===cb?e.cjs.exports:ca===db?e.cjs:Ja(ca,C);if(ca===Fa)return e.executed=0,t.trace("loader-exec-module",["abort",M]),Fa;aa.push(ca)}t.trace("loader-run-factory",[e.mid]);C=e.def;aa=m(C)?C.apply(null,aa):C;e.result=void 0===aa&&e.cjs?e.cjs.exports:aa;Qa(e)}return e.result},Da=0,Ha=function(e){try{Da++,e()}catch(C){throw C;}finally{Da--}c()&&D("idle",[])},Ka=function(){Da||Ha(function(){for(var e,C,M=0;M<sa.length;)e=
Pa,C=sa[M],Ja(C),e!=Pa?M=0:M++})}}var Wa="function"==typeof l.fixupUrl?l.fixupUrl:function(e){e+="";return e+(W?(/\?/.test(e)?"\x26":"?")+W:"")};void 0===v("dojo-loader-eval-hint-url")&&v.add("dojo-loader-eval-hint-url",1);var Ya=function(e){var C=e.plugin;5!==C.executed||C.load||Oa(C);var M=function(R){e.result=R;Q(e);Qa(e);Ka()};C.load?C.load(e.prid,e.req,M):C.loadQ?C.loadQ.push(e):(C.loadQ=[e],sa.unshift(C),Ta(C))},Ga=0,gb=function(e,C){v("config-stripStrict")&&(e=e.replace(/(["'])use strict\1/g,
""));e===Ga?Ga.call(null):t.eval(e,v("dojo-loader-eval-hint-url")?C.url:C.mid)},Ta=function(e){var C=e.mid,M=e.url;if(!(e.executed||e.injected||A[C]||e.url&&(e.pack&&A[e.url]===e.pack||1==A[e.url])))if(H(e),e.plugin)Ya(e);else{var R=function(){hb(e);if(2!==e.injected){if(v("dojo-enforceDefine")){D("error",r("noDefine",e));return}Q(e);p(e,Xa);t.trace("loader-define-nonmodule",[e.url])}Ka()};(Ga=ea[C]||ea["url:"+e.url])?(t.trace("loader-inject",["cache",e.mid,M]),gb(Ga,e),R()):(t.trace("loader-inject",
["script",e.mid,M]),t.injectUrl(Wa(M),R,e))}},Za=function(e,C,M){t.trace("loader-define-module",[e.mid,C]);if(2===e.injected)return D("error",r("multipleDefine",e)),e;p(e,{deps:C,def:M,cjs:{id:e.mid,uri:e.url,exports:e.result={},setExports:function(ca){e.cjs.exports=ca},config:function(){return e.config}}});for(var R=0;C[R];R++)C[R]=xa(C[R],e);Q(e);m(M)||C.length||(e.result=M,Qa(e));return e},hb=function(e,C){for(var M=[],R,ca;f.length;)ca=f.shift(),C&&(ca[0]=C.shift()),R=ca[0]&&xa(ca[0])||e,M.push([R,
ca[1],ca[2]]);K(e);k(M,function(aa){ra(Za.apply(null,aa))})},ab=x,$a=x;v("dom");if(v("dom")){var Ra=function(e,C,M,R){e.addEventListener(C,R,!1);return function(){e.removeEventListener(C,R,!1)}},ib=Ra(window,"load","onload",function(){t.pageLoaded=1;try{"complete"!=T.readyState&&(T.readyState="complete")}catch(e){}ib()});ja=T.getElementsByTagName("script");for(pa=0;!z;)/^dojo/.test((ma=ja[pa++])&&ma.type)||(z=ma);t.injectUrl=function(e,C,M){M=M.node=T.createElement("script");var R=Ra(M,"load","onreadystatechange",
function(aa){aa=aa||window.event;var oa=aa.target||aa.srcElement;if("load"===aa.type||/complete|loaded/.test(oa.readyState))R(),ca(),C&&C()}),ca=Ra(M,"error","onerror",function(aa){R();ca();D("error",r("scriptError: "+e,[e,aa]))});M.type="text/javascript";M.charset="utf-8";M.src=e;z.parentNode.insertBefore(M,z);return M}}t.log=x;t.trace=x;v("foreign-loader")?ma=x:(ma=function(e,C,M){var R=arguments.length,ca=["require","exports","module"],aa=[0,e,C];1==R?aa=[0,m(e)?ca:[],e]:2==R&&b(e)?aa=[e,m(C)?
ca:[],C]:3==R&&(aa=[e,C,M]);t.trace("loader-define",aa.slice(0,2));(R=aa[0]&&xa(aa[0]))&&!A[R.mid]?ra(Za(R,aa[1],aa[2])):f.push(aa)},ma.amd={vendor:"dojotoolkit.org"});p(p(t,a.loaderPatch),l.loaderPatch);S("error",function(e){try{if(console.error(e),e instanceof Error){for(var C in e)console.log(C+":",e[C]);console.log(".")}}catch(M){}});p(t,{uid:q,cache:ea,packs:F});E.define||(E.define=ma,E.require=t,v("foreign-loader")||(k(na,function(e){la(e)}),ma=u.deps||l.deps||a.deps,l=u.callback||l.callback||
a.callback,t.boot=ma||l?[ma||[],l]:0))})(function(l){return l.dojoConfig||l.djConfig||l.require||{}},{async:1,baseUrl:"./dojo",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1,"report-player-app-build":1},map:void 0,packages:[{location:".",name:"dojo"},{location:"../esri4",name:"esri4"},{location:"../jszip",main:"lib/index",name:"jszip"},{location:"../geoenrichment",name:"geoenrichment"},{location:"../tslib",main:"tslib",name:"tslib"}]});
require({cache:{"geoenrichment/utils/requests/RequestUtil":function(){define("require exports tslib esri4/request ../../tasks/taskUtils ../UrlUtil ./FileContent".split(" "),function(l,a,u,x,w,n,m){function b(d,k,p){k=k||{};k=u.__assign({},k);k.query=u.__assign({},k.query);p?k.query.token=k.query.token||n.getToken(d):delete k.query.token;for(var r in k.query)d=k.query[r],!d||"object"!==typeof d||d instanceof m||(k.query[r]=JSON.stringify(w.ensureSerialized(d)));k.responseType=k.responseType||"json";
"json"===k.responseType&&(k.query.f="json");k.timeout=3E5;return k}Object.defineProperty(a,"__esModule",{value:!0});a.requestPublic=a.requestPublicFirst=a.request=void 0;a.request=function(d,k){return x(d,b(d,k,!0)).then(function(p){return p.data},function(){return x(d,b(d,k,!1)).then(function(p){return p.data})})};a.requestPublicFirst=function(d,k){return x(d,b(d,k,!1)).then(function(p){return p.data},function(p){return 499===p.code?x(d,b(d,k,!0)).then(function(r){return r.data}):Promise.reject(p)})};
a.requestPublic=function(d,k){return x(d,b(d,k,!1)).then(function(p){return p.data})}})},"tslib/tslib":function(){var l,a,u,x,w,n,m,b,d,k,p,r,h,q,t,E,T,Y,v,L,S,V,y,D;(function(P){function Z(F,G){F!==ha&&("function"===typeof Object.create?Object.defineProperty(F,"__esModule",{value:!0}):F.__esModule=!0);return function(N,O){return F[N]=G?G(N,O):O}}var ha="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",
["exports"],function(F){P(Z(ha,Z(F)))}):"object"===typeof module&&"object"===typeof module.exports?P(Z(ha,Z(module.exports))):P(Z(ha))})(function(P){var Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,G){F.__proto__=G}||function(F,G){for(var N in G)Object.prototype.hasOwnProperty.call(G,N)&&(F[N]=G[N])};l=function(F,G){function N(){this.constructor=F}if("function"!==typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");Z(F,G);
F.prototype=null===G?Object.create(G):(N.prototype=G.prototype,new N)};a=Object.assign||function(F){for(var G,N=1,O=arguments.length;N<O;N++){G=arguments[N];for(var W in G)Object.prototype.hasOwnProperty.call(G,W)&&(F[W]=G[W])}return F};u=function(F,G){var N={},O;for(O in F)Object.prototype.hasOwnProperty.call(F,O)&&0>G.indexOf(O)&&(N[O]=F[O]);if(null!=F&&"function"===typeof Object.getOwnPropertySymbols){var W=0;for(O=Object.getOwnPropertySymbols(F);W<O.length;W++)0>G.indexOf(O[W])&&Object.prototype.propertyIsEnumerable.call(F,
O[W])&&(N[O[W]]=F[O[W]])}return N};x=function(F,G,N,O){var W=arguments.length,ea=3>W?G:null===O?O=Object.getOwnPropertyDescriptor(G,N):O,fa;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)ea=Reflect.decorate(F,G,N,O);else for(var z=F.length-1;0<=z;z--)if(fa=F[z])ea=(3>W?fa(ea):3<W?fa(G,N,ea):fa(G,N))||ea;return 3<W&&ea&&Object.defineProperty(G,N,ea),ea};w=function(F,G){return function(N,O){G(N,O,F)}};n=function(F,G){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(F,
G)};m=function(F,G,N,O){function W(ea){return ea instanceof N?ea:new N(function(fa){fa(ea)})}return new (N||(N=Promise))(function(ea,fa){function z(U){try{J(O.next(U))}catch(X){fa(X)}}function K(U){try{J(O["throw"](U))}catch(X){fa(X)}}function J(U){U.done?ea(U.value):W(U.value).then(z,K)}J((O=O.apply(F,G||[])).next())})};b=function(F,G){function N(J){return function(U){return O([J,U])}}function O(J){if(ea)throw new TypeError("Generator is already executing.");for(;W;)try{if(ea=1,fa&&(z=J[0]&2?fa["return"]:
J[0]?fa["throw"]||((z=fa["return"])&&z.call(fa),0):fa.next)&&!(z=z.call(fa,J[1])).done)return z;if(fa=0,z)J=[J[0]&2,z.value];switch(J[0]){case 0:case 1:z=J;break;case 4:return W.label++,{value:J[1],done:!1};case 5:W.label++;fa=J[1];J=[0];continue;case 7:J=W.ops.pop();W.trys.pop();continue;default:if(!(z=W.trys,z=0<z.length&&z[z.length-1])&&(6===J[0]||2===J[0])){W=0;continue}if(3===J[0]&&(!z||J[1]>z[0]&&J[1]<z[3]))W.label=J[1];else if(6===J[0]&&W.label<z[1])W.label=z[1],z=J;else if(z&&W.label<z[2])W.label=
z[2],W.ops.push(J);else{z[2]&&W.ops.pop();W.trys.pop();continue}}J=G.call(F,W)}catch(U){J=[6,U],fa=0}finally{ea=z=0}if(J[0]&5)throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}var W={label:0,sent:function(){if(z[0]&1)throw z[1];return z[1]},trys:[],ops:[]},ea,fa,z,K;return K={next:N(0),"throw":N(1),"return":N(2)},"function"===typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K};d=function(F,G){for(var N in F)"default"===N||Object.prototype.hasOwnProperty.call(G,N)||D(G,F,N)};D=Object.create?
function(F,G,N,O){void 0===O&&(O=N);Object.defineProperty(F,O,{enumerable:!0,get:function(){return G[N]}})}:function(F,G,N,O){void 0===O&&(O=N);F[O]=G[N]};k=function(F){var G="function"===typeof Symbol&&Symbol.iterator,N=G&&F[G],O=0;if(N)return N.call(F);if(F&&"number"===typeof F.length)return{next:function(){F&&O>=F.length&&(F=void 0);return{value:F&&F[O++],done:!F}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.");};p=function(F,G){var N="function"===typeof Symbol&&
F[Symbol.iterator];if(!N)return F;F=N.call(F);var O,W=[];try{for(;(void 0===G||0<G--)&&!(O=F.next()).done;)W.push(O.value)}catch(fa){var ea={error:fa}}finally{try{O&&!O.done&&(N=F["return"])&&N.call(F)}finally{if(ea)throw ea.error;}}return W};r=function(){for(var F=[],G=0;G<arguments.length;G++)F=F.concat(p(arguments[G]));return F};h=function(){for(var F=0,G=0,N=arguments.length;G<N;G++)F+=arguments[G].length;F=Array(F);var O=0;for(G=0;G<N;G++)for(var W=arguments[G],ea=0,fa=W.length;ea<fa;ea++,O++)F[O]=
W[ea];return F};q=function(F,G,N){if(N||2===arguments.length)for(var O=0,W=G.length,ea;O<W;O++)!ea&&O in G||(ea||(ea=Array.prototype.slice.call(G,0,O)),ea[O]=G[O]);return F.concat(ea||G)};t=function(F){return this instanceof t?(this.v=F,this):new t(F)};E=function(F,G,N){function O(X){K[X]&&(J[X]=function(da){return new Promise(function(na,la){1<U.push([X,da,na,la])||W(X,da)})})}function W(X,da){try{var na=K[X](da);na.value instanceof t?Promise.resolve(na.value.v).then(ea,fa):z(U[0][2],na)}catch(la){z(U[0][3],
la)}}function ea(X){W("next",X)}function fa(X){W("throw",X)}function z(X,da){(X(da),U.shift(),U.length)&&W(U[0][0],U[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=N.apply(F,G||[]),J,U=[];return J={},O("next"),O("throw"),O("return"),J[Symbol.asyncIterator]=function(){return this},J};T=function(F){function G(W,ea){N[W]=F[W]?function(fa){return(O=!O)?{value:t(F[W](fa)),done:"return"===W}:ea?ea(fa):fa}:ea}var N,O;return N={},G("next"),G("throw",function(W){throw W;
}),G("return"),N[Symbol.iterator]=function(){return this},N};Y=function(F){function G(ea){W[ea]=F[ea]&&function(fa){return new Promise(function(z,K){fa=F[ea](fa);N(z,K,fa.done,fa.value)})}}function N(ea,fa,z,K){Promise.resolve(K).then(function(J){ea({value:J,done:z})},fa)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O=F[Symbol.asyncIterator],W;return O?O.call(F):(F="function"===typeof k?k(F):F[Symbol.iterator](),W={},G("next"),G("throw"),G("return"),W[Symbol.asyncIterator]=
function(){return this},W)};v=function(F,G){Object.defineProperty?Object.defineProperty(F,"raw",{value:G}):F.raw=G;return F};var ha=Object.create?function(F,G){Object.defineProperty(F,"default",{enumerable:!0,value:G})}:function(F,G){F["default"]=G};L=function(F){if(F&&F.__esModule)return F;var G={};if(null!=F)for(var N in F)"default"!==N&&Object.prototype.hasOwnProperty.call(F,N)&&D(G,F,N);ha(G,F);return G};S=function(F){return F&&F.__esModule?F:{"default":F}};V=function(F,G,N,O){if("a"===N&&!O)throw new TypeError("Private accessor was defined without a getter");
if("function"===typeof G?F!==G||!O:!G.has(F))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===N?O:"a"===N?O.call(F):O?O.value:G.get(F)};y=function(F,G,N,O,W){if("m"===O)throw new TypeError("Private method is not writable");if("a"===O&&!W)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof G?F!==G||!W:!G.has(F))throw new TypeError("Cannot write private member to an object whose class did not declare it");
return"a"===O?W.call(F,N):W?W.value=N:G.set(F,N),N};P("__extends",l);P("__assign",a);P("__rest",u);P("__decorate",x);P("__param",w);P("__metadata",n);P("__awaiter",m);P("__generator",b);P("__exportStar",d);P("__createBinding",D);P("__values",k);P("__read",p);P("__spread",r);P("__spreadArrays",h);P("__spreadArray",q);P("__await",t);P("__asyncGenerator",E);P("__asyncDelegator",T);P("__asyncValues",Y);P("__makeTemplateObject",v);P("__importStar",L);P("__importDefault",S);P("__classPrivateFieldGet",V);
P("__classPrivateFieldSet",y)})},"esri4/request":function(){define("require ./core/global ./core/has ./core/lang ./config ./core/maybe ./core/Error ./core/urlUtils ./core/promiseUtils ./kernel ./support/apiKeyUtils ./support/requestUtils".split(" "),function(l,a,u,x,w,n,m,b,d,k,p,r){async function h(z,K){var J=b.isDataProtocol(z);const U=b.isBlobProtocol(z);U||J||(z=b.normalize(z));const X={url:z,requestOptions:{...n.unwrap(K)}};let da=b.getInterceptor(z);if(da){z=await V(da,X);if(null!=z)return{data:z,
getHeader:fa,requestOptions:X.requestOptions,url:X.url};da.after||da.error||(da=null)}if(z=X.url,"image"===(K=X.requestOptions).responseType){if(u("host-webworker")||u("host-node"))throw E("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),X);}else if(J)throw E("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+K.responseType),X);if("head"===K.method){if(K.body)throw E("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),
X);if(J||U)throw E("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),X);}if(await T(),F)return F.execute(z,K);const na=d.createAbortController();d.onAbort(K,()=>na.abort());J=await P({controller:na,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:da,params:X,redoRequest:!1,useIdentity:G.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});return da&&da.after&&da.after(J),J}function q(z){b.isBlobProtocol(z)||b.isDataProtocol(z)||
(z=b.getOrigin(z))&&-1===h._corsServers.indexOf(z)&&h._corsServers.push(z)}function t(z){z=b.getOrigin(z);return!z||z.endsWith(".arcgis.com")||-1!==h._corsServers.indexOf(z)||b.isTrustedServer(z)}function E(z,K,J,U){let X="Error";const da={url:J.url,requestOptions:J.requestOptions,getHeader:fa,ssl:!1};if(K instanceof m)return K.details?(K.details=x.clone(K.details),K.details.url=J.url,K.details.requestOptions=J.requestOptions):K.details=da,K;if(K){J=U&&(ja=>U.headers.get(ja));const na=U&&U.status,
la=K.message;la&&(X=la);J&&(da.getHeader=J);da.httpStatus=(null!=K.httpCode?K.httpCode:K.code)||na||0;da.subCode=K.subcode;da.messageCode=K.messageCode;"string"==typeof K.details?da.messages=[K.details]:da.messages=K.details}return d.isAbortError(K)?d.createAbortError():new m(z,X,da)}async function T(){u("host-webworker")?F||(F=await new Promise(function(z,K){l(["./core/workers/request"],z,K)})):h._abortableFetch||(h._abortableFetch=a.fetch.bind(a))}async function Y(){k.id||await new Promise(function(z,
K){l(["./identity/IdentityManager"],function(J){z(Object.freeze({__proto__:null,default:J}))},K)})}async function v(z){const K=z.params.url,J=z.params.requestOptions,U=z.controller.signal,X=J.body;let da=null,na=null,la=null;if(N&&"HTMLFormElement"in a&&(X instanceof FormData?da=X:X instanceof HTMLFormElement&&(na=X,da=new FormData(na))),"string"==typeof X&&(la=X),z.fetchOptions={cache:J.cacheBust&&!h._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:J.headers||{},method:"head"===
J.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:U},(da||la)&&(z.fetchOptions.body=da||la),"anonymous"===J.authMode&&(z.useIdentity=!1),z.hasToken=!!(/token=/i.test(K)||J.query&&J.query.token||da&&da.get&&da.get("token")||na&&na.elements.token),!z.hasToken&&w.apiKey&&p.supportsApiKey(K)&&(J.query||(J.query={}),J.query.token=w.apiKey,z.hasToken=!0),z.useIdentity&&!z.hasToken&&!z.credentialToken&&!L(K)&&!d.isAborted(U)){let ja;"immediate"===J.authMode?(await Y(),ja=await k.id.getCredential(K,
{signal:U}),z.credential=ja):"no-prompt"===J.authMode?(await Y(),ja=await k.id.getCredential(K,{prompt:!1,signal:U}).catch(()=>{}),z.credential=ja):k.id&&(ja=k.id.findCredential(K));ja&&(z.credentialToken=ja.token,z.useSSL=!!ja.ssl)}}function L(z){return ea.some(K=>K.test(z))}async function S(z){let K=z.params.url;const J=z.params.requestOptions,U=z.fetchOptions,X=b.isBlobProtocol(K)||b.isDataProtocol(K),da=J.responseType||"json",na=X?0:null!=J.timeout?J.timeout:G.timeout;var la=!1;if(!X){z.useSSL&&
(K=b.toHTTPS(K));J.cacheBust&&"default"===U.cache&&(K=b.addQueryParameter(K,"request.preventCache",Date.now()));var ja={...J.query};z.credentialToken&&(ja.token=z.credentialToken);la=b.objectToQuery(ja);u("esri-url-encodes-apostrophe")&&(la=la.replace(/'/g,"%27"));const qa=K.length+1+la.length;la="delete"===J.method||"post"===J.method||"put"===J.method||!!J.body||qa>G.maxUrlLength;const ra=J.useProxy||!!b.getProxyRule(K);if(ra){const va=b.getProxyUrl(K);var pa=va.path;!la&&pa.length+1+qa>G.maxUrlLength&&
(la=!0);va.query&&(ja={...va.query,...ja})}if("HEAD"===U.method&&(la||ra)){if(la){if(qa>G.maxUrlLength)throw E("request:invalid-parameters",Error("URL exceeds maximum length"),z.params);throw E("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),z.params);}if(ra)throw E("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),z.params);}if(la?(U.method="delete"===J.method?"DELETE":"put"===J.method?"PUT":"POST",J.body?K=b.addQueryParameters(K,ja):
(U.body=b.objectToQuery(ja),U.headers["Content-Type"]="application/x-www-form-urlencoded")):K=b.addQueryParameters(K,ja),ra&&(z.useProxy=!0,K=`${pa}?${K}`),ja.token&&N&&U.body instanceof FormData)pa=U.body,pa.set?pa.set("token",ja.token):pa.append("token",ja.token);J.hasOwnProperty("withCredentials")?z.withCredentials=J.withCredentials:b.hasSameOrigin(K,b.appUrl)||(b.isTrustedServer(K)?z.withCredentials=!0:k.id&&(ja=k.id.findServerInfo(K))&&ja.webTierAuth&&(z.withCredentials=!0));z.withCredentials&&
(U.credentials="include")}let ma,ia;ja=0;let ta=!1;0<na&&(ja=setTimeout(()=>{ta=!0;z.controller.abort()},na));try{if("image"!==J.responseType||"default"!==U.cache||"GET"!==U.method||la||y(J.headers)||!X&&!z.useProxy&&G.proxyUrl&&!t(K)){if(ma=await h._abortableFetch(K,U),z.useProxy||q(K),ma.ok&&"HEAD"!==U.method){switch(da){case "array-buffer":ia=await ma.arrayBuffer();break;case "blob":case "image":ia=await ma.blob();break;default:ia=await ma.text()}if(ja&&(clearTimeout(ja),ja=0),"json"===da||"xml"===
da||"document"===da)if(ia)switch(da){case "json":ia=JSON.parse(ia);break;case "xml":ia=D(ia,"application/xml");break;case "document":ia=D(ia,"text/html")}else ia=null;if(ia){if("array-buffer"===da||"blob"===da){const qa=ma.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(qa)&&750>=ia["blob"===da?"size":"byteLength"])try{const ra=await (new Response(ia)).json();ra.error&&(ia=ra)}catch{}}"image"===da&&ia instanceof Blob&&(ia=await ha(URL.createObjectURL(ia),z,!0))}}}else ia=await ha(K,
z)}catch(qa){if("AbortError"===qa.name){if(ta)throw Error("Timeout exceeded");throw d.createAbortError("Request canceled");}if(!(!ma&&qa instanceof TypeError&&G.proxyUrl)||J.body||"delete"===J.method||"head"===J.method||"post"===J.method||"put"===J.method||z.useProxy)throw qa;z.redoRequest=!0;b.addProxyRule({proxyUrl:G.proxyUrl,urlPrefix:b.removeFile(b.urlToObject(K).path)})}finally{ja&&clearTimeout(ja)}return[ma,ia]}async function V(z,K){if(null!=z.responseData)return z.responseData;if(z.headers&&
(K.requestOptions.headers={...K.requestOptions.headers,...z.headers}),z.query&&(K.requestOptions.query={...K.requestOptions.query,...z.query}),z.before){let J,U;try{U=await z.before(K)}catch(X){J=E("request:interceptor",X,K)}if((U instanceof Error||U instanceof m)&&(J=E("request:interceptor",U,K)),J)throw z.error&&z.error(J),J;return U}}function y(z){if(z)for(const K of Object.getOwnPropertyNames(z))if(z[K])return!0;return!1}function D(z,K){let J;try{J=(new DOMParser).parseFromString(z,K)}catch{}if(!J||
J.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return J}async function P(z){let K;await v(z);try{do[K,J]=await S(z);while(!await Z(z,K,J))}catch(da){var J=E("request:server",da,z.params,K);throw J.details.ssl=z.useSSL,z.interceptor&&z.interceptor.error&&z.interceptor.error(J),J;}var U=z.params.url;/\/sharing\/rest\/(accounts|portals)\/self/i.test(U)&&!z.hasToken&&!z.credentialToken&&J&&J.user&&J.user.username&&!b.isTrustedServer(U)&&(U=b.getOrigin(U,!0))&&G.trustedServers.push(U);
if((U=z.credential)&&k.id){var X=k.id.findServerInfo(U.server);if(X=X&&X.owningSystemUrl)X=X.replace(/\/?$/,"/sharing"),(U=k.id.findCredential(X,U.userId))&&-1===k.id._getIdenticalSvcIdx(X,U)&&U.resources.unshift(X)}return{data:J,getHeader:K?da=>K.headers.get(da):fa,requestOptions:z.params.requestOptions,ssl:z.useSSL,url:z.params.url}}async function Z(z,K,J){if(z.redoRequest)return z.redoRequest=!1,!1;if(!K)return!0;if(!K.ok)throw Error(`Unable to load ${K.url} status: ${K.status}`);let U,X,da,na;
J&&J.error&&(U=Object.assign(Error(),J.error));U&&(X=Number(U.code),da=U.hasOwnProperty("subcode")?Number(U.subcode):null,na=U.messageCode,na=na&&na.toUpperCase());K=z.params.requestOptions.authMode;if(403===X&&(4===da||U.message&&-1<U.message.toLowerCase().indexOf("ssl")&&-1===U.message.toLowerCase().indexOf("permission"))){if(!z.useSSL)return z.useSSL=!0,!1}else if(!z.hasToken&&z.useIdentity&&("no-prompt"!==K||498===X)&&-1!==O.indexOf(X)&&!L(z.params.url)&&(403!==X||-1===W.indexOf(na)&&(null==da||
2===da&&z.credentialToken))){await Y();try{const la=await k.id.getCredential(z.params.url,{error:E("request:server",U,z.params),prompt:"no-prompt"!==K,signal:z.controller.signal,token:z.credentialToken});return z.credential=la,z.credentialToken=la.token,z.useSSL=z.useSSL||la.ssl,!1}catch(la){if("no-prompt"===K)return z.credential=null,z.credentialToken=null,!1;U=la}}if(U)throw U;return!0}function ha(z,K,J=!1){const U=K.controller.signal,X=new Image;return K.withCredentials?X.crossOrigin="use-credentials":
X.crossOrigin="anonymous",X.alt="",X.src=z,r.loadImageAsync(X,z,J,U)}let F;const G=w.request,N="FormData"in a,O=[499,498,403,401],W=["COM_0056","COM_0057","SB_0008"],ea=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],fa=()=>null;return h._abortableFetch=null,h._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],h})},"esri4/core/global":function(){define(function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:
"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0})},"esri4/core/has":function(){define(["./global"],function(l){function a(b){return"function"==typeof w[b]?w[b]=w[b](l):w[b]}var u,x;let w;var n,m;null!=(u=l.dojoConfig)&&u.has||null!=(x=l.esriConfig)&&x.has?w={...null==(n=l.dojoConfig)?void 0:n.has,...null==(m=l.esriConfig)?void 0:m.has}:w={};return a.add=(b,d,k,p)=>((p||void 0===w[b])&&(w[b]=d),k&&a(b)),a.cache=w,a.add("esri-deprecation-warnings",!0),(()=>{a.add("host-webworker",
void 0!==l.WorkerGlobalScope&&self instanceof l.WorkerGlobalScope);var b="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(a.add("host-browser",b),a.add("host-node","object"==typeof l.process&&l.process.versions&&l.process.versions.node&&l.process.versions.v8),a.add("dom",b),a("host-browser")){var d=navigator;b=d.userAgent;d=d.appVersion;const p=parseFloat(d);if(a.add("wp",parseFloat(b.split("Windows Phone")[1])||
void 0),a.add("msapp",parseFloat(b.split("MSAppHost/")[1])||void 0),a.add("khtml",0<=d.indexOf("Konqueror")?p:void 0),a.add("edge",parseFloat(b.split("Edge/")[1])||void 0),a.add("opr",parseFloat(b.split("OPR/")[1])||void 0),a.add("webkit",!a("wp")&&!a("edge")&&parseFloat(b.split("WebKit/")[1])||void 0),a.add("chrome",!a("edge")&&!a("opr")&&parseFloat(b.split("Chrome/")[1])||void 0),a.add("android",!a("wp")&&parseFloat(b.split("Android ")[1])||void 0),a.add("safari",!(0<=d.indexOf("Safari"))||a("wp")||
a("chrome")||a("android")||a("edge")||a("opr")?void 0:parseFloat(d.split("Version/")[1])),a.add("mac",0<=d.indexOf("Macintosh")),a.add("quirks","BackCompat"===document.compatMode),!a("wp")&&b.match(/(iPhone|iPod|iPad)/)){const r=RegExp.$1.replace(/P/,"p");var k=b.match(/OS ([\d_]+)/)?RegExp.$1:"1";k=parseFloat(k.replace(/_/,".").replace(/_/g,""));a.add(r,k);a.add("ios",k)}a.add("trident",parseFloat(d.split("Trident/")[1])||void 0);a.add("svg","undefined"!=typeof SVGAngle);a("webkit")||(0<=b.indexOf("Opera")&&
a.add("opera",9.8<=p&&parseFloat(b.split("Version/")[1])||p),!(0<=b.indexOf("Gecko"))||a("wp")||a("khtml")||a("trident")||a("edge")||a.add("mozilla",p),a("mozilla")&&a.add("ff",parseFloat(b.split("Firefox/")[1]||b.split("Minefield/")[1])||void 0))}})(),(()=>{if(l.navigator){var b=navigator.userAgent;const d=b.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i);b=b.match(/iPhone/i);d&&a.add("esri-mobile",d);b&&a.add("esri-iPhone",b);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-canvas-svg-support",
!a("trident"));a.add("esri-wasm","WebAssembly"in l);a.add("esri-shared-array-buffer",()=>{const d=!1===l.crossOriginIsolated;return"SharedArrayBuffer"in l&&!d});a.add("esri-atomics","Atomics"in l);a.add("esri-workers","Worker"in l);a.add("esri-text-decoder","TextDecoder"in l);a.add("esri-text-encoder","TextEncoder"in l);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",
.1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("mapview-transitions-duration",200);a.add("mapserver-pbf-enabled",!1);a("host-webworker")||a("host-browser")&&(a.add("csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const d=new Image;return d.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e',
void d.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}return!1}),a.add("esri-url-encodes-apostrophe",()=>{const d=l.document.createElement("a");return d.href="?'",-1<d.href.indexOf("?%27")}),a.add("vectortilelayer-max-buffers",()=>a("ff")?160:Number.POSITIVE_INFINITY))})(),a})},"esri4/core/lang":function(){define(["exports","./has","./typedArrayUtil"],function(l,a,u){function x(n,m){let b;if(m)for(b in n)n.hasOwnProperty(b)&&(void 0===n[b]?
delete n[b]:n[b]instanceof Object&&x(n[b],!0));else for(b in n)n.hasOwnProperty(b)&&void 0===n[b]&&delete n[b];return n}function w(n){if(!n||"object"!=typeof n||"function"==typeof n)return n;if(u.isInt8Array(n)||u.isUint8Array(n)||u.isUint8ClampedArray(n)||u.isInt16Array(n)||u.isUint16Array(n)||u.isInt32Array(n)||u.isUint32Array(n)||u.isFloat32Array(n)||u.isFloat64Array(n))return u.slice(n);if(n instanceof Date)return new Date(n.getTime());if(n instanceof ArrayBuffer)return n.slice(0,n.byteLength);
if(n instanceof Map){const b=new Map;return n.forEach((d,k)=>{b.set(k,w(d))}),b}if(n instanceof Set){const b=new Set;return n.forEach(d=>{b.add(w(d))}),b}let m;if("function"==typeof n.clone)m=n.clone();else if("function"==typeof n.map&&"function"==typeof n.forEach)m=n.map(w);else if("function"==typeof n.notifyChange&&"function"==typeof n.watch)m=n.clone();else{m={};for(const b of Object.getOwnPropertyNames(n))m[b]=w(n[b])}return m}l.clone=w;l.equals=function(n,m){return n===m||"number"==typeof n&&
isNaN(n)&&"number"==typeof m&&isNaN(m)||"function"==typeof(n||{}).getTime&&"function"==typeof(m||{}).getTime&&n.getTime()===m.getTime()||!1};l.fixJson=x;l.mixin=function(n={},...m){return a("esri-deprecation-warnings")&&console.warn("[esri.core.lang] \ud83d\uded1 DEPRECATED - Function: mixin()\n\t\ud83d\udee0\ufe0f Replacement: Use Object.assign() directly\n\t\u2699\ufe0f Version: 4.19"),Object.assign(n,...m)};Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/core/typedArrayUtil":function(){define(["exports"],
function(l){l.estimateSize=function(a){return a?128+a.buffer.byteLength+64:0};l.forEach=function(a,u){if(a.forEach)a.forEach(u);else for(let x=0;x<a.length;x++)u(a[x],x,a)};l.isArrayBuffer=function(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};l.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};l.isFloat64Array=function(a){return a instanceof Float64Array||a&&a.constructor&&"Float64Array"===
a.constructor.name};l.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===a.constructor.name};l.isInt32Array=function(a){return a instanceof Int32Array||a&&a.constructor&&"Int32Array"===a.constructor.name};l.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&"Int8Array"===a.constructor.name};l.isUint16Array=function(a){return a instanceof Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};l.isUint32Array=function(a){return a instanceof
Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};l.isUint8Array=function(a){return a instanceof Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};l.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};l.slice=function(a,u,x){if(a.slice)return a.slice(u,x);void 0===u?u=0:(0>u&&(u+=a.length),u=Math.min(a.length,Math.max(0,u)));void 0===x?x=a.length:(0>x&&(x+=a.length),x=Math.min(a.length,Math.max(0,
x)));x=Math.max(0,x-u);const w=new (0,a.constructor)(x);for(let n=0;n<x;n++)w[n]=a[u+n];return w};l.toArray=function(a){const u=Array(a.length);for(let x=0;x<a.length;x++)u[x]=a[x];return u};Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/config":function(){define(["./core/global","./core/has","./core/object"],function(l,a,u){a={apiKey:void 0,applicationUrl:l.location&&l.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",
geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],
useIdentity:!0},log:{interceptors:[],level:null}};(l.esriConfig&&(u.deepMerge(a,l.esriConfig,!0),delete a.has),a.assetsPath)||(a.assetsPath=`https://js.arcgis.com/${"4.19.0".slice(0,-2)}/@arcgis/core/assets`);return a.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(a,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),a.request.corsEnabledServers=[],a.request.corsEnabledServers.push=function(){return console.warn("[esri.config]",
"request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},a})},"esri4/core/object":function(){define(["exports","./lang"],function(l,a){function u(w,n,m){for(const b of w){if(null==m)return;if(!(b in m)){if(!n)return;m[b]={}}m=m[b]}return m}function x(w,n,m){return n?Object.keys(n).reduce(function(b,d){let k=b[d],p=n[d];return k===p?b:void 0===k?(b[d]=a.clone(p),b):(Array.isArray(p)||Array.isArray(b)?(k=k?Array.isArray(k)?b[d]=k.concat():
b[d]=[k]:b[d]=[],p&&(Array.isArray(p)||(p=[p]),m?p.forEach(r=>{-1===k.indexOf(r)&&k.push(r)}):b[d]=p.concat())):p&&"object"==typeof p?b[d]=x(k,p,m):b.hasOwnProperty(d)&&!n.hasOwnProperty(d)||(b[d]=p),b)},w||{}):w}l.deepMerge=function(w,n,m=!1){return x(w,n,m)};l.getDeepValue=function(w,n){if(null!=n)return n[w]||u(w.split("."),!1,n)};l.setDeepValue=function(w,n,m){const b=w.split(".");w=b.pop();(m=u(b,!0,m))&&w&&(m[w]=n)};Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/core/maybe":function(){define(["exports"],
function(l){function a(u,x,w){return null!=u?w(u):x}l.abortMaybe=function(u){return null!=u&&u.abort(),null};l.andThen=function(u,x){return null!=u?x(u):null};l.applySome=function(u,x){return null!=u?x(u):null};l.assumeNonNull=function(u){return u};l.destroyMaybe=function(u){return null!=u&&u.destroy(),null};l.disposeMaybe=function(u){return null!=u&&u.dispose(),null};l.filterNones=function(u){return u.filter(x=>null!=x)};l.forEachSome=function(u,x){for(const w of u)a(w,null,x)};l.get=function(u,
...x){let w=0;for(;w<x.length&&u;)u=u[x[w++]];return u};l.isNone=function(u){return null==u};l.isSome=function(u){return null!=u};l.isUndefined=function(u){return void 0===u};l.mapMany=function(u,x){const w=[];for(const n of u)w.push(a(n,null,x));return w};l.mapOr=a;l.mapSome=function(u,x){const w=[];return u.forEach(n=>{n=x(n);null!=n&&w.push(n)}),w};l.mapSomeFirst=function(u,x){for(const w of u)if(u=x(w),null!=u)return u;return null};l.none=null;l.nullifyNonnullableForDispose=function(u){return null};
l.releaseMaybe=function(u){return null!=u&&u.release(),null};l.removeMaybe=function(u){return null!=u&&u.remove(),null};l.unwrap=function(u){return u};l.unwrapOr=function(u,x){return null!=u?u:"function"==typeof x?x():x};l.unwrapOrThrow=function(u,x){if(null==u)throw Error(x);return u};Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(l,a,u,x){x=function(w){function n(m,b,d){var k;
return k=w.call(this,m,b,d)||this,l._assertThisInitialized(k)instanceof n?k:new n(m,b,d)}return l._inheritsLoose(n,w),n.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(m,b)=>{if(b&&"object"==typeof b&&"function"==typeof b.toJSON)return b;try{return a.clone(b)}catch(d){return"[object]"}}))}}catch(m){throw u.getLogger("esri.core.Error").error(m),m;}return{name:this.name,message:this.message,details:this.details}},
n.fromJSON=function(m){return new n(m.name,m.message,m.details)},n}(x);return x.prototype.type="error",x})},"esri4/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(l){function a(b,d){for(var k=0;k<d.length;k++){var p=d[k];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(b,p.key,p)}}function u(b){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(b)}function x(b,d){return(x=
Object.setPrototypeOf||function(k,p){return k.__proto__=p,k})(b,d)}function w(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(b){return!1}}function n(b,d,k){return(n=w()?Reflect.construct:function(p,r,h){var q=[null];q.push.apply(q,r);p=new (Function.bind.apply(p,q));return h&&x(p,h.prototype),p}).apply(null,arguments)}function m(b){var d=
"function"==typeof Map?new Map:void 0;return(m=function(k){function p(){return n(k,arguments,u(this).constructor)}if(null===k||-1===Function.toString.call(k).indexOf("[native code]"))return k;if("function"!=typeof k)throw new TypeError("Super expression must either be null or a function");if(void 0!==d){if(d.has(k))return d.get(k);d.set(k,p)}return p.prototype=Object.create(k.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x(p,k)})(b)}l._assertThisInitialized=function(b){if(void 0===
b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b};l._createClass=function(b,d,k){return d&&a(b.prototype,d),k&&a(b,k),b};l._inheritsLoose=function(b,d){b.prototype=Object.create(d.prototype);b.prototype.constructor=b;x(b,d)};l._wrapNativeSuper=m})},"esri4/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","./has","../config","./maybe","./string"],function(l,a,u,x,w){const n={info:0,warn:1,error:2,none:3};a=function(){function m(d){this.level=
null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=d.level&&(this.level=d.level);null!=d.writer&&(this.writer=d.writer);this._module=d.module;m._loggers[this.module]=this;d=this.module.lastIndexOf(".");-1!==d&&(this._parent=m.getLogger(this.module.slice(0,d)))}var b=m.prototype;return b.error=function(...d){this._log("error","always",...d)},b.warn=function(...d){this._log("warn","always",...d)},b.info=function(...d){this._log("info",
"always",...d)},b.errorOnce=function(...d){this._log("error","once",...d)},b.warnOnce=function(...d){this._log("warn","once",...d)},b.infoOnce=function(...d){this._log("info","once",...d)},b.errorOncePerTick=function(...d){this._log("error","oncePerTick",...d)},b.warnOncePerTick=function(...d){this._log("warn","oncePerTick",...d)},b.infoOncePerTick=function(...d){this._log("info","oncePerTick",...d)},m.getLogger=function(d){let k=m._loggers[d];return k||(k=new m({module:d})),k},b._log=function(d,
k,...p){if(this._matchLevel(d)){if("always"!==k&&!m._throttlingDisabled){const r=this._argsToKey(p),h=this._loggedMessages[d].get(r);if("once"===k&&null!=h||"oncePerTick"===k&&h&&h>=m._tickCounter)return;this._loggedMessages[d].set(r,m._tickCounter);m._scheduleTickCounterIncrement()}for(const r of u.log.interceptors)if(r(d,this.module,...p))return;this._inheritedWriter()(d,this.module,...p)}},b._parentWithMember=function(d,k){let p=this;for(;x.isSome(p);){const r=p[d];if(x.isSome(r))return r;p=p.parent}return k},
b._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)},b._consoleWriter=function(d,k,...p){console[d](`[${k}]`,...p)},b._matchLevel=function(d){return n[this._parentWithMember("level",u.log.level?u.log.level:"warn")]<=n[d]},b._argsToKey=function(...d){return w.numericHash(JSON.stringify(d,(k,p)=>"object"!=typeof p||Array.isArray(p)?p:"[Object]"))},m._scheduleTickCounterIncrement=function(){m._tickCounterScheduled||(m._tickCounterScheduled=!0,Promise.resolve().then(()=>
{m._tickCounter++;m._tickCounterScheduled=!1}))},l._createClass(m,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const d=this;return{loggedMessages:d._loggedMessages,clearLoggedWarnings:()=>d._loggedMessages.warn.clear()}}}],[{key:"testSingleton",get:function(){return{resetLoggers(d={}){const k=m._loggers;return m._loggers=d,k},set throttlingDisabled(d){m._throttlingDisabled=d}}}}]),m}();return a._loggers={},a._tickCounter=
0,a._tickCounterScheduled=!1,a._throttlingDisabled=!1,a})},"esri4/core/string":function(){define(["exports","./object"],function(l,a){function u(w){return null==w?"":w}const x=/\{([^\}]+)\}/g;l.escapeRegExpString=function(w,n){return w.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,m=>n&&-1!==n.indexOf(m)?m:`\\${m}`)};l.numericHash=function(w){let n=0;for(let m=0;m<w.length;m++)n=(n<<5)-n+w.charCodeAt(m),n|=0;return n};l.replace=function(w,n){return w.replace(x,"object"==typeof n?(m,b)=>u(a.getDeepValue(b,
n)):(m,b)=>u(n(b)))};l.stripHTML=function(w){return(new DOMParser).parseFromString(w||"","text/html").body.innerText||""};Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/core/Message":function(){define(["./object"],function(l){function a(u,x){return u.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(w,n){if(""===n)return"$";w=l.getDeepValue(n,x);w=null==w?"":w;if(void 0===w)throw Error(`could not find key "${n}" in template`);return w.toString()})}return function(){function u(x,w,
n){this.name=x;this.details=n;this.message=void 0;this instanceof u&&(this.message=w&&a(w,n)||"")}return u.prototype.toString=function(){return"["+this.name+"]: "+this.message},u}()})},"esri4/core/urlUtils":function(){define("exports ./global ../config ./maybe ./Logger ./Error".split(" "),function(l,a,u,x,w,n){function m(f){const A={path:null,query:null},H=new ma(f),Q=f.indexOf("?");return null===H.query?A.path=f:(A.path=f.substring(0,Q),A.query=b(H.query)),H.fragment&&(A.hash=H.fragment,null===H.query&&
(A.path=A.path.substring(0,A.path.length-(H.fragment.length+1)))),A}function b(f){var A=f.split("\x26");f={};for(const H of A){if(!H)continue;A=H.indexOf("\x3d");let Q,c;0>A?(Q=decodeURIComponent(H),c=""):(Q=decodeURIComponent(H.slice(0,A)),c=decodeURIComponent(H.slice(A+1)));A=f[Q];"string"==typeof A&&(A=f[Q]=[A]);Array.isArray(A)?A.push(c):f[Q]=c}return f}function d(f){return f&&"object"==typeof f&&"toJSON"in f&&"function"==typeof f.toJSON}function k(f,A){return f?A&&"function"==typeof A?Object.keys(f).map(H=>
encodeURIComponent(H)+"\x3d"+encodeURIComponent(A(H,f[H]))).join("\x26"):Object.keys(f).map(H=>{const Q=f[H];if(null==Q)return"";const c=encodeURIComponent(H)+"\x3d";return(H=A&&A[H])?c+encodeURIComponent(H(Q)):Array.isArray(Q)?Q.map(g=>d(g)?c+encodeURIComponent(JSON.stringify(g)):c+encodeURIComponent(g)).join("\x26"):d(Q)?c+encodeURIComponent(JSON.stringify(Q)):c+encodeURIComponent(Q)}).filter(H=>H).join("\x26"):""}function p(f){const A=f.indexOf("?");return-1!==A?(ra.path=f.slice(0,A),ra.query=
f.slice(A+1)):(ra.path=f,ra.query=null),ra}function r(f){var A=f=p(f).path;return f=(f=O(f=A&&"/"===A[A.length-1]?A:`${A}/`,!0)).toLowerCase()}function h(f){const A=K.proxyRules;f=r(f);for(let H=0;H<A.length;H++)if(0===f.indexOf(A[H].urlPrefix))return A[H]}function q(f){const A=(f=T(f)).indexOf("/sharing");return 0<A?f.substring(0,A):f.replace(/\/+$/,"")}function t(f,A,H=!1){f=fa(f);A=fa(A);return!(!H&&f.scheme!==A.scheme)&&null!=f.host&&null!=A.host&&f.host.toLowerCase()===A.host.toLowerCase()&&
f.port===A.port}function E(f,A=qa,H){return Z(f)?H&&H.preserveProtocolRelative?f:"http"===ia.scheme&&ia.authority===v(f).slice(2)?`http:${f}`:`https:${f}`:ha(f)?f:x.assumeNonNull(Y("/"===f[0]?W(A):A,f))}function T(f){var A=f=E(f=f.trim());/^https?:\/\//i.test(A)&&(f=p(A),A=(A=f.path.replace(/\/{2,}/g,"/")).replace("/","//"),f.query&&(A+=`?${f.query}`));return f=ea(f=(f=A).replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2"))}function Y(...f){var A=f.filter(x.isSome);if(A&&A.length){f=[];if(L(A[0])){var H=
A[0],Q=H.indexOf("//");-1!==Q&&(f.push(H.slice(0,Q+1)),da.test(A[0])&&(f[0]+="/"),A[0]=H.slice(Q+2))}else"/"===A[0][0]&&f.push("");A=A.reduce((c,g)=>g?c.concat(g.split("/")):c,[]);for(H=0;H<A.length;H++)Q=A[H],".."===Q&&0<f.length&&".."!==f[f.length-1]?f.pop():(!Q&&H===A.length-1||Q&&("."!==Q||0===f.length))&&f.push(Q);return f.join("/")}}function v(f,A=!1){if(S(f)||V(f))return null;var H=f.indexOf("://");if(-1===H&&Z(f))H=2;else{if(-1===H)return null;H+=3}H=f.indexOf("/",H);return-1!==H&&(f=f.slice(0,
H)),A&&(f=O(f,!0)),f}function L(f){return Z(f)||ha(f)}function S(f){return null!=f&&"blob:"===f.slice(0,5)}function V(f){return"data:"===f.slice(0,5)}function y(f){f=D(f);if(!f||!f.isBase64)return null;f=atob(f.data);const A=new Uint8Array(f.length);for(let H=0;H<f.length;H++)A[H]=f.charCodeAt(H);return A.buffer}function D(f){f=f.match(va);if(!f)return null;const [,A,H,Q]=f;return{mediaType:A,isBase64:!!H,data:Q}}function P(f){const A=y(f);if(!A)return null;f=D(f);return new Blob([A],{type:f.mediaType})}
function Z(f){return null!=f&&void 0!==f&&"/"===f[0]&&"/"===f[1]}function ha(f){return J.test(f)}function F(f){return U.test(f)||"http"===ia.scheme&&Z(f)}function G(f){return Z(f)?`https:${f}`:f.replace(U,"https:")}function N(){return"https"===ia.scheme}function O(f,A=!1){return Z(f)?f.slice(2):(f=f.replace(J,""),A&&1<f.length&&"/"===f[0]&&"/"===f[1]&&(f=f.slice(2)),f)}function W(f){var A=f.indexOf("//");A=f.indexOf("/",A+2);return-1===A?f:f.slice(0,A)}function ea(f){const A=K.httpsDomains;if(!F(f))return f;
const H=f.indexOf("/",7);let Q;if(Q=-1===H?f:f.slice(0,H),Q=Q.toLowerCase().slice(7),na.test(Q)){if(!Q.endsWith(":80"))return f;Q=Q.slice(0,-3);f=f.replace(":80","")}return"http"===ia.scheme&&Q===ia.authority&&!la.test(f)||(N()&&Q===ia.authority||A&&A.some(c=>Q===c||Q.endsWith(`.${c}`))||N()&&!h(f))&&(f=G(f)),f}function fa(f){return"string"==typeof f?new ma(E(f)):(f.scheme||(f.scheme=ia.scheme),f)}const z=w.getLogger("esri.core.urlUtils"),K=u.request,J=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,U=/^\s*http:/i,
X=/^\s*https:/i,da=/^\s*file:/i,na=/:\d+$/,la=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ja=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,pa=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/;let ma=function(){function f(A=""){this.uri=A;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;A=x.assumeNonNull(this.uri.match(ja));this.scheme=A[2]||(A[1]?"":null);this.authority=A[4]||(A[3]?"":null);this.path=
A[5];this.query=A[7]||(A[6]?"":null);this.fragment=A[9]||(A[8]?"":null);null!=this.authority&&(A=x.assumeNonNull(this.authority.match(pa)),this.user=A[3]||null,this.password=A[4]||null,this.host=A[6]||A[7],this.port=A[9]||null)}return f.prototype.toString=function(){return this.uri},f}();const ia=new ma(u.applicationUrl),ta={},qa=(()=>{var f=x.assumeNonNull(ia.path);f=f.substring(0,f.lastIndexOf(f.split("/")[f.split("/").length-1]));return`${`${ia.scheme}://${ia.host}${null!=ia.port?`:${ia.port}`:
""}`}${f}`})(),ra={path:"",query:""},va=/^data:(.*?)(;base64)?,(.*)$/,za=/.*?\.([^\/]*)$/,sa=/(^data:image\/svg|\.svg$)/i;l.Url=ma;l.addProxy=function(f){var A=h(f);if(A){var H=p(A.proxyUrl);var Q=H.path;H=H.query?b(H.query):null}Q&&(A=m(f),f=Q+"?"+A.path,(Q=k({...H,...A.query}))&&(f=`${f}?${Q}`));return f};l.addProxyRule=function(f){f={proxyUrl:f.proxyUrl,urlPrefix:r(f.urlPrefix)};const A=K.proxyRules,H=f.urlPrefix;let Q=A.length;for(let c=0;c<A.length;c++){const g=A[c].urlPrefix;if(0===H.indexOf(g)){if(H.length===
g.length)return-1;Q=c;break}0===g.indexOf(H)&&(Q=c+1)}return A.splice(Q,0,f),Q};l.addQueryParameter=function(f,A,H){f=m(f);const Q=f.query||{};return Q[A]=String(H),`${f.path}?${k(Q)}`};l.addQueryParameters=function(f,A){f=m(f);const H=f.query||{};for(const Q in A)H[Q]=A[Q];return(A=k(H))?`${f.path}?${A}`:f.path};l.appBaseUrl=qa;l.appUrl=ia;l.changeDomain=function(f,A,H){if(!(A&&H&&f&&L(f)))return f;const Q=f.indexOf("//");var c=f.indexOf("/",Q+2);const g=f.indexOf(":",Q+2);c=Math.min(0>c?f.length:
c,0>g?f.length:g);return f.slice(Q+2,c).toLowerCase()!==A.toLowerCase()?f:`${f.slice(0,Q+2)}${H}${f.slice(c)}`};l.dataComponents=D;l.dataToArrayBuffer=y;l.dataToBlob=P;l.downloadDataAsFile=function(f,A){a:{var H=document.createElement("a");if("download"in H){var Q=null;if(a.URL&&a.URL.createObjectURL){Q=P(f);if(!Q){H=!1;break a}Q=a.URL.createObjectURL(Q)}H.download=A;H.href=Q||f;H.style.display="none";document.body.appendChild(H);H.click();document.body.removeChild(H);Q&&a.URL.revokeObjectURL(Q);
H=void 0}else H=!1}H||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(P(f),A)};l.getFilename=function(f,A){if(!f)return"";f=m(f).path.replace(/\/+$/,"");f=f.substring(f.lastIndexOf("/")+1);if(null==A||!A.length)return f;A=new RegExp(`.(${A.join("|")})$`,"ig");return f.replace(A,"")};l.getInterceptor=function(f){const A=Q=>null==Q||Q instanceof RegExp&&Q.test(f)||"string"==typeof Q&&f.startsWith(Q),H=K.interceptors;if(H)for(const Q of H)if(Array.isArray(Q.urls)){if(Q.urls.some(A))return Q}else if(A(Q.urls))return Q;
return null};l.getOrigin=v;l.getPathExtension=function(f){return x.isNone(f)?null:(f=f.match(za))?f[1]:null};l.getProxyRule=h;l.getProxyUrl=function(f=!1){let A,H=K.proxyUrl;"string"==typeof f?(A=X.test(f)||"https"===ia.scheme&&Z(f),(f=h(f))&&(H=f.proxyUrl)):A=!!f;if(!H)throw z.warn("esri/config: esriConfig.request.proxyUrl is not set."),new n("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");A&&N()&&(H=G(H));return m(H)};l.hasProtocol=ha;l.hasSameOrigin=t;l.hasSamePortal=
function(f,A){return f=q(f),A=q(A),O(f)===O(A)};l.isAbsolute=L;l.isAppHTTPS=N;l.isBlobProtocol=S;l.isDataProtocol=V;l.isProtocolRelative=Z;l.isSVG=function(f){return sa.test(f)};l.isTrustedServer=function(f){if("string"==typeof f){if(!L(f))return!0;f=fa(f)}if(t(f,ia))return!0;const A=K.trustedServers||[];for(let Q=0;Q<A.length;Q++){var H=A[Q];H=(ta[H]||(ha(H)||Z(H)?ta[H]=[new ma(E(H))]:ta[H]=[new ma(`http://${H}`),new ma(`https://${H}`)]),ta[H]);for(let c=0;c<H.length;c++)if(t(f,H[c]))return!0}return!1};
l.join=Y;l.makeAbsolute=E;l.makeData=function(f){return f.isBase64?`data:${f.mediaType};base64,${f.data}`:`data:${f.mediaType},${f.data}`};l.makeRelative=function(f,A=qa,H){if(!L(f))return f;var Q=T(f),c=Q.toLowerCase();A=T(A).toLowerCase().replace(/\/+$/,"");if((H=H?T(H).toLowerCase().replace(/\/+$/,""):null)&&0!==A.indexOf(H))return f;var g=c.indexOf("//")+2;let B=-1===(g=c.indexOf("/",g))?c.length:g;for(g=-1;c.slice(0,B+1)===A.slice(0,B)+"/"&&(g=B+1,B!==c.length);){var I=c,ba=B+1;B=-1===(ba=I.indexOf("/",
ba))?I.length:ba}if(-1===g||H&&g<H.length)return f;f=Q.slice(g);Q=A.slice(g-1).replace(/[^/]+/g,"").length;if(0<Q)for(c=0;c<Q;c++)f=`../${f}`;else f=`./${f}`;return f};l.normalize=T;l.objectToQuery=k;l.queryToObject=b;l.removeFile=function(f){let A=0;if(L(f)){var H=f.indexOf("//");-1!==H&&(A=H+2)}H=f.lastIndexOf("/");return H<A?f:f.slice(0,H+1)};l.removeQueryParameter=function(f,A){const {path:H,query:Q}=m(f);if(!Q)return f;delete Q[A];return(f=k(Q))?`${H}?${f}`:H};l.removeQueryParameters=function(f,
A){f=m(f);const H=Object.keys(f.query||{});return 0<H.length&&A&&A.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${H.join(", ")}.`),f.path};l.removeTrailingSlash=function(f){return f.replace(/\/+$/,"")};l.toHTTP=function(f){return Z(f)?`http:${f}`:f.replace(X,"http:")};l.toHTTPS=G;l.trustedServersUrlCache=ta;l.urlToObject=m;Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/core/promiseUtils":function(){define("exports ./maybe ./Logger ./Error ./clock ./events".split(" "),
function(l,a,u,x,w,n){function m(v){return new Promise((L,S)=>{try{v(L,S)}catch(V){Promise.resolve().then(()=>S(V))}})}function b(v="Aborted"){return new x("AbortError",v)}function d(){return new AbortController}function k(v){if(r(v))throw b();}function p(v){return a.isSome(v)?"aborted"in v?v:v.signal:v}function r(v){v=p(v);return a.isSome(v)&&v.aborted}function h(v,L){v=p(v);if(!a.isNone(v)){if(!v.aborted)return n.once(v,"abort",()=>L());L()}}function q(v){return v&&"AbortError"===v.name}function t(){let v=
null;const L=new Promise((S,V)=>{v={promise:void 0,resolve:S,reject:V}});return v.promise=L,v}function E(v){if(v){if("function"!=typeof v.forEach){const L=Object.keys(v);return E(L.map(S=>v[S])).then(S=>{const V={};return L.forEach((y,D)=>V[y]=S[D]),V})}return m(L=>{const S=[];let V=v.length;0===V&&L(S);v.forEach(y=>{const D={promise:y||Promise.resolve(y)};S.push(D);D.promise.then(P=>{D.value=P}).catch(P=>{D.error=P}).then(()=>{--V;0===V&&L(S)})})})}}function T(v,L,S){const V=d();return h(S,()=>V.abort()),
new Promise((y,D)=>{let P=setTimeout(()=>{P=0;y(L)},v);h(V,()=>{P&&(clearTimeout(P),D(b()))})})}function Y(v){return v&&"object"==typeof v&&"then"in v&&"function"==typeof v.then?v:Promise.resolve(v)}l.after=T;l.all=function(v){return Promise.all(v)};l.always=function(v,L){return v.then(L,L)};l.create=m;l.createAbortController=d;l.createAbortError=b;l.createDeferred=t;l.createResolver=function(){let v,L;const S=new Promise((y,D)=>{v=y;L=D}),V=y=>{v(y)};return V.resolve=y=>v(y),V.reject=y=>L(y),V.timeout=
(y,D)=>w.default.setTimeout(()=>V.reject(D),y),V.promise=S,V};l.createTask=function(v){let L=d();v=v(L.signal);let S={promise:v,finished:!1,abort:()=>{L&&(L.abort(),L=null)}};const V=()=>{S&&(S.finished=!0,S=null);L=null};return v.then(V,V),S};l.debounce=function(v,L=-1){let S,V,y,D,P=null;const Z=(...ha)=>{if(S){V=ha;D&&D.reject(b());D=t();ha=a.assumeNonNull(D.promise);if(P){var F=P;P=null;F.abort()}return ha}if(y=D||t(),D=null,0<L){const N=d(),O=S=Y(v(...ha,N.signal));T(L).then(()=>{S===O&&(D?N.abort():
P=N)})}else S=1,S=Y(v(...ha));ha=()=>{const N=V;V=y=S=P=null;null!=N&&Z(...N)};F=S;const G=y;return F.then(ha,ha),F.then(G.resolve,G.reject),a.assumeNonNull(G.promise)};return Z};l.eachAlways=E;l.eachAlwaysValues=function(v){return E(v).then(L=>L.filter(S=>!!S.value).map(S=>S.value))};l.filter=function(v,L){const S=v.slice();return Promise.all(v.map((V,y)=>L(V,y))).then(V=>S.filter((y,D)=>V[D]))};l.ignoreAbortErrors=function(v){return v.catch(L=>{if(!q(L))throw L;})};l.isAbortError=q;l.isAborted=
r;l.isPromiseLike=function(v){return v&&"function"==typeof v.then};l.logOnError=function(v,L=u.getLogger("esri")){return v.catch(S=>{q(S)||L.error(S)})};l.onAbort=h;l.onAbortOrThrow=function(v,L){v=p(v);if(!a.isNone(v))return k(v),n.once(v,"abort",()=>L(b()))};l.reject=function(v){return Promise.reject(v)};l.resolve=function(v){return Promise.resolve(v)};l.throwIfAbortError=function(v){if(q(v))throw v;};l.throwIfAborted=k;l.throwIfNotAbortError=function(v){if(!q(v))throw v;};l.timeout=function(v,
L,S,V){const y=S&&"abort"in S?S:null;null!=V||y||(V=S);let D=setTimeout(()=>{D=0;y&&y.abort()},L);const P=()=>{throw V||new x("promiseUtils:timeout","The wrapped promise did not resolve within "+L+" ms");};return v.then(Z=>{if(0===D)throw P();return clearTimeout(D),Z},Z=>{throw clearTimeout(D),0===D?P():Z;})};l.when=Y;l.whenOrAbort=function(v,L){const S=p(L);return a.isNone(S)?v:new Promise((V,y)=>{let D=h(L,()=>y(b()));const P=()=>D=a.removeMaybe(D);v.then(P,P);v.then(V,y)})};Object.defineProperty(l,
"__esModule",{value:!0})})},"esri4/core/clock":function(){define(["exports","./global"],function(l,a){function u(x){return{setTimeout:(w,n)=>{const m=x.setTimeout(w,n);return{remove:()=>x.clearTimeout(m)}}}}a=u(a);l.default=a;l.wrap=u;Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/core/events":function(){define(["exports"],function(l){function a(w){return w&&("function"==typeof w.on||"function"==typeof w.addEventListener)}function u(w,n,m){if(!a(w))throw new TypeError("target is not a Evented or EventTarget object");
if("on"in w)return w.on(n,m);if(Array.isArray(n)){const b=n.slice();for(const d of b)w.addEventListener(d,m);return{remove(){for(const d of b)w.removeEventListener(d,m)}}}return w.addEventListener(n,m),{remove(){w.removeEventListener(n,m)}}}const x={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};l.eventKey=function({key:w}){return x[w]||
w};l.ieKeyNormalizationMap=x;l.isEventTarget=a;l.on=u;l.once=function(w,n,m){if(!a(w))throw new TypeError("target is not a Evented or EventTarget object");if("once"in w)return w.once(n,m);const b=u(w,n,d=>{b.remove();m.call(w,d)});return{remove(){b.remove()}}};l.pausable=function(w,n,m){let b=!1;const d=u(w,n,k=>{b||m.call(w,k)});return{resume(){b=!1},pause(){b=!0},remove(){d.remove()}}};Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/kernel":function(){define(["require","exports","./core/has",
"./support/revision","./core/urlUtils"],function(l,a,u,x,w){u("host-webworker")||(u("edge")||u("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");a.buildDate=x.buildDate;a.revision=x.commitHash;a.addTokenParameter=function(n){const m=a.id&&a.id.findCredential(n);return m&&m.token?w.addQueryParameter(n,"token",m.token):n};a.setId=function(n){a.id=n};a.version="4.19";a.workerMessages={request:(n,m)=>(new Promise(function(b,d){l(["./request"],function(k){b(Object.freeze({__proto__:null,
default:k}))},d)})).then(({default:b})=>{const d=n.options||{};return d.responseType="array-buffer",d.signal=null==m?void 0:m.signal,b(n.url,d)}).then(b=>({result:{data:b.data,ssl:b.ssl},transferList:[b.data]}))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri4/support/revision":function(){define(["exports"],function(l){l.buildDate="20210506";l.commitHash="b02ca94fa7b6dac5fa148245a7cdc7caae582829";Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/support/apiKeyUtils":function(){define(["exports",
"../core/urlUtils"],function(l,a){const u=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];l.isApiKey=function(x){return x&&4<x.length&&x.startsWith("AAPK")};l.supportsApiKey=function(x){const w=a.getOrigin(x,!0);return w&&w.endsWith(".arcgis.com")&&!u.includes(w)&&!x.endsWith("/sharing/rest/generateToken")};Object.defineProperty(l,"__esModule",{value:!0})})},"esri4/support/requestUtils":function(){define(["exports","../core/has","../core/maybe",
"../core/promiseUtils"],function(l,a,u,x){function w(){try{return new DOMException("Aborted","AbortError")}catch{const n=Error();return n.name="AbortError",n}}l.loadImageAsync=function(n,m,b=!1,d){return new Promise((k,p)=>{if(x.isAborted(d))return void p(w());let r=()=>{t();p(Error(`Unable to load ${m}`))},h=()=>{const E=n;t();k(E)},q=()=>{if(n){var E=n;t();E.src="";p(w())}};const t=()=>{a("esri-image-decode")||(n.removeEventListener("error",r),n.removeEventListener("load",h));n=h=r=null;u.isSome(d)&&
d.removeEventListener("abort",q);q=null;b&&URL.revokeObjectURL(m)};u.isSome(d)&&d.addEventListener("abort",q);a("esri-image-decode")?n.decode().then(h,r):(n.addEventListener("error",r),n.addEventListener("load",h))})};Object.defineProperty(l,"__esModule",{value:!0})})},"geoenrichment/tasks/taskUtils":function(){define(["require","exports","tslib","esri4/request","../utils/PromiseUtil"],function(l,a,u,x,w){function n(m){return"function"===typeof m.toJSON?m.toJSON():m}Object.defineProperty(a,"__esModule",
{value:!0});a.throwEmptyTaskResponse=a.ensureSerialized=a.jsonToRest=a.invokeTaskMethod=void 0;a.invokeTaskMethod=function(m,b,d,k){function p(t){try{var E=k(t)}catch(T){r(T);return}h.resolve(E)}function r(t){h.reject(t)}var h=w.createDeferred();try{var q=d?d():{};q.f=q.f||"json";m.token&&(q.token=m.token);x(m.url+b,{query:q,responseType:"json"}).then(p,r)}catch(t){r(t)}return h.promise};a.jsonToRest=function(m,b){b=u.__assign({},b);for(var d in m)b[d]="string"===typeof m[d]?m[d]:JSON.stringify(n(m[d]));
return b};a.ensureSerialized=n;a.throwEmptyTaskResponse=function(){throw Error("Geoenrichment service returned empty response");}})},"geoenrichment/utils/PromiseUtil":function(){define(["require","exports"],function(l,a){function u(b){return b&&"function"===typeof b.then}function x(b){return b instanceof Promise?b:Promise.resolve(b)}function w(b){var d={_isImmediatePromise:!0,_immediateResult:b,then:function(k,p){if(!n(b))return x(b).then(k,p);p=m(b);k="function"===typeof k?k(p):p;return n(k)?w(m(k)):
x(k)},catch:function(k){return n(b)?d:x(b).catch(k)},finally:function(k){return x(b).finally(k)}};return d}function n(b){return!u(b)||!!b._isImmediatePromise&&n(b._immediateResult)}function m(b){return u(b)?m(b._immediateResult):b}Object.defineProperty(a,"__esModule",{value:!0});a.getImmediateResult=a.isImmediateResult=a.immediateResolve=a.allMap=a.when=a.createDeferred=a.isPromiseLike=void 0;a.isPromiseLike=u;a.createDeferred=function(){var b,d=!1,k=new Promise(function(p,r){b={promise:null,resolve:function(h){d=
!0;p(h)},reject:function(h){d=!0;r(h)},isFulfilled:function(){return d}}});b.promise=k;return b};a.when=x;a.allMap=function(b){var d=[],k=[],p;for(p in b)d.push(b[p]),k.push(p);return Promise.all(d).then(function(r){var h={};r.forEach(function(q,t){h[k[t]]=q});return h})};a.immediateResolve=w;a.isImmediateResult=n;a.getImmediateResult=m;Promise.allSettled||(Promise.allSettled=function(b){b=b.map(function(d){return d.then(function(k){return{status:"fulfilled",value:k}}).catch(function(k){return{status:"rejected",
reason:k}})});return Promise.all(b)})})},"geoenrichment/utils/UrlUtil":function(){define("require exports tslib esri4/config esri4/kernel esri4/request esri4/core/urlUtils ../has ./LoaderUtil ./PromiseUtil".split(" "),function(l,a,u,x,w,n,m,b,d,k){function p(y){return y.replace(/^(http:\/\/|https:\/\/)/i,"")}function r(y){var D=y.indexOf("?");0<=D&&(y=y.substr(D+1),S.test(y)&&(y=y.indexOf("?"),D=0<=y?D+1+y:-1));return D}function h(y){var D=r(y);return 0>D?y:y.substr(0,D)}function q(y,D){var P=0>r(y)?
"?":"\x26";return y+P+D}function t(y,D,P){if(y&&"string"===typeof D&&(y=m.urlToObject(y),P=P?y.hash&&m.queryToObject(y.hash):y.query)){D=D.toLowerCase();for(var Z in P)if(Z.toLowerCase()===D)return P[Z]}}function E(y){return!y||/^http/i.test(y)?y:"http://"+y}function T(y){y&&(y=E(y));if(!y||!/^http:\/\//i.test(y))return y;var D=new m.Url(y);y=y.replace(/^http/i,"https");var P=L[D.port];P&&(y=y.replace(":"+D.port,":"+P));return y}function Y(y,D){"number"===typeof D&&(D+="");if(D){if(/^(http:\/\/|https:\/\/)/i.test(D)||
!y)return D;0===D.indexOf("./")&&(D=D.substr(2));"."===D&&(D="");"/"===D.charAt(0)&&(D=D.substr(1));if("/"===D.charAt(D.length-1)){D=D.substr(0,D.length-1);var P=!0}if(!D)return y;var Z=y.length-1;"/"===y.charAt(Z)&&(y=y.substr(0,Z));var ha=m.urlToObject(y);y=h(y);Z=y.length-D.length;0<=Z&&"/"===y.charAt(Z-1)&&y.substr(Z).toLowerCase()===D.toLowerCase()&&(y=y.substr(0,Z-1));D=D.split("/");var F=y.split("/");D.forEach(function(N){return".."===N?F.pop():F.push(N)});y=F.join("/");for(var G in ha.query)q(y,
ha.query[G])}return P?y+"/":y}function v(y){var D=d.getGePackage();if(S.test(D.location))var P=D.location.replace("/geoenrichment","");else P=window.location.href.replace(/\/[\d\w_\-]+?.html.*/,""),P=Y(P,d.getLoaderBaseUrl()),P=Y(P,D.location.replace("/geoenrichment",""));return y?Y(P,y):P}Object.defineProperty(a,"__esModule",{value:!0});a.configureInBuildAssetsPath=a.relativeModuleUrlToAbsolute=a.getFrameToken=a.getUserId=a.getToken=a.isPageRunOnWebService=a.openUrl=a.combineUrlMulti=a.combineUrl=
a.toHttpsUrl=a.toHttpUrl=a.addUrlVariable=a.getUrlVariableValue=a.removeQueryFromUrl=a.getProxyUrl=a.getPortalUrl=a.getDomain=a.removeUrlProtocol=void 0;m=u.__importStar(m);var L={80:"443",8080:"8443"};a.removeUrlProtocol=p;a.getDomain=function(y){if("string"!==typeof y)return null;y=p(y);var D=y.indexOf("/");return 0>D?y:y.substr(0,D)};a.getPortalUrl=function(y){if("string"!==typeof y)return null;y=y.replace(/\?.*$/,"");var D=y.match(/^(.+)\/sharing(\/|$)/i);return D||(D=y.match(/^(.+)\/home$/i))?
D[1]:(D=y.match(/^(.+)\/portal(\/|$)/i))?D[1]+"/portal":y};a.getProxyUrl=function(y){void 0===y&&(y=!1);var D=x.request.proxyUrl;D&&!/^http/i.test(D)&&(D=m.makeAbsolute(D));D&&y&&(D=T(D));return D};var S=/^(http:\/\/|https:\/\/)/i;a.removeQueryFromUrl=h;a.getUrlVariableValue=t;a.addUrlVariable=function(y,D,P){D=encodeURIComponent(D);P=encodeURIComponent(P);return q(y,D+"\x3d"+P)};a.toHttpUrl=E;a.toHttpsUrl=T;a.combineUrl=Y;a.combineUrlMulti=function(y){for(var D=y[0],P=1;P<y.length;P++)D=Y(D,y[P]);
return D};a.openUrl=function(y,D){if(D)return window.open(y,"_blank");D=window.open();D.opener=null;D.referrer=null;D.location=y;return D};a.isPageRunOnWebService=function(){return/^http/i.test(window.location.protocol)};a.getToken=function(y){var D=w.id;return(y=D&&(y&&D.findCredential(y)||D.credentials[0]))&&y.token};a.getUserId=function(y){var D=w.id;return(y=D&&(y&&D.findCredential(y)||D.credentials[0]))&&y.userId};var V;a.getFrameToken=function(){function y(Z){var ha=t(D,Z);return void 0!==ha?
ha:t(D,Z,!0)}if(V)return V;var D=window.location.href,P=y("token");if(P)return V=k.when(P);P=Y(y("portalUrl")||"https://www.arcgis.com","sharing/rest");return V=n(P+"/oauth2/platformSelf?f\x3djson",{headers:{"X-Esri-Auth-Client-Id":"arcgisstorymaps","X-Esri-Auth-Redirect-Uri":D.replace(/(#.*$)|(\?.*$)/,"")},method:"post",withCredentials:!0}).then(function(Z){return Z&&Z.data.token}).catch(function(){var Z=("; "+decodeURIComponent(document.cookie||"")).split("; esri_auth\x3d");Z=2===Z.length?Z.pop().split(";").shift():
null;try{var ha=Z&&JSON.parse(Z);return ha&&ha.token}catch(F){return console.log("Can't process esri_auth cookie"),null}})};a.relativeModuleUrlToAbsolute=v;a.configureInBuildAssetsPath=function(){b("report-player-cdn-build")||(x.assetsPath=v(null))}})},"geoenrichment/has":function(){define("require exports tslib esri4/core/has ./global ./utils/LoaderUtil".split(" "),function(l,a,u,x,w,n){x=u.__importDefault(x);w=u.__importDefault(w);var m=/^(http:\/\/|https:\/\/)/i;return function k(d){return"worker"===
d?!0===w.default.isWorker:x.default(d)?!0:k("worker")?!1:w.default.require.has.cache[d]||"report-player-cdn-build"===d&&m.test(n.getGePackage().location)?!0:!1}})},"geoenrichment/global":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();a.default=l})},
"geoenrichment/utils/LoaderUtil":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.getGePackage=a.getLoaderBaseUrl=void 0;a.getLoaderBaseUrl=function(){return window.require.baseUrl};a.getGePackage=function(){return window.require.rawConfig.packages.filter(function(u){return"geoenrichment"===u.name})[0]}})},"geoenrichment/utils/requests/FileContent":function(){define(["require","exports","tslib","../DataUtil"],function(l,a,u,x){x=u.__importStar(x);
return function(){function w(n,m,b){this.contentType="application/octet-stream";this.contentTransferEncoding="binary";this.data=n;m&&(this.contentType=m);b&&(this.contentTransferEncoding=b)}w.fromArrayBuffer=function(n,m){return new w(x.binaryStringFromByteSource(n),m)};w.fromBlob=function(n,m){return x.arrayBufferFromBlob(n).then(function(b){return new w(x.binaryStringFromByteSource(b),m||n.type)})};w.getBinarySourceType=function(n){return"string"===typeof n?"string":n instanceof ArrayBuffer?"array-buffer":
n instanceof Blob?"blob":n instanceof w?"file-content":null};w.fromFileData=function(n,m,b){b=b||x.getContentTypeFromExtension(n);if("object"===typeof m&&(m instanceof ArrayBuffer||m.buffer instanceof ArrayBuffer))m=x.binaryStringFromByteSource(m.buffer||m);else{var d=w.getContentConversionType(b);"json"===d&&"object"===typeof m&&(m=JSON.stringify(m));if("string"!==typeof m)throw Error("Wrong file data.");switch(d){case "base64":m=atob(m);break;case "text":case "json":m=unescape(encodeURIComponent(m))}}m=
new w(m,b);m.filename=n;return m};w.getContentConversionType=function(n){return n?/^image\//.test(n)?"base64":/^text\//.test(n)?"text":/application\/json/.test(n)?"json":"bin":"bin"};w.prototype.getBase64Data=function(){return this.data?"base64"===this.contentTransferEncoding?this.data:x.base64FromByteSource(this.data):null};w.prototype.toString=function(){return this.filename||"\x3cunknown\x3e"};return w}()})},"geoenrichment/utils/DataUtil":function(){define(["require","exports"],function(l,a){function u(b){if("string"===
typeof b)return{source:b,getLength:function(){return b.length},getByte:function(k){return b.charCodeAt(k)&255}};if(b instanceof ArrayBuffer){var d=new Uint8Array(b);return{source:d,getLength:function(){return d.byteLength},getByte:function(k){return d[k]}}}return b}function x(b){for(var d=b.length,k=new Uint8Array(b.length),p=0;p<d;p++)k[p]=b.charCodeAt(p);return k}function w(b,d){b=new Uint8Array(b);d=Math.min(d,b.byteLength);for(var k="",p=0;p<d;p++)k+=String.fromCharCode(b[p]);return k}function n(b){switch(m(b)){case "png":return"image/png";
case "jpg":case "jpeg":return"image/jpeg";case "gif":return"image/gif";case "svg":return"image/svg+xml";case "tif":case "tiff":return"image/tiff";case "bmp":return"image/bmp";default:return null}}function m(b){var d=b.lastIndexOf(".")+1;return d?b.substr(d).toLowerCase():null}Object.defineProperty(a,"__esModule",{value:!0});a.getFileExtension=a.getImageContentTypeFromExtension=a.getContentTypeFromExtension=a.isBase64=a.getFirstBytes=a.base64ToByteArray=a.binaryStringToByteArray=a.base64ToJson=a.base64FromJson=
a.base64FromByteSource=a.binaryStringFromByteSource=a.arrayBuffersToBlob=a.arrayBufferFromBlob=void 0;a.arrayBufferFromBlob=function(b){return new Promise(function(d,k){var p=new FileReader;p.onloadend=function(){p.error?k(p.error):d(p.result)};p.readAsArrayBuffer(b)})};a.arrayBuffersToBlob=function(b,d){void 0===d&&(d="application/octet-stream");return new Blob(b,{type:d})};a.binaryStringFromByteSource=function(b){if("string"===typeof b)return b;b=u(b);var d=b.getLength(),k=d%4;d-=k;for(var p="",
r=0,h,q,t,E;r<d;)h=b.getByte(r++),q=b.getByte(r++),t=b.getByte(r++),E=b.getByte(r++),p+=String.fromCharCode(h,q,t,E);1===k?p+=String.fromCharCode(b.getByte(r)):2===k?p+=String.fromCharCode(b.getByte(r),b.getByte(r+1)):3===k&&(p+=String.fromCharCode(b.getByte(r),b.getByte(r+1),b.getByte(r+2)));return p};a.base64FromByteSource=function(b){b=u(b);var d=b.getLength(),k=d%3;d-=k;for(var p,r,h,q,t="",E=0;E<d;E+=3)q=b.getByte(E)<<16|b.getByte(E+1)<<8|b.getByte(E+2),p=q>>18&63,r=q>>12&63,h=q>>6&63,q&=63,
t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[p]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[r]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[h]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q];1===k?(q=b.getByte(E),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q>>2&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q<<4&63]+"\x3d\x3d"):2===k&&(q=b.getByte(E)<<8|b.getByte(E+
1),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q>>10&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q>>4&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q<<2&63]+"\x3d");return t};a.base64FromJson=function(b){return btoa(unescape(encodeURIComponent("string"===typeof b?b:JSON.stringify(b))))};a.base64ToJson=function(b){return JSON.parse(decodeURIComponent(escape(atob(b))))};a.binaryStringToByteArray=x;a.base64ToByteArray=function(b){return x(atob(b))};
a.getFirstBytes=function(b,d){return new Promise(function(k){if("string"===typeof b)k(b.substr(0,d));else if(b instanceof ArrayBuffer)k(w(b,d));else if(window.Blob&&b instanceof Blob){var p=new FileReader;p.onloadend=function(){p.error?k(""):k(w(p.result,d))};p.readAsArrayBuffer(b.slice(0,d))}})};a.isBase64=function(b){return b&&0===b.length%4&&/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+\/]+$/.test(b.replace(/={0,2}$/,""))};a.getContentTypeFromExtension=function(b){var d=n(b);
if(d)return d;switch(m(b)){case "json":return"application/json";case "txt":return"text/plain";case "xml":return"text/xml";default:return null}};a.getImageContentTypeFromExtension=n;a.getFileExtension=m})},"geoenrichment/utils/WaitingUtil":function(){define(["require","exports","tslib","./DomUtil","./PromiseUtil"],function(l,a,u,x,w){function n(b,d){if(b&&!b.__waitingDiv){var k=x.getStyle(b,"position");"absolute"!==k&&"relative"!==k&&(b.style.position="relative");b=b.__waitingDiv=x.create("div",{class:"esri4GEProgress "+
("bottom-right"===(d&&d.position)?"esri4GEProgressBottomRight":"esriGEAbsoluteStretched ")+(d&&d.progressClass||"")},b);d&&d.indicatorSize&&(b.style.backgroundSize=d.indicatorSize+"px");d&&d.backgroundColor&&(b.style.backgroundColor=d.backgroundColor)}}function m(b){b&&b.__waitingDiv&&(x.destroy(b.__waitingDiv),delete b.__waitingDiv)}Object.defineProperty(a,"__esModule",{value:!0});a.getProgressPromiseForNode=a.showProgressPromise=a.showProgressBar=a.removeProgress=a.showProgress=void 0;x=u.__importStar(x);
a.showProgress=n;a.removeProgress=m;a.showProgressBar=function(b){var d=b.value,k=b.position;if(b=b.node)0<d&&1>d?(b._progressBar=b._progressBar||x.create("div",{class:"esri4GEWaitingMessageProgressBar esri4GEWaitingMessageProgressBar_"+(k||"bottom")},b),b._progressBar.style.width=b.clientWidth*d+"px"):(b._progressBar&&x.destroy(b._progressBar),delete b._progressBar)};a.showProgressPromise=function(b,d,k){void 0===k&&(k={});if(!b)return d;b.__progressIndex=b.__progressIndex||0;0===b.__progressIndex&&
(b.__progressDfd=w.createDeferred(),n(b,{progressClass:k.progressClass,position:k.position,indicatorSize:k.indicatorSize,backgroundColor:k.backgroundColor}),k.onShowProgress&&k.onShowProgress());b.__progressIndex++;d.finally(function(){b.__progressIndex=Math.max(0,--b.__progressIndex);0===b.__progressIndex&&(b.__progressDfd&&b.__progressDfd.resolve(),delete b.__progressDfd,m(b),k.onRemoveProgress&&k.onRemoveProgress())});return d};a.getProgressPromiseForNode=function(b){return b&&b.__progressDfd&&
b.__progressDfd.promise}})},"geoenrichment/utils/DomUtil":function(){define(["require","exports","tslib","../has","./PromiseUtil"],function(l,a,u,x,w){function n(c){return Array.isArray(c)?c.filter(function(g){return!!g}):c?c.split(" ").filter(function(g){return!!g}):[]}function m(c,g,B){if("object"===typeof g){for(var I in g)"style"===I?m(c,"style",g[I]):m(c,I,g[I]);return c}if(void 0===B)return c;I=g.toLowerCase();var ba=qa[I]||g,ka=ia[ba];"style"===ba&&"string"!==typeof B?r(c,B):ka||"boolean"===
typeof B?c[ba]=B:c.setAttribute(ta[I]||g,B+"");return c}function b(c,g){c&&c.classList&&n(g).forEach(function(B){c.classList.add(B)})}function d(c,g){c&&c.classList&&n(g).forEach(function(B){c.classList.remove(B)})}function k(c,g){return c&&c.classList?c.classList.contains(g):!1}function p(c,g,B){var I=c.style;if("opacity"===g)return I.opacity;g=va[g]?"cssFloat"in I?"cssFloat":"styleFloat":g;B=B||h(c);return t(c,g,B[g]||I[g])}function r(c,g,B){if((g=va[g]?"cssFloat"in c.style?"cssFloat":"styleFloat":
g)&&"object"===typeof g&&void 0===B)for(var I in g)r(c,I,g[I]);else"opacity"===g?c.style.opacity=B+"":c.style[g]=B}function h(c){return c&&1===c.nodeType&&window.getComputedStyle(c)}function q(c){return parseFloat(c)||0}function t(c,g,B){g=g.toLowerCase();if("auto"===B){if("height"===g)return c.offsetHeight;if("width"===g)return c.offsetWidth}if("fontweight"===g)return"700"===B+""?"bold":"normal";g in ra||(ra[g]=za.test(g));return ra[g]?q(B):B}function E(c,g){c=c.getBoundingClientRect();c={x:c.left,
y:c.top,w:c.right-c.left,h:c.bottom-c.top};g&&(g=na(),c.x+=g.x,c.y+=g.y);return c}function T(c,g){g=g||h(c);g=Y(c,g);return{l:c.offsetLeft-g.l,t:c.offsetTop-g.t,w:c.offsetWidth+g.w,h:c.offsetHeight+g.h}}function Y(c,g){var B=g||h(c),I=q;c=I(B.marginLeft);g=I(B.marginTop);var ba=I(B.marginRight);B=I(B.marginBottom);return{l:c,t:g,r:ba,b:B,w:c+ba,h:g+B}}function v(c,g){var B=g||h(c);g=S(c,B);var I=V(c,B);B=c.offsetLeft+g.l+I.l;var ba=c.offsetTop+g.t+I.t,ka=c.clientWidth;ka?c=c.clientHeight:(ka=c.offsetWidth-
I.w,c=c.offsetHeight-I.h);return{l:B,t:ba,w:ka-g.w,h:c-g.h}}function L(c,g){var B=g||h(c);g=S(c,B);c=V(c,B);return{l:g.l+c.l,t:g.t+c.t,r:g.r+c.r,b:g.b+c.b,w:g.w+c.w,h:g.h+c.h}}function S(c,g){var B=g||h(c),I=q;c=I(B.paddingLeft);g=I(B.paddingTop);var ba=I(B.paddingRight);B=I(B.paddingBottom);return{l:c,t:g,r:ba,b:B,w:c+ba,h:g+B}}function V(c,g){var B=q,I=g||h(c);c="none"!==I.borderLeftStyle?B(I.borderLeftWidth):0;g="none"!==I.borderTopStyle?B(I.borderTopWidth):0;var ba="none"!==I.borderRightStyle?
B(I.borderRightWidth):0;B="none"!==I.borderBottomStyle?B(I.borderBottomWidth):0;return{l:c,t:g,r:ba,b:B,w:c+ba,h:g+B}}function y(c,g,B,I){if(x.default("worker"))throw g=Error("Can't create DOM elements inside a web worker."),console.error(g),console.error(g.stack),g;c=document.createElement(c);g&&m(c,g);B&&D(c,B,I);return c}function D(c,g,B){if("number"===typeof B){var I=g.childNodes;!I.length||I.length<=B?g.appendChild(c):P(c,I[0>B?0:B])}else switch(B){case "before":P(c,g);break;case "after":(B=
g.parentNode)&&(B.lastChild===g?B.appendChild(c):B.insertBefore(c,g.nextSibling));break;case "replace":g.parentNode.replaceChild(c,g);break;case "first":if(g.firstChild){P(c,g.firstChild);break}default:g.appendChild(c)}return c}function P(c,g){var B=g.parentNode;B&&B.insertBefore(c,g)}function Z(c){"innerHTML"in c&&(c.innerHTML="");for(;c.lastChild;)c.removeChild(c.lastChild)}function ha(c){c&&(c.firstChild&&Z(c),c.parentNode&&c.parentNode.removeChild(c))}function F(c){return c&&k(c,"esriGEHidden")}
function G(c){return W(c,"esriGEHidden")}function N(c){return ea(c,"esriGEHidden")}function O(c,g){return g?N(c):G(c)}function W(c,g){return fa(c,function(B){b(B,g)})}function ea(c,g){return fa(c,function(B){B&&d(B,g)})}function fa(c,g){Array.isArray(c)?c.forEach(g):g(c);return c}function z(c,g,B){var I=!1,ba=function(ka){if(!B||B(ka))ka.parentNode===g?I=!0:ka.parentNode&&ba(ka.parentNode)};c&&ba(c);return I}function K(c){return!F(c)&&"none"!==p(c,"display")&&!k(c,"dijitHidden")}function J(c,g,B){B=
B||{};var I=c.children.length-1;if(0>I)return null;I=c.children[I];k(I,"esriGEDisabledContent")||(I=null);I&&c.removeChild(I);g||(I=y("div",{class:"esriGEDisabledContent"+(B.overlayClass?" "+B.overlayClass:"")},c),B.textContent&&(I.textContent=B.textContent),!1!==B.fitParent&&(c=(B.marginBox?T:v)(c).h)&&r(I,{height:c+"px",marginTop:-c+"px"}));return I}function U(c){function g(I){for(var ba={x:0,y:0};I.offsetParent;)ba.x+=I.offsetLeft,ba.y+=I.offsetTop,I=I.offsetParent,ba.x+=p(I,"borderLeftWidth"),
ba.y+=p(I,"borderTopWidth");return ba}if(!c)return null;if(c instanceof SVGElement&&c.getBBox){var B=(B=c.ownerSVGElement&&c.ownerSVGElement.parentNode)&&g(B);c=c.getBBox();return{x:(c.x||0)+B.x,y:(c.y||0)+B.y,w:c.width||0,h:c.height||0}}B=g(c);return{x:B.x,y:B.y,w:function(I){return p(I,"width")+p(I,"paddingLeft")+p(I,"paddingRight")+p(I,"borderLeftWidth")+p(I,"borderRightWidth")}(c),h:function(I){return p(I,"height")+p(I,"paddingTop")+p(I,"paddingBottom")+p(I,"borderTopWidth")+p(I,"borderBottomWidth")}(c)}}
function X(c,g){if(c&&c.children)for(var B=0;B<c.children.length;B++){var I=c.children[B];if(g(I,c))break;X(I,g)}}function da(c){c=c||{};c.style=c.style||"";c.font&&(c.style+=";font:"+c.font,delete c.font);c.style+=";position:absolute;left:0;top:0;";sa=sa||y("div",{style:"position:absolute;left:0;top:0;width:10000px;height:10000px;display:none"},document.body);return{div:y("div",c,sa),measureText:function(g){this.div.innerHTML=g;sa.style.display="";this.div.getBoundingClientRect?(g=this.div.getBoundingClientRect(),
g={l:g.left,t:g.top,w:g.width||g.right-g.left,h:g.height||g.bottom-g.top}):g=T(this.div);delete g.l;delete g.t;return g},destroy:function(){ha(this.div);sa.style.display=sa.childElementCount?"":"none"}}}function na(){return{x:window.pageXOffset||0,y:window.pageYOffset||0}}function la(c){if((x.default("worker")||!document.fonts||f[c])&&!1!==A[c])return f[c];var g=document;f[c]=Promise.all(H.map(function(B){return Promise.all(Q.map(function(I){g.fonts.load(I+" '"+c+"'",B)}))})).then(function(){return g.fonts.ready.then(function(){var B=
!0;H.forEach(function(I){Q.forEach(function(ba){g.fonts.check&&!g.fonts.check(ba+" '"+c+"'",I)&&(B=!1,console.log("Failed to load font for "+ba+" '"+c+"' symbol\x3d"+I))})});return A[c]=B})}).catch(function(B){console.log("Can't load fonts");console.log(B);return!1});return f[c].then(function(B){return B}).catch(function(){return!1})}Object.defineProperty(a,"__esModule",{value:!0});a.queryByAttribute=a.isAvenirNextFontLoaded=a.ensureFontLoaded=a.ensureAvenirNextFontLoaded=a.vAlignToFlexAlignItems=
a.textAlignToFlexJustifyContent=a.docScroll=a.getWindowBox=a.stealFocus=a.getNodeFontSize=a.getNodeFontFamily=a.getMeasureContext=a.getTextBox=a.hasScrollbars=a.getScrollbarSize=a.scrollToListNode=a.traverseChildren=a.getNodesBox=a.noTransformPosition=a.showNodeFromBackground=a.hideNodeInBackground=a.enableContentAbsolute=a.enableContent=a.isNodeOnscreen=a.isNodeVisible=a.isNodeInLayout=a.isChildOf=a.getChildIndex=a.applyCallback=a.removeTag=a.addTag=a.displayChildren=a.display=a.show=a.hide=a.hasVisibleChildren=
a.isHidden=a.query=a.destroy=a.empty=a.place=a.toDom=a.create=a.getBorderExtents=a.getPadExtents=a.getPadBorderExtents=a.getContentBox=a.getMarginExtents=a.setMarginBox=a.getMarginBox=a.position=a.getTransformOriginProp=a.getTransformProp=a._toStyleValue=a.toPixelValue=a.getComputedStyle=a.setFullTextStyle=a.setStyle=a.getStyle=a.containsClass=a.toggleClass=a.replaceClass=a.removeClass=a.addClass=a.setAttribute=a.isBodyLtr=a.setBodyDir=a.isHTMLElement=void 0;x=u.__importDefault(x);a.isHTMLElement=
function(c){return x.default("worker")?!1:c instanceof HTMLElement};var ja,pa,ma;a.setBodyDir=function(c){if(!x.default("worker"))throw Error("This function is to be used inside a web worker only!");ma=c};a.isBodyLtr=function(){return"ltr"===((x.default("worker")?ma:document.body.dir)||"ltr").toLowerCase()};var ia={innerHTML:1,textContent:1,className:1,value:1},ta={classname:"class"},qa={class:"className",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",
textcontent:"textContent"};a.setAttribute=m;a.addClass=b;a.removeClass=d;a.replaceClass=function(c,g,B){d(c,B);b(c,g)};a.toggleClass=function(c,g,B){B?b(c,g):d(c,g)};a.containsClass=k;var ra={left:!0,top:!0},va={cssFloat:1,styleFloat:1,float:1},za=/margin|padding|width|height|max|min|offset/;a.getStyle=p;a.setStyle=r;a.setFullTextStyle=function(c,g){if(g.fontSize||g.lineHeight)g=Object.assign({},g);g.fontSize&&(g.fontSize+="px");g.lineHeight&&(g.lineHeight+="px");r(c,g)};a.getComputedStyle=h;a.toPixelValue=
q;a._toStyleValue=t;a.getTransformProp=function(){return"transform"};a.getTransformOriginProp=function(){return"transformOrigin"};a.position=E;a.getMarginBox=T;a.setMarginBox=function(c,g,B){var I=g.w,ba=g.h,ka=B||h(c);B=L(c,ka);ka=Y(c,ka);0<=I&&(I=Math.max(I-B.w-ka.w,0));0<=ba&&(ba=Math.max(ba-B.h-ka.h,0));B=g.l;g=g.t;ka="px";c=c.style;isNaN(B)||(c.left=B+ka);isNaN(g)||(c.top=g+ka);0<=I&&(c.width=I+ka);0<=ba&&(c.height=ba+ka)};a.getMarginExtents=Y;a.getContentBox=v;a.getPadBorderExtents=L;a.getPadExtents=
S;a.getBorderExtents=V;a.create=y;a.toDom=function(c){return c&&y("div",{innerHTML:c}).children[0]};a.place=D;a.empty=Z;a.destroy=ha;a.query=function(c,g){var B=[],I=c.split(".").filter(function(ka){return!!ka}),ba=-1===c.indexOf(".")||0<c.indexOf(".")?I.shift().toLowerCase():null;if(!ba&&!I.length)return B;X(g||document.body,function(ka){var ya=!I.length||I.every(function(xa){return k(ka,xa)}),ua=!ba||ka.nodeName.toLowerCase()===ba;ya&&ua&&B.push(ka)});return B};a.isHidden=F;a.hasVisibleChildren=
function(c){if(!c||!c.children.length)return!1;for(var g=0;g<c.children.length;g++)if(!F(c.children[g]))return!0;return!1};a.hide=G;a.show=N;a.display=O;a.displayChildren=function(c,g){for(var B=0,I=c.children.length;B<I;B++)O(c.children[B],g)};a.addTag=W;a.removeTag=ea;a.applyCallback=fa;a.getChildIndex=function(c,g){if(!c||!c.children||!g)return-1;for(var B=0;B<c.children.length;B++)if(c.children[B]===g)return B;return-1};a.isChildOf=z;a.isNodeInLayout=function(c){return z(c,document.body,function(g){return K(g)})};
a.isNodeVisible=function(c){return z(c,document.body,function(g){return K(g)&&"hidden"!==p(g,"visibility")})};a.isNodeOnscreen=function(c){return z(c,document.body,function(g){return!k(g,"esriGEOffscreen")})};a.enableContent=J;a.enableContentAbsolute=function(c,g,B){var I=p(c,"position");"relative"!==I&&"absolute"!==I&&r(c,"position","relative");B=B||{};return J(c,g,{overlayClass:"esriGEAbsoluteStretched "+(B.overlayClass||"")+(B.isTransparent?" esriGEDisabledContentTransparent ":""),fitParent:!1,
textContent:B.textContent})};a.hideNodeInBackground=function(c,g){if(!c)return null;if(c._hideNodeInBackgroundUndoController)return c._hideNodeInBackgroundUndoController;var B=y("div",{style:"display:none;"},c,"after");ja||(ja=y("div",{class:"esriGEOffscreen"},document.body));var I=y("div",{style:"position:absolute;left:0px;top:0px;"},ja);D(c,I);g="DomUtil.hideNodeInBackground"+(g?"."+g:"");m(B,"_bg_memo_node",g);m(I,"_bg_temp_node",g);g={remove:function(){B&&(B.parentNode&&c.parentNode&&D(c,B,"replace"),
ha(B),ha(I),ja.children.length||(ha(ja),ja=null),B=null,delete c._hideNodeInBackgroundUndoController)}};return c._hideNodeInBackgroundUndoController=g};a.showNodeFromBackground=function(c){c&&c._hideNodeInBackgroundUndoController&&c._hideNodeInBackgroundUndoController.remove()};a.noTransformPosition=U;a.getNodesBox=function(c,g){if(!c||!c.length)return null;g=g||{};for(var B=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,ba=Number.POSITIVE_INFINITY,ka=Number.NEGATIVE_INFINITY,ya=0;ya<c.length;ya++){var ua=
c[ya];ua=g.ignoreTransformation?U(ua):E(ua);B=Math.min(B,ua.x);ba=Math.min(ba,ua.y);I=Math.max(I,ua.x+ua.w);ka=Math.max(ka,ua.y+ua.h)}c={x:B,y:ba,w:I-B,h:ka-ba};g.originNode&&(g=g.ignoreTransformation?U(g.originNode):E(g.originNode),c.x-=g.x,c.y-=g.y);return c};a.traverseChildren=X;a.scrollToListNode=function(c,g,B){var I=g.offsetTop+g.clientHeight,ba=I-(c.scrollTop+c.clientHeight);0<ba&&(c.scrollTop+=ba);B&&(I-=g.clientHeight-B.offsetTop,ba=c.scrollTop-I,0<ba&&(c.scrollTop-=ba))};a.getScrollbarSize=
function(){if(!pa){var c=y("div",null,document.body);c.style.width="100px";c.style.height="100px";c.style.overflow="scroll";c.style.position="absolute";c.style.top="9999px";pa={w:c.offsetWidth-c.clientWidth,h:c.offsetHeight-c.clientHeight};ha(c)}return pa};a.hasScrollbars=function(c){var g=h(c);return{w:"scroll"===g.overflowX||c.offsetWidth>c.clientWidth&&"auto"===g.overflowX,h:"scroll"===g.overflowY||c.offsetHeight>c.clientHeight&&"auto"===g.overflowY}};a.getTextBox=function(c,g){g=da(g);c=g.measureText(c);
g.destroy();return c};var sa;a.getMeasureContext=da;a.getNodeFontFamily=function(c){return(c=p(c,"fontFamily")||h(c).fontFamily)&&c.replace(/'|"/g,"").split(",")[0]};a.getNodeFontSize=function(c){return q(p(c,"fontSize"))};a.stealFocus=function(){var c=w.createDeferred();try{var g=y("input",{type:"text",style:"position: absolute; left: 0px; top: 0px;"});D(g,document.body);g.select();ha(g)}catch(B){}setTimeout(c.resolve,0);return c.promise};a.getWindowBox=function(){for(var c=[],g=0,B=document.body.children.length;g<
B;g++){var I=document.body.children[g];F(I)||(G(I),c.push(I))}g={w:document.body.clientWidth,h:document.body.clientHeight};c.forEach(function(ba){N(ba)});return g};a.docScroll=na;a.textAlignToFlexJustifyContent=function(c){switch(c){case "left":case "justify":return"flex-start";case "center":return"center";case "right":return"flex-end"}};a.vAlignToFlexAlignItems=function(c){switch(c){case "top":return"flex-start";case "middle":return"center";case "bottom":return"flex-end"}};var f={},A={};a.ensureAvenirNextFontLoaded=
function(){return la("Avenir Next")};var H="a\u0100\u0370\u0400\u10a0\u0600\u0590\u0900".split(""),Q=["13px","bold 13px","italic 13px","italic bold 13px"];a.ensureFontLoaded=la;a.isAvenirNextFontLoaded=function(){return!!A["Avenir Next"]};a.queryByAttribute=function(c,g,B){var I=[];if(!c)return I;X(B||document.body,function(ba){var ka=ba.getAttribute(c);null===ka||void 0!==g&&g!==ka||I.push(ba)});return I}})},"geoenrichment/widgets/utils/MessageUtil":function(){define("require exports tslib esri4/intl/locale ../../global ../../has ../../utils/FileUtil ../../utils/ObjectUtil ../../utils/PromiseUtil ../../utils/UrlUtil".split(" "),
function(l,a,u,x,w,n,m,b,d,k){function p(){var v=T[0],L=(q||x.getLocale()).substr(0,2);-1===T.indexOf(L)&&(L=v);t=L;if(E[L])return E[L];var S=[];if(!h[L]){var V=h[L]={};var y=n.default("report-player-dist-build")?{infographics:"t9n/infographics",ReportPlayer:"t9n/ReportPlayer",widgets:"t9n/widgets"}:{DataBrowser:"geoenrichment/t9n/DataBrowser",infographics:"geoenrichment/t9n/infographics",ReportPlayer:"geoenrichment/t9n/ReportPlayer",widgets:"geoenrichment/t9n/widgets"};var D=function(Z){S.push(r(y[Z]+
"/"+Z+"_"+(Y[L]||L)+".json").then(function(ha){V[Z]=ha;return L!==v?d.when(h[v]&&h[v][Z]||r(y[Z]+"/"+Z+"_"+v+".json")).then(function(F){b.populateObject(V[Z],F)}):null}))},P;for(P in y)D(P)}return E[L]=Promise.all(S).then(function(){})}function r(v){return w.default.XMLHttpRequest?m.loadLocalFile(k.relativeModuleUrlToAbsolute(v)).then(function(L){return JSON.parse(L)}).catch(function(){return{}}):Promise.resolve({})}Object.defineProperty(a,"__esModule",{value:!0});a.loadedModulesFromJSON=a.loadedModulesToJSON=
a.loadGEMessages=a.setGELocale=a.getGEMessages=void 0;w=u.__importDefault(w);n=u.__importDefault(n);var h={},q,t,E={},T=["en","de","fr","ja","pt"],Y={pt:"pt-BR"};a.getGEMessages=function(v){var L=h[t];v=L&&L[v];if(!v)throw Error("Messages are not loaded.");return v};a.setGELocale=function(v){q=v};a.loadGEMessages=p;a.loadedModulesToJSON=function(){return{currentLocale:t,userLocale:q,modules:h}};a.loadedModulesFromJSON=function(v){t=v.currentLocale;q=v.userLocale;Object.assign(h,v.modules)};!n.default("worker")&&
p()})},"esri4/intl/locale":function(){define(["exports","../core/global"],function(l,a){function u(){var t,E;return null!=(t=null!=p?p:null==(E=a.navigator)?void 0:E.language)?t:"en"}function x(){return void 0===k&&(k=u()),k}function w(){var t;const E=null!=(t=d)?t:u();k!==E&&(k=E,[...q].forEach(T=>{T.call(null,E)}),[...h].forEach(T=>{T.call(null,E)}))}var n,m,b;let d,k;const p=null!=(n=null==(m=a.esriConfig)?void 0:m.locale)?n:null==(b=a.dojoConfig)?void 0:b.locale,r={he:!0,ar:!0},h=[],q=[];null==
a.addEventListener||a.addEventListener("languagechange",w);l.beforeLocaleChange=function(t){return q.push(t),{remove(){h.splice(q.indexOf(t),1)}}};l.getDefaultLocale=u;l.getLocale=x;l.onLocaleChange=function(t){return h.push(t),{remove(){h.splice(h.indexOf(t),1)}}};l.prefersRTL=function(t=x()){t=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(t);t=null==t?void 0:t[1].toLowerCase();return void 0!==t&&(r[t]||!1)};l.setLocale=function(t){d=t||void 0;w()};Object.defineProperty(l,"__esModule",{value:!0})})},"geoenrichment/utils/FileUtil":function(){define("require exports tslib ./DataUtil ./ImageUtil ./PromiseUtil".split(" "),
function(l,a,u,x,w,n){function m(){return Promise.reject(Error("Saving not supported."))}function b(){return void 0!==window.Blob}function d(r,h){h=k(h||"download");var q=window.URL||window.webkitURL,t=n.createDeferred();if("download"in window.document.createElement("a")){var E=q.createObjectURL(r);r=window.document.createElement("a");r.href=E;r.download=h;r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!1}));setTimeout(function(){q.revokeObjectURL(E);t.resolve()},1E3)}else{h=new File([r],
h,{type:r.type});var T=q.createObjectURL(h);window.open(T,"_blank");setTimeout(function(){q.revokeObjectURL(T);t.resolve()},1E3)}return t.promise}function k(r){return String(r).trim().replace(p,"")}Object.defineProperty(a,"__esModule",{value:!0});a.loadLocalFile=a.validateName=a.saveAs=a.saveImageFile=a.saveTextFile=a.savingSupported=void 0;x=u.__importStar(x);w=u.__importStar(w);var p=/[\\/:*?"<>|]/g;a.savingSupported=b;a.saveTextFile=function(r,h,q){return b()?d(new Blob([r],{type:q||"text/plain"}),
h||"text.txt"):m()};a.saveImageFile=function(r,h){if(!b())return m();if("string"===typeof r){var q=w.base64DataFromDataURL(r);q=x.binaryStringToByteArray(atob(q)).buffer}else r instanceof ArrayBuffer&&(q=r);return d(q?x.arrayBuffersToBlob([q],"image/png"):r,h)};a.saveAs=d;a.validateName=k;a.loadLocalFile=function(r){var h=n.createDeferred(),q=new XMLHttpRequest;q.onreadystatechange=function(){4===q.readyState?(h.resolve(q.responseText),q=h=null):404===q.status&&h.reject(Error("File not found."))};
q.onerror=function(t){h.reject(t)};q.open("GET",r,!0);q.send(null);return h.promise}})},"geoenrichment/utils/ImageUtil":function(){define(["require","exports","./PromiseUtil"],function(l,a,u){function x(h){return!(!h||!/^data:image/.test(h))}function w(h,q){if(x(h))return h;q=q||n(h,"base64")||"image/png";return"data:"+q+";base64,"+h}function n(h,q){"data-url"===q&&(h=m(h));h=atob(h.substr(0,16));return"\u00ff\u00d8\u00ff"===h.substr(0,3)&&"JFIF"===h.substr(6,4)?"image/jpeg":"\u0089PNG\r\n\u001a\n"===
h.substr(0,8)?"image/png":"GIF89a"===h.substr(0,6)||"GIF87a"===h.substr(0,6)?"image/gif":"BM"===h.substr(0,2)?"image/bmp":"II*\x00"===h.substr(0,4)||"MM\x00*"===h.substr(0,4)?"image/tiff":"\x3csvg"===h.substr(0,4)?"image/svg+xml":null}function m(h){0===h.indexOf("data:")&&(h=h.substr(h.indexOf(",")+1));return h}function b(h){h=0===h.indexOf("data:")?h.indexOf(";base64,"):-1;return 0<h?h+8:0}function d(h){var q=b(h);return q?h.substring(5,q-8):null}function k(h){return.75*h.length}function p(h,q){var t=
void 0===q?{}:q;q=t.width;var E=t.height,T=t.pos,Y=t.opacity;t=t.format;var v=document.createElement("canvas"),L=v.getContext("2d");v.width=q||h.width;v.height=E||h.height;null!=Y&&!isNaN(Y)&&0<=Y&&1>Y&&(L.globalAlpha=+Y,t="image/png");T?L.drawImage(h,T.x||0,T.y||0):L.drawImage(h,0,0,v.width,v.height);return v.toDataURL(t)}function r(h,q){var t=u.createDeferred(),E=new Image;0!==h.indexOf("data:")&&q&&q.crossOrigin&&E.setAttribute("crossOrigin",q.crossOrigin);E.onload=function(){E.width&&E.height?
t.resolve(E):t.reject(Error("Error of reading an image from URL."));E.onload=E.onerror=null};E.onerror=function(T){t.reject(T);E.onload=E.onerror=null};E.src=h;return t.promise}Object.defineProperty(a,"__esModule",{value:!0});a.getImageViewType=a.scaleImage=a.imageFromUrl=a.imageToDataURL=a.getBase64FileSize=a.checkBase64FileSize=a.getContentType=a.getBase64DataIndex=a.base64DataFromDataURL=a.getImageContentType=a.base64DataToDataURL=a.isDataUrl=void 0;a.isDataUrl=x;a.base64DataToDataURL=w;a.getImageContentType=
n;a.base64DataFromDataURL=m;a.getBase64DataIndex=b;a.getContentType=d;a.checkBase64FileSize=function(h,q){return k(h)<=q};a.getBase64FileSize=k;a.imageToDataURL=p;a.imageFromUrl=r;a.scaleImage=function(h,q){var t=u.createDeferred();if("string"===typeof h){h=w(h);var E=d(h);r(h).then(t.resolve,t.reject)}else t.resolve(h);return t.promise.then(function(T){var Y=1,v=T.width,L=T.height;if(q.factor)Y=q.factor;else if(q.maxDim)Y=q.maxDim/Math.max(v,L);else if(q.imageDim){var S=q.imageDim.w,V=q.imageDim.h;
q.imageDim.preserveRatio?(Y=Math.min(S/v,V/L),q.imageDim.reduceOnly&&1<Y&&(Y=1)):q.imageDim.reduceOnly?(v=Math.min(v,S),L=Math.min(L,V)):(v=S,L=V)}return p(T,{width:v*Y,height:L*Y,format:q.format||E,opacity:q.opacity})})};a.getImageViewType=function(h,q){return 1E3<=q?(h/=q,.025>=Math.abs(h-2)?"360":2<h?"pano":null):null}})},"geoenrichment/utils/ObjectUtil":function(){define(["require","exports"],function(l,a){function u(r,h,q){void 0===q&&(q=!1);for(var t in r){var E=r[t],T=E&&"object"===typeof E;
q&&!T||h(E,t,r);T&&u(E,h,q)}}function x(r){return null!==r&&"object"===typeof r&&Object.getPrototypeOf(r)===Object.prototype}function w(r,h){if(Array.isArray(r)){var q=[];for(var t=q.length=r.length,E=0;E<t;E++){var T=r[E];q[E]=null===T||"object"!==typeof T?T:w(T,!1)}}else if(x(r))for(E in q={},r)T=r[E],q[E]=null===T||"object"!==typeof T?T:w(T,!1);else return r;h&&Object.freeze(q);return q}function n(r){if(Array.isArray(r))for(var h=0,q=r.length;h<q;h++){var t=r[h];"object"===typeof t&&null!==t&&
n(t)}else for(h in r)t=r[h],"object"===typeof t&&null!==t&&Object.hasOwnProperty.call(r,h)&&n(t);Object.freeze(r);return r}function m(r,h){if(r===h)return!0;if("object"!==typeof r||"object"!==typeof h||null===r||null===h)return!1;if(Array.isArray(r)&&Array.isArray(h)){a:if(r.length!==h.length)r=!1;else{for(var q=0,t=r.length;q<t;q++)if(!m(r[q],h[q])){r=!1;break a}r=!0}return r}return Array.isArray(r)||Array.isArray(h)?!1:r.constructor!==h.constructor?!1:b(r,h)}function b(r,h){if(r.constructor!==h.constructor)return!1;
var q=Object.keys(r).sort(),t=Object.keys(h).sort();if(q.length!==t.length)return!1;for(var E=0,T=q.length;E<T;E++){var Y=q[E];if(Y!==t[E]||!m(r[Y],h[Y]))return!1}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.isEqual=a.map=a.deepFreeze=a.clone=a.isJsonObject=a.fixJsonString=a.substituteString=a.undefinedToDefault=a.setValue=a.getValue=a.removeUndefinedProperties=a.copyOwnJsonProperties=a.traverseObject=a.filterByPattern=a.populateObject=void 0;a.populateObject=function(r,h,q){function t(E,
T){function Y(L){var S=E[L],V=T[L],y=S&&"object"===typeof S;void 0!==S&&(void 0===V?T[L]=S:V&&"object"===typeof V&&y?t(S,V):q&&(y?(V=T[L]={},t(S,V)):T[L]=E[L]))}if(E&&T&&!(Array.isArray(E)&&!Array.isArray(T)||Array.isArray(T)&&!Array.isArray(E)))if(Array.isArray(E))E.forEach(function(L,S){Y(S)});else for(var v in E)Y(v)}void 0===q&&(q=!1);t(h,r);return r};a.filterByPattern=function(r,h){function q(E,T,Y){var v=function(S){var V=E[S],y=T[S];if(Array.isArray(V)){var D=V[0];if(y&&Array.isArray(y)){var P=
Y[S]=[];y.forEach(function(Z){if(Z&&"object"===typeof Z){var ha=Array.isArray(Z)?[]:{};q(D,Z,ha);P.push(ha)}})}}else"object"===typeof V?y&&"object"===typeof y&&(S=Y[S]={},q(V,y,S)):void 0!==y&&(Y[S]=y)},L;for(L in E)v(L)}var t={};q(h,r,t);return t};a.traverseObject=u;a.copyOwnJsonProperties=function(r,h,q){h=h||{};for(var t in r){var E=r[t];r.hasOwnProperty(t)&&"function"!==typeof E&&(E&&"object"===typeof E&&q&&(E=q(t,E)),void 0!==E&&(h[t]=E))}return h};a.removeUndefinedProperties=function(r){r&&
Object.keys(r).forEach(function(h){void 0===r[h]&&delete r[h]});return r};a.getValue=function(r,h){if("string"!==typeof h)return r;h=h.split(".");for(var q=0;q<h.length;q++)r=r&&r[h[q]];return r};a.setValue=function(r,h,q){if("string"===typeof h&&(h=h.split("."),h.length)){for(var t=0;t<h.length-1;t++)r=r&&r[h[t]];r&&(r[h[h.length-1]]=q)}};a.undefinedToDefault=function(r,h){return void 0===r?h:r};var d=/\$\{.+?\}/g,k=/^\$\{|\}$/g;a.substituteString=function(r,h,q,t){return r.replace(d,function(E){E=
E.replace(k,"");if(t&&t.nested&&-1!==E.indexOf(".")){var T=h;E.split(".").forEach(function(Y){T=T[Y]})}else T=h[E];return q?q(T+""):T+""})};var p=/'/g;a.fixJsonString=function(r){return-1===r.indexOf("'")?r:r.replace(p,'"')};a.isJsonObject=x;a.clone=function(r,h){return null===r||"object"!==typeof r?r:w(r,h)};a.deepFreeze=function(r){return"object"!==typeof r||null===r?r:n(r)};a.map=function(r,h){var q={},t;for(t in r)Object.hasOwnProperty.call(r,t)&&(q[t]=h(r[t],t));return q};a.isEqual=m})},"geoenrichment/utils/workers/GeometryUtil_worker":function(){define(["require",
"exports","../GeometryUtil_base"],function(l,a,u){Object.defineProperty(a,"__esModule",{value:!0});a.generalize=void 0;a.generalize=function(x){for(var w=x.rings,n=0;n<w.length;n++)(new u.RingInfo(w[n])).generalize(x.maxAllowableOffset,.8);return w}})},"geoenrichment/utils/GeometryUtil_base":function(){define(["require","exports"],function(l,a){function u(m,b){var d=m.length;if(3>d)return 0;b||(b=m[0]);var k=b[0];b=b[1];var p=m[d-1];d=p[0]-k;for(var r=p[1]-b,h=0,q=0,t=m.length;q<t;q++){p=m[q];var E=
p[0]-k;p=p[1]-b;h+=E*r-d*p;d=E;r=p}return h/2}Object.defineProperty(a,"__esModule",{value:!0});a.RingCoordinates=a.createSegmentCoordinates=a.RingInfo=a.createRingInfo=a.BOUNDARY=a.EXTERIOR=a.INTERIOR=a.calculateRingCentroid=a.calculateRingArea=void 0;var x=function(){return function(m,b,d,k){this.xmin=m;this.ymin=b;this.xmax=d;this.ymax=k}}();a.calculateRingArea=u;a.calculateRingCentroid=function(m,b){var d=m.length;if(!d)return null;b||(b=m[0]);var k=b[0];b=b[1];var p=0,r=0,h=0;if(2<d){var q=m[d-
1];d=q[0]-k;for(var t=q[1]-b,E=0,T=m.length;E<T;E++){q=m[E];var Y=q[0]-k;q=q[1]-b;var v=Y*t-d*q;p+=v;r+=(d+Y)*v;h+=(t+q)*v;d=Y;t=q}}0===p?r=h=0:(r/=3*p,h/=3*p);return[k+r,b+h]};a.INTERIOR=1;a.EXTERIOR=-1;a.BOUNDARY=0;a.createRingInfo=function(m,b){return new w(m,b)};var w=function(){function m(b,d){this.area=0;this.ring=b;this.origin=d;b=this.ring.length-1;if(!(0>b)){if(!b)b++;else if(this.ring[b][0]!==this.ring[0][0]||this.ring[b][1]!==this.ring[0][1])b++,this.ring.push(this.ring[0].slice());var k=
0,p=0;d=!d;this.extent=new x(this.ring[0][0],this.ring[0][1],this.ring[0][0],this.ring[0][1]);for(var r=0;r<b;r++){var h=this.ring[r],q=h[0];d&&(k+=q);q<this.extent.xmin?this.extent.xmin=q:q>this.extent.xmax&&(this.extent.xmax=q);q=h[1];d&&(p+=q);q<this.extent.ymin?this.extent.ymin=q:q>this.extent.ymax&&(this.extent.ymax=q)}d&&(this.origin=[k/b,p/b]);this.area=u(this.ring,this.origin);0>=this.area?this.area=-this.area:this.clockwise=!0}}m.prototype.setDirection=function(b){this.clockwise===!b&&(this.ring.reverse(),
this.clockwise=!this.clockwise,this._coords=null)};m.prototype.testPoint=function(b,d){b=this.getRingCoordinates(d).testPoint(b[0]-this.origin[0],b[1]-this.origin[1]);return this.clockwise?b:-b};m.prototype.generalize=function(b,d,k){function p(G,N,O){v=G;L=N;if(O||y<Y)Y=b,S=v-E,V=L-E,y=Math.sqrt(S*S+V*V),y>b*d?(S/=y,V/=y):y=0;Y*=d}function r(){if(!y)return!0;var G=h.dx,N=h.dy,O=Math.sqrt(G*G+N*N);return O-G*S-N*V>=.9*O}d=d||.75;var h=this.getRingCoordinates(b),q=h.xs,t=h.ys,E=q[0],T=t[0],Y,v,L,S,
V,y=0,D=q.length-1;p(q[D],t[D],!0);for(var P=this,Z=this.clockwise?function(G){P.ring.splice(G,1)}:function(G){P.ring.splice(-G-1,1)};0<D--&&4<q.length;){var ha=q[D],F=t[D];h.setSegment(E,T,ha,F)&&h.testPointOnTouch(v,L,Y)&&r()?(q.splice(D+1,1),t.splice(D+1,1),Z(D+1),p(ha,F)):(E=v,T=L,p(ha,F,!0))}this._coords=null;k&&(this.area=u(this.ring,this.origin),this.clockwise||(this.area=-this.area))};m.prototype.getRingCoordinates=function(b,d){if(d)return new n(this.ring,d[0],d[1],b,this.extent,this.clockwise);
this._coords&&this._coords.eps===b||(this._coords=new n(this.ring,this.origin[0],this.origin[1],b,this.extent,this.clockwise));return this._coords};return m}();a.RingInfo=w;a.createSegmentCoordinates=function(m){return new n(null,0,0,m)};var n=function(){function m(b,d,k,p,r,h){this.eps=NaN;this.xs=[];this.ys=[];b||(b=[]);void 0===d&&(d=0);void 0===k&&(k=0);void 0===p&&(p=0);this.eps=Math.max(p,0);r&&(p=this.eps/2,this.extent=new x(r.xmin-d-p,r.ymin-k-p,r.xmax-d+p,r.ymax-k+p));var q=b.length-1;if(!(0>
q))for(r=q?b[q][0]===b[0][0]&&b[q][1]===b[0][1]?q:q+1:1,p=h?1:-1,h=h?0:q;r--;h+=p)q=b[h],this.xs.push(q[0]-d),this.ys.push(q[1]-k)}m.prototype.testPoint=function(b,d){if(!this._pointBelongsToExtent(b,d))return a.EXTERIOR;var k=this.xs.length,p=!1;this.dy=this.ys[0]-this.ys[k-1];if(0===this.dy){for(p=k;1<p--&&(this.dy=this.ys[p]-this.ys[p-1],0===this.dy););if(0===this.dy)return a.BOUNDARY}p=0<this.dy;for(var r=0,h=this.xs[0],q=this.ys[0],t,E,T=1;T<=k;T++,h=t,q=E)if(E=T===k?0:T,t=this.xs[E],E=this.ys[E],
this.setSegment(h,q,t,E)){var Y=q-d,v=E-d,L=!1;0>Y&&(Y=-Y,v=-v,L=!0);if(!(Y>this.eps&&v>this.eps)){if(this.testPointOnTouch(b,d,this.eps))return a.BOUNDARY;0===Y?0!==v&&(0>v&&(p=!p),b<h&&p&&r++):0===v?p=L:0>v&&b<h+this.dx/this.dy*(d-q)&&r++}}return 0!==r%2?a.INTERIOR:a.EXTERIOR};m.prototype.testPointOnTouch=function(b,d,k){var p=this.findIntersectionDelta(b,d,b-this.dy,d+this.dx);b=this._sx+p*this.dx-b;d=this._sy+p*this.dy-d;return b*b+d*d<=k*k};m.prototype._pointBelongsToExtent=function(b,d){return b>=
this.extent.xmin&&b<=this.extent.xmax&&d>=this.extent.ymin&&d<=this.extent.ymax};m.prototype.setSegment=function(b,d,k,p){this._sx=b;this.dx=k-b;this._sy=d;this.dy=p-d;return 0!==this.dx||0!==this.dy};m.prototype.findIntersectionDelta=function(b,d,k,p,r){void 0===r&&(r=!0);k-=b;p-=d;var h=this.dy*k-this.dx*p;if(0===h)return 0;var q=b-this._sx,t=d-this._sy,E=t*k-q*p;q=r?0:t*this.dx-q*this.dy;0>h&&(h=-h,E=-E,q=-q);return r||(q=0>q?0:q<h?q/h:1,this.testPointOnTouch(b+q*k,d+q*p,this.eps))?0>=E?0:E<h?
E/h:1:-1};m.prototype.addPointOfSegmentAt=function(b){this.xs.push(this._sx+b*this.dx);this.ys.push(this._sy+b*this.dy)};return m}();a.RingCoordinates=n})},"*noref":1}});(function(){var l=this.require;l({cache:{}});!l.async&&l(["dojo"]);l.boot&&l.apply(null,l.boot)})();