//>>built
(function(a,b){var c=function(){return"undefined"!==typeof f&&"function"!==typeof f?f:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),e=function(){},d=function(ba){for(var Ba in ba)return 0;return 1},p={}.toString,r=function(ba){return"[object Function]"==p.call(ba)},u=function(ba){return"[object String]"==p.call(ba)},n=function(ba){return"[object Array]"==p.call(ba)},k=function(ba,Ba){if(ba)for(var Ia=0;Ia<ba.length;)Ba(ba[Ia++])},g=function(ba,Ba){for(var Ia in Ba)ba[Ia]=
Ba[Ia];return ba},l=function(ba,Ba){return g(Error(ba),{src:"dojoLoader",info:Ba})},q=1,m=function(){return"_"+q++},t=function(ba,Ba,Ia){return da(ba,Ba,Ia,0,t)},f=c,h=f.document,v=h&&h.createElement("DiV"),w=t.has=function(ba){return r(D[ba])?D[ba]=D[ba](f,h,v):D[ba]},D=w.cache=b.hasCache;r(a)&&(a=a(c));w.add=function(ba,Ba,Ia,Ma){(void 0===D[ba]||Ma)&&(D[ba]=Ba);return Ia&&w(ba)};w.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);w("host-webworker")&&
(g(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(ba,Ba){try{importScripts(ba),Ba()}catch(Ia){console.info("failed to load resource ("+ba+")"),console.error(Ia)}}});for(var x in a.has)w.add(x,a.has[x],0,1);t.async=1;var y=w("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");t.eval=function(ba,Ba){return y(ba+"\r\n//# sourceURL\x3d"+Ba)};var z={},
A=t.signal=function(ba,Ba){ba=z[ba];k(ba&&ba.slice(0),function(Ia){Ia.apply(null,n(Ba)?Ba:[Ba])})};x=t.on=function(ba,Ba){var Ia=z[ba]||(z[ba]=[]);Ia.push(Ba);return{remove:function(){for(var Ma=0;Ma<Ia.length;Ma++)if(Ia[Ma]===Ba){Ia.splice(Ma,1);break}}}};var C=[],B={},E=[],G={},J=t.map={},K=[],F={},H="",I={},L={};c={};var Q=0;if(!w("foreign-loader"))var Z=function(ba,Ba){Ba=!1!==Ba;var Ia,Ma;for(Ia in L){var Ya=L[Ia];if(Ma=Ia.match(/^url:(.+)/))I["url:"+xa(Ma[1],ba)]=Ya;else if("*now"==Ia)var V=
Ya;else"*noref"!=Ia&&(Ma=ja(Ia,ba,!0),I[Ma.mid]=I["url:"+Ma.url]=Ya)}V&&V(S(ba));Ba&&(L={})};var ca=function(ba){return ba.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(Ba){return"\\"+Ba})},aa=function(ba,Ba){Ba.splice(0,Ba.length);for(var Ia in ba)Ba.push([Ia,ba[Ia],new RegExp("^"+ca(Ia)+"(/|$)"),Ia.length]);Ba.sort(function(Ma,Ya){return Ya[3]-Ma[3]});return Ba},O=function(ba,Ba){k(ba,function(Ia){Ba.push([u(Ia[0])?new RegExp("^"+ca(Ia[0])+"$"):Ia[0],Ia[1]])})},fa=function(ba){var Ba=ba.name;
Ba||(Ba=ba,ba={name:Ba});ba=g({main:"main"},ba);ba.location=ba.location?ba.location:Ba;ba.packageMap&&(J[Ba]=ba.packageMap);ba.main.indexOf("./")||(ba.main=ba.main.substring(2));G[Ba]=ba},oa=[],Da=function(ba,Ba,Ia){for(var Ma in ba){"waitSeconds"==Ma&&(t.waitms=1E3*(ba[Ma]||0));"cacheBust"==Ma&&(H=ba[Ma]?u(ba[Ma])?ba[Ma]:(new Date).getTime()+"":"");if("baseUrl"==Ma||"combo"==Ma)t[Ma]=ba[Ma];ba[Ma]!==D&&(t.rawConfig[Ma]=ba[Ma],"has"!=Ma&&w.add("config-"+Ma,ba[Ma],0,Ba))}t.baseUrl||(t.baseUrl="./");
/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(Ma in ba.has)w.add(Ma,ba.has[Ma],0,Ba);k(ba.packages,fa);for(var Ya in ba.packagePaths)k(ba.packagePaths[Ya],function(V){var ma=Ya+"/"+V;u(V)&&(V={name:V});V.location=ma;fa(V)});aa(g(J,ba.map),K);k(K,function(V){V[1]=aa(V[1],[]);"*"==V[0]&&(K.star=V)});aa(g(B,ba.paths),E);O(ba.aliases,C);if(!w("foreign-loader")){if(Ba)oa.push({config:ba.config});else for(Ma in ba.config)Ba=Oa(Ma,Ia),Ba.config=g(Ba.config||{},ba.config[Ma]);ba.cache&&(Z(),L=ba.cache,Z(0,
!!ba.cache["*noref"]))}A("config",[ba,t.rawConfig])};if(w("dojo-cdn")){var Ha=h.getElementsByTagName("script");var ta=0;for(var Y,pa,wa,M;ta<Ha.length;)if(Y=Ha[ta++],(wa=Y.getAttribute("src"))&&(M=wa.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(pa=M[3]||"",b.baseUrl=b.baseUrl||pa,Q=Y),wa=Y.getAttribute("data-dojo-config")||Y.getAttribute("djConfig"))c=t.eval("({ "+wa+" })","data-dojo-config"),Q=Y}t.rawConfig={};Da(b,1);w("dojo-cdn")&&((G.dojo.location=pa)&&(pa+="/"),G.dijit.location=pa+"../dijit/",G.dojox.location=
pa+"../dojox/");Da(a,1);Da(c,1);if(!w("foreign-loader"))var R=function(ba){$a(function(){k(ba.deps,gb)})},da=function(ba,Ba,Ia,Ma,Ya){var V;if(u(ba)){if((V=Oa(ba,Ma,!0))&&V.executed)return V.result;throw l("undefinedModule",ba);}n(ba)||(Da(ba,0,Ma),ba=Ba,Ba=Ia);if(n(ba))if(ba.length){Ia="require*"+m();for(var ma,qa=[],Ea=0;Ea<ba.length;)ma=ba[Ea++],qa.push(Oa(ma,Ma));V=g(T("",Ia,0,""),{injected:2,deps:qa,def:Ba||e,require:Ma?Ma.require:t,gc:1});F[V.mid]=V;R(V);var Ua=Ra&&!0;$a(function(){Va(V,Ua)});
V.executed||X.push(V);ab()}else Ba&&Ba();return Ya},S=function(ba){if(!ba)return t;var Ba=ba.require;Ba||(Ba=function(Ia,Ma,Ya){return da(Ia,Ma,Ya,ba,Ba)},ba.require=g(Ba,t),Ba.module=ba,Ba.toUrl=function(Ia){return xa(Ia,ba)},Ba.toAbsMid=function(Ia){return ka(Ia,ba)});return Ba},X=[],ea=[],ha={},ra=function(ba){ba.injected=1;ha[ba.mid]=1;ba.url&&(ha[ba.url]=ba.pack||1);Wa()},na=function(ba){ba.injected=2;delete ha[ba.mid];ba.url&&delete ha[ba.url];d(ha)&&eb()},N=t.idle=function(){return!ea.length&&
d(ha)&&!X.length&&!Ra};var U=function(ba,Ba){if(Ba)for(var Ia=0;Ia<Ba.length;Ia++)if(Ba[Ia][2].test(ba))return Ba[Ia];return 0},P=function(ba){var Ba=[];for(ba=ba.replace(/\\/g,"/").split("/");ba.length;){var Ia=ba.shift();if(".."==Ia&&Ba.length&&".."!=Ma){Ba.pop();var Ma=Ba[Ba.length-1]}else"."!=Ia&&Ba.push(Ma=Ia)}return Ba.join("/")},T=function(ba,Ba,Ia,Ma){return{pid:ba,mid:Ba,pack:Ia,url:Ma,executed:0,def:0}},W=function(ba,Ba,Ia,Ma,Ya,V,ma,qa,Ea,Ua){var Ka,Ta,Aa;var Pa=/^\./.test(ba);if(/(^\/)|(:)|(\.js$)/.test(ba)||
Pa&&!Ba)return T(0,ba,0,ba);ba=P(Pa?Ba.mid+"/../"+ba:ba);if(/^\./.test(ba))throw l("irrationalPath",ba);Ua||Pa||!V.star||(Aa=U(ba,V.star[1]));!Aa&&Ba&&(Aa=(Aa=U(Ba.mid,V))&&U(ba,Aa[1]));Aa&&(ba=Aa[1]+ba.substring(Aa[3]));Ba=(M=ba.match(/^([^\/]+)(\/(.+))?$/))?M[1]:"";(Ka=Ia[Ba])?ba=Ba+"/"+(Ta=M[3]||Ka.main):Ba="";var Xa=0;k(qa,function(bb){var cb=ba.match(bb[0]);cb&&0<cb.length&&(Xa=r(bb[1])?ba.replace(bb[0],bb[1]):bb[1])});if(Xa)return W(Xa,0,Ia,Ma,Ya,V,ma,qa,Ea);if(Ia=Ma[ba])return Ea?T(Ia.pid,
Ia.mid,Ia.pack,Ia.url):Ma[ba];Ma=(Aa=U(ba,ma))?Aa[1]+ba.substring(Aa[3]):Ba?("/"===Ka.location.slice(-1)?Ka.location.slice(0,-1):Ka.location)+"/"+Ta:ba;/(^\/)|(:)/.test(Ma)||(Ma=Ya+Ma);return T(Ba,ba,Ka,P(Ma+".js"))},ja=function(ba,Ba,Ia){return W(ba,Ba,G,F,t.baseUrl,K,E,C,void 0,Ia)};if(!w("foreign-loader"))var va=function(ba,Ba,Ia){return ba.normalize?ba.normalize(Ba,function(Ma){return ka(Ma,Ia)}):ka(Ba,Ia)},Ga=0,Oa=function(ba,Ba,Ia){var Ma;if(Ma=ba.match(/^(.+?)!(.*)$/)){var Ya=Oa(Ma[1],Ba,Ia);
5!==Ya.executed||Ya.load||Ca(Ya);Ya.load?(Ma=va(Ya,Ma[2],Ba),ba=Ya.mid+"!"+(Ya.dynamic?++Ga+"!":"")+Ma):(Ma=Ma[2],ba=Ya.mid+"!"+ ++Ga+"!waitingForPlugin");ba={plugin:Ya,mid:ba,req:S(Ba),prid:Ma}}else ba=ja(ba,Ba);return F[ba.mid]||!Ia&&(F[ba.mid]=ba)};var ka=t.toAbsMid=function(ba,Ba){return ja(ba,Ba).mid},xa=t.toUrl=function(ba,Ba){Ba=ja(ba+"/x",Ba);var Ia=Ba.url;return db(0===Ba.pid?ba:Ia.substring(0,Ia.length-5))};if(!w("foreign-loader")){var za={injected:2,executed:5,def:3,result:3};pa=function(ba){return F[ba]=
g({mid:ba},za)};var La=pa("require"),Qa=pa("exports"),ia=pa("module"),sa={},Fa=0,Ca=function(ba){var Ba=ba.result;ba.dynamic=Ba.dynamic;ba.normalize=Ba.normalize;ba.load=Ba.load;return ba},Ja=function(ba){var Ba={};k(ba.loadQ,function(Ya){var V=va(ba,Ya.prid,Ya.req.module),ma=ba.dynamic?Ya.mid.replace(/waitingForPlugin$/,V):ba.mid+"!"+V;V=g(g({},Ya),{mid:ma,prid:V,injected:0});F[ma]&&F[ma].injected||ya(F[ma]=V);Ba[Ya.mid]=F[ma];na(Ya);delete F[Ya.mid]});ba.loadQ=0;var Ia=function(Ya){for(var V=Ya.deps||
[],ma=0;ma<V.length;ma++)(Ya=Ba[V[ma].mid])&&(V[ma]=Ya)},Ma;for(Ma in F)Ia(F[Ma]);k(X,Ia)},Sa=function(ba){t.trace("loader-finish-exec",[ba.mid]);ba.executed=5;ba.defOrder=Fa++;ba.loadQ&&(Ca(ba),Ja(ba));for(ta=0;ta<X.length;)X[ta]===ba?X.splice(ta,1):ta++;/^require\*/.test(ba.mid)&&delete F[ba.mid]},Na=[],Va=function(ba,Ba){if(4===ba.executed)return t.trace("loader-circular-dependency",[Na.concat(ba.mid).join("-\x3e")]),!ba.def||Ba?sa:ba.cjs&&ba.cjs.exports;if(!ba.executed){if(!ba.def)return sa;var Ia=
ba.mid,Ma=ba.deps||[],Ya,V=[],ma=0;for(ba.executed=4;Ya=Ma[ma++];){Ya=Ya===La?S(ba):Ya===Qa?ba.cjs.exports:Ya===ia?ba.cjs:Va(Ya,Ba);if(Ya===sa)return ba.executed=0,t.trace("loader-exec-module",["abort",Ia]),sa;V.push(Ya)}t.trace("loader-run-factory",[ba.mid]);Ba=ba.def;V=r(Ba)?Ba.apply(null,V):Ba;ba.result=void 0===V&&ba.cjs?ba.cjs.exports:V;Sa(ba)}return ba.result},Ra=0,$a=function(ba){try{Ra++,ba()}catch(Ba){throw Ba;}finally{Ra--}N()&&A("idle",[])},ab=function(){Ra||$a(function(){for(var ba,Ba,
Ia=0;Ia<X.length;)ba=Fa,Ba=X[Ia],Va(Ba),ba!=Fa?Ia=0:Ia++})}}var db="function"==typeof a.fixupUrl?a.fixupUrl:function(ba){ba+="";return ba+(H?(/\?/.test(ba)?"\x26":"?")+H:"")};void 0===w("dojo-loader-eval-hint-url")&&w.add("dojo-loader-eval-hint-url",1);var ya=function(ba){var Ba=ba.plugin;5!==Ba.executed||Ba.load||Ca(Ba);var Ia=function(Ma){ba.result=Ma;na(ba);Sa(ba);ab()};Ba.load?Ba.load(ba.prid,ba.req,Ia):Ba.loadQ?Ba.loadQ.push(ba):(Ba.loadQ=[ba],X.unshift(Ba),gb(Ba))},fb=0,hb=function(ba,Ba){w("config-stripStrict")&&
(ba=ba.replace(/(["'])use strict\1/g,""));ba===fb?fb.call(null):t.eval(ba,w("dojo-loader-eval-hint-url")?Ba.url:Ba.mid)},gb=function(ba){var Ba=ba.mid,Ia=ba.url;if(!(ba.executed||ba.injected||ha[Ba]||ba.url&&(ba.pack&&ha[ba.url]===ba.pack||1==ha[ba.url])))if(ra(ba),ba.plugin)ya(ba);else{var Ma=function(){Za(ba);if(2!==ba.injected){if(w("dojo-enforceDefine")){A("error",l("noDefine",ba));return}na(ba);g(ba,za);t.trace("loader-define-nonmodule",[ba.url])}ab()};(fb=I[Ba]||I["url:"+ba.url])?(t.trace("loader-inject",
["cache",ba.mid,Ia]),hb(fb,ba),Ma()):(t.trace("loader-inject",["script",ba.mid,Ia]),t.injectUrl(db(Ia),Ma,ba))}},jb=function(ba,Ba,Ia){t.trace("loader-define-module",[ba.mid,Ba]);if(2===ba.injected)return A("error",l("multipleDefine",ba)),ba;g(ba,{deps:Ba,def:Ia,cjs:{id:ba.mid,uri:ba.url,exports:ba.result={},setExports:function(Ya){ba.cjs.exports=Ya},config:function(){return ba.config}}});for(var Ma=0;Ba[Ma];Ma++)Ba[Ma]=Oa(Ba[Ma],ba);na(ba);r(Ia)||Ba.length||(ba.result=Ia,Sa(ba));return ba},Za=function(ba,
Ba){for(var Ia=[],Ma,Ya;ea.length;)Ya=ea.shift(),Ba&&(Ya[0]=Ba.shift()),Ma=Ya[0]&&Oa(Ya[0])||ba,Ia.push([Ma,Ya[1],Ya[2]]);Z(ba);k(Ia,function(V){R(jb.apply(null,V))})},eb=e,Wa=e;w("dom");if(w("dom")){var la=function(ba,Ba,Ia,Ma){ba.addEventListener(Ba,Ma,!1);return function(){ba.removeEventListener(Ba,Ma,!1)}},ua=la(window,"load","onload",function(){t.pageLoaded=1;try{"complete"!=h.readyState&&(h.readyState="complete")}catch(ba){}ua()});Ha=h.getElementsByTagName("script");for(ta=0;!Q;)/^dojo/.test((Y=
Ha[ta++])&&Y.type)||(Q=Y);t.injectUrl=function(ba,Ba,Ia){Ia=Ia.node=h.createElement("script");var Ma=la(Ia,"load","onreadystatechange",function(V){V=V||window.event;var ma=V.target||V.srcElement;if("load"===V.type||/complete|loaded/.test(ma.readyState))Ma(),Ya(),Ba&&Ba()}),Ya=la(Ia,"error","onerror",function(V){Ma();Ya();A("error",l("scriptError: "+ba,[ba,V]))});Ia.type="text/javascript";Ia.charset="utf-8";Ia.src=ba;Q.parentNode.insertBefore(Ia,Q);return Ia}}t.log=e;t.trace=e;w("foreign-loader")?
Y=e:(Y=function(ba,Ba,Ia){var Ma=arguments.length,Ya=["require","exports","module"],V=[0,ba,Ba];1==Ma?V=[0,r(ba)?Ya:[],ba]:2==Ma&&u(ba)?V=[ba,r(Ba)?Ya:[],Ba]:3==Ma&&(V=[ba,Ba,Ia]);t.trace("loader-define",V.slice(0,2));(Ma=V[0]&&Oa(V[0]))&&!ha[Ma.mid]?R(jb(Ma,V[1],V[2])):ea.push(V)},Y.amd={vendor:"dojotoolkit.org"});g(g(t,b.loaderPatch),a.loaderPatch);x("error",function(ba){try{if(console.error(ba),ba instanceof Error){for(var Ba in ba)console.log(Ba+":",ba[Ba]);console.log(".")}}catch(Ia){}});g(t,
{uid:m,cache:I,packs:G});f.define||(f.define=Y,f.require=t,w("foreign-loader")||(k(oa,function(ba){Da(ba)}),Y=c.deps||a.deps||b.deps,a=c.callback||a.callback||b.callback,t.boot=Y||a?[Y||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,baseUrl:"",hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"host-browser":1},packages:[{location:"../../js/arcgis-js-api/esri",
name:"esri"},{location:"../../js/arcgis-components/dist",name:"arcgis-components"},{location:"../../js/components",name:"components"},{location:"../../node_modules/esri-global-nav/dist",name:"esri-global-nav"},{location:".",name:"dojo"},{location:"../../node_modules/dijit",name:"dijit"},{location:"../../node_modules/dojox",name:"dojox"},{location:"../../js/later",main:"later",name:"later"},{location:"../../js/calcite/dist",name:"calcite-web"},{location:"../../js/telemetry",name:"telemetry"},{location:"../../js/app",
name:"app"},{location:"../../node_modules/moment",main:"moment",name:"moment"},{location:"../../node_modules/hotkeys-js",main:"dist/hotkeys",name:"hotkeys-js"},{location:"../../node_modules/resize-observer-polyfill",main:"dist/ResizeObserver",name:"resize-observer-polyfill"},{location:"../../node_modules/tslib",main:"tslib",name:"tslib"},{location:"../../node_modules/@arcgis/charts-shared-utils/dist/amd",main:"index",name:"arcgis-charts-shared-utils"}]});
require({cache:{"dojo/selector/_loader":function(){define(["../has","require"],function(a,b){"undefined"!==typeof document&&document.createElement("div");var c;return{load:function(e,d,p,r){if(r&&r.isBuild)p();else{r=b;e="default"==e?a("config-selectorEngine")||"css3":e;e="css2"==e||"lite"==e?"./lite":"css2.1"==e?"./lite":"css3"==e?"./lite":"acme"==e?"./acme":(r=d)&&e;if("?"==e.charAt(e.length-1)){e=e.substring(0,e.length-1);var u=!0}if(u&&(a("dom-compliant-qsa")||c))return p(c);r([e],function(n){"./lite"!=
e&&(c=n);p(n)})}}}})},"dojo/has":function(){define(["./global","require","module"],function(a,b,c){var e=b.has||function(){};if(!e("dojo-has-api")){var d=(b="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,p=d&&d.createElement("DiV"),r=c.config&&c.config()||{};e=function(u){return"function"==typeof r[u]?r[u]=r[u](a,d,p):r[u]};e.cache=r;e.add=function(u,n,k,g){("undefined"==typeof r[u]||g)&&(r[u]=
n);return k&&e(u)};e.add("host-browser",b);e.add("dom",b)}e("host-browser")&&(e.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),e.add("touch-events","ontouchstart"in document),e.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),e.add("device-width",screen.availWidth||innerWidth),c=document.createElement("form"),e.add("dom-attributes-specified-flag",0<c.attributes.length&&
40>c.attributes.length));e.clearElement=function(u){u.innerHTML="";return u};e.normalize=function(u,n){var k=u.match(/[\?:]|[^:\?]*/g),g=0,l=function(q){var m=k[g++];if(":"==m)return 0;if("?"==k[g++]){if(!q&&e(m))return l();l(!0);return l(q)}return m||0};return(u=l())&&n(u)};e.load=function(u,n,k){u?n([u],k):k()};return e})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:
this})},"esri/Map":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,
b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w){d=function(D){function x(z){var A=D.call(this,z)||this;A.allLayers=new p({getCollections:()=>{var C,B,E;return[null==(C=A.basemap)?void 0:C.baseLayers,null==(B=A.ground)?void 0:B.layers,A.layers,null==(E=A.basemap)?void 0:E.referenceLayers]},getChildrenFunction:C=>"layers"in C?C.layers:null});A.allTables=f.createFlattenedTablesCollection(a._assertThisInitialized(A));A.basemap=null;A.editableLayers=new p({getCollections:()=>[A.allLayers],itemFilterFunction:m.isEditableLayer});
A.ground=new e;A._basemapCache=t.createCache();return A}a._inheritsLoose(x,D);var y=x.prototype;y.destroy=function(){var z,A;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();null==(z=this.ground)?void 0:z.destroy();null==(A=this.basemap)?void 0:A.destroy();t.destroyCache(this._basemapCache);this._basemapCache=null};y.castBasemap=function(z){return t.ensureType(z,this._basemapCache)};y.castGround=function(z){z=h.ensureType(z);return u.isNone(z)?this._get("ground"):z};
y.findLayerById=function(z){return this.allLayers.find(A=>A.id===z)};y.findTableById=function(z){return this.allTables.find(A=>A.id===z)};return x}(w.TablesMixin(v.LayersMixin(r.EventedMixin(d))));b.__decorate([n.property({readOnly:!0,dependsOn:[]})],d.prototype,"allLayers",void 0);b.__decorate([n.property({readOnly:!0})],d.prototype,"allTables",void 0);b.__decorate([n.property({type:c})],d.prototype,"basemap",void 0);b.__decorate([l.cast("basemap")],d.prototype,"castBasemap",null);b.__decorate([n.property({readOnly:!0})],
d.prototype,"editableLayers",void 0);b.__decorate([n.property({type:e,nonNullable:!0})],d.prototype,"ground",void 0);b.__decorate([l.cast("ground")],d.prototype,"castGround",null);return d=b.__decorate([q.subclass("esri.Map")],d)})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function b(l){function q(m){if(Object(m)!==m)return Promise.reject(new TypeError(m+" is not an object."));var t=m.done;return Promise.resolve(m.value).then(function(f){return{value:f,done:t}})}
return b=function(m){this.s=m;this.n=m.next},b.prototype={s:null,n:null,next:function(){return q(this.n.apply(this.s,arguments))},return:function(m){var t=this.s.return;return void 0===t?Promise.resolve({value:m,done:!0}):q(t.apply(this.s,arguments))},throw:function(m){var t=this.s.return;return void 0===t?Promise.reject(m):q(t.apply(this.s,arguments))}},new b(l)}function c(l){this.wrapped=l}function e(l){function q(h,v){try{var w=l[h](v),D=w.value,x=D instanceof c;Promise.resolve(x?D.wrapped:D).then(function(y){x?
q("return"===h?"return":"next",y):m(w.done?"return":"normal",y)},function(y){q("throw",y)})}catch(y){m("throw",y)}}function m(h,v){switch(h){case "return":t.resolve({value:v,done:!0});break;case "throw":t.reject(v);break;default:t.resolve({value:v,done:!1})}(t=t.next)?q(t.key,t.arg):f=null}var t,f;this._invoke=function(h,v){return new Promise(function(w,D){w={key:h,arg:v,resolve:w,reject:D,next:null};f?f=f.next=w:(t=f=w,q(h,v))})};"function"!==typeof l.return&&(this.return=void 0)}function d(l,q,
m,t,f,h,v){try{var w=l[h](v),D=w.value}catch(x){m(x);return}w.done?q(D):Promise.resolve(D).then(t,f)}function p(l,q){for(var m=0;m<q.length;m++){var t=q[m];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(l,t.key,t)}}function r(l){r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)};return r(l)}function u(l,q){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,t){m.__proto__=t;
return m};return u(l,q)}function n(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}function k(l,q,m){k=n()?Reflect.construct.bind():function(t,f,h){var v=[null];v.push.apply(v,f);t=new (Function.bind.apply(t,v));h&&u(t,h.prototype);return t};return k.apply(null,arguments)}function g(l){var q="function"===typeof Map?
new Map:void 0;g=function(m){function t(){return k(m,arguments,r(this).constructor)}if(null===m||-1===Function.toString.call(m).indexOf("[native code]"))return m;if("function"!==typeof m)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof q){if(q.has(m))return q.get(m);q.set(m,t)}t.prototype=Object.create(m.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});return u(t,m)};return g(l)}e.prototype["function"===typeof Symbol&&Symbol.asyncIterator||
"@@asyncIterator"]=function(){return this};e.prototype.next=function(l){return this._invoke("next",l)};e.prototype.throw=function(l){return this._invoke("throw",l)};e.prototype.return=function(l){return this._invoke("return",l)};a._assertThisInitialized=function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l};a._asyncIterator=function(l){var q,m,t,f=2;for("undefined"!=typeof Symbol&&(m=Symbol.asyncIterator,t=Symbol.iterator);f--;){if(m&&
null!=(q=l[m]))return q.call(l);if(t&&null!=(q=l[t]))return new b(q.call(l));m="@@asyncIterator";t="@@iterator"}throw new TypeError("Object is not async iterable");};a._asyncToGenerator=function(l){return function(){var q=this,m=arguments;return new Promise(function(t,f){function h(D){d(w,t,f,h,v,"next",D)}function v(D){d(w,t,f,h,v,"throw",D)}var w=l.apply(q,m);h(void 0)})}};a._awaitAsyncGenerator=function(l){return new c(l)};a._createClass=function(l,q,m){q&&p(l.prototype,q);m&&p(l,m);Object.defineProperty(l,
"prototype",{writable:!1});return l};a._inheritsLoose=function(l,q){l.prototype=Object.create(q.prototype);l.prototype.constructor=l;u(l,q)};a._wrapAsyncGenerator=function(l){return function(){return new e(l.apply(this,arguments))}};a._wrapNativeSuper=g})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__decorate=function(b,c,e,d){var p=arguments.length,r=3>p?c:null===d?d=Object.getOwnPropertyDescriptor(c,e):d,u;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=
Reflect.decorate(b,c,e,d);else for(var n=b.length-1;0<=n;n--)if(u=b[n])r=(3>p?u(r):3<p?u(c,e,r):u(c,e))||r;return 3<p&&r&&Object.defineProperty(c,e,r),r}})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/collectionUtils ./core/deprecate ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z){var A;let C=0;const B=g.getLogger("esri.Basemap");r=A=function(E){function G(K){var F=E.call(this,K)||this;F.id=null;F.portalItem=null;F.spatialReference=null;F.thumbnailUrl=null;F.title="Basemap";F.id=Date.now().toString(16)+"-basemap-"+C++;F.baseLayers=new e;F.referenceLayers=new e;const H=I=>{I.parent&&I.parent!==b._assertThisInitialized(F)&&"remove"in I.parent&&I.parent.remove(I);I.parent=b._assertThisInitialized(F);"elevation"===I.type&&
B.error(`Layer '${I.title}, id:${I.id}' of type '${I.type}' is not supported as a basemap layer and will therefore be ignored.`)};F.baseLayers.on("after-add",I=>H(I.item));F.referenceLayers.on("after-add",I=>H(I.item));F.baseLayers.on("after-remove",I=>{I.item.parent=null});F.referenceLayers.on("after-remove",I=>{I.item.parent=null});return F}b._inheritsLoose(G,E);var J=G.prototype;J.initialize=function(){this.when().catch(K=>{B.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,
K)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};J.destroy=function(){var K,F=this.baseLayers.removeAll();for(const H of F)H.destroy();F=this.referenceLayers.removeAll();for(const H of F)H.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();null==(K=this.portalItem)?void 0:K.destroy();this.portalItem=null};J.normalizeCtorArgs=function(K){K&&"resourceInfo"in K&&(this._set("resourceInfo",K.resourceInfo),K={...K},delete K.resourceInfo);return K};J._writeBaseLayers=
function(K,F,H){const I=[];K&&(H={...H,layerContainerType:"basemap"},this.baseLayers.forEach(L=>{L=z.getLayerJSON(L,H.webmap?H.webmap.getLayerJSONFromResourceInfo(L):null,H);l.isSome(L)&&I.push(L)}),this.referenceLayers.forEach(L=>{L=z.getLayerJSON(L,H.webmap?H.webmap.getLayerJSONFromResourceInfo(L):null,H);l.isSome(L)&&(L.isReference=!0,I.push(L))}));F.baseMapLayers=I};J.writeTitle=function(K,F){F.title=K||"Basemap"};J.load=function(K){this.addResolvingPromise(this._loadFromSource(K));return Promise.resolve(this)};
J.loadAll=function(){return k.loadAll(this,K=>{K(this.baseLayers,this.referenceLayers)})};J.clone=function(){const K={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(K.loadStatus="loaded");return(new A({resourceInfo:this.resourceInfo})).set(K)};J.read=function(K,F){this.resourceInfo||this._set("resourceInfo",{data:K,context:F});E.prototype.read.call(this,K,F)};J.write=function(K,F){K=K||{};F&&F.origin||
(F={origin:"web-map",...F});E.prototype.write.call(this,K,F);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(K.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(H=>{H=u.clone(H);H.url&&m.isProtocolRelative(H.url)&&(H.url=`https:${H.url}`);H.templateUrl&&m.isProtocolRelative(H.templateUrl)&&(H.templateUrl=`https:${H.templateUrl}`);return H}));return K};J._loadFromSource=function(){var K=b._asyncToGenerator(function*(F){const {resourceInfo:H,portalItem:I}=this;q.throwIfAborted(F);
const L=[];H?(L.push(this._loadLayersFromJSON(H.data,H.context?H.context.url:null,F)),H.data.id&&!H.data.title&&L.push(y.getBasemapTitle(H.data.id).then(Q=>{Q&&this.read({title:Q},H.context)}))):I&&L.push(this._loadFromItem(I,F));yield Promise.all(L)});return function(F){return K.apply(this,arguments)}}();J._loadLayersFromJSON=function(){var K=b._asyncToGenerator(function*(F,H,I){var L=this.resourceInfo&&this.resourceInfo.context;const Q=this.portalItem&&this.portalItem.portal||L&&L.portal||null,
Z=L&&"web-scene"===L.origin?"web-scene":"web-map",{populateOperationalLayers:ca}=yield new Promise((aa,O)=>a(["./layers/support/layersCreator"],aa,O));L=[];q.throwIfAborted(I);F.baseMapLayers&&Array.isArray(F.baseMapLayers)&&(H={context:{origin:Z,url:H,portal:Q,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},I=ca(this.baseLayers,F.baseMapLayers.filter(aa=>!aa.isReference),H),L.push(I),F=ca(this.referenceLayers,F.baseMapLayers.filter(aa=>aa.isReference),H),L.push(F));yield q.eachAlways(L)});
return function(F,H,I){return K.apply(this,arguments)}}();J._loadFromItem=function(){var K=b._asyncToGenerator(function*(F,H){const I=yield(yield F.load(H)).fetchData("json",H),L=m.urlToObject(F.itemUrl);this._set("resourceInfo",{data:I.baseMap,context:{origin:"web-map",portal:F.portal||D.getDefault(),url:L}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:I.spatialReference},this.resourceInfo.context);this.read({title:F.title,thumbnailUrl:F.thumbnailUrl},
{origin:"portal-item",portal:F.portal||D.getDefault(),url:L});return this._loadLayersFromJSON(this.resourceInfo.data,L,H)});return function(F,H){return K.apply(this,arguments)}}();G.fromId=function(K){const F=y.esriBasemapDefinitions[K];if(F){if(F.deprecated){let H=null;"dark-gray"===K?H="dark-gray-vector":"gray"===K?H="gray-vector":"streets"===K?H="streets-vector":"topo"===K&&(H="topo-vector");p.deprecated(B,`The ${K} basemap has entered mature support and is no longer being updated.`,{replacement:H,
see:"https://arcg.is/1iq8aD",warnOnce:!0})}return A.fromJSON(F)}return null};b._createClass(G,[{key:"baseLayers",set:function(K){this._set("baseLayers",d.referenceSetter(K,this._get("baseLayers")))}},{key:"referenceLayers",set:function(K){this._set("referenceLayers",d.referenceSetter(K,this._get("referenceLayers")))}}]);return G}(r.JSONSupportMixin(n));c.__decorate([t.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(E,G,J,K){this._writeBaseLayers(E,G,K)}},origins:{"web-scene":{write:{ignoreOrigin:!0,
target:{baseMapLayers:{type:e}},writer(E,G,J,K){this._writeBaseLayers(E,G,K)}}}}}})],r.prototype,"baseLayers",null);c.__decorate([t.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],r.prototype,"id",void 0);c.__decorate([t.property({type:x})],r.prototype,"portalItem",void 0);c.__decorate([t.property()],r.prototype,"referenceLayers",null);c.__decorate([t.property({readOnly:!0})],r.prototype,"resourceInfo",void 0);c.__decorate([t.property({type:w})],r.prototype,"spatialReference",void 0);
c.__decorate([t.property()],r.prototype,"thumbnailUrl",void 0);c.__decorate([t.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],r.prototype,"title",void 0);c.__decorate([v.writer("title")],r.prototype,"writeTitle",null);return r=A=c.__decorate([h.subclass("esri.Basemap")],r)})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./ArrayPool ./Evented ./lang ./maybe ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/decorators/property ./accessorSupport/ensureType ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){function f(J){return J?J instanceof G?J.toArray():J.length?Array.prototype.slice.apply(J):[]:[]}function h(J){if(J&&J.length)return J[0]}function v(J,K,F,H){K&&K.forEach((I,L,Q)=>{J.push(I);v(J,F.call(H,I,L,Q),F,H)})}var w;let D=function(){function J(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var K=J.prototype;K.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};K.reset=function(F){this.defaultPrevented=
!1;this.item=F};return J}();const x=new r(D,void 0,J=>{J.item=null;J.target=null;J.defaultPrevented=!1;J.cancellable=!1}),y=()=>{},z=new Set,A=new Set,C=new Set,B=new Map;let E=0,G=w=function(J,K){function F(I){I=J.call(this,I)||this;I._chgListeners=[];I._notifications=null;I._timer=null;I._observable=new t.SimpleObservable;I.length=0;I._items=[];Object.defineProperty(a._assertThisInitialized(I),"uid",{value:E++});return I}a._inheritsLoose(F,J);F.isCollection=function(I){return null!=I&&I instanceof
w};var H=F.prototype;H.normalizeCtorArgs=function(I){return I?Array.isArray(I)||I instanceof w?{items:I}:I:{}};H.destroy=function(){this.removeAll()};H[K]=function*(){yield*this.items};H.hasEventListener=function(I){return"change"===I?0<this._chgListeners.length:this._emitter.hasEventListener(I)};H.on=function(I,L){if("change"===I){const Q=this._chgListeners,Z={removed:!1,callback:L};Q.push(Z);this._notifications&&this._notifications.push({listeners:Q.slice(),items:this._items.slice(),changes:[]});
return{remove(){this.remove=y;Z.removed=!0;Q.splice(Q.indexOf(Z),1)}}}return this._emitter.on(I,L)};H.once=function(I,L){const Q=this.on(I,L);return{remove(){Q.remove()}}};H.add=function(I,L){m.trackAccess(this._observable);if(this._emitBeforeChanges(u.ObservableChangesType.ADD))return this;L=this.getNextIndex(null!=L?L:null);this._splice(L,0,[I]);this._emitAfterChanges(u.ObservableChangesType.ADD);return this};H.addMany=function(I,L=this._items.length){m.trackAccess(this._observable);if(!I||!I.length||
this._emitBeforeChanges(u.ObservableChangesType.ADD))return this;L=this.getNextIndex(L);this._splice(L,0,f(I));this._emitAfterChanges(u.ObservableChangesType.ADD);return this};H.at=function(I){m.trackAccess(this._observable);I=Math.trunc(I)||0;0>I&&(I+=this.length);if(!(0>I||I>=this.length))return this._items[I]};H.removeAll=function(){m.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(u.ObservableChangesType.REMOVE))return[];const I=this._splice(0,this.length)||[];this._emitAfterChanges(u.ObservableChangesType.REMOVE);
return I};H.clone=function(){m.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(d.clone)})};H.concat=function(...I){m.trackAccess(this._observable);I=I.map(f);return this._createNewInstance({items:this._items.concat(...I)})};H.drain=function(I,L){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(u.ObservableChangesType.REMOVE)){var Q=p.assumeNonNull(this._splice(0,this.length)),Z=Q.length;for(let ca=0;ca<Z;ca++)I.call(L,Q[ca],ca,Q);this._emitAfterChanges(u.ObservableChangesType.REMOVE)}};
H.every=function(I,L){m.trackAccess(this._observable);return this._items.every(I,L)};H.filter=function(I,L){m.trackAccess(this._observable);let Q;Q=2===arguments.length?this._items.filter(I,L):this._items.filter(I);return this._createNewInstance({items:Q})};H.find=function(I,L){m.trackAccess(this._observable);return this._items.find(I,L)};H.findIndex=function(I,L){m.trackAccess(this._observable);return this._items.findIndex(I,L)};H.flatten=function(I,L){m.trackAccess(this._observable);const Q=[];
v(Q,this,I,L);return new w(Q)};H.forEach=function(I,L){m.trackAccess(this._observable);return this._items.forEach(I,L)};H.getItemAt=function(I){m.trackAccess(this._observable);return this._items[I]};H.getNextIndex=function(I){m.trackAccess(this._observable);const L=this.length;I=null==I?L:I;0>I?I=0:I>L&&(I=L);return I};H.includes=function(I,L=0){m.trackAccess(this._observable);return this._items.includes(I,L)};H.indexOf=function(I,L=0){m.trackAccess(this._observable);return this._items.indexOf(I,
L)};H.join=function(I=","){m.trackAccess(this._observable);return this._items.join(I)};H.lastIndexOf=function(I,L=this.length-1){m.trackAccess(this._observable);return this._items.lastIndexOf(I,L)};H.map=function(I,L){m.trackAccess(this._observable);I=this._items.map(I,L);return new w({items:I})};H.reorder=function(I,L=this.length-1){m.trackAccess(this._observable);const Q=this.indexOf(I);if(-1!==Q){0>L?L=0:L>=this.length&&(L=this.length-1);if(Q!==L){if(this._emitBeforeChanges(u.ObservableChangesType.MOVE))return I;
this._splice(Q,1);this._splice(L,0,[I]);this._emitAfterChanges(u.ObservableChangesType.MOVE)}return I}};H.pop=function(){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(u.ObservableChangesType.REMOVE)){var I=h(this._splice(this.length-1,1));this._emitAfterChanges(u.ObservableChangesType.REMOVE);return I}};H.push=function(...I){m.trackAccess(this._observable);if(this._emitBeforeChanges(u.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,I);this._emitAfterChanges(u.ObservableChangesType.ADD);
return this.length};H.reduce=function(I,L){m.trackAccess(this._observable);const Q=this._items;return 2===arguments.length?Q.reduce(I,L):Q.reduce(I)};H.reduceRight=function(I,L){m.trackAccess(this._observable);const Q=this._items;return 2===arguments.length?Q.reduceRight(I,L):Q.reduceRight(I)};H.remove=function(I){m.trackAccess(this._observable);return this.removeAt(this.indexOf(I))};H.removeAt=function(I){m.trackAccess(this._observable);if(!(0>I||I>=this.length||this._emitBeforeChanges(u.ObservableChangesType.REMOVE)))return I=
h(this._splice(I,1)),this._emitAfterChanges(u.ObservableChangesType.REMOVE),I};H.removeMany=function(I){m.trackAccess(this._observable);if(!I||!I.length||this._emitBeforeChanges(u.ObservableChangesType.REMOVE))return[];I=I instanceof w?I.toArray():I;const L=this._items,Q=[],Z=I.length;for(let fa=0;fa<Z;fa++){var ca=L.indexOf(I[fa]);if(-1<ca){{var aa=fa+1;var O=ca+1;const oa=Math.min(I.length-aa,L.length-O);let Da=0;for(;Da<oa&&I[aa+Da]===L[O+Da];)Da++;aa=Da}aa=1+aa;(ca=this._splice(ca,aa))&&0<ca.length&&
Q.push.apply(Q,ca);fa+=aa-1}}this._emitAfterChanges(u.ObservableChangesType.REMOVE);return Q};H.reverse=function(){m.trackAccess(this._observable);if(this._emitBeforeChanges(u.ObservableChangesType.MOVE))return this;const I=this._splice(0,this.length);I&&(I.reverse(),this._splice(0,0,I));this._emitAfterChanges(u.ObservableChangesType.MOVE);return this};H.shift=function(){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(u.ObservableChangesType.REMOVE)){var I=h(this._splice(0,
1));this._emitAfterChanges(u.ObservableChangesType.REMOVE);return I}};H.slice=function(I=0,L=this.length){m.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(I,L)})};H.some=function(I,L){m.trackAccess(this._observable);return this._items.some(I,L)};H.sort=function(I){m.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(u.ObservableChangesType.MOVE))return this;const L=p.assumeNonNull(this._splice(0,this.length));arguments.length?L.sort(I):L.sort();
this._splice(0,0,L);this._emitAfterChanges(u.ObservableChangesType.MOVE);return this};H.splice=function(I,L,...Q){m.trackAccess(this._observable);const Z=(L?u.ObservableChangesType.REMOVE:0)|(Q.length?u.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(Z))return[];I=this._splice(I,L,Q)||[];this._emitAfterChanges(Z);return I};H.toArray=function(){m.trackAccess(this._observable);return this._items.slice()};H.toJSON=function(){m.trackAccess(this._observable);return this.toArray()};H.toLocaleString=
function(){m.trackAccess(this._observable);return this._items.toLocaleString()};H.toString=function(){m.trackAccess(this._observable);return this._items.toString()};H.unshift=function(...I){m.trackAccess(this._observable);if(!I.length||this._emitBeforeChanges(u.ObservableChangesType.ADD))return this.length;this._splice(0,0,I);this._emitAfterChanges(u.ObservableChangesType.ADD);return this.length};H._createNewInstance=function(I){return new this.constructor(I)};H._splice=function(I,L,Q){const Z=this._items;
var ca=this.itemType;let aa=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=n.schedule(()=>this._dispatchChange()));if(L){aa=Z.splice(I,L);if(this.hasEventListener("before-remove")){var O=x.acquire();O.target=this;O.cancellable=!0;for(let Da=0,Ha=aa.length;Da<Ha;Da++)L=aa[Da],O.reset(L),this.emit("before-remove",O),O.defaultPrevented&&(aa.splice(Da,
1),Z.splice(I,0,L),I+=1,--Da,--Ha);x.release(O)}this.length=this._items.length;if(this.hasEventListener("after-remove")){L=x.acquire();L.target=this;L.cancellable=!1;O=aa.length;for(let Da=0;Da<O;Da++)L.reset(aa[Da]),this.emit("after-remove",L);x.release(L)}}if(Q&&Q.length){if(ca){L=[];for(var fa of Q)Q=ca.ensureType(fa),null==Q&&null!=fa||L.push(Q);Q=L}ca=this.hasEventListener("before-add");fa=this.hasEventListener("after-add");L=I===this.length;if(ca||fa){var oa=x.acquire();oa.target=this;oa.cancellable=
!0;O=x.acquire();O.target=this;O.cancellable=!1;for(const Da of Q)ca?(oa.reset(Da),this.emit("before-add",oa),oa.defaultPrevented||(L?Z.push(Da):Z.splice(I++,0,Da),this._set("length",Z.length),fa&&(O.reset(Da),this.emit("after-add",O)))):(L?Z.push(Da):Z.splice(I++,0,Da),this._set("length",Z.length),O.reset(Da),this.emit("after-add",O));x.release(O);x.release(oa)}else{if(L)for(oa of Q)Z.push(oa);else Z.splice(I,0,...Q);this._set("length",Z.length)}}(Q&&Q.length||aa&&aa.length)&&this._notifyChangeEvent(Q,
aa);return aa};H._emitBeforeChanges=function(I){let L=!1;if(this.hasEventListener("before-changes")){const Q=x.acquire();Q.target=this;Q.cancellable=!0;Q.type=I;this.emit("before-changes",Q);L=Q.defaultPrevented;x.release(Q)}return L};H._emitAfterChanges=function(I){if(this.hasEventListener("after-changes")){const L=x.acquire();L.target=this;L.cancellable=!1;L.type=I;this.emit("after-changes",L);x.release(L)}this._observable.notify()};H._notifyChangeEvent=function(I,L){this.hasEventListener("change")&&
this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:I,removed:L})};H._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var I=this._notifications;this._notifications=null;for(const L of I){I=L.changes;z.clear();A.clear();C.clear();for(const {added:fa,removed:oa}of I){if(fa)if(0===C.size&&0===A.size)for(const Da of fa)z.add(Da);else for(const Da of fa)A.has(Da)?(C.add(Da),A.delete(Da)):C.has(Da)||z.add(Da);
if(oa)if(0===C.size&&0===z.size)for(const Da of oa)A.add(Da);else for(const Da of oa)z.has(Da)?z.delete(Da):(C.delete(Da),A.add(Da))}const Q=c.acquire();z.forEach(fa=>{Q.push(fa)});const Z=c.acquire();A.forEach(fa=>{Z.push(fa)});const ca=this._items,aa=L.items,O=c.acquire();C.forEach(fa=>{aa.indexOf(fa)!==ca.indexOf(fa)&&O.push(fa)});if(L.listeners&&(Q.length||Z.length||O.length)){I={target:this,added:Q,removed:Z,moved:O};const fa=L.listeners.length;for(let oa=0;oa<fa;oa++){const Da=L.listeners[oa];
Da.removed||Da.callback.call(this,I)}}c.release(Q);c.release(Z);c.release(O)}z.clear();A.clear();C.clear()}};a._createClass(F,[{key:"items",get:function(){m.trackAccess(this._observable);return this._items},set:function(I){this._emitBeforeChanges(u.ObservableChangesType.ADD)||(this._splice(0,this.length,f(I)),this._emitAfterChanges(u.ObservableChangesType.ADD))}}]);return F}(e.EventedAccessor,Symbol.iterator);G.ofType=J=>{if(!J)return w;if(B.has(J))return B.get(J);let K=null;if("function"===typeof J)K=
J.prototype.declaredClass;else if(J.base)K=J.base.prototype.declaredClass;else for(var F in J.typeMap){const H=J.typeMap[F].prototype.declaredClass;K=K?K+` | ${H}`:H}F=function(H){function I(){return H.apply(this,arguments)||this}a._inheritsLoose(I,H);return I}(w);b.__decorate([l.shared({Type:J,ensureType:"function"===typeof J?g.ensureType(J):g.ensureOneOfType(J)})],F.prototype,"itemType",void 0);F=b.__decorate([q.subclass(`esri.core.Collection<${K}>`)],F);B.set(J,F);return F};b.__decorate([k.property()],
G.prototype,"length",void 0);b.__decorate([k.property()],G.prototype,"items",null);return G=w=b.__decorate([q.subclass("esri.core.Collection")],G)})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(d){d.length=0}let c=function(){function d(r=50,u=50){this._pool=new a(Array,void 0,b,u,r)}var p=d.prototype;p.acquire=function(){return this._pool.acquire()};p.release=function(r){this._pool.release(r)};p.prune=function(){this._pool.prune(0)};d.acquire=function(){return e.acquire()};
d.release=function(r){return e.release(r)};d.prune=function(){e.prune()};return d}();const e=new c(100);return c})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function b(e,d,p,r=1,u=0){this.ctor=e;this.acquireFunction=d;this.releaseFunction=p;this.allocationSize=r;this._pool=Array(u);this._initialSize=u;if(this.ctor)for(e=0;e<u;e++)this._pool[e]=new this.ctor;this.allocationSize=Math.max(r,1)}var c=b.prototype;c.destroy=function(){this.prune(0)};c.acquire=function(...e){if(b.test.disabled)var d=
new this.ctor;else{if(0===this._pool.length){d=this.allocationSize;for(let p=0;p<d;p++)this._pool[p]=new this.ctor}d=this._pool.pop()}this.acquireFunction?this.acquireFunction(d,...e):d&&d.acquire&&"function"===typeof d.acquire&&d.acquire(...e);return d};c.release=function(e){e&&!b.test.disabled&&(this.releaseFunction?this.releaseFunction(e):e&&e.release&&"function"===typeof e.release&&e.release(),this._pool.push(e))};c.prune=function(e=this._initialSize){if(!(e>=this._pool.length)){for(let d=e;d<
this._pool.length;++d)this._dispose(this._pool[d]);this._pool.length=e}};c._dispose=function(e){e.dispose&&"function"===typeof e.dispose&&e.dispose()};return b}();a.test={disabled:!1};return a})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,c,e,d){let p=function(){function r(){this._emitter=new r.EventEmitter(this)}var u=r.prototype;u.emit=function(n,k){return this._emitter.emit(n,
k)};u.on=function(n,k){return this._emitter.on(n,k)};u.once=function(n,k){return this._emitter.once(n,k)};u.hasEventListener=function(n){return this._emitter.hasEventListener(n)};return r}();(function(r){let u=function(){function k(l=null){this.target=l;this._listenersMap=null}var g=k.prototype;g.clear=function(){this._listenersMap&&this._listenersMap.clear();this._listenersMap=null};g.emit=function(l,q){l=this._listenersMap&&this._listenersMap.get(l);if(!l)return!1;const m=this.target||this;[...l].forEach(t=>
{t.call(m,q)});return 0<l.length};g.on=function(l,q){if(Array.isArray(l)){var m=l.map(t=>this.on(t,q));return e.handlesGroup(m)}if(l.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);m=this._listenersMap.get(l)||[];m.push(q);this._listenersMap.set(l,m);return{remove:()=>{const t=this._listenersMap&&this._listenersMap.get(l)||[],f=t.indexOf(q);0<=f&&t.splice(f,1)}}};g.once=function(l,q){const m=
this.on(l,t=>{m.remove();q.call(null,t)});return m};g.hasEventListener=function(l){l=this._listenersMap&&this._listenersMap.get(l);return null!=l&&0<l.length};return k}();r.EventEmitter=u;r.EventedMixin=k=>{k=function(g){function l(){var m=g.apply(this,arguments)||this;m._emitter=new u;return m}a._inheritsLoose(l,g);var q=l.prototype;q.destroy=function(){this._emitter.clear()};q.emit=function(m,t){return this._emitter.emit(m,t)};q.on=function(m,t){return this._emitter.on(m,t)};q.once=function(m,t){return this._emitter.once(m,
t)};q.hasEventListener=function(m){return this._emitter.hasEventListener(m)};return l}(k);return k=b.__decorate([d.subclass("esri.core.Evented")],k)};let n=function(k){function g(){var q=k.apply(this,arguments)||this;q._emitter=new p.EventEmitter(a._assertThisInitialized(q));return q}a._inheritsLoose(g,k);var l=g.prototype;l.destroy=function(){this._emitter.clear()};l.emit=function(q,m){return this._emitter.emit(q,m)};l.on=function(q,m){return this._emitter.on(q,m)};l.once=function(q,m){return this._emitter.once(q,
m)};l.hasEventListener=function(q){return this._emitter.hasEventListener(q)};return g}(c);n=b.__decorate([d.subclass("esri.core.Evented")],n);r.EventedAccessor=n})(p||(p={}));return p})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./iteratorUtils ./maybe ./accessorSupport/get ./accessorSupport/interfaces ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){function l(f){var h;if(null==f)return{value:f};if(Array.isArray(f))return{type:[f[0]],value:null};switch(typeof f){case "object":return null!=(h=f.constructor)&&h.__accessorMetadata__||f instanceof Date?{type:f.constructor,value:f}:f;case "boolean":return{type:Boolean,value:f};case "string":return{type:String,value:f};case "number":return{type:Number,value:f};case "function":return{type:f,value:null}}}const q=Symbol("Accessor-Handles");let m=function(){function f(...v){this[t]=
null;if(this.constructor===f)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new r(this)});0<v.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,v))}f.createSubclass=function(v={}){if(Array.isArray(v))throw Error("Multi-inheritance unsupported since 4.16");const {properties:w,declaredClass:D,constructor:x}=v;delete v.declaredClass;delete v.properties;
delete v.constructor;const y=this;let z=function(A){function C(...B){var E=A.call(this,...B)||this;E.inherited=null;x&&x.apply(a._assertThisInitialized(E),B);return E}a._inheritsLoose(C,A);return C}(y);p.getOwnClassMetadata(z.prototype);for(const A in v){const C=v[A];z.prototype[A]="function"===typeof C?function(...B){const E=this.inherited;this.inherited=function(...J){if(y.prototype[A])return y.prototype[A].apply(this,J)};let G=void 0;try{G=C.apply(this,B)}catch(J){throw this.inherited=E,J;}this.inherited=
E;return G}:v[A]}for(const A in w)v=l(w[A]),k.property(v)(z.prototype,A);return g.subclass(D)(z)};var h=f.prototype;h.postscript=function(v){const w=this.__accessor__;v=w.ctorArgs||v;w.initialize();v&&(this.set(v),w.ctorArgs=null);w.constructed();this.initialize()};h.initialize=function(){};h.destroy=function(){this.destroyed||(c.applySome(this[q],v=>{v.forEach(w=>w.remove())}),this[q]=null,n.removeTarget(this),this.__accessor__.destroy())};h.commitProperty=function(v){this.get(v)};h.get=function(v){return e.get(this,
v)};h.hasOwnProperty=function(v){return this.__accessor__?this.__accessor__.has(v):Object.prototype.hasOwnProperty.call(this,v)};h.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};h.set=function(v,w){u.set(this,v,w);return this};h.watch=function(v,w,D){return n.watch(this,v,w,D)};h.own=function(v){let w=this[q];c.isNone(w)&&(w=this[q]=new Set);if(b.isIterable(v))for(const D of v)w.add(D);else w.add(v)};h._clearOverride=function(v){return this.__accessor__.clearOverride(v)};h._override=
function(v,w){return this.__accessor__.override(v,w)};h._isOverridden=function(v){return this.__accessor__.isOverridden(v)};h.notifyChange=function(v){this.__accessor__.notifyChange(v)};h._get=function(v){return this.__accessor__.internalGet(v)};h._set=function(v,w){this.__accessor__.internalSet(v,w);return this};a._createClass(f,[{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&this.__accessor__.lifecycle===
d.Lifecycle.CONSTRUCTED||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return f}();var t=q;return m})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const c=[];return function*(){yield*c;for(const e of b)c.push(e),yield e}};a.find=function(b,c){for(const e of b)if(null!=e&&c(e))return e};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/maybe":function(){define(["exports"],function(a){function b(e,d){return null!=e?d(e):null}function c(e,d,p){return null!=e?p(e):d}a.abortMaybe=function(e){null!=e&&e.abort();return null};a.applySome=b;a.assumeNonNull=function(e){return e};a.destroyMaybe=function(e){null!=e&&e.destroy();return null};a.disposeMaybe=function(e){null!=e&&e.dispose();return null};a.equalsMaybe=function(e,d,p){return null!=e&&null!=d?null!=p?p(e,d):e.equals(d):e===d};
a.filterNones=function(e){return e.filter(d=>null!=d)};a.forEachSome=function(e,d){for(const p of e)b(p,d)};a.get=function(e,...d){for(let p=0;p<d.length&&e;++p)e=e[d[p]];return e};a.isNone=function(e){return null==e};a.isSome=function(e){return null!=e};a.isUndefined=function(e){return void 0===e};a.mapMany=function(e,d){const p=[];for(const r of e)p.push(c(r,null,d));return p};a.mapOr=c;a.mapSome=function(e,d){const p=[];e.forEach(r=>{r=d(r);null!=r&&p.push(r)});return p};a.mapSomeFirst=function(e,
d){for(const p of e)if(e=d(p),null!=e)return e;return null};a.none=null;a.nullifyNonnullableForDispose=function(e){return null};a.releaseMaybe=function(e){null!=e&&e.release();return null};a.removeMaybe=function(e){null!=e&&e.remove();return null};a.unwrap=function(e){return e};a.unwrapOr=function(e,d){return null!=e?e:"function"===typeof d?d():d};a.unwrapOrThrow=function(e,d){if(null==e)throw Error(d);return e};a.unwrapOrValue=function(e,d){return null!=e?e:d};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function c(p,r){p="?"===p[p.length-1]?p.slice(0,-1):p;if(null!=r.getItemAt||Array.isArray(r)){var u=parseInt(p,10);if(!isNaN(u))return Array.isArray(r)?r[u]:r.getItemAt(u)}u=b.getProperties(r);return b.isPropertyDeclared(u,p)?u.get(p):r[p]}function e(p,r,u){if(null==p)return p;if((p=c(r[u],p))||!(u<r.length-1))return u===r.length-1?p:e(p,r,u+1)}function d(p,r,u=0){return"string"!==
typeof r||r.includes(".")?e(p,b.pathToArray(r),u):c(r,p)}a.exists=function(p,r){return void 0!==d(r,p)};a.get=function(p,r){return d(p,r)};a.valueOf=d;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang","../maybe"],function(a,b,c,e){function d(k){return k?k.__accessor__?k.__accessor__:k.propertyInvalidated?k:null:null}function p(k,g,l){return g?Object.keys(g).reduce((q,
m)=>{let t=null;var f="merge";l&&(t=l.path?`${l.path}.${m}`:m,f=l.policy(t));if("replace"===f)return q[m]=g[m],q;if(void 0===q[m])return q[m]=c.clone(g[m]),q;let h=q[m];f=g[m];if(h===f)return q;if(Array.isArray(f)||Array.isArray(q))h=h?Array.isArray(h)?q[m]=h.concat():q[m]=[h]:q[m]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(v=>{h.includes(v)||h.push(v)}));else if(f&&"object"===typeof f)if(l){const v=l.path;l.path=e.assumeNonNull(t);q[m]=p(h,f,l);l.path=v}else q[m]=p(h,f,null);else if(!q.hasOwnProperty(m)||
g.hasOwnProperty(m))q[m]=f;return q},k||{}):k}function r(k){return Array.isArray(k)?k:k.split(".")}function u(k){return k.includes(",")?k.split(",").map(g=>g.trim()):[k.trim()]}function n(k){if(Array.isArray(k)){const g=[];for(const l of k)g.push(...u(l));return g}return u(k)}a.getDependsInfo=function(k,g){const l=d(k);return l?l.getDependsInfo(k,g,""):""};a.getProperties=d;a.isPropertyDeclared=function(k,g){return null!=k&&k.metadatas&&null!=k.metadatas[g]};a.merge=function(k,g,l){return l?p(k,g,
{policy:l,path:""}):p(k,g,null)};a.once=function(k){let g=!1;return()=>{g||(g=!0,k())}};a.parse=function(k,g,l,q){g=n(g);return 1!==g.length?(g=g.map(m=>q(k,m,l)),b.handlesGroup(g)):q(k,g[0],l)};a.parseConditionalPath=function(k){if(!k.includes("?"))return null;k=r(k);const g=Array(k.length);for(let l=0;l<k.length;l++){const q=k[l];g[l]="?"===q[q.length-1];g[l]&&(k[l]=q.slice(0,-1))}return{fullPath:k.join("."),conditional:g}};a.pathToArray=r;a.pathToStringOrArray=function(k){return!k||"string"===
typeof k&&!k.includes(".")?k:r(k)};a.splitPath=n;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,b){function c(e){return{remove:()=>{e&&(e(),e=void 0)}}}a.asyncHandle=function(e,d){let p=!1,r=null;e.then(u=>{p?u.remove():r=u});return c(()=>{p=!0;b.isSome(r)?r.remove():b.isSome(d)&&(d.abort(),d=null)})};a.destroyHandle=function(e){return c(b.isSome(e)?()=>e.destroy():void 0)};a.handlesGroup=
function(e){return c(()=>e.forEach(d=>b.isSome(d)&&d.remove()))};a.makeHandle=c;a.refHandle=function(e){return c(()=>{const d=e();b.isSome(d)&&d.remove()})};a.timeoutHandle=function(e,d){const p=setTimeout(e,d);return c(()=>clearTimeout(p))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./has","./maybe","./typedArrayUtil"],function(a,b,c,e,d){function p(m,t){let f;if(t)for(f in m)m.hasOwnProperty(f)&&
(void 0===m[f]?delete m[f]:m[f]instanceof Object&&p(m[f],!0));else for(f in m)m.hasOwnProperty(f)&&void 0===m[f]&&delete m[f];return m}function r(m){if(!m||"object"!==typeof m||"function"===typeof m)return m;var t=l(m);if(e.isSome(t))return t;if("function"===typeof m.clone)return m.clone();if(n(m))return m.map(r);if(k(m))return m.clone();t={};for(const f of Object.getOwnPropertyNames(m))t[f]=r(m[f]);return t}function u(m){if(!m||"object"!==typeof m||"function"===typeof m)return m;var t=l(m);if(e.isSome(t))return t;
if(n(m)){let f=!0;m=m.map(h=>{const v=u(h);null!=h&&null==v&&(f=!1);return v});return f?m:null}if("function"===typeof m.clone)return m.clone();if(!k(m)){t=new (Object.getPrototypeOf(m).constructor);for(const f of Object.getOwnPropertyNames(m)){const h=m[f],v=u(h);if(null!=h&&null==v)return null;t[f]=v}return t}return null}function n(m){return"function"===typeof m.map&&"function"===typeof m.forEach}function k(m){return"function"===typeof m.notifyChange&&"function"===typeof m.watch}function g(m){if("[object Object]"!==
Object.prototype.toString.call(m))return!1;m=Object.getPrototypeOf(m);return null===m||m===Object.prototype}function l(m){if(d.isInt8Array(m)||d.isUint8Array(m)||d.isUint8ClampedArray(m)||d.isInt16Array(m)||d.isUint16Array(m)||d.isInt32Array(m)||d.isUint32Array(m)||d.isFloat32Array(m)||d.isFloat64Array(m))return d.slice(m);if(m instanceof Date)return new Date(m.getTime());if(m instanceof ArrayBuffer)return m.slice(0,m.byteLength);if(m instanceof Map){const t=new Map;m.forEach((f,h)=>{t.set(h,r(f))});
return t}if(m instanceof Set){const t=new Set;m.forEach(f=>{t.add(r(f))});return t}return null}function q(m,t){if(null===m||null===t)return!1;const f=Object.keys(m);if(null===t||Object.keys(t).length!==f.length)return!1;for(const h of f)if(m[h]!==t[h]||!Object.prototype.hasOwnProperty.call(t,h))return!1;return!0}a.clone=r;a.equals=function(m,t){return m===t||"number"===typeof m&&isNaN(m)&&"number"===typeof t&&isNaN(t)||"function"===typeof(m||{}).getTime&&"function"===typeof(t||{}).getTime&&m.getTime()===
t.getTime()||!1};a.equalsShallow=function(m,t){if(m===t)return!0;if(null===m||void 0===m||"string"===typeof m)return m===t;if("number"===typeof m)return m===t||"number"===typeof t&&isNaN(m)&&isNaN(t);if(m instanceof Date)return t instanceof Date&&m.getTime()===t.getTime();if(Array.isArray(m))return Array.isArray(t)&&b.equals(m,t);if(m instanceof Set){var f;if(f=t instanceof Set)a:if(m.size!==t.size)f=!1;else{for(const h of m)if(!t.has(h)){f=!1;break a}f=!0}return f}if(m instanceof Map){if(f=t instanceof
Map)a:if(m.size!==t.size)f=!1;else{for(const [h,v]of m)if(m=t.get(h),m!==v||void 0===m&&!t.has(h)){f=!1;break a}f=!0}return f}return g(m)?g(t)&&q(m,t):!1};a.fixJson=p;a.isAccessorLike=k;a.isPlainObject=g;a.mixin=function(m={},...t){c("esri-deprecation-warnings")&&console.warn("[esri.core.lang] \ud83d\uded1 DEPRECATED - Function: mixin()\n\t\ud83d\udee0\ufe0f Replacement: Use Object.assign() directly\n\t\u2699\ufe0f Version: 4.19");return Object.assign(m,...t)};a.tryClone=u;a.tryCloneBuiltInObject=
l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/arrayUtils":function(){define(["exports","./maybe","./RandomLCG"],function(a,b,c){function e(q){return q}function d(q,m=e){if(q&&0!==q.length){var t=q[0],f=m(t);for(let h=1;h<q.length;++h){const v=q[h],w=Number(m(v));w>f&&(f=w,t=v)}return t}}function p(q,m,t,f){f=f||k;var h=Math.max(0,f.last-10);for(let v=h;v<t;++v)if(q[v]===m)return f.last=v;t=Math.min(h,t);for(h=0;h<t;++h)if(q[h]===m)return f.last=
h;return-1}function r(q){return q?(l.seed=q,()=>l.getFloat()):Math.random}const u=!!Array.prototype.fill;let n=function(){this.last=0};const k=new n,g=new Set,l=new c;a.PositionHint=n;a.binaryFindClosest=function(q,m,t){if(q&&0!==q.length){var f=q.length-1,h=q[0];if(m<=t(h))return h;h=q[f];if(m>=t(h))return h;var v=0;h=0;for(var w=f;v<w;){h=v+Math.floor((w-v)/2);const x=q[h],y=t(x);if(y===m)return x;if(m<y){if(0<h){w=q[h-1];var D=t(w);if(m>D)return m-D>=y-m?x:w}w=h}else{if(h<f&&(v=q[h+1],D=t(v),m<
D))return m-y>=D-m?v:x;v=h+1}}return q[h]}};a.binaryIndexOf=function(q,m,t){const f=q.length;let h=0;for(var v=f-1;h<v;){const w=h+Math.floor((v-h)/2);m>q[w]?h=w+1:v=w}v=q[h];return t?m>=q[f-1]?-1:v===m?h:h-1:v===m?h:-1};a.constant=function(q,m){if(u)return Array(q).fill(m);const t=Array(q);for(let f=0;f<q;f++)t[f]=m;return t};a.difference=function(q,m,t){let f,h;t?(f=m.filter(v=>!q.some(w=>t(w,v))),h=q.filter(v=>!m.some(w=>t(w,v)))):(f=m.filter(v=>!q.includes(v)),h=q.filter(v=>!m.includes(v)));return{added:f,
removed:h}};a.equals=function(q,m,t){if(b.isNone(q)&&b.isNone(m))return!0;if(b.isNone(q)||b.isNone(m)||q.length!==m.length)return!1;if(t)for(let f=0;f<q.length;f++){if(!t(q[f],m[f]))return!1}else for(t=0;t<q.length;t++)if(q[t]!==m[t])return!1;return!0};a.first=function(q){if(q)return 0<q.length?q[0]:void 0};a.flatten=function(q){return q.reduce((m,t)=>m.concat(t||[]),[])};a.indexOf=p;a.intersect=function(q,m,t){return q&&m?t?q.filter(f=>-1<m.findIndex(h=>t(f,h))):q.filter(f=>m.includes(f)):[]};a.isArrayLike=
function(q){return q&&"number"===typeof q.length};a.last=function(q){if(q){var m=q.length;return 0<m?q[m-1]:void 0}};a.max=d;a.min=function(q,m=e){return d(q,t=>-m(t))};a.pickRandom=function(q,m,t){const f=q.length;if(m>=f)return q.slice(0);t=r(t);const h=new Set,v=[];for(;v.length<m;){const w=Math.floor(t()*f);h.has(w)||(h.add(w),v.push(q[w]))}return v};a.range=function(q,m){void 0===m&&(m=q,q=0);const t=Array(m-q);for(let f=q;f<m;f++)t[f-q]=f;return t};a.remove=function(q,m){const t=q.indexOf(m);
return-1!==t?(q.splice(t,1),m):null};a.removeUnordered=function(q,m,t,f){const h=null==t?q.length:t;f=p(q,m,h,f);if(-1!==f)return q[f]=q[h-1],null==t&&q.pop(),m};a.removeUnorderedMany=function(q,m,t=q.length,f=m.length,h,v){if(0===f||0===t)return t;g.clear();for(let w=0;w<f;++w)g.add(m[w]);h=h||k;m=Math.max(0,h.last-10);for(f=m;f<t;++f)if(g.has(q[f])&&(v&&v.push(q[f]),g.delete(q[f]),q[f]=q[t-1],--t,--f,0===g.size||0===t))return g.clear(),t;for(f=0;f<m;++f)if(g.has(q[f])&&(v&&v.push(q[f]),g.delete(q[f]),
q[f]=q[t-1],--t,--f,0===g.size||0===t))return g.clear(),t;g.clear();return t};a.shuffle=function(q,m){m=r(m);for(let t=q.length-1;0<t;t--){const f=Math.floor(m()*(t+1)),h=q[t];q[t]=q[f];q[f]=h}return q};a.splitIntoChunks=function(q,m){const t=q.length;if(0===t)return[];const f=[];for(let h=0;h<t;h+=m)f.push(q.slice(h,h+m));return f};a.unique=function(q,m){return m?q.filter((t,f,h)=>h.findIndex(m.bind(null,t))===f):q.filter((t,f,h)=>h.indexOf(t)===f)};a.update=function(q,m){let t=q.length!==m.length;
q.length=m.length;for(let f=0;f<m.length;++f)q[f]!==m[f]&&(q[f]=m[f],t=!0);return t};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let b=function(){function c(d=1){this._seed=d}var e=c.prototype;e.getInt=function(){return this._seed=(c._a*this._seed+c._c)%c._m};e.getFloat=function(){return this.getInt()/(c._m-1)};e.getIntRange=function(d,p){return Math.round(this.getFloatRange(d,
p))};e.getFloatRange=function(d,p){p-=d;const r=this.getInt()/c._m;return d+r*p};a._createClass(c,[{key:"seed",set:function(d){this._seed=null==d?Math.random()*c._m:d}}]);return c}();b._m=2147483647;b._a=48271;b._c=0;return b})},"esri/core/has":function(){define(function(){function a(r){return"function"===typeof e[r]?e[r]=e[r](globalThis):e[r]}var b,c;let e;if(null!=(b=globalThis.dojoConfig)&&b.has||null!=(c=globalThis.esriConfig)&&c.has){var d,p;e={...null==(d=globalThis.dojoConfig)?void 0:d.has,
...null==(p=globalThis.esriConfig)?void 0:p.has}}else e={};a.add=(r,u,n,k)=>{if(k||"undefined"===typeof e[r])e[r]=u;return n&&a(r)};a.cache=e;a.add("esri-deprecation-warnings",!0);(()=>{a.add("host-webworker","undefined"!==typeof globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var r="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",r);a.add("dom",r);if(a("host-browser")){var u=
navigator;r=u.userAgent;u=u.appVersion;const k=parseFloat(u);a.add("edge",parseFloat(r.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(r.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(r.split("Chrome/")[1])||void 0);a.add("safari",!u.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(u.split("Version/")[1]));a.add("mac",u.includes("Macintosh"));if(r.match(/(iPhone|iPod|iPad)/)){const g=RegExp.$1.replace(/P/,"p");var n=r.match(/OS ([\d_]+)/)?RegExp.$1:
"1";n=parseFloat(n.replace(/_/,".").replace(/_/g,""));a.add(g,n);a.add("ios",n)}a.add("trident",parseFloat(u.split("Trident/")[1])||void 0);a("webkit")||(!r.includes("Gecko")||a("trident")||a("edge")||a.add("mozilla",k),a("mozilla")&&a.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var r=navigator.userAgent;const u=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(r);r=/iPhone/i.test(r);u&&a.add("esri-mobile",
u);r&&a.add("esri-iPhone",r);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-canvas-svg-support",!a("trident"));a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-shared-array-buffer",()=>{const u=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!u});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers",
"Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-advanced-symbols",
!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-enabled",!1);a.add("mapimagelayer-popup-identify-max-tolerance",20);a.add("heatmap-allow-raster-fallback",!0);a.add("heatmap-force-raster",!1);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>
{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const u=new Image;u.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';u.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const u=window.document.createElement("a");u.href="?'";return u.href.includes("?%27")}))})();return a})},
"esri/core/typedArrayUtil":function(){define(["exports","./maybe"],function(a,b){a.estimateSize=function(c){return b.isNone(c)?0:128+c.buffer.byteLength+64};a.forEach=function(c,e){if(c.forEach)c.forEach(e);else for(let d=0;d<c.length;d++)e(c[d],d,c)};a.isArrayBuffer=function(c){return c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name};a.isFloat32Array=function(c){return c instanceof Float32Array||c&&c.constructor&&"Float32Array"===c.constructor.name};a.isFloat64Array=
function(c){return c instanceof Float64Array||c&&c.constructor&&"Float64Array"===c.constructor.name};a.isInt16Array=function(c){return c instanceof Int16Array||c&&c.constructor&&"Int16Array"===c.constructor.name};a.isInt32Array=function(c){return c instanceof Int32Array||c&&c.constructor&&"Int32Array"===c.constructor.name};a.isInt8Array=function(c){return c instanceof Int8Array||c&&c.constructor&&"Int8Array"===c.constructor.name};a.isUint16Array=function(c){return c instanceof Uint16Array||c&&c.constructor&&
"Uint16Array"===c.constructor.name};a.isUint32Array=function(c){return c instanceof Uint32Array||c&&c.constructor&&"Uint32Array"===c.constructor.name};a.isUint8Array=function(c){return c instanceof Uint8Array||c&&c.constructor&&"Uint8Array"===c.constructor.name};a.isUint8ClampedArray=function(c){return c instanceof Uint8ClampedArray||c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};a.slice=function(c,e,d){if(c.slice)return c.slice(e,d);void 0===e?e=0:(0>e&&(e+=c.length),e=Math.min(c.length,
Math.max(0,e)));void 0===d?d=c.length:(0>d&&(d+=c.length),d=Math.min(c.length,Math.max(0,d)));d=Math.max(0,d-e);const p=new c.constructor(d);for(let r=0;r<d;r++)p[r]=c[e+r];return p};a.toArray=function(c){const e=Array(c.length);for(let d=0;d<c.length;d++)e[d]=c[d];return e};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});
b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,b,c,e){function d(l){let q=l.constructor.__accessorMetadata__;var m=Object.prototype.hasOwnProperty.call(l.constructor,"__accessorMetadata__");if(!q)q=new n({}),Object.defineProperty(l.constructor,
"__accessorMetadata__",{value:q,enumerable:!1,configurable:!0,writable:!0});else if(!m){m=Object.create(q.properties);const t=q.autoDestroy;for(const f in m)m[f]=b.clone(m[f]);q=new n(m);q.autoDestroy=t;Object.defineProperty(l.constructor,"__accessorMetadata__",{value:q,enumerable:!1,configurable:!0,writable:!0})}return c.assumeNonNull(l.constructor.__accessorMetadata__)}function p(l){return d(l).properties}function r(l){return k.test(l)?"replace":"merge"}function u(l){return g.test(l)?r(l.slice(11)):
"merge"}let n=function(l){this.autoDestroy=!1;this.properties=l};const k=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,g=/^properties\./;a.ClassMetadata=n;a.getOwnClassMetadata=d;a.getOwnPropertiesMetadata=p;a.getOwnPropertyMetadata=function(l,q){l=p(l);let m=l[q];m||(m=l[q]={});return m};a.merge=function(l,q){return e.merge(l,q,u)};a.mergeProperty=function(l,q){return e.merge(l,q,r)};a.setPropertyMetadata=function(l,q,m){p(l)[q]=m};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./utils ./tracking/Flags".split(" "),function(a,b,c,e,d,p,r,u,n,k,g,l){e.getLogger("esri.core.accessorSupport.Properties");b=function(){function m(f){this.host=f;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=p.Lifecycle.INITIALIZING;
this.store=new n.Store;this._origin=u.OriginId.USER;f=this.host.constructor.__accessorMetadata__;const h=f.properties;for(const v in h){const w=new r.Property(this,v,h[v]);this.properties.set(v,w)}this.metadatas=h;this._autoDestroy=f.autoDestroy}var t=m.prototype;t.initialize=function(){this.lifecycle=p.Lifecycle.CONSTRUCTING};t.constructed=function(){this.lifecycle=p.Lifecycle.CONSTRUCTED};t.destroy=function(){this.destroyed=!0;if(this._autoDestroy)for(const [h,v]of this.properties){var f=this.internalGet(h);
f&&f&&"function"===typeof f.destroy&&(f.destroy(),~v.flags&l.Flags.NonNullable&&this._internalSet(v,null));v.destroy()}else for([,f]of this.properties)f.destroy()};t.get=function(f){const h=this.properties.get(f);if(h.metadata.get)return h.getComputed();k.trackAccess(h);const v=this.store;return v.has(f)?v.get(f):h.metadata.value};t.originOf=function(f){const h=this.store.originOf(f);return void 0===h&&(f=this.properties.get(f),void 0!==f&&f.flags&l.Flags.HasDefaultValue)?"defaults":u.idToName(h)};
t.has=function(f){return this.properties.has(f)?this.store.has(f):!1};t.keys=function(){return[...this.properties.keys()]};t.internalGet=function(f){const h=this.properties.get(f);if(void 0!==h)return this.store.has(f)?this.store.get(f):h.metadata.value};t.internalSet=function(f,h){f=this.properties.get(f);void 0!==f&&this._internalSet(f,h)};t.getDependsInfo=function(f,h,v){const w=this.properties.get(h);if(void 0===w)return"";const D=new Set;var x=k.runTracked({onObservableAccessed:z=>D.add(z),onTrackingEnd:()=>
{}},()=>{var z;return null==(z=w.metadata.get)?void 0:z.call(f)}),y=f.declaredClass.split(".").pop();h=`${v}${y}.${h}: ${x}\n`;if(0===D.size)return h;v+="  ";for(const z of D){if(!(z instanceof r.Property))continue;x=z.properties.host;y=z.propertyName;const A=g.getProperties(x);h=A?h+A.getDependsInfo(x,y,v):h+`${v}${y}: undefined\n`}return h};t.setAtOrigin=function(f,h,v){f=this.properties.get(f);if(void 0!==f)return this._setAtOrigin(f,h,v)};t.isOverridden=function(f){f=this.properties.get(f);return void 0!==
f&&!!(f.flags&l.Flags.Overriden)};t.clearOverride=function(f){f=this.properties.get(f);void 0!==f&&f.flags&l.Flags.Overriden&&(f.flags&=~l.Flags.Overriden,f.notifyChange())};t.override=function(f,h){f=this.properties.get(f);if(!(void 0===f||null==h&&f.flags&l.Flags.NonNullable)){var v=f.metadata.cast;if(v){h=this._cast(v,h);const {valid:w,value:D}=h;q.release(h);if(!w)return;h=D}f.flags|=l.Flags.Overriden;this._internalSet(f,h)}};t.set=function(f,h){f=this.properties.get(f);if(!(void 0===f||null==
h&&f.flags&l.Flags.NonNullable)){var v=f.metadata.cast;if(v){h=this._cast(v,h);const {valid:w,value:D}=h;q.release(h);if(!w)return;h=D}(v=f.metadata.set)?v.call(this.host,h):this._internalSet(f,h)}};t.setDefaultOrigin=function(f){this._origin=u.nameToId(f)};t.getDefaultOrigin=function(){return u.idToName(this._origin)};t.notifyChange=function(f){f=this.properties.get(f);void 0!==f&&f.notifyChange()};t.invalidate=function(f){f=this.properties.get(f);void 0!==f&&f.invalidate()};t.commit=function(f){f=
this.properties.get(f);void 0!==f&&f.commit()};t._internalSet=function(f,h){this._setAtOrigin(f,h,this.lifecycle!==p.Lifecycle.INITIALIZING?this._origin:u.OriginId.DEFAULTS)};t._setAtOrigin=function(f,h,v){const w=this.store,D=f.propertyName;w.has(D,v)&&c.equals(h,w.get(D))&&~f.flags&l.Flags.Overriden&&v===w.originOf(D)||(f.invalidate(),w.set(D,h,v),f.commit(),k.initializeDependencyTracking(this.host,f))};t._cast=function(f,h){const v=q.acquire();v.valid=!0;v.value=h;f&&(v.value=f.call(this.host,
h,v));return v};a._createClass(m,[{key:"initialized",get:function(){return this.lifecycle!==p.Lifecycle.INITIALIZING}}]);return m}();e=function(){function m(){this.value=null;this.valid=!0}var t=m.prototype;t.acquire=function(){this.valid=!0};t.release=function(){this.value=null};return m}();const q=new d(e);return b})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","../config","./has","./maybe","./string"],function(a,b,c,e,d){const p={info:0,warn:1,error:2,none:3};c=
function(){function r(n){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=n.level&&(this.level=n.level);null!=n.writer&&(this.writer=n.writer);this._module=n.module;r._loggers[this.module]=this;n=this.module.lastIndexOf(".");-1!==n&&(this._parent=r.getLogger(this.module.slice(0,n)))}var u=r.prototype;u.error=function(...n){this._log("error","always",...n)};u.warn=function(...n){this._log("warn","always",...n)};u.info=
function(...n){this._log("info","always",...n)};u.errorOnce=function(...n){this._log("error","once",...n)};u.warnOnce=function(...n){this._log("warn","once",...n)};u.infoOnce=function(...n){this._log("info","once",...n)};u.errorOncePerTick=function(...n){this._log("error","oncePerTick",...n)};u.warnOncePerTick=function(...n){this._log("warn","oncePerTick",...n)};u.infoOncePerTick=function(...n){this._log("info","oncePerTick",...n)};r.getLogger=function(n){let k=r._loggers[n];k||(k=new r({module:n}));
return k};u._log=function(n,k,...g){if(this._matchLevel(n)){if("always"!==k&&!r._throttlingDisabled){const l=this._argsToKey(g),q=this._loggedMessages[n].get(l);if("once"===k&&null!=q||"oncePerTick"===k&&q&&q>=r._tickCounter)return;this._loggedMessages[n].set(l,r._tickCounter);r._scheduleTickCounterIncrement()}for(const l of b.log.interceptors)if(l(n,this.module,...g))return;this._inheritedWriter()(n,this.module,...g)}};u._parentWithMember=function(n,k){let g=this;for(;e.isSome(g);){const l=g[n];
if(e.isSome(l))return l;g=g.parent}return k};u._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};u._consoleWriter=function(n,k,...g){console[n](`[${k}]`,...g)};u._matchLevel=function(n){return p[this._parentWithMember("level",b.log.level?b.log.level:"warn")]<=p[n]};u._argsToKey=function(...n){return d.numericHash(JSON.stringify(n,(k,g)=>"object"!==typeof g||Array.isArray(g)?g:"[Object]"))};r._scheduleTickCounterIncrement=function(){r._tickCounterScheduled||(r._tickCounterScheduled=
!0,Promise.resolve().then(()=>{r._tickCounter++;r._tickCounterScheduled=!1}))};a._createClass(r,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const n=this;return{loggedMessages:n._loggedMessages,clearLoggedWarnings(){return n._loggedMessages.warn.clear()}}}}],[{key:"testSingleton",get:function(){return{resetLoggers(n={}){const k=r._loggers;r._loggers=n;return k},set throttlingDisabled(n){r._throttlingDisabled=n}}}}]);
return r}();c._loggers={};c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=!1;return c})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){var e;b={apiKey:void 0,applicationUrl:null==(e=globalThis.location)?void 0:e.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",
portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,
timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")));b.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath");Object.defineProperty(b,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}});b.request.corsEnabledServers=[];b.request.corsEnabledServers.push=
function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return b})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(d,p,r){for(const u of d){if(null==r)return;if(!(u in r))if(p)r[u]={};else return;r=r[u]}return r}function e(d,p,r){return p?Object.keys(p).reduce((u,n)=>{let k=u[n],g=p[n];if(k===g)return u;if(void 0===k)return u[n]=b.clone(g),u;if(Array.isArray(g)||
Array.isArray(u))k=k?Array.isArray(k)?u[n]=k.concat():u[n]=[k]:u[n]=[],g&&(Array.isArray(g)||(g=[g]),r?g.forEach(l=>{k.includes(l)||k.push(l)}):u[n]=g.concat());else if(g&&"object"===typeof g)u[n]=e(k,g,r);else if(!u.hasOwnProperty(n)||p.hasOwnProperty(n))u[n]=g;return u},d||{}):d}a.deepMerge=function(d,p,r=!1){return e(d,p,r)};a.getDeepValue=function(d,p){if(null!=p)return p[d]||c(d.split("."),!1,p)};a.setDeepValue=function(d,p,r){const u=d.split(".");d=u.pop();(r=c(u,!0,r))&&d&&(r[d]=p)};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(d){return null==d?"":d}const e=/\{([^\}]+)\}/g;a.escapeRegExpString=function(d,p){return d.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>p&&p.includes(r)?r:`\\${r}`)};a.numericHash=function(d){let p=0;for(let r=0;r<d.length;r++)p=(p<<5)-p+d.charCodeAt(r),p|=0;return p};a.replace=function(d,p){return d.replace(e,"object"===typeof p?(r,u)=>c(b.getDeepValue(u,
p)):(r,u)=>c(p(u)))};a.stripHTML=function(d){return(new DOMParser).parseFromString(d||"","text/html").body.innerText||""};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/Property":function(){define(["exports","./PropertyOrigin","./tracking","./tracking/Flags","./tracking/ObservationHandle"],function(a,b,c,e,d){let p=function(){function r(n,k,g){this.properties=n;this.propertyName=k;this.metadata=g;this._handles=this._accessed=
this._observers=null;this.flags=e.Flags.Dirty|(g.nonNullable?e.Flags.NonNullable:0)|(g.hasOwnProperty("value")?e.Flags.HasDefaultValue:0)|(void 0===g.get?e.Flags.DepTrackingInitialized:0)|(void 0===g.dependsOn?e.Flags.AutoTracked:0)}var u=r.prototype;u.destroy=function(){if(this.flags&e.Flags.Dirty&&this._observers){const n=this._observers.slice();for(const k of n)k.onCommitted()}this._observers=this._accessed=null;this._clearObservationHandles()};u.getComputed=function(){c.trackAccess(this);var n=
this.properties.store;const k=this.propertyName;var g=this.flags;const l=n.get(k);if(g&e.Flags.Computing||~g&e.Flags.Dirty&&n.has(k))return l;this.flags|=e.Flags.Computing;const q=this.properties.host;g&e.Flags.AutoTracked?g=c.runTracked(this,this.metadata.get,q):(c.trackExplicitDependencies(q,this),g=this.metadata.get.call(q));n.set(k,g,b.OriginId.COMPUTED);n=n.get(k);n===l?this.flags&=~e.Flags.Dirty:c.runUntracked(this.commit,this);this.flags&=~e.Flags.Computing;return n};u.onObservableAccessed=
function(n){n!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(n)||this._accessed.push(n))};u.onTrackingEnd=function(){this._clearObservationHandles();this.flags|=e.Flags.DepTrackingInitialized;const n=this._accessed;if(null!==n){var k=this._handles;null===k&&(k=this._handles=[]);for(let g=0;g<n.length;++g)k.push(n[g].observe(this));n.length=0}};u.observe=function(n){null===this._observers&&(this._observers=[]);this._observers.includes(n)||this._observers.push(n);return new d.ObservationHandle(this._observers,
n)};u.notifyChange=function(){this.onInvalidated();this.onCommitted()};u.invalidate=function(){this.onInvalidated()};u.onInvalidated=function(){~this.flags&e.Flags.Overriden&&(this.flags|=e.Flags.Dirty);const n=this._observers;if(null!==n)for(let k=0;k<n.length;++k)n[k].onInvalidated()};u.commit=function(){this.flags&=~e.Flags.Dirty;this.onCommitted()};u.onCommitted=function(){if(null!==this._observers){var n=this._observers.slice();for(let k=0;k<n.length;++k)n[k].onCommitted()}};u._clearObservationHandles=
function(){const n=this._handles;if(null!==n){for(let k=0;k<n.length;++k)n[k].remove();n.length=0}};return r}();a.Property=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,b){function c(d){switch(d){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;
case "web-map":return a.OriginId.WEB_MAP;case "user":return a.OriginId.USER}}function e(d){switch(d){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.USER:return"user"}return b.assumeNonNull(void 0)}a.OriginId=void 0;(function(d){d[d.DEFAULTS=0]="DEFAULTS";d[d.COMPUTED=1]="COMPUTED";d[d.SERVICE=2]="SERVICE";d[d.PORTAL_ITEM=
3]="PORTAL_ITEM";d[d.WEB_SCENE=4]="WEB_SCENE";d[d.WEB_MAP=5]="WEB_MAP";d[d.USER=6]="USER"})(a.OriginId||(a.OriginId={}));a.OriginIdNum=a.OriginId.USER+1;a.idToName=e;a.idToReadableName=function(d){return e(d)};a.idToWritableName=function(d){return e(d)};a.nameToId=c;a.readableNameToId=function(d){return c(d)};a.writableNameToId=function(d){return c(d)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/tracking":function(){define(["exports",
"../has","../Logger","./utils","./tracking/Flags"],function(a,b,c,e,d){function p(w){if(void 0!==m)m.onObservableAccessed(w)}function r(w,D,x){if(f)return u(w,D,x);m=w;q.push(w);w=D.call(x);n();return w}function u(w,D,x){const y=f;f=!0;m=w;q.push(w);w=null;try{w=D.call(x)}catch(z){h&&t.error(z)}n();f=y;return w}function n(){const w=q.pop();m=0<q.length?q[q.length-1]:void 0;if(void 0!==w)w.onTrackingEnd()}function k(w,D){if(!(D.flags&d.Flags.DepTrackingInitialized)){var x=h;h=!1;D.flags&d.Flags.AutoTracked?
u(D,D.metadata.get,w):g(w,D);h=x}}function g(w,D){D.flags&d.Flags.ExplicitlyTracking||(D.flags|=d.Flags.ExplicitlyTracking,u(D,()=>{var x=D.metadata.dependsOn||v;for(const y of x)if("string"!==typeof y||y.includes(".")){x=e.pathToArray(y);for(let z=0,A=w;z<x.length&&null!=A&&"object"===typeof A;++z)A=l(A,x[z],z!==x.length-1)}else l(w,y,!1)}),D.flags&=~d.Flags.ExplicitlyTracking)}function l(w,D,x){D="?"===D[D.length-1]?D.slice(0,-1):D;if(null!=w.getItemAt||Array.isArray(w)){var y=parseInt(D,10);if(!isNaN(y))return Array.isArray(w)?
w[y]:w.getItemAt(y)}y=e.getProperties(w);if(y=null==y?void 0:y.properties.get(D))p(y),k(w,y);return x?w[D]:void 0}let q=[],m=void 0;const t=c.getLogger("esri.core.Accessor");let f=!1,h=!1;const v=[];a.initializeDependencyTracking=k;a.resetGlobalTarget=function(){q=[]};a.runTracked=r;a.runTrackedNoThrow=u;a.runUntracked=function(w,D){return r(void 0,w,D)};a.trackAccess=p;a.trackExplicitDependencies=g;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],
function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overriden=2]="Overriden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports",
"../../arrayUtils"],function(a,b){let c=function(){function e(d,p){this._observers=d;this._observer=p}e.prototype.remove=function(){b.remove(this._observers,this._observer)};return e}();a.ObservationHandle=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){let e=function(){function d(){this._values=new Map;this.multipleOriginsSupported=!1}var p=d.prototype;
p.clone=function(r){const u=new d;this._values.forEach((n,k)=>{r&&r.has(k)||u.set(k,b.clone(n))});return u};p.get=function(r){return this._values.get(r)};p.originOf=function(){return c.OriginId.USER};p.keys=function(){return[...this._values.keys()]};p.set=function(r,u){this._values.set(r,u)};p.delete=function(r){this._values.delete(r)};p.has=function(r){return this._values.has(r)};p.forEach=function(r){this._values.forEach(r)};return d}();a.Store=e;Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,c,e,d){function p(r,u,n){if(r&&u)if("object"===typeof u)for(var k of Object.getOwnPropertyNames(u))p(r,k,u[k]);else if(u.includes("."))u=u.split("."),k=u.splice(u.length-1,1)[0],p(d.get(r,u),k,n);else{k=r.__accessor__;if(null!=k&&c("esri-unknown-property-errors")&&null==k.metadatas[u])throw new b("set:unknown-property","setting unknown property '"+
u+"' on instance of "+k.host.declaredClass);r[u]=n}}e.getLogger("esri.core.accessorSupport.set");a.set=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,b,c,e){e=function(d){function p(r,u,n){var k=d.call(this,r,u,n)||this;return a._assertThisInitialized(k)instanceof p?k:new p(r,u,n)}a._inheritsLoose(p,d);p.prototype.toJSON=function(){if(null!=
this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(r,u)=>{if(u&&"object"===typeof u&&"function"===typeof u.toJSON)return u;try{return b.clone(u)}catch(n){return"[object]"}}))}}catch(r){throw c.getLogger("esri.core.Error").error(r),r;}return{name:this.name,message:this.message,details:this.details}};p.fromJSON=function(r){return new p(r.name,r.message,r.details)};return p}(e);e.prototype.type="error";return e})},"esri/core/Message":function(){define(["./object"],
function(a){function b(c,e){return c.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,(d,p)=>{if(""===p)return"$";d=a.getDeepValue(p,e);d=null==d?"":d;if("undefined"===typeof d)throw Error(`could not find key "${p}" in template`);return d.toString()})}return function(){function c(e,d,p){this.name=e;this.details=p;this.message=void 0;this instanceof c&&(this.message=d&&b(d,p)||"")}c.prototype.toString=function(){return"["+this.name+"]: "+this.message};return c}()})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./trackingUtils ./utils".split(" "),
function(a,b,c,e,d,p,r,u,n,k){function g(C){y.delete(C);y.add(C);z||(z=d.schedule(q))}function l(C){if(!C.removed){var B=C.oldValue,E=C.getValue();C.equals(B,E)||(C.oldValue=E,C.notify(E,B))}}function q(){let C=10;for(;z&&C--;){z=null;const B=m(),E=x.acquire();for(const G of B){const J=G.uid;l(G);J===G.uid&&G.removed&&E.push(G)}for(const G of y)G.removed&&(E.push(G),y.delete(G));for(const G of E)D.pool.release(G);x.release(E);x.release(B);A.forEach(G=>G())}}function m(){const C=x.acquire();C.length=
y.size;let B=0;for(const E of y)C[B]=E,++B;y.clear();return C}function t(C,B,E){let G=k.parse(C,B,E,(J,K,F)=>{let H,I,L=n.reactionDeferred(()=>u.valueOf(J,K),(Q,Z)=>{J.__accessor__.destroyed||H&&H.uid!==I?G.remove():(H||(H=D.acquireUntracked(Q,F,Z,J,K),I=H.uid),g(H))});return{remove:k.once(()=>{L.remove();H&&(H.uid!==I||H.removed||(H.removed=!0,g(H)),H=null);G=L=null})}});return G}function f(C,B,E){const G=k.parse(C,B,E,(J,K,F)=>{let H=!1;return n.reaction(()=>u.valueOf(J,K),(I,L)=>{J.__accessor__.destroyed?
G.remove():H||(H=!0,c.equals(L,I)||F.call(J,I,L,K,J),H=!1)})});return G}function h(C,B,E){let G,J,K=n.reactionDeferred(C,(F,H)=>{G&&G.uid!==J?K.remove():(G||(G=D.acquireTracked(F,B,H,E),J=G.uid),g(G))});return{remove:k.once(()=>{K.remove();G&&(G.uid!==J||G.removed||(G.removed=!0,g(G)),G=null);K=null})}}function v(C,B,E){let G=!1;return n.reaction(C,(J,K)=>{G||(G=!0,E(K,J)||B(J,K),G=!1)})}var w;(function(C){C[C.Untracked=0]="Untracked";C[C.Tracked=1]="Tracked"})(w||(w={}));let D=function(){function C(){this.uid=
r.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}C.acquireUntracked=function(E,G,J,K,F){return this.pool.acquire(w.Untracked,E,G,J,K,F,c.equals)};C.acquireTracked=function(E,G,J,K){return this.pool.acquire(w.Tracked,E,G,J,null,null,K)};var B=C.prototype;B.notify=function(E,G){this.type===w.Untracked?this.callback.call(this.target,E,G,this.path,this.target):this.callback.call(null,E,G)};B.acquire=function(E,G,J,K,F,H,I){this.uid=
r.generateUID();this.removed=!1;this.type=E;this.oldValue=G;this.callback=J;this.getValue=K;this.target=F;this.path=H;this.equals=I};B.release=function(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=r.generateUID();this.removed=!0};return C}();D.pool=new e.ReentrantObjectPool(D);const x=new b,y=new Set;let z;const A=new Set;a.afterDispatch=function(C){A.add(C);return{remove(){A.delete(C)}}};a.dispatch=q;a.dispatchTarget=function(C){const B=Array.from(y);for(let E=
0;E<B.length;E++){const G=B[E];G.target===C&&(l(G),y.delete(G))}};a.isValueInUse=function(C){return p.someSet(y,B=>B.oldValue===C)};a.removeTarget=function(C){for(const B of y.values())B.target===C&&(B.removed=!0)};a.watch=function(C,B,E,G=!1){return!C.__accessor__||C.__accessor__.destroyed?{remove(){}}:G?f(C,B,E):t(C,B,E)};a.watchTracked=function(C,B,E=!1,G=c.equalsShallow){return E?v(C,B,G):h(C,B,G)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/ReentrantObjectPool":function(){define(["exports",
"../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,b,c,e){e=function(d){function p(){var u=d.apply(this,arguments)||this;u._set=new Set;return u}b._inheritsLoose(p,d);var r=p.prototype;r.destroy=function(){d.prototype.destroy.call(this);this._set=c.nullifyNonnullableForDispose(this._set)};r.acquire=function(...u){u=d.prototype.acquire.call(this,...u);this._set.delete(u);return u};r.release=function(u){u&&!this._set.has(u)&&(d.prototype.release.call(this,u),this._set.add(u))};
r._dispose=function(u){this._set.delete(u);d.prototype._dispose.call(this,u)};return p}(e);a.ReentrantObjectPool=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,c,e,d,p,r){function u(E){E=new m(E);w.push(E);y.willDispatch||(y.willDispatch=!0,c.nextTick(l));return E}function n(E){E=new q(E);D.push(E);null==
z&&(t=performance.now(),z=requestAnimationFrame(k));return new x(E)}function k(){const E=performance.now();z=null;z=0<D.length?requestAnimationFrame(k):null;y.executeFrameTasks(E)}function g(){D.forAll(E=>{E.removed&&A.push(E)});D.removeUnorderedMany(A.data,A.length);A.clear()}function l(){for(;w.length;){const E=b.assumeNonNull(w.shift());E.isActive&&E.callback()}y.willDispatch=!1}let q=function(E){this.phases=E;this.paused=!1;this.ticks=-1;this.removed=!1},m=function(){function E(G){this.callback=
G;this.isActive=!0}E.prototype.remove=function(){this.isActive=!1};return E}(),t=0,f=0;const h={time:r.Milliseconds(0),deltaTime:r.Milliseconds(0),elapsedFrameTime:r.Milliseconds(0),frameDuration:r.Milliseconds(0)},v="prepare preRender render postRender update finish".split(" "),w=[],D=new d;let x=function(){function E(J){this._task=J}var G=E.prototype;G.remove=function(){this._task.removed=!0};G.pause=function(){this._task.paused=!0};G.resume=function(){this._task.paused=!1};return E}();const y=
{frameTasks:D,willDispatch:!1,clearFrameTasks:function(E=!1){D.forAll(G=>{G.removed=!0});E&&g()},dispatch:l,executeFrameTasks:function(E){const G=r.Milliseconds(E-t);t=E;const J=0<f?f:1E3/60,K=Math.max(0,G-J);for(let F=0;F<v.length;F++){const H=performance.now(),I=v[F];D.forAll(L=>{var Q;L.paused||L.removed||(0===F&&L.ticks++,L.phases[I]&&(h.time=E,h.deltaTime=0===L.ticks?r.Milliseconds(0):G,h.elapsedFrameTime=r.Milliseconds(performance.now()-E),h.frameDuration=r.Milliseconds(J-K),null==(Q=L.phases[I])?
void 0:Q.call(L,h)))});C[F].record(performance.now()-H)}g();B.record(performance.now()-E)}};let z=null;const A=new d,C=v.map(E=>new e(E)),B=new e("total");a.FrameTaskHandle=x;a.addFrameTask=n;a.debug=y;a.performanceInfo=C;a.performanceTotal=B;a.schedule=u;a.setFrameDuration=function(E){f=Math.max(0,E)};a.waitAnimationFrame=function(){const E=p.createResolver(),G=n({postRender:()=>{G.remove();u(E)}});return E.promise};a.waitTicks=function(E=1,G){const J=p.createResolver(),K=()=>{p.isAborted(G)?J.reject(p.createAbortError()):
0===E?J():(--E,c.nextTick(()=>K()))};K();return J.promise};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const e=b.slice();b.length=0;for(const d of e)d()})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers"],
function(a){return function(){function b(c,e=29){this.name=c;this._counter=0;this._items=Array(e)}b.prototype.record=function(c){this._items[++this._counter%this._items.length]=c};a._createClass(b,[{key:"median",get:function(){return this._items.slice().sort((c,e)=>c-e)[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((c,e)=>c+e,0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]);return b}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./arrayUtils","./HeapSort"],function(a,b,c){function e(d){d.data.length>1.5*d.length&&(d.data.length=Math.floor(1.1*d.length))}return function(){function d(r){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new b.PositionHint;r&&(r.initialSize&&(this.data=Array(r.initialSize)),r.allocator&&(this._allocator=r.allocator),void 0!==r.deallocator&&(this._deallocator=r.deallocator),r.shrink&&(this._shrink=()=>e(this)))}var p=d.prototype;p.toArray=
function(){return this.data.slice(0,this.length)};p.filter=function(r){const u=[];for(let n=0;n<this._length;n++){const k=this.data[n];r(k)&&u.push(k)}return u};p.getItemAt=function(r){if(!(0>r||r>=this._length))return this.data[r]};p.includes=function(r,u){r=this.data.indexOf(r,u);return-1!==r&&r<this.length};p.clear=function(){this.length=0};p.prune=function(){this.clear();this.data=[]};p.push=function(r){this.data[this._length++]=r};p.pushArray=function(r,u=r.length){for(let n=0;n<u;n++)this.data[this._length++]=
r[n]};p.fill=function(r,u){for(let n=0;n<u;n++)this.data[this._length++]=r};p.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const r=this.data[this._length];++this._length;return r};p.unshift=function(r){this.data.unshift(r);this._length++;e(this)};p.pop=function(){if(0!==this.length){var r=this.data[this.length-1];--this.length;this._shrink();return r}};p.remove=function(r){const u=b.indexOf(this.data,r,this.length,this._hint);if(-1!==u)return this.data.splice(u,
1),--this.length,r};p.removeUnordered=function(r){r=b.removeUnordered(this.data,r,this.length,this._hint);void 0!==r&&--this.length;this._shrink();return r};p.removeUnorderedIndex=function(r){if(!(r>=this.length||0>r))return this.swapElements(r,this.length-1),this.pop()};p.removeUnorderedMany=function(r,u=r.length,n){this.length=b.removeUnorderedMany(this.data,r,this.length,u,this._hint,n);this._shrink()};p.front=function(){if(0!==this.length)return this.data[0]};p.back=function(){if(0!==this.length)return this.data[this.length-
1]};p.swapElements=function(r,u){r>=this.length||u>=this.length||r===u||([this.data[r],this.data[u]]=[this.data[u],this.data[r]])};p.sort=function(r){c.sort(this.data,0,this.length,r)};p.iterableSort=function(r){return c.iterableSort(this.data,0,this.length,r)};p.some=function(r,u){for(let n=0;n<this.length;++n)if(r.call(u,this.data[n],n,this.data))return!0;return!1};p.filterInPlace=function(r,u){let n=0;for(let k=0;k<this._length;++k){const g=this.data[k];r.call(u,g,k,this.data)&&(this.data[k]=this.data[n],
this.data[n]=g,n++)}if(this._deallocator)for(r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);this._length=n;this._shrink();return this};p.forAll=function(r,u){const n=this.length,k=this.data;for(let g=0;g<n;++g)r.call(u,k[g],g,k)};p.forEach=function(r,u){for(let n=0;n<this.length;++n)r.call(u,this.data[n],n,this.data)};p.map=function(r,u){const n=Array(this.length);for(let k=0;k<this.length;++k)n[k]=r.call(u,this.data[k],k,this.data);return n};p.reduce=function(r,u){for(let n=
0;n<this.length;++n)u=r(u,this.data[n],n,this.data);return u};p.has=function(r){const u=this.length,n=this.data;for(let k=0;k<u;++k)if(n[k]===r)return!0;return!1};a._createClass(d,[{key:"length",get:function(){return this._length},set:function(r){if(r>this._length)if(this._allocator)for(;this._length<r;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=r;else{if(this._deallocator)for(let u=r;u<this._length;++u)this.data[u]=this._deallocator(this.data[u]);this._length=
r;this._shrink()}}}]);return d}()})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(d,p,r,u)=>{let n=p;const k=r>>>1,g=d[n-1];for(;p<=k;){p=n<<1;p<r&&0>u(d[p-1],d[p])&&++p;const l=d[p-1];if(0>=u(l,g))break;d[n-1]=l;n=p}d[n-1]=g},e=(d,p)=>d<p?-1:d>p?1:0;b.sort=function(d,p,r,u){void 0===p&&(p=0);void 0===r&&(r=d.length);void 0===u&&(u=e);for(var n=r>>>1;n>p;n--)c(d,n,r,u);n=p+1;for(--r;r>p;r--){const k=d[p];d[p]=d[r];d[r]=k;c(d,n,r,u)}};b.iterableSort=function*(d,p,r,
u){void 0===p&&(p=0);void 0===r&&(r=d.length);void 0===u&&(u=e);for(var n=r>>>1;n>p;n--)c(d,n,r,u),yield;n=p+1;for(--r;r>p;r--){const k=d[p];d[p]=d[r];d[r]=k;c(d,n,r,u);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./clock ./deprecate ./Error ./events ./Logger ./maybe".split(" "),function(a,b,c,e,d,p,r,u){function n(){n=b._asyncToGenerator(function*(B,E){const G=B.slice(),J=yield Promise.all(B.map((K,F)=>E(K,F)));return G.filter((K,
F)=>J[F])});return n.apply(this,arguments)}function k(B="Aborted"){return new d("AbortError",B)}function g(B,E="Aborted"){if(q(B))throw k(E);}function l(B){return u.isSome(B)?"aborted"in B?B:B.signal:B}function q(B){B=l(B);return u.isSome(B)&&B.aborted}function m(B,E){B=l(B);if(!u.isNone(B))if(B.aborted)E();else return p.once(B,"abort",()=>E())}function t(B){return B&&"AbortError"===B.name}function f(){f=b._asyncToGenerator(function*(B){try{return yield B}catch(E){if(!t(E))throw E;}});return f.apply(this,
arguments)}function h(){h=b._asyncToGenerator(function*(B,E=r.getLogger("esri")){try{return yield B}catch(G){t(G)||E.error(G)}});return h.apply(this,arguments)}function v(){let B=null;const E=new Promise((G,J)=>{B={promise:void 0,resolve:G,reject:J}});B.promise=E;return B}function w(B){return D.apply(this,arguments)}function D(){D=b._asyncToGenerator(function*(B){if(B){if("function"!==typeof B.forEach){const E=Object.keys(B),G=E.map(F=>B[F]),J=yield w(G),K={};E.map((F,H)=>K[F]=J[H]);return K}return new Promise(E=>
{const G=[];let J=B.length;0===J&&E(G);B.forEach(K=>{const F={promise:K||Promise.resolve(K)};G.push(F);F.promise.then(H=>{F.value=H}).catch(H=>{F.error=H}).then(()=>{--J;0===J&&E(G)})})})}});return D.apply(this,arguments)}function x(){x=b._asyncToGenerator(function*(B){return(yield w(B)).filter(E=>!!E.value).map(E=>E.value)});return x.apply(this,arguments)}function y(B,E,G){const J=new AbortController;m(G,()=>J.abort());return new Promise((K,F)=>{let H=setTimeout(()=>{H=0;K(E)},B);m(J,()=>{H&&(clearTimeout(H),
F(k()))})})}function z(B){return B&&"function"===typeof B.then}function A(B){return z(B)?B:Promise.resolve(B)}function C(){C=b._asyncToGenerator(function*(B){yield Promise.resolve();g(B)});return C.apply(this,arguments)}a.after=y;a.always=function(B,E){return B.then(E,E)};a.create=function(B){e.deprecatedFunction(r.getLogger("esri.core.promiseUtils"),"create",{moduleName:"esri.core.promiseUtils",replacement:"new Promise()",version:"4.24"});return new Promise((E,G)=>{try{B(E,G)}catch(J){Promise.resolve().then(()=>
G(J))}})};a.createAbortError=k;a.createDeferred=v;a.createResolver=function(){let B,E;const G=new Promise((K,F)=>{B=K;E=F}),J=K=>{B(K)};J.resolve=K=>B(K);J.reject=K=>E(K);J.timeout=(K,F)=>c.clock.setTimeout(()=>J.reject(F),K);J.promise=G;return J};a.createTask=function(B,E){let G=new AbortController,J;B=B(G.signal);let K={promise:B,finished:!1,abort:()=>{G&&(G.abort(),G=null)}};const F=()=>{K&&(K.finished=!0,K=null);u.isSome(J)&&(J.remove(),J=null);G=null};B.then(F,F);J=m(E,()=>{u.isSome(K)&&K.abort()});
return K};a.debounce=function(B,E=-1){let G,J,K,F,H=null;const I=(...L)=>{if(G){J=L;F&&F.reject(k());F=v();L=u.assumeNonNull(F.promise);if(H){var Q=H;H=null;Q.abort()}return L}K=F||v();F=null;if(0<E){const ca=new AbortController,aa=G=A(B(...L,ca.signal));y(E).then(()=>{G===aa&&(F?ca.abort():H=ca)})}else G=1,G=A(B(...L));L=()=>{const ca=J;J=K=G=H=null;null!=ca&&I(...ca)};Q=G;const Z=K;Q.then(L,L);Q.then(Z.resolve,Z.reject);return u.assumeNonNull(Z.promise)};return I};a.eachAlways=w;a.eachAlwaysValues=
function(B){return x.apply(this,arguments)};a.filter=function(B,E){return n.apply(this,arguments)};a.ignoreAbortErrors=function(B){return f.apply(this,arguments)};a.isAbortError=t;a.isAborted=q;a.isPromiseLike=z;a.logOnError=function(B){return h.apply(this,arguments)};a.onAbort=m;a.onAbortOrThrow=function(B,E){B=l(B);if(!u.isNone(B))return g(B),p.once(B,"abort",()=>E(k()))};a.throwIfAbortError=function(B){if(t(B))throw B;};a.throwIfAborted=g;a.throwIfNotAbortError=function(B){if(!t(B))throw B;};a.timeout=
function(B,E,G,J){const K=G&&"abort"in G?G:null;null!=J||K||(J=G);let F=setTimeout(()=>{F=0;K&&K.abort()},E);const H=()=>J||new d("promiseUtils:timeout","The wrapped promise did not resolve within "+E+" ms");return B.then(I=>{if(0===F)throw H();clearTimeout(F);return I},I=>{clearTimeout(F);throw 0===F?H():I;})};a.waitTick=function(B){return C.apply(this,arguments)};a.when=A;a.whenOrAbort=function(B,E){const G=l(E);return u.isNone(G)?B:new Promise((J,K)=>{let F=m(E,()=>K(k()));const H=()=>F=u.removeMaybe(F);
B.then(H,H);B.then(J,K)})};a.whenOrTimeout=function(B,E,G){return Promise.race([B,y(E).then(()=>{throw new d("timeout",`Did not resolve within ${E} milliseconds (${null!=G?G:"timeout"})`);})])};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/clock":function(){define(["exports"],function(a){function b(e){return{setTimeout:(d,p)=>{const r=e.setTimeout(d,p);return{remove:()=>e.clearTimeout(r)}}}}const c=b(globalThis);a.clock=c;a.wrap=b;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/deprecate":function(){define(["exports","./has"],function(a,b){function c(p,r,u=!1){u&&d.has(r)||(u&&d.add(r),p.warn(`\ud83d\uded1 DEPRECATED - ${r}`))}function e(p,r,u={}){if(b("esri-deprecation-warnings")){const {replacement:n,version:k,see:g,warnOnce:l}=u;n&&(r+=`\n\t\ud83d\udee0\ufe0f Replacement: ${n}`);k&&(r+=`\n\t\u2699\ufe0f Version: ${k}`);g&&(r+=`\n\t\ud83d\udd17 See ${g} for more details.`);c(p,r,l)}}const d=new Set;
a.deprecated=e;a.deprecatedFunction=function(p,r,u={}){if(b("esri-deprecation-warnings")){const {moduleName:n}=u;e(p,`Function: ${(n?n+"::":"")+r+"()"}`,u)}};a.deprecatedModule=function(p,r,u={}){b("esri-deprecation-warnings")&&e(p,`Module: ${r}`,u)};a.deprecatedProperty=function(p,r,u={}){if(b("esri-deprecation-warnings")){const {moduleName:n}=u;e(p,`Property: ${(n?n+"::":"")+r}`,u)}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/events":function(){define(["exports"],
function(a){function b(d){return d&&("function"===typeof d.on||"function"===typeof d.addEventListener)}function c(d,p,r){if(!b(d))throw new TypeError("target is not a Evented or EventTarget object");if("on"in d)return d.on(p,r);if(Array.isArray(p)){const u=p.slice();for(const n of u)d.addEventListener(n,r);return{remove(){for(const n of u)d.removeEventListener(n,r)}}}d.addEventListener(p,r);return{remove(){d.removeEventListener(p,r)}}}const e={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:d}){return e[d]||d};a.ieKeyNormalizationMap=e;a.isEventTarget=b;a.on=c;a.once=function(d,p,r){if(!b(d))throw new TypeError("target is not a Evented or EventTarget object");if("once"in d)return d.once(p,r);const u=c(d,p,n=>{u.remove();r.call(d,n)});return{remove(){u.remove()}}};a.pausable=function(d,p,r){let u=!1;const n=c(d,
p,k=>{u||r.call(d,k)});return{resume(){u=!1},pause(){u=!0},remove(){n.remove()}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/SetUtils":function(){define(["exports",
"./maybe"],function(a,b){a.someSet=function(c,e){for(const d of c.entries())if(e(d[0]))return!0;return!1};a.union=function(c,e){const d=new Set;b.isSome(c)&&c.forEach(p=>d.add(p));b.isSome(e)&&e.forEach(p=>d.add(p));return d};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.NullUID=0;a.generateUID=function(){return++b};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/accessorSupport/trackingUtils":function(){define(["exports","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,c){let e=!1;const d=[];a.autorun=function(p){function r(){if(u&&!n)if(e)d.includes(r)||d.unshift(r);else for(u.clear(),n=e=!0,b.runTracked(u,p),e=n=!1;d.length;)d.pop()()}let u=new c.SimpleTrackingTarget(r),n=!1;n=!0;b.runTracked(u,p);n=!1;return{remove:function(){u&&(u.destroy(),u=null)}}};a.reaction=function(p,r){function u(){if(n&&!g)if(e)d.includes(u)||d.unshift(u);
else{var l=k;n.clear();g=e=!0;k=b.runTracked(n,p);e=g=!1;for(r(k,l);d.length;)d.pop()()}}let n=new c.SimpleTrackingTarget(u),k=null,g=!1;g=!0;k=b.runTracked(n,p);g=!1;return{remove:function(){n&&(n.destroy(),k=n=null)}}};a.reactionDeferred=function(p,r){function u(){if(!n)return null;n.clear();return k=b.runTracked(n,p)}let n=new c.SimpleTrackingTarget(function(){r(k,u)}),k=null;u();return{remove:function(){n&&(n.destroy(),n=null);k=null}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){let b=function(){function c(d){this._notify=d;this._accessed=[];this._handles=[];this._invalidCount=0}var e=c.prototype;e.destroy=function(){this._accessed.length=0;this.clear()};e.onInvalidated=function(){this._invalidCount++};e.onCommitted=function(){const d=this._invalidCount;1===d?(this._invalidCount=0,this._notify()):this._invalidCount=0<d?d-1:0};e.onObservableAccessed=function(d){this._accessed.includes(d)||
this._accessed.push(d)};e.onTrackingEnd=function(){const d=this._handles,p=this._accessed;for(let r=0;r<p.length;++r)d.push(p[r].observe(this));p.length=0};e.clear=function(){const d=this._handles;for(let p=0;p<d.length;++p)d[p].remove();d.length=0};return c}();a.SimpleTrackingTarget=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),
function(a,b,c,e,d,p){function r(n){let k=0;var g=n;if(c.isLongFormType(n))return c.ensureLongFormType(n);for(;Array.isArray(g)&&1===g.length&&"string"!==typeof g[0]&&"number"!==typeof g[0];)g=g[0],k++;return c.isOneOf(g)?0===k?c.ensureOneOf(g):c.ensureNArrayTyped(c.ensureOneOf(g),k):1===k?c.ensureArray(g):1<k?c.ensureNArray(g,k):n.from?n.from:c.ensureType(n)}function u(n,k){return g=>{g=+n(g);null!=k.step&&(g=Math.round(g/k.step)*k.step);null!=k.min&&(g=Math.max(k.min,g));null!=k.max&&(g=Math.min(k.max,
g));return g}}a.ensureRange=u;a.property=function(n={}){return(k,g)=>{if(k===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${k.name}.${g}. Accessor does not support static properties.`);var l=Object.getOwnPropertyDescriptor(k,g);const q=d.getOwnPropertyMetadata(k,g);l&&(l.get||l.set?(q.get=l.get||q.get,q.set=l.set||q.set):"value"in l&&("value"in n&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${g}" on "${k.constructor.name}" already defined in the metadata`,
n),q.value=n.value=l.value));null!=n.readOnly&&(q.readOnly=n.readOnly);if(k=n.aliasOf){const m="string"===typeof k?k:k.source;k="string"===typeof k?null:!0===k.overridable;let t;q.dependsOn=[m];q.get=function(){let f=e.get(this,m);if("function"===typeof f){t||(t=m.split(".").slice(0,-1).join("."));const h=e.get(this,t);h&&(f=f.bind(h))}return f};q.readOnly||(q.set=k?function(f){void 0!==f?this._override(g,f):this._clearOverride(g)}:function(f){p.set(this,m,f)})}k=n.type;l=n.types;q.cast||(k?q.cast=
r(k):l&&(Array.isArray(l)?q.cast=c.ensureArrayTyped(c.ensureOneOfType(l[0])):q.cast=c.ensureOneOfType(l)));n.range&&(q.cast=u(q.cast,n.range));d.mergeProperty(q,n)}};a.propertyJSONMeta=function(n,k,g){n=d.getOwnPropertyMetadata(n,g);n.json||(n.json={});n=n.json;void 0!==k&&(n.origins||(n.origins={}),n.origins[k]||(n.origins[k]={}),n=n.origins[k]);return n};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/ensureType":function(){define(["exports",
"../has","../Logger","../MapUtils"],function(a,b,c,e){function d(F){return null==F?F:new Date(F)}function p(F){return null==F?F:!!F}function r(F){return null==F?F:F.toString()}function u(F){if(null==F)return F;F=parseFloat(F);return isNaN(F)?0:F}function n(F){return null==F?F:Math.round(parseFloat(F))}function k(F){return F&&F.constructor&&void 0!==F.constructor.__accessorMetadata__}function g(F,H){return null!=H&&F&&!(H instanceof F)}function l(F){return F&&F.Type?"function"===typeof F.Type?F.Type:
F.Type.base:null}function q(F,H){var I;(I=!H||!H.constructor)||(I=H.constructor,I=!(I&&"isCollection"in I));if(I)return m(F,H)?H:new F(H);I=l(F.prototype.itemType);const L=l(H.constructor.prototype.itemType);if(!I)return H;if(!L)return new F(H);if(I===L)return H;if(I.prototype.isPrototypeOf(L.prototype))return new F(H);m(F,H);return H}function m(F,H){return k(H)?(G.error("Accessor#set","Assigning an instance of '"+(H.declaredClass||"unknown")+"' which is not a subclass of '"+f(F)+"'"),!0):!1}function t(F,
H){return null==H?H:F&&"isCollection"in F?q(F,H):g(F,H)?m(F,H)?H:new F(H):H}function f(F){return F&&F.prototype&&F.prototype.declaredClass||"unknown"}function h(F){switch(F){case Number:return u;case K:return n;case Boolean:return p;case String:return r;case Date:return d;default:return e.getOrCreateMapValue(J,F,()=>t.bind(null,F))}}function v(F,H){const I=h(F);return 1===arguments.length?I:I(H)}function w(F,H,I){return 1===arguments.length?w.bind(null,F):H?Array.isArray(H)?H.map(L=>F(L,I)):[F(H,
I)]:H}function D(F,H,I){return 0!==H&&Array.isArray(I)?I.map(L=>D(F,H-1,L)):F(I)}function x(F,H,I){if(2===arguments.length)return x.bind(null,F,H);if(!I)return I;I=D(F,H,I);let L=H;for(var Q=I;0<L&&Array.isArray(Q);)L--,Q=Q[0];if(void 0!==Q)for(Q=0;Q<L;Q++)I=[I];return I}function y(F,H){if(2===arguments.length)return y(F).call(null,H);const I=new Set,L=F.filter(aa=>"function"!==typeof aa),Q=F.filter(aa=>"function"===typeof aa);for(const aa of F)"string"!==typeof aa&&"number"!==typeof aa||I.add(aa);
let Z=null,ca=null;return(aa,O)=>{if(null==aa)return aa;const fa=typeof aa,oa="string"===fa||"number"===fa;if(oa&&(I.has(aa)||Q.some(Da=>"string"===fa&&Da===String||"number"===fa&&Da===Number))||"object"===fa&&Q.some(Da=>!g(aa,Da)))return aa;oa&&L.length?(Z||(Z=L.map(Da=>"string"===typeof Da?`'${Da}'`:`${Da}`).join(", ")),G.error("Accessor#set",`'${aa}' is not a valid value for this property, only the following values are valid: ${Z}`)):"object"===typeof aa&&Q.length?(ca||(ca=Q.map(Da=>f(Da)).join(", ")),
G.error("Accessor#set",`'${aa}' is not a valid value for this property, value must be one of ${ca}`)):G.error("Accessor#set",`'${aa}' is not a valid value for this property`);O&&(O.valid=!1);return null}}function z(F,H){if(2===arguments.length)return z(F).call(null,H);const I={},L=[],Q=[];for(const ca in F.typeMap){const aa=F.typeMap[ca];I[ca]=v(aa);L.push(f(aa));Q.push(ca)}const Z="string"===typeof F.key?ca=>ca[F.key]:F.key;return ca=>{if(F.base&&!g(F.base,ca)||null==ca)return ca;var aa=Z(ca)||F.defaultKeyValue;
const O=I[aa];if(!O)return G.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${L.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${Q.join("', '")}'`})`),null;if(!g(F.typeMap[aa],ca))return ca;if("string"===typeof F.key&&!k(ca)){aa={};for(const fa in ca)fa!==F.key&&(aa[fa]=ca[fa]);return O(aa)}return O(ca)}}function A(F){switch(F.type){case "native":return v(F.value);case "array":return w(A(F.value));case "one-of":return C(F);default:return null}}
function C(F){let H=null;return(I,L)=>{if(E(I,F))return I;null==H&&(H=B(F));G.error("Accessor#set",`Invalid property value, value needs to be of type ${H}`);L&&(L.valid=!1);return null}}function B(F){switch(F.type){case "native":switch(F.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case K:return"integer";case Date:return"date";default:return f(F.value)}case "array":return`array of ${B(F.value)}`;case "one-of":return F=F.values.map(H=>B(H)),`one of ${F.slice(0,
F.length-1)} or ${F[F.length-1]}`}return"unknown"}function E(F,H){if(null==F)return!0;switch(H.type){case "native":switch(H.value){case Number:case K:return"number"===typeof F;case Boolean:return"boolean"===typeof F;case String:return"string"===typeof F}return F instanceof H.value;case "array":return Array.isArray(F)?!F.some(I=>!E(I,H.value)):!1;case "one-of":return H.values.some(I=>E(F,I))}}const G=c.getLogger("esri.core.Accessor"),J=new WeakMap;let K=function(){};a.Integer=K;a.ensureArray=function(F,
H){return 1===arguments.length?w(v.bind(null,F)):w(v.bind(null,F),H)};a.ensureArrayTyped=w;a.ensureBoolean=p;a.ensureClass=t;a.ensureDate=d;a.ensureInteger=n;a.ensureLongFormType=A;a.ensureNArray=function(F,H,I){return 2===arguments.length?x(v.bind(null,F),H):x(v.bind(null,F),H,I)};a.ensureNArrayTyped=x;a.ensureNumber=u;a.ensureOneOf=y;a.ensureOneOfType=z;a.ensureString=r;a.ensureType=v;a.isClassedType=k;a.isLongFormType=function(F){if(!(F&&"type"in F))return!1;switch(F.type){case "native":case "array":case "one-of":return!0}return!1};
a.isOneOf=function(F){return Array.isArray(F)?!F.some(H=>{H=typeof H;return!("string"===H||"number"===H||"function"===H&&1<F.length)}):!1};a.requiresType=g;a.types={native(F){return{type:"native",value:F}},array(F){return{type:"array",value:F}},oneOf(F){return{type:"one-of",values:F}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const [e,d]of b)if(c(d,e))return d;
return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,c,e){const d=b.get(c);if(void 0!==d)return d;e=e();b.set(c,e);return e};a.someMap=function(b,c){for(const [e,d]of b)if(c(d,e))return!0;return!1};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../has ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),
function(a,b,c,e,d,p,r){function u(l,q){return null==q.get?function(){const m=this.__accessor__.properties.get(l);if(void 0!==m){p.trackAccess(m);var t=this.__accessor__.store;return t.has(l)?t.get(l):m.metadata.value}}:function(){const m=this.__accessor__.properties.get(l);if(void 0!==m)return m.getComputed()}}function n(l){const q=d.getOwnClassMetadata(l.prototype).properties,m={};for(const t of Object.getOwnPropertyNames(q)){const f=q[t];r.processPrototypePropertyMetadata(f);m[t]={enumerable:!0,
configurable:!0,get:u(t,f),set(h){const v=this.__accessor__;if(void 0===v)Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:h});else if(!Object.isFrozen(this)){if(v.initialized&&f.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${t}' of ${this.declaredClass}`);if(v.lifecycle===e.Lifecycle.CONSTRUCTED&&f.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${t}' of ${this.declaredClass}`);v.set(t,h)}}}}Object.defineProperties(l.prototype,
m)}const k=new Set,g=new Set;a.finalizeClass=n;a.subclass=function(l){return q=>{q.prototype.declaredClass=l;n(q);const m=[],t=[];for(var f=q.prototype;f;)f.hasOwnProperty("initialize")&&!k.has(f.initialize)&&(k.add(f.initialize),m.push(f.initialize)),f.hasOwnProperty("destroy")&&!g.has(f.destroy)&&(g.add(f.destroy),t.push(f.destroy)),f=Object.getPrototypeOf(f);k.clear();g.clear();f=function(h){function v(...w){var D=h.call(this,...w)||this;if(D.constructor===v&&"function"===typeof D.postscript){m.length&&
Object.defineProperty(b._assertThisInitialized(D),"initialize",{enumerable:!1,configurable:!0,value(){for(let x=m.length-1;0<=x;x--)m[x].call(this)}});if(t.length){let x=!1;Object.defineProperty(b._assertThisInitialized(D),"destroy",{enumerable:!1,configurable:!0,value(){if(!x){x=!0;for(let y=0;y<t.length;y++)t[y].call(this)}}})}D.postscript(...w)}return D}b._inheritsLoose(v,h);return v}(q);f.__accessorMetadata__=d.getOwnClassMetadata(q.prototype);f.prototype.declaredClass=l;return f}};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,c,e,d,p){function r(k,g,l){let q=k&&k.json;k&&k.json&&k.json.origins&&l&&(k=k.json.origins[l.origin])&&("any"===g||g in k)&&(q=k);return q}function u(k){if(k.type){var g=0;for(k=
k.type;Array.isArray(k)&&!b.isOneOf(k);)k=k[0],g++;return{type:k,ndimArray:g}}}function n(k){if(k.types){var g=0;for(k=k.types;Array.isArray(k);)k=k[0],g++;return{types:k,ndimArray:g}}}a.originSpecificPropertyDefinition=r;a.originSpecificReadPropertyDefinition=function(k,g){return r(k,"read",g)};a.originSpecificWritePropertyDefinition=function(k,g){return r(k,"write",g)};a.processPrototypePropertyMetadata=function(k){if(d.process(k)){c.process(k);var g=k.json.types?n(k.json):k.type?u(k):n(k);if(k.json.origins)for(const q in k.json.origins){const m=
k.json.origins[q];if(m.types){var l=m;l=l.type?u(l):n(l)}else l=g;e.create(l,m,!1);m.types&&!m.write&&k.json.write&&k.json.write.enabled&&(m.write={...k.json.write});p.create(l,m)}e.create(g,k.json,!0);p.create(g,k.json)}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const c=b.json.origins;
b={"web-document":["web-scene","web-map"]};for(const e in b)if(c[e]){const d=c[e];b[e].forEach(p=>{c[p]=d});delete c[e]}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,c,e,d,p){function r(v){var w;const D=null!=(w=v.ndimArray)?w:0;if(1<D)return g(v);if(1===D)return l(v);
if("type"in v&&q(v.type)){var x,y;w=null==(x=v.type.prototype)?void 0:null==(y=x.itemType)?void 0:y.Type;const z=l("function"===typeof w?{type:w}:{types:w});return(A,C,B)=>(A=z(A,C,B))?new v.type(A):A}return u(v)}function u(v){return"type"in v?n(v.type):f(v.types)}function n(v){return v.prototype.read?(w,D,x)=>{if(null==w)return w;D=typeof w;if("object"!==D)h.error(`Expected JSON value of type 'object' to deserialize type '${v.prototype.declaredClass}', but got '${D}'`);else return D=new v,D.read(w,
x),D}:v.fromJSON}function k(v,w,D,x){return 0!==x&&Array.isArray(w)?w.map(y=>k(v,y,D,x-1)):v(w,void 0,D)}function g(v){var w;const D=u(v),x=k.bind(null,D),y=null!=(w=v.ndimArray)?w:0;return(z,A,C)=>{if(null==z)return z;z=x(z,C,y);A=y;for(C=z;0<A&&Array.isArray(C);)A--,C=C[0];if(void 0!==C)for(C=0;C<A;C++)z=[z];return z}}function l(v){const w=u(v);return(D,x,y)=>{if(null==D)return D;if(Array.isArray(D)){x=[];for(const z of D)D=w(z,void 0,y),void 0!==D&&x.push(D);return x}y=w(D,void 0,y);return void 0!==
y?[y]:void 0}}function q(v){return p.isCollection(v)?(v=v.prototype.itemType)&&v.Type?"function"===typeof v.Type?m(v.Type):t(v.Type):!1:!1}function m(v){return Array.isArray(v)?!1:!!v&&v.prototype&&("read"in v.prototype||"fromJSON"in v||q(v))}function t(v){for(const w in v.typeMap)if(!m(v.typeMap[w]))return!1;return!0}function f(v){var w;let D=null;const x=null!=(w=v.errorContext)?w:"type";return(y,z,A)=>{if(null==y)return y;z=typeof y;if("object"!==z)h.error(`Expected JSON value of type 'object' to deserialize, but got '${z}'`);
else{if(!D){z={};for(const J in v.typeMap){var C,B;const K=v.typeMap[J];var E=d.getOwnClassMetadata(K.prototype);if("function"===typeof v.key)continue;E=E.properties[v.key];if(!E)continue;null!=(C=E.json)&&C.type&&Array.isArray(E.json.type)&&1===E.json.type.length&&"string"===typeof E.json.type[0]&&(z[E.json.type[0]]=K);E=null==(B=E.json)?void 0:B.write;if(!E||!E.writer){z[J]=K;continue}var G=E.target;G="string"===typeof G?G:v.key;const F={};E.writer(J,F,G);F[G]&&(z[F[G]]=K)}D=z}C=v.key;if("string"===
typeof C){if(B=(C=y[C])?D[C]:v.defaultKeyValue?v.typeMap[v.defaultKeyValue]:void 0)return C=new B,C.read(y,A),C;C=`Type '${C||"unknown"}' is not supported`;A&&A.messages&&y&&A.messages.push(new e(`${x}:unsupported`,C,{definition:y,context:A}));h.error(C)}}}}const h=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(v,w,D){var x,y;!v||!D&&!w.read||null!=(x=w.read)&&x.reader||!1===(null==(y=w.read)?void 0:y.enabled)||(D="types"in v?t(v.types):m(v.type),
D&&c.setDeepValue("read.reader",r(v),w))};a.createTypeReader=r;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,b){b=function(c){function e(d,p,r){var u=c.call(this,d,p,r)||this;return a._assertThisInitialized(u)instanceof e?u:new e(d,p,r)}a._inheritsLoose(e,c);return e}(b);b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],
function(a){a.isCollection=function(b){return!!b&&b.prototype&&b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(d){d.name&&(d.read?"object"===typeof d.read?void 0===d.read.source&&(d.read.source=d.name):d.read={source:d.name}:d.read={source:d.name},
d.write?"object"===typeof d.write?void 0===d.write.target&&(d.write.target=d.name):d.write={target:d.name}:d.write={target:d.name})}function c(d){"boolean"===typeof d.read?d.read={enabled:d.read}:"function"===typeof d.read?d.read={enabled:!0,reader:d.read}:d.read&&"object"===typeof d.read&&void 0===d.read.enabled&&(d.read.enabled=!0)}function e(d){"boolean"===typeof d.write?d.write={enabled:d.write}:"function"===typeof d.write?d.write={enabled:!0,writer:d.write}:d.write&&"object"===typeof d.write&&
void 0===d.write.enabled&&(d.write.enabled=!0)}a.process=function(d){d.json||(d.json={});c(d.json);e(d.json);b(d.json);if(d.json.origins)for(const p in d.json.origins)c(d.json.origins[p]),e(d.json.origins[p]),b(d.json.origins[p]);return!0};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,
b,c,e,d){function p(f){return(h,v,w,D)=>{if(!h||r(h,f,D))return n(h,v,w,D)}}function r(f,h,v){for(var w in h.typeMap)if(f instanceof h.typeMap[w])return!0;if(null!=v&&v.messages){var D,x;w=null!=(D=h.errorContext)?D:"type";h=`Values of type '${null!=(x="function"!==typeof h.key?f[h.key]:f.declaredClass)?x:"Unknown"}' cannot be written`;v&&v.messages&&f&&v.messages.push(new b(`${w}:unsupported`,h,{definition:f,context:v}));t.error(h)}return!1}function u(f){return(h,v,w,D)=>{if(!h||!Array.isArray(h))return n(h,
v,w,D);h=h.filter(x=>r(x,f,D));return n(h,v,w,D)}}function n(f,h,v,w){e.setDeepValue(v,k(f,w),h)}function k(f,h){return f&&"function"===typeof f.write?f.write({},h):f&&"function"===typeof f.toJSON?f.toJSON():"number"===typeof f?g(f):f}function g(f){return-Infinity===f?-Number.MAX_VALUE:Infinity===f?Number.MAX_VALUE:isNaN(f)?null:f}function l(f,h,v,w){null===f?f=null:f&&"function"===typeof f.map?(f=f.map(D=>k(D,w)),"function"===typeof f.toArray&&(f=f.toArray())):f=[k(f,w)];e.setDeepValue(v,f,h)}function q(f,
h,v){return 0!==v&&Array.isArray(f)?f.map(w=>q(w,h,v-1)):k(f,h)}function m(f){return(h,v,w,D)=>{if(null===h)h=null;else{h=q(h,D,f);D=f;for(var x=h;0<D&&Array.isArray(x);)D--,x=x[0];if(void 0!==x)for(x=0;x<D;x++)h=[h]}e.setDeepValue(w,h,v)}}const t=c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");a.create=function(f,h){var v;if(h.write&&!h.write.writer&&(!1!==h.write.enabled||h.write.overridePolicy)){var w=null!=(v=null==f?void 0:f.ndimArray)?v:0;f&&(1===w||"type"in f&&
d.isCollection(f.type))?h.write.writer=l:1<w?h.write.writer=m(w):h.types?Array.isArray(h.types)?h.write.writer=u(h.types[0]):h.write.writer=p(h.types):h.write.writer=n}};a.numberToJSON=g;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";
Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(c,e)=>{c[e]=b}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","./ObservationHandle"],function(a,b){let c=function(){function e(){this._observers=[]}var d=e.prototype;
d.observe=function(p){this._observers.includes(p)||this._observers.push(p);return new b.ObservationHandle(this._observers,p)};d.notify=function(){const p=this._observers.slice();for(let r=0;r<p.length;++r){const u=p[r];u.onInvalidated();u.onCommitted()}};return e}();a.SimpleObservable=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(c){return c};
a.referenceSetter=function(c,e,d=b){e||(e=new d);if(e===c)return e;e.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?e.addMany(c):c&&e.add(c);return e};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){const l=q=>{q=function(m){function t(...h){h=m.call(this,...h)||this;const v=d.assumeNonNull(n.getProperties(b._assertThisInitialized(h))),w=v.store,D=new p.DefaultsStore;v.store=D;r.setupConstructedDefaults(v,w,D);return h}b._inheritsLoose(t,m);var f=t.prototype;f.read=function(h,v){u.read(this,h,v)};f.write=function(h={},v){return k.write(this,h,v)};f.toJSON=function(h){return this.write({},h)};t.fromJSON=function(h,v){if(h){if(h.declaredClass)throw Error("JSON object is already hydrated");
var w=new this;w.read(h,v);h=w}else h=null;return h};return t}(q);q=c.__decorate([g.subclass("esri.core.JSONSupport")],q);q.prototype.toJSON.isDefaultToJSON=!0;return q};a.JSONSupport=function(q){function m(){return q.apply(this,arguments)||this}b._inheritsLoose(m,q);return m}(l(e));a.JSONSupport=c.__decorate([g.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=l;a.isJSONSupport=function(q){return q&&"read"in q&&"write"in q&&"toJSON"in q};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){let e=function(){function p(){this._values=new Map;this.multipleOriginsSupported=!1}var r=p.prototype;r.clone=function(u){const n=new p;this._values.forEach((k,g)=>{u&&u.has(g)||n.set(g,b.clone(k.value),k.origin)});return n};r.get=function(u,n){n=this._normalizeOrigin(n);u=this._values.get(u);return null==n||(null==u?void 0:u.origin)===n?null==
u?void 0:u.value:void 0};r.originOf=function(u){var n,k;return null!=(n=null==(k=this._values.get(u))?void 0:k.origin)?n:c.OriginId.USER};r.keys=function(u){u=this._normalizeOrigin(u);const n=[...this._values.keys()];return null==u?n:n.filter(k=>{var g;return(null==(g=this._values.get(k))?void 0:g.origin)===u})};r.set=function(u,n,k){k=this._normalizeOrigin(k);if(k===c.OriginId.DEFAULTS){const g=this._values.get(u);if(g&&null!=g.origin&&g.origin>k)return}this._values.set(u,new d(n,k))};r.delete=function(u,
n){var k;n=this._normalizeOrigin(n);null!=n&&(null==(k=this._values.get(u))?void 0:k.origin)!==n||this._values.delete(u)};r.has=function(u,n){n=this._normalizeOrigin(n);if(null!=n){var k;return(null==(k=this._values.get(u))?void 0:k.origin)===n}return this._values.has(u)};r.forEach=function(u){this._values.forEach(({value:n},k)=>u(n,k))};r._normalizeOrigin=function(u){if(null!=u)return u===c.OriginId.DEFAULTS?u:c.OriginId.USER};return p}(),d=function(p,r){this.value=p;this.origin=r};a.DefaultsStore=
e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(c,e,d){e.keys().forEach(p=>{d.set(p,e.get(p),b.OriginId.DEFAULTS)});Object.keys(c.metadatas).forEach(p=>{c.internalGet(p)&&d.set(p,c.internalGet(p),b.OriginId.DEFAULTS)})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,c,e){const d={origin:"service"};a.read=function(p,r,u=d){if(r&&"object"===typeof r){var n=c.getProperties(p),k=n.metadatas,g={};for(const x of Object.getOwnPropertyNames(r)){var l=g,q=k,m=x,t=r,f=u,h=e.originSpecificReadPropertyDefinition(q[m],f);h&&(!h.read||!1!==h.read.enabled&&!h.read.source)&&(l[m]=!0);for(const y of Object.getOwnPropertyNames(q)){h=e.originSpecificReadPropertyDefinition(q[y],
f);a:{var v=m;var w=t;if(h&&h.read&&!1!==h.read.enabled&&h.read.source){h=h.read.source;if("string"===typeof h){if(h===v||h.includes(".")&&0===h.indexOf(v)&&b.exists(h,w)){v=!0;break a}}else for(const z of h)if(z===v||z.includes(".")&&0===z.indexOf(v)&&b.exists(z,w)){v=!0;break a}v=!1}else v=!1}v&&(l[y]=!0)}}n.setDefaultOrigin(u.origin);for(var D of Object.getOwnPropertyNames(g))q=(q=(l=e.originSpecificReadPropertyDefinition(k[D],u).read)&&l.source)&&"string"===typeof q?b.valueOf(r,q):r[D],l&&l.reader&&
(q=l.reader.call(p,q,r,u)),void 0!==q&&n.set(D,q);if(!u||!u.ignoreDefaults){n.setDefaultOrigin("defaults");for(const x of Object.getOwnPropertyNames(k))g[x]||(D=p,r=x,k=n,l=u,q=(q=e.originSpecificPropertyDefinition(k.metadatas[r],"any",l))&&q.default,void 0!==q&&(D="function"===typeof q?q.call(D,r,l):q,void 0!==D&&k.set(r,D)))}n.setDefaultOrigin("user")}};a.readLoadable=function(p,r,u,n=d){var k;r={...n,messages:[]};u(r);null==(k=r.messages)?void 0:k.forEach(g=>{"warning"!==g.type||p.loaded?n&&n.messages&&
n.messages.push(g):p.loadWarnings.push(g)})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,c,e,d,p,r){function u(g,l,q,m,t){var f,h;const v={};null==(f=l.write)?void 0:null==(h=f.writer)?void 0:h.call(g,m,v,q,t);return v}function n(g,l,q,m,t,f){if(!m||!m.write)return!1;const h=
g.get(q);if(!t&&m.write.overridePolicy){var v=m.write.overridePolicy.call(g,h,q,f);void 0!==v&&(t=v)}t||(t=m.write);if(!t||!1===t.enabled)return!1;if((null===h&&!t.allowNull&&!t.writerEnsuresNonNull||void 0===h)&&t.isRequired)return(l=new c("web-document-write:property-required",`Missing value for required property '${q}' on '${g.declaredClass}'`,{propertyName:q,target:g}),f)&&f.messages?f.messages.push(l):l&&!f&&k.error(l.name,l.message),!1;if(void 0===h||null===h&&!t.allowNull&&!t.writerEnsuresNonNull)return!1;
if(v=!l.store.multipleOriginsSupported||l.store.originOf(q)===d.OriginId.DEFAULTS)v=m.default,void 0===v?v=!1:null!=m.defaultEquals?v=m.defaultEquals(h):"function"===typeof v?Array.isArray(h)?(g=v.call(g,q,f),v=b.equals(g,h)):v=!1:v=v===h;return v||!t.ignoreOrigin&&f&&f.origin&&l.store.multipleOriginsSupported&&l.store.originOf(q)<d.nameToId(f.origin)?!1:!0}const k=e.getLogger("esri.core.accessorSupport.write");a.willPropertyWrite=function(g,l,q,m){const t=p.getProperties(g),f=r.originSpecificWritePropertyDefinition(t.metadatas[l],
m);return f?n(g,t,l,f,q,m):!1};a.write=function(g,l,q){if(g&&"function"===typeof g.toJSON&&(!g.toJSON.isDefaultToJSON||!g.write))return p.merge(l,g.toJSON(q));const m=p.getProperties(g),t=m.metadatas;for(const v in t){const w=r.originSpecificWritePropertyDefinition(t[v],q);if(!n(g,m,v,w,void 0,q))continue;const D=g.get(v),x=u(g,w,w.write&&"string"===typeof w.write.target?w.write.target:v,D,q);if(0<Object.keys(x).length){var f,h;l=p.merge(l,x);null!=q&&null!=(f=q.resources)&&null!=(h=f.pendingOperations)&&
h.length&&Promise.all(q.resources.pendingOperations).then(()=>p.merge(l,x));q&&q.writtenProperties&&q.writtenProperties.push({target:g,propName:v,oldOrigin:d.idToReadableName(m.store.originOf(v)),newOrigin:q.origin})}}return l};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){const n=k=>{k=function(g){function l(...m){var t=g.call(this,...m)||this;t._loadController=null;t.loadError=null;t.loadStatus="not-loaded";t._set("loadWarnings",[]);t.addResolvingPromise(new Promise(f=>{const h=t.load.bind(a._assertThisInitialized(t));t.load=v=>{const w=new Promise((D,x)=>{const y=d.onAbortOrThrow(v,x);t.destroyed&&x(new c("load:instance-destroyed",`Instance of '${t.declaredClass||t.constructor.name}' is already destroyed`,{instance:a._assertThisInitialized(t)}));
t._promiseProps.when(D,x).finally(()=>{y&&y.remove()})});if("not-loaded"===t.loadStatus){t._set("loadStatus","loading");const D=t._loadController=new AbortController;h({signal:D.signal});d.onAbort(D.signal,()=>{t._promiseProps.abort()})}f();return w}}));t.when(()=>{t._set("loadStatus","loaded");t._loadController=null},f=>{t._set("loadStatus","failed");t._set("loadError",f);t._loadController=null});return t}a._inheritsLoose(l,g);var q=l.prototype;q.load=function(){return null};q.cancelLoad=function(){var m;
if(this.isFulfilled())return this;this._set("loadError",new c("load:cancelled","Cancelled"));null==(m=this._loadController)?void 0:m.abort();return this};a._createClass(l,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return l}(k);b.__decorate([r.property({readOnly:!0})],k.prototype,"loaded",null);b.__decorate([r.property({readOnly:!0})],k.prototype,"loadError",void 0);b.__decorate([r.property({clonable:!1})],
k.prototype,"loadStatus",void 0);b.__decorate([r.property({type:[p],readOnly:!0})],k.prototype,"loadWarnings",null);return k=b.__decorate([u.subclass("esri.core.Loadable")],k)};e=function(k){function g(){return k.apply(this,arguments)||this}a._inheritsLoose(g,k);return g}(n(e.EsriPromise));e=b.__decorate([u.subclass("esri.core.Loadable")],e);(function(k){k.LoadableMixin=n;k.isLoadable=function(g){return!(!g||!g.load)}})(e||(e={}));return e})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r){var u;(function(g){g[g.PENDING=0]="PENDING";g[g.RESOLVED=1]="RESOLVED";g[g.REJECTED=2]="REJECTED"})(u||(u={}));let n=function(){function g(q){this.instance=q;this._resolver=p.createDeferred();this._status=u.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=u.RESOLVED;this._cleanUp()},()=>{this._status=u.REJECTED;this._cleanUp()})}var l=g.prototype;l.addResolvingPromise=function(q){this._resolvingPromises.push(q);this._tryResolve()};l.isResolved=
function(){return this._status===u.RESOLVED};l.isRejected=function(){return this._status===u.REJECTED};l.isFulfilled=function(){return this._status!==u.PENDING};l.abort=function(){this._resolver.reject(p.createAbortError())};l.when=function(q,m){return this._resolver.promise.then(q,m)};l._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};l._tryResolve=function(){if(!this.isFulfilled()){var q=p.createDeferred(),m=[...this._resolvingPromises,d.assumeNonNull(q.promise)],
t=this._allPromise=Promise.all(m);t.then(()=>{this.isFulfilled()||this._allPromise!==t||this._resolver.resolve(this.instance)},f=>{this.isFulfilled()||this._allPromise!==t||p.isAbortError(f)||this._resolver.reject(f)});q.resolve()}};return g}();const k=g=>{g=function(l){function q(...t){t=l.call(this,...t)||this;t._promiseProps=new n(b._assertThisInitialized(t));t.addResolvingPromise(Promise.resolve());return t}b._inheritsLoose(q,l);var m=q.prototype;m.isResolved=function(){return this._promiseProps.isResolved()};
m.isRejected=function(){return this._promiseProps.isRejected()};m.isFulfilled=function(){return this._promiseProps.isFulfilled()};m.when=function(t,f){return(new Promise((h,v)=>{this._promiseProps.when(h,v)})).then(t,f)};m.catch=function(t){return this.when(null,t)};m.addResolvingPromise=function(t){t&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in t?t.when():t)};return q}(g);return g=c.__decorate([r.subclass("esri.core.Promise")],g)};a.EsriPromise=function(g){function l(){return g.apply(this,
arguments)||this}b._inheritsLoose(l,g);return l}(k(e));a.EsriPromise=c.__decorate([r.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=k;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/loadAll":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./asyncUtils ./Collection ./Loadable ./maybe".split(" "),function(a,b,c,e,d,p){function r(){r=b._asyncToGenerator(function*(k,g){yield k.load();return u(k,g)});return r.apply(this,
arguments)}function u(k,g){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(k,g){const l=[],q=(...t)=>{for(const f of t)p.isNone(f)||(Array.isArray(f)?q(...f):e.isCollection(f)?f.forEach(h=>q(h)):d.isLoadable(f)&&l.push(f))};g(q);let m=null;yield c.map(l,function(){var t=b._asyncToGenerator(function*(f){!1!==(yield c.result("loadAll"in f&&"function"===typeof f.loadAll?f.loadAll():f.load())).ok||m||(m=f)});return function(f){return t.apply(this,arguments)}}());if(m)throw m.loadError;
return k});return n.apply(this,arguments)}a.loadAll=function(k,g){return r.apply(this,arguments)};a.loadAllChildren=u;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/asyncUtils":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./promiseUtils"],function(a,b,c,e){function d(){d=b._asyncToGenerator(function*(u,n,k){return(yield e.eachAlways(u.map((g,l)=>n.apply(k,[g,l])))).map(g=>g.value)});return d.apply(this,arguments)}
function p(){p=b._asyncToGenerator(function*(u){if(c.isNone(u))return{ok:!1,error:Error("no promise provided")};try{return{ok:!0,value:yield u}}catch(n){return{ok:!1,error:n}}});return p.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(u){try{return{ok:!0,value:yield u}}catch(n){return e.throwIfAbortError(n),{ok:!1,error:n}}});return r.apply(this,arguments)}a.assertResult=function(u){if(!0===u.ok)return u.value;throw u.error;};a.forEach=function(u,n,k){return e.eachAlways(u.map((g,
l)=>n.apply(k,[g,l])))};a.map=function(u,n,k){return d.apply(this,arguments)};a.result=function(u){return p.apply(this,arguments)};a.resultOrAbort=function(u){return r.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/urlUtils":function(){define(["exports","../config","./Error","./Logger","./maybe"],function(a,b,c,e,d){function p(N){const U={path:null,query:null},P=new wa(N),T=N.indexOf("?");null===P.query?U.path=N:(U.path=
N.substring(0,T),U.query=r(P.query));P.fragment&&(U.hash=P.fragment,null===P.query&&(U.path=U.path.substring(0,U.path.length-(P.fragment.length+1))));return U}function r(N){var U=N.split("\x26");N={};for(const T of U){if(!T)continue;var P=T.indexOf("\x3d");0>P?(U=decodeURIComponent(T),P=""):(U=decodeURIComponent(T.slice(0,P)),P=decodeURIComponent(T.slice(P+1)));let W=N[U];"string"===typeof W&&(W=N[U]=[W]);Array.isArray(W)?W.push(P):N[U]=P}return N}function u(N){return N&&"object"===typeof N&&"toJSON"in
N&&"function"===typeof N.toJSON}function n(N,U){return N?U&&"function"===typeof U?Object.keys(N).map(P=>encodeURIComponent(P)+"\x3d"+encodeURIComponent(U(P,N[P]))).join("\x26"):Object.keys(N).map(P=>{const T=N[P];if(null==T)return"";const W=encodeURIComponent(P)+"\x3d";return(P=U&&U[P])?W+encodeURIComponent(P(T)):Array.isArray(T)?T.map(ja=>u(ja)?W+encodeURIComponent(JSON.stringify(ja)):W+encodeURIComponent(ja)).join("\x26"):u(T)?W+encodeURIComponent(JSON.stringify(T)):W+encodeURIComponent(T)}).filter(P=>
P).join("\x26"):""}function k(N){const U=N.indexOf("?");-1!==U?(ea.path=N.slice(0,U),ea.query=N.slice(U+1)):(ea.path=N,ea.query=null);return ea}function g(N){N=k(N).path;N&&"/"===N[N.length-1]||(N=`${N}/`);N=I(N,!0);return N=N.toLowerCase()}function l(N){const U=aa.proxyRules;N=g(N);for(let P=0;P<U.length;P++)if(0===N.indexOf(U[P].urlPrefix))return U[P]}function q(N){N=f(N);const U=N.indexOf("/sharing");return 0<U?N.substring(0,U):N.replace(/\/+$/,"")}function m(N,U,P=!1){N=Z(N);U=Z(U);return!P&&
N.scheme!==U.scheme||null==N.host||null==U.host?!1:N.host.toLowerCase()===U.host.toLowerCase()&&N.port===U.port}function t(N,U=X,P){return E(N)?P&&P.preserveProtocolRelative?N:"http"===da.scheme&&da.authority===v(N).slice(2)?`http:${N}`:`https:${N}`:G(N)?N:d.assumeNonNull(h("/"===N[0]?L(U):U,N))}function f(N){N=N.trim();N=t(N);if(/^https?:\/\//i.test(N)){const U=k(N);N=U.path.replace(/\/{2,}/g,"/");N=N.replace("/","//");U.query&&(N+=`?${U.query}`)}N=N.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");
return N=Q(N)}function h(...N){var U=N.filter(d.isSome);if(U&&U.length){N=[];if(w(U[0])){var P=U[0],T=P.indexOf("//");-1!==T&&(N.push(P.slice(0,T+1)),Da.test(U[0])&&(N[0]+="/"),U[0]=P.slice(T+2))}else"/"===U[0][0]&&N.push("");U=U.reduce((W,ja)=>ja?W.concat(ja.split("/")):W,[]);for(P=0;P<U.length;P++)T=U[P],".."===T&&0<N.length&&".."!==N[N.length-1]?N.pop():(!T&&P===U.length-1||T&&("."!==T||0===N.length))&&N.push(T);return N.join("/")}}function v(N,U=!1){if(D(N)||x(N))return null;var P=N.indexOf("://");
if(-1===P&&E(N))P=2;else if(-1!==P)P+=3;else return null;P=N.indexOf("/",P);-1!==P&&(N=N.slice(0,P));U&&(N=I(N,!0));return N}function w(N){return E(N)||G(N)}function D(N){return null!=N&&"blob:"===N.slice(0,5)}function x(N){return"data:"===N.slice(0,5)}function y(N){N=z(N);if(!N||!N.isBase64)return null;N=atob(N.data);const U=new Uint8Array(N.length);for(let P=0;P<N.length;P++)U[P]=N.charCodeAt(P);return U.buffer}function z(N){N=N.match(ha);if(!N)return null;const [,U,P,T]=N;return{mediaType:U,isBase64:!!P,
data:T}}function A(N){const U=y(N);if(!U)return null;N=z(N);return new Blob([U],{type:N.mediaType})}function C(N,U){if(!N)return!1;const P=document.createElement("a");if(!("download"in P))return!1;N=URL.createObjectURL(N);P.download=U;P.href=N;P.style.display="none";document.body.appendChild(P);P.click();document.body.removeChild(P);URL.revokeObjectURL(N);return!0}function B(N,U){return window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(N,U):!1}function E(N){return null!=N&&void 0!==
N&&"/"===N[0]&&"/"===N[1]}function G(N){return O.test(N)}function J(N){return oa.test(N)||"https"===da.scheme&&E(N)}function K(N){return fa.test(N)||"http"===da.scheme&&E(N)}function F(N){return E(N)?`https:${N}`:N.replace(fa,"https:")}function H(){return"https"===da.scheme}function I(N,U=!1){if(E(N))return N.slice(2);N=N.replace(O,"");U&&1<N.length&&"/"===N[0]&&"/"===N[1]&&(N=N.slice(2));return N}function L(N){var U=N.indexOf("//");U=N.indexOf("/",U+2);return-1===U?N:N.slice(0,U)}function Q(N){const U=
aa.httpsDomains;if(!K(N))return N;const P=N.indexOf("/",7);let T;T=-1===P?N:N.slice(0,P);T=T.toLowerCase().slice(7);if(Ha.test(T))if(T.endsWith(":80"))T=T.slice(0,-3),N=N.replace(":80","");else return N;if("http"===da.scheme&&T===da.authority&&!ta.test(N))return N;if(H()&&T===da.authority||U&&U.some(W=>T===W||T.endsWith(`.${W}`))||H()&&!l(N))N=F(N);return N}function Z(N){if("string"===typeof N)return new wa(t(N));N.scheme||(N.scheme=da.scheme);return N}const ca=e.getLogger("esri.core.urlUtils"),aa=
b.request,O=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,fa=/^\s*http:/i,oa=/^\s*https:/i,Da=/^\s*file:/i,Ha=/:\d+$/,ta=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Y=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,pa=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/;let wa=function(){function N(U=""){this.uri=U;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;U=d.assumeNonNull(this.uri.match(Y));this.scheme=U[2]||
(U[1]?"":null);this.authority=U[4]||(U[3]?"":null);this.path=U[5];this.query=U[7]||(U[6]?"":null);this.fragment=U[9]||(U[8]?"":null);null!=this.authority&&(U=d.assumeNonNull(this.authority.match(pa)),this.user=U[3]||null,this.password=U[4]||null,this.host=U[6]||U[7],this.port=U[9]||null)}N.prototype.toString=function(){return this.uri};return N}();const M={},R=new wa(b.applicationUrl);let da=R;const S=function(){var N=d.assumeNonNull(da.path);N=N.substring(0,N.lastIndexOf(N.split("/")[N.split("/").length-
1]));return`${`${da.scheme}://${da.host}${null!=da.port?`:${da.port}`:""}`}${N}`}();let X=S;const ea={path:"",query:""},ha=/^data:(.*?)(;base64)?,(.*)$/,ra=/.*?\.([^\/]*)$/,na=/(^data:image\/svg|\.svg$)/i;a.Url=wa;a.addProxy=function(N){var U=l(N),P=void 0;if(U){var T=k(U.proxyUrl);P=T.path;T=T.query?r(T.query):null}P&&(U=p(N),N=P+"?"+U.path,(P=n({...T,...U.query}))&&(N=`${N}?${P}`));return N};a.addProxyRule=function(N){N={proxyUrl:N.proxyUrl,urlPrefix:g(N.urlPrefix)};const U=aa.proxyRules,P=N.urlPrefix;
let T=U.length;for(let W=0;W<U.length;W++){const ja=U[W].urlPrefix;if(0===P.indexOf(ja)){if(P.length===ja.length)return-1;T=W;break}0===ja.indexOf(P)&&(T=W+1)}U.splice(T,0,N);return T};a.addQueryParameter=function(N,U,P){N=p(N);const T=N.query||{};T[U]=String(P);return`${N.path}?${n(T)}`};a.addQueryParameters=function(N,U){N=p(N);const P=N.query||{};for(const T in U)P[T]=U[T];return(U=n(P))?`${N.path}?${U}`:N.path};a.base64UrlEncode=function(N){return btoa(String.fromCharCode.apply(null,N)).replace(/\+/g,
"-").replace(/\//g,"_").replace(/=+$/,"")};a.changeDomain=function(N,U,P){if(!(U&&P&&N&&w(N)))return N;const T=N.indexOf("//");var W=N.indexOf("/",T+2);const ja=N.indexOf(":",T+2);W=Math.min(0>W?N.length:W,0>ja?N.length:ja);if(N.slice(T+2,W).toLowerCase()!==U.toLowerCase())return N;U=N.slice(0,T+2);N=N.slice(W);return`${U}${P}${N}`};a.dataComponents=z;a.dataToArrayBuffer=y;a.dataToBlob=A;a.downloadBlobAsFile=function(N,U){C(N,U)||B(N,U)};a.downloadDataAsFile=function(N,U){var P=(P=A(N))?C(P,U):!1;
P||(N=A(N))&&B(N,U)};a.getAppBaseUrl=()=>X;a.getAppUrl=()=>da;a.getFilename=function(N,U){if(!N)return"";N=p(N).path.replace(/\/+$/,"");N=N.substring(N.lastIndexOf("/")+1);if(null==U||!U.length)return N;U=new RegExp(`.(${U.join("|")})$`,"ig");return N.replace(U,"")};a.getInterceptor=function(N){const U=T=>null==T||T instanceof RegExp&&T.test(N)||"string"===typeof T&&N.startsWith(T),P=aa.interceptors;if(P)for(const T of P)if(Array.isArray(T.urls)){if(T.urls.some(U))return T}else if(U(T.urls))return T;
return null};a.getOrigin=v;a.getPathExtension=function(N){return d.isNone(N)?null:(N=N.match(ra))?N[1]:null};a.getProxyRule=l;a.getProxyUrl=function(N=!1){let U,P=aa.proxyUrl;if("string"===typeof N){if(U=J(N),N=l(N))P=N.proxyUrl}else U=!!N;if(!P)throw ca.warn("esri/config: esriConfig.request.proxyUrl is not set."),new c("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");U&&H()&&(P=F(P));return p(P)};a.hasProtocol=G;a.hasSameOrigin=m;a.hasSamePortal=function(N,U){N=q(N);
U=q(U);return I(N)===I(U)};a.isAbsolute=w;a.isAppHTTPS=H;a.isBlobProtocol=D;a.isDataProtocol=x;a.isHTTPSProtocol=J;a.isProtocolRelative=E;a.isSVG=function(N){return na.test(N)};a.isTrustedServer=function(N){if("string"===typeof N)if(w(N))N=Z(N);else return!0;if(m(N,da))return!0;const U=aa.trustedServers||[];for(let T=0;T<U.length;T++){var P=U[T];M[P]||(G(P)||E(P)?M[P]=[new wa(t(P))]:M[P]=[new wa(`http://${P}`),new wa(`https://${P}`)]);P=M[P];for(let W=0;W<P.length;W++)if(m(N,P[W]))return!0}return!1};
a.join=h;a.makeAbsolute=t;a.makeData=function(N){return N.isBase64?`data:${N.mediaType};base64,${N.data}`:`data:${N.mediaType},${N.data}`};a.makeRelative=function(N,U=X,P){if(!w(N))return N;var T=f(N),W=T.toLowerCase();U=f(U).toLowerCase().replace(/\/+$/,"");if((P=P?f(P).toLowerCase().replace(/\/+$/,""):null)&&0!==U.indexOf(P))return N;var ja=W.indexOf("//")+2;ja=W.indexOf("/",ja);var va=-1===ja?W.length:ja;for(ja=-1;W.slice(0,va+1)===U.slice(0,va)+"/";){ja=va+1;if(va===W.length)break;var Ga=W;va+=
1;va=Ga.indexOf("/",va);va=-1===va?Ga.length:va}if(-1===ja||P&&ja<P.length)return N;N=T.slice(ja);T=U.slice(ja-1).replace(/[^/]+/g,"").length;if(0<T)for(W=0;W<T;W++)N=`../${N}`;else N=`./${N}`;return N};a.normalize=f;a.objectToQuery=n;a.queryToObject=r;a.removeFile=function(N){let U=0;if(w(N)){var P=N.indexOf("//");-1!==P&&(U=P+2)}P=N.lastIndexOf("/");return P<U?N:N.slice(0,P+1)};a.removeQueryParameter=function(N,U){const {path:P,query:T}=p(N);if(!T)return N;delete T[U];return(N=n(T))?`${P}?${N}`:
P};a.removeQueryParameters=function(N,U){N=p(N);const P=Object.keys(N.query||{});0<P.length&&U&&U.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${P.join(", ")}.`);return N.path};a.removeTrailingSlash=function(N){return N.replace(/\/+$/,"")};a.test={setAppUrl:N=>da=N,setAppBaseUrl:N=>X=N,restoreUrls:()=>{da=R;X=S}};a.toHTTP=function(N){return E(N)?`http:${N}`:N.replace(oa,"http:")};a.toHTTPS=F;a.trustedServersUrlCache=M;a.urlToObject=
p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(c,e,d){let p,r;void 0===e?(r=c,p=[void 0]):"string"!==typeof e?(r=c,p=[void 0],d=e):(r=e,p=Array.isArray(c)?c:[c]);return(u,n)=>{const k=u.constructor.prototype;for(const g of p){const l=b.propertyJSONMeta(u,g,r);l.write&&"object"===typeof l.write||(l.write={});d&&(l.write.target=d);l.write.writer=
k[n]}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(m){m=
g.call(this,m)||this;m.latestWkid=null;m.wkid=null;m.wkt=null;m.vcsWkid=null;m.latestVcsWkid=null;m.imageCoordinateSystem=null;return m}a._inheritsLoose(l,g);l.fromJSON=function(m){if(!m)return null;if(m.wkid){if(102100===m.wkid)return k.WebMercator;if(4326===m.wkid)return k.WGS84}const t=new k;t.read(m);return t};var q=l.prototype;q.normalizeCtorArgs=function(m){return m&&"object"===typeof m?m:{["string"===typeof m?"wkt":"wkid"]:m}};q.writeWkt=function(m,t){this.wkid||(t.wkt=m)};q.clone=function(){if(this===
k.WGS84)return k.WGS84;if(this===k.WebMercator)return k.WebMercator;const m=new k;null!=this.wkid?(m.wkid=this.wkid,null!=this.latestWkid&&(m.latestWkid=this.latestWkid),null!=this.vcsWkid&&(m.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(m.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(m.wkt=this.wkt);this.imageCoordinateSystem&&(m.imageCoordinateSystem=e.clone(this.imageCoordinateSystem));return m};q.equals=function(m){if(null==m)return!1;if(this.imageCoordinateSystem||m.imageCoordinateSystem){if(null==
this.imageCoordinateSystem||null==m.imageCoordinateSystem)return!1;const {id:t,referenceServiceName:f}=m.imageCoordinateSystem,{geodataXform:h}=m.imageCoordinateSystem,v=this.imageCoordinateSystem;return null==t||h?JSON.stringify(v)===JSON.stringify(m.imageCoordinateSystem):f?v.id===t&&v.referenceServiceName===f:v.id===t}return n.equals(this,m)};q.toJSON=function(m){return this.write(void 0,m)};a._createClass(l,[{key:"isWGS84",get:function(){return n.isWGS84(this)}},{key:"isWebMercator",get:function(){return n.isWebMercator(this)}},
{key:"isGeographic",get:function(){return n.isGeographic(this)}},{key:"isWrappable",get:function(){return n.isWrappable(this)}}]);return l}(c.JSONSupport);c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;c.PlateCarree=null;b.__decorate([p.property({readOnly:!0})],c.prototype,"isWGS84",null);b.__decorate([p.property({readOnly:!0})],c.prototype,"isWebMercator",null);b.__decorate([p.property({readOnly:!0})],c.prototype,"isGeographic",null);b.__decorate([p.property({readOnly:!0})],c.prototype,"isWrappable",
null);b.__decorate([p.property({type:d.Integer,json:{write:!0}})],c.prototype,"latestWkid",void 0);b.__decorate([p.property({type:d.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],c.prototype,"wkid",void 0);b.__decorate([p.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],c.prototype,"wkt",void 0);b.__decorate([u.writer("wkt"),u.writer("web-scene","wkt")],
c.prototype,"writeWkt",null);b.__decorate([p.property({type:d.Integer,json:{write:!0}})],c.prototype,"vcsWkid",void 0);b.__decorate([p.property({type:d.Integer,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);b.__decorate([p.property()],c.prototype,"imageCoordinateSystem",void 0);c=k=b.__decorate([r.subclass("esri.geometry.SpatialReference")],c);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=new c({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
c.WGS84=new c(n.WGS84);c.WebMercator=new c(n.WebMercator);c.PlateCarree=new c(n.PlateCarree);Object.freeze&&(Object.freeze(c.GCS_NAD_1927),Object.freeze(c.WGS84),Object.freeze(c.WebMercator));return c})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe","../../core/string","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,c,e,d){function p(h){return g(h)&&null!=h.wkid&&!0===l[h.wkid]}function r(h){return h===e.SupportedGCSWkids.GCSMARS2000||h===
e.SupportedGCSWkids.GCSMARS2000_SPHERE}function u(h){return g(h)&&null!=h.wkid&&r(h.wkid)}function n(h){return h===e.SupportedGCSWkids.GCSMOON2000}function k(h){return g(h)&&null!=h.wkid&&n(h.wkid)}function g(h){return b.isSome(h)&&(null!=h.wkid&&2E3<=h.wkid||null!=h.wkt)}const l={102113:!0,102100:!0,3857:!0,3785:!0},q={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},m=[-2.0037508342788905E7,2.0037508342788905E7],t=[-2.0037508342787E7,2.0037508342787E7],f={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:m,origin:t,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:m,origin:t,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:m,origin:t,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:m,origin:t,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};c={wkid:4326,wkt:c.replace(f[4326].wkTemplate,{Central_Meridian:"0.0"})};a.PlateCarree={wkid:32662};a.WGS84=c;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(h,v){return b.isNone(h)||b.isNone(v)?!1:h===v?!0:null!=h.wkid||null!=v.wkid?h.wkid===v.wkid||p(h)&&p(v)||null!=v.latestWkid&&h.wkid===v.latestWkid||null!=h.latestWkid&&v.wkid===h.latestWkid:h.wkt&&v.wkt?h.wkt.toUpperCase()===v.wkt.toUpperCase():!1};a.getInfo=function(h){return g(h)&&h.wkid?f[h.wkid]||null:null};a.isCGCS2000=
function(h){return g(h)&&h.wkid===e.SupportedGCSWkids.CGCS2000};a.isEarth=function(h){return!(u(h)||k(h))};a.isGeographic=function(h){return g(h)?h.wkid?null==d[h.wkid]:h.wkt?!!/^\s*GEOGCS/i.test(h.wkt):!1:!1};a.isMars=u;a.isMoon=k;a.isPlateCarree=function(h){return g(h)&&32662===h.wkid};a.isValid=g;a.isWGS84=function(h){return g(h)&&4326===h.wkid};a.isWKIDFromMars=r;a.isWKIDFromMoon=n;a.isWebMercator=p;a.isWrappable=function(h){return g(h)&&null!=h.wkid&&!0===q[h.wkid]};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;
const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,
2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,
3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,
3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,
3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,
5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,
6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,
6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,
6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,
6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,
7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,
7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,
8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,
8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,
8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,
22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,
30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,
102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,
103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,
103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,
103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};
for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=
0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=
0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=
2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=
0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=
2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=
0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=
0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=
0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=
1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=20002;20032>=
a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=
a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=
a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=
a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=
a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=
a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=
a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=
102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=
2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102955>=a;a++)b[a]=0;for(a=102961;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=
0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=
0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=
2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=
1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=
2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103887>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z){const A=G=>Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));var C;let B;const E={PortalGroup:()=>new Promise((G,J)=>a(["./PortalGroup"],K=>G(A(K)),J)),PortalItem:()=>new Promise((G,J)=>a(["./PortalItem"],K=>G(A(K)),J)),PortalUser:()=>new Promise((G,J)=>a(["./PortalUser"],K=>G(A(K)),J))};u=C=function(G){function J(F){F=G.call(this,F)||this;F.access=null;F.allSSL=!1;F.authMode="auto";F.authorizedCrossOriginDomains=
null;F.basemapGalleryGroupQuery=null;F.bingKey=null;F.canListApps=!1;F.canListData=!1;F.canListPreProvisionedItems=!1;F.canProvisionDirectPurchase=!1;F.canSearchPublic=!0;F.canShareBingPublic=!1;F.canSharePublic=!1;F.canSignInArcGIS=!1;F.canSignInIDP=!1;F.colorSetsGroupQuery=null;F.commentsEnabled=!1;F.created=null;F.culture=null;F.customBaseUrl=null;F.defaultBasemap=null;F.defaultDevBasemap=null;F.defaultExtent=null;F.defaultVectorBasemap=null;F.description=null;F.devBasemapGalleryGroupQuery=null;
F.eueiEnabled=null;F.featuredGroups=null;F.featuredItemsGroupQuery=null;F.galleryTemplatesGroupQuery=null;F.livingAtlasGroupQuery=null;F.hasCategorySchema=!1;F.helperServices=null;F.homePageFeaturedContent=null;F.homePageFeaturedContentCount=null;F.httpPort=null;F.httpsPort=null;F.id=null;F.ipCntryCode=null;F.isPortal=!1;F.isReadOnly=!1;F.layerTemplatesGroupQuery=null;F.maxTokenExpirationMinutes=null;F.modified=null;F.name=null;F.portalHostname=null;F.portalMode=null;F.portalProperties=null;F.region=
null;F.rotatorPanels=null;F.showHomePageDescription=!1;F.sourceJSON=null;F.supportsHostedServices=!1;F.symbolSetsGroupQuery=null;F.templatesGroupQuery=null;F.units=null;F.url=e.portalUrl;F.urlKey=null;F.user=null;F.useStandardizedQuery=!1;F.useVectorBasemaps=!1;F.vectorBasemapGalleryGroupQuery=null;return F}b._inheritsLoose(J,G);var K=J.prototype;K.normalizeCtorArgs=function(F){return"string"===typeof F?{url:F}:F};K.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),
this._esriId_credentialCreateHandle=null)};K.readAuthorizedCrossOriginDomains=function(F){if(F)for(const H of F)e.request.trustedServers.includes(H)||e.request.trustedServers.push(H);return F};K.readDefaultBasemap=function(F){return this._readBasemap(F)};K.readDefaultDevBasemap=function(F){return this._readBasemap(F)};K.readDefaultVectorBasemap=function(F){return this._readBasemap(F)};K.readUrlKey=function(F){return F?F.toLowerCase():F};K.readUser=function(F){let H=null;F&&(H=y.fromJSON(F),H.portal=
this);return H};K.load=function(F){const H=(new Promise((I,L)=>a(["../Basemap"],Q=>I(A(Q)),L))).then(({default:I})=>{g.throwIfAborted(F);B=I}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,F)).then(I=>{if(d.id){const L=d.id;this.credential=L.findCredential(this.restUrl);this.credential||this.authMode!==C.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=L.on("credential-create",()=>{L.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=I;this.read(I)});this.addResolvingPromise(H);
return Promise.resolve(this)};K.createElevationLayers=function(){var F=b._asyncToGenerator(function*(){yield this.load();const H=this._getHelperService("defaultElevationLayers"),I=(yield new Promise((L,Q)=>a(["../layers/ElevationLayer"],Z=>L(A(Z)),Q))).default;return H?H.map(L=>new I({id:L.id,url:L.url})):[]});return function(){return F.apply(this,arguments)}}();K.fetchBasemaps=function(F,H){const I=new D;I.query=F||(e.apiKey&&z.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?
this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);I.disableExtraQuery=!0;return this.queryGroups(I,H).then(L=>{I.num=100;I.query='type:"Web Map" -type:"Web Application"';return L.total?(L=L.results[0],I.sortField=L.sortField||"name",I.sortOrder=L.sortOrder||"desc",L.queryItems(I,H)):null}).then(L=>L&&L.total?L.results.filter(Q=>"Web Map"===Q.type).map(Q=>new B({portalItem:Q})):[])};K.fetchCategorySchema=function(F){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",
F).then(H=>H.categorySchema):g.isAborted(F)?Promise.reject(g.createAbortError()):Promise.resolve([])};K.fetchFeaturedGroups=function(F){const H=this.featuredGroups,I=new D;I.num=100;I.sortField="title";if(H&&H.length){const L=[];for(const Q of H)L.push(`(title:"${Q.title}" AND owner:${Q.owner})`);I.query=L.join(" OR ");return this.queryGroups(I,F).then(Q=>Q.results)}return g.isAborted(F)?Promise.reject(g.createAbortError()):Promise.resolve([])};K.fetchRegions=function(F){var H;const I=(null==(H=this.user)?
void 0:H.culture)||this.culture||w.getLocale();return this._request(this.restUrl+"/portals/regions",{...F,query:{culture:I}})};K.fetchSettings=function(F){var H;const I=(null==(H=this.user)?void 0:H.culture)||this.culture||w.getLocale();return this._request(this.restUrl+"/portals/self/settings",{...F,query:{culture:I}})};J.getDefault=function(){if(!C._default||C._default.destroyed)C._default=new C;return C._default};K.queryGroups=function(F,H){return this._queryPortal("/community/groups",F,"PortalGroup",
H)};K.queryItems=function(F,H){return this._queryPortal("/search",F,"PortalItem",H)};K.queryUsers=function(F,H){F.sortField||(F.sortField="username");return this._queryPortal("/community/users",F,"PortalUser",H)};K.toJSON=function(){throw new r("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};J.fromJSON=function(F){if(!F)return null;if(F.declaredClass)throw Error("JSON object is already hydrated");return new C({sourceJSON:F})};K._getHelperService=function(F){const H=this.helperServices&&
this.helperServices[F];if(!H)throw new r("portal:service-not-found",`The \`helperServices\` do not include an entry named "${F}"`);return H};K._getHelperServiceUrl=function(F){const H=this._getHelperService(F);if(!H.url)throw new r("portal:service-url-not-found",`The \`helperServices\` entry "${F}" does not include a \`url\` value`);return H.url};K._fetchSelf=function(F=this.authMode,H=!1,I){const L=this.restUrl+"/portals/self";F={authMode:F,query:{culture:w.getLocale().toLowerCase()},...I};"auto"===
F.authMode&&(F.authMode="no-prompt");H&&(F.query.default=!0);return this._request(L,F)};K._queryPortal=function(F,H,I,L){const Q=t.ensureType(D,H),Z=ca=>this._request(this.restUrl+F,{...Q.toRequestOptions(this),...L}).then(aa=>{const O=Q.clone();O.start=aa.nextStart;return new x({nextQueryParams:O,queryParams:Q,total:aa.total,results:C._resultsToTypedArray(ca,{portal:this},aa,L)})}).then(aa=>Promise.all(aa.results.map(O=>"function"===typeof O.when?O.when():aa)).then(()=>aa,O=>{g.throwIfAbortError(O);
return aa}));return I&&E[I]?E[I]().then(({default:ca})=>{g.throwIfAborted(L);return Z(ca)}):Z()};K._signIn=function(){if(this.authMode===C.AUTH_MODE_ANONYMOUS)return Promise.reject(new r("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const F=H=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return H||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>
{if(this.credential)return null;this.credential=H;return this._fetchSelf("immediate")});if(this.user&&this.credential===H)return null;this.credential=H;return this._fetchSelf("immediate")}).then(I=>{I&&(this.sourceJSON=I,this.read(I))});return d.id?d.id.getCredential(this.restUrl).then(H=>F(H)):F(this.credential)};K._normalizeSSL=function(F){return F.replace(/^http:/i,"https:").replace(":7080",":7443")};K._normalizeUrl=function(F){const H=this.credential&&this.credential.token;return this._normalizeSSL(H?
F+(F.includes("?")?"\x26":"?")+"token\x3d"+H:F)};K._requestToTypedArray=function(F,H,I){return this._request(F,H).then(L=>{const Q=C._resultsToTypedArray(I,{portal:this},L);return Promise.all(Q.map(Z=>"function"===typeof Z.when?Z.when():L)).then(()=>Q,()=>Q)})};K._readBasemap=function(F){return F?(F=B.fromJSON(F),F.portalItem={portal:this},F):null};K._request=function(F,H={}){const I={f:"json",...H.query},{authMode:L=this.authMode===C.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:Q=null,cacheBust:Z=
!1,method:ca="auto",responseType:aa="json",signal:O}=H;H={authMode:L,body:Q,cacheBust:Z,method:ca,query:I,responseType:aa,timeout:0,signal:O};return p(this._normalizeSSL(F),H).then(fa=>fa.data)};J._resultsToTypedArray=function(F,H,I,L){if(I){const Q=k.isSome(L)?L.signal:null;I=I.listings||I.notifications||I.userInvitations||I.tags||I.items||I.groups||I.comments||I.provisions||I.results||I.relatedItems||I;if(F||H)I=I.map(Z=>{Z=Object.assign(F?F.fromJSON(Z):Z,H);"function"===typeof Z.load&&Z.load(Q);
return Z})}else I=[];return I};b._createClass(J,[{key:"extraQuery",get:function(){const F=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!F?` AND orgid:${this.id}`:null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"restUrl",get:function(){let F=this.url;if(F){const H=F.indexOf("/sharing");F=0<H?F.substring(0,H):this.url.replace(/\/+$/,"");F+="/sharing/rest"}return F}},{key:"thumbnailUrl",get:function(){const F=this.restUrl,H=this.thumbnail;return F&&H?this._normalizeSSL(F+
"/portals/self/resources/"+H):null}}]);return J}(u.JSONSupportMixin(n));u.AUTH_MODE_ANONYMOUS="anonymous";u.AUTH_MODE_AUTO="auto";u.AUTH_MODE_IMMEDIATE="immediate";c.__decorate([l.property()],u.prototype,"access",void 0);c.__decorate([l.property()],u.prototype,"allSSL",void 0);c.__decorate([l.property()],u.prototype,"authMode",void 0);c.__decorate([l.property()],u.prototype,"authorizedCrossOriginDomains",void 0);c.__decorate([f.reader("authorizedCrossOriginDomains")],u.prototype,"readAuthorizedCrossOriginDomains",
null);c.__decorate([l.property()],u.prototype,"basemapGalleryGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"bingKey",void 0);c.__decorate([l.property()],u.prototype,"canListApps",void 0);c.__decorate([l.property()],u.prototype,"canListData",void 0);c.__decorate([l.property()],u.prototype,"canListPreProvisionedItems",void 0);c.__decorate([l.property()],u.prototype,"canProvisionDirectPurchase",void 0);c.__decorate([l.property()],u.prototype,"canSearchPublic",void 0);c.__decorate([l.property()],
u.prototype,"canShareBingPublic",void 0);c.__decorate([l.property()],u.prototype,"canSharePublic",void 0);c.__decorate([l.property()],u.prototype,"canSignInArcGIS",void 0);c.__decorate([l.property()],u.prototype,"canSignInIDP",void 0);c.__decorate([l.property()],u.prototype,"colorSetsGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"commentsEnabled",void 0);c.__decorate([l.property({type:Date})],u.prototype,"created",void 0);c.__decorate([l.property()],u.prototype,"credential",void 0);
c.__decorate([l.property()],u.prototype,"culture",void 0);c.__decorate([l.property()],u.prototype,"currentVersion",void 0);c.__decorate([l.property()],u.prototype,"customBaseUrl",void 0);c.__decorate([l.property()],u.prototype,"defaultBasemap",void 0);c.__decorate([f.reader("defaultBasemap")],u.prototype,"readDefaultBasemap",null);c.__decorate([l.property()],u.prototype,"defaultDevBasemap",void 0);c.__decorate([f.reader("defaultDevBasemap")],u.prototype,"readDefaultDevBasemap",null);c.__decorate([l.property({type:v})],
u.prototype,"defaultExtent",void 0);c.__decorate([l.property()],u.prototype,"defaultVectorBasemap",void 0);c.__decorate([f.reader("defaultVectorBasemap")],u.prototype,"readDefaultVectorBasemap",null);c.__decorate([l.property()],u.prototype,"description",void 0);c.__decorate([l.property()],u.prototype,"devBasemapGalleryGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"eueiEnabled",void 0);c.__decorate([l.property({readOnly:!0})],u.prototype,"extraQuery",null);c.__decorate([l.property()],
u.prototype,"featuredGroups",void 0);c.__decorate([l.property()],u.prototype,"featuredItemsGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"galleryTemplatesGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"livingAtlasGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"hasCategorySchema",void 0);c.__decorate([l.property()],u.prototype,"helpBase",void 0);c.__decorate([l.property()],u.prototype,"helperServices",void 0);c.__decorate([l.property()],u.prototype,"helpMap",
void 0);c.__decorate([l.property()],u.prototype,"homePageFeaturedContent",void 0);c.__decorate([l.property()],u.prototype,"homePageFeaturedContentCount",void 0);c.__decorate([l.property()],u.prototype,"httpPort",void 0);c.__decorate([l.property()],u.prototype,"httpsPort",void 0);c.__decorate([l.property()],u.prototype,"id",void 0);c.__decorate([l.property()],u.prototype,"ipCntryCode",void 0);c.__decorate([l.property({readOnly:!0})],u.prototype,"isOrganization",null);c.__decorate([l.property()],u.prototype,
"isPortal",void 0);c.__decorate([l.property()],u.prototype,"isReadOnly",void 0);c.__decorate([l.property()],u.prototype,"layerTemplatesGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"maxTokenExpirationMinutes",void 0);c.__decorate([l.property({type:Date})],u.prototype,"modified",void 0);c.__decorate([l.property()],u.prototype,"name",void 0);c.__decorate([l.property()],u.prototype,"portalHostname",void 0);c.__decorate([l.property()],u.prototype,"portalMode",void 0);c.__decorate([l.property()],
u.prototype,"portalProperties",void 0);c.__decorate([l.property()],u.prototype,"region",void 0);c.__decorate([l.property({readOnly:!0})],u.prototype,"restUrl",null);c.__decorate([l.property()],u.prototype,"rotatorPanels",void 0);c.__decorate([l.property()],u.prototype,"showHomePageDescription",void 0);c.__decorate([l.property()],u.prototype,"sourceJSON",void 0);c.__decorate([l.property()],u.prototype,"staticImagesUrl",void 0);c.__decorate([l.property({json:{name:"2DStylesGroupQuery"}})],u.prototype,
"stylesGroupQuery2d",void 0);c.__decorate([l.property({json:{name:"stylesGroupQuery"}})],u.prototype,"stylesGroupQuery3d",void 0);c.__decorate([l.property()],u.prototype,"supportsHostedServices",void 0);c.__decorate([l.property()],u.prototype,"symbolSetsGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"templatesGroupQuery",void 0);c.__decorate([l.property()],u.prototype,"thumbnail",void 0);c.__decorate([l.property({readOnly:!0})],u.prototype,"thumbnailUrl",null);c.__decorate([l.property()],
u.prototype,"units",void 0);c.__decorate([l.property()],u.prototype,"url",void 0);c.__decorate([l.property()],u.prototype,"urlKey",void 0);c.__decorate([f.reader("urlKey")],u.prototype,"readUrlKey",null);c.__decorate([l.property()],u.prototype,"user",void 0);c.__decorate([f.reader("user")],u.prototype,"readUser",null);c.__decorate([l.property()],u.prototype,"useStandardizedQuery",void 0);c.__decorate([l.property()],u.prototype,"useVectorBasemaps",void 0);c.__decorate([l.property()],u.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return u=C=c.__decorate([h.subclass("esri.portal.Portal")],u)})},"esri/kernel":function(){define("require exports ./chunks/_rollupPluginBabelHelpers ./core/has ./core/urlUtils ./support/revision".split(" "),function(a,b,c,e,d,p){b.id=void 0;e("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript ${"4.24"} [Date: ${p.buildDate}, Revision: ${p.commitHash.slice(0,8)}]`),(e("edge")||e("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"));b.buildDate=
p.buildDate;b.revision=p.commitHash;b.addTokenParameter=function(r){const u=b.id&&b.id.findCredential(r);return u&&u.token?d.addQueryParameter(r,"token",u.token):r};b.setId=function(r){b.id=r};b.version="4.24";b.workerMessages={request(r,u){return c._asyncToGenerator(function*(){var n,{default:k}=yield new Promise((q,m)=>a(["./request"],t=>q(Object.freeze(Object.defineProperty({__proto__:null,default:t},Symbol.toStringTag,{value:"Module"}))),m));const g=r.options,l=g.responseType;g.signal=null==u?
void 0:u.signal;g.responseType="native"===l||"native-request-init"===l?"native-request-init":["blob","json","text"].includes(l)&&null!=(n=d.getInterceptor(r.url))&&n.after?l:"array-buffer";n=yield k(r.url,g);k={data:n.data,ssl:n.ssl};switch(n.requestOptions.responseType){case "native-request-init":return delete k.data.signal,k;case "blob":k.data=yield k.data.arrayBuffer();break;case "json":k.data=(new TextEncoder).encode(JSON.stringify(k.data)).buffer;break;case "text":k.data=(new TextEncoder).encode(k.data).buffer}return{result:k,
transferList:[k.data]}})()}};Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20220707";a.commitHash="7fd01dbc0e83d753fcf101c8ff2a8d215430252d";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/request":function(){define("require ./chunks/_rollupPluginBabelHelpers ./config ./kernel ./core/Error ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){function q(ta,Y){return m.apply(this,arguments)}function m(){m=b._asyncToGenerator(function*(ta,Y){var pa,wa=k.isDataProtocol(ta);const M=k.isBlobProtocol(ta);M||wa||(ta=k.normalize(ta));const R={url:ta,requestOptions:{...u.unwrap(Y)}};let da=k.getInterceptor(ta);if(da){ta=yield E(da,R);if(null!=ta)return{data:ta,getHeader:Da,requestOptions:R.requestOptions,url:R.url};da.after||da.error||(da=null)}ta=R.url;Y=R.requestOptions;if("image"===Y.responseType){if(p("host-webworker")||
p("host-node"))throw h("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),R);}else if(wa)throw h("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+Y.responseType),R);if("head"===Y.method){if(Y.body)throw h("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),R);if(wa||M)throw h("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),
R);}yield v();if(Z)return Z.execute(ta,Y);const S=new AbortController;n.onAbort(Y,()=>S.abort());wa=yield F({controller:S,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:da,params:R,redoRequest:!1,useIdentity:ca.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});null==(pa=da)?void 0:null==pa.after?void 0:pa.after(wa);return wa});return m.apply(this,arguments)}function t(ta){(ta=k.getOrigin(ta))&&!q._corsServers.includes(ta)&&q._corsServers.push(ta)}function f(ta){ta=
k.getOrigin(ta);return!ta||ta.endsWith(".arcgis.com")||q._corsServers.includes(ta)||k.isTrustedServer(ta)}function h(ta,Y,pa,wa){let M="Error";const R={url:pa.url,requestOptions:pa.requestOptions,getHeader:Da,ssl:!1};if(Y instanceof d)return Y.details?(Y.details=r.clone(Y.details),Y.details.url=pa.url,Y.details.requestOptions=pa.requestOptions):Y.details=R,Y;if(Y){pa=wa&&(X=>wa.headers.get(X));const da=wa&&wa.status,S=Y.message;S&&(M=S);pa&&(R.getHeader=pa);R.httpStatus=(null!=Y.httpCode?Y.httpCode:
Y.code)||da||0;R.subCode=Y.subcode;R.messageCode=Y.messageCode;R.messages="string"===typeof Y.details?[Y.details]:Y.details;R.raw=Ha in Y?Y[Ha]:Y}return n.isAbortError(Y)?n.createAbortError():new d(ta,M,R)}function v(){return w.apply(this,arguments)}function w(){w=b._asyncToGenerator(function*(){p("host-webworker")?Z||(Z=yield new Promise((ta,Y)=>a(["./core/workers/request"],ta,Y))):q._abortableFetch||(q._abortableFetch=globalThis.fetch.bind(globalThis))});return w.apply(this,arguments)}function D(){return x.apply(this,
arguments)}function x(){x=b._asyncToGenerator(function*(){e.id||(yield new Promise((ta,Y)=>a(["./identity/IdentityManager"],pa=>ta(Object.freeze(Object.defineProperty({__proto__:null,default:pa},Symbol.toStringTag,{value:"Module"}))),Y)))});return x.apply(this,arguments)}function y(ta){return z.apply(this,arguments)}function z(){z=b._asyncToGenerator(function*(ta){var Y,pa;const wa=ta.params.url,M=ta.params.requestOptions,R=ta.controller.signal,da=M.body;let S=null,X=null;aa&&"HTMLFormElement"in globalThis&&
(da instanceof FormData?S=da:da instanceof HTMLFormElement&&(S=new FormData(da)));"string"===typeof da&&(X=da);ta.fetchOptions={cache:M.cacheBust&&!q._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:M.headers||{},method:"head"===M.method?"HEAD":"GET",mode:"cors",priority:ca.priority,redirect:"follow",signal:R};if(S||X)ta.fetchOptions.body=S||X;"anonymous"===M.authMode&&(ta.useIdentity=!1);ta.hasToken=!!(/token=/i.test(wa)||null!=(Y=M.query)&&Y.token||null!=(pa=S)&&pa.get("token"));
!ta.hasToken&&c.apiKey&&g.supportsApiKey(wa)&&(M.query||(M.query={}),M.query.token=c.apiKey,ta.hasToken=!0);if(ta.useIdentity&&!ta.hasToken&&!ta.credentialToken&&!A(wa)&&!n.isAborted(R)){let ea;"immediate"===M.authMode?(yield D(),ea=yield e.id.getCredential(wa,{signal:R}),ta.credential=ea):"no-prompt"===M.authMode?(yield D(),ea=yield e.id.getCredential(wa,{prompt:!1,signal:R}).catch(()=>{}),ta.credential=ea):e.id&&(ea=e.id.findCredential(wa));ea&&(ta.credentialToken=ea.token,ta.useSSL=!!ea.ssl)}});
return z.apply(this,arguments)}function A(ta){return oa.some(Y=>Y.test(ta))}function C(ta){return B.apply(this,arguments)}function B(){B=b._asyncToGenerator(function*(ta){let Y=ta.params.url;const pa=ta.params.requestOptions,wa=ta.fetchOptions,M=k.isBlobProtocol(Y)||k.isDataProtocol(Y),R=pa.responseType||"json",da=M?0:null!=pa.timeout?pa.timeout:ca.timeout;var S=!1;if(!M){ta.useSSL&&(Y=k.toHTTPS(Y));pa.cacheBust&&"default"===wa.cache&&(Y=k.addQueryParameter(Y,"request.preventCache",Date.now()));var X=
{...pa.query};ta.credentialToken&&(X.token=ta.credentialToken);S=k.objectToQuery(X);p("esri-url-encodes-apostrophe")&&(S=S.replace(/'/g,"%27"));const N=Y.length+1+S.length;S="delete"===pa.method||"post"===pa.method||"put"===pa.method||!!pa.body||N>ca.maxUrlLength;const U=pa.useProxy||!!k.getProxyRule(Y);if(U){const P=k.getProxyUrl(Y);var ea=P.path;!S&&ea.length+1+N>ca.maxUrlLength&&(S=!0);P.query&&(X={...P.query,...X})}if("HEAD"===wa.method&&(S||U)){if(S){if(N>ca.maxUrlLength)throw h("request:invalid-parameters",
Error("URL exceeds maximum length"),ta.params);throw h("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),ta.params);}if(U)throw h("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),ta.params);}S?(wa.method="delete"===pa.method?"DELETE":"put"===pa.method?"PUT":"POST",pa.body?Y=k.addQueryParameters(Y,X):(wa.body=k.objectToQuery(X),wa.headers["Content-Type"]="application/x-www-form-urlencoded")):Y=k.addQueryParameters(Y,X);U&&(ta.useProxy=!0,
Y=`${ea}?${Y}`);X.token&&aa&&wa.body instanceof FormData&&!/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(Y)&&wa.body.set("token",X.token);pa.hasOwnProperty("withCredentials")?ta.withCredentials=pa.withCredentials:k.hasSameOrigin(Y,k.getAppUrl())||(k.isTrustedServer(Y)?ta.withCredentials=!0:e.id&&(ea=e.id.findServerInfo(Y))&&ea.webTierAuth&&(ta.withCredentials=!0));ta.withCredentials&&(wa.credentials="include",l.isNoCorsRequestRequired(Y)&&(yield l.sendNoCorsRequest(S?k.addQueryParameters(Y,
X):Y)))}X=0;let ha=!1;0<da&&(X=setTimeout(()=>{ha=!0;ta.controller.abort()},da));let ra,na;try{if("native-request-init"===pa.responseType)na=wa,na.url=Y;else if("image"!==pa.responseType||"default"!==wa.cache||"GET"!==wa.method||S||J(pa.headers)||!M&&!ta.useProxy&&ca.proxyUrl&&!f(Y))if(ra=yield q._abortableFetch(Y,wa),ta.useProxy||t(Y),"native"===pa.responseType)na=ra;else{if("HEAD"!==wa.method)if(ra.ok){switch(R){case "array-buffer":na=yield ra.arrayBuffer();break;case "blob":case "image":na=yield ra.blob();
break;default:na=yield ra.text()}X&&(clearTimeout(X),X=0);if("json"===R||"xml"===R||"document"===R)if(na)switch(R){case "json":na=JSON.parse(na);break;case "xml":na=K(na,"application/xml");break;case "document":na=K(na,"text/html")}else na=null;if(na){if("array-buffer"===R||"blob"===R){const N=ra.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(N)&&750>=na["blob"===R?"size":"byteLength"])try{const U=yield(new Response(na)).json();U.error&&(na=U)}catch{}}"image"===R&&na instanceof
Blob&&(na=yield Q(URL.createObjectURL(na),ta,!0))}}else na=yield ra.text()}else na=yield Q(Y,ta)}catch(N){if("AbortError"===N.name){if(ha)throw Error("Timeout exceeded");throw n.createAbortError("Request canceled");}if(!ra&&N instanceof TypeError&&ca.proxyUrl&&!pa.body&&"delete"!==pa.method&&"head"!==pa.method&&"post"!==pa.method&&"put"!==pa.method&&!ta.useProxy&&!f(Y))ta.redoRequest=!0,k.addProxyRule({proxyUrl:ca.proxyUrl,urlPrefix:k.getOrigin(Y)});else throw N;}finally{X&&clearTimeout(X)}return[ra,
na]});return B.apply(this,arguments)}function E(ta,Y){return G.apply(this,arguments)}function G(){G=b._asyncToGenerator(function*(ta,Y){if(null!=ta.responseData)return ta.responseData;ta.headers&&(Y.requestOptions.headers={...Y.requestOptions.headers,...ta.headers});ta.query&&(Y.requestOptions.query={...Y.requestOptions.query,...ta.query});if(ta.before){let pa,wa;try{wa=yield ta.before(Y)}catch(M){pa=h("request:interceptor",M,Y)}if(wa instanceof Error||wa instanceof d)pa=h("request:interceptor",wa,
Y);if(pa)throw ta.error&&ta.error(pa),pa;return wa}});return G.apply(this,arguments)}function J(ta){if(ta)for(const Y of Object.getOwnPropertyNames(ta))if(ta[Y])return!0;return!1}function K(ta,Y){let pa;try{pa=(new DOMParser).parseFromString(ta,Y)}catch{}if(!pa||pa.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return pa}function F(ta){return H.apply(this,arguments)}function H(){H=b._asyncToGenerator(function*(ta){yield y(ta);let Y;try{do[Y,pa]=yield C(ta);while(!(yield I(ta,
Y,pa)))}catch(R){var pa=h("request:server",R,ta.params,Y);pa.details.ssl=ta.useSSL;ta.interceptor&&ta.interceptor.error&&ta.interceptor.error(pa);throw pa;}var wa=ta.params.url;if(pa&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(wa)){var M;ta.hasToken||ta.credentialToken||null==(M=pa.user)||!M.username||k.isTrustedServer(wa)||(wa=k.getOrigin(wa,!0))&&ca.trustedServers.push(wa);Array.isArray(pa.authorizedCrossOriginNoCorsDomains)&&l.registerNoCorsDomains(pa.authorizedCrossOriginNoCorsDomains)}(wa=
ta.credential)&&e.id&&(M=(M=e.id.findServerInfo(wa.server))&&M.owningSystemUrl)&&(M=M.replace(/\/?$/,"/sharing"),(wa=e.id.findCredential(M,wa.userId))&&-1===e.id._getIdenticalSvcIdx(M,wa)&&wa.resources.unshift(M));return{data:pa,getHeader:Y?R=>Y.headers.get(R):Da,requestOptions:ta.params.requestOptions,ssl:ta.useSSL,url:ta.params.url}});return H.apply(this,arguments)}function I(ta,Y,pa){return L.apply(this,arguments)}function L(){L=b._asyncToGenerator(function*(ta,Y,pa){if(ta.redoRequest)return ta.redoRequest=
!1;const wa=ta.params.requestOptions;if(!Y||"native"===wa.responseType||"native-request-init"===wa.responseType)return!0;let M;if(!Y.ok)throw M=Error(`Unable to load ${Y.url} status: ${Y.status}`),M[Ha]=pa,M;null!=pa&&pa.error&&(M=pa.error);let R,da,S;M&&(R=Number(M.code),da=M.hasOwnProperty("subcode")?Number(M.subcode):null,S=(S=M.messageCode)&&S.toUpperCase());Y=wa.authMode;if(403===R&&(4===da||M.message&&M.message.toLowerCase().includes("ssl")&&!M.message.toLowerCase().includes("permission"))){if(!ta.useSSL)return ta.useSSL=
!0,!1}else if(!ta.hasToken&&ta.useIdentity&&("no-prompt"!==Y||498===R)&&O.includes(R)&&!A(ta.params.url)&&(403!==R||!fa.includes(S)&&(null==da||2===da&&ta.credentialToken))){yield D();try{const X=yield e.id.getCredential(ta.params.url,{error:h("request:server",M,ta.params),prompt:"no-prompt"!==Y,signal:ta.controller.signal,token:ta.credentialToken});ta.credential=X;ta.credentialToken=X.token;ta.useSSL=ta.useSSL||X.ssl;return!1}catch(X){if("no-prompt"===Y)return ta.credential=null,ta.credentialToken=
null,!1;M=X}}if(M)throw M;return!0});return L.apply(this,arguments)}function Q(ta,Y,pa=!1){const wa=Y.controller.signal,M=new Image;M.crossOrigin=Y.withCredentials?"use-credentials":"anonymous";M.alt="";M.fetchPriority=ca.priority;M.src=ta;return l.loadImageAsync(M,ta,pa,wa)}let Z;const ca=c.request,aa="FormData"in globalThis,O=[499,498,403,401],fa=["COM_0056","COM_0057","SB_0008"],oa=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Da=()=>null,Ha=Symbol();q._abortableFetch=
null;q._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return q})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const c=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];a.isApiKey=function(e){return e&&4<e.length&&e.startsWith("AAPK")};a.supportsApiKey=function(e){const d=b.getOrigin(e,!0);return d&&d.endsWith(".arcgis.com")&&!c.includes(d)&&!e.endsWith("/sharing/rest/generateToken")};
Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/requestUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../config ../core/has ../core/maybe ../core/promiseUtils ../core/urlUtils".split(" "),function(a,b,c,e,d,p,r){function u(){try{return new DOMException("Aborted","AbortError")}catch{const k=Error();k.name="AbortError";return k}}function n(){n=b._asyncToGenerator(function*(k){var g,l=c.request.crossOriginNoCorsDomains;
l&&(l[r.getOrigin(k).toLowerCase()]=Date.now());l=r.urlToObject(k);k=l.path;"json"===(null==(g=l.query)?void 0:g.f)&&(k+="?f\x3djson");try{yield fetch(k,{mode:"no-cors",credentials:"include"})}catch{}});return n.apply(this,arguments)}a.isNoCorsRequestRequired=function(k){const g=c.request.crossOriginNoCorsDomains;return g&&(k=r.getOrigin(k))?(k=k.toLowerCase(),!r.hasSameOrigin(k,r.getAppUrl())&&g[k]<Date.now()-36E5):!1};a.loadImageAsync=function(k,g,l=!1,q){return new Promise((m,t)=>{if(p.isAborted(q))t(u());
else{var f=()=>{w();t(Error(`Unable to load ${g}`))},h=()=>{const D=k;w();m(D)},v=()=>{if(k){var D=k;w();D.src="";t(u())}},w=()=>{e("esri-image-decode")||(k.removeEventListener("error",f),k.removeEventListener("load",h));k=h=f=null;d.isSome(q)&&q.removeEventListener("abort",v);v=null;l&&URL.revokeObjectURL(g)};d.isSome(q)&&q.addEventListener("abort",v);e("esri-image-decode")?k.decode().then(h,f):(k.addEventListener("error",f),k.addEventListener("load",h))}})};a.registerNoCorsDomains=function(k){c.request.crossOriginNoCorsDomains||
(c.request.crossOriginNoCorsDomains={});const g=c.request.crossOriginNoCorsDomains;for(let l of k)l=l.toLowerCase(),/^https?:\/\//.test(l)?g[r.getOrigin(l)]=0:(g[r.getOrigin("http://"+l)]=0,g[r.getOrigin("https://"+l)]=0)};a.sendNoCorsRequest=function(k){return n.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(c,
e,d){let p,r;void 0===e||Array.isArray(e)?(r=c,d=e,p=[void 0]):(r=e,p=Array.isArray(c)?c:[c]);return(u,n)=>{const k=u.constructor.prototype;p.forEach(g=>{g=b.propertyJSONMeta(u,g,r);g.read&&"object"===typeof g.read||(g.read={});g.read.reader=k[n];d&&(g.read.source=(g.read.source||[]).concat(d))})}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/string ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f){function h(w,D,x){return null==D?x:null==x?D:w(D,x)}var v;p=v=function(w){function D(...y){y=w.call(this,...y)||this;y.type="extent";y.xmin=0;y.ymin=0;y.mmin=void 0;y.zmin=void 0;y.xmax=0;y.ymax=0;y.mmax=void 0;y.zmax=void 0;return y}a._inheritsLoose(D,w);var x=D.prototype;x.normalizeCtorArgs=function(y,z,A,C,B){return!y||"esri.geometry.SpatialReference"!==y.declaredClass&&null==y.wkid?"object"===typeof y?(y.spatialReference=null==y.spatialReference?l.WGS84:
y.spatialReference,y):{xmin:y,ymin:z,xmax:A,ymax:C,spatialReference:null==B?l.WGS84:B}:{spatialReference:y,xmin:0,ymin:0,xmax:0,ymax:0}};D.fromBounds=function(y,z){return new v({xmin:y[0],ymin:y[1],xmax:y[2],ymax:y[3],spatialReference:z})};D.fromPoint=function(y){return new v({xmin:y.x,ymin:y.y,zmin:y.z,xmax:y.x,ymax:y.y,zmax:y.z,spatialReference:y.spatialReference})};x.centerAt=function(y){const z=this.center;return null!=y.z&&this.hasZ?this.offset(y.x-z.x,y.y-z.y,y.z-z.z):this.offset(y.x-z.x,y.y-
z.y)};x.clone=function(){const y=new v;y.xmin=this.xmin;y.ymin=this.ymin;y.xmax=this.xmax;y.ymax=this.ymax;y.spatialReference=this.spatialReference;null!=this.zmin&&(y.zmin=this.zmin,y.zmax=this.zmax);null!=this.mmin&&(y.mmin=this.mmin,y.mmax=this.mmax);return y};x.contains=function(y){if(!y)return!1;const z=this.spatialReference,A=y.spatialReference;z&&A&&!z.equals(A)&&f.canProject(z,A)&&(y=z.isWebMercator?f.geographicToWebMercator(y):f.webMercatorToGeographic(y,!0));return"point"===y.type?q.extentContainsPoint(this,
y):"extent"===y.type?q.extentContainsExtent(this,y):!1};x.equals=function(y){if(this===y)return!0;if(c.isNone(y))return!1;const z=this.spatialReference,A=y.spatialReference;z&&A&&!z.equals(A)&&f.canProject(z,A)&&(y=z.isWebMercator?f.geographicToWebMercator(y):f.webMercatorToGeographic(y,!0));return this.xmin===y.xmin&&this.ymin===y.ymin&&this.zmin===y.zmin&&this.mmin===y.mmin&&this.xmax===y.xmax&&this.ymax===y.ymax&&this.zmax===y.zmax&&this.mmax===y.mmax};x.expand=function(y){y=.5*(1-y);var z=this.width*
y;const A=this.height*y;this.xmin+=z;this.ymin+=A;this.xmax-=z;this.ymax-=A;this.hasZ&&(z=(this.zmax-this.zmin)*y,this.zmin+=z,this.zmax-=z);this.hasM&&(y*=this.mmax-this.mmin,this.mmin+=y,this.mmax-=y);return this};x.intersects=function(y){if(c.isNone(y))return!1;"mesh"===y.type&&(y=y.extent);const z=this.spatialReference,A=y.spatialReference;z&&A&&!z.equals(A)&&f.canProject(z,A)&&(y=z.isWebMercator?f.geographicToWebMercator(y):f.webMercatorToGeographic(y,!0));return m.getFeatureExtentIntersector(y.type)(this,
y)};x.normalize=function(){const y=this._normalize(!1,!0);return Array.isArray(y)?y:[y]};x.offset=function(y,z,A){this.xmin+=y;this.ymin+=z;this.xmax+=y;this.ymax+=z;null!=A&&(this.zmin+=A,this.zmax+=A);return this};x.shiftCentralMeridian=function(){return this._normalize(!0)};x.union=function(y){if(this===y)return this;this.xmin=Math.min(this.xmin,y.xmin);this.ymin=Math.min(this.ymin,y.ymin);this.xmax=Math.max(this.xmax,y.xmax);this.ymax=Math.max(this.ymax,y.ymax);if(this.hasZ||y.hasZ)this.zmin=
h(Math.min,this.zmin,y.zmin),this.zmax=h(Math.max,this.zmax,y.zmax);if(this.hasM||y.hasM)this.mmin=h(Math.min,this.mmin,y.mmin),this.mmax=h(Math.max,this.mmax,y.mmax);return this};x.intersection=function(y){if(this===y)return this;if(c.isNone(y)||!this.intersects(y))return null;this.xmin=Math.max(this.xmin,y.xmin);this.ymin=Math.max(this.ymin,y.ymin);this.xmax=Math.min(this.xmax,y.xmax);this.ymax=Math.min(this.ymax,y.ymax);if(this.hasZ||y.hasZ)this.zmin=h(Math.max,this.zmin,y.zmin),this.zmax=h(Math.min,
this.zmax,y.zmax);if(this.hasM||y.hasM)this.mmin=h(Math.max,this.mmin,y.mmin),this.mmax=h(Math.min,this.mmax,y.mmax);return this};x.toJSON=function(y){return this.write({},y)};x._shiftCM=function(y=t.getInfo(this.spatialReference)){if(!y||!this.spatialReference)return this;const z=this.spatialReference,A=this._getCM(y);if(A){const C=z.isWebMercator?f.webMercatorToGeographic(A):A;this.xmin-=A.x;this.xmax-=A.x;z.isWebMercator||(C.x=this._normalizeX(C.x,y).x);this.spatialReference=new l(e.replace(z.isWGS84?
y.altTemplate:y.wkTemplate,{Central_Meridian:C.x}))}return this};x._getCM=function(y){let z=null;const [A,C]=y.valid;y=this.xmin;const B=this.xmax;y>=A&&y<=C&&B>=A&&B<=C||(z=this.center);return z};x._normalize=function(y,z,A){const C=this.spatialReference;if(!C)return this;A=A||t.getInfo(C);if(!A)return this;const B=this._getParts(A).map(J=>J.extent);if(2>B.length)return B[0]||this;if(2<B.length)return y?this._shiftCM(A):this.set({xmin:A.valid[0],xmax:A.valid[1]});if(y)return this._shiftCM(A);if(z)return B;
let E=!0,G=!0;B.forEach(J=>{J.hasZ||(E=!1);J.hasM||(G=!1)});return{rings:B.map(J=>{const K=[[J.xmin,J.ymin],[J.xmin,J.ymax],[J.xmax,J.ymax],[J.xmax,J.ymin],[J.xmin,J.ymin]];if(E){var F=(J.zmax-J.zmin)/2;for(let H=0;H<K.length;H++)K[H].push(F)}if(G)for(J=(J.mmax-J.mmin)/2,F=0;F<K.length;F++)K[F].push(J);return K}),hasZ:E,hasM:G,spatialReference:C}};x._getParts=function(y){let z=this.cache._parts;if(!z){z=[];const {ymin:F,ymax:H,spatialReference:I}=this;var A=this.width,C=this.xmin,B=this.xmax;y=y||
t.getInfo(I);const [L,Q]=y.valid;var E=this._normalizeX(this.xmin,y);var G=E.x,J=E.frameId;E=this._normalizeX(this.xmax,y);y=E.x;E=E.frameId;var K=G===y&&0<A;if(A>2*Q){A=new v(C<B?G:y,F,Q,H,I);C=new v(L,F,C<B?y:G,H,I);B=new v(0,F,Q,H,I);G=new v(L,F,0,H,I);y=[];K=[];A.contains(B)&&y.push(J);A.contains(G)&&K.push(J);C.contains(B)&&y.push(E);C.contains(G)&&K.push(E);for(let Z=J+1;Z<E;Z++)y.push(Z),K.push(Z);z.push({extent:A,frameIds:[J]},{extent:C,frameIds:[E]},{extent:B,frameIds:y},{extent:G,frameIds:K})}else G>
y||K?z.push({extent:new v(G,F,Q,H,I),frameIds:[J]},{extent:new v(L,F,y,H,I),frameIds:[E]}):z.push({extent:new v(G,F,y,H,I),frameIds:[J]});this.cache._parts=z}E=this.hasZ;A=this.hasM;if(E||A)for(J={},E&&(J.zmin=this.zmin,J.zmax=this.zmax),A&&(J.mmin=this.mmin,J.mmax=this.mmax),E=0;E<z.length;E++)z[E].extent.set(J);return z};x._normalizeX=function(y,z){const [A,C]=z.valid;z=2*C;var B=0;y>C?(B=Math.ceil(Math.abs(y-C)/z),y-=B*z):y<A&&(B=Math.ceil(Math.abs(y-A)/z),y+=B*z,B=-B);return{x:y,frameId:B}};a._createClass(D,
[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const y=new g({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(y.z=.5*(this.zmin+this.zmax));this.hasM&&(y.m=
.5*(this.mmin+this.mmax));return y}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return D}(k);b.__decorate([d.property({readOnly:!0})],p.prototype,"cache",null);b.__decorate([d.property({readOnly:!0})],p.prototype,"center",
null);b.__decorate([d.property({readOnly:!0})],p.prototype,"extent",null);b.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],p.prototype,"hasM",null);b.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],p.prototype,"hasZ",null);b.__decorate([d.property({readOnly:!0})],p.prototype,"height",null);b.__decorate([d.property({readOnly:!0})],p.prototype,"width",null);b.__decorate([d.property({type:Number,json:{type:[Number,String],write:{enabled:!0,
allowNull:!0}}})],p.prototype,"xmin",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],p.prototype,"ymin",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],p.prototype,"mmin",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],p.prototype,"zmin",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],
p.prototype,"xmax",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],p.prototype,"ymax",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],p.prototype,"mmax",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],p.prototype,"zmax",void 0);p=v=b.__decorate([n.subclass("esri.geometry.Extent")],p);p.prototype.toJSON.isDefaultToJSON=
!0;return p})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,c,e,d,p,r,u,n,k){c=function(g){function l(...m){m=g.call(this,...m)||this;m.type=null;m.hasM=!1;m.hasZ=!1;m.spatialReference=k.WGS84;
return m}a._inheritsLoose(l,g);var q=l.prototype;q.readSpatialReference=function(m,t){if(m instanceof k)return m;if(null!=m){const f=new k;f.read(m,t);return f}return m};q.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};q.clearCache=function(){this.notifyChange("cache")};q.getCacheValue=function(m){return this.cache[m]};q.setCacheValue=function(m,t){this.cache[m]=t};a._createClass(l,[{key:"cache",get:function(){this.commitProperty("spatialReference");
return{}}},{key:"extent",get:function(){return null}}]);return l}(c.JSONSupport);b.__decorate([e.property()],c.prototype,"type",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([e.property({readOnly:!0})],c.prototype,"extent",null);b.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(g){return{enabled:g}}}}})],c.prototype,"hasM",void 0);b.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(g){return{enabled:g}}}}})],c.prototype,"hasZ",
void 0);b.__decorate([e.property({type:k,json:{write:!0}})],c.prototype,"spatialReference",void 0);b.__decorate([u.reader("spatialReference")],c.prototype,"readSpatialReference",null);return c=b.__decorate([n.subclass("esri.geometry.Geometry")],c)})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v){function w(z){return z&&("esri.geometry.SpatialReference"===z.declaredClass||null!=z.wkid)}var D;const x=[0,0],y=c.getLogger("esri.geometry.Point");c=D=function(z){function A(...B){B=z.call(this,...B)||this;B.x=0;B.y=0;B.z=void 0;B.m=void 0;B.type="point";return B}a._inheritsLoose(A,z);A.copy=function(B,E){E._set("x",B._get("x"));E._set("y",B._get("y"));E._set("z",B._get("z"));E._set("m",B._get("m"));B=B._get("spatialReference");E._set("spatialReference",
Object.isFrozen(B)?B:B.clone())};var C=A.prototype;C.normalizeCtorArgs=function(B,E,G,J,K){let F;if(Array.isArray(B))F=B,K=E,B=F[0],E=F[1],G=F[2],J=F[3];else if(B&&"object"===typeof B){if(F=B,B=null!=F.x?F.x:F.longitude,E=null!=F.y?F.y:F.latitude,G=F.z,J=F.m,(K=F.spatialReference)&&"esri.geometry.SpatialReference"!==K.declaredClass&&(K=new m(K)),null!=F.longitude||null!=F.latitude)null==F.longitude?y.warn(".longitude\x3d","Latitude was defined without longitude"):null==F.latitude?y.warn(".latitude\x3d",
"Longitude was defined without latitude"):!F.declaredClass&&K&&K.isWebMercator&&(E=v.lngLatToXY(F.longitude,F.latitude,x),B=E[0],E=E[1])}else w(G)?(K=G,G=null):w(J)&&(K=J,J=null);B={x:B,y:E};null==B.x&&null!=B.y?y.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==B.y&&null!=B.x&&y.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=K&&(B.spatialReference=K);null!=G&&(B.z=G);null!=J&&(B.m=J);return B};C.writeX=function(B,E,G){E[G]=isNaN(B)?"NaN":B};C.readX=
function(B){return"string"===typeof B?NaN:B};C.clone=function(){const B=new D;B.x=this.x;B.y=this.y;B.z=this.z;B.m=this.m;B.spatialReference=this.spatialReference;return B};C.copy=function(B){D.copy(B,this);return this};C.equals=function(B){if(e.isNone(B))return!1;const {x:E,y:G,z:J,m:K,spatialReference:F}=this,{z:H,m:I}=B;let {x:L,y:Q,spatialReference:Z}=B;if(!F.equals(Z))if(F.isWebMercator&&Z.isWGS84)[L,Q]=v.lngLatToXY(L,Q),Z=F;else if(F.isWGS84&&Z.isWebMercator)[L,Q]=v.xyToLngLat(L,Q),Z=F;else return!1;
return E===L&&G===Q&&J===H&&K===I&&F.wkid===Z.wkid};C.offset=function(B,E,G){return t.offsetPoint(this,B,E,G)};C.normalize=function(){if(!this.spatialReference)return this;var B=h.getInfo(this.spatialReference);if(!B)return this;let E=this.x;const [G,J]=B.valid;B=2*J;let K;E>J?(K=Math.ceil(Math.abs(E-J)/B),E-=K*B):E<G&&(K=Math.ceil(Math.abs(E-G)/B),E+=K*B);this._set("x",E);return this};C.distance=function(B){return f.distance(this,B)};C.toArray=function(){const B=this.hasZ,E=this.hasM;return B&&E?
[this.x,this.y,this.z,this.m]:B?[this.x,this.y,this.z]:E?[this.x,this.y,this.m]:[this.x,this.y]};C.toJSON=function(B){return this.write({},B)};a._createClass(A,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(B){const E=void 0!==this._get("m");B!==E&&(this._set("m",B?0:void 0),this._set("hasM",B))}},{key:"hasZ",
get:function(){return void 0!==this.z},set:function(B){const E=void 0!==this._get("z");B!==E&&(this._set("z",B?0:void 0),this._set("hasZ",B))}},{key:"latitude",get:function(){const {spatialReference:B,x:E,y:G}=this;if(B){if(B.isWebMercator)return v.xyToLngLat(E,G,x)[1];if(B.isGeographic)return G}return null},set:function(B){const {spatialReference:E,x:G}=this;E&&(E.isWebMercator?this._set("y",v.lngLatToXY(G,B,x)[1]):E.isGeographic&&this._set("y",B),this._set("latitude",B))}},{key:"longitude",get:function(){const {x:B,
y:E,spatialReference:G}=this;if(G){if(G.isWebMercator)return v.xyToLngLat(B,E,x)[0];if(G.isGeographic)return B}return null},set:function(B){const {y:E,spatialReference:G}=this;G&&(G.isWebMercator?this._set("x",v.lngLatToXY(B,E,x)[0]):G.isGeographic&&this._set("x",B),this._set("longitude",B))}}]);return A}(q);b.__decorate([d.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);b.__decorate([d.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);b.__decorate([d.property({type:Number})],c.prototype,"latitude",null);b.__decorate([d.property({type:Number})],c.prototype,"longitude",null);b.__decorate([d.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),u.cast(z=>isNaN(z)?z:l.ensureNumber(z))],c.prototype,"x",void 0);b.__decorate([g.writer("x")],c.prototype,"writeX",null);b.__decorate([n.reader("x")],c.prototype,"readX",null);
b.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"y",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],c.prototype,"z",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],c.prototype,"m",void 0);c=D=b.__decorate([k.subclass("esri.geometry.Point")],c);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,b,c){function e(u){const n="__accessorMetadata__"in u?b.ensureType(u):u;return function(...k){k.push(n);if("number"===typeof k[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,k)}}function d(u,n,k,g){c.getOwnPropertyMetadata(u,n).cast=g}function p(u){return(n,k)=>{c.getOwnPropertyMetadata(n,u).cast=n[k]}}const r=Object.prototype.toString;a.cast=function(...u){if(3!==u.length||"string"!==typeof u[1]){if(1===
u.length&&"[object Function]"===r.call(u[0]))return e(u[0]);if(1===u.length&&"string"===typeof u[0])return p(u[0])}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/offset":function(){define(["exports"],function(a){a.offsetCoordsX=function(b,c){b[0]+=c;return b};a.offsetPoint=function(b,c,e,d){b.x+=c;b.y+=e;if(null!=d){var p;b.z=(null!=(p=b.z)?p:0)+d}return b};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=function(b,c){const e=b.x-c.x,d=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return Math.sqrt(e*e+d*d+b*b)};a.squareDistance=function(b,c){const e=b.x-c.x,d=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return e*e+d*d+b*b};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/webMercatorUtils":function(){define("exports ../../core/lang ../../core/maybe ../SpatialReference ./Ellipsoid ./spatialReferenceUtils".split(" "),
function(a,b,c,e,d,p){function r(l,q,m,t,f){f.spatialReference=m;if("x"in l&&"x"in f)[f.x,f.y]=q(l.x,l.y,g,t);else if("xmin"in l&&"xmin"in f)[f.xmin,f.ymin]=q(l.xmin,l.ymin,g,t),[f.xmax,f.ymax]=q(l.xmax,l.ymax,g,t);else if("paths"in l&&"paths"in f||"rings"in l&&"rings"in f){l="paths"in l?l.paths:l.rings;m=[];for(let v=0;v<l.length;v++){const w=l[v];var h=[];m.push(h);for(let D=0;D<w.length;D++)h.push(q(w[D][0],w[D][1],[0,0],t)),2<w[D].length&&h[D].push(w[D][2]),3<w[D].length&&h[D].push(w[D][3])}"paths"in
f?f.paths=m:f.rings=m}else if("points"in l&&"points"in f){l=l.points;m=[];for(h=0;h<l.length;h++)m[h]=q(l[h][0],l[h][1],[0,0],t),2<l[h].length&&m[h].push(l[h][2]),3<l[h].length&&m[h].push(l[h][3]);f.points=m}return f}function u(l,q){const m=l&&(null!=l.wkid||null!=l.wkt?l:l.spatialReference),t=q&&(null!=q.wkid||null!=q.wkt?q:q.spatialReference);return l&&"type"in l&&"mesh"===l.type||q&&"type"in q&&"mesh"===q.type||!m||!t?!1:p.equals(t,m)?!0:p.isWebMercator(t)&&p.isWGS84(m)||p.isWebMercator(m)&&p.isWGS84(t)}
function n(l,q,m=[0,0]){89.99999<q?q=89.99999:-89.99999>q&&(q=-89.99999);q*=.017453292519943;m[0]=.017453292519943*l*d.earth.radius;m[1]=d.earth.halfSemiMajorAxis*Math.log((1+Math.sin(q))/(1-Math.sin(q)));return m}function k(l,q,m=[0,0],t=!1){l=l/d.earth.radius*57.29577951308232;m[0]=t?l:l-360*Math.floor((l+180)/360);m[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-q/d.earth.radius)));return m}const g=[0,0];a.canProject=u;a.geographicToWebMercator=function(l,q=!1,m=b.clone(l)){return r(l,n,
e.WebMercator,q,m)};a.lngLatToXY=n;a.project=function(l,q){if(c.isNone(l))return null;const m=l.spatialReference;q=q&&(null!=q.wkid||null!=q.wkt?q:q.spatialReference);return u(m,q)?p.equals(m,q)?b.clone(l):p.isWebMercator(q)?r(l,n,e.WebMercator,!1,b.clone(l)):p.isWGS84(q)?r(l,k,e.WGS84,!1,b.clone(l)):null:null};a.webMercatorToGeographic=function(l,q=!1,m=b.clone(l)){return r(l,k,e.WGS84,q,m)};a.x2lon=function(l){return l/d.earth.radius};a.xyToLngLat=k;a.y2lat=function(l){return Math.PI/2-2*Math.atan(Math.exp(-l/
d.earth.radius))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b){let c=function(){function r(u,n,k,g){this.semiMajorAxis=u;this.flattening=n;this.outerAtmosphereRimWidth=k;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=
this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=g?g:2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}b._createClass(r,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return r}();const e=new c(6378137,1/298.257223563,3E5,.006694379990137799),d=new c(3396190,.005886007555525457,23E4),p=new c(1737400,0,0);a.Ellipsoid=c;a.earth=e;a.mars=d;a.moon=p;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/contains":function(){define(["exports","../../core/maybe"],function(a,b){function c(n,k){return e(n,k[0],k[1])}function e(n,k,g,l){return k>=n.xmin&&k<=n.xmax&&g>=n.ymin&&g<=n.ymax?null!=l&&n.hasZ?l>=n.zmin&&l<=n.zmax:!0:!1}function d(n,k){return p(n.rings,k)}function p(n,k){if(!n)return!1;if(!Array.isArray(n[0][0]))return r(!1,n,k);let g=!1;for(let l=0,q=n.length;l<q;l++)g=r(g,n[l],k);return g}function r(n,k,
g){const [l,q]=g;g=0;for(let m=0,t=k.length;m<t;m++){g++;g===t&&(g=0);const [f,h]=k[m],[v,w]=k[g];(h<q&&w>=q||w<q&&h>=q)&&f+(q-h)/(w-h)*(v-f)<l&&(n=!n)}return n}const u=[0,0];a.extentContainsCoords2D=c;a.extentContainsCoords3D=function(n,k){return e(n,k[0],k[1],k[2])};a.extentContainsExtent=function(n,k){const {xmin:g,ymin:l,zmin:q,xmax:m,ymax:t,zmax:f}=k;return n.hasZ&&k.hasZ?e(n,g,l,q)&&e(n,g,t,q)&&e(n,m,t,q)&&e(n,m,l,q)&&e(n,g,l,f)&&e(n,g,t,f)&&e(n,m,t,f)&&e(n,m,l,f):e(n,g,l)&&e(n,g,t)&&e(n,m,
t)&&e(n,m,l)};a.extentContainsMultipoint=function(n,k){if(!k.points||k.points.length)return!1;for(const g of k.points)if(!c(n,g))return!1;return!0};a.extentContainsPoint=function(n,k){return b.isSome(k)?e(n,k.x,k.y,k.z):!1};a.extentContainsXYZ=e;a.polygonContainsCoords=d;a.polygonContainsPoint=function(n,k){u[1]=k.y;u[0]=k.x;return d(n,u)};a.ringsContainsCoords=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/intersectsBase":function(){define(["exports",
"./contains"],function(a,b){function c(v,w){return b.extentContainsPoint(v,w)}function e(v,w){var D=v.hasZ&&w.hasZ;if(v.xmin<=w.xmin){var x=w.xmin;if(v.xmax<x)return!1}else if(x=v.xmin,w.xmax<x)return!1;if(v.ymin<=w.ymin){if(x=w.ymin,v.ymax<x)return!1}else if(x=v.ymin,w.ymax<x)return!1;if(D&&w.hasZ)if(v.zmin<=w.zmin){if(D=w.zmin,v.zmax<D)return!1}else if(D=v.zmin,w.zmax<D)return!1;return!0}function d(v,w){const {points:D,hasZ:x}=w;w=x?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const y of D)if(w(v,
y))return!0;return!1}function p(v,w){return r(v,w.rings)}function r(v,w){g[0]=v.xmin;g[1]=v.ymax;l[0]=v.xmax;l[1]=v.ymax;q[0]=v.xmin;q[1]=v.ymin;m[0]=v.xmax;m[1]=v.ymin;for(var D of t)if(b.ringsContainsCoords(w,D))return!0;for(const x of w)if(x.length){w=x[0];if(b.extentContainsCoords2D(v,w))return!0;for(D=1;D<x.length;D++){const y=x[D];if(b.extentContainsCoords2D(v,y)||n(w,y,f))return!0;w=y}}return!1}function u(v,w){g[0]=v.xmin;g[1]=v.ymax;l[0]=v.xmax;l[1]=v.ymax;q[0]=v.xmin;q[1]=v.ymin;m[0]=v.xmax;
m[1]=v.ymin;w=w.paths;for(const D of w){if(!w.length)continue;let x=D[0];if(b.extentContainsCoords2D(v,x))return!0;for(let y=1;y<D.length;y++){const z=D[y];if(b.extentContainsCoords2D(v,z)||n(x,z,f))return!0;x=z}}return!1}function n(v,w,D){for(let x=0;x<D.length;x++)if(k(v,w,D[x][0],D[x][1]))return!0;return!1}function k(v,w,D,x,y){const [z,A]=v,[C,B]=w,[E,G]=D,[J,K]=x;var F=J-E;v=z-E;w=C-z;const H=K-G;D=A-G;x=B-A;const I=H*w-F*x;if(0===I)return!1;F=(F*D-H*v)/I;v=(w*D-x*v)/I;return 0<=F&&1>=F&&0<=
v&&1>=v?(y&&(y[0]=z+F*(C-z),y[1]=A+F*(B-A)),!0):!1}const g=[0,0],l=[0,0],q=[0,0],m=[0,0],t=[g,l,q,m],f=[[q,g],[g,l],[l,m],[m,q]],h=[0,0];a.extentIntersectsExtent=e;a.extentIntersectsMultipoint=d;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=p;a.extentIntersectsPolyline=u;a.extentIntersectsRings=r;a.getFeatureExtentIntersector=function(v){switch(v){case "esriGeometryEnvelope":case "extent":return e;case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return c;
case "esriGeometryPolygon":case "polygon":return p;case "esriGeometryPolyline":case "polyline":return u}};a.isSelfIntersecting=function(v){for(let B=0;B<v.length;B++){const E=v[B];for(var w=0;w<E.length-1;w++){var D=E[w],x=E[w+1];for(var y=B+1;y<v.length;y++)for(var z=0;z<v[y].length-1;z++){var A=v[y][z],C=v[y][z+1];if(k(D,x,A,C,h)&&!(h[0]===D[0]&&h[1]===D[1]||h[0]===A[0]&&h[1]===A[1]||h[0]===x[0]&&h[1]===x[1]||h[0]===C[0]&&h[1]===C[1]))return!0}}w=E.length;if(!(4>=w))for(D=0;D<w-3;D++)for(x=w-1,
0===D&&(x=w-2),y=E[D],z=E[D+1],A=D+2;A<x;A++){C=E[A];const G=E[A+1];if(k(y,z,C,G,h)&&!(h[0]===y[0]&&h[1]===y[1]||h[0]===C[0]&&h[1]===C[1]||h[0]===z[0]&&h[1]===z[1]||h[0]===G[0]&&h[1]===G[1]))return!0}}return!1};a.segmentIntersects=k;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/intl/locale":function(){define(["exports"],function(a){function b(){var t,f;return null!=(t=null!=g?g:null==(f=globalThis.navigator)?void 0:f.language)?t:"en"}function c(){void 0===
k&&(k=b());return k}function e(t=c()){t=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(t);return null==t?void 0:t[1].toLowerCase()}function d(){var t;const f=null!=(t=n)?t:b();k!==f&&(k=f,[...m].forEach(h=>{h.call(null,f)}),[...q].forEach(h=>{h.call(null,f)}))}var p,r,u;let n=void 0,k=void 0;const g=null!=(p=null==(r=globalThis.esriConfig)?void 0:r.locale)?p:null==(u=globalThis.dojoConfig)?void 0:u.locale,l={he:!0,ar:!0},q=[],m=[];null==globalThis.addEventListener?void 0:globalThis.addEventListener("languagechange",
d);a.beforeLocaleChange=function(t){m.push(t);return{remove(){q.splice(m.indexOf(t),1)}}};a.getDefaultLocale=b;a.getLanguage=e;a.getLocale=c;a.onLocaleChange=function(t){q.push(t);return{remove(){q.splice(q.indexOf(t),1)}}};a.prefersRTL=function(t=c()){t=e(t);return void 0!==t&&(l[t]||!1)};a.setLocale=function(t){n=t?t:void 0;d()};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;const m=new e.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});c=q=function(t){function f(v){v=t.call(this,v)||this;v.categories=null;v.disableExtraQuery=!1;v.extent=null;v.filter=null;v.num=10;v.query=null;v.sortField=null;v.start=1;return v}a._inheritsLoose(f,t);var h=f.prototype;h.clone=function(){return new q({categories:this.categories?d.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,
extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};h.toRequestOptions=function(v,w){let D;this.categories&&(D=this.categories.map(z=>Array.isArray(z)?JSON.stringify(z):z));let x;if(this.extent){var y=l.project(this.extent,g.WGS84);p.isSome(y)&&(x=`${y.xmin},${y.ymin},${y.xmax},${y.ymax}`)}y=this.query;!this.disableExtraQuery&&v.extraQuery&&(y="("+y+")"+v.extraQuery);v={categories:D,bbox:x,
q:y,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(v.sortField=this.sortField.split(",").map(z=>m.toJSON(z.trim())).join(","),v.sortOrder=this.sortOrder);return{query:{...w,...v}}};a._createClass(f,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(v){"asc"!==v&&"desc"!==v||this._set("sortOrder",v)}}]);return f}(c);b.__decorate([r.property()],c.prototype,"categories",void 0);b.__decorate([r.property()],c.prototype,
"disableExtraQuery",void 0);b.__decorate([r.property({type:k})],c.prototype,"extent",void 0);b.__decorate([r.property()],c.prototype,"filter",void 0);b.__decorate([r.property()],c.prototype,"num",void 0);b.__decorate([r.property()],c.prototype,"query",void 0);b.__decorate([r.property()],c.prototype,"sortField",void 0);b.__decorate([r.property()],c.prototype,"sortOrder",null);b.__decorate([r.property()],c.prototype,"start",void 0);return c=q=b.__decorate([n.subclass("esri.portal.PortalQueryParams")],
c)})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){let c=function(){function e(p,r={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=p;this.options=r;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this._invertMap(p);this.apiValues=this._getKeysSorted(this.apiToJSON);this.jsonValues=this._getKeysSorted(this.jsonToAPI);this.read=u=>this.fromJSON(u);this.write=(u,n,k)=>{u=this.toJSON(u);void 0!==u&&b.setDeepValue(k,u,n)};this.write.isJSONMapWriter=!0}var d=e.prototype;
d.toJSON=function(p){return this.apiToJSON.hasOwnProperty(p)?(p=this.apiToJSON[p],this.options.useNumericKeys?+p:p):this.options.ignoreUnknown?void 0:p};d.fromJSON=function(p){return this.jsonToAPI.hasOwnProperty(p)?this.jsonToAPI[p]:this.options.ignoreUnknown?void 0:p};d._invertMap=function(p){const r={};for(const u in p)r[p[u]]=u;return r};d._getKeysSorted=function(p){const r=[];for(const u in p)r.push(u);r.sort();return r};return e}();a.JSONMap=c;a.strict=function(){return function(e,d){return new c(e,
{ignoreUnknown:!0,...d})}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u){c=function(n){function k(g){g=n.call(this,g)||this;g.nextQueryParams=
null;g.queryParams=null;g.results=null;g.total=null;return g}a._inheritsLoose(k,n);return k}(c);b.__decorate([e.property()],c.prototype,"nextQueryParams",void 0);b.__decorate([e.property()],c.prototype,"queryParams",void 0);b.__decorate([e.property()],c.prototype,"results",void 0);b.__decorate([e.property()],c.prototype,"total",void 0);return c=b.__decorate([u.subclass("esri.portal.PortalQueryResult")],c)})},"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;d=q=function(m){function t(...h){h=m.call(this,...h)||this;h.access=null;h.created=null;h.culture=null;h.description=null;h.email=null;h.fullName=null;h.modified=null;h.orgId=null;h.portal=null;h.preferredView=null;h.privileges=null;h.region=null;h.role=null;h.roleId=null;h.sourceJSON=null;h.units=null;h.username=null;h.userType=null;return h}b._inheritsLoose(t,m);var f=t.prototype;f.addItem=function(h){const v=h&&h.item;var w=h&&h.data;h=h&&h.folder;const D=
{method:"post"};v&&(D.query=v.createPostQuery(),null!=w&&("string"===typeof w?D.query.text=w:"object"===typeof w&&(D.query.text=JSON.stringify(w))));w=this.userContentUrl;h&&(w+="/"+("string"===typeof h?h:h.id));return this.portal._request(w+"/addItem",D).then(x=>{v.id=x.id;v.portal=this.portal;return v.loaded?v.reload():v.load()})};f.deleteItem=function(h){let v=this.userContentUrl;h.ownerFolder&&(v+="/"+h.ownerFolder);return this.portal._request(v+`/items/${h.id}/delete`,{method:"post"}).then(()=>
{h.id=null;h.portal=null})};f.deleteItems=function(h){const v=this.userContentUrl+"/deleteItems";var w=h.map(D=>D.id);return w.length?(w={method:"post",query:{items:w.join(",")}},this.portal._request(v,w).then(()=>{h.forEach(D=>{D.id=null;D.portal=null})})):Promise.resolve(void 0)};f.fetchFolders=function(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(h=>h&&h.folders?h.folders.map(v=>{v=g.fromJSON(v);v.portal=this.portal;return v}):[])};f.fetchGroups=function(){return this.portal._request(this.url).then(h=>
h&&h.groups?h.groups.map(v=>{v=l.fromJSON(v);v.portal=this.portal;return v}):[])};f.fetchItems=function(h){h||(h={});let v=this.userContentUrl;h.folder&&(v+="/"+h.folder.id);let w;return(new Promise((D,x)=>a(["./PortalItem"],y=>D(Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}))),x))).then(({default:D})=>{w=D;return this.portal._request(v,{query:{folders:!1,num:h.num||10,start:h.start||1,sortField:h.sortField||"created",sortOrder:h.sortOrder||"asc"}})}).then(D=>
{let x;return D&&D.items?(x=D.items.map(y=>{y=w.fromJSON(y);y.portal=this.portal;return y}),Promise.all(x.map(y=>y.load())).catch(y=>y).then(()=>({items:x,nextStart:D.nextStart,total:D.total}))):{items:[],nextStart:-1,total:0}})};f.fetchTags=function(){return this.portal._request(this.url+"/tags").then(h=>h.tags)};f.getThumbnailUrl=function(h){let v=this.thumbnailUrl;v&&h&&(v+=`&w=${h}`);return v};f.queryFavorites=function(h){return this.favGroupId?(this._favGroup||(this._favGroup=new l({id:this.favGroupId,
portal:this.portal})),this._favGroup.queryItems(h)):Promise.reject(new e("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};f.toJSON=function(){throw new e("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};t.fromJSON=function(h){if(!h)return null;if(h.declaredClass)throw Error("JSON object is already hydrated");const v=new q;v.sourceJSON=h;v.read(h);return v};b._createClass(t,[{key:"thumbnailUrl",get:function(){const h=this.url,v=this.thumbnail;
return h&&v?this.portal._normalizeUrl(`${h}/info/${v}?f=json`):null}},{key:"userContentUrl",get:function(){const h=this.get("portal.restUrl");return h?`${h}/content/users/${this.username}`:null}},{key:"url",get:function(){const h=this.get("portal.restUrl");return h?`${h}/community/users/${this.username}`:null}}]);return t}(d.JSONSupport);c.__decorate([p.property()],d.prototype,"access",void 0);c.__decorate([p.property({type:Date})],d.prototype,"created",void 0);c.__decorate([p.property()],d.prototype,
"culture",void 0);c.__decorate([p.property()],d.prototype,"description",void 0);c.__decorate([p.property()],d.prototype,"email",void 0);c.__decorate([p.property()],d.prototype,"favGroupId",void 0);c.__decorate([p.property()],d.prototype,"fullName",void 0);c.__decorate([p.property({type:Date})],d.prototype,"modified",void 0);c.__decorate([p.property()],d.prototype,"orgId",void 0);c.__decorate([p.property()],d.prototype,"portal",void 0);c.__decorate([p.property()],d.prototype,"preferredView",void 0);
c.__decorate([p.property()],d.prototype,"privileges",void 0);c.__decorate([p.property()],d.prototype,"region",void 0);c.__decorate([p.property()],d.prototype,"role",void 0);c.__decorate([p.property()],d.prototype,"roleId",void 0);c.__decorate([p.property()],d.prototype,"sourceJSON",void 0);c.__decorate([p.property()],d.prototype,"thumbnail",void 0);c.__decorate([p.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);c.__decorate([p.property()],d.prototype,"units",void 0);c.__decorate([p.property({readOnly:!0})],
d.prototype,"userContentUrl",null);c.__decorate([p.property({readOnly:!0})],d.prototype,"url",null);c.__decorate([p.property()],d.prototype,"username",void 0);c.__decorate([p.property()],d.prototype,"userType",void 0);return d=q=c.__decorate([k.subclass("esri.portal.PortalUser")],d)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){e=function(k){function g(l){l=k.call(this,l)||this;l.created=null;l.id=null;l.portal=null;l.title=null;l.username=null;return l}a._inheritsLoose(g,k);g.prototype.toJSON=function(){throw new c("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a._createClass(g,[{key:"url",get:function(){const l=this.get("portal.restUrl");return l?`${l}/content/users/${this.username}/${this.id}`:null}}]);return g}(e.JSONSupport);b.__decorate([d.property({type:Date})],
e.prototype,"created",void 0);b.__decorate([d.property()],e.prototype,"id",void 0);b.__decorate([d.property()],e.prototype,"portal",void 0);b.__decorate([d.property()],e.prototype,"title",void 0);b.__decorate([d.property({readOnly:!0})],e.prototype,"url",null);b.__decorate([d.property()],e.prototype,"username",void 0);return e=b.__decorate([n.subclass("esri.portal.PortalFolder")],e)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,c,e,d,p,r,u,n,k){e=function(g){function l(m){m=g.call(this,m)||this;m.access=null;m.created=null;m.description=null;m.id=null;m.isInvitationOnly=!1;m.modified=null;m.owner=null;m.portal=null;m.snippet=null;m.sortField=null;m.sortOrder=null;m.tags=null;m.title=null;return m}a._inheritsLoose(l,g);var q=l.prototype;q.fetchCategorySchema=function(m){return this.portal._request(this.url+"/categorySchema",m).then(t=>{t=t.categorySchema||[];return t.some(f=>"contentCategorySetsGroupQuery.LivingAtlas"===
f.source)?this._fetchCategorySchemaSet("LivingAtlas",m):t})};q.fetchMembers=function(m){return this.portal._request(this.url+"/users",m)};q.getThumbnailUrl=function(m){let t=this.thumbnailUrl;t&&m&&(t+=`&w=${m}`);return t};q.toJSON=function(){throw new c("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};q.queryItems=function(m,t){m=u.ensureType(k,m);if(5<parseFloat(this.portal.currentVersion))return m=m||new k,this.portal._queryPortal(`/content/groups/${this.id}/search`,
m,"PortalItem",t);m=m?m.clone():new k;m.query="group:"+this.id+(m.query?" "+m.query:"");return this.portal.queryItems(m,t)};q._fetchCategorySchemaSet=function(m,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(f=>{if(f=f.contentCategorySetsGroupQuery){const h=new k;h.disableExtraQuery=!0;h.num=1;h.query=f;return this.portal.queryGroups(h,t)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(f=>{if(f.total){f=f.results[0];const h=
new k;h.num=1;h.query=`typekeywords:"${m}"`;return f.queryItems(h,t)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(f=>f.total?f.results[0].fetchData("json",t).then(h=>(h=h&&h.categorySchema)&&h.length?h:[]):[])};a._createClass(l,[{key:"thumbnailUrl",get:function(){const m=this.url,t=this.thumbnail;return m&&t?this.portal._normalizeUrl(`${m}/info/${t}?f=json`):null}},{key:"url",get:function(){const m=this.get("portal.restUrl");return m?m+"/community/groups/"+
this.id:null}}]);return l}(e.JSONSupport);b.__decorate([d.property()],e.prototype,"access",void 0);b.__decorate([d.property({type:Date})],e.prototype,"created",void 0);b.__decorate([d.property()],e.prototype,"description",void 0);b.__decorate([d.property()],e.prototype,"id",void 0);b.__decorate([d.property()],e.prototype,"isInvitationOnly",void 0);b.__decorate([d.property({type:Date})],e.prototype,"modified",void 0);b.__decorate([d.property()],e.prototype,"owner",void 0);b.__decorate([d.property()],
e.prototype,"portal",void 0);b.__decorate([d.property()],e.prototype,"snippet",void 0);b.__decorate([d.property()],e.prototype,"sortField",void 0);b.__decorate([d.property()],e.prototype,"sortOrder",void 0);b.__decorate([d.property()],e.prototype,"tags",void 0);b.__decorate([d.property()],e.prototype,"thumbnail",void 0);b.__decorate([d.property({readOnly:!0})],e.prototype,"thumbnailUrl",null);b.__decorate([d.property()],e.prototype,"title",void 0);b.__decorate([d.property({readOnly:!0})],e.prototype,
"url",null);return e=b.__decorate([n.subclass("esri.portal.PortalGroup")],e)})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v){var w;p=w=function(D){function x(z){z=D.call(this,z)||this;z.access=null;z.accessInformation=null;z.apiKey=null;z.applicationProxies=null;z.avgRating=null;z.categories=null;z.created=null;z.culture=null;z.description=null;z.extent=null;z.groupCategories=null;z.id=null;z.itemControl=null;z.licenseInfo=null;z.modified=null;z.name=null;z.numComments=null;z.numRatings=null;z.numViews=null;z.owner=null;z.ownerFolder=null;z.portal=null;z.screenshots=null;z.size=
null;z.snippet=null;z.sourceJSON=null;z.spatialReference=null;z.tags=null;z.title=null;z.type=null;z.typeKeywords=null;z.url=null;return z}b._inheritsLoose(x,D);x.from=function(z){return l.ensureClass(w,z)};var y=x.prototype;y.destroy=function(){this.portal=null};y.readExtent=function(z){return z&&z.length?new t(z[0][0],z[0][1],z[1][0],z[1][1]):null};y.load=function(z){this.portal||(this.portal=f.getDefault());const A=this.portal.load(z).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?
this.portal._request(this.itemUrl,{signal:n.isSome(z)?z.signal:null,query:{token:this.apiKey}}):{}).then(C=>{this.sourceJSON=C;this.read(C)});this.addResolvingPromise(A);return Promise.resolve(this)};y.addRating=function(z){const A={method:"post",query:{}};z instanceof v&&(z=z.rating);isNaN(z)||"number"!==typeof z||(A.query.rating=z);return this.portal._request(this.itemUrl+"/addRating",A).then(()=>new v({rating:z,created:new Date}))};y.clone=function(){const z={access:this.access,accessInformation:this.accessInformation,
applicationProxies:r.clone(this.applicationProxies),avgRating:this.avgRating,categories:r.clone(this.categories),created:r.clone(this.created),culture:this.culture,description:this.description,extent:r.clone(this.extent),groupCategories:r.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:r.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,
portal:this.portal,screenshots:r.clone(this.screenshots),size:this.size,snippet:this.snippet,spatialReference:this.spatialReference,tags:r.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:r.clone(this.typeKeywords),url:this.url};this.loaded&&(z.loadStatus="loaded");return(new w({sourceJSON:this.sourceJSON})).set(z)};y.createPostQuery=function(){const z=this.toJSON();for(var A of["tags","typeKeywords","categories"])z[A]&&(z[A]=z[A].join(", "));({extent:A}=z);A&&
(z.extent=JSON.stringify(A));return z};y.deleteRating=function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})};y.fetchData=function(z="json",A){return this.portal._request(this.itemUrl+"/data",{responseType:z,...A,query:{token:this.apiKey}})};y.fetchRating=function(z){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...z}).then(A=>null!=A.rating?(A.created=new Date(A.created),new v(A)):null)};y.fetchRelatedItems=function(z,A){return this.portal._requestToTypedArray(this.itemUrl+
"/relatedItems",{query:{...z,token:this.apiKey},...A},w)};y.getThumbnailUrl=function(z){let A=this.thumbnailUrl;A&&z&&(A+=`&w=${z}`);return A};y.reload=function(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(z=>{this.sourceJSON=z;this.read(z);return this})};y.update=function(z){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const A=z&&z.data,C={method:"post"};C.query=this.createPostQuery();for(const B in C.query)null===C.query[B]&&(C.query[B]=
"");C.query.clearEmptyFields=!0;null!=A&&("string"===typeof A?C.query.text=A:"object"===typeof A&&(C.query.text=JSON.stringify(A)));return this.portal._request(`${this.userItemUrl}/update`,C).then(()=>this.reload())}):Promise.reject(new d("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};y.updateThumbnail=function(z){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const A=z.thumbnail,C=z.filename,B={method:"post"};if("string"===typeof A)k.isDataProtocol(A)?
B.query={data:A}:B.query={url:k.makeAbsolute(A)},n.isSome(C)&&(B.query.filename=C);else{const E=new FormData;n.isSome(C)?E.append("file",A,C):E.append("file",A);B.body=E}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,B).then(()=>this.reload())}):Promise.reject(new d("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};y.fetchResources=function(){var z=b._asyncToGenerator(function*(A={},C){return(yield new Promise((B,E)=>a(["./support/resourceUtils"],
B,E))).fetchResources(this,A,C)});return function(){return z.apply(this,arguments)}}();y.addResource=function(){var z=b._asyncToGenerator(function*(A,C,B){const E=yield new Promise((G,J)=>a(["./support/resourceUtils"],G,J));A.portalItem=this;return E.addOrUpdateResource(A,"add",C,B)});return function(A,C,B){return z.apply(this,arguments)}}();y.removeResource=function(){var z=b._asyncToGenerator(function*(A,C){const B=yield new Promise((E,G)=>a(["./support/resourceUtils"],E,G));if(A.portalItem&&A.portalItem.itemUrl!==
this.itemUrl)throw new d("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return B.removeResource(this,A,C)});return function(A,C){return z.apply(this,arguments)}}();y.removeAllResources=function(){var z=b._asyncToGenerator(function*(A){return(yield new Promise((C,B)=>a(["./support/resourceUtils"],C,B))).removeAllResources(this,A)});return function(A){return z.apply(this,arguments)}}();y.resourceFromPath=function(z){return new h({portalItem:this,
path:z})};y.toJSON=function(){var z=this.extent;z={accessInformation:this.accessInformation,categories:r.clone(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:z&&[[z.xmin,z.ymin],[z.xmax,z.ymax]],id:this.id,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,spatialReference:this.spatialReference,tags:r.clone(this.tags),thumbnail:this.thumbnail,
title:this.title,type:this.type,typeKeywords:r.clone(this.typeKeywords),url:this.url};return r.fixJson(z)};x.fromJSON=function(z){if(!z)return null;if(z.declaredClass)throw Error("JSON object is already hydrated");return new w({sourceJSON:z})};y._getPostQuery=function(){const z=this.toJSON();for(const A in z)"tags"===A&&null!==z[A]&&(z[A]=z[A].join(", ")),"typeKeywords"===A&&null!==z[A]&&(z[A]=z[A].join(", ")),"extent"===A&&z[A]&&(z[A]=JSON.stringify(z[A]));return z};b._createClass(x,[{key:"displayName",
get:function(){const z=this.type,A=this.typeKeywords||[];let C=z;"Feature Service"===z||"Feature Collection"===z?C=A.includes("Table")?"Table":A.includes("Route Layer")?"Route Layer":A.includes("Markup")?"Markup":"Feature Layer":"Image Service"===z?C=A.includes("Elevation 3D Layer")?"Elevation Layer":A.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===z?C="Scene Layer":"Video Service"===z?C="Video Layer":"Scene Package"===z?C="Scene Layer Package":"Stream Service"===
z?C="Feature Layer":"Geoprocessing Service"===z&&this.portal&&this.portal.isPortal?C=A.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===z?C="Locator":"Geoenrichment Service"===z?C="GeoEnrichment Service":"Microsoft Powerpoint"===z?C="Microsoft PowerPoint":"GeoJson"===z?C="GeoJSON":"Globe Service"===z?C="Globe Layer":"Vector Tile Service"===z?C="Tile Layer":"netCDF"===z?C="NetCDF":"Map Service"===z?C=A.includes("Spatiotemporal")||!A.includes("Hosted Service")&&!A.includes("Tiled")||
A.includes("Relational")?"Map Image Layer":"Tile Layer":z&&z.toLowerCase().includes("add in")?C=z.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===z?C="Big Data File Share":"Compact Tile Package"===z?C="Tile Package (tpkx)":"OGCFeatureServer"===z?C="OGC Feature Layer":"web mapping application"===z&&A.includes("configurableApp")&&(C="Instant App");return C}},{key:"iconUrl",get:function(){var z=this.type&&this.type.toLowerCase()||"";const A=this.typeKeywords||[];let C=!1,B=!1,E=!1,G=!1,
J=!1,K=!1;0<z.indexOf("service")||"feature collection"===z||"kml"===z||"wms"===z||"wmts"===z||"wfs"===z?(C=A.includes("Hosted Service"),"feature service"===z||"feature collection"===z||"kml"===z||"wfs"===z?(B=A.includes("Table"),E=A.includes("Route Layer"),G=A.includes("Markup"),J=A.includes("Spatiotemporal"),K=A.includes("UtilityNetwork"),z=J&&B?"spatiotemporaltable":B?"table":E?"routelayer":G?"markup":J?"spatiotemporal":C?"featureshosted":K?"utilitynetwork":"features"):z="map service"===z||"wms"===
z||"wmts"===z?C||A.includes("Tiled")||"wmts"===z?"maptiles":"mapimages":"scene service"===z?A.includes("Line")?"sceneweblayerline":A.includes("3DObject")?"sceneweblayermultipatch":A.includes("Point")?"sceneweblayerpoint":A.includes("IntegratedMesh")?"sceneweblayermesh":A.includes("PointCloud")?"sceneweblayerpointcloud":A.includes("Polygon")?"sceneweblayerpolygon":A.includes("Building")?"sceneweblayerbuilding":A.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===z?A.includes("Elevation 3D Layer")?
"elevationlayer":A.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===z?"streamlayer":"video service"===z?"mediaservice":"vector tile service"===z?"vectortile":"datastore catalog service"===z?"datastorecollection":"geocoding service"===z?"geocodeservice":"geoprocessing service"===z?A.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"geodata service"===z?"geodataservice":"layers"):z="web map"===z||"cityengine web scene"===z?"maps":"web scene"===z?A.includes("ViewingMode-Local")?
"webscenelocal":"websceneglobal":"web mapping application"===z&&A.includes("configurableApp")?"instantapps":"web mapping application"===z||"mobile application"===z||"application"===z||"operation view"===z||"desktop application"===z?"apps":"map document"===z||"map package"===z||"published map"===z||"scene document"===z||"globe document"===z||"basemap package"===z||"mobile basemap package"===z||"mobile map package"===z||"project package"===z||"project template"===z||"pro map"===z||"layout"===z||"layer"===
z&&A.includes("ArcGIS Pro")||"explorer map"===z&&A.indexOf("Explorer Document")?"mapsgray":"service definition"===z||"csv"===z||"shapefile"===z||"cad drawing"===z||"geojson"===z||"360 vr experience"===z||"netcdf"===z||"administrative report"===z?"datafiles":"explorer add in"===z||"desktop add in"===z||"windows viewer add in"===z||"windows viewer configuration"===z?"appsgray":"arcgis pro add in"===z||"arcgis pro configuration"===z?"addindesktop":"rule package"===z||"file geodatabase"===z||"sqlite geodatabase"===
z||"csv collection"===z||"kml collection"===z||"windows mobile package"===z||"map template"===z||"desktop application template"===z||"gml"===z||"arcpad package"===z||"code sample"===z||"form"===z||"document link"===z||"earth configuration"===z||"operations dashboard add in"===z||"rules package"===z||"image"===z||"workflow manager package"===z||"explorer map"===z&&A.includes("Explorer Mapping Application")||A.includes("Document")?"datafilesgray":"network analysis service"===z||"geoprocessing service"===
z||"geodata service"===z||"geometry service"===z||"geoprocessing package"===z||"locator package"===z||"geoprocessing sample"===z||"workflow manager service"===z?"toolsgray":"layer"===z||"layer package"===z||"explorer layer"===z?"layersgray":"scene package"===z?"scenepackage":"mobile scene package"===z?"mobilescenepackage":"tile package"===z||"compact tile package"===z?"tilepackage":"task file"===z?"taskfile":"report template"===z?"report-template":"statistical data collection"===z?"statisticaldatacollection":
"insights workbook"===z?"workbook":"insights model"===z?"insightsmodel":"insights page"===z?"insightspage":"insights theme"===z?"insightstheme":"hub initiative"===z?"hubinitiative":"hubpage"===z?"hubpage":"hub event"===z?"hubevent":"hub site application"===z?"hubsite":"hub project"===z?"hubproject":"relational database connection"===z?"relationaldatabaseconnection":"big data file share"===z?"datastorecollection":"image collection"===z?"imagecollection":"style"===z?"style":"desktop style"===z?"desktopstyle":
"dashboard"===z?"dashboard":"raster function template"===z?"rasterprocessingtemplate":"vector tile package"===z?"vectortilepackage":"ortho mapping project"===z?"orthomappingproject":"ortho mapping template"===z?"orthomappingtemplate":"solution"===z?"solutions":"geopackage"===z?"geopackage":"deep learning package"===z?"deeplearningpackage":"real time analytic"===z?"realtimeanalytics":"big data analytic"===z?"bigdataanalytics":"feed"===z?"feed":"excalibur imagery project"===z?"excaliburimageryproject":
"notebook"===z?"notebook":"storymap"===z?"storymap":"survey123 add in"===z?"survey123addin":"mission"===z?"mission":"mission report"===z?"missionreport":"quickcapture project"===z?"quickcaptureproject":"pro report"===z?"proreport":"urban model"===z?"urbanmodel":"web experience"===z?"experiencebuilder":"web experience template"===z?"webexperiencetemplate":"experience builder widget"===z?"experiencebuilderwidget":"experience builder widget package"===z?"experiencebuilderwidgetpackage":"workflow"===
z?"workflow":"insights script"===z?"insightsscript":"kernel gateway connection"===z?"kernelgatewayconnection":"hub initiative template"===z?"hubinitiativetemplate":"storymap theme"===z?"storymaptheme":"knowledge graph"===z?"knowledgegraph":"native application"===z?"nativeapp":"native application installer"===z?"nativeappinstaller":"link chart"===z?"linkchart":"investigation"===z?"investigation":"ogcfeatureserver"===z?"features":"pro project"===z?"proproject":"insights workbook package"===z?"insightsworkbookpackage":
"apache parquet"===z?"apacheparquet":"notebook code snippets"===z?"notebookcodesnippets":"suitability model"===z?"suitabilitymodel":"esri classifier definition"===z?"classifierdefinition":"esri classification schema"===z?"classificationschema":"insights data engineering workbook"===z?"dataengineeringworkbook":"insights data engineering model"===z?"dataengineeringmodel":"deep learning studio project"===z?"deeplearningproject":"maps";return z?e.getAssetUrl("esri/images/portal/"+z+"16.png"):null}},{key:"isLayer",
get:function(){return"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").includes(this.type)}},{key:"itemUrl",get:function(){const z=this.get("portal.restUrl");return z&&this.id?`${z}/content/items/${this.id}`:null}},{key:"thumbnailUrl",get:function(){const z=this.itemUrl,A=this.thumbnail;return z&&A?this.portal._normalizeUrl(`${z}/info/${A}?f=json`):null}},{key:"userItemUrl",get:function(){const z=this.get("portal.restUrl");
if(!z)return null;const A=this.owner||this.get("portal.user.username");return A?`${z}/content/users/${this.ownerFolder?`${A}/${this.ownerFolder}`:A}/items/${this.id}`:null}}]);return x}(p.JSONSupportMixin(u));c.__decorate([g.property({type:["private","shared","org","public"]})],p.prototype,"access",void 0);c.__decorate([g.property()],p.prototype,"accessInformation",void 0);c.__decorate([g.property({type:String})],p.prototype,"apiKey",void 0);c.__decorate([g.property({json:{read:{source:"appProxies"}}})],
p.prototype,"applicationProxies",void 0);c.__decorate([g.property()],p.prototype,"avgRating",void 0);c.__decorate([g.property()],p.prototype,"categories",void 0);c.__decorate([g.property({type:Date})],p.prototype,"created",void 0);c.__decorate([g.property()],p.prototype,"culture",void 0);c.__decorate([g.property()],p.prototype,"description",void 0);c.__decorate([g.property({readOnly:!0})],p.prototype,"displayName",null);c.__decorate([g.property({type:t})],p.prototype,"extent",void 0);c.__decorate([q.reader("extent")],
p.prototype,"readExtent",null);c.__decorate([g.property()],p.prototype,"groupCategories",void 0);c.__decorate([g.property({readOnly:!0})],p.prototype,"iconUrl",null);c.__decorate([g.property()],p.prototype,"id",void 0);c.__decorate([g.property({readOnly:!0})],p.prototype,"isLayer",null);c.__decorate([g.property()],p.prototype,"itemControl",void 0);c.__decorate([g.property({readOnly:!0})],p.prototype,"itemUrl",null);c.__decorate([g.property()],p.prototype,"licenseInfo",void 0);c.__decorate([g.property({type:Date})],
p.prototype,"modified",void 0);c.__decorate([g.property()],p.prototype,"name",void 0);c.__decorate([g.property()],p.prototype,"numComments",void 0);c.__decorate([g.property()],p.prototype,"numRatings",void 0);c.__decorate([g.property()],p.prototype,"numViews",void 0);c.__decorate([g.property()],p.prototype,"owner",void 0);c.__decorate([g.property()],p.prototype,"ownerFolder",void 0);c.__decorate([g.property({type:f})],p.prototype,"portal",void 0);c.__decorate([g.property()],p.prototype,"screenshots",
void 0);c.__decorate([g.property()],p.prototype,"size",void 0);c.__decorate([g.property()],p.prototype,"snippet",void 0);c.__decorate([g.property()],p.prototype,"sourceJSON",void 0);c.__decorate([g.property({type:String})],p.prototype,"spatialReference",void 0);c.__decorate([g.property()],p.prototype,"tags",void 0);c.__decorate([g.property()],p.prototype,"thumbnail",void 0);c.__decorate([g.property({readOnly:!0})],p.prototype,"thumbnailUrl",null);c.__decorate([g.property()],p.prototype,"title",void 0);
c.__decorate([g.property()],p.prototype,"type",void 0);c.__decorate([g.property()],p.prototype,"typeKeywords",void 0);c.__decorate([g.property({type:String,json:{read(D,x){var y;if("KML"!==x.type)return D;x=null==(y=this.portal)?void 0:y.restUrl;D||(D=x&&this.id?`${x}/content/items/${this.id}/data`:null);return D}}})],p.prototype,"url",void 0);c.__decorate([g.property({readOnly:!0})],p.prototype,"userItemUrl",null);return p=w=c.__decorate([m.subclass("esri.portal.PortalItem")],p)})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),
function(a,b,c,e,d,p){function r(n){if(!b.assetsPath)throw u.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new e("assets:path-not-set","config.assetsPath is not set");return p.join(b.assetsPath,n)}const u=d.getLogger("esri.assets");a.fetchAsset=function(n,k){return c(r(n),k)};a.getAssetUrl=r;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){const m=p.getLogger("esri.portal.PortalItemResource");e=function(t){function f(v){v=t.call(this,v)||this;v.portalItem=null;return v}b._inheritsLoose(f,t);var h=f.prototype;h.normalizeCtorArgs=function(v){return v&&v.portalItem&&v.path?{...v,path:this._normalizePath(v.path,v.portalItem)}:v};h._castPath=function(v){return this._normalizePath(v,this.portalItem)};h.fetch=function(v="json",w){const D=this.url;if(r.isNone(D))throw new d("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal._request(D,{responseType:v,query:{token:this.portalItem.apiKey},signal:r.get(w,"signal")})};h.update=function(){var v=b._asyncToGenerator(function*(w,D){return(yield new Promise((x,y)=>a(["./support/resourceUtils"],x,y))).addOrUpdateResource(this,"update",w,D)});return function(w,D){return v.apply(this,arguments)}}();h.hasPath=function(){return r.isSome(this.path)};h._normalizePath=function(v,w){if(r.isNone(v))return v;v=v.replace(/^\/+/,"");r.isSome(w)&&u.isAbsolute(v)&&
(v=u.makeRelative(v,w.itemUrl));return v.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")};b._createClass(f,[{key:"path",set:function(v){r.isSome(v)&&u.isAbsolute(v)?m.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",v)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?`./resources/${this.path}`:null}}]);
return f}(e);c.__decorate([n.property()],e.prototype,"portalItem",void 0);c.__decorate([n.property({type:String,value:null})],e.prototype,"path",null);c.__decorate([l.cast("path")],e.prototype,"_castPath",null);c.__decorate([n.property({type:String,readOnly:!0})],e.prototype,"url",null);c.__decorate([n.property({type:String,readOnly:!0})],e.prototype,"itemRelativeUrl",null);return e=c.__decorate([q.subclass("esri.portal.PortalItemResource")],e)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(n){function k(g){g=n.call(this,g)||this;g.created=null;g.rating=null;return g}a._inheritsLoose(k,n);return k}(c);b.__decorate([e.property()],c.prototype,"created",void 0);b.__decorate([e.property()],c.prototype,"rating",void 0);return c=b.__decorate([u.subclass("esri.portal.PortalRating")],c)})},"esri/support/basemapDefinitions":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../assets","../intl/messages"],function(a,b,c,e){function d(){d=b._asyncToGenerator(function*(p){if(p){var r=
p.includes("-vector")?p.slice(0,p.indexOf("-vector")):p,u=yield e.fetchMessageBundle("esri/t9n/basemaps");return u[p]||u[r]}});return d.apply(this,arguments)}a.esriBasemapDefinitions={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,
visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",
classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/oceans.jpg")},
baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",
classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",
title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",
classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",
visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",
title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-night.jpg")},
title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",
title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",
layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",
title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},
"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};
a.getBasemapTitle=function(p){return d.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/intl/messages":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Error","../core/promiseUtils","./locale"],function(a,b,c,e,d){function p(v){var w;return null!=(w=q[v])?w:!1}function r(v){for(const w of t.keys())g(v.pattern,w)&&t.delete(w)}function u(){u=b._asyncToGenerator(function*(v){const w=d.getLocale();t.has(v)||
t.set(v,n(v,w));v=t.get(v);yield f.add(v);return v});return u.apply(this,arguments)}function n(v,w){return k.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(v,w){const D=[];for(const x of m)if(g(x.pattern,v))try{return yield x.fetchMessageBundle(v,w)}catch(y){D.push(y)}if(D.length)throw new c("intl:message-bundle-error",`Errors occurred while loading "${v}"`,{errors:D});throw new c("intl:no-message-bundle-loader",`No loader found for message bundle "${v}"`);});return k.apply(this,
arguments)}function g(v,w){return"string"===typeof v?w.startsWith(v):v.test(w)}const l=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,q={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0},m=[],t=new Map;d.beforeLocaleChange(()=>{t.clear()});const f=new (function(){function v(){this._numLoading=0}
var w=v.prototype;w.waitForAll=function(){var D=b._asyncToGenerator(function*(){this._dfd&&(yield this._dfd.promise)});return function(){return D.apply(this,arguments)}}();w.add=function(D){this._increase();D.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()};w._increase=function(){this._numLoading++;this._dfd||(this._dfd=e.createDeferred())};w._decrease=function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=
null)};return v}()),h={cache:t,loaders:m};a.fetchMessageBundle=function(v){return u.apply(this,arguments)};a.normalizeMessageBundleLocale=function(v){if(!l.test(v))return null;const [,w,D]=l.exec(v);v=w+(D?"-"+D.toUpperCase():"");return p(v)?v:p(w)?w:null};a.registerMessageBundleLoader=function(v){m.includes(v)||(r(v),m.unshift(v));return{remove(){const w=m.indexOf(v);-1<w&&(m.splice(w,1),r(v))}}};a.test=h;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/maybe ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),function(a,b,c,e,d,p,r){function u(g,l){"maxScale"in g&&(l.maxScale=p.numberToJSON(g.maxScale));"minScale"in g&&(l.minScale=p.numberToJSON(g.minScale))}const n=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),
k=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes ogc-feature route tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));a.disableRestrictedWriting=function(g){n.add(g);k.add(g)};a.enableRestrictedWriting=function(g){n.delete(g);k.delete(g)};a.getLayerJSON=function(g,l,q){if(!("write"in g&&g.write))return q&&q.messages&&q.messages.push(new b("layer:unsupported",`Layers (${g.title}, ${g.id}) of type '${g.declaredClass}' cannot be persisted`,
{layer:g})),null;if(q.restrictedWebMapWriting){var m="basemap"===q.layerContainerType?n:"operational-layers"===q.layerContainerType?k:null;m=e.isSome(m)?m.has(g.type)&&!r.isFeatureCollectionLayer(g):!0}else m=!0;if(m)return l={},g.write(l,q)?l:null;if(e.isSome(l)&&(q=l=c.clone(l),r.isFeatureCollectionLayer(g)?(m=(m=d.getDeepValue("featureCollection.layers",q))&&m[0]&&m[0].layerDefinition)&&u(g,m):"stream"===g.type?(m=q.layerDefinition=q.layerDefinition||{},u(g,m)):"group"!==g.type&&u(g,q),"blendMode"in
g&&(q.blendMode=g.blendMode,"normal"===q.blendMode&&delete q.blendMode),q.opacity=p.numberToJSON(g.opacity),q.title=g.title||"Layer",q.visibility=g.visible,"legendEnabled"in g&&"wmts"!==g.type))if(r.isFeatureCollectionLayer(g)){if(q=q.featureCollection)q.showLegend=g.legendEnabled}else q.showLegend=g.legendEnabled;return l};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/layerUtils":function(){define(["exports"],function(a){a.areLabelsVisible=
function(b){return!0===b.labelsVisible&&null!=b.labelingInfo&&0<b.labelingInfo.length};a.getLayersForScale=function(b,c){const e=[];if(0<b&&c)for(let d=0;d<c.length;d++)if(!(0<=c[d].parentLayerId&&!e.includes(c[d].parentLayerId)&&c.some(p=>p.id===c[d].parentLayerId))&&0<=c[d].id){let p=!0;const r=c[d].maxScale,u=c[d].minScale;if(0<r||0<u)0<r&&0<u?p=r<=b&&b<=u:0<r?p=r<=b:0<u&&(p=b<=u);p&&e.push(c[d].id)}return e};a.getTileMaxtrixSetFromActiveLayer=function(b){if(b.activeLayer){const c=b.activeLayer.tileMatrixSet;
if(c)return c;if(b=b.activeLayer.tileMatrixSets)return b}return null};a.isBaseLayer=function(b){var c;return"esri.Basemap"===(null==(c=b.parent)?void 0:c.declaredClass)&&b.parent.baseLayers.includes(b)};a.isBasemapSupportedLayer=function(b){b=null==b?void 0:b.type;return"imagery-tile"===b||"tile"===b||"open-street-map"===b||"vector-tile"===b||"web-tile"===b||"wmts"===b};a.isFeatureCollectionLayer=function(b){var c;return"feature"===(null==b?void 0:b.type)&&!b.url&&"memory"===(null==(c=b.source)?void 0:
c.type)};a.isFeatureServiceLayer=function(b){var c;return"feature"===(null==b?void 0:b.type)&&"feature-layer"===(null==(c=b.source)?void 0:c.type)};a.isImageryTileLayer=function(b){return"imagery-tile"===(null==b?void 0:b.type)};a.isTiledLayer=function(b){b=null==b?void 0:b.type;return"base-tile"===b||"tile"===b||"elevation"===b||"imagery-tile"===b||"base-elevation"===b||"open-street-map"===b||"wcs"===b||"web-tile"===b||"wmts"===b||"vector-tile"===b};a.isVoxelLayer=function(b){return"voxel"===(null==
b?void 0:b.type)};a.serializeLayerDefinitions=function(b){const c=/[:;]/,e=[];let d=!1;if(b&&(b.forEach((p,r)=>{e.push([r,p]);!d&&c.test(p)&&(d=!0)}),0<e.length)){if(d){const p={};e.forEach(r=>{p[r[0]]=r[1]});b=JSON.stringify(p)}else{const p=[];e.forEach(r=>{p.push(r[0]+":"+r[1])});b=p.join(";")}return b}return null};a.serializeTimeOptions=function(b){if(b){var c=[];b.forEach((e,d)=>{c.push('"'+d+'":'+JSON.stringify(e))});if(c.length)return"{"+c.join(",")+"}"}};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/Ground":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D){function x(A){return"elevation"===A.type||A&&"createElevationSampler"in A}var y;const z=q.getLogger("esri.Ground");n=y=function(A){function C(E){var G=A.call(this,E)||this;G.opacity=1;G.surfaceColor=null;G.navigationConstraint=null;G.layers=new d;G.layers.on("after-add",J=>{J=J.item;J.parent&&J.parent!==b._assertThisInitialized(G)&&"remove"in J.parent&&J.parent.remove(J);J.parent=b._assertThisInitialized(G);"elevation"!==J.type&&"base-elevation"!==
J.type&&z.error(`Layer '${J.title}, id:${J.id}' of type '${J.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)});G.layers.on("after-remove",J=>{J.item.parent=null});return G}b._inheritsLoose(C,A);var B=C.prototype;B.initialize=function(){this.when().catch(E=>{z.error("#load()","Failed to load ground",E)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};B.destroy=function(){const E=this.layers.removeAll();
for(const G of E)G.destroy();this.layers.destroy()};B.normalizeCtorArgs=function(E){E&&"resourceInfo"in E&&(this._set("resourceInfo",E.resourceInfo),E={...E},delete E.resourceInfo);return E};B.writeLayers=function(E,G,J,K){const F=[];E&&(K={...K,layerContainerType:"ground"},E.forEach(H=>{if("write"in H){const I={};r.typeCast(H)().write(I,K)&&F.push(I)}else K&&K.messages&&K.messages.push(new u("layer:unsupported",`Layers (${H.title}, ${H.id}) of type '${H.declaredClass}' cannot be persisted in the ground`,
{layer:H}))}));G.layers=F};B.load=function(E){this.addResolvingPromise(this._loadFromSource(E));return Promise.resolve(this)};B.loadAll=function(){return l.loadAll(this,E=>{E(this.layers)})};B.queryElevation=function(){var E=b._asyncToGenerator(function*(G,J){yield this.load({signal:null==J?void 0:J.signal});var {ElevationQuery:K}=yield new Promise((H,I)=>a(["./layers/support/ElevationQuery"],H,I));m.throwIfAborted(J);K=new K;const F=this.layers.filter(x).toArray();return K.queryAll(F,G,J)});return function(G,
J){return E.apply(this,arguments)}}();B.createElevationSampler=function(){var E=b._asyncToGenerator(function*(G,J){yield this.load({signal:null==J?void 0:J.signal});var {ElevationQuery:K}=yield new Promise((H,I)=>a(["./layers/support/ElevationQuery"],H,I));m.throwIfAborted(J);K=new K;const F=this.layers.filter(x).toArray();return K.createSamplerAll(F,G,J)});return function(G,J){return E.apply(this,arguments)}}();B.clone=function(){const E={opacity:this.opacity,surfaceColor:k.clone(this.surfaceColor),
navigationConstraint:k.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(E.loadStatus="loaded");return(new y({resourceInfo:this.resourceInfo})).set(E)};B.read=function(E,G){this.resourceInfo||this._set("resourceInfo",{data:E,context:G});A.prototype.read.call(this,E,G)};B._loadFromSource=function(E){const G=this.resourceInfo;return G?this._loadLayersFromJSON(G.data,G.context,E):Promise.resolve(null)};B._loadLayersFromJSON=function(E,G,J){const K=G&&G.origin||"web-scene",F=
G&&G.portal||null,H=G&&G.url||null;return(new Promise((I,L)=>a(["./layers/support/layersCreator"],I,L))).then(({populateOperationalLayers:I})=>{m.throwIfAborted(J);const L=[];E.layers&&Array.isArray(E.layers)&&L.push(I(this.layers,E.layers,{context:{origin:K,url:H,portal:F,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));return m.eachAlways(L)}).then(()=>{})};b._createClass(C,[{key:"layers",set:function(E){this._set("layers",p.referenceSetter(E,this._get("layers")))}}]);
return C}(n.JSONSupportMixin(g));c.__decorate([t.property({json:{read:!1}})],n.prototype,"layers",null);c.__decorate([v.writer("layers")],n.prototype,"writeLayers",null);c.__decorate([t.property({readOnly:!0})],n.prototype,"resourceInfo",void 0);c.__decorate([t.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:f.Integer,read:{reader:D.transparencyToOpacity,source:"transparency"},write:{writer:(A,C)=>{C.transparency=D.opacityToTransparency(A)},target:"transparency"}}})],n.prototype,
"opacity",void 0);c.__decorate([t.property({type:e,json:{type:[f.Integer],write:(A,C)=>{C.surfaceColor=A.toJSON().slice(0,3)}}})],n.prototype,"surfaceColor",void 0);c.__decorate([t.property({type:w.NavigationConstraint,json:{write:!0}})],n.prototype,"navigationConstraint",void 0);return n=y=c.__decorate([h.subclass("esri.Ground")],n)})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./colorUtils","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],function(a,
b,c,e,d){function p(n){return c.clamp(d.ensureInteger(n),0,255)}function r(n,k,g){n=Number(n);return isNaN(n)?g:n<k?k:n>g?g:n}let u=function(){function n(g){this.b=this.g=this.r=255;this.a=1;g&&this.setColor(g)}n.blendColors=function(g,l,q,m=new n){m.r=Math.round(g.r+(l.r-g.r)*q);m.g=Math.round(g.g+(l.g-g.g)*q);m.b=Math.round(g.b+(l.b-g.b)*q);m.a=g.a+(l.a-g.a)*q;return m._sanitize()};n.fromRgb=function(g,l){var q=g.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(q){g=q[2].split(/\s*,\s*/);
q=q[1];if("rgb"===q&&3===g.length||"rgba"===q&&4===g.length)return q=g[0],"%"===q.charAt(q.length-1)?(q=g.map(m=>2.56*parseFloat(m)),4===g.length&&(q[3]=parseFloat(g[3])),n.fromArray(q,l)):n.fromArray(g.map(m=>parseFloat(m)),l);if("hsl"===q&&3===g.length||"hsla"===q&&4===g.length)return n.fromArray(b.hsla2rgba(parseFloat(g[0]),parseFloat(g[1])/100,parseFloat(g[2])/100,parseFloat(g[3])),l)}return null};n.fromHex=function(g,l=new n){if(4!==g.length&&7!==g.length||"#"!==g[0])return null;const q=4===
g.length?4:8,m=(1<<q)-1;let t=Number("0x"+g.substr(1));if(isNaN(t))return null;["b","g","r"].forEach(f=>{const h=t&m;t>>=q;l[f]=4===q?17*h:h});l.a=1;return l};n.fromArray=function(g,l=new n){l._set(Number(g[0]),Number(g[1]),Number(g[2]),Number(g[3]));isNaN(l.a)&&(l.a=1);return l._sanitize()};n.fromString=function(g,l){const q=b.isNamedColor(g)?b.getNamedColor(g):null;return q&&n.fromArray(q,l)||n.fromRgb(g,l)||n.fromHex(g,l)};n.fromJSON=function(g){return g&&new n([g[0],g[1],g[2],g[3]/255])};n.toUnitRGB=
function(g){return e.isSome(g)?[g.r/255,g.g/255,g.b/255]:null};n.toUnitRGBA=function(g){return e.isSome(g)?[g.r/255,g.g/255,g.b/255,null!=g.a?g.a:1]:null};var k=n.prototype;k.setColor=function(g){if("string"===typeof g)n.fromString(g,this);else if(Array.isArray(g))n.fromArray(g,this);else{var l,q,m,t;this._set(null!=(l=g.r)?l:0,null!=(q=g.g)?q:0,null!=(m=g.b)?m:0,null!=(t=g.a)?t:1);g instanceof n||this._sanitize()}return this};k.toRgb=function(){return[this.r,this.g,this.b]};k.toRgba=function(){return[this.r,
this.g,this.b,this.a]};k.toHex=function(){const g=this.r.toString(16),l=this.g.toString(16),q=this.b.toString(16);return`#${2>g.length?"0"+g:g}${2>l.length?"0"+l:l}${2>q.length?"0"+q:q}`};k.toCss=function(g=!1){const l=this.r+", "+this.g+", "+this.b;return g?`rgba(${l}, ${this.a})`:`rgb(${l})`};k.toString=function(){return this.toCss(!0)};k.toJSON=function(){return this.toArray()};k.toArray=function(g=n.AlphaMode.ALWAYS){const l=p(this.r),q=p(this.g),m=p(this.b);return g===n.AlphaMode.ALWAYS||1!==
this.a?[l,q,m,p(255*this.a)]:[l,q,m]};k.clone=function(){return new n(this.toRgba())};k.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};k.equals=function(g){return e.isSome(g)&&g.r===this.r&&g.g===this.g&&g.b===this.b&&g.a===this.a};k._sanitize=function(){this.r=Math.round(r(this.r,0,255));this.g=Math.round(r(this.g,0,255));this.b=Math.round(r(this.b,0,255));this.a=r(this.a,0,1);return this};k._set=function(g,l,q,m){this.r=g;this.g=l;this.b=q;this.a=m};a._createClass(n,[{key:"isBright",
get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return n}();u.prototype.declaredClass="esri.Color";(function(n){n=n.AlphaMode||(n.AlphaMode={});n[n.ALWAYS=0]="ALWAYS";n[n.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(u||(u={}));return u})},"esri/colorUtils":function(){define(["exports"],function(a){function b(d){var p;return null!=(p=e[d])?p:e[d.toLowerCase()]}function c(d,p,r){0>r&&++r;1<r&&--r;const u=6*r;return 1>u?d+(p-d)*u:1>2*r?p:2>3*r?d+(p-d)*(2/3-r)*6:d}const e={transparent:[0,0,0,
0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,
43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,
50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,
165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,
182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,
209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,
160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,
224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(d){return[...b(d)]};a.hex2rgba=function(d){var p=5<d.length;const r=p?8:4,u=(1<<r)-1,n=p?1:17;p=p?9===d.length:5===d.length;d=Number("0x"+d.substr(1));if(isNaN(d))return null;const k=[0,0,0,1];p&&(p=d&u,d>>=r,k[3]=n*p/255);p=d&u;d>>=r;k[2]=n*p;p=d&u;d>>=r;k[1]=n*p;p=d&u;d>>=r;k[0]=n*p;return k};a.hsla2rgba=function(d,p,r,u=1){d=(d%360+360)%360/
360;p=.5>=r?r*(p+1):r+p-r*p;r=2*r-p;return[Math.round(255*c(r,p,d+1/3)),Math.round(255*c(r,p,d)),Math.round(255*c(r,p,d-1/3)),u]};a.isNamedColor=function(d){return e[d]||e[d.toLowerCase()]};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec3","../chunks/vec4"],function(a,b,c){function e(g,l,q){return Math.min(Math.max(g,l),q)}function d(g,l,q){return g+(l-g)*q}function p(g){return Math.asin(e(g,
-1,1))}function r(g,l,q=1E-6){return isNaN(g)||isNaN(l)?!1:(g>l?g-l:l-g)<=q}function u(g){n[0]=g;return n[0]}const n=new Float32Array(1),k=u(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=k;a.acosClamped=function(g){return Math.acos(e(g,-1,1))};a.applyOpacity=function(g,l,q){return c.set(g,l[0],l[1],l[2],l[3]*q)};a.asinClamped=p;a.cartesianToSpherical=function(g,l){const q=b.length(g),m=p(g[2]/q);b.set(l,q,m,Math.atan2(g[1]/q,g[0]/q));return l};a.clamp=e;a.clampFloat32=function(g){return u(Math.max(-k,
Math.min(g,k)))};a.deg2rad=function(g){return g*Math.PI/180};a.floatEqualAbsolute=r;a.floatEqualRelative=function(g,l,q=1E-6){if(isNaN(g)||isNaN(l))return!1;if(g===l)return!0;const m=Math.abs(g-l),t=Math.abs(g),f=Math.abs(l);if(0===g||0===l||1E-12>t&&1E-12>f){if(m>.01*q)return!1}else if(m/(t+f)>q)return!1;return!0};a.hasScaling=function(g){const l=g[3]*g[3]+g[4]*g[4]+g[5]*g[5],q=g[6]*g[6]+g[7]*g[7]+g[8]*g[8];return!(r(g[0]*g[0]+g[1]*g[1]+g[2]*g[2],1)&&r(l,1)&&r(q,1))};a.isPowerOfTwo=function(g){return 0===
(g&g-1)};a.lerp=d;a.nextHighestPowerOfTen=function(g){return 10**Math.ceil(Math.LOG10E*Math.log(g))};a.nextHighestPowerOfTwo=function(g){--g;for(let l=1;32>l;l<<=1)g|=g>>l;return g+1};a.nextPowerOfTwo=function(g){g--;g|=g>>1;g|=g>>2;g|=g>>4;g|=g>>8;g|=g>>16;g++;return g};a.rad2deg=function(g){return 180*g/Math.PI};a.reciprocalClamped=function(g,l=1E-6){return(0>g?-1:1)/Math.max(Math.abs(g),l)};a.roundToNearest=function(g,l){return 0===l?0:Math.round(g/l)*l};a.scale=function(g,l,q,m,t){return d(m,
t,(g-l)/(q-l))};a.smoothstep=function(g,l,q){g=e((q-g)/(l-g),0,1);return g*g*(3-2*g)};a.sphericalToCartesian=function(g,l){const q=g[0],m=g[1];g=g[2];const t=Math.cos(m);b.set(l,q*t*Math.cos(g),q*t*Math.sin(g),q*Math.sin(m))};a.step=function(g,l){return l<g?0:1};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function e(Y){const pa=Y[0],wa=Y[1];Y=Y[2];return Math.sqrt(pa*
pa+wa*wa+Y*Y)}function d(Y,pa){Y[0]=pa[0];Y[1]=pa[1];Y[2]=pa[2];return Y}function p(Y,pa,wa,M){Y[0]=pa;Y[1]=wa;Y[2]=M;return Y}function r(Y,pa,wa){Y[0]=pa[0]+wa[0];Y[1]=pa[1]+wa[1];Y[2]=pa[2]+wa[2];return Y}function u(Y,pa,wa){Y[0]=pa[0]-wa[0];Y[1]=pa[1]-wa[1];Y[2]=pa[2]-wa[2];return Y}function n(Y,pa,wa){Y[0]=pa[0]*wa[0];Y[1]=pa[1]*wa[1];Y[2]=pa[2]*wa[2];return Y}function k(Y,pa,wa){Y[0]=pa[0]/wa[0];Y[1]=pa[1]/wa[1];Y[2]=pa[2]/wa[2];return Y}function g(Y,pa){Y[0]=Math.ceil(pa[0]);Y[1]=Math.ceil(pa[1]);
Y[2]=Math.ceil(pa[2]);return Y}function l(Y,pa){Y[0]=Math.floor(pa[0]);Y[1]=Math.floor(pa[1]);Y[2]=Math.floor(pa[2]);return Y}function q(Y,pa){Y[0]=Math.abs(pa[0]);Y[1]=Math.abs(pa[1]);Y[2]=Math.abs(pa[2]);return Y}function m(Y,pa){Y[0]=Math.sign(pa[0]);Y[1]=Math.sign(pa[1]);Y[2]=Math.sign(pa[2]);return Y}function t(Y,pa,wa){Y[0]=Math.min(pa[0],wa[0]);Y[1]=Math.min(pa[1],wa[1]);Y[2]=Math.min(pa[2],wa[2]);return Y}function f(Y,pa,wa){Y[0]=Math.max(pa[0],wa[0]);Y[1]=Math.max(pa[1],wa[1]);Y[2]=Math.max(pa[2],
wa[2]);return Y}function h(Y,pa){Y[0]=Math.round(pa[0]);Y[1]=Math.round(pa[1]);Y[2]=Math.round(pa[2]);return Y}function v(Y,pa,wa){Y[0]=pa[0]*wa;Y[1]=pa[1]*wa;Y[2]=pa[2]*wa;return Y}function w(Y,pa,wa,M){Y[0]=pa[0]+wa[0]*M;Y[1]=pa[1]+wa[1]*M;Y[2]=pa[2]+wa[2]*M;return Y}function D(Y,pa){const wa=pa[0]-Y[0],M=pa[1]-Y[1];Y=pa[2]-Y[2];return Math.sqrt(wa*wa+M*M+Y*Y)}function x(Y,pa){const wa=pa[0]-Y[0],M=pa[1]-Y[1];Y=pa[2]-Y[2];return wa*wa+M*M+Y*Y}function y(Y){const pa=Y[0],wa=Y[1];Y=Y[2];return pa*
pa+wa*wa+Y*Y}function z(Y,pa){Y[0]=-pa[0];Y[1]=-pa[1];Y[2]=-pa[2];return Y}function A(Y,pa){Y[0]=1/pa[0];Y[1]=1/pa[1];Y[2]=1/pa[2];return Y}function C(Y,pa){var wa=pa[0];const M=pa[1],R=pa[2];wa=wa*wa+M*M+R*R;0<wa&&(wa=1/Math.sqrt(wa),Y[0]=pa[0]*wa,Y[1]=pa[1]*wa,Y[2]=pa[2]*wa);return Y}function B(Y,pa){return Y[0]*pa[0]+Y[1]*pa[1]+Y[2]*pa[2]}function E(Y,pa,wa){const M=pa[0],R=pa[1];pa=pa[2];const da=wa[0],S=wa[1];wa=wa[2];Y[0]=R*wa-pa*S;Y[1]=pa*da-M*wa;Y[2]=M*S-R*da;return Y}function G(Y,pa,wa,M){const R=
pa[0],da=pa[1];pa=pa[2];Y[0]=R+M*(wa[0]-R);Y[1]=da+M*(wa[1]-da);Y[2]=pa+M*(wa[2]-pa);return Y}function J(Y,pa,wa,M,R,da){const S=da*da,X=S*(2*da-3)+1,ea=S*(da-2)+da,ha=S*(da-1);da=S*(3-2*da);Y[0]=pa[0]*X+wa[0]*ea+M[0]*ha+R[0]*da;Y[1]=pa[1]*X+wa[1]*ea+M[1]*ha+R[1]*da;Y[2]=pa[2]*X+wa[2]*ea+M[2]*ha+R[2]*da;return Y}function K(Y,pa,wa,M,R,da){var S=1-da,X=S*S;const ea=da*da,ha=X*S;X*=3*da;S*=3*ea;da*=ea;Y[0]=pa[0]*ha+wa[0]*X+M[0]*S+R[0]*da;Y[1]=pa[1]*ha+wa[1]*X+M[1]*S+R[1]*da;Y[2]=pa[2]*ha+wa[2]*X+M[2]*
S+R[2]*da;return Y}function F(Y,pa){pa=pa||1;const wa=2*c.RANDOM()*Math.PI,M=2*c.RANDOM()-1,R=Math.sqrt(1-M*M)*pa;Y[0]=Math.cos(wa)*R;Y[1]=Math.sin(wa)*R;Y[2]=M*pa;return Y}function H(Y,pa,wa){const M=pa[0],R=pa[1];pa=pa[2];Y[0]=wa[0]*M+wa[4]*R+wa[8]*pa+wa[12];Y[1]=wa[1]*M+wa[5]*R+wa[9]*pa+wa[13];Y[2]=wa[2]*M+wa[6]*R+wa[10]*pa+wa[14];return Y}function I(Y,pa,wa){const M=pa[0],R=pa[1];pa=pa[2];Y[0]=M*wa[0]+R*wa[3]+pa*wa[6];Y[1]=M*wa[1]+R*wa[4]+pa*wa[7];Y[2]=M*wa[2]+R*wa[5]+pa*wa[8];return Y}function L(Y,
pa,wa){const M=wa[0],R=wa[1],da=wa[2],S=pa[0],X=pa[1];pa=pa[2];let ea=R*pa-da*X,ha=da*S-M*pa,ra=M*X-R*S;wa=2*wa[3];Y[0]=S+ea*wa+2*(R*ra-da*ha);Y[1]=X+ha*wa+2*(da*ea-M*ra);Y[2]=pa+ra*wa+2*(M*ha-R*ea);return Y}function Q(Y,pa,wa,M){const R=[],da=[];R[0]=pa[0]-wa[0];R[1]=pa[1]-wa[1];R[2]=pa[2]-wa[2];da[0]=R[0];da[1]=R[1]*Math.cos(M)-R[2]*Math.sin(M);da[2]=R[1]*Math.sin(M)+R[2]*Math.cos(M);Y[0]=da[0]+wa[0];Y[1]=da[1]+wa[1];Y[2]=da[2]+wa[2];return Y}function Z(Y,pa,wa,M){const R=[],da=[];R[0]=pa[0]-wa[0];
R[1]=pa[1]-wa[1];R[2]=pa[2]-wa[2];da[0]=R[2]*Math.sin(M)+R[0]*Math.cos(M);da[1]=R[1];da[2]=R[2]*Math.cos(M)-R[0]*Math.sin(M);Y[0]=da[0]+wa[0];Y[1]=da[1]+wa[1];Y[2]=da[2]+wa[2];return Y}function ca(Y,pa,wa,M){const R=[],da=[];R[0]=pa[0]-wa[0];R[1]=pa[1]-wa[1];R[2]=pa[2]-wa[2];da[0]=R[0]*Math.cos(M)-R[1]*Math.sin(M);da[1]=R[0]*Math.sin(M)+R[1]*Math.cos(M);da[2]=R[2];Y[0]=da[0]+wa[0];Y[1]=da[1]+wa[1];Y[2]=da[2]+wa[2];return Y}function aa(Y,pa){d(Ha,Y);d(ta,pa);C(Ha,Ha);C(ta,ta);Y=B(Ha,ta);return 1<Y?
0:-1>Y?Math.PI:Math.acos(Y)}function O(Y){return"vec3("+Y[0]+", "+Y[1]+", "+Y[2]+")"}function fa(Y,pa){return Y[0]===pa[0]&&Y[1]===pa[1]&&Y[2]===pa[2]}function oa(Y,pa){if(Y===pa)return!0;const wa=Y[0],M=Y[1];Y=Y[2];const R=pa[0],da=pa[1];pa=pa[2];return Math.abs(wa-R)<=c.EPSILON*Math.max(1,Math.abs(wa),Math.abs(R))&&Math.abs(M-da)<=c.EPSILON*Math.max(1,Math.abs(M),Math.abs(da))&&Math.abs(Y-pa)<=c.EPSILON*Math.max(1,Math.abs(Y),Math.abs(pa))}function Da(Y,pa,wa){const M=wa[0]-pa[0],R=wa[1]-pa[1];
pa=wa[2]-pa[2];wa=M*M+R*R+pa*pa;if(0<wa)return wa=1/Math.sqrt(wa),Y[0]=M*wa,Y[1]=R*wa,Y[2]=pa*wa,Y;Y[0]=0;Y[1]=0;Y[2]=0;return Y}const Ha=b.create(),ta=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,length:e,copy:d,set:p,add:r,subtract:u,multiply:n,divide:k,ceil:g,floor:l,abs:q,sign:m,min:t,max:f,round:h,scale:v,scaleAndAdd:w,distance:D,squaredDistance:x,squaredLength:y,negate:z,inverse:A,normalize:C,dot:B,cross:E,lerp:G,hermite:J,bezier:K,random:F,transformMat4:H,transformMat3:I,
transformQuat:L,rotateX:Q,rotateY:Z,rotateZ:ca,angle:aa,str:O,exactEquals:fa,equals:oa,direction:Da,sub:u,mul:n,div:k,dist:D,sqrDist:x,len:e,sqrLen:y},Symbol.toStringTag,{value:"Module"}));a.abs=q;a.add=r;a.angle=aa;a.bezier=K;a.ceil=g;a.copy=d;a.cross=E;a.direction=Da;a.dist=D;a.distance=D;a.div=k;a.divide=k;a.dot=B;a.equals=oa;a.exactEquals=fa;a.floor=l;a.hermite=J;a.inverse=A;a.len=e;a.length=e;a.lerp=G;a.max=f;a.min=t;a.mul=n;a.multiply=n;a.negate=z;a.normalize=C;a.random=F;a.rotateX=Q;a.rotateY=
Z;a.rotateZ=ca;a.round=h;a.scale=v;a.scaleAndAdd=w;a.set=p;a.sign=m;a.sqrDist=x;a.sqrLen=y;a.squaredDistance=x;a.squaredLength=y;a.str=O;a.sub=u;a.subtract=u;a.transformMat3=I;a.transformMat4=H;a.transformQuat=L;a.vec3=b})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function c(v){return[v[0],v[1],v[2]]}function e(v,w,D){return[v,w,D]}function d(v){const w=b(),D=Math.min(3,v.length);for(let x=0;x<D;++x)w[x]=v[x];return w}function p(v,w){return new Float64Array(v,
w,3)}function r(){return b()}function u(){return[1,1,1]}function n(){return[1,0,0]}function k(){return[0,1,0]}function g(){return[0,0,1]}const l=b(),q=u(),m=n(),t=k(),f=g(),h=Object.freeze(Object.defineProperty({__proto__:null,create:b,clone:c,fromValues:e,fromArray:d,createView:p,zeros:r,ones:u,unitX:n,unitY:k,unitZ:g,ZEROS:l,ONES:q,UNIT_X:m,UNIT_Y:t,UNIT_Z:f},Symbol.toStringTag,{value:"Module"}));a.ONES=q;a.UNIT_X=m;a.UNIT_Y=t;a.UNIT_Z=f;a.ZEROS=l;a.clone=c;a.create=b;a.createView=p;a.fromArray=
d;a.fromValues=e;a.ones=u;a.unitX=n;a.unitY=k;a.unitZ=g;a.vec3f64=h;a.zeros=r})},"esri/chunks/common":function(){define(["exports"],function(a){function b(n){return n*p}function c(n){return n*r}function e(n,k){return Math.abs(n-k)<=1E-6*Math.max(1,Math.abs(n),Math.abs(k))}const d=Math.random,p=Math.PI/180,r=180/Math.PI,u=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:1E-6,RANDOM:d,toRadian:b,toDegree:c,equals:e},Symbol.toStringTag,{value:"Module"}));a.EPSILON=1E-6;a.RANDOM=d;a.common=
u;a.equals=e;a.toDegree=c;a.toRadian=b})},"esri/chunks/vec4":function(){define(["exports","./common"],function(a,b){function c(H,I){H[0]=I[0];H[1]=I[1];H[2]=I[2];H[3]=I[3];return H}function e(H,I,L,Q,Z){H[0]=I;H[1]=L;H[2]=Q;H[3]=Z;return H}function d(H,I,L){H[0]=I[0]+L[0];H[1]=I[1]+L[1];H[2]=I[2]+L[2];H[3]=I[3]+L[3];return H}function p(H,I,L){H[0]=I[0]-L[0];H[1]=I[1]-L[1];H[2]=I[2]-L[2];H[3]=I[3]-L[3];return H}function r(H,I,L){H[0]=I[0]*L[0];H[1]=I[1]*L[1];H[2]=I[2]*L[2];H[3]=I[3]*L[3];return H}
function u(H,I,L){H[0]=I[0]/L[0];H[1]=I[1]/L[1];H[2]=I[2]/L[2];H[3]=I[3]/L[3];return H}function n(H,I){H[0]=Math.ceil(I[0]);H[1]=Math.ceil(I[1]);H[2]=Math.ceil(I[2]);H[3]=Math.ceil(I[3]);return H}function k(H,I){H[0]=Math.floor(I[0]);H[1]=Math.floor(I[1]);H[2]=Math.floor(I[2]);H[3]=Math.floor(I[3]);return H}function g(H,I,L){H[0]=Math.min(I[0],L[0]);H[1]=Math.min(I[1],L[1]);H[2]=Math.min(I[2],L[2]);H[3]=Math.min(I[3],L[3]);return H}function l(H,I,L){H[0]=Math.max(I[0],L[0]);H[1]=Math.max(I[1],L[1]);
H[2]=Math.max(I[2],L[2]);H[3]=Math.max(I[3],L[3]);return H}function q(H,I){H[0]=Math.round(I[0]);H[1]=Math.round(I[1]);H[2]=Math.round(I[2]);H[3]=Math.round(I[3]);return H}function m(H,I,L){H[0]=I[0]*L;H[1]=I[1]*L;H[2]=I[2]*L;H[3]=I[3]*L;return H}function t(H,I,L,Q){H[0]=I[0]+L[0]*Q;H[1]=I[1]+L[1]*Q;H[2]=I[2]+L[2]*Q;H[3]=I[3]+L[3]*Q;return H}function f(H,I){const L=I[0]-H[0],Q=I[1]-H[1],Z=I[2]-H[2];H=I[3]-H[3];return Math.sqrt(L*L+Q*Q+Z*Z+H*H)}function h(H,I){const L=I[0]-H[0],Q=I[1]-H[1],Z=I[2]-
H[2];H=I[3]-H[3];return L*L+Q*Q+Z*Z+H*H}function v(H){const I=H[0],L=H[1],Q=H[2];H=H[3];return Math.sqrt(I*I+L*L+Q*Q+H*H)}function w(H){const I=H[0],L=H[1],Q=H[2];H=H[3];return I*I+L*L+Q*Q+H*H}function D(H,I){H[0]=-I[0];H[1]=-I[1];H[2]=-I[2];H[3]=-I[3];return H}function x(H,I){H[0]=1/I[0];H[1]=1/I[1];H[2]=1/I[2];H[3]=1/I[3];return H}function y(H,I){const L=I[0],Q=I[1],Z=I[2];I=I[3];let ca=L*L+Q*Q+Z*Z+I*I;0<ca&&(ca=1/Math.sqrt(ca),H[0]=L*ca,H[1]=Q*ca,H[2]=Z*ca,H[3]=I*ca);return H}function z(H,I){return H[0]*
I[0]+H[1]*I[1]+H[2]*I[2]+H[3]*I[3]}function A(H,I,L,Q){const Z=I[0],ca=I[1],aa=I[2];I=I[3];H[0]=Z+Q*(L[0]-Z);H[1]=ca+Q*(L[1]-ca);H[2]=aa+Q*(L[2]-aa);H[3]=I+Q*(L[3]-I);return H}function C(H,I){I=I||1;let L,Q,Z,ca;let aa;do{L=2*b.RANDOM()-1;Q=2*b.RANDOM()-1;var O=L*L+Q*Q}while(1<=O);do Z=2*b.RANDOM()-1,ca=2*b.RANDOM()-1,aa=Z*Z+ca*ca;while(1<=aa);O=Math.sqrt((1-O)/aa);H[0]=I*L;H[1]=I*Q;H[2]=I*Z*O;H[3]=I*ca*O;return H}function B(H,I,L){const Q=I[0],Z=I[1],ca=I[2];I=I[3];H[0]=L[0]*Q+L[4]*Z+L[8]*ca+L[12]*
I;H[1]=L[1]*Q+L[5]*Z+L[9]*ca+L[13]*I;H[2]=L[2]*Q+L[6]*Z+L[10]*ca+L[14]*I;H[3]=L[3]*Q+L[7]*Z+L[11]*ca+L[15]*I;return H}function E(H,I,L){var Q=I[0];const Z=I[1],ca=I[2],aa=L[0],O=L[1],fa=L[2];L=L[3];const oa=L*Q+O*ca-fa*Z,Da=L*Z+fa*Q-aa*ca,Ha=L*ca+aa*Z-O*Q;Q=-aa*Q-O*Z-fa*ca;H[0]=oa*L+Q*-aa+Da*-fa-Ha*-O;H[1]=Da*L+Q*-O+Ha*-aa-oa*-fa;H[2]=Ha*L+Q*-fa+oa*-O-Da*-aa;H[3]=I[3];return H}function G(H){return"vec4("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+")"}function J(H,I){return H[0]===I[0]&&H[1]===I[1]&&H[2]===
I[2]&&H[3]===I[3]}function K(H,I){const L=H[0],Q=H[1],Z=H[2];H=H[3];const ca=I[0],aa=I[1],O=I[2];I=I[3];return Math.abs(L-ca)<=b.EPSILON*Math.max(1,Math.abs(L),Math.abs(ca))&&Math.abs(Q-aa)<=b.EPSILON*Math.max(1,Math.abs(Q),Math.abs(aa))&&Math.abs(Z-O)<=b.EPSILON*Math.max(1,Math.abs(Z),Math.abs(O))&&Math.abs(H-I)<=b.EPSILON*Math.max(1,Math.abs(H),Math.abs(I))}const F=Object.freeze(Object.defineProperty({__proto__:null,copy:c,set:e,add:d,subtract:p,multiply:r,divide:u,ceil:n,floor:k,min:g,max:l,round:q,
scale:m,scaleAndAdd:t,distance:f,squaredDistance:h,length:v,squaredLength:w,negate:D,inverse:x,normalize:y,dot:z,lerp:A,random:C,transformMat4:B,transformQuat:E,str:G,exactEquals:J,equals:K,sub:p,mul:r,div:u,dist:f,sqrDist:h,len:v,sqrLen:w},Symbol.toStringTag,{value:"Module"}));a.add=d;a.ceil=n;a.copy=c;a.dist=f;a.distance=f;a.div=u;a.divide=u;a.dot=z;a.equals=K;a.exactEquals=J;a.floor=k;a.inverse=x;a.len=v;a.length=v;a.lerp=A;a.max=l;a.min=g;a.mul=r;a.multiply=r;a.negate=D;a.normalize=y;a.random=
C;a.round=q;a.scale=m;a.scaleAndAdd=t;a.set=e;a.sqrDist=h;a.sqrLen=w;a.squaredDistance=h;a.squaredLength=w;a.str=G;a.sub=p;a.subtract=p;a.transformMat4=B;a.transformQuat=E;a.vec4=F})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(c){};a.neverReachedSilent=function(c){};a.tuple=(...c)=>c;a.typeCast=function(c){return()=>c};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;a.NavigationConstraint=l=function(q){function m(t){t=q.call(this,t)||this;t.type="none";return t}b._inheritsLoose(m,q);m.prototype.clone=function(){return new l({type:this.type})};return m}(e.JSONSupport);c.__decorate([k.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=l=c.__decorate([g.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(a,b,c){a.enumeration=function(e,d={}){var p;e=e instanceof b.JSONMap?e:new b.JSONMap(e,d);e={type:(null!=(p=null==d?void 0:d.ignoreUnknown)?p:1)?e.apiValues:String,json:{type:e.jsonValues,read:null!=d&&d.readOnly?!1:{reader:e.read},write:{writer:e.write}}};void 0!==(null==d?void 0:d.readOnly)&&(e.readOnly=!!d.readOnly);void 0!==(null==d?
void 0:d.default)&&(e.json.default=d.default);void 0!==(null==d?void 0:d.name)&&(e.json.name=d.name);return c.property(e)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/
100,1))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/CollectionFlattener":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Collection ./HandleOwner ./maybe ./has ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./arrayUtils ./accessorSupport/ensureType ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n,k,g,l,q,m){e=function(t){function f(v){v=
t.call(this,v)||this;v.getCollections=null;return v}a._inheritsLoose(f,t);var h=f.prototype;h.initialize=function(){this.handles.add(k.autorun(()=>this._refresh()))};h.destroy=function(){this.getCollections=null};h._refresh=function(){const v=d.isSome(this.getCollections)?this.getCollections():null;if(d.isNone(v))this.removeAll();else{var w=0;for(const D of v)d.isSome(D)&&(w=this._processCollection(w,D));this.splice(w,this.length)}};h._createNewInstance=function(v){return new c(v)};h._processCollection=
function(v,w){if(!w)return v;const D=this.itemFilterFunction?this.itemFilterFunction:x=>!!x;for(const x of w)if(x&&(D(x)&&(w=this.indexOf(x,v),0<=w?w!==v&&this.reorder(x,v):this.add(x,v),++v),this.getChildrenFunction))if(w=this.getChildrenFunction(x),Array.isArray(w))for(const y of w)v=this._processCollection(v,y);else v=this._processCollection(v,w);return v};return f}(e.HandleOwnerMixin(c));b.__decorate([g.property()],e.prototype,"getCollections",void 0);b.__decorate([g.property()],e.prototype,"getChildrenFunction",
void 0);b.__decorate([g.property()],e.prototype,"itemFilterFunction",void 0);return e=b.__decorate([m.subclass("esri.core.CollectionFlattener")],e)})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./support/WatchUpdatingTracking".split(" "),function(a,b,c,e,d,p,r,u){const n=k=>{k=function(g){function l(){return g.apply(this,arguments)||this}
b._inheritsLoose(l,g);l.prototype.destroy=function(){var q,m;this.destroyed||(null==(q=this._get("handles"))?void 0:q.destroy(),null==(m=this._get("updatingHandles"))?void 0:m.destroy())};b._createClass(l,[{key:"handles",get:function(){return this._get("handles")||new d}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new u.WatchUpdatingTracking}}]);return l}(k);c.__decorate([p.property({readOnly:!0})],k.prototype,"handles",null);c.__decorate([p.property({readOnly:!0})],
k.prototype,"updatingHandles",null);return k=c.__decorate([r.subclass("esri.core.HandleOwner")],k)};a.HandleOwner=function(k){function g(){return k.apply(this,arguments)||this}b._inheritsLoose(g,k);return g}(n(e));a.HandleOwner=c.__decorate([r.subclass("esri.core.HandleOwner")],a.HandleOwner);a.HandleOwnerMixin=n;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Handles":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Collection ./maybe ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r){c=function(u){function n(g){g=u.call(this,g)||this;g._groups=new Map;return g}a._inheritsLoose(n,u);var k=n.prototype;k.destroy=function(){this.removeAll()};k.add=function(g,l){if(!this._isHandle(g)&&!Array.isArray(g)&&!e.isCollection(g))return this;const q=this._getOrCreateGroup(l);Array.isArray(g)||e.isCollection(g)?g.forEach(m=>this._isHandle(m)&&q.push(m)):q.push(g);this.notifyChange("size");return this};k.forEach=function(g,l){if("function"===typeof g)this._groups.forEach(q=>
q.forEach(g));else{const q=this._getGroup(g);q&&l&&q.forEach(l)}};k.has=function(g){return this._groups.has(this._ensureGroupKey(g))};k.remove=function(g){if(Array.isArray(g)||e.isCollection(g))return g.forEach(this.remove,this),this;if(!this.has(g))return this;const l=this._getGroup(g);for(let q=0;q<l.length;q++)l[q].remove();this._deleteGroup(g);this.notifyChange("size");return this};k.removeAll=function(){this._groups.forEach(g=>{for(let l=0;l<g.length;l++)g[l].remove()});this._groups.clear();
this.notifyChange("size");return this};k._isHandle=function(g){return g&&!!g.remove};k._getOrCreateGroup=function(g){if(this.has(g))return this._getGroup(g);const l=[];this._groups.set(this._ensureGroupKey(g),l);return l};k._getGroup=function(g){return d.assumeNonNull(this._groups.get(this._ensureGroupKey(g)))};k._deleteGroup=function(g){return this._groups.delete(this._ensureGroupKey(g))};k._ensureGroupKey=function(g){return g||"_default_"};a._createClass(n,[{key:"size",get:function(){let g=0;this._groups.forEach(l=>
{g+=l.length});return g}}]);return n}(c);b.__decorate([p.property({readOnly:!0})],c.prototype,"size",null);return c=b.__decorate([r.subclass("esri.core.Handles")],c)})},"esri/core/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Accessor ../Handles ../maybe ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n,k){a.WatchUpdatingTracking=
function(g){function l(){var m=g.apply(this,arguments)||this;m.updating=!1;m.handleId=0;m.handles=new d;m.scheduleHandleId=0;m.pendingPromises=new Set;return m}b._inheritsLoose(l,g);var q=l.prototype;q.destroy=function(){this.removeAll();this.handles.destroy()};q.add=function(m,t,f={}){return this._installWatch(m,t,f,r.watch)};q.addWhen=function(m,t,f={}){return this._installWatch(m,t,f,r.when)};q.addOnCollectionChange=function(m,t,{initial:f=!1,final:h=!1}={}){const v=++this.handleId;this.handles.add([r.on(m,
"after-changes",this._createSyncUpdatingCallback(),r.sync),r.on(m,"change",t,{onListenerAdd:f?w=>t({added:w.toArray(),removed:[]}):void 0,onListenerRemove:h?w=>t({added:[],removed:w.toArray()}):void 0})],v);return{remove:()=>this.handles.remove(v)}};q.addPromise=function(m){if(p.isNone(m))return m;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(m)&&(0!==this.pendingPromises.size||this.handles.has(-42)||this._set("updating",!1))}},t);this.pendingPromises.add(m);this._set("updating",
!0);const f=()=>this.handles.remove(t);m.then(f,f);return m};q.removeAll=function(){this.pendingPromises.clear();this.handles.removeAll();this._set("updating",!1)};q._installWatch=function(m,t,f={},h){const v=++this.handleId;f.sync||this._installSyncUpdatingWatch(m,v);m=h(m,t,f);this.handles.add(m,v);return{remove:()=>this.handles.remove(v)}};q._installSyncUpdatingWatch=function(m,t){const f=this._createSyncUpdatingCallback();m=r.watch(m,f,{sync:!0,equals:()=>!1});this.handles.add(m,t);return m};
q._createSyncUpdatingCallback=function(){return()=>{this.handles.remove(-42);++this.scheduleHandleId;const m=this.scheduleHandleId;this._get("updating")||this._set("updating",!0);this.handles.add(u.schedule(()=>{m===this.scheduleHandleId&&(this._set("updating",0<this.pendingPromises.size),this.handles.remove(-42))}),-42)}};return l}(e);c.__decorate([n.property({readOnly:!0})],a.WatchUpdatingTracking.prototype,"updating",void 0);a.WatchUpdatingTracking=c.__decorate([k.subclass("esri.core.support.WatchUpdatingTracking")],
a.WatchUpdatingTracking);a.WatchFlags=void 0;(function(g){g[g.NONE=0]="NONE";g[g.SYNC=1]="SYNC";g[g.INIT=2]="INIT"})(a.WatchFlags||(a.WatchFlags={}));Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/reactiveUtils":function(){define("exports ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,e,d,p,r){function u(q,m,t={}){return n(q,m,t,g)}function n(q,m,t={},f){let h=
null;const v=t.once?(w,D)=>{f(w)&&(e.removeMaybe(h),m(w,D))}:(w,D)=>{f(w)&&m(w,D)};h=p.watchTracked(q,v,t.sync,t.equals);t.initial&&(q=q(),v(q,q));return h}function k(q,m,t){if(d.isAborted(t))return Promise.reject(d.createAbortError());const f=q();if(null!=m&&m(f))return Promise.resolve(f);let h=null;return new Promise((v,w)=>{h=c.handlesGroup([d.onAbort(t,()=>{h=e.removeMaybe(h);w(d.createAbortError())}),n(q,D=>{h=e.removeMaybe(h);v(D)},{sync:!1,once:!0},null!=m?m:g)])})}function g(q){return!0}function l(q){return!!q}
a.autorun=r.autorun;a.initial={initial:!0};a.on=function(q,m,t,f={}){function h(){w&&D&&(D.remove(),null==f.onListenerRemove?void 0:f.onListenerRemove(w),D=w=null)}function v(z){f.once&&f.once&&e.removeMaybe(x);t(z)}let w=null,D=null,x=null;const y=u(q,(z,A)=>{h();b.isEventTarget(z)&&(w=z,D=b.on(z,m,v),null==f.onListenerAdd?void 0:f.onListenerAdd(z))},{sync:f.sync,initial:!0});return x=c.makeHandle(()=>{y.remove();h()})};a.once=function(q,m){return k(q,null,m)};a.pausable=function(q,m,t={}){let f=
!1;const h=u(q,(v,w)=>{f||m(v,w)},t);return{remove(){h.remove()},pause(){f=!0},resume(){f=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=u;a.when=function(q,m,t={}){return n(q,m,t,l)};a.whenOnce=function(q,m){return k(q,l,m)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/editableLayers":function(){define(["exports"],function(a){a.isEditableLayer=function(b){var c;return!(b&&b.loaded&&"capabilities"in b&&null!=
b&&null!=(c=b.capabilities)&&c.operations&&"supportsEditing"in b.capabilities.operations)||!0!==b.capabilities.operations.supportsEditing||"editingEnabled"in b&&!b.editingEnabled?!1:!0};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(a,b,c,
e,d,p,r,u,n){function k(C,B){var E;let G;if("string"===typeof C){if(!(C in n.esriBasemapDefinitions))return B=Object.entries(n.esriBasemapDefinitions).filter(([,J])=>c.apiKey&&!J.classic||!c.apiKey&&J.classic&&!J.deprecated).map(([J])=>`"${J}"`).join(", "),z.warn(`Unable to find basemap definition for: ${C}. Try one of these: ${B}`),null;B&&(G=B[C]);G||(G=b.fromId(C),B&&(B[C]=G))}else G=u.ensureType(b,C);null!=(E=G)&&E.destroyed&&(z.warn("The provided basemap is already destroyed",{basemap:G}),G=
null);return G}function g(C,B){const E=new e;C.forEach(G=>{const J=B.find(K=>x(f(G),f(K)))||G;E.includes(J)?E.push(G):E.push(J)});return E}function l(C){if(q(C.url))return!0;if("vector-tile"===C.type)for(const B in C.sourceNameToSource){const E=C.sourceNameToSource[B];if(q(null==E?void 0:E.sourceUrl))return!0}return!1}function q(C){if(!C)return!1;C=new r.Url(r.makeAbsolute(C));return A.test(C.authority)}function m(C){return C?!C.loaded&&C.resourceInfo?h(C.resourceInfo.data):{baseLayers:t(C.baseLayers),
referenceLayers:t(C.referenceLayers)}:null}function t(C){return(e.isCollection(C)?C.toArray():C).map(f)}function f(C){var B,E;return{type:C.type,url:y("urlTemplate"in C&&C.urlTemplate||C.url||"styleUrl"in C&&C.styleUrl),minScale:"minScale"in C&&null!=C.minScale?C.minScale:0,maxScale:"maxScale"in C&&null!=C.maxScale?C.maxScale:0,opacity:null!=C.opacity?C.opacity:1,visible:null!=C.visible?!!C.visible:!0,sublayers:"map-image"!==C.type&&"wms"!==C.type||!p.isSome(C.sublayers)?void 0:null==(B=C.sublayers)?
void 0:B.map(G=>({id:G.id,visible:G.visible})),activeLayerId:"wmts"===C.type?null==(E=C.activeLayer)?void 0:E.id:void 0}}function h(C){return C?{baseLayers:v(C.baseMapLayers.filter(B=>!B.isReference)),referenceLayers:v(C.baseMapLayers.filter(B=>B.isReference))}:null}function v(C){return C.map(B=>{{let E;switch(B.layerType){case "VectorTileLayer":E="vector-tile";break;case "ArcGISTiledMapServiceLayer":E="tile";break;default:E="unknown"}B={type:E,url:y(B.templateUrl||B.urlTemplate||B.styleUrl||B.url),
minScale:null!=B.minScale?B.minScale:0,maxScale:null!=B.maxScale?B.maxScale:0,opacity:null!=B.opacity?B.opacity:1,visible:null!=B.visibility?!!B.visibility:!0,sublayers:void 0,activeLayerId:void 0}}return B})}function w(C,B,E){return null!=C!==(null!=B)?"not-equal":C?D(C.baseLayers,B.baseLayers)?D(C.referenceLayers,B.referenceLayers)?"equal":E.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function D(C,B){if(C.length!==B.length)return!1;for(let E=0;E<C.length;E++)if(!x(C[E],
B[E]))return!1;return!0}function x(C,B){if(C.type!==B.type||C.url!==B.url||C.minScale!==B.minScale||C.maxScale!==B.maxScale||C.visible!==B.visible||C.opacity!==B.opacity)return!1;if(p.isSome(C.activeLayerId)||p.isSome(B.activeLayerId))return C.activeLayerId===B.activeLayerId;if(p.isSome(C.sublayers)||p.isSome(B.sublayers)){if(p.isNone(C.sublayers)||p.isNone(B.sublayers)||C.sublayers.length!==B.sublayers.length)return!1;for(let E=0;E<C.sublayers.length;E++){const G=C.sublayers.at(E),J=B.sublayers.at(E);
if(G.id!==J.id||G.visible!==J.visible)return!1}}return!0}function y(C){return C?r.normalize(C).replace(/^\s*https?:/i,"").toLowerCase():""}const z=d.getLogger("esri.support.basemapUtils"),A=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(C,B=null){C=k(C);if(!C)return null;const E=new b({id:C.id,title:C.title,baseLayers:C.baseLayers.slice(),referenceLayers:C.referenceLayers.slice()});B&&(E.baseLayers=g(E.baseLayers,B.baseLayers),E.referenceLayers=g(E.referenceLayers,
B.referenceLayers));E.load().catch(()=>{});E.portalItem=C.portalItem;return E};a.contentEquals=function(C,B){if(C===B)return!0;C=m(C);B=m(B);return"equal"===w(C,B,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(C){for(const B in C){const E=C[B];!1===(null==E?void 0:E.destroyed)&&E.destroy();delete C[B]}};a.ensureType=k;a.findSpatialReference=function(C,B){var E,G,J;if(p.isNone(B)||p.isNone(C))return{spatialReference:null,updating:!1};if("not-loaded"===B.loadStatus)return B.load(),
{spatialReference:null,updating:!0};if(B.spatialReference)return{spatialReference:B.spatialReference,updating:!1};if(0===B.baseLayers.length)return{spatialReference:null,updating:!1};B=B.baseLayers.getItemAt(0);switch(B.loadStatus){case "not-loaded":B.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}B=(("supportedSpatialReferences"in B?B.supportedSpatialReferences:null)||["tileInfo"in B?null==(E=B.tileInfo)?void 0:E.spatialReference:
B.spatialReference]).filter(Boolean);return C.spatialReference?{spatialReference:null!=(G=null!=(J=B.find(K=>C.spatialReference.equals(K)))?J:B[0])?G:null,updating:!1}:{spatialReference:B[0],updating:!1}};a.getWellKnownBasemapId=function(C){let B=null;C=m(C);const E=!C.baseLayers.length;for(const J in n.esriBasemapDefinitions){var G=h(n.esriBasemapDefinitions[J]);G=w(C,G,{mustMatchReferences:E});if("equal"===G){B=J;break}"base-layers-equal"===G&&(B=J)}return B};a.hasDeveloperBasemapLayer=function(C){return!(null==
C||!C.baseLayers.concat(C.referenceLayers).some(l))};a.isDeveloperBasemapLayer=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],function(a,b){a.createFlattenedTablesCollection=function(c){return new b({getCollections:()=>[c.tables,c.layers],getChildrenFunction:e=>{const d=[];"tables"in e&&d.push(e.tables);"layers"in e&&d.push(e.layers);return d},itemFilterFunction:e=>
{const d=e.parent;return d&&"tables"in d&&d.tables.includes(e)}})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,e){const d=c.getLogger("esri.support.groundUtils"),p={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},
"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(r){let u=null;"string"===typeof r?r in p?u=new b({resourceInfo:{data:{layers:[p[r]]}}}):d.warn(`Unable to find ground definition for: ${r}. Try "world-elevation"`):u=e.ensureType(b,r);return u};a.groundElevationLayers=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/support/LayersMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),function(a,b,c,e,d,p,r,u,n,k,g,l,q){function m(f,h,v){if(f)for(let x=0,y=f.length;x<y;x++){var w;var D=f.getItemAt(x);if(D[h]===v||
"group"===(null==(w=D)?void 0:w.type)&&(D=m(D.layers,h,v)))return D}}const t=p.getLogger("esri.support.LayersMixin");a.LayersMixin=f=>{f=function(h){function v(...D){var x=h.call(this,...D)||this;x.layers=new e;x.layers.on("before-add",y=>{y=y.item;y.parent&&"remove"in y.parent&&y.parent.remove(y)});x.layers.on("after-add",y=>{y=y.item;y.parent=b._assertThisInitialized(x);x.layerAdded(y);"elevation"!==y.type&&"base-elevation"!==y.type||t.error(`Layer 'title:${y.title}, id:${y.id}' of type '${y.type}' is not supported as an operational layer and will therefore be ignored.`)});
x.layers.on("after-remove",y=>{y=y.item;y.parent=null;x.layerRemoved(y)});return x}b._inheritsLoose(v,h);var w=v.prototype;w.destroy=function(){const D=this.layers.removeAll();for(const x of D)this.layerRemoved(x),x.destroy();this.layers.destroy()};w.add=function(D,x){const y=this.layers;x=y.getNextIndex(x);D instanceof q?D.parent===this?this.reorder(D,x):y.add(D,x):r.isPromiseLike(D)?D.then(z=>{this.destroyed||this.add(z,x)}):t.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};
w.addMany=function(D,x){const y=this.layers;x=y.getNextIndex(x);D.slice().forEach(z=>{z.parent===this?this.reorder(z,x):(y.add(z,x),x+=1)})};w.findLayerById=function(D){return m(this.layers,"id",D)};w.findLayerByUid=function(D){return m(this.layers,"uid",D)};w.remove=function(D){return this.layers.remove(D)};w.removeMany=function(D){return this.layers.removeMany(D)};w.removeAll=function(){return this.layers.removeAll()};w.reorder=function(D,x){return this.layers.reorder(D,x)};w.layerAdded=function(D){};
w.layerRemoved=function(D){};b._createClass(v,[{key:"layers",set:function(D){this._set("layers",d.referenceSetter(D,this._get("layers")))}}]);return v}(f);c.__decorate([u.property()],f.prototype,"layers",null);return f=c.__decorate([l.subclass("esri.support.LayersMixin")],f)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/Layer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D){let x=0;e=function(y){function z(){var C=y.apply(this,arguments)||this;C.attributionDataUrl=null;C.fullExtent=new w(-180,-90,180,90,D.WGS84);C.id=Date.now().toString(16)+"-layer-"+x++;C.legendEnabled=!0;C.listMode="show";C.opacity=1;C.parent=null;C.popupEnabled=!0;C.attributionVisible=!0;C.spatialReference=D.WGS84;C.title=null;C.type=null;C.url=null;C.visible=!0;return C}b._inheritsLoose(z,y);z.fromArcGISServerUrl=function(){var C=b._asyncToGenerator(function*(B){B=
"string"===typeof B?{url:B}:B;return(yield new Promise((E,G)=>a(["./support/arcgisLayers"],E,G))).fromUrl(B)});return function(B){return C.apply(this,arguments)}}();z.fromPortalItem=function(C){return v.fromPortalItem(C)};var A=z.prototype;A.initialize=function(){this.when().catch(C=>{if(!g.isAbortError(C)){var B,E;k.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(B=this.title)?B:"no title"}', id: '${null!=(E=this.id)?E:"no id"}')`,{error:C})}})};A.destroy=function(){if(this.parent){const C=
this.parent;"layers"in C&&C.layers.includes(this)?C.layers.remove(this):"tables"in C&&C.tables.includes(this)?C.tables.remove(this):"baseLayers"in C&&C.baseLayers.includes(this)?C.baseLayers.remove(this):"baseLayers"in C&&C.referenceLayers.includes(this)&&C.referenceLayers.remove(this)}};A.fetchAttributionData=function(){var C=b._asyncToGenerator(function*(){const B=this.attributionDataUrl;if(this.hasAttributionData&&B)return(yield d(B,{query:{f:"json"},responseType:"json"})).data;throw new p("layer:no-attribution-data",
"Layer does not have attribution data");});return function(){return C.apply(this,arguments)}}();b._createClass(z,[{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){const C=this.url;return C?l.urlToObject(C):null}}]);return z}(r.EventedMixin(u.IdentifiableMixin(n)));c.__decorate([q.property({type:String})],e.prototype,"attributionDataUrl",void 0);c.__decorate([q.property({type:w})],e.prototype,"fullExtent",void 0);c.__decorate([q.property({readOnly:!0})],
e.prototype,"hasAttributionData",null);c.__decorate([q.property({type:String,clonable:!1})],e.prototype,"id",void 0);c.__decorate([q.property({type:Boolean,nonNullable:!0})],e.prototype,"legendEnabled",void 0);c.__decorate([q.property({type:["show","hide","hide-children"]})],e.prototype,"listMode",void 0);c.__decorate([q.property({type:Number,range:{min:0,max:1},nonNullable:!0})],e.prototype,"opacity",void 0);c.__decorate([q.property({clonable:!1})],e.prototype,"parent",void 0);c.__decorate([q.property({readOnly:!0})],
e.prototype,"parsedUrl",null);c.__decorate([q.property({type:Boolean})],e.prototype,"popupEnabled",void 0);c.__decorate([q.property({type:Boolean})],e.prototype,"attributionVisible",void 0);c.__decorate([q.property({type:D})],e.prototype,"spatialReference",void 0);c.__decorate([q.property({type:String})],e.prototype,"title",void 0);c.__decorate([q.property({readOnly:!0,json:{read:!1}})],e.prototype,"type",void 0);c.__decorate([q.property()],e.prototype,"url",void 0);c.__decorate([q.property({type:Boolean,
nonNullable:!0})],e.prototype,"visible",void 0);return e=c.__decorate([h.subclass("esri.layers.Layer")],e)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),function(a,b,c,e,d,p,r,u,n,k,g){const l={base:e,key:"type",typeMap:{extent:c,multipoint:d,point:p,polyline:u,
polygon:r}};b=b.ensureOneOfType(l);a.Extent=c;a.BaseGeometry=e;a.Multipoint=d;a.Point=p;a.Polygon=r;a.Polyline=u;a.SpatialReference=n;a.featureGeometryTypeKebabDictionary=k.featureGeometryTypeKebabDictionary;a.isFeatureGeometryType=k.isFeatureGeometryType;a.typeKebabDictionary=k.typeKebabDictionary;a.fromJSON=g.fromJSON;a.ensureType=b;a.geometryTypes=l;a.isGeometry=function(q){return q instanceof e};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){function l(m){return(t,f)=>null==t?f:null==f?t:m(t,f)}var q;d=q=function(m){function t(...h){h=m.call(this,...h)||this;h.points=[];h.type="multipoint";return h}a._inheritsLoose(t,m);var f=t.prototype;f.normalizeCtorArgs=function(h,v){if(!h&&!v)return null;const w={};Array.isArray(h)?(w.points=h,w.spatialReference=v):!h||"esri.geometry.SpatialReference"!==h.declaredClass&&null==h.wkid?(h.points&&(w.points=h.points),h.spatialReference&&(w.spatialReference=h.spatialReference),
h.hasZ&&(w.hasZ=h.hasZ),h.hasM&&(w.hasM=h.hasM)):w.spatialReference=h;if(h=w.points&&w.points[0])void 0===w.hasZ&&void 0===w.hasM?(w.hasZ=2<h.length,w.hasM=!1):void 0===w.hasZ?w.hasZ=3<h.length:void 0===w.hasM&&(w.hasM=3<h.length);return w};f.writePoints=function(h,v){v.points=c.clone(this.points)};f.addPoint=function(h){g.updateSupportFromPoint(this,h);Array.isArray(h)?this.points.push(h):this.points.push(h.toArray());this.notifyChange("points");return this};f.clone=function(){const h={points:c.clone(this.points),
spatialReference:this.spatialReference};this.hasZ&&(h.hasZ=!0);this.hasM&&(h.hasM=!0);return new q(h)};f.getPoint=function(h){if(!this._validateInputs(h))return null;h=this.points[h];const v={x:h[0],y:h[1],spatialReference:this.spatialReference};let w=2;this.hasZ&&(v.z=h[2],w=3);this.hasM&&(v.m=h[w]);return new k(v)};f.removePoint=function(h){if(!this._validateInputs(h))return null;h=new k(this.points.splice(h,1)[0],this.spatialReference);this.notifyChange("points");return h};f.setPoint=function(h,
v){if(!this._validateInputs(h))return this;g.updateSupportFromPoint(this,v);Array.isArray(v)||(v=v.toArray());this.points[h]=v;this.notifyChange("points");return this};f.toJSON=function(h){return this.write({},h)};f._validateInputs=function(h){return null!=h&&0<=h&&h<this.points.length};a._createClass(t,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const h=
this.points;if(!h.length)return null;const v=new u,w=this.hasZ,D=this.hasM,x=w?3:2;var y=h[0];const z=l(Math.min),A=l(Math.max);let [C,B]=y,[E,G]=y,J,K,F,H;for(let I=0,L=h.length;I<L;I++){y=h[I];const [Q,Z]=y;C=z(C,Q);B=z(B,Z);E=A(E,Q);G=A(G,Z);if(w&&2<y.length){const ca=y[2];J=z(J,ca);F=A(F,ca)}D&&y.length>x&&(y=y[x],K=z(K,y),H=A(H,y))}v.xmin=C;v.ymin=B;v.xmax=E;v.ymax=G;v.spatialReference=this.spatialReference;w?(v.zmin=J,v.zmax=F):(v.zmin=null,v.zmax=null);D?(v.mmin=K,v.mmax=H):(v.mmin=null,v.mmax=
null);return v}}]);return t}(n);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property()],d.prototype,"extent",null);b.__decorate([e.property({type:[[Number]],json:{write:{isRequired:!0}}})],d.prototype,"points",void 0);b.__decorate([r.writer("points")],d.prototype,"writePoints",null);d=q=b.__decorate([p.subclass("esri.geometry.Multipoint")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=
function(b,c,e=!1){let {hasM:d,hasZ:p}=b;Array.isArray(c)?4!==c.length||d||p?3===c.length&&e&&!d?(p=!0,d=!1):3===c.length&&d&&p&&(p=d=!1):p=d=!0:(p=!p&&c.hasZ&&(!d||c.hasM),d=!d&&c.hasM&&(!p||c.hasZ));b.hasZ=p;b.hasM=d};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D){var x;r=x=function(y){function z(...C){C=y.call(this,...C)||this;C.rings=[];C.type="polygon";return C}a._inheritsLoose(z,y);z.fromExtent=function(C){var B=C.clone().normalize();C=C.spatialReference;let E=!1,G=!1;for(const J of B)J.hasZ&&(E=!0),J.hasM&&(G=!0);B={rings:B.map(J=>{const K=[[J.xmin,J.ymin],[J.xmin,J.ymax],[J.xmax,J.ymax],[J.xmax,J.ymin],[J.xmin,J.ymin]];if(E&&J.hasZ){var F=J.zmin+.5*(J.zmax-J.zmin);for(let H=0;H<K.length;H++)K[H].push(F)}if(G&&
J.hasM)for(J=J.mmin+.5*(J.mmax-J.mmin),F=0;F<K.length;F++)K[F].push(J);return K}),spatialReference:C};E&&(B.hasZ=!0);G&&(B.hasM=!0);return new x(B)};var A=z.prototype;A.normalizeCtorArgs=function(C,B){let E=null,G,J,K=null;C&&!Array.isArray(C)?(E=C.rings?C.rings:null,B||(C.spatialReference?B=C.spatialReference:C.rings||(B=C)),G=C.hasZ,J=C.hasM):E=C;E=E||[];B=B||q.WGS84;E.length&&E[0]&&null!=E[0][0]&&"number"===typeof E[0][0]&&(E=[E]);if(K=E[0]&&E[0][0])void 0===G&&void 0===J?(G=2<K.length,J=3<K.length):
void 0===G?G=J?3<K.length:2<K.length:void 0===J&&(J=G?3<K.length:2<K.length);return{rings:E,spatialReference:B,hasZ:G,hasM:J}};A.writeRings=function(C,B){B.rings=e.clone(this.rings)};A.addRing=function(C){if(C){var B=this.rings,E=B.length;if(Array.isArray(C[0]))B[E]=C.concat();else{const G=[];for(let J=0,K=C.length;J<K;J++)G[J]=C[J].toArray();B[E]=G}this.notifyChange("rings");return this}};A.clone=function(){const C=new x;C.spatialReference=this.spatialReference;C.rings=e.clone(this.rings);C.hasZ=
this.hasZ;C.hasM=this.hasM;return C};A.equals=function(C){if(this===C)return!0;if(d.isNone(C))return!1;var B=this.spatialReference,E=C.spatialReference;if(d.isSome(B)!==d.isSome(E)||d.isSome(B)&&d.isSome(E)&&!B.equals(E)||this.rings.length!==C.rings.length)return!1;B=([G,J,K,F],[H,I,L,Q])=>G===H&&J===I&&(null==K&&null==L||K===L)&&(null==F&&null==Q||F===Q);for(E=0;E<this.rings.length;E++)if(!c.equals(this.rings[E],C.rings[E],B))return!1;return!0};A.contains=function(C){if(!C)return!1;const B=w.project(C,
this.spatialReference);return t.polygonContainsPoint(this,d.isSome(B)?B:C)};A.isClockwise=function(C){C=Array.isArray(C[0])?C:C.map(B=>this.hasZ?this.hasM?[B.x,B.y,B.z,B.m]:[B.x,B.y,B.z]:[B.x,B.y]);return f.isClockwise(C,this.hasM,this.hasZ)};A.getPoint=function(C,B){if(!this._validateInputs(C,B))return null;C=this.rings[C][B];B=this.hasZ;const E=this.hasM;return B&&!E?new l(C[0],C[1],C[2],void 0,this.spatialReference):E&&!B?new l(C[0],C[1],void 0,C[2],this.spatialReference):B&&E?new l(C[0],C[1],
C[2],C[3],this.spatialReference):new l(C[0],C[1],this.spatialReference)};A.insertPoint=function(C,B,E){if(!this._validateInputs(C,B,!0))return this;D.updateSupportFromPoint(this,E);Array.isArray(E)||(E=E.toArray());this.rings[C].splice(B,0,E);this.notifyChange("rings");return this};A.removePoint=function(C,B){if(!this._validateInputs(C,B))return null;C=new l(this.rings[C].splice(B,1)[0],this.spatialReference);this.notifyChange("rings");return C};A.removeRing=function(C){if(!this._validateInputs(C,
null))return null;C=this.rings.splice(C,1)[0];const B=this.spatialReference;C=C.map(E=>new l(E,B));this.notifyChange("rings");return C};A.setPoint=function(C,B,E){if(!this._validateInputs(C,B))return this;D.updateSupportFromPoint(this,E);Array.isArray(E)||(E=E.toArray());this.rings[C][B]=E;this.notifyChange("rings");return this};A._validateInputs=function(C,B,E=!1){return null==C||0>C||C>=this.rings.length||null!=B&&(C=this.rings[C],E&&(0>B||B>C.length)||!E&&(0>B||B>=C.length))?!1:!0};A.toJSON=function(C){return this.write({},
C)};a._createClass(z,[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const C=m.polygonCentroid(this);if(!C||isNaN(C[0])||isNaN(C[1])||this.hasZ&&isNaN(C[2]))return null;const B=new l;B.x=C[0];B.y=C[1];B.spatialReference=this.spatialReference;this.hasZ&&(B.z=C[2]);return B}},{key:"extent",get:function(){const {spatialReference:C}=this;var B=h.getPolygonExtent(this);
if(!B)return null;B=new k(B);B.spatialReference=C;return B}},{key:"isSelfIntersecting",get:function(){return v.isSelfIntersecting(this.rings)}}]);return z}(g);b.__decorate([p.property({readOnly:!0})],r.prototype,"cache",null);b.__decorate([p.property({readOnly:!0})],r.prototype,"centroid",null);b.__decorate([p.property({readOnly:!0})],r.prototype,"extent",null);b.__decorate([p.property({readOnly:!0})],r.prototype,"isSelfIntersecting",null);b.__decorate([p.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
r.prototype,"rings",void 0);b.__decorate([n.writer("rings")],r.prototype,"writeRings",null);r=x=b.__decorate([u.subclass("esri.geometry.Polygon")],r);r.prototype.toJSON.isDefaultToJSON=!0;return r})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,b){function c(p,r){if(!p||!p.length)return null;const u=[],n=[],k=r?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let g=0,l=p.length;g<l;g++){const q=e(p[g],
r,k);q&&n.push(q)}n.sort((g,l)=>{let q=g[2]-l[2];0===q&&r&&(q=g[4]-l[4]);return q});n.length&&(u[0]=n[0][0],u[1]=n[0][1],r&&(u[2]=n[0][3]),u[0]<k[0]||u[0]>k[1]||u[1]<k[2]||u[1]>k[3]||r&&(u[2]<k[4]||u[2]>k[5]))&&(u.length=0);if(!u.length)if(p=p[0]&&p[0].length?d(p[0],r):null)u[0]=p[0],u[1]=p[1],r&&2<p.length&&(u[2]=p[2]);else return null;return u}function e(p,r,u){let n=0,k=0,g=0,l=0,q=0;const m=p.length?p[0][0]:0,t=p.length?p[0][1]:0,f=p.length&&r?p[0][2]:0;for(let v=0;v<p.length;v++){var h=p[v];
const w=p[(v+1)%p.length],[D,x,y]=h,z=D-m,A=x-t,C=r?y-f:void 0,[B,E,G]=w,J=B-m,K=E-t,F=r?G-f:void 0,H=z*K-J*A;l+=H;n+=(z+J)*H;k+=(A+K)*H;r&&2<h.length&&2<w.length&&(h=z*F-J*C,g+=(C+F)*h,q+=h);D<u[0]&&(u[0]=D);D>u[1]&&(u[1]=D);x<u[2]&&(u[2]=x);x>u[3]&&(u[3]=x);r&&(y<u[4]&&(u[4]=y),y>u[5]&&(u[5]=y))}0<l&&(l*=-1);0<q&&(q*=-1);if(!l)return null;l*=.5;q*=.5;p=[n/(6*l)+m,k/(6*l)+t,l];r&&(u[4]===u[5]||0===q?(p[3]=(u[4]+u[5])/2,p[4]=0):(p[3]=g/(6*q)+f,p[4]=q));return p}function d(p,r){const u=r?[0,0,0]:[0,
0],n=r?[0,0,0]:[0,0];let k=0,g=0,l=0,q=0;for(let t=0,f=p.length;t<f-1;t++){var m=p[t];const h=p[t+1];if(m&&h){u[0]=m[0];u[1]=m[1];n[0]=h[0];n[1]=h[1];r&&2<m.length&&2<h.length&&(u[2]=m[2],n[2]=h[2]);const v=b.getLength(u,n);v&&(k+=v,m=b.getMidpoint(m,h),g+=v*m[0],l+=v*m[1],r&&2<m.length&&(q+=v*m[2]))}}return 0<k?r?[g/k,l/k,q/k]:[g/k,l/k]:p.length?p[0]:null}a.extentCentroid=function(p){return p?p.hasZ?[p.xmax-p.xmin/2,p.ymax-p.ymin/2,p.zmax-p.zmin/2]:[p.xmax-p.xmin/2,p.ymax-p.ymin/2]:null};a.lineCentroid=
d;a.polygonCentroid=function(p){return p?c(p.rings,p.hasZ):null};a.ringsCentroid=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/coordsUtils":function(){define(["exports","./spatialReferenceUtils"],function(a,b){function c(r,u){const n=u[0]-r[0],k=u[1]-r[1];return 2<r.length&&2<u.length?(r=r[2]-u[2],Math.sqrt(n*n+k*k+r*r)):Math.sqrt(n*n+k*k)}function e(r,u,n){const k=r[0]+n*(u[0]-r[0]),g=r[1]+n*(u[1]-r[1]);return 2<r.length&&2<u.length?
[k,g,r[2]+n*(u[2]-r[2])]:[k,g]}function d(r,u,n){const k=r.length;let g=0,l=0,q=0;for(let m=0;m<k;m++){const t=r[m],f=r[(m+1)%k];let h=2;g+=t[0]*f[1]-f[0]*t[1];2<t.length&&2<f.length&&n&&(l+=t[0]*f[2]-f[0]*t[2],h=3);t.length>h&&f.length>h&&u&&(q+=t[0]*f[h]-f[0]*t[h])}return 0>=g&&0>=l&&0>=q}function p(r,u){if(u=b.getInfo(u)){var n=u.valid[0],k=u.valid[1],g=k-n;for(const l of r){let q=Infinity,m=-Infinity;l.forEach(t=>{let f=t[0];for(;f<n;)f+=g;for(;f>k;)f-=g;q=Math.min(q,f);m=Math.max(m,f);t[0]=f});
r=m-q;g-r<r&&l.forEach(t=>{0>t[0]&&(t[0]+=g)})}}}a.closeRings=function(r){if("rings"in r)for(const u of r.rings)3>u.length||u[0][0]===u[u.length-1][0]&&u[0][1]===u[u.length-1][1]||u.push([u[0][0],u[0][1]])};a.closeRingsAndFixWinding=function(r){if("rings"in r){for(var u of r.rings)3>u.length||u[0][0]===u[u.length-1][0]&&u[0][1]===u[u.length-1][1]||u.push([u[0][0],u[0][1]]);if(0<r.rings.length&&!d(r.rings[0],r.hasM,r.hasZ))for(u=0;u<r.rings.length;++u)r.rings[u]=r.rings[u].reverse()}};a.computeUnnormalizedVertexPositionsOnDateLineCrossing=
function(r,u,n,k){let g=Infinity,l=-Infinity;r.forEach(m=>{let t=m.pos[0];for(;t<u;)t+=k;for(;t>n;)t-=k;g=Math.min(g,t);l=Math.max(l,t);m.unnormalizedPos[0]=t;m.unnormalizedPos[1]=m.pos[1];2<m.pos.length&&(m.unnormalizedPos[2]=m.pos[2]);3<m.pos.length&&(m.unnormalizedPos[3]=m.pos[3])});const q=l-g;k-q<q&&r.forEach(m=>{0>m.unnormalizedPos[0]&&(m.unnormalizedPos[0]+=k)})};a.geometryToCoordinates=function(r){if(!r)return null;if(Array.isArray(r))return r;const u=r.hasZ,n=r.hasM;if("point"===r.type)return n&&
u?[r.x,r.y,r.z,r.m]:u?[r.x,r.y,r.z]:n?[r.x,r.y,r.m]:[r.x,r.y];if("polygon"===r.type)return r.rings.slice(0);if("polyline"===r.type)return r.paths.slice(0);if("multipoint"===r.type)return r.points.slice(0);if("extent"===r.type){r=r.clone().normalize();if(!r)return null;let k=!1,g=!1;r.forEach(l=>{l.hasZ&&(k=!0);l.hasM&&(g=!0)});return r.map(l=>{const q=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(k&&l.hasZ){var m=.5*(l.zmax-l.zmin);for(let t=0;t<q.length;t++)q[t].push(m)}if(g&&
l.hasM)for(l=.5*(l.mmax-l.mmin),m=0;m<q.length;m++)q[m].push(l);return q})}return null};a.getLength=c;a.getMidpoint=function(r,u){return e(r,u,.5)};a.getPathLength=function(r){const u=r.length;let n=0;for(let k=0;k<u-1;++k)n+=c(r[k],r[k+1]);return n};a.getPointOnPath=function(r,u){if(0>=u)return r[0];const n=r.length;let k=0;for(let g=0;g<n-1;++g){const l=c(r[g],r[g+1]);if(u-k<l)return e(r[g],r[g+1],(u-k)/l);k+=l}return r[n-1]};a.getRingArea=function(r){const u=r.length;let n=0;for(let k=0;k<u;k++){const g=
r[k],l=r[(k+1)%u];n+=g[0]*l[1]-l[0]*g[1]}return n};a.isClockwise=d;a.projectPointOnLine=function(r,u,n,k){const [g,l]=u,[q,m]=n[k],[t,f]=n[k+1];u=t-q;n=f-m;k=Math.min(1,Math.max(0,((g-q)*u+(l-m)*n)/(u*u+n*n)));r[0]=q+u*k;r[1]=m+n*k;return r};a.unnormalizeGeometryOnDatelineCrossing=function(r){if("polygon"!==r.type&&"polyline"!==r.type)return r;p("polygon"===r.type?r.rings:r.paths,r.spatialReference);return r};a.unnormalizeVerticesOnDatelineCrossing=p;Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function c(n,k=!1,g=!1){return k?g?{xmin:n[0],ymin:n[1],zmin:n[2],mmin:n[3],xmax:n[4],ymax:n[5],zmax:n[6],mmax:n[7]}:{xmin:n[0],ymin:n[1],zmin:n[2],xmax:n[3],ymax:n[4],zmax:n[5]}:g?{xmin:n[0],ymin:n[1],mmin:n[2],xmax:n[3],ymax:n[4],mmax:n[5]}:{xmin:n[0],ymin:n[1],xmax:n[2],ymax:n[3]}}function e(n){const {hasZ:k,hasM:g,points:l}=n;return c(b.getPointsBounds(u,l,
k,g),k,g)}function d(n){const {x:k,y:g,z:l,m:q}=n;n=null!=q;return null!=l?n?{xmin:k,ymin:g,zmin:l,mmin:q,xmax:k,ymax:g,zmax:l,mmax:q}:{xmin:k,ymin:g,zmin:l,xmax:k,ymax:g,zmax:l}:n?{xmin:k,ymin:g,mmin:q,xmax:k,ymax:g,mmax:q}:{xmin:k,ymin:g,xmax:k,ymax:g}}function p(n){const {hasZ:k,hasM:g,rings:l}=n;return(n=b.getRingsOrPathsBounds(u,l,k,g))?c(n,k,g):null}function r(n){const {hasZ:k,hasM:g,paths:l}=n;return(n=b.getRingsOrPathsBounds(u,l,k,g))?c(n,k,g):null}const u=[];a.getGeometryExtent=function(n){return n?
void 0!==n.xmin&&void 0!==n.ymin&&void 0!==n.xmax&&void 0!==n.ymax?n:void 0!==n.x&&void 0!==n.y?d(n):void 0!==n.rings?p(n):void 0!==n.paths?r(n):void 0!==n.points?e(n):null:null};a.getMultipointExtent=e;a.getPointExtent=d;a.getPolygonExtent=p;a.getPolylineExtent=r;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],function(a){function b(n){return void 0!==n.xmin&&void 0!==n.ymin&&void 0!==n.xmax&&
void 0!==n.ymax}function c(n){return(k,g)=>null==k?g:null==g?k:n(k,g)}function e(n,k,g,l){const q=g?3:2;if(!k.length||!k[0].length)return null;let [m,t]=k[0][0],[f,h]=k[0][0],v=void 0,w=void 0,D=void 0;var x=void 0;for(let y=0;y<k.length;y++){const z=k[y];for(let A=0;A<z.length;A++){const C=z[A],[B,E]=C;m=r(m,B);t=r(t,E);f=u(f,B);h=u(h,E);if(g&&2<C.length){const G=C[2];v=r(v,G);w=u(w,G)}l&&C.length>q&&(x=C[q],D=r(v,x),x=u(w,x))}}if(g){if(l)return n[0]=m,n[1]=t,n[2]=v,n[3]=D,n[4]=f,n[5]=h,n[6]=w,n[7]=
x,n.length=8,n;n[0]=m;n[1]=t;n[2]=v;n[3]=f;n[4]=h;n[5]=w;n.length=6;return n}if(l)return n[0]=m,n[1]=t,n[2]=D,n[3]=f,n[4]=h,n[5]=x,n.length=6,n;n[0]=m;n[1]=t;n[2]=f;n[3]=h;n.length=4;return n}function d(n,k,g,l,q,m){g=k.xmin;l=k.xmax;const t=k.ymin,f=k.ymax;let h=k.zmin,v=k.zmax,w=k.mmin;k=k.mmax;if(q){h=h||0;v=v||0;if(m)return n[0]=g,n[1]=t,n[2]=h,n[3]=w||0,n[4]=l,n[5]=f,n[6]=v,n[7]=k||0,n;n[0]=g;n[1]=t;n[2]=h;n[3]=l;n[4]=f;n[5]=v;return n}if(m)return n[0]=g,n[1]=t,n[2]=w||0,n[3]=l,n[4]=f,n[5]=k||
0,n;n[0]=g;n[1]=t;n[2]=l;n[3]=f;return n}function p(n,k,g,l,q,m){const t=g?3:2;l=l&&m;g=g&&q;if(!k.length||!k[0].length)return null;let [f,h]=k[0],[v,w]=k[0],D=void 0,x=void 0,y=void 0;var z=void 0;for(let A=0;A<k.length;A++){const C=k[A],[B,E]=C;f=r(f,B);h=r(h,E);v=u(v,B);w=u(w,E);if(g&&2<C.length){const G=C[2];D=r(D,G);x=u(x,G)}l&&C.length>t&&(z=C[t],y=r(D,z),z=u(x,z))}if(q){D=D||0;x=x||0;if(m)return n[0]=f,n[1]=h,n[2]=D,n[3]=y||0,n[4]=v,n[5]=w,n[6]=x,n[7]=z||0,n;n[0]=f;n[1]=h;n[2]=D;n[3]=v;n[4]=
w;n[5]=x;return n}if(m)return n[0]=f,n[1]=h,n[2]=y||0,n[3]=v,n[4]=w,n[5]=z||0,n;n[0]=f;n[1]=h;n[2]=v;n[3]=w;return n}const r=c(Math.min),u=c(Math.max);a.getBoundsXY=function(n,k){if(void 0!==k.paths)return e(n,k.paths,!1,!1);if(void 0!==k.rings)return e(n,k.rings,!1,!1);if(void 0!==k.points)return p(n,k.points,!1,!1,!1,!1);if(b(k))return d(n,k);void 0!==k.x&&void 0!==k.y&&(n[0]=k.x,n[1]=k.y,n[2]=k.x,n[3]=k.y);return n};a.getBoundsXYZ=function(n,k){if(void 0!==k.paths)return e(n,k.paths,!0,!1);if(void 0!==
k.rings)return e(n,k.rings,!0,!1);if(void 0!==k.points)return p(n,k.points,!0,!1,!0,!1);if(b(k))return d(n,k,!0,!1,!0,!1);void 0!==k.x&&void 0!==k.y&&(n[0]=k.x,n[1]=k.y,n[2]=k.z,n[3]=k.x,n[4]=k.y,n[5]=k.z);return n};a.getExtentBounds=d;a.getPointsBounds=p;a.getPointsBoundsCenterX=function(n){if(!n.length||!n[0].length)return null;let [k]=n[0],[g]=n[0];for(let l=0;l<n.length;l++){const [q]=n[l];k=r(k,q);g=u(g,q)}return k+.5*(g-k)};a.getPointsBoundsWidth=function(n){if(!n.length||!n[0].length)return null;
let [k]=n[0],[g]=n[0];for(let l=0;l<n.length;l++){const [q]=n[l];k=r(k,q);g=u(g,q)}return g-k};a.getRingsOrPathsBounds=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;d=m=function(t){function f(...v){v=t.call(this,...v)||this;v.paths=[];v.type="polyline";return v}a._inheritsLoose(f,t);var h=f.prototype;h.normalizeCtorArgs=function(v,w){let D=null,x,y,z=null;v&&!Array.isArray(v)?(D=v.paths?v.paths:null,w||(v.spatialReference?w=v.spatialReference:v.paths||(w=v)),x=v.hasZ,y=v.hasM):D=v;D=D||[];w=w||g.WGS84;D.length&&D[0]&&null!=D[0][0]&&"number"===typeof D[0][0]&&(D=[D]);if(z=D[0]&&D[0][0])void 0===x&&void 0===y?(x=2<z.length,
y=!1):void 0===x?x=!y&&3<z.length:void 0===y&&(y=!x&&3<z.length);return{paths:D,spatialReference:w,hasZ:x,hasM:y}};h.writePaths=function(v,w){w.paths=c.clone(this.paths)};h.addPath=function(v){if(v){var w=this.paths,D=w.length;if(Array.isArray(v[0]))w[D]=v.concat();else{const x=[];for(let y=0,z=v.length;y<z;y++)x[y]=v[y].toArray();w[D]=x}this.notifyChange("paths");return this}};h.clone=function(){const v=new m;v.spatialReference=this.spatialReference;v.paths=c.clone(this.paths);v.hasZ=this.hasZ;v.hasM=
this.hasM;return v};h.getPoint=function(v,w){if(!this._validateInputs(v,w))return null;v=this.paths[v][w];w=this.hasZ;const D=this.hasM;return w&&!D?new k(v[0],v[1],v[2],void 0,this.spatialReference):D&&!w?new k(v[0],v[1],void 0,v[2],this.spatialReference):w&&D?new k(v[0],v[1],v[2],v[3],this.spatialReference):new k(v[0],v[1],this.spatialReference)};h.insertPoint=function(v,w,D){if(!this._validateInputs(v,w,!0))return this;q.updateSupportFromPoint(this,D);Array.isArray(D)||(D=D.toArray());this.paths[v].splice(w,
0,D);this.notifyChange("paths");return this};h.removePath=function(v){if(!this._validateInputs(v,null))return null;v=this.paths.splice(v,1)[0];const w=this.spatialReference;v=v.map(D=>new k(D,w));this.notifyChange("paths");return v};h.removePoint=function(v,w){if(!this._validateInputs(v,w))return null;v=new k(this.paths[v].splice(w,1)[0],this.spatialReference);this.notifyChange("paths");return v};h.setPoint=function(v,w,D){if(!this._validateInputs(v,w))return this;q.updateSupportFromPoint(this,D);
Array.isArray(D)||(D=D.toArray());this.paths[v][w]=D;this.notifyChange("paths");return this};h._validateInputs=function(v,w,D=!1){return null==v||0>v||v>=this.paths.length||null!=w&&(v=this.paths[v],D&&(0>w||w>v.length)||!D&&(0>w||w>=v.length))?!1:!0};h.toJSON=function(v){return this.write({},v)};a._createClass(f,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:v}=
this;var w=l.getPolylineExtent(this);if(!w)return null;w=new u(w);w.spatialReference=v;return w}}]);return f}(n);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property({readOnly:!0})],d.prototype,"extent",null);b.__decorate([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);b.__decorate([r.writer("paths")],d.prototype,"writePaths",null);d=m=b.__decorate([p.subclass("esri.geometry.Polyline")],d);d.prototype.toJSON.isDefaultToJSON=
!0;return d})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const c=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=c;a.isFeatureGeometryType=
function(e){return"point"===e||"multipoint"===e||"polyline"===e||"polygon"===e};a.typeKebabDictionary=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/jsonUtils":function(){define("exports ../../core/maybe ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,e,d,p,r,u){function n(f){return void 0!==f.xmin&&void 0!==f.ymin&&void 0!==f.xmax&&void 0!==f.ymax}function k(f){return void 0!==f.points}
function g(f){return void 0!==f.x&&void 0!==f.y}function l(f){return void 0!==f.paths}function q(f){return void 0!==f.rings}function m(f){return b.isNone(f)?null:f instanceof e?f:g(f)?p.fromJSON(f):l(f)?u.fromJSON(f):q(f)?r.fromJSON(f):k(f)?d.fromJSON(f):n(f)?c.fromJSON(f):null}const t={esriGeometryPoint:p,esriGeometryPolyline:u,esriGeometryPolygon:r,esriGeometryEnvelope:c,esriGeometryMultipoint:d};a.fromJSON=m;a.fromJson=function(f){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(h){console.warn(h.stack)}return m(f)};a.getGeometryType=function(f){return f&&t[f]||null};a.getJsonType=function(f){return f?g(f)?"esriGeometryPoint":l(f)?"esriGeometryPolyline":q(f)?"esriGeometryPolygon":n(f)?"esriGeometryEnvelope":k(f)?"esriGeometryMultipoint":null:null};a.isExtent=n;a.isMesh=function(f){return void 0!==f.vertexAttributes};a.isMultipoint=k;a.isPoint=g;a.isPolygon=q;a.isPolyline=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/Identifiable":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,c,e){let d=0;const p=r=>{r=function(u){function n(...k){k=u.call(this,...k)||this;Object.defineProperty(b._assertThisInitialized(k),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+d++});return k}b._inheritsLoose(n,u);return n}(r);return r=c.__decorate([e.subclass("esri.core.Identifiable")],r)};a.Identifiable=
function(r){function u(){return r.apply(this,arguments)||this}b._inheritsLoose(u,r);return u}(p(function(){return function(){}}()));a.Identifiable=c.__decorate([e.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=p;a.NumericIdentifiableMixin=r=>{r=function(u){function n(...k){k=u.call(this,...k)||this;Object.defineProperty(b._assertThisInitialized(k),"uid",{writable:!1,configurable:!1,value:d++});return k}b._inheritsLoose(n,u);return n}(r);return r=c.__decorate([e.subclass("esri.core.NumericIdentifiable")],
r)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../chunks/_rollupPluginBabelHelpers","../../config","../../core/Logger"],function(a,b,c,e,d){function p(){p=c._asyncToGenerator(function*(u){u="portalItem"in u?u:{portalItem:u};const n=yield new Promise((k,g)=>a(["../../portal/support/portalLayers"],k,g));try{return yield n.fromItem(u)}catch(k){throw u=u&&u.portalItem,r.error("#fromPortalItem()",
"Failed to create layer from portal item (portal: '"+(u&&u.portal&&u.portal.url||e.portalUrl)+"', id: '"+(u&&u.id||"unset")+"')",k),k;}});return p.apply(this,arguments)}const r=d.getLogger("esri.layers.support.fromPortalItem");b.fromPortalItem=function(u){return p.apply(this,arguments)};Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/TablesMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){function l(m,t,f){if(m)for(let v=0,w=m.length;v<w;v++){var h=m.getItemAt(v);if(h[t]===f||"group"===(null==h?void 0:h.type)&&(h=l(h.tables,t,f)))return h}}const q=p.getLogger("esri.support.TablesMixin");a.TablesMixin=m=>{m=function(t){function f(...v){var w=t.call(this,...v)||this;w.tables=new e;w.tables.on("after-add",D=>{D=D.item;D.parent&&D.parent!==b._assertThisInitialized(w)&&"tables"in D.parent&&D.parent.tables.remove(D);D.parent=b._assertThisInitialized(w);"feature"!==
D.type&&q.error(`Layer 'title:${D.title}, id:${D.id}' of type '${D.type}' is not supported as a table and will therefore be ignored.`)});w.tables.on("after-remove",D=>{D.item.parent=null});return w}b._inheritsLoose(f,t);var h=f.prototype;h.destroy=function(){const v=this.tables.removeAll();for(const w of v)w.destroy();this.tables.destroy()};h.findTableById=function(v){return l(this.tables,"id",v)};h.findTableByUid=function(v){return l(this.tables,"uid",v)};b._createClass(f,[{key:"tables",set:function(v){this._set("tables",
d.referenceSetter(v,this._get("tables")))}}]);return f}(m);c.__decorate([r.property()],m.prototype,"tables",null);return m=c.__decorate([g.subclass("esri.support.TablesMixin")],m)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/Viewpoint":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/maybe ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){function q(){return{enabled:!this.camera}}var m;d=m=function(t){function f(v){v=t.call(this,v)||this;v.rotation=0;v.scale=0;v.targetGeometry=null;v.camera=null;return v}a._inheritsLoose(f,t);var h=f.prototype;h.castRotation=function(v){v%=360;0>v&&(v+=360);return v};h.clone=function(){return new m({rotation:this.rotation,scale:this.scale,targetGeometry:p.isSome(this.targetGeometry)?this.targetGeometry.clone():null,camera:p.isSome(this.camera)?this.camera.clone():
null})};return f}(d.JSONSupport);b.__decorate([r.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:q}}}}})],d.prototype,"rotation",void 0);b.__decorate([k.cast("rotation")],d.prototype,"castRotation",null);b.__decorate([r.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:q}}}}})],d.prototype,"scale",void 0);b.__decorate([r.property({types:e.geometryTypes,json:{read:l.fromJSON,
write:!0,origins:{"web-scene":{read:l.fromJSON,write:{overridePolicy:q}}}}})],d.prototype,"targetGeometry",void 0);b.__decorate([r.property({type:c,json:{write:!0}})],d.prototype,"camera",void 0);return d=m=b.__decorate([g.subclass("esri.Viewpoint")],d)})},"esri/Camera":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){c=function(f){function h(...w){w=f.call(this,...w)||this;w.position=new t([0,0,0]);w.heading=0;w.tilt=0;w.fov=55;return w}a._inheritsLoose(h,f);var v=h.prototype;v.normalizeCtorArgs=function(w,D,x,y){return w&&"object"===typeof w&&("x"in w||Array.isArray(w))?(w={position:w},null!=D&&(w.heading=D),null!=x&&(w.tilt=x),null!=y&&(w.fov=y),w):w};v.writePosition=function(w,D,x,y){const z=w.clone();z.x=m.ensureNumber(w.x||0);z.y=m.ensureNumber(w.y||0);z.z=w.hasZ?m.ensureNumber(w.z||
0):w.z;D[x]=z.write({},y)};v.readPosition=function(w,D){const x=new t;x.read(w,D);x.x=m.ensureNumber(x.x||0);x.y=m.ensureNumber(x.y||0);x.z=x.hasZ?m.ensureNumber(x.z||0):x.z;return x};v.equals=function(w){return w?this.tilt===w.tilt&&this.heading===w.heading&&this.fov===w.fov&&this.position.equals(w.position):!1};return h}(c.ClonableMixin(d.JSONSupport));b.__decorate([r.property({type:t,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);b.__decorate([q.writer("position")],c.prototype,
"writePosition",null);b.__decorate([g.reader("position")],c.prototype,"readPosition",null);b.__decorate([r.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),k.cast(f=>e.cyclicalDegrees.normalize(m.ensureNumber(f)))],c.prototype,"heading",void 0);b.__decorate([r.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),k.cast(f=>p.clamp(m.ensureNumber(f),-180,180))],c.prototype,"tilt",void 0);b.__decorate([r.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],
c.prototype,"fov",void 0);return c=b.__decorate([l.subclass("esri.Camera")],c)})},"esri/core/Clonable":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n,k,g){r.getLogger("esri.core.Clonable");d=l=>{l=function(q){function m(){return q.apply(this,arguments)||this}b._inheritsLoose(m,q);m.prototype.clone=
function(){var t=u.unwrapOrThrow(k.getProperties(this),"unable to clone instance of non-accessor class"),f=t.metadatas;const h=t.store,v={};t=new Map;for(var w in f){var D=f[w];const y=null==h?void 0:h.originOf(w),z=D.clonable;if(D.readOnly||!1===z||y!==n.OriginId.USER&&y!==n.OriginId.DEFAULTS&&y!==n.OriginId.WEB_MAP&&y!==n.OriginId.WEB_SCENE)continue;D=this[w];let A=null;A="function"===typeof z?z(D):"reference"===z?D:p.tryClone(D);if(null==D||null!=A)y===n.OriginId.DEFAULTS?t.set(w,A):v[w]=A}f=new (Object.getPrototypeOf(this).constructor)(v);
if(t.size){var x;if(w=null==(x=k.getProperties(f))?void 0:x.store)for(const [y,z]of t)w.set(y,z,n.OriginId.DEFAULTS)}return f};return m}(l);return l=c.__decorate([g.subclass("esri.core.Clonable")],l)};a.Clonable=function(l){function q(){return l.apply(this,arguments)||this}b._inheritsLoose(q,l);return q}(d(e));a.Clonable=c.__decorate([g.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=d;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Cyclical":function(){define(["exports",
"./mathUtils"],function(a,b){function c(u){for(const n in u){const k=u[n];k instanceof Function&&(u[n]=k.bind(u))}return u}let e=function(){function u(k,g){this.min=k;this.max=g;this.range=g-k}var n=u.prototype;n.ndiff=function(k,g=0){return Math.ceil((k-g)/this.range)*this.range+g};n._normalize=function(k,g,l,q=0,m=!1){l-=q;l<k?l+=this.ndiff(k-l):l>g&&(l-=this.ndiff(l-g));m&&l===g&&(l=k);return l+q};n.normalize=function(k,g=0,l=!1){return this._normalize(this.min,this.max,k,g,l)};n.clamp=function(k,
g=0){return b.clamp(k-g,this.min,this.max)+g};n.monotonic=function(k,g,l){return k<g?g:g+this.ndiff(k-g,l)};n.minimalMonotonic=function(k,g,l){return this._normalize(k,k+this.range,g,l)};n.center=function(k,g,l){g=this.monotonic(k,g,l);return this.normalize((k+g)/2,l)};n.diff=function(k,g,l){return this.monotonic(k,g,l)-k};n.shortestSignedDiff=function(k,g){k=this.normalize(k);g=this.normalize(g);const l=g-k;k=g<k?this.minimalMonotonic(k,g)-k:g-this.minimalMonotonic(g,k);return Math.abs(l)<Math.abs(k)?
l:k};n.contains=function(k,g,l){g=this.minimalMonotonic(k,g);l=this.minimalMonotonic(k,l);return l>k&&l<g};return u}();const d=c(new e(0,2*Math.PI)),p=c(new e(-Math.PI,Math.PI)),r=c(new e(0,360));a.Cyclical=e;a.cyclical2PI=d;a.cyclicalDegrees=r;a.cyclicalPI=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/portal/support/layersLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../layers/support/lazyLayerLoader ../Portal ./jsonContext ../../renderers/support/styleUtils ../../support/requestPresets".split(" "),
function(a,b,c,e,d,p,r,u){function n(){n=b._asyncToGenerator(function*(x,y){var z=x.instance.portalItem;if(z&&z.id){yield z.load(y);z=x.instance.portalItem;if(!x.supportedTypes.includes(z.type))throw new c("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:z.type,expectedType:x.supportedTypes.join(", ")});return k(x,y)}});return n.apply(this,arguments)}function k(x,y){return g.apply(this,arguments)}function g(){g=b._asyncToGenerator(function*(x,
y){const z=x.instance,A=z.portalItem,{url:C,title:B}=A,E=p.createForItemRead(A);if("group"===z.type)return z.read({title:B},E),l(z,x);C&&z.read({url:C},E);(x=yield f(x,y))&&z.read(x,E);z.resourceReferences={portalItem:A,paths:E.readResourcePaths};z.read({title:B},E);return r.loadStyleRenderer(z,E)});return g.apply(this,arguments)}function l(x,y){let z;const A=x.portalItem.type;switch(A){case "Feature Service":z=e.layerLookupMap.FeatureLayer;break;case "Stream Service":z=e.layerLookupMap.StreamLayer;
break;case "Scene Service":z=e.layerLookupMap.SceneLayer;break;case "Feature Collection":z=e.layerLookupMap.FeatureLayer;break;default:throw new c("portal:unsupported-item-type-as-group",`The item type '${A}' is not supported as a 'IGroupLayer'`);}let C;return z().then(B=>{C=B;return f(y)}).then(function(){var B=b._asyncToGenerator(function*(E){return"Feature Service"===A?(E=yield h(E,x.portalItem.url),m(x,C,E)):0<D(E)?m(x,C,E):q(x,C)});return function(E){return B.apply(this,arguments)}}())}function q(x,
y){return x.portalItem.url?u.requestArcGISServiceJSON(x.portalItem.url).then(z=>{function A(E){return{id:E.id,name:E.name}}var C,B;z&&m(x,y,{layers:null==(C=z.layers)?void 0:C.map(A),tables:null==(B=z.tables)?void 0:B.map(A)})}):Promise.resolve()}function m(x,y,z){let A=z.layers||[];const C=z.tables||[];"Feature Collection"===x.portalItem.type&&(A.forEach(B=>{var E;"Table"===(null==B?void 0:null==(E=B.layerDefinition)?void 0:E.type)&&C.push(B)}),A=A.filter(B=>{var E;return"Table"!==(null==B?void 0:
null==(E=B.layerDefinition)?void 0:E.type)}));A.reverse().forEach(B=>{B=t(x,y,z,B);x.add(B)});C.reverse().forEach(B=>{B=t(x,y,z,B);x.tables.add(B)})}function t(x,y,z,A){y=new y({portalItem:x.portalItem.clone(),layerId:A.id,sublayerTitleMode:"service-name"});"Feature Collection"===x.portalItem.type&&(x={origin:"portal-item",portal:x.portalItem.portal||d.getDefault()},y.read(A,x),z=z.showLegend,null!=z&&y.read({showLegend:z},x));return y}function f(x,y){if(!1===x.supportsData)return Promise.resolve(void 0);
const z=x.instance;return z.portalItem.fetchData("json",y).catch(()=>null).then(function(){var A=b._asyncToGenerator(function*(C){var B="stream"===z.type?!1:"layerId"in z;if(B){B=!0;if(C&&0<D(C)){null==z.layerId&&(z.layerId=w(C));a:{var E=z.layerId;var G=C.layers;if(G)for(var J=0;J<G.length;J++)if(G[J].id===E){E=G[J];break a}if(G=C.tables)for(J=0;J<G.length;J++)if(G[J].id===E){E=G[J];break a}E=null}E&&(1===D(C)&&(B=!1),null!=C.showLegend&&(E.showLegend=C.showLegend))}B&&"service-name"!==z.sublayerTitleMode&&
(z.sublayerTitleMode="item-title-and-service-name");return E}return C});return function(C){return A.apply(this,arguments)}}())}function h(x,y){return v.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(x,y){var z,A;if(null==(null==(z=x)?void 0:z.layers)||null==(null==(A=x)?void 0:A.tables))y=yield u.requestArcGISServiceJSON(y),x=x||{},x.layers=x.layers||(null==y?void 0:y.layers),x.tables=x.tables||(null==y?void 0:y.tables);return x});return v.apply(this,arguments)}function w(x){const y=
x.layers;return y&&y.length?y[0].id:(x=x.tables)&&x.length?x[0].id:null}function D(x){var y,z,A,C;const B=null!=(y=null==x?void 0:null==(z=x.layers)?void 0:z.length)?y:0;x=null!=(A=null==x?void 0:null==(C=x.tables)?void 0:C.length)?A:0;return B+x}a.getFirstLayerOrTableId=w;a.getNumLayersAndTables=D;a.load=function(x,y){return n.apply(this,arguments)};a.preprocessFSItemData=h;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/lazyLayerLoader":function(){define(["require",
"exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b,c){const e=p=>Object.freeze(Object.defineProperty({__proto__:null,default:p},Symbol.toStringTag,{value:"Module"})),d={BingMapsLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../BingMapsLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),BuildingSceneLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../BuildingSceneLayer"],
n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),CSVLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../CSVLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),ElevationLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../ElevationLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),FeatureLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,
u)=>a(["../FeatureLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),GroupLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../GroupLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),GeoRSSLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../GeoRSSLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),GeoJSONLayer:function(){var p=
c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../GeoJSONLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),ImageryLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../ImageryLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),ImageryTileLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../ImageryTileLayer"],n=>r(e(n)),u))).default});
return function(){return p.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../IntegratedMeshLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),KMLLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../KMLLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),LineOfSightLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,
u)=>a(["../LineOfSightLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),MapImageLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../MapImageLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),MapNotesLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../MapNotesLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),
OGCFeatureLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../OGCFeatureLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../OpenStreetMapLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),PointCloudLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,
u)=>a(["../PointCloudLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),RouteLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../RouteLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),SceneLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../SceneLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),StreamLayer:function(){var p=
c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../StreamLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),TileLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../TileLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),UnknownLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../UnknownLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,
arguments)}}(),UnsupportedLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../UnsupportedLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),VectorTileLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../VectorTileLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),VoxelLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,
u)=>a(["../VoxelLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),WebTileLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../WebTileLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),WFSLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../WFSLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),WMSLayer:function(){var p=
c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../WMSLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}(),WMTSLayer:function(){var p=c._asyncToGenerator(function*(){return(yield new Promise((r,u)=>a(["../WMTSLayer"],n=>r(e(n)),u))).default});return function(){return p.apply(this,arguments)}}()};b.layerLookupMap=d;Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/portal/support/jsonContext":function(){define(["exports",
"../../core/urlUtils","../Portal"],function(a,b,c){a.createForItemRead=function(e){return{origin:"portal-item",url:b.urlToObject(e.itemUrl),portal:e.portal||c.getDefault(),portalItem:e,readResourcePaths:[]}};a.createForItemWrite=function(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?b.urlToObject(e.itemUrl):null,portal:e.portal||c.getDefault(),portalItem:e}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/styleUtils":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,c,e,d){function p(){p=b._asyncToGenerator(function*(r,u,n){var k=r&&r.getAtOrigin&&r.getAtOrigin("renderer",u.origin);k&&"unique-value"===k.type&&k.styleOrigin&&(k=yield c.result(k.populateFromStyle()),e.throwIfAborted(n),!1===k.ok&&(n=k.error,u&&u.messages&&u.messages.push(new d("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,
{error:n,context:u})),r.clear("renderer",u.origin)))});return p.apply(this,arguments)}a.loadStyleRenderer=function(r,u,n){return p.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/requestPresets":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../request"],function(a,b,c){function e(){e=b._asyncToGenerator(function*(d){({data:d}=yield c(d,{responseType:"json",query:{f:"json"}}));return d});return e.apply(this,
arguments)}a.requestArcGISServiceJSON=function(d){return e.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){a.OperationalLayer=f=>{f=function(h){function v(){var D=h.apply(this,arguments)||this;D.title=null;return D}b._inheritsLoose(v,h);var w=v.prototype;w.writeListMode=function(D,x,y,z){z&&"ground"===z.layerContainerType?x[y]=D:D&&q.willPropertyWrite(this,y,{},z)&&(x[y]=D)};w.writeOperationalLayerType=function(D,x,y,z){!D||z&&"tables"===z.layerContainerType||(x.layerType=D)};w.writeTitle=function(D,x){x.title=D||"Layer"};w.read=function(D,x){x&&(x.layer=this);l.readLoadable(this,
D,y=>h.prototype.read.call(this,D,y),x)};w.write=function(D,x){if(null!=x&&x.origin){const C=`${x.origin}/${x.layerContainerType||"operational-layers"}`;var y=m.supportedTypes[C];y=y&&y[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===C&&(y=!1);if(!y){var z;null==(z=x.messages)?void 0:z.push(new e("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${C}'`,
{layer:this}));return null}}D=h.prototype.write.call(this,D,{...x,layer:this});z=!!x&&!!x.messages&&!!x.messages.filter(C=>C instanceof e&&"web-document-write:property-required"===C.name).length;if(d.isBlobProtocol(null==D?void 0:D.url)){var A;null==x?void 0:null==(A=x.messages)?void 0:A.push(new e("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this}));return null}return!this.url&&z?null:
D};w.beforeSave=function(){};return v}(f);c.__decorate([p.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],f.prototype,"id",void 0);c.__decorate([p.property(t.listMode)],f.prototype,"listMode",void 0);c.__decorate([g.writer("listMode")],f.prototype,"writeListMode",null);c.__decorate([p.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],
f.prototype,"operationalLayerType",void 0);c.__decorate([g.writer("operationalLayerType")],f.prototype,"writeOperationalLayerType",null);c.__decorate([p.property(t.opacity)],f.prototype,"opacity",void 0);c.__decorate([p.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],f.prototype,"title",void 0);c.__decorate([g.writer([void 0,"web-scene"],"title")],
f.prototype,"writeTitle",null);c.__decorate([p.property({type:Boolean,json:{name:"visibility"}})],f.prototype,"visible",void 0);return f=c.__decorate([k.subclass("esri.layers.mixins.OperationalLayer")],f)};a.isOperationalLayer=function(f){return"operationalLayerType"in f};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){a.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,
ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,
VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,
GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,
PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),function(a,b,c,e,d,p,r,u){const n={type:Boolean,value:!0,json:{origins:{service:{read:!1,
write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},k={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(w,D){return!D.disablePopup}},write:{enabled:!0,writer(w,D,x){D[x]=!w}}}},g={type:Boolean,value:!0,json:{name:"showLabels",write:!0}};d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:d.write}}};const l={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};r={value:null,
type:r.default,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};const q={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},m={...q,json:{...q.json,origins:{"web-document":{...q.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(w,
D,x){if((!x||"service"===x.origin)&&D.drawingInfo&&void 0!==D.drawingInfo.transparency)return u.transparencyToOpacity(D.drawingInfo.transparency);if(D.layerDefinition&&D.layerDefinition.drawingInfo&&void 0!==D.layerDefinition.drawingInfo.transparency)return u.transparencyToOpacity(D.layerDefinition.drawingInfo.transparency)}}}},t={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(w,D)=>{w=c.fromJSON(w);null!=D.spatialReference&&"object"===typeof D.spatialReference&&
(w.spatialReference=e.fromJSON(D.spatialReference));return w}}}},read:!1}},f={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},h={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},v={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};a.combinedViewLayerTimeExtentProperty={type:b,readOnly:!0,get(){var w,
D;if(null==(w=this.layer)||!w.timeInfo)return null;const {datesInUnknownTimezone:x,timeOffset:y,useViewTime:z}=this.layer;w=null==(D=this.view)?void 0:D.timeExtent;D=this.layer.timeExtent;x&&(D=p.toLocalTimeExtent(D));D=z?w&&D?w.intersection(D):w||D:D;if(!D||D.isEmpty||D.isAllTime)return D;y&&(D=D.offset(-y.value,y.unit));x&&(D=p.toUTCTimeExtent(D));w=this._get("timeExtent");return D.equals(w)?w:D}};a.elevationInfo=r;a.id=f;a.labelsVisible=g;a.legendEnabled=l;a.listMode={json:{write:{ignoreOrigin:!0},
origins:{"web-map":{read:!1,write:!1}}}};a.maxScale=v;a.minScale=h;a.opacity=q;a.opacityDrawingInfo=m;a.popupEnabled=k;a.readOnlyService=function(w){return{type:w,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=t;a.screenSizePerspectiveEnabled=n;a.url=d;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/maybe ./core/timeUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;c=q=function(f){function h(w){w=f.call(this,w)||this;w.end=null;w.start=null;return w}a._inheritsLoose(h,f);var v=h.prototype;v.readEnd=function(w,D){return null!=D.end?new Date(D.end):null};v.writeEnd=function(w,D){D.end=w?w.getTime():null};v.readStart=function(w,D){return null!=D.start?new Date(D.start):null};v.writeStart=function(w,D){D.start=w?w.getTime():null};v.clone=function(){return new q({end:this.end,start:this.start})};v.equals=function(w){if(!w)return!1;
const D=e.isSome(this.start)?this.start.getTime():this.start,x=e.isSome(this.end)?this.end.getTime():this.end,y=e.isSome(w.start)?w.start.getTime():w.start;w=e.isSome(w.end)?w.end.getTime():w.end;return D===y&&x===w};v.expandTo=function(w){if(this.isEmpty||this.isAllTime)return this.clone();const D=e.applySome(this.start,y=>d.truncateDate(y,w)),x=e.applySome(this.end,y=>d.offsetDate(d.truncateDate(y,w),1,w));return new q({start:D,end:x})};v.intersection=function(w){if(!w)return this.clone();if(this.isEmpty||
w.isEmpty)return q.empty;if(this.isAllTime)return w.clone();if(w.isAllTime)return this.clone();var D=e.mapOr(this.start,-Infinity,C=>C.getTime());const x=e.mapOr(this.end,Infinity,C=>C.getTime()),y=e.mapOr(w.start,-Infinity,C=>C.getTime());w=e.mapOr(w.end,Infinity,C=>C.getTime());let z,A;y>=D&&y<=x?z=y:D>=y&&D<=w&&(z=D);x>=y&&x<=w?A=x:w>=D&&w<=x&&(A=w);return isNaN(z)||isNaN(A)?q.empty:(D=new q,D.start=-Infinity===z?null:new Date(z),D.end=Infinity===A?null:new Date(A),D)};v.offset=function(w,D){if(this.isEmpty||
this.isAllTime)return this.clone();const x=new q,{start:y,end:z}=this;e.isSome(y)&&(x.start=d.offsetDate(y,w,D));e.isSome(z)&&(x.end=d.offsetDate(z,w,D));return x};v.union=function(w){if(!w||w.isEmpty)return this.clone();if(this.isEmpty)return w.clone();if(this.isAllTime||w.isAllTime)return m.clone();const D=e.isSome(this.start)&&e.isSome(w.start)?new Date(Math.min(this.start.getTime(),w.start.getTime())):null;w=e.isSome(this.end)&&e.isSome(w.end)?new Date(Math.max(this.end.getTime(),w.end.getTime())):
null;return new q({start:D,end:w})};a._createClass(h,[{key:"isAllTime",get:function(){return this.equals(q.allTime)}},{key:"isEmpty",get:function(){return this.equals(q.empty)}}],[{key:"allTime",get:function(){return m}},{key:"empty",get:function(){return t}}]);return h}(c.JSONSupport);b.__decorate([p.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"end",void 0);b.__decorate([k.reader("end")],c.prototype,"readEnd",null);b.__decorate([l.writer("end")],c.prototype,"writeEnd",null);b.__decorate([p.property({readOnly:!0,
json:{read:!1}})],c.prototype,"isAllTime",null);b.__decorate([p.property({readOnly:!0,json:{read:!1}})],c.prototype,"isEmpty",null);b.__decorate([p.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"start",void 0);b.__decorate([k.reader("start")],c.prototype,"readStart",null);b.__decorate([l.writer("start")],c.prototype,"writeStart",null);c=q=b.__decorate([g.subclass("esri.TimeExtent")],c);const m=new c,t=new c({start:void 0,end:void 0});return c})},"esri/core/timeUtils":function(){define(["exports",
"./has"],function(a,b){function c(p,r,u){return 0===p?0:p*e[r]/e[u]}const e={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8},d={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",
setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};a.convertTime=c;a.makeUTCTime=function(p,r,u="milliseconds"){r=new Date(c(r,u,"milliseconds"));r.setUTCFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate());
return r};a.offsetDate=function(p,r,u){p=new Date(p.getTime());if(r&&u){const {getter:k,setter:g,multiplier:l}=d[u];if("months"===u){u=p.getFullYear();var n=p.getMonth()+r;u=new Date(u,n+1,1);u.setDate(0);u=u.getDate();p.getDate()>u&&p.setDate(u)}p[g](p[k]()+r*l)}return p};a.offsetDateUTC=function(p,r,u="milliseconds"){p=p.getTime();r=c(r,u,"milliseconds");return new Date(p+r)};a.resetUTCDate=function(p,r){p=new Date(p.getTime());p.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate());return p};
a.timeSinceUTCMidnight=function(p,r="milliseconds"){const u=c(p.getUTCHours(),"hours","milliseconds"),n=c(p.getUTCMinutes(),"minutes","milliseconds"),k=c(p.getUTCSeconds(),"seconds","milliseconds");p=p.getUTCMilliseconds();return c(u+n+k+p,"milliseconds",r)};a.truncateDate=function(p,r){switch(r){case "milliseconds":return new Date(p.getTime());case "seconds":return new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds());case "minutes":return new Date(p.getFullYear(),
p.getMonth(),p.getDate(),p.getHours(),p.getMinutes());case "hours":return new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours());case "days":return new Date(p.getFullYear(),p.getMonth(),p.getDate());case "weeks":return new Date(p.getFullYear(),p.getMonth(),p.getDate()-p.getDay());case "months":return new Date(p.getFullYear(),p.getMonth(),1);case "years":return new Date(p.getFullYear(),0,1);case "decades":return new Date(p.getFullYear()-p.getFullYear()%10,0,1);case "centuries":return new Date(p.getFullYear()-
p.getFullYear()%100,0,1);default:return new Date}};a.truncateLocalTime=function(p){const r=new Date(0);r.setHours(0);r.setMinutes(0);r.setSeconds(0);r.setMilliseconds(0);r.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate());return r};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/maybe","../core/urlUtils"],function(a,b,c){function e(m,t){var f=t&&t.url&&t.url.path;m&&f&&
(m=c.makeAbsolute(m,f,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths&&(f=c.makeRelative(m,t.portalItem.itemUrl),l.test(f)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(f).path)));return k(m,t&&t.portal)}function d(m,t,f=a.MarkKeep.YES){if(!m)return m;!c.isAbsolute(m)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(m);let h=c.makeAbsolute(m);if(t){var v=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;v&&(v=k(v,t.portal),h=c.makeRelative(k(h,
t.portal),v,v),h!==m&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(h))}h=n(h,t&&t.portal);c.isAbsolute(h)&&(h=c.normalize(h));null!=t&&t.resources&&null!=t&&t.portalItem&&!c.isAbsolute(h)&&!c.isDataProtocol(h)&&f===a.MarkKeep.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(h)});return h}function p(m,t,f){return e(m,f)}function r(m,t,f,h){m=d(m,h);void 0!==m&&(t[f]=m)}function u(m){m=b.isSome(m)?m.match(g):null;return b.isSome(m)?m[1]:null}function n(m,t){return t&&
!t.isPortal&&t.urlKey&&t.customBaseUrl?c.changeDomain(m,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):m}function k(m,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return m;const f=`${t.urlKey}.${t.customBaseUrl}`,h=c.getAppUrl();return c.hasSameOrigin(h,`${h.scheme}://${f}`)?c.changeDomain(m,t.portalHostname,f):c.changeDomain(m,f,t.portalHostname)}const g=/\/items\/([^\/]+)\/resources\//,l=/^\.\/resources\//;a.MarkKeep=void 0;(function(m){m[m.YES=0]="YES";m[m.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep=
{}));const q=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:e,toJSON:d,read:p,write:r,itemIdFromResourceUrl:u,ensureMainOnlineDomain:n,get MarkKeep(){return a.MarkKeep}},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=n;a.fromJSON=e;a.itemIdFromResourceUrl=u;a.persistableUrlUtils=q;a.read=p;a.toJSON=d;a.write=r})},"esri/support/timeUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../TimeExtent ../core/maybe ../core/promiseUtils ../core/timeUtils".split(" "),
function(a,b,c,e,d,p){function r(n){return void 0!==n.timeInfo}function u(){u=b._asyncToGenerator(function*(n,k){if(0===n.length)return c.allTime;const g=n.filter(r);yield Promise.all(g.map(m=>m.load({signal:k})));n=[];var l=[];for(var q of g)"feature"!==(null==q?void 0:q.type)&&"map-image"!==(null==q?void 0:q.type)||!q.timeInfo.hasLiveData?l.push(q):n.push(q);q=m=>e.isNone(m)||m.isAllTime;l=l.map(m=>m.timeInfo.fullTimeExtent);if(l.some(q))return c.allTime;n=n.map(function(){var m=b._asyncToGenerator(function*(t){const {timeExtent:f}=
yield t.fetchRecomputedExtents({signal:k});return f?f:e.unwrap(t.timeInfo.fullTimeExtent)});return function(t){return m.apply(this,arguments)}}());n=(yield d.eachAlways(n)).map(m=>m.value);return n.some(q)?c.allTime:n.concat(l).reduce((m,t)=>m.union(t))});return u.apply(this,arguments)}a.getTimeExtentFromLayers=function(n,k){return u.apply(this,arguments)};a.toLocalTimeExtent=function(n){if(!n)return n;const {start:k,end:g}=n;return new c({start:e.isSome(k)?p.offsetDate(k,k.getTimezoneOffset(),"minutes"):
k,end:e.isSome(g)?p.offsetDate(g,g.getTimezoneOffset(),"minutes"):g})};a.toUTCTimeExtent=function(n){if(!n)return n;const {start:k,end:g}=n;return new c({start:e.isSome(k)?p.offsetDate(k,-k.getTimezoneOffset(),"minutes"):k,end:e.isSome(g)?p.offsetDate(g,-g.getTimezoneOffset(),"minutes"):g})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/ElevationInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){var f;u=e.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});e=new e.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});d=f=function(h){function v(){var D=h.apply(this,arguments)||this;D.offset=null;return D}b._inheritsLoose(v,h);var w=v.prototype;w.readFeatureExpressionInfo=function(D,x){if(null!=D)return D;
if(x.featureExpression&&0===x.featureExpression.value)return{expression:"0"}};w.writeFeatureExpressionInfo=function(D,x,y,z){x[y]=D.write({},z);"0"===D.expression&&(x.featureExpression={value:0})};w.write=function(D,x){return this.offset||this.mode||this.featureExpressionInfo||this.unit?h.prototype.write.call(this,D,x):null};w.clone=function(){return new f({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};
w.equals=function(D){return this.mode===D.mode&&this.offset===D.offset&&this.unit===D.unit&&p.equalsMaybe(this.featureExpressionInfo,D.featureExpressionInfo)};b._createClass(v,[{key:"mode",get:function(){const {offset:D,featureExpressionInfo:x}=this;return this._isOverridden("mode")?this._get("mode"):p.isSome(D)||x?"relative-to-ground":"on-the-ground"},set:function(D){this._override("mode",D)}},{key:"unit",set:function(D){this._set("unit",D)}}]);return v}(d.JSONSupport);c.__decorate([r.property({type:m,
json:{write:!0}})],d.prototype,"featureExpressionInfo",void 0);c.__decorate([g.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],d.prototype,"readFeatureExpressionInfo",null);c.__decorate([q.writer("featureExpressionInfo",{featureExpressionInfo:{type:m},"featureExpression.value":{type:[0]}})],d.prototype,"writeFeatureExpressionInfo",null);c.__decorate([r.property({type:u.apiValues,nonNullable:!0,json:{type:u.jsonValues,read:u.read,write:{writer:u.write,isRequired:!0}}})],
d.prototype,"mode",null);c.__decorate([r.property({type:Number,json:{write:!0}})],d.prototype,"offset",void 0);c.__decorate([r.property({type:t.supportedUnits,json:{type:String,read:e.read,write:e.write}})],d.prototype,"unit",null);d=f=c.__decorate([l.subclass("esri.layers.support.ElevationInfo")],d);a.default=d;a.elevationModeKebabDict=u;a.unitKebabDict=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(){return g.apply(this,arguments)||this}a._inheritsLoose(l,g);var q=l.prototype;q.collectRequiredFields=function(){var m=a._asyncToGenerator(function*(t,f){return n.collectArcadeFieldNames(t,f,this.expression)});return function(t,f){return m.apply(this,arguments)}}();q.clone=function(){return new k({expression:this.expression,title:this.title})};q.equals=function(m){return this.expression===m.expression&&this.title===m.title};return l}(c.JSONSupport);
b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=k=b.__decorate([u.subclass("esri.layers.support.FeatureExpressionInfo")],c)})},"esri/layers/support/fieldUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),function(a,b,c,e,d,p,r,u){function n(N,
U,P){if(N)for(const T of N)(N=(N=p.getDeepValue(T,U))&&"function"!==typeof N&&P.get(N))&&p.setDeepValue(T,N.name,U)}function k(N,U){if(!N||!U)return[];R.clear();g(R,N,U);return Array.from(R).sort()}function g(N,U,P){var T;if(P)if(null!=U&&null!=(T=U.fields)&&T.length)if(P.includes("*"))for(const {name:W}of U.fields)N.add(W);else for(const W of P)l(N,U,W);else if(P.includes("*"))N.clear(),N.add("*");else for(const W of P)N.add(W)}function l(N,U,P){"string"===typeof P&&(U?(U=U.get(P))&&N.add(U.name):
N.add(P))}function q(N,U,P){return m.apply(this,arguments)}function m(){m=c._asyncToGenerator(function*(N,U,P){var T;if(P){var {arcadeUtils:W}=yield u.loadArcade();P=W.extractFieldNames(P,null==U?void 0:null==(T=U.fields)?void 0:T.map(ja=>ja.name));for(const ja of P)l(N,U,ja)}});return m.apply(this,arguments)}function t(N,U,P){return f.apply(this,arguments)}function f(){f=c._asyncToGenerator(function*(N,U,P){if(P&&"1\x3d1"!==P){const T=(yield new Promise((W,ja)=>a(["../../core/sql/WhereClause"],W,
ja))).WhereClause.create(P,U);if(!T.isStandardized)throw new e("fieldUtils:collectFilterFields","Where clause is not standardized",{where:P});g(N,U,T.fieldNames)}});return f.apply(this,arguments)}function h(N,U){for(const P of N)if(P&&P.valueType&&P.valueType===U)return P.name;return null}function v(){v=c._asyncToGenerator(function*(N){if(!N)return[];const U=new Set;yield w(U,N);return Array.from(U).sort()});return v.apply(this,arguments)}function w(N,U){return D.apply(this,arguments)}function D(){D=
c._asyncToGenerator(function*(N,U){if(U){var P=p.getDeepValue("elevationInfo.featureExpressionInfo",U);if(P)return P.collectRequiredFields(N,U.fieldsIndex)}});return D.apply(this,arguments)}function x(N,U,P){return y.apply(this,arguments)}function y(){y=c._asyncToGenerator(function*(N,U,P){P.outStatistic.onStatisticValueExpression?q(N,U,P.outStatistic.onStatisticValueExpression):N.add(P.outStatistic.onStatisticField)});return y.apply(this,arguments)}function z(){z=c._asyncToGenerator(function*(N,
U,P){var T,W;if(U&&P&&"fields"in P){var ja=[];null!=(T=P.popupTemplate)&&T.expressionInfos&&ja.push(...P.popupTemplate.expressionInfos.map(va=>q(N,U.fieldsIndex,va.expression)));if(Array.isArray(null==(W=P.popupTemplate)?void 0:W.content)){T=P.popupTemplate.content;for(const va of T)"expression"===va.type&&va.expressionInfo&&ja.push(q(N,U.fieldsIndex,va.expressionInfo.expression))}P.fields&&ja.push(...P.fields.map(va=>x(N,U.fieldsIndex,va)));yield Promise.all(ja)}});return z.apply(this,arguments)}
function A(){A=c._asyncToGenerator(function*(N,U,P){U&&(U.timeInfo&&d.isSome(P)&&P.timeExtent&&g(N,U.fieldsIndex,[U.timeInfo.startField,U.timeInfo.endField]),U.floorInfo&&g(N,U.fieldsIndex,[U.floorInfo.floorField]),d.isSome(P)&&d.isSome(P.where)&&(yield t(N,U.fieldsIndex,P.where)))});return A.apply(this,arguments)}function C(){C=c._asyncToGenerator(function*(N,U,P){U&&P&&(yield Promise.all(P.map(T=>B(N,U,T))))});return C.apply(this,arguments)}function B(N,U,P){return E.apply(this,arguments)}function E(){E=
c._asyncToGenerator(function*(N,U,P){U&&P&&(P.valueExpression?yield q(N,U.fieldsIndex,P.valueExpression):P.field&&l(N,U.fieldsIndex,P.field))});return E.apply(this,arguments)}function G(){G=c._asyncToGenerator(function*(N){if(!N)return[];const U="timeInfo"in N&&N.timeInfo;return U?k(N.fieldsIndex,[N.trackIdField,U.startField,U.endField]):[]});return G.apply(this,arguments)}function J(){J=c._asyncToGenerator(function*(N){if(!N)return[];const U=new Set;yield K(U,N);return Array.from(U).sort()});return J.apply(this,
arguments)}function K(N,U){return F.apply(this,arguments)}function F(){F=c._asyncToGenerator(function*(N,U){const {labelingInfo:P,fieldsIndex:T}=U;P&&P.length&&(yield Promise.all(P.map(W=>H(N,T,W))))});return F.apply(this,arguments)}function H(N,U,P){return I.apply(this,arguments)}function I(){I=c._asyncToGenerator(function*(N,U,P){if(P){var T=P.getLabelExpression();P=P.where;"arcade"===T.type?yield q(N,U,T.expression):(T=T.expression.match(/{[^}]*}/g))&&T.forEach(W=>{l(N,U,W.slice(1,-1))});yield t(N,
U,P)}});return I.apply(this,arguments)}function L(N){return"number"===typeof N&&!isNaN(N)&&isFinite(N)}function Q(N){return null===N||L(N)}function Z(N){return null===N||da(N)}function ca(N){return null!=N&&"string"===typeof N}function aa(N){return null===N||ca(N)}function O(){return!0}function fa(N,U){let P;switch(N.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":P=N.nullable?
Z:da;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":P=N.nullable?Q:L;break;case "string":case "esriFieldTypeString":P=N.nullable?aa:ca;break;default:P=O}return 1===arguments.length?P:P(U)}function oa(N){return null!=N&&X.has(N.type)}function Da(N,U){return N.nullable&&null===U?null:oa(N)&&!Ha(N.type,Number(U))?b.NumericRangeValidationError.OUT_OF_RANGE:fa(N,U)?N.domain?r.validateDomainValue(N.domain,U):null:b.TypeValidationError.INVALID_TYPE}function Ha(N,
U){return(N="string"===typeof N?ta(N):N)?N.isInteger?da(U)&&U>=N.min&&U<=N.max:U>=N.min&&U<=N.max:!1}function ta(N){switch(N){case "esriFieldTypeSmallInteger":case "small-integer":return ea;case "esriFieldTypeInteger":case "integer":return ha;case "esriFieldTypeSingle":case "single":return ra;case "esriFieldTypeDouble":case "double":return na}}function Y(N,U,P){if(!U||!U.attributes||!N){if(d.isSome(P))for(var T of N)P.add(T);return!0}U=U.attributes;T=!1;for(const W of N)if(!(W in U))if(T=!0,d.isSome(P))P.add(W);
else break;return T}function pa(){pa=c._asyncToGenerator(function*(N,U){const P=new Set;for(const T of U)yield q(P,N.fieldsIndex,T);return Array.from(P).sort()});return pa.apply(this,arguments)}const wa="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),M=["field","normalizationField"],R=new Set,da=(()=>"isInteger"in Number?Number.isInteger:N=>"number"===typeof N&&
isFinite(N)&&Math.floor(N)===N)(),S=["integer","small-integer","single","double"],X=new Set([...S,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);b.NumericRangeValidationError=void 0;(b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";b.TypeValidationError=void 0;(b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const ea=
{min:-32768,max:32767,isInteger:!0},ha={min:-2147483648,max:2147483647,isInteger:!0},ra={min:-3.4E38,max:1.2E38,isInteger:!1},na={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.collectArcadeFieldNames=q;b.collectElevationFields=w;b.collectFeatureReductionFields=function(N,U,P){return z.apply(this,arguments)};b.collectField=l;b.collectFields=g;b.collectFilterFields=function(N,U,P){return A.apply(this,arguments)};b.collectLabelingFields=K;b.collectOrderByInfos=function(N,U,P){return C.apply(this,
arguments)};b.doubleRange=na;b.featureHasFields=function(N,U){return!Y(N,U,null)};b.fixFields=k;b.fixRendererFields=function(N,U){if(null!=N&&null!=U)for(const P of Array.isArray(N)?N:[N])if(n(wa,P,U),"visualVariables"in P&&P.visualVariables)for(const T of P.visualVariables)n(M,T,U)};b.fixTimeInfoFields=function(N,U){if(null!=N&&null!=U&&U.fields.length)if("startField"in N){var P=U.get(N.startField);U=U.get(N.endField);N.startField=P&&P.name||null;N.endField=U&&U.name||null}else P=U.get(N.startTimeField),
U=U.get(N.endTimeField),N.startTimeField=P&&P.name||null,N.endTimeField=U&&U.name||null};b.getDisplayFieldName=function({displayField:N,fields:U}){if(N)return N;if(!U||!U.length)return null;if(!(N=h(U,"name-or-title")||h(U,"unique-identifier")||h(U,"type-or-category")))a:{for(const P of U)if(P&&P.name&&(U=P.name.toLowerCase(),U.includes("name")||U.includes("title"))){N=P.name;break a}N=null}return N};b.getElevationFields=function(N){return v.apply(this,arguments)};b.getExpressionFields=function(N,
U){return pa.apply(this,arguments)};b.getFeatureEditFields=function(N){if(!N)return[];const U="editFieldsInfo"in N&&N.editFieldsInfo;return U?k(N.fieldsIndex,[U&&U.creatorField,U&&U.creationDateField,U&&U.editorField,U&&U.editDateField]):[]};b.getFeatureGeometryFields=function(N){if(!N)return[];const U=N.geometryFieldsInfo;return U?k(N.fieldsIndex,[U.shapeAreaField,U.shapeLengthField]):[]};b.getFieldDefaultValue=function(N){const U=N.defaultValue;if(void 0!==U&&fa(N,U))return U;if(N.nullable)return null};
b.getFieldRange=function(N){const U=r.getDomainRange(N.domain);if(U)return U;if(oa(N))return ta(N.type)};b.getLabelingFields=function(N){return J.apply(this,arguments)};b.getNumericTypeForValue=function(N){if(!L(N))return null;if(da(N)){if(N>=ea.min&&N<=ea.max)return"esriFieldTypeSmallInteger";if(N>=ha.min&&N<=ha.max)return"esriFieldTypeInteger"}return N>=ra.min&&N<=ra.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.getTimeFields=function(N){return G.apply(this,arguments)};b.integerRange=ha;b.isDateField=
function(N){return null!=N&&("date"===N.type||"esriFieldTypeDate"===N.type)};b.isNumberInRange=Ha;b.isNumericField=oa;b.isRasterPixelValueField=function(N){return["raster.itempixelvalue","raster.servicepixelvalue"].some(U=>N.toLowerCase().startsWith(U))};b.isStringField=function(N){return null!=N&&("string"===N.type||"esriFieldTypeString"===N.type)};b.isValidFieldValue=function(N,U){return null===Da(N,U)};b.isValueMatchingFieldType=fa;b.numericTypes=S;b.packFields=function(N,U,P=1){if(!U||!N)return[];
if(U.includes("*"))return["*"];U=k(N,U);return U.length/N.fields.length>=P?["*"]:U};b.populateMissingFields=Y;b.rendererFields=wa;b.sanitizeNullFieldValue=function(N){return null==N||"number"===typeof N&&isNaN(N)?null:N};b.singleRange=ra;b.smallIntegerRange=ea;b.unpackFieldNames=function(N,U){return d.isNone(U)||d.isNone(N)?[]:U.includes("*")?N.fields.map(P=>P.name):U};b.validateFieldValue=Da;b.validationErrorToString=function(N,U,P){switch(N){case r.DomainValidationError.INVALID_CODED_VALUE:return`Value ${P} is not in the coded domain - field: ${U.name}, domain: ${JSON.stringify(U.domain)}`;
case r.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${P} is out of the range of valid values - field: ${U.name}, domain: ${JSON.stringify(U.domain)}`;case b.TypeValidationError.INVALID_TYPE:return`Value ${P} is not a valid value for the field type - field: ${U.name}, type: ${U.type}, nullable: ${U.nullable}`;case b.NumericRangeValidationError.OUT_OF_RANGE:{const {min:T,max:W}=ta(U.type);return`Value ${P} is out of range for the number type - field: ${U.name}, type: ${U.type}, value range is ${T} to ${W}`}}};
b.visualVariableFields=M;Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/domainUtils":function(){define(["exports"],function(a){function b(c,e){switch(c.type){case "range":{const d="range"in c?c.range[1]:c.maxValue;if(+e<("range"in c?c.range[0]:c.minValue)||+e>d)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==c.codedValues||c.codedValues.every(d=>null==d||d.code!==e))return a.DomainValidationError.INVALID_CODED_VALUE}return null}
a.DomainValidationError=void 0;(function(c){c.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";c.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));a.getDomainRange=function(c){if(c&&"range"===c.type)return{min:"range"in c?c.range[0]:c.minValue,max:"range"in c?c.range[1]:c.maxValue}};a.isValidDomainValue=function(c,e){return null===b(c,e)};a.validateDomainValue=b;Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/maybe ../geometry/SpatialReference".split(" "),function(a,b,c,e,d,p){function r(){u||(u=c._asyncToGenerator(function*(){const k=yield new Promise((g,l)=>a(["./arcadeUtils"],g,l));return{arcade:k.arcade,arcadeUtils:k,Dictionary:k.Dictionary,Feature:k.arcadeFeature}})());return u}let u;e=(k,g,l)=>n.create(k,g,l,null,["$feature","$view"]);
let n=function(){function k(l,q,m,t,f,h,v,w){this.script=l;this.evaluate=f;this.fields=Array.isArray(v)?v:v.fields;this._syntaxTree=t;this._arcade=q;this._arcadeDictionary=m;this._arcadeFeature=h;this._spatialReference=w;this._referencesGeometry=q.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}k.create=function(){var l=c._asyncToGenerator(function*(q,m,t,f,h,v){const {arcade:w,Feature:D,Dictionary:x}=yield r(),y=p.fromJSON(m);
m=w.parseScript(q,v);h=h.reduce((E,G)=>({...E,[G]:null}),{});let z=null;d.isSome(f)&&(z=new x(f),z.immutable=!0,h.$config=null);f=w.scriptUsesGeometryEngine(m)&&w.enableGeometrySupport();v=w.scriptUsesFeatureSet(m)&&w.enableFeatureSetSupport();const A=w.scriptIsAsync(m)&&w.enableAsyncSupport();h={vars:h,spatialReference:y,useAsync:!!A};const C=new x;C.immutable=!1;C.setField("scale",0);const B=w.compileScript(m,h);yield Promise.all([f,v,A]);return new k(q,w,x,m,E=>{"$view"in E&&E.$view&&(C.setField("scale",
E.$view.scale),E.$view=C);z&&(E.$config=z);return B({vars:E,spatialReference:y})},new D,t,y)});return function(q,m,t,f,h,v){return l.apply(this,arguments)}}();var g=k.prototype;g.repurposeFeature=function(l){l.geometry&&!l.geometry.spatialReference&&(l.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(l.geometry,l.attributes,{fields:this.fields});return this._arcadeFeature};g.createDictionary=function(){return new this._arcadeDictionary};g.referencesMember=
function(l){return this._arcade.referencesMember(this._syntaxTree,l)};g.referencesFunction=function(l){return this._arcade.referencesFunction(this._syntaxTree,l)};g.referencesGeometry=function(){return this._referencesGeometry};g.referencesScale=function(){return this._referencesScale};g.extractFieldLiterals=function(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)};return k}();b.ArcadeExpression=n;b.createDictionaryExpression=(k,g,l,q)=>n.create(k,g,l,q,["$feature","$view"]);
b.createLabelExpression=(k,g,l)=>n.create(k,g,l,null,["$feature"]);b.createRendererExpression=e;b.createVVExpression=e;b.loadArcade=r;Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const c=function(){const e=Object.keys(b.meterIn);e.sort();return e}();a.getMetersPerUnit=function(e){return 1/(b.meterIn[e]||1)};a.supportedUnits=c;a.supportsUnit=
function(e){return null!=b.meterIn[e]};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,c){b={inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,
"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ./maybe ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(a,b,c,e,d,p,r,u,n){function k(O){O=L[O];if(!O)throw Error("unknown type");return O}function g(O){return I[O].baseUnit}function l(O,fa=null){fa=fa||k(O);return I[fa].baseUnit===O}function q(O,fa,oa){if(fa===oa)return O;const Da=k(fa);if(Da!==k(oa))throw Error("incompatible units");O=l(fa,Da)?O:O*I[Da].units[fa].inBaseUnits;return l(oa,Da)?O:O/I[Da].units[oa].inBaseUnits}function m(O,fa){O=q(O,fa,"meters");return 3E3>Math.abs(O)?"meters":"kilometers"}function t(O,fa){O=q(O,fa,"meters");return 1E5>
Math.abs(O)?"meters":"kilometers"}function f(O,fa){O=q(O,fa,"feet");return 1E3>Math.abs(O)?"feet":"miles"}function h(O,fa){O=q(O,fa,"feet");return 1E5>Math.abs(O)?"feet":"miles"}function v(O,fa){O=q(O,fa,"square-meters");return 3E6>Math.abs(O)?"square-meters":"square-kilometers"}function w(O,fa){O=q(O,fa,"square-feet");return 1E6>Math.abs(O)?"square-feet":"square-miles"}function D(O){return H.fromJSON(O.toLowerCase())||null}function x(O){const fa=y(O),oa=O instanceof p?d.getReferenceEllipsoid(O).metersPerDegree:
1E5;return fa>=oa?"meters":C(O)}function y(O,fa=r.earth.metersPerDegree){return e.unwrapOr(z(O,!0),fa)}function z(O,fa=!1){let oa,Da,Ha=null;null!=O&&("object"===typeof O?(oa=O.wkid,Da=O.wkt):"number"===typeof O?oa=O:"string"===typeof O&&(Da=O));if(oa){if(u.isWKIDFromMars(oa))return r.mars.metersPerDegree;if(u.isWKIDFromMoon(oa))return r.moon.metersPerDegree;Ha=J.values[J[oa]];!Ha&&fa&&F.has(oa)&&(Ha=E)}else Da&&(/^PROJCS/i.test(Da)?Ha=A(G.exec(Da),Ha):/^GEOCCS/i.test(Da)&&(Ha=A(K.exec(Da),Ha)));
return Ha}function A(O,fa){return O&&O[1]?parseFloat(O[1].split(",")[1]):fa}function C(O){var fa=null;if(null!=O)if("object"===typeof O){var oa=O.wkid;var Da=O.wkt}else"number"===typeof O?oa=O:"string"===typeof O&&(Da=O);if(oa)fa=J.units[J[oa]];else if(Da&&(O=/^PROJCS/i.test(Da)?G:/^GEOCCS/i.test(Da)?K:null)&&(Da=O.exec(Da))&&Da[1]&&(Da=Da[1],fa=(fa=/[\\"\\']{1}([^\\"\\']+)/.exec(Da))&&fa[1],!fa||!J.units.includes(fa)))for(Da=parseFloat(Da.split(",")[1]),fa=null,O=J.values,oa=0;oa<O.length;++oa)if(1E-7>
Math.abs(Da-O[oa])){fa=J.units[oa];break}return e.isSome(fa)?D(fa):null}function B(O){O=C(O);if(e.isNone(O))return null;switch(O){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null}
const E=r.earth.radius*Math.PI/200,G=/UNIT\[([^\]]+)\]\]$/i,J=n,K=/UNIT\[([^\]]+)\]/i,F=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),H=c.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",
chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};n={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},
"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(O=>O*O)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const I={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:n},volume:{baseUnit:"liters",
units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},L=(()=>{const O=
{};for(const fa in I)for(const oa in I[fa].units)O[oa]=fa;return O})(),Q="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),Z=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]),ca={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",
esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},aa={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};b=c.strict()(ca);n=c.strict()(aa);c=c.strict()({...ca,...aa});a.areaUnitFromSpatialReference=
function(O){O=C(O);return e.isNone(O)?null:Z.get(O)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(O){return g(k(O))};a.baseUnitForUnitType=g;a.convertUnit=q;a.getDefaultUnitForView=function(O){var fa;if(e.isNone(O))return"metric";var oa=O.map;if(oa=oa&&"portalItem"in oa?null==(fa=oa.portalItem)?void 0:fa.portal:null){var Da,Ha;switch(null!=(Da=null==oa?void 0:null==(Ha=oa.user)?void 0:Ha.units)?Da:oa.units){case "metric":return"metric";case "english":return"imperial"}}return e.unwrapOr(B(O.spatialReference),
"metric")};a.getDefaultUnitSystem=B;a.getMetersPerUnit=z;a.getMetersPerUnitForSR=y;a.getMetersPerVerticalUnitForSR=function(O){if(O&&"object"===typeof O&&!u.isEarth(O))return 1;O=y(O);return 1E5<O?1:O};a.getUnitString=C;a.getVerticalUnitStringForSR=x;a.inchesPerMeter=39.37;a.isBaseUnit=l;a.isMeasurementSystem=function(O){return"imperial"===O||"metric"===O};a.lengthToDegrees=function(O,fa,oa){return q(O,fa,"meters")/(oa*Math.PI/180)};a.lengthUnitFromSpatialReference=function(O){O=C(O);return e.isNone(O)||
!Q.includes(O)?null:O};a.lengthUnitsJSONMap=n;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=Q;a.preferredAreaUnit=function(O,fa,oa){switch(oa){case "metric":return v(O,fa);case "imperial":return w(O,fa);default:return oa}};a.preferredImperialAreaUnit=w;a.preferredImperialLengthUnit=f;a.preferredImperialVerticalLengthUnit=h;a.preferredLengthUnit=function(O,
fa,oa){switch(oa){case "metric":return m(O,fa);case "imperial":return f(O,fa);default:return oa}};a.preferredMetricAreaUnit=v;a.preferredMetricLengthUnit=m;a.preferredMetricVerticalLengthUnit=t;a.preferredVerticalLengthUnit=function(O,fa,oa){switch(oa){case "metric":return t(O,fa);case "imperial":return h(O,fa);default:return oa}};a.unitFromRESTJSON=D;a.unitToRESTJSON=function(O){return H.toJSON(O)||null};a.unitType=k;a.unitsJSONMap=c;a.verticalLengthUnitFromSpatialReference=function(O){O=x(O);return e.isNone(O)||
!Q.includes(O)?null:O};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,c,e){function d(k){return new b({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${k.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}
const p=d(c.earth),r=d(c.mars),u=d(c.moon),n=new b({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${c.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});a.SphericalECEFSpatialReference=p;a.SphericalPCPFMars=
r;a.SphericalPCPFMoon=u;a.WGS84ECEFSpatialReference=n;a.createSphericalPCPF=d;a.getReferenceEllipsoid=function(k){return k&&(e.isMars(k)||k===r)?c.mars:k&&(e.isMoon(k)||k===u)?c.moon:c.earth};a.getReferenceEllipsoidFromWKID=function(k){return e.isWKIDFromMars(k)?c.mars:e.isWKIDFromMoon(k)?c.moon:c.earth};a.getSphericalPCPF=function(k){return k&&(e.isMars(k)||k===r)?r:k&&(e.isMoon(k)||k===u)?u:p};a.getSphericalPCPFForEllipsoid=function(k){return k&&k===c.mars?r:k&&k===c.moon?u:p};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y){const z=n.getLogger("esri.layers.mixins.PortalLayer");var A=null,C=null;b.PortalLayer=B=>{B=function(E){function G(){var K=E.apply(this,arguments)||this;K.resourceReferences={portalItem:null,paths:[]};K.userHasEditingPrivileges=!0;return K}c._inheritsLoose(G,E);var J=G.prototype;J.destroy=function(){var K;null==(K=this.portalItem)?void 0:K.destroy();this.portalItem=null};J.readPortalItem=function(K,F,H){if(F.itemId)return new x({id:F.itemId,portal:H&&
H.portal})};J.writePortalItem=function(K,F){K&&K.id&&(F.itemId=K.id)};J.loadFromPortal=function(){var K=c._asyncToGenerator(function*(F,H){if(this.portalItem&&this.portalItem.id)try{const I=yield new Promise((L,Q)=>a(["../../portal/support/layersLoader"],L,Q));g.throwIfAborted(H);return yield I.load({instance:this,supportedTypes:F.supportedTypes,validateItem:F.validateItem,supportsData:F.supportsData},H)}catch(I){throw g.isAbortError(I)||z.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${I}`),
I;}});return function(F,H){return K.apply(this,arguments)}}();J.finishLoadEditablePortalLayer=function(){var K=c._asyncToGenerator(function*(F){this._set("userHasEditingPrivileges",yield this._fetchUserHasEditingPrivileges(F).catch(H=>{g.throwIfAbortError(H);return!0}))});return function(F){return K.apply(this,arguments)}}();J._fetchUserHasEditingPrivileges=function(){var K=c._asyncToGenerator(function*(F){const H=this.url?null==d.id?void 0:d.id.findCredential(this.url):null;if(!H)return!0;F=A===
H?C:yield this._fetchEditingUser(F);A=H;C=F;return k.isNone(F)||null==F.privileges||F.privileges.includes("features:user:edit")});return function(F){return K.apply(this,arguments)}}();J._fetchEditingUser=function(){var K=c._asyncToGenerator(function*(F){var H,I;const L=null==(H=this.portalItem)?void 0:null==(I=H.portal)?void 0:I.user;if(L)return L;H=d.id.findServerInfo(this.url);if(null==H||!H.owningSystemUrl)return null;H=`${H.owningSystemUrl}/sharing/rest`;if((I=D.getDefault())&&I.loaded&&l.normalize(I.restUrl)===
l.normalize(H))return I.user;H=`${H}/community/self`;F=k.isSome(F)?F.signal:null;F=yield r.result(p(H,{authMode:"no-prompt",query:{f:"json"},signal:F}));return F.ok?y.fromJSON(F.value.data):null});return function(F){return K.apply(this,arguments)}}();J.read=function(K,F){F&&(F.layer=this);E.prototype.read.call(this,K,F)};J.write=function(K,F){const H=F&&F.portal,I=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||D.getDefault());return H&&I&&!l.hasSamePortal(I.restUrl,H.restUrl)?(F.messages&&
F.messages.push(new u("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):E.prototype.write.call(this,K,{...F,layer:this})};c._createClass(G,[{key:"portalItem",set:function(K){K!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",K))}}]);
return G}(B);e.__decorate([q.property({type:x})],B.prototype,"portalItem",null);e.__decorate([h.reader("web-document","portalItem",["itemId"])],B.prototype,"readPortalItem",null);e.__decorate([w.writer("web-document","portalItem",{itemId:{type:String}})],B.prototype,"writePortalItem",null);e.__decorate([q.property({clonable:!1})],B.prototype,"resourceReferences",void 0);e.__decorate([q.property({readOnly:!0})],B.prototype,"userHasEditingPrivileges",void 0);return B=e.__decorate([v.subclass("esri.layers.mixins.PortalLayer")],
B)};Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u){a.ScaleRangeLayer=n=>{n=function(k){function g(){var l=k.apply(this,arguments)||
this;l.minScale=0;l.maxScale=0;return l}b._inheritsLoose(g,k);b._createClass(g,[{key:"effectiveScaleRange",get:function(){const l={minScale:this.minScale,maxScale:this.maxScale};var q=this.parent;q&&"effectiveScaleRange"in q&&(q=q.effectiveScaleRange,l.minScale=0<l.minScale?0<q.minScale?Math.min(l.minScale,q.minScale):l.minScale:q.minScale,l.maxScale=0<l.maxScale?0<q.maxScale?Math.max(l.maxScale,q.maxScale):l.maxScale:q.maxScale);return(q=this._get("effectiveScaleRange"))&&q.minScale===l.minScale&&
q.maxScale===l.maxScale?q:l}}]);return g}(n);c.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],n.prototype,"minScale",void 0);c.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],n.prototype,"maxScale",void 0);c.__decorate([e.property({readOnly:!0})],n.prototype,"effectiveScaleRange",null);return n=c.__decorate([u.subclass("esri.layers.mixins.ScaleRangeLayer")],n)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./refresh".split(" "),function(a,b,c,e,d,p,r,u,n,k,g){a.RefreshableLayer=l=>{l=function(q){function m(...f){var h=q.call(this,...f)||this;h.refreshInterval=0;h.refreshTimestamp=
0;h._debounceHasDataChanged=d.debounce(()=>h.hasDataChanged());h.when().then(()=>{g.registerLayer(b._assertThisInitialized(h))},()=>{});return h}b._inheritsLoose(m,q);var t=m.prototype;t.destroy=function(){g.unregisterLayer(this)};t.refresh=function(f=Date.now()){d.ignoreAbortErrors(this._debounceHasDataChanged()).then(h=>{h&&this._set("refreshTimestamp",f);this.emit("refresh",{dataChanged:h})},h=>{e.getLogger(this.declaredClass).error(h);this.emit("refresh",{dataChanged:!1,error:h})})};t.hasDataChanged=
function(){var f=b._asyncToGenerator(function*(){return!0});return function(){return f.apply(this,arguments)}}();b._createClass(m,[{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}}]);return m}(l);c.__decorate([p.property({type:Number,cast:q=>.1<=q?q:0>=q?0:.1,json:{write:!0}})],l.prototype,"refreshInterval",void 0);c.__decorate([p.property({readOnly:!0})],l.prototype,"refreshTimestamp",void 0);c.__decorate([p.property()],l.prototype,"refreshParameters",null);return l=
c.__decorate([k.subclass("esri.layers.mixins.RefreshableLayer")],l)};a.isRefreshableLayer=function(l){return l&&"object"===typeof l&&"refreshTimestamp"in l&&"refresh"in l};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),
function(a,b,c,e,d,p,r,u){function n(f){return f&&"object"===typeof f&&"refreshInterval"in f&&"refresh"in f}function k(f,h){return Number.isFinite(f)&&Number.isFinite(h)?0>=h?f:k(h,f%h):0}function g(){const f=Date.now();for(const v of l)if(v.refreshInterval){var h;const w=null!=(h=q.get(v))?h:0;f-w+5>=6E4*v.refreshInterval&&(q.set(v,f),v.refresh(f))}}const l=new b,q=new WeakMap;let m=0,t=0;u.autorun(()=>{const f=Date.now();let h=0;for(const v of l)h=k(Math.round(6E4*v.refreshInterval),h),v.refreshInterval?
q.get(v)||q.set(v,f):q.delete(v);h!==t&&(t=h,clearInterval(m),m=0===t?0:setInterval(g,t))});a.registerLayer=function(f){n(f)&&l.push(f)};a.test={get hasRefreshTimer(){return 0<m},get tickInterval(){return t},forceRefresh(){g()},hasLayer(f){return n(f)&&l.includes(f)},clear(){for(const f of l)q.delete(f);l.removeAll()}};a.unregisterLayer=function(f){n(f)&&l.includes(f)&&l.remove(f)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/layersCreator":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Collection ../../core/has ../../core/promiseUtils ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k){function g(K,F,H){return l.apply(this,arguments)}function l(){l=b._asyncToGenerator(function*(K,F,H){if(F){var I=[];for(const L of F)F=q(L,H),"GroupLayer"===L.layerType?I.push(D(F,L,H)):I.push(F);I=yield d.eachAlways(I);for(const L of I)!L.value||H.filter&&!H.filter(L.value)||K.add(L.value)}});return l.apply(this,arguments)}function q(K,F){return m.apply(this,arguments)}function m(){m=b._asyncToGenerator(function*(K,F){const H=yield h(K,F);return t(H,K,F)});return m.apply(this,
arguments)}function t(K,F,H){return f.apply(this,arguments)}function f(){f=b._asyncToGenerator(function*(K,F,H){K=new K;K.read(F,H.context);"group"===K.type&&w(F)&&(yield y(K,F,H.context));yield k.loadStyleRenderer(K,H.context);return K});return f.apply(this,arguments)}function h(K,F){return v.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(K,F){var H=F.context;switch(H.origin){case "web-scene":switch(H.layerContainerType){case "basemap":var I=B;break;case "ground":I=C;break;default:I=
A}break;default:switch(H.layerContainerType){case "basemap":I=J;break;case "tables":I=G;break;default:I=E}}var L=I;I=K.layerType||K.type;!I&&F&&F.defaultLayerType&&(I=F.defaultLayerType);F=(F=L[I])?p.layerLookupMap[F]:p.layerLookupMap.UnknownLayer;"Feature Collection"===K.type?(H=null==H?void 0:H.portal,K.itemId&&(K=new r({id:K.itemId,portal:H}),yield K.load(),K=(yield n.selectLayerClassPath(K)).className||"UnknownLayer",F=p.layerLookupMap[K])):"ArcGISFeatureLayer"===I?u.isMapNotesLayer(K)?F=p.layerLookupMap.MapNotesLayer:
u.isRouteLayer(K)?F=p.layerLookupMap.RouteLayer:w(K)&&(F=p.layerLookupMap.GroupLayer):K.wmtsInfo&&K.wmtsInfo.url&&K.wmtsInfo.layerIdentifier?F=p.layerLookupMap.WMTSLayer:"WFS"===I&&"2.0.0"!==K.wfsInfo.version&&(F=p.layerLookupMap.UnsupportedLayer);return F()});return v.apply(this,arguments)}function w(K){var F,H,I;return"ArcGISFeatureLayer"!==K.layerType||"Feature Collection"===K.type?!1:1<(null!=(F=null==(H=K.featureCollection)?void 0:null==(I=H.layers)?void 0:I.length)?F:0)}function D(K,F,H){return x.apply(this,
arguments)}function x(){x=b._asyncToGenerator(function*(K,F,H){const I=new c;F=g(I,Array.isArray(F.layers)?F.layers:[],H);K=yield K;yield F;if("group"===K.type)return K.layers.addMany(I),K});return x.apply(this,arguments)}function y(K,F,H){return z.apply(this,arguments)}function z(){z=b._asyncToGenerator(function*(K,F,H){const I=yield(0,p.layerLookupMap.FeatureLayer)();var L=F.featureCollection;const Q=L.showLegend;L=L.layers.map((Z,ca)=>{var aa,O;const fa=new I;fa.read(Z,H);Z={...H,ignoreDefaults:!0};
fa.read({id:`${K.id}-sublayer-${ca}`,visibility:null!=(aa=null==(O=F.visibleLayers)?void 0:O.includes(ca))?aa:!0},Z);null!=Q&&fa.read({showLegend:Q},Z);return fa});K.layers.addMany(L)});return z.apply(this,arguments)}const A={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",
ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},C={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",
RasterDataElevationLayer:"UnsupportedLayer"},B={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},E={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",
ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",OGCFeatureLayer:"OGCFeatureLayer",SubtypeGroupLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",
WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},G={ArcGISFeatureLayer:"FeatureLayer"},J={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",
DefaultTileLayer:"TileLayer"};a.populateOperationalLayers=g;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],function(a){function b(c,e){return c.layerType&&"ArcGISFeatureLayer"===c.layerType?c.featureCollectionType===e?!0:!1:!1}a.isMapNotesLayer=function(c){return b(c,"notes")};a.isRouteLayer=function(c){return b(c,"route")};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/portal/support/portalLayers":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../layers/support/lazyLayerLoader ../PortalItem ./layersLoader ./portalItemUtils ../../support/requestPresets".split(" "),function(a,b,c,e,d,p,r,u){function n(x){switch(x.type){case "Map Service":return g(x);case "Feature Service":return l(x);case "Feature Collection":return m(x);case "Scene Service":return q(x);case "Image Service":return f(x);case "Stream Service":return{className:"StreamLayer"};
case "Vector Tile Service":return{className:"VectorTileLayer"};case "KML":return{className:"KMLLayer"};case "WFS":return{className:"WFSLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};case "Feed":return{className:"StreamLayer"};default:return Promise.reject(new c("portal:unknown-item-type","Unknown item type '${type}'",{type:x.type}))}}function k(x){return(0,e.layerLookupMap[x.className])().then(y=>({constructor:y,properties:x.properties}))}function g(x){return v(x).then(y=>
y?{className:"TileLayer"}:{className:"MapImageLayer"})}function l(x){return w(x).then(y=>{if("object"===typeof y){const z={};null!=y.id&&(z.layerId=y.id);return{className:"FeatureLayer",properties:z}}return{className:"GroupLayer"}})}function q(x){return w(x).then(y=>{if("object"===typeof y){const z={};null!=y.id?(z.layerId=y.id,y=`${x.url}/layers/${y.id}`):y=x.url;if(Array.isArray(x.typeKeywords)&&0<x.typeKeywords.length){const A={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",
PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const C of Object.keys(A))if(x.typeKeywords.includes(C))return{className:A[C]}}return u.requestArcGISServiceJSON(y).then(A=>{let C="SceneLayer";const B={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};A&&A.layerType&&B[A.layerType]&&(C=B[A.layerType]);return{className:C,properties:z}})}return!1===y?u.requestArcGISServiceJSON(x.url).then(z=>"Voxel"===
(null==z?void 0:z.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"}):{className:"GroupLayer"}})}function m(x){return t.apply(this,arguments)}function t(){t=b._asyncToGenerator(function*(x){yield x.load();if(r.hasTypeKeyword(x,"Map Notes"))return{className:"MapNotesLayer"};if(r.hasTypeKeyword(x,"Route Layer"))return{className:"RouteLayer"};x=yield x.fetchData();return 1===p.getNumLayersAndTables(x)?{className:"FeatureLayer"}:{className:"GroupLayer"}});return t.apply(this,arguments)}function f(x){return h.apply(this,
arguments)}function h(){h=b._asyncToGenerator(function*(x){var y,z,A;yield x.load();const C=null!=(y=null==(z=x.typeKeywords)?void 0:z.map(B=>B.toLowerCase()))?y:[];if(C.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(C.includes("tiled imagery"))return{className:"ImageryTileLayer"};y=yield x.fetchData();y=null==y?void 0:y.layerType;return"ArcGISTiledImageServiceLayer"===y?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===y?{className:"ImageryLayer"}:"map"===(null==(A=
(yield u.requestArcGISServiceJSON(x.url)).cacheType)?void 0:A.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}});return h.apply(this,arguments)}function v(x){return u.requestArcGISServiceJSON(x.url).then(y=>y.tileInfo)}function w(x){return!x.url||x.url.match(/\/\d+$/)?Promise.resolve({}):x.load().then(()=>x.fetchData()).then(function(){var y=b._asyncToGenerator(function*(z){return"Feature Service"===x.type?(z=yield p.preprocessFSItemData(z,x.url),D(z)):0<p.getNumLayersAndTables(z)?
D(z):u.requestArcGISServiceJSON(x.url).then(D)});return function(z){return y.apply(this,arguments)}}())}function D(x){return 1===p.getNumLayersAndTables(x)?{id:p.getFirstLayerOrTableId(x)}:!1}a.fromItem=function(x){!x.portalItem||x.portalItem instanceof d||(x={...x,portalItem:new d(x.portalItem)});return x.portalItem.load().then(n).then(k).then(y=>new y.constructor({portalItem:x.portalItem,...y.properties}))};a.selectLayerClassPath=n;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/portal/support/portalItemUtils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,c,e,d){function p(k){return r.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(k){const g=k.spatialReference;if(g.isWGS84)return k.clone();if(g.isWebMercator)return d.webMercatorToGeographic(k);const l=e.WGS84;yield c.initializeProjection(g,l);return c.project(k,
l)});return r.apply(this,arguments)}function u(k,g){var l;return!(null==(l=k.typeKeywords)||!l.includes(g))}function n(){n=b._asyncToGenerator(function*(k){k=k.clone().normalize();let g;if(1<k.length)for(const l of k)g?l.width>g.width&&(g=l):g=l;else g=k[0];return p(g)});return n.apply(this,arguments)}a.TypeKeyword={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"};a.addTypeKeyword=function(k,
g){if(!u(k,g)){const l=k.typeKeywords;l?l.push(g):k.typeKeywords=[g]}};a.getWGS84ExtentForItem=function(k){return n.apply(this,arguments)};a.hasTypeKeyword=u;a.removeTypeKeyword=function(k,g){if(k=k.typeKeywords)g=k.indexOf(g),-1<g&&k.splice(g,1)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E){function G(){return!!Na&&f.isLoaded()}function J(V){p.isNone(Ra)&&(Ra=Promise.all([f.load(),(new Promise((ma,qa)=>a(["../chunks/geometryEngineBase"],ma,qa))).then(ma=>ma.geometryEngineBase),new Promise((ma,qa)=>a(["./geometryAdapters/hydrated"],ma,qa))]));return Ra.then(([,ma,{hydratedAdapter:qa}])=>{r.throwIfAborted(V);Va=qa;Na=ma.default;Na._enableProjection(f.pe);ab.notify()})}function K(V,ma,qa=null,Ea=null){return Array.isArray(V)?
0===V.length?[]:F(Va,V,V[0].spatialReference,ma,qa,Ea):F(Va,[V],V.spatialReference,ma,qa,Ea)[0]}function F(V,ma,qa,Ea,Ua=null,Ka=null){if(p.isNone(qa)||p.isNone(Ea))return ma;if(L(qa,Ea,Ua))return ma.map(Ta=>p.unwrap(Z(Ta,qa,Ea)));if(p.isNone(Ua)){const Ta=A.cacheKey(qa,Ea);void 0!==$a[Ta]?Ua=$a[Ta]:(Ua=H(qa,Ea,null),p.isNone(Ua)&&(Ua=new A),$a[Ta]=Ua)}if(p.isNone(Na))throw new db;return p.isSome(Ka)?Na._project(V,ma,qa,Ea,Ua,Ka):Na._project(V,ma,qa,Ea,Ua)}function H(V,ma,qa=null){if(p.isNone(Na))throw new db;
if(p.isNone(V)||p.isNone(ma))return null;V=Na._getTransformation(Va,V,ma,qa,null==qa?void 0:qa.spatialReference);return null!==V?A.fromGE(V):null}function I(V,ma){try{const qa=K(V,ma);if(null==qa)return null;"xmin"in V&&"xmin"in qa&&(qa.zmin=V.zmin,qa.zmax=V.zmax);const Ea=E.getGeometryZScaler(qa.type,V.spatialReference,ma);p.isSome(Ea)&&Ea(qa);return qa}catch(qa){if(!(qa instanceof db))throw qa;return null}}function L(V,ma,qa){return qa?!1:C.equals(V,ma)?!0:C.isValid(V)&&C.isValid(ma)&&!!Ca(V,ma,
eb)}function Q(){Q=c._asyncToGenerator(function*(V,ma,qa,Ea){if(G())return r.waitTick(Ea);if(Array.isArray(V))for(const {source:Ua,dest:Ka,geographicTransformation:Ta}of V){if(!L(Ua,Ka,Ta))return J(Ea)}else if(!L(V,ma,qa))return J(Ea);return r.waitTick(Ea)});return Q.apply(this,arguments)}function Z(V,ma,qa){return V?"x"in V?ca(V,ma,new h,qa,0):"xmin"in V?oa(V,ma,new m,qa,0):"rings"in V?fa(V,ma,new v,qa,0):"paths"in V?O(V,ma,new w,qa,0):"points"in V?aa(V,ma,new t,qa,0):null:null}function ca(V,ma,
qa,Ea,Ua){Ma[0]=V.x;Ma[1]=V.y;const Ka=V.z;Ma[2]=void 0!==Ka?Ka:Ua;if(!Y(Ma,ma,0,Ma,Ea,0,1))return null;qa.x=Ma[0];qa.y=Ma[1];qa.spatialReference=Ea;void 0===Ka?(qa.z=void 0,qa.hasZ=!1):(qa.z=Ma[2],qa.hasZ=!0);void 0===V.m?(qa.m=void 0,qa.hasM=!1):(qa.m=V.m,qa.hasM=!0);return qa}function aa(V,ma,qa,Ea,Ua){const {points:Ka,hasZ:Ta,hasM:Aa}=V;V=[];const Pa=Ka.length,Xa=[];for(var bb of Ka)Xa.push(bb[0],bb[1],Ta?bb[2]:Ua);if(!Y(Xa,ma,0,Xa,Ea,0,Pa))return null;for(ma=0;ma<Pa;++ma){Ua=3*ma;bb=Xa[Ua];const cb=
Xa[Ua+1];Ta&&Aa?V.push([bb,cb,Xa[Ua+2],Ka[ma][3]]):Ta?V.push([bb,cb,Xa[Ua+2]]):Aa?V.push([bb,cb,Ka[ma][2]]):V.push([bb,cb])}qa.points=V;qa.spatialReference=Ea;qa.hasZ=Ta;qa.hasM=Aa;return qa}function O(V,ma,qa,Ea,Ua){const {paths:Ka,hasZ:Ta,hasM:Aa}=V;V=[];if(!pa(Ka,Ta,Aa,ma,V,Ea,Ua))return null;qa.paths=V;qa.spatialReference=Ea;qa.hasZ=Ta;qa.hasM=Aa;return qa}function fa(V,ma,qa,Ea,Ua){const {rings:Ka,hasZ:Ta,hasM:Aa}=V;V=[];if(!pa(Ka,Ta,Aa,ma,V,Ea,Ua))return null;qa.rings=V;qa.spatialReference=
Ea;qa.hasZ=Ta;qa.hasM=Aa;return qa}function oa(V,ma,qa,Ea,Ua){const {xmin:Ka,ymin:Ta,xmax:Aa,ymax:Pa,hasZ:Xa,hasM:bb}=V;if(!Da(Ka,Ta,Xa?V.zmin:Ua,ma,Ma,Ea))return null;qa.xmin=Ma[0];qa.ymin=Ma[1];Xa&&(qa.zmin=Ma[2]);if(!Da(Aa,Pa,Xa?V.zmax:Ua,ma,Ma,Ea))return null;qa.xmax=Ma[0];qa.ymax=Ma[1];Xa&&(qa.zmax=Ma[2]);bb&&(qa.mmin=V.mmin,qa.mmax=V.mmax);qa.spatialReference=Ea;return qa}function Da(V,ma,qa,Ea,Ua,Ka){ba[0]=V;ba[1]=ma;ba[2]=qa;return Y(ba,Ea,0,Ua,Ka,0,1)}function Ha(V,ma,qa,Ea){if(p.isNone(ma)||
p.isNone(Ea)||2>V.length)return!1;2===V.length&&(ba[0]=V[0],ba[1]=V[1],ba[2]=0,V=ba);return Y(V,ma,0,qa,Ea,0,1)}function ta(V,ma,qa){if(p.isNone(ma))return!1;ma=da(ma,jb);ma=gb[ma][ya.WGS84_COMPARABLE_LON_LAT];if(p.isNone(ma))return!1;ma(V,0,ba,0);qa!==ba&&(qa[0]=ba[0],qa[1]=ba[1],2<qa.length&&(qa[2]=ba[2]));return!0}function Y(V,ma,qa,Ea,Ua,Ka,Ta=1){ma=Ca(ma,Ua,eb);if(p.isNone(ma))return!1;if(ma===S){if(V===Ea&&qa===Ka)return!0;Ta=qa+3*Ta;for(let Aa=qa,Pa=Ka;Aa<Ta;Aa++,Pa++)Ea[Pa]=V[Aa];return!0}Ta=
qa+3*Ta;for(let Aa=qa,Pa=Ka;Aa<Ta;Aa+=3,Pa+=3)ma(V,Aa,Ea,Pa);return!0}function pa(V,ma,qa,Ea,Ua,Ka,Ta=0){const Aa=[];for(const Pa of V)for(const Xa of Pa)Aa.push(Xa[0],Xa[1],ma?Xa[2]:Ta);if(!Y(Aa,Ea,0,Aa,Ka,0,Aa.length/3))return!1;Ea=0;Ua.length=0;for(const Pa of V){V=[];for(const Xa of Pa)ma&&qa?V.push([Aa[Ea++],Aa[Ea++],Aa[Ea++],Xa[3]]):ma?V.push([Aa[Ea++],Aa[Ea++],Aa[Ea++]]):(qa?V.push([Aa[Ea++],Aa[Ea++],Xa[2]]):V.push([Aa[Ea++],Aa[Ea++]]),Ea++);Ua.push(V)}return!0}function wa(V,ma,qa,Ea){ma=Ea+
ma;if(ma<Ea/2||qa>ma)return Number.MAX_VALUE;V=Math.abs(la*V)+Math.asin(qa/ma);return V>=Math.PI/2?Number.MAX_VALUE:qa/Math.cos(V)}function M(V,ma,qa){const Ea=Math.sin(V);V=Math.cos(V);const Ua=Math.sin(ma);ma=Math.cos(ma);qa[0]=-Ea;qa[4]=-Ua*V;qa[8]=ma*V;qa[12]=0;qa[1]=V;qa[5]=-Ua*Ea;qa[9]=ma*Ea;qa[13]=0;qa[2]=0;qa[6]=ma;qa[10]=Ua;qa[14]=0;qa[3]=0;qa[7]=0;qa[11]=0;qa[15]=1;return qa}function R(V,ma,qa){M(V,ma,qa);g.transpose(qa,qa);return qa}function da(V,ma){if(ma.spatialReference===V)return ma.spatialReferenceId;
ma.spatialReference=V;"metersPerUnit"in ma&&(ma.metersPerUnit=u.getMetersPerUnitForSR(V,1));return V.wkt===D.SphericalECEFSpatialReference.wkt?ma.spatialReferenceId=ya.SPHERICAL_ECEF:C.isWGS84(V)?ma.spatialReferenceId=ya.WGS84:C.isWebMercator(V)?ma.spatialReferenceId=ya.WEB_MERCATOR:C.isPlateCarree(V)?ma.spatialReferenceId=ya.PLATE_CARREE:V.wkt===D.WGS84ECEFSpatialReference.wkt?ma.spatialReferenceId=ya.WGS84_ECEF:V.wkid===B.SupportedGCSWkids.CGCS2000?ma.spatialReferenceId=ya.CGCS2000:V.wkt===D.SphericalPCPFMars.wkt?
ma.spatialReferenceId=ya.SPHERICAL_MARS_PCPF:V.wkt===D.SphericalPCPFMoon.wkt?ma.spatialReferenceId=ya.SPHERICAL_MOON_PCPF:C.isMars(V)?ma.spatialReferenceId=ya.GCSMARS2000:C.isMoon(V)?ma.spatialReferenceId=ya.GCSMOON2000:ma.spatialReferenceId=ya.UNKNOWN}function S(V,ma,qa,Ea){V!==qa&&(qa[Ea++]=V[ma++],qa[Ea++]=V[ma++],qa[Ea]=V[ma])}function X(V,ma,qa,Ea){qa[Ea++]=ua*(V[ma++]/y.earth.radius);qa[Ea++]=ua*(Math.PI/2-2*Math.atan(Math.exp(-V[ma++]/y.earth.radius)));qa[Ea]=V[ma]}function ea(V,ma,qa,Ea){X(V,
ma,qa,Ea);va(qa,Ea,qa,Ea)}function ha(V,ma,qa,Ea){X(V,ma,qa,Ea);Qa(qa,Ea,qa,Ea)}function ra(V,ma,qa,Ea,Ua){var Ka=.4999999*Math.PI;Ka=d.clamp(la*V[ma+1],-Ka,Ka);Ka=Math.sin(Ka);qa[Ea++]=la*V[ma]*Ua.radius;qa[Ea++]=Ua.halfSemiMajorAxis*Math.log((1+Ka)/(1-Ka));qa[Ea]=V[ma+2]}function na(V,ma,qa,Ea){ra(V,ma,qa,Ea,y.earth)}function N(V,ma,qa,Ea){qa[Ea]=V[ma]*fb;qa[Ea+1]=V[ma+1]*fb;qa[Ea+2]=V[ma+2]}function U(V,ma,qa,Ea){qa[Ea]=V[ma]*hb;qa[Ea+1]=V[ma+1]*hb;qa[Ea+2]=V[ma+2]}function P(V,ma,qa,Ea){X(V,ma,
qa,Ea);N(qa,Ea,qa,Ea)}function T(V,ma,qa,Ea,Ua){Ua+=V[ma+2];const Ka=la*V[ma+1];V=la*V[ma];ma=Math.cos(Ka);qa[Ea++]=Math.cos(V)*ma*Ua;qa[Ea++]=Math.sin(V)*ma*Ua;qa[Ea]=Math.sin(Ka)*Ua}function W(V,ma,qa,Ea){T(V,ma,qa,Ea,y.moon.radius)}function ja(V,ma,qa,Ea){T(V,ma,qa,Ea,y.mars.radius)}function va(V,ma,qa,Ea){T(V,ma,qa,Ea,y.earth.radius)}function Ga(V,ma,qa,Ea,Ua){var Ka=V[ma];const Ta=V[ma+1];ma=V[ma+2];V=Math.sqrt(Ka*Ka+Ta*Ta+ma*ma);ma=d.asinClamped(ma/(0===V?1:V));Ka=Math.atan2(Ta,Ka);qa[Ea++]=
ua*Ka;qa[Ea++]=ua*ma;qa[Ea]=V-Ua}function Oa(V,ma,qa,Ea){Ga(V,ma,qa,Ea,y.moon.radius)}function ka(V,ma,qa,Ea){Ga(V,ma,qa,Ea,y.mars.radius)}function xa(V,ma,qa,Ea){Ga(V,ma,qa,Ea,y.earth.radius)}function za(V,ma,qa,Ea){xa(V,ma,qa,Ea);na(qa,Ea,qa,Ea)}function La(V,ma,qa,Ea){xa(V,ma,qa,Ea);Qa(qa,Ea,qa,Ea)}function Qa(V,ma,qa,Ea){{var Ua=y.earth;const Ta=la*V[ma];var Ka=la*V[ma+1];V=V[ma+2];ma=Math.sin(Ka);Ka=Math.cos(Ka);const Aa=Ua.radius/Math.sqrt(1-Ua.eccentricitySquared*ma*ma);qa[Ea++]=(Aa+V)*Ka*
Math.cos(Ta);qa[Ea++]=(Aa+V)*Ka*Math.sin(Ta);qa[Ea++]=(Aa*(1-Ua.eccentricitySquared)+V)*ma}}function ia(V,ma,qa,Ea){var Ua=z.earthEllipsoidConstants,Ka=V[ma],Ta=V[ma+1];V=V[ma+2];let Aa;ma=Math.abs(V);var Pa=Ka*Ka+Ta*Ta;var Xa=Math.sqrt(Pa);var bb=Pa+V*V;var cb=Math.sqrt(bb);Ka=Math.atan2(Ta,Ka);var ib=V*V/bb;bb=Pa/bb;Ta=Ua.a2/cb;Pa=Ua.a3-Ua.a4/cb;.3<bb?(ib=ma/cb*(1+bb*(Ua.a1+Ta+ib*Pa)/cb),cb=Math.asin(ib),Ta=ib*ib,bb=Math.sqrt(1-Ta)):(bb=Xa/cb*(1-ib*(Ua.a5-Ta-bb*Pa)/cb),cb=Math.acos(bb),Ta=1-bb*
bb,ib=Math.sqrt(Ta));Aa=1-y.earth.eccentricitySquared*Ta;Ta=y.earth.radius/Math.sqrt(Aa);Ua=Ua.a6*Ta;Ta=Xa-Ta*bb;Pa=ma-Ua*ib;ma=bb*Ta+ib*Pa;Xa=bb*Pa-ib*Ta;Ua=Xa/(Ua/Aa+ma);cb+=Ua;0>V&&(cb=-cb);qa[Ea++]=ua*Ka;qa[Ea++]=ua*cb;qa[Ea]=ma+Xa*Ua/2}function sa(V,ma,qa,Ea){ia(V,ma,qa,Ea);va(qa,Ea,qa,Ea)}function Fa(V,ma,qa,Ea){ia(V,ma,qa,Ea);na(qa,Ea,qa,Ea)}function Ca(V,ma,qa=Sa()){return p.isNone(V)||p.isNone(ma)?null:Ja(V,ma,qa).projector}function Ja(V,ma,qa){if(p.isNone(V)||p.isNone(ma)||qa.source.spatialReference===
V&&qa.dest.spatialReference===ma)return qa;const Ea=da(V,qa.source),Ua=da(ma,qa.dest);Ea===ya.UNKNOWN&&Ua===ya.UNKNOWN?C.equals(V,ma)?qa.projector=S:qa.projector=null:qa.projector=gb[Ea][Ua];return qa}function Sa(){return{source:{spatialReference:null,spatialReferenceId:ya.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:ya.UNKNOWN,metersPerUnit:1},projector:S}}let Na=null,Va=null,Ra=null,$a={};const ab=new k.SimpleObservable;let db=function(V){function ma(){return V.call(this,
"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}c._inheritsLoose(ma,V);return ma}(e);var ya;(function(V){V[V.UNKNOWN=0]="UNKNOWN";V[V.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";V[V.WGS84=2]="WGS84";V[V.WEB_MERCATOR=3]="WEB_MERCATOR";V[V.WGS84_ECEF=4]="WGS84_ECEF";V[V.CGCS2000=5]="CGCS2000";V[V.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";V[V.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";V[V.GCSMARS2000=8]="GCSMARS2000";V[V.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";
V[V.GCSMOON2000=10]="GCSMOON2000";V[V.LON_LAT=11]="LON_LAT";V[V.PLATE_CARREE=12]="PLATE_CARREE"})(ya||(ya={}));const fb=y.earth.radius*Math.PI/180,hb=180/(y.earth.radius*Math.PI),gb={[ya.WGS84]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:S,[ya.WGS84_COMPARABLE_LON_LAT]:S,[ya.SPHERICAL_ECEF]:va,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:na,[ya.PLATE_CARREE]:N,[ya.WGS84]:S,[ya.WGS84_ECEF]:Qa},[ya.CGCS2000]:{[ya.CGCS2000]:S,
[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:S,[ya.WGS84_COMPARABLE_LON_LAT]:S,[ya.SPHERICAL_ECEF]:va,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:N,[ya.WGS84]:null,[ya.WGS84_ECEF]:Qa},[ya.GCSMARS2000]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:S,[ya.GCSMOON2000]:null,[ya.LON_LAT]:S,[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:ja,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,
[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.GCSMOON2000]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:S,[ya.LON_LAT]:S,[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:W,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.WEB_MERCATOR]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:X,[ya.WGS84_COMPARABLE_LON_LAT]:X,
[ya.SPHERICAL_ECEF]:ea,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:S,[ya.PLATE_CARREE]:P,[ya.WGS84]:X,[ya.WGS84_ECEF]:ha},[ya.WGS84_ECEF]:{[ya.CGCS2000]:ia,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:ia,[ya.WGS84_COMPARABLE_LON_LAT]:ia,[ya.SPHERICAL_ECEF]:sa,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:Fa,[ya.PLATE_CARREE]:function(V,ma,qa,Ea){ia(V,ma,qa,Ea);N(qa,Ea,qa,Ea)},[ya.WGS84]:ia,
[ya.WGS84_ECEF]:S},[ya.SPHERICAL_ECEF]:{[ya.CGCS2000]:xa,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:xa,[ya.WGS84_COMPARABLE_LON_LAT]:xa,[ya.SPHERICAL_ECEF]:S,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:za,[ya.PLATE_CARREE]:function(V,ma,qa,Ea){xa(V,ma,qa,Ea);N(qa,Ea,qa,Ea)},[ya.WGS84]:xa,[ya.WGS84_ECEF]:La},[ya.SPHERICAL_MARS_PCPF]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:ka,[ya.GCSMOON2000]:null,[ya.LON_LAT]:ka,[ya.WGS84_COMPARABLE_LON_LAT]:null,
[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:S,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.SPHERICAL_MOON_PCPF]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:Oa,[ya.LON_LAT]:Oa,[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:S,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},
[ya.UNKNOWN]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:null,[ya.WGS84_COMPARABLE_LON_LAT]:null,[ya.SPHERICAL_ECEF]:null,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:S,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:null,[ya.WGS84]:null,[ya.WGS84_ECEF]:null},[ya.LON_LAT]:{[ya.CGCS2000]:S,[ya.GCSMARS2000]:S,[ya.GCSMOON2000]:S,[ya.LON_LAT]:S,[ya.WGS84_COMPARABLE_LON_LAT]:S,[ya.SPHERICAL_ECEF]:va,[ya.SPHERICAL_MARS_PCPF]:ja,[ya.SPHERICAL_MOON_PCPF]:W,
[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:na,[ya.PLATE_CARREE]:N,[ya.WGS84]:S,[ya.WGS84_ECEF]:Qa},[ya.WGS84_COMPARABLE_LON_LAT]:{[ya.CGCS2000]:null,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:S,[ya.WGS84_COMPARABLE_LON_LAT]:S,[ya.SPHERICAL_ECEF]:va,[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:null,[ya.PLATE_CARREE]:N,[ya.WGS84]:S,[ya.WGS84_ECEF]:Qa},[ya.PLATE_CARREE]:{[ya.CGCS2000]:U,[ya.GCSMARS2000]:null,[ya.GCSMOON2000]:null,[ya.LON_LAT]:U,
[ya.WGS84_COMPARABLE_LON_LAT]:U,[ya.SPHERICAL_ECEF]:function(V,ma,qa,Ea){U(V,ma,qa,Ea);va(qa,Ea,qa,Ea)},[ya.SPHERICAL_MARS_PCPF]:null,[ya.SPHERICAL_MOON_PCPF]:null,[ya.UNKNOWN]:null,[ya.WEB_MERCATOR]:function(V,ma,qa,Ea){U(V,ma,qa,Ea);na(qa,Ea,qa,Ea)},[ya.PLATE_CARREE]:S,[ya.WGS84]:U,[ya.WGS84_ECEF]:function(V,ma,qa,Ea){U(V,ma,qa,Ea);Qa(qa,Ea,qa,Ea)}}},jb={spatialReference:null,spatialReferenceId:ya.UNKNOWN},Za={spatialReference:null,spatialReferenceId:ya.UNKNOWN},eb=Sa(),Wa=Sa(),la=d.deg2rad(1),
ua=d.rad2deg(1),ba=q.create(),Ba=q.create(),Ia=q.create(),Ma=q.create(),Ya=q.create();b.canProjectToWGS84ComparableLonLat=function(V){if(p.isNone(V))return!1;V=da(V,jb);return!!gb[V][ya.WGS84_COMPARABLE_LON_LAT]};b.canProjectWithoutEngine=L;b.computeENUToSphericalPCPFLocalRotation=M;b.computeSphericalPCPFToENULocalRotation=R;b.computeTranslationToOriginAndRotation=function(V,ma,qa,Ea){if(p.isNone(V)||p.isNone(Ea))return!1;var Ua=da(V,jb),Ka=da(Ea,Za);if(Ua===Ka&&Ka!==ya.SPHERICAL_ECEF&&Ka!==ya.SPHERICAL_MARS_PCPF&&
Ka!==ya.SPHERICAL_MOON_PCPF&&(Ua!==ya.UNKNOWN||C.equals(V,Ea)))return g.fromTranslation(qa,ma),!0;if(Ka===ya.SPHERICAL_ECEF||Ka===ya.SPHERICAL_MARS_PCPF||Ka===ya.SPHERICAL_MOON_PCPF){Ua=gb[Ua][ya.LON_LAT];Ka=gb[ya.LON_LAT][Ka];if(p.isNone(Ua)||p.isNone(Ka))return!1;Ua(ma,0,Ba,0);Ka(Ba,0,Ia,0);M(la*Ba[0],la*Ba[1],qa);qa[12]=Ia[0];qa[13]=Ia[1];qa[14]=Ia[2];return!0}if((Ka===ya.WEB_MERCATOR||Ka===ya.PLATE_CARREE)&&(Ua===ya.WGS84||Ua===ya.CGCS2000&&Ka===ya.PLATE_CARREE||Ua===ya.SPHERICAL_ECEF||Ua===ya.WEB_MERCATOR)){V=
gb[Ua][ya.LON_LAT];Ka=gb[ya.LON_LAT][Ka];if(p.isNone(V)||p.isNone(Ka))return!1;V(ma,0,Ba,0);Ka(Ba,0,Ia,0);Ua===ya.SPHERICAL_ECEF?R(la*Ba[0],la*Ba[1],qa):g.identity(qa);qa[12]=Ia[0];qa[13]=Ia[1];qa[14]=Ia[2];return!0}return!1};b.getProjectorName=function(V,ma){switch(Ca(V,ma,eb)){case S:return"copy3";case va:return"wgs84ToSphericalECEF";case na:return"wgs84ToWebMercator";case N:return"wgs84ToPlateCarree";case Qa:return"wgs84ToWGS84ECEF";case X:return"webMercatorToWGS84";case ea:return"webMercatorToSphericalECEF";
case ha:return"webMercatorToWGS84ECEF";case P:return"webMercatorToPlateCarree";case ia:return"wgs84ECEFToWGS84";case sa:return"wgs84ECEFToSphericalECEF";case Fa:return"wgs84ECEFToWebMercator";case xa:return"sphericalECEFToWGS84";case za:return"sphericalECEFToWebMercator";case ka:return"sphericalMarsPCPFToMars2000";case Oa:return"sphericalMoonPCPFToMoon2000";case La:return"sphericalECEFToWGS84ECEF";case ja:return"mars2000ToSphericalPCPF";case W:return"moon2000ToSphericalPCPF";default:return null}};
b.getTransformation=H;b.getTransformations=function(V,ma,qa=null){if(p.isNone(Na))throw new db;V=Na._getTransformationBySuitability(Va,V,ma,qa,null==qa?void 0:qa.spatialReference);if(null!==V){ma=[];for(const Ea of V)ma.push(A.fromGE(Ea));return ma}return[]};b.initializeProjection=function(V,ma,qa,Ea){return Q.apply(this,arguments)};b.isLoaded=G;b.load=J;b.localLinearScaleFactors=function(V,ma,qa,Ea){if(p.isNone(ma)||p.isNone(Ea))return!1;const Ua=da(ma,jb);var Ka=da(Ea,Za);if(Ua===Ka&&Ua!==ya.UNKNOWN||
C.equals(ma,Ea))return qa[0]=1,qa[1]=1,qa[2]=1,!0;if(Ua===ya.SPHERICAL_ECEF){ma=l.length(V);V=ma/Math.sqrt(V[0]*V[0]+V[1]*V[1]);ma/=y.earth.radius;if(Ka===ya.WEB_MERCATOR)return qa[0]=V*ma,qa[1]=V*ma,qa[2]=1,!0;if(Ka===ya.WGS84||Ka===ya.CGCS2000)return Ka=hb,qa[0]=Ka*V*ma,qa[1]=Ka*ma,qa[2]=1,!0}else if(Ua===ya.PLATE_CARREE){if(Ka===ya.WGS84||Ka===ya.CGCS2000)return qa[0]=hb,qa[1]=hb,qa[2]=1,!0;if(Ka===ya.WEB_MERCATOR)return Ka=V[1]/y.earth.radius,qa[0]=1,qa[1]=1/Math.cos(Ka),qa[2]=1,!0}return!1};
b.lonLatToSphericalPCPF=function(V,ma,qa,Ea){const Ua=Math.cos(qa);V[0]=Math.cos(ma)*Ua*Ea;V[1]=Math.sin(ma)*Ua*Ea;V[2]=Math.sin(qa)*Ea};b.lonLatToWebMercatorComparable=ra;b.project=K;b.projectBoundingRect=function(V,ma,qa,Ea){if(null==V)return!1;if(C.equals(ma,Ea))return x.copy(qa,V),!0;ba[0]=V[0];ba[1]=V[1];ba[2]=0;if(!Y(ba,ma,0,ba,Ea,0,1))return!1;qa[0]=ba[0];qa[1]=ba[1];ba[0]=V[2];ba[1]=V[3];ba[2]=0;if(!Y(ba,ma,0,ba,Ea,0,1))return!1;qa[2]=ba[0];qa[3]=ba[1];return!0};b.projectBoundingSphere=function(V,
ma,qa,Ea){if(p.isNone(ma)||p.isNone(Ea))return!1;ma=Ja(ma,Ea,Wa);if(ma.projector===S)return qa[0]=V[0],qa[1]=V[1],qa[2]=V[2],qa[3]=V[3],!0;if(p.isNone(ma.projector))return!1;const {source:Ua,dest:Ka}=ma;if(Ka.spatialReferenceId===ya.WEB_MERCATOR){ma=gb[Ua.spatialReferenceId][ya.WGS84];if(p.isNone(ma))return!1;ma(V,0,Ba,0);na(Ba,0,qa,0);qa[3]=wa(Ba[1],V[2],V[3],y.earth.radius);return!0}if(Ua.spatialReferenceId!==ya.WGS84&&Ua.spatialReferenceId!==ya.CGCS2000||Ka.spatialReferenceId!==ya.PLATE_CARREE)ma.projector(V,
0,qa,0),qa[3]=V[3]*Ua.metersPerUnit/Ka.metersPerUnit;else{Ea=gb[ya.SPHERICAL_ECEF][ya.PLATE_CARREE];let Ta=V[3];p.isSome(gb[Ua.spatialReferenceId][ya.SPHERICAL_ECEF])&&p.isSome(Ea)&&(Ta=wa(V[1],V[2],V[3],y.earth.radius));ma.projector(V,0,qa,0);qa[3]=Ta}return!0};b.projectBuffer=Y;b.projectDirection=function(V,ma,qa,Ea,Ua){l.copy(Ma,V);l.add(Ya,V,ma);Ha(Ma,qa,Ma,Ua);Ha(Ya,qa,Ya,Ua);l.subtract(Ea,Ya,Ma);l.normalize(Ea,Ea)};b.projectExtent=function(V,ma,qa=ma.spatialReference,Ea=0){return p.isSome(qa)&&
p.isSome(oa(V,V.spatialReference,ma,qa,Ea))};b.projectMany=F;b.projectMultipoint=function(V,ma,qa=ma.spatialReference,Ea=0){return p.isNone(qa)?!1:p.isSome(aa(V,V.spatialReference,ma,qa,Ea))};b.projectOrLoad=function(V,ma){return p.isNone(V)?{pending:null,geometry:null}:C.equals(V.spatialReference,ma)?{pending:null,geometry:V}:C.isValid(V.spatialReference)&&C.isValid(ma)?L(V.spatialReference,ma)?{pending:null,geometry:I(V,ma)}:G()?{pending:null,geometry:I(V,ma)}:(n.trackAccess(ab),{pending:J(),geometry:null}):
{pending:null,geometry:null}};b.projectPoint=function(V,ma,qa=ma.spatialReference,Ea=0){return p.isNone(qa)?!1:p.isSome(ca(V,V.spatialReference,ma,qa,Ea))};b.projectPointToVector=function(V,ma,qa,Ea=0){Ma[0]=V.x;Ma[1]=V.y;const Ua=V.z;Ma[2]=void 0!==Ua?Ua:Ea;return Y(Ma,V.spatialReference,0,ma,qa,0,1)};b.projectPointToWGS84ComparableLonLat=function(V,ma){Ma[0]=V.x;Ma[1]=V.y;const qa=V.z;Ma[2]=void 0!==qa?qa:0;return ta(Ma,V.spatialReference,ma)};b.projectPolygon=function(V,ma,qa=ma.spatialReference,
Ea=0){return p.isSome(qa)&&p.isSome(fa(V,V.spatialReference,ma,qa,Ea))};b.projectPolygonToWGS84ComparableLonLat=function({hasZ:V,spatialReference:ma,rings:qa},Ea,Ua=0){ma=da(ma,jb);ma=gb[ma][ya.WGS84_COMPARABLE_LON_LAT];if(p.isNone(ma))return!1;V=V?Ka=>Ka:Ka=>l.set(Ma,Ka[0],Ka[1],Ua);for(const Ka of qa){qa=[];for(const Ta of Ka){const Aa=[0,0,Ua];ma(V(Ta),0,Aa,0);qa.push(Aa)}Ea.push(qa)}return!0};b.projectPolyline=function(V,ma,qa=ma.spatialReference,Ea=0){return p.isSome(qa)&&p.isSome(O(V,V.spatialReference,
ma,qa,Ea))};b.projectPolylineToWGS84ComparableLonLat=function({hasZ:V,spatialReference:ma,paths:qa},Ea,Ua=0){ma=da(ma,jb);ma=gb[ma][ya.WGS84_COMPARABLE_LON_LAT];if(p.isNone(ma))return!1;V=V?Ka=>Ka:Ka=>l.set(Ma,Ka[0],Ka[1],Ua);for(const Ka of qa){qa=[];for(const Ta of Ka){const Aa=[0,0,Ua];ma(V(Ta),0,Aa,0);qa.push(Aa)}Ea.push(qa)}return!0};b.projectVectorToDehydratedPoint=function(V,ma,qa){return Y(V,ma,0,Ma,qa.spatialReference,0,1)?(qa.x=Ma[0],qa.y=Ma[1],qa.z=Ma[2],qa):null};b.projectVectorToPoint=
function(V,ma,qa){if(p.isNone(ma)||p.isNone(qa))return null;const Ea=new h({spatialReference:qa});return Y(V,ma,0,Ma,qa,0,1)?(Ea.x=Ma[0],Ea.y=Ma[1],Ea.z=Ma[2],Ea):null};b.projectVectorToVector=Ha;b.projectVectorToWGS84ComparableLonLat=function(V,ma,qa){return ta(V,ma,qa)};b.projectWithoutEngine=Z;b.projectXYZToVector=Da;b.sphericalPCPFtoLonLatElevation=Ga;b.test={get loadPromise(){return Ra}};b.tryProjectWithZConversion=I;b.unload=function(){Ra=Va=Na=null;$a={}};Object.defineProperties(b,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function e(M,R){M[0]=R[0];M[1]=R[1];M[2]=R[2];M[3]=R[3];M[4]=R[4];M[5]=R[5];M[6]=R[6];M[7]=R[7];M[8]=R[8];M[9]=R[9];M[10]=R[10];M[11]=R[11];M[12]=R[12];M[13]=R[13];M[14]=R[14];M[15]=R[15];return M}function d(M,R,da,S,X,ea,ha,ra,na,N,U,P,T,W,ja,va,Ga){M[0]=R;M[1]=da;M[2]=S;M[3]=X;M[4]=ea;M[5]=ha;M[6]=ra;M[7]=na;M[8]=N;M[9]=U;M[10]=P;M[11]=T;M[12]=W;M[13]=ja;M[14]=va;M[15]=
Ga;return M}function p(M){M[0]=1;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=1;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=1;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function r(M,R){if(M===R){const da=R[1],S=R[2],X=R[3],ea=R[6],ha=R[7],ra=R[11];M[1]=R[4];M[2]=R[8];M[3]=R[12];M[4]=da;M[6]=R[9];M[7]=R[13];M[8]=S;M[9]=ea;M[11]=R[14];M[12]=X;M[13]=ha;M[14]=ra}else M[0]=R[0],M[1]=R[4],M[2]=R[8],M[3]=R[12],M[4]=R[1],M[5]=R[5],M[6]=R[9],M[7]=R[13],M[8]=R[2],M[9]=R[6],M[10]=R[10],M[11]=R[14],M[12]=R[3],M[13]=R[7],M[14]=
R[11],M[15]=R[15];return M}function u(M,R){const da=R[0],S=R[1],X=R[2],ea=R[3],ha=R[4],ra=R[5],na=R[6],N=R[7],U=R[8],P=R[9],T=R[10],W=R[11],ja=R[12],va=R[13],Ga=R[14];R=R[15];const Oa=da*ra-S*ha,ka=da*na-X*ha,xa=da*N-ea*ha,za=S*na-X*ra,La=S*N-ea*ra,Qa=X*N-ea*na,ia=U*va-P*ja,sa=U*Ga-T*ja,Fa=U*R-W*ja,Ca=P*Ga-T*va,Ja=P*R-W*va,Sa=T*R-W*Ga;let Na=Oa*Sa-ka*Ja+xa*Ca+za*Fa-La*sa+Qa*ia;if(!Na)return null;Na=1/Na;M[0]=(ra*Sa-na*Ja+N*Ca)*Na;M[1]=(X*Ja-S*Sa-ea*Ca)*Na;M[2]=(va*Qa-Ga*La+R*za)*Na;M[3]=(T*La-P*Qa-
W*za)*Na;M[4]=(na*Fa-ha*Sa-N*sa)*Na;M[5]=(da*Sa-X*Fa+ea*sa)*Na;M[6]=(Ga*xa-ja*Qa-R*ka)*Na;M[7]=(U*Qa-T*xa+W*ka)*Na;M[8]=(ha*Ja-ra*Fa+N*ia)*Na;M[9]=(S*Fa-da*Ja-ea*ia)*Na;M[10]=(ja*La-va*xa+R*Oa)*Na;M[11]=(P*xa-U*La-W*Oa)*Na;M[12]=(ra*sa-ha*Ca-na*ia)*Na;M[13]=(da*Ca-S*sa+X*ia)*Na;M[14]=(va*ka-ja*za-Ga*Oa)*Na;M[15]=(U*za-P*ka+T*Oa)*Na;return M}function n(M,R){const da=R[0],S=R[1],X=R[2],ea=R[3],ha=R[4],ra=R[5],na=R[6],N=R[7],U=R[8],P=R[9],T=R[10],W=R[11],ja=R[12],va=R[13],Ga=R[14];R=R[15];M[0]=ra*(T*
R-W*Ga)-P*(na*R-N*Ga)+va*(na*W-N*T);M[1]=-(S*(T*R-W*Ga)-P*(X*R-ea*Ga)+va*(X*W-ea*T));M[2]=S*(na*R-N*Ga)-ra*(X*R-ea*Ga)+va*(X*N-ea*na);M[3]=-(S*(na*W-N*T)-ra*(X*W-ea*T)+P*(X*N-ea*na));M[4]=-(ha*(T*R-W*Ga)-U*(na*R-N*Ga)+ja*(na*W-N*T));M[5]=da*(T*R-W*Ga)-U*(X*R-ea*Ga)+ja*(X*W-ea*T);M[6]=-(da*(na*R-N*Ga)-ha*(X*R-ea*Ga)+ja*(X*N-ea*na));M[7]=da*(na*W-N*T)-ha*(X*W-ea*T)+U*(X*N-ea*na);M[8]=ha*(P*R-W*va)-U*(ra*R-N*va)+ja*(ra*W-N*P);M[9]=-(da*(P*R-W*va)-U*(S*R-ea*va)+ja*(S*W-ea*P));M[10]=da*(ra*R-N*va)-ha*
(S*R-ea*va)+ja*(S*N-ea*ra);M[11]=-(da*(ra*W-N*P)-ha*(S*W-ea*P)+U*(S*N-ea*ra));M[12]=-(ha*(P*Ga-T*va)-U*(ra*Ga-na*va)+ja*(ra*T-na*P));M[13]=da*(P*Ga-T*va)-U*(S*Ga-X*va)+ja*(S*T-X*P);M[14]=-(da*(ra*Ga-na*va)-ha*(S*Ga-X*va)+ja*(S*na-X*ra));M[15]=da*(ra*T-na*P)-ha*(S*T-X*P)+U*(S*na-X*ra);return M}function k(M){const R=M[0],da=M[1],S=M[2],X=M[3],ea=M[4],ha=M[5],ra=M[6],na=M[7],N=M[8],U=M[9],P=M[10],T=M[11],W=M[12],ja=M[13],va=M[14];M=M[15];return(R*ha-da*ea)*(P*M-T*va)-(R*ra-S*ea)*(U*M-T*ja)+(R*na-X*ea)*
(U*va-P*ja)+(da*ra-S*ha)*(N*M-T*W)-(da*na-X*ha)*(N*va-P*W)+(S*na-X*ra)*(N*ja-U*W)}function g(M,R,da){const S=R[0],X=R[1],ea=R[2],ha=R[3],ra=R[4],na=R[5],N=R[6],U=R[7],P=R[8],T=R[9],W=R[10],ja=R[11],va=R[12],Ga=R[13],Oa=R[14];R=R[15];let ka=da[0],xa=da[1],za=da[2],La=da[3];M[0]=ka*S+xa*ra+za*P+La*va;M[1]=ka*X+xa*na+za*T+La*Ga;M[2]=ka*ea+xa*N+za*W+La*Oa;M[3]=ka*ha+xa*U+za*ja+La*R;ka=da[4];xa=da[5];za=da[6];La=da[7];M[4]=ka*S+xa*ra+za*P+La*va;M[5]=ka*X+xa*na+za*T+La*Ga;M[6]=ka*ea+xa*N+za*W+La*Oa;M[7]=
ka*ha+xa*U+za*ja+La*R;ka=da[8];xa=da[9];za=da[10];La=da[11];M[8]=ka*S+xa*ra+za*P+La*va;M[9]=ka*X+xa*na+za*T+La*Ga;M[10]=ka*ea+xa*N+za*W+La*Oa;M[11]=ka*ha+xa*U+za*ja+La*R;ka=da[12];xa=da[13];za=da[14];La=da[15];M[12]=ka*S+xa*ra+za*P+La*va;M[13]=ka*X+xa*na+za*T+La*Ga;M[14]=ka*ea+xa*N+za*W+La*Oa;M[15]=ka*ha+xa*U+za*ja+La*R;return M}function l(M,R,da){const S=da[0],X=da[1];da=da[2];if(R===M)M[12]=R[0]*S+R[4]*X+R[8]*da+R[12],M[13]=R[1]*S+R[5]*X+R[9]*da+R[13],M[14]=R[2]*S+R[6]*X+R[10]*da+R[14],M[15]=R[3]*
S+R[7]*X+R[11]*da+R[15];else{const ea=R[0],ha=R[1],ra=R[2],na=R[3],N=R[4],U=R[5],P=R[6],T=R[7],W=R[8],ja=R[9],va=R[10],Ga=R[11];M[0]=ea;M[1]=ha;M[2]=ra;M[3]=na;M[4]=N;M[5]=U;M[6]=P;M[7]=T;M[8]=W;M[9]=ja;M[10]=va;M[11]=Ga;M[12]=ea*S+N*X+W*da+R[12];M[13]=ha*S+U*X+ja*da+R[13];M[14]=ra*S+P*X+va*da+R[14];M[15]=na*S+T*X+Ga*da+R[15]}return M}function q(M,R,da){const S=da[0],X=da[1];da=da[2];M[0]=R[0]*S;M[1]=R[1]*S;M[2]=R[2]*S;M[3]=R[3]*S;M[4]=R[4]*X;M[5]=R[5]*X;M[6]=R[6]*X;M[7]=R[7]*X;M[8]=R[8]*da;M[9]=
R[9]*da;M[10]=R[10]*da;M[11]=R[11]*da;M[12]=R[12];M[13]=R[13];M[14]=R[14];M[15]=R[15];return M}function m(M,R,da,S){let X=S[0],ea=S[1];S=S[2];let ha=Math.sqrt(X*X+ea*ea+S*S);var ra=void 0,na=void 0;let N=void 0,U=void 0,P=void 0,T=void 0,W=void 0,ja=void 0,va=void 0,Ga=void 0,Oa=void 0,ka=void 0,xa=void 0,za=void 0,La=void 0,Qa=void 0,ia=void 0,sa=void 0,Fa=void 0,Ca=void 0,Ja=void 0,Sa=void 0;na=ra=void 0;if(ha<c.EPSILON)return null;ha=1/ha;X*=ha;ea*=ha;S*=ha;ra=Math.sin(da);na=Math.cos(da);N=1-
na;U=R[0];P=R[1];T=R[2];W=R[3];ja=R[4];va=R[5];Ga=R[6];Oa=R[7];ka=R[8];xa=R[9];za=R[10];La=R[11];Qa=X*X*N+na;ia=ea*X*N+S*ra;sa=S*X*N-ea*ra;Fa=X*ea*N-S*ra;Ca=ea*ea*N+na;Ja=S*ea*N+X*ra;Sa=X*S*N+ea*ra;ra=ea*S*N-X*ra;na=S*S*N+na;M[0]=U*Qa+ja*ia+ka*sa;M[1]=P*Qa+va*ia+xa*sa;M[2]=T*Qa+Ga*ia+za*sa;M[3]=W*Qa+Oa*ia+La*sa;M[4]=U*Fa+ja*Ca+ka*Ja;M[5]=P*Fa+va*Ca+xa*Ja;M[6]=T*Fa+Ga*Ca+za*Ja;M[7]=W*Fa+Oa*Ca+La*Ja;M[8]=U*Sa+ja*ra+ka*na;M[9]=P*Sa+va*ra+xa*na;M[10]=T*Sa+Ga*ra+za*na;M[11]=W*Sa+Oa*ra+La*na;R!==M&&(M[12]=
R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15]);return M}function t(M,R,da){const S=Math.sin(da);da=Math.cos(da);const X=R[4],ea=R[5],ha=R[6],ra=R[7],na=R[8],N=R[9],U=R[10],P=R[11];R!==M&&(M[0]=R[0],M[1]=R[1],M[2]=R[2],M[3]=R[3],M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15]);M[4]=X*da+na*S;M[5]=ea*da+N*S;M[6]=ha*da+U*S;M[7]=ra*da+P*S;M[8]=na*da-X*S;M[9]=N*da-ea*S;M[10]=U*da-ha*S;M[11]=P*da-ra*S;return M}function f(M,R,da){const S=Math.sin(da);da=Math.cos(da);const X=R[0],ea=R[1],ha=R[2],ra=R[3],na=R[8],
N=R[9],U=R[10],P=R[11];R!==M&&(M[4]=R[4],M[5]=R[5],M[6]=R[6],M[7]=R[7],M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15]);M[0]=X*da-na*S;M[1]=ea*da-N*S;M[2]=ha*da-U*S;M[3]=ra*da-P*S;M[8]=X*S+na*da;M[9]=ea*S+N*da;M[10]=ha*S+U*da;M[11]=ra*S+P*da;return M}function h(M,R,da){const S=Math.sin(da);da=Math.cos(da);const X=R[0],ea=R[1],ha=R[2],ra=R[3],na=R[4],N=R[5],U=R[6],P=R[7];R!==M&&(M[8]=R[8],M[9]=R[9],M[10]=R[10],M[11]=R[11],M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15]);M[0]=X*da+na*S;M[1]=ea*da+N*
S;M[2]=ha*da+U*S;M[3]=ra*da+P*S;M[4]=na*da-X*S;M[5]=N*da-ea*S;M[6]=U*da-ha*S;M[7]=P*da-ra*S;return M}function v(M,R){M[0]=1;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=1;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=1;M[11]=0;M[12]=R[0];M[13]=R[1];M[14]=R[2];M[15]=1;return M}function w(M,R){M[0]=R[0];M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=R[1];M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=R[2];M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function D(M,R,da){let S=da[0],X=da[1];da=da[2];let ea=Math.sqrt(S*S+X*X+da*da),ha=void 0,ra=void 0,
na=void 0;if(ea<c.EPSILON)return null;ea=1/ea;S*=ea;X*=ea;da*=ea;ha=Math.sin(R);ra=Math.cos(R);na=1-ra;M[0]=S*S*na+ra;M[1]=X*S*na+da*ha;M[2]=da*S*na-X*ha;M[3]=0;M[4]=S*X*na-da*ha;M[5]=X*X*na+ra;M[6]=da*X*na+S*ha;M[7]=0;M[8]=S*da*na+X*ha;M[9]=X*da*na-S*ha;M[10]=da*da*na+ra;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function x(M,R){const da=Math.sin(R);R=Math.cos(R);M[0]=1;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=R;M[6]=da;M[7]=0;M[8]=0;M[9]=-da;M[10]=R;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}
function y(M,R){const da=Math.sin(R);R=Math.cos(R);M[0]=R;M[1]=0;M[2]=-da;M[3]=0;M[4]=0;M[5]=1;M[6]=0;M[7]=0;M[8]=da;M[9]=0;M[10]=R;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function z(M,R){const da=Math.sin(R);R=Math.cos(R);M[0]=R;M[1]=da;M[2]=0;M[3]=0;M[4]=-da;M[5]=R;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=1;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function A(M,R,da){var S=R[0],X=R[1],ea=R[2],ha=R[3],ra=S+S,na=X+X;const N=ea+ea;R=S*ra;const U=S*na;S*=N;const P=X*na;X*=N;ea*=N;ra*=ha;na*=
ha;ha*=N;M[0]=1-(P+ea);M[1]=U+ha;M[2]=S-na;M[3]=0;M[4]=U-ha;M[5]=1-(R+ea);M[6]=X+ra;M[7]=0;M[8]=S+na;M[9]=X-ra;M[10]=1-(R+P);M[11]=0;M[12]=da[0];M[13]=da[1];M[14]=da[2];M[15]=1;return M}function C(M,R){const da=wa,S=-R[0],X=-R[1],ea=-R[2],ha=R[3],ra=R[4],na=R[5],N=R[6],U=R[7],P=S*S+X*X+ea*ea+ha*ha;0<P?(da[0]=2*(ra*ha+U*S+na*ea-N*X)/P,da[1]=2*(na*ha+U*X+N*S-ra*ea)/P,da[2]=2*(N*ha+U*ea+ra*X-na*S)/P):(da[0]=2*(ra*ha+U*S+na*ea-N*X),da[1]=2*(na*ha+U*X+N*S-ra*ea),da[2]=2*(N*ha+U*ea+ra*X-na*S));A(M,R,da);
return M}function B(M,R){M[0]=R[12];M[1]=R[13];M[2]=R[14];return M}function E(M,R){const da=R[0],S=R[1],X=R[2],ea=R[4],ha=R[5],ra=R[6],na=R[8],N=R[9];R=R[10];M[0]=Math.sqrt(da*da+S*S+X*X);M[1]=Math.sqrt(ea*ea+ha*ha+ra*ra);M[2]=Math.sqrt(na*na+N*N+R*R);return M}function G(M,R){const da=R[0]+R[5]+R[10];let S=0;0<da?(S=2*Math.sqrt(da+1),M[3]=.25*S,M[0]=(R[6]-R[9])/S,M[1]=(R[8]-R[2])/S,M[2]=(R[1]-R[4])/S):R[0]>R[5]&&R[0]>R[10]?(S=2*Math.sqrt(1+R[0]-R[5]-R[10]),M[3]=(R[6]-R[9])/S,M[0]=.25*S,M[1]=(R[1]+
R[4])/S,M[2]=(R[8]+R[2])/S):R[5]>R[10]?(S=2*Math.sqrt(1+R[5]-R[0]-R[10]),M[3]=(R[8]-R[2])/S,M[0]=(R[1]+R[4])/S,M[1]=.25*S,M[2]=(R[6]+R[9])/S):(S=2*Math.sqrt(1+R[10]-R[0]-R[5]),M[3]=(R[1]-R[4])/S,M[0]=(R[8]+R[2])/S,M[1]=(R[6]+R[9])/S,M[2]=.25*S);return M}function J(M,R,da,S){var X=R[0],ea=R[1],ha=R[2],ra=R[3],na=X+X,N=ea+ea,U=ha+ha;R=X*na;const P=X*N;X*=U;const T=ea*N;ea*=U;ha*=U;na*=ra;N*=ra;ra*=U;U=S[0];const W=S[1];S=S[2];M[0]=(1-(T+ha))*U;M[1]=(P+ra)*U;M[2]=(X-N)*U;M[3]=0;M[4]=(P-ra)*W;M[5]=(1-
(R+ha))*W;M[6]=(ea+na)*W;M[7]=0;M[8]=(X+N)*S;M[9]=(ea-na)*S;M[10]=(1-(R+T))*S;M[11]=0;M[12]=da[0];M[13]=da[1];M[14]=da[2];M[15]=1;return M}function K(M,R,da,S,X){var ea=R[0],ha=R[1],ra=R[2],na=R[3],N=ea+ea,U=ha+ha,P=ra+ra;R=ea*N;var T=ea*U,W=ea*P;ea=ha*U;ha*=P;var ja=ra*P;ra=na*N;U*=na;const va=na*P;var Ga=S[0],Oa=S[1];P=S[2];S=X[0];na=X[1];X=X[2];N=(1-(ea+ja))*Ga;const ka=(T+va)*Ga;Ga*=W-U;T=(T-va)*Oa;ja=(1-(R+ja))*Oa;Oa*=ha+ra;W=(W+U)*P;ha=(ha-ra)*P;R=(1-(R+ea))*P;M[0]=N;M[1]=ka;M[2]=Ga;M[3]=0;
M[4]=T;M[5]=ja;M[6]=Oa;M[7]=0;M[8]=W;M[9]=ha;M[10]=R;M[11]=0;M[12]=da[0]+S-(N*S+T*na+W*X);M[13]=da[1]+na-(ka*S+ja*na+ha*X);M[14]=da[2]+X-(Ga*S+Oa*na+R*X);M[15]=1;return M}function F(M,R){var da=R[0],S=R[1],X=R[2];R=R[3];var ea=da+da,ha=S+S;const ra=X+X;da*=ea;const na=S*ea;S*=ha;const N=X*ea,U=X*ha;X*=ra;ea*=R;ha*=R;R*=ra;M[0]=1-S-X;M[1]=na+R;M[2]=N-ha;M[3]=0;M[4]=na-R;M[5]=1-da-X;M[6]=U+ea;M[7]=0;M[8]=N+ha;M[9]=U-ea;M[10]=1-da-S;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function H(M,R,da,
S,X,ea,ha){const ra=1/(da-R),na=1/(X-S),N=1/(ea-ha);M[0]=2*ea*ra;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=2*ea*na;M[6]=0;M[7]=0;M[8]=(da+R)*ra;M[9]=(X+S)*na;M[10]=(ha+ea)*N;M[11]=-1;M[12]=0;M[13]=0;M[14]=ha*ea*2*N;M[15]=0;return M}function I(M,R,da,S,X){R=1/Math.tan(R/2);let ea=void 0;M[0]=R/da;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=R;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[11]=-1;M[12]=0;M[13]=0;M[15]=0;null!=X&&Infinity!==X?(ea=1/(S-X),M[10]=(X+S)*ea,M[14]=2*X*S*ea):(M[10]=-1,M[14]=-2*S);return M}function L(M,R,da,S){const X=
Math.tan(R.upDegrees*Math.PI/180),ea=Math.tan(R.downDegrees*Math.PI/180),ha=Math.tan(R.leftDegrees*Math.PI/180);R=Math.tan(R.rightDegrees*Math.PI/180);const ra=2/(ha+R),na=2/(X+ea);M[0]=ra;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=na;M[6]=0;M[7]=0;M[8]=-((ha-R)*ra*.5);M[9]=(X-ea)*na*.5;M[10]=S/(da-S);M[11]=-1;M[12]=0;M[13]=0;M[14]=S*da/(da-S);M[15]=0;return M}function Q(M,R,da,S,X,ea,ha){const ra=1/(R-da),na=1/(S-X),N=1/(ea-ha);M[0]=-2*ra;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=-2*na;M[6]=0;M[7]=0;M[8]=0;M[9]=0;
M[10]=2*N;M[11]=0;M[12]=(R+da)*ra;M[13]=(X+S)*na;M[14]=(ha+ea)*N;M[15]=1;return M}function Z(M,R,da,S){let X=void 0,ea=void 0;var ha=void 0,ra=void 0;let na=void 0,N=void 0;var U=void 0,P=void 0;let T=void 0,W=void 0;const ja=R[0],va=R[1];R=R[2];ha=S[0];ra=S[1];S=S[2];U=da[0];P=da[1];da=da[2];if(Math.abs(ja-U)<c.EPSILON&&Math.abs(va-P)<c.EPSILON&&Math.abs(R-da)<c.EPSILON)return p(M);U=ja-U;P=va-P;T=R-da;W=1/Math.sqrt(U*U+P*P+T*T);U*=W;P*=W;T*=W;X=ra*T-S*P;ea=S*U-ha*T;ha=ha*P-ra*U;(W=Math.sqrt(X*X+
ea*ea+ha*ha))?(W=1/W,X*=W,ea*=W,ha*=W):ha=ea=X=0;ra=P*ha-T*ea;na=T*X-U*ha;N=U*ea-P*X;(W=Math.sqrt(ra*ra+na*na+N*N))?(W=1/W,ra*=W,na*=W,N*=W):N=na=ra=0;M[0]=X;M[1]=ra;M[2]=U;M[3]=0;M[4]=ea;M[5]=na;M[6]=P;M[7]=0;M[8]=ha;M[9]=N;M[10]=T;M[11]=0;M[12]=-(X*ja+ea*va+ha*R);M[13]=-(ra*ja+na*va+N*R);M[14]=-(U*ja+P*va+T*R);M[15]=1;return M}function ca(M,R,da,S){const X=R[0],ea=R[1];R=R[2];var ha=S[0];const ra=S[1];var na=S[2];S=X-da[0];let N=ea-da[1];da=R-da[2];let U=S*S+N*N+da*da;0<U&&(U=1/Math.sqrt(U),S*=
U,N*=U,da*=U);let P=ra*da-na*N;na=na*S-ha*da;ha=ha*N-ra*S;U=P*P+na*na+ha*ha;0<U&&(U=1/Math.sqrt(U),P*=U,na*=U,ha*=U);M[0]=P;M[1]=na;M[2]=ha;M[3]=0;M[4]=N*ha-da*na;M[5]=da*P-S*ha;M[6]=S*na-N*P;M[7]=0;M[8]=S;M[9]=N;M[10]=da;M[11]=0;M[12]=X;M[13]=ea;M[14]=R;M[15]=1;return M}function aa(M){return"mat4("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+", "+M[4]+", "+M[5]+", "+M[6]+", "+M[7]+", "+M[8]+", "+M[9]+", "+M[10]+", "+M[11]+", "+M[12]+", "+M[13]+", "+M[14]+", "+M[15]+")"}function O(M){return Math.sqrt(M[0]**
2+M[1]**2+M[2]**2+M[3]**2+M[4]**2+M[5]**2+M[6]**2+M[7]**2+M[8]**2+M[9]**2+M[10]**2+M[11]**2+M[12]**2+M[13]**2+M[14]**2+M[15]**2)}function fa(M,R,da){M[0]=R[0]+da[0];M[1]=R[1]+da[1];M[2]=R[2]+da[2];M[3]=R[3]+da[3];M[4]=R[4]+da[4];M[5]=R[5]+da[5];M[6]=R[6]+da[6];M[7]=R[7]+da[7];M[8]=R[8]+da[8];M[9]=R[9]+da[9];M[10]=R[10]+da[10];M[11]=R[11]+da[11];M[12]=R[12]+da[12];M[13]=R[13]+da[13];M[14]=R[14]+da[14];M[15]=R[15]+da[15];return M}function oa(M,R,da){M[0]=R[0]-da[0];M[1]=R[1]-da[1];M[2]=R[2]-da[2];M[3]=
R[3]-da[3];M[4]=R[4]-da[4];M[5]=R[5]-da[5];M[6]=R[6]-da[6];M[7]=R[7]-da[7];M[8]=R[8]-da[8];M[9]=R[9]-da[9];M[10]=R[10]-da[10];M[11]=R[11]-da[11];M[12]=R[12]-da[12];M[13]=R[13]-da[13];M[14]=R[14]-da[14];M[15]=R[15]-da[15];return M}function Da(M,R,da){M[0]=R[0]*da;M[1]=R[1]*da;M[2]=R[2]*da;M[3]=R[3]*da;M[4]=R[4]*da;M[5]=R[5]*da;M[6]=R[6]*da;M[7]=R[7]*da;M[8]=R[8]*da;M[9]=R[9]*da;M[10]=R[10]*da;M[11]=R[11]*da;M[12]=R[12]*da;M[13]=R[13]*da;M[14]=R[14]*da;M[15]=R[15]*da;return M}function Ha(M,R,da,S){M[0]=
R[0]+da[0]*S;M[1]=R[1]+da[1]*S;M[2]=R[2]+da[2]*S;M[3]=R[3]+da[3]*S;M[4]=R[4]+da[4]*S;M[5]=R[5]+da[5]*S;M[6]=R[6]+da[6]*S;M[7]=R[7]+da[7]*S;M[8]=R[8]+da[8]*S;M[9]=R[9]+da[9]*S;M[10]=R[10]+da[10]*S;M[11]=R[11]+da[11]*S;M[12]=R[12]+da[12]*S;M[13]=R[13]+da[13]*S;M[14]=R[14]+da[14]*S;M[15]=R[15]+da[15]*S;return M}function ta(M,R){return M[0]===R[0]&&M[1]===R[1]&&M[2]===R[2]&&M[3]===R[3]&&M[4]===R[4]&&M[5]===R[5]&&M[6]===R[6]&&M[7]===R[7]&&M[8]===R[8]&&M[9]===R[9]&&M[10]===R[10]&&M[11]===R[11]&&M[12]===
R[12]&&M[13]===R[13]&&M[14]===R[14]&&M[15]===R[15]}function Y(M,R){if(M===R)return!0;const da=M[0],S=M[1],X=M[2],ea=M[3],ha=M[4],ra=M[5],na=M[6],N=M[7],U=M[8],P=M[9],T=M[10],W=M[11],ja=M[12],va=M[13],Ga=M[14];M=M[15];const Oa=R[0],ka=R[1],xa=R[2],za=R[3],La=R[4],Qa=R[5],ia=R[6],sa=R[7],Fa=R[8],Ca=R[9],Ja=R[10],Sa=R[11],Na=R[12],Va=R[13],Ra=R[14];R=R[15];return Math.abs(da-Oa)<=c.EPSILON*Math.max(1,Math.abs(da),Math.abs(Oa))&&Math.abs(S-ka)<=c.EPSILON*Math.max(1,Math.abs(S),Math.abs(ka))&&Math.abs(X-
xa)<=c.EPSILON*Math.max(1,Math.abs(X),Math.abs(xa))&&Math.abs(ea-za)<=c.EPSILON*Math.max(1,Math.abs(ea),Math.abs(za))&&Math.abs(ha-La)<=c.EPSILON*Math.max(1,Math.abs(ha),Math.abs(La))&&Math.abs(ra-Qa)<=c.EPSILON*Math.max(1,Math.abs(ra),Math.abs(Qa))&&Math.abs(na-ia)<=c.EPSILON*Math.max(1,Math.abs(na),Math.abs(ia))&&Math.abs(N-sa)<=c.EPSILON*Math.max(1,Math.abs(N),Math.abs(sa))&&Math.abs(U-Fa)<=c.EPSILON*Math.max(1,Math.abs(U),Math.abs(Fa))&&Math.abs(P-Ca)<=c.EPSILON*Math.max(1,Math.abs(P),Math.abs(Ca))&&
Math.abs(T-Ja)<=c.EPSILON*Math.max(1,Math.abs(T),Math.abs(Ja))&&Math.abs(W-Sa)<=c.EPSILON*Math.max(1,Math.abs(W),Math.abs(Sa))&&Math.abs(ja-Na)<=c.EPSILON*Math.max(1,Math.abs(ja),Math.abs(Na))&&Math.abs(va-Va)<=c.EPSILON*Math.max(1,Math.abs(va),Math.abs(Va))&&Math.abs(Ga-Ra)<=c.EPSILON*Math.max(1,Math.abs(Ga),Math.abs(Ra))&&Math.abs(M-R)<=c.EPSILON*Math.max(1,Math.abs(M),Math.abs(R))}function pa(M){const R=c.EPSILON,da=M[0],S=M[1],X=M[2],ea=M[4],ha=M[5],ra=M[6],na=M[8],N=M[9];M=M[10];return Math.abs(1-
(da*da+ea*ea+na*na))<=R&&Math.abs(1-(S*S+ha*ha+N*N))<=R&&Math.abs(1-(X*X+ra*ra+M*M))<=R}const wa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,copy:e,set:d,identity:p,transpose:r,invert:u,adjoint:n,determinant:k,multiply:g,translate:l,scale:q,rotate:m,rotateX:t,rotateY:f,rotateZ:h,fromTranslation:v,fromScaling:w,fromRotation:D,fromXRotation:x,fromYRotation:y,fromZRotation:z,fromRotationTranslation:A,fromQuat2:C,getTranslation:B,getScaling:E,getRotation:G,fromRotationTranslationScale:J,
fromRotationTranslationScaleOrigin:K,fromQuat:F,frustum:H,perspective:I,perspectiveFromFieldOfView:L,ortho:Q,lookAt:Z,targetTo:ca,str:aa,frob:O,add:fa,subtract:oa,multiplyScalar:Da,multiplyScalarAndAdd:Ha,exactEquals:ta,equals:Y,isOrthoNormal:pa,mul:g,sub:oa},Symbol.toStringTag,{value:"Module"}));a.add=fa;a.adjoint=n;a.copy=e;a.determinant=k;a.equals=Y;a.exactEquals=ta;a.frob=O;a.fromQuat=F;a.fromQuat2=C;a.fromRotation=D;a.fromRotationTranslation=A;a.fromRotationTranslationScale=J;a.fromRotationTranslationScaleOrigin=
K;a.fromScaling=w;a.fromTranslation=v;a.fromXRotation=x;a.fromYRotation=y;a.fromZRotation=z;a.frustum=H;a.getRotation=G;a.getScaling=E;a.getTranslation=B;a.identity=p;a.invert=u;a.isOrthoNormal=pa;a.lookAt=Z;a.mat4=b;a.mul=g;a.multiply=g;a.multiplyScalar=Da;a.multiplyScalarAndAdd=Ha;a.ortho=Q;a.perspective=I;a.perspectiveFromFieldOfView=L;a.rotate=m;a.rotateX=t;a.rotateY=f;a.rotateZ=h;a.scale=q;a.set=d;a.str=aa;a.sub=oa;a.subtract=oa;a.targetTo=ca;a.translate=l;a.transpose=r})},"esri/chunks/pe":function(){define(["require",
"exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(a,b,c,e,d){function p(){return!!b._pe}function r(){return!!d("esri-wasm")}function u(){return m?m:m=(new Promise((f,h)=>a(["./pe-wasm"],f,h))).then(f=>f.peWasm).then(({default:f})=>f({locateFile:h=>e.getAssetUrl(`esri/geometry/support/${h}`)})).then(f=>{n(f)})}function n(f){function h(D,x,y){D[x]=y(D[x])}b._pe=f;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=
function(D){function x(){return D.apply(this,arguments)||this}c._inheritsLoose(x,D);x.prototype.destroy=function(){b._pe.destroy(this)};return x}(b._pe.PeGCSExtent);f=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var v of f)h(v.prototype,"getName",D=>function(){return D.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const D of[b._pe.PeGeogtran,b._pe.PeProjcs])h(D.prototype,"getParameters",x=>function(){const y=
Array(b.PeDefs.PE_PARM_MAX);let z=x.call(this);for(let A=0;A<y.length;A++){const C=b._pe.getValue(z,"*");y[A]=C?b._pe.wrapPointer(C,b._pe.PeParameter):null;z+=Int32Array.BYTES_PER_ELEMENT}return y});h(b._pe.PeHorizon.prototype,"getCoord",D=>function(){const x=this.getSize();if(!x)return null;const y=[],z=D.call(this);q(y,x,z);return y});h(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",D=>{const x=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let y=null;var z=D.call(this);if(!b._pe.compare(z,
b._pe.NULL)){y=[z];const A=this.getSteps();if(1<A){z=b._pe.getPointer(z);for(let C=1;C<A;C++)y.push(b._pe.wrapPointer(z+x*C,b._pe.PeGTlistExtendedGTs))}}return y}});const w=b._pe._pe_getPeHorizonSize();v=D=>function(){let x=this._cache;x||(this._cache=x=new Map);if(x.has(D))return x.get(D);let y=null;var z=D.call(this);if(!b._pe.compare(z,b._pe.NULL)){y=[z];const A=z.getNump();if(1<A){z=b._pe.getPointer(z);for(let C=1;C<A;C++)y.push(b._pe.wrapPointer(z+w*C,b._pe.PeHorizon))}}x.set(D,y);return y};
h(b._pe.PeProjcs.prototype,"horizonGcsGenerate",v);h(b._pe.PeProjcs.prototype,"horizonPcsGenerate",v);b._pe.PeObject.prototype.toString=function(D=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const x=b._pe.getPointer(this),y=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(x,D,y))}}function k(f){if(f){var h=b._pe.getClass(f);h&&(h=b._pe.getCache(h))&&(f=b._pe.getPointer(f))&&delete h[f]}}function g(f,h){const v=[];h=Array(h);for(let w=
0;w<f;w++)v.push(b._pe.ensureInt8(h));return v}function l(f){let h;Array.isArray(f[0])?(h=[],f.forEach(v=>{h.push(v[0],v[1])})):h=f;return h}function q(f,h,v,w=!1){if(w)for(w=0;w<2*h;w++)f[w]=b._pe.getValue(v+w*Float64Array.BYTES_PER_ELEMENT,"double");else{w=0===f.length;for(let D=0;D<h;D++)w&&(f[D]=Array(2)),f[D][0]=b._pe.getValue(v,"double"),f[D][1]=b._pe.getValue(v+Float64Array.BYTES_PER_ELEMENT,"double"),v+=2*Float64Array.BYTES_PER_ELEMENT}}let m;b._pe=null;b.PeCSTransformations=void 0;(function(f){function h(D,
x,y){b._pe.ensureCache.prepare();var z=l(y);const A=y===z;z=b._pe.ensureFloat64(z);(D=b._pe._pe_geog_to_proj(b._pe.getPointer(D),x,z))&&q(y,x,z,A);return D}function v(D,x,y){return w(D,x,y,0)}function w(D,x,y,z){b._pe.ensureCache.prepare();var A=l(y);const C=y===A;A=b._pe.ensureFloat64(A);(D=b._pe._pe_proj_to_geog_center(b._pe.getPointer(D),x,A,z))&&q(y,x,A,C);return D}f.geogToProj=h;f.projGeog=function(D,x,y,z){switch(z){case b.PeDefs.PE_TRANSFORM_P_TO_G:return v(D,x,y);case b.PeDefs.PE_TRANSFORM_G_TO_P:return h(D,
x,y)}return 0};f.projToGeog=v;f.projToGeogCenter=w})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(f){f.init=function(){f.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;f.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;f.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;f.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;f.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;f.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;f.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;f.PE_UTM_MAX=
b._pe.PeDefs.prototype.PE_UTM_MAX;f.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;f.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;f.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;f.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;f.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;f.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;f.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;f.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;f.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;
f.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;f.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;f.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;f.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;f.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;f.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;f.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;f.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;f.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;
f.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;f.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;f.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;f.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(f){function h(x,y){let z=null,A=v[x];A||(A={},v[x]=A);A.hasOwnProperty(String(y))?z=A[y]:(x=b._pe.PeFactory.prototype.factoryByType(x,y),b._pe.compare(x,b._pe.NULL)||(z=x,A[y]=z));return z=D(z)}const v={},w={},D=x=>
{if(x){const y=x.getType();switch(y){case b.PeDefs.PE_TYPE_GEOGCS:x=b._pe.castObject(x,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:x=b._pe.castObject(x,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:x=b._pe.castObject(x,b._pe.PeGeogtran);break;default:y&b.PeDefs.PE_TYPE_UNIT&&(x=b._pe.castObject(x,b._pe.PeUnit))}}return x};f.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};f.coordsys=function(x){return h(b.PeDefs.PE_TYPE_COORDSYS,x)};f.factoryByType=h;f.fromString=function(x,
y){let z=null,A=w[x];A||(A={},w[x]=A);A.hasOwnProperty(y)?z=A[y]:(x=b._pe.PeFactory.prototype.fromString(x,y),b._pe.compare(x,b._pe.NULL)||(z=x,A[y]=z));return z=D(z)};f.geogcs=function(x){return h(b.PeDefs.PE_TYPE_GEOGCS,x)};f.geogtran=function(x){return h(b.PeDefs.PE_TYPE_GEOGTRAN,x)};f.getCode=function(x){return b._pe.PeFactory.prototype.getCode(x)};f.projcs=function(x){return h(b.PeDefs.PE_TYPE_PROJCS,x)};f.unit=function(x){return h(b.PeDefs.PE_TYPE_UNIT,x)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=
null;b.PeGTlistExtended=void 0;(function(f){let h;f.init=function(){f.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;h=b._pe._pe_getPeGTlistExtendedEntrySize()};f.getGTlist=function(v,w,D,x,y,z){let A=null;const C=new b._pe.PeInteger(z);try{const B=b._pe.PeGTlistExtended.prototype.getGTlist(v,w,D,x,y,C);if(z=C.val)if(A=[B],1<z){const E=b._pe.getPointer(B);for(v=1;v<z;v++)A.push(b._pe.wrapPointer(E+h*v,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(C)}return A}})(b.PeGTlistExtended||
(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(f){f.destroy=function(h){if(h&&h.length){for(const v of h)k(v),v.getEntries().forEach(w=>{k(w);w=w.getGeogtran();k(w);w.getParameters().forEach(k);[w.getGeogcs1(),w.getGeogcs2()].forEach(D=>{k(D);const x=D.getDatum();k(x);k(x.getSpheroid());k(D.getPrimem());k(D.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(h[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(f){f.geogToGeog=
function(h,v,w,D,x){b._pe.ensureCache.prepare();var y=l(w);const z=w===y;y=b._pe.ensureFloat64(y);let A=0;D&&(A=b._pe.ensureFloat64(D));(h=b._pe._pe_geog_to_geog(b._pe.getPointer(h),v,y,A,x))&&q(w,v,y,z);return h}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(f){const h=(w,D,x,y,z,A)=>{b._pe.ensureCache.prepare();switch(w){case "dd":var C=b._pe._pe_geog_to_dd;var B=b.PeDefs.PE_DD_MAX;break;case "ddm":C=b._pe._pe_geog_to_ddm;B=b.PeDefs.PE_DDM_MAX;break;case "dms":C=
b._pe._pe_geog_to_dms,B=b.PeDefs.PE_DMS_MAX}w=0;D&&(w=b._pe.getPointer(D));D=l(y);D=b._pe.ensureFloat64(D);B=g(x,B);y=b._pe.ensureInt32(B);if(z=C(w,x,D,z,y))for(C=0;C<x;C++)A[C]=b._pe.UTF8ToString(B[C]);return z},v=(w,D,x,y,z)=>{b._pe.ensureCache.prepare();switch(w){case "dd":var A=b._pe._pe_dd_to_geog;break;case "ddm":A=b._pe._pe_ddm_to_geog;break;case "dms":A=b._pe._pe_dms_to_geog}w=0;D&&(w=b._pe.getPointer(D));D=y.map(C=>b._pe.ensureString(C));y=b._pe.ensureInt32(D);D=b._pe.ensureFloat64(Array(2*
x));(A=A(w,x,y,D))&&q(z,x,D);return A};f.geogToDms=function(w,D,x,y,z){return h("dms",w,D,x,y,z)};f.dmsToGeog=function(w,D,x,y){return v("dms",w,D,x,y)};f.geogToDdm=function(w,D,x,y,z){return h("ddm",w,D,x,y,z)};f.ddmToGeog=function(w,D,x,y){return v("ddm",w,D,x,y)};f.geogToDd=function(w,D,x,y,z){return h("dd",w,D,x,y,z)};f.ddToGeog=function(w,D,x,y){return v("dd",w,D,x,y)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(f){f.init=function(){f.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;
f.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;f.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;f.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;f.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};f.geogToMgrsExtended=function(h,v,w,D,x,y,z){b._pe.ensureCache.prepare();let A=0;h&&(A=b._pe.getPointer(h));h=l(w);w=b._pe.ensureFloat64(h);h=g(v,b.PeDefs.PE_MGRS_MAX);const C=b._pe.ensureInt32(h);if(D=b._pe._pe_geog_to_mgrs_extended(A,
v,w,D,x,y,C))for(x=0;x<v;x++)z[x]=b._pe.UTF8ToString(h[x]);return D};f.mgrsToGeogExtended=function(h,v,w,D,x){b._pe.ensureCache.prepare();let y=0;h&&(y=b._pe.getPointer(h));h=w.map(z=>b._pe.ensureString(z));w=b._pe.ensureInt32(h);h=b._pe.ensureFloat64(Array(2*v));(D=b._pe._pe_mgrs_to_geog_extended(y,v,w,D,h))&&q(x,v,h);return D}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(f){f.geogToUsng=function(h,v,w,D,x,y,z){b._pe.ensureCache.prepare();let A=0;h&&(A=b._pe.getPointer(h));
h=l(w);w=b._pe.ensureFloat64(h);h=g(v,b.PeDefs.PE_MGRS_MAX);const C=b._pe.ensureInt32(h);if(D=b._pe._pe_geog_to_usng(A,v,w,D,x,y,C))for(x=0;x<v;x++)z[x]=b._pe.UTF8ToString(h[x]);return D};f.usngToGeog=function(h,v,w,D){b._pe.ensureCache.prepare();var x=0;h&&(x=b._pe.getPointer(h));h=w.map(y=>b._pe.ensureString(y));w=b._pe.ensureInt32(h);h=b._pe.ensureFloat64(Array(2*v));(x=b._pe._pe_usng_to_geog(x,v,w,h))&&q(D,v,h);return x}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(f){f.init=
function(){f.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;f.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;f.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};f.geogToUtm=function(h,v,w,D,x){b._pe.ensureCache.prepare();var y=0;h&&(y=b._pe.getPointer(h));h=l(w);w=b._pe.ensureFloat64(h);h=g(v,b.PeDefs.PE_UTM_MAX);const z=b._pe.ensureInt32(h);if(D=b._pe._pe_geog_to_utm(y,v,w,D,z))for(y=0;y<v;y++)x[y]=b._pe.UTF8ToString(h[y]);return D};f.utmToGeog=
function(h,v,w,D,x){b._pe.ensureCache.prepare();let y=0;h&&(y=b._pe.getPointer(h));h=w.map(z=>b._pe.ensureString(z));w=b._pe.ensureInt32(h);h=b._pe.ensureFloat64(Array(2*v));(D=b._pe._pe_utm_to_geog(y,v,w,D,h))&&q(x,v,h);return D}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(f){const h=new Map;f.init=function(){f.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;f.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;f.PE_POLE_OUTSIDE_BOUNDARY=
b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;f.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};f.generate=function(v,w=f.PE_PCSINFO_OPTION_DOMAIN){let D,x;h.has(v)&&(x=h.get(v),x[w]&&(D=x[w]));D||(D=b._pe.PePCSInfo.prototype.generate(v,w),x||(x=[],h.set(v,x)),x[w]=D);return D}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(f){f.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const t=Object.freeze(Object.defineProperty({__proto__:null,
get _pe(){return b._pe},isLoaded:p,isSupported:r,load:u,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeGTTransformations(){return b.PeGTTransformations},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},
get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:n},Symbol.toStringTag,{value:"Module"}));b._init=n;b.isLoaded=p;b.isSupported=r;b.load=u;b.pe=t})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(a,b,c,e,d){function p(m=q){return[m[0],m[1],m[2],m[3]]}function r(m,t){m!==t&&(m[0]=t[0],m[1]=t[1],m[2]=t[2],m[3]=t[3]);return m}function u(m){return e.isNone(m)||
m[0]>=m[2]?0:m[2]-m[0]}function n(m){return m[1]>=m[3]?0:m[3]-m[1]}function k(m,t,f){return t>=m[0]&&f>=m[1]&&t<=m[2]&&f<=m[3]}function g(m){return null!=m&&4===m.length}const l=[Infinity,Infinity,-Infinity,-Infinity],q=[0,0,0,0];a.NEGATIVE_INFINITY=l;a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.UNIT=[0,0,1,1];a.ZERO=q;a.allFinite=function(m){for(let t=0;4>t;t++)if(!isFinite(m[t]))return!1;return!0};a.area=function(m){return u(m)*n(m)};a.center=function(m,t=[0,0]){t[0]=(m[0]+m[2])/
2;t[1]=(m[1]+m[3])/2;return t};a.clone=function(m){return[m[0],m[1],m[2],m[3]]};a.contains=function(m,t){return t[0]>=m[0]&&t[2]<=m[2]&&t[1]>=m[1]&&t[3]<=m[3]};a.containsPoint=function(m,t){return k(m,t[0],t[1])};a.containsPointObject=function(m,t){return k(m,t.x,t.y)};a.containsPointWithMargin=function(m,t,f){return t[0]>=m[0]-f&&t[1]>=m[1]-f&&t[0]<=m[2]+f&&t[1]<=m[3]+f};a.containsXY=k;a.containsXYWithMargin=function(m,t,f,h){return t>=m[0]-h&&f>=m[1]-h&&t<=m[2]+h&&f<=m[3]+h};a.copy=r;a.create=p;
a.distance=function(m,t){const f=(m[1]+m[3])/2,h=Math.max(Math.abs(t[0]-(m[0]+m[2])/2)-u(m)/2,0);m=Math.max(Math.abs(t[1]-f)-n(m)/2,0);return Math.sqrt(h*h+m*m)};a.empty=function(m){return m?r(m,l):p(l)};a.equals=function(m,t){return g(m)&&g(t)?m[0]===t[0]&&m[1]===t[1]&&m[2]===t[2]&&m[3]===t[3]:m===t};a.expand=function(m,t,f){if(e.isNone(t))r(f,m);else if("length"in t)if(g(t))f[0]=Math.min(m[0],t[0]),f[1]=Math.min(m[1],t[1]),f[2]=Math.max(m[2],t[2]),f[3]=Math.max(m[3],t[3]);else{if(2===t.length||
3===t.length)f[0]=Math.min(m[0],t[0]),f[1]=Math.min(m[1],t[1]),f[2]=Math.max(m[2],t[0]),f[3]=Math.max(m[3],t[1])}else switch(t.type){case "extent":f[0]=Math.min(m[0],t.xmin);f[1]=Math.min(m[1],t.ymin);f[2]=Math.max(m[2],t.xmax);f[3]=Math.max(m[3],t.ymax);break;case "point":f[0]=Math.min(m[0],t.x),f[1]=Math.min(m[1],t.y),f[2]=Math.max(m[2],t.x),f[3]=Math.max(m[3],t.y)}};a.expandPointInPlace=function(m,t){t[0]<m[0]&&(m[0]=t[0]);t[0]>m[2]&&(m[2]=t[0]);t[1]<m[1]&&(m[1]=t[1]);t[1]>m[3]&&(m[3]=t[1])};a.expandWithNestedArray=
function(m,t,f=m){const h=t.length;let v=m[0],w=m[1],D=m[2];m=m[3];for(let x=0;x<h;x++){const y=t[x];v=Math.min(v,y[0]);w=Math.min(w,y[1]);D=Math.max(D,y[0]);m=Math.max(m,y[1])}f[0]=v;f[1]=w;f[2]=D;f[3]=m;return f};a.fromExtent=function(m,t=p()){t[0]=m.xmin;t[1]=m.ymin;t[2]=m.xmax;t[3]=m.ymax;return t};a.fromValues=function(m,t,f,h,v=p()){v[0]=m;v[1]=t;v[2]=f;v[3]=h;return v};a.height=n;a.intersection=function(m,t,f){if(e.isNone(t))return r(f,m);const h=t[0],v=t[1],w=t[2];t=t[3];f[0]=c.clamp(m[0],
h,w);f[1]=c.clamp(m[1],v,t);f[2]=c.clamp(m[2],h,w);f[3]=c.clamp(m[3],v,t);return f};a.intersects=function(m,t){return Math.max(t[0],m[0])<=Math.min(t[2],m[2])&&Math.max(t[1],m[1])<=Math.min(t[3],m[3])};a.intersectsSegment=function(m,t,f){const h=m[0],v=m[1],w=m[2];m=m[3];const {x:D,y:x}=t,{x:y,y:z}=f;var A=(B,E)=>0>(z-x)*B+(D-y)*E+(y*x-D*z);t=A(h,m);f=A(w,m);const C=A(w,v);A=A(h,v);return t===f&&f===C&&C===A&&A===t||D<h&&y<h||D>w&&y>w||x>m&&z>m||x<v&&z<v?!1:!0};a.intersectsSphere=function(m,t){const f=
t[3];var h=Math.abs(t[0]-.5*(m[0]+m[2]));const v=.5*(m[2]-m[0]);if(h>f+v)return!1;var w=.5*(m[3]-m[1]);m=Math.abs(t[1]-.5*(m[1]+m[3]));if(m>f+w)return!1;if(h<v||m<w)return!0;h-=v;w=m-w;return h*h+w*w<=f*f};a.is=g;a.isPoint=function(m){return(0===u(m)||!isFinite(m[0]))&&(0===n(m)||!isFinite(m[1]))};a.offset=function(m,t,f,h=m){h[0]=m[0]+t;h[1]=m[1]+f;h[2]=m[2]+t;h[3]=m[3]+f;return h};a.pad=function(m,t,f=m){f[0]=m[0]-t;f[1]=m[1]-t;f[2]=m[2]+t;f[3]=m[3]+t;return f};a.setMax=function(m,t,f=m){f[2]=t[0];
f[3]=t[1];f!==m&&(f[0]=m[0],f[1]=m[1]);return m};a.setMin=function(m,t,f=m){f[0]=t[0];f[1]=t[1];f!==m&&(f[2]=m[2],f[3]=m[3]);return f};a.size=function(m,t){t[0]=m[2]-m[0];t[1]=m[3]-m[1]};a.toExtent=function(m,t){return new d({xmin:m[0],ymin:m[1],xmax:m[2],ymax:m[3],spatialReference:t})};a.width=u;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const c=Math.PI/
180;var e=b.earth.radius;const d=b.earth.eccentricitySquared;e={a1:e*d,a2:e*d*e*d,a3:e*d*d/2,a4:e*d*e*d*2.5,a5:e*d+e*d*d/2,a6:1-d};b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,
f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,
f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},
104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;
a.earthEllipsoidConstants=e;a.spheroids=b;a.toRadians=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){return function(){function b(e){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(e&&e.steps)for(const d of e.steps)d instanceof a?this.steps.push(d):this.steps.push(new a({wkid:d.wkid,wkt:d.wkt,isInverse:d.isInverse}))}
b.cacheKey=function(e,d){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==d.wkid&&null!==d.wkid?d.wkid.toString():"-1",void 0!==d.wkt&&null!==d.wkt?d.wkt.toString():""].join()};b.fromGE=function(e){const d=new b;let p="";for(const r of e.steps)e=a.fromGE(r),d.steps.push(e),p+=e.uid.toString()+",";d._cached_projection={};d._gtlistentry=null;d._chain=p;return d};var c=b.prototype;c.getInverse=function(){const e=new b;e.steps=[];for(let d=
this.steps.length-1;0<=d;d--)e.steps.push(this.steps[d].getInverse());return e};c.getGTListEntry=function(){let e="";for(const d of this.steps)e+=d.uid.toString()+",";e!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=e);return this._gtlistentry};c.assignCachedGe=function(e,d,p){this._cached_projection[b.cacheKey(e,d)]=p};c.getCachedGeTransformation=function(e,d){let p="";for(const r of this.steps)p+=r.uid.toString()+",";p!==this._chain&&(this._gtlistentry=null,this._cached_projection=
{},this._chain=p);e=this._cached_projection[b.cacheKey(e,d)];return void 0===e?null:e};return b}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){let b=0;return function(){function c(e=null){this.uid=b++;e?(this._wkt=void 0!==e.wkt?e.wkt:null,this._wkid=void 0!==e.wkid?e.wkid:-1,this._isInverse=void 0!==e.isInverse?!0===e.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}c.fromGE=function(e){const d=new c;
d._wkt=e.wkt;d._wkid=e.wkid;d._isInverse=e.isInverse;return d};c.prototype.getInverse=function(){const e=new c;e._wkt=this.wkt;e._wkid=this._wkid;e._isInverse=!this.isInverse;return e};a._createClass(c,[{key:"wkt",get:function(){return this._wkt},set:function(e){this._wkt=e;this.uid=b++}},{key:"wkid",get:function(){return this._wkid},set:function(e){this._wkid=e;this.uid=b++}},{key:"isInverse",get:function(){return this._isInverse},set:function(e){this._isInverse=e;this.uid=b++}}]);return c}()})},
"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(a,b,c,e){a.getGeometryZScaler=function(d,p,r){if(b.isNone(p)||b.isNone(r)||r.vcsWkid||e.equals(p,r))return null;p=c.getMetersPerVerticalUnitForSR(p);r=c.getMetersPerVerticalUnitForSR(r);const u=p/r;if(1===u)return null;switch(d){case "point":case "esriGeometryPoint":return n=>{n&&null!=n.z&&(n.z*=u)};case "polyline":case "esriGeometryPolyline":return n=>{if(n)for(const k of n.paths)for(const g of k)2<
g.length&&(g[2]*=u)};case "polygon":case "esriGeometryPolygon":return n=>{if(n)for(const k of n.rings)for(const g of k)2<g.length&&(g[2]*=u)};case "multipoint":case "esriGeometryMultipoint":return n=>{if(n)for(const k of n.points)2<k.length&&(k[2]*=u)};case "extent":case "esriGeometryExtent":return n=>{n&&null!=n.zmin&&null!=n.zmax&&(n.zmin*=u,n.zmax*=u)};default:return null}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/labelFormatUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/Logger ../../intl/date ../../intl/number ./fieldUtils ./labelUtils ../../support/arcadeOnDemand".split(" "),
function(a,b,c,e,d,p,r,u,n,k){function g(){g=c._asyncToGenerator(function*(f,h,v){if(!f||!f.symbol)return m;const w=f.where,D=n.getLabelExpression(f);f=w?yield new Promise((x,y)=>a(["../../core/sql/WhereClause"],x,y)):null;if("arcade"===D.type){const x=yield k.createLabelExpression(D.expression,v,h);v={type:"arcade",evaluate(y){try{const z=x.evaluate({$feature:"attributes"in y?x.repurposeFeature(y):y});if(null!=z)return z.toString()}catch(z){q.error(new e("arcade-expression-error","Encountered an error when evaluating label expression for feature",
{feature:y,expression:D}))}return null},needsHydrationToEvaluate(){return null==n.getSingleFieldArcadeExpression(D.expression)}}}else v={type:"simple",evaluate(x){return D.expression.replace(/{[^}]*}/g,y=>{var z=y.slice(1,-1);z=h.get(z);if(!z)return y;y=null;"attributes"in x?x&&x.attributes&&(y=x.attributes[z.name]):y=x.field(z.name);return null==y?"":l(y,z)})}};if(w){let x;try{x=f.WhereClause.create(w,h)}catch(z){return q.error(new e("bad-where-clause","Encountered an error when evaluating where clause, ignoring",
{where:w,error:z})),m}const y=v.evaluate;v.evaluate=z=>{const A="attributes"in z?void 0:t;try{if(x.testFeature(z,A))return y(z)}catch(C){q.error(new e("bad-where-clause","Encountered an error when evaluating where clause for feature",{where:w,feature:z,error:C}))}return null}}return v});return g.apply(this,arguments)}function l(f,h){if(null==f)return"";const v=h.domain;if(v)if("codedValue"===v.type||"coded-value"===v.type)for(var w of v.codedValues){if(w.code===f)return w.name}else if("range"===v.type){w=
+f;const D="range"in v?v.range[1]:v.maxValue;if(("range"in v?v.range[0]:v.minValue)<=w&&w<=D)return v.name}"date"===h.type||"esriFieldTypeDate"===h.type?f=p.formatDate(f,p.convertDateFormatToIntlOptions("short-date")):u.isNumericField(h)&&(f=r.formatNumber(+f));return f?f:""}const q=d.getLogger("esri.layers.support.labelFormatUtils"),m={type:"simple",evaluate(){return null}},t={getAttribute(f,h){return f.field(h)}};b.createLabelFunction=function(f,h,v){return g.apply(this,arguments)};b.formatField=
l;Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale"],function(a,b,c){function e(t){t=t||m;if(!q.has(t)){var f=c.getLocale();f=l[c.getLocale()]||f;q.set(t,new Intl.DateTimeFormat(f,t))}return q.get(t)}var d={year:"numeric",month:"numeric",day:"numeric"},p={year:"numeric",month:"long",day:"numeric"},r={year:"numeric",month:"short",day:"numeric"};const u={year:"numeric",month:"long",weekday:"long",
day:"numeric"},n={hour:"numeric",minute:"numeric"},k={...n,second:"numeric"},g={"short-date":d,"short-date-short-time":{...d,...n},"short-date-short-time-24":{...d,...n,hour12:!1},"short-date-long-time":{...d,...k},"short-date-long-time-24":{...d,...k,hour12:!1},"short-date-le":d,"short-date-le-short-time":{...d,...n},"short-date-le-short-time-24":{...d,...n,hour12:!1},"short-date-le-long-time":{...d,...k},"short-date-le-long-time-24":{...d,...k,hour12:!1},"long-month-day-year":p,"long-month-day-year-short-time":{...p,
...n},"long-month-day-year-short-time-24":{...p,...n,hour12:!1},"long-month-day-year-long-time":{...p,...k},"long-month-day-year-long-time-24":{...p,...k,hour12:!1},"day-short-month-year":r,"day-short-month-year-short-time":{...r,...n},"day-short-month-year-short-time-24":{...r,...n,hour12:!1},"day-short-month-year-long-time":{...r,...k},"day-short-month-year-long-time-24":{...r,...k,hour12:!1},"long-date":u,"long-date-short-time":{...u,...n},"long-date-short-time-24":{...u,...n,hour12:!1},"long-date-long-time":{...u,
...k},"long-date-long-time-24":{...u,...k,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":n,"long-time":k};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",
shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",
dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});d=b.apiValues;p=b.toJSON.bind(b);r=b.fromJSON.bind(b);const l={ar:"ar-u-nu-latn-ca-gregory"};let q=new WeakMap,
m=g["short-date-short-time"];c.beforeLocaleChange(()=>{q=new WeakMap;m=g["short-date-short-time"]});a.convertDateFormatToIntlOptions=function(t){return g[t]||null};a.dateFormats=d;a.dictionary=b;a.formatDate=function(t,f){return e(f).format(t)};a.fromJSON=r;a.getDateTimeFormatter=e;a.toJSON=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(a,b,c){function e(u){const n=u||
r;if(!p.has(n)){var k=c.getLocale();k=d[c.getLocale()]||k;p.set(n,new Intl.NumberFormat(k,u))}return b.assumeNonNull(p.get(n))}const d={ar:"ar-u-nu-latn"};let p=new WeakMap,r={};c.beforeLocaleChange(()=>{p=new WeakMap;r={}});a.convertNumberFormatToIntlOptions=function(u={}){const n={};null!=u.digitSeparator&&(n.useGrouping=u.digitSeparator);null!=u.places&&(n.minimumFractionDigits=n.maximumFractionDigits=u.places);return n};a.formatNumber=function(u,n){-0===u&&(u=0);return e(n).format(u)};a.getFormatter=
e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/labelUtils":function(){define(["exports","../../core/string"],function(a,b){function c(f){return f.replace(/\[/g,"{").replace(/\]/g,"}")}function e(f){const h={expression:"",type:"none"};f.labelExpressionInfo?f.labelExpressionInfo.value?(h.expression=f.labelExpressionInfo.value,h.type="conventional"):f.labelExpressionInfo.expression&&(h.expression=f.labelExpressionInfo.expression,h.type=
"arcade"):null!=f.labelExpression&&(h.expression=c(f.labelExpression),h.type="conventional");return h}function d(f){f?(f=b.replace(f,h=>'__begin__$feature["'+h+'"]__end__'),f=k.test(f)?f.replace(k,""):'"'+f,f=g.test(f)?f.replace(g,""):f+'"',f=f.replace(u,'" + ').replace(n,' + "')):f='""';return f}function p(f){return(f=f.match(l))&&f[1].trim()||null}function r(f){if(!f)return null;let h=q.exec(f)||m.exec(f);return h?h[1]||h[3]:(h=t.exec(f))?h[2]:null}const u=/__begin__/ig,n=/__end__/ig,k=/^__begin__/i,
g=/__end__$/i,l=/^\s*\{([^}]+)\}\s*$/i,q=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,m=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,t=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=d;a.getLabelExpression=e;a.getLabelExpressionArcade=function(f){f=e(f);if(!f)return null;switch(f.type){case "conventional":return d(f.expression);
case "arcade":return f.expression}return null};a.getLabelExpressionSingleField=function(f){f=e(f);if(!f)return null;switch(f.type){case "conventional":return p(f.expression);case "arcade":return r(f.expression)}return null};a.getSingleFieldArcadeExpression=r;a.getSingleFieldTemplatedString=p;a.sqlToTemplateString=c;a.templateStringToSql=function(f){return f.replace(/\{/g,"[").replace(/\}/g,"]")};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/Handles ../core/has ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/extensions/serializableProperty/reader ../form/FormTemplate ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/FeatureEffectLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/FeatureIndex ./support/featureReductionUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/GeometryFieldsInfo ./support/LabelClass ./support/labelingInfo ./support/LayerFloorInfo ./support/Relationship ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/AttachmentQuery ../rest/support/FeatureSet ../rest/support/Query ../rest/support/RelationshipQuery ../rest/support/TopFeaturesQuery ../support/popupUtils ../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E,G,J,K,F,H,I,L,Q,Z,ca,aa,O,fa,oa,Da,Ha,ta,Y,pa,wa,M,R,da,S,X,ea,ha,ra,na,N,U,P,T,W,ja,va,Ga,Oa,ka,xa,za,La,Qa,ia,sa,Fa,Ca,Ja,Sa,Na){function Va(Za,eb){return new w("layer:unsupported",`Layer (${Za.title}, ${Za.id}) of type '${Za.declaredClass}' ${eb}`,{layer:Za})}function Ra(Za,eb,Wa){return!(Za&&Za.hasOwnProperty(eb)?!Za[eb]:!Wa)}function $a(Za,eb,Wa){return Za&&Za.hasOwnProperty(eb)?Za[eb]:Wa}function ab(Za){var eb;Za=null==Za?void 0:
null==(eb=Za.supportedSpatialAggregationStatistics)?void 0:eb.map(Wa=>Wa.toLowerCase());return{envelope:!(null==Za||!Za.includes("envelopeaggregate")),centroid:!(null==Za||!Za.includes("centroidaggregate")),convexHull:!(null==Za||!Za.includes("convexhullaggregate"))}}function db(Za,eb){var Wa;Za=null==Za?void 0:null==(Wa=Za.supportedOperationsWithCacheHint)?void 0:Wa.map(la=>la.toLowerCase());return!(null==Za||!Za.includes(eb.toLowerCase()))}function ya(Za,eb,Wa){Za=!(null==Wa||!Wa.writeLayerSchema);
return{enabled:Za,ignoreOrigin:Za}}const fb=new y.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),hb={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},gb=A.getLogger("esri.layers.FeatureLayer");d=T.defineFieldProperties();h=function(Za){function eb(...la){la=Za.call(this,...la)||this;la._handles=
new D;la.capabilities=null;la.charts=null;la.copyright=null;la.datesInUnknownTimezone=!1;la.displayField=null;la.definitionExpression=null;la.dynamicDataSource=null;la.editFieldsInfo=null;la.editingInfo=null;la.elevationInfo=null;la.featureReduction=null;la.fields=null;la.fieldsIndex=null;la.floorInfo=null;la.formTemplate=null;la.fullExtent=null;la.gdbVersion=null;la.geometryFieldsInfo=null;la.geometryType=null;la.hasM=void 0;la.hasZ=void 0;la.heightModelInfo=null;la.historicMoment=null;la.infoFor3D=
null;la.isTable=!1;la.labelsVisible=!0;la.labelingInfo=null;la.layerId=void 0;la.legendEnabled=!0;la.minScale=0;la.maxScale=0;la.globalIdField=null;la.objectIdField=null;la.outFields=null;la.path=null;la.popupEnabled=!0;la.popupTemplate=null;la.relationships=null;la.sourceJSON=null;la.returnM=void 0;la.returnZ=void 0;la.screenSizePerspectiveEnabled=!0;la.serviceDefinitionExpression=null;la.spatialReference=fa.WGS84;la.subtypeCode=null;la.subtypeField=null;la.templates=null;la.timeInfo=null;la.title=
null;la.sublayerTitleMode="item-title";la.trackIdField=null;la.type="feature";la.typeIdField=null;la.types=null;la.indexes=new (v.ofType(na.FeatureIndex));la.userIsAdmin=!1;la.version=void 0;la.visible=!0;return la}b._inheritsLoose(eb,Za);var Wa=eb.prototype;Wa.destroy=function(){var la;null==(la=this.source)?void 0:la.destroy();this._handles=C.destroyMaybe(this._handles)};Wa.normalizeCtorArgs=function(la,ua){return"string"===typeof la?{url:la,...ua}:la};Wa.load=function(la){var ua=this;const ba=
C.isSome(la)?la.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)this.addResolvingPromise(this.createGraphicsSource(ba).then(Ia=>this._initLayerProperties(Ia)));else{var Ba=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},la).catch(G.throwIfAbortError).then(b._asyncToGenerator(function*(){if(ua.url&&null==ua.layerId&&/FeatureServer|MapServer\/*$/i.test(ua.url)){const Ia=yield ua._fetchFirstLayerId(ba);null!=Ia&&(ua.layerId=Ia)}if(!ua.url&&!ua._hasMemorySource())throw new w("feature-layer:missing-url-or-source",
"Feature layer must be created with either a url or a source");return ua._initLayerProperties(yield ua.createGraphicsSource(ba))})).then(()=>this.finishLoadEditablePortalLayer(la));this.addResolvingPromise(Ba);return Promise.resolve(this)}};Wa.readCapabilities=function(la,ua){ua=ua.layerDefinition||ua;return{analytics:this._readAnalyticsCapabilities(ua),attachment:this._readAttachmentCapabilities(ua),data:this._readDataCapabilities(ua),metadata:this._readMetadataCapabilities(ua),operations:this._readOperationsCapabilities(ua.capabilities||
la,ua),query:this._readQueryCapabilities(ua),queryRelated:this._readQueryRelatedCapabilities(ua),queryTopFeatures:this._readQueryTopFeaturesCapabilities(ua),editing:this._readEditingCapabilities(ua)}};Wa.readEditingEnabled=function(la,ua){return this._readEditingEnabled(ua,!1)};Wa.readEditingEnabledFromWebMap=function(la,ua,ba){return this._readEditingEnabled(ua,!0,ba)};Wa.writeEditingEnabled=function(la,ua){this._writeEditingEnabled(la,ua,!1)};Wa.writeEditingEnabledToWebMap=function(la,ua,ba,Ba){this._writeEditingEnabled(la,
ua,!0,Ba)};Wa.readEditingInfo=function(la,ua){({editingInfo:la}=ua);return la?{lastEditDate:null!=la.lastEditDate?new Date(la.lastEditDate):null}:null};Wa.readIsTable=function(la,ua){ua=ua&&ua.layerDefinition||ua;return"Table"===ua.type||!ua.geometryType};Wa.writeIsTable=function(la,ua,ba,Ba){null!=Ba&&Ba.writeLayerSchema&&E.setDeepValue(ba,la?"Table":"Feature Layer",ua)};Wa.readMinScale=function(la,ua){return ua.effectiveMinScale||la||0};Wa.readMaxScale=function(la,ua){return ua.effectiveMaxScale||
la||0};Wa.readGlobalIdFieldFromService=function(la,ua){ua=ua.layerDefinition||ua;if(ua.globalIdField)return ua.globalIdField;if(ua.fields)for(const ba of ua.fields)if("esriFieldTypeGlobalID"===ba.type)return ba.name};Wa.readObjectIdFieldFromService=function(la,ua){ua=ua.layerDefinition||ua;if(ua.objectIdField)return ua.objectIdField;if(ua.fields)for(const ba of ua.fields)if("esriFieldTypeOID"===ba.type)return ba.name};Wa.readRenderer=function(la,ua,ba){ua=ua.layerDefinition||ua;if(la=ua.drawingInfo&&
ua.drawingInfo.renderer||void 0)return(la=q.read(la,ua,ba)||void 0)||gb.error("Failed to create renderer",{rendererDefinition:ua.drawingInfo.renderer,layer:this,context:ba}),la;if(ua.defaultSymbol)return ua.types&&ua.types.length?new l({defaultSymbol:jb(ua.defaultSymbol,ua,ba),field:ua.typeIdField,uniqueValueInfos:ua.types.map(Ba=>({id:Ba.id,symbol:jb(Ba.symbol,Ba,ba)}))}):new g({symbol:jb(ua.defaultSymbol,ua,ba)})};Wa.castSource=function(la){return la?Array.isArray(la)||la instanceof v?new Da.MemorySource({layer:this,
items:la}):la:null};Wa.readSource=function(la,ua){la=sa.fromJSON(ua.featureSet);return new Da.MemorySource({layer:this,items:la&&la.features||[]})};Wa.readServiceDefinitionExpression=function(la,ua){return ua.definitionQuery||ua.definitionExpression};Wa.readTemplates=function(la,ua){var ba=ua.editFieldsInfo;ua=ba&&ba.creatorField;ba=ba&&ba.editorField;la=la&&la.map(Ba=>U.fromJSON(Ba));this._fixTemplates(la,ua);this._fixTemplates(la,ba);return la};Wa.readTitle=function(la,ua){la=ua.layerDefinition&&
ua.layerDefinition.name||ua.name;ua=ua.title||ua.layerDefinition&&ua.layerDefinition.title;if(la){ua=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?ha.titleFromUrlAndName(this.url,la):la;if(!la&&this.url){const ba=ha.parse(this.url);C.isSome(ba)&&(la=ba.title)}if(!la)return;"item-title-and-service-name"===this.sublayerTitleMode&&ua&&ua!==la&&(la=ua+" - "+la);return ha.cleanTitle(la)}if("item-title"===this.sublayerTitleMode&&ua)return ua};Wa.readTitleFromWebMap=
function(la,ua){return ua.title||ua.layerDefinition&&ua.layerDefinition.name};Wa.readTypeIdField=function(la,ua){ua=ua.layerDefinition||ua;let ba=ua.typeIdField;ba&&ua.fields&&(ba=ba.toLowerCase(),la=ua.fields.find(Ba=>Ba.name.toLowerCase()===ba))&&(ba=la.name);return ba};Wa.readTypes=function(la,ua){ua=ua.layerDefinition||ua;la=ua.types;const ba=(ua=ua.editFieldsInfo)&&ua.creatorField,Ba=ua&&ua.editorField;return la&&la.map(Ia=>{Ia=P.fromJSON(Ia);this._fixTemplates(Ia.templates,ba);this._fixTemplates(Ia.templates,
Ba);return Ia})};Wa.writeUrl=function(la,ua,ba,Ba){ha.writeUrlWithLayerId(this,la,null,ua,Ba)};Wa.readVersion=function(la,ua){return ua.currentVersion?ua.currentVersion:ua.hasOwnProperty("capabilities")||ua.hasOwnProperty("drawingInfo")||ua.hasOwnProperty("hasAttachments")||ua.hasOwnProperty("htmlPopupType")||ua.hasOwnProperty("relationships")||ua.hasOwnProperty("timeInfo")||ua.hasOwnProperty("typeIdField")||ua.hasOwnProperty("types")?10:9.3};Wa.readVisible=function(la,ua){if(ua.layerDefinition&&
null!=ua.layerDefinition.defaultVisibility)return!!ua.layerDefinition.defaultVisibility;if(null!=ua.visibility)return!!ua.visibility};Wa.addAttachment=function(la,ua){return this.load().then(()=>this._checkAttachmentSupport(la)).then(()=>{if(!("addAttachment"in this.source))throw new w("FeatureLayer","Layer source does not support addAttachment capability");return this.source.addAttachment(la,ua)})};Wa.updateAttachment=function(la,ua,ba){return this.load().then(()=>this._checkAttachmentSupport(la)).then(()=>
{if(!("updateAttachment"in this.source))throw new w("FeatureLayer","Layer source does not support updateAttachment capability");return this.source.updateAttachment(la,ua,ba)})};Wa.applyEdits=function(){var la=b._asyncToGenerator(function*(ua,ba){const Ba=yield new Promise((Ia,Ma)=>a(["./graphics/editingSupport"],Ia,Ma));yield this.load();return Ba.applyEdits(this,this.source,ua,ba)});return function(ua,ba){return la.apply(this,arguments)}}();Wa.on=function(la,ua){return Za.prototype.on.call(this,
la,ua)};Wa.createPopupTemplate=function(la){return Sa.createPopupTemplate(this,la)};Wa.createGraphicsSource=function(){var la=b._asyncToGenerator(function*(ua){if(this._hasMemorySource())return this.source.load({signal:ua});const {default:ba}=yield G.whenOrAbort(new Promise((Ba,Ia)=>a(["./graphics/sources/FeatureLayerSource"],Ma=>Ba(Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"}))),Ia)),ua);return(new ba({layer:this})).load({signal:ua})});return function(ua){return la.apply(this,
arguments)}}();Wa.createQuery=function(){const la=new Fa;var ua=this.get("capabilities.data");const ba=this.get("capabilities.query");la.dynamicDataSource=this.dynamicDataSource;la.historicMoment=this.historicMoment;la.gdbVersion=this.gdbVersion;la.returnGeometry=!0;ba&&(la.compactGeometryEnabled=ba.supportsCompactGeometry,la.defaultSpatialReferenceEnabled=ba.supportsDefaultSpatialReference);ua&&(ua.supportsZ&&null!=this.returnZ&&(la.returnZ=this.returnZ),ua.supportsM&&null!=this.returnM&&(la.returnM=
this.returnM));la.outFields=["*"];ua=C.isSome(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null;ua=J.sqlAnd(this.definitionExpression,ua);la.where=ua||"1\x3d1";const {timeOffset:Ba,timeExtent:Ia}=this;la.timeExtent=null!=Ba&&null!=Ia?Ia.offset(-Ba.value,Ba.unit):Ia||null;la.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null;return la};Wa.deleteAttachments=function(la,ua){return this.load().then(()=>this._checkAttachmentSupport(la)).then(()=>{if(!("deleteAttachments"in
this.source))throw new w("FeatureLayer","Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(la,ua)})};Wa.fetchRecomputedExtents=function(la){return this.load({signal:null==la?void 0:la.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(la);throw new w("FeatureLayer","Layer source does not support fetchUpdates capability");})};Wa.getFeatureType=function(la){const {typeIdField:ua,types:ba}=this;if(!ua||!la)return null;
const Ba=la.attributes?la.attributes[ua]:void 0;if(null==Ba)return null;let Ia=null;ba.some(Ma=>{const {id:Ya}=Ma;if(null==Ya)return!1;Ya.toString()===Ba.toString()&&(Ia=Ma);return!!Ia});return Ia};Wa.getFieldDomain=function(la,ua){return(ua=this.getFeatureType(ua&&ua.feature))&&(ua=ua.domains&&ua.domains[la])&&"inherited"!==ua.type?ua:this._getLayerDomain(la)};Wa.getField=function(la){return this.fieldsIndex.get(la)};Wa.queryAttachments=function(la,ua){la=ia.from(la);return this.load().then(()=>
{if(!this.get("capabilities.data.supportsAttachment"))throw new w("FeatureLayer","this layer doesn't support attachments");const {attachmentTypes:ba,objectIds:Ba,globalIds:Ia,num:Ma,size:Ya,start:V,where:ma}=la;if(!this.get("capabilities.operations.supportsQueryAttachments")){const qa=ba&&ba.length,Ea=Ia&&Ia.length,Ua=Ya&&Ya.length;if(Ba&&1<Ba.length||qa||Ea||Ua||Ma||V||ma)throw new w("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",la);}if(!(Ba&&
Ba.length||ma))throw new w("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",la);if(!("queryAttachments"in this.source))throw new w("FeatureLayer","Layer source does not support queryAttachments capability",la);return this.source.queryAttachments(la)})};Wa.queryFeatures=function(la,ua){return this.load().then(()=>this.source.queryFeatures(Fa.from(la)||this.createQuery(),ua)).then(ba=>{if(null!=ba&&ba.features)for(const Ba of ba.features)Ba.layer=Ba.sourceLayer=this;
return ba})};Wa.queryObjectIds=function(la,ua){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Fa.from(la)||this.createQuery(),ua);throw new w("FeatureLayer","Layer source does not support queryObjectIds capability");})};Wa.queryFeatureCount=function(la,ua){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Fa.from(la)||this.createQuery(),ua);throw new w("FeatureLayer","Layer source does not support queryFeatureCount capability");
})};Wa.queryExtent=function(la,ua){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Fa.from(la)||this.createQuery(),ua);throw new w("FeatureLayer","Layer source does not support queryExtent capability");})};Wa.queryRelatedFeatures=function(la,ua){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(Ca.from(la),ua);throw new w("FeatureLayer","Layer source does not support queryRelatedFeatures capability");
})};Wa.queryRelatedFeaturesCount=function(la,ua){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(Ca.from(la),ua);throw new w("FeatureLayer","Layer source does not support queryRelatedFeaturesCount capability");})};Wa.queryTopFeatures=function(la,ua){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Ja.from(la),ua).then(ba=>
{if(null!=ba&&ba.features)for(const Ba of ba.features)Ba.layer=Ba.sourceLayer=this;return ba});throw new w("FeatureLayer","Layer source does not support queryTopFeatures capability");})};Wa.queryTopObjectIds=function(la,ua){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Ja.from(la),ua);throw new w("FeatureLayer","Layer source does not support queryTopObjectIds capability");})};Wa.queryTopFeaturesExtent=
function(la,ua){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Ja.from(la),ua);throw new w("FeatureLayer","Layer source does not support queryTopExtents capability");})};Wa.queryTopFeatureCount=function(la,ua){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Ja.from(la),ua);throw new w("FeatureLayer",
"Layer source does not support queryFeatureCount capability");})};Wa.read=function(la,ua){const ba=la.featureCollection;if(ba){const Ba=ba.layers;Ba&&1===Ba.length&&(Za.prototype.read.call(this,Ba[0],ua),null!=ba.showLegend&&Za.prototype.read.call(this,{showLegend:ba.showLegend},ua))}Za.prototype.read.call(this,la,ua);ua&&"service"===ua.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")};Wa.write=function(la,ua){var ba,Ba;ua={...ua,writeLayerSchema:null!=(ba=null==
(Ba=ua)?void 0:Ba.writeLayerSchema)?ba:this._hasMemorySource()};const {origin:Ia,layerContainerType:Ma,messages:Ya}=ua;if(this.dynamicDataSource)return null==Ya?void 0:Ya.push(Va(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if("web-scene"===Ia||"web-map"===Ia&&"tables"!==Ma)return null==Ya?void 0:Ya.push(Va(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return null==
Ya?void 0:Ya.push(Va(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===Ia&&"tables"===Ma)return null==Ya?void 0:Ya.push(Va(this,"using a non-table source cannot be written to tables in web maps")),null;return Za.prototype.write.call(this,la,ua)};Wa.clone=function(){if(this._hasMemorySource())throw new w("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return Za.prototype.clone.call(this)};
Wa.serviceSupportsSpatialReference=function(la){return this.loaded?"memory"===this.source.type?!0:za.serviceSupportsSpatialReference(this,la):!1};Wa.save=function(){var la=b._asyncToGenerator(function*(ua){return(yield new Promise((ba,Ba)=>a(["./save/featureLayerUtils"],ba,Ba))).save(this,ua)});return function(ua){return la.apply(this,arguments)}}();Wa.saveAs=function(){var la=b._asyncToGenerator(function*(ua,ba){return(yield new Promise((Ba,Ia)=>a(["./save/featureLayerUtils"],Ba,Ia))).saveAs(this,
ua,ba)});return function(ua,ba){return la.apply(this,arguments)}}();Wa._readEditingEnabled=function(la,ua,ba){var Ba;let Ia=null==(Ba=la.layerDefinition)?void 0:Ba.capabilities;if(Ia)return this._hasEditingCapability(Ia);Ia=la.capabilities;if(ua&&"web-map"===(null==ba?void 0:ba.origin)&&!this._hasMemorySource()&&Ia)return this._hasEditingCapability(Ia)};Wa._hasEditingCapability=function(la){return la.toLowerCase().split(",").map(ua=>ua.trim()).includes("editing")};Wa._writeEditingEnabled=function(la,
ua,ba,Ba){if(!la){var Ia,Ma;la=null!=(Ia=this.capabilities)&&null!=(Ma=Ia.operations)&&Ma.supportsSync?"Query,Sync":"Query";E.setDeepValue("layerDefinition.capabilities",la,ua);!ba||null!=Ba&&Ba.writeLayerSchema||(ua.capabilities=la)}};Wa._checkAttachmentSupport=function(la){const {attributes:ua}=la,{objectIdField:ba}=this;if(!this.get("capabilities.data.supportsAttachment"))return Promise.reject(new w("FeatureLayer","this layer doesn't support attachments"));if(!la)return Promise.reject(new w("FeatureLayer",
"A feature is required to add/delete/update attachments"));if(!ua)return Promise.reject(new w("FeatureLayer","'attributes' are required on a feature to query attachments"));if(!ua[ba])return Promise.reject(new w("FeatureLayer",`feature is missing the identifying attribute ${ba}`))};Wa._getLayerDomain=function(la){return(la=this.fieldsIndex.get(la))?la.domain:null};Wa._fetchFirstLayerId=function(la){return t(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",
signal:la}).then(ua=>{if(ua=ua.data){if(Array.isArray(ua.layers)&&0<ua.layers.length)return ua.layers[0].id;if(Array.isArray(ua.tables)&&0<ua.tables.length)return ua.tables[0].id}})};Wa._initLayerProperties=function(){var la=b._asyncToGenerator(function*(ua){this._set("source",ua);ua.sourceJSON&&(this.sourceJSON=ua.sourceJSON,this.read(ua.sourceJSON,{origin:"service",url:this.parsedUrl}));this._verifySource();this._verifyFields();W.fixRendererFields(this.renderer,this.fieldsIndex);W.fixTimeInfoFields(this.timeInfo,
this.fieldsIndex);return Qa.loadStyleRenderer(this,{origin:"service"})});return function(ua){return la.apply(this,arguments)}}();Wa.hasDataChanged=function(){var la=b._asyncToGenerator(function*(){var ua;if(null!=(ua=this.source)&&ua.refresh)try{var ba;const {dataChanged:Ba,updates:Ia}=yield null==(ba=this.source)?void 0:ba.refresh();C.isSome(Ia)&&(this.sourceJSON={...this.sourceJSON,...Ia},this.read(Ia,{origin:"service",url:this.parsedUrl}));if(Ba)return!0}catch{}if(this.definitionExpression)try{return(yield J.parseWhereClause(this.definitionExpression,
this.fieldsIndex)).hasDateFunctions}catch{}return!1});return function(){return la.apply(this,arguments)}}();Wa._verifyFields=function(){var la;const ua=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+ua+")");this.isTable||this._hasMemorySource()||-1!==ua.search(/\/FeatureServer\//i)||null!=(la=this.fields)&&la.some(ba=>"geometry"===ba.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+
ua+")")};Wa._fixTemplates=function(la,ua){la&&la.forEach(ba=>{(ba=ba.prototype&&ba.prototype.attributes)&&ua&&delete ba[ua]})};Wa._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new w("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new w("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};Wa._initMemorySource=function(la){la.forEach(ua=>
{ua.layer=this;ua.sourceLayer=this});this._handles.add([la.on("after-add",ua=>{ua.item.layer=this;ua.item.sourceLayer=this}),la.on("after-remove",ua=>{ua.item.layer=null;ua.item.sourceLayer=null})],"fl-source")};Wa._resetMemorySource=function(la){la.forEach(ua=>{ua.layer=null;ua.sourceLayer=null});this._handles.remove("fl-source")};Wa._hasMemorySource=function(){return!(this.url||!this.source)};Wa._readAnalyticsCapabilities=function(la){return{supportsCacheHint:db(la.advancedQueryCapabilities,"queryAnalytics")}};
Wa._readAttachmentCapabilities=function(la){const ua=la.attachmentProperties,ba={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:db(la.advancedQueryCapabilities,"queryAttachments"),supportsResize:Ra(la,"supportsAttachmentsResizing",!1)};ua&&Array.isArray(ua)&&ua.forEach(Ba=>{const Ia=hb[Ba.name];Ia&&(ba[Ia]=!!Ba.isEnabled)});return ba};Wa._readDataCapabilities=function(la){return{isVersioned:Ra(la,"isDataVersioned",!1),supportsAttachment:Ra(la,
"hasAttachments",!1),supportsM:Ra(la,"hasM",!1),supportsZ:Ra(la,"hasZ",!1)}};Wa._readMetadataCapabilities=function(la){return{supportsAdvancedFieldProperties:Ra(la,"supportsFieldDescriptionProperty",!1)}};Wa._readOperationsCapabilities=function(la,ua){la=la?la.toLowerCase().split(",").map(qa=>qa.trim()):[];var ba=this.url?ha.parse(this.url):null;ba=la.includes(C.isSome(ba)&&"MapServer"===ba.serverType?"data":"query");const Ba=la.includes("editing")&&!ua.datesInUnknownTimezone;let Ia=Ba&&la.includes("create"),
Ma=Ba&&la.includes("delete"),Ya=Ba&&la.includes("update");const V=la.includes("changetracking"),ma=ua.advancedQueryCapabilities;!Ba||Ia||Ma||Ya||(Ia=Ma=Ya=!0);return{supportsCalculate:Ra(ua,"supportsCalculate",!1),supportsTruncate:Ra(ua,"supportsTruncate",!1),supportsValidateSql:Ra(ua,"supportsValidateSql",!1),supportsAdd:Ia,supportsDelete:Ma,supportsEditing:Ba,supportsChangeTracking:V,supportsQuery:ba,supportsQueryAnalytics:Ra(ma,"supportsQueryAnalytic",!1),supportsQueryAttachments:Ra(ma,"supportsQueryAttachments",
!1),supportsQueryTopFeatures:Ra(ma,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Ra(ua,"supportsAttachmentsResizing",!1),supportsSync:la.includes("sync"),supportsUpdate:Ya,supportsExceedsLimitStatistics:Ra(ua,"supportsExceedsLimitStatistics",!1)}};Wa._readQueryCapabilities=function(la){var ua;const ba=la.advancedQueryCapabilities,Ba=la.ownershipBasedAccessControlForFeatures,Ia=la.archivingInfo;var Ma=null==(ua=this.url)?void 0:ua.includes("MapServer");ua=!x("mapserver-pbf-enabled")&&Ma&&
10.81>this.version;Ma=ha.isHostedAgolService(this.url);const Ya=(la.supportedQueryFormats||"").split(",").reduce((V,ma)=>{(ma=ma.toLowerCase().trim())&&V.add(ma);return V},new Set);return{supportsStatistics:Ra(ba,"supportsStatistics",la.supportsStatistics),supportsPercentileStatistics:Ra(ba,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Ra(ba,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:ab(ba),supportsCentroid:Ra(ba,"supportsReturningGeometryCentroid",
!1),supportsDistance:Ra(ba,"supportsQueryWithDistance",!1),supportsDistinct:Ra(ba,"supportsDistinct",la.supportsAdvancedQueries),supportsExtent:Ra(ba,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Ra(ba,"supportsReturningGeometryProperties",!1),supportsHavingClause:Ra(ba,"supportsHavingClause",!1),supportsOrderBy:Ra(ba,"supportsOrderBy",la.supportsAdvancedQueries),supportsPagination:Ra(ba,"supportsPagination",!1),supportsQuantization:Ra(la,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Ra(la,
"supportsQuantizationEditMode",!1),supportsQueryGeometry:Ra(la,"supportsReturningQueryGeometry",!1),supportsResultType:Ra(ba,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Ra(ba,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Ra(ba,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ra(la,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Ra(ba,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Ra(Ba,"allowOthersToQuery",!0),supportsHistoricMoment:Ra(Ia,"supportsQueryWithHistoricMoment",
!1),supportsFormatPBF:!ua&&Ya.has("pbf"),supportsDisjointSpatialRelationship:Ra(ba,"supportsDisjointSpatialRel",!1),supportsCacheHint:Ra(ba,"supportsQueryWithCacheHint",!1)||db(ba,"query"),supportsDefaultSpatialReference:Ra(ba,"supportsDefaultSR",!1),supportsCompactGeometry:Ma,maxRecordCountFactor:$a(la,"maxRecordCountFactor",void 0),maxRecordCount:$a(la,"maxRecordCount",void 0),standardMaxRecordCount:$a(la,"standardMaxRecordCount",void 0),tileMaxRecordCount:$a(la,"tileMaxRecordCount",void 0)}};Wa._readQueryRelatedCapabilities=
function(la){la=la.advancedQueryCapabilities;const ua=Ra(la,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ra(la,"supportsQueryRelatedPagination",!1),supportsCount:ua,supportsOrderBy:ua,supportsCacheHint:db(la,"queryRelated")}};Wa._readQueryTopFeaturesCapabilities=function(la){return{supportsCacheHint:db(la.advancedQueryCapabilities,"queryTopFilter")}};Wa._readEditingCapabilities=function(la){const ua=la.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Ra(la,"allowGeometryUpdates",
!0),supportsGlobalId:Ra(la,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Ra(la,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Ra(la,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ra(la,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ra(la,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ra(ua,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ra(ua,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ra(ua,
"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ra(ua,"allowOthersToUpdate",!0)}};b._createClass(eb,[{key:"createQueryVersion",get:function(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");
return(this._get("createQueryVersion")||0)+1}},{key:"editingEnabled",get:function(){return this.loaded&&!this.capabilities.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges},set:function(la){null!=la?this._override("editingEnabled",la):this._clearOverride("editingEnabled")}},{key:"parsedUrl",get:function(){const la=this.url?K.urlToObject(this.url):null;null!=la&&(null!=this.dynamicDataSource?la.path=
K.join(la.path,"dynamicLayer"):null!=this.layerId&&(la.path=K.join(la.path,this.layerId.toString())));return la}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(la){W.fixRendererFields(la,this.fieldsIndex);this._set("renderer",la)}},{key:"source",set:function(la){const ua=this._get("source");ua!==la&&(ua&&ua instanceof v&&this._resetMemorySource(ua),la&&la instanceof v&&this._initMemorySource(la),this._set("source",la))}},{key:"url",set:function(la){la=
ha.sanitizeUrlWithLayerId({layer:this,url:la,nonStandardUrlAllowed:!0,logger:gb});this._set("url",la.url);null!=la.layerId&&this._set("layerId",la.layerId)}}]);return eb}(wa.FeatureEffectLayer(Y.BlendLayer(R.OrderedLayer(ea.TemporalLayer(X.ScaleRangeLayer(S.RefreshableLayer(ta.ArcGISService(M.OperationalLayer(da.PortalLayer(B.MultiOriginJSONMixin(pa.CustomParametersMixin(Ha.APIKeyMixin(h.ClonableMixin(oa))))))))))))));c.__decorate([F.property({readOnly:!0,json:{read:!1}})],h.prototype,"capabilities",
void 0);c.__decorate([I.reader("service","capabilities","advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" "))],
h.prototype,"readCapabilities",null);c.__decorate([F.property({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],h.prototype,"charts",void 0);c.__decorate([F.property({readOnly:!0})],h.prototype,"createQueryVersion",null);c.__decorate([F.property({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],h.prototype,"copyright",void 0);c.__decorate([F.property({type:Boolean})],h.prototype,"datesInUnknownTimezone",void 0);
c.__decorate([F.property({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],h.prototype,"displayField",void 0);c.__decorate([F.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],h.prototype,"definitionExpression",void 0);c.__decorate([F.property({types:f.symbolTypes,readOnly:!0})],h.prototype,"defaultSymbol",void 0);c.__decorate([F.property({type:La.DataLayerSource})],
h.prototype,"dynamicDataSource",void 0);c.__decorate([F.property({readOnly:!0})],h.prototype,"editFieldsInfo",void 0);c.__decorate([F.property({type:Boolean})],h.prototype,"editingEnabled",null);c.__decorate([I.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],h.prototype,"readEditingEnabled",null);c.__decorate([I.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],h.prototype,"readEditingEnabledFromWebMap",null);c.__decorate([Q.writer(["portal-item",
"web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],h.prototype,"writeEditingEnabled",null);c.__decorate([Q.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],h.prototype,"writeEditingEnabledToWebMap",null);c.__decorate([F.property({readOnly:!0})],h.prototype,"editingInfo",void 0);c.__decorate([I.reader("editingInfo")],h.prototype,"readEditingInfo",null);c.__decorate([F.property((()=>{const Za=z.clone(ra.elevationInfo),
eb=Za.json.origins;eb["web-map"]={read:!1,write:!1};eb["portal-item"]={read:!1,write:!1};return Za})())],h.prototype,"elevationInfo",void 0);c.__decorate([F.property(N.featureReductionProperty)],h.prototype,"featureReduction",void 0);c.__decorate([F.property({...d.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:ya}}}}})],h.prototype,"fields",void 0);c.__decorate([F.property(d.fieldsIndex)],h.prototype,
"fieldsIndex",void 0);c.__decorate([F.property({type:Oa,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],h.prototype,"floorInfo",void 0);c.__decorate([F.property({type:ca,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],h.prototype,"formTemplate",void 0);c.__decorate([F.property({type:aa,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],h.prototype,"fullExtent",void 0);c.__decorate([F.property()],
h.prototype,"gdbVersion",void 0);c.__decorate([F.property({readOnly:!0,type:ja,json:{read:{source:"geometryProperties"}}})],h.prototype,"geometryFieldsInfo",void 0);c.__decorate([F.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:fb.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:ya,writer(Za,eb,Wa){(Za=Za?fb.toJSON(Za):null)&&E.setDeepValue(Wa,Za,eb)}}}},read:{source:"layerDefinition.geometryType",reader:fb.read}}})],
h.prototype,"geometryType",void 0);c.__decorate([F.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],h.prototype,"hasM",void 0);c.__decorate([F.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],h.prototype,"hasZ",void 0);c.__decorate([F.property({readOnly:!0,type:O})],h.prototype,"heightModelInfo",void 0);c.__decorate([F.property({type:Date})],h.prototype,"historicMoment",void 0);c.__decorate([F.property(ra.id)],
h.prototype,"id",void 0);c.__decorate([F.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],h.prototype,"infoFor3D",void 0);c.__decorate([F.property({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],h.prototype,"isTable",void 0);c.__decorate([I.reader("service","isTable",["type","geometryType"]),I.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],h.prototype,"readIsTable",null);c.__decorate([Q.writer("web-map","isTable")],
h.prototype,"writeIsTable",null);c.__decorate([F.property(ra.labelsVisible)],h.prototype,"labelsVisible",void 0);c.__decorate([F.property({type:[va],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Ga.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Ga.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],h.prototype,"labelingInfo",void 0);c.__decorate([F.property((()=>{const Za=z.clone(ra.opacityDrawingInfo);
Za.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(eb,Wa,la){E.setDeepValue(la,Na.opacityToTransparency(eb),Wa)}}};return Za})())],h.prototype,"opacity",void 0);c.__decorate([F.property({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],h.prototype,"layerId",void 0);c.__decorate([F.property(ra.legendEnabled)],h.prototype,"legendEnabled",void 0);c.__decorate([F.property({type:["show","hide"],
json:(()=>{const Za=z.clone(ra.listMode.json);Za.origins["portal-item"]={read:!1,write:!1};return Za})()})],h.prototype,"listMode",void 0);c.__decorate([F.property(ra.minScale)],h.prototype,"minScale",void 0);c.__decorate([I.reader("service","minScale",["minScale","effectiveMinScale"])],h.prototype,"readMinScale",null);c.__decorate([F.property(ra.maxScale)],h.prototype,"maxScale",void 0);c.__decorate([I.reader("service","maxScale",["maxScale","effectiveMaxScale"])],h.prototype,"readMaxScale",null);
c.__decorate([F.property({type:String})],h.prototype,"globalIdField",void 0);c.__decorate([I.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),I.reader("service","globalIdField",["globalIdField","fields"])],h.prototype,"readGlobalIdFieldFromService",null);c.__decorate([F.property({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:ya}}}}})],h.prototype,"objectIdField",void 0);c.__decorate([I.reader("objectIdField",["layerDefinition.objectIdField",
"layerDefinition.fields"]),I.reader("service","objectIdField",["objectIdField","fields"])],h.prototype,"readObjectIdFieldFromService",null);c.__decorate([F.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],h.prototype,"operationalLayerType",void 0);c.__decorate([F.property(d.outFields)],h.prototype,"outFields",void 0);c.__decorate([F.property({readOnly:!0})],h.prototype,"parsedUrl",null);c.__decorate([F.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],
h.prototype,"path",void 0);c.__decorate([F.property(ra.popupEnabled)],h.prototype,"popupEnabled",void 0);c.__decorate([F.property({type:e,json:{name:"popupInfo",write:!0}})],h.prototype,"popupTemplate",void 0);c.__decorate([F.property({readOnly:!0})],h.prototype,"defaultPopupTemplate",null);c.__decorate([F.property({type:[ka],readOnly:!0})],h.prototype,"relationships",void 0);c.__decorate([F.property({types:m.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},
"web-scene":{types:m.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(Za,eb,Wa){return{ignoreOrigin:null==Wa?void 0:Wa.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(Za,eb,Wa){return{ignoreOrigin:null==Wa?void 0:Wa.writeLayerSchema}}}}})],h.prototype,"renderer",null);c.__decorate([I.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),I.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],
h.prototype,"readRenderer",null);c.__decorate([F.property()],h.prototype,"sourceJSON",void 0);c.__decorate([F.property({type:Boolean})],h.prototype,"returnM",void 0);c.__decorate([F.property({type:Boolean})],h.prototype,"returnZ",void 0);c.__decorate([F.property((()=>{const Za=z.clone(ra.screenSizePerspectiveEnabled);Za.json.origins["portal-item"]={read:!1,write:!1};return Za})())],h.prototype,"screenSizePerspectiveEnabled",void 0);c.__decorate([F.property({clonable:!1})],h.prototype,"source",null);
c.__decorate([H.cast("source")],h.prototype,"castSource",null);c.__decorate([I.reader("portal-item","source",["featureSet"]),I.reader("web-map","source",["featureSet"])],h.prototype,"readSource",null);c.__decorate([F.property({readOnly:!0})],h.prototype,"serviceDefinitionExpression",void 0);c.__decorate([I.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],h.prototype,"readServiceDefinitionExpression",null);c.__decorate([F.property({type:fa,json:{origins:{service:{read:{source:"extent.spatialReference"}}},
read:{source:"layerDefinition.extent.spatialReference"}}})],h.prototype,"spatialReference",void 0);c.__decorate([F.property({type:Number})],h.prototype,"subtypeCode",void 0);c.__decorate([F.property({type:String,json:{origins:{service:{read:!0}}}})],h.prototype,"subtypeField",void 0);c.__decorate([F.property({type:[U]})],h.prototype,"templates",void 0);c.__decorate([I.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],h.prototype,"readTemplates",null);c.__decorate([F.property({type:xa})],
h.prototype,"timeInfo",void 0);c.__decorate([F.property()],h.prototype,"title",void 0);c.__decorate([I.reader("service","title",["name"]),I.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],h.prototype,"readTitle",null);c.__decorate([I.reader("web-map","title",["layerDefinition.name","title"])],h.prototype,"readTitleFromWebMap",null);c.__decorate([F.property({type:String})],h.prototype,"sublayerTitleMode",void 0);c.__decorate([F.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],
h.prototype,"trackIdField",void 0);c.__decorate([F.property({json:{read:!1}})],h.prototype,"type",void 0);c.__decorate([F.property({type:String})],h.prototype,"typeIdField",void 0);c.__decorate([I.reader("service","typeIdField"),I.reader("typeIdField",["layerDefinition.typeIdField"])],h.prototype,"readTypeIdField",null);c.__decorate([F.property({type:[P]})],h.prototype,"types",void 0);c.__decorate([I.reader("service","types",["types"]),I.reader("types",["layerDefinition.types"])],h.prototype,"readTypes",
null);c.__decorate([F.property({readOnly:!0,json:{write:!1}})],h.prototype,"serverGens",void 0);c.__decorate([F.property({type:v.ofType(na.FeatureIndex),readOnly:!0})],h.prototype,"indexes",void 0);c.__decorate([F.property(ra.url)],h.prototype,"url",null);c.__decorate([Q.writer("url")],h.prototype,"writeUrl",null);c.__decorate([F.property({readOnly:!0})],h.prototype,"userIsAdmin",void 0);c.__decorate([F.property({json:{origins:{service:{read:!0}},read:!1}})],h.prototype,"version",void 0);c.__decorate([I.reader("service",
"version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],h.prototype,"readVersion",null);c.__decorate([F.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],h.prototype,"visible",void 0);c.__decorate([I.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],h.prototype,"readVisible",null);h=c.__decorate([L.subclass("esri.layers.FeatureLayer")],
h);const jb=Z.createTypeReader({types:f.symbolTypesRenderer});return h})},"esri/PopupTemplate":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E,G,J,K){var F;x=c.ofType({key:"type",defaultKeyValue:"button",base:x,typeMap:{button:y,toggle:z}});const H={base:J,key:"type",typeMap:{media:A,custom:K,text:C,attachments:B,fields:E,expression:G}},I=p.getLogger("esri.PopupTemplate"),L=["attachments","fields","media","text","expression"];e=F=function(Q){function Z(){var aa=Q.apply(this,arguments)||this;aa.actions=null;aa.content="";aa.expressionInfos=null;aa.fieldInfos=null;aa.layerOptions=
null;aa.lastEditInfoEnabled=!0;aa.outFields=null;aa.overwriteActions=!1;aa.returnGeometry=!1;aa.title="";aa.relatedRecordsInfo=null;return aa}a._inheritsLoose(Z,Q);var ca=Z.prototype;ca.castContent=function(aa){if(Array.isArray(aa))return aa.map(O=>q.ensureOneOfType(H,O));if("string"===typeof aa||"function"===typeof aa||aa instanceof HTMLElement||r.isPromiseLike(aa))return aa;I.error("content error","unsupported content value",{value:aa});return null};ca.readContent=function(aa,O){({popupElements:aa}=
O);return Array.isArray(aa)&&0<aa.length?this._readPopupInfoElements(O):this._readPopupInfo(O)};ca.writeContent=function(aa,O,fa,oa){"string"===typeof aa?O.description=aa:Array.isArray(aa)&&(O.popupElements=aa.filter(Da=>L.includes(Da.type)).map(Da=>Da&&Da.toJSON(oa)),O.popupElements.forEach(Da=>{"attachments"===Da.type?this._writeAttachmentContent(O):"media"===Da.type?this._writeMediaContent(Da,O):"text"===Da.type&&this._writeTextContent(Da,O)}))};ca.writeFieldInfos=function(aa,O,fa,oa){({content:fa}=
this);fa=Array.isArray(fa)?fa:null;if(aa){const Da=fa?fa.filter(ta=>"fields"===ta.type):[],Ha=Da.length&&Da.every(ta=>{var Y;return null==(Y=ta.fieldInfos)?void 0:Y.length});O.fieldInfos=aa.filter(Boolean).map(ta=>{ta=ta.toJSON(oa);Ha&&(ta.visible=!1);return ta})}if(fa)for(const Da of fa)"fields"===Da.type&&this._writeFieldsContent(Da,O)};ca.writeLayerOptions=function(aa,O,fa,oa){O[fa]=!aa||null===aa.showNoDataRecords&&null===aa.returnTopmostRaster?null:aa.toJSON(oa)};ca.writeTitle=function(aa,O){O.title=
aa||""};ca.clone=function(){var {actions:aa}=this;aa=aa?d.clone(aa.toArray()):[];return new F({actions:aa,content:Array.isArray(this.content)?d.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?d.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?d.clone(this.fieldInfos):null,layerOptions:this.layerOptions?d.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?d.clone(this.outFields):
null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?d.clone(this.relatedRecordsInfo):null})};ca.collectRequiredFields=function(){var aa=a._asyncToGenerator(function*(O,fa){const oa=this.expressionInfos||[];yield this._collectExpressionInfoFields(O,fa,[...oa,...this._getContentExpressionInfos(this.content,oa)]);m.collectFields(O,fa,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),
...this._getContentFields(this.content)])});return function(O,fa){return aa.apply(this,arguments)}}();ca.getRequiredFields=function(){var aa=a._asyncToGenerator(function*(O){const fa=new Set;yield this.collectRequiredFields(fa,O);return[...fa].sort()});return function(O){return aa.apply(this,arguments)}}();ca._writeFieldsContent=function(aa,O){Array.isArray(aa.fieldInfos)&&aa.fieldInfos.length&&(aa=d.clone(aa.fieldInfos),Array.isArray(O.fieldInfos)?aa.forEach(fa=>{const oa=O.fieldInfos.find(Da=>Da.fieldName.toLowerCase()===
fa.fieldName.toLowerCase());oa?oa.visible=!0:O.fieldInfos.push(fa)}):O.fieldInfos=aa)};ca._writeAttachmentContent=function(aa){aa.showAttachments||(aa.showAttachments=!0)};ca._writeTextContent=function(aa,O){!O.description&&aa.text&&(O.description=aa.text)};ca._writeMediaContent=function(aa,O){Array.isArray(aa.mediaInfos)&&aa.mediaInfos.length&&(aa=d.clone(aa.mediaInfos),Array.isArray(O.mediaInfos)?O.mediaInfos=[...O.mediaInfos,...aa]:O.mediaInfos=aa)};ca._readPopupInfoElements=function({description:aa,
mediaInfos:O,popupElements:fa}){var oa=!1,Da=!1;return fa.map(Ha=>{if("media"===Ha.type)return Ha.mediaInfos||!O||Da||(Ha.mediaInfos=O,Da=!0),A.fromJSON(Ha);if("text"===Ha.type)return Ha.text||!aa||oa||(Ha.text=aa,oa=!0),C.fromJSON(Ha);if("attachments"===Ha.type)return B.fromJSON(Ha);if("fields"===Ha.type)return E.fromJSON(Ha);if("expression"===Ha.type)return G.fromJSON(Ha)}).filter(Boolean)};ca._readPopupInfo=function({description:aa,mediaInfos:O,showAttachments:fa}){const oa=[];aa?oa.push(new C({text:aa})):
oa.push(new E);Array.isArray(O)&&O.length&&oa.push(A.fromJSON({mediaInfos:O}));fa&&oa.push(B.fromJSON({displayType:"auto"}));return oa.length?oa:aa};ca._getContentElementFields=function(aa){var O=null==aa?void 0:aa.type;return"attachments"===O?[...this._extractFieldNames(aa.title),...this._extractFieldNames(aa.description)]:"custom"===O?aa.outFields||[]:"fields"===O?[...this._extractFieldNames(aa.title),...this._extractFieldNames(aa.description),...this._getFieldInfoFields(aa.fieldInfos||this.fieldInfos)]:
"media"===O?(O=aa.mediaInfos||[],[...this._extractFieldNames(aa.title),...this._extractFieldNames(aa.description),...O.reduce((fa,oa)=>[...fa,...this._getMediaInfoFields(oa)],[])]):"text"===O?this._extractFieldNames(aa.text):[]};ca._getMediaInfoFields=function(aa){const {caption:O,title:fa,value:oa}=aa,{fields:Da=[],normalizeField:Ha,tooltipField:ta,sourceURL:Y,linkURL:pa}=oa||{};aa=[...this._extractFieldNames(fa),...this._extractFieldNames(O),...this._extractFieldNames(Y),...this._extractFieldNames(pa),
...Da];Ha&&aa.push(Ha);ta&&aa.push(ta);return aa};ca._getContentExpressionInfos=function(aa,O){return Array.isArray(aa)?aa.reduce((fa,oa)=>[...fa,..."expression"===oa.type&&oa.expressionInfo?[oa.expressionInfo]:[]],O):[]};ca._getContentFields=function(aa){return"string"===typeof aa?this._extractFieldNames(aa):Array.isArray(aa)?aa.reduce((O,fa)=>[...O,...this._getContentElementFields(fa)],[]):[]};ca._collectExpressionInfoFields=function(){var aa=a._asyncToGenerator(function*(O,fa,oa){oa&&(yield Promise.all(oa.map(Da=>
m.collectArcadeFieldNames(O,fa,Da.expression))))});return function(O,fa,oa){return aa.apply(this,arguments)}}();ca._getFieldInfoFields=function(aa){return aa?aa.filter(O=>"undefined"===typeof O.visible?!0:!!O.visible).map(O=>O.fieldName).filter(O=>!O.includes("relationships/")&&!O.includes("expression/")):[]};ca._getActionsFields=function(aa){return aa?aa.toArray().reduce((O,fa)=>[...O,...this._getActionFields(fa)],[]):[]};ca._getActionFields=function(aa){const {className:O,title:fa,type:oa}=aa;aa=
"button"===oa||"toggle"===oa?aa.image:"";return[...this._extractFieldNames(fa),...this._extractFieldNames(O),...this._extractFieldNames(aa)]};ca._getTitleFields=function(aa){return"string"===typeof aa?this._extractFieldNames(aa):[]};ca._extractFieldNames=function(aa){if(!aa||"string"!==typeof aa)return[];aa=aa.match(/{[^}]*}/g);if(!aa)return[];const O=/\{(\w+):.+\}/;return(aa=aa.filter(fa=>!(0===fa.indexOf("{relationships/")||0===fa.indexOf("{expression/"))).map(fa=>fa.replace(O,"{$1}")))?aa.map(fa=>
fa.slice(1,-1)):[]};return Z}(e.JSONSupport);b.__decorate([u.property({type:x})],e.prototype,"actions",void 0);b.__decorate([u.property()],e.prototype,"content",void 0);b.__decorate([n.cast("content")],e.prototype,"castContent",null);b.__decorate([k.reader("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],e.prototype,"readContent",null);b.__decorate([l.writer("content",{popupElements:{type:c.ofType(t.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(D.types)},
description:{type:String}})],e.prototype,"writeContent",null);b.__decorate([u.property({type:[f],json:{write:!0}})],e.prototype,"expressionInfos",void 0);b.__decorate([u.property({type:[h]})],e.prototype,"fieldInfos",void 0);b.__decorate([l.writer("fieldInfos")],e.prototype,"writeFieldInfos",null);b.__decorate([u.property({type:v})],e.prototype,"layerOptions",void 0);b.__decorate([l.writer("layerOptions")],e.prototype,"writeLayerOptions",null);b.__decorate([u.property({type:Boolean,json:{read:{source:"showLastEditInfo"},
write:{target:"showLastEditInfo"},default:!0}})],e.prototype,"lastEditInfoEnabled",void 0);b.__decorate([u.property()],e.prototype,"outFields",void 0);b.__decorate([u.property()],e.prototype,"overwriteActions",void 0);b.__decorate([u.property()],e.prototype,"returnGeometry",void 0);b.__decorate([u.property({json:{type:String}})],e.prototype,"title",void 0);b.__decorate([l.writer("title")],e.prototype,"writeTitle",null);b.__decorate([u.property({type:w,json:{write:!0}})],e.prototype,"relatedRecordsInfo",
void 0);return e=F=b.__decorate([g.subclass("esri.PopupTemplate")],e)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),function(a,b,c,e,d,p,r,u){const n={base:null,key:"type",typeMap:{attachment:b,media:r,text:u,expression:d,field:p}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=e;a.ExpressionContent=d;a.FieldsContent=
p;a.MediaContent=r;a.TextContent=u;a.isContent=function(k){return k instanceof c};a.persistableTypes=n;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.description=null;l.displayType="auto";l.title=null;l.type="attachments";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({description:this.description,displayType:this.displayType,title:this.title})};return g}(u);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"description",void 0);b.__decorate([c.property({type:["auto","preview","list"],json:{write:!0}})],e.prototype,
"displayType",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);b.__decorate([c.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.popup.content.AttachmentsContent")],e)})},"esri/popup/content/Content":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(n){function k(g){g=n.call(this,g)||this;g.type=null;return g}a._inheritsLoose(k,n);return k}(c.JSONSupport);b.__decorate([e.property({type:"attachments custom fields media text expression".split(" "),readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([u.subclass("esri.popup.content.Content")],c)})},"esri/popup/content/CustomContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,p,r){var u;d=u=function(n){function k(g){g=n.call(this,g)||this;g.creator=null;g.destroyer=null;g.outFields=null;g.type="custom";return g}a._inheritsLoose(k,n);k.prototype.clone=function(){return new u({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?c.clone(this.outFields):null})};return k}(r);b.__decorate([e.property()],d.prototype,"creator",void 0);b.__decorate([e.property()],d.prototype,"destroyer",void 0);b.__decorate([e.property()],d.prototype,
"outFields",void 0);b.__decorate([e.property({type:["custom"],readOnly:!0})],d.prototype,"type",void 0);return d=u=b.__decorate([p.subclass("esri.popup.content.CustomContent")],d)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.expressionInfo=null;q.type="expression";return q}a._inheritsLoose(l,g);l.prototype.clone=function(){var q;return new k({expressionInfo:null==(q=this.expressionInfo)?void 0:q.clone()})};return l}(n);b.__decorate([c.property({type:u,json:{write:!0}})],e.prototype,"expressionInfo",void 0);b.__decorate([c.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=k=b.__decorate([r.subclass("esri.popup.content.ExpressionContent")],
e)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.title=null;l.expression=null;l.returnType="dictionary";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({title:this.title,
expression:this.expression})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"returnType",void 0);return c=n=b.__decorate([u.subclass("esri.popup.ElementExpressionInfo")],c)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;d=k=function(g){function l(m){m=g.call(this,m)||this;m.attributes=null;m.description=null;m.fieldInfos=null;m.title=null;m.type="fields";return m}a._inheritsLoose(l,g);var q=l.prototype;q.writeFieldInfos=function(m,t){t.fieldInfos=m&&m.map(f=>f.toJSON())};q.clone=function(){return new k(c.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))};return l}(n);b.__decorate([e.property({type:Object,json:{write:!0}})],
d.prototype,"attributes",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({type:[u]})],d.prototype,"fieldInfos",void 0);b.__decorate([r.writer("fieldInfos")],d.prototype,"writeFieldInfos",null);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);b.__decorate([e.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=k=b.__decorate([p.subclass("esri.popup.content.FieldsContent")],
d)})},"esri/popup/FieldInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),function(a,b,c,e,d,p,r,u,n,k){var g;e=g=function(l){function q(m){m=l.call(this,m)||this;m.fieldName=null;m.format=null;m.isEditable=!1;m.label=
null;m.stringFieldOption="text-box";m.statisticType=null;m.tooltip=null;m.visible=!0;return m}a._inheritsLoose(q,l);q.prototype.clone=function(){return new g({fieldName:this.fieldName,format:this.format?d.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};return q}(e.JSONSupport);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"fieldName",void 0);
b.__decorate([p.property({type:k,json:{write:!0}})],e.prototype,"format",void 0);b.__decorate([p.property({type:Boolean,json:{write:!0,default:!1}})],e.prototype,"isEditable",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([u.enumeration(new c.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],e.prototype,"stringFieldOption",void 0);b.__decorate([p.property({type:"count sum min max avg stddev var".split(" "),
json:{write:!0}})],e.prototype,"statisticType",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"tooltip",void 0);b.__decorate([p.property({type:Boolean,json:{write:!0}})],e.prototype,"visible",void 0);return e=g=b.__decorate([n.subclass("esri.popup.FieldInfo")],e)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date ../../intl/number".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;e=q=function(m){function t(h){h=m.call(this,h)||this;h.dateFormat=null;h.dateTimeFormatOptions=null;h.digitSeparator=!1;h.places=null;return h}a._inheritsLoose(t,m);var f=t.prototype;f.clone=function(){return new q({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};f.format=function(h){return this.dateFormat?g.formatDate(h,{...g.convertDateFormatToIntlOptions(this.dateFormat),...this.dateTimeFormatOptions}):l.formatNumber(h,
l.convertNumberFormatToIntlOptions(this))};f.formatRasterPixelValue=function(h){let v;return h.trim().includes(",")?(v=",",this._formatDelimitedString(h,v,v+" ",this)):h.trim().includes(";")?(v=";",this._formatDelimitedString(h,v,v+" ",this)):h.trim().includes(" ")?this._formatDelimitedString(h," "," ",this):this.format(Number(h))};f._formatDelimitedString=function(h,v,w,D){return h&&v&&w&&D?h.trim().split(v).map(x=>this.format(Number(x))).join(w):h};return t}(e.JSONSupport);b.__decorate([n.enumeration(c.dictionary)],
e.prototype,"dateFormat",void 0);b.__decorate([d.property({type:Object,json:{read:!1}})],e.prototype,"dateTimeFormatOptions",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],e.prototype,"digitSeparator",void 0);b.__decorate([d.property({type:u.Integer,json:{write:!0}})],e.prototype,"places",void 0);return e=q=b.__decorate([k.subclass("esri.popup.support.FieldInfoFormat")],e)})},"esri/core/date":function(){define(["exports","./jsonMap"],function(a,b){const c={"short-date":"(datePattern: 'M/d/y', selector: 'date')",
"short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const e=b.toJSON.bind(b),d=b.fromJSON.bind(b);a.dictionary=b;a.formats=c;a.fromJSON=d;a.getFormat=function(p){return c[p]};a.toJSON=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/popup/content/MediaContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){var f;d=f=function(h){function v(D){D=h.call(this,D)||this;D.activeMediaInfoIndex=null;D.attributes=null;D.description=null;D.mediaInfos=null;D.title=null;D.type="media";return D}a._inheritsLoose(v,h);var w=v.prototype;w.readMediaInfos=function(D){return D&&D.map(x=>{if("image"===x.type)return l.fromJSON(x);if("barchart"===x.type)return n.fromJSON(x);if("columnchart"===x.type)return k.fromJSON(x);if("linechart"===x.type)return q.fromJSON(x);if("piechart"===
x.type)return m.fromJSON(x)}).filter(Boolean)};w.writeMediaInfos=function(D,x){x.mediaInfos=D&&D.map(y=>y.toJSON())};w.clone=function(){return new f(c.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))};return v}(g);b.__decorate([e.property()],d.prototype,"activeMediaInfoIndex",void 0);b.__decorate([e.property({type:Object,json:{write:!0}})],d.prototype,"attributes",void 0);b.__decorate([e.property({type:String,
json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({types:[t.types]})],d.prototype,"mediaInfos",void 0);b.__decorate([p.reader("mediaInfos")],d.prototype,"readMediaInfos",null);b.__decorate([u.writer("mediaInfos")],d.prototype,"writeMediaInfos",null);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);b.__decorate([e.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=f=b.__decorate([r.subclass("esri.popup.content.MediaContent")],
d)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.type="bar-chart";return q}a._inheritsLoose(l,g);l.prototype.clone=
function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return l}(u);b.__decorate([c.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:n.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=k=b.__decorate([r.subclass("esri.popup.content.BarChartMediaInfo")],e)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,e,d,p,r,u,n){e=function(k){function g(l){l=k.call(this,l)||this;l.type=null;l.value=null;return l}a._inheritsLoose(g,k);return g}(u);b.__decorate([c.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:n,json:{write:!0}})],e.prototype,"value",void 0);return e=b.__decorate([r.subclass("esri.popup.content.mixins.ChartMediaInfo")],e)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(n){function k(g){g=n.call(this,g)||this;g.altText=null;g.caption="";g.title="";g.type=null;return g}a._inheritsLoose(k,n);return k}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"altText",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:["image","bar-chart","column-chart",
"line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([u.subclass("esri.popup.content.mixins.MediaInfo")],c)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),
function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.fields=[];l.normalizeField=null;l.series=[];l.tooltipField=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({fields:e.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};return g}(c.JSONSupport);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,
"normalizeField",void 0);b.__decorate([d.property({type:[u],json:{read:!1}})],c.prototype,"series",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=n=b.__decorate([r.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.fieldName=null;l.tooltip=null;l.value=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})};return g}(c);b.__decorate([e.property()],c.prototype,"fieldName",void 0);b.__decorate([e.property()],c.prototype,"tooltip",void 0);b.__decorate([e.property()],c.prototype,"value",void 0);return c=n=b.__decorate([u.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
c)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.type="column-chart";return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return l}(u);b.__decorate([c.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:n.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=k=b.__decorate([r.subclass("esri.popup.content.ColumnChartMediaInfo")],
e)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.refreshInterval=null;q.type="image";q.value=null;return q}a._inheritsLoose(l,
g);l.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};return l}(u);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"refreshInterval",void 0);b.__decorate([c.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:n,json:{write:!0}})],e.prototype,"value",void 0);return e=k=b.__decorate([r.subclass("esri.popup.content.ImageMediaInfo")],
e)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.linkURL=null;l.sourceURL=null;return l}a._inheritsLoose(g,
k);g.prototype.clone=function(){return new n({linkURL:this.linkURL,sourceURL:this.sourceURL})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=n=b.__decorate([u.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.type="line-chart";return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return l}(u);b.__decorate([c.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:n.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=k=b.__decorate([r.subclass("esri.popup.content.LineChartMediaInfo")],
e)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.type="pie-chart";return q}a._inheritsLoose(l,g);l.prototype.clone=
function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return l}(u);b.__decorate([c.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:n.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=k=b.__decorate([r.subclass("esri.popup.content.PieChartMediaInfo")],e)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,e,d,p,r){a.types={base:r,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":d,"pie-chart":p,image:e}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/popup/content/TextContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.text=null;l.type="text";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({text:this.text})};return g}(u);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);b.__decorate([c.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.popup.content.TextContent")],e)})},"esri/popup/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.name=null;l.title=null;l.expression=null;l.returnType=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);
b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0);return c=n=b.__decorate([u.subclass("esri.popup.ExpressionInfo")],c)})},"esri/popup/LayerOptions":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.returnTopmostRaster=null;l.showNoDataRecords=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};return g}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"returnTopmostRaster",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoDataRecords",
void 0);return c=n=b.__decorate([u.subclass("esri.popup.LayerOptions")],c)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.showRelatedRecords=null;
l.orderByFields=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?e.clone(this.orderByFields):null})};return g}(c.JSONSupport);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);b.__decorate([d.property({type:[u],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=n=b.__decorate([r.subclass("esri.popup.RelatedRecordsInfo")],c)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.field=null;l.order=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({field:this.field,order:this.order})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([e.property({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=n=b.__decorate([u.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],
c)})},"esri/support/actions/ActionBase":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(q){q=g.call(this,q)||this;q.active=!1;q.className=null;q.disabled=!1;q.id=null;q.indicator=!1;
q.title=null;q.type=null;q.visible=!0;return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};return l}(e.IdentifiableMixin(c));b.__decorate([d.property()],c.prototype,"active",void 0);b.__decorate([d.property()],c.prototype,"className",void 0);b.__decorate([d.property()],c.prototype,"disabled",void 0);b.__decorate([d.property()],c.prototype,
"id",void 0);b.__decorate([d.property()],c.prototype,"indicator",void 0);b.__decorate([d.property()],c.prototype,"title",void 0);b.__decorate([d.property()],c.prototype,"type",void 0);b.__decorate([d.property()],c.prototype,"visible",void 0);return c=k=b.__decorate([n.subclass("esri.support.actions.ActionBase")],c)})},"esri/support/actions/ActionButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.image=null;l.type="button";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};return g}(u);b.__decorate([c.property()],e.prototype,"image",void 0);return e=n=b.__decorate([r.subclass("esri.support.Action.ActionButton")],e)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.image=null;l.type="toggle";l.value=!1;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};return g}(u);b.__decorate([c.property()],e.prototype,"image",void 0);b.__decorate([c.property()],e.prototype,"value",void 0);
return e=n=b.__decorate([r.subclass("esri.support.Action.ActionToggle")],e)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x){var y;const z=p.getLogger("esri.renderers.ClassBreaksRenderer");e=new e.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const A=m.ensureType(v);f=y=function(C){function B(G){G=C.call(this,G)||this;G._compiledValueExpression={valueExpression:null,compiledFunction:null};G.backgroundFillSymbol=null;G.classBreakInfos=null;G.defaultLabel=null;G.defaultSymbol=null;G.field=null;G.isMaxInclusive=
!0;G.legendOptions=null;G.normalizationField=null;G.normalizationTotal=null;G.type="class-breaks";G.valueExpression=null;G.valueExpressionTitle=null;G._set("classBreakInfos",[]);return G}a._inheritsLoose(B,C);var E=B.prototype;E.readClassBreakInfos=function(G,J,K){if(Array.isArray(G)){var F=J.minValue;return G.map(H=>{const I=new v;I.read(H,K);null==I.minValue&&(I.minValue=F);null==I.maxValue&&(I.maxValue=I.minValue);F=I.maxValue;return I})}};E.writeClassBreakInfos=function(G,J,K,F){G=G.map(H=>H.write({},
F));this._areClassBreaksConsecutive()&&G.forEach(H=>delete H.classMinValue);J[K]=G};E.castField=function(G){return null==G?G:"function"===typeof G?(z.error(".field: field must be a string value"),null):m.ensureString(G)};E.addClassBreakInfo=function(G,J,K){let F=null;F="number"===typeof G?new v({minValue:G,maxValue:J,symbol:c.ensureType(K)}):A(d.clone(G));this.classBreakInfos.push(F);1===this.classBreakInfos.length&&this.notifyChange("minValue")};E.removeClassBreakInfo=function(G,J){const K=this.classBreakInfos.length;
for(let F=0;F<K;F++){const H=[this.classBreakInfos[F].minValue,this.classBreakInfos[F].maxValue];if(H[0]===G&&H[1]===J){this.classBreakInfos.splice(F,1);break}}};E.getBreakIndex=function(G,J){this.valueExpression&&(r.isNone(J)||r.isNone(J.arcade))&&z.warn("");return this.valueExpression?this._getBreakIndexForExpression(G,J):this._getBreakIndexForField(G)};E.getClassBreakInfo=function(){var G=a._asyncToGenerator(function*(J,K){let F=K;this.valueExpression&&(r.isNone(K)||r.isNone(K.arcade))&&(F={...F,
arcade:yield x.loadArcade()});J=this.getBreakIndex(J,F);return-1!==J?this.classBreakInfos[J]:null});return function(J,K){return G.apply(this,arguments)}}();E.getSymbol=function(G,J){if(this.valueExpression&&(r.isNone(J)||r.isNone(J.arcade)))z.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return G=this.getBreakIndex(G,J),-1<G?this.classBreakInfos[G].symbol:this.defaultSymbol};E.getSymbolAsync=function(){var G=a._asyncToGenerator(function*(J,K){let F=K;if(this.valueExpression&&
(r.isNone(K)||r.isNone(K.arcade))){K=yield x.loadArcade();const {arcadeUtils:H}=K;H.hasGeometryOperations(this.valueExpression)&&(yield H.enableGeometryOperations());F={...F,arcade:K}}J=this.getBreakIndex(J,F);return-1<J?this.classBreakInfos[J].symbol:this.defaultSymbol});return function(J,K){return G.apply(this,arguments)}}();E.getSymbols=function(){const G=[];this.classBreakInfos.forEach(J=>{J.symbol&&G.push(J.symbol)});this.defaultSymbol&&G.push(this.defaultSymbol);return G};E.getAttributeHash=
function(){return this.visualVariables&&this.visualVariables.reduce((G,J)=>G+J.getAttributeHash(),"")};E.getMeshHash=function(){const G=JSON.stringify(this.backgroundFillSymbol),J=JSON.stringify(this.defaultSymbol),K=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,F=this.classBreakInfos.reduce((H,I)=>H+I.getMeshHash(),"");return`${G}.${J}.${F}.${K}.${this.field}.${this.valueExpression}`};E.clone=function(){return new y({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&
this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:d.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:d.clone(this.visualVariables),legendOptions:d.clone(this.legendOptions),
authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};E.collectRequiredFields=function(){var G=a._asyncToGenerator(function*(J,K){J=[this.collectVVRequiredFields(J,K),this.collectSymbolFields(J,K)];yield Promise.all(J)});return function(J,K){return G.apply(this,arguments)}}();E.collectSymbolFields=function(){var G=a._asyncToGenerator(function*(J,K){const F=[...this.getSymbols().map(H=>H.collectRequiredFields(J,K)),t.collectArcadeFieldNames(J,K,this.valueExpression)];t.collectField(J,K,this.field);
t.collectField(J,K,this.normalizationField);yield Promise.all(F)});return function(J,K){return G.apply(this,arguments)}}();E._getBreakIndexForExpression=function(G,J){const {viewingMode:K,scale:F,spatialReference:H,arcade:I}=r.unwrapOr(J,{});var L=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;J=r.unwrap(I).arcadeUtils;L||(L=J.createSyntaxTree(this.valueExpression),L=J.createFunction(L),this._compiledValueExpression.compiledFunction=
L);this._compiledValueExpression.valueExpression=this.valueExpression;G=J.executeFunction(L,J.createExecContext(G,J.getViewInfo({viewingMode:K,scale:F,spatialReference:H})));return this._getBreakIndexfromInfos(G)};E._getBreakIndexForField=function(G){var J=G.attributes;G=this.normalizationType;let K=parseFloat(J[this.field]);if(G){const F=this.normalizationTotal;J=parseFloat(J[this.normalizationField]);if("log"===G)K=Math.log(K)*Math.LOG10E;else if("percent-of-total"===G&&!isNaN(F))K=K/F*100;else if("field"===
G&&!isNaN(J)){if(isNaN(K)||isNaN(J))return-1;K/=J}}return this._getBreakIndexfromInfos(K)};E._getBreakIndexfromInfos=function(G){const J=this.isMaxInclusive;if(null!=G&&"number"===typeof G&&!isNaN(G))for(let K=0;K<this.classBreakInfos.length;K++){const F=[this.classBreakInfos[K].minValue,this.classBreakInfos[K].maxValue];if(F[0]<=G&&(J?G<=F[1]:G<F[1]))return K}return-1};E._areClassBreaksConsecutive=function(){const G=this.classBreakInfos,J=G.length;for(let K=1;K<J;K++)if(G[K-1].maxValue!==G[K].minValue)return!1;
return!0};a._createClass(B,[{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){let G=this._get("normalizationType");const J=!!this.normalizationField,K=null!=this.normalizationTotal;if(J||K)G=J&&"field"||K&&"percent-of-total"||null,J&&K&&z.warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===G||"percent-of-total"===G)G=null;return G},set:function(G){this._set("normalizationType",
G)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return B}(h.VisualVariablesMixin(f));b.__decorate([u.property(w.rendererBackgroundFillSymbolProperty)],f.prototype,"backgroundFillSymbol",void 0);b.__decorate([u.property({type:[v]})],f.prototype,"classBreakInfos",void 0);b.__decorate([g.reader("classBreakInfos")],f.prototype,"readClassBreakInfos",null);b.__decorate([q.writer("classBreakInfos")],f.prototype,"writeClassBreakInfos",null);
b.__decorate([u.property({type:String,json:{write:!0}})],f.prototype,"defaultLabel",void 0);b.__decorate([u.property(w.rendererSymbolProperty)],f.prototype,"defaultSymbol",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],f.prototype,"field",void 0);b.__decorate([n.cast("field")],f.prototype,"castField",null);b.__decorate([u.property({type:Boolean})],f.prototype,"isMaxInclusive",void 0);b.__decorate([u.property({type:D.LegendOptions,json:{write:!0}})],f.prototype,"legendOptions",void 0);
b.__decorate([u.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],f.prototype,"minValue",null);b.__decorate([u.property({type:String,json:{write:!0}})],f.prototype,"normalizationField",void 0);b.__decorate([u.property({type:Number,cast:C=>m.ensureNumber(C),json:{write:!0}})],f.prototype,"normalizationTotal",void 0);b.__decorate([u.property({type:e.apiValues,value:null,
json:{type:e.jsonValues,read:e.read,write:e.write}})],f.prototype,"normalizationType",null);b.__decorate([k.enumeration({classBreaks:"class-breaks"})],f.prototype,"type",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0);return f=y=b.__decorate([l.subclass("esri.renderers.ClassBreaksRenderer")],f)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./chunks/LineCallout3DBorder".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E,G,J,K,F,H){const I={base:A,key:"type",typeMap:{"simple-fill":x,"picture-fill":h,"picture-marker":v,"simple-line":y,"simple-marker":z,text:E,"label-3d":k,"line-3d":g,"mesh-3d":m,"point-3d":w,"polygon-3d":D,"web-style":K,cim:e},errorContext:"symbol"},L={base:A,key:"type",typeMap:{"picture-marker":v,"simple-marker":z,text:E,"web-style":K,cim:e},errorContext:"symbol"};c=c.createTypeReader({types:I});const Q={base:A,key:"type",typeMap:{"simple-fill":x,
"picture-fill":h,"picture-marker":v,"simple-line":y,"simple-marker":z,text:E,"line-3d":g,"mesh-3d":m,"point-3d":w,"polygon-3d":D,"web-style":K,cim:e},errorContext:"symbol"},Z={base:A,key:"type",typeMap:{text:E,"label-3d":k},errorContext:"symbol"},ca={base:A,key:"type",typeMap:{"label-3d":k,"line-3d":g,"mesh-3d":m,"point-3d":w,"polygon-3d":D,"web-style":K},errorContext:"symbol"},aa={base:A,key:"type",typeMap:{"line-3d":g,"mesh-3d":m,"point-3d":w,"polygon-3d":D,"web-style":K,cim:e},errorContext:"symbol"},
O={base:A,key:"type",typeMap:{"label-3d":k},errorContext:"symbol"};b=b.ensureOneOfType(I);a.CIMSymbol=e;a.ExtrudeSymbol3DLayer=d;a.BaseFillSymbol=p;a.FillSymbol3DLayer=r;a.Font=u;a.IconSymbol3DLayer=n;a.LabelSymbol3D=k;a.LineSymbol3D=g;a.LineSymbol3DLayer=l;a.BaseMarkerSymbol=q;a.MeshSymbol3D=m;a.ObjectSymbol3DLayer=t;a.PathSymbol3DLayer=f;a.PictureFillSymbol=h;a.PictureMarkerSymbol=v;a.PointSymbol3D=w;a.PolygonSymbol3D=D;a.SimpleFillSymbol=x;a.SimpleLineSymbol=y;a.SimpleMarkerSymbol=z;a.BaseSymbol=
A;a.BaseSymbol3D=C;a.BaseSymbol3DLayer=B;a.TextSymbol=E;a.TextSymbol3DLayer=G;a.WaterSymbol3DLayer=J;a.WebStyleSymbol=K;a.LineCallout3D=F;a.LineCallout3DBorder=H.LineCallout3DBorder;a.ensureType=b;a.isSymbol=function(fa){return fa instanceof A};a.isSymbol2D=function(fa){if(!fa)return!1;switch(fa.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(fa){if(!fa)return!1;switch(fa.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}};a.readSymbol=c;a.symbolTypes=I;a.symbolTypes3D=ca;a.symbolTypesCluster=L;a.symbolTypesLabel=Z;a.symbolTypesLabel3D=O;a.symbolTypesRenderer=Q;a.symbolTypesRenderer3D=aa;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/CIMSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;p=q=function(m){function t(h){h=m.call(this,h)||this;h.data=null;h.type="cim";return h}a._inheritsLoose(t,m);var f=t.prototype;f.readData=function(h,v){return v};f.writeData=function(h,v){if(h)for(const w in h)v[w]=h[w]};f.collectRequiredFields=function(){var h=a._asyncToGenerator(function*(v,w){if("CIMSymbolReference"===this.data.type){var D=this.data.primitiveOverrides;D&&(D=D.map(x=>g.collectArcadeFieldNames(v,w,x.valueExpressionInfo.expression)),yield Promise.all(D))}});
return function(v,w){return h.apply(this,arguments)}}();f.clone=function(){return new q({data:c.clone(this.data)})};f.hash=function(){return e.numericHash(JSON.stringify(this.data)).toString()};return t}(l);b.__decorate([d.property({json:{write:!1}})],p.prototype,"color",void 0);b.__decorate([d.property({json:{write:!0}})],p.prototype,"data",void 0);b.__decorate([u.reader("data",["symbol"])],p.prototype,"readData",null);b.__decorate([k.writer("data",{})],p.prototype,"writeData",null);b.__decorate([r.enumeration({CIMSymbolReference:"cim"},
{readOnly:!0})],p.prototype,"type",void 0);return p=q=b.__decorate([n.subclass("esri.symbols.CIMSymbol")],p)})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n,k,g){e=new e.JSONMap({esriSMS:"simple-marker",
esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let l=0;d=function(q){function m(f){f=q.call(this,f)||this;f.id=`sym${l++}`;f.type=null;f.color=new c([0,0,0,1]);return f}a._inheritsLoose(m,q);var t=m.prototype;t.readColor=function(f){return f&&
null!=f[0]?[f[0],f[1],f[2],f[3]/255]:f};t.collectRequiredFields=function(){var f=a._asyncToGenerator(function*(h,v){});return function(h,v){return f.apply(this,arguments)}}();t.hash=function(){return JSON.stringify(this.toJSON())};t.clone=function(){};return m}(d.JSONSupport);b.__decorate([p.property({type:e.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:e.write}}})],d.prototype,"type",void 0);b.__decorate([p.property({type:c,json:{write:{allowNull:!0}}})],d.prototype,"color",void 0);
b.__decorate([k.reader("color")],d.prototype,"readColor",null);return d=b.__decorate([g.subclass("esri.symbols.Symbol")],d)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;d=q=function(m){function t(f){f=m.call(this,f)||this;f.type="extrude";f.size=1;f.material=null;f.castShadows=!0;f.edges=null;return f}a._inheritsLoose(t,m);t.prototype.clone=function(){return new q({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};return t}(k);b.__decorate([u.enumeration({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0);
b.__decorate([e.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0);b.__decorate([e.property({type:l.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([e.property(g.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=q=b.__decorate([n.subclass("esri.symbols.ExtrudeSymbol3DLayer")],d)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,p,r,u,n){c=function(k){function g(l){l=k.call(this,l)||this;l.enabled=!0;l.type=null;return l}a._inheritsLoose(g,k);g.prototype.writeEnabled=function(l,q,m){l||(q[m]=l)};return g}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0);b.__decorate([n.writer("enabled")],c.prototype,"writeEnabled",null);b.__decorate([e.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],
c.prototype,"type",void 0);return c=b.__decorate([u.subclass("esri.symbols.Symbol3DLayer")],c)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,e){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:e,sketch:c}},json:{write:!0}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k){e=function(g){function l(m){m=g.call(this,m)||this;m.color=new c([0,0,0,1]);m.extensionLength=0;m.size=p.px2pt(1);return m}a._inheritsLoose(l,g);var q=l.prototype;q.clone=function(){};q.cloneProperties=function(){return{color:d.clone(this.color),size:this.size,extensionLength:this.extensionLength}};return l}(e.JSONSupport);b.__decorate([r.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],e.prototype,"type",void 0);b.__decorate([r.property(k.colorAndTransparencyProperty)],
e.prototype,"color",void 0);b.__decorate([r.property({...k.screenSizeProperty,json:{write:{overridePolicy(g){return{enabled:!!g}}}}})],e.prototype,"extensionLength",void 0);b.__decorate([r.property(k.screenSizeProperty)],e.prototype,"size",void 0);return e=b.__decorate([n.subclass("esri.symbols.edges.Edges3D")],e)})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(e){return e?72*e/96:0}const c=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(e){return e};
a.castRenderScreenPointArray3=function(e){return e};a.castScreenPointArray=function(e){return e};a.createRenderScreenPoint=function(e=0,d=0){return{x:e,y:d}};a.createRenderScreenPointArray=function(e=0,d=0){return[e,d]};a.createRenderScreenPointArray3=function(e=0,d=0,p=0){return[e,d,p]};a.createScreenPoint=function(e=0,d=0){return{x:e,y:d}};a.createScreenPointArray=function(e=0,d=0){return[e,d]};a.pt2px=function(e){return e?e/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(e,d){return d?(d.x=
e[0],d.y=e[1],d):{x:e[0],y:e[1]}};a.screenPointObjectToArray=function(e,d){return d?(d[0]=e.x,d[1]=e.y,2<d.length&&(d[2]=0),d):[e.x,e.y]};a.toPt=function(e){if("string"===typeof e){var d=e.match(c);if(d){var p=Number(d[1]);d=d[3]&&d[3].toLowerCase();e="-"===e.charAt(0);p="px"===d?b(p):p;return e?-p:p}console.warn("screenUtils.toPt: input not recognized!");return null}return e};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/materialUtils":function(){define(["exports",
"../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,c,e,d){c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty={type:b,json:{type:[e.Integer],default:null,read:{source:["color","transparency"],reader:function(p,r){p=null!=r.transparency?d.transparencyToOpacity(r.transparency):1;return(r=r.color)&&Array.isArray(r)?new b([r[0]||0,r[1]||0,r[2]||0,p]):null}},write:{target:{color:{type:[e.Integer]},transparency:{type:e.Integer}},
writer:function(p,r){r.color=p.toJSON().slice(0,3);p=d.opacityToTransparency(p.a);0!==p&&(r.transparency=p)}}}};a.screenSizeProperty=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;c=g=function(l){function q(m){m=l.call(this,m)||this;m.type="sketch";return m}a._inheritsLoose(q,l);q.prototype.clone=function(){return new g(this.cloneProperties())};return q}(k);b.__decorate([u.enumeration({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0);return c=g=b.__decorate([n.subclass("esri.symbols.edges.SketchEdges3D")],c)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;c=g=function(l){function q(m){m=l.call(this,m)||this;m.type="solid";return m}a._inheritsLoose(q,l);q.prototype.clone=function(){return new g(this.cloneProperties())};return q}(k);b.__decorate([u.enumeration({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0);return c=g=b.__decorate([n.subclass("esri.symbols.support.SolidEdges3D")],c)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;a.Symbol3DMaterial=l=function(q){function m(t){t=q.call(this,t)||this;t.color=null;return t}b._inheritsLoose(m,q);m.prototype.clone=function(){const t={color:d.isSome(this.color)?this.color.clone():null};return new l(t)};return m}(e.JSONSupport);c.__decorate([p.property(g.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=l=c.__decorate([k.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/FillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,c,e,d,p,r,u,n){e=function(k){function g(l){l=k.call(this,l)||this;l.outline=null;l.type=null;return l}a._inheritsLoose(g,k);g.prototype.hash=
function(){return`${this.type}.${this.outline&&this.outline.hash()}`};return g}(n);b.__decorate([c.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":u}},json:{default:null,write:!0}})],e.prototype,"outline",void 0);b.__decorate([c.property({type:["simple-fill","picture-fill"],readOnly:!0})],e.prototype,"type",void 0);return e=b.__decorate([r.subclass("esri.symbols.FillSymbol")],e)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;c=new c.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});k=l=function(q){function m(...f){f=q.call(this,...f)||this;f.type="simple-line";
f.style="solid";f.cap="round";f.join="round";f.marker=null;f.miterLimit=2;return f}a._inheritsLoose(m,q);var t=m.prototype;t.normalizeCtorArgs=function(f,h,v,w,D,x){if(f&&"string"!==typeof f)return f;const y={};null!=f&&(y.style=f);null!=h&&(y.color=h);null!=v&&(y.width=d.toPt(v));null!=w&&(y.cap=w);null!=D&&(y.join=D);null!=x&&(y.miterLimit=d.toPt(x));return y};t.clone=function(){var f;return new l({color:e.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,
marker:null==(f=this.marker)?void 0:f.clone()})};t.hash=function(){var f,h;return`${q.prototype.hash.call(this)}.${null==(f=this.color)?void 0:f.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(h=this.marker)?void 0:h.hash()}`};return m}(k);b.__decorate([u.enumeration({esriSLS:"simple-line"},{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([p.property({type:c.apiValues,json:{read:c.read,write:c.write}})],k.prototype,"style",void 0);b.__decorate([p.property({type:["butt",
"round","square"],json:{write:{overridePolicy:(q,m,t)=>({enabled:"round"!==q&&(null==t||null==t.origin)})}}})],k.prototype,"cap",void 0);b.__decorate([p.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(q,m,t)=>({enabled:"round"!==q&&(null==t||null==t.origin)})}}})],k.prototype,"join",void 0);b.__decorate([p.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":g}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],k.prototype,"marker",void 0);
b.__decorate([p.property({type:Number,json:{read:!1,write:!1}})],k.prototype,"miterLimit",void 0);return k=l=b.__decorate([n.subclass("esri.symbols.SimpleLineSymbol")],k)})},"esri/symbols/LineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,e,d,p,r,u,n,k){d=function(g){function l(q){q=g.call(this,q)||this;q.type="simple-line";q.width=.75;return q}a._inheritsLoose(l,g);l.prototype.hash=function(){return`${this.type}.${this.width}`};return l}(k);b.__decorate([u.enumeration({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=b.__decorate([n.subclass("esri.symbols.LineSymbol")],d)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;e=q=function(m){function t(h){h=m.call(this,h)||this;h.placement="begin-end";h.type="line-marker";h.style="arrow";return h}a._inheritsLoose(t,m);var f=t.prototype;f.writeStyle=function(h,v,w,D){v[w]="web-map"===(null==D?void 0:D.origin)?"arrow":h};f.readColor=function(h){return h&&null!=h[0]?[h[0],h[1],h[2],h[3]/255]:h};f.writeColor=function(h,v,w,D){"web-map"!==(null==D?void 0:D.origin)&&(v[w]=h)};f.clone=function(){return new q({color:d.clone(this.color),
placement:this.placement,style:this.style})};f.hash=function(){var h;return`${this.placement}.${null==(h=this.color)?void 0:h.hash()}.${this.style}`};a._createClass(t,[{key:"color",set:function(h){this._set("color",h)}}]);return t}(e.JSONSupport);b.__decorate([p.property({type:["begin","end","begin-end"],json:{write:!0}})],e.prototype,"placement",void 0);b.__decorate([u.enumeration({"line-marker":"line-marker"},{readOnly:!0}),p.property({json:{origins:{"web-map":{write:!1}}}})],e.prototype,"type",
void 0);b.__decorate([p.property({type:l.lineMarkerStyles})],e.prototype,"style",void 0);b.__decorate([g.writer("style")],e.prototype,"writeStyle",null);b.__decorate([p.property({type:c,value:null,json:{write:{allowNull:!0}}})],e.prototype,"color",null);b.__decorate([n.reader("color")],e.prototype,"readColor",null);b.__decorate([g.writer("color")],e.prototype,"writeColor",null);return e=q=b.__decorate([k.subclass("esri.symbols.LineSymbolMarker")],e)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],
function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h){var v;d=v=function(w){function D(x){x=w.call(this,x)||this;x.type="fill";x.material=null;x.pattern=null;x.castShadows=!0;x.outline=null;x.edges=null;return x}a._inheritsLoose(D,w);D.prototype.clone=function(){const x={edges:c.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,pattern:c.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:c.isSome(this.outline)?
this.outline.clone():null};return new v(x)};D.fromSimpleFillSymbol=function(x){var y,z,A,C,B,E;const G=x.outline&&x.outline.style&&"inside-frame"!==x.outline.style&&"solid"!==x.outline.style?new l({style:x.outline.style}):null,J={size:null!=(y=null==(z=x.outline)?void 0:z.width)?y:0,color:(null!=(A=null==(C=x.outline)?void 0:C.color)?A:t.white).clone(),pattern:G};G&&null!=(B=x.outline)&&B.cap&&(J.patternCap=x.outline.cap);return new v({material:new f.Symbol3DFillMaterial({color:(null!=(E=x.color)?
E:t.transparentWhite).clone()}),pattern:x.style&&"solid"!==x.style?new q({style:x.style}):null,outline:J})};return D}(k);b.__decorate([u.enumeration({Fill:"fill"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:f.Symbol3DFillMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property(m.symbol3dPatternProperty)],d.prototype,"pattern",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",
void 0);b.__decorate([e.property({type:h.Symbol3DOutline,json:{write:!0}})],d.prototype,"outline",void 0);b.__decorate([e.property(g.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=v=b.__decorate([n.subclass("esri.symbols.FillSymbol3DLayer")],d)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;c=c.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});k=l=function(q){function m(t){t=q.call(this,t)||this;t.type="style";t.style="solid";return t}a._inheritsLoose(m,q);m.prototype.clone=function(){return new l({style:this.style})};
return m}(k);b.__decorate([e.property({type:["style"]})],k.prototype,"type",void 0);b.__decorate([u.enumeration(c),e.property({type:g.lineStyles})],k.prototype,"style",void 0);return k=l=b.__decorate([n.subclass("esri.symbols.patterns.LineStylePattern3D")],k)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(n){function k(g){return n.call(this,g)||this}a._inheritsLoose(k,n);k.prototype.clone=function(){};return k}(c.JSONSupport);b.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([u.subclass("esri.symbols.patterns.LinePattern3D")],c)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");
Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;
q.type="style";q.style="solid";return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({style:this.style})};return l}(u);b.__decorate([c.property({type:["style"]})],e.prototype,"type",void 0);b.__decorate([c.property({type:n,json:{read:!0,write:!0}})],e.prototype,"style",void 0);return e=k=b.__decorate([r.subclass("esri.symbols.patterns.StylePattern3D")],e)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(n){function k(g){return n.call(this,g)||this}a._inheritsLoose(k,n);k.prototype.clone=function(){};return k}(c.JSONSupport);b.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([u.subclass("esri.symbols.patterns.Pattern3D")],c)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,e,d){e={types:{key:"type",base:e,typeMap:{style:d}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],
function(a,b){const c=new b("white"),e=new b("black");b=new b([255,255,255,0]);a.black=e;a.isBlack=function(d){return 0===d.r&&0===d.g&&0===d.b};a.transparentWhite=b;a.white=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;a.Symbol3DFillMaterial=q=function(m){function t(f){f=m.call(this,f)||this;f.colorMixMode=null;return f}b._inheritsLoose(t,m);t.prototype.clone=function(){const f={color:e.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new q(f)};return t}(l.Symbol3DMaterial);c.__decorate([k.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=q=c.__decorate([g.subclass("esri.symbols.support.Symbol3DFillMaterial")],
a.Symbol3DFillMaterial);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){var f;a.Symbol3DOutline=f=function(h){function v(w){w=h.call(this,w)||this;w.color=new e([0,0,0,1]);w.size=r.px2pt(1);w.pattern=null;w.patternCap="butt";return w}b._inheritsLoose(v,h);v.prototype.clone=function(){const w={color:p.isSome(this.color)?this.color.clone():null,size:this.size,pattern:p.isSome(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new f(w)};return v}(d.JSONSupport);c.__decorate([u.property(m.colorAndTransparencyProperty)],
a.Symbol3DOutline.prototype,"color",void 0);c.__decorate([u.property(m.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);c.__decorate([u.property(q.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,"pattern",void 0);c.__decorate([u.property({type:t.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:p.isSome(this.pattern)}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=f=c.__decorate([l.subclass("esri.symbols.support.Symbol3DOutline")],
a.Symbol3DOutline);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../chunks/vec3f64","../../geometry/support/aaBoundingBox"],function(a,b,c,e){const d=e.fromValues(-.5,-.5,-.5,.5,.5,.5),p=e.fromValues(-.5,-.5,0,.5,.5,1),r=e.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];e=[...b,"none"];a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_TETRAHEDRON=r;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CUBE=
d;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CYLINDER=p;a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerPrimitiveBoundingBox=function(u){switch(u){case "sphere":case "cube":case "diamond":return d;case "cylinder":case "cone":case "inverted-cone":return p;case "tetrahedron":return r}};a.objectSymbolLayerSizeWithResourceSize=function(u,{isPrimitive:n,width:k,depth:g,height:l}){n=n?10:1;if(null==k&&null==l&&null==g)return[n*u[0],n*u[1],n*u[2]];k=c.fromValues(k,g,l);let q;for(g=0;3>
g;g++)if(l=k[g],null!=l){q=l/u[g];break}for(g=0;3>g;g++)null==k[g]&&(k[g]=u[g]*q);return k};a.pathCaps=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(a,b,c,e){function d(f=m){return[f[0],f[1],f[2],f[3],f[4],f[5]]}function p(f,h,v,w,D,x,y=d()){y[0]=f;y[1]=h;y[2]=v;y[3]=w;y[4]=D;y[5]=x;return y}function r(f){return f[0]>=f[3]?0:
f[3]-f[0]}function u(f){return f[1]>=f[4]?0:f[4]-f[1]}function n(f){return f[2]>=f[5]?0:f[5]-f[2]}function k(f,h){return Math.max(h[0],f[0])<=Math.min(h[3],f[3])&&Math.max(h[1],f[1])<=Math.min(h[4],f[4])&&Math.max(h[2],f[2])<=Math.min(h[5],f[5])}function g(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];return f}function l(f){return 6===f.length}const q=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],m=[0,0,0,0,0,0],t=d();a.NEGATIVE_INFINITY=q;a.POSITIVE_INFINITY=[-Infinity,
-Infinity,-Infinity,Infinity,Infinity,Infinity];a.ZERO=m;a.allFinite=function(f){for(let h=0;6>h;h++)if(!isFinite(f[h]))return!1;return!0};a.center=function(f,h=[0,0,0]){h[0]=f[0]+r(f)/2;h[1]=f[1]+u(f)/2;h[2]=f[2]+n(f)/2;return h};a.contains=function(f,h){return h[0]>=f[0]&&h[1]>=f[1]&&h[2]>=f[2]&&h[3]<=f[3]&&h[4]<=f[4]&&h[5]<=f[5]};a.containsPoint=function(f,h){return h[0]>=f[0]&&h[1]>=f[1]&&h[2]>=f[2]&&h[0]<=f[3]&&h[1]<=f[4]&&h[2]<=f[5]};a.containsPointWithMargin=function(f,h,v){return h[0]>=f[0]-
v&&h[1]>=f[1]-v&&h[2]>=f[2]-v&&h[0]<=f[3]+v&&h[1]<=f[4]+v&&h[2]<=f[5]+v};a.create=d;a.depth=u;a.diameter=function(f){const h=r(f),v=n(f);f=u(f);return Math.sqrt(h*h+v*v+f*f)};a.empty=function(f){return f?g(f,q):d(q)};a.equals=function(f,h,v){if(b.isNone(f)||b.isNone(h))return f===h;if(!l(f)||!l(h))return!1;if(v)for(let w=0;w<f.length;w++){if(!v(f[w],h[w]))return!1}else for(v=0;v<f.length;v++)if(f[v]!==h[v])return!1;return!0};a.expandWithAABB=function(f,h){f[0]=Math.min(f[0],h[0]);f[1]=Math.min(f[1],
h[1]);f[2]=Math.min(f[2],h[2]);f[3]=Math.max(f[3],h[3]);f[4]=Math.max(f[4],h[4]);f[5]=Math.max(f[5],h[5])};a.expandWithBuffer=function(f,h,v=0,w=h.length/3){let D=f[0],x=f[1],y=f[2],z=f[3],A=f[4],C=f[5];for(let B=0;B<w;B++)D=Math.min(D,h[v+3*B]),x=Math.min(x,h[v+3*B+1]),y=Math.min(y,h[v+3*B+2]),z=Math.max(z,h[v+3*B]),A=Math.max(A,h[v+3*B+1]),C=Math.max(C,h[v+3*B+2]);f[0]=D;f[1]=x;f[2]=y;f[3]=z;f[4]=A;f[5]=C};a.expandWithNestedArray=function(f,h,v){const w=h.length;let D=f[0],x=f[1],y=f[2],z=f[3],
A=f[4],C=f[5];if(v)for(v=0;v<w;v++){var B=h[v];D=Math.min(D,B[0]);x=Math.min(x,B[1]);y=Math.min(y,B[2]);z=Math.max(z,B[0]);A=Math.max(A,B[1]);C=Math.max(C,B[2])}else for(v=0;v<w;v++)B=h[v],D=Math.min(D,B[0]),x=Math.min(x,B[1]),z=Math.max(z,B[0]),A=Math.max(A,B[1]);f[0]=D;f[1]=x;f[2]=y;f[3]=z;f[4]=A;f[5]=C};a.expandWithOffset=function(f,h,v,w){f[0]=Math.min(f[0],f[0]+h);f[3]=Math.max(f[3],f[3]+h);f[1]=Math.min(f[1],f[1]+v);f[4]=Math.max(f[4],f[4]+v);f[2]=Math.min(f[2],f[2]+w);f[5]=Math.max(f[5],f[5]+
w)};a.expandWithRect=function(f,h){f[0]=Math.min(f[0],h[0]);f[1]=Math.min(f[1],h[1]);f[3]=Math.max(f[3],h[2]);f[4]=Math.max(f[4],h[3])};a.expandWithVec3=function(f,h){f[0]=Math.min(f[0],h[0]);f[1]=Math.min(f[1],h[1]);f[2]=Math.min(f[2],h[2]);f[3]=Math.max(f[3],h[0]);f[4]=Math.max(f[4],h[1]);f[5]=Math.max(f[5],h[2])};a.fromExtent=function(f,h=d()){h[0]=f.xmin;h[1]=f.ymin;h[2]=f.zmin;h[3]=f.xmax;h[4]=f.ymax;h[5]=f.zmax;return h};a.fromMinMax=function(f,h,v=d()){v[0]=f[0];v[1]=f[1];v[2]=f[2];v[3]=h[0];
v[4]=h[1];v[5]=h[2];return v};a.fromRect=function(f,h){f[0]=h[0];f[1]=h[1];f[2]=Number.NEGATIVE_INFINITY;f[3]=h[2];f[4]=h[3];f[5]=Number.POSITIVE_INFINITY;return f};a.fromValues=p;a.getMax=function(f,h){h[0]=f[3];h[1]=f[4];h[2]=f[5];return h};a.getMin=function(f,h){h[0]=f[0];h[1]=f[1];h[2]=f[2];return h};a.height=n;a.intersects=k;a.intersectsClippingArea=function(f,h){return b.isNone(h)?!0:k(f,h)};a.is=l;a.isPoint=function(f){return 0===r(f)&&0===u(f)&&0===n(f)};a.maximumDimension=function(f){return Math.max(r(f),
n(f),u(f))};a.offset=function(f,h,v,w,D=f){D[0]=f[0]+h;D[1]=f[1]+v;D[2]=f[2]+w;D[3]=f[3]+h;D[4]=f[4]+v;D[5]=f[5]+w;return D};a.scale=function(f,h,v=f){const w=f[0]+r(f)/2,D=f[1]+u(f)/2,x=f[2]+n(f)/2;v[0]=w+(f[0]-w)*h;v[1]=D+(f[1]-D)*h;v[2]=x+(f[2]-x)*h;v[3]=w+(f[3]-w)*h;v[4]=D+(f[4]-D)*h;v[5]=x+(f[5]-x)*h;return v};a.set=g;a.setMax=function(f,h,v=f){v[3]=h[0];v[4]=h[1];v[5]=h[2];v!==f&&(v[0]=f[0],v[1]=f[1],v[2]=f[2]);return f};a.setMin=function(f,h,v=f){v[0]=h[0];v[1]=h[1];v[2]=h[2];v!==f&&(v[3]=
f[3],v[4]=f[4],v[5]=f[5]);return v};a.size=function(f,h=[0,0,0]){h[0]=r(f);h[1]=u(f);h[2]=n(f);return h};a.toExtent=function(f,h){return isFinite(f[2])||isFinite(f[5])?new c({xmin:f[0],xmax:f[3],ymin:f[1],ymax:f[4],zmin:f[2],zmax:f[5],spatialReference:h}):new c({xmin:f[0],xmax:f[3],ymin:f[1],ymax:f[4],spatialReference:h})};a.toRect=function(f,h){h||(h=e.create());h[0]=f[0];h[1]=f[1];h[2]=f[3];h[3]=f[4];return h};a.width=r;a.wrap=function(f,h,v,w,D,x){return p(f,h,v,w,D,x,t)};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/Font":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),function(a,b,c,e,d,p,r,u,n,k){var g;c=g=function(l){function q(t){t=l.call(this,t)||this;t.decoration="none";
t.family="sans-serif";t.size=9;t.style="normal";t.weight="normal";return t}a._inheritsLoose(q,l);var m=q.prototype;m.castSize=function(t){return e.toPt(t)};m.clone=function(){return new g({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};m.hash=function(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`};return q}(c.JSONSupport);b.__decorate([d.property({type:k.fontDecorations,json:{default:"none",write:!0}})],c.prototype,
"decoration",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"family",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(l,q,m){return{enabled:!m||!m.textSymbol3D}}}}})],c.prototype,"size",void 0);b.__decorate([u.cast("size")],c.prototype,"castSize",null);b.__decorate([d.property({type:k.fontStyles,json:{default:"normal",write:!0}})],c.prototype,"style",void 0);b.__decorate([d.property({type:k.fontWeights,json:{default:"normal",write:!0}})],c.prototype,
"weight",void 0);return c=g=b.__decorate([n.subclass("esri.symbols.Font")],c)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,c){const e={type:Number,cast:n=>{n=c.ensureNumber(n);return 0===n?1:b.clamp(n,.1,4)},nonNullable:!0},d=["left","right","center"],p=["baseline","top","middle","bottom"],r={type:d,nonNullable:!0},u={type:p,nonNullable:!0};a.fontDecorations=["none","underline","line-through"];a.fontStyles=
["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=r;a.horizontalAlignments=d;a.lineHeightProperty=e;a.verticalAlignmentProperty=u;a.verticalAlignments=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v){function w(A){const C="width"in A?A.width:A.size,B="height"in A?A.height:A.size,E=D(A.xoffset);A=D(A.yoffset);return(E||A)&&C&&B?{x:-E/C,y:A/B}:null}function D(A){return isFinite(A)?A:0}var x;const y=c.getLogger("esri.symbols.IconSymbol3DLayer");c=x=function(A){function C(B){B=A.call(this,B)||this;B.material=null;B.resource=null;B.type="icon";B.size=12;B.anchor="center";B.anchorPosition=void 0;B.outline=void 0;return B}a._inheritsLoose(C,A);C.prototype.clone=
function(){return new x({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:e.isSome(this.material)?this.material.clone():null,outline:e.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};C.fromSimpleMarkerSymbol=function(B){const E=B.color||q.white,G=w(B),J=B.outline&&0<B.outline.width?{size:B.outline.width,color:(B.outline.color||q.white).clone()}:null;var K=x,F=B.size;{B=B.style;
const H=z[B];H?B=H:(y.warn(`${B} cannot be mapped to Icon symbol. Fallback to "circle"`),B="circle")}return new K({size:F,resource:{primitive:B},material:{color:E},outline:J,anchor:G?"relative":void 0,anchorPosition:G})};C.fromPictureMarkerSymbol=function(B){const E=!B.color||q.isBlack(B.color)?q.white:B.color,G=w(B);return new x({size:B.width<=B.height?B.height:B.width,resource:{href:B.url},material:{color:E.clone()},anchor:G?"relative":void 0,anchorPosition:G})};C.fromCIMSymbol=function(B){return new x({resource:{href:d.makeData({mediaType:"application/json",
data:JSON.stringify(B.data)})}})};return C}(l);b.__decorate([p.property({type:v.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([p.property({type:m.IconSymbol3DLayerResource,json:{write:!0}})],c.prototype,"resource",void 0);b.__decorate([k.enumeration({Icon:"icon"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([p.property(t.screenSizeProperty)],c.prototype,"size",void 0);b.__decorate([k.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",
topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),p.property({json:{default:"center"}})],c.prototype,"anchor",void 0);b.__decorate([p.property({type:f.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:A=>new f.Symbol3DAnchorPosition2D({x:A[0],y:A[1]})},write:{writer:(A,C)=>{C.anchorPosition=[A.x,A.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);b.__decorate([p.property({type:h.Symbol3DIconOutline,
json:{write:!0}})],c.prototype,"outline",void 0);c=x=b.__decorate([g.subclass("esri.symbols.IconSymbol3DLayer")],c);const z={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return c})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){var f;e=e.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=f=function(h){function v(D){return h.call(this,D)||this}b._inheritsLoose(v,h);var w=v.prototype;w.readHref=function(D,x,y){return D?t.fromJSON(D,y):x.dataURI};w.writeHref=function(D,x,y,z){D&&(p.isDataProtocol(D)?x.dataURI=D:(x.href=t.toJSON(D,z),p.isAbsolute(x.href)&&(x.href=p.normalize(x.href))))};w.clone=function(){return new f({href:this.href,
primitive:this.primitive})};return v}(d.JSONSupport);c.__decorate([r.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);c.__decorate([l.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);c.__decorate([m.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);c.__decorate([g.enumeration(e)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);
a.IconSymbol3DLayerResource=f=c.__decorate([q.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;a.Symbol3DAnchorPosition2D=k=function(g){function l(){var q=g.apply(this,arguments)||this;q.x=0;q.y=0;return q}b._inheritsLoose(l,g);l.prototype.clone=function(){return new k({x:this.x,y:this.y})};return l}(e);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=k=c.__decorate([n.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],
a.Symbol3DAnchorPosition2D);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;a.Symbol3DIconOutline=m=function(t){function f(h){h=t.call(this,h)||this;h.color=new e([0,0,0,1]);h.size=r.px2pt(1);return h}b._inheritsLoose(f,t);f.prototype.clone=function(){const h={color:p.isSome(this.color)?this.color.clone():null,size:this.size};return new m(h)};return f}(d.JSONSupport);c.__decorate([u.property(q.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);c.__decorate([u.property(q.screenSizeProperty)],a.Symbol3DIconOutline.prototype,
"size",void 0);a.Symbol3DIconOutline=m=c.__decorate([l.subclass("esri.symbols.support.Symbol3DIconOutline")],a.Symbol3DIconOutline);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;const m=c.ofType({base:null,key:"type",typeMap:{text:k}});c=q=function(t){function f(v){v=t.call(this,v)||this;v.verticalOffset=null;v.callout=null;v.styleOrigin=null;v.symbolLayers=new m;v.type="label-3d";return v}a._inheritsLoose(f,t);var h=f.prototype;h.supportsCallout=function(){return!0};h.hasVisibleCallout=function(){return g.hasVisibleCallout(this)};h.hasVisibleVerticalOffset=function(){return g.hasVisibleVerticalOffset(this)};h.clone=function(){return new q({styleOrigin:e.clone(this.styleOrigin),
symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail),callout:e.clone(this.callout),verticalOffset:e.clone(this.verticalOffset)})};f.fromTextSymbol=function(v){return new q({symbolLayers:[k.fromTextSymbol(v)]})};return f}(n);b.__decorate([d.property({type:l.Symbol3DVerticalOffset,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([d.property(g.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",
void 0);b.__decorate([d.property({type:m})],c.prototype,"symbolLayers",void 0);b.__decorate([r.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=q=b.__decorate([u.subclass("esri.symbols.LabelSymbol3D")],c)})},"esri/symbols/Symbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E,G){const J={icon:w,object:x,line:D,path:y,fill:v,extrude:h,text:C,water:B};n=c.ofType({base:A,key:"type",typeMap:J,errorContext:"symbol-layer"});const K=d.getLogger("esri.symbols.Symbol3D");d=function(F){function H(L){L=F.call(this,L)||this;L.styleOrigin=null;L.thumbnail=null;L.type=null;const Q=L.__accessor__&&L.__accessor__.metadatas&&L.__accessor__.metadatas.symbolLayers;L._set("symbolLayers",new (Q&&Q.type||c));return L}a._inheritsLoose(H,
F);var I=H.prototype;I.readStyleOrigin=function(L,Q,Z){if(L.styleUrl&&L.name)return Q=f.fromJSON(L.styleUrl,Z),new E({styleUrl:Q,name:L.name});if(L.styleName&&L.name)return new E({portal:Z&&Z.portal||t.getDefault(),styleName:L.styleName,name:L.name});Z&&Z.messages&&Z.messages.push(new r("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:Z,definition:L}))};I.writeStyleOrigin=function(L,Q,Z,ca){L.styleUrl&&L.name?(Z=f.toJSON(L.styleUrl,
ca),p.isAbsolute(Z)&&(Z=p.normalize(Z)),Q.styleOrigin={styleUrl:Z,name:L.name}):L.styleName&&L.name&&(L.portal&&ca&&ca.portal&&!p.hasSamePortal(L.portal.restUrl,ca.portal.restUrl)?ca&&ca.messages&&ca.messages.push(new r("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):Q.styleOrigin={styleName:L.styleName,name:L.name})};I.normalizeCtorArgs=function(L){return L instanceof A||L&&J[L.type]?
{symbolLayers:[L]}:Array.isArray(L)?{symbolLayers:L}:L};a._createClass(H,[{key:"color",get:function(){return null},set:function(L){this.initialized&&K.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(L){e.referenceSetter(L,this._get("symbolLayers"))}}]);return H}(z);b.__decorate([u.property({json:{read:!1,write:!1}})],d.prototype,"color",null);b.__decorate([u.property({type:n,nonNullable:!0,
json:{write:!0}}),g.cast(e.castForReferenceSetter)],d.prototype,"symbolLayers",null);b.__decorate([u.property({type:E})],d.prototype,"styleOrigin",void 0);b.__decorate([l.reader("styleOrigin")],d.prototype,"readStyleOrigin",null);b.__decorate([m.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],d.prototype,"writeStyleOrigin",null);b.__decorate([u.property({type:G.Thumbnail,json:{read:!1}})],d.prototype,"thumbnail",
void 0);b.__decorate([u.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],d.prototype,"type",void 0);return d=b.__decorate([q.subclass("esri.symbols.Symbol3D")],d)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v){var w;p=w=function(D){function x(y){y=D.call(this,y)||this;y.material=null;y.type="line";y.join="miter";y.cap="butt";y.size=e.px2pt(1);y.pattern=null;y.marker=null;return y}a._inheritsLoose(x,D);x.prototype.clone=function(){const y={enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:c.isSome(this.pattern)?this.pattern.clone():null,marker:c.isSome(this.marker)?this.marker.clone():
null};return new w(y)};x.fromSimpleLineSymbol=function(y){var z,A,C;y={enabled:!0,size:null!=(z=y.width)?z:e.px2pt(1),cap:y.cap||"butt",join:y.join||"miter",pattern:y.style&&"inside-frame"!==y.style?new q({style:y.style}):null,material:new h.Symbol3DMaterial({color:(y.color||t.white).clone()}),marker:y.marker?new g({placement:y.marker.placement,style:y.marker.style,color:null!=(A=null==(C=y.marker.color)?void 0:C.clone())?A:null}):null};return new w(y)};return x}(l);b.__decorate([d.property({type:h.Symbol3DMaterial,
json:{write:!0}})],p.prototype,"material",void 0);b.__decorate([n.enumeration({Line:"line"},{readOnly:!0})],p.prototype,"type",void 0);b.__decorate([d.property({type:v.lineJoins,json:{write:!0,default:"miter"}})],p.prototype,"join",void 0);b.__decorate([d.property({type:v.lineCaps,json:{write:!0,default:"butt"}})],p.prototype,"cap",void 0);b.__decorate([d.property(f.screenSizeProperty)],p.prototype,"size",void 0);b.__decorate([d.property(m.symbol3dLinePatternProperty)],p.prototype,"pattern",void 0);
b.__decorate([d.property({types:{key:"type",base:g,typeMap:{style:g}},json:{write:!0}})],p.prototype,"marker",void 0);return p=w=b.__decorate([k.subclass("esri.symbols.LineSymbol3DLayer")],p)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){e=function(q){function m(t){t=q.call(this,t)||this;t.type="style";t.placement="begin-end";t.style="arrow";t.color=null;return t}a._inheritsLoose(m,q);m.prototype.equals=function(t){return p.isSome(t)&&t.placement===this.placement&&t.style===this.style&&(p.isNone(this.color)&&p.isNone(t.color)||p.isSome(this.color)&&p.isSome(t.color)&&this.color.toJSON()===t.color.toJSON())};return m}(e.ClonableMixin(d.JSONSupport));b.__decorate([r.property({type:["style"],readOnly:!0,
json:{read:!0,write:{ignoreOrigin:!0}}})],e.prototype,"type",void 0);b.__decorate([r.property({type:l.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],e.prototype,"placement",void 0);b.__decorate([r.property({type:l.lineMarkerStyles,json:{default:"arrow",write:!0}})],e.prototype,"style",void 0);b.__decorate([r.property({type:c,json:{type:[k.Integer],default:null,write:!0}})],e.prototype,"color",void 0);return e=b.__decorate([g.subclass("esri.symbols.LineStyleMarker3D")],e)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;d=m=function(t){function f(h){h=t.call(this,h)||this;h.material=null;h.castShadows=!0;h.resource=null;h.type="object";h.width=void 0;h.height=void 0;h.depth=void 0;h.anchor=void 0;h.anchorPosition=void 0;h.heading=void 0;h.tilt=void 0;h.roll=void 0;return h}a._inheritsLoose(f,t);f.prototype.clone=function(){return new m({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};a._createClass(f,[{key:"isPrimitive",get:function(){return!this.resource||"string"!==typeof this.resource.href}}]);return f}(k);b.__decorate([e.property({type:q.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],
d.prototype,"castShadows",void 0);b.__decorate([e.property({type:g.ObjectSymbol3DLayerResource,json:{write:!0}})],d.prototype,"resource",void 0);b.__decorate([u.enumeration({Object:"object"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"width",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"depth",void 0);b.__decorate([u.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),e.property({json:{default:"origin"}})],d.prototype,"anchor",void 0);b.__decorate([e.property({type:l.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:t=>new l.Symbol3DAnchorPosition3D({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,f)=>{f.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],d.prototype,"anchorPosition",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,
"heading",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"tilt",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"roll",void 0);b.__decorate([e.property({readOnly:!0})],d.prototype,"isPrimitive",null);return d=m=b.__decorate([n.subclass("esri.symbols.ObjectSymbol3DLayer")],d)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;e=e.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=q=function(m){function t(){return m.apply(this,arguments)||this}b._inheritsLoose(t,m);t.prototype.clone=function(){return new q({href:this.href,primitive:this.primitive})};return t}(d.JSONSupport);c.__decorate([p.property({type:String,json:{read:l.read,write:l.write}})],a.ObjectSymbol3DLayerResource.prototype,
"href",void 0);c.__decorate([k.enumeration(e)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=q=c.__decorate([g.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;a.Symbol3DAnchorPosition3D=k=function(g){function l(){var q=g.apply(this,arguments)||this;q.x=0;q.y=0;q.z=0;return q}b._inheritsLoose(l,g);l.prototype.clone=function(){return new k({x:this.x,y:this.y,z:this.z})};return l}(e);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,
"z",void 0);a.Symbol3DAnchorPosition3D=k=c.__decorate([n.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;d=m=function(t){function f(v){v=t.call(this,v)||this;v.material=null;v.castShadows=!0;v.type="path";v.profile="circle";v.join="miter";v.cap="butt";v.width=void 0;v.height=void 0;v.anchor="center";v.profileRotation="all";return v}a._inheritsLoose(f,t);var h=f.prototype;h.readWidth=function(v,w){return null!=v?v:null==w.height&&null!=w.size?w.size:void 0};h.readHeight=function(v,w){return null!=v?v:null==w.width&&null!=w.size?w.size:void 0};h.clone=function(){return new m({enabled:this.enabled,
material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};return f}(g);b.__decorate([e.property({type:l.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([u.enumeration({Path:"path"},
{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],d.prototype,"profile",void 0);b.__decorate([e.property({type:q.lineJoins,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0);b.__decorate([e.property({type:q.pathCaps,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0);b.__decorate([e.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],d.prototype,"width",void 0);
b.__decorate([n.reader("width",["width","size","height"])],d.prototype,"readWidth",null);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);b.__decorate([n.reader("height",["height","size","width"])],d.prototype,"readHeight",null);b.__decorate([e.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],d.prototype,"anchor",void 0);b.__decorate([e.property({type:["heading","all"],json:{write:!0,default:"all"}})],d.prototype,"profileRotation",void 0);
return d=m=b.__decorate([k.subclass("esri.symbols.PathSymbol3DLayer")],d)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f){var h;p=h=function(v){function w(x){x=v.call(this,x)||this;x._userSize=void 0;x.halo=null;x.horizontalAlignment="center";x.lineHeight=1;x.material=null;x.background=null;x.text=null;x.type="text";x.verticalAlignment="baseline";return x}a._inheritsLoose(w,v);var D=w.prototype;D.writeFont=function(x,y,z,A){y.font=x.write({},{...A,textSymbol3D:!0});delete y.font.size};D.clone=function(){const x=new h({enabled:this.enabled,font:this.font&&c.clone(this.font),halo:this.halo&&
c.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:e.isSome(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:c.clone(this.background)});x._userSize=this._userSize;return x};w.fromTextSymbol=function(x){var y=h,z=e.isSome(x.font)?x.font.clone():new k;var A=x.haloColor;var C=x.haloSize;A=A&&0<C?new q.Symbol3DHalo({color:c.clone(A),size:C}):null;return new y({font:z,halo:A,horizontalAlignment:x.horizontalAlignment,
lineHeight:x.lineHeight,material:x.color?new m.Symbol3DMaterial({color:x.color.clone()}):null,text:x.text,verticalAlignment:x.verticalAlignment,background:x.backgroundColor?new t.Symbol3DTextBackground({color:x.backgroundColor.clone()}):null})};a._createClass(w,[{key:"font",get:function(){return this._get("font")||null},set:function(x){e.isSome(x)&&e.isSome(this._userSize)&&(x.size=this._userSize);this._set("font",x)}},{key:"size",get:function(){return e.isSome(this._userSize)?this._userSize:e.isSome(this.font)&&
null!=this.font.size?this.font.size:9},set:function(x){this._userSize=x;e.isSome(this.font)&&(this.font.size=this._userSize);this.notifyChange("size")}}]);return w}(g);b.__decorate([d.property({type:k,json:{write:!0}})],p.prototype,"font",null);b.__decorate([n.writer("font")],p.prototype,"writeFont",null);b.__decorate([d.property({type:q.Symbol3DHalo,json:{write:!0}})],p.prototype,"halo",void 0);b.__decorate([d.property({...f.horizontalAlignmentProperty,json:{default:"center",write:!0}})],p.prototype,
"horizontalAlignment",void 0);b.__decorate([d.property({...f.lineHeightProperty,json:{default:1,write:!0}})],p.prototype,"lineHeight",void 0);b.__decorate([d.property({type:m.Symbol3DMaterial,json:{write:!0}})],p.prototype,"material",void 0);b.__decorate([d.property({type:t.Symbol3DTextBackground,json:{write:!0}})],p.prototype,"background",void 0);b.__decorate([d.property(l.screenSizeProperty)],p.prototype,"size",null);b.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"text",void 0);
b.__decorate([r.enumeration({Text:"text"},{readOnly:!0})],p.prototype,"type",void 0);b.__decorate([d.property({...f.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],p.prototype,"verticalAlignment",void 0);return p=h=b.__decorate([u.subclass("esri.symbols.TextSymbol3DLayer")],p)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;a.Symbol3DHalo=g=function(l){function q(){var m=l.apply(this,arguments)||this;m.color=new e([0,0,0,1]);m.size=0;return m}b._inheritsLoose(q,l);q.prototype.clone=function(){const m={color:p.clone(this.color),size:this.size};return new g(m)};return q}(d.JSONSupport);c.__decorate([r.property(k.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);c.__decorate([r.property(k.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=
g=c.__decorate([n.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){a.Symbol3DTextBackground=function(l){function q(m){m=l.call(this,m)||this;m.color=null;return m}b._inheritsLoose(q,l);return q}(e.ClonableMixin(d.JSONSupport));c.__decorate([p.property(g.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=c.__decorate([k.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),function(a,b,c,e,d,p,r,u,n){var k;n=k=function(l){function q(m){m=l.call(this,m)||this;m.color=g.clone();m.type="water";m.waterbodySize="medium";m.waveDirection=null;m.waveStrength=
"moderate";return m}a._inheritsLoose(q,l);q.prototype.clone=function(){return new k({color:e.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};return q}(n);b.__decorate([d.property({type:c,nonNullable:!0,json:{type:[p.Integer],write:(l,q,m)=>q[m]=l.toArray(c.AlphaMode.UNLESS_OPAQUE),default:()=>g.clone(),defaultEquals:l=>l.toCss(!0)===g.toCss(!0)}})],n.prototype,"color",void 0);b.__decorate([r.enumeration({Water:"water"},{readOnly:!0})],
n.prototype,"type",void 0);b.__decorate([d.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],n.prototype,"waterbodySize",void 0);b.__decorate([d.property({type:Number,json:{write:!0,default:null}})],n.prototype,"waveDirection",void 0);b.__decorate([d.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],n.prototype,"waveStrength",void 0);n=k=b.__decorate([u.subclass("esri.symbols.WaterSymbol3DLayer")],n);const g=new c([0,119,190]);
return n})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(){var q=g.apply(this,arguments)||this;q.portal=null;return q}a._inheritsLoose(l,g);l.prototype.clone=
function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};return l}(c);b.__decorate([e.property({type:String})],c.prototype,"name",void 0);b.__decorate([e.property({type:String})],c.prototype,"styleUrl",void 0);b.__decorate([e.property({type:String})],c.prototype,"styleName",void 0);b.__decorate([e.property({type:n})],c.prototype,"portal",void 0);return c=k=b.__decorate([u.subclass("esri.symbols.support.StyleOrigin")],c)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;a.Thumbnail=k=function(g){function l(){return g.apply(this,arguments)||this}b._inheritsLoose(l,g);l.prototype.clone=function(){return new k({url:this.url})};return l}(e);c.__decorate([d.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=k=c.__decorate([n.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports",
"./Callout3D","./LineCallout3D"],function(a,b,c){function e(d){if(!d)return!1;d=d.verticalOffset;return!d||0>=d.screenLength||0>=d.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:c}},json:{write:!0}};a.hasCalloutSupport=function(d){return"point-3d"===d.type||"label-3d"===d.type};a.hasVisibleCallout=function(d){if(!d||!d.supportsCallout||!d.supportsCallout())return!1;const p=d.callout;return p&&p.visible?e(d)?!0:!1:!1};a.hasVisibleVerticalOffset=e;a.textSymbolLayerSupportsVerticalOffset=
function(d){return"center"===d.horizontalAlignment};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u){c=function(n){function k(g){g=
n.call(this,g)||this;g.visible=!0;return g}a._inheritsLoose(k,n);k.prototype.clone=function(){};return k}(c.JSONSupport);b.__decorate([e.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"visible",void 0);return c=b.__decorate([u.subclass("esri.symbols.callouts.Callout3D")],c)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ../../chunks/LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;u=m=function(t){function f(h){h=t.call(this,h)||this;h.type="line";h.color=new c([0,0,0,1]);h.size=p.px2pt(1);h.border=null;return h}a._inheritsLoose(f,t);f.prototype.clone=function(){return new m({color:e.clone(this.color),size:this.size,border:e.clone(this.border)})};a._createClass(f,[{key:"visible",get:function(){return 0<this.size&&d.isSome(this.color)&&0<this.color.a}}]);return f}(g);b.__decorate([n.enumeration({line:"line"},{readOnly:!0})],u.prototype,
"type",void 0);b.__decorate([r.property(q.colorAndTransparencyProperty)],u.prototype,"color",void 0);b.__decorate([r.property(q.screenSizeProperty)],u.prototype,"size",void 0);b.__decorate([r.property({type:l.LineCallout3DBorder$1,json:{write:!0}})],u.prototype,"border",void 0);b.__decorate([r.property({readOnly:!0})],u.prototype,"visible",null);return u=m=b.__decorate([k.subclass("esri.symbols.callouts.LineCallout3D")],u)})},"esri/chunks/LineCallout3DBorder":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../symbols/support/materialUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;d=g=function(l){function q(){var m=l.apply(this,arguments)||this;m.color=new e("white");return m}b._inheritsLoose(q,l);q.prototype.clone=function(){return new g({color:p.clone(this.color)})};return q}(d.JSONSupport);c.__decorate([r.property(k.colorAndTransparencyProperty)],d.prototype,"color",void 0);c=d=g=c.__decorate([n.subclass("esri.symbols.callouts.LineCallout3DBorder")],d);r=Object.freeze(Object.defineProperty({__proto__:null,default:c},Symbol.toStringTag,
{value:"Module"}));a.LineCallout3DBorder=r;a.LineCallout3DBorder$1=c})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,e,d,p,r,u,n,k){var g;a.Symbol3DVerticalOffset=g=function(l){function q(){var m=
l.apply(this,arguments)||this;m.screenLength=0;m.minWorldLength=0;return m}b._inheritsLoose(q,l);q.prototype.clone=function(){return new g({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};return q}(e.JSONSupport);c.__decorate([d.property(k.screenSizeProperty)],a.Symbol3DVerticalOffset.prototype,"screenLength",void 0);c.__decorate([d.property({type:Number,json:{write:!0,default:0}})],a.Symbol3DVerticalOffset.prototype,"minWorldLength",void 0);
c.__decorate([d.property({type:Number,json:{write:!0}})],a.Symbol3DVerticalOffset.prototype,"maxWorldLength",void 0);a.Symbol3DVerticalOffset=g=c.__decorate([n.subclass("esri.symbols.support.Symbol3DVerticalOffset")],a.Symbol3DVerticalOffset);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/LineSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;const q=c.ofType({base:null,key:"type",typeMap:{line:n,path:k}});c=c.ofType({base:null,key:"type",typeMap:{line:n,path:k}});g=l=function(m){function t(f){f=m.call(this,f)||this;f.symbolLayers=new q;f.type="line-3d";return f}a._inheritsLoose(t,m);t.prototype.clone=function(){return new l({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};t.fromSimpleLineSymbol=function(f){return new l({symbolLayers:[n.fromSimpleLineSymbol(f)]})};
return t}(g);b.__decorate([d.property({type:q,json:{type:c}})],g.prototype,"symbolLayers",void 0);b.__decorate([r.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],g.prototype,"type",void 0);return g=l=b.__decorate([u.subclass("esri.symbols.LineSymbol3D")],g)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,e,d,p,r,u,n){d=function(k){function g(l){l=k.call(this,l)||this;l.angle=0;l.type=null;l.xoffset=0;l.yoffset=0;l.size=9;return l}a._inheritsLoose(g,k);g.prototype.hash=function(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`};return g}(n);b.__decorate([e.property({type:Number,json:{read:k=>k&&-1*k,write:(k,g)=>g.angle=k&&-1*k}})],d.prototype,"angle",void 0);b.__decorate([e.property({type:["simple-marker","picture-marker"],readOnly:!0})],d.prototype,
"type",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);b.__decorate([e.property({type:Number,cast:k=>"auto"===k?k:c.toPt(k),json:{write:!0}})],d.prototype,"size",void 0);return d=b.__decorate([u.subclass("esri.symbols.MarkerSymbol")],d)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;const l=c.ofType({base:null,key:"type",typeMap:{fill:n}});c=g=function(q){function m(t){t=q.call(this,t)||this;t.symbolLayers=new l;t.type="mesh-3d";return t}a._inheritsLoose(m,q);m.prototype.clone=function(){return new g({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};return m}(k);b.__decorate([d.property({type:l})],c.prototype,"symbolLayers",void 0);b.__decorate([r.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],c.prototype,"type",void 0);return c=g=b.__decorate([u.subclass("esri.symbols.MeshSymbol3D")],c)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,c,e,d,p,r,u,n,k){var g;
p=g=function(l){function q(...t){t=l.call(this,...t)||this;t.type="picture-fill";t.url=null;t.xscale=1;t.yscale=1;t.width=12;t.height=12;t.xoffset=0;t.yoffset=0;t.source=null;return t}a._inheritsLoose(q,l);var m=q.prototype;m.normalizeCtorArgs=function(t,f,h,v){if(t&&"string"!==typeof t&&null==t.imageData)return t;const w={};t&&(w.url=t);f&&(w.outline=f);null!=h&&(w.width=e.toPt(h));null!=v&&(w.height=e.toPt(v));return w};m.clone=function(){const t=new g({color:c.clone(this.color),height:this.height,
outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});t._set("source",c.clone(this.source));return t};m.hash=function(){var t;return`${l.prototype.hash.call(this)}.${null==(t=this.color)?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`};return q}(n);b.__decorate([r.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],p.prototype,
"type",void 0);b.__decorate([d.property(k.urlPropertyDefinition)],p.prototype,"url",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],p.prototype,"xscale",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],p.prototype,"yscale",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],p.prototype,"width",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],p.prototype,"height",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,
json:{write:!0}})],p.prototype,"xoffset",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],p.prototype,"yoffset",void 0);b.__decorate([d.property(k.sourcePropertyDefinition)],p.prototype,"source",void 0);return p=g=b.__decorate([u.subclass("esri.symbols.PictureFillSymbol")],p)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function e(u,n,k){return n.imageData?b.makeData({mediaType:n.contentType||
"image/png",isBase64:!0,data:n.imageData}):d(n.url,k)}function d(u,n){return!n||"service"!==n.origin&&"portal-item"!==n.origin||!n.layer||"feature"!==n.layer.type&&"stream"!==n.layer.type||b.isAbsolute(u)||!n.layer.parsedUrl?c.fromJSON(u,n):b.join(n.layer.parsedUrl.path,"images",u)}function p(u,n,k,g){b.isDataProtocol(u)?(u=b.dataComponents(u),n.contentType=u.mediaType,n.imageData=u.data,k&&k.imageData===n.imageData&&k.url&&c.write(k.url,n,"url",g)):c.write(u,n,"url",g)}const r={json:{read:{source:["imageData",
"url"],reader:e},write:{writer(u,n,k,g){p(u,n,this.source,g)}}}};a.read=d;a.readImageDataOrUrl=e;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(u,n,k){u={};n.imageData&&(u.imageData=n.imageData);n.contentType&&(u.contentType=n.contentType);n.url&&(u.url=d(n.url,k));return u}}}};a.urlPropertyDefinition=r;a.writeImageDataAndUrl=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;p=l=function(q){function m(...f){f=q.call(this,...f)||this;f.color=null;f.type="picture-marker";f.url=null;f.source=null;f.height=12;f.width=12;f.size=null;return f}a._inheritsLoose(m,q);var t=m.prototype;t.normalizeCtorArgs=function(f,h,v){if(f&&"string"!==typeof f&&null==f.imageData)return f;const w={};f&&(w.url=f);null!=h&&(w.width=e.toPt(h));null!=v&&(w.height=e.toPt(v));return w};t.readHeight=function(f,h){return h.size||f};t.readWidth=function(f,h){return h.size||
f};t.clone=function(){const f=new l({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});f._set("source",c.clone(this.source));return f};t.hash=function(){return`${q.prototype.hash.call(this)}.${this.height}.${this.url}.${this.width}`};return m}(k);b.__decorate([d.property({json:{write:!1}})],p.prototype,"color",void 0);b.__decorate([r.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],p.prototype,"type",void 0);b.__decorate([d.property(g.urlPropertyDefinition)],
p.prototype,"url",void 0);b.__decorate([d.property(g.sourcePropertyDefinition)],p.prototype,"source",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],p.prototype,"height",void 0);b.__decorate([u.reader("height",["height","size"])],p.prototype,"readHeight",null);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],p.prototype,"width",void 0);b.__decorate([d.property({json:{write:!1}})],p.prototype,"size",void 0);return p=l=b.__decorate([n.subclass("esri.symbols.PictureMarkerSymbol")],
p)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,c,e,d,p,r,u,n,k,g,l,q,m){var t;const f=
c.ofType({base:null,key:"type",typeMap:{icon:n,object:k,text:l}});c=t=function(h){function v(D){D=h.call(this,D)||this;D.verticalOffset=null;D.callout=null;D.symbolLayers=new f;D.type="point-3d";return D}a._inheritsLoose(v,h);var w=v.prototype;w.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const D of this.symbolLayers.items)switch(D.type){case "icon":case "text":case "object":continue;default:return!1}return!0};w.hasVisibleCallout=function(){return q.hasVisibleCallout(this)};
w.hasVisibleVerticalOffset=function(){return q.hasVisibleVerticalOffset(this)};w.clone=function(){return new t({verticalOffset:e.clone(this.verticalOffset),callout:e.clone(this.callout),styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};v.fromSimpleMarkerSymbol=function(D){return new t({symbolLayers:[n.fromSimpleMarkerSymbol(D)]})};v.fromPictureMarkerSymbol=function(D){return new t({symbolLayers:[n.fromPictureMarkerSymbol(D)]})};v.fromCIMSymbol=
function(D){var x,y;return"CIMPointSymbol"!==(null==(x=D.data)?void 0:null==(y=x.symbol)?void 0:y.type)?null:D.data.symbol.callout?new t({symbolLayers:[n.fromCIMSymbol(D)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new t({symbolLayers:[n.fromCIMSymbol(D)]})};v.fromTextSymbol=function(D){return new t({symbolLayers:[l.fromTextSymbol(D)]})};return v}(g);b.__decorate([d.property({type:m.Symbol3DVerticalOffset,json:{write:!0}})],c.prototype,"verticalOffset",void 0);
b.__decorate([d.property(q.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([d.property({type:f,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"symbolLayers",void 0);b.__decorate([r.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=t=b.__decorate([u.subclass("esri.symbols.PointSymbol3D")],c)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h){var v;const w=c.ofType({base:null,key:"type",typeMap:{extrude:k,fill:g,icon:l,line:q,object:m,text:f,water:h}});c=v=function(D){function x(y){y=D.call(this,y)||this;y.symbolLayers=new w;y.type="polygon-3d";return y}a._inheritsLoose(x,D);x.prototype.clone=function(){return new v({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};x.fromJSON=function(y){const z=new v;z.read(y);if(2===z.symbolLayers.length&&
"fill"===z.symbolLayers.getItemAt(0).type&&"line"===z.symbolLayers.getItemAt(1).type){const A=z.symbolLayers.getItemAt(0),C=z.symbolLayers.getItemAt(1);!C.enabled||y.symbolLayers&&y.symbolLayers[1]&&!1===y.symbolLayers[1].enable||(A.outline={size:C.size,color:d.isSome(C.material)?C.material.color:null});z.symbolLayers.removeAt(1)}return z};x.fromSimpleFillSymbol=function(y){return new v({symbolLayers:[g.fromSimpleFillSymbol(y)]})};return x}(t);b.__decorate([p.property({type:w,json:{write:!0}})],c.prototype,
"symbolLayers",void 0);b.__decorate([u.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=v=b.__decorate([n.subclass("esri.symbols.PolygonSymbol3D")],c)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;e=new e.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});k=l=function(q){function m(...f){f=q.call(this,...f)||this;f.color=new c([0,0,0,.25]);f.outline=new g;f.type="simple-fill";f.style="solid";return f}a._inheritsLoose(m,q);var t=m.prototype;t.normalizeCtorArgs=
function(f,h,v){if(f&&"string"!==typeof f)return f;const w={};f&&(w.style=f);h&&(w.outline=h);v&&(w.color=v);return w};t.clone=function(){return new l({color:d.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};t.hash=function(){return`${q.prototype.hash.call(this)}${this.style}.${this.color&&this.color.hash()}`};return m}(k);b.__decorate([p.property()],k.prototype,"color",void 0);b.__decorate([p.property()],k.prototype,"outline",void 0);b.__decorate([u.enumeration({esriSFS:"simple-fill"},
{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([p.property({type:e.apiValues,json:{read:e.read,write:e.write}})],k.prototype,"style",void 0);return k=l=b.__decorate([n.subclass("esri.symbols.SimpleFillSymbol")],k)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;e=new e.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});l=m=function(t){function f(...v){v=t.call(this,...v)||this;v.color=new c([255,255,255,.25]);v.type="simple-marker";v.size=12;v.style="circle";v.outline=new q;return v}a._inheritsLoose(f,t);var h=f.prototype;h.normalizeCtorArgs=function(v,w,D,x){if(v&&"string"!==typeof v)return v;const y={};
v&&(y.style=v);null!=w&&(y.size=p.toPt(w));D&&(y.outline=D);x&&(y.color=x);return y};h.writeColor=function(v,w){v&&"x"!==this.style&&"cross"!==this.style&&(w.color=v.toJSON());null===v&&(w.color=null)};h.clone=function(){return new m({angle:this.angle,color:d.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};h.hash=function(){var v;return`${t.prototype.hash.call(this)}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==
(v=this.outline)?void 0:v.hash()}`};a._createClass(f,[{key:"path",set:function(v){this.style="path";this._set("path",v)}}]);return f}(l);b.__decorate([r.property()],l.prototype,"color",void 0);b.__decorate([g.writer("color")],l.prototype,"writeColor",null);b.__decorate([n.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],l.prototype,"type",void 0);b.__decorate([r.property()],l.prototype,"size",void 0);b.__decorate([r.property({type:e.apiValues,json:{read:e.read,write:e.write}})],l.prototype,"style",
void 0);b.__decorate([r.property({type:String,json:{write:!0}})],l.prototype,"path",null);b.__decorate([r.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":q}},json:{default:null,write:!0}})],l.prototype,"outline",void 0);return l=m=b.__decorate([k.subclass("esri.symbols.SimpleMarkerSymbol")],l)})},"esri/symbols/TextSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;l=m=function(t){function f(...v){v=t.call(this,...v)||this;v.backgroundColor=null;v.borderLineColor=null;v.borderLineSize=null;v.font=new g;v.horizontalAlignment="center";v.kerning=!0;v.haloColor=null;v.haloSize=null;v.rightToLeft=null;v.rotated=!1;v.text="";v.type="text";v.verticalAlignment="baseline";v.xoffset=0;v.yoffset=0;v.angle=0;v.width=null;v.lineWidth=192;v.lineHeight=1;return v}a._inheritsLoose(f,t);var h=f.prototype;h.normalizeCtorArgs=function(v,
w,D){if(v&&"string"!==typeof v)return v;const x={};v&&(x.text=v);w&&(x.font=w);D&&(x.color=D);return x};h.writeLineWidth=function(v,w,D,x){x&&"string"!==typeof x||(w[D]=v)};h.castLineWidth=function(v){return d.toPt(v)};h.writeLineHeight=function(v,w,D,x){x&&"string"!==typeof x||(w[D]=v)};h.clone=function(){return new m({angle:this.angle,backgroundColor:e.clone(this.backgroundColor),borderLineColor:e.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:e.clone(this.color),font:this.font&&
this.font.clone(),haloColor:e.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};h.hash=function(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&
this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`};return f}(l);b.__decorate([p.property({type:c,json:{write:!0}})],l.prototype,"backgroundColor",void 0);b.__decorate([p.property({type:c,json:{write:!0}})],l.prototype,"borderLineColor",void 0);b.__decorate([p.property({type:Number,
json:{write:!0}})],l.prototype,"borderLineSize",void 0);b.__decorate([p.property({type:g,json:{write:!0}})],l.prototype,"font",void 0);b.__decorate([p.property({...q.horizontalAlignmentProperty,json:{write:!0}})],l.prototype,"horizontalAlignment",void 0);b.__decorate([p.property({type:Boolean,json:{write:!0}})],l.prototype,"kerning",void 0);b.__decorate([p.property({type:c,json:{write:!0}})],l.prototype,"haloColor",void 0);b.__decorate([p.property({type:Number,cast:d.toPt,json:{write:!0}})],l.prototype,
"haloSize",void 0);b.__decorate([p.property({type:Boolean,json:{write:!0}})],l.prototype,"rightToLeft",void 0);b.__decorate([p.property({type:Boolean,json:{write:!0}})],l.prototype,"rotated",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],l.prototype,"text",void 0);b.__decorate([u.enumeration({esriTS:"text"},{readOnly:!0})],l.prototype,"type",void 0);b.__decorate([p.property({...q.verticalAlignmentProperty,json:{write:!0}})],l.prototype,"verticalAlignment",void 0);b.__decorate([p.property({type:Number,
cast:d.toPt,json:{write:!0}})],l.prototype,"xoffset",void 0);b.__decorate([p.property({type:Number,cast:d.toPt,json:{write:!0}})],l.prototype,"yoffset",void 0);b.__decorate([p.property({type:Number,json:{read:t=>t&&-1*t,write:(t,f)=>f.angle=t&&-1*t}})],l.prototype,"angle",void 0);b.__decorate([p.property({type:Number,json:{write:!0}})],l.prototype,"width",void 0);b.__decorate([p.property({type:Number})],l.prototype,"lineWidth",void 0);b.__decorate([k.writer("lineWidth")],l.prototype,"writeLineWidth",
null);b.__decorate([r.cast("lineWidth")],l.prototype,"castLineWidth",null);b.__decorate([p.property(q.lineHeightProperty)],l.prototype,"lineHeight",void 0);b.__decorate([k.writer("lineHeight")],l.prototype,"writeLineHeight",null);return l=m=b.__decorate([n.subclass("esri.symbols.TextSymbol")],l)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f){function h(){return new Promise((D,x)=>a(["./support/webStyleSymbolUtils"],D,x))}var v;const w=e.getLogger("esri.symbols.WebStyleSymbol");e=v=function(D){function x(z){z=D.call(this,z)||this;z.styleName=null;z.portal=null;z.styleUrl=null;z.thumbnail=null;z.name=null;z.type="web-style";return z}b._inheritsLoose(x,D);var y=x.prototype;y.read=function(z,A){this.portal=A?A.portal:void 0;D.prototype.read.call(this,z,A)};y.clone=function(){return new v({name:this.name,
styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};y.fetchSymbol=function(z){return this._fetchSymbol("webRef",z)};y.fetchCIMSymbol=function(z){return this._fetchSymbol("cimRef",z)};y._fetchSymbol=function(){var z=b._asyncToGenerator(function*(A,C){const B=d.isSome(C)?C.cache:null,E=B?this.fetchCacheKey:null;if(d.isSome(B)){var G=B.get(E);if(G)return G.clone()}G=yield h();p.throwIfAborted(C);C=G.resolveWebStyleSymbol(this,{portal:this.portal},A,C);C.catch(J=>{w.error("#fetchSymbol()",
"Failed to create symbol from style",J)});C=yield C;if(!("webRef"===A&&"point-3d"===C.type||"cimRef"===A&&"cim"===C.type))return null;d.isSome(B)&&B.set(E,C.clone());return C});return function(A,C){return z.apply(this,arguments)}}();b._createClass(x,[{key:"fetchCacheKey",get:function(){const z=d.isSome(this.portal)?this.portal:q.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${z.user?z.user.username:null}:${z.url}`}}]);return x}(t);c.__decorate([r.property({json:{write:!1}})],
e.prototype,"color",void 0);c.__decorate([r.property({type:String,json:{write:!0}})],e.prototype,"styleName",void 0);c.__decorate([r.property({type:q,json:{write:!1}})],e.prototype,"portal",void 0);c.__decorate([r.property({type:String,json:{read:m.read,write:m.write}})],e.prototype,"styleUrl",void 0);c.__decorate([r.property({type:f.Thumbnail,json:{read:!1}})],e.prototype,"thumbnail",void 0);c.__decorate([r.property({type:String,json:{write:!0}})],e.prototype,"name",void 0);c.__decorate([g.enumeration({styleSymbolReference:"web-style"},
{readOnly:!0})],e.prototype,"type",void 0);c.__decorate([r.property()],e.prototype,"fetchCacheKey",null);return e=v=c.__decorate([l.subclass("esri.symbols.WebStyleSymbol")],e)})},"esri/renderers/Renderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),
function(a,b,c,e,d,p,r,u,n,k){c=new c.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});e=function(g){function l(m){m=g.call(this,m)||this;m.authoringInfo=null;m.type=null;return m}a._inheritsLoose(l,g);var q=l.prototype;q.getRequiredFields=function(){var m=a._asyncToGenerator(function*(t){if(!this.collectRequiredFields)return[];const f=new Set;yield this.collectRequiredFields(f,
t);return Array.from(f).sort()});return function(t){return m.apply(this,arguments)}}();q.getSymbol=function(m,t){};q.getSymbolAsync=function(){var m=a._asyncToGenerator(function*(t,f){});return function(t,f){return m.apply(this,arguments)}}();q.getSymbols=function(){return[]};q.getAttributeHash=function(){return JSON.stringify(this)};q.getMeshHash=function(){return JSON.stringify(this)};return l}(e.JSONSupport);b.__decorate([d.property({type:k,json:{write:!0}})],e.prototype,"authoringInfo",void 0);
b.__decorate([d.property({type:c.apiValues,readOnly:!0,json:{type:c.jsonValues,read:!1,write:{writer:c.write,ignoreOrigin:!0}}})],e.prototype,"type",void 0);return e=b.__decorate([n.subclass("esri.renderers.Renderer")],e)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;const m=new c.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),t=new c.JSONMap({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",
dotDensity:"dot-density",flow:"flow"});c=new c.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const f="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");e=q=function(h){function v(D){D=h.call(this,D)||this;D.colorRamp=null;D.lengthUnit=null;D.maxSliderValue=null;D.minSliderValue=
null;D.visualVariables=null;return D}a._inheritsLoose(v,h);var w=v.prototype;w.readColorRamp=function(D){if(D)return l.fromJSON(D)};w.clone=function(){return new q({classificationMethod:this.classificationMethod,colorRamp:d.clone(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:d.clone(this.field1),field2:d.clone(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,
standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(D=>D.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})};a._createClass(v,[{key:"classificationMethod",get:function(){const D=this._get("classificationMethod"),x=this.type;return x&&"relationship"!==x?"class-breaks-size"===x||"class-breaks-color"===x?D||"manual":null:D},set:function(D){this._set("classificationMethod",
D)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(D){this._set("fields",D)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(D){this._set("field1",D)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(D){this._set("field2",D)}},{key:"flowTheme",get:function(){return"flow"===this.type?this._get("flowTheme"):
null},set:function(D){this._set("flowTheme",D)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(D){this._set("focus",D)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(D){this._set("numClasses",D)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(D){this._set("statistics",
D)}},{key:"standardDeviationInterval",get:function(){const D=this.type;return D&&"relationship"!==D&&"class-breaks-size"!==D&&"class-breaks-color"!==D?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(D){this._set("standardDeviationInterval",D)}},{key:"type",get:function(){return this._get("type")},set:function(D){let x=D;"classed-size"===D?x="class-breaks-size":"classed-color"===D&&(x="class-breaks-color");this._set("type",
x)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(D){this._set("univariateSymbolStyle",D)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(D){this._set("univariateTheme",D)}}]);return v}(e.JSONSupport);b.__decorate([p.property({type:m.apiValues,value:null,json:{type:m.jsonValues,read:m.read,
write:m.write,origins:{"web-document":{default:"manual",type:m.jsonValues,read:m.read,write:m.write}}}})],e.prototype,"classificationMethod",null);b.__decorate([p.property({types:l.types,json:{write:!0}})],e.prototype,"colorRamp",void 0);b.__decorate([u.reader("colorRamp")],e.prototype,"readColorRamp",null);b.__decorate([p.property({type:[String],value:null,json:{write:!0}})],e.prototype,"fields",null);b.__decorate([p.property({type:k.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],e.prototype,
"field1",null);b.__decorate([p.property({type:k.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],e.prototype,"field2",null);b.__decorate([p.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"flowTheme",null);b.__decorate([p.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],e.prototype,"focus",null);b.__decorate([p.property({type:Number,value:null,json:{type:r.Integer,write:!0}})],e.prototype,"numClasses",null);
b.__decorate([p.property({type:f,json:{type:f,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],e.prototype,"lengthUnit",void 0);b.__decorate([p.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"maxSliderValue",void 0);b.__decorate([p.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"minSliderValue",void 0);b.__decorate([p.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,
read:!1}}}})],e.prototype,"statistics",null);b.__decorate([p.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],e.prototype,"standardDeviationInterval",null);b.__decorate([p.property({type:t.apiValues,value:null,json:{type:t.jsonValues,read:t.read,write:t.write,origins:{"web-scene":{type:c.jsonValues,write:{writer:c.write,overridePolicy(h){return{enabled:"flow"!==h}}}}}}})],e.prototype,"type",null);b.__decorate([p.property({type:[g],json:{write:!0}})],e.prototype,"visualVariables",
void 0);b.__decorate([p.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"univariateSymbolStyle",null);b.__decorate([p.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"univariateTheme",null);return e=q=b.__decorate([n.subclass("esri.renderers.support.AuthoringInfo")],
e)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),function(a,b,c,e,d,p,r,u,n){var k;a.AuthoringInfoFieldInfo=k=function(g){function l(q){q=g.call(this,q)||this;q.field="";q.normalizationField="";
q.label="";q.classBreakInfos=[];return q}b._inheritsLoose(l,g);l.prototype.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:d.clone(this.classBreakInfos)})};return l}(e.JSONSupport);c.__decorate([p.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",void 0);c.__decorate([p.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);c.__decorate([p.property({type:String,
json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);c.__decorate([p.property({type:[n.AuthoringInfoClassBreakInfo],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=k=c.__decorate([u.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;a.AuthoringInfoClassBreakInfo=k=function(g){function l(q){q=g.call(this,q)||this;q.minValue=0;q.maxValue=0;return q}b._inheritsLoose(l,g);l.prototype.clone=function(){return new k({minValue:this.minValue,maxValue:this.maxValue})};return l}(e.JSONSupport);c.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,
"maxValue",void 0);a.AuthoringInfoClassBreakInfo=k=c.__decorate([n.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],a.AuthoringInfoClassBreakInfo);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;p=new c.JSONMap({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"});c=new c.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});r={key(m){return"number"===typeof m?"number":"string"},typeMap:{number:Number,string:String},base:null};const g=["high-to-low","above-and-below","centered-on","extremes"],l=[...new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" "))],
q="seconds minutes hours days months years".split(" ");e=k=function(m){function t(h){h=m.call(this,h)||this;h.endTime=null;h.field=null;h.maxSliderValue=null;h.minSliderValue=null;h.startTime=null;h.type=null;h.units=null;return h}a._inheritsLoose(t,m);var f=t.prototype;f.castEndTime=function(h){return"string"===typeof h||"number"===typeof h?h:null};f.castStartTime=function(h){return"string"===typeof h||"number"===typeof h?h:null};f.clone=function(){return new k({endTime:this.endTime,field:this.field,
maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};a._createClass(t,[{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(h){this._set("style",h)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(h){this._set("theme",h)}}]);return t}(e.JSONSupport);b.__decorate([d.property({types:r,
json:{write:!0}})],e.prototype,"endTime",void 0);b.__decorate([u.cast("endTime")],e.prototype,"castEndTime",null);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"maxSliderValue",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"minSliderValue",void 0);b.__decorate([d.property({types:r,json:{write:!0}})],e.prototype,"startTime",void 0);b.__decorate([u.cast("startTime")],
e.prototype,"castStartTime",null);b.__decorate([d.property({type:p.apiValues,value:null,json:{type:p.jsonValues,read:p.read,write:p.write}})],e.prototype,"style",null);b.__decorate([d.property({type:l,value:null,json:{type:l,origins:{"web-scene":{type:g,write:{writer:(m,t)=>{g.includes(m)&&(t.theme=m)}}}},write:!0}})],e.prototype,"theme",null);b.__decorate([d.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],e.prototype,"type",void 0);b.__decorate([d.property({type:q,
json:{type:q,write:!0}})],e.prototype,"units",void 0);return e=k=b.__decorate([n.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],e)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,e){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:e}};a.fromJSON=function(d){return d&&d.type?"algorithmic"===d.type?b.fromJSON(d):"multipart"===d.type?e.fromJSON(d):null:null};a.types=c;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),function(a,b,c,e,d,p,r,u,n){var k;n=k=function(g){function l(q){q=g.call(this,q)||
this;q.algorithm=null;q.fromColor=null;q.toColor=null;q.type="algorithmic";return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({fromColor:e.clone(this.fromColor),toColor:e.clone(this.toColor),algorithm:this.algorithm})};return l}(n);b.__decorate([r.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],n.prototype,"algorithm",void 0);b.__decorate([d.property({type:c,json:{type:[p.Integer],write:!0}})],n.prototype,"fromColor",void 0);
b.__decorate([d.property({type:c,json:{type:[p.Integer],write:!0}})],n.prototype,"toColor",void 0);b.__decorate([d.property({type:["algorithmic"]})],n.prototype,"type",void 0);return n=k=b.__decorate([u.subclass("esri.rest.support.AlgorithmicColorRamp")],n)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(n){function k(g){g=n.call(this,g)||this;g.type=null;return g}a._inheritsLoose(k,n);return k}(c.JSONSupport);b.__decorate([e.property({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([u.subclass("esri.rest.support.ColorRamp")],c)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,e,d,p,r,u){var n;d=n=function(k){function g(l){l=k.call(this,l)||this;l.colorRamps=null;l.type="multipart";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({colorRamps:c.clone(this.colorRamps)})};return g}(u);b.__decorate([e.property({type:[r],json:{write:!0}})],d.prototype,"colorRamps",void 0);b.__decorate([e.property({type:["multipart"]})],d.prototype,"type",void 0);return d=n=b.__decorate([p.subclass("esri.rest.support.MultipartColorRamp")],d)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h){const v={base:f,key:"type",typeMap:{opacity:q,color:l,rotation:m,size:t}};a.VisualVariablesMixin=w=>{w=function(D){function x(){var z=D.apply(this,arguments)||this;z._vvFactory=new h;return z}b._inheritsLoose(x,D);var y=x.prototype;y.readVisualVariables=function(z,A,C){return this._vvFactory.readVariables(z,A,C)};y.writeVisualVariables=function(z,A,C,B){A[C]=this._vvFactory.writeVariables(z,B)};y.hasVisualVariables=function(z,A){return z?0<this.getVisualVariablesForType(z,
A).length:0<this.getVisualVariablesForType("size",A).length||0<this.getVisualVariablesForType("color",A).length||0<this.getVisualVariablesForType("opacity",A).length||0<this.getVisualVariablesForType("rotation",A).length};y.getVisualVariablesForType=function(z,A){const C=this.visualVariables;return C?C.filter(B=>B.type===z&&("string"===typeof A?B.target===A:!1===A?!B.target:!0)):[]};y.collectVVRequiredFields=function(){var z=b._asyncToGenerator(function*(A,C){let B=[];this.visualVariables&&(B=B.concat(this.visualVariables));
for(const E of B)E&&(E.field&&g.collectField(A,C,E.field),E.normalizationField&&g.collectField(A,C,E.normalizationField),E.valueExpression&&(yield g.collectArcadeFieldNames(A,C,E.valueExpression)))});return function(A,C){return z.apply(this,arguments)}}();b._createClass(x,[{key:"visualVariables",set:function(z){this._vvFactory.visualVariables=z;this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;for(const z of this.visualVariables)if(z.arcadeRequired)return!0;
return!1}}]);return x}(w);c.__decorate([e.property({types:[v],value:null,json:{write:!0}})],w.prototype,"visualVariables",null);c.__decorate([u.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],w.prototype,"readVisualVariables",null);c.__decorate([k.writer("visualVariables")],w.prototype,"writeVisualVariables",null);return w=c.__decorate([n.subclass("esri.renderers.mixins.VisualVariablesMixin")],w)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(m){m=g.call(this,m)||this;m.type="color";m.normalizationField=null;return m}a._inheritsLoose(l,
g);var q=l.prototype;q.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(m=>m.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};q.getAttributeHash=function(){return`${g.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};q._interpolateData=function(){return this.stops&&this.stops.map(m=>m.value||0)};a._createClass(l,
[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(m){m&&Array.isArray(m)&&(m=m.filter(t=>!!t),m.sort((t,f)=>t.value-f.value));this._set("stops",m)}}]);return l}(u);b.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);b.__decorate([c.property({type:["color"],json:{type:["colorInfo"]}})],e.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",
void 0);b.__decorate([c.property({type:[n],json:{write:!0}})],e.prototype,"stops",null);return e=k=b.__decorate([r.subclass("esri.renderers.visualVariables.ColorVariable")],e)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){const q=d.getLogger("esri.renderers.visualVariables.VisualVariable");c=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});e=function(m){function t(h){h=m.call(this,h)||this;h.index=null;h.type=null;h.field=null;h.valueExpression=null;h.valueExpressionTitle=null;h.legendOptions=null;return h}a._inheritsLoose(t,m);var f=t.prototype;f.castField=function(h){return null==h?h:"function"===typeof h?(q.error(".field: field must be a string value"),
null):g.ensureString(h)};f.clone=function(){};f.getAttributeHash=function(){return`${this.type}-${this.field}-${this.valueExpression}`};a._createClass(t,[{key:"arcadeRequired",get:function(){return!!this.valueExpression}}]);return t}(e.JSONSupport);b.__decorate([p.property()],e.prototype,"index",void 0);b.__decorate([p.property({type:c.apiValues,readOnly:!0,json:{read:c.read,write:c.write}})],e.prototype,"type",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);
b.__decorate([n.cast("field")],e.prototype,"castField",null);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);b.__decorate([p.property({readOnly:!0})],e.prototype,"arcadeRequired",null);b.__decorate([p.property({type:l,json:{write:!0}})],e.prototype,"legendOptions",void 0);return e=b.__decorate([k.subclass("esri.renderers.visualVariables.VisualVariable")],
e)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(){var l=k.apply(this,arguments)||this;l.showLegend=null;
return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({title:this.title,showLegend:this.showLegend})};return g}(u.LegendOptions);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showLegend",void 0);return e=n=b.__decorate([r.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],e)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;a.LegendOptions=k=function(g){function l(){var q=g.apply(this,arguments)||this;q.title=null;return q}b._inheritsLoose(l,g);l.prototype.clone=function(){return new k({title:this.title})};return l}(e.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=k=c.__decorate([n.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,e,d,p,r,u,n,k){var g;e=g=function(l){function q(t){t=l.call(this,
t)||this;t.color=null;t.label=null;t.value=null;return t}a._inheritsLoose(q,l);var m=q.prototype;m.writeValue=function(t,f,h){f[h]=null==t?0:t};m.clone=function(){return new g({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return q}(e.JSONSupport);b.__decorate([d.property({type:c,json:{type:[u.Integer],write:!0}})],e.prototype,"color",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([d.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
e.prototype,"value",void 0);b.__decorate([k.writer("value")],e.prototype,"writeValue",null);return e=g=b.__decorate([n.subclass("esri.renderers.visualVariables.support.ColorStop")],e)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(m){m=g.call(this,m)||this;m.type="opacity";m.normalizationField=null;return m}a._inheritsLoose(l,g);var q=l.prototype;q.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(m=>m.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};q.getAttributeHash=function(){return`${g.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
q._interpolateData=function(){return this.stops&&this.stops.map(m=>m.value||0)};a._createClass(l,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(m){m&&Array.isArray(m)&&(m=m.filter(t=>!!t),m.sort((t,f)=>t.value-f.value));this._set("stops",m)}}]);return l}(u);b.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);b.__decorate([c.property({type:["opacity"],json:{type:["transparencyInfo"]}})],
e.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[n],json:{write:!0}})],e.prototype,"stops",null);return e=k=b.__decorate([r.subclass("esri.renderers.visualVariables.OpacityVariable")],e)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;c=l=function(q){function m(f){f=q.call(this,f)||this;f.label=null;f.opacity=null;f.value=null;return f}a._inheritsLoose(m,q);var t=m.prototype;t.readOpacity=function(f,h){return g.transparencyToOpacity(h.transparency)};t.writeOpacity=function(f,h,v){h[v]=g.opacityToTransparency(f)};t.clone=function(){return new l({label:this.label,opacity:this.opacity,value:this.value})};return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,
"label",void 0);b.__decorate([e.property({type:Number,json:{type:r.Integer,write:{target:"transparency"}}})],c.prototype,"opacity",void 0);b.__decorate([u.reader("opacity",["transparency"])],c.prototype,"readOpacity",null);b.__decorate([k.writer("opacity")],c.prototype,"writeOpacity",null);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=l=b.__decorate([n.subclass("esri.renderers.visualVariables.support.OpacityStop")],c)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;d=g=function(l){function q(t){t=l.call(this,t)||this;t.axis=null;t.type="rotation";t.rotationType="geographic";t.valueExpressionTitle=null;return t}a._inheritsLoose(q,l);var m=q.prototype;m.writeValueExpressionTitleWebScene=function(t,f,h,v){v&&v.messages&&v.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:v}))};m.clone=function(){return new g({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};a._createClass(q,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}}]);return q}(k);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],d.prototype,"axis",void 0);b.__decorate([e.property({type:["rotation"],json:{type:["rotationInfo"]}})],d.prototype,"type",void 0);b.__decorate([e.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],d.prototype,"rotationType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);b.__decorate([n.writer("web-scene",
"valueExpressionTitle")],d.prototype,"writeValueExpressionTitleWebScene",null);return d=g=b.__decorate([u.subclass("esri.renderers.visualVariables.RotationVariable")],d)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v){function w(C){if(null!=C){if("string"===typeof C||"number"===typeof C)return p.toPt(C);if("size"===C.type){if(h.isSizeVariable(C))return C;C={...C};delete C.type;return new A(C)}}}function D(C,B,E){if("object"!==typeof C)return C;B=new A;B.read(C,E);return B}var x;const y=d.getLogger("esri.renderers.visualVariables.SizeVariable");d=new e.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"});const z=new e.JSONMap({unknown:"unknown",
inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let A=x=function(C){function B(G){G=C.call(this,G)||this;G.axis=null;G.legendOptions=null;G.normalizationField=null;G.scaleBy=null;G.target=null;G.type="size";G.useSymbolValue=null;G.valueExpression=null;G.valueRepresentation=null;G.valueUnit=null;return G}a._inheritsLoose(B,
C);var E=B.prototype;E.castMaxSize=function(G){return w(G)};E.readMaxSize=function(G,J,K){return D(G,J,K)};E.castMinSize=function(G){return w(G)};E.readMinSize=function(G,J,K){return D(G,J,K)};E.readValueExpression=function(G,J){return G||J.expression&&"$view.scale"};E.writeValueExpressionWebScene=function(G,J,K,F){"$view.scale"===G?F&&F.messages&&(G=this.index,F.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:("string"===typeof G?G:`visualVariables[${G}]`)+".valueExpression",context:F}))):J[K]=G};E.readValueUnit=function(G){return G?z.read(G):null};E.clone=function(){return new x({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:h.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:h.isSizeVariable(this.minSize)?this.minSize.clone():
this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(G=>G.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};E.flipSizes=function(){if(this.transformationType===h.TransformationType.ClampedLinear){const {minSize:G,maxSize:J}=this;this.minSize=J;this.maxSize=G;return this}if(this.transformationType===h.TransformationType.Stops){const G=
this.stops,J=G.map(F=>F.size).reverse(),K=G.length;for(let F=0;F<K;F++)G[F].size=J[F]}return this};E.getAttributeHash=function(){return`${C.prototype.getAttributeHash.call(this)}-${this.target}-${this.normalizationField}`};E._interpolateData=function(){return this.stops&&this.stops.map(G=>G.value||0)};a._createClass(B,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:v.viewScaleRE.test(this.valueExpression)}}},{key:"expression",
set:function(G){y.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===G?(this.valueExpression="$view.scale",this._set("expression",G)):this._set("expression",null)}},{key:"index",set:function(G){h.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${G}].maxSize`);h.isSizeVariable(this.minSize)&&(this.minSize.index=`visualVariables[${G}].minSize`);this._set("index",G)}},{key:"inputValueType",
get:function(){return h.getInputValueType(this)}},{key:"maxDataValue",set:function(G){G&&this.stops&&(y.warn("cannot set maxDataValue when stops is not null."),G=null);this._set("maxDataValue",G)}},{key:"maxSize",set:function(G){G&&this.stops&&(y.warn("cannot set maxSize when stops is not null."),G=null);this._set("maxSize",G)}},{key:"minDataValue",set:function(G){G&&this.stops&&(y.warn("cannot set minDataValue when stops is not null."),G=null);this._set("minDataValue",G)}},{key:"minSize",set:function(G){G&&
this.stops&&(y.warn("cannot set minSize when stops is not null."),G=null);this._set("minSize",G)}},{key:"arcadeRequired",get:function(){return this.valueExpression?!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(G){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?G&&Array.isArray(G)&&(G=G.filter(J=>!!J),G.sort((J,K)=>J.value-K.value)):
G&&(y.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),G=null);this._set("stops",G)}},{key:"transformationType",get:function(){return h.getTransformationType(this,this.inputValueType)}}]);return B}(m);b.__decorate([r.property({readOnly:!0})],A.prototype,"cache",null);b.__decorate([r.property({type:d.apiValues,json:{type:d.jsonValues,origins:{"web-map":{read:!1}},read:d.read,write:d.write}})],A.prototype,"axis",void 0);b.__decorate([r.property({type:String,
value:null,json:{read:!1}})],A.prototype,"expression",null);b.__decorate([r.property()],A.prototype,"index",null);b.__decorate([r.property({type:String,readOnly:!0})],A.prototype,"inputValueType",null);b.__decorate([r.property({type:f,json:{write:!0}})],A.prototype,"legendOptions",void 0);b.__decorate([r.property({type:Number,value:null,json:{write:!0}})],A.prototype,"maxDataValue",null);b.__decorate([r.property({type:Number,value:null,json:{write:!0}})],A.prototype,"maxSize",null);b.__decorate([k.cast("maxSize")],
A.prototype,"castMaxSize",null);b.__decorate([g.reader("maxSize")],A.prototype,"readMaxSize",null);b.__decorate([r.property({type:Number,value:null,json:{write:!0}})],A.prototype,"minDataValue",null);b.__decorate([r.property({type:Number,value:null,json:{write:!0}})],A.prototype,"minSize",null);b.__decorate([k.cast("minSize")],A.prototype,"castMinSize",null);b.__decorate([g.reader("minSize")],A.prototype,"readMinSize",null);b.__decorate([r.property({type:String,json:{write:!0}})],A.prototype,"normalizationField",
void 0);b.__decorate([r.property({readOnly:!0})],A.prototype,"arcadeRequired",null);b.__decorate([r.property({type:String})],A.prototype,"scaleBy",void 0);b.__decorate([r.property({type:[t],value:null,json:{write:!0}})],A.prototype,"stops",null);b.__decorate([r.property({type:["outline"],json:{write:!0}})],A.prototype,"target",void 0);b.__decorate([r.property({type:String,readOnly:!0})],A.prototype,"transformationType",null);b.__decorate([r.property({type:["size"],json:{type:["sizeInfo"]}})],A.prototype,
"type",void 0);b.__decorate([r.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],A.prototype,"useSymbolValue",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],A.prototype,"valueExpression",void 0);b.__decorate([g.reader("valueExpression",["valueExpression","expression"])],A.prototype,"readValueExpression",null);b.__decorate([q.writer("web-scene","valueExpression")],A.prototype,"writeValueExpressionWebScene",null);b.__decorate([r.property({type:["radius","diameter",
"area","width","distance"],json:{write:!0}})],A.prototype,"valueRepresentation",void 0);b.__decorate([r.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],A.prototype,"valueUnit",void 0);b.__decorate([g.reader("valueUnit")],A.prototype,"readValueUnit",null);return A=x=b.__decorate([l.subclass("esri.renderers.visualVariables.SizeVariable")],A)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(q){q=g.call(this,q)||this;q.label=null;q.size=null;q.value=null;return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({label:this.label,size:this.size,value:this.value})};return l}(c.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],
c.prototype,"value",void 0);return c=k=b.__decorate([n.subclass("esri.renderers.visualVariables.support.SizeStop")],c)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(){var l=k.apply(this,arguments)||this;l.customValues=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};return g}(u);b.__decorate([c.property({type:[Number],json:{write:!0}})],e.prototype,"customValues",void 0);return e=n=b.__decorate([r.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],
e)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function b(c){return c.valueExpression?a.InputValueType.Expression:c.field&&"string"===typeof c.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(c){c.Unknown="unknown";c.Expression="expression";c.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(c){c.Unknown="unknown";c.Stops="stops";c.ClampedLinear="clamped-linear";
c.Proportional="proportional";c.Additive="additive";c.Constant="constant";c.Identity="identity";c.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(c,e){return(e||b(c))===a.InputValueType.Unknown?a.TransformationType.Constant:c.stops?a.TransformationType.Stops:null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(c.valueUnit||"unknown")?null!=
c.minSize&&null!=c.minDataValue?c.minSize&&c.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,c,e,d,p,r,u){function n(x,y,z){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(F=>"color"===F.type):x)if("esri.renderers.visualVariables.ColorVariable"!==x.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var A="number"===typeof y,C=A?null:y,B=C&&C.attributes,E=A?y:null,G=x.field,{ipData:J,hasExpression:K}=x.cache;y=x.cache.compiledFunc;if(!G&&!K)return(z=x.stops)&&z[0]&&z[0].color;if("number"!==
typeof E)if(K){if(p.isNone(z)||p.isNone(z.arcade)){v.error("Use of arcade expressions requires an arcade context");return}E=z.arcade.arcadeUtils;G=E.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:z.spatialReference});C=E.createExecContext(C,G);y||(y=E.createSyntaxTree(x.valueExpression),y=E.createFunction(y),x.cache.compiledFunc=y);E=E.executeFunction(y,C)}else B&&(E=B[G]);C=x.normalizationField;B=B?parseFloat(B[C]):void 0;if(null!=E&&(!C||A||!isNaN(B)&&0!==B)&&(isNaN(B)||A||
(E/=B),A=h(E,J)))return B=A[0],C=A[1],z=B===C?x.stops[B].color:b.blendColors(x.stops[B].color,x.stops[C].color,A[2],p.isSome(z)?z.color:void 0),new b(z)}}function k(x,y,z){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(F=>"opacity"===F.type):x)if("esri.renderers.visualVariables.OpacityVariable"!==x.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var A="number"===typeof y,C=A?null:y,B=C&&C.attributes,E=A?
y:null,G=x.field,{ipData:J,hasExpression:K}=x.cache;y=x.cache.compiledFunc;if(!G&&!K)return(x=x.stops)&&x[0]&&x[0].opacity;if("number"!==typeof E)if(K){if(p.isNone(z)||p.isNone(z.arcade)){v.error("Use of arcade expressions requires an arcade context");return}E=z.arcade.arcadeUtils;z=E.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:z.spatialReference});z=E.createExecContext(C,z);y||(C=E.createSyntaxTree(x.valueExpression),y=E.createFunction(C),x.cache.compiledFunc=y);E=E.executeFunction(y,
z)}else B&&(E=B[G]);z=x.normalizationField;B=B?parseFloat(B[z]):void 0;if(null!=E&&(!z||A||!isNaN(B)&&0!==B)&&(isNaN(B)||A||(E/=B),A=h(E,J))){z=A[0];B=A[1];if(z===B)return x.stops[z].opacity;z=x.stops[z].opacity;return z+(x.stops[B].opacity-z)*A[2]}}}function g(x,y,z){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(F=>"rotation"===F.type):x)if("esri.renderers.visualVariables.RotationVariable"!==x.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var A=x.axis||"heading",C="heading"===A&&"arithmetic"===x.rotationType?90:0;A="heading"===A&&"arithmetic"===x.rotationType?-1:1;var B="number"===typeof y?null:y,E=B&&B.attributes,G=x.field,{hasExpression:J}=x.cache;y=x.cache.compiledFunc;var K=0;if(!G&&!J)return K;if(J){if(p.isNone(z)||p.isNone(z.arcade)){v.error("Use of arcade expressions requires an arcade context");return}E=z.arcade.arcadeUtils;z=E.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:z.spatialReference});
z=E.createExecContext(B,z);y||(y=E.createSyntaxTree(x.valueExpression),y=E.createFunction(y),x.cache.compiledFunc=y);K=E.executeFunction(y,z)}else E&&(K=E[G]||0);return K="number"!==typeof K||isNaN(K)?null:C+A*K}}function l(x,y,z){const A="number"===typeof y;var C=A?null:y;const B=C&&C.attributes;var E=A?y:null;const {isScaleDriven:G}=x.cache;y=x.cache.compiledFunc;if(G)C=p.isSome(z)?z.scale:void 0,z=p.isSome(z)?z.view:void 0,null==C||"3d"===z?(C=z=null,(C=x.stops)?(z=C[0].value,C=C[C.length-1].value):
(z=x.minDataValue||0,C=x.maxDataValue||0),z=(z+C)/2):z=C,E=z;else if(!A)switch(x.inputValueType){case u.InputValueType.Expression:if(p.isNone(z)||p.isNone(z.arcade)){v.error("Use of arcade expressions requires an arcade context");return}E=z.arcade.arcadeUtils;z=E.getViewInfo({viewingMode:z.viewingMode,scale:z.scale,spatialReference:z.spatialReference});z=E.createExecContext(C,z);y||(C=E.createSyntaxTree(x.valueExpression),y=E.createFunction(C),x.cache.compiledFunc=y);E=E.executeFunction(y,z);break;
case u.InputValueType.Field:B&&(E=B[x.field]);break;case u.InputValueType.Unknown:E=null}if(!u.isValidNumber(E))return null;if(A||!x.normalizationField)return E;x=B?parseFloat(B[x.normalizationField]):null;return u.isValidNumber(x)&&0!==x?E/x:null}function q(x,y,z){if(x="visualVariables"in x&&x.visualVariables?x.visualVariables.find(C=>"size"===C.type):x)if("esri.renderers.visualVariables.SizeVariable"!==x.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");
else{var A=l(x,y,z);y=f(A,x,y,z,x.cache.ipData);return null===y||void 0===y||isNaN(y)?0:y}}function m(x,y,z){return null==x?null:u.isSizeVariable(x)?q(x,y,z):u.isValidNumber(x)?x:null}function t(x,y,z){return u.isValidNumber(z)&&x>z?z:u.isValidNumber(y)&&x<y?y:x}function f(x,y,z,A,C){switch(y.transformationType){case u.TransformationType.Additive:return A=m(y.minSize,z,A),y=x+(A||y.minDataValue);case u.TransformationType.Constant:return x=(x=y.stops)&&x.length&&x[0].size,null==x&&(x=y.minSize),y=
m(x,z,A);case u.TransformationType.ClampedLinear:C=(x-y.minDataValue)/(y.maxDataValue-y.minDataValue);var B=m(y.minSize,z,A);z=m(y.maxSize,z,A);A=p.isSome(A)?A.shape:void 0;x<=y.minDataValue?y=B:x>=y.maxDataValue?y=z:"area"===y.scaleBy&&A?(x=(y="circle"===A)?D*(B/2)**2:B*B,x+=C*((y?D*(z/2)**2:z*z)-x),y=y?2*Math.sqrt(x/D):Math.sqrt(x)):y=B+C*(z-B);return y;case u.TransformationType.Proportional:return C=p.isSome(A)?A.shape:void 0,x/=y.minDataValue,B=m(y.minSize,z,A),y=m(y.maxSize,z,A),A=null,A="circle"===
C?2*Math.sqrt(x*(B/2)**2):"square"===C||"diamond"===C||"image"===C?Math.sqrt(x*B**2):x*B,y=t(A,B,y);case u.TransformationType.Stops:{const [E,G,J]=h(x,C);E===G?y=m(y.stops[E].size,z,A):(x=m(y.stops[E].size,z,A),y=m(y.stops[G].size,z,A),y=x+(y-x)*J)}return y;case u.TransformationType.RealWorldSize:return C=(p.isSome(A)&&A.resolution?A.resolution:1)*r.meterIn[y.valueUnit],B=m(y.minSize,z,A),A=m(y.maxSize,z,A),{valueRepresentation:y}=y,z=null,z="area"===y?2*Math.sqrt(x/D)/C:"radius"===y||"distance"===
y?2*x/C:x/C,y=t(z,B,A);case u.TransformationType.Identity:return x;case u.TransformationType.Unknown:return null}}function h(x,y){if(y){var z=0,A=y.length-1;y.some((C,B)=>{if(x<C)return A=B,!0;z=B;return!1});return[z,A,(x-y[z])/(y[A]-y[z])]}}const v=d.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),w=new c,D=Math.PI;a.getAllSizes=function(x,y,z){const A=["proportional","proportional","proportional"];for(const C of x)switch(x=C.useSymbolValue?"symbol-value":q(C,y,z),C.axis){case "width":A[0]=
x;break;case "depth":A[1]=x;break;case "height":A[2]=x;break;case "width-and-depth":A[0]=x;A[1]=x;break;case "all":case void 0:case null:A[0]=x;A[1]=x;A[2]=x;break;default:e.neverReached(C.axis)}return A};a.getColor=n;a.getOpacity=k;a.getRotationAngle=g;a.getSize=q;a.getSizeForValue=f;a.getSizeFromNumberOrVariable=m;a.getSizeRangeAtScale=function(x,y,z){const {isScaleDriven:A}=x.cache;if(!(A&&"3d"===z||y))return null;z={scale:y,view:z};y=m(x.minSize,w,z);x=m(x.maxSize,w,z);if(null!=y||null!=x)return y>
x&&(z=x,x=y,y=z),{minSize:y,maxSize:x}};a.getVisualVariableValues=function(x,y,z){if(x.visualVariables){var A=[],C=[],B=[],E=[],G=[];for(const J of x.visualVariables)switch(J.type){case "color":C.push(J);break;case "opacity":B.push(J);break;case "rotation":G.push(J);break;case "size":E.push(J)}C.forEach(J=>{const K=n(J,y,z);A.push({variable:J,value:K})});B.forEach(J=>{const K=k(J,y,z);A.push({variable:J,value:K})});G.forEach(J=>{const K=g(J,y,z);A.push({variable:J,value:K})});E.forEach(J=>{const K=
q(J,y,z);A.push({variable:J,value:K})});return A.filter(J=>null!=J.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/Graphic":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/JSONSupport ./core/maybe ./core/uid ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){p=function(f){function h(...w){w=f.call(this,...w)||this;w.isAggregate=!1;w.layer=null;w.popupTemplate=null;w.sourceLayer=null;Object.defineProperty(a._assertThisInitialized(w),"uid",{value:n.generateUID(),configurable:!0});return w}a._inheritsLoose(h,f);var v=h.prototype;v.normalizeCtorArgs=function(w,D,x,y){return w&&!w.declaredClass?w:{geometry:w,symbol:D,attributes:x,popupTemplate:y}};v.getEffectivePopupTemplate=function(w=!1){if(this.popupTemplate)return this.popupTemplate;
for(const D of[this.sourceLayer,this.layer])if(D){if("popupTemplate"in D&&D.popupTemplate)return D.popupTemplate;if(w&&"defaultPopupTemplate"in D&&u.isSome(D.defaultPopupTemplate))return D.defaultPopupTemplate}return null};v.getAttribute=function(w){return this.attributes&&this.attributes[w]};v.setAttribute=function(w,D){if(this.attributes){const x=this.getAttribute(w);this.attributes[w]=D;this._notifyLayer("attributes",x,D,w)}else this.attributes={[w]:D},this._notifyLayer("attributes",void 0,D,w)};
v.getObjectId=function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};v.toJSON=function(){var w=this.aggregateGeometries;if(u.isSome(w)){var D={};for(const x in w){const y=w[x];y&&(D[x]=y.toJSON())}w=0!==Object.keys(D).length?D:null}else w=null;return{aggregateGeometries:w,geometry:u.isSome(this.geometry)?this.geometry.toJSON():null,symbol:u.isSome(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},
popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};v.notifyGeometryChanged=function(){this._notifyLayer("geometry",this.geometry,this.geometry)};v.notifyMeshTransformChanged=function(){u.isSome(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)};v._notifyLayer=function(w,D,x,y){this.layer&&"graphicChanged"in this.layer&&(D={graphic:this,property:w,oldValue:D,newValue:x},"attributes"===w&&(D.attributeName=y),this.layer.graphicChanged(D))};
a._createClass(h,[{key:"aggregateGeometries",set:function(w){const D=this._get("aggregateGeometries");JSON.stringify(D)!==JSON.stringify(w)&&this._set("aggregateGeometries",w)}},{key:"attributes",set:function(w){const D=this._get("attributes");D!==w&&(this._set("attributes",w),this._notifyLayer("attributes",D,w))}},{key:"geometry",set:function(w){const D=this._get("geometry");D!==w&&(this._set("geometry",w),this._notifyLayer("geometry",D,w))}},{key:"symbol",set:function(w){const D=this._get("symbol");
D!==w&&(this._set("symbol",w),this._notifyLayer("symbol",D,w))}},{key:"visible",set:function(w){const D=this._get("visible");D!==w&&(this._set("visible",w),this._notifyLayer("visible",D,w))}}]);return h}(p.ClonableMixin(r.JSONSupport));b.__decorate([k.property({value:null,json:{read:function(f){if(!f)return null;const h={};for(const v in f){const w=t.fromJSON(f[v]);w&&(h[v]=w)}return 0!==Object.keys(h).length?h:null}}})],p.prototype,"aggregateGeometries",null);b.__decorate([k.property({value:null})],
p.prototype,"attributes",null);b.__decorate([k.property({value:null,types:c.geometryTypes,json:{read:t.fromJSON}})],p.prototype,"geometry",null);b.__decorate([k.property({type:Boolean})],p.prototype,"isAggregate",void 0);b.__decorate([k.property({clonable:"reference"})],p.prototype,"layer",void 0);b.__decorate([k.property({type:e})],p.prototype,"popupTemplate",void 0);b.__decorate([k.property({clonable:"reference"})],p.prototype,"sourceLayer",void 0);b.__decorate([k.property({value:null,types:d.symbolTypes})],
p.prototype,"symbol",null);b.__decorate([k.property({type:Boolean,value:!0})],p.prototype,"visible",null);p=b.__decorate([m.subclass("esri.Graphic")],p);(p||(p={})).generateUID=n.generateUID;return p})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){const f=d.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),h={color:l,size:t,opacity:q,rotation:m},v=new e.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),w=/^\[([^\]]+)\]$/i;c=function(D){function x(){var z=D.apply(this,arguments)||this;z.colorVariables=null;z.opacityVariables=null;z.rotationVariables=null;z.sizeVariables=null;return z}a._inheritsLoose(x,D);var y=x.prototype;y.readVariables=function(z,
A,C){const {rotationExpression:B,rotationType:E}=A;if(A=(A=B&&B.match(w))&&A[1])z||(z=[]),z.push({type:"rotationInfo",rotationType:E,field:A});if(z)return z.map(G=>{var J=v.read(G.type);const K=h[J];K||(f.warn(`Unknown variable type: ${J}`),C&&C.messages&&C.messages.push(new p("visual-variable:unsupported",`visualVariable of type '${J}' is not supported`,{definition:G,context:C})));J=new K;J.read(G,C);return J})};y.writeVariables=function(z,A){const C=[];for(const B of z)(z=B.toJSON(A))&&C.push(z);
return C};y._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};a._createClass(x,[{key:"visualVariables",set:function(z){this._resetVariables();if((z=z&&z.filter(C=>!!C))&&z.length){for(var A of z)switch(A.type){case "color":this.colorVariables.push(A);break;case "opacity":this.opacityVariables.push(A);break;case "rotation":this.rotationVariables.push(A);break;case "size":this.sizeVariables.push(A)}this.sizeVariables.length&&
this.sizeVariables.some(C=>!!C.target)&&z.sort((C,B)=>{let E=null;return E=C.target===B.target?0:C.target?1:-1});for(A=0;A<z.length;A++)z[A].index=A}this._set("visualVariables",z)}}]);return x}(c);b.__decorate([r.property()],c.prototype,"visualVariables",null);return c=b.__decorate([g.subclass("esri.renderers.visualVariables.VisualVariableFactory")],c)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(m){m=g.call(this,m)||this;m.description=null;m.label=null;m.minValue=null;m.maxValue=0;m.symbol=null;return m}a._inheritsLoose(l,g);var q=l.prototype;q.clone=function(){return new k({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};q.getMeshHash=function(){const m=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${m}`};return l}(c.JSONSupport);
b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);b.__decorate([e.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);b.__decorate([e.property(n.rendererSymbolProperty)],
c.prototype,"symbol",void 0);return c=k=b.__decorate([u.subclass("esri.renderers.support.ClassBreakInfo")],c)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),function(a,b,c,e,d,p){c={types:b.symbolTypesRenderer,json:{write:{writer:e.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:e.write},
read:{reader:c.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};a.rendererBackgroundFillSymbolProperty={types:{base:d,key:"type",typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:e.write},origins:{"web-scene":{type:p,write:{writer:e.write}}}}};a.rendererSymbolProperty=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../core/maybe ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),function(a,b,c,e,d,p,r){function u(k,g,l){if(e.isNone(k))return null;const {context:q,isLabelSymbol:m}=l,t=null==q?void 0:q.origin;l=null==q?void 0:q.messages;if("web-scene"===t&&!(k instanceof d||k instanceof r)){var f=p.to3D(k,{retainCIM:!0,hasLabelingContext:m});if(e.isSome(f.symbol))return f.symbol.write(g,q);null==l?void 0:l.push(new c("symbol:unsupported",
`Symbols of type '${k.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:k,context:q,error:f.error}));return null}return("web-map"===t||"portal-item"===t&&!n.includes(null==q?void 0:null==(f=q.layer)?void 0:f.type))&&(k instanceof d||k instanceof r)?(null==l?void 0:l.push(new c("symbol:unsupported",`Symbols of type '${k.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,
{symbol:k,context:q})),null):k.write(g,q)}const n=["building-scene","integrated-mesh","point-cloud","scene"];a.fromJSON=function(k,g){return b.readSymbol(k,null,g)};a.write=function(k,g,l,q){k=u(k,{},{context:q,isLabelSymbol:!1});e.isSome(k)&&(g[l]=k)};a.writeLabelSymbol=function(k,g,l,q){k=u(k,{},{context:q,isLabelSymbol:!0});e.isSome(k)&&(g[l]=k)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){const m={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};a.to3D=function(t,f=m){if(!t)return{symbol:null};const {retainId:h=m.retainId,ignoreDrivers:v=m.ignoreDrivers,hasLabelingContext:w=m.hasLabelingContext,retainCIM:D=m.retainCIM}=f;if(b.isSymbol3D(t)||t instanceof e)var x=t.clone();else if("cim"===t.type){var y;f=null==(x=t.data)?void 0:null==(y=x.symbol)?void 0:y.type;if("CIMPointSymbol"!==f)return{error:new c("symbol-conversion:unsupported-cim-symbol",
`CIM symbol of type '${f||"unknown"}' is unsupported in 3D`,{symbol:t})};x=D?t.clone():d.fromCIMSymbol(t)}else if(t instanceof p)x=r.fromSimpleLineSymbol(t);else if(t instanceof u)x=d.fromSimpleMarkerSymbol(t);else if(t instanceof n)x=d.fromPictureMarkerSymbol(t);else if(t instanceof k)x=g.fromSimpleFillSymbol(t);else if(t instanceof l)x=w?q.fromTextSymbol(t):d.fromTextSymbol(t);else return{error:new c("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,
{symbol:t})};h&&"cim"!==x.type&&(x.id=t.id);if(v&&b.isSymbol3D(x))for(t=0;t<x.symbolLayers.length;++t)x.symbolLayers.getItemAt(t)._ignoreDrivers=!0;return{symbol:x}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;d=l=function(q){function m(f){f=q.call(this,f)||this;f.config=null;f.fieldMap=null;f.scaleExpression=null;f.scaleExpressionTitle=null;f.url=null;f.type="dictionary";return f}a._inheritsLoose(m,q);var t=m.prototype;t.writeData=function(f,h){f&&(h.scalingExpressionInfo={expression:f,returnType:"number"})};t.writeVisualVariables=function(f,h,v,w){null!=w&&w.origin||q.prototype.writeVisualVariables.call(this,f,h,v,w)};t.clone=function(){return new l({config:c.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:c.clone(this.fieldMap),url:c.clone(this.url),visualVariables:c.clone(this.visualVariables)})};t.getSymbolAsync=function(){var f=a._asyncToGenerator(function*(h,v){return this._loader.getSymbolAsync(h,v)});return function(h,v){return f.apply(this,arguments)}}();t.collectRequiredFields=function(){var f=a._asyncToGenerator(function*(h,v){yield this.collectVVRequiredFields(h,v);this.scaleExpression&&(yield u.collectArcadeFieldNames(h,
v,this.scaleExpression));for(const w in this.fieldMap){const D=this.fieldMap[w];v.has(D)&&h.add(D)}});return function(h,v){return f.apply(this,arguments)}}();t.getSymbol=function(){return null};t.getSymbols=function(){return[]};t.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((f,h)=>f+h.getAttributeHash(),"")};t.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};t.getSymbolFields=function(){return this._loader.getSymbolFields()};a._createClass(m,
[{key:"_loader",get:function(){return new g.DictionaryLoader(this.url,this.config,this.fieldMap)}},{key:"arcadeRequired",get:function(){return!0}}]);return m}(k.VisualVariablesMixin(n));b.__decorate([e.property({type:g.DictionaryLoader})],d.prototype,"_loader",null);b.__decorate([e.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],d.prototype,"config",void 0);b.__decorate([e.property({type:Object,json:{write:!0}})],d.prototype,"fieldMap",void 0);b.__decorate([e.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],d.prototype,"scaleExpression",void 0);b.__decorate([r.writer("scaleExpression")],d.prototype,"writeData",null);b.__decorate([e.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(q){return{enabled:!!q&&!!this.scaleExpression}}}}})],d.prototype,"scaleExpressionTitle",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"url",void 0);
b.__decorate([r.writer("visualVariables")],d.prototype,"writeVisualVariables",null);return d=l=b.__decorate([p.subclass("esri.renderers.DictionaryRenderer")],d)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../Color ../../request ../../core/Error ../../core/Logger ../../core/LRUCache ../../core/maybe ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ../../symbols/CIMSymbol".split(" "),function(a,b,c,e,d,p,r,u,
n,k,g,l){function q(f,h){if(f&&(f=f.symbolLayers))for(var v=f.length;v--;){var w=f[v];if(w&&!1!==w.enable)switch(w.type){case "CIMVectorMarker":var D=h;if(w=w.markerGraphics)for(const x of w)if(x&&(w=x.symbol))switch(w.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":q(w,D);break;case "CIMTextSymbol":w.fieldMap=D}}}}const m=p.getLogger("esri.renderers.support.DictionaryLoader"),t={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",
width:.5,color:[0,0,0,255]}]}};p=function(){function f(v,w,D){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new r(100);this.url=v;this.config=w;this.fieldMap=D}var h=f.prototype;h.getSymbolFields=function(){return this._symbolFields};h.getSymbolAsync=function(){var v=b._asyncToGenerator(function*(w,D){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(D));try{var x=yield this._dictionaryPromise}catch(E){if(n.isAbortError(E))return this._dictionaryPromise=
null}var y={};if(this.fieldMap)for(var z of this._symbolFields){var A=this.fieldMap[z];y[z]=A&&null!=w.attributes[A]?""+w.attributes[A]:""}x=x(y,D);if(!x||"string"!==typeof x)return null;const C=k.numericHash(x).toString();if(y=this._symbolCache.get(C))return y.catch(()=>{this._symbolCache.pop(C)}),y;z=x.split(";");x=[];y=[];for(const E of z)if(E)if(E.includes("po:")){var B=E.substr(3).split("|");3===B.length&&(z=B[0],A=B[1],B=B[2],"DashTemplate"===A?B=B.split(" ").map(G=>Number(G)):"Color"===A?(B=
(new c(B)).toRgba(),B=[B[0],B[1],B[2],255*B[3]]):B=Number(B),y.push({primitiveName:z,propertyName:A,value:B}))}else if(E.includes("|"))for(const G of E.split("|")){if(this._itemNames.has(G)){x.push(G);break}}else this._itemNames.has(E)&&x.push(E);w=u.isSome(w.geometry)&&(w.geometry.hasZ||"point"!==w.geometry.type)?!1:!0;D=this._cimPartsToCIMSymbol(x,y,w,D);this._symbolCache.put(C,D,1);return D});return function(w,D){return v.apply(this,arguments)}}();h.fetchResources=function(){var v=b._asyncToGenerator(function*(w){if(this._dictionaryPromise)return this._dictionaryPromise;
if(this.url){var D=e(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:u.isSome(w)?w.signal:null}),[{data:x}]=yield Promise.all([D,g.loadArcade()]);if(!x)throw this._dictionaryPromise=null,new d("esri.renderers.DictionaryRenderer","Bad dictionary data!");D=x.expression;var y=x.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+x.cimRefTemplateUrl;this._itemNames=new Set(x.itemsNames);this._symbolFields=y.symbol;x={};if(this.config){const C=this.config;
for(var z in C)x[z]=C[z]}if(y.configuration)for(var A of y.configuration)x.hasOwnProperty(A.name)||(x[A.name]=A.value);z=[];if(u.isSome(w)&&w.fields&&this.fieldMap)for(const C of this._symbolFields){const B=this.fieldMap[C];A=w.fields.filter(E=>E.name===B);0<A.length&&z.push({...A[0],name:C})}return this._dictionaryPromise=g.createDictionaryExpression(D,u.isSome(w)?w.spatialReference:null,z,x).then(C=>{const B={scale:0};return(E,G)=>{E=C.repurposeFeature({geometry:null,attributes:E});B.scale=u.isSome(G)?
G.scale:void 0;return C.evaluate({$feature:E,$view:B})}}).catch(C=>{m.error("Creating dictinoary expression failed:",C);return null})}m.error("no valid URL!")});return function(w){return v.apply(this,arguments)}}();h._cimPartsToCIMSymbol=function(){var v=b._asyncToGenerator(function*(w,D,x,y){const z=Array(w.length);for(let A=0;A<w.length;A++)z[A]=this._getSymbolPart(w[A],y);w=yield Promise.all(z);y=this.fieldMap;for(const A of w)q(A,y);return new l({data:this._combineSymbolParts(w,D,x)})});return function(w,
D,x,y){return v.apply(this,arguments)}}();h._getSymbolPart=function(){var v=b._asyncToGenerator(function*(w,D){if(this._ongoingRequests.has(w))return this._ongoingRequests.get(w).then(y=>y.data);const x=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,w);D=e(x,{responseType:"json",query:{f:"json"},...D});this._ongoingRequests.set(w,D);try{return(yield D).data}catch(y){throw this._ongoingRequests.delete(w),y;}});return function(w,D){return v.apply(this,arguments)}}();h._combineSymbolParts=function(v,
w,D){if(!v||0===v.length)return null;const x={...v[0]};if(1<v.length){x.symbolLayers=[];for(const y of v)x.symbolLayers.unshift(...y.symbolLayers)}D&&(x.callout=t);return{type:"CIMSymbolReference",symbol:x,primitiveOverrides:w}};return f}();a.DictionaryLoader=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/LRUCache":function(){define(["../chunks/_rollupPluginBabelHelpers","./MemCache"],function(a,b){return function(){function c(d,p){this._storage=
new b.MemCacheStorage;this._storage.maxSize=d;p&&this._storage.registerRemoveFunc("",p)}var e=c.prototype;e.put=function(d,p,r){this._storage.put(d,p,r,1)};e.pop=function(d){return this._storage.pop(d)};e.get=function(d){return this._storage.get(d)};e.clear=function(){this._storage.clearAll()};e.destroy=function(){this._storage.destroy()};a._createClass(c,[{key:"maxSize",get:function(){return this._storage.maxSize},set:function(d){this._storage.maxSize=d}}]);return c}()})},"esri/core/MemCache":function(){define(["exports",
"../chunks/_rollupPluginBabelHelpers","./maybe","./PooledArray"],function(a,b,c,e){a.RemoveMode=void 0;(function(r){r[r.ALL=0]="ALL";r[r.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode={}));let d=function(){function r(n,k,g){this._namespace=n;this._storage=k;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";g&&(this._storage.registerRemoveFunc(this._namespace,g),this._removeFunc=!0)}var u=r.prototype;u.destroy=function(){this._storage.clear(this._namespace);
this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};u.resetHitRate=function(){this._hit=this._miss=0};u.put=function(n,k,g,l=0){this._storage.put(this._namespace+n,k,g,l)};u.get=function(n){n=this._storage.get(this._namespace+n);void 0===n?++this._miss:++this._hit;return n};u.pop=function(n){n=this._storage.pop(this._namespace+n);void 0===n?++this._miss:++this._hit;return n};u.updateSize=function(n,k,g){this._storage.updateSize(this._namespace+
n,k,g)};u.clear=function(){this._storage.clear(this._namespace)};u.clearAll=function(){this._storage.clearAll()};u.getStats=function(){return this._storage.getStats()};u.resetStats=function(){this._storage.resetStats()};b._createClass(r,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return r}(),
p=function(){function r(n=10485760){this._maxSize=n;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new e;this._users=new e}var u=r.prototype;u.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};u.register=function(n){this._users.push(n)};u.deregister=function(n){this._users.removeUnordered(n)};u.registerRemoveFunc=function(n,k){this._removeFuncs.push([n,k])};u.deregisterRemoveFunc=function(n){this._removeFuncs.filterInPlace(k=>k[0]!==
n)};u.put=function(n,k,g,l){const q=this._db.get(n);q&&(this._size-=q.size,this._db.delete(n),q.entry!==k&&this._notifyRemove(n,q.entry,a.RemoveMode.ALL));g>this._maxSize?this._notifyRemove(n,k,a.RemoveMode.ALL):void 0===k?console.warn("Refusing to cache undefined entry "):!g||0>g?console.warn("Refusing to cache entry with invalid size "+g):(l=1+Math.max(l,-3)- -3,this._db.set(n,{entry:k,size:g,lifetime:l,lives:l}),this._size+=g,this._checkSizeLimit())};u.updateSize=function(n,k,g){const l=this._db.get(n);
if(l&&l.entry===k){for(this._size-=l.size;g>this._maxSize;)if(g=this._notifyRemove(n,k,a.RemoveMode.SOME),!(c.isSome(g)&&0<g)){this._db.delete(n);return}l.size=g;this._size+=g;this._checkSizeLimit()}};u.pop=function(n){const k=this._db.get(n);if(k)return this._size-=k.size,this._db.delete(n),++this._hit,k.entry;++this._miss};u.get=function(n){const k=this._db.get(n);if(void 0===k)++this._miss;else return this._db.delete(n),k.lives=k.lifetime,this._db.set(n,k),++this._hit,k.entry};u.getStats=function(){const n=
{Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},k={},g=[];this._db.forEach((m,t)=>{const f=m.lifetime;g[f]=(g[f]||0)+m.size;this._users.forAll(h=>{h=h.namespace;t.startsWith(h)&&(k[h]=(k[h]||0)+m.size)})});const l={};this._users.forAll(m=>{const t=m.namespace;!isNaN(m.hitRate)&&0<m.hitRate?(k[t]=k[t]||0,l[t]=Math.round(100*m.hitRate)+"%"):l[t]="0%"});var q=Object.keys(k);q.sort((m,t)=>
k[t]-k[m]);q.forEach(m=>n[m]=Math.round(k[m]/2**20)+"MB / "+l[m]);for(q=g.length-1;0<=q;--q){const m=g[q];m&&(n["Priority "+(q+-3-1)]=Math.round(m/this.size*100)+"%")}return n};u.resetStats=function(){this._hit=this._miss=0;this._users.forAll(n=>n.resetHitRate())};u.clear=function(n){this._db.forEach((k,g)=>{g.startsWith(n)&&(this._size-=k.size,this._db.delete(g),this._notifyRemove(g,k.entry,a.RemoveMode.ALL))})};u.clearAll=function(){this._db.forEach((n,k)=>this._notifyRemove(k,n.entry,a.RemoveMode.ALL));
this._size=0;this._db.clear()};u._getHitRate=function(){return this._hit/(this._hit+this._miss)};u._notifyRemove=function(n,k,g){let l;this._removeFuncs.some(q=>n.startsWith(q[0])?(q=q[1](k,g),"number"===typeof q&&(l=q),!0):!1);return l};u._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [n,k]of this._db){this._db.delete(n);if(1>=k.lives){this._size-=k.size;const g=this._notifyRemove(n,k.entry,a.RemoveMode.SOME);c.isSome(g)&&0<g&&(this._size+=g,k.lives=k.lifetime,k.size=g,this._db.set(n,
k))}else--k.lives,this._db.set(n,k);if(this._size<=.9*this.maxSize)break}};b._createClass(r,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(n){this._maxSize=Math.max(n,0);this._checkSizeLimit()}}]);return r}();a.MIN_PRIORITY=-3;a.MemCache=d;a.MemCacheStorage=p;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f){var h;p=h=function(v){function w(x){x=v.call(this,x)||this;x.attributes=null;x.backgroundColor=new c([0,0,0,0]);x.blendDots=!0;x.dotBlendingEnabled=!0;x.dotShape="square";x.dotSize=1;x.legendOptions=null;x.outline=new f;x.dotValue=null;x.referenceDotValue=null;x.referenceScale=null;x.seed=1;x.type="dot-density";return x}a._inheritsLoose(w,v);var D=w.prototype;D.calculateDotValue=function(x){if(null==this.referenceScale)return this.dotValue;x=x/this.referenceScale*
this.dotValue;return 1>x?1:x};D.getSymbol=function(){return new t({outline:this.outline})};D.getSymbolAsync=function(){var x=a._asyncToGenerator(function*(){return this.getSymbol()});return function(){return x.apply(this,arguments)}}();D.getSymbols=function(){return[this.getSymbol()]};D.getAttributeHash=function(){return this.attributes&&this.attributes.reduce((x,y)=>x+y.getAttributeHash(),"")};D.getMeshHash=function(){return JSON.stringify(this.outline)};D.clone=function(){return new h({attributes:e.clone(this.attributes),
backgroundColor:e.clone(this.backgroundColor),dotBlendingEnabled:e.clone(this.dotBlendingEnabled),dotShape:e.clone(this.dotShape),dotSize:e.clone(this.dotSize),dotValue:e.clone(this.dotValue),legendOptions:e.clone(this.legendOptions),outline:e.clone(this.outline),referenceScale:e.clone(this.referenceScale),visualVariables:e.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};D.getControllerHash=function(){const x=this.attributes.map(z=>z.field||z.valueExpression||
""),y=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${x}-${y}`};D.collectRequiredFields=function(){var x=a._asyncToGenerator(function*(y,z){yield this.collectVVRequiredFields(y,z);for(const A of this.attributes)A.valueExpression&&(yield k.collectArcadeFieldNames(y,z,A.valueExpression)),A.field&&y.add(A.field)});return function(y,z){return x.apply(this,arguments)}}();return w}(l.VisualVariablesMixin(g));b.__decorate([u.property({type:[q],json:{write:!0}})],p.prototype,"attributes",
void 0);b.__decorate([u.property({type:c,json:{write:!0}})],p.prototype,"backgroundColor",void 0);b.__decorate([u.property({type:Boolean}),d.aliasOf("dotBlendingEnabled")],p.prototype,"blendDots",void 0);b.__decorate([u.property({type:Boolean,json:{write:!0}})],p.prototype,"dotBlendingEnabled",void 0);b.__decorate([u.property({type:String,json:{write:!1}})],p.prototype,"dotShape",void 0);b.__decorate([u.property({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],
p.prototype,"dotSize",void 0);b.__decorate([u.property({type:m,json:{write:!0}})],p.prototype,"legendOptions",void 0);b.__decorate([u.property({type:f,json:{default:null,write:!0}})],p.prototype,"outline",void 0);b.__decorate([u.property({type:Number,json:{write:!0}})],p.prototype,"dotValue",void 0);b.__decorate([u.property({type:Number}),d.aliasOf("dotValue")],p.prototype,"referenceDotValue",void 0);b.__decorate([u.property({type:Number,json:{write:!0}})],p.prototype,"referenceScale",void 0);b.__decorate([u.property({type:Number,
json:{write:!0}})],p.prototype,"seed",void 0);b.__decorate([r.enumeration({dotDensity:"dot-density"})],p.prototype,"type",void 0);return p=h=b.__decorate([n.subclass("esri.renderers.DotDensityRenderer")],p)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["exports","./property"],function(a,b){a.aliasOf=function(c,e){return b.property({aliasOf:e?{...e,source:c}:c})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;const q=d.getLogger("esri.renderers.support.AttributeColorInfo");e=l=function(m){function t(h){h=m.call(this,h)||this;h.color=null;h.field=null;h.label=null;h.valueExpression=null;h.valueExpressionTitle=null;return h}a._inheritsLoose(t,m);var f=t.prototype;f.castField=function(h){return null==h?h:"function"===typeof h?(q.error(".field: field must be a string value"),null):g.ensureString(h)};f.getAttributeHash=function(){return`${this.field}-${this.valueExpression}`};
f.clone=function(){return new l({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};return t}(e.JSONSupport);b.__decorate([p.property({type:c,json:{type:[Number],write:!0}})],e.prototype,"color",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([n.cast("field")],e.prototype,"castField",null);b.__decorate([p.property({type:String,json:{write:!0}})],
e.prototype,"label",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);return e=l=b.__decorate([k.subclass("esri.renderers.support.AttributeColorInfo")],e)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(){var l=k.apply(this,arguments)||this;l.unit=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({unit:this.unit})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"unit",void 0);return c=n=b.__decorate([u.subclass("esri.renderers.support.DotDensityLegendOptions")],c)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../symbols ../core/deprecate ../core/lang ../core/Logger ../core/scheduling ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/utils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x){function y(C){if(null!=C){const {maxDensity:B,minDensity:E,radius:G}=C;if(null!=B||null!=E||null!=G){const {blurRadius:J,maxPixelIntensity:K,minPixelIntensity:F,...H}=C;return H}}return C}var z;const A=r.getLogger("esri.renderers.HeatmapRenderer");e=z=function(C){function B(G){G=C.call(this,G)||this;G.authoringInfo=null;G.colorStops=[new v({ratio:0,color:new c("rgba(255, 140, 0, 0)")}),new v({ratio:.75,color:new c("rgba(255, 140, 0, 1)")}),new v({ratio:.9,
color:new c("rgba(255, 0,   0, 1)")})];G.field=null;G.fieldOffset=0;G.legendOptions=null;G.maxDensity=.04;G.minDensity=0;G.radius=18;G.referenceScale=0;G.type="heatmap";G.valueExpression=null;G.valueExpressionTitle=null;G._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1};return G}a._inheritsLoose(B,C);var E=B.prototype;E.normalizeCtorArgs=function(G){return y(G)};E._warnAboutDeprecatedGaussianBlurProp=function(G,J){this._warnedProps[G]||"user"!==g.getProperties(this).getDefaultOrigin()||
(this._warnedProps[G]=!0,u.schedule(()=>{d.deprecatedProperty(A,G,{replacement:`${String(J)} (suggested value: ${this._get(J)})`,version:"4.24"})}))};E.read=function(G,J){G=y(G);C.prototype.read.call(this,G,J)};E.getSymbol=function(){const G=Math.min(this.radius*(0!==this.referenceScale?5:1),n.px2pt(256));return new x({size:G})};E.getSymbolAsync=function(){var G=a._asyncToGenerator(function*(){return this.getSymbol()});return function(){return G.apply(this,arguments)}}();E.getSymbols=function(){return[this.getSymbol()]};
E.collectRequiredFields=function(){var G=a._asyncToGenerator(function*(J,K){const F=this.field,H=this.valueExpression;F&&"string"===typeof F&&(yield t.collectField(J,K,F));H&&"string"===typeof H&&(yield t.collectArcadeFieldNames(J,K,H))});return function(J,K){return G.apply(this,arguments)}}();E.getAttributeHash=function(){return null};E.getMeshHash=function(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`};E.clone=function(){return new z({colorStops:p.clone(this.colorStops),
field:this.field,legendOptions:p.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};a._createClass(B,[{key:"blurRadius",get:function(){return D.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)},set:function(G){const J=this.maxPixelIntensity,K=this.minPixelIntensity;this._set("radius",D.gaussianBlurRadiusPxToKernelDensityRadiusPt(G));
this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius");this._set("maxDensity",J*this._pixelIntensityToDensity);this._set("minDensity",K*this._pixelIntensityToDensity)}},{key:"maxPixelIntensity",get:function(){return this.maxDensity/this._pixelIntensityToDensity},set:function(G){this._set("maxDensity",G*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}},{key:"minPixelIntensity",get:function(){return this.minDensity/this._pixelIntensityToDensity},
set:function(G){this._set("minDensity",G*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}},{key:"_pixelIntensityToDensity",get:function(){return 24/(D.MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR**2*this.blurRadius**4)}}]);return B}(f);b.__decorate([k.property({type:h,json:{write:!1}})],e.prototype,"authoringInfo",void 0);b.__decorate([k.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,"blurRadius",
null);b.__decorate([k.property({type:[v],json:{write:!0}})],e.prototype,"colorStops",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([k.property({type:Number,json:{write:{overridePolicy:(C,B,E)=>({enabled:null==E})},origins:{"web-scene":{write:!1}}}})],e.prototype,"fieldOffset",void 0);b.__decorate([k.property({type:w.HeatmapLegendOptions,json:{write:!0}})],e.prototype,"legendOptions",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],
e.prototype,"maxDensity",void 0);b.__decorate([k.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,"maxPixelIntensity",null);b.__decorate([k.property({type:Number,json:{write:!0}})],e.prototype,"minDensity",void 0);b.__decorate([k.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,"minPixelIntensity",null);b.__decorate([k.property({type:Number,cast:n.toPt,json:{write:!0}})],e.prototype,"radius",void 0);
b.__decorate([k.property({type:Number,range:{min:0},json:{default:0,write:!0}})],e.prototype,"referenceScale",void 0);b.__decorate([q.enumeration({heatmap:"heatmap"})],e.prototype,"type",void 0);b.__decorate([k.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],e.prototype,"valueExpression",void 0);b.__decorate([k.property({type:String})],e.prototype,"valueExpressionTitle",void 0);b.__decorate([k.property({readOnly:!0})],e.prototype,"_pixelIntensityToDensity",
null);return e=z=b.__decorate([m.subclass("esri.renderers.HeatmapRenderer")],e)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||
this;q.color=null;q.ratio=null;return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({color:this.color,ratio:this.ratio})};return l}(e.JSONSupport);b.__decorate([d.property({type:c,json:{type:[u.Integer],default:null,write:!0}})],e.prototype,"color",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"ratio",void 0);return e=k=b.__decorate([n.subclass("esri.renderers.support.HeatmapColorStop")],e)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){a.HeatmapLegendOptions=function(g){function l(){var q=g.apply(this,arguments)||this;q.minLabel=null;q.maxLabel=null;q.title=null;return q}b._inheritsLoose(l,g);return l}(e.ClonableMixin(d.JSONSupport));c.__decorate([p.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);c.__decorate([p.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);c.__decorate([p.property({type:String,json:{write:!0}})],
a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=c.__decorate([k.subclass("esri.renderers.support.HeatmapLegendOptions")],a.HeatmapLegendOptions);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec4","../../chunks/vec4f64"],function(a,b,c,e,d){function p(g,l,q,m){let {color:t,ratio:f}=l,{color:h,ratio:v}=
q;v===f&&(1===v?f-=1E-6:v+=1E-6);l=b.clamp((m-f)/(v-f),0,1);e.lerp(g,t.toArray(),h.toArray(),l)}function r(g,l,q,m,t){g=new Uint32Array(g*g);l="buffer"in l?l:new Float64Array(l);q="buffer"in q?new Uint32Array(q.buffer):new Uint32Array((new Uint8Array(q)).buffer);t=q.length/(t-m);for(let f=0;f<l.length;f++)g[f]=q[b.clamp(Math.floor((l[f]-m)*t),0,q.length-1)];return g.buffer}function u(g,l,q){g=Math.sqrt(g**2+l**2)/q;return 1<g?0:3/(Math.PI*q**2)*(1-g**2)**2}function n(g,l){return"function"===typeof g?
g:g?"string"===typeof l?q=>-1*+q[g]:q=>+q[g]+l:()=>1}function k(g,l){return null!=g?"string"===typeof l?q=>-1*+q.readAttribute(g):q=>+q.readAttribute(g)+l:q=>1}a.MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR=2.4;a.calculateHeatmapIntensityInfo=function(g,l,q,m){const {radius:t,fieldOffset:f,field:h}=l;l=c.pt2px(t);const v=new Float64Array(q*m);let w=Number.NEGATIVE_INFINITY;const D=n(h,f);for(const {geometry:z,attributes:A}of g){g=Math.max(0,z.x-l);var x=Math.max(0,z.y-l);const C=Math.min(m,z.y+l),
B=Math.min(q,z.x+l),E=+D(A);for(;x<C;x++)for(let G=g;G<B;G++){var y=x*q+G;const J=u(z.x-G,z.y-x,l);y=v[y]+=J*E;y>w&&(w=y)}}return{matrix:v.buffer,max:w}};a.calculateHeatmapIntensityInfoReaders=function(g,l,q,m){const {radius:t,fieldOffset:f,field:h}=l;l=Math.round(c.pt2px(t));const v=new Float64Array(q*m);let w=Number.NEGATIVE_INFINITY;const D=k(h,f),x=new Set;for(const C of g)for(g=C.getCursor();g.next();){var y=g.getObjectId();if(x.has(y))continue;x.add(y);y=g.readLegacyPointGeometry();if(-128>
y.x||y.x>=q+128||-128>y.y||y.y>m+128)continue;const B=+D(g),E=Math.max(0,Math.round(y.x)-l);var z=Math.max(0,Math.round(y.y)-l);const G=Math.min(m,Math.round(y.y)+l),J=Math.min(q,Math.round(y.x)+l);for(;z<G;z++)for(let K=E;K<J;K++){var A=z*q+K;const F=u(y.x-K,y.y-z,l);A=v[A]+=F*B;A>w&&(w=A)}}return{matrix:v.buffer,max:w}};a.createHeatmapImageData=r;a.createValueFunction=n;a.createValueFunctionCursor=k;a.drawHeatmap=function(g,l,q,m,t,f){g.canvas.width=g.canvas.height=l;g.clearRect(0,0,l,l);const h=
g.getImageData(0,0,l,l);q&&m&&h.data.set(new Uint8ClampedArray(r(l,q,m,t,f)));g.putImageData(h,0,0)};a.evaluateDensityKernel=u;a.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(g){return c.px2pt(2.4*g)};a.generateGradient=function(g){const l=new Uint8ClampedArray(2048);g=g.filter(({ratio:h})=>0<=h&&1>=h).sort((h,v)=>h.ratio-v.ratio).map(({color:h,ratio:v})=>({color:h,ratio:Math.max(v,.001)}));if(1>g.length)return l;let q=g[0],m=g[0],t=1;const f=d.create();for(let h=0;512>h;h++){const v=(h+.5)/
512;for(;v>m.ratio&&t<g.length;)q=m,m=g[t++];p(f,q,m,v);l.set(f,4*h)}return l};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(g){return c.pt2px(g)/2.4};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function c(D){return[D[0],D[1],D[2],D[3]]}function e(D,x,y,z){return[D,x,y,z]}function d(D){const x=b(),y=Math.min(4,D.length);for(let z=0;z<y;++z)x[z]=D[z];
return x}function p(D,x){return new Float64Array(D,x,4)}function r(){return b()}function u(){return[1,1,1,1]}function n(){return[1,0,0,0]}function k(){return[0,1,0,0]}function g(){return[0,0,1,0]}function l(){return[0,0,0,1]}const q=b(),m=u(),t=n(),f=k(),h=g(),v=l(),w=Object.freeze(Object.defineProperty({__proto__:null,create:b,clone:c,fromValues:e,fromArray:d,createView:p,zeros:r,ones:u,unitX:n,unitY:k,unitZ:g,unitW:l,ZEROS:q,ONES:m,UNIT_X:t,UNIT_Y:f,UNIT_Z:h,UNIT_W:v},Symbol.toStringTag,{value:"Module"}));
a.ONES=m;a.UNIT_W=v;a.UNIT_X=t;a.UNIT_Y=f;a.UNIT_Z=h;a.ZEROS=q;a.clone=c;a.create=b;a.createView=p;a.fromArray=d;a.fromValues=e;a.ones=u;a.unitW=l;a.unitX=n;a.unitY=k;a.unitZ=g;a.vec4f64=w;a.zeros=r})},"esri/renderers/PieChartRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../symbols ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/OthersCategory ./support/PieChartLegendOptions ../symbols/SimpleMarkerSymbol ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x){e=function(y){function z(C){C=y.call(this,C)||this;C.attributes=null;C.backgroundFillSymbol=null;C.defaultColor=new c([0,0,0,0]);C.defaultLabel=null;C.holePercentage=0;C.othersCategory=new h.OthersCategory;C.legendOptions=null;C.outline=null;C.size=12;C.type="pie-chart";return C}a._inheritsLoose(z,y);var A=z.prototype;A.getSymbol=function(){var C;return new w({size:this.size?this.size/2+((null==(C=this.outline)?void 0:C.width)||0):0})};A.getSymbolAsync=
function(){var C=a._asyncToGenerator(function*(){return this.getSymbol()});return function(){return C.apply(this,arguments)}}();A.getSymbols=function(){return[this.getSymbol(),this.backgroundFillSymbol]};A.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((C,B)=>C+B.getAttributeHash(),"")};A.getMeshHash=function(){return this.getSymbols().reduce((C,B)=>C+=JSON.stringify(B),"")};A.collectRequiredFields=function(){var C=a._asyncToGenerator(function*(B,E){yield this.collectVVRequiredFields(B,
E);for(const G of this.attributes)G.valueExpression&&(yield q.collectArcadeFieldNames(B,E,G.valueExpression)),G.field&&B.add(G.field)});return function(B,E){return C.apply(this,arguments)}}();return z}(t.VisualVariablesMixin(d.ClonableMixin(m)));b.__decorate([r.property({type:[f],json:{write:!0}})],e.prototype,"attributes",void 0);b.__decorate([r.property({type:D,json:{default:null,write:!0}})],e.prototype,"backgroundFillSymbol",void 0);b.__decorate([r.property({type:c,json:{write:!0}})],e.prototype,
"defaultColor",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],e.prototype,"defaultLabel",void 0);b.__decorate([r.property({type:Number,range:{min:0,max:1},json:{write:!0}})],e.prototype,"holePercentage",void 0);b.__decorate([r.property({type:h.OthersCategory,json:{write:!0}})],e.prototype,"othersCategory",void 0);b.__decorate([r.property({type:v.PieChartLegendOptions,json:{write:!0}})],e.prototype,"legendOptions",void 0);b.__decorate([r.property({type:x,json:{default:null,write:!0}})],
e.prototype,"outline",void 0);b.__decorate([r.property({type:Number,cast:p.toPt,json:{write:!0}})],e.prototype,"size",void 0);b.__decorate([g.enumeration({pieChart:"pie-chart"})],e.prototype,"type",void 0);return e=b.__decorate([l.subclass("esri.renderers.PieChartRenderer")],e)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){a.OthersCategory=function(l){function q(){var m=l.apply(this,arguments)||this;m.color=new e([0,0,0,0]);m.label=null;m.threshold=0;return m}b._inheritsLoose(q,l);return q}(d.ClonableMixin(p.JSONSupport));c.__decorate([r.property({type:e,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);c.__decorate([r.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);c.__decorate([r.property({type:Number,range:{min:0,max:1},json:{write:!0}})],
a.OthersCategory.prototype,"threshold",void 0);a.OthersCategory=c.__decorate([g.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/PieChartLegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){a.PieChartLegendOptions=function(g){function l(){var q=g.apply(this,arguments)||this;q.title=null;return q}b._inheritsLoose(l,g);return l}(e.ClonableMixin(d.JSONSupport));c.__decorate([p.property({type:String,json:{write:!0}})],a.PieChartLegendOptions.prototype,"title",void 0);a.PieChartLegendOptions=c.__decorate([k.subclass("esri.renderers.support.PieChartLegendOptions")],a.PieChartLegendOptions);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/renderers/SimpleRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),function(a,b,c,e,d,p,r,u,n,k){var g;d=g=function(l){function q(t){t=l.call(this,t)||this;t.description=null;t.label=null;t.symbol=null;
t.type="simple";return t}a._inheritsLoose(q,l);var m=q.prototype;m.collectRequiredFields=function(){var t=a._asyncToGenerator(function*(f,h){yield Promise.all([this.collectSymbolFields(f,h),this.collectVVRequiredFields(f,h)])});return function(f,h){return t.apply(this,arguments)}}();m.collectSymbolFields=function(){var t=a._asyncToGenerator(function*(f,h){yield Promise.all(this.getSymbols().map(v=>v.collectRequiredFields(f,h)))});return function(f,h){return t.apply(this,arguments)}}();m.getSymbol=
function(t,f){return this.symbol};m.getSymbolAsync=function(){var t=a._asyncToGenerator(function*(f,h){return this.symbol});return function(f,h){return t.apply(this,arguments)}}();m.getSymbols=function(){return this.symbol?[this.symbol]:[]};m.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((t,f)=>t+f.getAttributeHash(),"")};m.getMeshHash=function(){return this.getSymbols().reduce((t,f)=>t+=JSON.stringify(f),"")};m.clone=function(){return new g({description:this.description,
label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:c.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};a._createClass(q,[{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}}]);return q}(n.VisualVariablesMixin(u));b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);b.__decorate([e.property(k.rendererSymbolProperty)],
d.prototype,"symbol",void 0);b.__decorate([p.enumeration({simple:"simple"})],d.prototype,"type",void 0);return d=g=b.__decorate([r.subclass("esri.renderers.SimpleRenderer")],d)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/object ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E){var G;const J=p.getLogger("esri.renderers.UniqueValueRenderer"),K=f.ensureType(z);p=G=function(F){function H(L){L=F.call(this,L)||this;L._valueInfoMap={};L._isDefaultSymbolDerived=!1;L.type="unique-value";L.backgroundFillSymbol=null;L.field=null;L.field2=null;L.field3=null;L.valueExpression=null;L.valueExpressionTitle=null;L.legendOptions=null;L.defaultLabel=null;L.fieldDelimiter=null;L.portal=null;L.styleOrigin=null;L.diff={uniqueValueInfos(Q,
Z){if(Q||Z){if(!Q||!Z)return{type:"complete",oldValue:Q,newValue:Z};var ca=!1,aa={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let O=0;O<Z.length;O++){const fa=Q.find(oa=>oa.value===Z[O].value);fa?t.diff(fa,Z[O])?(aa.changed.push({type:"complete",oldValue:fa,newValue:Z[O]}),ca=!0):aa.unchanged.push({oldValue:fa,newValue:Z[O]}):(aa.added.push(Z[O]),ca=!0)}for(let O=0;O<Q.length;O++)Z.find(fa=>fa.value===Q[O].value)||(aa.removed.push(Q[O]),ca=!0);return ca?aa:void 0}}};L._set("uniqueValueInfos",
[]);return L}a._inheritsLoose(H,F);var I=H.prototype;I.castField=function(L){return null==L||"function"===typeof L?L:f.ensureString(L)};I.writeField=function(L,Q,Z,ca){"string"===typeof L?Q[Z]=L:ca&&ca.messages?ca.messages.push(new e("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):J.error(".field: cannot write field to JSON since it's not a string value")};I.readPortal=function(L,Q,Z){return Z.portal||v.getDefault()};I.readStyleOrigin=function(L,Q,
Z){if(Q.styleName)return Object.freeze({styleName:Q.styleName});if(Q.styleUrl)return L=C.fromJSON(Q.styleUrl,Z),Object.freeze({styleUrl:L})};I.writeStyleOrigin=function(L,Q,Z,ca){L.styleName?Q.styleName=L.styleName:L.styleUrl&&(Q.styleUrl=C.toJSON(L.styleUrl,ca))};I.addUniqueValueInfo=function(L,Q){this.styleOrigin?J.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(L="object"===typeof L?K(L):new z({value:L,symbol:c.ensureType(Q)}),
this.uniqueValueInfos.push(L),this._valueInfoMap[L.value]=L)};I.removeUniqueValueInfo=function(L){if(this.styleOrigin)J.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let Q=0;Q<this.uniqueValueInfos.length;Q++)if(this.uniqueValueInfos[Q].value===L+""){delete this._valueInfoMap[L];this.uniqueValueInfos.splice(Q,1);break}};I.getUniqueValueInfo=function(){var L=a._asyncToGenerator(function*(Q,Z){let ca=Z;this.valueExpression&&
(r.isNone(Z)||r.isNone(Z.arcade))&&(ca={...ca,arcade:yield A.loadArcade()});return this._getUniqueValueInfo(Q,ca)});return function(Q,Z){return L.apply(this,arguments)}}();I.getSymbol=function(L,Q){if(this.valueExpression&&(r.isNone(Q)||r.isNone(Q.arcade)))J.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(L=this._getUniqueValueInfo(L,Q))&&L.symbol||this.defaultSymbol};I.getSymbolAsync=function(){var L=a._asyncToGenerator(function*(Q,Z){if(this.valueExpression&&
(r.isNone(Z)||r.isNone(Z.arcade))){const ca=yield A.loadArcade(),{arcadeUtils:aa}=ca;aa.hasGeometryOperations(this.valueExpression)&&(yield aa.enableGeometryOperations());Z={...Z,arcade:ca}}return(Q=this._getUniqueValueInfo(Q,Z))&&Q.symbol||this.defaultSymbol});return function(Q,Z){return L.apply(this,arguments)}}();I.getSymbols=function(){const L=[];for(const Q of this.uniqueValueInfos)Q.symbol&&L.push(Q.symbol);this.defaultSymbol&&L.push(this.defaultSymbol);return L};I.getAttributeHash=function(){return this.visualVariables&&
this.visualVariables.reduce((L,Q)=>L+Q.getAttributeHash(),"")};I.getMeshHash=function(){const L=JSON.stringify(this.backgroundFillSymbol),Q=JSON.stringify(this.defaultSymbol),Z=this.uniqueValueInfos.reduce((ca,aa)=>ca+aa.getMeshHash(),"");return`${L}.${Q}.${Z}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`};I.clone=function(){const L=new G({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:d.clone(this.defaultSymbol),
valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:d.clone(this.visualVariables),legendOptions:d.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:d.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(L._isDefaultSymbolDerived=!0);L._set("portal",this.portal);const Q=d.clone(this.uniqueValueInfos);this.styleOrigin&&(L._set("styleOrigin",Object.freeze(d.clone(this.styleOrigin))),
Object.freeze(Q));L._set("uniqueValueInfos",Q);L._updateValueInfoMap();return L};I.collectRequiredFields=function(){var L=a._asyncToGenerator(function*(Q,Z){Q=[this.collectVVRequiredFields(Q,Z),this.collectSymbolFields(Q,Z)];yield Promise.all(Q)});return function(Q,Z){return L.apply(this,arguments)}}();I.collectSymbolFields=function(){var L=a._asyncToGenerator(function*(Q,Z){const ca=[...this.getSymbols().map(aa=>aa.collectRequiredFields(Q,Z)),h.collectArcadeFieldNames(Q,Z,this.valueExpression)];
h.collectField(Q,Z,this.field);h.collectField(Q,Z,this.field2);h.collectField(Q,Z,this.field3);yield Promise.all(ca)});return function(Q,Z){return L.apply(this,arguments)}}();I.populateFromStyle=function(){return B.fetchStyle(this.styleOrigin,{portal:this.portal}).then(L=>{const Q=[];this._valueInfoMap={};L&&L.data&&Array.isArray(L.data.items)&&L.data.items.forEach(Z=>{var ca=new E({styleUrl:L.styleUrl,styleName:L.styleName,portal:this.portal,name:Z.name});this.defaultSymbol||Z.name!==L.data.defaultItem||
(this.defaultSymbol=ca,this._isDefaultSymbolDerived=!0);ca=new z({value:Z.name,symbol:ca});Q.push(ca);this._valueInfoMap[Z.name]=ca});this._set("uniqueValueInfos",Object.freeze(Q));!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})};I._updateValueInfoMap=function(){this._valueInfoMap={};this.uniqueValueInfos.forEach(L=>this._valueInfoMap[L.value+""]=L)};I._getUniqueValueInfo=function(L,Q){return this.valueExpression?
this._getUnqiueValueInfoForExpression(L,Q):this._getUnqiueValueInfoForFields(L)};I._getUnqiueValueInfoForExpression=function(L,Q){const {viewingMode:Z,scale:ca,spatialReference:aa,arcade:O}=r.unwrapOr(Q,{});var fa=this._cache.compiledFunc;Q=r.unwrap(O).arcadeUtils;fa||(fa=Q.createSyntaxTree(this.valueExpression),fa=Q.createFunction(fa),this._cache.compiledFunc=fa);L=Q.executeFunction(fa,Q.createExecContext(L,Q.getViewInfo({viewingMode:Z,scale:ca,spatialReference:aa})));return this._valueInfoMap[L+
""]};I._getUnqiueValueInfoForFields=function(L){const Q=this.field,Z=L.attributes;if("function"!==typeof Q&&this.field2){L=this.field2;var ca=this.field3;const aa=[];Q&&aa.push(Z[Q]);L&&aa.push(Z[L]);ca&&aa.push(Z[ca]);ca=aa.join(this.fieldDelimiter||"")}else"function"===typeof Q?ca=Q(L):Q&&(ca=Z[Q]);return this._valueInfoMap[ca+""]};H.fromPortalStyle=function(L,Q){const Z=new G(Q&&Q.properties);Z._set("styleOrigin",Object.freeze({styleName:L}));Z._set("portal",Q&&Q.portal||v.getDefault());Q=Z.populateFromStyle();
Q.catch(ca=>{J.error(`#fromPortalStyle('${L}'[, ...])`,"Failed to create unique value renderer from style name",ca)});return Q};H.fromStyleUrl=function(L,Q){Q=new G(Q&&Q.properties);Q._set("styleOrigin",Object.freeze({styleUrl:L}));Q=Q.populateFromStyle();Q.catch(Z=>{J.error(`#fromStyleUrl('${L}'[, ...])`,"Failed to create unique value renderer from style URL",Z)});return Q};a._createClass(H,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"defaultSymbol",set:function(L){this._isDefaultSymbolDerived=
!1;this._set("defaultSymbol",L)}},{key:"uniqueValueInfos",set:function(L){this.styleOrigin?J.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",L),this._updateValueInfoMap())}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return H}(D.VisualVariablesMixin(w));b.__decorate([n.property({readOnly:!0})],p.prototype,"_cache",null);b.__decorate([g.enumeration({uniqueValue:"unique-value"})],
p.prototype,"type",void 0);b.__decorate([n.property(x.rendererBackgroundFillSymbolProperty)],p.prototype,"backgroundFillSymbol",void 0);b.__decorate([n.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],p.prototype,"field",void 0);b.__decorate([k.cast("field")],p.prototype,"castField",null);b.__decorate([m.writer("field")],p.prototype,"writeField",null);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"field2",void 0);b.__decorate([n.property({type:String,
json:{write:!0}})],p.prototype,"field3",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"valueExpression",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"valueExpressionTitle",void 0);b.__decorate([n.property({type:y.LegendOptions,json:{write:!0}})],p.prototype,"legendOptions",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"defaultLabel",void 0);b.__decorate([n.property(u.deepMerge({...x.rendererSymbolProperty},
{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],p.prototype,"defaultSymbol",null);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"fieldDelimiter",void 0);b.__decorate([n.property({type:v,readOnly:!0})],p.prototype,"portal",void 0);b.__decorate([l.reader("portal",["styleName"])],p.prototype,"readPortal",null);b.__decorate([n.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],p.prototype,"styleOrigin",void 0);b.__decorate([l.reader("styleOrigin",["styleName","styleUrl"])],p.prototype,"readStyleOrigin",null);b.__decorate([m.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],p.prototype,"writeStyleOrigin",null);b.__decorate([n.property({type:[z],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],p.prototype,"uniqueValueInfos",null);return p=G=b.__decorate([q.subclass("esri.renderers.UniqueValueRenderer")],
p)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","../maybe","./utils"],function(a,b,c,e,d){function p(m){return m instanceof c?Object.keys(m.items):m instanceof b?d.getProperties(m).keys():m?Object.keys(m):[]}function r(m,t){return m instanceof c?m.items[t]:m[t]}function u(m,t){return Array.isArray(m)&&Array.isArray(t)?m.length!==t.length:!1}function n(m){return m?m.declaredClass:null}function k(m,t){const f=m.diff;if(f&&"function"===typeof f)return f(m,
t);const h=p(m),v=p(t);if(0!==h.length||0!==v.length){if(!h.length||!v.length||u(m,t))return{type:"complete",oldValue:m,newValue:t};var w=v.filter(y=>!h.includes(y)),D=h.filter(y=>!v.includes(y));D=h.filter(y=>v.includes(y)&&r(m,y)!==r(t,y)).concat(w,D).sort();if((w=n(m))&&q.includes(w)&&D.length)return{type:"complete",oldValue:m,newValue:t};var x;w=m instanceof b&&t instanceof b;for(const y of D){D=r(m,y);const z=r(t,y);if((w||"function"!==typeof D&&"function"!==typeof z)&&D!==z&&(null!=D||null!=
z)){if(f&&f[y]&&"function"===typeof f[y])D=f[y](D,z);else if(D instanceof Date&&z instanceof Date){if(D.getTime()===z.getTime())continue;D={type:"complete",oldValue:D,newValue:z}}else D="object"===typeof D&&"object"===typeof z&&n(D)===n(z)?k(D,z):{type:"complete",oldValue:D,newValue:z};e.isSome(D)&&(e.isSome(x)?x.diff[y]=D:x={type:"partial",diff:{[y]:D}})}}return x}}function g(m,t){if(e.isNone(m))return!1;t=t.split(".");for(const f of t){if("complete"===m.type)break;if("partial"===m.type){if(m=m.diff[f],
!m)return!1}else return!1}return!0}function l(m){if(e.isNone(m))return!0;switch(m.type){case "complete":return!1;case "collection":for(const t of m.added)if(!l(t))return!1;for(const t of m.removed)if(!l(t))return!1;for(const t of m.changed)if(!l(t))return!1;return!0;case "partial":for(const t in m.diff)if(!l(m.diff[t]))return!1;return!0}}const q=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.diff=function(m,t){if(!("function"===
typeof m||"function"===typeof t||e.isNone(m)&&e.isNone(t)))return e.isNone(m)||e.isNone(t)||"object"===typeof m&&"object"===typeof t&&n(m)!==n(t)?{type:"complete",oldValue:m,newValue:t}:k(m,t)};a.hasDiff=g;a.hasDiffAny=function(m,t){for(const f of t)if(g(m,f))return!0;return!1};a.isEmpty=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(m){m=g.call(this,m)||this;m.description=null;m.label=null;m.symbol=null;m.value=null;return m}a._inheritsLoose(l,g);var q=l.prototype;q.castValue=function(m){return null==m||"string"===typeof m||"number"===typeof m?m:`${m}`};q.clone=function(){return new k({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};q.getMeshHash=function(){const m=JSON.stringify(this.symbol&&this.symbol.toJSON());
return`${this.value}.${m}`};return l}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property(n.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([e.property({json:{type:String,write:{writer:(g,l)=>{l.value=null==g?void 0:g.toString()}}}})],c.prototype,"value",void 0);b.__decorate([r.cast("value")],c.prototype,"castValue",
null);return c=k=b.__decorate([u.subclass("esri.renderers.support.UniqueValueInfo")],c)})},"esri/symbols/support/styleUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/Error ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),function(a,b,c,e,d,p,r,u,n,k){function g(h,v){return l.apply(this,arguments)}function l(){l=b._asyncToGenerator(function*(h,v){try{return{data:(yield t(h,
v)).data,baseUrl:r.removeFile(h),styleUrl:h}}catch(w){return p.throwIfAbortError(w),null}});return l.apply(this,arguments)}function q(h,v,w){v=d.isSome(v.portal)?v.portal:u.getDefault();let D;const x=`${v.url} - ${v.user&&v.user.username} - ${h}`;f[x]||(f[x]=m(h,v,w).then(y=>{D=y;return y.fetchData()}).then(y=>({data:y,baseUrl:D.itemUrl,styleName:h})));return f[x]}function m(h,v,w){return v.load(w).then(()=>{const D=new n({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${h}"`});
return v.queryItems(D,w)}).then(({results:D})=>{let x=null;const y=h.toLowerCase();if(D&&Array.isArray(D))for(const z of D)if(z.typeKeywords.some(A=>A.toLowerCase()===y)&&"Style"===z.type&&"esri_en"===z.owner){x=z;break}if(!x)throw new e("symbolstyleutils:style-not-found",`The style '${h}' could not be found`,{styleName:h});return x.load(w)})}function t(h,v){v={responseType:"json",query:{f:"json"},...v};return c(r.normalize(h),v)}const f={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";
a.fetchStyle=function(h,v,w){return h.styleUrl?g(h.styleUrl,w):h.styleName?q(h.styleName,v,w):Promise.reject(new e("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=function(h){return null===h||"CIMSymbolReference"===h.type?h:{type:"CIMSymbolReference",symbol:h}};a.requestJSON=t;a.styleNameFromItem=function(h){for(const v of h.typeKeywords)if(/^Esri.*Style$/.test(v)&&"Esri Style"!==v)return v};a.symbolUrlFromStyleItem=
function(h,v){if("cimRef"===v)return h.cimRef;if(h.formatInfos&&!k.enableWebStyleForceWOSR())for(const w of h.formatInfos)if("gltf"===w.type)return w.href;return h.webRef};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,b){a.enableDirect3DObjectFeatureLayerDisplay=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");
Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,c,e){function d(r,u,n){return r?r&&(r.styleName||r.styleUrl)&&"uniqueValue"!==r.type?(n&&n.messages&&n.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+r.type+"'",
{definition:r,context:n})),null):p(r,u,n):null}const p=c.createTypeReader({types:e.rendererTypes});a.fromJSON=function(r,u){return d(r,null,u)};a.read=d;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/types":function(){define("exports ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,c,e,d,p,r,u,n){const k=
{key:"type",base:r,typeMap:{simple:u,"unique-value":n,"class-breaks":b,heatmap:d},errorContext:"renderer"};a.rendererTypes={key:"type",base:r,typeMap:{heatmap:d,simple:u,"unique-value":n,"class-breaks":b,"dot-density":e,dictionary:c,"pie-chart":p},errorContext:"renderer"};a.webSceneRendererTypes=k;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){const k=l=>{l=function(q){function m(...f){return q.call(this,...f)||this}b._inheritsLoose(m,q);var t=m.prototype;t.clear=function(f,h="user"){return r.getProperties(this).store.delete(f,p.nameToId(h))};t.write=function(f={},h){f=f||{};u.write(this,f,h);return f};t.setAtOrigin=function(f,h,v){r.getProperties(this).setAtOrigin(f,h,p.nameToId(v))};t.removeOrigin=function(f){const h=r.getProperties(this).store;f=p.nameToId(f);const v=h.keys(f);for(const w of v)h.originOf(w)===
f&&h.set(w,h.get(w,f),p.OriginId.USER)};t.updateOrigin=function(f,h){const v=r.getProperties(this).store;h=p.nameToId(h);const w=this.get(f);for(let D=h+1;D<p.OriginIdNum;++D)v.delete(f,D);v.set(f,w,h)};t.toJSON=function(f){return this.write({},f)};return m}(l);l=c.__decorate([n.subclass("esri.core.WriteableMultiOriginJSONSupport")],l);l.prototype.toJSON.isDefaultToJSON=!0;return l},g=l=>{l=function(q){function m(...t){return q.call(this,...t)||this}b._inheritsLoose(m,q);return m}(k(d.ReadOnlyMultiOriginJSONMixin(l)));
return l=c.__decorate([n.subclass("esri.core.MultiOriginJSONSupport")],l)};a.MultiOriginJSONSupport=function(l){function q(){return l.apply(this,arguments)||this}b._inheritsLoose(q,l);return q}(g(e));a.MultiOriginJSONSupport=c.__decorate([n.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=g;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){const l=q=>{q=function(m){function t(...h){h=m.call(this,...h)||this;const v=d.assumeNonNull(k.getProperties(b._assertThisInitialized(h))),w=v.store,D=new r;v.store=D;p.setupConstructedDefaults(v,w,D);return h}b._inheritsLoose(t,m);var f=t.prototype;f.read=function(h,v){n.read(this,h,v)};f.getAtOrigin=function(h,v){const w=k.getProperties(this).store,D=u.nameToId(v);if("string"===typeof h)return w.get(h,D);const x={};h.forEach(y=>{x[y]=w.get(y,D)});return x};f.originOf=
function(h){return u.idToName(this.originIdOf(h))};f.originIdOf=function(h){return k.getProperties(this).store.originOf(h)};f.revert=function(h,v){const w=k.getProperties(this).store,D=u.nameToId(v),x=k.getProperties(this);("string"===typeof h?"*"===h?w.keys(D):[h]:h).forEach(y=>{x.invalidate(y);w.revert(y,D);x.commit(y)})};return t}(q);return q=c.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],q)};a.ReadOnlyMultiOriginJSONSupport=function(q){function m(){return q.apply(this,arguments)||
this}b._inheritsLoose(m,q);return m}(l(e));a.ReadOnlyMultiOriginJSONSupport=c.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","../maybe","./PropertyOrigin"],function(a,b,c){return function(){function e(){this._propertyOriginMap=new Map;this._originStores=
Array(c.OriginIdNum);this._values=new Map;this.multipleOriginsSupported=!0}var d=e.prototype;d.clone=function(p){const r=new e;var u=this._originStores[c.OriginId.DEFAULTS];u&&u.forEach((n,k)=>{r.set(k,a.clone(n),c.OriginId.DEFAULTS)});for(let n=c.OriginId.SERVICE;n<c.OriginIdNum;n++)(u=this._originStores[n])&&u.forEach((k,g)=>{p&&p.has(g)||r.set(g,a.clone(k),n)});return r};d.get=function(p,r){return(r=void 0===r?this._values:this._originStores[r])?r.get(p):void 0};d.keys=function(p){return(p=null==
p?this._values:this._originStores[p])?[...p.keys()]:[]};d.set=function(p,r,u=c.OriginId.USER){var n=this._originStores[u];n||(n=new Map,this._originStores[u]=n);n.set(p,r);return!this._values.has(p)||b.assumeNonNull(this._propertyOriginMap.get(p))<=u?(n=this._values.get(p),this._values.set(p,r),this._propertyOriginMap.set(p,u),n!==r):!1};d.delete=function(p,r=c.OriginId.USER){var u=this._originStores[r];if(u){var n=u.get(p);u.delete(p);if(this._values.has(p)&&this._propertyOriginMap.get(p)===r)for(this._values.delete(p),
--r;0<=r;r--)if((u=this._originStores[r])&&u.has(p)){this._values.set(p,u.get(p));this._propertyOriginMap.set(p,r);break}return n}};d.has=function(p,r){return(r=void 0===r?this._values:this._originStores[r])?r.has(p):!1};d.revert=function(p,r){for(;0<r&&!this.has(p,r);)--r;var u=this._originStores[r];u=u&&u.get(p);const n=this._values.get(p);this._values.set(p,u);this._propertyOriginMap.set(p,r);return n!==u};d.originOf=function(p){return this._propertyOriginMap.get(p)||c.OriginId.DEFAULTS};d.forEach=
function(p){this._values.forEach(p)};return e}()})},"esri/core/sql":function(){define(["require","exports","../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b,c,e){function d(){d=c._asyncToGenerator(function*(p,r){const {WhereClause:u}=yield new Promise((n,k)=>a(["./sql/WhereClause"],n,k));return u.create(p,r)});return d.apply(this,arguments)}b.parseWhereClause=function(p,r){return d.apply(this,arguments)};b.sqlAnd=function(p,r){return e.isSome(p)?e.isSome(r)?`(${p}) AND (${r})`:p:r};Object.defineProperties(b,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/form/FormTemplate":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),function(a,b,c,e,d,
p,r,u,n,k,g,l){var q;const m=l.buildTypeMaps(g);c=q=function(t){function f(v){v=t.call(this,v)||this;v.description=null;v.elements=null;v.expressionInfos=null;v.title=null;return v}a._inheritsLoose(f,t);var h=f.prototype;h.castElements=function(v){return l.ensureType(v,m)};h.readElements=function(v,w){return l.fromJSON(w.formElements,m)};h.writeElements=function(v,w){w.formElements=l.toJSON(v,m)};h.clone=function(){return new q({description:this.description,expressionInfos:e.clone(this.expressionInfos),
elements:e.clone(this.elements),title:this.title})};return f}(c.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"elements",void 0);b.__decorate([p.cast("elements")],c.prototype,"castElements",null);b.__decorate([r.reader("elements",["formElements"])],c.prototype,"readElements",null);b.__decorate([n.writer("elements")],c.prototype,"writeElements",null);b.__decorate([d.property({type:[k],
json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=q=b.__decorate([u.subclass("esri.form.FormTemplate")],c)})},"esri/form/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.expression=null;l.name=null;l.returnType="boolean";l.title=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);
b.__decorate([e.property({type:["boolean","date","number","string"],json:{write:!0}})],c.prototype,"returnType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=n=b.__decorate([u.subclass("esri.form.ExpressionInfo")],c)})},"esri/form/elements/GroupElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;n=g=function(q){function m(f){f=q.call(this,f)||this;f.elements=null;f.initialState="expanded";f.type="group";return f}a._inheritsLoose(m,q);var t=m.prototype;t.castElements=function(f){return k.ensureType(f,l,!1)};t.readElements=function(f,h){return k.fromJSON(h.formElements,l,!1)};t.writeElements=function(f,h){h.formElements=k.toJSON(f,l,!1)};t.clone=function(){return new g({description:this.description,elements:c.clone(this.elements),initialState:this.initialState,
label:this.label,visibilityExpression:this.visibilityExpression})};return m}(n);b.__decorate([e.property({json:{write:!0}})],n.prototype,"elements",void 0);b.__decorate([d.cast("elements")],n.prototype,"castElements",null);b.__decorate([p.reader("elements",["formElements"])],n.prototype,"readElements",null);b.__decorate([u.writer("elements")],n.prototype,"writeElements",null);b.__decorate([e.property({type:["collapsed","expanded"],json:{write:!0}})],n.prototype,"initialState",void 0);b.__decorate([e.property({type:String,
json:{read:!1,write:!0}})],n.prototype,"type",void 0);n=g=b.__decorate([r.subclass("esri.form.elements.GroupElement")],n);const l=k.buildTypeMaps(n);return n})},"esri/form/elements/Element":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,e,d){c=function(p){function r(u){u=p.call(this,u)||this;u.description=null;u.label=null;
u.type=null;u.visibilityExpression=null;return u}a._inheritsLoose(r,p);return r}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property()],c.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"visibilityExpression",void 0);return c=b.__decorate([d.subclass("esri.form.elements.Element")],c)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement".split(" "),
function(a,b,c,e,d,p){a.buildTypeMaps=function(r){return{typesWithGroup:{base:e,key:"type",typeMap:{attachment:c,field:d,group:r,relationship:p}},typesWithoutGroup:{base:e,key:"type",typeMap:{attachment:c,field:d,relationship:p}}}};a.ensureType=function(r,u,n=!0){return r?r.map(k=>b.ensureOneOfType(n?u.typesWithGroup:u.typesWithoutGroup,k)):null};a.fromJSON=function(r,u,n=!0){if(!r)return null;const k=n?u.typesWithGroup.typeMap:u.typesWithoutGroup.typeMap;return r.filter(g=>k[g.type]).map(g=>k[g.type].fromJSON(g))};
a.toJSON=function(r,u,n=!0){if(!r)return null;const k=n?u.typesWithGroup.typeMap:u.typesWithoutGroup.typeMap;return r.filter(g=>k[g.type]).map(g=>g.toJSON())};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.attachmentKeyword=null;q.editable=!0;q.input=null;q.type="attachment";return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};return l}(u);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"attachmentKeyword",
void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"editable",void 0);b.__decorate([c.property({type:n,json:{read:{source:"inputType"},write:{target:"inputType"}}})],e.prototype,"input",void 0);b.__decorate([c.property({type:["attachment"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=k=b.__decorate([r.subclass("esri.form.elements.AttachmentElement")],e)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=k.call(this,l)||this;l.type=null;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({type:this.type})};return g}(c.JSONSupport);b.__decorate([e.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],c.prototype,"type",void 0);return c=n=b.__decorate([u.subclass("esri.form.elements.inputs.AttachmentInput")],c)})},"esri/form/elements/FieldElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;e=g=function(l){function q(m){m=l.call(this,m)||this;m.domain=null;m.editable=!0;m.editableExpression=null;m.fieldName=null;m.hint=null;m.input=null;m.requiredExpression=null;m.type="field";m.valueExpression=null;return m}a._inheritsLoose(q,l);q.prototype.clone=function(){return new g({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,
requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})};return q}(u);b.__decorate([c.property({types:k.types,json:{read:{reader:k.fromJSON},write:!0}})],e.prototype,"domain",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"editable",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"editableExpression",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,
"fieldName",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"hint",void 0);b.__decorate([c.property({types:n.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],e.prototype,"input",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"requiredExpression",void 0);b.__decorate([c.property({type:String,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",
void 0);return e=g=b.__decorate([r.subclass("esri.form.elements.FieldElement")],e)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),function(a,b,c,e,d,p,r,u,n){a.types={base:d,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"datetime-picker":e,"radio-buttons":p,switch:r,
"text-area":u,"text-box":n}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=
k.call(this,l)||this;l.type="barcode-scanner";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({maxLength:this.maxLength,minLength:this.minLength})};return g}(u);b.__decorate([c.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.form.elements.inputs.BarcodeScannerInput")],e)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,p,r,u){e=function(n){function k(g){g=n.call(this,g)||this;g.maxLength=null;g.minLength=0;return g}a._inheritsLoose(k,n);return k}(u);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"maxLength",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"minLength",void 0);return e=b.__decorate([r.subclass("esri.form.elements.inputs.TextInput")],e)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(n){function k(g){g=n.call(this,g)||this;g.type=null;return g}a._inheritsLoose(k,n);return k}(c.JSONSupport);b.__decorate([e.property()],c.prototype,"type",void 0);return c=b.__decorate([u.subclass("esri.form.elements.inputs.Input")],c)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.noValueOptionLabel=null;l.showNoValueOption=!1;l.type="combo-box";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})};return g}(u);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showNoValueOption",
void 0);b.__decorate([c.property({type:["combo-box"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.form.elements.inputs.ComboBoxInput")],e)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,e,d,p,r,u,n,k){function g(q){return null!=q?new Date(q):null}var l;e=l=function(q){function m(f){f=q.call(this,f)||this;f.includeTime=!1;f.max=null;f.min=null;f.type="datetime-picker";return f}a._inheritsLoose(m,q);var t=m.prototype;t.readMax=function(f,h){return g(h.max)};t.writeMax=function(f,h){h.max=f?f.getTime():null};t.readMin=function(f,h){return g(h.min)};t.writeMin=function(f,h){h.min=f?f.getTime():null};t.clone=function(){return new l({includeTime:this.includeTime,max:this.max,
min:this.min,type:this.type})};return m}(k);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"includeTime",void 0);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],e.prototype,"max",void 0);b.__decorate([r.reader("max")],e.prototype,"readMax",null);b.__decorate([n.writer("max")],e.prototype,"writeMax",null);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],e.prototype,"min",void 0);b.__decorate([r.reader("min")],e.prototype,"readMin",null);b.__decorate([n.writer("min")],
e.prototype,"writeMin",null);b.__decorate([c.property({type:["datetime-picker"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=l=b.__decorate([u.subclass("esri.form.elements.inputs.DateTimePickerInput")],e)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.noValueOptionLabel=null;l.showNoValueOption=!1;l.type="radio-buttons";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})};return g}(u);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showNoValueOption",
void 0);b.__decorate([c.property({type:["radio-buttons"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.form.elements.inputs.RadioButtonsInput")],e)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.offValue=null;l.onValue=null;l.type="switch";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({offValue:this.offValue,onValue:this.onValue})};return g}(u);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],e.prototype,"offValue",void 0);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],e.prototype,"onValue",void 0);b.__decorate([c.property({type:["switch"],
json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.form.elements.inputs.SwitchInput")],e)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,e,d,p,r,u){var n;
e=n=function(k){function g(l){l=k.call(this,l)||this;l.type="text-area";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({maxLength:this.maxLength,minLength:this.minLength})};return g}(u);b.__decorate([c.property({type:["text-area"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.form.elements.inputs.TextAreaInput")],e)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.type="text-box";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({maxLength:this.maxLength,minLength:this.minLength})};return g}(u);b.__decorate([c.property({type:["text-box"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.form.elements.inputs.TextBoxInput")],e)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,e,d,p){b={key:"type",base:e,typeMap:{range:p,"coded-value":c,inherited:d}};a.CodedValueDomain=c;a.DomainBase=e;a.InheritedDomain=d;a.RangeDomain=p;a.fromJSON=function(r){if(!r||!r.type)return null;switch(r.type){case "range":return p.fromJSON(r);case "codedValue":return c.fromJSON(r);case "inherited":return d.fromJSON(r)}return null};a.types=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;d=k=function(g){function l(m){m=g.call(this,m)||this;m.codedValues=null;m.type="coded-value";return m}a._inheritsLoose(l,g);var q=l.prototype;q.getName=function(m){let t=null;if(this.codedValues){const f=String(m);this.codedValues.some(h=>{String(h.code)===f&&(t=h.name);return!!t})}return t};q.clone=function(){return new k({codedValues:c.clone(this.codedValues),name:this.name})};return l}(n);b.__decorate([e.property({type:[u.CodedValue],json:{write:!0}})],d.prototype,
"codedValues",void 0);b.__decorate([p.enumeration({codedValue:"coded-value"})],d.prototype,"type",void 0);return d=k=b.__decorate([r.subclass("esri.layers.support.CodedValueDomain")],d)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;a.CodedValue=k=function(g){function l(q){q=g.call(this,q)||this;q.name=null;q.code=null;return q}b._inheritsLoose(l,g);l.prototype.clone=function(){return new k({name:this.name,code:this.code})};return l}(e.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);c.__decorate([d.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=k=c.__decorate([n.subclass("esri.layers.support.CodedValue")],
a.CodedValue);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,
c,e,d,p,r,u,n,k){c=new c.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});e=function(g){function l(q){q=g.call(this,q)||this;q.name=null;q.type=null;return q}a._inheritsLoose(l,g);return l}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"name",void 0);b.__decorate([n.enumeration(c)],e.prototype,"type",void 0);return e=b.__decorate([k.subclass("esri.layers.support.Domain")],e)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;c=g=function(l){function q(m){m=l.call(this,m)||this;m.type="inherited";return m}a._inheritsLoose(q,l);q.prototype.clone=function(){return new g};return q}(k);b.__decorate([u.enumeration({inherited:"inherited"})],c.prototype,"type",void 0);return c=g=b.__decorate([n.subclass("esri.layers.support.InheritedDomain")],c)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.maxValue=null;q.minValue=null;q.type="range";return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return l}(n);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(g,l){return l.range&&l.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(g,l,q){l[q]=[this.minValue||0,g]}}}})],e.prototype,"maxValue",void 0);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(g,l){return l.range&&l.range[0]}},write:{target:"range",writer(g,l,q){l[q]=[g,this.maxValue||0]}}}})],e.prototype,"minValue",void 0);b.__decorate([r.enumeration({range:"range"})],e.prototype,"type",void 0);return e=k=b.__decorate([u.subclass("esri.layers.support.RangeDomain")],e)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,p,r,u){var n;d=n=function(k){function g(l){l=k.call(this,l)||this;l.displayCount=null;l.displayType="list";l.editable=!0;l.orderByFields=null;l.relationshipId=null;l.type="relationship";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:c.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})};
return g}(r);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"displayCount",void 0);b.__decorate([e.property({type:["list"],json:{write:!0}})],d.prototype,"displayType",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],d.prototype,"editable",void 0);b.__decorate([e.property({type:[u],json:{write:!0}})],d.prototype,"orderByFields",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"relationshipId",void 0);b.__decorate([e.property({type:["relationship"],
json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=n=b.__decorate([p.subclass("esri.form.elements.RelationshipElement")],d)})},"esri/geometry/HeightModelInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){function m(w,D){return new r("height-unit:unsupported",`Height unit of value '${w}' is not supported`,D)}function t(w,D){return new r("height-model:unsupported",`Height model of value '${w}' is not supported`,D)}var f;const h=e.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});n=h.jsonValues.slice();c.removeUnordered(n,"orthometric");const v=e.strict()({meter:"meters",foot:"feet","us-foot":"us-feet",
"clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});c=f=function(w){function D(y){y=w.call(this,y)||this;y.heightModel=
"gravity-related-height";y.heightUnit="meters";y.vertCRS=null;return y}a._inheritsLoose(D,w);var x=D.prototype;x.writeHeightModel=function(y,z,A){return h.write(y,z,A)};x.readHeightModel=function(y,z,A){if(z=h.read(y))return z;A&&A.messages&&A.messages.push(t(y,{context:A}));return null};x.readHeightUnit=function(y,z,A){if(z=v.read(y))return z;A&&A.messages&&A.messages.push(m(y,{context:A}));return null};x.readHeightUnitService=function(y,z,A){if(z=p.unitFromRESTJSON(y)||v.read(y))return z;A&&A.messages&&
A.messages.push(m(y,{context:A}));return null};x.readVertCRS=function(y,z){return z.vertCRS||z.ellipsoid||z.geoid};x.clone=function(){return new f({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};x.equals=function(y){return y?this===y?!0:this.heightModel===y.heightModel&&this.heightUnit===y.heightUnit&&this.vertCRS===y.vertCRS:!1};D.deriveUnitFromSR=function(y,z){z=p.getVerticalUnitStringForSR(z);return new f({heightModel:y.heightModel,heightUnit:z,vertCRS:y.vertCRS})};
x.write=function(y,z){z={origin:"web-scene",...z};return w.prototype.write.call(this,y,z)};D.fromJSON=function(y){if(!y)return null;const z=new f;z.read(y,{origin:"web-scene"});return z};return D}(d.JSONSupport);b.__decorate([u.property({type:h.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:n,default:"ellipsoidal"}}}})],c.prototype,"heightModel",void 0);b.__decorate([q.writer("web-scene","heightModel")],c.prototype,"writeHeightModel",null);b.__decorate([g.reader(["web-scene","service"],
"heightModel")],c.prototype,"readHeightModel",null);b.__decorate([u.property({type:v.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:v.jsonValues,write:v.write}}}})],c.prototype,"heightUnit",void 0);b.__decorate([g.reader("web-scene","heightUnit")],c.prototype,"readHeightUnit",null);b.__decorate([g.reader("service","heightUnit")],c.prototype,"readHeightUnitService",null);b.__decorate([u.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"vertCRS",
void 0);b.__decorate([g.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],c.prototype,"readVertCRS",null);return c=f=b.__decorate([l.subclass("esri.geometry.HeightModelInfo")],c)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/HandleOwner ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/maybe ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C){let B=0;const E=g.getLogger("esri.layers.graphics.sources.MemorySource");a.MemorySource=function(G){function J(F){F=G.call(this,F)||this;F._idToClientGraphic=null;F.type="memory";return F}b._inheritsLoose(J,G);var K=J.prototype;K.load=function(F){F=l.isSome(F)?F.signal:null;this.addResolvingPromise(this._startWorker(F));return Promise.resolve(this)};K.destroy=function(){var F;null==(F=this._connection)?void 0:F.close();this._connection=null};
K.applyEdits=function(F){return this.load().then(()=>this._applyEdits(F))};K.openPorts=function(){return this.load().then(()=>this._connection.openPorts())};K.queryFeatures=function(){var F=b._asyncToGenerator(function*(H,I={}){yield this.load(I);I=yield this._connection.invoke("queryFeatures",H?H.toJSON():null,I);x.applyFeatureSetZUnitScaling(H,this.layer.spatialReference,I);H=y.fromJSON(I);if(!this._requiresClientGraphicMapping())return H;I=this.layer.objectIdField;for(const L of H.features){const Q=
this._idToClientGraphic.get(L.attributes[I]);Q&&(L.geometry=Q.geometry)}H.geometryType=this.layer.geometryType;return H});return function(H){return F.apply(this,arguments)}}();K.queryFeaturesJSON=function(){var F=b._asyncToGenerator(function*(H,I={}){if(this._requiresClientGraphicMapping())throw new r("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield this.load(I);I=yield this._connection.invoke("queryFeatures",H?H.toJSON():null,
I);x.applyFeatureSetZUnitScaling(H,this.layer.spatialReference,I);return I});return function(H){return F.apply(this,arguments)}}();K.queryFeatureCount=function(F,H={}){return this.load(H).then(()=>this._connection.invoke("queryFeatureCount",F?F.toJSON():null,H))};K.queryObjectIds=function(F,H={}){return this.load(H).then(()=>this._connection.invoke("queryObjectIds",F?F.toJSON():null,H))};K.queryExtent=function(F,H={}){return this.load(H).then(()=>this._connection.invoke("queryExtent",F?F.toJSON():
null,H)).then(I=>({count:I.count,extent:z.fromJSON(I.extent)}))};K.querySnapping=function(F,H={}){return this.load(H).then(()=>this._connection.invoke("querySnapping",F,H))};K._applyEdits=function(){var F=b._asyncToGenerator(function*(H){if(!this._connection)throw new r("feature-layer-source:edit-failure","Memory source not loaded");const I=this.layer.objectIdField;let L=null;const Q=[],Z=[];yield Promise.all([this._prepareClientMapping(H.addFeatures,null),this._prepareClientMapping(H.updateFeatures,
null)]);const ca=oa=>"objectId"in oa&&null!=oa.objectId?oa.objectId:"attributes"in oa&&null!=oa.attributes[I]?oa.attributes[I]:null;H.addFeatures&&(L=this._prepareAddFeatures(H.addFeatures));if(H.deleteFeatures)for(var aa of H.deleteFeatures){const oa=ca(aa);null!=oa&&Q.push(oa)}aa=H.updateFeatures&&this._idToClientGraphic?new Map:null;if(H.updateFeatures)for(const oa of H.updateFeatures)Z.push(this._serializeFeature(oa)),aa&&(H=ca(oa),null!=H&&aa.set(H,oa));D.unapplyEditsZUnitScaling(L?L.features:
null,Z,this.layer.spatialReference);const {fullExtent:O,featureEditResults:fa}=yield this._connection.invoke("applyEdits",{adds:L?L.features:[],updates:Z,deletes:Q});this.fullExtent=O;L&&L.finish(fa.uidToObjectId);this._updateClientGraphicIds(aa,fa);return this._createEditsResult(fa)});return function(H){return F.apply(this,arguments)}}();K._prepareClientMapping=function(){var F=b._asyncToGenerator(function*(H,I){if("mesh"===this.layerOrSourceGeometryType&&!l.isNone(H)){var L=[];for(const {geometry:Q}of H)!l.isSome(Q)||
"mesh"!==Q.type||Q.hasExtent||Q.loaded||L.push(Q.load({signal:I}));L.length&&(yield Promise.all(L))}});return function(H,I){return F.apply(this,arguments)}}();K._updateClientGraphicIds=function(F,H){if(this._idToClientGraphic){if(F)for(const I of H.updateResults){if(!I.success)continue;const L=F.get(I.objectId);null!=L&&this._addIdToClientGraphic(L)}for(const I of H.deleteResults)I.success&&this._idToClientGraphic.delete(I.objectId)}};K._createEditsResult=function(F){return{addFeatureResults:F.addResults?
F.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:F.updateResults?F.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:F.deleteResults?F.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};K._createFeatureEditResult=function(F){const H=!0===F.success?null:F.error||{code:void 0,description:void 0};return{objectId:F.objectId,globalId:F.globalId,error:H?new r("feature-layer-source:edit-failure",
H.description,{code:H.code}):null}};K._prepareAddFeatures=function(F){const H=new Map,I=Array(F.length);let L=null;for(let Z=0;Z<F.length;Z++){const ca=F[Z],aa=this._serializeFeature(ca);!L&&l.isSome(ca.geometry)&&(L=ca.geometry.type);I[Z]=aa;H.set(`${aa.uid}`,ca)}const Q=this;return{features:I,inferredGeometryType:L,finish(Z){const ca=Q.sourceJSON.objectIdField;for(const aa in Z){const O=Z[aa],fa=H.get(aa);fa&&(fa.attributes||(fa.attributes={}),-1===O?delete fa.attributes[ca]:fa.attributes[ca]=O,
Q._addIdToClientGraphic(fa))}}}};K._addIdToClientGraphic=function(F){if(this._idToClientGraphic){var H=this.sourceJSON.objectIdField;H=F.attributes&&F.attributes[H];null!=H&&this._idToClientGraphic.set(H,F)}};K._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)};K._geometryRequiresClientGraphicMapping=function(F){return this._geometryTypeRequiresClientGraphicMapping(F.type)};K._geometryTypeRequiresClientGraphicMapping=function(F){return"mesh"===
F||"multipatch"===F||"extent"===F};K._serializeFeature=function(F){const {attributes:H}=F;F=this._geometryForSerialization(F);const I=(B++).toString();return F?{uid:I,geometry:F.toJSON(),attributes:H}:{uid:I,attributes:H}};K._geometryForSerialization=function(F){({geometry:F}=F);return l.isNone(F)?null:this._geometryRequiresClientGraphicMapping(F)?F.extent?A.fromExtent(F.extent):null:F};K._startWorker=function(){var F=b._asyncToGenerator(function*(H){this._connection=yield m.open("MemorySourceWorker",
{strategy:n("feature-layers-workers")?"dedicated":"local",signal:H});const {fields:I,spatialReference:L,objectIdField:Q,hasM:Z,hasZ:ca,timeInfo:aa}=this.layer;var O="defaults"===this.layer.originOf("spatialReference");yield this._prepareClientMapping(this.items,H);const fa=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",Da=>{E.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");Da.preventDefault()}));O={features:fa.features,
fields:I&&I.map(Da=>Da.toJSON()),geometryType:C.typeKebabDictionary.toJSON(this.workerGeometryType),hasM:"mesh"===this.layerOrSourceGeometryType?!1:Z,hasZ:"mesh"===this.layerOrSourceGeometryType?!0:ca,objectIdField:Q,spatialReference:O?null:L&&L.toJSON(),timeInfo:aa?aa.toJSON():null};H=yield this._connection.invoke("load",O,{signal:H});for(var oa of H.warnings)E.warn(oa.message,{layer:this.layer,warning:oa});H.featureErrors.length&&E.warn(`Encountered ${H.featureErrors.length} validation errors while loading features`,
H.featureErrors);oa=H.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(fa.inferredGeometryType)&&(oa.geometryType=C.typeKebabDictionary.toJSON(fa.inferredGeometryType));this.sourceJSON=oa;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);fa.finish(H.assignedObjectIds)});return function(H){return F.apply(this,arguments)}}();b._createClass(J,[{key:"workerGeometryType",get:function(){var F;const H=null==(F=this.layer)?void 0:F.geometryType;return H?this._geometryTypeRequiresClientGraphicMapping(H)?
"polygon":H:null}},{key:"layerOrSourceGeometryType",get:function(){var F,H,I;return null!=(F=null==(H=this.layer)?void 0:H.geometryType)?F:null==(I=this.sourceJSON)?void 0:I.geometryType}}]);return J}(k.LoadableMixin(q.EsriPromiseMixin(u.HandleOwnerMixin(p))));c.__decorate([v.shared({Type:d,ensureType:h.ensureType(d)})],a.MemorySource.prototype,"itemType",void 0);c.__decorate([t.property()],a.MemorySource.prototype,"type",void 0);c.__decorate([t.property({constructOnly:!0})],a.MemorySource.prototype,
"layer",void 0);c.__decorate([t.property({readOnly:!0})],a.MemorySource.prototype,"workerGeometryType",null);c.__decorate([t.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=c.__decorate([w.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/workers/workers":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,c,e,d,p,r,u,n){function k(x){if(x&&x.__esModule)return x;const y=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(x)for(const z in x)if("default"!==z){const A=Object.getOwnPropertyDescriptor(x,z);Object.defineProperty(y,z,A.get?A:{enumerable:!0,get:()=>x[z]})}y.default=x;return Object.freeze(y)}function g(x,y){return l.apply(this,arguments)}function l(){l=c._asyncToGenerator(function*(x,y){const z=new r;yield z.open(x,y);return z});return l.apply(this,arguments)}function q(){q=
c._asyncToGenerator(function*(x,y={}){if("string"!==typeof x)throw new e("workers:undefined-module","modulePath is missing");var z=y.strategy||"distributed";d("host-webworker")&&!d("esri-workers")&&(z="local");if("local"===z){var A=yield u.loadWorker(x);A||(A=yield new Promise((C,B)=>a([x],E=>C(k(E)),B)));p.throwIfAborted(y.signal);z=y.client||A;A=u.connect(A);return g([A],{...y,client:z})}yield m();p.throwIfAborted(y.signal);if("dedicated"===z)return z=h++%f,z=yield v[z].open(x,y),g([z],y);if(y.maxNumWorkers&&
0<y.maxNumWorkers&&(z=Math.min(y.maxNumWorkers,f),z<f)){A=Array(z);for(let C=0;C<z;++C){const B=h++%f;A[C]=v[B].open(x,y)}return g(A,y)}z=v.map(C=>C.open(x,y));return g(z,y)});return q.apply(this,arguments)}function m(){return t.apply(this,arguments)}function t(){t=c._asyncToGenerator(function*(){if(w)return w;D=new AbortController;const x=[];for(let y=0;y<f;y++){const z=n.create(y).then(A=>v[y]=A);x.push(z)}return w=Promise.all(x)});return t.apply(this,arguments)}let f=d("esri-workers-debug")?1:
d("host-browser")?navigator.hardwareConcurrency-1:0;f||(f=d("safari")&&d("mac")||d("trident")?7:2);let h=0;const v=[];let w=null,D;b.Connection=r;b.RemoteClient=u;b.initialize=function(){m()};b.open=function(x){return q.apply(this,arguments)};b.openWithPorts=function(x,y){return g(x,{client:y})};b.terminate=function(){w&&(D.abort(),w=null);for(let x=0;x<v.length;x++)v[x]&&v[x].terminate();v.length=0};Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/workers/Connection":function(){define("../../chunks/_rollupPluginBabelHelpers ../handleUtils ../Logger ../promiseUtils ../Queue ./RemoteClient".split(" "),
function(a,b,c,e,d,p){const r=c.getLogger("esri.core.workers.Connection");return function(){function u(){this._inUseClients=[];this._clients=[];this._clientPromises=[];this._ongoingJobsQueue=new d}var n=u.prototype;n.destroy=function(){this.close()};n.open=function(k,g){return new Promise((l,q)=>{let m=!0;const t=f=>{e.throwIfAborted(g.signal);m&&(m=!1,f())};this._clients.length=k.length;this._clientPromises.length=k.length;this._inUseClients.length=k.length;for(let f=0;f<k.length;++f){const h=k[f];
e.isPromiseLike(h)?this._clientPromises[f]=h.then(v=>{this._clients[f]=new p(v,g,()=>this._ongoingJobsQueue.pop());t(l);return this._clients[f]},()=>{t(q);return null}):(this._clients[f]=new p(h,g,()=>this._ongoingJobsQueue.pop()),this._clientPromises[f]=Promise.resolve(this._clients[f]),t(l))}})};n.broadcast=function(k,g,l){const q=Array(this._clientPromises.length);for(let m=0;m<this._clientPromises.length;++m)q[m]=this._clientPromises[m].then(t=>t.invoke(k,g,l));return q};n.close=function(){let k;
for(;k=this._ongoingJobsQueue.pop();)k.deferred.reject(e.createAbortError(`Worker closing, aborting job calling '${k.methodName}'`));for(const g of this._clientPromises)g.then(l=>l.close());this._clients.length=0;this._clientPromises.length=0};n.invoke=function(k,g,l){let q=null;Array.isArray(l)?(r.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),q={transferList:l}):q=l;l=e.createDeferred();this._ongoingJobsQueue.push({methodName:k,data:g,invokeOptions:q,
deferred:l});for(k=0;k<this._clientPromises.length;k++)(g=this._clients[k])?g.jobAdded():this._clientPromises[k].then(m=>m.jobAdded());return l.promise};n.on=function(k,g){return Promise.all(this._clientPromises).then(()=>b.handlesGroup(this._clients.map(l=>l.on(k,g))))};n.openPorts=function(){return new Promise(k=>{const g=Array(this._clientPromises.length);let l=g.length;for(let q=0;q<this._clientPromises.length;++q)this._clientPromises[q].then(m=>{g[q]=m.openPort();0===--l&&k(g)})})};a._createClass(u,
[{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"test",get:function(){return{numClients:this._clients.length}}}]);return u}()})},"esri/core/Queue":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b){return function(){function c(d=p=>p.values().next().value){this._peeker=d;this._items=new Set}var e=c.prototype;e.clear=function(){this._items.clear()};e.last=function(){if(0!==this._items.size){for(var d of this._items);return d}};e.peek=
function(){if(0!==this._items.size)return this._peeker(this._items)};e.push=function(d){this.contains(d)||this._items.add(d)};e.contains=function(d){return this._items.has(d)};e.pop=function(){if(0!==this.length){var d=this.peek();this._items.delete(b.assumeNonNull(d));return d}};e.popLast=function(){if(0!==this.length){var d=this.last();this._items.delete(b.assumeNonNull(d));return d}};e.remove=function(d){this._items.delete(d)};e.filter=function(d){this._items.forEach(p=>{d(p)||this._items.delete(p)});
return this};a._createClass(c,[{key:"length",get:function(){return this._items.size}}]);return c}()})},"esri/core/workers/RemoteClient":function(){define("require ../../kernel ../Error ../events ../maybe ../promiseUtils ./utils ../../support/revision".split(" "),function(a,b,c,e,d,p,r,u){const n=w=>Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),k={statsWorker:()=>new Promise((w,D)=>a(["../../smartMapping/statistics/support/statsWorker"],w,D)),
geometryEngineWorker:()=>new Promise((w,D)=>a(["../../geometry/geometryEngineWorker"],w,D)),CSVSourceWorker:()=>new Promise((w,D)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],x=>w(n(x)),D)),EdgeProcessingWorker:()=>new Promise((w,D)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],w,D)),ElevationSamplerWorker:()=>new Promise((w,D)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],x=>w(n(x)),D)),FeatureServiceSnappingSourceWorker:()=>new Promise((w,
D)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],w,D)),GeoJSONSourceWorker:()=>new Promise((w,D)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],x=>w(n(x)),D)),LercWorker:()=>new Promise((w,D)=>a(["../../layers/support/LercWorker"],x=>w(n(x)),D)),MemorySourceWorker:()=>new Promise((w,D)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],x=>w(n(x)),D)),PBFDecoderWorker:()=>new Promise((w,D)=>a(["../../views/3d/support/PBFDecoderWorker"],
x=>w(n(x)),D)),Pipeline:()=>new Promise((w,D)=>a(["../../views/2d/layers/features/Pipeline"],x=>w(n(x)),D)),PointCloudWorker:()=>new Promise((w,D)=>a(["../../views/3d/layers/PointCloudWorker"],x=>w(n(x)),D)),RasterWorker:()=>new Promise((w,D)=>a(["../../layers/support/RasterWorker"],x=>w(n(x)),D)),SceneLayerSnappingSourceWorker:()=>new Promise((w,D)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],w,D)),SceneLayerWorker:()=>new Promise((w,D)=>
a(["../../views/3d/layers/SceneLayerWorker"],w,D)),WFSSourceWorker:()=>new Promise((w,D)=>a(["../../layers/graphics/sources/WFSSourceWorker"],x=>w(n(x)),D)),WorkerTileHandler:()=>new Promise((w,D)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],x=>w(n(x)),D))},{CLOSE:g,ABORT:l,INVOKE:q,RESPONSE:m,OPEN_PORT:t,ON:f}=r.MessageType;let h=function(){function w(x){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=x;this._timer=null;this._process=this._process.bind(this)}
var D=w.prototype;D.push=function(x){x.type===r.MessageType.ABORT?this._cancelledJobIds.add(x.jobId):(this._invokeMessages.push(x),null===this._timer&&(this._timer=setTimeout(this._process,0)))};D.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};D._process=function(){this._timer=null;for(const x of this._invokeMessages)this._cancelledJobIds.has(x.jobId)||this._invoke(x);this._cancelledJobIds.clear();this._invokeMessages.length=0};return w}(),v=function(){function w(x,
y,z){this._port=x;this._getNextJob=z;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new h(A=>this._onInvokeMessage(A));this._client=y.client;this._onMessage=this._onMessage.bind(this);this._channel=y.channel;this._schedule=y.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}w.connect=function(x){const y=new MessageChannel;x="function"===typeof x?new x:"default"in x&&"function"===typeof x.default?new x.default:x;const z=new w(y.port1,{channel:y,client:x},
()=>null);"object"===typeof x&&"remoteClient"in x&&(x.remoteClient=z);w.clients.set(z,x);return y.port2};w.loadWorker=function(x){return(x=k[x])?x():Promise.resolve(null)};var D=w.prototype;D.close=function(){this._post({type:g});this._close()};D.isBusy=function(){return 0<this._outJobs.size};D.invoke=function(x,y,z){const A=z&&z.signal,C=z&&z.transferList;if(!this._port)return Promise.reject(new c("worker:port-closed",`Cannot call invoke('${x}'), port is closed`,{methodName:x,data:y}));const B=r.newJobId();
return new Promise((E,G)=>{if(p.isAborted(A))this._processWork(),G(p.createAbortError());else{var J=p.onAbort(A,()=>{const K=this._outJobs.get(B);K&&(this._outJobs.delete(B),this._processWork(),d.removeMaybe(K.abortHandle),this._post({type:l,jobId:B}),G(p.createAbortError()))});this._outJobs.set(B,{resolve:E,reject:G,abortHandle:J,debugInfo:x});this._post({type:q,jobId:B,methodName:x,abortable:null!=A},y,C)}})};D.on=function(x,y){function z(C){y(C.data)}const A=new MessageChannel;this._port.postMessage({type:r.MessageType.ON,
eventType:x,port:A.port2},[A.port2]);A.port1.addEventListener("message",z);A.port1.start();return{remove(){A.port1.postMessage({type:r.MessageType.CLOSE});A.port1.close();A.port1.removeEventListener("message",z)}}};D.jobAdded=function(){this._processWork()};D.openPort=function(){const x=new MessageChannel;this._post({type:t,port:x.port2});return x.port1};D._processWork=function(){if(!(2<=this._outJobs.size)){var x=this._getNextJob();if(x){var {methodName:y,data:z,invokeOptions:A,deferred:C}=x;this.invoke(y,
z,A).then(B=>C.resolve(B)).catch(B=>C.reject(B))}}};D._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(x=>{d.removeMaybe(x.abortHandle);x.reject(p.createAbortError(`Worker closing, aborting job calling '${x.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=this._schedule=null};D._onMessage=function(x){d.isSome(this._schedule)?this._schedule(()=>
this._processMessage(x)):this._processMessage(x)};D._processMessage=function(x){if(x=r.receiveMessage(x))switch(x.type){case m:this._onResponseMessage(x);break;case q:this._invokeQueue.push(x);break;case l:this._onAbortMessage(x);break;case g:this._onCloseMessage();break;case t:this._onOpenPortMessage(x);break;case f:this._onOnMessage(x)}};D._onAbortMessage=function(x){const y=this._inJobs,z=x.jobId,A=y.get(z);this._invokeQueue.push(x);A&&(A.controller&&A.controller.abort(),y.delete(z))};D._onCloseMessage=
function(){const x=this._client;this._close();x&&"destroy"in x&&w.clients.get(this)===x&&x.destroy();w.clients.delete(this);x&&x.remoteClient&&(x.remoteClient=null)};D._onInvokeMessage=function(x){const {methodName:y,jobId:z,data:A,abortable:C}=x;x=C?new AbortController:null;const B=this._inJobs;let E=this._client,G=E[y],J;try{if(!G&&y&&y.includes(".")){const K=y.split(".");for(let F=0;F<K.length-1;F++)E=E[K[F]],G=E[K[F+1]]}if("function"!==typeof G)throw new TypeError(`${y} is not a function`);J=
G.call(E,A,{client:this,signal:x?x.signal:null})}catch(K){this._post({type:m,jobId:z,error:r.toInvokeError(K)});return}p.isPromiseLike(J)?(B.set(z,{controller:x,promise:J}),J.then(K=>{B.has(z)&&(B.delete(z),this._post({type:m,jobId:z},K))},K=>{B.has(z)&&(B.delete(z),p.isAbortError(K)||this._post({type:m,jobId:z,error:r.toInvokeError(K||{message:`Error encountered at method ${y}`})}))})):this._post({type:m,jobId:z},J)};D._onOpenPortMessage=function(x){new w(x.port,{client:this._client},()=>null)};
D._onOnMessage=function(x){const {port:y}=x,z=this._client.on(x.eventType,C=>{y.postMessage(C)}),A=e.on(x.port,"message",C=>{r.receiveMessage(C).type===r.MessageType.CLOSE&&(A.remove(),z.remove(),y.close())})};D._onResponseMessage=function(x){const {jobId:y,error:z,data:A}=x;x=this._outJobs;if(x.has(y)){var C=x.get(y);this._processWork();x.delete(y);d.removeMaybe(C.abortHandle);z?C.reject(c.fromJSON(JSON.parse(z))):C.resolve(A)}};D._post=function(x,y,z){return r.postMessage(this._port,x,y,z)};return w}();
v.kernelInfo={revision:u.commitHash,version:b.version,buildDate:u.buildDate};v.clients=new Map;return v})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function c(p){return p&&"object"===typeof p&&("result"in p||"transferList"in p)}function e(p){if(!p||!p.length)return null;if(b("esri-workers-arraybuffer-transfer"))return p;p=p.filter(r=>!(r instanceof ArrayBuffer||r&&r.constructor&&"ArrayBuffer"===r.constructor.name));return p.length?p:null}a.MessageType=void 0;
(function(p){p[p.HANDSHAKE=0]="HANDSHAKE";p[p.OPEN=1]="OPEN";p[p.OPENED=2]="OPENED";p[p.RESPONSE=3]="RESPONSE";p[p.INVOKE=4]="INVOKE";p[p.ABORT=5]="ABORT";p[p.CLOSE=6]="CLOSE";p[p.OPEN_PORT=7]="OPEN_PORT";p[p.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let d=0;a.isTranferableResult=c;a.newJobId=function(){return d++};a.postMessage=function(p,r,u,n){r.type===a.MessageType.OPEN_PORT?p.postMessage(r,[r.port]):r.type!==a.MessageType.INVOKE&&r.type!==a.MessageType.RESPONSE?p.postMessage(r):(c(u)?(n=
e(u.transferList),r.data=u.result):(n=e(n),r.data=u),n?p.postMessage(r,n):p.postMessage(r))};a.receiveMessage=function(p){return p?(p=p.data)?"string"===typeof p?JSON.parse(p):p:null:null};a.toInvokeError=function(p){return p?"string"===typeof p?JSON.stringify({name:"message",message:p}):p.toJSON?JSON.stringify(p):JSON.stringify({name:p.name,message:p.message,details:p.details||{stack:p.stack}}):null};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/workers/WorkerOwner":function(){define("../../chunks/_rollupPluginBabelHelpers ../../kernel ../Error ../Logger ../maybe ../promiseUtils ./utils ./workerFactory".split(" "),
function(a,b,c,e,d,p,r,u){const n=e.getLogger("esri.core.workers"),{ABORT:k,INVOKE:g,OPEN:l,OPENED:q,RESPONSE:m}=r.MessageType;return function(){function t(h,v){this._outJobs=new Map;this._inJobs=new Map;this.worker=h;this.id=v;h.addEventListener("message",this._onMessage.bind(this));h.addEventListener("error",w=>{w.preventDefault();n.error(w)})}t.create=function(){var h=a._asyncToGenerator(function*(v){const w=yield u.createWorker();return new t(w,v)});return function(v){return h.apply(this,arguments)}}();
var f=t.prototype;f.terminate=function(){this.worker.terminate()};f.open=function(){var h=a._asyncToGenerator(function*(v,w={}){const {signal:D}=w,x=r.newJobId();return new Promise((y,z)=>{const A=p.onAbortOrThrow(D,()=>{this._outJobs.delete(x);this._post({type:k,jobId:x})});this._outJobs.set(x,{resolve:y,reject:z,abortHandle:A});this._post({type:l,jobId:x,modulePath:v})})});return function(v){return h.apply(this,arguments)}}();f._onMessage=function(h){if(h=r.receiveMessage(h))switch(h.type){case q:this._onOpenedMessage(h);
break;case m:this._onResponseMessage(h);break;case k:this._onAbortMessage(h);break;case g:this._onInvokeMessage(h)}};f._onAbortMessage=function(h){const v=this._inJobs;h=h.jobId;const w=v.get(h);w&&(w.controller&&w.controller.abort(),v.delete(h))};f._onInvokeMessage=function(h){const {methodName:v,jobId:w,data:D,abortable:x}=h;h=x?new AbortController:null;const y=this._inJobs,z=b.workerMessages[v];let A;try{if("function"!==typeof z)throw new TypeError(`${v} is not a function`);A=z.call(null,D,{signal:h?
h.signal:null})}catch(C){this._post({type:m,jobId:w,error:r.toInvokeError(C)});return}p.isPromiseLike(A)?(y.set(w,{controller:h,promise:A}),A.then(C=>{y.has(w)&&(y.delete(w),this._post({type:m,jobId:w},C))},C=>{y.has(w)&&(y.delete(w),C||(C={message:"Error encountered at method"+v}),p.isAbortError(C)||this._post({type:m,jobId:w,error:r.toInvokeError(C||{message:`Error encountered at method ${v}`})}))})):this._post({type:m,jobId:w},A)};f._onOpenedMessage=function(h){const {jobId:v,data:w}=h;if(h=this._outJobs.get(v))this._outJobs.delete(v),
d.removeMaybe(h.abortHandle),h.resolve(w)};f._onResponseMessage=function(h){const {jobId:v,error:w,data:D}=h;if(h=this._outJobs.get(v))this._outJobs.delete(v),d.removeMaybe(h.abortHandle),w?h.reject(c.fromJSON(JSON.parse(w))):h.resolve(D)};f._post=function(h,v,w){return r.postMessage(this.worker,h,v,w)};return t}()})},"esri/core/workers/workerFactory":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../assets ../../config ../../intl ../../kernel ../has ../Logger ../urlUtils ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m){function t(){t=b._asyncToGenerator(function*(){if(!r("esri-workers")||(r("mozilla"),0))return f(new l);if(!x&&!y)try{const C='let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse("{CONFIGURATION}");self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,buildDate:r,version:t}\x3dconfiguration.kernelInfo,{revision:n,buildDate:i,version:s}\x3de.kernelInfo;o!\x3d\x3dn\x26\x26console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let e;function t(o){const t\x3de.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(r\x3d\x3e{e\x3dr.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((r\x3d\x3e(e\x3dr.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r\x3d\x3e{e\x3dr.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e\x3doutgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.replace('"{CONFIGURATION}"',
`'${v()}'`);x=URL.createObjectURL(new Blob([C],{type:"text/javascript"}))}catch(C){y=C||{}}let A;if(x)try{A=new Worker(x,{name:`esri-worker-${z++}`})}catch(C){w.warn("Failed to create Worker. Fallback to execute module in main thread",y),A=new l}else w.warn("Failed to create Worker. Fallback to execute module in main thread",y),A=new l;return f(A)});return t.apply(this,arguments)}function f(A){return h.apply(this,arguments)}function h(){h=b._asyncToGenerator(function*(A){return new Promise(C=>{function B(G){(G=
g.receiveMessage(G))&&G.type===D&&(A.removeEventListener("message",B),A.removeEventListener("error",E),C(A))}function E(G){G.preventDefault();A.removeEventListener("message",B);A.removeEventListener("error",E);w.warn("Failed to create Worker. Fallback to execute module in main thread",G);A=new l;A.addEventListener("message",B);A.addEventListener("error",E)}A.addEventListener("message",B);A.addEventListener("error",E)})});return h.apply(this,arguments)}function v(){if(null!=e["default"]){var A={...e};
delete A["default"];A=JSON.parse(JSON.stringify(A))}else A=JSON.parse(JSON.stringify(e));A.assetsPath=n.makeAbsolute(A.assetsPath);A.request.interceptors=[];A.log.interceptors=[];A.locale=q.getLocale();A.has={"esri-csp-restrictions":r("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":r("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":r("esri-2d-query-centroid-enabled"),"featurelayer-pbf":r("featurelayer-pbf"),"featurelayer-simplify-thresholds":r("featurelayer-simplify-thresholds"),
"featurelayer-simplify-payload-size-factors":r("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":r("featurelayer-simplify-mobile-factor"),"esri-atomics":r("esri-atomics"),"esri-shared-array-buffer":r("esri-shared-array-buffer"),"esri-tiles-debug":r("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":r("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":r("feature-polyline-generalization-factor"),"host-webworker":1};A.workers.loaderUrl?
A.workers.loaderUrl=n.makeAbsolute(A.workers.loaderUrl):k.DEFAULT_LOADER_URL&&(A.workers.loaderUrl=k.DEFAULT_LOADER_URL);A.workers.workerPath=A.workers.workerPath?n.makeAbsolute(A.workers.workerPath):"esri/core/workers/RemoteClient";A.workers.useDynamicImport=!1;var C=e.workers.loaderConfig;C=k.loaderConfig({baseUrl:null==C?void 0:C.baseUrl,locale:q.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...null==C?void 0:C.has},map:{...null==C?void 0:C.map},paths:{...null==C?
void 0:C.paths},packages:(null==C?void 0:C.packages)||[]});return JSON.stringify({esriConfig:A,loaderConfig:C,kernelInfo:{version:p.version,buildDate:m.buildDate,revision:m.commitHash}})}const w=u.getLogger("esri.core.workers"),{HANDSHAKE:D}=g.MessageType;let x,y,z=0;a.createWorker=function(){return t.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),
function(a,b,c,e,d,p,r,u){p.registerMessageBundleLoader(r.createJSONLoader({pattern:"esri/",location:u.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;a.formatNumber=c.formatNumber;a.substitute=e.substitute;a.getLocale=d.getLocale;a.onLocaleChange=d.onLocaleChange;a.prefersRTL=d.prefersRTL;a.setLocale=d.setLocale;a.fetchMessageBundle=p.fetchMessageBundle;a.normalizeMessageBundleLocale=
p.normalizeMessageBundleLocale;a.registerMessageBundleLoader=p.registerMessageBundleLoader;a.createJSONLoader=r.createJSONLoader;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,c,e,d,p){function r(n){switch(typeof n){case "string":return n;case "number":return p.formatNumber(n);case "boolean":return""+n;default:return n instanceof
Date?d.formatDate(n):""}}const u=b.getLogger("esri.intl");a.substitute=function(n,k,g={}){const {format:l={}}=g;return e.replace(n,q=>{{const f=q.indexOf(":");if(-1===f)var m=q.trim();else{m=q.slice(0,f).trim();var t=q.slice(f+1).trim()}if(m)if(q=c.getDeepValue(m,k),null==q)t="";else if(m=l[t]||l[m])b:switch(m.type){case "date":t=d.formatDate(q,m.intlOptions);break b;case "number":t=p.formatNumber(q,m.intlOptions);break b;default:u.warn("missing format descriptor for key {key}"),t=r(q)}else if(t)b:switch(t.toLowerCase()){case "dateformat":t=
d.formatDate(q);break b;case "numberformat":t=p.formatNumber(q);break b;default:u.warn(`inline format is unsupported since 4.12: ${t}`),t=/^(dateformat|datestring)/i.test(t)?d.formatDate(q):/^numberformat/i.test(t)?p.formatNumber(q):r(q)}else t=r(q);else t=""}return t})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/intl/t9n":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/Error ../core/maybe ./messages".split(" "),
function(a,b,c,e,d,p){function r(q,m,t,f){return u.apply(this,arguments)}function u(){u=b._asyncToGenerator(function*(q,m,t,f){var h=m.exec(t);if(!h)throw new e("esri-intl:invalid-bundle",`Bundle id "${t}" is not compatible with the pattern "${m}"`);m=h[1]?`${h[1]}/`:"";h=h[2];const v=p.normalizeMessageBundleLocale(f);f=`${m}${h}.json`;m=v?`${m}${h}_${v}.json`:f;let w;try{w=yield n(q(m))}catch(D){if(m===f)throw new e("intl:unknown-bundle",`Bundle "${t}" cannot be loaded`,{error:D});try{w=yield n(q(f))}catch(x){throw new e("intl:unknown-bundle",
`Bundle "${t}" cannot be loaded`,{error:x});}}return w});return u.apply(this,arguments)}function n(q){return k.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(q){if(d.isSome(l.fetchBundleAsset))return l.fetchBundleAsset(q);q=yield c(q,{responseType:"text"});return JSON.parse(q.data)});return k.apply(this,arguments)}let g=function(){function q({base:m="",pattern:t,location:f=new URL(window.location.href)}){let h;h="string"===typeof f?v=>(new URL(v,new URL(f,window.location.href))).href:
f instanceof URL?v=>(new URL(v,f)).href:f;this.pattern="string"===typeof t?new RegExp(`^${t}`):t;this.getAssetUrl=h;m=m?m.endsWith("/")?m:m+"/":"";this.matcher=new RegExp(`^${m}(?:(.*)/)?(.*)$`)}q.prototype.fetchMessageBundle=function(m,t){return r(this.getAssetUrl,this.matcher,m,t)};return q}();const l={};a.JSONLoader=g;a.createJSONLoader=function(q){return new g(q)};a.test=l;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/workers/loaderConfig":function(){define(["exports",
"../../assets","../has","../urlUtils"],function(a,b,c,e){a.DEFAULT_LOADER_URL=null;a.DEFAULT_LOADER_URL=e.makeAbsolute("node_modules/dojo/dojo.js");var d=e.makeAbsolute(b.getAssetUrl("dojo/"));var p=[{name:"esri",location:"../esri"}];a.loaderConfig=function(r){const u={async:r.async,isDebug:r.isDebug,locale:r.locale,baseUrl:r.baseUrl,has:{...r.has},map:{...r.map},packages:r.packages&&r.packages.concat()||[],paths:{...r.paths}};r.hasOwnProperty("async")||(u.async=!0);r.hasOwnProperty("isDebug")||
(u.isDebug=!1);r.baseUrl||(u.baseUrl=d);null==p?void 0:p.forEach(n=>{a:{var k=u.packages;for(const g of k)if(g.name===n.name)break a;k.push(n)}});return u};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/workers/WorkerFallback":function(){define(["require","../../chunks/_rollupPluginBabelHelpers","../nextTick","./RemoteClient","./utils"],function(a,b,c,e,d){function p(u){if(u&&u.__esModule)return u;const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});
if(u)for(const k in u)if("default"!==k){const g=Object.getOwnPropertyDescriptor(u,k);Object.defineProperty(n,k,g.get?g:{enumerable:!0,get:()=>u[k]})}n.default=u;return Object.freeze(n)}let r=function(){const u=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(n=>{this[n]=(...k)=>u[n](...k)})};return function(){function u(){this._dispatcher=new r;this._workerPostMessage({type:d.MessageType.HANDSHAKE})}var n=u.prototype;n.terminate=function(){};n.postMessage=
function(k){c.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",{data:k}))})};n.dispatchEvent=function(k){return this._dispatcher.dispatchEvent(k)};n.addEventListener=function(k,g,l){this._dispatcher.addEventListener(k,g,l)};n.removeEventListener=function(k,g,l){this._dispatcher.removeEventListener(k,g,l)};n._workerPostMessage=function(k){c.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:k}))})};n._workerMessageHandler=function(){var k=b._asyncToGenerator(function*(g){if((g=
d.receiveMessage(g))&&g.type===d.MessageType.OPEN){const {modulePath:l,jobId:q}=g;(g=yield e.loadWorker(l))||(g=yield new Promise((m,t)=>a([l],f=>m(p(f)),t)));g=e.connect(g);this._workerPostMessage({type:d.MessageType.OPENED,jobId:q,data:g})}});return function(g){return k.apply(this,arguments)}}();b._createClass(u,[{key:"onmessage",get:function(){return this._onmessageHandler},set:function(k){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=
k)&&this.addEventListener("message",k)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(k){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=k)&&this.addEventListener("messageerror",k)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(k){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=k)&&this.addEventListener("error",
k)}}]);return u}()})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/maybe","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,c,e){function d(r,u,n){if(null==r.hasM||r.hasZ)for(const k of u)for(const g of k)2<g.length&&(g[2]*=n)}function p(r,u,n){if(r)for(const l of r){r=l.geometry;var k=u,g=n;if(!b.isNone(r)&&r.spatialReference&&!e.equals(r.spatialReference,k)&&(k=c.getMetersPerVerticalUnitForSR(r.spatialReference)/g,1!==
k))if("x"in r)null!=r.z&&(r.z*=k);else if("rings"in r)d(r,r.rings,k);else if("paths"in r)d(r,r.paths,k);else if("points"in r&&(null==r.hasM||r.hasZ))for(const q of r.points)2<q.length&&(q[2]*=k)}}a.unapplyEditsZUnitScaling=function(r,u,n){if((r||u)&&n){var k=c.getMetersPerVerticalUnitForSR(n);p(r,n,k);p(u,n,k)}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale"],
function(a,b,c){a.applyFeatureSetZUnitScaling=function(e,d,p){if(p&&p.features&&p.hasZ&&(e=c.getGeometryZScaler(p.geometryType,d,e.outSpatialReference),!b.isNone(e)))for(const r of p.features)e(r.geometry)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f){var h;const v=new d.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});d=h=function(w){function D(y){y=w.call(this,y)||this;y.displayFieldName=null;y.exceededTransferLimit=!1;y.features=[];y.fields=null;y.geometryType=null;y.hasM=!1;y.hasZ=!1;y.queryGeometry=null;y.spatialReference=null;return y}a._inheritsLoose(D,w);var x=
D.prototype;x.readFeatures=function(y,z){z=m.fromJSON(z.spatialReference);const A=[];for(let G=0;G<y.length;G++){var C=y[G];const J=e.fromJSON(C);var B=C.geometry&&C.geometry.spatialReference;u.isSome(J.geometry)&&!B&&(J.geometry.spatialReference=z);C=C.aggregateGeometries;B=J.aggregateGeometries;if(C&&u.isSome(B))for(const K in B){const F=B[K];var E=C[K];E=null==E?void 0:E.spatialReference;u.isSome(F)&&!E&&(F.spatialReference=z)}A.push(J)}return A};x.writeGeometryType=function(y,z,A,C){if(y)v.write(y,
z,A,C);else if({features:y}=this,y)for(const B of y)if(B&&u.isSome(B.geometry)){v.write(B.geometry.type,z,A,C);break}};x.readQueryGeometry=function(y,z){if(!y)return null;const A=!!y.spatialReference;y=t.fromJSON(y);!A&&z.spatialReference&&(y.spatialReference=m.fromJSON(z.spatialReference));return y};x.writeSpatialReference=function(y,z){if(y)z.spatialReference=y.toJSON();else if({features:y}=this,y)for(const A of y)if(A&&u.isSome(A.geometry)&&A.geometry.spatialReference){z.spatialReference=A.geometry.spatialReference.toJSON();
break}};x.clone=function(){return new h(this.cloneProperties())};x.cloneProperties=function(){return r.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})};x.toJSON=function(y){const z=this.write();if(z.features&&Array.isArray(y)&&0<y.length)for(let A=0;A<
z.features.length;A++){const C=z.features[A];if(C.geometry){const B=y&&y[A];C.geometry=B&&B.toJSON()||C.geometry}}return z};x.quantize=function(y){const {scale:[z,A],translate:[C,B]}=y,E=this.features,G=this._getQuantizationFunction(this.geometryType,J=>Math.round((J-C)/z),J=>Math.round((B-J)/A));for(let J=0,K=E.length;J<K;J++)G(u.unwrap(E[J].geometry))||(E.splice(J,1),J--,K--);this.transform=y;return this};x.unquantize=function(){const {geometryType:y,features:z,transform:A}=this;if(!A)return this;
const {translate:[C,B],scale:[E,G]}=A,J=this._getHydrationFunction(y,K=>K*E+C,K=>B-K*G);for(const {geometry:K}of z)u.isSome(K)&&J(K);this.transform=null;return this};x._quantizePoints=function(y,z,A){let C,B;const E=[];for(let J=0,K=y.length;J<K;J++){var G=y[J];if(0<J){const F=z(G[0]);G=A(G[1]);if(F!==C||G!==B)E.push([F-C,G-B]),C=F,B=G}else C=z(G[0]),B=A(G[1]),E.push([C,B])}return 0<E.length?E:null};x._getQuantizationFunction=function(y,z,A){return"point"===y?C=>{C.x=z(C.x);C.y=A(C.y);return C}:"polyline"===
y||"polygon"===y?C=>{const B=t.isPolygon(C)?C.rings:C.paths,E=[];for(let G=0,J=B.length;G<J;G++){const K=this._quantizePoints(B[G],z,A);K&&E.push(K)}return 0<E.length?(t.isPolygon(C)?C.rings=E:C.paths=E,C):null}:"multipoint"===y?C=>{const B=this._quantizePoints(C.points,z,A);return 0<B.length?(C.points=B,C):null}:"extent"===y?C=>C:null};x._getHydrationFunction=function(y,z,A){if("point"===y)return C=>{C.x=z(C.x);C.y=A(C.y)};if("polyline"===y||"polygon"===y)return C=>{C=t.isPolygon(C)?C.rings:C.paths;
let B,E;for(let G=0,J=C.length;G<J;G++){const K=C[G];for(let F=0,H=K.length;F<H;F++){const I=K[F];0<F?(B+=I[0],E+=I[1]):(B=I[0],E=I[1]);I[0]=z(B);I[1]=A(E)}}};if("extent"===y)return C=>{C.xmin=z(C.xmin);C.ymin=A(C.ymin);C.xmax=z(C.xmax);C.ymax=A(C.ymax)};if("multipoint"===y)return C=>{C=C.points;let B,E;for(let G=0,J=C.length;G<J;G++){const K=C[G];0<G?(B+=K[0],E+=K[1]):(B=K[0],E=K[1]);K[0]=z(B);K[1]=A(E)}}};return D}(p.JSONSupport);b.__decorate([n.property({type:String,json:{write:!0}})],d.prototype,
"displayFieldName",void 0);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],d.prototype,"exceededTransferLimit",void 0);b.__decorate([n.property({type:[e],json:{write:!0}})],d.prototype,"features",void 0);b.__decorate([g.reader("features")],d.prototype,"readFeatures",null);b.__decorate([n.property({type:[f],json:{write:!0}})],d.prototype,"fields",void 0);b.__decorate([n.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:v.read}}})],
d.prototype,"geometryType",void 0);b.__decorate([q.writer("geometryType")],d.prototype,"writeGeometryType",null);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],d.prototype,"hasM",void 0);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],d.prototype,"hasZ",void 0);b.__decorate([n.property({types:c.geometryTypes,json:{write:!0}})],d.prototype,"queryGeometry",void 0);b.__decorate([g.reader("queryGeometry")],d.prototype,
"readQueryGeometry",null);b.__decorate([n.property({type:m,json:{write:!0}})],d.prototype,"spatialReference",void 0);b.__decorate([q.writer("spatialReference")],d.prototype,"writeSpatialReference",null);b.__decorate([n.property({json:{write:!0}})],d.prototype,"transform",void 0);d=h=b.__decorate([l.subclass("esri.rest.support.FeatureSet")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;const t=new c.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});c=m=function(f){function h(w){w=f.call(this,w)||this;
w.alias=null;w.defaultValue=void 0;w.description=null;w.domain=null;w.editable=!0;w.length=-1;w.name=null;w.nullable=!0;w.type=null;w.valueType=null;return w}a._inheritsLoose(h,f);var v=h.prototype;v.readDescription=function(w,{description:D}){let x;try{x=JSON.parse(D)}catch(y){}return x?x.value:null};v.readValueType=function(w,{description:D}){let x;try{x=JSON.parse(D)}catch(y){}return x?t.fromJSON(x.fieldValueType):null};v.clone=function(){return new m({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return h}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([d.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);b.__decorate([d.property()],c.prototype,"description",void 0);b.__decorate([k.reader("description")],
c.prototype,"readDescription",null);b.__decorate([d.property({types:l.types,json:{read:{reader:l.fromJSON},write:!0}})],c.prototype,"domain",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);b.__decorate([d.property({type:u.Integer,json:{write:!0}})],c.prototype,"length",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);b.__decorate([n.enumeration(q.kebabDict)],
c.prototype,"type",void 0);b.__decorate([d.property()],c.prototype,"valueType",void 0);b.__decorate([k.reader("valueType",["description"])],c.prototype,"readValueType",null);return c=m=b.__decorate([g.subclass("esri.layers.support.Field")],c)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",
esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});a.kebabDict=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){a.APIKeyMixin=n=>{n=function(k){function g(){return k.apply(this,arguments)||this}b._inheritsLoose(g,k);b._createClass(g,[{key:"apiKey",get:function(){var l;return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?null==(l=this.portalItem)?void 0:l.apiKey:null},set:function(l){null!=l?this._override("apiKey",l):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]);return g}(n);c.__decorate([e.property({type:String})],n.prototype,"apiKey",null);
return n=c.__decorate([u.subclass("esri.layers.mixins.APIKeyMixin")],n)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){a.ArcGISService=l=>{l=function(q){function m(){return q.apply(this,arguments)||this}b._inheritsLoose(m,q);b._createClass(m,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=g.parse(this.url);if(d.isSome(t)&&t.title)return t.title}return this._get("title")||""},set:function(t){this._set("title",t)}},{key:"url",set:function(t){this._set("url",g.sanitizeUrl(t,e.getLogger(this.declaredClass)))}}]);
return m}(l);c.__decorate([p.property()],l.prototype,"title",null);c.__decorate([p.property({type:String})],l.prototype,"url",null);return l=c.__decorate([k.subclass("esri.layers.mixins.ArcGISService")],l)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/maybe","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c,e){function d(q){if(b.isNone(q))return null;
q=c.urlToObject(q);q=q.path.match(k)||q.path.match(g);if(!q)return null;const [,m,t,f,h]=q;q=t.indexOf("/");return{title:r(-1!==q?t.slice(q+1):t),serverType:u[f.toLowerCase()],sublayer:null!=h&&""!==h?parseInt(h,10):null,url:{path:m}}}function p(q){return(q=c.urlToObject(q).path.match(l))?{serviceUrl:q[1],sublayerId:Number(q[2])}:null}function r(q){q=q.replace(/\s*[/_]+\s*/g," ");return q[0].toUpperCase()+q.slice(1)}const u={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",
sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},n=Object.values(u),k=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${n.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),g=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${n.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=r;a.isAGOLUrl=function(q){return q?(new c.Url(c.makeAbsolute(q))).authority.toLowerCase().includes("arcgis.com"):!1};
a.isArcGISUrl=function(q){return!!k.test(q)};a.isHostedAgolService=function(q){if(!q)return!1;q=q.toLowerCase();const m=q.includes(".arcgis.com/");q=q.includes("//services")||q.includes("//tiles")||q.includes("//features");return m&&q};a.isHostedSecuredProxyService=function(q,m){return m&&q&&q.toLowerCase().includes(m.toLowerCase())};a.isServerOrServicesAGOLUrl=function(q){if(!q)return!1;q=(new c.Url(c.makeAbsolute(q))).authority.toLowerCase();return"server.arcgisonline.com"===q||"services.arcgisonline.com"===
q};a.isWmsServer=function(q){if(!q)return!1;var m=q.toLowerCase();q=m.includes("/services/");const t=m.includes("/mapserver/wmsserver"),f=m.includes("/imageserver/wmsserver");m=m.includes("/wmsserver");return q&&(t||f||m)};a.parse=d;a.parseNonStandardSublayerUrl=p;a.sanitizeUrl=function(q,m){return q?c.removeTrailingSlash(c.removeQueryParameters(q,m)):q};a.sanitizeUrlWithLayerId=function(q){let {url:m}=q;if(!m)return{url:m};m=c.removeQueryParameters(m,q.logger);const t=c.urlToObject(m),f=d(t.path);
let h;b.isSome(f)?(null!=f.sublayer&&null==q.layer.layerId&&(h=f.sublayer),m=f.url.path):q.nonStandardUrlAllowed&&(q=p(t.path),b.isSome(q)&&(m=q.serviceUrl,h=q.sublayerId));return{url:c.removeTrailingSlash(m),layerId:h}};a.serverTypes=n;a.titleFromUrlAndName=function(q,m){const t=[];q&&(q=d(q),b.isSome(q)&&q.title&&t.push(q.title));m&&(m=r(m),t.push(m));if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(" - ")};
a.writeUrlWithLayerId=function(q,m,t,f,h){e.write(m,f,"url",h);f.url&&null!=q.layerId&&(f.url=c.join(f.url,t,q.layerId.toString()))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),
function(a,b,c,e,d,p,r,u,n){const k={read:{reader:n.read},write:{allowNull:!0,writer:n.write}};a.BlendLayer=g=>{g=function(l){function q(){var m=l.apply(this,arguments)||this;m.blendMode="normal";m.effect=null;return m}b._inheritsLoose(q,l);return q}(g);c.__decorate([e.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],g.prototype,"blendMode",void 0);c.__decorate([e.property({json:{read:!1,write:!1,origins:{"web-map":k,"portal-item":k}}})],g.prototype,"effect",void 0);return g=c.__decorate([u.subclass("esri.layers.mixins.BlendLayer")],g)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error",
"../../core/object","./parser","./utils"],function(a,b,c,e,d){function p(k){return(k=e.parse(k))?d.isEffectFunctions(k)?k.map(g=>g.toJSON()):k.map(({scale:g,effects:l})=>({scale:g,value:l.map(q=>q.toJSON())})):null}function r(k){if(!k||0===k.length)return null;var g=(g=k[0])?"scale"in g:!1;if(g){g=[];for(const l of k)g.push({scale:l.scale,value:u(l.value)});return g}return u(k)}function u(k){if(!k||!k.length)return"";const g=[];for(const t of k){k=[];switch(t.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":k=
[n(t,"amount")];break;case "blur":k=[n(t,"radius","pt")];break;case "hue-rotate":k=[n(t,"angle","deg")];break;case "drop-shadow":k=n(t,"xoffset","pt");var l=n(t,"yoffset","pt"),q=n(t,"blurRadius","pt");var m=t;if(null==m.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${m.type} effect`,{effect:m});m=m.color;m=`rgba(${m[0]||0}, ${m[1]||0}, ${m[2]||0}, ${m[3]/255||0})`;k=[k,l,q,m];break;case "bloom":k=[n(t,"strength"),n(t,"radius","pt"),n(t,"threshold")]}k=`${t.type}(${k.filter(Boolean).join(" ")})`;
e.parse(k);g.push(k)}return g.join(" ")}function n(k,g,l){if(null==k[g])throw new b("effect:missing-parameter",`Missing parameter '${g}' in ${k.type} effect`,{effect:k});return l?k[g]+l:""+k[g]}a.effectFunctionsFromJSON=u;a.fromJSON=r;a.read=function(k,g,l){try{return r(k)}catch(m){var q;null==l?void 0:null==(q=l.messages)?void 0:q.push(m)}return null};a.toJSON=p;a.write=function(k,g,l,q){try{const m=p(k);c.setDeepValue(l,m,g)}catch(m){q.messages&&q.messages.push(m)}};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),function(a,b,c,e,d,p){function r(x){let y;if(!x)return[];try{y=f.exports.parse(x)}catch(z){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:x,error:z});}return y.map(z=>u(z))}function u(x){try{switch(x.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var y,
z=1;n(x.parameters,1);1===x.parameters.length&&(z=l(x.parameters[0]));return y=new e.ColorMatrixEffect(x.name,z);case "opacity":var A;z=1;n(x.parameters,1);1===x.parameters.length&&(z=l(x.parameters[0]));return A=new e.OpacityEffect(z);case "hue-rotate":var C;z=0;n(x.parameters,1);if(1===x.parameters.length){var B=x.parameters[0];if("quantity"!==B.type||!(0===B.value&&null===B.unit||B.unit&&null!=h[B.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${k(B)}`,{term:B});z=B.value*h[B.unit]||
0}return C=new e.HueRotateEffect(z);case "blur":var E;z=0;n(x.parameters,1);1===x.parameters.length&&(z=m(x.parameters[0]),g(z,x.parameters[0]));return E=new e.BlurEffect(z);case "drop-shadow":A=[];C=null;for(var G of x.parameters)if("color"===G.type){A.length&&Object.freeze(A);if(C)throw new c("effect:type-error","Accepts only one color",{});a:{var J=void 0;y=G;switch(y.colorType){case "hex":C=b.hex2rgba(y.value);break a;case "named":C=t(y.value);break a;case "function":var K=y.value;n(K.parameters,
4);if(w.test(K.name))J=[l(K.parameters[0]),l(K.parameters[1]),l(K.parameters[2]),K.parameters[3]?l(K.parameters[3]):1];else if(D.test(K.name))J=b.hsla2rgba(q(K.parameters[0]),l(K.parameters[1]),l(K.parameters[2]),K.parameters[3]?l(K.parameters[3]):1);else throw new c("effect:syntax-error",`Invalid color function '${K.name}'`,{colorFunction:K});C=J;break a}C=void 0}}else{const F=m(G);if(Object.isFrozen(A))throw new c("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:A});A.push(F);
3===A.length&&g(F,G)}if(2>A.length||3<A.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${A.length}}`,{lengths:A});return z=new e.DropShadowEffect(A[0],A[1],A[2]||0,C||t("black"));case "bloom":return z=1,G=K=0,n(x.parameters,3),x.parameters[0]&&(z=l(x.parameters[0])),x.parameters[1]&&(K=m(x.parameters[1]),g(K,x.parameters[1])),x.parameters[2]&&(G=l(x.parameters[2])),J=new e.BloomEffect(z,K,G)}}catch(F){throw F.details.filter=x,F;}throw new c("effect:unknown-effect",
`Effect '${x.name}' is not supported`,{effect:x});}function n(x,y){if(x.length>y)throw new c("effect:type-error",`Function supports up to ${y} parameters, Actual: ${x.length}`,{parameters:x});}function k(x){if("color"===x.type)return"\x3ccolor\x3e";if(x.unit){if(v[x.unit])return"\x3clength\x3e";if(h[x.unit])return"\x3cangle\x3e";if("%"===x.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function g(x,y){if(0>x)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${x}`,{term:y});
}function l(x){if("quantity"!==x.type||null!==x.unit&&"%"!==x.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${k(x)}`,{term:x});const y=x.value;g(y,x);return"%"===x.unit?.01*y:y}function q(x){if("quantity"!==x.type||null!==x.unit)throw new c("effect:type-error",`Expected <double>, Actual: ${k(x)}`,{term:x});g(x.value,x);return x.value}function m(x){if("quantity"!==x.type||!(0===x.value&&null===x.unit||x.unit&&null!=v[x.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${k(x)}`,
{term:x});return x.value*v[x.unit]||0}function t(x){if(!b.isNamedColor(x))throw new c("effect:unknown-color",`color '${x}' isn't valid`,{namedColor:x});return b.getNamedColorCopy(x)}var f={exports:{}};(function(x){(function(y,z){x.exports&&(x.exports=z())})(d.commonjsGlobal,function(){function y(A,C,B,E){A=Error.call(this,A);Object.setPrototypeOf&&Object.setPrototypeOf(A,y.prototype);A.expected=C;A.found=B;A.location=E;A.name="SyntaxError";return A}function z(A,C,B){B=B||" ";if(A.length>C)return A;
C-=A.length;B+=B.repeat(C);return A+B.slice(0,C)}(function(A,C){function B(){this.constructor=A}B.prototype=C.prototype;A.prototype=new B})(y,Error);y.prototype.format=function(A){var C="Error: "+this.message;if(this.location){var B=null,E;for(E=0;E<A.length;E++)if(A[E].source===this.location.source){B=A[E].text.split(/\r\n|\n|\r/g);break}A=this.location.start;E=this.location.source+":"+A.line+":"+A.column;if(B){var G=this.location.end,J=z("",A.line.toString().length);B=B[A.line-1];G=A.line===G.line?
G.column:B.length+1;C+="\n --\x3e "+E+"\n"+J+" |\n"+A.line+" | "+B+"\n"+J+" | "+z("",A.column-1)+z("",G-A.column,"^")}else C+="\n at "+E}return C};y.buildMessage=function(A,C){function B(F){return F.charCodeAt(0).toString(16).toUpperCase()}function E(F){return F.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(H){return"\\x0"+B(H)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(H){return"\\x"+B(H)})}
function G(F){return F.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(H){return"\\x0"+B(H)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(H){return"\\x"+B(H)})}function J(F){return K[F.type](F)}var K={literal:function(F){return'"'+E(F.text)+'"'},class:function(F){var H=F.parts.map(function(I){return Array.isArray(I)?G(I[0])+"-"+G(I[1]):G(I)});return"["+
(F.inverted?"^":"")+H+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(F){return F.description}};return"Expected "+function(F){F=F.map(J);var H,I;F.sort();if(0<F.length){for(I=H=1;H<F.length;H++)F[H-1]!==F[H]&&(F[I]=F[H],I++);F.length=I}switch(F.length){case 1:return F[0];case 2:return F[0]+" or "+F[1];default:return F.slice(0,-1).join(", ")+", or "+F[F.length-1]}}(A)+" but "+(C?'"'+E(C)+'"':"end of input")+" found."};return{SyntaxError:y,parse:function(A,
C){function B(Ta,Aa){return{type:"literal",text:Ta,ignoreCase:Aa}}function E(Ta,Aa,Pa){return{type:"class",parts:Ta,inverted:Aa,ignoreCase:Pa}}function G(Ta){return{type:"other",description:Ta}}function J(Ta){var Aa=qa[Ta],Pa;if(!Aa){for(Pa=Ta-1;!qa[Pa];)Pa--;Aa=qa[Pa];for(Aa={line:Aa.line,column:Aa.column};Pa<Ta;)10===A.charCodeAt(Pa)?(Aa.line++,Aa.column=1):Aa.column++,Pa++;qa[Ta]=Aa}return Aa}function K(Ta,Aa){var Pa=J(Ta),Xa=J(Aa);return{source:fa,start:{offset:Ta,line:Pa.line,column:Pa.column},
end:{offset:Aa,line:Xa.line,column:Xa.column}}}function F(Ta){V<Ea||(V>Ea&&(Ea=V,Ua=[]),Ua.push(Ta))}function H(){Ka++;var Ta=V;Q();if(A.substr(V,4)===Ha){var Aa=Ha;V+=4}else Aa=O,0===Ka&&F(xa);Aa!==O?(Q(),ma=Ta,Ta=[]):(V=Ta,Ta=O);Ka--;Ta===O&&0===Ka&&F(ka);if(Ta===O)if(Ta=[],Aa=I(),Aa!==O)for(;Aa!==O;)Ta.push(Aa),Aa=I();else Ta=O;return Ta}function I(){var Ta=V;Q();Ka++;var Aa=V;var Pa=Z();if(Pa!==O){if(40===A.charCodeAt(V)){var Xa=pa;V++}else Xa=O,0===Ka&&F(Fa);Xa!==O?(ma=Aa,Aa=Pa):(V=Aa,Aa=O)}else V=
Aa,Aa=O;Ka--;Aa===O&&(Pa=O,0===Ka&&F(sa));if(Aa!==O){Q();Pa=V;Xa=L();if(Xa!==O){var bb=[];var cb=V;var ib=Q();if(44===A.charCodeAt(V)){var kb=Y;V++}else kb=O,0===Ka&&F(La);kb===O&&(kb=null);var mb=Q();var lb=L();lb!==O?cb=ib=[ib,kb,mb,lb]:(V=cb,cb=O);for(;cb!==O;)bb.push(cb),cb=V,ib=Q(),44===A.charCodeAt(V)?(kb=Y,V++):(kb=O,0===Ka&&F(La)),kb===O&&(kb=null),mb=Q(),lb=L(),lb!==O?cb=ib=[ib,kb,mb,lb]:(V=cb,cb=O);ma=Pa;Pa=0<bb.length?[Xa].concat(aa(bb,3)):[Xa]}else V=Pa,Pa=O;Pa===O&&(Pa=null);Q();41===
A.charCodeAt(V)?(Xa=ta,V++):(Xa=O,0===Ka&&F(za));Xa!==O?(Q(),ma=Ta,Ta={type:"function",name:Aa,parameters:Pa||[]}):(V=Ta,Ta=O)}else V=Ta,Ta=O;return Ta}function L(){var Ta=V;Ka++;var Aa=V;Q();var Pa=ca();if(Pa!==O){if(37===A.charCodeAt(V)){var Xa=wa;V++}else Xa=O,0===Ka&&F(Na);Xa!==O?(ma=Aa,Aa={value:Pa,unit:"%"}):(V=Aa,Aa=O)}else V=Aa,Aa=O;Ka--;Aa===O&&0===Ka&&F(Sa);Aa===O&&(Ka++,Aa=V,Q(),Pa=ca(),Pa!==O?(A.substr(V,2)===M?(Xa=M,V+=2):(Xa=O,0===Ka&&F(Ra)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"px"}):(V=
Aa,Aa=O)):(V=Aa,Aa=O),Aa===O&&(Aa=V,Q(),Pa=ca(),Pa!==O?(A.substr(V,2)===R?(Xa=R,V+=2):(Xa=O,0===Ka&&F($a)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"cm"}):(V=Aa,Aa=O)):(V=Aa,Aa=O),Aa===O&&(Aa=V,Q(),Pa=ca(),Pa!==O?(A.substr(V,2)===da?(Xa=da,V+=2):(Xa=O,0===Ka&&F(ab)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"mm"}):(V=Aa,Aa=O)):(V=Aa,Aa=O),Aa===O&&(Aa=V,Q(),Pa=ca(),Pa!==O?(A.substr(V,2)===S?(Xa=S,V+=2):(Xa=O,0===Ka&&F(db)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"in"}):(V=Aa,Aa=O)):(V=Aa,Aa=O),Aa===O&&(Aa=V,Q(),Pa=ca(),Pa!==
O?(A.substr(V,2)===X?(Xa=X,V+=2):(Xa=O,0===Ka&&F(ya)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"pt"}):(V=Aa,Aa=O)):(V=Aa,Aa=O),Aa===O&&(Aa=V,Q(),Pa=ca(),Pa!==O?(A.substr(V,2)===ea?(Xa=ea,V+=2):(Xa=O,0===Ka&&F(fb)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"pc"}):(V=Aa,Aa=O)):(V=Aa,Aa=O)))))),Ka--,Aa===O&&0===Ka&&F(Va),Aa===O&&(Ka++,Aa=V,Pa=ca(),Pa!==O?(A.substr(V,3)===ha?(Xa=ha,V+=3):(Xa=O,0===Ka&&F(gb)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"deg"}):(V=Aa,Aa=O)):(V=Aa,Aa=O),Aa===O&&(Aa=V,Pa=ca(),Pa!==O?(A.substr(V,3)===ra?
(Xa=ra,V+=3):(Xa=O,0===Ka&&F(jb)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"rad"}):(V=Aa,Aa=O)):(V=Aa,Aa=O),Aa===O&&(Aa=V,Pa=ca(),Pa!==O?(A.substr(V,4)===na?(Xa=na,V+=4):(Xa=O,0===Ka&&F(Za)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"grad"}):(V=Aa,Aa=O)):(V=Aa,Aa=O),Aa===O&&(Aa=V,Pa=ca(),Pa!==O?(A.substr(V,4)===N?(Xa=N,V+=4):(Xa=O,0===Ka&&F(eb)),Xa!==O?(ma=Aa,Aa={value:Pa,unit:"turn"}):(V=Aa,Aa=O)):(V=Aa,Aa=O)))),Ka--,Aa===O&&(Pa=O,0===Ka&&F(hb)),Aa===O&&(Ka++,Aa=V,Q(),Pa=ca(),Pa!==O?(ma=Aa,Aa={value:Pa,unit:null}):
(V=Aa,Aa=O),Ka--,Aa===O&&0===Ka&&F(Wa))));Aa!==O&&(ma=Ta,Aa={type:"quantity",value:Aa.value,unit:Aa.unit});Ta=Aa;if(Ta===O){Ta=V;Ka++;Aa=V;35===A.charCodeAt(V)?(Pa=U,V++):(Pa=O,0===Ka&&F(ua));if(Pa!==O){Pa=[];va.test(A.charAt(V))?(Xa=A.charAt(V),V++):(Xa=O,0===Ka&&F(ba));if(Xa!==O)for(;Xa!==O;)Pa.push(Xa),va.test(A.charAt(V))?(Xa=A.charAt(V),V++):(Xa=O,0===Ka&&F(ba));else Pa=O;Pa!==O?(ma=Aa,Aa={type:"hex",value:A.substring(ma,V)}):(V=Aa,Aa=O)}else V=Aa,Aa=O;Aa===O&&(Aa=V,Pa=I(),Pa!==O&&(ma=Aa,Pa=
{type:"function",value:Pa}),Aa=Pa,Aa===O&&(Aa=V,Pa=Z(),Pa!==O&&(ma=Aa,Pa={type:"named",value:A.substring(ma,V)}),Aa=Pa));Ka--;Aa===O&&(Pa=O,0===Ka&&F(la));Aa!==O&&(ma=Ta,Aa={type:"color",colorType:Aa.type,value:Aa.value});Ta=Aa}return Ta}function Q(){Ka++;var Ta=[];if(W.test(A.charAt(V))){var Aa=A.charAt(V);V++}else Aa=O,0===Ka&&F(ia);for(;Aa!==O;)Ta.push(Aa),W.test(A.charAt(V))?(Aa=A.charAt(V),V++):(Aa=O,0===Ka&&F(ia));Ka--;Aa=O;0===Ka&&F(Qa);return Ta}function Z(){Ka++;var Ta=V;var Aa=[];if(ja.test(A.charAt(V))){var Pa=
A.charAt(V);V++}else Pa=O,0===Ka&&F(Ja);if(Pa!==O)for(;Pa!==O;)Aa.push(Pa),ja.test(A.charAt(V))?(Pa=A.charAt(V),V++):(Pa=O,0===Ka&&F(Ja));else Aa=O;Aa!==O&&(ma=Ta,Aa=A.substring(ma,V));Ta=Aa;Ka--;Ta===O&&(Aa=O,0===Ka&&F(Ca));return Ta}function ca(){var Ta=V;Ga.test(A.charAt(V))?(A.charAt(V),V++):0===Ka&&F(Ba);var Aa=V;var Pa=[];if(Oa.test(A.charAt(V))){var Xa=A.charAt(V);V++}else Xa=O,0===Ka&&F(Ia);for(;Xa!==O;)Pa.push(Xa),Oa.test(A.charAt(V))?(Xa=A.charAt(V),V++):(Xa=O,0===Ka&&F(Ia));46===A.charCodeAt(V)?
(Xa=P,V++):(Xa=O,0===Ka&&F(Ma));if(Xa!==O){var bb=[];if(Oa.test(A.charAt(V))){var cb=A.charAt(V);V++}else cb=O,0===Ka&&F(Ia);if(cb!==O)for(;cb!==O;)bb.push(cb),Oa.test(A.charAt(V))?(cb=A.charAt(V),V++):(cb=O,0===Ka&&F(Ia));else bb=O;bb!==O?Aa=Pa=[Pa,Xa,bb]:(V=Aa,Aa=O)}else V=Aa,Aa=O;if(Aa===O)if(Aa=[],Oa.test(A.charAt(V))?(Pa=A.charAt(V),V++):(Pa=O,0===Ka&&F(Ia)),Pa!==O)for(;Pa!==O;)Aa.push(Pa),Oa.test(A.charAt(V))?(Pa=A.charAt(V),V++):(Pa=O,0===Ka&&F(Ia));else Aa=O;if(Aa!==O){Pa=V;101===A.charCodeAt(V)?
(Xa=T,V++):(Xa=O,0===Ka&&F(Ya));if(Xa!==O){Ga.test(A.charAt(V))?(bb=A.charAt(V),V++):(bb=O,0===Ka&&F(Ba));bb===O&&(bb=null);cb=[];Oa.test(A.charAt(V))?(Aa=A.charAt(V),V++):(Aa=O,0===Ka&&F(Ia));if(Aa!==O)for(;Aa!==O;)cb.push(Aa),Oa.test(A.charAt(V))?(Aa=A.charAt(V),V++):(Aa=O,0===Ka&&F(Ia));else cb=O;cb!==O?Pa=Xa=[Xa,bb,cb]:(V=Pa,Pa=O)}else V=Pa,Pa=O;Pa===O&&(Pa=null);ma=Ta;Ta=parseFloat(A.substring(ma,V))}else V=Ta,Ta=O;return Ta}function aa(Ta,Aa){return Ta.map(function(Pa){return Pa[Aa]})}C=void 0!==
C?C:{};var O={},fa=C.grammarSource,oa={start:H},Da=H,Ha="none",ta=")",Y=",",pa="(",wa="%",M="px",R="cm",da="mm",S="in",X="pt",ea="pc",ha="deg",ra="rad",na="grad",N="turn",U="#",P=".",T="e",W=/^[ \t\n\r]/,ja=/^[a-z\-]/,va=/^[0-9a-fA-F]/,Ga=/^[+\-]/,Oa=/^[0-9]/,ka=G("none"),xa=B("none",!1),za=B(")",!1),La=B(",",!1),Qa=G("whitespace"),ia=E([" ","\t","\n","\r"],!1,!1),sa=G("function"),Fa=B("(",!1),Ca=G("identifier"),Ja=E([["a","z"],"-"],!1,!1),Sa=G("percentage"),Na=B("%",!1),Va=G("length"),Ra=B("px",
!1),$a=B("cm",!1),ab=B("mm",!1),db=B("in",!1),ya=B("pt",!1),fb=B("pc",!1),hb=G("angle"),gb=B("deg",!1),jb=B("rad",!1),Za=B("grad",!1),eb=B("turn",!1),Wa=G("number"),la=G("color"),ua=B("#",!1),ba=E([["0","9"],["a","f"],["A","F"]],!1,!1),Ba=E(["+","-"],!1,!1),Ia=E([["0","9"]],!1,!1),Ma=B(".",!1),Ya=B("e",!1),V=0,ma=0,qa=[{line:1,column:1}],Ea=0,Ua=[],Ka=0;if("startRule"in C){if(!(C.startRule in oa))throw Error("Can't start parsing from rule \""+C.startRule+'".');Da=oa[C.startRule]}C=Da();if(C!==O&&
V===A.length)return C;C!==O&&V<A.length&&F({type:"end"});throw function(Ta,Aa,Pa){return new y(y.buildMessage(Ta,Aa),Ta,Aa,Pa)}(Ua,Ea<A.length?A.charAt(Ea):null,Ea<A.length?K(Ea,Ea+1):K(Ea,Ea));}}})})(f);const h={deg:1,grad:.9,rad:180/Math.PI,turn:360},v={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},w=/^rgba?/i,D=/^hsla?/i;a.parse=function(x){if(!x||0===x.length)return null;if("string"===typeof x)return(x=r(x))&&0!==x.length?x:null;x=x.map(y=>{if(!Number.isFinite(y.scale)||0>=y.scale)throw new c("effect:invalid-scale",
"scale must be finite and greater than 0",{stop:y});return{scale:y.scale,effects:r(y.value)}});x.sort((y,z)=>z.effects.length-y.effects.length);for(let y=0;y<x.length-1;y++){if(!p.canInterpolateEffects(x[y].effects,x[y+1].effects))throw new c("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:x[y].effects,b:x[y+1].effects});p.normalizeEffects(x[y].effects,x[y+1].effects)}x.sort((y,z)=>z.scale-y.scale);return x};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/effects/effects":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../colorUtils ../../core/screenUtils ../../chunks/mat4f32 ./colorMatrixFunctions".split(" "),function(a,b,c,e,d,p){function r(t,f,h){return t+(f-t)*h}function u(t){return Math.round(1E3*e.px2pt(t))/1E3}let n=function(){function t(h,v,w){this.strength=h;this.radius=v;this.threshold=w;this.type="bloom"}var f=t.prototype;f.interpolate=function(h,v,w){this.strength=
r(h.strength,v.strength,w);this.radius=r(h.radius,v.radius,w);this.threshold=r(h.threshold,v.threshold,w)};f.clone=function(){return new t(this.strength,this.radius,this.threshold)};f.toJSON=function(){return{type:"bloom",radius:u(this.radius),strength:this.strength,threshold:this.threshold}};return t}(),k=function(){function t(h){this.radius=h;this.type="blur"}var f=t.prototype;f.interpolate=function(h,v,w){this.radius=Math.round(r(h.radius,v.radius,w))};f.clone=function(){return new t(this.radius)};
f.toJSON=function(){return{type:"blur",radius:u(this.radius)}};return t}(),g=function(){function t(h,v){this.type=h;this.amount=v;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}var f=t.prototype;f.interpolate=function(h,v,w){this.amount=r(h.amount,v.amount,w);this._updateMatrix()};f.clone=function(){return new t(this.type,this.amount)};f.toJSON=function(){return{type:this.type,amount:this.amount}};f._updateMatrix=function(){const h=this._colorMatrix||
d.create();switch(this.type){case "brightness":this._colorMatrix=p.brightness(h,this.amount);break;case "contrast":this._colorMatrix=p.contrast(h,this.amount);break;case "grayscale":this._colorMatrix=p.grayscale(h,this.amount);break;case "invert":this._colorMatrix=p.invert(h,this.amount);break;case "saturate":this._colorMatrix=p.saturate(h,this.amount);break;case "sepia":this._colorMatrix=p.sepia(h,this.amount)}};b._createClass(t,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();
return this._colorMatrix}}]);return t}(),l=function(){function t(h,v,w,D){this.offsetX=h;this.offsetY=v;this.blurRadius=w;this.color=D;this.type="drop-shadow"}var f=t.prototype;f.interpolate=function(h,v,w){this.offsetX=r(h.offsetX,v.offsetX,w);this.offsetY=r(h.offsetY,v.offsetY,w);this.blurRadius=r(h.blurRadius,v.blurRadius,w);this.color[0]=Math.round(r(h.color[0],v.color[0],w));this.color[1]=Math.round(r(h.color[1],v.color[1],w));this.color[2]=Math.round(r(h.color[2],v.color[2],w));this.color[3]=
r(h.color[3],v.color[3],w)};f.clone=function(){return new t(this.offsetX,this.offsetY,this.blurRadius,[...this.color])};f.toJSON=function(){const h=[...this.color];h[3]*=255;return{type:"drop-shadow",xoffset:u(this.offsetX),yoffset:u(this.offsetY),blurRadius:u(this.blurRadius),color:h}};return t}(),q=function(){function t(h){this.angle=h;this.type="hue-rotate"}var f=t.prototype;f.interpolate=function(h,v,w){this.angle=r(h.angle,v.angle,w);this._updateMatrix()};f.clone=function(){return new t(this.angle)};
f.toJSON=function(){return{type:"hue-rotate",angle:this.angle}};f._updateMatrix=function(){const h=this._colorMatrix||d.create();this._colorMatrix=p.rotateHue(h,this.angle)};b._createClass(t,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return t}(),m=function(){function t(h){this.amount=h;this.type="opacity";this.amount=Math.min(this.amount,1)}var f=t.prototype;f.interpolate=function(h,v,w){this.amount=r(h.amount,v.amount,w)};f.clone=function(){return new t(this.amount)};
f.toJSON=function(){return{type:"opacity",amount:this.amount}};return t}();a.BloomEffect=n;a.BlurEffect=k;a.ColorMatrixEffect=g;a.DropShadowEffect=l;a.HueRotateEffect=q;a.OpacityEffect=m;a.createEffectWithInitialValues=function(t){switch(t.type){case "grayscale":case "sepia":case "invert":return new g(t.type,0);case "saturate":case "brightness":case "contrast":return new g(t.type,1);case "opacity":return new m(1);case "hue-rotate":return new q(0);case "blur":return new k(0);case "drop-shadow":return new l(0,
0,0,[...c.getNamedColor("transparent")]);case "bloom":return new n(0,0,1)}};a.isColorMatrixEffect=function(t){return"colorMatrix"in t};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/mat4f32":function(){define(["exports"],function(a){function b(){const u=new Float32Array(16);u[0]=1;u[5]=1;u[10]=1;u[15]=1;return u}function c(u){const n=new Float32Array(16);n[0]=u[0];n[1]=u[1];n[2]=u[2];n[3]=u[3];n[4]=u[4];n[5]=u[5];n[6]=u[6];n[7]=u[7];n[8]=u[8];
n[9]=u[9];n[10]=u[10];n[11]=u[11];n[12]=u[12];n[13]=u[13];n[14]=u[14];n[15]=u[15];return n}function e(u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z){const A=new Float32Array(16);A[0]=u;A[1]=n;A[2]=k;A[3]=g;A[4]=l;A[5]=q;A[6]=m;A[7]=t;A[8]=f;A[9]=h;A[10]=v;A[11]=w;A[12]=D;A[13]=x;A[14]=y;A[15]=z;return A}function d(u,n){return new Float32Array(u,n,16)}const p=b(),r=Object.freeze(Object.defineProperty({__proto__:null,create:b,clone:c,fromValues:e,createView:d,IDENTITY:p},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=
p;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.mat4f32=r})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../chunks/mat4"],function(a,b){a.brightness=(c,e)=>{c=b.set(c,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,e)=>{c=b.set(c,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,e)=>{e=1-e;c=b.set(c,.2126+.7874*e,.7152-.7152*e,.0722-.0722*e,0,.2126-.2126*e,.7152+.2848*e,.0722-.0722*e,0,.2126-.2126*
e,.7152-.7152*e,.0722+.9278*e,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,e)=>{const d=1-2*e;c=b.set(c,d,0,0,e,0,d,0,e,0,0,d,e,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,e)=>{const d=Math.sin(e*Math.PI/180);e=Math.cos(e*Math.PI/180);c=b.set(c,.213+.787*e-.213*d,.715-.715*e-.715*d,.072-.072*e+.928*d,0,.213-.213*e+.143*d,.715+.285*e+.14*d,.072-.072*e-.283*d,0,.213-.213*e-.787*d,.715-.715*e+.715*d,.072+.928*e+.072*d,0,0,0,0,1);return b.transpose(c,c)};a.saturate=(c,e)=>{c=b.set(c,.213+.787*
e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return b.transpose(c,c)};a.sepia=(c,e)=>{e=1-e;c=b.set(c,.393+.607*e,.769-.769*e,.189-.189*e,0,.349-.349*e,.686+.314*e,.168-.168*e,0,.272-.272*e,.534-.534*e,.131+.869*e,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal="undefined"!==
typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.commonjsRequire=function(b){throw Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},
"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(c,e){const d=c.length>e.length?c:e;return(c.length>e.length?e:c).every((p,r)=>p.type===d[r].type)};a.isEffectFunctions=function(c){return(c=c[0])?"type"in c:!1};a.normalizeEffects=function(c,e){const d=c.length>e.length?c:e;c=c.length>e.length?e:c;for(e=c.length;e<d.length;e++)c.push(b.createEffectWithInitialValues(d[e]))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u){a.CustomParametersMixin=n=>{n=function(k){function g(){var l=k.apply(this,arguments)||this;l.customParameters=null;return l}b._inheritsLoose(g,k);return g}(n);c.__decorate([e.property({type:Object,
json:{write:{overridePolicy(k){return{enabled:!!(k&&0<Object.keys(k).length)}}}}})],n.prototype,"customParameters",void 0);return n=c.__decorate([u.subclass("esri.layers.mixins.CustomParametersMixin")],n)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),
function(a,b,c,e,d,p,r,u,n){const k={write:{allowNull:!0}};a.FeatureEffectLayer=g=>{g=function(l){function q(){var m=l.apply(this,arguments)||this;m.featureEffect=null;return m}b._inheritsLoose(q,l);return q}(g);c.__decorate([e.property({type:n,json:{origins:{"web-map":k,"portal-item":k}}})],g.prototype,"featureEffect",void 0);return g=c.__decorate([u.subclass("esri.layers.mixins.FeatureEffectLayer")],g)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/layers/support/FeatureEffect":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/maybe ../../core/object ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;u={read:{reader:l.read},write:{writer:l.write,overridePolicy(){return{allowNull:null!=
this.excludedEffect,isRequired:null==this.excludedEffect}}}};l={read:{reader:l.read},write:{writer:l.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};n={name:"showExcludedLabels",default:!0};e=m=function(t){function f(v){v=t.call(this,v)||this;v.filter=null;v.includedEffect=null;v.excludedEffect=null;v.excludedLabelsVisible=!1;return v}a._inheritsLoose(f,t);var h=f.prototype;h.write=function(v,w){v=t.prototype.write.call(this,v,w);if(null!=
w&&w.origin){if(v.filter){const y=Object.keys(v.filter);if(1<y.length||"where"!==y[0]){var D;null==(D=w.messages)?void 0:D.push(new c("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:w.layer,effect:this}));return null}}if("showExcludedLabels"in v){var x;null==(x=w.messages)?void 0:x.push(new c("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",
{layer:w.layer,effect:this}));return null}}return v};h.clone=function(){return new m({filter:d.isSome(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})};return f}(e.JSONSupport);b.__decorate([r.property({type:q,json:{write:{allowNull:!0,writer(t,f,h,v){(t=null==t?void 0:t.write({},v))&&0!==Object.keys(t).length?p.setDeepValue(h,t,f):p.setDeepValue(h,null,f)}}}})],e.prototype,"filter",void 0);b.__decorate([r.property({json:{write:!0,
origins:{"web-map":u,"portal-item":u}}})],e.prototype,"includedEffect",void 0);b.__decorate([r.property({json:{write:!0,origins:{"web-map":l,"portal-item":l}}})],e.prototype,"excludedEffect",void 0);b.__decorate([r.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":n,"portal-item":n}}})],e.prototype,"excludedLabelsVisible",void 0);return e=m=b.__decorate([g.subclass("esri.layers.support.FeatureEffect")],e)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){var q;k=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});p=q=function(m){function t(h){h=m.call(this,h)||this;h.where=null;h.geometry=null;h.spatialRelationship="intersects";h.distance=void 0;h.objectIds=null;h.units=null;h.timeExtent=null;return h}a._inheritsLoose(t,m);var f=t.prototype;f.createQuery=function(h={}){const {where:v,geometry:w,spatialRelationship:D,timeExtent:x,objectIds:y,units:z,distance:A}=this;
return new l({geometry:r.clone(w),objectIds:r.clone(y),spatialRelationship:D,timeExtent:r.clone(x),where:v,units:z,distance:A,...h})};f.clone=function(){const {where:h,geometry:v,spatialRelationship:w,timeExtent:D,objectIds:x,units:y,distance:z}=this;return new q({geometry:r.clone(v),objectIds:r.clone(x),spatialRelationship:w,timeExtent:r.clone(D),where:h,units:y,distance:z})};return t}(p.JSONSupport);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"where",void 0);b.__decorate([n.property({types:c.geometryTypes,
json:{write:!0}})],p.prototype,"geometry",void 0);b.__decorate([n.property({type:k.apiValues,json:{name:"spatialRel",read:{reader:k.read},write:{allowNull:!1,writer:k.write,overridePolicy(){return{enabled:u.isSome(this.geometry)}}}}})],p.prototype,"spatialRelationship",void 0);b.__decorate([n.property({type:Number,json:{write:{overridePolicy(m){return{enabled:null!=m&&null!=this.geometry}}}}})],p.prototype,"distance",void 0);b.__decorate([n.property({type:[Number],json:{write:!0}})],p.prototype,"objectIds",
void 0);b.__decorate([n.property({type:d.apiValues,json:{read:d.read,write:{writer:d.write,overridePolicy(m){return{enabled:null!=m&&null!=this.geometry}}}}})],p.prototype,"units",void 0);b.__decorate([n.property({type:e,json:{write:!0}})],p.prototype,"timeExtent",void 0);return p=q=b.__decorate([g.subclass("esri.layers.support.FeatureFilter")],p)})},"esri/rest/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./QuantizationParameters ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D){var x;const y=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});p=x=function(z){function A(B){B=z.call(this,B)||this;B.aggregateIds=null;B.cacheHint=void 0;B.compactGeometryEnabled=!1;B.datumTransformation=null;B.defaultSpatialReferenceEnabled=!1;B.distance=void 0;B.dynamicDataSource=void 0;B.formatOf3DObjects=null;B.gdbVersion=null;B.geometry=null;B.geometryPrecision=void 0;B.groupByFieldsForStatistics=null;B.having=null;
B.historicMoment=null;B.maxAllowableOffset=void 0;B.maxRecordCountFactor=1;B.multipatchOption=null;B.num=void 0;B.objectIds=null;B.orderByFields=null;B.outFields=null;B.outSpatialReference=null;B.outStatistics=null;B.parameterValues=null;B.pixelSize=null;B.quantizationParameters=null;B.rangeValues=null;B.relationParameter=null;B.resultType=null;B.returnCentroid=!1;B.returnDistinctValues=!1;B.returnExceededLimitFeatures=!0;B.returnGeometry=!1;B.returnQueryGeometry=!1;B.returnM=void 0;B.returnZ=void 0;
B.sourceSpatialReference=null;B.spatialRelationship="intersects";B.start=void 0;B.sqlFormat=null;B.text=null;B.timeExtent=null;B.timeReferenceUnknownClient=!1;B.units=null;B.where=null;return B}a._inheritsLoose(A,z);A.from=function(B){return m.ensureClass(x,B)};var C=A.prototype;C.castDatumTransformation=function(B){return"number"===typeof B||"object"===typeof B?B:null};C.writeHistoricMoment=function(B,E){E.historicMoment=B&&B.getTime()};C.writeParameterValues=function(B,E){if(B){const G={};for(const J in B){const K=
B[J];Array.isArray(K)?G[J]=K.map(F=>F instanceof Date?F.getTime():F):G[J]=K instanceof Date?K.getTime():K}E.parameterValues=G}};C.writeStart=function(B,E){E.resultOffset=this.start;E.resultRecordCount=this.num||10;E.where="1\x3d1"};C.writeWhere=function(B,E){E.where=B||"1\x3d1"};C.clone=function(){return new x(r.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,
distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:u.isSome(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,
returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))};return A}(p.JSONSupport);p.MAX_MAX_RECORD_COUNT_FACTOR=5;b.__decorate([n.property({json:{write:!0}})],p.prototype,"aggregateIds",void 0);b.__decorate([n.property({type:Boolean,
json:{write:!0}})],p.prototype,"cacheHint",void 0);b.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"compactGeometryEnabled",void 0);b.__decorate([n.property({json:{write:!0}})],p.prototype,"datumTransformation",void 0);b.__decorate([k.cast("datumTransformation")],p.prototype,"castDatumTransformation",null);b.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"defaultSpatialReferenceEnabled",void 0);b.__decorate([n.property({type:Number,
json:{write:{overridePolicy(z){return{enabled:0<z}}}}})],p.prototype,"distance",void 0);b.__decorate([n.property({type:f.DataLayerSource,json:{write:!0}})],p.prototype,"dynamicDataSource",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"formatOf3DObjects",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"gdbVersion",void 0);b.__decorate([n.property({types:c.geometryTypes,json:{read:t.fromJSON,write:!0}})],p.prototype,"geometry",void 0);b.__decorate([n.property({type:Number,
json:{write:!0}})],p.prototype,"geometryPrecision",void 0);b.__decorate([n.property({type:[String],json:{write:!0}})],p.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"having",void 0);b.__decorate([n.property({type:Date})],p.prototype,"historicMoment",void 0);b.__decorate([q.writer("historicMoment")],p.prototype,"writeHistoricMoment",null);b.__decorate([n.property({type:Number,json:{write:!0}})],p.prototype,"maxAllowableOffset",
void 0);b.__decorate([n.property({type:Number,cast(z){return 1>z?1:z>x.MAX_MAX_RECORD_COUNT_FACTOR?x.MAX_MAX_RECORD_COUNT_FACTOR:z},json:{write:{overridePolicy(z){return{enabled:1<z}}}}})],p.prototype,"maxRecordCountFactor",void 0);b.__decorate([n.property({type:["xyFootprint"],json:{write:!0}})],p.prototype,"multipatchOption",void 0);b.__decorate([n.property({type:Number,json:{read:{source:"resultRecordCount"}}})],p.prototype,"num",void 0);b.__decorate([n.property({json:{write:!0}})],p.prototype,
"objectIds",void 0);b.__decorate([n.property({type:[String],json:{write:!0}})],p.prototype,"orderByFields",void 0);b.__decorate([n.property({type:[String],json:{write:!0}})],p.prototype,"outFields",void 0);b.__decorate([n.property({type:w,json:{name:"outSR",write:!0}})],p.prototype,"outSpatialReference",void 0);b.__decorate([n.property({type:[v],json:{write:{enabled:!0,overridePolicy(){return{enabled:u.isSome(this.outStatistics)&&0<this.outStatistics.length}}}}})],p.prototype,"outStatistics",void 0);
b.__decorate([n.property({json:{write:!0}})],p.prototype,"parameterValues",void 0);b.__decorate([q.writer("parameterValues")],p.prototype,"writeParameterValues",null);b.__decorate([n.property({type:D,json:{write:!0}})],p.prototype,"pixelSize",void 0);b.__decorate([n.property({type:h,json:{write:!0}})],p.prototype,"quantizationParameters",void 0);b.__decorate([n.property({type:[Object],json:{write:!0}})],p.prototype,"rangeValues",void 0);b.__decorate([n.property({type:String,json:{read:{source:"relationParam"},
write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],p.prototype,"relationParameter",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"resultType",void 0);b.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"returnCentroid",void 0);b.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"returnDistinctValues",void 0);b.__decorate([n.property({type:Boolean,json:{default:!0,
write:!0}})],p.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([n.property({type:Boolean,json:{write:!0}})],p.prototype,"returnGeometry",void 0);b.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"returnQueryGeometry",void 0);b.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"returnM",void 0);b.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],p.prototype,"returnZ",void 0);b.__decorate([n.property({type:w,
json:{write:!0}})],p.prototype,"sourceSpatialReference",void 0);b.__decorate([g.enumeration(y,{ignoreUnknown:!1,name:"spatialRel"})],p.prototype,"spatialRelationship",void 0);b.__decorate([n.property({type:Number,json:{read:{source:"resultOffset"}}})],p.prototype,"start",void 0);b.__decorate([q.writer("start"),q.writer("num")],p.prototype,"writeStart",null);b.__decorate([n.property({type:String,json:{write:!0}})],p.prototype,"sqlFormat",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],
p.prototype,"text",void 0);b.__decorate([n.property({type:e,json:{write:!0}})],p.prototype,"timeExtent",void 0);b.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"timeReferenceUnknownClient",void 0);b.__decorate([g.enumeration(d,{ignoreUnknown:!1}),n.property({json:{write:{overridePolicy(z){return{enabled:z&&0<this.distance}}}}})],p.prototype,"units",void 0);b.__decorate([n.property({type:String,json:{write:{overridePolicy(z){return{enabled:null!=z||0<this.start}}}}})],
p.prototype,"where",void 0);b.__decorate([q.writer("where")],p.prototype,"writeWhere",null);return p=x=b.__decorate([l.subclass("esri.rest.support.Query")],p)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w){function D(){A||(A=m.createTypeReader({types:x()}));return A}function x(){C||(C={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":f.MapLayerSource}});return C}var y,z;e=e.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=y=function(B){function E(J){J=B.call(this,J)||this;J.type="join-table";return J}b._inheritsLoose(E,B);var G=E.prototype;G.readLeftTableSource=function(J,
K,F){return D()(J,K,F)};G.castLeftTableSource=function(J){return q.ensureOneOfType(x(),J)};G.readRightTableSource=function(J,K,F){return D()(J,K,F)};G.castRightTableSource=function(J){return q.ensureOneOfType(x(),J)};G.clone=function(){var J,K;const {leftTableKey:F,rightTableKey:H,leftTableSource:I,rightTableSource:L,joinType:Q}=this,Z={leftTableKey:F,rightTableKey:H,leftTableSource:null!=(J=null==I?void 0:I.clone())?J:void 0,rightTableSource:null!=(K=null==L?void 0:L.clone())?K:void 0,joinType:Q};
return new y(Z)};return E}(d.JSONSupport);c.__decorate([k.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);c.__decorate([p.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableKey",void 0);c.__decorate([p.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);c.__decorate([p.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);c.__decorate([g.reader("leftTableSource")],
a.JoinTableDataSource.prototype,"readLeftTableSource",null);c.__decorate([n.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);c.__decorate([p.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableSource",void 0);c.__decorate([g.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);c.__decorate([n.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);c.__decorate([k.enumeration(e)],
a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=y=c.__decorate([l.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let A=null,C=null;n={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":h.QueryTableDataSource,raster:v.RasterDataSource,table:w.TableDataSource}};a.DataLayerSource=z=function(B){function E(G){G=B.call(this,G)||this;G.type="data-layer";return G}b._inheritsLoose(E,B);E.prototype.clone=function(){const {fields:G,
dataSource:J}=this;return new z({fields:G,dataSource:J})};return E}(d.JSONSupport);c.__decorate([k.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);c.__decorate([p.property({type:[t],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);c.__decorate([p.property({types:n,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=z=c.__decorate([l.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=
q.ensureType(a.DataLayerSource);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;a.MapLayerSource=g=function(l){function q(m){m=l.call(this,m)||this;m.type="map-layer";return m}b._inheritsLoose(q,l);q.prototype.clone=function(){const {mapLayerId:m,gdbVersion:t}=this;return new g({mapLayerId:m,gdbVersion:t})};return q}(e.JSONSupport);c.__decorate([n.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);c.__decorate([d.property({type:u.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);c.__decorate([d.property({type:String,
json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=g=c.__decorate([k.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){var m;a.QueryTableDataSource=m=function(t){function f(h){h=t.call(this,h)||this;h.type="query-table";return h}b._inheritsLoose(f,t);f.prototype.clone=function(){var h;const {workspaceId:v,query:w,oidFields:D,spatialReference:x,geometryType:y}=this,z={workspaceId:v,query:w,oidFields:D,spatialReference:null!=(h=null==x?void 0:x.clone())?h:void 0,geometryType:y};return new m(z)};return f}(d.JSONSupport);c.__decorate([k.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,
"type",void 0);c.__decorate([p.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);c.__decorate([p.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);c.__decorate([p.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);c.__decorate([p.property({type:l,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);c.__decorate([k.enumeration(q.featureGeometryTypeKebabDictionary)],
a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=m=c.__decorate([g.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;a.RasterDataSource=g=function(l){function q(m){m=l.call(this,m)||this;m.type="raster";return m}b._inheritsLoose(q,l);q.prototype.clone=function(){const {workspaceId:m,dataSourceName:t}=this;return new g({workspaceId:m,dataSourceName:t})};return q}(e.JSONSupport);c.__decorate([n.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);
c.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=g=c.__decorate([k.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;a.TableDataSource=g=function(l){function q(m){m=l.call(this,m)||this;m.type="table";return m}b._inheritsLoose(q,l);q.prototype.clone=function(){const {workspaceId:m,gdbVersion:t,dataSourceName:f}=this;return new g({workspaceId:m,gdbVersion:t,dataSourceName:f})};return q}(e.JSONSupport);c.__decorate([n.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",
void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=g=c.__decorate([k.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;c=new e.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});d=g=function(l){function q(m){m=l.call(this,m)||this;m.extent=null;m.mode="view";m.originPosition="upper-left";m.tolerance=1;return m}a._inheritsLoose(q,l);q.prototype.clone=function(){return new g(p.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return q}(d.JSONSupport);b.__decorate([r.property({type:k,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],d.prototype,"extent",void 0);b.__decorate([r.property({type:["view","edit"],json:{write:!0}})],d.prototype,"mode",void 0);b.__decorate([r.property({type:String,json:{read:c.read,write:c.write}})],d.prototype,"originPosition",void 0);b.__decorate([r.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"tolerance",void 0);return d=g=b.__decorate([n.subclass("esri.rest.support.QuantizationParameters")],d)})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;c=new c.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});e=k=function(g){function l(m){m=g.call(this,m)||this;m.maxPointCount=void 0;m.maxRecordCount=void 0;m.maxVertexCount=void 0;m.onStatisticField=
null;m.outStatisticFieldName=null;m.statisticType=null;m.statisticParameters=null;return m}a._inheritsLoose(l,g);var q=l.prototype;q.writeStatisticParameters=function(m,t){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)t.statisticParameters=d.clone(m)};q.clone=function(){return new k({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,
statisticType:this.statisticType,statisticParameters:d.clone(this.statisticParameters)})};return l}(e.JSONSupport);b.__decorate([p.property({type:Number,json:{write:!0}})],e.prototype,"maxPointCount",void 0);b.__decorate([p.property({type:Number,json:{write:!0}})],e.prototype,"maxRecordCount",void 0);b.__decorate([p.property({type:Number,json:{write:!0}})],e.prototype,"maxVertexCount",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],e.prototype,"onStatisticField",void 0);b.__decorate([p.property({type:String,
json:{write:!0}})],e.prototype,"outStatisticFieldName",void 0);b.__decorate([p.property({type:String,json:{read:{source:"statisticType",reader:c.read},write:{target:"statisticType",writer:c.write}}})],e.prototype,"statisticType",void 0);b.__decorate([p.property({type:Object})],e.prototype,"statisticParameters",void 0);b.__decorate([n.writer("statisticParameters")],e.prototype,"writeStatisticParameters",null);return e=k=b.__decorate([u.subclass("esri.rest.support.StatisticDefinition")],e)})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,c,e,d,p,r,u,n,k){function g(q,m,t){if(!q)return null;q=q.find(f=>!!f.field);if(!q)return null;m=new k;m.read(q,t);return[m]}function l(q,m,t,f){(q=q.find(h=>!!h.field))&&e.setDeepValue(t,[q.toJSON()],m)}a.OrderedLayer=q=>{q=function(m){function t(){var f=m.apply(this,arguments)||this;f.orderBy=null;return f}b._inheritsLoose(t,m);return t}(q);c.__decorate([d.property({type:[k],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:g},write:{target:"layerDefinition.orderBy",
writer:l}}})],q.prototype,"orderBy",void 0);return q=c.__decorate([n.subclass("esri.layers.mixins.OrderedLayer")],q)};a.isOrderedLayer=function(q){return void 0!==q.orderBy};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;c=new c.JSONMap({asc:"ascending",desc:"descending"});e=k=function(g){function l(q){q=g.call(this,q)||this;q.field=null;q.valueExpression=null;q.order="ascending";return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({field:this.field,valueExpression:this.valueExpression,order:this.order})};return l}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],
e.prototype,"valueExpression",void 0);b.__decorate([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],e.prototype,"order",void 0);return e=k=b.__decorate([n.subclass("esri.layers.support.OrderByInfo")],e)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m){a.TemporalLayer=t=>{t=function(f){function h(){var v=f.apply(this,arguments)||this;v.timeExtent=null;v.timeOffset=null;v.useViewTime=!0;return v}b._inheritsLoose(h,f);h.prototype.readOffset=function(v,w){w=w.timeInfo.exportOptions;if(!w)return null;v=w.timeOffset;w=m.timeUnitKebabDictionary.fromJSON(w.timeOffsetUnits);return v&&w?new d({value:v,unit:w}):null};b._createClass(h,[{key:"timeInfo",set:function(v){l.fixTimeInfoFields(v,this.fieldsIndex);this._set("timeInfo",
v)}}]);return h}(t);c.__decorate([p.property({type:e,json:{write:!1}})],t.prototype,"timeExtent",void 0);c.__decorate([p.property({type:d})],t.prototype,"timeOffset",void 0);c.__decorate([k.reader("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null);c.__decorate([p.property({value:null,type:q,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null);c.__decorate([p.property({type:Boolean,json:{read:{source:"timeAnimation"},
write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0);return t=c.__decorate([g.subclass("esri.layers.mixins.TemporalLayer")],t)};a.isTemporalLayer=function(t){return void 0!==t.timeInfo};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,p,r,u,n,k){var g;c=g=function(l){function q(t){t=l.call(this,t)||this;t.value=0;t.unit="milliseconds";return t}a._inheritsLoose(q,l);var m=q.prototype;m.toMilliseconds=function(){return e.convertTime(this.value,this.unit,"milliseconds")};m.clone=function(){return new g({value:this.value,unit:this.unit})};return q}(c.JSONSupport);b.__decorate([d.property({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0);b.__decorate([d.property({type:k.timeUnitKebabDictionary.apiValues,
json:{type:k.timeUnitKebabDictionary.jsonValues,read:k.timeUnitKebabDictionary.read,write:k.timeUnitKebabDictionary.write},nonNullable:!0})],c.prototype,"unit",void 0);return c=g=b.__decorate([n.subclass("esri.TimeInterval")],c)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports","../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",
esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./TimeReference ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m){var t;d=t=function(f){function h(w){w=f.call(this,w)||this;w.cumulative=!1;w.endField=null;w.fullTimeExtent=null;w.hasLiveData=!1;w.interval=null;w.startField=null;w.timeReference=null;w.trackIdField=null;w.useTime=!0;return w}a._inheritsLoose(h,f);var v=h.prototype;v.readFullTimeExtent=function(w,D){return D.timeExtent&&Array.isArray(D.timeExtent)&&2===D.timeExtent.length?new c({start:new Date(D.timeExtent[0]),end:new Date(D.timeExtent[1])}):null};v.writeFullTimeExtent=
function(w,D){w&&r.isSome(w.start)&&r.isSome(w.end)?D.timeExtent=[w.start.getTime(),w.end.getTime()]:D.timeExtent=null};v.readInterval=function(w,D){return D.timeInterval&&D.timeIntervalUnits?new e({value:D.timeInterval,unit:m.timeUnitKebabDictionary.fromJSON(D.timeIntervalUnits)}):D.defaultTimeInterval&&D.defaultTimeIntervalUnits?new e({value:D.defaultTimeInterval,unit:m.timeUnitKebabDictionary.fromJSON(D.defaultTimeIntervalUnits)}):null};v.writeInterval=function(w,D){w?(w=w.toJSON(),D.timeInterval=
w.value,D.timeIntervalUnits=w.unit):(D.timeInterval=null,D.timeIntervalUnits=null)};v.clone=function(){const {cumulative:w,endField:D,hasLiveData:x,interval:y,startField:z,timeReference:A,fullTimeExtent:C,trackIdField:B,useTime:E}=this;return new t({cumulative:w,endField:D,hasLiveData:x,interval:y,startField:z,timeReference:p.clone(A),fullTimeExtent:p.clone(C),trackIdField:B,useTime:E})};return h}(d.JSONSupport);b.__decorate([u.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},
write:{target:"exportOptions.timeDataCumulative"}}})],d.prototype,"cumulative",void 0);b.__decorate([u.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],d.prototype,"endField",void 0);b.__decorate([u.property({type:c,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"fullTimeExtent",void 0);b.__decorate([k.reader("fullTimeExtent",["timeExtent"])],d.prototype,"readFullTimeExtent",null);b.__decorate([l.writer("fullTimeExtent")],d.prototype,"writeFullTimeExtent",
null);b.__decorate([u.property({type:Boolean,json:{write:!0}})],d.prototype,"hasLiveData",void 0);b.__decorate([u.property({type:e,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"interval",void 0);b.__decorate([k.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],d.prototype,"readInterval",null);b.__decorate([l.writer("interval")],d.prototype,"writeInterval",null);b.__decorate([u.property({type:String,json:{read:{source:"startTimeField"},
write:{target:"startTimeField",allowNull:!0}}})],d.prototype,"startField",void 0);b.__decorate([u.property({type:q,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"timeReference",void 0);b.__decorate([u.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"trackIdField",void 0);b.__decorate([u.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],d.prototype,"useTime",void 0);return d=t=b.__decorate([g.subclass("esri.layers.support.TimeInfo")],
d)})},"esri/layers/support/TimeReference":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(m){m=g.call(this,m)||this;m.respectsDaylightSaving=!1;m.timezone=null;
return m}a._inheritsLoose(l,g);var q=l.prototype;q.readRespectsDaylightSaving=function(m,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving?t.respectDaylightSaving:!1};q.clone=function(){const {respectsDaylightSaving:m,timezone:t}=this;return new k({respectsDaylightSaving:m,timezone:t})};return l}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"respectsDaylightSaving",void 0);b.__decorate([u.reader("respectsDaylightSaving",
["respectsDaylightSaving","respectDaylightSaving"])],c.prototype,"readRespectsDaylightSaving",null);b.__decorate([e.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],c.prototype,"timezone",void 0);return c=k=b.__decorate([n.subclass("esri.layers.support.TimeReference")],c)})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;a.FeatureIndex=k=function(g){function l(q){return g.call(this,q)||this}b._inheritsLoose(l,g);l.prototype.clone=function(){const {name:q,fields:m,isAscending:t,isUnique:f,description:h}=this;return new k({name:q,fields:m,isAscending:t,isUnique:f,description:h})};return l}(e.JSONSupport);c.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"name",void 0);c.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"fields",void 0);c.__decorate([d.property({constructOnly:!0})],
a.FeatureIndex.prototype,"isAscending",void 0);c.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"isUnique",void 0);c.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=k=c.__decorate([n.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/featureReductionUtils":function(){define(["exports","./FeatureReduction",
"./FeatureReductionBinning","./FeatureReductionCluster","./FeatureReductionSelection"],function(a,b,c,e,d){const p={key:"type",base:b.FeatureReduction,typeMap:{selection:e}};a.featureReductionProperty={types:{key:"type",base:b.FeatureReduction,typeMap:{selection:d,cluster:e,binning:c}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:p},"portal-item":{types:p},"web-scene":{types:{key:"type",base:b.FeatureReduction,typeMap:{selection:d}}}}}};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n){a.FeatureReduction=function(k){function g(){var l=k.apply(this,arguments)||
this;l.type=null;return l}b._inheritsLoose(g,k);return g}(e.JSONSupport);c.__decorate([d.property({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=c.__decorate([n.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./AggregateField ./commonProperties ./FeatureReduction ./LabelClass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y){var z;e=z=function(A){function C(B){B=A.call(this,B)||this;B.type="binning";B.fixedBinLevel=3;B.labelingInfo=null;B.labelsVisible=!0;B.popupEnabled=!0;B.popupTemplate=null;B.fields=[];B.renderer=null;return B}a._inheritsLoose(C,A);C.prototype.clone=function(){return new z({fields:m.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:m.clone(this.labelingInfo),labelsVisible:this.labelsVisible,popupEnabled:this.popupEnabled,popupTemplate:m.clone(this.popupTemplate),
renderer:m.clone(this.renderer)})};return C}(x.FeatureReduction);b.__decorate([h.enumeration({binning:"binning"})],e.prototype,"type",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],e.prototype,"fixedBinLevel",void 0);b.__decorate([t.property({type:[y],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],e.prototype,"labelingInfo",void 0);b.__decorate([t.property(D.labelsVisible)],e.prototype,"labelsVisible",void 0);b.__decorate([t.property(D.popupEnabled)],
e.prototype,"popupEnabled",void 0);b.__decorate([t.property({type:c,json:{name:"popupInfo",write:!0}})],e.prototype,"popupTemplate",void 0);b.__decorate([t.property({type:[w],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],e.prototype,"fields",void 0);b.__decorate([t.property({types:q.rendererTypes,json:{write:!0}})],e.prototype,"renderer",void 0);return e=z=b.__decorate([v.subclass("esri.layers.support.FeatureReductionBinning")],e)})},"esri/layers/support/AggregateField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./OutStatistic".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;c=k=function(g){function l(){var q=g.apply(this,arguments)||this;q.name=null;q.outStatistic=null;return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({name:this.name,outStatistic:this.outStatistic.clone()})};return l}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([e.property({type:n,json:{write:!0}})],c.prototype,"outStatistic",void 0);return c=k=b.__decorate([u.subclass("esri.layers.support.AggregateField")],
c)})},"esri/layers/support/OutStatistic":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(){var l=k.apply(this,arguments)||this;l.statisticType=null;l.onStatisticField=null;l.onStatisticValueExpression=null;
return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"statisticType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"onStatisticValueExpression",
void 0);return c=n=b.__decorate([u.subclass("esri.layers.support.OutStatistic")],c)})},"esri/layers/support/LabelClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f){function h(D){var x;return D?"service"===D.origin?!1:"map-image"!==(null==(x=D.layer)?void 0:x.type):!0}function v(D){var x,y;return"map-image"===(null==D?void 0:D.type)?!(null==(x=D.capabilities)||null==(y=x.exportMap)||!y.supportsArcadeExpressionForLabeling):!1}var w;e=new e.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});d=w=function(D){function x(z){z=D.call(this,z)||this;z.type="label";z.name=null;z.allowOverrun=!1;z.deconflictionStrategy="static";z.labelExpression=null;z.labelExpressionInfo=null;z.labelPlacement=null;z.labelPosition="curved";z.maxScale=0;z.minScale=0;z.repeatLabel=!0;z.repeatLabelDistance=null;z.symbol=t.defaultTextSymbol2D;z.useCodedValues=void 0;z.where=null;return z}a._inheritsLoose(x,D);x.evaluateWhere=function(z,A){const C=(B,E,G)=>{switch(E){case "\x3d":return B==G?!0:
!1;case "\x3c\x3e":return B!=G?!0:!1;case "\x3e":return B>G?!0:!1;case "\x3e\x3d":return B>=G?!0:!1;case "\x3c":return B<G?!0:!1;case "\x3c\x3d":return B<=G?!0:!1}return!1};try{if(null==z)return!0;const B=z.split(" ");if(3===B.length)return C(A[B[0]],B[1],B[2]);if(7===B.length){const E=C(A[B[0]],B[1],B[2]),G=B[3],J=C(A[B[4]],B[5],B[6]);switch(G){case "AND":return E&&J;case "OR":return E||J}}return!1}catch(B){console.log("Error.: can't parse \x3d "+z)}};var y=x.prototype;y.readLabelExpression=function(z,
A){A=A.labelExpressionInfo;if(!A||!A.value&&!A.expression)return z};y.writeLabelExpression=function(z,A,C){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)z=m.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const B=m.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);B&&(z="["+B+"]")}null!=z&&(A[C]=z)};y.writeLabelExpressionInfo=function(z,A,C,B){if(null==z&&null!=this.labelExpression&&h(B))z=new q({expression:this.getLabelExpressionArcade()});
else if(!z)return;z=z.toJSON(B);z.expression&&(A[C]=z)};y.writeMaxScale=function(z,A){if(z||this.minScale)A.maxScale=z};y.writeMinScale=function(z,A){if(z||this.maxScale)A.minScale=z};y.getLabelExpression=function(){return m.getLabelExpression(this)};y.getLabelExpressionArcade=function(){return m.getLabelExpressionArcade(this)};y.getLabelExpressionSingleField=function(){return m.getLabelExpressionSingleField(this)};y.hash=function(){return JSON.stringify(this)};y.clone=function(){return new w({allowOverrun:this.allowOverrun,
deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:p.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:p.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};return x}(d.JSONSupport);b.__decorate([u.property({type:String,json:{write:!0}})],
d.prototype,"name",void 0);b.__decorate([u.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],d.prototype,"allowOverrun",void 0);b.__decorate([u.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],d.prototype,"deconflictionStrategy",void 0);b.__decorate([u.property({type:String,json:{write:{overridePolicy(D,x,y){return this.labelExpressionInfo&&"service"===(null==y?void 0:y.origin)&&v(y.layer)?{enabled:!1}:{allowNull:!0}}}}})],
d.prototype,"labelExpression",void 0);b.__decorate([k.reader("labelExpression")],d.prototype,"readLabelExpression",null);b.__decorate([l.writer("labelExpression")],d.prototype,"writeLabelExpression",null);b.__decorate([u.property({type:q,json:{write:{overridePolicy(D,x,y){return h(y)||v(y.layer)?{allowNull:!0}:{enabled:!1}}}}})],d.prototype,"labelExpressionInfo",void 0);b.__decorate([l.writer("labelExpressionInfo")],d.prototype,"writeLabelExpressionInfo",null);b.__decorate([u.property({type:e.apiValues,
json:{type:e.jsonValues,read:e.read,write:e.write}})],d.prototype,"labelPlacement",void 0);b.__decorate([u.property({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"labelPosition",void 0);b.__decorate([u.property({type:Number})],d.prototype,"maxScale",void 0);b.__decorate([l.writer("maxScale")],d.prototype,"writeMaxScale",null);b.__decorate([u.property({type:Number})],d.prototype,"minScale",void 0);b.__decorate([l.writer("minScale")],
d.prototype,"writeMinScale",null);b.__decorate([u.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"repeatLabel",void 0);b.__decorate([u.property({type:Number,cast:r.toPt,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"repeatLabelDistance",void 0);b.__decorate([u.property({types:c.symbolTypesLabel,json:{origins:{"web-scene":{types:c.symbolTypesLabel3D,write:f.writeLabelSymbol,default:null}},write:f.writeLabelSymbol,default:null}})],
d.prototype,"symbol",void 0);b.__decorate([u.property({type:Boolean,json:{write:!0}})],d.prototype,"useCodedValues",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=w=b.__decorate([g.subclass("esri.layers.support.LabelClass")],d)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){var l;c=l=function(q){function m(){var f=q.apply(this,arguments)||this;f.expression=null;f.title=null;f.value=null;return f}a._inheritsLoose(m,q);var t=m.prototype;t.readExpression=function(f,h){return h.value?g.convertTemplatedStringToArcade(h.value):f};t.writeExpression=function(f,h,v){null!=this.value&&(f=g.convertTemplatedStringToArcade(this.value));null!=f&&(h[v]=f)};t.clone=function(){return new l({expression:this.expression,title:this.title,value:this.value})};
return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],c.prototype,"expression",void 0);b.__decorate([u.reader("expression",["expression","value"])],c.prototype,"readExpression",null);b.__decorate([k.writer("expression")],c.prototype,"writeExpression",null);b.__decorate([e.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"title",void 0);b.__decorate([e.property({json:{read:!1,write:!1}})],c.prototype,"value",void 0);
return c=l=b.__decorate([n.subclass("esri.layers.support.LabelExpressionInfo")],c)})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../../core/maybe ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),function(a,b,c,e,d,p,r,u){const n=p.fromJSON(u.defaultPointSymbolJSON),k=d.fromJSON(u.defaultPolylineSymbolJSON),g=e.fromJSON(u.defaultPolygonSymbolJSON);b=r.fromJSON(u.defaultTextSymbolJSON);p=p.fromJSON(u.errorPointSymbolJSON);
d=d.fromJSON(u.errorPolylineSymbolJSON);e=e.fromJSON(u.errorPolygonSymbolJSON);a.defaultPointSymbol2D=n;a.defaultPolygonSymbol2D=g;a.defaultPolylineSymbol2D=k;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=p;a.errorPolygonSymbol2D=e;a.errorPolylineSymbol2D=d;a.getDefaultSymbol2D=function(l){if(c.isNone(l))return null;switch(l.type){case "point":case "multipoint":return n;case "polyline":return k;case "polygon":case "extent":return g}return null};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},e={type:"esriSLS",style:"esriSLSSolid",width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",
width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=e;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};
a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AggregateField ./commonProperties ./LabelClass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z){var A;e=A=function(C){function B(E){E=C.call(this,E)||this;E.type="cluster";E.clusterRadius=h.toPt("80px");E.clusterMinSize=h.toPt("12px");E.clusterMaxSize=h.toPt("50px");E.popupEnabled=!0;E.popupTemplate=null;E.symbol=null;E.labelingInfo=null;E.labelsVisible=!0;E.fields=null;return E}a._inheritsLoose(B,C);B.prototype.clone=function(){return new A({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,
labelingInfo:f.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:f.clone(this.fields),renderer:f.clone(this.renderer),popupEnabled:this.popupEnabled,popupTemplate:f.clone(this.popupTemplate)})};return B}(t.JSONSupport);b.__decorate([v.property({type:["cluster"],readOnly:!0,json:{write:!0}})],e.prototype,"type",void 0);b.__decorate([v.property({type:Number,cast:C=>"auto"===C?C:h.toPt(C),json:{write:!0}})],e.prototype,"clusterRadius",void 0);b.__decorate([v.property({type:Number,cast:h.toPt,
json:{write:!0}})],e.prototype,"clusterMinSize",void 0);b.__decorate([v.property({type:Number,cast:h.toPt,json:{write:!0}})],e.prototype,"clusterMaxSize",void 0);b.__decorate([v.property(y.popupEnabled)],e.prototype,"popupEnabled",void 0);b.__decorate([v.property({type:c,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],e.prototype,"popupTemplate",void 0);b.__decorate([v.property({types:q.rendererTypes,json:{write:!0}})],e.prototype,"renderer",void 0);b.__decorate([v.property({types:m.symbolTypesCluster})],
e.prototype,"symbol",void 0);b.__decorate([v.property({type:[z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],e.prototype,"labelingInfo",void 0);b.__decorate([v.property(y.labelsVisible)],e.prototype,"labelsVisible",void 0);b.__decorate([v.property({type:[x],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],e.prototype,"fields",void 0);return e=A=b.__decorate([D.subclass("esri.layers.support.FeatureReductionCluster")],e)})},
"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,c,e,d,p,r,u){var n;e=n=function(k){function g(l){l=k.call(this,l)||this;l.type="selection";return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n};
return g}(u.FeatureReduction);b.__decorate([c.property({type:["selection"]})],e.prototype,"type",void 0);return e=n=b.__decorate([r.subclass("esri.layers.support.FeatureReductionSelection")],e)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){e=new e.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});c=function(g){function l(q){q=g.call(this,q)||this;q.name=null;q.description=null;q.drawingTool=null;q.prototype=null;q.thumbnail=null;return q}a._inheritsLoose(l,g);return l}(c.ClonableMixin(d.JSONSupport));b.__decorate([p.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([p.property({json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([p.property({json:{read:e.read,
write:e.write}})],c.prototype,"drawingTool",void 0);b.__decorate([p.property({json:{write:!0}})],c.prototype,"prototype",void 0);b.__decorate([p.property({json:{write:!0}})],c.prototype,"thumbnail",void 0);return c=b.__decorate([k.subclass("esri.layers.support.FeatureTemplate")],c)})},"esri/layers/support/FeatureType":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){c=function(m){function t(h){h=m.call(this,h)||this;h.id=null;h.name=null;h.domains=null;h.templates=null;return h}a._inheritsLoose(t,m);var f=t.prototype;f.readDomains=function(h){const v={};for(const w of Object.keys(h))v[w]=l.fromJSON(h[w]);return v};f.writeDomains=function(h,v){const w={};for(const x of Object.keys(h))if(h[x]){var D;w[x]=null==(D=h[x])?void 0:D.toJSON()}v.domains=w};return t}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property({json:{write:!0}})],
c.prototype,"id",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"domains",void 0);b.__decorate([n.reader("domains")],c.prototype,"readDomains",null);b.__decorate([g.writer("domains")],c.prototype,"writeDomains",null);b.__decorate([d.property({type:[q],json:{write:!0}})],c.prototype,"templates",void 0);return c=b.__decorate([k.subclass("esri.layers.support.FeatureType")],c)})},"esri/layers/support/fieldProperties":function(){define(["exports",
"../../core/Logger","./Field","./FieldsIndex","./fieldUtils"],function(a,b,c,e,d){const p=b.getLogger("esri.layers.support.fieldProperties");a.defineFieldProperties=function(){return{fields:{type:[c],value:null},fieldsIndex:{readOnly:!0,get(){return new e(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(r){this._userOutFields=r;this.notifyChange("outFields")},get:function(){const r=this._userOutFields;if(!r||!r.length)return null;if(r.includes("*"))return["*"];if(!this.fields)return r;
for(const u of r)this.fieldsIndex.has(u)||p.error("field-attributes-layer:invalid-field",`Invalid field ${u} found in outFields`,{layer:this,outFields:r});return d.fixFields(this.fieldsIndex,r)}}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/FieldsIndex":function(){define(["../../chunks/_rollupPluginBabelHelpers","./fieldUtils"],function(a,b){function c(d){return"oid"===d.type||"esriFieldTypeOID"===d.type}function e(d){return"global-id"===
d.type||"esriFieldTypeGlobalID"===d.type}return function(){function d(r){this.fields=r;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this.dateFields=[];this.numericFields=[];this._requiredFields=null;if(r){var u=[];for(const n of r)if(r=n&&n.name){const k=r.toLowerCase().trim();this._fieldsMap.set(r,n);this._fieldsMap.set(k,n);u.push(k);"date"===n.type||"esriFieldTypeDate"===n.type?(this.dateFields.push(n),this._dateFieldsSet.add(n)):b.isNumericField(n)&&(this._numericFieldsSet.add(n),
this.numericFields.push(n));c(n)||e(n)||(n.editable=null==n.editable?!0:!!n.editable,n.nullable=null==n.nullable?!0:!!n.nullable)}u.sort();this.uid=u.join(",")}}var p=d.prototype;p.destroy=function(){this._fieldsMap.clear()};p.has=function(r){return null!=this.get(r)};p.get=function(r){return null!=r?this._fieldsMap.get(r)||this._fieldsMap.get(r.toLowerCase().trim()):void 0};p.isDateField=function(r){return this._dateFieldsSet.has(this.get(r))};p.isNumericField=function(r){return this._numericFieldsSet.has(this.get(r))};
p.normalizeFieldName=function(r){if(r=this.get(r))return r.name};a._createClass(d,[{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];for(const r of this.fields)c(r)||e(r)||r.nullable||void 0!==b.getFieldDefaultValue(r)||this._requiredFields.push(r)}return this._requiredFields}}]);return d}()})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){c=function(g){function l(q){q=g.call(this,q)||this;q.shapeAreaField=null;q.shapeLengthField=null;q.units=null;return q}a._inheritsLoose(l,g);return l}(c.ClonableMixin(e.JSONSupport));b.__decorate([p.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],c.prototype,"shapeAreaField",void 0);b.__decorate([p.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],c.prototype,"shapeLengthField",void 0);b.__decorate([p.property({type:String,json:{read:g=>
d.areaUnitsJSONMap.read(g)||d.lengthUnitsJSONMap.read(g)}})],c.prototype,"units",void 0);return c=b.__decorate([k.subclass("esri.layers.support.GeometryFieldsInfo")],c)})},"esri/layers/support/labelingInfo":function(){define(["exports","./LabelClass"],function(a,b){const c=/\[([^\[\]]+)\]/gi;a.reader=function(e,d,p){return e?e.map(r=>{const u=new b;u.read(r,p);if(u.labelExpression){const n=d.fields||d.layerDefinition&&d.layerDefinition.fields||this.fields;u.labelExpression=u.labelExpression.replace(c,
(k,g)=>{a:if(n){k=g.toLowerCase();for(let l=0;l<n.length;l++){const q=n[l].name;if(q.toLowerCase()===k){g=q;break a}}}return`[${g}]`})}return u}):null};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;e=k=function(g){function l(q){q=g.call(this,q)||this;q.floorField=null;q.viewAllMode=!1;q.viewAllLevelIds=new c;return q}a._inheritsLoose(l,g);l.prototype.clone=function(){return new k({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})};return l}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"floorField",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],e.prototype,"viewAllMode",
void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],e.prototype,"viewAllLevelIds",void 0);return e=k=b.__decorate([n.subclass("esri.layers.support.LayerFloorInfo")],e)})},"esri/layers/support/Relationship":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){r=new e.JSONMap({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});e=new e.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});c=function(g){function l(q){q=g.call(this,q)||this;q.cardinality=null;q.composite=null;q.id=null;q.keyField=null;q.keyFieldInRelationshipTable=null;q.name=null;q.relatedTableId=null;q.relationshipTableId=null;q.role=null;return q}a._inheritsLoose(l,
g);return l}(c.ClonableMixin(d.JSONSupport));b.__decorate([p.property({json:{read:r.read,write:r.write}})],c.prototype,"cardinality",void 0);b.__decorate([p.property({json:{read:!0,write:!0}})],c.prototype,"composite",void 0);b.__decorate([p.property({json:{read:!0,write:!0}})],c.prototype,"id",void 0);b.__decorate([p.property({json:{read:!0,write:!0}})],c.prototype,"keyField",void 0);b.__decorate([p.property({json:{read:!0,write:!0}})],c.prototype,"keyFieldInRelationshipTable",void 0);b.__decorate([p.property({json:{read:!0,
write:!0}})],c.prototype,"name",void 0);b.__decorate([p.property({json:{read:!0,write:!0}})],c.prototype,"relatedTableId",void 0);b.__decorate([p.property({json:{read:!0,write:!0}})],c.prototype,"relationshipTableId",void 0);b.__decorate([p.property({json:{read:e.read,write:e.write}})],c.prototype,"role",void 0);return c=b.__decorate([k.subclass("esri.layers.support.Relationship")],c)})},"esri/layers/support/versionUtils":function(){define(["exports","./arcgisLayerUrl"],function(a,b){const c=[];c.push([10.91,
()=>{const e=new Set([9709,9716,9741,9761,9766]);for(var d=9712;9713>=d;d++)e.add(d);for(d=9748;9749>=d;d++)e.add(d);for(d=20904;20932>=d;d++)e.add(d);for(d=21004;21032>=d;d++)e.add(d);for(d=21207;21264>=d;d++)e.add(d);for(d=21307;21364>=d;d++)e.add(d);for(d=102759;102760>=d;d++)e.add(d);for(d=102901;102955>=d;d++)e.add(d);return e}]);c.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(var d=9356;9360>=d;d++)e.add(d);for(d=
9404;9407>=d;d++)e.add(d);for(d=9476;9482>=d;d++)e.add(d);for(d=9487;9494>=d;d++)e.add(d);for(d=9697;9699>=d;d++)e.add(d);return e}]);c.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(var d=9248;9254>=d;d++)e.add(d);for(d=9271;9273>=d;d++)e.add(d);for(d=9284;9285>=d;d++)e.add(d);for(d=21453;21463>=d;d++)e.add(d);return e}]);c.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var d=8035;8036>=d;d++)e.add(d);for(d=
8455;8456>=d;d++)e.add(d);for(d=8518;8529>=d;d++)e.add(d);for(d=8533;8536>=d;d++)e.add(d);for(d=8538;8540>=d;d++)e.add(d);for(d=8677;8679>=d;d++)e.add(d);for(d=8902;8903>=d;d++)e.add(d);for(d=8907;8910>=d;d++)e.add(d);for(d=8949;8951>=d;d++)e.add(d);for(d=8972;8987>=d;d++)e.add(d);for(d=9039;9040>=d;d++)e.add(d);for(d=9068;9069>=d;d++)e.add(d);for(d=9140;9141>=d;d++)e.add(d);for(d=9148;9150>=d;d++)e.add(d);for(d=9153;9159>=d;d++)e.add(d);for(d=9205;9218>=d;d++)e.add(d);for(d=9221;9222>=d;d++)e.add(d);
for(d=54098;54101>=d;d++)e.add(d);return e}]);c.push([10.71,()=>{const e=new Set([6316]);for(var d=8351;8353>=d;d++)e.add(d);for(d=9294;9297>=d;d++)e.add(d);for(d=103586;103594>=d;d++)e.add(d);for(d=103696;103698>=d;d++)e.add(d);return e}]);c.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(var d=8065;8068>=d;d++)e.add(d);for(d=8082;8083>=d;d++)e.add(d);for(d=8379;8385>=d;d++)e.add(d);for(d=8836;8840>=d;d++)e.add(d);for(d=8857;8860>=d;d++)e.add(d);
for(d=53035;53037>=d;d++)e.add(d);for(d=54090;54091>=d;d++)e.add(d);for(d=102498;102499>=d;d++)e.add(d);return e}]);c.push([10.61,()=>new Set([102497])]);c.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(var d=7755;7787>=d;d++)e.add(d);for(d=7791;7795>=d;d++)e.add(d);for(d=7799;7801>=d;d++)e.add(d);for(d=7825;7831>=d;d++)e.add(d);for(d=7877;7878>=d;d++)e.add(d);for(d=7882;7883>=d;d++)e.add(d);for(d=7991;7992>=d;d++)e.add(d);for(d=8042;8043>=
d;d++)e.add(d);for(d=8058;8059>=d;d++)e.add(d);for(d=8311;8348>=d;d++)e.add(d);for(d=9060;9067>=d;d++)e.add(d);for(d=102562;102568>=d;d++)e.add(d);for(d=102799;102900>=d;d++)e.add(d);return e}]);c.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9E3]);for(var d=8013;8032>=d;d++)e.add(d);for(d=9053;9057>=d;d++)e.add(d);for(d=104017;104018>=d;d++)e.add(d);for(d=104971;104974>=d;d++)e.add(d);return e}]);c.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);
for(var d=4087;4088>=d;d++)e.add(d);for(d=5896;5899>=d;d++)e.add(d);for(d=7005;7007>=d;d++)e.add(d);for(d=7057;7070>=d;d++)e.add(d);for(d=7073;7082>=d;d++)e.add(d);for(d=7109;7128>=d;d++)e.add(d);for(d=7844;7859>=d;d++)e.add(d);return e}]);a.serviceSupportsSpatialReference=function(e,d){if(b.isHostedAgolService(e.url))return!0;({wkid:d}=d);for(const p of c){if(e.version>=p[0])break;"function"===typeof p[1]&&(p[1]=p[1]());if(p[1].has(d))return!1}return!0};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(q){q=k.call(this,q)||this;q.attachmentTypes=null;q.attachmentsWhere=
null;q.cacheHint=void 0;q.keywords=null;q.globalIds=null;q.name=null;q.num=null;q.objectIds=null;q.returnMetadata=!1;q.size=null;q.start=null;q.where=null;return q}a._inheritsLoose(g,k);var l=g.prototype;l.writeStart=function(q,m){m.resultOffset=this.start;m.resultRecordCount=this.num||10};l.clone=function(){return new n(e.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,
num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};return g}(c.JSONSupport);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"attachmentTypes",void 0);b.__decorate([d.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],c.prototype,"attachmentsWhere",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);
b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"keywords",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"globalIds",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([d.property({type:Boolean,json:{default:!1,
write:!0}})],c.prototype,"returnMetadata",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([u.writer("start"),u.writer("num")],c.prototype,"writeStart",null);b.__decorate([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=n=b.__decorate([r.subclass("esri.rest.support.AttachmentQuery")],
c);c.from=p.ensureType(c);return c})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),function(a,b,c,e,d,p,r,u,
n,k,g){var l;c=l=function(q){function m(f){f=q.call(this,f)||this;f.cacheHint=void 0;f.dynamicDataSource=void 0;f.gdbVersion=null;f.geometryPrecision=void 0;f.historicMoment=null;f.maxAllowableOffset=void 0;f.objectIds=null;f.orderByFields=null;f.outFields=null;f.outSpatialReference=null;f.relationshipId=void 0;f.start=void 0;f.num=void 0;f.returnGeometry=!1;f.returnM=void 0;f.returnZ=void 0;f.where=null;return f}a._inheritsLoose(m,q);var t=m.prototype;t._writeHistoricMoment=function(f,h){h.historicMoment=
f&&f.getTime()};t.writeStart=function(f,h){h.resultOffset=this.start;h.resultRecordCount=this.num||10;0<this.start&&null==this.where&&(h.definitionExpression="1\x3d1")};t.clone=function(){return new l(d.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,
outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};return m}(e.JSONSupport);b.__decorate([p.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);b.__decorate([p.property({type:k.DataLayerSource,json:{write:!0}})],c.prototype,"dynamicDataSource",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],
c.prototype,"gdbVersion",void 0);b.__decorate([p.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",void 0);b.__decorate([p.property({type:Date})],c.prototype,"historicMoment",void 0);b.__decorate([n.writer("historicMoment")],c.prototype,"_writeHistoricMoment",null);b.__decorate([p.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);b.__decorate([p.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([p.property({type:[String],
json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([p.property({type:[String],json:{write:!0}})],c.prototype,"outFields",void 0);b.__decorate([p.property({type:g,json:{read:{source:"outSR"},write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);b.__decorate([p.property({json:{write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([p.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([n.writer("start"),n.writer("num")],
c.prototype,"writeStart",null);b.__decorate([p.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([p.property({json:{write:!0}})],c.prototype,"returnGeometry",void 0);b.__decorate([p.property({type:Boolean,json:{write:{overridePolicy(q){return{enabled:q}}}}})],c.prototype,"returnM",void 0);b.__decorate([p.property({type:Boolean,json:{write:{overridePolicy(q){return{enabled:q}}}}})],c.prototype,"returnZ",void 0);b.__decorate([p.property({type:String,
json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=l=b.__decorate([u.subclass("esri.rest.support.RelationshipQuery")],c);c.from=r.ensureType(c);return c})},"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m){var t;const f=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});p=t=function(h){function v(D){D=h.call(this,D)||this;D.cacheHint=void 0;D.distance=void 0;D.geometry=null;D.geometryPrecision=void 0;D.maxAllowableOffset=void 0;D.num=void 0;D.objectIds=null;D.orderByFields=null;D.outFields=null;D.outSpatialReference=null;D.resultType=null;D.returnGeometry=!1;D.returnM=void 0;D.returnZ=void 0;D.start=void 0;D.spatialRelationship=
"intersects";D.timeExtent=null;D.topFilter=void 0;D.units=null;D.where="1\x3d1";return D}a._inheritsLoose(v,h);var w=v.prototype;w.writeStart=function(D,x){x.resultOffset=this.start;x.resultRecordCount=this.num||10};w.clone=function(){return new t(r.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))};return v}(p.JSONSupport);b.__decorate([u.property({type:Boolean,json:{write:!0}})],p.prototype,"cacheHint",void 0);b.__decorate([u.property({type:Number,json:{write:{overridePolicy(h){return{enabled:0<
h}}}}})],p.prototype,"distance",void 0);b.__decorate([u.property({types:c.geometryTypes,json:{read:l.fromJSON,write:!0}})],p.prototype,"geometry",void 0);b.__decorate([u.property({type:Number,json:{write:!0}})],p.prototype,"geometryPrecision",void 0);b.__decorate([u.property({type:Number,json:{write:!0}})],p.prototype,"maxAllowableOffset",void 0);b.__decorate([u.property({type:Number,json:{read:{source:"resultRecordCount"}}})],p.prototype,"num",void 0);b.__decorate([u.property({json:{write:!0}})],
p.prototype,"objectIds",void 0);b.__decorate([u.property({type:[String],json:{write:!0}})],p.prototype,"orderByFields",void 0);b.__decorate([u.property({type:[String],json:{write:!0}})],p.prototype,"outFields",void 0);b.__decorate([u.property({type:m,json:{read:{source:"outSR"},write:{target:"outSR"}}})],p.prototype,"outSpatialReference",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],p.prototype,"resultType",void 0);b.__decorate([u.property({json:{write:!0}})],p.prototype,"returnGeometry",
void 0);b.__decorate([u.property({type:Boolean,json:{write:{overridePolicy(h){return{enabled:h}}}}})],p.prototype,"returnM",void 0);b.__decorate([u.property({type:Boolean,json:{write:{overridePolicy(h){return{enabled:h}}}}})],p.prototype,"returnZ",void 0);b.__decorate([u.property({type:Number,json:{read:{source:"resultOffset"}}})],p.prototype,"start",void 0);b.__decorate([g.writer("start"),g.writer("num")],p.prototype,"writeStart",null);b.__decorate([u.property({type:String,json:{read:{source:"spatialRel",
reader:f.read},write:{target:"spatialRel",writer:f.write}}})],p.prototype,"spatialRelationship",void 0);b.__decorate([u.property({type:e,json:{write:!0}})],p.prototype,"timeExtent",void 0);b.__decorate([u.property({type:q,json:{write:!0}})],p.prototype,"topFilter",void 0);b.__decorate([u.property({type:String,json:{read:d.read,write:{writer:d.write,overridePolicy(h){return{enabled:h&&0<this.distance}}}}})],p.prototype,"units",void 0);b.__decorate([u.property({type:String,json:{write:!0}})],p.prototype,
"where",void 0);p=t=b.__decorate([k.subclass("esri.rest.support.TopFeaturesQuery")],p);p.from=n.ensureType(p);return p})},"esri/rest/support/TopFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u){var n;c=n=function(k){function g(l){l=
k.call(this,l)||this;l.groupByFields=void 0;l.topCount=void 0;l.orderByFields=void 0;return l}a._inheritsLoose(g,k);g.prototype.clone=function(){return new n({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})};return g}(c.JSONSupport);b.__decorate([e.property({type:[String],json:{write:!0}})],c.prototype,"groupByFields",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"topCount",void 0);b.__decorate([e.property({type:[String],json:{write:!0}})],
c.prototype,"orderByFields",void 0);return c=n=b.__decorate([u.subclass("esri.rest.support.TopFilter")],c)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),function(a,
b,c,e,d,p,r,u,n,k,g,l){function q(A,C){const B=A;C&&(A=A.filter(E=>!C.includes(E.type)));A===B&&(A=A.slice());A.sort(m);return A}function m(A,C){return"oid"===A.type?-1:"oid"===C.type?1:v(A)?-1:v(C)?1:(A.alias||A.name).toLocaleLowerCase().localeCompare((C.alias||C.name).toLocaleLowerCase())}function t(A,C){if(!A||!C)return!1;const {creationDateField:B,creatorField:E,editDateField:G,editorField:J}=C;return[B&&B.toLowerCase(),E&&E.toLowerCase(),G&&G.toLowerCase(),J&&J.toLowerCase()].includes(A.toLowerCase())}
function f({editFieldsInfo:A,fields:C,objectIdField:B},E){return q(C,(null==E?void 0:E.ignoreFieldTypes)||z).map(G=>{var J=G.name;var K=G.editable&&!D.includes(G.type)&&!t(G.name,A);return new g({fieldName:J,isEditable:K,label:G.alias,format:h(G),visible:y(G,{editFieldsInfo:A,objectIdField:B,visibleFieldNames:null==E?void 0:E.visibleFieldNames})})})}function h(A){switch(A.type){case "small-integer":case "integer":case "single":return new l({digitSeparator:!0,places:0});case "double":return new l({digitSeparator:!0,
places:2});case "date":return new l({dateFormat:"long-month-day-year"});default:return"string"===A.type&&c.isRasterPixelValueField(A.name)?new l({digitSeparator:!0,places:0}):null}}function v(A){if("name"===(A.name&&A.name.toLowerCase())||"name"===(A.alias&&A.alias.toLowerCase()))return!0}const w=["oid","global-id"],D=["oid","global-id","guid"],x=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,
/_i$/i],y=(A,{editFieldsInfo:C,objectIdField:B,visibleFieldNames:E})=>E?E.has(A.name):t(A.name,C)?!1:B&&A.name===B?!1:w.includes(A.type)?!1:!x.some(G=>G.test(A.name)),z=["geometry","blob","raster","guid","xml"];a.createFieldInfos=f;a.createFieldsContent=function(A,C){return new u({fieldInfos:f(A,C).filter(B=>B.visible)})};a.createPopupTemplate=function({displayField:A,editFieldsInfo:C,fields:B,objectIdField:E,title:G},J){if(!B)return null;C=f({editFieldsInfo:C,fields:B,objectIdField:E},J);if(!C.length)return null;
B={titleBase:G,fields:B,displayField:A};A=c.getDisplayFieldName(B);({titleBase:B}=B);A=A?`${B}: {${A.trim()}}`:B;B=[new u,new e];return new b({title:A,content:B,fieldInfos:C})};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../request ../../../TimeExtent ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/maybe ../../../core/object ../../../core/promiseUtils ../../../core/urlUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/jsonUtils ./support/clientSideDefaults ./support/QueryTask ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryAttachments ../../../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C){function B(K){return E.apply(this,arguments)}function E(){E=a._asyncToGenerator(function*(K){if("string"===typeof K){const F=m.dataComponents(K);return F?F:{data:K}}return new Promise((F,H)=>{const I=new FileReader;I.readAsDataURL(K);I.onload=()=>F(m.dataComponents(I.result));I.onerror=L=>H(L)})});return E.apply(this,arguments)}const G=new n.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),J=new Set(["Feature Layer",
"Table"]);c=function(K){function F(){var I=K.apply(this,arguments)||this;I.type="feature-layer";I.refresh=q.debounce(a._asyncToGenerator(function*(){var L,Q;yield I.load();const Z=null==(L=I.sourceJSON.editingInfo)?void 0:L.lastEditDate;if(null==Z)return{dataChanged:!0,updates:{}};try{yield I._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}L=Z!==(null==(Q=I.sourceJSON.editingInfo)?void 0:Q.lastEditDate);return{dataChanged:L,updates:L?{editingInfo:I.sourceJSON.editingInfo,extent:I.sourceJSON.extent}:
null}}));return I}a._inheritsLoose(F,K);var H=F.prototype;H.load=function(I){I=g.isSome(I)?I.signal:null;this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,I));return Promise.resolve(this)};H.addAttachment=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();L=L.attributes[this.layer.objectIdField];const Z=this.layer.parsedUrl.path+"/"+L+"/addAttachment",ca=this._getLayerRequestOptions();Q=this._getFormDataForAttachment(Q,ca.query);try{const aa=yield d(Z,{body:Q});
return this._createFeatureEditResult(aa.data.addAttachmentResult)}catch(aa){throw this._createAttachmentErrorResult(L,aa);}});return function(L,Q){return I.apply(this,arguments)}}();H.updateAttachment=function(){var I=a._asyncToGenerator(function*(L,Q,Z){yield this.load();L=L.attributes[this.layer.objectIdField];const ca=this.layer.parsedUrl.path+"/"+L+"/updateAttachment";Q=this._getLayerRequestOptions({query:{attachmentId:Q}});Z=this._getFormDataForAttachment(Z,Q.query);try{const aa=yield d(ca,{body:Z});
return this._createFeatureEditResult(aa.data.updateAttachmentResult)}catch(aa){throw this._createAttachmentErrorResult(L,aa);}});return function(L,Q,Z){return I.apply(this,arguments)}}();H.applyEdits=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();var Z=L.addFeatures.map(this._serializeFeature,this);const ca=L.updateFeatures.map(this._serializeFeature,this),aa=this._getFeatureIds(L.deleteFeatures,null==Q?void 0:Q.globalIdUsed);z.unapplyEditsZUnitScaling(Z,ca,this.layer.spatialReference);
var O=[];const fa=[],oa=[...L.deleteAttachments];for(const Da of L.addAttachments)O.push(yield this._serializeAttachment(Da));for(const Da of L.updateAttachments)fa.push(yield this._serializeAttachment(Da));L=O.length||fa.length||oa.length?{adds:O,updates:fa,deletes:oa}:null;O={gdbVersion:(null==Q?void 0:Q.gdbVersion)||this.layer.gdbVersion,rollbackOnFailure:null==Q?void 0:Q.rollbackOnFailureEnabled,useGlobalIds:null==Q?void 0:Q.globalIdUsed,returnEditMoment:null==Q?void 0:Q.returnEditMoment,usePreviousEditMoment:null==
Q?void 0:Q.usePreviousEditMoment,sessionId:null==Q?void 0:Q.sessionId};null!=Q&&Q.returnServiceEditsOption?(O.edits=JSON.stringify([{id:this.layer.layerId,adds:Z,updates:ca,deletes:aa,attachments:L}]),O.returnServiceEditsOption=G.toJSON(null==Q?void 0:Q.returnServiceEditsOption),O.returnServiceEditsInSourceSR=null==Q?void 0:Q.returnServiceEditsInSourceSR):(O.adds=Z.length?JSON.stringify(Z):null,O.updates=ca.length?JSON.stringify(ca):null,O.deletes=aa.length?null!=Q&&Q.globalIdUsed?JSON.stringify(aa):
aa.join(","):null,O.attachments=L&&JSON.stringify(L));Z=this._getLayerRequestOptions({method:"post",query:O});Q=yield d((null!=Q&&Q.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path)+"/applyEdits",Z);return this._createEditsResult(Q)});return function(L,Q){return I.apply(this,arguments)}}();H.deleteAttachments=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();L=L.attributes[this.layer.objectIdField];const Z=this.layer.parsedUrl.path+"/"+L+"/deleteAttachments";try{return(yield d(Z,
this._getLayerRequestOptions({query:{attachmentIds:Q.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(ca){throw this._createAttachmentErrorResult(L,ca);}});return function(L,Q){return I.apply(this,arguments)}}();H.fetchRecomputedExtents=function(I={}){var L=this;return this.load({signal:I.signal}).then(a._asyncToGenerator(function*(){var Q=L._getLayerRequestOptions({...I,query:{returnUpdates:!0}});const {layerId:Z,url:ca}=L.layer;({data:Q}=yield d(`${ca}/${Z}`,
Q));const {id:aa,extent:O,fullExtent:fa,timeExtent:oa}=Q;Q=O||fa;return{id:aa,fullExtent:Q&&w.fromJSON(Q),timeExtent:oa&&p.fromJSON({start:oa[0],end:oa[1]})}}))};H.queryAttachments=function(){var I=a._asyncToGenerator(function*(L,Q={}){const {parsedUrl:Z}=this.layer,ca=Z.path;yield this.load();Q=this._getLayerRequestOptions(Q);if(!this.layer.get("capabilities.operations.supportsQueryAttachments")){const {objectIds:aa}=L;L=[];for(const O of aa)L.push(d(ca+"/"+O+"/attachments",Q));return Promise.all(L).then(O=>
aa.map((fa,oa)=>({parentObjectId:fa,attachmentInfos:O[oa].data.attachmentInfos}))).then(O=>A.processAttachmentQueryResult(O,ca))}return this.queryTask.executeAttachmentQuery(L,Q)});return function(L){return I.apply(this,arguments)}}();H.queryFeatures=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.execute(L,{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,arguments)}}();H.queryFeaturesJSON=function(){var I=a._asyncToGenerator(function*(L,
Q){yield this.load();return this.queryTask.executeJSON(L,{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,arguments)}}();H.queryObjectIds=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeForIds(L,{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,arguments)}}();H.queryFeatureCount=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeForCount(L,
{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,arguments)}}();H.queryExtent=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeForExtent(L,{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,arguments)}}();H.queryRelatedFeatures=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeRelationshipQuery(L,{...Q,query:this._createRequestQueryOptions(Q)})});
return function(L,Q){return I.apply(this,arguments)}}();H.queryRelatedFeaturesCount=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeRelationshipQueryForCount(L,{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,arguments)}}();H.queryTopFeatures=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeTopFeaturesQuery(L,{...Q,query:this._createRequestQueryOptions(Q)})});
return function(L,Q){return I.apply(this,arguments)}}();H.queryTopObjectIds=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeForTopIds(L,{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,arguments)}}();H.queryTopExtents=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeForTopExtents(L,{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,
arguments)}}();H.queryTopCount=function(){var I=a._asyncToGenerator(function*(L,Q){yield this.load();return this.queryTask.executeForTopCount(L,{...Q,query:this._createRequestQueryOptions(Q)})});return function(L,Q){return I.apply(this,arguments)}}();H._createRequestQueryOptions=function(I){I={...this.layer.customParameters,token:this.layer.apiKey,...null==I?void 0:I.query};this.layer.datesInUnknownTimezone&&(I.timeReferenceUnknownClient=!0);return I};H._fetchService=function(){var I=a._asyncToGenerator(function*(L,
Q){L||({data:L}=yield d(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:u("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:Q})));this.sourceJSON=this._patchServiceJSON(L);L=L.type;if(!J.has(L))throw new r("feature-layer-source:unsupported-type",`Source type "${L}" is not supported`);});return function(L,Q){return I.apply(this,arguments)}}();H._patchServiceJSON=function(I){var L;"Table"===I.type||!I.geometryType||null!=I&&null!=(L=I.drawingInfo)&&L.renderer||I.defaultSymbol||
(L=x.createDrawingInfo(I.geometryType).renderer,l.setDeepValue("drawingInfo.renderer",L,I));"esriGeometryMultiPatch"===I.geometryType&&I.infoFor3D&&(I.geometryType="mesh");return I};H._serializeFeature=function(I){const {geometry:L,attributes:Q}=I;return g.isNone(L)?{attributes:Q}:"mesh"===L.type||"extent"===L.type?null:{geometry:L.toJSON(),attributes:Q}};H._serializeAttachment=function(){var I=a._asyncToGenerator(function*(L){const {feature:Q,attachment:Z}=L,{globalId:ca,name:aa,contentType:O,data:fa,
uploadId:oa}=Z;L={globalId:ca,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};Q&&(L.parentGlobalId="attributes"in Q?Q.attributes&&Q.attributes[this.layer.globalIdField]:Q.globalId);if(oa)L.uploadId=oa;else if(fa){const Da=yield B(fa);L.contentType=Da.mediaType;L.data=Da.data;fa instanceof File&&(L.name=fa.name)}aa&&(L.name=aa);O&&(L.contentType=O);return L});return function(L){return I.apply(this,arguments)}}();H._getFeatureIds=function(I,L){const Q=I[0];return Q?this._canUseGlobalIds(L,
I)?this._getGlobalIdsFromFeatureIdentifier(I):"objectId"in Q?this._getObjectIdsFromFeatureIdentifier(I):this._getIdsFromFeatures(I):[]};H._getIdsFromFeatures=function(I){const L=this.layer.objectIdField;return I.map(Q=>Q.attributes&&Q.attributes[L])};H._canUseGlobalIds=function(I,L){return I&&"globalId"in L[0]};H._getObjectIdsFromFeatureIdentifier=function(I){return I.map(L=>L.objectId)};H._getGlobalIdsFromFeatureIdentifier=function(I){return I.map(L=>L.globalId)};H._createEditsResult=function(I){var L;
const Q=I.data,{layerId:Z}=this.layer;I=[];let ca=null;if(Array.isArray(Q))for(var aa of Q)I.push({id:aa.id,editedFeatures:aa.editedFeatures}),aa.id===Z&&(ca={addResults:aa.addResults,updateResults:aa.updateResults,deleteResults:aa.deleteResults,attachments:aa.attachments,editMoment:aa.editMoment});else ca=Q;aa=null==(L=ca)?void 0:L.attachments;L={addFeatureResults:ca.addResults?ca.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:ca.updateResults?ca.updateResults.map(this._createFeatureEditResult,
this):[],deleteFeatureResults:ca.deleteResults?ca.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:aa&&aa.addResults?aa.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:aa&&aa.updateResults?aa.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:aa&&aa.deleteResults?aa.deleteResults.map(this._createFeatureEditResult,this):[]};ca.editMoment&&(L.editMoment=ca.editMoment);if(0<I.length){L.editedFeatureResults=[];for(const O of I){const {adds:fa,
updates:oa,deletes:Da,spatialReference:Ha}=O.editedFeatures,ta=Ha?new C(Ha):null;L.editedFeatureResults.push({layerId:O.id,editedFeatures:{adds:(null==fa?void 0:fa.map(Y=>this._createEditedFeature(Y,ta)))||[],updates:(null==oa?void 0:oa.map(Y=>({original:this._createEditedFeature(Y[0],ta),current:this._createEditedFeature(Y[1],ta)})))||[],deletes:(null==Da?void 0:Da.map(Y=>this._createEditedFeature(Y,ta)))||[],spatialReference:ta}})}}return L};H._createEditedFeature=function(I,L){return new e({attributes:I.attributes,
geometry:D.fromJSON({...I.geometry,spatialReference:L})})};H._createFeatureEditResult=function(I){const L=!0===I.success?null:I.error||{code:void 0,description:void 0};return{objectId:I.objectId,globalId:I.globalId,error:L?new r("feature-layer-source:edit-failure",L.description,{code:L.code}):null}};H._createAttachmentErrorResult=function(I,L){return{objectId:I,globalId:null,error:new r("feature-layer-source:attachment-failure",L.details.messages&&L.details.messages[0]||L.message,{code:L.details.httpStatus||
L.details.messageCode})}};H._getFormDataForAttachment=function(I,L){if(I=I instanceof FormData?I:I&&I.elements?new FormData(I):null)for(const Q in L){const Z=L[Q];null!=Z&&(I.set?I.set(Q,Z):I.append(Q,Z))}return I};H._getLayerRequestOptions=function(I={}){const {parsedUrl:L,gdbVersion:Q,dynamicDataSource:Z}=this.layer;return{...I,query:{gdbVersion:Q,layer:Z?JSON.stringify({source:Z}):void 0,...L.query,f:"json",...this._createRequestQueryOptions(I)},responseType:"json"}};a._createClass(F,[{key:"queryTask",
get:function(){const {capabilities:{query:{supportsFormatPBF:I}},parsedUrl:L,dynamicDataSource:Q,infoFor3D:Z,gdbVersion:ca,spatialReference:aa,fieldsIndex:O}=this.layer,fa=u("featurelayer-pbf")&&I&&g.isNone(Z)?"pbf":"json";return new y({url:L.path,format:fa,fieldsIndex:O,infoFor3D:Z,dynamicDataSource:Q,gdbVersion:ca,sourceSpatialReference:aa})}}]);return F}(k);b.__decorate([t.property()],c.prototype,"type",void 0);b.__decorate([t.property({constructOnly:!0})],c.prototype,"layer",void 0);b.__decorate([t.property({readOnly:!0})],
c.prototype,"queryTask",null);return c=b.__decorate([v.subclass("esri.layers.graphics.sources.FeatureLayerSource")],c)})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,c,e,d){const p=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let r=1;a.createCapabilities=function(u,n){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,
supportsAttachment:!1,supportsM:!1,supportsZ:u},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:n,supportsDelete:n,supportsEditing:n,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:n,supportsExceedsLimitStatistics:!0},query:e.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,
supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:n,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}};a.createDefaultAttributesFunction=function(u,n){if(b("esri-csp-restrictions"))return()=>({[n]:null,...u});try{let k=
`this.${n} = null;`;for(const l in u){const q=p.test(l)?`.${l}`:`["${l}"]`;k+=`this${q} = ${JSON.stringify(u[l])};`}const g=(new Function(`\n      return class AttributesClass$${r++} {\n        constructor() {\n          ${k};\n        }\n      }\n    `))();return()=>new g}catch(k){return()=>({[n]:null,...u})}};a.createDefaultTemplate=function(u={}){return[{name:"New Feature",description:"",prototype:{attributes:c.clone(u)}}]};a.createDrawingInfo=function(u){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===
u||"esriGeometryMultipoint"===u?d.defaultPointSymbolJSON:"esriGeometryPolyline"===u?d.defaultPolylineSymbolJSON:d.defaultPolygonSymbolJSON}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,
convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,
supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Error ../../../../core/has ../../../../core/maybe ../../../../core/promiseUtils ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass ../../../support/source/DataLayerSource ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query ../../../../rest/query/executeAttachmentQuery ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeRelationshipQuery ../../../../rest/query/executeTopFeaturesQuery ../../../../rest/query/executeForTopIds ../../../../rest/query/executeForTopExtents ../../../../rest/query/executeForTopCount ../../../../rest/support/RelationshipQuery ../../../../tasks/Task".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E){n=function(G){function J(F){F=G.call(this,F)||this;F.dynamicDataSource=null;F.fieldsIndex=null;F.format="json";F.gdbVersion=null;F.infoFor3D=null;F.sourceSpatialReference=null;return F}b._inheritsLoose(J,G);var K=J.prototype;K.execute=function(F,H){return this.executeJSON(F,H).then(I=>this.featureSetFromJSON(F,I,H))};K.executeJSON=function(){var F=b._asyncToGenerator(function*(H,I){var L;I={...this.requestOptions,...I};const Q=this._normalizeQuery(H);
H=null!=(null==(L=H.outStatistics)?void 0:L[0]);L=d("featurelayer-pbf-statistics");L=!H||L;let Z;if("pbf"===this.format&&L)try{Z=yield m.executeRawQueryPBF(this.url,Q,I)}catch(ca){if("query:parsing-pbf"===ca.name)this.format="json";else throw ca;}"json"!==this.format&&L||(Z=yield q.executeRawQueryJSON(this.url,Q,I));this._normalizeFields(Z.fields);return Z});return function(H,I){return F.apply(this,arguments)}}();K.featureSetFromJSON=function(){var F=b._asyncToGenerator(function*(H,I,L){if(!this._queryIs3DObjectFormat(H)||
p.isNone(this.infoFor3D)||!I.features||!I.features.length)return t.fromJSON(I);({meshFeatureSetFromJSON:L}=yield r.whenOrAbort(new Promise((Q,Z)=>a(["../../../../rest/support/meshFeatureSet"],Q,Z)),L));return L(H,this.infoFor3D,I)});return function(H,I,L){return F.apply(this,arguments)}}();K.executeForCount=function(F,H){H={...this.requestOptions,...H};F=this._normalizeQuery(F);return v.executeForCount(this.url,F,H)};K.executeForExtent=function(F,H){H={...this.requestOptions,...H};F=this._normalizeQuery(F);
return w.executeForExtent(this.url,F,H)};K.executeForIds=function(F,H){H={...this.requestOptions,...H};F=this._normalizeQuery(F);return D.executeForIds(this.url,F,H)};K.executeRelationshipQuery=function(F,H){F=B.from(F);H={...this.requestOptions,...H};if(this.gdbVersion||this.dynamicDataSource)F=F.clone(),F.gdbVersion=F.gdbVersion||this.gdbVersion,F.dynamicDataSource=F.dynamicDataSource||this.dynamicDataSource;return x.executeRelationshipQuery(this.url,F,H)};K.executeRelationshipQueryForCount=function(F,
H){F=B.from(F);H={...this.requestOptions,...H};if(this.gdbVersion||this.dynamicDataSource)F=F.clone(),F.gdbVersion=F.gdbVersion||this.gdbVersion,F.dynamicDataSource=F.dynamicDataSource||this.dynamicDataSource;return x.executeRelationshipQueryForCount(this.url,F,H)};K.executeAttachmentQuery=function(F,H){return h.executeAttachmentQuery(this.url,F,{...this.requestOptions,...H})};K.executeTopFeaturesQuery=function(F,H){return y.executeTopFeaturesQuery(this.parsedUrl,F,this.sourceSpatialReference,{...this.requestOptions,
...H})};K.executeForTopIds=function(F,H){return z.executeForTopIds(this.parsedUrl,F,{...this.requestOptions,...H})};K.executeForTopExtents=function(F,H){return A.executeForTopExtents(this.parsedUrl,F,{...this.requestOptions,...H})};K.executeForTopCount=function(F,H){return C.executeForTopCount(this.parsedUrl,F,{...this.requestOptions,...H})};K._normalizeQuery=function(F){let H=f.from(F);H.sourceSpatialReference=H.sourceSpatialReference||this.sourceSpatialReference;if(this.gdbVersion||this.dynamicDataSource)H=
H===F?H.clone():H,H.gdbVersion=F.gdbVersion||this.gdbVersion,H.dynamicDataSource=F.dynamicDataSource?l.DataLayerSource.from(F.dynamicDataSource):this.dynamicDataSource;if(p.isSome(this.infoFor3D)&&this._queryIs3DObjectFormat(F)){H=H===F?H.clone():H;H.formatOf3DObjects=null;for(const I of this.infoFor3D.queryFormats){if("3D_glb"===I.id){H.formatOf3DObjects=I.id;break}"3D_gltf"!==I.id||H.formatOf3DObjects||(H.formatOf3DObjects=I.id)}if(!H.formatOf3DObjects)throw new e("query:unsupported-3d-query-formats",
"Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(p.isNone(H.outFields)||!H.outFields.includes("*")){H=H===F?H.clone():H;p.isNone(H.outFields)&&(H.outFields=[]);const {originX:I,originY:L,originZ:Q,translationX:Z,translationY:ca,translationZ:aa,scaleX:O,scaleY:fa,scaleZ:oa,rotationX:Da,rotationY:Ha,rotationZ:ta,rotationDeg:Y}=this.infoFor3D.transformFieldRoles;H.outFields.push(I,L,Q,Z,ca,aa,O,fa,oa,Da,Ha,ta,Y)}}return H};K._normalizeFields=function(F){if(p.isSome(this.fieldsIndex)&&
p.isSome(F))for(const H of F)(F=this.fieldsIndex.get(H.name))&&Object.assign(H,F.toJSON())};K._queryIs3DObjectFormat=function(F){return p.isSome(this.infoFor3D)&&F.returnGeometry&&"xyFootprint"!==F.multipatchOption&&!F.outStatistics};return J}(E);c.__decorate([u.property({type:l.DataLayerSource})],n.prototype,"dynamicDataSource",void 0);c.__decorate([u.property()],n.prototype,"fieldsIndex",void 0);c.__decorate([u.property()],n.prototype,"format",void 0);c.__decorate([u.property()],n.prototype,"gdbVersion",
void 0);c.__decorate([u.property()],n.prototype,"infoFor3D",void 0);c.__decorate([u.property()],n.prototype,"sourceSpatialReference",void 0);return n=c.__decorate([g.subclass("esri.tasks.QueryTask")],n)})},"esri/rest/query/executeQueryJSON":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,e,d,p){function r(){r=b._asyncToGenerator(function*(k,g,l){k=yield u(k,g,l);return d.fromJSON(k)});return r.apply(this,
arguments)}function u(k,g,l){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(k,g,l){k=c.parseUrl(k);l={...l};g=p.from(g);({data:g}=yield e.executeQuery(k,g,g.sourceSpatialReference,l));return g});return n.apply(this,arguments)}a.executeQueryJSON=function(k,g,l){return r.apply(this,arguments)};a.executeRawQueryJSON=u;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/utils":function(){define(["exports","../core/lang","../core/urlUtils"],
function(a,b,c){function e(d,p,r){const u={};for(const k in d)if("declaredClass"!==k){var n=d[k];if(null!=n&&"function"!==typeof n)if(Array.isArray(n)){u[k]=[];for(let g=0;g<n.length;g++)u[k][g]=e(n[g])}else"object"===typeof n?n.toJSON?(n=n.toJSON(r&&r[k]),u[k]=p?n:JSON.stringify(n)):u[k]=p?n:JSON.stringify(n):u[k]=n}return u}a.asValidOptions=function(d,p){return p?{...p,query:{...d,...p.query}}:{query:d}};a.encode=e;a.parseUrl=function(d){return"string"===typeof d?c.urlToObject(d):b.clone(d)};Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/query":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),function(a,b,c,e,d,p,r,u,n,k){function g(h,v){if(v&&"extent"===h.type)return`${h.xmin},${h.ymin},${h.xmax},${h.ymax}`;if(v&&"point"===
h.type)return`${h.x},${h.y}`;h=h.toJSON();delete h.spatialReference;return JSON.stringify(h)}function l(h,v){const w=h.geometry,D=h.toJSON();delete D.compactGeometryEnabled;delete D.defaultSpatialReferenceEnabled;let x,y,z;e.isSome(w)&&(y=w.spatialReference,z=w.spatialReference.wkid||JSON.stringify(w.spatialReference),D.geometryType=p.getJsonType(w),D.geometry=g(w,h.compactGeometryEnabled),D.inSR=z);D.groupByFieldsForStatistics&&(D.groupByFieldsForStatistics=D.groupByFieldsForStatistics.join(","));
D.objectIds&&(D.objectIds=D.objectIds.join(","));D.orderByFields&&(D.orderByFields=D.orderByFields.join(","));!D.outFields||!D.returnDistinctValues&&(null!=v&&v.returnCountOnly||null!=v&&v.returnExtentOnly||null!=v&&v.returnIdsOnly)?delete D.outFields:D.outFields.includes("*")?D.outFields="*":D.outFields=D.outFields.join(",");D.outSR?(D.outSR=D.outSR.wkid||JSON.stringify(D.outSR),x=h.outSpatialReference):w&&(D.returnGeometry||D.returnCentroid)&&(D.outSR=D.inSR,x=y);D.returnGeometry&&delete D.returnGeometry;
D.outStatistics&&(D.outStatistics=JSON.stringify(D.outStatistics));D.pixelSize&&(D.pixelSize=JSON.stringify(D.pixelSize));D.quantizationParameters&&(h.defaultSpatialReferenceEnabled&&e.isSome(y)&&e.isSome(h.quantizationParameters)&&e.isSome(h.quantizationParameters.extent)&&y.equals(h.quantizationParameters.extent.spatialReference)&&delete D.quantizationParameters.extent.spatialReference,D.quantizationParameters=JSON.stringify(D.quantizationParameters));D.parameterValues&&(D.parameterValues=JSON.stringify(D.parameterValues));
D.rangeValues&&(D.rangeValues=JSON.stringify(D.rangeValues));D.dynamicDataSource&&(D.layer=JSON.stringify({source:D.dynamicDataSource}),delete D.dynamicDataSource);if(D.timeExtent){const {start:A,end:C}=D.timeExtent;if(null!=A||null!=C)D.time=A===C?A:`${null==A?"null":A},${null==C?"null":C}`;delete D.timeExtent}h.defaultSpatialReferenceEnabled&&e.isSome(y)&&e.isSome(x)&&y.equals(x)&&(D.defaultSR=D.inSR,delete D.inSR,delete D.outSR);return D}function q(){q=b._asyncToGenerator(function*(h,v,w,D){h=
e.isSome(v.timeExtent)&&v.timeExtent.isEmpty?{data:{features:[]}}:yield f(h,v,"json",D);k.applyFeatureSetZUnitScaling(v,w,h.data);return h});return q.apply(this,arguments)}function m(){m=b._asyncToGenerator(function*(h,v,w,D){if(e.isSome(v.timeExtent)&&v.timeExtent.isEmpty)return{data:w.createFeatureResult()};h=yield t(h,v,D);h.data=n.parsePBFFeatureQuery(h.data,w);return h});return m.apply(this,arguments)}function t(h,v,w){return f(h,v,"pbf",w)}function f(h,v,w,D={},x={}){const y="string"===typeof h?
d.urlToObject(h):h;h=v.geometry?[v.geometry]:[];D.responseType="pbf"===w?"array-buffer":"json";return r.normalizeCentralMeridian(h,null,D).then(z=>{z=z&&z[0];e.isSome(z)&&(v=v.clone(),v.geometry=z);z=u.mapParameters({...y.query,f:w,...x,...l(v,x)});return c(d.join(y.path,"query"),{...D,query:{...z,...D.query}})})}a.encodeGeometry=g;a.executeQuery=function(h,v,w,D){return q.apply(this,arguments)};a.executeQueryForCount=function(h,v,w){return e.isSome(v.timeExtent)&&v.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):
f(h,v,"json",w,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=function(h,v,w){return e.isSome(v.timeExtent)&&v.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):f(h,v,"json",w,{returnExtentOnly:!0,returnCountOnly:!0}).then(D=>{const x=D.data;if(x.hasOwnProperty("extent"))return D;if(x.features)throw Error("Layer does not support extent calculation.");if(x.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return D})};a.executeQueryForIds=
function(h,v,w){return e.isSome(v.timeExtent)&&v.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):f(h,v,"json",w,{returnIdsOnly:!0})};a.executeQueryPBF=function(h,v,w,D){return m.apply(this,arguments)};a.executeQueryPBFBuffer=t;a.queryToQueryStringParameters=l;a.runQuery=f;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometry/cut ../../rest/geometry/simplify".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){function m(y){const z=[];let A=0,C=0;for(let B=0;B<y.length;B++){const E=y[B];let G=null;for(let J=0;J<E.length;J++)G=E[J],z.push(G),0===J?C=A=G[0]:(A=Math.min(A,G[0]),C=Math.max(C,G[0]));G&&z.push([(A+C)/2,0])}return z}function t(y,z){if(!(y instanceof u||y instanceof r))throw x.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new e("straightLineDensify: the input geometry is neither polyline nor polygon");var A=n.getGeometryParts(y);
const C=[];for(const E of A){A=[];C.push(A);A.push([E[0][0],E[0][1]]);for(let G=0;G<E.length-1;G++){const J=E[G][0],K=E[G][1],F=E[G+1][0],H=E[G+1][1];var B=Math.sqrt((F-J)*(F-J)+(H-K)*(H-K));const I=(H-K)/B,L=(F-J)/B,Q=B/z;if(1<Q){for(let Z=1;Z<=Q-1;Z++){const ca=Z*z;A.push([L*ca+J,I*ca+K])}B=(B+Math.floor(Q-1)*z)/2;A.push([L*B+J,I*B+K])}A.push([F,H])}}return"polygon"===y.type?new r({rings:C,spatialReference:y.spatialReference}):new u({paths:C,spatialReference:y.spatialReference})}function f(y,z,
A){z&&(y=t(y,1E6),y=g.webMercatorToGeographic(y,!0));A&&(y=n.updatePolyGeometry(y,A));return y}function h(y,z,A){if(Array.isArray(y)){var C=y[0];C>z?(A=n.offsetMagnitude(C,z),y[0]=C+-2*A*z):C<A&&(z=n.offsetMagnitude(C,A),y[0]=C+-2*z*A)}else C=y.x,C>z?(A=n.offsetMagnitude(C,z),y=y.clone().offset(-2*A*z,0)):C<A&&(z=n.offsetMagnitude(C,A),y=y.clone().offset(-2*z*A,0));return y}function v(y,z){let A=-1;for(let C=0;C<z.cutIndexes.length;C++){const B=z.cutIndexes[C],E=z.geometries[C],G=n.getGeometryParts(E);
for(let J=0;J<G.length;J++){const K=G[J];K.some(F=>{if(180>F[0])return!0;F=0;for(var H=0;H<K.length;H++){var I=K[H][0];F=I>F?I:F}F=Number(F.toFixed(9));F=-360*n.offsetMagnitude(F,180);for(H=0;H<K.length;H++)I=E.getPoint(J,H),E.setPoint(J,H,I.clone().offset(F,0));return!0})}if(B===A)if("polygon"===y[0].type)for(const J of n.getGeometryParts(E))y[B]=y[B].addRing(J);else{if("polyline"===y[0].type)for(const J of n.getGeometryParts(E))y[B]=y[B].addPath(J)}else A=B,y[B]=E}return y}function w(y,z,A){return D.apply(this,
arguments)}function D(){D=b._asyncToGenerator(function*(y,z,A){var C;if(!Array.isArray(y))return w([y],z);z&&"string"!==typeof z&&x.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");z="string"===typeof z?z:null!=(C=null==z?void 0:z.url)?C:c.geometryServiceUrl;let B,E,G;let J=0;var K=[];C=[];for(var F of y)if(p.isNone(F))C.push(F);else{if(!H){var H=F.spatialReference;var I=k.getInfo(H);var L=(B=H.isWebMercator)?102100:4326;E=n.cutParams[L].maxX;G=n.cutParams[L].minX;
var Q=n.cutParams[L].plus180Line;L=n.cutParams[L].minus180Line}if(I)if("mesh"===F.type)C.push(F);else if("point"===F.type)C.push(h(F.clone(),E,G));else if("multipoint"===F.type){var Z=F.clone();Z.points=Z.points.map(ca=>h(ca,E,G));C.push(Z)}else if("extent"===F.type)Z=F.clone()._normalize(!1,!1,I),C.push(Z.rings?new r(Z):Z);else if(F.extent){Z=F.extent;const ca=2*n.offsetMagnitude(Z.xmin,G)*E;let aa=0===ca?F.clone():n.updatePolyGeometry(F.clone(),ca);Z.offset(ca,0);Z.intersects(Q)&&Z.xmax!==E?(J=
Z.xmax>J?Z.xmax:J,aa=f(aa,B),K.push(aa),C.push("cut")):Z.intersects(L)&&Z.xmin!==G?(J=2*Z.xmax*E>J?2*Z.xmax*E:J,aa=f(aa,B,360),K.push(aa),C.push("cut")):C.push(aa)}else C.push(F.clone());else C.push(F)}H=n.offsetMagnitude(J,E);I=-90;Q=H;for(F=new u;0<H;)L=-180+360*H,F.addPath([[L,I],[L,-1*I]]),I*=-1,H--;if(0<K.length&&0<Q){H=yield l.cut(z,K,F,A);H=v(K,H);I=[];K=[];for(Q=0;Q<C.length;Q++)F=C[Q],"cut"!==F?K.push(F):(F=H.shift(),L=y[Q],p.isSome(L)&&"polygon"===L.type&&L.rings&&1<L.rings.length&&F.rings.length>=
L.rings.length?(I.push(F),K.push("simplify")):K.push(B?g.geographicToWebMercator(F):F));if(!I.length)return K;C=yield q.simplify(z,I,A);y=[];for(A=0;A<K.length;A++)z=K[A],"simplify"!==z?y.push(z):y.push(B?g.geographicToWebMercator(C.shift()):C.shift());return y}y=[];for(A=0;A<C.length;A++)z=C[A],"cut"!==z?y.push(z):(z=K.shift(),y.push(!0===B?g.geographicToWebMercator(z):z));return y});return D.apply(this,arguments)}const x=d.getLogger("esri.geometry.support.normalizeUtils");a.getDenormalizedExtent=
function(y){if(!y)return null;const z=y.extent;if(!z)return null;var A=y.spatialReference&&k.getInfo(y.spatialReference);if(!A)return z;const [C,B]=A.valid;({width:A}=z);let {xmin:E,xmax:G}=z;[E,G]=[G,E];if("extent"===y.type||0===A||A<=B||A>2*B||E<C||G>B)return z;let J;switch(y.type){case "polygon":if(1<y.rings.length)J=m(y.rings);else return z;break;case "polyline":if(1<y.paths.length)J=m(y.paths);else return z;break;case "multipoint":J=y.points}y=z.clone();for(let K=0;K<J.length;K++){let F=J[K][0];
0>F?(F+=B,G=Math.max(F,G)):(F-=B,E=Math.min(F,E))}y.xmin=E;y.xmax=G;return y.width<A?(y.xmin-=B,y.xmax-=B,y):z};a.normalizeCentralMeridian=w;a.normalizeMapX=function(y,z){if(z=k.getInfo(z)){const [A,C]=z.valid;z=C-A;if(y<A)for(;y<A;)y+=z;if(y>C)for(;y>C;)y-=z}return y};a.straightLineDensify=t;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],
function(a,b,c,e){function d(p){return e.isPolygon(p)?p.rings:p.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],
[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=b;a.getGeometryParts=d;a.offsetMagnitude=function(p,r){return Math.ceil((p-r)/(2*r))};a.updatePolyGeometry=function(p,r){const u=d(p);for(const n of u)for(const k of n)k[0]+=r;return p};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/geometry/cut":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),
function(a,b,c,e,d,p){function r(){r=b._asyncToGenerator(function*(u,n,k,g){u="string"===typeof u?d.urlToObject(u):u;const l=n[0].spatialReference;n={...g,query:{...u.query,f:"json",sr:JSON.stringify(l),target:JSON.stringify({geometryType:p.getJsonType(n[0]),geometries:n}),cutter:JSON.stringify(k)}};n=yield e(u.path+"/cut",n);const {cutIndexes:q,geometries:m=[]}=n.data;return{cutIndexes:q,geometries:m.map(t=>{t=p.fromJSON(t);t.spatialReference=l;return t})}});return r.apply(this,arguments)}a.cut=
function(u,n,k,g){return r.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/geometry/simplify":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../request","../../core/urlUtils","../../geometry/support/jsonUtils"],function(a,b,c,e,d){function p(){p=b._asyncToGenerator(function*(n,k,g){const l="string"===typeof n?e.urlToObject(n):n;n=k[0].spatialReference;const q=d.getJsonType(k[0]);k={...g,query:{...l.query,
f:"json",sr:n.wkid?n.wkid:JSON.stringify(n),geometries:JSON.stringify(r(k))}};k=yield c(l.path+"/simplify",k);return u(k.data,q,n)});return p.apply(this,arguments)}function r(n){return{geometryType:d.getJsonType(n[0]),geometries:n.map(k=>k.toJSON())}}function u(n,k,g){const l=d.getGeometryType(k);return n.map(q=>{q=l.fromJSON(q);q.spatialReference=g;return q})}a.simplify=function(n,k,g){return p.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(c){const e={};for(const d in c){if("declaredClass"===d)continue;const p=c[d];if(null!=p&&"function"!==typeof p)if(Array.isArray(p)){e[d]=[];for(let r=0;r<p.length;r++)e[d][r]=b(p[r])}else"object"===typeof p?p.toJSON&&(e[d]=JSON.stringify(p)):e[d]=p}return e}a.mapParameters=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports",
"./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(c,e){var d=b.parseFeatureQuery(c,e);c=d.queryResult.featureResult;e=d.queryResult.queryGeometry;d=d.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const p=c.objectIdFieldName;for(const r of c.features)r.attributes&&(r.objectId=r.attributes[p])}c&&(c.queryGeometry=e,c.queryGeometryType=d);return c};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),function(a,b,c,e,d,p){function r(C){return C>=y.length?null:y[C]}function u(C,B,E){for(E=B.createPointGeometry(E);C.next();)switch(C.tag()){case 3:{var G=C.getUInt32();G=C.pos()+G;let J=0;for(;C.pos()<G;)B.addCoordinatePoint(E,C.getSInt64(),J++);break}default:C.skip()}return E}function n(C,
B,E){const G=B.createGeometry(E);for(E=2+(E.hasZ?1:0)+(E.hasM?1:0);C.next();)switch(C.tag()){case 2:var J=C.getUInt32();J=C.pos()+J;for(var K=0;C.pos()<J;)B.addLength(G,C.getUInt32(),K++);break;case 3:J=C.getUInt32();J=C.pos()+J;K=0;for(B.allocateCoordinates(G);C.pos()<J;)B.addCoordinate(G,C.getSInt64(),K),K++,K===E&&(K=0);break;default:C.skip()}return G}function k(C){const B=new d;let E="esriGeometryPoint";for(;C.next();)switch(C.tag()){case 2:var G=C.getUInt32();for(G=C.pos()+G;C.pos()<G;)B.lengths.push(C.getUInt32());
break;case 3:G=C.getUInt32();for(G=C.pos()+G;C.pos()<G;)B.coords.push(C.getSInt64());break;case 1:E=p.OPTIMIZED_GEOMETRY_TYPES[C.getEnum()];break;default:C.skip()}return{queryGeometry:B,queryGeometryType:E}}function g(C){for(;C.next();)switch(C.tag()){case 1:return C.getString();case 2:return C.getFloat();case 3:return C.getDouble();case 4:return C.getSInt32();case 5:return C.getUInt32();case 6:return C.getInt64();case 7:return C.getUInt64();case 8:return C.getSInt64();case 9:return C.getBool();default:return C.skip(),
null}return null}function l(C){const B={type:r(0)};for(;C.next();)switch(C.tag()){case 1:B.name=C.getString();break;case 2:B.type=r(C.getEnum());break;case 3:B.alias=C.getString();break;case 4:var E=C.getEnum();E=E>=z.length?null:z[E];B.sqlType=E;break;case 5:C.skip();break;case 6:B.defaultValue=C.getString();break;default:C.skip()}return B}function q(C){const B={};for(;C.next();)switch(C.tag()){case 1:B.name=C.getString();break;case 2:B.isSystemMaintained=C.getBool();break;default:C.skip()}return B}
function m(C,B,E,G){const J=B.createFeature(E);let K=0;for(;C.next();)switch(C.tag()){case 1:{const F=G[K++].name;J.attributes[F]=C.processMessage(g);break}case 2:J.geometry=C.processMessageWithArgs(n,B,E);break;case 4:J.centroid=C.processMessageWithArgs(u,B,E);break;default:C.skip()}return J}function t(C){const B=[1,1,1,1];for(;C.next();)switch(C.tag()){case 1:B[0]=C.getDouble();break;case 2:B[1]=C.getDouble();break;case 4:B[2]=C.getDouble();break;case 3:B[3]=C.getDouble();break;default:C.skip()}return B}
function f(C){const B=[0,0,0,0];for(;C.next();)switch(C.tag()){case 1:B[0]=C.getDouble();break;case 2:B[1]=C.getDouble();break;case 4:B[2]=C.getDouble();break;case 3:B[3]=C.getDouble();break;default:C.skip()}return B}function h(C){const B={originPosition:0>=A.length?null:A[0]};for(;C.next();)switch(C.tag()){case 1:var E=C.getEnum();B.originPosition=E>=A.length?null:A[E];break;case 2:B.scale=C.processMessage(t);break;case 3:B.translate=C.processMessage(f);break;default:C.skip()}return B}function v(C){const B=
{};for(;C.next();)switch(C.tag()){case 1:B.shapeAreaFieldName=C.getString();break;case 2:B.shapeLengthFieldName=C.getString();break;case 3:B.units=C.getString();break;default:C.skip()}return B}function w(C,B){for(B=B.createSpatialReference();C.next();)switch(C.tag()){case 1:B.wkid=C.getUInt32();break;case 5:B.wkt=C.getString();break;case 2:B.latestWkid=C.getUInt32();break;case 3:B.vcsWkid=C.getUInt32();break;case 4:B.latestVcsWkid=C.getUInt32();break;default:C.skip()}return B}function D(C,B){const E=
B.createFeatureResult();E.geometryType=0>=B.geometryTypes.length?null:B.geometryTypes[0];let G=!1;for(;C.next();)switch(C.tag()){case 1:E.objectIdFieldName=C.getString();break;case 3:E.globalIdFieldName=C.getString();break;case 4:E.geohashFieldName=C.getString();break;case 5:E.geometryProperties=C.processMessage(v);break;case 7:var J=C.getEnum();E.geometryType=J>=B.geometryTypes.length?null:B.geometryTypes[J];break;case 8:E.spatialReference=C.processMessageWithArgs(w,B);break;case 10:E.hasZ=C.getBool();
break;case 11:E.hasM=C.getBool();break;case 12:E.transform=C.processMessage(h);break;case 9:J=C.getBool();E.exceededTransferLimit=J;break;case 13:B.addField(E,C.processMessage(l));break;case 15:G||(B.prepareFeatures(E),G=!0);B.addFeature(E,C.processMessageWithArgs(m,B,E,E.fields));break;case 2:E.uniqueIdField=C.processMessage(q);break;default:C.skip()}B.finishFeatureResult(E);return E}function x(C,B){const E={};let G=null;for(;C.next();)switch(C.tag()){case 4:G=C.processMessageWithArgs(k);break;case 1:E.featureResult=
C.processMessageWithArgs(D,B);break;default:C.skip()}c.isSome(G)&&E.featureResult&&B.addQueryGeometry(E,G);return E}const y="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),z="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
A=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(C,B){try{const E=new e(new Uint8Array(C),new DataView(C));for(C={};E.next();)switch(E.tag()){case 2:C.queryResult=E.processMessageWithArgs(x,B);break;default:E.skip()}return C}catch(E){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:E});}};a.parseFieldType=r;a.parseTransform=h;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/pbf":function(){define(["./has",
"./ObjectPool"],function(a,b){var c;(function(p){p[p.varint=0]="varint";p[p.fixed64=1]="fixed64";p[p.delimited=2]="delimited";p[p.fixed32=5]="fixed32";p[p.unknown=99]="unknown"})(c||(c={}));const e=new TextDecoder("utf-8"),d=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function p(u,n,k=0,g=u?u.byteLength:0){this._tag=0;this._dataType=c.unknown;this._init(u,n,k,g)}var r=p.prototype;r._init=function(u,n,k,g){this._data=u;this._dataView=n;this._pos=k;this._end=g};r.clone=function(){return new p(this._data,
this._dataView,this._pos,this._end)};r.pos=function(){return this._pos};r.move=function(u){this._pos=u};r.nextTag=function(u){for(;;){if(this._pos===this._end)return!1;const n=this._decodeVarint();this._tag=n>>3;this._dataType=n&7;if(!u||u===this._tag)break;this.skip()}return!0};r.next=function(){if(this._pos===this._end)return!1;const u=this._decodeVarint();this._tag=u>>3;this._dataType=u&7;return!0};r.empty=function(){return this._pos>=this._end};r.tag=function(){return this._tag};r.getInt32=function(){return this._decodeVarint()};
r.getInt64=function(){return this._decodeVarint()};r.getUInt32=function(){let u=4294967295;u=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return u;u=(u|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return u;u=(u|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return u;u=(u|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return u;u=(u|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return u};r.getUInt64=
function(){return this._decodeVarint()};r.getSInt32=function(){const u=this.getUInt32();return u>>>1^-(u&1)|0};r.getSInt64=function(){return this._decodeSVarint()};r.getBool=function(){const u=0!==this._data[this._pos];this._skip(1);return u};r.getEnum=function(){return this._decodeVarint()};r.getFixed64=function(){var u=this._dataView;const n=this._pos;u=u.getUint32(n,!0)+4294967296*u.getUint32(n+4,!0);this._skip(8);return u};r.getSFixed64=function(){var u=this._dataView;const n=this._pos;u=u.getUint32(n,
!0)+4294967296*u.getInt32(n+4,!0);this._skip(8);return u};r.getDouble=function(){const u=this._dataView.getFloat64(this._pos,!0);this._skip(8);return u};r.getFixed32=function(){const u=this._dataView.getUint32(this._pos,!0);this._skip(4);return u};r.getSFixed32=function(){const u=this._dataView.getInt32(this._pos,!0);this._skip(4);return u};r.getFloat=function(){const u=this._dataView.getFloat32(this._pos,!0);this._skip(4);return u};r.getString=function(){const u=this._getLength();var n=this._pos;
n=this._toString(this._data,n,n+u);this._skip(u);return n};r.getBytes=function(){const u=this._getLength();var n=this._pos;n=this._toBytes(this._data,n,n+u);this._skip(u);return n};r.getLength=function(){return this._getLengthUnsafe()};r.processMessageWithArgs=function(u,n,k,g){const l=this.getMessage();u=u(l,n,k,g);l.release();return u};r.processMessage=function(u){const n=this.getMessage();u=u(n);n.release();return u};r.getMessage=function(){const u=this._getLength(),n=p.pool.acquire();n._init(this._data,
this._dataView,this._pos,this._pos+u);this._skip(u);return n};r.release=function(){p.pool.release(this)};r.dataType=function(){return this._dataType};r.skip=function(){switch(this._dataType){case c.varint:this._decodeVarint();break;case c.fixed64:this._skip(8);break;case c.delimited:this._skip(this._getLength());break;case c.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}};r.skipLen=function(u){this._skip(u)};r._skip=function(u){if(this._pos+u>this._end)throw Error("Attempt to skip past the end of buffer!");
this._pos+=u};r._decodeVarint=function(){const u=this._data;let n=this._pos,k=0,g;if(10<=this._end-n){if(g=u[n++],k|=g&127,0!==(g&128)&&(g=u[n++],k|=(g&127)<<7,0!==(g&128)&&(g=u[n++],k|=(g&127)<<14,0!==(g&128)&&(g=u[n++],k|=(g&127)<<21,0!==(g&128)&&(g=u[n++],k+=268435456*(g&127),0!==(g&128)&&(g=u[n++],k+=34359738368*(g&127),0!==(g&128)&&(g=u[n++],k+=4398046511104*(g&127),0!==(g&128)&&(g=u[n++],k+=562949953421312*(g&127),0!==(g&128)&&(g=u[n++],k+=72057594037927936*(g&127),0!==(g&128)&&(g=u[n++],k+=
0x7fffffffffffffff*(g&127),0!==(g&128)))))))))))throw Error("Varint too long!");}else{let l=1;for(;n!==this._end;){g=u[n];if(0===(g&128))break;++n;k+=(g&127)*l;l*=128}if(n===this._end)throw Error("Varint overrun!");++n;k+=g*l}this._pos=n;return k};r._decodeSVarint=function(){const u=this._decodeVarint();return u%2?-(u+1)/2:u/2};r._getLength=function(){if(this._dataType!==c.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()};r._getLengthUnsafe=function(){return this.getUInt32()};
r._toString=function(u,n,k){k=Math.min(this._end,k);if(k-n>d)return u=u.subarray(n,k),e.decode(u);let g="",l="";for(;n<k;++n){const q=u[n];q&128?l+="%"+q.toString(16):(g+=decodeURIComponent(l)+String.fromCharCode(q),l="")}l.length&&(g+=decodeURIComponent(l));return g};r._toBytes=function(u,n,k){k=Math.min(this._end,k);return new Uint8Array(u.buffer,n,k-n)};return p}();a.pool=new b(a,null,p=>{p._data=null;p._dataView=null});return a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(a){return function(){function b(e=[],d=[],p=!1){this.lengths=null!=e?e:[];this.coords=null!=d?d:[];this.hasIndeterminateRingOrder=p}b.fromRect=function(e){const [d,p,r,u]=e;e=r-d;const n=u-p;return new b([5],[d,p,e,0,0,n,-e,0,0,-n])};var c=b.prototype;c.forEachVertex=function(e){let d=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let p=0;p<this.lengths.length;p++){const r=this.lengths[p];for(let u=0;u<r;u++)e(this.coords[2*(u+d)],this.coords[2*(u+d)+1]);d+=r}};c.clone=function(e){return e?
(e.set(this.coords),new b(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new b(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};a._createClass(b,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((e,d)=>e+d)}}]);return b}()})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(a,b,c,e,d,p){const r=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let u=function(){function n(g){this.options=g;this.geometryTypes=r;this._vertexDimension=this._coordinatePtr=0}var k=n.prototype;k.createFeatureResult=function(){return new d};k.prepareFeatures=function(g){this._vertexDimension=2;g.hasZ&&this._vertexDimension++;g.hasM&&this._vertexDimension++};k.finishFeatureResult=function(g){if(g&&g.features&&g.hasZ&&this.options.sourceSpatialReference&&
g.spatialReference&&!c.equals(g.spatialReference,this.options.sourceSpatialReference)&&!g.spatialReference.vcsWkid){var l=b.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),q=b.getMetersPerVerticalUnitForSR(g.spatialReference);l/=q;if(1!==l)for(const m of g.features)if(e.hasGeometry(m))for(g=m.geometry.coords,q=2;q<g.length;q+=3)g[q]*=l}};k.addFeature=function(g,l){g.features.push(l)};k.createFeature=function(){return new e.OptimizedFeature};k.createSpatialReference=function(){return{wkid:0}};
k.createGeometry=function(){return new p};k.addField=function(g,l){g.fields.push(l)};k.allocateCoordinates=function(g){g.coords.length=g.lengths.reduce((l,q)=>l+q,0)*this._vertexDimension;this._coordinatePtr=0};k.addCoordinate=function(g,l){g.coords[this._coordinatePtr++]=l};k.addCoordinatePoint=function(g,l){g.coords.push(l)};k.addLength=function(g,l){g.lengths.push(l)};k.addQueryGeometry=function(g,l){g.queryGeometry=l.queryGeometry;g.queryGeometryType=l.queryGeometryType};k.createPointGeometry=
function(){return new p};return n}();a.OPTIMIZED_GEOMETRY_TYPES=r;a.OptimizedFeatureSetParserContext=u;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(a,b,c){let e=function(){function p(r=null,u={},n,k){this.geometry=r;this.attributes=u;this.centroid=n;this.objectId=k;this.geohashY=this.geohashX=this.displayId=0}p.prototype.weakClone=
function(){const r=new p(this.geometry,this.attributes,this.centroid,this.objectId);r.displayId=this.displayId;r.geohashX=this.geohashX;r.geohashY=this.geohashY;return r};return p}(),d=function(p){function r(){return p.apply(this,arguments)||this}b._inheritsLoose(r,p);return r}(e);a.OptimizedFeature=e;a.OptimizedFeatureWithGeometry=d;a.hasGeometry=function(p){return!(c.isNone(p.geometry)||!p.geometry.coords||!p.geometry.coords.length)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function a(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}a.prototype.weakClone=function(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;
b.globalIdFieldName=this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b};return a}()})},"esri/rest/query/executeQueryPBF":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),
function(a,b,c,e,d,p,r){function u(){u=b._asyncToGenerator(function*(g,l,q){g=yield n(g,r.from(l),q);return p.fromJSON(g)});return u.apply(this,arguments)}function n(g,l,q){return k.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(g,l,q){g=c.parseUrl(g);q={...q};l=r.from(l);({data:l}=yield d.executeQueryPBF(g,l,new e.JSONFeatureSetParserContext({sourceSpatialReference:l.sourceSpatialReference,applyTransform:!l.quantizationParameters}),q));return l});return k.apply(this,arguments)}
a.executeQueryPBF=function(g,l,q){return u.apply(this,arguments)};a.executeRawQueryPBF=n;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/compilerUtils","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,c,e,d){function p(m,t){return t}function r(m,t,f,h){switch(f){case 0:return g(m,t+h,0);case 1:return"lowerLeft"===
m.originPosition?g(m,t+h,1):l(m,t+h,1)}}function u(m,t,f,h){switch(f){case 2:return g(m,t,2);default:return r(m,t,f,h)}}function n(m,t,f,h){switch(f){case 2:return g(m,t,3);default:return r(m,t,f,h)}}function k(m,t,f,h){switch(f){case 3:return g(m,t,3);default:return u(m,t,f,h)}}function g({translate:m,scale:t},f,h){return m[h]+f*t[h]}function l({translate:m,scale:t},f,h){return m[h]-f*t[h]}let q=function(){function m(f){this.options=f;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint",
"esriGeometryPolyline","esriGeometryPolygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=p;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this._attributesConstructor=()=>{}}var t=m.prototype;t.createFeatureResult=function(){return{fields:[],features:[]}};t.finishFeatureResult=function(f){this.options.applyTransform&&(f.transform=null);this._attributesConstructor=()=>{};this.coordinateBuffer=
null;this.lengths.length=0;if(f.hasZ){var h=e.getGeometryZScaler(f.geometryType,this.options.sourceSpatialReference,f.spatialReference);if(!c.isNone(h))for(const v of f.features)h(v.geometry)}};t.createSpatialReference=function(){return{}};t.addField=function(f,h){f.fields.push(h);const v=f.fields.map(w=>w.name);this._attributesConstructor=function(){for(const w of v)this[w]=null}};t.addFeature=function(f,h){f.features.push(h)};t.prepareFeatures=function(f){this.transform=f.transform;this.options.applyTransform&&
f.transform&&(this.applyTransform=this._deriveApplyTransform(f));this.vertexDimension=2;f.hasZ&&this.vertexDimension++;f.hasM&&this.vertexDimension++;switch(f.geometryType){case "esriGeometryPoint":this.addCoordinate=(h,v,w)=>this.addCoordinatePoint(h,v,w);this.createGeometry=h=>this.createPointGeometry(h);break;case "esriGeometryPolygon":this.addCoordinate=(h,v,w)=>this._addCoordinatePolygon(h,v,w);this.createGeometry=h=>this._createPolygonGeometry(h);break;case "esriGeometryPolyline":this.addCoordinate=
(h,v,w)=>this._addCoordinatePolyline(h,v,w);this.createGeometry=h=>this._createPolylineGeometry(h);break;case "esriGeometryMultipoint":this.addCoordinate=(h,v,w)=>this._addCoordinateMultipoint(h,v,w);this.createGeometry=h=>this._createMultipointGeometry(h);break;default:b.neverReached(f.geometryType)}};t.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}};
t.allocateCoordinates=function(){};t.addLength=function(f,h,v){0===this.lengths.length&&(this.toAddInCurrentPath=h);this.lengths.push(h)};t.addQueryGeometry=function(f,h){const {queryGeometry:v,queryGeometryType:w}=h;h=d.unquantizeOptimizedGeometry(v.clone(),v,!1,!1,this.transform);h=d.convertToGeometry(h,w,!1,!1);f.queryGeometryType=w;f.queryGeometry={...h}};t.createPointGeometry=function(f){const h={x:0,y:0,spatialReference:f.spatialReference};f.hasZ&&(h.z=0);f.hasM&&(h.m=0);return h};t.addCoordinatePoint=
function(f,h,v){h=this.applyTransform(this.transform,h,v,0);switch(v){case 0:f.x=h;break;case 1:f.y=h;break;case 2:"z"in f?f.z=h:f.m=h;break;case 3:f.m=h}};t._transformPathLikeValue=function(f,h){let v=0;1>=h&&(v=this.previousCoordinate[h],this.previousCoordinate[h]+=f);return this.applyTransform(this.transform,f,h,v)};t._addCoordinatePolyline=function(f,h,v){this._dehydratedAddPointsCoordinate(f.paths,h,v)};t._addCoordinatePolygon=function(f,h,v){this._dehydratedAddPointsCoordinate(f.rings,h,v)};
t._addCoordinateMultipoint=function(f,h,v){0===v&&f.points.push([]);h=this._transformPathLikeValue(h,v);f.points[f.points.length-1].push(h)};t._createPolygonGeometry=function(f){return{rings:[[]],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}};t._createPolylineGeometry=function(f){return{paths:[[]],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}};t._createMultipointGeometry=function(f){return{points:[],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}};
t._dehydratedAddPointsCoordinate=function(f,h,v){0===v&&0===this.toAddInCurrentPath--&&(f.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);h=this._transformPathLikeValue(h,v);f=f[f.length-1];0===v&&(this.coordinateBufferPtr=0,this.coordinateBuffer=Array(this.vertexDimension),f.push(this.coordinateBuffer));this.coordinateBuffer[this.coordinateBufferPtr++]=h};t._deriveApplyTransform=function(f){const {hasZ:h,hasM:v}=
f;return h&&v?k:h?u:v?n:r};return m}();a.JSONFeatureSetParserContext=q;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(a,b,c,e,d,p,r,u){function n(S,X){return S?X?4:3:X?3:2}function k(S,X,ea,ha){if(S){if(ea)return X&&
ha?M:pa;if(X&&ha)return wa}else if(X&&ha)return pa;return Y}function g({scale:S,translate:X},ea){return Math.round((ea-X[0])/S[0])}function l({scale:S,translate:X},ea){return Math.round((X[1]-ea)/S[1])}function q({scale:S,translate:X},ea){return ea*S[0]+X[0]}function m({scale:S,translate:X},ea){return X[1]-ea*S[1]}function t(S){S=S.coords;return{x:S[0],y:S[1]}}function f(S,X){S.coords[0]=X.x;S.coords[1]=X.y;return S}function h(S){S=S.coords;return{x:S[0],y:S[1],z:S[2]}}function v(S,X){S.coords[0]=
X.x;S.coords[1]=X.y;S.coords[2]=X.z;return S}function w(S){S=S.coords;return{x:S[0],y:S[1],m:S[2]}}function D(S,X){S.coords[0]=X.x;S.coords[1]=X.y;S.coords[2]=X.m;return S}function x(S){S=S.coords;return{x:S[0],y:S[1],z:S[2],m:S[3]}}function y(S,X){S.coords[0]=X.x;S.coords[1]=X.y;S.coords[2]=X.z;S.coords[3]=X.m;return S}function z(S,X){return S&&X?y:S?v:X?D:f}function A(S,X,ea,ha,ra){ea=z(ea,ha);for(const na of X){const {geometry:N,attributes:U}=na;let P;N&&(P=ea(new u,N));S.push(new p.OptimizedFeature(P,
U,null,U[ra]))}return S}function C(S,X,ea,ha){for(const ra of X){const {geometry:na,attributes:N}=ra;let U;na&&(U=B(na,ea,ha));S.push({attributes:N,geometry:U})}return S}function B(S,X,ea){if(e.isNone(S))return null;const ha=n(X,ea),ra=[];for(let na=0;na<S.coords.length;na+=ha){const N=[];for(let U=0;U<ha;U++)N.push(S.coords[na+U]);ra.push(N)}return X?ea?{points:ra,hasZ:X,hasM:ea}:{points:ra,hasZ:X}:ea?{points:ra,hasM:ea}:{points:ra}}function E(S,X,ea,ha,ra){ea=n(ea,ha);for(const na of X){X=na.geometry;
ha=na.attributes;let N;X&&(N=G(new u,X,ea));S.push(new p.OptimizedFeature(N,ha,null,ha[ra]))}return S}function G(S,X,ea=n(X.hasZ,X.hasM)){S.lengths[0]=X.points.length;const ha=S.coords;let ra=0;for(const na of X.points)for(X=0;X<ea;X++)ha[ra++]=na[X];return S}function J(S,X,ea){if(!S)return null;const ha=n(X,ea),{coords:ra,lengths:na}=S;S=[];let N=0;for(const U of na){const P=[];for(let T=0;T<U;T++){const W=[];for(let ja=0;ja<ha;ja++)W.push(ra[N++]);P.push(W)}S.push(P)}return X?ea?{paths:S,hasZ:X,
hasM:ea}:{paths:S,hasZ:X}:ea?{paths:S,hasM:ea}:{paths:S}}function K(S,X,ea,ha,ra){ea=n(ea,ha);for(const na of X){X=na.geometry;ha=na.attributes;let N;X&&(N=F(new u,X,ea));S.push(new p.OptimizedFeature(N,ha,null,ha[ra]))}return S}function F(S,X,ea=n(X.hasZ,X.hasM)){const {lengths:ha,coords:ra}=S;let na=0;for(const N of X.paths){for(const U of N)for(X=0;X<ea;X++)ra[na++]=U[X];ha.push(N.length)}return S}function H(S,X,ea){if(!S)return null;const ha=n(X,ea),{coords:ra,lengths:na}=S;S=[];let N=0;for(const U of na){const P=
[];for(let T=0;T<U;T++){const W=[];for(let ja=0;ja<ha;ja++)W.push(ra[N++]);P.push(W)}S.push(P)}return X?ea?{rings:S,hasZ:X,hasM:ea}:{rings:S,hasZ:X}:ea?{rings:S,hasM:ea}:{rings:S}}function I(S,X,ea,ha,ra){for(const na of X){X=na.geometry;const N=na.centroid,U=na.attributes;let P;X&&(P=L(new u,X,ea,ha));e.isSome(N)?S.push(new p.OptimizedFeature(P,U,f(new u,N),U[ra])):S.push(new p.OptimizedFeature(P,U,null,U[ra]))}return S}function L(S,X,ea=X.hasZ,ha=X.hasM){Q(S,X.rings,ea,ha);return S}function Q(S,
X,ea,ha){ea=n(ea,ha);const {lengths:ra,coords:na}=S;ha=0;ra.length=na.length=0;for(const N of X){for(const U of N)for(X=0;X<ea;X++)na[ha++]=U[X];ra.push(N.length)}return S}function Z(S,X,ea,ha,ra,na){S.length=0;if(!ea){for(const N of X)S.push(new p.OptimizedFeature(null,N.attributes,null,N.attributes[na]));return S}switch(ea){case "esriGeometryPoint":return A(S,X,ha,ra,na);case "esriGeometryMultipoint":return E(S,X,ha,ra,na);case "esriGeometryPolyline":return K(S,X,ha,ra,na);case "esriGeometryPolygon":return I(S,
X,ha,ra,na);default:Ha.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ea}'`)),S.length=0}return S}function ca(S,X,ea,ha){S=S&&("coords"in S?S:S.geometry);if(e.isNone(S))return null;switch(X){case "esriGeometryPoint":return X=t,ea&&ha?X=x:ea?X=h:ha&&(X=w),X(S);case "esriGeometryMultipoint":return B(S,ea,ha);case "esriGeometryPolyline":return J(S,ea,ha);case "esriGeometryPolygon":return H(S,ea,ha);default:Ha.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${X}'`))}}
function aa(S,X,ea,ha,ra){S.length=0;if(e.isNone(ea)){for(const U of X)S.push({attributes:U.attributes});return S}switch(ea){case "esriGeometryPoint":var na=t;ha&&ra?na=x:ha?na=h:ra&&(na=w);for(var N of X){const {geometry:U,attributes:P}=N;ha=e.isSome(U)?na(U):null;S.push({attributes:P,geometry:ha})}break;case "esriGeometryMultipoint":return C(S,X,ha,ra);case "esriGeometryPolyline":for(const U of X){const {geometry:P,attributes:T}=U;let W;e.isSome(P)&&(W=J(P,ha,ra));S.push({attributes:T,geometry:W})}break;
case "esriGeometryPolygon":for(na of X){const {geometry:U,attributes:P,centroid:T}=na;let W;e.isSome(U)&&(W=H(U,ha,ra));e.isSome(T)?(N=t(T),S.push({attributes:P,centroid:N,geometry:W})):S.push({attributes:P,geometry:W})}break;default:Ha.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ea}'`))}return S}function O(S,X,ea,ha,ra,na,N=ea,U=ha){S.lengths.length&&(S.lengths.length=0);S.coords.length&&(S.coords.length=0);if(e.isNone(X)||!X.coords.length)return null;
ra=ta[ra];const {coords:P,lengths:T}=X;X=n(ea,ha);const W=n(ea&&N,ha&&U);ea=k(ea,ha,N,U);if(!T.length)return ea(S.coords,P,0,0,g(na,P[0]),l(na,P[1])),S.lengths.length&&(S.lengths.length=0),S.coords.length=X,S;let ja,va=0,Ga,Oa=0;for(const ka of T){if(ka<ra)continue;let xa=0;Ga=Oa;U=ha=g(na,P[va]);ja=N=l(na,P[va+1]);ea(S.coords,P,Ga,va,U,ja);xa++;va+=X;Ga+=W;for(let za=1;za<ka;za++,va+=X)if(U=g(na,P[va]),ja=l(na,P[va+1]),U!==ha||ja!==N)ea(S.coords,P,Ga,va,U-ha,ja-N),Ga+=W,xa++,ha=U,N=ja;xa>=ra&&(S.lengths.push(xa),
Oa=Ga)}S.coords.length=Oa;return S.coords.length?S:null}function fa(S,X,ea,ha,ra,na,N){let U=ha,P=0;for(let W=na+ea;W<N;W+=ea){{var T=X[W];const ja=X[W+1],va=X[N],Ga=X[N+1];let Oa=X[na],ka=X[na+1],xa=va-Oa,za=Ga-ka;if(0!==xa||0!==za){const La=((T-Oa)*xa+(ja-ka)*za)/(xa*xa+za*za);1<La?(Oa=va,ka=Ga):0<La&&(Oa+=xa*La,ka+=za*La)}xa=T-Oa;za=ja-ka;T=xa*xa+za*za}T>U&&(P=W,U=T)}U>ha&&(P-na>ea&&fa(S,X,ea,ha,ra,na,P),ra(S,X,S.length,P,X[P],X[P+1]),N-P>ea&&fa(S,X,ea,ha,ra,P,N))}function oa(S,X,ea,ha,ra){const {coords:na,
lengths:N}=X,U=ea?ha?M:pa:ha?pa:Y;ea=n(ea,ha);if(!na.length)return S!==X&&(S.lengths.length=0,S.coords.length=0),S;if(!N.length)return U(S.coords,na,0,0,q(ra,na[0]),m(ra,na[1])),S!==X&&(S.lengths.length=0,S.coords.length=ea),S;const [P,T]=ra.scale;ha=0;for(let W=0;W<N.length;W++){const ja=N[W];S.lengths[W]=ja;let va=q(ra,na[ha]),Ga=m(ra,na[ha+1]);U(S.coords,na,ha,ha,va,Ga);ha+=ea;for(let Oa=1;Oa<ja;Oa++,ha+=ea)va+=na[ha]*P,Ga-=na[ha+1]*T,U(S.coords,na,ha,ha,va,Ga)}S!==X&&(S.lengths.length=N.length,
S.coords.length=na.length);return S}function Da(S,X,ea,ha){let ra=0,na=S[ha*X],N=S[ha*(X+1)];for(let U=1;U<ea;U++){const P=na+S[ha*(X+U)],T=N+S[ha*(X+U)+1],W=(P-na)*(T+N);na=P;N=T;ra+=W}return.5*ra}const Ha=c.getLogger("esri.layers.graphics.featureConversionUtils"),ta={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},Y=(S,X,ea,ha,ra,na)=>{S[ea]=ra;S[ea+1]=na},pa=(S,X,ea,ha,ra,na)=>{S[ea]=ra;S[ea+1]=na;S[ea+2]=X[ha+2]},wa=(S,X,ea,ha,ra,na)=>{S[ea]=ra;S[ea+
1]=na;S[ea+2]=X[ha+3]},M=(S,X,ea,ha,ra,na)=>{S[ea]=ra;S[ea+1]=na;S[ea+2]=X[ha+2];S[ea+3]=X[ha+3]},R=[],da=[];a.convertFromFeature=function(S,X,ea,ha,ra){R[0]=S;[S]=Z(da,R,X,ea,ha,ra);R.length=da.length=0;return S};a.convertFromFeatureSet=function(S,X){const ea=new r,{hasM:ha,hasZ:ra,features:na,objectIdFieldName:N,spatialReference:U,geometryType:P,exceededTransferLimit:T,transform:W,fields:ja}=S;ja&&(ea.fields=ja);ea.geometryType=P;ea.objectIdFieldName=N||X;ea.spatialReference=U;if(!ea.objectIdFieldName)return Ha.error(new b("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),ea;na&&Z(ea.features,na,P,ra,ha,ea.objectIdFieldName);T&&(ea.exceededTransferLimit=T);ha&&(ea.hasM=ha);ra&&(ea.hasZ=ra);W&&(ea.transform=W);return ea};a.convertFromFeatures=Z;a.convertFromGeometry=function(S,X,ea){if(e.isNone(S))return null;const ha=new u;"hasZ"in S&&null==X&&(X=S.hasZ);"hasM"in S&&null==ea&&(ea=S.hasM);if(d.isPoint(S))return z(null!=X?X:null!=S.z,null!=ea?ea:null!=S.m)(ha,S);if(d.isPolygon(S))return L(ha,S,X,ea);if(d.isPolyline(S))return F(ha,S,n(X,
ea));if(d.isMultipoint(S))return G(ha,S,n(X,ea));Ha.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${S}'`))};a.convertFromGraphics=function(S,X,ea,ha,ra,na){const N=S.length;switch(ea){case "esriGeometryPoint":A(S,X,ha,ra,na);break;case "esriGeometryMultipoint":E(S,X,ha,ra,na);break;case "esriGeometryPolyline":K(S,X,ha,ra,na);break;case "esriGeometryPolygon":I(S,X,ha,ra,na);break;default:Ha.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ea}'`))}for(ha=
0;ha<X.length;ha++)S[ha+N].geometryType=ea,S[ha+N].insertAfter=X[ha].insertAfter,S[ha+N].groupId=X[ha].groupId;return S};a.convertFromMultipoint=G;a.convertFromMultipointFeatures=E;a.convertFromNestedArray=Q;a.convertFromPoint=function(S,X,ea=z(null!=X.z,null!=X.m)){return ea(S,X)};a.convertFromPointFeatures=A;a.convertFromPolygon=L;a.convertFromPolyline=F;a.convertFromPolylineFeatures=K;a.convertToFeature=function(S,X,ea,ha){da[0]=S;aa(R,da,X,ea,ha);S=R[0];R.length=da.length=0;return S};a.convertToFeatureSet=
function(S){const {objectIdFieldName:X,spatialReference:ea,transform:ha,fields:ra,hasM:na,hasZ:N,features:U,geometryType:P,exceededTransferLimit:T,uniqueIdField:W,queryGeometry:ja,queryGeometryType:va}=S;S=aa([],U,P,N,na);const Ga=ca(ja,va,!1,!1);S={features:S,fields:ra,geometryType:P,objectIdFieldName:X,spatialReference:ea,uniqueIdField:W,queryGeometry:Ga};ha&&(S.transform=ha);T&&(S.exceededTransferLimit=T);na&&(S.hasM=na);N&&(S.hasZ=N);return S};a.convertToFeatures=aa;a.convertToGeometry=ca;a.convertToMultipoint=
B;a.convertToMultipointFeatures=C;a.convertToPoint=function(S,X,ea){return S?X?ea?x(S):h(S):ea?w(S):t(S):null};a.convertToPolygon=H;a.convertToPolyline=J;a.deltaDecodeGeometry=function(S,X){if(e.isNone(S))return null;const ea=S.clone(),ha=S.coords;S=S.lengths;let ra=0;for(let U=0;U<S.length;U++){const P=S[U];var na=ha[X*ra],N=ha[X*ra+1];for(let T=1;T<P;T++)na+=ha[X*(ra+T)],N+=ha[X*(ra+T)+1],ea.coords[X*(ra+T)]=na,ea.coords[X*(ra+T)+1]=N;ra+=P}return ea};a.deltaEncodeGeometry=function(S,X){const ea=
S.clone(),ha=S.coords;S=S.lengths;let ra=0;for(let N=0;N<S.length;N++){const U=S[N];let P=ha[X*ra];var na=ha[X*ra+1];for(let T=1;T<U;T++){const W=ha[X*(ra+T)],ja=ha[X*(ra+T)+1];na=ja-na;ea.coords[X*(ra+T)]=W-P;ea.coords[X*(ra+T)+1]=na;P=W;na=ja}ra+=U}return ea};a.generalizeOptimizedGeometry=function(S,X,ea,ha,ra,na,N=ea,U=ha){S.lengths.length&&(S.lengths.length=0);S.coords.length&&(S.coords.length=0);if(!X||!X.coords.length)return null;ra=ta[ra];const {coords:P,lengths:T}=X;X=n(ea,ha);const W=n(ea&&
N,ha&&U);ea=k(ea,ha,N,U);if(!T.length)return ea(S.coords,P,0,0,P[0],P[1]),S.lengths.length&&(S.lengths.length=0),S.coords.length=X,S;ha=0;na*=na;for(const ja of T){if(ja<ra){ha+=ja*X;continue}N=S.coords.length/W;U=ha;const va=ha+(ja-1)*X;ea(S.coords,P,S.coords.length,U,P[U],P[U+1]);fa(S.coords,P,X,na,ea,U,va);ea(S.coords,P,S.coords.length,va,P[va],P[va+1]);U=S.coords.length/W-N;U>=ra?S.lengths.push(U):S.coords.length=N*W;ha+=ja*X}return S.coords.length?S:null};a.getBoundsOptimizedGeometry=function(S,
X,ea,ha){if(e.isNone(X)||!X.coords||!X.coords.length)return null;ea=n(ea,ha);let ra=ha=Number.POSITIVE_INFINITY,na=Number.NEGATIVE_INFINITY,N=Number.NEGATIVE_INFINITY;if(X&&X.coords){X=X.coords;for(let U=0;U<X.length;U+=ea){const P=X[U],T=X[U+1];ha=Math.min(ha,P);na=Math.max(na,P);ra=Math.min(ra,T);N=Math.max(N,T)}}S[0]=ha;S[1]=ra;S[2]=na;S[3]=N;return S};a.getQuantizedArea=function(S,X){const {coords:ea,lengths:ha}=S;let ra=S=0;for(let na=0;na<ha.length;na++)ra+=Da(ea,S,ha[na],X),S+=na;return Math.abs(ra)};
a.getQuantizedBoundsOptimizedGeometry=function(S,X,ea,ha){ea=n(ea,ha);const {lengths:ra,coords:na}=X;ha=X=Number.POSITIVE_INFINITY;let N=Number.NEGATIVE_INFINITY,U=Number.NEGATIVE_INFINITY,P=0;for(const T of ra){let W=na[P],ja=na[P+1];X=Math.min(W,X);ha=Math.min(ja,ha);N=Math.max(W,N);U=Math.max(ja,U);P+=ea;for(let va=1;va<T;va++,P+=ea){const Ga=na[P],Oa=na[P+1];W+=Ga;ja+=Oa;0>Ga&&(X=Math.min(X,W));0<Ga&&(N=Math.max(N,W));0>Oa?ha=Math.min(ha,ja):0<Oa&&(U=Math.max(U,ja))}}S[0]=X;S[1]=ha;S[2]=N;S[3]=
U;return S};a.getSignedQuantizedRingArea=Da;a.quantizeOptimizedFeatureSet=function(S,X){const {geometryType:ea,features:ha,hasM:ra,hasZ:na}=X;if(!S)return X;for(let N=0;N<ha.length;N++){const U=ha[N],P=U.weakClone();P.geometry=new u;O(P.geometry,U.geometry,ra,na,ea,S);U.centroid&&(P.centroid=new u,O(P.centroid,U.centroid,ra,na,"esriGeometryPoint",S));ha[N]=P}X.transform=S;return X};a.quantizeOptimizedGeometry=O;a.quantizeX=g;a.quantizeY=l;a.removeCollinearVectices=function(S,X,ea,ha,ra){if(!X||!X.coords||
!X.coords.length)return null;ea=ta[ea];const {coords:na,lengths:N}=X;X=k(ha,ra,ha,ra);ha=n(ha,ra);let U=ra=0,P=0,T=0;for(const va of N){U=T;X(S.coords,na,U,ra,na[ra],na[ra+1]);ra+=ha;var W=na[ra];let Ga=na[ra+1],Oa=W,ka=Ga;var ja=Ga/W;U+=ha;X(S.coords,na,U,ra,Oa,ka);ra+=ha;for(let xa=2;xa<va;xa++){W=na[ra];Ga=na[ra+1];const za=Ga/W,La=ja===za||!isFinite(ja)&&!isFinite(za);ja=La&&isFinite(za)?0<=ja&&0<=za||0>=ja&&0>=za:0<=ka&&0<=Ga||0>=ka&&0>=Ga;La&&ja?(Oa+=W,ka+=Ga):(Oa=W,ka=Ga,U+=ha);X(S.coords,
na,U,ra,Oa,ka);ra+=ha;ja=za}U+=ha;W=(U-T)/ha;W>=ea&&(S.lengths[P]=W,T=U,P++)}S.coords.length>T&&(S.coords.length=T);S.lengths.length>P&&(S.lengths.length=P);return S.coords.length&&S.lengths.length?S:null};a.removeZMValues=function(S,X,ea,ha,ra,na){const N=n(ea,ha);ea=k(ea,ha,ra,na);ha=X.coords;S.coords.length=0;S.lengths.length=0;S.lengths.push(...X.lengths);for(X=0;X<ha.length;X+=N)ea(S.coords,ha,S.coords.length,X,ha[X],ha[X+1]);return S};a.unquantizeOptimizedFeatureSet=function(S){const {transform:X,
features:ea,hasM:ha,hasZ:ra}=S;if(!X)return S;for(const na of ea)e.isSome(na.geometry)&&oa(na.geometry,na.geometry,ha,ra,X),e.isSome(na.centroid)&&oa(na.centroid,na.centroid,ha,ra,X);S.transform=null;return S};a.unquantizeOptimizedGeometry=oa;a.unquantizeX=q;a.unquantizeY=m;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeAttachmentQuery":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryAttachments",
"../support/AttachmentQuery"],function(a,b,c,e,d){function p(){p=b._asyncToGenerator(function*(r,u,n){const k=c.parseUrl(r);return e.executeAttachmentQuery(k,d.from(u),{...n}).then(g=>e.processAttachmentQueryResult(g.data.attachmentGroups,k.path))});return p.apply(this,arguments)}a.executeAttachmentQuery=function(r,u,n){return p.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/queryAttachments":function(){define("exports ../../../kernel ../../../request ../../../core/urlUtils ../../operations/urlUtils ../support/AttachmentInfo".split(" "),
function(a,b,c,e,d,p){function r(u){u=u.toJSON();u.attachmentTypes&&(u.attachmentTypes=u.attachmentTypes.join(","));u.keywords&&(u.keywords=u.keywords.join(","));u.globalIds&&(u.globalIds=u.globalIds.join(","));u.objectIds&&(u.objectIds=u.objectIds.join(","));u.size&&(u.size=u.size.join(","));return u}a.executeAttachmentQuery=function(u,n,k){n={query:d.mapParameters({...u.query,f:"json",...r(n)})};k&&(n={...k,...n,query:{...k.query,...n.query}});return c(u.path+"/queryAttachments",n)};a.processAttachmentQueryResult=
function(u,n){const k={};for(const g of u){const {parentObjectId:l,parentGlobalId:q,attachmentInfos:m}=g;for(const t of m){({id:u}=t);u=e.addProxy(b.addTokenParameter(`${n}/${l}/attachments/${u}`));const f=p.fromJSON(t);f.set({url:u,parentObjectId:l,parentGlobalId:q});k[l]?k[l].push(f):k[l]=[f]}}return k};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/support/AttachmentInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../layers/support/exifUtils".split(" "),
function(a,b,c,e,d,p,r,u,n){var k;const g={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};c=k=function(l){function q(m){m=l.call(this,m)||this;m.contentType=null;m.exifInfo=null;m.id=null;m.globalId=null;m.keywords=null;m.name=null;m.parentGlobalId=null;m.parentObjectId=null;m.size=
null;m.url=null;return m}a._inheritsLoose(q,l);q.prototype.clone=function(){return new k({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};a._createClass(q,[{key:"orientationInfo",get:function(){var {exifInfo:m}=this;m=n.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:m});return g[m]||null}}]);return q}(c.JSONSupport);
b.__decorate([e.property({type:String})],c.prototype,"contentType",void 0);b.__decorate([e.property()],c.prototype,"exifInfo",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"orientationInfo",null);b.__decorate([e.property({type:r.Integer})],c.prototype,"id",void 0);b.__decorate([e.property({type:String})],c.prototype,"globalId",void 0);b.__decorate([e.property({type:String})],c.prototype,"keywords",void 0);b.__decorate([e.property({type:String})],c.prototype,"name",void 0);b.__decorate([e.property({json:{read:!1}})],
c.prototype,"parentGlobalId",void 0);b.__decorate([e.property({json:{read:!1}})],c.prototype,"parentObjectId",void 0);b.__decorate([e.property({type:r.Integer})],c.prototype,"size",void 0);b.__decorate([e.property({json:{read:!1}})],c.prototype,"url",void 0);return c=k=b.__decorate([u.subclass("esri.layers.support.AttachmentInfo")],c)})},"esri/layers/support/exifUtils":function(){define(["exports"],function(a){function b(c){const {tagName:e,tags:d}=c;return d&&e?(c=d.find(p=>p.name===e))&&c.value||
null:null}a.getExifValue=function(c){const {exifInfo:e,exifName:d,tagName:p}=c;return e&&d&&p?(c=e.find(r=>r.name===d))?b({tagName:p,tags:c.tags}):null:null};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeForCount":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/query","../support/Query"],function(a,b,c,e,d){function p(){p=b._asyncToGenerator(function*(r,u,n){r=c.parseUrl(r);return e.executeQueryForCount(r,
d.from(u),{...n}).then(k=>k.data.count)});return p.apply(this,arguments)}a.executeForCount=function(r,u,n){return p.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeForExtent":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),function(a,b,c,e,d,p,r){function u(){u=b._asyncToGenerator(function*(n,k,g){n=
e.parseUrl(n);return d.executeQueryForExtent(n,p.from(k),{...g}).then(l=>({count:l.data.count,extent:r.fromJSON(l.data.extent)}))});return u.apply(this,arguments)}a.executeForExtent=function(n,k,g){return u.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeForIds":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/query","../support/Query"],function(a,b,c,e,d){function p(){p=
b._asyncToGenerator(function*(r,u,n){r=c.parseUrl(r);return e.executeQueryForIds(r,d.from(u),{...n}).then(k=>k.data.objectIds)});return p.apply(this,arguments)}a.executeForIds=function(r,u,n){return p.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeRelationshipQuery":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/queryRelatedRecords ../support/FeatureSet ../support/RelationshipQuery".split(" "),
function(a,b,c,e,d,p){function r(){r=b._asyncToGenerator(function*(n,k,g){k=p.from(k);n=c.parseUrl(n);return e.executeRelationshipQuery(n,k,g).then(l=>{const q=l.data,m={};Object.keys(q).forEach(t=>m[t]=d.fromJSON(q[t]));return m})});return r.apply(this,arguments)}function u(){u=b._asyncToGenerator(function*(n,k,g){k=p.from(k);n=c.parseUrl(n);return e.executeRelationshipQueryForCount(n,k,{...g}).then(l=>l.data)});return u.apply(this,arguments)}a.executeRelationshipQuery=function(n,k,g){return r.apply(this,
arguments)};a.executeRelationshipQueryForCount=function(n,k,g){return u.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/queryRelatedRecords":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../request","../../operations/urlUtils"],function(a,b,c,e){function d(k,g){k=k.toJSON();k.objectIds&&(k.objectIds=k.objectIds.join(","));k.orderByFields&&(k.orderByFields=k.orderByFields.join(","));
!k.outFields||null!=g&&g.returnCountOnly?delete k.outFields:k.outFields.includes("*")?k.outFields="*":k.outFields=k.outFields.join(",");k.outSpatialReference&&(k.outSR=k.outSR.wkid||JSON.stringify(k.outSR.toJSON()),delete k.outSpatialReference);k.dynamicDataSource&&(k.layer=JSON.stringify({source:k.dynamicDataSource}),delete k.dynamicDataSource);return k}function p(){p=b._asyncToGenerator(function*(k,g,l){k=yield u(k,g,l);g=k.data;l=g.geometryType;const q=g.spatialReference,m={};for(const t of g.relatedRecordGroups){const f=
{fields:void 0,objectIdFieldName:void 0,geometryType:l,spatialReference:q,hasZ:!!g.hasZ,hasM:!!g.hasM,features:t.relatedRecords};if(null!=t.objectId)m[t.objectId]=f;else for(const h in t)t.hasOwnProperty(h)&&"relatedRecords"!==h&&(m[t[h]]=f)}return{...k,data:m}});return p.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(k,g,l){k=yield u(k,g,l,{returnCountOnly:!0});g=k.data;l={};for(const q of g.relatedRecordGroups)null!=q.objectId&&(l[q.objectId]=q.count);return{...k,data:l}});return r.apply(this,
arguments)}function u(k,g){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(k,g,l={},q){g=e.mapParameters({...k.query,f:"json",...q,...d(g,q)});return c(k.path+"/queryRelatedRecords",{...l,query:{...l.query,...g}})});return n.apply(this,arguments)}a.executeRelationshipQuery=function(k,g,l){return p.apply(this,arguments)};a.executeRelationshipQueryForCount=function(k,g,l){return r.apply(this,arguments)};a.toQueryStringParameters=d;Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeTopFeaturesQuery":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/queryTopFeatures ../support/FeatureSet ../support/TopFeaturesQuery".split(" "),function(a,b,c,e,d,p){function r(){r=b._asyncToGenerator(function*(u,n,k,g){u=c.parseUrl(u);g={...g};({data:n}=yield e.executeTopFeaturesQuery(u,p.from(n),k,g));return d.fromJSON(n)});return r.apply(this,arguments)}a.executeTopFeaturesQuery=function(u,
n,k,g){return r.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/queryTopFeatures":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../operations/urlUtils ./queryZScale".split(" "),function(a,b,c,e,d,p,r,u,n){function k(t,f){var h,v;const w=t.geometry;
t=t.toJSON();e.isSome(w)&&(t.geometry=JSON.stringify(w),t.geometryType=p.getJsonType(w),t.inSR=w.spatialReference.wkid||JSON.stringify(w.spatialReference));null!=(h=t.topFilter)&&h.groupByFields&&(t.topFilter.groupByFields=t.topFilter.groupByFields.join(","));null!=(v=t.topFilter)&&v.orderByFields&&(t.topFilter.orderByFields=t.topFilter.orderByFields.join(","));t.topFilter&&(t.topFilter=JSON.stringify(t.topFilter));t.objectIds&&(t.objectIds=t.objectIds.join(","));t.orderByFields&&(t.orderByFields=
t.orderByFields.join(","));!t.outFields||null!=f&&f.returnCountOnly||null!=f&&f.returnExtentOnly||null!=f&&f.returnIdsOnly?delete t.outFields:t.outFields.includes("*")?t.outFields="*":t.outFields=t.outFields.join(",");t.outSR?t.outSR=t.outSR.wkid||JSON.stringify(t.outSR):w&&t.returnGeometry&&(t.outSR=t.inSR);t.returnGeometry&&delete t.returnGeometry;if(t.timeExtent){const {start:D,end:x}=t.timeExtent;if(null!=D||null!=x)t.time=D===x?D:`${null==D?"null":D},${null==x?"null":x}`;delete t.timeExtent}return t}
function g(){g=b._asyncToGenerator(function*(t,f,h,v){t=yield m(t,f,"json",v);n.applyFeatureSetZUnitScaling(f,h,t.data);return t});return g.apply(this,arguments)}function l(){l=b._asyncToGenerator(function*(t,f,h){return e.isSome(f.timeExtent)&&f.timeExtent.isEmpty?{data:{objectIds:[]}}:m(t,f,"json",h,{returnIdsOnly:!0})});return l.apply(this,arguments)}function q(){q=b._asyncToGenerator(function*(t,f,h){return e.isSome(f.timeExtent)&&f.timeExtent.isEmpty?{data:{count:0,extent:null}}:m(t,f,"json",
h,{returnExtentOnly:!0,returnCountOnly:!0}).then(v=>{const w=v.data;if(w.hasOwnProperty("extent"))return v;if(w.features)throw Error("Layer does not support extent calculation.");if(w.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return v})});return q.apply(this,arguments)}function m(t,f,h,v={},w={}){const D="string"===typeof t?d.urlToObject(t):t;t=f.geometry?[f.geometry]:[];v.responseType="pbf"===h?"array-buffer":"json";return r.normalizeCentralMeridian(t,null,
v).then(x=>{x=x&&x[0];e.isSome(x)&&(f=f.clone(),f.geometry=x);x=u.mapParameters({...D.query,f:h,...w,...k(f,w)});return c(d.join(D.path,"queryTopFeatures"),{...v,query:{...x,...v.query}})})}a.executeQueryForTopCount=function(t,f,h){return e.isSome(f.timeExtent)&&f.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):m(t,f,"json",h,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForTopExtents=function(t,f,h){return q.apply(this,arguments)};a.executeQueryForTopIds=function(t,f,h){return l.apply(this,
arguments)};a.executeTopFeaturesQuery=function(t,f,h,v){return g.apply(this,arguments)};a.queryToQueryStringParameters=k;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeForTopIds":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryTopFeatures","../support/TopFeaturesQuery"],function(a,b,c,e,d){function p(){p=b._asyncToGenerator(function*(r,u,n){r=c.parseUrl(r);return(yield e.executeQueryForTopIds(r,
d.from(u),{...n})).data.objectIds});return p.apply(this,arguments)}a.executeForTopIds=function(r,u,n){return p.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeForTopExtents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../utils ./operations/queryTopFeatures ../support/TopFeaturesQuery ../../geometry/Extent".split(" "),function(a,b,c,e,d,p,r){function u(){u=b._asyncToGenerator(function*(n,
k,g){n=e.parseUrl(n);k=yield d.executeQueryForTopExtents(n,p.from(k),{...g});return{count:k.data.count,extent:r.fromJSON(k.data.extent)}});return u.apply(this,arguments)}a.executeForTopExtents=function(n,k,g){return u.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/executeForTopCount":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryTopFeatures","../support/TopFeaturesQuery"],
function(a,b,c,e,d){function p(){p=b._asyncToGenerator(function*(r,u,n){r=c.parseUrl(r);return(yield e.executeQueryForTopCount(r,d.from(u),{...n})).data.count});return p.apply(this,arguments)}a.executeForTopCount=function(r,u,n){return p.apply(this,arguments)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/tasks/Task":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){c=function(k){function g(...q){q=k.call(this,...q)||this;q.requestOptions=null;q.url=null;return q}a._inheritsLoose(g,k);var l=g.prototype;l.normalizeCtorArgs=function(q,m){return"string"!==typeof q?q:{url:q,...m}};l._parseUrl=function(q){return q?e.urlToObject(q):null};l._encode=function(q,m,t){const f={};for(const v in q)if("declaredClass"!==v){var h=q[v];if(null!=h&&"function"!==typeof h)if(Array.isArray(h)){f[v]=[];for(let w=0;w<h.length;w++)f[v][w]=this._encode(h[w])}else"object"===
typeof h?h.toJSON?(h=h.toJSON(t&&t[v]),f[v]=m?h:JSON.stringify(h)):f[v]=m?h:JSON.stringify(h):f[v]=h}return f};a._createClass(g,[{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}}]);return g}(c);b.__decorate([d.property({readOnly:!0})],c.prototype,"parsedUrl",null);b.__decorate([d.property()],c.prototype,"requestOptions",void 0);b.__decorate([d.property({type:String})],c.prototype,"url",void 0);return c=b.__decorate([n.subclass("esri.tasks.Task")],c)})},"esri/views/View":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/HandleOwner ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/aliasOf ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ./BasemapView ./LayerViewManager ./Magnifier ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E,G,J,K,F,H,I,L,Q,Z,ca,aa){var O;const fa=q.getLogger("esri.views.View");d=O=function(oa){function Da(ta){var Y=oa.call(this,ta)||this;Y._userSpatialReference=null;Y._cursor=null;Y.allLayerViews=new r({getCollections:()=>{var pa,wa,M;return[null==(pa=Y.basemapView)?void 0:pa.baseLayerViews,null==(wa=Y.groundView)?void 0:wa.layerViews,Y.layerViews,null==(M=Y.basemapView)?void 0:M.referenceLayerViews]},getChildrenFunction:pa=>pa.layerViews});
Y.groundView=null;Y.animation=null;Y.basemapView=null;Y.fatalError=null;Y.extent=null;Y.graphics=new K.GraphicsCollection;Y.analyses=new J.AnalysesCollection;Y.navigating=!1;Y.typeSpecificPreconditionsReady=!0;Y.layerViews=new p;Y.magnifier=new I;Y.padding={left:0,top:0,right:0,bottom:0};Y.ready=!1;Y.spatialReferenceWarningDelay=1E3;Y.supportsGround=!0;Y.timeExtent=null;Y.type=null;Y.scale=null;Y.updating=!1;Y.initialExtentRequired=!0;Y.input=new Q;Y.navigation=new ca;Y.layerViewManager=null;Y.analysisViewManager=
null;Y.isHeightModelInfoRequired=!1;Y.width=null;Y.height=null;Y.resizing=!1;Y.suspended=!1;Y.viewEvents=new Z.ViewEvents(a._assertThisInitialized(Y));Y.persistableViewModels=new p;Y._isValid=!1;Y._readyCycleForced=!1;Y.handles.add(h.watch(()=>Y.preconditionsReady,pa=>{pa?(Y._currentSpatialReference=Y.spatialReference,O.views.add(a._assertThisInitialized(Y))):(Y._currentSpatialReference=null,O.views.remove(a._assertThisInitialized(Y)));Y.notifyChange("spatialReference");if(!pa&&Y.ready){var wa,M;
null==(wa=Y.layerViewManager)?void 0:wa.clear();null==(M=Y.toolViewManager)?void 0:M.detach();m.isSome(Y.analysisViewManager)&&Y.analysisViewManager.detach();Y._teardown()}else pa&&!Y.ready&&(Y._startup(),m.isSome(Y.analysisViewManager)&&Y.analysisViewManager.attach(),Y.toolViewManager.attach())},h.sync));return Y}a._inheritsLoose(Da,oa);var Ha=Da.prototype;Ha.initialize=function(){this.addResolvingPromise(this.validate().then(()=>{this._isValid=!0;return h.whenOnce(()=>this.ready)}));this.basemapView=
new F.BasemapView({view:this});this.layerViewManager=new H({view:this,layerViewImporter:{importLayerView:ta=>this.importLayerView(ta),hasLayerViewModule:ta=>this.hasLayerViewModule(ta)},supportsGround:this.supportsGround});this.toolViewManager=new L({view:this});this._setupSpatialReferenceLogger();this.handles.add([h.watch(()=>this.initialExtentRequired,ta=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:ta},{sync:!0,initial:!0}),h.watch(()=>this.ready,ta=>{this.defaultsFromMap&&
(this.defaultsFromMap.suspended=ta,this.defaultsFromMap.userSpatialReference=ta?this.spatialReference:this._userSpatialReference)},{sync:!0}),h.watch(()=>this._userSpatialReference,ta=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=ta)},{sync:!0,initial:!0})])};Ha._setupSpatialReferenceLogger=function(){var ta=this;let Y=null;this.handles.add([h.watch(()=>{var pa;return null==(pa=this.defaultsFromMap)?void 0:pa.ready},pa=>{var wa;const M=0<(null==(wa=this.map)?void 0:wa.allLayers.length);
pa&&!this.spatialReference&&M?m.isSome(Y)||(pa=g.makeHandle(()=>Y=m.abortMaybe(Y)),Y=f.createTask(function(){var R=a._asyncToGenerator(function*(da){try{yield f.after(ta.spatialReferenceWarningDelay,null,da)}catch{return}finally{Y=null}fa.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(da){return R.apply(this,arguments)}}()),this.handles.add(pa,"spatial-reference-logger-task")):this.handles.remove("spatial-reference-logger-task")},
{sync:!0})])};Ha.destroy=function(){if(!this.destroyed){this.viewEvents.destroy();this.allLayerViews.destroy();this.navigation&&(this.navigation.destroy(),this._set("navigation",null));this.graphics=m.destroyMaybe(this.graphics);this.analyses=m.destroyMaybe(this.analyses);this.handles.remove("defaultsFromMap");this.defaultsFromMap.destroy();this._set("defaultsFromMap",null);m.destroyMaybe(this.analysisViewManager);this.toolViewManager=m.destroyMaybe(this.toolViewManager);this.layerViewManager=m.destroyMaybe(this.layerViewManager);
this.basemapView=m.destroyMaybe(this.basemapView);this.invalidate();this._emitter.clear();this.handles.removeAll();var ta=this.map;this.map=null;null==ta?void 0:ta.destroy()}};Ha._startup=function(){this._set("ready",!0)};Ha._teardown=function(){this._set("ready",!1)};Ha.whenReady=function(){return Promise.resolve(this)};Ha.toMap=function(){fa.error("#toMap()","Not implemented on this instance of View");return null};Ha._spatialReferenceChanged=function(ta){};Ha.whenLayerView=function(ta){return this.layerViewManager.whenLayerView(ta)};
Ha.getDefaultSpatialReference=function(){var ta;return null==(ta=this.defaultsFromMap)?void 0:ta.spatialReference};Ha.getDefaultHeightModelInfo=function(){var ta,Y,pa;return null!=(ta=null!=(Y=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?Y:null==(pa=this.defaultsFromMap)?void 0:pa.heightModelInfo)?ta:null};Ha.importLayerView=function(ta){throw new u("importLayerView() not implemented");};Ha.hasLayerViewModule=function(ta){return!1};Ha.validate=function(){var ta=a._asyncToGenerator(function*(){});
return function(){return ta.apply(this,arguments)}}();Ha.invalidate=function(){this._isValid=!1};Ha.getSpatialReferenceSupport=function(){return{constraints:null}};Ha._validateSpatialReference=function(ta){return m.isSome(this.getSpatialReferenceSupport({spatialReference:ta}))};Ha.when=function(ta,Y){this.isResolved()&&!this.ready&&fa.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");
return oa.prototype.when.call(this,ta,Y)};Ha.forceReadyCycle=function(){this.ready&&(h.when(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)};Ha.addAndActivateTool=function(ta){this.toolViewManager.tools.add(ta);this.activeTool=ta};Ha.tryFatalErrorRecovery=function(){this.fatalError=null};a._createClass(Da,[{key:"_defaultsFromMapSettings",get:function(){return{}}},{key:"defaultsFromMap",get:function(){return new aa.DefaultsFromMap({required:{tileInfo:!1,
heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:ta=>this.getSpatialReferenceSupport(ta),...this._defaultsFromMapSettings})}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},{key:"preconditionsReady",get:function(){var ta;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||l.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||
!this._validateSpatialReference(this.spatialReference)||!(this._currentSpatialReference||null!=(ta=this.defaultsFromMap)&&ta.ready)||!this.typeSpecificPreconditionsReady)}},{key:"map",set:function(ta){var Y;const pa=this._get("map");ta!==pa&&(null!=(Y=ta)&&Y.destroyed&&(fa.warn("#map","The provided map is already destroyed",{map:ta}),ta=null),l.isLoadable(ta)&&ta.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",ta))}},{key:"spatialReference",
get:function(){var ta,Y;let pa=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;pa&&null!=(ta=this.defaultsFromMap)&&null!=(Y=ta.required)&&Y.heightModelInfo&&(pa=pa.clone(),pa.vcsWkid=this.defaultsFromMap.vcsWkid,pa.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return pa},set:function(ta){const Y=!G.equals(ta,this._get("spatialReference"));this._set("_userSpatialReference",ta);Y&&(this._set("spatialReference",ta),this._spatialReferenceChanged(ta))}},
{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"initialExtent",get:function(){var ta;return null==(ta=this.defaultsFromMap)?void 0:ta.extent}},{key:"cursor",get:function(){const ta=this.toolViewManager?this.toolViewManager.cursor:null;return m.isSome(ta)?ta:this._cursor||"default"},set:function(ta){this._cursor=ta;this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}}]);return Da}(k.HandleOwnerMixin(n.EventedMixin(t.EsriPromiseMixin(d))));
d.views=new p;b.__decorate([y.property()],d.prototype,"_userSpatialReference",void 0);b.__decorate([v.aliasOf("toolViewManager.activeTool")],d.prototype,"activeTool",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"allLayerViews",void 0);b.__decorate([y.property()],d.prototype,"groundView",void 0);b.__decorate([y.property()],d.prototype,"animation",void 0);b.__decorate([y.property()],d.prototype,"basemapView",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"_defaultsFromMapSettings",
null);b.__decorate([y.property()],d.prototype,"defaultsFromMap",null);b.__decorate([y.property()],d.prototype,"fatalError",void 0);b.__decorate([y.property({type:C})],d.prototype,"extent",void 0);b.__decorate([y.property(A.owningCollectionProperty(K.GraphicsCollection,"graphics"))],d.prototype,"graphics",void 0);b.__decorate([y.property(A.owningCollectionProperty(J.AnalysesCollection,"analyses"))],d.prototype,"analyses",void 0);b.__decorate([y.property({readOnly:!0,type:B})],d.prototype,"heightModelInfo",
null);b.__decorate([y.property({readOnly:!0})],d.prototype,"interacting",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"navigating",void 0);b.__decorate([y.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],d.prototype,"preconditionsReady",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"typeSpecificPreconditionsReady",
void 0);b.__decorate([y.property({type:p,readOnly:!0})],d.prototype,"layerViews",void 0);b.__decorate([y.property({type:I})],d.prototype,"magnifier",void 0);b.__decorate([y.property({value:null,type:c})],d.prototype,"map",null);b.__decorate([y.property()],d.prototype,"padding",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"ready",void 0);b.__decorate([y.property({type:E})],d.prototype,"spatialReference",null);b.__decorate([y.property()],d.prototype,"spatialReferenceWarningDelay",void 0);
b.__decorate([y.property()],d.prototype,"stationary",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"supportsGround",void 0);b.__decorate([y.property({type:e})],d.prototype,"timeExtent",void 0);b.__decorate([v.aliasOf("toolViewManager.tools")],d.prototype,"tools",void 0);b.__decorate([y.property()],d.prototype,"toolViewManager",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"type",void 0);b.__decorate([y.property({type:Number})],d.prototype,"scale",void 0);b.__decorate([y.property({readOnly:!0})],
d.prototype,"updating",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"initialExtentRequired",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"initialExtent",null);b.__decorate([y.property()],d.prototype,"cursor",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"input",void 0);b.__decorate([y.property({type:ca,nonNullable:!0})],d.prototype,"navigation",void 0);b.__decorate([y.property()],d.prototype,"layerViewManager",void 0);b.__decorate([y.property()],d.prototype,
"analysisViewManager",void 0);b.__decorate([y.property()],d.prototype,"width",void 0);b.__decorate([y.property()],d.prototype,"height",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"resizing",void 0);b.__decorate([y.property({value:null,readOnly:!0})],d.prototype,"size",null);b.__decorate([y.property({readOnly:!0})],d.prototype,"suspended",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"viewEvents",void 0);b.__decorate([y.property({readOnly:!0})],d.prototype,"persistableViewModels",
void 0);b.__decorate([y.property()],d.prototype,"_isValid",void 0);b.__decorate([y.property()],d.prototype,"_readyCycleForced",void 0);b.__decorate([y.property()],d.prototype,"_currentSpatialReference",void 0);return d=O=b.__decorate([z.subclass("esri.views.View")],d)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Collection ../collectionUtils ../HandleOwner ../has ../Logger ../maybe ../accessorSupport/decorators/property ../arrayUtils ../accessorSupport/ensureType ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){u.getLogger("esri.core.support.OwningCollection");a.OwningCollection=function(m){function t(h){var v=m.call(this,h)||this;v.handles.add([v.on("before-add",w=>{n.isNone(w.item)&&w.preventDefault()}),v.on("after-add",w=>v._own(w.item)),v.on("after-remove",w=>v._release(w.item))]);return v}b._inheritsLoose(t,m);var f=t.prototype;f._ownAll=function(){for(const h of this.items)this._own(h)};f._releaseAll=function(){for(const h of this.items)this._release(h)};f._createNewInstance=
function(h){return this.itemType?new (e.ofType(this.itemType.Type))(h):new e(h)};b._createClass(t,[{key:"owner",get:function(){return this._get("owner")},set:function(h){h!==this._get("owner")&&(this._releaseAll(),this._set("owner",h),this._ownAll())}}]);return t}(p.HandleOwnerMixin(e));c.__decorate([k.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=c.__decorate([q.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(m,t){return{type:m,
cast:d.castForReferenceSetter,set(f){f=d.referenceSetter(f,this._get(t),m);f.owner=this;this._set(t,f)}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){const l=e.getLogger("esri.support.AnalysesCollection");a.AnalysesCollection=function(q){function m(f){var h=q.call(this,f)||this;h.handles.add(h.on("before-add",v=>{d.isNone(v.item)||v.item.parent!==h.owner||(l.warn("Analysis inside the collection must be unique. Not adding this element again."),v.preventDefault())}));return h}b._inheritsLoose(m,q);var t=m.prototype;t._own=function(f){f.parent=this.owner};t._release=function(f){f.parent=null};return m}(g.OwningCollection);
a.AnalysesCollection=c.__decorate([k.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){a.GraphicsCollection=function(q){function m(){return q.apply(this,arguments)||this}b._inheritsLoose(m,q);var t=m.prototype;t._own=function(f){f.layer&&"remove"in f.layer&&f.layer!==this.owner&&f.layer.remove(f);f.layer=this.owner};t._release=function(f){f.layer===this.owner&&(f.layer=null)};return m}(l.OwningCollection);c.__decorate([k.shared({Type:e,ensureType:p.ensureType(e)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=c.__decorate([g.subclass("esri.support.GraphicsCollection")],
a.GraphicsCollection);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/BasemapView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,p,r,u,n,k,g){a.BasemapView=function(l){function q(m){var t=
l.call(this,m)||this;t.view=null;t.baseLayerViews=new d;t.referenceLayerViews=new d;t._loadingHandle=p.watch(()=>{var f,h;return null==(f=t.view)?void 0:null==(h=f.map)?void 0:h.basemap},f=>{f&&f.load().catch(()=>{})},p.initial);return t}b._inheritsLoose(q,l);q.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};b._createClass(q,[{key:"suspended",get:function(){return this.view?this.view.suspended:!0}},{key:"updating",get:function(){var m,
t;if(this.view&&this.view.suspended)return!1;const f=null==(m=this.view)?void 0:null==(t=m.map)?void 0:t.basemap;return f&&f.loaded?this.baseLayerViews.some(h=>h.updating)||this.referenceLayerViews.some(h=>h.updating):!1}}]);return q}(e);c.__decorate([r.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);c.__decorate([r.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);c.__decorate([r.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",void 0);
c.__decorate([r.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);c.__decorate([r.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",null);a.BasemapView=c.__decorate([g.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/LayerViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/CollectionFlattener ../core/Error ../core/HandleOwner ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/support/WatchUpdatingTracking".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h){const v=p.getLogger("esri.views.LayerViewManager");let w=function(){function D(y,z,A){this.layer=y;this.view=z;this.layerViewImporter=A;this._controller=new AbortController;this._deferred=n.createDeferred();this.done=this._started=!1;n.onAbort(this._controller.signal,()=>{const C=new e("cancelled:layerview-create","layerview creation cancelled",{layer:y});this._deferred.reject(C)})}var x=D.prototype;x.destroy=function(){this._controller.abort();const {layerView:y}=
this;if(y){var {layer:z,view:A}=this;z.emit("layerview-destroy",{view:A,layerView:y});A.emit("layerview-destroy",{layer:z,layerView:y});this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null}};x.start=function(){var y=a._asyncToGenerator(function*(){if(!this._started){this._started=!0;var {_controller:{signal:z},layer:A,view:C}=this;this._map=C.map;try{var B,E;yield A.load({signal:z});"prefetchResources"in A&&(yield A.prefetchResources({signal:z}));let J;if(A.createLayerView)J=
yield A.createLayerView(C,{signal:z});else{if(!this.layerViewImporter.hasLayerViewModule(A))throw new e("layer:view-not-supported","No layerview implementation was found");var G=yield this.layerViewImporter.importLayerView(A);n.throwIfAborted(z);J="default"in G?new G.default({layer:A,view:C}):new G({layer:A,view:C})}let K;G=()=>{K=u.removeMaybe(K);J.destroyed||J.destroy();J.layer=null;J.parent=null;J.view=null;this.done=!0};K=n.onAbort(z,G);n.throwIfAborted(z);try{yield J.when()}catch(F){throw G(),
F;}(null==(B=this._map)?0:null==(E=B.allLayers)?0:E.includes(A))?(this.layerView=J,A.emit("layerview-create",{view:C,layerView:J}),C.emit("layerview-create",{layer:A,layerView:J}),this.done=!0,this._deferred.resolve(J)):(G(),this._deferred.reject(new e("view:no-layerview-for-layer","The layer has been removed from the map",{layer:A})))}catch(J){A.emit("layerview-create-error",{view:C,error:J}),C.emit("layerview-create-error",{layer:A,error:J}),this.done=!0,this._deferred.reject(new e("layerview:create-error",
"layerview creation failed",{layer:A,error:J}))}}});return function(){return y.apply(this,arguments)}}();a._createClass(D,[{key:"promise",get:function(){return this._deferred.promise}}]);return D}();d=function(D){function x(z){var A=D.call(this,z)||this;A._layerLayerViewInfoMap=new Map;A._watchUpdatingTracking=new h.WatchUpdatingTracking;A.supportsGround=!0;A._preloadLayerViewModules=()=>{var C;const B=null==(C=A.view.map)?void 0:C.allLayers;if(B)for(const E of B)A.layerViewImporter.hasLayerViewModule(E)&&
A.layerViewImporter.importLayerView(E)};A._reschedule=()=>{u.isNone(A._workPromise)&&(A._workPromise=n.createDeferred());A.handles.remove("reschedule");A.handles.add(g.schedule(A._doWork),"reschedule");return A._workPromise.promise};A._doWork=()=>{var C,B,E,G=A.view.map;A._map!==G&&(A.clear(),A._map=G);if(u.isNone(A._workPromise))A.notifyChange("updating");else{A.handles.remove("reschedule");A.handles.remove("collection-change");var J=new c({getCollections:()=>A._rootCollectionNames.map(K=>A.get(K)),
getChildrenFunction:K=>K&&"layers"in K?K.layers:null});for(const K of J)A._createLayerView(K);A._refreshCollections();for(const [K,F]of A._layerLayerViewInfoMap)J.includes(K)||(A._layerLayerViewInfoMap.delete(F.layer),F.destroy());J=J.filter(K=>"group"===K.type).map(K=>K.layers);G=[null==G?void 0:null==(C=G.ground)?void 0:C.layers,null==G?void 0:null==(B=G.basemap)?void 0:B.baseLayers,null==G?void 0:null==(E=G.basemap)?void 0:E.referenceLayers,null==G?void 0:G.layers,...J].filter(K=>!!K);A.handles.add(G.map(K=>
A._watchUpdatingTracking.addOnCollectionChange(()=>K,A._reschedule)),"collection-change");A._workPromise.resolve();A._workPromise=null}};return A}a._inheritsLoose(x,D);var y=x.prototype;y.initialize=function(){this.handles.add([k.on(()=>{var z,A;return null==(z=this.view)?void 0:null==(A=z.map)?void 0:A.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),k.watch(()=>{const z=this.view,A=null==z?void 0:z.map;return[null==A?void 0:A.basemap,null==A?void 0:
A.ground,null==A?void 0:A.layers,null==z?void 0:z.ready]},()=>this._reschedule(),k.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()};y.destroy=function(){this.clear();this._watchUpdatingTracking.destroy();this._map=null};y.clear=function(){if(!this.destroyed){for(const z of this._layerLayerViewInfoMap.values())z.destroy();this._layerLayerViewInfoMap.clear();this._refreshCollections()}};y.whenLayerView=function(){var z=a._asyncToGenerator(function*(A){yield this._reschedule();if(!this._layerLayerViewInfoMap.has(A))throw new e("view:no-layerview-for-layer",
"No layerview has been found for the layer",{layer:A});return this._layerLayerViewInfoMap.get(A).promise});return function(A){return z.apply(this,arguments)}}();y._refreshCollections=function(){for(const [z,A]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(z),this.get(A),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")};y._populateLayerViewsOwners=function(z,A,C){if(z&&A){var B=0;for(const E of z)(z=this._layerLayerViewInfoMap.get(E))&&z.layerView&&
(z=z.layerView,z.layer=E,z.parent=C,A.getItemAt(B)!==z&&A.splice(B,0,z),E.layers&&this._populateLayerViewsOwners(E.layers,z.layerViews,z),B+=1);B<A.length&&A.splice(B,A.length)}else A&&A.removeAll()};y._createLayerView=function(z){if(this._layerLayerViewInfoMap.has(z))this.view.ready&&this._layerLayerViewInfoMap.get(z).start();else{z.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(z)&&this.layerViewImporter.importLayerView(z);var A=new w(z,this.view,this.layerViewImporter);A.promise.then(()=>
this._refreshCollections(),C=>{if(!C||!n.isAbortError(C)&&"cancelled:layerview-create"!==C.name){var B,E;v.error(`Failed to create layerview for layer title:'${null!=(B=z.title)?B:"no title"}', id:'${null!=(E=z.id)?E:"no id"}' of type '${z.type}'.`,{layer:z,error:C})}this._refreshCollections()});this._layerLayerViewInfoMap.set(z,A);this.view.ready&&A.start()}this.notifyChange("updating");this.notifyChange("updatingRemaining")};a._createClass(x,[{key:"_layersToLayerViews",get:function(){const z=[["view.map.basemap.baseLayers",
"view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];this.supportsGround&&z.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(z)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return u.isSome(this._workPromise)||this._watchUpdatingTracking.updating||r.someMap(this._layerLayerViewInfoMap,z=>!z.done)}},
{key:"updatingRemaining",get:function(){let z=0;for(const A of this._layerLayerViewInfoMap.values())A.done||++z;return z}}]);return x}(d.HandleOwner);b.__decorate([l.property()],d.prototype,"_workPromise",void 0);b.__decorate([l.property({readOnly:!0})],d.prototype,"_watchUpdatingTracking",void 0);b.__decorate([l.property({readOnly:!0})],d.prototype,"_layersToLayerViews",null);b.__decorate([l.property({readOnly:!0})],d.prototype,"_rootCollectionNames",null);b.__decorate([l.property()],d.prototype,
"layerViewImporter",void 0);b.__decorate([l.property()],d.prototype,"supportsGround",void 0);b.__decorate([l.property({readOnly:!0})],d.prototype,"updating",null);b.__decorate([l.property({readOnly:!0})],d.prototype,"updatingRemaining",null);b.__decorate([l.property({constructOnly:!0})],d.prototype,"view",void 0);return d=b.__decorate([f.subclass("esri.views.LayerViewManager")],d)})},"esri/views/Magnifier":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n){c=function(k){function g(l){l=k.call(this,l)||this;l.factor=1.5;l.offset=e.createScreenPoint(0,0);l.position=null;l.size=120;l.maskUrl=null;l.maskEnabled=!0;l.overlayUrl=null;l.overlayEnabled=!0;l.visible=!0;return l}a._inheritsLoose(g,k);a._createClass(g,[{key:"version",get:function(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");
this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}}]);return g}(c);b.__decorate([d.property({type:Number})],c.prototype,"factor",void 0);b.__decorate([d.property({nonNullable:!0})],c.prototype,"offset",void 0);b.__decorate([d.property()],c.prototype,"position",void 0);b.__decorate([d.property({type:Number,range:{min:0}})],c.prototype,"size",void 0);b.__decorate([d.property()],c.prototype,"maskUrl",void 0);b.__decorate([d.property()],c.prototype,
"maskEnabled",void 0);b.__decorate([d.property()],c.prototype,"overlayUrl",void 0);b.__decorate([d.property()],c.prototype,"overlayEnabled",void 0);b.__decorate([d.property({readOnly:!0})],c.prototype,"version",null);b.__decorate([d.property({type:Boolean})],c.prototype,"visible",void 0);return c=b.__decorate([n.subclass("esri.views.Magnifier")],c)})},"esri/views/ToolViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/HandleOwner ../core/handleUtils ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./3d/support/TextureCollection ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D){const x=u.getLogger("esri.views.ToolViewManager");d=function(y){function z(C){var B=y.call(this,C)||this;B._manipulatorState=new D;B.tools=new e;B.cursor=null;B._forEachTool=E=>{for(const G of B.tools.items)if(E(G))break};return B}a._inheritsLoose(z,y);var A=z.prototype;A.initialize=function(){this.handles.add([this.view.on(h.eventTypes,C=>{this._handleInputEvent(C)},f.ViewEventPriorities.TOOL),...v.getToolCollectionHandles(this.tools),this.tools.on("before-remove",
({item:C})=>{this._manipulatorState.clearPointers(C,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])};A.destroy=function(){this.detach();this.handles.removeAll()};A.attach=function(){"3d"===this.view.type?(this._set("textures",new t.TextureCollection(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([k.watch(()=>{const {state:C}=this.view;return"camera"in C&&C.camera},()=>{this._forEachManipulator(C=>{if(null!=C.onViewChange)C.onViewChange()})}),
this.view.elevationProvider.on("elevation-change",C=>{this._forEachManipulator(B=>{if(null!=B.onElevationChange)B.onElevationChange(C)})}),p.makeHandle(()=>this._set("textures",n.destroyMaybe(this.textures)))],"attached")):this.handles.add(k.watch(()=>this.view.extent,()=>{this._forEachManipulator(C=>{if(null!=C.onViewChange)C.onViewChange()})}))};A.detach=function(){n.isSome(this.activeTool)&&(this.activeTool=null);this.tools.removeAll();this.handles.remove("attached")};A._forEachManipulator=function(C){this._forEachTool(B=>
{B.manipulators&&B.manipulators.forEach(({manipulator:E})=>C(E,B))})};A._handleInputEvent=function(C){let B=!1;const E={...C,stopPropagation:()=>{B=!0;C.stopPropagation()}};n.isSome(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(E):this._forEachTool(G=>{!B&&G.visible&&G.handleInputEvent(E)});!B&&"key-down"===C.type&&"Escape"===C.key&&this.activeTool&&(C.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(E,{forEachTool:this._forEachTool,
activeTool:this.activeTool,setActiveTool:G=>{this.activeTool=G},view:this.view});!B&&n.isSome(this.activeTool)&&this.activeTool.handleInputEventAfter(E);this._manipulatorState.handleHoverEvent(E,this._forEachTool);this._updateCursor()};A._refreshToolWatchers=function(){this.handles.remove("tools");this._forEachTool(C=>{if(C instanceof c){const B=k.watch(()=>[C.cursor,C.visible,C.editable],()=>{v.areToolManipulatorsEditable(C)||this._manipulatorState.clearPointers(C,this._forEachTool);this._updateCursor()});
this.handles.add(B,"tools")}C.manipulators&&this.handles.add(C.manipulators.on("change",B=>{B.removed.forEach(({id:E})=>{this._manipulatorState.clearPointers(C,this._forEachTool,!0,E)});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}),"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};A._updateCursor=function(){const C=this._manipulatorState.cursor;let B=C;this._forEachTool(E=>n.isSome(E.cursor)&&
E.visible&&(n.isNone(C)||!E.preferManipulatorCursor)?(B=E.cursor,!0):!1);this._get("cursor")!==B&&this._set("cursor",B)};A._removeIncompleteTools=function(C){this.tools.filter(B=>(n.isNone(C)||B!==C)&&!B.created&&B.removeIncompleteOnCancel).forEach(B=>{this.tools.remove(B)})};a._createClass(z,[{key:"activeTool",set:function(C){if(n.isSome(C)&&!this.view.ready)x.error("Cannot set active tool while view is not ready.");else if(C!==this.activeTool){var B=this.activeTool;this._set("activeTool",C);n.isSome(B)&&
B.deactivate();n.isSome(C)&&C.activate();this._removeIncompleteTools(C);C=n.isNone(this.activeTool);for(const E of this.tools)E.setEditableFlag(w.EditableFlag.MANAGER,C||E===this.activeTool),B=v.areToolManipulatorsEditable(E),!C&&B||this._manipulatorState.clearPointers(E,this._forEachTool,!B);this._updateCursor()}}},{key:"updating",get:function(){var C,B;return this.updatingHandles.updating||this.tools.some(E=>E.updating)||(null!=(C=null==(B=this.textures)?void 0:B.updating)?C:!1)}}]);return z}(d.HandleOwner);
b.__decorate([g.property({constructOnly:!0,nonNullable:!0})],d.prototype,"view",void 0);b.__decorate([g.property({readOnly:!0,nonNullable:!0})],d.prototype,"textures",void 0);b.__decorate([g.property({value:null})],d.prototype,"activeTool",null);b.__decorate([g.property({readOnly:!0,type:e})],d.prototype,"tools",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"cursor",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"updating",null);return d=b.__decorate([m.subclass("esri.views.ToolViewManager")],
d)})},"esri/views/3d/support/TextureCollection":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../support/Scheduler".split(" "),function(a,b,c,e,d,p,r,u,n,k,g){a.TextureCollection=function(l){function q(t,f){var h;var v=l.call(this,
{})||this;v._stage=t;v._textureRequests=new Map;v._frameTask=null!=(h=null==f?void 0:f.registerTask(g.TaskPriority.TEXTURE_UNLOAD))?h:g.ImmediateTask;return v}b._inheritsLoose(q,l);var m=q.prototype;m.normalizeCtorArgs=function(){return{}};m.destroy=function(){l.prototype.destroy.call(this);this._frameTask.remove();this._textureRequests.forEach(t=>this._releaseTextureRequest(t));this._textureRequests.clear()};m.fromData=function(t,f,h){const v=this.makeUid(t);t=this._textureRequests.get(v);t||(t=
{referenceCount:0,texture:f(),textureAsync:null,abortController:null,onRemove:h},this._stage&&(this._stage.add(t.texture),this._stage.loadImmediate(t.texture)),this._textureRequests.set(v,t));t.referenceCount++;return{uid:v,texture:t.texture,release:()=>this._release(v)}};m._release=function(t){const f=this._textureRequests.get(t);f?(1>f.referenceCount&&console.warn("TextureCollection: reference count is \x3c 1 for "+t),f.referenceCount--,1>f.referenceCount&&this._frameTask.schedule(()=>this._releaseNow(t))):
console.warn(`TextureCollection: texture doesn't exist: '${t}'`)};m._releaseNow=function(t){if(this._textureRequests){var f=this._textureRequests.get(t);!f||0<f.referenceCount||(this._releaseTextureRequest(f),this._textureRequests.delete(t))}};m._releaseTextureRequest=function(t){if(t.onRemove)t.onRemove();if(t.texture){var f;null==(f=this._stage)?void 0:f.remove(t.texture)}else t.abortController&&(t.abortController.abort(),t.abortController=null)};m.makeUid=function(t,f=null){return d.isSome(f)?
`${t}.${f}px`:t};b._createClass(q,[{key:"updating",get:function(){return this._frameTask.updating}},{key:"test",get:function(){return{textureRequests:this._textureRequests}}}]);return q}(e);c.__decorate([p.property()],a.TextureCollection.prototype,"_frameTask",void 0);c.__decorate([p.property()],a.TextureCollection.prototype,"updating",null);a.TextureCollection=c.__decorate([k.subclass("esri.views.3d.support.TextureCollection")],a.TextureCollection);Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/Logger ../../core/maybe ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/time ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w){function D(H){return y.has(H)?y.get(H):"number"===typeof H?H:1}const x=p.getLogger("esri.views.support.Scheduler");a.TaskPriority=void 0;(function(H){H.RESOURCE_CONTROLLER="schedule";H.SLIDE="slide";H.STREAM_DATA_LOADER="stream loader";H.ELEVATION_QUERY="elevation query";H.TERRAIN_SURFACE="terrain";H.SURFACE_GEOMETRY_UPDATES="surface geometry updates";H.GRAPHICS_CORE="Graphics3D";H.I3S_CONTROLLER="I3S";H.POINT_CLOUD_LAYER="point cloud";H.FEATURE_TILE_FETCHER=
"feature fetcher";H.OVERLAY="overlay";H.STAGE="stage";H.GRAPHICS_DECONFLICTOR="graphics deconflictor";H.FILTER_VISIBILITY="Graphics3D filter visibility";H.SCALE_VISIBILITY="Graphics3D scale visibility";H.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";H.POINT_OF_INTEREST_FREQUENT="POI frequent";H.POINT_OF_INTEREST_INFREQUENT="POI infrequent";H.LABELER="labeler";H.FEATURE_QUERY_ENGINE="feature query";H.FEATURE_TILE_TREE="feature tile tree";H.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";H.ELEVATION_ALIGNMENT=
"elevation alignment";H.TEXT_TEXTURE_ATLAS="text texture atlas";H.TEXTURE_UNLOAD="texture unload";H.LINE_OF_SIGHT_TOOL="line of sight tool";H.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";H.ELEVATION_PROFILE="elevation profile";H.SNAPPING="snapping";H.SHADOW_ACCUMULATOR="shadow accumulator";H.CLOUDS_GENERATOR="cloud generator";H[H.TEST_PRIO=1]="TEST_PRIO"})(a.TaskPriority||(a.TaskPriority={}));const y=new Map([[a.TaskPriority.RESOURCE_CONTROLLER,0],[a.TaskPriority.SLIDE,0],[a.TaskPriority.STREAM_DATA_LOADER,
0],[a.TaskPriority.ELEVATION_QUERY,0],[a.TaskPriority.TERRAIN_SURFACE,1],[a.TaskPriority.SURFACE_GEOMETRY_UPDATES,1],[a.TaskPriority.GRAPHICS_CORE,2],[a.TaskPriority.I3S_CONTROLLER,2],[a.TaskPriority.POINT_CLOUD_LAYER,2],[a.TaskPriority.FEATURE_TILE_FETCHER,2],[a.TaskPriority.OVERLAY,4],[a.TaskPriority.STAGE,4],[a.TaskPriority.GRAPHICS_DECONFLICTOR,4],[a.TaskPriority.FILTER_VISIBILITY,4],[a.TaskPriority.SCALE_VISIBILITY,4],[a.TaskPriority.FRUSTUM_VISIBILITY,4],[a.TaskPriority.POINT_OF_INTEREST_FREQUENT,
6],[a.TaskPriority.POINT_OF_INTEREST_INFREQUENT,30],[a.TaskPriority.LABELER,8],[a.TaskPriority.FEATURE_QUERY_ENGINE,8],[a.TaskPriority.FEATURE_TILE_TREE,16],[a.TaskPriority.FEATURE_TILE_TREE_ACTIVE,0],[a.TaskPriority.ELEVATION_ALIGNMENT,12],[a.TaskPriority.TEXT_TEXTURE_ATLAS,12],[a.TaskPriority.CLOUDS_GENERATOR,12],[a.TaskPriority.TEXTURE_UNLOAD,12],[a.TaskPriority.LINE_OF_SIGHT_TOOL,16],[a.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[a.TaskPriority.SNAPPING,0],[a.TaskPriority.SHADOW_ACCUMULATOR,
30]]);a.State=void 0;(function(H){H[H.ANIMATING=0]="ANIMATING";H[H.INTERACTING=1]="INTERACTING";H[H.IDLE=2]="IDLE"})(a.State||(a.State={}));const z=l.Milliseconds(6.5),A=l.Milliseconds(1),C=l.Milliseconds(30),B=l.Milliseconds(1E3/30),E=l.Milliseconds(100);var G;(function(H){let I=function(Z){function ca(){var O=Z.call(this)||this;O.updating=!0;O._microTaskQueued=!1;O.performanceInfo={total:new u("total"),tasks:new Map};O._frameTaskTimes=new Map;O._budget=new Q;O._state=a.State.INTERACTING;O._tasks=
new n;O._runQueue=new n;O._load=0;O._idleStateCallbacks=new n;O._idleUpdatesStartFired=!1;O._maxReschedule=F;O._forceTask=!1;O._debug=!1;O._debugHandle=g.watch(()=>w.SCHEDULER_LOG_SLOW_TASKS,Da=>O._debug=Da,g.initial);for(const Da of Object.keys(a.TaskPriority))O.performanceInfo.tasks.set(a.TaskPriority[Da],new u(a.TaskPriority[Da]));let fa;const oa=b._assertThisInitialized(O);O._test={get state(){return r.unwrapOr(fa,oa._state)},set state(Da){fa=Da},FRAME_SAFETY_BUDGET:z,INTERACTING_BUDGET:B,IDLE_BUDGET:E,
get availableBudget(){return oa._budget.budget},usedBudget:0,getBudget:()=>oa._budget,setBudget:Da=>oa._budget=Da,updateTask:Da=>O._updateTask(Da),getState:Da=>O._getState(Da),getRuntime:Da=>O._getRuntime(Da),frameTaskTimes:O._frameTaskTimes,resetRuntimes:()=>O._resetRuntimes(),getRunning:()=>O._getRunning()};return O}b._inheritsLoose(ca,Z);var aa=ca.prototype;aa.destroy=function(){this._tasks.toArray().forEach(O=>O.remove());this._tasks.clear();r.removeMaybe(this._debugHandle);this.updating=this._microTaskQueued=
!1};aa.activate=function(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=F,this._schedule(),this.frame()))}))};aa.registerTask=function(O,fa){const oa=D(O);fa=new L(this,O,fa,oa);this._tasks.push(fa);this.performanceInfo.tasks.has(O)||this.performanceInfo.tasks.set(O,new u(O));return fa};aa.registerIdleStateCallbacks=function(O,fa){const oa={idleBegin:O,idleEnd:fa};this._idleStateCallbacks.push(oa);
this.state===a.State.IDLE&&this._idleUpdatesStartFired&&oa.idleBegin();const Da=this;return{remove:()=>this._removeIdleStateCallbacks(oa),set idleBegin(Ha){Da._idleUpdatesStartFired&&(oa.idleEnd(),Da._state===a.State.IDLE&&Ha());oa.idleBegin=Ha},set idleEnd(Ha){oa.idleEnd=Ha}}};aa.updateBudget=function(O){this._test.usedBudget=0;let fa=z,oa=O.frameDuration,Da=A;switch(this.state){case a.State.IDLE:fa=l.Milliseconds(0);oa=l.Milliseconds(Math.max(E,O.frameDuration));Da=C;break;case a.State.INTERACTING:oa=
l.Milliseconds(Math.max(B,O.frameDuration))}oa=l.Milliseconds(oa-O.elapsedFrameTime-fa);if(this.state!==a.State.IDLE&&oa<A&&!this._forceTask)return this._forceTask=!0,!1;oa=l.Milliseconds(Math.max(oa,Da));this._budget.reset(oa,this.state);this._maxReschedule=F;this._updateLoad();return this._schedule()};aa.frame=function(){this._microTaskQueued=this._forceTask=!1;switch(this.state){case a.State.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(O=>O.idleBegin()));
this._runIdle();break;case a.State.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};aa.stopFrame=function(){this._budget.reset(l.Milliseconds(0),this._state);this._budget.madeProgress()};aa._removeIdleStateCallbacks=function(O){this._idleUpdatesStartFired&&O.idleEnd();this._idleStateCallbacks.removeUnordered(O)};aa.removeTask=function(O){this._tasks.removeUnordered(O);this._runQueue.removeUnordered(O)};aa._updateTask=function(O){this._tasks.forAll(fa=>
{fa.name===O&&fa.setPriority(O)})};aa._getState=function(O){if(this._runQueue.some(oa=>oa.name===O))return a.TaskState.SCHEDULED;let fa=a.TaskState.IDLE;this._tasks.forAll(oa=>{oa.name===O&&oa.needsUpdate&&(1>=oa.schedulePriority?fa=a.TaskState.READY:fa!==a.TaskState.READY&&(fa=a.TaskState.WAITING))});return fa};aa._getRuntime=function(O){let fa=0;this._tasks.forAll(oa=>{oa.name===O&&(fa+=oa.runtime)});return fa};aa._resetRuntimes=function(){this._tasks.forAll(O=>O.runtime=0)};aa._getRunning=function(){const O=
new Map;this._tasks.forAll(oa=>{oa.needsUpdate&&O.set(oa.name,(O.get(oa.name)||0)+1)});if(0===O.size)return null;let fa="";O.forEach((oa,Da)=>{fa=1<oa?fa+` ${oa}x ${Da}`:fa+` ${Da}`});return fa};aa._runIdle=function(){this._run()};aa._runInteracting=function(){this._run()};aa._runAnimating=function(){this._run()};aa._updateLoad=function(){const O=this._tasks.reduce((fa,oa)=>oa.needsUpdate?++fa:fa,0);this._load=.9*this._load+O*(1-.9)};aa._schedule=function(){if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(O=>
{if(O.needsUpdate)return!0;O.schedulePriority=O.basePriority;return!1});for(this._tasks.forAll(O=>{0===O.basePriority&&O.needsUpdate&&!this._runQueue.includes(O)&&this._runQueue.unshift(O)});0===this._runQueue.length;){let O=!1,fa=0;this._tasks.forAll(oa=>{if(oa.needsUpdate&&0!==oa.schedulePriority&&0!==oa.basePriority)switch(O=!0,fa=Math.max(fa,oa.basePriority),oa.schedulePriority){case 1:oa.schedulePriority=0;this._runQueue.push(oa);break;default:--oa.schedulePriority}});if(!O)return this.updating=
!1;this._maxReschedule===F&&(this._maxReschedule=fa);--this._maxReschedule}return this.updating=!0};aa._run=function(){const O=this._budget.now();this._startFrameTaskTimes();do for(;0<this._runQueue.length;){var fa=this._budget.now();const oa=this._runQueue.pop();this._budget.resetProgress();try{oa.task.runTask(this._budget)}catch(Da){x.error(`Exception in task "${oa.name}"`,Da)}oa.schedulePriority=oa.basePriority;fa=this._budget.now()-fa;oa.runtime+=fa;this._frameTaskTimes.set(oa.priority,this._frameTaskTimes.get(oa.priority)+
fa);this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",oa.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this.updating=this._tasks.some(Da=>Da.needsUpdate);this._recordFrameTaskTimes(this._budget.now()-O);return}}while(this._schedule());this.updating=this._tasks.some(oa=>oa.needsUpdate);this._recordFrameTaskTimes(this._budget.now()-O)};aa._startFrameTaskTimes=function(){for(const O of Object.keys(a.TaskPriority))this._frameTaskTimes.set(a.TaskPriority[O],
0)};aa._recordFrameTaskTimes=function(O){this._frameTaskTimes.forEach((fa,oa)=>this.performanceInfo.tasks.get(oa).record(fa));this.performanceInfo.total.record(O)};b._createClass(ca,[{key:"load",get:function(){return this._load}},{key:"state",get:function(){return r.isNone(this._test.state)?this._state:this._test.state},set:function(O){this._state!==O&&(this._state=O,this.state!==a.State.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(fa=>fa.idleEnd())))}},
{key:"test",get:function(){return this._test}}]);return ca}(e);c.__decorate([q.property()],I.prototype,"updating",void 0);I=c.__decorate([h.subclass("esri.views.support.Scheduler")],I);H.Scheduler=I;let L=function(Z){function ca(O,fa,oa,Da){var Ha=Z.call(this,{})||this;Ha._scheduler=O;Ha.name=fa;Ha._basePriority=Da;Ha.runtime=0;Ha._queue=new v.PromiseQueue;Ha._handles=new d;Ha.schedulePriority=Ha._basePriority;Ha.task=r.isSome(oa)?oa:Ha._queue;Ha._handles.add(g.when(()=>Ha.task.running,()=>O.activate()));
return Ha}b._inheritsLoose(ca,Z);var aa=ca.prototype;aa.normalizeCtorArgs=function(){return{}};aa.remove=function(){this.processQueue(J);this._scheduler.removeTask(this);this.schedule=K.schedule;this.reschedule=K.reschedule;this._handles.destroy()};aa.setPriority=function(O){this.name=O;O=D(O);if(0===this._basePriority||0!==this.schedulePriority)this.schedulePriority=O;this._basePriority=O};aa.schedule=function(O,fa,oa){return this._queue.push(O,fa,oa)};aa.reschedule=function(O,fa,oa){return this._queue.unshift(O,
fa,oa)};aa.processQueue=function(O){this._queue.runTask(O)};b._createClass(ca,[{key:"updating",get:function(){return this._queue.running}},{key:"basePriority",get:function(){return this._basePriority}},{key:"priority",get:function(){return this.name},set:function(O){this.setPriority(O)}},{key:"needsUpdate",get:function(){return this.updating||this.task.running}}]);return ca}(e);c.__decorate([q.property({constructOnly:!0})],L.prototype,"task",void 0);c.__decorate([q.property({readOnly:!0})],L.prototype,
"updating",null);L=c.__decorate([h.subclass("esri.views.support.SchedulerTask")],L);let Q=function(){function Z(){this._begin="undefined"!==typeof performance?performance.now():0;this._budget=0;this._state=a.State.IDLE;this._didWork=!1;this._enabled=!0}var ca=Z.prototype;ca.run=function(aa){if(this.done)return!1;!0===aa()&&(this._didWork=!0);return!0};ca.madeProgress=function(){this._didWork=!0};ca.reset=function(aa,O){this._begin=this.now();this._budget=aa;this._state=O;this._didWork=!1};ca.now=
function(){return performance.now()};ca.resetProgress=function(){this._didWork=!1};b._createClass(Z,[{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(aa){this._enabled=aa}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return performance.now()-
this._begin}},{key:"hasProgressed",get:function(){return this._didWork}}]);return Z}();H.Budget=Q})(G||(G={}));a.TaskState=void 0;(function(H){H.SCHEDULED="s";H.READY="r";H.WAITING="w";H.IDLE="i"})(a.TaskState||(a.TaskState={}));const J=(()=>{const H=new G.Budget;H.enabled=!1;return H})(),K=new (function(){function H(){}var I=H.prototype;I.remove=function(){};I.processQueue=function(){};I.schedule=function(L,Q,Z){try{if(k.isAborted(Q)){const ca=k.createAbortError();return Z?Promise.resolve(Z(ca)):
Promise.reject(ca)}return k.when(L(J))}catch(ca){return Promise.reject(ca)}};I.reschedule=function(L,Q,Z){return this.schedule(L,Q,Z)};return H}()),F=Number.MAX_SAFE_INTEGER;a.ImmediateTask=K;a.getTaskPriority=D;a.newScheduler=function(){return new G.Scheduler};a.noBudget=J;a.taskPriorities=y;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/PromiseQueue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){a.PromiseQueue=function(l){function q(){var t=l.apply(this,arguments)||this;t._tasks=[];t.running=!1;return t}b._inheritsLoose(q,l);var m=q.prototype;m.destroy=function(){this.cancelAll()};m.runTask=function(t){for(;!t.done&&this._process(t);)t.madeProgress()};m.push=function(t,f,h){this.running=!0;return new Promise((v,w)=>this._tasks.push(new g(v,w,t,f,h)))};m.unshift=function(t,f,h){this.running=!0;return new Promise((v,w)=>this._tasks.unshift(new g(v,w,t,f,h)))};
m._process=function(t){if(0===this._tasks.length)return!1;const f=this._tasks.shift();try{const h=d.isAborted(f.signal);if(h&&!f.abortCallback)f.reject(d.createAbortError());else{const v=h?f.abortCallback(d.createAbortError()):f.callback(t);d.isPromiseLike(v)?v.then(f.resolve,f.reject):f.resolve(v)}}catch(h){f.reject(h)}this.running=0<this._tasks.length;return!0};m.cancelAll=function(){const t=d.createAbortError();for(const f of this._tasks)if(f.abortCallback){const h=f.abortCallback(t);f.resolve(h)}else f.reject(t);
this._tasks.length=0;this.running=!1};b._createClass(q,[{key:"length",get:function(){return this._tasks.length}}]);return q}(e);c.__decorate([p.property()],a.PromiseQueue.prototype,"running",void 0);a.PromiseQueue=c.__decorate([k.subclass("esri.layers.support.PromiseQueue")],a.PromiseQueue);let g=function(l,q,m,t,f){this.resolve=l;this.reject=q;this.callback=m;this.signal=t;this.abortCallback=f};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(n){function k(){var g=n.apply(this,arguments)||this;g.SCHEDULER_LOG_SLOW_TASKS=!1;g.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1;return g}a._inheritsLoose(k,n);return k}(c);b.__decorate([e.property()],c.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);b.__decorate([e.property()],c.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);c=b.__decorate([u.subclass("esri.views.support.DebugFlags")],c);return new c})},"esri/views/input/InputManager":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../3d/support/PropertiesPool ./keys ./handlers/LatestPointer".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){const f=d.getLogger("esri.views.input.InputManager");a.InputManager=function(x){function y(A){var C=x.call(this,A)||this;C._pointerCaptures=new Map;C._nameToGroup={};C._handlers=[];C._currentPropagation=null;C._updateDependenciesAfterPropagation=!1;C._sourceEvents=new Set;C._keyModifiers=new Set;C._activeKeyModifiers=new Set;C._stoppedPropagationEventIds=new Set;C.primaryKey=m.primaryKey;C.latestPointerType="mouse";C._propertiesPool=new q.PropertiesPool({latestPointerLocation:D},
b._assertThisInitialized(C));C.latestPointerLocation=null;C.test={timestamp:void 0,hasCurrentPropagation:()=>!!C._currentPropagation};return C}b._inheritsLoose(y,x);var z=y.prototype;z.initialize=function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};z.destroy=function(){const A=Object.keys(this._nameToGroup);for(const C of A)this.uninstallHandlers(C);this._currentPropagation=this.eventSource=null;this._propertiesPool.destroy()};z.installHandlers=
function(A,C,B=w.INTERNAL){if(this._nameToGroup[A])f.error("There is already an InputHandler group registered under the name `"+A+"`");else if(0===C.length)f.error("Can't register a group of zero handlers");else{var E={name:A,handlers:C.map(G=>({handler:G,active:!0,removed:!1,priorityIndex:0,groupPriority:B,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[A]=E;for(A=E.handlers.length-1;0<=A;A--){const G=E.handlers[A];this._handlers.push(G);G.handler.onInstall({updateDependencies:()=>
{this.updateDependencies()},emit:(J,K,F,H,I)=>{this._emitInputEvent(G.priorityIndex+1,J,K,F,I,H)},setPointerCapture:(J,K)=>{this._setPointerCapture(E,G,J,K)},setEventCallback:J=>{G.eventCallback=J},setUninstallCallback:J=>{G.uninstallCallback=J},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}};z.uninstallHandlers=function(A){const C=this._nameToGroup[A];C?(C.handlers.forEach(B=>{B.removed=!0;B.uninstallCallback()}),delete this._nameToGroup[A],this._currentPropagation?
this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):f.error("There is no InputHandler group registered under the name `"+A+"`")};z.hasHandlers=function(A){return void 0!==this._nameToGroup[A]};z.updateDependencies=function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var A=new Set,C=new Set;this._handlersPriority=[];for(var B=this._handlers.length-1;0<=B;B--){var E=this._handlers[B];
E.priorityIndex=B;this._handlersPriority.push(E)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(B=this._handlersPriority.length-1;0<=B;B--){E=this._handlersPriority[B];E.priorityIndex=B;let G=E.handler.hasSideEffects;if(!G)for(const J of E.handler.outgoingEventTypes)if(A.has(J)){G=!0;break}if(G)for(const J of E.handler.incomingEventMatches){A.add(J.eventType);for(const K of J.keyModifiers)m.isSystemModifier(K)||C.add(K)}E.active=G}this._sourceEvents=A;this._keyModifiers=
C;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}};z._setLatestPointer=function(A,C,B){this._get("latestPointerType")!==A&&this._set("latestPointerType",A);A=this._get("latestPointerLocation");if(p.isNone(A)||A.x!==C||A.y!==B)A=this._propertiesPool.get("latestPointerLocation"),A.x=C,A.y=B,this._set("latestPointerLocation",
A)};z._onEventReceived=function(A,C){"pointer-capture-lost"===A&&this._pointerCaptures.delete(C.native.pointerId);this._updateKeyModifiers(A,C);this._emitInputEventFromSource(A,C,null!=this.test.timestamp?this.test.timestamp:C.native?C.native.timestamp:void 0,C.native?C.native.cancelable:void 0)};z._updateKeyModifiers=function(A,C){if(C){var B=!1,E=()=>{if(!B){const J=new Set;this._activeKeyModifiers.forEach(K=>{J.add(K)});this._activeKeyModifiers=J;B=!0}},G=(J,K)=>{K&&!this._activeKeyModifiers.has(J)?
(E(),this._activeKeyModifiers.add(J)):!K&&this._activeKeyModifiers.has(J)&&(E(),this._activeKeyModifiers.delete(J))};if("key-down"===A||"key-up"===A){const J=C.key;this._keyModifiers.has(J)&&G(J,"key-down"===A)}A=C.native;G("Alt",!(!A||!A.altKey));G("Ctrl",!(!A||!A.ctrlKey));G("Shift",!(!A||!A.shiftKey));G("Meta",!(!A||!A.metaKey));G("Primary",this._activeKeyModifiers.has(this.primaryKey))}};z._installRecognizers=function(){this._latestPointerHandler=new t.LatestPointer((A,C,B)=>this._setLatestPointer(A,
C,B));this.installHandlers("input-manager-logic",[this._latestPointerHandler],w.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,w.INTERNAL)};z._setPointerCapture=function(A,C,B,E){A=A.name+"-"+C.priorityIndex;C=this._pointerCaptures.get(B.pointerId)||new Set;this._pointerCaptures.set(B.pointerId,C);E?(C.add(A),1===C.size&&this.eventSource&&this.eventSource.setPointerCapture(B,!0)):C.has(A)&&(C.delete(A),0===C.size&&(this._pointerCaptures.delete(B.pointerId),this.eventSource&&
this.eventSource.setPointerCapture(B,!1)))};z._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(A=>!A.removed);this.updateDependencies()};z._emitInputEventFromSource=function(A,C,B,E){this._emitInputEvent(0,A,C,B,E)};z._emitInputEvent=function(A,C,B,E,G,J){E=void 0!==E?E:this._currentPropagation?this._currentPropagation.timestamp:performance.now();A={event:new h(C,B,E,J||this._activeKeyModifiers,void 0!==G?G:!1),priorityIndex:A};this._currentPropagation?this._currentPropagation.events.push(A):
this._doNewPropagation(A)};z._doNewPropagation=function(A){this._currentPropagation={events:new r,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:A.event.timestamp};this._currentPropagation.events.push(A);this._continuePropagation()};z._continuePropagation=function(){const A=this._currentPropagation;if(A){for(;0<this._currentPropagation.events.length;){const {event:C,priorityIndex:B}=this._currentPropagation.events.pop(),E=C.data&&C.data.eventId;if(null==E||!this._stoppedPropagationEventIds.has(E))for(A.currentHandler=
this._handlersPriority[B];A.currentHandler;){if(A.currentHandler.removed)A.needsHandlerGarbageCollect=!0;else{A.currentHandler.active&&!C.shouldStopPropagation()&&A.currentHandler.eventCallback(C);if(C.shouldStopPropagation()){null!=E&&this._stoppedPropagationEventIds.add(E);break}if(C.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:C,priorityIndex:A.currentHandler.priorityIndex+1});return}}A.currentHandler=this._handlersPriority[A.currentHandler.priorityIndex+
1]}}A.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}};z._pausePropagation=function(A){const C=new r;for(C.push(A);this._currentPropagation.events.length;)C.push(this._currentPropagation.events.pop());this._currentPropagation.events=C;this._currentPropagation.currentHandler=null};z._compareHandlerPriority=function(A,C){if(A.handler.hasSideEffects!==
C.handler.hasSideEffects)return A.handler.hasSideEffects?1:-1;if(A.groupPriority!==C.groupPriority)return A.groupPriority>C.groupPriority?-1:1;for(const B of A.handler.incomingEventMatches)for(const E of C.handler.incomingEventMatches){if(B.eventType!==E.eventType)continue;const G=B.keyModifiers.filter(J=>E.keyModifiers.includes(J));if(G.length===B.keyModifiers.length!==(G.length===E.keyModifiers.length))return B.keyModifiers.length>E.keyModifiers.length?-1:1}return A.priorityIndex>C.priorityIndex?
-1:1};z._sortHandlersPriority=function(A){const C=[];for(const B of A){for(A=0;A<C.length&&0<=this._compareHandlerPriority(B,C[A]);)A++;C.splice(A,0,B)}return C};b._createClass(y,[{key:"hasPendingInputs",get:function(){return this._handlers.some(A=>A.handler.hasPendingInputs)}},{key:"debug",get:function(){const A=C=>{const B=this._setPointerCapture;this._setPointerCapture=()=>{};C();this._setPointerCapture=B};return{injectEvent:(C,B)=>{A(()=>{this._onEventReceived(C,B)})},disablePointerCapture:A}}}]);
return y}(e);c.__decorate([u.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);c.__decorate([u.property()],a.InputManager.prototype,"eventSource",void 0);c.__decorate([u.property()],a.InputManager.prototype,"recognizers",void 0);c.__decorate([u.property({readOnly:!0})],a.InputManager.prototype,"latestPointerType",void 0);c.__decorate([u.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",void 0);a.InputManager=c.__decorate([l.subclass("esri.views.input.InputManager")],
a.InputManager);let h=function(){function x(z,A,C,B,E){this.type=z;this.data=A;this.timestamp=C;this.modifiers=B;this.cancelable=E;this._propagationState=v.NONE;this._resumeCallback=null}var y=x.prototype;y.stopPropagation=function(){this._propagationState|=v.STOPPED};y.shouldStopPropagation=function(){return 0!==(this._propagationState&v.STOPPED)};y.async=function(z){this._propagationState|=v.PAUSED;const A=(C,B)=>{this._propagationState&=~v.PAUSED;const E=this._resumeCallback;this._resumeCallback=
null;E&&E();if(B)throw C;return C};return("function"===typeof z?z():z).then(C=>A(C,!1),C=>A(C,!0))};y.shouldPausePropagation=function(z){return this._propagationState&v.PAUSED?(this._resumeCallback=z,!0):!1};y.preventDefault=function(){this.data.native.preventDefault()};return x}();var v;(function(x){x[x.NONE=0]="NONE";x[x.STOPPED=1]="STOPPED";x[x.PAUSED=2]="PAUSED"})(v||(v={}));const w={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let D=function(){};a.ViewEventPriorities=w;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/support/PropertiesPool":function(){define(["exports","../../../core/ReentrantObjectPool","../../../core/accessorSupport/watch"],function(a,b,c){let e=function(){function d(r,u){this.owner=u;this.properties={};this.afterDispatchHandle=null;for(const n in r)u=new b.ReentrantObjectPool(r[n],null,null,2,2),this.properties[n]={pool:u,acquired:[]};this.afterDispatchHandle=c.afterDispatch(()=>this._release())}var p=d.prototype;
p.destroy=function(){this.afterDispatchHandle&&(this.afterDispatchHandle.remove(),this.afterDispatchHandle=null);for(const r in this.properties){const u=this.properties[r];for(const n of u.acquired)c.isValueInUse(n)||u.pool.release(n);u.pool.destroy();u.pool=null;u.acquired=null}this.owner=this.properties=null};p.get=function(r){const u=this.owner._get(r);r=this.properties[r];let n=r.pool.acquire();for(r.acquired.push(n);n===u;)r.acquired.push(n),n=r.pool.acquire();return n};p._release=function(){for(const r in this.properties){const u=
this.properties[r];let n=0;for(const k of u.acquired)c.isValueInUse(k)?u.acquired[n++]=k:u.pool.release(k);u.acquired.length=n}};return d}();a.PropertiesPool=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/input/keys":function(){define(["exports","../../core/events","../../core/has"],function(a,b,c){c=c("mac")?"Meta":"Ctrl";const e={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",
39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(var d=48;58>d;d++)e[d]=String.fromCharCode(d);for(d=1;25>d;d++)e[111+d]=`F${d}`;for(d=65;91>d;d++)e[d]=[String.fromCharCode(d+32),String.fromCharCode(d)];a.eventKey=function(p){if(void 0!==p.key)return b.eventKey(p);const r=e[p.keyCode];return Array.isArray(r)?p.shiftKey?r[1]:r[0]:r};a.isSystemModifier=function(p){switch(p){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};a.primaryKey=c;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(a,b,c){c=function(e){function d(p){var r=e.call(this,!0)||this;r._onChange=p;r._value="mouse";r._x=null;r._y=null;r.registerIncoming("pointer-move",u=>{r._setValue("touch"===u.data.native.pointerType?"touch":"mouse",u.data.x,u.data.y)});return r}b._inheritsLoose(d,e);d.prototype._setValue=function(p,
r,u){if(p!==this._value||this._x!==r||this._y!==u)this._value=p,this._x=r,this._y=u,this._onChange(p,r,u)};return d}(c.InputHandler);a.LatestPointer=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/input/InputHandler":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Logger","./EventMatch"],function(a,b,c,e){const d=c.getLogger("esri.views.input.InputHandler");c=function(){function u(k){this._manager=null;this._incoming=
{};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=k}var n=u.prototype;n.onInstall=function(k){this._manager?d.error("This InputHandler has already been registered with an InputManager"):(k.setEventCallback(g=>this._handleEvent(g)),k.setUninstallCallback(()=>this._onUninstall()),this._manager=k)};n.onUninstall=function(){};n.registerIncoming=function(k,g,l){"function"===typeof g?(l=g,g=[]):g=g||[];k="string"===typeof k?new e.EventMatch(k,
g):k;const q=()=>{this._incomingEventMatches=this._incomingEventTypes=null};g=m=>{const t=this._incoming[m.match.eventType];t&&(m=t.indexOf(m),t.splice(m,1),q(),this._manager&&this._manager.updateDependencies())};l=new p(k,l,{onPause:g,onRemove:g,onResume:m=>{const t=this._incoming[m.match.eventType];t&&!t.includes(m)&&(t.push(m),q(),this._manager&&this._manager.updateDependencies())}});g=this._incoming[k.eventType];g||(g=[],this._incoming[k.eventType]=g);g.push(l);q();this._manager&&this._manager.updateDependencies();
return l};n.registerOutgoing=function(k){if(this._outgoing[k])throw Error("There is already a callback registered for this outgoing InputEvent: "+k);const g=new r(k,{onEmit:(l,q,m,t)=>{this._manager.emit(l.eventType,q,m,t)},onRemove:l=>{delete this._outgoing[l.eventType];this._manager.updateDependencies()}});this._outgoing[k]=g;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return g};n.startCapturingPointer=function(k){this._manager.setPointerCapture(k,!0)};n.stopCapturingPointer=
function(k){this._manager.setPointerCapture(k,!1)};n.refreshHasPendingInputs=function(){this._manager.refreshHasPendingInputs()};n._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):d.error("This InputHandler is not registered with an InputManager")};n._handleEvent=function(k){const g=this._incoming[k.type];if(g)for(const l of g)if(l.match.matches(k)&&(l.callback(k),k.shouldStopPropagation()))break};b._createClass(u,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=
[];for(const k in this._incoming){const g=this._incoming[k];for(const l of g)this._incomingEventMatches.push(l.match)}}return this._incomingEventMatches}},{key:"incomingEventTypes",get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(k=>k.eventType));return this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}},{key:"hasSideEffects",
get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}}]);return u}();let p=function(){function u(k,g,l){this.match=k;this._callback=g;this._handler=l}var n=u.prototype;n.pause=function(){this._handler.onPause(this)};n.resume=function(){this._handler.onResume(this)};n.remove=function(){this._handler.onRemove(this)};b._createClass(u,[{key:"callback",get:function(){return this._callback}}]);return u}(),r=function(){function u(k,g){this.eventType=k;this._removed=
!1;this._handler=g}var n=u.prototype;n.emit=function(k,g,l){if(!this._removed)this._handler.onEmit(this,k,g,l)};n.remove=function(){this._removed=!0;this._handler.onRemove(this)};return u}();a.InputHandler=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){let b=function(){function c(e,d=[]){this.eventType=e;this.keyModifiers=d}c.prototype.matches=function(e){if(e.type!==this.eventType)return!1;
if(0===this.keyModifiers.length)return!0;e=e.modifiers;for(const d of this.keyModifiers)if(!e.has(d))return!1;return!0};return c}();a.EventMatch=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/input/ViewEvents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),function(a,b,c,e,d,p,r,u){function n(m){return!!g[m]}
function k(m){for(const t of m)if(!n(t))return!1;return!0}c="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const g={};c.forEach(m=>{g[m]=!0});let l=function(){function m(f){this.handlers=new Map;this.counter=0;this.handlerCounts=new Map;this.view=f;this.inputManager=null}var t=m.prototype;t.connect=function(f){f&&this.disconnect();this.inputManager=
f;this.handlers.forEach(({handler:h,priority:v},w)=>this.inputManager.installHandlers(w,[h],v))};t.disconnect=function(){this.inputManager&&this.handlers.forEach((f,h)=>this.inputManager.uninstallHandlers(h));this.inputManager=null};t.destroy=function(){this.disconnect();this.handlers.clear();this.view=null};t.on=function(f,h,v,w){const D=Array.isArray(f)?f:f.split(",");if(!k(D))return D.some(n)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),
null;if(Array.isArray(h))f=h;else{var x=h;f=[]}"function"===typeof v?x=v:w=v;w=null!=w?w:r.ViewEventPriorities.DEFAULT;const y=this._createUniqueGroupName();v=new q(this.view,D,f,x);this.handlers.set(y,{handler:v,priority:w});for(const z of D)x=this.handlerCounts.get(z)||0,this.handlerCounts.set(z,x+1);this.inputManager&&this.inputManager.installHandlers(y,[v],w);return{remove:()=>this._removeHandler(y,D)}};t.hasHandler=function(f){return!!this.handlerCounts.get(f)};t._removeHandler=function(f,h){if(this.handlers.has(f)){this.handlers.delete(f);
for(const v of h)h=this.handlerCounts.get(v),void 0===h?console.error("Trying to remove handler for event that has no handlers registered: ",v):1===h?this.handlerCounts.delete(v):this.handlerCounts.set(v,h-1)}this.inputManager&&this.inputManager.uninstallHandlers(f)};t._createUniqueGroupName=function(){this.counter+=1;return`viewEvents_${this.counter}`};return m}(),q=function(m){function t(h,v,w,D){var x=m.call(this,!0)||this;x.view=h;for(const y of v)switch(y){case "click":x.registerIncoming("click",
w,z=>D(x._wrapClick(z)));break;case "double-click":x.registerIncoming("double-click",w,z=>D(x._wrapDoubleClick(z)));break;case "immediate-click":x.registerIncoming("immediate-click",w,z=>D(x._wrapImmediateClick(z)));break;case "immediate-double-click":x.registerIncoming("immediate-double-click",w,z=>D(x._wrapImmediateDoubleClick(z)));break;case "hold":x.registerIncoming("hold",w,z=>D(x._wrapHold(z)));break;case "drag":x.registerIncoming("drag",w,z=>{(z=x._wrapDrag(z))&&D(z)});break;case "key-down":x.registerIncoming("key-down",
w,z=>D(x._wrapKeyDown(z)));break;case "key-up":x.registerIncoming("key-up",w,z=>D(x._wrapKeyUp(z)));break;case "pointer-down":x.registerIncoming("pointer-down",w,z=>D(x._wrapPointer(z,"pointer-down")));break;case "pointer-move":x.registerIncoming("pointer-move",w,z=>D(x._wrapPointer(z,"pointer-move")));break;case "pointer-up":x.registerIncoming("pointer-up",w,z=>D(x._wrapPointer(z,"pointer-up")));break;case "pointer-drag":x.registerIncoming("pointer-drag",w,z=>D(x._wrapPointerDrag(z)));break;case "mouse-wheel":x.registerIncoming("mouse-wheel",
w,z=>D(x._wrapMouseWheel(z)));break;case "pointer-enter":x.registerIncoming("pointer-enter",w,z=>D(x._wrapPointer(z,"pointer-enter")));break;case "pointer-leave":x.registerIncoming("pointer-leave",w,z=>D(x._wrapPointer(z,"pointer-leave")));break;case "gamepad":x.registerIncoming("gamepad",w,z=>{D(x._wrapGamepad(z))});break;case "focus":x.registerIncoming("focus",w,z=>{D(x._wrapFocus(z))});break;case "blur":x.registerIncoming("blur",w,z=>{D(x._wrapBlur(z))})}return x}b._inheritsLoose(t,m);var f=t.prototype;
f._wrapFocus=function(h){return{type:"focus",timestamp:h.timestamp,native:h.data.native,cancelable:h.cancelable,stopPropagation:()=>h.stopPropagation(),async:v=>h.async(v),preventDefault:()=>h.preventDefault()}};f._wrapBlur=function(h){return{type:"blur",timestamp:h.timestamp,native:h.data.native,cancelable:h.cancelable,stopPropagation:()=>h.stopPropagation(),async:v=>h.async(v),preventDefault:()=>h.preventDefault()}};f._wrapClick=function(h){const {pointerType:v,button:w,buttons:D,x,y,native:z,eventId:A}=
h.data,{cancelable:C,timestamp:B}=h,E=d.createScreenPoint(x,y),G=this._getMapPoint(x,y);return{type:"click",pointerType:v,button:w,buttons:D,x,y,native:z,timestamp:B,screenPoint:E,mapPoint:G,eventId:A,cancelable:C,stopPropagation:()=>h.stopPropagation(),async:J=>h.async(J),preventDefault:()=>h.preventDefault()}};f._wrapDoubleClick=function(h){const {pointerType:v,button:w,buttons:D,x,y,native:z,eventId:A}=h.data,{cancelable:C,timestamp:B}=h;return{type:"double-click",pointerType:v,button:w,buttons:D,
x,y,native:z,timestamp:B,mapPoint:this._getMapPoint(x,y),eventId:A,cancelable:C,stopPropagation:()=>h.stopPropagation(),async:E=>h.async(E),preventDefault:()=>h.preventDefault()}};f._wrapImmediateClick=function(h){const {pointerType:v,button:w,buttons:D,x,y,native:z,eventId:A}=h.data,C=z.pointerId,{cancelable:B,timestamp:E}=h;return{type:"immediate-click",pointerId:C,pointerType:v,button:w,buttons:D,x,y,native:z,timestamp:E,mapPoint:this._getMapPoint(x,y),eventId:A,cancelable:B,stopPropagation:()=>
h.stopPropagation(),async:G=>h.async(G),preventDefault:()=>h.preventDefault()}};f._wrapImmediateDoubleClick=function(h){const {pointerType:v,button:w,buttons:D,x,y,native:z,eventId:A}=h.data,C=z.pointerId,{cancelable:B,timestamp:E}=h;return{type:"immediate-double-click",pointerId:C,pointerType:v,button:w,buttons:D,x,y,native:z,timestamp:E,mapPoint:this._getMapPoint(x,y),eventId:A,cancelable:B,stopPropagation:()=>h.stopPropagation(),async:G=>h.async(G),preventDefault:()=>h.preventDefault()}};f._wrapHold=
function(h){const {pointerType:v,button:w,buttons:D,x,y,native:z}=h.data,{cancelable:A,timestamp:C}=h;return{type:"hold",pointerType:v,button:w,buttons:D,x,y,native:z,timestamp:C,mapPoint:this._getMapPoint(x,y),cancelable:A,stopPropagation:()=>h.stopPropagation(),async:B=>h.async(B),preventDefault:()=>h.preventDefault()}};f._getMapPoint=function(h,v){return this.view.toMap(d.createScreenPoint(h,v),{exclude:[]})};f._wrapDrag=function(h){const v=h.data,{x:w,y:D}=v.center,{action:x,pointerType:y,button:z}=
v;"start"===x&&(this.latestDragStart=v);if(this.latestDragStart){var A=v.pointer.native,C=v.buttons,{cancelable:B,timestamp:E}=h,G={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};"end"===x&&(this.latestDragStart=void 0);return{type:"drag",action:x,x:w,y:D,origin:G,pointerType:y,button:z,buttons:C,radius:v.radius,angle:e.rad2deg(v.angle),native:A,timestamp:E,cancelable:B,stopPropagation:()=>h.stopPropagation(),async:J=>h.async(J),preventDefault:()=>h.preventDefault()}}};f._wrapKeyDown=
function(h){const {key:v,repeat:w,native:D}=h.data,{cancelable:x,timestamp:y}=h;return{type:"key-down",key:v,repeat:w,native:D,timestamp:y,cancelable:x,stopPropagation:()=>h.stopPropagation(),async:z=>h.async(z),preventDefault:()=>h.preventDefault()}};f._wrapKeyUp=function(h){const {key:v,native:w}=h.data,{cancelable:D,timestamp:x}=h;return{type:"key-up",key:v,native:w,timestamp:x,cancelable:D,stopPropagation:()=>h.stopPropagation(),async:y=>h.async(y),preventDefault:()=>h.preventDefault()}};f._wrapPointer=
function(h,v){const {x:w,y:D,button:x,buttons:y,native:z,eventId:A}=h.data,C=z.pointerId,B=z.pointerType,{cancelable:E,timestamp:G}=h;return{type:v,x:w,y:D,pointerId:C,pointerType:B,button:x,buttons:y,native:z,timestamp:G,eventId:A,cancelable:E,stopPropagation:()=>h.stopPropagation(),async:J=>h.async(J),preventDefault:()=>h.preventDefault()}};f._wrapPointerDrag=function(h){const {x:v,y:w,buttons:D,native:x,eventId:y}=h.data.currentEvent,{button:z}=h.data.startEvent,A=h.data.startEvent.native.pointerId,
C=h.data.startEvent.native.pointerType,B=h.data.action,E={x:h.data.startEvent.x,y:h.data.startEvent.y},{cancelable:G,timestamp:J}=h;return{type:"pointer-drag",x:v,y:w,pointerId:A,pointerType:C,button:z,buttons:D,action:B,origin:E,native:x,timestamp:J,eventId:y,cancelable:G,stopPropagation:()=>h.stopPropagation(),async:K=>h.async(K),preventDefault:()=>h.preventDefault()}};f._wrapMouseWheel=function(h){const {cancelable:v,data:w,timestamp:D}=h,{x,y,deltaY:z,native:A}=w;return{type:"mouse-wheel",x,y,
deltaY:z,native:A,timestamp:D,cancelable:v,stopPropagation:()=>h.stopPropagation(),async:C=>h.async(C),preventDefault:()=>h.preventDefault()}};f._wrapGamepad=function(h){const {action:v,state:w,device:D}=h.data,{cancelable:x,timestamp:y}=h,{buttons:z,axes:A}=w;return{type:"gamepad",device:D,timestamp:y,action:v,buttons:z,axes:A,cancelable:x,stopPropagation:()=>h.stopPropagation(),async:C=>h.async(C),preventDefault:()=>h.preventDefault()}};return t}(p.InputHandler);Object.defineProperty(a,"MouseButton",
{enumerable:!0,get:()=>u.MouseButton});a.ViewEvents=l;a.eventTypes=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports",
"../../core/Logger","./interfaces"],function(a,b,c){const e=b.getLogger("esri.views.interactive.interactiveToolUtils");a.areToolManipulatorsEditable=function(d){return d.visible&&d.getEditableFlag(c.EditableFlag.USER)&&d.getEditableFlag(c.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(d){return[d.on("before-add",p=>{const r=p.item;if(null==r||d.includes(r))e.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),p.preventDefault();else r.onAdd()}),d.on("after-remove",
p=>{p=p.item;p.visible=!1;p.active&&(p.view.activeTool=null);p.destroy()})]};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/interfaces":function(){define(["exports"],function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";
b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";
b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("../../chunks/_rollupPluginBabelHelpers ../../core/MapUtils ../../core/mathUtils ../../core/maybe ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),function(a,b,c,e,d,p,r){const u={manipulator:null,tool:null};return function(){function n(){this._pointerLocations=
new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._stopDrag=!1;this._currentlyActiveTool=null;this._revertToActiveTool=!1;this._cursor=null}var k=n.prototype;k.handleInputEvent=function(g,l){var q=()=>g.stopPropagation();switch(g.type){case "pointer-move":"mouse"===g.pointerType&&this._pointerLocations.set(g.pointerId,{x:g.x,y:g.y,pointerType:g.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&
(g.stopPropagation(),"end"===g.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===g.pointerType&&0!==g.button)break;q=r.createScreenPointFromEvent(g);var m=this._intersect(q,g.pointerType,l.forEachTool);if(e.isNone(m))break;var t=this._findToolAndManipulatorByKey(m,l.forEachTool,u),f=e.applySome(t,v=>v.manipulator);t=e.applySome(t,v=>v.tool);!(e.isSome(f)&&e.isSome(t)&&f.interactive)||f.grabbable&&f.grabbableForEvent(g)||!f.grabbing||f.dragging||this._ungrabManipulatorBeforeDragging(f,
t,g);e.isSome(f)&&f.interactive&&f.grabbable&&f.grabbableForEvent(g)&&!f.grabbing&&(this._grabbedManipulators.set(g.pointerId,{key:m,start:q,pointerType:g.pointerType}),1===this._grabbedManipulators.size&&l.activeTool!==m.tool&&(this._currentlyActiveTool=l.activeTool,this._revertToActiveTool=!0,l.setActiveTool(m.tool)),f.grabbing=!0,f.events.emit("grab-changed",{action:"start",pointerType:g.pointerType,screenPoint:q}),g.stopPropagation());break;case "pointer-up":this._handlePointerEnd(g,l);break;
case "pointer-drag":if("mouse"===g.pointerType&&0!==g.button)break;var h=this._grabbedManipulators.get(g.pointerId);q=this._draggedManipulators.get(g.pointerId);m=e.applySome(h||q,({key:v})=>v);f=this._findManipulatorByKey(m,l.forEachTool);if(e.isNone(f))break;t=r.createScreenPointFromEvent(g);t.x=c.clamp(t.x,0,l.view.width);t.y=c.clamp(t.y,0,l.view.height);h=e.unwrap(h||q).start;switch(g.action){case "start":case "update":if("update"===g.action||1===this._grabbedManipulators.size)f.dragging=!0,q?
f.events.emit("drag",{action:"update",start:h,screenPoint:t}):f.events.emit("drag",{action:"start",start:h,screenPoint:t,pointerType:g.pointerType}),this._draggedManipulators.set(g.pointerId,{key:e.unwrap(m),start:h});break;case "end":f.dragging=!1,q&&f.events.emit("drag",{action:"end",start:h,screenPoint:t}),this._draggedManipulators.delete(g.pointerId),this._handlePointerEnd(g,l)}g.stopPropagation();break;case "immediate-click":{m=r.createScreenPointFromEvent(g);f=this._intersect(m,g.pointerType,
l.forEachTool);const v=this._findToolAndManipulatorByKey(f,l.forEachTool,u);g.native.shiftKey||l.forEachTool(x=>{if((!e.isSome(v)||v.tool!==x||x.automaticManipulatorSelection)&&x.manipulators){let y=!1;x.manipulators.forEach(({manipulator:z})=>{z.selected&&(z.selected=!1,y=!0)});y&&x.manipulatorSelectionChanged&&x.manipulatorSelectionChanged()}});if(e.isNone(v))break;const {manipulator:w,tool:D}=v;if(!w.interactive)break;w.selectable&&D.automaticManipulatorSelection&&(w.selected=!w.selected,D.manipulatorSelectionChanged&&
D.manipulatorSelectionChanged());w.events.emit("immediate-click",{screenPoint:m,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:q});break}case "click":q=r.createScreenPointFromEvent(g);m=this._intersect(q,g.pointerType,l.forEachTool);m=this._findManipulatorByKey(m,l.forEachTool);if(e.isNone(m)||!m.interactive)break;m.events.emit(g.type,{screenPoint:q,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey});g.stopPropagation();break;case "double-click":m=
r.createScreenPointFromEvent(g);f=this._intersect(m,g.pointerType,l.forEachTool);f=this._findManipulatorByKey(f,l.forEachTool);if(e.isNone(f)||!f.interactive)break;f.events.emit("double-click",{screenPoint:m,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:q});break;case "immediate-double-click":m=r.createScreenPointFromEvent(g),f=this._intersect(m,g.pointerType,l.forEachTool),f=this._findManipulatorByKey(f,l.forEachTool),!e.isNone(f)&&f.interactive&&f.events.emit("immediate-double-click",
{screenPoint:m,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:q})}this._onFocusChange(l.forEachTool)};k._ungrabManipulatorBeforeDragging=function(g,l,q){g.grabbing=!1;g.events.emit("grab-changed",{action:"end",pointerType:q.pointerType,screenPoint:r.createScreenPointFromEvent(q)});this._grabbedManipulators.forEach(({key:m},t)=>{m.tool===l&&l.manipulators.findById(m.manipulatorId)===g&&this._grabbedManipulators.delete(t)})};k._handlePointerEnd=function(g,l){var q=
e.applySome(this._grabbedManipulators.get(g.pointerId),({key:m})=>m);q=this._findManipulatorByKey(q,l.forEachTool);e.isSome(q)&&!q.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(l.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),q.grabbing&&(q.grabbing=!1,q.events.emit("grab-changed",{action:"end",pointerType:g.pointerType,screenPoint:r.createScreenPointFromEvent(g)})),this._grabbedManipulators.delete(g.pointerId))};
k._cursorFromMap=function(g,l){let q=null;b.someMap(g,({key:m})=>{m=this._findManipulatorByKey(m,l);return e.isSome(m)&&m.interactive&&"cursor"in m&&m.cursor?(q=m.cursor,!0):!1});return q};k._onFocusChange=function(g){this._updateCursor(g);this._updateFocusedManipulatorTools(g)};k._updateCursor=function(g){this._cursor=0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators,g)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators,g)||"pointer":
null};k._updateFocusedManipulatorTools=function(g){const l=new Set;this._grabbedManipulators.forEach(({key:{tool:q}})=>{l.add(q)});this._hoveredManipulators.forEach(({key:{tool:q}})=>{l.add(q)});g(q=>{q.hasFocusedManipulators=l.has(q)})};k.clearPointers=function(g,l,q=!0,m){const t=f=>f.tool===g&&(e.isNone(m)||f.manipulatorId===m);this._grabbedManipulators.forEach(({key:f,pointerType:h},v)=>{t(f)&&(this._grabbedManipulators.delete(v),f=this._findManipulatorByKey(f,l),e.isSome(f)&&(f.grabbing=!1,f.events.emit("grab-changed",
{action:"end",screenPoint:null,pointerType:h})))});this._draggedManipulators.forEach(({key:f},h)=>{t(f)&&(this._draggedManipulators.delete(h),f=this._findManipulatorByKey(f,l),e.isSome(f)&&(f.dragging=!1,f.events.emit("drag",{action:"cancel"})))});q&&this._hoveredManipulators.forEach(({key:f},h)=>{t(f)&&(this._hoveredManipulators.delete(h),f=this._findManipulatorByKey(f,l),e.isSome(f)&&(f.hovering=!1))});this._onFocusChange(l)};k._intersect=function(g,l,q){let m=null;q(t=>{if(null==t.manipulators||
!p.areToolManipulatorsEditable(t))return!1;const f=t.manipulators.intersect(g,l);if(e.isNone(f))return!1;m={manipulatorId:f.id,tool:t};return!0});return m};k.updateHoveredStateFromKnownPointers=function(g){this._pointerLocations.forEach((l,q)=>{this._updateHoveredStateForPointerAtScreenPosition(d.createScreenPoint(l.x,l.y),q,l.pointerType,g)})};k.handleHoverEvent=function(g,l){"pointer-up"!==g.type&&"immediate-click"!==g.type&&"pointer-move"!==g.type||"mouse"!==g.pointerType||this._updateHoveredStateForPointerAtScreenPosition(r.createScreenPointFromEvent(g),
g.pointerId,g.pointerType,l)};k._updateHoveredStateForPointerAtScreenPosition=function(g,l,q,m){g=this._intersect(g,q,m);q=this._findManipulatorByKey(g,m);var t=e.applySome(this._hoveredManipulators.get(l),({key:f})=>f);t=this._findManipulatorByKey(t,m);e.isSome(q)&&!q.interactive&&(q=null);t!==q&&(e.isSome(t)&&(t.hovering=!1),e.isSome(q)?(q.hovering=!0,this._hoveredManipulators.set(l,{key:e.unwrap(g)})):this._hoveredManipulators.delete(l),this._onFocusChange(m))};k._findManipulatorByKey=function(g,
l){return this._findToolAndManipulatorByKey(g,l,u)?u.manipulator:null};k._findToolAndManipulatorByKey=function(g,l,q){if(e.isNone(g))return null;q.tool=null;q.manipulator=null;l(m=>{if(m!==g.tool||null==m.manipulators||!p.areToolManipulatorsEditable(m))return!1;const t=m.manipulators.findById(g.manipulatorId);return e.isSome(t)?(q.manipulator=t,q.tool=m,!0):!1});return q.manipulator?q:null};a._createClass(n,[{key:"cursor",get:function(){return this._cursor}}]);return n}()})},"esri/views/support/screenUtils":function(){define(["exports",
"../../core/has","../../core/screenUtils"],function(a,b,c){function e(p){return c.createScreenPoint(p.x,p.y)}function d(p,r){p=(p instanceof HTMLElement?p:p.surface).getBoundingClientRect();return c.createScreenPoint(r.clientX-p.left,r.clientY-p.top)}a.createScreenPointArrayFromEvent=function(p){return c.createScreenPointArray(p.x,p.y)};a.createScreenPointFromEvent=e;a.createScreenPointFromNativeEvent=d;a.createScreenPointFromSupportedEvent=function(p,r){return r instanceof Event?d(p,r):e(r)};a.isSupportedScreenPointEvent=
function(p){if(p instanceof Event)return!0;if("object"===typeof p&&"type"in p)switch(p.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/input/Input":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,c,e,d,p,r,u,n){c=function(k){function g(){var l=k.apply(this,arguments)||this;l.gamepad=new n;return l}a._inheritsLoose(g,k);return g}(c);b.__decorate([e.property({readOnly:!0})],c.prototype,"gamepad",void 0);return c=b.__decorate([u.subclass("esri.views.input.Input")],c)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,c,e,d,p,r,u,n,k){c=function(g){function l(...q){q=g.call(this,...q)||this;q.devices=new e;q.enabledFocusMode="document";return q}a._inheritsLoose(l,g);return l}(c);b.__decorate([d.property({type:e.ofType(k),readOnly:!0})],c.prototype,"devices",void 0);b.__decorate([d.property({type:["document","view","none"]})],c.prototype,"enabledFocusMode",void 0);return c=b.__decorate([n.subclass("esri.views.input.gamepad.GamepadSettings")],c)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u){c=function(g){function l(q){var m=g.call(this)||this;m.nativeIndex=null;m._detectedDeviceType="unknown";"standard"===q.mapping?m._detectedDeviceType="standard":n.test(q.id)?m._detectedDeviceType="spacemouse":m._detectedDeviceType="unknown";m.nativeIndex=q.index;return m}a._inheritsLoose(l,g);a._createClass(l,[{key:"native",get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}},{key:"deviceType",get:function(){return this._detectedDeviceType}},
{key:"axisThreshold",get:function(){return k[this.deviceType]}}]);return l}(c);b.__decorate([e.property({nonNullable:!0,readOnly:!0})],c.prototype,"nativeIndex",void 0);b.__decorate([e.property({type:String,readOnly:!0})],c.prototype,"deviceType",null);b.__decorate([e.property({type:Number,readOnly:!0})],c.prototype,"axisThreshold",null);c=b.__decorate([u.subclass("esri.views.input.gamepad.GamepadInputDevice")],c);const n=/^(3dconnexion|space(mouse|navigator|pilot|explorer))/i,k={standard:.15,spacemouse:.025,
unknown:0};return c})},"esri/views/navigation/Navigation":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,e,d,p,r,u,n){c=function(k){function g(l){l=k.call(this,l)||this;l.browserTouchPanEnabled=!0;l.gamepad=new n;l.momentumEnabled=
!0;l.mouseWheelZoomEnabled=!0;return l}a._inheritsLoose(g,k);return g}(c);b.__decorate([e.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);b.__decorate([e.property({type:n,nonNullable:!0})],c.prototype,"gamepad",void 0);b.__decorate([e.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);b.__decorate([e.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=b.__decorate([u.subclass("esri.views.navigation.Navigation")],c)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),
function(a,b,c,e,d,p,r,u,n){c=function(k){function g(l){l=k.call(this,l)||this;l.enabled=!0;l.device=null;l.mode="pan";l.tiltDirection="forward-down";l.velocityFactor=1;return l}a._inheritsLoose(g,k);return g}(c);b.__decorate([e.property({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);b.__decorate([e.property({type:n})],c.prototype,"device",void 0);b.__decorate([e.property({type:["pan","zoom"],nonNullable:!0})],c.prototype,"mode",void 0);b.__decorate([e.property({type:["forward-down",
"forward-up"],nonNullable:!0})],c.prototype,"tiltDirection",void 0);b.__decorate([e.property({type:Number,nonNullable:!0})],c.prototype,"velocityFactor",void 0);return c=b.__decorate([u.subclass("esri.views.navigation.gamepad.GamepadSettings")],c)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m){a.DefaultsFromMap=function(t){function f(v){v=t.call(this,v)||this;v.required={tileInfo:!1,heightModelInfo:!1,extent:!1};v.defaultSpatialReference=null;v.userSpatialReference=null;v.sourcePreloadCount=10;v.priorityCollection=null;v.requiresExtentInSpatialReference=!0;v.suspended=!1;v._projectExtentTask={task:null,input:null,output:null,spatialReference:null};return v}b._inheritsLoose(f,t);var h=f.prototype;h.destroy=function(){this._projectExtentTask.task&&(this._projectExtentTask.task=
d.abortMaybe(this._projectExtentTask.task));this._set("map",null)};h._narrowDownSpatialReferenceCandidates=function(v,w){if(d.isNone(v))return w;const D=[];for(const y of v)for(const z of w)if(y.spatialReference.equals(z.spatialReference)){v=y.viewingMode;var x=z.viewingMode;v=d.isSome(v)?d.isSome(x)?v===x?v:!1:v:x;if(!1!==v){D.push({spatialReference:y.spatialReference,viewingMode:v});break}}return 0<D.length?D:null};h._pickSpatialReferenceCandidate=function(v){const w=this.defaultSpatialReference;
if(d.isNone(v)||1>v.length)return d.isSome(w)?{spatialReference:w,viewingMode:null}:null;d.isSome(w)&&1<v.length&&v.some(({spatialReference:D})=>D.equals(w))&&(v=v.filter(({spatialReference:D})=>D.equals(w)));1<v.length&&v.some(({viewingMode:D})=>D!==q.ViewingMode.Local)&&(v=v.filter(({viewingMode:D})=>D!==q.ViewingMode.Local));return v[0]};h._getSupportedSpatialReferences=function(v){var w="supportedSpatialReferences"in v&&v.supportedSpatialReferences||(v.spatialReference?[v.spatialReference]:[]);
if(0===w.length)return[];const D=[];for(const x of w)if(w=this.getSpatialReferenceSupport({spatialReference:x,layer:v}),d.isSome(w)){w=d.isSome(w.constraints)?w.constraints:[{spatialReference:x,viewingMode:null}];for(const {spatialReference:y,viewingMode:z}of w)(!this.requiresExtentInSpatialReference||d.isNone(this.userSpatialReference)||y.equals(this.userSpatialReference))&&D.push({spatialReference:y,viewingMode:z})}return D};h._pickExtentCandidate=function(v){const w=this.spatialReference;return v.find(({extent:D})=>
w.equals(D.spatialReference))||v[0]};h._collectLayers=function(v){var w;if("loaded"!==this._loadMaybe(null==(w=this.map)?void 0:w.call(this)))return{layers:[],updating:!0};w={layers:[],preloading:-1,updating:!1};for(const D of v)if(this._collectCollection(D,w),w.preloading===this.sourcePreloadCount)break;return{layers:w.layers,updating:w.updating}};h._collectCollection=function(v,w){if(v.layers){switch(this._loadMaybe(v.parent)){case "loading":w.updating=!0;++w.preloading;return;case "failed":return}for(const D of v.layers){switch(this._loadMaybe(D)){case "failed":continue;
case "loading":w.updating=!0;++w.preloading;break;case "loaded":w.updating||w.layers.push(D),"layers"in D&&this._collectCollection({layers:D.layers},w)}if(w.preloading===this.sourcePreloadCount)break}}};h._loadMaybe=function(v){return v&&"loadStatus"in v?"not-loaded"===v.loadStatus?(v.load(),"loading"):v.loadStatus:"loaded"};b._createClass(f,[{key:"ready",get:function(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}},{key:"heightModelInfoReady",
get:function(){return!this._heightModelInfoTask.updating}},{key:"spatialReference",get:function(){return d.isSome(this.userSpatialReference)?this.userSpatialReference:d.unwrap(this._spatialReferenceTask.spatialReference)}},{key:"extent",get:function(){return d.unwrap(this._extentTask.extent)}},{key:"heightModelInfo",get:function(){return d.unwrap(this._heightModelInfoTask.heightModelInfo)}},{key:"vcsWkid",get:function(){return d.unwrap(this._heightModelInfoTask.vcsWkid)}},{key:"latestVcsWkid",get:function(){return d.unwrap(this._heightModelInfoTask.latestVcsWkid)}},
{key:"viewingMode",get:function(){return d.isNone(this.userSpatialReference)||this.userSpatialReference.equals(d.unwrap(this._spatialReferenceTask.spatialReference))?d.unwrap(this._spatialReferenceTask.viewingMode):null}},{key:"tileInfo",get:function(){return d.unwrap(this._tileInfoTask.tileInfo)}},{key:"mapCollections",get:function(){var v,w,D,x;const y=null==(v=this.map)?void 0:v.call(this);v=[];d.isSome(this.priorityCollection)&&v.push(this.priorityCollection);v.push({parent:null==y?void 0:y.basemap,
layers:null==y?void 0:null==(w=y.basemap)?void 0:w.baseLayers},{layers:null==y?void 0:y.layers},{parent:null==y?void 0:y.ground,layers:null==y?void 0:null==(D=y.ground)?void 0:D.layers},{parent:null==y?void 0:y.basemap,layers:null==y?void 0:null==(x=y.basemap)?void 0:x.referenceLayers});return v}},{key:"_allLayers",get:function(){return this._collectLayers(this.mapCollections)}},{key:"_spatialReferenceTask",get:function(){if(this.suspended){var v;return null!=(v=this._get("_spatialReferenceTask"))?
v:{updating:!1}}const {layers:w,updating:D}=this._allLayers;v=null;for(var x of w){var y=this._getSupportedSpatialReferences(x);0<y.length&&(y=this._narrowDownSpatialReferenceCandidates(v,y),d.isSome(y)&&(v=y));if(d.isSome(v)&&1===v.length)break}if(D&&(d.isNone(v)||1!==v.length))return{updating:!0};x=this._pickSpatialReferenceCandidate(v);return{spatialReference:d.isSome(x)?x.spatialReference:null,viewingMode:d.isSome(x)?x.viewingMode:null,updating:!1}}},{key:"_tileInfoTask",get:function(){var v,
w,D,x,y,z,A;if(!this.required.tileInfo){var C;return null!=(C=this._get("_tileInfoTask"))?C:{updating:!1}}if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {layers:B,updating:E}=this._collectLayers([{parent:null==(v=this.map)?void 0:null==(w=v.call(this))?void 0:w.basemap,layers:null==(D=this.map)?void 0:null==(x=D.call(this))?void 0:null==(y=x.basemap)?void 0:y.baseLayers},{layers:null==(z=this.map)?void 0:null==(A=z.call(this))?void 0:A.layers}]);return B&&0<B.length&&
"tileInfo"in B[0]?(v=B[0].tileInfo,{tileInfo:v&&v.spatialReference.equals(this.spatialReference)?v:null,updating:!1}):{updating:E}}},{key:"_heightModelInfoTask",get:function(){var v;if(!this.required.heightModelInfo||this.suspended&&null!=(v=this._get("_heightModelInfoTask"))&&v.heightModelInfo){var w;return null!=(w=this._get("_heightModelInfoTask"))?w:{updating:!1}}const {layers:D,updating:x}=this._allLayers;for(const A of D)if(l.supportsHeightModelInfo(A)&&(v=l.deriveHeightModelInfoFromLayer(A))){var y,
z;return{heightModelInfo:v,vcsWkid:null==(y=A.spatialReference)?void 0:y.vcsWkid,latestVcsWkid:null==(z=A.spatialReference)?void 0:z.latestVcsWkid,updating:!1}}return{updating:x}}},{key:"_extentCandidatesTask",get:function(){if(this.suspended||!this.required.extent){var v;return null!=(v=this._get("_extentCandidatesTask"))?v:{updating:!1}}if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};var w=this._allLayers;v=w.updating;const D=[];for(const z of w.layers){var x;w="fullExtents"in
z&&z.fullExtents||(d.isSome(z.fullExtent)?[z.fullExtent]:[]);var y=this.requiresExtentInSpatialReference?null:w[0];if(y=null!=(x=w.find(A=>A.spatialReference.equals(this.spatialReference)))?x:y)return{candidates:[{extent:y,layer:z}],updating:!1};if(0<this._getSupportedSpatialReferences(z).length)for(const A of w)D.push({extent:A,layer:z})}return{candidates:D,updating:v}}},{key:"_extentTask",get:function(){var v=this;const {candidates:w,updating:D}=this._extentCandidatesTask;if(D)return{updating:D};
if(d.isNone(w)||0===w.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const x=this._pickExtentCandidate(w),y=this.spatialReference;if(x.extent.equals(this._projectExtentTask.input)&&y.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:d.isSome(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished};d.isSome(this._projectExtentTask.task)&&(this._projectExtentTask.task=d.abortMaybe(this._projectExtentTask.task));
this._projectExtentTask={input:x.extent.clone(),output:null,spatialReference:y.clone(),task:p.createTask(function(){var z=b._asyncToGenerator(function*(A){try{const C=yield m.projectWithEngineOrService(x.extent,y,x.layer.portalItem,A);v._projectExtentTask={...v._projectExtentTask,task:null,output:C}}catch(C){p.isAborted(A)||(v._projectExtentTask={...v._projectExtentTask,task:null})}});return function(A){return z.apply(this,arguments)}}())};return{updating:!0}}}]);return f}(e);c.__decorate([r.property()],
a.DefaultsFromMap.prototype,"required",void 0);c.__decorate([r.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);c.__decorate([r.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);c.__decorate([r.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);c.__decorate([r.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);c.__decorate([r.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);
c.__decorate([r.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);c.__decorate([r.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);c.__decorate([r.property()],a.DefaultsFromMap.prototype,"suspended",void 0);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"ready",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"spatialReference",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"latestVcsWkid",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"viewingMode",null);c.__decorate([r.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"tileInfo",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_allLayers",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",
null);c.__decorate([r.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);c.__decorate([r.property()],a.DefaultsFromMap.prototype,"_extentTask",null);c.__decorate([r.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=c.__decorate([g.subclass("esri.views.support.DefaultsFromMap")],a.DefaultsFromMap);Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/heightModelInfoUtils":function(){define("exports ../../core/has ../../core/Error ../../core/maybe ../HeightModelInfo ../../layers/support/arcgisLayerUrl".split(" "),
function(a,b,c,e,d,p){function r(t,f,h){if(!u(t)||!u(f))return q.Unsupported;if(null==t||null==f)return q.Ok;if(!h&&t.heightUnit!==f.heightUnit)return q.Units;if(t.heightModel!==f.heightModel)return q.HeightModel;switch(t.heightModel){case "gravity-related-height":return q.Ok;case "ellipsoidal":return t.vertCRS===f.vertCRS?q.Ok:q.CRS;default:return q.Unsupported}}function u(t){return null==t||null!=t.heightModel&&null!=t.heightUnit}function n(t){const f=t.url&&p.parse(t.url);return(null!=(t.spatialReference&&
t.spatialReference.vcsWkid)||!e.isSome(f)||"ImageServer"!==f.serverType)&&"heightModelInfo"in t&&t.heightModelInfo?t.heightModelInfo:g(t)?d.deriveUnitFromSR(m,t.spatialReference):null}function k(t){if("unknown"===t.type||!("capabilities"in t))return!1;switch(t.type){case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "wfs":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case null:return!1;default:return!1}}function g(t){return k(t)?
!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):l(t)}function l(t){switch(t.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":case "voxel":return!0}return!1}var q;(function(t){t[t.Ok=0]="Ok";t[t.Units=1]="Units";t[t.HeightModel=2]="HeightModel";t[t.CRS=3]="CRS";t[t.Unsupported=4]="Unsupported"})(q||(q={}));const m=new d({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=n;a.rejectLayerError=function(t,f,
h){const v=n(t),w=r(v,f,h);if(v){const D=d.deriveUnitFromSR(v,t.spatialReference).heightUnit;if(!h&&D!==v.heightUnit)return f=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${D})`,{horizontalUnit:D}),new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:v,error:f})}if(!("heightModelInfo"in t&&null!=t.heightModelInfo||null!=t.spatialReference)&&g(t)||w===q.Unsupported)return new c("layerview:unsupported-height-model-info",
"The vertical coordinate system of the layer is not supported",{heightModelInfo:v});switch(w){case q.Units:return t=v.heightUnit||"unknown",h=f.heightUnit||"unknown",t=new c("layerview:incompatible-height-unit",`The vertical units of the layer (${t}) must match the vertical units of the scene (${h})`,{layerUnit:t,sceneUnit:h}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:f,
error:t});case q.HeightModel:return t=v.heightModel||"unknown",h=f.heightModel||"unknown",t=new c("layerview:incompatible-height-model",`The height model of the layer (${t}) must match the height model of the scene (${h})`,{layerHeightModel:t,sceneHeightModel:h}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:f,error:t});case q.CRS:return t=v.vertCRS||"unknown",h=f.vertCRS||
"unknown",t=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${t}) must match the vertical datum of the scene (${h})`,{layerDatum:t,sceneDatum:h}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:f,error:t})}return null};a.supportsHeightModelInfo=function(t){return null!=t.layers||l(t)||k(t)||"heightModelInfo"in t};a.validateWebSceneError=function(t,
f){if(!t)return null;if(!u(t))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:t});const h=t.heightUnit;t=d.deriveUnitFromSR(t,f).heightUnit;return h!==t?new c("webscene:incompatible-height-unit",`The vertical units of the scene (${h}) must match the horizontal units of the scene (${t})`,{verticalUnit:h,horizontalUnit:t}):null};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/ViewingMode":function(){define(["exports"],function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/projectionUtils":function(){define(["require",
"exports","../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils","../../geometry/projection"],function(a,b,c,e,d){function p(l){return r.apply(this,arguments)}function r(){r=c._asyncToGenerator(function*(l){k||(k=(new Promise((q,m)=>a(["../../portal/support/geometryServiceUtils"],q,m))).then(q=>g=q));yield k;e.throwIfAborted(l)});return r.apply(this,arguments)}function u(l,q,m,t){return n.apply(this,arguments)}function n(){n=c._asyncToGenerator(function*(l,q,m,t){if(!l)return null;const f=
l.spatialReference;if(d.isLoaded()||d.canProjectWithoutEngine(f,q))return d.project(l,q);if(g)return g.projectGeometry(l,q,m,t);yield Promise.race([p(t),d.load(t)]);return u(l,q,m,t)});return n.apply(this,arguments)}let k=null,g;b.projectWithEngineOrService=u;Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/ViewAnimation":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k){e=function(g){function l(m){m=g.call(this,m)||this;m.state="running";m.target=null;return m}a._inheritsLoose(l,g);var q=l.prototype;q.initialize=function(){this.addResolvingPromise(new Promise((m,t)=>this._dfd={resolve:m,reject:t}))};q.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new c("ViewAnimation stopped")))};q.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),
this._dfd.resolve())};q.update=function(m,t){t||(t=d.isPromiseLike(m)?"waiting-for-target":"running");this._set("target",m);this._set("state",t)};a._createClass(l,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]);return l}(e.EsriPromise);b.__decorate([p.property({readOnly:!0})],e.prototype,"done",null);b.__decorate([p.property({readOnly:!0,type:String})],e.prototype,"state",void 0);b.__decorate([p.property()],e.prototype,"target",void 0);e=b.__decorate([k.subclass("esri.views.ViewAnimation")],
e);(e||(e={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return e})},"esri/views/layers/LayerView":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m){c=function(t){function f(v){v=t.call(this,v)||this;v.layer=null;v.parent=null;return v}a._inheritsLoose(f,t);var h=f.prototype;h.initialize=function(){this.when().catch(v=>{if("layerview:create-error"!==v.name){const w=this.layer&&this.layer.id||"no id",D=this.layer&&this.layer.title||"no title";r.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${D}', id: '${w}')`,v)}})};h.canResume=function(){var v,w,D;return this.visible&&
(null==(v=this.layer)?void 0:v.loaded)&&!(null!=(w=this.parent)&&w.suspended)&&(null==(D=this.view)?void 0:D.ready)||!1};h.getSuspendInfo=function(){const v=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(v.viewNotReady=!0);this.layer&&this.layer.loaded||(v.layerNotLoaded=!0);this.visible||(v.layerInvisible=!0);return v};h.isUpdating=function(){return!1};a._createClass(f,[{key:"fullOpacity",get:function(){return u.unwrapOr(this.get("layer.opacity"),1)*u.unwrapOr(this.get("parent.fullOpacity"),
1)}},{key:"suspended",get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){var v;return!this.suspended&&!0===(null==(v=this.layer)?void 0:v.legendEnabled)}},{key:"updating",get:function(){var v;return!!(null!=(v=this.updatingHandles)&&v.updating||this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"visible",get:function(){var v;return!0===(null==(v=this.layer)?void 0:v.visible)},
set:function(v){void 0===v?this._clearOverride("visible"):this._override("visible",v)}}]);return f}(d.HandleOwnerMixin(p.IdentifiableMixin(n.EsriPromiseMixin(e.EventedMixin(c)))));b.__decorate([k.property()],c.prototype,"fullOpacity",null);b.__decorate([k.property()],c.prototype,"layer",void 0);b.__decorate([k.property()],c.prototype,"parent",void 0);b.__decorate([k.property({readOnly:!0})],c.prototype,"suspended",null);b.__decorate([k.property({readOnly:!0})],c.prototype,"suspendInfo",null);b.__decorate([k.property({readOnly:!0})],
c.prototype,"legendEnabled",null);b.__decorate([k.property({type:Boolean,readOnly:!0})],c.prototype,"updating",null);b.__decorate([k.property({readOnly:!0})],c.prototype,"updatingProgress",null);b.__decorate([k.property()],c.prototype,"visible",null);b.__decorate([k.property()],c.prototype,"view",void 0);return c=b.__decorate([m.subclass("esri.views.layers.LayerView")],c)})},"esri/views/2d/layers/features/tileRenderers/SymbolTileRenderer":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/promiseUtils ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/accessorSupport/set ../../../../../core/accessorSupport/decorators/subclass ../../../../../geometry/support/aaBoundingRect ../../../engine/webgl/FeatureTile ../support/rendererUtils ./BaseTileRenderer ./support/visualVariablesUtils ./support/WGLFeatureView".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){d=function(f){function h(){var w=f.apply(this,arguments)||this;w.type="symbol";return w}a._inheritsLoose(h,f);var v=h.prototype;v.install=function(w){const D=new t.WGLFeatureView(this.tileInfoView,this.layerView,this.layer,()=>this.notifyChange("updating"));this.featuresView=D;w.addChild(D)};v.uninstall=function(w){w.removeChild(this.featuresView);this.featuresView.destroy();this.featuresView=null};v.fetchResource=function(w,D){({url:w}=w);const x=this.featuresView.stage;
try{return x.resourceManager.fetchResource(w,{signal:D.signal})}catch(y){return e.isAbortError(y)?Promise.resolve({width:0,height:0}):Promise.reject(y)}};v.isUpdating=function(){var w;const D=f.prototype.isUpdating.call(this),x=!this.featuresView||this.featuresView.isUpdating(),y=null==(w=this.featuresView)?void 0:w.hasEmptyAttributeView();w=D||x||D&&y;c("esri-2d-log-updating")&&console.log(`Updating SymbolTileRenderer ${w}\n  -> updatingTiles ${D}\n  -> hasFeaturesView ${!!this.featuresView}\n  -> updatingFeaturesView ${x}`);
return w};v.hitTest=function(w){return this.featuresView.hitTest(w)};v.supportsRenderer=function(w){return null!=w&&"simple class-breaks unique-value dot-density dictionary heatmap pie-chart".split(" ").includes(w.type)};v.onConfigUpdate=function(w){var D=null;"visualVariables"in w&&(D=(l.simplifyVVRenderer(w).visualVariables||[]).map(x=>{const y=x.clone();"normalizationField"in x&&(y.normalizationField=null);x.valueExpression&&"$view.scale"!==x.valueExpression&&(y.valueExpression=null,y.field="nop");
return y}),D=m.convertVisualVariables(D));this.featuresView.setRendererInfo(w,D,this.layerView.featureEffect)};v.onTileData=function(w){const D=this.tiles.get(w.tileKey);if(D&&w.data)this.featuresView.onTileData(D,w.data);this.layerView.view.labelManager.requestUpdate()};v.onTileError=function(w){if(w=this.tiles.get(w.tileKey))this.featuresView.onTileError(w)};v.forceAttributeTextureUpload=function(){this.featuresView.attributeView.forceTextureUpload()};v.lockGPUUploads=function(){this.featuresView.attributeView.lockTextureUpload();
this.tiles.forEach(w=>w.lock())};v.unlockGPUUploads=function(){this.featuresView.attributeView.unlockTextureUpload();this.tiles.forEach(w=>w.unlock())};v.getMaterialItems=function(){var w=a._asyncToGenerator(function*(D){return this.featuresView.getMaterialItems(D)});return function(D){return w.apply(this,arguments)}}();v.invalidateLabels=function(){this.featuresView.hasLabels&&this.layerView.view.labelManager.requestUpdate()};v.createTile=function(w){const D=this.tileInfoView.getTileBounds(k.create(),
w);return new g.FeatureTile(w,D[0],D[3],this.featuresView.attributeView,()=>this.layerView.view.labelManager.requestUpdate())};v.disposeTile=function(w){this.featuresView.removeChild(w);w.destroy();this.layerView.view.labelManager.requestUpdate()};return h}(q);return d=b.__decorate([n.subclass("esri.views.2d.layers.features.tileRenderers.SymbolTileRenderer")],d)})},"esri/views/2d/layers/features/tileRenderers/HeatmapTileRenderer":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/set ../../../../../core/accessorSupport/decorators/subclass ../../../../../renderers/support/heatmapUtils ../../../engine/BitmapTileContainer ./BaseTileRenderer ./support/HeatmapSource".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l){c=function(q){function m(f){var h=q.call(this,f)||this;h._intensityInfo={minDensity:0,maxDensity:0};h.type="heatmap";h.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}};h._container=new k.BitmapTileContainer(f.tileInfoView);return h}a._inheritsLoose(m,q);var t=m.prototype;t.createTile=function(f){const h=this._container.createTile(f);this.tileInfoView.getTileCoords(h.bitmap,f);h.bitmap.resolution=this.tileInfoView.getTileResolution(f);
return h};t.onConfigUpdate=function(){const f=this.layer.renderer;if("heatmap"===f.type){const {minDensity:h,maxDensity:v,colorStops:w}=f;this._intensityInfo.minDensity=h;this._intensityInfo.maxDensity=v;this._gradient=n.generateGradient(w);this.tiles.forEach(D=>{const x=D.bitmap.source;x&&(x.minDensity=h,x.maxDensity=v,x.gradient=this._gradient,D.bitmap.invalidateTexture())})}};t.hitTest=function(){return Promise.resolve([])};t.install=function(f){f.addChild(this._container)};t.uninstall=function(f){this._container.removeAllChildren();
f.removeChild(this._container)};t.disposeTile=function(f){this._container.removeChild(f);f.destroy()};t.supportsRenderer=function(f){return f&&"heatmap"===f.type};t.onTileData=function(f){const h=this.tiles.get(f.tileKey);if(h){f=f.intensityInfo;var {minDensity:v,maxDensity:w}=this._intensityInfo,D=h.bitmap.source||new l.HeatmapSource;D.intensities=f&&f.matrix||null;D.minDensity=v;D.maxDensity=w;D.gradient=this._gradient;h.bitmap.source=D;this._container.addChild(h);this._container.requestRender();
this.requestUpdate()}};t.onTileError=function(f){console.error(f)};t.lockGPUUploads=function(){};t.unlockGPUUploads=function(){};t.fetchResource=function(f,h){console.error(f);return Promise.reject()};return m}(g);return c=b.__decorate([u.subclass("esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer")],c)})},"esri/core/workers/request":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../Error","../maybe"],function(a,b,c,e){let d;a.execute=function(p,r){let u=r.responseType;
u?"array-buffer"!==u&&"blob"!==u&&"json"!==u&&"native"!==u&&"native-request-init"!==u&&"text"!==u&&(u="text"):u="json";r.responseType=u;const n=e.unwrap(r.signal);delete r.signal;return globalThis.invokeStaticMessage("request",{url:p,options:r},{signal:n}).then(function(){var k=b._asyncToGenerator(function*(g){let l,q,m;if(g.data)if(g.data instanceof ArrayBuffer){if("json"===u||"text"===u||"blob"===u){var t=new Blob([g.data]);if("json"===u||"text"===u)if(d||(d=new FileReaderSync),m=d.readAsText(t),
"json"===u){try{l=JSON.parse(m||null)}catch(f){throw new c("request:server",f.message,{...f,url:p,requestOptions:r});}if(l.error)throw new c("request:server",l.error.message,{...l.error,url:p,requestOptions:r});}}}else"native"===u&&(g.data.signal=n,q=yield fetch(g.data.url,g.data));switch(u){case "blob":break;case "json":t=l;break;case "native":t=q;break;case "text":t=m;break;default:t=g.data}return{data:t,requestOptions:r,ssl:g.ssl,url:p}});return function(g){return k.apply(this,arguments)}}())};
Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../core/promiseUtils","./enums","./WorkerTile","./style/StyleRepository"],function(a,b,c,e,d){return function(){function p(){this._spriteInfo={};this._glyphInfo={}}var r=p.prototype;r.reset=function(){this._spriteInfo={};this._glyphInfo={};return Promise.resolve()};r.getLayers=function(){var u;
return null==(u=this._styleRepository)?void 0:u.layers};r.createTileAndParse=function(){var u=a._asyncToGenerator(function*(n,k){var {key:g}=n;const l={};for(const q of Object.keys(n.sourceName2DataAndRefKey))l[q]=n.sourceName2DataAndRefKey[q].refKey;g=new e(g,l,this,this._styleRepository);try{return yield g.parse(n,k)}catch(q){g.setObsolete();g.release();if(!b.isAbortError(q))throw q;return null}});return function(n,k){return u.apply(this,arguments)}}();r.updateStyle=function(u){if(u&&0!==u.length&&
this._styleRepository){var n=this._styleRepository;for(const k of u)switch(u=k.data,k.type){case c.StyleUpdateType.PAINTER_CHANGED:n.setPaintProperties(u.layer,u.paint);break;case c.StyleUpdateType.LAYOUT_CHANGED:n.setLayoutProperties(u.layer,u.layout);break;case c.StyleUpdateType.LAYER_REMOVED:n.deleteStyleLayer(u.layer);break;case c.StyleUpdateType.LAYER_CHANGED:n.setStyleLayer(u.layer,u.index);break;case c.StyleUpdateType.SPRITES_CHANGED:this._spriteInfo={}}}};r.setStyle=function(u){this._styleRepository=
new d(u);this._spriteInfo={};this._glyphInfo={}};r.fetchSprites=function(u,n,k){const g=[],l=this._spriteInfo;for(const q of u)void 0===l[q.name]&&g.push(q);return 0===g.length?Promise.resolve():n.invoke("getSprites",g,{signal:k&&k.signal}).then(q=>{for(const m in q)l[m]=q[m]})};r.getSpriteItems=function(){return this._spriteInfo};r.fetchGlyphs=function(u,n,k,g,l){const q=[];let m=this._glyphInfo[n];m?k.forEach(t=>{m[t]||q.push(t)}):(m=this._glyphInfo[n]=[],k.forEach(t=>q.push(t)));return 0===q.length?
Promise.resolve():g.invoke("getGlyphs",{tileID:u,font:n,codePoints:q},l).then(t=>{for(let f=0;f<t.length;f++)t[f]&&(m[f]=t[f])})};r.getGlyphItems=function(u){return this._glyphInfo[u]};return p}()})},"esri/views/2d/engine/vectorTiles/enums":function(){define(["exports"],function(a){a.MemoryBufferType=void 0;(function(b){b[b.UNKNOWN=0]="UNKNOWN";b[b.FILL_VERTEX=1]="FILL_VERTEX";b[b.FILL_DD_VERTEX=2]="FILL_DD_VERTEX";b[b.FILL_INDEX=3]="FILL_INDEX";b[b.OUTLINE_VERTEX=4]="OUTLINE_VERTEX";b[b.OUTLINE_DD_VERTEX=
5]="OUTLINE_DD_VERTEX";b[b.OUTLINE_INDEX=6]="OUTLINE_INDEX";b[b.LINE_VERTEX=7]="LINE_VERTEX";b[b.LINE_DD_VERTEX=8]="LINE_DD_VERTEX";b[b.LINE_INDEX=9]="LINE_INDEX";b[b.ICON_VERTEX=10]="ICON_VERTEX";b[b.ICON_DD_VERTEX=11]="ICON_DD_VERTEX";b[b.ICON_INDEX=12]="ICON_INDEX";b[b.TEXT_VERTEX=13]="TEXT_VERTEX";b[b.TEXT_DD_VERTEX=14]="TEXT_DD_VERTEX";b[b.TEXT_INDEX=15]="TEXT_INDEX";b[b.CIRCLE_VERTEX=16]="CIRCLE_VERTEX";b[b.CIRCLE_INDEX=17]="CIRCLE_INDEX"})(a.MemoryBufferType||(a.MemoryBufferType={}));a.BucketType=
void 0;(function(b){b[b.FILL=1]="FILL";b[b.LINE=2]="LINE";b[b.SYMBOL=3]="SYMBOL";b[b.CIRCLE=4]="CIRCLE"})(a.BucketType||(a.BucketType={}));a.DrawPhase=void 0;(function(b){b[b.BACKGROUND=0]="BACKGROUND";b[b.OPAQUE=1]="OPAQUE";b[b.TRANSLUCENT=2]="TRANSLUCENT";b[b.SYMBOLS=3]="SYMBOLS";b[b.HITTEST=4]="HITTEST"})(a.DrawPhase||(a.DrawPhase={}));a.ShaderProgramType=void 0;(function(b){b[b.BACKGROUND=0]="BACKGROUND";b[b.FILL=1]="FILL";b[b.OUTLINE=2]="OUTLINE";b[b.LINE=3]="LINE";b[b.ICON=4]="ICON";b[b.CIRCLE=
5]="CIRCLE";b[b.TEXT=6]="TEXT";b[b.TILEINFO=7]="TILEINFO"})(a.ShaderProgramType||(a.ShaderProgramType={}));a.StyleUpdateType=void 0;(function(b){b[b.PAINTER_CHANGED=0]="PAINTER_CHANGED";b[b.LAYOUT_CHANGED=1]="LAYOUT_CHANGED";b[b.LAYER_CHANGED=2]="LAYER_CHANGED";b[b.LAYER_REMOVED=3]="LAYER_REMOVED";b[b.SPRITES_CHANGED=4]="SPRITES_CHANGED"})(a.StyleUpdateType||(a.StyleUpdateType={}));Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/promiseUtils ./Placement ./TileParser ../../tiling/enums".split(" "),
function(a,b,c,e,d,p){return function(){function r(n,k,g,l){this.status=p.TileStatus.INITIALIZED;this.placementEngine=new e.PlacementEngine;this.tileKey=n;this.refKeys=k;this._workerTileHandler=g;this._styleRepository=l}var u=r.prototype;u.release=function(){this.tileKey="";this.refKeys=null;this.status=p.TileStatus.INITIALIZED;this._workerTileHandler=null};u.parse=function(){var n=a._asyncToGenerator(function*(k,g){const l=g&&g.signal;if(b.isSome(l)){const f=()=>{l.removeEventListener("abort",f);
this.status=p.TileStatus.INVALID};l.addEventListener("abort",f)}const q={bucketsWithData:[],emptyBuckets:null};try{var m=yield this._parse(k,g)}catch(f){if(c.isAbortError(f))throw f;return{result:q,transferList:[]}}this.status=p.TileStatus.READY;g=q.bucketsWithData;k=[];for(var t of m)t.hasFeatures()?(m=t.serialize(),g.push(m)):k.push(t.layer.uid);t=[...g];m=null;0<k.length&&(m=Uint32Array.from(k),t.push(m.buffer));q.emptyBuckets=m;return{result:q,transferList:t}});return function(k,g){return n.apply(this,
arguments)}}();u.setObsolete=function(){this.status=p.TileStatus.INVALID};u.getLayers=function(){return this._workerTileHandler.getLayers()};u.getWorkerTileHandler=function(){return this._workerTileHandler};u._parse=function(){var n=a._asyncToGenerator(function*(k,g){const l=k.sourceName2DataAndRefKey;if(0===Object.keys(l).length)return[];this.status=p.TileStatus.MODIFIED;return(new d(l,this,g.client,this._styleRepository,k.styleLayerUIDs)).parse(g)});return function(k,g){return n.apply(this,arguments)}}();
return r}()})},"esri/views/2d/engine/vectorTiles/Placement":function(){define("exports ./GeometryUtils ./TextShaping ./decluttering/config ./style/StyleDefinition ../webgl/Geometry".split(" "),function(a,b,c,e,d,p){let r=function(g,l,q,m,t,f=.5,h=b.C_INFINITY){this.anchor=g;this.labelAngle=l;this.glyphAngle=q;this.page=m;this.alternateVerticalGlyph=t;this.minzoom=f;this.maxzoom=h},u=function(g,l,q,m,t,f,h,v,w,D,x,y){this.tl=g;this.tr=l;this.bl=q;this.br=m;this.mosaicRect=t;this.labelAngle=f;this.minAngle=
h;this.maxAngle=v;this.anchor=w;this.minzoom=D;this.maxzoom=x;this.page=y},n=function(g){this.shapes=g},k=function(){function g(){}var l=g.prototype;l.getIconPlacement=function(q,m,t){const f=new p.Point(q.x,q.y),h=t.rotationAlignment===d.RotationAlignment.MAP,v=t.keepUpright;let w=t.rotate*b.C_DEG_TO_RAD;h&&(w+=q.angle);q=new n([]);t.allowOverlap&&t.ignorePlacement||!e.DECLUTTER_TILES||(q.iconColliders=[]);this._addIconPlacement(q,f,m,t,w);h&&v&&this._addIconPlacement(q,f,m,t,w+b.C_PI);return q};
l._addIconPlacement=function(q,m,t,f,h){var v=t.pixelRatio;const w=t.width/v,D=t.height/v;var x=f.offset;let y=x[0];x=x[1];switch(f.anchor){case d.SymbolAnchor.CENTER:y-=w/2;x-=D/2;break;case d.SymbolAnchor.LEFT:x-=D/2;break;case d.SymbolAnchor.RIGHT:y-=w;x-=D/2;break;case d.SymbolAnchor.TOP:y-=w/2;break;case d.SymbolAnchor.BOTTOM:y-=w/2;x-=D;break;case d.SymbolAnchor.BOTTOM_LEFT:x-=D;break;case d.SymbolAnchor.TOP_RIGHT:y-=w;break;case d.SymbolAnchor.BOTTOM_RIGHT:y-=w,x-=D}t=t.rect;var z=2/v,A=y-
z,C=x-z,B=A+t.width/v,E=C+t.height/v;v=new p.Point(A,C);z=new p.Point(B,E);A=new p.Point(A,E);C=new p.Point(B,C);0!==h&&(B=Math.cos(h),E=Math.sin(h),v.rotate(B,E),z.rotate(B,E),A.rotate(B,E),C.rotate(B,E));t=new u(v,C,A,z,t,h,0,256,m,.5,b.C_INFINITY,0);q.shapes.push(t);f.allowOverlap&&f.ignorePlacement||!e.DECLUTTER_TILES||(t=f.size,v=f.padding,q.iconColliders.push({xTile:m.x,yTile:m.y,dxPixels:y*t-v,dyPixels:x*t-v,hard:!f.optional,partIndex:0,width:w*t+2*v,height:D*t+2*v,angle:h,minLod:.5,maxLod:b.C_INFINITY}))};
l.getTextPlacement=function(q,m,t,f){var h=new p.Point(q.x,q.y);const v=f.rotate*b.C_DEG_TO_RAD;var w=f.rotationAlignment===d.RotationAlignment.MAP;const D=f.keepUpright,x=f.padding;let y=.5;const z=w?q.angle:0,A=0<=q.segment&&w,C=f.allowOverlap&&f.ignorePlacement?null:[],B=[],E=!A;var G=Number.POSITIVE_INFINITY;let J=Number.NEGATIVE_INFINITY,K=G,F=J;const H=A?D:w&&D,I=f.size/c.SDF_GLYPH_SIZE;let L=!1;for(var Q of m)if(Q.vertical){L=!0;break}let Z=0;Q=0;if(!A&&L){var ca=c.TextShaping.getTextBox(m,
f.lineHeight*c.SDF_GLYPH_SIZE);switch(f.anchor){case d.SymbolAnchor.LEFT:Z=ca.height/2;Q=-ca.width/2;break;case d.SymbolAnchor.RIGHT:Z=-ca.height/2;Q=ca.width/2;break;case d.SymbolAnchor.TOP:Z=ca.height/2;Q=ca.width/2;break;case d.SymbolAnchor.BOTTOM:Z=-ca.height/2;Q=-ca.width/2;break;case d.SymbolAnchor.TOP_LEFT:Z=ca.height;break;case d.SymbolAnchor.BOTTOM_LEFT:Q=-ca.width;break;case d.SymbolAnchor.TOP_RIGHT:Q=ca.width;break;case d.SymbolAnchor.BOTTOM_RIGHT:Z=-ca.height}}Z+=f.offset[0]*c.SDF_GLYPH_SIZE;
Q+=f.offset[1]*c.SDF_GLYPH_SIZE;for(const pa of m){var aa=pa.glyphMosaicItem;if(!aa||aa.rect.isEmpty)continue;m=aa.rect;ca=aa.metrics;var O=aa.page;if(C&&E){if(void 0!==Da&&Da!==pa.y){var fa=void 0,oa=void 0;if(L){var Da=-F+Z;fa=G+Q;oa=F-K;G=J-G}else Da=G+Z,fa=K+Q,oa=J-G,G=F-K;C.push({xTile:q.x,yTile:q.y,dxPixels:Da*I-x,dyPixels:fa*I-x,hard:!f.optional,partIndex:1,width:oa*I+2*x,height:G*I+2*x,angle:v,minLod:.5,maxLod:b.C_INFINITY});G=Number.POSITIVE_INFINITY;J=Number.NEGATIVE_INFINITY;K=G;F=J}Da=
pa.y}var Ha=[];if(A){if(aa=(pa.x+ca.left-4+.5*aa.metrics.width)*I*8,y=this._placeGlyph(q,y,aa,t,q.segment,1,pa.vertical,O,Ha),D&&(y=this._placeGlyph(q,y,aa,t,q.segment,-1,pa.vertical,O,Ha)),2<=y)break}else Ha.push(new r(h,z,z,O,!1)),w&&D&&Ha.push(new r(h,z+b.C_PI,z+b.C_PI,O,!1));O=pa.x+ca.left;aa=pa.y-c.SDF_GLYPH_BASELINE-ca.top;fa=O+ca.width;oa=aa+ca.height;let wa,M,R,da;!A&&L?pa.vertical?(wa=new p.Point(-((aa+oa)/2+ca.width/2)-4+Z,(O+fa)/2-ca.height/2-4+Q),M=new p.Point(wa.x+m.width,wa.y+m.height),
R=new p.Point(wa.x,M.y),da=new p.Point(M.x,wa.y)):(wa=new p.Point(-aa+4+Z,O-4+Q),M=new p.Point(wa.x-m.height,wa.y+m.width),R=new p.Point(M.x,wa.y),da=new p.Point(wa.x,M.y)):(wa=new p.Point(O-4+Z,aa-4+Q),M=new p.Point(wa.x+m.width,wa.y+m.height),R=new p.Point(wa.x,M.y),da=new p.Point(M.x,wa.y));let S,X,ea,ha;for(const ra of Ha){let na,N,U;ra.alternateVerticalGlyph?(S||(S=new p.Point((O+fa)/2+Z-ca.height/2-4,(aa+oa)/2+Q+ca.width/2+4),X=new p.Point(S.x+m.height,S.y-m.width),ea=new p.Point(X.x,S.y),ha=
new p.Point(S.x,X.y)),Ha=S,na=ea,N=ha,U=X):(Ha=wa,na=R,N=da,U=M);const P=aa,T=oa,W=ra.glyphAngle+v;if(0!==W){var ta=Math.cos(W),Y=Math.sin(W);Ha=Ha.clone();na=na.clone();N=N.clone();U=U.clone();Ha.rotate(ta,Y);U.rotate(ta,Y);na.rotate(ta,Y);N.rotate(ta,Y)}ta=0;Y=256;A&&L?pa.vertical?ra.alternateVerticalGlyph?(ta=32,Y=96):(ta=224,Y=32):(ta=224,Y=96):(ta=192,Y=64);B.push(new u(Ha,N,na,U,m,ra.labelAngle,ta,Y,ra.anchor,ra.minzoom,ra.maxzoom,ra.page));!C||H&&!this._legible(ra.labelAngle)||(E?(O<G&&(G=
O),P<K&&(K=P),fa>J&&(J=fa),T>F&&(F=T)):2>ra.minzoom&&C.push({xTile:q.x,yTile:q.y,dxPixels:(O+Z)*I-x,dyPixels:(P+Z)*I-x,hard:!f.optional,partIndex:1,width:(fa-O)*I+2*x,height:(T-P)*I+2*x,angle:W,minLod:ra.minzoom,maxLod:ra.maxzoom}))}}if(2<=y)return null;C&&E&&(L?(t=-F+Z,h=G+Q,w=F-K,G=J-G):(t=G+Z,h=K+Q,w=J-G,G=F-K),C.push({xTile:q.x,yTile:q.y,dxPixels:t*I-x,dyPixels:h*I-x,hard:!f.optional,partIndex:1,width:w*I+2*x,height:G*I+2*x,angle:v,minLod:.5,maxLod:b.C_INFINITY}));q=new n(B);C&&0<C.length&&(q.textColliders=
C);return q};l._legible=function(q){q=b.radToByte(q);return 65>q||193<=q};l._placeGlyph=function(q,m,t,f,h,v,w,D,x){const y=0>v?b.positiveMod(q.angle+b.C_PI,b.C_2PI):q.angle;let z=0;0>t&&(v*=-1,t*=-1,z=b.C_PI);0<v&&++h;q=new p.Point(q.x,q.y);let A=f[h];var C=b.C_INFINITY;if(f.length<=h)return C;for(;;){var B=A.x-q.x,E=A.y-q.y;const G=Math.sqrt(B*B+E*E),J=Math.max(t/G,m);B=b.positiveMod(Math.atan2(E/G,B/G)+z,b.C_2PI);x.push(new r(q,y,B,D,!1,J,C));w&&x.push(new r(q,y,B,D,!0,J,C));if(J<=m)return J;q=
A.clone();do{h+=v;if(f.length<=h||0>h)return J;A=f[h]}while(q.isEqual(A));C=A.x-q.x;B=A.y-q.y;E=Math.sqrt(C*C+B*B);C*=G/E;B*=G/E;q.x-=C;q.y-=B;C=J}};return g}();a.Anchor=function(g,l,q=0,m=-1,t=.5){this.x=g;this.y=l;this.angle=q;this.segment=m;this.minzoom=t};a.PlacedSymbol=u;a.Placement=n;a.PlacementEngine=k;a.TILE_COORD_SIZE=4096;a.TILE_PIXEL_RATIO=8;a.TILE_PIXEL_SIZE=512;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports"],
function(a){function b(u,n){u%=n;return 0<=u?u:u+n}const c=Number.POSITIVE_INFINITY,e=Math.PI,d=128/e,p=256/360,r=1/Math.LN2;a.C_256_TO_RAD=e/128;a.C_2PI=2*e;a.C_DEG_TO_256=p;a.C_DEG_TO_RAD=e/180;a.C_INFINITY=c;a.C_PI=e;a.C_PI_BY_2=e/2;a.C_RAD_TO_256=d;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/1.414213562;a.between=function(u,n,k){return u>=n&&u<=k||u>=k&&u<=n};a.degToByte=function(u){return b(u*p,256)};a.interpolate=function(u,n,k){return u*(1-k)+n*k};a.log2=function(u){return Math.log(u)*r};a.positiveMod=
b;a.radToByte=function(u){return b(u*d,256)};a.sqr=function(u){return u*u};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["exports","./ScriptUtils","../webgl/Rect"],function(a,b,c){let e=function(){function d(r,u,n,k,g,l,q){this._glyphItems=r;this._maxWidth=u;this._lineHeight=n;this._letterSpacing=k;this._hAnchor=g;this._vAnchor=l;this._justify=q}var p=d.prototype;p.getShaping=function(r,
u,n){var k=this._letterSpacing;const g=this._lineHeight;var l=this._justify,q=this._maxWidth;const m=[];var t=0,f=0,h=r.length;for(var v=0;v<h;v++){var w=r.charCodeAt(v),D=n&&b.hasVerticalOrientation(w);let x;for(const y of this._glyphItems)if(x=y[w])break;m.push({codePoint:w,x:t,y:f,vertical:D,glyphMosaicItem:x});x&&(t+=x.metrics.advance+k)}n=t;0<q&&(n=t/Math.max(1,Math.ceil(t/q)));r=r.includes("\u200b");q=[];for(k=0;k<h-1;k++)if(w=m[k].codePoint,D=b.allowsIdeographicBreak(w),b.isLineBreak(w)||D){v=
0;if(10===w)v-=1E4;else if(D&&r)v+=150;else{if(40===w||65288===w)v+=50;w=m[k+1].codePoint;if(41===w||65289===w)v+=50}q.push(this._buildBreak(k+1,m[k].x,n,q,v,!1))}h=this._optimalBreaks(this._buildBreak(h,t,n,q,0,!0));t=0;r=u?-g:g;k=0;for(q=0;q<h.length;q++){for(n=h[q];k<n&&b.isWhiteSpace(m[k].codePoint);)m[k].glyphMosaicItem=null,++k;for(v=n-1;v>k&&b.isWhiteSpace(m[v].codePoint);)m[v].glyphMosaicItem=null,--v;if(k<=v){w=m[k].x;for(D=k;D<=v;D++)m[D].x-=w,m[D].y=f;w=m[v].x;m[v].glyphMosaicItem&&(w+=
m[v].glyphMosaicItem.metrics.advance);t=Math.max(w,t);l&&this._applyJustification(m,k,v)}k=n;f+=r}if(0<m.length){f=h.length-1;l=(l-this._hAnchor)*t;t=(-this._vAnchor*(f+1)+.5)*g;u&&f&&(t+=f*g);for(const x of m)x.x+=l,x.y+=t}return m.filter(x=>x.glyphMosaicItem)};d.getTextBox=function(r,u){if(!r.length)return null;let n=Infinity,k=Infinity,g=0,l=0;for(const q of r){r=q.x;const m=q.y-17,t=r+q.glyphMosaicItem.metrics.advance,f=m+u;n=Math.min(n,r);g=Math.max(g,t);k=Math.min(k,m);l=Math.max(l,f)}return{x:n,
y:k,width:g-n,height:l-k}};d.getBox=function(r){if(!r.length)return null;let u=Infinity,n=Infinity,k=0,g=0;for(const l of r){const {height:q,left:m,top:t,width:f}=l.glyphMosaicItem.metrics;r=l.x;const h=l.y-(q-Math.abs(t)),v=r+f+m,w=h+q;u=Math.min(u,r);k=Math.max(k,v);n=Math.min(n,h);g=Math.max(g,w)}return{x:u,y:n,width:k-u,height:g-n}};d.addDecoration=function(r,u){var n=r.length;if(0!==n){var k=r[0].x+r[0].glyphMosaicItem.metrics.left,g=r[0].y;for(let l=1;l<n;l++){const q=r[l];if(q.y!==g){const m=
r[l-1].x+r[l-1].glyphMosaicItem.metrics.left+r[l-1].glyphMosaicItem.metrics.width;r.push({codePoint:0,x:k,y:g+u-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new c(4,0,4,8),metrics:{width:m-k,height:8,left:0,top:0,advance:0},page:0,code:0}});g=q.y;k=q.x+q.glyphMosaicItem.metrics.left}}n=r[n-1].x+r[n-1].glyphMosaicItem.metrics.left+r[n-1].glyphMosaicItem.metrics.width;r.push({codePoint:0,x:k,y:g+u-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new c(4,0,4,8),metrics:{width:n-k,height:8,left:0,top:0,advance:0},
page:0,code:0}})}};p._breakScore=function(r,u,n,k){const g=(r-u)*(r-u);return k?r<u?g/2:2*g:g+Math.abs(n)*n};p._buildBreak=function(r,u,n,k,g,l){let q=null,m=this._breakScore(u,n,g,l);for(const t of k)k=this._breakScore(u-t.x,n,g,l)+t.score,k<=m&&(q=t,m=k);return{index:r,x:u,score:m,previousBreak:q}};p._optimalBreaks=function(r){return r?this._optimalBreaks(r.previousBreak).concat(r.index):[]};p._applyJustification=function(r,u,n){var k=r[n];for(k=(k.x+(k.vertical?24:k.glyphMosaicItem?k.glyphMosaicItem.metrics.advance:
0))*this._justify;u<=n;u++)r[u].x-=k};return d}();a.SDF_GLYPH_BASELINE=17;a.SDF_GLYPH_SIZE=24;a.TextShaping=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["exports"],function(a){a.allowsIdeographicBreak=function(b){return 11904>b?!1:12704<=b&&12735>=b||12544<=b&&12591>=b||65072<=b&&65103>=b||63744<=b&&64255>=b||13056<=b&&13311>=b||11904<=b&&12031>=b||12736<=b&&12783>=b||12288<=b&&12351>=
b||13312<=b&&19903>=b||19968<=b&&40959>=b||12800<=b&&13055>=b||65280<=b&&65519>=b||12352<=b&&12447>=b||12272<=b&&12287>=b||12032<=b&&12255>=b||12784<=b&&12799>=b||12448<=b&&12543>=b||65040<=b&&65055>=b||42128<=b&&42191>=b||40960<=b&&42127>=b?!0:!1};a.hasVerticalOrientation=function(b){return 746===b||747===b?!0:4352>b?!1:12704<=b&&12735>=b||12544<=b&&12591>=b||65072<=b&&65103>=b&&!(65097<=b&&65103>=b)||63744<=b&&64255>=b||13056<=b&&13311>=b||11904<=b&&12031>=b||12736<=b&&12783>=b||12288<=b&&12351>=
b&&!(12296<=b&&12305>=b||12308<=b&&12319>=b)&&12336!==b||13312<=b&&19903>=b||19968<=b&&40959>=b||12800<=b&&13055>=b||12592<=b&&12687>=b||43360<=b&&43391>=b||55216<=b&&55295>=b||4352<=b&&4607>=b||44032<=b&&55215>=b||12352<=b&&12447>=b||12272<=b&&12287>=b||12688<=b&&12703>=b||12032<=b&&12255>=b||12784<=b&&12799>=b||12448<=b&&12543>=b&&12540!==b||65280<=b&&65519>=b&&!(65288===b||65289===b||65293===b||65306<=b&&65310>=b||65339===b||65341===b||65343===b||65371<=b&&65503>=b||65507===b||65512<=b&&65519>=
b)||65104<=b&&65135>=b&&!(65112<=b&&65118>=b||65123<=b&&65126>=b)||5120<=b&&5759>=b||6320<=b&&6399>=b||65040<=b&&65055>=b||19904<=b&&19967>=b||40960<=b&&42127>=b||42128<=b&&42191>=b?!0:!1};a.isLineBreak=function(b){switch(b){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1};a.isWhiteSpace=function(b){switch(b){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/webgl/Rect":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(c=0,e=0,d=0,p=0){this.x=c;this.y=e;this.width=d;this.height=p}b.prototype.union=function(c){this.x=Math.min(this.x,c.x);this.y=Math.min(this.y,c.y);this.width=Math.max(this.width,c.width);this.height=Math.max(this.height,c.height)};a._createClass(b,[{key:"isEmpty",get:function(){return 0>=this.width||0>=this.height}}]);
return b}()})},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["exports"],function(a){a.COLLISION_GRID_CELL_SIZE=32;a.DECLUTTER_BUDGET=1.5;a.DECLUTTER_TILES=!0;a.FADE_DURATION=200;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports","../../../../../symbols/cim/enums"],function(a,b){a.StyleLayerType=void 0;(function(e){e[e.BACKGROUND=0]="BACKGROUND";
e[e.FILL=1]="FILL";e[e.LINE=2]="LINE";e[e.SYMBOL=3]="SYMBOL";e[e.CIRCLE=4]="CIRCLE"})(a.StyleLayerType||(a.StyleLayerType={}));a.Visibility=void 0;(function(e){e[e.VISIBLE=0]="VISIBLE";e[e.NONE=1]="NONE"})(a.Visibility||(a.Visibility={}));a.SymbolPlacement=void 0;(function(e){e[e.POINT=0]="POINT";e[e.LINE=1]="LINE";e[e.LINE_CENTER=2]="LINE_CENTER"})(a.SymbolPlacement||(a.SymbolPlacement={}));a.RotationAlignment=void 0;(function(e){e[e.MAP=0]="MAP";e[e.VIEWPORT=1]="VIEWPORT";e[e.AUTO=2]="AUTO"})(a.RotationAlignment||
(a.RotationAlignment={}));a.TextJustification=void 0;(function(e){e[e.AUTO=0]="AUTO";e[e.LEFT=1]="LEFT";e[e.CENTER=2]="CENTER";e[e.RIGHT=3]="RIGHT"})(a.TextJustification||(a.TextJustification={}));a.SymbolAnchor=void 0;(function(e){e[e.CENTER=0]="CENTER";e[e.LEFT=1]="LEFT";e[e.RIGHT=2]="RIGHT";e[e.TOP=3]="TOP";e[e.BOTTOM=4]="BOTTOM";e[e.TOP_LEFT=5]="TOP_LEFT";e[e.TOP_RIGHT=6]="TOP_RIGHT";e[e.BOTTOM_LEFT=7]="BOTTOM_LEFT";e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"})(a.SymbolAnchor||(a.SymbolAnchor={}));a.TextTransform=
void 0;(function(e){e[e.NONE=0]="NONE";e[e.UPPERCASE=1]="UPPERCASE";e[e.LOWERCASE=2]="LOWERCASE"})(a.TextTransform||(a.TextTransform={}));a.TranslateAnchor=void 0;(function(e){e[e.MAP=0]="MAP";e[e.VIEWPORT=1]="VIEWPORT"})(a.TranslateAnchor||(a.TranslateAnchor={}));a.TextWritingMode=void 0;(function(e){e[e.HORIZONTAL=0]="HORIZONTAL";e[e.VERTICAL=1]="VERTICAL"})(a.TextWritingMode||(a.TextWritingMode={}));let c=function(){};c.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],
default:a.Visibility.VISIBLE}};c.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE}};c.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:b.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:b.JoinType.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};c.symbolLayoutDefinition=
{visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:a.SymbolPlacement.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),
default:a.SymbolAnchor.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:a.RotationAlignment.AUTO},"icon-size":{type:"number",minimum:0,
default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:a.SymbolAnchor.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:a.TextJustification.CENTER},"text-keep-upright":{type:"boolean",
default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:a.RotationAlignment.AUTO},
"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:a.TextTransform.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[a.TextWritingMode.HORIZONTAL]}};c.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.Visibility.VISIBLE}};c.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,
maximum:1,default:1},"background-pattern":{type:"string"}};c.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP}};c.linePaintDefinition=
{"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP},
"line-width":{type:"number",minimum:0,default:1}};c.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP},
"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP}};c.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,
default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};c.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,
0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:a.TranslateAnchor.MAP}};a.StyleDefinition=c;Object.defineProperties(a,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/cim/enums":function(){define(["exports"],function(a){a.CapType=void 0;(function(b){b[b.BUTT=0]="BUTT";b[b.ROUND=1]="ROUND";b[b.SQUARE=2]="SQUARE";b[b.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));a.JoinType=void 0;(function(b){b[b.BEVEL=0]="BEVEL";b[b.ROUND=1]="ROUND";b[b.MITER=2]="MITER";b[b.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));a.Alignment=void 0;(function(b){b[b.SCREEN=0]="SCREEN";b[b.MAP=1]="MAP"})(a.Alignment||
(a.Alignment={}));a.ExternalColorMixMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Ignore=1]="Ignore";b[b.Multiply=99]="Multiply"})(a.ExternalColorMixMode||(a.ExternalColorMixMode={}));a.ExtremityPlacement=void 0;(function(b){b.Both="Both";b.JustBegin="JustBegin";b.JustEnd="JustEnd";b.None="None"})(a.ExtremityPlacement||(a.ExtremityPlacement={}));a.FillMode=void 0;(function(b){b[b.Mosaic=0]="Mosaic";b[b.Centered=1]="Centered"})(a.FillMode||(a.FillMode={}));a.FontEffects=void 0;(function(b){b[b.Normal=
0]="Normal";b[b.Superscript=1]="Superscript";b[b.Subscript=2]="Subscript"})(a.FontEffects||(a.FontEffects={}));a.FontEncoding=void 0;(function(b){b[b.MSSymbol=0]="MSSymbol";b[b.Unicode=1]="Unicode"})(a.FontEncoding||(a.FontEncoding={}));a.FontType=void 0;(function(b){b[b.Unspecified=0]="Unspecified";b[b.TrueType=1]="TrueType";b[b.PSOpenType=2]="PSOpenType";b[b.TTOpenType=3]="TTOpenType";b[b.Type1=4]="Type1"})(a.FontType||(a.FontType={}));a.AngleAlignment=void 0;(function(b){b[b.Display=0]="Display";
b[b.Map=1]="Map"})(a.AngleAlignment||(a.AngleAlignment={}));a.AnimatedSymbolRepeatType=void 0;(function(b){b.None="None";b.Loop="Loop";b.Oscillate="Oscillate"})(a.AnimatedSymbolRepeatType||(a.AnimatedSymbolRepeatType={}));a.DominantSizeAxis=void 0;(function(b){b[b.Z=0]="Z";b[b.X=1]="X";b[b.Y=2]="Y"})(a.DominantSizeAxis||(a.DominantSizeAxis={}));a.RotationOrder=void 0;(function(b){b[b.XYZ=0]="XYZ";b[b.ZXY=1]="ZXY";b[b.YXZ=2]="YXZ"})(a.RotationOrder||(a.RotationOrder={}));a.BalloonCalloutStyle=void 0;
(function(b){b[b.Rectangle=0]="Rectangle";b[b.RoundedRectangle=1]="RoundedRectangle";b[b.Oval=2]="Oval"})(a.BalloonCalloutStyle||(a.BalloonCalloutStyle={}));a.BlendingMode=void 0;(function(b){b[b.None=0]="None";b[b.Alpha=1]="Alpha";b[b.Screen=2]="Screen";b[b.Multiply=3]="Multiply";b[b.Add=4]="Add"})(a.BlendingMode||(a.BlendingMode={}));a.BlockProgression=void 0;(function(b){b[b.TTB=0]="TTB";b[b.RTL=1]="RTL";b[b.BTT=2]="BTT"})(a.BlockProgression||(a.BlockProgression={}));a.BillBoardMode=void 0;(function(b){b[b.None=
0]="None";b[b.SignPost=1]="SignPost";b[b.FaceNearPlane=2]="FaceNearPlane"})(a.BillBoardMode||(a.BillBoardMode={}));a.CGAAttributeType=void 0;(function(b){b[b.Float=0]="Float";b[b.String=1]="String";b[b.Boolean=2]="Boolean"})(a.CGAAttributeType||(a.CGAAttributeType={}));a.ClippingType=void 0;(function(b){b[b.Intersect=0]="Intersect";b[b.Subtract=1]="Subtract"})(a.ClippingType||(a.ClippingType={}));a.GeometricEffectArrowType=void 0;(function(b){b.OpenEnded="OpenEnded";b.Block="Block";b.Crossed="Crossed"})(a.GeometricEffectArrowType||
(a.GeometricEffectArrowType={}));a.GeometricEffectControlMeasureLineRule=void 0;(function(b){b.FullGeometry="FullGeometry";b.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";b.ReversedFirstSegment="ReversedFirstSegment";b.PerpendicularToSecondSegment="PerpendicularToSecondSegment";b.SecondSegmentWithTicks="SecondSegmentWithTicks";b.DoublePerpendicular="DoublePerpendicular";b.OppositeToFirstSegment="OppositeToFirstSegment";b.TriplePerpendicular="TriplePerpendicular";b.HalfCircleFirstSegment=
"HalfCircleFirstSegment";b.HalfCircleSecondSegment="HalfCircleSecondSegment";b.HalfCircleExtended="HalfCircleExtended";b.OpenCircle="OpenCircle";b.CoverageEdgesWithTicks="CoverageEdgesWithTicks";b.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";b.GapExtentMidline="GapExtentMidline";b.Chevron="Chevron";b.PerpendicularWithArc="PerpendicularWithArc";b.ClosedHalfCircle="ClosedHalfCircle";b.TripleParallelExtended="TripleParallelExtended";b.ParallelWithTicks="ParallelWithTicks";b.Parallel="Parallel";
b.PerpendicularToFirstSegment="PerpendicularToFirstSegment";b.ParallelOffset="ParallelOffset";b.OffsetOpposite="OffsetOpposite";b.OffsetSame="OffsetSame";b.CircleWithArc="CircleWithArc";b.DoubleJog="DoubleJog";b.PerpendicularOffset="PerpendicularOffset";b.LineExcludingLastSegment="LineExcludingLastSegment";b.MultivertexArrow="MultivertexArrow";b.CrossedArrow="CrossedArrow";b.ChevronArrow="ChevronArrow";b.ChevronArrowOffset="ChevronArrowOffset";b.PartialFirstSegment="PartialFirstSegment";b.Arch="Arch";
b.CurvedParallelTicks="CurvedParallelTicks";b.Arc90Degrees="Arc90Degrees"})(a.GeometricEffectControlMeasureLineRule||(a.GeometricEffectControlMeasureLineRule={}));a.GeometricEffectDonutMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square";b.TrueBuffer="TrueBuffer"})(a.GeometricEffectDonutMethod||(a.GeometricEffectDonutMethod={}));a.GeometricEffectEnclosingPolygonMethod=void 0;(function(b){b.ClosePath="ClosePath";b.ConvexHull="ConvexHull";b.RectangularBox=
"RectangularBox"})(a.GeometricEffectEnclosingPolygonMethod||(a.GeometricEffectEnclosingPolygonMethod={}));a.GeometricEffectExtensionOrigin=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectExtensionOrigin||(a.GeometricEffectExtensionOrigin={}));a.GeometricEffectOffsetMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square"})(a.GeometricEffectOffsetMethod||(a.GeometricEffectOffsetMethod={}));a.GeometricEffectOffsetOption=
void 0;(function(b){b.Fast="Fast";b.Accurate="Accurate"})(a.GeometricEffectOffsetOption||(a.GeometricEffectOffsetOption={}));a.GeometricEffectOffsetTangentMethod=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectOffsetTangentMethod||(a.GeometricEffectOffsetTangentMethod={}));a.GeometricEffectWaveform=void 0;(function(b){b.Sinus="Sinus";b.Square="Square";b.Triangle="Triangle";b.Random="Random"})(a.GeometricEffectWaveform||(a.GeometricEffectWaveform=
{}));a.GlyphHinting=void 0;(function(b){b[b.None=0]="None";b[b.Default=1]="Default";b[b.Force=2]="Force"})(a.GlyphHinting||(a.GlyphHinting={}));a.GradientAlignment=void 0;(function(b){b[b.Buffered=0]="Buffered";b[b.Left=1]="Left";b[b.Right=2]="Right";b[b.AlongLine=3]="AlongLine"})(a.GradientAlignment||(a.GradientAlignment={}));a.GradientFillMethod=void 0;(function(b){b[b.Linear=0]="Linear";b[b.Rectangular=1]="Rectangular";b[b.Circular=2]="Circular";b[b.Buffered=3]="Buffered"})(a.GradientFillMethod||
(a.GradientFillMethod={}));a.GradientStrokeType=void 0;(function(b){b[b.Discrete=0]="Discrete";b[b.Continuous=1]="Continuous"})(a.GradientStrokeType||(a.GradientStrokeType={}));a.GradientStrokeMethod=void 0;(function(b){b[b.AcrossLine=0]="AcrossLine";b[b.AloneLine=1]="AloneLine"})(a.GradientStrokeMethod||(a.GradientStrokeMethod={}));a.HorizontalAlignment=void 0;(function(b){b[b.Left=0]="Left";b[b.Right=1]="Right";b[b.Center=2]="Center";b[b.Justify=3]="Justify"})(a.HorizontalAlignment||(a.HorizontalAlignment=
{}));a.LeaderLineStyle=void 0;(function(b){b[b.Base=0]="Base";b[b.MidPoint=1]="MidPoint";b[b.ThreePoint=2]="ThreePoint";b[b.FourPoint=3]="FourPoint";b[b.Underline=4]="Underline";b[b.CircularCW=5]="CircularCW";b[b.CircularCCW=6]="CircularCCW"})(a.LeaderLineStyle||(a.LeaderLineStyle={}));a.LineCapStyle=void 0;(function(b){b.Butt="Butt";b.Round="Round";b.Square="Square"})(a.LineCapStyle||(a.LineCapStyle={}));a.LineDashEnding=void 0;(function(b){b.NoConstraint="NoConstraint";b.HalfPattern="HalfPattern";
b.HalfGap="HalfGap";b.FullPattern="FullPattern";b.FullGap="FullGap";b.Custom="Custom"})(a.LineDashEnding||(a.LineDashEnding={}));a.LineDecorationStyle=void 0;(function(b){b[b.None=-1]="None";b[b.Custom=0]="Custom";b[b.Circle=1]="Circle";b[b.OpenArrow=2]="OpenArrow";b[b.ClosedArrow=3]="ClosedArrow";b[b.Diamond=4]="Diamond"})(a.LineDecorationStyle||(a.LineDecorationStyle={}));a.LineGapType=void 0;(function(b){b[b.ExtraLeading=0]="ExtraLeading";b[b.Multiple=1]="Multiple";b[b.Exact=2]="Exact"})(a.LineGapType||
(a.LineGapType={}));a.LineJoinStyle=void 0;(function(b){b.Bevel="Bevel";b.Round="Round";b.Miter="Miter"})(a.LineJoinStyle||(a.LineJoinStyle={}));a.ExpressionReturnType=void 0;(function(b){b[b.Default=0]="Default";b[b.String=1]="String";b[b.Numeric=2]="Numeric"})(a.ExpressionReturnType||(a.ExpressionReturnType={}));a.MarkerPlacementType=void 0;(function(b){b[b.InsidePolygon=0]="InsidePolygon";b[b.PolygonCenter=1]="PolygonCenter";b[b.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(a.MarkerPlacementType||
(a.MarkerPlacementType={}));a.MaterialMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Replace=1]="Replace";b[b.Multiply=2]="Multiply"})(a.MaterialMode||(a.MaterialMode={}));a.PlacementClip=void 0;(function(b){b[b.ClipAtBoundary=0]="ClipAtBoundary";b[b.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";b[b.DoNotTouchBoundary=2]="DoNotTouchBoundary";b[b.DoNotClip=3]="DoNotClip"})(a.PlacementClip||(a.PlacementClip={}));a.PlacementEndings=void 0;(function(b){b.NoConstraint="NoConstraint";
b.WithMarkers="WithMarkers";b.WithFullGap="WithFullGap";b.WithHalfGap="WithHalfGap";b.Custom="Custom"})(a.PlacementEndings||(a.PlacementEndings={}));a.PlacementGridType=void 0;(function(b){b.Fixed="Fixed";b.Random="Random";b.RandomFixedQuantity="RandomFixedQuantity"})(a.PlacementGridType||(a.PlacementGridType={}));a.PlacementOnLineRelativeTo=void 0;(function(b){b.LineMiddle="LineMiddle";b.LineBeginning="LineBeginning";b.LineEnd="LineEnd";b.SegmentMidpoint="SegmentMidpoint"})(a.PlacementOnLineRelativeTo||
(a.PlacementOnLineRelativeTo={}));a.PlacementPolygonCenterMethod=void 0;(function(b){b.OnPolygon="OnPolygon";b.CenterOfMass="CenterOfMass";b.BoundingBoxCenter="BoundingBoxCenter"})(a.PlacementPolygonCenterMethod||(a.PlacementPolygonCenterMethod={}));a.PlacementRandomlyAlongLineRandomization=void 0;(function(b){b[b.Low=0]="Low";b[b.Medium=1]="Medium";b[b.High=2]="High"})(a.PlacementRandomlyAlongLineRandomization||(a.PlacementRandomlyAlongLineRandomization={}));a.PlacementStepPosition=void 0;(function(b){b[b.MarkerCenter=
0]="MarkerCenter";b[b.MarkerBounds=1]="MarkerBounds"})(a.PlacementStepPosition||(a.PlacementStepPosition={}));a.PointSymbolCalloutScale=void 0;(function(b){b[b.None=0]="None";b[b.PropUniform=1]="PropUniform";b[b.PropNonuniform=2]="PropNonuniform";b[b.DifUniform=3]="DifUniform";b[b.DifNonuniform=4]="DifNonuniform"})(a.PointSymbolCalloutScale||(a.PointSymbolCalloutScale={}));a.Simple3DLineStyle=void 0;(function(b){b.Tube="Tube";b.Strip="Strip";b.Wall="Wall"})(a.Simple3DLineStyle||(a.Simple3DLineStyle=
{}));a.SizeVariationMethod=void 0;(function(b){b[b.Random=0]="Random";b[b.Increasing=1]="Increasing";b[b.Decreasing=2]="Decreasing";b[b.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(a.SizeVariationMethod||(a.SizeVariationMethod={}));a.SymbolUnits=void 0;(function(b){b[b.Relative=0]="Relative";b[b.Absolute=1]="Absolute"})(a.SymbolUnits||(a.SymbolUnits={}));a.TextCase=void 0;(function(b){b[b.Normal=0]="Normal";b[b.LowerCase=1]="LowerCase";b[b.Allcaps=2]="Allcaps"})(a.TextCase||(a.TextCase=
{}));a.TextReadingDirection=void 0;(function(b){b[b.LTR=0]="LTR";b[b.RTL=1]="RTL"})(a.TextReadingDirection||(a.TextReadingDirection={}));a.TextureFilter=void 0;(function(b){b.Draft="Draft";b.Picture="Picture";b.Text="Text"})(a.TextureFilter||(a.TextureFilter={}));a.VerticalAlignment=void 0;(function(b){b[b.Top=0]="Top";b[b.Center=1]="Center";b[b.Baseline=2]="Baseline";b[b.Bottom=3]="Bottom"})(a.VerticalAlignment||(a.VerticalAlignment={}));a.VerticalGlyphOrientation=void 0;(function(b){b[b.Right=0]=
"Right";b[b.Upright=1]="Upright"})(a.VerticalGlyphOrientation||(a.VerticalGlyphOrientation={}));a.WaterbodySize=void 0;(function(b){b[b.Small=0]="Small";b[b.Medium=1]="Medium";b[b.Large=2]="Large"})(a.WaterbodySize||(a.WaterbodySize={}));a.WaveStrength=void 0;(function(b){b[b.Calm=0]="Calm";b[b.Rippled=1]="Rippled";b[b.Slight=2]="Slight";b[b.Moderate=3]="Moderate"})(a.WaveStrength||(a.WaveStrength={}));Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/webgl/Geometry":function(){define(["exports"],
function(a){let b=function(){function c(d,p){this.x=d;this.y=p}var e=c.prototype;e.clone=function(){return new c(this.x,this.y)};e.equals=function(d,p){return d===this.x&&p===this.y};e.isEqual=function(d){return d.x===this.x&&d.y===this.y};e.setCoords=function(d,p){this.x=d;this.y=p};e.normalize=function(){var d=this.x;const p=this.y;d=Math.sqrt(d*d+p*p);this.x/=d;this.y/=d};e.rightPerpendicular=function(){const d=this.x;this.x=this.y;this.y=-d};e.move=function(d,p){this.x+=d;this.y+=p};e.assign=
function(d){this.x=d.x;this.y=d.y};e.assignAdd=function(d,p){this.x=d.x+p.x;this.y=d.y+p.y};e.assignSub=function(d,p){this.x=d.x-p.x;this.y=d.y-p.y};e.rotate=function(d,p){const r=this.x,u=this.y;this.x=r*d-u*p;this.y=r*p+u*d};e.scale=function(d){this.x*=d;this.y*=d};e.length=function(){const d=this.x,p=this.y;return Math.sqrt(d*d+p*p)};c.distance=function(d,p){const r=p.x-d.x;d=p.y-d.y;return Math.sqrt(r*r+d*d)};c.add=function(d,p){return new c(d.x+p.x,d.y+p.y)};c.sub=function(d,p){return new c(d.x-
p.x,d.y-p.y)};return c}();a.GeometryType=void 0;(function(c){c[c.Unknown=0]="Unknown";c[c.Point=1]="Point";c[c.LineString=2]="LineString";c[c.Polygon=3]="Polygon"})(a.GeometryType||(a.GeometryType={}));a.Point=b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/pbf ../../../../core/promiseUtils ../../../../geometry/libtess ./Feature ./IndexMemoryBuffer ./SourceLayerData ./VertexMemoryBuffer ./buckets/CircleBucket ./buckets/FillBucket ./buckets/LineBucket ./buckets/SymbolBucket ./style/StyleDefinition ../webgl/TileClipper ../../tiling/enums".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t){return function(){function f(v,w,D,x,y){this._pbfTiles={};this._tileClippers={};this._client=D;this._tile=w;if(y){this._styleLayerUIDs=new Set;for(const B of y)this._styleLayerUIDs.add(B)}this._styleRepository=x;this._layers=this._styleRepository.layers;const [z,A,C]=w.tileKey.split("/").map(parseFloat);this._level=z;w=8+Math.max(5*(this._level-14),0);for(const B of Object.keys(v))D=v[B],this._pbfTiles[B]=new b(new Uint8Array(D.protobuff),new DataView(D.protobuff)),
D.refKey&&([D]=D.refKey.split("/").map(parseFloat),D=z-D,0<D&&(x=(1<<D)-1,this._tileClippers[B]=new m.TileClipper(D,A&x,C&x,8,w))),this._tileClippers[B]||(this._tileClippers[B]=new m.SimpleBuilder)}var h=f.prototype;h._canParseStyleLayer=function(v){return!this._styleLayerUIDs||this._styleLayerUIDs.has(v)};h.parse=function(){var v=a._asyncToGenerator(function*(w){const D=e.loadLibtess(),x=this._initialize(w),{returnedBuckets:y}=x;this._processLayers(x);this._linkReferences(x);this._filterFeatures(x);
const z=[],A=new Set,C=(E,G)=>{A.has(E)||(z.push({name:E,repeat:G}),A.add(E))},B={};for(const E of y)E.getResources(E.tileClipper,C,B);if(this._tile.status===t.TileStatus.INVALID)return[];w=this._fetchResources(z,B,w);return Promise.all([...w,D]).then(()=>this._processFeatures(x.returnedBuckets))});return function(w){return v.apply(this,arguments)}}();h._initialize=function(v){v=v&&v.signal;const w=this._parseTileData(this._pbfTiles),D=this._layers,x=this._level,y=this._tileClippers,z=new Map;return{signal:v,
sourceNameToTileData:w,layers:D,zoom:x,sourceNameToTileClipper:y,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:z}};h._processLayers=function(v){const {sourceNameToTileData:w,layers:D,zoom:x,sourceNameToTileClipper:y,sourceNameToUniqueSourceLayerBuckets:z,sourceNameToUniqueSourceLayers:A,returnedBuckets:C,layerIdToBucket:B,referencerUIDToReferencedId:E}=v;for(v=D.length-1;0<=v;v--){const F=D[v];if(!this._canParseStyleLayer(F.uid)||
F.minzoom&&x<Math.floor(F.minzoom)||F.maxzoom&&x>=F.maxzoom||F.type===q.StyleLayerType.BACKGROUND)continue;if(!w[F.source]||!y[F.source])continue;var G=y[F.source];const H=F.sourceLayer;var J=w[F.source][H];if(J){var K=A[F.source];K||(K=A[F.source]=new Set);K.add(F.sourceLayer);if(F.refLayerId)E.set(F.uid,F.refLayerId);else if(K=this._createBucket(F))K.layerUIDs=[F.uid],K.layerExtent=J.extent,K.tileClipper=G,(G=z[F.source])||(G=z[F.source]={}),(J=G[H])||(J=G[H]=[]),J.push(K),C.push(K),B[F.id]=K}}};
h._linkReferences=function(v){const {layerIdToBucket:w,referencerUIDToReferencedId:D}=v;D.forEach((x,y)=>{w[x]&&w[x].layerUIDs.push(y)})};h._filterFeatures=function(v){const {signal:w,sourceNameToTileData:D,sourceNameToUniqueSourceLayerBuckets:x,sourceNameToUniqueSourceLayers:y}=v;v=10*this._level;const z=10*(this._level+1),A=[],C=[];for(const J of Object.keys(y))y[J].forEach(K=>{A.push(K);C.push(J)});for(let J=0;J<A.length;J++){var B=C[J],E=A[J];if(!D[B]||!x[B])continue;const K=D[B][E];if((B=x[B][E])&&
0!==B.length){if(c.isAborted(w))break;for(E=K.getData();E.nextTag(2);){var G=E.getMessage();const F=new d(G,K);G.release();if(G=F.values){const H=G._minzoom;if(H&&H>=z)continue;if((G=G._maxzoom)&&G<=v)continue}for(const H of B)H.pushFeature(F)}}}};h._fetchResources=function(v,w,D){const x=[],y=this._tile.getWorkerTileHandler();0<v.length&&(v=y.fetchSprites(v,this._client,D),x.push(v));for(const z in w)v=w[z],0<v.size&&(v=y.fetchGlyphs(this._tile.tileKey,z,v,this._client,D),x.push(v));return x};h._processFeatures=
function(v){v=v.filter(w=>w.hasFeatures()||this._canParseStyleLayer(w.layer.uid));for(const w of v)w.processFeatures(w.tileClipper);return v};h._parseTileData=function(v){const w={};for(const D of Object.keys(v)){const x=v[D],y={};for(;x.next();)switch(x.tag()){case 3:{const z=x.getMessage(),A=new r(z);z.release();y[A.name]=A;break}default:x.skip()}w[D]=y}return w};h._createBucket=function(v){switch(v.type){case q.StyleLayerType.BACKGROUND:return null;case q.StyleLayerType.FILL:return this._createFillBucket(v);
case q.StyleLayerType.LINE:return this._createLineBucket(v);case q.StyleLayerType.CIRCLE:return this._createCircleBucket(v);case q.StyleLayerType.SYMBOL:return this._createSymbolBucket(v)}};h._createFillBucket=function(v){return new k(v,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new u.FillVertexBuffer(v.fillMaterial.getStride()),new p.TriangleIndexBuffer,new u.OutlineVertexBuffer(v.outlineMaterial.getStride()),new p.TriangleIndexBuffer)};h._createLineBucket=function(v){return new g(v,
this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new u.LineVertexBuffer(v.lineMaterial.getStride()),new p.TriangleIndexBuffer)};h._createCircleBucket=function(v){return new n(v,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new u.CircleVertexBuffer(v.circleMaterial.getStride()),new p.TriangleIndexBuffer)};h._createSymbolBucket=function(v){const w=this._tile;return new l(v,this._level,new u.SymbolVertexBuffer(v.iconMaterial.getStride()),new p.TriangleIndexBuffer,new u.SymbolVertexBuffer(v.textMaterial.getStride()),
new p.TriangleIndexBuffer,w.placementEngine,w.getWorkerTileHandler())};return f}()})},"esri/geometry/libtess":function(){define(["require","exports","../chunks/_rollupPluginBabelHelpers","../assets","../core/has"],function(a,b,c,e,d){function p(){p=c._asyncToGenerator(function*(){n||(n=r());return n});return p.apply(this,arguments)}function r(){return u.apply(this,arguments)}function u(){u=c._asyncToGenerator(function*(){k=yield(d("esri-csp-restrictions")?yield(new Promise((g,l)=>a(["../chunks/libtess-asm"],
g,l))).then(g=>g.libtessAsm):yield(new Promise((g,l)=>a(["../chunks/libtess"],g,l))).then(g=>g.libtess)).load({locateFile:g=>e.getAssetUrl(`esri/core/libs/libtess/${g}`)})});return u.apply(this,arguments)}let n=null,k=null;b.loadLibtess=function(){return p.apply(this,arguments)};b.triangulate=function(g,l){return k.triangulate(g,l,Math.max(g.length,128E3))};Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["../webgl/Geometry"],
function(a){var b;(function(c){c[c.moveTo=1]="moveTo";c[c.lineTo=2]="lineTo";c[c.close=7]="close"})(b||(b={}));return function(){function c(e,d){this.values={};const p=d.keys;for(d=d.values;e.next();)switch(e.tag()){case 1:this.id=e.getUInt64();break;case 2:{const r=e.getMessage(),u=this.values;for(;!r.empty();){const n=r.getUInt32(),k=r.getUInt32();u[p[n]]=d[k]}r.release();break}case 3:this.type=e.getUInt32();break;case 4:this._pbfGeometry=e.getMessage();break;default:e.skip()}}c.prototype.getGeometry=
function(e){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const d=this._pbfGeometry;this._pbfGeometry=null;let p,r;e?e.reset(this.type):p=[];let u=b.moveTo;var n=0;let k=0,g=0;for(;!d.empty();)switch(0===n&&(n=d.getUInt32(),u=n&7,n>>=3),n--,u){case b.moveTo:k+=d.getSInt32();g+=d.getSInt32();e?e.moveTo(k,g):(r&&p.push(r),r=[],r.push(new a.Point(k,g)));break;case b.lineTo:k+=d.getSInt32();g+=d.getSInt32();e?e.lineTo(k,g):r.push(new a.Point(k,g));break;case b.close:e?
e.close():r&&!r[0].equals(k,g)&&r.push(r[0].clone());break;default:throw d.release(),Error("Invalid path operation");}e?e=e.result():(r&&p.push(r),e=p);d.release();return this._geometry=e};return c}()})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./MemoryBuffer"],function(a,b,c){let e=function(d){function p(){return d.call(this,12)||this}b._inheritsLoose(p,d);p.prototype.add=function(r,u,n){const k=this.array;k.push(r);
k.push(u);k.push(n)};return p}(c);c=function(d){function p(){return d.call(this,4)||this}b._inheritsLoose(p,d);p.prototype.add=function(r){this.array.push(r)};return p}(c);a.PointElementMemoryBuffer=c;a.TriangleIndexBuffer=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(e){this._array=[];0>=e&&console.error("strideInBytes must be positive!");
this._stride=e}var c=b.prototype;c.reset=function(){this.array.length=0};c.toBuffer=function(){return(new Uint32Array(this._array)).buffer};b.i1616to32=function(e,d){return 65535&e|d<<16};b.i8888to32=function(e,d,p,r){return e&255|(d&255)<<8|(p&255)<<16|r<<24};b.i8816to32=function(e,d,p){return e&255|(d&255)<<8|p<<16};a._createClass(b,[{key:"array",get:function(){return this._array}},{key:"index",get:function(){return 4*this._array.length/this._stride}},{key:"itemSize",get:function(){return this._stride}},
{key:"sizeInBytes",get:function(){return 4*this._array.length}}]);return b}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(function(){return function(){function a(b){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=b.clone();b.next();)switch(b.tag()){case 1:this.name=b.getString();break;case 3:this.keys.push(b.getString());break;case 4:this.values.push(b.processMessage(a._parseValue));break;case 5:this.extent=b.getUInt32();break;default:b.skip()}}a.prototype.getData=
function(){return this._pbfLayer};a._parseValue=function(b){for(;b.next();)switch(b.tag()){case 1:return b.getString();case 2:return b.getFloat();case 3:return b.getDouble();case 4:return b.getInt64();case 5:return b.getUInt64();case 6:return b.getSInt64();case 7:return b.getBool();default:b.skip()}return null};return a}()})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./GeometryUtils","./MemoryBuffer"],function(a,
b,c,e){let d=function(k){function g(l){return k.call(this,l)||this}b._inheritsLoose(g,k);g.prototype.add=function(l,q,m,t,f,h,v,w,D,x,y,z){const A=this.array;l=e.i1616to32(l,q);A.push(l);l=e.i8888to32(Math.round(31*m),Math.round(31*t),Math.round(31*f),Math.round(31*h));A.push(l);l=e.i8888to32(Math.round(31*v),Math.round(31*w),Math.round(31*D),Math.round(31*x));A.push(l);l=e.i1616to32(y,0);A.push(l);z&&A.push(...z)};return g}(e),p=function(k){function g(l){return k.call(this,l)||this}b._inheritsLoose(g,
k);g.prototype.add=function(l,q,m){const t=this.array;t.push(e.i1616to32(l,q));m&&t.push(...m)};return g}(e),r=function(k){function g(l){return k.call(this,l)||this}b._inheritsLoose(g,k);g.prototype.add=function(l,q,m,t,f,h,v){const w=this.array,D=this.index;l=e.i1616to32(l,q);w.push(l);l=e.i8888to32(Math.round(15*m),Math.round(15*t),f,h);w.push(l);v&&w.push(...v);return D};return g}(e),u=function(k){function g(l){return k.call(this,l)||this}b._inheritsLoose(g,k);g.prototype.add=function(l,q,m,t,
f,h,v,w,D,x,y,z){const A=this.array;l=e.i1616to32(l,q);A.push(l);l=e.i1616to32(Math.round(8*m),Math.round(8*t));A.push(l);l=e.i8888to32(f/4,h/4,w,D);A.push(l);l=e.i8888to32(0,c.radToByte(v),10*x,Math.min(10*y,255));A.push(l);z&&A.push(...z)};return g}(e),n=function(k){function g(l){return k.call(this,l)||this}b._inheritsLoose(g,k);g.prototype.add=function(l,q,m,t,f){const h=this.array;l=e.i1616to32(2*l+m,2*q+t);h.push(l);f&&h.push(...f)};return g}(e);a.CircleVertexBuffer=n;a.FillVertexBuffer=p;a.LineVertexBuffer=
d;a.OutlineVertexBuffer=r;a.SymbolVertexBuffer=u;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/buckets/CircleBucket":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers","../enums","./BaseBucket"],function(a,b,c){return function(e){function d(r,u,n,k,g){r=e.call(this,r,u,n)||this;r.type=b.BucketType.CIRCLE;r._circleVertexBuffer=k;r._circleIndexBuffer=g;return r}a._inheritsLoose(d,e);var p=d.prototype;p.processFeatures=
function(r){const u=this._circleVertexBuffer,n=this._circleIndexBuffer;this._circleIndexStart=3*n.index;this._circleIndexCount=0;const k=this.layer,g=this.zoom;r&&r.setExtent(this.layerExtent);for(const q of this._features){var l=q.getGeometry(r);if(!l)continue;const m=k.circleMaterial.encodeAttributes(q,g,k);for(const t of l)if(t)for(const f of t)l=u.index,u.add(f.x,f.y,0,0,m),u.add(f.x,f.y,0,1,m),u.add(f.x,f.y,1,0,m),u.add(f.x,f.y,1,1,m),n.add(l+0,l+1,l+2),n.add(l+1,l+2,l+3),this._circleIndexCount+=
6}};p.serialize=function(){var r=6+this.layerUIDs.length;r+=this._circleVertexBuffer.array.length;r+=this._circleIndexBuffer.array.length;r=new Uint32Array(r);var u=new Int32Array(r.buffer);let n=0;r[n++]=this.type;r[n++]=this.layerUIDs.length;for(var k=0;k<this.layerUIDs.length;k++)r[n++]=this.layerUIDs[k];r[n++]=this._circleIndexStart;r[n++]=this._circleIndexCount;r[n++]=this._circleVertexBuffer.array.length;for(k=0;k<this._circleVertexBuffer.array.length;k++)u[n++]=this._circleVertexBuffer.array[k];
r[n++]=this._circleIndexBuffer.array.length;for(u=0;u<this._circleIndexBuffer.array.length;u++)r[n++]=this._circleIndexBuffer.array[u];return r.buffer};a._createClass(d,[{key:"circleIndexStart",get:function(){return this._circleIndexStart}},{key:"circleIndexCount",get:function(){return this._circleIndexCount}}]);return d}(c)})},"esri/views/2d/engine/vectorTiles/buckets/BaseBucket":function(){define(function(){return function(){function a(c,e,d){this.layerExtent=4096;this._features=[];this.layer=c;
this.zoom=e;this._spriteInfo=d;this._filter=c.getFeatureFilter()}var b=a.prototype;b.pushFeature=function(c){this._filter&&!this._filter.filter(c,this.zoom)||this._features.push(c)};b.hasFeatures=function(){return 0<this._features.length};b.getResources=function(c,e,d){};return a}()})},"esri/views/2d/engine/vectorTiles/buckets/FillBucket":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/ArrayPool ../../../../../chunks/earcut ../../../../../geometry/libtess ../enums ./BaseBucket ../../webgl/Geometry".split(" "),
function(a,b,c,e,d,p,r){return function(u){function n(g,l,q,m,t,f,h){g=u.call(this,g,l,q)||this;g.type=d.BucketType.FILL;g._patternMap=new Map;g._fillVertexBuffer=m;g._fillIndexBuffer=t;g._outlineVertexBuffer=f;g._outlineIndexBuffer=h;return g}a._inheritsLoose(n,u);var k=n.prototype;k.getResources=function(g,l,q){g=this.zoom;if(q=this.layer.getPaintProperty("fill-pattern"))if(q.isDataDriven)for(const m of this._features)l(q.getValue(g,m),!0);else l(q.getValue(g),!0)};k.processFeatures=function(g){this._fillIndexStart=
3*this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=3*this._outlineIndexBuffer.index;this._outlineIndexCount=0;const l=this.layer,q=this.zoom,{fillMaterial:m,outlineMaterial:t,hasDataDrivenFill:f,hasDataDrivenOutline:h}=l;g&&g.setExtent(this.layerExtent);var v=l.getPaintProperty("fill-pattern"),w=null==v?void 0:v.isDataDriven;let D=!v&&l.getPaintValue("fill-antialias",q);if(l.outlineUsesFillColor){if(D&&!l.hasDataDrivenOpacity){var x=l.getPaintValue("fill-opacity",q),y=l.getPaintValue("fill-opacity",
q+1);1>x&&1>y&&(D=!1)}D&&!l.hasDataDrivenColor&&(x=l.getPaintValue("fill-color",q),y=l.getPaintValue("fill-color",q+1),1>x[3]&&1>y[3]&&(D=!1))}y=this._features;x=null==g?void 0:g.validateTessellation;if(w){var z=[];for(var A of y){w=v.getValue(q,A);w=this._spriteInfo[w];if(!w||!w.rect)continue;y=m.encodeAttributes(A,q,l,w);const C=D&&h?t.encodeAttributes(A,q,l):[],B=A.getGeometry(g);z.push({ddFillAttributes:y,ddOutlineAttributes:C,page:w.page,geometry:B});z.sort((E,G)=>E.page-G.page);for(const {ddFillAttributes:E,
ddOutlineAttributes:G,page:J,geometry:K}of z)this._processFeature(K,D,l.outlineUsesFillColor,E,G,x,J)}}else for(z of y)v=f?m.encodeAttributes(z,q,l):null,A=D&&h?t.encodeAttributes(z,q,l):null,w=z.getGeometry(g),this._processFeature(w,D,l.outlineUsesFillColor,v,A,x)};k.serialize=function(){var g=10+this.layerUIDs.length;g+=this._fillVertexBuffer.array.length;g+=this._fillIndexBuffer.array.length;g+=this._outlineVertexBuffer.array.length;g+=this._outlineIndexBuffer.array.length;g+=3*this._patternMap.size+
1;g=new Uint32Array(g);var l=new Int32Array(g.buffer);let q=0;g[q++]=this.type;g[q++]=this.layerUIDs.length;for(var m=0;m<this.layerUIDs.length;m++)g[q++]=this.layerUIDs[m];g[q++]=this._fillIndexStart;g[q++]=this._fillIndexCount;g[q++]=this._outlineIndexStart;g[q++]=this._outlineIndexCount;m=this._patternMap;const t=m.size;g[q++]=t;if(0<t)for(const [f,[h,v]]of m)g[q++]=f,g[q++]=h,g[q++]=v;g[q++]=this._fillVertexBuffer.array.length;for(m=0;m<this._fillVertexBuffer.array.length;m++)l[q++]=this._fillVertexBuffer.array[m];
g[q++]=this._fillIndexBuffer.array.length;for(m=0;m<this._fillIndexBuffer.array.length;m++)g[q++]=this._fillIndexBuffer.array[m];g[q++]=this._outlineVertexBuffer.array.length;for(m=0;m<this._outlineVertexBuffer.array.length;m++)l[q++]=this._outlineVertexBuffer.array[m];g[q++]=this._outlineIndexBuffer.array.length;for(l=0;l<this._outlineIndexBuffer.array.length;l++)g[q++]=this._outlineIndexBuffer.array[l];return g.buffer};k._processFeature=function(g,l,q,m,t,f,h){if(g){var v=g.length,w=!t||0===t.length;
if(l&&(!q||w))for(l=0;l<v;l++)this._processOutline(g[l],t);for(t=0;t<v;t++)if(l=n._area(g[t]),32<l){void 0!==D&&this._processFill(g,D,m,f,h);var D=[t]}else-32>l&&void 0!==D&&D.push(t);void 0!==D&&this._processFill(g,D,m,f,h)}};k._processOutline=function(g,l){const q=this._outlineVertexBuffer,m=this._outlineIndexBuffer,t=m.index;var f;let h,v;const w=new r.Point(0,0),D=new r.Point(0,0),x=new r.Point(0,0);let y=-1,z=-1;var A=-1;let C=-1,B=-1,E=!1,G=g.length;if(!(2>G)){var J=g[0];for(f=g[G-1];G&&f.isEqual(J);)--G,
f=g[G-1];if(!(2>G-0)){for(J=0;J<G;++J){0===J?(f=g[G-1],h=g[0],v=g[1],w.assignSub(h,f),w.normalize(),w.rightPerpendicular()):(f=h,h=v,v=J!==G-1?g[J+1]:g[0],w.assign(D));f=this._isClipEdge(f,h);-1===C&&(E=f);D.assignSub(v,h);D.normalize();D.rightPerpendicular();A=w.x*D.y-w.y*D.x;x.assignAdd(w,D);x.normalize();var K=-x.x*-w.x+-x.y*-w.y;K=Math.abs(0!==K?1/K:1);8<K&&(K=8);0<=A?(A=q.add(h.x,h.y,w.x,w.y,0,1,l),-1===C&&(C=A),0<=y&&0<=z&&0<=A&&!f&&m.add(y,z,A),z=q.add(h.x,h.y,K*-x.x,K*-x.y,0,-1,l),-1===B&&
(B=z),0<=y&&0<=z&&0<=A&&!f&&m.add(y,z,A),y=z,z=A,A=q.add(h.x,h.y,x.x,x.y,0,1,l),0<=y&&0<=z&&0<=A&&!f&&m.add(y,z,A),z=q.add(h.x,h.y,D.x,D.y,0,1,l)):(A=q.add(h.x,h.y,K*x.x,K*x.y,0,1,l),-1===C&&(C=A),0<=y&&0<=z&&0<=A&&!f&&m.add(y,z,A),z=q.add(h.x,h.y,-w.x,-w.y,0,-1,l),-1===B&&(B=z),0<=y&&0<=z&&0<=A&&!f&&m.add(y,z,A),y=z,z=A,A=q.add(h.x,h.y,-x.x,-x.y,0,-1,l),0<=y&&0<=z&&0<=A&&!f&&m.add(y,z,A),y=q.add(h.x,h.y,-D.x,-D.y,0,-1,l));0<=y&&0<=z&&0<=A&&!f&&m.add(y,z,A)}0<=y&&0<=z&&0<=C&&!E&&m.add(y,z,C);0<=y&&
0<=C&&0<=B&&!E&&m.add(y,B,C);this._outlineIndexCount+=3*(m.index-t)}}};k._processFill=function(g,l,q,m,t){m=!0;var f;1<l.length&&(f=[]);var h=0;for(var v of l)0!==h&&f.push(h),h+=g[v].length;v=2*h;h=b.acquire();for(var w of l){const D=g[w],x=D.length;for(let y=0;y<x;++y)h.push(D[y].x,D[y].y)}w=c.earcut(h,f,2);if(m&&0<c.earcut.deviation(h,f,2,w)){v=l.map(y=>g[y].length);const {buffer:D,vertexCount:x}=e.triangulate(h,v);if(0<x){v=this._fillVertexBuffer.index;for(l=0;l<x;l++)this._fillVertexBuffer.add(D[2*
l],D[2*l+1],q);for(q=0;q<x;q+=3)l=v+q,this._fillIndexBuffer.add(l,l+1,l+2);void 0!==t&&(q=this._patternMap,(v=q.get(t))?v[1]+=x:q.set(t,[this._fillIndexStart+this._fillIndexCount,x]));this._fillIndexCount+=x}}else if(l=w.length,0<l){m=this._fillVertexBuffer.index;for(f=0;f<v;)this._fillVertexBuffer.add(h[f++],h[f++],q);for(q=0;q<l;)this._fillIndexBuffer.add(m+w[q++],m+w[q++],m+w[q++]);void 0!==t&&(q=this._patternMap,(v=q.get(t))?v[1]+=l:q.set(t,[this._fillIndexStart+this._fillIndexCount,l]));this._fillIndexCount+=
l}b.release(h)};k._isClipEdge=function(g,l){return g.x===l.x?-64>=g.x||4160<=g.x:g.y===l.y?-64>=g.y||4160<=g.y:!1};n._area=function(g){let l=0;const q=g.length-1;for(let m=0;m<q;m++)l+=(g[m].x-g[m+1].x)*(g[m].y+g[m+1].y);l+=(g[q].x-g[0].x)*(g[q].y+g[0].y);return.5*l};a._createClass(n,[{key:"fillIndexStart",get:function(){return this._fillIndexStart}},{key:"fillIndexCount",get:function(){return this._fillIndexCount}},{key:"outlineIndexStart",get:function(){return this._outlineIndexStart}},{key:"outlineIndexCount",
get:function(){return this._outlineIndexCount}}]);return n}(p)})},"esri/chunks/earcut":function(){define(["exports"],function(a){var b={exports:{}};(function(c){(function(e){e=e();void 0!==e&&(c.exports=e)})(function(){function e(B,E,G){G=G||2;var J=E&&E.length,K=J?E[0]*G:B.length,F=d(B,0,K,G,!0),H=[];if(!F||F.next===F.prev)return H;var I;if(J){var L=F;var Q=G;F=[];var Z;J=0;for(Z=E.length;J<Z;J++){var ca=E[J]*Q;var aa=J<Z-1?E[J+1]*Q:B.length;ca=d(B,ca,aa,Q,!1);ca===ca.next&&(ca.steiner=!0);F.push(q(ca))}F.sort(n);
for(J=0;J<F.length;J++)Q=F[J],E=L,(L=g(Q,E))?(Z=x(L,Q),Q=p(L,L.next),Z=k(Z),p(Z,Z.next),Q=k(Q),L=k(E===L?Q:E)):L=E,L=p(L,L.next);F=L}if(B.length>80*G){var O=I=B[0];var fa=J=B[1];for(Q=G;Q<K;Q+=G)E=B[Q],L=B[Q+1],E<O&&(O=E),L<fa&&(fa=L),E>I&&(I=E),L>J&&(J=L);I=Math.max(I-O,J-fa);I=0!==I?1/I:0}r(F,H,G,O,fa,I);return H}function d(B,E,G,J,K){if(K===0<C(B,E,G,J))for(K=E;K<G;K+=J)var F=y(K,B[K],B[K+1],F);else for(K=G-J;K>=E;K-=J)F=y(K,B[K],B[K+1],F);F&&f(F,F.next)&&(B=F.next,z(F),F=B);return F}function p(B,
E){if(!B)return B;E||(E=B);do{var G=!1;if(B.steiner||!f(B,B.next)&&0!==t(B.prev,B,B.next))B=B.next;else{E=B.prev;z(B);B=E;if(B===B.next)break;G=!0}}while(G||B!==E);return E}function r(B,E,G,J,K,F,H){if(B){if(!H&&F){var I=B,L=I;do null===L.z&&(L.z=l(L.x,L.y,J,K,F)),L.prevZ=L.prev,L=L.nextZ=L.next;while(L!==I);L.prevZ.nextZ=null;L.prevZ=null;I=L;var Q,Z,ca,aa,O=1;do{L=I;var fa=I=null;for(Z=0;L;){Z++;var oa=L;for(Q=ca=0;Q<O&&(ca++,oa=oa.nextZ,oa);Q++);for(aa=O;0<ca||0<aa&&oa;)0!==ca&&(0===aa||!oa||L.z<=
oa.z)?(Q=L,L=L.nextZ,ca--):(Q=oa,oa=oa.nextZ,aa--),fa?fa.nextZ=Q:I=Q,Q.prevZ=fa,fa=Q;L=oa}fa.nextZ=null;O*=2}while(1<Z)}for(I=B;B.prev!==B.next;){L=B.prev;oa=B.next;if(F)fa=u(B,J,K,F);else a:if(fa=B,Z=fa.prev,ca=fa,O=fa.next,0<=t(Z,ca,O))fa=!1;else{for(Q=fa.next.next;Q!==fa.prev;){if(m(Z.x,Z.y,ca.x,ca.y,O.x,O.y,Q.x,Q.y)&&0<=t(Q.prev,Q,Q.next)){fa=!1;break a}Q=Q.next}fa=!0}if(fa)E.push(L.i/G),E.push(B.i/G),E.push(oa.i/G),z(B),I=B=oa.next;else if(B=oa,B===I){if(!H)r(p(B),E,G,J,K,F,1);else if(1===H){B=
p(B);H=E;I=G;L=B;do oa=L.prev,fa=L.next.next,!f(oa,fa)&&h(oa,L,L.next,fa)&&D(oa,fa)&&D(fa,oa)&&(H.push(oa.i/I),H.push(L.i/I),H.push(fa.i/I),z(L),z(L.next),L=B=fa),L=L.next;while(L!==B);B=p(L);r(B,E,G,J,K,F,2)}else if(2===H)a:{H=B;do{for(I=H.next.next;I!==H.prev;){if(L=H.i!==I.i){fa=fa=fa=fa=void 0;L=H;oa=I;if(fa=L.next.i!==oa.i&&L.prev.i!==oa.i){b:{fa=L;do{if(fa.i!==L.i&&fa.next.i!==L.i&&fa.i!==oa.i&&fa.next.i!==oa.i&&h(fa,fa.next,L,oa)){fa=!0;break b}fa=fa.next}while(fa!==L);fa=!1}fa=!fa}if(fa){if(fa=
D(L,oa)&&D(oa,L)){fa=L;Z=!1;ca=(L.x+oa.x)/2;O=(L.y+oa.y)/2;do fa.y>O!==fa.next.y>O&&fa.next.y!==fa.y&&ca<(fa.next.x-fa.x)*(O-fa.y)/(fa.next.y-fa.y)+fa.x&&(Z=!Z),fa=fa.next;while(fa!==L);fa=Z}fa=fa&&(t(L.prev,L,oa.prev)||t(L,oa.prev,oa))||f(L,oa)&&0<t(L.prev,L,L.next)&&0<t(oa.prev,oa,oa.next)}L=fa}if(L){B=x(H,I);H=p(H,H.next);B=p(B,B.next);r(H,E,G,J,K,F);r(B,E,G,J,K,F);break a}I=I.next}H=H.next}while(H!==B)}break}}}}function u(B,E,G,J){var K=B.prev,F=B.next;if(0<=t(K,B,F))return!1;var H=K.x>B.x?K.x>
F.x?K.x:F.x:B.x>F.x?B.x:F.x,I=K.y>B.y?K.y>F.y?K.y:F.y:B.y>F.y?B.y:F.y,L=l(K.x<B.x?K.x<F.x?K.x:F.x:B.x<F.x?B.x:F.x,K.y<B.y?K.y<F.y?K.y:F.y:B.y<F.y?B.y:F.y,E,G,J);E=l(H,I,E,G,J);G=B.prevZ;for(J=B.nextZ;G&&G.z>=L&&J&&J.z<=E;){if(G!==B.prev&&G!==B.next&&m(K.x,K.y,B.x,B.y,F.x,F.y,G.x,G.y)&&0<=t(G.prev,G,G.next))return!1;G=G.prevZ;if(J!==B.prev&&J!==B.next&&m(K.x,K.y,B.x,B.y,F.x,F.y,J.x,J.y)&&0<=t(J.prev,J,J.next))return!1;J=J.nextZ}for(;G&&G.z>=L;){if(G!==B.prev&&G!==B.next&&m(K.x,K.y,B.x,B.y,F.x,F.y,
G.x,G.y)&&0<=t(G.prev,G,G.next))return!1;G=G.prevZ}for(;J&&J.z<=E;){if(J!==B.prev&&J!==B.next&&m(K.x,K.y,B.x,B.y,F.x,F.y,J.x,J.y)&&0<=t(J.prev,J,J.next))return!1;J=J.nextZ}return!0}function n(B,E){return B.x-E.x}function k(B){if(B.next.prev===B)return B;let E=B;do{const G=E.next;if(G.prev===E||G===E||G===B)break;E=G}while(1);return E}function g(B,E){var G=E,J=B.x,K=B.y,F=-Infinity;do{if(K<=G.y&&K>=G.next.y&&G.next.y!==G.y){var H=G.x+(K-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(H<=J&&H>F){F=H;if(H===J){if(K===
G.y)return G;if(K===G.next.y)return G.next}var I=G.x<G.next.x?G:G.next}}G=G.next}while(G!==E);if(!I)return null;if(J===F)return I;E=I;H=I.x;var L=I.y,Q=Infinity;G=I;do{if(J>=G.x&&G.x>=H&&J!==G.x&&m(K<L?J:F,K,H,L,K<L?F:J,K,G.x,G.y)){var Z=Math.abs(K-G.y)/(J-G.x);var ca;if((ca=D(G,B))&&!(ca=Z<Q)&&(ca=Z===Q)&&!(ca=G.x>I.x)&&(ca=G.x===I.x)){ca=I;var aa=G;ca=0>t(ca.prev,ca,aa.prev)&&0>t(aa.next,ca,ca.next)}ca&&(I=G,Q=Z)}G=G.next}while(G!==E);return I}function l(B,E,G,J,K){B=32767*(B-G)*K;E=32767*(E-J)*
K;B=(B|B<<8)&16711935;B=(B|B<<4)&252645135;B=(B|B<<2)&858993459;E=(E|E<<8)&16711935;E=(E|E<<4)&252645135;E=(E|E<<2)&858993459;return(B|B<<1)&1431655765|((E|E<<1)&1431655765)<<1}function q(B){var E=B,G=B;do{if(E.x<G.x||E.x===G.x&&E.y<G.y)G=E;E=E.next}while(E!==B);return G}function m(B,E,G,J,K,F,H,I){return 0<=(K-H)*(E-I)-(B-H)*(F-I)&&0<=(B-H)*(J-I)-(G-H)*(E-I)&&0<=(G-H)*(F-I)-(K-H)*(J-I)}function t(B,E,G){return(E.y-B.y)*(G.x-E.x)-(E.x-B.x)*(G.y-E.y)}function f(B,E){return B.x===E.x&&B.y===E.y}function h(B,
E,G,J){var K=w(t(B,E,G)),F=w(t(B,E,J)),H=w(t(G,J,B)),I=w(t(G,J,E));return K!==F&&H!==I||0===K&&v(B,G,E)||0===F&&v(B,J,E)||0===H&&v(G,B,J)||0===I&&v(G,E,J)?!0:!1}function v(B,E,G){return E.x<=Math.max(B.x,G.x)&&E.x>=Math.min(B.x,G.x)&&E.y<=Math.max(B.y,G.y)&&E.y>=Math.min(B.y,G.y)}function w(B){return 0<B?1:0>B?-1:0}function D(B,E){return 0>t(B.prev,B,B.next)?0<=t(B,E,B.next)&&0<=t(B,B.prev,E):0>t(B,E,B.prev)||0>t(B,B.next,E)}function x(B,E){var G=new A(B.i,B.x,B.y),J=new A(E.i,E.x,E.y),K=B.next,F=
E.prev;B.next=E;E.prev=B;G.next=K;K.prev=G;J.next=G;G.prev=J;F.next=J;J.prev=F;return J}function y(B,E,G,J){B=new A(B,E,G);J?(B.next=J.next,B.prev=J,J.next.prev=B,J.next=B):(B.prev=B,B.next=B);return B}function z(B){B.next.prev=B.prev;B.prev.next=B.next;B.prevZ&&(B.prevZ.nextZ=B.nextZ);B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function A(B,E,G){this.i=B;this.x=E;this.y=G;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function C(B,E,G,J){for(var K=0,F=G-J;E<G;E+=J)K+=(B[F]-B[E])*(B[E+
1]+B[F+1]),F=E;return K}e.deviation=function(B,E,G,J){var K=E&&E.length,F=Math.abs(C(B,0,K?E[0]*G:B.length,G));if(K){K=0;for(var H=E.length;K<H;K++)F-=Math.abs(C(B,E[K]*G,K<H-1?E[K+1]*G:B.length,G))}for(K=E=0;K<J.length;K+=3){H=J[K]*G;var I=J[K+1]*G,L=J[K+2]*G;E+=Math.abs((B[H]-B[L])*(B[I+1]-B[H+1])-(B[H]-B[I])*(B[L+1]-B[H+1]))}return 0===F&&0===E?0:Math.abs((E-F)/F)};e.flatten=function(B){for(var E=B[0][0].length,G={vertices:[],holes:[],dimensions:E},J=0,K=0;K<B.length;K++){for(var F=0;F<B[K].length;F++)for(var H=
0;H<E;H++)G.vertices.push(B[K][F][H]);0<K&&(J+=B[K-1].length,G.holes.push(J))}return G};return e})})(b);a.earcut=b.exports})},"esri/views/2d/engine/vectorTiles/buckets/LineBucket":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers","../enums","./BaseBucket","../../webgl/TurboLine"],function(a,b,c,e){const d=r=>(u,n,k,g,l,q,m,t,f,h,v)=>{r._lineVertexBuffer.add(u,n,m,t,k,g,l,q,f,h,v,r._ddValues);return r._lineVertexBuffer.index-1},p=r=>(u,n,k)=>{r._lineIndexBuffer.add(u,n,k)};return function(r){function u(k,
g,l,q,m){g=r.call(this,k,g,l)||this;g.type=b.BucketType.LINE;g._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0};g._patternMap=new Map;g.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null};g.tessellationProperties._lineVertexBuffer=q;g.tessellationProperties._lineIndexBuffer=m;g._lineTessellator=new e.LineTessellation(d(g.tessellationProperties),p(g.tessellationProperties),k.canUseThinTessellation);return g}a._inheritsLoose(u,r);var n=u.prototype;n.getResources=
function(k,g,l){k=this.layer;const q=this.zoom;var m=k.hasDataDrivenLine;const t=k.getPaintProperty("line-pattern"),f=k.getPaintProperty("line-dasharray"),h=k.getLayoutProperty("line-cap");if(t||f){l=(null==h?void 0:h.getValue(q))||0;var v=null==h?void 0:h.isDataDriven;if(m){m=null==t?void 0:t.isDataDriven;const D=null==f?void 0:f.isDataDriven;if(m||D)for(var w of this._features)m?g(t.getValue(q,w)):g(this._getDashArrayKey(w,q,k,f,v,h,l))}else t?g(t.getValue(q)):f&&(w=f.getValue(q),g(k.getDashKey(w,
l)))}};n.processFeatures=function(k){var g,l,q,m;this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index;this._lineIndexCount=0;const t=this.layer,f=this.zoom;var h=this._features;const v=this._tessellationOptions,{hasDataDrivenLine:w,lineMaterial:D}=t;k&&k.setExtent(this.layerExtent);var x=t.getPaintProperty("line-pattern"),y=t.getPaintProperty("line-dasharray");const z=null==x?void 0:x.isDataDriven;var A=null==y?void 0:y.isDataDriven;var C=t.getLayoutProperty("line-cap");const B=
null!=(g=C)&&g.isDataDriven?C:null,E=B?null:t.getLayoutValue("line-cap",f),G=E||0,J=!!B;C=t.getLayoutProperty("line-join");const K=(g=null!=(l=C)&&l.isDataDriven?C:null)?null:t.getLayoutValue("line-join",f);C=t.getLayoutProperty("line-miter-limit");const F=(l=null!=(q=C)&&q.isDataDriven?C:null)?null:t.getLayoutValue("line-miter-limit",f);C=t.getLayoutProperty("line-round-limit");const H=(q=null!=(m=C)&&m.isDataDriven?C:null)?null:t.getLayoutValue("line-round-limit",f);C=t.getPaintProperty("line-width");
var I=(m=null!=(I=C)&&I.isDataDriven?C:null)?null:t.getPaintValue("line-width",f);C=t.getPaintProperty("line-offset");var L=(C=null!=(L=C)&&L.isDataDriven?C:null)?null:t.getPaintValue("line-offset",f);if(z||A){var Q=[];for(const Z of h){h=z?x.getValue(f,Z):this._getDashArrayKey(Z,f,t,y,J,B,G);h=this._spriteInfo[h];if(!h||!h.rect)continue;A=D.encodeAttributes(Z,f,t,h);const ca=Z.getGeometry(k);Q.push({ddAttributes:A,page:h.page,cap:B?B.getValue(f,Z):E,join:g?g.getValue(f,Z):K,miterLimit:l?l.getValue(f,
Z):F,roundLimit:q?q.getValue(f,Z):H,halfWidth:.5*(m?m.getValue(f,Z):I),offset:C?C.getValue(f,Z):L,geometry:ca})}Q.sort((Z,ca)=>Z.page-ca.page);v.textured=!0;for(const {ddAttributes:Z,page:ca,cap:aa,join:O,miterLimit:fa,roundLimit:oa,halfWidth:Da,offset:Ha,geometry:ta}of Q)v.capType=aa,v.joinType=O,v.miterLimit=fa,v.roundLimit=oa,v.halfWidth=Da,v.offset=Ha,this._processFeature(ta,Z,ca)}else{v.textured=!(!x&&!y);v.capType=E;v.joinType=K;v.miterLimit=F;v.roundLimit=H;v.halfWidth=.5*I;v.offset=L;for(Q of h)x=
w?D.encodeAttributes(Q,f,t):null,B&&(v.capType=B.getValue(f,Q)),g&&(v.joinType=g.getValue(f,Q)),l&&(v.miterLimit=l.getValue(f,Q)),q&&(v.roundLimit=q.getValue(f,Q)),m&&(v.halfWidth=.5*m.getValue(f,Q)),C&&(v.offset=C.getValue(f,Q)),y=Q.getGeometry(k),this._processFeature(y,x)}};n.serialize=function(){var k=6+this.layerUIDs.length;k+=this.tessellationProperties._lineVertexBuffer.array.length;k+=this.tessellationProperties._lineIndexBuffer.array.length;k+=3*this._patternMap.size+1;k=new Uint32Array(k);
var g=new Int32Array(k.buffer);let l=0;k[l++]=this.type;k[l++]=this.layerUIDs.length;for(var q=0;q<this.layerUIDs.length;q++)k[l++]=this.layerUIDs[q];k[l++]=this._lineIndexStart;k[l++]=this._lineIndexCount;q=this._patternMap;const m=q.size;k[l++]=m;if(0<m)for(const [t,[f,h]]of q)k[l++]=t,k[l++]=f,k[l++]=h;k[l++]=this.tessellationProperties._lineVertexBuffer.array.length;for(q=0;q<this.tessellationProperties._lineVertexBuffer.array.length;q++)g[l++]=this.tessellationProperties._lineVertexBuffer.array[q];
k[l++]=this.tessellationProperties._lineIndexBuffer.array.length;for(g=0;g<this.tessellationProperties._lineIndexBuffer.array.length;g++)k[l++]=this.tessellationProperties._lineIndexBuffer.array[g];return k.buffer};n._processFeature=function(k,g,l){if(k){var q=k.length;for(let m=0;m<q;m++)this._processGeometry(k[m],g,l)}};n._processGeometry=function(k,g,l){if(!(2>k.length)){for(var q=k[0],m=1,t,f;m<k.length;)t=k[m].x-q.x,f=k[m].y-q.y,1E-6>t*t+f*f?k.splice(m,1):(q=k[m],++m);2>k.length||(m=this.tessellationProperties._lineIndexBuffer,
q=3*m.index,this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=g,this._lineTessellator.tessellate(k,this._tessellationOptions),k=3*m.index-q,void 0!==l&&(g=this._patternMap,(m=g.get(l))?m[1]+=k:g.set(l,[q+this._lineIndexCount,k])),this._lineIndexCount+=k)}};n._getDashArrayKey=function(k,g,l,q,m,t,f){m=m?t.getValue(g,k):f;k=q.getValue(g,k);return l.getDashKey(k,m)};a._createClass(u,[{key:"lineIndexStart",get:function(){return this._lineIndexStart}},
{key:"lineIndexCount",get:function(){return this._lineIndexCount}}]);return u}(c)})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["exports","../../../../symbols/cim/enums","./definitions"],function(a,b,c){function e(l,q){return l.x===q.x&&l.y===q.y}function d(l,q){l.x=q.y;l.y=-q.x;return l}function p(l,q){l.x=-q.y;l.y=q.x;return l}function r(l,q){l.x=q.x;l.y=q.y;return l}function u(l,q){l.x=-q.x;l.y=-q.y;return l}function n(l){return Math.sqrt(l.x*l.x+l.y*l.y)}function k(l,q,m,t){l.x=
q.x*m+q.y*t;l.y=q.x*t-q.y*m;return l}let g=function(){function l(m,t,f){this.writeVertex=m;this.writeTriangle=t;this.canUseThinTessellation=f;this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};this.textureNormalLeft={x:0,y:1};this.textureNormalRight={x:0,y:-1};this.textureNormal={x:void 0,y:void 0};this.joinNormal={x:void 0,y:void 0};this.inner={x:void 0,y:void 0};this.outer={x:void 0,y:void 0};this.roundStart={x:void 0,y:void 0};this.roundEnd={x:void 0,y:void 0};this.startBreak=
{x:void 0,y:void 0};this.endBreak={x:void 0,y:void 0};this.innerPrev={x:void 0,y:void 0};this.innerNext={x:void 0,y:void 0};this.bevelStart={x:void 0,y:void 0};this.bevelEnd={x:void 0,y:void 0};this.bevelMiddle={x:void 0,y:void 0}}var q=l.prototype;q.tessellate=function(m,t){if(m){var f=m.length;if(!(1>=f)){var h=0;for(let v=1;v<f;v++)e(m[v],m[h])||++h===v||(m[h]=m[v]);m.length=h+1}}this.canUseThinTessellation&&t.halfWidth<c.THIN_LINE_HALF_WIDTH_THRESHOLD&&!t.offset?this._tessellateThin(m,t):this._tessellate(m,
t)};q._tessellateThin=function(m,t){if(!(2>m.length)){var f=t.wrapDistance||65535;t=t.initialDistance||0;var h=!1,v=m[0].x,w=m[0].y,D=m.length;for(let A=1;A<D;++A){h&&(h=!1,t=0);let C=m[A].x,B=m[A].y;var x=C-v;let E=B-w;var y=Math.sqrt(x*x+E*E);x/=y;E/=y;if(t+y>f){h=!0;var z=(f-t)/y;y=f-t;C=(1-z)*v+z*C;B=(1-z)*w+z*B;--A}z=this.writeVertex(v,w,0,0,x,E,E,-x,0,-1,t);v=this.writeVertex(v,w,0,0,x,E,-E,x,0,1,t);t+=y;y=this.writeVertex(C,B,0,0,x,E,E,-x,0,-1,t);x=this.writeVertex(C,B,0,0,x,E,-E,x,0,1,t);
this.writeTriangle(z,v,y);this.writeTriangle(v,y,x);v=C;w=B}}};q._tessellate=function(m,t){var f=m[m.length-1];const h=e(m[0],f);if(!(m.length<(h?3:2))){var v=t.pixelCoordRatio,w=null!=t.capType?t.capType:b.CapType.BUTT,D=null!=t.joinType?t.joinType:b.JoinType.MITER,x=null!=t.miterLimit?Math.min(t.miterLimit,4):2,y=null!=t.roundLimit?Math.min(t.roundLimit,1.05):1.05,z=null!=t.halfWidth?t.halfWidth:2,A=!!t.textured,C=null,B=null,E=this.prevNormal,G=this.nextNormal,J=-1,K=-1,F=this.joinNormal,H=this.textureNormalLeft,
I=this.textureNormalRight,L=this.textureNormal,Q=-1,Z=-1,ca=t.wrapDistance||65535,aa=t.initialDistance||0,O=this.writeVertex,fa=this.writeTriangle;t=(na,N,U,P,T,W)=>{na=O(oa,Da,Y,pa,U,P,na,N,T,W,aa);0<=Q&&0<=Z&&0<=na&&fa(Q,Z,na);Q=Z;return Z=na};h&&(C=m[m.length-2],G.x=f.x-C.x,G.y=f.y-C.y,K=n(G),G.x/=K,G.y/=K);f=!1;for(let na=0;na<m.length;++na){f&&(f=!1,aa=0);C&&(E.x=-G.x,E.y=-G.y,J=K,aa+J>ca&&(f=!0));f?(B=(ca-aa)/J,J=ca-aa,C={x:(1-B)*C.x+B*m[na].x,y:(1-B)*C.y+B*m[na].y},--na):C=m[na];var oa=C.x;
var Da=C.y;var Ha=0>=na&&!f,ta=na===m.length-1;Ha||(aa+=J);(B=ta?h?m[1]:null:m[na+1])?(G.x=B.x-oa,G.y=B.y-Da,K=n(G),G.x/=K,G.y/=K):(G.x=void 0,G.y=void 0);if(!h){if(Ha){p(F,G);var Y=F.x;var pa=F.y;w===b.CapType.SQUARE&&(t(-G.y-G.x,G.x-G.y,G.x,G.y,0,-1),t(G.y-G.x,-G.x-G.y,G.x,G.y,0,1));w===b.CapType.ROUND&&(t(-G.y-G.x,G.x-G.y,G.x,G.y,-1,-1),t(G.y-G.x,-G.x-G.y,G.x,G.y,-1,1));if(w===b.CapType.ROUND||w===b.CapType.BUTT)t(-G.y,G.x,G.x,G.y,0,-1),t(G.y,-G.x,G.x,G.y,0,1);continue}if(ta){d(F,E);Y=F.x;pa=F.y;
if(w===b.CapType.ROUND||w===b.CapType.BUTT)t(E.y,-E.x,-E.x,-E.y,0,-1),t(-E.y,E.x,-E.x,-E.y,0,1);w===b.CapType.SQUARE&&(t(E.y-E.x,-E.x-E.y,-E.x,-E.y,0,-1),t(-E.y-E.x,E.x-E.y,-E.x,-E.y,0,1));w===b.CapType.ROUND&&(t(E.y-E.x,-E.x-E.y,-E.x,-E.y,1,-1),t(-E.y-E.x,E.x-E.y,-E.x,-E.y,1,1));continue}}var wa=void 0;Ha=-(E.x*G.y-E.y*G.x);.01>Math.abs(Ha)?0<E.x*G.x+E.y*G.y?(F.x=E.x,F.y=E.y,Ha=1,wa=Number.MAX_VALUE,B=!0):(p(F,G),wa=Ha=1,B=!1):(F.x=(E.x+G.x)/Ha,F.y=(E.y+G.y)/Ha,wa=n(F),B=(wa-1)*z*v,B=4<wa||B>J&&
B>K);Y=F.x;pa=F.y;var M=D;switch(D){case b.JoinType.BEVEL:1.05>wa&&(M=b.JoinType.MITER);break;case b.JoinType.ROUND:wa<y&&(M=b.JoinType.MITER);break;case b.JoinType.MITER:wa>x&&(M=b.JoinType.BEVEL)}switch(M){case b.JoinType.MITER:t(F.x,F.y,-E.x,-E.y,0,-1);t(-F.x,-F.y,-E.x,-E.y,0,1);if(ta)break;A&&(B=f?0:aa,Q=this.writeVertex(oa,Da,Y,pa,G.x,G.y,F.x,F.y,0,-1,B),Z=this.writeVertex(oa,Da,Y,pa,G.x,G.y,-F.x,-F.y,0,1,B));break;case b.JoinType.BEVEL:Ha=0>Ha;var R=void 0;Ha?(M=Q,Q=Z,Z=M,R=H,M=I):(R=I,M=H);
var da=void 0,S=void 0;B?(da=Ha?p(this.innerPrev,E):d(this.innerPrev,E),S=Ha?d(this.innerNext,G):p(this.innerNext,G)):da=S=Ha?u(this.inner,F):r(this.inner,F);wa=Ha?d(this.bevelStart,E):p(this.bevelStart,E);t(da.x,da.y,-E.x,-E.y,R.x,R.y);da=t(wa.x,wa.y,-E.x,-E.y,M.x,M.y);if(ta)break;ta=Ha?p(this.bevelEnd,G):d(this.bevelEnd,G);B?(B=this.writeVertex(oa,Da,Y,pa,-E.x,-E.y,0,0,0,0,aa),Q=this.writeVertex(oa,Da,Y,pa,G.x,G.y,S.x,S.y,R.x,R.y,aa),Z=this.writeVertex(oa,Da,Y,pa,G.x,G.y,ta.x,ta.y,M.x,M.y,aa),this.writeTriangle(da,
B,Z)):(A?(B=this.bevelMiddle,B.x=(wa.x+ta.x)/2,B.y=(wa.y+ta.y)/2,k(L,B,-E.x,-E.y),t(B.x,B.y,-E.x,-E.y,L.x,L.y),k(L,B,G.x,G.y),Q=this.writeVertex(oa,Da,Y,pa,G.x,G.y,B.x,B.y,L.x,L.y,aa),Z=this.writeVertex(oa,Da,Y,pa,G.x,G.y,S.x,S.y,R.x,R.y,aa)):(B=Q,Q=Z,Z=B),t(ta.x,ta.y,G.x,G.y,M.x,M.y));Ha&&(B=Q,Q=Z,Z=B);break;case b.JoinType.ROUND:{Ha=0>Ha;var X=void 0;Ha?(M=Q,Q=Z,Z=M,M=H,X=I):(M=I,X=H);var ea=Ha?u(this.inner,F):r(this.inner,F);B?(S=Ha?p(this.innerPrev,E):d(this.innerPrev,E),R=Ha?d(this.innerNext,
G):p(this.innerNext,G)):R=S=ea;da=Ha?d(this.roundStart,E):p(this.roundStart,E);var ha=Ha?p(this.roundEnd,G):d(this.roundEnd,G);S=t(S.x,S.y,-E.x,-E.y,M.x,M.y);da=t(da.x,da.y,-E.x,-E.y,X.x,X.y);if(ta)break;ta=this.writeVertex(oa,Da,Y,pa,-E.x,-E.y,0,0,0,0,aa);B||this.writeTriangle(Q,Z,ta);ea=u(this.outer,ea);X=this.writeVertex(oa,Da,Y,pa,G.x,G.y,ha.x,ha.y,X.x,X.y,aa);let N,U;if(ha=2<wa){var ra=void 0;wa!==Number.MAX_VALUE?(ea.x/=wa,ea.y/=wa,ra=E.x*ea.x+E.y*ea.y,ra=(wa*(ra*ra-1)+1)/ra):ra=-1;N=Ha?d(this.startBreak,
E):p(this.startBreak,E);N.x+=E.x*ra;N.y+=E.y*ra;U=Ha?p(this.endBreak,G):d(this.endBreak,G);U.x+=G.x*ra;U.y+=G.y*ra}k(L,ea,-E.x,-E.y);wa=this.writeVertex(oa,Da,Y,pa,-E.x,-E.y,ea.x,ea.y,L.x,L.y,aa);k(L,ea,G.x,G.y);ea=A?this.writeVertex(oa,Da,Y,pa,G.x,G.y,ea.x,ea.y,L.x,L.y,aa):wa;ra=ta;const P=A?this.writeVertex(oa,Da,Y,pa,G.x,G.y,0,0,0,0,aa):ta;let T=-1,W=-1;ha&&(k(L,N,-E.x,-E.y),T=this.writeVertex(oa,Da,Y,pa,-E.x,-E.y,N.x,N.y,L.x,L.y,aa),k(L,U,G.x,G.y),W=this.writeVertex(oa,Da,Y,pa,G.x,G.y,U.x,U.y,
L.x,L.y,aa));A?ha?(this.writeTriangle(ra,da,T),this.writeTriangle(ra,T,wa),this.writeTriangle(P,ea,W),this.writeTriangle(P,W,X)):(this.writeTriangle(ra,da,wa),this.writeTriangle(P,ea,X)):ha?(this.writeTriangle(ta,da,T),this.writeTriangle(ta,T,W),this.writeTriangle(ta,W,X)):(this.writeTriangle(ta,da,wa),this.writeTriangle(ta,ea,X));B?Q=this.writeVertex(oa,Da,Y,pa,G.x,G.y,R.x,R.y,M.x,M.y,aa):(Q=A?this.writeVertex(oa,Da,Y,pa,G.x,G.y,R.x,R.y,M.x,M.y,aa):S,this.writeTriangle(Q,P,X));Z=X;Ha&&(B=Q,Q=Z,Z=
B)}}}}};return l}();a.LineTessellation=g;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],function(a){a.ANGLE_FACTOR_256=256/360;a.ATTRIBUTE_DATA_ANIMATION=1;a.ATTRIBUTE_DATA_DD0=3;a.ATTRIBUTE_DATA_DD1=4;a.ATTRIBUTE_DATA_FILTER_FLAGS=0;a.ATTRIBUTE_DATA_GPGPU=2;a.ATTRIBUTE_DATA_VV=3;a.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;a.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,
advance:14}};a.BITSET_FILL_RANDOM_PATTERN_OFFSET=4;a.BITSET_GENERIC_CONSIDER_ALPHA_ONLY=16;a.BITSET_GENERIC_LOCK_COLOR=2;a.BITSET_LINE_SCALE_DASH=4;a.BITSET_MARKER_ALIGNMENT_MAP=1;a.BITSET_MARKER_ALIGNMENT_SCREEN=0;a.BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE=4;a.BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY=8;a.BITSET_TYPE_FILL_OUTLINE=1;a.BUFFER_DATA_MINIMUM_SIZE=128;a.BUFFER_DATA_POOL_SIZE=4;a.CHART_MAX_FIELDS=10;a.COLLISION_BOX_PADDING=16;a.COLLISION_BUCKET_SIZE=128;a.COLLISION_EARLY_REJECT_BUCKET_SIZE=
16;a.COLLISION_MAX_ZOOM_DELTA=1;a.COLLISION_PLACEMENT_PADDING=8;a.COLLISION_TILE_BOX_SIZE=4;a.DEBUG_LABELS=!1;a.DISPLAY_RECORD_INT_PER_ELEMENT=8;a.DOT_DENSITY_MAX_FIELDS=8;a.EFFECT_FLAG_0=4;a.ENABLE_EARLY_LABEL_DISCARD=!1;a.EXTRUDE_SCALE=64;a.FILTER_FLAG_0=2;a.GLYPH_SIZE=24;a.HEURISTIC_GLYPHS_PER_FEATURE=10;a.HEURISTIC_GLYPHS_PER_LINE=50;a.HIGHLIGHT_FLAG=1;a.HITTEST_RADIUS=3;a.MAGIC_LABEL_LINE_HEIGHT=29;a.MAX_FILTERS=2;a.MAX_GPU_UPLOADS_PER_FRAME=2;a.MIN_MAX_ZOOM_PRECISION_FACTOR=10;a.NAN_MAGIC_NUMBER=
1E-30;a.PATCH_PIXEL_BUFFER_ALLOC_SIZE=500;a.PICTURE_FILL_COLOR=4294967295;a.RANDOM_INSIDE_POLYGON_TEXTURE_SIZE=1024;a.RASTER_TILE_SIZE=256;a.SPRITE_PADDING=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;a.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;a.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;a.TEXTURE_BINDING_ATTRIBUTE_DATA_4=5;a.TEXTURE_BINDING_ATTRIBUTE_DATA_5=6;a.TEXTURE_BINDING_BITMAP=0;a.TEXTURE_BINDING_GLYPH_ATLAS=0;a.TEXTURE_BINDING_GPGPU=12;a.TEXTURE_BINDING_HIGHLIGHT_0=5;a.TEXTURE_BINDING_HIGHLIGHT_1=
6;a.TEXTURE_BINDING_RENDERER_0=5;a.TEXTURE_BINDING_RENDERER_1=6;a.TEXTURE_BINDING_SPRITE_ATLAS=0;a.TEXT_PLACEMENT_PADDING=8;a.THIN_LINE_HALF_WIDTH_THRESHOLD=1.05;a.TILE_SIZE=512;a.VTL_HIGH_RES_CUTOFF=1.15;a.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;a.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;a.WEBGL_MAX_INNER_STOPS=6;a.WEBGL_MAX_STOPS=8;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/buckets/SymbolBucket":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/BidiEngine ../../../../../core/string ../enums ../GeometryUtils ../Placement ../TextShaping ./BaseBucket ../style/StyleDefinition ../style/StyleLayer ../../webgl/Geometry".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g){function l(q,m){return q.iconMosaicItem&&m.iconMosaicItem?q.iconMosaicItem.page===m.iconMosaicItem.page?0:q.iconMosaicItem.page-m.iconMosaicItem.page:q.iconMosaicItem&&!m.iconMosaicItem?1:!q.iconMosaicItem&&m.iconMosaicItem?-1:0}u=function(q){function m(f,h,v,w,D,x,y,z){f=q.call(this,f,h,z.getSpriteItems())||this;f.type=e.BucketType.SYMBOL;f._markerMap=new Map;f._glyphMap=new Map;f._glyphBufferDataStorage=new Map;f._isIconSDF=!1;f._iconVertexBuffer=v;f._iconIndexBuffer=
w;f._textVertexBuffer=D;f._textIndexBuffer=x;f._placementEngine=y;f._workerTileHandler=z;return f}a._inheritsLoose(m,q);var t=m.prototype;t.getResources=function(f,h,v){const w=this.layer,D=this.zoom;f&&f.setExtent(this.layerExtent);const x=w.getLayoutProperty("icon-image"),y=w.getLayoutProperty("text-field");let z=w.getLayoutProperty("text-transform"),A=w.getLayoutProperty("text-font");const C=[];let B;x&&!x.isDataDriven&&(B=x.getValue(D));let E;y&&!y.isDataDriven&&(E=y.getValue(D));let G;z&&z.isDataDriven||
(G=w.getLayoutValue("text-transform",D),z=null);let J;A&&A.isDataDriven||(J=w.getLayoutValue("text-font",D),A=null);for(const I of this._features){var K=I.getGeometry(f);if(!K||0===K.length)continue;let L;x&&(L=x.isDataDriven?x.getValue(D,I):this._replaceKeys(B,I.values))&&h(L);let Q;var F=!1;if(y&&(Q=y.isDataDriven?y.getValue(D,I):this._replaceKeys(E,I.values))){Q=Q.replace(/\\n/g,"\n");z&&(G=z.getValue(D,I));switch(G){case n.TextTransform.LOWERCASE:Q=Q.toLowerCase();break;case n.TextTransform.UPPERCASE:Q=
Q.toUpperCase()}m._bidiEngine.hasBidiChar(Q)&&(F="rtl"===m._bidiEngine.checkContextual(Q)?"IDNNN":"ICNNN",Q=m._bidiEngine.bidiTransform(Q,F,"VLYSN"),F=!0);var H=Q.length;if(0<H){A&&(J=A.getValue(D,I));for(const Z of J){let ca=v[Z];ca||(ca=v[Z]=new Set);for(let aa=0;aa<H;aa++){const O=Q.charCodeAt(aa);ca.add(O)}}}}if(L||Q)H=w.getLayoutValue("symbol-sort-key",D,I),K={feature:I,sprite:L,label:Q,rtl:F,geometry:K,hash:(Q?c.numericHash(Q):0)^(L?c.numericHash(L):0),priority:H,textFont:J},C.push(K)}this._symbolFeatures=
C};t.processFeatures=function(f){f&&f.setExtent(this.layerExtent);var h=this.layer;f=this.zoom;const v=h.getLayoutValue("symbol-placement",f),w=v!==n.SymbolPlacement.POINT,D=h.getLayoutValue("symbol-spacing",f)*p.TILE_PIXEL_RATIO;var x=h.getLayoutProperty("icon-image"),y=h.getLayoutProperty("text-field");const z=x?new k.IconLayout(h,f,w):null;h=y?new k.TextLayout(h,f,w):null;const A=this._workerTileHandler;let C;x&&(C=A.getSpriteItems());this._iconIndexStart=3*this._iconIndexBuffer.index;this._textIndexStart=
3*this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();x=[];y=1;h&&h.size&&(y=h.size/r.SDF_GLYPH_SIZE);const B=h?h.maxAngle*d.C_DEG_TO_RAD:0,E=h?h.size*p.TILE_PIXEL_RATIO:0;for(const F of this._symbolFeatures){let H;z&&C&&F.sprite&&(H=C[F.sprite])&&H.sdf&&(this._isIconSDF=!0);H&&z.update(f,F.feature);var G=void 0,J=0,K=F.label;if(K){h.update(f,F.feature);G=w?h.keepUpright:h.writingMode&&h.writingMode.includes(n.TextWritingMode.VERTICAL);
let I=.5;switch(h.anchor){case n.SymbolAnchor.TOP_LEFT:case n.SymbolAnchor.LEFT:case n.SymbolAnchor.BOTTOM_LEFT:I=0;break;case n.SymbolAnchor.TOP_RIGHT:case n.SymbolAnchor.RIGHT:case n.SymbolAnchor.BOTTOM_RIGHT:I=1}let L=.5;switch(h.anchor){case n.SymbolAnchor.TOP_LEFT:case n.SymbolAnchor.TOP:case n.SymbolAnchor.TOP_RIGHT:L=0;break;case n.SymbolAnchor.BOTTOM_LEFT:case n.SymbolAnchor.BOTTOM:case n.SymbolAnchor.BOTTOM_RIGHT:L=1}let Q=.5;switch(h.justify){case n.TextJustification.AUTO:Q=I;break;case n.TextJustification.LEFT:Q=
0;break;case n.TextJustification.RIGHT:Q=1}const Z=h.letterSpacing*r.SDF_GLYPH_SIZE,ca=w?0:h.maxWidth*r.SDF_GLYPH_SIZE,aa=h.lineHeight*r.SDF_GLYPH_SIZE,O=F.textFont.map(fa=>A.getGlyphItems(fa));if((G=(new r.TextShaping(O,ca,aa,Z,I,L,Q)).getShaping(K,F.rtl,G))&&0<G.length){J=1E30;K=-1E30;for(const fa of G)J=Math.min(J,fa.x),K=Math.max(K,fa.x);J=(K-J+2*r.SDF_GLYPH_SIZE)*y*p.TILE_PIXEL_RATIO}}for(let I of F.geometry){K=[];v===n.SymbolPlacement.LINE?(G&&0<G.length&&h&&h.size&&(I=m._smoothVertices(I,h.size*
p.TILE_PIXEL_RATIO*(2+Math.min(2,4*Math.abs(h.offset[1]))))),m._pushAnchors(K,I,D,J)):v===n.SymbolPlacement.LINE_CENTER?m._pushCenterAnchor(K,I):F.feature.type===g.GeometryType.Polygon?m._pushCentroid(K,I):K.push(new p.Anchor(I[0].x,I[0].y));for(const L of K)0>L.x||L.x>p.TILE_COORD_SIZE||0>L.y||L.y>p.TILE_COORD_SIZE||w&&0<J&&h.rotationAlignment===n.RotationAlignment.MAP&&!m._honorsTextMaxAngle(I,L,J,B,E)||(K={shaping:G,line:I,iconMosaicItem:H,anchor:L,symbolFeature:F,textColliders:[],iconColliders:[],
textVertexRanges:[],iconVertexRanges:[]},x.push(K),this._processFeature(K,z,h))}}x.sort(l);this._addPlacedGlyphs();this._symbolInstances=x};t.serialize=function(){var f=11+this.layerUIDs.length;f+=3*this.markerPageMap.size;f+=3*this.glyphsPageMap.size;f+=m._symbolsSerializationLength(this._symbolInstances);f+=this._iconVertexBuffer.array.length;f+=this._iconIndexBuffer.array.length;f+=this._textVertexBuffer.array.length;f+=this._textIndexBuffer.array.length;f=new Uint32Array(f);var h=new Int32Array(f.buffer),
v=new Float32Array(f.buffer);let w=0;f[w++]=this.type;f[w++]=this.layerUIDs.length;for(let D=0;D<this.layerUIDs.length;D++)f[w++]=this.layerUIDs[D];f[w++]=this._isIconSDF?1:0;f[w++]=this.markerPageMap.size;for(const [D,[x,y]]of this.markerPageMap)f[w++]=D,f[w++]=x,f[w++]=y;f[w++]=this.glyphsPageMap.size;for(const [D,[x,y]]of this.glyphsPageMap)f[w++]=D,f[w++]=x,f[w++]=y;f[w++]=this._iconVertexBuffer.index/4;f[w++]=this._textVertexBuffer.index/4;w=m.serializeSymbols(f,h,v,w,this._symbolInstances);
f[w++]=this._iconVertexBuffer.array.length;for(v=0;v<this._iconVertexBuffer.array.length;v++)h[w++]=this._iconVertexBuffer.array[v];f[w++]=this._iconIndexBuffer.array.length;for(v=0;v<this._iconIndexBuffer.array.length;v++)f[w++]=this._iconIndexBuffer.array[v];f[w++]=this._textVertexBuffer.array.length;for(v=0;v<this._textVertexBuffer.array.length;v++)h[w++]=this._textVertexBuffer.array[v];f[w++]=this._textIndexBuffer.array.length;for(h=0;h<this._textIndexBuffer.array.length;h++)f[w++]=this._textIndexBuffer.array[h];
return f.buffer};m._symbolsSerializationLength=function(f){let h;h=1;for(const v of f||[]){h+=4;h+=1;for(const w of v.textColliders)h+=10;for(const w of v.iconColliders)h+=10;h+=1;h+=2*v.textVertexRanges.length;h+=1;h+=2*v.iconVertexRanges.length}return h};m.serializeSymbols=function(f,h,v,w,D){D=D||[];h[w++]=D.length;for(const x of D){h[w++]=x.anchor.x;h[w++]=x.anchor.y;h[w++]=x.symbolFeature.hash;h[w++]=x.symbolFeature.priority;h[w++]=x.textColliders.length+x.iconColliders.length;for(const y of x.textColliders)h[w++]=
y.xTile,h[w++]=y.yTile,h[w++]=y.dxPixels,h[w++]=y.dyPixels,h[w++]=y.hard?1:0,h[w++]=y.partIndex,v[w++]=y.minLod,v[w++]=y.maxLod,h[w++]=y.width,h[w++]=y.height;for(const y of x.iconColliders)h[w++]=y.xTile,h[w++]=y.yTile,h[w++]=y.dxPixels,h[w++]=y.dyPixels,h[w++]=y.hard?1:0,h[w++]=y.partIndex,v[w++]=y.minLod,v[w++]=y.maxLod,h[w++]=y.width,h[w++]=y.height;h[w++]=x.textVertexRanges.length;for(const [y,z]of x.textVertexRanges)h[w++]=y,h[w++]=z;h[w++]=x.iconVertexRanges.length;for(const [y,z]of x.iconVertexRanges)h[w++]=
y,h[w++]=z}return w};t._replaceKeys=function(f,h){return f.replace(/{([^{}]+)}/g,(v,w)=>w in h?h[w]:"")};t._processFeature=function(f,h,v){const {line:w,iconMosaicItem:D,shaping:x,anchor:y}=f,z=this.zoom;var A=this.layer,C=!!D,B=!0;C&&(B=h.optional||!D);var E=x&&0<x.length,G=!0;E&&(G=v.optional);var J;C&&(J=this._placementEngine.getIconPlacement(y,D,h));if(J||B){var K;E&&(K=this._placementEngine.getTextPlacement(y,x,w,v));if(K||G){J&&K||(G||B?G||K?B||J||(K=null):J=null:K=J=null);if(K&&(C=A.hasDataDrivenText?
A.textMaterial.encodeAttributes(f.symbolFeature.feature,z,A):null,this._storePlacedGlyphs(f,K.shapes,z,v.rotationAlignment,C),K.textColliders)){f.textColliders=K.textColliders;for(var F of K.textColliders)if(F.minLod=Math.max(z+d.log2(F.minLod),0),F.maxLod=Math.min(z+d.log2(F.maxLod),25),v=F.angle){B=Math.cos(v);var H=Math.sin(v);E=F.dxPixels*B-F.dyPixels*H;v=F.dxPixels*H+F.dyPixels*B;G=(F.dxPixels+F.width)*B-F.dyPixels*H;K=(F.dxPixels+F.width)*H+F.dyPixels*B;const I=F.dxPixels*B-(F.dyPixels+F.height)*
H;C=F.dxPixels*H+(F.dyPixels+F.height)*B;const L=(F.dxPixels+F.width)*B-(F.dyPixels+F.height)*H;H=(F.dxPixels+F.width)*H+(F.dyPixels+F.height)*B;B=Math.min(E,G,I,L);E=Math.max(E,G,I,L);G=Math.min(v,K,C,H);v=Math.max(v,K,C,H);F.dxPixels=B;F.dyPixels=G;F.width=E-B;F.height=v-G}}if(J&&(A=A.hasDataDrivenIcon?A.iconMaterial.encodeAttributes(f.symbolFeature.feature,z,A):null,this._addPlacedIcons(f,J.shapes,z,D.page,h.rotationAlignment===n.RotationAlignment.VIEWPORT,A),J.iconColliders)){f.iconColliders=
J.iconColliders;for(const I of J.iconColliders)if(I.minLod=Math.max(z+d.log2(I.minLod),0),I.maxLod=Math.min(z+d.log2(I.maxLod),25),f=I.angle)A=Math.cos(f),B=Math.sin(f),F=I.dxPixels*A-I.dyPixels*B,f=I.dxPixels*B+I.dyPixels*A,v=(I.dxPixels+I.width)*A-I.dyPixels*B,h=(I.dxPixels+I.width)*B+I.dyPixels*A,K=I.dxPixels*A-(I.dyPixels+I.height)*B,J=I.dxPixels*B+(I.dyPixels+I.height)*A,C=(I.dxPixels+I.width)*A-(I.dyPixels+I.height)*B,B=(I.dxPixels+I.width)*B+(I.dyPixels+I.height)*A,A=Math.min(F,v,K,C),F=Math.max(F,
v,K,C),v=Math.min(f,h,J,B),f=Math.max(f,h,J,B),I.dxPixels=A,I.dyPixels=v,I.width=F-A,I.height=f-v}}}};t._addPlacedIcons=function(f,h,v,w,D,x){const y=Math.max(v-1,0),z=this._iconVertexBuffer,A=this._iconIndexBuffer,C=this._markerMap;for(const E of h){h=D?0:Math.max(v+d.log2(E.minzoom),y);const G=D?25:Math.min(v+d.log2(E.maxzoom),25);if(G<=h)continue;const J=E.tl,K=E.tr,F=E.bl,H=E.br;var B=E.mosaicRect;const I=E.labelAngle,L=E.minAngle,Q=E.maxAngle,Z=E.anchor,ca=z.index,aa=B.x,O=B.y,fa=aa+B.width;
B=O+B.height;const oa=z.index;z.add(Z.x,Z.y,J.x,J.y,aa,O,I,L,Q,h,G,x);z.add(Z.x,Z.y,K.x,K.y,fa,O,I,L,Q,h,G,x);z.add(Z.x,Z.y,F.x,F.y,aa,B,I,L,Q,h,G,x);z.add(Z.x,Z.y,H.x,H.y,fa,B,I,L,Q,h,G,x);0<f.iconVertexRanges.length&&f.iconVertexRanges[0][0]+f.iconVertexRanges[0][1]===oa?f.iconVertexRanges[0][1]+=4:f.iconVertexRanges.push([oa,4]);A.add(ca+0,ca+1,ca+2);A.add(ca+1,ca+2,ca+3);C.has(w)?C.get(w)[1]+=6:C.set(w,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=6}};t._addPlacedGlyphs=
function(){const f=this._textVertexBuffer,h=this._textIndexBuffer,v=this._glyphMap;for(const [w,D]of this._glyphBufferDataStorage)for(const x of D){const y=f.index,z=x.symbolInstance,A=x.ddAttributes,C=f.index;f.add(x.glyphAnchor[0],x.glyphAnchor[1],x.tl[0],x.tl[1],x.xmin,x.ymin,x.labelAngle,x.minAngle,x.maxAngle,x.minLod,x.maxLod,A);f.add(x.glyphAnchor[0],x.glyphAnchor[1],x.tr[0],x.tr[1],x.xmax,x.ymin,x.labelAngle,x.minAngle,x.maxAngle,x.minLod,x.maxLod,A);f.add(x.glyphAnchor[0],x.glyphAnchor[1],
x.bl[0],x.bl[1],x.xmin,x.ymax,x.labelAngle,x.minAngle,x.maxAngle,x.minLod,x.maxLod,A);f.add(x.glyphAnchor[0],x.glyphAnchor[1],x.br[0],x.br[1],x.xmax,x.ymax,x.labelAngle,x.minAngle,x.maxAngle,x.minLod,x.maxLod,A);0<z.textVertexRanges.length&&z.textVertexRanges[0][0]+z.textVertexRanges[0][1]===C?z.textVertexRanges[0][1]+=4:z.textVertexRanges.push([C,4]);h.add(y+0,y+1,y+2);h.add(y+1,y+2,y+3);v.has(w)?v.get(w)[1]+=6:v.set(w,[this._textIndexStart+this._textIndexCount,6]);this._textIndexCount+=6}this._glyphBufferDataStorage.clear()};
t._storePlacedGlyphs=function(f,h,v,w,D){const x=Math.max(v-1,0);w=w===n.RotationAlignment.VIEWPORT;let y,z,A,C,B,E,G,J,K,F;for(const H of h)h=w?0:Math.max(v+d.log2(H.minzoom),x),y=w?25:Math.min(v+d.log2(H.maxzoom),25),y<=h||(z=H.tl,A=H.tr,C=H.bl,B=H.br,E=H.labelAngle,G=H.minAngle,J=H.maxAngle,K=H.anchor,F=H.mosaicRect,this._glyphBufferDataStorage.has(H.page)||this._glyphBufferDataStorage.set(H.page,[]),this._glyphBufferDataStorage.get(H.page).push({glyphAnchor:[K.x,K.y],tl:[z.x,z.y],tr:[A.x,A.y],
bl:[C.x,C.y],br:[B.x,B.y],xmin:F.x,ymin:F.y,xmax:F.x+F.width,ymax:F.y+F.height,labelAngle:E,minAngle:G,maxAngle:J,minLod:h,maxLod:y,placementLod:x,symbolInstance:f,ddAttributes:D}))};m._pushAnchors=function(f,h,v,w){v+=w;var D=0,x=h.length-1;for(var y=0;y<x;y++)D+=g.Point.distance(h[y],h[y+1]);w=.5*(w||v);if(!(D<=w)){w/=D;v=D/Math.max(Math.round(D/v),1);D=0;x=-v/2;y=h.length-1;for(let A=0;A<y;A++){const C=h[A],B=h[A+1],E=B.x-C.x,G=B.y-C.y,J=Math.sqrt(E*E+G*G);let K;for(;x+v<D+J;){x+=v;var z=(x-D)/
J;const F=d.interpolate(C.x,B.x,z);z=d.interpolate(C.y,B.y,z);void 0===K&&(K=Math.atan2(G,E));f.push(new p.Anchor(F,z,K,A,w))}D+=J}}};m._pushCenterAnchor=function(f,h){var v=0,w=h.length-1;for(var D=0;D<w;D++)v+=g.Point.distance(h[D],h[D+1]);var x=v/2;let y=0;const z=h.length-1;for(v=0;v<z;v++){var A=h[v];const C=h[v+1];w=C.x-A.x;D=C.y-A.y;const B=Math.sqrt(w*w+D*D);if(x<y+B){x=(x-y)/B;h=d.interpolate(A.x,C.x,x);A=d.interpolate(A.y,C.y,x);f.push(new p.Anchor(h,A,Math.atan2(D,w),v,0));break}y+=B}};
m._deviation=function(f,h,v){return Math.atan2((h.x-f.x)*(v.y-h.y)-(h.y-f.y)*(v.x-h.x),(h.x-f.x)*(v.x-h.x)+(h.y-f.y)*(v.y-h.y))};m._honorsTextMaxAngle=function(f,h,v,w,D){let x=0;v/=2;for(var y=new g.Point(h.x,h.y),z=h.segment+1;x>-v;){--z;if(0>z)return!1;x-=g.Point.distance(f[z],y);y=f[z]}x+=g.Point.distance(f[z],f[z+1]);h=[];y=0;const A=f.length;for(;x<v;){var C=f[z];let B;do{++z;if(z===A)return!1;B=f[z]}while(B.isEqual(C));let E=z,G;do{++E;if(E===A)return!1;G=f[E]}while(G.isEqual(B));C=this._deviation(C,
B,G);h.push({deviation:C,distToAnchor:x});for(y+=C;x-h[0].distToAnchor>D;)y-=h.shift().deviation;if(Math.abs(y)>w)return!1;x+=g.Point.distance(B,G)}return!0};m._smoothVertices=function(f,h){if(0>=h)return f;let v=f.length;if(3>v)return f;const w=[];var D=0,x=0;w.push(0);for(var y=1;y<v;y++){var z=g.Point.distance(f[y],f[y-1]);0<z&&(D+=z,w.push(D),x++,x!==y&&(f[x]=f[y]))}v=x+1;if(3>v)return f;h=Math.min(h,.2*D);D=f[0].x;x=f[0].y;y=f[v-1].x;z=f[v-1].y;var A=g.Point.sub(f[0],f[1]);A.normalize();f[0].x+=
h*A.x;f[0].y+=h*A.y;A.assignSub(f[v-1],f[v-2]);A.normalize();f[v-1].x+=h*A.x;f[v-1].y+=h*A.y;w[0]-=h;w[v-1]+=h;A=[];A.push(new g.Point(D,x));const C=.5*h;for(let Z=1;Z<v-1;Z++){let ca=0,aa=0,O=0;for(var B=Z-1;0<=B;B--){var E=C+w[B+1]-w[Z];if(0>E)break;var G=w[B+1]-w[B],J=w[Z]-w[B]<C?1:E/G;if(1E-6>J)break;var K=J*J,F=J*E-.5*K*G,H=J*G/h,I=f[B+1],L=f[B].x-I.x,Q=f[B].y-I.y;ca+=H/F*(I.x*J*E+.5*K*(E*L-G*I.x)-K*J*G*L/3);aa+=H/F*(I.y*J*E+.5*K*(E*Q-G*I.y)-K*J*G*Q/3);O+=H}for(B=Z+1;B<v;B++){E=C-w[B-1]+w[Z];
if(0>E)break;G=w[B]-w[B-1];J=w[B]-w[Z]<C?1:E/G;if(1E-6>J)break;K=J*J;F=J*E-.5*K*G;H=J*G/h;I=f[B-1];L=f[B].x-I.x;Q=f[B].y-I.y;ca+=H/F*(I.x*J*E+.5*K*(E*L-G*I.x)-K*J*G*L/3);aa+=H/F*(I.y*J*E+.5*K*(E*Q-G*I.y)-K*J*G*Q/3);O+=H}A.push(new g.Point(ca/O,aa/O))}A.push(new g.Point(y,z));f[0].x=D;f[0].y=x;f[v-1].x=y;f[v-1].y=z;return A};m._pushCentroid=function(f,h){const v=h.length-1;let w=0,D=0,x=0,y=h[0].x,z=h[0].y;4096<y&&(y=4096);0>y&&(y=0);4096<z&&(z=4096);0>z&&(z=0);for(let A=1;A<v;A++){let C=h[A].x,B=
h[A].y,E=h[A+1].x,G=h[A+1].y;4096<C&&(C=4096);0>C&&(C=0);4096<B&&(B=4096);0>B&&(B=0);4096<E&&(E=4096);0>E&&(E=0);4096<G&&(G=4096);0>G&&(G=0);const J=(C-y)*(G-z)-(E-y)*(B-z);w+=J*(y+C+E);D+=J*(z+B+G);x+=J}w/=3*x;D/=3*x;isNaN(w)||isNaN(D)||f.push(new p.Anchor(w,D))};a._createClass(m,[{key:"markerPageMap",get:function(){return this._markerMap}},{key:"glyphsPageMap",get:function(){return this._glyphMap}},{key:"symbolInstances",get:function(){return this._symbolInstances}}]);return m}(u);u._bidiEngine=
new b;return u})},"esri/core/BidiEngine":function(){define(["./bidiEngineTables"],function(a){function b(y,z,A,C,B){var E=y;void 0===z&&(z=B.defInFormat);void 0===A&&(A=B.defOutFormat);void 0===C&&(C=B.defSwap);if(z!==A){var G=z.substring(0,1),J=A.substring(0,1);var K=z.substring(1,4);var F=A.substring(1,4);"C"===K.charAt(0)&&(K=c(E),K="ltr"===K||"rtl"===K?K.toUpperCase():"L"===z.charAt(2)?"LTR":"RTL",z=G+K);"C"===F.charAt(0)&&(K=c(E),"rtl"===K?F="RTL":"ltr"===K?(E=E.split(""),E.reverse(),K=c(E.join("")),
F=K.toUpperCase()):F="L"===A.charAt(2)?"LTR":"RTL",A=J+F)}if(z===A)return y;J=z.substring(0,1);E=z.substring(1,4);G=A.substring(0,1);F=A.substring(1,4);B.inFormat=z;B.outFormat=A;B.swap=C;if("L"===J&&"VLTR"===A){if("LTR"===E)return B.dir=0,e(y,B);if("RTL"===E)return B.dir=1,e(y,B)}if("V"===J&&"V"===G)return B.dir="RTL"===E?1:0,p(y,B);if("L"===J&&"VRTL"===A)return B.dir="LTR"===E?0:1,y=e(y,B),p(y);if("VLTR"===z&&"LLTR"===A)return B.dir=0,e(y,B);if("V"===J&&"L"===G&&E!==F)return y=p(y),"RTL"===E?b(y,
"LLTR","VLTR",C,B):b(y,"LRTL","VRTL",C,B);if("VRTL"===z&&"LRTL"===A)return b(y,"LRTL","VRTL",C,B);"L"===J&&"L"===G&&(z=B.swap,B.swap=z.substr(0,1)+"N","RTL"===E?(B.dir=1,y=e(y,B),B.swap="N"+z.substr(1,2),B.dir=0,y=e(y,B)):(B.dir=0,y=e(y,B),B.swap="N"+z.substr(1,2),y=b(y,"VLTR","LRTL",B.swap,B)));return y}function c(y){return(y=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(y))?"z">=y[0]?"ltr":"rtl":""}function e(y,z){y=y.split("");const A=[];d(y,A,z);if(0!==z.hiLevel&&
z.swap.substr(0,1)!==z.swap.substr(1,2))for(let E=0;E<y.length;E++)if(1===A[E]){var C=E;b:{let G=void 0;var B=y[E];let J=0,K=a.SwapTable.length-1;for(;J<=K;)if(G=Math.floor((J+K)/2),B<a.SwapTable[G][0])K=G-1;else if(B>a.SwapTable[G][0])J=G+1;else{B=a.SwapTable[G][1];break b}}y[C]=B}n(2,y,A,z);n(1,y,A,z);v=A;return y.join("")}function d(y,z,A){const C=y.length;var B=A.dir?a.impTabRtl:a.impTabLtr,E=0,G=-1;const J=[],K=[];A.hiLevel=A.dir;A.lastArabic=!1;A.hasUbatAl=!1;A.hasUbatB=!1;A.hasUbatS=!1;for(var F=
0;F<C;F++){var H=F;{var I=y[F].charCodeAt(0);const L=a.PrimaryTable[I>>8];I=L<a.TBBASE?L:a.UnicodeTable[L-a.TBBASE][I&255]}J[H]=I}for(H=0;H<C;H++){F=k(y,J,K,H,A);K[H]=F;E=B[E][F];I=E&240;E&=15;F=B[E][5];z[H]=F;if(0<I){if(16===I)for(;G<H;G++)z[G]=1;G=-1}if(B[E][6])-1===G&&(G=H);else if(-1<G){for(;G<H;G++)z[G]=F;G=-1}J[H]===a.UBAT_B&&(z[H]=0);A.hiLevel|=F}if(A.hasUbatS)for(y=0;y<C;y++)if(J[y]===a.UBAT_S)for(z[y]=A.dir,B=y-1;0<=B;B--)if(J[B]===a.UBAT_WS)z[B]=A.dir;else break}function p(y,z){y=y.split("");
if(z){const A=[];d(y,A,z);v=A}y.reverse();f.reverse();return y.join("")}function r(y){for(let z=0;z<a.ArabicAlefBetIntervalsBegine.length;z++)if(y>=a.ArabicAlefBetIntervalsBegine[z]&&y<=a.ArabicAlefBetIntervalsEnd[z])return!0;return!1}function u(y,z,A,C){for(;z*A<C&&l(y[z]);)z+=A;return z*A<C&&r(y[z])?!0:!1}function n(y,z,A,C){if(!(C.hiLevel<y))if(1!==y||1!==C.dir||C.hasUbatB){C=z.length;for(var B=0,E,G,J;B<C;){if(A[B]>=y){for(E=B+1;E<C&&A[E]>=y;)E++;for(G=E-1;B<G;B++,G--)J=z[B],z[B]=z[G],z[G]=J,
J=f[B],f[B]=f[G],f[G]=J;B=E}B++}}else z.reverse(),f.reverse()}function k(y,z,A,C,B){return{UBAT_L:()=>{B.lastArabic=!1;return a.UBAT_L},UBAT_R:()=>{B.lastArabic=!1;return a.UBAT_R},UBAT_ON:()=>a.UBAT_ON,UBAT_AN:()=>a.UBAT_AN,UBAT_EN:()=>B.lastArabic?a.UBAT_AN:a.UBAT_EN,UBAT_AL:()=>{B.lastArabic=!0;B.hasUbatAl=!0;return a.UBAT_R},UBAT_WS:()=>a.UBAT_ON,UBAT_CS:()=>{let E,G;if(1>C||C+1>=z.length||(E=A[C-1])!==a.UBAT_EN&&E!==a.UBAT_AN||(G=z[C+1])!==a.UBAT_EN&&G!==a.UBAT_AN)return a.UBAT_ON;B.lastArabic&&
(G=a.UBAT_AN);return G===E?G:a.UBAT_ON},UBAT_ES:()=>(0<C?A[C-1]:a.UBAT_B)===a.UBAT_EN&&C+1<z.length&&z[C+1]===a.UBAT_EN?a.UBAT_EN:a.UBAT_ON,UBAT_ET:()=>{if(0<C&&A[C-1]===a.UBAT_EN)return a.UBAT_EN;if(B.lastArabic)return a.UBAT_ON;let E=C+1;const G=z.length;for(;E<G&&z[E]===a.UBAT_ET;)E++;return E<G&&z[E]===a.UBAT_EN?a.UBAT_EN:a.UBAT_ON},UBAT_NSM:()=>{if("VLTR"===B.inFormat){for(var E=z.length,G=C+1;G<E&&z[G]===a.UBAT_NSM;)G++;if(G<E&&(E=y[C].charCodeAt[0],G=z[G],(1425<=E&&2303>=E||64286===E)&&(G===
a.UBAT_R||G===a.UBAT_AL)))return a.UBAT_R}return 1>C||z[C-1]===a.UBAT_B?a.UBAT_ON:A[C-1]},UBAT_B:()=>{B.lastArabic=!0;B.hasUbatB=!0;return B.dir},UBAT_S:()=>{B.hasUbatS=!0;return a.UBAT_ON},UBAT_LRE:()=>{B.lastArabic=!1;return a.UBAT_ON},UBAT_RLE:()=>{B.lastArabic=!1;return a.UBAT_ON},UBAT_LRO:()=>{B.lastArabic=!1;return a.UBAT_ON},UBAT_RLO:()=>{B.lastArabic=!1;return a.UBAT_ON},UBAT_PDF:()=>{B.lastArabic=!1;return a.UBAT_ON},UBAT_BN:()=>a.UBAT_ON}[a.TYPES_NAMES[z[C]]]()}function g(y,z){for(let A=
0;A<a.BaseForm.length;A++)if(y===a.BaseForm[A])return z[A];return y}function l(y){return"\u064b"<=y&&"\u0655">=y?!0:!1}function q(y){return"L"===y?"LTR":"R"===y?"RTL":"C"===y?"CLR":"D"===y?"CRL":""}function m(y,z){for(let A=0;A<a.AlefTable.length;A++)if(y===a.AlefTable[A])return z[A];return y}function t(y,z,A,C){for(let B=0;B<y.length;B++)if(y[B]>z||!A&&y[B]===z)y[B]+=C}let f=[],h=[],v=[];const w={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",
hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},D=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,x=/[\u0591-\u06ff\ufb1d-\ufefc]/;return function(){function y(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}var z=y.prototype;z.bidiTransform=function(A,C,B){this.sourceToTarget=[];this.targetToSource=[];if(!A)return"";var E=this.sourceToTarget,G=this.targetToSource,J=A.length;f=[];v=[];for(var K=0;K<J;K++)E[K]=
K,G[K]=K,f[K]=K;if(!this.checkParameters(C,B))return A;C=this.inputFormat;B=this.outputFormat;E=A;J=q(C.charAt(1));E=q(B.charAt(1));K="I"===C.charAt(0)?"L":C.charAt(0);G="I"===B.charAt(0)?"L":B.charAt(0);J=K+J;E=G+E;G=C.charAt(2)+B.charAt(2);w.defInFormat=J;w.defOutFormat=E;w.defSwap=G;A=b(A,J,E,G,w);E=!1;if("R"===B.charAt(1))E=!0;else if("C"===B.charAt(1)||"D"===B.charAt(1))E="rtl"===this.checkContextual(A);G=this.sourceToTarget=f;J=Array(G.length);for(K=0;K<G.length;K++)J[G[K]]=K;h=this.targetToSource=
G=J;if(C.charAt(3)===B.charAt(3))E=A;else if("S"===B.charAt(3))if(C=E,B=!0,0===A.length)E="";else{void 0===C&&(C=!0);void 0===B&&(B=!0);A=String(A);A=A.split("");J=0;E=1;G=A.length;C||(J=A.length-1,E=-1,G=1);var F=J;J=B;var H=0;K=[];for(var I=0;F*E<G;F+=E)if(r(A[F])||l(A[F])){var L;if(L="\u0644"===A[F])b:{for(var Q=A,Z=F+E,ca=E,aa=G;Z*ca<aa&&l(Q[Z]);)Z+=ca;L=" ";if(Z*ca<aa)for(L=Q[Z],Q=0;Q<a.AlefTable.length;Q++)if(a.AlefTable[Q]===L){L=!0;break b}L=!1}if(L){A[F]=0===H?m(A[F+E],a.LamAlefInialTableFE):
m(A[F+E],a.LamAlefMedialTableFE);F+=E;H=A;L=F;Q=E;for(Z=G;L*Q<Z&&l(H[L]);)L+=Q;L*Q<Z&&(H[L]=" ");J&&(K[I]=F,I++);H=0}else{L=A[F];if(1===H){Q=F;if(u(A,F+E,E,G))b:for(Z=A[F],ca=0;ca<a.BaseForm.length;ca++){if(Z===a.BaseForm[ca]){Z=a.MedialForm[ca];break b}}else Z=g(A[F],a.FinalForm);A[Q]=Z}else!0===u(A,F+E,E,G)?A[F]=g(A[F],a.InitialForm):A[F]=g(A[F],a.IsolatedForm);l(L)||(H=1);b:{for(Q=0;Q<a.StandAlonForm.length;Q++)if(a.StandAlonForm[Q]===L){L=!0;break b}L=!1}!0===L&&(H=0)}}else H=0;E=K;G="";for(J=
0;J<A.length;J++){if(K=B){b:{for(K=0;K<E.length;K++)if(E[K]===J)break b;K=-1}K=-1<K}K?(t(h,J,!C,-1),f.splice(J,1)):G+=A[J]}E=G}else if(C=A,B=E,A=!0,0===C.length)E="";else for(void 0===A&&(A=!0),void 0===B&&(B=!0),C=String(C),E="",G=C.split(""),J=0;J<C.length;J++)K=!1,"\ufe70"<=G[J]&&"\ufeff">G[J]?(I=C.charCodeAt(J),"\ufef5"<=G[J]&&"\ufefc">=G[J]?(B?(0<J&&A&&" "===G[J-1]?E=E.substring(0,E.length-1)+"\u0644":(E+="\u0644",K=!0),E+=a.AlefTable[(I-65269)/2]):(E+=a.AlefTable[(I-65269)/2],E+="\u0644",J+
1<C.length&&A&&" "===G[J+1]?J++:K=!0),K&&(t(h,J,!0,1),f.splice(J,0,f[J]))):E+=a.FETo06Table[I-65136]):E+=G[J];this.sourceToTarget=f;this.targetToSource=h;this.levels=v;return E};z._inputFormatSetter=function(A){if(!D.test(A))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=A};z._outputFormatSetter=function(A){if(!D.test(A))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=A};z.checkParameters=function(A,C){A?this._inputFormatSetter(A):
A=this.inputFormat;C?this._outputFormatSetter(C):C=this.outputFormat;return A===C?!1:!0};z.checkContextual=function(A){A=c(A);if("ltr"!==A&&"rtl"!==A){try{A=document.dir.toLowerCase()}catch(C){}"ltr"!==A&&"rtl"!==A&&(A="ltr")}return A};z.hasBidiChar=function(A){return x.test(A)};return y}()})},"esri/core/bidiEngineTables":function(){define(["exports"],function(a){a.AlefTable=["\u0622","\u0623","\u0625","\u0627"];a.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];a.ArabicAlefBetIntervalsEnd=["\u063a",
"\u064a"];a.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");a.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
a.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");a.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");
a.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");a.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];a.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];a.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");
a.PrimaryTable=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107];a.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");a.SwapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59",
"\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];a.TBBASE=100;a.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");a.UBAT_AL=7;a.UBAT_AN=3;a.UBAT_B=5;a.UBAT_BN=18;a.UBAT_CS=9;a.UBAT_EN=2;a.UBAT_ES=10;a.UBAT_ET=11;a.UBAT_L=0;a.UBAT_LRE=13;a.UBAT_LRO=16;a.UBAT_NSM=12;a.UBAT_ON=
4;a.UBAT_PDF=15;a.UBAT_R=1;a.UBAT_RLE=14;a.UBAT_RLO=17;a.UBAT_S=6;a.UBAT_WS=8;a.UnicodeTable=[[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,
4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,1,12,1,12,12,1,12,12,1,12,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,11,11,7,9,7,4,4,12,12,12,12,12,12,12,12,12,12,12,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,3,3,3,3,3,3,3,3,3,3,11,3,3,7,7,7,12,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,3,4,12,12,12,12,12,12,7,7,12,12,4,12,12,12,12,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,12,12,12,12,12,12,12,12,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,18,18,18,18,18,4,4,4,4,4,18,18,18,18,18,18,2,0,4,4,2,2,2,2,2,2,10,10,4,4,4,0,2,2,2,2,2,2,2,2,2,2,10,10,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,
4,4,0,0,0,0,0,4,4,4,4,4,1,12,1,1,1,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,11,4,4,10,10,4,4,4,4,4,11,11,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,4,4,18],[4,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,11,11,4,4,4,11,11,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];a.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];a.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../symbols/cim/enums ../enums ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q){let m=function(){function y(A,C,B,E){this.type=A;this.typeName=C.type;this.id=C.id;this.source=C.source;this.sourceLayer=C["source-layer"];this.minzoom=C.minzoom;this.maxzoom=C.maxzoom;this.filter=C.filter;this.layout=C.layout;this.paint=C.paint;this.z=B;this.uid=E;switch(A){case g.StyleLayerType.BACKGROUND:this._layoutDefinition=g.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=g.StyleDefinition.backgroundPaintDefinition;break;case g.StyleLayerType.FILL:this._layoutDefinition=
g.StyleDefinition.fillLayoutDefinition;this._paintDefinition=g.StyleDefinition.fillPaintDefinition;break;case g.StyleLayerType.LINE:this._layoutDefinition=g.StyleDefinition.lineLayoutDefinition;this._paintDefinition=g.StyleDefinition.linePaintDefinition;break;case g.StyleLayerType.SYMBOL:this._layoutDefinition=g.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=g.StyleDefinition.symbolPaintDefinition;break;case g.StyleLayerType.CIRCLE:this._layoutDefinition=g.StyleDefinition.circleLayoutDefinition,
this._paintDefinition=g.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}var z=y.prototype;z.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=k.createFilter(this.filter)};z.getLayoutProperty=function(A){return this._layoutProperties[A]};z.getPaintProperty=function(A){return this._paintProperties[A]};z.getLayoutValue=function(A,C,B){let E;const G=this._layoutProperties[A];
G&&(E=G.getValue(C,B));void 0===E&&(E=this._layoutDefinition[A]["default"]);return E};z.getPaintValue=function(A,C,B){let E;const G=this._paintProperties[A];G&&(E=G.getValue(C,B));void 0===E&&(E=this._paintDefinition[A]["default"]);return E};z.isPainterDataDriven=function(){const A=this._paintProperties;if(A)for(const C in A)if(A[C].isDataDriven)return!0;return!1};z._parseLayout=function(A){const C={};for(const B in A){const E=this._layoutDefinition[B];E&&(C[B]=new l(E,A[B]))}return C};z._parsePaint=
function(A){const C={};for(const B in A){const E=this._paintDefinition[B];E&&(C[B]=new l(E,A[B]))}return C};z.computeAttributesKey=function(A,C,B,E){let G=0,J=0;for(const K of C){C=3;if(!K||K!==E){const {isLayout:F,isOptional:H}=B[K];C=F?this.getLayoutProperty(K):this.getPaintProperty(K);C=null!=C&&C.interpolator?2:null!=C&&C.isDataDriven?1:H&&!C?3:0}J|=C<<G;G+=2}return J<<3|A};return y}(),t=function(y){function z(A,C,B,E){A=y.call(this,A,C,B,E)||this;A.backgroundMaterial=new d.VTLBackgroundMaterial(A.computeAttributesKey(e.ShaderProgramType.BACKGROUND,
d.VTLBackgroundMaterial.ATTRIBUTES,d.VTLBackgroundMaterial.ATTRIBUTES_INFO));return A}b._inheritsLoose(z,y);return z}(m),f=function(y){function z(A,C,B,E){A=y.call(this,A,C,B,E)||this;C=A.getPaintProperty("fill-color");B=A.getPaintProperty("fill-opacity");E=A.getPaintProperty("fill-pattern");A.hasDataDrivenColor=null==C?void 0:C.isDataDriven;A.hasDataDrivenOpacity=null==B?void 0:B.isDataDriven;A.hasDataDrivenFill=A.hasDataDrivenColor||A.hasDataDrivenOpacity||(null==E?void 0:E.isDataDriven);B=A.getPaintProperty("fill-outline-color");
A.outlineUsesFillColor=!B;A.hasDataDrivenOutlineColor=null==B?void 0:B.isDataDriven;A.hasDataDrivenOutline=B?B.isDataDriven:C?C.isDataDriven:!1;A.hasDataDrivenOutline=(B?A.hasDataDrivenOutlineColor:A.hasDataDrivenColor)||A.hasDataDrivenOpacity;A.fillMaterial=new r.VTLFillMaterial(A.computeAttributesKey(e.ShaderProgramType.FILL,r.VTLFillMaterial.ATTRIBUTES,r.VTLFillMaterial.ATTRIBUTES_INFO));A.outlineMaterial=new r.VTLOutlineMaterial(A.computeAttributesKey(e.ShaderProgramType.OUTLINE,A.outlineUsesFillColor?
r.VTLOutlineMaterial.ATTRIBUTES_FILL:r.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,A.outlineUsesFillColor?r.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:r.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),A.outlineUsesFillColor);return A}b._inheritsLoose(z,y);return z}(m),h=function(y){function z(A,C,B,E){var G,J,K,F,H,I,L,Q,Z;A=y.call(this,A,C,B,E)||this;C=A.getPaintProperty("line-pattern");A.lineMaterial=new u.VTLLineMaterial(A.computeAttributesKey(e.ShaderProgramType.LINE,u.VTLLineMaterial.ATTRIBUTES,u.VTLLineMaterial.ATTRIBUTES_INFO,
C?"line-dasharray":""));A.hasDataDrivenLine=(null==(G=A.getPaintProperty("line-blur"))?void 0:G.isDataDriven)||(null==(J=A.getPaintProperty("line-color"))?void 0:J.isDataDriven)||(null==(K=A.getPaintProperty("line-gap-width"))?void 0:K.isDataDriven)||(null==(F=A.getPaintProperty("line-offset"))?void 0:F.isDataDriven)||(null==(H=A.getPaintProperty("line-opacity"))?void 0:H.isDataDriven)||(null==(I=A.getPaintProperty("line-pattern"))?void 0:I.isDataDriven)||(null==(L=A.getPaintProperty("line-dasharray"))?
void 0:L.isDataDriven)||(null==(Q=A.getLayoutProperty("line-cap"))?void 0:Q.isDataDriven)||(null==(Z=A.getPaintProperty("line-width"))?void 0:Z.isDataDriven);A.canUseThinTessellation=!1;!A.hasDataDrivenLine&&(G=A.getPaintProperty("line-width"),!G||"number"===typeof G&&.5*G<q.THIN_LINE_HALF_WIDTH_THRESHOLD)&&(G=A.getPaintProperty("line-offset"),!G||"number"===typeof G&&0===G)&&(A.canUseThinTessellation=!0);return A}b._inheritsLoose(z,y);z.prototype.getDashKey=function(A,C){switch(C){case c.CapType.BUTT:C=
"Butt";break;case c.CapType.ROUND:C="Round";break;case c.CapType.SQUARE:C="Square";break;default:C="Butt"}return`dasharray-[${A.toString()}]-${C}`};return z}(m),v=function(y){function z(A,C,B,E){var G,J,K,F,H,I,L,Q,Z,ca,aa,O;A=y.call(this,A,C,B,E)||this;A.iconMaterial=new n.VTLIconMaterial(A.computeAttributesKey(e.ShaderProgramType.ICON,n.VTLIconMaterial.ATTRIBUTES,n.VTLIconMaterial.ATTRIBUTES_INFO));A.textMaterial=new n.VTLTextMaterial(A.computeAttributesKey(e.ShaderProgramType.TEXT,n.VTLTextMaterial.ATTRIBUTES,
n.VTLTextMaterial.ATTRIBUTES_INFO));A.hasDataDrivenIcon=(null==(G=A.getPaintProperty("icon-color"))?void 0:G.isDataDriven)||(null==(J=A.getPaintProperty("icon-halo-blur"))?void 0:J.isDataDriven)||(null==(K=A.getPaintProperty("icon-halo-color"))?void 0:K.isDataDriven)||(null==(F=A.getPaintProperty("icon-halo-width"))?void 0:F.isDataDriven)||(null==(H=A.getPaintProperty("icon-opacity"))?void 0:H.isDataDriven)||(null==(I=A.getLayoutProperty("icon-size"))?void 0:I.isDataDriven);A.hasDataDrivenText=(null==
(L=A.getPaintProperty("text-color"))?void 0:L.isDataDriven)||(null==(Q=A.getPaintProperty("text-halo-blur"))?void 0:Q.isDataDriven)||(null==(Z=A.getPaintProperty("text-halo-color"))?void 0:Z.isDataDriven)||(null==(ca=A.getPaintProperty("text-halo-width"))?void 0:ca.isDataDriven)||(null==(aa=A.getPaintProperty("text-opacity"))?void 0:aa.isDataDriven)||(null==(O=A.getLayoutProperty("text-size"))?void 0:O.isDataDriven);return A}b._inheritsLoose(z,y);return z}(m),w=function(y){function z(A,C,B,E){A=y.call(this,
A,C,B,E)||this;A.circleMaterial=new p.VTLCircleMaterial(A.computeAttributesKey(e.ShaderProgramType.CIRCLE,p.VTLCircleMaterial.ATTRIBUTES,p.VTLCircleMaterial.ATTRIBUTES_INFO));return A}b._inheritsLoose(z,y);return z}(m),D=function(){function y(z,A,C){var B,E,G,J,K;this.allowOverlap=z.getLayoutValue("icon-allow-overlap",A);this.ignorePlacement=z.getLayoutValue("icon-ignore-placement",A);this.keepUpright=z.getLayoutValue("icon-keep-upright",A);this.optional=z.getLayoutValue("icon-optional",A);this.rotationAlignment=
z.getLayoutValue("icon-rotation-alignment",A);this.rotationAlignment===g.RotationAlignment.AUTO&&(this.rotationAlignment=C?g.RotationAlignment.MAP:g.RotationAlignment.VIEWPORT);C=z.getLayoutProperty("icon-anchor");null!=(B=C)&&B.isDataDriven?this._anchorProp=C:this.anchor=z.getLayoutValue("icon-anchor",A);C=z.getLayoutProperty("icon-offset");null!=(E=C)&&E.isDataDriven?this._offsetProp=C:this.offset=z.getLayoutValue("icon-offset",A);C=z.getLayoutProperty("icon-padding");null!=(G=C)&&G.isDataDriven?
this._paddingProp=C:this.padding=z.getLayoutValue("icon-padding",A);C=z.getLayoutProperty("icon-rotate");null!=(J=C)&&J.isDataDriven?this._rotateProp=C:this.rotate=z.getLayoutValue("icon-rotate",A);C=z.getLayoutProperty("icon-size");null!=(K=C)&&K.isDataDriven?this._sizeProp=C:this.size=z.getLayoutValue("icon-size",A)}y.prototype.update=function(z,A){this._anchorProp&&(this.anchor=this._anchorProp.getValue(z,A));this._offsetProp&&(this.offset=this._offsetProp.getValue(z,A));this._paddingProp&&(this.padding=
this._paddingProp.getValue(z,A));this._rotateProp&&(this.rotate=this._rotateProp.getValue(z,A));this._sizeProp&&(this.size=this._sizeProp.getValue(z,A))};return y}(),x=function(){function y(z,A,C){var B,E,G,J,K,F,H,I,L,Q,Z;this.allowOverlap=z.getLayoutValue("text-allow-overlap",A);this.ignorePlacement=z.getLayoutValue("text-ignore-placement",A);this.keepUpright=z.getLayoutValue("text-keep-upright",A);this.optional=z.getLayoutValue("text-optional",A);this.rotationAlignment=z.getLayoutValue("text-rotation-alignment",
A);this.rotationAlignment===g.RotationAlignment.AUTO&&(this.rotationAlignment=C?g.RotationAlignment.MAP:g.RotationAlignment.VIEWPORT);C=z.getLayoutProperty("text-anchor");null!=(B=C)&&B.isDataDriven?this._anchorProp=C:this.anchor=z.getLayoutValue("text-anchor",A);C=z.getLayoutProperty("text-justify");null!=(E=C)&&E.isDataDriven?this._justifyProp=C:this.justify=z.getLayoutValue("text-justify",A);C=z.getLayoutProperty("text-letter-spacing");null!=(G=C)&&G.isDataDriven?this._letterSpacingProp=C:this.letterSpacing=
z.getLayoutValue("text-letter-spacing",A);C=z.getLayoutProperty("text-line-height");null!=(J=C)&&J.isDataDriven?this._lineHeightProp=C:this.lineHeight=z.getLayoutValue("text-line-height",A);C=z.getLayoutProperty("text-max-angle");null!=(K=C)&&K.isDataDriven?this._maxAngleProp=C:this.maxAngle=z.getLayoutValue("text-max-angle",A);C=z.getLayoutProperty("text-max-width");null!=(F=C)&&F.isDataDriven?this._maxWidthProp=C:this.maxWidth=z.getLayoutValue("text-max-width",A);C=z.getLayoutProperty("text-offset");
null!=(H=C)&&H.isDataDriven?this._offsetProp=C:this.offset=z.getLayoutValue("text-offset",A);C=z.getLayoutProperty("text-padding");null!=(I=C)&&I.isDataDriven?this._paddingProp=C:this.padding=z.getLayoutValue("text-padding",A);C=z.getLayoutProperty("text-rotate");null!=(L=C)&&L.isDataDriven?this._rotateProp=C:this.rotate=z.getLayoutValue("text-rotate",A);C=z.getLayoutProperty("text-size");null!=(Q=C)&&Q.isDataDriven?this._sizeProp=C:this.size=z.getLayoutValue("text-size",A);C=z.getLayoutProperty("text-writing-mode");
null!=(Z=C)&&Z.isDataDriven?this._writingModeProp=C:this.writingMode=z.getLayoutValue("text-writing-mode",A)}y.prototype.update=function(z,A){this._anchorProp&&(this.anchor=this._anchorProp.getValue(z,A));this._justifyProp&&(this.justify=this._justifyProp.getValue(z,A));this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(z,A));this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(z,A));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(z,A));this._maxWidthProp&&
(this.maxWidth=this._maxWidthProp.getValue(z,A));this._offsetProp&&(this.offset=this._offsetProp.getValue(z,A));this._paddingProp&&(this.padding=this._paddingProp.getValue(z,A));this._rotateProp&&(this.rotate=this._rotateProp.getValue(z,A));this._sizeProp&&(this.size=this._sizeProp.getValue(z,A));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(z,A))};return y}();a.BackgroundStyleLayer=t;a.CircleStyleLayer=w;a.FillStyleLayer=f;a.IconLayout=D;a.LineStyleLayer=h;a.StyleLayer=
m;a.SymbolStyleLayer=v;a.TextLayout=x;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(a,b,c,e,d){c=function(p){function r(n){return p.call(this,n)||this}b._inheritsLoose(r,p);var u=r.prototype;u.geometryInfo=function(){return r.GEOMETRY_LAYOUT};
u.opacityInfo=function(){return null};u.attributes=function(){return r.ATTRIBUTES};u.attributesInfo=function(){return r.ATTRIBUTES_INFO};return r}(c.VTLMaterial);c.ATTRIBUTES=[];c.GEOMETRY_LAYOUT=[new d.VertexElementDescriptor("a_pos",2,e.DataType.BYTE,0,2)];c.ATTRIBUTES_INFO={};a.VTLBackgroundMaterial=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../MemoryBuffer ./enums ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(a,b,c,e,d,p,r){let u=function(){function g(q){this._locations=new Map;this._key=q}var l=g.prototype;l.defines=function(){return[]};l.getStride=function(){this._layoutInfo||this._buildAttributesInfo();return this._stride};l.getAttributeLocations=function(){0===this._locations.size&&this._buildAttributesInfo();return this._locations};l.getLayoutInfo=function(){this._layoutInfo||this._buildAttributesInfo();return this._layoutInfo};l.getEncodingInfos=function(){this._propertyEncodingInfo||this._buildAttributesInfo();
return this._propertyEncodingInfo};l.getUniforms=function(){this._uniforms||this._buildAttributesInfo();return this._uniforms};l.getShaderHeader=function(){this._shaderHeader||this._buildAttributesInfo();return this._shaderHeader};l.getShaderMain=function(){this._shaderMain||this._buildAttributesInfo();return this._shaderMain};l.setDataUniforms=function(q,m,t,f,h){var v=this.getUniforms();for(const w of v){const {name:D,type:x,getValue:y}=w;v=y(t,m,f,h);if(null!==v)switch(x){case "float":q.setUniform1f(D,
v);break;case "vec2":q.setUniform2fv(D,v);break;case "vec4":q.setUniform4fv(D,v)}}};l.encodeAttributes=function(q,m,t,f){const h=this.attributesInfo(),v=this.getEncodingInfos(),w=[];let D=0,x=0;for(const A of Object.keys(v)){var y,z=v[A];const {type:C,precisionFactor:B,isLayout:E}=h[A],G=E?t.getLayoutProperty(A):t.getPaintProperty(A),J=null==(y=G.interpolator)?void 0:y.getInterpolationRange(m);let K=0;for(const F of z){const {offset:H,bufferElementsToAdd:I}=F;if(0<I){for(z=0;z<I;z++)w.push(0);D+=
x;x=F.bufferElementsToAdd}z=null!=f?f:G.getValue(J?J[K]:m,q);switch(C){case d.EncodingType.R8_SIGNED:case d.EncodingType.R8_UNSIGNED:w[D]|=this._encodeByte(z*(B||1),8*H);break;case d.EncodingType.R16_SIGNED:case d.EncodingType.R16_UNSIGNED:w[D]|=this._encodeShort(z*(B||1),8*H);break;case d.EncodingType.R8G8_SIGNED:case d.EncodingType.R8G8_UNSIGNED:w[D]|=this._encodeByte(z*(B||1),8*H);w[D]|=this._encodeByte(z*(B||1),8*H+8);break;case d.EncodingType.R16G16_SIGNED:case d.EncodingType.R16G16_UNSIGNED:w[D]|=
this._encodeShort(z*(B||1),8*H);w[D]|=this._encodeShort(z*(B||1),8*H+16);break;case d.EncodingType.R8G8B8A8_SIGNED:case d.EncodingType.R8G8B8A8_UNSIGNED:w[D]|=this._encodeByte(z*(B||1),8*H);w[D]|=this._encodeByte(z*(B||1),8*H+8);w[D]|=this._encodeByte(z*(B||1),8*H+16);w[D]|=this._encodeByte(z*(B||1),8*H+24);break;case d.EncodingType.R8G8B8A8_COLOR:w[D]=this._encodeColor(z);break;case d.EncodingType.R16G16B16A16_DASHARRAY:case d.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(D,w,z);break;default:throw Error("Unsupported encoding type");
}K++}}return w};l.getAtributeState=function(q){const m=3+2*q;q=0|this._bit(m);return q|=this._bit(m+1)<<1};l._buildAttributesInfo=function(){const q=[],m={};var t={},f=-1;const h=this.attributesInfo();var v=this.attributes();let w=-1;for(const z of v){w++;v=this.getAtributeState(w);if(v===d.AttributeStatus.UNIFORM||v===d.AttributeStatus.UNUSED)continue;var D=h[z];const A=[];m[z]=A;D=D.type;for(let C=0;C<v;C++){const {dataType:B,bytesPerElement:E,count:G,normalized:J}=g._encodingInfo[D],K=E*G;var x=
`${B}-${!0===J}`;let F=t[x],H=0;!F||4<F.count+G?(f++,F={dataIndex:f,count:0,offset:0},4!==G&&(t[x]=F),q.push({location:-1,name:"a_data_"+f,count:G,type:B,normalized:J}),H=Math.ceil(Math.max(K/4,1))):(x=q[F.dataIndex],x.count+=G,H=Math.ceil(Math.max(x.count*E/4,1))-Math.ceil(Math.max(F.offset/4,1)));A.push({dataIndex:F.dataIndex,offset:F.offset,bufferElementsToAdd:H});F.offset+=K;F.count+=G}}for(const z of q)switch(z.type){case p.DataType.BYTE:case p.DataType.UNSIGNED_BYTE:z.count=4;break;case p.DataType.SHORT:case p.DataType.UNSIGNED_SHORT:z.count+=
z.count%2}this._buildVertexBufferLayout(q);t=0;f=this._layoutInfo.geometry;for(var y of f)this._locations.set(y.name,t++);if(y=this._layoutInfo.opacity)for(const z of y)this._locations.set(z.name,t++);this._buildShaderInfo(q,m);this._propertyEncodingInfo=m};l._buildVertexBufferLayout=function(q){const m={},t=this.geometryInfo();let f=t[0].stride;if(0===q.length)m.geometry=t;else{const h=[];let v=f;for(const w of q)f+=n(w.type)*w.count;for(const w of t)h.push(new r.VertexElementDescriptor(w.name,w.count,
w.type,w.offset,f,w.normalized));for(const w of q)h.push(new r.VertexElementDescriptor(w.name,w.count,w.type,v,f,w.normalized)),v+=n(w.type)*w.count;m.geometry=h}this.opacityInfo()&&(m.opacity=this.opacityInfo());this._layoutInfo=m;this._stride=f};l._buildShaderInfo=function(q,m){let t="\n",f="\n";const h=[];for(var v of q)t+=`attribute ${this._getType(v.count)} ${v.name};\n`;var w=this.attributes();q=this.attributesInfo();v=-1;for(const y of w){v++;const {name:z,type:A,precisionFactor:C,isLayout:B}=
q[y];w=C&&1!==C?` * ${1/C}`:"";const {bytesPerElement:E,count:G}=g._encodingInfo[A];var D=J=>`a_data_${J.dataIndex}${k(G,J.offset,E)}`;switch(this.getAtributeState(v)){case d.AttributeStatus.UNIFORM:w=this._getType(G);var x=`u_${z}`;h.push({name:x,type:w,getValue:(J,K,F,H)=>{F=B?J.getLayoutValue(y,K):J.getPaintValue(y,K);if(A===d.EncodingType.R16G16B16A16_DASHARRAY){J=J.getDashKey(F,J.getLayoutValue("line-cap",K));H=H.getMosaicItemPosition(J,!1);if(c.isNone(H))return null;const {tl:I,br:L}=H;return[I[0],
L[1],L[0],I[1]]}if(A===d.EncodingType.R16G16B16A16_PATTERN){H=H.getMosaicItemPosition(F,!y.includes("line-"));if(c.isNone(H))return null;const {tl:I,br:L}=H;return[I[0],L[1],L[0],I[1]]}return A===d.EncodingType.R8G8B8A8_COLOR?(H=F[3],[H*F[0],H*F[1],H*F[2],H]):F}});t+=`uniform ${w} ${x};\n`;f+=`${w} ${z} = ${x};\n`;break;case d.AttributeStatus.DATA_DRIVEN:x=D(m[y][0]);f+=`${this._getType(G)} ${z} = ${x}${w};\n`;break;case d.AttributeStatus.INTERPOLATED_DATA_DRIVEN:{x=`u_t_${z}`;h.push({name:x,type:"float",
getValue:(K,F,H,I)=>(B?K.getLayoutProperty(y):K.getPaintProperty(y)).interpolator.interpolationUniformValue(H,F)});t+=`uniform float ${x};\n`;const J=D(m[y][0]);D=D(m[y][1]);f+=`${this._getType(G)} ${z} = mix(${J}${w}, ${D}${w}, ${x});\n`}}}this._shaderHeader=t;this._shaderMain=f;this._uniforms=h};l._bit=function(q){return(this._key&1<<q)>>q};l._getType=function(q){switch(q){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw Error("Invalid count");};l._encodeColor=
function(q){const m=255*q[3];return e.i8888to32(q[0]*m,q[1]*m,q[2]*m,m)};l._encodePattern=function(q,m,t){if(t&&t.rect){var f=t.rect,h=t.width;t=t.height;m[q]=this._encodeShort(f.x+2,0);m[q]|=this._encodeShort(f.y+2+t,16);m[q+1]=this._encodeShort(f.x+2+h,0);m[q+1]|=this._encodeShort(f.y+2,16)}};l._encodeByte=function(q,m){return(q&255)<<m};l._encodeShort=function(q,m){return(q&65535)<<m};b._createClass(g,[{key:"key",get:function(){return this._key}},{key:"type",get:function(){return this._key&7}}]);
return g}();u._encodingInfo={[d.EncodingType.R8_SIGNED]:{dataType:p.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},[d.EncodingType.R8_UNSIGNED]:{dataType:p.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[d.EncodingType.R16_SIGNED]:{dataType:p.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1},[d.EncodingType.R16_UNSIGNED]:{dataType:p.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[d.EncodingType.R8G8_SIGNED]:{dataType:p.DataType.BYTE,bytesPerElement:1,
count:2,normalized:!1},[d.EncodingType.R8G8_UNSIGNED]:{dataType:p.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[d.EncodingType.R16G16_SIGNED]:{dataType:p.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1},[d.EncodingType.R16G16_UNSIGNED]:{dataType:p.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[d.EncodingType.R8G8B8A8_SIGNED]:{dataType:p.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},[d.EncodingType.R8G8B8A8_UNSIGNED]:{dataType:p.DataType.UNSIGNED_BYTE,
bytesPerElement:1,count:4,normalized:!1},[d.EncodingType.R8G8B8A8_COLOR]:{dataType:p.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[d.EncodingType.R16G16B16A16_DASHARRAY]:{dataType:p.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[d.EncodingType.R16G16B16A16_PATTERN]:{dataType:p.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const n=g=>{switch(g){case p.DataType.FLOAT:return 4;case p.DataType.INT:return 4;case p.DataType.UNSIGNED_INT:return 4;
case p.DataType.SHORT:return 2;case p.DataType.UNSIGNED_SHORT:return 2;case p.DataType.BYTE:return 1;case p.DataType.UNSIGNED_BYTE:return 1}},k=(g,l,q)=>{l/=q;if(1===g)switch(l){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===g)switch(l){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===g)switch(l){case 0:return".xyz";case 1:return".yzw"}return""};a.VTLMaterial=u;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/2d/engine/vectorTiles/shaders/enums":function(){define(["exports"],function(a){a.EncodingType=void 0;(function(b){b[b.R8_SIGNED=0]="R8_SIGNED";b[b.R8_UNSIGNED=1]="R8_UNSIGNED";b[b.R16_SIGNED=2]="R16_SIGNED";b[b.R16_UNSIGNED=3]="R16_UNSIGNED";b[b.R8G8_SIGNED=4]="R8G8_SIGNED";b[b.R8G8_UNSIGNED=5]="R8G8_UNSIGNED";b[b.R16G16_SIGNED=6]="R16G16_SIGNED";b[b.R16G16_UNSIGNED=7]="R16G16_UNSIGNED";b[b.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED";b[b.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED";b[b.R8G8B8A8_COLOR=
10]="R8G8B8A8_COLOR";b[b.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY";b[b.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(a.EncodingType||(a.EncodingType={}));a.AttributeStatus=void 0;(function(b){b[b.UNIFORM=0]="UNIFORM";b[b.DATA_DRIVEN=1]="DATA_DRIVEN";b[b.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN";b[b.UNUSED=3]="UNUSED"})(a.AttributeStatus||(a.AttributeStatus={}));Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/webgl/enums":function(){define(["exports"],
function(a){a.ClearBufferBit=void 0;(function(b){b[b.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT";b[b.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT";b[b.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"})(a.ClearBufferBit||(a.ClearBufferBit={}));a.PrimitiveType=void 0;(function(b){b[b.POINTS=0]="POINTS";b[b.LINES=1]="LINES";b[b.LINE_LOOP=2]="LINE_LOOP";b[b.LINE_STRIP=3]="LINE_STRIP";b[b.TRIANGLES=4]="TRIANGLES";b[b.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";b[b.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(a.PrimitiveType||(a.PrimitiveType=
{}));a.BlendFactor=void 0;(function(b){b[b.ZERO=0]="ZERO";b[b.ONE=1]="ONE";b[b.SRC_COLOR=768]="SRC_COLOR";b[b.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR";b[b.SRC_ALPHA=770]="SRC_ALPHA";b[b.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA";b[b.DST_ALPHA=772]="DST_ALPHA";b[b.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA";b[b.DST_COLOR=774]="DST_COLOR";b[b.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR";b[b.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE";b[b.CONSTANT_COLOR=32769]="CONSTANT_COLOR";b[b.ONE_MINUS_CONSTANT_COLOR=
32770]="ONE_MINUS_CONSTANT_COLOR";b[b.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA";b[b.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"})(a.BlendFactor||(a.BlendFactor={}));a.BlendOperation=void 0;(function(b){b[b.ADD=32774]="ADD";b[b.SUBTRACT=32778]="SUBTRACT";b[b.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"})(a.BlendOperation||(a.BlendOperation={}));a.BufferType=void 0;(function(b){b[b.ARRAY_BUFFER=34962]="ARRAY_BUFFER";b[b.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER";b[b.UNIFORM_BUFFER=
35345]="UNIFORM_BUFFER";b[b.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER";b[b.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER";b[b.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER";b[b.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"})(a.BufferType||(a.BufferType={}));a.Face=void 0;(function(b){b[b.FRONT=1028]="FRONT";b[b.BACK=1029]="BACK";b[b.FRONT_AND_BACK=1032]="FRONT_AND_BACK"})(a.Face||(a.Face={}));a.CullMode=void 0;(function(b){b[b.CW=2304]="CW";b[b.CCW=2305]="CCW"})(a.CullMode||(a.CullMode={}));a.DataType=
void 0;(function(b){b[b.BYTE=5120]="BYTE";b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";b[b.SHORT=5122]="SHORT";b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";b[b.INT=5124]="INT";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.FLOAT=5126]="FLOAT"})(a.DataType||(a.DataType={}));a.CompareFunction=void 0;(function(b){b[b.NEVER=512]="NEVER";b[b.LESS=513]="LESS";b[b.EQUAL=514]="EQUAL";b[b.LEQUAL=515]="LEQUAL";b[b.GREATER=516]="GREATER";b[b.NOTEQUAL=517]="NOTEQUAL";b[b.GEQUAL=518]="GEQUAL";b[b.ALWAYS=519]="ALWAYS"})(a.CompareFunction||
(a.CompareFunction={}));a.StencilOperation=void 0;(function(b){b[b.ZERO=0]="ZERO";b[b.KEEP=7680]="KEEP";b[b.REPLACE=7681]="REPLACE";b[b.INCR=7682]="INCR";b[b.DECR=7683]="DECR";b[b.INVERT=5386]="INVERT";b[b.INCR_WRAP=34055]="INCR_WRAP";b[b.DECR_WRAP=34056]="DECR_WRAP"})(a.StencilOperation||(a.StencilOperation={}));a.TextureSamplingMode=void 0;(function(b){b[b.NEAREST=9728]="NEAREST";b[b.LINEAR=9729]="LINEAR";b[b.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST";b[b.LINEAR_MIPMAP_NEAREST=9985]=
"LINEAR_MIPMAP_NEAREST";b[b.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR";b[b.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(a.TextureSamplingMode||(a.TextureSamplingMode={}));a.TextureWrapMode=void 0;(function(b){b[b.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE";b[b.REPEAT=10497]="REPEAT";b[b.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(a.TextureWrapMode||(a.TextureWrapMode={}));a.TextureType=void 0;(function(b){b[b.TEXTURE_2D=3553]="TEXTURE_2D";b[b.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";b[b.TEXTURE_3D=
32879]="TEXTURE_3D";b[b.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";b[b.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";b[b.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";b[b.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";b[b.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";b[b.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z";b[b.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"})(a.TextureType||(a.TextureType=
{}));a.PixelFormat=void 0;(function(b){b[b.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL";b[b.ALPHA=6406]="ALPHA";b[b.RGB=6407]="RGB";b[b.RGBA=6408]="RGBA";b[b.LUMINANCE=6409]="LUMINANCE";b[b.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";b[b.RED=6403]="RED";b[b.RG=33319]="RG";b[b.RED_INTEGER=36244]="RED_INTEGER";b[b.RG_INTEGER=33320]="RG_INTEGER";b[b.RGB_INTEGER=36248]="RGB_INTEGER";b[b.RGBA_INTEGER=36249]="RGBA_INTEGER"})(a.PixelFormat||(a.PixelFormat={}));a.SizedPixelFormat=
void 0;(function(b){b[b.RGBA4=32854]="RGBA4";b[b.R16F=33325]="R16F";b[b.RG16F=33327]="RG16F";b[b.RGB32F=34837]="RGB32F";b[b.RGBA16F=34842]="RGBA16F";b[b.R32F=33326]="R32F";b[b.RG32F=33328]="RG32F";b[b.RGBA32F=34836]="RGBA32F";b[b.R11F_G11F_B10F=35898]="R11F_G11F_B10F";b[b.RGB8=32849]="RGB8";b[b.RGBA8=32856]="RGBA8";b[b.RGB5_A1=32855]="RGB5_A1";b[b.R8=33321]="R8";b[b.RG8=33323]="RG8";b[b.R8I=33329]="R8I";b[b.R8UI=33330]="R8UI";b[b.R16I=33331]="R16I";b[b.R16UI=33332]="R16UI";b[b.R32I=33333]="R32I";
b[b.R32UI=33334]="R32UI";b[b.RG8I=33335]="RG8I";b[b.RG8UI=33336]="RG8UI";b[b.RG16I=33337]="RG16I";b[b.RG16UI=33338]="RG16UI";b[b.RG32I=33339]="RG32I";b[b.RG32UI=33340]="RG32UI";b[b.RGB16F=34843]="RGB16F";b[b.RGB9_E5=35901]="RGB9_E5";b[b.SRGB8=35905]="SRGB8";b[b.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8";b[b.RGB565=36194]="RGB565";b[b.RGBA32UI=36208]="RGBA32UI";b[b.RGB32UI=36209]="RGB32UI";b[b.RGBA16UI=36214]="RGBA16UI";b[b.RGB16UI=36215]="RGB16UI";b[b.RGBA8UI=36220]="RGBA8UI";b[b.RGB8UI=36221]="RGB8UI";b[b.RGBA32I=
36226]="RGBA32I";b[b.RGB32I=36227]="RGB32I";b[b.RGBA16I=36232]="RGBA16I";b[b.RGB16I=36233]="RGB16I";b[b.RGBA8I=36238]="RGBA8I";b[b.RGB8I=36239]="RGB8I";b[b.R8_SNORM=36756]="R8_SNORM";b[b.RG8_SNORM=36757]="RG8_SNORM";b[b.RGB8_SNORM=36758]="RGB8_SNORM";b[b.RGBA8_SNORM=36759]="RGBA8_SNORM";b[b.RGB10_A2=32857]="RGB10_A2";b[b.RGB10_A2UI=36975]="RGB10_A2UI"})(a.SizedPixelFormat||(a.SizedPixelFormat={}));a.PixelType=void 0;(function(b){b[b.FLOAT=5126]="FLOAT";b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";b[b.UNSIGNED_INT_24_8=
34042]="UNSIGNED_INT_24_8";b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";b[b.BYTE=5120]="BYTE";b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";b[b.SHORT=5122]="SHORT";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.INT=5124]="INT";b[b.HALF_FLOAT=5131]="HALF_FLOAT";b[b.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV";b[b.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV";
b[b.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV";b[b.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"})(a.PixelType||(a.PixelType={}));a.RenderbufferFormat=void 0;(function(b){b[b.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16";b[b.STENCIL_INDEX8=36168]="STENCIL_INDEX8";b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL";b[b.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24";b[b.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F";b[b.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";b[b.DEPTH32F_STENCIL8=
36013]="DEPTH32F_STENCIL8"})(a.RenderbufferFormat||(a.RenderbufferFormat={}));a.Usage=void 0;(function(b){b[b.STATIC_DRAW=35044]="STATIC_DRAW";b[b.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW";b[b.STREAM_DRAW=35040]="STREAM_DRAW";b[b.STATIC_READ=35045]="STATIC_READ";b[b.DYNAMIC_READ=35049]="DYNAMIC_READ";b[b.STREAM_READ=35041]="STREAM_READ";b[b.STATIC_COPY=35046]="STATIC_COPY";b[b.DYNAMIC_COPY=35050]="DYNAMIC_COPY";b[b.STREAM_COPY=35042]="STREAM_COPY"})(a.Usage||(a.Usage={}));a.ShaderType=void 0;(function(b){b[b.FRAGMENT_SHADER=
35632]="FRAGMENT_SHADER";b[b.VERTEX_SHADER=35633]="VERTEX_SHADER"})(a.ShaderType||(a.ShaderType={}));a.FramebufferTarget=void 0;(function(b){b[b.FRAMEBUFFER=36160]="FRAMEBUFFER";b[b.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER";b[b.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"})(a.FramebufferTarget||(a.FramebufferTarget={}));a.TargetType=void 0;(function(b){b[b.TEXTURE=0]="TEXTURE";b[b.RENDER_BUFFER=1]="RENDER_BUFFER";b[b.CUBEMAP=2]="CUBEMAP"})(a.TargetType||(a.TargetType={}));a.DepthStencilTargetType=
void 0;(function(b){b[b.NONE=0]="NONE";b[b.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER";b[b.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER";b[b.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER";b[b.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"})(a.DepthStencilTargetType||(a.DepthStencilTargetType={}));a.ResourceType=void 0;(function(b){b[b.Texture=0]="Texture";b[b.BufferObject=1]="BufferObject";b[b.VertexArrayObject=2]="VertexArrayObject";b[b.Shader=3]="Shader";b[b.Program=4]="Program";
b[b.FramebufferObject=5]="FramebufferObject";b[b.Renderbuffer=6]="Renderbuffer";b[b.Sync=7]="Sync";b[b.COUNT=8]="COUNT"})(a.ResourceType||(a.ResourceType={}));a.ColorAttachment=void 0;(function(b){b[b.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0";b[b.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1";b[b.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2";b[b.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3";b[b.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4";b[b.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5";b[b.COLOR_ATTACHMENT6=
36070]="COLOR_ATTACHMENT6";b[b.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7";b[b.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8";b[b.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9";b[b.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10";b[b.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11";b[b.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12";b[b.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13";b[b.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14";b[b.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"})(a.ColorAttachment||
(a.ColorAttachment={}));a.CompressedTextureFormat=void 0;(function(b){b[b.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";b[b.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";b[b.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";b[b.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";b[b.COMPRESSED_RG11_EAC=37490]=
"COMPRESSED_RG11_EAC";b[b.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";b[b.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2";b[b.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";b[b.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";b[b.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";b[b.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC";b[b.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]=
"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(a.CompressedTextureFormat||(a.CompressedTextureFormat={}));a.UniformType=void 0;(function(b){b[b.FLOAT=5126]="FLOAT";b[b.FLOAT_VEC2=35664]="FLOAT_VEC2";b[b.FLOAT_VEC3=35665]="FLOAT_VEC3";b[b.FLOAT_VEC4=35666]="FLOAT_VEC4";b[b.INT=5124]="INT";b[b.INT_VEC2=35667]="INT_VEC2";b[b.INT_VEC3=35668]="INT_VEC3";b[b.INT_VEC4=35669]="INT_VEC4";b[b.BOOL=35670]="BOOL";b[b.BOOL_VEC2=35671]="BOOL_VEC2";b[b.BOOL_VEC3=35672]="BOOL_VEC3";b[b.BOOL_VEC4=35673]="BOOL_VEC4";b[b.FLOAT_MAT2=
35674]="FLOAT_MAT2";b[b.FLOAT_MAT3=35675]="FLOAT_MAT3";b[b.FLOAT_MAT4=35676]="FLOAT_MAT4";b[b.SAMPLER_2D=35678]="SAMPLER_2D";b[b.SAMPLER_CUBE=35680]="SAMPLER_CUBE";b[b.UNSIGNED_INT=5125]="UNSIGNED_INT";b[b.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2";b[b.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3";b[b.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4";b[b.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3";b[b.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4";b[b.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2";b[b.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4";
b[b.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2";b[b.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3";b[b.SAMPLER_3D=35679]="SAMPLER_3D";b[b.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW";b[b.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY";b[b.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW";b[b.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW";b[b.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D";b[b.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D";b[b.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE";b[b.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY";
b[b.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D";b[b.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D";b[b.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE";b[b.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"})(a.UniformType||(a.UniformType={}));a.SyncParameter=void 0;(function(b){b[b.OBJECT_TYPE=37138]="OBJECT_TYPE";b[b.SYNC_CONDITION=37139]="SYNC_CONDITION";b[b.SYNC_STATUS=37140]="SYNC_STATUS";b[b.SYNC_FLAGS=37141]="SYNC_FLAGS"})(a.SyncParameter||
(a.SyncParameter={}));a.SyncStatus=void 0;(function(b){b[b.UNSIGNALED=37144]="UNSIGNALED";b[b.SIGNALED=37145]="SIGNALED"})(a.SyncStatus||(a.SyncStatus={}));a.ClientWaitSyncStatus=void 0;(function(b){b[b.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED";b[b.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED";b[b.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED";b[b.WAIT_FAILED=37149]="WAIT_FAILED"})(a.ClientWaitSyncStatus||(a.ClientWaitSyncStatus={}));a.SyncCondition=void 0;(function(b){b[b.SYNC_GPU_COMMANDS_COMPLETE=
37143]="SYNC_GPU_COMMANDS_COMPLETE"})(a.SyncCondition||(a.SyncCondition={}));a.SyncFlag=void 0;(function(b){b[b.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"})(a.SyncFlag||(a.SyncFlag={}));a.BASE_TEXTURE_UNIT=33984;a.DepthStencilAttachment=33306;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports"],function(a){a.VertexElementDescriptor=function(b,c,e,d,p,r=!1,u=0){this.name=b;this.count=
c;this.type=e;this.offset=d;this.stride=p;this.normalized=r;this.divisor=u};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(a,b,c,e,d,p){e=function(r){function u(k){return r.call(this,k)||this}b._inheritsLoose(u,
r);var n=u.prototype;n.geometryInfo=function(){return u.GEOMETRY_LAYOUT};n.opacityInfo=function(){return null};n.attributes=function(){return u.ATTRIBUTES};n.attributesInfo=function(){return u.ATTRIBUTES_INFO};return u}(e.VTLMaterial);e.ATTRIBUTES="circle-radius circle-color circle-opacity circle-stroke-width circle-stroke-color circle-stroke-opacity circle-blur".split(" ");e.GEOMETRY_LAYOUT=[new p.VertexElementDescriptor("a_pos",2,d.DataType.SHORT,0,4)];e.ATTRIBUTES_INFO={"circle-radius":{name:"radius",
type:c.EncodingType.R8_UNSIGNED},"circle-color":{name:"color",type:c.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:c.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:c.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:c.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:c.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:c.EncodingType.R8_UNSIGNED,
precisionFactor:32}};a.VTLCircleMaterial=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(a,b,c,e,d,p){let r=function(u){function n(g){return u.call(this,g)||this}b._inheritsLoose(n,u);var k=n.prototype;k.geometryInfo=
function(){return n.GEOMETRY_LAYOUT};k.opacityInfo=function(){return null};k.attributes=function(){return n.ATTRIBUTES};k.attributesInfo=function(){return n.ATTRIBUTES_INFO};return n}(e.VTLMaterial);r.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"];r.GEOMETRY_LAYOUT=[new p.VertexElementDescriptor("a_pos",2,d.DataType.SHORT,0,4)];r.ATTRIBUTES_INFO={"fill-color":{name:"color",type:c.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:c.EncodingType.R8_UNSIGNED,precisionFactor:100},
"fill-pattern":{name:"tlbr",type:c.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}};e=function(u){function n(g,l){g=u.call(this,g)||this;g.usefillColor=l;return g}b._inheritsLoose(n,u);var k=n.prototype;k.geometryInfo=function(){return n.GEOMETRY_LAYOUT};k.opacityInfo=function(){return null};k.attributes=function(){return this.usefillColor?n.ATTRIBUTES_FILL:n.ATTRIBUTES_OUTLINE};k.attributesInfo=function(){return this.usefillColor?n.ATTRIBUTES_INFO_FILL:n.ATTRIBUTES_INFO_OUTLINE};return n}(e.VTLMaterial);
e.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"];e.ATTRIBUTES_FILL=["fill-color","fill-opacity"];e.GEOMETRY_LAYOUT=[new p.VertexElementDescriptor("a_pos",2,d.DataType.SHORT,0,8),new p.VertexElementDescriptor("a_offset",2,d.DataType.BYTE,4,8),new p.VertexElementDescriptor("a_xnormal",2,d.DataType.BYTE,6,8)];e.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:c.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:c.EncodingType.R8_UNSIGNED,precisionFactor:100}};
e.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:c.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:c.EncodingType.R8_UNSIGNED,precisionFactor:100}};a.VTLFillMaterial=r;a.VTLOutlineMaterial=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(a,b,c,e,d,p){e=function(r){function u(k){return r.call(this,k)||this}b._inheritsLoose(u,r);var n=u.prototype;n.geometryInfo=function(){return u.GEOMETRY_LAYOUT};n.opacityInfo=function(){return null};n.attributes=function(){return u.ATTRIBUTES};n.attributesInfo=function(){return u.ATTRIBUTES_INFO};return u}(e.VTLMaterial);e.ATTRIBUTES="line-blur line-color line-gap-width line-offset line-opacity line-width line-pattern line-dasharray".split(" ");e.GEOMETRY_LAYOUT=[new p.VertexElementDescriptor("a_pos",
2,d.DataType.SHORT,0,16),new p.VertexElementDescriptor("a_extrude_offset",4,d.DataType.BYTE,4,16),new p.VertexElementDescriptor("a_dir_normal",4,d.DataType.BYTE,8,16),new p.VertexElementDescriptor("a_accumulatedDistance",2,d.DataType.UNSIGNED_SHORT,12,16)];e.ATTRIBUTES_INFO={"line-width":{name:"width",type:c.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:c.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:c.EncodingType.R8_SIGNED,precisionFactor:2},
"line-color":{name:"color",type:c.EncodingType.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:c.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:c.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:c.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:c.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}};a.VTLLineMaterial=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(a,b,c,e,d,p){const r=[new p.VertexElementDescriptor("a_pos",2,d.DataType.SHORT,0,16),new p.VertexElementDescriptor("a_vertexOffset",2,d.DataType.SHORT,4,16),new p.VertexElementDescriptor("a_texAngleRange",4,d.DataType.UNSIGNED_BYTE,8,16),new p.VertexElementDescriptor("a_levelInfo",
4,d.DataType.UNSIGNED_BYTE,12,16)],u=[new p.VertexElementDescriptor("a_opacityInfo",1,d.DataType.UNSIGNED_BYTE,0,1)];d=function(n){function k(l){return n.call(this,l)||this}b._inheritsLoose(k,n);var g=k.prototype;g.geometryInfo=function(){return r};g.opacityInfo=function(){return u};g.attributes=function(){return k.ATTRIBUTES};g.attributesInfo=function(){return k.ATTRIBUTES_INFO};return k}(e.VTLMaterial);d.ATTRIBUTES="icon-color icon-opacity icon-halo-blur icon-halo-color icon-halo-width icon-size".split(" ");
d.ATTRIBUTES_INFO={"icon-color":{name:"color",type:c.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:c.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:c.EncodingType.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:c.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:c.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:c.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};
e=function(n){function k(l){return n.call(this,l)||this}b._inheritsLoose(k,n);var g=k.prototype;g.geometryInfo=function(){return r};g.opacityInfo=function(){return u};g.attributes=function(){return k.ATTRIBUTES};g.attributesInfo=function(){return k.ATTRIBUTES_INFO};return k}(e.VTLMaterial);e.ATTRIBUTES="text-color text-opacity text-halo-blur text-halo-color text-halo-width text-size".split(" ");e.ATTRIBUTES_INFO={"text-color":{name:"color",type:c.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",
type:c.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:c.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:c.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:c.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:c.EncodingType.R8_UNSIGNED,isLayout:!0}};a.VTLIconMaterial=d;a.VTLTextMaterial=e;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],function(a,b){return function(){function c(e){this._expression=e}c.prototype.filter=function(e,d){if(!this._expression)return!0;try{return this._expression.evaluate(e,d)}catch(p){return console.log(p.message),!0}};c.createFilter=function(e){if(!e)return null;this.isLegacyFilter(e)&&(e=this.convertLegacyFilter(e));try{const d=a.createExpression(e,null,b.BooleanType);return new c(d)}catch(d){return console.log(d.message),
null}};c.isLegacyFilter=function(e){if(!Array.isArray(e)||0===e.length)return!0;switch(e[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===e.length&&"string"===typeof e[1]&&!Array.isArray(e[2]);case "in":return 3<=e.length&&"string"===typeof e[1]&&!Array.isArray(e[2]);case "!in":return!0;case "any":case "all":for(let d=1;d<e.length;d++)if(this.isLegacyFilter(e[d]))return!0;return!1;case "none":return!0;case "has":return 2===e.length&&("$id"===e[1]||
"$type"===e[1]);case "!has":return!0;default:return!1}};c.convertLegacyFilter=function(e){if(!Array.isArray(e)||0===e.length)return!0;const d=e[0];if(1===e.length)return"any"!==d;switch(d){case "\x3d\x3d":return c.convertComparison("\x3d\x3d",e[1],e[2]);case "!\x3d":return c.negate(c.convertComparison("\x3d\x3d",e[1],e[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return c.convertComparison(d,e[1],e[2]);case "in":return c.convertIn(e[1],e.slice(2));case "!in":return c.negate(c.convertIn(e[1],
e.slice(2)));case "any":case "all":case "none":return c.convertCombining(d,e.slice(1));case "has":return c.convertHas(e[1]);case "!has":return c.negate(c.convertHas(e[1]));default:throw Error("Unexpected legacy filter.");}};c.convertComparison=function(e,d,p){switch(d){case "$type":return[e,["geometry-type"],p];case "$id":return[e,["id"],p];default:return[e,["get",d],p]}};c.convertIn=function(e,d){switch(e){case "$type":return["in",["geometry-type"],["literal",d]];case "$id":return["in",["id"],["literal",
d]];default:return["in",["get",e],["literal",d]]}};c.convertHas=function(e){switch(e){case "$type":return!0;case "$id":return["has-id"];default:return["has",e]}};c.convertCombining=function(e,d){return[e].concat(d.map(this.convertLegacyFilter))};c.negate=function(e){return["!",e]};return c}()})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/colorUtils ../../../unitBezier ../GeometryUtils ./types ../../webgl/Geometry".split(" "),
function(a,b,c,e,d,p,r,u){function n(P,T,W){var ja=typeof P;if("string"===ja||"boolean"===ja||"number"===ja||null===P){if(W)switch(W.kind){case "string":"string"!==ja&&(P=ra.toString(P));break;case "number":"number"!==ja&&(P=ra.toNumber(P));break;case "color":P=ra.toColor(P)}P=["literal",P]}if(!Array.isArray(P)||0===P.length)throw Error("Expression must be a non empty array");ja=P[0];if("string"!==typeof ja)throw Error("First element of expression must be a string");const va=U[ja];if(void 0===va)throw Error(`Invalid expression operator "${ja}"`);
if(!va)throw Error(`Unimplemented expression operator "${ja}"`);return va.parse(P,T,W)}let k=function(){function P(W){this.parent=W;this.vars={}}var T=P.prototype;T.add=function(W,ja){this.vars[W]=ja};T.get=function(W){return this.vars[W]?this.vars[W]:this.parent?this.parent.get(W):null};return P}(),g=function(){function P(){this.type=r.ValueType}P.parse=function(T){if(1<T.length)throw Error('"id" does not expect arguments');return new P};P.prototype.evaluate=function(T,W){return null==T?void 0:T.id};
return P}(),l=function(){function P(){this.type=r.StringType}P.parse=function(T){if(1<T.length)throw Error('"geometry-type" does not expect arguments');return new P};P.prototype.evaluate=function(T,W){if(!T)return null;switch(T.type){case u.GeometryType.Point:return"Point";case u.GeometryType.LineString:return"LineString";case u.GeometryType.Polygon:return"Polygon";default:return null}};return P}(),q=function(){function P(){this.type=r.ObjectType}P.parse=function(T){if(1<T.length)throw Error('"properties" does not expect arguments');
return new P};P.prototype.evaluate=function(T,W){return null==T?void 0:T.values};return P}(),m=function(){function P(){this.type=r.NumberType}P.parse=function(T){if(1<T.length)throw Error('"zoom" does not expect arguments');return new P};P.prototype.evaluate=function(T,W){return W};return P}(),t=function(){function P(T,W,ja){this.lhs=T;this.rhs=W;this.compare=ja;this.type=r.BooleanType}P.parse=function(T,W,ja){if(3!==T.length&&4!==T.length)throw Error(`"${T[0]}" expects 2 or 3 arguments`);if(4===
T.length)throw Error(`"${T[0]}" collator not supported`);return new P(n(T[1],W),n(T[2],W),ja)};P.prototype.evaluate=function(T,W){return this.compare(this.lhs.evaluate(T,W),this.rhs.evaluate(T,W))};return P}(),f=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){return t.parse(W,ja,(va,Ga)=>va===Ga)};return T}(t),h=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){return t.parse(W,ja,(va,
Ga)=>va!==Ga)};return T}(t),v=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){return t.parse(W,ja,(va,Ga)=>va<Ga)};return T}(t),w=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){return t.parse(W,ja,(va,Ga)=>va<=Ga)};return T}(t),D=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){return t.parse(W,ja,(va,Ga)=>va>Ga)};return T}(t),
x=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){return t.parse(W,ja,(va,Ga)=>va>=Ga)};return T}(t),y=function(){function P(T){this.arg=T;this.type=r.BooleanType}P.parse=function(T,W){if(2!==T.length)throw Error('"!" expects 1 argument');return new P(n(T[1],W))};P.prototype.evaluate=function(T,W){return!this.arg.evaluate(T,W)};return P}(),z=function(){function P(T){this.args=T;this.type=r.BooleanType}P.parse=function(T,W){const ja=[];for(let va=
1;va<T.length;va++)ja.push(n(T[va],W));return new P(ja)};P.prototype.evaluate=function(T,W){for(const ja of this.args)if(!ja.evaluate(T,W))return!1;return!0};return P}(),A=function(){function P(T){this.args=T;this.type=r.BooleanType}P.parse=function(T,W){const ja=[];for(let va=1;va<T.length;va++)ja.push(n(T[va],W));return new P(ja)};P.prototype.evaluate=function(T,W){for(const ja of this.args)if(ja.evaluate(T,W))return!0;return!1};return P}(),C=function(){function P(T){this.args=T;this.type=r.BooleanType}
P.parse=function(T,W){const ja=[];for(let va=1;va<T.length;va++)ja.push(n(T[va],W));return new P(ja)};P.prototype.evaluate=function(T,W){for(const ja of this.args)if(ja.evaluate(T,W))return!1;return!0};return P}(),B=function(){function P(T,W,ja){this.type=T;this.args=W;this.fallback=ja}P.parse=function(T,W,ja){if(4>T.length)throw Error('"case" expects at least 3 arguments');if(1===T.length%2)throw Error('"case" expects an odd number of arguments');let va;const Ga=[];for(let Oa=1;Oa<T.length-1;Oa+=
2){const ka=n(T[Oa],W),xa=n(T[Oa+1],W,ja);va||(va=xa.type);Ga.push({condition:ka,output:xa})}T=n(T[T.length-1],W,ja);va||(va=T.type);return new P(va,Ga,T)};P.prototype.evaluate=function(T,W){for(const ja of this.args)if(ja.condition.evaluate(T,W))return ja.output.evaluate(T,W);return this.fallback.evaluate(T,W)};return P}(),E=function(){function P(T,W){this.type=T;this.args=W}P.parse=function(T,W){if(2>T.length)throw Error('"coalesce" expects at least 1 argument');let ja;const va=[];for(let Ga=1;Ga<
T.length;Ga++){const Oa=n(T[Ga],W);ja||(ja=Oa.type);va.push(Oa)}return new P(ja,va)};P.prototype.evaluate=function(T,W){for(const ja of this.args){const va=ja.evaluate(T,W);if(null!==va)return va}return null};return P}(),G=function(){function P(T,W,ja,va,Ga){this.type=T;this.input=W;this.labels=ja;this.outputs=va;this.fallback=Ga}P.parse=function(T,W){if(3>T.length)throw Error('"match" expects at least 3 arguments');if(0===T.length%2)throw Error('"case" expects an even number of arguments');let ja;
const va=n(T[1],W),Ga=[],Oa={};let ka;for(let za=2;za<T.length-1;za+=2){var xa=T[za];Array.isArray(xa)||(xa=[xa]);for(const La of xa){xa=typeof La;if("string"!==xa&&"number"!==xa)throw Error('"match" requires string or number literal as labels');if(!ka)ka=xa;else if(xa!==ka)throw Error('"match" requires labels to have the same type');Oa[La]=Ga.length}xa=n(T[za+1],W);ja||(ja=xa.type);Ga.push(xa)}return new P(ja,va,Oa,Ga,n(T[T.length-1],W))};P.prototype.evaluate=function(T,W){const ja=this.input.evaluate(T,
W);return(this.outputs[this.labels[ja]]||this.fallback).evaluate(T,W)};return P}(),J=function(){function P(W,ja,va,Ga,Oa){this.operator=W;this.type=ja;this.interpolation=va;this.input=Ga;this.stops=Oa}P.parse=function(W,ja,va){const Ga=W[0];if(5>W.length)throw Error(`"${Ga}" expects at least 4 arguments`);const Oa=W[1];if(!Array.isArray(Oa)||0===Oa.length)throw Error(`"${Oa}" is not a valid interpolation`);switch(Oa[0]){case "linear":if(1!==Oa.length)throw Error("Linear interpolation cannot have parameters");
break;case "exponential":if(2!==Oa.length||"number"!==typeof Oa[1])throw Error("Exponential interpolation requires one numeric argument");break;case "cubic-bezier":if(5!==Oa.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var ka=1;5>ka;ka++){var xa=Oa[ka];if("number"!==typeof xa||0>xa||1<xa)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");}break;default:throw Error(`"${W[0]}" unknown interpolation type "${Oa[0]}"`);
}if(1!==W.length%2)throw Error(`"${Ga}" expects an even number of arguments`);ka=n(W[2],ja,r.NumberType);let za;"interpolate-hcl"===Ga||"interpolate-lab"===Ga?za=r.ColorType:va&&"value"!==va.kind&&(za=va);va=[];for(xa=3;xa<W.length;xa+=2){const La=W[xa];if("number"!==typeof La)throw Error(`"${Ga}" requires stop inputs as literal numbers`);if(va.length&&va[va.length-1][0]>=La)throw Error(`"${Ga}" requires strictly ascending stop inputs`);const Qa=n(W[xa+1],ja,za);za||(za=Qa.type);va.push([La,Qa])}if(za&&
za!==r.ColorType&&za!==r.NumberType&&("array"!==za.kind||za.itemType!==r.NumberType))throw Error(`"${Ga}" cannot interpolate type ${r.typeToString(za)}`);return new P(Ga,za,Oa,ka,va)};var T=P.prototype;T.evaluate=function(W,ja){var va=this.stops;if(1===va.length)return va[0][1].evaluate(W,ja);var Ga=this.input.evaluate(W,ja);if(Ga<=va[0][0])return va[0][1].evaluate(W,ja);if(Ga>=va[va.length-1][0])return va[va.length-1][1].evaluate(W,ja);let Oa=0;for(;++Oa<va.length&&!(Ga<va[Oa][0]););const ka=P.interpolationRatio(this.interpolation,
Ga,va[Oa-1][0],va[Oa][0]);Ga=va[Oa-1][1].evaluate(W,ja);const xa=va[Oa][1].evaluate(W,ja);if("interpolate"===this.operator){if("array"===this.type.kind&&Array.isArray(Ga)&&Array.isArray(xa))return Ga.map((za,La)=>p.interpolate(za,xa[La],ka));if("color"===this.type.kind&&Ga instanceof c&&xa instanceof c)return Ga=new c(Ga),W=new c(xa),new c([p.interpolate(Ga.r,W.r,ka),p.interpolate(Ga.g,W.g,ka),p.interpolate(Ga.b,W.b,ka),p.interpolate(Ga.a,W.a,ka)]);if("number"===this.type.kind&&"number"===typeof Ga&&
"number"===typeof xa)return p.interpolate(Ga,xa,ka);throw Error(`"${this.operator}" cannot interpolate type ${r.typeToString(this.type)}`);}if("interpolate-hcl"===this.operator)return W=e.toLCH(Ga),ja=e.toLCH(xa),va=ja.h-W.h,W=e.toRGB({h:W.h+ka*(180<va||-180>va?va-360*Math.round(va/360):va),c:p.interpolate(W.c,ja.c,ka),l:p.interpolate(W.l,ja.l,ka)}),new c({a:p.interpolate(Ga.a,xa.a,ka),...W});if("interpolate-lab"===this.operator)return W=e.toLAB(Ga),ja=e.toLAB(xa),W=e.toRGB({l:p.interpolate(W.l,ja.l,
ka),a:p.interpolate(W.a,ja.a,ka),b:p.interpolate(W.b,ja.b,ka)}),new c({a:p.interpolate(Ga.a,xa.a,ka),...W});throw Error(`Unexpected operator "${this.operator}"`);};T.interpolationUniformValue=function(W,ja){const va=this.stops;if(1===va.length||W>=va[va.length-1][0])return 0;let Ga=0;for(;++Ga<va.length&&!(W<va[Ga][0]););return P.interpolationRatio(this.interpolation,ja,va[Ga-1][0],va[Ga][0])};T.getInterpolationRange=function(W){const ja=this.stops;if(1===ja.length)return W=ja[0][0],[W,W];var va=
ja[ja.length-1][0];if(W>=va)return[va,va];for(va=0;++va<ja.length&&!(W<ja[va][0]););return[ja[va-1][0],ja[va][0]]};P.interpolationRatio=function(W,ja,va,Ga){let Oa=0;"linear"===W[0]?Oa=P._exponentialInterpolationRatio(ja,1,va,Ga):"exponential"===W[0]?Oa=P._exponentialInterpolationRatio(ja,W[1],va,Ga):"cubic-bezier"===W[0]&&(Oa=d.unitBezier(W[1],W[2],W[3],W[4])(P._exponentialInterpolationRatio(ja,1,va,Ga),1E-5));0>Oa?Oa=0:1<Oa&&(Oa=1);return Oa};P._exponentialInterpolationRatio=function(W,ja,va,Ga){Ga-=
va;if(0===Ga)return 0;W-=va;return 1===ja?W/Ga:(ja**W-1)/(ja**Ga-1)};return P}(),K=function(){function P(T,W,ja){this.type=T;this.input=W;this.stops=ja}P.parse=function(T,W){if(5>T.length)throw Error('"step" expects at least 4 arguments');if(1!==T.length%2)throw Error('"step" expects an even number of arguments');const ja=n(T[1],W,r.NumberType);let va;const Ga=[];Ga.push([-Infinity,n(T[2],W)]);for(let Oa=3;Oa<T.length;Oa+=2){const ka=T[Oa];if("number"!==typeof ka)throw Error('"step" requires stop inputs as literal numbers');
if(Ga.length&&Ga[Ga.length-1][0]>=ka)throw Error('"step" requires strictly ascending stop inputs');const xa=n(T[Oa+1],W);va||(va=xa.type);Ga.push([ka,xa])}return new P(va,ja,Ga)};P.prototype.evaluate=function(T,W){const ja=this.stops;if(1===ja.length)return ja[0][1].evaluate(T,W);const va=this.input.evaluate(T,W);let Ga=0;for(;++Ga<ja.length&&!(va<ja[Ga][0]););return this.stops[Ga-1][1].evaluate(T,W)};return P}(),F=function(){function P(T,W){this.type=T;this.output=W}P.parse=function(T,W,ja){if(4>
T.length)throw Error('"let" expects at least 3 arguments');if(1===T.length%2)throw Error('"let" expects an odd number of arguments');const va=new k(W);for(let Ga=1;Ga<T.length-1;Ga+=2){const Oa=T[Ga];if("string"!==typeof Oa)throw Error(`"let" requires a string to define variable names - found ${Oa}`);va.add(Oa,n(T[Ga+1],W))}T=n(T[T.length-1],va,ja);return new P(T.type,T)};P.prototype.evaluate=function(T,W){return this.output.evaluate(T,W)};return P}(),H=function(){function P(T,W){this.type=T;this.output=
W}P.parse=function(T,W,ja){if(2!==T.length||"string"!==typeof T[1])throw Error('"var" requires just one literal string argument');W=W.get(T[1]);if(!W)throw Error(`${T[1]} must be defined before being used in a "var" expression`);return new P(ja||r.ValueType,W)};P.prototype.evaluate=function(T,W){return this.output.evaluate(T,W)};return P}(),I=function(){function P(T,W,ja){this.type=T;this.index=W;this.array=ja}P.parse=function(T,W){if(3!==T.length)throw Error('"at" expects 2 arguments');const ja=
n(T[1],W,r.NumberType);T=n(T[2],W);return new P(T.type.itemType,ja,T)};P.prototype.evaluate=function(T,W){const ja=this.index.evaluate(T,W);T=this.array.evaluate(T,W);if(0>ja||ja>=T.length)throw Error('"at" index out of bounds');if(ja!==Math.floor(ja))throw Error('"at" index must be an integer');return T[ja]};return P}(),L=function(){function P(T,W){this.key=T;this.obj=W;this.type=r.ValueType}P.parse=function(T,W){let ja;switch(T.length){case 2:return ja=n(T[1],W),new P(ja);case 3:return ja=n(T[1],
W),T=n(T[2],W),new P(ja,T);default:throw Error('"get" expects 1 or 2 arguments');}};P.prototype.evaluate=function(T,W){const ja=this.key.evaluate(T,W);return this.obj?this.obj.evaluate(T,W)[ja]:null==T?void 0:T.values[ja]};return P}(),Q=function(){function P(T,W){this.key=T;this.obj=W;this.type=r.BooleanType}P.parse=function(T,W){let ja;switch(T.length){case 2:return ja=n(T[1],W),new P(ja);case 3:return ja=n(T[1],W),T=n(T[2],W),new P(ja,T);default:throw Error('"has" expects 1 or 2 arguments');}};
P.prototype.evaluate=function(T,W){const ja=this.key.evaluate(T,W);return this.obj?(T=this.obj.evaluate(T,W),ja in T):!(null==T||!T.values[ja])};return P}(),Z=function(){function P(T,W){this.key=T;this.vals=W;this.type=r.BooleanType}P.parse=function(T,W){if(3!==T.length)throw Error('"in" expects 2 arguments');return new P(n(T[1],W),n(T[2],W))};P.prototype.evaluate=function(T,W){const ja=this.key.evaluate(T,W);return this.vals.evaluate(T,W).includes(ja)};return P}(),ca=function(){function P(T,W,ja){this.item=
T;this.array=W;this.from=ja;this.type=r.NumberType}P.parse=function(T,W){if(3>T.length||4<T.length)throw Error('"index-of" expects 3 or 4 arguments');const ja=n(T[1],W),va=n(T[2],W);return 4===T.length?(T=n(T[3],W,r.NumberType),new P(ja,va,T)):new P(ja,va)};P.prototype.evaluate=function(T,W){const ja=this.item.evaluate(T,W),va=this.array.evaluate(T,W);if(this.from){T=this.from.evaluate(T,W);if(T!==Math.floor(T))throw Error('"index-of" index must be an integer');return va.indexOf(ja,T)}return va.indexOf(ja)};
return P}(),aa=function(){function P(T){this.arg=T;this.type=r.NumberType}P.parse=function(T,W){if(2!==T.length)throw Error('"length" expects 2 arguments');T=n(T[1],W);return new P(T)};P.prototype.evaluate=function(T,W){T=this.arg.evaluate(T,W);if("string"===typeof T||Array.isArray(T))return T.length;throw Error('"length" expects string or array');};return P}(),O=function(){function P(T,W,ja,va){this.type=T;this.array=W;this.from=ja;this.to=va}P.parse=function(T,W){if(3>T.length||4<T.length)throw Error('"slice" expects 2 or 3 arguments');
const ja=n(T[1],W),va=n(T[2],W,r.NumberType);if(va.type!==r.NumberType)throw Error('"slice" index must return a number');if(4===T.length){T=n(T[3],W,r.NumberType);if(T.type!==r.NumberType)throw Error('"slice" index must return a number');return new P(ja.type,ja,va,T)}return new P(ja.type,ja,va)};P.prototype.evaluate=function(T,W){const ja=this.array.evaluate(T,W);if(!Array.isArray(ja)&&"string"!==typeof ja)throw Error('"slice" input must be an array or a string');const va=this.from.evaluate(T,W);
if(0>va||va>=ja.length)throw Error('"slice" index out of bounds');if(va!==Math.floor(va))throw Error('"slice" index must be an integer');if(this.to){T=this.to.evaluate(T,W);if(0>T||T>=ja.length)throw Error('"slice" index out of bounds');if(T!==Math.floor(T))throw Error('"slice" index must be an integer');return ja.slice(va,T)}return ja.slice(va)};return P}(),fa=function(){function P(){this.type=r.BooleanType}P.parse=function(T){if(1!==T.length)throw Error('"has-id" expects no arguments');return new P};
P.prototype.evaluate=function(T,W){return T&&void 0!==T.id};return P}(),oa=function(){function P(T,W){this.args=T;this.calculate=W;this.type=r.NumberType}P.parse=function(T,W,ja){T=T.slice(1).map(va=>n(va,W));return new P(T,ja)};P.prototype.evaluate=function(T,W){let ja;this.args&&(ja=this.args.map(va=>va.evaluate(T,W)));return this.calculate(ja)};return P}(),Da=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){switch(W.length){case 2:return oa.parse(W,
ja,va=>-va[0]);case 3:return oa.parse(W,ja,va=>va[0]-va[1]);default:throw Error('"-" expects 1 or 2 arguments');}};return T}(oa),Ha=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){return oa.parse(W,ja,va=>{let Ga=1;for(const Oa of va)Ga*=Oa;return Ga})};return T}(oa),ta=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){if(3===W.length)return oa.parse(W,ja,va=>va[0]/va[1]);throw Error('"/" expects 2 arguments');
};return T}(oa),Y=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){if(3===W.length)return oa.parse(W,ja,va=>va[0]%va[1]);throw Error('"%" expects 2 arguments');};return T}(oa),pa=function(P){function T(){return P.apply(this,arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){if(3===W.length)return oa.parse(W,ja,va=>va[0]**va[1]);throw Error('"^" expects 1 or 2 arguments');};return T}(oa),wa=function(P){function T(){return P.apply(this,
arguments)||this}b._inheritsLoose(T,P);T.parse=function(W,ja){return oa.parse(W,ja,va=>{let Ga=0;for(const Oa of va)Ga+=Oa;return Ga})};return T}(oa),M=function(){function P(T,W){this.args=T;this.calculate=W;this.type=r.NumberType}P.parse=function(T,W){const ja=T.slice(1).map(va=>n(va,W));return new P(ja,P.ops[T[0]])};P.prototype.evaluate=function(T,W){let ja;this.args&&(ja=this.args.map(va=>va.evaluate(T,W)));return this.calculate(ja)};return P}();M.ops={abs:P=>Math.abs(P[0]),acos:P=>Math.acos(P[0]),
asin:P=>Math.asin(P[0]),atan:P=>Math.atan(P[0]),ceil:P=>Math.ceil(P[0]),cos:P=>Math.cos(P[0]),e:()=>Math.E,floor:P=>Math.floor(P[0]),ln:P=>Math.log(P[0]),ln2:()=>Math.LN2,log10:P=>Math.log(P[0])/Math.LN10,log2:P=>Math.log(P[0])/Math.LN2,max:P=>Math.max(...P),min:P=>Math.min(...P),pi:()=>Math.PI,round:P=>Math.round(P[0]),sin:P=>Math.sin(P[0]),sqrt:P=>Math.sqrt(P[0]),tan:P=>Math.tan(P[0])};let R=function(){function P(T){this.args=T;this.type=r.StringType}P.parse=function(T,W){return new P(T.slice(1).map(ja=>
n(ja,W)))};P.prototype.evaluate=function(T,W){return this.args.map(ja=>ja.evaluate(T,W)).join("")};return P}(),da=function(){function P(T,W){this.arg=T;this.calculate=W;this.type=r.StringType}P.parse=function(T,W){if(2!==T.length)throw Error(`${T[0]} expects 1 argument`);W=n(T[1],W);return new P(W,P.ops[T[0]])};P.prototype.evaluate=function(T,W){return this.calculate(this.arg.evaluate(T,W))};return P}();da.ops={downcase:P=>P.toLowerCase(),upcase:P=>P.toUpperCase()};let S=function(){function P(W){this.args=
W;this.type=r.ColorType}P.parse=function(W,ja){if(4!==W.length)throw Error('"rgb" expects 3 arguments');W=W.slice(1).map(va=>n(va,ja));return new P(W)};var T=P.prototype;T.evaluate=function(W,ja){const va=this._validate(this.args[0].evaluate(W,ja)),Ga=this._validate(this.args[1].evaluate(W,ja));W=this._validate(this.args[2].evaluate(W,ja));return new c({r:va,g:Ga,b:W})};T._validate=function(W){if("number"!==typeof W||0>W||255<W)throw Error(`${W}: invalid color component`);return Math.round(W)};return P}(),
X=function(){function P(W){this.args=W;this.type=r.ColorType}P.parse=function(W,ja){if(5!==W.length)throw Error('"rgba" expects 4 arguments');W=W.slice(1).map(va=>n(va,ja));return new P(W)};var T=P.prototype;T.evaluate=function(W,ja){const va=this._validate(this.args[0].evaluate(W,ja)),Ga=this._validate(this.args[1].evaluate(W,ja)),Oa=this._validate(this.args[2].evaluate(W,ja));W=this._validateAlpha(this.args[3].evaluate(W,ja));return new c({r:va,g:Ga,b:Oa,a:W})};T._validate=function(W){if("number"!==
typeof W||0>W||255<W)throw Error(`${W}: invalid color component`);return Math.round(W)};T._validateAlpha=function(W){if("number"!==typeof W||0>W||1<W)throw Error(`${W}: invalid alpha color component`);return W};return P}(),ea=function(){function P(T){this.color=T;this.type=r.arrayType(r.NumberType,4)}P.parse=function(T,W){if(2!==T.length)throw Error('"to-rgba" expects 1 argument');T=n(T[1],W);return new P(T)};P.prototype.evaluate=function(T,W){return(new c(this.color.evaluate(T,W))).toRgba()};return P}(),
ha=function(){function P(T,W){this.type=T;this.args=W}P.parse=function(T,W){var ja=T[0];if(2>T.length)throw Error(`${ja} expects at least one argument`);let va=1,Ga;if("array"===ja){if(2<T.length){switch(T[1]){case "string":Ga=r.StringType;break;case "number":Ga=r.NumberType;break;case "boolean":Ga=r.BooleanType;break;default:throw Error('"array" type argument must be string, number or boolean');}va++}else Ga=r.ValueType;if(3<T.length){var Oa=T[2];if(null!==Oa&&("number"!==typeof Oa||0>Oa||Oa!==Math.floor(Oa)))throw Error('"array" length argument must be a positive integer literal');
va++}Ga=r.arrayType(Ga,Oa)}else switch(ja){case "string":Ga=r.StringType;break;case "number":Ga=r.NumberType;break;case "boolean":Ga=r.BooleanType;break;case "object":Ga=r.ObjectType}for(ja=[];va<T.length;va++)Oa=n(T[va],W),ja.push(Oa);return new P(Ga,ja)};P.prototype.evaluate=function(T,W){let ja;for(const va of this.args){const Ga=va.evaluate(T,W);ja=r.getType(Ga);if(r.matchType(ja,this.type))return Ga}throw Error(`Expected ${r.typeToString(this.type)} but got ${r.typeToString(ja)}`);};return P}(),
ra=function(){function P(T,W){this.type=T;this.args=W}P.parse=function(T,W){var ja=T[0];const va=P.types[ja];if(va===r.BooleanType||va===r.StringType){if(2!==T.length)throw Error(`${ja} expects one argument`);}else if(2>T.length)throw Error(`${ja} expects at least one argument`);ja=[];for(let Ga=1;Ga<T.length;Ga++){const Oa=n(T[Ga],W);ja.push(Oa)}return new P(va,ja)};P.prototype.evaluate=function(T,W){if(this.type===r.BooleanType)return!!this.args[0].evaluate(T,W);if(this.type===r.StringType)return r.valueToString(this.args[0].evaluate(T,
W));if(this.type===r.NumberType){for(const va of this.args){var ja=Number(va.evaluate(T,W));if(!isNaN(ja))return ja}return null}if(this.type===r.ColorType){for(ja of this.args)try{const va=P.toColor(ja.evaluate(T,W));if(va instanceof c)return va}catch{}return null}};P.toBoolean=function(T){return!!T};P.toString=function(T){return r.valueToString(T)};P.toNumber=function(T){const W=Number(T);if(isNaN(W))throw Error(`"${T}" is not a number`);return W};P.toColor=function(T){if(T instanceof c)return T;
if("string"===typeof T){const W=c.fromString(T);if(W)return W;throw Error(`"${T}" is not a color`);}if(Array.isArray(T))return c.fromArray(T);throw Error(`"${T}" is not a color`);};return P}();ra.types={"to-boolean":r.BooleanType,"to-color":r.ColorType,"to-number":r.NumberType,"to-string":r.StringType};let na=function(){function P(T){this.val=T;this.type=r.getType(T)}P.parse=function(T){if(2!==T.length)throw Error('"literal" expects 1 argument');return new P(T[1])};P.prototype.evaluate=function(T,
W){return this.val};return P}(),N=function(){function P(T){this.arg=T;this.type=r.StringType}P.parse=function(T,W){if(2!==T.length)throw Error('"typeof" expects 1 argument');return new P(n(T[1],W))};P.prototype.evaluate=function(T,W){return r.typeToString(r.getType(this.arg.evaluate(T,W)))};return P}();const U={array:ha,boolean:ha,collator:null,format:null,image:null,literal:na,number:ha,"number-format":null,object:ha,string:ha,"to-boolean":ra,"to-color":ra,"to-number":ra,"to-string":ra,typeof:N,
accumulated:null,"feature-state":null,"geometry-type":l,id:g,"line-progress":null,properties:q,at:I,get:L,has:Q,in:Z,"index-of":ca,length:aa,slice:O,"!":y,"!\x3d":h,"\x3c":v,"\x3c\x3d":w,"\x3d\x3d":f,"\x3e":D,"\x3e\x3d":x,all:z,any:A,case:B,coalesce:E,match:G,within:null,interpolate:J,"interpolate-hcl":J,"interpolate-lab":J,step:K,let:F,var:H,concat:R,downcase:da,"is-supported-script":null,"resolved-locale":null,upcase:da,rgb:S,rgba:X,"to-rgba":ea,"-":Da,"*":Ha,"/":ta,"%":Y,"^":pa,"+":wa,abs:M,acos:M,
asin:M,atan:M,ceil:M,cos:M,e:M,floor:M,ln:M,ln2:M,log10:M,log2:M,max:M,min:M,pi:M,round:M,sin:M,sqrt:M,tan:M,zoom:m,"heatmap-density":null,"has-id":fa,none:C};a.ALL=z;a.ANY=A;a.Add=wa;a.Assert=ha;a.At=I;a.Calculate=M;a.Case=B;a.Coalesce=E;a.Coerce=ra;a.Concat=R;a.Div=ta;a.EQ=f;a.GE=x;a.GT=D;a.GeomType=l;a.Get=L;a.Has=Q;a.HasID=fa;a.ID=g;a.In=Z;a.IndexOf=ca;a.Interpolate=J;a.LE=w;a.LT=v;a.Length=aa;a.Let=F;a.Literal=na;a.Match=G;a.Mod=Y;a.Mul=Ha;a.NE=h;a.NONE=C;a.NOT=y;a.Pow=pa;a.Properties=q;a.Rgb=
S;a.Rgba=X;a.Slice=O;a.Step=K;a.String=da;a.Sub=Da;a.ToRgba=ea;a.TypeOf=N;a.Var=H;a.Zoom=m;a.createExpression=n;a.ops=U;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/colorUtils":function(){define(["exports"],function(a){function b(k,g){const l=[];let q,m;if(k[0].length!==g.length)throw"dimensions do not match";const t=k.length,f=k[0].length;let h=0;for(q=0;q<t;q++){for(m=h=0;m<f;m++)h+=k[q][m]*g[m];l.push(h)}return l}function c(k){k=[k.r/255,
k.g/255,k.b/255].map(g=>.04045>=g?g/12.92:((g+.055)/1.055)**2.4);k=b(u,k);return{x:100*k[0],y:100*k[1],z:100*k[2]}}function e(k){k=b(n,[k.x/100,k.y/100,k.z/100]).map(g=>Math.min(1,Math.max(.0031308>=g?12.92*g:1.055*g**(1/2.4)-.055,0)));return{r:Math.round(255*k[0]),g:Math.round(255*k[1]),b:Math.round(255*k[2])}}function d(k){k=[k.x/95.047,k.y/100,k.z/108.883].map(g=>g>(6/29)**3?g**(1/3):1/3*(29/6)**2*g+4/29);return{l:116*k[1]-16,a:500*(k[0]-k[1]),b:200*(k[1]-k[2])}}function p(k){const g=k.l;k=[(g+
16)/116+k.a/500,(g+16)/116,(g+16)/116-k.b/200].map(l=>l>6/29?l**3:3*(6/29)**2*(l-4/29));return{x:95.047*k[0],y:100*k[1],z:108.883*k[2]}}function r(k){if("r"in k&&"g"in k&&"b"in k)return k;if("l"in k&&"c"in k&&"h"in k){var g=k.c;var l=k.h;g={l:k.l,a:g*Math.cos(l),b:g*Math.sin(l)};return e(p(g))}if("l"in k&&"a"in k&&"b"in k)return e(p(k));if("x"in k&&"y"in k&&"z"in k)return e(k);if("h"in k&&"s"in k&&"v"in k){{l=(k.h+360)%360/60;g=k.v/100*255;k=k.s/100*g;const q=k*(1-Math.abs(l%2-1));switch(Math.floor(l)){case 0:l=
{r:k,g:q,b:0};break;case 1:l={r:q,g:k,b:0};break;case 2:l={r:0,g:k,b:q};break;case 3:l={r:0,g:q,b:k};break;case 4:l={r:q,g:0,b:k};break;case 5:case 6:l={r:k,g:0,b:q};break;default:l={r:0,g:0,b:0}}l.r=Math.round(l.r+g-k);l.g=Math.round(l.g+g-k);l.b=Math.round(l.b+g-k);g=l}return g}return k}const u=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],n=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];a.darken=function(k,g){k=d(c(k));k.l*=1-g;return e(p(k))};a.toHSV=function(k){if("h"in
k&&"s"in k&&"v"in k)return k;var g=r(k);{k=g.r;const l=g.g,q=g.b;g=Math.max(k,l,q);const m=g-Math.min(k,l,q);k=0===m?0:g===k?(l-q)/m%6:g===l?(q-k)/m+2:(k-l)/m+4;0>k&&(k+=6);k={h:60*k,s:100*(0===m?0:m/g),v:100/255*g}}return k};a.toLAB=function(k){return"l"in k&&"a"in k&&"b"in k?k:d(c(r(k)))};a.toLCH=function(k){if(!("l"in k&&"c"in k&&"h"in k)){{var g=d(c(r(k)));k=g.l;var l=g.a;const q=g.b;g=Math.sqrt(l*l+q*q);l=Math.atan2(q,l);l=0<l?l:l+2*Math.PI;k={l:k,c:g,h:l}}}return k};a.toRGB=r;a.toXYZ=function(k){return"x"in
k&&"y"in k&&"z"in k?k:c(r(k))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(a){function b(d,p,r,u){function n(f,h){var v;let w,D;w=f;for(v=0;8>v;v++){D=((l*w+g)*w+k)*w-f;if(Math.abs(D)<h)return w;var x=(3*l*w+2*g)*w+k;if(1E-6>Math.abs(x))break;w-=D/x}x=0;v=1;w=f;if(w<x)return x;if(w>v)return v;for(;x<v;){D=((l*w+g)*w+k)*w;if(Math.abs(D-f)<h)break;f>D?x=w:v=w;w=.5*(v-x)+x}return w}const k=
3*d,g=3*(r-d)-k,l=1-k-g,q=3*p,m=3*(u-p)-q,t=1-q-m;return function(f,h=1E-6){f=n(f,h);return((t*f+m)*f+q)*f}}const c=/^cubic-bezier\((.*)\)/,e={};e.ease=b(.25,.1,.25,1);e.linear=b(0,0,1,1);e.easeIn=e["ease-in"]=b(.42,0,1,1);e.easeOut=e["ease-out"]=b(0,0,.58,1);e.easeInOut=e["ease-in-out"]=b(.42,0,.58,1);a.easingFunctions=e;a.parse=function(d){let p=e[d]||null;!p&&(d=c.exec(d))&&(d=d[1].split(",").map(r=>parseFloat(r.trim())),4!==d.length||d.some(r=>isNaN(r))||(p=b.apply(b,d)));return p};a.unitBezier=
b;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],function(a,b){function c(t,f){return{kind:"array",itemType:t,n:f}}function e(t){if("array"===t.kind){const f=e(t.itemType);return"number"===typeof t.n?`array<${f}, ${t.n}>`:"value"===t.itemType.kind?"array":`array<${f}>`}return t.kind}function d(t){if(null===t)return r;if("string"===typeof t)return n;
if("boolean"===typeof t)return k;if("number"===typeof t)return u;if(t instanceof b)return g;if(Array.isArray(t)){let f;for(const h of t){const v=d(h);if(!f)f=v;else if(f!==v){f=q;break}}return c(f||q,t.length)}return"object"===typeof t?l:q}function p(t,f){if("array"===f.kind)return"array"===t.kind&&(0===t.n&&"value"===t.itemType.kind||p(t.itemType,f.itemType))&&("number"!==typeof f.n||f.n===t.n);if("value"===f.kind)for(const h of m)if(p(t,h))return!0;return f.kind===t.kind}const r={kind:"null"},u=
{kind:"number"},n={kind:"string"},k={kind:"boolean"},g={kind:"color"},l={kind:"object"},q={kind:"value"},m=[r,u,n,k,g,l,c(q)];a.BooleanType=k;a.ColorType=g;a.NullType=r;a.NumberType=u;a.ObjectType=l;a.StringType=n;a.ValueType=q;a.arrayType=c;a.getType=d;a.matchType=p;a.typeToString=e;a.valueToString=function(t){if(null===t)return"";const f=typeof t;return"string"===f?t:"number"===f||"boolean"===f?String(t):t instanceof b?t.toString():JSON.stringify(t)};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color","../GeometryUtils","../expression/expression","../expression/types"],function(a,b,c,e){return function(){function d(r,u){this.isDataDriven=!1;this.interpolator=null;switch(r.type){case "number":var n=!0;break;case "color":n=!0;break;case "array":n="number"===r.value;break;default:n=!1}null==u&&(u=r.default);if(Array.isArray(u)&&0<u.length&&c.ops[u[0]]){n={number:e.NumberType,
color:e.ColorType,string:e.StringType,boolean:e.BooleanType,enum:e.StringType};try{var k="array"===r.type?e.arrayType(n[r.value]||e.ValueType,r.length):n[r.type];const g=c.createExpression(u,null,k);this.getValue=this._buildExpression(g,r);this.isDataDriven=!0;g instanceof c.Interpolate&&g.input instanceof c.Zoom&&(this.interpolator=g)}catch(g){console.log(g.message),this.getValue=this._buildSimple(r.default)}}else{n&&"interval"===u.type&&(n=!1);if(k=u&&u.stops&&0<u.stops.length)for(const g of u.stops)g[1]=
this._validate(g[1],r);if(this.isDataDriven=u?!!u.property:!1)if(void 0!==u.default&&(u.default=this._validate(u.default,r)),k)switch(u.type){case "identity":this.getValue=this._buildIdentity(u,r);break;case "categorical":this.getValue=this._buildCategorical(u,r);break;default:this.getValue=n?this._buildInterpolate(u,r):this._buildInterval(u,r)}else this.getValue=this._buildIdentity(u,r);else k?this.getValue=n?this._buildZoomInterpolate(u):this._buildZoomInterval(u):(u=this._validate(u,r),this.getValue=
this._buildSimple(u))}}var p=d.prototype;p._validate=function(r,u){if("number"===u.type){if(r<u.minimum)return u.minimum;if(r>u.maximum)return u.maximum}else"color"===u.type?r=d._parseColor(r):"enum"===u.type?"string"===typeof r&&(r=u.values.indexOf(r)):"array"===u.type&&"enum"===u.value?r=r.map(n=>"string"===typeof n?u.values.indexOf(n):n):"string"===u.type&&(r=e.valueToString(r));return r};p._buildSimple=function(r){return()=>r};p._buildExpression=function(r,u){return(n,k)=>{try{const g=r.evaluate(k,
n);return void 0===g?u.default:this._validate(g,u)}catch(g){return console.log(g.message),u.default}}};p._buildIdentity=function(r,u){return(n,k)=>{let g;k&&(g=k.values[r.property]);void 0!==g&&(g=this._validate(g,u));return null!=g?g:void 0!==r.default?r.default:u.default}};p._buildCategorical=function(r,u){return(n,k)=>{let g;k&&(g=k.values[r.property]);g=this._categorical(g,r.stops);return void 0!==g?g:void 0!==r.default?r.default:u.default}};p._buildInterval=function(r,u){return(n,k)=>{let g;
k&&(g=k.values[r.property]);return"number"===typeof g?this._interval(g,r.stops):void 0!==r.default?r.default:u.default}};p._buildInterpolate=function(r,u){return(n,k)=>{let g;k&&(g=k.values[r.property]);return"number"===typeof g?this._interpolate(g,r.stops,r.base||1):void 0!==r.default?r.default:u.default}};p._buildZoomInterpolate=function(r){return u=>this._interpolate(u,r.stops,r.base||1)};p._buildZoomInterval=function(r){return u=>this._interval(u,r.stops)};p._categorical=function(r,u){const n=
u.length;for(let k=0;k<n;k++)if(u[k][0]===r)return u[k][1]};p._interval=function(r,u){const n=u.length;let k=0;for(let g=0;g<n;g++)if(u[g][0]<=r)k=g;else break;return u[k][1]};p._interpolate=function(r,u,n){const k=u.length;for(let q=0;q<k;q++){const m=u[q];if(m[0]<=r)var g=m;else{var l=m;break}}if(g&&l){u=l[0]-g[0];r-=g[0];n=1===n?r/u:(n**r-1)/(n**u-1);if(Array.isArray(g[1])){g=g[1];l=l[1];r=[];for(u=0;u<g.length;u++)r.push(b.interpolate(g[u],l[u],n));return r}return b.interpolate(g[1],l[1],n)}if(g)return g[1];
if(l)return l[1]};d._isEmpty=function(r){for(const u in r)if(r.hasOwnProperty(u))return!1;return!0};d._parseColor=function(r){if(Array.isArray(r))return r;"string"===typeof r&&(r=new a(r));if(r instanceof a&&!this._isEmpty(r))return a.toUnitRGBA(r)};return d}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./definitions","./Geometry","./GeometryUtils"],function(a,b,c,e,d){let p=function(g,l,q){this.ratio=g;this.x=l;this.y=
q},r=function(){function g(q,m,t,f=8,h=8){this.lines=[];this.starts=[];this.validateTessellation=!0;this.pixelRatio=f;this.pixelMargin=h;this.tileSize=c.TILE_SIZE*f;this.dz=q;this.yPos=m;this.xPos=t}var l=g.prototype;l.setPixelMargin=function(q){q!==this.pixelMargin&&(this.pixelMargin=q,this.setExtent(this._extent))};l.setExtent=function(q){this._extent=q;this.finalRatio=this.tileSize/q*(1<<this.dz);let m=this.pixelRatio*this.pixelMargin;m/=this.finalRatio;q>>=this.dz;m>q&&(m=q);this.margin=m;this.xmin=
q*this.xPos-m;this.ymin=q*this.yPos-m;this.xmax=this.xmin+q+2*m;this.ymax=this.ymin+q+2*m};l.reset=function(q){this.type=q;this.lines=[];this.starts=[];this.line=null;this.start=0};l.moveTo=function(q,m){this._pushLine();this._prevIsIn=this._isIn(q,m);this._moveTo(q,m,this._prevIsIn);this._prevPt=new e.Point(q,m);this._firstPt=new e.Point(q,m);this._dist=0};l.lineTo=function(q,m){const t=this._isIn(q,m),f=new e.Point(q,m),h=e.Point.distance(this._prevPt,f);if(t)if(this._prevIsIn)this._lineTo(q,m,
!0);else{var v=this._prevPt;var w=f;q=this._intersect(w,v);this.start=this._dist+h*(1-this._r);this._lineTo(q.x,q.y,!0);this._lineTo(w.x,w.y,!0)}else if(this._prevIsIn)w=this._prevPt,v=f,q=this._intersect(w,v),this._lineTo(q.x,q.y,!0),this._lineTo(v.x,v.y,!1);else{const x=this._prevPt;if(!(x.x<=this.xmin&&f.x<=this.xmin||x.x>=this.xmax&&f.x>=this.xmax||x.y<=this.ymin&&f.y<=this.ymin||x.y>=this.ymax&&f.y>=this.ymax)){q=[];if(x.x<this.xmin&&f.x>this.xmin||x.x>this.xmin&&f.x<this.xmin){m=(this.xmin-
x.x)/(f.x-x.x);var D=x.y+m*(f.y-x.y);D<=this.ymin?w=!1:D>=this.ymax?w=!0:q.push(new p(m,this.xmin,D))}if(x.x<this.xmax&&f.x>this.xmax||x.x>this.xmax&&f.x<this.xmax)m=(this.xmax-x.x)/(f.x-x.x),D=x.y+m*(f.y-x.y),D<=this.ymin?w=!1:D>=this.ymax?w=!0:q.push(new p(m,this.xmax,D));if(x.y<this.ymin&&f.y>this.ymin||x.y>this.ymin&&f.y<this.ymin)m=(this.ymin-x.y)/(f.y-x.y),D=x.x+m*(f.x-x.x),D<=this.xmin?v=!1:D>=this.xmax?v=!0:q.push(new p(m,D,this.ymin));if(x.y<this.ymax&&f.y>this.ymax||x.y>this.ymax&&f.y<this.ymax)m=
(this.ymax-x.y)/(f.y-x.y),D=x.x+m*(f.x-x.x),D<=this.xmin?v=!1:D>=this.xmax?v=!0:q.push(new p(m,D,this.ymax));if(0===q.length)v?w?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):w?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<q.length&&q[0].ratio>q[1].ratio)this.start=this._dist+h*q[1].ratio,this._lineTo(q[1].x,q[1].y,!0),this._lineTo(q[0].x,q[0].y,!0);else for(this.start=this._dist+h*q[0].ratio,v=0;v<q.length;v++)this._lineTo(q[v].x,
q[v].y,!0)}this._lineTo(f.x,f.y,!1)}this._dist+=h;this._prevIsIn=t;this._prevPt=f};l.close=function(){if(2<this.line.length){var q=this._firstPt,m=this._prevPt;q.x===m.x&&q.y===m.y||this.lineTo(q.x,q.y);q=this.line;for(m=q.length;4<=m;)if(q[0].x===q[1].x&&q[0].x===q[m-2].x||q[0].y===q[1].y&&q[0].y===q[m-2].y)q.pop(),q[0].x=q[m-2].x,q[0].y=q[m-2].y,--m;else break}};l.result=function(q=!0){this._pushLine();if(0===this.lines.length)return null;this.type===e.GeometryType.Polygon&&q&&k.simplify(this.tileSize,
this.margin*this.finalRatio,this.lines);return this.lines};l.resultWithStarts=function(){if(this.type!==e.GeometryType.LineString)throw Error("Only valid for lines");this._pushLine();const q=this.lines,m=q.length;if(0===m)return null;const t=[];for(let f=0;f<m;f++)t.push({line:q[f],start:this.starts[f]||0});return t};l._isIn=function(q,m){return q>=this.xmin&&q<=this.xmax&&m>=this.ymin&&m<=this.ymax};l._intersect=function(q,m){let t,f,h;if(m.x>=this.xmin&&m.x<=this.xmax)f=m.y<=this.ymin?this.ymin:
this.ymax,h=(f-q.y)/(m.y-q.y),t=q.x+h*(m.x-q.x);else if(m.y>=this.ymin&&m.y<=this.ymax)t=m.x<=this.xmin?this.xmin:this.xmax,h=(t-q.x)/(m.x-q.x),f=q.y+h*(m.y-q.y);else{f=m.y<=this.ymin?this.ymin:this.ymax;t=m.x<=this.xmin?this.xmin:this.xmax;const v=(t-q.x)/(m.x-q.x),w=(f-q.y)/(m.y-q.y);v<w?(h=v,f=q.y+v*(m.y-q.y)):(h=w,t=q.x+w*(m.x-q.x))}this._r=h;return new e.Point(t,f)};l._pushLine=function(){this.line&&(this.type===e.GeometryType.Point?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):
this.type===e.GeometryType.LineString?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):this.type===e.GeometryType.Polygon&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};l._moveTo=function(q,m,t){this.type!==e.GeometryType.Polygon?t&&(q=Math.round((q-(this.xmin+this.margin))*this.finalRatio),m=Math.round((m-(this.ymin+this.margin))*this.finalRatio),this.line.push(new e.Point(q,m))):(t||(q<this.xmin&&(q=this.xmin),
q>this.xmax&&(q=this.xmax),m<this.ymin&&(m=this.ymin),m>this.ymax&&(m=this.ymax)),q=Math.round((q-(this.xmin+this.margin))*this.finalRatio),m=Math.round((m-(this.ymin+this.margin))*this.finalRatio),this.line.push(new e.Point(q,m)),this._is_v=this._is_h=!1)};l._lineTo=function(q,m,t){if(this.type!==e.GeometryType.Polygon)if(t){q=Math.round((q-(this.xmin+this.margin))*this.finalRatio);m=Math.round((m-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(t=this.line[this.line.length-1],t.equals(q,
m)))return;this.line.push(new e.Point(q,m))}else this.line&&0<this.line.length&&this._pushLine();else if(t||(q<this.xmin&&(q=this.xmin),q>this.xmax&&(q=this.xmax),m<this.ymin&&(m=this.ymin),m>this.ymax&&(m=this.ymax)),q=Math.round((q-(this.xmin+this.margin))*this.finalRatio),m=Math.round((m-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){t=this.line[this.line.length-1];const f=t.x===q,h=t.y===m;f&&h||(this._is_h&&f?(t.x=q,t.y=m,t=this.line[this.line.length-2],t.x===q&&t.y===
m?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(t=this.line[this.line.length-2],this._is_h=t.x===q,this._is_v=t.y===m)):(this._is_h=t.x===q,this._is_v=t.y===m)):this._is_v&&h?(t.x=q,t.y=m,t=this.line[this.line.length-2],t.x===q&&t.y===m?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(t=this.line[this.line.length-2],this._is_h=t.x===q,this._is_v=t.y===m)):(this._is_h=t.x===q,this._is_v=t.y===m)):(this.line.push(new e.Point(q,m)),this._is_h=f,this._is_v=h))}else this.line.push(new e.Point(q,
m))};return g}(),u=function(){function g(){}var l=g.prototype;l.setExtent=function(q){this._ratio=4096===q?1:4096/q};l.reset=function(q){this.lines=[];this.line=null};l.moveTo=function(q,m){this.line&&this.lines.push(this.line);this.line=[];const t=this._ratio;this.line.push(new e.Point(q*t,m*t))};l.lineTo=function(q,m){const t=this._ratio;this.line.push(new e.Point(q*t,m*t))};l.close=function(){const q=this.line;q&&!q[0].isEqual(q[q.length-1])&&q.push(q[0])};l.result=function(){this.line&&this.lines.push(this.line);
return 0===this.lines.length?null:this.lines};b._createClass(g,[{key:"validateTessellation",get:function(){return 1>this._ratio}}]);return g}();var n;(function(g){g[g.sideLeft=0]="sideLeft";g[g.sideRight=1]="sideRight";g[g.sideTop=2]="sideTop";g[g.sideBottom=3]="sideBottom"})(n||(n={}));let k=function(){function g(){}g.simplify=function(l,q,m){if(m){var t=-q,f=l+q,h=-q,v=l+q;l=[];q=[];var w=m.length;for(let D=0;D<w;++D){const x=m[D];if(!x||2>x.length)continue;let y=x[0],z;const A=x.length;for(let C=
1;C<A;++C)z=x[C],y.x===z.x&&(y.x<=t&&(y.y>z.y?(l.push(D),l.push(C),l.push(n.sideLeft),l.push(-1)):(q.push(D),q.push(C),q.push(n.sideLeft),q.push(-1))),y.x>=f&&(y.y<z.y?(l.push(D),l.push(C),l.push(n.sideRight),l.push(-1)):(q.push(D),q.push(C),q.push(n.sideRight),q.push(-1)))),y.y===z.y&&(y.y<=h&&(y.x<z.x?(l.push(D),l.push(C),l.push(n.sideTop),l.push(-1)):(q.push(D),q.push(C),q.push(n.sideTop),q.push(-1))),y.y>=v&&(y.x>z.x?(l.push(D),l.push(C),l.push(n.sideBottom),l.push(-1)):(q.push(D),q.push(C),q.push(n.sideBottom),
q.push(-1)))),y=z}0!==l.length&&0!==q.length&&(g.fillParent(m,q,l),g.fillParent(m,l,q),t=[],g.calcDeltas(t,q,l),g.calcDeltas(t,l,q),g.addDeltas(t,m))}};g.fillParent=function(l,q,m){const t=m.length,f=q.length;for(let x=0;x<f;x+=4){var h=q[x],v=q[x+1];const y=q[x+2],z=l[h][v-1];h=l[h][v];v=8092;let A=-1;for(let C=0;C<t;C+=4){if(m[C+2]!==y)continue;var w=m[C];const B=m[C+1];var D=l[w][B-1];w=l[w][B];switch(y){case n.sideLeft:case n.sideRight:d.between(z.y,D.y,w.y)&&d.between(h.y,D.y,w.y)&&(D=Math.abs(w.y-
D.y),D<v&&(v=D,A=C));break;case n.sideTop:case n.sideBottom:d.between(z.x,D.x,w.x)&&d.between(h.x,D.x,w.x)&&(D=Math.abs(w.x-D.x),D<v&&(v=D,A=C))}}q[x+3]=A}};g.calcDeltas=function(l,q,m){const t=q.length;for(let f=0;f<t;f+=4){const h=g.calcDelta(f,q,m,[]);l.push(q[f]);l.push(q[f+1]);l.push(q[f+2]);l.push(h)}};g.calcDelta=function(l,q,m,t){l=q[l+3];if(-1===l)return 0;const f=t.length;if(1<f&&t[f-2]===l)return 0;t.push(l);return g.calcDelta(l,m,q,t)+1};g.addDeltas=function(l,q){const m=l.length;let t=
0;for(var f=0;f<m;f+=4){var h=l[f+3];h>t&&(t=h)}for(f=0;f<m;f+=4){h=q[l[f]];const v=l[f+1],w=t-l[f+3];switch(l[f+2]){case n.sideLeft:h[v-1].x-=w;h[v].x-=w;1===v&&(h[h.length-1].x-=w);v===h.length-1&&(h[0].x-=w);break;case n.sideRight:h[v-1].x+=w;h[v].x+=w;1===v&&(h[h.length-1].x+=w);v===h.length-1&&(h[0].x+=w);break;case n.sideTop:h[v-1].y-=w;h[v].y-=w;1===v&&(h[h.length-1].y-=w);v===h.length-1&&(h[0].y-=w);break;case n.sideBottom:h[v-1].y+=w,h[v].y+=w,1===v&&(h[h.length-1].y+=w),v===h.length-1&&
(h[0].y+=w)}}};return g}();a.SimpleBuilder=u;a.TileClipper=r;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["exports"],function(a){function b(u,n){u%=n;return 0<=u?u:u+n}const c=Number.POSITIVE_INFINITY,e=Math.PI,d=128/e,p=256/360,r=1/Math.LN2;a.C_256_TO_RAD=e/128;a.C_2PI=2*e;a.C_DEG_TO_256=p;a.C_DEG_TO_RAD=e/180;a.C_INFINITY=c;a.C_PI=e;a.C_PI_BY_2=e/2;a.C_RAD_TO_256=d;a.C_SQRT2=1.414213562;
a.C_SQRT2_INV=1/1.414213562;a.between=function(u,n,k){return u>=n&&u<=k||u>=k&&u<=n};a.degToByte=function(u){return b(u*p,256)};a.interpolate=function(u,n,k){return u*(1-k)+n*k};a.log2=function(u){return Math.log(u)*r};a.positiveMod=b;a.radToByte=function(u){return b(u*d,256)};a.sqr=function(u){return u*u};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/tiling/enums":function(){define(["exports"],function(a){a.TileStatus=void 0;var b=a.TileStatus||
(a.TileStatus={});b[b.INITIALIZED=0]="INITIALIZED";b[b.NO_DATA=1]="NO_DATA";b[b.READY=2]="READY";b[b.MODIFIED=3]="MODIFIED";b[b.INVALID=4]="INVALID";Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["./StyleDefinition","./StyleLayer"],function(a,b){return function(){function c(d){this._style=d;this.backgroundBucketIds=[];this._uidToLayer=new Map;this._layerByName={};this._runningId=
0;d.layers||(d.layers=[]);this.version=parseFloat(d.version);if(this.layers=d.layers.map((p,r,u)=>this._create(p,r,u)).filter(p=>!!p))for(let p=0;p<this.layers.length;p++)d=this.layers[p],this._layerByName[d.id]=d,this._uidToLayer.set(d.uid,d),d.type===a.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(d.id);this._identifyRefLayers()}var e=c.prototype;e.isPainterDataDriven=function(d){return(d=this._layerByName[d])?d.isPainterDataDriven():!1};e.getStyleLayerId=function(d){return d>=this.layers.length?
null:this.layers[d].id};e.getStyleLayerByUID=function(d){d=this._uidToLayer.get(d);return null!=d?d:null};e.getStyleLayerIndex=function(d){return(d=this._layerByName[d])?this.layers.indexOf(d):-1};e.setStyleLayer=function(d,p){if(d&&d.id){var r=this._style;null!=p&&p>=this.layers.length&&(p=this.layers.length-1);var u=!0,n;if(n=this._layerByName[d.id]){const k=this.layers.indexOf(n);p||(p=k);p===k?(u=!1,n=c._recreateLayer(d,n),this.layers[p]=n,r.layers[p]=d):(this.layers.splice(k,1),r.layers.splice(k,
1),n=this._create(d,p,this.layers),this.layers.splice(p,0,n),r.layers.splice(p,0,d))}else n=this._create(d,p,this.layers),!p||p>=this.layers.length?(this.layers.push(n),r.layers.push(d)):(this.layers.splice(p,0,n),r.layers.splice(p,0,d));this._layerByName[d.id]=n;this._uidToLayer.set(n.uid,n);u&&this._recomputeZValues();this._identifyRefLayers()}};e.getStyleLayer=function(d){return(d=this._layerByName[d])?{type:d.typeName,id:d.id,source:d.source,"source-layer":d.sourceLayer,minzoom:d.minzoom,maxzoom:d.maxzoom,
filter:d.filter,layout:d.layout,paint:d.paint}:null};e.deleteStyleLayer=function(d){const p=this._layerByName[d];p&&(delete this._layerByName[d],this._uidToLayer.delete(p.uid),d=this.layers.indexOf(p),this.layers.splice(d,1),this._style.layers.splice(d,1),this._recomputeZValues(),this._identifyRefLayers())};e.getLayerById=function(d){return this._layerByName[d]};e.getLayoutProperties=function(d){return(d=this._layerByName[d])?d.layout:null};e.getPaintProperties=function(d){return(d=this._layerByName[d])?
d.paint:null};e.setPaintProperties=function(d,p){if(d=this._layerByName[d]){var r=c._recreateLayer({type:d.typeName,id:d.id,source:d.source,"source-layer":d.sourceLayer,minzoom:d.minzoom,maxzoom:d.maxzoom,filter:d.filter,layout:d.layout,paint:p},d),u=this.layers.indexOf(d);this.layers[u]=r;this._style.layers[u].paint=p;this._layerByName[d.id]=r;this._uidToLayer.set(d.uid,r)}};e.setLayoutProperties=function(d,p){if(d=this._layerByName[d]){var r=c._recreateLayer({type:d.typeName,id:d.id,source:d.source,
"source-layer":d.sourceLayer,minzoom:d.minzoom,maxzoom:d.maxzoom,filter:d.filter,layout:p,paint:d.paint},d),u=this.layers.indexOf(d);this.layers[u]=r;this._style.layers[u].layout=p;this._layerByName[d.id]=r;this._uidToLayer.set(d.uid,r)}};e.setStyleLayerVisibility=function(d,p){if(d=this._layerByName[d]){var r=d.layout||{};r.visibility=p;p=c._recreateLayer({type:d.typeName,id:d.id,source:d.source,"source-layer":d.sourceLayer,minzoom:d.minzoom,maxzoom:d.maxzoom,filter:d.filter,layout:r,paint:d.paint},
d);var u=this.layers.indexOf(d);this.layers[u]=p;this._style.layers[u].layout=r;this._layerByName[d.id]=p;this._uidToLayer.set(d.uid,p)}};e.getStyleLayerVisibility=function(d){var p;d=this._layerByName[d];if(!d)return"none";d=d.layout;return null!=(p=null==d?void 0:d.visibility)?p:"visible"};e._recomputeZValues=function(){const d=this.layers,p=1/(d.length+1);for(let r=0;r<d.length;r++)d[r].z=1-(1+r)*p};e._identifyRefLayers=function(){const d=[],p=[];let r=0;for(const l of this.layers){const q=l.layout;
if(l.type===a.StyleLayerType.FILL){var u,n=l,k=l.source+"|"+l.sourceLayer;k+=null!=(u="|"+(null==q?void 0:q.visibility))?u:"";k+="|"+l.minzoom;k+="|"+l.maxzoom;k+="|"+JSON.stringify(l.filter);if(n.hasDataDrivenFill||n.hasDataDrivenOutline)k+="|"+r;d.push({key:k,layer:l})}else if(l.type===a.StyleLayerType.LINE){var g;n=l;k=l.source+"|"+l.sourceLayer;k+=null!=(g="|"+(null==q?void 0:q.visibility))?g:"";k+="|"+l.minzoom;k+="|"+l.maxzoom;k+="|"+JSON.stringify(l.filter);k+="|"+(void 0!==q?q["line-cap"]:
"");k+="|"+(void 0!==q?q["line-join"]:"");n.hasDataDrivenLine&&(k+="|"+r);p.push({key:k,layer:l})}++r}this._assignRefLayers(d);this._assignRefLayers(p)};e._assignRefLayers=function(d){d.sort((g,l)=>g.key<l.key?-1:g.key>l.key?1:0);let p,r;const u=d.length;for(let g=0;g<u;g++){const l=d[g];if(l.key===p)l.layer.refLayerId=r;else if(p=l.key,r=l.layer.id,l.layer.type===a.StyleLayerType.FILL){if(!l.layer.getPaintProperty("fill-outline-color"))for(var n=g+1;n<u;n++){var k=d[n];if(k.key===p){if(k.layer.getPaintProperty("fill-outline-color")){d[g]=
k;d[n]=l;r=k.layer.id;break}}else break}}else if(l.layer.type===a.StyleLayerType.LINE)for(n=l.layer,k=g+1;k<u;k++){const q=d[k];if(q.key!==p)break;const m=q.layer;if(n.canUseThinTessellation&&!m.canUseThinTessellation||!n.canUseThinTessellation&&(m.getPaintProperty("line-pattern")||m.getPaintProperty("line-dasharray")))n=m,d[g]=q,d[k]=l,r=q.layer.id}}};e._create=function(d,p,r){p=1-1/(r.length+1)*(1+p);r=this._runningId++;switch(d.type){case "background":return new b.BackgroundStyleLayer(a.StyleLayerType.BACKGROUND,
d,p,r);case "fill":return new b.FillStyleLayer(a.StyleLayerType.FILL,d,p,r);case "line":return new b.LineStyleLayer(a.StyleLayerType.LINE,d,p,r);case "symbol":return new b.SymbolStyleLayer(a.StyleLayerType.SYMBOL,d,p,r);case "raster":console.warn(`Unsupported vector tile raster layer ${d.id}`);case "circle":return new b.CircleStyleLayer(a.StyleLayerType.CIRCLE,d,p,r)}};c._recreateLayer=function(d,p){switch(d.type){case "background":return new b.BackgroundStyleLayer(a.StyleLayerType.BACKGROUND,d,p.z,
p.uid);case "fill":return new b.FillStyleLayer(a.StyleLayerType.FILL,d,p.z,p.uid);case "line":return new b.LineStyleLayer(a.StyleLayerType.LINE,d,p.z,p.uid);case "symbol":return new b.SymbolStyleLayer(a.StyleLayerType.SYMBOL,d,p.z,p.uid);case "raster":console.warn(`Unsupported vector tile raster layer ${d.id}`);case "circle":return new b.CircleStyleLayer(a.StyleLayerType.CIRCLE,d,p.z,p.uid)}};return c}()})},"esri/widgets/Widget":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../intl ../core/domUtils ../core/Evented ../core/events ../core/Handles ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ../chunks/componentsUtils ./support/jsxWidgetSupport ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,e,d,p,r,u,n,k,g,l,q,m,t,f,h,v,w,D,x,y,z,A,C,B,E,G){function J(L,Q){for(const Z in Q)null!=L[Z]&&("object"===typeof L[Z]&&"object"===typeof Q[Z]?J(L[Z],Q[Z]):L[Z]=Q[Z]);return L}const K=k.getLogger("esri.widgets.Widget");let F=0;const H=x.createAdvancedProjector({postProcessProjectionOptions(L){const Q=L.eventHandlerInterceptor,Z=/capture$/i;L.eventHandlerInterceptor=(ca,aa,O,fa)=>{const oa=Q(ca,aa,O,fa),Da=Z.test(ca);ca=ca.replace(Z,"");if(!(ca.toLowerCase()in O)||Da){const Ha=ca[2].toLowerCase()+
ca.slice(3),ta=pa=>oa.call(O,pa);O.addEventListener(Ha,ta,Da);const Y=fa.afterRemoved;fa.afterRemoved=pa=>{null==Y?void 0:Y(pa);O.removeEventListener(Ha,ta,Da)}}return oa}},handleInterceptedEvent(L,Q,Z,ca){const {eventPhase:aa,type:O}=ca,fa=aa===Event.CAPTURING_PHASE;let oa=`on${O}${fa?"capture":""}`;Q=Q.properties;if(!(oa in Q||(oa=`on${O[0].toUpperCase()}${O.slice(1)}${fa?"Capture":""}`,oa in Q)))return;C.clearVNodeCache();L.scheduleRender();Q[oa].call(Q.bind||Z,ca)}});let I=!1;c=function(L){function Q(ca,
aa){var O=L.call(this,ca,aa)||this;O._attached=!1;O._internalHandles=new r;O._projector=H;O._readyForTrueRender=!1;O.domNode=null;O.iconClass="esri-icon-checkbox-unchecked";O.label=O.declaredClass.split(".").pop();O.visible=!0;O.key=a._assertThisInitialized(O);O._loadLocale=q.debounce(a._asyncToGenerator(function*(){if(O._messageBundleProps&&O._messageBundleProps.length){const Ha=yield q.eachAlways(O._messageBundleProps.map(function(){var ta=a._asyncToGenerator(function*({bundlePath:Y,propertyName:pa}){Y=
yield G.fetchMessageBundle(Y);O.uiStrings&&Object.keys(O.uiStrings)&&(Y=J(n.clone(Y),O.uiStrings));O[pa]=Y});return function(Y){return ta.apply(this,arguments)}}()));for(const ta of Ha)ta.error&&K.error("widget-intl:locale-error",O.declaredClass,ta.error)}yield O.loadLocale()}));y.commitAssetPath();const fa="esri-widget-uid-"+t.generateUUID(),oa=O.render.bind(a._assertThisInitialized(O));O._trackingTarget=new D.SimpleTrackingTarget(()=>O.scheduleRender());const Da=()=>{var Ha;if(!O._readyForTrueRender||
O.destroyed)return null;if(!O.visible)return{vnodeSelector:"div",properties:{key:fa,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const ta=oa();let {properties:Y}=ta;Y||(ta.properties=Y={});let {key:pa,styles:wa}=Y;pa||(Y.key=fa);wa||(Y.styles=wa={});wa.display||(wa.display="");let M=0;null==(Ha=ta.children)?void 0:Ha.forEach(R=>{if(!z.isWidgetConstructor(R.vnodeSelector)){var {properties:da}=R;da||(R.properties=da={});da.key||(da.key=`${O.id}--${M++}`)}});return z.processWidgets(a._assertThisInitialized(O),
ta)};O.render=()=>{if(I)return Da();let Ha=C.getVNodeCache(a._assertThisInitialized(O));if(Ha)return Ha;O._trackingTarget.clear();I=!0;try{Ha=w.runTracked(O._trackingTarget,Da)}catch(ta){throw console.error(ta),ta;}finally{I=!1}C.setVNodeCache(a._assertThisInitialized(O),Ha);return Ha};O.addResolvingPromise(O._resourcesFetch=O.beforeFirstRender().then(()=>{O._readyForTrueRender=!0;O._postInitialize()}));A.registerLoading(O._resourcesFetch);return O}a._inheritsLoose(Q,L);var Z=Q.prototype;Z.normalizeCtorArgs=
function(ca,aa){ca={...ca};aa&&(ca.container=aa);return ca};Z.postInitialize=function(){};Z.beforeFirstRender=function(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(q.throwIfNotAbortError)};Z.loadDependencies=function(){var ca=a._asyncToGenerator(function*(){});return function(){return ca.apply(this,arguments)}}();Z.loadLocale=function(){var ca=a._asyncToGenerator(function*(){});return function(){return ca.apply(this,arguments)}}();Z.destroy=function(){this.destroyed||
(g.destroyMaybe(this._trackingTarget),g.destroyMaybe(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,C.deleteVNodeCache(this))};Z.castContainer=function(ca){return e.byId(ca)};Z.render=function(){throw Error("not implemented");};Z.scheduleRender=function(){this.destroyed||(C.deleteVNodeCache(this),this._projector.scheduleRender())};Z.classes=function(...ca){return B.classes.apply(this,
ca)};Z.renderNow=function(){C.deleteVNodeCache(this);this._projector.renderNow()};Z._postInitialize=function(){var ca,aa=this;this.destroyed||(this.scheduleRender(),null!=(ca=this._delegatedEventNames)&&ca.length&&this._internalHandles.add(m.watch(()=>this.viewModel,(O,fa)=>{fa&&this._internalHandles.remove("delegated-events");O&&p.isEventTarget(O)&&this._internalHandles.add(this._delegatedEventNames.map(oa=>p.on(O,oa,Da=>{this.emit(oa,Da)})),"delegated-events")},m.initial)),this.postInitialize(),
ca=function(){var O=a._asyncToGenerator(function*(){yield aa._loadLocale().catch(q.throwIfNotAbortError);aa.scheduleRender()});return function(){return O.apply(this,arguments)}}(),this._internalHandles.add([E.onLocaleChange(ca),m.watch(()=>this.uiStrings,ca),m.when(()=>this.container,O=>{this.destroyed||this._attach(O)},{initial:!0,once:!0})]))};Z._attach=function(ca){ca&&(this._projector.merge(ca,this.render),this._attached=!0)};Z._detach=function(ca){ca&&this._attached&&(this._projector.detach(this.render),
ca.parentNode&&ca.parentNode.removeChild(ca),this._attached=!1)};a._createClass(Q,[{key:"container",set:function(ca){this._get("container")||this._set("container",ca)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+F++},set:function(ca){ca&&this._set("id",ca)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"test",get:function(){return{projector:this._projector}}}]);return Q}(l.EsriPromiseMixin(d.EventedAccessor));
c[z.WIDGET_SYMBOL]=!0;b.__decorate([f.property()],c.prototype,"_readyForTrueRender",void 0);b.__decorate([f.property({value:null})],c.prototype,"container",null);b.__decorate([h.cast("container")],c.prototype,"castContainer",null);b.__decorate([f.property({aliasOf:"container"})],c.prototype,"domNode",void 0);b.__decorate([f.property()],c.prototype,"iconClass",void 0);b.__decorate([f.property()],c.prototype,"id",null);b.__decorate([f.property()],c.prototype,"label",void 0);b.__decorate([f.property()],
c.prototype,"renderable",null);b.__decorate([f.property()],c.prototype,"uiStrings",void 0);b.__decorate([f.property()],c.prototype,"viewModel",void 0);b.__decorate([f.property()],c.prototype,"visible",void 0);b.__decorate([f.property()],c.prototype,"key",void 0);b.__decorate([f.property()],c.prototype,"children",void 0);b.__decorate([f.property()],c.prototype,"afterCreate",void 0);b.__decorate([f.property()],c.prototype,"afterUpdate",void 0);b.__decorate([f.property()],c.prototype,"afterRemoved",
void 0);return c=b.__decorate([v.subclass("esri.widgets.Widget")],c)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=(()=>{if("function"===typeof Element.prototype.closest)return(e,d)=>e.closest(d);const c=Element.prototype.matches||Element.prototype.msMatchesSelector;return(e,d)=>{do{if(c.call(e,d))return e;e=e.parentElement}while(null!==e&&1===e.nodeType);return null}})();a.byId=function(c){return"string"===typeof c?document.getElementById(c):c};a.closest=b;a.empty=function(c){for(;c.hasChildNodes();)c.removeChild(c.firstChild)};
a.insertAfter=function(c,e){const d=e.parentNode;d&&(d.lastChild===e?d.appendChild(c):d.insertBefore(c,e.nextSibling))};a.insertBefore=function(c,e){const d=e.parentNode;d&&d.insertBefore(c,e)};a.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};a.reparent=function(c,e){for(;;){const d=c.firstChild;if(!d)break;e.appendChild(d)}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/uuid":function(){define(["exports"],function(a){const b=
"randomUUID"in crypto;a.generateUUID=function(){if(b)return crypto.randomUUID();const c=crypto.getRandomValues(new Uint16Array(8));c[3]=c[3]&4095|16384;c[4]=c[4]&16383|32768;return c[0].toString(16)+c[1].toString(16)+"-"+c[2].toString(16)+"-"+c[3].toString(16)+"-"+c[4].toString(16)+"-"+c[5].toString(16)+c[6].toString(16)+c[7].toString(16)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports",
"../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,e,d){const p=(n,k)=>{const g=[];for(;n&&n!==k;)g.push(n),n=n.parentNode;return g},r=(n,k)=>n.find(k),u=(n,k,g=!1)=>{let l=n;k.forEach((q,m)=>{var t;const f=null!=(t=l)&&t.children?r(l.children,h=>h.domNode===q):void 0;if(!g||f||m===k.length-1)l=f});return l};a.createAdvancedProjector=n=>{let k;const g={...e.defaultAdvancedProjectorOptions,...n},l=d.applyDefaultProjectionOptions(g),q=l.performanceLogger;
let m=!0,t,f=!1;const h=[],v=[],w=(x,y,z)=>{let A;l.eventHandlerInterceptor=(B,E,G,J)=>function(K){q("domEvent",K);var F=p(K.currentTarget,A.domNode);const H=F.some(L=>{var Q;return customElements.get(null==L?void 0:null==(Q=L.tagName)?void 0:Q.toLowerCase())});K.eventPhase!==Event.CAPTURING_PHASE&&H?(F=K.composedPath(),F=F.slice(F.indexOf(K.currentTarget),F.indexOf(A.domNode)).filter(L=>L.getRootNode()===L.ownerDocument).reverse(),F=u(A.getLastRender(),F,!0)):(F.reverse(),F=u(A.getLastRender(),F));
let I;F&&(I=g.handleInterceptedEvent(k,F,this,K));q("domEventProcessed",K);return I};null==g.postProcessProjectionOptions?void 0:g.postProcessProjectionOptions(l);const C=z();A=x(y,C,l);h.push(A);v.push(z);g.afterFirstVNodeRendered&&g.afterFirstVNodeRendered(A,C)};let D=()=>{t=void 0;if(m){m=!1;q("renderStart",void 0);for(let x=0;x<h.length;x++){const y=v[x]();q("rendered",void 0);h[x].update(y);q("patched",void 0)}q("renderDone",void 0);m=!0}};g.modifyDoRenderImplementation&&(D=g.modifyDoRenderImplementation(D,
h,v));return k={renderNow:D,scheduleRender:()=>{t||f||(t=requestAnimationFrame(D))},stop:()=>{t&&(cancelAnimationFrame(t),t=void 0);f=!0},resume:()=>{f=!1;m=!0;k.scheduleRender()},append:(x,y)=>{w(b.dom.append,x,y)},insertBefore:(x,y)=>{w(b.dom.insertBefore,x,y)},merge:(x,y)=>{w(b.dom.merge,x,y)},replace:(x,y)=>{w(b.dom.replace,x,y)},detach:x=>{for(let y=0;y<v.length;y++)if(v[y]===x)return v.splice(y,1),h.splice(y,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperties(a,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,d,p)=>{"-"===d.charAt(0)?e.style.setProperty(d,p):e.style[d]=p}};a.applyDefaultProjectionOptions=e=>b.extend(c,e);a.dom={create:(e,d)=>{d=b.extend(c,d);b.createDom(e,document.createElement("div"),void 0,d);return b.createProjection(e,d)},append:(e,d,p)=>{p=b.extend(c,p);b.createDom(d,
e,void 0,p);return b.createProjection(d,p)},insertBefore:(e,d,p)=>{p=b.extend(c,p);b.createDom(d,e.parentNode,e,p);return b.createProjection(d,p)},merge:(e,d,p)=>{p=b.extend(c,p);d.domNode=e;b.initPropertiesAndChildren(e,d,p);return b.createProjection(d,p)},replace:(e,d,p)=>{p=b.extend(c,p);b.createDom(d,e.parentNode,e,p);e.parentNode.removeChild(e);return b.createProjection(d,p)}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/libs/maquette/projection":function(){define(["exports",
"../../widgets/support/widgetUtils"],function(a,b){let c=[],e=(w,D)=>{let x={};Object.keys(w).forEach(y=>{x[y]=w[y]});D&&Object.keys(D).forEach(y=>{x[y]=D[y]});return x},d=(w,D)=>w.vnodeSelector!==D.vnodeSelector?!1:w.properties&&D.properties?w.properties.key!==D.properties.key?!1:w.properties.bind===D.properties.bind:!w.properties&&!D.properties,p=w=>{if("string"!==typeof w)throw Error("Style values must be strings");},r=(w,D,x,y)=>{let z=w[D];if(""!==z.vnodeSelector){var A=z.properties;if(!(A&&
(void 0===A.key?A.bind:A.key)))for(A=0;A<w.length;A++)if(A!==D&&d(w[A],z))throw Error(`${x.vnodeSelector} had a ${z.vnodeSelector} child ${"added"===y?y:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},u=[],n=!1,k=w=>{(w.children||[]).forEach(k);w.properties&&w.properties.afterRemoved&&w.properties.afterRemoved.apply(w.properties.bind||w.properties,[w.domNode])},g=()=>{n=!1;u.forEach(k);u.length=0},l=w=>{u.push(w);n||(n=!0,"undefined"!==
typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(g,{timeout:16}):setTimeout(g,16))},q=w=>{let D=w.domNode;if(w.properties){let x=w.properties.exitAnimation;if(x){D.style.pointerEvents="none";x(D,()=>{D.parentNode&&(D.parentNode.removeChild(D),l(w))},w.properties);return}}D.parentNode&&(D.parentNode.removeChild(D),l(w))},m=(w,D,x)=>{if(D){var y=x.eventHandlerInterceptor,z=Object.keys(D),A=z.length;for(let J=0;J<A;J++){var C=z[J];let K=D[C];if("className"===C)throw Error('Property "className" is not supported, use "class".');
if("class"===C)v(w,K,!0);else if("classes"===C){C=Object.keys(K);var B=C.length;for(var E=0;E<B;E++){var G=C[E];K[G]&&w.classList.add(G)}}else if("styles"===C)for(C=Object.keys(K),B=C.length,E=0;E<B;E++){G=C[E];let F=K[G];F&&(p(F),x.styleApplyer(w,G,F))}else"key"!==C&&null!==K&&void 0!==K&&(B=typeof K,"function"===B?(0===C.lastIndexOf("on",0)&&(y&&(K=y(C,K,w,D)),"oninput"===C&&function(){let F=K;K=function(H){F.apply(this,[H]);H.target["oninput-value"]=H.target.value}}()),w[C]=K):"http://www.w3.org/2000/svg"===
x.namespace?"href"===C?w.setAttributeNS("http://www.w3.org/1999/xlink",C,K):w.setAttribute(C,K):"string"===B&&"value"!==C?"innerHTML"===C?w[C]=b.renderingSanitizer.sanitize(K):w.setAttribute(C,K):w[C]=K)}}},t=(w,D,x)=>{var y=D.children;if(y)for(let z of y)f(z,w,void 0,x);D.text&&(w.textContent=D.text);m(w,D.properties,x);D.properties&&D.properties.afterCreate&&D.properties.afterCreate.apply(D.properties.bind||D.properties,[w,x,D.vnodeSelector,D.properties,D.children])},f=(w,D,x,y)=>{let z;var A=0;
let C=w.vnodeSelector,B=D.ownerDocument;if(""===C)z=w.domNode=B.createTextNode(w.text),void 0!==x?D.insertBefore(z,x):D.appendChild(z);else{for(let G=0;G<=C.length;++G){var E=C.charAt(G);if(G===C.length||"."===E||"#"===E)E=C.charAt(A-1),A=C.slice(A,G),"."===E?z.classList.add(A):"#"===E?z.id=A:("svg"===A&&(y=e(y,{namespace:"http://www.w3.org/2000/svg"})),void 0!==y.namespace?z=w.domNode=B.createElementNS(y.namespace,A):(z=w.domNode=w.domNode||B.createElement(A),"input"===A&&w.properties&&void 0!==
w.properties.type&&z.setAttribute("type",w.properties.type)),void 0!==x?D.insertBefore(z,x):z.parentNode!==D&&D.appendChild(z)),A=G+1}t(z,w,y)}},h,v=(w,D,x)=>{D&&D.split(" ").forEach(y=>{y&&w.classList.toggle(y,x)})};h=(w,D,x)=>{let y=w.domNode;if(w===D)return!1;let z=!1;if(""===D.vnodeSelector){if(D.text!==w.text)return w=y.ownerDocument.createTextNode(D.text),y.parentNode.replaceChild(w,y),D.domNode=w,!0;D.domNode=y}else{0===D.vnodeSelector.lastIndexOf("svg",0)&&(x=e(x,{namespace:"http://www.w3.org/2000/svg"}));
w.text!==D.text&&(z=!0,void 0===D.text?y.removeChild(y.firstChild):y.textContent=D.text);D.domNode=y;var A=w.children;var C=D.children,B=x;if(A===C)A=!1;else{A=A||c;C=C||c;for(var E=A.length,G=C.length,J=0,K=0,F=!1;K<G;){var H=J<E?A[J]:void 0,I=C[K];if(void 0!==H&&d(H,I))F=h(H,I,B)||F,J++;else{b:{H=A;var L=I,Q=J+1;if(""!==L.vnodeSelector)for(;Q<H.length;Q++)if(d(H[Q],L)){H=Q;break b}H=-1}if(0<=H){for(;J<H;J++)q(A[J]),r(A,J,D,"removed");F=h(A[H],I,B)||F;J=H+1}else f(I,y,J<E?A[J].domNode:void 0,B),
I.properties&&(H=I.properties.enterAnimation)&&H(I.domNode,I.properties),r(C,K,D,"added")}K++}if(E>J)for(;J<E;J++)q(A[J]),r(A,J,D,"removed");A=F}z=A||z;A=w.properties;C=D.properties;B=x;if(C){E=!1;G=Object.keys(C);K=G.length;for(F=0;F<K;F++)if(H=G[F],I=C[H],J=A[H],"class"===H)J!==I&&(v(y,J,!1),v(y,I,!0));else if("classes"===H){H=y.classList;L=Object.keys(I);Q=L.length;for(var Z=0;Z<Q;Z++){var ca=L[Z];let aa=!!I[ca];aa!==!!J[ca]&&(E=!0,aa?H.add(ca):H.remove(ca))}}else if("styles"===H)for(H=Object.keys(I),
L=H.length,Q=0;Q<L;Q++)Z=H[Q],ca=I[Z],ca!==J[Z]&&(E=!0,ca?(p(ca),B.styleApplyer(y,Z,ca)):B.styleApplyer(y,Z,""));else I||"string"!==typeof J||(I=""),"value"===H?(L=y[H],L!==I&&(y["oninput-value"]?L===y["oninput-value"]:I!==J)&&(y[H]=I,y["oninput-value"]=void 0),I!==J&&(E=!0)):I!==J&&(J=typeof I,"function"===J&&B.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===B.namespace?"href"===H?y.setAttributeNS("http://www.w3.org/1999/xlink",H,I):y.setAttribute(H,I):"string"===J?"innerHTML"===H?y[H]=
b.renderingSanitizer.sanitize(I):"role"===H&&""===I?y.removeAttribute(H):y.setAttribute(H,I):y[H]!==I&&(y[H]=I),E=!0));A=E}else A=void 0;z=A||z;D.properties&&D.properties.afterUpdate&&D.properties.afterUpdate.apply(D.properties.bind||D.properties,[y,x,D.vnodeSelector,D.properties,D.children])}z&&D.properties&&D.properties.updateAnimation&&D.properties.updateAnimation(y,D.properties,w.properties);return!1};a.createDom=f;a.createProjection=(w,D)=>({getLastRender:()=>w,update:x=>{if(w.vnodeSelector!==
x.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let y=w;w=x;h(y,x,D)},domNode:w.domNode});a.extend=e;a.initPropertiesAndChildren=t;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ./vnodeCache".split(" "),function(a,
b,c,e,d,p){function r(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,
"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,
"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,
"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,
display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,
"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,
"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,
"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,
"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,
"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,
"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,
top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,
"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function u(ka){ka=ka||{};var xa={},za;for(za in ka)xa[za]=ka[za];ka=xa;ka.whiteList=ka.whiteList||Q.whiteList;ka.onAttr=ka.onAttr||Q.onAttr;ka.onIgnoreAttr=ka.onIgnoreAttr||Q.onIgnoreAttr;ka.safeAttrValue=ka.safeAttrValue||Q.safeAttrValue;this.options=ka}function n(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),
b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],
summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function k(ka){return ka.replace(oa,"\x26lt;").replace(Da,"\x26gt;")}function g(ka){return ka.replace(Ha,
"\x26quot;")}function l(ka){return ka.replace(ta,'"')}function q(ka){return ka.replace(Y,function(xa,za){return"x"===za[0]||"X"===za[0]?String.fromCharCode(parseInt(za.substr(1),16)):String.fromCharCode(parseInt(za,10))})}function m(ka){return ka.replace(pa,":").replace(wa," ")}function t(ka){for(var xa="",za=0,La=ka.length;za<La;za++)xa+=32>ka.charCodeAt(za)?" ":ka.charAt(za);return O.trim(xa)}function f(ka){ka=l(ka);ka=q(ka);ka=m(ka);return ka=t(ka)}function h(ka){ka=g(ka);return ka=k(ka)}function v(ka,
xa){for(;xa<ka.length;xa++){var za=ka[xa];if(" "!==za)return"\x3d"===za?xa:-1}}function w(ka,xa){for(;0<xa;xa--){var za=ka[xa];if(" "!==za)return"\x3d"===za?xa:-1}}function D(ka){var xa='"'===ka[0]&&'"'===ka[ka.length-1]||"'"===ka[0]&&"'"===ka[ka.length-1]?!0:!1;return xa?ka.substr(1,ka.length-2):ka}function x(ka){var xa=N.spaceIndex(ka);if(-1===xa)return{html:"",closing:"/"===ka[ka.length-2]};ka=N.trim(ka.slice(xa+1,-1));(xa="/"===ka[ka.length-1])&&(ka=N.trim(ka.slice(0,-1)));return{html:ka,closing:xa}}
function y(ka){ka=ka||{};var xa={},za;for(za in ka)xa[za]=ka[za];ka=xa;ka.stripIgnoreTag&&(ka.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),ka.onIgnoreTag=ha.onIgnoreTagStripAll);ka.whiteList=ka.whiteList||ka.allowList||ha.whiteList;ka.onTag=ka.onTag||ha.onTag;ka.onTagAttr=ka.onTagAttr||ha.onTagAttr;ka.onIgnoreTag=ka.onIgnoreTag||ha.onIgnoreTag;ka.onIgnoreTagAttr=ka.onIgnoreTagAttr||ha.onIgnoreTagAttr;ka.safeAttrValue=ka.safeAttrValue||
ha.safeAttrValue;ka.escapeHtml=ka.escapeHtml||ha.escapeHtml;this.options=ka;!1===ka.css?this.cssFilter=!1:(ka.css=ka.css||{},this.cssFilter=new ea(ka.css))}function z(ka){ka=null==ka?void 0:ka.closest("[dir]");return null!==ka&&ka instanceof HTMLElement&&"rtl"===ka.dir||"rtl"===document.dir}e=Object.prototype;var A=Function.prototype.toString,C=e.hasOwnProperty,B=A.call(Object),E=e.toString,G=function(ka,xa){return function(za){return ka(xa(za))}}(Object.getPrototypeOf,Object),J=function(ka){var xa;
if(!(xa=!(ka&&"object"==typeof ka)||"[object Object]"!=E.call(ka))&&(xa=!1,null!=ka&&"function"!=typeof ka.toString))try{xa=!!(ka+"")}catch(za){}if(xa)return!1;ka=G(ka);if(null===ka)return!0;ka=C.call(ka,"constructor")&&ka.constructor;return"function"==typeof ka&&ka instanceof ka&&A.call(ka)==B},K={exports:{}},F={};e={exports:{}};var H={},I=/javascript\s*:/gim;H.whiteList=r();H.getDefaultWhiteList=r;H.onAttr=function(ka,xa,za){};H.onIgnoreAttr=function(ka,xa,za){};H.safeAttrValue=function(ka,xa){return I.test(xa)?
"":xa};var L={indexOf:function(ka,xa){var za;if(Array.prototype.indexOf)return ka.indexOf(xa);var La=0;for(za=ka.length;La<za;La++)if(ka[La]===xa)return La;return-1},forEach:function(ka,xa,za){var La;if(Array.prototype.forEach)return ka.forEach(xa,za);var Qa=0;for(La=ka.length;Qa<La;Qa++)xa.call(za,ka[Qa],Qa,ka)},trim:function(ka){return String.prototype.trim?ka.trim():ka.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(ka){return String.prototype.trimRight?ka.trimRight():ka.replace(/(\s*$)/g,"")}},
Q=H,Z=function(ka,xa){function za(){if(!Qa){var Ja=L.trim(ka.slice(ia,sa)),Sa=Ja.indexOf(":");if(-1!==Sa){var Na=L.trim(Ja.slice(0,Sa));Sa=L.trim(Ja.slice(Sa+1));Na&&(Ja=xa(ia,Fa.length,Na,Sa,Ja))&&(Fa+=Ja+"; ")}}ia=sa+1}ka=L.trimRight(ka);";"!==ka[ka.length-1]&&(ka+=";");for(var La=ka.length,Qa=!1,ia=0,sa=0,Fa="";sa<La;sa++){var Ca=ka[sa];if("/"===Ca&&"*"===ka[sa+1]){Ca=ka.indexOf("*/",sa+2);if(-1===Ca)break;sa=Ca+1;ia=sa+1;Qa=!1}else"("===Ca?Qa=!0:")"===Ca?Qa=!1:";"===Ca?Qa||za():"\n"===Ca&&za()}return L.trim(Fa)};
u.prototype.process=function(ka){ka=(ka||"").toString();if(!ka)return"";var xa=this.options,za=xa.whiteList,La=xa.onAttr,Qa=xa.onIgnoreAttr,ia=xa.safeAttrValue;return Z(ka,function(sa,Fa,Ca,Ja,Sa){var Na=za[Ca],Va=!1;!0===Na?Va=Na:"function"===typeof Na?Va=Na(Ja):Na instanceof RegExp&&(Va=Na.test(Ja));!0!==Va&&(Va=!1);if(Ja=ia(Ca,Ja)){sa={position:Fa,sourcePosition:sa,source:Sa,isWhite:Va};if(Va)return Va=La(Ca,Ja,sa),void 0===Va||null===Va?Ca+":"+Ja:Va;Va=Qa(Ca,Ja,sa);if(void 0!==Va&&null!==Va)return Va}})};
(function(ka,xa){xa=ka.exports=function(La,Qa){return(new u(Qa)).process(La)};xa.FilterCSS=u;for(var za in H)xa[za]=H[za]})(e,e.exports);var ca={indexOf:function(ka,xa){var za;if(Array.prototype.indexOf)return ka.indexOf(xa);var La=0;for(za=ka.length;La<za;La++)if(ka[La]===xa)return La;return-1},forEach:function(ka,xa,za){var La;if(Array.prototype.forEach)return ka.forEach(xa,za);var Qa=0;for(La=ka.length;Qa<La;Qa++)xa.call(za,ka[Qa],Qa,ka)},trim:function(ka){return String.prototype.trim?ka.trim():
ka.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(ka){return(ka=/\s|\n|\t/.exec(ka))?ka.index:-1}},aa=e.exports.getDefaultWhiteList,O=ca,fa=new e.exports.FilterCSS,oa=/</g,Da=/>/g,Ha=/"/g,ta=/&quot;/g,Y=/&#([a-zA-Z0-9]*);?/gim,pa=/&colon;?/gim,wa=/&newline;?/gim,M=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,R=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,da=/u\s*r\s*l\s*\(.*/gi;F.whiteList=n();F.getDefaultWhiteList=n;F.onTag=function(ka,xa,za){};F.onIgnoreTag=
function(ka,xa,za){};F.onTagAttr=function(ka,xa,za){};F.onIgnoreTagAttr=function(ka,xa,za){};F.safeAttrValue=function(ka,xa,za,La){za=f(za);if("href"===xa||"src"===xa){za=O.trim(za);if("#"===za)return"#";if("http://"!==za.substr(0,7)&&"https://"!==za.substr(0,8)&&"mailto:"!==za.substr(0,7)&&"tel:"!==za.substr(0,4)&&"data:image/"!==za.substr(0,11)&&"ftp://"!==za.substr(0,6)&&"./"!==za.substr(0,2)&&"../"!==za.substr(0,3)&&"#"!==za[0]&&"/"!==za[0])return""}else if("background"===xa){if(M.lastIndex=0,
M.test(za))return""}else if("style"===xa){R.lastIndex=0;if(R.test(za))return"";da.lastIndex=0;if(da.test(za)&&(M.lastIndex=0,M.test(za)))return"";!1!==La&&(La=La||fa,za=La.process(za))}return za=h(za)};F.escapeHtml=k;F.escapeQuote=g;F.unescapeQuote=l;F.escapeHtmlEntities=q;F.escapeDangerHtml5Entities=m;F.clearNonPrintableCharacter=t;F.friendlyAttrValue=f;F.escapeAttrValue=h;F.onIgnoreTagStripAll=function(){return""};F.StripTagBody=function(ka,xa){"function"!==typeof xa&&(xa=function(){});var za=!Array.isArray(ka),
La=[],Qa=!1;return{onIgnoreTag:function(ia,sa,Fa){var Ca=za?!0:-1!==O.indexOf(ka,ia);if(Ca){if(Fa.isClosing)return La.push([!1!==Qa?Qa:Fa.position,Fa.position+10]),Qa=!1,"[/removed]";Qa||(Qa=Fa.position);return"[removed]"}return xa(ia,sa,Fa)},remove:function(ia){var sa="",Fa=0;O.forEach(La,function(Ca){sa+=ia.slice(Fa,Ca[0]);Fa=Ca[1]});return sa+=ia.slice(Fa)}}};F.stripCommentTag=function(ka){for(var xa="",za=0;za<ka.length;){var La=ka.indexOf("\x3c!--",za);if(-1===La){xa+=ka.slice(za);break}xa+=
ka.slice(za,La);za=ka.indexOf("--\x3e",La);if(-1===za)break;za+=3}return xa};F.stripBlankChar=function(ka){ka=ka.split("");ka=ka.filter(function(xa){xa=xa.charCodeAt(0);return 127===xa?!1:31>=xa?10===xa||13===xa?!0:!1:!0});return ka.join("")};F.cssFilter=fa;F.getDefaultCSSWhiteList=aa;var S={},X=/[^a-zA-Z0-9_:\.\-]/gim;S.parseTag=function(ka,xa,za){var La="",Qa=0,ia=!1,sa=!1,Fa=0,Ca=ka.length,Ja="",Sa="";Fa=0;a:for(;Fa<Ca;Fa++)if(Sa=ka.charAt(Fa),!1===ia)"\x3c"===Sa&&(ia=Fa);else if(!1===sa)if("\x3c"===
Sa)La+=za(ka.slice(Qa,Fa)),Qa=ia=Fa;else if("\x3e"===Sa)La+=za(ka.slice(Qa,ia)),Qa=Sa=ka.slice(ia,Fa+1),Ja=ca.spaceIndex(Qa),Qa=-1===Ja?Qa.slice(1,-1):Qa.slice(1,Ja+1),Qa=ca.trim(Qa).toLowerCase(),"/"===Qa.slice(0,1)&&(Qa=Qa.slice(1)),"/"===Qa.slice(-1)&&(Qa=Qa.slice(0,-1)),Ja=Qa,La+=xa(ia,La.length,Ja,Sa,"\x3c/"===Sa.slice(0,2)),Qa=Fa+1,ia=!1;else{if('"'===Sa||"'"===Sa){Ja=1;for(var Na=ka.charAt(Fa-Ja);""===Na.trim()||"\x3d"===Na;){if("\x3d"===Na){sa=Sa;continue a}Na=ka.charAt(Fa-++Ja)}}}else Sa===
sa&&(sa=!1);Qa<ka.length&&(La+=za(ka.substr(Qa)));return La};S.parseAttr=function(ka,xa){function za(Ja,Sa){Ja=ca.trim(Ja);Ja=Ja.replace(X,"").toLowerCase();1>Ja.length||(Ja=xa(Ja,Sa||""))&&Qa.push(Ja)}for(var La=0,Qa=[],ia=!1,sa=ka.length,Fa=0;Fa<sa;Fa++){var Ca=ka.charAt(Fa);if(!1===ia&&"\x3d"===Ca)ia=ka.slice(La,Fa),La=Fa+1;else{if(!1!==ia&&Fa===La&&('"'===Ca||"'"===Ca)&&"\x3d"===ka.charAt(Fa-1))if(Ca=ka.indexOf(Ca,Fa+1),-1===Ca)break;else{La=ca.trim(ka.slice(La+1,Ca));za(ia,La);ia=!1;Fa=Ca;La=
Fa+1;continue}/\s|\n|\t/.test(Ca)&&(ka=ka.replace(/\s|\n|\t/g," "),!1===ia?(Ca=v(ka,Fa),-1===Ca?(La=ca.trim(ka.slice(La,Fa)),za(La),ia=!1,La=Fa+1):Fa=Ca-1):(Ca=w(ka,Fa-1),-1===Ca&&(La=ca.trim(ka.slice(La,Fa)),La=D(La),za(ia,La),ia=!1,La=Fa+1)))}}La<ka.length&&(!1===ia?za(ka.slice(La)):za(ia,D(ca.trim(ka.slice(La)))));return ca.trim(Qa.join(" "))};var ea=e.exports.FilterCSS,ha=F,ra=S.parseTag,na=S.parseAttr,N=ca;y.prototype.process=function(ka){ka=(ka||"").toString();if(!ka)return"";var xa=this.options,
za=xa.whiteList,La=xa.onTag,Qa=xa.onIgnoreTag,ia=xa.onTagAttr,sa=xa.onIgnoreTagAttr,Fa=xa.safeAttrValue,Ca=xa.escapeHtml,Ja=this.cssFilter;xa.stripBlankChar&&(ka=ha.stripBlankChar(ka));xa.allowCommentTag||(ka=ha.stripCommentTag(ka));var Sa=!1;xa.stripIgnoreTagBody&&(Sa=ha.StripTagBody(xa.stripIgnoreTagBody,Qa),Qa=Sa.onIgnoreTag);ka=ra(ka,function(Na,Va,Ra,$a,ab){Na={sourcePosition:Na,position:Va,isClosing:ab,isWhite:za.hasOwnProperty(Ra)};Va=La(Ra,$a,Na);if(void 0!==Va&&null!==Va)return Va;if(Na.isWhite){if(Na.isClosing)return"\x3c/"+
Ra+"\x3e";Na=x($a);var db=za[Ra];Va=na(Na.html,function(ya,fb){var hb=-1!==N.indexOf(db,ya),gb=ia(Ra,ya,fb,hb);if(void 0!==gb&&null!==gb)return gb;if(hb)return(fb=Fa(Ra,ya,fb,Ja))?ya+'\x3d"'+fb+'"':ya;gb=sa(Ra,ya,fb,hb);if(void 0!==gb&&null!==gb)return gb});$a="\x3c"+Ra;Va&&($a+=" "+Va);Na.closing&&($a+=" /");return $a+"\x3e"}Va=Qa(Ra,$a,Na);return void 0!==Va&&null!==Va?Va:Ca($a)},Ca);Sa&&(ka=Sa.remove(ka));return ka};(function(ka,xa){function za(ia,sa){return(new La(sa)).process(ia)}var La=y;xa=
ka.exports=za;xa.filterXSS=za;xa.FilterXSS=La;for(var Qa in F)xa[Qa]=F[Qa];for(Qa in S)xa[Qa]=S[Qa];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=ka.exports)})(K,K.exports);e=function(){function ka(xa,za){var La=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],
figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),
th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");this.arcgisFilterOptions={allowCommentTag:!0,
safeAttrValue:function(ia,sa,Fa,Ca){return"a"===ia&&"href"===sa||("img"===ia||"source"===ia)&&"src"===sa?La.sanitizeUrl(Fa):K.exports.safeAttrValue(ia,sa,Fa,Ca)}};if(xa&&!za)var Qa=xa;else xa&&za?(Qa=Object.create(this.arcgisFilterOptions),Object.keys(xa).forEach(function(ia){"whiteList"===ia?Qa.whiteList=La._extendObjectOfArrays([La.arcgisWhiteList,xa.whiteList||{}]):Qa[ia]=xa[ia]})):(Qa=Object.create(this.arcgisFilterOptions),Qa.whiteList=this.arcgisWhiteList);this.xssFilterOptions=Qa;this._xssFilter=
new K.exports.FilterXSS(Qa)}ka.prototype.sanitize=function(xa,za){void 0===za&&(za={});switch(typeof xa){case "number":return isNaN(xa)||!isFinite(xa)?null:xa;case "boolean":return xa;case "string":return this._xssFilter.process(xa);case "object":return this._iterateOverObject(xa,za);default:if(!za.allowUndefined||"undefined"!==typeof xa)return null}};ka.prototype.sanitizeUrl=function(xa,za){za=(null!==za&&void 0!==za?za:{}).isProtocolRequired;za=void 0===za?!0:za;var La=this._trim(xa.substring(0,
xa.indexOf(":"))),Qa="/"===xa,ia=/^#/.test(xa),sa=La&&-1<this.allowedProtocols.indexOf(La.toLowerCase());return Qa||ia||sa?K.exports.escapeAttrValue(xa):La||za?"":K.exports.escapeAttrValue("https://".concat(xa))};ka.prototype.sanitizeHTMLAttribute=function(xa,za,La,Qa){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(xa,za,La,Qa):K.exports.safeAttrValue(xa,za,La,Qa)};ka.prototype.validate=function(xa,za){void 0===za&&(za={});za=this.sanitize(xa,za);
return{isValid:xa===za,sanitized:za}};ka.prototype._extendObjectOfArrays=function(xa){var za={};xa.forEach(function(La){Object.keys(La).forEach(function(Qa){Array.isArray(La[Qa])&&Array.isArray(za[Qa])?za[Qa]=za[Qa].concat(La[Qa]):za[Qa]=La[Qa]})});return za};ka.prototype._iterateOverObject=function(xa,za){var La=this;void 0===za&&(za={});try{var Qa=!1,ia=void 0;if(Array.isArray(xa))ia=xa.reduce(function(sa,Fa){var Ca=La.validate(Fa,za);if(Ca.isValid)return sa.concat([Fa]);Qa=!0;return sa.concat([Ca.sanitized])},
[]);else if(J(xa))ia=Object.keys(xa).reduce(function(sa,Fa){var Ca=xa[Fa],Ja=La.validate(Ca,za);Ja.isValid?sa[Fa]=Ca:(Qa=!0,sa[Fa]=Ja.sanitized);return sa},{});else return za.allowUndefined&&"undefined"===typeof xa?void 0:null;return Qa?ia:xa}catch(sa){return null}};ka.prototype._trim=function(xa){return String.prototype.trim?xa.trim():xa.replace(/(^\s*)|(\s*$)/g,"")};return ka}();var U,P,T=function(ka){if("WebkitTransition"in ka.style)U="webkitTransitionEnd",P="webkitAnimationEnd";else if("transition"in
ka.style)U="transitionend",P="animationend";else throw Error("Your browser is not supported!");},W=function(ka,xa){void 0===xa&&(xa=ka+"-active");return function(za){U||T(za);var La=!1,Qa=function(ia){La||(La=!0,za.removeEventListener(U,Qa),za.removeEventListener(P,Qa),za.classList.remove(ka),za.classList.remove(xa))};za.classList.add(ka);za.addEventListener(U,Qa);za.addEventListener(P,Qa);requestAnimationFrame(function(){za.classList.add(xa)})}},ja=function(ka,xa){void 0===xa&&(xa=ka+"-active");
return function(za,La){U||T(za);var Qa=!1,ia=function(sa){Qa||(Qa=!0,za.removeEventListener(U,ia),za.removeEventListener(P,ia),La())};za.classList.add(ka);za.addEventListener(U,ia);za.addEventListener(P,ia);requestAnimationFrame(function(){za.classList.add(xa)})}};const va=d.getLogger("esri.widgets.support.widgetUtils");d=(()=>{const ka=new Map,xa=new ResizeObserver(za=>{p.clearVNodeCache();for(const La of za)ka.get(La.target)(La)});return(za,La,Qa)=>{ka.has(za)&&va.error("Already observing element",
za);ka.set(za,La);xa.observe(za,Qa);return c.makeHandle(()=>{xa.unobserve(za);ka.delete(za)})}})();aa="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");const Ga=aa.reduce((ka,xa)=>{ka[xa]=[];return ka},{}),Oa="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");
e=new e({whiteList:Ga,onTagAttr:(ka,xa,za)=>{ka=`${xa}="${za}"`;if(Oa.includes(xa))return ka},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);a.additionalAllowedTags=aa;a.classes=function(ka){const xa=b.acquire();for(var za=0;za<arguments.length;za++){const La=arguments[za],Qa=typeof La;if("string"===Qa)xa.push(La);else if(Array.isArray(La))xa.push.apply(xa,La);else if("object"===Qa)for(const ia in La)La[ia]&&xa.push(ia)}za=xa.join(" ");b.release(xa);return za};a.cssTransition=function(ka,
xa){return("enter"===ka?W:ja)(xa)};a.discardNode=function(ka){this[ka.getAttribute("data-node-ref")]=null};a.getDir=function(ka){return z(ka)?"rtl":"ltr"};a.isActivationKey=function(ka){return"Enter"===ka||" "===ka};a.isRTL=z;a.keepMenuItemWithinView=function(ka,xa){const za=ka.getBoundingClientRect();xa=xa.getBoundingClientRect();const La=za.top,Qa=xa.top;(za.top+za.height>xa.top+xa.height||La<Qa)&&ka.scrollIntoView({block:"end"})};a.onResize=d;a.renderingSanitizer=e;a.safeAttrs=Oa;a.storeNode=function(ka){this[ka.getAttribute("data-node-ref")]=
ka};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(c){b.delete(c)};a.getVNodeCache=function(c){return b.get(c)};a.setVNodeCache=function(c,e){b.set(c,e)};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/libs/maquette/projector":function(){define(["exports",
"./dom"],function(a,b){let c;c=Array.prototype.find?(p,r)=>p.find(r):(p,r)=>p.filter(r)[0];let e=(p,r)=>{let u=p;r.forEach(n=>{u=u&&u.children?c(u.children,k=>k.domNode===n):void 0});return u},d=(p,r,u)=>{let n=function(k){u("domEvent",k);var g=r();{var l=k.currentTarget;var q=g.domNode;let t=[];for(;l&&l!==q;)t.push(l),l=l.parentNode;l=t}l.reverse();g=e(g.getLastRender(),l);p.scheduleRender();let m;g&&(m=g.properties[`on${k.type}`].apply(g.properties.bind||this,arguments));u("domEventProcessed",
k);return m};return(k,g,l,q)=>n};a.createProjector=p=>{let r,u=b.applyDefaultProjectionOptions(p),n=u.performanceLogger,k=!0,g,l=!1,q=[],m=[],t=(h,v,w)=>{let D;u.eventHandlerInterceptor=d(r,()=>D,n);D=h(v,w(),u);q.push(D);m.push(w)},f=()=>{g=void 0;if(k){k=!1;n("renderStart",void 0);for(let h=0;h<q.length;h++){let v=m[h]();n("rendered",void 0);q[h].update(v);n("patched",void 0)}n("renderDone",void 0);k=!0}};return r={renderNow:f,scheduleRender:()=>{g||l||(g=requestAnimationFrame(f))},stop:()=>{g&&
(cancelAnimationFrame(g),g=void 0);l=!0},resume:()=>{l=!1;k=!0;r.scheduleRender()},append:(h,v)=>{t(b.dom.append,h,v)},insertBefore:(h,v)=>{t(b.dom.insertBefore,h,v)},merge:(h,v)=>{t(b.dom.merge,h,v)},replace:(h,v)=>{t(b.dom.replace,h,v)},detach:h=>{for(let v=0;v<m.length;v++)if(m[v]===h)return m.splice(v,1),q.splice(v,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],
function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,c,e,d)=>{b.scheduleRender();return c.properties[`on${d.type}`].apply(c.properties.bind||e,[d])}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,e,d)=>{c.style[e]=d}};a.applyDefaultProjectionOptions=
c=>({...b,...c});Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/componentsUtils":function(){define(["exports","../assets","../core/has","../core/urlUtils"],function(a,b,c,e){let d,p,r,u=!1,n=!1,k=!1,g=!1,l=!1;const q="undefined"!==typeof window?window:{};null;const m=q.document||{head:{}};c=q.HTMLElement||class{};const t={$flags$:0,$resourcesUrl$:"",jmp:ia=>ia(),raf:ia=>requestAnimationFrame(ia),ael:(ia,sa,Fa,Ca)=>ia.addEventListener(sa,Fa,
Ca),rel:(ia,sa,Fa,Ca)=>ia.removeEventListener(sa,Fa,Ca),ce:(ia,sa)=>new CustomEvent(ia,sa)},f=(()=>{let ia=!1;try{m.addEventListener("e",null,Object.defineProperty({},"passive",{get(){ia=!0}}))}catch(sa){}return ia})();a:{try{new CSSStyleSheet;var h="function"===typeof(new CSSStyleSheet).replace;break a}catch(ia){}h=!1}const v=h,w=(ia,sa,Fa,Ca)=>{Fa&&Fa.map(([Ja,Sa,Na])=>{const Va=Ja&4?m:Ja&8?q:Ja&16?m.body:ia,Ra=D(sa,Na),$a=f?{passive:0!==(Ja&1),capture:0!==(Ja&2)}:0!==(Ja&2);t.ael(Va,Sa,Ra,$a);
(sa.$rmListeners$=sa.$rmListeners$||[]).push(()=>t.rel(Va,Sa,Ra,$a))})},D=(ia,sa)=>Fa=>{try{ia.$hostElement$[sa](Fa)}catch(Ca){va(Ca)}},x=(ia,sa)=>()=>{},y=new WeakMap,z=(ia,sa,Fa)=>{let Ca=Ga.get(ia);v&&Fa?(Ca=Ca||new CSSStyleSheet,Ca.replace(sa)):Ca=sa;Ga.set(ia,Ca)},A=(ia,sa)=>"sc-"+(sa&&ia.$flags$&32?ia.$tagName$+"-"+sa:ia.$tagName$),C=ia=>Oa.map(sa=>sa(ia)).find(sa=>!!sa),B={},E=ia=>{ia=typeof ia;return"object"===ia||"function"===ia},G=(ia,sa,...Fa)=>{let Ca=null,Ja=null,Sa=null,Na=!1,Va=!1,
Ra=[];const $a=ab=>{for(let db=0;db<ab.length;db++)if(Ca=ab[db],Array.isArray(Ca))$a(Ca);else if(null!=Ca&&"boolean"!==typeof Ca){if(Na="function"!==typeof ia&&!E(Ca))Ca=String(Ca);Na&&Va?Ra[Ra.length-1].$text$+=Ca:Ra.push(Na?J(null,Ca):Ca);Va=Na}};$a(Fa);if(sa){sa.key&&(Ja=sa.key);sa.name&&(Sa=sa.name);{const ab=sa.className||sa.class;ab&&(sa.class="object"!==typeof ab?ab:Object.keys(ab).filter(db=>ab[db]).join(" "))}}if("function"===typeof ia)return ia(null===sa?{}:sa,Ra,F);Fa=J(ia,null);Fa.$attrs$=
sa;0<Ra.length&&(Fa.$children$=Ra);Fa.$key$=Ja;Fa.$name$=Sa;return Fa},J=(ia,sa)=>({$flags$:0,$tag$:ia,$text$:sa,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),K={},F={forEach:(ia,sa)=>ia.map(H).forEach(sa),map:(ia,sa)=>ia.map(H).map(sa).map(I)},H=ia=>({vattrs:ia.$attrs$,vchildren:ia.$children$,vkey:ia.$key$,vname:ia.$name$,vtag:ia.$tag$,vtext:ia.$text$}),I=ia=>{if("function"===typeof ia.vtag){var sa=Object.assign({},ia.vattrs);ia.vkey&&(sa.key=ia.vkey);ia.vname&&(sa.name=ia.vname);
return G(ia.vtag,sa,...ia.vchildren||[])}sa=J(ia.vtag,ia.vtext);sa.$attrs$=ia.vattrs;sa.$children$=ia.vchildren;sa.$key$=ia.vkey;sa.$name$=ia.vname;return sa},L=(ia,sa,Fa,Ca,Ja,Sa)=>{if(Fa!==Ca){let Ra=sa in ia,$a=sa.toLowerCase();if("class"===sa){ia=ia.classList;const ab=Fa?Fa.split(Q):[],db=Ca?Ca.split(Q):[];ia.remove(...ab.filter(ya=>ya&&!db.includes(ya)));ia.add(...db.filter(ya=>ya&&!ab.includes(ya)))}else if("style"===sa){for(var Na in Fa)Ca&&null!=Ca[Na]||(Na.includes("-")?ia.style.removeProperty(Na):
ia.style[Na]="");for(var Va in Ca)Fa&&Ca[Va]===Fa[Va]||(Va.includes("-")?ia.style.setProperty(Va,Ca[Va]):ia.style[Va]=Ca[Va])}else if("key"!==sa)if("ref"===sa)Ca&&Ca(ia);else if(ia.__lookupSetter__(sa)||"o"!==sa[0]||"n"!==sa[1]){Na=E(Ca);if((Ra||Na&&null!==Ca)&&!Ja)try{if(ia.tagName.includes("-"))ia[sa]=Ca;else if(Va=null==Ca?"":Ca,"list"===sa)Ra=!1;else if(null==Fa||ia[sa]!=Va)ia[sa]=Va}catch(ab){}Fa=!1;$a!==($a=$a.replace(/^xlink:?/,""))&&(sa=$a,Fa=!0);if(null==Ca||!1===Ca){if(!1!==Ca||""===ia.getAttribute(sa))Fa?
ia.removeAttributeNS("http://www.w3.org/1999/xlink",sa):ia.removeAttribute(sa)}else(!Ra||Sa&4||Ja)&&!Na&&(Ca=!0===Ca?"":Ca,Fa?ia.setAttributeNS("http://www.w3.org/1999/xlink",sa,Ca):ia.setAttribute(sa,Ca))}else sa="-"===sa[2]?sa.slice(3):$a in q?$a.slice(2):$a[2]+sa.slice(3),Fa&&t.rel(ia,sa,Fa,!1),Ca&&t.ael(ia,sa,Ca,!1)}},Q=/\s/,Z=(ia,sa,Fa,Ca)=>{const Ja=11===sa.$elm$.nodeType&&sa.$elm$.host?sa.$elm$.host:sa.$elm$;ia=ia&&ia.$attrs$||B;const Sa=sa.$attrs$||B;for(Ca in ia)Ca in Sa||L(Ja,Ca,ia[Ca],
void 0,Fa,sa.$flags$);for(Ca in Sa)L(Ja,Ca,ia[Ca],Sa[Ca],Fa,sa.$flags$)},ca=(ia,sa,Fa,Ca)=>{sa=sa.$children$[Fa];let Ja=0,Sa;u||(k=!0,"slot"===sa.$tag$&&(d&&Ca.classList.add(d+"-s"),sa.$flags$|=sa.$children$?2:1));if(null!==sa.$text$)Ca=sa.$elm$=m.createTextNode(sa.$text$);else if(sa.$flags$&1)Ca=sa.$elm$=m.createTextNode("");else{g||(g="svg"===sa.$tag$);Ca=sa.$elm$=m.createElementNS(g?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",sa.$flags$&2?"slot-fb":sa.$tag$);g&&"foreignObject"===
sa.$tag$&&(g=!1);Z(null,sa,g);null!=d&&Ca["s-si"]!==d&&Ca.classList.add(Ca["s-si"]=d);if(sa.$children$)for(Ja=0;Ja<sa.$children$.length;++Ja)(Sa=ca(ia,sa,Ja,Ca))&&Ca.appendChild(Sa);"svg"===sa.$tag$?g=!1:"foreignObject"===Ca.tagName&&(g=!0)}Ca["s-hn"]=r;sa.$flags$&3&&(Ca["s-sr"]=!0,Ca["s-cr"]=p,Ca["s-sn"]=sa.$name$||"",(Fa=ia&&ia.$children$&&ia.$children$[Fa])&&Fa.$tag$===sa.$tag$&&ia.$elm$&&aa(ia.$elm$,!1));return Ca},aa=(ia,sa)=>{t.$flags$|=1;ia=ia.childNodes;for(let Fa=ia.length-1;0<=Fa;Fa--){const Ca=
ia[Fa];Ca["s-hn"]!==r&&Ca["s-ol"]&&((Ca["s-ol"]?Ca["s-ol"]:Ca).parentNode.insertBefore(Ca,Da(Ca)),Ca["s-ol"].remove(),Ca["s-ol"]=void 0,k=!0);sa&&aa(Ca,sa)}t.$flags$&=-2},O=(ia,sa,Fa,Ca,Ja,Sa)=>{let Na=ia["s-cr"]&&ia["s-cr"].parentNode||ia,Va;Na.shadowRoot&&Na.tagName===r&&(Na=Na.shadowRoot);for(;Ja<=Sa;++Ja)Ca[Ja]&&(Va=ca(null,Fa,Ja,ia))&&(Ca[Ja].$elm$=Va,Na.insertBefore(Va,Da(sa)))},fa=(ia,sa,Fa,Ca,Ja)=>{for(;sa<=Fa;++sa)if(Ca=ia[sa])Ja=Ca.$elm$,M(Ca),n=!0,Ja["s-ol"]?Ja["s-ol"].remove():aa(Ja,!0),
Ja.remove()},oa=(ia,sa)=>ia.$tag$===sa.$tag$?"slot"===ia.$tag$?ia.$name$===sa.$name$:ia.$key$===sa.$key$:!1,Da=ia=>ia&&ia["s-ol"]||ia,Ha=(ia,sa)=>{const Fa=sa.$elm$=ia.$elm$,Ca=ia.$children$,Ja=sa.$children$,Sa=sa.$tag$;var Na=sa.$text$;if(null===Na){g="svg"===Sa?!0:"foreignObject"===Sa?!1:g;"slot"!==Sa&&Z(ia,sa,g);if(null!==Ca&&null!==Ja){{var Va=Na=ia=0,Ra=0;let $a=Ca.length-1,ab=Ca[0],db=Ca[$a],ya=Ja.length-1,fb=Ja[0],hb=Ja[ya];for(;ia<=$a&&Na<=ya;)if(null==ab)ab=Ca[++ia];else if(null==db)db=Ca[--$a];
else if(null==fb)fb=Ja[++Na];else if(null==hb)hb=Ja[--ya];else if(oa(ab,fb))Ha(ab,fb),ab=Ca[++ia],fb=Ja[++Na];else if(oa(db,hb))Ha(db,hb),db=Ca[--$a],hb=Ja[--ya];else if(oa(ab,hb))"slot"!==ab.$tag$&&"slot"!==hb.$tag$||aa(ab.$elm$.parentNode,!1),Ha(ab,hb),Fa.insertBefore(ab.$elm$,db.$elm$.nextSibling),ab=Ca[++ia],hb=Ja[--ya];else if(oa(db,fb))"slot"!==ab.$tag$&&"slot"!==hb.$tag$||aa(db.$elm$.parentNode,!1),Ha(db,fb),Fa.insertBefore(db.$elm$,ab.$elm$),db=Ca[--$a],fb=Ja[++Na];else{Va=-1;for(Ra=ia;Ra<=
$a;++Ra)if(Ca[Ra]&&null!==Ca[Ra].$key$&&Ca[Ra].$key$===fb.$key$){Va=Ra;break}0<=Va?(Ra=Ca[Va],Ra.$tag$!==fb.$tag$?Ra=ca(Ca&&Ca[Na],sa,Va,Fa):(Ha(Ra,fb),Ca[Va]=void 0,Ra=Ra.$elm$)):Ra=ca(Ca&&Ca[Na],sa,Na,Fa);fb=Ja[++Na];Ra&&(Va=ab.$elm$,(Va["s-ol"]?Va["s-ol"]:Va).parentNode.insertBefore(Ra,Da(ab.$elm$)))}ia>$a?O(Fa,null==Ja[ya+1]?null:Ja[ya+1].$elm$,sa,Ja,Na,ya):Na>ya&&fa(Ca,ia,$a)}}else null!==Ja?(null!==ia.$text$&&(Fa.textContent=""),O(Fa,null,sa,Ja,0,Ja.length-1)):null!==Ca&&fa(Ca,0,Ca.length-1);
g&&"svg"===Sa&&(g=!1)}else(sa=Fa["s-cr"])?sa.parentNode.textContent=Na:ia.$text$!==Na&&(Fa.data=Na)},ta=ia=>{ia=ia.childNodes;let sa,Fa,Ca,Ja,Sa,Na;Fa=0;for(Ca=ia.length;Fa<Ca;Fa++)if(sa=ia[Fa],1===sa.nodeType){if(sa["s-sr"])for(Sa=sa["s-sn"],sa.hidden=!1,Ja=0;Ja<Ca;Ja++)if(Na=ia[Ja].nodeType,ia[Ja]["s-hn"]!==sa["s-hn"]||""!==Sa){if(1===Na&&Sa===ia[Ja].getAttribute("slot")){sa.hidden=!0;break}}else if(1===Na||3===Na&&""!==ia[Ja].textContent.trim()){sa.hidden=!0;break}ta(sa)}},Y=[],pa=ia=>{let sa,
Fa,Ca,Ja,Sa,Na=0,Va=ia.childNodes,Ra=Va.length;for(;Na<Ra;Na++){ia=Va[Na];if(ia["s-sr"]&&(sa=ia["s-cr"])&&sa.parentNode)for(Fa=sa.parentNode.childNodes,Ca=ia["s-sn"],Sa=Fa.length-1;0<=Sa;Sa--)sa=Fa[Sa],sa["s-cn"]||sa["s-nr"]||sa["s-hn"]===ia["s-hn"]||(wa(sa,Ca)?(Ja=Y.find($a=>$a.$nodeToRelocate$===sa),n=!0,sa["s-sn"]=sa["s-sn"]||Ca,Ja?Ja.$slotRefNode$=ia:Y.push({$slotRefNode$:ia,$nodeToRelocate$:sa}),sa["s-sr"]&&Y.map($a=>{wa($a.$nodeToRelocate$,sa["s-sn"])&&(Ja=Y.find(ab=>ab.$nodeToRelocate$===sa))&&
!$a.$slotRefNode$&&($a.$slotRefNode$=Ja.$slotRefNode$)})):Y.some($a=>$a.$nodeToRelocate$===sa)||Y.push({$nodeToRelocate$:sa}));1===ia.nodeType&&pa(ia)}},wa=(ia,sa)=>1===ia.nodeType?null===ia.getAttribute("slot")&&""===sa||ia.getAttribute("slot")===sa?!0:!1:ia["s-sn"]===sa?!0:""===sa,M=ia=>{ia.$attrs$&&ia.$attrs$.ref&&ia.$attrs$.ref(null);ia.$children$&&ia.$children$.map(M)},R=(ia,sa)=>{const Fa=ia.$hostElement$;var Ca=ia.$cmpMeta$,Ja=ia.$vnode$||J(null,null);const Sa=sa&&sa.$tag$===K?sa:G(null,null,
sa);r=Fa.tagName;Ca.$attrsToReflect$&&(Sa.$attrs$=Sa.$attrs$||{},Ca.$attrsToReflect$.map(([Na,Va])=>Sa.$attrs$[Va]=Fa[Na]));Sa.$tag$=null;Sa.$flags$|=4;ia.$vnode$=Sa;Sa.$elm$=Ja.$elm$=Fa.shadowRoot||Fa;d=Fa["s-sc"];p=Fa["s-cr"];u=0!==(Ca.$flags$&1);n=!1;Ha(Ja,Sa);t.$flags$|=1;if(k){pa(Sa.$elm$);let Na,Va;for(Ca=0;Ca<Y.length;Ca++)Ja=Y[Ca],ia=Ja.$nodeToRelocate$,ia["s-ol"]||(Ja=m.createTextNode(""),Ja["s-nr"]=ia,ia.parentNode.insertBefore(ia["s-ol"]=Ja,ia));for(Ca=0;Ca<Y.length;Ca++)if(Ja=Y[Ca],ia=
Ja.$nodeToRelocate$,Ja.$slotRefNode$){sa=Ja.$slotRefNode$.parentNode;Na=Ja.$slotRefNode$.nextSibling;for(Ja=ia["s-ol"];Ja=Ja.previousSibling;)if((Va=Ja["s-nr"])&&Va["s-sn"]===ia["s-sn"]&&sa===Va.parentNode&&(Va=Va.nextSibling,!Va||!Va["s-nr"])){Na=Va;break}(Na||sa===ia.parentNode)&&ia.nextSibling===Na||ia===Na||(!ia["s-hn"]&&ia["s-ol"]&&(ia["s-hn"]=ia["s-ol"].parentNode.nodeName),sa.insertBefore(ia,Na))}else 1===ia.nodeType&&(ia.hidden=!0)}n&&ta(Sa.$elm$);t.$flags$&=-2;Y.length=0},da=(ia,sa)=>{ia.$flags$|=
16;return Qa(()=>S(ia,sa))},S=(ia,sa)=>{const Fa=ia.$hostElement$,Ca=x("scheduleUpdate",ia.$cmpMeta$.$tagName$);let Ja;Ja=sa?ea(Fa,"componentWillLoad"):ea(Fa,"componentWillUpdate");Ja=ha(Ja,()=>ea(Fa,"componentWillRender"));Ca();return ha(Ja,()=>X(ia,Fa,sa))},X=async(ia,sa,Fa)=>{var Ca=ia.$hostElement$,Ja=x("update",ia.$cmpMeta$.$tagName$);Ca["s-rc"];if(Fa){{var Sa=ia.$cmpMeta$;Fa=ia.$hostElement$;Ca=Sa.$flags$;const Va=x("attachStyles",Sa.$tagName$);{var Na=Fa.shadowRoot?Fa.shadowRoot:Fa.getRootNode();
Sa=A(Sa,ia.$modeName$);let Ra=Ga.get(Sa);Na=11===Na.nodeType?Na:m;if(Ra)if("string"===typeof Ra){Na=Na.head||Na;let $a=y.get(Na),ab;$a||y.set(Na,$a=new Set);$a.has(Sa)||(ab=m.createElement("style"),ab.innerHTML=Ra,Na.insertBefore(ab,Na.querySelector("link")),$a&&$a.add(Sa))}else Na.adoptedStyleSheets.includes(Ra)||(Na.adoptedStyleSheets=[...Na.adoptedStyleSheets,Ra]);Na=Sa}Ca&10&&(Fa["s-sc"]=Na,Fa.classList.add(Na+"-h"),Ca&2&&Fa.classList.add(Na+"-s"));Va()}}Fa=x("render",ia.$cmpMeta$.$tagName$);
try{sa=sa.render&&sa.render(),ia.$flags$&=-17,ia.$flags$|=2,R(ia,sa)}catch(Va){va(Va,ia.$hostElement$)}Fa();Ja();Ja=ia.$hostElement$;sa=x("postUpdate",ia.$cmpMeta$.$tagName$);ia.$ancestorComponent$;ea(Ja,"componentDidRender");ia.$flags$&64?ea(Ja,"componentDidUpdate"):(ia.$flags$|=64,ea(Ja,"componentDidLoad"));sa()},ea=(ia,sa,Fa)=>{if(ia&&ia[sa])try{return ia[sa](Fa)}catch(Ca){va(Ca)}},ha=(ia,sa)=>ia&&ia.then?ia.then(sa):sa(),ra=(ia,sa)=>{if(null!=ia&&!E(ia)){if(sa&4)return"false"===ia?!1:""===ia||
!!ia;if(sa&2)return parseFloat(ia);if(sa&1)return String(ia)}return ia},na=(ia,sa,Fa,Ca)=>{const Ja=ja.get(ia),Sa=Ja.$instanceValues$.get(sa),Na=Ja.$flags$;Fa=ra(Fa,Ca.$members$[sa][0]);const Va=Number.isNaN(Sa)&&Number.isNaN(Fa);Fa===Sa||Va||(Ja.$instanceValues$.set(sa,Fa),Ca.$watchers$&&Na&128&&(Ca=Ca.$watchers$[sa])&&Ca.map(Ra=>{try{ia[Ra](Fa,Sa,sa)}catch($a){va($a,ia)}}),2!==(Na&18)||ia.componentShouldUpdate&&!1===ia.componentShouldUpdate(Fa,Sa,sa)||da(Ja,!1))},N=(ia,sa,Fa)=>{if(sa.$members$){ia.watchers&&
(sa.$watchers$=ia.watchers);Fa=Object.entries(sa.$members$);const Ca=ia.prototype;Fa.map(([Ja,[Sa]])=>{(Sa&31||Sa&32)&&Object.defineProperty(Ca,Ja,{get(){return ja.get(this).$instanceValues$.get(Ja)},set(Na){na(this,Ja,Na,sa)},configurable:!0,enumerable:!0})});{const Ja=new Map;Ca.attributeChangedCallback=function(Sa,Na,Va){t.jmp(()=>{const Ra=Ja.get(Sa);if(this.hasOwnProperty(Ra))Va=this[Ra],delete this[Ra];else if(Ca.hasOwnProperty(Ra)&&"number"===typeof this[Ra]&&this[Ra]==Va)return;this[Ra]=null===
Va&&"boolean"===typeof this[Ra]?!1:Va})};ia.observedAttributes=Fa.filter(([,Sa])=>Sa[0]&15).map(([Sa,Na])=>{const Va=Na[1]||Sa;Ja.set(Va,Sa);Na[0]&512&&sa.$attrsToReflect$.push([Sa,Va]);return Va})}}return ia},U=async(ia,sa,Fa,Ca,Ja)=>{0===(sa.$flags$&32)&&(Ja=ia.constructor,sa.$flags$|=32,customElements.whenDefined(Fa.$tagName$).then(()=>sa.$flags$|=128),Ja.style&&(Ca=Ja.style,"string"!==typeof Ca&&(Ca=Ca[sa.$modeName$=C(ia)]),ia=A(Fa,sa.$modeName$),Ga.has(ia)||(Ja=x("registerStyles",Fa.$tagName$),
z(ia,Ca,!!(Fa.$flags$&1)),Ja())));sa.$ancestorComponent$;da(sa,!0)},P=ia=>{if(0===(t.$flags$&1)){const sa=ja.get(ia),Fa=sa.$cmpMeta$,Ca=x("connectedCallback",Fa.$tagName$);sa.$flags$&1?w(ia,sa,Fa.$listeners$):(sa.$flags$|=1,Fa.$flags$&12&&T(ia),Fa.$members$&&Object.entries(Fa.$members$).map(([Ja,[Sa]])=>{Sa&31&&ia.hasOwnProperty(Ja)&&(Sa=ia[Ja],delete ia[Ja],ia[Ja]=Sa)}),U(ia,sa,Fa));Ca()}},T=ia=>{const sa=ia["s-cr"]=m.createComment("");sa["s-cn"]=!0;ia.insertBefore(sa,ia.firstChild)},W=ia=>{0===
(t.$flags$&1)&&(ia=ja.get(ia),ia.$rmListeners$&&(ia.$rmListeners$.map(sa=>sa()),ia.$rmListeners$=void 0))},ja=new WeakMap,va=(ia,sa)=>(0,console.error)(ia,sa),Ga=new Map,Oa=[],ka=[],xa=[],za=ia=>{for(let sa=0;sa<ia.length;sa++)try{ia[sa](performance.now())}catch(Fa){va(Fa)}ia.length=0},La=()=>{za(ka);za(xa);(l=0<ka.length)&&t.raf(La)},Qa=((ia,sa)=>Fa=>{ia.push(Fa);l||(l=!0,sa&&t.$flags$&4?(Fa=La,Promise.resolve(void 0).then(Fa)):t.raf(La))})(xa,!0);a.Build={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1};
a.Fragment=(ia,sa)=>sa;a.H=c;a.Host=K;a.commitAssetPath=function(){t.$resourcesUrl$=e.makeAbsolute(b.getAssetUrl("esri/widgets/support/components/assets"))};a.createEvent=(ia,sa,Fa)=>({emit:Ca=>{Ca=t.ce(sa,{bubbles:!!(Fa&4),composed:!!(Fa&2),cancelable:!!(Fa&1),detail:Ca});ia.dispatchEvent(Ca);return Ca}});a.forceUpdate=ia=>{{ia=ja.get(ia);const sa=ia.$hostElement$.isConnected;sa&&2===(ia.$flags$&18)&&da(ia,!1);return sa}};a.getAssetPath=ia=>{ia=new URL(ia,t.$resourcesUrl$);return ia.origin!==q.location.origin?
ia.href:ia.pathname};a.h=G;a.proxyCustomElement=(ia,sa)=>{const Fa={$flags$:sa[0],$tagName$:sa[1]};Fa.$members$=sa[2];Fa.$listeners$=sa[3];Fa.$watchers$=ia.$watchers$;Fa.$attrsToReflect$=[];const Ca=ia.prototype.connectedCallback,Ja=ia.prototype.disconnectedCallback;Object.assign(ia.prototype,{__registerHost(){{const Sa={$flags$:0,$hostElement$:this,$cmpMeta$:Fa,$instanceValues$:new Map};w(this,Sa,Fa.$listeners$);ja.set(this,Sa)}},connectedCallback(){P(this);Ca&&Ca.call(this)},disconnectedCallback(){W(this);
Ja&&Ja.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(Fa.$flags$&16)})}});ia.is=Fa.$tagName$;return N(ia,Fa)}})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils"],function(a,b){function c(l,q){let m=q.children;if(m&&m.length)for(var t=0;t<m.length;++t)m[t]=c(l,m[t]);else m=n;t=q.vnodeSelector;if(r(t)){q=q.properties||k;const f=q.key||t;return{vnodeSelector:"div",properties:{key:f,afterCreate:e,afterUpdate:d,afterRemoved:p,
parentWidget:l,widgetConstructor:t,widgetProperties:{...q,key:f,children:m}},children:void 0,text:void 0,domNode:null}}return q}function e(l,q,m,{parentWidget:t,widgetConstructor:f,widgetProperties:h}){q=new f(h);q.container=l;g.set(l,q);null==q.afterCreate?void 0:q.afterCreate(q,l);t._internalHandles.add(b.makeHandle(()=>p(l)))}function d(l,q,m,{widgetProperties:t}){if(q=g.get(l))q.set(t),null==q.afterUpdate?void 0:q.afterUpdate(q,l)}function p(l){const q=g.get(l);q&&(q.destroy(),g.delete(l))}function r(l){return"function"===
typeof l&&l[u]}const u=Symbol("widget"),n=[],k={},g=new WeakMap;a.WIDGET_SYMBOL=u;a.isWidgetConstructor=r;a.processWidgets=c;Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=function(){return 0<b.size};a.registerLoading=function(c){b.add(c);c.finally(()=>b.delete(c))};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),function(a,b,c,e,d,p,r){a.accessibleHandler=b.accessibleHandler;a.messageBundle=c.messageBundle;a.vmEvent=e.vmEvent;a.tsx=d.tsx;a.tsxFragment=d.tsxFragment;a.additionalAllowedTags=p.additionalAllowedTags;a.classes=p.classes;a.cssTransition=p.cssTransition;a.discardNode=p.discardNode;a.getDir=p.getDir;
a.isActivationKey=p.isActivationKey;a.isRTL=p.isRTL;a.keepMenuItemWithinView=p.keepMenuItemWithinView;a.onResize=p.onResize;a.renderingSanitizer=p.renderingSanitizer;a.safeAttrs=p.safeAttrs;a.storeNode=p.storeNode;a.getCalciteThemeClass=r.getCalciteThemeClass;a.isDarkTheme=r.isDarkTheme;a.setCalciteThemeClass=r.setCalciteThemeClass;a.hasDomNode=function(u){return u&&"function"===typeof u.postMixInProperties&&"function"===typeof u.buildRendering&&"function"===typeof u.postCreate&&"function"===typeof u.startup};
a.isWidget=function(u){return u&&"function"===typeof u.render};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports","../widgetUtils"],function(a,b){function c(e){return function(d,...p){var r;({type:r}=d);(r=d instanceof KeyboardEvent||"keyup"===r||"keydown"===r||"keypress"===r)?b.isActivationKey(d.key)&&(d.preventDefault(),d.stopPropagation(),d.target.click()):e.call(this,d,...p)}}
a.accessibleHandler=function(){return function(e,d){if(!e[d])throw new TypeError(`Cannot auto bind undefined function '${d}'`);return{value:c(e[d])}}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=function(b){return(c,e)=>{c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?c._messageBundleProps.slice():[]);c._messageBundleProps.push({bundlePath:b,
propertyName:e})}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports","./propUtils"],function(a,b){a.vmEvent=function(c){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);e=e._delegatedEventNames;const d=Array.isArray(c)?c:b.splitProps(c);e.push(...d)}};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/widgets/support/decorators/propUtils":function(){define(["exports"],function(a){a.normalizePropNames=function(b,c){return b.map(e=>{e=0===e.indexOf(c)?e:`${c}.${e}`;return e})};a.splitProps=function(b){return b.split(",").map(c=>c.trim())};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(d,p){for(var r=0,u=d.length;r<u;r++){var n=d[r];Array.isArray(n)?
c(n,p):null!==n&&void 0!==n&&!1!==n&&(n.hasOwnProperty("vnodeSelector")||(n={vnodeSelector:"",properties:void 0,children:void 0,text:n.toString(),domNode:null}),p.push(n))}},e=function(d,p){for(var r=[],u=2;u<arguments.length;u++)r[u-2]=arguments[u];if(1===r.length&&"string"===typeof r[0])return{vnodeSelector:d,properties:p||void 0,children:void 0,text:r[0],domNode:null};u=[];c(r,u);return{vnodeSelector:d,properties:p||void 0,children:u,text:void 0,domNode:null}};a.tsx=function(d,p,...r){return"function"!==
typeof d||b.isWidgetConstructor(d)?e(d,p,...r):d(p,...r)};a.tsxFragment=function(...d){return d};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"").startsWith("dark")}function c(){return`${"calcite-theme-"}${b()?"dark":"light"}`}function e(d){Array.from(d.classList).forEach(p=>
{p.startsWith("calcite-theme-")&&d.classList.remove(p)})}a.getCalciteThemeClass=c;a.isDarkTheme=b;a.setCalciteThemeClass=function(d){e(d);d.classList.add(c())};Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})}}});require.boot&&require.apply(null,require.boot);