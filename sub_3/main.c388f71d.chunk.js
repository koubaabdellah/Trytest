(this["webpackJsonp@chw-local/project-search"]=this["webpackJsonp@chw-local/project-search"]||[]).push([[0],{152:function(e,t,a){"use strict";a.r(t),a(79);var r=a(0),n=a.n(r),c=a(76),s=a.n(c),i=a(29),l=a(44),o=a(3),p=a(4),u=a(5),h=a(6);function d(e,t){return function(e,t){return e&&t?e.replace(/\[\w+\]/g,(function(e){return t[e.slice(1,-1)]||e})):e}(void 0!==window.iprox?window.iprox.referenceLists.getText(e,"projectensnelzoeker"):e,t)}var m=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return d(this.props.children,this.props.data)}}]),a}(r.PureComponent),f=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.facets,a=this.props.defaultText,n=this.props.inputName,c=this.props.labelText;return r.createElement("div",{className:"rij mode_input pulldown"},r.createElement("div",{className:"label"},r.createElement("label",{htmlFor:"snelzoeker_"+n.replace(" ","_")},r.createElement(m,null,c))),r.createElement("div",{className:"invoer"},r.createElement("select",{defaultValue:"",name:n,className:"select",id:"snelzoeker_"+n.replace(" ","_"),onChange:function(t){return e.props.selectChanged(t.target.value,n)}},r.createElement("option",{value:""},d(a)),t.map((function(e){return r.createElement("option",{key:e.id,value:e.id},e.facet," (",e.count,")")})))))}}]),a}(r.Component),v=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.facet||{facet:"...",id:0,count:0},t=this.props.facetCheckboxClicked;return r.createElement("div",{className:"antwoord"},r.createElement("input",{type:"checkbox",id:"snelzoeker_facet_"+e.id,name:"Zoe_Selected_facet:Overige kenmerken",onClick:function(a){return t(e.id)},value:e.id}),r.createElement("label",{htmlFor:"snelzoeker_facet_"+e.id},e.facet," (",e.count,")"))}}]),a}(r.Component),k=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.statusFacets,t=this.props.artikelFacets,a=this.props.trancheFacets,n=this.props.overigeKenmerkenFacets;return r.createElement("div",{className:"expanded-search has-bgcolor has-bright-bgcolor"},r.createElement("div",{className:"search-row"},r.createElement(f,{facets:e,labelText:"Status",defaultText:"Kies een status",selectChanged:this.props.selectChanged,inputName:"Zoe_Selected_facet:Status project"}),r.createElement(f,{facets:t,labelText:"Artikel Chw",defaultText:"Kies een artikel",selectChanged:this.props.selectChanged,inputName:"Zoe_Selected_facet:Artikel Chw"}),r.createElement(f,{facets:a,labelText:"Tranche",defaultText:"Kies een tranche",selectChanged:this.props.selectChanged,inputName:"Zoe_Selected_facet:Tranche Chw"})),r.createElement("div",{className:"search-row"},r.createElement("div",{className:"rij mode_input checkboxes_custom"},r.createElement("div",{className:"label"},r.createElement("span",{className:"setlabel"},"Kenmerk")),r.createElement("div",{className:"invoer"},r.createElement("div",{className:"antwoorden"},r.createElement(v,{facetCheckboxClicked:this.props.facetCheckboxClicked,facet:n.filter((function(e){return"Jurisprudentie"===e.facet}))[0]}),r.createElement(v,{facetCheckboxClicked:this.props.facetCheckboxClicked,facet:n.filter((function(e){return"Milieu Effect Rapportage"===e.facet}))[0]}),r.createElement(v,{facetCheckboxClicked:this.props.facetCheckboxClicked,facet:n.filter((function(e){return"Innovatie juridisch instrument"===e.facet}))[0]}),r.createElement(v,{facetCheckboxClicked:this.props.facetCheckboxClicked,facet:n.filter((function(e){return"Instrumenten verbrede reikwijdte toegepast"===e.facet}))[0]}))))))}}]),a}(r.Component),b=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.themaFacets,t=this.props.typeOverheidFacets,a=this.props.vooruitlopendFacets;return r.createElement("div",{className:"search-row"},r.createElement("div",{className:"rij mode_input text"},r.createElement("div",{className:"label"},r.createElement("label",{htmlFor:"snelzoeker_zoeken_term"},r.createElement(m,null,"Zoekterm"))),r.createElement("div",{className:"invoer"},r.createElement("input",{name:"zoeken_term",type:"text",placeholder:d("trefwoord, bijvoorbeeld gemeente"),id:"snelzoeker_zoeken_term"}))),r.createElement(f,{facets:t,labelText:"Overheid",defaultText:"Kies een type",selectChanged:this.props.selectChanged,inputName:"Zoe_Selected_facet:Type overheid"}),r.createElement(f,{facets:e,labelText:"Thema",defaultText:"Kies een thema",selectChanged:this.props.selectChanged,inputName:"Zoe_Selected_facet:Thema"}),r.createElement(f,{facets:a,labelText:"Vooruitlopend op de Omgevingswet",defaultText:"Kies ja of nee",selectChanged:this.props.selectChanged,inputName:"Zoe_Selected_facet:Vooruitlopend op de Omgevingswet"}))}}]),a}(r.Component),g=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.expanded;return r.createElement("div",{className:"search-row"},r.createElement("div",{className:"quick-search"},r.createElement("button",{type:"button",onClick:this.props.toggleExpanded},e&&r.createElement(m,null,"Simpel zoeken"),!e&&r.createElement(m,null,"Uitgebreid zoeken"))),r.createElement("div",{className:"search-submit"},r.createElement("button",{type:"submit"},r.createElement(m,null,"Toon projecten")," (",this.props.projectCount,")")),r.createElement("div",{className:"erase-search"},r.createElement("button",{type:"button",onClick:this.props.resetForm},r.createElement(m,null,"Alles wissen"))))}}]),a}(r.Component),E=a(77),C=a.n(E),j=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchData:{record_count:0},expanded:e.props.config.defaultExpandedState,themaFacets:[],statusFacets:[],artikelFacets:[],trancheFacets:[],typeOverheidFacets:[],overigeKenmerkenFacets:[],vooruitlopendFacets:[],params:{}},e.apiUrl=e.props.config.apiEndpoint,e.initialSearchParams={AppIdt:"project-search",startpunt:e.props.config.starter,facetten:e.props.config.facetten},e.searchParams=e.initialSearchParams,e.selectedOverigeKenmerken=[],e}return Object(p.a)(a,[{key:"ensurefacetArray",value:function(e,t){var a=e.filter((function(e){return e.name===t}));return a.length?a[0].facet:[]}},{key:"selectChanged",value:function(e,t){this.searchParams=Object(l.a)({},this.searchParams,Object(i.a)({},t,e)),this.callApi()}},{key:"callApi",value:function(){var e=this;C.a.get(this.apiUrl,{params:this.searchParams}).then((function(t){var a=t.data,r=e.ensurefacetArray(a.facetklasse,"Thema"),n=e.ensurefacetArray(a.facetklasse,"Status project"),c=e.ensurefacetArray(a.facetklasse,"Artikel Chw"),s=e.ensurefacetArray(a.facetklasse,"Tranche Chw"),i=e.ensurefacetArray(a.facetklasse,"Type overheid"),l=e.ensurefacetArray(a.facetklasse,"Overige kenmerken"),o=e.ensurefacetArray(a.facetklasse,"Vooruitlopend op de Omgevingswet");e.setState({searchData:a,statusFacets:n,themaFacets:r,artikelFacets:c,trancheFacets:s,typeOverheidFacets:i,overigeKenmerkenFacets:l,vooruitlopendFacets:o,params:e.searchParams})}))}},{key:"facetCheckboxClicked",value:function(e){var t=this.selectedOverigeKenmerken.indexOf(e);-1===t?this.selectedOverigeKenmerken.push(e):this.selectedOverigeKenmerken.slice(t,1),this.searchParams=Object(l.a)({},this.searchParams,{"Zoe_Selected_facet:Overige kenmerken":this.selectedOverigeKenmerken.join()}),this.callApi()}},{key:"resetForm",value:function(){this.searchParams=this.initialSearchParams,this.formElement.reset(),this.callApi()}},{key:"toggleExpanded",value:function(e){e.preventDefault(),this.setState({expanded:!this.state.expanded})}},{key:"componentDidMount",value:function(){this.resetForm()}},{key:"render",value:function(){var e=this;return r.createElement("form",{action:this.apiUrl,ref:function(t){return e.formElement=t}},r.createElement(b,{themaFacets:this.state.themaFacets,typeOverheidFacets:this.state.typeOverheidFacets,vooruitlopendFacets:this.state.vooruitlopendFacets,selectChanged:function(t,a){return e.selectChanged(t,a)}}),r.createElement(g,{toggleExpanded:function(t){return e.toggleExpanded(t)},resetForm:function(){return e.resetForm()},projectCount:this.state.searchData.record_count,expanded:this.state.expanded}),this.state.expanded&&r.createElement(k,{selectChanged:function(t,a){return e.selectChanged(t,a)},facetCheckboxClicked:function(t){return e.facetCheckboxClicked(t)},statusFacets:this.state.statusFacets,artikelFacets:this.state.artikelFacets,trancheFacets:this.state.trancheFacets,overigeKenmerkenFacets:this.state.overigeKenmerkenFacets}))}}]),a}(r.Component),O=document.getElementById("projectenzoeker"),x=O.dataset.config&&JSON.parse(O.dataset.config)||window.devConfigProjectSearch;s.a.render(n.a.createElement(j,{config:x}),O)},78:function(e,t,a){e.exports=a(152)}},[[78,1,2]]]);