var util=(function(){var c={};c.isNumber=function(g){if(g!=null&&g!=""){return !isNaN(g)}return false};c.setPageTitle=function(g){document.title=g+" - AppStudio"};c.generateQR=function(i,j,h,g){if(!h){h=75}if(!g){g=75}if(i&&$(i)){$(i).empty();new QRCode(i,{text:j,width:h,height:g,colorDark:"#000000",colorLight:"#FFFFFF",correctLevel:QRCode.CorrectLevel.L})}};c.queryUrlParameters=function(h){var g={};if(!h){h=window.location.search||window.location.hash}if(h.indexOf("#")===0){h=h.substr(1)}if(h.lastIndexOf("#")===h.length-1){h=h.substring(0,h.length-1)}var i=h.split(/\?|\&/);i.forEach(function(j){if(j){var k=j.split("=");g[k[0]]=k[1]}});return g};c.checkToken=function(g,h,i){if(g&&g.isLoggedin&&g.isLoggedin()){if(i){i()}}else{if(h){h.signin(function(){if(i){i()}})}}};c.getClientURL=function(){return window.location.protocol+"//"+window.location.host};c.getClientConfig=function(){return d()};function d(){var h={};var g=Cookies.get("client_config");if(g){h=JSON.parse(g)}return h}c.showMessage=function(g,i,h){e(g,i,h)};var e=(function(){var i=3000;var h=new Date((new Date()).getTime()-i);var g=function(j,l,k){a(j,l,k)};return function(){if((h.getTime()+i)<=(new Date()).getTime()){h=new Date();return g.apply(this,arguments)}}}());function a(g,i,h){if(!g[0]){$("body").append('<div id="message-hint" class="alert alert-success" role="alert"></div>');g=$("#message-hint")}g.show();g.removeClass("alert-success");g.removeClass("alert-danger");g.removeClass("alert-dismissible");if(i){g.html(h);g.addClass("alert-success");g.animate({top:"0px"},1000,function(){setTimeout(function(){g.animate({top:"-60px"},1000)},2000)})}else{g.html('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'+h);g.addClass("alert-danger");g.addClass("alert-dismissible");g.animate({top:"0px"},1000)}}c.getPlistURL=function(i,g,k,h,j){b(i,g,k,h,j)};function b(j,h,l,i,k){var g=d();if(g&&g.buildServiceUrl){agolRestHelper.getItemInfo(l,i,j,function(o){var n=JSON.parse(o);if(n&&n.typeKeywords){var m=f(n.typeKeywords);if(m){var q={title:n.name.substring(0,n.name.length-4),bundleId:m};var p="/appstudio/rest/serverrest/plist?"+encodeURIComponent($.param(q))+"%26url%3D"+encodeURIComponent(h);p=c.getClientURL()+p;p=p.replace("http://","https://");c.shorten(p,i,function(r){var s="itms-services://?action=download-manifest&url="+r.replace("http:","https:");if(k){k(s)}})}}})}else{console.log("Cookies error")}}function f(h){var j="ios-bundle-id-";for(var g=0;g<h.length;g++){if(h[g].indexOf(j)===0){return h[g].substring(j.length)}}return""}c.rot13=function(g){return g.replace(/[A-Za-z]/g,function(h){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt("NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm".indexOf(h))})};c.shorten=function(g,h,i){$.ajax({type:"GET",url:"https://arcg.is/prod/shorten?longUrl="+g+"&f=json&token="+h,dataType:"jsonp",success:function(j){if(j){if(i){if(j.status_code===200&&j.data.url.indexOf("//arcg.is")!=-1){i(j.data.url)}else{i(g)}}}},error:function(j){console.log(j)}})};return c}());