//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.
!function(e=window,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function a(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(n(e,t))return!1;return!0}function o(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var a,i=[],s=e.length;for(a=0;a<s;++a)i.push(t(e[a],a));return i}function u(e,t){for(var a in t)n(t,a)&&(e[a]=t[a]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,a,i){return _t(e,t,a,i,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var a=f(e),i=t.call(a.parsedDateParts,(function(e){return null!=e})),s=!isNaN(e._d.getTime())&&a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&i);if(e._strict&&(s=s&&0===a.charsLeftOver&&0===a.unusedTokens.length&&void 0===a.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=c(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){var t,a=Object(this),i=a.length>>>0;for(t=0;t<i;t++)if(t in a&&e.call(this,a[t],t,a))return!0;return!1};var p=a.momentProperties=[],v=!1;function b(e,t){var a,i,s,n=p.length;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),n>0)for(a=0;a<n;a++)o(s=t[i=p[a]])||(e[i]=s);return e}function y(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,a.updateOffset(this),v=!1)}function D(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function k(e){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function I(e,t){var i=!0;return u((function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,e),i){var s,r,o,l=[],d=arguments.length;for(r=0;r<d;r++){if(s="","object"==typeof arguments[r]){for(o in s+="\n["+r+"] ",arguments[0])n(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[r];l.push(s)}k(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var _,S={};function V(e,t){null!=a.deprecationHandler&&a.deprecationHandler(e,t),S[e]||(k(t),S[e]=!0)}function x(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function w(e,t){var a,i=u({},e);for(a in t)n(t,a)&&(s(e[a])&&s(t[a])?(i[a]={},u(i[a],e[a]),u(i[a],t[a])):null!=t[a]?i[a]=t[a]:delete i[a]);for(a in e)n(e,a)&&!n(t,a)&&s(e[a])&&(i[a]=u({},i[a]));return i}function T(e){null!=e&&this.set(e)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,_=Object.keys?Object.keys:function(e){var t,a=[];for(t in e)n(e,t)&&a.push(t);return a};function M(e,t,a){var i=""+Math.abs(e),s=t-i.length;return(e>=0?a?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}var $=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,C=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},Y={};function E(e,t,a,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),e&&(Y[e]=s),t&&(Y[t[0]]=function(){return M(s.apply(this,arguments),t[1],t[2])}),a&&(Y[a]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function R(e,t){return e.isValid()?(t=B(t,e.localeData()),N[t]=N[t]||function(e){var t,a,i,s=e.match($);for(t=0,a=s.length;t<a;t++)Y[s[t]]?s[t]=Y[s[t]]:s[t]=(i=s[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,n="";for(i=0;i<a;i++)n+=x(s[i])?s[i].call(t,e):s[i];return n}}(t),N[t](e)):e.localeData().invalidDate()}function B(e,t){var a=5;function i(e){return t.longDateFormat(e)||e}for(C.lastIndex=0;a>=0&&C.test(e);)e=e.replace(C,i),C.lastIndex=0,a-=1;return e}var O={};function A(e,t){var a=e.toLowerCase();O[a]=O[a+"s"]=O[t]=e}function j(e){return"string"==typeof e?O[e]||O[e.toLowerCase()]:void 0}function P(e){var t,a,i={};for(a in e)n(e,a)&&(t=j(a))&&(i[t]=e[a]);return i}var L={};function q(e,t){L[e]=t}function F(e){return e%4==0&&e%100!=0||e%400==0}function W(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function H(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=W(t)),a}function G(e,t){return function(i){return null!=i?(z(this,e,i),a.updateOffset(this,t),this):U(this,e)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function z(e,t,a){e.isValid()&&!isNaN(a)&&("FullYear"===t&&F(e.year())&&1===e.month()&&29===e.date()?(a=H(a),e._d["set"+(e._isUTC?"UTC":"")+t](a,e.month(),De(a,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](a))}var J,Z=/\d/,Q=/\d\d/,K=/\d{3}/,X=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ae=/\d\d\d\d?/,ie=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,oe=/\d+/,le=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ce(e,t,a){J[e]=x(t)?t:function(e,i){return e&&a?a:t}}function fe(e,t){return n(J,e)?J[e](t._strict,t._locale):new RegExp(ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,a,i,s){return t||a||i||s}))))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var me={};function pe(e,t){var a,i,s=t;for("string"==typeof e&&(e=[e]),l(t)&&(s=function(e,a){a[t]=H(e)}),i=e.length,a=0;a<i;a++)me[e[a]]=s}function ve(e,t){pe(e,(function(e,a,i,s){i._w=i._w||{},t(e,i._w,i,s)}))}function be(e,t,a){null!=t&&n(me,e)&&me[e](t,a._a,a,e)}var ye;function De(e,t){if(isNaN(e)||isNaN(t))return NaN;var a,i=(t%(a=12)+a)%a;return e+=(t-i)/12,1===i?F(e)?29:28:31-i%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},E("M",["MM",2],"Mo",(function(){return this.month()+1})),E("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),E("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),A("month","M"),q("month",8),ce("M",te),ce("MM",te,Q),ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),ce("MMMM",(function(e,t){return t.monthsRegex(e)})),pe(["M","MM"],(function(e,t){t[1]=H(e)-1})),pe(["MMM","MMMM"],(function(e,t,a,i){var s=a._locale.monthsParse(e,i,a._strict);null!=s?t[1]=s:f(a).invalidMonth=e}));var ke="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Se=ue,Ve=ue;function xe(e,t,a){var i,s,n,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)n=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(n,"").toLocaleLowerCase();return a?"MMM"===t?-1!==(s=ye.call(this._shortMonthsParse,r))?s:null:-1!==(s=ye.call(this._longMonthsParse,r))?s:null:"MMM"===t?-1!==(s=ye.call(this._shortMonthsParse,r))||-1!==(s=ye.call(this._longMonthsParse,r))?s:null:-1!==(s=ye.call(this._longMonthsParse,r))||-1!==(s=ye.call(this._shortMonthsParse,r))?s:null}function we(e,t){var a;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=H(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return a=Math.min(e.date(),De(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,a),e}function Te(e){return null!=e?(we(this,e),a.updateOffset(this,!0),this):U(this,"Month")}function Me(){function e(e,t){return t.length-e.length}var t,a,i=[],s=[],n=[];for(t=0;t<12;t++)a=c([2e3,t]),i.push(this.monthsShort(a,"")),s.push(this.months(a,"")),n.push(this.months(a,"")),n.push(this.monthsShort(a,""));for(i.sort(e),s.sort(e),n.sort(e),t=0;t<12;t++)i[t]=ge(i[t]),s[t]=ge(s[t]);for(t=0;t<24;t++)n[t]=ge(n[t]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function $e(e){return F(e)?366:365}E("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),E(0,["YY",2],0,(function(){return this.year()%100})),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),A("year","y"),q("year",1),ce("Y",le),ce("YY",te,Q),ce("YYYY",ne,X),ce("YYYYY",re,ee),ce("YYYYYY",re,ee),pe(["YYYYY","YYYYYY"],0),pe("YYYY",(function(e,t){t[0]=2===e.length?a.parseTwoDigitYear(e):H(e)})),pe("YY",(function(e,t){t[0]=a.parseTwoDigitYear(e)})),pe("Y",(function(e,t){t[0]=parseInt(e,10)})),a.parseTwoDigitYear=function(e){return H(e)+(H(e)>68?1900:2e3)};var Ce=G("FullYear",!0);function Ne(e,t,a,i,s,n,r){var o;return e<100&&e>=0?(o=new Date(e+400,t,a,i,s,n,r),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,a,i,s,n,r),o}function Ye(e){var t,a;return e<100&&e>=0?((a=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,a)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ee(e,t,a){var i=7+t-a;return-((7+Ye(e,0,i).getUTCDay()-t)%7)+i-1}function Re(e,t,a,i,s){var n,r,o=1+7*(t-1)+(7+a-i)%7+Ee(e,i,s);return o<=0?r=$e(n=e-1)+o:o>$e(e)?(n=e+1,r=o-$e(e)):(n=e,r=o),{year:n,dayOfYear:r}}function Be(e,t,a){var i,s,n=Ee(e.year(),t,a),r=Math.floor((e.dayOfYear()-n-1)/7)+1;return r<1?i=r+Oe(s=e.year()-1,t,a):r>Oe(e.year(),t,a)?(i=r-Oe(e.year(),t,a),s=e.year()+1):(s=e.year(),i=r),{week:i,year:s}}function Oe(e,t,a){var i=Ee(e,t,a),s=Ee(e+1,t,a);return($e(e)-i+s)/7}E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),q("week",5),q("isoWeek",5),ce("w",te),ce("ww",te,Q),ce("W",te),ce("WW",te,Q),ve(["w","ww","W","WW"],(function(e,t,a,i){t[i.substr(0,1)]=H(e)}));function Ae(e,t){return e.slice(t,7).concat(e.slice(0,t))}E("d",0,"do","day"),E("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),E("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),E("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),ce("d",te),ce("e",te),ce("E",te),ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),ve(["dd","ddd","dddd"],(function(e,t,a,i){var s=a._locale.weekdaysParse(e,i,a._strict);null!=s?t.d=s:f(a).invalidWeekday=e})),ve(["d","e","E"],(function(e,t,a,i){t[i]=H(e)}));var je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Le="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=ue,Fe=ue,We=ue;function He(e,t,a){var i,s,n,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)n=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(n,"").toLocaleLowerCase();return a?"dddd"===t?-1!==(s=ye.call(this._weekdaysParse,r))?s:null:"ddd"===t?-1!==(s=ye.call(this._shortWeekdaysParse,r))?s:null:-1!==(s=ye.call(this._minWeekdaysParse,r))?s:null:"dddd"===t?-1!==(s=ye.call(this._weekdaysParse,r))||-1!==(s=ye.call(this._shortWeekdaysParse,r))||-1!==(s=ye.call(this._minWeekdaysParse,r))?s:null:"ddd"===t?-1!==(s=ye.call(this._shortWeekdaysParse,r))||-1!==(s=ye.call(this._weekdaysParse,r))||-1!==(s=ye.call(this._minWeekdaysParse,r))?s:null:-1!==(s=ye.call(this._minWeekdaysParse,r))||-1!==(s=ye.call(this._weekdaysParse,r))||-1!==(s=ye.call(this._shortWeekdaysParse,r))?s:null}function Ge(){function e(e,t){return t.length-e.length}var t,a,i,s,n,r=[],o=[],l=[],d=[];for(t=0;t<7;t++)a=c([2e3,1]).day(t),i=ge(this.weekdaysMin(a,"")),s=ge(this.weekdaysShort(a,"")),n=ge(this.weekdays(a,"")),r.push(i),o.push(s),l.push(n),d.push(i),d.push(s),d.push(n);r.sort(e),o.sort(e),l.sort(e),d.sort(e),this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ue(){return this.hours()%12||12}function ze(e,t){E(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Je(e,t){return t._meridiemParse}E("H",["HH",2],0,"hour"),E("h",["hh",2],0,Ue),E("k",["kk",2],0,(function(){return this.hours()||24})),E("hmm",0,0,(function(){return""+Ue.apply(this)+M(this.minutes(),2)})),E("hmmss",0,0,(function(){return""+Ue.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),E("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),E("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),ze("a",!0),ze("A",!1),A("hour","h"),q("hour",13),ce("a",Je),ce("A",Je),ce("H",te),ce("h",te),ce("k",te),ce("HH",te,Q),ce("hh",te,Q),ce("kk",te,Q),ce("hmm",ae),ce("hmmss",ie),ce("Hmm",ae),ce("Hmmss",ie),pe(["H","HH"],3),pe(["k","kk"],(function(e,t,a){var i=H(e);t[3]=24===i?0:i})),pe(["a","A"],(function(e,t,a){a._isPm=a._locale.isPM(e),a._meridiem=e})),pe(["h","hh"],(function(e,t,a){t[3]=H(e),f(a).bigHour=!0})),pe("hmm",(function(e,t,a){var i=e.length-2;t[3]=H(e.substr(0,i)),t[4]=H(e.substr(i)),f(a).bigHour=!0})),pe("hmmss",(function(e,t,a){var i=e.length-4,s=e.length-2;t[3]=H(e.substr(0,i)),t[4]=H(e.substr(i,2)),t[5]=H(e.substr(s)),f(a).bigHour=!0})),pe("Hmm",(function(e,t,a){var i=e.length-2;t[3]=H(e.substr(0,i)),t[4]=H(e.substr(i))})),pe("Hmmss",(function(e,t,a){var i=e.length-4,s=e.length-2;t[3]=H(e.substr(0,i)),t[4]=H(e.substr(i,2)),t[5]=H(e.substr(s))}));var Ze=G("Hours",!0);var Qe,Ke={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ke,monthsShort:Ie,week:{dow:0,doy:6},weekdays:je,weekdaysMin:Le,weekdaysShort:Pe,meridiemParse:/[ap]\.?m?\.?/i},Xe={},et={};function tt(e,t){var a,i=Math.min(e.length,t.length);for(a=0;a<i;a+=1)if(e[a]!==t[a])return a;return i}function at(e){return e?e.toLowerCase().replace("_","-"):e}function it(e){var t=null;if(void 0===Xe[e]&&"undefined"!=typeof module&&module&&module.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(e))try{t=Qe._abbr,require("./locale/"+e),st(t)}catch(t){Xe[e]=null}return Xe[e]}function st(e,t){var a;return e&&((a=o(t)?rt(e):nt(e,t))?Qe=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Qe._abbr}function nt(e,t){if(null!==t){var a,i=Ke;if(t.abbr=e,null!=Xe[e])V("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Xe[e]._config;else if(null!=t.parentLocale)if(null!=Xe[t.parentLocale])i=Xe[t.parentLocale]._config;else{if(null==(a=it(t.parentLocale)))return et[t.parentLocale]||(et[t.parentLocale]=[]),et[t.parentLocale].push({name:e,config:t}),null;i=a._config}return Xe[e]=new T(w(i,t)),et[e]&&et[e].forEach((function(e){nt(e.name,e.config)})),st(e),Xe[e]}return delete Xe[e],null}function rt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qe;if(!i(e)){if(t=it(e))return t;e=[e]}return function(e){for(var t,a,i,s,n=0;n<e.length;){for(t=(s=at(e[n]).split("-")).length,a=(a=at(e[n+1]))?a.split("-"):null;t>0;){if(i=it(s.slice(0,t).join("-")))return i;if(a&&a.length>=t&&tt(s,a)>=t-1)break;t--}n++}return Qe}(e)}function ot(e){var t,a=e._a;return a&&-2===f(e).overflow&&(t=a[1]<0||a[1]>11?1:a[2]<1||a[2]>De(a[0],a[1])?2:a[3]<0||a[3]>24||24===a[3]&&(0!==a[4]||0!==a[5]||0!==a[6])?3:a[4]<0||a[4]>59?4:a[5]<0||a[5]>59?5:a[6]<0||a[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var lt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,ut=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ct=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((-?\d+)/i,gt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pt(e){var t,a,i,s,n,r,o=e._i,l=lt.exec(o)||dt.exec(o),d=ut.length,h=ct.length;if(l){for(f(e).iso=!0,t=0,a=d;t<a;t++)if(ut[t][1].exec(l[1])){s=ut[t][0],i=!1!==ut[t][2];break}if(null==s)return void(e._isValid=!1);if(l[3]){for(t=0,a=h;t<a;t++)if(ct[t][1].exec(l[3])){n=(l[2]||" ")+ct[t][0];break}if(null==n)return void(e._isValid=!1)}if(!i&&null!=n)return void(e._isValid=!1);if(l[4]){if(!ht.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=s+(n||"")+(r||""),kt(e)}else e._isValid=!1}function vt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bt(e){var t,a,i,s,n,r,o,l,d=gt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(d){if(a=d[4],i=d[3],s=d[2],n=d[5],r=d[6],o=d[7],l=[vt(a),Ie.indexOf(i),parseInt(s,10),parseInt(n,10),parseInt(r,10)],o&&l.push(parseInt(o,10)),t=l,!function(e,t,a){return!e||Pe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(a).weekdayMismatch=!0,a._isValid=!1,!1)}(d[1],t,e))return;e._a=t,e._tzm=function(e,t,a){if(e)return mt[e];if(t)return 0;var i=parseInt(a,10),s=i%100;return(i-s)/100*60+s}(d[8],d[9],d[10]),e._d=Ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function yt(e,t,a){return null!=e?e:null!=t?t:a}function Dt(e){var t,i,s,n,r,o=[];if(!e._d){for(s=function(e){var t=new Date(a.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,a,i,s,n,r,o,l,d;null!=(t=e._w).GG||null!=t.W||null!=t.E?(n=1,r=4,a=yt(t.GG,e._a[0],Be(St(),1,4).year),i=yt(t.W,1),((s=yt(t.E,1))<1||s>7)&&(l=!0)):(n=e._locale._week.dow,r=e._locale._week.doy,d=Be(St(),n,r),a=yt(t.gg,e._a[0],d.year),i=yt(t.w,d.week),null!=t.d?((s=t.d)<0||s>6)&&(l=!0):null!=t.e?(s=t.e+n,(t.e<0||t.e>6)&&(l=!0)):s=n);i<1||i>Oe(a,n,r)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(o=Re(a,i,s,n,r),e._a[0]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=yt(e._a[0],s[0]),(e._dayOfYear>$e(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=Ye(r,0,e._dayOfYear),e._a[1]=i.getUTCMonth(),e._a[2]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=s[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ye:Ne).apply(null,o),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(f(e).weekdayMismatch=!0)}}function kt(e){if(e._f!==a.ISO_8601)if(e._f!==a.RFC_2822){e._a=[],f(e).empty=!0;var t,i,s,n,r,o,l,d=""+e._i,h=d.length,u=0;for(l=(s=B(e._f,e._locale).match($)||[]).length,t=0;t<l;t++)n=s[t],(i=(d.match(fe(n,e))||[])[0])&&((r=d.substr(0,d.indexOf(i))).length>0&&f(e).unusedInput.push(r),d=d.slice(d.indexOf(i)+i.length),u+=i.length),Y[n]?(i?f(e).empty=!1:f(e).unusedTokens.push(n),be(n,i,e)):e._strict&&!i&&f(e).unusedTokens.push(n);f(e).charsLeftOver=h-u,d.length>0&&f(e).unusedInput.push(d),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,a){var i;if(null==a)return t;return null!=e.meridiemHour?e.meridiemHour(t,a):null!=e.isPM?((i=e.isPM(a))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(o=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(o,e._a[0])),Dt(e),ot(e)}else bt(e);else pt(e)}function It(e){var t=e._i,n=e._f;return e._locale=e._locale||rt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),D(t)?new y(ot(t)):(d(t)?e._d=t:i(n)?function(e){var t,a,i,s,n,r,o=!1,l=e._f.length;if(0===l)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<l;s++)n=0,r=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],kt(t),g(t)&&(r=!0),n+=f(t).charsLeftOver,n+=10*f(t).unusedTokens.length,f(t).score=n,o?n<i&&(i=n,a=t):(null==i||n<i||r)&&(i=n,a=t,r&&(o=!0));u(e,a||t)}(e):n?kt(e):function(e){var t=e._i;o(t)?e._d=new Date(a.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ft.exec(e._i);null===t?(pt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:a.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Dt(e)):s(t)?function(e){if(!e._d){var t=P(e._i),a=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,a,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Dt(e)}}(e):l(t)?e._d=new Date(t):a.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function _t(e,t,a,n,o){var l,d={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==a&&!1!==a||(n=a,a=void 0),(s(e)&&r(e)||i(e)&&0===e.length)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=o,d._l=a,d._i=e,d._f=t,d._strict=n,(l=new y(ot(It(d))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function St(e,t,a,i){return _t(e,t,a,i,!1)}a.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),a.ISO_8601=function(){},a.RFC_2822=function(){};var Vt=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),xt=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function wt(e,t){var a,s;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return St();for(a=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](a)||(a=t[s]);return a}var Tt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=P(e),a=t.year||0,i=t.quarter||0,s=t.month||0,r=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,d=t.minute||0,h=t.second||0,u=t.millisecond||0;this._isValid=function(e){var t,a,i=!1,s=Tt.length;for(t in e)if(n(e,t)&&(-1===ye.call(Tt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(a=0;a<s;++a)if(e[Tt[a]]){if(i)return!1;parseFloat(e[Tt[a]])!==H(e[Tt[a]])&&(i=!0)}return!0}(t),this._milliseconds=+u+1e3*h+6e4*d+1e3*l*60*60,this._days=+o+7*r,this._months=+s+3*i+12*a,this._data={},this._locale=rt(),this._bubble()}function $t(e){return e instanceof Mt}function Ct(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,t){E(e,0,0,(function(){var e=this.utcOffset(),a="+";return e<0&&(e=-e,a="-"),a+M(~~(e/60),2)+t+M(~~e%60,2)}))}Nt("Z",":"),Nt("ZZ",""),ce("Z",he),ce("ZZ",he),pe(["Z","ZZ"],(function(e,t,a){a._useUTC=!0,a._tzm=Et(he,e)}));var Yt=/([\+\-]|\d\d)/gi;function Et(e,t){var a,i,s=(t||"").match(e);return null===s?null:0===(i=60*(a=((s[s.length-1]||[])+"").match(Yt)||["-",0,0])[1]+H(a[2]))?0:"+"===a[0]?i:-i}function Rt(e,t){var i,s;return t._isUTC?(i=t.clone(),s=(D(e)||d(e)?e.valueOf():St(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),a.updateOffset(i,!1),i):St(e).local()}function Bt(e){return-Math.round(e._d.getTimezoneOffset())}function Ot(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}a.updateOffset=function(){};var At=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Pt(e,t){var a,i,s,r=e,o=null;return $t(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(o=At.exec(e))?(a="-"===o[1]?-1:1,r={y:0,d:H(o[2])*a,h:H(o[3])*a,m:H(o[4])*a,s:H(o[5])*a,ms:H(Ct(1e3*o[6]))*a}):(o=jt.exec(e))?(a="-"===o[1]?-1:1,r={y:Lt(o[2],a),M:Lt(o[3],a),w:Lt(o[4],a),d:Lt(o[5],a),h:Lt(o[6],a),m:Lt(o[7],a),s:Lt(o[8],a)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(s=function(e,t){var a;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Rt(t,e),e.isBefore(t)?a=qt(e,t):((a=qt(t,e)).milliseconds=-a.milliseconds,a.months=-a.months);return a}(St(r.from),St(r.to)),(r={}).ms=s.milliseconds,r.M=s.months),i=new Mt(r),$t(e)&&n(e,"_locale")&&(i._locale=e._locale),$t(e)&&n(e,"_isValid")&&(i._isValid=e._isValid),i}function Lt(e,t){var a=e&&parseFloat(e.replace(",","."));return(isNaN(a)?0:a)*t}function qt(e,t){var a={};return a.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+e.clone().add(a.months,"M"),a}function Ft(e,t){return function(a,i){var s;return null===i||isNaN(+i)||(V(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=a,a=i,i=s),Wt(this,Pt(a,i),e),this}}function Wt(e,t,i,s){var n=t._milliseconds,r=Ct(t._days),o=Ct(t._months);e.isValid()&&(s=null==s||s,o&&we(e,U(e,"Month")+o*i),r&&z(e,"Date",U(e,"Date")+r*i),n&&e._d.setTime(e._d.valueOf()+n*i),s&&a.updateOffset(e,r||o))}Pt.fn=Mt.prototype,Pt.invalid=function(){return Pt(NaN)};var Ht=Ft(1,"add"),Gt=Ft(-1,"subtract");function Ut(e){return"string"==typeof e||e instanceof String}function zt(e){return D(e)||d(e)||Ut(e)||l(e)||function(e){var t=i(e),a=!1;t&&(a=0===e.filter((function(t){return!l(t)&&Ut(e)})).length);return t&&a}(e)||function(e){var t,a,i=s(e)&&!r(e),o=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],d=l.length;for(t=0;t<d;t+=1)a=l[t],o=o||n(e,a);return i&&o}(e)||null==e}function Jt(e){var t,a=s(e)&&!r(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)i=i||n(e,o[t]);return a&&i}function Zt(e,t){if(e.date()<t.date())return-Zt(t,e);var a=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(a,"months");return-(a+(t-i<0?(t-i)/(i-e.clone().add(a-1,"months")):(t-i)/(e.clone().add(a+1,"months")-i)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=rt(e))&&(this._locale=t),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kt=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Xt(){return this._locale}var ea=1e3,ta=6e4,aa=36e5,ia=126227808e5;function sa(e,t){return(e%t+t)%t}function na(e,t,a){return e<100&&e>=0?new Date(e+400,t,a)-ia:new Date(e,t,a).valueOf()}function ra(e,t,a){return e<100&&e>=0?Date.UTC(e+400,t,a)-ia:Date.UTC(e,t,a)}function oa(e,t){return t.erasAbbrRegex(e)}function la(){var e,t,a=[],i=[],s=[],n=[],r=this.eras();for(e=0,t=r.length;e<t;++e)i.push(ge(r[e].name)),a.push(ge(r[e].abbr)),s.push(ge(r[e].narrow)),n.push(ge(r[e].name)),n.push(ge(r[e].abbr)),n.push(ge(r[e].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function da(e,t){E(0,[e,e.length],0,t)}function ha(e,t,a,i,s){var n;return null==e?Be(this,i,s).year:(t>(n=Oe(e,i,s))&&(t=n),ua.call(this,e,t,a,i,s))}function ua(e,t,a,i,s){var n=Re(e,t,a,i,s),r=Ye(n.year,0,n.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}E("N",0,0,"eraAbbr"),E("NN",0,0,"eraAbbr"),E("NNN",0,0,"eraAbbr"),E("NNNN",0,0,"eraName"),E("NNNNN",0,0,"eraNarrow"),E("y",["y",1],"yo","eraYear"),E("y",["yy",2],0,"eraYear"),E("y",["yyy",3],0,"eraYear"),E("y",["yyyy",4],0,"eraYear"),ce("N",oa),ce("NN",oa),ce("NNN",oa),ce("NNNN",(function(e,t){return t.erasNameRegex(e)})),ce("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),pe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,a,i){var s=a._locale.erasParse(e,i,a._strict);s?f(a).era=s:f(a).invalidEra=e})),ce("y",oe),ce("yy",oe),ce("yyy",oe),ce("yyyy",oe),ce("yo",(function(e,t){return t._eraYearOrdinalRegex||oe})),pe(["y","yy","yyy","yyyy"],0),pe(["yo"],(function(e,t,a,i){var s;a._locale._eraYearOrdinalRegex&&(s=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?t[0]=a._locale.eraYearOrdinalParse(e,s):t[0]=parseInt(e,10)})),E(0,["gg",2],0,(function(){return this.weekYear()%100})),E(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),da("gggg","weekYear"),da("ggggg","weekYear"),da("GGGG","isoWeekYear"),da("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),ce("G",le),ce("g",le),ce("GG",te,Q),ce("gg",te,Q),ce("GGGG",ne,X),ce("gggg",ne,X),ce("GGGGG",re,ee),ce("ggggg",re,ee),ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,a,i){t[i.substr(0,2)]=H(e)})),ve(["gg","GG"],(function(e,t,i,s){t[s]=a.parseTwoDigitYear(e)})),E("Q",0,"Qo","quarter"),A("quarter","Q"),q("quarter",7),ce("Q",Z),pe("Q",(function(e,t){t[1]=3*(H(e)-1)})),E("D",["DD",2],"Do","date"),A("date","D"),q("date",9),ce("D",te),ce("DD",te,Q),ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),pe(["D","DD"],2),pe("Do",(function(e,t){t[2]=H(e.match(te)[0])}));var ca=G("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),q("dayOfYear",4),ce("DDD",se),ce("DDDD",K),pe(["DDD","DDDD"],(function(e,t,a){a._dayOfYear=H(e)})),E("m",["mm",2],0,"minute"),A("minute","m"),q("minute",14),ce("m",te),ce("mm",te,Q),pe(["m","mm"],4);var fa=G("Minutes",!1);E("s",["ss",2],0,"second"),A("second","s"),q("second",15),ce("s",te),ce("ss",te,Q),pe(["s","ss"],5);var ga,ma,pa=G("Seconds",!1);for(E("S",0,0,(function(){return~~(this.millisecond()/100)})),E(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),E(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),E(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),E(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),E(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),E(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),A("millisecond","ms"),q("millisecond",16),ce("S",se,Z),ce("SS",se,Q),ce("SSS",se,K),ga="SSSS";ga.length<=9;ga+="S")ce(ga,oe);function va(e,t){t[6]=H(1e3*("0."+e))}for(ga="S";ga.length<=9;ga+="S")pe(ga,va);ma=G("Milliseconds",!1),E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var ba=y.prototype;function ya(e){return e}ba.add=Ht,ba.calendar=function(e,t){1===arguments.length&&(arguments[0]?zt(arguments[0])?(e=arguments[0],t=void 0):Jt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||St(),s=Rt(i,this).startOf("day"),n=a.calendarFormat(this,s)||"sameElse",r=t&&(x(t[n])?t[n].call(this,i):t[n]);return this.format(r||this.localeData().calendar(n,this,St(i)))},ba.clone=function(){return new y(this)},ba.diff=function(e,t,a){var i,s,n;if(!this.isValid())return NaN;if(!(i=Rt(e,this)).isValid())return NaN;switch(s=6e4*(i.utcOffset()-this.utcOffset()),t=j(t)){case"year":n=Zt(this,i)/12;break;case"month":n=Zt(this,i);break;case"quarter":n=Zt(this,i)/3;break;case"second":n=(this-i)/1e3;break;case"minute":n=(this-i)/6e4;break;case"hour":n=(this-i)/36e5;break;case"day":n=(this-i-s)/864e5;break;case"week":n=(this-i-s)/6048e5;break;default:n=this-i}return a?n:W(n)},ba.endOf=function(e){var t,i;if(void 0===(e=j(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?ra:na,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=aa-sa(t+(this._isUTC?0:this.utcOffset()*ta),aa)-1;break;case"minute":t=this._d.valueOf(),t+=ta-sa(t,ta)-1;break;case"second":t=this._d.valueOf(),t+=ea-sa(t,ea)-1}return this._d.setTime(t),a.updateOffset(this,!0),this},ba.format=function(e){e||(e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var t=R(this,e);return this.localeData().postformat(t)},ba.from=function(e,t){return this.isValid()&&(D(e)&&e.isValid()||St(e).isValid())?Pt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ba.fromNow=function(e){return this.from(St(),e)},ba.to=function(e,t){return this.isValid()&&(D(e)&&e.isValid()||St(e).isValid())?Pt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ba.toNow=function(e){return this.to(St(),e)},ba.get=function(e){return x(this[e=j(e)])?this[e]():this},ba.invalidAt=function(){return f(this).overflow},ba.isAfter=function(e,t){var a=D(e)?e:St(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=j(t)||"millisecond")?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(t).valueOf())},ba.isBefore=function(e,t){var a=D(e)?e:St(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=j(t)||"millisecond")?this.valueOf()<a.valueOf():this.clone().endOf(t).valueOf()<a.valueOf())},ba.isBetween=function(e,t,a,i){var s=D(e)?e:St(e),n=D(t)?t:St(t);return!!(this.isValid()&&s.isValid()&&n.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(s,a):!this.isBefore(s,a))&&(")"===i[1]?this.isBefore(n,a):!this.isAfter(n,a)))},ba.isSame=function(e,t){var a,i=D(e)?e:St(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=j(t)||"millisecond")?this.valueOf()===i.valueOf():(a=i.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf()))},ba.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ba.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ba.isValid=function(){return g(this)},ba.lang=Kt,ba.locale=Qt,ba.localeData=Xt,ba.max=xt,ba.min=Vt,ba.parsingFlags=function(){return u({},f(this))},ba.set=function(e,t){if("object"==typeof e){var a,i=function(e){var t,a=[];for(t in e)n(e,t)&&a.push({unit:t,priority:L[t]});return a.sort((function(e,t){return e.priority-t.priority})),a}(e=P(e)),s=i.length;for(a=0;a<s;a++)this[i[a].unit](e[i[a].unit])}else if(x(this[e=j(e)]))return this[e](t);return this},ba.startOf=function(e){var t,i;if(void 0===(e=j(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?ra:na,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sa(t+(this._isUTC?0:this.utcOffset()*ta),aa);break;case"minute":t=this._d.valueOf(),t-=sa(t,ta);break;case"second":t=this._d.valueOf(),t-=sa(t,ea)}return this._d.setTime(t),a.updateOffset(this,!0),this},ba.subtract=Gt,ba.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},ba.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},ba.toDate=function(){return new Date(this.valueOf())},ba.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,a=t?this.clone().utc():this;return a.year()<0||a.year()>9999?R(a,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",R(a,"Z")):R(a,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ba.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,a,i="moment",s="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",a=s+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+a)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(ba[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ba.toJSON=function(){return this.isValid()?this.toISOString():null},ba.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ba.unix=function(){return Math.floor(this.valueOf()/1e3)},ba.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ba.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ba.eraName=function(){var e,t,a,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),i[e].since<=a&&a<=i[e].until)return i[e].name;if(i[e].until<=a&&a<=i[e].since)return i[e].name}return""},ba.eraNarrow=function(){var e,t,a,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),i[e].since<=a&&a<=i[e].until)return i[e].narrow;if(i[e].until<=a&&a<=i[e].since)return i[e].narrow}return""},ba.eraAbbr=function(){var e,t,a,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),i[e].since<=a&&a<=i[e].until)return i[e].abbr;if(i[e].until<=a&&a<=i[e].since)return i[e].abbr}return""},ba.eraYear=function(){var e,t,i,s,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(i=n[e].since<=n[e].until?1:-1,s=this.clone().startOf("day").valueOf(),n[e].since<=s&&s<=n[e].until||n[e].until<=s&&s<=n[e].since)return(this.year()-a(n[e].since).year())*i+n[e].offset;return this.year()},ba.year=Ce,ba.isLeapYear=function(){return F(this.year())},ba.weekYear=function(e){return ha.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ba.isoWeekYear=function(e){return ha.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ba.quarter=ba.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ba.month=Te,ba.daysInMonth=function(){return De(this.year(),this.month())},ba.week=ba.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ba.isoWeek=ba.isoWeeks=function(e){var t=Be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ba.weeksInYear=function(){var e=this.localeData()._week;return Oe(this.year(),e.dow,e.doy)},ba.weeksInWeekYear=function(){var e=this.localeData()._week;return Oe(this.weekYear(),e.dow,e.doy)},ba.isoWeeksInYear=function(){return Oe(this.year(),1,4)},ba.isoWeeksInISOWeekYear=function(){return Oe(this.isoWeekYear(),1,4)},ba.date=ca,ba.day=ba.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},ba.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ba.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},ba.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ba.hour=ba.hours=Ze,ba.minute=ba.minutes=fa,ba.second=ba.seconds=pa,ba.millisecond=ba.milliseconds=ma,ba.utcOffset=function(e,t,i){var s,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Et(he,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(s=Bt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?Wt(this,Pt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:Bt(this)},ba.utc=function(e){return this.utcOffset(0,e)},ba.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Bt(this),"m")),this},ba.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Et(de,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},ba.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ba.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ba.isLocal=function(){return!!this.isValid()&&!this._isUTC},ba.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ba.isUtc=Ot,ba.isUTC=Ot,ba.zoneAbbr=function(){return this._isUTC?"UTC":""},ba.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ba.dates=I("dates accessor is deprecated. Use date instead.",ca),ba.months=I("months accessor is deprecated. Use month instead",Te),ba.years=I("years accessor is deprecated. Use year instead",Ce),ba.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),ba.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=It(t))._a?(e=t._isUTC?c(t._a):St(t._a),this._isDSTShifted=this.isValid()&&function(e,t,a){var i,s=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),r=0;for(i=0;i<s;i++)(a&&e[i]!==t[i]||!a&&H(e[i])!==H(t[i]))&&r++;return r+n}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Da=T.prototype;function ka(e,t,a,i){var s=rt(),n=c().set(i,t);return s[a](n,e)}function Ia(e,t,a){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ka(e,t,a,"month");var i,s=[];for(i=0;i<12;i++)s[i]=ka(e,i,a,"month");return s}function _a(e,t,a,i){"boolean"==typeof e?(l(t)&&(a=t,t=void 0),t=t||""):(a=t=e,e=!1,l(t)&&(a=t,t=void 0),t=t||"");var s,n=rt(),r=e?n._week.dow:0,o=[];if(null!=a)return ka(t,(a+r)%7,i,"day");for(s=0;s<7;s++)o[s]=ka(t,(s+r)%7,i,"day");return o}Da.calendar=function(e,t,a){var i=this._calendar[e]||this._calendar.sameElse;return x(i)?i.call(t,a):i},Da.longDateFormat=function(e){var t=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return t||!a?t:(this._longDateFormat[e]=a.match($).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Da.invalidDate=function(){return this._invalidDate},Da.ordinal=function(e){return this._ordinal.replace("%d",e)},Da.preparse=ya,Da.postformat=ya,Da.relativeTime=function(e,t,a,i){var s=this._relativeTime[a];return x(s)?s(e,t,a,i):s.replace(/%d/i,e)},Da.pastFuture=function(e,t){var a=this._relativeTime[e>0?"future":"past"];return x(a)?a(t):a.replace(/%s/i,t)},Da.set=function(e){var t,a;for(a in e)n(e,a)&&(x(t=e[a])?this[a]=t:this["_"+a]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Da.eras=function(e,t){var i,s,n,r=this._eras||rt("en")._eras;for(i=0,s=r.length;i<s;++i){if("string"==typeof r[i].since)n=a(r[i].since).startOf("day"),r[i].since=n.valueOf();switch(typeof r[i].until){case"undefined":r[i].until=1/0;break;case"string":n=a(r[i].until).startOf("day").valueOf(),r[i].until=n.valueOf()}}return r},Da.erasParse=function(e,t,a){var i,s,n,r,o,l=this.eras();for(e=e.toUpperCase(),i=0,s=l.length;i<s;++i)if(n=l[i].name.toUpperCase(),r=l[i].abbr.toUpperCase(),o=l[i].narrow.toUpperCase(),a)switch(t){case"N":case"NN":case"NNN":if(r===e)return l[i];break;case"NNNN":if(n===e)return l[i];break;case"NNNNN":if(o===e)return l[i]}else if([n,r,o].indexOf(e)>=0)return l[i]},Da.erasConvertYear=function(e,t){var i=e.since<=e.until?1:-1;return void 0===t?a(e.since).year():a(e.since).year()+(t-e.offset)*i},Da.erasAbbrRegex=function(e){return n(this,"_erasAbbrRegex")||la.call(this),e?this._erasAbbrRegex:this._erasRegex},Da.erasNameRegex=function(e){return n(this,"_erasNameRegex")||la.call(this),e?this._erasNameRegex:this._erasRegex},Da.erasNarrowRegex=function(e){return n(this,"_erasNarrowRegex")||la.call(this),e?this._erasNarrowRegex:this._erasRegex},Da.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||_e).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},Da.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[_e.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Da.monthsParse=function(e,t,a){var i,s,n;if(this._monthsParseExact)return xe.call(this,e,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=c([2e3,i]),a&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),a||this._monthsParse[i]||(n="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(n.replace(".",""),"i")),a&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(a&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!a&&this._monthsParse[i].test(e))return i}},Da.monthsRegex=function(e){return this._monthsParseExact?(n(this,"_monthsRegex")||Me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(n(this,"_monthsRegex")||(this._monthsRegex=Ve),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Da.monthsShortRegex=function(e){return this._monthsParseExact?(n(this,"_monthsRegex")||Me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(n(this,"_monthsShortRegex")||(this._monthsShortRegex=Se),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Da.week=function(e){return Be(e,this._week.dow,this._week.doy).week},Da.firstDayOfYear=function(){return this._week.doy},Da.firstDayOfWeek=function(){return this._week.dow},Da.weekdays=function(e,t){var a=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ae(a,this._week.dow):e?a[e.day()]:a},Da.weekdaysMin=function(e){return!0===e?Ae(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Da.weekdaysShort=function(e){return!0===e?Ae(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Da.weekdaysParse=function(e,t,a){var i,s,n;if(this._weekdaysParseExact)return He.call(this,e,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=c([2e3,1]).day(i),a&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(n="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(n.replace(".",""),"i")),a&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(a&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(a&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!a&&this._weekdaysParse[i].test(e))return i}},Da.weekdaysRegex=function(e){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(n(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Da.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(n(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Fe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Da.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(n(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=We),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Da.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Da.meridiem=function(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"},st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===H(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),a.lang=I("moment.lang is deprecated. Use moment.locale instead.",st),a.langData=I("moment.langData is deprecated. Use moment.localeData instead.",rt);var Sa=Math.abs;function Va(e,t,a,i){var s=Pt(t,a);return e._milliseconds+=i*s._milliseconds,e._days+=i*s._days,e._months+=i*s._months,e._bubble()}function xa(e){return e<0?Math.floor(e):Math.ceil(e)}function wa(e){return 4800*e/146097}function Ta(e){return 146097*e/4800}function Ma(e){return function(){return this.as(e)}}var $a=Ma("ms"),Ca=Ma("s"),Na=Ma("m"),Ya=Ma("h"),Ea=Ma("d"),Ra=Ma("w"),Ba=Ma("M"),Oa=Ma("Q"),Aa=Ma("y");function ja(e){return function(){return this.isValid()?this._data[e]:NaN}}var Pa=ja("milliseconds"),La=ja("seconds"),qa=ja("minutes"),Fa=ja("hours"),Wa=ja("days"),Ha=ja("months"),Ga=ja("years");var Ua=Math.round,za={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ja(e,t,a,i,s){return s.relativeTime(t||1,!!a,e,i)}var Za=Math.abs;function Qa(e){return(e>0)-(e<0)||+e}function Ka(){if(!this.isValid())return this.localeData().invalidDate();var e,t,a,i,s,n,r,o,l=Za(this._milliseconds)/1e3,d=Za(this._days),h=Za(this._months),u=this.asSeconds();return u?(e=W(l/60),t=W(e/60),l%=60,e%=60,a=W(h/12),h%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",s=u<0?"-":"",n=Qa(this._months)!==Qa(u)?"-":"",r=Qa(this._days)!==Qa(u)?"-":"",o=Qa(this._milliseconds)!==Qa(u)?"-":"",s+"P"+(a?n+a+"Y":"")+(h?n+h+"M":"")+(d?r+d+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+i+"S":"")):"P0D"}var Xa=Mt.prototype;return Xa.isValid=function(){return this._isValid},Xa.abs=function(){var e=this._data;return this._milliseconds=Sa(this._milliseconds),this._days=Sa(this._days),this._months=Sa(this._months),e.milliseconds=Sa(e.milliseconds),e.seconds=Sa(e.seconds),e.minutes=Sa(e.minutes),e.hours=Sa(e.hours),e.months=Sa(e.months),e.years=Sa(e.years),this},Xa.add=function(e,t){return Va(this,e,t,1)},Xa.subtract=function(e,t){return Va(this,e,t,-1)},Xa.as=function(e){if(!this.isValid())return NaN;var t,a,i=this._milliseconds;if("month"===(e=j(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,a=this._months+wa(t),e){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(t=this._days+Math.round(Ta(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Xa.asMilliseconds=$a,Xa.asSeconds=Ca,Xa.asMinutes=Na,Xa.asHours=Ya,Xa.asDays=Ea,Xa.asWeeks=Ra,Xa.asMonths=Ba,Xa.asQuarters=Oa,Xa.asYears=Aa,Xa.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*H(this._months/12):NaN},Xa._bubble=function(){var e,t,a,i,s,n=this._milliseconds,r=this._days,o=this._months,l=this._data;return n>=0&&r>=0&&o>=0||n<=0&&r<=0&&o<=0||(n+=864e5*xa(Ta(o)+r),r=0,o=0),l.milliseconds=n%1e3,e=W(n/1e3),l.seconds=e%60,t=W(e/60),l.minutes=t%60,a=W(t/60),l.hours=a%24,r+=W(a/24),o+=s=W(wa(r)),r-=xa(Ta(s)),i=W(o/12),o%=12,l.days=r,l.months=o,l.years=i,this},Xa.clone=function(){return Pt(this)},Xa.get=function(e){return e=j(e),this.isValid()?this[e+"s"]():NaN},Xa.milliseconds=Pa,Xa.seconds=La,Xa.minutes=qa,Xa.hours=Fa,Xa.days=Wa,Xa.weeks=function(){return W(this.days()/7)},Xa.months=Ha,Xa.years=Ga,Xa.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var a,i,s=!1,n=za;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(s=e),"object"==typeof t&&(n=Object.assign({},za,t),null!=t.s&&null==t.ss&&(n.ss=t.s-1)),i=function(e,t,a,i){var s=Pt(e).abs(),n=Ua(s.as("s")),r=Ua(s.as("m")),o=Ua(s.as("h")),l=Ua(s.as("d")),d=Ua(s.as("M")),h=Ua(s.as("w")),u=Ua(s.as("y")),c=n<=a.ss&&["s",n]||n<a.s&&["ss",n]||r<=1&&["m"]||r<a.m&&["mm",r]||o<=1&&["h"]||o<a.h&&["hh",o]||l<=1&&["d"]||l<a.d&&["dd",l];return null!=a.w&&(c=c||h<=1&&["w"]||h<a.w&&["ww",h]),(c=c||d<=1&&["M"]||d<a.M&&["MM",d]||u<=1&&["y"]||["yy",u])[2]=t,c[3]=+e>0,c[4]=i,Ja.apply(null,c)}(this,!s,n,a=this.localeData()),s&&(i=a.pastFuture(+this,i)),a.postformat(i)},Xa.toISOString=Ka,Xa.toString=Ka,Xa.toJSON=Ka,Xa.locale=Qt,Xa.localeData=Xt,Xa.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ka),Xa.lang=Kt,E("X",0,0,"unix"),E("x",0,0,"valueOf"),ce("x",le),ce("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",(function(e,t,a){a._d=new Date(1e3*parseFloat(e))})),pe("x",(function(e,t,a){a._d=new Date(H(e))})),
//! moment.js
a.version="2.29.3",e=St,a.fn=ba,a.min=function(){var e=[].slice.call(arguments,0);return wt("isBefore",e)},a.max=function(){var e=[].slice.call(arguments,0);return wt("isAfter",e)},a.now=function(){return Date.now?Date.now():+new Date},a.utc=c,a.unix=function(e){return St(1e3*e)},a.months=function(e,t){return Ia(e,t,"months")},a.isDate=d,a.locale=st,a.invalid=m,a.duration=Pt,a.isMoment=D,a.weekdays=function(e,t,a){return _a(e,t,a,"weekdays")},a.parseZone=function(){return St.apply(null,arguments).parseZone()},a.localeData=rt,a.isDuration=$t,a.monthsShort=function(e,t){return Ia(e,t,"monthsShort")},a.weekdaysMin=function(e,t,a){return _a(e,t,a,"weekdaysMin")},a.defineLocale=nt,a.updateLocale=function(e,t){if(null!=t){var a,i,s=Ke;null!=Xe[e]&&null!=Xe[e].parentLocale?Xe[e].set(w(Xe[e]._config,t)):(null!=(i=it(e))&&(s=i._config),t=w(s,t),null==i&&(t.abbr=e),(a=new T(t)).parentLocale=Xe[e],Xe[e]=a),st(e)}else null!=Xe[e]&&(null!=Xe[e].parentLocale?(Xe[e]=Xe[e].parentLocale,e===st()&&st(e)):null!=Xe[e]&&delete Xe[e]);return Xe[e]},a.locales=function(){return _(Xe)},a.weekdaysShort=function(e,t,a){return _a(e,t,a,"weekdaysShort")},a.normalizeUnits=j,a.relativeTimeRounding=function(e){return void 0===e?Ua:"function"==typeof e&&(Ua=e,!0)},a.relativeTimeThreshold=function(e,t){return void 0!==za[e]&&(void 0===t?za[e]:(za[e]=t,"s"===e&&(za.ss=t-1),!0))},a.calendarFormat=function(e,t){var a=e.diff(t,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"},a.prototype=ba,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a})),
/**
* @version: 3.1
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.daterangepicker.com/
*/
function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery"],(function(e,a){return a.fn||(a.fn={}),"function"!=typeof e&&e.hasOwnProperty("default")&&(e=e.default),t(e,a)}));else if("object"==typeof module&&module.exports){var a="undefined"!=typeof window?window.jQuery:void 0;a||(a=require("jquery")).fn||(a.fn={});var i="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=t(i,a)}else e.daterangepicker=t(e.moment,e.jQuery)}("undefined"!=typeof window?window:this,(function(e,t){var a=function(a,i,s){if(this.parentEl="body",this.element=t(a),this.startDate=e().startOf("day"),this.endDate=e().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=e().subtract(100,"year").format("YYYY"),this.maxYear=e().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:e.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e.weekdaysMin(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=t.extend(this.element.data(),i)).template||i.template instanceof t||(i.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=i.parentEl&&t(i.parentEl).length?t(i.parentEl):t(this.parentEl),this.container=t(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){(f=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel;var n=f.value;this.locale.customRangeLabel=n}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=e(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=e(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=e(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=e(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=e(i.startDate)),"object"==typeof i.endDate&&(this.endDate=e(i.endDate)),"object"==typeof i.minDate&&(this.minDate=e(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=e(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyButtonClasses&&(this.applyButtonClasses=i.applyButtonClasses),"string"==typeof i.applyClass&&(this.applyButtonClasses=i.applyClass),"string"==typeof i.cancelButtonClasses&&(this.cancelButtonClasses=i.cancelButtonClasses),"string"==typeof i.cancelClass&&(this.cancelButtonClasses=i.cancelClass),"object"==typeof i.maxSpan&&(this.maxSpan=i.maxSpan),"object"==typeof i.dateLimit&&(this.maxSpan=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"number"==typeof i.minYear&&(this.minYear=i.minYear),"number"==typeof i.maxYear&&(this.maxYear=i.maxYear),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var o,l,d;if(void 0===i.startDate&&void 0===i.endDate&&t(this.element).is(":text")){var h=t(this.element).val(),u=h.split(this.locale.separator);o=l=null,2==u.length?(o=e(u[0],this.locale.format),l=e(u[1],this.locale.format)):this.singleDatePicker&&""!==h&&(o=e(h,this.locale.format),l=e(h,this.locale.format)),null!==o&&null!==l&&(this.setStartDate(o),this.setEndDate(l))}if("object"==typeof i.ranges){for(d in i.ranges){o="string"==typeof i.ranges[d][0]?e(i.ranges[d][0],this.locale.format):e(i.ranges[d][0]),l="string"==typeof i.ranges[d][1]?e(i.ranges[d][1],this.locale.format):e(i.ranges[d][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var c=this.maxDate;if(this.maxSpan&&c&&o.clone().add(this.maxSpan).isAfter(c)&&(c=o.clone().add(this.maxSpan)),c&&l.isAfter(c)&&(l=c.clone()),!(this.minDate&&l.isBefore(this.minDate,this.timepicker?"minute":"day")||c&&o.isAfter(c,this.timepicker?"minute":"day"))){var f;(f=document.createElement("textarea")).innerHTML=d;n=f.value;this.ranges[n]=[o,l]}}var g="<ul>";for(d in this.ranges)g+='<li data-range-key="'+d+'">'+d+"</li>";this.showCustomRangeLabel&&(g+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),g+="</ul>",this.container.find(".ranges").prepend(g)}"function"==typeof s&&(this.callback=s),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof i.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(void 0===i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",t.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this))),this.updateElement()};return a.prototype={constructor:a,setStartDate:function(t){"string"==typeof t&&(this.startDate=e(t,this.locale.format)),"object"==typeof t&&(this.startDate=e(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=e(t,this.locale.format)),"object"==typeof t&&(this.endDate=e(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,a,i;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".left .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".right .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0);this.leftCalendar.month.hour(e).minute(t).second(a),this.rightCalendar.month.hour(e).minute(t).second(a)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(a){var i,s=(i="left"==a?this.leftCalendar:this.rightCalendar).month.month(),n=i.month.year(),r=i.month.hour(),o=i.month.minute(),l=i.month.second(),d=e([n,s]).daysInMonth(),h=e([n,s,1]),u=e([n,s,d]),c=e(h).subtract(1,"month").month(),f=e(h).subtract(1,"month").year(),g=e([f,c]).daysInMonth(),m=h.day();(i=[]).firstDay=h,i.lastDay=u;for(var p=0;p<6;p++)i[p]=[];var v=g-m+this.locale.firstDay+1;v>g&&(v-=7),m==this.locale.firstDay&&(v=g-6);for(var b=e([f,c,v,12,o,l]),y=(p=0,0),D=0;p<42;p++,y++,b=e(b).add(24,"hour"))p>0&&y%7==0&&(y=0,D++),i[D][y]=b.clone().hour(r).minute(o).second(l),b.hour(12),this.minDate&&i[D][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[D][y].isBefore(this.minDate)&&"left"==a&&(i[D][y]=this.minDate.clone()),this.maxDate&&i[D][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[D][y].isAfter(this.maxDate)&&"right"==a&&(i[D][y]=this.maxDate.clone());"left"==a?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var k="left"==a?this.minDate:this.startDate,I=this.maxDate,_=("left"==a?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');_+="<thead>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+="<th></th>"),k&&!k.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=a?_+="<th></th>":_+='<th class="prev available"><span></span></th>';var S=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var V=i[1][1].month(),x=i[1][1].year(),w=I&&I.year()||this.maxYear,T=k&&k.year()||this.minYear,M=x==T,$=x==w,C='<select class="monthselect">',N=0;N<12;N++)(!M||k&&N>=k.month())&&(!$||I&&N<=I.month())?C+="<option value='"+N+"'"+(N===V?" selected='selected'":"")+">"+this.locale.monthNames[N]+"</option>":C+="<option value='"+N+"'"+(N===V?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[N]+"</option>";C+="</select>";for(var Y='<select class="yearselect">',E=T;E<=w;E++)Y+='<option value="'+E+'"'+(E===x?' selected="selected"':"")+">"+E+"</option>";S=C+(Y+="</select>")}if(_+='<th colspan="5" class="month">'+S+"</th>",I&&!I.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=a&&!this.singleDatePicker?_+="<th></th>":_+='<th class="next available"><span></span></th>',_+="</tr>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,(function(e,t){_+="<th>"+t+"</th>"})),_+="</tr>",_+="</thead>",_+="<tbody>",null==this.endDate&&this.maxSpan){var R=this.startDate.clone().add(this.maxSpan).endOf("day");I&&!R.isBefore(I)||(I=R)}for(D=0;D<6;D++){_+="<tr>",this.showWeekNumbers?_+='<td class="week">'+i[D][0].week()+"</td>":this.showISOWeekNumbers&&(_+='<td class="week">'+i[D][0].isoWeek()+"</td>");for(y=0;y<7;y++){var B=[];i[D][y].isSame(new Date,"day")&&B.push("today"),i[D][y].isoWeekday()>5&&B.push("weekend"),i[D][y].month()!=i[1][1].month()&&B.push("off","ends"),this.minDate&&i[D][y].isBefore(this.minDate,"day")&&B.push("off","disabled"),I&&i[D][y].isAfter(I,"day")&&B.push("off","disabled"),this.isInvalidDate(i[D][y])&&B.push("off","disabled"),i[D][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&B.push("active","start-date"),null!=this.endDate&&i[D][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&B.push("active","end-date"),null!=this.endDate&&i[D][y]>this.startDate&&i[D][y]<this.endDate&&B.push("in-range");var O=this.isCustomDate(i[D][y]);!1!==O&&("string"==typeof O?B.push(O):Array.prototype.push.apply(B,O));var A="",j=!1;for(p=0;p<B.length;p++)A+=B[p]+" ","disabled"==B[p]&&(j=!0);j||(A+="available"),_+='<td class="'+A.replace(/^\s+|\s+$/g,"")+'" data-title="r'+D+"c"+y+'">'+i[D][y].date()+"</td>"}_+="</tr>"}_+="</tbody>",_+="</table>",this.container.find(".drp-calendar."+a+" .calendar-table").html(_)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,a,i,s=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(s=this.startDate.clone().add(this.maxSpan)),"left"==e)a=this.startDate.clone(),i=this.minDate;else if("right"==e){a=this.endDate.clone(),i=this.startDate;var n=this.container.find(".drp-calendar.right .calendar-time");if(""!=n.html()&&(a.hour(isNaN(a.hour())?n.find(".hourselect option:selected").val():a.hour()),a.minute(isNaN(a.minute())?n.find(".minuteselect option:selected").val():a.minute()),a.second(isNaN(a.second())?n.find(".secondselect option:selected").val():a.second()),!this.timePicker24Hour)){var r=n.find(".ampmselect option:selected").val();"PM"===r&&a.hour()<12&&a.hour(a.hour()+12),"AM"===r&&12===a.hour()&&a.hour(0)}a.isBefore(this.startDate)&&(a=this.startDate.clone()),s&&a.isAfter(s)&&(a=s.clone())}t='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,d=o;d<=l;d++){var h=d;this.timePicker24Hour||(h=a.hour()>=12?12==d?12:d+12:12==d?0:d);var u=a.clone().hour(h),c=!1;i&&u.minute(59).isBefore(i)&&(c=!0),s&&u.minute(0).isAfter(s)&&(c=!0),h!=a.hour()||c?t+=c?'<option value="'+d+'" disabled="disabled" class="disabled">'+d+"</option>":'<option value="'+d+'">'+d+"</option>":t+='<option value="'+d+'" selected="selected">'+d+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(d=0;d<60;d+=this.timePickerIncrement){var f=d<10?"0"+d:d;u=a.clone().minute(d),c=!1;i&&u.second(59).isBefore(i)&&(c=!0),s&&u.second(0).isAfter(s)&&(c=!0),a.minute()!=d||c?t+=c?'<option value="'+d+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+d+'">'+f+"</option>":t+='<option value="'+d+'" selected="selected">'+f+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(d=0;d<60;d++){f=d<10?"0"+d:d,u=a.clone().second(d),c=!1;i&&u.isBefore(i)&&(c=!0),s&&u.isAfter(s)&&(c=!0),a.second()!=d||c?t+=c?'<option value="'+d+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+d+'">'+f+"</option>":t+='<option value="'+d+'" selected="selected">'+f+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var g="",m="";i&&a.clone().hour(12).minute(0).second(0).isBefore(i)&&(g=' disabled="disabled" class="disabled"'),s&&a.clone().hour(0).minute(0).second(0).isAfter(s)&&(m=' disabled="disabled" class="disabled"'),a.hour()>=12?t+='<option value="AM"'+g+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":t+='<option value="AM" selected="selected"'+g+'>AM</option><option value="PM"'+m+">PM</option>",t+="</select>"}this.container.find(".drp-calendar."+e+" .calendar-time").html(t)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var e,a={top:0,left:0},i=this.drops,s=t(window).width();switch(this.parentEl.is("body")||(a={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},s=this.parentEl[0].clientWidth+this.parentEl.offset().left),i){case"auto":(e=this.element.offset().top+this.element.outerHeight()-a.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(e=this.element.offset().top-this.container.outerHeight()-a.top,i="up");break;case"up":e=this.element.offset().top-this.container.outerHeight()-a.top;break;default:e=this.element.offset().top+this.element.outerHeight()-a.top}this.container.css({top:0,left:0,right:"auto"});var n=this.container.outerWidth();if(this.container.toggleClass("drop-up","up"==i),"left"==this.opens){var r=s-this.element.offset().left-this.element.outerWidth();n+r>t(window).width()?this.container.css({top:e,right:"auto",left:9}):this.container.css({top:e,right:r,left:"auto"})}else if("center"==this.opens){(o=this.element.offset().left-a.left+this.element.outerWidth()/2-n/2)<0?this.container.css({top:e,right:"auto",left:9}):o+n>t(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:o,right:"auto"})}else{var o;(o=this.element.offset().left-a.left)+n>t(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:o,right:"auto"})}},show:function(e){this.isShowing||(this._outsideClickProxy=t.proxy((function(e){this.outsideClick(e)}),this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy((function(e){this.move(e)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var a=t(e.target);"focusin"==e.type||a.closest(this.element).length||a.closest(this.container).length||a.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(e){var t=e.target.getAttribute("data-range-key");if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var a=this.ranges[t];this.startDate=a[0],this.endDate=a[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){t(e.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(t(e.target).hasClass("available")){var a=t(e.target).attr("data-title"),i=a.substr(1,1),s=a.substr(3,1),n=t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s],r=this.leftCalendar,o=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each((function(e,a){if(!t(a).hasClass("week")){var i=t(a).attr("data-title"),s=i.substr(1,1),d=i.substr(3,1),h=t(a).parents(".drp-calendar").hasClass("left")?r.calendar[s][d]:o.calendar[s][d];h.isAfter(l)&&h.isBefore(n)||h.isSame(n,"day")?t(a).addClass("in-range"):t(a).removeClass("in-range")}}))}},clickDate:function(e){if(t(e.target).hasClass("available")){var a=t(e.target).attr("data-title"),i=a.substr(1,1),s=a.substr(3,1),n=t(e.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];if(this.endDate||n.isBefore(this.startDate,"day")){if(this.timePicker){var r=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(d=this.container.find(".left .ampmselect").val())&&r<12&&(r+=12),"AM"===d&&12===r&&(r=0);var o=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(o)&&(o=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;n=n.clone().hour(r).minute(o).second(l)}this.endDate=null,this.setStartDate(n.clone())}else if(!this.endDate&&n.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var d;r=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(d=this.container.find(".right .ampmselect").val())&&r<12&&(r+=12),"AM"===d&&12===r&&(r=0);o=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(o)&&(o=parseInt(this.container.find(".right .minuteselect option:last").val(),10));l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;n=n.clone().hour(r).minute(o).second(l)}this.setEndDate(n.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),e.stopPropagation()}},calculateChosenLabel:function(){var e=!0,t=0;for(var a in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[a][0].format(i)&&this.endDate.format(i)==this.ranges[a][1].format(i)){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").attr("data-range-key");break}t++}e&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var a=t(e.target).closest(".drp-calendar").hasClass("left"),i=a?"left":"right",s=this.container.find(".drp-calendar."+i),n=parseInt(s.find(".monthselect").val(),10),r=s.find(".yearselect").val();a||(r<this.startDate.year()||r==this.startDate.year()&&n<this.startDate.month())&&(n=this.startDate.month(),r=this.startDate.year()),this.minDate&&(r<this.minDate.year()||r==this.minDate.year()&&n<this.minDate.month())&&(n=this.minDate.month(),r=this.minDate.year()),this.maxDate&&(r>this.maxDate.year()||r==this.maxDate.year()&&n>this.maxDate.month())&&(n=this.maxDate.month(),r=this.maxDate.year()),a?(this.leftCalendar.month.month(n).year(r),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(n).year(r),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var a=t(e.target).closest(".drp-calendar"),i=a.hasClass("left"),s=parseInt(a.find(".hourselect").val(),10),n=parseInt(a.find(".minuteselect").val(),10);isNaN(n)&&(n=parseInt(a.find(".minuteselect option:last").val(),10));var r=this.timePickerSeconds?parseInt(a.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=a.find(".ampmselect").val();"PM"===o&&s<12&&(s+=12),"AM"===o&&12===s&&(s=0)}if(i){var l=this.startDate.clone();l.hour(s),l.minute(n),l.second(r),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var d=this.endDate.clone();d.hour(s),d.minute(n),d.second(r),this.setEndDate(d)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),a=null,i=null;2===t.length&&(a=e(t[0],this.locale.format),i=e(t[1],this.locale.format)),(this.singleDatePicker||null===a||null===i)&&(i=a=e(this.element.val(),this.locale.format)),a.isValid()&&i.isValid()&&(this.setStartDate(a),this.setEndDate(i),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var e=this.startDate.format(this.locale.format);this.singleDatePicker||(e+=this.locale.separator+this.endDate.format(this.locale.format)),e!==this.element.val()&&this.element.val(e).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},t.fn.daterangepicker=function(e,i){var s=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,e);return this.each((function(){var e=t(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new a(e,s,i))})),this},a})),function(e,t,a){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=e(require("jquery")):e(t||a)}((function(e){"use strict";var t=function(t,a,i){var s={invalid:[],getCaret:function(){try{var e,a=0,i=t.get(0),n=document.selection,r=i.selectionStart;return n&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=n.createRange()).moveStart("character",-s.val().length),a=e.text.length):(r||"0"===r)&&(a=r),a}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var a,i=t.get(0);i.setSelectionRange?i.setSelectionRange(e,e):((a=i.createTextRange()).collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select())}}catch(e){}},events:function(){t.on("keydown.mask",(function(e){t.data("mask-keycode",e.keyCode||e.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",s.getCaret()),s.maskDigitPosMapOld=s.maskDigitPosMap})).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",s.behaviour).on("paste.mask drop.mask",(function(){setTimeout((function(){t.keydown().keyup()}),100)})).on("change.mask",(function(){t.data("changed",!0)})).on("blur.mask",(function(){o===s.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)})).on("blur.mask",(function(){o=s.val()})).on("focus.mask",(function(t){!0===i.selectOnFocus&&e(t.target).select()})).on("focusout.mask",(function(){i.clearIfNotMatch&&!n.test(s.val())&&s.val("")}))},getRegexMask:function(){for(var e,t,i,s,n,o,l=[],d=0;d<a.length;d++)(e=r.translation[a.charAt(d)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(s=e.recursive)?(l.push(a.charAt(d)),n={digit:a.charAt(d),pattern:t}):l.push(i||s?t+"?":t)):l.push(a.charAt(d).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=l.join(""),n&&(o=o.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(o)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(e){var a,i=t.is("input"),s=i?"val":"text";return arguments.length>0?(t[s]()!==e&&t[s](e),a=t):a=t[s](),a},calculateCaretPosition:function(e){var a=s.getMasked(),i=s.getCaret();if(e!==a){var n=t.data("mask-previus-caret-pos")||0,r=a.length,o=e.length,l=0,d=0,h=0,u=0,c=0;for(c=i;c<r&&s.maskDigitPosMap[c];c++)d++;for(c=i-1;c>=0&&s.maskDigitPosMap[c];c--)l++;for(c=i-1;c>=0;c--)s.maskDigitPosMap[c]&&h++;for(c=n-1;c>=0;c--)s.maskDigitPosMapOld[c]&&u++;if(i>o)i=10*r;else if(n>=i&&n!==o){if(!s.maskDigitPosMapOld[i]){var f=i;i-=u-h,i-=l,s.maskDigitPosMap[i]&&(i=f)}}else i>n&&(i+=h-u,i+=d)}return i},behaviour:function(a){a=a||window.event,s.invalid=[];var i=t.data("mask-keycode");if(-1===e.inArray(i,r.byPassKeys)){var n=s.getMasked(),o=s.getCaret(),l=t.data("mask-previus-value")||"";return setTimeout((function(){s.setCaret(s.calculateCaretPosition(l))}),e.jMaskGlobals.keyStrokeCompensation),s.val(n),s.setCaret(o),s.callbacks(a)}},getMasked:function(e,t){var n,o,l,d=[],h=void 0===t?s.val():t+"",u=0,c=a.length,f=0,g=h.length,m=1,p="push",v=-1,b=0,y=[];for(i.reverse?(p="unshift",m=-1,n=0,u=c-1,f=g-1,o=function(){return u>-1&&f>-1}):(n=c-1,o=function(){return u<c&&f<g});o();){var D=a.charAt(u),k=h.charAt(f),I=r.translation[D];I?(k.match(I.pattern)?(d[p](k),I.recursive&&(-1===v?v=u:u===n&&u!==v&&(u=v-m),n===v&&(u-=m)),u+=m):k===l?(b--,l=void 0):I.optional?(u+=m,f-=m):I.fallback?(d[p](I.fallback),u+=m,f-=m):s.invalid.push({p:f,v:k,e:I.pattern}),f+=m):(e||d[p](D),k===D?(y.push(f),f+=m):(l=D,y.push(f+b),b++),u+=m)}var _=a.charAt(n);c!==g+1||r.translation[_]||d.push(_);var S=d.join("");return s.mapMaskdigitPositions(S,y,g),S},mapMaskdigitPositions:function(e,t,a){var n=i.reverse?e.length-a:0;s.maskDigitPosMap={};for(var r=0;r<t.length;r++)s.maskDigitPosMap[t[r]+n]=1},callbacks:function(e){var n=s.val(),r=n!==o,l=[n,e,t,i],d=function(e,t,a){"function"==typeof i[e]&&t&&i[e].apply(this,a)};d("onChange",!0===r,l),d("onKeyPress",!0===r,l),d("onComplete",n.length===a.length,l),d("onInvalid",s.invalid.length>0,[n,e,t,s.invalid,i])}};t=e(t);var n,r=this,o=s.val();a="function"==typeof a?a(s.val(),void 0,t,i):a,r.mask=a,r.options=i,r.remove=function(){var e=s.getCaret();return r.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),s.destroyEvents(),s.val(r.getCleanVal()),s.setCaret(e),t},r.getCleanVal=function(){return s.getMasked(!0)},r.getMaskedVal=function(e){return s.getMasked(!1,e)},r.init=function(o){if(o=o||!1,i=i||{},r.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,r.byPassKeys=e.jMaskGlobals.byPassKeys,r.translation=e.extend({},e.jMaskGlobals.translation,i.translation),r=e.extend(!0,{},r,i),n=s.getRegexMask(),o)s.events(),s.val(s.getMasked());else{i.placeholder&&t.attr("placeholder",i.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var l=0,d=!0;l<a.length;l++){var h=r.translation[a.charAt(l)];if(h&&h.recursive){d=!1;break}}d&&t.attr("maxlength",a.length).data("mask-maxlength",!0),s.destroyEvents(),s.events();var u=s.getCaret();s.val(s.getMasked()),s.setCaret(u)}},r.init(!t.is("input"))};e.maskWatchers={};var a=function(){var a=e(this),s={},n="data-mask-",r=a.attr("data-mask");if(a.attr(n+"reverse")&&(s.reverse=!0),a.attr(n+"clearifnotmatch")&&(s.clearIfNotMatch=!0),"true"===a.attr(n+"selectonfocus")&&(s.selectOnFocus=!0),i(a,r,s))return a.data("mask",new t(this,r,s))},i=function(t,a,i){i=i||{};var s=e(t).data("mask"),n=JSON.stringify,r=e(t).val()||e(t).text();try{return"function"==typeof a&&(a=a(r)),"object"!=typeof s||n(s.options)!==n(i)||s.mask!==a}catch(e){}};e.fn.mask=function(a,s){s=s||{};var n=this.selector,r=e.jMaskGlobals,o=r.watchInterval,l=s.watchInputs||r.watchInputs,d=function(){if(i(this,a,s))return e(this).data("mask",new t(this,a,s))};return e(this).each(d),n&&""!==n&&l&&(clearInterval(e.maskWatchers[n]),e.maskWatchers[n]=setInterval((function(){e(document).find(n).each(d)}),o)),this},e.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each((function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")}))},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){((t=t||e.jMaskGlobals.maskElements)instanceof e?t:e(t)).filter(e.jMaskGlobals.dataMaskAttr).each(a)};var s,n,r,o={maskElements:"input,td,span,div",dataMaskAttr:"[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(s="input",r=document.createElement("div"),(n=(s="on"+s)in r)||(r.setAttribute(s,"return;"),n="function"==typeof r[s]),r=null,n),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};e.jMaskGlobals=e.jMaskGlobals||{},(o=e.jMaskGlobals=e.extend(!0,{},o,e.jMaskGlobals)).dataMask&&e.applyDataMask(),setInterval((function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()}),o.watchInterval)}),window.jQuery,window.Zepto);export default class BldGenIah{constructor(){this.versie_gen_iah="3.0.0",this.setDefaultDebugValues(),this.genTexts=this.setGenTexts(document.getElementsByTagName("html")[0].getAttribute("lang")),this.iah={},this.iah.slideMode=this.iah.slideMode||!1,this.iah.blokMode=this.iah.blokMode||!1,this.iah.fieldsetMode=this.iah.fieldsetMode||!0,this.iah.backupMode=this.iah.backupMode||!1,this.slideModeNavigation={iah_basenav:1},this.iahTopPosition=$(".bld-layer-iah").offset().top}initreken(e){this.setNameIah(),this.setSuffix(),this.Metrix&&"function"==typeof this.Metrix.init&&this.Metrix.init(),this.iah.aVar=[],this.iah.formId="formIAH"+this.iah.suffix,this.iah.fieldsetId="fsInvoer"+this.iah.suffix,this.iah.divResultaat="divResultaat"+this.iah.suffix,this.iah.divButtonsWijzig="divButtonsWijzig"+this.iah.suffix,this.iah.butResults="butResults"+this.iah.suffix,this.iah.divButtonsResult="divButtonsResult"+this.iah.suffix,this.iah.butWijzig="butWijzig"+this.iah.suffix,this.iah.butPrint="butPrint"+this.iah.suffix,this.iah.formValid=!0,this.setAriaLabelForSection(e),this.initInterface($("#bld-iah-"+e))}setNameIah(){$('[data-type="iah"]').length>0&&$('[data-type="iah"]')[0].id?this.naamRekenhulp=$('[data-type="iah"]')[0].dataset.id:document.title?this.naamRekenhulp=document.title:this.naamRekenhulp="naamRekenhulp NOT found"}setSuffix(){this.iah&&this.iah.suffix&&this.iah.suffix.length>1&&"_"===this.iah.suffix.substr(0,1)||(this.iah.suffix="")}setAriaLabelForSection(e){let t=document.querySelector("#bld-iah-"+e);if(t&&t.getAttribute("aria-labelledby")&&t.getAttribute("aria-labelledby").length>0&&this.iah&&this.iah.suffix&&this.iah.suffix.length>1){let e=t.getAttribute("aria-labelledby");document.querySelector("#"+e)&&(t.setAttribute("aria-labelledby",e+this.iah.suffix),document.querySelector("#"+e).id=e+this.iah.suffix)}}initInterface(e){$("div.bld-iah-main",e).empty(),$("div.bld-iah-main",e).append('<form  id="'+this.iah.formId+'" class="form-horizontal" action="#" method="post" onsubmit="return false"></form>'),!0===this.iah.slideMode&&this.loadProgressbar(),this.bDebugIah&&"function"==typeof this.loadDebug&&this.loadDebug(e)}doVragenSet(e,t=""){null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("doVragenSet("+e+")");let a=this.iah.aVraag[e],i=e+this.iah.suffix,s="",n="";if(this.iah.aVraag[e].copyButton&&0===$("#"+e+"-1"+this.iah.suffix).length&&(t="first"),$("#div"+i).length>0&&""===t)return;let r=1;do{"add"!==t&&"first"!==t&&"restoreRows"!==t||(s=this.copyVragenSet(e,i),n=s+this.iah.suffix,a=this.iah.aVraag[s]);for(let t=0;t<a.vragen.length;t++){let r=a.vragen[t];this.iah.aVraag[r].vragenSetID=e,this.iah.aVraag[r].vragenSetDomID=i,a.copyButton&&(this.iah.aVraag[r].vragenSetRowID=s,this.iah.aVraag[r].vragenSetRowDomID=n),this.doVraag(r)}"first"===t&&(r=this.iah.aBackupUserInput?parseInt(this.iah.aBackupUserInput[e]):1,t="restoreRows"),r--}while(r>0);"restoreRows"===t&&this.initVragensetRijen(e,i),this.restoreUserInput("div"+i,e)}doVraag(vraagID){let domID=vraagID+this.iah.suffix;const addTextField=()=>{let gridClassLabel="",gridClassInput="bld-form-inputgrp",inputClass="form-control";inputClass+=this.iah.aVraag[vraagID].decimalen?" decimalsInput":"";let placeholder="";this.iah.aVraag[vraagID].horizontaal?(this.iah.aVraag[vraagID].labelBreedte?gridClassLabel+=`${this.iah.aVraag[vraagID].labelBreedte} col-fom-label`:gridClassLabel+="col-sm-6 col-form-label",this.iah.aVraag[vraagID].inputBreedte?gridClassInput+=` ${this.iah.aVraag[vraagID].inputBreedte}`:gridClassInput+="col-sm-6"):this.iah.aVraag[vraagID].vragenSetRowID?gridClassLabel+=" sr-only sr-only-md":(gridClassLabel+="col-12",gridClassInput+=isNumInput?" col-sm-6":" col-12"),gridClassLabel+=this.iah.aVraag[vraagID].extraLabelClass?` ${this.iah.aVraag[vraagID].extraLabelClass}`:"",this.iah.aVraag[vraagID].placeholder&&(placeholder="placeholder="+this.iah.aVraag[vraagID].placeholder),$(fieldsetID).append('<div class="'+questionClass+' form-group" id="div'+domID+'">\n          <label class="'+gridClassLabel+' bld-form-lbl" for="'+domID+'">'+vraagOpscherm+'</label>\n          <div class="'+gridClassInput+'">\n            <input data-sel="user-input" type="text" name="'+domID+'" class="'+inputClass+'"'+placeholder+' id="'+domID+'">\n          </div>\n        </div>'),this.iah.aVraag[vraagID].opSchermAchterInput&&"%"===this.iah.aVraag[vraagID].opSchermAchterInput?(this.addInputGroupContainer(domID,"append"),$("#div"+domID+" .input-group .input-group-append").append('<span class="input-group-text">&percnt;</span>'),$("#div"+domID+" .input-group .form-control").attr("aria-labelledby","input-group-append")):this.iah.aVraag[vraagID].duizendtalpunten&&!this.iah.aVraag[vraagID].geenEuroteken&&(this.addInputGroupContainer(domID,"prepend"),$("#div"+domID+" .input-group .input-group-prepend").prepend('<span class="input-group-text">&euro;</span>'),$("#div"+domID+" .input-group .form-control").attr("aria-labelledby","input-group-prepend")),document.querySelectorAll("#div"+domID+' [data-sel="user-input"]').forEach((element=>{element.addEventListener("keyup",(e=>{e.key&&("Shift"==e.key||"Tab"==e.key||e.key.startsWith("Arrow"))||this.checkVraag(e.target,e)})),(this.iah.aVraag[vraagID].decimalen||this.iah.aVraag[vraagID].vragenSetID)&&(element.addEventListener("keydown",(e=>{e.shiftKey||"Tab"!==e.key?e.target.dataset.tabpressed="false":e.target.dataset.tabpressed="true"})),element.addEventListener("blur",(e=>{if(this.checkVraag(e.target,e),"true"===e.target.dataset.tabpressed){let t;e.target.dataset.tabpressed="false";const a=e=>{let t=e.querySelectorAll('a, button, input[type="radio"]:checked, input[type="text"], input[type="checkbox"], textarea, select, details, [tabindex]:not([tabindex="-1"]');return 0==t.length&&(t=e.querySelectorAll('input[type="radio"]')),t};let i=a(e.target.closest(".bld-frm-question"));if(i.length>1)for(let t=0;t<=i.length-1;t++)if(i[t]==e.target&&t!=i.length-1)return void i[t+1].focus();if(t=e.target.closest(".bld-frm-question").nextElementSibling,t&&(t.classList.contains("clDebugSID")&&(t=t.nextElementSibling),i=a(t),i))return void i[0].focus();if(t=e.target.closest(".bld-frm-question").parentElement.nextElementSibling,t&&(t.classList.contains("clDebugSID")&&(t=t.nextElementSibling),i=a(t),i))return void i[0].focus();if(t=document.querySelector("footer"),t&&(i=a(t),i))return void i[0].focus()}else if(null!==e.relatedTarget&&null!==e.relatedTarget.id&&""!==e.relatedTarget.id){let t=e.relatedTarget.id;this.checkVraag(e.target,e);let a=document.getElementById(t);a.focus(),a.click()}}))),this.iah.aVraag[vraagID].onblur&&eval("$('#' + vraagID).blur (function(e){"+this.iah.aVraag[vraagID].onblur+"});")}))},addYesNoField=()=>{$(fieldsetID).append('<fieldset class="'+questionClass+' form-group" id="div'+domID+'">\n          <legend class="col-12  bld-form-lbl pt-0">'+vraagOpscherm+'</legend>\n          <div class="col-sm-8">\n            <div class="form-check custom-control custom-radio custom-control-inline">\n              <input data-sel="user-input" class="custom-control-input" type="radio" name="'+domID+'" id="'+domID+'_True" value="ja">\n              <label class="custom-control-label" for="'+domID+'_True"><span class="labeltext">Ja</span></label>\n            </div>\n            <div class="form-check custom-control custom-radio custom-control-inline">\n              <input data-sel="user-input" class="custom-control-input" type="radio" name="'+domID+'" id="'+domID+'_False" value="nee">\n              <label class="custom-control-label" for="'+domID+'_False"><span class="labeltext">Nee</span></label>\n            </div>\n          </div>\n        </fieldset>'),document.querySelectorAll("#div"+domID+' [data-sel="user-input"]').forEach((e=>{e.addEventListener("change",(e=>{this.checkVraag(e.target)}))})),inputID=vraagID},addRadioGroepField=()=>{$(fieldsetID).append('<fieldset class="'+questionClass+' form-group" id="div'+domID+'">\n        <legend class="col-12  bld-form-lbl pt-0">'+vraagOpscherm+'</legend>\n        <div class="col-sm-8 bld-input-group">\n        </div>\n      </fieldset>');for(let e=0;e<this.iah.aVraag[vraagID].checkboxKeuze.length;e++)$("#div"+domID+" .bld-input-group").append('<div class="form-check custom-control custom-radio">\n                              <input data-sel="user-input" class="custom-control-input" type="radio" name="'+domID+'" id="'+domID+"_"+e+'" value="'+this.iah.aVraag[vraagID].checkboxValues[e]+'">\n              <label class="custom-control-label" for="'+domID+"_"+e+'"><span class="labeltext">'+this.iah.aVraag[vraagID].checkboxKeuze[e]+"</span></label>\n            </div>");document.querySelectorAll("#div"+domID+' [data-sel="user-input"]').forEach((e=>{e.addEventListener("change",(e=>{this.checkVraag(e.target)}))})),inputID=vraagID},addCheckboxField=()=>{$(fieldsetID).append('<fieldset class="'+questionClass+' form-group" id="div'+domID+'">\n          <legend class="col-12  bld-form-lbl pt-0">'+vraagOpscherm+'</legend>\n          <div class="col-sm-8 bld-input-group">\n          </div>\n        </fieldset>');for(let e=0;e<this.iah.aVraag[vraagID].checkboxKeuze.length;e++)$("#div"+domID+" .bld-input-group").append('<div class="form-check">\n                            <input data-sel="user-input" class="form-check-input" type="checkbox" name="'+domID+'" id="'+domID+"_"+e+'" value="'+this.iah.aVraag[vraagID].checkboxVars[e]+'">\n              <label class="form-check-label" for="'+domID+"_"+e+'">'+this.iah.aVraag[vraagID].checkboxKeuze[e]+"</label>\n            </div>");document.querySelectorAll("#div"+domID+' [data-sel="user-input"]').forEach((e=>{e.addEventListener("change",(e=>{this.checkVraag(e.target)}))})),inputID=vraagID},addDateField=()=>{let e=this.calcRange(this.iah.aVraag[vraagID].yearRange);$(fieldsetID).append('<fieldset class="'+questionClass+' form-group" id="div'+domID+'">\n          <label class="col-12  bld-form-lbl" for="'+domID+'">'+vraagOpscherm+'</label>\n          <div class="col-sm-6">\n            <div class="date input-group">\n              <input data-sel="user-input" type="text" class="form-control" name="'+domID+'" id="'+domID+'" placeholder="dd-mm-jjjj">\n            </div>\n          </div>\n        </fieldset>'),addDatepicker(domID,e),document.querySelectorAll("#div"+domID+' [data-sel="user-input"]').forEach((e=>{e.addEventListener("change",(e=>{this.checkVraag(e.target)}))})),inputID=domID},addDatePeriodField=()=>{var e=this.calcRange(this.iah.aVraag[vraagID].yearRange),t=domID+"_Begin",a=domID+"_Eind";$(fieldsetID).append('<fieldset class="'+questionClass+' form-group" id="div'+domID+'">\n          <label class="col-12  bld-form-lbl" for="'+domID+'">'+vraagOpscherm+'</label>\n          <div class="col-sm-6 mb-2 mb-sm-0">\n            <label for="'+t+'">Vanaf</label>\n            <div class="date input-group">\n              <input data-sel="user-input" type="text" class="form-control" name="'+domID+'" id="'+t+'" placeholder="dd-mm-jjjj">\n            </div>\n          </div>\n          <div class="col-sm-6">\n            <label for="'+a+'">Tot</label>\n            <div class="date input-group">\n              <input data-sel="user-input" type="text" class="form-control" name="'+domID+'" id="'+a+'" placeholder="dd-mm-jjjj">\n            </div>\n          </div>\n        </fieldset>'),addDatepicker(t,e),addDatepicker(a,e),document.querySelectorAll("#div"+domID+' [data-sel="user-input"]').forEach((e=>{e.addEventListener("change",(e=>{this.checkVraag(e.target)}))})),inputID=domID},addDateYearMonth=()=>{let defaultMaand,defaultJaar;$(fieldsetID).append('<fieldset class="'+questionClass+' form-group" id="div'+domID+'">\n        <legend class="col-12  bld-form-lbl">'+vraagOpscherm+'</legend>\n        <div class="col-6">\n          <label for="'+domID+'_maand" class="sr-only">Selecteer een maand</label>\n          <select data-sel="user-input" class="form-control custom-select" name="'+domID+'" id="'+domID+'_maand"></select>\n        </div>\n        <div class="col-6">\n          <label for="'+domID+'_jaar" class="sr-only">Selecteer een jaar</label>\n          <select data-sel="user-input" class="form-control custom-select" name="'+domID+'" id="'+domID+'_jaar"></select>\n        </div>\n      </fieldset>'),document.querySelectorAll("#div"+domID+' [data-sel="user-input"]').forEach((e=>{e.addEventListener("change",(e=>{this.checkVraag(e.target)}))})),this.iah.aVraag[vraagID].defaultMaand&&eval("defaultMaand = "+this.replaceVarsInText(this.iah.aVraag[vraagID].defaultMaand,this.iah.aVar)),addMonthsToSelect(domID+"_maand",defaultMaand),inputID=domID+"_jaar",this.iah.aVraag[vraagID].defaultJaar&&eval("defaultJaar = "+this.replaceVarsInText(this.iah.aVraag[vraagID].defaultJaar,this.iah.aVar));let aTemp=this.calcRange(this.iah.aVraag[vraagID].yearRange).split(":"),s1="",s2="";aTemp[0]<aTemp[1]?(s1="i<=aTemp[1]",s2="i++"):(s1="i>=aTemp[1]",s2="i--"),null==defaultJaar&&$("#"+inputID).append('<option value="">Jaar</option>');for(let i=aTemp[0];eval(s1);eval(s2)){let e="";null!=defaultJaar&&i==defaultJaar&&(e=' selected="selected"'),$("#"+inputID).append('<option value="'+i+'"'+e+">"+i+"</option>")}if(null!=defaultMaand&&null!=defaultJaar){let e=$("#"+inputID);this.checkVraag(e[0])}inputID=domID},addBirthdateField=()=>{$(fieldsetID).append('<fieldset class="'+questionClass+' form-group row birthday" id="div'+domID+'">\n          <legend class="col-12  bld-form-lbl">'+vraagOpscherm+'</legend>\n          <input type="hidden" name="'+domID+'" id="'+domID+'"/>\n          <div class="col-12">\n            <div class="row">\n              <div class="col-4 col-md-2">\n                <label for="'+domID+'-1">Dag</label>\n                <input data-sel="user-input" type="text" maxlength="2" class="form-control birthInput" id="'+domID+'-1" placeholder="dd">\n              </div>\n              <div class="col-4 col-md-2">\n                <label for="'+domID+'-2">Maand</label>\n                <input data-sel="user-input" type="text" maxlength="2" class="form-control birthInput" id="'+domID+'-2" placeholder="mm">\n              </div>\n              <div class="col-4 col-md-2">\n                <label for="'+domID+'-3">Jaar</label>\n                <input data-sel="user-input" type="text" maxlength="4" class="form-control birthInput" id="'+domID+'-3" placeholder="jjjj">\n              </div>\n            </div>\n          </div>\n        </fieldset>');let e=this;document.querySelectorAll("#div"+domID+' [data-sel="user-input"]').forEach((t=>{t.addEventListener("keyup",(function(t){!function(e,t){if(16!=e.keyCode&&37!=e.keyCode&&39!=e.keyCode){var a=e.target;handleFocusBirthdateField(e,a),t.updateBirthdateValue(vraagID,domID);var i=document.getElementById(domID);t.checkVraag(i)}}(t,e)}))}))},handleFocusBirthdateField=(e,t)=>{let a=e.currentTarget.id.slice(-1);if("keydown"===e.type)8===e.keyCode&&"1"!==a&&0===$(t).val().length&&$(t).closest("div").prev().find("input").focus();else if("keyup"===e.type){let i=$(t).attr("maxlength");8!==e.keyCode&&9!==e.keyCode&&"3"!==a&&i==$(t).val().length&&$(t).closest("div").next().find("input").focus()}},addSelectField=iAantal=>{let legendClass="";this.iah.aVraag[vraagID].vragenSetRowID&&(legendClass+=" sr-only sr-only-md"),iAantal>1?$(fieldsetID).append('<fieldset class="'+questionClass+' form-group" id=div'+domID+'>\n            <legend class="bld-form-lbl pt-0">'+vraagOpscherm+"</legend>\n          </fieldset>"):$(fieldsetID).append('<div class="'+questionClass+' form-group" id=div'+domID+'>\n              <label class="col-12 bld-form-lbl'+legendClass+'" for="'+domID+'">'+vraagOpscherm+"</label>\n          </div>");for(var ii=1;ii<=iAantal;ii++){if(iAantal>1)inputID=domID+"_"+ii,options=eval("this.iah.aVraag[vraagID].dropdownKeuze_"+ii),$("#div"+domID).append('<div class="col-6">\n                <label class="sr-only" for="'+inputID+'">'+ii+'e selectie</label>\n                <select data-sel="user-input" name="'+inputID+'" class="form-control custom-select" id="'+inputID+'"></select>\n            </div>');else{inputID=domID;var options=this.iah.aVraag[vraagID].dropdownKeuze;let e=this.iah.aVraag[vraagID].veldBreedte?this.iah.aVraag[vraagID].veldBreedte:"col-sm-6";$("#div"+domID).append('<div class="'+e+'">\n                <select data-sel="user-input" name="'+inputID+'" class="form-control custom-select" id="'+inputID+'"></select>\n            </div>')}var counter=-1;if(0==Array.isArray(options[0])&&options[0].indexOf(":")>-1&&(counter=0),-1==counter&&options.length>1&&0==Array.isArray(options[1])&&options[1].indexOf(":")>-1&&(counter=1),counter>-1){let aTemp=options[counter].split(":");if("function"!=aTemp[0]){aTemp=this.calcRange(options[counter]).split(":");let s1="",s2="";aTemp[0]<aTemp[1]?(s1="i<=aTemp[1]",s2="i++"):(s1="i>=aTemp[1]",s2="i--");for(let i=aTemp[0];eval(s1);eval(s2))options[counter]=i.toString(),counter++}else options=eval(aTemp[1])}for(let e=0;e<options.length;e++){let t=options[e],a=options[e];Array.isArray(t)&&t.length>1&&(t=options[e][0],a=options[e][1]),$("#"+inputID).append('<option value="'+a+'">'+this.replaceVarsInText(t.toString(),this.iah.aVar)+"</option>")}}let oThis=document.querySelectorAll("#div"+domID+' [data-sel="user-input"]'),defaultKeuze;oThis.forEach((e=>{e.addEventListener("change",(e=>{this.checkVraag(e.target)})),this.iah.aVraag[vraagID].vragenSetID&&e.addEventListener("blur",(e=>{this.checkVraag(e.target,e)}))})),this.iah.aVraag[vraagID].defaultKeuze&&eval("defaultKeuze = "+this.iah.aVraag[vraagID].defaultKeuze),null!=defaultKeuze&&!1===this.restoreUserInput("div"+domID,vraagID)&&(oThis[0].value=defaultKeuze,this.backupUserInput(oThis)),inputID=vraagID},configDatepicker=(e,t,a)=>{let i="";i=this.iah.aVraag[vraagID]&&this.iah.aVraag[vraagID].yearRange&&""===a?this.calcRange(this.iah.aVraag[vraagID].yearRange):a,void 0!==i&&""!==i||(i=(new Date).getFullYear()+":"+(new Date).getFullYear());let s=i.split(":"),n=(s[0],s[1],new Date(s[1],0,1)),r=new Date(s[0],0,1),o=new Date(s[1],11,31);if(null!=this.iah.aVraag[t]){if(null!=this.iah.aVraag[t].defaultDate&&this.iah.aVraag[t].defaultDate){let e=this.replaceVarsInText(this.iah.aVraag[t].defaultDate,this.iah.aVar);e=e.split("-"),n={year:parseInt(e[2]),month:parseInt(e[1])-1,day:parseInt(e[0])}}null!=this.iah.aVraag[t].minDate&&this.iah.aVraag[t].minDate&&(r=this.replaceVarsInText(this.iah.aVraag[t].minDate,this.iah.aVar)),null!=this.iah.aVraag[t].maxDate&&this.iah.aVraag[t].maxDate&&(o=this.replaceVarsInText(this.iah.aVraag[t].maxDate,this.iah.aVar))}this.isNativeDatepicker()?$(e).attr({min:r.yyyymmdd(),max:o.yyyymmdd(),value:""}):($(e).daterangepicker({parentEl:$("#"+t+this.iah.suffix,".modal").length>0?"#bld-modal":"body",singleDatePicker:!0,autoUpdateInput:!1,showDropdowns:!0,autoApply:!0,locale:{format:"DD-MM-YYYY",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],daysOfWeek:["ma","di","wo","do","vr","za","zo"],firstDay:0},minDate:r,maxDate:o,startDate:n}),$(e).on("apply.daterangepicker",(function(t,a){$(e).val(a.startDate.format("DD-MM-YYYY"))})),$(e).mask("99-99-9999"))},addDatepicker=(e,t)=>{let a="";null!=t&&(a=t),$("#"+e).after('<div class="input-group-append"><button tabindex="-1" id="dp-icon-'+e+'" class="btn btn-primary pl-0 pr-0" aria-hidden="true" type="button"></button></div>'),configDatepicker($("#dp-icon-"+e),e,a),$("#dp-icon-"+e).append('<span class="icon">kalender</span>'),$("#dp-icon-"+e).on("apply.daterangepicker",(function(t,a){$("#"+e).val(a.startDate.format("DD-MM-YYYY")),$("#"+e).trigger("change"),document.querySelector("#"+e).dispatchEvent(new Event("change"))}))},vraagAanvullen=e=>{null!=this.iah.aVraag[vraagID].maxlength&&!isNaN(this.iah.aVraag[vraagID].maxlength)&&$("#"+e).is("input")&&$("#"+e).attr("maxlength",this.iah.aVraag[vraagID].maxlength),null!=this.iah.aVraag[vraagID].classInput&&$("#"+e).addClass(this.iah.aVraag[vraagID].classInput)},doOpSchermIntro=e=>{void 0!==this.iah.aVraag[vraagID].opSchermIntro&&($("#div"+e).before('<div class="row"><div id="intro'+e+'" class="col-12"></div></div>'),this.toonHtmlTxt("#intro"+e,this.replaceVarsInText(this.iah.aVraag[vraagID].opSchermIntro,this.iah.aVar)))},doOpSchermExtra=e=>{void 0!==this.iah.aVraag[vraagID].opSchermExtra&&($("#div"+e+" .bld-form-lbl").after('<div class="col-12"><div id="extra'+e+'" class="bld-form-lbl-extra"></div></div>'),this.iah.aVraag[vraagID].opSchermExtraResult=this.toonHtmlTxt("#extra"+e,this.replaceVarsInText(this.iah.aVraag[vraagID].opSchermExtra,this.iah.aVar)))},addMonthsToSelect=(e,t)=>{let a=this.getMaanden();null==t&&$("#"+e).append('<option value="">Maand</option>');for(let i=0;i<12;i++){let s="";null!=t&&t==a[i][0]&&(s=' selected="selected"'),$("#"+e).append('<option value="'+a[i][0]+'"'+s+">"+a[i][1]+"</option>")}};if(null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("doVraag("+domID+")"),null==this.iah.aVraag[vraagID])return!1;if(this.iah.aVraag[vraagID].copyButton)if(void 0===this.iah.aVraag[vraagID].vragenSubsetID)vraagID=this.copyVraag(vraagID);else if(this.iah.aVraag[vraagID].vragenSubsetID==vraagID&&0!==$("#div"+domID+" .form-group.row").length)return;if($("#div"+domID).is("#div"+domID))return;if(null==this.iah.aVraag[vraagID])return alert("fout: de gegevens van de te tonen vraag "+vraagID+", niet gevonden in tabel this.iah.aVraag. \n check flow.js en vragen.js"),!1;let fieldsetID=this.maakBlok(vraagID,domID);if(""==fieldsetID)return!1;fieldsetID="#"+fieldsetID,this.iah.aVraag[vraagID].vragenSetRowDomID&&(fieldsetID="#"+this.iah.aVraag[vraagID].vragenSetRowDomID);let questionClass="bld-frm-question",questionParentID="div"+domID;if(this.iah.aVraag[vraagID].vragenSetDomID){if(questionClass="bld-frm-subquestion",questionParentID="div"+this.iah.aVraag[vraagID].vragenSetDomID,this.iah.aVraag[vraagID].parentClass){let e=document.getElementById(questionParentID);e.classList.add(this.iah.aVraag[vraagID].parentClass)}}else if(this.iah.aVraag[vraagID].vragenSubsetDomID){if(questionClass="bld-frm-subquestion",questionParentID="div"+this.iah.aVraag[vraagID].vragenSubsetDomID,this.iah.aVraag[vraagID].parentClass){let e=document.getElementById(questionParentID);e.classList.add(this.iah.aVraag[vraagID].parentClass)}}else this.iah.aVraag[vraagID].parentClass&&(questionClass+=" "+this.iah.aVraag[vraagID].parentClass);if(this.iah.aVraag[vraagID].vragenSetRowID){let e="col";if(this.iah.aVraag[this.iah.aVraag[vraagID].vragenSetRowID].kolommen){let t=this.iah.aVraag[this.iah.aVraag[vraagID].vragenSetRowID].vragen.indexOf(vraagID);e=this.iah.aVraag[this.iah.aVraag[vraagID].vragenSetRowID].kolommen[t],e+=" no-gutters mb-md-0"}questionClass+=" "+e}else questionClass+=" row";let vraagOpscherm=this.replaceVarsInText(this.iah.aVraag[vraagID].opScherm,this.iah.aVar),inputID=vraagID,aVraagType=this.iah.aVraag[vraagID].type.split("["),isNumInput="numeriek"===this.iah.aVraag[vraagID].validatie;switch(2==aVraagType.length&&(aVraagType[1]=aVraagType[1].replace("]","")),aVraagType[0]){case"text":addTextField();break;case"JaNee":addYesNoField();break;case"RadioGroep":addRadioGroepField();break;case"date":addDateField();break;case"datePeriod":addDatePeriodField();break;case"geboorteDatum":addBirthdateField();break;case"checkbox":addCheckboxField();break;case"dateYearMonth":addDateYearMonth();break;case"dropdown":2==aVraagType.length?addSelectField(parseInt(aVraagType[1])):addSelectField(1);break;case"custom":this.iah.maakCustomVeld(vraagID,inputID,vraagOpscherm)}if(this.iah.aVraag[vraagID].vragenSetID&&$("#div"+this.iah.aVraag[vraagID].vragenSetID+this.iah.suffix+" label").removeClass("bld-form-lbl"),vraagAanvullen(domID),doOpSchermIntro(domID),this.checkHelpButton(vraagID,domID),doOpSchermExtra(domID),this.introSubBlokStyling(),this.iah.aVraag[vraagID].vragenSubsetID&&this.initVragenSubset(vraagID),this.iah.aVraag[vraagID].vragenSetRowID&&this.initVragensetRijen(this.iah.aVraag[vraagID].vragenSetID,this.iah.aVraag[vraagID].vragenSetDomID),"function"==typeof this.iah.vraagAanvullenModuleSpecifiek&&this.iah.vraagAanvullenModuleSpecifiek(vraagID),$(".bld-frm-question").removeClass("lastChild"),$("#"+questionParentID).addClass("lastChild"),$(".bld-frm-question:first").addClass("firstChild"),!0===this.bDebugIah&&!0===this.debugSID&&$(`#SID_True${this.iah.suffix}`).trigger("click"),this.iah.backupMode){if(this.iah.aVraag[vraagID].vragenSetRowID)return;if(this.iah.aVraag[vraagID].hasOwnProperty("opSchermVorig")&&this.iah.aVraag[vraagID].opSchermHuidig!==this.iah.aVraag[vraagID].opSchermVorig)return;if(this.iah.aVraag[vraagID].hasOwnProperty("opSchermExtraVorig")&&this.iah.aVraag[vraagID].opSchermExtraHuidig!==this.iah.aVraag[vraagID].opSchermExtraVorig)return;this.restoreUserInput(questionParentID,vraagID)}oBld.addNewTabIconToLinks()}updateBirthdateValue(e,t){let a=document.getElementById(t+"-1").value,i=document.getElementById(t+"-2").value,s=document.getElementById(t+"-3").value,n="";""!=a&&""!=i&&""!=s&&4==s.length&&(n=a+"-"+i+"-"+s),$("#"+t).val(n)}updateAriaAttr(e){document.querySelector(".bld-progressbar__container").setAttribute("aria-valuenow",e),document.querySelector(".bld-progressbar__container").setAttribute("aria-valuetext",document.querySelector("#"+this.iah.fieldsetId+e).querySelector("legend").textContent)}iah_NavVolgendePagina(){this.slideModeNavigation.iah_basenav>Object.keys(this.iah.aBlok).length?(this.slideModeNavigation.iah_basenav=1,startModule($("#"+this.iah.formId).closest("section").data("id"))):(this.slideModeNavigation.iah_basenav+=1,$("#"+this.iah.fieldsetId+(this.slideModeNavigation.iah_basenav-1)).hide(),$("#"+this.iah.fieldsetId+this.slideModeNavigation.iah_basenav).show()),this.checkBtnNavVorigePagina(),this.checkBtnNavVolgendePagina(),this.slideModeNavigation.iah_basenav<Object.keys(this.iah.aBlok).length+1?updateAriaAttr(this.slideModeNavigation.iah_basenav):this.slideModeNavigation.iah_basenav===Object.keys(this.iah.aBlok).length+1&&(document.querySelector(".bld-progressbar__container").setAttribute("aria-valuenow",this.slideModeNavigation.iah_basenav),document.querySelector(".bld-progressbar__container").setAttribute("aria-valuetext",document.querySelector("#"+this.iah.divResultaat).querySelector("h2").textContent)),$("html, body").animate({scrollTop:this.iahTopPosition},"fast"),document.getElementById("bld-progressbar-step-"+this.slideModeNavigation.iah_basenav).classList.add("bld-progressbar__step--active"),1===this.slideModeNavigation.iah_basenav?(document.getElementById("bld-progressbar-step-"+this.slideModeNavigation.iah_basenav).classList.remove("bld-progressbar__step--active"),document.getElementById("bld-progressbar-step-"+this.slideModeNavigation.iah_basenav).classList.add("bld-progressbar__step--done"),document.getElementById("bld-progressbar-step-"+this.slideModeNavigation.iah_basenav).querySelector(".bld-progressbar__step-marker").innerHTML="",document.getElementById("bld-progressbar-step-"+this.slideModeNavigation.iah_basenav).querySelector(".bld-progressbar__step-marker").appendChild(getIconNode("klaarzetten")),document.getElementById("bld-progressbar-indicator-line-"+this.slideModeNavigation.iah_basenav).classList.add("bld-progressbar__indicator-line--done")):(document.getElementById("bld-progressbar-step-"+(this.slideModeNavigation.iah_basenav-1)).classList.remove("bld-progressbar__step--active"),document.getElementById("bld-progressbar-step-"+(this.slideModeNavigation.iah_basenav-1)).classList.add("bld-progressbar__step--done"),document.getElementById("bld-progressbar-step-"+(this.slideModeNavigation.iah_basenav-1)).querySelector(".bld-progressbar__step-marker").innerHTML="",document.getElementById("bld-progressbar-step-"+(this.slideModeNavigation.iah_basenav-1)).querySelector(".bld-progressbar__step-marker").appendChild(getIconNode("klaarzetten")),document.getElementById("bld-progressbar-indicator-line-"+(this.slideModeNavigation.iah_basenav-1)).classList.add("bld-progressbar__indicator-line--done")),this.slideModeNavigation.iah_basenav>Object.keys(this.iah.aBlok).length&&(this.slideModeNavigation["blok_"+(this.slideModeNavigation.iah_basenav-1)+"_valid"]=!0,$("#"+this.iah.divResultaat).show(),$("#btnNavVorigePagina").show()),iah_WijzigBtnVolgende()}iah_NavVorigePagina(){$("#"+this.iah.fieldsetId+this.slideModeNavigation.iah_basenav).hide(),$("#"+this.iah.fieldsetId+(this.slideModeNavigation.iah_basenav-1)).show(),document.getElementById("bld-progressbar-step-"+this.slideModeNavigation.iah_basenav).classList.remove("bld-progressbar__step--active"),document.getElementById("bld-progressbar-indicator-line-"+(this.slideModeNavigation.iah_basenav-1)).classList.remove("bld-progressbar__indicator-line--done"),document.getElementById("bld-progressbar-step-"+(this.slideModeNavigation.iah_basenav-1)).classList.remove("bld-progressbar__step--done"),document.getElementById("bld-progressbar-step-"+(this.slideModeNavigation.iah_basenav-1)).classList.add("bld-progressbar__step--active"),document.getElementById("bld-progressbar-step-"+(this.slideModeNavigation.iah_basenav-1)).querySelector(".bld-progressbar__step-marker").textContent=this.slideModeNavigation.iah_basenav-1,this.slideModeNavigation.iah_basenav-=1,this.checkBtnNavVorigePagina(),this.checkBtnNavVolgendePagina(),this.updateAriaAttr(this.slideModeNavigation.iah_basenav),$("html, body").animate({scrollTop:this.iahTopPosition},"fast"),this.slideModeNavigation.iah_basenav>=Object.keys(this.iah.aBlok).length&&($("#"+this.iah.divResultaat).hide(),$("#btnNavVolgendePagina").prop("disabled",!1)),iah_WijzigBtnVolgende()}iah_WijzigBtnVolgende(){let e=document.getElementById("btnNavVolgendePagina");this.slideModeNavigation.iah_basenav>Object.keys(this.iah.aBlok).length?e.textContent="Opnieuw starten":this.slideModeNavigation.iah_basenav===Object.keys(this.iah.aBlok).length&&(e.textContent="Volgende ")}checkBtnNavVorigePagina(){this.slideModeNavigation.iah_basenav>1?$("#btnNavVorigePagina").show():$("#btnNavVorigePagina").hide()}checkBtnNavVolgendePagina(){this.slideModeNavigation.iah_basenav>Object.keys(this.iah.aBlok).length?$("#btnNavVolgendePagina").prop("disabled",!1):$("#btnNavVolgendePagina").prop("disabled",!0!==this.slideModeNavigation["blok_"+this.slideModeNavigation.iah_basenav+"_valid"])}loadProgressbar(){$(document).ready((function(){let e=$("#"+this.iah.formId).closest("section"),t=$("div.container",e);if($(e).addClass("bld-iah-slidemode"),$("div.bld-progressbar__container",t).length>0){let e=$(t)[0].getElementsByClassName("row")[0];$(t)[0].removeChild(e)}$(t[0]).prepend('<div class="row">\n    <div class="col-sm-2"></div>\n    <div class="col-sm-8 col-12">\n    <div class="bld-progressbar__container"></div></div>  <div class="col-sm-m"></div>\n    </div>');let a=Object.keys(this.iah.aBlok).length+1,i=document.querySelector(".bld-progressbar__container");i.setAttribute("role","progressbar"),i.setAttribute("aria-valuemin",this.slideModeNavigation.iah_basenav),i.setAttribute("aria-valuemax",a),i.setAttribute("aria-valuenow",this.slideModeNavigation.iah_basenav),i.setAttribute("aria-valuetext",document.querySelector("#"+this.iah.fieldsetId+this.slideModeNavigation.iah_basenav).querySelector("legend").textContent),i.setAttribute("aria-describedby",this.iah.formId);let s=document.createElement("ol");s.classList.add("bld-progressbar");for(let e=1;e<=a;e++)s.appendChild(n(e,a)),e!==a&&s.appendChild(r(e,a-1));function n(e,t){let a=document.createElement("li");a.setAttribute("id","bld-progressbar-step-"+e),a.classList.add("bld-progressbar__step");let i=e;if(e<t){this.iah.aBlok["V"+e];1===e&&a.classList.add("bld-progressbar__step--active")}else{}var s=document.createElement("span");return i===t?s.appendChild(getIconNode("klaarzetten")):s.textContent=i,s.classList.add("bld-progressbar__step-marker"),a.appendChild(s),(s=document.createElement("span")).textContent=txtLabel,s.classList.add("bld-progressbar__step-label"),a.appendChild(s),a}function r(e,t){let a=document.createElement("span");return a.classList.add("bld-progressbar__indicator-line"),a.setAttribute("id","bld-progressbar-indicator-line-"+e),a.setAttribute("aria-hidden","true"),a}$("div.bld-progressbar__container",t)[0].appendChild(s)}))}initVragensetRijen(vragenSetID,vragenSetDomID){null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("initVragensetRijen("+vragenSetID+")");let vragenSetRijen=document.querySelectorAll("#div"+vragenSetDomID+' [data-sel="vragenSetRij"]');vragenSetRijen.forEach(((elRow,row)=>{let vragenSetRowID=vragenSetID+"-"+(row+1),vragenSetRowDomID=vragenSetRowID+this.iah.suffix,tmpVraagID,tmpVraagDomID;$(elRow).attr("id",vragenSetRowDomID),$('[data-sel="vragenSetRijOpScherm"]',elRow).html(this.iah.aVraag[vragenSetID].opScherm+" "+(row+1)),$(".bld-error-container",elRow).attr("id","error_"+vragenSetRowDomID),document.querySelectorAll("#"+vragenSetRowDomID+" .bldc-notification").forEach(((e,t)=>{let a=$(e).attr("id");a=this.getIdWithoutSuffix(a),a=a.slice(0,-1),$(e).attr("id",a+(row+1)+this.iah.suffix)})),document.querySelectorAll("#"+vragenSetRowDomID+" .bld-frm-subquestion").forEach(((elVrg,i)=>{tmpVraagID=this.iah.aVraag[vragenSetID].vragen[i]+"-"+(row+1),tmpVraagDomID=this.iah.aVraag[vragenSetID].vragen[i]+"-"+(row+1)+this.iah.suffix,$(elVrg).attr("id","div"+tmpVraagDomID),$("label",elVrg).attr("for",tmpVraagDomID),$("input",elVrg)&&($("input",elVrg).attr("id",tmpVraagDomID),$("input",elVrg).attr("name",tmpVraagID)),$("select",elVrg)&&($("select",elVrg).attr("id",tmpVraagDomID),$("select",elVrg).attr("name",tmpVraagID)),this.iah.aVraag[tmpVraagID].onblur&&($("#div"+tmpVraagDomID).off("blur"),eval("$('#div' + tmpVraagDomID).blur (function(e){"+this.iah.aVraag[tmpVraagID].onblur+"});"))})),$('[data-sel^="user-copy"]',elRow).remove(),$('[data-sel^="user-del"]',elRow).remove(),vragenSetRijen.length>1&&($(".btn-group",elRow).append('<button type="button" class="col-1 btn btn-outline-primary" data-sel="user-del-'+vragenSetRowDomID+'"><span class="sr-only">regel verwijderen</span><span aria-hidden="true">-</span></button>'),elRow.querySelectorAll('[data-sel="user-del-'+vragenSetRowDomID+'"]').forEach((e=>{e.addEventListener("click",(e=>{$("#"+vragenSetRowDomID).remove(),this.iah.aVraag[vragenSetID].setPlusFocus=!0,$(".bld-error-container","#div"+vragenSetDomID).remove();let t=vragenSetID+"-"+vragenSetRijen.length;for(let e=0;e<this.iah.aVraag[t].vragen.length;e++)delete this.iah.aVraag[this.iah.aVraag[t].vragen[e]],delete this.iah.aBackupUserInput[this.iah.aVraag[t].vragen[e]];for(let e=0;e<this.iah.aVraag[vragenSetRowID].vragen.length;e++)delete this.iah.aBackupUserInput[this.iah.aVraag[vragenSetRowID].vragen[e]];delete this.iah.aVraag[t],$("#"+vragenSetDomID).val(vragenSetRijen.length-1),this.backupUserInput(document.querySelectorAll("#"+this.iah.formId+" #"+vragenSetDomID)),this.initVragensetRijen(vragenSetID,vragenSetDomID);let a=this.iah.aVraag[vragenSetID+"-1"].vragen[0]+this.iah.suffix;this.checkVraag(document.getElementById(a))}))})))}));let vragenSetRowID=vragenSetID+"-"+vragenSetRijen.length,vragenSetRowDomID=vragenSetRowID+this.iah.suffix;if(this.iah.aVraag[vragenSetID].vragen.length===$("#"+vragenSetRowDomID+" .bld-frm-subquestion").length&&0===$(".btn-group","#"+vragenSetRowDomID).length&&$("#"+vragenSetRowDomID).append('<div class="btn-group col-2 mb-2 mb-md-0" role="group" aria-label="Plus en min button"></div>'),vragenSetRijen.length<this.iah.aVraag[vragenSetID].copyMaxCount){if($(".btn-group","#"+vragenSetRowDomID).append('<button type="button" id="plusBtn'+vragenSetRowDomID+'" class="col-1 btn btn-outline-primary" data-sel="user-copy-'+vragenSetRowDomID+'"><span class="sr-only">extra regel toevoegen</span><span aria-hidden="true">+</span></button>'),this.iah.aVraag[vragenSetID].setPlusFocus){document.getElementById("plusBtn"+vragenSetRowDomID).focus();var previousElem=document.getElementById("plusBtn"+vragenSetRowDomID).closest(".form-row").firstChild;null!==document.getElementById("plusBtn"+vragenSetRowDomID).closest(".form-row")&&previousElem.scrollIntoView()}let e=document.querySelectorAll('[data-sel="user-copy-'+vragenSetRowDomID+'"]');e&&e.forEach((e=>{e.addEventListener("click",(e=>{if(!this.saveVragenRijen(vragenSetID+this.iah.suffix,{emptyWarning:!0,decimalen:!0}).inputValid)return;this.doVragenSet(vragenSetID,"add"),$("#"+vragenSetDomID).val(vragenSetRijen.length+1),this.backupUserInput(document.querySelectorAll("#"+this.iah.formId+" #"+vragenSetDomID)),this.initVragensetRijen(vragenSetID,vragenSetDomID);let t=this.iah.aVraag[vragenSetRowID].vragen[0]+this.iah.suffix;this.checkVraag(document.getElementById(t));let a=document.getElementById(t).closest(".bld-frm-subquestion").closest('[data-sel="vragenSetRij"').nextElementSibling,i=document.getElementById(t).closest(".bld-frm-subquestion").closest('[data-sel="vragenSetRij"');a.querySelector('[data-sel="user-input"]')?a.querySelector('[data-sel="user-input"]').focus():i.querySelector('[data-sel="user-input"]').focus()}))}))}}initVragenSubset(vraagID,inputValid=!0){null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("initVragenSubset("+vragenSetID+")");let vragenSubsetID=this.iah.aVraag[vraagID].vragenSubsetID,vragenSubsetDomID=this.iah.aVraag[vraagID].vragenSubsetID+this.iah.suffix,vragenSubset=$("#div"+vragenSubsetDomID+" .form-group.row");vragenSubset.each((function(row,element){let tmpVraagID=vragenSubsetID+"-"+(row+1),tmpVraagDomID=vragenSubsetID+"-"+(row+1)+this.iah.suffix;$(element).attr("id","div"+tmpVraagDomID),$("label[for]",element).attr("for",tmpVraagDomID),$('[data-sel="user-input"]',element).attr("id",tmpVraagDomID),$(".bld-error-container",element).attr("id","error_"+tmpVraagDomID),$(".bldc-notification-content",element).attr("id","message_error_"+tmpVraagDomID),this.iah.aVar.counter=row+1;let vraagOpscherm=this.replaceVarsInText(this.iah.aVraag[tmpVraagID].opScherm,this.iah.aVar);$("label",element).html(vraagOpscherm),this.iah.aVraag[tmpVraagID].onblur&&($("#"+tmpVraagDomID).off("blur"),eval("$('#' + tmpVraagDomID).blur (function(e){"+this.iah.aVraag[tmpVraagID].onblur+"});")),$('[data-sel^="user-copy"]',element).remove(),$('[data-sel^="user-del"]',element).remove(),0===$(".input-group-append *",element).length&&$(".input-group-append",element).remove(),vragenSubset.length>1&&(this.addInputGroupContainer(tmpVraagDomID,"append"),$("#div"+tmpVraagDomID+" .bld-form-inputgrp  .input-group .input-group-append").append('<button type="button" class="btn btn-outline-secondary" data-sel="user-del-'+tmpVraagDomID+'">-</button>'),document.querySelectorAll('[data-sel="user-del-'+tmpVraagDomID+'"]').forEach((e=>{e.addEventListener("click",(e=>{$("#div"+tmpVraagDomID).remove(),delete this.iah.aVraag[vragenSubsetID+"-"+vragenSubset.length],this.initVragenSubset(vragenSubsetID),this.checkVraag(document.getElementById(vragenSubsetID+"-1"))}))})))}));let tmpVrgID=vragenSubsetID+"-"+vragenSubset.length,tmpVrgDomID=vragenSubsetID+"-"+vragenSubset.length+this.iah.suffix;""!==$("#"+tmpVrgDomID).val()&&inputValid&&(this.addInputGroupContainer(tmpVrgDomID,"append"),$("#div"+tmpVrgDomID+" .bld-form-inputgrp  .input-group .input-group-append").prepend('<button type="button" class="btn btn-outline-secondary" data-sel="user-copy-'+tmpVrgDomID+'">+</button>'),document.querySelectorAll('[data-sel="user-copy-'+tmpVrgDomID+'"]').forEach((e=>{e.addEventListener("click",(e=>{let t=this.copyVraag(vragenSubsetID);this.doVraag(t),this.initVragenSubset(vragenSubsetID),this.checkVraag(document.getElementById(tmpVrgID))}))}))),$(".bld-form-question-info-btn",vragenSubset).remove(),$(".bld-notification",vragenSubset).remove(),this.checkHelpButton(vragenSubsetID+"-1")}copyVraag(e){let t=e+this.iah.suffix;null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("copyVraag("+vragenSetID+")"),this.iah.aVraag[e].vragenSubsetID=e,this.iah.aVraag[e].vragenSubsetDomID=t;let a=$("#div"+t+" .form-group.row").length+1,i=e+"-"+a,s=$.extend(!0,{},this.iah.aVraag[e]);return this.iah.aVraag[e].variabele&&(s.variabele=this.iah.aVraag[e].variabele.replace(/\[i\+\+]/g,a)),this.iah.aVraag[e].object&&(s.object=this.iah.aVraag[e].object.replace(/\[i\+\+]/g,a)),this.iah.aVraag[i]=s,i}copyVragenSet(e,t){let a=$("#div"+t+' [data-sel="vragenSetRij"]').length+1,i=e+"-"+a,s=$.extend(!0,{},this.iah.aVraag[e]);this.iah.aVraag[i]=s;let n,r=this.iah.aVraag[e];for(let e=0;e<r.vragen.length;e++){let t=r.vragen[e];n=t+"-"+a;let s=$.extend(!0,{},this.iah.aVraag[t]);this.iah.aVraag[t].variabele&&(s.variabele=this.iah.aVraag[t].variabele.replace(/\[i\+\+]/g,a)),this.iah.aVraag[t].object&&(s.object=this.iah.aVraag[t].object.replace(/\[i\+\+]/g,a)),this.iah.aVraag[i].vragen[e]=n,this.iah.aVraag[n]=s}return i}addInputGroupContainer(e,t){0===$("#div"+e+" .input-group").length&&$("#div"+e+" .bld-form-inputgrp").wrapInner('<div class="input-group" />'),"append"==t?0===$("#div"+e+" .input-group-append").length&&$("#div"+e+" .bld-form-inputgrp  .input-group").append('<div class="input-group-append" />'):"prepend"==t&&0===$("#div"+e+" .input-group-prepend").length&&$("#div"+e+" .bld-form-inputgrp  .input-group").prepend('<div class="input-group-prepend" />')}checkHelpButton(e,t){let a=e.match(/([A-Z])\w+(\-)(\d+)/g);if(null!=a&&(a=a[0]),this.iah.aHelp[e]||this.iah.aHelp[a]){let a;var i;if(a=-1===e.indexOf("-")?"#div"+t:document.querySelector("#div"+t).classList.contains("bld-frm-subquestion")?"#div"+t+" label":"#div"+t+" .bld-form-lbl",$(a).html($(a).html()+'<a href="#'+t+'-help"  title="'+this.genTexts.toon_toelichting+'" class="bld-form-question-info-btn collapsed" data-toggle="collapse" data-target="#'+t+'-help" aria-label="'+this.genTexts.toon_toelichting+'" aria-expanded="false" aria-controls="'+t+'-help"><span class="bld-form-question-info-btn__content" tabindex="-1">Toon toelichting bij vraag</span></a>'),this.iah.aVraag[e]&&this.iah.aVraag[e].horizontaal?$("#div"+t).append('<div class="bld-notification col-12">\n                            <div class="bldc-notification bldc-notification-info collapse" id="'+t+'-help"></div>\n          </div>'):$(a).after('<div class="bld-notification col-12">\n                            <div class="bldc-notification bldc-notification-info collapse" id="'+t+'-help"></div>\n            </div>'),$("#bld-iah-toetsingsinkomen").length)if(document.getElementById("extraV3-13-2")||document.getElementById("extraV3-13-3"))if(-1!=document.getElementById("extraV3-13-2").innerHTML.indexOf("Bijvoorbeeld als folder- of krantenbezorger, freelancer of als gastouder."))(i=document.querySelectorAll("[data-parent='V3-13-2']")).length>0&&i[0].parentNode.removeChild(i[0]);else(i=document.querySelectorAll("[data-parent='V3-13-3']")).length>0&&i[0].parentNode.removeChild(i[0]);let s=this;$("#"+t+"-help").on("show.bs.collapse",(function(a){!function(e,t,a){$("#"+a+"-help").empty().append('<div class="card card-body">\n                          <div class="bldc-notification-content"></div>\n                          <button type="button" class="bldc-notification-close-btn" data-sel="togglecollapse"><span class="sr-only">Toelichting sluiten</span></button>\n                        </div>'),-1===e.indexOf("-")?($("#"+a+'-help button[data-sel="togglecollapse"]').click((function(){$(this).closest("fieldset").find("#div"+a).find('[data-toggle="collapse"]').trigger("click")})),$("#"+a+'-help button[data-sel="togglecollapse"]').keypress((function(e){"Enter"===e.key&&$(this).closest("fieldset").find("#div"+a).find('[data-toggle="collapse"]').trigger("click").focus()}))):($("#"+a+'-help button[data-sel="togglecollapse"]').click((function(e){const t=this.closest(".collapse.show").id;"Enter"===e.key?$(this).closest(".form-group").find(`[href="#${t}"]`).trigger("click").focus():$(this).closest(".form-group").find(`[href="#${t}"]`).trigger("click")})),$("#"+a+'-help button[data-sel="togglecollapse"]').mousedown((function(e){e.preventDefault()})));t.iah.aVar.activeVraagID=a;let i=new Array,s=e.match(/^([^-]*-[^-]*)/g);null!=s&&(e=s[0]);for(let a=0;a<t.iah.aHelp[e].length;a++)i[a]=t.replaceVarsInText(t.iah.aHelp[e][a],t.iah.aVar);t.toonHtmlTxt("#"+t.iah.aVar.activeVraagID+"-help .bldc-notification-content",i),oBld.addNewTabIconToLinks()}(e,s,t)}))}}maakBlok(e,t){let a=document.createElement("div"),i=document.createElement("h3");this.iah.fieldsetMode&&(a=document.createElement("fieldset"),i=document.createElement("legend"));let s="";this.iah.blokMode&&(s=e.substring(1,e.indexOf("-")));let n=this.iah.fieldsetId+s;if(a.id=n,a.className="clBlok",!0===this.iah.slideMode)for(var r=this.slideModeNavigation.iah_basenav;r<=Object.keys(this.iah.aBlok).length;r++)this.slideModeNavigation["blok_"+r+"_valid"]=!1;if(!document.getElementById(n)){if(this.iah.blokMode&&void 0===this.iah.aBlok["V"+s])return alert("fout: geen bloktitel gevonden. Huidige vraag"+e+". \n check tabel aBlok in vragen.js"),"";if(!0===this.iah.slideMode&&null!=this.iah.aVar.actBlok){document.getElementById(this.iah.fieldsetId+this.iah.aVar.actBlok).after(a),$("#btnNavVolgendePagina").prop("disabled",!1),this.slideModeNavigation["blok_"+this.slideModeNavigation.iah_basenav+"_valid"]=!0}else{document.getElementById(this.iah.formId).insertAdjacentElement("beforeend",a)}!0===this.iah.slideMode&&(s!=this.iah.aVar.actBlok&&null!=this.iah.aVar.actBlok?$("#"+this.iah.fieldsetId+s).hide():void 0===this.iah.aVar.actBlok&&($("#"+this.iah.formId).append('<div id="slideNav" class="d-flex justify-content-end mt-4"></div>'),$("#slideNav").append('<button id="btnNavVorigePagina" type="button" class="btn btn-outline-secondary float-left mr-3">Vorige</button>'),document.getElementById("btnNavVorigePagina").addEventListener("click",iah_NavVorigePagina),$("#slideNav").append('<button id="btnNavVolgendePagina" type="button" class="btn btn-primary float-right">Volgende</button>'),document.getElementById("btnNavVolgendePagina").addEventListener("click",iah_NavVolgendePagina),$("#btnNavVorigePagina").hide()));let t=document.getElementById(n),r=this.iah.aBlok["V"+s];void 0!==r&&""!==r&&(i.id="divV"+s,i.className="h3 bloktitel",i.insertAdjacentText("beforeend",r),t.appendChild(i)),this.checkHelpButton("V"+s)}if(this.iah.aVraag[e].vragenSetID){let t=this.iah.aVraag[e].vragenSetID,a=t+this.iah.suffix,i=this.iah.aVraag[t];if(i.copyButton){if(0==$("#div"+a).length){$("#"+n).append('<div class="bld-frm-question mb-4 row form-group" id="div'+a+'" data-sel="vragenSetRijen" />'),$("#div"+a).append('<input type="hidden" name="'+a+'" id="'+a+'" />'),void 0!==i.opSchermIntro&&$("#div"+a).append('<h3 class="bld-form-lbl col pt-0">'+i.opSchermIntro+"</h3>"),$("#div"+a).append('<div id="header'+a+'" class="form-row col d-none d-md-flex" />');let e=this.iah.aVraag[t],s=e.vragen,r=e.kolommen,o=this.iah.aVraag[t].opSchermBreedte,l="offset-"+o.substring(o.lastIndexOf("-")+1,o.length);for(let e=0;e<s.length;e++){let t=r[e];0===e&&(t+=" "+l),$("#header"+a).append('<p class="'+t+' mb-0 d-none d-md-block" aria-hidden="true">'+this.iah.aVraag[s[e]].opScherm+"</p>")}this.checkHelpButton(t,a)}0==$("#"+this.iah.aVraag[e].vragenSetRowDomID).length&&this.maakVragensetRij(t,a,this.iah.aVraag[e].vragenSetRowDomID)}else 0==$("#"+this.iah.aVraag[e].vragenSetDomID).length&&($("#"+n).append('<div class="card bld-frm-question mb-4" id="div'+this.iah.aVraag[e].vragenSetDomID+'" data-sel="vragenSet"><div class="card-body"><fieldset id="'+a+'" /></div></div>'),$("#"+a).append('<legend class="h3">'+i.opScherm+"</legend>"),$("#"+a).append(i.opSchermExtra)),n=a}if(this.iah.aVraag[e].vragenSubsetID){let t="div"+this.iah.aVraag[e].vragenSubsetID+this.iah.suffix;if(0==$("#"+this.iah.aVraag[e].vragenSubsetID).length){$("#"+n).append('<fieldset id="'+t+'" data-sel="vragenSubset" />'),$("#"+this.iah.aVraag[e].vragenSubsetRowID).append('<legend class="sr-only">'+this.iah.aVraag[e].opScherm+"</legend>"),0==$("#"+t).closest(".bld-frm-question").length&&$("#"+t).addClass("bld-frm-question")}n=t}return this.checkBtnNavVolgendePagina(),n}maakVragensetRij(e,t,a){$("#div"+t).append('<div class="form-row col-12 align-items-center mb-sm-2" id="'+a+'" data-sel="vragenSetRij" />'),$("#"+a).append('<h4 class="'+this.iah.aVraag[e].opSchermBreedte+'" data-sel="vragenSetRijOpScherm" /></h4>')}introSubBlokStyling(){if(this.iah.blokMode){var e=document.getElementsByClassName("introSubBlok");for(i=0;i<e.length;i++)e[i].classList.add("introSubBlok-blokMode")}}getToelichting(e){return this.iah.aHelp[e]}toonLetop(e,t){let a=e+this.iah.suffix,i=$("#letop_"+a).is("#letop_"+a)?"visible":"notVisible";if(0!=t.length){"notVisible"==i&&($("#div"+a).is("fieldset")?$("#div"+a).append('<div class="mt-2" id="letop_'+a+'"><div class="col-12 bld-letop-container"></div</div>'):$("#div"+a).append('<div class="col-12 bld-letop-container" id="letop_'+a+'"></div>'),$('<div style="display: none;" class="bldc-notification bldc-notification-attention" id="{{domID}}-error">\n          <div class="card card-body">\n          <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M19.566 2.174a2.096 2.096 0 00-1.74-1.739C15.218 0 10.869 0 10 0c-.869 0-5.217 0-7.826.435A2.095 2.095 0 00.435 2.174C0 4.783 0 9.131 0 10.001c0 .869 0 5.217.435 7.826.15.902.836 1.588 1.739 1.739 2.609.435 6.957.435 7.826.435.869 0 5.218 0 7.826-.435a2.096 2.096 0 001.74-1.739C20 15.218 20 10.87 20 10.001c0-2.611 0-5.218-.434-7.827z" fill="#FFB612"></path><path d="M9.989 13.196c1.121 0 1.761.663 1.761 1.875 0 1.03-.595 1.83-1.738 1.83-1.121 0-1.762-.64-1.762-1.83 0-1.052.595-1.875 1.739-1.875zm1.425-9.39L11.16 9.55v2.451H8.847V4.06l2.567-.254z" fill="#FFF"></path></g></svg>\n            <div id="message_letop_'+a+'" class="bldc-notification-content"></div>\n          </div>\n        </div>').appendTo($("#div"+a+" .bld-letop-container")).slideDown(),$("#"+a).addClass("is-invalid").closest(".input-group").find(".input-group-text").addClass("is-invalid"),$("#"+a).attr("aria-invalid","true").attr("aria-describedBy","message_letop_"+a));for(var s=new Array,n=0;n<t.length;n++)s[n]=this.replaceVarsInText(t[n],this.iah.aVar);$("#message_letop_"+a).empty(),this.toonHtmlTxt("#message_letop_"+a,s)}else"visible"==i&&($("#letop_"+a).slideUp("",(function(){$(this).remove()})),$("#"+a).removeClass("is-invalid").closest(".input-group").find(".input-group-text").removeClass("is-invalid"))}toonFout(e,t,a){var i=e.substring(0,e.indexOf("_")>-1?e.indexOf("_"):e.length);let s=i+this.iah.suffix;if("vragenSetRij"==$("#"+this.iah.aVraag[i].vragenSetRowDomID).data("sel")){let t=this.iah.aVraag[i].vragenSetRowDomID;a?(0===$("#error_"+t).length&&$("#"+t).after('<div style="display: none;" id="error_'+t+'" class="col-12 bld-error-container"></div>'),0===$("#message_error_"+s).length&&$('<div class="bldc-notification bldc-notification-warning" id="message_error_'+s+'">\n              <div class="card card-body">\n                <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M11.434 1.833c-.631-1.11-2.238-1.11-2.868 0L.216 16.548C-.406 17.643.388 19 1.65 19h16.7c1.262 0 2.056-1.357 1.434-2.452l-8.35-14.715z" fill="#D52B1E"></path><path d="M9.99 13.632c1.006 0 1.582.59 1.582 1.669 0 .915-.535 1.628-1.562 1.628-1.007 0-1.583-.57-1.583-1.628 0-.936.535-1.67 1.563-1.67zm1.28-7.463l-.228 4.22v2.189H8.963V6.395l2.308-.226z" fill="#FFF"></path></g></svg>\n                <div class="bldc-notification-content"></div>\n              </div>\n            </div>').appendTo($("#error_"+t)),"none"===document.getElementById("error_"+t).style.display&&$("#error_"+t).slideDown(),$("#"+e).addClass("is-invalid").closest(".input-group").find(".input-group-text").addClass("is-invalid"),$("#"+e).attr("aria-invalid","true").attr("aria-describedBy","message_error_"+s)):($("#"+e).hasClass("is-invalid")&&($("#message_error_"+s).slideUp("",(function(){$(this).remove()})),$("#message_error_"+s).attr("id",""),$("#"+e).removeClass("is-invalid").closest(".input-group").find(".input-group-text").removeClass("is-invalid")),0===$("#error_"+t+" .bldc-notification").length&&$("#error_"+t).remove())}else{let t=$("#error_"+s).is("#error_"+s)?"visible":"notVisible";if(0==a)return void("visible"==t&&($("#error_"+s).slideUp("",(function(){$(this).remove()})),$("#"+e).removeClass("is-invalid").closest(".input-group").find(".input-group-text").removeClass("is-invalid")));{let a;if(a=this.iah.aVraag[i].horizontaal?"offset-sm-6 col-sm-6":"col-12","notVisible"==t){$("#div"+s).is("fieldset")?$("#div"+s).append('<div id="error_'+s+'" class="col-12 bld-error-container"></div>'):$("#div"+s).append('<div class="'+a+' bld-error-container" id="error_'+s+'"></div>'),$('<div style="display: none;" class="bldc-notification bldc-notification-warning" id="message_error_'+s+'">\n            <div class="card card-body">\n              <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M11.434 1.833c-.631-1.11-2.238-1.11-2.868 0L.216 16.548C-.406 17.643.388 19 1.65 19h16.7c1.262 0 2.056-1.357 1.434-2.452l-8.35-14.715z" fill="#D52B1E"></path><path d="M9.99 13.632c1.006 0 1.582.59 1.582 1.669 0 .915-.535 1.628-1.562 1.628-1.007 0-1.583-.57-1.583-1.628 0-.936.535-1.67 1.563-1.67zm1.28-7.463l-.228 4.22v2.189H8.963V6.395l2.308-.226z" fill="#FFF"></path></g></svg>\n              <div class="bldc-notification-content"></div>\n            </div>\n          </div>').appendTo($("#div"+s+" .bld-error-container")).slideDown(),$("#"+e).addClass("is-invalid").closest(".input-group").find(".input-group-text").addClass("is-invalid"),$("#"+e).attr("aria-invalid","true").attr("aria-describedBy","message_error_"+s)}}}$("#message_error_"+s+" .bldc-notification-content").empty(),t&&this.toonHtmlTxt("#message_error_"+s+" .bldc-notification-content",t),$("#message_error_"+s+" .bldc-notification-content").wrapInner('<p role="alert"><p/>')}toonHtmlTxt(e,t,a){let i=!1,s=!1,n=!1,r="",o="",l=0;Array.isArray(t)||(t=[].concat(t));let d="",h="";for(let c=0;c<t.length;c++){d=Array.isArray(t[c])?t[c]:[].concat(t[c]);for(var u=0;u<d.length;u++)h=d[u],a?$(e).append(h):h.indexOf("<ul")>-1?!1===n?(l++,r="ul_"+l,$(e).append('<ul id="'+r+'"'+h.substring(h.indexOf("<ul")+3)),i=!0):(o="ul_"+l+"_sub",$(e+" li").last().append('<ul id="'+o+'"'+h.substring(h.indexOf("<ul")+3))):h.indexOf("</ul>")>-1?!1===n?i=!1:!0===n&&(n=!1):i&&h.indexOf("<li")>-1&&h.indexOf("</li>")>-1&&!1===n?$(e+" #"+r).append(h):h.indexOf("<ol")>-1?!1===n?(l++,r="ol_"+l,$(e).append('<ol class="list-unstyled" id="'+r+'"'+h.substring(h.indexOf("<ol")+3)),s=!0):(o="ol_"+l+"_sub",$(e+" li").last().append('<ol class="list-unstyled" id="'+o+'"'+h.substring(h.indexOf("<ol")+3))):h.indexOf("</ol>")>-1?!1===n?s=!1:!0===n&&(n=!1):s&&h.indexOf("<li")>-1&&h.indexOf("</li>")>-1&&!1===n?$(e+" #"+r).append(h):h.indexOf("<li")>-1&&-1===h.indexOf("</li>")&&!1===n?($(e+" #"+r).append(h+"</li"),n=!0):h.indexOf("<li")>-1&&h.indexOf("</li>")>-1&&!0===n?$("#"+o).append(h):$(e).append(h)}return h}toonHelp(e){let t=e.id.substr(8),a=t+this.iah.suffix;if($("#message_"+a).is("#message_"+a))$(e).attr("aria-expanded",!1),$("#message_"+a).removeClass("collapse in"),$("#message_"+a).remove();else{1===t.split("-").length?$('<div id="message_'+a+'" class="help-block bld-info"  />').insertAfter("#"+this.iah.fieldsetId+t.substr(1)+" legend.bloktitel"):$("#div"+a).append('<div id="message_'+a+'" class="help-block bld-info"  />'),$("#message_"+a).hide(),$("#message_"+a).append('<div id="message_info_'+a+'" class="col-xs-12 bg-info" />'),document.querySelectorAll("#btnclose"+a).forEach((e=>{e.addEventListener("click",(e=>{this.toonHelp(e.target)}))})),$("#message_info_"+a).append('<div class="clHelpText">'),$(e).attr("aria-expanded",!0),$("#message_"+a).addClass("collapse in");for(var i=new Array,s=0;s<this.iah.aHelp[t].length;s++)i[s]=this.replaceVarsInText(this.iah.aHelp[t][s],this.iah.aVar);this.toonHtmlTxt("#message_info_"+a+" .clHelpText",i),$("#message_"+a).toggle(!0)}}checkVraag(e,t={},a={}){null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("checkVraag(object met id:"+e.id+")"),this.Metrix&&this.Metrix.trackEvent("start");var i=e.id,s=i.substring(0,i.indexOf("_")>-1?i.indexOf("_"):i.length);$(e).hasClass("clDate")&&(e.value=reformatDate(e.value)),"checkbox"===e.type&&this.handleCheckboxOptionAll(e,s,s+this.iah.suffix),"function"==typeof this.iah.checkVraagModuleSpecifiek&&this.iah.checkVraagModuleSpecifiek(e,s,t),this.iah.blokMode&&(this.iah.aVar.actBlok=s.substring(1,s.indexOf("-")),0==$("fieldset#"+this.iah.fieldsetId+this.iah.aVar.actBlok).is(":last-child")&&$("#"+this.iah.fieldsetId+this.iah.aVar.actBlok+" ~ .clBlok").remove());let n=e.closest(".bld-frm-question");0==$(e).closest(".bld-frm-question").is(":last-child")?1==this.iah.bBeslis&&(!0===this.iah.backupMode&&this.backupUserInput(document.querySelectorAll("#"+this.iah.formId+' [data-sel="user-input"]')),$(e).closest(".bld-frm-question").nextAll([".bld-frm-question","div.bld-result help-block"]).remove()):!0===this.iah.backupMode&&this.backupUserInput(document.querySelectorAll("#"+this.iah.formId+" #"+n.id+' [data-sel="user-input"]'));let r=document.getElementById("divResultaat");r&&r.remove(),"blur"!==t.type&&this.doButtonResults(!1);let o=this.iah.aVraag[s].vragenSetID,l=n.id;if(l=l.replace("div",""),"text"===this.iah.aVraag[s].type&&this.iah.aVraag[s].decimalen){if("keyup"===t.type&&"Enter"!==t.key){let a=this.saveInput(s,e,t,{decimalen:!1});a.inputValid&&(this.iah.formValid=!1,this.iah.bldFlow([o||s,a.uitkomst]))}if("blur"===t.type||"Enter"===t.key){if(!this.saveInput(s,e,t,{decimalen:!0}).inputValid)return void(this.iah.formValid=!1);if(o){if(!this.saveVragenRijen(l,{emptyWarning:!0,decimalen:!0}).inputValid)return}}}this.doRebuildVars(s,t)}backupUserInput(e){this.iah.aBackupUserInput=this.iah.aBackupUserInput||[],e.forEach((e=>{let t=this.getIdWithoutSuffix(e.id),a=e.value;if(void 0!==a){switch(e.tagName.toUpperCase()){case"INPUT":"text"===e.type||"hidden"===e.type?this.iah.aBackupUserInput[t]=a:"radio"!==e.type&&"checkbox"!==e.type||(this.iah.aBackupUserInput[t]=e.checked);break;case"SELECT":"select-one"===e.type&&(this.iah.aBackupUserInput[t]=a)}}}))}restoreUserInput(e,t){let a,i=!1;if(document.querySelectorAll("#"+e+' [data-sel="user-input"]').forEach((e=>{let t=this.getIdWithoutSuffix(e.id),s=this.iah.aBackupUserInput?this.iah.aBackupUserInput[t]:"";if(void 0!==s&&""!==s){switch(e.tagName.toUpperCase()){case"INPUT":"text"===e.type?e.value=s:"radio"!==e.type&&"checkbox"!==e.type||(e.checked=s);break;case"SELECT":"select-one"===e.type&&(e.value=s)}a=e,i=!0}else i=!1})),i){let e=a;e.classList.contains("birthInput")&&(this.updateBirthdateValue(t,t+this.iah.suffix),e=document.getElementById(t+this.iah.suffix)),this.checkVraag(e)}return i}saveVragenset(e){null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("saveVragenRijen("+e+")");let t,a=!0,i=0,s=this.getIdWithoutSuffix(e),n=!!this.iah.aVraag[s].hasOwnProperty("requiredOne")&&this.iah.aVraag[s].requiredOne;return document.querySelectorAll("#"+e+' [data-sel="user-input"]').forEach((e=>{let s=this.getIdWithoutSuffix(e.id);t=this.iah.aVraag[s].vragenSubsetID?this.saveVragenSubset(this.iah.aVraag[s].vragenSubsetDomID):this.saveInput(s,e),n?t.inputValid?i++:t.errorTxt&&(a=!1):0==t.inputValid&&(a=!1)})),n&&i<1&&(a=!1),{inputValid:a,uitkomst:""}}saveVragenSubset(e){let t=!0,a=this.getIdWithoutSuffix(e);return document.querySelectorAll("#div"+e+' [data-sel="user-input"]').forEach((e=>{let a=this.getIdWithoutSuffix(e.id);0==this.saveInput(a,e).inputValid&&(t=!1)})),this.initVragenSubset(a,t),{inputValid:t,uitkomst:""}}saveVragenRijen(e,t={}){null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("saveVragenRijen("+e+")");let a=!0;return document.querySelectorAll("#div"+e+' [data-sel="user-input"]').forEach((e=>{let i=this.getIdWithoutSuffix(e.id);this.saveInput(i,e,{},t).inputValid||(a=!1)})),{inputValid:a,uitkomst:""}}saveInput(e,t,a={},i={}){let s=(e=this.getIdWithoutSuffix(e))+this.iah.suffix;var n=[];null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("saveInput("+e+"):[Start] ");var r,o=!0;if(($(t).parent("div").hasClass("date")||"geboorteDatum"===this.iah.aVraag[e].type)&&"custom"!=this.iah.aVraag[e].type&&"datePeriod"!=this.iah.aVraag[e].type&&(o=""!=t.value&&o)){let a=this.iah.aVraag[e].yearRange,i=this.validDate(t.value,e,a);o=i[0],r=this.iah.aVraag[e].errorTxt?this.replaceVarsInText(this.iah.aVraag[e].errorTxt,this.iah.aVar):i[1];let s=i[2];o?(t.value=s,this.toonFout(t.id,r,!1)):this.toonFout(t.id,r,!0)}var l=this.iah.aVraag[e].type.split("[");if(2==l.length&&(l[1]=l[1].replace("]","")),"dropdown"==l[0])if(null==l[1]){let a=document.getElementById(s).value;if(!(o=""!=a&&"-1"!=a&&o)&&i.emptyWarning){let a=this.iah.aVraag[e].errorOnderwerp?this.iah.aVraag[e].errorOnderwerp:"dit veld";r=`U hebt ${a} niet ingevuld. Maak een keuze.`,this.toonFout(t.id,r,!0)}else this.toonFout(t.id,"NOerror",!1)}else for(var d=1;d<=parseInt(l[1])&&1==o;d++){let e=document.getElementById(s+"_"+d).value;o=""!=e&&"-1"!=e&&o}else if("text"==l[0]){if(""===document.getElementById(s).value)if(!(o=!1)&&i.emptyWarning){let a=this.iah.aVraag[e].errorOnderwerp?this.iah.aVraag[e].errorOnderwerp:"dit veld";r=`U hebt ${a} niet ingevuld. Vul ${a} in.`,this.toonFout(t.id,r,!0)}else this.toonFout(t.id,"NOerror",!1);if(o)if(this.iah.aVraag[e].validatie)this.iah.aVraag[e].validatie.split(",").forEach((s=>{if("numeriek"==s){var n=this.checkNumeriek(t,this.iah.aVraag[e],a,i);o=n[0],r=n[1]}})),this.toonFout(s,r,!o&&"NOerror"!==r);else this.filterHtmlTags(t)}else if("datePeriod"==l[0]){let t=document.getElementById(s+"_Begin"),a=document.getElementById(s+"_Eind"),i=this.iah.aVraag[e].yearRange;if(o=""!=t.value&&o){let a=this.validDate(t.value,e,i);if(o=a[0])this.toonFout(t.id,"",!1);else{r=a[1];let e=a[2];$("#"+t.id).value=e,this.toonFout(t.id,r,!0)}}if((o||!1===o&&""===t.value&&""!==a.value)&&(o=""!=a.value)){let t=this.validDate(a.value,e,i);if(o=t[0])this.toonFout(a.id,"",!1);else{r=t[1];let e=t[2];$("#"+a.id).value=e,this.toonFout(a.id,r,!0)}}if(o){let e=this.validDatePeriod(t.value,a.value);o=e[0],r=e[1],!o&&r.length>0?this.toonFout(t.id,r,!0):this.toonFout(t.id,"",!1)}}else if("dateYearMonth"==l[0])o=""!=document.getElementById(s+"_maand").value&&""!=document.getElementById(s+"_jaar").value&&o;else if("checkbox"==l[0]||"RadioGroep"==l[0])for(o=!1,d=0;d<this.iah.aVraag[e].checkboxKeuze.length;d++)o=!!document.getElementById(s+"_"+d).checked||o;else if("JaNee"==l[0]){o=!1;o=!(!document.getElementById(s+"_True").checked&&!document.getElementById(s+"_False").checked)||o}this.toonLetop(e,n),null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("saveInput("+e+"):[Result]:"+o);let h=this.doSaveVar(e,s);if(o&&"function"==typeof this.iah.valideerModuleSpecifiek){var u=this.iah.valideerModuleSpecifiek(e,o,n,a);o=u[0],n=u[1]}return this.iah.aVraag[e].valid=o,{inputValid:o,errorTxt:r,uitkomst:h}}algValidatie(e){var t=!0;$.each(this.iah.aVraag,(function(e){if(0==this.iah.aVraag[e].valid)return t=!1,!1})),!0===t&&this.doEindResultaat(e)}initObject(){for(const[t,a]of Object.entries(this.iah.aVraag))if(this.iah.aVraag[t].object){var e=this.iah.aVraag[t].object.split(".");delete this.iah.aObj[e[2]][e[3]]}}initaVar(){var e=[];for(const[t,a]of Object.entries(this.iah.aVraag))this.iah.aVraag[t].variabele&&(e[this.iah.aVraag[t].variabele]=null);return e}doRebuildVars(e,t=[]){if(null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("doRebuildVars(met actieve vraag:"+e+")"),1==this.iah.bBeslis?(this.iah.aVar=this.initaVar(),this.initObject(),"function"==typeof this.iah.initVarsModuleSpecifiek&&this.iah.initVarsModuleSpecifiek()):0==this.assArrLength(aVar)&&(this.iah.aVar=this.initaVar(),"function"==typeof this.iah.initVarsModuleSpecifiek&&this.iah.initVarsModuleSpecifiek()),null==e)return;document.querySelectorAll("#"+this.iah.formId+" .bld-frm-question").forEach((a=>{let i=a.id;i=i.replace("div","");let s=this.getIdWithoutSuffix(i);this.iah.aVar.actBlok=i.substring(1,i.indexOf("-"));let n,r=this.iah.aVraag[e]&&this.iah.aVraag[e].vragenSetID?this.iah.aVraag[e].vragenSetID:"";if(1==this.iah.bBeslis&&null!=e&&(0===e.indexOf(i+"-")||e===i||r==i))return!1;if(a.hasAttribute("data-sel")){let e=a.getAttribute("data-sel");"vragenSet"==e?n=this.saveVragenset(i):"vragenSetRijen"==e?n=this.saveVragenRijen(i):"vragenSubset"==e&&(n=this.saveVragenSubset(i))}if(null==n){let e=document.getElementById(i);n=this.saveInput(i,e)}n.inputValid&&(this.iah.lastInputEvent=t,this.iah.bldFlow([s,n.uitkomst]))}))}doSaveVar(vraagID,domID){let bVar,sVarName;null!=this.iah.aVraag[vraagID]&&(sVarName=this.iah.aVraag[vraagID].variabele,bVar=""!=sVarName);let uitkomst="",aVraagType=this.iah.aVraag[vraagID].type.split("[");if(2==aVraagType.length&&(aVraagType[1]=aVraagType[1].replace("]","")),"geboorteDatum"==aVraagType[0])uitkomst=this.strToDate(document.getElementById(domID).value),this.iah.aVraag[vraagID].debugResult="'"+document.getElementById(domID).value+"'",bVar&&(this.iah.aVar[sVarName]=uitkomst);else if("date"==aVraagType[0])uitkomst=this.strToDate(document.getElementById(domID).value),this.iah.aVraag[vraagID].debugResult="'"+document.getElementById(domID).value+"'",bVar&&(this.iah.aVar[sVarName]=uitkomst);else if("datePeriod"==aVraagType[0])bVar&&(this.iah.aVar["begin_"+sVarName]=this.strToDate(document.getElementById(domID+"_Begin").value)),bVar&&(this.iah.aVar["eind_"+sVarName]=this.strToDate(document.getElementById(domID+"_Eind").value)),this.iah.aVraag[vraagID].debugResult="['"+document.getElementById(domID+"_Begin").value+"', '"+document.getElementById(domID+"_Eind").value+"']";else if("dateYearMonth"==aVraagType[0])bVar&&(this.iah.aVar["maand_"+sVarName]=parseInt(document.getElementById(domID+"_maand").value)),bVar&&(this.iah.aVar["jaar_"+sVarName]=parseInt(document.getElementById(domID+"_jaar").value)),this.iah.aVraag[vraagID].debugResult="['"+parseInt(document.getElementById(domID+"_maand").value)+"', '"+parseInt(document.getElementById(domID+"_jaar").value)+"']";else if("JaNee"==aVraagType[0])document.getElementById(domID+"_True").checked&&(this.iah.aVraag[vraagID].debugResult=!0,uitkomst=document.getElementById(domID+"_True").value,bVar&&(this.iah.aVar[sVarName]=uitkomst)),document.getElementById(domID+"_False").checked&&(this.iah.aVraag[vraagID].debugResult=!1,uitkomst=document.getElementById(domID+"_False").value,bVar&&(this.iah.aVar[sVarName]=uitkomst));else if("RadioGroep"==aVraagType[0])for(var i=0;i<this.iah.aVraag[vraagID].checkboxValues.length;i++){let e=domID+"_"+i;if(document.getElementById(e).checked){this.iah.aVraag[vraagID].debugResult=i,uitkomst=this.iah.aVraag[vraagID].checkboxValues[i],this.iah.aVar[sVarName]=uitkomst;break}}else if("dropdown"==aVraagType[0])if(null==aVraagType[1])this.iah.aVraag[vraagID].debugResult="['val', '"+document.getElementById(domID).value+"']",uitkomst=document.getElementById(domID).value,bVar&&(this.iah.aVar[sVarName]=uitkomst);else{let arrayResult=[];for(let i=1;i<=parseInt(aVraagType[1]);i++)uitkomst=document.getElementById(domID+"_"+i).value,sVarName=eval("this.iah.aVraag[vraagID].variabele_"+i),arrayResult.push(uitkomst),bVar&&(this.iah.aVar[sVarName]=uitkomst);this.iah.aVraag[vraagID].debugResult="["+arrayResult.join()+"]"}else if("checkbox"==aVraagType[0]){let e=[];for(i in this.iah.aVraag[vraagID].checkboxVars){sVarName=this.iah.aVraag[vraagID].checkboxVars[i];let t=domID+"_"+i;document.getElementById(t).checked?(e.push("'"+sVarName+"'"),this.iah.aVar[sVarName]=!0):this.iah.aVar[sVarName]=!1}this.iah.aVraag[vraagID].debugResult="["+e+"]"}else"text"==aVraagType[0]&&(this.iah.aVraag[vraagID].debugResult="'"+document.getElementById(domID).value+"'",uitkomst=document.getElementById(domID).value,bVar&&(this.iah.aVar[sVarName]=uitkomst));if(this.iah.aVraag[vraagID].object){let e=this.iah.aVraag[vraagID].object;e=e.split("."),4===e.length?this.iah.aObj[e[2]][e[3]]=uitkomst:5===e.length&&(this.iah.aObj[e[2]].hasOwnProperty(e[3])||(this.iah.aObj[e[2]][e[3]]={}),this.iah.aObj[e[2]][e[3]][e[4]]=uitkomst)}if(bVar&&this.iah.aVraag[vraagID].validatie){let e=this.iah.aVraag[vraagID].validatie.split(",");for(var i=0;i<e.length;i++)"numeriek"==e[i]&&null!==this.iah.aVar[sVarName]&&(this.iah.aVar[sVarName]=this.iah.aVar[sVarName].replace(/[.]/g,""),uitkomst=this.iah.aVraag[vraagID].decimalen?parseFloat(this.iah.aVar[sVarName].replace(",",".")):parseInt(this.iah.aVar[sVarName]));this.iah.aVar[sVarName]=uitkomst}if(bVar&&this.iah.aVraag[vraagID].classInput){let e=this.iah.aVraag[vraagID].classInput.split(",");$.each(e,(function(t){"percentage"==e[t]&&(uitkomst=parseFloat(this.iah.aVar[sVarName])/100)})),this.iah.aVar[sVarName]=uitkomst}return"function"==typeof this.iah.saveVarModuleSpecifiek&&this.iah.saveVarModuleSpecifiek(vraagID,sVarName),document.querySelector(`#SAV_True${this.iah.suffix}`)&&!0===document.querySelector(`#SAV_True${this.iah.suffix}`).checked&&document.querySelector(`#SAV_True${this.iah.suffix}`).click(),null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("doSaveVar("+vraagID+"): "+uitkomst),uitkomst}getResultaat(e){return this.iah.aResult[e]}doTussenResult(e){if(null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("doTussenResult("+e+")"),$("#div"+e).is("#div"+e))return;let t="";this.iah.blokMode&&(t=e.substr(1,1));let a=new Array;for(let t=0;t<this.iah.aResult[e].length;t++)a[t]=this.replaceVarsInText(this.iah.aResult[e][t],this);$("#"+this.iah.fieldsetId+t).append('<div id="div'+e+'" class="bld-result bld-result--inbetween help-block">'),this.toonHtmlTxt("#div"+e,a),null!=this.bDebugIah&&this.debugSID&&this.debugShowID($("#div"+e),"div"+e)}doEindResultaat(e){if(this.iah.formValid||(this.iah.formValid=!0,document.querySelectorAll(".decimalsInput").forEach((e=>{let t=e.closest(".bld-frm-subquestion");if(t||(t=e.closest(".bld-frm-question")),t){let a=t.id;a||(a=e.closest(".bld-frm-question").id),a=a.replace("div","");let i=this.getIdWithoutSuffix(a);this.saveInput(i,e,{},{decimalen:!0}).inputValid||(this.iah.formValid=!1)}}))),this.iah.formValid)return"undefined"!=typeof bToonResultButton&&!1===bToonResultButton?(this.doEindResultaatDirect(e),void this.Metrix.trackEvent("afgerond")):(this.doEindResultaatButton(e),void("function"==typeof this.iah.doEindResultaatModuleSpecifiek&&this.iah.doEindResultaatModuleSpecifiek(e)))}doEindResultaatButton(e){this.doButtonResults(!0),this.iah.lastInputEvent.metrixAfgerond=!1,$("#"+this.iah.divButtonsResult).length>0&&document.getElementById(this.iah.butResults).addEventListener("click",(t=>{"function"==typeof this.iah.doEersteActieNaClickOpToonResultaatButtonModuleSpecifiek&&!1===this.iah.doEersteActieNaClickOpToonResultaatButtonModuleSpecifiek()||(this.doButtonResults(!1),$("#"+this.iah.fieldsetId).prop("disabled",!0),$("#"+this.iah.fieldsetId).css("pointer-events","none"),$("#"+this.iah.formId).addClass("bldInputDisabled"),$("#"+this.iah.fieldsetId+" a").attr("tabindex","-1"),$("#"+this.iah.fieldsetId+' [data-sel="user-input"]').attr("tabindex","-1"),"function"==typeof this.iah.doBereken&&this.iah.doBereken(e),this.doResult(e),this.doWijzigInvoer(e),this.iah.lastInputEvent.metrixAfgerond||(this.Metrix.trackEvent("afgerond"),this.iah.lastInputEvent.metrixAfgerond=!0),document.querySelector(`#SAV_True${this.iah.suffix}`)&&document.querySelector(`#SAV_True${this.iah.suffix}`).checked&&document.querySelector(`#SAV_True${this.iah.suffix}`).click())})),this.iah.lastInputEvent.srcElement&&"input"===this.iah.lastInputEvent.srcElement.localName&&"keyup"===this.iah.lastInputEvent.type||this.iah.lastInputEvent.metrixTracked||(this.Metrix.trackEvent("resultbtn"),this.iah.lastInputEvent.metrixTracked=!0)}doEindResultaatDirect(e){$("img.ui-datepicker-trigger").hide(),this.iah.slideMode||("function"==typeof this.iah.doBereken&&this.iah.doBereken(e),this.doResult(e)),this.iah.slideMode&&(this.doResult(e),$("#"+this.iah.divResultaat).hide(),$("#btnNavVolgendePagina").prop("disabled",!1))}doResult(e,t){null==t&&(t=!0),null!=this.bDebugIah&&this.debugJS&&this.doDebugJS("doResult("+e+")"),"function"==typeof this.iah.resultIDNaBerekeningModuleSpecifiek&&(e=this.iah.resultIDNaBerekeningModuleSpecifiek(e));const a=`${e}${this.iah.suffix}`;if($("#div"+a).is("#div"+a))return;if(0===$("#"+this.iah.divResultaat).length)var i=`<div id="${this.iah.divResultaat}">\n        <h2>${this.genTexts.resultaat}</h2>\n        <div class="bld-result bld-result--final ${this.iah.extraClassResult}" id="divResultTxt${this.iah.suffix}">        </div></div>`;!0===this.iah.slideMode?$("#slideNav").before(i):$("#"+this.iah.formId).append(i);var s=new Array;if(void 0!==this.iah.aResult[e])for(var n=0;n<this.iah.aResult[e].length;n++)s[n]=this.replaceVarsInText(this.iah.aResult[e][n],this.iah.aVar);let r=`#divResulTxt${this.iah.suffix} .divResult:last-child`;t&&($(`#divResultTxt${this.iah.suffix}`).append(`<div class="divResult" id="div${a}">`),r=`#div${a}`),this.iah.skipHtmlTransInResult?this.toonHtmlTxt(r,s,!0):this.toonHtmlTxt(r,s),"function"==typeof this.iah.vulaanResultaatModuleSpecifiek&&this.iah.vulaanResultaatModuleSpecifiek(e),oBld.addNewTabIconToLinks(),null!=this.bDebugIah&&this.debugSID&&this.debugShowID($("#div"+a),"div"+a)}doWijzigInvoer(e){this.doButtonWijzig(!0,e),this.iah.lastInputEvent.metrixWijzig=!1,$("#"+this.iah.divButtonsWijzig).length>0&&document.getElementById(this.iah.butWijzig).addEventListener("click",(t=>{if(this.iah.lastInputEvent.metrixWijzig||(this.Metrix.trackEvent("wijzig"),this.iah.lastInputEvent.metrixWijzig=!0),this.doButtonWijzig(!1,e),$("#"+this.iah.fieldsetId).prop("disabled",!1),$("#"+this.iah.fieldsetId).css("pointer-events","auto"),$("#"+this.iah.formId).removeClass("bldInputDisabled"),$("#"+this.iah.fieldsetId+" a").attr("tabindex","0"),$("#"+this.iah.fieldsetId+' [data-sel="user-input"]').attr("tabindex","0"),$("#"+this.iah.divResultaat).remove(),$("#"+this.iah.formId,"#bld-modal").length>0)$("#bld-modal").animate({scrollTop:0},"slow");else{let e=document.querySelector(`#${this.iah.formId} [data-sel="user-input"]`);e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus({preventScroll:!0})}this.doEindResultaat(e)}))}doButtonResults(e){e?0==$("#"+this.iah.divButtonsResult).length&&0==$("#"+this.iah.divButtonsWijzig).length&&$("#"+this.iah.formId).append('<div class="row divButtonbar" id="'+this.iah.divButtonsResult+'"><div class="col-12"><button id="'+this.iah.butResults+'" class="btn btn-primary float-right" data-count=".click-open.toon-resultaat.collapse">'+this.genTexts.toon_resultaten+"</button></div></div>"):$("#"+this.iah.divButtonsResult).length>0&&($("#"+this.iah.divButtonsResult).remove(),$("#"+this.iah.butResults).remove())}doButtonWijzig(e,t){if(e){if(0==$("#"+this.iah.divButtonsWijzig).length&&0==$("#"+this.iah.divButtonsResult).length){if($("#"+this.iah.formId).append('<div class="row divButtonbar" id="'+this.iah.divButtonsWijzig+'"><div class="col-12"><button id="'+this.iah.butWijzig+'" class="btn btn-primary float-right" data-count=".bldto.wijzig-invoer.button">'+this.genTexts.wijzig_invoer+"</button></div></div>"),1==this.iah.bButtonPrint){let e=document.createElement("button");e.classList.add("btn","btn-outline-secondary","float-right"),e.setAttribute("id",this.iah.butPrint),e.textContent=this.genTexts.afdrukken,e.addEventListener("click",(e=>{window.print()})),document.querySelector(`#${this.iah.divButtonsWijzig} div`).appendChild(e)}"function"==typeof this.iah.vulaanEindTonenResultaat&&this.iah.vulaanEindTonenResultaat(t)}}else $("#"+this.iah.divButtonsWijzig).length>0&&($("#"+this.iah.divButtonsWijzig).remove(),$("#"+this.iah.butWijzig).remove(),$("#divButtonsInfo"+this.iah.suffix).remove())}setGenTexts(e=" nl"){let t=new Object;return"nl"===e?t={ja:"ja",nee:"nee",toon_toelichting:"Toon toelichting",verberg_toelichting:"Verberg deze toelichting",toon_resultaten:"Toon resultaten",wijzig_invoer:"Wijzig invoer",resultaat:"Resultaat",afdrukken:"Afdrukken"}:"en"===e?t={ja:"yes",nee:"no",toon_toelichting:"Show explanation",verberg_toelichting:"Hide this explanation",toon_resultaten:"Show results",wijzig_invoer:"Change input",resultaat:"Result",afdrukken:"Print"}:"de"===e&&(t={ja:"ja",nee:"nein",toon_toelichting:"Erläuterung anzeigen",verberg_toelichting:"Diese Erläuterung ausblenden",toon_resultaten:"Ergebnisse anzeigen",wijzig_invoer:"Eingabe ändern",resultaat:"Ergebnisse",afdrukken:"Zu drucken"}),t}changeTable(){const e=document.querySelectorAll("table");e&&void 0!==e&&e.length>0&&e.forEach(((e,t)=>{const a=e.previousElementSibling;e.classList.add("table");const i=document.createElement("div");i.id=`scroll${t}`,i.style.overflowX="auto";const s=document.createElement("div");s.style.height="1px",i.append(s);const n=document.createElement("div");n.classList.add("table-responsive"),n.id=`table--scroll${t}`,a.insertAdjacentElement("afterend",n),n.insertAdjacentElement("beforebegin",i),n.append(e),s.style.width=`${e.offsetWidth}px`,i.addEventListener("scroll",(function(){e.scrollLeft+=this.scrollLeft})),e.addEventListener("scroll",(function(){i.scrollLeft+=this.scrollLeft}))}))}addBerekening(e,t){0===$("#ovzBerekening").length&&$("#div"+e).prepend("<div id='ovzBerekening'></div>");var a=e+"-"+($("#ovzBerekening div.sub-panel").length+1),i="table1_"+a;$("#ovzBerekening").append('<div id="sub-panel_'+a+'" class="sub-panel calculation-panel"><div class="sub-panel-header"><table id="table1_'+a+'" class="data-table" summary="samenvatting van tabulaire data">'),r(i),n(i,t.header,1,1),$("#sub-panel_"+a).append('<div class="sub-panel-content">');var s=$("#sub-panel_"+a+" .sub-panel-content");return $.each(t.content,(function(e,t){(!t.conditie||t.conditie&&t.conditie())&&function(e,t,a,i){var s=i+2,o="table"+s+"_"+a;e.titel&&$(t).append('<p class="sub-title">'+e.titel+"</p>");$(t).append('<table id="'+o+'" class="data-table" summary="samenvatting van tabulaire data">'),r(o),$.each(e.row,(function(e,t){(!t.conditie||t.conditie&&t.conditie())&&n(o,t,s,e)}))}(t,s,a,e)})),void function(e){$(".sub-panel-header",e).click((function(){return $(".sub-header",this).toggleClass("collapse in"),t($(this))})),$(".sub-panel-header",e).attr("tabindex","0").keypress((function(e){if("0"!=e.which&&e.preventDefault(),"13"==e.which)return t(this)}));var t=function(e){var t=$(e).closest(".sub-panel-header"),a=$(t).next(".sub-panel-content");return"none"==$(a).css("display")?a.slideDown(500,(function(){t.addClass("open-sub-panel"),a.find("a.help-link").fadeIn()})):(a.find("a.help-link").hide(),a.slideUp(500,(function(){t.removeClass("open-sub-panel")}))),$("span.bedrag, span.valuta",e).slideToggle(),!1};$("div.calculation-panel td a.btn_info").click((function(){$(this).attr("aria-expanded",!$(this).closest("tr").next("tr.tr-help").find(".help-block").is(":visible")),$(this).closest("tr").next("tr.tr-help").find(".bld-info").toggleClass("collapse in"),$(this).closest("tr").next("tr.tr-help").toggleClass("hidden")})),$("div.calculation-panel tr.tr-help a.btn_info").click((function(){$(this).closest("tr").toggleClass("hidden")}))}("#sub-panel_"+a);function n(e,t,a,i){var s,n,r,l;s=n=r=content=["<span class='text-only'>-</span>",""],l=["<span class='text-only'>Geen help</span>",""],void 0!==t.col1&&(s=o(t.col1),1===a&&(s[0]='<span class="sub-header"><strong>'+o(t.col1)[0]+"</strong></span>")),void 0!==t.col2&&(n=o(t.col2)),void 0!==t.col3&&(r=o(t.col3)),void 0!==t.content&&(content=o(t.content)),void 0!==t.help&&(l[0]='<a title="Toon toelichting" class="btn_info btn btn-info"></a>',l[1]='" '),$("#"+e).append('<tr>\n  <td headers="'+e+'Header1"'+s[1]+' id="'+e+"SubHeader"+i+'" scope="row">'+s[0]+'</td>\n   <td headers="'+e+"Header2 "+e+"SubHeader"+i+'"'+n[1]+">"+n[0]+'</td>\n  <td headers="'+e+"Header3 "+e+"SubHeader"+i+'"'+r[1]+">"+r[0]+'</td>\n   <td headers="'+e+"Header4 "+e+"SubHeader"+i+'"'+l[1]+">"+l[0]+"</td>\n  </tr>"),void 0!==t.help&&$("#"+e).append('<tr class="tr-help hidden">\n  <td headers="'+e+"HelpHeader"+i+" "+e+"SubHeader"+i+'" colspan="4" class="message-holder">\n  <div">\n       <div class="col-xs-12 bg-info">'+t.help+"</div></div></td></tr>"),void 0!==t.content&&$("#"+e).append('<tr><td headers="'+e+"ContentHeader"+i+" "+e+"SubHeader"+i+'" colspan="4" class="message-holder">'+o(t.content)[0]+"</td></tr>")}function r(e){$("#"+e).append('<tr class="text-only">\n     <th scope="col" id="'+e+'Header1"><strong>Omschrijving</strong></th>\n     <th scope="col" id="'+e+'Header2"><strong>Bedrag 1</strong></th>\n     <th scope="col" id="'+e+'Header3"><strong>Bedrag 2</strong></th>\n     <th scope="col" id="'+e+'Header4"><strong>Help</strong></th>\n    </tr>')}function o(e){return data=[this.replaceVarsInText(e,this.iah.aVar),""],"EURO:"===data[0].substr(0,5)&&(data[0]='<span class="cell"><span class="valuta"><strong>€</strong></span><span class="bedrag"><strong>'+function(e){void 0!==e&&(e=this.getalNaarBedrag(e,!0));return e}(data[0].substr(data[0].indexOf(":")+1))+"</strong></span></span>"),"SIGN:"===data[0].substr(0,5)&&(data[1]=' class="'+data[0].substr(5)+'" ',data[0]='<span class="text-only">samen:</span>'),data}}toonVersie(){let e=!1;for(let t=0;t<uri.args.length&&0==e;t++)"versie"==uri.args[t]&&(e=!0,"undefined"!=typeof sVersie?alert("Versie: "+sVersie):"undefined"!=typeof sTiVersie&&alert("Versie: "+sTiVersie))}}BldGenIah.prototype.setDefaultDebugValues=function(){this.bDebugIah=this.setIahDebug(),this.debug=!1,this.debugSAQ=!1,this.debugSAR=!1,this.debugSAV=!1,this.debugSID=!1,this.debugJS=!1,this.debugFlow=[],this.debugTestWaardes=[]},BldGenIah.prototype.setIahDebug=function(){const e=new URLSearchParams(window.location.search);return!(!e.has("bld-debug")||"true"!==e.get("bld-debug"))},BldGenIah.prototype.getUrlParam=function(e,t){var a=t;return window.location.href.indexOf(e)>-1&&(a=getUrlVars()[e]),a},BldGenIah.prototype.getCollapsDebugPanel=function(){return!1===this.iah.debugPanelExpanded?"hide":"show"},BldGenIah.prototype.setOffsetContent=function(e){document.querySelectorAll("div.row>div.offset-sm-2, div.row>div.offset-sm-5").forEach((t=>{!0===e?(t.classList.remove("offset-sm-2"),t.classList.add("offset-sm-5","offset-md-3","offset-lg-2")):(t.classList.add("offset-sm-2"),t.classList.remove("offset-sm-5","offset-md-3","offset-lg-2"))}))},BldGenIah.prototype.loadDebug=function(e){const t="bld-iahDebug-"+this.iah.id;if(!document.querySelector(`#${t}`)){this.loadCssDebugPanel();let a=e[0];e.parent(".modal-body").length>0&&(a=document.querySelector("#bld-modal"));let i=document.createElement("div");i.id=t,i.classList.add("card","card-info","card-debug","draggable","card-debug-left"),i.dataset.debugForIah=e[0].id,i.innerHTML='<div id="'+t+'-heading" class="card-header" data-toggle="collapse" data-target="#collapse_'+t+'" aria-expanded="'+(!1!==this.iah.debugPanelCollapsed)+'" aria-controls="collapse_'+t+'">\n      Debugpanel\n      <span class="float-right clickable closeJS" data-effect="slideUp">\n        <span class="icon">kruis</span>\n      </span>\n    </div>\n    <div class="collapse '+this.getCollapsDebugPanel()+'" id="collapse_'+t+'">\n      <div id="'+t+'-body" class="card-body">\n        <form onsubmit="return false">\n        <ul>\n        <li>IAH id: '+this.iah.id+'</li>\n        <li id="divVersie'+this.iah.suffix+'">Versie: '+this.iah.sVersie+"</li>\n        </ul>\n        </form>\n      </div>\n    </div>",a.prepend(i),$("#"+t).draggable(),this.initDebug(t),this.setOffsetContent(!0),$("#"+t+" .card-header .clickable").on("click",(function(e){e.target.closest("section.bld-layer-iah").querySelectorAll(".card-debug").forEach((e=>{e.remove()})),BldGenIah.prototype.setOffsetContent(!1)})),$("#collapse_"+t).on("show.bs.collapse ",(function(){BldGenIah.prototype.setOffsetContent(!0)})),$("#collapse_"+t).on("hide.bs.collapse",(function(){BldGenIah.prototype.setOffsetContent(!1)}))}},BldGenIah.prototype.loadCssDebugPanel=function(){iahLoader.load_iah_css(iahLoader.dom+iahLoader.iah_css_base+"iah-debug-v2.css")},BldGenIah.prototype.initDebug=function(iahDebugId){const debugResetIah=()=>{this.iah.aBackupUserInput&&(this.iah.aBackupUserInput=[]),this.doRebuildVars(),this.iah.startCaseInFlow&&this.iah.startModule(this.iah.id)},doDebugSFQ=e=>{debugResetIah(),document.querySelector(`#selectSTC${this.iah.suffix}`)&&(document.querySelector(`#selectSTC${this.iah.suffix}`).selectedIndex=0),doDebugSID()},doDebugSAQ=e=>{for(var t in this.debugSQF=!1,this.debugSAQ=!0,this.debugSAR=!1,this.iah.backupMode&&(this.iah.aBackupUserInput=[]),$("#"+this.iah.formId+" .clBlok").remove(),$(`#divResultaat${this.iah.suffix?this.iah.suffix:""}`).remove(),this.iah.aVraag)this.doVraag(t);this.doRebuildVars(),$(".clUserInput").prop("disabled",!0),$(".clUserInput").css("opacity","0.5"),removeButtonsAndDisabled(),document.querySelector(`#selectSTC${this.iah.suffix}`)&&(document.querySelector(`#selectSTC${this.iah.suffix}`).selectedIndex=0),doDebugSID()},doDebugSAR=e=>{this.debugSQF=!1,this.debugSAQ=!1,this.debugSAR=!0,$("#"+this.iah.formId+" .clBlok").remove();for(let e in this.iah.aResult)this.doResult(e);"function"==typeof makeChecklist&&makeChecklist(!0),this.doRebuildVars(),removeButtonsAndDisabled(),doDebugSID(),oBld.addNewTabIconToLinks()},doDebugATC=()=>{let e=$("#inputATC"+this.iah.suffix).val();!e&&(e="Testcase");let t=$("#"+this.iah.formId+" .bld-frm-question :input").serializeArray(),a=[];a.push("case '"+e.toLowerCase().split(" ").join("_")+"' :"),t.forEach((e=>{if(!1===hiddenFieldInVragenSet(e)){e.name.indexOf("_")>-1&&(e.name=e.name.split("_")[0]),e.value=this.iah.aVraag[e.name].debugResult,a.push(`${this.iah.classInstanceName&&"string"==typeof this.iah.classInstanceName&&this.iah.classInstanceName.length?`${this.iah.classInstanceName}.`:""}debugVulIn('${e.name}',${e.value});`);let t=checkTestCaseForVragenset(e,this.iah.suffix);t.length>0&&a.push(t)}})),a.push("break;");const i=new Set(a);a=Array.from(i),this.createPanel("ATC"+this.iah.suffix,e,a,!0)},doDebugSAV=e=>{let t="true"===e.val();var a="bld-iahDebugVar"+this.iah.suffix;$("#"+a).remove().slideUp(),this.debugSAV=!1,!0===t&&(this.debugSAV=!0,$('[data-type="iah"]').append('<div id = "'+a+'" class="card card-info card-debug card-debug-var draggable card-debug-right">\n      <div id="iahDebugVarHeading'+this.iah.suffix+'" class="card-header">Variabelen<span class="float-right clickable" data-effect="slideUp"><class class="icon">kruis</class></span></div>\n      <div id="iahDebugVarBody'+this.iah.suffix+'" class="card-body"></div>\n      </div>'),$("#iahDebugVarBody"+this.iah.suffix).append("<h2>Variabelen</h2>"),$("#iahDebugVarBody"+this.iah.suffix).append('<ul id="userVars'+this.iah.suffix+'" />'),this.debugGetVars(),this.iah.aObj&&"object"==typeof this.iah.aObj&&Object.keys(this.iah.aObj).length>0&&($("#iahDebugVarBody"+this.iah.suffix).append("<h2>Objecten</h2>"),$("#iahDebugVarBody"+this.iah.suffix).append('<ul id="userObjects'+this.iah.suffix+'" />'),this.debugGetObjects(),$("#"+a).draggable(),$("#"+a).addClass("alignLinks")),$("#"+a+" .card-header .clickable").on("click",(()=>{$(`#SAV_False${this.iah.suffix}`).click()})))},doDebugJSInit=e=>{let t="true"===$(e).val();var a="bld-iahDebugJS"+this.iah.suffix;this.debugJS=!1,$("#"+a).remove().slideUp(),!1===$("#"+a).is("#"+a)&&!0===t&&(this.debugJS=!0,$('[data-type="iah"]').append('<div id = "'+a+'" class="card card-info card-debug card-debug-js draggable card-debug-right">\n      <div id="iahDebugJSHeading'+this.iah.suffix+'" class="card-header">Javascript calls<span class="float-right clickable closeJS" data-effect="slideUp"><class class="icon">kruis</class></span><span class="float-right clickable clearJS" ><i class="fa fa-eraser"></i></span></div>\n      <div id="iahDebugJSBody'+this.iah.suffix+'" class="card-body"></div>\n      </div>'),$("#iahDebugJSBody"+this.iah.suffix).append('<ul id="jscalls'+this.iah.suffix+'" />'),$("#"+a).draggable(),$("#"+a+" .card-header .closeJS").on("click",(()=>{$("#JS_False"+this.iah.suffix).click()})),$("#"+a+" .card-header .clearJS").on("click",(()=>{$("#jscalls"+this.iah.suffix).empty()})))},doDebugSID=()=>{$(".clDebugSID").remove(),this.debugSID&&document.querySelectorAll("#"+this.iah.formId+" .bld-frm-question, #"+this.iah.formId+" .bld-frm-subquestion, #"+this.iah.formId+" .divResult").forEach((e=>{this.debugShowID(e,e.id)}))},doDebugSTT=oThis=>{let bSTT="true"===oThis.val();var iahDebugId="bld-iahDebugSTT"+this.iah.suffix;$("#"+iahDebugId).remove().slideUp(),document.querySelector(`#ATC${this.iah.suffix}-panel`)&&document.querySelector(`#ATC${this.iah.suffix}-panel`).remove(),!0===bSTT&&(document.querySelectorAll("#SAQ"+this.iah.suffix+" .form-check-input").forEach((e=>e.checked=!1)),$(oThis).closest("section.bld-layer-iah>div.card-debug").after('<div id = "'+iahDebugId+'" class="card card-info card-debug card-debug-var draggable card-debug-right card-debugSTT">\n      <div id="'+iahDebugId+'_heading" class="card-header">Geautomatiseerd testen<span class="float-right clickable" data-effect="slideUp"><class class="icon">kruis</class></span></div>\n      <div id="'+iahDebugId+'_body" class="card-body"></div>\n      </div>'),$("#"+iahDebugId+"_body").append('<div class="form-group" id="STT_automatic'+this.iah.suffix+'">\n        <label for="selectSTC'+this.iah.suffix+'" class="control-label">Volledige test</label>\n          <select name="selectSTT_Toon" id="selectSTT_Toon'+this.iah.suffix+'" class="form-control">\n            <option value="alles"  selected="selected">goed én fout tonen</option>\n            <option value="fout">alleen fout tonen</option>\n            <option value="goed">alleen goed tonen</option>\n          </select>\n        <button type="button" class="btn pull-right mt-3" id="STT_Start'+this.iah.suffix+'">Start</button>\n      </div>\n      <div id="automatic_debug_loader'+this.iah.suffix+'" class="d-none">Bezig met testen</div> \n      <div id="automatic_debug_results'+this.iah.suffix+'" /> '),$("#"+iahDebugId).draggable(),$("#"+iahDebugId+" .card-header .clickable").on("click",(()=>{$(`#STT_False${this.iah.suffix}`).click()})),document.getElementById(`selectSTT_Toon${this.iah.suffix}`).addEventListener("change",(e=>{document.querySelector(`#automatic_debug_results${this.iah.suffix}`).innerHTML="",this.displayTestResults()})),document.getElementById(`STT_Start${this.iah.suffix}`).addEventListener("click",(e=>{document.querySelector(`#automatic_debug_results${this.iah.suffix}`).innerHTML="",document.querySelector(`#automatic_debug_loader${this.iah.suffix}`).classList.remove("d-none"),setTimeout((function(){debugStartTest()}),100);const t=Array.from(document.querySelector(`#selectSTC${this.iah.suffix}`).options).findIndex((e=>e.value===this.iah.aSTT[this.iah.aSTT.length-1].scene));document.querySelector(`#selectSTC${this.iah.suffix}`).selectedIndex=t>-1?t:0}))),$("#"+iahDebugId+" .card-header .clickable").on("click",(function(){$("#"+iahDebugId).remove().slideUp()}));const debugStartTest=()=>{const saveBackupMode=this.iah.backupMode;this.iah.backupMode=!1;let testResults=this.iah.aSTT;for(var i=0;testResults.length>i;i++){console.log("Bezig met testen van "+testResults[i].scene),debugResetIah(),this.iah.doDebugTest(testResults[i].scene),document.querySelector("#"+this.iah.butResults)&&!1===document.querySelector("#"+this.iah.butResults).disabled&&$("#"+this.iah.butResults).click();for(let j=0;testResults[i].varsToTest.length>j;j++){let currentValue=eval("this.iah."+testResults[i].varsToTest[j].varToTest);testResults[i].varsToTest[j].currentValue=currentValue;let expectedValue=testResults[i].varsToTest[j].expectedValue;Array.isArray(expectedValue)?(testResults[i].varsToTest[j].varPassed=!0,Array.isArray(currentValue)&&expectedValue.length===currentValue.length?expectedValue.forEach((e=>{currentValue.includes(e)||(testResults[i].varsToTest[j].varPassed=!1)})):testResults[i].varsToTest[j].varPassed=!1):testResults[i].varsToTest[j].varPassed=currentValue===expectedValue}}this.debugTestResults=testResults,this.displayTestResults(),this.iah.backupMode=saveBackupMode}};var self=this;function hiddenFieldInVragenSet(e){let t=document.querySelector("#"+e.name);return!(!t||!t.closest('div.bld-question-container[data-sel="vragenSetRijen"]')||"hidden"!==t.type)}function checkTestCaseForVragenset(e,t){let a=document.getElementById(e.name+t);if(a&&a.closest('div.form-row[data-sel="vragenSetRij"]')){let i=a.closest('div.bld-question-container[data-sel="vragenSetRijen"]');if(i){let a=i.querySelectorAll('div.form-row[data-sel="vragenSetRij"]');if(a.length>1){let s=i.querySelectorAll("div.bld-frm-subquestion"),n=e.name.split("-")[e.name.split("-").length-1];if(s.length>0){let s=i.id.replace("div","").replace(t,"");s=`${s}-${n}${t}`;let r=document.querySelectorAll("#"+s+' *[data-sel="user-input"]');if(r[r.length-1].id===e.name+(t||"")&&n<a.length)return`document.getElementById('plusBtn${s}').click()`}}}}return""}$("#"+iahDebugId+"-body form").append('<fieldset class="form-group" id="SAQ'+this.iah.suffix+'">\n      <legend class="bld-form-lbl">Toon:</legend>\n      <div class="form-check">\n        <input class="form-check-input" type="radio" name="inputDebugSAQ'+this.iah.suffix+'" id="SFQ_True'+this.iah.suffix+'" value="ja">\n        <label class="form-check-label"  id="lblSFQ'+this.iah.suffix+'" for="SFQ_True'+this.iah.suffix+'">\n          1e vraag\n        </label>\n      </div>\n      <div class="form-check">\n        <input class="form-check-input" type="radio" name="inputDebugSAQ'+this.iah.suffix+'" id="SAQ_True'+this.iah.suffix+'" value="ja">\n        <label class="form-check-label" id="lblSAQ'+this.iah.suffix+'" for="SAQ_True'+this.iah.suffix+'">\n          alle vragen\n        </label>\n      </div>\n      <div class="form-check">\n        <input class="form-check-input" type="radio" name="inputDebugSAQ'+this.iah.suffix+'" id="SAR_True'+this.iah.suffix+'" value="ja">\n        <label class="form-check-label" id="lblSAR'+this.iah.suffix+'" for="SAR_True'+this.iah.suffix+'">\n          alle resultaten\n        </label>\n      </div>\n    </fieldset>'),$("#SFQ_True"+this.iah.suffix).click((()=>{document.querySelector(`#STT_False${this.iah.suffix}`).click(),document.querySelector(`#selectSTC${this.iah.suffix}`)&&(document.querySelector(`#selectSTC${this.iah.suffix}`).selectedIndex=0),document.querySelector(`#ATC${this.iah.suffix}-panel`)&&document.querySelector(`#ATC${this.iah.suffix}-panel`).remove(),doDebugSFQ(!0)})),$("#SAQ_True"+this.iah.suffix).click((()=>{document.querySelector(`#STT_False${this.iah.suffix}`)&&document.querySelector(`#STT_False${this.iah.suffix}`).click(),document.querySelector(`#selectSTC${this.iah.suffix}`)&&(document.querySelector(`#selectSTC${this.iah.suffix}`).selectedIndex=0),document.querySelector(`#ATC${this.iah.suffix}-panel`)&&document.querySelector(`#ATC${this.iah.suffix}-panel`).remove(),doDebugSAQ(!0)})),$("#SAR_True"+this.iah.suffix).click((()=>{document.querySelector(`#STT_False${this.iah.suffix}`)&&document.querySelector(`#STT_False${this.iah.suffix}`).click(),document.querySelector(`#selectSTC${this.iah.suffix}`)&&(document.querySelector(`#selectSTC${this.iah.suffix}`).selectedIndex=0),document.querySelector(`#ATC${this.iah.suffix}-panel`)&&document.querySelector(`#ATC${this.iah.suffix}-panel`).remove(),doDebugSAR(!0)})),$("#"+iahDebugId+"-body form").append('<fieldset class="form-group" id="ATC'+this.iah.suffix+'">  <legend class="bld-form-lbl">Maak testcase</legend>\n  <div class="input-group">\n  <input class="form-control" type="text" name="inputATC'+this.iah.suffix+'" id="inputATC'+this.iah.suffix+'" placeholder="Naam van de testcase">\n  <button type="button" class="btn btn-primary" id="btnATC'+this.iah.suffix+'">+</button>\n  </div></fieldset>'),document.getElementById("btnATC"+this.iah.suffix).addEventListener("click",(e=>{doDebugATC()})),document.querySelector("#inputATC"+this.iah.suffix).addEventListener("change",(e=>{doDebugATC()})),"function"==typeof this.iah.doDebugTest&&"function"==typeof this.iah.selectSTC_Options&&($("#"+iahDebugId+"-body form").append('<div class="form-group" id="STC'+this.iah.suffix+'">\n    <label for="selectSTC'+this.iah.suffix+'" class="bld-form-lbl">Testcases</label>\n    <select id="selectSTC'+this.iah.suffix+'" name="selectSTC" class="form-control custom-select"></select></div>'),this.iah.selectSTC_Options(),document.querySelector("#selectSTC"+this.iah.suffix).addEventListener("change",(e=>{document.querySelectorAll("#SAQ"+this.iah.suffix+" .form-check-input").forEach((e=>e.checked=!1)),document.querySelector("#"+this.iah.formId).classList.remove("bldInputDisabled"),document.querySelector(`#STT_False${this.iah.suffix}`)&&document.querySelector(`#STT_False${this.iah.suffix}`).click(),document.querySelector(`#ATC${this.iah.suffix}-panel`)&&document.querySelector(`#ATC${this.iah.suffix}-panel`).remove(),this.iah.slideMode||$("#"+this.iah.formId).empty(),this.iah.backupMode&&(this.iah.aBackupUserInput=[]),this.iah.doDebugTest(document.getElementById("selectSTC"+this.iah.suffix).value),document.querySelector(`#SID_True${this.iah.suffix}`).click(),document.querySelector(`#SAV_True${this.iah.suffix}`)&&document.querySelector(`#SAV_True${this.iah.suffix}`).checked&&document.querySelector(`#SAV_True${this.iah.suffix}`).click()}))),$("#"+iahDebugId+"-body form").append('<fieldset class="form-group" id="SID'+this.iah.suffix+'">\n    <legend class="bld-form-lbl">Toon ID\'s</legend>\n    <div class="form-check form-check-inline">\n      <input class="form-check-input" type="radio" name="inputDebugSID" id="SID_True'+this.iah.suffix+'" value="true">\n      <label class="form-check-label" id="lblSIDTrue'+this.iah.suffix+'" for="SID_True'+this.iah.suffix+'">\n        ja\n      </label>\n    </div>\n    <div class="form-check form-check-inline">\n      <input class="form-check-input" type="radio" name="inputDebugSID" id="SID_False'+this.iah.suffix+'" value="false" checked>\n      <label class="form-check-label" id="lblSIDFalse'+this.iah.suffix+'" for="SID_False'+this.iah.suffix+'">\n        nee\n      </label>\n    </div>\n    </fieldset>');let radios=document.querySelectorAll("#SID"+this.iah.suffix+" input");radios.forEach((e=>{e.addEventListener("click",(()=>{this.debugSID="true"===e.value,doDebugSID()}))})),$("#"+iahDebugId+"-body form").append('<fieldset class="form-group" id="JS'+this.iah.suffix+'">\n    <legend class="bld-form-lbl">Toon js-calls</legend>\n    <div class="form-check form-check-inline">\n      <input class="form-check-input" type="radio" name="inputDebugJS" id="JS_True'+this.iah.suffix+'" value="true">\n      <label class="form-check-label" id="lblJSTrue'+this.iah.suffix+'" for="JS_True'+this.iah.suffix+'">\n        ja\n      </label>\n    </div>\n    <div class="form-check form-check-inline">\n      <input class="form-check-input" type="radio" name="inputDebugJS" id="JS_False'+this.iah.suffix+'" value="false" checked>\n      <label class="form-check-label" id="lblJSFalse'+this.iah.suffix+'" for="JS_False'+this.iah.suffix+'">\n        nee\n      </label>\n    </div>\n    </fieldset>'),$(`#JS${this.iah.suffix} input`).click((function(){doDebugJSInit(this)})),$("#"+iahDebugId+"-body form").append('<fieldset class="form-group" id="SAV'+this.iah.suffix+'">\n    <legend class="bld-form-lbl">Toon variabelen (& objecten)</legend>\n    <div class="form-check form-check-inline">\n      <input class="form-check-input" type="radio" name="inputDebugSAV" id="SAV_True'+this.iah.suffix+'" value="true">\n      <label class="form-check-label" id="lblSAVTrue'+this.iah.suffix+'" for="SAV_True'+this.iah.suffix+'">ja</label>\n    </div>\n    <div class="form-check form-check-inline">\n      <input class="form-check-input" type="radio" name="inputDebugSAV" id="SAV_False'+this.iah.suffix+'" value="false" checked>\n      <label class="form-check-label" id="lblSAVFalse'+this.iah.suffix+'" for="SAV_False'+this.iah.suffix+'">nee</label>\n    </div>\n    </fieldset>'),$(`#SAV${this.iah.suffix} input`).click((function(){doDebugSAV($(this))})),this.iah.aSTT&&this.iah.aSTT.length>0&&($("#"+iahDebugId+"-body form").append('<fieldset class="form-group" id="STT'+this.iah.suffix+'">\n    <legend class="bld-form-lbl">Geautomatiseerd testen</legend>\n      <div class="form-check form-check-inline">\n        <input class="form-check-input" type="radio" name="inputDebugSTT'+this.iah.suffix+'" id="STT_True'+this.iah.suffix+'" value="true">\n        <label class="form-check-label" id="lblSTTTrue'+this.iah.suffix+'" for="STT_True'+this.iah.suffix+'">ja</label>\n      </div>\n      <div class="form-check form-check-inline">\n        <input class="form-check-input" type="radio" name="inputDebugSTT'+this.iah.suffix+'" id="STT_False'+this.iah.suffix+'" value="false" checked>\n        <label class="form-check-label" id="lblSTTFalse'+this.iah.suffix+'" for="STT_False'+this.iah.suffix+'">nee</label>\n      </div>\n    </fieldset>'),$(`#STT${this.iah.suffix} input`).click((function(){doDebugSTT($(this))}))),this.iah.aVar.systeemDatum&&($("#"+iahDebugId+"-body form").append('<div class="form-group" id="SYSDAT">    <label for="inputDebugSysdat" class="control-label">Systeemdatum aanpassen [dd-mm-jjjj]</label>\n    <div class="date"><input type="text" name="inputDebugSysdat" id="inputDebugSysdat" class="form-control"/><p>Syteemdatum is ingesteld op: <span id="actDebugSysDat">'+dateToStr(this.iah.aVar.sysDatum)+"</p><span></p></div>\n    </div>"),$("#inputDebugSysdat").change((function(){var e=document.getElementById("inputDebugSysdat").value.split("-");3===e.length&&(sysdateMod=new Date(e[2],parseInt(e[1])-1,e[0]),document.getElementById("actDebugSysDat").innerHTML=dateToStr(sysdateMod))})));const removeButtonsAndDisabled=()=>{let e=this.iah.suffix?this.iah.suffix:"";document.querySelector(`#divButtonsResult${e}`)&&document.querySelector(`#divButtonsResult${e}`).remove(),document.querySelector(`#divButtonsWijzig${e}`)&&document.querySelector(`#divButtonsWijzig${e}`).remove(),document.querySelector(`#formIAH${e}.bldInputDisabled`)&&document.querySelector(`#formIAH${e}.bldInputDisabled`).classList.remove("bldInputDisabled")}},BldGenIah.prototype.displayTestResults=function(){const e=document.querySelector(`#selectSTT_Toon${this.iah.suffix}`).value;this.debugTestResults.forEach((t=>{let a=t.scene,i=!1,s=document.createElement("ul");if(s.classList.add("group_debug_results"),t.varsToTest.forEach((e=>{e.varPassed||(i=!0);let t=e.varPassed?"goed ":"fout ";s.insertAdjacentHTML("beforeend","<li class='"+t+"'><span class='debug_"+t+" debug_flow'></span> variabele naam: "+e.varToTest+" verwacht: "+e.expectedValue+"<br /> uitkomst: "+e.currentValue),s.style.display="none"})),"alles"===e||"fout"===e===i){let e=document.createElement("ul");e.classList.add("group_debug","debug",a);let t=document.createElement("h4");t.classList.add("debugGroup","open_close","close",""+(i?"debugGroupError":"debugGroupNoError")),t.append("debugGroup open_close close"),t.innerText=a,e.append(t,s),document.querySelector(`#automatic_debug_results${this.iah.suffix}`).append(e)}})),document.querySelector(`#automatic_debug_results${this.iah.suffix} ul.group_debug`)||(document.querySelector(`#automatic_debug_results${this.iah.suffix}`).innerHTML="<p>Geen scenario's gevonden bij deze selectie.</p>"),document.querySelectorAll(`#automatic_debug_results${this.iah.suffix} .open_close`).forEach((e=>e.addEventListener("click",(e=>{e.target.classList.toggle("open"),e.target.classList.toggle("close");let t=e.target.parentElement.querySelector("ul.group_debug_results");t.style.display="none"===t.style.display?"block":"none"})))),document.querySelector(`#automatic_debug_loader${this.iah.suffix}`).classList.add("d-none")},BldGenIah.prototype.debugShowID=function(e,t){$(e).before(' <div class="col-12 bg-warning clDebugSID">'+t+"</div>"),$(".kliklijst_result").each((function(){$("a",this).before('<span class="bg-warning clDebugSID">'+$(this).attr("id")+"</span>")}))},BldGenIah.prototype.debugVulIn=function(e,t,a){let i=e+this.iah.suffix;if($(this.debugTestWaardes).length>0&&this.debugTestWaardes[e]&&(t=this.debugTestWaardes[e]),"JaNee"===this.iah.aVraag[e].type)!0===t?$("#"+i+"_True").click():!1===t&&$("#"+i+"_False").click();else{if("RadioGroep"===this.iah.aVraag[e].type)i=i+"_"+t.toString(),$("#"+i).click();else if(0===this.iah.aVraag[e].type.indexOf("dropdown")){let a=i,s=t,n=1,r=!1;const o=new RegExp(/\[(\d{1,3})]/g);this.iah.aVraag[e].type.match(o)&&(r=!0,n=parseInt(this.iah.aVraag[e].type.match(o)[0].replace(/\[|]/g,"")));for(let e=1;e<=n;e++)!0===r&&(a=`${i}_${e}`,s=t[e-1]),"object"==typeof s&&2===s.length&&"val"===s[0]?$("#"+a).val(s[1]):$("#"+a).prop("selectedIndex",s),e<n&&this.checkVraag(document.getElementById(a));i=a}else if("text"===this.iah.aVraag[e].type||"date"===this.iah.aVraag[e].type)$("#"+i).prop("value",t);else if("geboorteDatum"===this.iah.aVraag[e].type)$("#"+i+"-1").prop("value",t.split("-")[0]),$("#"+i+"-2").prop("value",t.split("-")[1]),$("#"+i+"-3").prop("value",t.split("-")[2]),$("#"+i).prop("value",t);else if("datePeriod"===this.iah.aVraag[e].type)$("#"+i+"_Begin").prop("value",t[0]),$("#"+i+"_Eind").prop("value",t[1]),i+="_Eind";else if("dateYearMonth"===this.iah.aVraag[e].type)$("#"+i+"_maand").prop("value",t[0]),$("#"+i+"_jaar").prop("value",t[1]),i+="_jaar";else if("checkbox"===this.iah.aVraag[e].type){let e=document.getElementsByName(i);for(let a=0;a<e.length;a++)t.includes(e[a].value)&&(i=e[a].id,e[a].click())}this.checkVraag(document.getElementById(i))}this.debugFlow[this.debugFlow.length]=[e,t],a&&a()},BldGenIah.prototype.debugGetVars=function(){for(i in $("#userVars"+this.iah.suffix).empty(),this.iah.aVar=this.sortObjByKey(this.iah.aVar),this.iah.aVar)$("#userVars"+this.iah.suffix).append("<li>"+i+": <span>"+this.iah.aVar[i]+"</span></li>")},BldGenIah.prototype.sortObjByKey=function(e={}){return Object.keys(e).sort().reduce(((t,a)=>(t[a]=e[a],t)),{})},BldGenIah.prototype.debugGetObjects=function(){$("#userObjects"+this.iah.suffix).empty();for(let e in this.iah.aObj){let t=document.createElement("li");t.innerHTML="<strong>"+e+"</strong>";let a=document.createElement("ul");for(let t in this.iah.aObj[e])if(this.iah.aObj[e][t]=this.sortObjByKey(this.iah.aObj[e][t]),"object"==typeof this.iah.aObj[e][t]&&"Geboortedatum"!=t){let i=document.createElement("li");i.innerHTML="<strong>"+t+"</strong>";let s=document.createElement("ul");for(let a in this.iah.aObj[e][t]){let i=document.createElement("li");i.innerHTML=a+": <span>"+this.iah.aObj[e][t][a]+"</span>",s.appendChild(i)}a.appendChild(i),a.appendChild(s)}else{let i=document.createElement("li");i.innerHTML=t+": <span>"+this.iah.aObj[e][t]+"</span>",a.appendChild(i)}t.appendChild(a),document.querySelector("#userObjects"+this.iah.suffix).appendChild(t)}},BldGenIah.prototype.doDebugJS=function(e){$("#jscalls"+this.iah.suffix).append("<li>"+e+"</li>")},BldGenIah.prototype.createPanel=function(e,t,a,i){if($("#"+e+"-panel").remove(),a){let s=a.join("\n");Array.isArray(a)&&(a=a.join("<br/>")),$('[data-type="iah"]').append('<div id = "'+e+'-panel" class="card card-info card-debug card-debug-js card-debug-right draggable">\n    <div id="'+e+'-panelheading" class="card-header">'+t+'<span class="float-right clickable" data-effect="slideUp"><class class="icon">kruis</class></span><span class="float-right clickable" ><i class="fa fa-eraser"></i></span></div>\n    <div id="'+e+'-panelbody" class="card-body"></div>\n    </div>'),$("#"+e+"-panelbody").append(a),$(`#${e}-panel`).draggable(),i&&($(`#${e}-panel`).append('<div class="card-footer"><button class="btn btn-primary btn-block">Kopieer naar klembord</button></div>'),document.querySelector(`#${e} button`).addEventListener("click",(e=>{this.copyToClipboard(s);let t=$(this);t.addClass("btn-success").removeClass("btn-primary"),t.html("Gekopieerd naar klembord"),setTimeout((function(){t.removeClass("btn-success").addClass("btn-primary"),t.html("Kopieer naar klembord")}),1e3)})))}$("#"+e+"-panelheading").find(".clickable").on("click",(function(){$("#"+e+"-panelheading").closest("#"+e+"-panel").remove()}))},BldGenIah.prototype.getOptionsFromCasesInSwitch=function(e){let t="";return this.getCaseTitlesInSwitch(e).forEach((e=>{t+=`<option value="${e}">${e}</option>`})),t},BldGenIah.prototype.getCaseTitlesInSwitch=function(e){var t=e.toString().match(/function[^{]+\{([\s\S]*)\}$/)[1].match(/case? ?['|"].*?['|"]/g);return t.forEach(((e,a)=>{t[a]=e.replace(/case.{0,}?['|"](.*)['|"]/,"$1")})),t},$(),BldGenIah.prototype.Metrix={init(){this.bEersteVraag=!0,this.rondEersteKeerAf=!0,this.pageType=document.querySelector("body").dataset.pagetype,this.naamRekenhulp=document.querySelector('[data-type="iah"]').dataset.id},trackEvent(e){switch(e){case"start":this.bEersteVraag&&(this.paqPush("Rekenhulp","Start",`bld-iah-${this.naamRekenhulp}`),this.bEersteVraag=!1);break;case"resultbtn":setTimeout((()=>{this.paqPush(`[${this.pageType}]iah[${this.naamRekenhulp}]`,"show[iah-button-results]")}),"500");break;case"afgerond":setTimeout((()=>{!0===this.rondEersteKeerAf?(this.paqPush("Rekenhulp","Afgerond",`bld-iah-${this.naamRekenhulp}`),this.rondEersteKeerAf=!1):this.paqPush("Rekenhulp","Afgerond na wijziging",`bld-iah-${this.naamRekenhulp}`)}),"500");break;case"wijzig":this.paqPush("Rekenhulp","Wijzig invoer",`bld-iah-${this.naamRekenhulp}`)}},paqPush(e,t,a){let i=[];i.push("trackEvent"),e&&i.push(e),t&&i.push(t),a&&i.push(a);try{_paq.push(i)}catch(e){console.log("Matomo error counting: ",i)}}},BldGenIah.prototype.calcRange=function(range){var range=this.replaceVarsInText(range),aRange=range.split(":"),beginJaar=eval(aRange[0]),eindJaar=eval(aRange[1]);return range=beginJaar+":"+eindJaar,range},BldGenIah.prototype.replaceVarsInText=function(text){for(var aResult=this.doFunctionInText(text),aText=aResult[0],bArray=aResult[1],tmpText,ii=0;ii<aText.length;ii++){tmpText=aText[ii];var aVarNames=tmpText.match(/{(.*?)}/g);if(null!=aVarNames)for(var i=0;i<aVarNames.length;i++){var sVarName=aVarNames[i].replace(/[{}]/g,""),re=new RegExp(aVarNames[i],"g");tmpText=tmpText.replace(re,this.iah.aVar[sVarName])}var aTemp=tmpText.match(/#(.*?)#/g);if(null!=aTemp)for(var i=0;i<aTemp.length;i++){var sTemp=aTemp[i].replace(/[##]/g,""),sBerekend=eval(sTemp),sTemp="#"+sTemp.replace(/\+/g,"\\+")+"#",re=new RegExp(sTemp,"g");tmpText=tmpText.replace(re,sBerekend)}aText[ii]=tmpText}return!1===bArray?aText[0]:aText},BldGenIah.prototype.doFunctionInText=function(text){var bArray=$.isArray(text);if(!1===bArray)var aText=[].concat(text);else var aText=text;for(var i=0;i<aText.length;i++)if(text=aText[i],0==text.indexOf("[FUNCTION:")&&"]"==text.substr(text.length-1)){var sFunction=text.split(":")[1].substr(0,text.split(":")[1].length-1),result=eval(sFunction);if(Array.isArray(result)){bArray=!0;let e=[];for(let t=0;t<aText.length;t++)if(t===i)for(let t=0;t<result.length;t++)e[e.length]=result[t];else e[e.length]=result[t];aText=e}else aText.splice(i,1,result)}return[aText,bArray]},BldGenIah.prototype.formatDate=function(e){return-1==e.indexOf("-")&&8==e.length&&(e=e.substr(0,2)+"-"+e.substr(2,2)+"-"+e.substr(4,4)),e},BldGenIah.prototype.getInputDateType=function(){return"text"},BldGenIah.prototype.isNativeDatepicker=function(){return"date"===this.getInputDateType()},BldGenIah.prototype.strToDate=function(e){var t=e.split("-");return t.length<3?"":4==t[2].length?new Date(parseInt(t[2],10),parseInt(t[1],10)-1,parseInt(t[0],10)):new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10))},BldGenIah.prototype.dateToStr=function(e){return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()},BldGenIah.prototype.firstDayOfYear=function(e){return new Date(parseInt(e),0,1)},BldGenIah.prototype.lastDayOfYear=function(e){return new Date(parseInt(e),11,31)},BldGenIah.prototype.lastdayOfMonth=function(e,t){var a=new Date(e,t+1,0);return a=a.getDate()},BldGenIah.prototype.sameDate=function(e,t){return!(e<t||e>t)},BldGenIah.prototype.formatDate=function(e){e.indexOf("-")>-1&&(aDatum=e.split("-"))},BldGenIah.prototype.reformatDate=function(e){return-1==(e=e.replace(/[./]/g,"-")).indexOf("-")&&8==e.length&&(e=e.substr(0,2)+"-"+e.substr(2,2)+"-"+e.substr(4,4)),e},BldGenIah.prototype.validDate=function(e,t,a){var i=new Array,s=!0,n=e.split("-");const r=n[0].length>0&&n[0].length<3&&!n[0].isNaN?parseInt(n[0],10):n[0],o=n[1].length>0&&n[1].length<3&&!n[1].isNaN?parseInt(n[1],10):n[1],l=4!==n[2].length||n[2].isNaN?n[2]:parseInt(n[2],10);if(function(e,t,a){var i=new Date(a,t,e);if(i.getDate()!==e||i.getMonth()!==t||i.getFullYear()!==a)return!1;return!0}(r,o-1,l)){if(a){var d=(a=this.calcRange(a)).split(":");if(parseInt(d[0])===parseInt(d[1])&&l!==parseInt(d[0]))i[0]="De datum moet in "+d[0]+" liggen. Pas de datum aan.",s=!1;else if(l<parseInt(d[0])){if("geboorteDatum"===this.iah.aVraag[t].type){let e=d[1]-d[0];i[0]="De geboortedatum ligt meer dan "+e+" jaar in het verleden. Vul een recentere datum in."}else i[0]="Vul een datum in die op of ná "+d[0]+" ligt.";s=!1}else l>parseInt(d[1])&&("geboorteDatum"===this.iah.aVraag[t].type?this.iah.aVraag[t].maxYearErrorTxt?i[0]=this.replaceVarsInText(this.iah.aVraag[t].maxYearErrorTxt):i[0]="U hebt een onjuiste geboortedatum ingevuld. Vul een datum in die in het verleden ligt.":i[0]="U hebt een datum ingevuld die na "+d[1]+" ligt. Vul een datum in die vóór of op "+d[1]+" ligt.",s=!1);this.iah.aVraag[t].minAge&&parseInt(d[1])-l<this.iah.aVraag[t].minAge[0]&&(i[0]=this.iah.aVraag[t].minAge[1],s=!1)}}else{let e="U hebt een ongeldige geboortedatum ingevuld. Vul de datum in op de volgende manier: dd-mm-jjjj.",a="U hebt een ongeldige datum ingevuld. Vul de datum in op de volgende manier: dd-mm-jjjj.";"geboorteDatum"===this.iah.aVraag[t].type?this.iah.aVraag[t].validNormalDate?i[0]=a:i[0]=e:i[0]=a,s=!1}return[s,i,e]},BldGenIah.prototype.validDatePeriod=function(e,t){var a=new Array,i=!0;return e.length>0&&t.length>0?this.strToDate(t)<=this.strToDate(e)&&(a[0]="De einddatum moet na de begindatum liggen. Pas 1 van de datums aan.",i=!1):i=!1,[i,a]},BldGenIah.prototype.daysBetween=function(e,t){return 1+Math.round(Math.abs((e.getTime()-t.getTime())/864e5))},BldGenIah.prototype.maandVerschil=function(e,t){var a=t.getMonth()+1,i=t.getDate();return e.getMonth()+1-a+(e.getDate()-i)/31},BldGenIah.prototype.daysInMonth=function(e,t){return new Date(e,t+1,0).getDate()},BldGenIah.prototype.getalNaarBedrag=function(e,t,a){if(void 0!==e&&"number"==typeof e){a&&(e=e.toFixed(2));var i="";"-"===e.toString().substr(0,1)&&(i="-",e=e.toString().substr(1));var s=e.toString().split(".");if(1==t){var n=s[0].length;if(n>3)for(var r=parseInt(n/3.1),o=3,l=1;l<=r;l++)s[0]=s[0].substring(0,n-o)+"."+s[0].substring(n-o),o+=3}return i+(e=s.length>1?s[0]+","+s[1]:s[0])}return e},BldGenIah.prototype.toRekenBedrag=function(e){return"string"==typeof e&&(e=(e=e.toString().replace(/\$|\./g,"")).toString().replace(/\$|\,/g,".")),parseFloat(e)},BldGenIah.prototype.filterHtmlTags=function(e){var t=$(e).val(),a={";":"&#059;","<":"&lt;",">":"&gt;",'"':"&quot;"};t=t.replace(/[;<>"]/g,(function(e){return a[e]})),$(e).val(t)},BldGenIah.prototype.checkNumeriek=function(oInput,oVraag,event={},extraArg={}){let aError=this.getErrors(),bPunten=oVraag.duizendtalpunten,iNum=$(oInput).val();iNum=iNum.replace(/[.]/g,"");let aNum=iNum.split(",");if("-"===iNum||"-0"===iNum||""===iNum)return[!1,eval('aError["numeriek"].melding.isNaN')];if(oVraag.decimalen>0){if(oVraag.zeroAllowed&&"0"===iNum)return[!0,"NOerror"];if(2===aNum.length){if(extraArg.decimalen){if(aNum[1].length>oVraag.decimalen)return[!1,eval('aError["numeriek"].melding.decimalen').replace("[decimalen]",oVraag.decimalen)];if(aNum[1].length<oVraag.decimalen)return oVraag.errorOnderwerp?[!1,eval('aError["numeriek"].melding.onvoldoendeDecimalen').replace("[errorOnderwerp]",oVraag.errorOnderwerp)]:[!1,eval('aError["numeriek"].melding.onvoldoendeDecimalen').replace("[errorOnderwerp]","dit veld")]}if(isNaN(aNum[0].replace(".",","))||isNaN(aNum[1].replace(".",",")))return[!1,eval('aError["numeriek"].melding.isNaN_decimalen')]}else{if(isNaN(iNum.replace(".",",")))return[!1,eval('aError["numeriek"].melding.isNaN_decimalen')];if(1===aNum.length&&extraArg.decimalen)return oVraag.errorOnderwerp?[!1,eval('aError["numeriek"].melding.onvoldoendeDecimalen').replace("[errorOnderwerp]",oVraag.errorOnderwerp)]:[!1,eval('aError["numeriek"].melding.onvoldoendeDecimalen').replace("[errorOnderwerp]","dit veld")]}}else if(isNaN(iNum.replace(".",",")))return void 0===oVraag.mingetal||oVraag.mingetal<0?[!1,aError.numeriek.melding.isNaNNeg]:[!1,eval('aError["numeriek"].melding.isNaN')];return void 0===oVraag.maxgetal&&(oVraag.maxgetal=999999999),void 0!==oVraag.maxgetal&&this.toRekenBedrag(iNum)>oVraag.maxgetal?oVraag.error_maxgetal?[!1,oVraag.error_maxgetal]:[!1,eval('aError["numeriek"].melding.maxgetal').replace("[maxgetal]",oVraag.maxgetal.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))]:(void 0===oVraag.mingetal&&(oVraag.mingetal=-999999999),void 0!==oVraag.mingetal&&this.toRekenBedrag(iNum)<oVraag.mingetal?oVraag.error_mingetal?[!1,oVraag.error_mingetal]:[!1,eval('aError["numeriek"].melding.mingetal').replace("[mingetal]",oVraag.mingetal)]:(isNaN(aNum[0])||""===aNum[0]||(aNum[0]=parseInt(aNum[0])),""===aNum[0]&&(aNum[0]=0),bPunten&&(aNum[0]=this.getalNaarBedrag(aNum[0],!0)),2==aNum.length?isNaN(aNum[0])||isNaN(aNum[1])||(iNum=aNum[0]+","+aNum[1]):iNum=aNum[0],$(oInput).val(iNum),[!0]))},BldGenIah.prototype.NieuwVenster=function(e,t){var a=window.open(e,t);return a.focus(),a},BldGenIah.prototype.getMaanden=function(){let e=new Array;return e[0]=new Array(1,"januari"),e[1]=new Array(2,"februari"),e[2]=new Array(3,"maart"),e[3]=new Array(4,"april"),e[4]=new Array(5,"mei"),e[5]=new Array(6,"juni"),e[6]=new Array(7,"juli"),e[7]=new Array(8,"augustus"),e[8]=new Array(9,"september"),e[9]=new Array(10,"oktober"),e[10]=new Array(11,"november"),e[11]=new Array(12,"december"),e},BldGenIah.prototype.getErrors=function(){return{numeriek:{melding:{isNaN:"U mag alleen cijfers (0-9) invullen in dit veld",isNaNNeg:"U mag alleen cijfers (0-9) en als eerste teken het min-teken (-) invullen in dit veld",isNaN_decimalen:"U mag alleen cijfers (0-9) en één komma invullen in dit veld",decimalen:"U mag niet meer dan [decimalen] decimalen invullen in dit veld",onvoldoendeDecimalen:"U hebt [errorOnderwerp] onjuist ingevuld. Vul 2 cijfers achter de komma in.",maxgetal:"U mag geen getal groter dan [maxgetal] invullen in dit veld",mingetal:"U mag geen getal kleiner dan [mingetal] invullen in dit veld"}}}},BldGenIah.prototype.assArrLength=function(e){for(var t=0,a=0;a<e.length;a++)t++;return t},BldGenIah.prototype.getIconNode=function(e){var t=document.createElement("span");return t.classList.add("icon"),t.setAttribute("aria-hidden","true"),t.innerHTML=e,t},BldGenIah.prototype.copyToClipboard=function(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},BldGenIah.prototype.handleCheckboxOptionAll=function(e,t,a){var i,s=document.getElementsByName(a),n=[],r=!1;for(let e=0;e<s.length;e++){let t=document.getElementById(a+"_"+e);"all"===t.value?(r=!0,i=t):t.checked&&n.push(t)}if(r)if("all"===e.value)if(e.checked)for(let e=0;e<s.length;e++)document.getElementById(a+"_"+e).checked=!0;else for(let e=0;e<s.length;e++)document.getElementById(a+"_"+e).checked=!1;else e.checked?s.length-1===n.length&&(i.checked=!0):i.checked=!1},BldGenIah.prototype.createRepeatingBlock=function(e,t){for(let n=1;n<=e;n++)for(let e=0;e<t.length;e++){var a=t[e],i=a+"-"+n;if(this.iah.aVraag[i]={...this.iah.aVraag[a]},this.iah.aVraag[i].vragen){let e=[];for(let t=0;t<this.iah.aVraag[i].vragen.length;t++)e.push(this.iah.aVraag[i].vragen[t]+"-"+n);this.iah.aVraag[i].vragen=e}if(this.iah.aVraag[i].object){var s=this.iah.aVraag[i].object.split(".");s[2]=s[2]+"."+n,s=s.join("."),this.iah.aVraag[i].object=s}this.iah.aVraag[i].repeatingBlock=!0}},BldGenIah.prototype.getIdWithoutSuffix=function(e=""){return this.iah&&this.iah.suffix&&(e=e.replace(new RegExp(this.iah.suffix),"")),e},BldGenIah.prototype.isToday=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()};