var agolRestHelper=(function(){var n,t="Native Application";var l,b,h,s;var r=function(w,x){$.get(w).done(function(y){if(x){x(y)}}).fail(function(){if(x){x(null)}})};var o=function(w,x){$.post(w).done(function(y){if(x){x(y)}}).fail(function(){if(x){x(null)}})};var j=function(w){if(!w){try{w=JSON.parse(Cookies.get("client_config")).portalUrl}catch(x){}}if(w){n=w;l=w+"/sharing/rest/community/self";b=w+"/sharing/rest/search?";h=w+"/sharing/rest/content/";s=w+"/sharing/rest/portals/self"}};var v=function(x,z){var w={num:"12",start:"1",sortField:"modified",sortOrder:"desc",q:' (typekeywords:"appstudio")  ( type:"'+t+'" )  -type:"Native Application Installer"  -type:"Web Map"  -type:"Web Scene"  -type:"CityEngine Web Scene"  -type:"Feature Service"  -type:"Map Service"  -type:"Image Service"  -type:"KML"  -type:"WMS"  -type:"Feature Collection"  -type:"Feature Collection Template"  -type:"Geodata Service"  -type:"Globe Service"  -type:"Geometry Service"  -type:"Geocoding Service"  -type:"Network Analysis Service"  -type:"Geoprocessing Service"  -type:"Web Mapping Application"  -type:"Mobile Application"  -type:"Code Attachment"  -type:"Operations Dashboard Add In"  -type:"Operation View"  -type:"Symbol Set"  -type:"Color Set"  -type:"Shapefile"  -type:"CSV"  -type:"Service Definition"  -type:"Document Link"  -type:"Microsoft Word"  -type:"Microsoft PowerPoint"  -type:"Microsoft Excel"  -type:"PDF"  -type:"Image"  -type:"Visio Document"  -type:"Map Document"  -type:"Map Package"  -type:"Tile Package"  -type:"ArcPad Package"  -type:"Explorer Map"  -type:"Globe Document"  -type:"Scene Document"  -type:"Published Map"  -type:"Map Template"  -type:"Windows Mobile Package"  -type:"Layer"  -type:"Layer Package"  -type:"Explorer Layer"  -type:"Geoprocessing Package"  -type:"Geoprocessing Sample"  -type:"Locator Package"  -type:"Rule Package"  -type:"Workflow Manager Package"  -type:"Desktop Application"  -type:"Desktop Application Template"  -type:"Desktop Add In"  -type:"Explorer Add In" ',f:"json"};if(x&&(typeof x==="object")){for(var y in x){if(w.hasOwnProperty(y)){if(y!="q"){w[y]=x[y]}else{w[y]+=' (title: "'+x[y]+'") '}}}}r(b+$.param(w),z)};var e=function(w,x){console.log(l);r(l+"?"+$.param({f:"json",token:w}),x)};var u=function(w,x){r(s+"?"+$.param({f:"json",token:w}),x)};var f=function(B,w,y,A){var x={num:"12",start:"1",sortField:"modified",sortOrder:"desc",q:" owner: "+B+'  AND  (  typekeywords:"appstudio" )  ( type:"'+t+'" )  -type:"Native Application Installer"  -type:"Web Map"  -type:"Web Scene"  -type:"CityEngine Web Scene"  -type:"Feature Service"  -type:"Map Service"  -type:"Image Service"  -type:"KML"  -type:"WMS"  -type:"Feature Collection"  -type:"Feature Collection Template"  -type:"Geodata Service"  -type:"Globe Service"  -type:"Geometry Service"  -type:"Geocoding Service"  -type:"Network Analysis Service"  -type:"Geoprocessing Service"  -type:"Web Mapping Application"  -type:"Mobile Application"  -type:"Code Attachment"  -type:"Operations Dashboard Add In"  -type:"Operation View"  -type:"Symbol Set"  -type:"Color Set"  -type:"Shapefile"  -type:"CSV"  -type:"Service Definition"  -type:"Document Link"  -type:"Microsoft Word"  -type:"Microsoft PowerPoint"  -type:"Microsoft Excel"  -type:"PDF"  -type:"Image"  -type:"Visio Document"  -type:"Map Document"  -type:"Map Package"  -type:"Tile Package"  -type:"ArcPad Package"  -type:"Explorer Map"  -type:"Globe Document"  -type:"Scene Document"  -type:"Published Map"  -type:"Map Template"  -type:"Windows Mobile Package"  -type:"Layer"  -type:"Layer Package"  -type:"Explorer Layer"  -type:"Geoprocessing Package"  -type:"Geoprocessing Sample"  -type:"Locator Package"  -type:"Rule Package"  -type:"Workflow Manager Package"  -type:"Desktop Application"  -type:"Desktop Application Template"  -type:"Desktop Add In"  -type:"Explorer Add In" ',f:"json",token:w};if(y&&(typeof y==="object")){for(var z in y){if(x.hasOwnProperty(z)){if(z!="q"){x[z]=y[z]}else{x[z]+=' (title: "'+y[z]+'") '}}}}r(b+$.param(x),A)};var i=function(A,w,y,z){var x={sortField:"modified",sortOrder:"desc",q:"owner: "+A+' AND  ( type:"Native Application Installer" ) ( typekeywords:"app-'+y+'" )',f:"json",token:w};r(b+$.param(x),z)};var m=function(x,w,y){r(h+"groups/"+x+"?"+$.param({f:"json",token:w}),y)};var q=function(A,y,z,w,x,B){o(h+"items/"+A+"/share?"+$.param({f:"json",token:x,groups:y,items:A,everyone:w,org:z}),B)};var d=function(x,y,z,w,B,A,C){r(x+"startTime="+z+"&endTime="+w+"&period="+B+"&groupBy=name&name="+A+"&vars=num&f=json&token="+y,C)};var p=function(y,x,w,z){o(h+"items/"+y+"/unshare?"+$.param({f:"json",token:w,groups:x}),z)};var k=function(z,w,x,y){r(h+"items/"+x+"?"+$.param({f:"json",token:w}),y)};var a=function(A,w,y,x,z){o(h+"users/"+A+"/items/"+y+"/update?"+$.param($.extend(true,{f:"json",token:w},x)),z)};var c=function(A,w,y,x,z){$.ajax({url:h+"users/"+A+"/items/"+y+"/update?"+$.param({f:"json",token:w}),data:x,method:"POST",cache:false,contentType:false,processData:false}).done(function(B){if(z){z(B)}})};j();var g={};g.getPublicAppBuilderItems=function(w,x){v(w,x)};g.getUserInfo=function(w,x){e(w,x)};g.getPortalInfo=function(w,x,y){u(w,x,y)};g.getUserAppBuilderItems=function(z,x,w,y){f(z,x,w,y)};g.getGroupItems=function(x,w,y){m(x,w,y)};g.shareItem=function(A,y,z,w,x,B){q(A,y,z,w,x,B)};g.unshareItem=function(y,x,w,z){p(y,x,w,z)};g.getUserPackages=function(z,w,x,y){i(z,w,x,y)};g.getItemInfo=function(z,w,x,y){k(z,w,x,y)};g.updateItem=function(A,w,y,x,z){a(A,w,y,x,z)};g.uploadItem=function(A,w,y,x,z){c(A,w,y,x,z)};g.getViewUsage=function(x,y,z,w,B,A,C){d(x,y,z,w,B,A,C)};g.getContentUrl=function(){return h};g.getServerUrl=function(){return n};g.setServerUrl=function(w){j(w)};return g}());