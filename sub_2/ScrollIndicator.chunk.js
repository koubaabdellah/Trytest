webpackJsonp([3],{575:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(590);t.default=n.a},590:function(e,t,i){"use strict";var n=i(286),s=i(285),r=i(103),o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var l="[js-hook-scroll-indicator-slider]",a="[js-hook-scroll-indicator-slider-container]",c="[data-scroll-indicator-id]",d="scroll-indicator__arrow",u=d+"--up",h=function(){function ScrollIndicator(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ScrollIndicator),this.element=e,this.sections=[].concat(_toConsumableArray(document.querySelectorAll(c))),this.sliderContainer=document.querySelector(a),this.slider=this.sliderContainer.querySelector(l),this.sliderIsInit=!1,this.currentItem={},this.sliderArrow=this.element.querySelector("."+d),this.scrollUp=!1,this.direction="down",this.sections.length<2||(this.generateSlider(),this.bindEvents())}return o(ScrollIndicator,[{key:"onWindowUpdate",value:function onWindowUpdate(){this.getSectionsPositions(),this.updateActiveSlideItem()}},{key:"getSectionsPositions",value:function getSectionsPositions(){this.positions=this.sections.map(function(e){return v(e)})}},{key:"setScrollDirection",value:function setScrollDirection(){var e=void 0===window.scrollY?window.pageYOffset:window.scrollY;this.direction=this.prevPosition<e?"down":"up",this.prevPosition=e}},{key:"bindEvents",value:function bindEvents(){var e=this;r.a.set([{element:window,event:"scroll",namespace:"ScrolIndicator-Scroll",fn:function fn(){return e.onWindowUpdate()}},{element:window,event:"resize",namespace:"ScrolIndicator-Resize",fn:function fn(){return e.onWindowUpdate()}}]),this.onWindowUpdate()}},{key:"initSlider",value:function initSlider(e,t){this.goToSlide(e,t),this.element.classList.add("scroll-indicator--is-initialized"),this.sliderIsInit=!0}},{key:"updateActiveSlideItem",value:function updateActiveSlideItem(){var e=this,t=p();if(t+s.a.height===Math.max(n.a.scrollHeight,n.a.offsetHeight,n.b.clientHeight,n.b.scrollHeight,n.b.offsetHeight))this.goToSlide(this.slides[this.slides.length-1],this.slides[this.slides.length-1].dataset.labelIndex);else{var i=this.slides.map(function(i,n){return i.hasAttribute("js-hook-scroll-indicator-last")?0:e.positions[n]<=t+s.a.height?1:0}).reduce(function(e,t){return e+t},0);this.sliderIsInit?this.goToSlide(i):this.initSlider(i)}}},{key:"goToSlide",value:function goToSlide(e){if(this.slides[e]){this.slideDimensions=this.slides.reduce(function(e,t){return[].concat(_toConsumableArray(e),[t.getBoundingClientRect().height])||e},[]),this.sliderContainer.style.width=this.slideDimensions[e]+"px";var t=this.slideDimensions.reduce(function(t,i,n){return n<=parseInt(e,10)-1?t+=i:t},0);this.slides[e].classList.add("scroll-indicator__label--active"),this.currentItem.element&&this.currentItem.element.classList&&this.currentItem.element.classList.remove("scroll-indicator__label--active");var i="translate3d(-"+t.toFixed(2)+"px,0,0)";this.slider.style.transform=i,this.slider.style.webkitTransform=i,"content"===this.slides[e].dataset.labelLink?this.sliderArrow.classList.add(u):this.sliderArrow.classList.remove(u),this.element.href="#"+this.slides[e].dataset.labelLink}}},{key:"generateSlider",value:function generateSlider(){this.slider.innerHTML=f(this.sections),this.slides=[].concat(_toConsumableArray(this.slider.children))}},{key:"updateCurrentItem",value:function updateCurrentItem(e,t,i){this.currentItem.id=e,this.currentItem.element=t,this.currentItem.link=i}}]),ScrollIndicator}(),f=function generateSlides(e){return e.reduce(function(e,t,i){return e+m(t.id?t.id:"content",t.dataset.scrollIndicatorId?t.dataset.scrollIndicatorId:"",i)},"")},m=function generateLabel(e,t,i){var n=" ";return"content"===e&&(n=" js-hook-scroll-indicator-last"),'<div data-label-index="'+i+'" data-label-id="'+t+'" data-label-link="'+e+'" class="scroll-indicator__label"'+n+">"+t+"</div>"},p=function getScrollOffset(){return document.body.scrollTop||window.pageYOffset},v=function getElementPosition(e){var t=e,i=window.getComputedStyle(e),n={};n.top=parseInt(i.marginTop,10)||0;var s=0-n.top;do{s+=t.offsetTop||0,t=t.offsetParent}while(t);return s- -100};t.a=h}});