//this file contains core library that is used by all/most pages
function dbg(e){}function replace_langd(e){var e=e||"en",t=$("a[data-langlabel='help']").attr("href");if(t&&t.indexOf("%(langd)s")>=0){var n=t.replace("%(langd)s",e);$("a[data-langlabel='help']").each(function(){$(this).attr("href",n)})}}function setLangCookie(e,t,n){var r="";if(n){var i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3),r="; expires="+i.toUTCString()}var s=window.location.host.indexOf("arcgis.com")>-1?"domain=.arcgis.com":"";document.cookie=e+"="+t+r+"; path=/; SameSite=None;Secure;"+s}function populateGnavLangSelector(e){var t=window.location.pathname.split("/"),n=t.length>3?t[2]:"default";supportedLangs=e[n],$.each(supportedLangs,function(e,n){createAlternateLangElement(n,t,!1)}),createAlternateLangElement("en",t,!0),prefLangCookie=$.cookie("preflang"),globalNavLangCookie=$.cookie("esri#gnav_lang"),globalNavLangCookie&&globalNavLangCookie!=prefLangCookie?setLangCookie("preflang",globalNavLangCookie):prefLangCookie&&!globalNavLangCookie&&setLangCookie("esri#gnav_lang",prefLangCookie)}function createAlternateLangElement(e,t,n){var r=document.createElement("link"),i=n?"x-default":e;t[1].match(/(\/feedback\/)/)||(t[1]=e),r.setAttribute("rel","alternate"),r.setAttribute("hreflang",i),r.setAttribute("href",t.join("/")),document.head.appendChild(r)}String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return typeof e[n]!="undefined"?e[n]:t})}),window.location.pathname.match(/(\/arcgis-online\/|\/workforce\/|\/survey123\/|\/collector\/|\/navigator\/|\/appstudio\/|\/office\/|\/business-analyst\/|\/insights\/|\/explorer\/|\/quickcapture\/|\/dashboards\/|\/experience-builder\/|\/hub\/|\/iot\/|\/arcgis-storymaps\/|\/urban\/|\/tracker\/|\/arcgis-earth\/|\/field-maps\/|\/power-bi\/|\/cityengine\/|\/instant-apps\/|\/pro-intelligence\/|\/geoplanner\/|\/geobim\/|\/excalibur\/|\/mission\/|\/indoors\/|\/sharepoint\/|\/excel\/|\/drone2map\/|\/ips\/|\/web-appbuilder\/|^(\/[a-zA-Z-]{2,5}\/)$)/)&&(!window.location.pathname.match(/(\/gallery\/)/)||window.location.pathname.match(/(\/instant-apps\/)/))&&$.getJSON("/localeSettings.json",function(e){populateGnavLangSelector(e);var t=(document.getElementsByTagName("html")[0].getAttribute("lang")||window.location.pathname.split("/")[1]).toLowerCase();window.location.pathname.match(/(^(\/[a-zA-Z-]{2,5}\/)$)/)?setTimeout(function(){$(".esri-footer-language-dialog .esri-footer-language-dialog-choice option").each(function(){$(this).attr("value").indexOf("/"+t+"/")>=0&&$(this).attr("selected","selected")})},1e3):typeof window.__ESRIGlobalNavLoaded!="undefined"&&(window.__initEsriGlobalNav(),setTimeout(function(){$(".esri-footer-language-dialog .esri-footer-language-dialog-choice option").each(function(){$(this).attr("value").indexOf("/"+t+"/")>=0&&$(this).attr("selected","selected")})},50))}).error(function(e,t,n){console.log("error "+t),console.log("incoming Text "+e.responseText)}),jQuery(document).ready(function(e){var t=window.location;if(!t.pathname.match(/(\/workforce\/|\/maps-for-office\/|\/sharepoint\/|\/dashboards\/|\/collector\/|\/collector-classic\/|\/arcgis-online\/|\/marketplace\/|\/location-analytics\/|\/trust\/|\/maps-for-microstrategy\/|\/maps-for-cognos\/|\/navigator\/|\/open-data\/|\/appstudio\/|\/web-appbuilder\/|\/power-bi\/|\/survey123\/|\/insights\/|\/explorer\/|\/business-analyst\/|\/geoplanner\/|\/arcgis-earth\/|\/hub\/|\/indoors\/|\/streetmap-premium\/|\/experience-builder\/|\/arcgis-storymaps\/|\/urban\/|\/drone2map\/|\/pro-intelligence\/|\/teams\/|\/geobim\/|\/excalibur\/|\/mission\/|\/instant-apps\/|\/excel\/|\/ips\/|\/web-appbuilder\/||\/deep-learning-studio\/|^(\/[a-zA-Z-]{2,5}\/)$)/)){replace_langd();return}var n={};n.cookieJar=function(){return{getItem:function(e){return!e||!this.hasItem(e)?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))},setItem:function(e,t,n,r,i,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return;var o="";if(n)switch(n.constructor){case Number:o=n===Infinity?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+n;break;case String:o="; expires="+n;break;case Date:o="; expires="+n.toGMTString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+(i?"; domain="+i:"")+(r?"; path="+r:"")+"; SameSite=None;Secure;",!0},removeItem:function(e,t,n){return!e||!this.hasItem(e)?!1:(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)}}}(),n.l10n=function(){var t={en:"en","en-us":"en",ar:"ar","ar-dz":"ar","ar-bh":"ar","ar-eg":"ar","ar-iq":"ar","ar-jo":"ar","ar-kw":"ar","ar-lb":"ar","ar-ly":"ar","ar-ma":"ar","ar-om":"ar","ar-qa":"ar","ar-sa":"ar","ar-sy":"ar","ar-tn":"ar","ar-ae":"ar",cs:"cs",da:"da",de:"de","de-at":"de","de-de":"de","de-li":"de","de-lu":"de","de-ch":"de",es:"es","es-us":"es","es-us":"es","es-ar":"es","es-bo":"es","es-cl":"es","es-co":"es","es-cr":"es","es-do":"es","es-ec":"es","es-sv":"es","es-gt":"es","es-hn":"es","es-mx":"es","es-pr":"es","es-es":"es","es-uy":"es","es-ve":"es",et:"et",fi:"fi",fr:"fr","fr-be":"fr","fr-ca":"fr","fr-fr":"fr","fr-lu":"fr","fr-ch":"fr","fr-mc":"fr",he:"he",it:"it","it-it":"it","it-ch":"it",ja:"ja","ja-jp":"ja",ko:"ko","ko-kp":"ko","ko-kr":"ko",lt:"lt",lv:"lv",nl:"nl","nl-be":"nl",no:"no","no-no":"no",pl:"pl","pt-br":"pt-br","pt-pt":"pt-pt",ro:"ro","ro-mo":"ro",ru:"ru","ru-mo":"ru","ru-ru":"ru","ru-md":"ru",sv:"sv","sv-fi":"sv","sv-se":"sv",th:"th",tr:"tr","zh-cn":"zh-cn","zh-mo":"zh-cn","zh-sg":"zh-cn"},r=["en","de","es","fr","ja","ru","zh-cn","ar"],i=["it","ko","pl","pt-br"],s=["cs","et","fi","he","lt","lv","nl","th","tr"],o=["en","de","es","fr","ja","ru","zh-cn","ar","it","ko","pl","pt-br","pt-pt","ro","cs","fi","tr"],u=["en","de","es","fr","ja","ru","zh-cn","zh-hk","zh-tw","ar","it","ko","pl","pt-br"],a=["en","de","fr","ja","ko","zh-cn"],f=["en","de"],l=["en","de","es","fr","ja","ru","zh-cn"],c=["en","de","es","fr","ja","ru","zh-cn","zh-hk","zh-tw","ar","it","ko","pl","pt-br","ro"],h=["en","de","es","fr","ja","ru","zh-cn","zh-hk","zh-tw","ar","it","ko","pl","pt-br"],p=r.concat(["it","ko","pt-br"]),d=["en","de","es","fr","ja","ru","zh-cn","ar","it","ko","pt-br"],v=["en","de","es","fr","ja","ru","zh-cn"],m=["en","de","es","fr","ja","ru","zh-cn","zh-hk","zh-tw","it","ko","pl","pt-br","pt-pt","ro"],g=["en","de","es","fr","it","ja","ko","pt-br","ru","zh-cn","zh-tw"],y=["en","de","fr","ja","pt-br"],b=["en","de","es","fr","ja","ru","zh-cn","ar","it","ko","pl","pt-br"],w=["en","ja","pl","ru"],E=["en","de","es","fr","ja","ru","zh-cn"],S=GLangLabels,x="preflang";return esriAuthCK="esri_auth",{getReferrerLang:function(){var e=document.referrer,t="en";if(e){var n=e.split("/");n.length>3&&(t=n[3],this.isSupportedLang(t)||(t="en"))}return t},getUrlLang:function(){var e=window.location,t=e.pathname,n=t.split("/")[1].toLowerCase();return this.isSupportedLang(n)?n:"en"},isEN:function(e){return e==="en"},isSupportedLang:function(e){return e in S},isPageAvailable:function(e,t){return t==="all"?!0:t==="generic"&&r.concat(i).indexOf(e)>=0?!supportedLangs||supportedLangs&&supportedLangs.indexOf(e)>=0?!0:!1:t==="trust"&&o.indexOf(e)>=0?!0:t==="agol"&&u.indexOf(e)>=0?!0:t==="openData"&&m.indexOf(e)>=0?!0:t==="cognos"&&a.indexOf(e)>=0?!0:t==="micro"&&f.indexOf(e)>=0?!0:t==="marketplacezhtw"&&l.indexOf(e)>=0?!0:t==="marketplaceptpt"&&c.indexOf(e)>=0?!0:t==="marketplacero"&&h.indexOf(e)>=0?!0:t==="navigator"&&p.indexOf(e)>=0?!0:t==="sharepoint"&&d.indexOf(e)>=0?!0:t==="teams"&&v.indexOf(e)>=0?!0:t==="mapsPowerbi"&&g.indexOf(e)>=0?!0:t==="ba"&&y.indexOf(e)>=0?!0:t==="office"&&b.indexOf(e)>=0?!0:t==="arcgisearth"&&b.indexOf(e)>=0?!0:t==="streetmap"&&E.indexOf(e)>=0?!0:!1},getAgolPref:function(){return localStorage.getItem("culture")},getSelectorPref:function(){return n.cookieJar.getItem(x)},setLangPref:function(e){n.cookieJar.setItem(x,e,"","/",".arcgis.com")},getBrowserPref:function(){var e=typeof navigator!="undefined"?(navigator.language||navigator.userLanguage||"").toLowerCase():"en";return t[e]||"en"},calcPrefLang:function(e,t){var n=this.getAgolPref(),r=this.getSelectorPref(),i=this.getBrowserPref();return t=typeof t=="undefined"?"en":t,dbg("calcPrefLang: "+n+"-"+r+"-"+i+"-"+t),r||n||i||t||"en"},setPrefLang:function(e){n.cookieJar.setItem(x,e,"","/",".arcgis.com",!1),document.cookie="esri#gnav_lang="+e+";"+"path=/"},showSelector:function(t,x){var T=r;switch(x){case"all":T=r.concat(i).concat(s);break;case"generic":T=r.concat(i);break;case"trust":T=o;break;case"agol":T=u;break;case"openData":T=m;break;case"cognos":T=a;break;case"micro":T=f;break;case"navigator":T=p;break;case"sharepoint":T=d;break;case"teams":T=v;break;case"marketplacezhtw":T=l;break;case"marketplaceptpt":T=c;break;case"marketplacero":T=h;break;case"mapsPowerbi":T=g;break;case"office":T=b;break;case"ba":T=y;break;case"arcgisearth":T=w;break;case"streetmap":T=E}e('<div class="tablet-hide top-nav-link js-dropdown-toggle"><a data-lang="'+t+'" class="lglink top-nav-dropdown dropdown-btn">'+S[t]+"</a></div>").appendTo(".lang-block");var N=e("<nav/>",{"class":"lgpicker dropdown-menu dropdown-right"});N.appendTo(".lang-block"),e.each(T,function(n,r){var i=e("<a/>",{"class":"lgchoice dropdown-link","data-lang":r,href:"#",text:S[r]});t==r&&i.addClass("is-active"),i.appendTo(N)}),e(".lgchoice").on("click",function(t){t.preventDefault();var r=e(this).attr("data-lang");dbg("lgchoice: "+r),n.l10n.setPrefLang(r);var i=n.l10n.toNewUrl(r);dbg("lgchoice: goto: "+i),window.location.replace(i)})},toLocaleUrl:function(e){var t=window.location,n=t.pathname,r=n.split("/")[1].toLowerCase(),i="";return this.isEN(r)?i=t.href.replace("/en/","/"+e+"/"):i=t.host+"/"+e+t.pathname+t.hash,i},toENUrl:function(){var e=window.location,t=e.pathname,n=t.split("/")[1].toLowerCase(),r="";return this.isSupportedLang(n)?r=e.href.replace("/"+n+"/","/en/"):r=e.host+"/en"+e.pathname+e.hash,r},toNewUrl:function(e){var t=window.location,n=t.pathname,r=n.split("/")[1].toLowerCase(),i="";return this.isSupportedLang(r)?i=t.href.replace("/"+r+"/","/"+e+"/"):this.isEN(e)?i=t.href:i=t.host+"/"+e+t.pathname+t.hash,dbg("toNewUrl: "+i),i},changeLabel:function(t){var n=(window.localeJsonObj||{})[t];n&&e("*[data-langlabel]").each(function(t){var r=e(this),i=n[r.attr("data-langlabel")];(this.tagName==="INPUT"||this.tagName==="input")&&r.val(i),i&&r.html(i)})},hasENPage:function(e){return!0}}}();var r=typeof docConfig!="undefined"?docConfig:{langSelector:"all"};r.langSelector="generic";if(t.pathname.match(/(\/location-analytics\/)/))r.langSelector="all";else if(t.pathname.match(/(\/trust\/)/))r.langSelector="trust";else if(t.pathname.match(/(\/arcgis-online\/)/))r.langSelector="agol";else if(t.pathname.match(/(\/maps-for-cognos\/)/))r.langSelector="cognos";else if(t.pathname.match(/(\/maps-for-microstrategy\/)/))r.langSelector="micro";else if(t.pathname.match(/(\/explorer\/|\/survey123\/|\/collector-classic\/|\/collector\/|\/workforce\/|\/dashboards\/|\/insights\/|\/appstudio\/|\/drone2map\/|\/pro-intelligence\/|\/geoplanner\/|\/marketplace\/|\/geobim\/|\/excalibur\/|\/mission\/|\/instant-apps\/|\/sharepoint\/|\/excel\/|\/ips\/)/))r.langSelector="marketplacezhtw";else if(t.pathname.match(/(\/navigator\/)/))r.langSelector="navigator";else if(t.pathname.match(/(\/teams\/)/))r.langSelector="teams";else if(t.pathname.match(/(\/open-data\/)/))r.langSelector="openData";else if(t.pathname.match(/(\/maps-for-office\/|\/web-appbuilder\/)/))r.langSelector=t.pathname.match(/(\/3.1\/)/)?"generic":"office";else if(t.pathname.match(/(\/power-bi\/)/))r.langSelector="mapsPowerbi";else if(t.pathname.match(/(\/business-analyst\/)/))r.langSelector="ba";else if(t.pathname.match(/(\/arcgis-earth\/)/))r.langSelector="arcgisearth";else if(t.pathname.match(/(\/streetmap-premium\/)/)||t.pathname.match(/(\/hub\/)/)||t.pathname.match(/(\/deep-learning-studio\/)/)||t.pathname.match(/(\/indoors\/)/)||t.pathname.match(/(\/experience-builder\/)/))r.langSelector="streetmap";dbg("start: "+window.location.href),window.location.href.indexOf("lg=en")>0&&n.l10n.setPrefLang("en");if(r.doctype===void 0||r.doctype==="doc"){dbg("help topic");var i=n.l10n.getUrlLang(),s=n.l10n.calcPrefLang(r.langSelector);n.l10n.isPageAvailable(s,r.langSelector)||(s="en"),dbg("help: "+i+"-"+s);if(n.l10n.isEN(i)&&n.l10n.isSupportedLang(s)&&!n.l10n.isEN(s))return window.location=n.l10n.toLocaleUrl(s),!1;replace_langd(i),n.l10n.showSelector(s?s:i,r.langSelector)}});