!function(l){"use strict";var o=function(t,s){this.$element=l(t),this.options=l.extend({},o.DEFAULTS,s),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),l(window).on("resize",l.proxy(this.recalc,this))),this.options.autohide&&!this.options.modal&&l(document).on("click",l.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};o.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0,modal:!1},o.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},o.prototype.calcPlacement=function(){if("auto"===this.options.placement){this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var t=l(window).width()/this.$element.width(),s=l(window).height()/this.$element.height(),i=this.$element;this.placement=s<=t?e("left","right"):e("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")}else this.placement=this.options.placement;function e(t,s){if("auto"===i.css(s))return t;if("auto"===i.css(t))return s;var e=parseInt(i.css(t),10);return parseInt(i.css(s),10)<e?s:t}},o.prototype.opposite=function(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},o.prototype.getCanvasElements=function(){var t=this.options.canvas?l(this.options.canvas):this.$element,s=t.find("*").filter(function(){return"fixed"===l(this).css("position")}).not(this.options.exclude);return t.add(s)},o.prototype.slide=function(t,s,e){if(!l.support.transition){var i={};return i[this.placement]="+="+s,t.animate(i,350,e)}var o=this.placement,n=this.opposite(o);t.each(function(){"auto"!==l(this).css(o)&&l(this).css(o,(parseInt(l(this).css(o),10)||0)+s),"auto"!==l(this).css(n)&&l(this).css(n,(parseInt(l(this).css(n),10)||0)-s)}),this.$element.one(l.support.transition.end,e).emulateTransitionEnd(350)},o.prototype.disableScrolling=function(){var t=l("body").width(),s="padding-right";if(void 0===l("body").data("offcanvas-style")&&l("body").data("offcanvas-style",l("body").attr("style")||""),l("body").css("overflow","hidden"),l("body").width()>t){var e=parseInt(l("body").css(s),10)+l("body").width()-t;setTimeout(function(){l("body").css(s,e)},1)}l("body").on("touchmove.bs",function(t){l(event.target).closest(".offcanvas").length||t.preventDefault()})},o.prototype.enableScrolling=function(){l("body").off("touchmove.bs")},o.prototype.show=function(){if(!this.state){var t=l.Event("show.bs.offcanvas");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var s=this.getCanvasElements(),e=this.placement,i=this.opposite(e),o=this.offset();-1!==s.index(this.$element)&&(l(this.$element).data("offcanvas-style",l(this.$element).attr("style")||""),this.$element.css(e,-1*o),this.$element.css(e)),s.addClass("canvas-sliding").each(function(){void 0===l(this).data("offcanvas-style")&&l(this).data("offcanvas-style",l(this).attr("style")||""),"static"===l(this).css("position")&&l(this).css("position","relative"),"auto"!==l(this).css(e)&&"0px"!==l(this).css(e)||"auto"!==l(this).css(i)&&"0px"!==l(this).css(i)||l(this).css(e,0)}),this.options.disableScrolling&&this.disableScrolling(),this.options.modal&&this.toggleBackdrop();var n=function(){"slide-in"==this.state&&(this.state="slid",s.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout(l.proxy(function(){this.$element.addClass("in"),this.slide(s,o,l.proxy(n,this))},this),1)}}},o.prototype.hide=function(t){if("slid"===this.state){var s=l.Event("hide.bs.offcanvas");if(this.$element.trigger(s),!s.isDefaultPrevented()){this.state="slide-out";var e=l(".canvas-slid"),i=(this.placement,-1*this.offset()),o=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),e.removeClass("canvas-sliding"),e.add(this.$element).add("body").each(function(){l(this).attr("style",l(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};this.options.disableScrolling&&this.enableScrolling(),this.options.modal&&this.toggleBackdrop(),e.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(l.proxy(function(){this.slide(e,i,l.proxy(o,this))},this),1)}}},o.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},o.prototype.toggleBackdrop=function(t){if(t=t||l.noop,"slide-in"==this.state){var s=l.support.transition;this.$backdrop=l('<div class="modal-backdrop fade" />').insertAfter(this.$element),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),this.$backdrop.on("click.bs",l.proxy(this.autohide,this)),s?this.$backdrop.one(l.support.transition.end,t).emulateTransitionEnd(150):t()}else if("slide-out"==this.state&&this.$backdrop){this.$backdrop.removeClass("in"),l("body").off("touchmove.bs");var e=this;l.support.transition?this.$backdrop.one(l.support.transition.end,function(){e.$backdrop.remove(),t(),e.$backdrop=null}).emulateTransitionEnd(150):(this.$backdrop.remove(),this.$backdrop=null,t())}else t&&t()},o.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(l("body"))},o.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var t=this.getCanvasElements();this.$element.removeClass("in"),t.removeClass("canvas-slid"),t.add(this.$element).add("body").each(function(){l(this).attr("style",l(this).data("offcanvas-style")).removeData("offcanvas-style")})}},o.prototype.autohide=function(t){0===l(t.target).closest(this.$element).length&&this.hide()};var t=l.fn.offcanvas;l.fn.offcanvas=function(i){return this.each(function(){var t=l(this),s=t.data("bs.offcanvas"),e=l.extend({},o.DEFAULTS,t.data(),"object"==typeof i&&i);s||t.data("bs.offcanvas",s=new o(this,e)),"string"==typeof i&&s[i]()})},l.fn.offcanvas.Constructor=o,l.fn.offcanvas.noConflict=function(){return l.fn.offcanvas=t,this},l(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(t){var s,e=l(this),i=e.attr("data-target")||t.preventDefault()||(s=e.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""),o=l(i),n=o.data("bs.offcanvas"),a=n?"toggle":e.data();t.stopPropagation(),n?n.toggle():o.offcanvas(a)})}(window.jQuery);