//>>built
require({cache:{"esriAnalyst/widgets/LoginPage/SigninPage":function(){define(["dojo/_base/declare","dojox/html/entities","esriAnalystCore/utils/LocationUtil","esriAnalystX/dijit/_WidgetBase","businessAnalyst/core/GA","businessAnalyst/utils/DomUtil","geoenrichment/utils/ObjectUtil","baUtil/i18n!esriAnalyst/nls/LoginPage>login","esriAnalystX/services/AppConfig","dojo/domReady!"],(function(e,i,n,r,s,t,o,a,l){"use strict";return e(r,{postCreate:function(){Object.assign(this,l.resources.HomePage),this._updatePageContent(),s.sendPageView("/SigninPage")},_updatePageContent:function(){var e=n.getSearchSettings();if(e.error){var i=t.create("div",{class:"esriMapsAnalystLoginErrorContainer"});t.place(i,this.domNode,"replace"),this._renderErrorDisplay(e,i)}else this._redirectSignin()},_renderErrorDisplay:function(e,r){var s,g,c,d=o.clone(e);d.force_login=!0,delete d.error,delete d.msgCode,delete d.disableRelogin,delete d.reloginMessage;var p=n.applySearchObj(d);if("SignIn.InactiveAccount"===e.error||"SignIn.NonOrgAccount"===e.error)s=a.SubscriptionExpiredHeader,g=o.substituteString(a.SubscriptionExpiredMessage,{loginLink:p}),c=!1;else if("SignIn.SuspendedAccount"===e.error)s=a.SubscriptionSuspendedHeader,g=o.substituteString(a.SubscriptionExpiredMessage,{loginLink:p}),c=!1;else if("SignIn.RestrictedAccount"===e.error)s=a.SubscriptionRestrictedHeader,g=o.substituteString(a.SubscriptionExpiredMessage,{loginLink:p}),c=!1;else if("SignIn.CancelledAccount"===e.error)s=a.SubscriptionCancelledHeader,g=o.substituteString(a.SubscriptionExpiredMessage,{loginLink:p}),c=!1;else if("SignIn.Unlicensed"===e.error){s=a.UnlicensedUserHeader;var u="CA"===l.appID?l.appTitle:a.BAWebApp;g=l.onPrem?o.substituteString(a.UnlicensedUserMessageOnPrem,{loginLink:p,appTitle:u,adminProductName:a.Portal}):o.substituteString(a.UnlicensedUserMessage,{loginLink:p,appTitle:u,adminProductName:a.ArcgisOnline,manageLicensesUrl:this.manageLicensesUrl}),c=!1}else if("SignIn.BackEndError"===e.error)s=a.BackEndErrorHeader,g=o.substituteString(a.BackEndErrorMessage,{loginLink:p}),c=!1;else if("SignIn.NoCredits"===e.error)s="&nbsp;",g=o.substituteString(a.UserHasNoCredits,{loginLink:p}),c=!0;else if("Portal.IsReadOnly"===e.error)s="&nbsp;",g=o.substituteString(a.ReadOnlyPortalErrorMessage,{appTitle:l.appTitle}),c=!1;else if(e.msgCode){s="&nbsp;";var b=e.msgCode;"OAUTH_0053"===b&&(b="OAUTH_0021");var S=b+"_"+l.appID;S+=l.onPrem?"_OnPrem":"",g=a[S]||a[b]||a.UnknownOAUTH,c=!e.disableRelogin}else s="&nbsp;",g=i.encode(e.error),c=!e.disableRelogin;var h=t.create("div",{innerHTML:s,class:"esriMapsAnalystLoginErrorHeader"}),f=t.create("p",{innerHTML:g+(c?"<br><br>"+o.substituteString(e.reloginMessage?a["CustomLoginMessage"+e.reloginMessage]:a.LoginLink,{loginLink:p}):""),class:"esriMapsAnalystLoginErrorMessage"});t.place(h,r),t.place(f,r,"last")},_redirectSignin:function(){var e=window.location.href.replace(/#.*$/,""),i=window.location.pathname.split("/").pop(),r=l.arcGISServer,s=n.getSearchSettings(),t=!1;Object.keys(s).length>0&&(s.portal&&(r="https://"+s.portal),s.force_login&&(t=s.force_login)),window.location=r+"/sharing/rest/oauth2/authorize"+n.objToSearchStr({client_id:l.oAuthAppId,redirect_uri:e.replace("login/"+i,"postsignin/"+i),response_type:"token",expiration:20160,locale:dojo.config.locale,force_login:t})}})}))},"*now":function(e){e(['dojo/i18n!*preload*esriBAO/login/nls/login-package*["ar","bs","ca","cs","da","de","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])}}});