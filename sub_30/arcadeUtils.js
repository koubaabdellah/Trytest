// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.24/esri/copyright.txt for details.//>>built
require({cache:{"esri/chunks/arcade":function(){define("require exports ./_rollupPluginBabelHelpers ../arcade/arcadeCompiler ../arcade/arcadeRuntime ../arcade/parser ../arcade/treeAnalysis ../core/has".split(" "),function(C,z,I,B,f,G,E,w){function m(A,L){return!0===L.useAsync||!0===A.isAsync?h(A,L):w("esri-csp-restrictions")?function(O){return f.executeScript(A,O)}:B.compileScript(A,L)}function h(A,L){if(null===V)throw Error("Async Arcade must be enabled for this script");return w("esri-csp-restrictions")?
function(O){return V.executeScript(A,O)}:B.compileScript(A,L,!0)}function q(A){f.extend(A);B.extend(A,"sync");null===V?ba.push(A):(B.extend(A,"async"),V.extend(A))}function c(A,L=[]){return G.parseScript(A,L)}function g(A,L,O=""){return G.validateScript(A,L,O)}function n(A,L,O,Y=""){return G.scriptCheck(A,L,O,Y)}function x(A,L,O=[]){A=G.parseScript(A,O);return p(A,L)}function p(A,L){if(!0===L.useAsync||!0===A.isAsync){if(null===V)throw Error("Async Arcade must be enabled for this script");return V.executeScript(A,
L)}return f.executeScript(A,L)}function u(A,L){return f.referencesMember(A,L)}function F(A,L){return f.referencesFunction(A,L)}function M(A,L){return G.extractFieldLiterals(A)}function D(A){return G.extractExpectedFieldLiterals(A)}function b(A,L=[]){void 0===A.usesGeometry&&E.findScriptDependencies(A,L);return!0===A.usesGeometry}function d(){return la?la:la=k()}function k(){return e.apply(this,arguments)}function e(){e=I._asyncToGenerator(function*(){const [A,L]=yield Promise.all([new Promise((O,
Y)=>C(["../geometry/geometryEngine"],O,Y)),new Promise((O,Y)=>C(["../arcade/functions/geomsync"],O,Y))]);da=!0;L.setGeometryEngine(A);return!0});return e.apply(this,arguments)}function T(){return null!==ia?ia:ia=ea()}function ea(){return W.apply(this,arguments)}function W(){W=I._asyncToGenerator(function*(){yield B.enableAsyncSupport();V=yield new Promise((A,L)=>C(["../arcade/arcadeAsyncRuntime"],A,L));for(const A of ba)V.extend(A),B.extend(A,"async");ba=null;return!0});return W.apply(this,arguments)}
function pa(){return P}function Ta(){return V?!0:!1}function Xa(){return da}function Ma(){return xa?xa:xa=ta()}function ta(){return U.apply(this,arguments)}function U(){U=I._asyncToGenerator(function*(){yield T();const [A,L,O,Y,va]=yield Promise.all([new Promise((Ea,ya)=>C(["../arcade/featureSetUtils"],Ea,ya)),new Promise((Ea,ya)=>C(["../arcade/functions/featuresetbase"],Ea,ya)),new Promise((Ea,ya)=>C(["../arcade/functions/featuresetgeom"],Ea,ya)),new Promise((Ea,ya)=>C(["../arcade/functions/featuresetstats"],
Ea,ya)),new Promise((Ea,ya)=>C(["../arcade/functions/featuresetstring"],Ea,ya))]);Aa=A;V.extend([L,O,Y,va]);B.extend([L,O,Y,va],"async");return P=!0});return U.apply(this,arguments)}function ca(A,L=[]){void 0===A.usesFeatureSet&&E.findScriptDependencies(A,L);return!0===A.usesFeatureSet}function na(A,L=[]){void 0===A.isAsync&&E.findScriptDependencies(A,L);return!0===A.isAsync}function ka(A,L){return ja.apply(this,arguments)}function ja(){ja=I._asyncToGenerator(function*(A,L,O=[],Y=!1){A="string"===
typeof A?c(A):A;const va=[];if(A&&(!1===da&&(b(A)||Y)&&va.push(d()),!1===Ta()&&(!0===A.isAsync||L)&&va.push(T()),!1===P)){if(!(L=ca(A)))a:{if(O)for(const Ea of O)if(u(A,Ea)){L=!0;break a}L=!1}L&&va.push(Ma())}va.length&&(yield Promise.all(va));return!0});return ja.apply(this,arguments)}function ra(A){if(b(A))return!0;A=E.findFunctionCalls(A);let L=!1;for(let O=0;O<A.length;O++)if(Qa.includes(A[O])){L=!0;break}return L}function sa(){return Aa}const Qa="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split(" ");
let P=!1,da=!1,V=null,ba=[],la=null,ia=null,xa=null,Aa=null;const J=Object.freeze(Object.defineProperty({__proto__:null,compileScript:m,extend:q,parseScript:c,validateScript:g,scriptCheck:n,parseAndExecuteScript:x,executeScript:p,referencesMember:u,referencesFunction:F,extractFieldLiterals:M,extractExpectedFieldLiterals:D,scriptUsesGeometryEngine:b,enableGeometrySupport:d,enableGeometrySupportImpl:k,enableAsyncSupport:T,enableAsyncSupportImpl:ea,isFeatureSetSupportEnabled:pa,isAsyncEnabled:Ta,isGeometryEnabled:Xa,
enableFeatureSetSupport:Ma,enableFeatureSetSupportImpl:ta,scriptUsesFeatureSet:ca,scriptIsAsync:na,loadScriptDependencies:ka,scriptTouchesGeometry:ra,featureSetUtils:sa},Symbol.toStringTag,{value:"Module"}));z.arcade=J;z.compileScript=m;z.enableAsyncSupport=T;z.enableAsyncSupportImpl=ea;z.enableFeatureSetSupport=Ma;z.enableFeatureSetSupportImpl=ta;z.enableGeometrySupport=d;z.enableGeometrySupportImpl=k;z.executeScript=p;z.extend=q;z.extractExpectedFieldLiterals=D;z.extractFieldLiterals=M;z.featureSetUtils=
sa;z.isAsyncEnabled=Ta;z.isFeatureSetSupportEnabled=pa;z.isGeometryEnabled=Xa;z.loadScriptDependencies=ka;z.parseAndExecuteScript=x;z.parseScript=c;z.referencesFunction=F;z.referencesMember=u;z.scriptCheck=n;z.scriptIsAsync=na;z.scriptTouchesGeometry=ra;z.scriptUsesFeatureSet=ca;z.scriptUsesGeometryEngine=b;z.validateScript=g})},"esri/arcade/arcadeCompiler":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ../chunks/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(C,z,I,B,f,G,E,w,m,h,q,c,g,n,x,p,u,F,M,D,b,d,k,e,T,ea){function W(t,r,R){try{return R(t,null,r.arguments)}catch(Q){throw Q;}}function pa(t,r){try{switch(r.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return U(t,r);case "VariableDeclaration":var R,Q=[];for(var Z=0;Z<r.declarations.length;Z++)Q.push(pa(t,r.declarations[Z]));return R=Q.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return ta(t,r);case "FunctionDeclaration":{const qa=
r.id.name.toLowerCase(),Ha={isAsync:t.isAsync,spatialReference:t.spatialReference,console:t.console,lrucache:t.lrucache,interceptor:t.interceptor,services:t.services,symbols:t.symbols,mangleMap:t.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:t.depthCounter+1,globalScope:t.globalScope};if(64<Ha.depthCounter)throw Error("Exceeded maximum function depth");Q="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(R=0;R<r.params.length;R++){const Fa=r.params[R].name.toLowerCase(),Ba=ba(t);Ha.localScope._SymbolsMap[Fa]=Ba;Ha.mangleMap[Fa]=Ba;Q+="lscope['"+Ba+"']\x3darguments["+R.toString()+"];\n"}!0===t.isAsync?(Q=Q+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(ta(Ha,r.body)+"\n return lastStatement; "),Q=Q+"});  }, runtimeCtx),"+(r.params.length+")")):Q+=ta(Ha,r.body)+"\n return lastStatement; }, runtimeCtx),"+r.params.length+")";Q+="\n lastStatement \x3d lc.voidOperation; \n";if(void 0!==
t.globalScope[qa])Z="gscope['"+qa+"']\x3d"+Q;else if(void 0!==t.globalScope._SymbolsMap[qa])Z="gscope['"+t.globalScope._SymbolsMap[qa]+"']\x3d"+Q;else{{const Fa=ba(t);t.globalScope._SymbolsMap[qa]=Fa;t.mangleMap[qa]=Fa;Z="gscope['"+Fa+"']\x3d"+Q}}}return Z;case "ReturnStatement":var Sa=null===r.argument?"return lc.voidOperation":"return "+pa(t,r.argument);return Sa;case "IfStatement":{if("AssignmentExpression"===r.test.type||"UpdateExpression"===r.test.type)throw Error(q.nodeErrorMessage(r.test,"RUNTIME",
"CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const qa=pa(t,r.test),Ha=la(t);let Fa="var "+Ha+" \x3d "+qa+";\n if ("+Ha+" \x3d\x3d\x3d true) {\n"+Ma(t,r.consequent)+"\n }\n";Fa=null!==r.alternate?Fa+("else if ("+Ha+"\x3d\x3d\x3dfalse)   { \n"+Ma(t,r.alternate)+"}\n"):Fa+("else if ("+Ha+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");var Oa=Fa+="else { lang.error({type: '"+r.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}return Oa;case "ExpressionStatement":var ha=
"AssignmentExpression"===r.expression.type?"lastStatement \x3d lc.voidOperation; "+pa(t,r.expression)+"; \n ":"lastStatement \x3d "+pa(t,r.expression)+"; ";return ha;case "AssignmentExpression":return Xa(t,r);case "UpdateExpression":return Ta(t,r);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{Q=[];R=0;for(const qa of r.quasis)Q.push(qa.value?JSON.stringify(qa.value.cooked):JSON.stringify("")),!1===qa.tail&&(Q.push(r.expressions[R]?"lang.castString(lang.aCheck("+
pa(t,r.expressions[R])+", 'TemplateLiteral'))":""),R++);var wa="(["+Q.join(",")+"]).join('')"}catch(qa){throw qa;}return wa;case "TemplateElement":return JSON.stringify(r.value?r.value.cooked:"");case "ForStatement":{Q="lastStatement \x3d lc.voidOperation; \n";null!==r.init&&(Q+=pa(t,r.init)+"; ");const qa=la(t),Ha=la(t);Q+="var "+qa+" \x3d true; \n do { ";null!==r.update&&(Q+=" if ("+qa+"\x3d\x3d\x3dfalse) {\n "+pa(t,r.update)+"  \n}\n "+qa+"\x3dfalse; \n");null!==r.test&&(Q+="var "+Ha+" \x3d "+
pa(t,r.test)+"; ",Q+="if ("+Ha+"\x3d\x3d\x3dfalse) { break; } else if ("+Ha+"!\x3d\x3dtrue) { lang.error({type: '"+r.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");Q+=pa(t,r.body);null!==r.update&&(Q+="\n "+pa(t,r.update));var Ga=Q+("\n"+qa+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ")}return Ga;case "ForInStatement":{const qa=la(t),Ha=la(t),Fa=la(t);let Ba="var "+qa+" \x3d "+pa(t,r.right)+";\n";"VariableDeclaration"===r.left.type&&(Ba+=pa(t,r.left));let Ya=
"VariableDeclaration"===r.left.type?r.left.declarations[0].id.name:r.left.name;Ya=Ya.toLowerCase();Q="";null!==t.localScope&&(void 0!==t.localScope[Ya]?Q="lscope['"+Ya+"']":void 0!==t.localScope._SymbolsMap[Ya]&&(Q="lscope['"+t.localScope._SymbolsMap[Ya]+"']"));""===Q&&(void 0!==t.globalScope[Ya]?Q="gscope['"+Ya+"']":void 0!==t.globalScope._SymbolsMap[Ya]&&(Q="gscope['"+t.globalScope._SymbolsMap[Ya]+"']"));Ba=Ba+("if ("+qa+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+
(qa+") || lc.isString("+qa+")) {var ")+(Ha+"\x3d"+qa+".length; \nfor(var ")+(Fa+"\x3d0; "+Fa+"\x3c"+Ha+"; "+Fa+"++) {\n");Ba+=Q+"\x3d"+Fa+";\n";Ba+=pa(t,r.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";Ba+="else if (lc.isImmutableArray("+qa+")) {";Ba=Ba+("var "+Ha+"\x3d"+qa+".length(); \nfor(var ")+(Fa+"\x3d0; "+Fa+"\x3c"+Ha+"; "+Fa+"++) {\n");Ba+=Q+"\x3d"+Fa+";\n";Ba+=pa(t,r.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";Ba+="else if (( "+
qa+" instanceof lang.Dictionary) || ( "+qa+" instanceof lang.Feature)) {";Ba=Ba+("var "+Ha+"\x3d"+qa+".keys(); \nfor(var ")+(Fa+"\x3d0; "+Fa+"\x3c"+Ha+".length; "+Fa+"++) {\n");Ba+=Q+"\x3d"+Ha+"["+Fa+"];\n";Ba+=pa(t,r.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";t.isAsync&&(Ba+="else if (lc.isFeatureSet("+qa+")) {",Ba=Ba+("var "+Ha+"\x3d"+qa+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(Fa+"\x3dlang. graphicToFeature( yield "+Ha+".next(),"+qa+"); "+Fa+"!\x3dnull; "+
Fa+"\x3dlang. graphicToFeature( yield "+Ha+".next(),"+qa+")) {\n")+(Q+"\x3d"+Fa+";\n"),Ba+=pa(t,r.body),Ba+="\n}\n",Ba+=" lastStatement \x3d lc.voidOperation; \n",Ba+=" \n}\n");var Ca=Ba+="else { lastStatement \x3d lc.voidOperation; } \n"}return Ca;case "Identifier":return na(t,r);case "MemberExpression":try{let qa;qa=!0===r.computed?pa(t,r.property):"'"+r.property.name+"'";var mb="lang.member("+pa(t,r.object)+","+qa+")"}catch(qa){throw qa;}return mb;case "Literal":return null===r.value||void 0===
r.value?"null":JSON.stringify(r.value);case "ThisExpression":throw Error(q.nodeErrorMessage(r,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==r.callee.type)throw Error(q.nodeErrorMessage(r,"RUNTIME","ONLYNODESSUPPORTED"));const qa=r.callee.name.toLowerCase();R="";null!==t.localScope&&(void 0!==t.localScope[qa]?R="lscope['"+qa+"']":void 0!==t.localScope._SymbolsMap[qa]&&(R="lscope['"+t.localScope._SymbolsMap[qa]+"']"));""===R&&(void 0!==t.globalScope[qa]?R="gscope['"+qa+"']":
void 0!==t.globalScope._SymbolsMap[qa]&&(R="gscope['"+t.globalScope._SymbolsMap[qa]+"']"));if(""!==R){Z="[";for(wa=0;wa<r.arguments.length;wa++)0<wa&&(Z+=", "),Z+=pa(t,r.arguments[wa]);Z+="]";Q=t.isAsync?"(yield lang.callfunc("+R+","+Z+",runtimeCtx) )":"lang.callfunc("+R+","+Z+",runtimeCtx)"}else throw Error(q.nodeErrorMessage(r,"RUNTIME","NOTFOUND"));}catch(qa){throw qa;}return Q;case "UnaryExpression":try{var nb="lang.unary("+pa(t,r.argument)+",'"+r.operator+"')"}catch(qa){throw qa;}return nb;case "BinaryExpression":try{var ob=
"lang.binary("+pa(t,r.left)+","+pa(t,r.right)+",'"+r.operator+"')"}catch(qa){throw qa;}return ob;case "LogicalExpression":try{if("AssignmentExpression"===r.left.type||"UpdateExpression"===r.left.type)throw Error(q.nodeErrorMessage(r.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===r.right.type||"UpdateExpression"===r.right.type)throw Error(q.nodeErrorMessage(r.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===r.operator||"||"===r.operator)var $a=
"(lang.logicalCheck("+pa(t,r.left)+") "+r.operator+" lang.logicalCheck("+pa(t,r.right)+"))";else throw Error(q.nodeErrorMessage(r,"RUNTIME","ONLYORORAND"));}catch(qa){throw qa;}return $a;case "ConditionalExpression":throw Error(q.nodeErrorMessage(r,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{Q=[];for(R=0;R<r.elements.length;R++)"Literal"===r.elements[R].type?Q.push(pa(t,r.elements[R])):Q.push("lang.aCheck("+pa(t,r.elements[R])+",'ArrayExpression')");var pb="["+Q.join(",")+"]"}catch(qa){throw qa;
}return pb;case "ObjectExpression":var qb;Q="lang.dictionary([";for(R=0;R<r.properties.length;R++){const qa=r.properties[R],Ha="Identifier"===qa.key.type?"'"+qa.key.name+"'":pa(t,qa.key),Fa=pa(t,qa.value);0<R&&(Q+=",");Q+="lang.strCheck("+Ha+",'ObjectExpression'),lang.aCheck("+Fa+", 'ObjectExpression')"}return qb=Q+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(q.nodeErrorMessage(r,"RUNTIME","NOTSUPPORTED"));default:throw Error(q.nodeErrorMessage(r,"RUNTIME","UNREOGNISED"));
}}catch(qa){throw qa;}}function Ta(t,r){let R=null,Q="";if("MemberExpression"===r.argument.type)return R=pa(t,r.argument.object),Q=!0===r.argument.computed?pa(t,r.argument.property):"'"+r.argument.property.name+"'","lang.memberupdate("+R+","+Q+",'"+r.operator+"',"+r.prefix+")";R=r.argument.name.toLowerCase();if(null!==t.localScope){if(void 0!==t.localScope[R])return"lang.update(lscope, '"+R+"','"+r.operator+"',"+r.prefix+")";if(void 0!==t.localScope._SymbolsMap[R])return"lang.update(lscope, '"+t.localScope._SymbolsMap[R]+
"','"+r.operator+"',"+r.prefix+")"}if(void 0!==t.globalScope[R])return"lang.update(gscope, '"+R+"','"+r.operator+"',"+r.prefix+")";if(void 0!==t.globalScope._SymbolsMap[R])return"lang.update(gscope, '"+t.globalScope._SymbolsMap[R]+"','"+r.operator+"',"+r.prefix+")";throw Error("Variable not recognised");}function Xa(t,r){const R=pa(t,r.right);let Q=null,Z="";if("MemberExpression"===r.left.type)return Q=pa(t,r.left.object),Z=!0===r.left.computed?pa(t,r.left.property):"'"+r.left.property.name+"'","lang.assignmember("+
Q+","+Z+",'"+r.operator+"',"+R+")";Q=r.left.name.toLowerCase();if(null!==t.localScope){if(void 0!==t.localScope[Q])return"lscope['"+Q+"']\x3dlang.assign("+R+",'"+r.operator+"', lscope['"+Q+"'])";if(void 0!==t.localScope._SymbolsMap[Q])return"lscope['"+t.localScope._SymbolsMap[Q]+"']\x3dlang.assign("+R+",'"+r.operator+"', lscope['"+t.localScope._SymbolsMap[Q]+"'])"}if(void 0!==t.globalScope[Q])return"gscope['"+Q+"']\x3dlang.assign("+R+",'"+r.operator+"', gscope['"+Q+"'])";if(void 0!==t.globalScope._SymbolsMap[Q])return"gscope['"+
t.globalScope._SymbolsMap[Q]+"']\x3dlang.assign("+R+",'"+r.operator+"', gscope['"+t.globalScope._SymbolsMap[Q]+"'])";throw Error("Variable not recognised");}function Ma(t,r){return"BlockStatement"===r.type?pa(t,r):"ReturnStatement"===r.type||"BreakStatement"===r.type||"ContinueStatement"===r.type?pa(t,r)+"; ":"UpdateExpression"===r.type?"lastStatement \x3d "+pa(t,r)+"; ":"ExpressionStatement"===r.type?pa(t,r):"ObjectExpression"===r.type?"lastStatement \x3d "+pa(t,r)+"; ":pa(t,r)+"; "}function ta(t,
r){let R="";for(let Q=0;Q<r.body.length;Q++)R="ReturnStatement"===r.body[Q].type?R+(pa(t,r.body[Q])+"; \n"):"BreakStatement"===r.body[Q].type?R+(pa(t,r.body[Q])+"; \n"):"ContinueStatement"===r.body[Q].type?R+(pa(t,r.body[Q])+"; \n"):"UpdateExpression"===r.body[Q].type?R+("lastStatement \x3d "+pa(t,r.body[Q])+"; \n"):"ObjectExpression"===r.body[Q].type?R+("lastStatement \x3d "+pa(t,r.body[Q])+"; \n"):R+(pa(t,r.body[Q])+" \n");return R}function U(t,r){let R=null===r.init?null:pa(t,r.init);R===h.voidOperation&&
(R=null);r=r.id.name.toLowerCase();if(null!==t.localScope){if(void 0!==t.localScope[r])return"lscope['"+r+"']\x3d"+R+"; ";if(void 0!==t.localScope._SymbolsMap[r])return"lscope['"+t.localScope._SymbolsMap[r]+"']\x3d"+R+"; ";var Q=ba(t);t.localScope._SymbolsMap[r]=Q;t.mangleMap[r]=Q;return"lscope['"+Q+"']\x3d"+R+"; "}if(void 0!==t.globalScope[r])return"gscope['"+r+"']\x3d"+R+"; ";if(void 0!==t.globalScope._SymbolsMap[r])return"gscope['"+t.globalScope._SymbolsMap[r]+"']\x3d"+R+"; ";Q=ba(t);t.globalScope._SymbolsMap[r]=
Q;t.mangleMap[r]=Q;return"gscope['"+Q+"']\x3d"+R+"; "}function ca(t,r,R){r=r.toLowerCase();switch(r){case "hasz":return t=t.hasZ,void 0===t?!1:t;case "hasm":return t=t.hasM,void 0===t?!1:t;case "spatialreference":return r=t.spatialReference._arcadeCacheId,void 0===r&&(R=!0,Object.freeze&&Object.isFrozen(t.spatialReference)&&(R=!1),R&&(L++,r=t.spatialReference._arcadeCacheId=L)),t=new G({wkt:t.spatialReference.wkt,wkid:t.spatialReference.wkid}),void 0!==r&&(t._arcadeCacheId="SPREF"+r.toString()),t}switch(t.type){case "extent":switch(r){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return t=
t[r],void 0!==t?t:null;case "type":return"Extent"}break;case "polygon":switch(r){case "rings":return r=t.cache._arcadeCacheId,void 0===r&&(L++,r=L,t.cache._arcadeCacheId=r),new w(t.rings,t.spatialReference,!0===t.hasZ,!0===t.hasM,r);case "type":return"Polygon"}break;case "point":switch(r){case "x":case "y":case "z":case "m":return void 0!==t[r]?t[r]:null;case "type":return"Point"}break;case "polyline":switch(r){case "paths":return r=t.cache._arcadeCacheId,void 0===r&&(L++,r=L,t.cache._arcadeCacheId=
r),new w(t.paths,t.spatialReference,!0===t.hasZ,!0===t.hasM,r);case "type":return"Polyline"}break;case "multipoint":switch(r){case "points":return r=t.cache._arcadeCacheId,void 0===r&&(L++,r=L,t.cache._arcadeCacheId=r),new m(t.points,t.spatialReference,!0===t.hasZ,!0===t.hasM,r,1);case "type":return"Multipoint"}}throw Error(q.nodeErrorMessage(R,"RUNTIME","PROPERTYNOTFOUND"));}function na(t,r){try{const R=r.name.toLowerCase();if(null!==t.localScope){if(void 0!==t.localScope[R])return"lscope['"+R+"']";
if(void 0!==t.localScope._SymbolsMap[R])return"lscope['"+t.localScope._SymbolsMap[R]+"']"}if(void 0!==t.globalScope[R])return"gscope['"+R+"']";if(void 0!==t.globalScope._SymbolsMap[R])return"gscope['"+t.globalScope._SymbolsMap[R]+"']";throw Error(q.nodeErrorMessage(r,"RUNTIME","VARIABLENOTFOUND"));}catch(R){throw R;}}function ka(t){return null===t?"":h.isArray(t)||h.isImmutableArray(t)?"Array":h.isDate(t)?"Date":h.isString(t)?"String":h.isBoolean(t)?"Boolean":h.isNumber(t)?"Number":t instanceof f?
"Attachment":t instanceof B?"Portal":t instanceof G?"Dictionary":h.isFeature(t)?"Feature":t instanceof k?"Point":t instanceof e?"Polygon":t instanceof T?"Polyline":t instanceof d?"Multipoint":t instanceof D?"Extent":h.isFunctionParameter(t)?"Function":h.isFeatureSet(t)?"FeatureSet":h.isFeatureSetCollection(t)?"FeatureSetCollection":t===h.voidOperation?"":"number"===typeof t&&isNaN(t)?"Number":"Unrecognised Type"}function ja(t,r,R,Q){try{if(h.equalityTest(r[R],Q))return r[R+1];{const Z=r.length-R;
return 1===Z?r[R]:2===Z?null:3===Z?r[R+2]:ja(t,r,R+2,Q)}}catch(Z){throw Z;}}function ra(t,r,R,Q){try{if(!0===Q)return r[R+1];if(3===r.length-R)return r[R+2];{const Z=r[R+2];if(!1===h.isBoolean(Z))throw Error("WHEN needs boolean test conditions");return ra(t,r,R+2,Z)}}catch(Z){throw Z;}}function sa(t,r){var R=t.length,Q=Math.floor(R/2);if(0===R)return[];if(1===R)return[t[0]];var Z=sa(t.slice(0,Q),r);t=sa(t.slice(Q,R),r);for(R=[];0<Z.length||0<t.length;)0<Z.length&&0<t.length?(Q=r(Z[0],t[0]),isNaN(Q)&&
(Q=0),0>=Q?(R.push(Z[0]),Z=Z.slice(1)):(R.push(t[0]),t=t.slice(1))):0<Z.length?(R.push(Z[0]),Z=Z.slice(1)):0<t.length&&(R.push(t[0]),t=t.slice(1));return r=R}function Qa(t,r){return P.apply(this,arguments)}function P(){P=I._asyncToGenerator(function*(t,r){const R=t.length,Q=Math.floor(R/2);if(0===R)return[];if(1===R)return[t[0]];t=[yield Qa(t.slice(0,Q),r),yield Qa(t.slice(Q,R),r)];return da(t[0],t[1],r,[])});return P.apply(this,arguments)}function da(t,r,R,Q){return V.apply(this,arguments)}function V(){V=
I._asyncToGenerator(function*(t,r,R,Q){if(0<t.length||0<r.length){if(0<t.length&&0<r.length){let Z=yield R(t[0],r[0]);isNaN(Z)&&(Z=1);0>=Z?(Q.push(t[0]),t=t.slice(1)):(Q.push(r[0]),r=r.slice(1));return da(t,r,R,Q)}if(0<t.length)return Q.push(t[0]),t=t.slice(1),da(t,r,R,Q);if(0<r.length)return Q.push(r[0]),r=r.slice(1),da(t,r,R,Q)}else return Q});return V.apply(this,arguments)}function ba(t){t.symbols.symbolCounter++;return"_T"+t.symbols.symbolCounter.toString()}function la(t){t.symbols.symbolCounter++;
return"_Tvar"+t.symbols.symbolCounter.toString()}function ia(t,r,R){const Q={};t||(t={});R||(R={});Q._SymbolsMap={};Q.textformatting=1;Q.infinity=1;Q.pi=1;for(const Z in r)Q[Z]=1;for(const Z in R)Q[Z]=1;for(const Z in t)Q[Z]=1;return Q}function xa(t,r){const R={mode:r,compiled:!0,functions:{},signatures:[],standardFunction:W,standardFunctionAsync:W,evaluateIdentifier:Aa};for(let Q=0;Q<t.length;Q++)t[Q].registerFunctions(R);if("sync"===r){for(const Q in R.functions)O[Q]=new h.NativeFunction(R.functions[Q]),
va.prototype[Q]=O[Q];for(t=0;t<R.signatures.length;t++)q.addFunctionDeclaration(R.signatures[t],"sync")}else{for(const Q in R.functions)Y[Q]=new h.NativeFunction(R.functions[Q]),Ea.prototype[Q]=Y[Q];for(t=0;t<R.signatures.length;t++)q.addFunctionDeclaration(R.signatures[t],"async")}}function Aa(t,r){r=r.name;if("_SymbolsMap"===r)throw Error("Illegal");if(0<t.localStack.length){if("_t"!==r.substr(0,2).toLowerCase()&&void 0!==t.localStack[t.localStack.length-1][r])return t.localStack[t.localStack.length-
1][r];const R=t.mangleMap[r];if(void 0!==R&&void 0!==t.localStack[t.localStack.length-1][R])return t.localStack[t.localStack.length-1][R]}if("_t"!==r.substr(0,2).toLowerCase()&&void 0!==t.globalScope[r]||1===t.globalScope._SymbolsMap[r])return t.globalScope[r];r=t.mangleMap[r];if(void 0!==r)return t.globalScope[r]}function J(t){console.log(t)}function A(){A=I._asyncToGenerator(function*(){const t=yield new Promise((r,R)=>C(["./functions/geomasync"],r,R));xa([t],"async");return!0});return A.apply(this,
arguments)}let L=0;const O={};g.registerFunctions(O,W);F.registerFunctions(O,W);p.registerFunctions(O,W);n.registerFunctions(O,W);u.registerFunctions(O,W);O["typeof"]=function(t,r){return W(t,r,function(R,Q,Z){h.pcCheck(Z,1,1);R=ka(Z[0]);if("Unrecognised Type"===R)throw Error("Unrecognised Type");return R})};O.iif=function(t,r){try{return W(t,r,function(R,Q,Z){h.pcCheck(Z,3,3);if(!1===h.isBoolean(Z[0]))throw Error("IF Function must have a boolean test condition");return Z[0]?Z[1]:Z[2]})}catch(R){throw R;
}};O.decode=function(t,r){try{return W(t,r,function(R,Q,Z){if(2>Z.length)throw Error("Missing Parameters");if(2===Z.length)return Z[1];if(0===(Z.length-1)%2)throw Error("Must have a default value result.");return ja(t,Z,1,Z[0])})}catch(R){throw R;}};O.when=function(t,r){try{return W(t,r,function(R,Q,Z){if(3>Z.length)throw Error("Missing Parameters");if(0===Z.length%2)throw Error("Must have a default value result.");R=Z[0];if(!1===h.isBoolean(R))throw Error("WHEN needs boolean test conditions");return ra(t,
Z,0,R)})}catch(R){throw R;}};O.top=function(t,r){return W(t,r,function(R,Q,Z){h.pcCheck(Z,2,2);if(h.isArray(Z[0]))return h.toNumber(Z[1])>=Z[0].length?Z[0].slice(0):Z[0].slice(0,h.toNumber(Z[1]));if(h.isImmutableArray(Z[0]))return h.toNumber(Z[1])>=Z[0].length()?Z[0].slice(0):Z[0].slice(0,h.toNumber(Z[1]));throw Error("Top cannot accept this parameter type");})};O.first=function(t,r){return W(t,r,function(R,Q,Z){h.pcCheck(Z,1,1);return h.isArray(Z[0])?0===Z[0].length?null:Z[0][0]:h.isImmutableArray(Z[0])?
0===Z[0].length()?null:Z[0].get(0):null})};O.sort=function(t,r){return W(t,r,function(R,Q,Z){h.pcCheck(Z,1,2);Q=Z[0];h.isImmutableArray(Q)&&(Q=Q.toArray());if(!1===h.isArray(Q))throw Error("Illegal Argument");if(1<Z.length){if(!1===h.isFunctionParameter(Z[1]))throw Error("Illegal Argument");var Sa=Q;const wa=function(Ga,Ca){return Ja.callfunc(Z[1],[Ga,Ca],R)};return t.isAsync?Qa(Sa,wa):Sa=sa(Sa,function(Ga,Ca){return wa(Ga,Ca)})}{if(0===Q.length)return[];const wa={};for(var Oa=0;Oa<Q.length;Oa++){var ha=
ka(Q[Oa]);""!==ha&&(wa[ha]=!0)}if(!0===wa.Array||!0===wa.Dictionary||!0===wa.Feature||!0===wa.Point||!0===wa.Polygon||!0===wa.Polyline||!0===wa.Multipoint||!0===wa.Extent||!0===wa.Function)return Q.slice(0);Oa=0;ha="";for(Sa in wa)Oa++,ha=Sa;return Q=1<Oa||"String"===ha?sa(Q,function(Ga,Ca){if(null===Ga||void 0===Ga||Ga===h.voidOperation)return null===Ca||void 0===Ca||Ca===h.voidOperation?0:1;if(null===Ca||void 0===Ca||Ca===h.voidOperation)return-1;Ga=h.toString(Ga);Ca=h.toString(Ca);return Ga<Ca?
-1:Ga===Ca?0:1}):"Number"===ha?sa(Q,function(Ga,Ca){return Ga-Ca}):"Boolean"===ha?sa(Q,function(Ga,Ca){return Ga===Ca?0:Ca?-1:1}):"Date"===ha?sa(Q,function(Ga,Ca){return Ca-Ga}):Q.slice(0)}})};const Y={};for(const t in O)Y[t]=new h.NativeFunction(O[t]);x.registerFunctions(O,W);for(const t in O)O[t]=new h.NativeFunction(O[t]);const va=function(){};va.prototype=O;const Ea=function(){};Ea.prototype=Y;g={fixSpatialReference:h.fixSpatialReference,parseArguments:function(t,r){const R=[];for(let Q=0;Q<r.arguments.length;Q++)R.push(pa(t,
r.arguments[Q]));return R},standardFunction:W};xa([c.ArrayFunctions],"sync");xa([c.ArrayFunctions],"async");let ya=0;const Ja={error(t,r,R){throw Error(q.nodeErrorMessage(t,r,R));},__awaiter(t,r,R,Q){return new Promise((Z,Sa)=>{function Oa(Ga){try{wa(Q.next(Ga))}catch(Ca){Sa(Ca)}}function ha(Ga){try{wa(Q["throw"](Ga))}catch(Ca){Sa(Ca)}}function wa(Ga){Ga.done?Z(Ga.value):Ga.value&&Ga.value.then?Ga.value.then(Oa,ha):(ya++,0===ya%100?setTimeout(()=>{ya=0;Oa(Ga.value)},0):Oa(Ga.value))}wa((Q=Q.apply(t,
r||[])).next())})},functionDepthchecker(t,r){return function(){r.depthCounter++;r.localStack.push([]);if(64<r.depthCounter)throw Error("Exceeded maximum function depth");const R=t.apply(this,arguments);if(M.isPromiseLike(R))return R.then(Q=>{r.depthCounter--;--r.localStack.length;return Q});r.depthCounter--;--r.localStack.length;return R}},castString(t){return h.toString(t)},aCheck(t,r){if(h.isFunctionParameter(t))throw Error(q.nodeErrorMessage({type:r},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return t===
h.voidOperation?null:t},Dictionary:G,Feature:E,dictionary(t){const r={};for(let R=0;R<t.length;R+=2){if(h.isFunctionParameter(t[R+1]))throw Error("Illegal Argument");if(!1===h.isString(t[R]))throw Error("Illegal Argument");r[t[R].toString()]=t[R+1]===h.voidOperation?null:t[R+1]}t=new G(r);t.immutable=!1;return t},strCheck(t){if(!1===h.isString(t))throw Error("Illegal Argument");return t},unary(t,r){if(h.isBoolean(t)){if("!"===r)return!t;if("-"===r)return-1*h.toNumber(t);if("+"===r)return 1*h.toNumber(t);
if("~"===r)return~h.toNumber(t);throw Error(q.nodeErrorMessage({type:"UnaryExpression",operator:r,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===r)return-1*h.toNumber(t);if("+"===r)return 1*h.toNumber(t);if("~"===r)return~h.toNumber(t);throw Error(q.nodeErrorMessage({type:"UnaryExpression",operator:r,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck(t){if(!1===h.isBoolean(t))throw Error(q.nodeErrorMessage({type:"LogicalExpression",operator:null,
left:null,right:null},"RUNTIME","ONLYORORAND"));return t},logical(t,r,R){if(h.isBoolean(t)&&h.isBoolean(r))switch(R){case "||":return t||r;case "\x26\x26":return t&&r}throw Error(q.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary(t,r,R){switch(R){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return h.binaryOperator(h.toNumber(t),h.toNumber(r),R);case "\x3d\x3d":return h.equalityTest(t,r);case "\x3d":return h.equalityTest(t,
r);case "!\x3d":return!h.equalityTest(t,r);case "\x3c":return h.greaterThanLessThan(t,r,R);case "\x3e":return h.greaterThanLessThan(t,r,R);case "\x3c\x3d":return h.greaterThanLessThan(t,r,R);case "\x3e\x3d":return h.greaterThanLessThan(t,r,R);case "+":return h.isString(t)||h.isString(r)?h.toString(t)+h.toString(r):h.toNumber(t)+h.toNumber(r);case "-":return h.toNumber(t)-h.toNumber(r);case "*":return h.toNumber(t)*h.toNumber(r);case "/":return h.toNumber(t)/h.toNumber(r);case "%":return h.toNumber(t)%
h.toNumber(r);default:throw Error(q.nodeErrorMessage({type:"BinaryExpression",operator:R,left:t,right:r},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign(t,r,R){switch(r){case "\x3d":return t===h.voidOperation?null:t;case "/\x3d":return h.toNumber(R)/h.toNumber(t);case "*\x3d":return h.toNumber(R)*h.toNumber(t);case "-\x3d":return h.toNumber(R)-h.toNumber(t);case "+\x3d":return h.isString(R)||h.isString(t)?h.toString(R)+h.toString(t):h.toNumber(R)+h.toNumber(t);case "%\x3d":return h.toNumber(R)%h.toNumber(t);
default:throw Error(q.nodeErrorMessage({type:"AssignmentExpression",operator:r,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update(t,r,R,Q){const Z=h.toNumber(t[r]);t[r]="++"===R?Z+1:Z-1;return!1===Q?Z:"++"===R?Z+1:Z-1},graphicToFeature(t,r){return null===t?null:E.createFromGraphicLikeObject(t.geometry,t.attributes,r)},memberupdate(t,r,R,Q){let Z;if(h.isArray(t))if(h.isNumber(r)){0>r&&(r=t.length+r);if(0>r||r>=t.length)throw Error("Assignment outside of array bounds");Z=h.toNumber(t[r]);
t[r]="++"===R?Z+1:Z-1}else throw Error("Invalid Parameter");else if(t instanceof G){if(!1===h.isString(r))throw Error("Dictionary accessor must be a string");if(!0===t.hasField(r))Z=h.toNumber(t.field(r)),t.setField(r,"++"===R?Z+1:Z-1);else throw Error("Invalid Parameter");}else if(h.isFeature(t)){if(!1===h.isString(r))throw Error("Feature accessor must be a string");if(!0===t.hasField(r))Z=h.toNumber(t.field(r)),t.setField(r,"++"===R?Z+1:Z-1);else throw Error("Invalid Parameter");}else{if(h.isImmutableArray(t))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}return!1===Q?Z:"++"===R?Z+1:Z-1},assignmember(t,r,R,Q){if(h.isArray(t))if(h.isNumber(r)){0>r&&(r=t.length+r);if(0>r||r>t.length)throw Error("Assignment outside of array bounds");if(r===t.length&&"\x3d"!==R)throw Error("Invalid Parameter");t[r]=this.assign(Q,R,t[r])}else throw Error("Invalid Parameter");else if(t instanceof G){if(!1===h.isString(r))throw Error("Dictionary accessor must be a string");if(!0===t.hasField(r))t.setField(r,this.assign(Q,R,t.field(r)));else{if("\x3d"!==
R)throw Error("Invalid Parameter");t.setField(r,this.assign(Q,R,null))}}else if(h.isFeature(t)){if(!1===h.isString(r))throw Error("Feature accessor must be a string");if(!0===t.hasField(r))t.setField(r,this.assign(Q,R,t.field(r)));else{if("\x3d"!==R)throw Error("Invalid Parameter");t.setField(r,this.assign(Q,R,null))}}else{if(h.isImmutableArray(t))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member(t,r){if(null===t)throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,
property:null,computed:null},"RUNTIME","NOTFOUND"));if(t instanceof G||h.isFeature(t)){if(h.isString(r))return t.field(r);throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(t instanceof b){if(h.isString(r))return ca(t,r,"MemberExpression");throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(h.isArray(t)){if(h.isNumber(r)&&isFinite(r)&&Math.floor(r)===
r){0>r&&(r=t.length+r);if(r>=t.length||0>r)throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return t[r]}throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(h.isString(t)){if(h.isNumber(r)&&isFinite(r)&&Math.floor(r)===r){0>r&&(r=t.length+r);if(r>=t.length||0>r)throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","OUTOFBOUNDS"));return t[r]}throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(h.isImmutableArray(t)&&h.isNumber(r)&&isFinite(r)&&Math.floor(r)===r){0>r&&(r=t.length()+r);if(r>=t.length()||0>r)throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return t.get(r)}throw Error(q.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","INVALIDTYPE"));},callfunc(t,r,R){return t instanceof h.NativeFunction?t.fn(R,{arguments:r,preparsed:!0}):t instanceof h.SizzleFunction?t.fn.apply(this,r):t.apply(this,r)}};z.compileScript=function(t,r=null,R=!1){null===r&&(r={vars:{},customfunctions:{}});r={isAsync:R,globalScope:ia(r.vars,R?Y:O,r.customfunctions),localScope:null,mangleMap:{},console:J,lrucache:r.lrucache,interceptor:r.interceptor,services:r.services,symbols:{symbolCounter:0}};t=pa(r,t.body[0].body);""===t&&(t="lc.voidOperation; ");
r={lc:h.lc,lang:Ja,mangles:r.mangleMap,postProcess(Q){Q instanceof h.ReturnResult&&(Q=Q.value);Q instanceof h.ImplicitResult&&(Q=Q.value);Q===h.voidOperation&&(Q=null);if(Q===h.breakResult)throw Error("Cannot return BREAK");if(Q===h.continueResult)throw Error("Cannot return CONTINUE");if(h.isFunctionParameter(Q))throw Error("Cannot return FUNCTION");return Q},prepare(Q,Z){let Sa=Q.spatialReference;if(null===Sa||void 0===Sa)Sa=new ea({wkid:102100});{var Oa=Q.vars;var ha=Q.customfunctions;const wa=
Z?new Ea:new va;Oa||(Oa={});ha||(ha={});const Ga=new G({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});Ga.immutable=!1;wa._SymbolsMap={textformatting:1,infinity:1,pi:1};wa.textformatting=Ga;wa.infinity=Number.POSITIVE_INFINITY;wa.pi=Math.PI;for(const Ca in ha)wa[Ca]=ha[Ca],wa._SymbolsMap[Ca]=1;for(const Ca in Oa)wa._SymbolsMap[Ca]=1,wa[Ca]=Oa[Ca]&&"esri.Graphic"===Oa[Ca].declaredClass?E.createFromGraphic(Oa[Ca]):Oa[Ca];Oa=wa}return{localStack:[],isAsync:Z,
mangleMap:this.mangles,spatialReference:Sa,globalScope:Oa,abortSignal:void 0===Q.abortSignal||null===Q.abortSignal?{aborted:!1}:Q.abortSignal,localScope:null,services:Q.services,console:Q.console?Q.console:J,lrucache:Q.lrucache,interceptor:Q.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",R?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
t+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+t+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(r)};z.enableAsyncSupport=function(){return A.apply(this,arguments)};z.executeScript=function(t,r){return t(r)};z.extend=xa;z.extractExpectedFieldLiterals=
function(t){return q.findExpectedFieldLiterals(t)};z.extractFieldLiterals=function(t,r){return q.findFieldLiterals(t)};z.functionHelper=g;z.referencesFunction=function(t,r){return q.referencesFunction(t,r)};z.referencesMember=function(t,r){return q.referencesMember(t,r)};z.validateScript=function(t,r){return q.validateScript(t,r,"sync")};Object.defineProperties(z,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/ArcadePortal":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./Dictionary"],function(C,z){return function(I){function B(f){var G=I.call(this)||this;G.immutable=!1;G.setField("url",f);G.immutable=!0;return G}C._inheritsLoose(B,I);return B}(z)})},"esri/arcade/Dictionary":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","../chunks/languageUtils","../geometry/Geometry"],function(C,z,I,B){function f(E,w=!1){if(null===E||void 0===E)return null;if(I.isNumber(E))return I.toNumber(E);if(I.isBoolean(E))return I.toBoolean(E);if(I.isString(E))return I.toString(E);
if(I.isDate(E))return I.toDate(E);if(I.isArray(E)){var m=[];for(var h of E)m.push(f(h,w));return m}h=new G;h.immutable=!1;for(m of Object.keys(E)){const q=E[m];void 0!==q&&h.setField(m,f(q,w))}h.immutable=w;return h}let G=function(){function E(m){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=m instanceof E?m.attributes:void 0===m?{}:null===m?{}:m}var w=E.prototype;w.field=function(m){const h=m.toLowerCase(),q=this.attributes[m];if(void 0!==
q)return q;for(const c in this.attributes)if(c.toLowerCase()===h)return this.attributes[c];throw Error("Field not Found : "+m);};w.setField=function(m,h){if(this.immutable)throw Error("Dictionary is Immutable");const q=m.toLowerCase();if(void 0===this.attributes[m])for(const c in this.attributes)if(c.toLowerCase()===q){this.attributes[c]=h;return}this.attributes[m]=h};w.hasField=function(m){const h=m.toLowerCase();if(void 0!==this.attributes[m])return!0;for(const q in this.attributes)if(q.toLowerCase()===
h)return!0;return!1};w.keys=function(){let m=[];for(const h in this.attributes)m.push(h);return m=m.sort()};w.castToText=function(){let m="";for(const h in this.attributes){""!==m&&(m+=",");const q=this.attributes[h];null==q?m+=JSON.stringify(h)+":null":I.isBoolean(q)||I.isNumber(q)||I.isString(q)?m+=JSON.stringify(h)+":"+JSON.stringify(q):q instanceof B?m+=JSON.stringify(h)+":"+I.toStringExplicit(q):q instanceof z?m+=JSON.stringify(h)+":"+I.toStringExplicit(q):q instanceof Array?m+=JSON.stringify(h)+
":"+I.toStringExplicit(q):q instanceof Date?m+=JSON.stringify(h)+":"+JSON.stringify(q):null!==q&&"object"===typeof q&&void 0!==q.castToText&&(m+=JSON.stringify(h)+":"+q.castToText())}return"{"+m+"}"};E.convertObjectToArcadeDictionary=function(m,h=!0){const q=new E;q.immutable=!1;for(const c in m){const g=m[c];void 0!==g&&q.setField(c.toString(),f(g))}q.immutable=h;return q};E.convertJsonToArcade=function(m,h=!1){return f(m,h)};w.castAsJson=function(m=null){const h={};for(let q in this.attributes){const c=
this.attributes[q];void 0!==c&&(null!=m&&m.keyTranslate&&(q=m.keyTranslate(q)),h[q]=I.castAsJson(c,m))}return h};w.castDictionaryValueAsJsonAsync=function(){var m=C._asyncToGenerator(function*(h,q,c,g=null,n){c=yield I.castAsJsonAsync(c,g,n);return h[q]=c});return function(h,q,c){return m.apply(this,arguments)}}();w.castAsJsonAsync=function(){var m=C._asyncToGenerator(function*(h=null,q=null){const c={},g=[];for(let n in this.attributes){const x=this.attributes[n];null!=q&&q.keyTranslate&&(n=q.keyTranslate(n));
void 0!==x&&(I.isSimpleType(x)||x instanceof B||x instanceof Date?c[n]=I.castAsJson(x,q):g.push(this.castDictionaryValueAsJsonAsync(c,n,x,h,q)))}0<g.length&&(yield Promise.all(g));return c});return function(){return m.apply(this,arguments)}}();return E}();return G})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function C(I=[]){this._elements=I}var z=C.prototype;z.length=function(){return this._elements.length};z.get=function(I){return this._elements[I]};z.toArray=function(){const I=
[];for(let B=0;B<this.length();B++)I.push(this.get(B));return I};return C}()})},"esri/chunks/languageUtils":function(){define("exports ./_rollupPluginBabelHelpers ../arcade/FunctionWrapper ../arcade/ImmutableArray ../arcade/ImmutablePathArray ../arcade/ImmutablePointArray ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ./datetime ../core/maybe ../core/number ../geometry/support/coordsUtils ../intl/locale ../arcade/featureset/support/shared".split(" "),
function(C,z,I,B,f,G,E,w,m,h,q,c,g,n,x,p,u,F){function M(v,K,X){return""===K||null===K||void 0===K||K===X||K===X?v:v=v.split(K).join(X)}function D(v){return v instanceof Ba||v instanceof I||v instanceof Ya}function b(v){return k(v)||T(v)||ta(v)||e(v)||null===v||v===ab||"number"===typeof v?!0:!1}function d(v,K){return void 0===v?K:v}function k(v){return"string"===typeof v||v instanceof String}function e(v){return"boolean"===typeof v}function T(v){return"number"===typeof v}function ea(v){return"number"===
typeof v&&isFinite(v)&&Math.floor(v)===v}function W(v){return v instanceof Array}function pa(v){return"esri.arcade.Feature"===(null==v?void 0:v.arcadeDeclaredClass)?!0:!1}function Ta(v){return!0===(v&&v.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===v.declaredRootClass)}function Xa(v){return!0===(v&&v.declaredRootClass&&"esri.arcade.featureSetCollection"===v.declaredRootClass)}function Ma(v){return v instanceof B}function ta(v){return v instanceof Date}function U(v,K,X){if(v.length<
K||v.length>X)throw Error("Function called with wrong number of Parameters");}function ca(v){return 0>v?-Math.round(-v):Math.round(v)}function na(){let v=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(K){const X=(v+16*Math.random())%16|0;v=Math.floor(v/16);return("x"===K?X:X&3|8).toString(16)})}function ka(v,K){if(!1===isNaN(v)){if(void 0===K||null===K||""===K)return v.toString();K=M(K,"\u2030","");K=M(K,"\u00a4","");return x.format(v,{pattern:K})}return v.toString()}
function ja(v,K){v=g.DateTime.fromJSDate(v);return void 0===K||null===K||""===K?v.toISO({suppressMilliseconds:!0}):v.toFormat(ra(K),{locale:u.getLocale(),numberingSystem:"latn"})}function ra(v){v=v.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");let K="";const X=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const ma of v.match(X))switch(ma){case "D":K+=
"d";break;case "DD":K+="dd";break;case "DDD":K+="o";break;case "d":K+="c";break;case "ddd":K+="ccc";break;case "dddd":K+="cccc";break;case "M":K+="L";break;case "MM":K+="LL";break;case "MMM":K+="LLL";break;case "MMMM":K+="LLLL";break;case "YY":K+="yy";break;case "Y":case "YYYY":K+="yyyy";break;case "Q":K+="q";break;case "Z":K+="ZZ";break;case "ZZ":K+="ZZZ";break;case "S":K+="'S'";break;case "SS":K+="'SS'";break;case "SSS":K+="u";break;case "A":case "a":K+="a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":case "X":case "x":K+=
ma;break;default:K=2<=ma.length&&"["===ma.slice(0,1)&&"]"===ma.slice(-1)?K+`'${ma.slice(1,-1)}'`:K+`'${ma}'`}return K}function sa(v,K,X){switch(X){case "\x3e":return v>K;case "\x3c":return v<K;case "\x3e\x3d":return v>=K;case "\x3c\x3d":return v<=K}return!1}function Qa(v,K,X){if(null===v){if(null===K||K===ab)return sa(null,null,X);if(T(K))return sa(0,K,X);if(k(K)||e(K))return sa(0,ia(K),X);if(ta(K))return sa(0,K.getTime(),X)}if(v===ab){if(null===K||K===ab)return sa(null,null,X);if(T(K))return sa(0,
K,X);if(k(K)||e(K))return sa(0,ia(K),X);if(ta(K))return sa(0,K.getTime(),X)}else if(T(v)){if(T(K))return sa(v,K,X);if(e(K))return sa(v,ia(K),X);if(null===K||K===ab)return sa(v,0,X);if(k(K))return sa(v,ia(K),X);if(ta(K))return sa(v,K.getTime(),X)}else if(k(v)){if(k(K))return sa(da(v),da(K),X);if(ta(K))return sa(ia(v),K.getTime(),X);if(T(K))return sa(ia(v),K,X);if(null===K||K===ab)return sa(ia(v),0,X);if(e(K))return sa(ia(v),ia(K),X)}else if(ta(v)){if(ta(K))return sa(v,K,X);if(null===K||K===ab)return sa(v.getTime(),
0,X);if(T(K))return sa(v.getTime(),K,X);if(e(K)||k(K))return sa(v.getTime(),ia(K),X)}else if(e(v)){if(e(K))return sa(v,K,X);if(T(K))return sa(ia(v),ia(K),X);if(ta(K))return sa(ia(v),K.getTime(),X);if(null===K||K===ab)return sa(ia(v),0,X);if(k(K))return sa(ia(v),ia(K),X)}return!P(v,K)||"\x3c\x3d"!==X&&"\x3e\x3d"!==X?!1:!0}function P(v,K){if(v===K||null===v&&K===ab||null===K&&v===ab)return!0;if(ta(v)&&ta(K))return v.getTime()===K.getTime();if(v instanceof f||v instanceof G)return v.equalityTest(K);
if(v instanceof h&&K instanceof h){const X=v.cache._arcadeCacheId,ma=K.cache._arcadeCacheId;if(void 0!==X&&null!==X)return X===ma}return void 0!==v&&void 0!==K&&null!==v&&null!==K&&"object"===typeof v&&"object"===typeof K&&(v._arcadeCacheId===K._arcadeCacheId&&void 0!==v._arcadeCacheId&&null!==v._arcadeCacheId||v._underlyingGraphic===K._underlyingGraphic&&void 0!==v._underlyingGraphic&&null!==v._underlyingGraphic)?!0:!1}function da(v,K){if(k(v))return v;if(null===v)return"";if(T(v))return ka(v,K);
if(e(v))return v.toString();if(ta(v))return ja(v,K);if(v instanceof w)return JSON.stringify(v.toJSON());if(W(v)){K=[];for(var X=0;X<v.length;X++)K[X]=la(v[X]);return"["+K.join(",")+"]"}if(v instanceof B){K=[];for(X=0;X<v.length();X++)K[X]=la(v.get(X));return"["+K.join(",")+"]"}return null!==v&&"object"===typeof v&&void 0!==v.castToText?v.castToText():D(v)?"object, Function":""}function V(v){const K=[];if(!1===W(v))return null;if(v instanceof B){for(var X=0;X<v.length();X++)K[X]=ia(v.get(X));return K}for(X=
0;X<v.length;X++)K[X]=ia(v[X]);return K}function ba(v,K){if(k(v))return v;if(null===v)return"";if(T(v))return ka(v,K);if(e(v))return v.toString();if(ta(v))return ja(v,K);if(v instanceof w)return v instanceof E?'{"xmin":'+v.xmin.toString()+',"ymin":'+v.ymin.toString()+","+(v.hasZ?'"zmin":'+v.zmin.toString()+",":"")+(v.hasM?'"mmin":'+v.mmin.toString()+",":"")+'"xmax":'+v.xmax.toString()+',"ymax":'+v.ymax.toString()+","+(v.hasZ?'"zmax":'+v.zmax.toString()+",":"")+(v.hasM?'"mmax":'+v.mmax.toString()+
",":"")+'"spatialReference":'+Ja(v.spatialReference)+"}":Ja(v.toJSON(),(ma,oa)=>ma.key===oa.key?0:"spatialReference"===ma.key?1:"spatialReference"===oa.key||ma.key<oa.key?-1:ma.key>oa.key?1:0);if(W(v)){K=[];for(var X=0;X<v.length;X++)K[X]=la(v[X]);return"["+K.join(",")+"]"}if(v instanceof B){K=[];for(X=0;X<v.length();X++)K[X]=la(v.get(X));return"["+K.join(",")+"]"}return null!==v&&"object"===typeof v&&void 0!==v.castToText?v.castToText():D(v)?"object, Function":""}function la(v){return null===v?"null":
e(v)||T(v)||k(v)?JSON.stringify(v):v instanceof w||v instanceof B||v instanceof Array?ba(v):v instanceof Date?JSON.stringify(ja(v,"")):null!==v&&"object"===typeof v&&void 0!==v.castToText?v.castToText():"null"}function ia(v,K){return T(v)?v:null===v||""===v?0:ta(v)?NaN:e(v)?v?1:0:W(v)||""===v||void 0===v?NaN:void 0!==K&&k(v)?(K=M(K,"\u2030",""),K=M(K,"\u00a4",""),x.parse(v,{pattern:K})):v===ab?0:Number(v)}function xa(v){return ta(v)?v:k(v)&&(v=J(v))?v.toJSDate():null}function Aa(v){return ta(v)?g.DateTime.fromJSDate(v):
k(v)?J(v):null}function J(v){const K=/ (\d\d)/;let X=g.DateTime.fromISO(v);return X.isValid||K.test(v)&&(v=v.replace(K,"T$1"),X=g.DateTime.fromISO(v),X.isValid)?X:null}function A(v){return e(v)?v:k(v)?(v=v.toLowerCase(),"true"===v?!0:!1):T(v)?0===v||isNaN(v)?!1:!0:!1}function L(v,K){if(n.isNone(v))return null;if(null===v.spatialReference||void 0===v.spatialReference)v.spatialReference=K;return v}function O(v){if(null===v)return null;if(v instanceof h)return"NaN"===v.x||null===v.x||isNaN(v.x)?null:
v;if(v instanceof q){if(0===v.rings.length)return null;for(const K of v.rings)if(0<K.length)return v;return null}if(v instanceof c){if(0===v.paths.length)return null;for(const K of v.paths)if(0<K.length)return v;return null}return v instanceof m?0===v.points.length?null:v:v instanceof E?"NaN"===v.xmin||null===v.xmin||isNaN(v.xmin)?null:v:null}function Y(v,K){if(!v||!v.domain)return K;let X=null;if("string"===v.field.type||"esriFieldTypeString"===v.field.type)K=da(K);else{if(null===K||void 0===K)return null;
if(""===K)return K;K=ia(K)}for(let ma=0;ma<v.domain.codedValues.length;ma++){const oa=v.domain.codedValues[ma];oa.code===K&&(X=oa)}return null===X?K:X.name}function va(v,K){if(!v||!v.domain)return K;let X=null;K=da(K);for(let ma=0;ma<v.domain.codedValues.length;ma++){const oa=v.domain.codedValues[ma];oa.name===K&&(X=oa)}return null===X?K:X.code}function Ea(v,K,X=null,ma=null){if(!K||!K.fields)return null;let oa=null;for(let bb=0;bb<K.fields.length;bb++){const Za=K.fields[bb];Za.name.toLowerCase()===
v.toString().toLowerCase()&&(oa=Za)}if(null===oa)throw Error("Field not found");let Ka,Pa;null===ma&&X&&K.typeIdField&&(ma=X.hasField(K.typeIdField)?X.field(K.typeIdField):null);null!==ma&&void 0!==ma&&K.types.some(function(bb){return bb.id===ma?((Ka=bb.domains&&bb.domains[oa.name])&&"inherited"===Ka.type&&(Ka=ya(oa.name,K),Pa=!0),!0):!1});Pa||Ka||(Ka=ya(v,K));return{field:oa,domain:Ka}}function ya(v,K){let X;K.fields.some(function(ma){ma.name.toLowerCase()===v.toLowerCase()&&(X=ma.domain);return!!X});
return X}function Ja(v,K){K||(K={});"function"===typeof K&&(K={cmp:K});const X="boolean"===typeof K.cycles?K.cycles:!1,ma=K.cmp&&function(Ka){return function(Pa){return function(bb,Za){return Ka({key:bb,value:Pa[bb]},{key:Za,value:Pa[Za]})}}}(K.cmp),oa=[];return function bb(Pa){Pa&&Pa.toJSON&&"function"===typeof Pa.toJSON&&(Pa=Pa.toJSON());if(void 0!==Pa){if("number"===typeof Pa)return isFinite(Pa)?""+Pa:"null";if("object"!==typeof Pa)return JSON.stringify(Pa);var Za;if(Array.isArray(Pa)){var cb=
"[";for(Za=0;Za<Pa.length;Za++)Za&&(cb+=","),cb+=bb(Pa[Za])||"null";return cb+"]"}if(null===Pa)return"null";if(oa.includes(Pa)){if(X)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var ib=oa.push(Pa)-1,Cb=Object.keys(Pa).sort(ma&&ma(Pa));cb="";for(Za=0;Za<Cb.length;Za++){const Db=Cb[Za],Eb=bb(Pa[Db]);Eb&&(cb&&(cb+=","),cb+=JSON.stringify(Db)+":"+Eb)}oa.splice(ib,1);return"{"+cb+"}"}}(v)}function t(v){if(null===v)return null;const K=[];for(const X of v)X&&
X.arcadeDeclaredClass&&"esri.arcade.Feature"===X.arcadeDeclaredClass?K.push(X.geometry()):K.push(X);return K}function r(v,K){if(K instanceof h)v.push(K.hasZ?K.hasM?[K.x,K.y,K.z,K.m]:[K.x,K.y,K.z]:[K.x,K.y]);else throw Error("Invalid Argument");}function R(v,K){if(W(v)||Ma(v)){let X=!1,ma=!1,oa=[];if(W(v)){for(const Ka of v)r(oa,Ka);0<oa.length&&(K=v[0].spatialReference,X=v[0].hasZ,ma=v[0].hasM)}else if(v instanceof G)oa=v._elements,0<oa.length&&(X=v._hasZ,ma=v._hasM,K=v.get(0).spatialReference);else if(Ma(v)){for(const Ka of v.toArray())r(oa,
Ka);0<oa.length&&(K=v.get(0).spatialReference,X=!0===v.get(0).hasZ,ma=!0===v.get(0).hasM)}else throw Error("Invalid Argument");if(0===oa.length)return null;!1===p.isClockwise(oa,ma,X)&&(oa=oa.slice(0).reverse());return new q({rings:[oa],spatialReference:K,hasZ:X,hasM:ma})}return v}function Q(v,K){if(W(v)||Ma(v)){let X=!1,ma=!1,oa=[];if(W(v)){for(const Ka of v)r(oa,Ka);0<oa.length&&(K=v[0].spatialReference,X=!0===v[0].hasZ,ma=!0===v[0].hasM)}else if(v instanceof G)oa=v._elements,0<oa.length&&(X=v._hasZ,
ma=v._hasM,K=v.get(0).spatialReference);else if(Ma(v)){for(const Ka of v.toArray())r(oa,Ka);0<oa.length&&(K=v.get(0).spatialReference,X=!0===v.get(0).hasZ,ma=!0===v.get(0).hasM)}return 0===oa.length?null:new c({paths:[oa],spatialReference:K,hasZ:X,hasM:ma})}return v}function Z(v,K){if(W(v)||Ma(v)){let X=!1,ma=!1,oa=[];if(W(v)){for(const Ka of v)r(oa,Ka);0<oa.length&&(K=v[0].spatialReference,X=!0===v[0].hasZ,ma=!0===v[0].hasM)}else if(v instanceof G)oa=v._elements,0<oa.length&&(X=v._hasZ,ma=v._hasM,
K=v.get(0).spatialReference);else if(Ma(v)){for(const Ka of v.toArray())r(oa,Ka);0<oa.length&&(K=v.get(0).spatialReference,X=!0===v.get(0).hasZ,ma=!0===v.get(0).hasM)}return 0===oa.length?null:new m({points:oa,spatialReference:K,hasZ:X,hasM:ma})}return v}function Sa(v,K=!1){const X=[];if(null===v)return X;if(!0===W(v)){for(var ma=0;ma<v.length;ma++){var oa=da(v[ma]);""===oa&&!0!==K||X.push(oa)}return X}if(v instanceof B){for(ma=0;ma<v.length();ma++)oa=da(v.get(ma)),""===oa&&!0!==K||X.push(oa);return X}return b(v)?
(v=da(v),""===v&&!0!==K||X.push(v),X):[]}function Oa(v){ub++;return 0===ub%100?(ub=0,new Promise(K=>{setTimeout(()=>{K(v)},0)})):v}function ha(v,K,X){switch(X){case "\x26":return v&K;case "|":return v|K;case "^":return v^K;case "\x3c\x3c":return v<<K;case "\x3e\x3e":return v>>K;case "\x3e\x3e\x3e":return v>>>K}}function wa(v,K=null){if(null!=v){if(e(v)||T(v)||k(v))return v;if(v instanceof w)return!0===(null==K?void 0:K.keepGeometryType)?v:v.toJSON();if(v instanceof B)return v.toArray().map(X=>wa(X,
K));if(v instanceof Array)return v.map(X=>wa(X,K));if(v instanceof Date)return v;if(null!==v&&"object"===typeof v&&void 0!==v.castAsJson)return v.castAsJson(K)}return null}function Ga(v,K,X,ma,oa){return Ca.apply(this,arguments)}function Ca(){Ca=z._asyncToGenerator(function*(v,K,X,ma,oa){v=yield mb(v,K,X);oa[ma]=v});return Ca.apply(this,arguments)}function mb(v){return nb.apply(this,arguments)}function nb(){nb=z._asyncToGenerator(function*(v,K=null,X=null){v instanceof B&&(v=v.toArray());if(null!=
v){if(b(v)||v instanceof w||v instanceof Date)return wa(v,X);if(v instanceof Array){const ma=[],oa=[];for(const Ka of v)null===Ka||b(Ka)||Ka instanceof w||Ka instanceof Date?oa.push(wa(Ka,X)):(oa.push(null),ma.push(Ga(Ka,K,X,oa.length-1,oa)));0<ma.length&&(yield Promise.all(ma));return oa}if(null!==v&&"object"===typeof v&&void 0!==v.castAsJsonAsync)return v.castAsJsonAsync(K,X)}return null});return nb.apply(this,arguments)}function ob(v,K,X){const ma=v.fullSchema();return null!==ma&&ma.fields?Ea(K,
ma,v,X):null}function $a(v){v=v.fullSchema();return null!==v&&v.fields?v.typeIdField?{subtypeField:v.typeIdField,subtypes:v.types?v.types.map(K=>({name:K.name,code:K.id})):[]}:null:null}function pb(v,K,X,ma){const oa=v.fullSchema();if(null===oa||!oa.fields)return null;ma=Ea(K,oa,v,ma);if(void 0===X)try{X=v.field(K)}catch(Ka){return null}return Y(ma,X)}function qb(v,K,X,ma){const oa=v.fullSchema();if(null===oa||!oa.fields)return null;if(void 0===X){try{X=v.field(K)}catch(Ka){return null}return X}v=
Ea(K,oa,v,ma);return va(v,X)}function qa(v){v=v.fullSchema();if(null===v||!v.fields)return null;const K=[];for(const X of v.fields)K.push(F.esriFieldToJson(X));return{objectIdField:v.objectIdField,globalIdField:v.globalIdField,geometryType:void 0===F.layerGeometryEsriRestConstants[v.geometryType]?"":F.layerGeometryEsriRestConstants[v.geometryType],fields:K}}let Ha=function(v){this.value=v},Fa=function(v){this.value=v},Ba=function(v){this.fn=v},Ya=function(v,K){this.paramCount=K;this.fn=v};const xb=
Ba,rb=Ya,ab={type:"VOID"},jb={type:"BREAK"},yb={type:"CONTINUE"};let ub=0;const vb=Object.freeze(Object.defineProperty({__proto__:null,ReturnResultE:Ha,ImplicitResultE:Fa,NativeFunctionE:Ba,SizzleFunctionE:Ya,NativeFunction:xb,ImplicitResult:Fa,ReturnResult:Ha,SizzleFunction:rb,voidOperation:ab,breakResult:jb,continueResult:yb,multiReplace:M,isFunctionParameter:D,isSimpleType:b,defaultUndefined:d,isString:k,isBoolean:e,isNumber:T,isInteger:ea,isArray:W,isFeature:pa,isFeatureSet:Ta,isFeatureSetCollection:Xa,
isImmutableArray:Ma,isDate:ta,pcCheck:U,absRound:ca,generateUUID:na,formatNumber:ka,formatDate:ja,standardiseDateFormat:ra,greaterThanLessThan:Qa,equalityTest:P,toString:da,toNumberArray:V,toStringExplicit:ba,toNumber:ia,toDate:xa,toDateTime:Aa,toBoolean:A,fixSpatialReference:L,fixNullGeometry:O,getDomainValue:Y,getDomainCode:va,getDomain:Ea,stableStringify:Ja,autoCastFeatureToGeometry:t,autoCastArrayOfPointsToPolygon:R,autoCastArrayOfPointsToPolyline:Q,autoCastArrayOfPointsToMultiPoint:Z,toStringArray:Sa,
tick:Oa,binaryOperator:ha,castAsJson:wa,castAsJsonAsync:mb,featureFullDomain:ob,featureSubtypes:$a,featureDomainValueLookup:pb,featureDomainCodeLookup:qb,featureSchema:qa},Symbol.toStringTag,{value:"Module"}));C.ImplicitResult=Fa;C.ImplicitResultE=Fa;C.NativeFunction=xb;C.NativeFunctionE=Ba;C.ReturnResult=Ha;C.ReturnResultE=Ha;C.SizzleFunction=rb;C.SizzleFunctionE=Ya;C.absRound=ca;C.autoCastArrayOfPointsToMultiPoint=Z;C.autoCastArrayOfPointsToPolygon=R;C.autoCastArrayOfPointsToPolyline=Q;C.autoCastFeatureToGeometry=
t;C.binaryOperator=ha;C.breakResult=jb;C.castAsJson=wa;C.castAsJsonAsync=mb;C.continueResult=yb;C.defaultUndefined=d;C.equalityTest=P;C.featureDomainCodeLookup=qb;C.featureDomainValueLookup=pb;C.featureFullDomain=ob;C.featureSchema=qa;C.featureSubtypes=$a;C.fixNullGeometry=O;C.fixSpatialReference=L;C.formatDate=ja;C.formatNumber=ka;C.generateUUID=na;C.getDomain=Ea;C.getDomainCode=va;C.getDomainValue=Y;C.greaterThanLessThan=Qa;C.isArray=W;C.isBoolean=e;C.isDate=ta;C.isFeature=pa;C.isFeatureSet=Ta;
C.isFeatureSetCollection=Xa;C.isFunctionParameter=D;C.isImmutableArray=Ma;C.isInteger=ea;C.isNumber=T;C.isSimpleType=b;C.isString=k;C.lc=vb;C.multiReplace=M;C.pcCheck=U;C.stableStringify=Ja;C.standardiseDateFormat=ra;C.tick=Oa;C.toBoolean=A;C.toDate=xa;C.toDateTime=Aa;C.toNumber=ia;C.toNumberArray=V;C.toString=da;C.toStringArray=Sa;C.toStringExplicit=ba;C.voidOperation=ab})},"esri/arcade/FunctionWrapper":function(){define(function(){return function(C,z){this.context=this.definition=null;this.definition=
C;this.context=z}})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","./ImmutablePointArray"],function(C,z,I){return function(B){function f(E,w,m,h,q){E=B.call(this,E)||this;E._lazyPath=[];E._hasZ=!1;E._hasM=!1;E._hasZ=m;E._hasM=h;E._spRef=w;E._cacheId=q;return E}C._inheritsLoose(f,B);var G=f.prototype;G.get=function(E){if(void 0===this._lazyPath[E]){const w=this._elements[E];if(void 0===w)return;this._lazyPath[E]=new I(w,this._spRef,this._hasZ,
this._hasM,this._cacheId,E)}return this._lazyPath[E]};G.equalityTest=function(E){return E===this?!0:null===E||!1===E instanceof f?!1:E.getUniqueHash()===this.getUniqueHash()};G.getUniqueHash=function(){return this._cacheId.toString()};return f}(z)})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","../geometry/Point"],function(C,z,I){return function(B){function f(E,w,m,h,q,c){E=B.call(this,E)||this;E._lazyPt=[];E._hasZ=!1;E._hasM=!1;E._spRef=
w;E._hasZ=m;E._hasM=h;E._cacheId=q;E._partId=c;return E}C._inheritsLoose(f,B);var G=f.prototype;G.get=function(E){if(void 0===this._lazyPt[E]){const w=this._elements[E];if(void 0===w)return;const m=this._hasZ,h=this._hasM;let q=null;q=m&&!h?new I(w[0],w[1],w[2],void 0,this._spRef):h&&!m?new I(w[0],w[1],void 0,w[2],this._spRef):m&&h?new I(w[0],w[1],w[2],w[3],this._spRef):new I(w[0],w[1],this._spRef);q.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+E.toString();this._lazyPt[E]=
q}return this._lazyPt[E]};G.equalityTest=function(E){return E===this?!0:null===E||!1===E instanceof f?!1:E.getUniqueHash()===this.getUniqueHash()};G.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};return f}(z)})},"esri/chunks/datetime":function(){define(["exports"],function(C){function z(a){return"undefined"===typeof a}function I(a){return"number"===typeof a}function B(a){return"number"===typeof a&&0===a%1}function f(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(a){return!1}}
function G(a,l,y){if(0!==a.length)return a.reduce((H,N)=>{N=[l(N),N];return H?y(H[0],N[0])===H[0]?H:N:N},null)[1]}function E(a,l){return l.reduce((y,H)=>{y[H]=a[H];return y},{})}function w(a,l){return Object.prototype.hasOwnProperty.call(a,l)}function m(a,l,y){return B(a)&&a>=l&&a<=y}function h(a,l=2){return 0>a?"-"+(""+-a).padStart(l,"0"):(""+a).padStart(l,"0")}function q(a){if(!z(a)&&null!==a&&""!==a)return parseInt(a,10)}function c(a){if(!z(a)&&null!==a&&""!==a)return parseFloat(a)}function g(a){if(!z(a)&&
null!==a&&""!==a)return a=1E3*parseFloat("0."+a),Math.floor(a)}function n(a,l,y=!1){l=10**l;return(y?Math.trunc:Math.round)(a*l)/l}function x(a){return 0===a%4&&(0!==a%100||0===a%400)}function p(a,l){var y=l-1;y=y-12*Math.floor(y/12)+1;return 2===y?x(a+(l-y)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][y-1]}function u(a){let l=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);100>a.year&&0<=a.year&&(l=new Date(l),l.setUTCFullYear(l.getUTCFullYear()-1900));return+l}function F(a){var l=
a-1;l=(l+Math.floor(l/4)-Math.floor(l/100)+Math.floor(l/400))%7;return 4===(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3===l?53:52}function M(a){return 99<a?a:60<a?1900+a:2E3+a}function D(a,l,y,H=null){a=new Date(a);const N={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};H&&(N.timeZone=H);return(l=(new Intl.DateTimeFormat(y,{timeZoneName:l,...N})).formatToParts(a).find(S=>"timezonename"===S.type.toLowerCase()))?l.value:null}function b(a,
l){a=parseInt(a,10);Number.isNaN(a)&&(a=0);l=parseInt(l,10)||0;l=0>a||Object.is(a,-0)?-l:l;return 60*a+l}function d(a){const l=Number(a);if("boolean"===typeof a||""===a||Number.isNaN(l))throw new gb(`Invalid unit value ${a}`);return l}function k(a,l){const y={};for(const H in a)if(w(a,H)){const N=a[H];void 0!==N&&null!==N&&(y[l(H)]=d(N))}return y}function e(a,l){const y=Math.trunc(Math.abs(a/60)),H=Math.trunc(Math.abs(a%60));a=0<=a?"+":"-";switch(l){case "short":return`${a}${h(y,2)}:${h(H,2)}`;case "narrow":return`${a}${y}${0<
H?`:${H}`:""}`;case "techie":return`${a}${h(y,2)}${h(H,2)}`;default:throw new RangeError(`Value format ${l} is out of range for property format`);}}function T(a){return E(a,["hour","minute","second","millisecond"])}function ea(a){switch(a){case "narrow":return[...Lc];case "short":return[...Wb];case "long":return[...Mc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function W(a){switch(a){case "narrow":return[...Nc];
case "short":return[...Xb];case "long":return[...Yb];case "numeric":return"1234567".split("");default:return null}}function pa(a){switch(a){case "narrow":return[...Oc];case "short":return[...Pc];case "long":return[...Qc];default:return null}}function Ta(a,l,y="always",H=!1){const N={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var S=-1===["hours","minutes",
"seconds"].indexOf(a);if("auto"===y&&S)switch(y="days"===a,l){case 1:return y?"tomorrow":`next ${N[a][0]}`;case -1:return y?"yesterday":`last ${N[a][0]}`;case 0:return y?"today":`this ${N[a][0]}`}y=Object.is(l,-0)||0>l;l=Math.abs(l);S=1===l;const aa=N[a];a=H?S?aa[1]:aa[2]||aa[1]:S?N[a][0]:a;return y?`${l} ${a} ago`:`in ${l} ${a}`}function Xa(a,l){let y="";for(const H of a)y=H.literal?y+H.val:y+l(H.val);return y}function Ma(a,l){if(z(a)||null===a)return l;if(a instanceof zb)return a;if("string"===
typeof a){const y=a.toLowerCase();return"local"===y||"system"===y?l:"utc"===y||"gmt"===y?db.utcInstance:db.parseSpecifier(y)||kb.create(a)}return I(a)?db.instance(a):"object"===typeof a&&a.offset&&"number"===typeof a.offset?a:new Rc(a)}function ta(a,l={}){const y=JSON.stringify([a,l]);let H=Zb[y];H||(H=new Intl.ListFormat(a,l),Zb[y]=H);return H}function U(a,l={}){const y=JSON.stringify([a,l]);let H=Ib[y];H||(H=new Intl.DateTimeFormat(a,l),Ib[y]=H);return H}function ca(a,l={}){const y=JSON.stringify([a,
l]);let H=Jb[y];H||(H=new Intl.NumberFormat(a,l),Jb[y]=H);return H}function na(a,l={}){const {base:y,...H}=l,N=JSON.stringify([a,H]);let S=Kb[N];S||(S=new Intl.RelativeTimeFormat(a,l),Kb[N]=S);return S}function ka(a){const l=[];for(let y=1;12>=y;y++){const H=Da.utc(2016,y,1);l.push(a(H))}return l}function ja(a){const l=[];for(let y=1;7>=y;y++){const H=Da.utc(2016,11,13+y);l.push(a(H))}return l}function ra(a,l,y,H,N){a=a.listingMode(y);return"error"===a?null:"en"===a?H(l):N(l)}function sa(...a){a=
a.reduce((l,y)=>l+y.source,"");return RegExp(`^${a}$`)}function Qa(...a){return l=>a.reduce(([y,H,N],S)=>{const [aa,fa,ua]=S(l,N);return[{...y,...aa},fa||H,ua]},[{},null,1]).slice(0,2)}function P(a,...l){if(null==a)return[null,null];for(const [y,H]of l)if(l=y.exec(a))return H(l);return[null,null]}function da(...a){return(l,y)=>{const H={};let N;for(N=0;N<a.length;N++)H[a[N]]=q(l[y+N]);return[H,null,y+N]}}function V(a,l,y){a=a[l];return z(a)?y:q(a)}function ba(a,l){return[{hours:V(a,l,0),minutes:V(a,
l+1,0),seconds:V(a,l+2,0),milliseconds:g(a[l+3])},null,l+4]}function la(a,l){const y=!a[l]&&!a[l+1];a=b(a[l+1],a[l+2]);return[{},y?null:db.instance(a),l+3]}function ia(a,l){return[{},a[l]?kb.create(a[l]):null,l+1]}function xa(a){const [l,y,H,N,S,aa,fa,ua,Ra]=a,za="-"===l[0];a=ua&&"-"===ua[0];const Ia=(Na,eb=!1)=>void 0!==Na&&(eb||Na&&za)?-Na:Na;return[{years:Ia(c(y)),months:Ia(c(H)),weeks:Ia(c(N)),days:Ia(c(S)),hours:Ia(c(aa)),minutes:Ia(c(fa)),seconds:Ia(c(ua),"-0"===ua),milliseconds:Ia(g(Ra),a)}]}
function Aa(a,l,y,H,N,S,aa){l={year:2===l.length?M(q(l)):q(l),month:Wb.indexOf(y)+1,day:q(H),hour:q(N),minute:q(S)};aa&&(l.second=q(aa));a&&(l.weekday=3<a.length?Yb.indexOf(a)+1:Xb.indexOf(a)+1);return l}function J(a){const [,l,y,H,N,S,aa,fa,ua,Ra,za,Ia]=a;a=Aa(l,N,H,y,S,aa,fa);let Na;Na=ua?Sc[ua]:Ra?0:b(za,Ia);return[a,new db(Na)]}function A(a){const [,l,y,H,N,S,aa,fa]=a;return[Aa(l,N,H,y,S,aa,fa),db.utcInstance]}function L(a){const [,l,y,H,N,S,aa,fa]=a;return[Aa(l,fa,y,H,N,S,aa),db.utcInstance]}
function O(a,l,y=!1){a={values:y?l.values:{...a.values,...l.values||{}},loc:a.loc.clone(l.loc),conversionAccuracy:l.conversionAccuracy||a.conversionAccuracy};return new La(a)}function Y(a,l,y,H,N){a=a[N][y];var S=l[y]/a;S=Math.sign(S)!==Math.sign(H[N])&&0!==H[N]&&1>=Math.abs(S)?0>S?Math.floor(S):Math.ceil(S):Math.trunc(S);H[N]+=S;l[y]-=S*a}function va(a,l){Tc.reduce((y,H)=>{if(z(l[H]))return y;y&&Y(a,l,y,l,H);return H},null)}function Ea(a,l){a=l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-
a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(La.fromMillis(a).as("days"))}function ya(a,l,y){var H=[["years",(fa,ua)=>ua.year-fa.year],["quarters",(fa,ua)=>ua.quarter-fa.quarter],["months",(fa,ua)=>ua.month-fa.month+12*(ua.year-fa.year)],["weeks",(fa,ua)=>{fa=Ea(fa,ua);return(fa-fa%7)/7}],["days",Ea]];const N={};let S,aa;for(const [fa,ua]of H)0<=y.indexOf(fa)&&(S=fa,H=ua(a,l),aa=a.plus({[fa]:H}),aa>l?(a=a.plus({[fa]:H-1}),--H):a=aa,N[fa]=H);return[a,N,aa,S]}function Ja(a,
l,y,H){let [N,S,aa,fa]=ya(a,l,y);a=l-N;y=y.filter(ua=>0<=["hours","minutes","seconds","milliseconds"].indexOf(ua));0===y.length&&(aa<l&&(aa=N.plus({[fa]:1})),aa!==N&&(S[fa]=(S[fa]||0)+a/(aa-N)));l=La.fromObject(S,H);return 0<y.length?La.fromMillis(a,H).shiftTo(...y).plus(l):l}function t({numberingSystem:a},l=""){return new RegExp(`${Lb[a||"latn"]}${l}`)}function r(a,l=y=>y){return{regex:a,deser:([y])=>{{let H=parseInt(y,10);if(isNaN(H)){H="";for(let N=0;N<y.length;N++){const S=y.charCodeAt(N);if(-1!==
y[N].search(Lb.hanidec))H+=Uc.indexOf(y[N]);else for(const aa in $b){const [fa,ua]=$b[aa];S>=fa&&S<=ua&&(H+=S-fa)}}y=parseInt(H,10)}else y=H}return l(y)}}}function R(a){return a.replace(/\./g,"\\.?").replace(Mb,ac)}function Q(a,l){return null===a?null:{regex:RegExp(a.map(R).join("|")),deser:([y])=>a.findIndex(H=>y.replace(/\./g,"").replace(Mb," ").toLowerCase()===H.replace(/\./g,"").replace(Mb," ").toLowerCase())+l}}function Z(a,l){return{regex:a,deser:([,y,H])=>b(y,H),groups:l}}function Sa(a){return{regex:a,
deser:([l])=>l}}function Oa(a,l){const y=t(l),H=t(l,"{2}"),N=t(l,"{3}"),S=t(l,"{4}"),aa=t(l,"{6}"),fa=t(l,"{1,2}"),ua=t(l,"{1,3}"),Ra=t(l,"{1,6}"),za=t(l,"{1,9}"),Ia=t(l,"{2,4}"),Na=t(l,"{4,6}"),eb=sb=>({regex:RegExp(sb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Nb])=>Nb,literal:!0}),wb=(sb=>{if(a.literal)return eb(sb);switch(sb.val){case "G":return Q(l.eras("short",!1),0);case "GG":return Q(l.eras("long",!1),0);case "y":return r(Ra);case "yy":return r(Ia,M);case "yyyy":return r(S);
case "yyyyy":return r(Na);case "yyyyyy":return r(aa);case "M":return r(fa);case "MM":return r(H);case "MMM":return Q(l.months("short",!0,!1),1);case "MMMM":return Q(l.months("long",!0,!1),1);case "L":return r(fa);case "LL":return r(H);case "LLL":return Q(l.months("short",!1,!1),1);case "LLLL":return Q(l.months("long",!1,!1),1);case "d":return r(fa);case "dd":return r(H);case "o":return r(ua);case "ooo":return r(N);case "HH":return r(H);case "H":return r(fa);case "hh":return r(H);case "h":return r(fa);
case "mm":return r(H);case "m":return r(fa);case "q":return r(fa);case "qq":return r(H);case "s":return r(fa);case "ss":return r(H);case "S":return r(ua);case "SSS":return r(N);case "u":return Sa(za);case "uu":return Sa(fa);case "uuu":return r(y);case "a":return Q(l.meridiems(),0);case "kkkk":return r(S);case "kk":return r(Ia,M);case "W":return r(fa);case "WW":return r(H);case "E":case "c":return r(y);case "EEE":return Q(l.weekdays("short",!1,!1),1);case "EEEE":return Q(l.weekdays("long",!1,!1),1);
case "ccc":return Q(l.weekdays("short",!0,!1),1);case "cccc":return Q(l.weekdays("long",!0,!1),1);case "Z":case "ZZ":return Z(new RegExp(`([+-]${fa.source})(?::(${H.source}))?`),2);case "ZZZ":return Z(new RegExp(`([+-]${fa.source})(${H.source})?`),2);case "z":return Sa(/[a-z_+-/]{1,256}?/i);default:return eb(sb)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};wb.token=a;return wb}function ha(a){return[`^${a.map(l=>l.regex).reduce((l,y)=>`${l}(${y.source})`,"")}$`,a]}function wa(a,
l,y){if(a=a.match(l)){l={};let H=1;for(const N in y)if(w(y,N)){const S=y[N],aa=S.groups?S.groups+1:1;!S.literal&&S.token&&(l[S.token.val[0]]=S.deser(a.slice(H,H+aa)));H+=aa}return[a,l]}return[a,{}]}function Ga(a){const l=N=>{switch(N){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";
case "k":return"weekYear";case "q":return"quarter";default:return null}};let y=null,H;z(a.z)||(y=kb.create(a.z));z(a.Z)||(y||(y=new db(a.Z)),H=a.Z);z(a.q)||(a.M=3*(a.q-1)+1);z(a.h)||(12>a.h&&1===a.a?a.h+=12:12===a.h&&0===a.a&&(a.h=0));0===a.G&&a.y&&(a.y=-a.y);z(a.u)||(a.S=g(a.u));return[Object.keys(a).reduce((N,S)=>{const aa=l(S);aa&&(N[aa]=a[S]);return N},{}),y,H]}function Ca(){Ob||(Ob=Da.fromMillis(1555555555555));return Ob}function mb(a,l){if(a.literal)return a;const y=fb.macroTokenToFormatOpts(a.val);
if(!y)return a;l=fb.create(l,y).formatDateTimeParts(Ca()).map(H=>{{const {type:S,value:aa}=H;if("literal"===S)H={literal:!0,val:aa};else{H=y[S];var N=Vc[S];"object"===typeof N&&(N=N[H]);H=N?{literal:!1,val:N}:void 0}}return H});return l.includes(void 0)?a:l}function nb(a,l){return Array.prototype.concat(...a.map(y=>mb(y,l)))}function ob(a,l,y){y=nb(fb.parseFormat(y),a);var H=y.map(S=>Oa(S,a));const N=H.find(S=>S.invalidReason);if(N)return{input:l,tokens:y,invalidReason:N.invalidReason};{const [S,
aa]=ha(H);H=RegExp(S,"i");const [fa,ua]=wa(l,H,aa),[Ra,za,Ia]=ua?Ga(ua):[null,null,void 0];if(w(ua,"a")&&w(ua,"H"))throw new Ab("Can't include meridiem when specifying 24-hour format");return{input:l,tokens:y,regex:H,rawMatches:fa,matches:ua,result:Ra,zone:za,specificOffset:Ia}}}function $a(a,l){return new hb("unit out of range",`you specified ${l} (of type ${typeof l}) as a ${a}, which is invalid`)}function pb(a,l,y){l=new Date(Date.UTC(a,l-1,y));100>a&&0<=a&&l.setUTCFullYear(l.getUTCFullYear()-
1900);a=l.getUTCDay();return 0===a?7:a}function qb(a,l){a=x(a)?Pb:Qb;const y=a.findIndex(H=>H<l);return{month:y+1,day:l-a[y]}}function qa(a){const {year:l,month:y,day:H}=a;var N=H+(x(l)?Pb:Qb)[y-1];const S=pb(l,y,H);N=Math.floor((N-S+10)/7);let aa;1>N?(aa=l-1,N=F(aa)):N>F(l)?(aa=l+1,N=1):aa=l;return{weekYear:aa,weekNumber:N,weekday:S,...T(a)}}function Ha(a){const {weekYear:l,weekNumber:y,weekday:H}=a;var N=pb(l,1,4),S=x(l)?366:365;N=7*y+H-N-3;1>N?(S=l-1,N+=x(S)?366:365):N>S?(S=l+1,N-=x(l)?366:365):
S=l;const {month:aa,day:fa}=qb(S,N);return{year:S,month:aa,day:fa,...T(a)}}function Fa(a){const {year:l,month:y,day:H}=a;var N=H+(x(l)?Pb:Qb)[y-1];return{year:l,ordinal:N,...T(a)}}function Ba(a){const {year:l,ordinal:y}=a,{month:H,day:N}=qb(l,y);return{year:l,month:H,day:N,...T(a)}}function Ya(a){const l=B(a.year),y=m(a.month,1,12),H=m(a.day,1,p(a.year,a.month));return l?y?H?!1:$a("day",a.day):$a("month",a.month):$a("year",a.year)}function xb(a){const {hour:l,minute:y,second:H,millisecond:N}=a;a=
m(l,0,23)||24===l&&0===y&&0===H&&0===N;const S=m(y,0,59),aa=m(H,0,59),fa=m(N,0,999);return a?S?aa?fa?!1:$a("millisecond",N):$a("second",H):$a("minute",y):$a("hour",l)}function rb(a){return new hb("unsupported zone",`the zone "${a.name}" is not supported`)}function ab(a){null===a.weekData&&(a.weekData=qa(a.c));return a.weekData}function jb(a,l){a={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Da({...a,...l,old:a})}function yb(a,l,y){let H=a-6E4*l;const N=y.offset(H);if(l===
N)return[H,l];H-=6E4*(N-l);l=y.offset(H);return N===l?[H,N]:[a-6E4*Math.min(N,l),Math.max(N,l)]}function ub(a,l){a=new Date(a+6E4*l);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function vb(a,l,y){return yb(u(a),l,y)}function v(a,l){const y=a.o;var H=a.c.year+Math.trunc(l.years);const N=a.c.month+Math.trunc(l.months)+3*Math.trunc(l.quarters);H={...a.c,year:H,month:N,
day:Math.min(a.c.day,p(H,N))+Math.trunc(l.days)+7*Math.trunc(l.weeks)};l=La.fromObject({years:l.years-Math.trunc(l.years),quarters:l.quarters-Math.trunc(l.quarters),months:l.months-Math.trunc(l.months),weeks:l.weeks-Math.trunc(l.weeks),days:l.days-Math.trunc(l.days),hours:l.hours,minutes:l.minutes,seconds:l.seconds,milliseconds:l.milliseconds}).as("milliseconds");H=u(H);let [S,aa]=yb(H,y,a.zone);0!==l&&(S+=l,aa=a.zone.offset(S));return{ts:S,o:aa}}function K(a,l,y,H,N,S){const {setZone:aa,zone:fa}=
y;return a&&0!==Object.keys(a).length?(a=Da.fromObject(a,{...y,zone:l||fa,specificOffset:S}),aa?a:a.setZone(fa)):Da.invalid(new hb("unparsable",`the input "${N}" can't be parsed as ${H}`))}function X(a,l,y=!0){return a.isValid?fb.create(Ua.create("en-US"),{allowZ:y,forceSimple:!0}).formatDateTimeFromString(a,l):null}function ma(a,l){const y=9999<a.c.year||0>a.c.year;let H="";y&&0<=a.c.year&&(H+="+");H+=h(a.c.year,y?6:4);l?(H=H+"-"+h(a.c.month),H=H+"-"+h(a.c.day)):(H+=h(a.c.month),H+=h(a.c.day));return H}
function oa(a,l,y,H,N,S){let aa=h(a.c.hour);l?(aa=aa+":"+h(a.c.minute),0===a.c.second&&y||(aa+=":")):aa+=h(a.c.minute);0===a.c.second&&y||(aa+=h(a.c.second),0===a.c.millisecond&&H||(aa=aa+"."+h(a.c.millisecond,3)));N&&(a.isOffsetFixed&&0===a.offset&&!S?aa+="Z":0>a.o?(aa=aa+"-"+h(Math.trunc(-a.o/60)),aa=aa+":"+h(Math.trunc(-a.o%60))):(aa=aa+"+"+h(Math.trunc(a.o/60)),aa=aa+":"+h(Math.trunc(a.o%60))));S&&(aa+="["+a.zone.ianaName+"]");return aa}function Ka(a){const l={year:"year",years:"year",month:"month",
months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!l)throw new bc(a);return l}function Pa(a,l){const y=Ma(l.zone,Wa.defaultZone);l=Ua.fromObject(l);
const H=Wa.now();var N;if(z(a.year))a=H;else{for(const S of cc)z(a[S])&&(a[S]=dc[S]);if(N=Ya(a)||xb(a))return Da.invalid(N);N=y.offset(H);[a,N]=vb(a,N,y)}return new Da({ts:a,zone:y,loc:l,o:N})}function bb(a,l,y){const H=z(y.round)?!0:y.round,N=(aa,fa)=>{aa=n(aa,H||y.calendary?0:2,!0);return l.loc.clone(y).relFormatter(y).format(aa,fa)},S=aa=>y.calendary?l.hasSame(a,aa)?0:l.startOf(aa).diff(a.startOf(aa),aa).get(aa):l.diff(a,aa).get(aa);if(y.unit)return N(S(y.unit),y.unit);for(const aa of y.units){const fa=
S(aa);if(1<=Math.abs(fa))return N(fa,aa)}return N(a>l?-0:0,y.units[y.units.length-1])}function Za(a){let l={};0<a.length&&"object"===typeof a[a.length-1]?(l=a[a.length-1],a=Array.from(a).slice(0,a.length-1)):a=Array.from(a);return[l,a]}function cb(a){if(Da.isDateTime(a))return a;if(a&&a.valueOf&&I(a.valueOf()))return Da.fromJSDate(a);if(a&&"object"===typeof a)return Da.fromObject(a);throw new gb(`Unknown datetime argument: ${a}, of type ${typeof a}`);}class ib extends Error{}class Cb extends ib{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}
class Db extends ib{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class Eb extends ib{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class Ab extends ib{}class bc extends ib{constructor(a){super(`Invalid unit ${a}`)}}class gb extends ib{}class lb extends ib{constructor(){super("Zone is an abstract class")}}const Rb={year:"numeric",month:"numeric",day:"numeric"},ec={year:"numeric",month:"short",day:"numeric"},Wc={year:"numeric",month:"short",day:"numeric",weekday:"short"},
fc={year:"numeric",month:"long",day:"numeric"},gc={year:"numeric",month:"long",day:"numeric",weekday:"long"},hc={hour:"numeric",minute:"numeric"},ic={hour:"numeric",minute:"numeric",second:"numeric"},jc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},kc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},lc={hour:"numeric",minute:"numeric",hourCycle:"h23"},mc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},nc={hour:"numeric",minute:"numeric",
second:"numeric",hourCycle:"h23",timeZoneName:"short"},oc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},pc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},qc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},rc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},sc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},
Xc={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},tc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},uc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},vc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},wc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",
minute:"numeric",second:"numeric",timeZoneName:"long"},xc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Mc="January February March April May June July August September October November December".split(" "),Wb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Lc="JFMAMJJASOND".split(""),Yb="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Xb="Mon Tue Wed Thu Fri Sat Sun".split(" "),Nc="MTWTFSS".split(""),yc=["AM","PM"],Qc=["Before Christ",
"Anno Domini"],Pc=["BC","AD"],Oc=["B","A"],Yc={D:Rb,DD:ec,DDD:fc,DDDD:gc,t:hc,tt:ic,ttt:jc,tttt:kc,T:lc,TT:mc,TTT:nc,TTTT:oc,f:pc,ff:rc,fff:tc,ffff:vc,F:qc,FF:sc,FFF:uc,FFFF:wc};class fb{static create(a,l={}){return new fb(a,l)}static parseFormat(a){let l=null,y="",H=!1;const N=[];for(let S=0;S<a.length;S++){const aa=a.charAt(S);"'"===aa?(0<y.length&&N.push({literal:H,val:y}),l=null,y="",H=!H):H?y+=aa:aa===l?y+=aa:(0<y.length&&N.push({literal:!1,val:y}),l=y=aa)}0<y.length&&N.push({literal:H,val:y});
return N}static macroTokenToFormatOpts(a){return Yc[a]}constructor(a,l){this.opts=l;this.loc=a;this.systemLoc=null}formatWithSystemDefault(a,l){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(a,{...this.opts,...l}).format()}formatDateTime(a,l={}){return this.loc.dtFormatter(a,{...this.opts,...l}).format()}formatDateTimeParts(a,l={}){return this.loc.dtFormatter(a,{...this.opts,...l}).formatToParts()}resolvedOptions(a,l={}){return this.loc.dtFormatter(a,
{...this.opts,...l}).resolvedOptions()}num(a,l=0){if(this.opts.forceSimple)return h(a,l);const y={...this.opts};0<l&&(y.padTo=l);return this.loc.numberFormatter(y).format(a)}formatDateTimeFromString(a,l){const y="en"===this.loc.listingMode(),H=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,N=(za,Ia)=>this.loc.extract(a,za,Ia),S=za=>a.isOffsetFixed&&0===a.offset&&za.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,za.format):"",aa=(za,Ia)=>y?ea(za)[a.month-1]:N(Ia?{month:za}:{month:za,day:"numeric"},
"month"),fa=(za,Ia)=>y?W(za)[a.weekday-1]:N(Ia?{weekday:za}:{weekday:za,month:"long",day:"numeric"},"weekday"),ua=za=>{const Ia=fb.macroTokenToFormatOpts(za);return Ia?this.formatWithSystemDefault(a,Ia):za},Ra=za=>y?pa(za)[0>a.year?0:1]:N({era:za},"era");return Xa(fb.parseFormat(l),za=>{switch(za){case "S":return this.num(a.millisecond);case "u":case "SSS":return this.num(a.millisecond,3);case "s":return this.num(a.second);case "ss":return this.num(a.second,2);case "uu":return this.num(Math.floor(a.millisecond/
10),2);case "uuu":return this.num(Math.floor(a.millisecond/100));case "m":return this.num(a.minute);case "mm":return this.num(a.minute,2);case "h":return this.num(0===a.hour%12?12:a.hour%12);case "hh":return this.num(0===a.hour%12?12:a.hour%12,2);case "H":return this.num(a.hour);case "HH":return this.num(a.hour,2);case "Z":return S({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return S({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return S({format:"techie",allowZ:this.opts.allowZ});
case "ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this.loc.locale});case "z":return a.zoneName;case "a":return y?yc[12>a.hour?0:1]:N({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return H?N({day:"numeric"},"day"):this.num(a.day);case "dd":return H?N({day:"2-digit"},"day"):this.num(a.day,2);case "c":return this.num(a.weekday);case "ccc":return fa("short",!0);case "cccc":return fa("long",!0);case "ccccc":return fa("narrow",
!0);case "E":return this.num(a.weekday);case "EEE":return fa("short",!1);case "EEEE":return fa("long",!1);case "EEEEE":return fa("narrow",!1);case "L":return H?N({month:"numeric",day:"numeric"},"month"):this.num(a.month);case "LL":return H?N({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case "LLL":return aa("short",!0);case "LLLL":return aa("long",!0);case "LLLLL":return aa("narrow",!0);case "M":return H?N({month:"numeric"},"month"):this.num(a.month);case "MM":return H?N({month:"2-digit"},
"month"):this.num(a.month,2);case "MMM":return aa("short",!1);case "MMMM":return aa("long",!1);case "MMMMM":return aa("narrow",!1);case "y":return H?N({year:"numeric"},"year"):this.num(a.year);case "yy":return H?N({year:"2-digit"},"year"):this.num(a.year.toString().slice(-2),2);case "yyyy":return H?N({year:"numeric"},"year"):this.num(a.year,4);case "yyyyyy":return H?N({year:"numeric"},"year"):this.num(a.year,6);case "G":return Ra("short");case "GG":return Ra("long");case "GGGGG":return Ra("narrow");
case "kk":return this.num(a.weekYear.toString().slice(-2),2);case "kkkk":return this.num(a.weekYear,4);case "W":return this.num(a.weekNumber);case "WW":return this.num(a.weekNumber,2);case "o":return this.num(a.ordinal);case "ooo":return this.num(a.ordinal,3);case "q":return this.num(a.quarter);case "qq":return this.num(a.quarter,2);case "X":return this.num(Math.floor(a.ts/1E3));case "x":return this.num(a.ts);default:return ua(za)}})}formatDurationFromString(a,l){const y=N=>{switch(N[0]){case "S":return"millisecond";
case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};l=fb.parseFormat(l);const H=l.reduce((N,{literal:S,val:aa})=>S?N:N.concat(aa),[]);a=a.shiftTo(...H.map(y).filter(N=>N));return Xa(l,(N=>S=>{const aa=y(S);return aa?this.num(N.get(aa),S.length):S})(a))}}class hb{constructor(a,l){this.reason=a;this.explanation=l}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:
this.reason}}class zb{get type(){throw new lb;}get name(){throw new lb;}get ianaName(){return this.name}get isUniversal(){throw new lb;}offsetName(a,l){throw new lb;}formatOffset(a,l){throw new lb;}offset(a){throw new lb;}equals(a){throw new lb;}get isValid(){throw new lb;}}let Sb=null;class zc extends zb{static get instance(){null===Sb&&(Sb=new zc);return Sb}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:l,
locale:y}){return D(a,l,y)}formatOffset(a,l){return e(this.offset(a),l)}offset(a){return-(new Date(a)).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}let Fb={};const Zc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Gb={};class kb extends zb{static create(a){Gb[a]||(Gb[a]=new kb(a));return Gb[a]}static resetCache(){Gb={};Fb={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return(new Intl.DateTimeFormat("en-US",
{timeZone:a})).format(),!0}catch(l){return!1}}constructor(a){super();this.zoneName=a;this.valid=kb.isValidZone(a)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(a,{format:l,locale:y}){return D(a,l,y,this.name)}formatOffset(a,l){return e(this.offset(a),l)}offset(a){a=new Date(a);if(isNaN(a))return NaN;var l=this.name;Fb[l]||(Fb[l]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",
second:"2-digit",era:"short"}));l=Fb[l];if(l.formatToParts){l=l.formatToParts(a);var y=[];for(let za=0;za<l.length;za++){const {type:Ia,value:Na}=l[za],eb=Zc[Ia];"era"===Ia?y[eb]=Na:z(eb)||(y[eb]=parseInt(Na,10))}l=y}else{{l=l.format(a).replace(/\u200E/g,"");l=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(l);const [,za,Ia,Na,eb,wb,sb,Nb]=l;l=[Na,za,Ia,eb,wb,sb,Nb]}}let [H,N,S,aa,fa,ua,Ra]=l;"BC"===aa&&(H=-Math.abs(H)+1);l=u({year:H,month:N,day:S,hour:24===fa?0:fa,minute:ua,second:Ra,millisecond:0});
a=+a;y=a%1E3;return(l-(a-(0<=y?y:1E3+y)))/6E4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this.valid}}let Tb=null;class db extends zb{static get utcInstance(){null===Tb&&(Tb=new db(0));return Tb}static instance(a){return 0===a?db.utcInstance:new db(a)}static parseSpecifier(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new db(b(a[1],a[2])):null}constructor(a){super();this.fixed=a}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${e(this.fixed,
"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${e(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(a,l){return e(this.fixed,l)}get isUniversal(){return!0}offset(){return this.fixed}equals(a){return"fixed"===a.type&&a.fixed===this.fixed}get isValid(){return!0}}class Rc extends zb{constructor(a){super();this.zoneName=a}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}
let Ac=()=>Date.now(),Bc="system",Cc=null,Dc=null,Ec=null,Fc;class Wa{static get now(){return Ac}static set now(a){Ac=a}static set defaultZone(a){Bc=a}static get defaultZone(){return Ma(Bc,zc.instance)}static get defaultLocale(){return Cc}static set defaultLocale(a){Cc=a}static get defaultNumberingSystem(){return Dc}static set defaultNumberingSystem(a){Dc=a}static get defaultOutputCalendar(){return Ec}static set defaultOutputCalendar(a){Ec=a}static get throwOnInvalid(){return Fc}static set throwOnInvalid(a){Fc=
a}static resetCaches(){Ua.resetCache();kb.resetCache()}}let Zb={},Ib={},Jb={},Kb={},Hb=null;class $c{constructor(a,l,y){this.padTo=y.padTo||0;this.floor=y.floor||!1;const {padTo:H,floor:N,...S}=y;if(!l||0<Object.keys(S).length)l={useGrouping:!1,...y},0<y.padTo&&(l.minimumIntegerDigits=y.padTo),this.inf=ca(a,l)}format(a){if(this.inf)return this.inf.format(this.floor?Math.floor(a):a);a=this.floor?Math.floor(a):n(a,3);return h(a,this.padTo)}}class ad{constructor(a,l,y){this.opts=y;if(a.zone.isUniversal){var H=
a.offset/60*-1;H=0<=H?`Etc/GMT+${H}`:`Etc/GMT${H}`;0!==a.offset&&kb.create(H).valid?this.dt=a:(H="UTC",this.dt=y.timeZoneName?a:0===a.offset?a:Da.fromMillis(a.ts+6E4*a.offset))}else"system"===a.zone.type?this.dt=a:(this.dt=a,H=a.zone.name);a={...this.opts};H&&(a.timeZone=H);this.dtf=U(l,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class bd{constructor(a,l,y){this.opts={style:"long",
...y};!l&&f()&&(this.rtf=na(a,y))}format(a,l){return this.rtf?this.rtf.format(a,l):Ta(l,a,this.opts.numeric,"long"!==this.opts.style)}formatToParts(a,l){return this.rtf?this.rtf.formatToParts(a,l):[]}}class Ua{static fromOpts(a){return Ua.create(a.locale,a.numberingSystem,a.outputCalendar,a.defaultToEN)}static create(a,l,y,H=!1){a=a||Wa.defaultLocale;var N;(N=a)||(H?H="en-US":(Hb||(Hb=(new Intl.DateTimeFormat).resolvedOptions().locale),H=Hb),N=H);return new Ua(N,l||Wa.defaultNumberingSystem,y||Wa.defaultOutputCalendar,
a)}static resetCache(){Hb=null;Ib={};Jb={};Kb={}}static fromObject({locale:a,numberingSystem:l,outputCalendar:y}={}){return Ua.create(a,l,y)}constructor(a,l,y,H){var N=a.indexOf("-u-");if(-1===N)a=[a];else{let ua;N=a.substring(0,N);try{ua=U(a).resolvedOptions()}catch(Ia){ua=U(N).resolvedOptions()}const {numberingSystem:Ra,calendar:za}=ua;a=[N,Ra,za]}const [S,aa,fa]=a;this.locale=S;this.numberingSystem=l||aa||null;this.outputCalendar=y||fa||null;l=this.locale;y=this.numberingSystem;if((a=this.outputCalendar)||
y)l+="-u",a&&(l+=`-ca-${a}`),y&&(l+=`-nu-${y}`);this.intl=l;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=H;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var a=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;
this.fastNumbersCached=a}return this.fastNumbersCached}listingMode(){const a=this.isEnglish(),l=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return a&&l?"en":"intl"}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?Ua.create(a.locale||this.specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,a.defaultToEN||!1):this}redefaultToEN(a={}){return this.clone({...a,defaultToEN:!0})}redefaultToSystem(a=
{}){return this.clone({...a,defaultToEN:!1})}months(a,l=!1,y=!0){return ra(this,a,y,ea,()=>{const H=l?{month:a,day:"numeric"}:{month:a},N=l?"format":"standalone";this.monthsCache[N][a]||(this.monthsCache[N][a]=ka(S=>this.extract(S,H,"month")));return this.monthsCache[N][a]})}weekdays(a,l=!1,y=!0){return ra(this,a,y,W,()=>{const H=l?{weekday:a,year:"numeric",month:"long",day:"numeric"}:{weekday:a},N=l?"format":"standalone";this.weekdaysCache[N][a]||(this.weekdaysCache[N][a]=ja(S=>this.extract(S,H,
"weekday")));return this.weekdaysCache[N][a]})}meridiems(a=!0){return ra(this,void 0,a,()=>yc,()=>{if(!this.meridiemCache){const l={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Da.utc(2016,11,13,9),Da.utc(2016,11,13,19)].map(y=>this.extract(y,l,"dayperiod"))}return this.meridiemCache})}eras(a,l=!0){return ra(this,a,l,pa,()=>{const y={era:a};this.eraCache[a]||(this.eraCache[a]=[Da.utc(-40,1,1),Da.utc(2017,1,1)].map(H=>this.extract(H,y,"era")));return this.eraCache[a]})}extract(a,l,y){return(a=
this.dtFormatter(a,l).formatToParts().find(H=>H.type.toLowerCase()===y))?a.value:null}numberFormatter(a={}){return new $c(this.intl,a.forceSimple||this.fastNumbers,a)}dtFormatter(a,l={}){return new ad(a,this.intl,l)}relFormatter(a={}){return new bd(this.intl,this.isEnglish(),a)}listFormatter(a={}){return ta(this.intl,a)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(a){return this.locale===
a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}}const Gc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ub=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Hc=RegExp(`${Ub.source}${`(?:${Gc.source}?(?:\\[(${xc.source})\\])?)?`}`),Vb=RegExp(`(?:T${Hc.source})?`),cd=da("weekYear","weekNumber","weekDay"),dd=da("year","ordinal"),Ic=RegExp(`${Ub.source} ?(?:${Gc.source}|(${xc.source}))?`),ed=RegExp(`(?: ${Ic.source})?`),fd=RegExp(`^T?${Ub.source}$`),gd=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/,
Sc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},hd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,jd=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
kd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ld=sa(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Vb),md=sa(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Vb),nd=sa(/(\d{4})-?(\d{3})/,Vb),od=sa(Hc),Jc=Qa(function(a,l){return[{year:V(a,l),month:V(a,l+1,1),day:V(a,l+2,1)},null,l+3]},ba,la,ia),pd=Qa(cd,ba,la,ia),qd=Qa(dd,ba,la,ia),rd=Qa(ba,la,ia),sd=Qa(ba),td=sa(/(\d{4})-(\d\d)-(\d\d)/,ed),ud=sa(Ic),vd=Qa(ba,la,ia),Kc={weeks:{days:7,hours:168,
minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},wd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,
milliseconds:2592E6},...Kc},xd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Kc},tb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Tc=tb.slice(0).reverse();
class La{constructor(a){const l="longterm"===a.conversionAccuracy||!1;this.values=a.values;this.loc=a.loc||Ua.create();this.conversionAccuracy=l?"longterm":"casual";this.invalid=a.invalid||null;this.matrix=l?xd:wd;this.isLuxonDuration=!0}static fromMillis(a,l){return La.fromObject({milliseconds:a},l)}static fromObject(a,l={}){if(null==a||"object"!==typeof a)throw new gb(`Duration.fromObject: argument expected to be an object, got ${null===a?"null":typeof a}`);return new La({values:k(a,La.normalizeUnit),
loc:Ua.fromObject(l),conversionAccuracy:l.conversionAccuracy})}static fromDurationLike(a){if(I(a))return La.fromMillis(a);if(La.isDuration(a))return a;if("object"===typeof a)return La.fromObject(a);throw new gb(`Unknown duration argument ${a} of type ${typeof a}`);}static fromISO(a,l){const [y]=P(a,[gd,xa]);return y?La.fromObject(y,l):La.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,l){const [y]=P(a,[fd,sd]);return y?La.fromObject(y,l):La.invalid("unparsable",
`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,l=null){if(!a)throw new gb("need to specify a reason the Duration is invalid");a=a instanceof hb?a:new hb(a,l);if(Wa.throwOnInvalid)throw new Eb(a);return new La({invalid:a})}static normalizeUnit(a){const l={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",
millisecond:"milliseconds",milliseconds:"milliseconds"}[a?a.toLowerCase():a];if(!l)throw new bc(a);return l}static isDuration(a){return a&&a.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(a,l={}){l={...l,floor:!1!==l.round&&!1!==l.floor};return this.isValid?fb.create(this.loc,l).formatDurationFromString(this,a):"Invalid Duration"}toHuman(a={}){const l=tb.map(y=>{const H=this.values[y];return z(H)?
null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...a,unit:y.slice(0,-1)}).format(H)}).filter(y=>y);return this.loc.listFormatter({type:"conjunction",style:a.listStyle||"narrow",...a}).format(l)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let a="P";0!==this.years&&(a+=this.years+"Y");if(0!==this.months||0!==this.quarters)a+=this.months+3*this.quarters+"M";0!==this.weeks&&(a+=this.weeks+"W");0!==this.days&&(a+=this.days+"D");if(0!==this.hours||
0!==this.minutes||0!==this.seconds||0!==this.milliseconds)a+="T";0!==this.hours&&(a+=this.hours+"H");0!==this.minutes&&(a+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)a+=n(this.seconds+this.milliseconds/1E3,3)+"S";"P"===a&&(a+="T0S");return a}toISOTime(a={}){if(!this.isValid)return null;var l=this.toMillis();if(0>l||864E5<=l)return null;a={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...a};l=this.shiftTo("hours","minutes","seconds","milliseconds");
let y="basic"===a.format?"hhmm":"hh:mm";a.suppressSeconds&&0===l.seconds&&0===l.milliseconds||(y+="basic"===a.format?"ss":":ss",a.suppressMilliseconds&&0===l.milliseconds||(y+=".SSS"));l=l.toFormat(y);a.includePrefix&&(l="T"+l);return l}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(a){if(!this.isValid)return this;a=La.fromDurationLike(a);const l={};for(const y of tb)if(w(a.values,y)||w(this.values,y))l[y]=
a.get(y)+this.get(y);return O(this,{values:l},!0)}minus(a){if(!this.isValid)return this;a=La.fromDurationLike(a);return this.plus(a.negate())}mapUnits(a){if(!this.isValid)return this;const l={};for(const y of Object.keys(this.values))l[y]=d(a(this.values[y],y));return O(this,{values:l},!0)}get(a){return this[La.normalizeUnit(a)]}set(a){if(!this.isValid)return this;a={...this.values,...k(a,La.normalizeUnit)};return O(this,{values:a})}reconfigure({locale:a,numberingSystem:l,conversionAccuracy:y}={}){a=
{loc:this.loc.clone({locale:a,numberingSystem:l})};y&&(a.conversionAccuracy=y);return O(this,a)}as(a){return this.isValid?this.shiftTo(a).get(a):NaN}normalize(){if(!this.isValid)return this;const a=this.toObject();va(this.matrix,a);return O(this,{values:a},!0)}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(S=>La.normalizeUnit(S));const l={},y={},H=this.toObject();let N;for(const S of tb)if(0<=a.indexOf(S)){N=S;let aa=0;for(const ua in y)aa+=this.matrix[ua][S]*y[ua],y[ua]=0;I(H[S])&&
(aa+=H[S]);const fa=Math.trunc(aa);l[S]=fa;y[S]=(1E3*aa-1E3*fa)/1E3;for(const ua in H)tb.indexOf(ua)>tb.indexOf(S)&&Y(this.matrix,H,ua,l,S)}else I(H[S])&&(y[S]=H[S]);for(const S in y)0!==y[S]&&(l[N]+=S===N?y[S]:y[S]/this.matrix[N][S]);return O(this,{values:l},!0).normalize()}negate(){if(!this.isValid)return this;const a={};for(const l of Object.keys(this.values))a[l]=0===this.values[l]?0:-this.values[l];return O(this,{values:a},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?
this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?
this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(a){if(!this.isValid||!a.isValid||!this.loc.equals(a.loc))return!1;for(const H of tb){var l=this.values[H];var y=a.values[H];l=void 0===l||0===l?void 0===y||0===y:l===y;if(!l)return!1}return!0}}class Va{constructor(a){this.s=a.start;this.e=a.end;this.invalid=a.invalid||null;this.isLuxonInterval=!0}static invalid(a,l=null){if(!a)throw new gb("need to specify a reason the Interval is invalid");
a=a instanceof hb?a:new hb(a,l);if(Wa.throwOnInvalid)throw new Db(a);return new Va({invalid:a})}static fromDateTimes(a,l){a=cb(a);l=cb(l);var y=a&&a.isValid?l&&l.isValid?l<a?Va.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${l.toISO()}`):null:Va.invalid("missing or invalid end"):Va.invalid("missing or invalid start");return null==y?new Va({start:a,end:l}):y}static after(a,l){l=La.fromDurationLike(l);a=cb(a);return Va.fromDateTimes(a,
a.plus(l))}static before(a,l){l=La.fromDurationLike(l);a=cb(a);return Va.fromDateTimes(a.minus(l),a)}static fromISO(a,l){const [y,H]=(a||"").split("/",2);if(y&&H){let aa;try{var N=Da.fromISO(y,l);aa=N.isValid}catch(ua){aa=!1}let fa;try{var S=Da.fromISO(H,l);fa=S.isValid}catch(ua){fa=!1}if(aa&&fa)return Va.fromDateTimes(N,S);if(aa){if(S=La.fromISO(H,l),S.isValid)return Va.after(N,S)}else if(fa&&(N=La.fromISO(y,l),N.isValid))return Va.before(S,N)}return Va.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static isInterval(a){return a&&
a.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(a="milliseconds"){return this.isValid?this.toDuration(...[a]).get(a):NaN}count(a="milliseconds"){if(!this.isValid)return NaN;const l=this.start.startOf(a),y=this.end.startOf(a);return Math.floor(y.diff(l,
a).get(a))+1}hasSame(a){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,a):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(a){return this.isValid?this.s>a:!1}isBefore(a){return this.isValid?this.e<=a:!1}contains(a){return this.isValid?this.s<=a&&this.e>a:!1}set({start:a,end:l}={}){return this.isValid?Va.fromDateTimes(a||this.s,l||this.e):this}splitAt(...a){if(!this.isValid)return[];a=a.map(cb).filter(S=>this.contains(S)).sort();const l=[];let {s:y}=this,H=0;for(;y<
this.e;){var N=a[H]||this.e;N=+N>+this.e?this.e:N;l.push(Va.fromDateTimes(y,N));y=N;H+=1}return l}splitBy(a){a=La.fromDurationLike(a);if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let {s:l}=this,y=1;const H=[];for(;l<this.e;){var N=this.start.plus(a.mapUnits(S=>S*y));N=+N>+this.e?this.e:N;H.push(Va.fromDateTimes(l,N));l=N;y+=1}return H}divideEqually(a){return this.isValid?this.splitBy(this.length()/a).slice(0,a):[]}overlaps(a){return this.e>a.s&&this.s<a.e}abutsStart(a){return this.isValid?
+this.e===+a.s:!1}abutsEnd(a){return this.isValid?+a.e===+this.s:!1}engulfs(a){return this.isValid?this.s<=a.s&&this.e>=a.e:!1}equals(a){return this.isValid&&a.isValid?this.s.equals(a.s)&&this.e.equals(a.e):!1}intersection(a){if(!this.isValid)return this;const l=this.s>a.s?this.s:a.s;a=this.e<a.e?this.e:a.e;return l>=a?null:Va.fromDateTimes(l,a)}union(a){return this.isValid?Va.fromDateTimes(this.s<a.s?this.s:a.s,this.e>a.e?this.e:a.e):this}static merge(a){const [l,y]=a.sort((H,N)=>H.s-N.s).reduce(([H,
N],S)=>N?N.overlaps(S)||N.abutsStart(S)?[H,N.union(S)]:[H.concat([N]),S]:[H,S],[[],null]);y&&l.push(y);return l}static xor(a){let l=null,y=0;const H=[];a=a.map(N=>[{time:N.s,type:"s"},{time:N.e,type:"e"}]);a=Array.prototype.concat(...a).sort((N,S)=>N.time-S.time);for(const N of a)y+="s"===N.type?1:-1,1===y?l=N.time:(l&&+l!==+N.time&&H.push(Va.fromDateTimes(l,N.time)),l=null);return Va.merge(H)}difference(...a){return Va.xor([this].concat(a)).map(l=>this.intersection(l)).filter(l=>l&&!l.isEmpty())}toString(){return this.isValid?
`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toISO(a){return this.isValid?`${this.s.toISO(a)}/${this.e.toISO(a)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(a){return this.isValid?`${this.s.toISOTime(a)}/${this.e.toISOTime(a)}`:"Invalid Interval"}toFormat(a,{separator:l=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(a)}${l}${this.e.toFormat(a)}`:"Invalid Interval"}toDuration(a,l){return this.isValid?
this.e.diff(this.s,a,l):La.invalid(this.invalidReason)}mapEndpoints(a){return Va.fromDateTimes(a(this.s),a(this.e))}}class Bb{static hasDST(a=Wa.defaultZone){const l=Da.now().setZone(a).set({month:12});return!a.isUniversal&&l.offset!==l.set({month:6}).offset}static isValidIANAZone(a){return kb.isValidZone(a)}static normalizeZone(a){return Ma(a,Wa.defaultZone)}static months(a="long",{locale:l=null,numberingSystem:y=null,locObj:H=null,outputCalendar:N="gregory"}={}){return(H||Ua.create(l,y,N)).months(a)}static monthsFormat(a=
"long",{locale:l=null,numberingSystem:y=null,locObj:H=null,outputCalendar:N="gregory"}={}){return(H||Ua.create(l,y,N)).months(a,!0)}static weekdays(a="long",{locale:l=null,numberingSystem:y=null,locObj:H=null}={}){return(H||Ua.create(l,y,null)).weekdays(a)}static weekdaysFormat(a="long",{locale:l=null,numberingSystem:y=null,locObj:H=null}={}){return(H||Ua.create(l,y,null)).weekdays(a,!0)}static meridiems({locale:a=null}={}){return Ua.create(a).meridiems()}static eras(a="short",{locale:l=null}={}){return Ua.create(l,
null,"gregory").eras(a)}static features(){return{relative:f()}}}const Lb={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",
tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},$b={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Uc=Lb.hanidec.replace(/[\[|\]]/g,"").split(""),ac=`[ ${String.fromCharCode(160)}]`,
Mb=new RegExp(ac,"g"),Vc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let Ob=null;const Qb=[0,31,59,90,120,151,181,212,243,273,304,334],Pb=[0,31,60,91,121,152,182,213,244,274,305,335],dc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yd={weekNumber:1,
weekday:1,hour:0,minute:0,second:0,millisecond:0},zd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},cc="year month day hour minute second millisecond".split(" "),Ad="weekYear weekNumber weekday hour minute second millisecond".split(" "),Bd="year ordinal hour minute second millisecond".split(" ");class Da{constructor(a){const l=a.zone||Wa.defaultZone;let y=a.invalid||(Number.isNaN(a.ts)?new hb("invalid input"):null)||(l.isValid?null:rb(l));this.ts=z(a.ts)?Wa.now():a.ts;let H=null;var N=null;y||
(a.old&&a.old.ts===this.ts&&a.old.zone.equals(l)?[H,N]=[a.old.c,a.old.o]:(N=l.offset(this.ts),H=ub(this.ts,N),H=(y=Number.isNaN(H.year)?new hb("invalid input"):null)?null:H,N=y?null:N));this._zone=l;this.loc=a.loc||Ua.create();this.invalid=y;this.weekData=null;this.c=H;this.o=N;this.isLuxonDateTime=!0}static now(){return new Da({})}static local(){const [a,l]=Za(arguments),[y,H,N,S,aa,fa,ua]=l;return Pa({year:y,month:H,day:N,hour:S,minute:aa,second:fa,millisecond:ua},a)}static utc(){const [a,l]=Za(arguments),
[y,H,N,S,aa,fa,ua]=l;a.zone=db.utcInstance;return Pa({year:y,month:H,day:N,hour:S,minute:aa,second:fa,millisecond:ua},a)}static fromJSDate(a,l={}){a="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(a))return Da.invalid("invalid input");const y=Ma(l.zone,Wa.defaultZone);return y.isValid?new Da({ts:a,zone:y,loc:Ua.fromObject(l)}):Da.invalid(rb(y))}static fromMillis(a,l={}){if(I(a))return-864E13>a||864E13<a?Da.invalid("Timestamp out of range"):new Da({ts:a,zone:Ma(l.zone,
Wa.defaultZone),loc:Ua.fromObject(l)});throw new gb(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`);}static fromSeconds(a,l={}){if(I(a))return new Da({ts:1E3*a,zone:Ma(l.zone,Wa.defaultZone),loc:Ua.fromObject(l)});throw new gb("fromSeconds requires a numerical input");}static fromObject(a,l={}){a=a||{};var y=Ma(l.zone,Wa.defaultZone);if(!y.isValid)return Da.invalid(rb(y));var H=Wa.now();const N=z(l.specificOffset)?y.offset(H):l.specificOffset,S=k(a,Ka);var aa=
!z(S.ordinal),fa=!z(S.year),ua=!z(S.month)||!z(S.day);fa=fa||ua;var Ra=S.weekYear||S.weekNumber;l=Ua.fromObject(l);if((fa||aa)&&Ra)throw new Ab("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ua&&aa)throw new Ab("Can't mix ordinal dates with month/day");ua=Ra||S.weekday&&!fa;let za=ub(H,N);ua?(H=Ad,Ra=yd,za=qa(za)):aa?(H=Bd,Ra=zd,za=Fa(za)):(H=cc,Ra=dc);let Ia=!1;for(var Na of H)z(S[Na])?S[Na]=Ia?Ra[Na]:za[Na]:Ia=!0;ua?(Na=B(S.weekYear),H=m(S.weekNumber,1,F(S.weekYear)),
Ra=m(S.weekday,1,7),Na=Na?H?Ra?!1:$a("weekday",S.weekday):$a("week",S.week):$a("weekYear",S.weekYear)):aa?(Na=B(S.year),H=m(S.ordinal,1,x(S.year)?366:365),Na=Na?H?!1:$a("ordinal",S.ordinal):$a("year",S.year)):Na=Ya(S);if(Na=Na||xb(S))return Da.invalid(Na);aa=ua?Ha(S):aa?Ba(S):S;const [eb,wb]=vb(aa,N,y);y=new Da({ts:eb,zone:y,o:wb,loc:l});return S.weekday&&fa&&a.weekday!==y.weekday?Da.invalid("mismatched weekday",`you can't specify both a weekday of ${S.weekday} and a date of ${y.toISO()}`):y}static fromISO(a,
l={}){const [y,H]=P(a,[ld,Jc],[md,pd],[nd,qd],[od,rd]);return K(y,H,l,"ISO 8601",a)}static fromRFC2822(a,l={}){const [y,H]=P(a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[hd,J]);return K(y,H,l,"RFC 2822",a)}static fromHTTP(a,l={}){const [y,H]=P(a,[id,A],[jd,A],[kd,L]);return K(y,H,l,"HTTP",l)}static fromFormat(a,l,y={}){if(z(a)||z(l))throw new gb("fromFormat requires an input string and a format");const {locale:H=null,numberingSystem:N=null}=y;var S=Ua.fromOpts({locale:H,numberingSystem:N,
defaultToEN:!0});{const {result:za,zone:Ia,specificOffset:Na,invalidReason:eb}=ob(S,a,l);S=[za,Ia,Na,eb]}const [aa,fa,ua,Ra]=S;return Ra?Da.invalid(Ra):K(aa,fa,y,`format ${l}`,a,ua)}static fromString(a,l,y={}){return Da.fromFormat(a,l,y)}static fromSQL(a,l={}){const [y,H]=P(a,[td,Jc],[ud,vd]);return K(y,H,l,"SQL",a)}static invalid(a,l=null){if(!a)throw new gb("need to specify a reason the DateTime is invalid");a=a instanceof hb?a:new hb(a,l);if(Wa.throwOnInvalid)throw new Cb(a);return new Da({invalid:a})}static isDateTime(a){return a&&
a.isLuxonDateTime||!1}get(a){return this[a]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?
this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ab(this).weekYear:NaN}get weekNumber(){return this.isValid?ab(this).weekNumber:NaN}get weekday(){return this.isValid?
ab(this).weekday:NaN}get ordinal(){return this.isValid?Fa(this.c).ordinal:NaN}get monthShort(){return this.isValid?Bb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Bb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Bb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Bb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?
this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return x(this.year)}get daysInMonth(){return p(this.year,this.month)}get daysInYear(){return this.isValid?
x(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?F(this.weekYear):NaN}resolvedLocaleOptions(a={}){const {locale:l,numberingSystem:y,calendar:H}=fb.create(this.loc.clone(a),a).resolvedOptions(this);return{locale:l,numberingSystem:y,outputCalendar:H}}toUTC(a=0,l={}){return this.setZone(db.instance(a),l)}toLocal(){return this.setZone(Wa.defaultZone)}setZone(a,{keepLocalTime:l=!1,keepCalendarTime:y=!1}={}){a=Ma(a,Wa.defaultZone);if(a.equals(this.zone))return this;if(a.isValid){let H=
this.ts;if(l||y)l=a.offset(this.ts),y=this.toObject(),[H]=vb(y,l,a);return jb(this,{ts:H,zone:a})}return Da.invalid(rb(a))}reconfigure({locale:a,numberingSystem:l,outputCalendar:y}={}){a=this.loc.clone({locale:a,numberingSystem:l,outputCalendar:y});return jb(this,{loc:a})}setLocale(a){return this.reconfigure({locale:a})}set(a){if(!this.isValid)return this;a=k(a,Ka);var l=!z(a.weekYear)||!z(a.weekNumber)||!z(a.weekday);const y=!z(a.ordinal),H=!z(a.year),N=!z(a.month)||!z(a.day),S=a.weekYear||a.weekNumber;
if((H||N||y)&&S)throw new Ab("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(N&&y)throw new Ab("Can't mix ordinal dates with month/day");l?l=Ha({...qa(this.c),...a}):z(a.ordinal)?(l={...this.toObject(),...a},z(a.day)&&(l.day=Math.min(p(l.year,l.month),l.day))):l=Ba({...Fa(this.c),...a});const [aa,fa]=vb(l,this.o,this.zone);return jb(this,{ts:aa,o:fa})}plus(a){if(!this.isValid)return this;a=La.fromDurationLike(a);return jb(this,v(this,a))}minus(a){if(!this.isValid)return this;
a=La.fromDurationLike(a).negate();return jb(this,v(this,a))}startOf(a){if(!this.isValid)return this;const l={};a=La.normalizeUnit(a);switch(a){case "years":l.month=1;case "quarters":case "months":l.day=1;case "weeks":case "days":l.hour=0;case "hours":l.minute=0;case "minutes":l.second=0;case "seconds":l.millisecond=0}"weeks"===a&&(l.weekday=1);"quarters"===a&&(l.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(l)}endOf(a){return this.isValid?this.plus({[a]:1}).startOf(a).minus(1):this}toFormat(a,
l={}){return this.isValid?fb.create(this.loc.redefaultToEN(l)).formatDateTimeFromString(this,a):"Invalid DateTime"}toLocaleString(a=Rb,l={}){return this.isValid?fb.create(this.loc.clone(l),a).formatDateTime(this):"Invalid DateTime"}toLocaleParts(a={}){return this.isValid?fb.create(this.loc.clone(a),a).formatDateTimeParts(this):[]}toISO({format:a="extended",suppressSeconds:l=!1,suppressMilliseconds:y=!1,includeOffset:H=!0,extendedZone:N=!1}={}){if(!this.isValid)return null;a="extended"===a;let S=ma(this,
a);return S=S+"T"+oa(this,a,l,y,H,N)}toISODate({format:a="extended"}={}){return this.isValid?ma(this,"extended"===a):null}toISOWeekDate(){return X(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:l=!1,includeOffset:y=!0,includePrefix:H=!1,extendedZone:N=!1,format:S="extended"}={}){return this.isValid?(H?"T":"")+oa(this,"extended"===S,l,a,y,N):null}toRFC2822(){return X(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return X(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?
ma(this,!0):null}toSQLTime({includeOffset:a=!0,includeZone:l=!1,includeOffsetSpace:y=!0}={}){let H="HH:mm:ss.SSS";if(l||a)y&&(H+=" "),l?H+="z":a&&(H+="ZZ");return X(this,H,!0)}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):
NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(a={}){if(!this.isValid)return{};const l={...this.c};a.includeConfig&&(l.outputCalendar=this.outputCalendar,l.numberingSystem=this.loc.numberingSystem,l.locale=this.loc.locale);return l}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(a,l="milliseconds",y={}){if(!this.isValid||!a.isValid)return La.invalid("created by diffing an invalid DateTime");y={locale:this.locale,numberingSystem:this.numberingSystem,...y};const H=
(Array.isArray(l)?l:[l]).map(La.normalizeUnit);l=a.valueOf()>this.valueOf();a=Ja(l?this:a,l?a:this,H,y);return l?a.negate():a}diffNow(a="milliseconds",l={}){return this.diff(Da.now(),a,l)}until(a){return this.isValid?Va.fromDateTimes(this,a):this}hasSame(a,l){if(!this.isValid)return!1;const y=a.valueOf();a=this.setZone(a.zone,{keepLocalTime:!0});return a.startOf(l)<=y&&y<=a.endOf(l)}equals(a){return this.isValid&&a.isValid&&this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this.loc.equals(a.loc)}toRelative(a=
{}){if(!this.isValid)return null;const l=a.base||Da.fromObject({},{zone:this.zone}),y=a.padding?this<l?-a.padding:a.padding:0;let H="years months days hours minutes seconds".split(" "),N=a.unit;Array.isArray(a.unit)&&(H=a.unit,N=void 0);return bb(l,this.plus(y),{...a,numeric:"always",units:H,unit:N})}toRelativeCalendar(a={}){return this.isValid?bb(a.base||Da.fromObject({},{zone:this.zone}),this,{...a,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...a){if(!a.every(Da.isDateTime))throw new gb("min requires all arguments be DateTimes");
return G(a,l=>l.valueOf(),Math.min)}static max(...a){if(!a.every(Da.isDateTime))throw new gb("max requires all arguments be DateTimes");return G(a,l=>l.valueOf(),Math.max)}static fromFormatExplain(a,l,y={}){const {locale:H=null,numberingSystem:N=null}=y;y=Ua.fromOpts({locale:H,numberingSystem:N,defaultToEN:!0});return ob(y,a,l)}static fromStringExplain(a,l,y={}){return Da.fromFormatExplain(a,l,y)}static get DATE_SHORT(){return Rb}static get DATE_MED(){return ec}static get DATE_MED_WITH_WEEKDAY(){return Wc}static get DATE_FULL(){return fc}static get DATE_HUGE(){return gc}static get TIME_SIMPLE(){return hc}static get TIME_WITH_SECONDS(){return ic}static get TIME_WITH_SHORT_OFFSET(){return jc}static get TIME_WITH_LONG_OFFSET(){return kc}static get TIME_24_SIMPLE(){return lc}static get TIME_24_WITH_SECONDS(){return mc}static get TIME_24_WITH_SHORT_OFFSET(){return nc}static get TIME_24_WITH_LONG_OFFSET(){return oc}static get DATETIME_SHORT(){return pc}static get DATETIME_SHORT_WITH_SECONDS(){return qc}static get DATETIME_MED(){return rc}static get DATETIME_MED_WITH_SECONDS(){return sc}static get DATETIME_MED_WITH_WEEKDAY(){return Xc}static get DATETIME_FULL(){return tc}static get DATETIME_FULL_WITH_SECONDS(){return uc}static get DATETIME_HUGE(){return vc}static get DATETIME_HUGE_WITH_SECONDS(){return wc}}
C.DateTime=Da;C.Info=Bb;C.Interval=Va})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(C,z,I){function B(c){c||(c=I.getLocale());let g=c in m;if(!g){const u=c.split("-");1<u.length&&u[0]in m&&(c=u[0],g=!0);g||(c="en")}const [n,x,p="#,##0.###"]=m[c];return{decimal:n,group:x,pattern:p}}function f(c,g,n){n=n||{};!0===n.places&&(n.places=0);Infinity===n.places&&(n.places=6);g=g.split(".");var x="string"===typeof n.places&&n.places.indexOf(","),p=n.places;x?p=n.places.substring(x+
1):0<=p||(p=(g[1]||[]).length);0>n.round||(c=Number(c.toFixed(Number(p))));c=String(Math.abs(c)).split(".");const u=c[1]||"";g[1]||n.places?(x&&(n.places=n.places.substring(0,x)),x=void 0!==n.places?n.places:g[1]&&g[1].lastIndexOf("0")+1,x>u.length&&(c[1]=u.padEnd(Number(x),"0")),p<u.length&&(c[1]=u.substr(0,Number(p)))):c[1]&&c.pop();p=g[0].replace(",","");x=p.indexOf("0");-1!==x&&(x=p.length-x,x>c[0].length&&(c[0]=c[0].padStart(x,"0")),p.includes("#")||(c[0]=c[0].substr(c[0].length-x)));p=g[0].lastIndexOf(",");
let F,M;-1!==p&&(F=g[0].length-p-1,g=g[0].substr(0,p),p=g.lastIndexOf(","),-1!==p&&(M=g.length-p-1));g=[];for(p=c[0];p;)x=p.length-F,g.push(0<x?p.substr(x):p),p=0<x?p.slice(0,x):"",M&&(F=M,M=void 0);c[0]=g.reverse().join(n.group||",");return c.join(n.decimal||".")}function G(c){c=c||{};var g=B(c.locale);const n=c.pattern||g.pattern,x=g.group,p=g.decimal;let u=1;if(n.includes("%"))u/=100;else if(n.includes("\u2030"))u/=1E3;else if(n.includes("\u00a4"))throw Error("currency notation not supported");
g=n.split(";");1===g.length&&g.push("-"+g[0]);return{regexp:q(g,F=>{F="(?:"+z.escapeRegExpString(F,".")+")";return F.replace(h,M=>{const D={signed:!1,separator:c.strict?x:[x,""],fractional:c.fractional,decimal:p,exponent:!1};M=M.split(".");let b=c.places;1===M.length&&1!==u&&(M[1]="###");1===M.length||0===b?D.fractional=!1:(void 0===b&&(b=c.pattern?M[1].lastIndexOf("0")+1:Infinity),b&&null==c.fractional&&(D.fractional=!0),!c.places&&b<M[1].length&&(b+=","+M[1].length),D.places=b);M=M[0].split(",");
1<M.length&&(D.groupSize=M.pop().length,1<M.length&&(D.groupSize2=M.pop().length));return"("+E(D)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:x,decimal:p,factor:u}}function E(c){c=c||{};"places"in c||(c.places=Infinity);"string"!==typeof c.decimal&&(c.decimal=".");"fractional"in c&&!/^0/.test(String(c.places))||(c.fractional=[!0,!1]);"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var g=w(c);const n=q(c.fractional,p=>{let u="";p&&0!==c.places&&(u="\\"+c.decimal,u=Infinity===
c.places?"(?:"+u+"\\d+)?":u+("\\d{"+c.places+"}"));return u},!0),x=q(c.exponent,p=>p?"([eE]"+w({signed:c.eSigned})+")":"");g+=n;n&&(g="(?:(?:"+g+")|(?:"+n+"))");return g+x}function w(c){c=c||{};"signed"in c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";const g=q(c.signed,x=>x?"[-+]":"",!0),n=q(c.separator,x=>{if(!x)return"(?:\\d+)";x=z.escapeRegExpString(x);" "===x?x="\\s":"\u00a0"===x&&(x="\\s\\xa0");const p=c.groupSize,u=c.groupSize2;return u?(x="(?:0|[1-9]\\d{0,"+
(u-1)+"}(?:["+x+"]\\d{"+u+"})*["+x+"]\\d{"+p+"})",0<p-u?"(?:"+x+"|(?:0|[1-9]\\d{0,"+(p-1)+"}))":x):"(?:0|[1-9]\\d{0,"+(p-1)+"}(?:["+x+"]\\d{"+p+"})*)"},!0);return g+n}const m={ar:[".",","],bg:[",","\u00a0"],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",",
"."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},h=/[#0,]*[#0](?:\.0*#*)?/,q=(c,g,n)=>{if(!(c instanceof Array))return g(c);const x=[];for(let p=0;p<c.length;p++)x.push(g(c[p]));
c=x.join("|");return"("+(n?"?:":"")+c+")"};C._parseInfo=G;C.format=function(c,g){g={...g};var n=B(g.locale);g.customs=n;var x=g.pattern||n.pattern;if(isNaN(c)||Infinity===Math.abs(c))return null;{g=g||{};n=g.customs.group;const u=g.customs.decimal;x=x.split(";");var p=x[0];x=x[0>c?1:0]||"-"+p;if(x.includes("%"))c*=100;else if(x.includes("\u2030"))c*=1E3;else{if(x.includes("\u00a4"))throw Error("currency notation not supported");if(x.includes("E"))throw Error("exponential notation not supported");
}const F=h;p=p.match(F);if(!p)throw Error("unable to find a number expression in pattern: "+x);!1===g.fractional&&(g.places=0);c=x.replace(F,f(c,p[0],{decimal:u,group:n,places:g.places,round:g.round}))}return c};C.getCustoms=B;C.parse=function(c,g){g=G(g);c=(new RegExp("^"+g.regexp+"$")).exec(c);if(!c)return NaN;let n=c[1];if(!c[1]){if(!c[2])return NaN;n=c[2];g.factor*=-1}n=n.replace(new RegExp("["+g.group+"\\s\\xa0]","g"),"").replace(g.decimal,".");return Number(n)*g.factor};C.regexp=function(c){return G(c).regexp};
Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../geometry/Extent","../../../layers/support/Field"],function(C,z,I){function B(f){return f instanceof Date}C.FeatureServiceDatabaseType=void 0;(function(f){f[f.Standardised=0]="Standardised";f[f.StandardisedNoInterval=1]="StandardisedNoInterval";f[f.SqlServer=2]="SqlServer";f[f.Oracle=3]="Oracle";f[f.Postgres=4]="Postgres";f[f.PGDB=
5]="PGDB";f[f.FILEGDB=6]="FILEGDB";f[f.NotEvaluated=7]="NotEvaluated"})(C.FeatureServiceDatabaseType||(C.FeatureServiceDatabaseType={}));C.IdState=void 0;(function(f){f[f.InFeatureSet=0]="InFeatureSet";f[f.NotInFeatureSet=1]="NotInFeatureSet";f[f.Unknown=2]="Unknown"})(C.IdState||(C.IdState={}));C.callback=function(f,G){return function(){try{f.apply(null,arguments)}catch(E){G.reject(E)}}};C.cloneAttributes=function(f){const G={};for(const E in f)G[E]=f[E];return G};C.cloneField=function(f){return I.fromJSON(f.toJSON())};
C.convertLinearUnitsToCode=function(f){if(void 0===f)return null;if("number"===typeof f||"number"===typeof f)return f;switch(f.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};C.convertSquareUnitsToCode=function(f){if(void 0===f)return null;if("number"===typeof f)return f;switch(f.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};
C.defaultMaxRecords=1E3;C.equalityTest=function(f,G){return f===G?!0:B(f)&&B(G)?f.getTime()===G.getTime():!1};C.errback=function(f){return function(G){f.reject(G)}};C.esriFieldToJson=function(f){return f.toJSON?f.toJSON():f};C.extractServiceUrl=function(f){if(void 0===f)return"";f=f.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");f=f.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return f=f.split("?")[0]};C.isArray=function(f){return f instanceof Array};C.isBoolean=function(f){return"boolean"===
typeof f};C.isDate=B;C.isNumber=function(f){return"number"===typeof f};C.isString=function(f){return"string"===typeof f||f instanceof String};C.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID",
"global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",
esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};C.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};C.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",
polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};C.sameGeomType=function(f,G){return f===G||"point"===f&&"esriGeometryPoint"===G||"polyline"===f&&"esriGeometryPolyline"===G||"polygon"===f&&"esriGeometryPolygon"===
G||"extent"===f&&"esriGeometryEnvelope"===G||"multipoint"===f&&"esriGeometryMultipoint"===G||"point"===G&&"esriGeometryPoint"===f||"polyline"===G&&"esriGeometryPolyline"===f||"polygon"===G&&"esriGeometryPolygon"===f||"extent"===G&&"esriGeometryEnvelope"===f||"multipoint"===G&&"esriGeometryMultipoint"===f?!0:!1};C.shapeExtent=function(f){if(null===f)return null;switch(f.type){case "polygon":case "multipoint":case "polyline":return f.extent;case "point":return new z({xmin:f.x,ymin:f.y,xmax:f.x,ymax:f.y,
spatialReference:f.spatialReference});case "extent":return f}return null};C.stableStringify=function(f,G){G||(G={});"function"===typeof G&&(G={cmp:G});const E="boolean"===typeof G.cycles?G.cycles:!1,w=G.cmp&&function(h){return function(q){return function(c,g){return h({key:c,value:q[c]},{key:g,value:q[g]})}}}(G.cmp),m=[];return function c(q){q&&q.toJSON&&"function"===typeof q.toJSON&&(q=q.toJSON());if(void 0!==q){if("number"===typeof q)return isFinite(q)?""+q:"null";if("object"!==typeof q)return JSON.stringify(q);
var g;if(Array.isArray(q)){var n="[";for(g=0;g<q.length;g++)g&&(n+=","),n+=c(q[g])||"null";return n+"]"}if(null===q)return"null";if(m.includes(q)){if(E)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var x=m.push(q)-1,p=Object.keys(q).sort(w&&w(q));n="";for(g=0;g<p.length;g++){const u=p[g],F=c(q[u]);F&&(n&&(n+=","),n+=JSON.stringify(u)+":"+F)}m.splice(x,1);return"{"+n+"}"}}(f)};C.toEsriGeometryType=function(f){switch(f){case "point":return"esriGeometryPoint";
case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/Attachment":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(C,z){return function(I){function B(f,G,E,w,m,h){var q=I.call(this)||this;q.attachmentUrl=m;q.immutable=!1;q.setField("id",f);q.setField("name",
G);q.setField("contenttype",E);q.setField("size",w);q.setField("exifinfo",h);q.immutable=!0;return q}C._inheritsLoose(B,I);return B}(z)})},"esri/arcade/Feature":function(){define("../chunks/_rollupPluginBabelHelpers ./Dictionary ./ImmutableArray ../chunks/languageUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ../layers/graphics/featureConversionUtils ../core/maybe".split(" "),function(C,z,I,B,f,G,E,w,m){return function(){function h(){this.arcadeDeclaredClass="esri.arcade.Feature";
this._layer=this.attributes=this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}h.createFromGraphic=function(c){const g=new h;g._geometry=m.isSome(c.geometry)?c.geometry:null;g.attributes=void 0===c.attributes?{}:null===c.attributes?{}:c.attributes;c._sourceLayer?(g._layer=c._sourceLayer,g._datesfixed=!1):c._layer?(g._layer=c._layer,g._datesfixed=!1):c.layer&&"fields"in c.layer?(g._layer=c.layer,g._datesfixed=!1):c.sourceLayer&&
"fields"in c.sourceLayer&&(g._layer=c.sourceLayer,g._datesfixed=!1);return g};h.createFromArcadeFeature=function(c){const g=new h;g._datesfixed=c._datesfixed;g.attributes=c.attributes;g._geometry=c._geometry;g._optimizedGeomDefinition=c._optimizedGeomDefinition;c._layer&&(g._layer=c._layer);return g};h.createFromOptimisedFeature=function(c,g,n){const x=new h;x._geometry=c.geometry?{geometry:c.geometry}:null;x._optimizedGeomDefinition=n;x.attributes=c.attributes||{};x._layer=g;x._datesfixed=!1;return x};
h.createFromArcadeDictionary=function(c){const g=new h;g.attributes=c.field("attributes");null!==g.attributes?g.attributes instanceof z?(g.attributes=g.attributes.attributes,null===g.attributes&&(g.attributes={})):g.attributes={}:g.attributes={};g._geometry=c.field("geometry");null!==g._geometry&&(g._geometry instanceof z?g._geometry=h.parseGeometryFromDictionary(g._geometry):g._geometry instanceof f||(g._geometry=null));return g};h.createFromGraphicLikeObject=function(c,g,n=null){const x=new h;null===
g&&(g={});x.attributes=g;x._geometry=m.isSome(c)?c:null;x._layer=n;x._layer&&(x._datesfixed=!1);return x};var q=h.prototype;q.repurposeFromGraphicLikeObject=function(c,g,n=null){null===g&&(g={});this.attributes=g;this._geometry=c?c:null;this._datesfixed=(this._layer=n)?!1:!0};q.castToText=function(){let c="";!1===this._datesfixed&&this._fixDates();for(const g in this.attributes){""!==c&&(c+=",");const n=this.attributes[g];null==n?c+=JSON.stringify(g)+":null":B.isBoolean(n)||B.isNumber(n)||B.isString(n)?
c+=JSON.stringify(g)+":"+JSON.stringify(n):n instanceof f?c+=JSON.stringify(g)+":"+B.toStringExplicit(n):n instanceof I?c+=JSON.stringify(g)+":"+B.toStringExplicit(n):n instanceof Array?c+=JSON.stringify(g)+":"+B.toStringExplicit(n):n instanceof Date?c+=JSON.stringify(g)+":"+JSON.stringify(n):null!==n&&"object"===typeof n&&void 0!==n.castToText&&(c+=JSON.stringify(g)+":"+n.castToText())}return'{"geometry":'+(null===this.geometry()?"null":B.toStringExplicit(this.geometry()))+',"attributes":{'+c+"}}"};
q._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{var c=[];for(let g=0;g<this._layer.fields.length;g++){const n=this._layer.fields[g];"date"!==n.type&&"esriFieldTypeDate"!==n.type||c.push(n.name)}this._datefields=c;0<c.length&&this._fixDateFields(c)}this._datesfixed=!0};q._fixDateFields=function(c){this.attributes={...this.attributes};for(let g=0;g<c.length;g++){let n=this.attributes[c[g]];if(null!==n)if(void 0===n)for(const x in this.attributes){if(x.toLowerCase()===
c[g].toLowerCase()){n=this.attributes[x];null===n||n instanceof Date||(this.attributes[x]=new Date(n));break}}else n instanceof Date||(this.attributes[c[g]]=new Date(n))}};q.geometry=function(){if(null===this._geometry||this._geometry instanceof f)return this._geometry;this._optimizedGeomDefinition?(this._geometry=m.unwrap(E.fromJSON(w.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=
this._optimizedGeomDefinition.spatialReference):this._geometry=m.unwrap(E.fromJSON(this._geometry));return this._geometry};q.field=function(c){!1===this._datesfixed&&this._fixDates();var g=this.attributes[c];if(void 0!==g)return g;g=c.toLowerCase();for(const n in this.attributes)if(n.toLowerCase()===g)return this.attributes[n];if(this._hasFieldDefinition(g))return null;throw Error("Field not Found : "+c);};q._hasFieldDefinition=function(c){if(null===this._layer)return!1;for(let g=0;g<this._layer.fields.length;g++)if(this._layer.fields[g].name.toLowerCase()===
c)return!0;return!1};q.setField=function(c,g){if(this.immutable)throw Error("Feature is Immutable");if(!1===B.isSimpleType(g))throw Error("Illegal Value Assignment to Feature");const n=c.toLowerCase();if(void 0===this.attributes[c])for(const x in this.attributes)if(x.toLowerCase()===n){this.attributes[x]=g;return}this.attributes[c]=g};q.hasField=function(c){const g=c.toLowerCase();if(void 0!==this.attributes[c])return!0;for(const n in this.attributes)if(n.toLowerCase()===g)return!0;return this._hasFieldDefinition(g)?
!0:!1};q.keys=function(){let c=[];const g={};for(var n in this.attributes)c.push(n),g[n.toLowerCase()]=1;if(null!==this._layer)for(n=0;n<this._layer.fields.length;n++){const x=this._layer.fields[n];1!==g[x.name.toLowerCase()]&&c.push(x.name)}return c=c.sort()};h.parseGeometryFromDictionary=function(c){c=h._convertDictionaryToJson(c,!0);void 0!==c.hasm&&(c.hasM=c.hasm,delete c.hasm);void 0!==c.hasz&&(c.hasZ=c.hasz,delete c.hasz);void 0!==c.spatialreference&&(c.spatialReference=c.spatialreference,delete c.spatialreference);
void 0!==c.rings&&(c.rings=this._fixPathArrays(c.rings,!0===c.hasZ,!0===c.hasZ));void 0!==c.paths&&(c.paths=this._fixPathArrays(c.paths,!0===c.hasZ,!0===c.hasM));void 0!==c.points&&(c.points=this._fixPointArrays(c.points,!0===c.hasZ,!0===c.hasM));return E.fromJSON(c)};h._fixPathArrays=function(c,g,n){const x=[];if(c instanceof Array)for(var p=0;p<c.length;p++)x.push(this._fixPointArrays(c[p],g,n));else if(c instanceof I)for(p=0;p<c.length();p++)x.push(this._fixPointArrays(c.get(p),g,n));return x};
h._fixPointArrays=function(c,g,n){const x=[];if(c instanceof Array)for(var p=0;p<c.length;p++){var u=c[p];u instanceof G?g&&n?x.push([u.x,u.y,u.z,u.m]):g?x.push([u.x,u.y,u.z]):n?x.push([u.x,u.y,u.m]):x.push([u.x,u.y]):u instanceof I?x.push(u.toArray()):x.push(u)}else if(c instanceof I)for(p=0;p<c.length();p++)u=c.get(p),u instanceof G?g&&n?x.push([u.x,u.y,u.z,u.m]):g?x.push([u.x,u.y,u.z]):n?x.push([u.x,u.y,u.m]):x.push([u.x,u.y]):u instanceof I?x.push(u.toArray()):x.push(u);return x};h._convertDictionaryToJson=
function(c,g=!1){const n={};for(const x in c.attributes){let p=c.attributes[x];p instanceof z&&(p=h._convertDictionaryToJson(p));g?n[x.toLowerCase()]=p:n[x]=p}return n};h.parseAttributesFromDictionary=function(c){const g={};for(const n in c.attributes){const x=c.attributes[n];if(B.isSimpleType(x))g[n]=x;else throw Error("Illegal Argument");}return g};h.fromJson=function(c){let g=null;null!==c.geometry&&void 0!==c.geometry&&(g=E.fromJSON(c.geometry));const n={};if(null!==c.attributes&&void 0!==c.attributes)for(const x in c.attributes){const p=
c.attributes[x];if(null===p)n[x]=p;else if(B.isString(p)||B.isNumber(p)||B.isBoolean(p)||B.isDate(p))n[x]=p;else throw Error("Illegal Argument");}return h.createFromGraphicLikeObject(g,n,null)};q.fullSchema=function(){return this._layer};q.gdbVersion=function(){if(null===this._layer)return"";const c=this._layer.gdbVersion;return void 0===c?"":""===c&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":c};q.castAsJson=function(c){const g={attributes:{},geometry:!0===(null==
c?void 0:c.keepGeometryType)?this.geometry():this.geometry().toJSON()};for(const n in this.attributes){const x=this.attributes[n];void 0!==x&&(g.attributes[n]=B.castAsJson(x,c))}return g};q.castAsJsonAsync=function(){var c=C._asyncToGenerator(function*(g,n){return this.castAsJson(n)});return function(){return c.apply(this,arguments)}}();return h}()})},"esri/arcade/treeAnalysis":function(){define(["exports"],function(C){function z(b){return"string"===typeof b||b instanceof String}function I(b,d){return"0"!==
b.min&&d.length<Number(b.min)||"*"!==b.max&&d.length>Number(b.max)?-2:1}function B(b,d,k){if(null!==k.localScope&&void 0!==k.localScope[b.toLowerCase()]){const e=k.localScope[b.toLowerCase()];if("FormulaFunction"===e.type||"any"===e.type)return void 0===e.signature&&(e.signature={min:"0",max:"*"}),I(e.signature,d)}return void 0!==k.globalScope[b.toLowerCase()]&&(b=k.globalScope[b.toLowerCase()],"FormulaFunction"===b.type||"any"===b.type)?(void 0===b.signature&&(b.signature={min:"0",max:"*"}),I(b.signature,
d)):-1}function f(b,d){if(b)for(const k of b)G(k,d)}function G(b,d){if(b&&!1!==d(b))switch(b.type){case "ArrayExpression":f(b.elements,d);break;case "AssignmentExpression":case "BinaryExpression":G(b.left,d);G(b.right,d);break;case "BlockStatement":f(b.body,d);break;case "CallExpression":G(b.callee,d);f(b.arguments,d);break;case "ExpressionStatement":G(b.expression,d);break;case "ForInStatement":G(b.left,d);G(b.right,d);G(b.body,d);break;case "ForStatement":G(b.init,d);G(b.test,d);G(b.update,d);G(b.body,
d);break;case "FunctionDeclaration":G(b.id,d);f(b.params,d);G(b.body,d);break;case "IfStatement":G(b.test,d);G(b.consequent,d);G(b.alternate,d);break;case "LogicalExpression":G(b.left,d);G(b.right,d);break;case "MemberExpression":G(b.object,d);G(b.property,d);break;case "ObjectExpression":f(b.properties,d);break;case "Program":f(b.body,d);break;case "Property":G(b.key,d);G(b.value,d);break;case "ReturnStatement":G(b.argument,d);break;case "UnaryExpression":G(b.argument,d);break;case "UpdateExpression":G(b.argument,
d);break;case "VariableDeclaration":f(b.declarations,d);break;case "VariableDeclarator":G(b.id,d);G(b.init,d);break;case "TemplateLiteral":f(b.expressions,d),f(b.quasis,d)}}function E(b,d=!0){let k=g(b,"SYNTAX","UNREOGNISED");try{switch(b.type){case "VariableDeclarator":return"Identifier"!==b.id.type?g(b,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==b.init?E(b.init,!1):"";case "VariableDeclaration":for(var e=0;e<b.declarations.length;e++)if(k=E(b.declarations[e],d),""!==k)return k;return"";case "ForInStatement":k=
E(b.left,d);if(""!==k)break;if("VariableDeclaration"===b.left.type){if(1<b.left.declarations.length)return g(b,"SYNTAX","ONLY1VAR");if(null!==b.left.declarations[0].init)return g(b,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==b.left.type)return g(b,"SYNTAX","LEFTNOTVAR");k=E(b.right,d);if(""!==k)break;k=E(b.body,d);if(""!==k)break;return"";case "ForStatement":if(null!==b.test&&(k=E(b.test,d),""!==k))break;if(null!==b.init&&(k=E(b.init,d),""!==k))break;if(null!==b.update&&(k=E(b.update,d),""!==
k))break;if(null!==b.body&&(k=E(b.body,d),""!==k))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":k=E(b.test,d);if(""!==k)break;if(null!==b.consequent&&(k=E(b.consequent,!1),""!==k))break;if(null!==b.alternate&&(k=E(b.alternate,!1),""!==k))break;return"";case "BlockStatement":e=[];for(var T=0;T<b.body.length;T++)"EmptyStatement"!==b.body[T].type&&e.push(b.body[T]);b.body=e;for(e=0;e<b.body.length;e++)if(k=E(b.body[e],
d),""!==k)return k;return"";case "FunctionDeclaration":return!1===d?g(b,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==b.id.type?g(b,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):E(b.body,!1);case "ReturnStatement":return null!==b.argument?E(b.argument,d):"";case "UpdateExpression":return"Identifier"!==b.argument.type&&"MemberExpression"!==b.argument.type?g(b,"SYNTAX","ASSIGNMENTTOVARSONLY"):E(b.argument,d);case "AssignmentExpression":if("Identifier"!==b.left.type&&"MemberExpression"!==b.left.type)return g(b,
"SYNTAX","ASSIGNMENTTOVARSONLY");k=E(b.left,d);if(""!==k)break;switch(b.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return g(b,"SYNTAX","OPERATORNOTRECOGNISED")}return E(b.right,!1);case "ExpressionStatement":return E(b.expression,!1);case "Identifier":k="";break;case "MemberExpression":k=E(b.object,d);if(""!==k)break;return!0===b.computed?E(b.property,d):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==
b.callee.type)return g(b,"SYNTAX","ONLYNODESSUPPORTED");k="";for(e=0;e<b.arguments.length;e++)if(k=E(b.arguments[e],d),""!==k)return k;return"";case "UnaryExpression":k=E(b.argument,d);break;case "BinaryExpression":k=E(b.left,d);if(""!==k)break;k=E(b.right,d);if(""!==k)break;switch(b.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
default:return g(b,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":k=E(b.left,d);if(""!==k)break;k=E(b.right);if(""!==k)break;switch(b.operator){case "\x26\x26":case "||":break;default:return g(b,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ArrayExpression":k="";for(e=0;e<b.elements.length&&(k=E(b.elements[e],d),""===k);e++);break;case "TemplateLiteral":k="";for(e=0;e<b.quasis.length;e++)if(k=E(b.quasis[e],d),""!==k)return k;for(e=0;e<b.expressions.length&&(k=E(b.expressions[e],
d),""===k);e++);break;case "ObjectExpression":k="";for(e=0;e<b.properties.length;e++){k="";if(null!==b.properties[e].key&&("Literal"!==b.properties[e].key.type&&"Identifier"!==b.properties[e].key.type&&(k=g(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===b.properties[e].key.type)){T=b.properties[e].key;const ea="value"in T?T.value:null;"string"===typeof ea||ea instanceof String||(k=g(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===k&&(k=E(b.properties[e],d));if(""!==k)break}break;case "Property":if("Literal"!==
b.key.type&&"Identifier"!==b.key.type)return g(b,"SYNTAX","ONLYLITERAL");if("Identifier"!==b.key.type&&(k=E(b.key,d),""!==k))break;k=E(b.value,d)}return k}catch(ea){throw ea;}}function w(b,d){var k=g(b,"SYNTAX","UNREOGNISED");let e=null,T="";try{switch(b.type){case "VariableDeclarator":{const W=null===b.init?"":w(b.init,d);if(""!==W)return W;"Identifier"===b.id.type&&(null===d.localScope?d.globalScope[b.id.name.toLowerCase()]={type:"any"}:d.localScope[b.id.name.toLowerCase()]={type:"any"});return""}case "FunctionDeclaration":e=
h(b.id.name.toLowerCase(),b);T=q(b,d);if(""!==T)return T;if(null!==d.localScope)return g(b,"SYNTAX","GLOBALFUNCTIONSONLY");e.isnative=!1;d.globalScope[b.id.name.toLowerCase()]={type:"FormulaFunction",signature:[e]};return"";case "VariableDeclaration":k="";for(var ea=0;ea<b.declarations.length&&(k=w(b.declarations[ea],d),""===k);ea++);break;case "IfStatement":k=w(b.test,d);if(""!==k)break;if("AssignmentExpression"===b.test.type||"UpdateExpression"===b.test.type)return g(b.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");
if(null!==b.consequent&&(k=w(b.consequent,d),""!==k))break;if(null!==b.alternate&&(k=w(b.alternate,d),""!==k))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(ea=0;ea<b.body.length;ea++)if(k=w(b.body[ea],d),""!==k)return k;return"";case "ReturnStatement":return null!==b.argument?w(b.argument,d):"";case "ForInStatement":if("VariableDeclaration"===b.left.type){if(1<b.left.declarations.length)return g(b,"SYNTAX","ONLY1VAR");if(null!==b.left.declarations[0].init)return g(b,"SYNTAX",
"CANNOTDECLAREVAL")}else if("Identifier"!==b.left.type)return g(b,"SYNTAX","LEFTNOTVAR");k=w(b.left,d);if(""!==k)break;k=w(b.right,d);if(""!==k)break;k=w(b.body,d);if(""!==k)break;return"";case "ForStatement":if(null!==b.init&&(k=w(b.init,d),""!==k))break;if(null!==b.test&&(k=w(b.test,d),""!==k))break;if(null!==b.body&&(k=w(b.body,d),""!==k))break;if(null!==b.update&&(k=w(b.update,d),""!==k))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==
b.argument.type&&"MemberExpression"!==b.argument.type)return g(b,"SYNTAX","ASSIGNMENTTOVARSONLY");k=!1;if("MemberExpression"===b.argument.type)return w(b.argument,d);null!==d.localScope&&void 0!==d.localScope[b.argument.name.toLowerCase()]&&(k=!0);void 0!==d.globalScope[b.argument.name.toLowerCase()]&&(k=!0);return!1===k?"Identifier "+b.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==b.left.type&&"MemberExpression"!==b.left.type)return g(b,"SYNTAX","ASSIGNMENTTOVARSONLY");
ea=w(b.right,d);if(""!==ea)return ea;k=!1;if("MemberExpression"===b.left.type)return ea=w(b.left,d),""!==ea?ea:"";null!==d.localScope&&void 0!==d.localScope[b.left.name.toLowerCase()]&&(k=!0);void 0!==d.globalScope[b.left.name.toLowerCase()]&&(k=!0);return!1===k?"Identifier "+b.left.name+" has not been declared.":"";case "ExpressionStatement":return w(b.expression,d);case "Identifier":{const W=b.name.toLowerCase();if(null!==d.localScope&&void 0!==d.localScope[W])return"";k=void 0!==d.globalScope[W]?
"":g(b,"SYNTAX","VARIABLENOTFOUND");break}case "MemberExpression":k=w(b.object,d);if(""!==k)break;return!0===b.computed?w(b.property,d):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":{if("Identifier"!==b.callee.type)return g(b,"SYNTAX","ONLYNODESSUPPORTED");k="";for(ea=0;ea<b.arguments.length;ea++)if(k=w(b.arguments[ea],d),""!==k)return k;const W=B(b.callee.name,b.arguments,d);-1===W&&(k=g(b,"SYNTAX","NOTFOUND"));-2===W&&(k=g(b,"SYNTAX","WRONGSIGNATURE"));break}case "UnaryExpression":k=
w(b.argument,d);break;case "BinaryExpression":k=w(b.left,d);if(""!==k)break;k=w(b.right,d);if(""!==k)break;return"";case "LogicalExpression":k=w(b.left,d);if(""!==k)break;if("AssignmentExpression"===b.left.type||"UpdateExpression"===b.left.type)return g(b.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");k=w(b.right,d);if(""!==k)break;return"AssignmentExpression"===b.right.type||"UpdateExpression"===b.right.type?g(b.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ArrayExpression":k=
"";for(ea=0;ea<b.elements.length&&(k=w(b.elements[ea],d),""===k);ea++);break;case "TemplateLiteral":k="";for(ea=0;ea<b.quasis.length;ea++)if(k=w(b.quasis[ea],d),""!==k)return k;for(ea=0;ea<b.expressions.length&&(k=w(b.expressions[ea],d),""===k);ea++);break;case "ObjectExpression":k="";for(ea=0;ea<b.properties.length;ea++){k="";if(null!==b.properties[ea].key&&("Literal"!==b.properties[ea].key.type&&"Identifier"!==b.properties[ea].key.type&&(k=g(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===
b.properties[ea].key.type)){const W=b.properties[ea].key,pa="value"in W?W.value:null;"string"===typeof pa||pa instanceof String||(k=g(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===k&&(k=w(b.properties[ea],d));if(""!==k)break}break;case "Property":if("Literal"!==b.key.type&&"Identifier"!==b.key.type)return g(b,"SYNTAX","ONLYLITERAL");if("Identifier"!==b.key.type&&(k=w(b.key,d),""!==k))break;k=w(b.value,d)}return k}catch(W){throw W;}}function m(b,d){let k=!1;const e=d.toLowerCase();G(b,T=>{if(k)return!1;
"Identifier"===T.type&&T.name&&T.name.toLowerCase()===e&&(k=!0);return!0});return k}function h(b,d){const k=[];if(void 0!==d.params&&null!==d.params)for(let e=0;e<d.params.length;e++)k.push("any");return{name:b,return:"any",params:k}}function q(b,d){d={globalScope:d.globalScope,localScope:{}};for(let k=0;k<b.params.length;k++)d.localScope[b.params[k].name.toLowerCase()]={type:"any"};return w(b.body,d)}function c(b,d,k,e){const T={};if(void 0===b||null===b)b={};if(void 0===k||null===k)k={};T.infinity=
{type:"any"};T.textformatting={type:"any"};T.pi={type:"any"};for(const ea in d)"sync"===e&&void 0!==d[ea].min?T[ea]={type:"FormulaFunction",signature:{min:d[ea].min,max:d[ea].max}}:"sync"!==e&&void 0!==d[ea].fmin&&(T[ea]={type:"FormulaFunction",signature:{min:d[ea].fmin,max:d[ea].fmax}});for(d=0;d<k.length;d++)e=k[d],T[e.name]={type:"FormulaFunction",signature:e};for(const ea in b)T[ea]=b[ea],T[ea].type="any";return T}function g(b,d,k){let e="";switch(d){case "SYNTAX":e="Syntax Error: ";break;case "RUNTIME":e=
"Runtime Error: ";break;default:e="Syntax Error: "}try{switch(b.type){case "IfStatement":switch(k){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":e+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":e+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(k){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":e+=" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":e+=" Assignments can only be made to identifiers"}break;
case "ExpressionStatement":e+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(k){case "GLOBALFUNCTIONSONLY":e+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":e+=" Function Definition must have an identifier"}break;case "VariableDeclaration":e+=" Only 1 variable can be declared at a time";break;case "VariableDeclarator":switch(k){case "FUNCTIONVARIABLEDECLARATOR":e+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":e+=
" Variable Definition must have an identifier"}break;case "Identifier":e+=" Identifier Not Found. ";e+=b.name;break;case "ObjectExpression":switch(k){case "OBJECTPROPERTYMUSTBESTRING":e+=" Property name must be a string"}break;case "ForStatement":switch(k){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":e+=" Non Boolean used as Condition"}break;case "ForInStatement":switch(k){case "ONLY1VAR":e+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":e+=" Can only declare value for use with IN";
break;case "LEFTNOVAR":e+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":e+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":e+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(k){case "PROPERTYNOTFOUND":e+="Cannot find member property. ";e+=!1===b.computed?"Identifier"===b.property.type?b.property.name:"":"";break;case "OUTOFBOUNDS":e+="Out of Bounds. ";e+=!1===b.computed?"Identifier"===b.property.type?b.property.name:
"":"";break;case "NOTFOUND":e+="Cannot call member method on null. ";e+=!1===b.computed?"Identifier"===b.property.type?b.property.name:"":"";break;case "INVALIDTYPE":e+="Cannot call member property on object of this type. ",e+=!1===b.computed?"Identifier"===b.property.type?b.property.name:"":""}break;case "Property":switch(k){case "ONLYLITERAL":e+="Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(k){case "WRONGSIGNATURE":e+="Function signature does not match: ";
e+="Identifier"===b.callee.type?b.callee.name:"";break;case "ONLYNODESUPPORTED":e+="Functions must be declared.";e+="Identifier"===b.callee.type?b.callee.name:"";break;case "NOTAFUNCTION":e+="Not a Function: ";e+="Identifier"===b.callee.type?b.callee.name:"";break;case "NOTFOUND":e+="Function Not Found: "+("Identifier"===b.callee.type?b.callee.name:"")}break;case "UnaryExpression":switch(k){case "NOTSUPPORTEDUNARYOPERATOR":e+="Operator "+b.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";
break;case "NOTSUPPORTEDTYPE":e+="Unary operator "+b.operator+" cannot be used with this argument."}case "BinaryExpression":switch(k){case "OPERATORNOTRECOGNISED":e+="Binary Operator not recognised "+b.operator}break;case "LogicalExpression":switch(k){case "ONLYBOOLEAN":e+="Operator "+b.operator+" cannot be used. Only || or \x26\x26 are allowed values";break;case "ONLYORORAND":e+="Logical Expression "+b.operator+" being applied to parameters that are not boolean."}break;case "ArrayExpression":switch(k){case "FUNCTIONCONTEXTILLEGAL":e+=
" Cannot Put Function inside Array."}break;default:e+="Expression contains unrecognised code structures."}}catch(T){throw T;}return e}function n(b,d,k){return{line:b.loc.start.line,character:b.loc.start.column,reason:g(b,d,k)}}function x(b,d,k,e){d={globalScope:d.globalScope,localScope:{}};for(let T=0;T<b.params.length;T++)d.localScope[b.params[T].name.toLowerCase()]={type:"any"};p(b.body,d,k,e,!1)}function p(b,d,k,e,T=!0){if(null===b)throw Error("Unnexpexted Expression Syntax");var ea=null;try{switch(b.type){case "VariableDeclarator":"Identifier"!==
b.id.type?e.push(n(b,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(b.id.name.toLowerCase(),null===d.localScope?d.globalScope[b.id.name.toLowerCase()]={type:"any"}:d.localScope[b.id.name.toLowerCase()]={type:"any"});null!==b.init&&p(b.init,d,k,e,T);break;case "FunctionDeclaration":!1===T&&e.push(n(b,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==b.id.type&&e.push(n(b,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));ea=h("",b);x(b,d,k,e);null!==d.localScope&&e.push(n(b,"SYNTAX","GLOBALFUNCTIONSONLY"));ea.isnative=
!1;"Identifier"===b.id.type&&(d.globalScope[b.id.name.toLowerCase()]={type:"FormulaFunction",signature:[ea]});break;case "VariableDeclaration":for(var W=0;W<b.declarations.length;W++)p(b.declarations[W],d,k,e,T);break;case "IfStatement":null!==b.test&&(p(b.test,d,k,e,T),"AssignmentExpression"!==b.test.type&&"UpdateExpression"!==b.test.type||e.push(n(b.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==b.consequent&&p(b.consequent,d,k,e,T);null!==b.alternate&&p(b.alternate,d,k,e,T);break;
case "EmptyStatement":break;case "BlockStatement":if(null!==b.body)for(W=0;W<b.body.length;W++)p(b.body[W],d,k,e,T);break;case "ReturnStatement":null!==b.argument&&p(b.argument,d,k,e,T);break;case "ForInStatement":"VariableDeclaration"===b.left.type?(1<b.left.declarations.length&&e.push(n(b,"SYNTAX","ONLY1VAR")),null!==b.left.declarations[0].init&&e.push(n(b,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==b.left.type&&e.push(n(b,"SYNTAX","LEFTNOTVAR"));p(b.left,d,k,e,T);p(b.right,d,k,e,T);p(b.body,
d,k,e,T);break;case "ForStatement":null!==b.init&&p(b.init,d,k,e,T);null!==b.test&&p(b.test,d,k,e,T);null!==b.body&&p(b.body,d,k,e,T);null!==b.update&&p(b.update,d,k,e,T);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==b.argument.type&&"MemberExpression"!==b.argument.type?e.push(n(b,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===b.argument.type&&(W=!1,!1===k&&(null!==d.localScope&&void 0!==d.localScope[b.argument.name.toLowerCase()]&&(W=!0),
void 0!==d.globalScope[b.argument.name.toLowerCase()]&&(W=!0),!1===W&&e.push({line:null===b?0:b.loc.start.line,character:null===b?0:b.loc.start.column,reason:"Identifier "+b.argument.name+" has not been declared."}))),"MemberExpression"===b.argument.type&&p(b.argument,d,k,e,T));break;case "AssignmentExpression":"Identifier"!==b.left.type&&"MemberExpression"!==b.left.type&&e.push(n(b,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(b.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;
default:e.push(n(b,"SYNTAX","OPERATORNOTRECOGNISED"))}p(b.right,d,k,e,T);W=!1;"Identifier"===b.left.type&&(null!==d.localScope&&void 0!==d.localScope[b.left.name.toLowerCase()]&&(W=!0),void 0!==d.globalScope[b.left.name.toLowerCase()]&&(W=!0),!1===k&&!1===W&&e.push({line:null===b?0:b.loc.start.line,character:null===b?0:b.loc.start.column,reason:"Identifier "+b.left.name+" has not been declared."}));"MemberExpression"===b.left.type&&p(b.left,d,k,e,T);break;case "ExpressionStatement":p(b.expression,
d,k,e,T);break;case "Identifier":{const pa=b.name.toLowerCase();if(null!==d.localScope&&void 0!==d.localScope[pa]||void 0!==d.globalScope[pa])break;!1===k&&e.push(n(b,"SYNTAX","VARIABLENOTFOUND"));break}case "MemberExpression":p(b.object,d,k,e,T);!0===b.computed&&p(b.property,d,k,e,T);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==b.callee.type&&e.push(n(b,"SYNTAX","ONLYNODESSUPPORTED"));for(ea=0;ea<b.arguments.length;ea++)p(b.arguments[ea],d,k,e,T);"Identifier"===
b.callee.type&&(W=B(b.callee.name,b.arguments,d),!1===k&&-1===W&&e.push(n(b,"SYNTAX","NOTFOUND")),-2===W&&e.push(n(b,"SYNTAX","WRONGSIGNATURE")));break;case "UnaryExpression":p(b.argument,d,k,e,T);break;case "BinaryExpression":p(b.left,d,k,e,T);p(b.right,d,k,e,T);switch(b.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;
default:e.push(n(b,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(b.operator){case "\x26\x26":case "||":break;default:e.push(n(b,"SYNTAX","OPERATORNOTRECOGNISED"))}p(b.left,d,k,e,T);"AssignmentExpression"!==b.left.type&&"UpdateExpression"!==b.left.type||e.push(n(b,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));p(b.right,d,k,e,T);"AssignmentExpression"!==b.right.type&&"UpdateExpression"!==b.right.type||e.push(n(b,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ArrayExpression":for(W=
0;W<b.elements.length;W++)p(b.elements[W],d,k,e,T);break;case "TemplateLiteral":for(W=0;W<b.quasis.length;W++)p(b.quasis[W],d,k,e,T);for(W=0;W<b.expressions.length;W++)p(b.expressions[W],d,k,e,T);break;case "ObjectExpression":for(W=0;W<b.properties.length;W++)p(b.properties[W],d,k,e,T);break;case "Property":"Literal"!==b.key.type&&"Identifier"!==b.key.type&&e.push(n(b,"SYNTAX","ONLYLITERAL"));"Literal"===b.key.type&&p(b.key,d,k,e,T);p(b.value,d,k,e,T);break;default:e.push(n(b,"SYNTAX","UNRECOGNISED"))}}catch(pa){e.push({line:null===
b?0:b.loc.start.line,character:null===b?0:b.loc.start.column,reason:"Unnexpected Syntax"})}}function u(b){const d=[];G(b,k=>{"CallExpression"===k.type&&"Identifier"===k.callee.type&&d.push(k.callee.name.toLowerCase());return!0});return d}const F={all:{min:"2",max:"2"},none:{min:"2",max:"2"},any:{min:"2",max:"2"},reduce:{min:"2",max:"3"},map:{min:"2",max:"2"},filter:{min:"2",max:"2"},fromcodepoint:{min:"1",max:"*"},fromcharcode:{min:"1",max:"*"},tocodepoint:{min:"1",max:"2"},tocharcode:{min:"1",max:"2"},
concatenate:{min:"0",max:"*"},expects:{min:"1",max:"*"},getfeatureset:{min:"1",max:"2"},week:{min:"1",max:"2"},fromjson:{min:"1",max:"1"},length3d:{min:"1",max:"2"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",
max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},
tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",
max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},
console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},
replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},
cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",
max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(const b in F)F[b].fmin=F[b].min,F[b].fmax=F[b].max;const M="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl getfeatureset attachments featuresetbyportalitem".split(" "),
D="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length length3d lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");C.addFunctionDeclaration=function(b,d){const k=F[b.name.toLowerCase()];void 0===k?"sync"===d?F[b.name.toLowerCase()]={min:b.min,max:b.max}:F[b.name.toLowerCase()]={fmin:b.min,
fmax:b.max}:"sync"===d?(k.min=b.min,k.max=b.max):(k.fmin=b.min,k.fmax=b.max)};C.checkFunctionSignature=I;C.checkScript=function(b,d,k,e="async",T=F){const ea=[];if("BlockStatement"!==b.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===d||void 0===d)d={vars:{},customFunctions:[]};d={globalScope:c(d.vars,T,d.customFunctions,e),localScope:null};try{p(b.body[0].body,d,k,ea)}catch(W){}return ea};C.constructGlobalScope=c;C.extractAllIssues=p;C.extractAllIssuesInFunction=x;C.extractFunctionDeclaration=
h;C.findExpectedFieldLiterals=function(b){const d=[];G(b,k=>{if("CallExpression"===k.type){if("Identifier"===k.callee.type&&"expects"===k.callee.name.toLowerCase()){var e="";for(let T=0;T<(k.arguments||[]).length;T++)0===T?"Identifier"===k.arguments[T].type&&(e=k.arguments[T].name.toLowerCase()):e&&"Literal"===k.arguments[T].type&&z(k.arguments[T].value)&&d.push(e+"."+k.arguments[T].value.toLowerCase());return!1}if("Identifier"===k.callee.type&&["domainname","domaincode","domain","haskey"].includes(k.callee.name.toLowerCase())&&
2<=k.arguments.length)return e="","Identifier"===k.arguments[0].type&&(e=k.arguments[0].name.toLowerCase()),e&&"Literal"===k.arguments[1].type&&z(k.arguments[1].value)&&d.push(e+"."+k.arguments[1].value.toLowerCase()),!1}if("MemberExpression"!==k.type||"Identifier"!==k.object.type)return!0;!1===k.computed&&k.object&&k.object.name&&k.property&&"Identifier"===k.property.type&&k.property.name?d.push(k.object.name.toLowerCase()+"."+k.property.name.toLowerCase()):k.object&&k.object.name&&k.property&&"Literal"===
k.property.type&&"string"===typeof k.property.value&&d.push(k.object.name.toLowerCase()+"."+k.property.value.toString().toLowerCase());return!1});return d};C.findFieldLiterals=function(b){const d=[];G(b,k=>{if("MemberExpression"!==k.type||"Identifier"!==k.object.type)return!0;!1===k.computed&&k.object&&k.object.name&&k.property&&"Identifier"===k.property.type&&k.property.name?d.push(k.object.name.toLowerCase()+"."+k.property.name.toLowerCase()):k.object&&k.object.name&&k.property&&"Literal"===k.property.type&&
"string"===typeof k.property.value&&d.push(k.object.name.toLowerCase()+"."+k.property.value.toString().toLowerCase());return!1});return d};C.findFunction=B;C.findFunctionCalls=u;C.findScriptDependencies=function(b,d=[]){let k=null;if(void 0===b.usesFeatureSet){null===k&&(k=u(b));b.usesFeatureSet=!1;for(let e=0;e<k.length;e++)M.includes(k[e])&&(b.usesFeatureSet=!0,b.isAsync=!0);if(!1===b.usesFeatureSet&&d&&0<d.length)for(const e of d)if(m(b,e)){b.usesFeatureSet=!0;b.isAsync=!0;break}}if(void 0===b.usesGeometry)for(b.usesGeometry=
!1,null===k&&(k=u(b)),d=0;d<k.length;d++)D.includes(k[d])&&(b.usesGeometry=!0)};C.functionDecls=F;C.makeError=n;C.nodeErrorMessage=g;C.referencesFunction=function(b,d){let k=!1;const e=d.toLowerCase();G(b,T=>k?!1:"CallExpression"===T.type&&"Identifier"===T.callee.type&&T.callee.name&&T.callee.name.toLowerCase()===e?(k=!0,!1):!0);return k};C.referencesMember=m;C.scriptUsesFeatureSet=function(b){b=u(b);for(let d=0;d<b.length;d++)if(M.includes(b[d]))return!0;return!1};C.testValidityOfExpression=w;C.validateFunction=
q;C.validateLanguage=function(b){return"BlockStatement"!==b.body[0].body.type?"Invalid formula content.":E(b.body[0].body)};C.validateLanguageNode=E;C.validateScript=function(b,d,k="async",e=F){d={globalScope:c(d.vars,e,d.customFunctions,k),localScope:null};return w(b.body[0].body,d)};C.walk=G;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/array":function(){define("exports ./_rollupPluginBabelHelpers ../arcade/FunctionWrapper ../arcade/ImmutableArray ./languageUtils ../core/promiseUtils".split(" "),
function(C,z,I,B,f,G){function E(m){function h(c,g){if(g instanceof I)return m.arcadeCustomFunctionHandler(g);if(g instanceof f.NativeFunction)return(...n)=>g.fn(c,{preparsed:!0,arguments:n});if(g instanceof f.SizzleFunction)return(...n)=>{if(n.length!==g.paramCount)throw Error("Invalid parameters");return g.fn(...n)};throw Error("Invalid Parameter");}function q(c){if(c instanceof B)return c.toArray();if(f.isArray(c))return c;throw Error("Invalid Parameter");}m.functions.array=function(c,g){return m.standardFunction(c,
g,function(n,x,p){f.pcCheck(p,1,2);n=f.toNumber(p[0]);if(isNaN(n)||!1===f.isInteger(n))throw Error("Invalid Parameter");p=f.defaultUndefined(p[1],null);n=Array(n);n.fill(p);return n})};m.functions.front=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,1,1);if(f.isImmutableArray(p[0])){if(0>=p[0].length())throw Error("Array is empty");return p[0].get(0)}if(f.isArray(p[0])){if(0>=p[0].length)throw Error("Array is empty");return p[0][0]}throw Error("Invalid Parameter");})};m.functions.back=
function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,1,1);if(f.isImmutableArray(p[0])){if(0>=p[0].length())throw Error("Array is empty");return p[0].get(p[0].length()-1)}if(f.isArray(p[0])){if(0>=p[0].length)throw Error("Array is empty");return p[0][p[0].length-1]}throw Error("Invalid Parameter");})};m.functions.push=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,1,2);if(f.isArray(p[0]))return p[0][p[0].length]=p[1],p[0].length;throw Error("Invalid Parameter");
})};m.functions.pop=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,1,1);if(f.isArray(p[0])){if(0>=p[0].length)throw Error("Array is empty");n=p[0][p[0].length-1];--p[0].length;return n}throw Error("Invalid Parameter");})};m.functions.erase=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,2);if(f.isArray(p[0])){n=f.toNumber(p[1]);if(isNaN(n)||!1===f.isInteger(n))throw Error("Invalid Parameter");p=p[0];if(0>=p.length)throw Error("Array is empty");0>
n&&(n=p.length+n);if(0>n)throw Error("Element not found");if(n>=p.length)throw Error("Index is greater than array");p.splice(n,1);return f.voidOperation}throw Error("Invalid Parameter");})};m.functions.insert=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,3,3);if(f.isArray(p[0])){n=f.toNumber(p[1]);if(isNaN(n)||!1===f.isInteger(n))throw Error("Invalid Parameter");x=p[2];p=p[0];if(n>p.length)throw Error("Index is greater than array");if(0>n&&n<-1*p.length)throw Error("Index is greater than array");
if(n===p.length)return p[n]=x,f.voidOperation;p.splice(n,0,x);return f.voidOperation}throw Error("Invalid Parameter");})};m.functions.resize=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,3);if(f.isArray(p[0])){x=f.toNumber(p[1]);if(isNaN(x)||!1===f.isInteger(x))throw Error("Invalid Parameter");if(0>x)throw Error("Size cannot be negative");n=f.defaultUndefined(p[2],null);p=p[0];if(p.length>=x)return p.length=x,f.voidOperation;const u=p.length;p.length=x;for(x=u;x<p.length;x++)p[x]=
n;return f.voidOperation}throw Error("Invalid Parameter");})};m.functions.includes=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,2);if(f.isArray(p[0])){const u=p[1];return-1<p[0].findIndex(F=>f.equalityTest(F,u))?!0:!1}if(f.isImmutableArray(p[0])){const u=p[1];return-1<p[0].toArray().findIndex(F=>f.equalityTest(F,u))?!0:!1}throw Error("Invalid Parameter");})};m.functions.slice=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,1,3);if(f.isArray(p[0])){n=
f.toNumber(f.defaultUndefined(p[1],0));x=f.toNumber(f.defaultUndefined(p[2],p[0].length));if(isNaN(n)||!1===f.isInteger(n))throw Error("Invalid Parameter");if(isNaN(x)||!1===f.isInteger(x))throw Error("Invalid Parameter");return p[0].slice(n,x)}if(f.isImmutableArray(p[0])){n=p[0];x=f.toNumber(f.defaultUndefined(p[1],0));p=f.toNumber(f.defaultUndefined(p[2],n.length()));if(isNaN(x)||!1===f.isInteger(x))throw Error("Invalid Parameter");if(isNaN(p)||!1===f.isInteger(p))throw Error("Invalid Parameter");
return n.toArray().slice(x,p)}throw Error("Invalid Parameter");})};m.functions.splice=function(c,g){return m.standardFunction(c,g,function(n,x,p){n=[];for(x=0;x<p.length;x++)f.isArray(p[x])?n.push(...p[x]):f.isImmutableArray(p[x])?n.push(...p[x].toArray()):n.push(p[x]);return n})};"sync"===m.mode&&(m.functions.any=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,2);n=h(c,p[1]);p=q(p[0]);for(const u of p)if(p=n(u),f.isBoolean(p)&&!0===p)return!0;return!1})},m.functions.all=
function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,2);n=h(c,p[1]);p=q(p[0]);for(const u of p)if(!0!==n(u))return!1;return!0})},m.functions.none=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,2);n=h(c,p[1]);p=q(p[0]);for(const u of p)if(!0===n(u))return!1;return!0})},m.functions.reduce=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,3);const u=h(c,p[1]);n=q(p[0]);return 2===p.length?0===n.length?null:n.reduce((F,M)=>{F=u(F,
M);return F=void 0!==F&&F!==f.voidOperation?F:null}):n.reduce((F,M)=>{F=u(F,M);return F=void 0!==F&&F!==f.voidOperation?F:null},p[2])})},m.functions.map=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,2);n=h(c,p[1]);x=q(p[0]);p=[];for(const u of x)x=n(u),void 0!==x&&x!==f.voidOperation?p.push(x):p.push(null);return p})},m.functions.filter=function(c,g){return m.standardFunction(c,g,function(n,x,p){f.pcCheck(p,2,2);n=h(c,p[1]);p=q(p[0]);x=[];for(const u of p)!0===n(u)&&x.push(u);
return x})});"async"===m.mode&&(m.functions.any=function(c,g){return m.standardFunctionAsync(c,g,function(){var n=z._asyncToGenerator(function*(x,p,u){f.pcCheck(u,2,2);x=h(c,u[1]);u=q(u[0]);for(const F of u)if(u=yield x(F),p=null,p=G.isPromiseLike(p)?yield u:u,f.isBoolean(p)&&!0===p)return!0;return!1});return function(x,p,u){return n.apply(this,arguments)}}())},m.functions.all=function(c,g){return m.standardFunctionAsync(c,g,function(){var n=z._asyncToGenerator(function*(x,p,u){f.pcCheck(u,2,2);x=
h(c,u[1]);u=q(u[0]);for(const F of u)if(u=yield x(F),p=null,p=G.isPromiseLike(p)?yield u:u,!0!==p)return!1;return!0});return function(x,p,u){return n.apply(this,arguments)}}())},m.functions.none=function(c,g){return m.standardFunctionAsync(c,g,function(){var n=z._asyncToGenerator(function*(x,p,u){f.pcCheck(u,2,2);x=h(c,u[1]);u=q(u[0]);for(const F of u)if(u=yield x(F),p=null,p=G.isPromiseLike(p)?yield u:u,!0===p)return!1;return!0});return function(x,p,u){return n.apply(this,arguments)}}())},m.functions.filter=
function(c,g){return m.standardFunctionAsync(c,g,function(){var n=z._asyncToGenerator(function*(x,p,u){f.pcCheck(u,2,2);x=h(c,u[1]);p=q(u[0]);u=[];for(const F of p){p=yield x(F);let M=null;M=G.isPromiseLike(M)?yield p:p;!0===M&&u.push(F)}return u});return function(x,p,u){return n.apply(this,arguments)}}())},m.functions.reduce=function(c,g){return m.standardFunctionAsync(c,g,function(n,x,p){f.pcCheck(p,2,3);const u=h(c,p[1]);n=q(p[0]);x=null;if(2<p.length)p=f.defaultUndefined(p[2],null),x=n.reduce(function(){var F=
z._asyncToGenerator(function*(M,D){M=yield M;if(void 0===M||M===f.voidOperation)M=null;return u(M,D)});return function(M,D){return F.apply(this,arguments)}}(),Promise.resolve(p));else{if(0===n.length)return null;x=n.reduce(function(){var F=z._asyncToGenerator(function*(M,D,b){if(1>=b)return u(M,D);M=yield M;if(void 0===M||M===f.voidOperation)M=null;return u(M,D)});return function(M,D,b){return F.apply(this,arguments)}}())}return x.then(F=>void 0!==F&&F!==f.voidOperation?F:null)})},m.functions.map=
function(c,g){return m.standardFunctionAsync(c,g,function(){var n=z._asyncToGenerator(function*(x,p,u){f.pcCheck(u,2,2);x=h(c,u[1]);p=q(u[0]);u=[];for(const F of p){p=yield x(F);let M=null;M=G.isPromiseLike(M)?yield p:p;void 0!==M&&M!==f.voidOperation?u.push(M):u.push(null)}return u});return function(x,p,u){return n.apply(this,arguments)}}())})}const w=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:E},Symbol.toStringTag,{value:"Module"}));C.ArrayFunctions=w;C.registerFunctions=
E})},"esri/arcade/functions/date":function(){define(["exports","../../chunks/languageUtils","../../intl/locale","../../chunks/datetime"],function(C,z,I,B){function f(h){h=new Date(h.getTime());const q=h.getFullYear();var c=new Date(0);c.setFullYear(q+1,0,4);c.setHours(0,0,0,0);c=G(c);var g=new Date(0);g.setFullYear(q,0,4);g.setHours(0,0,0,0);g=G(g);return h.getTime()>=c.getTime()?q+1:h.getTime()>=g.getTime()?q:q-1}function G(h){h=new Date(h.getTime());var q=h.getDay();q=(1>q?7:0)+q-1;h.setDate(h.getDate()-
q);h.setHours(0,0,0,0);return h}function E(h){return null===h?h:isNaN(h.getTime())?null:h}const w=[0,31,59,90,120,151,181,212,243,273,304,334],m=[0,31,60,91,121,152,182,213,244,274,305,335];C.registerFunctions=function(h,q){h.today=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,0,0);n=new Date;n.setHours(0,0,0,0);return n})};h.now=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,0,0);return new Date})};h.timestamp=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,0,0);n=new Date;
return n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())})};h.toutc=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?null:new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())})};h.tolocal=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?null:B.DateTime.utc(n.getFullYear(),
n.getMonth()+1,n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()).toJSDate()})};h.day=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getDate()})};h.month=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getMonth()})};h.year=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getFullYear()})};h.hour=function(c,g){return q(c,g,
function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getHours()})};h.second=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getSeconds()})};h.millisecond=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getMilliseconds()})};h.minute=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getMinutes()})};h.week=function(c,g){return q(c,g,
function(n,x,p){z.pcCheck(p,1,2);n=z.toDate(p[0]);if(null===n)return NaN;p=z.toNumber(z.defaultUndefined(p[1],0));if(0>p||6<p)throw Error("Invalid Parameter");x=n.getDate();var u=n.getMonth();const F=n.getFullYear();n=n.getDay();x=x+(0!==F%4||0===F%100&&0!==F%400?w:m)[u]-1;u=Math.floor(x/7);return n-p+(0>n-p?7:0)<x-7*u?u+1:u})};h.weekday=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getDay()})};h.isoweekday=function(c,g){return q(c,g,function(n,
x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);if(null===n)return NaN;n=n.getDay();0===n&&(n=7);return n})};h.isomonth=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:n.getMonth()+1})};h.isoweek=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,1,1);x=z.toDate(p[0]);if(null===x)return NaN;n=G(x).getTime();x=f(x);p=new Date(0);p.setFullYear(x,0,4);p.setHours(0,0,0,0);x=G(p);n-=x.getTime();return Math.round(n/6048E5)+1})};h.isoyear=function(c,g){return q(c,
g,function(n,x,p){z.pcCheck(p,1,1);n=z.toDate(p[0]);return null===n?NaN:f(n)})};h.date=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,0,7);if(3===p.length)return E(new Date(z.toNumber(p[0]),z.toNumber(p[1]),z.toNumber(p[2]),0,0,0,0));if(4===p.length)return E(new Date(z.toNumber(p[0]),z.toNumber(p[1]),z.toNumber(p[2]),z.toNumber(p[3]),0,0,0));if(5===p.length)return E(new Date(z.toNumber(p[0]),z.toNumber(p[1]),z.toNumber(p[2]),z.toNumber(p[3]),z.toNumber(p[4]),0,0));if(6===p.length)return E(new Date(z.toNumber(p[0]),
z.toNumber(p[1]),z.toNumber(p[2]),z.toNumber(p[3]),z.toNumber(p[4]),z.toNumber(p[5]),0));if(7===p.length)return E(new Date(z.toNumber(p[0]),z.toNumber(p[1]),z.toNumber(p[2]),z.toNumber(p[3]),z.toNumber(p[4]),z.toNumber(p[5]),z.toNumber(p[6])));if(2===p.length){n=z.toString(p[1]);if(""===n)return null;n=z.standardiseDateFormat(n);p="X"===n?B.DateTime.fromSeconds(z.toNumber(p[0])):"x"===n?B.DateTime.fromMillis(z.toNumber(p[0])):B.DateTime.fromFormat(z.toString(p[0]),n,{locale:I.getLocale(),numberingSystem:"latn"});
return p.isValid?p.toJSDate():null}if(1===p.length){if(z.isString(p[0])){if(""===p[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(p[0]))return z.toDate(p[0]+"-01-01")}n=z.toNumber(p[0]);return!1===isNaN(n)?E(new Date(n)):z.toDate(p[0])}if(0===p.length)return new Date})};h.datediff=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,2,3);n=z.toDateTime(p[0]);x=z.toDateTime(p[1]);if(null===n||null===x)return NaN;switch(z.toString(p[2]).toLowerCase()){case "days":case "day":case "d":return n.diff(x,
"days").days;case "months":case "month":return n.diff(x,"months").months;case "minutes":case "minute":case "m":return"M"===p[2]?n.diff(x,"months").months:n.diff(x,"minutes").minutes;case "seconds":case "second":case "s":return n.diff(x,"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return n.diff(x).milliseconds;case "hours":case "hour":case "h":return n.diff(x,"hours").hours;case "years":case "year":case "y":return n.diff(x,"years").years;default:return n.diff(x).milliseconds}})};
h.dateadd=function(c,g){return q(c,g,function(n,x,p){z.pcCheck(p,2,3);n=z.toDateTime(p[0]);if(null===n)return null;x=z.toNumber(p[1]);if(isNaN(x))return n.toJSDate();let u="milliseconds";switch(z.toString(p[2]).toLowerCase()){case "days":case "day":case "d":u="days";x=z.absRound(x);break;case "months":case "month":u="months";x=z.absRound(x);break;case "minutes":case "minute":case "m":u="M"===p[2]?"months":"minutes";break;case "seconds":case "second":case "s":u="seconds";break;case "milliseconds":case "millisecond":case "ms":u=
"milliseconds";break;case "hours":case "hour":case "h":u="hours";break;case "years":case "year":case "y":u="years"}return n.plus({[u]:x}).toJSDate()})}};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/geometry":function(){define("exports ../Dictionary ../Feature ../ImmutablePointArray ../../chunks/languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/support/jsonUtils ../../geometry/support/coordsUtils".split(" "),
function(C,z,I,B,f,G,E,w,m,h,q,c,g,n){function x(p){return p&&"esri.arcade.Feature"===p.arcadeDeclaredClass}C.registerFunctions=function(p,u){p.ringisclockwise=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,1,1);D=[];let k=b=!1;if(null===d[0])return!1;if(f.isArray(d[0])){for(const e of d[0])if(e instanceof m)D.push(e.hasZ?e.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]);else throw Error("Invalid Argument");0<D.length&&(b=d[0][0].hasZ,k=d[0][0].hasM)}else if(d[0]instanceof B)D=d[0]._elements,
0<D.length&&(b=d[0]._hasZ,k=d[0]._hasM);else if(f.isImmutableArray(d[0])){for(const e of d[0].toArray())if(e instanceof m)D.push(e.hasZ?e.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]);else throw Error("Invalid Argument");0<D.length&&(b=d[0].get(0).hasZ,k=d[0].get(0).hasM)}else throw Error("Invalid Argument");return 3>D.length?!1:n.isClockwise(D,k,b)})};p.polygon=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,1,1);D=null;if(d[0]instanceof z){if(D=f.fixSpatialReference(I.parseGeometryFromDictionary(d[0]),
F.spatialReference),!1===D instanceof h)throw Error("Illegal Parameter");}else D=d[0]instanceof h?g.fromJSON(d[0].toJSON()):f.fixSpatialReference(new h(JSON.parse(d[0])),F.spatialReference);if(null!==D&&!1===D.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return f.fixNullGeometry(D)})};p.polyline=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,1,1);D=null;if(d[0]instanceof z){if(D=f.fixSpatialReference(I.parseGeometryFromDictionary(d[0]),
F.spatialReference),!1===D instanceof q)throw Error("Illegal Parameter");}else D=d[0]instanceof q?g.fromJSON(d[0].toJSON()):f.fixSpatialReference(new q(JSON.parse(d[0])),F.spatialReference);if(null!==D&&!1===D.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return f.fixNullGeometry(D)})};p.point=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,1,1);D=null;if(d[0]instanceof z){if(D=f.fixSpatialReference(I.parseGeometryFromDictionary(d[0]),
F.spatialReference),!1===D instanceof m)throw Error("Illegal Parameter");}else D=d[0]instanceof m?g.fromJSON(d[0].toJSON()):f.fixSpatialReference(new m(JSON.parse(d[0])),F.spatialReference);if(null!==D&&!1===D.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return f.fixNullGeometry(D)})};p.multipoint=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,1,1);D=null;if(d[0]instanceof z){if(D=
f.fixSpatialReference(I.parseGeometryFromDictionary(d[0]),F.spatialReference),!1===D instanceof w)throw Error("Illegal Parameter");}else D=d[0]instanceof w?g.fromJSON(d[0].toJSON()):f.fixSpatialReference(new w(JSON.parse(d[0])),F.spatialReference);if(null!==D&&!1===D.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return f.fixNullGeometry(D)})};p.extent=function(F,M){return u(F,M,function(D,
b,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,1,1);D=null;d[0]instanceof z?D=f.fixSpatialReference(I.parseGeometryFromDictionary(d[0]),F.spatialReference):d[0]instanceof m?(D={xmin:d[0].x,ymin:d[0].y,xmax:d[0].x,ymax:d[0].y,spatialReference:d[0].spatialReference.toJSON()},d=d[0],d.hasZ?(D.zmin=d.z,D.zmax=d.z):d.hasM&&(D.mmin=d.m,D.mmax=d.m),D=g.fromJSON(D)):D=d[0]instanceof h?g.fromJSON(d[0].extent.toJSON()):d[0]instanceof q?g.fromJSON(d[0].extent.toJSON()):d[0]instanceof w?g.fromJSON(d[0].extent.toJSON()):
d[0]instanceof G?g.fromJSON(d[0].toJSON()):f.fixSpatialReference(new G(JSON.parse(d[0])),F.spatialReference);if(null!==D&&!1===D.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return f.fixNullGeometry(D)})};p.geometry=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,1,1);D=null;if(null===d[0])return null;D=x(d[0])?f.fixSpatialReference(d[0].geometry(),F.spatialReference):d[0]instanceof
z?f.fixSpatialReference(I.parseGeometryFromDictionary(d[0]),F.spatialReference):f.fixSpatialReference(g.fromJSON(JSON.parse(d[0])),F.spatialReference);if(null!==D&&!1===D.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return f.fixNullGeometry(D)})};p.setgeometry=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,2,2);if(x(d[0])){if(!0===d[0].immutable)throw Error("Feature is Immutable");
if(d[1]instanceof E||null===d[1])d[0]._geometry=d[1];else throw Error("Illegal Argument");}else throw Error("Illegal Argument");return f.voidOperation})};p.feature=function(F,M){return u(F,M,function(D,b,d){if(0===d.length)throw Error("Missing Parameters");D=null;if(1===d.length)if(f.isString(d[0]))D=I.fromJson(JSON.parse(d[0]));else if(x(d[0]))D=I.createFromArcadeFeature(d[0]);else if(d[0]instanceof E)D=I.createFromGraphicLikeObject(d[0],null,null);else if(d[0]instanceof z)D=d[0].hasField("geometry")?
d[0].field("geometry"):null,d=d[0].hasField("attributes")?d[0].field("attributes"):null,null!==D&&D instanceof z&&(D=I.parseGeometryFromDictionary(D)),null!==d&&(d=I.parseAttributesFromDictionary(d)),D=I.createFromGraphicLikeObject(D,d,null);else throw Error("Illegal Argument");else if(2===d.length){b=D=null;if(null!==d[0])if(d[0]instanceof E)D=d[0];else if(D instanceof z)D=I.parseGeometryFromDictionary(d[0]);else throw Error("Illegal Argument");if(null!==d[1])if(d[1]instanceof z)b=I.parseAttributesFromDictionary(d[1]);
else throw Error("Illegal Argument");D=I.createFromGraphicLikeObject(D,b,null)}else{D=null;b={};if(null!==d[0])if(d[0]instanceof E)D=d[0];else if(D instanceof z)D=I.parseGeometryFromDictionary(d[0]);else throw Error("Illegal Argument");for(let k=1;k<d.length;k+=2){const e=f.toString(d[k]),T=d[k+1];if(null===T||void 0===T||f.isString(T)||isNaN(T)||f.isDate(T)||f.isNumber(T)||f.isBoolean(T)){if(f.isFunctionParameter(T)||!1===f.isSimpleType(T))throw Error("Illegal Argument");b[e]=T===f.voidOperation?
null:T}else throw Error("Illegal Argument");}D=I.createFromGraphicLikeObject(D,b,null)}D._geometry=f.fixSpatialReference(D.geometry(),F.spatialReference);D.immutable=!1;return D})};p.dictionary=function(F,M){return u(F,M,function(D,b,d){if(0===d.length)return d=new z,d.immutable=!1,d;if(1===d.length&&f.isString(d[0]))try{var k=JSON.parse(d[0]),e=z.convertObjectToArcadeDictionary(k,!1);e.immutable=!1;return e}catch(T){throw Error("Missing Parameters or Illegal Json");}if(0!==d.length%2)throw Error("Missing Parameters");
D={};for(b=0;b<d.length;b+=2)if(k=f.toString(d[b]),e=d[b+1],null===e||void 0===e||f.isString(e)||isNaN(e)||f.isDate(e)||f.isNumber(e)||f.isBoolean(e)||f.isArray(e)||f.isImmutableArray(e)){if(f.isFunctionParameter(e))throw Error("Illegal Argument");D[k]=e===f.voidOperation?null:e}else throw Error("Illegal Argument");d=new z(D);d.immutable=!1;return d})};p.haskey=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,2,2);D=f.toString(d[1]);if(x(d[0])||d[0]instanceof z)return d[0].hasField(D);throw Error("Illegal Argument");
})};p.indexof=function(F,M){return u(F,M,function(D,b,d){f.pcCheck(d,2,2);D=d[1];if(f.isArray(d[0])){for(b=0;b<d[0].length;b++)if(f.equalityTest(D,d[0][b]))return b;return-1}if(f.isImmutableArray(d[0])){b=d[0].length();for(let k=0;k<b;k++)if(f.equalityTest(D,d[0].get(k)))return k;return-1}throw Error("Illegal Argument");})};p.angle=function(F,M){return u(F,M,function(D,b,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,3);if(!(d[0]instanceof m))throw Error("Illegal Argument");if(!(d[1]instanceof
m))throw Error("Illegal Argument");if(2<d.length&&!(d[2]instanceof m))throw Error("Illegal Argument");return 2===d.length?c.angle2D(d[0],d[1]):c.angleBetween2D(d[0],d[1],d[2])})};p.bearing=function(F,M){return u(F,M,function(D,b,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,3);if(!(d[0]instanceof m))throw Error("Illegal Argument");if(!(d[1]instanceof m))throw Error("Illegal Argument");if(2<d.length&&!(d[2]instanceof m))throw Error("Illegal Argument");return 2===d.length?c.bearing2D(d[0],d[1]):
c.bearingBetween2D(d[0],d[1],d[2])})};p.isselfintersecting=function(F,M){return u(F,M,function(D,b,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,1,1);D=d[0];if(D instanceof h)return D.isSelfIntersecting;if(D instanceof q)return D=D.paths,c.pathsSelfIntersecting(D);if(D instanceof w)for(b=D.points,d=0;d<b.length;d++)for(let k=0;k<b.length;k++)if(k!==d){let e=!0;for(let T=0;T<b[d].length;T++)if(b[d][T]!==b[k][T]){e=!1;break}if(!0===e)return!0}return f.isArray(D)||f.isImmutableArray(D)?(D=f.autoCastArrayOfPointsToPolyline(D,
F.spatialReference),null!==D&&(D=D.paths),c.pathsSelfIntersecting(D)):!1})}};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/centroid":function(){define(["exports","../../geometry/Point","../../geometry/support/intersectsBase"],function(C,z,I){function B(c,g,n){const x={x:0,y:0};g&&(x.z=0);n&&(x.m=0);let p=0;var u=c[0];for(let d=0;d<c.length;d++){const k=c[d];a:if(k.length!==u.length)var F=!1;else{for(F=0;F<k.length;F++)if(k[F]!==
u[F]){F=!1;break a}F=!0}if(!1===F){F=f(u,k,g);{var M=k,D=g,b=n;const e={x:(u[0]+M[0])/2,y:(u[1]+M[1])/2};D&&(e.z=(u[2]+M[2])/2);D&&b?e.m=(u[3]+M[3])/2:b&&(e.m=(u[2]+M[2])/2);u=e}u.x*=F;u.y*=F;x.x+=u.x;x.y+=u.y;g&&(u.z*=F,x.z+=u.z);n&&(u.m*=F,x.m+=u.m);p+=F;u=k}}0<p?(x.x/=p,x.y/=p,g&&(x.z/=p),n&&(x.m/=p)):(x.x=c[0][0],x.y=c[0][1],g&&(x.z=c[0][2]),n&&g?x.m=c[0][3]:n&&(x.m=c[0][2]));return x}function f(c,g,n){const x=g[0]-c[0];c=g[1]-c[1];return n?(g=g[2]-g[2],Math.sqrt(x*x+c*c+g*g)):Math.sqrt(x*x+c*
c)}function G(c,g,n=0){for(;c<n;)c+=g;for(n+=g;c>=n;)c-=g;return c}function E(c,g){return Math.atan2(g.y-c.y,g.x-c.x)}function w(c,g,n){var x=c.x-g.x;c=c.y-g.y;var p=n.x-g.x;g=n.y-g.y;return Math.atan2(x*g-p*c,x*p+c*g)}const m=[];for(const c of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const g=c[0];for(let n=1;n<c.length;n++)m[c[n]]=g}const h=[];h[9002]=.3048;h[9003]=.3048006096012192;h[9095]=.3048007491;const q=[0,0];C.angle2D=function(c,g){return G(E(c,
g),2*Math.PI)*(180/Math.PI)};C.angleBetween2D=function(c,g,n){return G(w(c,g,n),2*Math.PI)*(180/Math.PI)};C.angleBetweenRad=w;C.angleRad=E;C.bearing2D=function(c,g){return G(Math.PI/2-E(c,g),2*Math.PI)*(180/Math.PI)};C.bearingBetween2D=function(c,g,n){return G(-1*w(c,g,n),2*Math.PI)*(180/Math.PI)};C.centroidMultiPoint=function(c){if(0===c.points.length)return null;var g=0;let n=0,x=0,p=0;for(let u=0;u<c.points.length;u++){const F=c.getPoint(u);!0===F.hasZ&&(x+=F.z);!0===F.hasM&&(p+=F.m);g+=F.x;n+=
F.y;p+=F.m}g={x:g/c.points.length,y:n/c.points.length,spatialReference:null};g.spatialReference=c.spatialReference.toJSON();!0===c.hasZ&&(g.z=x/c.points.length);!0===c.hasM&&(g.m=p/c.points.length);return new z(g)};C.centroidPolyline=function(c){const g={x:0,y:0,spatialReference:c.spatialReference.toJSON()},n={x:0,y:0,spatialReference:c.spatialReference.toJSON()};let x=0,p=0;for(let M=0;M<c.paths.length;M++)if(0!==c.paths[M].length){a:{var u=c.paths[M];var F=!0===c.hasZ;if(1>=u.length){u=0;break a}let D=
0;for(let b=1;b<u.length;b++)D+=f(u[b-1],u[b],F);u=D}0===u?(u=B(c.paths[M],!0===c.hasZ,!0===c.hasM),g.x+=u.x,g.y+=u.y,!0===c.hasZ&&(g.z+=u.z),!0===c.hasM&&(g.m+=u.m),++x):(F=B(c.paths[M],!0===c.hasZ,!0===c.hasM),n.x+=F.x*u,n.y+=F.y*u,!0===c.hasZ&&(n.z+=F.z*u),!0===c.hasM&&(n.m+=F.m*u),p+=u)}return 0<p?(n.x/=p,n.y/=p,!0===c.hasZ&&(n.z/=p),!0===c.hasM&&(n.m/=p),new z(n)):0<x?(g.x/=x,g.y/=x,!0===c.hasZ&&(n.z/=x),!0===c.hasM&&(g.m/=x),new z(g)):null};C.getMetersPerVerticalUnitForSR=function(c){return c.vcsWkid&&
void 0!==m[c.vcsWkid]?h[m[c.vcsWkid]]:c.latestVcsWkid&&void 0!==m[c.latestVcsWkid]?h[m[c.latestVcsWkid]]:1};C.pathsSelfIntersecting=function(c){for(let D=0;D<c.length;D++){const b=c[D];for(var g=0;g<b.length-1;g++){var n=b[g],x=b[g+1];for(var p=D+1;p<c.length;p++)for(var u=0;u<c[p].length-1;u++){var F=c[p][u],M=c[p][u+1];if(I.segmentIntersects(n,x,F,M,q)&&!(q[0]===n[0]&&q[1]===n[1]||q[0]===F[0]&&q[1]===F[1]||q[0]===x[0]&&q[1]===x[1]||q[0]===M[0]&&q[1]===M[1]))return!0}}g=b.length;if(!(3>g))for(n=
0;n<=g-2;n++)for(x=b[n],p=b[n+1],u=n+2;u<=g-2;u++)if(F=b[u],M=b[u+1],I.segmentIntersects(x,p,F,M,q)&&!(q[0]===x[0]&&q[1]===x[1]||q[0]===F[0]&&q[1]===F[1]||q[0]===p[0]&&q[1]===p[1]||q[0]===M[0]&&q[1]===M[1]))return!0}return!1};C.segmentLength3d=function(c,g,n){return Math.sqrt((c[0]-g[0])**2+(c[1]-g[1])**2+(void 0!==c[2]&&void 0!==g[2]?(c[2]*n-g[2]*n)**2:0))};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/geomsync":function(){define("exports ../../kernel ../kernel ../../chunks/languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../../core/unitUtils".split(" "),
function(C,z,I,B,f,G,E,w,m,h,q,c,g){function n(u){return 0===z.version.indexOf("4.")?h.fromExtent(u):new h({spatialReference:u.spatialReference,rings:[[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]]]})}function x(u,F){if("polygon"!==u.type&&"polyline"!==u.type&&"extent"!==u.type)return 0;var M=1;if(u.spatialReference.vcsWkid||u.spatialReference.latestVcsWkid){M=f.getMetersPerVerticalUnitForSR(u.spatialReference);var D=g.getMetersPerUnitForSR(u.spatialReference);M/=
D}D=0;if("polyline"===u.type)for(var b of u.paths)for(var d=1;d<b.length;d++)D+=f.segmentLength3d(b[d],b[d-1],M);else if("polygon"===u.type)for(d of u.rings){for(b=1;b<d.length;b++)D+=f.segmentLength3d(d[b],d[b-1],M);if(d[0][0]!==d[d.length-1][0]||d[0][1]!==d[d.length-1][1]||void 0!==d[0][2]&&d[0][2]!==d[d.length-1][2])D+=f.segmentLength3d(d[0],d[d.length-1],M)}else"extent"===u.type&&(D+=2*f.segmentLength3d([u.xmin,u.ymin,0],[u.xmax,u.ymin,0],M),D+=2*f.segmentLength3d([u.xmin,u.ymin,0],[u.xmin,u.ymax,
0],M),D=2*D+4*Math.abs(B.defaultUndefined(u.zmax,0)*M-B.defaultUndefined(u.zmin,0)*M));u=new q({hasZ:!1,hasM:!1,spatialReference:u.spatialReference,paths:[[0,0],[0,D]]});return p.planarLength(u,F)}let p=null;C.registerFunctions=function(u,F){function M(D){B.pcCheck(D,2,2);if(!(D[0]instanceof E&&D[1]instanceof E||D[0]instanceof E&&null===D[1]||D[1]instanceof E&&null===D[0]||null===D[0]&&null===D[1]))throw Error("Illegal Argument");}u.disjoint=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);
M(e);return null===e[0]||null===e[1]?!0:p.disjoint(e[0],e[1])})};u.intersects=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null===e[0]||null===e[1]?!1:p.intersects(e[0],e[1])})};u.touches=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null===e[0]||null===e[1]?!1:p.touches(e[0],e[1])})};u.crosses=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null===e[0]||null===e[1]?!1:p.crosses(e[0],
e[1])})};u.within=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null===e[0]||null===e[1]?!1:p.within(e[0],e[1])})};u.contains=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null===e[0]||null===e[1]?!1:p.contains(e[0],e[1])})};u.overlaps=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null===e[0]||null===e[1]?!1:p.overlaps(e[0],e[1])})};u.equals=function(D,b){return F(D,b,function(d,
k,e){B.pcCheck(e,2,2);return e[0]===e[1]?!0:e[0]instanceof E&&e[1]instanceof E?p.equals(e[0],e[1]):B.isDate(e[0])&&B.isDate(e[1])?e[0].getTime()===e[1].getTime():!1})};u.relate=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,3,3);if(e[0]instanceof E&&e[1]instanceof E)return p.relate(e[0],e[1],B.toString(e[2]));if(e[0]instanceof E&&null===e[1]||e[1]instanceof E&&null===e[0]||null===e[0]&&null===e[1])return!1;throw Error("Illegal Argument");})};u.intersection=
function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null===e[0]||null===e[1]?null:p.intersect(e[0],e[1])})};u.union=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);d=[];if(0===e.length)throw Error("Function called with wrong number of Parameters");if(1===e.length)if(B.isArray(e[0]))for(e=B.autoCastFeatureToGeometry(e[0]),k=0;k<e.length;k++){if(null!==e[k]){if(!(e[k]instanceof E))throw Error("Illegal Argument");d.push(e[k])}}else if(B.isImmutableArray(e[0]))for(e=
B.autoCastFeatureToGeometry(e[0].toArray()),k=0;k<e.length;k++){if(null!==e[k]){if(!(e[k]instanceof E))throw Error("Illegal Argument");d.push(e[k])}}else{if(e[0]instanceof E)return B.fixSpatialReference(I.cloneGeometry(e[0]),D.spatialReference);if(null===e[0])return null;throw Error("Illegal Argument");}else for(k=0;k<e.length;k++)if(null!==e[k]){if(!(e[k]instanceof E))throw Error("Illegal Argument");d.push(e[k])}return 0===d.length?null:p.union(d)})};u.difference=function(D,b){return F(D,b,function(d,
k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null!==e[0]&&null===e[1]?I.cloneGeometry(e[0]):null===e[0]?null:p.difference(e[0],e[1])})};u.symmetricdifference=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);M(e);return null===e[0]&&null===e[1]?null:null===e[0]?I.cloneGeometry(e[1]):null===e[1]?I.cloneGeometry(e[0]):p.symmetricDifference(e[0],e[1])})};u.clip=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,2);if(!(e[1]instanceof
G)&&null!==e[1])throw Error("Illegal Argument");if(null===e[0])return null;if(!(e[0]instanceof E))throw Error("Illegal Argument");return null===e[1]?null:p.clip(e[0],e[1])})};u.cut=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,2);if(!(e[1]instanceof q)&&null!==e[1])throw Error("Illegal Argument");if(null===e[0])return[];if(!(e[0]instanceof E))throw Error("Illegal Argument");return null===e[1]?[I.cloneGeometry(e[0])]:p.cut(e[0],e[1])})};u.area=function(D,
b){return F(D,b,function(d,k,e){B.pcCheck(e,1,2);e=B.autoCastFeatureToGeometry(e);if(null===e[0])return 0;if(B.isArray(e[0])||B.isImmutableArray(e[0]))return d=B.autoCastArrayOfPointsToPolygon(e[0],D.spatialReference),null===d?0:p.planarArea(d,I.convertSquareUnitsToCode(B.defaultUndefined(e[1],-1)));if(!(e[0]instanceof E))throw Error("Illegal Argument");return p.planarArea(e[0],I.convertSquareUnitsToCode(B.defaultUndefined(e[1],-1)))})};u.areageodetic=function(D,b){return F(D,b,function(d,k,e){B.pcCheck(e,
1,2);e=B.autoCastFeatureToGeometry(e);if(null===e[0])return 0;if(B.isArray(e[0])||B.isImmutableArray(e[0]))return d=B.autoCastArrayOfPointsToPolygon(e[0],D.spatialReference),null===d?0:p.geodesicArea(d,I.convertSquareUnitsToCode(B.defaultUndefined(e[1],-1)));if(!(e[0]instanceof E))throw Error("Illegal Argument");return p.geodesicArea(e[0],I.convertSquareUnitsToCode(B.defaultUndefined(e[1],-1)))})};u.length=function(D,b){return F(D,b,function(d,k,e){B.pcCheck(e,1,2);e=B.autoCastFeatureToGeometry(e);
if(null===e[0])return 0;if(B.isArray(e[0])||B.isImmutableArray(e[0]))return d=B.autoCastArrayOfPointsToPolyline(e[0],D.spatialReference),null===d?0:p.planarLength(d,I.convertLinearUnitsToCode(B.defaultUndefined(e[1],-1)));if(!(e[0]instanceof E))throw Error("Illegal Argument");return p.planarLength(e[0],I.convertLinearUnitsToCode(B.defaultUndefined(e[1],-1)))})};u.length3d=function(D,b){return F(D,b,function(d,k,e){B.pcCheck(e,1,2);e=B.autoCastFeatureToGeometry(e);if(null===e[0])return 0;if(B.isArray(e[0])||
B.isImmutableArray(e[0]))return d=B.autoCastArrayOfPointsToPolyline(e[0],D.spatialReference),null===d?0:!0===d.hasZ?x(d,I.convertLinearUnitsToCode(B.defaultUndefined(e[1],-1))):p.planarLength(d,I.convertLinearUnitsToCode(B.defaultUndefined(e[1],-1)));if(!(e[0]instanceof E))throw Error("Illegal Argument");return!0===e[0].hasZ?x(e[0],I.convertLinearUnitsToCode(B.defaultUndefined(e[1],-1))):p.planarLength(e[0],I.convertLinearUnitsToCode(B.defaultUndefined(e[1],-1)))})};u.lengthgeodetic=function(D,b){return F(D,
b,function(d,k,e){B.pcCheck(e,1,2);e=B.autoCastFeatureToGeometry(e);if(null===e[0])return 0;if(B.isArray(e[0])||B.isImmutableArray(e[0]))return d=B.autoCastArrayOfPointsToPolyline(e[0],D.spatialReference),null===d?0:p.geodesicLength(d,I.convertLinearUnitsToCode(B.defaultUndefined(e[1],-1)));if(!(e[0]instanceof E))throw Error("Illegal Argument");return p.geodesicLength(e[0],I.convertLinearUnitsToCode(B.defaultUndefined(e[1],-1)))})};u.distance=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);
B.pcCheck(e,2,3);d=e[0];if(B.isArray(e[0])||B.isImmutableArray(e[0]))d=B.autoCastArrayOfPointsToMultiPoint(e[0],D.spatialReference);k=e[1];if(B.isArray(e[1])||B.isImmutableArray(e[1]))k=B.autoCastArrayOfPointsToMultiPoint(e[1],D.spatialReference);if(!(d instanceof E))throw Error("Illegal Argument");if(!(k instanceof E))throw Error("Illegal Argument");return p.distance(d,k,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],-1)))})};u.distancegeodetic=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);
B.pcCheck(e,2,3);d=e[0];k=e[1];if(!(d instanceof m))throw Error("Illegal Argument");if(!(k instanceof m))throw Error("Illegal Argument");const T=new q({paths:[],spatialReference:d.spatialReference});T.addPath([d,k]);return p.geodesicLength(T,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],-1)))})};u.densify=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,3);if(null===e[0])return null;if(!(e[0]instanceof E))throw Error("Illegal Argument");d=B.toNumber(e[1]);
if(isNaN(d))throw Error("Illegal Argument");if(0>=d)throw Error("Illegal Argument");return e[0]instanceof h||e[0]instanceof q?p.densify(e[0],d,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],-1))):e[0]instanceof G?p.densify(n(e[0]),d,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],-1))):e[0]})};u.densifygeodetic=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,3);if(null===e[0])return null;if(!(e[0]instanceof E))throw Error("Illegal Argument");d=B.toNumber(e[1]);
if(isNaN(d))throw Error("Illegal Argument");if(0>=d)throw Error("Illegal Argument");return e[0]instanceof h||e[0]instanceof q?p.geodesicDensify(e[0],d,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],-1))):e[0]instanceof G?p.geodesicDensify(n(e[0]),d,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],-1))):e[0]})};u.generalize=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,4);if(null===e[0])return null;if(!(e[0]instanceof E))throw Error("Illegal Argument");
d=B.toNumber(e[1]);if(isNaN(d))throw Error("Illegal Argument");return p.generalize(e[0],d,B.toBoolean(B.defaultUndefined(e[2],!0)),I.convertLinearUnitsToCode(B.defaultUndefined(e[3],-1)))})};u.buffer=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,3);if(null===e[0])return null;if(!(e[0]instanceof E))throw Error("Illegal Argument");d=B.toNumber(e[1]);if(isNaN(d))throw Error("Illegal Argument");return 0===d?I.cloneGeometry(e[0]):p.buffer(e[0],d,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],
-1)))})};u.buffergeodetic=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,3);if(null===e[0])return null;if(!(e[0]instanceof E))throw Error("Illegal Argument");d=B.toNumber(e[1]);if(isNaN(d))throw Error("Illegal Argument");return 0===d?I.cloneGeometry(e[0]):p.geodesicBuffer(e[0],d,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],-1)))})};u.offset=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,6);if(null===e[0])return null;
if(!(e[0]instanceof h||e[0]instanceof q))throw Error("Illegal Argument");d=B.toNumber(e[1]);if(isNaN(d))throw Error("Illegal Argument");k=B.toNumber(B.defaultUndefined(e[4],10));if(isNaN(k))throw Error("Illegal Argument");const T=B.toNumber(B.defaultUndefined(e[5],0));if(isNaN(T))throw Error("Illegal Argument");return p.offset(e[0],d,I.convertLinearUnitsToCode(B.defaultUndefined(e[2],-1)),B.toString(B.defaultUndefined(e[3],"round")).toLowerCase(),k,T)})};u.rotate=function(D,b){return F(D,b,function(d,
k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,2,3);d=e[0];if(null===d)return null;if(!(d instanceof E))throw Error("Illegal Argument");d instanceof G&&(d=h.fromExtent(d));k=B.toNumber(e[1]);if(isNaN(k))throw Error("Illegal Argument");e=B.defaultUndefined(e[2],null);if(null===e)return p.rotate(d,k);if(e instanceof m)return p.rotate(d,k,e);throw Error("Illegal Argument");})};u.centroid=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,1,1);if(null===e[0])return null;
d=e[0];if(B.isArray(e[0])||B.isImmutableArray(e[0]))d=B.autoCastArrayOfPointsToMultiPoint(e[0],D.spatialReference);if(null===d)return null;if(!(d instanceof E))throw Error("Illegal Argument");return d instanceof m?B.fixSpatialReference(I.cloneGeometry(e[0]),D.spatialReference):d instanceof h?d.centroid:d instanceof q?f.centroidPolyline(d):d instanceof w?f.centroidMultiPoint(d):d instanceof G?d.center:null})};u.multiparttosinglepart=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);
B.pcCheck(e,1,1);k=[];if(null===e[0])return null;if(!(e[0]instanceof E))throw Error("Illegal Argument");if(e[0]instanceof m||e[0]instanceof G)return[B.fixSpatialReference(I.cloneGeometry(e[0]),D.spatialReference)];d=p.simplify(e[0]);if(d instanceof h){e=[];k=[];for(var T=0;T<d.rings.length;T++)if(d.isClockwise(d.rings[T])){const ea=c.fromJSON({rings:[d.rings[T]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});e.push(ea)}else k.push({ring:d.rings[T],pt:d.getPoint(T,
0)});for(d=0;d<k.length;d++)for(T=0;T<e.length;T++)if(e[T].contains(k[d].pt)){e[T].addRing(k[d].ring);break}return e}if(d instanceof q){e=[];for(k=0;k<d.paths.length;k++)T=c.fromJSON({paths:[d.paths[k]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()}),e.push(T);return e}if(e[0]instanceof w){d=B.fixSpatialReference(I.cloneGeometry(e[0]),D.spatialReference);for(e=0;e<d.points.length;e++)k.push(d.getPoint(e));return k}return null})};u.issimple=function(D,b){return F(D,
b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,1,1);if(null===e[0])return!0;if(!(e[0]instanceof E))throw Error("Illegal Argument");return p.isSimple(e[0])})};u.simplify=function(D,b){return F(D,b,function(d,k,e){e=B.autoCastFeatureToGeometry(e);B.pcCheck(e,1,1);if(null===e[0])return null;if(!(e[0]instanceof E))throw Error("Illegal Argument");return p.simplify(e[0])})}};C.setGeometryEngine=function(u){p=u};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/arcade/kernel":function(){define(["exports","../geometry/Extent"],function(C,z){C.cloneGeometry=function(I){if(null===I)return null;const B=I.clone();void 0!==I.cache._geVersion&&(B.cache._geVersion=I.cache._geVersion);return B};C.convertLinearUnitsToCode=function(I){if(void 0===I)return null;if("number"===typeof I)return I;I=I.toLowerCase();I=I.replace(/\s/g,"");I=I.replace(/-/g,"");switch(I){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":return 9035;
case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};C.convertSquareUnitsToCode=function(I){if(void 0===I)return null;if("number"===typeof I)return I;
I=I.toLowerCase();I=I.replace(/\s/g,"");I=I.replace(/-/g,"");switch(I){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;
case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};C.sameGeomType=function(I,B){return I===B||"point"===I&&"esriGeometryPoint"===B||"polyline"===I&&"esriGeometryPolyline"===B||"polygon"===I&&"esriGeometryPolygon"===B||"extent"===I&&"esriGeometryEnvelope"===B||"multipoint"===I&&"esriGeometryMultipoint"===B||"point"===B&&"esriGeometryPoint"===
I||"polyline"===B&&"esriGeometryPolyline"===I||"polygon"===B&&"esriGeometryPolygon"===I||"extent"===B&&"esriGeometryEnvelope"===I||"multipoint"===B&&"esriGeometryMultipoint"===I?!0:!1};C.shapeExtent=function(I){if(null===I)return null;switch(I.type){case "polygon":case "multipoint":case "polyline":return I.extent;case "point":return new z({xmin:I.x,ymin:I.y,xmax:I.x,ymax:I.y,spatialReference:I.spatialReference});case "extent":return I}return null};Object.defineProperties(C,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/maths":function(){define(["exports","../../chunks/languageUtils","../../core/number"],function(C,z,I){function B(f,G,E){if("undefined"===typeof E||0===+E)return Math[f](G);G=+G;E=+E;if(isNaN(G)||"number"!==typeof E||0!==E%1)return NaN;G=G.toString().split("e");G=Math[f](+(G[0]+"e"+(G[1]?+G[1]-E:-E)));G=G.toString().split("e");return+(G[0]+"e"+(G[1]?+G[1]+E:E))}C.registerFunctions=function(f,G){function E(w,m,h){w=z.toNumber(w);return isNaN(w)?
w:isNaN(m)||isNaN(h)||m>h?NaN:w<m?m:w>h?h:w}f.number=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,2);h=c[0];return z.isNumber(h)?h:null===h?0:z.isDate(h)||z.isBoolean(h)?Number(h):z.isArray(h)?NaN:""===h||void 0===h?Number(h):z.isString(h)?void 0!==c[1]?(c=z.multiReplace(c[1],"\u2030",""),c=z.multiReplace(c,"\u00a4",""),I.parse(h,{pattern:c})):Number(h.trim()):Number(h)})};f.abs=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.abs(z.toNumber(c[0]))})};f.acos=function(w,
m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.acos(z.toNumber(c[0]))})};f.asin=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.asin(z.toNumber(c[0]))})};f.atan=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.atan(z.toNumber(c[0]))})};f.atan2=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,2,2);return Math.atan2(z.toNumber(c[0]),z.toNumber(c[1]))})};f.ceil=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,2);return 2===c.length?
(h=z.toNumber(c[1]),isNaN(h)&&(h=0),B("ceil",z.toNumber(c[0]),-1*h)):Math.ceil(z.toNumber(c[0]))})};f.round=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,2);return 2===c.length?(h=z.toNumber(c[1]),isNaN(h)&&(h=0),B("round",z.toNumber(c[0]),-1*h)):Math.round(z.toNumber(c[0]))})};f.floor=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,2);return 2===c.length?(h=z.toNumber(c[1]),isNaN(h)&&(h=0),B("floor",z.toNumber(c[0]),-1*h)):Math.floor(z.toNumber(c[0]))})};f.cos=function(w,m){return G(w,
m,function(h,q,c){z.pcCheck(c,1,1);return Math.cos(z.toNumber(c[0]))})};f.isnan=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return"number"===typeof c[0]&&isNaN(c[0])})};f.exp=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.exp(z.toNumber(c[0]))})};f.log=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.log(z.toNumber(c[0]))})};f.pow=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,2,2);return z.toNumber(c[0])**z.toNumber(c[1])})};
f.random=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,0,0);return Math.random()})};f.sin=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.sin(z.toNumber(c[0]))})};f.sqrt=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.sqrt(z.toNumber(c[0]))})};f.tan=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return Math.tan(z.toNumber(c[0]))})};f.defaultvalue=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,2,2);return null===c[0]||""===
c[0]||void 0===c[0]?c[1]:c[0]})};f.isempty=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return null===c[0]||""===c[0]||void 0===c[0]?!0:!1})};f["boolean"]=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,1,1);return z.toBoolean(c[0])})};f.constrain=function(w,m){return G(w,m,function(h,q,c){z.pcCheck(c,3,3);h=z.toNumber(c[1]);q=z.toNumber(c[2]);if(z.isArray(c[0])){var g=[];for(var n of c[0])g.push(E(n,h,q));return g}if(z.isImmutableArray(c[0])){n=[];for(g=0;g<c[0].length();g++)n.push(E(c[0].get(g),
h,q));return n}return E(c[0],h,q)})}};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/stats":function(){define(["exports","../../chunks/languageUtils","./fieldStats"],function(C,z,I){function B(f,G,E,w){if(1===w.length){if(z.isArray(w[0]))return I.calculateStat(f,w[0],-1);if(z.isImmutableArray(w[0]))return I.calculateStat(f,w[0].toArray(),-1)}return I.calculateStat(f,w,-1)}C.registerFunctions=function(f,G){f.stdev=function(E,w){return G(E,
w,function(m,h,q){return B("stdev",m,h,q)})};f.variance=function(E,w){return G(E,w,function(m,h,q){return B("variance",m,h,q)})};f.average=function(E,w){return G(E,w,function(m,h,q){return B("mean",m,h,q)})};f.mean=function(E,w){return G(E,w,function(m,h,q){return B("mean",m,h,q)})};f.sum=function(E,w){return G(E,w,function(m,h,q){return B("sum",m,h,q)})};f.min=function(E,w){return G(E,w,function(m,h,q){return B("min",m,h,q)})};f.max=function(E,w){return G(E,w,function(m,h,q){return B("max",m,h,q)})};
f.distinct=function(E,w){return G(E,w,function(m,h,q){return B("distinct",m,h,q)})};f.count=function(E,w){return G(E,w,function(m,h,q){z.pcCheck(q,1,1);if(z.isArray(q[0])||z.isString(q[0]))return q[0].length;if(z.isImmutableArray(q[0]))return q[0].length();throw Error("Invalid Parameters for Count");})}};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/fieldStats":function(){define(["exports","../../chunks/languageUtils"],function(C,
z){function I(f){let G=0;for(let E=0;E<f.length;E++)G+=f[E];return G/f.length}function B(f){const G=I(f);let E=0;for(let w=0;w<f.length;w++)E+=(G-f[w])**2;return E/f.length}C.calculateStat=function(f,G,E=1E3){switch(f.toLowerCase()){case "distinct":a:{f=[];const w={},m=[];for(let h=0;h<G.length;h++){if(void 0!==G[h]&&null!==G[h]&&G[h]!==z.voidOperation){const q=G[h];if(z.isNumber(q)||z.isString(q))void 0===w[q]&&(f.push(q),w[q]=1);else{let c=!1;for(let g=0;g<m.length;g++)!0===z.equalityTest(m[g],
q)&&(c=!0);!1===c&&(m.push(q),f.push(q))}}if(f.length>=E&&-1!==E){G=f;break a}}G=f}return G;case "avg":case "mean":return I(z.toNumberArray(G));case "min":return Math.min.apply(Math,z.toNumberArray(G));case "sum":G=z.toNumberArray(G);E=0;for(f=0;f<G.length;f++)E+=G[f];return G=E;case "max":return Math.max.apply(Math,z.toNumberArray(G));case "stdev":case "stddev":return Math.sqrt(B(z.toNumberArray(G)));case "var":case "variance":return B(z.toNumberArray(G));case "count":return G.length}return 0};C.decodeStatType=
function(f){switch(f.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/string":function(){define("exports ../ArcadePortal ../Attachment ../Dictionary ../../chunks/languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/SpatialReference".split(" "),
function(C,z,I,B,f,G,E,w,m,h,q,c,g,n){function x(u,F){if(u.x===F.x&&u.y===F.y){if(u.hasZ){if(u.z!==F.z)return!1}else if(F.hasZ)return!1;if(u.hasM){if(u.m!==F.m)return!1}else if(F.hasM)return!1;return!0}return!1}function p(u,F,M){if(null===u)F.updateUint8Array([0,139]);else if(f.isArray(u)){F.updateUint8Array([61]);if(M.map.has(u))u=M.map.get(u),F.updateIntArray([u^61237541]);else{M.map.set(u,M.currentLength++);for(var D of u)p(D,F,M);M.map.delete(u);M.currentLength--}F.updateUint8Array([199])}else if(f.isImmutableArray(u)){F.updateUint8Array([61]);
if(M.map.has(u))u=M.map.get(u),F.updateIntArray([u^61237541]);else{M.map.set(u,M.currentLength++);for(var b of u.toArray())p(b,F,M);M.map.delete(u);M.currentLength--}F.updateUint8Array([199])}else if(f.isDate(u))F.updateIntArray([u.getTime()]),F.updateUint8Array([241]);else if(f.isString(u))F.updateIntArray([u.length]),F.updateWithString(u),F.updateUint8Array([41]);else if(f.isBoolean(u))F.updateUint8Array([!0===u?1:0,113]);else if(f.isNumber(u))F.updateFloatArray([u]),F.updateUint8Array([173]);else{if(u instanceof
I)throw Error("Type not supported in Hash");if(u instanceof z)throw Error("Type not supported in Hash");if(u instanceof B){F.updateUint8Array([223]);if(M.map.has(u))u=M.map.get(u),F.updateIntArray([u^61237541]);else{M.map.set(u,M.currentLength++);for(var d of u.keys())F.updateIntArray([d.length]),F.updateWithString(d),F.updateUint8Array([251]),D=u.field(d),p(D,F,M),F.updateUint8Array([239]);M.map.delete(u);M.currentLength--}F.updateUint8Array([73])}else{if(f.isFeature(u))throw Error("Type not supported in Hash");
if(u instanceof q)F.updateIntArray([3833836621]),F.updateIntArray([0]),F.updateFloatArray([u.x]),F.updateIntArray([1]),F.updateFloatArray([u.y]),u.hasZ&&(F.updateIntArray([2]),F.updateFloatArray([u.z])),u.hasM&&(F.updateIntArray([3]),F.updateFloatArray([u.m])),F.updateIntArray([3765347959]),p(u.spatialReference.wkid,F,M);else if(u instanceof c){F.updateIntArray([1266616829]);for(d=0;d<u.rings.length;d++){b=u.rings[d];D=[];var k=null;let e=null;for(let T=0;T<b.length;T++){const ea=u.getPoint(d,T);
if(0===T)k=ea;else if(x(e,ea))continue;e=ea;T===b.length-1&&x(k,ea)||D.push(ea)}F.updateIntArray([1397116793,D.length]);for(b=0;b<D.length;b++)k=D[b],F.updateIntArray([3962308117,b]),p(k,F,M),F.updateIntArray([2716288009]);F.updateIntArray([2278822459])}F.updateIntArray([3878477243]);p(u.spatialReference.wkid,F,M)}else if(u instanceof g){F.updateIntArray([4106883559]);for(d=0;d<u.paths.length;d++){D=u.paths[d];F.updateIntArray([1397116793,D.length]);for(b=0;b<D.length;b++)F.updateIntArray([3962308117,
b]),p(u.getPoint(d,b),F,M),F.updateIntArray([2716288009]);F.updateIntArray([2278822459])}F.updateIntArray([2568784753]);p(u.spatialReference.wkid,F,M)}else if(u instanceof h){F.updateIntArray([588535921,u.points.length]);for(d=0;d<u.points.length;d++)D=u.getPoint(d),F.updateIntArray([d]),p(D,F,M);F.updateIntArray([1700171621]);p(u.spatialReference.wkid,F,M)}else if(u instanceof m)F.updateIntArray([3483648373]),F.updateIntArray([0]),F.updateFloatArray([u.xmax]),F.updateIntArray([1]),F.updateFloatArray([u.xmin]),
F.updateIntArray([2]),F.updateFloatArray([u.ymax]),F.updateIntArray([3]),F.updateFloatArray([u.ymin]),u.hasZ&&(F.updateIntArray([4]),F.updateFloatArray([u.zmax]),F.updateIntArray([5]),F.updateFloatArray([u.zmin])),u.hasM&&(F.updateIntArray([6]),F.updateFloatArray([u.mmax]),F.updateIntArray([7]),F.updateFloatArray([u.mmin])),F.updateIntArray([3622027469]),p(u.spatialReference.wkid,F,M);else if(u instanceof n)F.updateIntArray([14]),void 0!==u.wkid&&null!==u.wkid&&F.updateIntArray([u.wkid]),u.wkt&&F.updateWithString(u.wkt);
else{if(f.isFunctionParameter(u))throw Error("Type not supported in Hash");if(f.isFeatureSet(u))throw Error("Type not supported in Hash");f.isFeatureSetCollection(u);throw Error("Type not supported in Hash");}}}}C.registerFunctions=function(u,F){u.portal=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);return new z(f.toString(k[0]))})};u.trim=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);return f.toString(k[0]).trim()})};u.tohex=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,
1,1);b=f.toNumber(k[0]);return isNaN(b)?b:b.toString(16)})};u.upper=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);return f.toString(k[0]).toUpperCase()})};u.proper=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,2);b=1;2===k.length&&"firstword"===f.toString(k[1]).toLowerCase()&&(b=2);d=/\s/;k=f.toString(k[0]);let e="",T=!0;for(let ea=0;ea<k.length;ea++){let W=k[ea];d.test(W)?1===b&&(T=!0):W.toUpperCase()!==W.toLowerCase()&&(T?(W=W.toUpperCase(),T=!1):W=W.toLowerCase());e+=W}return e})};
u.lower=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);return f.toString(k[0]).toLowerCase()})};u.guid=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,0,1);if(0<k.length)switch(f.toString(k[0]).toLowerCase()){case "digits":return f.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return f.generateUUID();case "digits-hyphen-parentheses":return"("+f.generateUUID()+")"}return"{"+f.generateUUID()+"}"})};u.console=function(M,D){return F(M,
D,function(b,d,k){0!==k.length&&(1===k.length?M.console(f.toString(k[0])):M.console(f.toString(k)));return f.voidOperation})};u.mid=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,2,3);b=f.toNumber(k[1]);if(isNaN(b))return"";0>b&&(b=0);if(2===k.length)return f.toString(k[0]).substr(b);d=f.toNumber(k[2]);if(isNaN(d))return"";0>d&&(d=0);return f.toString(k[0]).substr(b,d)})};u.find=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,2,3);b=0;if(2<k.length){b=f.toNumber(f.defaultUndefined(k[2],
0));if(isNaN(b))return-1;0>b&&(b=0)}return f.toString(k[1]).indexOf(f.toString(k[0]),b)})};u.left=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,2,2);b=f.toNumber(k[1]);if(isNaN(b))return"";0>b&&(b=0);return f.toString(k[0]).substr(0,b)})};u.right=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,2,2);b=f.toNumber(k[1]);if(isNaN(b))return"";0>b&&(b=0);return f.toString(k[0]).substr(-1*b,b)})};u.split=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,2,4);b=f.toNumber(f.defaultUndefined(k[2],
-1));d=f.toBoolean(f.defaultUndefined(k[3],!1));-1===b||null===b||!0===d?k=f.toString(k[0]).split(f.toString(k[1])):(isNaN(b)&&(b=-1),-1>b&&(b=-1),k=f.toString(k[0]).split(f.toString(k[1]),b));if(!1===d)return k;d=[];for(let e=0;e<k.length&&!(-1!==b&&d.length>=b);e++)""!==k[e]&&void 0!==k[e]&&d.push(k[e]);return d})};u.text=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,2);return f.toStringExplicit(k[0],k[1])})};u.concatenate=function(M,D){return F(M,D,function(b,d,k){b=[];if(1>k.length)return"";
if(f.isArray(k[0])){d=f.defaultUndefined(k[2],"");for(var e=0;e<k[0].length;e++)b[e]=f.toStringExplicit(k[0][e],d);return 1<k.length?b.join(k[1]):b.join("")}if(f.isImmutableArray(k[0])){d=f.defaultUndefined(k[2],"");for(e=0;e<k[0].length();e++)b[e]=f.toStringExplicit(k[0].get(e),d);return 1<k.length?b.join(k[1]):b.join("")}for(d=0;d<k.length;d++)b[d]=f.toStringExplicit(k[d]);return b.join("")})};u.reverse=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);if(f.isArray(k[0]))return b=k[0].slice(0),
b.reverse(),b;if(f.isImmutableArray(k[0]))return b=k[0].toArray().slice(0),b.reverse(),b;throw Error("Invalid Parameter");})};u.replace=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,3,4);b=f.toString(k[0]);d=f.toString(k[1]);const e=f.toString(k[2]);return(4===k.length?f.toBoolean(k[3]):1)?f.multiReplace(b,d,e):b.replace(d,e)})};u.schema=function(M,D){return F(M,D,function(b,d,k){if(f.isFeature(k[0]))return(b=f.featureSchema(k[0]))?B.convertObjectToArcadeDictionary(b):null;throw Error("Invalid Parameter");
})};u.subtypes=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);if(f.isFeature(k[0]))return(b=f.featureSubtypes(k[0]))?B.convertObjectToArcadeDictionary(b):null;throw Error("Invalid Parameter");})};u.subtypecode=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);if(f.isFeature(k[0])){b=f.featureSubtypes(k[0]);if(!b)return null;if(b.subtypeField&&k[0].hasField(b.subtypeField)){k=k[0].field(b.subtypeField);for(const e of b.subtypes)if(e.code===k)return e.code}return null}throw Error("Invalid Parameter");
})};u.subtypename=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);if(f.isFeature(k[0])){b=f.featureSubtypes(k[0]);if(!b)return"";if(b.subtypeField&&k[0].hasField(b.subtypeField)){k=k[0].field(b.subtypeField);for(const e of b.subtypes)if(e.code===k)return e.name}return""}throw Error("Invalid Parameter");})};u.gdbversion=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);if(f.isFeature(k[0]))return k[0].gdbVersion();throw Error("Invalid Parameter");})};u.domain=function(M,D){return F(M,
D,function(b,d,k){f.pcCheck(k,2,3);if(f.isFeature(k[0]))return(b=f.featureFullDomain(k[0],f.toString(k[1]),void 0===k[2]?void 0:f.toNumber(k[2])))&&b.domain?"coded-value"===b.domain.type||"codedValue"===b.domain.type?B.convertObjectToArcadeDictionary({type:"codedValue",name:b.domain.name,dataType:G.layerFieldEsriConstants[b.field.type],codedValues:b.domain.codedValues.map(e=>({name:e.name,code:e.code}))}):B.convertObjectToArcadeDictionary({type:"range",name:b.domain.name,dataType:G.layerFieldEsriConstants[b.field.type],
min:b.domain.min,max:b.domain.max}):null;throw Error("Invalid Parameter");})};u.domainname=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,2,4);if(f.isFeature(k[0]))return f.featureDomainValueLookup(k[0],f.toString(k[1]),k[2],void 0===k[3]?void 0:f.toNumber(k[3]));throw Error("Invalid Parameter");})};u.domaincode=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,2,4);if(f.isFeature(k[0]))return f.featureDomainCodeLookup(k[0],f.toString(k[1]),k[2],void 0===k[3]?void 0:f.toNumber(k[3]));
throw Error("Invalid Parameter");})};u.urlencode=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);if(null===k[0])return"";if(k[0]instanceof B){b="";for(const e of k[0].keys())d=k[0].field(e),""!==b&&(b+="\x26"),b=null===d?b+(encodeURIComponent(e)+"\x3d"):b+(encodeURIComponent(e)+"\x3d"+encodeURIComponent(d));return b}return encodeURIComponent(f.toString(k[0]))})};u.hash=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);b=new w.XXH(0);p(k[0],b,{map:new Map,currentLength:0});return b.digest()})};
u.convertdirection=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,3,3);return E.convertDirection(k[0],k[1],k[2])})};u.fromjson=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,1);if(!1===f.isString(k[0]))throw Error("Invalid Parameter");return B.convertJsonToArcade(JSON.parse(f.toString(k[0])))})};u.expects=function(M,D){return F(M,D,function(b,d,k){if(1>k.length)throw Error("Function called with wrong number of Parameters");return f.voidOperation})};u.tocharcode=function(M,D){return F(M,
D,function(b,d,k){f.pcCheck(k,1,2);b=f.toNumber(f.defaultUndefined(k[1],0));d=f.toString(k[0]);if(0===d.length&&1===k.length)return null;if(d.length<=b||0>b)throw Error("Illegal argument");return d.charCodeAt(b)})};u.tocodepoint=function(M,D){return F(M,D,function(b,d,k){f.pcCheck(k,1,2);b=f.toNumber(f.defaultUndefined(k[1],0));d=f.toString(k[0]);if(0===d.length&&1===k.length)return null;if(d.length<=b||0>b)throw Error("Illegal argument");return d.codePointAt(b)})};u.fromcharcode=function(M,D){return F(M,
D,function(b,d,k){if(1>k.length)throw Error("Function called with wrong number of Parameters");b=k.map(e=>Math.trunc(f.toNumber(e))).filter(e=>0<=e&&65535>=e);return 0===b.length?null:String.fromCharCode.apply(null,b)})};u.fromcodepoint=function(M,D){return F(M,D,function(b,d,k){if(1>k.length)throw Error("Function called with wrong number of Parameters");let e;try{e=k.map(T=>Math.trunc(f.toNumber(T))).filter(T=>1114111>=T&&T>>>0===T)}catch(T){return null}return 0===e.length?null:String.fromCodePoint.apply(null,
e)})}};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/convertdirection":function(){define(["exports","../Dictionary","../../chunks/languageUtils"],function(C,z,I){function B(P){if(!1===I.isString(P))throw Error("Invalid Parameter");return P}function f(P,da){da=10**da;return Math.round(P*da)/da}function G(P){const da=parseFloat(P.toString().replace(Math.trunc(P).toString(),"0"))*Math.sign(P);return 0>P?{fraction:da,integer:Math.ceil(P)}:
{fraction:da,integer:Math.floor(P)}}function E(P,da){switch(P){case ta.north:return"SHORT"===da?"N":"North";case ta.east:return"SHORT"===da?"E":"East";case ta.south:return"SHORT"===da?"S":"South";case ta.west:return"SHORT"===da?"W":"West"}}function w(P,da,V){for(;P.length<V;)P=da+P;return P}function m(P,da){return P-Math.floor(P/da)*da}function h(P){switch(P){case U.truncated_degrees:case U.decimal_degrees:return 360;case U.radians:return Ta;case U.gradians:return 400;case U.seconds:return 1296E3;
case U.fractional_degree_minutes:return 60;case U.fractional_minute_seconds:return 60;default:throw Error("Unnexpected evaluations");}}function q(P){switch(P.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return ca.north_azimuth;case "POLAR":return ca.polar;case "QUADRANT":return ca.quadrant;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return ca.south_azimuth}throw Error("Unsupported direction type");}function c(P){switch(P.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return U.decimal_degrees;
case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return U.degrees_minutes_seconds;case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return U.radians;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return U.gradians}throw Error("Unsupported units");}function g(P,da,V){let ba=null;switch(da){case U.decimal_degrees:ba=W(P,3600);break;case U.seconds:ba=P;break;case U.gradians:ba=W(P,3240);break;case U.radians:ba=W(P,Xa);break;default:throw Error("Unnexpected evaluation");
}switch(V){case U.decimal_degrees:return pa(ba,3600);case U.seconds:return ba;case U.gradians:return pa(ba,3240);case U.radians:return ba/Xa;default:throw Error("Unnexpected evaluation");}}function n(P){switch(P){case U.decimal_degrees:case U.truncated_degrees:case U.degrees_minutes_seconds:return U.decimal_degrees;case U.gradians:return U.gradians;case U.fractional_degree_minutes:return U.fractional_degree_minutes;case U.radians:return U.radians;case U.seconds:case U.fractional_minute_seconds:return U.seconds}}
function x(P){switch(I.toNumber(P)){case 1:return{first:ta.north,second:ta.east};case 2:return{first:ta.south,second:ta.east};case 3:return{first:ta.south,second:ta.west};case 4:return{first:ta.north,second:ta.west}}return null}function p(P){switch(P.toUpperCase().trim()){case "N":case "NORTH":return ta.north;case "E":case "EAST":return ta.east;case "S":case "SOUTH":return ta.south;case "W":case "WEST":return ta.west}return null}function u(P){P=parseFloat(P);if(I.isNumber(P)){if(isNaN(P))throw Error("Invalid conversion");
return P}throw Error("Invalid conversion");}function F(P,da,V){const ba=V===ca.quadrant;let la=null;var ia=null;let xa=0;var Aa=0;Aa=0;if(ba){if(2>P.length)throw Error("Conversion Error");Aa=1;(ia=x(I.toString(P[P.length-1])))?(la=ia.first,ia=ia.second):(xa=1,la=p(I.toString(P[0])),ia=p(I.toString(P[P.length-1])));if(null===la||null===ia)throw Error("Invalid Conversion");}switch(da){case U.decimal_degrees:case U.radians:case U.gradians:if(0===P.length)throw Error("Invalid Conversion");return ba?ra.createFromAngleMeridianAndDirection(sa.createFromAngleAndUnits(u(P[xa]),
n(da)),la,ia):ra.createFromAngleAndDirection(sa.createFromAngleAndUnits(u(P[xa]),n(da)),V);case U.degrees_minutes_seconds:Aa=P.length-Aa-xa;if(3===Aa)return P=sa.createFromDegreesMinutesSeconds(u(P[xa]),u(P[xa+1]),u(P[xa+2])),ba?ra.createFromAngleMeridianAndDirection(P,la,ia):ra.createFromAngleAndDirection(P,V);if(1===Aa)return P=u(P[xa]),P=ka.numberToDms(P),P=sa.createFromDegreesMinutesSeconds(P.m_degrees,P.m_minutes,P.m_seconds),ba?ra.createFromAngleMeridianAndDirection(P,la,ia):ra.createFromAngleAndDirection(P,
V)}throw Error("Conversion Error");}function M(P){const da=[" ","-","/","'",'"',"\\","^","\u00b0",Ma,"\t","\r","\n","*"];let V="";for(let ba=0;ba<P.length;ba++){const la=P.charAt(ba);V=da.includes(la)?V+"RRSPLITRRSPLITRR":V+la}return V.split("RRSPLITRRSPLITRR").filter(ba=>""!==ba)}function D(P,da,V){const ba={padding:0,rounding:0,newpos:da};let la=!1;for(;da<P.length;){const ia=P[da];if(ia===V)la?ba.rounding++:ba.padding++,da++;else if("."===ia)la=!0,da++;else break}ba.newpos=da-1;return ba}const b=
P=>(da,V,ba)=>{ba=ba||14;return+P(da,V).toFixed(ba)},d=(P,da)=>P+da,k=(P,da)=>P-da,e=(P,da)=>P*da,T=(P,da)=>P/da,ea=(P,da,V)=>b(d)(P,da,V),W=(P,da,V)=>b(e)(P,da,V),pa=(P,da,V)=>b(T)(P,da,V),Ta=2*Math.PI,Xa=648E3/Math.PI,Ma=String.fromCharCode(7501);var ta;(function(P){P[P.north=0]="north";P[P.east=1]="east";P[P.south=2]="south";P[P.west=3]="west"})(ta||(ta={}));var U;(function(P){P[P.decimal_degrees=1]="decimal_degrees";P[P.seconds=2]="seconds";P[P.degrees_minutes_seconds=3]="degrees_minutes_seconds";
P[P.radians=4]="radians";P[P.gradians=5]="gradians";P[P.truncated_degrees=6]="truncated_degrees";P[P.fractional_degree_minutes=7]="fractional_degree_minutes";P[P.fractional_minute_seconds=8]="fractional_minute_seconds"})(U||(U={}));var ca;(function(P){P[P.north_azimuth=1]="north_azimuth";P[P.polar=2]="polar";P[P.quadrant=3]="quadrant";P[P.south_azimuth=4]="south_azimuth"})(ca||(ca={}));var na;(function(P){P[P.meridian=0]="meridian";P[P.direction=1]="direction"})(na||(na={}));let ka=function(){function P(V,
ba,la){this.m_degrees=V;this.m_minutes=ba;this.m_seconds=la}var da=P.prototype;da.getField=function(V){switch(V){case U.decimal_degrees:case U.truncated_degrees:return this.m_degrees;case U.fractional_degree_minutes:return this.m_minutes;case U.seconds:case U.fractional_minute_seconds:return this.m_seconds;default:throw Error("Unnexpected evaluation");}};P.secondsToDMS=function(V){const ba=G(V).fraction;V=G(V).integer;const la=Math.floor(V/3600);V-=3600*la;const ia=Math.floor(V/60);return new P(la,
ia,V-60*ia+ba)};P.numberToDms=function(V){var ba=G(V).fraction;V=G(V).integer;const la=W(G(100*ba).fraction,100);ba=G(100*ba).integer;return new P(V,ba,la)};da.format=function(V,ba){ba=f(this.m_seconds,ba);let la=this.m_minutes,ia=this.m_degrees;if(V===U.seconds||V===U.fractional_minute_seconds)60<=ba&&(ba-=60,++la),60<=la&&(la=0,++ia),360<=ia&&(ia=0);else if(V===U.fractional_degree_minutes)ba=0,la=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,ia=this.m_degrees,60<=la&&(la=0,++ia),360<=ia&&(ia=
0);else if(V===U.decimal_degrees||V===U.truncated_degrees)V=pa(this.m_seconds,3600),ba=pa(this.m_minutes,60),ia=Math.round(this.m_degrees+ba+V),ba=la=0;return new P(ia,la,ba)};P.dmsToSeconds=function(V,ba,la){return 3600*V+60*ba+la};return P}(),ja=function(){function P(da,V,ba){this.meridian=da;this.angle=V;this.direction=ba}P.prototype.fetchAzimuth=function(da){return da===na.meridian?this.meridian:this.direction};return P}(),ra=function(){function P(V){this.m_angle=V}P.createFromAngleAndDirection=
function(V,ba){return new P(new sa(P._convertDirectionFormat(V.extractAngularUnits(U.seconds),ba,ca.north_azimuth)))};var da=P.prototype;da.getAngle=function(V){const ba=this.m_angle.extractAngularUnits(U.seconds);switch(V){case ca.north_azimuth:case ca.south_azimuth:case ca.polar:return new sa(P._convertDirectionFormat(ba,ca.north_azimuth,V));case ca.quadrant:return V=P.secondsNorthAzimuthToQuadrant(ba),new sa(V.angle)}};da.getMeridian=function(V){const ba=this.m_angle.extractAngularUnits(U.seconds);
switch(V){case ca.north_azimuth:return ta.north;case ca.south_azimuth:return ta.south;case ca.polar:return ta.east;case ca.quadrant:return P.secondsNorthAzimuthToQuadrant(ba).meridian}};da.getDirection=function(V){const ba=this.m_angle.extractAngularUnits(U.seconds);switch(V){case ca.north_azimuth:return ta.east;case ca.south_azimuth:return ta.west;case ca.polar:return ta.north;case ca.quadrant:return P.secondsNorthAzimuthToQuadrant(ba).direction}};P.secondsNorthAzimuthToQuadrant=function(V){const ba=
324E3>=V||972E3<=V?ta.north:ta.south;return new ja(ba,ba===ta.north?Math.min(1296E3-V,V):Math.abs(V-648E3),648E3<V?ta.west:ta.east)};P.createFromAngleMeridianAndDirection=function(V,ba,la){return new P(new sa(P.secondsQuadrantToNorthAzimuth(V.extractAngularUnits(U.seconds),ba,la)))};P.secondsQuadrantToNorthAzimuth=function(V,ba,la){return ba===ta.north?la===ta.east?V:1296E3-V:la===ta.east?648E3-V:648E3+V};P._convertDirectionFormat=function(V,ba,la){let ia=0;switch(ba){case ca.north_azimuth:ia=V;break;
case ca.polar:ia=324E3-V;break;case ca.quadrant:throw Error("Unnexpected evaluation");case ca.south_azimuth:ia=V+648E3}V=0;switch(la){case ca.north_azimuth:V=ia;break;case ca.polar:V=324E3-ia;break;case ca.quadrant:throw Error("Unnexpected evaluation");case ca.south_azimuth:V=ia-648E3}V%=1296E3;return 0>V?1296E3+V:V};return P}(),sa=function(){function P(da){this.m_seconds=da}P.createFromAngleAndUnits=function(da,V){return new P(g(da,V,U.seconds))};P.prototype.extractAngularUnits=function(da){return g(this.m_seconds,
U.seconds,n(da))};P.createFromDegreesMinutesSeconds=function(da,V,ba){return new P(ea(ea(W(da,3600),W(V,60)),ba))};return P}(),Qa=function(){function P(V,ba,la,ia){this.m_view=V;this.m_angle=ba;this.m_merdian=la;this.m_direction=ia;this.m_formatted_dms=this.m_dms=null}P.createFromStringAndBearing=function(V,ba,la){return new P(V,ba.getAngle(la),ba.getMeridian(la),ba.getDirection(la))};var da=P.prototype;da.fetchAngle=function(){return this.m_angle};da.fetchMeridian=function(){return this.m_merdian};
da.fetchDirection=function(){return this.m_direction};da.fetchView=function(){return this.m_view};da.fetchDms=function(){null===this.m_dms&&this._calculateDms();return this.m_dms};da.fetchFormattedDms=function(){null===this.m_formatted_dms&&this._calculateDms();return this.m_formatted_dms};da._calculateDms=function(){var V=null;let ba=U.truncated_degrees,la=0;for(V=0;V<this.m_view.length;V++){const ia=this.m_view[V];switch(ia){case "m":V=D(this.m_view,V,ia);ba=ba===U.truncated_degrees?U.fractional_degree_minutes:
ba;V=V.newpos;continue;case "s":V=D(this.m_view,V,ia),ba=U.fractional_minute_seconds,la=la<V.rounding?V.rounding:la,V=V.newpos}}this.m_dms=ka.secondsToDMS(this.m_angle.extractAngularUnits(U.seconds));this.m_formatted_dms=ka.secondsToDMS(this.m_angle.extractAngularUnits(U.seconds)).format(ba,la)};return P}();C.convertDirection=function(P,da,V){if(!(da instanceof z))throw Error("Invalid Parameter");if(!1===da.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===
da.hasField("angleType"))throw Error("Invalid Parameter - Missing directionType");var ba=q(B(da.field("directiontype")));da=c(B(da.field("angletype")));if(I.isNumber(P)){P=I.toNumber(P);if(ba===ca.quadrant)throw Error("Conversion error");da===U.degrees_minutes_seconds?(P=ka.numberToDms(P),ba=ra.createFromAngleAndDirection(sa.createFromDegreesMinutesSeconds(P.m_degrees,P.m_minutes,P.m_seconds),ba)):ba=ra.createFromAngleAndDirection(sa.createFromAngleAndUnits(P,n(da)),ba)}else if(I.isString(P))ba=F(M(P),
da,ba);else if(I.isArray(P))ba=F(P,da,ba);else if(I.isImmutableArray(P))ba=F(P.toArray(),da,ba);else throw Error("Conversion Error");if(!(V instanceof z))throw Error("Invalid Parameter");if(!1===V.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===V.hasField("outputType"))throw Error("Invalid Parameter - Missing directionType");P=q(B(V.field("directiontype")));da=V.hasField("angleType")?c(B(V.field("angletype"))):null;var la=B(V.field("outputType")).toUpperCase().trim();
if(!P||!la)throw Error("Conversion error");if(!(da||"TEXT"===la&&V.hasField("format")))throw Error("Invalid unit");switch(la){case "VALUE":if(P===ca.quadrant||da===U.degrees_minutes_seconds)return V=ba.getAngle(P),P===ca.quadrant&&da===U.degrees_minutes_seconds?(V=ka.secondsToDMS(V.extractAngularUnits(U.seconds)),ba=[E(ba.getMeridian(P),"SHORT"),V.m_degrees,V.m_minutes,V.m_seconds,E(ba.getDirection(P),"SHORT")]):da===U.degrees_minutes_seconds?(ba=ka.secondsToDMS(V.extractAngularUnits(U.seconds)),
ba=[ba.m_degrees,ba.m_minutes,ba.m_seconds]):ba=P===ca.quadrant?[E(ba.getMeridian(P),"SHORT"),V.extractAngularUnits(da),E(ba.getDirection(P),"SHORT")]:[V.extractAngularUnits(da)],ba;if((V=n(da))&&da!==U.degrees_minutes_seconds)ba=ba.getAngle(P).extractAngularUnits(V);else throw Error("Conversion Error");return ba;case "TEXT":la="";V.hasField("format")&&(la=I.toString(V.field("format")));if(null===la||""===la){V="";switch(da){case U.decimal_degrees:V=P===ca.quadrant?"DD.DD\u00b0":"DDD.DD\u00b0";break;
case U.degrees_minutes_seconds:V=P===ca.quadrant?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case U.radians:V="R.RR";break;case U.gradians:V="GGG.GG"+Ma;break;default:throw Error("Conversion error");}P===ca.quadrant&&(V="p "+V+" b");la=V}V=la;var ia="",xa=null,Aa=null;da=Qa.createFromStringAndBearing(V,ba,P);la={D:U.decimal_degrees,d:U.truncated_degrees,m:U.fractional_degree_minutes,s:U.fractional_minute_seconds,R:U.radians,G:U.gradians};for(Aa=0;Aa<V.length;Aa++){var J=V[Aa];switch(J){case "[":xa=
V;J={escaped:"",newpos:Aa};for(Aa++;Aa<xa.length;){var A=xa[Aa];Aa++;if("]"===A)break;J.escaped+=A}J.newpos=Aa-1;xa=J;ia+=xa.escaped;Aa=xa.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":xa=D(V,Aa,J);Aa=ba.getAngle(P);a:{J=la[J];A=xa.padding;var L=xa.rounding,O=da;let Y=null;switch(J){case U.decimal_degrees:case U.radians:case U.gradians:Y=m(f(Aa.extractAngularUnits(J),L),h(J));Aa=w(Y.toFixed(L),"0",A+L+(0<L?1:0));break a;case U.truncated_degrees:case U.fractional_degree_minutes:Y=
m(O.fetchFormattedDms().getField(J),h(J));Aa=w(Y.toFixed(L),"0",A+L+(0<L?1:0));break a;case U.fractional_minute_seconds:Y=m(f(O.fetchDms().getField(J),L),h(J));Aa=w(Y.toFixed(L),"0",A+L+(0<L?1:0));break a;default:throw Error("Unnexepected evaluation");}}ia+=Aa;Aa=xa.newpos;continue;case "P":case "p":ia+=E(da.fetchMeridian(),"p"===J?"SHORT":"LONG");continue;case "B":case "b":ia+=E(da.fetchDirection(),"b"===J?"SHORT":"LONG");continue;default:ia+=J}}return ba=ia;default:throw Error("Invalid Parameter");
}};C.preciseAdd=ea;C.preciseDivide=pa;C.preciseMinus=(P,da,V)=>b(k)(P,da,V);C.preciseMultiply=W;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/functions/hash":function(){define(["exports"],function(C){function z(B){const f=[];for(let G=0,E=B.length;G<E;G++){let w=B.charCodeAt(G);128>w?f.push(w):2048>w?f.push(192|w>>6,128|w&63):55296>w||57344<=w?f.push(224|w>>12,128|w>>6&63,128|w&63):(G++,w=65536+((w&1023)<<10|B.charCodeAt(G)&1023),f.push(240|
w>>18,128|w>>12&63,128|w>>6&63,128|w&63))}return new Uint8Array(f)}let I=function(){function B(G){this.seed=G;this.totallen=0;this.bufs=[];this.init()}var f=B.prototype;f.init=function(){this.bufs=[];this.totallen=0;return this};f.updateFloatArray=function(G){const E=[];for(const w of G)isNaN(w)?E.push("NaN"):Infinity===w?E.push("Infinity"):-Infinity===w?E.push("-Infinity"):0===w?E.push("0"):E.push(w.toString(16));this.update(z(E.join("")))};f.updateIntArray=function(G){G=Int32Array.from(G);this.update(new Uint8Array(G.buffer))};
f.updateUint8Array=function(G){this.update(Uint8Array.from(G))};f.updateWithString=function(G){return this.update(z(G))};f.update=function(G){this.bufs.push(G);this.totallen+=G.length;return this};f.digest=function(){const G=new Uint8Array(this.totallen);let E=0;for(const w of this.bufs)G.set(w,E),E+=w.length;this.init();return this._xxHash32(G,this.seed)};f._xxHash32=function(G,E=0){var w=E+374761393&4294967295;let m=0;if(16<=G.length){w=[E+2654435761+2246822519&4294967295,E+2246822519&4294967295,
E+0&4294967295,E-2654435761&4294967295];E=G.length-16;var h=0;for(m=0;(m&4294967280)<=E;m+=4){var q=m;q=w[h]+(2246822519*(G[q+0]+(G[q+1]<<8))+(2246822519*(G[q+2]+(G[q+3]<<8))<<16))&4294967295;q=q<<13|q>>>19;w[h]=2654435761*(q&65535)+(2654435761*(q>>>16)<<16)&4294967295;h=h+1&3}w=(w[0]<<1|w[0]>>>31)+(w[1]<<7|w[1]>>>25)+(w[2]<<12|w[2]>>>20)+(w[3]<<18|w[3]>>>14)&4294967295}w=w+G.length&4294967295;for(E=G.length-4;m<=E;m+=4)h=m,w=w+(3266489917*(G[h+0]+(G[h+1]<<8))+(3266489917*(G[h+2]+(G[h+3]<<8))<<16))&
4294967295,w=w<<17|w>>>15,w=668265263*(w&65535)+(668265263*(w>>>16)<<16)&4294967295;for(;m<G.length;++m)w+=374761393*G[m],w=w<<11|w>>>21,w=2654435761*(w&65535)+(2654435761*(w>>>16)<<16)&4294967295;w^=w>>>15;w=(2246822519*(w&65535)&4294967295)+(2246822519*(w>>>16)<<16);w^=w>>>13;w=(3266489917*(w&65535)&4294967295)+(3266489917*(w>>>16)<<16);w^=w>>>16;return 0>w?w+4294967296:w};return B}();C.XXH=I;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/arcadeRuntime":function(){define("exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ../chunks/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(C,z,I,B,f,G,E,w,m,h,q,c,g,n,x,p,u,F,M,D,b,d,k,e){function T(J,A){const L=[];for(let O=0;O<A.arguments.length;O++)L.push(W(J,A.arguments[O]));return L}function ea(J,A,L){try{return!0===A.preparsed?L(J,null,A.arguments):L(J,A,T(J,A))}catch(O){throw O;}}function W(J,A){try{switch(A.type){case "EmptyStatement":return m.voidOperation;case "VariableDeclarator":{let ha=null===A.init?null:W(J,A.init);ha===m.voidOperation&&(ha=null);if("Identifier"!==A.id.type)throw Error("Can only assign a regular variable");
const wa=A.id.name.toLowerCase();null!==J.localScope?J.localScope[wa]={value:ha,valueset:!0,node:A.init}:J.globalScope[wa]={value:ha,valueset:!0,node:A.init};var L=m.voidOperation}return L;case "VariableDeclaration":for(var O=0;O<A.declarations.length;O++)W(J,A.declarations[O]);return m.voidOperation;case "BlockStatement":a:{let ha=m.voidOperation;for(O=0;O<A.body.length;O++)if(ha=W(J,A.body[O]),ha instanceof m.ReturnResult||ha===m.breakResult||ha===m.continueResult){var Y=ha;break a}Y=ha}return Y;
case "FunctionDeclaration":{const ha=A.id.name.toLowerCase();J.globalScope[ha]={valueset:!0,node:null,value:new G(A,J)};var va=m.voidOperation}return va;case "ReturnStatement":if(null===A.argument)var Ea=new m.ReturnResult(m.voidOperation);else{var ya=W(J,A.argument);Ea=new m.ReturnResult(ya)}return Ea;case "IfStatement":{if("AssignmentExpression"===A.test.type||"UpdateExpression"===A.test.type)throw Error(h.nodeErrorMessage(A.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const ha=W(J,A.test);
if(!0===ha)var Ja=W(J,A.consequent);else if(!1===ha)Ja=null!==A.alternate?W(J,A.alternate):m.voidOperation;else throw Error(h.nodeErrorMessage(A,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}return Ja;case "ExpressionStatement":if("AssignmentExpression"===A.expression.type||"UpdateExpression"===A.expression.type)var t=W(J,A.expression);else if("CallExpression"===A.expression.type){const ha=W(J,A.expression);t=ha===m.voidOperation?m.voidOperation:new m.ImplicitResult(ha)}else{{const ha=W(J,A.expression);
t=ha===m.voidOperation?m.voidOperation:new m.ImplicitResult(ha)}}return t;case "AssignmentExpression":{const ha=W(J,A.right);O=null;var r="";if("MemberExpression"===A.left.type){O=W(J,A.left.object);!0===A.left.computed?r=W(J,A.left.property):"Identifier"===A.left.property.type&&(r=A.left.property.name);if(m.isArray(O))if(m.isNumber(r)){0>r&&(r=O.length+r);if(0>r||r>O.length)throw Error("Assignment outside of array bounds");if(r===O.length&&"\x3d"!==A.operator)throw Error("Invalid Parameter");O[r]=
Ta(ha,A.operator,O[r],A)}else throw Error("Invalid Parameter");else if(O instanceof B){if(!1===m.isString(r))throw Error("Dictionary accessor must be a string");if(!0===O.hasField(r))O.setField(r,Ta(ha,A.operator,O.field(r),A));else{if("\x3d"!==A.operator)throw Error("Invalid Parameter");O.setField(r,Ta(ha,A.operator,null,A))}}else if(m.isFeature(O)){if(!1===m.isString(r))throw Error("Feature accessor must be a string");if(!0===O.hasField(r))O.setField(r,Ta(ha,A.operator,O.field(r),A));else{if("\x3d"!==
A.operator)throw Error("Invalid Parameter");O.setField(r,Ta(ha,A.operator,null,A))}}else{if(m.isImmutableArray(O))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var R=m.voidOperation}else if(O=A.left.name.toLowerCase(),null!==J.localScope&&void 0!==J.localScope[O])J.localScope[O]={value:Ta(ha,A.operator,J.localScope[O].value,A),valueset:!0,node:A.right},R=m.voidOperation;else if(void 0!==J.globalScope[O])J.globalScope[O]={value:Ta(ha,A.operator,J.globalScope[O].value,A),valueset:!0,
node:A.right},R=m.voidOperation;else throw Error("Variable not recognised");}return R;case "UpdateExpression":{let ha;O=null;r="";if("MemberExpression"===A.argument.type){O=W(J,A.argument.object);!0===A.argument.computed?r=W(J,A.argument.property):"Identifier"===A.argument.property.type&&(r=A.argument.property.name);if(m.isArray(O))if(m.isNumber(r)){0>r&&(r=O.length+r);if(0>r||r>=O.length)throw Error("Assignment outside of array bounds");ha=m.toNumber(O[r]);O[r]="++"===A.operator?ha+1:ha-1}else throw Error("Invalid Parameter");
else if(O instanceof B){if(!1===m.isString(r))throw Error("Dictionary accessor must be a string");if(!0===O.hasField(r))ha=m.toNumber(O.field(r)),O.setField(r,"++"===A.operator?ha+1:ha-1);else throw Error("Invalid Parameter");}else if(m.isFeature(O)){if(!1===m.isString(r))throw Error("Feature accessor must be a string");if(!0===O.hasField(r))ha=m.toNumber(O.field(r)),O.setField(r,"++"===A.operator?ha+1:ha-1);else throw Error("Invalid Parameter");}else{if(m.isImmutableArray(O))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}var Q=!1===A.prefix?ha:"++"===A.operator?ha+1:ha-1}else{O="Identifier"===A.argument.type?A.argument.name.toLowerCase():"";if(!O)throw Error("Invalid identifier");if(null!==J.localScope&&void 0!==J.localScope[O])ha=m.toNumber(J.localScope[O].value),J.localScope[O]={value:"++"===A.operator?ha+1:ha-1,valueset:!0,node:A},Q=!1===A.prefix?ha:"++"===A.operator?ha+1:ha-1;else if(void 0!==J.globalScope[O])ha=m.toNumber(J.globalScope[O].value),J.globalScope[O]={value:"++"===
A.operator?ha+1:ha-1,valueset:!0,node:A},Q=!1===A.prefix?ha:"++"===A.operator?ha+1:ha-1;else throw Error("Variable not recognised");}}return Q;case "BreakStatement":return m.breakResult;case "ContinueStatement":return m.continueResult;case "TemplateElement":return A.value?A.value.cooked:"";case "TemplateLiteral":var Z;O="";r=0;for(const ha of A.quasis)if(O+=ha.value?ha.value.cooked:"",!1===ha.tail){const wa=A.expressions[r]?m.toString(W(J,A.expressions[r])):"";O+=wa;r++}return Z=O;case "ForStatement":null!==
A.init&&W(J,A.init);r={testResult:!0,lastAction:m.voidOperation};do b:{R=J;Q=A;Z=r;if(null!==Q.test){Z.testResult=W(R,Q.test);if(!1===Z.testResult)break b;if(!0!==Z.testResult)throw Error(h.nodeErrorMessage(Q,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}Z.lastAction=W(R,Q.body);Z.lastAction===m.breakResult?Z.testResult=!1:Z.lastAction instanceof m.ReturnResult?Z.testResult=!1:null!==Q.update&&W(R,Q.update)}while(!0===r.testResult);O=r.lastAction instanceof m.ReturnResult?r.lastAction:m.voidOperation;
return O;case "ForInStatement":return pa(J,A);case "Identifier":return na(J,A);case "MemberExpression":return Ma(J,A);case "Literal":return A.value;case "CallExpression":return ka(J,A);case "UnaryExpression":return ta(J,A);case "BinaryExpression":return U(J,A);case "LogicalExpression":return ca(J,A);case "ArrayExpression":try{O=[];for(r=0;r<A.elements.length;r++){const ha=W(J,A.elements[r]);if(m.isFunctionParameter(ha))throw Error(h.nodeErrorMessage(A,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));ha===m.voidOperation?
O.push(null):O.push(ha)}var Sa=O}catch(ha){throw ha;}return Sa;case "ObjectExpression":{O={};for(r=0;r<A.properties.length;r++){const wa=W(J,A.properties[r]);if(m.isFunctionParameter(wa.value))throw Error("Illegal Argument");if(!1===m.isString(wa.key))throw Error("Illegal Argument");O[wa.key.toString()]=wa.value===m.voidOperation?null:wa.value}const ha=new B(O);ha.immutable=!1;var Oa=ha}return Oa;case "Property":return{key:"Identifier"===A.key.type?A.key.name:W(J,A.key),value:W(J,A.value)};default:throw Error(h.nodeErrorMessage(A,
"RUNTIME","UNREOGNISED"));}}catch(ha){throw ha;}}function pa(J,A){var L=W(J,A.right);"VariableDeclaration"===A.left.type&&W(J,A.left);let O=null;var Y="";if("VariableDeclaration"===A.left.type){var va=A.left.declarations[0].id;"Identifier"===va.type&&(Y=va.name)}else"Identifier"===A.left.type&&(Y=A.left.name);if(!Y)throw Error(h.nodeErrorMessage(A,"RUNTIME","INVALIDVARIABLE"));Y=Y.toLowerCase();null!==J.localScope&&void 0!==J.localScope[Y]&&(O=J.localScope[Y]);null===O&&void 0!==J.globalScope[Y]&&
(O=J.globalScope[Y]);if(null===O)throw Error(h.nodeErrorMessage(A,"RUNTIME","VARIABLENOTDECLARED"));if(m.isArray(L)||m.isString(L)){L=L.length;for(Y=0;Y<L;Y++){O.value=Y;va=W(J,A.body);if(va===m.breakResult)break;if(va instanceof m.ReturnResult)return va}return m.voidOperation}if(m.isImmutableArray(L)){for(Y=0;Y<L.length();Y++){O.value=Y;va=W(J,A.body);if(va===m.breakResult)break;if(va instanceof m.ReturnResult)return va}return m.voidOperation}if(L instanceof B||m.isFeature(L))for(L=L.keys(),Y=0;Y<
L.length;Y++){O.value=L[Y];va=W(J,A.body);if(va===m.breakResult)break;if(va instanceof m.ReturnResult)return va}else return m.voidOperation}function Ta(J,A,L,O){switch(A){case "\x3d":return J===m.voidOperation?null:J;case "/\x3d":return m.toNumber(L)/m.toNumber(J);case "*\x3d":return m.toNumber(L)*m.toNumber(J);case "-\x3d":return m.toNumber(L)-m.toNumber(J);case "+\x3d":return m.isString(L)||m.isString(J)?m.toString(L)+m.toString(J):m.toNumber(L)+m.toNumber(J);case "%\x3d":return m.toNumber(L)%m.toNumber(J);
default:throw Error(h.nodeErrorMessage(O,"RUNTIME","OPERATORNOTRECOGNISED"));}}function Xa(J,A,L){A=A.toLowerCase();switch(A){case "hasz":return J=J.hasZ,void 0===J?!1:J;case "hasm":return J=J.hasM,void 0===J?!1:J;case "spatialreference":return A=J.spatialReference._arcadeCacheId,void 0===A&&(L=!0,Object.freeze&&Object.isFrozen(J.spatialReference)&&(L=!1),L&&(ia++,A=J.spatialReference._arcadeCacheId=ia)),J=new B({wkt:J.spatialReference.wkt,wkid:J.spatialReference.wkid}),void 0!==A&&(J._arcadeCacheId=
"SPREF"+A.toString()),J}switch(J.type){case "extent":switch(A){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return J=J[A],void 0!==J?J:null;case "type":return"Extent"}break;case "polygon":switch(A){case "rings":return A=J.cache._arcadeCacheId,void 0===A&&(ia++,A=ia,J.cache._arcadeCacheId=A),new E(J.rings,J.spatialReference,!0===J.hasZ,!0===J.hasM,A);case "type":return"Polygon"}break;case "point":switch(A){case "x":case "y":case "z":case "m":return void 0!==
J[A]?J[A]:null;case "type":return"Point"}break;case "polyline":switch(A){case "paths":return A=J.cache._arcadeCacheId,void 0===A&&(ia++,A=ia,J.cache._arcadeCacheId=A),new E(J.paths,J.spatialReference,!0===J.hasZ,!0===J.hasM,A);case "type":return"Polyline"}break;case "multipoint":switch(A){case "points":return A=J.cache._arcadeCacheId,void 0===A&&(ia++,A=ia,J.cache._arcadeCacheId=A),new w(J.points,J.spatialReference,!0===J.hasZ,!0===J.hasM,A,1);case "type":return"Multipoint"}}throw Error(h.nodeErrorMessage(L,
"RUNTIME","PROPERTYNOTFOUND"));}function Ma(J,A){try{const L=W(J,A.object);if(null===L)throw Error(h.nodeErrorMessage(A,"RUNTIME","NOTFOUND"));if(!1===A.computed){if("Identifier"===A.property.type){if(L instanceof B||m.isFeature(L))return L.field(A.property.name);if(L instanceof M)return Xa(L,A.property.name,A)}throw Error(h.nodeErrorMessage(A,"RUNTIME","INVALIDTYPE"));}{let O=W(J,A.property);if(L instanceof B||m.isFeature(L)){if(m.isString(O))return L.field(O);throw Error(h.nodeErrorMessage(A,"RUNTIME",
"INVALIDTYPE"));}if(L instanceof M){if(m.isString(O))return Xa(L,O,A);throw Error(h.nodeErrorMessage(A,"RUNTIME","INVALIDTYPE"));}if(m.isArray(L)){if(m.isNumber(O)&&isFinite(O)&&Math.floor(O)===O){0>O&&(O=L.length+O);if(O>=L.length||0>O)throw Error(h.nodeErrorMessage(A,"RUNTIME","OUTOFBOUNDS"));return L[O]}throw Error(h.nodeErrorMessage(A,"RUNTIME","INVALIDTYPE"));}if(m.isString(L)){if(m.isNumber(O)&&isFinite(O)&&Math.floor(O)===O){0>O&&(O=L.length+O);if(O>=L.length||0>O)throw Error(h.nodeErrorMessage(A,
"RUNTIME","OUTOFBOUNDS"));return L[O]}throw Error(h.nodeErrorMessage(A,"RUNTIME","INVALIDTYPE"));}if(m.isImmutableArray(L)&&m.isNumber(O)&&isFinite(O)&&Math.floor(O)===O){0>O&&(O=L.length()+O);if(O>=L.length()||0>O)throw Error(h.nodeErrorMessage(A,"RUNTIME","OUTOFBOUNDS"));return L.get(O)}throw Error(h.nodeErrorMessage(A,"RUNTIME","INVALIDTYPE"));}}catch(L){throw L;}}function ta(J,A){try{const L=W(J,A.argument);if(m.isBoolean(L)){if("!"===A.operator)return!L;if("-"===A.operator)return-1*m.toNumber(L);
if("+"===A.operator)return 1*m.toNumber(L);if("~"===A.operator)return~m.toNumber(L);throw Error(h.nodeErrorMessage(A,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===A.operator)return~m.toNumber(L);if("-"===A.operator)return-1*m.toNumber(L);if("+"===A.operator)return 1*m.toNumber(L);throw Error(h.nodeErrorMessage(A,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(L){throw L;}}function U(J,A){try{const L=[W(J,A.left),W(J,A.right)],O=L[0],Y=L[1];switch(A.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return m.binaryOperator(m.toNumber(O),
m.toNumber(Y),A.operator);case "\x3d\x3d":return m.equalityTest(O,Y);case "!\x3d":return!m.equalityTest(O,Y);case "\x3c":return m.greaterThanLessThan(O,Y,A.operator);case "\x3e":return m.greaterThanLessThan(O,Y,A.operator);case "\x3c\x3d":return m.greaterThanLessThan(O,Y,A.operator);case "\x3e\x3d":return m.greaterThanLessThan(O,Y,A.operator);case "+":return m.isString(O)||m.isString(Y)?m.toString(O)+m.toString(Y):m.toNumber(O)+m.toNumber(Y);case "-":return m.toNumber(O)-m.toNumber(Y);case "*":return m.toNumber(O)*
m.toNumber(Y);case "/":return m.toNumber(O)/m.toNumber(Y);case "%":return m.toNumber(O)%m.toNumber(Y);default:throw Error(h.nodeErrorMessage(A,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(L){throw L;}}function ca(J,A){try{if("AssignmentExpression"===A.left.type||"UpdateExpression"===A.left.type)throw Error(h.nodeErrorMessage(A.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===A.right.type||"UpdateExpression"===A.right.type)throw Error(h.nodeErrorMessage(A.right,"RUNTIME",
"CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const L=W(J,A.left);if(m.isBoolean(L))switch(A.operator){case "||":if(!0===L)return L;{const O=W(J,A.right);if(m.isBoolean(O))return O;throw Error(h.nodeErrorMessage(A,"RUNTIME","ONLYORORAND"));}case "\x26\x26":if(!1===L)return L;{const O=W(J,A.right);if(m.isBoolean(O))return O;throw Error(h.nodeErrorMessage(A,"RUNTIME","ONLYORORAND"));}default:throw Error(h.nodeErrorMessage(A,"RUNTIME","ONLYORORAND"));}throw Error(h.nodeErrorMessage(A,"RUNTIME","ONLYBOOLEAN"));
}catch(L){throw L;}}function na(J,A){let L;try{const O=A.name.toLowerCase();if(null!==J.localScope&&void 0!==J.localScope[O]){L=J.localScope[O];if(!0===L.valueset)return L.value;L.value=W(J,L.node);L.valueset=!0;return L.value}if(void 0!==J.globalScope[O]){L=J.globalScope[O];if(!0===L.valueset)return L.value;L.value=W(J,L.node);L.valueset=!0;return L.value}throw Error(h.nodeErrorMessage(A,"RUNTIME","VARIABLENOTFOUND"));}catch(O){throw O;}}function ka(J,A){try{if("Identifier"!==A.callee.type)throw Error(h.nodeErrorMessage(A,
"RUNTIME","ONLYNODESSUPPORTED"));if(null!==J.localScope&&void 0!==J.localScope[A.callee.name.toLowerCase()]){const L=J.localScope[A.callee.name.toLowerCase()];if(L.value instanceof m.NativeFunction)return L.value.fn(J,A);if(L.value instanceof G)return da(J,A,L.value.definition);throw Error(h.nodeErrorMessage(A,"RUNTIME","NOTAFUNCTION"));}if(void 0!==J.globalScope[A.callee.name.toLowerCase()]){const L=J.globalScope[A.callee.name.toLowerCase()];if(L.value instanceof m.NativeFunction)return L.value.fn(J,
A);if(L.value instanceof G)return da(J,A,L.value.definition);throw Error(h.nodeErrorMessage(A,"RUNTIME","NOTAFUNCTION"));}throw Error(h.nodeErrorMessage(A,"RUNTIME","NOTFOUND"));}catch(L){throw L;}}function ja(J){return null==J?"":m.isArray(J)||m.isImmutableArray(J)?"Array":m.isDate(J)?"Date":m.isString(J)?"String":m.isBoolean(J)?"Boolean":m.isNumber(J)?"Number":J instanceof I?"Attachment":J instanceof z?"Portal":J instanceof B?"Dictionary":m.isFeature(J)?"Feature":J instanceof b?"Point":J instanceof
d?"Polygon":J instanceof k?"Polyline":J instanceof D?"Multipoint":J instanceof F?"Extent":m.isFunctionParameter(J)?"Function":m.isFeatureSet(J)?"FeatureSet":m.isFeatureSetCollection(J)?"FeatureSetCollection":J===m.voidOperation?"":"number"===typeof J&&isNaN(J)?"Number":"Unrecognised Type"}function ra(J,A,L,O){try{const Y=W(J,A.arguments[L]);if(m.equalityTest(Y,O))return W(J,A.arguments[L+1]);{const va=A.arguments.length-L;return 1===va?W(J,A.arguments[L]):2===va?null:3===va?W(J,A.arguments[L+2]):
ra(J,A,L+2,O)}}catch(Y){throw Y;}}function sa(J,A,L,O){try{if(!0===O)return W(J,A.arguments[L+1]);if(3===A.arguments.length-L)return W(J,A.arguments[L+2]);{const Y=W(J,A.arguments[L+2]);if(!1===m.isBoolean(Y))throw Error("WHEN needs boolean test conditions");return sa(J,A,L+2,Y)}}catch(Y){throw Y;}}function Qa(J,A){var L=J.length,O=Math.floor(L/2);if(0===L)return[];if(1===L)return[J[0]];var Y=Qa(J.slice(0,O),A);J=Qa(J.slice(O,L),A);for(L=[];0<Y.length||0<J.length;)0<Y.length&&0<J.length?(O=A(Y[0],
J[0]),isNaN(O)&&(O=0),0>=O?(L.push(Y[0]),Y=Y.slice(1)):(L.push(J[0]),J=J.slice(1))):0<Y.length?(L.push(Y[0]),Y=Y.slice(1)):0<J.length&&(L.push(J[0]),J=J.slice(1));return A=L}function P(J,A,L){try{const O=J.body;if(L.length!==J.params.length)throw Error("Invalid Parameter calls to function.");for(let va=0;va<L.length;va++)A.localScope[J.params[va].name.toLowerCase()]={value:L[va],valueset:!0,node:null};const Y=W(A,O);if(Y instanceof m.ReturnResult)return Y.value;if(Y===m.breakResult)throw Error("Cannot Break from a Function");
if(Y===m.continueResult)throw Error("Cannot Continue from a Function");return Y instanceof m.ImplicitResult?Y.value:Y}catch(O){throw O;}}function da(J,A,L){return ea(J,A,function(O,Y,va){O={spatialReference:J.spatialReference,globalScope:J.globalScope,depthCounter:J.depthCounter+1,console:J.console,lrucache:J.lrucache,interceptor:J.interceptor,localScope:{}};if(64<O.depthCounter)throw Error("Exceeded maximum function depth");return P(L,O,va)})}function V(J){return function(){const A={spatialReference:J.context.spatialReference,
console:J.context.console,lrucache:J.context.lrucache,interceptor:J.context.interceptor,localScope:{},depthCounter:J.context.depthCounter+1,globalScope:J.context.globalScope};if(64<A.depthCounter)throw Error("Exceeded maximum function depth");return P(J.definition,A,arguments)}}function ba(J){console.log(J)}function la(J){const A={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:ea,evaluateIdentifier:na,arcadeCustomFunctionHandler:V};for(let L=0;L<J.length;L++)J[L].registerFunctions(A);
for(const L in A.functions)xa[L]={value:new m.NativeFunction(A.functions[L]),valueset:!0,node:null},Aa.prototype[L]=xa[L];for(J=0;J<A.signatures.length;J++)h.addFunctionDeclaration(A.signatures[J],"async")}let ia=0;const xa={};c.registerFunctions(xa,ea);u.registerFunctions(xa,ea);x.registerFunctions(xa,ea);g.registerFunctions(xa,ea);p.registerFunctions(xa,ea);n.registerFunctions(xa,ea);xa["typeof"]=function(J,A){return ea(J,A,function(L,O,Y){m.pcCheck(Y,1,1);L=ja(Y[0]);if("Unrecognised Type"===L)throw Error("Unrecognised Type");
return L})};xa.iif=function(J,A){try{m.pcCheck(null===A.arguments?[]:A.arguments,3,3);const L=W(J,A.arguments[0]);if(!1===m.isBoolean(L))throw Error("IF Function must have a boolean test condition");const O=W(J,A.arguments[1]),Y=W(J,A.arguments[2]);return!0===L?O:Y}catch(L){throw L;}};xa.decode=function(J,A){try{if(2>A.arguments.length)throw Error("Missing Parameters");if(2===A.arguments.length)return W(J,A.arguments[1]);{if(0===(A.arguments.length-1)%2)throw Error("Must have a default value result.");
const L=W(J,A.arguments[0]);return ra(J,A,1,L)}}catch(L){throw L;}};xa.when=function(J,A){try{if(3>A.arguments.length)throw Error("Missing Parameters");if(0===A.arguments.length%2)throw Error("Must have a default value result.");const L=W(J,A.arguments[0]);if(!1===m.isBoolean(L))throw Error("WHEN needs boolean test conditions");return sa(J,A,0,L)}catch(L){throw L;}};xa.top=function(J,A){return ea(J,A,function(L,O,Y){m.pcCheck(Y,2,2);if(m.isArray(Y[0]))return m.toNumber(Y[1])>=Y[0].length?Y[0].slice(0):
Y[0].slice(0,m.toNumber(Y[1]));if(m.isImmutableArray(Y[0]))return m.toNumber(Y[1])>=Y[0].length()?Y[0].slice(0):Y[0].slice(0,m.toNumber(Y[1]));throw Error("Top cannot accept this parameter type");})};xa.first=function(J,A){return ea(J,A,function(L,O,Y){m.pcCheck(Y,1,1);return m.isArray(Y[0])?0===Y[0].length?null:Y[0][0]:m.isImmutableArray(Y[0])?0===Y[0].length()?null:Y[0].get(0):null})};xa.sort=function(J,A){return ea(J,A,function(L,O,Y){m.pcCheck(Y,1,2);L=Y[0];m.isImmutableArray(L)&&(L=L.toArray());
if(!1===m.isArray(L))throw Error("Illegal Argument");if(1<Y.length){if(!1===m.isFunctionParameter(Y[1]))throw Error("Illegal Argument");var va=L;const ya=V(Y[1]);return va=Qa(va,function(Ja,t){return ya(Ja,t)})}Y=L;if(0===Y.length)return[];L={};for(O=0;O<Y.length;O++){var Ea=ja(Y[O]);""!==Ea&&(L[Ea]=!0)}if(!0===L.Array||!0===L.Dictionary||!0===L.Feature||!0===L.Point||!0===L.Polygon||!0===L.Polyline||!0===L.Multipoint||!0===L.Extent||!0===L.Function)return Y.slice(0);O=0;Ea="";for(va in L)O++,Ea=
va;return Y=1<O||"String"===Ea?Qa(Y,function(ya,Ja){if(null===ya||void 0===ya||ya===m.voidOperation)return null===Ja||void 0===Ja||Ja===m.voidOperation?0:1;if(null===Ja||void 0===Ja||Ja===m.voidOperation)return-1;ya=m.toString(ya);Ja=m.toString(Ja);return ya<Ja?-1:ya===Ja?0:1}):"Number"===Ea?Qa(Y,function(ya,Ja){return ya-Ja}):"Boolean"===Ea?Qa(Y,function(ya,Ja){return ya===Ja?0:Ja?-1:1}):"Date"===Ea?Qa(Y,function(ya,Ja){return Ja-ya}):Y.slice(0)})};for(const J in xa)xa[J]={value:new m.NativeFunction(xa[J]),
valueset:!0,node:null};const Aa=function(){};Aa.prototype=xa;Aa.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};Aa.prototype.pi={value:Math.PI,valueset:!0,node:null};c={fixSpatialReference:m.fixSpatialReference,parseArguments:T,standardFunction:ea};la([q.ArrayFunctions]);C.executeScript=function(J,A){let L=A.spatialReference;if(null===L||void 0===L)L=new e({wkid:102100});{var O=A.vars;var Y=A.customfunctions;const va=new Aa;O||(O={});Y||(Y={});const Ea=new B({newline:"\n",
tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});Ea.immutable=!1;va.textformatting={value:Ea,valueset:!0,node:null};for(const ya in Y)va[ya]={value:new m.NativeFunction(Y[ya]),native:!0,valueset:!0,node:null};for(const ya in O)va[ya]=O[ya]&&"esri.Graphic"===O[ya].declaredClass?{value:f.createFromGraphic(O[ya]),valueset:!0,node:null}:{value:O[ya],valueset:!0,node:null};O=va}J=W({spatialReference:L,globalScope:O,localScope:null,console:A.console?A.console:ba,lrucache:A.lrucache,
interceptor:A.interceptor,depthCounter:1},J.body[0].body);J instanceof m.ReturnResult&&(J=J.value);J instanceof m.ImplicitResult&&(J=J.value);J===m.voidOperation&&(J=null);if(J===m.breakResult)throw Error("Cannot return BREAK");if(J===m.continueResult)throw Error("Cannot return CONTINUE");if(J instanceof G)throw Error("Cannot return FUNCTION");if(J instanceof m.NativeFunction)throw Error("Cannot return FUNCTION");return J};C.extend=la;C.extractExpectedFieldLiterals=function(J){return h.findExpectedFieldLiterals(J)};
C.extractFieldLiterals=function(J,A){return h.findFieldLiterals(J)};C.findFunctionCalls=function(J){return h.findFunctionCalls(J)};C.functionHelper=c;C.referencesFunction=function(J,A){return h.referencesFunction(J,A)};C.referencesMember=function(J,A){return h.referencesMember(J,A)};C.validateScript=function(J,A){return h.validateScript(J,A,"simple")};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/parser":function(){define(["exports","./treeAnalysis",
"./lib/arcade-parser"],function(C,z,I){C.extractExpectedFieldLiterals=function(B){return z.findExpectedFieldLiterals(B)};C.extractFieldLiterals=function(B,f){return z.findFieldLiterals(B)};C.parseScript=function(B,f=[]){B=I.parse("function _() { "+B+"\n}");if(null===B.body||void 0===B.body)throw Error("No formula provided.");if(0===B.body.length)throw Error("No formula provided.");if(0===B.body.length)throw Error("No formula provided.");if("BlockStatement"!==B.body[0].body.type)throw Error("Invalid formula content.");
const G=z.validateLanguage(B);if(""!==G)throw Error(G);z.findScriptDependencies(B,f);return B};C.referencesFunction=function(B,f){return z.referencesFunction(B,f)};C.referencesMember=function(B,f){return z.referencesMember(B,f)};C.scriptCheck=function(B,f,G,E,w){const m=[];B="function _() { \n"+B+"\n}";try{const h=I.parse(B,{tolerant:!0,loc:!0,range:!0}),q=h.errors;if(0<q.length)for(let g=0;g<q.length;g++)m.push({line:q[g].lineNumber-2,character:q[g].column,reason:q[g].description});const c=z.checkScript(h,
f,G,E,w);for(f=0;f<c.length;f++)c[f].line-=2,c[f].range&&(c[f].range=[c[f][0]-15,c[f][1]-15]),c[f].loc&&(c[f].loc.start.line-=2,c[f].loc.end.line-=2),m.push(c[f])}catch(h){try{if("Unexpected token }"===h.description){const q=B.split("\n").length;h.lineNumber===q?(h.index=B.length-1,m.push({line:h.lineNumber-4,character:h.column,reason:"Unexpected end of script"})):(h.index=B.length-1,m.push({line:h.lineNumber-2,character:h.column,reason:"Unexpected end of script"}))}else m.push({line:h.lineNumber-
2,character:h.column,reason:h.description})}catch(q){}}return m};C.validateScript=function(B,f,G){return z.validateScript(B,f,G)};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/arcade-parser":function(){define("exports ./comment-handler ./parser ./tokenizer ./syntax ./token ./nodes".split(" "),function(C,z,I,B,f,G,E){C.Syntax=f.Syntax;C.TokenName=G.TokenName;Object.defineProperty(C,"TokenType",{enumerable:!0,get:()=>G.TokenType});C.ArrayExpression=
E.ArrayExpression;C.AssignmentExpression=E.AssignmentExpression;C.AssignmentOperators=E.AssignmentOperators;C.BinaryExpression=E.BinaryExpression;C.BinaryOperators=E.BinaryOperators;C.BlockStatement=E.BlockStatement;C.BreakStatement=E.BreakStatement;C.CallExpression=E.CallExpression;C.Comment=E.Comment;C.ComputedMemberExpression=E.ComputedMemberExpression;C.ContinueStatement=E.ContinueStatement;C.EmptyStatement=E.EmptyStatement;C.ExpressionStatement=E.ExpressionStatement;C.ForInStatement=E.ForInStatement;
C.ForStatement=E.ForStatement;C.FunctionDeclaration=E.FunctionDeclaration;C.Identifier=E.Identifier;C.IfStatement=E.IfStatement;C.Literal=E.Literal;C.LogicalOperators=E.LogicalOperators;C.ObjectExpression=E.ObjectExpression;C.Program=E.Program;C.Property=E.Property;C.ReturnStatement=E.ReturnStatement;C.StaticMemberExpression=E.StaticMemberExpression;C.TemplateElement=E.TemplateElement;C.TemplateLiteral=E.TemplateLiteral;C.UnaryExpression=E.UnaryExpression;C.UnaryOperators=E.UnaryOperators;C.UpdateExpression=
E.UpdateExpression;C.UpdateOperators=E.UpdateOperators;C.VariableDeclaration=E.VariableDeclaration;C.VariableDeclarator=E.VariableDeclarator;C.parse=function(w,m,h){let q=null;const c=(x,p)=>{h&&h(x,p);q&&q.visit(x,p)};let g="function"===typeof h?c:void 0,n=!1;if(m){n="boolean"===typeof m.comment&&m.comment;const x="boolean"===typeof m.attachComment&&m.attachComment;if(n||x)q=new z.CommentHandler,q.attach=x,m.comment=!0,g=c}w=new I.Parser(w,m,g);m=w.parseScript();n&&q&&(m.comments=q.comments);w.config.tokens&&
(m.tokens=w.tokens);w.config.tolerant&&(m.errors=w.errorHandler.errors);return m};C.tokenize=function(w,m,h){w=new B.Tokenizer(w,m);m=[];let q=void 0;try{for(;;){let c=w.getNextToken();if(!c)break;h&&(c=h(c));m.push(c)}}catch(c){w.errorHandler.tolerate(c)}w.errorHandler.tolerant&&(q=w.errors());return{tokens:m,errors:q}};C.version="4.0.0-dev";Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/comment-handler":function(){define(["exports","./syntax"],
function(C,z){let I=function(){function B(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}var f=B.prototype;f.insertInnerComments=function(G,E){if(G.type===z.Syntax.BlockStatement&&0===G.body.length){const w=[];for(let m=this.leading.length-1;0<=m;--m){const h=this.leading[m];E.end.offset>=h.start&&(w.unshift(h.comment),this.leading.splice(m,1),this.trailing.splice(m,1))}w.length&&(G.innerComments=w)}};f.findTrailingComments=function(G){let E=[];if(0<this.trailing.length){for(var w=
this.trailing.length-1;0<=w;--w){var m=this.trailing[w];m.start>=G.end.offset&&E.unshift(m.comment)}this.trailing.length=0;return E}(w=this.stack[this.stack.length-1])&&w.node.trailingComments&&(m=w.node.trailingComments[0])&&m.range[0]>=G.end.offset&&(E=w.node.trailingComments,delete w.node.trailingComments);return E};f.findLeadingComments=function(G){const E=[];for(var w;0<this.stack.length;){var m=this.stack[this.stack.length-1];if(m&&m.start>=G.start.offset)w=m.node,this.stack.pop();else break}if(w){m=
w.leadingComments?w.leadingComments.length:0;for(--m;0<=m;--m){const h=w.leadingComments[m];h.range[1]<=G.start.offset&&(E.unshift(h),w.leadingComments.splice(m,1))}w.leadingComments&&0===w.leadingComments.length&&delete w.leadingComments;return E}for(w=this.leading.length-1;0<=w;--w)m=this.leading[w],m.start<=G.start.offset&&(E.unshift(m.comment),this.leading.splice(w,1));return E};f.visitNode=function(G,E){if(!(G.type===z.Syntax.Program&&0<G.body.length)){this.insertInnerComments(G,E);var w=this.findTrailingComments(E),
m=this.findLeadingComments(E);0<m.length&&(G.leadingComments=m);0<w.length&&(G.trailingComments=w);this.stack.push({node:G,start:E.start.offset})}};f.visitComment=function(G,E){this.comments.push(G);this.attach&&(E={comment:{type:G.type,value:G.value,range:[E.start.offset,E.end.offset]},start:E.start.offset},G.loc&&(E.comment.loc=G.loc),this.leading.push(E),this.trailing.push(E))};f.visit=function(G,E){"Line"===G.type||"Block"===G.type?this.visitComment(G,E):this.attach&&this.visitNode(G,E)};return B}();
C.CommentHandler=I;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/syntax":function(){define(["exports"],function(C){C.Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",
ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",
VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/parser":function(){define("exports ./assert ./error-handler ./messages ./nodes ./scanner ./syntax ./token".split(" "),function(C,z,I,B,f,G,E,w){let m=function(){function h(c,g={},n){this.config={range:"boolean"===typeof g.range&&g.range,loc:"boolean"===typeof g.loc&&g.loc,source:null,tokens:"boolean"===typeof g.tokens&&
g.tokens,comment:"boolean"===typeof g.comment&&g.comment,tolerant:"boolean"===typeof g.tolerant&&g.tolerant,globalReturn:!!g.globalReturn};this.config.loc&&g.source&&null!==g.source&&(this.config.source=String(g.source));this.delegate=n;this.errorHandler=new I.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new G.Scanner(c,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,
"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:w.TokenType.EOF,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={allowIn:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,curlyParsing:"asObject"};this.tokens=[];this.startMarker=
{index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}var q=h.prototype;q.tolerateError=function(c,...g){const n=g.slice();c=c.replace(/%(\d)/g,(x,p)=>{z.assert(p<n.length,"Message reference must be in range");return n[p]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+
1,c)};q.unexpectedTokenError=function(c,g){let n=g||B.Messages.UnexpectedToken;c?(g||(n=c.type===w.TokenType.EOF?B.Messages.UnexpectedEOS:c.type===w.TokenType.Identifier?B.Messages.UnexpectedIdentifier:c.type===w.TokenType.NumericLiteral?B.Messages.UnexpectedNumber:c.type===w.TokenType.StringLiteral?B.Messages.UnexpectedString:c.type===w.TokenType.Template?B.Messages.UnexpectedTemplate:B.Messages.UnexpectedToken),g=c.value.toString()):g="ILLEGAL";n=n.replace("%0",g);return c&&"number"===typeof c.lineNumber?
this.errorHandler.createError(c.start,c.lineNumber,c.start-(this.lastMarker.index-this.lastMarker.column)+1,n):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,n)};q.throwUnexpectedToken=function(c,g){throw this.unexpectedTokenError(c,g);};q.tolerateUnexpectedToken=function(c,g){this.errorHandler.tolerate(this.unexpectedTokenError(c,g))};q.collectComments=function(){if(this.config.comment){const c=this.scanner.scanComments();if(c&&0<c.length&&this.delegate)for(let g=
0;g<c.length;++g){const n=c[g],x=new f.Comment(n.multiLine?"Block":"Line",this.scanner.source.slice(n.slice[0],n.slice[1]));this.config.range&&(x.range=n.range);this.config.loc&&(x.loc=n.loc);this.delegate(x,{start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}})}}else this.scanner.scanComments()};q.peekAhead=function(c){const g=this.scanner.saveState();c.call(this,()=>{this.scanner.scanComments();return this.scanner.lex()});
this.scanner.restoreState(g)};q.getTokenRaw=function(c){return this.scanner.source.slice(c.start,c.end)};q.convertToken=function(c){const g={type:w.TokenName[c.type],value:this.getTokenRaw(c)};this.config.range&&(g.range=[c.start,c.end]);this.config.loc&&(g.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});c.type===w.TokenType.RegularExpression&&(g.regex={pattern:c.pattern,flags:c.flags});return g};
q.nextToken=function(){const c=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);const g=this.scanner.lex();this.hasLineTerminator=c.lineNumber!==g.lineNumber;this.lookahead=
g;this.config.tokens&&g.type!==w.TokenType.EOF&&this.tokens.push(this.convertToken(g));return c};q.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};q.startNode=function(c,g=0){let n=c.start-c.lineStart,x=c.lineNumber;0>n&&(n+=g,x--);return{index:c.start,line:x,column:n}};q.finalize=function(c,g){this.config.range&&(g.range=[c.index,this.lastMarker.index]);this.config.loc&&(g.loc={start:{line:c.line,column:c.column},end:{line:this.lastMarker.line,
column:this.lastMarker.column}},this.config.source&&(g.loc.source=this.config.source));this.delegate&&this.delegate(g,{start:{line:c.line,column:c.column,offset:c.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return g};q.expect=function(c){const g=this.nextToken();g.type===w.TokenType.Punctuator&&g.value===c||this.throwUnexpectedToken(g)};q.expectCommaSeparator=function(){if(this.config.tolerant){const c=this.lookahead;c.type===w.TokenType.Punctuator&&
","===c.value?this.nextToken():c.type===w.TokenType.Punctuator&&";"===c.value?(this.nextToken(),this.tolerateUnexpectedToken(c)):this.tolerateUnexpectedToken(c,B.Messages.UnexpectedToken)}else this.expect(",")};q.expectKeyword=function(c){const g=this.nextToken();g.type===w.TokenType.Keyword&&g.value.toString().toLowerCase()===c.toLowerCase()||this.throwUnexpectedToken(g)};q.match=function(c){return this.lookahead.type===w.TokenType.Punctuator&&this.lookahead.value===c};q.matchKeyword=function(c){return this.lookahead.type===
w.TokenType.Keyword&&this.lookahead.value.toLowerCase()===c.toLowerCase()};q.matchContextualKeyword=function(c){return this.lookahead.type===w.TokenType.Identifier&&this.lookahead.value===c};q.matchAssign=function(){return this.lookahead.type!==w.TokenType.Punctuator?!1:f.AssignmentOperators.includes(this.lookahead.value)};q.isolateCoverGrammar=function(c){const g=this.context.isBindingElement,n=this.context.isAssignmentTarget,x=this.context.firstCoverInitializedNameError;this.context.isBindingElement=
!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;c=c.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=g;this.context.isAssignmentTarget=n;this.context.firstCoverInitializedNameError=x;return c};q.inheritCoverGrammar=function(c){const g=this.context.isBindingElement,n=this.context.isAssignmentTarget,x=this.context.firstCoverInitializedNameError;this.context.isBindingElement=
!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;c=c.call(this);this.context.isBindingElement=this.context.isBindingElement&&g;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n;this.context.firstCoverInitializedNameError=x||this.context.firstCoverInitializedNameError;return c};q.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===w.TokenType.EOF||this.match("}")||this.throwUnexpectedToken(this.lookahead),
this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};q.parsePrimaryExpression=function(){var c=this.createNode();let g,n;switch(this.lookahead.type){case w.TokenType.Identifier:c=this.finalize(c,new f.Identifier(this.nextToken().value));break;case w.TokenType.NumericLiteral:case w.TokenType.StringLiteral:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;g=this.nextToken();n=this.getTokenRaw(g);c=
this.finalize(c,new f.Literal(g.value,n));break;case w.TokenType.BooleanLiteral:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;g=this.nextToken();n=this.getTokenRaw(g);c=this.finalize(c,new f.Literal("true"===g.value.toString().toLowerCase(),n));break;case w.TokenType.NullLiteral:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;g=this.nextToken();n=this.getTokenRaw(g);c=this.finalize(c,new f.Literal(null,n));break;case w.TokenType.Template:c=this.parseTemplateLiteral();
break;case w.TokenType.Punctuator:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;c=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":c=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":c=this.inheritCoverGrammar(this.parseObjectInitializer);break;default:c=this.throwUnexpectedToken(this.nextToken())}break;case w.TokenType.Keyword:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=this.throwUnexpectedToken(this.nextToken());
break;default:c=this.throwUnexpectedToken(this.nextToken())}return c};q.parseArrayInitializer=function(){const c=this.createNode(),g=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),g.push(null)):(g.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(c,new f.ArrayExpression(g))};q.parseObjectPropertyKey=function(){var c=this.createNode();const g=this.nextToken();switch(g.type){case w.TokenType.StringLiteral:case w.TokenType.NumericLiteral:c=
this.finalize(c,new f.Literal(g.value,this.getTokenRaw(g)));break;case w.TokenType.Identifier:case w.TokenType.BooleanLiteral:case w.TokenType.NullLiteral:case w.TokenType.Keyword:c=this.finalize(c,new f.Identifier(g.value));break;default:c=this.throwUnexpectedToken(g)}return c};q.parseObjectProperty=function(){const c=this.createNode();var g=this.lookahead;let n=!1,x=!1;var p=null;g.type===w.TokenType.Identifier?(p=g.value,this.nextToken(),n=this.match("["),p=this.finalize(c,new f.Identifier(p))):
this.match("*")?this.nextToken():(n=this.match("["),p=this.parseObjectPropertyKey());p||this.throwUnexpectedToken(this.lookahead);let u=null;this.match(":")?(this.nextToken(),u=this.inheritCoverGrammar(this.parseAssignmentExpression)):g.type===w.TokenType.Identifier?(g=this.finalize(c,new f.Identifier(g.value)),x=!0,u=g):this.throwUnexpectedToken(this.nextToken());return this.finalize(c,new f.Property("init",p,n,u,!1,x))};q.parseObjectInitializer=function(){const c=this.createNode();this.expect("{");
const g=[];for(;!this.match("}");)g.push(this.parseObjectProperty()),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(c,new f.ObjectExpression(g))};q.parseTemplateHead=function(){z.assert(this.lookahead.head,"Template literal must start with a template head");const c=this.createNode(),g=this.nextToken();return this.finalize(c,new f.TemplateElement({raw:g.value,cooked:g.cooked},g.tail))};q.parseTemplateElement=function(){this.lookahead.type!==w.TokenType.Template&&
this.throwUnexpectedToken();const c=this.createNode(),g=this.nextToken();return this.finalize(c,new f.TemplateElement({raw:g.value,cooked:g.cooked},g.tail))};q.parseTemplateLiteral=function(){const c=this.createNode(),g=[],n=[];let x=this.parseTemplateHead();for(n.push(x);!x.tail;)g.push(this.parseExpression()),x=this.parseTemplateElement(),n.push(x);return this.finalize(c,new f.TemplateLiteral(n,g))};q.parseGroupExpression=function(){this.expect("(");this.context.isBindingElement=!0;const c=this.inheritCoverGrammar(this.parseAssignmentExpression);
this.expect(")");this.context.isBindingElement=!1;return c};q.parseArguments=function(){this.expect("(");const c=[];if(!this.match(")"))for(;;){const g=this.isolateCoverGrammar(this.parseAssignmentExpression);c.push(g);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return c};q.isIdentifierName=function(c){return c.type===w.TokenType.Identifier||c.type===w.TokenType.Keyword||c.type===w.TokenType.BooleanLiteral||c.type===w.TokenType.NullLiteral};q.parseIdentifierName=
function(){const c=this.createNode(),g=this.nextToken();this.isIdentifierName(g)||this.throwUnexpectedToken(g);return this.finalize(c,new f.Identifier(g.value))};q.parseLeftHandSideExpressionAllowCall=function(){const c=this.lookahead,g=this.context.allowIn;this.context.allowIn=!0;let n=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("(")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!1;var x=this.parseArguments();n=this.finalize(this.startNode(c),new f.CallExpression(n,
x))}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),x=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),n=this.finalize(this.startNode(c),new f.ComputedMemberExpression(n,x));else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),x=this.parseIdentifierName(),n=this.finalize(this.startNode(c),new f.StaticMemberExpression(n,x));else break;this.context.allowIn=g;return n};
q.parseLeftHandSideExpression=function(){z.assert(this.context.allowIn,"callee of new expression always allow in keyword.");const c=this.startNode(this.lookahead);let g=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]");g=this.finalize(c,new f.ComputedMemberExpression(g,n))}else if(this.match("."))this.context.isBindingElement=
!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),g=this.finalize(c,new f.StaticMemberExpression(g,n));else break;return g};q.parseUpdateExpression=function(){let c;var g=this.lookahead;if(this.match("++")||this.match("--")){g=this.startNode(g);var n=this.nextToken();c=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.isAssignmentTarget||this.tolerateError(B.Messages.InvalidLHSInAssignment);c=this.finalize(g,new f.UpdateExpression(n.value,c,!0));this.context.isAssignmentTarget=
!1;this.context.isBindingElement=!1}else c=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||this.lookahead.type!==w.TokenType.Punctuator||!this.match("++")&&!this.match("--")||(this.context.isAssignmentTarget||this.tolerateError(B.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,n=this.nextToken().value,c=this.finalize(this.startNode(g),new f.UpdateExpression(n,c,!1)));return c};q.parseUnaryExpression=function(){let c;
if(this.match("+")||this.match("-")||this.match("~")||this.match("!")){const g=this.startNode(this.lookahead),n=this.nextToken();c=this.inheritCoverGrammar(this.parseUnaryExpression);c=this.finalize(g,new f.UnaryExpression(n.value,c));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else c=this.parseUpdateExpression();return c};q.binaryPrecedence=function(c){const g=c.value;return c.type===w.TokenType.Punctuator?this.operatorPrecedence[g]||0:c.type===w.TokenType.Keyword?this.context.allowIn&&
"in"===g?12:0:0};q.parseBinaryExpression=function(){var c=this.lookahead,g=this.inheritCoverGrammar(this.parseUnaryExpression),n=this.lookahead,x=this.binaryPrecedence(n);if(0<x){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=[c,this.lookahead];var p=this.inheritCoverGrammar(this.parseUnaryExpression);n=[g,n.value,p];for(var u=[x];;){x=this.binaryPrecedence(this.lookahead);if(0>=x)break;for(;2<n.length&&x<=u[u.length-1];){p=n.pop();const M=n.pop();u.pop();g=
n.pop();c.pop();var F=c[c.length-1];F=this.startNode(F,F.lineStart);n.push(this.finalize(F,new f.BinaryExpression(M,g,p)))}n.push(this.nextToken().value);u.push(x);c.push(this.lookahead);n.push(this.inheritCoverGrammar(this.parseUnaryExpression))}x=n.length-1;g=n[x];for(u=c.pop();1<x;){p=c.pop();if(!p)break;u=this.startNode(p,u&&u.lineStart);g=this.finalize(u,new f.BinaryExpression(n[x-1],n[x-2],g));x-=2;u=p}}return g};q.parseAssignmentExpression=function(){const c=this.lookahead;var g=c;let n=this.inheritCoverGrammar(this.parseBinaryExpression);
if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError(B.Messages.InvalidLHSInAssignment);this.match("\x3d")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);g=this.nextToken();g=g.value;const x=this.isolateCoverGrammar(this.parseAssignmentExpression);n=this.finalize(this.startNode(c),new f.AssignmentExpression(g,n,x));this.context.firstCoverInitializedNameError=null}return n};q.parseExpression=function(){return this.isolateCoverGrammar(this.parseAssignmentExpression)};
q.parseStatementListItem=function(){let c;this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(this.lookahead.type===w.TokenType.Keyword)switch(this.lookahead.value){case "function":c=this.parseFunctionDeclaration();break;default:c=this.parseStatement()}else c=this.parseStatement();return c};q.parseBlock=function(){const c=this.createNode();this.expect("{");const g=[];for(;!this.match("}");)g.push(this.parseStatementListItem());this.expect("}");return this.finalize(c,new f.BlockStatement(g))};
q.parseObjectStatement=function(){const c=this.createNode(),g=this.parseObjectInitializer();return this.finalize(c,new f.ExpressionStatement(g))};q.parseBlockOrObjectStatement=function(){let c="asObject"===this.context.curlyParsing;"asObjectOrBlock"===this.context.curlyParsing&&this.peekAhead(g=>{let n=g();if(n.type===w.TokenType.Identifier||n.type===w.TokenType.StringLiteral)n=g(),n.type===w.TokenType.Punctuator&&":"===n.value&&(c=!0)});return c?this.parseObjectStatement():this.parseBlock()};q.parseVariableIdentifier=
function(){const c=this.createNode(),g=this.nextToken();g.type!==w.TokenType.Identifier&&this.throwUnexpectedToken(g,B.Messages.IdentiferExpected);return this.finalize(c,new f.Identifier(g.value))};q.parseVariableDeclaration=function(c){const g=this.createNode(),n=this.parseVariableIdentifier();let x=null;this.match("\x3d")?(this.nextToken(),x=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===E.Syntax.Identifier||c.inFor||this.expect("\x3d");return this.finalize(g,new f.VariableDeclarator(n,
x))};q.parseVariableDeclarationList=function(c){const g=[this.parseVariableDeclaration(c)];for(;this.match(",");)this.nextToken(),g.push(this.parseVariableDeclaration(c));return g};q.parseVariableStatement=function(){const c=this.createNode();this.expectKeyword("var");const g=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(c,new f.VariableDeclaration(g,"var"))};q.parseEmptyStatement=function(){const c=this.createNode();this.expect(";");return this.finalize(c,
new f.EmptyStatement)};q.parseExpressionStatement=function(){const c=this.createNode(),g=this.parseExpression();this.consumeSemicolon();return this.finalize(c,new f.ExpressionStatement(g))};q.parseIfClause=function(){const c=this.context.curlyParsing;this.context.curlyParsing="asObjectOrBlock";const g=this.parseStatement();this.context.curlyParsing=c;return g};q.parseIfStatement=function(){const c=this.createNode();let g,n=null;this.expectKeyword("if");this.expect("(");const x=this.parseExpression();
!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),g=this.finalize(this.createNode(),new f.EmptyStatement)):(this.expect(")"),g=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause()));return this.finalize(c,new f.IfStatement(x,g,n))};q.parseForStatement=function(){let c=null,g=null,n=null,x=null,p=null;const u=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){var F=
this.createNode();this.nextToken();var M=this.context.allowIn;this.context.allowIn=!1;var D=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=M;1===D.length&&this.matchKeyword("in")?(D[0].init&&this.tolerateError(B.Messages.ForInOfLoopInitializer,"for-in"),x=this.finalize(F,new f.VariableDeclaration(D,"var")),this.nextToken(),p=this.parseExpression()):(c=this.finalize(F,new f.VariableDeclaration(D,"var")),this.expect(";"))}else{F=this.context.isBindingElement;M=this.context.isAssignmentTarget;
D=this.context.firstCoverInitializedNameError;const b=this.context.allowIn;this.context.allowIn=!1;c=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=b;this.matchKeyword("in")?(this.context.isAssignmentTarget&&c.type!==E.Syntax.AssignmentExpression||this.tolerateError(B.Messages.InvalidLHSInForIn),this.nextToken(),x=c,p=this.parseExpression(),c=null):(this.context.isBindingElement=F,this.context.isAssignmentTarget=M,this.context.firstCoverInitializedNameError=D,this.expect(";"))}x||
(this.match(";")||(g=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(n=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),F=this.finalize(this.createNode(),new f.EmptyStatement)):(this.expect(")"),M=this.context.inIteration,D=this.context.curlyParsing,this.context.inIteration=!0,this.context.curlyParsing="asObjectOrBlock",F=this.isolateCoverGrammar(this.parseStatement),this.context.curlyParsing=
D,this.context.inIteration=M);return x&&p?this.finalize(u,new f.ForInStatement(x,p,F)):this.finalize(u,new f.ForStatement(c,g,n,F))};q.parseContinueStatement=function(){const c=this.createNode();this.expectKeyword("continue");this.consumeSemicolon();return this.finalize(c,new f.ContinueStatement)};q.parseBreakStatement=function(){const c=this.createNode();this.expectKeyword("break");this.consumeSemicolon();return this.finalize(c,new f.BreakStatement)};q.parseReturnStatement=function(){this.config.globalReturn||
this.context.inFunctionBody||this.tolerateError(B.Messages.IllegalReturn);const c=this.createNode();this.expectKeyword("return");const g=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===w.TokenType.EOF)&&this.lookahead.type!==w.TokenType.StringLiteral&&this.lookahead.type!==w.TokenType.Template?null:this.parseExpression();this.consumeSemicolon();return this.finalize(c,new f.ReturnStatement(g))};q.parseStatement=function(){switch(this.lookahead.type){case w.TokenType.BooleanLiteral:case w.TokenType.NullLiteral:case w.TokenType.NumericLiteral:case w.TokenType.StringLiteral:case w.TokenType.Template:case w.TokenType.Identifier:var c=
this.parseExpressionStatement();break;case w.TokenType.Punctuator:c=this.lookahead.value;c="{"===c?this.parseBlockOrObjectStatement():"("===c?this.parseExpressionStatement():";"===c?this.parseEmptyStatement():this.parseExpressionStatement();break;case w.TokenType.Keyword:switch(this.lookahead.value.toLowerCase()){case "break":c=this.parseBreakStatement();break;case "continue":c=this.parseContinueStatement();break;case "for":c=this.parseForStatement();break;case "function":c=this.parseFunctionDeclaration();
break;case "if":c=this.parseIfStatement();break;case "return":c=this.parseReturnStatement();break;case "var":c=this.parseVariableStatement();break;default:c=this.parseExpressionStatement()}break;default:c=this.throwUnexpectedToken(this.lookahead)}return c};q.parseFunctionSourceElements=function(){const c=this.createNode();this.expect("{");const g=this.context.inIteration,n=this.context.inFunctionBody;this.context.inIteration=!1;this.context.inFunctionBody=!0;const x=[];for(;this.lookahead.type!==
w.TokenType.EOF&&!this.match("}");)x.push(this.parseStatementListItem());this.expect("}");this.context.inIteration=g;this.context.inFunctionBody=n;return this.finalize(c,new f.BlockStatement(x))};q.parseFormalParameters=function(){const c=[];this.expect("(");if(!this.match(")"))for(;this.lookahead.type!==w.TokenType.EOF;){c.push(this.parseVariableIdentifier());if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return c};q.parseFunctionDeclaration=function(){const c=
this.createNode();this.expectKeyword("function");const g=this.parseVariableIdentifier(),n=this.parseFormalParameters(),x=this.parseFunctionSourceElements();return this.finalize(c,new f.FunctionDeclaration(g,n,x))};q.parseScript=function(){const c=this.createNode(),g=[];for(;this.lookahead.type!==w.TokenType.EOF;)g.push(this.parseStatementListItem());return this.finalize(c,new f.Program(g))};return h}();C.Parser=m;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/arcade/lib/assert":function(){define(["exports"],function(C){C.assert=function(z,I){if(!z)throw Error("ASSERT: "+I);};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/error-handler":function(){define(["exports"],function(C){let z=function(){function I(){this.errors=[];this.tolerant=!1}var B=I.prototype;B.recordError=function(f){this.errors.push(f)};B.tolerate=function(f){if(this.tolerant)this.recordError(f);else throw f;};B.constructError=
function(f,G){f=Error(f);try{throw f;}catch(E){Object.create&&Object.defineProperty&&(f=Object.create(E),Object.defineProperty(f,"column",{value:G}))}return f};B.createError=function(f,G,E,w){E=this.constructError("Line "+G+": "+w,E);E.index=f;E.lineNumber=G;E.description=w;return E};B.throwError=function(f,G,E,w){throw this.createError(f,G,E,w);};B.tolerateError=function(f,G,E,w){f=this.createError(f,G,E,w);if(this.tolerant)this.recordError(f);else throw f;};return I}();C.ErrorHandler=z;Object.defineProperties(C,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/messages":function(){define(["exports"],function(C){C.Messages={ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalReturn:"Illegal return statement",
InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidRegExp:"Invalid regular expression",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictParamDupe:"Strict mode function may not have duplicate parameter names",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",
UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnterminatedRegExp:"Invalid regular expression: missing /",IdentiferExpected:"Identifier expected"};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/nodes":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers","./syntax"],function(C,z,I){var B=function(){};let f=function(U){function ca(na,ka){var ja=U.call(this)||this;ja.type=na;ja.value=ka;return ja}z._inheritsLoose(ca,U);return ca}(B),G=function(U){function ca(na){var ka=U.call(this)||this;ka.elements=na;ka.type=I.Syntax.ArrayExpression;return ka}z._inheritsLoose(ca,U);return ca}(B),E=function(U){function ca(na,ka,ja){var ra=U.call(this)||this;ra.operator=na;ra.left=ka;ra.right=ja;ra.type=I.Syntax.AssignmentExpression;
return ra}z._inheritsLoose(ca,U);return ca}(B);const w=["||","\x26\x26"];let m=function(U){function ca(na,ka,ja){var ra=U.call(this)||this;ra.operator=na;ra.left=ka;ra.right=ja;ra.type=w.includes(na)?I.Syntax.LogicalExpression:I.Syntax.BinaryExpression;return ra}z._inheritsLoose(ca,U);return ca}(B),h=function(U){function ca(na){var ka=U.call(this)||this;ka.body=na;ka.type=I.Syntax.BlockStatement;return ka}z._inheritsLoose(ca,U);return ca}(B),q=function(U){function ca(){var na=U.apply(this,arguments)||
this;na.type=I.Syntax.BreakStatement;return na}z._inheritsLoose(ca,U);return ca}(B),c=function(U){function ca(na,ka){var ja=U.call(this)||this;ja.callee=na;ja.args=ka;ja.type=I.Syntax.CallExpression;ja.arguments=ka;return ja}z._inheritsLoose(ca,U);return ca}(B),g=function(U){function ca(na,ka){var ja=U.call(this)||this;ja.object=na;ja.property=ka;ja.type=I.Syntax.MemberExpression;ja.computed=!0;return ja}z._inheritsLoose(ca,U);return ca}(B),n=function(U){function ca(na,ka){var ja=U.call(this)||this;
ja.object=na;ja.property=ka;ja.type=I.Syntax.MemberExpression;ja.computed=!1;return ja}z._inheritsLoose(ca,U);return ca}(B),x=function(U){function ca(){var na=U.apply(this,arguments)||this;na.type=I.Syntax.ContinueStatement;return na}z._inheritsLoose(ca,U);return ca}(B),p=function(U){function ca(){var na=U.apply(this,arguments)||this;na.type=I.Syntax.EmptyStatement;return na}z._inheritsLoose(ca,U);return ca}(B),u=function(U){function ca(na){var ka=U.call(this)||this;ka.expression=na;ka.type=I.Syntax.ExpressionStatement;
return ka}z._inheritsLoose(ca,U);return ca}(B),F=function(U){function ca(na,ka,ja){var ra=U.call(this)||this;ra.left=na;ra.right=ka;ra.body=ja;ra.type=I.Syntax.ForInStatement;ra.each=!1;return ra}z._inheritsLoose(ca,U);return ca}(B),M=function(U){function ca(na,ka,ja,ra){var sa=U.call(this)||this;sa.init=na;sa.test=ka;sa.update=ja;sa.body=ra;sa.type=I.Syntax.ForStatement;return sa}z._inheritsLoose(ca,U);return ca}(B),D=function(U){function ca(na,ka,ja){var ra=U.call(this)||this;ra.id=na;ra.params=
ka;ra.body=ja;ra.type=I.Syntax.FunctionDeclaration;ra.generator=!1;ra.expression=!1;ra.async=!1;return ra}z._inheritsLoose(ca,U);return ca}(B),b=function(U){function ca(na){var ka=U.call(this)||this;ka.name=na;ka.type=I.Syntax.Identifier;return ka}z._inheritsLoose(ca,U);return ca}(B),d=function(U){function ca(na,ka,ja){var ra=U.call(this)||this;ra.test=na;ra.consequent=ka;ra.alternate=ja;ra.type=I.Syntax.IfStatement;return ra}z._inheritsLoose(ca,U);return ca}(B),k=function(U){function ca(na,ka){var ja=
U.call(this)||this;ja.value=na;ja.raw=ka;ja.type=I.Syntax.Literal;return ja}z._inheritsLoose(ca,U);return ca}(B),e=function(U){function ca(na){var ka=U.call(this)||this;ka.properties=na;ka.type=I.Syntax.ObjectExpression;return ka}z._inheritsLoose(ca,U);return ca}(B),T=function(U){function ca(na,ka,ja,ra,sa,Qa){var P=U.call(this)||this;P.kind=na;P.key=ka;P.computed=ja;P.value=ra;P.method=sa;P.shorthand=Qa;P.type=I.Syntax.Property;return P}z._inheritsLoose(ca,U);return ca}(B),ea=function(U){function ca(na){var ka=
U.call(this)||this;ka.argument=na;ka.type=I.Syntax.ReturnStatement;return ka}z._inheritsLoose(ca,U);return ca}(B),W=function(U){function ca(na){var ka=U.call(this)||this;ka.body=na;ka.type=I.Syntax.Program;return ka}z._inheritsLoose(ca,U);return ca}(B),pa=function(U){function ca(na,ka){var ja=U.call(this)||this;ja.value=na;ja.tail=ka;ja.type=I.Syntax.TemplateElement;return ja}z._inheritsLoose(ca,U);return ca}(B),Ta=function(U){function ca(na,ka){var ja=U.call(this)||this;ja.quasis=na;ja.expressions=
ka;ja.type=I.Syntax.TemplateLiteral;return ja}z._inheritsLoose(ca,U);return ca}(B),Xa=function(U){function ca(na,ka){var ja=U.call(this)||this;ja.operator=na;ja.argument=ka;ja.type=I.Syntax.UnaryExpression;ja.prefix=!0;return ja}z._inheritsLoose(ca,U);return ca}(B),Ma=function(U){function ca(na,ka,ja){var ra=U.call(this)||this;ra.operator=na;ra.argument=ka;ra.prefix=ja;ra.type=I.Syntax.UpdateExpression;return ra}z._inheritsLoose(ca,U);return ca}(B),ta=function(U){function ca(na,ka){var ja=U.call(this)||
this;ja.declarations=na;ja.kind=ka;ja.type=I.Syntax.VariableDeclaration;return ja}z._inheritsLoose(ca,U);return ca}(B);B=function(U){function ca(na,ka){var ja=U.call(this)||this;ja.id=na;ja.init=ka;ja.type=I.Syntax.VariableDeclarator;return ja}z._inheritsLoose(ca,U);return ca}(B);C.ArrayExpression=G;C.AssignmentExpression=E;C.AssignmentOperators="\x3d /\x3d *\x3d %\x3d +\x3d -\x3d".split(" ");C.BinaryExpression=m;C.BinaryOperators="| \x26 \x3e\x3e \x3c\x3c \x3e\x3e \x3e\x3e\x3e ^ \x3d\x3d !\x3d \x3c \x3c\x3d \x3e \x3e\x3d + - * / %".split(" ");
C.BlockStatement=h;C.BreakStatement=q;C.CallExpression=c;C.Comment=f;C.ComputedMemberExpression=g;C.ContinueStatement=x;C.EmptyStatement=p;C.ExpressionStatement=u;C.ForInStatement=F;C.ForStatement=M;C.FunctionDeclaration=D;C.Identifier=b;C.IfStatement=d;C.Literal=k;C.LogicalOperators=w;C.ObjectExpression=e;C.Program=W;C.Property=T;C.ReturnStatement=ea;C.StaticMemberExpression=n;C.TemplateElement=pa;C.TemplateLiteral=Ta;C.UnaryExpression=Xa;C.UnaryOperators=["-","+","!","~"];C.UpdateExpression=Ma;
C.UpdateOperators=["++","--"];C.VariableDeclaration=ta;C.VariableDeclarator=B;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/scanner":function(){define(["exports","./assert","./character","./messages","./token"],function(C,z,I,B,f){let G=function(){function E(m,h){this.source=m;this.errorHandler=h;this.isModule=this.trackComment=!1;this.length=m.length;this.index=0;this.lineNumber=0<m.length?1:0;this.lineStart=0;this.curlyStack=[]}var w=
E.prototype;w.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};w.restoreState=function(m){this.index=m.index;this.lineNumber=m.lineNumber;this.lineStart=m.lineStart;this.curlyStack=m.curlyStack};w.eof=function(){return this.index>=this.length};w.throwUnexpectedToken=function(m=B.Messages.UnexpectedTokenIllegal){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,m)};w._tolerateUnexpectedToken=
function(m=B.Messages.UnexpectedTokenIllegal){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,m)};w._skipSingleLineComment=function(m){let h=[],q=0,c=null;this.trackComment&&(h=[],q=this.index-m,c={start:{line:this.lineNumber,column:this.index-this.lineStart-m},end:{line:0,column:0}});for(;!this.eof();){const g=this.source.charCodeAt(this.index);++this.index;if(I.Character.isLineTerminator(g))return c&&(c.end={line:this.lineNumber,column:this.index-this.lineStart-
1},h.push({multiLine:!1,slice:[q+m,this.index-1],range:[q,this.index-1],loc:c})),13===g&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,h}c&&(c.end={line:this.lineNumber,column:this.index-this.lineStart},h.push({multiLine:!1,slice:[q+m,this.index],range:[q,this.index],loc:c}));return h};w._skipMultiLineComment=function(){const m=[];let h=0,q=null;this.trackComment&&(h=this.index-2,q={start:{line:this.lineNumber,column:this.index-this.lineStart-2},
end:{line:0,column:0}});for(;!this.eof();){const c=this.source.charCodeAt(this.index);if(I.Character.isLineTerminator(c))13===c&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===c&&47===this.source.charCodeAt(this.index+1))return this.index+=2,q&&(q.end={line:this.lineNumber,column:this.index-this.lineStart},m.push({multiLine:!0,slice:[h+2,this.index-2],range:[h,this.index],loc:q})),m;++this.index}}q&&(q.end={line:this.lineNumber,
column:this.index-this.lineStart},m.push({multiLine:!0,slice:[h+2,this.index],range:[h,this.index],loc:q}));this._tolerateUnexpectedToken();return m};w.scanComments=function(){let m=null;this.trackComment&&(m=[]);for(var h=0===this.index;!this.eof();){var q=this.source.charCodeAt(this.index);if(I.Character.isWhiteSpace(q))++this.index;else if(I.Character.isLineTerminator(q))++this.index,13===q&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,h=!0;
else if(47===q)if(q=this.source.charCodeAt(this.index+1),47===q)this.index+=2,h=this._skipSingleLineComment(2),m&&(m=m.concat(h)),h=!0;else if(42===q)this.index+=2,q=this._skipMultiLineComment(),m&&(m=m.concat(q));else break;else if(h&&45===q)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,q=this._skipSingleLineComment(3),m&&(m=m.concat(q));else break;else if(60!==q||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+
4))this.index+=4,q=this._skipSingleLineComment(4),m&&(m=m.concat(q));else break}return m};w._isKeyword=function(m){m=m.toLowerCase();switch(m.length){case 2:return"if"===m||"in"===m;case 3:return"var"===m||"for"===m;case 4:return"else"===m;case 5:return"break"===m;case 6:return"return"===m;case 8:return"function"===m||"continue"===m;default:return!1}};w._codePointAt=function(m){let h=this.source.charCodeAt(m);55296<=h&&56319>=h&&(m=this.source.charCodeAt(m+1),56320<=m&&57343>=m&&(h=1024*(h-55296)+
m-56320+65536));return h};w._scanHexEscape=function(m){m="u"===m?4:2;let h=0;for(let q=0;q<m;++q)if(!this.eof()&&I.Character.isHexDigit(this.source.charCodeAt(this.index)))h=16*h+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(h)};w._scanUnicodeCodePointEscape=function(){let m=this.source[this.index],h=0;for("}"===m&&this.throwUnexpectedToken();!this.eof();){m=this.source[this.index++];if(!I.Character.isHexDigit(m.charCodeAt(0)))break;
h=16*h+"0123456789abcdef".indexOf(m.toLowerCase())}(1114111<h||"}"!==m)&&this.throwUnexpectedToken();return I.Character.fromCodePoint(h)};w._getIdentifier=function(){const m=this.index++;for(;!this.eof();){const h=this.source.charCodeAt(this.index);if(92===h||55296<=h&&57343>h)return this.index=m,this._getComplexIdentifier();if(I.Character.isIdentifierPart(h))++this.index;else break}return this.source.slice(m,this.index)};w._getComplexIdentifier=function(){let m=this._codePointAt(this.index),h=I.Character.fromCodePoint(m);
this.index+=h.length;let q;92===m&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,q=this._scanUnicodeCodePointEscape()):(q=this._scanHexEscape("u"),null!==q&&"\\"!==q&&I.Character.isIdentifierStart(q.charCodeAt(0))||this.throwUnexpectedToken()),h=q);for(;!this.eof();){m=this._codePointAt(this.index);if(!I.Character.isIdentifierPart(m))break;q=I.Character.fromCodePoint(m);h+=q;this.index+=q.length;92===m&&(h=h.substr(0,
h.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,q=this._scanUnicodeCodePointEscape()):(q=this._scanHexEscape("u"),null!==q&&"\\"!==q&&I.Character.isIdentifierPart(q.charCodeAt(0))||this.throwUnexpectedToken()),h+=q)}return h};w._octalToDecimal=function(m){let h="0"!==m,q="01234567".indexOf(m);!this.eof()&&I.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(h=!0,q=8*q+"01234567".indexOf(this.source[this.index++]),
"0123".includes(m)&&!this.eof()&&I.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(q=8*q+"01234567".indexOf(this.source[this.index++])));return{code:q,octal:h}};w._scanIdentifier=function(){let m;const h=this.index,q=92===this.source.charCodeAt(h)?this._getComplexIdentifier():this._getIdentifier();m=1===q.length?f.TokenType.Identifier:this._isKeyword(q)?f.TokenType.Keyword:"null"===q.toLowerCase()?f.TokenType.NullLiteral:"true"===q.toLowerCase()||"false"===q.toLowerCase()?f.TokenType.BooleanLiteral:
f.TokenType.Identifier;if(m!==f.TokenType.Identifier&&h+q.length!==this.index){const c=this.index;this.index=h;this._tolerateUnexpectedToken(B.Messages.InvalidEscapedReservedWord);this.index=c}return{type:m,value:q,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};w._scanPunctuator=function(){const m=this.index;let h=this.source[this.index];switch(h){case "(":case "{":"{"===h&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;break;case "}":++this.index;
this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:h=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===h?this.index+=4:(h=h.substr(0,3),"\x3d\x3d\x3d"===h||"!\x3d\x3d"===h||"\x3e\x3e\x3e"===h||"\x3c\x3c\x3d"===h||"\x3e\x3e\x3d"===h||"**\x3d"===h?this.index+=3:(h=h.substr(0,2),"\x26\x26"===h||"||"===h||"\x3d\x3d"===h||"!\x3d"===h||"+\x3d"===h||"-\x3d"===h||"*\x3d"===h||"/\x3d"===h||"++"===h||"--"===h||"\x3c\x3c"===h||"\x3e\x3e"===
h||"\x26\x3d"===h||"|\x3d"===h||"^\x3d"===h||"%\x3d"===h||"\x3c\x3d"===h||"\x3e\x3d"===h||"\x3d\x3e"===h||"**"===h?this.index+=2:(h=this.source[this.index],"\x3c\x3e\x3d!+-*%\x26|^/".includes(h)&&++this.index)))}this.index===m&&this.throwUnexpectedToken();return{type:f.TokenType.Punctuator,value:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}};w._scanHexLiteral=function(m){let h="";for(;!this.eof()&&I.Character.isHexDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];
0===h.length&&this.throwUnexpectedToken();I.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:f.TokenType.NumericLiteral,value:parseInt("0x"+h,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}};w._scanBinaryLiteral=function(m){let h="";for(;!this.eof();){var q=this.source[this.index];if("0"!==q&&"1"!==q)break;h+=this.source[this.index++]}0===h.length&&this.throwUnexpectedToken();this.eof()||(q=this.source.charCodeAt(this.index),
(I.Character.isIdentifierStart(q)||I.Character.isDecimalDigit(q))&&this.throwUnexpectedToken());return{type:f.TokenType.NumericLiteral,value:parseInt(h,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}};w._scanOctalLiteral=function(m,h){let q="",c=!1;I.Character.isOctalDigit(m.charCodeAt(0))?(c=!0,q="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&I.Character.isOctalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];c||0!==q.length||this.throwUnexpectedToken();
(I.Character.isIdentifierStart(this.source.charCodeAt(this.index))||I.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:f.TokenType.NumericLiteral,value:parseInt(q,8),octal:c,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};w._scanNumericLiteral=function(){const m=this.index;let h=this.source[m];z.assert(I.Character.isDecimalDigit(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");
let q="";if("."!==h){q=this.source[this.index++];h=this.source[this.index];if("0"===q){if("x"===h||"X"===h)return++this.index,this._scanHexLiteral(m);if("b"===h||"B"===h)return++this.index,this._scanBinaryLiteral(m);if("o"===h||"O"===h)return this._scanOctalLiteral(h,m)}for(;I.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];h=this.source[this.index]}if("."===h){for(q+=this.source[this.index++];I.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=
this.source[this.index++];h=this.source[this.index]}if("e"===h||"E"===h){q+=this.source[this.index++];h=this.source[this.index];if("+"===h||"-"===h)q+=this.source[this.index++];if(I.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;I.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];else this.throwUnexpectedToken()}I.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:f.TokenType.NumericLiteral,
value:parseFloat(q),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}};w._scanStringLiteral=function(){const m=this.index;let h=this.source[m];z.assert("'"===h||'"'===h,"String literal must starts with a quote");++this.index;let q=!1,c="";for(;!this.eof();){var g=this.source[this.index++];if(g===h){h="";break}if("\\"===g)if((g=this.source[this.index++])&&I.Character.isLineTerminator(g.charCodeAt(0)))++this.lineNumber,"\r"===g&&"\n"===this.source[this.index]&&++this.index,
this.lineStart=this.index;else switch(g){case "u":"{"===this.source[this.index]?(++this.index,c+=this._scanUnicodeCodePointEscape()):(g=this._scanHexEscape(g),null===g&&this.throwUnexpectedToken(),c+=g);break;case "x":g=this._scanHexEscape(g);null===g&&this.throwUnexpectedToken(B.Messages.InvalidHexEscapeSequence);c+=g;break;case "n":c+="\n";break;case "r":c+="\r";break;case "t":c+="\t";break;case "b":c+="\b";break;case "f":c+="\f";break;case "v":c+="\v";break;case "8":case "9":c+=g;this._tolerateUnexpectedToken();
break;default:g&&I.Character.isOctalDigit(g.charCodeAt(0))?(g=this._octalToDecimal(g),q=g.octal||q,c+=String.fromCharCode(g.code)):c+=g}else if(I.Character.isLineTerminator(g.charCodeAt(0)))break;else c+=g}""!==h&&(this.index=m,this.throwUnexpectedToken());return{type:f.TokenType.StringLiteral,value:c,octal:q,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}};w._scanTemplate=function(){let m="",h=!1;const q=this.index,c="`"===this.source[q];let g=!1,n=2;for(++this.index;!this.eof();){var x=
this.source[this.index++];if("`"===x){n=1;h=g=!0;break}if("$"===x){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;h=!0;break}m+=x}else if("\\"===x)if(x=this.source[this.index++],I.Character.isLineTerminator(x.charCodeAt(0)))++this.lineNumber,"\r"===x&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(x){case "n":m+="\n";break;case "r":m+="\r";break;case "t":m+="\t";break;case "u":if("{"===this.source[this.index])++this.index,m+=this._scanUnicodeCodePointEscape();
else{const p=this.index,u=this._scanHexEscape(x);null!==u?m+=u:(this.index=p,m+=x)}break;case "x":x=this._scanHexEscape(x);null===x&&this.throwUnexpectedToken(B.Messages.InvalidHexEscapeSequence);m+=x;break;case "b":m+="\b";break;case "f":m+="\f";break;case "v":m+="\v";break;default:"0"===x?(I.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(B.Messages.TemplateOctalLiteral),m+="\x00"):I.Character.isOctalDigit(x.charCodeAt(0))?this.throwUnexpectedToken(B.Messages.TemplateOctalLiteral):
m+=x}else I.Character.isLineTerminator(x.charCodeAt(0))?(++this.lineNumber,"\r"===x&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,m+="\n"):m+=x}h||this.throwUnexpectedToken();c||this.curlyStack.pop();return{type:f.TokenType.Template,value:this.source.slice(q+1,this.index-n),cooked:m,head:c,tail:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:q,end:this.index}};w._testRegExp=function(m,h){let q=m;h.includes("u")&&(q=q.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,
(c,g,n)=>{c=parseInt(g||n,16);1114111<c&&this.throwUnexpectedToken(B.Messages.InvalidRegExp);return 65535>=c?String.fromCharCode(c):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(q)}catch(c){this.throwUnexpectedToken(B.Messages.InvalidRegExp)}try{return new RegExp(m,h)}catch(c){return null}};w._scanRegExpBody=function(){let m=this.source[this.index];z.assert("/"===m,"Regular expression literal must start with a slash");let h=this.source[this.index++],q=!1,c=!1;for(;!this.eof();)if(m=
this.source[this.index++],h+=m,"\\"===m)m=this.source[this.index++],I.Character.isLineTerminator(m.charCodeAt(0))&&this.throwUnexpectedToken(B.Messages.UnterminatedRegExp),h+=m;else if(I.Character.isLineTerminator(m.charCodeAt(0)))this.throwUnexpectedToken(B.Messages.UnterminatedRegExp);else if(q)"]"===m&&(q=!1);else{if("/"===m){c=!0;break}"["===m&&(q=!0)}c||this.throwUnexpectedToken(B.Messages.UnterminatedRegExp);return h.substr(1,h.length-2)};w._scanRegExpFlags=function(){let m="";for(;!this.eof();){var h=
this.source[this.index];if(!I.Character.isIdentifierPart(h.charCodeAt(0)))break;++this.index;if("\\"!==h||this.eof())m+=h;else{h=this.source[this.index];if("u"===h){++this.index;h=this.index;const q=this._scanHexEscape("u");if(null!==q)for(m+=q;h<this.index;++h);else this.index=h,m+="u"}this._tolerateUnexpectedToken()}}return m};w.scanRegExp=function(){const m=this.index,h=this._scanRegExpBody(),q=this._scanRegExpFlags(),c=this._testRegExp(h,q);return{type:f.TokenType.RegularExpression,value:"",pattern:h,
flags:q,regex:c,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}};w.lex=function(){if(this.eof())return{type:f.TokenType.EOF,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const m=this.source.charCodeAt(this.index);return I.Character.isIdentifierStart(m)?this._scanIdentifier():40===m||41===m||59===m?this._scanPunctuator():39===m||34===m?this._scanStringLiteral():46===m?I.Character.isDecimalDigit(this.source.charCodeAt(this.index+
1))?this._scanNumericLiteral():this._scanPunctuator():I.Character.isDecimalDigit(m)?this._scanNumericLiteral():96===m||125===m&&"${"===this.curlyStack[this.curlyStack.length-1]?this._scanTemplate():55296<=m&&57343>m&&I.Character.isIdentifierStart(this._codePointAt(this.index))?this._scanIdentifier():this._scanPunctuator()};return E}();C.Scanner=G;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/character":function(){define(["exports"],function(C){var z=
/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
I=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
const B={fromCodePoint(f){return 65536>f?String.fromCharCode(f):String.fromCharCode(55296+(f-65536>>10))+String.fromCharCode(56320+(f-65536&1023))},isWhiteSpace(f){return 32===f||9===f||11===f||12===f||160===f||5760<=f&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(f)},isLineTerminator(f){return 10===f||13===f||8232===f||8233===f},isIdentifierStart(f){return 36===f||95===f||65<=f&&90>=f||97<=f&&122>=f||92===f||128<=f&&z.test(B.fromCodePoint(f))},isIdentifierPart(f){return 36===
f||95===f||65<=f&&90>=f||97<=f&&122>=f||48<=f&&57>=f||92===f||128<=f&&I.test(B.fromCodePoint(f))},isDecimalDigit(f){return 48<=f&&57>=f},isHexDigit(f){return 48<=f&&57>=f||65<=f&&70>=f||97<=f&&102>=f},isOctalDigit(f){return 48<=f&&55>=f}};C.Character=B;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/token":function(){define(["exports"],function(C){C.TokenType=void 0;var z=C.TokenType||(C.TokenType={});z[z.BooleanLiteral=1]="BooleanLiteral";
z[z.EOF=2]="EOF";z[z.Identifier=3]="Identifier";z[z.Keyword=4]="Keyword";z[z.NullLiteral=5]="NullLiteral";z[z.NumericLiteral=6]="NumericLiteral";z[z.Punctuator=7]="Punctuator";z[z.StringLiteral=8]="StringLiteral";z[z.RegularExpression=9]="RegularExpression";z[z.Template=10]="Template";z={};z[C.TokenType.BooleanLiteral]="Boolean";z[C.TokenType.EOF]="\x3cend\x3e";z[C.TokenType.Identifier]="Identifier";z[C.TokenType.Keyword]="Keyword";z[C.TokenType.NullLiteral]="Null";z[C.TokenType.NumericLiteral]="Numeric";
z[C.TokenType.Punctuator]="Punctuator";z[C.TokenType.StringLiteral]="String";z[C.TokenType.RegularExpression]="RegularExpression";z[C.TokenType.Template]="Template";C.TokenName=z;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/lib/tokenizer":function(){define(["exports","./error-handler","./nodes","./scanner","./token"],function(C,z,I,B,f){let G=function(){function w(){this.values=[];this.curly=this.paren=-1}var m=w.prototype;m.beforeFunctionExpression=
function(h){return["(","{","[","return",",",...I.AssignmentOperators,...I.BinaryOperators,...I.LogicalOperators,...I.UnaryOperators].includes(h)};m.isRegexStart=function(){var h=this.values[this.values.length-1];let q=null!==h;switch(h){case "this":case "]":q=!1;break;case ")":h=this.values[this.paren-1];q="if"===h||"while"===h||"for"===h||"with"===h;break;case "}":q=!0,"function"===this.values[this.curly-3]?q=(h=this.values[this.curly-4])?!this.beforeFunctionExpression(h):!1:"function"===this.values[this.curly-
4]&&(q=(h=this.values[this.curly-5])?!this.beforeFunctionExpression(h):!0)}return q};m.push=function(h){h.type===f.TokenType.Punctuator||h.type===f.TokenType.Keyword?("{"===h.value?this.curly=this.values.length:"("===h.value&&(this.paren=this.values.length),this.values.push(h.value)):this.values.push(null)};return w}(),E=function(){function w(h,q){this.errorHandler=new z.ErrorHandler;this.errorHandler.tolerant=q?"boolean"===typeof q.tolerant&&q.tolerant:!1;this.scanner=new B.Scanner(h,this.errorHandler);
this.scanner.trackComment=q?"boolean"===typeof q.comment&&q.comment:!1;this.trackRange=q?"boolean"===typeof q.range&&q.range:!1;this.trackLoc=q?"boolean"===typeof q.loc&&q.loc:!1;this.buffer=[];this.reader=new G}var m=w.prototype;m.errors=function(){return this.errorHandler.errors};m.getNextToken=function(){if(0===this.buffer.length){var h=this.scanner.scanComments();if(h)for(var q=0;q<h.length;++q){const g=h[q];var c=this.scanner.source.slice(g.slice[0],g.slice[1]);c={type:g.multiLine?"BlockComment":
"LineComment",value:c};this.trackRange&&(c.range=g.range);this.trackLoc&&(c.loc=g.loc);this.buffer.push(c)}if(!this.scanner.eof()){h=null;this.trackLoc&&(h={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{line:0,column:0}});let g;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){q=this.scanner.saveState();try{g=this.scanner.scanRegExp()}catch(n){this.scanner.restoreState(q),g=this.scanner.lex()}}else g=this.scanner.lex();this.reader.push(g);
q={type:f.TokenName[g.type],value:this.scanner.source.slice(g.start,g.end)};this.trackRange&&(q.range=[g.start,g.end]);this.trackLoc&&h&&(h.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},q.loc=h);g.type===f.TokenType.RegularExpression&&(q.regex={pattern:g.pattern,flags:g.flags});this.buffer.push(q)}}return this.buffer.shift()};return w}();C.Tokenizer=E;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})}}});
define("exports ../geometry ../chunks/arcade ../arcade/Dictionary ../arcade/Feature ../chunks/languageUtils ../core/lang ../renderers/visualVariables/support/sizeVariableUtils ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/Multipoint ../geometry/Extent".split(" "),function(C,z,I,B,f,G,E,w,m,h,q,c,g){function n(b){return b.replace(/[|\\{}()[\]^$+*?.]/g,"\\$\x26")}function x(b){if(!b)return null;try{return I.parseScript(b)}catch(d){}return null}function p(b,d){if(!b)return!1;
if("string"===typeof b)return d(b);if("simple"===b.type||"class-breaks"===b.type||"unique-value"===b.type||"dot-density"===b.type||"dictionary"===b.type||"pie-chart"===b.type){if("dot-density"===b.type){var k=b.attributes.some(e=>d(e.valueExpression));if(k)return k}k=b.visualVariables;k=!!k&&k.some(e=>{let T=d(e.valueExpression);"size"===e.type&&(w.isSizeVariable(e.minSize)&&(T=T||d(e.minSize.valueExpression)),w.isSizeVariable(e.maxSize)&&(T=T||d(e.maxSize.valueExpression)));return T});return"valueExpression"in
b&&d(b.valueExpression)?!0:k}return"esri.layers.support.LabelClass"===b.declaredClass?(b=b.labelExpressionInfo&&b.labelExpressionInfo.expression,!(!b||!d(b))||!1):"esri.PopupTemplate"===b.declaredClass?!!b.expressionInfos&&b.expressionInfos.some(e=>d(e.expression))||Array.isArray(b.content)&&b.content.some(e=>{var T;return"expression"===e.type&&d(null==(T=e.expressionInfo)?void 0:T.expression)}):!1}function u(b){b=x(b);return!!b&&I.scriptTouchesGeometry(b)}function F(b){b=x(b);return!!b&&I.scriptUsesGeometryEngine(b)}
const M=/^\$(feature|aggregatedFeatures)\./i,D={vars:{$feature:"any",$view:"any"},spatialReference:null};C.arcade=I.arcade;C.Dictionary=B;C.arcadeFeature=f;C.convertFeatureLayerToFeatureSet=function({layer:b,spatialReference:d,outFields:k,returnGeometry:e,lrucache:T,interceptor:ea}){if(null===b)return null;const W=I.featureSetUtils();return W?W.constructFeatureSet(b,d,k,null!=e?e:!0,T,ea):null};C.convertMapToFeatureSetCollection=function(b){if(null===(null==b?void 0:b.map))return null;const d=I.featureSetUtils();
return d?d.createFeatureSetCollectionFromMap(b.map,b.spatialReference,b.lrucache,b.interceptor):null};C.convertServiceUrlToWorkspace=function({url:b,spatialReference:d,lrucache:k,interceptor:e}){const T=I.featureSetUtils();return T?T.createFeatureSetCollectionFromService(b,d,k,e):null};C.createExecContext=function(b,d){return{vars:{$feature:null==b?new f:f.createFromGraphic(b),$view:d&&d.view},spatialReference:d&&d.sr}};C.createFeature=function(b,d,k){return f.createFromGraphicLikeObject(d,b,k)};
C.createFunction=function(b,d){b="string"===typeof b?x(b):b;if(!b)return null;try{return d=d||E.clone(D),I.compileScript(b,d)}catch(k){}return null};C.createSyntaxTree=x;C.dependsOnView=function(b){return I.referencesMember(b,"$view")};C.enableFeatureSetOperations=function(){return I.enableFeatureSetSupport()};C.enableGeometryOperations=function(){return I.enableGeometrySupport()};C.evalSyntaxTree=function(b,d){let k;try{k=I.executeScript(b,d)}catch(e){k=null}return k};C.executeAsyncFunction=function(b,
d){try{return b?b(d):Promise.resolve(null)}catch(k){return Promise.resolve(null)}};C.executeFunction=function(b,d){let k;try{k=b?b(d):null}catch(e){k=null}return k};C.extractFieldNames=function(b,d){if(!b)return[];b="string"===typeof b?x(b):b;if(!b)return[];let k=[];I.extractExpectedFieldLiterals(b).forEach(T=>{M.test(T)&&(T=T.replace(M,""),k.push(T))});const e=k.filter(T=>T.includes("*"));k=k.filter(T=>!e.includes(T));d&&e.forEach(T=>{const ea=new RegExp(`^${T.split(/\*+/).map(n).join(".*")}$`,"i");
d.forEach(W=>ea.test(W)?k.push(W):null)});return[...new Set(k.sort())]};C.getArcadeType=function(b){return null==b?null:G.isArray(b)||G.isImmutableArray(b)?"array":G.isDate(b)?"date":G.isString(b)?"text":G.isBoolean(b)?"boolean":G.isNumber(b)?"number":b instanceof B?"dictionary":G.isFeature(b)?"feature":b instanceof m?"point":b instanceof h?"polygon":b instanceof q?"polyline":b instanceof c?"multipoint":b instanceof g?"extent":G.isFeatureSet(b)?"featureSet":G.isFeatureSetCollection(b)?"featureSetCollection":
null};C.getViewInfo=function(b){if(b&&(null!=b.spatialReference||null!=b.scale&&null!=b.viewingMode))return{view:b.viewingMode&&null!=b.scale?new B({viewingMode:b.viewingMode,scale:b.scale}):null,sr:b.spatialReference}};C.hasGeometryFunctions=function(b){return p(b,u)};C.hasGeometryOperations=function(b){return p(b,F)};C.hasVariable=function(b,d){return b?I.referencesMember(b,d):!1};C.loadScriptDependencies=function(b,d,k=[]){return I.loadScriptDependencies(b,d,k)};C.updateExecContext=function(b,
d){b.vars.$feature=d};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});