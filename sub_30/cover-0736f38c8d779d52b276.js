/*! For license information please see cover-0736f38c8d779d52b276.js.LICENSE.txt */
!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/packs/",i(i.s=599)}({160:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.GridStackDDI=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,r;return t=e,r=[{key:"registerPlugin",value:function(t){return e.ddi=new t,e.ddi}},{key:"get",value:function(){return e.ddi||e.registerPlugin(e)}}],(i=[{key:"remove",value:function(e){return this}}])&&n(t.prototype,i),r&&n(t,r),e}();t.GridStackDDI=r},161:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDManager=void 0;t.DDManager=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},162:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.DDBaseImplement=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._disabled=!1,this._eventRegister={}}var t,i,r;return t=e,(i=[{key:"disabled",get:function(){return this._disabled}},{key:"on",value:function(e,t){this._eventRegister[e]=t}},{key:"off",value:function(e){delete this._eventRegister[e]}},{key:"enable",value:function(){this._disabled=!1}},{key:"disable",value:function(){this._disabled=!0}},{key:"destroy",value:function(){delete this._eventRegister}},{key:"triggerEvent",value:function(e,t){if(!this.disabled&&this._eventRegister&&this._eventRegister[e])return this._eventRegister[e](t)}}])&&n(t.prototype,i),r&&n(t,r),e}();t.DDBaseImplement=r},163:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.DDUtils=void 0;var r,o,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,r;return t=e,r=[{key:"clone",value:function(e){var t=e.cloneNode(!0);return t.removeAttribute("id"),t}},{key:"appendTo",value:function(e,t){var i;(i="string"===typeof t?document.querySelector(t):t)&&i.appendChild(e)}},{key:"setPositionRelative",value:function(e){/^(?:r|a|f)/.test(window.getComputedStyle(e).position)||(e.style.position="relative")}},{key:"addElStyles",value:function(e,t){if(t instanceof Object){var i=function(i){t.hasOwnProperty(i)&&(Array.isArray(t[i])?t[i].forEach((function(t){e.style[i]=t})):e.style[i]=t[i])};for(var n in t)i(n)}}},{key:"initEvent",value:function(e,t){var i={type:t.type},n={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:t.target?t.target:e.target};return e.dataTransfer&&(i.dataTransfer=e.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach((function(t){return i[t]=e[t]})),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach((function(t){return i[t]=e[t]})),Object.assign(Object.assign({},i),n)}},{key:"inside",value:function(e,t){var i=e.relatedTarget||e.fromElement;if(!i){var n=t.getBoundingClientRect(),r=n.bottom,o=n.left,s=n.right,a=n.top;return e.x<s&&e.x>o&&e.y<r&&e.y>a}return t.contains(i)}}],(i=null)&&n(t.prototype,i),r&&n(t,r),e}();t.DDUtils=s,s.isEventSupportPassiveOption=(r=!1,o=function(){},document.addEventListener("test",o,{get passive(){return r=!0,!0}}),document.removeEventListener("test",o),r)},165:function(e,t,i){"use strict";function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),l=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||a(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.GridStack=void 0;var u=i(356),c=i(81),d=i(160);l(i(602),t),l(i(81),t),l(i(356),t),l(i(160),t);var h={column:12,minRow:0,maxRow:0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,styleInHead:!1,cellHeight:"auto",cellHeightThrottle:100,margin:10,auto:!0,oneColumnSize:768,float:!1,staticGrid:!1,animate:!0,alwaysShowResizeHandle:!1,resizable:{autoHide:!0,handles:"se"},draggable:{handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},disableDrag:!1,disableResize:!1,rtl:"auto",removable:!1,removableOptions:{accept:".grid-stack-item"},marginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:!1,oneColumnModeDomSort:!1},f=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this._gsEventHandler={},this._extraDragRow=0,this.el=t,(n=n||{}).row&&(n.minRow=n.maxRow=n.row,delete n.row);var r=c.Utils.toNumber(t.getAttribute("gs-row"));"auto"===n.column&&delete n.column;var s=n;void 0!==s.minWidth&&(n.oneColumnSize=n.oneColumnSize||s.minWidth,delete s.minWidth);var a=Object.assign(Object.assign({},c.Utils.cloneDeep(h)),{column:c.Utils.toNumber(t.getAttribute("gs-column"))||12,minRow:r||(c.Utils.toNumber(t.getAttribute("gs-min-row"))||0),maxRow:r||(c.Utils.toNumber(t.getAttribute("gs-max-row"))||0),staticGrid:c.Utils.toBool(t.getAttribute("gs-static"))||!1,_styleSheetClass:"grid-stack-instance-"+(1e4*Math.random()).toFixed(0),alwaysShowResizeHandle:n.alwaysShowResizeHandle||!1,resizable:{autoHide:!n.alwaysShowResizeHandle,handles:"se"},draggable:{handle:(n.handleClass?"."+n.handleClass:n.handle?n.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"},removableOptions:{accept:"."+(n.itemClass||"grid-stack-item")}});t.getAttribute("gs-animate")&&(a.animate=c.Utils.toBool(t.getAttribute("gs-animate"))),this.opts=c.Utils.defaults(n,a),n=null,this._initMargin(),1!==this.opts.column&&!this.opts.disableOneColumnMode&&this._widthOrContainer()<=this.opts.oneColumnSize&&(this._prevColumn=this.getColumn(),this.opts.column=1),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===t.style.direction),this.opts.rtl&&this.el.classList.add("grid-stack-rtl");var l=c.Utils.closestByClass(this.el,h.itemClass);l&&l.gridstackNode&&(this.opts._isNested=l.gridstackNode,this.opts._isNested.subGrid=this,l.classList.add("grid-stack-nested"),this.el.classList.add("grid-stack-nested")),this._isAutoCellHeight="auto"===this.opts.cellHeight,this._isAutoCellHeight||"initial"===this.opts.cellHeight?this.cellHeight(void 0,!1):("number"==typeof this.opts.cellHeight&&this.opts.cellHeightUnit&&this.opts.cellHeightUnit!==h.cellHeightUnit&&(this.opts.cellHeight=this.opts.cellHeight+this.opts.cellHeightUnit,delete this.opts.cellHeightUnit),this.cellHeight(this.opts.cellHeight,!1)),this.el.classList.add(this.opts._styleSheetClass),this._setStaticClass();var d=this.opts.engineClass||e.engineClass||u.GridStackEngine;if(this.engine=new d({column:this.getColumn(),float:this.opts.float,maxRow:this.opts.maxRow,onChange:function(e){var t=0;i.engine.nodes.forEach((function(e){t=Math.max(t,e.y+e.h)})),e.forEach((function(e){var t=e.el;t&&(e._removeDOM?(t&&t.remove(),delete e._removeDOM):i._writePosAttr(t,e))})),i._updateStyles(!1,t)}}),this.opts.auto){this.batchUpdate();var f=[];this.getGridItems().forEach((function(e){var t=parseInt(e.getAttribute("gs-x")),n=parseInt(e.getAttribute("gs-y"));f.push({el:e,i:(Number.isNaN(t)?1e3:t)+(Number.isNaN(n)?1e3:n)*i.getColumn()})})),f.sort((function(e,t){return e.i-t.i})).forEach((function(e){return i._prepareElement(e.el)})),this.commit()}this.setAnimation(this.opts.animate),this._updateStyles(),12!=this.opts.column&&this.el.classList.add("grid-stack-"+this.opts.column),this.opts.dragIn&&e.setupDragIn(this.opts.dragIn,this.opts.dragInOptions),delete this.opts.dragIn,delete this.opts.dragInOptions,this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateWindowResizeEvent()}var t,i,r;return t=e,i=[{key:"placeholder",get:function(){if(!this._placeholder){var e=document.createElement("div");e.className="placeholder-content",this.opts.placeholderText&&(e.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,h.itemClass,this.opts.itemClass),this.placeholder.appendChild(e)}return this._placeholder}},{key:"addWidget",value:function(t,i){if(arguments.length>2){console.warn("gridstack.ts: `addWidget(el, x, y, width...)` is deprecated. Use `addWidget({x, y, w, content, ...})`. It will be removed soon");var n=arguments,r=1,o={x:n[r++],y:n[r++],w:n[r++],h:n[r++],autoPosition:n[r++],minW:n[r++],maxW:n[r++],minH:n[r++],maxH:n[r++],id:n[r++]};return this.addWidget(t,o)}function s(e){return void 0!==e.x||void 0!==e.y||void 0!==e.w||void 0!==e.h||void 0!==e.content}var a;if("string"===typeof t){var l=document.implementation.createHTMLDocument("");l.body.innerHTML=t,a=l.body.children[0]}else if(0===arguments.length||1===arguments.length&&s(t)){var u=t&&t.content||"";i=t;var d=document.implementation.createHTMLDocument("");d.body.innerHTML='<div class="grid-stack-item '.concat(this.opts.itemClass||"",'"><div class="grid-stack-item-content">').concat(u,"</div></div>"),a=d.body.children[0]}else a=t;var h=this._readAttr(a);i=c.Utils.cloneDeep(i)||{},c.Utils.defaults(i,h);var f=this.engine.prepareNode(i);if(this._writeAttr(a,i),this._insertNotAppend?this.el.prepend(a):this.el.appendChild(a),this._prepareElement(a,!0,i),this._updateContainerHeight(),f.subGrid&&!f.subGrid.el){var p,g=f.subGrid;"auto"===g.column&&(g.column=f.w,g.disableOneColumnMode=!0,p=!0);var v=f.el.querySelector(".grid-stack-item-content");f.subGrid=e.addGrid(v,f.subGrid),p&&(f.subGrid._autoColumn=!0)}return this._triggerAddEvent(),this._triggerChangeEvent(),a}},{key:"save",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.engine.save(e);if(i.forEach((function(t){if(e&&t.el&&!t.subGrid){var i=t.el.querySelector(".grid-stack-item-content");t.content=i?i.innerHTML:void 0,t.content||delete t.content}else e||delete t.content,t.subGrid&&(t.subGrid=t.subGrid.save(e,!0));delete t.el})),t){var n=c.Utils.cloneDeep(this.opts);return n.marginBottom===n.marginTop&&n.marginRight===n.marginLeft&&n.marginTop===n.marginRight&&(n.margin=n.marginTop,delete n.marginTop,delete n.marginRight,delete n.marginBottom,delete n.marginLeft),n.rtl===("rtl"===this.el.style.direction)&&(n.rtl="auto"),this._isAutoCellHeight&&(n.cellHeight="auto"),this._autoColumn&&(n.column="auto",delete n.disableOneColumnMode),c.Utils.removeInternalAndSame(n,h),n.children=i,n}return i}},{key:"load",value:function(t){var i=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.Utils.sort(n(t),-1,this._prevColumn||this.getColumn());this._insertNotAppend=!0,this._prevColumn&&this._prevColumn!==this.opts.column&&o.some((function(e){return e.x+e.w>i.opts.column}))&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(o,this._prevColumn,!0));var s=[];if(this.batchUpdate(),r){var a=n(this.engine.nodes);a.forEach((function(e){o.find((function(t){return e.id===t.id}))||("function"===typeof r?r(i,e,!1):(s.push(e),i.removeWidget(e.el,!0,!1)))}))}return o.forEach((function(e){var t=e.id||0===e.id?i.engine.nodes.find((function(t){return t.id===e.id})):void 0;if(t){if(i.update(t.el,e),e.subGrid&&e.subGrid.children){var n=t.el.querySelector(".grid-stack");n&&n.gridstack&&(n.gridstack.load(e.subGrid.children),i._insertNotAppend=!0)}}else r&&(e="function"===typeof r?r(i,e,!0).gridstackNode:i.addWidget(e).gridstackNode)})),this.engine.removedNodes=s,this.commit(),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,this}},{key:"batchUpdate",value:function(){return this.engine.batchUpdate(),this}},{key:"getCellHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.opts.cellHeight&&"auto"!==this.opts.cellHeight&&(!e||!this.opts.cellHeightUnit||"px"===this.opts.cellHeightUnit))return this.opts.cellHeight;var t=this.el.querySelector("."+this.opts.itemClass);if(t){var i=c.Utils.toNumber(t.getAttribute("gs-h"));return Math.round(t.offsetHeight/i)}var n=parseInt(this.el.getAttribute("gs-current-row"));return n?Math.round(this.el.getBoundingClientRect().height/n):this.opts.cellHeight}},{key:"cellHeight",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&void 0!==e&&this._isAutoCellHeight!==("auto"===e)&&(this._isAutoCellHeight="auto"===e,this._updateWindowResizeEvent()),"initial"!==e&&"auto"!==e||(e=void 0),void 0===e){var i=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;e=this.cellWidth()+i}var n=c.Utils.parseHeight(e);return this.opts.cellHeightUnit===n.unit&&this.opts.cellHeight===n.h||(this.opts.cellHeightUnit=n.unit,this.opts.cellHeight=n.h,t&&this._updateStyles(!0,this.getRow())),this}},{key:"cellWidth",value:function(){return this._widthOrContainer()/this.getColumn()}},{key:"_widthOrContainer",value:function(){return this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}},{key:"commit",value:function(){return this.engine.commit(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent(),this}},{key:"compact",value:function(){return this.engine.compact(),this._triggerChangeEvent(),this}},{key:"column",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"moveScale";if(e<1||this.opts.column===e)return this;var i,n=this.getColumn();return 1===e?this._prevColumn=n:delete this._prevColumn,this.el.classList.remove("grid-stack-"+n),this.el.classList.add("grid-stack-"+e),this.opts.column=this.engine.column=e,1===e&&this.opts.oneColumnModeDomSort&&(i=[],this.getGridItems().forEach((function(e){e.gridstackNode&&i.push(e.gridstackNode)})),i.length||(i=void 0)),this.engine.updateNodeWidths(n,e,i,t),this._isAutoCellHeight&&this.cellHeight(),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this}},{key:"getColumn",value:function(){return this.opts.column}},{key:"getGridItems",value:function(){var e=this;return Array.from(this.el.children).filter((function(t){return t.matches("."+e.opts.itemClass)&&!t.matches("."+e.opts.placeholderClass)}))}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.el)return this._updateWindowResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),e?this.el.parentNode.removeChild(this.el):(this.removeAll(e),this.el.classList.remove(this.opts._styleSheetClass)),this._removeStylesheet(),this.el.removeAttribute("gs-current-row"),delete this.opts._isNested,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}},{key:"float",value:function(e){return this.engine.float=e,this._triggerChangeEvent(),this}},{key:"getFloat",value:function(){return this.engine.float}},{key:"getCellFromPixel",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.el.getBoundingClientRect();t=i?{top:n.top+document.documentElement.scrollTop,left:n.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};var r=e.left-t.left,o=e.top-t.top,s=n.width/this.getColumn(),a=n.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(r/s),y:Math.floor(o/a)}}},{key:"getRow",value:function(){return Math.max(this.engine.getRow(),this.opts.minRow)}},{key:"isAreaEmpty",value:function(e,t,i,n){return this.engine.isAreaEmpty(e,t,i,n)}},{key:"makeWidget",value:function(t){var i=e.getElement(t);return this._prepareElement(i,!0),this._updateContainerHeight(),this._triggerAddEvent(),this._triggerChangeEvent(),i}},{key:"on",value:function(e,t){var i=this;if(-1!==e.indexOf(" "))return e.split(" ").forEach((function(e){return i.on(e,t)})),this;if("change"===e||"added"===e||"removed"===e||"enable"===e||"disable"===e){var n="enable"===e||"disable"===e;this._gsEventHandler[e]=n?function(e){return t(e)}:function(e){return t(e,e.detail)},this.el.addEventListener(e,this._gsEventHandler[e])}else"drag"===e||"dragstart"===e||"dragstop"===e||"resizestart"===e||"resize"===e||"resizestop"===e||"dropped"===e?this._gsEventHandler[e]=t:console.log("GridStack.on("+e+') event not supported, but you can still use $(".grid-stack").on(...) while jquery-ui is still used internally.');return this}},{key:"off",value:function(e){var t=this;return-1!==e.indexOf(" ")?(e.split(" ").forEach((function(e){return t.off(e)})),this):("change"!==e&&"added"!==e&&"removed"!==e&&"enable"!==e&&"disable"!==e||this._gsEventHandler[e]&&this.el.removeEventListener(e,this._gsEventHandler[e]),delete this._gsEventHandler[e],this)}},{key:"removeWidget",value:function(t){var i=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.getElements(t).forEach((function(e){if(e.parentElement===i.el){var t=e.gridstackNode;t||(t=i.engine.nodes.find((function(t){return e===t.el}))),t&&(delete e.gridstackNode,d.GridStackDDI.get().remove(e),i.engine.removeNode(t,n,r),n&&e.parentElement&&e.remove())}})),r&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}},{key:"removeAll",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.engine.nodes.forEach((function(e){delete e.el.gridstackNode,d.GridStackDDI.get().remove(e.el)})),this.engine.removeAll(e),this._triggerRemoveEvent(),this}},{key:"setAnimation",value:function(e){return e?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}},{key:"setStatic",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.opts.staticGrid===e||(this.opts.staticGrid=e,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach((function(e){return t._prepareDragDropByNode(e)})),i&&this._setStaticClass()),this}},{key:"update",value:function(t,i){var n=this;if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");var r=arguments,o=1;return i={x:r[o++],y:r[o++],w:r[o++],h:r[o++]},this.update(t,i)}return e.getElements(t).forEach((function(e){if(e&&e.gridstackNode){var t=e.gridstackNode,r=c.Utils.cloneDeep(i);delete r.autoPosition;var o,s=["x","y","w","h"];if(s.some((function(e){return void 0!==r[e]&&r[e]!==t[e]}))&&(o={},s.forEach((function(e){o[e]=void 0!==r[e]?r[e]:t[e],delete r[e]}))),!o&&(r.minW||r.minH||r.maxW||r.maxH)&&(o={}),r.content){var a=e.querySelector(".grid-stack-item-content");a&&a.innerHTML!==r.content&&(a.innerHTML=r.content),delete r.content}var l=!1,u=!1;for(var d in r)"_"!==d[0]&&t[d]!==r[d]&&(t[d]=r[d],l=!0,u=u||!n.opts.staticGrid&&("noResize"===d||"noMove"===d||"locked"===d));o&&(n.engine.cleanNodes().beginUpdate(t).moveNode(t,o),n._updateContainerHeight(),n._triggerChangeEvent(),n.engine.endUpdate()),l&&n._writeAttr(e,t),u&&n._prepareDragDropByNode(t)}})),this}},{key:"margin",value:function(e){if(!("string"===typeof e&&e.split(" ").length>1)){var t=c.Utils.parseHeight(e);if(this.opts.marginUnit===t.unit&&this.opts.margin===t.h)return}return this.opts.margin=e,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}},{key:"getMargin",value:function(){return this.opts.margin}},{key:"willItFit",value:function(e){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");var t=arguments,i=0,n={x:t[i++],y:t[i++],w:t[i++],h:t[i++],autoPosition:t[i++]};return this.willItFit(n)}return this.engine.willItFit(e)}},{key:"_triggerChangeEvent",value:function(){if(this.engine.batchMode)return this;var e=this.engine.getDirtyNodes(!0);return e&&e.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(e),this._triggerEvent("change",e)),this.engine.saveInitial(),this}},{key:"_triggerAddEvent",value:function(){return this.engine.batchMode||this.engine.addedNodes&&this.engine.addedNodes.length>0&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach((function(e){delete e._dirty})),this._triggerEvent("added",this.engine.addedNodes),this.engine.addedNodes=[]),this}},{key:"_triggerRemoveEvent",value:function(){return this.engine.batchMode||this.engine.removedNodes&&this.engine.removedNodes.length>0&&(this._triggerEvent("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this}},{key:"_triggerEvent",value:function(e,t){var i=t?new CustomEvent(e,{bubbles:!1,detail:t}):new Event(e);return this.el.dispatchEvent(i),this}},{key:"_removeStylesheet",value:function(){return this._styles&&(c.Utils.removeStylesheet(this._styles._id),delete this._styles),this}},{key:"_updateStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(e&&this._removeStylesheet(),this._updateContainerHeight(),0===this.opts.cellHeight)return this;var i=this.opts.cellHeight,n=this.opts.cellHeightUnit,r=".".concat(this.opts._styleSheetClass," > .").concat(this.opts.itemClass);if(!this._styles){var o="gridstack-style-"+(1e5*Math.random()).toFixed(),s=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=c.Utils.createStylesheet(o,s),!this._styles)return this;this._styles._id=o,this._styles._max=0,c.Utils.addCSSRule(this._styles,r,"min-height: ".concat(i).concat(n));var a=this.opts.marginTop+this.opts.marginUnit,l=this.opts.marginBottom+this.opts.marginUnit,u=this.opts.marginRight+this.opts.marginUnit,d=this.opts.marginLeft+this.opts.marginUnit,h="".concat(r," > .grid-stack-item-content"),f=".".concat(this.opts._styleSheetClass," > .grid-stack-placeholder > .placeholder-content");c.Utils.addCSSRule(this._styles,h,"top: ".concat(a,"; right: ").concat(u,"; bottom: ").concat(l,"; left: ").concat(d,";")),c.Utils.addCSSRule(this._styles,f,"top: ".concat(a,"; right: ").concat(u,"; bottom: ").concat(l,"; left: ").concat(d,";")),c.Utils.addCSSRule(this._styles,"".concat(r," > .ui-resizable-ne"),"right: ".concat(u)),c.Utils.addCSSRule(this._styles,"".concat(r," > .ui-resizable-e"),"right: ".concat(u)),c.Utils.addCSSRule(this._styles,"".concat(r," > .ui-resizable-se"),"right: ".concat(u,"; bottom: ").concat(l)),c.Utils.addCSSRule(this._styles,"".concat(r," > .ui-resizable-nw"),"left: ".concat(d)),c.Utils.addCSSRule(this._styles,"".concat(r," > .ui-resizable-w"),"left: ".concat(d)),c.Utils.addCSSRule(this._styles,"".concat(r," > .ui-resizable-sw"),"left: ".concat(d,"; bottom: ").concat(l))}if((t=t||this._styles._max)>this._styles._max){for(var p=function(e){return i*e+n},g=this._styles._max+1;g<=t;g++){var v=p(g);c.Utils.addCSSRule(this._styles,"".concat(r,'[gs-y="').concat(g-1,'"]'),"top: ".concat(p(g-1))),c.Utils.addCSSRule(this._styles,"".concat(r,'[gs-h="').concat(g,'"]'),"height: ".concat(v)),c.Utils.addCSSRule(this._styles,"".concat(r,'[gs-min-h="').concat(g,'"]'),"min-height: ".concat(v)),c.Utils.addCSSRule(this._styles,"".concat(r,'[gs-max-h="').concat(g,'"]'),"max-height: ".concat(v))}this._styles._max=t}return this}},{key:"_updateContainerHeight",value:function(){if(!this.engine||this.engine.batchMode)return this;var e=this.getRow()+this._extraDragRow;if(this.el.setAttribute("gs-current-row",String(e)),0===e)return this.el.style.removeProperty("height"),this;var t=this.opts.cellHeight,i=this.opts.cellHeightUnit;return t?(this.el.style.height=e*t+i,this):this}},{key:"_prepareElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;i||(e.classList.add(this.opts.itemClass),i=this._readAttr(e)),e.gridstackNode=i,i.el=e,i.grid=this;var n=Object.assign({},i);return i=this.engine.addNode(i,t),c.Utils.same(i,n)||this._writeAttr(e,i),this._prepareDragDropByNode(i),this}},{key:"_writePosAttr",value:function(e,t){return void 0!==t.x&&null!==t.x&&e.setAttribute("gs-x",String(t.x)),void 0!==t.y&&null!==t.y&&e.setAttribute("gs-y",String(t.y)),t.w&&e.setAttribute("gs-w",String(t.w)),t.h&&e.setAttribute("gs-h",String(t.h)),this}},{key:"_writeAttr",value:function(e,t){if(!t)return this;this._writePosAttr(e,t);var i={autoPosition:"gs-auto-position",minW:"gs-min-w",minH:"gs-min-h",maxW:"gs-max-w",maxH:"gs-max-h",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",resizeHandles:"gs-resize-handles"};for(var n in i)t[n]?e.setAttribute(i[n],String(t[n])):e.removeAttribute(i[n]);return this}},{key:"_readAttr",value:function(e){var t={};for(var i in t.x=c.Utils.toNumber(e.getAttribute("gs-x")),t.y=c.Utils.toNumber(e.getAttribute("gs-y")),t.w=c.Utils.toNumber(e.getAttribute("gs-w")),t.h=c.Utils.toNumber(e.getAttribute("gs-h")),t.maxW=c.Utils.toNumber(e.getAttribute("gs-max-w")),t.minW=c.Utils.toNumber(e.getAttribute("gs-min-w")),t.maxH=c.Utils.toNumber(e.getAttribute("gs-max-h")),t.minH=c.Utils.toNumber(e.getAttribute("gs-min-h")),t.autoPosition=c.Utils.toBool(e.getAttribute("gs-auto-position")),t.noResize=c.Utils.toBool(e.getAttribute("gs-no-resize")),t.noMove=c.Utils.toBool(e.getAttribute("gs-no-move")),t.locked=c.Utils.toBool(e.getAttribute("gs-locked")),t.resizeHandles=e.getAttribute("gs-resize-handles"),t.id=e.getAttribute("gs-id"),t){if(!t.hasOwnProperty(i))return;t[i]||0===t[i]||delete t[i]}return t}},{key:"_setStaticClass",value:function(){var e,t,i=["grid-stack-static"];return this.opts.staticGrid?((e=this.el.classList).add.apply(e,i),this.el.setAttribute("gs-static","true")):((t=this.el.classList).remove.apply(t,i),this.el.removeAttribute("gs-static")),this}},{key:"onParentResize",value:function(){var e=this;if(this.el&&this.el.clientWidth){var t=!1;if(this._autoColumn&&this.opts._isNested)this.opts.column!==this.opts._isNested.w&&(t=!0,this.column(this.opts._isNested.w,"none"));else{var i=!this.opts.disableOneColumnMode&&this.el.clientWidth<=this.opts.oneColumnSize;1===this.opts.column!==i&&(t=!0,this.opts.animate&&this.setAnimation(!1),this.column(i?1:this._prevColumn),this.opts.animate&&this.setAnimation(!0))}return this._isAutoCellHeight&&(!t&&this.opts.cellHeightThrottle?(this._cellHeightThrottle||(this._cellHeightThrottle=c.Utils.throttle((function(){return e.cellHeight()}),this.opts.cellHeightThrottle)),this._cellHeightThrottle()):this.cellHeight()),this.engine.nodes.forEach((function(e){e.subGrid&&e.subGrid.onParentResize()})),this}}},{key:"_updateWindowResizeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(this._isAutoCellHeight||!this.opts.disableOneColumnMode)&&!this.opts._isNested;return e||!t||this._windowResizeBind?!e&&t||!this._windowResizeBind||(window.removeEventListener("resize",this._windowResizeBind),delete this._windowResizeBind):(this._windowResizeBind=this.onParentResize.bind(this),window.addEventListener("resize",this._windowResizeBind)),this}},{key:"_initMargin",value:function(){var e,t=0,i=[];return"string"===typeof this.opts.margin&&(i=this.opts.margin.split(" ")),2===i.length?(this.opts.marginTop=this.opts.marginBottom=i[0],this.opts.marginLeft=this.opts.marginRight=i[1]):4===i.length?(this.opts.marginTop=i[0],this.opts.marginRight=i[1],this.opts.marginBottom=i[2],this.opts.marginLeft=i[3]):(e=c.Utils.parseHeight(this.opts.margin),this.opts.marginUnit=e.unit,t=this.opts.margin=e.h),void 0===this.opts.marginTop?this.opts.marginTop=t:(e=c.Utils.parseHeight(this.opts.marginTop),this.opts.marginTop=e.h,delete this.opts.margin),void 0===this.opts.marginBottom?this.opts.marginBottom=t:(e=c.Utils.parseHeight(this.opts.marginBottom),this.opts.marginBottom=e.h,delete this.opts.margin),void 0===this.opts.marginRight?this.opts.marginRight=t:(e=c.Utils.parseHeight(this.opts.marginRight),this.opts.marginRight=e.h,delete this.opts.margin),void 0===this.opts.marginLeft?this.opts.marginLeft=t:(e=c.Utils.parseHeight(this.opts.marginLeft),this.opts.marginLeft=e.h,delete this.opts.margin),this.opts.marginUnit=e.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}},{key:"movable",value:function(e,t){return this}},{key:"resizable",value:function(e,t){return this}},{key:"disable",value:function(){return this}},{key:"enable",value:function(){return this}},{key:"enableMove",value:function(e){return this}},{key:"enableResize",value:function(e){return this}},{key:"_setupAcceptWidget",value:function(){return this}},{key:"_setupRemoveDrop",value:function(){return this}},{key:"_prepareDragDropByNode",value:function(e){return this}},{key:"_onStartMoving",value:function(e,t,i,n,r,o){}},{key:"_dragOrResize",value:function(e,t,i,n,r,o){}},{key:"_leave",value:function(e,t){}}],r=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".grid-stack",n=e.getGridElement(i);return n?(n.gridstack||(n.gridstack=new e(n,c.Utils.cloneDeep(t))),n.gridstack):("string"===typeof i?console.error('GridStack.initAll() no grid was found with selector "'+i+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'):console.error("GridStack.init() no grid element was passed."),null)}},{key:"initAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".grid-stack",n=[];return e.getGridElements(i).forEach((function(i){i.gridstack||(i.gridstack=new e(i,c.Utils.cloneDeep(t)),delete t.dragIn,delete t.dragInOptions),n.push(i.gridstack)})),0===n.length&&console.error('GridStack.initAll() no grid was found with selector "'+i+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'),n}},{key:"addGrid",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return null;var n=t;if(!t.classList.contains("grid-stack")){var r=document.implementation.createHTMLDocument("");r.body.innerHTML='<div class="grid-stack '.concat(i.class||"",'"></div>'),n=r.body.children[0],t.appendChild(n)}var o=e.init(i,n);if(o.opts.children){var s=o.opts.children;delete o.opts.children,o.load(s)}return o}},{key:"registerEngine",value:function(t){e.engineClass=t}},{key:"getElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".grid-stack-item";return c.Utils.getElement(e)}},{key:"getElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".grid-stack-item";return c.Utils.getElements(e)}},{key:"getGridElement",value:function(t){return e.getElement(t)}},{key:"getGridElements",value:function(e){return c.Utils.getElements(e)}},{key:"setupDragIn",value:function(e,t){}}],i&&s(t.prototype,i),r&&s(t,r),e}();t.GridStack=f,f.Utils=c.Utils,f.Engine=u.GridStackEngine},356:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.GridStackEngine=void 0;var o=i(81),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}var t,i,s;return t=e,i=[{key:"batchUpdate",value:function(){return this.batchMode?this:(this.batchMode=!0,this._prevFloat=this._float,this._float=!0,this.saveInitial())}},{key:"commit",value:function(){return this.batchMode?(this.batchMode=!1,this._float=this._prevFloat,delete this._prevFloat,this._packNodes()._notify()):this}},{key:"_useEntireRowArea",value:function(e,t){return!this.float&&!this._hasLocked&&(!e._moving||e._skipDown||t.y<=e.y)}},{key:"_fixCollisions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.sortNodes(-1),!(i=i||this.collide(e,t)))return!1;if(e._moving&&!n.nested&&!this.float&&this.swap(e,i))return!0;var r=t;this._useEntireRowArea(e,t)&&(r={x:0,w:this.column,y:t.y,h:t.h},i=this.collide(e,r,n.skip));for(var s=!1,a={nested:!0,pack:!1};i=i||this.collide(e,r,n.skip);){var l=void 0;if(i.locked||e._moving&&!e._skipDown&&t.y>e.y&&!this.float&&(!this.collide(i,Object.assign(Object.assign({},i),{y:e.y}),e)||!this.collide(i,Object.assign(Object.assign({},i),{y:t.y-i.h}),e))?(e._skipDown=e._skipDown||t.y>e.y,l=this.moveNode(e,Object.assign(Object.assign(Object.assign({},t),{y:i.y+i.h}),a)),i.locked&&l?o.Utils.copyPos(t,e):!i.locked&&l&&n.pack&&(this._packNodes(),t.y=i.y+i.h,o.Utils.copyPos(e,t)),s=s||l):l=this.moveNode(i,Object.assign(Object.assign(Object.assign({},i),{y:t.y+t.h,skip:e}),a)),!l)return s;i=void 0}return s}},{key:"collide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2?arguments[2]:void 0;return this.nodes.find((function(n){return n!==e&&n!==i&&o.Utils.isIntercepted(n,t)}))}},{key:"collideAll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2?arguments[2]:void 0;return this.nodes.filter((function(n){return n!==e&&n!==i&&o.Utils.isIntercepted(n,t)}))}},{key:"collideCoverage",value:function(e,t,i){if(t.rect&&e._rect){var n,r=e._rect,o=Object.assign({},t.rect);return o.y>r.y?(o.h+=o.y-r.y,o.y=r.y):o.h+=r.y-o.y,o.x>r.x?(o.w+=o.x-r.x,o.x=r.x):o.w+=r.x-o.x,i.forEach((function(e){if(!e.locked&&e._rect){var t=e._rect,i=Number.MAX_VALUE,s=Number.MAX_VALUE,a=.5;r.y<t.y?i=(o.y+o.h-t.y)/t.h:r.y+r.h>t.y+t.h&&(i=(t.y+t.h-o.y)/t.h),r.x<t.x?s=(o.x+o.w-t.x)/t.w:r.x+r.w>t.x+t.w&&(s=(t.x+t.w-o.x)/t.w);var l=Math.min(s,i);l>a&&(a=l,n=e)}})),n}}},{key:"cacheRects",value:function(e,t,i,n,r,o){return this.nodes.forEach((function(s){return s._rect={y:s.y*t+i,x:s.x*e+o,w:s.w*e-o-n,h:s.h*t-i-r}})),this}},{key:"swap",value:function(e,t){if(!t||t.locked||!e||e.locked)return!1;function i(){var i=t.x,n=t.y;return t.x=e.x,t.y=e.y,e.h!=t.h?(e.x=i,e.y=t.y+t.h):e.w!=t.w?(e.x=t.x+t.w,e.y=n):(e.x=i,e.y=n),e._dirty=t._dirty=!0,!0}var n;if(e.w===t.w&&e.h===t.h&&(e.x===t.x||e.y===t.y)&&(n=o.Utils.isTouching(e,t)))return i();if(!1!==n){if(e.w===t.w&&e.x===t.x&&(n||(n=o.Utils.isTouching(e,t)))){if(t.y<e.y){var r=e;e=t,t=r}return i()}if(!1!==n){if(e.h===t.h&&e.y===t.y&&(n||(n=o.Utils.isTouching(e,t)))){if(t.x<e.x){var s=e;e=t,t=s}return i()}return!1}}}},{key:"isAreaEmpty",value:function(e,t,i,n){var r={x:e||0,y:t||0,w:i||1,h:n||1};return!this.collide(r)}},{key:"compact",value:function(){var e=this;if(0===this.nodes.length)return this;this.batchUpdate().sortNodes();var t=this.nodes;return this.nodes=[],t.forEach((function(t){t.locked||(t.autoPosition=!0),e.addNode(t,!1),t._dirty=!0})),this.commit()}},{key:"float",get:function(){return this._float||!1},set:function(e){this._float!==e&&(this._float=e||!1,e||this._packNodes()._notify())}},{key:"sortNodes",value:function(e){return this.nodes=o.Utils.sort(this.nodes,e,this.column),this}},{key:"_packNodes",value:function(){var e=this;return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach((function(t){if(!t._updating&&void 0!==t._orig&&t.y!==t._orig.y)for(var i=t.y;i>t._orig.y;)--i,e.collide(t,{x:t.x,y:i,w:t.w,h:t.h})||(t._dirty=!0,t.y=i)})):this.nodes.forEach((function(t,i){if(!t.locked)for(;t.y>0;){var n=0===i?0:t.y-1;if(0!==i&&e.collide(t,{x:t.x,y:n,w:t.w,h:t.h}))break;t._dirty=t.y!==n,t.y=n}}))),this}},{key:"prepareNode",value:function(t,i){(t=t||{})._id=t._id||e._idSeq++,void 0!==t.x&&void 0!==t.y&&null!==t.x&&null!==t.y||(t.autoPosition=!0);var n={x:0,y:0,w:1,h:1};return o.Utils.defaults(t,n),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,"string"==typeof t.x&&(t.x=Number(t.x)),"string"==typeof t.y&&(t.y=Number(t.y)),"string"==typeof t.w&&(t.w=Number(t.w)),"string"==typeof t.h&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=n.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=n.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=n.w),isNaN(t.h)&&(t.h=n.h),this.nodeBoundFix(t,i)}},{key:"nodeBoundFix",value:function(e,t){var i=e._orig||o.Utils.copyPos({},e);return e.maxW&&(e.w=Math.min(e.w,e.maxW)),e.maxH&&(e.h=Math.min(e.h,e.maxH)),e.minW&&e.minW<=this.column&&(e.w=Math.max(e.w,e.minW)),e.minH&&(e.h=Math.max(e.h,e.minH)),e.w>this.column?(this.column<12&&!this._inColumnResize&&(e.w=Math.min(12,e.w),this.cacheOneLayout(e,12)),e.w=this.column):e.w<1&&(e.w=1),this.maxRow&&e.h>this.maxRow?e.h=this.maxRow:e.h<1&&(e.h=1),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.w>this.column&&(t?e.w=this.column-e.x:e.x=this.column-e.w),this.maxRow&&e.y+e.h>this.maxRow&&(t?e.h=this.maxRow-e.y:e.y=this.maxRow-e.h),o.Utils.samePos(e,i)||(e._dirty=!0),e}},{key:"getDirtyNodes",value:function(e){return e?this.nodes.filter((function(e){return e._dirty&&!o.Utils.samePos(e,e._orig)})):this.nodes.filter((function(e){return e._dirty}))}},{key:"_notify",value:function(e){if(this.batchMode||!this.onChange)return this;var t=(e||[]).concat(this.getDirtyNodes());return this.onChange(t),this}},{key:"cleanNodes",value:function(){return this.batchMode||this.nodes.forEach((function(e){delete e._dirty,delete e._lastTried})),this}},{key:"saveInitial",value:function(){return this.nodes.forEach((function(e){e._orig=o.Utils.copyPos({},e),delete e._dirty})),this._hasLocked=this.nodes.some((function(e){return e.locked})),this}},{key:"restoreInitial",value:function(){return this.nodes.forEach((function(e){o.Utils.samePos(e,e._orig)||(o.Utils.copyPos(e,e._orig),e._dirty=!0)})),this._notify(),this}},{key:"addNode",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.nodes.find((function(t){return t._id===e._id}));if(n)return n;if(delete(e=this._inColumnResize?this.nodeBoundFix(e):this.prepareNode(e))._temporaryRemoved,delete e._removeDOM,e.autoPosition){this.sortNodes();for(var r=function(i){var n=i%t.column,r=Math.floor(i/t.column);if(n+e.w>t.column)return"continue";var s={x:n,y:r,w:e.w,h:e.h};return t.nodes.find((function(e){return o.Utils.isIntercepted(s,e)}))?void 0:(e.x=n,e.y=r,delete e.autoPosition,"break")},s=0;;++s){var a=r(s);if("continue"!==a&&"break"===a)break}}return this.nodes.push(e),i&&this.addedNodes.push(e),this._fixCollisions(e),this.batchMode||this._packNodes()._notify(),e}},{key:"removeNode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.nodes.find((function(t){return t===e}))?(i&&this.removedNodes.push(e),t&&(e._removeDOM=!0),this.nodes=this.nodes.filter((function(t){return t!==e})),this._packNodes()._notify([e])):this}},{key:"removeAll",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return delete this._layouts,0===this.nodes.length?this:(e&&this.nodes.forEach((function(e){return e._removeDOM=!0})),this.removedNodes=this.nodes,this.nodes=[],this._notify(this.removedNodes))}},{key:"moveNodeCheck",value:function(t,i){var n,r=this;if(!this.changedPosConstrain(t,i))return!1;if(i.pack=!0,!this.maxRow)return this.moveNode(t,i);var s=new e({column:this.column,float:this.float,nodes:this.nodes.map((function(e){return e===t?n=Object.assign({},e):Object.assign({},e)}))});if(!n)return!1;var a=s.moveNode(n,i)&&s.getRow()<=this.maxRow;if(!a&&!i.resizing){var l=this.collide(t,i);if(l&&this.swap(t,l))return this._notify(),!0}return!!a&&(s.nodes.filter((function(e){return e._dirty})).forEach((function(e){var t=r.nodes.find((function(t){return t._id===e._id}));t&&(o.Utils.copyPos(t,e),t._dirty=!0)})),this._notify(),!0)}},{key:"willItFit",value:function(t){if(delete t._willFitPos,!this.maxRow)return!0;var i=new e({column:this.column,float:this.float,nodes:this.nodes.map((function(e){return Object.assign({},e)}))}),n=Object.assign({},t);return this.cleanupNode(n),delete n.el,delete n._id,delete n.content,delete n.grid,i.addNode(n),i.getRow()<=this.maxRow&&(t._willFitPos=o.Utils.copyPos({},n),!0)}},{key:"changedPosConstrain",value:function(e,t){return t.w=t.w||e.w,t.h=t.h||e.h,e.x!==t.x||e.y!==t.y||(e.maxW&&(t.w=Math.min(t.w,e.maxW)),e.maxH&&(t.h=Math.min(t.h,e.maxH)),e.minW&&(t.w=Math.max(t.w,e.minW)),e.minH&&(t.h=Math.max(t.h,e.minH)),e.w!==t.w||e.h!==t.h)}},{key:"moveNode",value:function(e,t){if(!e||!t)return!1;void 0===t.pack&&(t.pack=!0),"number"!==typeof t.x&&(t.x=e.x),"number"!==typeof t.y&&(t.y=e.y),"number"!==typeof t.w&&(t.w=e.w),"number"!==typeof t.h&&(t.h=e.h);var i=e.w!==t.w||e.h!==t.h,n=o.Utils.copyPos({},e,!0);if(o.Utils.copyPos(n,t),n=this.nodeBoundFix(n,i),o.Utils.copyPos(t,n),o.Utils.samePos(e,t))return!1;var r=o.Utils.copyPos({},e),s=this.collideAll(e,n,t.skip),a=!0;if(s.length){var l=e._moving&&!t.nested?this.collideCoverage(e,t,s):s[0];a=!!l&&!this._fixCollisions(e,n,l,t)}return a&&(e._dirty=!0,o.Utils.copyPos(e,n)),t.pack&&this._packNodes()._notify(),!o.Utils.samePos(e,r)}},{key:"getRow",value:function(){return this.nodes.reduce((function(e,t){return Math.max(e,t.y+t.h)}),0)}},{key:"beginUpdate",value:function(e){return e._updating||(e._updating=!0,delete e._skipDown,this.batchMode||this.saveInitial()),this}},{key:"endUpdate",value:function(){var e=this.nodes.find((function(e){return e._updating}));return e&&(delete e._updating,delete e._skipDown),this}},{key:"save",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=null===(e=this._layouts)||void 0===e?void 0:e.length,n=i&&this.column!==i-1?this._layouts[i-1]:null,r=[];return this.sortNodes(),this.nodes.forEach((function(e){var i=null===n||void 0===n?void 0:n.find((function(t){return t._id===e._id})),o=Object.assign({},e);for(var s in i&&(o.x=i.x,o.y=i.y,o.w=i.w),o)"_"!==s[0]&&null!==o[s]&&void 0!==o[s]||delete o[s];delete o.grid,t||delete o.el,o.autoPosition||delete o.autoPosition,o.noResize||delete o.noResize,o.noMove||delete o.noMove,o.locked||delete o.locked,r.push(o)})),r}},{key:"layoutsNodesChange",value:function(e){var t=this;return!this._layouts||this._inColumnResize||this._layouts.forEach((function(i,n){if(!i||n===t.column)return t;if(n<t.column)t._layouts[n]=void 0;else{var r=n/t.column;e.forEach((function(e){if(e._orig){var t=i.find((function(t){return t._id===e._id}));t&&(e.y!==e._orig.y&&(t.y+=e.y-e._orig.y),e.x!==e._orig.x&&(t.x=Math.round(e.x*r)),e.w!==e._orig.w&&(t.w=Math.round(e.w*r)))}}))}})),this}},{key:"updateNodeWidths",value:function(e,t,i){var n,r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"moveScale";if(!this.nodes.length||!t||e===t)return this;this.cacheLayout(this.nodes,e),this.batchUpdate();var a=[],l=!1;if(1===t&&(null===i||void 0===i?void 0:i.length)){l=!0;var u=0;i.forEach((function(e){e.x=0,e.w=1,e.y=Math.max(e.y,u),u=e.y+e.h})),a=i,i=[]}else i=o.Utils.sort(this.nodes,-1,e);var c=[];if(t>e){c=this._layouts[t]||[];var d=this._layouts.length-1;!c.length&&e!==d&&(null===(n=this._layouts[d])||void 0===n?void 0:n.length)&&(e=d,this._layouts[d].forEach((function(e){var t=i.find((function(t){return t._id===e._id}));t&&(t.x=e.x,t.y=e.y,t.w=e.w)})))}if(c.forEach((function(e){var t=i.findIndex((function(t){return t._id===e._id}));-1!==t&&(i[t].x=e.x,i[t].y=e.y,i[t].w=e.w,a.push(i[t]),i.splice(t,1))})),i.length)if("function"===typeof s)s(t,e,a,i);else if(!l){var h=t/e,f="move"===s||"moveScale"===s,p="scale"===s||"moveScale"===s;i.forEach((function(i){i.x=1===t?0:f?Math.round(i.x*h):Math.min(i.x,t-1),i.w=1===t||1===e?1:p?Math.round(i.w*h)||1:Math.min(i.w,t),a.push(i)})),i=[]}return a=o.Utils.sort(a,-1,t),this._inColumnResize=!0,this.nodes=[],a.forEach((function(e){r.addNode(e,!1),delete e._orig})),this.commit(),delete this._inColumnResize,this}},{key:"cacheLayout",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];return t.forEach((function(t,i){t._id=t._id||e._idSeq++,r[i]={x:t.x,y:t.y,w:t.w,_id:t._id}})),this._layouts=n?[]:this._layouts||[],this._layouts[i]=r,this}},{key:"cacheOneLayout",value:function(t,i){t._id=t._id||e._idSeq++;var n={x:t.x,y:t.y,w:t.w,_id:t._id};this._layouts=this._layouts||[],this._layouts[i]=this._layouts[i]||[];var r=this._layouts[i].findIndex((function(e){return e._id===t._id}));return-1===r?this._layouts[i].push(n):this._layouts[i][r]=n,this}},{key:"cleanupNode",value:function(e){for(var t in e)"_"===t[0]&&"_id"!==t&&delete e[t];return this}}],i&&r(t.prototype,i),s&&r(t,s),e}();t.GridStackEngine=s,s._idSeq=1},357:function(e,t,i){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=u(e);if(t){var r=u(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return l(this,i)}}function l(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.GridStackDD=void 0;var c=i(160),d=i(165),h=i(81),f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,i,n,l=a(u);function u(){return r(this,u),l.apply(this,arguments)}return t=u,n=[{key:"get",value:function(){return c.GridStackDDI.get()}}],(i=[{key:"remove",value:function(e){return this.draggable(e,"destroy").resizable(e,"destroy"),e.gridstackNode&&delete e.gridstackNode._initDD,this}}])&&o(t.prototype,i),n&&o(t,n),u}(c.GridStackDDI);function p(e,t){var i=e?e.gridstackNode:void 0;i&&i.grid&&(t?i._isAboutToRemove=!0:delete i._isAboutToRemove,t?e.classList.add("grid-stack-item-removing"):e.classList.remove("grid-stack-item-removing"))}t.GridStackDD=f,d.GridStack.prototype._setupAcceptWidget=function(){var e,t,i=this;if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return f.get().droppable(this.el,"destroy"),this;var n=function(n,r,o){var s=r.gridstackNode;if(s){o=o||r;var a=i.el.getBoundingClientRect(),l=o.getBoundingClientRect(),u=l.top,c=l.left;c-=a.left;var d={position:{top:u-=a.top,left:c}};if(s._temporaryRemoved){if(s.x=Math.max(0,Math.round(c/t)),s.y=Math.max(0,Math.round(u/e)),delete s.autoPosition,i.engine.nodeBoundFix(s),!i.engine.willItFit(s)){if(s.autoPosition=!0,!i.engine.willItFit(s))return void f.get().off(r,"drag");s._willFitPos&&(h.Utils.copyPos(s,s._willFitPos),delete s._willFitPos)}i._onStartMoving(o,n,d,s,t,e)}else i._dragOrResize(o,n,d,s,t,e)}};return f.get().droppable(this.el,{accept:function(e){var t=e.gridstackNode;if((null===t||void 0===t?void 0:t.grid)===i)return!0;if(!i.opts.acceptWidgets)return!1;if(null===t||void 0===t?void 0:t.subGrid)return!1;var n=!0;if("function"===typeof i.opts.acceptWidgets)n=i.opts.acceptWidgets(e);else{var r=!0===i.opts.acceptWidgets?".grid-stack-item":i.opts.acceptWidgets;n=e.matches(r)}if(n&&t&&i.opts.maxRow){var o={w:t.w,h:t.h,minW:t.minW,minH:t.minH};n=i.engine.willItFit(o)}return n}}).on(this.el,"dropover",(function(r,o,s){var a=o.gridstackNode;if((null===a||void 0===a?void 0:a.grid)===i&&!a._temporaryRemoved)return!1;(null===a||void 0===a?void 0:a.grid)&&a.grid!==i&&!a._temporaryRemoved&&a.grid._leave(o,s);t=i.cellWidth(),e=i.getCellHeight(!0),a||(a=i._readAttr(o)),a.grid||(a._isExternal=!0,o.gridstackNode=a),s=s||o;var l=a.w||Math.round(s.offsetWidth/t)||1,u=a.h||Math.round(s.offsetHeight/e)||1;return a.grid&&a.grid!==i?(o._gridstackNodeOrig||(o._gridstackNodeOrig=a),o.gridstackNode=a=Object.assign(Object.assign({},a),{w:l,h:u,grid:i}),i.engine.cleanupNode(a).nodeBoundFix(a),a._initDD=a._isExternal=a._temporaryRemoved=!0):(a.w=l,a.h=u,a._temporaryRemoved=!0),p(a.el,!1),f.get().on(o,"drag",n),n(r,o,s),!1})).on(this.el,"dropout",(function(e,t,n){var r=t.gridstackNode;return!!r&&(r.grid&&r.grid!==i||i._leave(t,n),!1)})).on(this.el,"drop",(function(e,t,n){var r=t.gridstackNode;if((null===r||void 0===r?void 0:r.grid)===i&&!r._isExternal)return!1;var o=!!i.placeholder.parentElement;i.placeholder.remove();var s=t._gridstackNodeOrig;if(delete t._gridstackNodeOrig,o&&s&&s.grid&&s.grid!==i){var a=s.grid;a.engine.removedNodes.push(s),a._triggerRemoveEvent()}return!!r&&(o&&(i.engine.cleanupNode(r),r.grid=i),f.get().off(t,"drag"),n!==t?(n.remove(),t.gridstackNode=s,o&&(t=t.cloneNode(!0))):(t.remove(),f.get().remove(t)),!!o&&(t.gridstackNode=r,r.el=t,h.Utils.copyPos(r,i._readAttr(i.placeholder)),h.Utils.removePositioningStyles(t),i._writeAttr(t,r),i.el.appendChild(t),i._updateContainerHeight(),i.engine.addedNodes.push(r),i._triggerAddEvent(),i._triggerChangeEvent(),i.engine.endUpdate(),i._gsEventHandler.dropped&&i._gsEventHandler.dropped(Object.assign(Object.assign({},e),{type:"dropped"}),s&&s.grid?s:void 0,r),window.setTimeout((function(){r.el&&r.el.parentElement?i._prepareDragDropByNode(r):i.engine.removeNode(r)})),!1))})),this},d.GridStack.prototype._setupRemoveDrop=function(){if(!this.opts.staticGrid&&"string"===typeof this.opts.removable){var e=document.querySelector(this.opts.removable);if(!e)return this;f.get().isDroppable(e)||f.get().droppable(e,this.opts.removableOptions).on(e,"dropover",(function(e,t){return p(t,!0)})).on(e,"dropout",(function(e,t){return p(t,!1)}))}return this},d.GridStack.setupDragIn=function(e,t){var i,n;if(e&&(i=e,n=Object.assign(Object.assign({},{revert:"invalid",handle:".grid-stack-item-content",scroll:!1,appendTo:"body"}),t||{})),"string"===typeof i){var r=f.get();h.Utils.getElements(i).forEach((function(e){r.isDraggable(e)||r.dragIn(e,n)}))}},d.GridStack.prototype._prepareDragDropByNode=function(e){var t=this,i=e.el,n=f.get();if(this.opts.staticGrid||(e.noMove||this.opts.disableDrag)&&(e.noResize||this.opts.disableResize))return e._initDD&&(n.remove(i),delete e._initDD),i.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!e._initDD){var r,o,s=function(n,s){t._gsEventHandler[n.type]&&t._gsEventHandler[n.type](n,n.target),r=t.cellWidth(),o=t.getCellHeight(!0),t._onStartMoving(i,n,s,e,r,o)},a=function(n,s){t._dragOrResize(i,n,s,e,r,o)},l=function(r){t.placeholder.remove(),delete e._moving,delete e._lastTried;var o=r.target;if(o.gridstackNode&&o.gridstackNode.grid===t){if(e.el=o,e._isAboutToRemove){var s=i.gridstackNode.grid;s._gsEventHandler[r.type]&&s._gsEventHandler[r.type](r,o),n.remove(i),s.engine.removedNodes.push(e),s._triggerRemoveEvent(),delete i.gridstackNode,delete e.el,i.remove()}else e._temporaryRemoved?(h.Utils.removePositioningStyles(o),h.Utils.copyPos(e,e._orig),t._writePosAttr(o,e),t.engine.addNode(e)):(h.Utils.removePositioningStyles(o),t._writePosAttr(o,e)),t._gsEventHandler[r.type]&&t._gsEventHandler[r.type](r,o);t._extraDragRow=0,t._updateContainerHeight(),t._triggerChangeEvent(),t.engine.endUpdate()}};n.draggable(i,{start:s,stop:l,drag:a}).resizable(i,{start:s,stop:l,resize:a}),e._initDD=!0}return e.noMove||this.opts.disableDrag?(n.draggable(i,"disable"),i.classList.add("ui-draggable-disabled")):(n.draggable(i,"enable"),i.classList.remove("ui-draggable-disabled")),e.noResize||this.opts.disableResize?(n.resizable(i,"disable"),i.classList.add("ui-resizable-disabled")):(n.resizable(i,"enable"),i.classList.remove("ui-resizable-disabled")),this},d.GridStack.prototype._onStartMoving=function(e,t,i,n,r,o){if(this.engine.cleanNodes().beginUpdate(n),this._writePosAttr(this.placeholder,n),this.el.appendChild(this.placeholder),n.el=this.placeholder,n._lastUiPosition=i.position,n._prevYPix=i.position.top,n._moving="dragstart"===t.type,delete n._lastTried,"dropover"===t.type&&n._temporaryRemoved&&(this.engine.addNode(n),n._moving=!0),this.engine.cacheRects(r,o,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),"resizestart"===t.type){var s=f.get().resizable(e,"option","minWidth",r*(n.minW||1)).resizable(e,"option","minHeight",o*(n.minH||1));n.maxW&&s.resizable(e,"option","maxWidth",r*n.maxW),n.maxH&&s.resizable(e,"option","maxHeight",o*n.maxH)}},d.GridStack.prototype._leave=function(e,t){var i=e.gridstackNode;i&&(f.get().off(e,"drag"),i._temporaryRemoved||(i._temporaryRemoved=!0,this.engine.removeNode(i),i.el=i._isExternal&&t?t:e,!0===this.opts.removable&&p(e,!0),e._gridstackNodeOrig?(e.gridstackNode=e._gridstackNodeOrig,delete e._gridstackNodeOrig):i._isExternal&&(delete i.el,delete e.gridstackNode,this.engine.restoreInitial())))},d.GridStack.prototype._dragOrResize=function(e,t,i,n,r,o){var s,a=Object.assign({},n._orig),l=this.opts.marginLeft,u=this.opts.marginRight,c=this.opts.marginTop,d=this.opts.marginBottom,f=Math.round(.1*o),p=Math.round(.1*r);if(l=Math.min(l,p),u=Math.min(u,p),c=Math.min(c,f),d=Math.min(d,f),"drag"===t.type){if(n._temporaryRemoved)return;var g=i.position.top-n._prevYPix;n._prevYPix=i.position.top,h.Utils.updateScrollPosition(e,i.position,g);var v=i.position.left+(i.position.left>n._lastUiPosition.left?-u:l),m=i.position.top+(i.position.top>n._lastUiPosition.top?-d:c);a.x=Math.round(v/r),a.y=Math.round(m/o);var y=this._extraDragRow;if(this.engine.collide(n,a)){var b=this.getRow(),_=Math.max(0,a.y+n.h-b);this.opts.maxRow&&b+_>this.opts.maxRow&&(_=Math.max(0,this.opts.maxRow-b)),this._extraDragRow=_}else this._extraDragRow=0;if(this._extraDragRow!==y&&this._updateContainerHeight(),n.x===a.x&&n.y===a.y)return}else if("resize"===t.type){if(a.x<0)return;if(h.Utils.updateScrollResize(t,e,o),a.w=Math.round((i.size.width-l)/r),a.h=Math.round((i.size.height-c)/o),n.w===a.w&&n.h===a.h)return;if(n._lastTried&&n._lastTried.w===a.w&&n._lastTried.h===a.h)return;var w=i.position.left+l,k=i.position.top+c;a.x=Math.round(w/r),a.y=Math.round(k/o),s=!0}n._lastTried=a;var E={x:i.position.left+l,y:i.position.top+c,w:(i.size?i.size.width:n.w*r)-l-u,h:(i.size?i.size.height:n.h*o)-c-d};if(this.engine.moveNodeCheck(n,Object.assign(Object.assign({},a),{cellWidth:r,cellHeight:o,rect:E,resizing:s}))){n._lastUiPosition=i.position,this.engine.cacheRects(r,o,c,u,d,l),delete n._skipDown,s&&n.subGrid&&n.subGrid.onParentResize(),this._extraDragRow=0,this._updateContainerHeight();var D=t.target;this._writePosAttr(D,n),this._gsEventHandler[t.type]&&this._gsEventHandler[t.type](t,D)}},d.GridStack.prototype.movable=function(e,t){var i=this;return this.opts.staticGrid||d.GridStack.getElements(e).forEach((function(e){var n=e.gridstackNode;n&&(t?delete n.noMove:n.noMove=!0,i._prepareDragDropByNode(n))})),this},d.GridStack.prototype.resizable=function(e,t){var i=this;return this.opts.staticGrid||d.GridStack.getElements(e).forEach((function(e){var n=e.gridstackNode;n&&(t?delete n.noResize:n.noResize=!0,i._prepareDragDropByNode(n))})),this},d.GridStack.prototype.disable=function(){if(!this.opts.staticGrid)return this.enableMove(!1),this.enableResize(!1),this._triggerEvent("disable"),this},d.GridStack.prototype.enable=function(){if(!this.opts.staticGrid)return this.enableMove(!0),this.enableResize(!0),this._triggerEvent("enable"),this},d.GridStack.prototype.enableMove=function(e){var t=this;return this.opts.staticGrid||(this.opts.disableDrag=!e,this.engine.nodes.forEach((function(i){return t.movable(i.el,e)}))),this},d.GridStack.prototype.enableResize=function(e){var t=this;return this.opts.staticGrid||(this.opts.disableResize=!e,this.engine.nodes.forEach((function(i){return t.resizable(i.el,e)}))),this}},599:function(e,t,i){"use strict";i.r(t);i(600),i(601);var n=i(165),r=(i(603),i(69));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var c=window.matchMedia("(max-width: 40em)"),d=window.matchMedia("(min-width: 40em) and (max-width: 75em)"),h=window.matchMedia("(min-width: 75em)");function f(e){return(t=e,Array.from(t.querySelectorAll(".widget__cover-controls .widget-btn")))[0].closest(".widget__cover-controls");var t}document.addEventListener("DOMContentLoaded",(function(){var e={column:3,cellHeight:window.cover_row_height(),margin:window.cover_row_height()/2,animate:!1,resizable:{handles:"e, se, s, sw, w"},disableDrag:!0,disableResize:!0,disableOneColumnMode:!0,draggable:{scroll:!0,handle:".grid-item-handle"},minWidth:630};window.grid=n.GridStack.init(e),c.matches&&window.grid.column(1,"moveScale"),window.grid.on("change",m),window.grid.on("dragstop",v)}));var p=!1,g=null;function v(e){p=!0,g=e.target}function m(e,t){if(document.getElementById("edit-cover").checked){$.ajax({type:"PATCH",url:"/widgets/grid",data:{widgets:t.reduce((function(e,t){var i=t.el.children[0];return e[i.dataset.proxyId||i.getAttribute("id").split("_").pop()]={column:t.x,row:t.y,columns:t.w,rows:t.h},e}),{})}})}}var y=0,b=null,_=null,w=null;function k(){return document.querySelector(".overlay.d-block")}function E(){return document.querySelector("#edit-cover")}var D={clickOutsideDeactivates:!0,escapeDeactivates:!1,onPostActivate:function(){if(!k()){y=0,_=null;var e=E();e&&$(e).focus()}}};function x(){if(E()){var e=function(){var e=Array.from(document.querySelectorAll(".widget__cover-controls")),t=e.map((function(e){var t=e.closest(".grid-stack-item").dataset;return{col:Number.parseInt(t.gsX),row:Number.parseInt(t.gsY)}}));return e.sort((function(i,n){if(i===n)return 0;var r=t[e.indexOf(i)],o=t[e.indexOf(n)];return r.row<o.row?-1:r.row>o.row?1:r.col<o.col?-1:r.col>o.col?1:0})),e}(),t=[document.querySelector(".cover_menu")].concat(l(e)),i=t[y]?y:0,n=t[i],r=n?Array.from(n.querySelectorAll("input, a, .widget-btn")):[];return{widgetPanels:e,allPanels:t,currentPanel:n,currentIndex:i,panelButtons:r}}return{}}function S(e){if(k()&&_){document.querySelectorAll("div.widget-btn").forEach((function(e){e.setAttribute("tabindex","0")}));var t=x();if(0!==t.widgetPanels.length&&t.panelButtons.includes(e.target)){var i=0;if("Tab"===_&&t.panelButtons[t.panelButtons.length-1]===e.target&&(i=1),"Shift+Tab"===_&&t.panelButtons[0]===e.target&&(i=-1),0!==i){y=(y+i+t.allPanels.length)%t.allPanels.length;var n=x(),o=1===i?n.panelButtons[0]:n.panelButtons[n.panelButtons.length-1],a=s(s({},D),{},{initialFocus:o});r.a.trapFocus(n.currentPanel,a)}}}}function O(e){e.shiftKey&&"Shift"===e.key||(_=e.shiftKey?"Shift+"+e.key:e.key)}function R(e){var t=E();t&&t.checked&&"Escape"===_&&(r.a.releaseFocus(),y=0,_=null,t.click(),$(t).focus())}function C(){var e=document.querySelector(".widgets.grid-stack");w&&w.disconnect(),e&&(w=new MutationObserver((function(e){if(e[0].removedNodes.length>0){var t=x();if(p&&(n=t.allPanels,o=g,y=Array.from(n).indexOf(f(o)),t=x(),b=t.panelButtons[0],p=!1),t.currentPanel&&t.panelButtons.length>0){null===b&&(b=t.panelButtons[t.panelButtons.length-1]),y=t.currentIndex;var i=s(s({},D),{},{initialFocus:b});b=null,r.a.trapFocus(t.currentPanel,i)}}var n,o}))).observe(e,{childList:!0})}$(document).on("ajax:success",".widget__cover-controls .archive[data-remote]",(function(e){var t=e.currentTarget.closest(".grid-stack-item");window.grid.removeWidget(t)})),$(document).on("change","#edit-cover",(function(e){var t=document.getElementById("maintain-cover"),i=document.getElementById("add-widget-modal");t&&t.classList.toggle("d-none"),i&&i.classList.toggle("d-none");var n=Array.from(document.querySelectorAll(".widgets .widget")),r=this.checked,o=r?"hidden":"auto";n.forEach((function(e){var t=e.querySelector(".widget__cover-controls");if(t&&t.classList.toggle("d-none"),e.style.overflowY=o,r){var i=document.createElement("div");i.className="overlay d-block",e.appendChild(i)}else{var n=e.querySelector(".overlay");n&&e.removeChild(n)}}));var s=window.grid,a=function(){var e={};c.matches?e={draggable:!1,resizable:!1}:d.matches?e={draggable:!0,resizable:!1}:h.matches&&(e={draggable:!0,resizable:!0});return e}();s.opts.disableResize=!1,s.resizable(".grid-stack-item:not([gs-no-resize=true])",r&&a.resizable),s.enableMove(r&&a.draggable),$(".grid-stack-item .grid-item-handle").toggle(a.draggable)})),$(window).on("resize",(function(e){if(c.matches?window.grid.column(1,"moveScale"):window.grid.column(3),e.target instanceof Window){var t=document.getElementById("edit-cover");if(t.checked){t.checked=!1;var i=new Event("look",{bubbles:!0,cancelable:!1});t.dispatchEvent(i)}}})),window.addEventListener("load",(function(){E()&&(document.addEventListener("keydown",O),document.addEventListener("keyup",R),document.addEventListener("focusout",S),window.addEventListener("unload",(function(){w.disconnect()})),C())}))},600:function(e,t,i){},601:function(e,t,i){},602:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},603:function(e,t,i){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=c(e);if(t){var r=c(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return u(this,i)}}function u(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var d=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),h=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||d(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.GridStackDDNative=void 0;var f=i(161),p=i(604),g=i(357),v=i(81);h(i(357),t);var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,i,n,u=l(c);function c(){return o(this,c),u.apply(this,arguments)}return t=c,i=[{key:"resizable",value:function(e,t,i,n){return this._getDDElements(e).forEach((function(e){if("disable"===t||"enable"===t)e.ddResizable&&e.ddResizable[t]();else if("destroy"===t)e.ddResizable&&e.cleanResizable();else if("option"===t)e.setupResizable(r({},i,n));else{var o=e.el.gridstackNode.grid,s=e.el.getAttribute("gs-resize-handles")?e.el.getAttribute("gs-resize-handles"):o.opts.resizable.handles;e.setupResizable(Object.assign(Object.assign(Object.assign({},o.opts.resizable),{handles:s}),{start:t.start,stop:t.stop,resize:t.resize}))}})),this}},{key:"draggable",value:function(e,t,i,n){return this._getDDElements(e).forEach((function(e){if("disable"===t||"enable"===t)e.ddDraggable&&e.ddDraggable[t]();else if("destroy"===t)e.ddDraggable&&e.cleanDraggable();else if("option"===t)e.setupDraggable(r({},i,n));else{var o=e.el.gridstackNode.grid;e.setupDraggable(Object.assign(Object.assign({},o.opts.draggable),{containment:o.opts._isNested&&!o.opts.dragOut?o.el.parentElement:o.opts.draggable.containment||null,start:t.start,stop:t.stop,drag:t.drag}))}})),this}},{key:"dragIn",value:function(e,t){return this._getDDElements(e).forEach((function(e){return e.setupDraggable(t)})),this}},{key:"droppable",value:function(e,t,i,n){return"function"!==typeof t.accept||t._accept||(t._accept=t.accept,t.accept=function(e){return t._accept(e)}),this._getDDElements(e).forEach((function(e){"disable"===t||"enable"===t?e.ddDroppable&&e.ddDroppable[t]():"destroy"===t?e.ddDroppable&&e.cleanDroppable():"option"===t?e.setupDroppable(r({},i,n)):e.setupDroppable(t)})),this}},{key:"isDroppable",value:function(e){return!(!(e&&e.ddElement&&e.ddElement.ddDroppable)||e.ddElement.ddDroppable.disabled)}},{key:"isDraggable",value:function(e){return!(!(e&&e.ddElement&&e.ddElement.ddDraggable)||e.ddElement.ddDraggable.disabled)}},{key:"isResizable",value:function(e){return!(!(e&&e.ddElement&&e.ddElement.ddResizable)||e.ddElement.ddResizable.disabled)}},{key:"on",value:function(e,t,i){return this._getDDElements(e).forEach((function(e){return e.on(t,(function(e){i(e,f.DDManager.dragElement?f.DDManager.dragElement.el:e.target,f.DDManager.dragElement?f.DDManager.dragElement.helper:null)}))})),this}},{key:"off",value:function(e,t){return this._getDDElements(e).forEach((function(e){return e.off(t)})),this}},{key:"_getDDElements",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=v.Utils.getElements(e);if(!i.length)return[];var n=i.map((function(e){return e.ddElement||(t?p.DDElement.init(e):null)}));return t||n.filter((function(e){return e})),n}}],i&&s(t.prototype,i),n&&s(t,n),c}(g.GridStackDD);t.GridStackDDNative=m,g.GridStackDD.registerPlugin(m)},604:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.DDElement=void 0;var r=i(605),o=i(607),s=i(608),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t}var t,i,a;return t=e,a=[{key:"init",value:function(t){return t.ddElement||(t.ddElement=new e(t)),t.ddElement}}],(i=[{key:"on",value:function(e,t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.on(e,t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.on(e,t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.on(e,t),this}},{key:"off",value:function(e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.off(e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.off(e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.off(e),this}},{key:"setupDraggable",value:function(e){return this.ddDraggable?this.ddDraggable.updateOption(e):this.ddDraggable=new o.DDDraggable(this.el,e),this}},{key:"cleanDraggable",value:function(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}},{key:"setupResizable",value:function(e){return this.ddResizable?this.ddResizable.updateOption(e):this.ddResizable=new r.DDResizable(this.el,e),this}},{key:"cleanResizable",value:function(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}},{key:"setupDroppable",value:function(e){return this.ddDroppable?this.ddDroppable.updateOption(e):this.ddDroppable=new s.DDDroppable(this.el,e),this}},{key:"cleanDroppable",value:function(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}])&&n(t.prototype,i),a&&n(t,a),e}();t.DDElement=a},605:function(e,t,i){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}},s(e,t,i||e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=c(e);if(t){var r=c(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return u(this,i)}}function u(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DDResizable=void 0;var d=i(606),h=i(162),f=i(163),p=i(81),g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,i,n,u=l(h);function h(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,h),(t=u.call(this))._showHandlers=function(){t.el.classList.remove("ui-resizable-autohide")},t._hideHandlers=function(){t.el.classList.add("ui-resizable-autohide")},t._ui=function(){var e=t.el.parentElement.getBoundingClientRect(),i={width:t.originalRect.width,height:t.originalRect.height+t.scrolled,left:t.originalRect.left,top:t.originalRect.top-t.scrolled},n=t.temporalRect||i;return{position:{left:n.left-e.left,top:n.top-e.top},size:{width:n.width,height:n.height}}},t.el=e,t.option=i,t.enable(),t._setupAutoHide(),t._setupHandlers(),t}return t=h,(i=[{key:"on",value:function(e,t){s(c(h.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e){s(c(h.prototype),"off",this).call(this,e)}},{key:"enable",value:function(){s(c(h.prototype),"enable",this).call(this),this.el.classList.add("ui-resizable"),this.el.classList.remove("ui-resizable-disabled")}},{key:"disable",value:function(){s(c(h.prototype),"disable",this).call(this),this.el.classList.add("ui-resizable-disabled"),this.el.classList.remove("ui-resizable")}},{key:"destroy",value:function(){this._removeHandlers(),this.option.autoHide&&(this.el.removeEventListener("mouseover",this._showHandlers),this.el.removeEventListener("mouseout",this._hideHandlers)),this.el.classList.remove("ui-resizable"),delete this.el,s(c(h.prototype),"destroy",this).call(this)}},{key:"updateOption",value:function(e){var t=this,i=e.handles&&e.handles!==this.option.handles,n=e.autoHide&&e.autoHide!==this.option.autoHide;return Object.keys(e).forEach((function(i){return t.option[i]=e[i]})),i&&(this._removeHandlers(),this._setupHandlers()),n&&this._setupAutoHide(),this}},{key:"_setupAutoHide",value:function(){return this.option.autoHide?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._showHandlers),this.el.addEventListener("mouseout",this._hideHandlers)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._showHandlers),this.el.removeEventListener("mouseout",this._hideHandlers)),this}},{key:"_setupHandlers",value:function(){var e=this,t=this.option.handles||"e,s,se";return"all"===t&&(t="n,e,s,w,se,sw,ne,nw"),this.handlers=t.split(",").map((function(e){return e.trim()})).map((function(t){return new d.DDResizableHandle(e.el,t,{start:function(t){e._resizeStart(t)},stop:function(t){e._resizeStop(t)},move:function(i){e._resizing(i,t)}})})),this}},{key:"_resizeStart",value:function(e){this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=p.Utils.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=e,this._setupHelper(),this._applyChange();var t=f.DDUtils.initEvent(e,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(t,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",t),this}},{key:"_resizing",value:function(e,t){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(e,t),this._applyChange();var i=f.DDUtils.initEvent(e,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(i,this._ui()),this.triggerEvent("resize",i),this}},{key:"_resizeStop",value:function(e){var t=f.DDUtils.initEvent(e,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(t),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",t),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}},{key:"_setupHelper",value:function(){var e=this;return this.elOriginStyleVal=h._originStyleProp.map((function(t){return e.el.style[t]})),this.parentOriginStylePosition=this.el.parentElement.style.position,window.getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}},{key:"_cleanHelper",value:function(){var e=this;return h._originStyleProp.forEach((function(t,i){e.el.style[t]=e.elOriginStyleVal[i]||null})),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}},{key:"_getChange",value:function(e,t){var i=this.startEvent,n={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},r=e.clientX-i.clientX,o=e.clientY-i.clientY;t.indexOf("e")>-1?n.width+=r:t.indexOf("w")>-1&&(n.width-=r,n.left+=r),t.indexOf("s")>-1?n.height+=o:t.indexOf("n")>-1&&(n.height-=o,n.top+=o);var s=this._constrainSize(n.width,n.height);return Math.round(n.width)!==Math.round(s.width)&&(t.indexOf("w")>-1&&(n.left+=n.width-s.width),n.width=s.width),Math.round(n.height)!==Math.round(s.height)&&(t.indexOf("n")>-1&&(n.top+=n.height-s.height),n.height=s.height),n}},{key:"_constrainSize",value:function(e,t){var i=this.option.maxWidth||Number.MAX_SAFE_INTEGER,n=this.option.minWidth||e,r=this.option.maxHeight||Number.MAX_SAFE_INTEGER,o=this.option.minHeight||t;return{width:Math.min(i,Math.max(n,e)),height:Math.min(r,Math.max(o,t))}}},{key:"_applyChange",value:function(){var e=this,t={left:0,top:0,width:0,height:0};if("absolute"===this.el.style.position){var i=this.el.parentElement.getBoundingClientRect(),n=i.left,r=i.top;t={left:n,top:r,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach((function(i){var n=e.temporalRect[i];e.el.style[i]=n-t[i]+"px"})),this):this}},{key:"_removeHandlers",value:function(){return this.handlers.forEach((function(e){return e.destroy()})),delete this.handlers,this}}])&&o(t.prototype,i),n&&o(t,n),h}(h.DDBaseImplement);t.DDResizable=g,g._originStyleProp=["width","height","position","left","top","opacity","zIndex"]},606:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.DDResizableHandle=void 0;var r=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moving=!1,this.host=t,this.dir=i,this.option=n,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._init()}var t,i,r;return t=e,(i=[{key:"_init",value:function(){var t=document.createElement("div");return t.classList.add("ui-resizable-handle"),t.classList.add("".concat(e.prefix).concat(this.dir)),t.style.zIndex="100",t.style.userSelect="none",this.el=t,this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),this}},{key:"destroy",value:function(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),this.host.removeChild(this.el),delete this.el,delete this.host,this}},{key:"_mouseDown",value:function(e){e.preventDefault(),this.mouseDownEvent=e,document.addEventListener("mousemove",this._mouseMove,!0),document.addEventListener("mouseup",this._mouseUp)}},{key:"_mouseMove",value:function(e){var t=this.mouseDownEvent;!this.moving&&Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>2?(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent)):this.moving&&this._triggerEvent("move",e)}},{key:"_mouseUp",value:function(e){this.moving&&this._triggerEvent("stop",e),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp),delete this.moving,delete this.mouseDownEvent}},{key:"_triggerEvent",value:function(e,t){return this.option[e]&&this.option[e](t),this}}])&&n(t.prototype,i),r&&n(t,r),e}();t.DDResizableHandle=r,r.prefix="ui-resizable-"},607:function(e,t,i){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}},s(e,t,i||e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=d(e);if(t){var r=d(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return u(this,i)}}function u(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DDDraggable=void 0;var h=i(161),f=i(163),p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,i,n,u=l(p);function p(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,p),(t=u.call(this)).dragging=!1,t.ui=function(){var e=t.el.parentElement.getBoundingClientRect(),i=t.helper.getBoundingClientRect();return{position:{top:i.top-e.top,left:i.left-e.left}}},t.el=e,t.option=i;var n=i.handle.substring(1);return t.dragEl=e.classList.contains(n)?e:e.querySelector(i.handle)||e,t._dragStart=t._dragStart.bind(c(t)),t._drag=t._drag.bind(c(t)),t._dragEnd=t._dragEnd.bind(c(t)),t.enable(),t}return t=p,i=[{key:"on",value:function(e,t){s(d(p.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e){s(d(p.prototype),"off",this).call(this,e)}},{key:"enable",value:function(){s(d(p.prototype),"enable",this).call(this),this.dragEl.draggable=!0,this.dragEl.addEventListener("dragstart",this._dragStart),this.el.classList.remove("ui-draggable-disabled"),this.el.classList.add("ui-draggable")}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s(d(p.prototype),"disable",this).call(this),this.dragEl.removeAttribute("draggable"),this.dragEl.removeEventListener("dragstart",this._dragStart),this.el.classList.remove("ui-draggable"),e||this.el.classList.add("ui-draggable-disabled")}},{key:"destroy",value:function(){this.dragging&&this._dragEnd({}),this.disable(!0),delete this.el,delete this.helper,delete this.option,s(d(p.prototype),"destroy",this).call(this)}},{key:"updateOption",value:function(e){var t=this;return Object.keys(e).forEach((function(i){return t.option[i]=e[i]})),this}},{key:"_dragStart",value:function(e){var t=this;h.DDManager.dragElement=this,this.helper=this._createHelper(e),this._setupHelperContainmentStyle(),this.dragOffset=this._getDragOffset(e,this.el,this.helperContainment);var i=f.DDUtils.initEvent(e,{target:this.el,type:"dragstart"});this.helper!==this.el?(this._setupDragFollowNodeNotifyStart(i),this._dragFollow(e)):this.dragFollowTimer=window.setTimeout((function(){delete t.dragFollowTimer,t._setupDragFollowNodeNotifyStart(i)}),0),this._cancelDragGhost(e)}},{key:"_setupDragFollowNodeNotifyStart",value:function(e){return this._setupHelperStyle(),document.addEventListener("dragover",this._drag,p.dragEventListenerOption),this.dragEl.addEventListener("dragend",this._dragEnd),this.option.start&&this.option.start(e,this.ui()),this.dragging=!0,this.helper.classList.add("ui-draggable-dragging"),this.triggerEvent("dragstart",e),this}},{key:"_drag",value:function(e){e.preventDefault(),this._dragFollow(e);var t=f.DDUtils.initEvent(e,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(t,this.ui()),this.triggerEvent("drag",t)}},{key:"_dragEnd",value:function(e){if(this.dragFollowTimer)return clearTimeout(this.dragFollowTimer),void delete this.dragFollowTimer;this.paintTimer&&cancelAnimationFrame(this.paintTimer),document.removeEventListener("dragover",this._drag,p.dragEventListenerOption),this.dragEl.removeEventListener("dragend",this._dragEnd),this.dragging=!1,this.helper.classList.remove("ui-draggable-dragging"),this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();var t=f.DDUtils.initEvent(e,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(t),this.triggerEvent("dragstop",t),delete h.DDManager.dragElement,delete this.helper}},{key:"_createHelper",value:function(e){var t=this,i=this.el;return"function"===typeof this.option.helper?i=this.option.helper(e):"clone"===this.option.helper&&(i=f.DDUtils.clone(this.el)),document.body.contains(i)||f.DDUtils.appendTo(i,"parent"===this.option.appendTo?this.el.parentNode:this.option.appendTo),i===this.el&&(this.dragElementOriginStyle=p.originStyleProp.map((function(e){return t.el.style[e]}))),i}},{key:"_setupHelperStyle",value:function(){var e=this,t=this.helper.getBoundingClientRect(),i=this.helper.style;return i.pointerEvents="none",i["min-width"]=0,i.width=this.dragOffset.width+"px",i.height=this.dragOffset.height+"px",i.willChange="left, top",i.position="fixed",i.left=t.left+"px",i.top=t.top+"px",i.transition="none",setTimeout((function(){e.helper&&(i.transition=null)}),0),this}},{key:"_removeHelperStyle",value:function(){var e,t=this,i=null===(e=this.helper)||void 0===e?void 0:e.gridstackNode;if(this.dragElementOriginStyle&&(!i||!i._isAboutToRemove)){var n=this.helper;p.originStyleProp.forEach((function(e){return n.style[e]=t.dragElementOriginStyle[e]||null})),n.style.transition="none";var r=this.dragElementOriginStyle.transition||null;setTimeout((function(){return n.style.transition=r}),0)}return delete this.dragElementOriginStyle,this}},{key:"_dragFollow",value:function(e){var t=this;this.paintTimer&&cancelAnimationFrame(this.paintTimer),this.paintTimer=requestAnimationFrame((function(){delete t.paintTimer;var i=t.dragOffset,n={left:0,top:0};if("absolute"===t.helper.style.position){var r=t.helperContainment.getBoundingClientRect();n={left:r.left,top:r.top}}t.helper.style.left=e.clientX+i.offsetLeft-n.left+"px",t.helper.style.top=e.clientY+i.offsetTop-n.top+"px"}))}},{key:"_setupHelperContainmentStyle",value:function(){return this.helperContainment=this.helper.parentElement,"fixed"!==this.helper.style.position&&(this.parentOriginStylePosition=this.helperContainment.style.position,window.getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}},{key:"_cancelDragGhost",value:function(e){var t=document.createElement("div");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",document.body.appendChild(t),e.dataTransfer.setDragImage(t,0,0),setTimeout((function(){return document.body.removeChild(t)})),e.stopPropagation(),this}},{key:"_getDragOffset",value:function(e,t,i){var n=0,r=0;if(i){var o=document.createElement("div");f.DDUtils.addElStyles(o,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),i.appendChild(o);var s=o.getBoundingClientRect();i.removeChild(o),n=s.left,r=s.top}var a=t.getBoundingClientRect();return{left:a.left,top:a.top,offsetLeft:-e.clientX+a.left-n,offsetTop:-e.clientY+a.top-r,width:a.width,height:a.height}}}],i&&o(t.prototype,i),n&&o(t,n),p}(i(162).DDBaseImplement);t.DDDraggable=p,p.dragEventListenerOption=!0,p.originStyleProp=["transition","pointerEvents","position","left","top","opacity","zIndex","width","height","willChange","min-width"]},608:function(e,t,i){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}},s(e,t,i||e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=d(e);if(t){var r=d(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return u(this,i)}}function u(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DDDroppable=void 0;var h=i(161),f=i(162),p=i(163),g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,i,n,u=l(f);function f(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,f),(t=u.call(this)).el=e,t.option=i,t._dragEnter=t._dragEnter.bind(c(t)),t._dragOver=t._dragOver.bind(c(t)),t._dragLeave=t._dragLeave.bind(c(t)),t._drop=t._drop.bind(c(t)),t.el.classList.add("ui-droppable"),t.el.addEventListener("dragenter",t._dragEnter),t._setupAccept(),t}return t=f,i=[{key:"on",value:function(e,t){s(d(f.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e){s(d(f.prototype),"off",this).call(this,e)}},{key:"enable",value:function(){this.disabled&&(s(d(f.prototype),"enable",this).call(this),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("dragenter",this._dragEnter))}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(s(d(f.prototype),"disable",this).call(this),e||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("dragenter",this._dragEnter))}},{key:"destroy",value:function(){this._removeLeaveCallbacks(),this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),s(d(f.prototype),"destroy",this).call(this)}},{key:"updateOption",value:function(e){var t=this;return Object.keys(e).forEach((function(i){return t.option[i]=e[i]})),this._setupAccept(),this}},{key:"_dragEnter",value:function(e){if(this._canDrop()&&(e.preventDefault(),e.stopPropagation(),!this.moving)){this.moving=!0;var t=p.DDUtils.initEvent(e,{target:this.el,type:"dropover"});this.option.over&&this.option.over(t,this._ui(h.DDManager.dragElement)),this.triggerEvent("dropover",t),this.el.addEventListener("dragover",this._dragOver),this.el.addEventListener("drop",this._drop),this.el.addEventListener("dragleave",this._dragLeave),f.lastActive&&f.lastActive!==this&&f.lastActive._dragLeave(e,!0),f.lastActive=this}}},{key:"_dragOver",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_dragLeave",value:function(e,t){var i;if(e.preventDefault(),e.stopPropagation(),!t){var n=p.DDUtils.inside(e,this.el),r=h.DDManager.dragElement.el;if(n&&!(null===(i=r.gridstackNode)||void 0===i?void 0:i.subGrid)&&(n=!this.el.gridstack.engine.nodes.filter((function(e){return e.subGrid})).map((function(e){return e.subGrid.el})).some((function(t){return p.DDUtils.inside(e,t)}))),n)return}if(this.moving){var o=p.DDUtils.initEvent(e,{target:this.el,type:"dropout"});this.option.out&&this.option.out(o,this._ui(h.DDManager.dragElement)),this.triggerEvent("dropout",o)}this._removeLeaveCallbacks(),f.lastActive===this&&delete f.lastActive}},{key:"_drop",value:function(e){if(this.moving){e.preventDefault();var t=p.DDUtils.initEvent(e,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(t,this._ui(h.DDManager.dragElement)),this.triggerEvent("drop",t),this._removeLeaveCallbacks()}}},{key:"_removeLeaveCallbacks",value:function(){this.moving&&(delete this.moving,this.el.removeEventListener("dragover",this._dragOver),this.el.removeEventListener("drop",this._drop),this.el.removeEventListener("dragleave",this._dragLeave))}},{key:"_canDrop",value:function(){return h.DDManager.dragElement&&(!this.accept||this.accept(h.DDManager.dragElement.el))}},{key:"_setupAccept",value:function(){var e=this;return this.option.accept&&"string"===typeof this.option.accept?this.accept=function(t){return t.matches(e.option.accept)}:this.accept=this.option.accept,this}},{key:"_ui",value:function(e){return Object.assign({draggable:e.el},e.ui())}}],i&&o(t.prototype,i),n&&o(t,n),f}(f.DDBaseImplement);t.DDDroppable=g},69:function(e,t,i){"use strict";var n=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],r=n.join(","),o="undefined"===typeof Element,s=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=!o&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},l=function(e,t,i){var n=Array.prototype.slice.apply(e.querySelectorAll(r));return t&&s.call(e,r)&&n.unshift(e),n=n.filter(i)},u=function e(t,i,n){for(var o=[],a=Array.from(t);a.length;){var l=a.shift();if("SLOT"===l.tagName){var u=l.assignedElements(),c=e(u.length?u:l.children,!0,n);n.flatten?o.push.apply(o,c):o.push({scope:l,candidates:c})}else{s.call(l,r)&&n.filter(l)&&(i||!t.includes(l))&&o.push(l);var d=l.shadowRoot||"function"===typeof n.getShadowRoot&&n.getShadowRoot(l);if(d){var h=e(!0===d?l.children:d.children,!0,n);n.flatten?o.push.apply(o,h):o.push({scope:l,candidates:h})}else a.unshift.apply(a,l.children)}}return o},c=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},d=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},h=function(e){return"INPUT"===e.tagName},f=function(e){return function(e){return h(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,i=e.form||a(e),n=function(e){return i.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var r=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]}(t,e.form);return!r||r===e}(e)},p=function(e){var t=e.getBoundingClientRect(),i=t.width,n=t.height;return 0===i&&0===n},g=function(e,t){return!(t.disabled||function(e){return h(e)&&"hidden"===e.type}(t)||function(e,t){var i=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var r=s.call(e,"details>summary:first-of-type")?e.parentElement:e;if(s.call(r,"details:not([open]) *"))return!0;var o=a(e).host,l=(null===o||void 0===o?void 0:o.ownerDocument.contains(o))||e.ownerDocument.contains(e);if(i&&"full"!==i){if("non-zero-area"===i)return p(e)}else{if("function"===typeof n){for(var u=e;e;){var c=e.parentElement,d=a(e);if(c&&!c.shadowRoot&&!0===n(c))return p(e);e=e.assignedSlot?e.assignedSlot:c||d===e.ownerDocument?c:d.host}e=u}if(l)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var i=0;i<t.children.length;i++){var n=t.children.item(i);if("LEGEND"===n.tagName)return!!s.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1}(t))},v=function(e,t){return!(f(t)||c(t)<0||!g(e,t))},m=function e(t){var i=[],n=[];return t.forEach((function(t,r){var o=!!t.scope,s=o?t.scope:t,a=c(s,o),l=o?e(t.candidates):s;0===a?o?i.push.apply(i,l):i.push(s):n.push({documentOrder:r,tabIndex:a,item:t,isScope:o,content:l})})),n.sort(d).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(i)},y=function(e,t){var i;return i=(t=t||{}).getShadowRoot?u([e],t.includeContainer,{filter:v.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot}):l(e,t.includeContainer,v.bind(null,t)),m(i)},b=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==s.call(e,r)&&v(t,e)},_=n.concat("iframe").join(","),w=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==s.call(e,_)&&g(t,e)};function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){D(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function D(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var x,S,O=(x=[],{activateTrap:function(e){if(x.length>0){var t=x[x.length-1];t!==e&&t.pause()}var i=x.indexOf(e);-1===i||x.splice(i,1),x.push(e)},deactivateTrap:function(e){var t=x.indexOf(e);-1!==t&&x.splice(t,1),x.length>0&&x[x.length-1].unpause()}}),R=function(e){return setTimeout(e,0)},C=function(e,t){var i=-1;return e.every((function(e,n){return!t(e)||(i=n,!1)})),i},N=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return"function"===typeof e?e.apply(void 0,i):e},P=function(e){return e.target.shadowRoot&&"function"===typeof e.composedPath?e.composedPath()[0]:e.target},A=function(e,t){var i,n=(null===t||void 0===t?void 0:t.document)||document,r=E({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s=function(e,t,i){return e&&void 0!==e[t]?e[t]:r[i||t]},a=function(e){return o.containerGroups.findIndex((function(t){var i=t.container,n=t.tabbableNodes;return i.contains(e)||n.find((function(t){return t===e}))}))},c=function(e){var t=r[e];if("function"===typeof t){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var a=t;if("string"===typeof t&&!(a=n.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return a},d=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e)if(a(n.activeElement)>=0)e=n.activeElement;else{var t=o.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},h=function(){if(o.containerGroups=o.containers.map((function(e){var t,i,n=y(e,r.tabbableOptions),o=(t=e,(i=(i=r.tabbableOptions)||{}).getShadowRoot?u([t],i.includeContainer,{filter:g.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):l(t,i.includeContainer,g.bind(null,i)));return{container:e,tabbableNodes:n,focusableNodes:o,firstTabbableNode:n.length>0?n[0]:null,lastTabbableNode:n.length>0?n[n.length-1]:null,nextTabbableNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=o.findIndex((function(t){return t===e}));if(!(i<0))return t?o.slice(i+1).find((function(e){return b(e,r.tabbableOptions)})):o.slice(0,i).reverse().find((function(e){return b(e,r.tabbableOptions)}))}}})),o.tabbableGroups=o.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function e(t){!1!==t&&t!==n.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!r.preventScroll}),o.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select}(t)&&t.select()):e(d()))},p=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},v=function(e){var t=P(e);a(t)>=0||(N(r.clickOutsideDeactivates,e)?i.deactivate({returnFocus:r.returnFocusOnDeactivate&&!w(t,r.tabbableOptions)}):N(r.allowOutsideClick,e)||e.preventDefault())},m=function(e){var t=P(e),i=a(t)>=0;i||t instanceof Document?i&&(o.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),f(o.mostRecentlyFocusedNode||d()))},_=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==N(r.escapeDeactivates,e))return e.preventDefault(),void i.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){var t=P(e);h();var i=null;if(o.tabbableGroups.length>0){var n=a(t),s=n>=0?o.containerGroups[n]:void 0;if(n<0)i=e.shiftKey?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var l=C(o.tabbableGroups,(function(e){var i=e.firstTabbableNode;return t===i}));if(l<0&&(s.container===t||w(t,r.tabbableOptions)&&!b(t,r.tabbableOptions)&&!s.nextTabbableNode(t,!1))&&(l=n),l>=0){var u=0===l?o.tabbableGroups.length-1:l-1;i=o.tabbableGroups[u].lastTabbableNode}}else{var d=C(o.tabbableGroups,(function(e){var i=e.lastTabbableNode;return t===i}));if(d<0&&(s.container===t||w(t,r.tabbableOptions)&&!b(t,r.tabbableOptions)&&!s.nextTabbableNode(t))&&(d=n),d>=0){var p=d===o.tabbableGroups.length-1?0:d+1;i=o.tabbableGroups[p].firstTabbableNode}}}else i=c("fallbackFocus");i&&(e.preventDefault(),f(i))}(e)},k=function(e){var t=P(e);a(t)>=0||N(r.clickOutsideDeactivates,e)||N(r.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},D=function(){if(o.active)return O.activateTrap(i),o.delayInitialFocusTimer=r.delayInitialFocus?R((function(){f(d())})):f(d()),n.addEventListener("focusin",m,!0),n.addEventListener("mousedown",v,{capture:!0,passive:!1}),n.addEventListener("touchstart",v,{capture:!0,passive:!1}),n.addEventListener("click",k,{capture:!0,passive:!1}),n.addEventListener("keydown",_,{capture:!0,passive:!1}),i},x=function(){if(o.active)return n.removeEventListener("focusin",m,!0),n.removeEventListener("mousedown",v,!0),n.removeEventListener("touchstart",v,!0),n.removeEventListener("click",k,!0),n.removeEventListener("keydown",_,!0),i};return(i={get active(){return o.active},get paused(){return o.paused},activate:function(e){if(o.active)return this;var t=s(e,"onActivate"),i=s(e,"onPostActivate"),r=s(e,"checkCanFocusTrap");r||h(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement,t&&t();var a=function(){r&&h(),D(),i&&i()};return r?(r(o.containers.concat()).then(a,a),this):(a(),this)},deactivate:function(e){if(!o.active)return this;var t=E({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},e);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,x(),o.active=!1,o.paused=!1,O.deactivateTrap(i);var n=s(t,"onDeactivate"),a=s(t,"onPostDeactivate"),l=s(t,"checkCanReturnFocus"),u=s(t,"returnFocus","returnFocusOnDeactivate");n&&n();var c=function(){R((function(){u&&f(p(o.nodeFocusedBeforeActivation)),a&&a()}))};return u&&l?(l(p(o.nodeFocusedBeforeActivation)).then(c,c),this):(c(),this)},pause:function(){return o.paused||!o.active||(o.paused=!0,x()),this},unpause:function(){return o.paused&&o.active?(o.paused=!1,h(),D(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return o.containers=t.map((function(e){return"string"===typeof e?n.querySelector(e):e})),o.active&&h(),this}}).updateContainerElements(e),i};function z(){S&&S.deactivate(),S=null}t.a={trapFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z(),e&&(S=A(e,t).activate())},releaseFocus:z}},81:function(e,t,i){"use strict";function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=t.obsoleteAttr=t.obsoleteOptsDel=t.obsoleteOpts=t.obsolete=void 0,t.obsolete=function(e,t,i,n,r){var o=function(){console.warn("gridstack.js: Function `"+i+"` is deprecated in "+r+" and has been replaced with `"+n+"`. It will be **completely** removed in v1.0");for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t.apply(e,s)};return o.prototype=t.prototype,o},t.obsoleteOpts=function(e,t,i,n){void 0!==e[t]&&(e[i]=e[t],console.warn("gridstack.js: Option `"+t+"` is deprecated in "+n+" and has been replaced with `"+i+"`. It will be **completely** removed in v1.0"))},t.obsoleteOptsDel=function(e,t,i,n){void 0!==e[t]&&console.warn("gridstack.js: Option `"+t+"` is deprecated in "+i+n)},t.obsoleteAttr=function(e,t,i,n){var r=e.getAttribute(t);null!==r&&(e.setAttribute(i,r),console.warn("gridstack.js: attribute `"+t+"`="+r+" is deprecated on this object in "+n+" and has been replaced with `"+i+"`. It will be **completely** removed in v1.0"))};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,r;return t=e,r=[{key:"getElements",value:function(e){if("string"===typeof e){var t=document.querySelectorAll(e);return t.length||"."===e[0]||"#"===e[0]||(t=document.querySelectorAll("."+e)).length||(t=document.querySelectorAll("#"+e)),Array.from(t)}return[e]}},{key:"getElement",value:function(e){if("string"===typeof e){if(!e.length)return null;if("#"===e[0])return document.getElementById(e.substring(1));if("."===e[0]||"["===e[0])return document.querySelector(e);if(!isNaN(+e[0]))return document.getElementById(e);var t=document.querySelector(e);return t||(t=document.getElementById(e)),t||(t=document.querySelector("."+e)),t}return e}},{key:"isIntercepted",value:function(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}},{key:"isTouching",value:function(t,i){return e.isIntercepted(t,{x:i.x-.5,y:i.y-.5,w:i.w+1,h:i.h+1})}},{key:"sort",value:function(e,t,i){return i=i||e.reduce((function(e,t){return Math.max(t.x+t.w,e)}),0)||12,-1===t?e.sort((function(e,t){return t.x+t.y*i-(e.x+e.y*i)})):e.sort((function(e,t){return e.x+e.y*i-(t.x+t.y*i)}))}},{key:"createStylesheet",value:function(e,t){var i=document.createElement("style");return i.setAttribute("type","text/css"),i.setAttribute("gs-style-id",e),i.styleSheet?i.styleSheet.cssText="":i.appendChild(document.createTextNode("")),t?t.insertBefore(i,t.firstChild):(t=document.getElementsByTagName("head")[0]).appendChild(i),i.sheet}},{key:"removeStylesheet",value:function(e){var t=document.querySelector("STYLE[gs-style-id="+e+"]");t&&t.parentNode&&t.remove()}},{key:"addCSSRule",value:function(e,t,i){"function"===typeof e.addRule?e.addRule(t,i):"function"===typeof e.insertRule&&e.insertRule("".concat(t,"{").concat(i,"}"))}},{key:"toBool",value:function(e){return"boolean"===typeof e?e:"string"===typeof e?!(""===(e=e.toLowerCase())||"no"===e||"false"===e||"0"===e):Boolean(e)}},{key:"toNumber",value:function(e){return null===e||0===e.length?void 0:Number(e)}},{key:"parseHeight",value:function(e){var t,i="px";if("string"===typeof e){var n=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!n)throw new Error("Invalid height");i=n[2]||"px",t=parseFloat(n[1])}else t=e;return{h:t,unit:i}}},{key:"defaults",value:function(e){for(var t=this,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n.forEach((function(i){for(var n in i){if(!i.hasOwnProperty(n))return;null===e[n]||void 0===e[n]?e[n]=i[n]:"object"===o(i[n])&&"object"===o(e[n])&&t.defaults(e[n],i[n])}})),e}},{key:"same",value:function(e,t){if("object"!==o(e))return e==t;if(o(e)!==o(t))return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e)if(e[i]!==t[i])return!1;return!0}},{key:"copyPos",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.x=t.x,e.y=t.y,e.w=t.w,e.h=t.h,i&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}},{key:"samePos",value:function(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&e.w===t.w&&e.h===t.h}},{key:"removeInternalAndSame",value:function(e,t){if("object"===o(e)&&"object"===o(t))for(var i in e){var n=e[i];if("_"===i[0]||n===t[i])delete e[i];else if(n&&"object"===o(n)&&void 0!==t[i]){for(var r in n)n[r]!==t[i][r]&&"_"!==r[0]||delete n[r];Object.keys(n).length||delete e[i]}}}},{key:"closestByClass",value:function(e,t){for(;e;){if(e.classList.contains(t))return e;e=e.parentElement}return null}},{key:"throttle",value:function(e,t){var i=!1;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i||(i=!0,setTimeout((function(){e.apply(void 0,r),i=!1}),t))}}},{key:"removePositioningStyles",value:function(e){var t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}},{key:"getScrollElement",value:function(e){if(!e)return document.scrollingElement||document.documentElement;var t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:this.getScrollElement(e.parentElement)}},{key:"updateScrollPosition",value:function(e,t,i){var n=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight;if(n.top<0||n.bottom>r){var o=n.bottom-r,s=n.top,a=this.getScrollElement(e);if(null!==a){var l=a.scrollTop;n.top<0&&i<0?e.offsetHeight>r?a.scrollTop+=i:a.scrollTop+=Math.abs(s)>Math.abs(i)?i:s:i>0&&(e.offsetHeight>r?a.scrollTop+=i:a.scrollTop+=o>i?i:o),t.top+=a.scrollTop-l}}}},{key:"updateScrollResize",value:function(e,t,i){var n=this.getScrollElement(t),r=n.clientHeight,o=n===this.getScrollElement()?0:n.getBoundingClientRect().top,s=e.clientY-o,a=s>r-i;s<i?n.scrollBy({behavior:"smooth",top:s-i}):a&&n.scrollBy({behavior:"smooth",top:i-(r-s)})}},{key:"clone",value:function(e){return null===e||void 0===e||"object"!==o(e)?e:e instanceof Array?n(e):Object.assign({},e)}},{key:"cloneDeep",value:function(t){var i=e.clone(t),n=function(n){i.hasOwnProperty(n)&&"object"===o(i[n])&&"__"!==n.substring(0,2)&&!l.find((function(e){return e===n}))&&(i[n]=e.cloneDeep(t[n]))};for(var r in i)n(r);return i}}],(i=null)&&s(t.prototype,i),r&&s(t,r),e}();t.Utils=a;var l=["_isNested","el","grid","subGrid","engine"]}});
//# sourceMappingURL=cover-0736f38c8d779d52b276.js.map