// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.41/esri/copyright.txt for details.
// See https://www.arcgis.com/home/copyright.txt for further details.
//>>built
/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** @overview es6-promise - a tiny implementation of Promises/A+.
 @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   v4.2.8+1e68dce6
*/
require({cache:{"arcgisonline/pages/components/Collaborations/collab-service":function(){define("require exports tslib dojo/Deferred arcgisonline/sharing/util arcgisonline/pages/pageUtil arcgisonline/pages/utils/organizationResources arcgisonline/esriGeowConfig".split(" "),function(O,K,n,q,p,h,f,g){var k=this;Object.defineProperty(K,"__esModule",{value:!0});q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);var u=g["default"].restBaseUrl+
"portals/self",w=u+"/trustedOrgs",C=function(r,l){return p["default"].request({url:w+"/"+r+"/update",content:n.__assign({orgId:r},l)},{usePost:!0})},z=g["default"].restBaseUrl+"portals/self/contacts";K["default"]={add:function(r){return p["default"].request({url:u+"/addTrustedOrg",content:r},{usePost:!0})},update:C,suspend:function(r){return C(r,{state:"suspended"})},resume:function(r){return C(r,{state:"active"})},remove:function(r,l){return p["default"].request({url:w+"/"+r+"/delete",content:{message:l,
async:!0}},{usePost:!0})},getCollaborations:function(r){void 0===r&&(r=!1);var l=new q["default"];r=n.__assign({num:100},r&&{hub:!1});p["default"].request({url:w,content:r}).then(function(d){l.resolve(d)},function(){l.resolve({trustedOrgs:[]})});return l},getCoordinators:function(r){var l=new q["default"];p["default"].request({url:z,content:{type:"collaboration",num:100,collaborators:!r}}).then(function(d){l.resolve(d)},function(){l.resolve()});return l},getAllCoordinators:function(){var r=new q["default"];
h["default"].fetchAllResources(z,{type:"collaboration",collaborators:!0},"users").then(function(l){r.resolve(l)},function(){r.resolve([])});return r},getCoordinatorsByOrg:function(r){return p["default"].request({url:z,content:{type:"collaboration",orgId:r}})},getGroupUserCount:function(r,l){return p["default"].request({url:g["default"].restBaseUrl+"community/users",content:{q:""+(l||""),searchUserAccess:"groupMember",groups:r,countFields:"accountid",num:0}})},getCollabGroups:function(r,l){return p["default"].request({url:g["default"].restBaseUrl+
"community/groups",content:{q:"orgid:"+r.id+" memberorgids:"+l}})},getEndedCollabs:function(){var r=new q["default"];f["default"].fetch("ended_collaborations.json").then(function(l){r.resolve(l||[])},function(){r.resolve([])});return r},getCollaborationLimit:function(){var r=new q["default"];p["default"].request({url:u+"/limits",content:{limitsType:"Collaboration",limitName:"MaxTrustedOrgs"}}).then(function(l){var d;r.resolve(null!==(d=null===l||void 0===l?void 0:l.limitValue)&&void 0!==d?d:10)},
function(){r.resolve(10)});return r},getCollaborationByOrgId:function(r){return n.__awaiter(k,void 0,void 0,function(){var l;return n.__generator(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,p["default"].request({url:w+"/"+r})];case 1:return l=d.sent(),[2,l];case 2:return d.sent(),[2,void 0];case 3:return[2]}})})},updateEndedCollabs:function(r){return f["default"].add({key:"ended_collaborations.json",text:JSON.stringify(r)})}}})},"arcgisonline/pages/utils/organizationResources":function(){define("require exports tslib ../../esriGeowConfig ./resources ../../sharing/util".split(" "),
function(O,K,n,q,p,h){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);return function(){function f(){}f.fetchAll=function(){return p["default"].fetchAllResources(q["default"].restBaseUrl+"portals/self/resources",{},"resources")};f.fetchPage=function(g,k){void 0===g&&(g=1);void 0===k&&(k=100);return h["default"].request({url:q["default"].restBaseUrl+"portals/self/resources",content:{start:g,num:100<k?100:k}})};f.fetch=function(g){return h["default"].request({url:q["default"].restBaseUrl+
"portals/self/resources/"+g})};f.add=function(g){var k=!g.key;g=n.__assign(n.__assign({url:q["default"].restBaseUrl+"portals/self/addResource"},k&&{form:g}),!k&&{content:g});return h["default"].request(g,{usePost:!0})};f.remove=function(g){return h["default"].request({url:q["default"].restBaseUrl+"portals/self/removeResource",content:{key:g}},{usePost:!0})};return f}()})},"arcgisonline/pages/dijit/SubNav":function(){define("require exports tslib dojo/dom-class dojo/has dojo/hash dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase ../../tsutils/declareDecorator ../utils/formatters ../utils/arrays ../utils/dom ./InlineEdit dojo/text!./SubNav/templates/_option.html dojo/text!./SubNav/templates/_title.html dojo/text!./SubNav/templates/_paths.html dojo/text!./SubNav/templates/_path.html dojo/text!./SubNav/templates/SubNav.html dojo/i18n!../../nls/arcgisonline ../utils/icons".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
return function(){function A(B,x){this.templateString=m["default"];this.i18n=t["default"];this.linksHTML=this.activeLabel="";this.hideLinks="hide";this.edit=null;this._titleTypeSize="subnav-title";this.titleHTML=""}A.prototype.postMixInProperties=function(){var B=this,x;this.inherited(arguments);var D=this.links&&this.links.map(function(E){E.show=-1===Object.keys(E).indexOf("show")||E.show;return E}).filter(function(E){return E.show});0<(null===D||void 0===D?void 0:D.length)&&(this.hideLinks="",this.linksHTML=
this.links.reduce(function(E,y){y.logClick=!!y.logClick;y.isActive=y.id===B.active?"is-active":"";y.isActive&&(B.activeLabel=y.label);return E+g["default"].substitute(e["default"],y,null,z["default"])},""),document.title=this.titleText+" - "+this.activeLabel);if(100<(null===(x=this.title)||void 0===x?void 0:x.length)||this.paths)this._titleTypeSize+=" subnav-title--"+(180<this.titleText.length?"smaller":"small"),this.edit&&(this.edit.titleClass=this._titleTypeSize);this.titleHTML=this.paths?this.generateBreadCrumbs(this.paths):
g["default"].substitute(a["default"],this)};A.prototype.postCreate=function(){var B=this;this.inherited(arguments);this.own(f["default"](".js-subnav-expand",this.domNode).on("click",this.toggleNav.bind(this)),f["default"](".js-subnav-link",this.domNode).on("keyup",this.handleKeyUp.bind(this)),f["default"](".js-subnav-link",this.domNode).on("click",this.handleLinkClick.bind(this)),k["default"].subscribe("/dojo/hashchange",function(x){(p["default"]("ie")||p["default"]("trident")||p["default"]("edge"))&&
B.updateActiveTab(x)}));this.paths&&this.attachBreadCrumbEvents();window.addEventListener("popstate",function(){B.updateActiveTab(window.location.hash)});this.edit&&(this.edit.formClass="flex flex-center fullscreen",this.edit.inputLabel=t["default"].itemProperties.editTitle,this._titleEdit=new d["default"](this.edit,this.domNode.querySelector(".js-subnav-edit")),this.own(k["default"].subscribe("inlineEdit/"+this.edit.prop+"/done",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+this.edit.prop+
"/cancel",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+this.edit.prop+"/start",this.openEdit.bind(this))))};A.prototype.showTab=function(B){f["default"]('.js-subnav-link[data-tab\x3d"'+B+'"]',this.domNode).removeClass("hide")};A.prototype.hideTab=function(B){f["default"]('.js-subnav-link[data-tab\x3d"'+B+'"]',this.domNode).addClass("hide")};A.prototype.showEditLink=function(){var B;null===(B=this._titleEdit)||void 0===B?void 0:B.showEditLink()};A.prototype.hideEditLink=function(){var B;
null===(B=this._titleEdit)||void 0===B?void 0:B.hideEditLink()};A.prototype.updateText=function(B){var x;null===(x=this._titleEdit)||void 0===x?void 0:x.updateText(B)};A.prototype.setPageTitle=function(B){this.domNode.querySelector("#pagetitle").textContent=B};A.prototype.updateBreadCrumbs=function(B){this.paths=B;this.domNode.querySelector(".js-subnav-title-wrap").innerHTML=this.generateBreadCrumbs(B);this.attachBreadCrumbEvents()};A.prototype.updateActiveTab=function(B){B=B||"overview";var x=f["default"](".js-subnav-link",
this.domNode);x.removeClass("is-active").attr("aria-selected","false");if(x=r["default"].find(x,function(D){return D.getAttribute("href").replace("#","")===B.replace("#","")}))q["default"].add(x,"is-active"),x.setAttribute("aria-selected","true"),this.activeLabel=x.textContent,this.domNode.querySelector(".js-subnav-current-label").innerHTML=this.activeLabel,this.closeNav(),document.title=this.titleText+" - "+this.activeLabel};A.prototype.attachBreadCrumbEvents=function(){var B=this,x;this.domNode.querySelectorAll(".js-subnav-paths")&&
0<(null===(x=this.paths)||void 0===x?void 0:x.length)&&(l["default"].forEachNode(this.domNode.querySelectorAll(".js-subnav-path"),function(D,E){var y;(null===(y=B.paths[E])||void 0===y?0:y.onPathClick)&&D.addEventListener("click",function(F){B.paths[E].onPathClick(F)})}),x=this.paths[this.paths.length-1],x.edit&&(x.edit.formClass="flex flex-center fullscreen",x.edit.inputLabel=t["default"].itemProperties.editTitle,this._titleEdit=new d["default"](x.edit,this.domNode.querySelector(".js-last-path")),
this.own(k["default"].subscribe("inlineEdit/"+x.edit.prop+"/done",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+x.edit.prop+"/cancel",this.closeEdit.bind(this)),k["default"].subscribe("inlineEdit/"+x.edit.prop+"/start",this.openEdit.bind(this)))))};A.prototype.generateBreadCrumbs=function(B){B=B.map(function(x,D,E){return g["default"].substitute(c["default"],n.__assign(n.__assign({},x),{icons:v["default"],showBack:1<E.length&&0===D?"":"hide",lastPath:D===E.length-1?"js-last-path subnav-breadcrumb-last flex-0":
"subnav-breadcrumb-first js-early-path"}))}).join("\x3cspan class\x3d'subnav-breadcrumb-separator flex-0 js-early-path'\x3e/\x3c/span\x3e");return g["default"].substitute(b["default"],{paths:B,_titleTypeSize:this._titleTypeSize})};A.prototype.openNav=function(){f["default"](".js-subnav-links, .js-subnav-expand",this.domNode).addClass("is-active")};A.prototype.closeNav=function(){f["default"](".js-subnav-links, .js-subnav-expand",this.domNode).removeClass("is-active")};A.prototype.toggleNav=function(B){q["default"].contains(B.target,
"is-active")?this.closeNav():this.openNav()};A.prototype.openEdit=function(B){f["default"](".js-subnav-links,.js-subnav-expand,.js-early-path").addClass("visibility-hidden")};A.prototype.closeEdit=function(){f["default"](".js-subnav-links,.js-subnav-expand,.js-early-path").removeClass("visibility-hidden")};A.prototype.handleKeyUp=function(B){32===B.keyCode&&(B.preventDefault(),this.logClickEvent(B.target,this.telemetry),h["default"](B.target.getAttribute("href"),!0))};A.prototype.handleLinkClick=
function(B){this.logClickEvent(B.target,this.telemetry)};A.prototype.logClickEvent=function(B,x){"true"===(null===B||void 0===B?void 0:B.dataset.logclick)&&(null===x||void 0===x?void 0:x.logEvent({category:"Secondary Nav",action:B.dataset.tab,size:window.innerWidth,pageUrl:window.location.href}))};return A=n.__decorate([C["default"](w["default"],u["default"])],A)}()})},"arcgisonline/pages/dijit/InlineEdit":function(){define("require exports tslib esri/lang esri/libs/sanitizer/Sanitizer arcgis-components/wrappers/Tags dojo/on dojo/query dojo/has dojo/topic dojo/string dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/formatters ../utils/alerts ../utils/arrays ../utils/dom ../../sharing/util ../utils/icons ../../sharing/dijit/Editor dojox/uuid/generateRandomUuid ./CategoryPicker dojo/text!./InlineEdit/templates/InlineEdit.html dojo/text!./InlineEdit/templates/inlineEditTextArea.html dojo/text!./InlineEdit/templates/inlineEditFieldValueType.html dojo/text!./InlineEdit/templates/inlineEditRichText.html dojo/text!./InlineEdit/templates/inlineEditCustom.html dojo/text!./InlineEdit/templates/inlineEditLayerRename.html dojo/text!./InlineEdit/templates/inlineEditLayerRenameSubnav.html dojo/text!./InlineEdit/templates/inlineEditNotebookTags.html arcgisonline/tsutils/declareDecorator dijit/_editor/plugins/FontChoice dijit/_editor/plugins/TextColor ./InlineEdit/ViewSource ../../sharing/dijit/LinkDialog".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I){q=n.__importDefault(q);p=n.__importDefault(p);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);F=n.__importDefault(F);G=n.__importDefault(G);H=n.__importDefault(H);I=n.__importDefault(I);return function(){function N(M,J){this.templateString=B["default"];this.i18n=C["default"];this.icons=m["default"];this.inputType="textbox";this.inputClass="subnav-edit__input";this.defaultText=this.inputLabel="";this.invalidText=this.emptyText=void 0;this.required=!1;this.pattern=
void 0;this.editorHeight="240px";this.rows=4;this.titleClass="subnav-title";this.titleId="pagetitle";this.viewTitle=this.placeholder=this.buttonsClass=this.formClass=this.formTitle="";this.knownTags=[];this.isGroup=!1;this.editButtonClasses="btn-link-white if-can-update";this.editButtonUpdatePermissionClasses="if-can-update";this.cancelButtonClasses="btn btn-transparent btn-link-white";this.saveButtonClasses="btn btn-white margin-left-half";this.showCharactersLeft=this.showLoader=!1;this.sanitizer=
new p["default"];this.dontSanitize=!1;this._oldValue=this.prop="";this._supportsFormValidation=!1;this.templateString={textArea:x["default"],fieldValueType:D["default"],richText:E["default"],tags:y["default"],categories:y["default"],layerRename:F["default"],layerRenameSubnav:G["default"],notebookTags:H["default"]}[M.isNotebook?"notebookTags":M.inputType]||B["default"];this.baseUrl=M.baseUrl;this.openInNewTab=M.openInNewTab;this.inputLabel=M.inputLabel||M.formTitle||C["default"].common.edit}N.prototype.postMixInProperties=
function(){this.inherited(arguments);this.inputId=this.inputId||v["default"]();this._oldValue=this.value=this._sanitizeValue(this.value);this.knownTags&&(this.knownTags=this._sanitizeStringArray(this.knownTags))};N.prototype.postCreate=function(){this.inherited(arguments);this.showLoader&&b["default"].showNode(this._saveLoader);this.required&&(this._input.required=!0);this.pattern&&(this._input.pattern=this.pattern);var M=document.createElement("input");this._supportsFormValidation=!k["default"]("safari")&&
"required"in M&&"pattern"in M;!this._supportsFormValidation||"textArea"!==this.inputType&&"textbox"!==this.inputType||this._input.setCustomValidity(this._valOrFunction(this.defaultText||"",window,[this._input]));switch(this.inputType){case "textArea":case "textbox":this.maxLength&&(this._input.maxLength=this.maxLength);break;case "richText":this._formatRichText();break;case "tags":this._inputEl.id=this.inputId,this._form.addEventListener("keydown",function(J){"Enter"===J.key&&"INPUT"===J.target.nodeName&&
J.preventDefault()})}this._hasCharactersLeft()&&(b["default"].showNode(this._charactersLeft),this._setCharactersLeft(),this.own(f["default"](this._input,"keyup",this._setCharactersLeft.bind(this))));this._updateView();this._initHandlers()};N.prototype.initTagsEditor=function(){var M=Array.isArray(this.value)?this.value:this.value.split(",");this.domNode.querySelector(".js-inline-edit").setAttribute("data-edit-id","tags");this._input=new h.TagsWrapper(this.domNode.querySelector("#"+this.inputId),{activeTags:M.filter(function(J){return J}),
knownTags:this.knownTags.map(function(J){return J.tag}),maxWidth:"100%",minWidth:"100%"})};N.prototype.initCategoryPicker=function(){var M=this;this.portal&&this.portal.getCategories().then(function(J){M._formatCategories(M.value);M._input=new A["default"]({categories:M.value,schema:J,alwaysOpen:!0},M._inputEl);M._input.startup()},function(J){})};N.prototype.hide=function(){b["default"].hideNode(this.domNode)};N.prototype.hideEditLink=function(){g["default"](".js-inline-edit",this.domNode).addClass("visibility-hidden")};
N.prototype.showEditLink=function(){g["default"](".js-inline-edit",this.domNode).removeClass("visibility-hidden")};N.prototype.updateText=function(M){M=this._sanitizeString(M);g["default"](".js-view",this.domNode).innerHTML(M);this.value=this._input.value=M};N.prototype.updateValue=function(M){M=this._sanitizeValue(M);this._setInputValue(M);this.value=M;this._updateView()};N.prototype._sanitizeValue=function(M){return M instanceof Array?this._sanitizeStringArray(M):this._sanitizeString(M)};N.prototype._sanitizeStringArray=
function(M){var J=this;return this.dontSanitize?M:(M||[]).map(function(R){return J.sanitizer.sanitize(R)})};N.prototype._sanitizeString=function(M){return this.dontSanitize?M:this.sanitizer.sanitize(M)};N.prototype._setCharactersLeft=function(){this._hasCharactersLeft()&&(this._charactersLeft.textContent=w["default"].substitute(this.i18n.myOrganization.generalTab.summaryCharsLeft,{chars:this.maxLength-this._input.value.length}))};N.prototype._setInputValue=function(M){this._input&&("richText"===this.inputType?
this._input.set("value",M||""):"categories"===this.inputType?this._input.setCategories(M,!0):"tags"===this.inputType?(M=Array.isArray(M)?M:M.split(","),this._input.setTags(M.filter(function(J){return J}))):this._input.value=q["default"].isDefined(M)?M:"")};N.prototype._initHandlers=function(){var M=this;this.own(f["default"](this._cancelButton,"click",function(J){J.stopPropagation();J.preventDefault();M._cancelEdit()}),g["default"](".js-inline-edit",this.domNode).on("click",function(J){var R;J.stopPropagation();
u["default"].publish("inlineEdit/"+M.prop+"/start");M._oldValue=M.value;b["default"].hideNode(M._textView);b["default"].showNode(M._form);"richText"===M.inputType&&((null===(R=M._input)||void 0===R?0:R.destroy)&&M._input.destroy(!0),J=l["default"].editorDefaults(M.inputId),J.height=M.editorHeight,M._input=new t["default"](J,M._inputEl),M._input.startup(),M._input.set("value",M.value||""));"fieldValueType"===M.inputType&&M._setupFieldValueType(M.value);"categories"!==M.inputType&&M._input.focus()}),
f["default"](this._form,"submit",function(J){J.stopPropagation();J.preventDefault();J="richText"===M.inputType&&M._input.get("value")||"textArea"===M.inputType&&M._input.value;M.containsHttp(J)?e["default"].showAlert("error",M.i18n.common.httpNotSupported):M._submitForm()}),u["default"].subscribe("inlineEdit/"+this.prop+"/done",function(J){M.containsHttp(M.value)&&e["default"].showAlert("error",M.i18n.common.httpNotSupported);M._updateView();M.showLoader&&M._saveLoader&&(M._saveButton.disabled=!1,
M._cancelButton.disabled=!1,M._saveLoader.classList.remove("inline-edit-save-loader--active"));M._hideEdit()}),u["default"].subscribe("inlineEdit/cancel",function(){M._cancelEdit()}),u["default"].subscribe("inlineEdit/"+this.prop+"/oldValue",function(J){M.value=M._oldValue=J}));"textbox"!==this.inputType&&"textArea"!==this.inputType&&"layerRename"!==this.inputType&&"layerRenameSubnav"!==this.inputType||this.own(f["default"](this._input,"change",this._changeOrInput.bind(this)),f["default"](this._input,
"input",this._changeOrInput.bind(this)),f["default"](this._input,"invalid",this._invalid.bind(this)))};N.prototype.containsHttp=function(M){var J;return!c["default"].isPortal()&&("richText"===this.inputType||"textArea"===this.inputType)&&-1<(null===(J=null===M||void 0===M?void 0:M.indexOf)||void 0===J?void 0:J.call(M,"http://"))};N.prototype._cancelEdit=function(){var M;this._setInputValue(this._oldValue);this._setCharactersLeft();(null===(M=this._input)||void 0===M?0:M.validity)&&this._setCustomValidity("");
"categories"===this.inputType&&this._input.hideError();this._hideEdit();u["default"].publish("inlineEdit/"+this.prop+"/cancel")};N.prototype._hasCharactersLeft=function(){return"textArea"===this.inputType&&this.maxLength&&this.showCharactersLeft&&q["default"].isDefined(this._charactersLeft)};N.prototype._updateView=function(){var M=this.domNode.querySelectorAll(".js-view"),J=this.inputType;if(0<M.length&&this.value||"tags"===J){switch(J){case "categories":M=this._formatCategories(this.value);break;
case "fieldValueType":M=this._getFieldValueType(this.value);break;case "tags":M=this._formatTags(this.value);break;default:M=this.formatter?this.formatter(this.value):this.value}"tags"!==J&&"categories"!==J&&(M=this._sanitizeString(M));g["default"](".js-view",this.domNode).innerHTML(M);"richText"===this.inputType&&this._formatRichText()}};N.prototype._submitForm=function(){var M={},J=a["default"].from(this._form.elements)||[],R;if(("textbox"===this.inputType||"textArea"===this.inputType||"layerRename"===
this.inputType||"layerRenameSubnav"===this.inputType)&&!this._supportsFormValidation&&(J=J.some(function(Z){return(R=Z.getAttribute("data-customValidity"))?(u["default"].publish("page/showError",{message:R}),!0):!1})))return;this.showLoader&&this._saveLoader&&(this._saveButton.disabled=!0,this._cancelButton.disabled=!0,this._saveLoader.classList.add("inline-edit-save-loader--active"));"categories"===this.inputType?(this._input.hideError(),this.value=this._input.getCategories(!0),u["default"].publish("inlineEdit/categories/submit",
this.value)):(M[this.prop]="tags"===this.inputType?this._input.getTags().join(","):this._input.value,M.clearEmptyFields=!0,M.prop=this.prop,-1<["layerRename","layerRenameSubnav","layerDescription","layerCopyright"].indexOf(this.prop)&&void 0!==this.layerId&&(M.layerId=this.layerId),this.value=M[this.prop],u["default"].publish("inlineEdit/submit",M));this._oldValue=this.value};N.prototype._changeOrInput=function(){var M,J,R=null!==(J=null===(M=this._input.value)||void 0===M?void 0:M.trim())&&void 0!==
J?J:"";M=this._input.pattern;J=this._input.required;var Z="TEXTAREA"!==this._input.nodeName;!R&&J?this.emptyText&&this._setCustomValidity(this._valOrFunction(this.emptyText,window,[this._input])):this._supportsFormValidation&&Z||!M?this._setCustomValidity(""):(new RegExp(M)).test(R)?this._setCustomValidity(""):this.invalidText&&this._setCustomValidity(this._valOrFunction(this.invalidText,window,[this._input]))};N.prototype._invalid=function(){var M,J,R,Z,T,X,aa=null!==(J=null===(M=this._input.value)||
void 0===M?void 0:M.trim())&&void 0!==J?J:"";aa&&""!==aa?(null===(R=this._input.validity)||void 0===R?0:R.patternMismatch)||(null===(Z=this._input.validity)||void 0===Z?0:Z.badInput)||(null===(T=this._input.validity)||void 0===T?0:T.typeMismatch)||(null===(X=this._input.validity)||void 0===X?0:X.customError)?this.invalidText&&this._setCustomValidity(this._valOrFunction(this.invalidText,window,[this._input])):this._setCustomValidity(""):this.emptyText&&this._setCustomValidity(this._valOrFunction(this.emptyText,
window,[this._input]))};N.prototype._valOrFunction=function(M,J,R){return"function"===typeof M?M.apply(J,R):M};N.prototype._setCustomValidity=function(M){this._supportsFormValidation?this._input.setCustomValidity(M):(this._input.setAttribute("data-customvalidity",M),""===M&&u["default"].publish("hidePageError"))};N.prototype._hideEdit=function(){b["default"].showNode(this._textView);b["default"].hideNode(this._form)};N.prototype._formatCategories=function(M){var J=new RegExp(/^\/.+\//);M=M.map(function(R){return R.replace(J,
"")}).map(d["default"].formatCategoryChip).reduce(function(R,Z){return R+w["default"].substitute("\x3cspan class\x3d'label filter-label'\x3e${category}\x3c/span\x3e",{category:Z})},"");return 0<M.length?M:this.i18n.contentCategories.noCategoriesItem};N.prototype._formatTags=function(M){var J=this;M=M&&"string"===typeof M?M.split(","):M||[];var R="settings-tab"===this._currentView,Z=this.isGroup?"groups":"content";return 0>=M.filter(function(T){return T}).length?this.i18n.contentCategories.noTags:
M.map(function(T){var X=J.dontSanitize?T:J.sanitizer.sanitize(T);X=c["default"].htmlEncode(X);return R?T:'\x3ca href\x3d"'+(J.baseUrl||"")+"search.html?t\x3d"+Z+"\x26q\x3dtags:%22"+X+'%22" target\x3d"'+(J.openInNewTab?"_blank":"_self")+'"\x3e'+X+"\x3c/a\x3e"}).join(", ")};N.prototype._formatRichText=function(){g["default"](".js-view table").addClass("table")};N.prototype._setupFieldValueType=function(M){for(var J=this.fieldValueTypeList.fieldValueType,R=0;R<J.length;R++)this._input.options[R]=new Option(this._getFieldValueType(J[R].title),
J[R].title),M===J[R].title&&(this._input.selectedIndex=R)};N.prototype._getFieldValueType=function(M){if("none"===M)return this.i18n.attributeFieldDetails.none;M=M||this.i18n.attributesView.commonUndefined;return this.i18n.attributeFieldDetails.fieldValueTypesList[M]||M};return N=n.__decorate([I["default"](r["default"],z["default"])],N)}()})},"arcgis-components/wrappers/Tags":function(){define(["../Component","../Inputs/Tags/index"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;
var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),
Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=987)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+
" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?
e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,
m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=
m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),
"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=
e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,q){n.exports=O},713:function(n,q){n.exports=K},987:function(n,q,p){p.r(q);p.d(q,"TagsWrapper",function(){return u});var h=p(0),f=p(16);n=p(713);p=p.n(n);var g=
function(w,C){switch(C.type){case "UPDATE_ACTIVE_TAGS":return Object(h.a)(Object(h.a)({},w),{activeTags:C.payload});case "UPDATE_KNOWN_TAGS":return Object(h.a)(Object(h.a)({},w),{knownTags:C.payload});default:return w}},k=Object(f.connect)(function(w){return{activeTags:w.activeTags,knownTags:w.knownTags}},function(w){return{onChange:function(C){w({type:"UPDATE_ACTIVE_TAGS",payload:C})}}})(p.a),u=function(){function w(C,z){this.renderContainer=C;this.store=Object(f.createStore)(g,{activeTags:z.activeTags,
knownTags:z.knownTags});this.projector=Object(f.createProjector)(this.store,function(r){return r(k,Object(h.a)({key:"wrapped-tags"},z))},this.renderContainer)}return w.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},w.prototype.focus=function(){var C=this.renderContainer.querySelector("input");C&&C.focus()},w.prototype.getTags=function(){return this.store.getState().activeTags},
w.prototype.setTags=function(C){this.store.dispatch({type:"UPDATE_ACTIVE_TAGS",payload:C})},w.prototype.getKnownTags=function(){return this.store.getState().knownTags},w.prototype.setKnownTags=function(C){this.store.dispatch({type:"UPDATE_KNOWN_TAGS",payload:C})},w.prototype.watchTags=function(C){var z=this,r=this.store.getState().activeTags;return this.store.subscribe(function(){var l=z.store.getState().activeTags;l!==r&&C(r=l)})},w}()}})})},"arcgis-components/Inputs/Tags/index":function(){define(["../../Component",
"dojo/i18n!../../Inputs/Tags/nls/resources"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,
f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=859)}({0:function(n,q,p){function h(r,
l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,
e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}
function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};
case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,
l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},18:function(n,q){n.exports=O},417:function(n,q){n.exports=K},545:function(n,
q,p){q.a=function(h,f){var g=h.name;return f("li",{"class":"inp-tags__tag",key:g},f("span",{title:g,"class":"inp-tags__tag-innards",onkeydown:h.onKeyDown,id:"tag-"+g,tabindex:"-1"},g,f("button",{"class":"inp-tags__tag-remove-btn","data-value":g,onclick:h.onRemove,tabindex:"-1",type:"button"},f("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32"},f("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"})))))}},
546:function(n,q,p){var h=p(417);q.a=function(f,g){var k=f.onSuggestionFocus,u=f.onSuggestionBlur,w=f.onSuggestionClick,C=f.onSuggestionKeyDown;if(!f.visible)return null;var z=f.matchingTags.map(function(l,d){return g("li",{id:"suggestion-"+d,classes:{"inp-tags__suggestion":!0,"inp-tags__suggestion--grey":0==d%2,"inp-tags__suggestion--white":0!=d%2},"data-value":l,"data-index":d,key:l,title:l,onfocus:k,onblur:u,onmousedown:w,onkeydown:C,tabindex:"0"},l)}),r=g("div",{"class":"inp-tags__no-suggestions",
id:"no-matching-div"},g("div",{"class":"inp-tags__no-suggestions-text",id:"no-matching-text"},h.noTagsFound));return g("ul",{id:"tag-suggestions","class":"inp-tags__suggestions",key:"tag-suggestions"},z[0]?z:r)}},859:function(n,q,p){p.r(q);var h=p(0);n=p(18);var f=p(417),g=p(545),k=p(546);p=function(u){function w(C){C=u.call(this,C)||this;return C.state={value:"",isFocused:!1,isTyping:!1,hasBeenFocused:!1},C.handleInputBlur=C.handleInputBlur.bind(C),C.handleInputChange=C.handleInputChange.bind(C),
C.handleInputFocus=C.handleInputFocus.bind(C),C.handleInputKeyDown=C.handleInputKeyDown.bind(C),C.handleSuggestionBlur=C.handleSuggestionBlur.bind(C),C.handleSuggestionClick=C.handleSuggestionClick.bind(C),C.handleSuggestionFocus=C.handleSuggestionFocus.bind(C),C.handleSuggestionKeyDown=C.handleSuggestionKeyDown.bind(C),C.handleWidgetClick=C.handleWidgetClick.bind(C),C.spliceTag=C.spliceTag.bind(C),C.handleTagInputKeyDown=C.handleTagInputKeyDown.bind(C),C}return Object(h.d)(w,u),w.prototype.render=
function(C){var z=this,r={"inp-tags__active-tags":!0,"inp-tags__active-tags--focused":this.state.isFocused},l=this.props.knownTags.filter(function(d){return-1!==d.toLowerCase().indexOf(z.state.value.toLowerCase())&&-1===z.props.activeTags.indexOf(d)});return C("div",{id:"tags-container",classes:{"inp-tags__container":!0},style:"\n                        min-width: "+(this.props.minWidth?this.props.minWidth:"auto")+";\n                        max-width: "+(this.props.maxWidth?this.props.maxWidth:"auto")+
";\n                    "},C("ul",{classes:r,key:"active-tags",id:"active-tags"},this.props.activeTags.filter(function(d){return d}).map(function(d){return C(g.a,{name:d,onRemove:z.spliceTag,onKeyDown:z.handleTagInputKeyDown})}),C("input",{id:"tags-input","class":"inp-tags__input",placeholder:f.addTags,value:this.state.value,onkeydown:this.handleInputKeyDown,onfocus:this.handleInputFocus,onblur:this.handleInputBlur,oninput:this.handleInputChange,afterCreate:this.handler})),C(k.a,{matchingTags:l,onSuggestionBlur:this.handleSuggestionBlur,
onSuggestionClick:this.handleSuggestionClick,onSuggestionFocus:this.handleSuggestionFocus,onSuggestionKeyDown:this.handleSuggestionKeyDown,visible:this.state.isTyping}))},w.prototype.handler=function(C){},w.prototype.addTag=function(C,z){var r=this;void 0===z&&(z=!0);var l=[];C.split(",").forEach(function(e){(e=r.stripHTML(e.trim()))&&-1===r.props.activeTags.indexOf(e)&&-1===l.indexOf(e)&&l.push(e)});this.props.onChange(this.props.activeTags.concat(l));var d=document.getElementById("tags-input");
d&&z&&d.focus()},w.prototype.spliceTag=function(C){C=C.currentTarget||C.target;var z=Object(h.g)([],this.props.activeTags);z.splice(this.props.activeTags.indexOf(C.dataset.value),1);this.props.onChange(z)},w.prototype.handleInputBlur=function(C){var z=this;setTimeout(function(){var r=document.getElementById("tags-container");(null==r?0:r.contains(document.activeElement))||(z.addTag(C.target.value,!1),z.setState({value:"",hasBeenFocused:!0,isFocused:!1,isTyping:!1}))})},w.prototype.handleInputChange=
function(C){this.setState({value:C.target.value})},w.prototype.handleInputFocus=function(){this.setState({isFocused:!0})},w.prototype.handleInputKeyDown=function(C){switch(C.key){case "Enter":C.target.value&&(this.addTag(C.target.value),this.setState({value:"",isTyping:!1}),(z=document.getElementById("tags-input"))&&(z.focus(),z.value=""));break;case "Tab":var z;C.target.value&&(C.preventDefault(),this.addTag(C.target.value),this.setState({value:"",isTyping:!1}),(z=document.getElementById("tags-input"))&&
(z.focus(),z.value=""));break;case "Backspace":C.target.value||(C=Object(h.g)([],this.props.activeTags),C.pop(),this.props.onChange(C),this.setState({value:"",isTyping:!1}));break;case "Down":case "ArrowDown":z=document.getElementById("suggestion-0");this.state.isTyping&&z?(C.preventDefault(),z.focus()):this.setState({isTyping:!0});break;case "Up":case "ArrowUp":case "Left":case "ArrowLeft":this.focusElement(document.getElementById("tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;
default:this.setState({isTyping:!0})}},w.prototype.handleSuggestionBlur=function(C){C.preventDefault();this.setState({isFocused:!1,isTyping:!1})},w.prototype.handleSuggestionClick=function(C){C.preventDefault();this.addTag(C.target.dataset.value);this.setState({value:"",isFocused:!0,isTyping:!1});(C=document.getElementById("tags-input"))&&(C.focus(),C.value="")},w.prototype.handleSuggestionFocus=function(C){C.preventDefault();this.setState({isFocused:!0,isTyping:!0})},w.prototype.handleSuggestionKeyDown=
function(C){switch(C.preventDefault(),C.key){case "Up":case "ArrowUp":0===C.target["data-index"]?this.focusElement(document.getElementById("tags-input")):this.focusElement(document.getElementById("suggestion-"+(C.target["data-index"]-1)));break;case "Down":case "ArrowDown":(C=document.getElementById("suggestion-"+(C.target["data-index"]+1)))?C.focus():this.focusElement(document.getElementById("suggestion-0"));break;case "Tab":case "Enter":this.handleSuggestionClick(C);break;case "Escape":C.preventDefault(),
this.focusElement(document.getElementById("tags-input"))}},w.prototype.handleWidgetClick=function(C){(C=document.getElementById("tags-input"))&&C.focus()},w.prototype.handleTagInputKeyDown=function(C){var z=document.activeElement.getAttribute("title");if(z){var r=this.props.activeTags.indexOf(z);switch(C.key){case "Left":case "ArrowLeft":this.focusElement(document.getElementById(0<r?"tag-"+this.props.activeTags[r-1]:"tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;case "Right":case "ArrowRight":this.focusElement(document.getElementById(r<
this.props.activeTags.length-1?"tag-"+this.props.activeTags[r+1]:"tag-"+this.props.activeTags[0]));break;case "Down":case "ArrowDown":this.focusElement(document.getElementById("tags-input"));break;case "Backspace":case "Delete":C=Object(h.g)([],this.props.activeTags),C.splice(this.props.activeTags.indexOf(z),1),this.props.onChange(C),this.focusElement(document.getElementById("tag-"+this.props.activeTags[r<this.props.activeTags.length-1?r+1:r-1]))}}},w.prototype.focusElement=function(C){C&&C.focus()},
w.prototype.stripHTML=function(C){return C&&C.replace(/<(?:.|\s)*?>/g,"")},w}(n.Component);q["default"]=p}})})},"arcgisonline/pages/utils/alerts":function(){define("require exports tslib ../dijit/Alert ./dom dijit/registry".split(" "),function(O,K,n,q,p,h){function f(u,w,C){void 0===C&&(C={cssClasses:"",preventAutoDismiss:!1});g();var z=C.cssClasses,r=C.preventAutoDismiss;C=C.liveRegion;var l=document.createElement("div");document.body.appendChild(l);return new q["default"]({type:u,text:w,cssClasses:z||
"",preventAutoDismiss:!!r,liveRegion:C},l)}function g(){p["default"].forEachNode(document.querySelectorAll(".alert"),function(u){var w,C;null===(C=null===(w=h["default"].byNode(u))||void 0===w?void 0:w.destroy)||void 0===C?void 0:C.call(w)})}function k(u,w){var C=w.reduce(function(r,l){return r+"\x3cli\x3e"+l+"\x3c/li\x3e"},""),z=document.createElement("div");document.body.appendChild(z);return new q["default"]({type:u,text:"",listHTML:"\x3cul\x3e"+C+"\x3c/ul\x3e"},z)}Object.defineProperty(K,"__esModule",
{value:!0});K.showAlertList=K.clearAlerts=K.showAlert=void 0;q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);K.showAlert=f;K.clearAlerts=g;K.showAlertList=k;K["default"]={clearAlerts:g,showAlert:f,showAlertList:k}})},"arcgisonline/pages/dijit/Alert":function(){define("require exports tslib ../utils/a11y ../utils/icons ../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/text!./Alert/Alert.html dojo/i18n!../../nls/arcgisonline dojo/_base/lang".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);return function(){function z(r,l){this.templateString=u["default"];this.i18n=w["default"];this.icons=p["default"];this.cssClasses="";this.preventAutoDismiss=!1}z.prototype.postMixInProperties=function(){"success"===this.type?(this.modifier="green",this.icon=p["default"]["check-circle"]["32"],
this.iconAltText=w["default"].GroupWidget.successIcon):"error"===this.type?(this.modifier="red",this.icon=p["default"]["exclamation-mark-circle"]["32"],this.iconAltText=w["default"].GroupWidget.errorIcon):"warning"===this.type?(this.modifier="yellow",this.icon=p["default"]["exclamation-mark-triangle"]["32"],this.iconAltText=w["default"].GroupWidget.warningIcon):"info"===this.type&&(this.modifier="info",this.iconAltText=this.icon="")};z.prototype.postCreate=function(){var r=this;this.inherited(arguments);
this.listHTML&&(this._listContainer.innerHTML=this.listHTML);this._addEventListeners();"success"!==this.type||this.preventAutoDismiss||this._setAlertTimer();setTimeout(function(){r.domNode&&r.domNode.classList.add("is-active")},10)};z.prototype.startup=function(){this.inherited(arguments);q["default"].postToLiveRegion(this.text,this.liveRegion)};z.prototype._addEventListeners=function(){"success"===this.type&&this.own(k["default"](this.domNode).on("mouseover",C["default"].hitch(this,this._clearAlertTimer)),
k["default"](this.domNode).on("mouseout",C["default"].hitch(this,this._setAlertTimer)));this.own(k["default"](".js-alert-close",this.domNode).on("click",C["default"].hitch(this,this._dismiss)))};z.prototype._setAlertTimer=function(){var r=this;this._timeout||(this._timeout=window.setTimeout(function(){r._dismiss()},4E3))};z.prototype._clearAlertTimer=function(){clearTimeout(this._timeout);this._timeout=null};z.prototype._dismiss=function(r){var l=this;r&&r.preventDefault();this.domNode&&this.domNode.classList.remove("is-active");
setTimeout(function(){l.destroy()},300)};z.prototype.dismiss=function(){var r=this;this.domNode&&this.domNode.classList.remove("is-active");setTimeout(function(){r.destroy()},300)};return z=n.__decorate([h["default"](f["default"],g["default"])],z)}()})},"arcgisonline/sharing/dijit/Editor":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/Editor dijit/_editor/_Plugin dijit/form/ToggleButton".split(" "),function(O,K,n,q,p,h,f){function g(k){return new h["default"]({buttonClass:f["default"],
command:k.name})}q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);O=function(){function k(u,w){this.declaredClass="arcgisonline.sharing.dijit.Editor"}return k=n.__decorate([q["default"](p["default"])],k)}();h["default"].registry=n.__assign(n.__assign({},h["default"].registry),{insertOrderedList:g,insertUnorderedList:g,justifyCenter:g,justifyFull:g,justifyLeft:g,justifyRight:g});return O})},"dojox/uuid/generateRandomUuid":function(){define(["./_base"],function(){dojox.uuid.generateRandomUuid=
function(){function O(){for(var h=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>h.length;)h="0"+h;return h}var K=O(),n=O();n=n.substring(0,4)+"-4"+n.substring(5,8);var q=O();q="8"+q.substring(1,4)+"-"+q.substring(4,8);var p=O();return(K+"-"+n+"-"+q+p).toLowerCase()};return dojox.uuid.generateRandomUuid})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(O){O.getObject("uuid",!0,dojox);dojox.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";dojox.uuid.version=
{UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};dojox.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};dojox.uuid.assert=function(K,n){if(!K)throw n||(n="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(n);};dojox.uuid.generateNilUuid=function(){return dojox.uuid.NIL_UUID};dojox.uuid.isValid=function(K){K=K.toString();var n=O.isString(K)&&36==K.length&&K==K.toLowerCase();if(n){K=K.split("-");n=5==
K.length&&8==K[0].length&&4==K[1].length&&4==K[2].length&&4==K[3].length&&12==K[4].length;for(var q in K){var p=parseInt(K[q],16);n=n&&isFinite(p)}}return n};dojox.uuid.getVariant=function(K){if(!dojox.uuid._ourVariantLookupTable){var n=dojox.uuid.variant,q=[];q[0]=n.NCS;q[1]=n.NCS;q[2]=n.NCS;q[3]=n.NCS;q[4]=n.NCS;q[5]=n.NCS;q[6]=n.NCS;q[7]=n.NCS;q[8]=n.DCE;q[9]=n.DCE;q[10]=n.DCE;q[11]=n.DCE;q[12]=n.MICROSOFT;q[13]=n.MICROSOFT;q[14]=n.UNKNOWN;q[15]=n.UNKNOWN;dojox.uuid._ourVariantLookupTable=q}K=
K.toString();K=K.charAt(19);K=parseInt(K,16);dojox.uuid.assert(0<=K&&16>=K);return dojox.uuid._ourVariantLookupTable[K]};dojox.uuid.getVersion=function(K){dojox.uuid.assert(dojox.uuid.getVariant(K)==dojox.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");K=K.toString();K=K.charAt(14);return parseInt(K,16)};dojox.uuid.getNode=function(K){dojox.uuid.assert(dojox.uuid.getVersion(K)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");K=
K.toString();return K.split("-")[4]};dojox.uuid.getTimestamp=function(K,n){dojox.uuid.assert(dojox.uuid.getVersion(K)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");K=K.toString();n||(n=null);switch(n){case "string":case String:return dojox.uuid.getTimestamp(K,Date).toUTCString();case "hex":var q=K.split("-"),p=q[0],h=q[1];q=q[2];q=q.slice(1);p=q+h+p;dojox.uuid.assert(15==p.length);return p;case null:case "date":case Date:return q=K.split("-"),p=parseInt(q[0],
16),h=parseInt(q[1],16),q=(parseInt(q[2],16)&4095)<<16,q=4294967296*(q+h),q+=p,new Date(q/1E4-122192928E5);default:dojox.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+n)}};return dojox.uuid})},"arcgisonline/pages/dijit/CategoryPicker":function(){define("require exports tslib dojo/has dojo/topic dojo/query dojo/string dojo/dom-class dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../utils/categories ../utils/formatters ../utils/icons dojo/text!./CategoryPicker/templates/CategoryPicker.html dojo/text!./CategoryPicker/templates/Category.html dojo/text!./CategoryPicker/templates/CategoryGroup.html dojo/text!./CategoryPicker/templates/CategoryChip.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dom ../../esriGeowConfig esri/Evented".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
return function(){function A(B,x){var D=this;this.templateString=l["default"];this.i18n=b["default"];this.icons=r["default"];this.defaultText="";this.categoriesLimit=20;this.globalClickListener=function(E){E=E.target;E.classList.contains("js-add-category-dropdown-link")||E.classList.contains("js-add-category-dropdown-button")||E.classList.contains("js-add-category-input")||D.closeCategoryDropdown()}}A.prototype.postMixInProperties=function(){var B=this,x,D,E;this.inherited(arguments);this.rootNode=
C["default"].getRootNode(this.schema);this.schema=(null===(D=null===(x=this.schema)||void 0===x?void 0:x[0])||void 0===D?void 0:D.categories)||[];this.categories=(null===(E=this.categories)||void 0===E?void 0:E.map(function(y){return B.removeRoot(y)}))||[];this.alwaysOpen=this.alwaysOpen||!1;this.categorySortHash=C["default"].getSchemaOrder(this.schema)};A.prototype.startup=function(){var B,x;this.inherited(arguments);if(null===(B=t["default"].portal)||void 0===B?0:B.maxCategoriesPerItem)this.categoriesLimit=
null===(x=t["default"].portal)||void 0===x?void 0:x.maxCategoriesPerItem;this.domNode.querySelector(".js-add-category-error").textContent=f["default"].substitute(b["default"].contentCategories.addCategoryError,{number:this.categoriesLimit});this.setCategories(this.categories);this.addEventListeners()};A.prototype.hideError=function(){h["default"](".js-add-category-error",this.domNode).removeClass("is-active")};A.prototype.setCategories=function(B,x){var D=this;B.map(function(E){return x?D.removeRoot(E):
E}).filter(function(E){return D.categorySortHash[E]});this.categories=B.map(function(E){return x?D.removeRoot(E):E}).filter(function(E){return D.categorySortHash[E]});this.rebuildCategoryChips();this.buildCategoryDropdown();this.alwaysOpen&&this.domNode.classList.add("category-picker--always-open")};A.prototype.getCategories=function(B){var x=B?this.rootNode:"";return this.categories.map(function(D){return""+x+D})};A.prototype.removeCategory=function(B,x){var D=this,E;this.categories.length<=this.categoriesLimit&&
m["default"].forEachNode(this.domNode.querySelectorAll(".js-add-category-error"),function(H){return H.classList.remove("is-active")});var y=this.domNode.querySelector(".js-category-chip[data-category-name\x3d'"+B+"']"),F=this.domNode.querySelector(".js-category-picker-item[data-category-path\x3d'"+B+"']"),G=F&&m["default"].querySelectorAllAsArray(".js-category-picker-item.is-active",F);G=null===G||void 0===G?void 0:G.map(function(H){return H.getAttribute("data-category-path")});if(-1<this.categories.indexOf(B)||
0<(null===G||void 0===G?void 0:G.length))null===(E=null===y||void 0===y?void 0:y.parentNode)||void 0===E?void 0:E.removeChild(y),this.categories=this.categories.filter(function(H){return H!==B}),F.classList.remove("is-active"),G.forEach(function(H){D.removeCategory(H)}),x&&p["default"].publish("categories/update"),this.emit("change",this.categories),this.rebuildCategoryChips();this.buildCategoryDropdown()};A.prototype.addCategory=function(B,x){if(0>this.categories.indexOf(B))if(this.categories=this.categories.filter(function(F){return 0>
B.indexOf(F+"/")}),this.categories.length<this.categoriesLimit){this.categories.push(B);var D=this.domNode.querySelector('.js-category-picker-item[data-category-path\x3d"'+B+'"]'),E=0<h["default"](D.parentElement).closest(".js-category-picker-item").length,y=[D];if(E)for(;D.parentElement.parentElement.classList.contains("js-category-picker-item");)D=D.parentElement.parentElement,y.push(D);y.forEach(function(F){return F.classList.add("is-active")});x&&p["default"].publish("categories/update");this.emit("change",
this.categories);this.rebuildCategoryChips()}else m["default"].querySelectorAllAsArray(".js-add-category-error",this.domNode).forEach(function(F){return F.classList.add("is-active")})};A.prototype.disable=function(){this.domNode.classList.add("category-picker--disabled")};A.prototype.enable=function(){this.domNode.classList.remove("category-picker--disabled")};A.prototype.buildCategoryDropdown=function(){if(this.domNode){var B=this.domNode.querySelector(".js-add-category-dropdown-menu");B&&(B.innerHTML=
this.categoriesToDom(this.schema,"",!0))}};A.prototype.categoriesToDom=function(B,x,D){var E=this;B=B.reduce(function(y,F){var G=x?x+"/"+F.title:"/"+F.title,H=F.categories?E.categoriesToDom(F.categories,G):"",I=G===E.selectedCategory?"is-selected":"",N=-1<E.categories.indexOf(G)||0<E.categories.filter(function(M){return-1<M.indexOf(G+"/")}).length;return y+f["default"].substitute(d["default"],{title:F.title,children:H,path:G,isActive:N?"is-active":"",isSelected:I,icons:r["default"]})},"");return f["default"].substitute(e["default"],
{categories:B,icons:r["default"],role:D?"tree":"group"})};A.prototype.addEventListeners=function(){this.inherited(arguments);this.own(h["default"](".js-add-category-dropdown-menu",this.domNode).on("click",this.treeLinkClick.bind(this)),h["default"](".js-category-chip-wrap",this.domNode).on("click",this.categoryChipClick.bind(this)),h["default"](".js-add-category-dropdown-button",this.domNode).on("click",this.toggleCategoryDropdown.bind(this)),h["default"](".js-add-category-input",this.domNode).on("keydown",
this.addCategoryKeyDown.bind(this)),h["default"](".js-add-category-input",this.domNode).on("keyup",this.addCategoryKeyUp.bind(this)))};A.prototype.treeLinkClick=function(B){var x,D=B.target;g["default"].contains(D,"js-add-category-dropdown-link")&&(B.preventDefault(),B=D.getAttribute("data-category-path"),D.parentNode.classList.contains("is-active")?this.removeCategory(B,!0):this.addCategory(B,!0),null===(x=this.domNode.querySelector(".js-add-category-input"))||void 0===x?void 0:x.focus())};A.prototype.categoryChipClick=
function(B){B.preventDefault();B=B.target;g["default"].contains(B,"js-category-chip-remove")&&(B=B.getAttribute("data-category-name"),this.removeCategory(B,!0))};A.prototype.toggleCategoryDropdown=function(){this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")?this.closeCategoryDropdown():this.openCategoryDropdown()};A.prototype.openCategoryDropdown=function(){var B=this.domNode.querySelector(".js-add-category-input"),x=this.domNode.querySelector(".js-add-category-dropdown");
B.value="";x.classList.add("is-active");B.focus();window.addEventListener("click",this.globalClickListener);if(q["default"]("trident")||q["default"]("edge"))B=this.domNode.closest(".dijitContentPane"),this.originalScrollTop&&this.originalScrollTop!==B.scrollTop?B.scrollTop=this.originalScrollTop:(this.originalScrollTop=B.scrollTop,B.scrollTop+=2)};A.prototype.closeCategoryDropdown=function(){this.alwaysOpen||(m["default"].querySelectorAllAsArray(".js-add-category-dropdown",this.domNode).forEach(function(B){return B.classList.remove("is-active")}),
this.selectedCategory=null);window.removeEventListener("click",this.globalClickListener);this.buildCategoryDropdown()};A.prototype.addCategoryKeyDown=function(B){9===B.keyCode?this.closeCategoryDropdown():13===B.keyCode&&this.domNode.querySelector(".js-add-category-dropdown").classList.contains("is-active")&&B.preventDefault()};A.prototype.addCategoryKeyUp=function(B){var x,D,E=B.keyCode,y=null===(x=B.target)||void 0===x?void 0:x.value;x=m["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",
this.domNode);var F=m["default"].querySelectorAllAsArray(".js-category-picker-item",this.domNode);m["default"].hideNodes(x);m["default"].hideNodes(F);var G=function(H){return-1<H.getAttribute("data-category-path").toLowerCase().indexOf(y.toLowerCase())};F=x.filter(function(H){var I=G(H);H=0<m["default"].querySelectorAllAsArray(".js-add-category-dropdown-link",H.parentNode).filter(G).length;return I||H}).map(function(H){var I;H.classList.remove("hide");null===(I=H.parentNode)||void 0===I?void 0:I.classList.remove("hide");
return H});x=this.domNode.querySelector(".js-add-category-dropdown-link.is-selected");switch(E){case 27:this.closeCategoryDropdown();break;case 13:B.preventDefault();x&&(E=x.getAttribute("data-category-path"),(null===(D=x.parentNode)||void 0===D?0:D.classList.contains("is-active"))?this.removeCategory(E,!0):this.addCategory(E,!0),x.classList.add("is-selected"));break;case 40:case 38:B.preventDefault(),B=F.indexOf(x),D=F[B+1]?F[B+1]:F[0],B=F[B-1]?F[B-1]:F[F.length-1],E=40===E?D:B,x&&x.classList.remove("is-selected"),
g["default"].add(E,"is-selected"),this.selectedCategory=E.getAttribute("data-category-path")}};A.prototype.rebuildCategoryChips=function(){var B=this,x=this.domNode.querySelector(".js-category-chip-wrap");k["default"].empty(x);var D=this.categories.sort(function(E,y){return B.categorySortHash[E]-B.categorySortHash[y]});D.forEach(function(E){var y=f["default"].substitute(b["default"].contentCategories.removeCategoryX,{category:E});E=f["default"].substitute(a["default"],{category:E,removeText:y,icons:r["default"]},
null,z["default"]);k["default"].place(E,x)});this.defaultText&&m["default"].showHide(this.defaultTextContainer,0===D.length)};A.prototype.removeRoot=function(B){return B.replace(new RegExp(this.rootNode+"/"),"/")};return A=n.__decorate([c["default"](w["default"],u["default"],v["default"])],A)}()})},"arcgisonline/pages/utils/categories":function(){define("require exports tslib ../../esriGeowConfig ../../sharing/util dojo/Deferred".split(" "),function(O,K,n,q,p,h){function f(r,l){var d=new h["default"],
e=[];q["default"].self.hasCategorySchema&&l.length?(r=g([],r),r.forEach(function(a){var b={};b[a]={categories:l};e.push(b)}),p["default"].request({url:q["default"].restBaseUrl+"content/updateItems",content:{items:JSON.stringify(e)}},{usePost:!0}).then(function(){return d.resolve()},function(){return d.resolve()})):d.resolve();return d}function g(r,l){var d=[].concat(r||[]);(null!==l&&void 0!==l?l:[]).forEach(function(e){e&&-1===d.indexOf(e)&&d.push(e)});return d}function k(r){delete r.isOpen;delete r.depth;
delete r.order;r.categories&&(r.categories=r.categories.map(k));return r}function u(r,l,d){void 0===l&&(l="");void 0===d&&(d={});d.__total=d.__total||0;r.forEach(function(e){var a=l+"/"+e.title;a=a.trim();d.__total+=1;d[a]=d.__total;e.categories&&u(e.categories,a,d)});return d}function w(r){var l;(r=null===(l=null===r||void 0===r?void 0:r[0])||void 0===l?void 0:l.title)&&"/"!==r.charAt(0)&&(r="/"+r);return r||"/Categories"}function C(r,l){return{id:r.id,categories:l?r.groupCategories:r.categories}}
function z(r){var l=r.group;r=r.portal;return p["default"].request({url:q["default"].restBaseUrl+(l?"content/groups/"+l.id+"/search":"search"),content:{num:0,q:l?"":"orgid:"+r.id,countFields:l?"groupCategories":"categories",countSize:200}}).then(function(d){return d.aggregations.counts[0].fieldValues})}Object.defineProperty(K,"__esModule",{value:!0});K.getCounts=K.simplifyItemObject=K.getRootNode=K.getSchemaOrder=K.cleanSchema=K.concatUniqueIds=K.setItemCategories=void 0;q=n.__importDefault(q);p=
n.__importDefault(p);h=n.__importDefault(h);K.setItemCategories=f;K.concatUniqueIds=g;K.cleanSchema=k;K.getSchemaOrder=u;K.getRootNode=w;K.simplifyItemObject=C;K.getCounts=z;K["default"]={setItemCategories:f,concatUniqueIds:g,cleanSchema:k,getSchemaOrder:u,getRootNode:w,simplifyItemObject:C,getCounts:z}})},"dijit/_editor/plugins/FontChoice":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/i18n dojo/_base/lang dojo/string dojo/store/Memory ../../registry ../../_Widget ../../_TemplatedMixin ../../_WidgetsInTemplateMixin ../../form/FilteringSelect ../_Plugin ../range dojo/i18n!../nls/FontChoice".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l){O=n("dijit._editor.plugins._FontDropDown",[u,w,C],{label:"",plainText:!1,templateString:"\x3cspan style\x3d'white-space: nowrap' class\x3d'dijit dijitReset dijitInline'\x3e\x3clabel class\x3d'dijitLeft dijitInline' for\x3d'${selectId}'\x3e${label}\x3c/label\x3e\x3cinput data-dojo-type\x3d'../../form/FilteringSelect' required\x3d'false' data-dojo-props\x3d'labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' class\x3d'${comboClass}' tabIndex\x3d'-1' id\x3d'${selectId}' data-dojo-attach-point\x3d'select' value\x3d''/\x3e\x3c/span\x3e",
contextRequire:O,postMixInProperties:function(){this.inherited(arguments);this.strings=p.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=k.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments)},postCreate:function(){this.select.set("store",new g({idProperty:"value",data:K.map(this.values,function(c){var m=this.strings[c]||c;return{label:this.getLabel(c,m),name:m,value:c}},this)}));this.select.set("value",
"",!1);this.disabled=this.select.get("disabled")},_setValueAttr:function(c,m){m=!1!==m;this.select.set("value",0>K.indexOf(this.values,c)?"":c,m);m||(this.select._lastValueReported=null)},_getValueAttr:function(){return this.select.get("value")},focus:function(){this.select.focus()},_setDisabledAttr:function(c){this._set("disabled",c);this.select.set("disabled",c)}});var d=n("dijit._editor.plugins._FontNameDropDown",O,{generic:!1,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){this.values||
(this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"]);this.inherited(arguments)},getLabel:function(c,m){return this.plainText?m:"\x3cdiv style\x3d'font-family: "+c+"'\x3e"+m+"\x3c/div\x3e"},_normalizeFontName:function(c){var m=this.values;if(!c||!m)return c;var t=c.split(",");if(1<t.length)for(var v=0,A=t.length;v<A;v++){var B=f.trim(t[v]);if(-1<K.indexOf(m,B))return B}return c},_setValueAttr:function(c,m){m=!1!==
m;c=this._normalizeFontName(c);this.generic&&(c={Arial:"sans-serif",Helvetica:"sans-serif",Myriad:"sans-serif",Times:"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive",Courier:"monospace","Courier New":"monospace",Papyrus:"fantasy","Estrangelo Edessa":"cursive",Gabriola:"fantasy"}[c]||c);this.inherited(arguments,[c,m])}}),e=n("dijit._editor.plugins._FontSizeDropDown",O,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(c,
m){return this.plainText?m:"\x3cfont size\x3d"+c+"'\x3e"+m+"\x3c/font\x3e"},_setValueAttr:function(c,m){m=!1!==m;c.indexOf&&-1!=c.indexOf("px")&&(c={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[parseInt(c,10)]||c);this.inherited(arguments,[c,m])}}),a=n("dijit._editor.plugins._FormatBlockDropDown",O,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:"noFormat p h1 h2 h3 pre".split(" "),postCreate:function(){this.inherited(arguments);this.set("value","noFormat",!1)},getLabel:function(c,m){return this.plainText||
"noFormat"==c?m:"\x3c"+c+"\x3e"+m+"\x3c/"+c+"\x3e"},_execCommand:function(c,m,t){if("noFormat"===t){var v;if((m=l.getSelection(c.window))&&0<m.rangeCount&&(t=m.getRangeAt(0),t)){m=t.startContainer;for(v=t.endContainer;m&&m!==c.editNode&&m!==c.document.body&&1!==m.nodeType;)m=m.parentNode;for(;v&&v!==c.editNode&&v!==c.document.body&&1!==v.nodeType;)v=v.parentNode;var A=h.hitch(this,function(E,y){if(E.childNodes&&E.childNodes.length){var F;for(F=0;F<E.childNodes.length;F++){var G=E.childNodes[F];if(1==
G.nodeType&&c.selection.inSelection(G)){var H=G.tagName?G.tagName.toLowerCase():"";-1!==K.indexOf(this.values,H)&&y.push(G);A(G,y)}}}});t=h.hitch(this,function(E){if(E&&E.length){for(c.beginEditing();E.length;)this._removeFormat(c,E.pop());c.endEditing()}});var B=[];if(m==v){for(v=m;v&&v!==c.editNode&&v!==c.document.body;){if(1==v.nodeType){var x=v.tagName?v.tagName.toLowerCase():"";if(-1!==K.indexOf(this.values,x)){var D=v;break}}v=v.parentNode}A(m,B);D&&(B=[D].concat(B))}else for(v=m;c.selection.inSelection(v);)1==
v.nodeType&&(x=v.tagName?v.tagName.toLowerCase():"",-1!==K.indexOf(this.values,x)&&B.push(v),A(v,B)),v=v.nextSibling;t(B);c.onDisplayChanged()}}else c.execCommand(m,t)},_removeFormat:function(c,m){if(c.customUndo){for(;m.firstChild;)q.place(m.firstChild,m,"before");m.parentNode.removeChild(m)}else{c.selection.selectElementChildren(m);var t=c.selection.getSelectedHtml();c.selection.selectElement(m);c.execCommand("inserthtml",t||"")}}}),b=n("dijit._editor.plugins.FontChoice",r,{useDefaultCommand:!1,
_initButton:function(){var c={fontName:d,fontSize:e,formatBlock:a}[this.command],m=this.params;this.params.custom&&(m.values=this.params.custom);var t=this.editor;this.button=new c(h.delegate({dir:t.dir,lang:t.lang},m));this.own(this.button.select.on("change",h.hitch(this,function(v){this.editor.focused&&this.editor.focus();"fontName"==this.command&&-1!=v.indexOf(" ")&&(v="'"+v+"'");this.button._execCommand?this.button._execCommand(this.editor,this.command,v):this.editor.execCommand(this.command,
v)})))},updateState:function(){var c=this.editor,m=this.command;if(c&&c.isLoaded&&m.length&&this.button){var t=this.get("disabled");this.button.set("disabled",t);if(!t){try{var v=c.queryCommandValue(m)||""}catch(B){v=""}(t=h.isString(v)&&(v.match(/'([^']*)'/)||v.match(/"([^"]*)"/)))&&(v=t[1]);"fontSize"!==m||v||(v=3);if("formatBlock"===m)if(v&&"p"!=v)0>K.indexOf(this.button.values,v)&&(v="noFormat");else{v=null;if((m=l.getSelection(this.editor.window))&&0<m.rangeCount&&(m=m.getRangeAt(0)))var A=m.endContainer;
for(;A&&A!==c.editNode&&A!==c.document;){if((m=A.tagName?A.tagName.toLowerCase():"")&&-1<K.indexOf(this.button.values,m)){v=m;break}A=A.parentNode}v||(v="noFormat")}v!==this.button.get("value")&&this.button.set("value",v,!1)}}}});K.forEach(["fontName","fontSize","formatBlock"],function(c){r.registry[c]=function(m){return new b({command:c,plainText:m.plainText})}});b._FontDropDown=O;b._FontNameDropDown=d;b._FontSizeDropDown=e;b._FormatBlockDropDown=a;return b})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(O,K,n,q,p){return O("dijit.form.FilteringSelect",[q,p],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(h,f,g,k){f&&f[this.searchAttr]!==this._lastQuery||!f&&h.length&&this.store.getIdentity(h[0])!=this._lastQuery||
(h.length?this.set("item",h[0],k):this.set("value","",k||void 0===k&&!this.focused,this.textbox.value,null))},_openResultList:function(h,f,g){f[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(h,f,g,k){this._onChangeActive||(f=null);if(void 0===k){if(null===h||""===h)if(h="",!K.isString(g)){this._setDisplayedValueAttr(g||"",f);
return}var u=this;this._lastQuery=h;n(this.store.get(h),function(w){u._callbackSetLabel(w?[w]:[],void 0,void 0,f)})}else this.valueNode.value=h,this.inherited(arguments,[h,f,g,k])},_setItemAttr:function(h,f,g){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(h){return h.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(h,f){null==h&&(h="");if(!this._created){if(!("displayedValue"in this.params))return;f=!1}if(this.store){this.closeDropDown();
var g=K.clone(this.query),k=this._getDisplayQueryString(h);if(this.store._oldAPI)var u=k;else u=this._patternToRegExp(k),u.toString=function(){return k};this._lastQuery=g[this.searchAttr]=u;this._lastDisplayedValue=this.textbox.value=h;this._set("displayedValue",h);var w=this,C={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};K.mixin(C,this.fetchProperties);this._fetchHandle=this.store.query(g,C);n(this._fetchHandle,function(z){w._fetchHandle=null;w._callbackSetLabel(z||[],g,C,f)},function(z){w._fetchHandle=
null})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/_editor/plugins/TextColor":function(){define("require dojo/colors dojo/_base/declare dojo/_base/lang ../_Plugin ../../form/DropDownButton".split(" "),function(O,K,n,q,p,h){var f=n("dijit._editor.plugins.TextColor",p,{buttonClass:h,colorPicker:"dijit/ColorPalette",useDefaultCommand:!1,_initButton:function(){this.command=this.name;this.inherited(arguments);var g=this;this.button.loadDropDown=function(k){function u(w){g.button.dropDown=
new w({dir:g.editor.dir,ownerDocument:g.editor.ownerDocument,value:g.value,onChange:function(C){g.editor.execCommand(g.command,C)},onExecute:function(){g.editor.execCommand(g.command,this.get("value"))}});k()}"string"==typeof g.colorPicker?O([g.colorPicker],u):u(g.colorPicker)}},updateState:function(){var g=this.editor,k=this.command;if(g&&g.isLoaded&&k.length){if(this.button){var u=this.get("disabled");this.button.set("disabled",u);if(u)return;try{var w=g.queryCommandValue(k)||""}catch(C){w=""}}""==
w&&(w="#000000");"transparent"==w&&(w="#ffffff");"string"==typeof w?-1<w.indexOf("rgb")&&(w=K.fromRgb(w).toHex()):(w=((w&255)<<16|w&65280|(w&16711680)>>>16).toString(16),w="#000000".slice(0,7-w.length)+w);this.value=w;(g=this.button.dropDown)&&g.get&&w!==g.get("value")&&g.set("value",w,!1)}}});p.registry.foreColor=function(g){return new f(g)};p.registry.hiliteColor=function(g){return new f(g)};return f})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],
function(O,K,n,q){var p={};K.setObject("dojo.colors",p);var h=function(g,k,u){0>u&&++u;1<u&&--u;var w=6*u;return 1>w?g+(k-g)*w:1>2*u?k:2>3*u?g+(k-g)*(2/3-u)*6:g};O.colorFromRgb=n.fromRgb=function(g,k){var u=g.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(u){var w=u[2].split(/\s*,\s*/),C=w.length;u=u[1];if("rgb"==u&&3==C||"rgba"==u&&4==C)return u=w[0],"%"==u.charAt(u.length-1)?(u=q.map(w,function(l){return 2.56*parseFloat(l)}),4==C&&(u[3]=w[3]),n.fromArray(u,k)):n.fromArray(w,k);if("hsl"==
u&&3==C||"hsla"==u&&4==C){u=(parseFloat(w[0])%360+360)%360/360;var z=parseFloat(w[1])/100,r=parseFloat(w[2])/100;z=.5>=r?r*(z+1):r+z-r*z;r=2*r-z;u=[256*h(r,z,u+1/3),256*h(r,z,u),256*h(r,z,u-1/3),1];4==C&&(u[3]=w[3]);return n.fromArray(u,k)}}return null};var f=function(g,k,u){g=Number(g);return isNaN(g)?u:g<k?k:g>u?u:g};n.prototype.sanitize=function(){this.r=Math.round(f(this.r,0,255));this.g=Math.round(f(this.g,0,255));this.b=Math.round(f(this.b,0,255));this.a=f(this.a,0,1);return this};p.makeGrey=
n.makeGrey=function(g,k){return n.fromArray([g,g,g,k])};K.mixin(n.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],
darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,
105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,
128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,
112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,
99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return n})},"arcgisonline/pages/dijit/InlineEdit/ViewSource":function(){define("require exports tslib ../../../tsutils/declareDecorator dijit/_editor/_Plugin dijit/_editor/plugins/ViewSource esri/libs/sanitizer/Sanitizer".split(" "),function(O,K,n,q,p,h,f){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);var g=function(){function k(u){this.declaredClass=
"arcgisonline.pages.dijit.InlineEdit.ViewSource";this.sanitizer=new f["default"]}k.prototype._filter=function(u){u&&(u=this.sanitizer.sanitize(u),this.stripScripts&&(u=this._stripScripts(u)),this.stripComments&&(u=this._stripComments(u)),this.stripIFrames&&(u=this._stripIFrames(u)),this.stripEventHandlers&&(u=this._stripEventHandlers(u)));return u};return k=n.__decorate([q["default"](h["default"])],k)}();p["default"].registry.viewSourceSanitize=p["default"].registry.viewsourcesanitize=function(k){return new g({readOnly:"readOnly"in
k?k.readOnly:!1,stripComments:"stripComments"in k?k.stripComments:!0,stripScripts:"stripScripts"in k?k.stripScripts:!0,stripIFrames:"stripIFrames"in k?k.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in k?k.stripEventHandlers:!0})};return g})},"dijit/_editor/plugins/ViewSource":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/window ../../focus ../_Plugin ../../form/ToggleButton ../.. ../../registry dojo/i18n!../nls/commands".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){var b=n("dijit._editor.plugins.ViewSource",l,{stripScripts:!0,stripComments:!0,stripIFrames:!0,stripEventHandlers:!0,readOnly:!1,_fsPlugin:null,toggle:function(){C("webkit")&&(this._vsFocused=!0);this.button.set("checked",!this.button.get("checked"))},_initButton:function(){var c=g.getLocalization("dijit._editor","commands"),m=this.editor;this.button=new d({label:c.viewSource,ownerDocument:m.ownerDocument,dir:m.dir,lang:m.lang,showLabel:!1,iconClass:this.iconClassPrefix+
" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:u.hitch(this,"_showSource")});this.button.set("readOnly",!1)},setEditor:function(c){this.editor=c;this._initButton();this.removeValueFilterHandles();this._setValueFilterHandle=K.before(this.editor,"setValue",u.hitch(this,function(m){return[this._filter(m)]}));this._getValueFilterHandle=K.after(this.editor,"getValue",u.hitch(this,function(m){return this._filter(m)}));this.editor.addKeyHandler(k.F12,!0,!0,u.hitch(this,function(m){this.button.focus();
this.toggle();m.stopPropagation();m.preventDefault();setTimeout(u.hitch(this,function(){this.editor.focused&&this.editor.focus()}),100)}))},_showSource:function(c){var m=this.editor,t=m._plugins;this._sourceShown=c;var v=this;try{this.sourceArea||this._createSourceView();if(c)m._sourceQueryCommandEnabled=m.queryCommandEnabled,m.queryCommandEnabled=function(B){return"viewsource"===B.toLowerCase()},this.editor.onDisplayChanged(),O.forEach(t,function(B){!B||B instanceof b||!B.isInstanceOf(l)||B.set("disabled",
!0)}),this._fsPlugin&&(this._fsPlugin._getAltViewNode=function(){return v.sourceArea}),this.sourceArea.value=m.get("value"),this.sourceArea.style.height=m.iframe.style.height,this.sourceArea.style.width=m.iframe.style.width,m.iframe.parentNode.style.position="relative",f.set(m.iframe,{position:"absolute",top:0,visibility:"hidden"}),f.set(this.sourceArea,{display:"block"}),this._resizeHandle=w(window,"resize",u.hitch(this,function(){var B=z.getBox(m.ownerDocument);"_prevW"in this&&"_prevH"in this&&
B.w===this._prevW&&B.h===this._prevH||(this._prevW=B.w,this._prevH=B.h,this._resizer&&(clearTimeout(this._resizer),delete this._resizer),this._resizer=setTimeout(u.hitch(this,function(){delete this._resizer;this._resize()}),10))})),setTimeout(u.hitch(this,this._resize),100),this.editor.onNormalizedDisplayChanged(),this.editor.__oldGetValue=this.editor.getValue,this.editor.getValue=u.hitch(this,function(){var B=this.sourceArea.value;return B=this._filter(B)}),this._setListener=K.after(this.editor,
"setValue",u.hitch(this,function(B){this.sourceArea.value=B||""}),!0);else{if(!m._sourceQueryCommandEnabled)return;this._setListener.remove();delete this._setListener;this._resizeHandle.remove();delete this._resizeHandle;this.editor.__oldGetValue&&(this.editor.getValue=this.editor.__oldGetValue,delete this.editor.__oldGetValue);m.queryCommandEnabled=m._sourceQueryCommandEnabled;if(!this._readOnly){var A=this.sourceArea.value;m.beginEditing();m.set("value",A);m.endEditing()}O.forEach(t,function(B){B&&
B.isInstanceOf(l)&&B.set("disabled",!1)});f.set(this.sourceArea,"display","none");f.set(m.iframe,{position:"relative",visibility:"visible"});delete m._sourceQueryCommandEnabled;this.editor.onDisplayChanged()}setTimeout(u.hitch(this,function(){var B=m.domNode.parentNode;B&&(B=a.getEnclosingWidget(B))&&B.resize&&B.resize();m.resize()}),300)}catch(B){}},updateState:function(){this.button.set("disabled",this.get("disabled"))},_resize:function(){var c=this.editor,m=c.getHeaderHeight(),t=c.getFooterHeight(),
v=h.position(c.domNode),A=h.getPadBorderExtents(c.iframe.parentNode),B=h.getMarginExtents(c.iframe.parentNode),x=h.getPadBorderExtents(c.domNode),D=v.w-x.w;v=v.h-(m+x.h+t);this._fsPlugin&&this._fsPlugin.isFullscreen&&(c=z.getBox(c.ownerDocument),D=c.w-x.w,v=c.h-(m+x.h+t));h.setMarginBox(this.sourceArea,{w:Math.round(D-(A.w+B.w)),h:Math.round(v-(A.h+B.h))})},_createSourceView:function(){var c=this.editor,m=c._plugins;this.sourceArea=p.create("textarea");this.readOnly&&(q.set(this.sourceArea,"readOnly",
!0),this._readOnly=!0);f.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});q.set(this.sourceArea,"aria-label",this.editor.id);p.place(this.sourceArea,c.iframe,"before");C("ie")&&c.iframe.parentNode.lastChild!==c.iframe&&f.set(c.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});c._viewsource_oldFocus=c.focus;var t=this;c.focus=function(){if(t._sourceShown)t.setSourceAreaCaret();else try{this._vsFocused?
(delete this._vsFocused,r.focus(c.editNode)):c._viewsource_oldFocus()}catch(B){}};var v,A;for(v=0;v<m.length;v++)if((A=m[v])&&("dijit._editor.plugins.FullScreen"===A.declaredClass||A.declaredClass===e._scopeName+"._editor.plugins.FullScreen")){this._fsPlugin=A;break}this._fsPlugin&&(this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode,this._fsPlugin._getAltViewNode=function(){return t._sourceShown?t.sourceArea:this._viewsource_getAltViewNode()});this.own(w(this.sourceArea,"keydown",
u.hitch(this,function(B){this._sourceShown&&B.keyCode==k.F12&&B.ctrlKey&&B.shiftKey&&(this.button.focus(),this.button.set("checked",!1),setTimeout(u.hitch(this,function(){c.focus()}),100),B.stopPropagation(),B.preventDefault())})))},_stripScripts:function(c){c&&(c=c.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,""),c=c.replace(/<\s*script\b([^<>]|\s)*>?/ig,""),c=c.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,""));return c},_stripComments:function(c){c&&(c=c.replace(/\x3c!--(.|\s){1,}?--\x3e/g,
""));return c},_stripIFrames:function(c){c&&(c=c.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,""));return c},_stripEventHandlers:function(c){if(c){var m=c.match(/<[a-z]+?\b(.*?on.*?(['"]).*?\2.*?)+>/gim);if(m)for(var t=0,v=m.length;t<v;t++){var A=m[t],B=A.replace(/\s+on[a-z]*\s*=\s*(['"])(.*?)\1/igm,"");c=c.replace(A,B)}}return c},_filter:function(c){c&&(this.stripScripts&&(c=this._stripScripts(c)),this.stripComments&&(c=this._stripComments(c)),this.stripIFrames&&(c=this._stripIFrames(c)),
this.stripEventHandlers&&(c=this._stripEventHandlers(c)));return c},removeValueFilterHandles:function(){this._setValueFilterHandle&&(this._setValueFilterHandle.remove(),delete this._setValueFilterHandle);this._getValueFilterHandle&&(this._getValueFilterHandle.remove(),delete this._getValueFilterHandle)},setSourceAreaCaret:function(){var c=this.sourceArea;r.focus(c);this._sourceShown&&!this.readOnly&&(c.setSelectionRange?c.setSelectionRange(0,0):this.sourceArea.createTextRange&&(c=c.createTextRange(),
c.collapse(!0),c.moveStart("character",-99999),c.moveStart("character",0),c.moveEnd("character",0),c.select()))},destroy:function(){this._resizer&&(clearTimeout(this._resizer),delete this._resizer);this._resizeHandle&&(this._resizeHandle.remove(),delete this._resizeHandle);this._setListener&&(this._setListener.remove(),delete this._setListener);this.removeValueFilterHandles();this.inherited(arguments)}});l.registry.viewSource=l.registry.viewsource=function(c){return new b({readOnly:"readOnly"in c?
c.readOnly:!1,stripComments:"stripComments"in c?c.stripComments:!0,stripScripts:"stripScripts"in c?c.stripScripts:!0,stripIFrames:"stripIFrames"in c?c.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in c?c.stripEventHandlers:!0})};return b})},"arcgisonline/sharing/dijit/LinkDialog":function(){define("require exports tslib dijit/_editor/_Plugin dijit/_editor/plugins/LinkDialog dojo/on ../util ../../pages/utils/validation ../../tsutils/declareDecorator dojo/i18n!../../nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);var w=function(){function z(r,l){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'hide'\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit/form/Select'\x3e\x3coption selected\x3d'selected' value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e"}
z.prototype._loadDropDown=function(){var r=this;this.inherited(arguments);var l=0,d=setInterval(function(){r._urlInput?(clearInterval(d),r._urlInput.isValid=function(){return!0}):15<l&&clearInterval(d);l++},1E3)};z.prototype._onOpenDialog=function(){this.inherited(arguments);var r=u["default"].linkDialog;this._urlInputError=document.getElementById(this._uniqueId+"_urlInputError");this.dropDown.contentsNode.parentNode.classList.add("link-container");var l=this.dropDown.containerNode;l.classList.add("text-left");
l.title=r.linkTitle;l.firstChild.textContent="";var d=l.children[0];d.className+="link-container__title font-size-1";d.style.cssText="";d.textContent=r.linkTitle;if(d=document.getElementById(this._uniqueId+"_textInputLabel"))d.innerHTML=r.text;if(d=document.getElementById(this._uniqueId+"_urlInputLabel"))d.innerHTML=r.url;this._setButton.set("label",r.update);r=l.querySelector("#"+this._uniqueId+"_textInput");var e=l.querySelector("#"+this._uniqueId+"_urlInput"),a=r.value;setTimeout(function(){a&&
e.focus()},150)};z.prototype._isValid=function(){var r=this._urlInput.get("value");if(!f["default"].isPortal()&&r.length&&-1<r.indexOf("http:"))return g["default"].setInvalidState(null,this._urlInputError,u["default"].common.httpNotSupported),!1;g["default"].clearState([this._urlInputError]);return!0};z.prototype._checkAndFixInput=function(){var r=this,l=this._urlInput.get("value");this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var d=
l,e=!1,a=!1;1<(null===d||void 0===d?void 0:d.length)&&(d=d.trim(),0!==d.indexOf("mailto:")&&(0<d.indexOf("/")?-1===d.indexOf("://")&&"/"!==d.charAt(0)&&d.indexOf("./")&&0!==d.indexOf("../")&&r._hostRxp.test(d)&&(e=!0):r._userAtRxp.test(d)&&(a=!0)));e&&-1===d.indexOf("{expression/")&&-1===d.indexOf("{relationships/")&&r._urlInput.set("value","http://"+d);a&&r._urlInput.set("value","mailto:"+d);r._setButton.set("disabled",!r._isValid())},250)};return z=n.__decorate([k["default"](p["default"])],z)}(),
C=function(){function z(r,l){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e";
this.htmlTemplate='\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e';this.tag="img"}z.prototype._getCurrentValues=function(r){if((null===r||void 0===r?void 0:r.tagName.toLowerCase())===this.tag){var l=r.getAttribute("_djrealurl")||r.getAttribute("src");var d=r.getAttribute("alt");this.editor.selection.selectElement(r,!0)}else d=this.editor.selection.getSelectedText();return{urlInput:l||"",textInput:d||""}};z.prototype._onOpenDialog=function(){this.inherited(arguments);
var r=u["default"].linkDialog;this._urlInputError=document.getElementById(this._uniqueId+"_urlInputError");this.dropDown.contentsNode.parentNode.classList.add("link-container");var l=this.dropDown.containerNode;l.classList.add("text-left");l.title=r.imageTitle;l.firstChild.textContent="";l=l.children[0];l.className+="link-container__title font-size-1";l.style.cssText="";l.textContent=r.imageTitle;if(l=document.getElementById(this._uniqueId+"_textInputLabel"))l.innerHTML=r.description;if(l=document.getElementById(this._uniqueId+
"_urlInputLabel"))l.innerHTML=r.url;this._setButton.set("label",r.update)};z.prototype._isValid=function(){var r=this._urlInput.get("value");if(!f["default"].isPortal()&&r.length&&-1<r.indexOf("http:"))return g["default"].setInvalidState(null,this._urlInputError,u["default"].common.httpNotSupported),!1;g["default"].clearState([this._urlInputError]);return!0};z.prototype._connectTagEvents=function(){var r=this;this.inherited(arguments);this.editor.onLoadDeferred.then(function(){r.own(h["default"](r.editor.editNode,
"mousedown",r._selectTag.bind(r)))})};z.prototype._selectTag=function(r){if(null===r||void 0===r?0:r.target)r=r.target,(r.tagName?r.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(r)};z.prototype._checkValues=function(r){if(null===r||void 0===r?0:r.urlInput)r.urlInput=r.urlInput.replace(/"/g,"\x26quot;");if(null===r||void 0===r?0:r.textInput)r.textInput=r.textInput.replace(/"/g,"\x26quot;");return r};z.prototype._onDblClick=function(r){if(r&&r.target&&(r=r.target,(r.tagName?
r.tagName.toLowerCase():"")===this.tag&&r.src)){var l=this.editor;this.editor.selection.selectElement(r);l.onDisplayChanged();l._updateTimer&&(l._updateTimer.remove(),delete l._updateTimer);l.onNormalizedDisplayChanged();var d=this.button;setTimeout(function(){d.set("disabled",!1);d.loadAndOpenDropDown().then(function(){d.dropDown.focus&&d.dropDown.focus()})},10)}};return z=n.__decorate([k["default"](p["default"])],z)}();q["default"].registry.createEsriLink=function(z){return new w({command:"createLink"})};
q["default"].registry.insertEsriImage=function(z){return new C({command:"insertImage"})};w.ImgLinkDialog=C;return w})},"dijit/_editor/plugins/LinkDialog":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/query dojo/string ../_Plugin ../../form/DropDownButton ../range".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z){var r=n("dijit._editor.plugins.LinkDialog",w,{allowUnsafeHtml:!1,linkFilter:[[/</g,"\x26lt;"]],buttonClass:C,
useDefaultCommand:!1,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",
emailRegExp:"\x3c?(mailto\\:)([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*\x3e?",htmlTemplate:'\x3ca href\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" target\x3d"${targetSelect}"\x3e${textInput}\x3c/a\x3e',tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,
linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit.form.Select'\x3e\x3coption selected\x3d'selected' value\x3d'_self'\x3e${currentWindow}\x3c/option\x3e\x3coption value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3coption value\x3d'_top'\x3e${topWindow}\x3c/option\x3e\x3coption value\x3d'_parent'\x3e${parentWindow}\x3c/option\x3e\x3c/select\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
_initButton:function(){this.inherited(arguments);this.button.loadDropDown=h.hitch(this,"_loadDropDown");this._connectTagEvents()},_loadDropDown:function(d){O("dojo/i18n ../../TooltipDialog ../../registry ../../form/Button ../../form/Select ../../form/ValidationTextBox dojo/i18n!../../nls/common dojo/i18n!../nls/LinkDialog".split(" "),h.hitch(this,function(e,a,b){var c=this;this.tag="insertImage"==this.command?"img":"a";e=h.delegate(e.getLocalization("dijit","common",this.lang),e.getLocalization("dijit._editor",
"LinkDialog",this.lang));var m=this.dropDown=this.button.dropDown=new a({title:e[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:h.hitch(this,"setValue"),onOpen:function(){c._onOpenDialog();a.prototype.onOpen.apply(this,arguments)},onCancel:function(){setTimeout(h.hitch(c,"_onCloseDialog"),0)}});e.urlRegExp=this.urlRegExp;e.id=b.getUniqueId(this.editor.id);this._uniqueId=e.id;this._setContent(m.title+"\x3cdiv style\x3d'border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'\x3e\x3c/div\x3e"+
u.substitute(this.linkDialogTemplate,e));m.startup();this._urlInput=b.byId(this._uniqueId+"_urlInput");this._textInput=b.byId(this._uniqueId+"_textInput");this._setButton=b.byId(this._uniqueId+"_setButton");this.own(b.byId(this._uniqueId+"_cancelButton").on("click",h.hitch(this.dropDown,"onCancel")));this._urlInput&&this.own(this._urlInput.on("change",h.hitch(this,"_checkAndFixInput")));this._textInput&&this.own(this._textInput.on("change",h.hitch(this,"_checkAndFixInput")));this._urlRegExp=new RegExp("^"+
this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=h.hitch(this,function(){var t=this._urlInput.get("value");return this._urlRegExp.test(t)||this._emailRegExp.test(t)});this.own(f(m.domNode,"keydown",h.hitch(this,h.hitch(this,function(t){!t||t.keyCode!=p.ENTER||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey||this._setButton.get("disabled")||(m.onExecute(),m.execute(m.get("value")))}))));d()}))},_checkAndFixInput:function(){var d=this,e=this._urlInput.get("value");
this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var a=e,b=!1,c=!1;a&&1<a.length&&(a=h.trim(a),0!==a.indexOf("mailto:")&&(0<a.indexOf("/")?-1===a.indexOf("://")&&"/"!==a.charAt(0)&&a.indexOf("./")&&0!==a.indexOf("../")&&d._hostRxp.test(a)&&(b=!0):d._userAtRxp.test(a)&&(c=!0)));b&&d._urlInput.set("value","http://"+a);c&&d._urlInput.set("value","mailto:"+a);d._setButton.set("disabled",!d._isValid())},250)},_connectTagEvents:function(){this.editor.onLoadDeferred.then(h.hitch(this,
function(){this.own(f(this.editor.editNode,"mouseup",h.hitch(this,"_onMouseUp")));this.own(f(this.editor.editNode,"dblclick",h.hitch(this,"_onDblClick")))}))},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid()},_setContent:function(d){this.dropDown.set({parserScope:"dojo",content:d})},_checkValues:function(d){d&&d.urlInput&&(d.urlInput=d.urlInput.replace(/"/g,"\x26quot;"));!this.allowUnsafeHtml&&d&&d.textInput&&("function"===typeof this.linkFilter?d.textInput=this.linkFilter(d.textInput):
K.forEach(this.linkFilter,function(e){d.textInput=d.textInput.replace(e[0],e[1])}));return d},_createlinkEnabledImpl:function(){return!0},setValue:function(d){this._onCloseDialog();if(9>g("ie")){var e=z.getSelection(this.editor.window).getRangeAt(0).endContainer;3===e.nodeType&&(e=e.parentNode);e&&e.nodeName&&e.nodeName.toLowerCase()!==this.tag&&(e=this.editor.selection.getSelectedElement(this.tag));e&&e.nodeName&&e.nodeName.toLowerCase()===this.tag&&this.editor.queryCommandEnabled("unlink")&&(this.editor.selection.selectElementChildren(e),
this.editor.execCommand("unlink"))}d=this._checkValues(d);this.editor.execCommand("inserthtml",u.substitute(this.htmlTemplate,d));k("a",this.editor.document).forEach(function(a){a.innerHTML||q.has(a,"name")||a.parentNode.removeChild(a)},this)},_onCloseDialog:function(){this.editor.focused&&this.editor.focus()},_getCurrentValues:function(d){if(d&&d.tagName.toLowerCase()===this.tag){var e=d.getAttribute("_djrealurl")||d.getAttribute("href");var a=d.getAttribute("target")||"_self";var b=d.textContent||
d.innerText;this.editor.selection.selectElement(d,!0)}else b=this.editor.selection.getSelectedText();return{urlInput:e||"",textInput:b||"",targetSelect:a||""}},_onOpenDialog:function(){if(g("ie")){var d=z.getSelection(this.editor.window);if(d.rangeCount){var e=d.getRangeAt(0);var a=e.endContainer;3===a.nodeType&&(a=a.parentNode);a&&a.nodeName&&a.nodeName.toLowerCase()!==this.tag&&(a=this.editor.selection.getSelectedElement(this.tag));if(!a||a.nodeName&&a.nodeName.toLowerCase()!==this.tag)(d=this.editor.selection.getAncestorElement(this.tag))&&
d.nodeName&&d.nodeName.toLowerCase()==this.tag?(a=d,this.editor.selection.selectElement(a)):e.startContainer===e.endContainer&&(d=e.startContainer.firstChild)&&d.nodeName&&d.nodeName.toLowerCase()==this.tag&&(a=d,this.editor.selection.selectElement(a))}}else a=this.editor.selection.getAncestorElement(this.tag);this.dropDown.reset();this._setButton.set("disabled",!0);this.dropDown.set("value",this._getCurrentValues(a))},_onDblClick:function(d){if(d&&d.target&&(d=d.target,(d.tagName?d.tagName.toLowerCase():
"")===this.tag&&q.get(d,"href"))){var e=this.editor;this.editor.selection.selectElement(d);e.onDisplayChanged();e._updateTimer&&(e._updateTimer.remove(),delete e._updateTimer);e.onNormalizedDisplayChanged();var a=this.button;setTimeout(function(){a.set("disabled",!1);a.loadAndOpenDropDown().then(function(){a.dropDown.focus&&a.dropDown.focus()})},10)}},_onMouseUp:function(){if(g("ff")){var d=this.editor.selection.getAncestorElement(this.tag);if(d){var e=z.getSelection(this.editor.window).getRangeAt(0);
if(e.collapsed&&d.childNodes.length){var a=e.cloneRange();a.selectNodeContents(d.childNodes[d.childNodes.length-1]);a.setStart(d.childNodes[0],0);1!==e.compareBoundaryPoints(a.START_TO_START,a)?e.setStartBefore(d):-1!==e.compareBoundaryPoints(a.END_TO_START,a)&&e.setStartAfter(d)}}}}}),l=n("dijit._editor.plugins.ImgLinkDialog",[r],{linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput dojoType\x3d'dijit.form.ValidationTextBox' regExp\x3d'${urlRegExp}' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'false' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
htmlTemplate:'\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e',tag:"img",_getCurrentValues:function(d){if(d&&d.tagName.toLowerCase()===this.tag){var e=d.getAttribute("_djrealurl")||d.getAttribute("src");var a=d.getAttribute("alt");this.editor.selection.selectElement(d,!0)}else a=this.editor.selection.getSelectedText();return{urlInput:e||"",textInput:a||""}},_isValid:function(){return this._urlInput.isValid()},_connectTagEvents:function(){this.inherited(arguments);
this.editor.onLoadDeferred.then(h.hitch(this,function(){this.own(f(this.editor.editNode,"mousedown",h.hitch(this,"_selectTag")))}))},_selectTag:function(d){d&&d.target&&(d=d.target,(d.tagName?d.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(d))},_checkValues:function(d){d&&d.urlInput&&(d.urlInput=d.urlInput.replace(/"/g,"\x26quot;"));d&&d.textInput&&(d.textInput=d.textInput.replace(/"/g,"\x26quot;"));return d},_onDblClick:function(d){if(d&&d.target&&(d=d.target,(d.tagName?
d.tagName.toLowerCase():"")===this.tag&&q.get(d,"src"))){var e=this.editor;this.editor.selection.selectElement(d);e.onDisplayChanged();e._updateTimer&&(e._updateTimer.remove(),delete e._updateTimer);e.onNormalizedDisplayChanged();var a=this.button;setTimeout(function(){a.set("disabled",!1);a.loadAndOpenDropDown().then(function(){a.dropDown.focus&&a.dropDown.focus()})},10)}}});w.registry.createLink=function(d){var e={command:"createLink",allowUnsafeHtml:"allowUnsafeHtml"in d?d.allowUnsafeHtml:!1};
"linkFilter"in d&&(e.linkFilter=d.linkFilter);return new r(e)};w.registry.insertImage=function(){return new l({command:"insertImage"})};r.ImgLinkDialog=l;return r})},"arcgisonline/pages/item/_Actions":function(){define("require exports tslib dojo/_base/lang dojo/_base/event dojo/on dojo/aspect dojo/dom-attr dojo/topic dojo/promise/all dojo/Deferred dojo/cookie dojo/json dojo/dom-class dojo/dom-construct dojo/string dojo/has esri/config esri/lang ../pageUtil ../portal/PortalItem ../utils/strings ../../esriGeowConfig ../../sharing/util ../../sharing/geow/Content ../../map/utils/getMapCookie ../../sharing/dijit/dialog/ConfirmDialog ../dijit/ChangeOwner ../dijit/MoveItem ../../sharing/dijit/dialog/DeleteWarningDlg ../../sharing/dijit/dialog/ExportDlg ../../sharing/dijit/dialog/ExtentDlg ../../sharing/dijit/dialog/GeneralDlg ../../sharing/dijit/dialog/ShareOwnershipDlg ../../sharing/utilShare ../../sharing/dijit/dialog/RateLimiting ../../sharing/dijit/dialog/LayerTimeSettings ../../sharing/dijit/dialog/UpdateItemDlg ../../sharing/dijit/dialog/PublishTileServiceDlg ../../sharing/dijit/dialog/CreateAppDlg ../organization/widgets/ProfilePopup ./widgets/AdvancedOfflineOptions/AdvancedOfflineOptions ../../sharing/dijit/dialog/AttachCodeDlg ../../sharing/dijit/dialog/OpenMapDlg ../../sharing/dijit/dialog/ManageSceneCache ../../sharing/dijit/dialog/JobStatusDlg ../../sharing/dijit/AppendData ../dijit/ReplaceLayer/ReplaceLayer ../dijit/ReplaceLayer/ReplaceSceneLayer ../../sharing/dijit/dialog/OverwriteFromCloud ../../sharing/dijit/dialog/_CreateItemUtilMixin ./widgets/_metadata ./widgets/typeOptions/mapOptions/httpsUpdate ./widgets/typeOptions/mapOptions/domainUpdate ../utils/setItemUrls ../utils/item ../utils/alerts ../utils/arrays ../utils/dom ../utils/number ../utils/verified ../utils/icons ../serviceUtil ../components/Collaborations/collab-service esri/request arcgis-components/wrappers/Share dojo/i18n!../../nls/arcgisonline ../portal/PortalUser preact ../components/ConfirmDialog ../statusUtil ../components/ImageUploadModal/ImageUploadModal ../components/UpdateViewModal".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X,aa,fa,oa,ua,ha,U,ka,W,Q,L,ca,Y,da,S,P,V,ba,ea,ia,ja,la,na,ra,va,za,Aa,Ba,Oa,Ja,xa,Ea,sa,pa){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);
a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);F=n.__importDefault(F);G=n.__importDefault(G);H=n.__importDefault(H);I=n.__importDefault(I);N=n.__importDefault(N);M=n.__importDefault(M);J=n.__importDefault(J);R=n.__importDefault(R);Z=n.__importDefault(Z);T=n.__importDefault(T);
X=n.__importDefault(X);aa=n.__importDefault(aa);fa=n.__importDefault(fa);oa=n.__importDefault(oa);ua=n.__importDefault(ua);ha=n.__importDefault(ha);U=n.__importDefault(U);ka=n.__importDefault(ka);W=n.__importDefault(W);Q=n.__importDefault(Q);L=n.__importDefault(L);ca=n.__importDefault(ca);Y=n.__importDefault(Y);da=n.__importDefault(da);S=n.__importDefault(S);P=n.__importDefault(P);V=n.__importDefault(V);ba=n.__importDefault(ba);ea=n.__importDefault(ea);ia=n.__importDefault(ia);ja=n.__importDefault(ja);
la=n.__importDefault(la);na=n.__importDefault(na);ra=n.__importDefault(ra);va=n.__importDefault(va);za=n.__importDefault(za);Ba=n.__importDefault(Ba);Oa=n.__importDefault(Oa);xa=n.__importDefault(xa);Ea=n.__importDefault(Ea);sa=n.__importDefault(sa);pa=n.__importDefault(pa);return function(ya){function ta(){return null!==ya&&ya.apply(this,arguments)||this}n.__extends(ta,ya);ta.openDefault=function(ma){var qa,wa=ma.evt,Fa=ma.item,Da=null===(qa=null===Fa||void 0===Fa?void 0:Fa.openIn)||void 0===qa?
void 0:qa[0],Ca="Operation View"===Fa.type||"Dashboard"===Fa.type;qa="appViewer"===Da||"StoryMap"===Fa.type;var Ia="mapViewer"===Da,La="notebookViewer"===Da,Ga=ea["default"].includes(Fa.types,"is-desktop")||ea["default"].includes(Fa.types,"is-desktopPro"),Ma=ea["default"].includes(Fa.types,"is-pro"),Ha=Fa.types.some(function(Na){return-1<["is-download","is-pdf","is-file"].indexOf(Na)}),Ka=ea["default"].includes(Fa.types,"is-downloadImage");(Da=Ca?null:document.querySelector(".js-open-"+(qa?"url":
Da)))?(wa=g["default"].get(Da,"href"),qa?window.open(wa):Ia?this.newMapViewer(ma):window.location.href=wa):La?window.open(Fa.notebookViewerUrl,"_blank").focus():Ga?this.openDesktop(ma):Ma?this.openPro(ma):Ha?this.download(ma):Ka?this.downloadImage(ma):Ca?(Da=Array.prototype.slice.call(document.querySelectorAll(".js-open-btn")).filter(function(Na){return 0!==(null===Na||void 0===Na?void 0:Na.offsetHeight)}).shift(),wa=Da.getAttribute("href"),"Dashboard"===Fa.type?window.open(wa):window.location.href=
wa):p["default"].stop(wa)};ta.exportData=function(ma){var qa=ma.evt,wa=ma.item,Fa=new G["default"],Da=ma.layerId||g["default"].get(qa.currentTarget,"data-layerId");ma=ma.layer||(b["default"].isDefined(Da)?c["default"].findLayer(Da,wa.layers):wa.layers);Fa.show(wa,ma,g["default"].get(qa.target,"data-type"));h["default"](Fa,"done",function(Ca){Fa.hide().then(function(){window.location.href="item.html?id\x3d"+Ca.itemId})})};ta.exportImagery=function(ma){var qa=ma.item,wa=qa.portal||{},Fa=this._getAvailableCredits(wa),
Da=wa.isPortal?null:new w["default"];if(!wa.isPortal){wa=ra["default"].fetchExportImageryCredits(qa);var Ca=wa.canceller;wa.dfd.then(function(La){var Ga=La.outputValue;La.success&&Ga.credits?(La=d["default"].substitute(Ba["default"].exportDlg.costForTilePackage,{credits:ja["default"].format(Ga.credits),availableCredits:ja["default"].format(Fa)}),Da.resolve({success:Fa>=Ga.credits,code:1,message:La})):Da.reject(Ba["default"].errorWidget.defaultError);return null},function(){return Da.reject(Ba["default"].errorWidget.defaultError)})}var Ia=
new G["default"];Ia.show(qa,qa.layers,g["default"].get(ma.evt.target,"data-type"),{waitForCredits:Da,canceller:Ca});h["default"](Ia,"done",function(La){Ia.hide().then(function(){window.location.href="item.html?id\x3d"+La.itemId})})};ta.appendData=function(ma){var qa=ma.evt,wa=ma.page,Fa=ma.item;ma=b["default"].isDefined(ma.layerId)?ma.layerId:g["default"].get(qa.currentTarget,"data-layerId");ma=b["default"].isDefined(ma)?c["default"].findLayer(ma,Fa.layers):null;var Da=(new ka["default"]({item:Fa,
layer:ma,layers:ma?[ma]:Fa.layers})).show();h["default"](Da,"hide",function(Ca){wa._showDataLastUpdated(Fa);Da.destroyRecursive()})};ta.overwriteFromCloud=function(ma){var qa=ma.page.portal,wa=ma.item,Fa=new L["default"];ca["default"].getCloudProviderItemResource(wa).then(function(Da){Fa.startup(qa,Da,wa);Fa.showModal()},this._showError);h["default"](Fa,"hide",function(Da){Fa.destroyRecursive()})};ta.download=function(ma){ma=ma.item;A["default"]._fetchItemData(ma,this.getItemDataUrl(ma))};ta.openDesktop=
function(ma){var qa=ma.evt,wa=ma.item,Fa=wa.portal||{};qa=qa&&g["default"].get(qa.target,"data-type")||"arcmap";var Da=wa.url||"",Ca="Map Service"===wa.type,Ia="Image Service"===wa.type,La=A["default"].onAGOLFederatedServer(Da)||A["default"].onFederatedServer(Da),Ga=-1!==Da.indexOf(".arcgis.com/")&&-1!==Da.indexOf("//landscape"),Ma=wa.openPkg,Ha=wa.openData;Da=wa.openLyr;"pro"===qa?this.openPro(ma):(Fa.isPortal||!Ca&&!Ia||wa.isHostedService||wa.isServiceProxy||La||Ga||(Da=!0),ma=Ma?this._getItemPkgPath(wa):
Ha?this.getItemDataUrl(wa):Da?this._getLyrPath(wa):this._getPItemPath(wa),Da?A["default"].openPageAndCount(wa.id,ma):A["default"]._fetchItemData(wa,ma))};ta.openPro=function(ma){ma=ma.item;var qa=this._getPItemXPath(ma);ma.openLyr?A["default"].openPageAndCount(ma.id,qa):A["default"]._fetchItemData(ma,qa)};ta.share=function(ma,qa){var wa,Fa,Da,Ca,Ia=ma.items||(ma.item?[ma.item]:[]),La=ma.item||Ia[0]||{},Ga=document.createElement("div");Ga.classList.add("share-item-wrapper");document.body.appendChild(Ga);
var Ma=ma.telemetryWorkflow,Ha=ma.user.portal||(null===(wa=ma.page)||void 0===wa?void 0:wa.portal),Ka=ma.user||(null===(Fa=ma.page)||void 0===Fa?void 0:Fa.portalUser),Na=Ia.length,Qa=window.location.href,Pa=-1<Qa.indexOf("item.html")?"item":"content",Ra=ma.telemetry||(null===(Da=ma.page)||void 0===Da?void 0:Da.telemetry);!Ma&&Ra&&(Ma=Ra.startWorkflow("share",{details:La.access,pageUrl:Qa,pageName:Pa,count:Na}));var Sa=function(){var Ua;document.documentElement.classList.remove("overflow-hidden");
Ga.parentElement.removeChild(Ga);null===(Ua=null===qa||void 0===qa?void 0:qa.target)||void 0===Ua?void 0:Ua.focus()};document.documentElement.classList.add("overflow-hidden");var Va=new w["default"];Ha.canHavePartnerCollab()?va["default"].getCollaborations().then(function(Ua){var Ta;Ua=(null===(Ta=null===Ua||void 0===Ua?void 0:Ua.trustedOrgs)||void 0===Ta?void 0:Ta.filter(function(Xa){return-1<Xa.from.established&&-1<Xa.to.established}))||[];Va.resolve(Ua)}):Va.resolve([]);Va.then(function(Ua){new Aa.ShareWrapper(Ga,
{apiVersion:3,portal:Ha,portalUser:Ka,request:za["default"],initialState:{resources:{items:Ia},utilities:{onCancel:function(){Ma&&Ra&&Ra.cancelWorkflow("share",{pageName:Pa,pageUrl:Qa});Sa()},onComplete:function(Ta){var Xa,ab=0<(null===(Xa=null===Ta||void 0===Ta?void 0:Ta.errors)||void 0===Xa?void 0:Xa.length)&&Ta.errors[0];if(Ma){Xa={pageName:Pa,pageUrl:Qa,count:Na,details:void 0,error:void 0};if(Ta.selectedOptions){var Wa=Ta.selectedOptions,db=Object.keys(Ta.selectedOptions).filter(function($a){return"total"!==
$a}).reduce(function($a,Ya){if(!$a||Wa[Ya]>Wa[$a])$a=Ya;return $a},null);Xa.details=Wa[db]===Wa.total?db:"mixed"}ab&&ab.notSharedWith&&(Xa.error=ab.notSharedWith);Ra&&Ra.endWorkflow("share",Xa)}Sa();ab?ba["default"].showAlert("error",ab.error.message):1===Ia.length?ba["default"].showAlert("success",d["default"].substitute(Ba["default"].sharingDlg.itemUpdated,[Ia[0].title])):ba["default"].showAlert("success",d["default"].substitute(Ba["default"].sharingDlg.itemsUpdated,[Ia[0].title,Ia.length-1]));
var cb=Ia.reduce(function($a,Ya){var bb;return n.__assign(n.__assign({},$a),(bb={},bb[Ya.id]=!0,bb))},{}),Za=Ia[0].portal;Ta=(Ta&&Ta.dependentItems||[]).filter(function($a){return!cb[$a.id]}).map(function($a){return new m["default"](q["default"].mixin($a,{portal:Za}))});Ia=Ia.concat(Ta);u["default"](Ia.map(q["default"].hitch(c["default"],"getItemSharing"))).then(function($a){Ia.forEach(function(Ya,bb){Ca=$a[bb];var eb=(Ca.groups||[]).map(function(fb){return{id:fb.id,thumbnail:fb.thumbnail,title:fb.title}});
q["default"].mixin(Ya,{access:(null===Ca||void 0===Ca?void 0:Ca.access)||Ya.access,sharing:Ca,groupData:eb,sharedGroups:Ca.total||0});Ya.contentStatus=V["default"].getContentStatus(Ya)});return u["default"](Ia.map(la["default"].getVerifiedInfo))}).then(function($a){$a.forEach(function(Ya,bb){Ia[bb].verified=Ya});Ia.forEach(function(Ya){var bb="public"===Ya.access,eb=Ya.types||[];eb=ea["default"].concatUnique(eb,bb?["is-public"]:["is-not-public"]);eb=ea["default"].filterOut(eb,bb?["is-not-public"]:
["is-public"]);Ya.types=eb.concat();Ya.set("sharing",Ya.sharing)});k["default"].publish("view/updateShare",Ia);k["default"].publish("view/deselectAll",{})})}},config:{groupsPerPage:100,hasTrustedOrgs:0<Ua.length}}})})};ta.shareOwnership=function(ma){ma.portal.getPortalUser().getGroups().then(function(qa){var wa=ma.item||{},Fa=ma.items||[wa],Da=wa.type,Ca=new D["default"]({"class":"sharedOwnershipDlg",title:Ba["default"].sharingDlg.sharedOwnershipTitle,buttonOk:Ba["default"].common.ok,buttonCancel:Ba["default"].common.cancel,
style:{height:"auto"}}),Ia=new N["default"]({value:{items:Fa,groups:qa}}),La;Ca.setContent(Ia.domNode);Ia.startup().then(function(){Ca.show()});var Ga=k["default"].subscribe("/dlg/onOk",function(){Ia.validate().then(function(){Ia.shareWithSelectedGroup().then(function(){u["default"](Fa.map(q["default"].hitch(c["default"],"getItemSharing"))).then(function(Ha){Fa.forEach(function(Ka,Na){La=Ha[Na];q["default"].mixin(Ka,{access:(null===La||void 0===La?void 0:La.access)||Ka.access,sharing:La})});Fa[0].set("sharing",
Fa[0].sharing);k["default"].publish("view/deselectAll",{});ma.item&&("Web Map"===Da||"Web Scene"===Da?(a["default"].defaults.io.errorHandler=function(){},M["default"].checkWebMapContent({webMapId:wa.id,webMapItemCard:wa,webMapConfig:wa.itemData,confirmItemControl:!0})):"Web Mapping Application"===Da&&M["default"].checkWebAppContent({webAppId:wa.id,webAppItemCard:wa,confirmItemControl:!0}))});Ca.hide().then(function(){Ma.remove();Ga.remove()})},function(Ha){Ha&&Ha.messageCode&&"GWM_0021"===Ha.messageCode&&
ma.page._showError(Ha)})})});var Ma=k["default"].subscribe("/dlg/onCancel",function(){Ma.remove();Ga.remove()})})};ta.rateLimiting=function(ma){(new J["default"]({item:ma.item,user:ma.user})).showModal()};ta.timeSettings=function(ma){var qa=ma.item,wa=ma.evt,Fa=ma.user;ma=ma.layerId||g["default"].get(wa.target,"data-layerId");ma=c["default"].findLayer(ma,qa.layers);(new R["default"]({item:qa,layer:ma,user:Fa})).showModal()};ta.toggleFavorite=function(ma){var qa=ma.item,wa=ma.item.isFavorite;ma=ma.evt;
var Fa=new w["default"];p["default"].stop(ma);B["default"][wa?"removeFromFavorites":"addToFavorites"](qa).then(function(Da){var Ca,Ia;(null===(Ca=null===Da||void 0===Da?void 0:Da.notSharedWith)||void 0===Ca?0:Ca.length)||(null===(Ia=null===Da||void 0===Da?void 0:Da.notUnsharedFrom)||void 0===Ia?0:Ia.length)?Fa.reject({message:Ba["default"].itemProperties.error.cantShareFavorites}):(qa.set("isFavorite",!wa),Fa.resolve(qa.isFavorite))},function(Da){Fa.reject("item not provisioned"===(null===Da||void 0===
Da?void 0:Da.message)?{message:Ba["default"].itemProperties.error.noShareListedItem}:Da)});return Fa};ta.updateData=function(ma){var qa=ma.item,wa=g["default"].get(ma.evt.target,"data-type"),Fa=qa.thumbnail&&-1===qa.thumbnail.indexOf("thumbnail/ago_downloaded.")&&-1===qa.thumbnail.indexOf("thumbnail/thumbnail.");if("append"===wa)return this.appendData(ma);if("overwriteFromCloud"===wa)return this.overwriteFromCloud(ma);var Da=new Z["default"];Da.show(qa);var Ca=k["default"].subscribe("itemData/update",
function(){Ca.remove();"Vector Tile Service"!==qa.type||Fa?Da.hide():(qa.set({thumbnail:"",thumbnailUrl:""}),qa.getThumbnail(!0).then(function(Ia){Da.hide()},function(){Da.hide()}))});h["default"].once(Da._updateItemDialog,"hide",function(){Da._updateItemDialog.destroyRecursive();Da.destroy()})};ta.publishService=function(ma,qa,wa){void 0===qa&&(qa="file");var Fa=ma.item,Da=ma.user;ma=ma.page;var Ca=l["default"].create("div",null,document.body,"last"),Ia=Da;Fa.owner!==Da.username&&(Ia=new Oa["default"](Fa.itemOwner));
qa=ia["default"].createElement("arcgis-new-item",{isActive:!0,portal:Fa.portal,user:Ia,existingItem:Fa,config:v["default"],api:3,telemetry:ma.telemetry,existingItemType:qa,existingItemPublishType:wa},Ca);qa.addEventListener("workflowCancel",function(){k["default"].publish("folders/refresh",{forcedDelay:1E3});l["default"].destroy(Ca)});qa.addEventListener("workflowComplete",function(La){var Ga=La.detail;La=Ga.id;var Ma=Ga.response,Ha=Ga.jobId,Ka=Ga.serviceType,Na=Ga.item;Ga=Ga.newItemMode;if(null===
Ma||void 0===Ma?0:Ma.success)if(l["default"].destroy(Ca),Ma=Ha?"\x26jobid\x3d"+Ha:"",Ha="Map Service"===Ka?Na.tileAutoCreation?"#overview/manageTiles":"#settings/manageTiles":"","tileLayer"===Ga)window.location.href="item.html?id\x3d"+La+Ma+Ha;else switch(null===Na||void 0===Na?void 0:Na.type){case "Tile Package":window.location.href="item.html?id\x3d"+La+Ma+(Ka?"#settings/buildCache":"");break;case "Service Definition":window.location.href="item.html?id\x3d"+La+Ma+("Map Service"===Ka?"#settings/manageTiles":
"");break;default:window.location.href="item.html?id\x3d"+La+Ma}})};ta.publishTiles=function(ma){var qa=this,wa=ma.item,Fa=ma.user,Da=ma.layer,Ca=wa&&wa.itemOwner&&wa.itemOwner.folders,Ia=g["default"].get(ma.evt.target,"data-type"),La=this._getPublishingTypeMessage(wa,Ia);this._getPublishingCostMessage(wa,Ia).then(function(Ga){La=Ga&&Ga.message||La;if(!Ga||Ga.availableCredits>=Ga.totalCost)if("features"===Ia){var Ma=document.createElement("div"),Ha=function(Ka){Ja.render(Ja.h(pa["default"],{title:Ba["default"].itemProperties.publishViewLayer,
active:Ka,itemId:wa.id,onClose:function(){Ha(!1)}}),Ma)};Ha(!0)}else["vectorTiles","tiles"].includes(Ia)?qa.publishService(ma,"tileLayer",Ia):(new T["default"]({portal:wa.portal,folders:Ca,portalUser:Fa,message:La,item:wa,showFolders:!0,type:Ia||"tiles",serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ka){var Na=null===Ka||void 0===Ka?void 0:Ka.id;Ka=!(null===Ka||void 0===Ka||!Ka.cacheOnDemand);Na&&(window.location.href="item.html?id\x3d"+Na+("tiles"===Ia?Ka?"":"#settings/manageTiles":
"scenes"===Ia?"#settings/buildCache":""))});else qa._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ta.publishImagery=function(ma){var qa=this,wa=ma.item,Fa=ma.user,Da=ma.layer,Ca=wa&&wa.itemOwner&&wa.itemOwner.folders,Ia=g["default"].get(ma.evt.target,"data-type"),La=this._getImageServiceTypeMessage(Ia);this._getPublishingCostMessage(wa,Ia).then(function(Ga){La=Ga&&Ga.message||La;!Ga||Ga.availableCredits>=Ga.totalCost?(new T["default"]({portal:wa.portal,
folders:Ca,portalUser:Fa,message:La,item:wa,showFolders:!0,type:Ia,serviceLayers:Da?[Da]:null,sublayer:Da})).showModal().then(function(Ma){if(Ma=null===Ma||void 0===Ma?void 0:Ma.id)window.location.href="item.html?id\x3d"+Ma}):qa._showError({title:Ba["default"].publishTileServiceDlg.notEnoughCreditsTitle,message:La})})};ta._getImageServiceTypeMessage=function(ma){return"dynamicImagery"===ma?Ba["default"].publishImageServiceDlg.dynamicImageryLayerDesc:Ba["default"].publishImageServiceDlg.tileImageryLayerDesc};
ta._getPublishingTypeMessage=function(ma,qa){switch(qa){case "wfs":var wa="wfsServiceDetailsDesc";break;case "ogcfeatures":wa="ogcFeatureServiceDetailsDesc";break;case "scenes":wa="sceneServiceDetailsDesc";break;case "features":wa="viewServiceDetailsDesc";break;case "vectorTiles":wa="vectorServiceDetailsDesc";break;default:wa="serviceDetailsDesc"}return Ba["default"].publishTileServiceDlg[wa]};ta._getAvailableCredits=function(ma){var qa,wa;return(null===(qa=ma.user)||void 0===qa?void 0:qa.availableCredits)||
(null===(wa=ma.subscriptionInfo)||void 0===wa?void 0:wa.availableCredits)||0};ta._getPublishingCostMessage=function(ma,qa){var wa=new w["default"];if("scenes"!==qa)wa.resolve(null);else{var Fa=Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,Da=this._getAvailableCredits(ma.portal||{});ra["default"].fetchScenePublishingCredits(ma,ma.layers||[]).then(function(Ca){Fa=d["default"].substitute(Ba["default"].publishTileServiceDlg.createLayerCost,{credits:ja["default"].format(Ca),availableCredits:ja["default"].format(Da)});
Fa=Da>=Ca?d["default"].substitute(Ba["default"].publishTileServiceDlg.sceneServiceDetailsDescCost,{createLayerCost:Fa}):Fa;wa.resolve({totalCost:Ca,availableCredits:Da,message:Fa})})}return wa};ta.moveItem=function(ma){var qa,wa=ma.page.portal,Fa=ma.portalUser||(null===(qa=ma.item)||void 0===qa?void 0:qa.itemOwner)||wa.getPortalUser(),Da=ma.currentFolder&&ma.currentFolder.id||ma.item&&ma.item.folderId||Fa.username,Ca=ma.selectedItems||[ma.item];ma=new y["default"]({items:Ca,owner:Fa,portal:wa,currentFolder:Da});
ma.open();ma.on("close",function(Ia){k["default"].publish("folders/refresh");if(Ia){var La=Ia.newFolder;Ia=Ia.error;if(La&&!Ia)if(k["default"].publish("items/itemDetailRefresh",La),Da&&"all"!==Da){Ca.forEach(function(Ka){q["default"].mixin(Ka,{folder:La,folderId:La.id,ownerFolder:La.id})});k["default"].publish("items/refresh",{removedItems:Ca});var Ga=k["default"].subscribe("items/refreshComplete",function(){k["default"].publish("view/deselectAll");Ga.remove();k["default"].publish("folders/refreshAndSelect");
k["default"].publish("aggregations/refresh")})}else k["default"].publish("view/deselectAll",{}),k["default"].publish("aggregations/refresh");else if(Ia){var Ma=null===Ia||void 0===Ia?void 0:Ia.movedItems;if((null===Ma||void 0===Ma?0:Ma.length)&&Da&&"all"!==Da){k["default"].publish("items/refresh",{removedItems:null===Ia||void 0===Ia?void 0:Ia.movedItems});var Ha=k["default"].subscribe("items/refreshComplete",function(){Ha.remove();k["default"].publish("aggregations/refresh")})}}}})};ta.openLayerMetadata=
function(ma){var qa,wa,Fa=ma.item,Da=ma.evt,Ca=null!==(qa=ma.page)&&void 0!==qa?qa:null===(wa=null===ma||void 0===ma?void 0:ma.scope)||void 0===wa?void 0:wa.page,Ia=Da.target;ma=ma.layerId||g["default"].get(Ia,"data-layerId");var La=!1,Ga=!1;ia["default"].disableNode(Ia,!0);Y["default"].openLayerEditor(Fa,ma).then(function(Ma){var Ha=[],Ka=function(){ia["default"].disableNode(Ia,!1)};Ha.push(Ma.gxeAdaptor.on("metadata-save",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||
void 0===Qa?0:Qa.success)La=!0,Ga=!1}));Ha.push(Ma.gxeAdaptor.on("metadata-delete",function(Na){var Qa;if(null===(Qa=null===Na||void 0===Na?void 0:Na.response)||void 0===Qa?0:Qa.success)Ga=!0,La=!1}));Ha.push(f["default"].after(Ma.dialog,"show",Ka));Ha.push(f["default"].after(Ma.dialog,"hide",Ka));Ha.push(f["default"].after(Ma,"onDialogClose",function(){Ka();Ha.forEach(function(Na){var Qa;null===(Qa=null===Na||void 0===Na?void 0:Na.remove)||void 0===Qa?void 0:Qa.call(Na)});(La||Ga)&&setTimeout(function(){Ca._item.set("serviceChanged",
!0)},500)}))})};ta.viewMetadata=function(ma){ma=ma.item.itemUrl+"/info/metadata/metadata.xml";var qa=A["default"].getUser();A["default"].openPage(ma+"?format\x3ddefault\x26output\x3dhtml"+((null===qa||void 0===qa?0:qa.token)?"\x26token\x3d"+qa.token:""),!1)};ta.editMetadata=function(ma){var qa=ma.item,wa=ma.evt.target,Fa=!1;ia["default"].disableNode(wa,!0);Y["default"].openEditor(qa).then(function(Da){var Ca=[],Ia=function(){ia["default"].disableNode(wa,!1)};Ca.push(Da.gxeAdaptor.on("metadata-save",
function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=ea["default"].concatUnique(qa.typeKeywords,["Metadata"]),qa.set("typeKeywords",La.join(",")),Fa=!0}));Ca.push(Da.gxeAdaptor.on("metadata-delete",function(La){var Ga;if(null===(Ga=null===La||void 0===La?void 0:La.response)||void 0===Ga?0:Ga.success)La=ea["default"].filterOut(qa.typeKeywords,["Metadata"]),qa.set("typeKeywords",La.join(",")),Fa=!1}));Ca.push(f["default"].after(Da.dialog,"show",Ia));
Ca.push(f["default"].after(Da.dialog,"hide",Ia));Ca.push(f["default"].after(Da,"onDialogClose",function(){Ia();Ca.forEach(function(La){var Ga;null===(Ga=null===La||void 0===La?void 0:La.remove)||void 0===Ga?void 0:Ga.call(La)});Fa&&setTimeout(function(){A["default"].request({url:qa.portal.portalUrl+"content/items/"+qa.id}).then(function(La){qa.set("accessInformation",La.accessInformation);qa.set("description",La.description);qa.set("licenseInfo",La.licenseInfo);qa.set("snippet",La.snippet);qa.set("tags",
La.tags);qa.set("title",La.title);qa.set("serviceChanged",!0)})},500)}))})};ta.setExtent=function(ma){};ta.setSearchExtent=function(ma){ma=ma.item;var qa=ma.proxyFilter||{};ma=ma.unsavedSearchExtent||qa.searchExtent||null;var wa=new H["default"];ma=ma?t["default"].stringToArray(ma,",",!1):null;wa._publish=function(Fa){k["default"].publish("searchExtent/update",Fa)};ma=4===(null===ma||void 0===ma?void 0:ma.length)?[[Number(ma[0]),Number(ma[1])],[Number(ma[2]),Number(ma[3])]]:null;wa.show(ma);h["default"].once(wa._extentDialog,
"hide",function(){wa._extentDialog.destroyRecursive();wa.destroyRecursive()})};ta.reassignItem=function(ma){var qa,wa,Fa,Da,Ca=ma.item||{},Ia=ma.items||[Ca],La=null===(qa=ma.page)||void 0===qa?void 0:qa.telemetry;qa=ma.portal||ma.page&&ma.page.portal||{};var Ga=(null===Ca||void 0===Ca?void 0:Ca.itemOwner)||ma.owner,Ma=(null===(wa=ma.owner)||void 0===wa?void 0:wa.getCurrentFolder())||{};wa=null===(Fa=Ca.resultData)||void 0===Fa?void 0:Fa.length;Fa="Feature Service"===(null===(Da=null===Ca||void 0===
Ca?void 0:Ca.sourceData)||void 0===Da?void 0:Da.type);var Ha=ma.dontRemoveFromList||!1;if(!Ca.isHostedService&&wa||Ca.isHostedService&&Fa&&("WFS"===Ca.type||Ca.isDataView||"Map Service"===Ca.type||"Scene Service"===Ca.type)){var Ka=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});Ka.show({title:Ba["default"].common.notice,message:Ba["default"].common.errors.reassignSourceItemWithRelated}).then(function(){return Ka.hide()})}else Da=new E["default"]({items:Ia,
owner:Ga,portal:qa,telemetry:La,currentFolder:Ma}),Da.open(),Da.on("close",function(Na){var Qa;if(Na){var Pa=Na.newOwner,Ra=Na.newFolder,Sa=Na.error;Na=Na.updatedItems;if(Pa&&Ra&&!Sa)if(Ha=Ha||Pa===Ga.username&&(null===(Qa=ma.folder)||void 0===Qa?void 0:Qa.isAll),Ia.forEach(function(Ta){q["default"].mixin(Ta,{owner:Pa})}),ma.noRedirect){k["default"].publish("items/refresh",Ha?{forcedDelay:1E3}:{removedItems:Ia});var Va=k["default"].subscribe("items/refreshComplete",function(){Va.remove();k["default"].publish("folders/refreshAndSelect");
Sa||k["default"].publish("view/deselectAll",{});k["default"].publish("aggregations/refresh")})}else window.location.href="item.html?id\x3d"+Ca.id;if(Sa){Na.map(function(Ta){return ea["default"].find(Ia,function(Xa){return Xa.id===Ta.itemId})}).forEach(function(Ta){q["default"].mixin(Ta,{owner:Pa})});k["default"].publish("items/refresh",{forcedDelay:1E3});var Ua=k["default"].subscribe("items/refreshComplete",function(){Ua.remove();k["default"].publish("aggregations/refresh")})}}})};ta.deleteItem=function(ma){var qa=
this,wa=ma.item,Fa=wa.portal||{},Da,Ca,Ia,La,Ga,Ma,Ha=function(Ka){if(Ka&&Ka.success)if(ma.noRedirect){k["default"].publish("items/refresh",{removedItems:[wa]});var Na=k["default"].subscribe("items/refreshComplete",function(){k["default"].publish("view/deselectAll");Na.remove();Ma.hide();k["default"].publish("alert/show",{type:"success",text:Ba["default"].itemProperties.itemDeleteSuccess});k["default"].publish("aggregations/refresh")})}else window.location.href=(null===Ia||void 0===Ia?0:Ia.id)?"item.html?id\x3d"+
Ia.id:wa.isAdmin&&!wa.isOwner?"content.html?user\x3d"+wa.owner:"content.html";else Ma.hide(),ma.noRedirect?k["default"].publish("alert/show",{type:"error",text:Ba["default"].common.errors[(null===Ka||void 0===Ka?void 0:Ka.messageCode)||""]||Ka}):qa._showError(Ka)};u["default"]({canBeDeleted:Fa.isPortal?wa.canBeDeleted():null,sourceData:wa.getSourceData(),resultData:wa.getResultData()}).then(function(Ka){var Na,Qa,Pa;Da=null===(Na=Ka.canBeDeleted)||void 0===Na?void 0:Na.success;Ca=!Da&&(null===(Qa=
Ka.canBeDeleted)||void 0===Qa?void 0:Qa.offendingItems)||[];Ia=Ka.sourceData;La=Ka.resultData;Ga=!Ia&&(null===La||void 0===La?void 0:La.length)&&!wa.isHostedService;Na=Ba["default"].itemProperties.deleteItemBlocked+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e';Qa=Ba["default"].itemProperties.deleteSourceItem+'\x3cbr/\x3e\x3cul class\x3d"list-plain"\x3e${layerList}\x3c/ul\x3e\x3cbr/\x3e'+Ba["default"].itemProperties.deleteSourceItemMsg;var Ra=Ga?Qa:Na,Sa="",Va=Fa.helpBase+Fa.helpMap.m["120001208"];
Na=La||Ca||void 0;var Ua=(null===Na||void 0===Na?0:Na.length)?Na.length-5:0,Ta=(null===Na||void 0===Na?0:Na.length)?Na.map(function(Xa){return"id:"+(Xa.id||Xa.itemId)}).join(" OR "):"";Fa.isPortal?Da?(Ma=new F["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){c["default"].deleteItem(wa).then(Ha,Ha)},!0),h["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})):Da||Ca.length?(Ka=((null===(Pa=Ka.canBeDeleted)||void 0===
Pa?void 0:Pa.offendingItems)||[]).map(function(Xa){return A["default"].request({url:Fa.portalUrl+"content/items/"+Xa.itemId})}),u["default"](Ka).then(function(Xa){Ca=Xa;Ca=Ca.map(function(ab){return new m["default"](q["default"].mixin(ab,{portal:Fa}))});Ca.forEach(function(ab,Wa){5>Wa&&(Sa+=d["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',{relItem:ab,i18n:Ba["default"]}))});Sa+=5<Ca.length?
d["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"";Ra=d["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va});Ga?(Ma=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,
style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(ab){"onOk"===ab&&c["default"].deleteItem(wa).then(Ha,Ha)})):(Ma=new I["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}));h["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()})})):(Pa=Ka.canBeDeleted,k["default"].publish("alert/show",{type:"error",text:Pa&&(Pa.messageCode&&Ba["default"].common.errors[Pa.messageCode]||Pa.message||
Ba["default"].common.errors.genericError.message)})):(!La||!La.length||qa.isFeedWithSingleHostedFeatureLayer(wa,La)||qa.isHostedFeatureLayerFromFeed(wa,La)?(Ma=new F["default"],Ma.showMsg(Ba["default"].deleteWarningDlg.confirmDeleteSingleItem,function(){c["default"].deleteItem(wa).then(Ha,Ha)},!0)):(La.forEach(function(Xa,ab){5>ab&&(Sa+=d["default"].substitute('\x3cli\x3e\x3ca href\x3d"item.html?id\x3d${relItem.id}" target\x3d"_blank"\x3e${relItem.title}\x3c/a\x3e, ${relItem.displayName}\x3c/li\x3e',
{relItem:Xa,i18n:Ba["default"]}))}),Sa+=5<La.length?d["default"].substitute('\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"search.html?t\x3dcontent\x26q\x3d(${query})"\x3e${i18n.FilterDlg.and} ${count} ${i18n.itemProperties.more}\x3c/a\x3e\x3c/li\x3e',{query:encodeURIComponent(Ta),i18n:Ba["default"],count:Ua||0}):"",Ra=d["default"].substitute(Ra,{layerList:Sa,helpTitle:Ba["default"].itemProperties.learnMoreDeletingSourceItems,helpUrl:Va}),Ga?(Ma=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,
buttonCancelLabel:Ba["default"].common.noLabel,style:{width:"400px",height:"auto"}}),Ma.show({title:Ba["default"].common.notice,message:Ra}).then(function(Xa){"onOk"===Xa&&c["default"].deleteItem(wa).then(Ha,Ha)})):(Ma=new I["default"],Ma.show({title:Ba["default"].common.notice,message:Ra}))),h["default"].once(Ma._dialog,"hide",function(){Ma._dialog.destroyRecursive();Ma.destroyRecursive()}))},function(Ka){k["default"].publish("alert/show",{type:"error",text:Ka&&(Ka.messageCode&&Ba["default"].common.errors[Ka.messageCode]||
Ka.message||Ba["default"].common.errors.genericError.message)})})};ta.toggleAttachments=function(ma){var qa=ma.item,wa=ma.evt,Fa=qa.isDataView,Da=Ba["default"].itemProperties,Ca=Fa?Da.showAttachments:Da.enableAttachments,Ia=Fa?Da.hideAttachments:Da.disableAttachments,La=Fa?Da.showingAttachments:Da.enablingAttachments,Ga=Fa?Da.hidingAttachments:Da.disablingAttachments,Ma=Fa?Da.enablingAttachmentsViewMessage:Da.enablingAttachmentsMessage;Da=Fa?Da.disableAttachmentsViewMessage:Da.disableAttachmentsMessage;
var Ha=ma.layerId||g["default"].get(wa.target,"data-layerId"),Ka=ma.layer||c["default"].findLayer(Ha,qa.layers),Na=Ka.hasAttachments,Qa=new D["default"]({buttonOkLabel:Ba["default"].common.yesLabel,buttonCancelLabel:Ba["default"].common.noLabel,busyMessage:Na?Ga:La,style:{width:"460px",height:"auto"}}),Pa=function(){Qa.set("disabled",!0);c["default"].enableAttachments(qa,Ka,!Na).then(function(){qa.set("maxAgeCheck",!0);g["default"].set(wa.target,"innerHTML",na["default"].inline.attachment["16"]+(Na?
Ca:Ia));Qa.hide()},function(Ra){Ra=Ra&&(Ra.messageCode&&Ba["default"].common.errors[Ra.messageCode]||Ra.message||Ba["default"].common.errors.genericError.message);Qa.hide();k["default"].publish("alert/show",{type:"error",text:Ra})})};ma=function(Ra){Qa.show({title:Na?Ia:Ca,message:Ra}).then(function(Sa){"onOk"===Sa&&Pa()})};Fa?Pa():ma(Na?Da:Ma)};ta.createApp=function(ma){var qa,wa=ma.item,Fa=ma.portal;ma=ma.evt;if(null===(qa=null===ma||void 0===ma?void 0:ma.target)||void 0===qa?0:qa.href)return window.open(ma.target.href,
"_blank");var Da=wa.isHostedTemplate;qa="wab"===g["default"].get(ma.target,"data-type")||ea["default"].includes(wa.typeKeywords,"Web AppBuilder for ArcGIS");ma=g["default"].get(ma.target,"data-type")||null;Da=Da||qa;var Ca=new X["default"]({item:wa});qa={isWab:qa};if(ma){"webscene"===ma&&Fa.isPortal&&(qa.typeInfo="webscene_portal");if("storymap"===ma)return window.open(v["default"].storymapsUrl+"/stories/new?"+("Web Scene"===wa.type?"webscene":"webmap")+"\x3d"+wa.id,"_blank");(wa=Da?Ca.showModal(qa):
Ca.showWizard(qa))&&wa.then(function(Ia){if(null===Ia||void 0===Ia?0:Ia.configureUrl)window.location.href=Ia.configureUrl})}};ta.profilePopup=function(ma){var qa=this,wa=ma.item,Fa=ma.evt;(wa=ma.profile||wa.owner||(ma.user?ma.user.username||ma.user:null))&&!this._popup&&(this._popup=new aa["default"]({username:wa,opener:Fa.target,portal:ma.page.portal}),this._popup.open(),h["default"].once(this._popup,"close",function(){qa._popup=void 0}))};ta.advancedOfflineOptions=function(ma){var qa=document.createElement("div");
document.body.appendChild(qa);(new fa["default"]({item:ma.item,page:ma.page},qa)).open()};ta.attachCode=function(ma){var qa=ma.item;ma=qa.codeAttachment;var wa=c["default"].createSpecifiedDialog(oa["default"],{item:qa,sharing:qa.sharing});wa.show(ma);f["default"].after(wa,"onUpload",function(){qa.set("codeAttachmentChanged",!0);wa.hide()})};ta.deleteCode=function(ma){var qa=ma.item;ma=ma.item;var wa=ma.portal,Fa=ma.codeAttachment;ma="Web Mapping Application"===qa.type&&ea["default"].includes(qa.typeKeywords,
"Web AppBuilder");Fa&&c["default"].createSpecifiedDialog(F["default"]).showMsgTitleButton(""+Ba["default"].itemProperties.removeAttachmentMsg+(ma?"":"\x3cbr\x3e\x3cbr\x3e"+Ba["default"].itemProperties.removeAttachmentUpdate),Ba["default"].itemProperties.removeAttachmentTitle,Ba["default"].itemProperties.removeAttachmentButton,function(){A["default"].request({url:wa.portalUrl+"content/items/"+Fa.id}).then(function(Da){Da=new m["default"](q["default"].mixin(Da,{portal:qa.portal}));c["default"].deleteItem(Da).then(function(){qa.set("codeAttachment",
null)})})})};ta.thumbnail=function(ma){var qa=this,wa=document.getElementById("item-thumb-modal-container");wa||(wa=document.createElement("div"),wa.id="item-thumb-modal-container",document.body.appendChild(wa));var Fa=function(){Ja.render(null,wa)},Da=Ba["default"].GroupWidget.thumbnailDlg;Ja.render(Ja.h(sa["default"],{contentClass:"esriThumbnailDlg",onSave:function(Ca){return n.__awaiter(qa,void 0,void 0,function(){var Ia,La,Ga,Ma,Ha,Ka,Na,Qa,Pa,Ra,Sa;return n.__generator(this,function(Va){switch(Va.label){case 0:Ia=
new FormData,La="thumbnail"+(new Date).getTime()+"."+Ca.format,Ia.append("thumbnail",Ca.blob,La),Ia.append("f","json"),Ga=ma.item,Ma=ma.page.portalUser,Ka=(Ha=Ga.itemOwner)?Ha.userContentUrl:Ma.userContentUrl,Na=Ga.folderId&&"/"!==Ga.folderId?"/"+Ga.folderId:"",Qa=""+Ka+Na+"/items/"+Ga.id+"/update",Va.label=1;case 1:return Va.trys.push([1,4,,5]),[4,A["default"].request({url:Qa,form:Ia,timeout:12E4},{usePost:!0})];case 2:return Va.sent(),[4,Ma.getItem(Ga.id)];case 3:return Pa=Va.sent(),Ra=Ga.thumbnailUrl,
Pa.thumbnailUrl&&(Sa=-1<Pa.thumbnailUrl.indexOf("?token\x3d"),Ra=""+Pa.thumbnailUrl+(Sa?"\x26":"?")+"ts\x3d"+(new Date).getTime()),Ga.set("thumbnailUrl",Ra),Fa(),[3,5];case 4:return Va.sent(),[3,5];case 5:return[2]}})})},onCancel:Fa,allowFromMap:!0,height:293,aspectRatio:1.5,zoomToFull:!0,fillBackground:!0,itemId:ma.item.id,texts:{title:Da.createThumb,drag:Da.uploadImage,size:Da.dragAndDrop}}),wa)};ta.newMapViewer=function(ma){var qa=ma.item;ma=ma.evt;var wa=g["default"].get(ma.currentTarget,"data-href")||
qa.mapNewViewerUrl,Fa=-1<wa.indexOf("useExisting\x3d1"),Da=qa.canOpenInNewMapViewer;"modern"===qa.portal.defaultMapViewer&&Da?window.location=g["default"].get(ma.currentTarget,"href")||qa.newMapViewerUrl:"Web Map"!==qa.type&&Fa?window.location=wa:x["default"]().then(function(Ca){if(Ca&&!0===Ca.c){var Ia=new ua["default"];Ia.show(wa,Ca);h["default"].once(Ia._dialog,"hide",function(){Ia._dialog.destroyRecursive();Ia.destroy()})}else window.location=wa})};ta.whatsNew=function(ma){var qa=new w["default"],
wa=ma.key,Fa=ma.endDate,Da=ma.redirectUrl,Ca=ma.disableDebugBlock,Ia=new Date((new Date).getTime()+31556926E3),La={},Ga=new Date,Ma=A["default"].getCookie("esri_whatsnew")||{},Ha={closeable:!1,showCancel:!!Da,buttonOkLabel:Da?Ba["default"].common.learnMore:Ba["default"].common.gotIt,buttonCancelLabel:Ba["default"].common.gotIt,className:"whatsNewDlg"},Ka=-1<window.location.hostname.indexOf("esri.com")?".esri.com":".arcgis.com";if(Ga<Fa&&(Ca||!v["default"].isDebug))if(Ma[wa])qa.resolve(!0);else{var Na=
new D["default"](Ha);Da?(r["default"].add(Na.okButton.domNode,"hide"),Fa=l["default"].create("a",{className:"btn right learn-more-link icon-ui-link-external",href:Da,target:"_blank",innerHTML:Ba["default"].addItemFrm.learnMore},Na.actionBarNode,"last")):Fa=Na.okButton;h["default"].once(Fa,"click",function(){Na.hide()});h["default"].once(Na,"hide",function(){La[wa]=!0;C["default"]("esri_whatsnew",z["default"].stringify(q["default"].mixin(Ma,La)),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"});qa.resolve(!0)});
Na.show({message:ma.message||"",title:ma.title||""})}else Ma[wa]&&(delete Ma[wa],C["default"]("esri_whatsnew",z["default"].stringify(Ma),{expires:Ia,path:"/",domain:Ka,sameSite:"Strict"})),qa.resolve(!0);return qa};ta.shareSocial=function(ma){var qa=ma.evt.target;ma=ma.item;ma="public"===(null===ma||void 0===ma?void 0:ma.access);var wa=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});ma?window.open(g["default"].get(qa,"href")):wa.show({title:Ba["default"].itemLinks.shareItem,
message:b["default"].substitute({appTitle:v["default"].portalName||"ArcGIS.com"},Ba["default"].itemLinks.shareItemMsg)}).then(function(){wa.hide().then(function(){window.open(g["default"].get(qa,"href"))})})};ta.sceneJobStatus=function(ma){var qa=ma.item,wa=ma.item;ma=wa.portal;var Fa=wa.portal.isPortal,Da=qa.properties.cacheJobUrl;wa=qa.lastCachingJobStatus;var Ca=qa.serverToken?"?token\x3d"+qa.serverToken:"",Ia=Fa?""+Da+Ca:qa.adminUrl+"/"+Da+Ca;qa=Fa?Da:qa.adminUrl+"/"+Da+Ca;(new U["default"]).show(ma,
ma.portalUser,Ia,qa,wa)};ta.manageSceneCache=function(ma){var qa=ma.item,wa=ma.page;ma=ma.item.portal.isPortal?wa._hostedFederatedServer:void 0;wa=qa.sourceData||{};(new ha["default"]).show(wa,qa,ma)};ta.markItemAsAuthoritative=function(ma){var qa,wa=ma.item,Fa=((null===(qa=wa.portal)||void 0===qa?0:qa.isVerified)&&"public"===wa.access?"public":"org")+"_authoritative";wa._setContentStatusTo(Fa).then(function(Da){Da.success&&(wa.set("protected",!0),k["default"].publish("item/protect",{protect:!0}),
wa.set("contentStatus",Fa));return la["default"].getVerifiedInfo(wa)}).then(function(Da){wa.set("verified",Da)})};ta.markItemAsDeprecated=function(ma){var qa=ma.item;qa._setContentStatusTo("deprecated").then(function(wa){wa.success&&(qa.set("contentStatus","deprecated"),qa.set("verified",!1))})};ta.removeContentStatus=function(ma){var qa=ma.item;qa._setContentStatusTo("").then(function(wa){wa.success&&(qa.set("contentStatus",""),qa.set("verified",!1))})};ta.httpsUpdate=function(ma){var qa=document.createDocumentFragment();
ma=new da["default"](ma,l["default"].create("div",null,qa));var wa=c["default"].createDialogWrapper({className:"update-to-https-dlg",draggable:!e["default"]("touch"),title:Ba["default"].itemProperties.updateLayersToHTTPS},qa);qa=function(){wa.hide()};ma.startup();ma.own(k["default"].subscribe("update-to-https/done",qa),k["default"].subscribe("update-to-https/cancel",qa));wa.show()};ta.domainUpdate=function(ma){var qa=document.createDocumentFragment(),wa=new S["default"](ma,l["default"].create("div",
null,qa)),Fa=c["default"].createDialogWrapper({className:"update-domains-dlg",draggable:!e["default"]("touch"),title:Ba["default"].itemProperties.domainsTitle},qa);wa.startup();wa.own(k["default"].subscribe("update-domain/done",function(){Fa.hide()}));Fa.show();setTimeout(function(){wa.domainReplace.value&&wa.domainReplace.focus()},200)};ta.replaceLayer=function(ma){(new W["default"]({item:ma.item,page:ma.page},l["default"].place(l["default"].create("div"),document.body.lastChild,"after"))).open()};
ta.replaceSceneLayer=function(ma){(new Q["default"]({item:ma.item},l["default"].place(l["default"].create("div"),document.body.lastChild,"after"))).open()};ta.updateSourceUrlToHttps=function(ma){var qa=ma.page,wa=ma.item;ma=v["default"].restBaseUrl+"/portals/checkurl";var Fa=[200,301,302,304,307,401,403,407,498,499],Da=null===wa||void 0===wa?void 0:wa.url,Ca=(null===wa||void 0===wa?void 0:wa.sourceUrl)&&t["default"].startsWith(wa.sourceUrl,"http://"),Ia=null===wa||void 0===wa?void 0:wa.sourceUrl;
if(Ca){var La=Ia.replace("http://","https://");A["default"].request({url:ma+"?url\x3d"+encodeURIComponent(La+"?f\x3djson")},{addToken:!1}).then(function(Ga){Ga&&!Ga.code&&ea["default"].includes(Fa,Ga.httpStatusCode)?qa.updateItem({url:La}).then(function(){wa.set({url:Da,sourceUrl:La});k["default"].publish("item/proxy-url-update",{sourceUrl:La});ba["default"].showAlert("success",Ba["default"].itemProperties.upgradeToHttpsSuccess)}):ba["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)},
function(Ga){ba["default"].showAlert("error",Ba["default"].itemProperties.upgradeToHttpsFail)})}};ta.downloadImage=function(ma){c["default"].downloadImage(ma).then(function(qa){qa&&qa.url&&(window.location=qa.url)})};ta.refreshSnapshot=function(ma){var qa,wa,Fa,Da,Ca=ma.item;ma=ma.page;var Ia=(null===(wa=null===(qa=Ca.adminServiceInfo)||void 0===qa?void 0:qa.properties)||void 0===wa?0:wa.serviceInfo)?JSON.parse(Ca.adminServiceInfo.properties.serviceInfo):{};qa=((null===Ia||void 0===Ia?void 0:Ia.layers)||
[]).filter(function(Ua){return-1<Ua.queryPolicy.indexOf("createSnapshot")}).map(function(Ua){return Ua.id}).map(function(Ua){var Ta;return null===(Ta=Ca.serviceInfo.layers.filter(function(Xa){return Xa.id===Ua}).shift())||void 0===Ta?void 0:Ta.name});var La=ma._hostedFederatedServer.url+"/rest/services/System/PublishingTools/GPServer/Refresh%20Service",Ga=La+"/submitJob";wa=null===(Da=null===(Fa=Ca.url.split("/rest/services/"))||void 0===Fa?void 0:Fa[1])||void 0===Da?void 0:Da.split("/");var Ma=(Fa=
2===(wa.indexOf("MapServer")||wa.indexOf("FeatureServer")))?wa[1]:wa[0],Ha={f:"json",token:Ca.adminServerToken,serviceType:"MapServer",serviceName:Ma,serviceFolder:Fa?wa[0]:null},Ka=document.getElementById("refresh-snapshot-dialog"),Na=document.getElementById("refresh-snapshot-error-dialog");Ka||(Ka=document.createElement("div"),Ka.id="refresh-shapshot-dialog",document.body.appendChild(Ka));Na||(Na=document.createElement("div"),Na.id="refresh-snapshot-error-dialog",document.body.appendChild(Na));
var Qa=Ba["default"].itemProperties.snapshot.refresh;Fa=Ba["default"].itemProperties.snapshot.description+'\x3cdiv class\x3d"leader-half margin-left-1 margin-right-1"\x3e'+qa.join("\x3cbr\x3e")+"\x3c/div\x3e";Da=Ba["default"].common;var Pa=Da.ok,Ra=Da.cancel,Sa=function(){Ja.render(null,Na);document.body.removeChild(Na)},Va=function(){Ja.render(Ja.h(xa["default"],{autoCloseOnOk:!0,hideCancel:!0,hideClose:!1,renderHtmlDescription:!1,onOk:Sa,onCancel:Sa,strings:{title:Qa,description:Ba["default"].itemProperties.snapshot.inProgress,
ok:Pa,cancel:Ra},width:"s"}),Na)};Ja.render(Ja.h(xa["default"],{autoCloseOnOk:!1,hideCancel:!1,hideClose:!1,renderHtmlDescription:!0,onOk:function(Ua){A["default"].request({url:Ga,content:Ha},{usePost:!0}).then(function(Ta){Ja.render(null,Ka);ba["default"].showAlert("success",Ba["default"].itemProperties.snapshot.success.replace("${name}",Ma));Ea["default"].checkAsyncJobStatus(La+"/jobs/"+Ta.jobId).then(function(){null===Ua||void 0===Ua?void 0:Ua();ba["default"].showAlert("success",Ba["default"].itemProperties.snapshot.finished.replace("${name}",
Ma))},function(Xa){null===Ua||void 0===Ua?void 0:Ua();Va()})},function(Ta){null===Ua||void 0===Ua?void 0:Ua();Va()})},onCancel:function(){Ja.render(null,Ka);document.body.removeChild(Ka)},strings:{title:Qa,description:Fa,ok:Pa,cancel:Ra},width:"s"}),Ka)};ta._getItemPkgPath=function(ma){var qa=ma.portal.getPortalUser();return ma.itemUrl+"/item.pkinfo"+("public"!==ma.access&&(null===qa||void 0===qa?0:qa.token)?"?token\x3d"+qa.token:"")};ta._getPItemPath=function(ma){var qa=ma.portal.getPortalUser();
return ma.itemUrl+"/item.pitem"+("public"!==ma.access&&(null===qa||void 0===qa?0:qa.token)?"?token\x3d"+qa.token:"")};ta._getPItemXPath=function(ma){var qa=ma.portal.getPortalUser();return ma.itemUrl+"/item.pitemx"+("public"!==ma.access&&(null===qa||void 0===qa?0:qa.token)?"?token\x3d"+qa.token:"")};ta._getLyrPath=function(ma){var qa=ma.portal.getPortalUser();return ma.url+"?f\x3dlyr\x26v\x3d9.3"+("public"!==ma.access&&(null===qa||void 0===qa?0:qa.token)?"\x26token\x3d"+qa.token:"")};ta._showError=
function(ma){var qa=new D["default"]({buttonOkLabel:Ba["default"].common.ok,showCancel:!1,style:{width:"400px",height:"auto"}});qa.show({title:ma.title||Ba["default"].addItemFrm.errors.error.title,message:ma.message||Ba["default"].addItemFrm.errors.error.message}).then(function(){qa.hide()})};ta.isFeedWithSingleHostedFeatureLayer=function(ma,qa){return"Feed"===ma.type&&ma.isHostedService&&1===(null===qa||void 0===qa?void 0:qa.length)&&"Feature Service"===qa[0].type&&ea["default"].includes(qa[0].typeKeywords,
"Hosted Service")};ta.isHostedFeatureLayerFromFeed=function(ma,qa){return"Feature Service"===ma.type&&ma.isHostedService&&1===(null===qa||void 0===qa?void 0:qa.length)&&"Feed"===qa[0].type&&ea["default"].includes(qa[0].typeKeywords,"Hosted Service")};return ta}(P["default"])})},"arcgisonline/map/utils/getMapCookie":function(){define(["dojo/Deferred","dojo/json"],function(O,K){return function(){var n=window.sessionStorage&&window.sessionStorage.getItem("Esri_webmap"),q=new O;n&&n.length?q.resolve(K.parse(n)):
q.resolve(null);return q}})},"arcgisonline/pages/dijit/ChangeOwner":function(){define("require exports tslib dojo/promise/all dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ../components/MemberPicker ../components/MemberThumb ./ChangeOwner/FolderPicker ../portal/PortalUser ../../tsutils/declareDecorator ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/organization ../../esriGeowConfig dojo/text!./ChangeOwner/templates/ChangeOwner.html dojo/i18n!../../nls/arcgisonline ../utils/icons ./OverlayConfirm preact".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);A=n.__importDefault(A);return function(){function x(D,
E){this.title=t["default"].changeOwner.title;this.i18n=t["default"];this.icons=v["default"];this.constrain=!0;this.overlayContents=p["default"].substitute(m["default"],{i18n:t["default"],icons:v["default"]});this.maxWidth=600;this.closeOnScrimClick=!1}x.prototype.postMixInProperties=function(){this.inherited(arguments)};x.prototype.postCreate=function(){this.inherited(arguments);this._initialOpen=!0;this.group||(this._folderArea=this.domNode.querySelector(".js-folder-area"),this._folderEdit=this.domNode.querySelector(".js-folder-edit"),
this._folderEditButton=this.domNode.querySelector(".js-folder-button"));this._ownerArea=this.domNode.querySelector(".js-owner-area");this._ownerEdit=this.domNode.querySelector(".js-owner-edit");this._ownerEditButton=this.domNode.querySelector(".js-owner-edit-button");this._loader=this.domNode.querySelector(".js-overlay-loader");var D=this.portal.portalUser.userRole;this.canReassignOrgItems=D.isAdmin()||D.canReassignOrgItems();this.canReassignOwnItems=!this.canReassignOrgItems&&D.canReassignOwnItems();
this._primaryBtn.disabled=!0};x.prototype.open=function(){this.inherited(arguments);this._initUI();this._addListeners()};x.prototype.close=function(D){this.inherited(arguments)};x.prototype._destroy=function(){this.inherited(arguments);B.render(null,this.domNode.querySelector(".js-member-picker"));B.render(null,this.domNode.querySelector(".js-member-thumb"))};x.prototype.handlePrimary=function(){var D=this;this.disableButtons();!this.group&&this.canReassignOwnItems?this.reassignItems():this._folderPicker&&
this._folderPicker.hasUnsavedChanges()?this._folderPicker.saveNewfolder().then(function(E){D._folder=E;D._reassign()},this._reassign.bind(this)):this._reassign()};x.prototype.disableButtons=function(){this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0};x.prototype.enableButtons=function(){this._primaryBtn.disabled=!1;this._cancelBtn.disabled=!1};x.prototype._addListeners=function(){var D=this;this._ownerEdit.addEventListener("click",this._openOwnerSelect.bind(this));this.group||(this._folderEdit.addEventListener("click",
this._openFolderSelect.bind(this)),this.own(this._folderPicker.on("selectUpdate",this._folderSelectUpdate.bind(this)),this._folderPicker.on("folderCreated",function(E){return D._createdFolder=E}),this._folderPicker.on("cancel",this._folderSelectCancel.bind(this))))};x.prototype.initUIUtil=function(){var D=this.items||[this.group],E=D[0].owner;D=D.every(function(y){return y.owner===E});return{firstOwner:E,sameOwner:D}};x.prototype._initUI=function(){var D=this,E=this.initUIUtil(),y=E.firstOwner;this.sameOwner=
E.sameOwner;this.group&&(this.domNode.querySelector(".js-item-owner-label").innerHTML=t["default"].changeOwner.groupOwner);this.memberPickerProps={portal:this.portal,group:this.group,showCancel:!this.group&&this.sameOwner,selectUpdate:this._memberSelectUpdate.bind(this),selectCancel:this._memberSelectCancel.bind(this),showMemberPicker:!0,adminOnly:this.adminOnly};this.sameOwner&&(this.memberPickerProps.excludedUsernames=[y]);this._memberPicker=B.render(B.h(u.MemberPicker,this.memberPickerProps),this.domNode.querySelector(".js-member-picker"));
this.group||(this._folderPicker=new C["default"]({portal:this.portal,user:this.owner},this.domNode.querySelector(".js-folder-picker")));this.sameOwner?this._fetchUser(y).then(function(F){D._owner=F;D._memberSelectUpdate(D._owner)}):(this._openOwnerSelect(),this._fadeIn())};x.prototype._fetchUser=function(D){var E=this;return a["default"].request({url:c["default"].restBaseUrl+"/community/users/"+D+"/"}).then(function(y){return new z["default"](n.__assign(n.__assign({},y),{portal:E.portal}))})};x.prototype._fadeIn=
function(){var D=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");D.classList.add("animate-fade-in")};x.prototype._compileRequests=function(){var D=this;if(this.group)return[this.group].map(this._reassignGroup.bind(this));var E=[],y=[],F=[],G=this._owner.username===this.owner.username,H=b["default"].getUserRole(this.owner).isCustom();this.items.forEach(function(I){G&&I.owner===D._owner.username&&!H?E.push(I):
y.push(I)});0<E.length&&F.push(this._moveItems(E));0<y.length&&y.forEach(function(I){return F.push(D._reassignItem(I))});return F};x.prototype.reassignUtil=function(D){return e["default"].find(this.items,function(E){return E.id===D.itemId})};x.prototype._reassign=function(){var D=this,E=this._compileRequests();this._loader.classList.add("is-active");q["default"](E).then(function(y){var F=y.filter(function(I){return I.success}).map(function(I){return I.item}),G=y.filter(function(I){return I.error&&
!I.success}),H=y.filter(function(I){return I.moveItems});0<H.length&&(H[0].results||[]).forEach(function(I){var N=D.reassignUtil(I);I.success?F.push({success:!0,item:N}):G.push({error:I.error,item:N})});0===G.length&&0<F.length?D._handleSuccess(F):0<G.length&&0===F.length?D._handleError(G[0]):0<G.length&&0<F.length&&D._handlePartialSuccess(F,G[0]);0===y[0].length&&D._handleSuccess(y[0])},function(y){D._handleError(y)})};x.prototype.getTransferError=function(D){var E=t["default"].changeOwner.transferErrors.general;
(null===D||void 0===D?0:D.messageCode)&&(D=t["default"].changeOwner.transferErrors[D.messageCode])&&(E=D);return E};x.prototype.reassignItems=function(){return n.__awaiter(this,void 0,void 0,function(){var D,E,y,F,G,H;return n.__generator(this,function(I){switch(I.label){case 0:D=this.portal.portalUser.username,I.label=1;case 1:return I.trys.push([1,3,,4]),[4,a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D+"/reassignItems",content:{targetUsername:this._owner.username,items:this.items.map(function(N){return N.id}).join(",")}},
{usePost:!0})];case 2:E=I.sent();if(F=E.results.some(function(N){if(N.error)return y=N.error,!0}))return G=this.getTransferError(y),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[2];d["default"].showAlert("success",t["default"].changeOwner.transferSuccess);this.close({newOwner:this._owner,newFolder:this.reassignFolderName});return[3,4];case 3:return H=I.sent(),G=this.getTransferError(H),this._loader.classList.remove("is-active"),this.showErrorPopup(G),[3,4];case 4:return[2]}})})};
x.prototype.canReassignItems=function(){return n.__awaiter(this,void 0,void 0,function(){var D,E,y,F,G,H,I,N;return n.__generator(this,function(M){switch(M.label){case 0:D=this.portal.portalUser.username,E=this.domNode.querySelector(".js-member-select-error"),this._ownerEdit.classList.remove("input-error"),E.classList.remove("is-active"),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D+"/canReassignItems?token\x3d"+a["default"].getToken(),
content:{targetUsername:this._owner.username,items:this.items.map(function(J){return J.id}).join(",")}},{usePost:!0})];case 2:return M.sent(),[3,4];case 3:return y=M.sent(),F=y.messageCode,G="",H=t["default"].changeOwner.warnings,I=H.cantReceiveItems,N=H.cantOwnItems,"CONT_0291"===F?G=I:"CONT_0292"===F&&(G=N),G&&(E.innerHTML=G,E.classList.add("is-active"),this._ownerEdit.classList.add("input-error")),[3,4];case 4:return[2]}})})};x.prototype._reassignItem=function(D){var E=this._owner.username===this._folder.id?
"/":this._folder.title,y=new h["default"];a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+D.owner+"/items/"+D.id+"/reassign",content:{targetUsername:this._owner.username,targetFolderName:E}},{usePost:!0}).then(function(){return y.resolve({success:!0,item:D})},function(F){return y.resolve({error:F,item:D})});return y};x.prototype._moveItems=function(D){var E=this._folder.username===this._folder.id?"/":this._folder.id,y=D.filter(function(G){return(G.ownerFolder||"/")!==E}),F=new h["default"];
0===y.length?F.resolve([]):a["default"].request({url:c["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:y.map(function(G){return G.id}).join(","),folder:E}},{usePost:!0}).then(function(G){return F.resolve({moveItems:!0,results:G.results})},function(G){return F.resolve({error:G,items:D})});return F};x.prototype._reassignGroup=function(){return a["default"].request({url:c["default"].restBaseUrl+"/community/groups/"+this.group.id+"/reassign",content:{targetUsername:this._owner.username}},
{usePost:!0})};x.prototype._handleSuccess=function(D){this._loader.classList.remove("is-active");if(this.telemetry&&!this.group){var E=this._folder.title===this._createdFolder;this.telemetry.logEvent({category:"change owner folder option",label:this._folder.id===this._owner.username?"default":E?"new":"custom"})}D={newOwner:this._owner,updatedItems:D};this.group||(d["default"].showAlert("success",t["default"].changeOwner.success),D.newFolder=this._folder);this.close(D)};x.prototype.showErrorPopup=
function(D){var E=this;D=new A["default"]({title:t["default"].common.errorTitle,description:D,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});D.domNode.classList.add("position-absolute");D.domNode.classList.add("fullscreen");this._overlay.appendChild(D.domNode);D.show().then(function(){E._ownerEditButton.focus()});this.enableButtons()};x.prototype._handleError=function(D){D=D.messageCode?this._getErrorText(D):this._getErrorText(D.error,D.item);this._loader.classList.remove("is-active");
this.showErrorPopup(D)};x.prototype._handlePartialSuccess=function(D,E){var y=E.error,F=E.item;this._loader.classList.remove("is-active");F=this._getErrorText(y,F);y={newOwner:this._owner,updatedItems:D,error:y};this.group||(d["default"].showAlert("error",F),y.newFolder=this._folder);this.close(y)};x.prototype._getErrorText=function(D,E){var y=this.group?t["default"].GroupWidget.error.cantReassignGroup:t["default"].changeOwner.cantChangeOwner,F=this._owner.username;if(null===D||void 0===D?0:D.messageCode)switch(D.messageCode){case "COM_0046":y=
p["default"].substitute(t["default"].GroupWidget.error.errorReassignGroupName,{name:F,groupName:this.group.title});break;case "CONT_0014":y=p["default"].substitute(t["default"].folderDlg.invalid.itemExists,[E.title,this._folder.folderAttributeName||this._folder.title]);break;case "COM_1065":y=D.message&&D.message.match(/\d+/)[0];y=p["default"].substitute(t["default"].GroupWidget.error.groupMaxOtherUser,{name:F,numGroups:y});break;case "COM_1076":y=p["default"].substitute(t["default"].GroupWidget.error.errorReassignGroupOpenData,
{name:F});break;case "COM_1084":y=p["default"].substitute(t["default"].GroupWidget.error.errorReassignGroupPrivileges,{name:F});break;case "COM_1070":y=t["default"].common.errors.COM_1070;break;default:t["default"].common.errors[D.messageCode]&&(y=t["default"].common.errors[D.messageCode]),403===D.code&&(y=t["default"].errorWidget.accessDeniedResource)}return y};x.prototype._openOwnerSelect=function(D){null===D||void 0===D?void 0:D.preventDefault();B.render(B.h(u.MemberPicker,n.__assign(n.__assign({},
this.memberPickerProps),{showMemberPicker:!0,showCancel:!this._initialOpen})),this.domNode.querySelector(".js-member-picker"));l["default"].setVisibility(this._ownerArea,!1);this.group||(l["default"].setVisibility(this._folderArea,!1),l["default"].hideNode(this._folderPicker.domNode))};x.prototype._openFolderSelect=function(D){D&&D.preventDefault();this.group||(l["default"].showNode(this._folderPicker.domNode),l["default"].setVisibility(this._folderArea,!1),this._folderPicker.focus());l["default"].setVisibility(this._ownerArea,
!1)};x.prototype._folderSelectUpdate=function(D){this._folder=D;l["default"].hideNode(this._folderPicker.domNode);l["default"].setVisibility(this._folderArea,!0);l["default"].setVisibility(this._ownerArea,!0);this._populateCurrentFolder();this._folderEditButton&&this._folderEditButton.focus()};x.prototype._folderSelectCancel=function(){l["default"].hideNode(this._folderPicker.domNode);l["default"].setVisibility(this._folderArea,!0);l["default"].setVisibility(this._ownerArea,!0);this._folderEditButton&&
this._folderEditButton.focus()};x.prototype._memberSelectUpdate=function(D){var E=this;this._owner=D;B.render(B.h(u.MemberPicker,n.__assign(n.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));l["default"].setVisibility(this._ownerArea,!0);B.render(B.h(w.MemberThumb,{member:D,cssClasses:"member-browser-row-thumbnail margin-right-half"}),this.domNode.querySelector(".js-member-thumb"));this.domNode.querySelector(".js-fullname").innerHTML=D.fullName;
this.domNode.querySelector(".js-username").innerHTML=D.username;this._folder=null;this._ownerEditButton.focus();if(!this._initialOpen||this.group)this._primaryBtn.disabled=!1;this.group?this._fadeIn():this.canReassignOrgItems?(this._ownerEdit.classList.add("btn-disabled"),D.folders?(this._populateCurrentFolder(),this._folderPicker.updateUser(D),this._ownerEdit.classList.remove("btn-disabled"),this._fadeIn()):D.getFolders().then(function(y){D.folders=y;E._owner.folders=y;E._populateCurrentFolder();
E._folderPicker.updateUser(D);E._ownerEdit.classList.remove("btn-disabled");E._fadeIn()})):this.canReassignOwnItems&&(this._initialOpen||this._populateTransferFolder(),this._fadeIn());D.privileges?this._validateSelectedMember():this._fetchUser(D.username).then(function(y){E._owner=y;!y.privileges&&E.canReassignOwnItems?E.canReassignItems():E._validateSelectedMember()});this._initialOpen&&this._openOwnerSelect();this._initialOpen&&!this.group&&this.canReassignOwnItems&&(this._initialOpen=!1)};x.prototype._memberSelectCancel=
function(){B.render(B.h(u.MemberPicker,n.__assign(n.__assign({},this.memberPickerProps),{showMemberPicker:!1})),this.domNode.querySelector(".js-member-picker"));this._ownerEdit.focus();l["default"].setVisibility(this._ownerArea,!0);this._folder&&!this.group&&l["default"].setVisibility(this._folderArea,!0);this._ownerEditButton.focus();this.canReassignOwnItems&&this._populateTransferFolder();!this._owner.privileges&&this.canReassignOwnItems?this.canReassignItems():this._validateSelectedMember()};x.prototype._validateSelectedMember=
function(){var D,E=this.domNode.querySelector(".js-member-select-error");this._ownerEdit.classList.remove("input-error");E.classList.remove("is-active");var y=!1,F=b["default"].getUserRole(this._owner),G=F.isCustom(),H=!!this.group,I=this._owner.username===this.portal.portalUser.username;H||!G||F.canCreateItem()||I||(y=t["default"].changeOwner.warnings.cantOwnItems);(null===(D=this.group)||void 0===D?0:D.isOpenDataEnabled)&&!F.canDesignateOpenDataGroups()&&(y=t["default"].changeOwner.warnings.cantOwnOpenData);
D=F.isAdmin()||G&&F.canCreateUpdateCapableGroup();H&&this.group.isSharedOwnership&&!D&&(y=t["default"].changeOwner.warnings.cantOwnAccessUpdateGroups);H&&G&&!F.canCreateGroup()&&(y=t["default"].changeOwner.warnings.cantOwnGroups);H||I||!this.canReassignOwnItems||!G||F.canReceiveUserItems()||(y=t["default"].changeOwner.warnings.cantReceiveItems);y&&"string"===typeof y&&(E.innerHTML=y,E.classList.add("is-active"),this._ownerEdit.classList.add("input-error"))};x.prototype._populateTransferFolder=function(){l["default"].setVisibility(this._folderArea,
!0);l["default"].setVisibility(this._folderEdit,!0);this._folderEdit.classList.add("change-owner-card--disabled");l["default"].hideNode(this.domNode.querySelector(".js-folder-edit-button"));var D=new Date,E=D.getDate(),y=D.getMonth()+1;E=(10>E?"0":"")+E;y=(10>y?"0":"")+y;D=D.getFullYear().toString();this.reassignFolderName=this.portal.portalUser.username+"_"+D+"_"+y+"_"+E;this.domNode.querySelector(".js-folder-name").innerHTML=this.reassignFolderName};x.prototype._populateCurrentFolder=function(){var D;
l["default"].setVisibility(this._folderArea,!0);l["default"].setVisibility(this._folderEdit,!0);l["default"].hideNode(this._folderPicker.domNode);if(!this._folder){var E=this.items[0].ownerFolder,y=this.items.every(function(G){return G.ownerFolder===E}),F=e["default"].find(this._owner.folders,function(G){return G.id===E});this._folder=y&&F?F:this._owner.folders[0]}this.domNode.querySelector(".js-folder-name").innerHTML=this._folder.title;y=v["default"].inline[this._folder.id===this._owner.username?
"home":"folder"]["16"];this.domNode.querySelector(".js-folder-icon").innerHTML=y;null===(D=this._folderEditButton)||void 0===D?void 0:D.focus();this._initialOpen&&(l["default"].setVisibility(this._folderArea,!1),this._initialOpen=!1)};return x=n.__decorate([r["default"](g["default"],f["default"],k["default"])],x)}()})},"arcgisonline/pages/dijit/Overlay":function(){define("require exports tslib dojo/on dojo/debounce dojo/topic dojo/query dojo/has dojo/dom-class dojo/dom-construct dojox/uuid/generateRandomUuid dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase esri/Evented ../utils/formatters ../utils/icons ../utils/focus dojo/text!./Overlay/templates/Overlay.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function t(){this.i18n=
c["default"];this.icons=e["default"];this.templateString=b["default"];this.hide=d["default"].hide;this._unsavedChanges=this.constrain=!1;this.maxWidth=null;this.showActionBar=!0;this.overlayContents=null;this._screenWidth=window.innerWidth;this._preventScrollClass=g["default"]("ios")?"ios-prevent-scroll":"overflow-hidden";this["class"]=this.title="";this.closeOnScrimClick=this.destroyOnClose=this.shouldScroll=!0;this.background="off-white";this.isDrillIn=!1;this.primaryBtnText=c["default"].common.save;
this.loadingText=c["default"].common.loading;this.uid=null}t.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=w["default"]();this.srcNodeRef||(this.srcNodeRef=u["default"].place(u["default"].create("div"),document.body,"last"))};t.prototype.postCreate=function(){this.inherited(arguments);u["default"].place(this.overlayContents,this._overlayContentWrapper,"only");this.showActionBar||k["default"].add(this._overlayContentWrapper,"overlay-content--no-actions");this.shouldScroll&&
k["default"].add(this._overlayContentWrapper,"overlay-content--scroll");this.constrain&&k["default"].add(this.domNode,"overlay--constrained");this.maxWidth&&(this._overlay.style.maxWidth=this.maxWidth+"px",this._screenWidth>=this.maxWidth&&k["default"].add(this.domNode,"overlay--max-width"));this._addEventListeners()};t.prototype._addEventListeners=function(){var v=this;this.own(h["default"].subscribe("overlay/open",function(){return v.open()}),q["default"](window,"resize",p["default"](function(A){return v.resizeHandler(A)},
30)),q["default"](this.closeBtn,"click",function(A){return v.handleCancel(A)}),q["default"](this._backArrow,"click",function(){return v.close()}),q["default"](this._primaryBtn,"click",function(A){return v.handlePrimary(A)}),q["default"](this._cancelBtn,"click",function(A){return v.handleCancel(A)}),q["default"](this._backgroundScrim,"click",function(A){return v.handleScrimClick(A)}),q["default"](document,"keyup",function(A){"Escape"===A.key&&v.close()}))};t.prototype.open=function(){var v=this;this.defaultOpener=
document.activeElement;var A=document.documentElement,B=A.scrollTop,x=document.body.scrollTop,D=A.classList.contains(this._preventScrollClass);window.getComputedStyle(this.domNode).opacity;f["default"](this.domNode).addClass("is-active");var E=a["default"].getFocusableElements(this.domNode);0<E.length&&E[0].focus();this._trapHandler=a["default"].trapFocus(this.domNode);this.render&&this.render();this.emit("open");(this.isDrillIn=D)||setTimeout(function(){g["default"]("ios")&&(v._bodyScrollTop=Math.max(window.pageYOffset,
B,x));k["default"].add(A,v._preventScrollClass)},300)};t.prototype.close=function(v){var A=this,B,x;this._unsavedChanges&&this.unsavedChangesText?this.confirmClose(this.unsavedChangesText).then(function(D){!0===D&&A._close()}):this._close();if(this.onClose&&"function"===typeof this.onClose)this.onClose();this.emit("close",v);v=this.opener||this.defaultOpener||document.body;null===(B=null===v||void 0===v?void 0:v.setFocus)||void 0===B?void 0:B.call(v);null===(x=null===v||void 0===v?void 0:v.focus)||
void 0===x?void 0:x.call(v)};t.prototype.confirmClose=function(v){var A=new C["default"];v=confirm(v);A.resolve(v);return A};t.prototype.showLoader=function(v){this._overlayLoaderText.textContent=v||"";this._overlayLoader.classList.add("is-active")};t.prototype.hideLoader=function(){this._overlayLoaderText.textContent="";this._overlayLoader.classList.remove("is-active")};t.prototype.setUnsaved=function(v){this._unsavedChanges=v};t.prototype.handlePrimary=function(v){};t.prototype.handleHelp=function(v){};
t.prototype.handleCancel=function(v){this.close()};t.prototype.handleScrimClick=function(v){this.closeOnScrimClick&&v.target===v.currentTarget&&this.close()};t.prototype.resizeHandler=function(v){v=window.innerWidth;this._screenWidth>=this.maxWidth&&v<this.maxWidth&&this.domNode.classList.remove("overlay--max-width");this._screenWidth<this.maxWidth&&v>=this.maxWidth&&this.domNode.classList.add("overlay--max-width");this._screenWidth=v};t.prototype._close=function(){this.domNode&&this.domNode.classList.remove("is-active");
this.isDrillIn||(k["default"].remove(document.documentElement,this._preventScrollClass),g["default"]("ios")&&(document.documentElement.scrollTop=this._bodyScrollTop,document.body.scrollTop=this._bodyScrollTop));this.destroyOnClose&&this._destroy()};t.prototype._destroy=function(){var v=this;this.domNode&&a["default"].untrapFocus(this.domNode,this._trapHandler);setTimeout(function(){return v.destroy()},300)};return t=n.__decorate([m["default"](r["default"],z["default"],l["default"])],t)}()})},"arcgisonline/pages/components/MemberPicker":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../nls/arcgisonline arcgisonline/sharing/util arcgisonline/esriGeowConfig ../utils/keys ../portal/PortalUser ./MemberPickerRow ./preactHooks arcgisonline/sharing/dijit/_LevelAwareMixin".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z){var r=this;Object.defineProperty(K,"__esModule",{value:!0});K.MemberPicker=void 0;h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);u=n.__importDefault(u);K.MemberPicker=function(l){var d=C.useSetState({showCancel:l.showCancel||!0,selected:null,totalMembers:0,showMoreMembers:!1,showNoResults:!1,members:[],searchInput:"",initialFocus:!1}),e=d[0],a=d[1],b=p.useRef(null);d=p.useRef(null);p.useEffect(function(){m().then(function(N){a({totalMembers:N});
100>=N||l.allowEmptySearch?t().then(function(M){return a({members:M})}):a({showMoreMembers:!0})})},[]);p.useEffect(function(){var N=e.initialFocus;b.current&&N&&(c(),a({initialFocus:!1}))},[b,e.initialFocus]);p.useEffect(function(){l.showMemberPicker&&c()},[l.showMemberPicker]);p.useEffect(function(){a({showCancel:l.showCancel})},[l.showCancel]);var c=function(){var N;null===(N=b.current)||void 0===N?void 0:N.focus()},m=function(){return n.__awaiter(r,void 0,void 0,function(){var N,M,J;return n.__generator(this,
function(R){switch(R.label){case 0:return N=A("",1),M=v(),[4,f["default"].request({url:M,content:N})];case 1:return J=R.sent(),[2,J.total]}})})},t=function(N){return n.__awaiter(r,void 0,void 0,function(){var M,J,R,Z;return n.__generator(this,function(T){switch(T.label){case 0:return M=l.portal,J=A(N),R=v(),[4,f["default"].request({url:R,content:J})];case 1:return Z=T.sent(),[2,(Z.results||Z.users).map(function(X){return new u["default"](n.__assign(n.__assign({},X),{portal:M}))})]}})})},v=function(){var N=
l.group;return(null===N||void 0===N?0:N.isBackedByEnterpriseGroup)?g["default"].restBaseUrl+"/community/groups/"+N.id+"/userlist":g["default"].restBaseUrl+"/portals/self/users/search"},A=function(N,M){var J,R,Z=l.group,T=l.portal,X=l.adminOnly,aa=z.LevelAwareInfo.LICENSE_LEVELS,fa=aa.ONE;aa=aa.ONE_PLUS_EDIT;fa=Z?"":"-level:"+fa+" -level:"+aa+" ";Z=(null===Z||void 0===Z?0:Z.leavingDisallowed)||(null===Z||void 0===Z?0:Z.hiddenMembers)||X?"role:org_admin":"";X=N?"("+N+")":"";aa=T.isPortal?"-username:esri_livingatlas -username:esri_boundaries -username:esri_demographics -username:esri_nav":
"";if(null===(J=l.excludedUsernames)||void 0===J?0:J.length)aa=l.excludedUsernames.reduce(function(oa,ua){return""+oa+(oa?" ":"")+"-username:"+ua},aa);J={num:M||100,sortField:"relevance",sortOrder:"asc"};(null===(R=l.group)||void 0===R?0:R.isBackedByEnterpriseGroup)?J.name=N:J.q=X+" "+fa+" "+Z+" orgid:"+T.id+" "+aa;return J};p.useEffect(function(){var N=e.members,M=e.searchInput,J=e.totalMembers;0<(null===N||void 0===N?void 0:N.length)?a({showMoreMembers:!1,showNoResults:!1,selected:0}):a({showNoResults:0<
M.length,showMoreMembers:0===M.length&&100<=J})},[e.members,e.totalMembers]);var B=function(N){var M=e.members,J=e.selected;l.selectUpdate(N||M[J])},x=function(N,M){var J=e.members;a({showCancel:!0});var R=N,Z=J.length-1;N>Z?R=0:0>N&&(R=Z);a({selected:R});M||B(J[R])},D=function(){var N;null===(N=b.current)||void 0===N?void 0:N.focus()},E=function(){a(function(N){return{showCancel:!N.showCancel}})};C.useEventListener("keydown",function(N){var M=e.members,J=e.selected;if(l.showMemberPicker)switch(N.keyCode){case k.ESCAPE:l.selectCancel();
break;case k.ENTER:N.preventDefault();(null===M||void 0===M?0:M[J])&&B();break;case k.UP:N.preventDefault();x(J-1,!0);break;case k.DOWN:N.preventDefault(),x(J+1,!0)}});var y=e.members,F=e.showCancel,G=e.selected,H=e.showMoreMembers,I=e.showNoResults;return q.h("div",{ref:d,"class":"member-picker "+(l.showMemberPicker?"":"hide")},q.h("div",{"class":"font-size--1 trailer-half flex"},q.h("h4",{"class":"trailer-0 font-size--1 flex-1",id:"member-picker-label"},h["default"].changeOwner.newOwner),q.h("button",
{"class":"btn-link font-size--1 flex-0 btn-link-off-black right "+(F?"":"hide"),onClick:l.selectCancel},h["default"].common.cancel)),q.h("label",{"for":"member-picker-input","class":"visually-hidden"},h["default"].changeOwner.searchMembers),q.h("input",{id:"member-picker-input","class":"member-picker-search",ref:b,onInput:function(N){var M=e.totalMembers;N=N.target.value;N!==e.searchInput&&a({searchInput:N});(2<(null===N||void 0===N?void 0:N.length)||0<M&&100>=M||l.allowEmptySearch&&0===(null===N||
void 0===N?void 0:N.length))&&t(N).then(function(J){return a({members:J})});0===N.length&&a({showNoResults:!1});0===N.length&&!l.allowEmptySearch&&100<=M&&a({members:[],showMoreMembers:!0})},placeholder:h["default"].changeOwner.searchMembers,"aria-controls":"member-results-list",type:"search",autocomplete:"off"}),0<y.length&&q.h("ul",{"class":"member-picker-results",id:"member-results-list",role:"menu","aria-labelledby":"member-picker-label"},y.map(function(N,M){return q.h(w.MemberPickerRow,{key:N.id,
member:N,isSelected:M===G,index:M,handleCancel:E,handleSelect:x,handleFocus:D})})),I&&q.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},h["default"].changeOwner[l.group?"noUsersFoundGroup":"noUsersFoundItem"]),H&&q.h("p",{"class":"leader-1 trailer-1 font-size--2 padding-left-2 padding-right-2"},h["default"].changeOwner.tooManyUsers))}})},"arcgisonline/pages/utils/keys":function(){define(["require","exports"],function(O,K){Object.defineProperty(K,"__esModule",{value:!0});
K.DOWN=K.RIGHT=K.UP=K.LEFT=K.TAB=K.SPACEBAR=K.ENTER=K.ESCAPE=void 0;K.ESCAPE=27;K.ENTER=13;K.SPACEBAR=32;K.TAB=9;K.LEFT=37;K.UP=38;K.RIGHT=39;K.DOWN=40;K["default"]={ESCAPE:K.ESCAPE,ENTER:K.ENTER,TAB:K.TAB,UP:K.UP,DOWN:K.DOWN,LEFT:K.LEFT,RIGHT:K.RIGHT,SPACEBAR:K.SPACEBAR}})},"arcgisonline/pages/components/MemberPickerRow":function(){define(["require","exports","preact","./MemberThumb","preact/hooks"],function(O,K,n,q,p){Object.defineProperty(K,"__esModule",{value:!0});K.MemberPickerRow=void 0;K.MemberPickerRow=
function(h){var f=h.member,g=h.isSelected,k=h.handleSelect,u=h.handleFocus,w=h.index,C=n.createRef();h=f.fullName;var z=f.username;p.useEffect(function(){g&&C.current&&C.current.scrollIntoView({behavior:"smooth"})},[g,C]);return n.h("li",{"class":"member-browser-row member-browser-row--select member-browser-row--on-gray member-browser-row--compact flex flex-center "+(g?"is-active":""),ref:C,role:"menuitem","aria-selected":g,"tab-index":"0",onFocus:u,onClick:function(){k(w)}},n.h(q.MemberThumb,{member:f,
cssClasses:"member-browser-row-thumbnail margin-right-half"}),n.h("div",{"class":"flex-1 flex flex-column margin-left-half"},n.h("h4",{"class":"member-browser-row-name avenir-bold font-size--1 trailer-0"},h),n.h("p",{"class":"trailer-0 font-size--2"},z)))}})},"arcgisonline/pages/components/MemberThumb":function(){define("require exports tslib preact preact/hooks arcgisonline/esriGeowConfig ../utils/strings".split(" "),function(O,K,n,q,p,h,f){Object.defineProperty(K,"__esModule",{value:!0});K.MemberThumb=
void 0;f=n.__importDefault(f);K.MemberThumb=function(g){var k=g.member,u=g.cssClasses;g=g.showTooltip;var w=p.useState(null),C=w[0],z=w[1],r=p.useState(null);w=r[0];var l=r[1],d=p.useState(null);r=d[0];var e=d[1];d=p.useState(!1);var a=d[0],b=d[1];p.useEffect(function(){var m,t,v;b(!1);z(k.thumbnailUrl||k.defaultThumbnailUrl);if(k.thumbnailUrl&&k.thumbnailUrl!==k.defaultThumbnailUrl){var A=(null===(t=null===(m=h.userInfo)||void 0===m?void 0:m.credential)||void 0===t?void 0:t.token)||(null===(v=h.userInfo)||
void 0===v?void 0:v.token);A&&-1===k.thumbnailUrl.indexOf("token")&&z(function(B){return""+B+(-1<k.thumbnailUrl.indexOf("?")?"\x26":"?")+"token\x3d"+A});l("");e("#FFFFFF")}else c()},[k]);var c=function(){var m=k.fullName,t=k.username;m.trim()?(m=m.split(" "),l(m[0].substring(0,1)+(m[1]?m[1].substring(0,1):""))):k.username&&l(t.substring(0,2));m=k.id;m=(null===m||void 0===m?void 0:m.substr(m.length-6))||"";f["default"].isValidHex(m)||(m=f["default"].stringToHex(k.username));m=f["default"].hexToRgb(m);
e("rgba("+m.r+","+m.g+","+m.b+",0.2)");b(!0)};return q.h("div",{"aria-label":g?k.fullName:"","class":g?"tooltip":""},q.h("div",{"class":"member-thumb "+(u||""),style:{backgroundColor:r}},q.h("img",{src:C,onError:c,alt:"","class":"margin-left-0 "+(a?"hide":"")}),q.h("div",{"class":"member-thumb__initials "+(a?"":"hide")},w),q.h("div",{"class":"member-thumb__edit-mask"},q.h("calcite-icon",{icon:"plusCircle",scale:"l"}))))}})},"arcgisonline/pages/components/preactHooks":function(){define(["require",
"exports","tslib","preact/hooks"],function(O,K,n,q){Object.defineProperty(K,"__esModule",{value:!0});K.useAsyncReference=K.useDebounce=K.useSetState=K.useEventListener=K.useWindowSize=void 0;K.useWindowSize=function(p){function h(){g({width:window.innerWidth,height:window.innerHeight})}p="object"!==typeof window;p=q.useState({width:p?1200:window.innerWidth,height:p?800:window.innerHeight});var f=p[0],g=p[1];q.useEffect(function(){window.addEventListener("resize",h);return function(){window.removeEventListener("resize",
h)}},[]);return f};K.useEventListener=function(p,h,f){void 0===f&&(f=window);var g=q.useRef();q.useEffect(function(){g.current=h},[h]);q.useEffect(function(){if(f&&f.addEventListener){var k=function(u){return g.current(u)};f.addEventListener(p,k);return function(){f.removeEventListener(p,k)}}},[p,f])};K.useSetState=function(p){void 0===p&&(p={});var h=q.useState(p);p=h[0];var f=h[1];h=q.useCallback(function(g){f(function(k){return n.__assign(n.__assign({},k),g instanceof Function?g(k):g)})},[f]);
return[p,h]};K.useDebounce=function(p,h){var f=q.useState(p),g=f[0],k=f[1];q.useEffect(function(){var u=setTimeout(function(){k(p)},h);return function(){clearTimeout(u)}},[p,h]);return g};K.useAsyncReference=function(p){var h=q.useRef(p),f=q.useState(!1)[1];return[h,function(g){Object.is(h.current,g)||(h.current=g,f(function(k){return!k}))}]}})},"arcgisonline/pages/dijit/ChangeOwner/FolderPicker":function(){define("require exports tslib dojo/text!./templates/FolderPicker.html dojo/i18n!../../../nls/arcgisonline dojo/Evented dojo/Deferred dojo/debounce dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator ../../../sharing/util ../../utils/organization ../../../esriGeowConfig ./FolderPickerRow ../../utils/dom ../../utils/keys ../../utils/icons".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);c=n.__importDefault(c);return function(){function m(t,v){this.templateString=q["default"];this.i18n=p["default"];
this.icons=c["default"];this._rows=[];this._selectedIndex=0;this._creatingFolder=!1}m.prototype.postMixInProperties=function(){this.inherited(arguments);this.containerClass=this.isMoveItem?"move-item-container":"member-picker"};m.prototype.postCreate=function(){var t=this,v;this.inherited(arguments);this.itemFolders=null===(v=this.items)||void 0===v?void 0:v.map(function(A){return A.ownerFolder});this._searchInput=this.domNode.querySelector(".js-search-input");this._noFolderRow=this.domNode.querySelector(".js-no-folder");
this._createFolderInlineLink=this._noFolderRow.querySelector(".js-create-folder-inline");this._createFolderInlineLink.addEventListener("click",this._showNewFolder.bind(this,!0));this._searchInput.addEventListener("input",g["default"](this._updateResults.bind(this),300));this.domNode.addEventListener("keydown",this._handleKeys.bind(this));this._newFolderForm=this.domNode.querySelector(".js-create-folder-form");this._newFolderForm.addEventListener("submit",function(A){var B,x;null===(x=null===(B=t.saveNewfolder(A))||
void 0===B?void 0:B.then)||void 0===x?void 0:x.call(B,function(D){t.emit("selectUpdate",D)})});this._newFolderInput=this._newFolderForm.querySelector(".js-create-folder-input");this._newFolderInput.addEventListener("input",g["default"](this._updateFolderResults.bind(this),300));this.isMoveItem?(v=this.domNode.querySelector(".js-folder-picker-cancel"),v.parentElement.removeChild(v),this._resultsDropdown.classList.add("move-item")):this.domNode.querySelector(".js-folder-picker-cancel").addEventListener("click",
function(A){t._cancelNewFolder();t._buildFolderList();t.emit("cancel")});this._createFolderButton=this.domNode.querySelector(".js-create-new-folder");this._createFolderButton.addEventListener("click",this._showNewFolder.bind(this,!1));this._showHideCreate()};m.prototype.shouldHideCreate=function(){var t=l["default"].getUserRole(this.portal.portalUser);return this.portal.portalUser.username!==this.user.username&&t.isCustom()&&t.canReassignOrgItems()};m.prototype._showHideCreate=function(){var t=this.shouldHideCreate();
a["default"].showHide(this._createFolderButton,!t);a["default"].showHide(this._createFolderInlineLink,!t)};m.prototype._buildFolderList=function(){var t=this,v;this._rows.forEach(function(B){return B.destroy()});this._rows=(this.user.folders||[]).map(function(B,x){var D=new e["default"]({folder:B,user:t.user,isMoveItem:t.isMoveItem},u["default"].place(u["default"].create("li"),t._resultsDropdown));D.on("select",function(){return t.emit("selectUpdate",B)});D.on("select",function(){return t._select(x)});
D.on("hover",function(){return t._active(x,!0)});return D});var A=null===(v=this.itemFolders)||void 0===v?void 0:v.filter(function(B,x){return B&&t.itemFolders.indexOf(B)===x});1===(null===A||void 0===A?void 0:A.length)?(v=this._rows.filter(function(B){return B.folder.id===A[0]})[0],v=this._rows.indexOf(v),-1!==v&&(this._active(v),this._select(v))):this._active(0);this._searchInput.value=""};m.prototype._updateResults=function(){var t=this._searchInput.value.toLowerCase(),v=this._rows.filter(function(A){var B=
A.folder.title.toLowerCase();B=!t||-1<B.indexOf(t);a["default"].showHide(A.domNode,B);return B});0===v.length&&(this._createFolderInlineLink.innerHTML=k["default"].substitute(this.i18n.folderDlg.createFolderInline,[t]));a["default"].showHide(this._noFolderRow,0===v.length)};m.prototype._checkMatchingFolder=function(t){var v=t.toLowerCase();return 0<this._rows.filter(function(A){return A.folder.title.toLowerCase()===v}).length};m.prototype._updateFolderResults=function(){this._checkMatchingFolder(this._newFolderInput.value)?
this._displayError("Unable to create folder.",this._newFolderInput.value):this._closeErrorMessage()};m.prototype._handleKeys=function(t){if(!this._creatingFolder)switch(t.keyCode){case b.ESCAPE:this.emit("cancel");break;case b.ENTER:t.preventDefault();this._createFolderInlineLink===document.activeElement?this._showNewFolder(!0):this._createFolderButton===document.activeElement&&this._showNewFolder(!1);if(t=this._rows[this._selectedIndex])this.emit("selectUpdate",t.folder),this._select(this._selectedIndex);
break;case b.UP:t.preventDefault();this._active(this._selectedIndex-1);break;case b.DOWN:t.preventDefault(),this._active(this._selectedIndex+1)}};m.prototype._select=function(t){if(t||0===t){var v=this._rows.length-1;t>v&&(t=0);0>t&&(t=v)}this._rows[t].select();this._rows.forEach(function(A,B){B!==t&&A.deselect()})};m.prototype._active=function(t,v){if(t||0===t){var A=this._rows.length-1;t>A&&(t=0);0>t&&(t=A);this._selectedIndex=t;this._rows[t].active();if(!v){var B=this._rows[t].domNode;A=B.parentElement;
var x=B.offsetTop;B=B.offsetHeight;var D=x+B;x<A.scrollTop?A.scrollTop=x:D>A.scrollTop+A.offsetHeight&&(A.scrollTop=x-A.offsetHeight+B)}}this._rows.filter(function(E,y){return y!==t}).forEach(function(E){return E.deactivate()})};m.prototype._showNewFolder=function(t){var v=this;this._creatingFolder=!0;t?(a["default"].hideNode(this._noFolderRow),this.saveNewfolder(void 0,!0).then(function(A){v.emit("selectUpdate",A)})):(a["default"].hideNode(this._createFolderButton),a["default"].showNode(this._newFolderForm),
this._active(),this._newFolderInput.focus(),this._newFolderForm.querySelector(".js-folder-create-cancel").addEventListener("click",this._cancelNewFolder.bind(this)))};m.prototype._cancelNewFolder=function(t){null===t||void 0===t?void 0:t.preventDefault();this._closeErrorMessage();this._creatingFolder=!1;a["default"].hideNode(this._newFolderForm);this._newFolderInput.value="";this.shouldHideCreate()||a["default"].showNode(this._createFolderButton)};m.prototype.focus=function(){this._searchInput.focus()};
m.prototype.updateUser=function(t){this.user=t;this._buildFolderList();this._showHideCreate()};m.prototype.hasUnsavedChanges=function(){return this._creatingFolder&&0<this._newFolderInput.value.length};m.prototype.saveNewfolder=function(t,v){var A=this;null===t||void 0===t?void 0:t.preventDefault();var B=d["default"].restBaseUrl+"/content/users/"+this.user.username+"/createFolder",x=v?this._searchInput.value:this._newFolderInput.value,D={title:x};if(null!==x&&void 0!==x&&x.trim())if(this._checkMatchingFolder(x))this._newFolderInput.focus();
else return this.emit("folderCreated",x),r["default"].request({url:B,content:D},{usePost:!0}).then(function(E){var y=new f["default"];!0===(null===E||void 0===E?void 0:E.success)&&(A._cancelNewFolder(),A.user.folders.unshift(E.folder),A._buildFolderList(),A._select(0),A._active(0),y.resolve(E.folder));return y},function(E){A._displayError(E.message,x)});else this._displayError(this.i18n.folderDlg.invalid.provideName,x)};m.prototype._displayError=function(t,v){var A;"Unable to create folder."===t&&
(A=""===v?this.i18n.folderDlg.invalid.provideName:k["default"].substitute(this.i18n.folderDlg.invalid.sameFolderName,[v]));var B=this.domNode.querySelector(".js-create-folder-error-message");B.innerHTML=A||t;this._newFolderInput.focus();B.classList.add("is-active");this._newFolderInput.classList.add("error")};m.prototype._closeErrorMessage=function(){this.domNode.querySelector(".js-create-folder-error-message").classList.remove("is-active");this._newFolderInput.classList.remove("error")};return m=
n.__decorate([z["default"](C["default"],w["default"],h["default"])],m)}()})},"arcgisonline/pages/dijit/ChangeOwner/FolderPickerRow":function(){define("require exports tslib dojo/text!./templates/FolderPickerRow.html dojo/i18n!../../../nls/arcgisonline ../../utils/icons dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator".split(" "),function(O,K,n,q,p,h,f,g,k,u){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);
k=n.__importDefault(k);u=n.__importDefault(u);return function(){function w(C,z){this.templateString=q["default"];this.i18n=p["default"];this.icons=h["default"]}w.prototype.postMixInProperties=function(){this.inherited(arguments);this.folderIcon=h["default"].inline[this.user.username===this.folder.id?"home":"folder"]["16"]};w.prototype.postCreate=function(){var C=this;this.inherited(arguments);this._folderLink.addEventListener("click",function(z){z.preventDefault();C.emit("select")});this.domNode.addEventListener("click",
function(z){return C.emit("select")});this._folderLink.addEventListener("mouseover",function(z){return C.emit("hover")})};w.prototype.active=function(){this._folderLink.classList.add("is-active")};w.prototype.deactivate=function(){this._folderLink.classList.remove("is-active")};w.prototype.select=function(){this._folderLink.setAttribute("aria-selected","true");this._folderLink.classList.add("is-selected")};w.prototype.deselect=function(){this._folderLink.setAttribute("aria-selected","false");this._folderLink.classList.remove("is-selected")};
return w=n.__decorate([u["default"](k["default"],g["default"],f["default"])],w)}()})},"arcgisonline/pages/dijit/OverlayConfirm":function(){define("require exports tslib esri/Evented dojo/text!./Overlay/templates/OverlayConfirm.html dojo/i18n!../../nls/arcgisonline dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../utils/icons ../utils/focus ../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){q=n.__importDefault(q);p=n.__importDefault(p);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=p["default"];this.i18n=h["default"];this.icons=w["default"];this.cancelText=this.confirmText="";this.isActions=!1;this.showActions=this.showClose=!0;this.cssClasses="";this.noMask=!1;this._confirmDfd=new f["default"]}l.prototype.postCreate=
function(){this.inherited(arguments);this.domNode.removeAttribute("title");var d=".js-confirm-btn",e=".js-cancel-btn";this.isActions&&(d=".js-action-one",e=".js-action-two",z["default"].hideNode(this._buttons),z["default"].showNode(this._actions));this._confirmBtn=this.domNode.querySelector(d);this._cancelBtn=this.domNode.querySelector(e);z["default"].showHide(this._closeBtn,this.showClose);this.showActions||(z["default"].hideNode(this._buttons),z["default"].hideNode(this._actions));this.noMask&&
this.domNode.classList.add("overlay-confirm--no-mask");this.iconKey&&(this.domNode.classList.add("overlay-confirm--has-icon"),this.icon.innerHTML=this.icons[this.iconKey]["16"]);this._render();this._addEventListeners()};l.prototype._render=function(){this._title.textContent=this.title;this._description.innerHTML=this.description;this._confirmBtn.textContent=this.confirmText;this._cancelBtn.textContent=this.cancelText};l.prototype._addEventListeners=function(){this.own(u["default"](this._confirmBtn,
this._confirmResolve.bind(this,"onOk")),u["default"](this._cancelBtn,this._confirmResolve.bind(this,"onCancel")),u["default"](this._closeBtn,this._confirmResolve.bind(this,"onClose")))};l.prototype._confirmResolve=function(d){var e=this;this._hide();setTimeout(function(){e._confirmDfd.resolve(d);e.destroy();e.emit("close")},300)};l.prototype._hide=function(){this.domNode.classList.remove("is-active")};l.prototype.show=function(){var d=this;window.getComputedStyle(this.domNode).opacity;this.domNode.classList.add("is-active");
setTimeout(function(){d.showClose?d._closeBtn.focus():d._cancelBtn.focus();C["default"].trapFocus(d.domNode)},300);return this._confirmDfd};l.prototype.hide=function(){var d=this;this._hide();setTimeout(function(){d.destroy()},300)};return l=n.__decorate([r["default"](k["default"],g["default"],q["default"])],l)}()})},"arcgisonline/pages/dijit/MoveItem":function(){define("require exports tslib dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ./Overlay ./OverlayConfirm ./ChangeOwner/FolderPicker ../utils/dom ../utils/alerts ../utils/arrays ../../sharing/util ../utils/icons ../../esriGeowConfig dojo/text!./ChangeOwner/templates/MoveItem.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);return function(){function c(m,t){this.title=a["default"].itemProperties.moveToFolder;
this.i18n=a["default"];this.icons=l["default"];this.constrain=!0;this.overlayContents=q["default"].substitute(e["default"],{i18n:a["default"],icons:l["default"]});this.maxWidth=600;this.loadingText=a["default"].common.updating}c.prototype.postMixInProperties=function(){this.inherited(arguments)};c.prototype.postCreate=function(){this.inherited(arguments);this._loader=this.domNode.querySelector(".js-overlay-loader")};c.prototype.open=function(){this.inherited(arguments);this.initUI();this.addListeners()};
c.prototype.close=function(m){this.inherited(arguments)};c.prototype.handlePrimary=function(){var m=this,t;(null===(t=this._folderPicker)||void 0===t?0:t.hasUnsavedChanges())?this._folderPicker.saveNewfolder().then(function(v){m._folder=v;m.updateItems()},this.updateItems.bind(this)):this.updateItems()};c.prototype.addListeners=function(){this.own(this._folderPicker.on("selectUpdate",this.folderSelectUpdate.bind(this)))};c.prototype.initUI=function(){this._folderPicker=new u["default"]({portal:this.portal,
user:this.owner,isMoveItem:!0,items:this.items},this.domNode.querySelector(".js-folder-picker"));this.memberSelectUpdate(this.owner);this._primaryBtn.disabled=!0};c.prototype.fadeIn=function(){var m=this.domNode.querySelector(".js-change-owner-wrapper");this.domNode.querySelector(".js-change-owner-loader").classList.remove("is-active");m.classList.add("animate-fade-in");w["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};c.prototype.updateItems=function(){var m=this;this.moveItems(this.items).then(function(t){t=
t.results||[];var v=t.filter(function(x){return x.success}).map(function(x){return x.item}),A=t.filter(function(x){return x.error&&!x.success}),B=t.filter(function(x){return x.moveItems});0<B.length&&(B[0].results||[]).forEach(function(x){var D=z["default"].find(m.items,function(E){return E.id===x.itemId});x.success?v.push({success:!0,item:D}):A.push({error:x.error,item:D})});0===A.length&&0<v.length?m.handleSuccess(v):0<A.length&&0===v.length?m.handleError(A[0]):0<A.length&&0<v.length&&m.handlePartialSuccess(v,
A[0]);0===t.length&&m.handleSuccess()},this.handleError.bind(this))};c.prototype.moveItems=function(m){this._loader.classList.add("is-active");var t=this._folder.username===this._folder.id?"/":this._folder.id,v=m.filter(function(B){return(B.ownerFolder||"/")!==t}),A=new p["default"];0===v.length?A.resolve({moveItems:!0,results:[]}):r["default"].request({url:d["default"].restBaseUrl+"/content/users/"+this._owner.username+"/moveItems",content:{items:v.map(function(B){return B.id}).join(","),folder:t}},
{usePost:!0}).then(function(B){return A.resolve({moveItems:!0,results:B.results})},function(B){return A.resolve({error:B,items:m})});return A};c.prototype.handleSuccess=function(m){this._loader.classList.remove("is-active");m={newOwner:this._owner,newFolder:this._folder,updatedItems:m};C["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);this.close(m)};c.prototype.handleError=function(m){var t,v=m.error,A=m.itemId;m=v;"CONT_0014"===
v.messageCode&&(v=null===(t=this.items.filter(function(B){return B.id===A}))||void 0===t?void 0:t[0])&&(m=q["default"].substitute(a["default"].folderDlg.invalid.itemExists,[v.title,this._folder.folderAttributeName||this._folder.title]));this._loader.classList.remove("is-active");t=new k["default"]({title:a["default"].common.errorTitle,description:this._folder?m:a["default"].folderDlg.invalid.selectFolder,showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});t.domNode.classList.add("position-absolute");
t.domNode.classList.add("fullscreen");this._overlay.appendChild(t.domNode);t.show()};c.prototype.handlePartialSuccess=function(m,t){var v,A=t.itemId,B=t.error;this._loader.classList.remove("is-active");var x={newOwner:this._owner,updatedItems:m,error:B},D=null===(v=this.items.filter(function(E){return E.id===A}))||void 0===v?void 0:v[0];C["default"].showAlert("success",a["default"].itemProperties[1<this.items.length?"itemsMovedSuccess":"itemMovedSuccess"]);"CONT_0014"===B.messageCode&&C["default"].showAlert("error",
q["default"].substitute(a["default"].folderDlg.invalid.itemExists,[D.title,this._folder.folderAttributeName||this._folder.title]));x.newFolder=this._folder;this.close(x)};c.prototype.openFolderSelect=function(m){null===m||void 0===m?void 0:m.preventDefault();w["default"].showNode(this._folderPicker.domNode);this._folderPicker.focus()};c.prototype.folderSelectUpdate=function(m){this._folder=m;this.populateCurrentFolder();this._primaryBtn.disabled=!1};c.prototype.memberSelectUpdate=function(m){var t=
this;this._owner=m;this._folder=null;m.folders?(this.populateCurrentFolder(),this._folderPicker.updateUser(m),this.openFolderSelect(),this.fadeIn()):m.getFolders().then(function(v){m.folders=v;t._owner.folders=v;t.populateCurrentFolder();t._folderPicker.updateUser(m);t.fadeIn()})};c.prototype.populateCurrentFolder=function(){if(!this._folder){var m=this.items[0].ownerFolder,t=this.items.every(function(A){return A.ownerFolder===m}),v=z["default"].find(this._owner.folders,function(A){return A.id===
m});this._folder=t&&v?v:this._owner.folders[0]}};return c=n.__decorate([b["default"](f["default"],h["default"],g["default"])],c)}()})},"arcgisonline/sharing/dijit/dialog/DeleteWarningDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated"],function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg");O.require("dijit.Dialog");O.require("dijit._Widget");O.require("dijit._Templated");O.declare("arcgisonline.sharing.dijit.dialog.DeleteWarningDlg",
[K._Widget,K._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"delete-warning-dialog" class\x3d"general-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.deleteWarningDlgTitle}"\x3e\r\n    \x3cdiv id\x3d"delete-warning-dialog-content" class\x3d"leader-quarter break-word"\x3e\x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"esriFloatTrailing right leader-1 clearfix flex flex-align-center"\x3e\r\n      \x3cspan id\x3d"delete-status" class\x3d"text-right margin-right-half" style\x3d"display: none;"\x3e${!i18n.deletingSpace}\x3c/span\x3e\r\n\t\x3c!-- "primary" / "calcite orange" used since this is a delete confirmation --\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-submit" class\x3d"jevent calcite orange btn-delete" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.deleteLabel}\r\n      \x3c/button\x3e\r\n      \x3cbutton id\x3d"button_delete-warning-close" class\x3d"jevent cancel" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
handler:null,manualHide:!1,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.DeleteWarningDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common;O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline","arcgisonline").deleteWarningDlg)},postCreate:function(){this.loadConnections()},show:function(q,p,h,f){this.handler=h;this.clear();
if(null==p||""==p)p="item";K.byId("button_delete-warning-submit").set("disabled",!1);K.byId("button_delete-warning-close").set("disabled",!1);this.manualHide=f;h="";h=1==q?O.string.substitute(this.i18n.confirmDeleteItem,[p]):O.string.substitute(this.i18n.confirmDeleteItems,[q,p]);O.byId("delete-warning-dialog-content").innerHTML=h;O.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel;O.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel;O.style(O.byId("delete-status"),
"display","none");K.byId("delete-warning-dialog").show()},showMsg:function(q,p,h){null!=q&&0!=q.length&&(this.handler=p,this.clear(),K.byId("button_delete-warning-submit").set("disabled",!1),K.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=h,O.byId("delete-warning-dialog-content").innerHTML=q,O.byId("delete-warning-dialog_title").innerHTML=this.i18n.deleteLabel,O.byId("button_delete-warning-submit_label").innerHTML=this.i18n.deleteLabel,O.style(O.byId("delete-status"),"display",
"none"),K.byId("delete-warning-dialog").show())},showMsgTitleButton:function(q,p,h,f,g){null!=q&&0!=q.length&&(this.handler=f,this.clear(),K.byId("button_delete-warning-submit").set("disabled",!1),K.byId("button_delete-warning-close").set("disabled",!1),this.manualHide=g,O.byId("delete-warning-dialog-content").innerHTML=q,O.byId("delete-warning-dialog_title").innerHTML=p,O.byId("button_delete-warning-submit_label").innerHTML=h,O.style(O.byId("delete-status"),"display","none"),K.byId("delete-warning-dialog").show())},
renameDeleteButton:function(q){K.byId("button_delete-warning-submit").set("label",q)},renameCancelButton:function(q){K.byId("button_delete-warning-close").set("label",q)},clear:function(){},loadConnections:function(){this.own(O.query("#button_delete-warning-close").connect("onclick",function(q){q.preventDefault();if(this.onHide)this.onHide();K.byId("delete-warning-dialog").hide()}.bind(this)),O.query("#button_delete-warning-submit").connect("onclick",O.hitch(this,"submitRequest")))},submitRequest:function(q){q.preventDefault();
this.handler();this.manualHide?(O.style(O.byId("delete-status"),"display","inline-block"),K.byId("button_delete-warning-submit").set("disabled",!0),K.byId("button_delete-warning-close").set("disabled",!0)):K.byId("delete-warning-dialog").hide()},hide:function(){K.byId("delete-warning-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/ExportDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/serviceUtil ../../../pages/utils/categories ../../../pages/utils/dom ../../util ../SaveItem ./GeneralDlg ../../../tsutils/declareDecorator dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/promise/all dojo/string dojo/on dojo/topic esri/config esri/lang esri/Evented dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExportDlg.html ../ComboBox".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=
n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);var D;(function(E){E.ShapeFile="Shapefile";E.CSV="CSV";E.FileGDB="File Geodatabase";E.GeoJson="GeoJson";E.FeatureCollection="Feature Collection";E.KML="KML";E.Excel="Excel";E.TilePackage="Tile Package";E.GeoPackage="GeoPackage"})(D||(D={}));return function(){function E(){this.declaredClass="arcgisonline.sharing.dijit.dialog.ExportDlg";this.widgetsInTemplate=!0;this.templateString=x["default"];this.layerId=-1;
this.init=!1;this.checkStatusInterval=null;this.checkingStatus=!1;this.statusCheckIntervalTime=4E3;this._setMessageAttr={node:"_message",type:"innerHTML"};this.typeLookup={shapefileType:D.ShapeFile,csvType:D.CSV,fileGDB:D.FileGDB,geoJson:D.GeoJson,featureCollection:D.FeatureCollection,kmlType:D.KML,excelType:D.Excel,CSV:"CSV Collection",KML:"KML Collection",Excel:"Microsoft Excel",tilePackage:D.TilePackage};this.requiredBorder="1px dotted orangered";this.normalBorder="1px solid #bbb"}E.prototype.onDone=
function(y){};E.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=n.__assign(n.__assign(n.__assign({},B["default"].common),B["default"].exportDlg),{defaultError:B["default"].errorWidget.defaultError,generalize:B["default"].addLayerFromFileDlg.generalize,keepOrig:B["default"].addLayerFromFileDlg.keepOrig,notEnoughCreditsTitle:B["default"].publishTileServiceDlg.notEnoughCreditsTitle,itemProperties:B["default"].itemProperties});this._webMercatorValues={3857:1,102113:1,102100:1,
900913:1}};E.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.init=!0,this.saveItem=new u["default"]({},this.saveItemForm))};E.prototype.startup=function(){this.inherited(arguments);t["default"].defaults.io.proxyUrl=q["default"].proxyServer;q["default"].proxyUrl&&(t["default"].defaults.io.proxyUrl=q["default"].proxyUrl)};E.prototype.destroy=function(){this._onSaveItemValidateHandle&&(this._onSaveItemValidateHandle.remove(),this._onSaveItemValidateHandle=null);this.exportDialog.destroyRecursive();
this._pendingCanceller=this.exportDialog=null;this.inherited(arguments)};E.prototype.show=function(y,F,G,H){var I=this;this.showDlg(y,F,G);H&&setTimeout(function(){I._message.style.maxWidth=I.saveItem.domNode.clientWidth+"px";I.setWait(!0);H.waitForCredits.then(function(N){I._pendingCanceller=null;if(N.success)return I.set("message",N.message),I.unsetWait();I.displayError(N,I.i18n.notEnoughCreditsTitle)},function(N){I._pendingCanceller=null;I.displayError(N)});I._pendingCanceller=H.canceller},0)};
E.prototype.showShapefile=function(y,F){this.showDlg(y,F,D.ShapeFile)};E.prototype.showCSV=function(y,F){this.showDlg(y,F,D.CSV)};E.prototype.showFileGDB=function(y,F){this.showDlg(y,F,D.FileGDB)};E.prototype.showGeoJson=function(y,F){this.showDlg(y,F,D.GeoJson)};E.prototype.showFeatureCollection=function(y,F){this.showDlg(y,F,D.FeatureCollection)};E.prototype.showDlg=function(y,F,G){this.clear();this.item=y;this.setDialogTitle(G);this.setLayerDetails(F);this.checkForStaleData(y,F);this.initTags();
this.initCategories();this.exportDialog.show();y=this.onCancel.bind(this);this.own(z["default"](this.exportDialog.closeButtonNode,y),c["default"](this.cancelBtn,"click",y),c["default"](this.exportBtn,"click",this.onExport.bind(this)));this.exportDialog.closeButtonNode.tabIndex=0};E.prototype.checkForStaleData=function(y,F){var G,H,I,N;(null===(G=y.layers)||void 0===G?0:G.length)&&"Feature Service"===y.type&&-1<y.typeKeywords.indexOf("Hosted Service")&&(F&&!F.length?N=null===(H=F.editingInfo)||void 0===
H?void 0:H.lastEditDate:y.layers.forEach(function(M){var J;(I=null===(J=M.editingInfo)||void 0===J?void 0:J.lastEditDate)&&(!N||N<I)&&(N=I)}))};E.prototype.initTags=function(){var y=this;this.saveItem.loadTags().then(function(){y.saveItem.set("tags",[])})};E.prototype.initCategories=function(){this.saveItem.loadCategories(this.item.categories)};E.prototype.setDialogTitle=function(y){this.exportType=y;y=this.i18n.itemProperties;var F=this.i18n.exportDialogTitle;D.ShapeFile===this.exportType?F=y.exportToShapefile:
D.CSV===this.exportType?F=y.exportToCSVFile:D.FileGDB===this.exportType?F=y.exportToFileGDB:D.GeoJson===this.exportType?F=y.exportToGeoJson:D.FeatureCollection===this.exportType?F=y.exportToFeatureCollection:D.KML===this.exportType?F=y.exportToKML:D.Excel===this.exportType?F=y.exportToExcel:D.TilePackage===this.exportType?F=y.exportToTilePackage:D.GeoPackage===this.exportType&&(F=y.exportToGeoPackage);this.exportDialog.set("title",F)};E.prototype.setLayerDetails=function(y){var F,G,H,I;this._isTableLayer=
this._isWebMercator=!1;y&&v["default"].isDefined(y.id)?(this.layerId=y.id,this._layers=[y],this.saveItem.set("title",y.name),this._isWebMercator=(null===(G=null===(F=y.extent)||void 0===F?void 0:F.spatialReference)||void 0===G?void 0:G.wkid)in this._webMercatorValues,this._extent=y.extent):y&&y.length&&(this._layers=y,this._isWebMercator=(null===(I=null===(H=y[0].extent)||void 0===H?void 0:H.spatialReference)||void 0===I?void 0:I.wkid)in this._webMercatorValues,this._isTableLayer=y.every(function(N){return"Table"===
N.type}),this._extent=y[0].extent,this.saveItem.set("title",1===y.length?y[0].name:this.item.title));this._isWebMercator&&!this._isTableLayer&&this.exportType===D.FeatureCollection&&(this.featureCollectionDiv.classList.remove("hide"),this.generalizeChk.checked=!0)};E.prototype.clear=function(){this.exportDialog.set("title",this.i18n.exportDialogTitle);this.item=null;this.layerId=-1;this.checkStatusInterval=this.exportResponse=this.exportType=null;this.checkingStatus=!1;this.saveItem.set("title","");
this.saveItem.set("tags",[]);this.saveItem.set("summary","");this.saveItem.set("requires",["title"]);this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!0;this._onSaveItemValidateHandle=m["default"].subscribe("onSaveItemValidate",this.validate.bind(this));this.saveItem.hideRow("folder");g["default"].forEachNode(this.saveItem.domNode.querySelectorAll(".select2-container.select2-container-multi"),function(y){y.style.minWidth="33px"});this.featureCollectionDiv.classList.add("hide");
this.generalizeChk.checked=!1};E.prototype.hide=function(){return this.exportDialog.hide()};E.prototype.validate=function(y){y=this.saveItem.get("title");this.exportBtn.disabled=!y};E.prototype.validates=function(){return!!this.saveItem.get("title")};E.prototype.setWait=function(y){this.exportDialog.domNode.style.cursor="wait";y?this.set("message",this.i18n.estimatingCredits):this.exportingLabel.style.visibility="visible";this.exportBtn.disabled=!0};E.prototype.unsetWait=function(){this.exportDialog.domNode.style.cursor=
"default";this.exportingLabel.style.visibility="hidden";this.exportBtn.disabled=!1};E.prototype.exportImageryItem=function(){var y=this,F=this.saveItem.get("title");F=h["default"].exportImageryToTilePackage(this.item,F);var G=F.dfd;this._pendingCanceller=F.canceller;G.then(function(H){var I=H.success;H=H.outputValue;y._pendingCanceller=null;I&&H.itemId?(y.exportResponse={exportItemId:H.itemId},y.updateExportedItemDetails({itemId:H.itemId,statusMessage:""})):y.displayError(y.i18n.defaultError)},function(){y._pendingCanceller=
null;y.displayError(y.i18n.defaultError)})};E.prototype.exportItem=function(){var y=this;if(this._moveFailed)this.updateItem(this._moveFailed.itemId,"/").then(function(M){y.unsetWait();y.onDone(M)});else{this.setWait();if("Image Service"===this.item.type&&D.TilePackage===this.exportType)return this.exportImageryItem();var F=this.saveItem.get("title"),G=this.generalizeChk.checked,H={maxAllowableOffset:1,quantizationParameters:{tolerance:1}},I=D.ShapeFile;D.CSV===this.exportType?I=D.CSV:D.FileGDB===
this.exportType?I=D.FileGDB:D.GeoJson===this.exportType?I=D.GeoJson:D.FeatureCollection===this.exportType?I=D.FeatureCollection:D.KML===this.exportType?I="kml":D.Excel===this.exportType?I="excel":D.GeoPackage===this.exportType&&(I="geoPackage");var N=this._layers.map(function(M){return G?n.__assign({id:M.id},H):{id:M.id}});F={itemId:this.item.id,title:F,exportFormat:I,exportParameters:-1<this.layerId?{layers:N}:G?H:null};this.item.isOwner&&this.item.isDataView&&(F.exportParameters=n.__assign(n.__assign({},
F.exportParameters||{}),{enforceFieldVisibility:!0}));D.FileGDB===this.exportType&&(F.exportParameters=n.__assign(n.__assign({},F.exportParameters||{}),{exportContingentValues:!0}));F.exportParameters&&(F.exportParameters=JSON.stringify(F.exportParameters));I=k["default"].getUser();k["default"].request({url:q["default"].restBaseUrl+"content/users/"+I.username+"/export",content:F},{usePost:!0}).then(this.handleExport.bind(this),this.displayError.bind(this))}};E.prototype.handleExport=function(y){!y||
y.code||y.message?this.displayError(y):(this.exportResponse=y,this.checkStatusInterval=setInterval(this.checkStatus.bind(this),this.statusCheckIntervalTime))};E.prototype.checkStatus=function(){var y=this;if(this.exportResponse&&!this.checkingStatus){var F={jobId:this.exportResponse.jobId,jobType:"export"},G=k["default"].getUser();G=q["default"].restBaseUrl+"content/users/"+G.username+"/items/"+this.exportResponse.exportItemId+"/status";this.checkingStatus=!0;k["default"].request({url:G,content:F}).then(function(H){y.handleStatusCheck(H);
y.checkingStatus=!1},function(H){y.displayError(H);y.checkingStatus=!1})}};E.prototype.handleStatusCheck=function(y){"completed"===(null===y||void 0===y?void 0:y.status)?(clearInterval(this.checkStatusInterval),this.updateExportedItemDetails(y)):"failed"===y.status&&(clearInterval(this.checkStatusInterval),this.updateExportedItemDetailsAndFail(y))};E.prototype.updateExportedItemDetailsAndFail=function(y){var F=this;this.getItemDetails(this.exportResponse.exportItemId).then(function(G){var H=[],I=
q["default"].self.hasCategorySchema&&F.saveItem.get("categories")||[];0<I.length&&H.push(f["default"].setItemCategories([G.id],I));H.push(F.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){F.unsetWait();F.displayFailure(y.statusMessage)})})};E.prototype.updateExportedItemDetails=function(y){var F=this;this.getItemDetails(y.itemId).then(function(G){var H=[],I=q["default"].self.hasCategorySchema&&F.saveItem.get("categories")||[];0<I.length&&H.push(f["default"].setItemCategories([G.id],
I));H.push(F.updateItem(G.id,G.ownerFolder));a["default"](H).then(function(){F.unsetWait();F.onDone(y)})})};E.prototype.moveItem=function(y,F){var G=this,H=new e["default"],I=k["default"].getUser();I=q["default"].restBaseUrl+"content/users/"+I.username+"/items/"+y+"/move";var N={folder:F||"/"};this._moveFailed=null;F&&"/"!==F&&""!==F?k["default"].request({url:I,content:N},{usePost:!0}).then(function(M){H.resolve(M)},function(M){if(M&&"CONT_0011"===M.messageCode){var J=G.saveItem.get("title");J=b["default"].substitute(G.i18n.duplicateFound,
{type:G.exportType,title:J});p["default"].createSpecifiedDialog(w["default"]).show({title:G.i18n.errorTitle,message:J});G._moveFailed=n.__assign(n.__assign({},M),{itemId:y,folderId:F});G.unsetWait()}}):H.resolve({itemId:y});return H};E.prototype.updateItem=function(y,F){var G=this.saveItem.get("title"),H=this.saveItem.get("tags"),I=this.saveItem.get("summary"),N=this.saveItem.get("folderId"),M=q["default"].restBaseUrl+"content/items/"+this.exportResponse.exportItemId+"/data",J=k["default"].getUser();
J=q["default"].restBaseUrl+"content/users/"+J.username;F&&0<F.length&&(J+="/"+F);J+="/items/"+this.exportResponse.exportItemId+"/update";G={title:G,tags:H,snippet:I};this._moveFailed||(G.folderId=N);D.KML===this.exportType&&(G.url=M);return k["default"].request({url:J,content:G},{usePost:!0}).then(this.moveItem.bind(this,y,N))};E.prototype.getItemDetails=function(y){return k["default"].request({url:q["default"].restBaseUrl+"content/items/"+y})};E.prototype.goToItem=function(y){var F=this;this.hide().then(function(){F.unsetWait();
window.location.href=q["default"].baseUrl+"item.html?id\x3d"+y})};E.prototype.checkTitle=function(){var y=this.saveItem.get("title"),F=this.saveItem.get("folderId"),G=this.typeLookup[this.exportType]||this.exportType,H=k["default"].getUser().username;return k["default"].request({url:q["default"].restBaseUrl+"search",content:{q:'title:"'+y+'" AND type:"'+G+'" AND owner:"'+H+'" AND ownerfolder:"'+(F&&"/"!==F?F:"root")+'"'}})};E.prototype.displayFailure=function(y){var F=this;if(y)try{var G=JSON.parse(y)}catch(N){G=
y}var H=p["default"].createSpecifiedDialog(w["default"]);H.onOkClick=function(){H.hide();F.onCancel()};var I=this.i18n.errorTitle;G.message&&(y=G.message);H.show({title:I,message:y})};E.prototype.displayError=function(y,F){var G=this;F=F||this.i18n.errorTitle;if(y){var H=p["default"].createSpecifiedDialog(w["default"]);H.onOkClick=function(){H.hide();G.onCancel()};H.show({title:F,message:(null===y||void 0===y?0:y.code)&&y.message?y.message:y})}};E.prototype.onExport=function(){var y=this;this.validates()&&
this.checkTitle().then(function(F){0<F.total?(F=y.saveItem.get("title"),F=b["default"].substitute(y.i18n.duplicateFound,{type:y.typeLookup[y.exportType]||y.exportType,title:F}),p["default"].createSpecifiedDialog(w["default"]).show({title:y.i18n.errorTitle,message:F})):y.exportItem()})};E.prototype.onCancel=function(y){var F,G;null===(F=null===y||void 0===y?void 0:y.preventDefault)||void 0===F?void 0:F.call(y);null===(G=this._pendingCanceller)||void 0===G?void 0:G.call(this);this.hide();this.destroy()};
return E=n.__decorate([C["default"](r["default"],l["default"],d["default"],A["default"])],E)}()})},"arcgisonline/pages/serviceUtil":function(){define("require exports tslib dojo/Deferred dojo/json dojo/promise/all dojo/sniff esri/lang esri/layers/FeatureLayer esri/request esri/tasks/Geoprocessor ./pageUtil ./utils/arrays arcgisonline/sharing/dijit/Role ../sharing/util ../esriGeowConfig".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);return function(){function e(){}e.getDateFields=function(a){return((null===a||void 0===a?void 0:a.fields)||[]).filter(function(b){return"esriFieldTypeDate"===(null===b||void 0===b?void 0:b.type)})};e.fetchServerToken=function(a,b){var c=a.portal,m=b||a.url;return m?l["default"].request({url:l["default"].getSecureUrl(c.portalUrl+
"generateToken"),content:{serverUrl:m}},{usePost:!0}).then(function(t){return t.token}):null};e.fetchItemAdminUrl=function(a,b){var c;return a.portal.isPortal?(null===b||void 0===b?0:b.adminUrl)&&b.url?this.getAdminUrl(a,b):a.url:(null===(c=a.url)||void 0===c?void 0:c.replace("/rest/","/rest/admin/"))||null};e.getAdminUrl=function(a,b){var c=a.url;c=c.replace(c.split("/rest/")[0],b.adminUrl);return a.isSDS||"Knowledge Graph"===a.type?c.replace("/rest/","/rest/admin/"):c.replace("/rest/","/admin/").replace("/FeatureServer",
".MapServer").replace("/MapServer",".MapServer").replace("/VectorTileServer",".VectorTileServer").replace("/SceneServer",".SceneServer").replace("/ImageServer",".ImageServer")};e.fetchServiceLayers=function(a){return l["default"].request({url:a+"/layers"}).then(function(b){return(null===b||void 0===b?void 0:b.layers)||[]})};e.renameServiceLayers=function(a,b){var c=new q["default"],m=b.adminUrl+"/"+a.layerId,t={name:a.layerRename};"Map Service"===b.type?(m+="/edit",t={layerDefinition:JSON.stringify(t)}):
(m+="/updateDefinition",t={updateDefinition:JSON.stringify(t),async:!1});l["default"].request({url:m,content:t},{usePost:!0}).then(function(){return c.resolve()},function(v){return c.reject(v)});return c};e.updateServiceDefinition=function(a){var b=a.layerId,c=a.item;a=a.definition;var m=new q["default"];l["default"].request({url:c.adminUrl+"/"+b+"/updateDefinition",content:{updateDefinition:JSON.stringify(a),async:!1}},{usePost:!0}).then(function(){return m.resolve()},function(t){return m.reject(t)});
return m};e.queryGeocodeCounts=function(a){var b=[],c=a.url,m={where:"1\x3d1",returnCountOnly:!0},t=a.reviewTable,v=c+"/"+(a.layers||[])[0].id+"/query",A=new q["default"];a.canUpdate&&a.isHostedService&&a.hasGeocodeReviewTable?(b.push(l["default"].request({url:v,content:m})),t&&(a=c+"/"+t.id+"/query",b.push(l["default"].request({url:a,content:m}))),h["default"](b).then(function(B){var x=(null===B||void 0===B?void 0:B.length)&&B[0].count||0;A.resolve({successful:x,total:x+(1<(null===B||void 0===B?
void 0:B.length)&&B[1].count||0)})},function(B){A.resolve(null)})):A.resolve(null);return A};e.adjustHostedServerForProtocol=function(a){return"https:"===location.protocol?a.replace("http:","https:").replace(":6080",":6443"):a.replace("https:","http:").replace(":6443",":6080")};e.checkForResources=function(a){var b=a.itemUrl+"/resources/styles/root.json";"Vector Tile Service"!==a.type||g["default"].isDefined(a.hasResources)?(b=new q["default"],b.resolve(!!a.hasResources)):b=l["default"].request({url:b}).then(function(){return!0},
function(){return!1});return b};e.setFeatureServiceScaleRanges=function(a){var b=this,c=new q["default"],m=a.url,t=a.sourceData||{},v=a.featureLayers||[];!a.numViews&&a.isHostedService&&"Feature Service"===a.type&&"Service Definition"!==t.type?h["default"](v.map(function(A){return b.setScaleRange(m+"/"+A.id,a,A.id)})).then(function(){return c.resolve(!0)}):c.resolve(!0);return c};e.setScaleRange=function(a,b,c){var m=new q["default"],t=new k["default"](a);a=b.adminUrl;c=g["default"].isDefined(c)?
"/"+c:"";var v=""+a+c+"/updateDefinition";t.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){t.statisticsPlugin.getSuggestedScaleRange().then(function(A){A={updateDefinition:p["default"].stringify({maxScale:A.maxScale||0,minScale:A.relaxedMinScale||0})};l["default"].request({url:v,content:A},{usePost:!0}).then(function(){return m.resolve(b)},function(){return m.resolve(b)})},function(A){m.resolve(b)})});return m};e.getSuggestedScaleRange=function(a){var b=new q["default"],c=new k["default"](a);
c.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){c.statisticsPlugin.getSuggestedScaleRange({sampleSize:100,forPublishingTiles:!0}).then(function(m){return b.resolve(m)},function(m){b.resolve(null)})},function(m){b.resolve(null)});return b};e.encodeServiceName=function(a,b){if(f["default"]("ie")||f["default"]("trident")||f["default"]("edge")){var c=a.indexOf("admin/services/Hosted/"),m=l["default"].isPortal()&&!b?-1<a.indexOf(".MapServer")?a.indexOf(".MapServer"):-1<a.indexOf(".VectorTileServer")?
a.indexOf(".VectorTileServer"):a.indexOf("/SceneServer"):a.indexOf("/FeatureServer");0<c&&(a=a.substring(0,c+22)+encodeURIComponent(a.substring(c+22,m))+a.substring(m))}return a};e.getImageryToTilePackageParams=function(a,b){var c,m=a.id,t=a.itemUrl||a.portal.portalUrl+"content/items/"+m,v=a.portal.getPortalUser();v=(null===(c=null===v||void 0===v?void 0:v.credential)||void 0===c?void 0:c.token)||(null===v||void 0===v?void 0:v.token);return{inputImageryLayer:JSON.stringify({itemId:m,url:t+"?token\x3d"+
v}),outputTilePackage:b||"tpk"+m,context:"{}"}};e.exportImageryToTilePackage=function(a,b,c){a=e.getImageryToTilePackageParams(a,b);a=n.__assign(n.__assign({},a),{f:"json"});return e.createImageryTask({taskName:"ExportToTilePackage",inputParameters:a,updateDelay:2E4,statusCallback:c,outputParameterName:"outTilePackage"})};e.fetchExportImageryCredits=function(a){a=e.getImageryToTilePackageParams(a);a={inputAnalysisTask:JSON.stringify({name:"ExportToTilePackage",parameters:a}),f:"json",context:"{}"};
return e.createImageryTask({taskName:"EstimateRasterAnalysisCost",inputParameters:a,updateDelay:2E3,outputParameterName:"outCost"})};e.createImageryTask=function(a){var b=a.taskName,c=a.updateDelay,m=a.inputParameters,t=a.outputParameterName,v=a.statusCallback,A=new q["default"],B=new w["default"](d["default"].self.helperServices.rasterAnalytics.url+"/"+b);c&&B.setUpdateDelay(c);var x,D=!1,E=function(y){return!D&&A.reject(y)};B.on("error",E);B.submitJob(m,function(y){if(!D)if("esriJobSucceeded"===
y.jobStatus){if(!t)return A.resolve({success:!0});B.getResultData(y.jobId,t).then(function(F){A.resolve({success:null!=(null===F||void 0===F?void 0:F.value),outputValue:null===F||void 0===F?void 0:F.value})},E)}else A.resolve({success:!1})},function(y){x=y.jobId;null===v||void 0===v?void 0:v(y)},E);return{canceller:function(){x&&(D=!0,B.cancelJobStatusUpdates(x),B.cancelJob(x,null,null))},dfd:A}};e.fetchBuildingSceneSubLayer=function(a,b,c){return new Promise(function(m){l["default"].request({url:a+
"/layers/"+b+"/sublayers/"+c}).then(function(t){m({layerId:b,subLayer:t})},function(){m({layerId:b,subLayer:{}})})})};e.fetchPartialUpdateBuildingScenePublishingCredits=function(a,b,c){var m=this,t=b.serviceInfo||{},v=t.layers||[],A=a.url+"/extractChanges",B={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},x={},D={textured:0,untextured:0},E=(b.portal||{}).portalUrl+"portals/self/usageCost",y={name:t.name,etype:"tilegencnt",
stype:"scene"},F;return new Promise(function(G){var H=[];c.forEach(function(I){var N,M;F=v.find(function(J){return J.id===I.id});(null===(N=F.sublayers)||void 0===N?void 0:N.filter(function(J){return"3DObject"===J.layerType}).map(function(J){return J.id})).forEach(function(J){H.push(m.fetchBuildingSceneSubLayer(b.url,I.id,J))});F.isTextured=!(null===(M=null===F||void 0===F?void 0:F.multiPatchInfo)||void 0===M||!M.hasTexture);x[I.id]=F});Promise.all(H).then(function(I){var N={};I.forEach(function(M){var J=
M.subLayer,R=J.associatedLayerID;J=J.serviceUpdateTimeStamp.lastUpdate;N[R]=M.layerId;B.layers.push(R);B.layerServerGens.push({id:R,serverGen:J})});l["default"].request({url:A,content:n.__assign(n.__assign({},B),{layers:JSON.stringify(B.layers),layerServerGens:JSON.stringify(B.layerServerGens)})},{usePost:!0}).then(function(M){(null===M||void 0===M?0:M.edits)?(Object.keys(M.edits).forEach(function(J){J=M.edits[J];var R=J.objectIds;D[x[N[J.id]].isTextured?"textured":"untextured"]+=R.adds.length+R.updates.length+
R.deletes.length}),h["default"]({textured:0<D.textured?l["default"].request({url:E,content:n.__assign({num:D.textured,task:"textured"},y)}):null,untextured:0<D.untextured?l["default"].request({url:E,content:n.__assign({num:D.untextured,task:"nontextured"},y)}):null}).then(function(J){var R,Z;J=((null===(R=null===J||void 0===J?void 0:J.textured)||void 0===R?void 0:R.credits)||0)+((null===(Z=null===J||void 0===J?void 0:J.untextured)||void 0===Z?void 0:Z.credits)||0);G(J)},function(){G(0)})):G(0)},function(M){G(0)})},
function(){G(0)})})};e.fetchPartialUpdateScenePublishingCredits=function(a,b,c){var m=new q["default"],t=(a.adminServiceInfo||{}).layers||[],v=b.serviceInfo||{},A=v.layers||[];a=a.url+"/extractChanges";var B={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},x={},D={textured:0,untextured:0},E=(b.portal||{}).portalUrl+"portals/self/usageCost",y={name:v.name,etype:"tilegencnt",stype:"scene"},F;c.forEach(function(G){var H;B.layers.push(G.id);
(F=z["default"].find(t,function(N){return N.id===G.id}))||1!==t.length||(F=t[0]);if(F){var I=G.id;I!==F.id&&(I=F.id);F.isTextured=!(null===(H=null===F||void 0===F?void 0:F.multiPatchInfo)||void 0===H||!H.hasTexture);x[I]=F}});A.forEach(function(G){-1<B.layers.indexOf(G.id)&&G.serviceUpdateTimeStamp&&B.layerServerGens.push({id:G.id,serverGen:G.serviceUpdateTimeStamp.lastUpdate})});l["default"].request({url:a,content:n.__assign(n.__assign({},B),{layers:JSON.stringify(B.layers),layerServerGens:JSON.stringify(B.layerServerGens)})},
{usePost:!0}).then(function(G){(null===G||void 0===G?0:G.edits)?(Object.keys(G.edits).forEach(function(H){H=G.edits[H];var I=H.objectIds;D[x[H.id].isTextured?"textured":"untextured"]+=I.adds.length+I.updates.length+I.deletes.length}),h["default"]({textured:0<D.textured?l["default"].request({url:E,content:n.__assign({num:D.textured,task:"textured"},y)}):null,untextured:0<D.untextured?l["default"].request({url:E,content:n.__assign({num:D.untextured,task:"nontextured"},y)}):null}).then(function(H){var I,
N;H=((null===(I=null===H||void 0===H?void 0:H.textured)||void 0===I?void 0:I.credits)||0)+((null===(N=null===H||void 0===H?void 0:H.untextured)||void 0===N?void 0:N.credits)||0);m.resolve(H)},function(){m.resolve(0)})):m.resolve(0)},function(G){m.resolve(0)});return m};e.fetchScenePublishingCredits=function(a,b,c){var m=new q["default"],t=a.adminServiceInfo||{},v=t.layers||[],A=a.url+"/query",B={},x={},D={textured:0,untextured:0},E=(a.portal||{}).portalUrl+"portals/self/usageCost",y={name:t.name,
etype:"tilegencnt",stype:"scene"},F;b.length&&c?v.forEach(function(G){var H;G.isTextured=!(null===(H=null===G||void 0===G?void 0:G.multiPatchInfo)||void 0===H||!H.hasTexture);x[G.id]=G;B[G.id]="1\x3d1"}):b.forEach(function(G){var H;(F=z["default"].find(v,function(N){return N.id===G.id}))||1!==v.length||(F=v[0]);if(F){var I=G.id;I!==F.id&&(I=F.id);F.isTextured=!(null===(H=null===F||void 0===F?void 0:F.multiPatchInfo)||void 0===H||!H.hasTexture);x[I]=F;B[I]="1\x3d1"}});l["default"].request({url:A,content:n.__assign(n.__assign({},
{}),{layerDefs:JSON.stringify(B),returnCountOnly:!0})}).then(function(G){(null===G||void 0===G?0:G.layers)?(G.layers.forEach(function(H){D[x[H.id].isTextured?"textured":"untextured"]+=H.count}),h["default"]({textured:0<D.textured?l["default"].request({url:E,content:n.__assign({num:D.textured,task:"textured"},y)}):null,untextured:0<D.untextured?l["default"].request({url:E,content:n.__assign({num:D.untextured,task:"nontextured"},y)}):null}).then(function(H){var I,N;H=((null===(I=null===H||void 0===
H?void 0:H.textured)||void 0===I?void 0:I.credits)||0)+((null===(N=null===H||void 0===H?void 0:H.untextured)||void 0===N?void 0:N.credits)||0);m.resolve(H)},function(){m.resolve(0)})):m.resolve(0)},function(){m.resolve(0)});return m};e.getServerLicenseInfo=function(a){a+="/admin/system/licenses";return l["default"].request({url:a},{useProxy:d["default"].isDebug||l["default"].shouldUseProxy(a)})};e.findManagedDataStoreItems=function(a){a+="/admin/data/findItems";return l["default"].request({url:a,
content:{managed:!0}},{useProxy:d["default"].isDebug||l["default"].shouldUseProxy(a)})};e.findRasterStoreItems=function(a){a+="/admin/data/findItems";return l["default"].request({url:a,content:{types:"rasterStore",decrypt:!0}},{useProxy:d["default"].isDebug||l["default"].shouldUseProxy(a)})};e.isBackedBySDS=function(a){var b,c=new q["default"],m=(null===(b=null===d["default"]||void 0===d["default"]?void 0:d["default"].self)||void 0===b?void 0:b.user)||{};b=new r["default"]({portalUser:m});var t=!1,
v;m&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!C["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(A){v=((null===A||void 0===A?void 0:A.items)||A||[]).filter(function(B){var x;return"arcgis data store"===(null===(x=null===B||void 0===B?void 0:B.provider)||void 0===x?void 0:x.toLowerCase())});t=!(null===v||void 0===v||!v.length);c.resolve(t)},function(){c.resolve(t)}):c.resolve(t);return c};e.isImageManagementTask=function(a){if(!a||-1===a.indexOf("RasterAnalysisTools")||
-1===a.indexOf("GPServer/"))return!1;a=a.slice(a.indexOf("GPServer/")+9);-1<a.indexOf("/")&&(a=a.slice(0,a.indexOf("/")));var b="buildfootprints buildoverview calculatestatistics definenodata computecolorcorrection computeseamlines".split(" ");return a&&-1<b.indexOf(a.toLowerCase())};e.getBackingDataStoreInfo=function(a){var b,c=new q["default"],m=(null===(b=null===d["default"]||void 0===d["default"]?void 0:d["default"].self)||void 0===b?void 0:b.user)||{};b=new r["default"]({portalUser:m});var t=
!0,v=!1,A=!1,B=!1,x,D,E;m&&(b.isBasedOnAdmin()||b.isBasedOnPublisher())&&a&&!C["default"].isEmptyObject(a)?this.findManagedDataStoreItems(a.adminUrl).then(function(y){y=(null===y||void 0===y?void 0:y.items)||y||[];x=y.filter(function(F){var G;return"arcgis data store"===(null===(G=null===F||void 0===F?void 0:F.provider)||void 0===G?void 0:G.toLowerCase())});D=y.filter(function(F){var G,H,I;return"arcgis data store"===(null===(G=null===F||void 0===F?void 0:F.provider)||void 0===G?void 0:G.toLowerCase())&&
"spatiotemporal"===(null===(I=null===(H=F.info)||void 0===H?void 0:H.dsFeature)||void 0===I?void 0:I.toLowerCase())});E=y.filter(function(F){var G,H,I,N;return"arcgis data store"===(null===(G=null===F||void 0===F?void 0:F.provider)||void 0===G?void 0:G.toLowerCase())&&"nosql"===(null===(H=F.type)||void 0===H?void 0:H.toLowerCase())&&"graphstore"===(null===(N=null===(I=F.info)||void 0===I?void 0:I.dsFeature)||void 0===N?void 0:N.toLowerCase())});t=0===y.length;v=!(null===x||void 0===x||!x.length);
A=!(null===D||void 0===D||!D.length);B=!(null===E||void 0===E||!E.length);c.resolve({isSDS:v,isSTDS:A,isGraph:B,none:t})},function(){c.resolve({isSDS:v,isSTDS:A,isGraph:B,none:t})}):c.resolve({isSDS:v,isSTDS:A,isGraph:B,none:t});return c};e.cacheMaxAgeCheck=function(a,b){var c;if(!a.ignoreCache&&a.layers&&"Feature Service"===a.type&&a.isHostedService&&0<(null===(c=null===b||void 0===b?void 0:b.adminServiceInfo)||void 0===c?void 0:c.cacheMaxAge)&&(a.ignoreCache=function(){var t=this;this.ignoreCacheFlagTimestamp=
(new Date).getTime();var v=function(A){A.content=A.content||{};A.content._ts=t.ignoreCacheFlagTimestamp;return A};this.ignoreCacheFlag||(u["default"].setRequestPreCallback(v),this.ignoreCacheFlag=!0)},a.layers)){var m=0;a.layers.forEach(function(t){var v;(null===(v=t.editingInfo)||void 0===v?0:v.lastEditDate)&&m<t.editingInfo.lastEditDate&&(m=t.editingInfo.lastEditDate)});0<m&&((new Date).getTime()-m)/1E3<b.adminServiceInfo.cacheMaxAge&&a.ignoreCache()}};e.isServiceProxy=function(a){var b=(a||"").toLowerCase();
a=-1<b.indexOf("/servers/")&&-1<b.indexOf("/rest/services/");var c=d["default"].self.isPortal&&-1<b.indexOf(d["default"].self.portalHostname);b=!d["default"].self.isPortal&&-1<b.indexOf(".arcgis.com");return a&&(c||b)};e.ASYNC_POLL_INTERVALS=[2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,15E3,15E3,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,12E4];return e}()})},"arcgisonline/sharing/dijit/SaveItem":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/CategoryPicker ../../pages/utils/arrays ../../pages/utils/dom ../../pages/utils/storage ../util ../geow/Folder ../../tsutils/declareDecorator arcgis-components/wrappers/Tags dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/Deferred dojo/on dojo/topic dojo/data/ItemFileWriteStore dojo/i18n!../../nls/arcgisonline dojo/text!./templates/SaveItem.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);return function(){function v(A,B){this.declaredClass=
"arcgisonline.sharing.dijit.SaveItem";this.widgetsInTemplate=!0;this.templateString=t["default"];this.baseClass="esriAGOSaveItemForm";this.init=!1;this.folders={}}v.prototype.postMixInProperties=function(){this.i18n=n.__assign(n.__assign(n.__assign({},m["default"].common),m["default"].saveItem),{addTags:m["default"].itemCompleteness.addTags})};v.prototype.postCreate=function(){this.inherited(arguments);this.init||(this.saveItemTags=new z.TagsWrapper(this.saveItemTagsContainer,{activeTags:[],knownTags:[],
maxWidth:"100%",minWidth:"100%"}),this.getFolders(),this.init=!0)};v.prototype.startup=function(){this.inherited(arguments);this.initHandlers()};v.prototype.hideRow=function(A){g["default"].hideNodes(this.domNode.querySelectorAll(".save-item-"+A+"-row"))};v.prototype.loadTags=function(A){var B=u["default"].getUser();A&&(B=A);return u["default"].loadUserTags(B.username)};v.prototype.loadCategories=function(A){var B=this,x=new e["default"],D=this.domNode.querySelectorAll(".categories-container");q["default"].self.hasCategorySchema?
u["default"].request({url:q["default"].restBaseUrl+"portals/self/categorySchema"}).then(function(E){B.categories=new h["default"]({categories:A||[],schema:E.categorySchema},B.saveItemCategories);B.categories.startup();g["default"].showNodes(D);x.resolve()},function(){g["default"].hideNodes(D);x.resolve()}):(g["default"].hideNodes(D),x.resolve());return x};v.prototype.initHandlers=function(){var A=this.validate.bind(this);this.own(a["default"](this.saveItemFolder,"change",this.onFolderChange.bind(this)),
a["default"](this.saveItemTitle,"change",A),a["default"](this.saveItemSummary,"change",A),p["default"].registerKeystrokeHandler(this.saveItemTitle,A),p["default"].registerKeystrokeHandler(this.saveItemSummary,A))};v.prototype.validate=function(){var A,B;if(!this.beingDestroyed){var x=!0,D=this.saveItemTitle.get("value"),E=(null===(B=null===(A=this.saveItemTags)||void 0===A?void 0:A.getTags())||void 0===B?void 0:B.join(","))||"";A=this.saveItemSummary.get("value");null===this.requires?x=!!(D&&E&&A):
(f["default"].includes(this.requires,"title")&&(x=x&&!!D),f["default"].includes(this.requires,"tags")&&(x=x&&0!==E.length),f["default"].includes(this.requires,"summary")&&(x=x&&!!A));b["default"].publish("onSaveItemValidate",[x])}};v.prototype.getFolders=function(){var A=this,B=u["default"].getUser();if(null!==B){var x=new c["default"]({url:null,data:{identifier:"name",items:[]}});x.newItem({name:B.username,id:""});this.saveItemFolder.set("store",x);this.saveItemFolder.set("value",B.username);w["default"].getFolders(function(D){var E=
null,y=k["default"].getCookie("ESRI_Content");y&&y.folderId&&(E=y.folderId);A.foldersJson=D.folders;D.folders.forEach(function(F,G){x.newItem({name:F.title,id:F.id});A.folders["id"+F.id]=F.title.replace(/"/g,'\\"');E===F.id&&(A.saveItemFolder.set("value",F.title),A.folderId=E,A.folderName=F.title)});x.save({})},function(D){})}};v.prototype.onFolderChange=function(A){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(x){x.forEach(function(D){D.name[0]===A&&(B.folderId=D.id[0],B.folderName=
D.name[0])})}})};v.prototype._setTitleAttr=function(A){this.saveItemTitle.set("value",A)};v.prototype._getTitleAttr=function(){return this.saveItemTitle.get("value")};v.prototype._setTagsAttr=function(A){this.saveItemTags.setTags(A)};v.prototype._getTagsAttr=function(){return this.saveItemTags.getTags()};v.prototype._setCategoriesAttr=function(A){var B=this;A&&A.forEach(function(x){B.categories.addCategory(x)})};v.prototype._getCategoriesAttr=function(){return this.categories.getCategories(!0)};v.prototype._setSummaryAttr=
function(A){this.saveItemSummary.set("value",A)};v.prototype._getSummaryAttr=function(){return this.saveItemSummary.get("value")};v.prototype._setFolderAttr=function(A){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(x){x.forEach(function(D){D.name[0]===A&&(B.folderId=D.id[0],B.folderName=D.name[0],B.saveItemFolder.set("value",B.folderName))})}})};v.prototype._getFolderAttr=function(){return this.folderName};v.prototype._setFolderIdAttr=function(A){var B=this;this.saveItemFolder.get("store").fetch({onComplete:function(x){x.forEach(function(D){D.id[0]===
A&&(B.folderId=D.id[0],B.folderName=D.name[0],B.saveItemFolder.set("value",D.name[0]))})}})};v.prototype._getFolderIdAttr=function(){return this.folderId};v.prototype._setRequiresAttr=function(A){this.requires=A?A:null};v.prototype._setTitlePlaceHolderAttr=function(A){this.saveItemTitle.set("placeHolder",A)};v.prototype._setTagsPlaceHolderAttr=function(A){this.saveItemTitle.set("placeHolder",A)};v.prototype._setSummaryPlaceHolderAttr=function(A){this.saveItemSummary.set("placeHolder",A)};return v=
n.__decorate([C["default"](l["default"],r["default"],d["default"])],v)}()})},"arcgisonline/sharing/geow/Folder":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/clone ../util dojo/promise/all dojo/topic dojo/when dojo/data/ItemFileReadStore".split(" "),function(O,K,n,q,p,h,f,g,k,u){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);return function(){function w(){}
w.createFolder=function(C,z,r){var l=h["default"].getUser();return(l=l&&(l.username||l.email))?this.createFolderByUser(l,C,z,r):null};w.createFolderByUser=function(C,z,r,l){var d=this;h["default"].getUser()&&h["default"].request({url:q["default"].restBaseUrl+"content/users/"+C+"/createFolder",content:z},{usePost:!0}).then(function(e){var a;if(null===(a=d._userFolders)||void 0===a?0:a[C])d._userFolders[C]=null;r(e)},function(e){l(e)})};w.deleteFolder=function(C,z,r){var l=h["default"].getUser();return(l=
l&&(l.username||l.email))?this.deleteFolderByUser(l,C,z,r):null};w.deleteFolderByUser=function(C,z,r,l){var d=this;z=q["default"].restBaseUrl+"content/users/"+C+"/"+z+"/delete";h["default"].getUser()&&h["default"].request({url:z},{usePost:!0}).then(function(e){var a;if(null===(a=d._userFolders)||void 0===a?0:a[C])d._userFolders[C]=null;r(e)},function(e){l(e)})};w.getFolders=function(C,z,r){var l=h["default"].getUser();return(l=l&&(l.username||l.email))?this.getFoldersByUser(l,C,z,r):null};w.getFoldersByUser=
function(C,z,r,l){var d=this,e;if(h["default"].getUser())if(this._isRequestingFolders)setTimeout(this.getFoldersByUser.bind(this,C,z,r,l),75);else{"function"!==typeof r&&(l=r,r=null);this._userFolders||(this._userFolders={});var a=q["default"].restBaseUrl+"content/users/"+C;l={num:l?100:1};a=(null===(e=this._userFolders[C])||void 0===e?void 0:e.folders)&&p["default"](this._userFolders[C].folders)||this._fetchAllItems(a,l).then(function(b){d._userFolders[C]={folders:b};d._isRequestingFolders=!1;return p["default"](b)},
function(b){throw b;});this._isRequestingFolders=!this._userFolders[C]||!this._userFolders[C].folders;k["default"](a,z,r)}};w._fetchAllItems=function(C,z){var r=this,l={};return this._fetchItems(C,z,l).then(function(d){if(1<z.num&&d.total>z.num){var e=Math.ceil(d.total/z.num),a=d.nextStart,b=[];1===(null===d||void 0===d?void 0:d.start)?l=d:l.items=l.items.concat(d.items);for(var c=0;c<e-1;c++)b.push(r._fetchItems(C,n.__assign(n.__assign({},z),{start:a}),l)),a+=d.num;return f["default"](b).then(function(m){(m||
[]).forEach(function(t){l.items=l.items.concat(t.items)});return l})}return d},function(d){throw d;})};w._fetchItems=function(C,z,r){return h["default"].request({url:C,content:z}).then(function(l){return l},function(l){throw l;})};w.foldersToStore=function(C){return new u["default"]({data:{label:"title",items:[{name:"Anonymous User",children:C}]}})};w.updateMoveToMenu=function(C,z,r,l,d){g["default"].publish("updateItemToolbar",[{folders:C,folderId:z,folderName:r,onClickHandler:l,customMenuItem:d}])};
w.updateMoveToMenuByUser=function(C,z,r,l,d){g["default"].publish("updateItemToolbar",[{username:C,folders:z,folderId:r,folderName:l,onClickHandler:d}])};return w}()})},"arcgisonline/sharing/dijit/ComboBox":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/form/ComboBox dojo/text!./templates/ComboBox.html".split(" "),function(O,K,n,q,p,h){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);return function(){function f(g,k){this.autoComplete=!1;this.templateString=
h["default"]}return f=n.__decorate([q["default"](p["default"])],f)}()})},"arcgisonline/sharing/dijit/dialog/ExtentDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/on dojo/topic dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../DefineExtent dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ExtentDlg.html".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z){var r=K("arcgisonline.sharing.dijit.dialog.ExtentDlg",[g,k,u],{declaredClass:"arcgisonline.sharing.dijit.dialog.ExtentDlg",
basePath:O.toUrl("arcgisonline/sharing/dijit/dialog"),templateString:z,widgetsInTemplate:!0,postMixInProperties:function(){this.inherited(arguments);this.i18n=n.mixin({},C.common);this.i18n=n.mixin(this.i18n,C.viewer.geocode);this.i18n=n.mixin(this.i18n,C.generalDlg);this.i18n=n.mixin(this.i18n,C.extentDlg)},postCreate:function(){this.inherited(arguments);this._loadConnections()},_loadConnections:function(){this.own(q(this._cancelBtn,"click",n.hitch(this,"_cancelBtnClick")),q(this._okBtn,"click",
n.hitch(this,"_okBtnClick")),p.subscribe("define-extent/update",n.hitch(this,"_publish")))},_cancelBtnClick:function(l){l.preventDefault();this._extentDialog.hide()},_okBtnClick:function(l){l.preventDefault();this.setExtent()},hide:function(){this._defineExtent._destroyMap();this._extentDialog.hide()},show:function(l){this._defineExtent||(this._defineExtent=new w({id:"defineExtent"},this._extentContainer),this._defineExtent.startup());this._defineExtent.set("extent",l);this._extentDialog.show()},
setExtent:function(){var l=this._defineExtent.get("extent");l&&this._publish(l);this.hide()},_publish:function(l){p.publish("extent/update",l)}});r.prototype.statics={getInstance:function(){this._instance||(this._instance=new r);return this._instance}};return r})},"arcgisonline/sharing/dijit/DefineExtent":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/query dojo/on dojo/number dojo/topic esri/dijit/Search esri/map esri/layers/ImageParameters esri/layers/ArcGISTiledMapServiceLayer esri/geometry/Extent esri/geometry/Point esri/geometry/webMercatorUtils esri/SpatialReference esri/symbols/SimpleLineSymbol esri/toolbars/draw esri/graphic esri/dijit/Popup dijit/Dialog dijit/form/Button dijit/form/TextBox dijit/layout/BorderContainer dijit/layout/ContentPane dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../map/core/projectExtent ../../map/utils/clipOnHorizon ../../map/utils/createExtentSearchOptions ../util ../../pages/pageUtil ../../pages/utils/dom ../../pages/utils/number ../../esriGeowConfig ./dialog/GeneralDlg dojo/i18n!../../nls/arcgisonline dojo/text!./templates/DefineExtent.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X,aa,fa,oa,ua){return K([G,H,I],{declaredClass:"arcgisonline.sharing.dijit.DefineExtent",basePath:O.toUrl("arcgisonline/sharing/dijit"),templateString:ua,widgetsInTemplate:!0,numberPattern:"#.#",_setExtentAttr:function(ha){(this.extent=ha)&&2===ha.length&&2===ha[0].length&&2===ha[1].length?(this._initMap(ha),this._extentTop.set("value",X.format(Math.round(1E3*this.extent[1][1])/1E3)),this._extentLeft.set("value",
X.format(Math.round(1E3*this.extent[0][0])/1E3)),this._extentRight.set("value",X.format(Math.round(1E3*this.extent[1][0])/1E3)),this._extentBottom.set("value",X.format(Math.round(1E3*this.extent[0][1])/1E3))):(this._initMap(null),this._extentTop.set("value",""),this._extentLeft.set("value",""),this._extentRight.set("value",""),this._extentBottom.set("value",""))},_getExtentAttr:function(){var ha=[[],[]],U=this._extentTop.get("value"),ka=this._extentLeft.get("value"),W=this._extentBottom.get("value"),
Q=this._extentRight.get("value"),L=C.parse(U),ca=C.parse(ka),Y=C.parse(W),da=C.parse(Q);if(this._isValidExtentInput(U,ka,Q,W,L,ca,da,Y)){ha[1][1]=L;ha[0][0]=ca;ha[1][0]=da;ha[0][1]=Y;if(this._isValidWGS84Extent(ha))return ha;Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRange+"\x3cbr\x3e"+this.i18n.error.errorValueBigger})}else Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorUseNumeric+"\x3cbr/\x3e"+this.i18n.error.errorRange+
"\x3cbr\x3e"+this.i18n.error.errorValueBigger})},postMixInProperties:function(){this.inherited(arguments);this.i18n=n.mixin({},oa.common);this.i18n=n.mixin(this.i18n,oa.viewer.geocode);this.i18n=n.mixin(this.i18n,oa.generalDlg);this.i18n=n.mixin(this.i18n,oa.extentDlg)},postCreate:function(){this.symbol=new t(t.STYLE_SOLID,new p([255,0,0]),2);this.defaultExtent=new a(-121,21.72,-76,61.28,new m({wkid:4326}));this._loadConnections()},destroy:function(){this.inherited(arguments);this._destroyMap()},
_loadConnections:function(){var ha=n.hitch(this,"_checkRange");this.own(w(this._extentTop,"blur",ha),w(this._extentLeft,"blur",ha),w(this._extentRight,"blur",ha),w(this._extentBottom,"blur",ha),w(this._buttonSetExtent,"click",n.hitch(this,"_toggleMapNavigation")))},_isValidWGS84Extent:function(ha){ha=[ha[0].join(","),ha[1].join(",")].join();ha=q.map(ha.split(","),function(U){return parseFloat(U)});return-90<=ha[3]&&90>=ha[3]&&-180<=ha[2]&&180>=ha[2]&&-180<=ha[0]&&180>=ha[0]&&-90<=ha[1]&&90>=ha[1]&&
ha[2]>ha[0]&&ha[3]>ha[1]},_isValidExtentInput:function(ha,U,ka,W,Q,L,ca,Y){return!(0===ha.length||0===U.length||0===ka.length||0===W.length||isNaN(Q)||isNaN(L)||isNaN(ca)||isNaN(Y))},_destroyMap:function(){if(this.map){try{this.map.destroy()}catch(U){}var ha=this.map.infoWindow;ha&&ha.destroy();this.map=null}if(this.geocoder){try{this.geocoder.destroy()}catch(U){}this.geocoder=null}h.byId("extent-map-container")&&g.empty(h.byId("extent-map-container"))},_setProjectedExtent:function(ha){ha=M(ha[0]);
w.once(this.map,"extent-change",n.hitch(this,"_drawBoundingBox",ha));this.map.setExtent(ha,!0)},_drawBoundingBox:function(ha){this._drawBox(ha)},_checkRange:function(ha){if(ha){var U=ha.target.value,ka=C.parse(U);ha=ha.target.id;var W=!1;if("extent-left"===ha){if(0===U.length||isNaN(ka))Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),W=!0;else if(-180>ka||180<ka)Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),
W=!0;W&&(this.extent&&2===this.extent.length&&2==this.extent[0].length&&2===this.extent[1].length?this._extentLeft.set("value",X.format(Math.round(1E3*this.extent[0][0])/1E3)):this._extentLeft.set("value",""))}else if("extent-right"===ha){if(0===U.length||isNaN(ka))Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),W=!0;else if(-180>ka||180<ka)Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),
W=!0;W&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&2===this.extent[1].length?this._extentRight.set("value",X.format(Math.round(1E3*this.extent[1][0])/1E3)):this._extentRight.set("value",""))}else if("extent-top"===ha){if(0===U.length||isNaN(ka))Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),W=!0;else if(-90>ka||90<ka)Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),
W=!0;W&&(this.extent&&2===this.extent.length&&2===this.extent[0].length&&2===this.extent[1].length?this._extentTop.set("value",X.format(Math.round(1E3*this.extent[1][1])/1E3)):this._extentTop.set("value",""))}else{if(0===U.length||isNaN(ka))Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),W=!0;else if(-90>ka||90<ka)Z.createSpecifiedDialog(fa).show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),W=!0;W&&(this.extent&&
2==this.extent.length&&2==this.extent[0].length&&2==this.extent[1].length?this._extentBottom.set("value",X.format(Math.round(1E3*this.extent[0][1])/1E3)):this._extentBottom.set("value",""))}null!=this.map&&0<this._extentTop.get("value").length&&0<this._extentLeft.get("value").length&&0<this._extentRight.get("value").length&&0<this._extentBottom.get("value").length?(U=[[],[]],U[1][1]=C.parse(this._extentTop.get("value")),U[0][0]=C.parse(this._extentLeft.get("value")),U[1][0]=C.parse(this._extentRight.get("value")),
U[0][1]=C.parse(this._extentBottom.get("value")),this._isValidWGS84Extent(U)?(U=new a(U[0][0],U[0][1],U[1][0],U[1][1],new m({wkid:4326})),N(U,this.map.spatialReference,n.hitch(this,"_setProjectedExtent"),null,this.map)):this._deleteBox()):null!=this.map&&this._deleteBox()}},_initMap:function(ha){var U=this.defaultExtent;null!=ha&&(U=new a(ha[0][0],ha[0][1],ha[1][0],ha[1][1],new m({wkid:4326})));if(this.map){if(null!=ha)w.once(this.map,"extent-change",n.hitch(this,"_drawBoundingBox",U));this.map.setExtent(U,
!0)}else{this.map=new l("extent-map-container",{showAttribution:!1,wrapAround180:!1,center:[-31,10],zoom:1});var ka=new d;ka.format="png24";ka=new e(aa.extentService,{imageParameters:ka});this.map.addLayer(ka);null!=ha&&this.own(this.map.on("load",n.hitch(this,"_onMapLoad",U)));this.own(ka.on("update",n.hitch(this,"_onUpdate")));this.toolbar=new v(this.map,{showTooltips:!1});this.own(this.toolbar.on("draw-complete",n.hitch(this,"_onDrawEnd")));this.mapNavigation=!0;f.set(this._buttonSetExtent,"innerHTML",
this.i18n.drawExtent);this.geocoder||(ha=J(this.map),ha.showInfoWindowOnSelect=!1,this.geocoder=new r(ha,g.create("div",{id:"extentSearch"},this._extentSearchContainer,"only")),this.geocoder.startup(),this.own(this.geocoder.on("select-result",n.hitch(this,"_onSearchResult"))))}},_onMapLoad:function(ha){u(".action.zoomTo").forEach(T.hideNode);N(ha,this.map.spatialReference,n.hitch(this,"_setProjectedExtent"),null,this.map)},_drawBox:function(ha){this.map.graphics.clear();null!==ha&&this.map.graphics.add(new A(ha,
this.symbol))},_deleteBox:function(){this.map.graphics.clear()},_onUpdate:function(){this.map.reposition()},_toggleMapNavigation:function(){this.mapNavigation?(this.toolbar.activate(v.EXTENT),this.map.showZoomSlider(),this.mapNavigation=!1,f.set(this._buttonSetExtent,"innerHTML",this.i18n.enableMapPanning)):(this.toolbar.deactivate(),this.map.enableMapNavigation(),this.mapNavigation=!0,f.set(this._buttonSetExtent,"innerHTML",this.i18n.drawExtent))},_onSearchResult:function(ha){if(ha.result){ha=ha.result;
var U=ha.feature.geometry,ka=ha.extent;if("polygon"===U.type){var W=U.getExtent().expand(1.1);var Q=U.getCentroid()}else"polyline"===U.type?(W=U.getExtent().expand(1.1),Q=U.getPoint(0,0)):"multipoint"===U.type?(W=U.getExtent().expand(1.1),Q=U.getPoint(0)):(W=ka||arcgisonline.map.main.map.extent.centerAt(U).expand(.0625),Q=U);this._deleteBox();this.popup||(this.popup=new B(null,g.create("div",{"class":"blueTheme"},h.byId("extentMapDiv"))),this.popup.resize(150,100),this.popup.map=this.map);this.popup.setContent("\x3cdiv\x3e\x3cspan\x3e"+
ha.name+"\x3c/span\x3e\x3c/div\x3e");w.once(this.map,"extent-change",n.hitch(this,function(){this._drawBox(W);this.popup.show(Q);setTimeout(n.hitch(this,function(){this.popup.hide()}),3E3)}));this.map.setExtent(W,!0);ha=W;4326!==W.spatialReference.wkid&&(ha=c.webMercatorToGeographic(W));this._extentTop.set("value",X.format(Math.round(1E3*ha.ymax)/1E3));this._extentLeft.set("value",X.format(Math.round(1E3*ha.xmin)/1E3));this._extentRight.set("value",X.format(Math.round(1E3*ha.xmax)/1E3));this._extentBottom.set("value",
X.format(Math.round(1E3*ha.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(ha.ymax);this.extent[0][0]=parseFloat(ha.xmin);this.extent[1][0]=parseFloat(ha.xmax);this.extent[0][1]=parseFloat(ha.ymin);z.publish("define-extent/change",ha)}},_onDrawEnd:function(ha){this._deleteBox();if(.01>ha.width){var U=.01;ha=new a(ha.xmin-U,ha.ymin,ha.xmin+U,ha.ymax,new m({wkid:4326}))}.01>ha.height&&(U=.01,ha=new a(ha.xmin,ha.ymin-U,ha.xmax,ha.ymin+U,new m({wkid:4326})));ha=M(ha.geographicGeometry);w.once(this.map,
"extent-change",n.hitch(this,"_drawBoundingBox",ha));this.map.setExtent(ha,!0);U=ha;4326!==ha.spatialReference.wkid&&(U=c.webMercatorToGeographic(ha));this._extentTop.set("value",X.format(Math.round(1E3*U.ymax)/1E3));this._extentLeft.set("value",X.format(Math.round(1E3*U.xmin)/1E3));this._extentRight.set("value",X.format(Math.round(1E3*U.xmax)/1E3));this._extentBottom.set("value",X.format(Math.round(1E3*U.ymin)/1E3));this.extent=[[],[]];this.extent[1][1]=parseFloat(U.ymax);this.extent[0][0]=parseFloat(U.xmin);
this.extent[1][0]=parseFloat(U.xmax);this.extent[0][1]=parseFloat(U.ymin);z.publish("define-extent/change",U)}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X,aa,fa,oa,ua){function ha(U,ka){U&&ka&&(U._layer=ka,U._sourceLayer=ka)}K=K([c,m,t,p],{declaredClass:"esri.dijit.Search",templateString:b,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(U,ka){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new aa("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:a.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:a.widgets.Search.main.placeholder,highlightSymbol:(new G(O.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:350,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new M).setColor(new oa([181,56,46,.9])).setFont(new J("14px",J.STYLE_NORMAL,J.VARIANT_NORMAL,J.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new x(a.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:3,enableSearchingAll:!0};var W=n.mixin({},this.options,U);this.set(W);this._updateActiveSource();this._i18n=a;this._defaultSR=new E(4326);this.domNode=ka},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(n.hitch(this,this._init))},postCreate:function(){var U=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(g(this.submitNode,v,n.hitch(this,this._searchButton)));this.own(g(this.sourcesBtnNode,v,n.hitch(this,this._toggleSourcesMenu)));this.own(g(this.inputNode,v,n.hitch(this,this._inputClick)));this.own(g(this.clearNode,v,n.hitch(this,this._clearButton)));this.own(g(this.formNode,"submit",n.hitch(this,function(ka){ka.preventDefault();this._cancelSuggest();this.search()})));this.own(g(this.inputNode,"keyup",n.hitch(this,
function(ka){this._inputKey(ka)})));this.own(g(this.sourcesBtnNode,"keyup",n.hitch(this,function(ka){this._sourceBtnKey(ka)})));this.own(g(this.suggestionsNode,"li:click, li:keyup",function(ka){U._suggestionsEvent(ka,this)}));this.own(g(this.sourcesNode,"li:click, li:keyup",function(ka){U._sourcesEvent(ka,this)}));this.own(g(this.inputNode,"input, paste",n.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(g(this.map.infoWindow.domNode,
"#"+this._moreResultsId+"_show:click",n.hitch(this,function(ka){this._showMoreResultsClick(ka)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",n.hitch(this,function(ka){this._moreResultsClick(ka)}))),this.own(g(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",n.hitch(this,function(ka){this._switchCoordinatesClick(ka)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);
this._setPlaceholder(this.activeSourceIndex);this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();d.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();z.get(this.inputNode,"value")&&z.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);r.remove(this.containerNode,
this.css.hasValue);z.set(this.clearNode,"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){l.set(this.domNode,"display","block")},hide:function(){l.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(r.add(this.containerNode,this.css.searchExpanded),r.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(r.remove(this.containerNode,
this.css.searchExpanded),r.add(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(U){this.enableButtonMode&&("undefined"===typeof U&&(U=!this.expanded),U?this.expand():this.collapse())},search:function(U){var ka=new h;this._mapLoaded().then(n.hitch(this,function(){this._searchDeferred(U).then(n.hitch(this,function(W){var Q=W.results;this.set("searchResults",Q);0===W.numResults&&(this._noResults(W.value),this._showNoResultsMenu());this._hideLoading();
this.emit("search-results",W);this._selectFirstResult(Q,W.activeSourceIndex);ka.resolve(Q)}),n.hitch(this,function(W){ka.reject(W)}))}));return ka.promise},suggest:function(U){var ka=new h;this._mapLoaded().then(n.hitch(this,function(){this._suggestDeferred(U).then(n.hitch(this,function(W){if(W){var Q=W.results;this.set("suggestResults",Q);this._insertSuggestions(Q,W.value);this.emit("suggest-results",W);ka.resolve(Q)}}),n.hitch(this,function(W){ka.reject(W)}))}));return ka.promise},select:function(U){var ka=
this._getDefaultSymbol(U),W=this.labelSymbol,Q=this.sources,L=this.activeSourceIndex,ca=this.enableHighlight,Y=this.enableLabel,da=this.autoNavigate,S=this.showInfoWindowOnSelect,P=this.enableInfoWindow,V=this.infoTemplate,ba=U.feature?new y(U.feature.toJson()):null,ea=ba?U.feature._sourceLayer:null;ha(ba,ea);if(L===this._allIndex){var ia=this._getSourceIndexOfResult(U);if(null!==ia){var ja=Q[ia];L=ia}}else ja=Q[L];ja&&(ja.hasOwnProperty("highlightSymbol")&&(ka=ja.highlightSymbol),ja.hasOwnProperty("labelSymbol")&&
(W=ja.labelSymbol),ja.hasOwnProperty("enableHighlight")&&(ca=ja.enableHighlight),ja.hasOwnProperty("enableLabel")&&(Y=ja.enableLabel),ja.hasOwnProperty("autoNavigate")&&(da=ja.autoNavigate),ja.hasOwnProperty("showInfoWindowOnSelect")&&(S=ja.showInfoWindowOnSelect),ja.hasOwnProperty("enableInfoWindow")&&(P=ja.enableInfoWindow),ja.hasOwnProperty("infoTemplate")?V=ja.infoTemplate:ja.featureLayer&&ja.featureLayer.infoTemplate&&(V=ja.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(ba){Q=
this.highlightGraphic;var la=this.graphicsLayer;ia=this.labelGraphic;var na=n.mixin({},ba.attributes,{searchTheme:this.theme,searchResult:this._searchResultHTML(U),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(U)}),ra=null;P&&(ra=V);ia?(ia.setGeometry(ba.geometry),ia.setAttributes(na),ia.setSymbol(W),W&&"textsymbol"===W.type&&ia.symbol.setText(U.name)):(ia=new y(ba.geometry,
W,na),ha(ia,ea),W&&"textsymbol"===W.type&&ia.symbol.setText(U.name),Y&&(la?la.add(ia):this.map&&this.map.graphics&&this.map.graphics.add(ia)));Q?(Q.setGeometry(ba.geometry),Q.setAttributes(na),Q.setInfoTemplate(ra),Q.setSymbol(ka)):(Q=new y(ba.geometry,ka,na,ra),ha(Q,ea),ca&&(la?la.add(Q):this.map&&this.map.graphics&&this.map.graphics.add(Q)));Q&&Q.symbol&&"textsymbol"===Q.symbol.type&&Q.symbol.setText(U.name);this.map&&this.map.infoWindow&&P&&S&&(this.map.infoWindow.setFeatures([Q]),ka=this._getPointFromGeometry(Q.geometry),
this.map.infoWindow.show(ka));this.map&&da&&U&&U.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&this.map.setExtent(U.extent,!0);this.set("highlightGraphic",Q);this.set("labelGraphic",ia)}this.set("selectedResult",U);this.emit("select-result",{result:U,source:ja,sourceIndex:L})},focus:function(){A.focus(this.inputNode)},blur:function(){this.inputNode.blur();A.curNode&&A.curNode.blur()},clearGraphics:function(){var U=this.highlightGraphic,ka=this.graphicsLayer,W=this.labelGraphic;
U&&(ka?ka.remove(U):this.map&&this.map.graphics&&this.map.graphics.remove(U));W&&(ka?ka.remove(W):this.map&&this.map.graphics&&this.map.graphics.remove(W));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var U=new h;if(this.map)if(this.map.loaded)U.resolve();else g.once(this.map,"load",n.hitch(this,function(){U.resolve()}));else U.resolve();return U.promise},_init:function(){this._getMapLayers().then(n.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},
_clearButton:function(){this.clear();A.focus(this.inputNode)},_error:function(U){return Error(this.declaredClass+" "+U)},_searchDeferred:function(U){var ka=new h,W=this.value,Q=this.activeSourceIndex;U&&U.hasOwnProperty("index")&&(Q=U.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var L={magicKey:this.magicKey,text:W};U?"string"===typeof U?(L.text=U,U=this._searchQueries(L)):U="object"===typeof U&&U.hasOwnProperty("magicKey")?this._searchQueries(U):"object"===
typeof U&&U.hasOwnProperty("geometry")?this._searchQueries({geometry:U}):"object"===typeof U&&U.hasOwnProperty(this._objectIdIdentifier)?this._searchQueries(U):"object"===typeof U&&"point"===U.type?this._searchQueries({point:U}):U instanceof Array&&2===U.length?this._searchQueries({latlon:U}):this._searchQueries(L):U=this._searchQueries(L);U.always(n.hitch(this,function(ca){ca=this._formatResults(ca,Q,W);ka.resolve(ca)}));return ka.promise},_suggestDeferred:function(U){var ka=new h;this._deferreds.push(ka);
U||(U=this.value);var W=this.activeSourceIndex;this._suggestQueries({text:U}).always(n.hitch(this,function(Q){var L;if(Q)for(var ca=0;ca<Q.length;ca++)Q[ca]&&(L=!0);L?(Q=this._formatResults(Q,W,U),ka.resolve(Q)):ka.resolve()}));return ka.promise},_getDefaultSymbol:function(U){var ka;this.map&&(ka=this.map.getBasemap());ka||(ka="topo");if(U&&U.feature&&U.feature.geometry)var W=U.feature.geometry.type;"polyline"===W?W="line":"circle"===W||"extent"===W?W="polygon":"multipoint"===W&&(W="point");if(W){if(U=
ua.getSchemes({theme:"default",basemap:ka,geometryType:W}))var Q=U.primaryScheme;if(Q){Q.color&&Q.hasOwnProperty("opacity")&&(Q.color.a=Q.opacity);var L=Q;U=Q.color;Q=Q.size;switch(W){case "point":var ca=new H;ca.setColor(U);ca.setSize(null!==Q?Q:L.size);W=new I;W.setColor(L.outline.color);W.setWidth(L.outline.width);ca.setOutline(W);break;case "line":ca=new I;ca.setColor(U);ca.setWidth(null!==Q?Q:L.width);break;case "polygon":ca=new N,ca.setColor(U),W=new I,W.setColor(L.outline.color),W.setWidth(L.outline.width),
ca.setOutline(W)}L=ca}}return L},_selectFirstResult:function(U,ka){if(this.autoSelect&&U){var W;ka===this._allIndex?W=this._getFirstResult(U):U[ka]&&U[ka][0]&&(W=U[ka][0]);W&&this.select(W)}},_getSourceIndexOfResult:function(U){var ka=this.searchResults;if(ka)for(var W in ka)if(ka[W]&&ka[W].length)for(var Q=0;Q<ka[W].length;Q++)if(ka[W][Q]===U)return parseInt(W,10);return null},_getFirstResult:function(U){if(U)for(var ka in U)if(U[ka]&&U[ka][0])return U[ka][0];return!1},_onFocus:function(){this.map&&
"function"===typeof this.map.disableKeyboardNavigation&&this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var U=new h;if(this.addLayersFromMap&&this.map){var ka=[],W=this.map.graphicsLayerIds;if(W&&W.length){for(var Q=
0;Q<W.length;Q++){var L=this.map.getLayer(W[Q]);L&&ka.push(this._featureLayerLoaded(L))}F(ka).always(n.hitch(this,function(ca){for(var Y,da=this.sources,S=0;S<ca.length;S++)ca[S]&&ca[S].loaded&&"Feature Layer"===ca[S].type&&(da.push({featureLayer:ca[S],enableSuggestions:!0}),Y=!0);Y&&this.set("sources",da);U.resolve()}))}else U.resolve()}else U.resolve();return U.promise},_switchCoordinatesClick:function(U){U.preventDefault();if(U=z.get(U.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",
U),this.search()},_moreResultsClick:function(U){U.preventDefault();var ka=U.target;U=parseInt(z.get(ka,"data-source-index"),10);ka=parseInt(z.get(ka,"data-index"),10);var W=this.searchResults;W&&W[U]&&(U=W[U][ka])&&this.select(U)},_showMoreResultsClick:function(U){U.preventDefault();if(U=C.byId(this._moreResultsId)){r.toggle(U,this.css.searchShowMoreResults);var ka=C.byId(this._moreResultsId+"_show");ka&&(r.contains(U,this.css.searchShowMoreResults)?z.set(ka,"textContent",a.widgets.Search.main.hideMoreResults):
z.set(ka,"textContent",a.widgets.Search.main.showMoreResults))}},_featureLayerLoaded:function(U){var ka=new h;if(U.loaded)ka.resolve(U);else if(U.loadError)ka.reject(this._error("Layer failed to load."));else{var W=g.once(U,"load",n.hitch(this,function(){Q.remove();ka.resolve(U)}));var Q=g.once(U,"error",n.hitch(this,function(){W.remove();ka.reject(this._error("Layer could not be loaded."))}))}return ka.promise},_getObjectSize:function(U){var ka=0,W;for(W in U)U.hasOwnProperty(W)&&ka++;return ka},
_sourcesEvent:function(U,ka){var W=z.get(ka,"data-index"),Q=k("li",this.sourcesNode),L=q.indexOf(Q,ka);W!==this._allIndex&&(W=parseInt(W,10));"click"===U.type||U.keyCode===f.ENTER?(this.set("activeSourceIndex",W),A.focus(this.inputNode),this._hideSourcesMenu()):U.keyCode===f.UP_ARROW?(U.stopPropagation(),U.preventDefault(),W=L-1,0>W?A.focus(this.sourcesBtnNode):A.focus(Q[W])):U.keyCode===f.DOWN_ARROW?(U.stopPropagation(),U.preventDefault(),W=L+1,W>=Q.length?A.focus(this.sourcesBtnNode):A.focus(Q[W])):
U.keyCode===f.ESCAPE&&(this._hideSourcesMenu(),A.focus(this.inputNode))},_suggestionsEvent:function(U,ka){var W=z.get(ka,"data-source-index"),Q=parseInt(z.get(ka,"data-index"),10),L=k("li",this.suggestionsNode),ca=this.sources,Y=q.indexOf(L,ka);W!==this._allIndex&&(W=parseInt(W,10));var da;this._clearQueryTimeout();"click"===U.type||U.keyCode===f.ENTER?((L=this.suggestResults)&&L[W]&&L[W][Q]&&(da=L[W][Q]),da&&(da.index=W,ca[W].featureLayer?(W=ca[W].featureLayer.objectIdField,da[this._objectIdIdentifier]=
da.feature.attributes[W],this.set("value",this._getSuggestionName(da)),this.set("selectedFeatureId",da.feature.attributes[W])):da.magicKey&&da.text&&(this.set("value",da.text),this.set("magicKey",da.magicKey)),this.search(da),A.focus(this.inputNode))):U.keyCode===f.BACKSPACE||U.keyCode===f.DELETE?A.focus(this.inputNode):U.keyCode===f.UP_ARROW?(U.stopPropagation(),U.preventDefault(),da=Y-1,0>da?A.focus(this.inputNode):A.focus(L[da])):U.keyCode===f.DOWN_ARROW?(U.stopPropagation(),U.preventDefault(),
da=Y+1,da>=L.length?A.focus(this.inputNode):A.focus(L[da])):U.keyCode===f.ESCAPE&&(this._hideMenus(),A.focus(this.inputNode))},_getResultName:function(U){var ka;U.hasOwnProperty("name")&&null!==U.name&&(ka=U.name.toString());ka||(ka=a.widgets.Search.main.untitledResult);return ka},_getSuggestionName:function(U){var ka;U.hasOwnProperty("name")&&null!==U.name&&(ka=U.name.toString());U=U.text||ka;U||(U=a.widgets.Search.main.untitledResult);return U},_searchResultHTML:function(U){var ka="";if(U.feature&&
U.feature.attributes&&U.feature.attributes.Addr_type&&"LatLong"===U.feature.attributes.Addr_type){var W=U.name.split(" ");if(2===W.length){var Q=W[0];var L=W[1]}L&&Q?(U=parseFloat(Q),L=parseFloat(L),W=L+", "+U,ka+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',ka+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.lonlat+"\x3c/div\x3e",ka=ka+(U+", "+L)+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsItem+'"\x3e'),U===L||90<U||-90>U||180<L||-180>L||(ka+=
'\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+a.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",ka+='\x3ca data-switch-coordinates\x3d"'+W+'" tabindex\x3d"0" href\x3d"#"\x3e'+W+"\x3c/a\x3e\x3c/div\x3e")):ka=U.name}else ka=U.name;return ka},_moreResultsHTML:function(U){var ka="",W="",Q=this.searchResults,L=this.sources,ca=0;if(Q){W+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e';W+='\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+a.widgets.Search.main.showMoreResults+
"\x3c/a\x3e";W=W+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsList+'"\x3e');W+='\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e';for(var Y in Q)if(Q[Y]){var da=Q[Y].length;if(da){var S=1===da&&Q[Y][0]===U;if(1<this._getObjectSize(Q)&&!S){var P=this._getSourceName(Y);W+='\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+P+"\x3c/div\x3e"}if(da&&!S){W+="\x3cul\x3e";P=L[Y].maxResults||this.maxResults;for(S=0;S<da&&S<P;++S)if(Q[Y][S]!==U){var V=this._getResultName(Q[Y][S]);
W+='\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+S+'" data-source-index\x3d"'+Y+'" href\x3d"#"\x3e'+V+"\x3c/a\x3e\x3c/li\x3e";ca++}W+="\x3c/ul\x3e"}}}W+="\x3c/div\x3e\x3c/div\x3e"}ca&&(ka+=W);return ka},_validField:function(U,ka){return U.getField(ka)},_validFields:function(U,ka){if(U&&ka&&ka.length){for(var W=0;W<ka.length;W++)if(!this._validField(U,ka[W]))return!1;return!0}return!1},_getCodedName:function(U,ka){if(U&&U.length)for(var W=0,Q=U.length;W<Q;W++){var L=U[W];if(L.code===ka)return L.name}},
_getCodedValue:function(U,ka,W){if(U&&U.length)for(var Q=0,L=U.length;Q<L;Q++){var ca=U[Q],Y=ca.name,da=ka;W||(Y=Y.toLowerCase(),da=da.toLowerCase());if(Y===da)return ca.code}return!1},_whereClause:function(U,ka,W,Q,L){var ca=null;if(U){var Y="",da=this.reHostedFS.test(ka.url);da&&this._containsNonLatinCharacter(U)&&(Y="N");if(W&&W.length)for(var S=0,P=W.length;S<P;S++){var V="";V=U.replace(/'/g,"''");var ba=W[S],ea=ka.getField(ba),ia=ka.getDomain(ba);ia&&"codedValue"===ia.type&&(V=this._getCodedValue(ia.codedValues,
V,Q));!1!==V&&(ea=ea.type,"esriFieldTypeString"===ea||"esriFieldTypeDate"===ea?Q&&"search"===L?V=ba+" \x3d "+Y+"'"+V+"'":(ba=da?ba:"UPPER("+ba+")",V=da?V:V.toUpperCase(),V=ba+" LIKE "+Y+"'"+(Q?V+"%":"%"+V+"%")+"'"):"esriFieldTypeOID"===ea||"esriFieldTypeSmallInteger"===ea||"esriFieldTypeInteger"===ea||"esriFieldTypeSingle"===ea||"esriFieldTypeDouble"===ea?(V=parseFloat(V),V=isNaN(V)?!1:ba+" \x3d "+V):V=ba+" \x3d "+V,V&&(ca=ca?ca+" or ":"",ca+=V))}}return ca},_suggest:function(U){U||(U={index:this.activeSourceIndex,
text:this.value});var ka=new h,W=U.index,Q=this.sources[W],L=this.enableSuggestions;Q.hasOwnProperty("enableSuggestions")&&(L=Q.enableSuggestions);var ca=0;if(U.hasOwnProperty("text")&&U.text){var Y=n.trim(U.text);ca=U.text.length}U=Q.minCharacters||this.minCharacters;if(L&&Y&&ca>=U&&this._supportsPagination(Q)){var da="";Q.prefix&&(da+=Q.prefix);da+=Y;Q.suffix&&(da+=Q.suffix);var S=this._defaultSR;this.map&&(S=this.map.spatialReference);L={};Q.locator?(Q.categories&&(L.categories=Q.categories),Q.locator.outSpatialReference=
S,this.map&&Q.localSearchOptions&&Q.localSearchOptions.hasOwnProperty("distance")&&Q.localSearchOptions.hasOwnProperty("minScale")&&(ca=this._getScale(),!Q.localSearchOptions.minScale||ca&&ca<=parseFloat(Q.localSearchOptions.minScale))&&(L.location=this.map.extent.getCenter(),L.distance=Q.localSearchOptions.distance),L.text=da,Q.useMapExtent&&this.map&&this.map.extent&&(L.searchExtent=this.map.extent),Q.searchExtent&&(L.searchExtent=Q.searchExtent),L.maxSuggestions=Q.maxSuggestions||this.maxSuggestions,
Q.sourceCountry&&(L.countryCode=Q.sourceCountry),Q.countryCode&&(L.countryCode=Q.countryCode),Q.locator.suggestLocations(L).then(n.hitch(this,function(P){ka.resolve(P)}),n.hitch(this,function(P){P||(P=this._error("Locator suggestLocations could not be performed."));ka.reject(P)}))):Q.featureLayer?this._featureLayerLoaded(Q.featureLayer).then(n.hitch(this,function(){var P=this._getDisplayField(Q),V=Q.searchFields||[P],ba=[];Q.suggestionTemplate?Q.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(la,
na){ba.push(na)}):ba=[P];-1===q.indexOf(ba,Q.featureLayer.objectIdField)&&ba.push(Q.featureLayer.objectIdField);P=this._validField(Q.featureLayer,P);var ea=this._validFields(Q.featureLayer,ba),ia=this._validFields(Q.featureLayer,V);if(P&&ea&&ia){P=new fa;Q.hasOwnProperty("suggestQueryParams")&&n.mixin(P,Q.suggestQueryParams);P.outSpatialReference=S;P.returnGeometry=!1;P.num=Q.maxSuggestions||this.maxSuggestions;P.outFields=ba;Q.useMapExtent&&this.map&&this.map.extent&&(P.geometry=this.map.extent);
Q.searchExtent&&(P.geometry=Q.searchExtent);if(V=this._whereClause(da,Q.featureLayer,V,Q.exactMatch,"suggest")){P.where=V;var ja=!0}ja?Q.featureLayer.queryFeatures(P,n.hitch(this,function(la){var na;(la=la.features)&&(na=this._hydrateResults(la,W,!0));ka.resolve(na)}),n.hitch(this,function(la){la||(la=this._error("FeatureLayer queryFeatures errored with suggestions"));ka.reject(la)})):ka.resolve()}else ka.reject(this._error("Invalid FeatureLayer field"))})):ka.reject(this._error("Invalid source"))}else ka.resolve();
return ka.promise},_supportsPagination:function(U){var ka;U.locator?ka=!0:U.featureLayer&&U.featureLayer.advancedQueryCapabilities&&U.featureLayer.advancedQueryCapabilities.supportsPagination&&(ka=!0);return ka},_suggestQueries:function(U){var ka=this.sources,W=this.activeSourceIndex,Q=[];if(W===this._allIndex)for(W=0;W<ka.length;W++){var L=U;L.index=W;L=this._suggest(L);Q.push(L)}else U.index=W,L=this._suggest(U),Q.push(L);return F(Q)},_getPointFromGeometry:function(U){switch(U.type){case "extent":var ka=
U.getCenter();break;case "multipoint":ka=U.getPoint(0);break;case "point":ka=U;break;case "polygon":ka=U.getCentroid();break;case "polyline":ka=U.getPoint(0,0)}return ka},_searchQueries:function(U){U.hasOwnProperty("index")||(U.index=this.activeSourceIndex);var ka=[];if(U.index===this._allIndex)for(var W=this.sources,Q=0;Q<W.length;Q++){var L=U;L.index=Q;L=this._search(L);ka.push(L)}else U=this._search(U),ka.push(U);return F(ka)},_searchButton:function(){this.enableButtonMode&&!this.expanded?(this.expand(),
A.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(U){U||(U={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(U.text=null,U[this._objectIdIdentifier]=this.selectedFeatureId);var ka,W=new h,Q=U.index,L=this.sources[Q],ca;U.hasOwnProperty("text")&&U.text&&(ca=n.trim(U.text));if(L){var Y="";L.prefix&&!U.magicKey&&(Y+=L.prefix);Y+=ca;L.suffix&&!U.magicKey&&(Y+=L.suffix);var da=this._defaultSR;this.map&&
(da=this.map.spatialReference);if(L.locator)if(U.hasOwnProperty("text")&&ca){var S={};L.categories&&(S.categories=L.categories);L.locationType&&(S.locationType=L.locationType);da&&(L.locator.outSpatialReference=da);if(this.map&&L.localSearchOptions&&L.localSearchOptions.hasOwnProperty("distance")&&L.localSearchOptions.hasOwnProperty("minScale")){var P=this._getScale();if(!L.localSearchOptions.minScale||P&&P<=parseFloat(L.localSearchOptions.minScale))S.location=this.map.extent.getCenter(),S.distance=
L.localSearchOptions.distance}S.address={};S.maxLocations=L.maxResults||this.maxResults;L.useMapExtent&&this.map&&this.map.extent&&(S.searchExtent=this.map.extent);L.searchExtent&&(S.searchExtent=L.searchExtent);L.sourceCountry&&(S.countryCode=L.sourceCountry);L.countryCode&&(S.countryCode=L.countryCode);U.magicKey&&(S.magicKey=U.magicKey);L.singleLineFieldName?S.address[L.singleLineFieldName]=Y:S.address["Single Line Input"]=Y;L.outFields&&(S.outFields=L.outFields);L.locator.addressToLocations(S).then(n.hitch(this,
function(V){V=this._hydrateResults(V,Q,!1);W.resolve(V)}),n.hitch(this,function(V){V||(V=this._error("Locator addressToLocations could not be performed"));W.reject(V)}))}else U.geometry?(ka=this._getPointFromGeometry(U.geometry.geometry))?this._reverseGeocodePoint(Q,ka).then(function(V){W.resolve(V)},function(V){W.reject(V)}):W.reject(this._error("Invalid point to reverse geocode")):U.point?this._reverseGeocodePoint(Q,U.point).then(function(V){W.resolve(V)},function(V){W.reject(V)}):U.latlon?(S=new R(U.latlon,
this._defaultSR),this._reverseGeocodePoint(Q,S).then(function(V){W.resolve(V)},function(V){W.reject(V)})):U.hasOwnProperty("text")&&!ca?W.resolve([]):W.reject(this._error("Invalid query type for Locator"));else L.featureLayer?this._featureLayerLoaded(L.featureLayer).then(n.hitch(this,function(){var V=this._getDisplayField(L),ba=L.searchFields||[V];V=this._validField(L.featureLayer,V);var ea=this._validFields(L.featureLayer,ba);if(V&&ea){V=new fa;L.hasOwnProperty("searchQueryParams")&&n.mixin(V,L.searchQueryParams);
da&&(V.outSpatialReference=da,ea=this.map&&this.map.getMaxResolution()||1/X.getUnitValueForSR(da))&&(V.maxAllowableOffset=ea);V.returnGeometry=!0;L.outFields&&(V.outFields=L.outFields);if(!U.hasOwnProperty(this._objectIdIdentifier)){this._supportsPagination(L)&&(V.num=L.maxResults||this.maxResults);L.useMapExtent&&this.map&&this.map.extent&&(V.geometry=this.map.extent);L.searchExtent&&(V.geometry=L.searchExtent);var ia=L.exactMatch}U.hasOwnProperty("text")&&ca?(ba=this._whereClause(Y,L.featureLayer,
ba,ia,"search"))?(V.where=ba,ba=!0):ba=!1:U.hasOwnProperty(this._objectIdIdentifier)?(V.objectIds=[U[this._objectIdIdentifier]],ba=!0):U.geometry?(V.geometry=U.geometry,ba=!0):U.point?(V.geometry=U.point,ba=!0):U.latlon?(ka=new R(U.latlon,this._defaultSR),V.geometry=ka,ba=!0):(U.hasOwnProperty("text")&&!ca?W.resolve([]):W.reject(this._error("Invalid query type for FeatureLayer")),ba=!1);ba?L.featureLayer.queryFeatures(V,n.hitch(this,function(ja){ja=ja.features;var la;ja&&(la=this._hydrateResults(ja,
Q,!1));W.resolve(la)}),n.hitch(this,function(ja){ja||(ja=this._error("FeatureLayer queryFeatures could not be performed"));W.reject(ja)})):W.resolve()}else W.reject(this._error("Invalid FeatureLayer field"))})):W.reject(this._error("Invalid source"))}else W.reject(this._error("Source is undefined"));return W.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(U,ka,W){W={activeSourceIndex:ka,value:W,numResults:0,numErrors:0,errors:null,results:null};
var Q={},L={};if(U)if(ka===this._allIndex)for(ka=0;ka<U.length;ka++)U[ka]&&(U[ka]instanceof Error?(Q[ka]=U[ka],W.numErrors++):(L[ka]=U[ka],W.numResults+=U[ka].length));else U[0]&&(U[0]instanceof Error?(Q[ka]=U[0],W.numErrors++):(L[ka]=U[0],W.numResults+=U[0].length));W.numErrors&&(W.errors=Q);W.numResults&&(W.results=L);return W},_reverseGeocodePoint:function(U,ka){var W=new h,Q=this.sources[U];if(ka&&Q){var L=Q.locationToAddressDistance||this.locationToAddressDistance;Q.locator.outSpatialReference=
this._defaultSR;this.map&&(Q.locator.outSpatialReference=this.map.spatialReference);Q.locator.locationToAddress(ka,L,n.hitch(this,function(ca){ca=this._hydrateResults([ca],U,!1);W.resolve(ca)}),n.hitch(this,function(ca){ca||(ca=this._error("Locator locationToAddress could not be performed"));W.reject(ca)}))}else W.reject(this._error("No point or source defined for reverse geocoding"));return W.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var U=0;U<this._deferreds.length;U++)this._deferreds[U].cancel(this.declaredClass+
" cancelling request");this._deferreds=[]},_sourceBtnKey:function(U){if(U){var ka=k("li",this.sourcesNode);U.keyCode===f.UP_ARROW?(U.stopPropagation(),U.preventDefault(),this._showSourcesMenu(),(U=ka.length)&&A.focus(ka[U-1])):U.keyCode===f.DOWN_ARROW&&(U.stopPropagation(),U.preventDefault(),this._showSourcesMenu(),ka[0]&&A.focus(ka[0]))}},_inputKey:function(U){if(U){var ka=k("li",this.suggestionsNode),W=this.suggestResults;if(U.keyCode===f.TAB||U.keyCode===f.ESCAPE)this._cancelSuggest(),this._hideMenus();
else if(U.keyCode===f.UP_ARROW)U.stopPropagation(),U.preventDefault(),this._cancelSuggest(),W&&this._showSuggestionsMenu(),(U=ka.length)&&A.focus(ka[U-1]);else if(U.keyCode===f.DOWN_ARROW)U.stopPropagation(),U.preventDefault(),this._cancelSuggest(),W&&this._showSuggestionsMenu(),ka[0]&&A.focus(ka[0]);else{if(U.ctrlKey||U.metaKey||U.keyCode===f.copyKey||U.keyCode===f.LEFT_ARROW||U.keyCode===f.RIGHT_ARROW||U.keyCode===f.ENTER)return U;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();
this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();this._changeValue();this._queryTimer=setTimeout(n.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(U){return this._sourceNames[U]},_loadSources:function(U){U=
q.filter(U,function(ka){return!!ka.featureLayer});U=q.map(U,function(ka){return this._featureLayerLoaded(ka.featureLayer)},this);return F(U)},_createSourceNameMap:function(U){return this._loadSources(U).then(n.hitch(this,function(){var ka=q.map(U,function(W){return W.name||W.featureLayer&&W.featureLayer.name||a.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(U,ka);return ka}))},_getDuplicateSourceNameIndexes:function(U){var ka={},W=[];q.forEach(U,function(Q,L){ka.hasOwnProperty(Q)?
(-1===W.indexOf(ka[Q])&&W.push(ka[Q]),W.push(L)):U.lastIndexOf(Q)!==L&&(ka[Q]=L)});return W},_preventDuplicateSourceNames:function(U,ka){if(ka&&1<ka.length){var W=this._getDuplicateSourceNameIndexes(ka);q.forEach(W,function(Q){ka[Q]+=this._getFieldsString(U[Q])},this)}},_getFieldsString:function(U){var ka="",W=U.featureLayer;if(W){U=U.searchFields||[this._getDisplayField(U)];for(var Q=0;Q<U.length;Q++){ka=0===Q?ka+": ":ka+", ";var L=U[Q],ca=W.getFieldLabel(L);ka+=ca||L}}return ka},_splitResult:function(U,
ka){var W=w.escapeString(ka);return U.replace(new RegExp("(^|)("+W+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(U,ka){if(this.enableSuggestionsMenu&&this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var W=this.sources;if(U){var Q=d.create("div");for(var L in U)if(U[L]&&U[L].length){var ca=this._getSourceName(L);1<W.length&&this.activeSourceIndex===this._allIndex&&d.create("div",{className:this.css.searchMenuHeader,textContent:ca},Q);ca=d.create("ul",{role:"menu"},
Q);for(var Y=W[L].maxSuggestions||this.maxSuggestions,da=0;da<U[L].length&&da<Y;++da){var S=d.create("li",{"data-index":da,"data-source-index":L,role:"menuitem",tabindex:0},ca),P=this._getSuggestionName(U[L][da]);P=this._splitResult(P,ka);for(var V=P.length,ba=0;ba<V;ba++){var ea=P[ba];ea.toLowerCase()===ka.toLowerCase()?d.create("strong",{textContent:ea},S):(ea=document.createTextNode(ea),d.place(ea,S))}}}}Q?(d.place(Q,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(d.empty(this.suggestionsNode),
this._hideSuggestionsMenu())}},_insertSources:function(U){if(this.enableSourcesMenu&&U&&1<U.length){var ka,W=this.activeSourceIndex,Q=d.create("ul",{role:"menu"});if(this.enableSearchingAll){var L="";W===this._allIndex&&(L="active");d.create("li",{"data-index":this._allIndex,role:"menuitem",className:L,tabIndex:0,textContent:a.widgets.Search.main.all},Q)}for(ka=0;ka<U.length;ka++){L="";ka===W&&(L=this.css.activeSource);var ca=this._getSourceName(ka);d.create("li",{"data-index":ka,role:"menuitem",
className:L,tabIndex:0,textContent:ca},Q)}r.add(this.containerNode,this.css.hasMultipleSources);d.place(Q,this.sourcesNode,"only")}else r.remove(this.containerNode,this.css.hasMultipleSources),d.empty(this.sourcesNode)},_showLoading:function(){r.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){r.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(r.add(this.containerNode,this.css.hasValue),z.set(this.clearNode,"title",a.widgets.Search.main.clearButtonTitle)):
this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(U){var ka;U&&(ka=n.trim(U));var W=d.create("div",{className:this.css.searchNoResultsBody});U&&ka?(d.create("div",{className:this.css.searchNoResultsHeader,textContent:a.widgets.Search.main.noResults},W),d.create("div",{className:this.css.searchNoResultsText,textContent:B.substitute({value:'"'+U+'"'},a.widgets.Search.main.noResultsFound)},W)):(U=d.create("div",
{},W),d.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},U),d.create("span",{className:this.css.searchNoValueText,textContent:a.widgets.Search.main.emptyValue},U));d.place(W,this.noResultsMenuNode,"only")},_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){r.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();r.add(this.containerNode,
this.css.showNoResults)},_hideSourcesMenu:function(){r.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){r.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();r.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();r.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();r.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(U){if(U&&(U=U.fields)&&U.length)for(var ka=0;ka<U.length;ka++){var W=U[ka];if("esriFieldTypeString"===W.type)return W.name}return""},_getDisplayField:function(U){return U.displayField||U.featureLayer.displayField||this._getFirstStringField(U.featureLayer)},_validLocation:function(U){return U&&"number"===typeof U.x&&"number"===typeof U.y},_validExtent:function(U){return U&&"number"===typeof U.xmin&&
"number"===typeof U.ymin&&"number"===typeof U.xmax&&"number"===typeof U.ymax},_hydrateResult:function(U,ka,W){var Q={},L=this._defaultSR;ka=this.sources[ka];this.map&&(L=this.map.spatialReference);if(U.hasOwnProperty("text")&&U.hasOwnProperty("magicKey"))return U;if(U.hasOwnProperty("geometry")){var ca=new y(U.toJson());Q.feature=ca;(ca=Q.feature.geometry)&&ca.setSpatialReference(L)}else if(U.hasOwnProperty("location")&&this._validLocation(U.location)){var Y=new R(U.location.x,U.location.y,L);ca=
{};U.hasOwnProperty("attributes")&&(ca=U.attributes);U.hasOwnProperty("address")&&"object"===typeof U.address&&n.mixin(ca,U.address);U.hasOwnProperty("score")&&(ca.score=U.score);Q.feature=new y(Y,null,ca,null)}!Q.feature&&W&&(ca={},U.hasOwnProperty("attributes")&&(ca=U.attributes),U.hasOwnProperty("score")&&(ca.score=U.score),Q.feature=new y(null,null,ca,null));if(Q.feature){if(U.hasOwnProperty("extent")&&this._validExtent(U.extent))Q.extent=new Z(U.extent),Q.extent.setSpatialReference(L);else if(Q.feature&&
Q.feature.geometry)switch(Q.feature.geometry.type){case "extent":Q.extent=Q.feature.geometry;break;case "multipoint":Q.extent=T.getDenormalizedExtent(Q.feature.geometry);break;case "polygon":Q.extent=T.getDenormalizedExtent(Q.feature.geometry);break;case "polyline":Q.extent=T.getDenormalizedExtent(Q.feature.geometry);break;case "point":this.map?(L=this.zoomScale,ka&&ka.zoomScale&&(L=ka.zoomScale),this._getScale()>L?Q.extent=X.getExtentForScale(this.map,L).centerAt(Q.feature.geometry):Q.extent=this.map.extent.centerAt(Q.feature.geometry)):
Q.extent=new Z({xmin:Q.feature.geometry.x-.25,ymin:Q.feature.geometry.y-.25,xmax:Q.feature.geometry.x+.25,ymax:Q.feature.geometry.y+.25,spatialReference:this._defaultSR})}else Q.extent=null;Q.name="";ka.featureLayer?ka.suggestionTemplate&&W?Q.name=B.substitute(U.attributes,ka.suggestionTemplate):ka.searchTemplate?Q.name=B.substitute(U.attributes,ka.searchTemplate):(ca=this._getDisplayField(ka),W=ka.featureLayer.getField(ca),L=ka.featureLayer.getDomain(ca),ca&&U.hasOwnProperty("attributes")&&U.attributes.hasOwnProperty(ca)&&
(U=U.attributes[ca],L&&"codedValue"===L.type?Q.name=this._getCodedName(L.codedValues,U):W&&"esriFieldTypeDate"===W.type&&!isNaN(U)?Q.name=e.format(new Date(U)):Q.name=U)):U.address&&ka.searchTemplate?Q.name=B.substitute(U.address,ka.searchTemplate):U.hasOwnProperty("name")?Q.name=U.name:U.hasOwnProperty("attributes")&&"object"===typeof U.attributes&&U.attributes.LongLabel?Q.name=U.attributes.LongLabel:U.hasOwnProperty("attributes")&&"object"===typeof U.attributes&&U.attributes.Match_addr?(Q.name=
U.attributes.Match_addr,U.attributes.Addr_type&&"POI"===U.attributes.Addr_type&&U.attributes.StAddr&&U.attributes.City?Q.name+=" - "+U.attributes.StAddr+", "+U.attributes.City:U.attributes.Addr_type&&"POI"===U.attributes.Addr_type&&U.attributes.City&&(Q.name+=" - "+U.attributes.City)):U.hasOwnProperty("address")&&"string"===typeof U.address?Q.name=U.address:U.hasOwnProperty("address")&&"object"===typeof U.address&&U.address.hasOwnProperty("Address")?U.address.hasOwnProperty("Match_addr")?Q.name=U.address.Match_addr:
U.address.hasOwnProperty("Address")&&(Q.name=U.address.Address):Q.feature&&Q.feature.geometry&&(Q.name=Q.feature.geometry.x+","+Q.feature.geometry.y);ka.featureLayer&&Q.feature&&ha(Q.feature,ka.featureLayer);return Q}},_getScale:function(){var U;this.map&&"function"===typeof this.map.getScale&&(U=this.map.getScale());return U},_hydrateResults:function(U,ka,W,Q){Q=[];var L=0;if(U&&U.length)for(L;L<U.length;L++){var ca=this._hydrateResult(U[L],ka,W);ca&&Q.push(ca)}return Q},_containsNonLatinCharacter:function(U){for(var ka=
0;ka<U.length;ka++)if(255<U.charCodeAt(ka))return!0;return!1},_setPlaceholder:function(U){var ka="",W=this.sources[U];U===this._allIndex?ka=this.allPlaceholder||a.widgets.Search.main.allPlaceholder:W&&W.placeholder&&(ka=W.placeholder);var Q=a.widgets.Search.main.all;W&&(Q=this._getSourceName(U));z.set(this.sourceNameNode,"textContent",Q);z.set(this.inputNode,"placeholder",ka);z.set(this.inputNode,"title",ka)},_updateActiveSource:function(){var U=this.sources,ka=this.activeSourceIndex,W;U&&U[ka]&&
(W=U[ka]);W?this.set("activeSource",W):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(U){U?(r.toggle(this.containerNode,this.css.searchExpanded,this.expanded),r.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),r.add(this.containerNode,this.css.hasButtonMode)):(r.remove(this.containerNode,this.css.searchExpanded),r.remove(this.containerNode,this.css.searchCollapsed),r.remove(this.containerNode,this.css.hasButtonMode))},
_setDefaultActiveSourceIndex:function(U){U&&1===U.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(U){this._set("enableSourcesMenu",U);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(U){this._set("enableSearchingAll",U);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},_setSourcesAttr:function(U){this._createSourceNameMap(U).then(n.hitch(this,
function(ka){this._sourceNames=ka;this._created&&(this._setDefaultActiveSourceIndex(U),this._hideMenus(),this._insertSources(U))}));this._set("sources",U)},_setAllPlaceholderAttr:function(U){this._set("allPlaceholder",U);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(U){this._set("activeSourceIndex",U);this._updateActiveSource();this._created&&(this._setPlaceholder(U),this._hideMenus(),this._insertSources(this.sources))},_setMaxLengthAttr:function(U){this._set("maxLength",
U);this._created&&z.set(this.inputNode,"maxLength",U)},_setValueAttr:function(U){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",U);this._created&&(z.set(this.inputNode,"value",U),this._checkStatus())},_setVisibleAttr:function(U){this._set("visible",U);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(U){this._set("enableButtonMode",U);this._created&&this._updateButtonMode(U)},_setThemeAttr:function(U){this._created&&(r.remove(this.domNode,this.theme),
r.add(this.domNode,U));this._set("theme",U)}});n.setObject("dijit.Search",K,D);return K})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),function(O,K,n,q,p,h,f,g,k,u,w){O=O(u,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],"addresses-to-locations-complete":["addresses"],"location-to-address-complete":["address"],
"suggest-locations-complete":["suggestions"]},constructor:function(C){this._geocodeHandler=K.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=K.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=K.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},outSpatialReference:null,setOutSpatialReference:function(C){this.outSpatialReference=C},_geocodeHandler:function(C,z,r,l,d){try{var e=C.candidates;z=[];var a,b=e.length,c=C.spatialReference,m;for(a=0;a<
b;a++){var t=e[a];if(m=t.location)m.spatialReference=c;z[a]=new w(t)}this._successHandler([z],"onAddressToLocationsComplete",r,d)}catch(v){this._errorHandler(v,l,d)}},_geocodeAddressesHandler:function(C,z,r,l,d){try{var e=C.locations;z=[];var a,b=e.length,c=C.spatialReference,m;for(a=0;a<b;a++){if(m=e[a].location)m.spatialReference=c;z[a]=new w(e[a])}this._successHandler([z],"onAddressesToLocationsComplete",r,d)}catch(t){this._errorHandler(t,l,d)}},addressToLocations:function(C,z,r,l,d){var e;if(C.address){l=
r;r=z;z=C.outFields;d=C.searchExtent;var a=C.countryCode;var b=C.magicKey;var c=C.distance;var m=C.categories;C.location&&this.normalization&&(e=C.location.normalize());var t=C.locationType;var v=C.maxLocations;var A=C.forStorage;C=C.address}d&&(d=d.shiftCentralMeridian());var B=this.outSpatialReference;C=this._encode(K.mixin({},this._url.query,C,{f:"json",outSR:B&&p.toJson(B.toJson()),outFields:z&&z.join(",")||null,searchExtent:d&&p.toJson(d.toJson()),category:m&&m.join(",")||null,countryCode:a||
null,magicKey:b||null,distance:c||null,location:e||null,locationType:t||null,maxLocations:v||null,forStorage:A||null}));var x=this._geocodeHandler,D=this._errorHandler,E=new q(k._dfdCanceller);E._pendingDfd=g({url:this._url.path+"/findAddressCandidates",content:C,callbackParamName:"callback",load:function(y,F){x(y,F,r,l,E)},error:function(y){D(y,l,E)}});return E},suggestLocations:function(C){var z=new q(k._dfdCanceller);C.hasOwnProperty("location")&&this.normalization&&(C.location=C.location.normalize());
C.searchExtent&&(C.searchExtent=C.searchExtent.shiftCentralMeridian());C=this._encode(K.mixin({},this._url.query,{f:"json",text:C.text,maxSuggestions:C.maxSuggestions,searchExtent:C.searchExtent&&p.toJson(C.searchExtent.toJson()),category:C.categories&&C.categories.join(",")||null,countryCode:C.countryCode||null,location:C.location||null,distance:C.distance||null},{f:"json"}));C=g({url:this._url.path+"/suggest",content:C,callbackParamName:"callback"});z._pendingDfd=C;C.then(K.hitch(this,function(r){r=
r.suggestions||[];this.onSuggestLocationsComplete(r);z.resolve(r)}),K.hitch(this,function(r){this._errorHandler(r);z.reject(r)}));return z},addressesToLocations:function(C,z,r){var l=this.outSpatialReference,d=[],e=C.categories,a=C.locationType,b=C.countryCode;n.forEach(C.addresses,function(v,A){d.push({attributes:v})});C=this._encode(K.mixin({},this._url.query,{category:e&&e.join(",")||null,locationType:a||null,sourceCountry:b||null},{addresses:p.toJson({records:d})},{f:"json",outSR:l&&p.toJson(l.toJson())}));
var c=this._geocodeAddressesHandler,m=this._errorHandler,t=new q(k._dfdCanceller);t._pendingDfd=g({url:this._url.path+"/geocodeAddresses",content:C,callbackParamName:"callback",load:function(v,A){c(v,A,z,r,t)},error:function(v){m(v,r,t)}});return t},_reverseGeocodeHandler:function(C,z,r,l,d){try{var e=new w({address:C.address,location:C.location,score:100});this._successHandler([e],"onLocationToAddressComplete",r,d)}catch(a){this._errorHandler(a,l,d)}},locationToAddress:function(C,z,r,l){C&&this.normalization&&
(C=C.normalize());var d=this.outSpatialReference;C=this._encode(K.mixin({},this._url.query,{outSR:d&&p.toJson(d.toJson()),location:C&&p.toJson(C.toJson()),distance:z,f:"json"}));var e=this._reverseGeocodeHandler,a=this._errorHandler,b=new q(k._dfdCanceller);b._pendingDfd=g({url:this._url.path+"/reverseGeocode",content:C,callbackParamName:"callback",load:function(c,m){e(c,m,r,l,b)},error:function(c){a(c,l,b)}});return b},onSuggestLocationsComplete:function(){},onAddressToLocationsComplete:function(){},
onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});K.setObject("tasks.Locator",O,f);return O})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(O,K,n,q,p){O=O(null,{declaredClass:"esri.tasks.AddressCandidate",constructor:function(h){K.mixin(this,h);this.location=new p(this.location)}});K.setObject("tasks.AddressCandidate",O,q);return O})},"esri/styles/basic":function(){define(["dojo/_base/array",
"dojo/_base/lang","dojo/has","../kernel","../Color"],function(O,K,n,q,p){function h(u,w){if(u){var C={};C.color=new p(u.color);C.opacity=u.opacity||1;switch(w){case "point":C.outline={color:new p(u.outline.color),width:u.outline.width};C.size=u.size;break;case "line":C.width=u.width;break;case "polygon":C.outline={color:new p(u.outline.color),width:u.outline.width}}}return C}function f(u){if("esriGeometryPoint"===u||"esriGeometryMultipoint"===u)u="point";else if("esriGeometryPolyline"===u)u="line";
else if("esriGeometryPolygon"===u||"esriGeometryMultiPatch"===u)u="polygon";return u}var g={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,
77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},
secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},{color:[255,255,255,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,
1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},k={};(function(){var u,w,C;for(u in g){var z=g[u];var r=z.basemapGroups;var l=k[u]={basemaps:[].concat(r.light).concat(r.dark),point:{},line:{},polygon:{}};for(w in r){var d=r[w];for(C=0;C<d.length;C++){var e=d[C];z.pointSchemes&&(l.point[e]=z.pointSchemes[w]);z.lineSchemes&&(l.line[e]=
z.lineSchemes[w]);z.polygonSchemes&&(l.polygon[e]=z.polygonSchemes[w])}}}})();n={getAvailableThemes:function(u){var w=[],C;for(C in g){var z=g[C];var r=k[C];u&&-1===O.indexOf(r.basemaps,u)||w.push({name:z.name,label:z.label,description:z.description,basemaps:r.basemaps.slice(0)})}return w},getSchemes:function(u){var w=u.theme,C=u.basemap,z=f(u.geometryType);u=k[w];var r;(u=(u=u&&u[z])&&u[C])&&(r={primaryScheme:h(u.primary,z),secondarySchemes:O.map(u.secondary,function(l){return h(l,z)})});return r},
cloneScheme:function(u){if(u){var w=K.mixin({},u);w.color&&(w.color=new p(w.color));w.outline&&(w.outline={color:w.outline.color&&new p(w.outline.color),width:w.outline.width})}return w}};K.setObject("styles.basic",n,q);return n})},"esri/toolbars/draw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Color dojo/_base/window dojo/has dojo/sniff dojo/keys dojo/dom-construct dojo/dom-style dojo/dom-geometry ../kernel ../sniff ./_toolbar ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../graphic ../geometry/jsonUtils ../geometry/webMercatorUtils ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/Rect dojo/i18n!../nls/jsapi".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x){var D=O(l,{declaredClass:"esri.toolbars.Draw",_eventMap:{"draw-complete":!0,"draw-end":["geometry"]},constructor:function(E,y){this.markerSymbol=new d(d.STYLE_SOLID,10,new e(e.STYLE_SOLID,new p([255,0,0]),2),new p([0,0,0,.25]));this.lineSymbol=new e(e.STYLE_SOLID,new p([255,0,0]),2);this.fillSymbol=new a(a.STYLE_SOLID,new e(e.STYLE_SOLID,new p([255,0,0]),2),new p([0,0,0,.25]));this._points=[];this._mouse=!f("esri-touch")&&!f("esri-pointer");
this._defaultOptions={showTooltips:!0,drawTime:75,tolerance:8,tooltipOffset:15};this._options=K.mixin(K.mixin({},this._defaultOptions),y||{});if(g("ios")||g("android"))this._options.showTooltips=!1;this._onKeyDownHandler=K.hitch(this,this._onKeyDownHandler);this._onMouseDownHandler=K.hitch(this,this._onMouseDownHandler);this._onMouseUpHandler=K.hitch(this,this._onMouseUpHandler);this._onClickHandler=K.hitch(this,this._onClickHandler);this._onMouseMoveHandler=K.hitch(this,this._onMouseMoveHandler);
this._onMouseDragHandler=K.hitch(this,this._onMouseDragHandler);this._onDblClickHandler=K.hitch(this,this._onDblClickHandler);this._updateTooltip=K.hitch(this,this._updateTooltip);this._hideTooltip=K.hitch(this,this._hideTooltip);this._redrawGraphic=K.hitch(this,this._redrawGraphic)},_geometryType:null,respectDrawingVertexOrder:!1,setRespectDrawingVertexOrder:function(E){this.respectDrawingVertexOrder=E},setMarkerSymbol:function(E){this.markerSymbol=E},setLineSymbol:function(E){this.lineSymbol=E},
setFillSymbol:function(E){this.fillSymbol=E},activate:function(E,y){this._geometryType&&this.deactivate();var F=this.map,G=q.connect,H=D;this._options=K.mixin(K.mixin({},this._options),y||{});F.navigationManager.setImmediateClick(!1);switch(E){case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.TRIANGLE:case H.CIRCLE:case H.ELLIPSE:case H.RECTANGLE:this._deactivateMapTools(!0,!1,!1,!0);this._onClickHandler_connect=G(F,"onClick",this._onClickHandler);this._mouse?
(this._onMouseDownHandler_connect=G(F,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(F,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(F,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(F,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(F,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(F,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=
G(F,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(F,"onSwipeMove",this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(F,"onSwipeEnd",this._onMouseUpHandler));break;case H.POINT:this._onClickHandler_connect=G(F,"onClick",this._onClickHandler);break;case H.LINE:case H.EXTENT:case H.FREEHAND_POLYLINE:case H.FREEHAND_POLYGON:this._deactivateMapTools(!0,!1,!1,!0);this._mouse?(this._onMouseDownHandler_connect=G(F,"onMouseDown",this._onMouseDownHandler),this._onMouseDragHandler_connect=
G(F,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(F,"onMouseUp",this._onMouseUpHandler)):(this._onMouseDownHandler_connect=G(F,"onMouseDragStart",this._onMouseDownHandler),this._onMouseDragHandler_connect=G(F,"onMouseDrag",this._onMouseDragHandler),this._onMouseUpHandler_connect=G(F,"onMouseDragEnd",this._onMouseUpHandler));f("esri-touch")&&(this._onMouseDownHandler2_connect=G(F,"onSwipeStart",this._onMouseDownHandler),this._onMouseDragHandler2_connect=G(F,"onSwipeMove",
this._onMouseDragHandler),this._onMouseUpHandler2_connect=G(F,"onSwipeEnd",this._onMouseUpHandler));break;case H.POLYLINE:case H.POLYGON:case H.MULTI_POINT:F.navigationManager.setImmediateClick(!0);this._onClickHandler_connect=G(F,"onClick",this._onClickHandler);this._onDblClickHandler_connect=G(F,"onDblClick",this._onDblClickHandler);this._dblClickZoom=F.isDoubleClickZoom;F.disableDoubleClickZoom();break;default:return}this._onKeyDown_connect=G(F,"onKeyDown",this._onKeyDownHandler);this._redrawConnect=
G(F,"onExtentChange",this._redrawGraphic);this._geometryType=E;this._toggleTooltip(!0);F.snappingManager&&"freehandpolyline"!==this._geometryType&&"freehandpolygon"!==this._geometryType&&(F.snappingManager._startSelectionLayerQuery(),F.snappingManager._setUpSnapping());this.onActivate(this._geometryType)},deactivate:function(){var E=this.map;this._clear();var y=q.disconnect;y(this._onMouseMoveHandler_connect);y(this._onMouseDownHandler_connect);y(this._onMouseDragHandler_connect);y(this._onMouseUpHandler_connect);
y(this._onMouseDownHandler2_connect);y(this._onMouseDragHandler2_connect);y(this._onMouseUpHandler2_connect);y(this._onClickHandler_connect);y(this._onDblClickHandler_connect);y(this._onKeyDown_connect);y(this._redrawConnect);this._onMouseDownHandler_connect=this._onMouseMoveHandler_connect=this._onMouseDragHandler_connect=this._onMouseUpHandler_connect=this._onMouseDownHandler2_connect=this._onMouseDragHandler2_connect=this._onMouseUpHandler2_connect=this._onClickHandler_connect=this._onDblClickHandler_connect=
this._onKeyDown_connect=this._redrawConnect=null;E.snappingManager&&(E.snappingManager._stopSelectionLayerQuery(),E.snappingManager._killOffSnapping());switch(this._geometryType){case D.CIRCLE:case D.ELLIPSE:case D.TRIANGLE:case D.ARROW:case D.LEFT_ARROW:case D.RIGHT_ARROW:case D.UP_ARROW:case D.DOWN_ARROW:case D.RECTANGLE:case D.LINE:case D.EXTENT:case D.FREEHAND_POLYLINE:case D.FREEHAND_POLYGON:this._activateMapTools(!0,!1,!1,!0);break;case D.POLYLINE:case D.POLYGON:case D.MULTI_POINT:this._dblClickZoom&&
E.enableDoubleClickZoom()}y=this._geometryType;this._geometryType=null;E.navigationManager.setImmediateClick(!1);this._toggleTooltip(!1);this.onDeactivate(y)},_clear:function(){this._graphic&&this.map.graphics.remove(this._graphic,!0);this._graphic=null;this.map.snappingManager&&this.map.snappingManager._setGraphic(null);this._points=[]},finishDrawing:function(){var E=this._points,y=this.map.spatialReference,F=D;E=E.slice(0,E.length);switch(this._geometryType){case F.POLYLINE:if(!this._graphic||2>
E.length)return;var G=new t(y);G.addPath([].concat(E));break;case F.POLYGON:if(!this._graphic||3>E.length)return;G=new v(y);E=[].concat(E,[E[0].offset(0,0)]);v.prototype.isClockwise(E)||this.respectDrawingVertexOrder||E.reverse();G.addRing(E);break;case F.MULTI_POINT:G=new A(y),n.forEach(E,function(H){G.addPoint(H)})}q.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(G)},_drawEnd:function(E){if(E){var y=this.map.spatialReference,F;this.onDrawEnd(E);
y&&(y.isWebMercator()?F=m.webMercatorToGeographic(E,!0):4326===y.wkid&&(F=c.fromJson(E.toJson())));this.onDrawComplete({geometry:E,geographicGeometry:F})}},_normalizeRect:function(E,y,F){var G=E.x;E=E.y;var H=y.x;y=y.y;return{x:Math.min(G,H),y:Math.max(E,y),width:Math.abs(G-H),height:Math.abs(E-y),spatialReference:F}},_onMouseDownHandler:function(E){this._dragged=!1;if(this.map.snappingManager)var y=this.map.snappingManager._snappingPoint;var F=y||E.mapPoint,G=D;y=this.map;var H=y.spatialReference;
this._points.push(F.offset(0,0));switch(this._geometryType){case G.LINE:this._graphic=y.graphics.add(new b(new t({paths:[[[F.x,F.y],[F.x,F.y]]],spatialReference:H}),this.lineSymbol),!0);y.snappingManager&&y.snappingManager._setGraphic(this._graphic);break;case G.FREEHAND_POLYLINE:this._oldPoint=E.screenPoint;F=new t(H);F.addPath(this._points);this._graphic=y.graphics.add(new b(F,this.lineSymbol),!0);y.snappingManager&&y.snappingManager._setGraphic(this._graphic);break;case G.CIRCLE:case G.ELLIPSE:case G.TRIANGLE:case G.ARROW:case G.LEFT_ARROW:case G.RIGHT_ARROW:case G.UP_ARROW:case G.DOWN_ARROW:case G.RECTANGLE:case G.FREEHAND_POLYGON:this._oldPoint=
E.screenPoint,F=new v(H),F.addRing(this._points),this._graphic=y.graphics.add(new b(F,this.fillSymbol),!0),y.snappingManager&&y.snappingManager._setGraphic(this._graphic)}f("esri-touch")&&E.preventDefault();if(1===this._points.length)this.onDrawStart()},_onMouseMoveHandler:function(E){if(this.map.snappingManager)var y=this.map.snappingManager._snappingPoint;E=y||E.mapPoint;y=this._graphic.geometry;switch(this._geometryType){case D.POLYLINE:case D.POLYGON:var F=this._points.length,G=!!y.getPoint(0,
F);E=E.offset(0,0);G?y.setPoint(0,F,E):y.insertPoint(0,F,E);this._graphic.setGeometry(y)}},_onMouseDragHandler:function(E){if(this._graphic||this._points.length)if(f("esri-touch")&&!this._points.length)E.preventDefault();else{this._dragged=!0;if(this.map.snappingManager)var y=this.map.snappingManager._snappingPoint;var F=this._points[0],G=y||E.mapPoint,H=this.map,I=H.spatialReference;y=this._graphic;var N=D,M=H.toScreen(F),J=H.toScreen(G),R=[];R=J.x-M.x;J=J.y-M.y;var Z=Math.sqrt(R*R+J*J);switch(this._geometryType){case N.CIRCLE:this._hideTooltip();
y.geometry=v.createCircle({center:M,r:Z,numberOfPoints:60,map:H});y.setGeometry(y.geometry);break;case N.ELLIPSE:this._hideTooltip();y.geometry=v.createEllipse({center:M,longAxis:R,shortAxis:J,numberOfPoints:60,map:H});y.setGeometry(y.geometry);break;case N.TRIANGLE:this._hideTooltip();R=[[0,-Z],[.8660254037844386*Z,.5*Z],[-.8660254037844386*Z,.5*Z],[0,-Z]];y.geometry=this._toPolygon(R,M.x,M.y);y.setGeometry(y.geometry);break;case N.ARROW:this._hideTooltip();F=J/Z;H=R/Z;G=.25*H*Z;I=.25*Z/(J/R);Z*=
.25*F;R=[[R,J],[R-G*(1+24/I),J+24*H-Z],[R-G*(1+12/I),J+12*H-Z],[-12*F,12*H],[12*F,-12*H],[R-G*(1-12/I),J-12*H-Z],[R-G*(1-24/I),J-24*H-Z],[R,J]];y.geometry=this._toPolygon(R,M.x,M.y);y.setGeometry(y.geometry);break;case N.LEFT_ARROW:this._hideTooltip();R=0>=R?[[R,0],[.75*R,J],[.75*R,.5*J],[0,.5*J],[0,-.5*J],[.75*R,-.5*J],[.75*R,-J],[R,0]]:[[0,0],[.25*R,J],[.25*R,.5*J],[R,.5*J],[R,-.5*J],[.25*R,-.5*J],[.25*R,-J],[0,0]];y.geometry=this._toPolygon(R,M.x,M.y);y.setGeometry(y.geometry);break;case N.RIGHT_ARROW:this._hideTooltip();
R=0<=R?[[R,0],[.75*R,J],[.75*R,.5*J],[0,.5*J],[0,-.5*J],[.75*R,-.5*J],[.75*R,-J],[R,0]]:[[0,0],[.25*R,J],[.25*R,.5*J],[R,.5*J],[R,-.5*J],[.25*R,-.5*J],[.25*R,-J],[0,0]];y.geometry=this._toPolygon(R,M.x,M.y);y.setGeometry(y.geometry);break;case N.UP_ARROW:this._hideTooltip();R=0>=J?[[0,J],[-R,.75*J],[-.5*R,.75*J],[-.5*R,0],[.5*R,0],[.5*R,.75*J],[R,.75*J],[0,J]]:[[0,0],[-R,.25*J],[-.5*R,.25*J],[-.5*R,J],[.5*R,J],[.5*R,.25*J],[R,.25*J],[0,0]];y.geometry=this._toPolygon(R,M.x,M.y);y.setGeometry(y.geometry);
break;case N.DOWN_ARROW:this._hideTooltip();R=0<=J?[[0,J],[-R,.75*J],[-.5*R,.75*J],[-.5*R,0],[.5*R,0],[.5*R,.75*J],[R,.75*J],[0,J]]:[[0,0],[-R,.25*J],[-.5*R,.25*J],[-.5*R,J],[.5*R,J],[.5*R,.25*J],[R,.25*J],[0,0]];y.geometry=this._toPolygon(R,M.x,M.y);y.setGeometry(y.geometry);break;case N.RECTANGLE:this._hideTooltip();R=[[0,0],[R,0],[R,J],[0,J],[0,0]];y.geometry=this._toPolygon(R,M.x,M.y);y.setGeometry(y.geometry);break;case N.LINE:y.setGeometry(K.mixin(y.geometry,{paths:[[[F.x,F.y],[G.x,G.y]]]}));
break;case N.EXTENT:y&&H.graphics.remove(y,!0);y=new B(this._normalizeRect(F,G,I));y._originOnly=!0;this._graphic=H.graphics.add(new b(y,this.fillSymbol),!0);H.snappingManager&&H.snappingManager._setGraphic(this._graphic);break;case N.FREEHAND_POLYLINE:this._hideTooltip();if(!1===this._canDrawFreehandPoint(E)){f("esri-touch")&&E.preventDefault();return}this._points.push(E.mapPoint.offset(0,0));y.geometry._insertPoints([G.offset(0,0)],0);y.setGeometry(y.geometry);break;case N.FREEHAND_POLYGON:this._hideTooltip();
if(!1===this._canDrawFreehandPoint(E)){f("esri-touch")&&E.preventDefault();return}this._points.push(E.mapPoint.offset(0,0));y.geometry._insertPoints([G.offset(0,0)],0);y.setGeometry(y.geometry)}f("esri-touch")&&E.preventDefault()}},_canDrawFreehandPoint:function(E){if(!this._oldPoint)return!1;var y=this._oldPoint.x-E.screenPoint.x,F=this._oldPoint.y-E.screenPoint.y,G=this._options.tolerance;if((0>y?-1*y:y)<G&&(0>F?-1*F:F)<G)return!1;y=new Date;if(y-this._startTime<this._options.drawTime)return!1;
this._startTime=y;this._oldPoint=E.screenPoint;return!0},_onMouseUpHandler:function(E){if(this._dragged&&this._graphic){0===this._points.length&&this._points.push(E.mapPoint.offset(0,0));if(this.map.snappingManager)var y=this.map.snappingManager._snappingPoint;var F=this._points[0];y=y||E.mapPoint;var G=this.map.spatialReference,H=D;switch(this._geometryType){case H.CIRCLE:case H.ELLIPSE:case H.TRIANGLE:case H.ARROW:case H.LEFT_ARROW:case H.RIGHT_ARROW:case H.UP_ARROW:case H.DOWN_ARROW:case H.RECTANGLE:var I=
this._graphic.geometry;break;case H.LINE:I=new t({paths:[[[F.x,F.y],[y.x,y.y]]],spatialReference:G});break;case H.EXTENT:I=(new B(this._normalizeRect(F,y,G))).getExtent();break;case H.FREEHAND_POLYLINE:I=new t(G);I.addPath([].concat(this._points,[y.offset(0,0)]));break;case H.FREEHAND_POLYGON:I=new v(G),F=[].concat(this._points,[y.offset(0,0),this._points[0].offset(0,0)]),v.prototype.isClockwise(F)||this.respectDrawingVertexOrder||F.reverse(),I.addRing(F)}f("esri-touch")&&E.preventDefault();this._clear();
this._drawEnd(I)}else this._clear()},_isPointToPointTool:function(E){switch(E){case D.POLYLINE:case D.POLYGON:case D.MULTI_POINT:return!0;default:return!1}},_onClickHandler:function(E){if(this.map.snappingManager)var y=this.map.snappingManager._snappingPoint;y=y||E.mapPoint;E=this.map;var F=E.toScreen(y),G=D;if(this._isPointToPointTool(this._geometryType)){var H=this._points[this._points.length-1];if(y&&H&&y.x===H.x&&y.y===H.y)return;this._points.push(y.offset(0,0))}switch(this._geometryType){case G.POINT:this.onDrawStart();
this._drawEnd(y.offset(0,0));this._setTooltipMessage(0);break;case G.POLYLINE:1===this._points.length?(y=new t(E.spatialReference),y.addPath(this._points),this._graphic=E.graphics.add(new b(y,this.lineSymbol),!0),E.snappingManager&&E.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=q.connect(E,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,y.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.lineSymbol));
break;case G.POLYGON:1===this._points.length?(y=new v(E.spatialReference),y.addRing(this._points),this._graphic=E.graphics.add(new b(y,this.fillSymbol),!0),E.snappingManager&&E.snappingManager._setGraphic(this._graphic,{snapToLastVertex:!1}),this._onMouseMoveHandler_connect=q.connect(E,"onMouseMove",this._onMouseMoveHandler),this.onDrawStart()):(this._graphic.geometry.setPoint(0,this._points.length-1,y.offset(0,0)),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.fillSymbol));break;
case G.MULTI_POINT:y=this._points;1===y.length?(F=new A(E.spatialReference),F.addPoint(y[y.length-1]),this._graphic=E.graphics.add(new b(F,this.markerSymbol),!0),E.snappingManager&&E.snappingManager._setGraphic(this._graphic),this.onDrawStart()):(this._graphic.geometry.addPoint(y[y.length-1]),this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.markerSymbol));break;case G.ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],F.x,F.y);break;case G.LEFT_ARROW:this._addShape([[0,
0],[24,24],[24,12],[96,12],[96,-12],[24,-12],[24,-24],[0,0]],F.x,F.y);break;case G.RIGHT_ARROW:this._addShape([[0,0],[-24,24],[-24,12],[-96,12],[-96,-12],[-24,-12],[-24,-24],[0,0]],F.x,F.y);break;case G.UP_ARROW:this._addShape([[0,0],[-24,24],[-12,24],[-12,96],[12,96],[12,24],[24,24],[0,0]],F.x,F.y);break;case G.DOWN_ARROW:this._addShape([[0,0],[-24,-24],[-12,-24],[-12,-96],[12,-96],[12,-24],[24,-24],[0,0]],F.x,F.y);break;case G.TRIANGLE:this._addShape([[0,-48],[41.56921938165306,24],[-41.56921938165306,
24],[0,-48]],F.x,F.y);break;case G.RECTANGLE:this._addShape([[0,-96],[96,-96],[96,0],[0,0],[0,-96]],F.x-48,F.y+48);break;case G.CIRCLE:this._clear();this.onDrawStart();this._drawEnd(v.createCircle({center:F,r:48,numberOfPoints:60,map:E}));break;case G.ELLIPSE:this._clear(),this.onDrawStart(),this._drawEnd(v.createEllipse({center:F,longAxis:48,shortAxis:24,numberOfPoints:60,map:E}))}this._setTooltipMessage(this._points.length)},_addShape:function(E,y,F){this._setTooltipMessage(0);this._clear();this.onDrawStart();
this._drawEnd(this._toPolygon(E,y,F))},_toPolygon:function(E,y,F){var G=this.map,H=new v(G.spatialReference);H.addRing(n.map(E,function(I){return G.toMap({x:I[0]+y,y:I[1]+F})}));return H},_onDblClickHandler:function(E){var y=this._points,F=this.map.spatialReference,G=D;f("esri-touch")&&y.push(E.mapPoint);var H=y[y.length-1],I=y[y.length-2];y=H&&I&&H.x===I.x&&H.y===I.y?y.slice(0,y.length-1):y.slice(0,y.length);switch(this._geometryType){case G.POLYLINE:if(!this._graphic||2>y.length){q.disconnect(this._onMouseMoveHandler_connect);
this._clear();this._onClickHandler(E);return}var N=new t(F);N.addPath([].concat(y));break;case G.POLYGON:if(!this._graphic||3>y.length)return;N=new v(F);E=[].concat(y,[y[0].offset(0,0)]);v.prototype.isClockwise(E)||this.respectDrawingVertexOrder||E.reverse();N.addRing(E);break;case G.MULTI_POINT:N=new A(F),n.forEach(y,function(M){N.addPoint(M)})}q.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this._drawEnd(N)},_onKeyDownHandler:function(E){E.keyCode===k.ESCAPE&&
(q.disconnect(this._onMouseMoveHandler_connect),this._clear(),this._setTooltipMessage(0))},_toggleTooltip:function(E){this._options.showTooltips&&(E?this._tooltip||(this._tooltip=u.create("div",{"class":"esriMapTooltip"},this.map.container),C.isBodyLtr()||w.set(this._tooltip,"direction","rtl"),this._tooltip.style.display="none",this._tooltip.style.position="fixed",this._setTooltipMessage(0),this._onTooltipMouseEnterHandler_connect=q.connect(this.map,"onMouseOver",this._updateTooltip),this._onTooltipMouseLeaveHandler_connect=
q.connect(this.map,"onMouseOut",this._hideTooltip),this._onTooltipMouseMoveHandler_connect=q.connect(this.map,"onMouseMove",this._updateTooltip)):this._tooltip&&(q.disconnect(this._onTooltipMouseEnterHandler_connect),q.disconnect(this._onTooltipMouseLeaveHandler_connect),q.disconnect(this._onTooltipMouseMoveHandler_connect),u.destroy(this._tooltip),this._tooltip=null))},_hideTooltip:function(){var E=this._tooltip;E&&(E.style.display="none")},_setTooltipMessage:function(E){var y=this._tooltip;if(y){var F=
"";switch(this._geometryType){case D.POINT:F=x.toolbars.draw.addPoint;break;case D.ARROW:case D.LEFT_ARROW:case D.RIGHT_ARROW:case D.UP_ARROW:case D.DOWN_ARROW:case D.TRIANGLE:case D.RECTANGLE:case D.CIRCLE:case D.ELLIPSE:F=x.toolbars.draw.addShape;break;case D.LINE:case D.EXTENT:case D.FREEHAND_POLYLINE:case D.FREEHAND_POLYGON:F=x.toolbars.draw.freehand;break;case D.POLYLINE:case D.POLYGON:F=x.toolbars.draw.start;1===E?F=x.toolbars.draw.resume:2<=E&&(F=x.toolbars.draw.complete);break;case D.MULTI_POINT:F=
x.toolbars.draw.addMultipoint,1<=E&&(F=x.toolbars.draw.finish)}y.innerHTML=F}},_updateTooltip:function(E){var y=this._tooltip;if(y){if(E.clientX||E.pageY){var F=E.clientX;E=E.clientY}else F=E.clientX+h.body().scrollLeft-h.body().clientLeft,E=E.clientY+h.body().scrollTop-h.body().clientTop;y.style.display="none";w.set(y,{left:F+this._options.tooltipOffset+"px",top:E+"px"});y.style.display=""}},_redrawGraphic:function(E,y,F,G){(F||this.map.wrapAround180)&&(E=this._graphic)&&E.setGeometry(E.geometry)},
onActivate:function(){},onDeactivate:function(){},onDrawComplete:function(){},onDrawStart:function(){},onDrawEnd:function(){}});K.mixin(D,{POINT:"point",MULTI_POINT:"multipoint",LINE:"line",EXTENT:"extent",POLYLINE:"polyline",POLYGON:"polygon",FREEHAND_POLYLINE:"freehandpolyline",FREEHAND_POLYGON:"freehandpolygon",ARROW:"arrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",TRIANGLE:"triangle",CIRCLE:"circle",ELLIPSE:"ellipse",RECTANGLE:"rectangle"});K.setObject("toolbars.Draw",
D,z);return D})},"esri/toolbars/_toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../Evented"],function(O,K,n,q,p){O=O([p],{declaredClass:"esri.toolbars._Toolbar",constructor:function(h){this.map=h},_cursors:{move:"pointer","move-v":"pointer","move-gv":"pointer",box0:"nw-resize",box1:"n-resize",box2:"ne-resize",box3:"e-resize",box4:"se-resize",box5:"s-resize",box6:"sw-resize",box7:"w-resize",box8:"pointer"},_deactivateMapTools:function(h,f,g,k){var u=this.map;
h&&(this._mapNavState={isDoubleClickZoom:u.isDoubleClickZoom,isClickRecenter:u.isClickRecenter,isPan:u.isPan,isRubberBandZoom:u.isRubberBandZoom,isKeyboardNavigation:u.isKeyboardNavigation,isScrollWheelZoom:u.isScrollWheelZoom},u.disableDoubleClickZoom(),u.disableClickRecenter(),u.disablePan(),u.disableRubberBandZoom(),u.disableKeyboardNavigation());f&&u.hideZoomSlider();g&&u.hidePanArrows();k&&u.graphics.disableMouseEvents()},_activateMapTools:function(h,f,g,k){var u=this.map,w=this._mapNavState;
h&&w&&(w.isDoubleClickZoom&&u.enableDoubleClickZoom(),w.isClickRecenter&&u.enableClickRecenter(),w.isPan&&u.enablePan(),w.isRubberBandZoom&&u.enableRubberBandZoom(),w.isKeyboardNavigation&&u.enableKeyboardNavigation(),w.isScrollWheelZoom&&u.enableScrollWheelZoom());f&&u.showZoomSlider();g&&u.showPanArrows();k&&u.graphics.enableMouseEvents()},_deactivateScrollWheel:function(){var h=this.map;this._scrollWheelState={isScrollWheelZoom:h.isScrollWheelZoom,isScrollWheelPan:h.isScrollWheelPan};h.disableScrollWheelZoom();
h.disableScrollWheelPan()},_activateScrollWheel:function(){var h=this.map,f=this._scrollWheelState;f&&(f.isScrollWheelZoom&&h.enableScrollWheelZoom(),f.isScrollWheelPan&&h.enableScrollWheelPan())}});K.setObject("toolbars._Toolbar",O,q);return O})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d){var e=n("dijit.layout._Splitter",[z,r],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);q.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var b=K(this._cookieName);b&&(this.child.domNode.style[this.horizontal?"height":"width"]=b)}},_computeMaxSize:function(){var b=this.horizontal?"h":"w",c=h.getMarginBox(this.child.domNode)[b],m=O.filter(this.container.getChildren(),function(t){return"center"==t.region})[0];
b=h.getContentBox(m.domNode)[b]-10;return Math.min(this.child.maxSize,c+b)},_startDrag:function(b){this.cover||(this.cover=p.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));q.add(this.cover,"dijitSplitterCoverActive");this.fake&&p.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),q.add(this.domNode,"dijitSplitterShadow"),p.place(this.fake,this.domNode,"after"));q.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&q.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var c=this._factor,m=this.horizontal,t=m?"pageY":"pageX",v=b[t],A=this.domNode.style;m=m?"h":"w";var B=f.getComputedStyle(this.child.domNode),x=h.getMarginBox(this.child.domNode,B)[m],D=this._computeMaxSize(),E=Math.max(this.child.minSize,h.getPadBorderExtents(this.child.domNode,B)[m]+10);m=this.region;var y="top"==m||"bottom"==m?"top":"left",F=parseInt(A[y],10),
G=this._resize,H=k.hitch(this.container,"_layoutChildren",this.child.id);m=this.ownerDocument;this._handlers=this._handlers.concat([u(m,w.move,this._drag=function(I,N){var M=I[t]-v,J=c*M+x,R=Math.max(Math.min(J,D),E);(G||N)&&H(R);A[y]=M+F+c*(R-J)+"px"}),u(m,"dragstart",function(I){I.stopPropagation();I.preventDefault()}),u(this.ownerDocumentBody,"selectstart",function(I){I.stopPropagation();I.preventDefault()}),u(m,w.release,k.hitch(this,"_stopDrag"))]);b.stopPropagation();b.preventDefault()},_onMouse:function(b){b=
"mouseover"==b.type||"mouseenter"==b.type;q.toggle(this.domNode,"dijitSplitterHover",b);q.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",b)},_stopDrag:function(b){try{this.cover&&q.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&p.destroy(this.fake),q.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(b),this._drag(b,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
K(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var b;b=this._handlers.pop();)b.remove()},_onKeyDown:function(b){this._resize=!0;var c=this.horizontal,m=1;switch(b.keyCode){case c?g.UP_ARROW:g.LEFT_ARROW:m*=-1;case c?g.DOWN_ARROW:g.RIGHT_ARROW:break;default:return}c=h.getMarginSize(this.child.domNode)[c?"h":"w"]+this._factor*m;this.container._layoutChildren(this.child.id,Math.max(Math.min(c,this._computeMaxSize()),this.child.minSize));
b.stopPropagation();b.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),a=n("dijit.layout._Gutter",[z,r],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);q.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});n=n("dijit.layout.BorderContainer",l,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:e,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(b){this.inherited(arguments);var c=b.region,m=b.isLeftToRight();"leading"==c&&(c=m?"left":"right");"trailing"==c&&(c=m?"right":"left");c&&"center"!=c&&(b.splitter||this.gutters)&&!b._splitterWidget&&(m=b.splitter?this._splitterClass:a,k.isString(m)&&
(m=k.getObject(m)),m=new m({id:b.id+"_splitter",container:this,child:b,region:c,live:this.liveSplitters}),m.isSplitter=!0,b._splitterWidget=m,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),p.place(m.domNode,b.domNode,c?"before":"after"),m.startup())},layout:function(){this._layoutChildren()},removeChild:function(b){var c=b._splitterWidget;c&&(c.destroy(),delete b._splitterWidget);this.inherited(arguments)},getChildren:function(){return O.filter(this.inherited(arguments),function(b){return!b.isSplitter})},
getSplitter:function(b){return O.filter(this.getChildren(),function(c){return c.region==b})[0]._splitterWidget},resize:function(b,c){if(!this.cs||!this.pe){var m=this.domNode;this.cs=f.getComputedStyle(m);this.pe=h.getPadExtents(m,this.cs);this.pe.r=f.toPixelValue(m,this.cs.paddingRight);this.pe.b=f.toPixelValue(m,this.cs.paddingBottom);f.set(m,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(b,c){if(this._borderBox&&this._borderBox.h){var m=[];O.forEach(this._getOrderedChildren(),
function(t){m.push(t);t._splitterWidget&&m.push(t._splitterWidget)});d.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},m,b,c)}},destroyRecursive:function(){O.forEach(this.getChildren(),function(b){var c=b._splitterWidget;c&&c.destroy();delete b._splitterWidget});this.inherited(arguments)}});n.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};k.mixin(n.ChildWidgetProperties,l.ChildWidgetProperties);k.extend(C,n.ChildWidgetProperties);
n._Splitter=e;n._Gutter=a;return n})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(O,K,n,q,p,h,f,g){K=K("dijit.layout.LayoutContainer",f,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(O.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(k){this.inherited(arguments);
k.region&&n.add(k.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var k=O.map(this.getChildren(),function(u,w){return{pane:u,weight:["center"==u.region?Infinity:0,u.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(u.region)?1:-1),w]}},this);k.sort(function(u,w){for(var C=u.weight,z=w.weight,r=0;r<C.length;r++)if(C[r]!=z[r])return C[r]-z[r];return 0});return O.map(k,function(u){return u.pane})},layout:function(){g.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},
addChild:function(k,u){this.inherited(arguments);this._started&&this.layout()},removeChild:function(k){this.inherited(arguments);this._started&&this.layout();n.remove(k.domNode,this.baseClass+"Pane");q.set(k.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});q.set(k.domNode,/top|bottom/.test(k.region)?"width":"height","auto")}});K.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};p.extend(h,K.ChildWidgetProperties);return K})},"arcgisonline/map/utils/clipOnHorizon":function(){define(["./contains"],
function(O){return function(K){O([102113,102100,3857],K.spatialReference.wkid)&&(K.xmin=Math.max(K.xmin,-20037507),K.xmax=Math.min(K.xmax,20037507),K.ymin=Math.max(K.ymin,-19971868),K.ymax=Math.min(K.ymax,19971868));return K}})},"arcgisonline/map/utils/createExtentSearchOptions":function(){define("dojo/_base/lang dojo/_base/array esri/lang esri/tasks/locator ../../esriGeowConfig ../../sharing/util dojo/i18n!../../nls/arcgisonline".split(" "),function(O,K,n,q,p,h,f){function g(){var k=O.clone(((p&&
p.self||{}).helperServices||{}).geocode||[]),u=!1;n.isDefined(p.geocodeAutoComplete)&&(u=p.geocodeAutoComplete);K.forEach(k,O.hitch(this,function(w){w.enableSuggestions=!0===w.suggest&&u?!0:!1;delete w.suggest;var C=h.isEsriWorldGeocoder(w);if(C||w.enableSuggestions)C&&(w.name=w.name||f.common.esriWorldGeocoder,w.enableSuggestions=u,w.placefinding=w.batch=w.esri=!0,w.outFields=["Match_addr","Addr_type","StAddr","City"]),w.placeholder=w.placeholder||f.viewer.findLocationText,w.singleLineFieldName=
w.singleLineFieldName||"SingleLine",w.highlightSymbol=null,w.localSearchOptions={minScale:3E5,distance:5E4};w.locator=new q(w.url)}));return k=K.filter(k,function(w){return n.isDefined(w.singleLineFieldName)&&n.isDefined(w.placefinding)&&w.placefinding})}return function(k,u){var w=n.isDefined(p.geocodeAutoComplete)?p.geocodeAutoComplete:!1,C=g();w={map:k,enableSuggestions:w,minCharacters:3,maxResults:5,suggestionDelay:100,value:u||null,autoNavigate:!1,activeSourceIndex:"all",sources:[].concat(C)};
1===w.sources.length&&delete w.activeSourceIndex;return w}})},"arcgisonline/sharing/dijit/dialog/ShareOwnershipDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/Select dojox/form/TriStateCheckBox ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys dgrid/OnDemandGrid dgrid/Selection dgrid/editor dojo/store/Memory dojo/store/Observable ./_CreateItemUtilMixin dojo/topic esri/Evented esri/arcgis/Portal ../../geow/Account ../../geow/Content ../../util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X){return O("arcgisonline.sharing.dijit.dialog.ShareOwnershipDlg",[g,k,u,M],{baseClass:"esriSharedOwnershipDlg table-layout",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cp data-dojo-attach-point\x3d"_message"\x3e${i18n.sharingDlg.sharedOwnershipMsg}\x3c/p\x3e\x3cdiv class\x3d"main"\x3e\x3cdiv id\x3d"${id}-groups" data-dojo-attach-point\x3d"_groups" \x3e\x3c/div\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_footerMessage"\x3e${i18n.sharingDlg.settingsMsg}\x3c/p\x3e',
onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},X)},postCreate:function(){this.inherited(arguments);R.getSelf(f.hitch(this,function(aa){this._loadConnections();this._portal=new J.Portal({url:esriGeowConfig.restBaseUrl,self:aa});this._connect=this._portal.on("load",f.hitch(this,function(){this._connect.remove();this._portalUser=this._portal.getPortalUser();this.set("disabled",!0,this.i18n.sharingDlg.fetchingGroups);return this._loadData().then(f.hitch(this,
function(fa){this._createGrid(fa);this.set("disabled",!1);N.publish("shareOwnership/load")}),f.hitch(this,function(fa){N.publish("shareOwnership/load")}))}))}))},startup:function(){this.inherited(arguments);var aa=new d,fa=N.subscribe("shareOwnership/load",function(){fa.remove();aa.resolve()});return aa},destroy:function(){q(".dijit",this.contentNode).map(dijit.byNode).forEach(function(aa){aa.destroyRecursive?aa.destroyRecursive():aa.destroy&&aa.destroy();aa=null});this._groups.destroy();this._groupsStore=
this._groups=null;this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._portalUser=this._portal=null},_createGrid:function(aa){aa=[F({field:"visible",autoSave:!0},v),{field:"title"}];this._groups=new (O([E,y]))({selectionMode:"none",store:this._groupsStore,showHeader:!1,showLoadingMessage:!1,columns:aa,sort:[{attribute:"title",descending:!1}]},this._groups);this._groups.startup();this._groups.on(".dgrid-cell.field-visible:click",f.hitch(this,function(fa){fa=
this._groups.cell(fa).element.widget;"mixed"===(fa&&fa.get("checked")||!1)&&fa.set("checked",!0)}))},_loadConnections:function(){this.own(N.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){B.focus(this._focusNode)}),250)})),N.subscribe("/esri/disable",f.hitch(this,function(aa,fa){this.set("disabled",aa,fa,!0)})))},_loadData:function(){var aa=new d,fa=e.map(this.items||[],f.hitch(this,function(oa){return this._getGroupsItemSharedWith(oa)}));this._sharedOwnershipGroups=
this._getSharedOwnershipGroups(this.groups);this._groupsStore=new H(new G({idProperty:"id",data:this._sharedOwnershipGroups}));r(fa).then(f.hitch(this,function(oa){aa[this._sharedOwnershipGroups&&this._sharedOwnershipGroups.length?"resolve":"reject"](this._sharedOwnershipGroups)}));return aa},_setValueAttr:function(aa){this.items=aa.items.map(function(fa){return f.mixin({},fa)});this.groups=aa.groups.map(function(fa){return f.mixin({},fa)})},_getValueAttr:function(){return{selected:this._groupsStore.query({visible:"on"}).map(function(aa){return aa.id}),
unselected:this._groupsStore.query({visible:!1}).map(function(aa){return aa.id})}},_setFocusAttr:function(aa){aa=q(aa,this.domNode);B.focus(aa&&aa.length?aa[0]:this._title.domNode)},_setDisabledAttr:function(aa,fa,oa){this.set("readOnly",aa,fa,oa)},_setReadOnlyAttr:function(aa,fa,oa){q(".dijit",this.domNode).map(dijit.byNode).forEach(function(ua){ua.set("disabled",aa)});q("a",this.domNode)[aa?"addClass":"removeClass"]("disabledLink");q("label, p, span",this.domNode)[aa?"addClass":"removeClass"]("disabled");
oa||(aa&&fa&&N.publish("/dlg/busyMessage",fa),N.publish("/esri/disable",aa,fa))},shareWithSelectedGroup:function(){var aa=new d,fa=e.map(this.items||[],"return item.id;").join(","),oa=this.items&&this.items.length?this.items[0].owner:null,ua={owner:oa,items:fa,groups:this.get("value").selected.join(","),confirmItemControl:!0};fa={owner:oa,items:fa,groups:this.get("value").unselected.join(",")};this.set("disabled",!0,this.i18n.sharingDlg.sharingItems);r([this._shareItems(ua),this._unshareItems(fa)]).then(f.hitch(this,
function(){this.set("disabled",!1);aa.resolve()}),f.hitch(this,function(ha){this.set("disabled",!1);aa.reject(ha)}));return aa},_shareItems:function(aa){var fa=new d;aa.groups&&aa.groups.length?Z.shareItems(aa,f.hitch(this,function(oa){this.set("disabled",!1);fa.resolve(oa)}),f.hitch(this,function(oa){fa.reject(oa)})):fa.resolve([]);return fa},_unshareItems:function(aa){var fa=new d;aa.groups&&aa.groups.length?Z.unshareItems(aa,f.hitch(this,function(oa){this.set("disabled",!1);fa.resolve(oa)}),f.hitch(this,
function(oa){fa.reject(oa)})):fa.resolve([]);return fa},_getGroupsItemSharedWith:function(aa){aa=this._portal.portalUrl+"content/items/"+aa.id+"/groups";var fa=this.items&&this.items.length||0,oa,ua=new d;T.request({url:aa}).then(f.hitch(this,function(ha){ha=this._getSharedOwnershipGroups(ha.admin).concat(this._getSharedOwnershipGroups(ha.member)).concat(this._getSharedOwnershipGroups(ha.other));e.forEach(ha||[],f.hitch(this,function(U){if(oa=this._groupsStore.get(U.id))oa.shareCount=oa.shareCount?
oa.shareCount+1:1,oa.visible=oa.shareCount===fa?"on":"mixed",this._groupsStore.put(oa)}));ua.resolve(ha)}));return ua},_getSharedOwnershipGroups:function(aa){var fa,oa=this._portalUser&&this._portalUser.username;return e.filter(aa||[],f.hitch(this,function(ua){fa=ua.capabilities&&ua.capabilities.join(",")||"";return(ua.owner===oa||!ua.isViewOnly||ua.userMembership&&"admin"===ua.userMembership.memberType)&&-1<fa.toLowerCase().indexOf("updateitemcontrol")}))},validate:function(){var aa=new d;this._focusNode=
null;var fa=this._checkRequired();fa=fa.then(f.hitch(this,function(oa){aa.resolve(oa)}),f.hitch(this,function(oa){this._showError(oa);aa.reject(oa)}));return aa},_checkRequired:function(){var aa=new d;aa.resolve(!0);return aa},_showError:function(aa){aa=f.mixin(f.mixin({},X.publishWizard.errors.error),aa);this._errorDlg=new A({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(aa).then(f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,
function(){B.focus(this._focusNode)}),250)}));return!1}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b){function c(t){return function(v){this._isLoaded?
this.inherited(t,arguments):this.loadDropDown(g.hitch(this,t,v))}}var m=K("dijit.form._SelectMenu",z,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"selectstart",function(t){t.preventDefault();t.stopPropagation()}))},focus:function(){var t=!1,v=this.parentWidget.value;g.isArray(v)&&(v=v[v.length-1]);v&&O.forEach(this.parentWidget._getChildren(),function(A){A.option&&
v===A.option.value&&(t=!0,this.focusChild(A,!1))},this);t||this.inherited(arguments)}});p=K("dijit.form.Select"+(u("dojo-bidi")?"_NoBidi":""),[w,C,e],{baseClass:"dijitSelect dijitValidationTextBox",templateString:b,_buttonInputDisabled:u("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var t=this.srcNodeRef.selectedIndex||
0;this._set("value",this.options[0<=t?t:0].value)}this.dropDown=new m({id:this.id+"_menu",parentWidget:this});q.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(t){if(t.value||t.label){var v=g.hitch(this,"_setValueAttr",t);t=new r({option:t,label:("text"===this.labelType?(t.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):t.label)||this.emptyLabel,onClick:v,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:t.disabled||
!1});t.focusNode.setAttribute("role","option");return t}return new l({ownerDocument:this.ownerDocument})},_addOptionItem:function(t){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(t))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(t){}},focusChild:function(t){t&&this.set("value",t.option)},_getFirst:function(){var t=this._getChildren();return t.length?t[0]:null},
_getLast:function(){var t=this._getChildren();return t.length?t[t.length-1]:null},childSelector:function(t){return(t=a.byNode(t))&&t.getParent()==this.dropDown},onKeyboardSearch:function(t,v,A,B){t&&this.focusChild(t)},_loadChildren:function(t){if(!0===t)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{O.forEach(this._getChildren(),function(A){A.destroyRecursive()});var v=new r({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(v)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(t){this.inherited(arguments);n.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(t){this.inherited(arguments);this._refreshState()},
_setRequiredAttr:function(t){this._set("required",t);this.focusNode.setAttribute("aria-required",t);this._refreshState()},_setOptionsAttr:function(t){this._isLoaded=!1;this._set("options",t)},_setDisplay:function(t){t=("text"===this.labelType?(t||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):t)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" aria-selected\x3d"true" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+t+"\x3c/span\x3e"},
validate:function(t){t=this.disabled||this.isValid(t);this._set("state",t?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",t?"false":"true");var v=t?"":this._missingMsg;v&&this.focused&&this._hasBeenBlurred?d.show(v,this.domNode,this.tooltipPosition,!this.isLeftToRight()):d.hide(this.domNode);this._set("message",v);return t},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);d.hide(this.domNode);
this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=h.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"selectstart",function(v){v.preventDefault();v.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var t=this._keyNavCodes;delete t[f.LEFT_ARROW];delete t[f.RIGHT_ARROW]},_setStyleAttr:function(t){this.inherited(arguments);q.toggle(this.domNode,
this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(t){this._loadChildren(!0);this._isLoaded=!0;t()},destroy:function(t){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(t),delete this.dropDown);d.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){d.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});u("dojo-bidi")&&(p=
K("dijit.form.Select",p,{_setDisplay:function(t){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));p._Menu=m;p.prototype._onContainerKeydown=c("_onContainerKeydown");p.prototype._onContainerKeypress=c("_onContainerKeypress");return p})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z){return p("dijit.form._FormSelectWidget",z,{multiple:!1,options:null,store:null,_setStoreAttr:function(r){this._created&&this._deprecatedSetStore(r)},query:null,_setQueryAttr:function(r){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:r})},queryOptions:null,_setQueryOptionsAttr:function(r){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:r})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(r){var l=this.options||[];if(null==r)return l;if(k.isArrayLike(r))return O.map(r,"return this.getOptions(item);",this);k.isString(r)&&(r={value:r});k.isObject(r)&&(O.some(l,function(d,e){for(var a in r)if(!(a in d)||d[a]!=r[a])return!1;r=e;return!0})||(r=-1));return 0<=r&&r<l.length?l[r]:null},addOption:function(r){O.forEach(k.isArrayLike(r)?r:[r],function(l){l&&k.isObject(l)&&this.options.push(l)},this);this._loadChildren()},removeOption:function(r){r=this.getOptions(k.isArrayLike(r)?
r:[r]);O.forEach(r,function(l){l&&(this.options=O.filter(this.options,function(d){return d.value!==l.value||d.label!==l.label}),this._removeOptionItem(l))},this);this._loadChildren()},updateOption:function(r){O.forEach(k.isArrayLike(r)?r:[r],function(l){var d=this.getOptions({value:l.value}),e;if(d)for(e in l)d[e]=l[e]},this);this._loadChildren()},setStore:function(r,l,d){g.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(r,l,d)},_deprecatedSetStore:function(r,l,d){var e=this.store;d=d||{};if(e!==r){for(var a;a=this._notifyConnections.pop();)a.remove();r.get||(k.mixin(r,{_oldAPI:!0,get:function(b){var c=new K;this.fetchItemByIdentity({identity:b,onItem:function(m){c.resolve(m)},onError:function(m){c.reject(m)}});return c.promise},query:function(b,c){var m=new K(function(){t.abort&&t.abort()});m.total=new K;var t=this.fetch(k.mixin({query:b,onBegin:function(v){m.total.resolve(v)},
onComplete:function(v){m.resolve(v)},onError:function(v){m.reject(v)}},c));return new C(m)}}),r.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[n.after(r,"onNew",k.hitch(this,"_onNewItem"),!0),n.after(r,"onDelete",k.hitch(this,"_onDeleteItem"),!0),n.after(r,"onSet",k.hitch(this,"_onSetItem"),!0)]));this._set("store",r)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);d.query&&this._set("query",d.query);d.queryOptions&&this._set("queryOptions",d.queryOptions);r&&r.query&&(this._loadingStore=!0,this.onLoadDeferred=new K,this._queryRes=r.query(this.query,this.queryOptions),w(this._queryRes,k.hitch(this,function(b){if(this.sortByLabel&&!d.sort&&b.length)if(r.getValue)b.sort(q.createSortFunction([{attribute:r.getLabelAttributes(b[0])[0]}],r));else{var c=this.labelAttr;b.sort(function(m,t){return m[c]>t[c]?1:t[c]>
m[c]?-1:0})}d.onFetch&&(b=d.onFetch.call(this,b,d));O.forEach(b,function(m){this._addOptionForItem(m)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(k.hitch(this,function(m,t,v){t==v?this._onSetItem(m):(-1!=t&&this._onDeleteItem(m),-1!=v&&this._onNewItem(m))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:l);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(b):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),k.hitch(this,function(b){this.onLoadDeferred.reject(b)})));return e},_setValueAttr:function(r,l){this._onChangeActive||(l=null);if(this._loadingStore)this._pendingValue=r;else if(null!=r){r=k.isArrayLike(r)?O.map(r,function(a){return k.isObject(a)?a:{value:a}}):k.isObject(r)?[r]:[{value:r}];r=O.filter(this.getOptions(r),function(a){return a&&a.value});var d=this.getOptions()||[];this.multiple||r[0]&&r[0].value||!d.length||(r[0]=d[0]);O.forEach(d,function(a){a.selected=O.some(r,
function(b){return b.value===a.value})});d=O.map(r,function(a){return a.value});if("undefined"!=typeof d&&"undefined"!=typeof d[0]){var e=O.map(r,function(a){return a.label});this._setDisplay(this.multiple?e:e[0]);this.inherited(arguments,[this.multiple?d:d[0],l]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var r=O.map([].concat(this.get("selectedOptions")),function(l){return l&&"label"in l?l.label:l?l.value:null},this);return this.multiple?r:r[0]},_setDisplayedValueAttr:function(r){this.set("value",
this.getOptions("string"==typeof r?{label:r}:r))},_loadChildren:function(){this._loadingStore||(O.forEach(this._getChildren(),function(r){r.destroyRecursive()}),O.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var r=[].concat(this.value);if(r&&r[0]){var l=this;O.forEach(this._getChildren(),function(d){var e=O.some(r,function(a){return d.option&&a===d.option.value});e&&!l.multiple&&
(l.focusedChild=d);f.toggle(d.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),e);d.domNode.setAttribute("aria-selected",e?"true":"false")},this)}},_getValueFromOpts:function(){var r=this.getOptions()||[];if(!this.multiple&&r.length){var l=O.filter(r,function(d){return d.selected})[0];if(l&&l.value)return l.value;r[0].selected=!0;return r[0].value}return this.multiple?O.map(O.filter(r,function(d){return d.selected}),function(d){return d.value})||[]:""},_onNewItem:function(r,l){l&&l.parent||
this._addOptionForItem(r)},_onDeleteItem:function(r){this.removeOption({value:this.store.getIdentity(r)})},_onSetItem:function(r){this.updateOption(this._getOptionObjForItem(r))},_getOptionObjForItem:function(r){var l=this.store,d=this.labelAttr&&this.labelAttr in r?r[this.labelAttr]:l.getLabel(r);return{value:d?l.getIdentity(r):null,label:d,item:r}},_addOptionForItem:function(r){var l=this.store;l.isItemLoaded&&!l.isItemLoaded(r)?l.loadItem({item:r,onItem:function(d){this._addOptionForItem(d)},scope:this}):
(r=this._getOptionObjForItem(r),this.addOption(r))},constructor:function(r){this._oValue=(r||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);h.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?u("\x3e *",this.srcNodeRef).map(function(r){return"separator"===r.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:r.getAttribute("data-"+g._scopeName+"-value")||r.getAttribute("value"),
label:String(r.innerHTML),selected:r.getAttribute("selected")||!1,disabled:r.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);n.after(this,"onChange",k.hitch(this,"_updateSelection"));var r=this.store;r&&(r.getIdentity||r.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(r,this._oValue,
{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var r;r=this._notifyConnections.pop();)r.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},
_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(O,K,n,q){return O("dijit.DropDownMenu",q,{templateString:n,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(p){this._moveToPopup(p);p.stopPropagation();p.preventDefault()},
_onLeftArrow:function(p){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else p.stopPropagation(),p.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l){return K("dijit._MenuBase",[C,
l,r,z],{selected:null,_setSelectedAttr:function(d){this.selected!=d&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),d&&d._setSelected(!0),this._set("selected",d))},activated:!1,_setActivatedAttr:function(d){p.toggle(this.domNode,"dijitMenuActive",d);p.toggle(this.domNode,"dijitMenuPassive",!d);this._set("activated",d)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(d){var e=w.byNode(d);return d.parentNode==this.containerNode&&
e&&e.focus},postCreate:function(){var d=this,e="string"==typeof this.childSelector?this.childSelector:h.hitch(this,"childSelector");this.own(g(this.containerNode,g.selector(e,f.enter),function(){d.onItemHover(w.byNode(this))}),g(this.containerNode,g.selector(e,f.leave),function(){d.onItemUnhover(w.byNode(this))}),g(this.containerNode,g.selector(e,u),function(a){d.onItemClick(w.byNode(this),a);a.stopPropagation()}),g(this.containerNode,g.selector(e,"focusin"),function(){d._onItemFocus(w.byNode(this))}));
this.inherited(arguments)},onKeyboardSearch:function(d,e,a,b){this.inherited(arguments);if(d&&(-1==b||d.popup&&1==b))this.onItemClick(d,e)},_keyboardSearchCompare:function(d,e){return d.shortcutKey?e==d.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(d){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,d);else(d=this._getTopMenu())&&d._isMenuBar&&d.focusNext()},
_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(d){this.activated?(this.set("selected",d),!d.popup||d.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(d)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(d,{type:"click"})},this.passivePopupDelay));this._hoveredChild=
d;d._set("hovering",!0)},_onChildDeselect:function(d){this._stopPopupTimer();this.currentPopupItem==d&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;d._closePopup()},this.popupDelay))},onItemUnhover:function(d){this._hoveredChild==d&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);d._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&
(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var d=this;d.parentMenu;d=d.parentMenu);return d},onItemClick:function(d,e){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(d);if(d.disabled)return!1;if(d.popup){this.set("selected",d);this.set("activated",!0);var a=/^key/.test(e._origType||e.type)||0==e.clientX&&0==e.clientY;this._openItemPopup(d,
a)}else this.onExecute(),d._onClick?d._onClick(e):d.onClick(e)},_openItemPopup:function(d,e){if(d!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var a=d.popup;a.parentMenu=this;this.own(this._mouseoverHandle=g.once(a.domNode,"mouseover",h.hitch(this,"_onPopupHover")));var b=this;d._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){e&&b.focusChild(d);b._cleanUp()},onExecute:h.hitch(this,
"_cleanUp",!0),onClose:function(){b._mouseoverHandle&&(b._mouseoverHandle.remove(),delete b._mouseoverHandle)}},e);this.currentPopupItem=d}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(q.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),
this.currentPopupItem=null)},_onItemFocus:function(d){if(this._hoveredChild&&this._hoveredChild!=d)this.onItemUnhover(this._hoveredChild);this.set("selected",d)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(d){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);d&&this.set("selected",null)}})})},"dojox/form/TriStateCheckBox":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/dom-attr dojo/text!./resources/TriStateCheckBox.html dijit/form/Button dijit/form/_ToggleButtonMixin dojo/NodeList-dom".split(" "),
function(O,K,n,q,p,h,f,g,k,u){return K("dojox.form.TriStateCheckBox",[k,u],{templateString:g,baseClass:"dojoxTriStateCheckBox",type:"checkbox",states:"",_stateLabels:null,stateValue:null,_currentState:0,_stateType:"False",readOnly:!1,checked:"",_aria_attr:"aria-checked",constructor:function(){this.states=[!1,"mixed",!0];this.checked=!1;this._stateLabels={False:"\x26#9633;",True:"\x26#8730;",Mixed:"\x26#9632;"};this.stateValues={False:!1,True:"on",Mixed:"mixed"}},_fillContent:function(w){},postCreate:function(){f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},startup:function(){this.set("checked",this.params.checked||this.states[this._currentState]);f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},_setIconClassAttr:null,_setCheckedAttr:function(w,C){var z=n.indexOf(this.states,w);0<=z&&(this._currentState=z,this._stateType=this._getStateType(w),f.set(this.focusNode,"value",this.stateValues[this._stateType]),f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]),this.inherited(arguments))},setChecked:function(w){O.deprecated("setChecked("+w+") is deprecated. Use set('checked',"+w+") instead.","","2.0");this.set("checked",w)},_setStatesAttr:function(w){if(q.isArray(w))this._set("states",w);else if(q.isString(w)){var C={"true":!0,"false":!1,mixed:"mixed"};w=w.split(/\s*,\s*/);for(var z=0;z<w.length;z++)w[z]=void 0!==C[w[z]]?C[w[z]]:!1;this._set("states",w)}},_setReadOnlyAttr:function(w){this._set("readOnly",w);
f.set(this.focusNode,"readOnly",w)},_setValueAttr:function(w,C){"string"==typeof w&&0>n.indexOf(this.states,w)&&(""==w&&(w="on"),this.stateValues.True=w,w=!0);this._created&&(this._currentState=n.indexOf(this.states,w),this.set("checked",w,C),f.set(this.focusNode,"value",this.stateValues[this._stateType]))},_setValuesAttr:function(w){this.stateValues.True=w[0]?w[0]:this.stateValues.True;this.stateValues.Mixed=w[1]?w[1]:this.stateValues.Mixed},_getValueAttr:function(){return this.stateValues[this._stateType]},
reset:function(){this._hasBeenBlurred=!1;this.set("states",this.params.states||[!1,"mixed",!0]);this.stateValues=this.params.stateValues||{False:!1,True:"on",Mixed:"mixed"};this.set("values",this.params.values||[]);this.set("checked",this.params.checked||this.states[0])},_onFocus:function(){this.id&&h("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&h("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.mouseFocus=
!1;this.inherited(arguments)},_onClick:function(w){if(this.readOnly||this.disabled)return p.stop(w),!1;this.click();return this.onClick(w)},click:function(){this._currentState>=this.states.length-1?this._currentState=0:-1==this._currentState?this.fixState():this._currentState++;var w=this._currentState;this.set("checked",this.states[this._currentState]);this._currentState=w;f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType])},fixState:function(){this._currentState=this.states.length-
1},_getStateType:function(w){return w?"mixed"==w?"Mixed":"True":"False"},_onMouseDown:function(){this.mouseFocus=!0}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(O,K,n){return O("dgrid.OnDemandGrid",[K,n],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(O,K,n,q,p,h,f){function g(w,C){C&&C.nodeType&&w.appendChild(C)}function k(w,
C,z,r){if(this.formatter){r=this.formatter;var l=this.grid.formatterScope;z.innerHTML="string"===typeof r&&l?l[r](C,w):this.formatter(C,w)}else null!=C&&z.appendChild(document.createTextNode(C))}var u=8>q("ie")&&!q("quirks");K=K("dgrid.Grid",h,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(w){return"object"!=typeof w?this.columns[w]:this.cell(w).column},listType:"grid",cell:function(w,C){if(w.column&&w.element)return w;w.target&&w.target.nodeType&&(w=w.target);if(w.nodeType){do{if(this._rowIdToObject[w.id])break;
var z=w.columnId;if(z){C=z;var r=w;break}w=w.parentNode}while(w&&w!=this.domNode)}if(!r&&"undefined"!=typeof C){var l=this.row(w);if(z=l&&l.element){z=z.getElementsByTagName("td");for(var d=0;d<z.length;d++)if(z[d].columnId==C){r=z[d];break}}}if(null!=w)return{row:l||this.row(w),column:C&&this.column(C),element:r}},createRowCells:function(w,C,z,r){var l=p("table.dgrid-row-table[role\x3dpresentation]"),d=9>q("ie")||q("quirks")?p(l,"tbody"):l,e,a,b;z=z||this.subRows;var c=0;for(e=z.length;c<e;c++){var m=
z[c];var t=p(d,"tr");m.className&&p(t,"."+m.className);var v=0;for(a=m.length;v<a;v++){var A=m[v];var B=A.id;var x=A.field?".field-"+f.escapeCssIdentifier(A.field,"-"):"";(b="function"===typeof A.className?A.className(r):A.className)&&(x+="."+b);x=p(w+(".dgrid-cell.dgrid-cell-padding"+(B?".dgrid-column-"+f.escapeCssIdentifier(B,"-"):"")+x.replace(/ +/g,"."))+"[role\x3d"+("th"===w?"columnheader":"gridcell")+"]");x.columnId=B;u?(B=p(x,"!dgrid-cell-padding div.dgrid-cell-padding"),x.contents=B):B=x;
if(b=A.colSpan)x.colSpan=b;if(b=A.rowSpan)x.rowSpan=b;C(B,A);t.appendChild(x)}}return l},left:function(w,C){w.element||(w=this.cell(w));return this.cell(this._move(w,-(C||1),"dgrid-cell"))},right:function(w,C){w.element||(w=this.cell(w));return this.cell(this._move(w,C||1,"dgrid-cell"))},renderRow:function(w,C){var z=this.createRowCells("td",function(r,l){var d=w;l.get?d=l.get(w):"field"in l&&"_item"!=l.field&&(d=d[l.field]);l.renderCell?g(r,l.renderCell(w,d,r,C)):k.call(l,w,d,r,C)},C&&C.subRows,
w);return p("div[role\x3drow]\x3e",z)},renderHeader:function(){var w=this,C=this.headerNode,z=C.childNodes.length;for(C.setAttribute("role","row");z--;)p(C.childNodes[z],"!");z=this.createRowCells("th",function(r,l){var d=l.headerNode=r;u&&(r=r.parentNode);var e=l.field;e&&(r.field=e);l.renderHeaderCell?g(d,l.renderHeaderCell(d)):("label"in l||l.field)&&d.appendChild(document.createTextNode("label"in l?l.label:l.field));!1!==l.sortable&&e&&"_item"!=e&&(r.sortable=!0,r.className+=" dgrid-sortable")},
this.subRows&&this.subRows.headerRows);this._rowIdToObject[z.id=this.id+"-header"]=this.columns;C.appendChild(z);this._sortListener&&this._sortListener.remove();this._sortListener=n(z,"click,keydown",function(r){if("click"==r.type||32==r.keyCode||!q("opera")&&13==r.keyCode){var l=r.target,d,e;do if(l.sortable){var a=[{attribute:d=l.field||l.columnId,descending:(e=w._sort[0])&&e.attribute==d&&!e.descending}];d={bubbles:!0,cancelable:!0,grid:w,parentType:r.type,sort:a};n.emit(r.target,"dgrid-sort",
d)&&(w._sortNode=l,w.set("sort",a));break}while((l=l.parentNode)&&l!=C)}})},resize:function(){var w=this.headerNode.firstChild,C=this.contentNode,z;this.inherited(arguments);if(!q("ie")||7<q("ie")&&!q("quirks"))C.style.width="",C&&w&&(z=w.offsetWidth)!=C.offsetWidth&&(C.style.width=z+"px")},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(w,C){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(w){var C=
this.columns,z;for(z in C){var r=C[z];if(r.field==w)return r.headerNode}},updateSortArrow:function(w,C){this._lastSortedArrow&&(p(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),p(this._lastSortedArrow,"!"),delete this._lastSortedArrow);C&&(this._sort=w);if(w[0]){var z=w[0].attribute,r=w[0].descending;z=this._sortNode||this._findSortArrowParent(z);delete this._sortNode;if(z){z=z.contents||z;var l=this._lastSortedArrow=p("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]");l.innerHTML=
"\x26nbsp;";z.insertBefore(l,z.firstChild);p(z,r?".dgrid-sort-down":".dgrid-sort-up");this.resize()}}},styleColumn:function(w,C){return this.addCssRule("#"+f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+f.escapeCssIdentifier(w,"-"),C)},_configColumns:function(w,C){var z=[],r=C instanceof Array;f.each(C,function(l,d){"string"==typeof l&&(C[d]=l={label:l});r||l.field||(l.field=d);d=l.id=l.id||(isNaN(d)?d:w+d);this._configColumn&&(this._configColumn(l,d,C,w),d=l.id);r&&(this.columns[d]=l);
l.grid=this;"function"===typeof l.init&&l.init();z.push(l)},this);return r?C:z},_destroyColumns:function(){var w=this.subRows,C=w&&w.length,z,r;this.cleanup();for(z=0;z<C;z++){var l=0;for(r=w[z].length;l<r;l++){var d=w[z][l];"function"===typeof d.destroy&&d.destroy()}}},configStructure:function(){var w=this.subRows,C=this._columns=this.columns;this.columns=!C||C instanceof Array?{}:C;if(w)for(C=0;C<w.length;C++)w[C]=this._configColumns(C+"-",w[C]);else this.subRows=[this._configColumns("",C)]},_getColumns:function(){return this._columns||
this.columns},_setColumns:function(w){this._destroyColumns();this.subRows=null;this.columns=w;this._updateColumns()},_setSubRows:function(w){this._destroyColumns();this.subRows=w;this._updateColumns()},setColumns:function(w){O.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",w)},setSubRows:function(w){O.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",w)},_updateColumns:function(){this.configStructure();this.renderHeader();
this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});K.appendIfNode=g;K.defaultRenderCell=k;return K})},"put-selector/put":function(){(function(O){var K,n=/[-+,> ]/;O([],K=function(q,p){function h(w){function C(){e&&d&&e!=d&&(d==w&&(z||(z=n.test(m)&&q.createDocumentFragment()))?z:d).insertBefore(e,l||null)}for(var z,r,l,d,e,a=arguments,b=a[0],c=0;c<a.length;c++){var m=a[c];if("object"==
typeof m){r=!1;if(m instanceof Array){e=q.createDocumentFragment();for(var t=0;t<m.length;t++)e.appendChild(h(m[t]));m=e}if(m.nodeType)e=m,C(),d=m,l=0;else for(t in m)e[t]=m[t]}else if(r)r=!1,e.appendChild(q.createTextNode(m));else{1>c&&(w=null);r=!0;if(b=m.replace(f,function(v,A,B,x,D,E){A&&(C(),"-"==A||"+"==A?(d=(l=e||d).parentNode,e=null,"+"==A&&(l=l.nextSibling)):("\x3c"==A?d=e=(e||d).parentNode:(","==A?d=w:e&&(d=e),e=null),l=0),e&&(d=e));if((v=!B&&x)||!e&&(B||D))"$"==v?(v=a[++c],d.appendChild(q.createTextNode(v))):
(v=v||h.defaultTag,(A=u&&a[c+1]&&a[c+1].name)&&(v="\x3c"+v+' name\x3d"'+A+'"\x3e'),e=k&&~(g=v.indexOf("|"))?q.createElementNS(k[v.slice(0,g)],v.slice(g+1)):q.createElement(v));if(B)if("$"==x&&(x=a[++c]),"#"==B)e.id=x;else if(A=(v=e.className)&&(" "+v+" ").replace(" "+x+" "," "),"."==B)e.className=v?(A+x).substring(1):x;else if("!"==m){var y;u?h("div",e,"\x3c").innerHTML="":(y=e.parentNode)&&y.removeChild(e)}else A=A.substring(1,A.length-1),A!=v&&(e.className=A);D&&("$"==E&&(E=a[++c]),"style"==D?e.style.cssText=
E:(B="!"==D.charAt(0)?(D=D.substring(1))&&"removeAttribute":"setAttribute",E=""===E?D:E,k&&~(g=D.indexOf("|"))?e[B+"NS"](k[D.slice(0,g)],D.slice(g+1),E):e[B](D,E)));return""}))throw new SyntaxError("Unexpected char "+b+" in "+m);C();d=b=e||d}}w&&z&&w.appendChild(z);return b}n=p||n;var f=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,g,k=!1;q=q||document;var u="object"==typeof q.createElement;h.addNamespace=function(w,C){q.createElementNS?(k||
(k={}))[w]=C:q.namespaces.add(w,C)};h.defaultTag="div";h.forDocument=K;return h})})(function(O,K,n){n=n||K;"function"===typeof define?define([],function(){return n()}):"undefined"==typeof window?require("./node-html")(module,n):put=n()})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/query dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),function(O,K,n,q,p,h,f,g,
k,u){function w(t,v){return p("#"+f.escapeCssIdentifier(t),v)[0]}function C(t,v){u(document.body,t,".dgrid-scrollbar-measure");var A=t["offset"+v]-t["client"+v];t.className="";t.parentNode&&document.body.removeChild(t);return A}function z(t){var v=t?"."+t.replace(c,"."):"";this._class&&(v="!"+this._class.replace(c,"!")+v);u(this.domNode,v);this._class=t}function r(){return this._class}function l(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function d(t){"undefined"!==typeof t.x&&
(this.bodyNode.scrollLeft=t.x);"undefined"!==typeof t.y&&(this.bodyNode.scrollTop=t.y)}k("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var e,a;h.add("dom-scrollbar-width",function(t,v,A){return C(A,"Width")});h.add("dom-scrollbar-height",function(t,v,A){return C(A,"Height")});h.add("dom-rtl-scrollbar-left",function(t,v,A){t=u("div");u(document.body,A,".dgrid-scrollbar-measure[dir\x3drtl]");u(A,t);v=!!h("ie")||!!h("trident")||t.offsetLeft>=h("dom-scrollbar-width");A.className=
"";A.parentNode&&document.body.removeChild(A);u(t,"!");A.removeAttribute("dir");return v});var b=0,c=/ +/g,m=7>h("ie")&&!h("quirks")?function(){if(this._started){var t=document.documentElement;var v=t.clientWidth;t=t.clientHeight;var A=this._prevWinDims||[];if(A[0]!==v||A[1]!==t)this.resize(),this._prevWinDims=[v,t]}}:function(){this._started&&this.resize()};return K("dgrid.List",h("touch")?g:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,
addUiClasses:!0,shouldObserveStore:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(t,v){var A=this;(this._Row=function(B,x,D){this.id=B;this.data=x;this.element=D}).prototype.remove=function(){A.removeRow(this.element)};v&&(this.srcNodeRef=v=v.nodeType?v:w(v));this.create(t,v)},listType:"list",create:function(t,v){var A=this.domNode=v||u("div");if(t){this.params=t;K.safeMixin(this,t);var B=t["class"]||t.className||A.className;this._sort=t.sort||[];delete this.sort}else this._sort=
[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=A.id=A.id||this.id||"dgrid_"+b++;null===this.useTouchScroll&&(this.useTouchScroll=!h("dom-scrollbar-width"));this.buildRendering();B&&z.call(this,B);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var t=this.domNode,v=this.addUiClasses,A=this;var B=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||
document.body.style.direction).toLowerCase();t.className="";u(t,"[role\x3dgrid].dgrid.dgrid-"+this.listType+(v?".ui-widget":""));var x=this.headerNode=u(t,"div.dgrid-header.dgrid-header-row"+(v?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(h("quirks")||8>h("ie"))&&u(t,"div.dgrid-spacer");var D=this.bodyNode=u(t,"div.dgrid-scroller");h("ff")&&(D.tabIndex=-1);this.headerScrollNode=u(t,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(v?".ui-widget-header":""));var E=
this.footerNode=u("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));u(t,E);B&&(t.className+=" dgrid-rtl"+(h("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));q(D,"scroll",function(y){A.showHeader&&(x.scrollLeft=y.scrollLeft||D.scrollLeft);y.stopPropagation();q.emit(t,"scroll",{scrollTarget:D})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=u(this.bodyNode,"div.dgrid-content"+(v?".ui-widget-content":""));this._listeners.push(this._resizeHandle=q(window,"resize",
f.throttleDelayed(m,this)))},postCreate:h("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var t=this.bodyNode,v=this.headerNode,A=this.footerNode,B=v.offsetHeight,x=this.showFooter?A.offsetHeight:0,D=h("quirks")||7>h("ie");this.headerScrollNode.style.height=t.style.marginTop=B+"px";t.style.marginBottom=
x+"px";D&&(t.style.height="",t.style.height=Math.max(this.domNode.offsetHeight-B-x,0)+"px",x&&(A.style.bottom="1px",setTimeout(function(){A.style.bottom=""},0)));e||(e=h("dom-scrollbar-width"),a=h("dom-scrollbar-height"),h("ie")&&(e++,a++),f.addCssRule(".dgrid-scrollbar-width","width: "+e+"px"),f.addCssRule(".dgrid-scrollbar-height","height: "+a+"px"),17==e||D||(f.addCssRule(".dgrid-header-row","right: "+e+"px"),f.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+e+"px")));D&&(v.style.width=
t.clientWidth+"px",setTimeout(function(){v.scrollLeft=t.scrollLeft},0))},addCssRule:function(t,v){var A=f.addCssRule(t,v);this.cleanAddedRules&&this._listeners.push(A);return A},on:function(t,v){var A=q(this.domNode,t,v);h("dom-addeventlistener")||this._listeners.push(A);return A},cleanup:function(){var t=this.observers,v;for(v in this._rowIdToObject)if(this._rowIdToObject[v]!=this.columns){var A=w(v,this.domNode);A&&this.removeRow(A,!0)}for(v=0;v<t.length;v++)(A=t[v])&&A.cancel();this.observers=
[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var t=this._listeners.length;t--;)this._listeners[t].remove();delete this._listeners}this._started=!1;this.cleanup();u(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(t,v,A,B,x){if(v){var D=this.insertRow(t,v,A,B,x);u(D,".dgrid-highlight"+(this.addUiClasses?
".ui-state-highlight":""));setTimeout(function(){u(D,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return D}},adjustRowIndices:function(t){var v=t.rowIndex;if(-1<v){do-1<t.rowIndex&&(this.maintainOddEven&&-1<(t.className+" ").indexOf("dgrid-row ")&&u(t,"."+(1==v%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==v%2?"dgrid-row-odd":"dgrid-row-even")),t.rowIndex=v++);while((t=t.nextSibling)&&t.rowIndex!=v)}},renderArray:function(t,v,A){function B(){var aa=arguments;if(-1<N)for(var fa=0;fa<
aa.length;fa++){var oa=aa[fa],ua=Z[oa?0:Z.length-1];if(ua=ua&&x(ua)){var ha=ua[oa?"previousSibling":"nextSibling"];ha&&(ha=y.row(ha));ha&&ha.element!=ua&&(oa=oa?"unshift":"push",t[oa](ha.data),Z[oa](ha.element),A.count++)}}}function x(aa){return!n.isDescendant(aa,y.domNode)&&w(aa.id)?y.row(aa.id.slice(y.id.length+5)).element:aa}function D(aa){J=y.insertRow(aa,M,null,F++,A);J.observerIndex=N;return J}function E(aa){R=aa.slice(0);(H=v?v.parentNode:y.contentNode)&&H.parentNode&&(H!==y.contentNode||aa.length)?
(H.insertBefore(M,v||null),(J=aa[aa.length-1])&&y.adjustRowIndices(J)):G[N]&&y.cleanEmptyObservers&&y._onEmptyRender(N);Z=aa;I&&(I.rows=Z)}A=A||{};var y=this,F=A.start||0,G=this.observers,H;v||(this._lastCollection=t);if(t.observe&&this.shouldObserveStore){y._numObservers++;var I=t.observe(function(aa,fa,oa){var ua;if(-1<fa&&Z[fa]){var ha=Z.splice(fa,1)[0];ha.parentNode==H&&((ua=ha.nextSibling)&&fa!=oa&&ua.rowIndex--,y.removeRow(ha));A.count--;y._processScroll&&y._processScroll()}if(-1<oa){if(Z.length)if(0===
oa)var U=(U=Z[oa])&&x(U);else{if(U=Z[oa-1])U=x(U),U=(U.connected||U).nextSibling}else U=y._getFirstRowSibling&&y._getFirstRowSibling(H);ha&&U&&ha.id===U.id&&(U=(U.connected||U).nextSibling);U&&!U.parentNode&&(U=w(U.id));ha=v&&v.parentNode||U&&U.parentNode||y.contentNode;if(ha=y.newRow(aa,ha,U,A.start+oa,A))if(ha.observerIndex=N,Z.splice(oa,0,ha),!ua||oa<fa)ua=(ua=ha.previousSibling)&&ua.rowIndex+1!=ha.rowIndex&&0!=ha.rowIndex?ua:ha;A.count++}0===fa?B(1,1):fa===t.length-(-1===oa?0:1)&&B(0,0);fa!=oa&&
ua&&y.adjustRowIndices(ua);y._onNotification(Z,aa,fa,oa)},!0);var N=G.push(I)-1}var M=document.createDocumentFragment(),J,R;if(t.map){var Z=t.map(D,console.error);if(Z.then)return t.then(function(aa){t=aa;return Z.then(function(fa){E(fa);B(1,1,0,0);return R})})}else{Z=[];for(var T=0,X=t.length;T<X;T++)Z[T]=D(t[T])}E(Z);B(1,1,0,0);return R},_onEmptyRender:function(t){"undefined"!==typeof t&&(this.observers[t].cancel(),this.observers[t]=0,this._numObservers--)},_onNotification:function(t,v,A,B){},renderHeader:function(){},
_autoId:0,insertRow:function(t,v,A,B,x){var D=x.parentId;D=this.id+"-row-"+(D?D+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(t):this._autoId++);var E=w(D,this.domNode),y=E&&E.previousSibling;E&&(E===A&&(A=(A.connected||A).nextSibling),this.removeRow(E));E=this.renderRow(t,x);E.className=(E.className||"")+" dgrid-row "+(1==B%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[E.id=D]=t;v.insertBefore(E,A||null);y&&this.adjustRowIndices(y);
E.rowIndex=B;return E},renderRow:function(t,v){return u("div",""+t)},removeRow:function(t,v){t=t.element||t;delete this._rowIdToObject[t.id];v||u(t,"!")},row:function(t){var v;if(t instanceof this._Row)return t;t.target&&t.target.nodeType&&(t=t.target);if(t.nodeType){do{var A=t.id;if(v=this._rowIdToObject[A])return new this._Row(A.substring(this.id.length+5),v,t);t=t.parentNode}while(t&&t!=this.domNode)}else return"object"==typeof t?v=this.store.getIdentity(t):(v=t,t=this._rowIdToObject[this.id+"-row-"+
v]),new this._Row(v,t,w(this.id+"-row-"+v,this.domNode))},cell:function(t){return{row:this.row(t)}},_move:function(t,v,A,B){var x;var D=x=t.element;v=v||1;do if(t=x[0>v?"previousSibling":"nextSibling"]){do if((x=t)&&-1<(x.className+" ").indexOf(A+" ")){D=x;v+=0>v?1:-1;break}while(t=(!B||!x.hidden)&&x[0>v?"lastChild":"firstChild"])}else if(x=x.parentNode,!x||x===this.bodyNode||x===this.headerNode)break;while(v);return D},up:function(t,v,A){t.element||(t=this.row(t));return this.row(this._move(t,-(v||
1),"dgrid-row",A))},down:function(t,v,A){t.element||(t=this.row(t));return this.row(this._move(t,v||1,"dgrid-row",A))},scrollTo:h("touch")?function(t){return this.useTouchScroll?this.inherited(arguments):d.call(this,t)}:d,getScrollPosition:h("touch")?function(){return this.useTouchScroll?this.inherited(arguments):l.call(this)}:l,get:function(t){var v="_get"+t.charAt(0).toUpperCase()+t.slice(1);return"function"===typeof this[v]?this[v].apply(this,[].slice.call(arguments,1)):this[t]},set:function(t,
v){if("object"===typeof t)for(var A in t)this.set(A,t[A]);else A="_set"+t.charAt(0).toUpperCase()+t.slice(1),"function"===typeof this[A]?this[A].apply(this,[].slice.call(arguments,1)):this[t]=v;return this},_getClass:r,_setClass:z,_getClassName:r,_setClassName:z,_setSort:function(t,v){this._sort="string"!=typeof t?t:[{attribute:t,descending:v}];this.refresh();this._lastCollection&&(t.length&&("string"!=typeof t&&(v=t[0].descending,t=t[0].attribute),this._lastCollection.sort(function(A,B){var x=A[t],
D=B[t];void 0===x&&(x="");void 0===D&&(D="");return x==D?0:x>D==!v?1:-1})),this.renderArray(this._lastCollection))},sort:function(t,v){O.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",t,v)},_getSort:function(){return this._sort},_setShowHeader:function(t){var v=this.headerNode;this.showHeader=t;u(v,(t?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();t&&(v.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(t){O.deprecated("setShowHeader(...)",
'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",t)},_setShowFooter:function(t){this.showFooter=t;u(this.footerNode,(t?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has"],function(O){O.add("dom-contains",function(u,w,C){return!!C.contains});var K=[],n,q,p,h=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,f=setTimeout,g=clearTimeout;O.add("requestidlecallback",function(u){return"function"===typeof u.requestIdleCallback});var k={defaultDelay:15,
throttle:function(u,w,C){var z=!1;C=C||k.defaultDelay;return function(){z||(z=!0,u.apply(w,arguments),f(function(){z=!1},C))}},throttleDelayed:function(u,w,C){var z=!1;C=C||k.defaultDelay;return function(){if(!z){z=!0;var r=arguments;f(function(){z=!1;u.apply(w,r)},C)}}},debounce:function(u,w,C){var z;C=C||k.defaultDelay;return function(){z&&(g(z),z=null);var r=arguments;z=f(function(){z=null;u.apply(w,r)},C)}},each:function(u,w,C){var z;if(u)if("number"===typeof u.length){var r=0;for(z=u.length;r<
z;r++)w.call(C,u[r],r,u)}else for(r in u)w.call(C,u[r],r,u)},contains:function(u,w){return O("dom-contains")?u.contains(w):u.compareDocumentPosition(w)&8},addCssRule:function(u,w){n||(n=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(n),n=n.sheet||n.styleSheet,q=n.deleteRule?"deleteRule":"removeRule",p=n.cssRules?"cssRules":"rules");var C=K.length;K[C]=(n.cssRules||n.rules).length;n.addRule?n.addRule(u,w):n.insertRule(u+"{"+w+"}",K[C]);return{get:function(z){return n[p][K[C]].style[z]},
set:function(z,r){"undefined"!==typeof K[C]&&(n[p][K[C]].style[z]=r)},remove:function(){var z=K[C],r;if(void 0!==z){n[q](z);K[C]=void 0;var l=C+1;for(r=K.length;l<r;l++)K[l]>z&&K[l]--}}}},escapeCssIdentifier:function(u,w){return"string"===typeof u?u.replace(h,w||"\\$1"):u}};return k})},"xstyle/has-class":function(){define(["dojo/has"],function(O){var K={};return function(){for(var n,q=arguments,p=0;p<q.length;p++)if(n=q[p],!K[n]){K[n]=!0;var h=n.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),f=O(h[2]),
g=-h[4];(0<g?g<=f&&(-h[5]||g)>=f:!!f)==!h[1]&&(document.documentElement.className+=" has-"+n)}}})},"xstyle/css":function(){define(["require"],function(O){function K(n,q,p){var h=document.documentElement;n=h.insertBefore(document.createElement(n),h.firstChild);n.id=q;q=(n.currentStyle||getComputedStyle(n,null)||{})[p];h.removeChild(n);return q}return{load:function(n,q,p,h){function f(w){var C=K("x-parse",null,"content"),z=w&&(w.sheet||w.styleSheet);C&&"none"!=C&&"normal"!=C?q([eval(C)],function(r){w?
r.process(w,p):(r.processAll(),p(z))}):p(z)}var g=q.toUrl(n);if(g.match(/!$/)){var k={wait:!1};g=g.slice(0,-1)}var u=q.cache&&q.cache["url:"+g];if(null!=u)u.xCss&&(u=u.cssText),"string"==typeof u?O(["./core/load-css"],function(w){f(w.insertCss(u))}):f();else{if("none"==K("div",n.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return f();O(["./core/load-css"],function(w){w(g,f,k)})}}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),
function(O,K,n,q,p,h,f,g,k){return n("dgrid.OnDemandList",[O,K],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:g.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var u=this;f(this.bodyNode,"scroll",g[this.pagingMethod](function(w){u._processScroll(w)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},
renderQuery:function(u,w){function C(m){k(c,"!");if(m)throw z._refreshDeferred&&(z._refreshDeferred.reject(m),delete z._refreshDeferred),m;}var z=this,r=w&&w.container||this.contentNode,l={query:u,count:0,options:w},d,e=this.preload,a,b={node:k(r,"div.dgrid-preload",{rowIndex:0}),count:0,query:u,next:l,options:w};b.node.style.height="0";l.node=d=k(r,"div.dgrid-preload");l.previous=b;d.rowIndex=this.minRowsPerPage;e?((l.next=e.next)&&d.offsetTop>=e.node.offsetTop?l.previous=e:(l.next=e,l.previous=
e.previous),l.previous.next=l,l.next.previous=l):this.preload=l;var c=k(d,"-div.dgrid-loading");k(c,"div.dgrid-below").innerHTML=this.loadingMessage;w=q.mixin(this.get("queryOptions"),w,{start:0,count:this.minRowsPerPage},"level"in u?{queryLevel:u.level}:null);this._trackError(function(){return a=u(w)});if("undefined"===typeof a)C();else return p.when(z.renderArray(a,d,w),function(m){return p.when("undefined"===typeof a.total?a.length:a.total,function(t){var v=m.length,A=d.parentNode,B=z.noDataNode;
k(c,"!");"queryLevel"in w||(z._total=t);0===t&&A&&(B&&(k(B,"!"),delete z.noDataNode),z.noDataNode=B=k("div.dgrid-no-data"),A.insertBefore(B,z._getFirstRowSibling(A)),B.innerHTML=z.noDataMessage);for(var x=B=0;x<v;x++)B+=z._calcRowHeight(m[x]);v&&B&&(z.rowHeight=B/v);B=z.rowHeight*z.bufferRows;B>z.farOffRemoval&&(z.farOffRemoval=B);t-=v;l.count=t;d.rowIndex=v;t?d.style.height=Math.min(t*z.rowHeight,z.maxEmptySpace)+"px":(d.style.display="none",w.count++);z._previousScrollPosition&&A&&A.offsetHeight&&
(z.scrollTo(z._previousScrollPosition),delete z._previousScrollPosition);z._processScroll();z._refreshDeferred&&(z._refreshDeferred.resolve(a),delete z._refreshDeferred);return m},C)},C),a},refresh:function(u){var w=this,C=u&&u.keepScrollPosition;"undefined"===typeof C&&(C=this.keepScrollPosition);C&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store){C=this._refreshDeferred=new p;var z=w.renderQuery(function(r){return w.store.query(w.query,r)});"undefined"===
typeof z&&C.reject();return C.then(function(r){w._refreshTimeout=setTimeout(function(){f.emit(w.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:w,results:r});w._refreshTimeout=null},0);delete w._refreshDeferred;return r},function(r){delete w._refreshDeferred;throw r;})}},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(u){return u.lastChild},_calcRowHeight:function(u){var w=u.nextSibling;return w&&!/\bdgrid-preload\b/.test(w.className)?
w.offsetTop-u.offsetTop:u.offsetHeight},lastScrollTop:0,_processScroll:function(u){function w(M,J,R,Z){var T=r.farOffRemoval,X=M.node;if(J>2*T){for(var aa,fa=X[R],oa=0,ua=0,ha=[];aa=fa;){var U=r._calcRowHeight(aa);if(oa+U+T>J||0>fa.className.indexOf("dgrid-row")&&0>fa.className.indexOf("dgrid-loading"))break;fa=aa[R];oa+=U;ua+=aa.count||1;r.removeRow(aa,!0);ha.push(aa)}M.count+=ua;Z?(X.rowIndex-=ua,C(M)):X.style.height=X.offsetHeight+oa+"px";var ka=k("div",ha);setTimeout(function(){k(ka,"!")},1)}}
function C(M,J){M.node.style.height=Math.min(M.count*r.rowHeight,J?Infinity:r.maxEmptySpace)+"px"}function z(M,J){do M=J?M.next:M.previous;while(M&&!M.node.offsetWidth);return M}var r=this,l=r.bodyNode;u=u&&u.scrollTop||this.getScrollPosition().y;l=l.offsetHeight+u;var d=r.preload,e=r.lastScrollTop,a=r.bufferRows*r.rowHeight,b=a-r.rowHeight,c,m,t,v=!0;for(r.lastScrollTop=u;d&&!d.node.offsetWidth;)d=d.previous;for(;d&&d!=A;){var A=r.preload;r.preload=d;var B=d.node;var x=B.offsetTop;if(l+1+b<x)d=z(d,
v=!1);else if(u-1-b>x+B.offsetHeight)d=z(d,v=!0);else{var D=((B.rowIndex?u-a:l)-x)/r.rowHeight;x=(l-u+2*a)/r.rowHeight;x+=Math.min(Math.abs(Math.max(Math.min((u-e)*r.rowHeight,r.maxRowsPerPage/2),r.maxRowsPerPage/-2)),10);0==B.rowIndex&&(D-=x);D=Math.max(D,0);10>D&&0<D&&x+D<r.maxRowsPerPage&&(x+=Math.max(0,D),D=0);x=Math.min(Math.max(x,r.minRowsPerPage),r.maxRowsPerPage,d.count);if(0==x)d=z(d,v);else{x=Math.ceil(x);D=Math.min(Math.floor(D),d.count-x);var E=q.mixin(r.get("queryOptions"),d.options);
d.count-=x;var y=B,F=r.queryRowsOverlap,G=(0<B.rowIndex||B.offsetTop>u)&&d;if(G){var H=d.previous;H&&(w(H,u-(H.node.offsetTop+H.node.offsetHeight),"nextSibling"),0<D&&H.node==B.previousSibling?(D=Math.min(d.count,D),d.previous.count+=D,C(d.previous,!0),B.rowIndex+=D,F=0):x+=D,d.count-=D);E.start=B.rowIndex-F;E.count=Math.min(x+F,r.maxRowsPerPage);B.rowIndex=E.start+E.count}else{if(d.next)if(w(d.next,d.next.node.offsetTop-l,"previousSibling",!0),y=B.nextSibling,y==d.next.node)d.next.count+=d.count-
D,d.next.node.rowIndex=D+x,C(d.next),d.count=D,F=0;else var I=!0;E.start=d.count;E.count=Math.min(x+F,r.maxRowsPerPage)}I&&y&&y.offsetWidth&&(I=y.offsetTop);C(d);"level"in d.query&&(E.queryLevel=d.query.level);if("queryLevel"in E||!(E.start>r._total||0>E.count)){B=k(y,"-div.dgrid-loading[style\x3dheight:"+x*r.rowHeight+"px]");k(B,"div.dgrid-"+(G?"below":"above")).innerHTML=r.loadingMessage;B.count=x;var N=d.query(E);if(void 0===r._trackError(function(){return N})){k(B,"!");return}(function(M,J,R,
Z){t=p.when(r.renderArray(Z,M,E),function(T){m=Z;y=M.nextSibling;k(M,"!");if(R&&y&&y.offsetWidth){var X=r.getScrollPosition();r.scrollTo({x:X.x,y:X.y+y.offsetTop-R,preserveMomentum:!0})}p.when(Z.total||Z.length,function(aa){"queryLevel"in E||(r._total=aa);J&&(J.count=aa-J.node.rowIndex,0===J.count&&E.count++,C(J))});r._processScroll();return T},function(T){k(M,"!");throw T;})}).call(this,B,G,I,N);d=d.previous}}}}t&&(c=this._refreshDeferred)&&(delete this._refreshDeferred,p.when(t,function(){c.resolve(m)}))},
removeRow:function(u,w){if(u){var C=u.previousSibling,z=u.nextSibling,r;if(r=C)r=C.observerIndex,r=null!=r?r:C.previousObserverIndex;C=r;if(r=z)r=z.observerIndex,r=null!=r?r:z.nextObserverIndex;z=u.observerIndex;u.observerIndex=void 0;w&&(u.nextObserverIndex=r,u.previousObserverIndex=C);if(this.cleanEmptyObservers&&-1<z&&z!==C&&z!==r&&(C=this.observers,r=C[z])){if(!w)for(var l=r.rows,d=0;d<l.length;d++)if(l[d]!=u&&h.isDescendant(l[d],this.domNode))return this.inherited(arguments);r.cancel();this._numObservers--;
C[z]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(O,K,n,q,p,h,f){function g(u){return u}function k(u){if("object"!==typeof u)u=Error(u);else if("cancel"===u.dojoType)return;u.grid=this;p.emit(this.domNode,"dgrid-error",{grid:this,error:u,cancelable:!0,bubbles:!0})}return K("dgrid._StoreMixin",null,{store:null,query:null,queryOptions:null,getBeforePut:!0,
noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};h.before(this,"configStructure",n.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(u){u.set&&(this._columnsWithSet[u.field]=u);this.inherited(arguments)},
_updateNotifyHandle:function(u){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);u&&"function"===typeof u.notify&&this.shouldObserveStore&&(this._notifyHandle=h.after(u,"notify",n.hitch(this,"_onNotify"),!0),this.get("sort"))},_setStore:function(u,w,C){this._updateNotifyHandle(u);this.store=u;this.dirty={};this.set("query",w,C)},_setQuery:function(u,w){var C=w&&w.sort;this.query=void 0!==u?u:this.query;this.queryOptions=w||this.queryOptions;this._started&&(C?this.set("sort",
C):this.refresh())},setStore:function(u,w,C){O.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",u,w,C)},setQuery:function(u,w){O.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",u,w)},_getQueryOptions:function(){var u=n.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)u.sort=this._sort;return u},_getQuery:function(){var u=this.query;return"object"==typeof u&&null!=u?n.delegate(u,{}):
u},_setSort:function(u,w){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(u,w){this.inherited(arguments);u&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var u=this.inherited(arguments);this.store||(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return u},renderArray:function(){var u=this,w=this.inherited(arguments);this.store||q.when(w,function(C){C.length&&u.noDataNode&&
f(u.noDataNode,"!")});return w},_onEmptyRender:function(){},insertRow:function(u,w,C,z,r){var l=this.store,d=this.dirty;l=l&&l.getIdentity(u);var e;l in d&&!(l in this._updating)&&(e=d[l]);e&&(u=n.delegate(u,e));return this.inherited(arguments)},updateDirty:function(u,w,C){var z=this.dirty,r=z[u];r||(r=z[u]={});r[w]=C},setDirty:function(u,w,C){O.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(u,w,C)},save:function(){function u(b,c){return function(m){var t=w._columnsWithSet,
v=w._updating,A;if("function"===typeof m.set)m.set(c);else for(A in c)m[A]=c[A];for(A in t){var B=t[A].set(m);void 0!==B&&(m[A]=B)}v[b]=!0;return q.when(C.put(m),function(){delete z[b];delete v[b]})}}var w=this,C=this.store,z=this.dirty,r=new q,l=r.promise,d=function(b){var c;return w.getBeforePut||!(c=w.row(b).data)?function(){return C.get(b)}:function(){return c}},e;for(e in z){var a=u(e,z[e]);l=l.then(d(e)).then(a)}r.resolve();return l},revert:function(){this.dirty={};this.refresh()},_trackError:function(u){"string"==
typeof u&&(u=n.hitch(this,u));try{var w=u()}catch(C){k.call(this,C)}return q.when(w,g,n.hitch(this,k))},newRow:function(){var u=this.inherited(arguments);this.noDataNode&&(f(this.noDataNode,"!"),delete this.noDataNode);return u},removeRow:function(u,w){var C={element:u};!w&&this.noDataMessage&&this.up(C).element===u&&this.down(C).element===u&&(this.noDataNode=f(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/mouse dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),
function(O,K,n,q,p,h,f,g,k,u){function w(a,b){for(var c=a.unselectable=b?"on":"",m=a.getElementsByTagName("*"),t=m.length;--t;)"INPUT"!==m[t].tagName&&"TEXTAREA"!==m[t].tagName&&(m[t].unselectable=c)}function C(a,b){var c=a.bodyNode,m=b?"text":21>p("ff")?"-moz-none":"none";r&&"msUserSelect"!==r?c.style[r]=m:p("dom-selectstart")?b||a._selectstartHandle?b&&a._selectstartHandle&&(a._selectstartHandle.remove(),delete a._selectstartHandle):a._selectstartHandle=q(c,"selectstart",function(t){var v=t.target&&
t.target.tagName;"INPUT"!==v&&"TEXTAREA"!==v&&t.preventDefault()}):(w(c,!b),b||a._unselectableHandle)?b&&a._unselectableHandle&&(a._unselectableHandle.remove(),delete a._unselectableHandle):a._unselectableHandle=f.after(a,"renderRow",function(t){w(t,!0);return t})}p.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});p.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});p.add("css-user-select",function(a,b,c){a=c.style;
b=["Khtml","O","ms","Moz","Webkit"];c=b.length;var m="userSelect";do if("undefined"!==typeof a[m])return m;while(c--&&(m=b[c]+"UserSelect"));return!1});p.add("dom-selectstart","undefined"!==typeof document.onselectstart);var z=p("mac")?"metaKey":"ctrlKey",r=p("css-user-select"),l=(g=p("pointer"))&&"MS"===g.slice(0,2),d=g?g+(l?"Down":"down"):"mousedown",e=g?g+(l?"Up":"up"):"mouseup";"WebkitUserSelect"===r&&"undefined"!==typeof document.documentElement.style.msUserSelect&&(r=!1);return K("dgrid.Selection",
null,{selectionDelegate:".dgrid-row",selectionEvents:d+","+e+",dgrid-cellfocusin",selectionTouchEvents:p("touch")?k.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);
this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(a){O.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");
this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?C(this,a):C(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(!h.isRight(a)&&this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&("dgrid-cellfocusin"!==a.type||"mousedown"!==a.parentType)&&(a.type!==e||b==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===d&&this.isSelected(b))this._waitForMouseUp=
b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,b){var c=a.keyCode?a.ctrlKey:a[z];this._lastSelected===b?this.select(b,null,!c||!this.isSelected(b)):(this.clearSelection(),this.select(b),this._lastSelected=b)},_multipleSelectionHandler:function(a,b){var c=this._lastSelected,m=a.keyCode?a.ctrlKey:a[z];if(!a.shiftKey){var t=m?null:!0;c=null}this.select(b,c,t);c||(this._lastSelected=b)},_extendedSelectionHandler:function(a,b){if(a[z]||
!this.isSelected(b)||1!==this.getSelectedCount())(2===a.button?this.isSelected(b):a.keyCode?a.ctrlKey:a[z])||this.clearSelection(null,!0),this._multipleSelectionHandler(a,b)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var a=this,b=this.contentNode,c=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};p("touch")&&!p("pointer")&&this.selectionTouchEvents?(q(b,k.selector(c,this.selectionTouchEvents),function(m){a._handleSelect(m,
this);a._ignoreMouseSelect=this}),q(b,q.selector(c,this.selectionEvents),function(m){a._ignoreMouseSelect!==this?a._handleSelect(m,this):m.type===e&&(a._ignoreMouseSelect=null)})):q(b,q.selector(c,this.selectionEvents),function(m){a._handleSelect(m,this)});this.addKeyHandler&&this.addKeyHandler(32,function(m){a._handleSelect(m,m.target)});if(this.allowSelectAll)this.on("keydown",function(m){m[z]&&65==m.keyCode&&!/\bdgrid-input\b/.test(m.target.className)&&(m.preventDefault(),a[a.allSelected?"clearSelection":
"selectAll"]())});this._setStore&&f.after(this,"_setStore",function(){a._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function a(v,A,B){v=A||v&&v[b.idProperty||"id"];if(null!=v&&(A=(v=b.row(v))&&b.selection[v.id]))b[B](v,null,A)}var b=this,c=this.store;this._removeDeselectSignals&&this._removeDeselectSignals();if(c&&c.notify){var m=f.before(c,"notify",function(v,A){v||a(v,A,"deselect")});var t=f.after(c,"notify",function(v,A){a(v,A,"select")},!0);
this._removeDeselectSignals=function(){m.remove();t.remove()}}else m=f.before(this,"removeRow",function(v,A){var B;A||(B=this.row(v))&&B.id in this.selection&&this.deselect(B)}),this._removeDeselectSignals=function(){m.remove()}},allowSelect:function(a){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],c=this._selectionTriggerEvent;var m={bubbles:!0,grid:this};c&&(m.parentType=c.type);m[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];q.emit(this.contentNode,
"dgrid-"+a,m)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a)){var m=this.selection;var t=!!m[a.id];null===c&&(c=!t);var v=a.element;c||this.allSelected?m[a.id]=c:delete this.selection[a.id];v&&(c?u(v,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):u(v,"!dgrid-selected!ui-state-active"));c!==t&&v&&this._selectionEventQueues[(c?
"":"de")+"select"].push(a);if(b)if(b.element||(b=this.row(b)),b){if(b=b.element)for(m=this._determineSelectionDirection(v,b),m||(b=document.getElementById(b.id),m=this._determineSelectionDirection(v,b));a.element!=b&&(a=this[m](a));)this._select(a,null,c)}else this._lastSelected=v}},_determineSelectionDirection:p("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":
"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},getSelectedCount:function(){var a=
0,b;for(b in this.selection)b&&(a+=1);return a},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this,b=this.inherited(arguments);n.when(b,function(c){var m=a.selection,t,v;for(t=0;t<c.length;t++){var A=
a.row(c[t]);(v=A.id in m?m[A.id]:a.allSelected)&&a._select(A,null,v)}a._fireSelectionEvents()});return b}})})},"dgrid/editor":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/dom-class dojo/on dojo/aspect dojo/has dojo/query dojo/when ./Grid put-selector/put dojo/_base/sniff".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C){function z(E,y){E.value=y;if("radio"==E.type||"checkbox"==E.type)E.checked=E.defaultChecked=!!y}function r(E,y){if("number"==typeof y)E=
isNaN(E)?E:parseFloat(E);else if("boolean"==typeof y)E="true"==E?!0:"false"==E?!1:E;else if(y instanceof Date){var F=new Date(E);E=isNaN(F.getTime())?E:F}return E}function l(E,y){return"function"==typeof y.get?r(y.get("value")):r(y["checkbox"==y.type||"radio"==y.type?"checked":"value"])}function d(E,y,F,G,H){if((F&&F.valueOf())!=(G&&G.valueOf())){var I=y.element;var N=y.row;var M=y.column;if(M.field&&N)if(y={grid:E,cell:y,rowId:N.id,oldValue:F,value:G,bubbles:!0,cancelable:!0},H&&H.type&&(y.parentType=
H.type),h.emit(I,"dgrid-datachange",y))E.updateDirty?(E.updateDirty(N.id,M.field,G),M.autoSave&&setTimeout(function(){E._trackError("save")},0)):N.data[M.field]=G;else{var J;(J=I.widget)?(J._dgridIgnoreChange=!0,J.set("value",F),setTimeout(function(){J._dgridIgnoreChange=!1},0)):(J=I.input)&&z(J,F);return F}}return G}function e(E,y,F){var G=E.cell(y.domNode||y),H=G.column,I;var N=E._activeCell;if(!y.isValid||y.isValid())if(F=d(E,G,N?E._activeValue:y._dgridLastValue,l(H,y),F),N?E._activeValue=F:y._dgridLastValue=
F,"radio"===y.type&&y.name&&!H.editOn&&H.field)for(I in N=E.row(y),k("input[type\x3dradio][name\x3d"+y.name+"]",E.contentNode).forEach(function(M){var J=E.row(M);M!==y&&M._dgridLastValue&&(M._dgridLastValue=!1,E.updateDirty?E.updateDirty(J.id,H.field,!1):J.data[H.field]=!1)}),E.dirty)N.id!==I&&E.dirty[I][H.field]&&E.updateDirty(I,H.field,!1)}function a(E){var y=E.parentNode||E.domNode&&E.domNode.parentNode;y&&p.contains(y,D)||(y=E.focusNode||E.domNode||E);return y}function b(E){if(E){var y=E.parentNode||
E.domNode&&E.domNode.parentNode;y&&p.contains(y,D)||(y=E.domNode||E);return y}}function c(E,y){isNaN(y)&&(y=isNaN(E.tabIndex)?-1:E.tabIndex);return C("div",{className:D,tabIndex:y},E)}function m(E){var y=E.editor,F=E.editOn,G=E.grid,H="string"!=typeof y;var I=E.editorArgs||{};"function"==typeof I&&(I=I.call(G,E));if(H){var N=new y(I);H=N.focusNode||N.domNode;H.className+=" dgrid-input";g("mac")&&F&&/checkbox|radio/i.test(H.type)?(E=c(N.domNode,E.tabIndex),h(E,"blur",function(){N._dgridIgnoreChange||
e(G,N,{type:"widget"})})):F||N.connect(N,"onChange",function(){N._dgridIgnoreChange||e(G,N,{type:"widget"})})}else{var M=function(J){var R=J.target;"_dgridLastValue"in R&&-1<R.className.indexOf("dgrid-input")&&e(G,R,J)};E.grid._hasInputListener||(G._hasInputListener=!0,G.on("change",function(J){M(J)}));N=H=C(("textarea"==y?"textarea":"input[type\x3d"+y+"]")+".dgrid-input",K.mixin({name:E.field,tabIndex:isNaN(E.tabIndex)?-1:E.tabIndex},I));g("mac")&&F&&/checkbox|radio/i.test(y)&&(E=c(N),N.tabIndex=
0,N.removeAttribute("tabindex"));if(9>g("ie")||g("ie")&&g("quirks"))"radio"==y||"checkbox"==y?h(N,"click",function(J){M(J)}):h(N,"change",function(J){M(J)})}return N}function t(E,y){function F(){var R=H._activeCell;M.blur();"function"===typeof H.focus&&setTimeout(function(){H.focus(R)},I&&9>g("ie")?15:0)}var G=m(E),H=E.grid,I=G.domNode,N=b(G),M=a(G),J=I?function(){G.set("value",G._dgridLastValue)}:function(){z(G,G._dgridLastValue);e(E.grid,G)};h(M,"keydown",function(R){R=R.keyCode||R.which;27==R?
(J(),H._activeValue=G._dgridLastValue,F()):13==R&&!1!==E.dismissOnEnter&&F()});(E._editorBlurHandle=h.pausable(a(G),"blur",function(R){if(!G.dropDown||!G.dropDown.domNode.contains(R.relatedTarget||document.activeElement)){if(R&&R.target){var Z=R.target;if((Z=p.contains(Z,D)&&Z)&&R.relatedTarget===(G.focusNode||G)){Z.focus();return}}e(H,G,{type:"widget"});R=N.parentNode;Z=R.children.length-1;var T={alreadyHooked:!0},X=H.cell(N);h.emit(X.element,"dgrid-editor-hide",{grid:H,cell:X,column:E,editor:G,
bubbles:!0,cancelable:!1});E._editorBlurHandle.pause();R.removeChild(N);if(X.row){for(C(X.element,"!dgrid-cell-editing");Z--;)C(R.firstChild,"!");w.appendIfNode(R,E.renderCell(E.grid.row(R).data,H._activeValue,R,H._activeOptions?K.delegate(T,H._activeOptions):T))}H._focusedEditorCell=H._activeCell=H._activeValue=H._activeOptions=null}})).pause();return G}function v(E,y,F,G){var H=E.domNode;H||z(E,G);F.innerHTML="";C(F,".dgrid-cell-editing");C(F,b(E));H&&!y.editOn?y.grid._editorsPendingStartup.push([E,
y,F,G]):A(E,y,F,G)}function A(E,y,F,G){var H=y.grid;E.domNode&&(E._started||E.startup(),E._dgridIgnoreChange=!0,E.set("value",G),setTimeout(function(){E._dgridIgnoreChange=!1},0));E._dgridLastValue=G;H._activeCell&&(H._activeValue=G,h.emit(F,"dgrid-editor-show",{grid:H,cell:H.cell(F),column:y,editor:E,bubbles:!0,cancelable:!1}))}function B(E){for(var y=E._editorsPendingStartup,F=y.length;F--;)A.apply(null,y[F]);E._editorsPendingStartup=[]}function x(E){function y(Z){H.grid._activeCell=N;v(H.editorInstance,
H,N,J);H._editTimer=setTimeout(function(){var T=a(G);T.focus&&T.focus();H._editorBlurHandle&&H._editorBlurHandle.resume();H._editTimer=null;Z.resolve(G)},0)}var F,G;E.column||(E=this.cell(E));if(!E||!E.element)return null;var H=E.column;var I=H.field;var N=E.element.contents||E.element;if(G=H.editorInstance){if(H.grid._activeCell!=N){var M=E.row;var J=(F=this.dirty&&this.dirty[M.id])&&I in F?F[I]:H.get?H.get(M.data):M.data[I];if(!H.canEdit||H.canEdit(E.row.data,J)){var R=new q;E=a(G);E.offsetWidth?
(E.blur(),setTimeout(function(){y(R)},0)):y(R);return R.promise}}}else if(H.editor&&(G=N.widget||N.input))return R=new q,G.focus&&G.focus(),R.resolve(G),R.promise;return null}var D="dgrid-editor-focus-wrapper";K.getObject("dgrid.editor",!0);return dgrid.editor=function(E,y,F){function G(M){var J=M.grid,R;if(!J.edit){J.edit=x;J._editorsPendingStartup=[];I.push(h(J.domNode,".dgrid-input:focusin",function(){J._focusedEditorCell=J.cell(this)}));var Z=J._editorFocusoutHandle=h.pausable(J.domNode,".dgrid-input:focusout",
function(T){J._focusedEditorCell&&J._focusedEditorCell.element.contains(T.target)||(J._focusedEditorCell=null)});I.push(Z);I.push(f.before(J,"removeRow",function(T){var X=J._focusedEditorCell;T=J.row(T);X&&T&&X.row.id===T.id&&(R=X,Z.pause(),setTimeout(function(){Z.resume();R=null},0))}));I.push(f.after(J,"insertRow",function(T){var X=J.row(T);R&&R.row.id===X.id&&J.edit(J.cell(X,R.column.id));return T}));I.push(f.after(J,"renderArray",function(T){u(T,function(X){X.length?B(J):J._editorsPendingStartup=
[]});return T}));I.push(f.after(J,"_onNotification",function(){B(J)}))}}var H=E.renderCell||w.defaultRenderCell,I=[];E||(E={});E.editor=y=y||E.editor||"text";E.editOn=F=F||E.editOn;var N="string"!=typeof y;E.widgetArgs&&(O.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4"),E.editorArgs=E.widgetArgs);f.after(E,"init",F?function(){G(E);E.editorInstance=t(E,H)}:function(){var M=E.grid;G(E);N&&I.push(f.before(M,"removeRow",function(J){if(J=(J=M.cell(J,E.id).element)&&(J.contents||
J).widget)M._editorFocusoutHandle.pause(),J.destroyRecursive(),M._editorFocusoutHandle.resume()}))});f.after(E,"destroy",function(){n.forEach(I,function(M){M.remove()});E._editorBlurHandle&&E._editorBlurHandle.remove();E._editTimer&&clearTimeout(E._editTimer);F&&N&&E.editorInstance.destroyRecursive();E.grid.edit=null;E.grid._editorsPendingStartup=null});E.renderCell=F?function(M,J,R,Z){var T=E.grid;Z&&Z.alreadyHooked||h("TD"==R.tagName?R:R.parentNode,F,function(){T._activeOptions=Z;T.edit(this)});
return H.call(E,M,J,R,Z)}:function(M,J,R,Z){if(!E.canEdit||E.canEdit(M,J))M=m(E),v(M,E,R,J),R[N?"widget":"input"]=M;else return H.call(E,M,J,R,Z)};return E}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(O,K,n,q){O=function(p){function h(w,C){var z=p[w];z&&(p[w]=function(r){var l;"put"===w&&(l=p.getIdentity(r));if(u)return z.apply(this,arguments);u=!0;try{var d=z.apply(this,arguments);n(d,function(e){C("object"==typeof e&&e||r,
l)});return d}finally{u=!1}})}var f=[],g=0;p=K.delegate(p);p.notify=function(w,C){g++;for(var z=f.slice(),r=0,l=z.length;r<l;r++)z[r](w,C)};var k=p.query;p.query=function(w,C){C=C||{};var z=k.apply(this,arguments);if(z&&z.forEach){var r=K.mixin({},C);delete r.start;delete r.count;var l=p.queryEngine&&p.queryEngine(w,r),d=g,e=[],a;z.observe=function(b,c){1==e.push(b)&&f.push(a=function(t,v){n(z,function(A){var B=A.length!=C.count,x;if(++d!=g)throw Error("Query is out of date, you must observe() the query prior to any data modifications");
var D=-1,E=-1;if(void 0!==v){var y=[].concat(A);l&&!t&&(y=l(A));var F=0;for(x=A.length;F<x;F++){var G=A[F];if(p.getIdentity(G)==v&&!(0>y.indexOf(G))){var H=G;D=F;!l&&t||A.splice(F,1);break}}}l?t&&(l.matches?l.matches(t):l([t]).length)&&(F=-1<D?D:A.length,A.splice(F,0,t),E=q.indexOf(l(A),t),A.splice(F,1),C.start&&0==E||!B&&E==A.length?E=-1:A.splice(E,0,t)):t&&(void 0!==v?E=D:C.start||(E=p.defaultIndex||0,A.splice(E,0,t)));if((-1<D||-1<E)&&(c||!l||D!=E))for(B=e.slice(),F=0;A=B[F];F++)A(t||H,D,E)})});
var m={};m.remove=m.cancel=function(){var t=q.indexOf(e,b);-1<t&&(e.splice(t,1),e.length||f.splice(q.indexOf(f,a),1))};return m}}return z};var u;h("put",function(w,C){p.notify(w,C)});h("add",function(w){p.notify(w)});h("remove",function(w){p.notify(void 0,w)});return p};K.setObject("dojo.store.Observable",O);return O})},"arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/kernel dojo/_base/array dojo/dom-form dojo/io-query dojo/json dojo/Deferred dojo/promise/all esri/lang arcgisonline/esriGeowConfig arcgisonline/pages/utils/categories arcgisonline/sharing/util esri/geometry/webMercatorUtils esri/geometry/Extent arcgisonline/sharing/dijit/Role arcgisonline/pages/statusUtil dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){return{addItem:function(b,c,m,t){var v=m&&m.getPortalUser(),A=c&&"/"!==c?c:"",B=b instanceof FormData,x={url:(m&&m.portalUrl)+"content/users/"+(t||v.username)+(A?"/"+A:"")+"/addItem"};c=b&&("FORM"===b.tagName||"FORM"===b.nodeName||B)?"form":"content";var D,E,y,F=new g;x[c]=b;w.self.hasCategorySchema&&x[c].categories&&(B?x[c].categories.value=f.stringify(x[c].categories):x[c].categories=f.stringify(x[c].categories));z.request(x,{usePost:!0}).then(K.hitch(this,
function(G){if(B)if(b.keys)for(y=b.keys(),D={};!(E=y.next()).done;)"file"!==E.value&&(D[E.value]=b.get(E.value));else D=G;else D=x.form?p.toObject(b):b;D.title=K.isArray(D.title)?D.title[0]:D.title;D=K.mixin(G,D,{folderId:A});F.resolve(D)}),function(G){F.reject(G)});return F},updateItem:function(b,c){var m=c&&c.getPortalUser();m=(c&&c.portalUrl)+"content/users/"+(b.owner||m.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/update";var t=K.mixin({},b),v=new g;delete t.owner;
w.self.hasCategorySchema&&t.categories&&(t.categories=f.stringify(t.categories));z.request({url:m,content:t},{usePost:!0}).then(K.hitch(this,function(A){v.resolve(b)}),function(A){v.reject(A)});return v},setCategories:function(b,c){!b.categories||c&&0!==c.length||(c=b.categories);return C.setItemCategories([b.id],c)},addItemResource:function(b,c,m){var t=c&&c.getPortalUser();return z.request({url:(c&&c.portalUrl)+"content/users/"+(b.owner||t.username)+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:
"")+"/items/"+b.id+"/addResources",content:m},{usePost:!0}).then(K.hitch(this,function(v){return v}))},getCloudProviderItemResource:function(b){return z.request({url:w.restBaseUrl+"content/items/"+b.id+"/resources/cloudProvider.json"}).then(K.hitch(this,function(c){return c}))},getPublishParametersForOverwrite:function(b,c){var m=new g;this._fetchPublishParameters(b,c).then(K.hitch(this,function(t){this._fetchServiceInfo(b).then(K.hitch(this,function(v){var A="";"CSV"==c?(A=K.mixin(K.mixin({},v.layers&&
v.layers[0]),{fields:t.layerInfo.fields}),A=K.mixin(t,{layerInfo:A,name:t.name||b.title.replace(/ /g,"_")})):A="Microsoft Excel"==c?this._generateExcelOverwritePublishParameters(t,v):{name:b.title?b.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};A=v?K.mixin(A,v):A;m.resolve(A)}),K.hitch(this,function(v){m.reject(v)}))}),K.hitch(this,function(t){m.reject(t)}));return m},_fetchPublishParameters:function(b,c){var m=w.restBaseUrl+"content/items/"+b.id+"/info/publishParameters.json";!c||"CSV"!==
c&&"Microsoft Excel"!==c?(m=new g,m.resolve(!1)):m=z.request({url:m}).then(K.hitch(this,function(t){return t}));return m},_fetchServiceInfo:function(b){b=b.url;var c={addToken:(z.isHostedService(b)||z.isAgolService(b))&&!1!==w.isMultiTenant},m=new g,t;k([z.request({url:b},c),z.request({url:b+"/layers"},c)]).then(K.hitch(this,function(v){var A={},B=v&&1<v.length&&v[1],x=B&&B.layers;B=B&&B.tables;x&&x.length&&(q.forEach(x,function(D){delete D.fields}),A.layers=x);B&&B.length&&(A.tables=B);t=K.mixin(v[0],
A);m.resolve(t)}));return m},_generateExcelOverwritePublishParameters:function(b,c){c.name=b.name;c.sourceSR=b.sourceSR;c.targetSR=b.targetSR;for(var m=0;m<c.tables.length;m++)"Review"!=c.tables[m].name&&(c.layers[c.layers.length]=c.tables[m]);for(m=0;m<c.layers.length;m++)c.layers[m].excelSheetId=b.layers[m].excelSheetId,c.layers[m].locationType=b.layers[m].locationType,c.layers[m].latitudeFieldName=b.layers[m].latitudeFieldName,c.layers[m].longitudeFieldName=b.layers[m].longitudeFieldName,c.layers[m].geocodeServiceUrl=
b.layers[m].geocodeServiceUrl,c.layers[m].sourceLocale=b.layers[m].sourceLocale,c.layers[m].sourceCountry=b.layers[m].sourceCountry,c.layers[m].standardizedFieldNames=b.layers[m].standardizedFieldNames,c.layers[m].addressFields=b.layers[m].addressFields;return c},deleteItem:function(b,c){var m=(c&&c.getPortalUser()).userContentUrl+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/delete";return z.request({url:m},{usePost:!0})},publishItem:function(b,c,m){var t=(m&&m.getPortalUser()).username;
m=(m&&m.portalUrl)+"content/users/"+t+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/publish";var v=new g;c.publishParameters=f.stringify(c.publishParameters);z.request({url:m,content:c},{usePost:!0}).then(K.hitch(this,function(A){if(w.self.hasCategorySchema&&b.categories){var B=[];(A.services||[]).forEach(function(x){B.push(this.setCategories({id:x.id,categories:b.categories}))},this);k(B).then(K.hitch(this,function(){v.resolve(K.mixin(b,{publishResult:A.services||[]}))}))}else v.resolve(K.mixin(b,
{publishResult:A.services||[]}))}),function(A){v.reject(A)});return v},createService:function(b,c,m,t){var v=new g,A,B=t&&t.getPortalUser();z.request({url:(t&&t.portalUrl)+"content/users/"+(b.owner||B.username)+"/createService",content:c},{usePost:!0}).then(function(x){return A=x}).then(K.hitch(this,this.addToDefinition,m)).then(K.hitch(this,function(x){v.resolve(K.mixin(b,{createResult:x||[]}))}),K.hitch(this,function(x){this.deleteItem(K.mixin(A,{id:A.itemId}),t).then(function(){v.reject(x)})}));
return v},addToDefinition:function(b,c){var m=new g;if(b){var t=c.encodedServiceURL.replace("rest/services","rest/admin/services");z.request({url:t+"/addToDefinition",content:{addToDefinition:b,async:!0}},{usePost:!0}).then(function(v){return e.checkAsyncJobStatus(v.statusURL)}.bind(this),function(v){m.reject(v)}.bind(this)).then(K.hitch(this,function(v){m.resolve(K.mixin(c,{addToDefinitionResult:v}))}),function(v){m.reject(v)})}else m.resolve(c);return m},moveItem:function(b,c,m){var t=new g,v=m&&
m.getPortalUser();v=b.owner||v.username;m=(m&&m.portalUrl)+"content/users/"+v+(b.folderId&&"/"!==b.folderId?"/"+b.folderId:"")+"/items/"+b.id+"/move";v={folder:c&&c!==v?c:"/"};(b.folderId||"/")!==v.folder?z.request({url:m,content:v},{usePost:!0}).then(K.hitch(this,function(A){t.resolve(K.mixin(b,{folderId:c}))})):t.resolve(b);return t},serviceNameAvailable:function(b,c){var m=c&&c.getPortalUser(),t={name:b.title.replace(/ /g,"_"),type:b.type||"Feature Service"};return z.request({url:c.url+"portals/"+
m.orgId+"/isServiceNameAvailable",content:t})},analyzeItem:function(b,c,m){c=K.mixin({enableGlobalGeocoding:!0,sourceLocale:n.locale.split("-")[0]},c||{});b=K.mixin({},{analyzeParameters:c,filetype:b.fileType||b.type&&b.type.toLowerCase()||"",itemid:b.id});m=m.url+"/content/features/analyze";b.analyzeParameters=f.stringify(b.analyzeParameters);return z.request({url:m,content:b},{usePost:!0})},createTemplatedApplication:function(b,c,m,t){var v=b,A=t&&t.sharing?t.sharing:{},B=t&&t.isEveryoneChecked?
t:null,x=K.isArray(c.typeKeywords)?-1<q.indexOf(c.typeKeywords,"selfConfigured"):-1<c.typeKeywords.indexOf("selfConfigured"),D=K.isArray(c.typeKeywords)?-1<q.indexOf(c.typeKeywords,"configurableApp"):-1<c.typeKeywords.indexOf("configurableApp");t=K.isArray(c.typeKeywords)?-1<q.indexOf(c.typeKeywords,"Web AppBuilder for ArcGIS"):-1<c.typeKeywords.indexOf("Web AppBuilder for ArcGIS");var E,y=K.hitch(this,function(G){var H=new g;if(G.shareWithWebMap){var I=w.restBaseUrl+"content/items/"+G.id+"/share",
N="public"===A.access||B&&B.isEveryoneChecked()||!1,M="org"===A.access||B&&B.isAccountChecked()||!1,J=A.groups||B&&B.getSharedGroups()||[];J=q.map(J,"return item.id;");N={f:"json",everyone:N,org:M,groups:J.join(","),items:[G.id]};w.self.hasCategorySchema&&N.categories&&(N.categories=f.stringify(N.categories));z.request({url:I,content:N},{usePost:!0}).then(K.hitch(this,function(){H.resolve(G)}))}else H.resolve(G);return H});if(v&&t)return b=new g,v.folderId&&"/"!==v.folderId&&(v.folder=v.folderId),
t=window.location.protocol+"//"+window.location.host+z.getHomeAppContext()+"/apps/webappbuilder/index.html?",t+=h.objectToQuery({title:v.title,tags:v.tags,summary:v.description,folder:v.folder,categories:v.categories&&v.categories.length?f.stringify(v.categories):void 0}),b.resolve(K.mixin(v,{configureUrl:t})),b;if(v){t=z.parseUrl(c.url);delete b.typeKeywords;var F=window.location.protocol+"//"+t.host+(t.port&&"443"!==t.port&&"80"!==t.port?":"+t.port:"")+t.path;F="https:"===window.location.protocol?
z.getSecureUrl(F):z.getHttpUrl(F);v=K.mixin({type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, JavaScript, Ready To Use"+(x?" ,selfConfigured":"")+(D?", configurableApp":""),thumbnailURL:z.getStaticImagesUrl()+"/webapp.png",url:F},v);v.text=f.stringify(K.mixin({},{source:c.id,folderId:v.folderId,values:b.webSceneId?{webscene:b.webSceneId}:b.webMapId?{webmap:b.webMapId}:b.groupId?{group:b.groupId}:{}}));return this.addItem(v,v.folderId,m).then(K.hitch(this,function(G){return y(K.mixin(v,
{id:G.id})).then(K.hitch(this,function(H){var I=H.url.indexOf("?"),N=-1!==I?H.url.substr(I,H.url.length):"";N+=N&&N.length?"\x26":"?";N+="appid\x3d"+G.id;F=H.url.substr(0,-1!==I?I:H.url.length)+N;return this.updateItem({id:G.id,url:F,folderId:H.folderId},m).then(K.hitch(this,function(){return x?(E=x?F+"\x26edit\x3dtrue":w.baseUrl+("webmap/configureApp.html?appid\x3d"+G.id),E+=G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:"",K.mixin(H,G,{configureUrl:E,url:F})):D?(E=window.location.protocol+
"//"+window.location.host+z.getHomeAppContext()+"/apps/configure-template/index.html?appid\x3d"+G.id,K.mixin(H,G,{configureUrl:E,url:F})):z.request({url:w.restBaseUrl+"content/items/"+c.id+"/data"}).then(K.hitch(this,function(M){E=M&&M.configurationSettings?w.baseUrl+"webmap/configureApp.html?appid\x3d"+G.id+(G.folderId&&"/"!==G.folderId?"\x26folderid\x3d"+G.folderId:""):w.baseUrl+"item.html?id\x3d"+G.id;return K.mixin(H,G,{configureUrl:E,url:F})}))}))}))}),K.hitch(this,function(G){G&&409===G.code&&
(G=v,G={title:a.addItemFrm.errors.error.title,message:u.substitute({type:G.type,title:G.title},a.addItemFrm.errors.itemExists.message)});throw G;}))}},checkStatus:function(b,c,m,t){var v=(t&&t.getPortalUser()).userContentUrl;b?z.request({url:v+"/items/"+b.id+"/status",content:{jobId:b.jobId}}).then(K.hitch(this,function(A){A=A||{status:"failed"};if("completed"===A.status)return c.resolve(b);if("failed"===A.status||""===A.status)return A=e.getStatusError(A),c.reject({message:A});m=(m||500)+250;setTimeout(K.hitch(this,
function(){this.checkStatus(b,c,m,t)}),m)}),K.hitch(this,function(A){c.reject(A)})):c.reject()},_getBatchGeocodeServers:function(b){if(!this._batchGeocoderServers){var c=b.getPortalUser(),m=-1<q.indexOf(c.privileges,"portal:user:createItem")&&-1<q.indexOf(c.privileges,"premium:user:geocode"),t=/(arcgis.com\/arcgis\/rest\/services\/world\/geocodeserver).*/ig,v=/(\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/ig,A,B,x=[];q.forEach(b.helperServices&&b.helperServices.geocode||[],function(D){A=
!!D.url.match(t);B=!!D.url.match(v);(A&&!b.isPortal&&m||B||D.batch)&&x.push({isWorldGeocodeServer:A||B,isWorldGeocodeServerProxy:B,label:D.name,value:D.url,url:D.url,name:D.name})});this._batchGeocoderServers=x}return this._batchGeocoderServers},getPortalDefaultExtentAsGCS:function(b){if(b=b.defaultExtent||null){b=r.webMercatorToGeographic(new l(b));var c=b.spatialReference._getInfo();if(c){if(b.xmin>b.xmax){var m=c.valid[1]-b.xmin,t=b.xmax-c.valid[0];m>t?b.xmax=c.valid[1]+t:b.xmin=c.valid[0]-m}return Math.round(1E4*
b.xmin)/1E4+","+Math.round(1E4*b.ymin)/1E4+","+Math.round(1E4*b.xmax)/1E4+","+Math.round(1E4*b.ymax)/1E4}}return null},itemExists:function(b,c,m){var t=b.title;m=m&&"/"!==m?m:"root";var v="Data Store"===b.type?b.type.toLowerCase():b.type;c={q:'title:"'+t+'" AND type:"'+v+'" AND owner:"'+c+'" AND ownerfolder:"'+m+'"',num:1};var A,B=new dojo.Deferred;z.request({url:w.restBaseUrl+"search",content:c}).then(function(x){x&&x.total?(A=x.results&&x.results.shift(),b&&b.id===A.id||t!==A.title?B.resolve({itemExists:!1}):
(x=b.isFile?u.substitute({type:b.fileExtension,item:b.item,name:b.name||b.title,title:b.title},a.addItemFrm.errors.itemExistsFile.message):u.substitute({type:v,item:b.item,title:t},a.addItemFrm.errors.itemExists.message),B.resolve({itemExists:!0,message:x}))):B.resolve({itemExists:!1})}.bind(this));return B},noSQLCheck:function(b,c){return b.connectionUri===c.noSQLConnectionURI&&b.database===c.noSQLDataBase&&b.username===c.noSQLUsername},getAllNoSQLDatastorePromises:function(b){var c=new g,m=[];z.request({url:w.restBaseUrl+
"search?q\x3dtype%3A'Data+Store'\x26bbox\x3d\x26sortField\x3d\x26sortOrder\x3d"}).then(function(t){if(t&&t.total){var v=[];t.results.forEach(function(A){A.typeKeywords.includes("nosql")&&v.push(A)});0!==v.length&&v.forEach(function(A){m.push(function(){var B=new g;z.request({url:w.restBaseUrl+"content/items/"+A.id+"/data"}).then(function(x){this.noSQLCheck(x.info.connectionProperties,b)?B.resolve({itemExists:!0}):B.resolve({itemExists:!1})}.bind(this));return B}.call(this))}.bind(this))}c.resolve({allPromises:m})}.bind(this));
return c},checkForDuplicateNoSQL:function(b){var c=new g;this.getAllNoSQLDatastorePromises(b).then(function(m){k(m.allPromises).then(function(t){var v;0!==t.length?(t.forEach(function(A){!0===A.itemExists&&(v=!0)}),v?c.resolve({itemExists:!0}):c.resolve({itemExists:!1})):c.resolve({itemExists:!1})})}.bind(this));return c},hasCreateLayer:function(b){var c={managed:!0},m=b&&(b.user||b.getPortalUser&&b.getPortalUser()),t=new d({portalUser:m}),v,A,B,x,D;if(b.isPortal&&m&&(t.isBasedOnAdmin()||t.isBasedOnPublisher()))return b.getFederatedServers().then(K.hitch(this,
function(E){(A=(v=q.filter(E.servers||[],K.hitch(this,function(y){return y.isHosted})))&&v.length?v[0]:null)?(B=A.adminUrl+"/admin/data/findItems",D=z.request({url:B,content:c},{useProxy:!0}).then(K.hitch(this,function(y){return(x=q.filter(y.items||y||[],K.hitch(this,function(F){return F&&F.provider&&"arcgis data store"===F.provider.toLowerCase()})))&&x.length?!0:!1}),K.hitch(this,function(y){return!1}))):(D=new g,D.resolve(!1));return D}));b=new g;b.resolve(!0);return b}}})},"arcgisonline/pages/statusUtil":function(){define("require exports tslib dojo/Deferred dojo/on dojo/json dojo/topic esri/lang esri/urlUtils ./pageUtil ./utils/arrays ./utils/polling esri/tasks/Geoprocessor ../sharing/util dojo/i18n!../nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);return function(){function d(){}d.checkStatus=function(e){var a=new q["default"],b=this.getJobUrl(e),c=this.getJobId(e),m=r["default"].isPortal(),t="Scene Service"===e.type,v=m&&t&&!this.isSceneFromFeatures(e);
e.canUpdate&&e.isHostedService&&!e.isUtilityNetwork&&("Feature Service"===e.type||(m||b&&c)&&"Image Service"===e.type||t||"Vector Tile Service"===e.type||m&&"Map Service"===e.type)?(e.set("status","processing"),b&&c?this.checkJobStatus(e,500):t&&!v||!(c||"Feature Service"===e.type&&(this.isFeaturesFromPackage(e)||this.isFeaturesFromExcel(e))||"Map Service"===e.type&&!this.isTileFromFeatures(e)||"Vector Tile Service"===e.type&&e.sourceData&&!this.isVectorTileFromFeatures(e))?m||this.isVectorTileFromFeatures(e)?
e.set("status","completed"):this.checkServiceStatus(e,500,a):"Vector Tile Service"===e.type&&e.sourceData&&this.isVectorTileFromPackage(e)||"Feature Service"===e.type&&this.isFeaturesFromExcel(e)?this.checkItemStatusCallSupport(e,500,a):(e.set("firstStatus",!0),this.checkItemStatus(e,500,a))):e.set("status","completed");a.resolve(e);return a};d.checkItemStatusCallSupport=function(e,a,b){var c=this;this.supportsItemStatusCall(e).then(function(m){m?(e.set("firstStatus",!0),c.checkItemStatus(e,a,b)):
c.checkServiceStatus(e,a,b)})};d.supportsItemStatusCall=function(e){return r["default"].request({url:e.userItemUrl+"/status",content:{jobId:e.jobId}}).then(function(a){var b;return"item status doesn't exist"===(null===(b=null===a||void 0===a?void 0:a.statusMessage)||void 0===b?void 0:b.toLowerCase())?!1:!0},function(){return!1})};d.isFeaturesFromPackage=function(e){var a,b=null===(a=e.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===e.type&&0<(null===b||void 0===b?void 0:b.indexOf("Package"))};
d.isFeaturesFromExcel=function(e){var a,b=null===(a=e.sourceData)||void 0===a?void 0:a.type;return"Feature Service"===e.type&&"Microsoft Excel"===b};d.isTileFromFeatures=function(e){var a;return"Map Service"===e.type&&"Feature Service"===(null===(a=e.sourceData)||void 0===a?void 0:a.type)};d.isSceneFromFeatures=function(e){var a;return"Scene Service"===e.type&&"Feature Service"===(null===(a=e.sourceData)||void 0===a?void 0:a.type)};d.isVectorTileFromFeatures=function(e){var a;return"Vector Tile Service"===
e.type&&"Feature Service"===(null===(a=e.sourceData)||void 0===a?void 0:a.type)};d.isVectorTileFromPackage=function(e){var a,b;return"Vector Tile Service"===e.type&&0<(null===(b=null===(a=e.sourceData)||void 0===a?void 0:a.type)||void 0===b?void 0:b.indexOf("Package"))};d.getJobId=function(e){var a=k["default"].urlToObject(document.URL),b=e.properties||{};e.jobId=e.jobId||b.jobId||a&&a.query&&a.query.jobid||null;return e.jobId};d.getJobUrl=function(e){var a=(e.properties&&e.properties.jobUrl||"").split("/jobs/");
e.jobUrl=a.shift();e.jobId=e.jobUrl?a.shift():null;return e.jobUrl};d.checkItemStatus=function(e,a,b){var c=this,m;void 0===a&&(a=500);var t=e.portal.isPortal,v=e.userItemUrl+"/status",A={jobId:e.jobId};"image service"===(null===(m=e.type)||void 0===m?void 0:m.toLowerCase())&&(A.jobType="publishImageService");r["default"].request({url:v,content:A}).then(function(B){B=B||{status:"failed"};var x=t&&"failed"===B.status&&-1<B.statusMessage.toLowerCase().indexOf("job not found.");"completed"===B.status||
x?e.set({firstStatus:void 0,status:"completed",readyForGeocodeReview:!0,readyToRetrieveServiceLayers:!0}):"failed"===B.status||400<B.code||""===B.status?(e.set("statusError",c.getStatusError(B)),e.set("status","failed")):(e.set("status","processing"),B.jobInfo.jobId&&(e.set("jobId",B.jobInfo.jobId),e.firstStatus?e.set({firstStatus:!1,status:"completed"}):e.set("status","processing")),a+=250,setTimeout(function(){return c.checkItemStatus(e,a,b)},a))},function(B){e.set("statusError",c.getStatusError(B));
e.set("status","failed")})};d.checkServiceStatus=function(e,a,b){var c=this;void 0===a&&(a=500);var m=e.adminUrl+"/status",t={};if("Scene Service"===e.type||"Vector Tile Service"===e.type)m=e.adminUrl;e.adminServerToken&&(t.token=e.adminServerToken);r["default"].request({url:m,content:t},{useProxy:r["default"].shouldUseProxy(m)}).then(function(v){var A,B;v.status=(null===(A=v.realTimeState)||void 0===A?void 0:A.toLowerCase())||(null===(B=v.status)||void 0===B?void 0:B.toLowerCase())||(v.currentVersion&&
v.capabilities?"started":"failed");if("Scene Service"===e.type||"Vector Tile Service"===e.type)v.status="PROCESSING"===v.cacheExecutionStatus||"SUBMITTED"===v.cacheExecutionStatus?"processing":"started";"started"===v.status?e.set({status:"completed",readyForGeocodeReview:!0}):"failed"===v.status||400<v.code||""===v.status?(e.set("statusError",c.getStatusError(v)),e.set("status","failed")):(e.set("status","processing"),a+=250,setTimeout(function(){return c.checkServiceStatus(e,a,b)},a))},function(v){e.set("statusErrorCode",
null===v||void 0===v?void 0:v.code);e.set("statusError",c.getStatusError(v));e.set("status","failed")})};d.checkVectorTileServiceJobStatus=function(e,a,b){var c=this;void 0===a&&(a=500);void 0===b&&(b=0);var m=new q["default"];if("Vector Tile Service"===e.type){var t=e.adminUrl,v={},A=null!==b&&void 0!==b?b:0;e.adminServerToken&&(v.token=e.adminServerToken);r["default"].request({url:t,content:v},{useProxy:r["default"].shouldUseProxy(t)}).then(function(B){B.code?10<A?(e.set("statusErrorCode",null===
B||void 0===B?void 0:B.code),e.set("statusError",c.getStatusError(B)),e.set("status","failed"),m.resolve(B)):(a+=1E3,setTimeout(function(){c.checkVectorTileServiceJobStatus(e,a,A+1)},a)):(B.status="PROCESSING"===B.cacheExecutionStatus||"SUBMITTED"===B.cacheExecutionStatus?"processing":"started","started"===B.status?(e.set("status","completed"),m.resolve(B)):"failed"===B.status||400<B.code||""===B.status?(e.set("statusError",c.getStatusError(B)),e.set("status","failed"),m.resolve(B)):(e.set("status",
"processing"),a+=1E3,setTimeout(function(){return c.checkVectorTileServiceJobStatus(e,a)},a)))},function(B){10<A?(e.set("statusErrorCode",null===B||void 0===B?void 0:B.code),e.set("statusError",c.getStatusError(B)),e.set("status","failed"),m.resolve(B)):(a+=1E3,setTimeout(function(){c.checkVectorTileServiceJobStatus(e,a,A+1)},a))})}else m.resolve();return m};d.checkJobStatus=function(e,a){var b=this,c;void 0===a&&(a=3E3);var m=null===(c=(e.portal.getPortalUser()||{}).credential)||void 0===c?void 0:
c.token,t=e.jobId;c=e.jobUrl;var v=e.properties;if(v&&"processing"===v.jobStatus){e.set("status","processing");var A=new z["default"](c+(m?"?token\x3d"+m:""));p["default"](A,"status-update",function(x){"esriJobExecuting"!==x.jobInfo.jobStatus?(e.set("status","completed"),B&&clearInterval(B)):e.set("status","processing")});p["default"](A,"error",function(x){var D;x=x.error||x;(null===(D=null===x||void 0===x?void 0:x.message)||void 0===D?0:D.indexOf("not found."))?(e.set("status","completed"),v&&(v.jobId&&
delete v.jobId,v.jobUrl&&delete v.jobUrl,v.jobStatus&&delete v.jobStatus,v.jobType&&delete v.jobType,e.set("properties",v))):(e.set("statusError",b.getStatusError(x)),e.set("status","failed"));B&&clearInterval(B)});var B=setInterval(function(){return A.checkJobStatus(t)},a)}else e.set("status","completed")};d.checkSceneCachingJobStatus=function(e,a,b,c){var m=this;void 0===a&&(a=3E3);var t=r["default"].isPortal(),v=!(!e.portalUser||!e.portalUser.isOrgAdmin),A=e.cachingJobUrl||e.properties&&e.properties.cacheJobUrl,
B=t?["esriJobSucceeded","esriJobFailed","esriJobCancelled"]:["Completed","Failed"],x=t?"esriJobFailed":"Failed",D=t?"jobStatus":"status",E=t?A:e.adminUrl+"/"+A;t&&v&&(E=E.replace("/rest/","/admin/").replace("/SceneCachingControllers/GPServer/","/SceneCachingControllers.GPServer/"),D="status");var y=t?{useProxy:r["default"].shouldUseProxy(E)}:{};if(A)var F=setInterval(function(){r["default"].request({url:E},y).then(function(G){c&&f["default"].publish(c,G);w["default"].includes(B,G[D])?(G[D]===x&&(e.set("status",
"failed"),b&&b.reject(G)),clearInterval(F),e.set("cachingJobUrl",void 0),e.set("status","completed"),b&&b.resolve(G)):e.set("status","processing")},function(G){var H;(null===(H=null===G||void 0===G?void 0:G.message)||void 0===H?0:H.indexOf("not found."))?(e.set("cachingJobUrl",void 0),e.set("status","completed"),b&&b.resolve()):(e.set("statusError",m.getStatusError(G)),e.set("status","failed"),b&&b.reject(G))})},a);else e.set("cachingJobUrl",void 0),e.set("status","completed"),b&&b.resolve({})};d.getStatusError=
function(e){var a=(null===e||void 0===e?void 0:e.statusMessage)||l["default"].addItemFrm.errors.publishError.message;return a?u["default"].isJson(a)?h["default"].parse(a):a:e};d.checkAsyncJobStatus=function(e,a){var b=new q["default"],c=0,m,t=function(){r["default"].request({url:e},a).then(function(v){v=v||{status:"Failed"};m=v.status||v.jobStatus;m=g["default"].isDefined(m)?m.toLowerCase():m;w["default"].includes(["esrijobsucceeded","completed"],m)?b.resolve(v):w["default"].includes(["esrijobfailed",
"failed"],m)||400<v.code?b.reject(v):setTimeout(t,C["default"].asyncIntervalTimerFunction(c++))},function(v){b.reject(v)})};setTimeout(t,C["default"].asyncIntervalTimerFunction(c++));return b};d.checkAsyncJobStatusWithVaryingInterval=function(e,a){var b=new q["default"],c=0,m,t=function(){setTimeout(function(){c++;r["default"].request({url:e}).then(function(v){v=v||{status:"Failed"};m=v.status||v.jobStatus;m=g["default"].isDefined(m)?m.toLowerCase():m;w["default"].includes(["esrijobsucceeded","completed"],
m)?b.resolve(v):w["default"].includes(["esrijobfailed","failed"],m)||400<v.code?b.reject(v):t()},function(v){return b.reject(v)})},a(c))};t();return b};d.getEndTime=function(e){var a=r["default"].isPortal();if(((null===e||void 0===e?0:e.startTime)||(null===e||void 0===e?0:e.submittedTime))&&((null===e||void 0===e?0:e.totalTime)||(null===e||void 0===e?0:e.duration))){var b=(a?e.submittedTime:e.startTime)||0;b=a?b:1E3*b;e=a?g["default"].isDefined(e.duration)?e.duration:void 0:g["default"].isDefined(e.totalTime)?
1E3*e.totalTime:void 0;return b+e}if(a&&e.jobStatus&&e.messages&&(e=w["default"].find(e.messages||[],function(m){return"esriJobMessageTypeInformative"===m.type&&0===m.description.indexOf("Succeeded at ")})))try{b=e.description.indexOf(" (Elapsed Time: ");var c=e.description.substring(14,b).trim();return(new Date(c)).getTime()}catch(m){}};return d}()})},"arcgisonline/pages/utils/polling":function(){define(["require","exports"],function(O,K){function n(q){return 1E3*K.ASYNC_POLLING_INTERVALS[-1<q&&
q<K.ASYNC_POLLING_INTERVALS.length-1?q:K.ASYNC_POLLING_INTERVALS.length-1]}Object.defineProperty(K,"__esModule",{value:!0});K.asyncIntervalTimerFunction=K.ASYNC_POLLING_INTERVALS=void 0;K.ASYNC_POLLING_INTERVALS=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];K.asyncIntervalTimerFunction=n;K["default"]={ASYNC_POLLING_INTERVALS:K.ASYNC_POLLING_INTERVALS,asyncIntervalTimerFunction:n}})},"arcgisonline/sharing/utilShare":function(){define("require exports tslib ../esriGeowConfig ./util ./dijit/dialog/ShareCheckDlg ./dijit/dialog/ConfirmDialog ./geow/Community dojo/promise/all dojo/Deferred dojo/string esri/lang esri/request dojo/i18n!../nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(){}l.isEmpty=function(d){return d?JSON.stringify(d)===JSON.stringify({}):!1};l.checkWebMapContent=function(d){var e=this,a=function(b){var c={};c.webMapId=b.webMapId;c.mainItemCard=
b.webMapItemCard;delete c.mainItemCard.needsUpdate;c.mainItemSharing=b.webMapItemSharing;c.mainConfig=b.webMapConfig;c.itemCards=b.itemCards||{};for(var m in c.itemCards)delete c.itemCards[m].needsUpdate;c.itemsSharing={};c.newAccess=b.newAccess;c.needUpdateHandler=b.needUpdateHandler;c.dontNeedUpdateHandler=b.dontNeedUpdateHandler;c.confirmItemControl=b.confirmItemControl;e.getMainItemCard(c)};d.useTimer?(this.waitHandler&&clearTimeout(this.waitHandler),this.waitHandler=setTimeout(function(){e.waitHandler=
null;a(d)},2E3)):a(d)};l.checkWebAppContent=function(d){var e={};e.webAppId=d.webAppId;e.mainItemCard=d.webAppItemCard;e.mainItemSharing=d.webAppItemSharing;e.mainConfig=d.webAppConfig;e.itemCards=d.itemCards||{};e.itemsSharing={};this.getMainItemCard(e)};l.getMainItemCard=function(d){var e=this,a=function(b){b.newAccess?(b.mainItemSharing=b.newAccess,e.getMainConfig(b)):"private"!==b.mainItemCard.access&&("shared"===b.mainItemCard.access?e.getMainSharingInfo(b):e.getMainConfig(b))};d.mainItemCard?
a(d):p["default"].request({url:q["default"].restBaseUrl+"content/items/"+(d.webMapId||d.webAppId)}).then(function(b){d.mainItemCard=b;a(d);return!0},function(b){return b})};l.getMainSharingInfo=function(d){var e=this;if(d.mainItemSharing)this.getMainConfig(d);else{var a=p["default"].getUser();a=q["default"].restBaseUrl+"content/users/"+a.username;d.mainItemCard.ownerFolder&&(a+="/"+d.mainItemCard.ownerFolder);a+="/items/"+(d.webMapId||d.webAppId);var b=p["default"].getToken();z["default"]({url:a+
(b?"?f\x3djson\x26token\x3d"+b:"?f\x3djson"),callbackParamName:"callback",load:function(c){d.mainItemSharing=c.sharing;e.getMainConfig(d)},error:function(c){e.getMainConfig(d)}},{disableIdentityLookup:!0})}};l.getMainConfig=function(d){var e=this;if(d.mainConfig)d.webMapId?this.readWebMapConfig(d):this.readWebAppConfig(d);else return p["default"].request({url:q["default"].restBaseUrl+"content/items/"+(d.webMapId||d.webAppId)+"/data"}).then(function(a){d.mainConfig=a;d.webMapId?e.readWebMapConfig(d):
e.readWebAppConfig(d)},function(a){})};l.checkForItemSharing=function(d){var e=this;if(d.newAccess&&"shared"!==d.newAccess.access||!d.newAccess&&"shared"!==d.mainItemCard.access)this.checkAccessOfItems(d);else{var a=[],b;for(b in d.itemCards){var c=d.itemCards[b];"shared"!==c.access&&"org"!==c.access||!c.ownerFolder&&null!==c.ownerFolder||a.push(this.getItemSharingInfo(c))}a.length?k["default"](a).then(function(m){m.forEach(function(t){t=t.length?t[1]:t;d.itemsSharing[t.item.id]=t.sharing});e.checkAccessOfItems(d)}):
this.checkAccessOfItems(d)}};l.checkAccessOfItems=function(d){var e=this,a=p["default"].getUser(),b=d.newAccess?d.newAccess.access:d.mainItemCard.access,c=[],m;for(m in d.itemCards){var t=d.itemCards[m];"shared"===b&&"public"!==t.access&&d.mainItemSharing&&void 0!==t.ownerFolder&&a.username!==t.owner&&c.push(this.getOwnerGroups(t,d))}c.length?k["default"](c).then(function(v){e._checkAccessOfItems(d)}):this._checkAccessOfItems(d)};l._checkAccessOfItems=function(d){var e=this,a=!1,b=d.newAccess?d.newAccess.access:
d.mainItemCard.access,c=[],m;for(m in d.itemCards){var t=d.itemCards[m],v=t.access,A=!1;d.containsPremiumContent=this.isPremiumContent(t);if("public"===b&&"public"!==v)A=!0;else if("org"===b&&"public"!==v&&"org"!==v)A=!0;else if("shared"===b&&"private"===v)A=!0;else if("shared"!==b||"shared"!==v&&"org"!==v)"Web Map"!==t.type&&"Web Scene"!==t.type?delete d.itemCards[m]:d.itemCards[m].needsUpdate=!1;else if(d.mainItemSharing)if(d.itemsSharing[m]&&void 0!==t.ownerFolder){v=d.mainItemSharing.groups;for(var B=
d.itemsSharing[m].groups,x=!1,D=0;D<v.length;D++)if(-1===B.indexOf(v[D])){x=A=!0;break}x||delete d.itemCards[m]}else A=!0;else A=!0;(A&&d.webAppId||"Web Map"===t.type||"Web Scene"===t.type)&&c.push(this.checkWebMapInWebApp(t.id,d));a=a||A}var E=function(y,F){var G=F.newAccess?F.newAccess.access:F.mainItemCard.access;y?F.needUpdateHandler?F.needUpdateHandler(F):h["default"].prototype.statics.getInstance().show(F):"public"===G&&"Web Map"===F.mainItemCard.type&&F.containsPremiumContent?e.showPremiumContentDlg(F):
F.dontNeedUpdateHandler&&F.dontNeedUpdateHandler(F)};c.length?k["default"](c).then(function(y){y.forEach(function(F){1<F.length&&C["default"].isDefined(F.length?F[1]:F)&&(a=a||F.length?F[1]:F)});E(a,d)}):this.isEmpty(d.itemCards)?d.dontNeedUpdateHandler&&d.dontNeedUpdateHandler(d):E(a,d)};l.isPremiumContent=function(d){d=d.typeKeywords||[];return-1<d.indexOf("Requires Subscription")||-1<d.indexOf("Requires Credits")};l.showPremiumContentDlg=function(d){var e=this;-1<document.location.href.indexOf("viewer.html")||
(d=""+q["default"].helpBase+q["default"].helpMap["120001307"],this.premiumContentDlg||(this.premiumContentDlg=new f["default"]({showCancel:!1,buttonOk:r["default"].common.ok,style:{width:"200px"}}),this.premiumContentDlg.show({message:w["default"].substitute('${i18n.shareMapDlg.premiumLayerMsg} \x3ca href\x3d"${helpLinkPremium}" target\x3d"_blank"\x3e${i18n.shareMapDlg.premiumLayerMsgLearnMore}\x3c/a\x3e',{i18n:r["default"],helpLinkPremium:d}),title:r["default"].common.premiumcontent}).then(function(a){e.premiumContentDlg.hide();
e.premiumContentDlg=null})))};l.readWebMapConfig=function(d){var e=this,a,b,c=!1,m=[],t=d.mainConfig.operationalLayers;d.mainConfig.tables&&d.mainConfig.tables.length&&(t=t.concat(d.mainConfig.tables));for(var v=t.length-1;0<=v;v--){var A=t[v];if(A.itemId)c=!0,d.itemCards[A.itemId]||m.push(this.getItemCard(A.itemId)),("ArcGISTiledMapServiceLayer"===A.layerType||"ArcGISTiledElevationServiceLayer"===A.layerType||"ArcGISSceneServiceLayer"===A.layerType)&&(null===(a=A.layers)||void 0===a?0:a.length)&&
A.layers.forEach(function(E){E.layerItemId&&!d.itemCards[E.layerItemId]&&m.push(e.getItemCard(E.layerItemId))});else if("GroupLayer"===A.layerType)for(var B=t[v],x=B.layers.length-1;0<=x;x--){var D=B.layers[x];D.itemId&&(c=!0,d.itemCards[D.itemId]||m.push(this.getItemCard(D.itemId)))}A.layers&&A.layers.forEach(function(E){E.layerItemId&&!d.itemCards[E.layerItemId]&&m.push(e.getItemCard(E.layerItemId))})}for(v=d.mainConfig.baseMap.baseMapLayers.length-1;0<=v;v--)a=d.mainConfig.baseMap.baseMapLayers[v],
a.itemId&&(c=!0,d.itemCards[a.itemId]||m.push(this.getItemCard(a.itemId)));if(d.mainConfig.baseMap.elevationLayers)for(v=d.mainConfig.baseMap.elevationLayers.length-1;0<=v;v--)a=d.mainConfig.baseMap.elevationLayers[v],a.itemId&&(c=!0,d.itemCards[a.itemId]||m.push(this.getItemCard(a.itemId)));m.length?k["default"](m).then(function(E){E.forEach(function(G){G=G.length?G[1]:G;G.id&&(d.itemCards[G.id]=G)});var y=[],F=[];E.forEach(function(G){G=G.length?G[1]:G;G.id&&("Map Service"===G.type||"Scene Service"===
G.type)&&-1<G.typeKeywords.indexOf("Hosted Service")&&!d.itemCards[G.id].data&&(y.push(e.getItemData(G.id)),F.push(G.id))});y.length?k["default"](y).then(function(G){G.forEach(function(H,I){var N=d.itemCards[F[I]];N.data=H.length?H[1]:H;var M=[];N.data.layers&&N.data.layers.forEach(function(J){J.layerItemId&&(d.itemCards[J.layerItemId]||M.push(e.getItemCard(J.layerItemId)))});M.length?k["default"](M).then(function(J){J.forEach(function(R){R=R.length?R[1]:R;R.id&&(d.itemCards[R.id]=R)});e.checkForItemSharing(d)},
function(J){e.checkForItemSharing(d)}):e.checkForItemSharing(d)},e)},function(G){e.checkForItemSharing(d)}):e.checkForItemSharing(d)},function(E){e.checkForItemSharing(d)}):c?this.checkForItemSharing(d):null===(b=d.dontNeedUpdateHandler)||void 0===b?void 0:b.call(d,d)};l.readWebAppConfig=function(d){var e=this;if(d.mainConfig.values&&d.mainConfig.values.webmap||d.mainConfig.map&&d.mainConfig.map.itemId||d.mainConfig.values&&d.mainConfig.values.webscene){var a=[];d.mainConfig&&(d.mainConfig.values?
d.mainConfig.values.webscene?a=d.mainConfig.values.webscene.split(","):d.mainConfig.values.webmap&&(a=d.mainConfig.values.webmap.split(",")):a=d.mainConfig.map&&d.mainConfig.map.itemId?[d.mainConfig.map.itemId]:[]);var b=[];a.forEach(function(c){d.itemCards[c]||b.push(e.getItemCard(c))});b.length?k["default"](b).then(function(c){c.forEach(function(m){m=m.length?m[1]:m;d.itemCards[m.id]=m});e.checkForItemSharing(d)}):this.checkForItemSharing(d)}};l.checkWebMapInWebApp=function(d,e){var a=new u["default"],
b={access:e.mainItemCard.access};e.mainItemSharing&&e.mainItemSharing.groups&&(b.groups=e.mainItemSharing.groups);this.checkWebMapContent({webMapId:d,webMapItemCard:e.itemCards[d],newAccess:b,needUpdateHandler:function(c){e.itemCards[d].webMapInfo=c;a.resolve(!0)},dontNeedUpdateHandler:function(c){a.resolve(!1)}});return a};l.getItemCard=function(d,e){var a=this;e=e||new u["default"];if("inProgress"===this.itemCards[d])setTimeout(function(){a.getItemCard(d,e)},1E3);else if(this.itemCards[d])delete this.itemCards[d].needsUpdate,
e.resolve(this.itemCards[d]);else{this.itemCards[d]="inProgress";var b=q["default"].restBaseUrl+"content/items/"+d,c=p["default"].getToken();z["default"]({url:b+(c?"?f\x3djson\x26token\x3d"+c:"?f\x3djson"),callbackParamName:"callback",load:function(m){a.itemCards[d]=m;e.resolve(m)},error:function(m){delete a.itemCards[d];e.reject(m)}},{disableIdentityLookup:!0})}return e};l.getItemData=function(d,e){var a=this,b;e=e||new u["default"];if(this.itemCards[d]&&"inProgress"===this.itemCards[d].data)setTimeout(function(){a.getItemData(d,
e)},1E3);else if(null===(b=this.itemCards[d])||void 0===b?0:b.data)e.resolve(this.itemCards[d].data);else{this.itemCards[d].data="inProgress";b=q["default"].restBaseUrl+"content/items/"+d+"/data";var c=p["default"].getToken();z["default"]({url:b+(c?"?f\x3djson\x26token\x3d"+c:"?f\x3djson"),callbackParamName:"callback",load:function(m){a.itemCards[d].data=m;e.resolve(m)},error:function(m){delete a.itemCards[d].data;e.reject(m)}},{disableIdentityLookup:!0})}return e};l.getItemSharingInfo=function(d){var e=
q["default"].restBaseUrl+"content/users/"+d.owner;d.ownerFolder&&(e+="/"+d.ownerFolder);e+="/items/"+d.id;d=p["default"].getToken();return z["default"]({url:e+(d?"?f\x3djson\x26token\x3d"+d:"?f\x3djson"),callbackParamName:"callback"},{disableIdentityLookup:!0})};l.getOwnerGroups=function(d,e){var a=this,b=new u["default"];this.ownerGroups[d.owner]?b.resolve():g["default"].getProfile(d.owner,function(c){c=(c.groups||[]).map(function(m){return m.id});a.ownerGroups[d.owner]=c;b.resolve()},function(){b.resolve()});
return b};l.itemCards=[];l.ownerGroups=[];return l}()})},"arcgisonline/sharing/dijit/dialog/ShareCheckDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/sharing/util"],function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog.ShareCheckDlg");O.require("dijit.Dialog");O.require("dijit._Widget");O.require("dijit._Templated");O.require("arcgisonline.sharing.util");O.declare("arcgisonline.sharing.dijit.dialog.ShareCheckDlg",[K._Widget,
K._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" id\x3d"shareCheck-dialog" title\x3d"${i18n.shareChecksDlgTitle}" execute\x3d""\x3e\r\n    \x3cstyle type\x3d"text/css"\x3e\r\n      .esri .dojoxGridHeader .dojoxGridCellFocus, .esri .dojoxGridHeader .dojoxGridCell {\r\n        border-bottom: 1px solid #CCC;\r\n      }\r\n    \x3c/style\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckTopMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojotype\x3d"dijit.layout.BorderContainer" design\x3d"headline" gutters\x3d"false" style\x3d"width:100%; height:120px; margin:20px 0 10px 0;"\x3e\r\n      \x3cdiv dojoType\x3d"dijit.layout.ContentPane" dojoAttachPoint\x3d"shareCheckGrid" region\x3d"top" style\x3d"height:118px;"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cspan dojoAttachPoint\x3d"shareCheckBottomMsg"\x3e\x3c/span\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"editableLayerDiv" style\x3d"clear:both; display:none; background-color:rgba(240, 201, 206, 1); border:2px solid rgb(255, 0, 0); margin-top:10px; padding:8px;"\x3e\r\n      \x3cspan dojoAttachPoint\x3d"editableLayerMsg"\x3e\x3c/span\x3e\r\n      \x3ca dojoAttachPoint\x3d"editableLayerHelpLink" href\x3d"JavaScript:void(0);" dojoAttachEvent\x3d"onClick:onLearnHowClick"\x3e\x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing clearfix leader-1" style\x3d"padding-top:5px; padding-bottom:5px;"\x3e\r\n      \x3cbutton dojoAttachEvent\x3d"onClick:onCancelClick" dojoAttachPoint\x3d"exitButton" class\x3d"jevent cancel btn-two right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridUpdateButton" dojoAttachEvent\x3d"onClick:onUpdateClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button"\x3e\r\n        ${i18n.UpdateSharingBtn}\r\n      \x3c/button\x3e\r\n      \x3cbutton dojoAttachPoint\x3d"shareGridOkButton" dojoAttachEvent\x3d"onClick:onCancelClick" class\x3d"jevent primary right" dojoType\x3d"dijit.form.Button" style\x3d"display:none;"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
grid:null,gridId:"shareCheckGridNode",oneLayerMissingDataCollection:!1,oneLayerNotMissingDataCollection:!1,oneLayerNotEditable:!1,statics:{_instance:null,getInstance:function(){this._instance&&K.byId("shareCheckGridNode")&&K.byId("shareCheckGridNode").destroy();null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.ShareCheckDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common;
O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline","arcgisonline").myOrganization.creditsTab);O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline","arcgisonline").shareCheckDlg)},show:function(q){var p=O.hitch(this,function(z,r,l){var d=!1,e=!1;if(("public"===z||"org"===z)&&void 0!==l.ownerFolder)return{userCanUpdate:!0,hasItemWithKnownGroupDetails:d,unknownGroupDetails:e};if("shared"===z)if(void 0!==l.ownerFolder){d=!0;z=this.info.itemsSharing[g]?this.info.itemsSharing[g].groups:[];l=arcgisonline.sharing.utilShare.ownerGroups[l.owner];
for(var a=0;a<r.length;a++)if(-1===O.indexOf(z,r[a])&&(!esri.isDefined(l)||esri.isDefined(l)&&-1<O.indexOf(l,r[a])))return{userCanUpdate:!0,hasItemWithKnownGroupDetails:d,unknownGroupDetails:e}}else e=!0;return{userCanUpdate:!1,hasItemWithKnownGroupDetails:d,unknownGroupDetails:e}});this.info=q;q=!1;var h=this.info.mainItemCard.access,f="Web Scene"===this.info.mainItemCard.type,g;for(g in this.info.itemCards){var k=this.info.itemCards[g],u=this.info.mainItemSharing?this.info.mainItemSharing.groups:
[];if(!1===k.needsUpdate){if(k.webMapInfo){for(var w in k.webMapInfo.itemCards){var C=p(h,u,k.webMapInfo.itemCards[w]);q=C.userCanUpdate;0-C.unknownGroupDetails;if(q)break}if(q)break}}else if(C=p(h,u,k),q=C.userCanUpdate,0-C.unknownGroupDetails,q)break}q?(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML=this.info.webMapId?f?this.i18n.textBottomWebScene:this.i18n.textBottomWebmap:this.i18n.textBottomWebapp,
O.style(this.exitButton.domNode,"display",""),O.style(this.shareGridUpdateButton.domNode,"display",""),O.style(this.shareGridOkButton.domNode,"display","none")):(this.shareCheckTopMsg.innerHTML=this.info.webMapId?f?this.i18n.textTopWebScene:this.i18n.textTopWebmap:this.i18n.textTopWebapp,this.shareCheckBottomMsg.innerHTML="",O.style(this.exitButton.domNode,"display","none"),O.style(this.shareGridUpdateButton.domNode,"display","none"),O.style(this.shareGridOkButton.domNode,"display",""));this.oneLayerMissingDataCollection=
this.oneLayerNotMissingDataCollection=this.oneLayerNotEditable=!1;this.editableLayerMsg.innerHTML="";O.style(this.editableLayerDiv,"display","none");this.checkEditableLayers();K.byId("shareCheck-dialog").show()},displayLayers:function(){var q=O.create("table",{border:"1",style:"width: 100%; height: 100%"},this.shareCheckItemsDiv),p=O.create("tbody",{},q);p=O.create("tr",{},p);O.create("span",{innerHTML:this.i18n.titleItem},O.create("td",{},p));O.create("span",{innerHTML:this.i18n.titleOwner},O.create("td",
{},p));for(var h in this.info.itemCards){var f=this.info.itemCards[h];p=O.create("tr",{},q);O.create("span",{innerHTML:f.title},O.create("td",{},p));O.create("span",{innerHTML:f.owner},O.create("td",{},p))}},checkEditableLayers:function(){var q=function(k,u){for(var w in k){var C=k[w];C&&!1!==C.needsUpdate&&"Feature Service"===C.type&&("admin"===C.itemControl||"update"===C.itemControl)&&-1<O.indexOf(C.typeKeywords,"Hosted Service")&&(u.push(arcgisonline.sharing.util.getJson(C.url+"/layers")),p.push(C))}};
if("public"===this.info.mainItemCard.access){var p=[],h=[];q(this.info.itemCards,h);for(var f in this.info.itemCards){var g=this.info.itemCards[f];g.webMapInfo&&q(g.webMapInfo.itemCards,h)}h.length?(new O.DeferredList(h)).addCallback(O.hitch(this,function(k){O.forEach(k,function(u,w){if(u[1].layers&&u[1].layers.length&&u[1].layers[0]&&-1<u[1].layers[0].capabilities.indexOf("Editing")){var C=p[w];C.isEditable=!0;this.editableLayerMsg.innerHTML="* "+this.i18n.layerIsEditable+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+
(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e";O.style(this.editableLayerDiv,"display","");-1===O.indexOf(C.typeKeywords,"Public Data Collection")?(this.oneLayerMissingDataCollection=!0,C.missingDataCollection=!0):this.oneLayerNotMissingDataCollection=!0}else this.oneLayerNotEditable=!0},this);this.oneLayerMissingDataCollection&&(this.editableLayerMsg.innerHTML=this.oneLayerNotMissingDataCollection?"* "+this.i18n.usePublicDataCollection+
"\x3c/br\x3e** "+this.i18n.layerIsEditable+"\x3c/br\x3e\x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e":"* "+this.i18n.usePublicDataCollection+" \x3cspan class\x3d'esriItemLinks' style\x3d'outline:none;'\x3e\x3cA href\x3d'"+(esriGeowConfig.helpBase+esriGeowConfig.helpMap["120001293"])+"' target\x3d'_blank'\x3e"+this.i18n.learnHow+"\x3c/a\x3e\x3c/span\x3e",
O.style(this.editableLayerDiv,"display",""),this.oneLayerNotMissingDataCollection||this.oneLayerNotEditable||(this.shareCheckBottomMsg.innerHTML="",O.style(this.exitButton.domNode,"display","none"),O.style(this.shareGridUpdateButton.domNode,"display","none"),O.style(this.shareGridOkButton.domNode,"display","")));this.createGrid()})):this.createGrid()}else this.createGrid()},createGrid:function(){var q=[[{name:this.i18n.titleLayer,field:"name",width:"320px"},{name:this.i18n.titleOwner,field:"owner",
width:"320px"}]],p=[],h;for(h in this.info.itemCards){var f=this.info.itemCards[h];if(!1!==f.needsUpdate){var g=f.isEditable&&"public"===this.info.mainItemCard.access,k=f.missingDataCollection,u="";if("admin"===f.itemControl||"update"===f.itemControl)if(this.oneLayerMissingDataCollection&&this.oneLayerNotMissingDataCollection)u=k?" *":" **";else if(this.oneLayerMissingDataCollection||this.oneLayerNotMissingDataCollection)if(k||g)u=" *";p.push({id:f.id,name:f.title+u,owner:f.owner})}if(f.webMapInfo)for(var w in f.webMapInfo.itemCards)u=
f.webMapInfo.itemCards[w],g=u.isEditable&&"public"===this.info.mainItemCard.access,k=u.missingDataCollection,p.push({id:u.id,name:u.title+(this.oneLayerMissingDataCollection&&k||!this.oneLayerMissingDataCollection&&g?" *":""),owner:u.owner})}this.memory=new O.store.Memory({data:p,idProperty:"id"});this.store=new O.data.ObjectStore({objectStore:this.memory});this.grid=new n.grid.DataGrid({store:this.store,structure:q,id:this.gridId,style:{border:"1px #CCC solid"},selectionMode:"none"},O.create("div",
null,this.shareCheckGrid.domNode));this.grid.startup();K.byId("shareCheck-dialog").resize();esri.isTouchEnabled&&(this.gridScrollBox=this.grid.views.views[0].scrollboxNode,esri.setScrollable(this.gridScrollBox))},updateSharing:function(){var q=this.info.mainItemCard.access,p=[];if("public"===q||"org"===q)for(var h in this.info.itemCards){if(q=this.info.itemCards[h],void 0===q.ownerFolder||!1===q.needsUpdate||q.missingDataCollection||p.push(this.shareItemByID(q)),q.webMapInfo)for(var f in q.webMapInfo.itemCards){var g=
q.webMapInfo.itemCards[f];void 0===g.ownerFolder||q.missingDataCollection||p.push(this.shareItemByID(g))}}else{var k=this.info.mainItemSharing?this.info.mainItemSharing.groups:[];p=[];for(h in this.info.itemCards){q=this.info.itemCards[h];if(void 0!==q.ownerFolder&&!1!==q.needsUpdate){var u="",w="",C=this.info.itemsSharing[h]?this.info.itemsSharing[h].groups:[],z=arcgisonline.sharing.utilShare.ownerGroups[q.owner];O.forEach(k,function(r){-1===O.indexOf(C,r)&&(!esri.isDefined(z)||esri.isDefined(z)&&
-1<O.indexOf(z,r))&&(u+=w+r,w=",")},this);u.length&&p.push(this.shareItemByID(q,u))}if(q.webMapInfo)for(f in q.webMapInfo.itemCards)g=q.webMapInfo.itemCards[f],void 0!==g.ownerFolder&&(w=u="",C=q.webMapInfo.itemsSharing[f]?q.webMapInfo.itemsSharing[f].groups:[],z=arcgisonline.sharing.utilShare.ownerGroups[g.owner],O.forEach(k,function(r){-1===O.indexOf(C,r)&&(!esri.isDefined(z)||esri.isDefined(z)&&-1<O.indexOf(z,r))&&(u+=w+r,w=",")},this),u.length&&p.push(this.shareItemByID(g,u)))}}p.length?(new O.DeferredList(p)).addCallback(O.hitch(this,
function(r){O.forEach(r,function(l){l=l[1];l.itemId&&delete arcgisonline.sharing.utilShare.itemCards[l.itemId]});setTimeout(function(){O.publish("onShareUpdate",null);O.publish("shareCheckDlg/update")},100);this.hide()})):this.hide()},shareItemByID:function(q,p){var h=this.info.mainItemCard.access;h={everyone:"public"===h,account:"org"===h||"org"===q.access,confirmItemControl:this.info&&this.info.confirmItemControl?!0:!1};p&&(h.groups=p);var f=new O.Deferred;arcgisonline.sharing.geow.Content.shareItemByID(q,
h,O.hitch(this,function(g){f.callback(g)}),O.hitch(this,function(g){f.errback(g)}));return f},onLearnHowClick:function(){},onUpdateClick:function(){this.updateSharing()},onCancelClick:function(){this.hide()},hide:function(){this.store.close();delete this.store;delete this.memory;this.grid.destroy();delete this.grid;this.grid=this.store=this.memory=null;K.byId("shareCheck-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/RateLimiting":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/query dojo/parser dojo/ready dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ValidationTextBox dojo/Deferred dijit/Dialog dijit/form/Button dojo/json arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/ConfirmDialog dojox/validate/regexp esri/Evented dojo/text!arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F){return O("arcgisonline.sharing.dijit.dialog.RateLimiting",[e],{templateString:y,baseClass:"esriRateLimiting",buildRendering:function(){this.inherited(arguments);var G=q.doc.createDocumentFragment();this._templateDijit=new (O([e,a,b],{templateString:g.substitute(this.templateString,{i18n:F},null,this)}));this._content=C.place(this._templateDijit.domNode,G,"first");this.inherited(arguments);this.domNode.appendChild(this._content)},
postMixInProperties:function(){this.inherited(arguments);this.i18n=K.mixin(K.mixin({},F.common),F.itemProperties);this.serviceProxyParams=this.serviceProxyParams&&(this.serviceProxyParams.hitsPerInterval||this.serviceProxyParams.referrers)?this.serviceProxyParams:this.item&&this.item.serviceProxyParams||null},postCreate:function(){this.inherited(arguments);this._enableLimits=this._templateDijit._enableLimits;this._hitRate=this._templateDijit._hitRate;this._hitCount=this._templateDijit._hitCount;this._interval=
this._templateDijit._interval;this._referrerUrl=this._templateDijit._referrerUrl;this._referrers=this._templateDijit._referrers;this._addBtn=this._templateDijit._addBtn;this._delBtn=this._templateDijit._delBtn;this._loadConnections();this.set("value",this.serviceProxyParams)},destroy:function(){this._templateDijit.destroyRecursive();this._templateDijit=null;this.inherited(arguments)},_loadConnections:function(){this.own(k(this._enableLimits,"change",K.hitch(this,function(G){this._hitRate.set("disabled",
!0!==G);this._hitCount.set("disabled",!0!==G);this._interval.set("disabled",!0!==G);z(".canDisable")[!0!==G?"addClass":"removeClass"]("disabled");p[!0!==G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")})),k(this._addBtn,"click",K.hitch(this,function(){this._referrerUrl.isValid()&&(this._addReferralUrl(this._referrerUrl.get("value").split(/[ ,]+/)),this._referrerUrl.set("value",""))})),k(this._delBtn,"click",K.hitch(this,function(){this._referrers.getSelected().orphan();this._delBtn.set("disabled",
!this._referrers.getSelected().length)})),k(this._referrers,"blur, click",K.hitch(this,function(){this._delBtn.set("disabled",!this._referrers.getSelected().length)})))},_setDisabledAttr:function(G){var H=d.findWidgets(this.domNode).concat(d.findWidgets(this._content));n.forEach(H,function(I){I.set("disabled",G)});p[G?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_addReferralUrl:function(G){var H;n.forEach(G,K.hitch(this,function(I){I&&((H=z("option",this._referrers.containerNode).some(function(N){return N.value.toLowerCase()===
I.toLowerCase()}))||this._referrers.containerNode.appendChild(C.create("option",{value:I,innerHTML:I})))}))},isValid:function(){return this._enableLimits.get("checked")&&!this._hitRate.isValid()?F.rateLimiting.errors.invalidHitRate:!0},_setValueAttr:function(G){this.serviceProxyParams=G;this._enableLimits.set("value",null);G&&(G.hitsPerInterval&&(this._hitRate.set("value",G.hitsPerInterval),this._interval.set("value",G.intervalSeconds),this._enableLimits.set("value","true"),this._extractUnits(G.intervalSeconds)),
this._addReferralUrl(G.referrers))},_extractUnits:function(G){var H=this._interval.options,I=parseInt(G,10);G=1;(H=n.filter(H,function(N){return 0===I%parseInt(N.value,10)}))&&H.length&&(G=H[H.length-1].value,this._interval.set("value",G),this._hitCount.set("value",Math.floor(I/parseInt(G,10))))},_getValueAttr:function(){var G={},H=[];z("option",this._referrers.containerNode).forEach(function(I){H.push(I.value)});this._enableLimits.get("checked")&&(G.hitsPerInterval=parseInt(this._hitRate.get("value"),
10),G.intervalSeconds=parseInt(this._hitCount.get("value"),10)*parseInt(this._interval.get("value"),10));H&&H.length&&(G.referrers=H);return G},showModal:function(G){var H=new m,I=new t({}),N=this.item.folderId,M=q.doc.createDocumentFragment(),J=C.place(this.domNode,M),R=C.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons"},J);J=new v({"class":"calcite cancel right btn-two",label:this.i18n.cancel,type:"button"},C.create("button",{},R));R=new v({"class":"calcite primary right",label:this.i18n.ok,
type:"button"},C.create("button",{},R));this.own(k(R,"click",K.hitch(this,function(){this.set("disabled",!0);var Z=esriGeowConfig.restBaseUrl+"content/users/"+this.item.owner+"/"+(N?N+"/":"")+"items/"+this.item.id,T=this.isValid();if(!0!==T)this._showError(T),this.set("disabled",!1);else{var X=this.get("value");return B.request({url:Z+"/update",content:{serviceProxyParams:A.stringify(X)}},{usePost:!0}).then(K.hitch(this,function(){this.item.serviceProxyParams=X;I.hide()}),K.hitch(this,function(aa){this._showError(aa);
this.set("disabled",!1)}))}})),k(J,"click",K.hitch(this,function(){I.hide()})),k(I,"hide",K.hitch(this,function(){I.destroyRecursive();H.resolve(this.item)})));I.set("title",G&&G.title||this.i18n.rateLimitingTitle);I.setContent(M);I.show();return H},_showError:function(G){G=G.error||G||this.i18n.errors.error;G.code=G.messageCode||G.code;G=this.i18n.errors[G.code]||G||this.i18n.errors.error;G.details=G.details&&K.isArray(G.details)&&G.details.length?n.filter(G.details,"return item !\x3d\x3d null"):
null;if(G.details&&G.details.length){var H="\x3cul\x3e";n.forEach(G.details,function(N){H+="\x3cli\x3e"+N+"\x3c/li\x3e"});H+="\x3c/ul\x3e\x3cbr/\x3e";G.message=G.message?"\x3cdiv\x3e"+G.message+"\x3c/div\x3e\x3cbr/\x3e"+H:H}if(G.message&&-1===G.message.indexOf("Request canceled")){G=K.mixin(K.mixin({hideCancel:!0},this.i18n.errors.error),G);var I=new x({});return I.show(G).then(K.hitch(this,function(){I.hide().then(dojo.hitch(this,function(){this.set("disabled",!1)}))}))}}})})},"dojox/validate/regexp":function(){define(["dojo/_base/lang",
"dojo/regexp","dojox/main"],function(O,K,n){var q=O.getObject("validate.regexp",!0,n);return q=n.validate.regexp={ipAddress:function(p){p="object"==typeof p?p:{};"boolean"!=typeof p.allowDottedDecimal&&(p.allowDottedDecimal=!0);"boolean"!=typeof p.allowDottedHex&&(p.allowDottedHex=!0);"boolean"!=typeof p.allowDottedOctal&&(p.allowDottedOctal=!0);"boolean"!=typeof p.allowDecimal&&(p.allowDecimal=!0);"boolean"!=typeof p.allowHex&&(p.allowHex=!0);"boolean"!=typeof p.allowIPv6&&(p.allowIPv6=!0);"boolean"!=
typeof p.allowHybrid&&(p.allowHybrid=!0);var h=[];p.allowDottedDecimal&&h.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");p.allowDottedHex&&h.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");p.allowDottedOctal&&h.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");p.allowDecimal&&h.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
p.allowHex&&h.push("0[xX]0*[\\da-fA-F]{1,8}");p.allowIPv6&&h.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");p.allowHybrid&&h.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");p="";0<h.length&&(p="("+h.join("|")+")");return p},host:function(p){p="object"==typeof p?p:{};"boolean"!=typeof p.allowIP&&(p.allowIP=!0);"boolean"!=typeof p.allowLocal&&(p.allowLocal=!1);"boolean"!=typeof p.allowPort&&(p.allowPort=!0);"boolean"!=typeof p.allowNamed&&
(p.allowNamed=!1);var h=p.allowPort?"(\\:\\d+)?":"",f="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.?)";p.allowIP&&(f+="|"+q.ipAddress(p));p.allowLocal&&(f+="|localhost");p.allowNamed&&(f+="|^[^-][a-zA-Z0-9_-]*");return"("+f+")"+h},url:function(p){p="object"==typeof p?p:{};"scheme"in p||(p.scheme=[!0,!1]);return K.buildGroupRE(p.scheme,function(h){return h?"(https?|ftps?)\\://":""})+q.host(p)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(p){p="object"==typeof p?p:{};"boolean"!=typeof p.allowCruft&&(p.allowCruft=!1);p.allowPort=!1;var h="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+q.host(p);p.allowCruft&&(h="\x3c?(mailto\\:)?"+h+"\x3e?");return h},emailAddressList:function(p){p="object"==typeof p?p:{};"string"!=typeof p.listSeparator&&(p.listSeparator="\\s;,");var h=q.emailAddress(p);return"("+h+"\\s*["+p.listSeparator+"]\\s*)*"+h+"\\s*["+p.listSeparator+"]?\\s*"},numberFormat:function(p){p=
"object"==typeof p?p:{};"undefined"==typeof p.format&&(p.format="###-###-####");return K.buildGroupRE(p.format,function(h){return K.escapeString(h,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(p){p="object"==typeof p?p:{};"boolean"!=typeof p.allowTerritories&&(p.allowTerritories=!0);"boolean"!=typeof p.allowMilitary&&(p.allowMilitary=!0);
var h="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";p.allowTerritories&&(h+="|AS|FM|GU|MH|MP|PW|PR|VI");p.allowMilitary&&(h+="|AA|AE|AP");return"("+h+")"}}}})},"arcgisonline/sharing/dijit/dialog/LayerTimeSettings":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/query dojo/on dojo/json dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Dialog dijit/form/CheckBox dijit/form/RadioButton dijit/form/Select dijit/form/Button dojo/Deferred arcgisonline/sharing/util ../../../pages/serviceUtil arcgisonline/sharing/dijit/dialog/ConfirmDialog esri/Evented dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x){return O("arcgisonline.sharing.dijit.dialog.LayerTimeSettings",[C,B],{baseClass:"esriLayerTimeSettings",postMixInProperties:function(){this.inherited(arguments);this.i18n=K.mixin({},x.common);this.i18n=K.mixin(this.i18n,x.layerTimeSettings);this.portal=this.item&&this.item.portal||{};this._isPortal=t.isPortal()},buildRendering:function(){var D=document.createDocumentFragment();p.create("p",{innerHTML:this.i18n.header},D);this._enableTimeChk=
new e({checked:!1,name:"enableTimeCheckbox"});D.appendChild(this._enableTimeChk.domNode);p.create("label",{"for":"enableTimeCheckbox","class":"esriLeadingMargin1 inline-block trailer-half",innerHTML:this.i18n.enableTimeLbl},D);p.create("br",{},D);p.create("p",{innerHTML:this.i18n.fieldsetLbl,"class":"trailer-half"},D);this._fieldSet=p.create("fieldset",{"class":"esriLeadingMargin2 padding-left-1 trailer-half fieldset-checkbox"},D);this._timeEventsRdio=new a({name:"times",checked:!0},p.create("input",
{},this._fieldSet));p.create("label",{"for":"timeEvents","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeEventsLbl},this._fieldSet);p.create("br",{},this._fieldSet);this._timeEventsDiv=p.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);p.create("label",{"for":"timeEventsSelect","class":"esriFloatLeading timeEvent",innerHTML:this.i18n.timeFieldLbl},this._timeEventsDiv);this._timeEventsSelect=new b({maxHeight:200,name:"timeEventsSelect"},p.create("select",{},this._timeEventsDiv));
p.create("br",{},this._fieldSet);this._timeRangesRdio=new a({name:"times","class":"timeRangeRdio"},p.create("input",{},this._fieldSet));p.create("label",{"for":"timeRanges","class":"esriLeadingMargin1 inline-block",innerHTML:this.i18n.timeRangesLbl},this._fieldSet);p.create("br",{},this._fieldSet);this._timeRangesDiv=p.create("div",{"class":"esriLeadingMargin23"},this._fieldSet);p.create("label",{"for":"startTimeSelect","class":"esriFloatLeading timeRange",innerHTML:this.i18n.startTimeLbl},this._timeRangesDiv);
this._startTimeSelect=new b({maxHeight:200,name:"startTimeSelect","class":"timeRange",disabled:!0},p.create("select",{},this._timeRangesDiv));p.create("br",{},this._timeRangesDiv);p.create("label",{"for":"endTimeSelect","class":"esriFloatLeading timeRange leader-half",innerHTML:this.i18n.endTimeLbl},this._timeRangesDiv);this._endTimeSelect=new b({maxHeight:200,name:"endTimeSelect","class":"timeRange",disabled:!0},p.create("select",{},this._timeRangesDiv));p.create("br",{},this._timeRangesDiv);this.inherited(arguments);
this.domNode.appendChild(D)},postCreate:function(){this.timeInfo=this.get("timeInfo");this.fields=this.get("dateFields");this._loadConnects();this._loadLayerFields();this._loadTimeInfo()},_loadConnects:function(){this.own(u(this._timeRangesRdio,"change",K.hitch(this,function(D){n.forEach(l.findWidgets(this._timeRangesDiv),function(E){E.set("disabled",!D)})})),u(this._timeEventsRdio,"change",K.hitch(this,function(D){this.options&&1<this.options.length&&n.forEach(l.findWidgets(this._timeEventsDiv),
function(E){E.set("disabled",!D)})})),u(this._enableTimeChk,"change",K.hitch(this,function(D){var E=this.options&&1<this.options.length;n.forEach(l.findWidgets(this._fieldSet),function(y){D=!E&&-1<y["class"].indexOf("timeRange")?!1:D;y.set("disabled",!D)});this[this._timeRangesRdio.get("checked")?"_timeEventsRdio":"_timeRangesRdio"].onChange(!1)})))},_getValueAttr:function(){return this._enableTimeChk.get("checked")?this._timeEventsRdio.get("checked")?{timeInfo:{startTimeField:this._timeEventsSelect.get("value")}}:
{timeInfo:{startTimeField:this._startTimeSelect.get("value"),endTimeField:this._endTimeSelect.get("value")}}:{timeInfo:this._isPortal?null:{}}},_setDisabledAttr:function(D){n.forEach(l.findWidgets(this.domNode),function(E){E.set("disabled",D)});dojo.query(".js-timeOptions-btn").map(dijit.byNode).forEach(function(E){E.set("disabled",D)});dojo.query(".js-timeOptions-msg")[D?"removeClass":"addClass"]("hide")},_getTimeInfoAttr:function(){var D=this.layer;return this.timeInfo||D.timeInfo||{}},_getDateFieldsAttr:function(){return v.getDateFields(this.layer)},
_loadLayerFields:function(){this.options=n.map(this.fields,K.hitch(this,function(D){return{label:D.alias||D.name,value:D.name}}));this._timeEventsSelect.set("options",this.options);this._timeEventsSelect.set("value",this.options[0].value);this.options&&1<this.options.length&&(this._startTimeSelect.set("options",K.clone(this.options)),this._startTimeSelect.set("value",this.options[0].value),this._endTimeSelect.set("options",K.clone(this.options)),this._endTimeSelect.set("value",this.options[1].value))},
_loadTimeInfo:function(){var D=this.timeInfo||{};this._enableTimeChk.set("checked",D.startTimeField);this._timeEventsSelect.set("value",D.startTimeField);this._startTimeSelect.set("value",D.startTimeField);this._endTimeSelect.set("value",D.endTimeField||this._endTimeSelect.get("value"));this._timeRangesRdio.set("checked",this.timeInfo.startTimeField&&this.timeInfo.endTimeField);this._timeEventsRdio.set("checked",!this.timeInfo.endTimeField)},showModal:function(D){var E=new m,y=new d({style:{width:"450px"}}),
F=q.doc.createDocumentFragment();p.place(this.domNode,F);var G=p.create("div",{"class":"esriFloatTrailing esriTimeSettingsButtons right"},F);p.create("span",{"class":"hide margin-right-half js-timeOptions-msg",innerHTML:x.timeSettingsDlg.statusMsg},G);var H=new c({"class":"calcite primary js-timeOptions-btn",label:this.i18n.ok,type:"button"},p.create("button",{},G));G=new c({"class":"calcite cancel js-timeOptions-btn",label:this.i18n.cancel,type:"button"},p.create("button",{},G));this.own(u(G,"click",
K.hitch(this,function(){y.hide()})),u(y,"hide",K.hitch(this,function(){y.destroyRecursive();E.resolve(this.item)})),u(H,"click",K.hitch(this,function(){this.set("disabled",!0);var I=this.get("value"),N={updateDefinition:w.stringify(I)},M=(this.item.adminUrl||this.item.url.replace("/rest/","/rest/admin/"))+"/"+this.layer.id+"/updateDefinition";I.timeInfo&&I.timeInfo.startTimeField&&I.timeInfo.startTimeField===I.timeInfo.endTimeField?(this.set("disabled",!1),this._showError(x.itemProperties.error.sameTimeField)):
t.request({url:M,content:N},{usePost:!0}).then(K.hitch(this,function(J){this.item.set("maxAgeCheck",!0);this.layer=K.mixin(this.layer,I);y.hide();E.resolve(I)}),K.hitch(this,function(J){this.set("disabled",!1);return this._showError(J)}))})));y.set("title",D&&D.title||x.timeSettingsDlg.timeSettingsDlgTitle);y.setContent(F);y.show();return E},_showError:function(D){D=D&&D.error||D||this.i18n.errors.genericError;D.code=D.messageCode||D.code;D=this.i18n.errors[D.code]||D||this.i18n.errors.error;D.details=
D.details&&K.isArray(D.details)&&D.details.length?n.filter(D.details,"return item !\x3d\x3d null"):null;if(D.details&&D.details.length){var E="\x3cul\x3e";n.forEach(D.details,function(F){E+="\x3cli\x3e"+F+"\x3c/li\x3e"});E+="\x3c/ul\x3e\x3cbr/\x3e";D.message=D.message?"\x3cdiv\x3e"+D.message+"\x3c/div\x3e\x3cbr/\x3e"+E:E}if(D.message&&-1===D.message.indexOf("Request canceled")){D=K.mixin(K.mixin({hideCancel:!0},this.i18n.errors.error),D);var y=new A({});return y.show(D).then(K.hitch(this,function(){y.hide().then(dojo.hitch(this,
function(){this.set("disabled",!1)}))}))}}})})},"arcgisonline/sharing/dijit/dialog/UpdateItemDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/form/SimpleTextarea,dijit/form/TextBox,dijit/form/CheckBox,dijit/form/Button,dijit/InlineEditBox,dijit/Dialog,dijit/_Widget,dijit/_Templated,arcgisonline/pages/pageUtil,arcgisonline/pages/utils/dom,arcgisonline/pages/dijit/UploadProgressBar,arcgisonline/sharing/util,arcgisonline/sharing/geow/Community,arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Item,arcgisonline/sharing/dijit/dialog/GeneralDlg,arcgisonline/sharing/dijit/dialog/TagsDlg,dojo/promise/all,dojo/number"],
function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog.UpdateItemDlg");O.require("dijit.form.SimpleTextarea");O.require("dijit.form.TextBox");O.require("dijit.form.CheckBox");O.require("dijit.form.Button");O.require("dijit.InlineEditBox");O.require("dijit.Dialog");O.require("dijit._Widget");O.require("dijit._Templated");O.require("arcgisonline.pages.pageUtil");O.require("arcgisonline.pages.utils.dom");O.require("arcgisonline.pages.dijit.UploadProgressBar");O.require("arcgisonline.sharing.util");
O.require("arcgisonline.sharing.geow.Community");O.require("arcgisonline.sharing.geow.Content");O.require("arcgisonline.sharing.geow.Item");O.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");O.require("arcgisonline.sharing.dijit.dialog.TagsDlg");O.require("dojo.promise.all");O.require("dojo.number");O.declare("arcgisonline.sharing.dijit.dialog.UpdateItemDlg",[K._Widget,K._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,
itemAPI:arcgisonline.sharing.geow.Item,pageUtil:arcgisonline.pages.pageUtil,domUtil:arcgisonline.pages.utils.dom,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_updateItemDialog" title\x3d"${i18n.updateItem}" dojoAttachEvent\x3d"hide:clear" execute\x3d"" class\x3d"update-item-dlg"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_errorDiv"\x3e\x3c/div\x3e\r\n    \x3cform dojoAttachPoint\x3d"_updateItemForm" enctype\x3d"multipart/form-data"\x3e\r\n      \x3cdiv dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemFolderInput" type\x3d"hidden" value\x3d"0"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"id" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemIdInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"name" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemNameInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"title" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTitleInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"tags" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTagsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"type" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemTypeInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"typeKeywords" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateItemKeywordsInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"description" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateDescriptionInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"snippet" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateSnippetInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"accessInformation" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateAccessInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"licenseInfo" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateLicenseInfoInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"extent" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateExtentInput" type\x3d"hidden" value\x3d""\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"overwrite" dojotype\x3d"dijit.form.TextBox" dojoAttachPoint\x3d"_updateOverwriteInput" type\x3d"hidden" value\x3d"true"\x3e\x3c/div\x3e\r\n      \x3cdiv name\x3d"async" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" dojoAttachPoint\x3d"_updateAsyncInput" value\x3d"true"\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv\x3e\x3clabel class\x3d"font-size--1" dojoAttachPoint\x3d"_replaceUpdateVerLabel"\x3e${i18n.replaceUpdatedVersionMsg}\x3c/label\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3clabel class\x3d"esriFloatLeading esriTrailingMargin2" style\x3d"margin-top:6px;" for\x3d"update-item-file"\x3e${i18n.itemLabel}\x3c/label\x3e\r\n        \x3cinput type\x3d"file" dojoAttachPoint\x3d"_updateItemFile" id\x3d"update-item-file" name\x3d"file" size\x3d"40" class\x3d"esriFileInput"\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"overwrite_section" class\x3d"hide" style\x3d"padding-top:4px;margin-bottom:1.0em;"\x3e\r\n        \x3cinput id\x3d"overwriteService" type\x3d"checkbox" name\x3d"overwriteService" dojotype\x3d"dijit.form.CheckBox" checked\x3d"checked" dojoAttachPoint\x3d"_overwriteService"/\x3e\r\n        \x3clabel id\x3d"overwriteServiceLbl" for\x3d"overwriteService"\x3e${i18n.overwriteService} ${i18n.keepFieldsSame}\x3c/label\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"update-item-keepdescription" style\x3d"width:100%;display:none;"\x3e\r\n        \x3cdiv style\x3d"padding-bottom:5px; padding-top:2px;"\x3e\r\n          \x3clabel\x3e${i18n.updateItemDescription}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"line-height:23px"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" checked\x3d"checked" dojoAttachPoint\x3d"_useDescKeepRadio" id\x3d"useDescription:keep"/\x3e\r\n          \x3clabel for\x3d"useDescription:keep"\x3e${i18n.keepExistingProperties}\x3c/label\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useDescription" dojotype\x3d"dijit.form.RadioButton" dojoAttachPoint\x3d"_useDescUpdateRadio" id\x3d"useDescription:update"/\x3e\r\n          \x3clabel for\x3d"useDescription:update"\x3e${i18n.useUploadedProperties}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"leader-half trailer-half flex"\x3e\r\n        \x3cdiv class\x3d"flex flex-1"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_waitingSpan" class\x3d"hide flex-column-justify-center"\x3e${i18n.uploadingItem}\x3c/span\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_uploadProgressBar"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:_handleCancel" dojoAttachPoint\x3d"_cancelBtn" id\x3d"button_update-item-cancel" class\x3d"jevent cancel margin-right-half" type\x3d"cancel"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3cbutton id\x3d"button_update-item" type\x3d"button" dojotype\x3d"dijit.form.Button" dojoAttachEvent\x3d"onClick:uploadItem" class\x3d"primary" dojoAttachPoint\x3d"_updateItemBtn"\x3e${i18n.updateItem}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
item:null,admin:null,i18n:null,_replaceUpdateVerLabel:null,_updateItemDialog:null,_updateItemForm:null,_updateItemBtn:null,_cancelBtn:null,_waitingSpan:null,_useDescUpdateRadio:null,_useDescKeepRadio:null,_updateItemFile:null,_errorDiv:null,_updateItemFolderInput:null,_updateItemIdInput:null,_updateItemNameInput:null,_updateItemTitleInout:null,_updateItemTagsInput:null,_updateItemTypeInput:null,_updateItemKeywordsInput:null,_updateDescriptonInput:null,_updateSnippetInput:null,_updateAccessInput:null,
_updateLicenseInfoInput:null,_updateExtentInput:null,_updateOverwriteInput:null,_updateAsyncInput:null,statics:{_instance:null,getInstance:function(){null===this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.UpdateItemDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common;O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline","arcgisonline").updateItemDlg);O.mixin(this.i18n,{updating:O.i18n.getLocalization("arcgisonline",
"arcgisonline").addItemFrm.updating})},postCreate:function(){},show:function(q,p){var h={Shapefile:1,"File Geodatabase":1,GeoJson:1,CSV:1,"Microsoft Excel":1},f=q&&q.publishParameters&&"address"===q.publishParameters.locationType;this.item=q;p&&null!==this.adminUser&&(this.admin=p);"Layer Package"==q.type&&O.style(O.byId("update-item-keepdescription"),"display","block");"Vector Tile Service"===q.type?(O.attr(this._replaceUpdateVerLabel,"innerHTML",this.i18n.overwriteStyle),this._updateItemDialog.set("title",
this.i18n.updateStyle),this._updateItemBtn.set("label",this.i18n.updateStyle)):(this.itemName=this.item.sourceData&&this.item.sourceData.name||this.item.name,O.attr(this._replaceUpdateVerLabel,"innerHTML",O.string.substitute(this.i18n.replaceUpdatedVersionMsg,[this.itemName])));q&&q.type in h&&q.relatedService?this._overwriteService.set("checked",!1):q&&q.sourceData?(this._updateItemDialog.set("title",this.i18n.updateFeatures),this._updateItemBtn.set("label",this.i18n.updateFeatures),h=O.string.substitute(f?
this.i18n.overwriteServiceWithCreditsMsg:this.i18n.overwriteServiceMsg,[q.title,q.sourceData.name]),O.attr(this._replaceUpdateVerLabel,"innerHTML",h)):this._overwriteService.set("checked",!1);q&&q.sourceData&&(esri.hide(this._overwriteService.domNode),O.attr("overwriteServiceLbl","innerHTML",this.i18n.keepFieldsSame),O.removeClass("overwrite_section","hide"));this._updateItemDialog.show();this._uploadProgressBar=new arcgisonline.pages.dijit.UploadProgressBar({},this._uploadProgressBar);this._uploadProgressBar.startup();
this._uploadProgressBar.hide()},clear:function(){this._updateItemFile.value="";this._useDescKeepRadio.set("checked",!0);this._useDescUpdateRadio.set("checked",!1);this._overwriteService.set("checked",!0)},_handleCancel:function(q){q.preventDefault();this._updateItemDialog.hide()},hide:function(){this._disable(!1);this._updateItemDialog.hide()},uploadItem:function(q){q.preventDefault();if(0===this._updateItemFile.value.length)return arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.errorLabel,
message:this.i18n.error.providePath}),!1;q=this._fetchItem(this.item).then(O.hitch(this,"loadFile"));if(this.item.sourceData||this.item.relatedService&&this._overwriteService.get("checked"))O.attr(this._waitingSpan,"innerHTML",this.i18n.updating),q=q.then(O.hitch(this,"_updateServiceData",this.item.sourceData||this.item)).then(O.hitch(this,"_resetServiceTitle",this.item));return q.then(O.hitch(this,function(p){p&&!p.success&&p.error&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:p.error.message||this.i18n.error.errorWhileUpdate});p&&p.serviceItemId?(this._disable(!1),this._updateItemDialog.hide(),window.location="item.html?id\x3d"+p.serviceItemId+(p.jobId?"\x26jobid\x3d"+p.jobId:"")):O.publish("itemData/update",[""]);return!0}),O.hitch(this,function(p){O.isObject(p)&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,message:p.message||this.i18n.error.errorWhileUpdate});this._disable(!1)}))},_updateServiceData:function(q){var p=
new O.Deferred;this._checkStatus(q,500,O.hitch(this,function(h){var f=esriGeowConfig.restBaseUrl+"content/users/"+h.owner+"/publish",g,k,u={itemid:h.id,filetype:{"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel"}[h.type.toLowerCase()],overwrite:!0,publishParameters:O.json.stringify({name:this.item.title?this.item.title.replace(/ /g,"_"):h.title.replace(/ /g,"_")})};O.attr(this._waitingSpan,"innerHTML",this.i18n.updating);O.promise.all([this._fetchPublishParameters(this.item),
this._fetchServiceInfo(this.item.relatedService||this.item)]).then(O.hitch(this,function(w){g=w[1];(k=w[0])&&"CSV"===h.type?(w=O.mixin(O.mixin({},g.layers&&g.layers[0]),{fields:k.layerInfo.fields}),u.publishParameters=O.mixin(k,{layerInfo:w,name:k.name||h.title.replace(/ /g,"_")})):k&&"Microsoft Excel"===h.type?(u.publishParameters=this._generateExcelOverwritePublishParameters(k,g),g=null):u.publishParameters={name:h.title?h.title.replace(/ /g,"_"):this.item.title.replace(/ /g,"_")};u.publishParameters=
g?O.json.stringify(O.mixin(u.publishParameters,g)):u.publishParameters;return this.util.request({url:f,content:u},{usePost:!0}).then(O.hitch(this,function(C){p.resolve(C&&C.services&&C.services[0]||{serviceItemId:h.id})}),O.hitch(this,function(C){p.reject(C)}))}))}));return p},_generateExcelOverwritePublishParameters:function(q,p){p.name=q.name;p.sourceSR=q.sourceSR;p.targetSR=q.targetSR;for(var h=0;h<p.tables.length;h++)"Review"!=p.tables[h].name&&(p.layers[p.layers.length]=p.tables[h]);for(h=0;h<
p.layers.length;h++)p.layers[h].excelSheetId=q.layers[h].excelSheetId,p.layers[h].locationType=q.layers[h].locationType,p.layers[h].latitudeFieldName=q.layers[h].latitudeFieldName,p.layers[h].longitudeFieldName=q.layers[h].longitudeFieldName,p.layers[h].geocodeServiceUrl=q.layers[h].geocodeServiceUrl,p.layers[h].sourceLocale=q.layers[h].sourceLocale,p.layers[h].sourceCountry=q.layers[h].sourceCountry,p.layers[h].standardizedFieldNames=q.layers[h].standardizedFieldNames,p.layers[h].addressFields=q.layers[h].addressFields;
return JSON.stringify(p)},_resetServiceTitle:function(q,p){var h=new O.Deferred,f=this.util.getUser(),g=q.title||"",k=q.folderId||q.ownerFolder;f=esriGeowConfig.restBaseUrl+"content/users/"+(q.owner||f.username)+"/"+(k?k+"/":"")+"items/"+q.id+"/update";g=-1!==q.typeKeywords.indexOf("Involved Lookup")?{title:g,typeKeywords:q.typeKeywords.toString()+",showUnmatchedAddresses"}:{title:g};this.util.request({url:f,content:g},{usePost:!0}).then(O.hitch(this,function(){h.resolve(p)}),O.hitch(this,function(){h.resolve(p)}));
return h},_fetchServiceInfo:function(q){q=q.url;var p={addToken:(this.util.isHostedService(q)||this.util.isAgolService(q))&&!1!==esriGeowConfig.isMultiTenant},h=new O.Deferred,f;O.promise.all([this.util.request({url:q},p),this.util.request({url:q+"/layers"},p)]).then(O.hitch(this,function(g){var k={},u=g&&1<g.length&&g[1],w=u&&u.layers;u=u&&u.tables;w&&w.length&&(O.forEach(w,function(C){delete C.fields}),k.layers=w);u&&u.length&&(k.tables=u);f=O.mixin(g[0],k);h.resolve(f)}));return h},_fetchPublishParameters:function(q){var p=
esriGeowConfig.restBaseUrl+"content/items/"+q.id+"/info/publishParameters.json";q.publishParameters?(p=new O.Deferred,p.resolve(q.publishParameters)):!q.sourceData||"CSV"!==q.sourceData.type&&"Microsoft Excel"!==q.sourceData.type?(p=new O.Deferred,p.resolve(!1)):p=this.util.request({url:p}).then(O.hitch(this,function(h){return h}));return p},_fetchItem:function(q){if(q.sourceData)var p=this.util.request({url:esriGeowConfig.restBaseUrl+"content/items/"+q.sourceData.id}).then(O.hitch(this,function(h){h.folderId=
h.ownerFolder;return h}));else p=new O.Deferred,p.resolve(q);return p},loadFile:function(q){var p=new O.Deferred,h=this._updateItemFile.value,f=h.lastIndexOf("\\"),g=q.type;-1<f&&(h=h.substring(f+1,h.length));h=h.replace(/ /g,"_");if("Vector Tile Service"!==q.type&&this.itemName!=h)return q=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),q.show({title:this.i18n.errorLabel,message:O.string.substitute(this.i18n.error.sameFileName,[this.itemName])}),this._updateItemFile.value=
"",p.reject(!0),p;if("Vector Tile Service"===q.type){f=/(?:\.([^.]+))?$/;var k=h.replace(/^.*(\\|\/|:)/,"");if("json"!==(h?f.exec(k)[1].toLowerCase():""))return q=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),q.show({title:this.i18n.errorLabel,message:this.i18n.error.invalidStyleFileExtension}),this._updateItemFile.value="",p.reject(!0),p}this._disable(!0);h=!0;"Layer Package"==g&&(h=O.byId("useDescription:keep").checked);this._updateItemNameInput.set("value",this.itemName);
this._updateItemTitleInput.set("value",q.title);this._updateItemTagsInput.set("value",q.tags);this._updateItemTypeInput.set("value",g);this._updateItemKeywordsInput.set("value",q.typeKeywords);this._updateAccessInput.set("value",q.accessInformation);this._updateLicenseInfoInput.set("value",q.licenseInfo);this._updateItemFolderInput.set("value",q.folderId);h?(this._updateDescriptionInput.set("value",q.description),this._updateSnippetInput.set("value",q.snippet),this._updateExtentInput.set("value",
q.extent)):(this._updateDescriptionInput.set("value",""),this._updateSnippetInput.set("value",""),this._updateExtentInput.set("value",""));var u=function(w,C){if(!w.success||"completed"!==w.status&&w.status){var z=this.i18n.error.errorWhileUpdate;w&&w.error&&w.error.message&&(z=w.error.message);-1<z.indexOf("The request size is greater than the max allowed of 1024MB")&&(z=this.i18n.error.exceedFileSizeLimit);arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateItemErrorTitle,
message:z});p.reject(!0)}else p.resolve(!0)};g=function(w){this._disable(!1);p.reject(w)};q&&"Vector Tile Service"===q.type?this._updateItemResource(q,this._updateItemForm).then(O.hitch(this,u),O.hitch(this,g)):(this._uploadProgressBar.reset(),this._uploadProgressBar.show(),this.itemAPI.update.call(this.itemAPI,q,this._updateItemForm,this._updateItemFile.files[0]).then(function(w){this._uploadProgressBar.hide();u(w)}.bind(this),g.bind(this)));return p},_updateItemResource:function(q,p){var h=this.util.getUser(),
f=q.folderId||q.ownerFolder;h={url:esriGeowConfig.restBaseUrl+"content/users/"+(q.owner||h.username)+"/"+(f?f+"/":"")+"/items/"+q.id+"/updateResources",form:p,content:{resourcesPrefix:"styles",filename:"root.json"}};O.query("input",p).forEach(O.hitch(this,function(g){g&&"file"!==g.name&&O.attr(g,"name","")}));return this.util.request(h,{usePost:!0}).then(O.hitch(this,function(g){return g}),O.hitch(this,function(g){throw{message:this.i18n.error.invalidStyleFile};}))},_checkStatus:function(q,p,h){this.util.request({url:esriGeowConfig.restBaseUrl+
"content/users/"+q.owner+(q.ownerFolder&&"/"!==q.ownerFolder?"/"+q.ownerFolder:"")+"/items/"+q.id+"/status"}).then(O.hitch(this,function(f){f=f||{status:"failed"};"completed"===f.status?h(q):(p=(p||500)+250,setTimeout(O.hitch(this,function(){this._checkStatus(q,p,h)}),p))}))},_disable:function(q){this._updateItemBtn.set("disabled",q);this._cancelBtn.set("disabled",q);this.domUtil.showHide(this._waitingSpan,q);O.style(this._waitingSpan,"display",q?"inline-block":"none")}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare",
"dojo/dom-class","dojo/sniff","./TextBox"],function(O,K,n,q){return O("dijit.form.SimpleTextarea",q,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);n("ie")&&this.cols&&
K.add(this.textbox,"dijitTextAreaCols")},filter:function(p){p&&(p=p.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(p){if(this.maxLength){var h=parseInt(this.maxLength),f=this.textbox.value.replace(/\r/g,"");h=f.length-h;if(0<h){var g=this.textbox;if(g.selectionStart){var k=g.selectionStart,u=0;n("opera")&&(u=(this.textbox.value.substring(0,k).match(/\r/g)||[]).length);this.textbox.value=f.substring(0,k-h-u)+f.substring(k-u);g.setSelectionRange(k-h,k-h)}else this.ownerDocument.selection&&
(g.focus(),f=this.ownerDocument.selection.createRange(),f.moveStart("character",-h),f.text="",f.select())}}this.inherited(arguments)}})})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B){b=q("dijit._InlineEditor",[a,b,c],{templateString:B,contextRequire:O,postMixInProperties:function(){this.inherited(arguments);this.messages=k.getLocalization("dijit","common",this.lang);K.forEach(["buttonSave","buttonCancel"],function(x){this[x]||(this[x]=this.messages[x])},this)},buildRendering:function(){this.inherited(arguments);var x="string"==typeof this.editor?C.getObject(this.editor)||O(this.editor):this.editor,D=this.sourceStyle,
E="line-height:"+D.lineHeight+";",y=g.getComputedStyle(this.domNode);K.forEach(["Weight","Family","Size","Style"],function(G){y["font"+G]!=D["font"+G]&&(E+="font-"+G+":"+D["font"+G]+";")},this);K.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(G){this.domNode.style[G]=D[G]},this);var F=this.inlineEditBox.width;"100%"==F?(E+="width:100%;",this.domNode.style.display="block"):E+="width:"+(F+(Number(F)==F?"px":""))+";";F=C.delegate(this.inlineEditBox.editorParams,
{style:E,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new x(F,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,f.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var x=this.editWidget;this.inlineEditBox.autoSave?this.own(n.after(x,"onChange",C.hitch(this,"_onChange"),!0),z(x,"keydown",C.hitch(this,"_onKeyDown"))):"intermediateChanges"in x&&(x.set("intermediateChanges",
!0),this.own(n.after(x,"onChange",C.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var x=this.editWidget;return String(x.get("displayedValue"in x||"_getDisplayedValueAttr"in x?"displayedValue":
"value"))},_onKeyDown:function(x){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&!x.altKey&&!x.ctrlKey&&(x.keyCode==w.ESCAPE?(x.stopPropagation(),x.preventDefault(),this.cancel(!0)):x.keyCode==w.ENTER&&"INPUT"==x.target.tagName&&(x.stopPropagation(),x.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
this.inlineEditBox.editing&&this.enableSave()&&e.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(e._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){v.selectInputText(this.editWidget.focusNode)}))}});a=q("dijit.InlineEditBox"+(r("dojo-bidi")?"_NoBidi":""),a,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:A,editorWrapper:b,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=r("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(z(this.displayNode,d,C.hitch(this,"_onClick")),z(this.displayNode,"mouseover, focus",C.hitch(this,"_onMouseOver")),z(this.displayNode,"mouseout, blur",C.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);this.value||"value"in this.params||(this.value=C.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);h.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(x){u.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",x)},_setDisabledAttr:function(x){this.domNode.setAttribute("aria-disabled",x?"true":"false");x?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);h.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",x);this._set("disabled",x)},_onMouseOver:function(){this.disabled||h.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){h.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(x){this.disabled||(x&&(x.stopPropagation(),x.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
p.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var x=f.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?C.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:g.getComputedStyle(this.displayNode),save:C.hitch(this,"save"),cancel:C.hitch(this,"cancel"),
textDir:this.textDir},x);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var D=this.wrapperWidget;h.add(this.displayNode,"dijitOffScreen");h.remove(D.domNode,"dijitOffScreen");g.set(D.domNode,{visibility:"visible"});p.set(this.displayNode,"tabIndex","-1");var E=D.editWidget,y=this;l(E.onLoadDeferred,C.hitch(D,function(){E.set("displayedValue"in E||"_setDisplayedValueAttr"in E?"displayedValue":"value",y.value);this.defer(function(){D.saveButton&&D.saveButton.set("disabled",
"intermediateChanges"in E);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(x){var D=this.wrapperWidget;g.set(D.domNode,{visibility:"hidden"});h.add(D.domNode,"dijitOffScreen");h.remove(this.displayNode,"dijitOffScreen");p.set(this.displayNode,"tabIndex",this._savedTabIndex);x&&
e.focus(this.displayNode)},save:function(x){if(!this.disabled&&this.editing){this._set("editing",!1);var D=this.wrapperWidget.getValue();this.set("value",D);this._showText(x)}},setValue:function(x){u.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",x)},_setValueAttr:function(x){x=C.trim(x);var D=this.renderAsHtml?x:x.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=this.editorParams&&"password"===this.editorParams.type?"********":D||this.noValueIndicator;this._set("value",x);this._started&&this.defer(function(){this.onChange(x)})},getValue:function(){u.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(x){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(x))}});r("dojo-bidi")&&(a=q("dijit.InlineEditBox",
a,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.displayNode)}}));a._InlineEditor=b;return a})},"arcgisonline/pages/dijit/UploadProgressBar":function(){define("require exports tslib dojo/topic dojo/text!./UploadProgressBar/UploadProgressBar.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../utils/dom ../utils/culture ../../tsutils/declareDecorator".split(" "),function(O,K,n,q,p,h,f,g,k,u,w){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);return function(){function C(z,r){this.templateString=p["default"];this.i18n=h["default"]}C.prototype.startup=function(){this.inherited(arguments);this.own(q["default"].subscribe("item/upload-progress-update",this._onProgressUpdate.bind(this)))};C.prototype.hide=function(){k["default"].hideNode(this.domNode)};C.prototype.show=function(){k["default"].showNode(this.domNode)};C.prototype.reset=
function(){this._uploadPercentLabel.textContent=this._uploadProgressFill.style.width="0%";this._uploadPercentLabel.innerHTML=u["default"].getPercentString(0);this._uploadProgressFill.style.width="0%"};C.prototype._onProgressUpdate=function(z){this._uploadProgressFill.classList[100===z?"add":"remove"]("upload-progress-bar__fill--full");this._uploadPercentLabel.innerHTML=u["default"].getPercentString(z/100);this._uploadProgressFill.style.width=z+"%"};return C=n.__decorate([w["default"](g["default"],
f["default"])],C)}()})},"arcgisonline/pages/utils/culture":function(){define(["require","exports","tslib","dojo/string","dojo/_base/kernel"],function(O,K,n,q,p){q=n.__importDefault(q);p=n.__importDefault(p);return function(){function h(){}h.getString=function(f,g,k){var u,w="id ja ko th vi zh-cn zh-hk zh-tw".split(" "),C="en ca da de el es et fi hi hu it nb nl pt-pt sv tr".split(" "),z=null!==(u=h.getRootLocale(p["default"].locale))&&void 0!==u?u:"en";k?k.number=g:k={number:g};return 1===g||-1<w.indexOf(z)?
q["default"].substitute(f.single,k):1!==g&&-1<C.indexOf(z)?q["default"].substitute(f.multiple,k):q["default"].substitute(f.unknown,k)};h.stripCultureFormat=function(f,g){if((null===f||void 0===f?0:f.length)&&(null===g||void 0===g?0:g.length)){var k=f.indexOf("-"+g);if(-1<k)return f.substring(0,k)}return f};h.getRootLocale=function(f){if(null===f||void 0===f?0:f.length){f=f.split("-")[0];if(null===f||void 0===f?0:f.length)f=f.toLowerCase();return f}return f};h.getLocaleFormat=function(f){if(null===
f||void 0===f?0:f.length)if(f=f.split("-"),1<f.length)return f[1].toLowerCase()};h.getTrialLocale=function(f){var g=["pt-br","pt-pt","zh-cn","zh-hk","zh-tw"];return-1<(null===f||void 0===f?void 0:f.indexOf("-"))&&-1===g.indexOf(f)?this.getRootLocale(f):f};h.getActualCulture=function(f,g){var k,u=null!==(k=null===f||void 0===f?void 0:f.toLowerCase())&&void 0!==k?k:"",w=u.split("-");if(1<w.length){if(k=g.filter(function(C){return C.culture===u}).shift())return u;k=g.filter(function(C){return C.culture===
w[0]}).shift();if(null===k||void 0===k?0:k.cultureFormats){if(k.cultureFormats.filter(function(C){return C.format===w[1]}).shift())return k.culture}else if(k)return k.culture}return f};h.getSelectedFormat=function(f,g){return g.filter(function(k){return k.format===f}).shift()};h.getPercentString=function(f){var g=p["default"].locale.toLowerCase();return"ar"===g?"%"+100*f:f.toLocaleString(g,{style:"percent"})};return h}()})},"arcgisonline/sharing/geow/Item":function(){define("require exports tslib ../../esriGeowConfig ../util dojo/Deferred dojo/dom-form dojo/topic dojo/promise/all esri/request".split(" "),
function(O,K,n,q,p,h,f,g,k,u){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);return function(){function w(){}w.addItem=function(C,z,r){return w._action(C,z,r,"addItem")};w.update=function(C,z,r){return w._action(C,z,r,"update")};w._action=function(C,z,r,l){if(p["default"].getUser())return l=w._getActionItemUrl(C,l),C=5242880<r.size?w._multiPartAction(l,z,r,C):w._postForm(l,z)};w._multiPartAction=
function(C,z,r,l){var d=new h["default"],e=function(m){d.reject(m)},a=function(m){m.isMultipart=!0;d.resolve(m)},b=function(m){w._commitItem(l,z).then(a,e)},c=function(m){w._cancelItem(l);"Request canceled"!==m.message&&e.call(w,m)};w._startMultipartRequest(C,l.fileName?l.fileName:r.name).then(function(m){m.success?(l.id=m.id,w._addItemParts(l,r).then(b,c)):e.call(w,m.error)},e);return d};w._postForm=function(C,z){return p["default"].request({url:C,form:z,timeout:0},{usePost:!0})};w._startMultipartRequest=
function(C,z){return p["default"].request({url:C,content:{multipart:!0,filename:z,async:!0}},{usePost:!0})};w.generatePart=function(C,z){var r,l,d,e,a,b,c,m,t;return n.__generator(this,function(v){switch(v.label){case 0:r=C.name,l=C.size,d=5242880,e=Math.ceil(l/d),a=0,1E4<e&&(d=Math.ceil(l/1E4),e=Math.ceil(l/d)),v.label=1;case 1:if(!(a<e))return[3,3];b=new FormData;c=a*d;m=C.slice(c,c+d);a++;t={partNum:a,size:m.size};b.append("partNum",String(t.partNum));b.append("streamdata","true");b.append("f",
"json");b.append("token",z);b.append("file",m,r);return[4,{partData:t,formData:b}];case 2:return v.sent(),[3,1];case 3:return[2]}})};w._addItemParts=function(C,z){var r=this,l=z.size,d=new h["default"],e={};this.pendingRequests=[];var a=3;g["default"].subscribe("cancel-item-upload",function(){r.pendingRequests.forEach(function(t){t&&!t.isFulfilled()&&t.cancel()})});var b=w.generatePart(z,p["default"].getToken()),c=!0,m=function(){if(c){var t=[];w.uploadError=!1;for(var v=0;v<a;v++){var A=b.next(),
B=A.value;if(A.done){c=!1;break}t.push(B)}k["default"](t.map(function(x){var D=new h["default"];return w._addPartWithRetries(C,x.partData,x.formData,1,l,e,D)})).then(function(){c||d.resolve();a=w.uploadError?Math.ceil(a/2):Math.min(++a,10);m()},function(x){c=!1;d.reject(x)})}};m();return d};w._addPartWithRetries=function(C,z,r,l,d,e,a){var b=w._getActionItemUrl(C,"addPart");b=u["default"]({url:b,form:r,timeout:0},{returnProgress:!0,disableIdentityLookup:!0}).then(function(c){c.success?a.resolve(c):
a.reject(c.error)},function(c){l++;w.uploadError=!0;"Request canceled"!==c.message&&7>=l?w._addPartWithRetries(C,z,r,l,d,e,a):a.reject(c)},function(c){c.loaded&&"upload"===c.transferType&&(e[z.partNum.toString()]=c.loaded,c=Object.keys(e).reduce(function(m,t){return m+e[t]},0),g["default"].publish("item/upload-progress-update",Math.floor(c/d*100)))});w.pendingRequests.push(b);return a};w._commitItem=function(C,z){var r=w._getActionItemUrl(C,"commit");var l=z instanceof FormData?{title:C.fileName,
type:C.fileType}:n.__assign({},f["default"].toObject(z));return p["default"].request({url:r,content:l},{usePost:!0})};w._cancelItem=function(C){C=w._getActionItemUrl(C,"cancel");return p["default"].request({url:C},{usePost:!0})};w._getUserUrl=function(C){var z=p["default"].getUser();z=z.username||z.email;return q["default"].restBaseUrl+"content/users/"+(C.owner||z)};w._getActionItemUrl=function(C,z){var r=this._getUserUrl(C);C.folderId&&(r=r+"/"+C.folderId);return r="addItem"===z?r+"/addItem":r+"/items/"+
C.id+"/"+z};w.uploadError=!1;return w}()})},"arcgisonline/sharing/dijit/dialog/TagsDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated,dijit/Dialog,dijit/form/MultiSelect,dijit/form/SimpleTextarea,arcgisonline/sharing/geow/Content"],function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog.TagsDlg");O.require("dijit._Widget");O.require("dijit._Templated");O.require("dijit.Dialog");O.require("dijit.form.MultiSelect");O.require("dijit.form.SimpleTextarea");
O.require("arcgisonline.sharing.geow.Content");O.declare("arcgisonline.sharing.dijit.dialog.TagsDlg",[K._Widget,K._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_tagsDialog" dojoAttachPoint\x3d"onHide:clear" title\x3d"${i18n.tagDlgTitle}" class\x3d"tagsForm"\x3e\r\n    \x3cdiv dojoAttachPoint\x3d"_tagsErrorDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentTagsDiv" style\x3d"display:block;"\x3e\r\n\t\t\x3clabel \x3e${i18n.selectTag}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t    \x3cselect dojoAttachPoint\x3d"_tagsSelect" dojoType\x3d"dijit.form.MultiSelect" style\x3d"width:100%;height:150px;"\x3e\x3c/select\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_cancelBtn" dojotype\x3d"dijit.form.Button" class\x3d"cancel" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.cancel}\x3c/div\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"_submitBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" type\x3d"submit" dojoAttachEvent\x3d"onClick:getSelectedTags" style\x3d"float:right;"\x3e${i18n.useSelected}\x3c/div\x3e  \r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv dojoAttachPoint\x3d"_contentNoTagsDiv" style\x3d"display:none;"\x3e\r\n\t\t\x3clabel\x3e${i18n.tagsNotAvailable}\x3c/label\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cbr /\x3e\r\n\t\t\x3cdiv id\x3d"button_tags-ok" dojoAttachPoint\x3d"_okBtn" dojotype\x3d"dijit.form.Button" class\x3d"primary" dojoAttachEvent\x3d"onClick:_handleCancelClick" style\x3d"float:right;"\x3e${i18n.ok}\x3c/div\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\t\x3cbr/\x3e\r\n\t\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
_tagsDialog:null,_contentTagsDiv:null,_contentNoTagsDiv:null,_tagsSelect:null,i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.TagsDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common;O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline","arcgisonline").tagsDlg)},postCreate:function(){},_handleCancelClick:function(q){q.preventDefault();
this._tagsDialog.hide()},clear:function(){this._tagsSelect.reset();O.style(this._contentTagsDiv,"display","none");O.style(this._contentNoTagsDiv,"display","none")},hide:function(){this._tagsDialog.hide()},show:function(q){this.clear();var p=arcgisonline.sharing.util.getUser(),h=esriGeowConfig.restBaseUrl+"community/users/";h=q&&(q.username||q.email)?h+(q.username?q.username:q.email):h+p.username;arcgisonline.sharing.util.getJson(h+"/tags",O.hitch(this,this._handleTagResponse),O.hitch(this,this._handleError));
this._tagsDialog.show()},_handleTagResponse:function(q){0==q.tags.length?O.style(this._contentNoTagsDiv,"display",""):(O.style(this._contentTagsDiv,"display",""),O.empty(this._tagsSelect.domNode),O.forEach(q.tags,function(p){O.create("option",{innerHTML:p.tag,value:p.tag},this._tagsSelect.domNode)},this))},_handleError:function(q){},getSelectedTags:function(q){q.preventDefault();q=[];q=this._tagsSelect.get("value");O.publish("onSelectedTagsUpdate",[q.toString()])}})})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),
function(O,K,n,q,p,h){h=K("dijit.form.MultiSelect"+(q("dojo-bidi")?"_NoBidi":""),h,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",addSelected:function(f){f.getSelected().forEach(function(g){this.containerNode.appendChild(g);this.domNode.scrollTop=this.domNode.offsetHeight;g=f.domNode.scrollTop;f.domNode.scrollTop=0;f.domNode.scrollTop=
g},this);this._set("value",this.get("value"))},getSelected:function(){return p("option",this.containerNode).filter(function(f){return f.selected})},_getValueAttr:function(){return O.map(this.getSelected(),function(f){return f.value})},multiple:!0,_setMultipleAttr:function(f){},_setValueAttr:function(f){q("android")?p("option",this.containerNode).orphan().forEach(function(g){var k=g.ownerDocument.createElement("option");k.value=g.value;k.selected=-1!=O.indexOf(f,g.value);k.text=g.text;k.originalText=
g.originalText;this.containerNode.appendChild(k)},this):p("option",this.containerNode).forEach(function(g){g.selected=-1!=O.indexOf(f,g.value)});this.inherited(arguments)},invertSelection:function(f){var g=[];p("option",this.containerNode).forEach(function(k){k.selected||g.push(k.value)});this._setValueAttr(g,!(!1===f||null==f))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(f){f&&n.setMarginBox(this.domNode,f)},postCreate:function(){this._set("value",this.get("value"));
this.inherited(arguments)}});q("dojo-bidi")&&(h=K("dijit.form.MultiSelect",h,{addSelected:function(f){f.getSelected().forEach(function(g){g.text=this.enforceTextDirWithUcc(this.restoreOriginalText(g),g.text)},this);this.inherited(arguments)},_setTextDirAttr:function(f){this.textDir==f&&this._created||!this.enforceTextDirWithUcc||(this._set("textDir",f),p("option",this.containerNode).forEach(function(g){this._created||g.value!==g.text||(g.value=g.text);g.text=this.enforceTextDirWithUcc(g,g.originalText||
g.text)},this))}}));return h})},"arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg":function(){define("dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dijit/registry dijit/form/CheckBox dijit/form/TextBox dijit/form/RadioButton dijit/form/Select ./ConfirmDialog dijit/focus dojo/_base/event dojo/keys ./_CreateItemUtilMixin ./ItemPropertiesDlg dojo/topic esri/IdentityManager esri/lang esri/Evented esri/arcgis/Portal ../../geow/Account ./_PublishTileServiceDlgMixin ../../../esriGeowConfig ../../util ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/serviceUtil ../../../pages/statusUtil ../../../map/core/canUseForPublish esri/map esri/tasks/Geoprocessor esri/dijit/VisibleScaleRangeSlider ../../../pages/isGeographic preact ../../../pages/components/SelectLayerProperties dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X,aa,fa,oa,ua,ha,U,ka,W,Q,L,ca,Y,da){return O("arcgisonline.sharing.dijit.dialog.PublishTilesDlg2",[g,k,u,Z,M],{baseClass:"esriPublishTilesDlg",showFolders:!1,_typeInfo:"mapserver",userFolders:"",templateString:da,onDone:function(){},postMixInProperties:function(){this.inherited(arguments);this.i18n=f.mixin({},Y);this._portalUser=(this._portal=T.portal)&&this._portal.getPortalUser();switch(this.type){case "tiles":this._typeInfo=
"mapserver";break;case "scenes":this._typeInfo="sceneserver";break;case "features":this._typeInfo="featureserver";break;case "vectorTiles":this._typeInfo="vectortileserver";break;case "tiledImagery":case "dynamicImagery":this._typeInfo="imageserver";break;default:this._typeInfo=this.type}},postCreate:function(){this.inherited(arguments);R.getSelf(f.hitch(this,function(S){this._loadConnections();this._portal?this._init():(this._portal=new J.Portal({url:T.restBaseUrl,self:S}),this._portal.on("load",
f.hitch(this,function(){this._connect&&this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){this._restBaseUrl=T.allSSL?this._portal.portalUrl.replace("http:/","https:/"):this._portal.portalUrl;this._contentUrl=this._restBaseUrl+"content";this._publishUrl=this._contentUrl+"/users/"+this._portalUser.username;this.set("message",this.get("message"));this._portal&&!this._portal.isPortal&&(this.cacheStorageInfo.storageFormat="esriMapCacheStorageModeExploded");
this._itemPropertiesDlg.on("load",f.hitch(this,function(){this._loadData().then(f.hitch(this,function(S){this._itemPropertiesDlg.set("focus","title");"sceneserver"===this._typeInfo&&this._itemPropertiesDlg._title.set("disabled",!0);T.self.hasCategorySchema&&(S=[],this.fsItem?S=this.fsItem.categories||S:this._selectedService&&(S=this._selectedService.categories||S),this._itemPropertiesDlg.set("categories",S))}))}))},destroy:function(){q(".dijit",this.contentNode).map(m.byNode).forEach(function(S){S.destroyRecursive?
S.destroyRecursive():S.destroy&&S.destroy();S=null});this._errorDlg&&(this._errorDlg.destroyRecursive(),this._errorDlg=null);this.inherited(arguments);this._tagsDijit=this._portalUser=this._portal=null},_loadConnections:function(){this.own(H.subscribe("dlg/onOk",f.hitch(this,function(){this._focusNode&&setTimeout(f.hitch(this,function(){D.focus(this._focusNode)}),250)})),H.subscribe("/esri/disable",f.hitch(this,function(S,P){this.set("disabled",S,P,!0)})),K(this._agoBasemapRadio,"click",f.hitch(this,
function(){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._updateLODs(this.lods)})),K(this._customBasemapRadio,"click",f.hitch(this,function(){q(".visibleScaleRange",this.domNode).addClass("hide");this._isUserDefinedTileInfo=!0;this._customBasemapUrl.set("disabled",!1);this.userDefinedTileInfo&&this._updateLODs(this.userDefinedTileInfo.lods)})),K(this._customBasemapUrl,"keyup",f.hitch(this,function(S){S.keyCode===y.ENTER&&(E.stop(S),this._customBasemapUrl.onChange(this._customBasemapUrl.get("value")))})),
K(this._customBasemapUrl,"change",f.hitch(this,function(S){S&&S.length?(this._customBasemapUrl.set("disabled",!0),this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._fetchTileLayerInfo(S,this._type).then(f.hitch(this,function(P){this.userDefinedTileInfoUrl=S;this.userDefinedTileInfo=P;this._updateLODs(P.lods);this._customBasemapUrl.set("disabled",!1);this.set("disabled",this._buildingVisibleRange)}),f.hitch(this,function(P){this.userDefinedTileInfo=null;this._showError(P)}))):
(this.userDefinedTileInfo=null,q(".visibleScaleRange",this.domNode).addClass("hide"))})),K(this._tilesOnDemand,"click",f.hitch(this,"_visibleScaleRangeChange")),K(this._selectAttributesContainer,"click",this._selectAttributesClick.bind(this)))},_selectAttributesClick:function(){var S=this.fsItem&&this.fsItem.layers||this._selectedServiceLayers,P=this.vtLayerProperties||this.fsItem&&this.fsItem.adminServiceInfo&&this.fsItem.adminServiceInfo.layerProperties||[],V=w.create("div",null,document.body,"last");
L.render(L.h(ca["default"],{layers:S,layerProperties:P,className:"normalize-modal",onCancel:function(){this._selectAttributesBtn.focus();L.render(null,V)}.bind(this),onSubmit:function(ba){this.vtLayerProperties=ba;this.vectorTilePublishParams=f.mixin(this.vectorTilePublishParams||{},{layerProperties:ba});this._selectAttributesBtn.focus();L.render(null,V)}.bind(this)}),V);V.firstChild.classList.add("bring-modal-to-front")},_updateLODs:function(S){(S=S||this.lods)&&this.set("calculatedScales",this._calculateConstraints({layers:[{minScale:S[0].scale,
maxScale:S[S.length-1].scale}]}))},_adjustDefaultLODs:function(S){var P=S.maxScale||0,V=S.minScale||this.lods[0].scale;this.lods=e.filter(this.lods,function(ba){return ba.scale>=P&&ba.scale<=V});return this._updateLODs(this.lods)},_getLayers:function(S){return S&&S.length?e.map(S,function(P){P.layerDefinition&&(P=f.mixin(P,P.layerDefinition),delete P.layerDefinition);return P}):null},_getLayerDefs:function(S){return S&&S.length?e.filter(S,function(P){return P.layerDefinition}).map(function(P){return{id:P.id,
layerDefinition:P.layerDefinition}}):null},_loadData:function(){if("imageserver"===this._typeInfo)return this._loadImageData();var S=new d;"wfs"!==this._type&&"ogcfeatures"!==this._type&&this.fsItem?(this.set("disabled",!0,this.i18n.publishWizard.fetchingServiceInfo),this._selectedService=f.mixin({},this.fsItem),this._fetchFSInfo(this._selectedService).then(f.hitch(this,function(P){this._featureServiceJson=P.serviceInfo;this._selectedLayers=(this._selectedService.itemData=P.itemData)&&P.itemData.layers;
this._spatialReference=this._featureServiceJson&&this._featureServiceJson.spatialReference||{wkid:4326};"scenes"!==this._type||Q(this._spatialReference)||(this._spatialReference.wkid?q(".sceneProperties .sceneDataDisplay",this.domNode).removeClass("hide"):(q(".sceneProperties .sceneDataDisplay",this.domNode).addClass("hide"),this._globalWkidRadio.set("checked",!0)));this._itemPropertiesDlg.set("summary",this._selectedService.snippet||"");this._itemPropertiesDlg.set("tags",this._selectedService.tags);
this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this._selectedService.title));this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders);n.set(this._globalWkidRadioLabel,"innerHTML",C.substitute(this.i18n.publishTileServiceDlg.globalWkid,{wkid:"4326"}));n.set(this._localWkidRadioLabel,"innerHTML",C.substitute(this.i18n.publishTileServiceDlg.localWkid,{wkid:""+this._spatialReference.wkid||4326}));this._selectedServiceLayers=P.layers&&P.layers.layers;this.set("calculatedScales",
this._calculateConstraints(P.layers));"tiles"===this._type&&this._checkTilesOnDemandSupport(P.layers);this.set("disabled",this._buildingVisibleRange);this.fsItem.isMultipatchFeatureService&&(q(".sceneProperties .sceneMultipatch",this.domNode).removeClass("hide"),P=this._featureServiceJson&&-1<this._featureServiceJson.capabilities.indexOf("ChangeTracking"),this._enableSceneUpdates.set("disabled",P));"vectorTiles"===this._type&&this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",
!0);S.resolve(this._selectedService)}),f.hitch(this,function(P){this._showError(P);S.reject(P)}))):(this.fsItem&&(this._itemPropertiesDlg.set("summary",this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders)),S.resolve(this.fsItem));return S},_loadImageData:function(){var S=new d;this.fsItem?(this._itemPropertiesDlg.set("summary",
this.fsItem.snippet||""),this._itemPropertiesDlg.set("tags",this.fsItem.tags),this._itemPropertiesDlg.set("title",this._getSuggestedTitle(this.item,this.fsItem.title)),this._userFolders&&this._itemPropertiesDlg.set("folders",this._userFolders),S.resolve(this.fsItem)):S.reject(Error("Cannot locate image service item"));return S},_getSuggestedTitle:function(S,P){if("features"!==this._type)return P;var V=S&&S.resultData||[],ba=this._type.toLowerCase(),ea="Feature Service";P=this.sublayer&&this.sublayer.name&&
P+"_"+this.sublayer.name||P;switch(ba){case "wfs":ea="WFS";break;case "ogcfeatures":ea="OGCFeatureService";break;case "scenes":ea="Scene Service";break;case "features":ea="Feature Service";break;default:ea="Feature Service"}V=e.filter(V,function(ia){return ia.type&&ia.type===ea&&-1<ia.title.indexOf(P)});return P+(V.length?"_"+(V.length+1):"_1")},_setMessageAttr:{node:"_message",type:"innerHTML"},_getMessageAttr:function(){if(this.message)return this.message;var S=this._type.toLowerCase(),P=Y.publishTileServiceDlg;
switch(S){case "wfs":return P.wfsServiceDetailsDesc;case "ogcfeatures":return P.ogcFeatureServiceDetailsDesc;case "scenes":return P.sceneServiceDetailsDesc;case "features":return P.viewServiceDetailsDesc;case "vectortiles":return P.vectorServiceDetailsDesc;default:return P.serviceDetailsDesc}},_setTypeAttr:function(S){this._type=S;"tiles"===S?q(".tileProperties",this.domNode).removeClass("hide"):"vectorTiles"===S?(q(".vectorTileProperties",this.domNode).removeClass("hide"),fa.showNode(this._tilePropertiesContainer),
fa.hideNode(this._tilesOnDemandContainer),this._customBasemapUrl.set("placeholder",this._customBasemapUrl.get("placeholder").replace("/MapServer","/VectorTileServer"))):"scenes"===S?q(".sceneProperties",this.domNode).removeClass("hide"):"features"===S&&(S=(this.fsItem&&this.fsItem.layers||this._selectedServiceLayers||[]).some(function(P,V){return P&&P.id!==V}))&&(this._preserveIds.set("checked",S),q(".viewProperties",this.domNode).removeClass("hide"))},_checkTilesOnDemandSupport:function(S){var P=
!1;T.tilesOnDemandEnabled&&S&&S.layers&&(P=!e.some(S.layers,function(V){return!1===ha(V,!1)}));b[P?"remove":"add"](this._tilesOnDemandContainer,"hide");this._tilesOnDemand.set("checked",P)},_enableChangeTrackingOnSource:function(){var S=new d,P=this.fsItem,V=P.isMultipatchFeatureService,ba=this._featureServiceJson,ea=ba&&ba.capabilities||"";ba=0<ea.indexOf("ChangeTracking");P=P.adminUrl+"/updateDefinition";ea={capabilities:ba?ea:ea+",ChangeTracking"};V&&!ba&&this._enableSceneUpdates.checked?X.request({url:P,
content:{async:!0,updateDefinition:JSON.stringify(ea)}},{usePost:!0}).then(function(ia){ia.statusURL?ua.checkAsyncJobStatus(ia.statusURL).then(function(){S.resolve(!0)},function(){S.resolve(!0)}):S.resolve(!0)}):S.resolve(!0);return S},_getBusyMessageAttr:function(){var S=this._type.toLowerCase(),P=Y.publishTileServiceDlg;switch(S){case "wfs":return P.publishingWfsService;case "ogcfeatures":return P.publishingOGCFeatureService;case "scenes":return P.publishingSceneService;case "features":return P.publishingViewService;
case "tiledimagery":return Y.connectDataset.publishing;case "dynamicimagery":return Y.connectDataset.publishing;default:return P.publishingTileService}},_setShowFoldersAttr:function(S){this._showFolders=S},_setItemAttr:function(S){if(!this.fsItem||this.fsItem&&S.url!==this.fsItem.url)this.fsItem=f.mixin({},S),this._created&&this._loadData().then(f.hitch(this,function(P){this._isUserDefinedTileInfo=!1;this._customBasemapUrl.set("disabled",!0);this._agoBasemapRadio.set("checked",!0);this._itemPropertiesDlg.set("focus",
"title");T.self.hasCategorySchema&&this._itemPropertiesDlg.set("categories",this.fsItem.categories)}))},_setFoldersAttr:function(S){var P=this._portalUser&&this._portalUser.username;this._userFolders=S.map(function(V){V&&V.id===P&&(V=f.mixin(V,{id:"/"}));return V})},_setFocusAttr:function(S){S=q(S,this.domNode);D.focus(S&&S.length?S[0]:this._title.domNode)},_setDisabledAttr:function(S,P,V){this.set("readOnly",S,P,V)},_setReadOnlyAttr:function(S,P,V){q(".dijit",this.domNode).map(m.byNode).forEach(function(ba){ba.set("disabled",
S)});q("a",this.domNode)[S?"addClass":"removeClass"]("disabledLink");q("label",this.domNode)[S?"addClass":"removeClass"]("disabled");this._itemPropertiesDlg.set("disabled",S);V||(S&&P&&H.publish("/dlg/busyMessage",P),H.publish("/esri/disable",S,P))},_setCalculatedScalesAttr:function(S){this._buildingVisibleRange=!0;var P={constraints:S,minScale:S.minScale,maxScale:S.maxScale||18055.954822},V=this.fsItem&&this.fsItem.url||this._selectedService&&this._selectedService.url,ba=this.fsItem&&this.fsItem.layers||
this._selectedServiceLayers,ea=f.clone(this.userDefinedTileInfo&&this.userDefinedTileInfo.lods?this.userDefinedTileInfo.lods:this.tileCacheInfo.lods);"tiles"===this.type?(q(".visibleScaleRange",this.domNode).removeClass("hide"),this._visibleScaleRangeSlider&&(this._visibleScaleRangeSlider.destroyRecursive(),w.empty(this._visibleScaleRangeContainer)),this._visibleScaleRangeChangeHandler&&(this._visibleScaleRangeChangeHandler.remove(),this._visibleScaleRangeChangeHandler=void 0),V?(fa.showNodes([this._visibleRangeLoader,
this._visibleRangeLoaderMsg]),fa.activateNode(this._visibleRangeLoader),r(e.map(ba,f.hitch(this,function(ia){return oa.getSuggestedScaleRange(V+"/"+ia.id)}))).then(f.hitch(this,function(ia){var ja,la,na;ia.forEach(f.hitch(this,function(ra,va){ra&&(ja=N.isDefined(ja)?ra&&ra.minScale>ja?ra.minScale:ja:ra?ra.minScale:S.minScale,na=N.isDefined(na)?ra&&ra.maxScale&&ra.maxScale<na?ra.maxScale:na:ra&&ra.maxScale?ra.maxScale:18055.954822,la=N.isDefined(la)?ra&&ra.minScale&&ra.minScale<la?ra.minScale:la:(ra&&
ra.minScale?ra.minScale:S.minScale)||this.SCALE_MIN)}));this._maxSupportedMinScale=S.minScale||this.SCALE_MIN;this._calculatedMinScale=(this._cacheOnDemandMinScale=la||ja)||S.minScale;P.minScale=this._calculatedMinScale;P.maxScale=na||P.maxScale;P.minScale>S.minScale&&0<S.minScale&&(P.minScale=S.minScale);P.maxScale>=P.minScale&&0<P.minScale&&(P.maxScale=this._normalizeMaxScale(P.minScale,P.maxScale,ea));this._visibleScaleRangeSlider=new W(P,w.create("div",null,this._visibleScaleRangeContainer));
this._visibleScaleRangeSlider.startup();this._visibleScaleRangeChangeHandler=K(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);fa.deactivateNode(this._visibleRangeLoader);fa.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;this.set("disabled",this._buildingVisibleRange);this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}),f.hitch(this,
function(){this._calculatedMinScale=S.minScale;this._visibleScaleRangeSlider=new W(P,w.create("div",null,this._visibleScaleRangeContainer));this._visibleScaleRangeSlider.startup();this._visibleScaleRangeChangeHandler=K(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange"));this.own(this._visibleScaleRangeChangeHandler);fa.deactivateNode(this._visibleRangeLoader);fa.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]);this._buildingVisibleRange=!1;
this.set("disabled",this._buildingVisibleRange);this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0)}))):(this._calculatedMinScale=void 0,this._visibleScaleRangeSlider=new W(P,w.create("div",null,this._visibleScaleRangeContainer)),this._visibleScaleRangeSlider.startup(),this._visibleScaleRangeChangeHandler=K(this._visibleScaleRangeSlider,"scale-range-change",f.hitch(this,"_visibleScaleRangeChange")),this.own(this._visibleScaleRangeChangeHandler),fa.deactivateNode(this._visibleRangeLoader),
fa.hideNodes([this._visibleRangeLoader,this._visibleRangeLoaderMsg]),this._buildingVisibleRange=!1,this.set("disabled",this._buildingVisibleRange),this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))):(this._buildingVisibleRange=!1,this._agoBasemapRadio.get("checked")&&this._customBasemapUrl.set("disabled",!0))},_visibleScaleRangeChange:function(){var S=this._tilesOnDemand.get("checked");if(this._calculatedMinScale&&this._visibleScaleRangeSlider&&this._visibleScaleRangeSlider._started){var P=
this._visibleScaleRangeSlider.get("minScale");(0===P&&0!==this._calculatedMinScale||P>this._calculatedMinScale)&&S?(fa.showNode(this._increaseScaleWarning),this._increaseScaleWarning.scrollIntoView(!1)):fa.hideNode(this._increaseScaleWarning)}else fa.hideNode(this._increaseScaleWarning)},_getItemAttr:function(){return"wfs"===this._type?this.get("wfsItem"):"ogcfeatures"===this._type?this.get("ogcFeatureItem"):"scenes"===this._type?this.get("sceneItem"):"features"===this._type?this.get("viewItem"):
"vectorTiles"===this._type?this.get("vectorTileItem"):this.get("tileItem")},_getOgcFeatureItemAttr:function(){var S=this._itemPropertiesDlg.get("item"),P={name:S.title.replace(/ /g,"_")};return{item:S,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:P,outputType:"OGCFeatureService"},publishParams:P}},_getWfsItemAttr:function(){var S=this._itemPropertiesDlg.get("item");var P=f.mixin({},{name:S.title.replace(/ /g,"_"),wfsProperties:{title:S.title,"abstract":S.snippet,
keyword:S.tags}});return{item:S,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:P,outputType:"WFS"},publishParams:P}},_getSceneItemAttr:function(){var S=this._itemPropertiesDlg.get("item"),P=this._globalWkidRadio.get("checked"),V=this._featureServiceJson;var ba=f.mixin({},{name:S.title.replace(/ /g,"_")});P||(ba=f.mixin(ba,{targetSR:V.spatialReference}));return{item:S,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:ba,outputType:"sceneService",
buildInitialCache:!1},publishParams:ba}},_getTileItemAttr:function(){var S=this._visibleScaleRangeSlider.get("actualMaxScale"),P=this._visibleScaleRangeSlider.get("minScale")||this._maxSupportedMinScale||this.SCALE_MIN,V=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):f.clone(this.tileCacheInfo),ba=f.clone(this.cacheStorageInfo),ea={minScale:P,maxScale:S},ia=this._tilesOnDemand.get("checked");var ja=this._itemPropertiesDlg.get("item");V.dpi&&!V.preciseDpi&&(V.preciseDpi=V.dpi);for(var la=
0;la<V.lods.length;la++)delete V.lods[la].label;if(!V.lods.some(function(ra){return ra.scale<=P&&ra.scale>=S},this)){la=V.lods.filter(function(ra){return ra.scale>=P},this).reverse().shift();var na=V.lods.filter(function(ra){return ra.scale<=S},this).shift();la&&(P=la.scale,ea.minScale=P);na&&(S=na.scale,ea.maxScale=S)}V=f.mixin(ea,{name:ja.title.replace(/ /g,"_"),tilingSchema:{tileCacheInfo:V,tileImageInfo:this.tileImageInfo,cacheStorageInfo:ba}});T.tilesOnDemandEnabled&&(V.cacheOnDemand=ia)&&(V.cacheOnDemandMinScale=
this._cacheOnDemandMinScale,V.capabilities="Map,ChangeTracking");return{item:ja,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:V,outputType:"tiles",buildInitialCache:!1},publishParams:V}},_getVectorTileItemAttr:function(){var S=this._featureServiceJson;S=S.layers&&S.layers.length?S.layers[0]:{};var P={minScale:S.minScale||0,maxScale:S.maxScale||0};S=this._itemPropertiesDlg.get("item");var V=this._isUserDefinedTileInfo?f.clone(this.userDefinedTileInfo):void 0;P=f.mixin(P,
{name:S.title.replace(/ /g,"_")},this.vectorTilePublishParams);V&&(P.tilingSchema.tileCacheInfo=V);return{item:S,publishContent:{itemid:this.fsItem.id,filetype:"featureService",publishParameters:P,outputType:"vectorTiles",buildInitialCache:!1},publishParams:P}},_getViewItemAttr:function(){var S=this._itemPropertiesDlg.get("item"),P=this._featureServiceJson,V=this._preserveIds.get("checked"),ba=this._selectedLayers||[],ea;P=f.mixin({},{name:S.title.replace(/ /g,"_"),isView:!0,sourceSchemaChangesAllowed:!0,
isUpdatableView:!0,spatialReference:P.spatialReference,initialExtent:P.initialExtent,capabilities:"Query",preserveLayerIds:V});this._portal&&this._portal.isPortal&&(ea=this._getDataSourceType(this.fsItem))&&ea.dataSourceType&&(P=f.mixin(P,{options:ea}));V||ba.forEach(function(ia,ja){ia.id=ja});return{item:S,createParams:P}},_validate:function(){var S=new d;this._focusNode=null;var P=this._itemPropertiesDlg._validate();P=P.then(f.hitch(this,"_checkRequired"));P=P.then(f.hitch(this,function(V){S.resolve(V)}),
f.hitch(this,function(V){this._showError(V);S.reject(V)}));return S},_checkRequired:function(){var S=new d;if("tiles"===this._type){if(!this._featureServiceJson)var P=this.i18n.publishWizard.errors.selectedServiceNotExist;this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=q("input",this._customBasemapUrl.domNode)[0],P=this.i18n.publishWizard.errors.customTileBasemapNotSpecified)}"vectorTiles"===this._type&&(this._featureServiceJson||(P=this.i18n.publishWizard.errors.selectedServiceNotExist),
this._isUserDefinedTileInfo&&!this.userDefinedTileInfo&&(this._focusNode=q("input",this._customBasemapUrl.domNode)[0],P=this.i18n.publishWizard.errors.customTileBasemapNotSpecified));if(P)return S.reject(P),S;F.serviceNameAvailable(this._itemPropertiesDlg.get("item"),this._portal).then(f.hitch(this,function(V){V&&V.available?S.resolve(!0):(this._focusNode=q("input",this._itemPropertiesDlg._title.domNode)[0],S.reject(Y.addItemFrm.errors.serviceNameExists))}));return S},publishSceneService:function(){return this._enableChangeTrackingOnSource().then(this.publishService.bind(this))},
publishImageService:function(S){var P=new d,V=this.fsItem.url,ba=f.hitch(this,function(ea){this._showError(ea);throw Error(ea);});I.getCredential(V).then(function(ea){this._createNewImageServiceItem().then(function(ia){this._publishImageServiceGP(V,ia,ea.token).then(function(ja){P.resolve(ja)},ba)}.bind(this),ba)}.bind(this),ba);return P},publishService:function(){var S=this.get("item"),P=S.publishContent,V=this._tilesOnDemand.get("checked"),ba,ea="scenes"===this.type,ia=new d,ja=new d;F.publishItem(f.mixin(S,
{owner:this.fsItem.owner}),P,this._portal).then(f.hitch(this,function(la){var na=la&&la.publishResult?la.publishResult[0]:null;na&&na.error?(na.serviceItemId&&F.deleteItem({id:na.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal),this._showError(na.error||Y.addItemFrm.errors.error),ia.reject()):(F.checkStatus({id:na.serviceItemId,jobId:na.jobId},ja,500,this._portal),ja.then(f.hitch(this,function(ra){F.moveItem({id:ra.id,folderId:this.fsItem.ownerFolder,owner:this.fsItem.owner},S.item.folderId,
this._portal).then(f.hitch(this,function(va){(ba=f.mixin(S.item,va,!ea&&this._selectedService&&this._selectedService.itemData?{text:c.stringify(this._selectedService.itemData)}:{}))&&delete ba.typeKeywords;F.updateItem(ba,this._portal).then(f.hitch(this,function(){this.set("disable",!1);ia.resolve({id:na.serviceItemId,jobId:na.jobId,cacheOnDemand:V})}))}))}),f.hitch(this,function(ra){F.deleteItem({id:na.serviceItemId,folderId:this.fsItem.ownerFolder},this._portal);this._showError(ra)})))}),f.hitch(this,
function(la){this._showError(la)}));return ia},createViewService:function(){var S=this.get("item"),P={createParameters:c.stringify(S.createParams),outputType:"featureService",isView:!0},V=this.fsItem&&this.fsItem.serviceInfo||{},ba=this.serviceLayers||this.fsItem.layers,ea,ia,ja=new d;V=ba.map(function(la){ea=f.mixin({},la);delete ea.fields;delete ea.indexes;delete ea.relationships;return ea}).map(f.hitch(this,this._addAdminLayerInfo,V));ba=e.filter(V||[],f.hitch(this,function(la){return la&&"Table"===
la.type}));V=e.filter(V||[],f.hitch(this,function(la){return la&&"Feature Layer"===la.type}));F.createService(f.mixin(S,{owner:this.fsItem.owner}),P,c.stringify({layers:V,tables:ba}),this._portal).then(f.hitch(this,function(la){return F.moveItem({id:la&&la.createResult&&la.createResult.itemId,owner:this.fsItem.owner},S.item.folderId,this._portal)}),f.hitch(this,function(la){this._showError(la);throw Error(la);})).then(f.hitch(this,function(la){this._selectedService&&this._selectedService.itemData&&
this._selectedService.itemData.layers&&this.sublayer&&(this._selectedService.itemData.layers=this._selectedService.itemData.layers.filter(function(na){return na.id===this.sublayer.id}.bind(this)),this._selectedService.itemData.layers[0]&&(this._selectedService.itemData.layers[0].id=0));ia=f.mixin(S.item,la,this._selectedService&&this._selectedService.itemData?{text:c.stringify(this._selectedService.itemData)}:{});ia=f.mixin(ia,{folderId:null});delete ia.typeKeywords;delete ia.type;delete ia.wabType;
return F.updateItem(ia,this._portal)})).then(f.hitch(this,function(la){ja.resolve(f.mixin({},ia,la))}));return ja},_addAdminLayerInfo:function(S,P){var V=/(\/(MapServer|FeatureServer)).*/ig,ba=this.fsItem.url;V=ba&&ba.replace(V,"").replace(/^.*\//,"").replace(/\?.*$/,"");return f.mixin(P,{adminLayerInfo:{viewLayerDefinition:{sourceServiceName:V||P.name,sourceLayerId:P.id,sourceLayerFields:"*"}}})},_getDataSourceType:function(S){S=S&&S.adminServiceInfo&&S.adminServiceInfo.adminServiceInfo||{};S=S.database&&
S.database.datasource||{};return{dataSourceType:S.name&&(-1<S.name.indexOf("/nosqlDatabases")?"spatiotemporal":-1<S.name.indexOf("/enterpriseDatabases")?"relational":null)}},showModal:function(S){var P=new d,V,ba=this._type,ea=this.dialog=new x({title:"features"===ba?this.i18n.itemProperties.publishViewLayer:this.i18n.publishTileServiceDlg.publishTileDialogTitle,style:{height:"auto"}});ea.setContent(this.domNode);ea.show();this.own(K(ea.okButton,"click",f.hitch(this,function(){H.publish("/esri/disable",
!0,this.get("busyMessage"));this._validate().then(f.hitch(this,function(){V="tiledImagery"===ba||"dynamicImagery"===ba?this.publishImageService():"features"!==ba?"scenes"===ba?this.publishSceneService():this.publishService():this.createViewService();V.then(f.hitch(this,function(ia){ea.hide().then(f.hitch(this,function(){P.resolve(ia)}))}))}))})),K(ea,"hide",f.hitch(this,function(){ea.destroyRecursive()})));return P},_createNewImageServiceItem:function(){var S=new d,P=this._itemPropertiesDlg.get("item"),
V=P.title.replace(/ /g,"_");V={title:P.title,outputType:"imageService",tags:P.tags,snippet:P.snippet,createParameters:c.stringify("tiledImagery"===this.type?{name:V,capabilities:"Image, TilesOnly"}:{name:V,capabilities:"Image, Metadata, Mensuration",properties:{description:"",isManaged:"true",isCached:"true",colormapToRGB:"false",esriImageServiceSourceType:"esriImageServiceSourceTypeDataset",allowCopy:"true",allowAnalysis:"true",allowFunction:"true"}})};F.createService(f.mixin(P,{owner:this.fsItem.owner}),
V,null,this._portal).then(f.hitch(this,function(ba){var ea=ba&&ba.createResult&&ba.createResult.itemId;if(!ea)return S.reject();ba.owner=this.fsItem.owner;ba.id=ea;ba.url=ba.createResult.serviceUrl;ba.folderId=P.folderId;delete ba.createResult;F.moveItem({id:ea,owner:ba.owner},P.folderId,this._portal).then(function(){S.resolve(ba)})}),f.hitch(this,function(ba){S.reject(ba)}));return S},_publishImageServiceGP:function(S,P,V){var ba=new d,ea=!1,ia="tiledImagery"===this.type,ja=f.hitch(this,function(ra){if(!ea){ea=
!0;var va={id:P.id,owner:P.owner,folderId:P.folderId,title:P.title,tags:P.tags,snippet:P.snippet,properties:c.stringify({jobUrl:la+"/CopyRaster/jobs/"+ra.jobId+"?f\x3djson",jobStatus:"processing",jobId:ra.jobId,jobType:"GPServer"})},za=f.hitch(this,function(){this.set("disable",!1);ba.resolve({id:P.id,jobId:ra.jobId})});F.updateItem(va,this._portal).then(za,za)}}),la=this._portal.helperServices.rasterAnalytics.url,na=la+"/CopyRaster";S+=V?"?token\x3d"+V:"";ia={inputRaster:c.stringify(ia?{url:S}:{tiled_url:S}),
outputName:c.stringify({itemId:P.id})};na=new ka(na);na.setUpdateDelay(5E3);na.submitJob(ia,null,ja);na.onError=f.hitch(this,function(ra){F.deleteItem({id:P.id,folderId:P.folderId},this._portal);ba.reject(ra)});return ba},_showError:function(S){S=f.mixin(f.mixin({},Y.publishWizard.errors.error),S);var P=f.hitch(this,function(){this.set("disabled",!1);this._errorDlg.hide();this._focusNode&&setTimeout(f.hitch(this,function(){D.focus(this._focusNode)}),250)});this._errorDlg=new x({showCancel:!1,style:{width:"400px",
height:"auto"}});this._errorDlg.own(K(this._errorDlg.closeButtonNode,"click",P));this._errorDlg.show(S).then(P);return!1}})})},"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg":function(){define("esri/lang dojo/_base/declare dojo/on dojo/dom-attr dojo/query dojo/dom dojo/dom-style dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/string dojo/_base/window dojo/promise/all dojo/when dojo/Deferred dojo/_base/array dojo/cookie dojo/dom-class dojo/json dojox/form/Uploader dijit/registry dijit/form/TextBox dijit/form/RadioButton dijit/ConfirmDialog dijit/focus dgrid/OnDemandGrid dgrid/editor dojo/store/Observable dojo/store/Memory esri/dijit/Tags arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin dijit/form/SimpleTextarea dijit/form/Textarea dijit/form/Select dojo/topic esri/Evented esri/arcgis/Portal arcgisonline/pages/portal/PortalItem arcgisonline/esriGeowConfig arcgisonline/pages/pageUtil arcgisonline/pages/utils/categories arcgisonline/pages/utils/dom arcgisonline/pages/dijit/CategoryPicker arcgisonline/sharing/geow/Account arcgisonline/sharing/util arcgisonline/sharing/geow/Folder esri/geometry/Extent esri/SpatialReference ../../../map/core/sameSpatialReference ../../../map/core/projectExtent dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X,aa,fa,oa,ua,ha,U,ka,W,Q,L,ca,Y,da,S){return K("arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg",[k,u,w,I,T],{baseClass:"esriItemPropertiesDlg",templateString:'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\x3cdiv class\x3d"wabdiv"\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab2DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'checked:true,name:"wabtype"\' value\x3d"2d" /\x3e${i18n.addItemFrm.2d}\x3c/label\x3e\x3clabel class\x3d"wab wablbl hide"\x3e\x3cinput class\x3d"wab hide" data-dojo-attach-point\x3d"wab3DRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d\'name:"wabtype"\' value\x3d"3d" /\x3e${i18n.addItemFrm.3d}\x3c/label\x3e\x3c/div\x3e\x3cp data-dojo-attach-point\x3d"_message" class\x3d"trailer-half"\x3e\x3c/p\x3e\x3cform id\x3d"_createForm" data-dojo-attach-point\x3d"_form" enctype\x3d"multipart/form-data" action\x3d"" method\x3d"POST"\x3e\x3clabel for\x3d"uploader" class\x3d"file"\x3e${i18n.addLayerFromFileDlg.fileLabel}\x3c/label\x3e\x3cdiv data-dojo-attach-point\x3d"_files" class\x3d"file" data-dojo-type\x3d"dojox/form/Uploader" data-dojo-props\x3d\'label:"Browse", name:"file", showInput:"before"\'\x3e\x3c/div\x3e\x3cbr class\x3d"file" /\x3e\x3cdiv data-dojo-attach-point\x3d"_zip" class\x3d"zip esriLeadingMargin80 hide"\x3e\x3clabel for\x3d"archiveSelect"\x3e${i18n.addItemFrm.itemContents}\x3c/label\x3e\x3cselect data-dojo-attach-point\x3d"_zipContents" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:25%;"\x3e\x3coption value\x3d"shapefile" selected\x3e${i18n.addItemFrm.typeShapefile}\x3c/option\x3e\x3coption value\x3d"filegeodatabase"\x3e${i18n.addItemFrm.itemFileGeodatabase}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-url" class\x3d"url hide trailer-0"\x3e${i18n.publishWizard.urlItemLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-url" class\x3d"required url trailer-half hide" data-dojo-attach-point\x3d"_url" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'disabled:true, name:"url", trim:true, placeHolder:"${i18n.addLayerFromUrlDlg.enterUrl}"\'\x3e\x3c/div\x3e\x3cbr class\x3d"url hide" /\x3e\x3clabel for\x3d"${id}-title" class\x3d"trailer-0"\x3e${i18n.publishWizard.titleLbl}\x3c/label\x3e\x3cdiv id\x3d"${id}-title" tabindex\x3d"0" class\x3d"required title trailer-half" data-dojo-attach-point\x3d"_title" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d\'name:"title", trim:true, placeHolder:"${i18n.publishWizard.titlePlaceHolder}"\'\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-tags" data-dojo-attach-point\x3d"_tagsDijitLbl" class\x3d"tagsLbl leader-0 trailer-0"\x3e${i18n.publishWizard.tagsLbl}\x3cspan class\x3d"screen-readers-only" id\x3d"tags-required"\x3e${i18n.publishWizard.tagsRequired}\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"position-relative hide js-tags-mask"\x3e\x3cdiv class\x3d"tags-disabled-mask"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}-tags" class\x3d"trailer-half" data-dojo-attach-point\x3d"_tagsDijit" data-dojo-type\x3d"esri/dijit/Tags" data-dojo-props\x3d"name: \'tags\', width:\'100%\', minWidth:\'100%\', maxWidth:\'100%\'"\x3e\x3c/div\x3e\x3cbr /\x3e\x3clabel for\x3d"${id}-summary" class\x3d"trailer-0 leader-half"\x3e${i18n.publishWizard.summaryLbl}\x3c/label\x3e\x3ctextarea id\x3d"${id}-summary" tabindex\x3d"0" class\x3d"required snippet trailer-0" maxlength\x3d"250" data-dojo-attach-point\x3d"_summaryDijit" class\x3d"summaryTextBox dijitPlaceHolder" data-dojo-type\x3d"dijit/form/Textarea" data-dojo-props\x3d\'name:"snippet", trim:true, placeHolder:"${i18n.publishWizard.summaryPlaceHolder}", value: "${i18n.publishWizard.summaryPlaceHolder}"\'\x3e\x3c/textarea\x3e\x3cbr /\x3e\x3cdiv class\x3d"hide categories-container"\x3e\x3clabel class\x3d"trailer-0 leader-half" data-dojo-attach-point\x3d"_categoriesLbl" for\x3d"itemPropCategoryPicker"\x3e${i18n.addItemFrm.categories}${i18n.addItemFrm.colon}\x3c/label\x3e\n\x3cdiv class\x3d"categoriesPickerSection" data-dojo-attach-point\x3d"_categoriesContainer" id\x3d"itemPropCategoryPicker"\x3e\x3c/div\x3e\x3c/div\x3e\x3clabel for\x3d"${id}-folders" data-dojo-attach-point\x3d"_foldersDijitLbl" class\x3d"folderDropdown trailer-0 leader-half hide" style\x3d"clear:both;"\x3e\x3cspan class\x3d"saveFolderLbl"\x3e${i18n.publishWizard.saveFolderLbl}\x3c/span\x3e\x3cselect id\x3d"${id}-folders" tabindex\x3d"0"  class\x3d"folderDropdownSelect folderDropdown hide" data-dojo-attach-point\x3d"_folders" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:77%;" data-dojo-props\x3d\'maxHeight:"200"\'\x3e\x3c/select\x3e\x3c/label\x3e\x3c/form\x3e\x3c/div\x3e',
onOk:function(){},onCancel:function(){},onLoad:function(){},postMixInProperties:function(){this.inherited(arguments);this._errorDlg=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance();this.i18n=g.mixin({},S);this._maxFileSize=1E9;this._analyzeTypes={csv:1};this._type=this.typeInfo;var P=b("ESRI_Content");this._selectedFolderId=(P?m.parse(P):{}).folderId||null;this._portalUser=(this._portal=fa.portal)&&(this._portal.portalUser||this._portal.user||this._portal.getPortalUser())},
postCreate:function(){this.inherited(arguments);c.add(this._summaryDijit.domNode,"dijitPlaceHolder");var P=this._files.displayInput;c.add(P,"placeHolder");q.set(P,"value","Select File");this._tagsDijit&&this._tagsDijit._inputTextBox&&this._tagsDijit._inputTextBox.set&&this._tagsDijit._inputTextBox.set("aria-describedby","tags-required");this._tagsDijitLbl&&this._tagsDijit._inputTextBox&&q.set(this._tagsDijitLbl,"for",this._tagsDijit._inputTextBox.id);ka.getSelf(g.hitch(this,function(V){this._loadConnections();
this._portal?this._init():(this._portal=new X.Portal({url:fa.restBaseUrl,self:V}),this._connect=this._portal.on("load",g.hitch(this,function(ba){this._connect.remove();this._portalUser=this._portal.getPortalUser();this._init()})))}))},_init:function(){return l([W.loadUserTags(this._portalUser.username),this._getFolders()]).then(g.hitch(this,function(P){P&&P[0]&&this._tagsDijit.set("knownTags",P[0]);this.item&&this.item.type&&!this.item.declaredClass&&(this.item=new aa(g.mixin(this.item,{portal:this._portal})));
this._tagsDijit.set("value",this.item&&this.item.tags||"");this._summaryDijit.set("value",S.publishWizard.summaryPlaceHolder);this._loadFolders(P[1]&&P[1].folders||[],this._folders);this._supportedType=!this.item||"Web Scene"!==this.item.type&&"Web Map"!==this.item.type?null:this.item.type;this.set("showWAB","wab"!==this._type||this._supportedType?!1:!0);this._supportedType&&this.wab2DRadio.set("checked","Web Map"===this._supportedType);this.onLoad()}))},destroy:function(){p(".dijit",this.contentNode).map(v.byNode).forEach(function(P){P.destroyRecursive?
P.destroyRecursive():P.destroy?P.destroy():P=null});this.inherited(arguments);this._grid&&(this._grid.destroy(),this._grid=null);this._tagsDijit&&(this._tagsDijit.destroyRecursive(),this._tagsDijit=null);this._analyzedFile?N.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(P){this._tagsDijit=this._portalUser=this._portal=this._analyzedFile=null})):this._tagsDijit=this._portalUser=this._portal=null;this._errorDlg&&(this._errorDlg._dialog&&this._errorDlg._dialog.destroyRecursive(),
this._errorDlg.destroyRecursive(),this._errorDlg=null)},startup:function(){this.inherited(arguments);this._initializeCategoryPicker(this.categories||[])},disableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.remove("hide");this._categories&&this._categories.disable()},enableTagsAndCategories:function(){this._tagsDijit&&this.domNode.querySelector(".js-tags-mask").classList.add("hide");this._categories&&this._categories.enable()},_initializeCategoryPicker:function(P){if(fa.self.hasCategorySchema){var V=
function(ba){this._categories=new U({categories:P||[],schema:ba},C.create("div",null,this._categoriesContainer));this._categories.startup();ha.showNodes(p(".categories-container",this.domNode));this._initializingCategoryPicker=!1}.bind(this);this.item&&this.item.portal&&this.item.portal.getCategories&&this.item.portal.getCategories instanceof Function?(this._initializingCategoryPicker=!0,this.item.portal.getCategories().then(V)):(this._initializingCategoryPicker=!0,W.request({url:fa.restBaseUrl+"portals/self/categorySchema"}).then(function(ba){V(ba.categorySchema)}.bind(this)))}},
_getWebMapAuthoringInfo:function(){return{authoringApp:"WebMapViewer",authoringAppVersion:W.isPortal()?"10.6":"6.1",version:"2.11"}},addItem:function(){var P=new e,V,ba;this._validate().then(g.hitch(this,function(){Z.publish("/esri/disable",!0,S.addItemFrm.addingItem);if(this._analyzedFile)V=this._updateItem().then(g.hitch(this,function(ia){return ia}));else if("webmap"===this._type)V=this._fetchBaseMap().then(g.hitch(this,function(ia){return ba=ia})).then(g.hitch(this,"_projectPortalExtent")).then(g.hitch(this,
function(ia){var ja=this.get("item");ja.text=ba?m.stringify(ba):ja.text;ja.extent=ia;return N.addItem(ja,this.get("folder"),this._portal)}));else if("dashboard_map"===this._type){var ea=this.get("item");ea.text=z.substitute(ea.text,{mapId:this.item.id});V=N.addItem(ea,this.get("folder"),this._portal)}else V=N.addItem(this.showFile?this.get("form"):this.get("item"),this.get("folder"),this._portal);V.then(g.hitch(this,function(ia){Z.publish("/esri/disable",!1);P.resolve(ia)}),g.hitch(this,function(ia){Z.publish("/esri/disable",
!1);ia&&409===ia.code&&(ia=this.get("item"),ia={title:S.addItemFrm.errors.error.title,message:O.substitute({type:ia.type,title:ia.title},S.addItemFrm.errors.itemExists.message)});P.reject(ia)}))}),g.hitch(this,function(ea){Z.publish("/esri/disable",!1);P.reject(ea)}));return P},_fetchBaseMap:function(){var P=this._portal&&this._portal.defaultBasemap||null,V=this._getWebMapAuthoringInfo(),ba,ea,ia,ja=function(){ea=a.map(P.baseMapLayers||[],g.hitch(this,function(na,ra){ba=g.clone(na);ba=g.mixin(ba,
{opacity:1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,id:"defaultBasemap_"+ra});ia=0===ra?na.spatialReference||na.resourceInfo&&na.resourceInfo.spatialReference:ia;delete ba.resourceInfo;return ba}));return g.mixin({operationalLayers:[],spatialReference:ia||this._portal&&this.portal.defaultExtent&&this.portal.defaultExtent.spatialReference,baseMap:g.mixin(P,{baseMapLayers:ea})},V)};if(P&&P.id)var la=X.PortalUtil.request(this._portal.portalUrl+"content/items/"+P.id+"/data").then(g.hitch(this,
function(na){return na}),g.hitch(this,function(na){return ja()}));else P?(la=new e,la.resolve(ja())):(la=new e,la.resolve());return la},_projectPortalExtent:function(P){var V=new e;P=this._portal&&this._portal.defaultExtent||null;var ba=new L(P),ea=new ca({wkid:102100});P&&ba.spatialReference.wkid!==ea.wkid?da(ba,ea,g.hitch(this,function(ia){ia[0]?V.resolve(N.getPortalDefaultExtentAsGCS({defaultExtent:ia[0]})):V.resolve(N.getPortalDefaultExtentAsGCS(this._portal))})):V.resolve(N.getPortalDefaultExtentAsGCS(this._portal));
return V},_extent2String:function(P,V){V=V||4;var ba=+P.xmin.toFixed(V),ea=+P.ymin.toFixed(V),ia=+P.xmax.toFixed(V),ja=+P.ymax.toFixed(V);return isNaN(ba)||isNaN(ea)||isNaN(ia)||isNaN(ja)?"":ba+","+ea+","+ia+","+ja},_loadConnections:function(){this.own(Z.subscribe("/esri/disable",g.hitch(this,function(P){this.set("readOnly",P)})),p(".dijitTextArea",this.contentNode).on("focus",g.hitch(this,function(P){P=this._summaryDijit;P.get("value")===S.publishWizard.summaryPlaceHolder&&(c.remove(P.domNode,"dijitPlaceHolder"),
P.set("value",""))})),p(".dijitTextArea",this.contentNode).on("blur",g.hitch(this,function(P){P=this._summaryDijit;""===P.get("value")&&(c.add(P.domNode,"dijitPlaceHolder"),P.set("value",S.publishWizard.summaryPlaceHolder))})),n(this._errorDlg,"hide",g.hitch(this,function(){this._focusNode&&setTimeout(g.hitch(this,function(){D.focus(this._focusNode)}),250)})),n(this._tagsDijitLbl,"click",g.hitch(this,function(P){this._tagsDijit._inputTextBox.focus();p(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),
n(this._tagsDijit.domNode,"focusout",g.hitch(this,function(P){p(".select2-choices",this._tagsDijit.domNode).removeClass("focus")})),n(this._tagsDijit.domNode,"focusin",g.hitch(this,function(P){this._tagsDijit._inputTextBox.focus();p(".select2-choices",this._tagsDijit.domNode).addClass("focus")})),n(this._foldersDijitLbl,"click",g.hitch(this,function(P){this._folders.focus()})))},_setTitleAttr:function(P){return this._title.set("value",P||"")},_getTitleAttr:function(){return this._title.get("value")},
_setShowFileAttr:function(P){P||(p(".file",this.contentNode).style("display","none"),p(".dijitUploader input",this.contentNode).attr("disabled","disabled"),this._files.set("disabled",!0))},_setShowUrlAttr:function(P){P&&(p(".url",this.contentNode).removeClass("hide"),this._url.set("disabled",!1))},_setShowFoldersAttr:function(P){p(".folderDropdown",this.domNode)[P?"removeClass":"addClass"]("hide")},_setFoldersAttr:function(P){this._userFolders=P;this._folders.set("options",a.map(P,"return {label:item.title, value:item.id};"));
this._folders.set("value",this._selectedFolderId||"/")},_setShowWABAttr:function(P){p(".wab",this.domNode)[P?"removeClass":"addClass"]("hide")},_setMessageAttr:{node:"_message",type:"innerHTML"},_setTypeAttr:function(P){q.set(this._type,"value",P)},_setTypeInfoAttr:function(P){this._type=P},_setTagsAttr:function(P){this._tagsDijit.set("value",P||"")},_setCategoriesAttr:function(P){if(fa.self.hasCategorySchema)if(!this._categories||this._initializingCategoryPicker)var V=setInterval(function(){this._categories&&
!this._initializingCategoryPicker&&(clearInterval(V),this._categories.setCategories(P||[],!0))}.bind(this),50);else this._categories.setCategories(P||[],!0)},_setSummaryAttr:function(P){c[P?"remove":"add"](this._summaryDijit.domNode,"dijitPlaceHolder");this._summaryDijit.set("value",P||S.publishWizard.summaryPlaceHolder);this._summaryDijit.resize()},_setBatchGeocodersAttr:function(P){this._geocoders.set("options",P);this._geocoders.set("value",P[0].value,!1);this._batchGeocoders=P;this._selectedGeocoder=
P[0]},_setFocusAttr:function(P){var V=v.byId(this.id+"-"+P);if(V)setTimeout(g.hitch(this,function(){V.focus()}),250);else{var ba=p(P,this.domNode);setTimeout(g.hitch(this,function(){D.focus(ba&&ba.length?ba[0]:this._title.domNode)}),250)}},_setDisabledAttr:function(P){this._disable(P)},_setReadOnlyAttr:function(P){p(".dijit",this.domNode).map(v.byNode).forEach(function(V){V.set("readOnly",P)});p(".dijitButtonContents",this._files.domNode).forEach(function(V){q.set(V,"readonly",P);c[P?"add":"remove"](V,
"dijitDisabled dijitTextBoxDisabled")});c[P?"add":"remove"](this._tagsDijit.domNode,"dijitDisabled dijitTextBoxDisabled");p("input",this._tagsDijit.domNode).forEach(function(V){q.set(V,"readonly",P)});p("a",this.contentNode)[P?"addClass":"removeClass"]("disabledLink");p(".dijitSelect .dijitButtonText",this.contentNode)[P?"addClass":"removeClass"]("dijitTextBoxDisabled");this._folders.set("disabled",P);this._summaryDijit.set("disabled",P);p(".dijitUploader input",this.contentNode).attr("readonly",
"readonly")},_getFormAttr:function(){var P=this._checkThumbnailURL(g.mixin({},this.itemInfo[this._type])),V=C.create("div",null,this._form);P=g.mixin(P,{tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==S.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):""});P=this._adjustItemInfo(P);for(var ba in P)C.place(C.create("input",{name:ba,type:"text",value:P[ba],"class":"hide"}),V);return h.byId("_createForm")},_getItemAttr:function(){var P=this._checkThumbnailURL(g.mixin({},
this.itemInfo[this._type]));P=g.mixin(P,{title:this._title.get("value"),tags:this._tagsDijit.get("tags"),snippet:this._summaryDijit.get("value")!==S.publishWizard.summaryPlaceHolder?this._summaryDijit.get("value"):"",folderId:this.get("folder"),wabType:"wab"===this._type?this.get("WABType"):null});P=this._adjustItemInfo(P);fa.self.hasCategorySchema&&this._categories&&(P.categories=this._categories.getCategories(!0));this._supportedType&&(P=g.mixin(P,{webmap:this.item.id}));return P},_adjustItemInfo:function(P){var V=
this._type,ba=P.text,ea=this._portal&&this._portal.helperServices||[];ea=ea.defaultElevationLayers?g.clone(ea.defaultElevationLayers):[];if(ba&&("webscene"===V||"webscene_portal"===V)&&ea&&ea.length){var ia=JSON.parse(ba);ea=ea.map(function(ja){ja=g.mixin(ja,{title:ja.title||ja.name||"Elevation",id:ja.id||ja.name||(new Date).getTime()+""});ja.name&&delete ja.name;return ja});ia.baseMap.elevationLayers=ea;ia.ground.layers=ea;P.text=JSON.stringify(ia)}if("dashboard"===V||"dashboard_map"===V)P.typeKeywords=
"ArcGIS Dashboards",ia=JSON.parse(ba||"{}"),ia.version=45,P.text=JSON.stringify(ia),delete P.thumbnailURL,P.thumbnailUrl="dashboard"===V?"https://static.arcgis.com/images/dashboards.png":P.thumbnailUrl;return P},_getWABTypeAttr:function(){return this.wab2DRadio.get("checked")?"HTML":"HTML3D"},_getFolderAttr:function(){var P=this._folders.get("value");P=this._portalUser?"/"===P||P===this._portalUser.username?null:P:"/"===P?null:P;return this.showFolders?P:this._selectedFolderId},_getFolders:function(){var P=
new e;this._portalUser.getFolders?this._portalUser.getFolders().then(g.hitch(this,function(V){P.resolve({folders:V})}),g.hitch(this,function(V){P.reject(V)})):Q.getFolders(g.hitch(this,function(V){P.resolve(V)}),g.hitch(this,function(V){P.reject(V)}),!1);return P},_getFileInfo:function(P){var V=new e,ba=/(?:\.([^.]+))?$/;P=P&&P.length&&P[0]||{};var ea=P.name.replace(/^.*(\\|\/|:)/,"");ba=ea?ba.exec(ea)[1].toLowerCase():"";var ia=ea?ea.substring(0,ea.lastIndexOf(".")):"";this._isValidFileType(ba)||
V.reject(S.addItemFrm.errors.unknownType);window&&window.FileReader&&P.size>this._maxFileSize&&V.reject(S.addItemFrm.errors.fileToLarge);V.resolve(g.mixin(P,{title:ia,fileType:ba,origName:ea}));return V},_deleteAnalyzedFile:function(){if(this._analyzedFile)var P=N.deleteItem(this._analyzedFile,this._portal).then(g.hitch(this,function(){this._analyzeResult=this._analyzedFile=null}));else P=new e,P.resolve(!0);return P},_toOptions:function(P,V){var ba=[];V&&(P=g.mixin({},S.addItemFrm.notUsed,P));for(var ea in P)ba.push({label:P[ea],
value:ea});return ba},_addFile:function(){var P=this.get("form");if(P)return P=N.addItem(P,this.get("folder"),this._portal),P.then(g.hitch(this,function(V){Z.publish("/esri/disable",!1);return V}),g.hitch(this,function(V){Z.publish("/esri/disable",!1);this._showError(V)}))},_updateItem:function(){var P=this._analyzedFile,V=this.get("item"),ba=!1,ea;for(ea in V)P[ea]&&P[ea]===V[ea]?delete V[ea]:ba=!0;ba?V=N.updateItem(g.mixin(V,{id:P.id,folderId:P.folderId}),this._portal).then(g.hitch(this,function(ia){return g.mixin(P,
ia)})):(V=new e,V.resolve(P));return V},_getPublishParameters:function(P){var V=this._geocoder||"none";P=this._getDefaultPublishParameters(P);var ba=this._analyzeResult&&this._analyzeResult.publishParameters,ea=ba&&ba.standardizedFieldNames,ia=this._grid&&this._grid.store;if(ba)if("addressTypes"===V){var ja=0,la={},na=ea;ia.query(function(va){"unknown"!==va.locationType&&va.locationType in na&&(la[va.locationType]=va.name,ja++)});if(1>ja)return{error:this.i18n.errors.noAddressFields};P.publishParameters.locationType=
"address";P.publishParameters.addressFields=la}else if("locationTypes"===V){var ra={locationType:"coordinates",latitudeFieldName:null,longitudeFieldName:null};na=g.mixin({},this.i18n.addItemFrm[V]);ia.query(function(va){"unknown"!==va.locationType&&va.locationType in na&&(ra[va.locationType+"FieldName"]=va.name)});if(!ra.latitudeFieldName||!ra.longitudeFieldName)return{error:this.i18n.errors.noLocationFields};g.mixin(P,ra)}else P.publishParameters.locationType="none";return P},_getDefaultPublishParameters:function(P){var V=
P.type.toLowerCase(),ba={itemId:P.id,filetype:V},ea=this._analyzeResult&&this._analyzeResult.publishParameters;"tile package"===V&&(ba.filetype="tilePackage",ba.buildInitialCache=!0);ba.publishParameters=g.mixin(ea||{},{name:P.title.replace(/ /g,"_"),maxRecordCount:2E3});ea&&(ba.hasStaticData=!0,ba.publishParameters.layerInfo=g.mixin(ea.layerInfo||{},{capabilities:"Query"}),ba.publishParameters.persistErrorRecordsForReview=!0);return ba},_analyze:function(){var P={};Z.publish("/esri/disable",!0,"Uploading file...");
return this._addFile().then(g.hitch(this,function(V){Z.publish("/esri/disable",!0,"Analyzing file...");this._analyzedFile=V;this._portal._isPortal||!this._selectedGeocoder.isWorldGeocodeServer?P.geocodeServiceUrl=encodeURI(this._selectedGeocoder):this._selectedGeocoder.isWorldGeocodeServer&&(P.sourceCountry=this._analyzeResult?this._countries.get("value").toLowerCase():"",P.sourceCountryHint=this._analyzeResult?"":this._sourceCountry);return N.analyzeItem(V,P,this._portal).then(g.hitch(this,function(ba){this._analyzeResult=
this._analyzedFile.analyzeResult=ba;this._createGrid(ba);c.remove(this.geocoding,"hide");Z.publish("/esri/disable",!1);return this._analyzedFile}))}))},_validate:function(){var P=new e;var V=this._checkRequired(this.get("item"));V=V.then(g.hitch(this,"_itemExists",this.get("item")));V=V.then(g.hitch(this,function(ba){P.resolve(ba)}),g.hitch(this,function(ba){this._focusNode&&D.focus(this._focusNode);P.reject(ba)}));return P},_isValidFileType:function(P){var V=!0;this.showFile&&this.validTypes?(this.validTypes=
this.validTypes instanceof Array?this.validTypes:[this.validTypes],-1===a.indexOf(this.validTypes,P)&&(V=!1)):this.itemInfo[type.toLowerCase()]||(V=!1);return V},_checkThumbnailURL:function(P){this.item&&this.item.thumbnail&&this.item.thumbnailUrl?P.thumbnailUrl=this.item.thumbnailUrl:(P.thumbnailURL&&(P.thumbnailURL=W.getStaticImagesUrl()+P.thumbnailURL),this._portal.isPortal&&P.thumbnailURL&&0!==P.thumbnailURL.indexOf("http")&&(P.thumbnailURL=window.location.protocol+"//"+window.location.host+P.thumbnailURL));
return P},_isEmpty:function(P){return(this.trim?/^\s*$/:/^$/).test(P)},_disable:function(P){this._folders.set("disabled",P);this._summaryDijit.set("disabled",P);!this.showFiles&&P&&p(".dijitUploader input",this.contentNode).attr("disabled","disabled")},_loadFolders:function(P,V){var ba=b("ESRI_Content");ba=ba?m.parse(ba):{};var ea=ba.folderId||null;this._selectedFolderId=ba.folderId||null;(!P||!P.length||P&&P.length&&P[0].title!==this._portalUser.username)&&P.unshift({title:this._portalUser.username,
id:"/"});V.options=a.map(P,"return {label:item.title, value:item.id};");V.set("value",ea||this._portalUser.username)},_loadCountries:function(P,V){var ba=this._portal.getPortalUser(),ea=[];ba=(this._portal.region||ba.region||portal.ipCntryCode||"world").toLowerCase();ba="wo"===ba?"world":ba;for(var ia in P)ea.push({label:P[ia],value:ia.toLowerCase()});ea=ea.sort(function(ja,la){return ja.label<la.label?-1:ja.label>la.label?1:0});V.set("options",ea);V.set("value",ba,!1);this._sourceCountry=ba},_checkRequired:function(){var P=
new e,V,ba;p(".required",this.contentNode).map(v.byNode).every(g.hitch(this,function(ea){return!c.contains(ea.domNode,"hide")&&this._isEmpty(ea.get("value"))?(ba=ea.domNode||ea,this._focusNode=p("input",ba)[0],V=g.mixin({},S.publishWizard.errors.error,S.publishWizard.errors.required[ea.get("name")]),!1):!0}));V?P.reject(V):P.resolve(!0);return P},_itemExists:function(P){var V=new e,ba=this._type in{mapserver:1,featureserver:1,sceneserver:1,wfs:1,ogcFeatures:1,vectortileserver:1,imageserver:1},ea=
"wfs"===this._type||"ogcFeatures"===this._type,ia=ea?/[.@#%&*+=\-\\';,\/|\\":<>()\?]/g.test(P.title):ba?/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(P.title):/[<>]/g.test(P.title),ja=P.title.match(/^\d/)?!0:!1,la=this.itemInfo[P.type.toLowerCase()]?this.itemInfo[P.type.toLowerCase()].type:P.type;this._itemExistsCheck(P).then(function(na){ia||ba&&120<P.title.length?(this._focusNode=p("input",this._title.domNode)[0],V.reject(ba?S.addItemFrm.errors.invalidServiceTitle:S.addItemFrm.errors.invalidItemTitle)):
ea&&ja?V.reject(S.addItemFrm.errors.invalidCharactersStartsWithNumber):na?(this._focusNode=p("input",this._title.domNode)[0],na=O.substitute({type:la,title:P.title},S.addItemFrm.errors.itemExists.message),V.reject({title:S.addItemFrm.errors.error.title,message:na})):V.resolve(!1)}.bind(this));return V},_itemExistsCheck:function(P){var V=P.title,ba=this.get("folder"),ea=this.itemInfo[P.type.toLowerCase()]?this.itemInfo[P.type.toLowerCase()].type:P.type,ia=this._portalUser.username,ja=new dojo.Deferred;
W.request({url:fa.restBaseUrl+"search",content:{q:'title:"'+V+'" AND type:"'+ea+'" AND owner:"'+ia+'" AND ownerfolder:"'+(ba&&"/"!==ba?ba:"root")+'"',num:1}}).then(dojo.hitch(this,function(la){la&&la.total?ja.resolve(this._isSameTitle(P,la.results.shift())):ja.resolve(!1)}));return ja},_isSameTitle:function(P,V){return(P&&P.title)===(V&&V.title)},_showError:function(P){P.messageCode&&"GWM_0011"===P.messageCode&&(P=g.mixin(P,{message:S.common.errors.spamContentItemCreate}));P=g.mixin(g.mixin({},S.publishWizard.errors.error),
P);this._errorDlg.show(P);this._disable(!1);return!1}})})},"dojox/form/Uploader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-attr dojo/dom-construct dojo/dom-form dijit dijit/form/Button ./uploader/_Base ./uploader/_HTML5 ./uploader/_IFrame ./uploader/_Flash dojo/i18n!./nls/Uploader dojo/text!./resources/Uploader.html".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,
C,z,r,l,d,e,a,b,c){return K("dojox.form.Uploader",[l,r,d,e,a],{uploadOnSelect:!1,tabIndex:0,multiple:!1,label:b.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:c,baseClass:"dijitUploader "+r.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.force=this.force.toLowerCase();this.supports("multiple")?this.uploadType="form"===this.force?"form":"html5":this.uploadType="flash"===
this.force?"flash":"iframe";this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);f.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();u.set(this.titleNode,"tabIndex",-1)},_buildDisplay:function(){this.showInput&&(this.displayInput=w.create("input",{"class":"dijitUploadDisplayInput",tabIndex:-1,autocomplete:"off",role:"presentation"},this.containerNode,this.showInput),this._attachPoints.push("displayInput"),this.connect(this,"onChange",function(m){for(var t=
0,v,A=[];v=m[t++];)v&&v.name&&A.push(v.name);this.displayInput.value=A.join(", ")}),this.connect(this,"reset",function(){this.displayInput.value=""}))},startup:function(){this._buildInitialized||(this._buildInitialized=!0,this._getButtonStyle(this.domNode),this._setButtonStyle(),this.inherited(arguments))},onChange:function(m){},onBegin:function(m){},onProgress:function(m){},onComplete:function(m){this.reset()},onCancel:function(){},onAbort:function(){},onError:function(m){},upload:function(m){m=
m||{};m.uploadType=this.uploadType;this.inherited(arguments)},submit:function(m){m=m?m.tagName?m:this.getForm():this.getForm();m=C.toObject(m);m.uploadType=this.uploadType;this.upload(m)},reset:function(){delete this._files;this._disconnectButton();q.forEach(this._inputs,w.destroy);this._inputs=[];this._nameIndex=0;this._createInput()},getFileList:function(){var m=[];this.supports("multiple")?q.forEach(this._files,function(t,v){m.push({index:v,name:t.name,size:t.size,type:t.type})},this):q.forEach(this._inputs,
function(t,v){t.value&&m.push({index:v,name:t.value.substring(t.value.lastIndexOf("\\")+1),size:0,type:t.value.substring(t.value.lastIndexOf(".")+1)})},this);return m},_getValueAttr:function(){return this.getFileList()},_setValueAttr:function(m){},_setDisabledAttr:function(m){this.disabled!=m&&this.inputNode&&(this.inherited(arguments),f.set(this.inputNode,"display",m?"none":""))},_getButtonStyle:function(m){this.btnSize={w:f.get(m,"width"),h:f.get(m,"height")}},_setButtonStyle:function(){this.inputNodeFontSize=
Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput()},_getFileFieldName:function(){return this.supports("multiple")&&this.multiple?this.name+"s[]":this.name+(this.multiple?this._nameIndex:"")},_createInput:function(){this._inputs.length&&(f.set(this.inputNode,{top:"500px"}),this._disconnectButton(),this._nameIndex++);var m=this._getFileFieldName();this.focusNode=this.inputNode=w.create("input",{type:"file",name:m,"aria-labelledby":this.id+"_label"},this.domNode,
"first");this.supports("multiple")&&this.multiple&&u.set(this.inputNode,"multiple",!0);this._inputs.push(this.inputNode);f.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton()},_connectButton:function(){this._cons.push(p.connect(this.inputNode,"change",this,function(m){this._files=this.inputNode.files;this.onChange(this.getFileList(m));!this.supports("multiple")&&this.multiple&&this._createInput()}));-1<this.tabIndex&&
(this.inputNode.tabIndex=this.tabIndex,this._cons.push(p.connect(this.inputNode,"focus",this,function(){g.add(this.domNode,this.focusedClass)})),this._cons.push(p.connect(this.inputNode,"blur",this,function(){g.remove(this.domNode,this.focusedClass)})))},_disconnectButton:function(){q.forEach(this._cons,p.disconnect);this._cons.splice(0,this._cons.length)}})})},"dojox/form/uploader/_Base":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/has dojo/_base/declare dojo/_base/event dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin".split(" "),
function(O,K,n,q,p,h,f,g,k,u){p.add("FormData",function(){return!!window.FormData});p.add("xhr-sendAsBinary",function(){var w=window.XMLHttpRequest&&new window.XMLHttpRequest;return w&&!!w.sendAsBinary});p.add("file-multiple",function(){return!!{"true":1,"false":1}[q.get(document.createElement("input",{type:"file"}),"multiple")]});return h("dojox.form.uploader._Base",[g,k,u],{getForm:function(){if(!this.form)for(var w=this.domNode;w&&w.tagName&&w!==document.body;){if("form"==w.tagName.toLowerCase()){this.form=
w;break}w=w.parentNode}return this.form},getUrl:function(){this.uploadUrl&&(this.url=this.uploadUrl);if(this.url)return this.url;this.getForm()&&(this.url=this.form.action);return this.url},connectForm:function(){this.url=this.getUrl();!this._fcon&&this.getForm()&&(this._fcon=!0,this.connect(this.form,"onsubmit",function(w){f.stop(w);this.submit(this.form)}))},supports:function(w){switch(w){case "multiple":if("flash"==this.force||"iframe"==this.force)break;return p("file-multiple");case "FormData":return p(w);
case "sendAsBinary":return p("xhr-sendAsBinary")}return!1},getMimeType:function(){return"application/octet-stream"},getFileType:function(w){return w.substring(w.lastIndexOf(".")+1).toUpperCase()},convertBytes:function(w){var C=Math.round(w/1024*1E5)/1E5,z=Math.round(w/1048576*1E5)/1E5,r=Math.round(w/1073741824*1E5)/1E5,l=w;1<C&&(l=C.toFixed(1)+" kb");1<z&&(l=z.toFixed(1)+" mb");1<r&&(l=r.toFixed(1)+" gb");return{kb:C,mb:z,gb:r,bytes:w,value:l}}})})},"dojox/form/uploader/_HTML5":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo dojo/request dojo/has".split(" "),
function(O,K,n,q,p,h){return O("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.connectForm();this.inherited(arguments);this.uploadOnSelect&&this.connect(this,"onChange",function(f){this.upload(f[0])})},_drop:function(f){q.stopEvent(f);this._files=f.dataTransfer.files;this.onChange(this.getFileList())},upload:function(f){this.onBegin(this.getFileList());
this.uploadWithFormData(f)},addDropTarget:function(f,g){g||(this.connect(f,"dragenter",q.stopEvent),this.connect(f,"dragover",q.stopEvent),this.connect(f,"dragleave",q.stopEvent));this.connect(f,"drop","_drop")},uploadWithFormData:function(f){function g(r){C._xhrProgress(r);"load"===r.type&&(C.onComplete(z.response.data),z.response.xhr.removeEventListener("load",g,!1),z.response.xhr.upload.removeEventListener("progress",g,!1),z=null)}if(this.getUrl()){var k=new FormData,u=this._getFileFieldName();
n.forEach(this._files,function(r,l){k.append(u,r)},this);if(f){f.uploadType=this.uploadType;for(var w in f)k.append(w,f[w])}var C=this,z=p(this.getUrl(),{method:"POST",data:k,handleAs:"json",uploadProgress:!0,headers:{Accept:"application/json"}},!0);z.promise.response.otherwise(function(r){C.onError(r)});h("native-xhr2")?(z.response.xhr.addEventListener("load",g,!1),z.response.xhr.upload.addEventListener("progress",g,!1)):z.promise.then(function(r){C.onComplete(r)})}},_xhrProgress:function(f){if(f.lengthComputable){var g=
{bytesLoaded:f.loaded,bytesTotal:f.total,type:f.type,timeStamp:f.timeStamp};"load"==f.type?(g.percent="100%",g.decimal=1):(g.decimal=f.loaded/f.total,g.percent=Math.ceil(f.loaded/f.total*100)+"%");this.onProgress(g)}}})})},"dojox/form/uploader/_IFrame":function(){define("dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-form dojo/request/iframe".split(" "),function(O,K,n,q,p,h,f){return n("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);
"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(g){var k={};this.getForm();var u=this.getUrl(),w=this;g=g||{};g.uploadType=this.uploadType;var C=K.place('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e\x3c/form\x3e',this.domNode);p.forEach(this._inputs,function(z,r){""!==z.value&&(C.appendChild(z),k[z.name]=z.value)},this);if(g)for(nm in g)void 0===k[nm]&&K.create("input",{name:nm,value:g[nm],type:"hidden"},C);f.post(u,{form:C,
handleAs:"json",content:g}).then(function(z){K.destroy(C);if(z.ERROR||z.error)w.onError(z);else w.onComplete(z)},function(z){K.destroy(C);w.onError(z)})}})})},"dojox/form/uploader/_Flash":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/array dojox/embed/Flash".split(" "),function(O,K,n,q,p,h,f,g,k,u){return p("dojox.form.uploader._Flash",[],{swfPath:h.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),
preventCache:!0,skipServerCheck:!0,serverTimeout:2E3,isDebug:!1,devMode:!1,deferredUploading:0,postMixInProperties:function(){"flash"===this.uploadType&&(this._files=[],this._fileMap={},this._createInput=this._createFlashUploader,this.getFileList=this.getFlashFileList,this.reset=this.flashReset,this.upload=this.uploadFlash,this.fieldname="flashUploadFiles");this.inherited(arguments)},onReady:function(w){},onLoad:function(w){},onFileChange:function(w){},onFileProgress:function(w){},getFlashFileList:function(){return this._files},
flashReset:function(){this.flashMovie.reset();this._files=[];this._fileMap={}},uploadFlash:function(w){this.onBegin(this.getFileList());w=w||{};w.returnType="F";w.uploadType=this.uploadType;this.flashMovie.doUpload(w)},_change:function(w){this._files=this._files.concat(w);k.forEach(w,function(C){C.bytesLoaded=0;C.bytesTotal=C.size;this._fileMap[C.name+"_"+C.size]=C},this);this.onChange(this._files);this.onFileChange(w)},_complete:function(w){this._getCustomEvent().type="load";this.onComplete(w)},
_progress:function(w){this._fileMap[w.name+"_"+w.bytesTotal].bytesLoaded=w.bytesLoaded;var C=this._getCustomEvent();this.onFileProgress(w);this.onProgress(C)},_error:function(w){this.onError(w)},_onFlashBlur:function(w){},_getCustomEvent:function(){var w={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:(new Date).getTime()},C;for(C in this._fileMap)w.bytesTotal+=this._fileMap[C].bytesTotal,w.bytesLoaded+=this._fileMap[C].bytesLoaded;w.decimal=w.bytesLoaded/w.bytesTotal;w.percent=Math.ceil(w.bytesLoaded/
w.bytesTotal*100)+"%";return w},_connectFlash:function(){this._subs=[];this._cons=[];var w=g.hitch(this,function(C,z){this._subs.push(f.subscribe(this.id+C,this,z))});w("/filesSelected","_change");w("/filesUploaded","_complete");w("/filesProgress","_progress");w("/filesError","_error");w("/filesCanceled","onCancel");w("/stageBlur","_onFlashBlur");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus()});0<=this.tabIndex&&q.set(this.domNode,"tabIndex",this.tabIndex)},
_createFlashUploader:function(){var w=this.btnSize.w,C=this.btnSize.h;if(w){var z=this.getUrl();if(z&&0>z.toLowerCase().indexOf("http")&&0!=z.indexOf("/")){var r=window.location.href.split("/");r.pop();r=r.join("/")+"/";z=r+z}this.inputNode=n.create("div",{className:"dojoxFlashNode"},this.domNode,"first");K.set(this.inputNode,{position:"absolute",top:"-2px",width:w+"px",height:C+"px",opacity:0});w={expressInstall:!0,path:(this.swfPath.uri||this.swfPath)+(this.preventCache?"?cb_"+(new Date).getTime():
""),width:w,height:C,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:z,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new u(w,this.inputNode);this.flashObject.onError=
g.hitch(function(l){});this.flashObject.onReady=g.hitch(this,function(){this.onReady(this)});this.flashObject.onLoad=g.hitch(this,function(l){this.flashMovie=l;this.flashReady=!0;this.onLoad(this)});this._connectFlash()}else setTimeout(dojo.hitch(this,function(){this._getButtonStyle(this.domNode);this._createFlashUploader()}),200)}})})},"dojox/embed/Flash":function(){define("dojo/_base/lang dojo/_base/unload dojo/_base/array dojo/query dojo/has dojo/dom dojo/on dojo/window dojo/string".split(" "),
function(O,K,n,q,p,h,f,g,k){function u(d){d=O.delegate(C,d);if(!("path"in d))return null;"id"in d||(d.id="dojox-embed-flash-"+w++);return d}var w=0,C={expressInstall:!1,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};if(p("ie")){var z=function(d){d=u(d);if(!d)return null;var e,a=d.path;if(d.vars){var b=[];for(e in d.vars)b.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(d.vars[e]));d.params.FlashVars=b.join("\x26");delete d.vars}a=
'\x3cobject id\x3d"'+k.escape(String(d.id))+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"'+k.escape(String(d.width))+'" height\x3d"'+k.escape(String(d.height))+'"'+(d.style?' style\x3d"'+k.escape(String(d.style))+'"':"")+'\x3e\x3cparam name\x3d"movie" value\x3d"'+k.escape(String(a))+'" /\x3e';if(d.params)for(e in d.params)a+='\x3cparam name\x3d"'+k.escape(e)+'" value\x3d"'+k.escape(String(d.params[e]))+'" /\x3e';return{id:d.id,markup:a+"\x3c/object\x3e"}};var r=function(){for(var d=
10,e=null;!e&&7<d;)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d--)}catch(a){}return e?(d=e.GetVariable("$version").split(" ")[1].split(","),{major:null!=d[0]?parseInt(d[0]):0,minor:null!=d[1]?parseInt(d[1]):0,rev:null!=d[2]?parseInt(d[2]):0}):{major:0,minor:0,rev:0}}();K.addOnWindowUnload(function(){var d=function(){};q("object").reverse().style("display","none").forEach(function(e){for(var a in e)if("FlashVars"!=a&&"function"==typeof e[a])try{e[a]=d}catch(b){}})})}else z=function(d){d=
u(d);if(!d)return null;var e,a=d.path;if(d.vars){var b=[];for(e in d.vars)b.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(d.vars[e]));d.params.flashVars=b.join("\x26");delete d.vars}a='\x3cembed type\x3d"application/x-shockwave-flash" src\x3d"'+k.escape(String(a))+'" id\x3d"'+k.escape(String(d.id))+'" width\x3d"'+k.escape(String(d.width))+'" height\x3d"'+k.escape(String(d.height))+'"'+(d.style?' style\x3d"'+k.escape(String(d.style))+'" ':"")+'pluginspage\x3d"'+window.location.protocol+'//www.adobe.com/go/getflashplayer" ';
if(d.params)for(e in d.params)a+=" "+k.escape(e)+'\x3d"'+k.escape(String(d.params[e]))+'"';return{id:d.id,markup:a+" /\x3e"}},r=function(){var d=navigator.plugins["Shockwave Flash"];return d&&d.description?(d=d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),{major:null!=d[0]?parseInt(d[0]):0,minor:null!=d[1]?parseInt(d[1]):0,rev:null!=d[2]?parseInt(d[2]):0}):{major:0,minor:0,rev:0}}();var l=function(d,e){if(-1<location.href.toLowerCase().indexOf("file://"))throw Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");
this.available=r.major;this.minimumVersion=d.minimumVersion||9;this.domNode=this.movie=this.id=null;e&&(e=h.byId(e));setTimeout(O.hitch(this,function(){if(d.expressInstall||this.available&&this.available>=this.minimumVersion)if(d&&e)this.init(d,e);else this.onError("embed.Flash was not provided with the proper arguments.");else if(this.available)this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);else this.onError("Flash is not installed.")}),
100)};O.extend(l,{onReady:function(d){},onLoad:function(d){},onError:function(d){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie)},init:function(d,e){this.destroy();e=h.byId(e||this.domNode);if(!e)throw Error("dojox.embed.Flash: no domNode reference has been passed.");var a=0;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;l.initialized&&(this.id=l.place(d,e),this.domNode=e,setTimeout(O.hitch(this,
function(){this.movie=this.byId(this.id,d.doc);this.onReady(this.movie);this._poller=setInterval(O.hitch(this,function(){try{a=this.movie.PercentLoaded()}catch(b){}if(100==a)this._onload();else if(0==a&&this._pollCount++>this._pollMax)throw clearInterval(this._poller),Error("Building SWF failed.");}),this.pollTime)}),1))},_destroy:function(){try{this.domNode.removeChild(this.movie)}catch(d){}this.id=this.movie=this.domNode=null},destroy:function(){if(this.movie){var d=O.delegate({id:!0,movie:!0,domNode:!0,
onReady:!0,onLoad:!0}),e;for(e in this)d[e]||delete this[e];this._poller?f(this,"Load",this,"_destroy"):this._destroy()}},byId:function(d,e){e=e||document;return e.embeds[d]?e.embeds[d]:e[d]?e[d]:window[d]?window[d]:document[d]?document[d]:null}});O.mixin(l,{minSupported:8,available:r.major,supported:r.major>=r.required,minimumRequired:r.required,version:r,initialized:!1,onInitialize:function(){l.initialized=!0},__ie_markup__:function(d){return z(d)},proxy:function(d,e){n.forEach(e instanceof Array?
e:[e],function(a){this[a]=O.hitch(this,function(){return function(){return eval(this.movie.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e\x3carguments\x3e'+n.map(arguments,function(b){return __flash__toXML(b)}).join("")+"\x3c/arguments\x3e\x3c/invoke\x3e"))}.apply(this,arguments||[])})},d)}});l.place=function(d,e){var a=z(d);e=h.byId(e);e||(e=g.doc.createElement("div"),e.id=a.id+"-container",g.body().appendChild(e));return a?(e.innerHTML=a.markup,a.id):null};l.onInitialize();
O.setObject("dojox.embed.Flash",l);return l})},"dijit/ConfirmDialog":function(){define(["dojo/_base/declare","./Dialog","./_ConfirmDialogMixin"],function(O,K,n){return O("dijit.ConfirmDialog",[K,n],{})})},"dijit/_ConfirmDialogMixin":function(){define(["dojo/_base/declare","./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(O,K,n,q){return O("dijit._ConfirmDialogMixin",K,{actionBarTemplate:q,buttonOk:n.buttonOk,_setButtonOkAttr:{node:"okButton",
attribute:"label"},buttonCancel:n.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},"esri/dijit/Tags":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/html dojo/keys dojo/on dojo/query dojo/string dojo/store/Memory dijit/focus dijit/form/TextBox dijit/registry dijit/Tooltip dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dgrid/OnDemandGrid dgrid/Selection dgrid/Keyboard ../kernel ../lang dojo/i18n!../nls/jsapi dojo/NodeList-traverse dojo/NodeList-manipulate dojo/_base/sniff".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E){c=K([t,c,m],{declaredClass:"esri.dijit.Tags",templateString:'\x3cdiv class\x3d"${baseClass}"\x3e\x3c/div\x3e',baseClass:"esriTags",_attachmentNode:"",_autocompleteList:"",_grid:"",_store:"",_matchParam:"",_idProperty:"",_gridId:"",_filterId:"",_placeHolder:"",_noDataMsg:"",_maxWidth:"",_minWidth:"",_inputTextBox:"",_gridHasFocus:!1,_metaKeyPressed:!1,_shiftKeyPressed:!1,_CSS_STYLES:{CLASS_SELECTOR:".",ALL_SELECTOR:"\x3e",MULTI:"select2-container select2-container-multi",
CHOICES:"select2-choices",CHOICE:"select2-search-choice",SEARCH_CHOICE_FOCUS:"select2-search-choice-focus",SEARCH_FIELD:"select2-search-field",CLOSE_ICON:"select2-search-choice-close"},values:[],_selRows:[],_CHOICE_SELECTOR:"",_CHOICE_FOCUS:"",_CHOICE_FOCUS_ALL:"",tooltipPosition:[],constructor:function(y){this._idProperty=y.idProperty||"tag";this._maxWidth=y.maxWidth||"auto";this._minWidth=y.minWidth||"auto";this._matchParam=y.matchParam||"first";this.values=[];this._selRows=[];this._CHOICE_ALL_SELECTOR=
this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE+this._CSS_STYLES.ALL_SELECTOR;this._CHOICE_FOCUS=this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.SEARCH_CHOICE_FOCUS;this._CHOICE_FOCUS_ALL=this._CHOICE_FOCUS+this._CSS_STYLES.ALL_SELECTOR},postMixInProperties:function(){this.inherited(arguments);var y=(new Date).getTime();this._tagsId="userTags-"+y;this._gridId="grid-"+y;this._filterId="filter-"+y;this._isIE8=9>k("ie");this.i18n={};n.mixin(this.i18n,E.widgets.tags)},postCreate:function(){if(this._isIE8)this._textTags=
new e({trim:!0,placeHolder:this.i18n.addTags,style:{minWidth:this.minWidth,maxWidth:this.maxWidth}},f.create("div",{id:this._tagsId},this.domNode)),this._textTags.startup(),h.add(this._textTags.domNode,"ie8Style");else{this._attachmentNode=f.create("div",{id:this._tagsId,className:"grid_1"},this.domNode);this._createContainerNode();this._createTagList();this._createDropDownList();this._createInput();var y=n.hitch(this,function(N,M,J){M=this._inputTextBox?this._inputTextBox.get("value")+"":"";if(1>
M.length)return!0;if(!N.tag)return!1;N=(N.tag+"").toLowerCase().match(new RegExp("^"+M.toLowerCase()));return null!==N&&0<N.length?!0:!1}),F=n.hitch(this,function(N,M,J){M=this._inputTextBox?this._inputTextBox.get("value")+"":"";return 1>M.length?!0:N.tag?(N.tag+"").toLowerCase().indexOf(M.toLowerCase())?!0:!1:!1}),G=[{field:this._idProperty}],H=[{attribute:this._idProperty,ascending:!0}];this._store=new l({idProperty:this._idProperty,data:[]});this._grid=new (K([v,A,B]))({store:this._store,showHeader:!1,
noDataMessage:this.i18n.noTagsFound,selectionMode:"extended",allowSelectAll:!0,cellNavigation:!1,columns:G,sort:H,renderRow:this._renderItem},this._dropDownList);this._grid.startup();h.add(this._grid.domNode,"gridHeightLimiter");this._grid.query="first"===this._matchParam?y:F;var I;this.own(this._inputTextBox.watch("value",n.hitch(this,function(N,M,J){I&&(clearTimeout(I),I=null);this._grid.refresh()})));this.own(this._grid.on(".dgrid-row:click",n.hitch(this,function(N){var M="";this._shiftKeyPressed||
this._metaKeyPressed?N.shiftKey||N.metaKey||N.ctrlKey||(M=this._selRows[0],this._createTags(M),this._store.remove(M),this._grid.refresh(),this._resetInputTextBox()):(M=this._grid.row(N).data.tag,this._createTags(M),this._store.remove(M),this._grid.refresh(),this._resetInputTextBox())})));this.own(this._grid.on("dgrid-deselect",n.hitch(this,function(N){this._selRows=[];for(var M in this._grid.selection)this._grid.selection.hasOwnProperty(M)&&this._selRows.push(M)})));this.own(this._grid.on("dgrid-select",
n.hitch(this,function(N){this._selRows=[];for(var M in this._grid.selection)this._grid.selection.hasOwnProperty(M)&&this._selRows.push(M)})));this.own(this.connect(this.domNode,"keydown","_keydownHandler"));window.onkeydown=n.hitch(this,function(N){if(N.shiftKey||N.ctrlKey||224===N.keyCode)this._metaKeyPressed=!0});this.own(this.connect(document,"onkeydown",n.hitch(this,function(N){this._metaKeyPressed=this._shiftKeyPressed=!0})))}},_keydownHandler:function(y){this._clearMessage();if(void 0!==d.curNode.value)var F=
d.curNode.value.length;var G=z(this._CHOICE_FOCUS,q.byId(this.id)),H=z(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,q.byId(this.id)).last();switch(y.keyCode){case w.RIGHT_ARROW:this._navigate(G,F,H,"right");this._hideGrid();break;case w.LEFT_ARROW:this._navigate(G,F,H,"left");this._hideGrid();break;case w.DOWN_ARROW:y.preventDefault();this._unhighlightTag(G);"none"===g.get(this._gridId,"display")&&this._showGrid();this._gridHasFocus||(this._grid.focus(this._setFocusOnFirstRow(this._grid,
0)),this._gridHasFocus=!0);break;case w.UP_ARROW:break;case w.BACKSPACE:if(0===F&&0===z(this._CHOICE_FOCUS_ALL).length&&void 0!==z(this._CHOICE_ALL_SELECTOR)[z(this._CHOICE_ALL_SELECTOR).length-1]){var I=z(this._CHOICE_ALL_SELECTOR)[z(this._CHOICE_ALL_SELECTOR).length-1].title;if(0<z("li",this._attachmentNode).length&&(f.destroy(H[0]),void 0!==I))try{this._store.add({tag:I})}catch(M){}}if(0<z(this._CHOICE_FOCUS_ALL).length&&(I=z(this._CHOICE_FOCUS_ALL).text(),f.destroy(G[0]),void 0!==I))try{this._store.add({tag:I})}catch(M){}this._grid.refresh();
0===F&&this._hideGrid();this._removeTag(I);this._emitRemoved(I);this._emitChanged();this.validate();break;case w.CTRL:this._metaKeyPressed=!0;break;case w.META:this._metaKeyPressed=!0;break;case w.SHIFT:this._shiftKeyPressed=!0;break;case w.ENTER:if(0<F){F=this._stripHTML(d.curNode.value);F=F.split(",");var N=[];O.forEach(F,function(M,J){-1===O.indexOf(N,M)&&N.push(r.trim(M))});O.forEach(N,n.hitch(this,function(M,J){this._isEmpty(M)||this._contains(this.values,M)||this._createTags(M)}))}else{for(F=
0;F<this._selRows.length;F++)this._createTags(this._selRows[F]),this._store.remove(this._selRows[F]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();y.preventDefault();d.focus(q.byId(this._filterId));break;case w.TAB:if(d.curNode.id!==this._filterId||0!==F){if(0<F)F=this._stripHTML(d.curNode.value),F=F.split(","),N=[],O.forEach(F,function(M,J){-1===O.indexOf(N,M)&&N.push(r.trim(M))}),O.forEach(N,n.hitch(this,function(M,J){this._isEmpty(M)||this._contains(this.values,M)||this._createTags(M)}));
else{for(F=0;F<this._selRows.length;F++)this._createTags(this._selRows[F]),this._store.remove(this._selRows[F]);this._metaKeyPressed=this._shiftKeyPressed=!1}this._resetInputTextBox();y.preventDefault();d.focus(q.byId(this._filterId))}break;case w.ESCAPE:this._hideGrid();break;default:-1<F&&("none"===g.get(q.byId(this._gridId),"display")&&this._showGrid(),this._unhighlightTag(G)),this._metaKeyPressed=!1}},_blurHandler:function(y,F,G){if(!this.focused){y=this._stripHTML(this._inputTextBox.value);if(0<
y.length){var H=[];y=y.split(",");O.forEach(y,function(I,N){-1===O.indexOf(H,I)&&H.push(r.trim(I))});O.forEach(H,n.hitch(this,function(I,N){this._isEmpty(I)||this._contains(this.values,I)||this._createTags(I)}));this._resetInputTextBox()}this._hideGrid()}this.validate()},isValid:function(){var y=this.get("value");return this.required?D.isDefined(y)&&0<y.length:!0},validate:function(){this._created&&!this.isValid()?(p.set(this.domNode,"aria-invalid","true"),this._displayMessage(this.i18n.required)):
(p.set(this.domNode,"aria-invalid","false"),this._displayMessage(null))},_clearMessage:function(){this._displayMessage(null)},_displayMessage:function(y){var F=this._isIE8?this._textTags.domNode:q.byId(this._tagsId);y&&this.focused?b.show(y,F):b.hide(F)},_resetInputTextBox:function(){a.byId(this._filterId).set("value","")},_isEmpty:function(y){y=y.replace(/^\s+|\s+$/,"");return 0===y.length?!0:!1},_navigate:function(y,F,G,H){0<y.length&&1>F?("right"===H?this._hightlightTag(y.next()):this._hightlightTag(y.prev()),
this._unhighlightTag(y)):1>F&&this._hightlightTag(G)},_contains:function(y,F){return 0<=O.indexOf(y,F)},_hightlightTag:function(y){y.addClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_unhighlightTag:function(y){y.removeClass(this._CSS_STYLES.SEARCH_CHOICE_FOCUS)},_removeTag:function(y){y&&-1!==O.indexOf(this.values,y)&&this.values.splice(O.indexOf(this.values,y),1)},_hideGrid:function(){q.byId(this._gridId)&&g.set(q.byId(this._gridId),"display","none");this._gridHasFocus=!1},_showGrid:function(){g.set(q.byId(this._gridId),
"display","block");var y=g.get(q.byId(this._attachmentNode),"width");g.set(q.byId(this._gridId),"width",y+"px")},_setFocusOnFirstRow:function(y,F){return z(".dgrid-content .dgrid-cell",this._grid.domNode)[F]||z(".dgrid-content .dgrid-row",this._grid.domNode)[F]},_createTags:function(y){z(this._CHOICE_FOCUS,q.byId(this.id)).removeClass("select2-search-choice-focus");var F=f.create("li",null,this._autocompleteList);h.add(F,this._CSS_STYLES.CHOICE);F=f.create("div",{title:y},F);u.set(F,this._htmlEncode(y));
F=f.create("a",{href:"#"},F);h.add(F,this._CSS_STYLES.CLOSE_ICON);C(F,"click",n.hitch(this,function(G){var H=r.trim(G.target.parentElement.textContent);try{this._store.add({tag:H})}catch(I){}this._grid.refresh();this._removeTag(H);this._emitRemoved(H);this._emitChanged();f.destroy(G.target.parentNode.parentNode);G.preventDefault()}));F=a.byId(this._filterId);f.place(F.domNode,this._autocompleteList,"last");this._hideGrid();this.values.push(y);this._emitAdded(y);this._emitChanged()},_emitAdded:function(y){this.emit("tags-add",
{tag:y})},_emitRemoved:function(y){this.emit("tags-remove",{tag:y})},_emitChanged:function(){this.emit("tags-change",{tags:this.get("tags")})},_renderItem:function(y){return f.create("div",{innerHTML:y.tag})},_createContainerNode:function(){this._containerNode=f.create("div",null,this._attachmentNode);h.add(this._containerNode,this._CSS_STYLES.MULTI);g.set(this._containerNode,"maxWidth",this._maxWidth);g.set(this._containerNode,"minWidth",this._minWidth)},_createTagList:function(){this._autocompleteList=
f.create("ul",null,this._containerNode);h.add(this._autocompleteList,this._CSS_STYLES.CHOICES)},_createInput:function(){var y=f.create("li",null,this._autocompleteList,"last");h.add(y,this._CSS_STYLES.SEARCH_FIELD);this._inputTextBox=new e({id:this._filterId,placeHolder:this.i18n.addTags,intermediateChanges:!0,trim:!0,style:{border:"none"}},y);h.add(this._inputTextBox,"inputTextBox");g.set(this._inputTextBox,"width",this._minWidth);(8<k("ie")||4<k("trident"))&&h.add(this._inputTextBox.domNode,"ieStyle");
this.own(d.watch("curNode",n.hitch(this,this._blurHandler)))},_createDropDownList:function(){this._dropDownList=f.create("div",{id:this._gridId},this._containerNode);h.add(this._dropDownList,"dropDownList");g.set(this._dropDownList,"width",this._minWidth)},focus:function(){d.focus(this.domNode);this._isIE8?this._textTags.focus():this._inputTextBox.focus()},reset:function(){this.clearTags()},prepopulate:function(y){O.forEach(y,n.hitch(this,function(F,G){this._createTags(F);this._store.remove(F)}))},
clearTags:function(){var y=z(this._CSS_STYLES.CLASS_SELECTOR+this._CSS_STYLES.CHOICE,q.byId(this.id)),F=!1,G;0<y.length&&(F=!0,O.forEach(y,n.hitch(this,function(H,I){try{G=z(this._CHOICE_ALL_SELECTOR,q.byId(this.id))[0].title,this._store.add({tag:G})}catch(N){}f.destroy(H);this._emitRemoved(G)})),this.values=[],F&&this._emitChanged())},addStyledTags:function(y,F){h.add(q.byId(F),this._CSS_STYLES.MULTI);var G=f.create("ul",null,q.byId(F));h.add(G,this._CSS_STYLES.CHOICES);g.set(G,"border","none");
O.forEach(y,function(H,I){var N=f.create("li",null,G);g.set(N,"padding","3px 5px 3px 5px");h.add(N,"select2-search-resultSet");N=f.create("div",{title:H},N);u.set(N,H)})},_getUniqueTags:function(y){var F=[],G;O.forEach(y,n.hitch(this,function(H){G=this._stripHTML(H);D.isDefined(G)&&0<G.length&&F.push(G)}));return O.filter(F,n.hitch(this,function(H,I){return O.indexOf(F,H)===I}))},_setValueAttr:function(y){this._setTagsAttr(y)},_getValueAttr:function(){return this._getTagsAttr()},_setTagsAttr:function(y){!y||
y instanceof Array||(y=y.split(","));this._isIE8?this._textTags&&this._textTags.set("value",this._getUniqueTags(y).join(",")):(this.clearTags(),this.prepopulate(y?this._getUniqueTags(y):[]))},_getTagsAttr:function(){return this._isIE8?this._textTags?this._textTags.get("value"):"":this.values?this.values.join(","):""},_setRequiredAttr:function(y){this.required=y},_getRequiredAttr:function(){return this.required},_setMinWidthAttr:function(y){this.minWidth=y},_setMaxWidthAttr:function(y){this.maxWidth=
y},_setKnownTagsAttr:function(y){if(!this._isIE8){var F=[],G;for(G=0;G<y.length;G++)0>O.indexOf(this.values,y[G])&&F.push(y[G]);this._store=new l({idProperty:this._idProperty,data:F});this._grid.set("store",this._store);this._grid.refresh()}},_stripHTML:function(y){return y&&y.replace(/<(?:.|\s)*?>/g,"")},_htmlEncode:function(y){return y?y.replace(/&/g,"\x26amp;").replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;").replace(/"/g,"\x26quot;"):y}});n.setObject("dijit.Tags",c,x);return c})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(O,K,n,q,p,h,f,g){function k(B){B.preventDefault()}var u={checkbox:1,radio:1,button:1},w=/\bdgrid-cell\b/,C=/\bdgrid-row\b/,z=O("dgrid.Keyboard",null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=q.mixin({},z.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=q.mixin({},z.defaultHeaderKeyMap))},postCreate:function(){function B(E){var y=E.target;return y.type&&(!u[y.type]||32==E.keyCode)}function x(E){function y(){D._focusedHeaderNode&&
(D._focusedHeaderNode.tabIndex=-1);if(D.showHeader){if(F)for(var N=0,M,J=D.headerNode.getElementsByTagName("th");M=J[N];++N){if(G.test(M.className)){D._focusedHeaderNode=I=M;break}}else D._focusedHeaderNode=I=D.headerNode;I&&(I.tabIndex=D.tabIndex)}}var F=D.cellNavigation,G=F?w:C,H=E===D.headerNode,I=E;H?(y(),K.after(D,"renderHeader",y,!0)):K.after(D,"renderArray",function(N){return g.when(N,function(M){var J=D._focusedNode||I;if(G.test(J.className)&&f.contains(E,J))return M;for(var R=0,Z=E.getElementsByTagName("*"),
T;T=Z[R];++R)if(G.test(T.className)){J=D._focusedNode=T;break}J.tabIndex=D.tabIndex;return M})});D._listeners.push(n(E,"mousedown",function(N){B(N)||D._focusOnNode(N.target,H,N)}));D._listeners.push(n(E,"keydown",function(N){if(!N.metaKey&&!N.altKey){var M=D[H?"headerKeyMap":"keyMap"][N.keyCode];M&&!B(N)&&M.call(D,N)}}))}this.inherited(arguments);var D=this;this.tabableHeader&&(x(this.headerNode),this._listeners.push(n(this.headerNode,"dgrid-cellfocusin",function(){D.scrollTo({x:this.scrollLeft})})));
x(this.contentNode);this._debouncedEnsureScroll=f.debounce(this._ensureScroll,this)},removeRow:function(B){if(!this._focusedNode)return this.inherited(arguments);var x=this,D=document.activeElement===this._focusedNode,E=this[this.cellNavigation?"cell":"row"](this._focusedNode),y=E.row||E,F;B=B.element||B;B===y.element&&((F=this.down(y,!0))&&F.element!==B||(F=this.up(y,!0)),this._removedFocus={active:D,rowId:y.id,columnId:E.column&&E.column.id,siblingId:F&&F.element!==B?F.id:void 0},setTimeout(function(){x._removedFocus&&
x._restoreFocus(y.id)},0),this._focusedNode=null);this.inherited(arguments)},insertRow:function(B){var x=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(x);return x},_restoreFocus:function(B){var x=this._removedFocus,D;if((B=(B=B&&this.row(B))&&B.element&&B.id===x.rowId?B:"undefined"!==typeof x.siblingId&&this.row(x.siblingId))&&B.element){if(!B.element.parentNode.parentNode){x.wait=!0;return}"undefined"!==typeof x.columnId&&(D=this.cell(B,x.columnId))&&
D.element&&(B=D);x.active&&0!==B.element.offsetHeight?this._focusOnNode(B,!1,null):(h(B.element,".dgrid-focus"),B.element.tabIndex=this.tabIndex,this._focusedNode=B.element)}delete this._removedFocus},addKeyHandler:function(B,x,D){return K.after(this[D?"headerKeyMap":"keyMap"],B,x,!0)},_ensureRowScroll:function(B){var x=this.getScrollPosition().y;x>B.offsetTop?this.scrollTo({y:B.offsetTop}):x+this.contentNode.offsetHeight<B.offsetTop+B.offsetHeight&&this.scrollTo({y:B.offsetTop-this.contentNode.offsetHeight+
B.offsetHeight})},_ensureColumnScroll:function(B){var x=this.getScrollPosition().x,D=B.offsetLeft;if(x>D)this.scrollTo({x:D});else{var E=this.bodyNode.clientWidth;B=B.offsetWidth;var y=D+B;x+E<y&&this.scrollTo({x:E>B?y-E:D})}},_ensureScroll:function(B,x){this.cellNavigation&&(this.columnSets||1<this.subRows.length)&&!x&&this._ensureRowScroll(B.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(B.element)},_focusOnNode:function(B,x,D){var E="_focused"+(x?
"Header":"")+"Node",y=this[E],F=this.cellNavigation?"cell":"row",G=this[F](B),H;if(B=G&&G.element){if(this.cellNavigation){var I=B.getElementsByTagName("input");var N=0;for(H=I.length;N<H;N++){var M=I[N];if((-1!=M.tabIndex||"_dgridLastValue"in M)&&!M.disabled){8>p("ie")&&(M.style.position="relative");M.focus();8>p("ie")&&(M.style.position="");var J=!0;break}}}null!==D&&(D=q.mixin({grid:this},D),D.type&&(D.parentType=D.type),D.bubbles||(D.bubbles=!0));y&&(h(y,"!dgrid-focus[!tabIndex]"),8>p("ie")&&
(y.style.position=""),D&&(D[F]=this[F](y),n.emit(y,"dgrid-cellfocusout",D)));y=this[E]=B;D&&(D[F]=G);E=this.cellNavigation?w:C;!J&&E.test(B.className)&&(8>p("ie")&&(B.style.position="relative"),B.tabIndex=this.tabIndex,B.focus());h(B,".dgrid-focus");D&&n.emit(y,"dgrid-cellfocusin",D);this._debouncedEnsureScroll(G,x)}},focusHeader:function(B){this._focusOnNode(B||this._focusedHeaderNode,!0)},focus:function(B){(B=B||this._focusedNode)?this._focusOnNode(B,!1):this.contentNode.focus()}}),r=z.moveFocusVertical=
function(B,x){if(this._focusOnNode&&B.target!==this.contentNode){var D=this.cellNavigation,E=this[D?"cell":"row"](B);E=D&&E.column.id;var y=this.down(this._focusedNode,x,!0);D&&(y=this.cell(y,E));this._focusOnNode(y,!1,B);B.preventDefault()}};O=z.moveFocusUp=function(B){r.call(this,B,-1)};var l=z.moveFocusDown=function(B){r.call(this,B,1)},d=z.moveFocusPageUp=function(B){r.call(this,B,-this.pageSkip)},e=z.moveFocusPageDown=function(B){r.call(this,B,this.pageSkip)},a=z.moveFocusHorizontal=function(B,
x){if(this.cellNavigation&&B.target!==this.contentNode){var D=!this.row(B);this._focusOnNode(this.right(this["_focused"+(D?"Header":"")+"Node"],x),D,B);B.preventDefault()}},b=z.moveFocusLeft=function(B){a.call(this,B,-1)},c=z.moveFocusRight=function(B){a.call(this,B,1)},m=z.moveHeaderFocusEnd=function(B,x){if(this.cellNavigation){var D=this.headerNode.getElementsByTagName("th");this._focusOnNode(D[x?0:D.length-1],!0,B)}B.preventDefault()},t=z.moveHeaderFocusHome=function(B){m.call(this,B,!0)},v=z.moveFocusEnd=
function(B,x){var D=this,E=this.cellNavigation,y=this.contentNode,F=y.scrollTop+(x?0:y.scrollHeight);y=y[x?"firstChild":"lastChild"];var G=-1<y.className.indexOf("dgrid-preload"),H=G?y[(x?"next":"previous")+"Sibling"]:y,I=H.offsetTop+(x?0:H.offsetHeight);if(G){for(;H&&0>H.className.indexOf("dgrid-row");)H=H[(x?"next":"previous")+"Sibling"];if(!H)return}if(!G||1>y.offsetHeight)E&&(H=this.cell(H,this.cell(B).column.id)),this._focusOnNode(H,!1,B);else{p("dom-addeventlistener")||(B=q.mixin({},B));var N=
K.after(this,"renderArray",function(M){N.remove();return g.when(M,function(J){J=J[x?0:J.length-1];E&&(J=D.cell(J,D.cell(B).column.id));D._focusOnNode(J,!1,B)})})}F===I&&B.preventDefault()},A=z.moveFocusHome=function(B){v.call(this,B,!0)};z.defaultKeyMap={32:k,33:d,34:e,35:v,36:A,37:b,38:O,39:c,40:l};z.defaultHeaderKeyMap={32:k,35:m,36:t,37:b,39:c};return z})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(O,K,n){var q=O.NodeList;K.extend(q,{_buildArrayFromCallback:function(p){for(var h=
[],f=0;f<this.length;f++){var g=p.call(this[f],this[f],h);g&&(h=h.concat(g))}return h},_getUniqueAsNodeList:function(p){for(var h=[],f=0,g;g=p[f];f++)1==g.nodeType&&-1==n.indexOf(h,g)&&h.push(g);return this._wrap(h,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(p,h){var f=this._getUniqueAsNodeList(p);f=h?O._filterResult(f,h):f;return f._stash(this)},_getRelatedUniqueNodes:function(p,h){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(h),p)},children:function(p){return this._getRelatedUniqueNodes(p,
function(h,f){return K._toArray(h.childNodes)})},closest:function(p,h){return this._getRelatedUniqueNodes(null,function(f,g){do if(O._filterResult([f],p,h).length)return f;while(f!=h&&(f=f.parentNode)&&1==f.nodeType);return null})},parent:function(p){return this._getRelatedUniqueNodes(p,function(h,f){return h.parentNode})},parents:function(p){return this._getRelatedUniqueNodes(p,function(h,f){for(var g=[];h.parentNode;)h=h.parentNode,g.push(h);return g})},siblings:function(p){return this._getRelatedUniqueNodes(p,
function(h,f){for(var g=[],k=h.parentNode&&h.parentNode.childNodes,u=0;u<k.length;u++)k[u]!=h&&g.push(k[u]);return g})},next:function(p){return this._getRelatedUniqueNodes(p,function(h,f){for(var g=h.nextSibling;g&&1!=g.nodeType;)g=g.nextSibling;return g})},nextAll:function(p){return this._getRelatedUniqueNodes(p,function(h,f){for(var g=[],k=h;k=k.nextSibling;)1==k.nodeType&&g.push(k);return g})},prev:function(p){return this._getRelatedUniqueNodes(p,function(h,f){for(var g=h.previousSibling;g&&1!=
g.nodeType;)g=g.previousSibling;return g})},prevAll:function(p){return this._getRelatedUniqueNodes(p,function(h,f){for(var g=[],k=h;k=k.previousSibling;)1==k.nodeType&&g.push(k);return g})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(p,h){return 0!=h%2})},odd:function(){return this.filter(function(p,h){return 0==
h%2})}});return q})},"arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojox/grid/DataGrid"],function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin");O.require("dojox.grid.DataGrid");O.declare("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin",null,{itemInfo:{nmf:{typeKeywords:"Map,Explorer Map,Explorer Document,2D,3D,ArcGIS Explorer,nmf",type:"Explorer Map"},mxd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, mxd",
type:"Map Document"},msd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, msd",type:"Map Document"},"3dd":{typeKeywords:"Map, Globe Document, 3D, ArcGlobe, ArcGIS Server, 3dd",type:"Globe Document"},"3ws":{typeKeywords:"3D, Map, Scene, Web",type:"CityEngine Web Scene",thumbnailURL:"/cw_webscene.png"},sxd:{typeKeywords:"Map, Scene Document, 3D, ArcScene, sxd",type:"Scene Document"},lpk:{typeKeywords:"",type:"Layer Package"},lpkx:{typeKeywords:"",type:"Layer Package"},mpk:{typeKeywords:"",
type:"Map Package"},mpkx:{typeKeywords:"",type:"Map Package"},wmpk:{typeKeywords:"",type:"Windows Mobile Package"},rpk:{typeKeywords:"",type:"Rule Package"},bpk:{typeKeywords:"",type:"Mobile Basemap Package"},mspk:{typeKeywords:"",type:"Mobile Scene Package",thumbnailURL:"/mobilescenepackage.png"},scenepackage:{typeKeywords:"",type:"Scene Package",thumbnailURL:"/desktopapp.png"},gpkg:{typeKeywords:"",type:"GeoPackage",thumbnailURL:"/geopackage.png"},imagecollection:{typeKeywords:"Data, Image, Raster",
type:"Image Collection"},photocollection:{typeKeywords:"Photo locations",type:"Image Collection"},deeplearningpackage:{typeKeywords:"Deep Learning, Raster",type:"Deep Learning Package",thumbnailURL:"/deeplearningpackage.png"},gml:{type:"GML"},mapx:{typeKeywords:"ArcGIS Pro, Map, Map File, mapx",type:"Pro Map"},lyrx:{typeKeywords:"ArcGIS Pro, Layer, Layer File, lyrx",type:"Layer"},pagx:{typeKeywords:"ArcGIS Pro, Layout, Layout File, pagx",type:"Layout"},lyr:{typeKeywords:"Data, Layer, ArcMap,ArcGlobe,ArcGIS Explorer,lyr",
type:"Layer"},servicedefinition:{typeKeywords:"Data, Service, Service Definition",type:"Service Definition"},nmc:{typeKeywords:"Data,Layer,Explorer Layer,ArcGIS Explorer,nmc",type:"Explorer Layer"},ncfg:{typeKeywords:"Map,Explorer Map,Explorer Mapping Application,2D,3D,ArcGIS Explorer,ncfg",type:"Explorer Map"},eaz:{typeKeywords:"Tool,Add In,Explorer Add In,ArcGIS Explorer,eaz",type:"Explorer Add In"},pmf:{typeKeywords:"Map,Published Map,2D,ArcReader,ArcMap,ArcGIS Server,pmf",type:"Published Map"},
gpk:{typeKeywords:"",type:"Geoprocessing Package"},gpkx:{typeKeywords:"Tool, ArcGIS Pro, Toolbox, Model, Script, Result, gpkx",type:"Geoprocessing Package"},gcpk:{typeKeywords:"",type:"Locator Package"},tilepackage:{type:"Tile Package",typeKeywords:""},vectortilepackage:{type:"Vector Tile Package",typeKeywords:""},vectortileserver:{type:"Vector Tile Service",typeKeywords:""},urbanmodel:{type:"Urban Model",typeKeywords:""},wpk:{type:"Workflow Manager Package",typeKeywords:"",thumbnailURL:"/desktopapp.png"},
esriaddin:{type:"Desktop Add In",typeKeywords:"Tool,Add In,Desktop Add In,ArcGIS Desktop,ArcMap,ArcGlobe,ArcScene,esriaddin"},esriaddinx:{type:"ArcGIS Pro Add In",typeKeywords:"Tool, Add In, Pro Add In, esriaddinx"},dtemp:{type:"Desktop Application Template",typeKeywords:"application, template, ArcGIS desktop"},mtemp:{type:"Map Template",typeKeywords:"map, ArcMap, template, ArcGIS desktop"},codesample:{type:"Code Sample",typeKeywords:"Code, Sample",thumbnailURL:"/desktopapp.png"},shapefile:{type:"Shapefile",
typeKeywords:"Data, Layer, shapefile"},vieweraddin:{type:"Windows Viewer Add In",typeKeywords:"Application, ArcGIS Windows Viewer, Add In"},opdashboardaddin:{type:"Operations Dashboard Add In",typeKeywords:"Application, ArcGIS Operations Dashboard, Add In"},desktopapplication:{type:"Desktop Application",typeKeywords:"Desktop Application"},proconfigx:{type:"ArcGIS Pro Configuration",typeKeywords:""},csv:{type:"CSV",typeKeywords:"CSV",thumbnailURL:"/desktopapp.png"},gpsample:{type:"Geoprocessing Sample",
typeKeywords:"tool, geoprocessing, sample",thumbnailURL:"/desktopapp.png"},kml:{type:"KML",typeKeywords:"Data, Map, kml",thumbnailURL:"/desktopapp.png"},kmz:{type:"KML",typeKeywords:"Data, Map, kmz",thumbnailURL:"/desktopapp.png"},apimobile:{type:"Mobile Application",typeKeywords:"ArcGIS Mobile Map, Mobile Application",thumbnailURL:"/mobileapp.png"},apimap:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site",thumbnailURL:"/webapp.png"},apiapp:{type:"Application",typeKeywords:"Application"},
wab:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, Web AppBuilder for ArcGIS",thumbnailURL:"/webapp.png"},configapp:{type:"Web Mapping Application",typeKeywords:"JavaScript, Map, Mapping Site, Online Map, Ready To Use, Web Map",thumbnailURL:"/webapp.png"},dashboard:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png"},dashboard_map:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png",text:'{ "version": 45, "layout": { "rootElement": { "type": "itemLayoutElement", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517" } }, "widgets": [ { "type": "mapWidget", "itemId": "${mapId}", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517", "name": "Map (1)"} ] }'},
featureserver:{type:"Feature Service",typeKeywords:"Data, Service, Feature Service, ArcGIS Server, Feature Access"},mapserver:{type:"Map Service",typeKeywords:"Data, Service, Map Service, ArcGIS Server"},geocodeserver:{type:"Geocoding Service",typeKeywords:"Tool, Service, Geocoding Service, Locator Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},geoenrichmentserver:{type:"Geoenrichment Service"},naserver:{type:"Network Analysis Service",typeKeywords:"Tool, Service, Network Analysis Service, ArcGIS Server"},
globeserver:{type:"Globe Service",typeKeywords:"Data, Service, Globe Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},gpserver:{type:"Geoprocessing Service",typeKeywords:"Tool, Service, Geoprocessing Service, ArcGIS Server"},geodataserver:{type:"Geodata Service",typeKeywords:"Data, Service, Geodata Service, ArcGIS Server"},imageserver:{type:"Image Service",typeKeywords:"Data, Service, Image Service, ArcGIS Server"},geometryserver:{type:"Geometry Service",typeKeywords:"Tool, Service, Geometry Service, ArcGIS Server",
thumbnailURL:"/desktopapp.png"},wmserver:{type:"Workflow Manager Service",typeKeywords:"Workflow Manager, ArcGIS Server, WMServer, Workflow, JTX, Job Tracking",thumbnailURL:"/desktopapp.png"},sceneserver:{type:"Scene Service",thumbnailURL:"/scene.png",typeKeywords:"Scene Service"},streamserver:{type:"Stream Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Data, Service, Stream Service, ArcGIS Server"},elevationserver:{type:"Image Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Elevation 3D Layer"},
tiledimageserver:{type:"Image Service",thumbnailURL:"/tiledimagerylayer.png",typeKeywords:"Tiled Imagery"},workspaceserver:{type:"Insights Workbook",thumbnailURL:"/desktopapp.png",typeKeywords:"Application,ArcGIS,Insights Workbook"},ogc:{type:"WMS",typeKeywords:"Data, Service, Web Map Service, OGC"},wfs:{type:"WFS",typeKeywords:"Data, Service, Web Feature Service, OGC"},wmts:{type:"WMTS",typeKeywords:"Data, Service, OGC"},ogcfeatures:{type:"OGCFeatureService",typeKeywords:"Data, Feature Service, Features, OGC, Service, WFS"},
arcpadpackage:{type:"ArcPad Package",typeKeywords:"Map, Layer, Data",thumbnailURL:"/desktopapp.png"},kmlcollection:{type:"KML Collection",thumbnailURL:"/desktopapp.png"},csvcollection:{type:"CSV Collection",thumbnailURL:"/desktopapp.png"},filegeodatabase:{type:"File Geodatabase",thumbnailURL:"/desktopapp.png"},caddrawing:{type:"CAD Drawing",thumbnailURL:"/desktopapp.png"},featurecollection:{type:"Feature Collection"},esritasks:{type:"Task File",typeKeywords:"ArcGIS Professional, Task Assistant, esriTasks"},
stylx:{type:"Desktop Style",typeKeywords:"ArcGIS Pro, Symbology, Style, Symbols"},ppkx:{type:"Project Package",typeKeywords:""},aptx:{type:"Project Template",typeKeywords:"ArcGIS Project Template, Project Template, ArcGIS Pro"},mmpk:{type:"Mobile Map Package",typeKeywords:""},mbpk:{type:"Mobile Basemap Package",typeKeywords:""},geojson:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},json:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},
rft:{type:"Raster function template",typeKeywords:"Raster, Functions, Processing, rft, srf, function template, templates, ArcGIS Pro",thumbnailURL:"/desktopapp.png"},"3vr":{type:"360 VR Experience",typeKeywords:""},ipynb:esriGeowConfig.userRole&&esriGeowConfig.userRole.canCreateNotebooks()?{type:"Notebook",typeKeywords:"Notebook, Python"}:!1,notebook:esriGeowConfig.userRole&&(esriGeowConfig.userRole.canCreateNotebooks()||esriGeowConfig.userRole.canPublishNotebooks())?{type:"Notebook",typeKeywords:"Notebook, Python"}:
!1},orgOnly:{ppt:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},pptx:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},document:{type:"Document Link",typeKeywords:"Data, Document"},doc:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},docx:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},xls:{type:"Microsoft Excel",typeKeywords:"Data, Document, Microsoft Excel"},xlsx:{type:"Microsoft Excel",
typeKeywords:"Data, Document, Microsoft Excel"},pdf:{type:"PDF",typeKeywords:"Data, Document, PDF"},jpg:{type:"Image",typeKeywords:"Data, Image, jpg"},jpeg:{type:"Image",typeKeywords:"Data, Image, jpeg"},tif:{type:"Image",typeKeywords:"Data, Image, tif"},tiff:{type:"Image",typeKeywords:"Data, Image, tiff"},png:{type:"Image",typeKeywords:"Data, Image, png"},vsd:{type:"Visio Document",typeKeywords:"Data, Document, Visio Document"},pages:{type:"iWork Pages",typeKeywords:"Data, Document, Mac"},numbers:{type:"iWork Numbers",
typeKeywords:"Data, Document, Mac"},keynote:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},key:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},opext:{type:"Operations Dashboard Extension",typeKeywords:"Extension, Application, ArcGIS Operations Dashboard"},appbldrext:{type:"AppBuilder Extension",typeKeywords:"Widget, App Builder"},appbldrpackage:{type:"AppBuilder Widget Package"},rptx:{type:"Pro Report",typeKeywords:""},xml:{type:"Earth Configuration",typeKeywords:"ArcGIS Earth, Earth, Earth Configuration"}},
gridInfo:{csv:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"type",name:"fieldType",select:"fieldTypes",editable:!0,type:n.grid.cells.Select},{width:"160px",field:"locationType",name:"addressFields",select:"addressTypes",editable:"true",type:n.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:n.grid.cells.Select}],xlsx:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"locationType",
name:"addressFields",select:"addressTypes",editable:"true",type:n.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:n.grid.cells.Select}],ogc:[{field:"visible",name:'\x3cinput id\x3d"_ogcCB", type\x3d"checkbox" checked/\x3e',width:"16px",editable:!0,type:n.grid.cells.Bool},{field:"title",name:"ogcLayers",editable:!0,width:"420px"}]}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),
function(O,K,n,q,p,h,f,g,k){var u=h("dojox.grid.DataGrid",f,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},
destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new g(this)},get:function(w,C){if(C&&"_item"==this.field&&!this.fields)return C;if(C&&this.fields){var z=[],r=this.grid.store;K.forEach(this.fields,function(l){z=z.concat(r.getValues(C,l))});return z}return C||"string"!==typeof w?C?this.field?"_item"==this.field?C:this.grid.store.getValue(C,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<
this.updateDelay){var w=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,w=!0);this.updating||(this.beginUpdate(),w=!0);if(w){var C=this;this._endUpdateDelay=setTimeout(function(){delete C._endUpdateDelay;C.endUpdate()},this.updateDelay)}}},_onSet:function(w,C,z,r){this._checkUpdateStatus();w=this.getItemIndex(w);-1<w&&this.updateRow(w)},_createItem:function(w,C){var z=this._hasIdentity?this.store.getIdentity(w):q.toJson(this.query)+":idx:"+C+":sort:"+q.toJson(this.getSortProps());
return this._by_idty[z]={idty:z,item:w}},_addItem:function(w,C,z){this._by_idx[C]=this._createItem(w,C);z||this.updateRow(C)},_onNew:function(w,C){this._checkUpdateStatus();var z=this.get("rowCount");this._addingItem=!0;this.updateRowCount(z+1);this._addingItem=!1;this._addItem(w,z);this.showMessage()},_onDelete:function(w){this._checkUpdateStatus();w=this._getItemIndex(w,!0);if(0<=w){this._pages=[];this._eop=this._bop=-1;var C=this._by_idx[w];this._by_idx.splice(w,1);delete this._by_idty[C.idty];
this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(w)&&(this.selection.deselect(w),this.selection.selected.splice(w,1))},_onRevert:function(){this._refresh()},setStore:function(w,C,z){this._requestsPending(0)||(this._setQuery(C,z),this._setStore(w),this._refresh(!0))},setQuery:function(w,C){this._requestsPending(0)||(this._setQuery(w,C),this._refresh(!0))},setItems:function(w){this.items=w;this._setStore(this.store);
this._refresh(!0)},_setQuery:function(w,C){this.query=w;this.queryOptions=C||this.queryOptions},_setStore:function(w){this.store&&this._store_connects&&K.forEach(this._store_connects,this.disconnect,this);if(this.store=w){w=this.store.getFeatures();var C=[];this._canEdit=!!w["dojo.data.api.Write"]&&!!w["dojo.data.api.Identity"];this._hasIdentity=!!w["dojo.data.api.Identity"];w["dojo.data.api.Notification"]&&!this.items&&(C.push(this.connect(this.store,"onSet","_onSet")),C.push(this.connect(this.store,
"onNew","_onNew")),C.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&C.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=C}},_onFetchBegin:function(w,C){this.scroller&&(this.rowCount!=w&&(C.isRender?(this.scroller.init(w,this.keepRows,this.rowsPerPage),this.rowCount=w,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(w)),w?this.showMessage():(this.views.render(),this._resize(),
this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(w,C){this.scroller&&(w&&0<w.length&&(K.forEach(w,function(z,r){this._addItem(z,C.start+r,!0)},this),this.updateRows(C.start,w.length),C.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),p("ie")&&k.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[C.start]=
!1)},_onFetchError:function(w,C){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[C.start]=!1;this.onFetchError(w,C)},onFetchError:function(w,C){},_fetch:function(w,C){w=w||0;if(this.store&&!this._pending_requests[w]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[w]=!0;try{if(this.items){var z=this.items,r=this.store;this.rowsPerPage=z.length;
var l={start:w,count:this.rowsPerPage,isRender:C};this._onFetchBegin(z.length,l);var d=0;K.forEach(z,function(a){r.isItemLoaded(a)||d++});if(0===d)this._onFetchComplete(z,l);else{var e=function(a){d--;0===d&&this._onFetchComplete(z,l)};K.forEach(z,function(a){r.isItemLoaded(a)||r.loadItem({item:a,onItem:e,scope:this})},this)}}else this.store.fetch({start:w,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:C,onBegin:n.hitch(this,"_onFetchBegin"),
onComplete:n.hitch(this,"_onFetchComplete"),onError:n.hitch(this,"_onFetchError")})}catch(a){this._onFetchError(a,{start:w,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(w){var C=this._by_idx[w];return!C||C&&!C.item?(this._preparePage(w),null):C.item},getItemIndex:function(w){return this._getItemIndex(w,!1)},_getItemIndex:function(w,C){if(!C&&!this.store.isItem(w))return-1;
for(var z=this._hasIdentity?this.store.getIdentity(w):null,r=0,l=this._by_idx.length;r<l;r++){var d=this._by_idx[r];if(d&&(z&&d.idty==z||d.item===w))return r}return-1},filter:function(w,C){this.query=w;C&&this._clearData();this._fetch()},_getItemAttr:function(w,C){var z=this.getItem(w);return z?this.store.getValue(z,C):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(w){return this._pending_requests[w]},
_rowToPage:function(w){return this.rowsPerPage?Math.floor(w/this.rowsPerPage):w},_pageToRow:function(w){return this.rowsPerPage?this.rowsPerPage*w:w},_preparePage:function(w){(w<this._bop||w>=this._eop)&&!this._addingItem&&(w=this._rowToPage(w),this._needPage(w),this._bop=w*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(w){this._pages[w]||(this._pages[w]=!0,this._requestPage(w))},_requestPage:function(w){w=this._pageToRow(w);0<Math.min(this.rowsPerPage,
this.get("rowCount")-w)&&(this._requests++,this._requestsPending(w)||setTimeout(n.hitch(this,"_fetch",w,!1),1))},getCellName:function(w){return w.field},_refresh:function(w){this._clearData();this._fetch(0,w)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var w=this.getCell(this.getSortIndex());if(w){var C=w.sortDesc,z=!(0<this.sortInfo);return[{attribute:w.field,descending:"undefined"==typeof C?
z:z?!C:C}]}return this.sortFields?this.sortFields:null},styleRowState:function(w){if(this.store&&this.store.getState){for(var C=this.store.getState(w.index),z="",r=0,l=["inflight","error","inserting"],d;d=l[r];r++)if(C[d]){z=" dojoxGridRow-"+d;break}w.customClasses+=z}},onStyleRow:function(w){this.styleRowState(w);this.inherited(arguments)},canEdit:function(w,C){return this._canEdit},_copyAttr:function(w,C){var z=this.getItem(w);return this.store.getValue(z,C)},doStartEdit:function(w,C){this._cache[C]||
(this._cache[C]=this._copyAttr(C,w.field));this.onStartEdit(w,C)},doApplyCellEdit:function(w,C,z){this.store.fetchItemByIdentity({identity:this._by_idx[C].idty,onItem:n.hitch(this,function(r){var l=this.store.getValue(r,z);"number"==typeof l?w=isNaN(w)?w:parseFloat(w):"boolean"==typeof l?w="true"==w?!0:"false"==w?!1:w:l instanceof Date&&(l=new Date(w),w=isNaN(l.getTime())?w:l);this.store.setValue(r,z,w);this.onApplyCellEdit(w,C,z)})})},doCancelEdit:function(w){this._cache[w]&&(this.updateRow(w),delete this._cache[w]);
this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(w,C){this.onApplyEdit(w)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var w=n.hitch(this,function(C){C.length&&(K.forEach(C,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:w}):w(this.selection.getSelected())}}});u.cell_markupFactory=function(w,C,z){var r=n.trim(k.attr(C,"field")||"");r&&(z.field=r);z.field=
z.field||z.name;if(r=n.trim(k.attr(C,"fields")||""))z.fields=r.split(",");w&&w(C,z)};u.markupFactory=function(w,C,z,r){return f.markupFactory(w,C,z,n.partial(u.cell_markupFactory,r))};return u})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(O,K,n){return O("dojox.grid.DataSelection",n,{constructor:function(q){q.keepSelection&&(this.preserver=new K(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var q=
n.prototype.getFirstSelected.call(this);return-1==q?null:this.grid.getItem(q)},getNextSelected:function(q){q=this.grid.getItemIndex(q);q=n.prototype.getNextSelected.call(this,q);return-1==q?null:this.grid.getItem(q)},getSelected:function(){for(var q=[],p=0,h=this.selected.length;p<h;p++)this.selected[p]&&q.push(this.grid.getItem(p));return q},addToSelection:function(q){if("none"!=this.mode){var p=null;p="number"==typeof q||"string"==typeof q?q:this.grid.getItemIndex(q);n.prototype.addToSelection.call(this,
p)}},deselect:function(q){if("none"!=this.mode){var p=null;p="number"==typeof q||"string"==typeof q?q:this.grid.getItemIndex(q);n.prototype.deselect.call(this,p)}},deselectAll:function(q){var p=null;q||"number"==typeof q?(p="number"==typeof q||"string"==typeof q?q:this.grid.getItemIndex(q),n.prototype.deselectAll.call(this,p)):this.inherited(arguments)}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(O,
K,n,q){return O("dojox.grid._SelectionPreserver",null,{constructor:function(p){this.selection=p;var h=this.grid=p.grid;this.reset();this._connects=[K.connect(h,"_setStore",this,"reset"),K.connect(h,"_addItem",this,"_reSelectById"),K.connect(p,"onSelected",n.hitch(this,"_selectById",!0)),K.connect(p,"onDeselected",n.hitch(this,"_selectById",!1)),K.connect(p,"deselectAll",this,"reset")]},destroy:function(){this.reset();q.forEach(this._connects,K.disconnect);delete this._connects},reset:function(){this._selectedById=
{}},_reSelectById:function(p,h){p&&this.grid._hasIdentity&&(this.selection.selected[h]=this._selectedById[this.grid.store.getIdentity(p)])},_selectById:function(p,h){if("none"!=this.selection.mode&&this.grid._hasIdentity){var f=h,g=this.grid;if("number"==typeof h||"string"==typeof h)f=(f=g._by_idx[h])&&f.item;f&&(this._selectedById[g.store.getIdentity(f)]=!!p);return f}}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],
function(O,K,n,q){return O("dijit.form.Textarea",[q,n],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);K.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),
function(O,K,n,q,p,h,f){n.add("textarea-needs-help-shrinking",function(){var g=h.body(),k=K.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},g,"last"),u=k.scrollHeight>=k.clientHeight;g.removeChild(k);return u});return O("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var g=this.textbox;g.style.overflowY="hidden";this.own(p(g,"focus, resize",q.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(f.on("resize",q.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(g){this.inherited(arguments);this.resize()},_estimateHeight:function(){var g=this.textbox;g.rows=(g.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function g(){var d=!1;""===k.value&&(k.value=" ",d=!0);var e=k.scrollHeight;d&&(k.value="");return e}var k=this.textbox;"hidden"==k.style.overflowY&&(k.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(g()||k.offsetHeight){var u=g()+Math.max(k.offsetHeight-k.clientHeight,0),w=u+"px";w!=k.style.height&&(k.style.height=w,k.rows=1);if(n("textarea-needs-help-shrinking")){var C=g(),z=k.style.minHeight,r=4,l=k.scrollTop;k.style.minHeight=w;for(k.style.height="auto";0<u;){k.style.minHeight=
Math.max(u-r,4)+"px";w=g();C-=w;u-=C;if(C<r)break;C=w;r<<=1}k.style.height=u+"px";k.style.minHeight=z;k.scrollTop=l}k.style.overflowY=g()>k.clientHeight?"auto":"hidden";"hidden"==k.style.overflowY&&(k.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"arcgisonline/map/core/sameSpatialReference":function(){define(["esri/lang","arcgisonline/map/utils/contains"],function(O,K){return function(n,q){var p=[102113,102100,3857];return n&&q&&n.wkt==q.wkt&&(n.wkid==q.wkid||O.isDefined(n.latestWkid)&&
n.latestWkid==q.wkid||O.isDefined(q.latestWkid)&&n.wkid==q.latestWkid||O.isDefined(n.latestWkid)&&n.latestWkid==q.latestWkid)||n&&q&&n.wkid&&q.wkid&&K(p,n.wkid)&&K(p,q.wkid)?!0:!1}})},"arcgisonline/sharing/dijit/dialog/_PublishTileServiceDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojo/promise/all,dojo/Deferred,esri/geometry/Extent,arcgisonline/sharing/util"],function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin");O.require("dojo.promise.all");
O.require("dojo.Deferred");O.require("esri.geometry.Extent");O.require("arcgisonline.sharing.util");O.declare("arcgisonline.sharing.dijit.dialog._PublishTileServiceDlgMixin",null,{_util:arcgisonline.sharing.util,SCALE_MIN:5.91657527591555E8,SCALE_MAX:0,tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:256,cols:256,dpi:96,preciseDpi:96,lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,
scale:2.95828763795777E8},{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},
{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,
scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147}]},tileImageInfo:{format:"PNG32",compressionQuality:0,antialiasing:!0},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128},vectorTilePublishParams:{tilingSchema:{tileCacheInfo:{spatialReference:{wkid:102100,latestWkid:3857},
origin:{x:-2.0037508342787E7,y:2.0037508342787E7},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:2.95828763795777E8},{level:1,resolution:39135.75848200009,scale:1.47914381897889E8},{level:2,resolution:19567.87924099992,scale:7.3957190948944E7},{level:3,resolution:9783.93962049996,scale:3.6978595474472E7},{level:4,resolution:4891.96981024998,scale:1.8489297737236E7},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,
scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,
resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},
tileImageInfo:{format:"indexedVector",compressionQuality:0,antialiasing:!1},cacheStorageInfo:{storageFormat:"esriMapCacheStorageModeCompactV2",packetSize:128}}},lods:[{level:0,label:"1:591,657,528",scale:5.91657527591555E8},{level:1,label:"1:295,828,764",scale:2.95828763795777E8},{level:2,label:"1:147,914,382",scale:1.47914381897889E8},{level:3,label:"1:73,957,191",scale:7.3957190948944E7},{level:4,label:"1:36,978,595",scale:3.6978595474472E7},{level:5,label:"1:18,489,298",scale:1.8489297737236E7},
{level:6,label:"1:9,244,649",scale:9244648.868618},{level:7,label:"1:4,622,324",scale:4622324.434309},{level:8,label:"1:2,311,162",scale:2311162.217155},{level:9,label:"1:1,155,581",scale:1155581.108577},{level:10,label:"1:577,791",scale:577790.554289},{level:11,label:"1:288,895",scale:288895.277144},{level:12,label:"1:144,448",scale:144447.638572},{level:13,label:"1:72,224",scale:72223.819286},{level:14,label:"1:36,112",scale:36111.909643},{level:15,label:"1:18,056",scale:18055.954822},{level:16,
label:"1:9,028",scale:9027.977411},{level:17,label:"1:4,514",scale:4513.988705},{level:18,label:"1:2,257",scale:2256.994353},{level:19,label:"1:1,128",scale:1128.497176},{level:20,label:"1:564",scale:564.248588},{level:21,label:"1:282",scale:282.124294},{level:22,label:"1:141",scale:141.062147}],statusCheckIntervalTime:2500,_fetchFSInfo:function(q){var p=new O.Deferred,h=q&&q.url,f=q?esriGeowConfig.restBaseUrl+"content/items/"+q.id+"/data":null;h&&f?O.promise.all({serviceInfo:this._fetchServiceInfo(h),
layers:this._fetchServiceLayers(h),itemData:this._fetchItemData(f,q)}).then(O.hitch(this,function(g){p.resolve(O.mixin({},g))})):p.reject(this.i18n.publishWizard.errors.noItemUrl||{message:"Item does not specify a url."});return p},_fetchServiceInfo:function(q){return this._util.request({url:q})},_fetchServiceLayers:function(q){return this._util.request({url:q+"/layers"}).then(O.hitch(this,function(p){return{layers:p.layers}}))},_fetchItemData:function(q,p){return this._util.request({url:q}).then(O.hitch(this,
function(h){var f=[],g="features"===this._type,k;O.forEach(h&&h.layers||[],O.hitch(this,function(u,w){u&&(k=O.mixin({},g?{id:u.id}:{id:w,layerUrl:p.url+"/"+u.id,layerItemId:p.id,layerDefinition:u.layerDefinition}),u.popupInfo&&(k=O.mixin(k,{popupInfo:u.popupInfo})),!g&&esri.isDefined(u.showLegend)&&(k=O.mixin(k,{showLegend:u.showLegend})));f.push(k)}));return f&&f.length?O.mixin(h,{layers:f}):null}))},_computeScale:function(q,p){var h={width:esri.config.defaults.map.width,extent:new esri.geometry.Extent(q),
spatialReference:q.spatialReference||p};return esri.geometry.getScale(h)},_fetchTileLayerInfo:function(q,p){var h=new O.Deferred,f=p&&"vectorTiles"===p,g=function(k){return-1<window.location.href.indexOf("https:")&&k&&-1<k.indexOf("http:")};-1<(f?q.indexOf("/VectorTileServer"):q.indexOf("/MapServer"))?this._util.request({url:q,timeout:1E4},{useProxy:g(q),addToken:!1}).then(O.hitch(this,function(k){k&&k.singleFusedMapCache&&k.tileInfo?h.resolve(this._addScaleLabels(k.tileInfo)):k&&f&&k.tileInfo?h.resolve(k.tileInfo):
h.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.noTilingSchemeFound})}),O.hitch(this,function(k){h.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.mapServiceError})})):h.reject({title:this.i18n.common.notice,message:this.i18n.publishTileServiceDlg.badMapServiceUrl});return h},_addScaleLabels:function(q){if(q&&q.lods)return O.forEach(q&&q.lods||[],O.hitch(this,function(p){p.label="1:"+O.number.format(Math.round(p.scale),{pattern:"#,###,###,##0"})})),
q},_calculateConstraints:function(q){var p={minScale:null,maxScale:null},h=function(f){if(!esri.isDefined(p.minScale))p.minScale=f.minScale;else if(f.minScale>p.minScale||0===f.minScale)p.minScale=f.minScale;esri.isDefined(p.maxScale)?f.maxScale<p.maxScale&&(p.maxScale=f.maxScale):p.maxScale=f.maxScale};q?q.layers&&O.forEach(q.layers,h):(p.minScale=this.SCALE_MIN,p.maxScale=this.SCALE_MAX);return p},_normalizeMaxScale:function(q,p,h){if(q<=p&&h){for(p=h.length-1;0<=p;p--)if(q<h[p].scale){var f=p+
2;break}f=f>h.length-1?h.length-1:f;return h[f].scale}return p}})})},"esri/dijit/VisibleScaleRangeSlider":function(){define("../kernel ./_EventedWidget ./_Tooltip ./VisibleScaleRangeSlider/_RecommendedScaleRangeBounds ./VisibleScaleRangeSlider/_SlideEvent ./VisibleScaleRangeSlider/ScaleMenu ./VisibleScaleRangeSlider/ScalePreview ./VisibleScaleRangeSlider/ScaleRanges dijit/form/DropDownButton dijit/popup dojo/_base/array dojo/_base/lang dojo/aspect dojo/debounce dojo/Deferred dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/on dojo/string dojox/form/HorizontalRangeSlider dojo/i18n!../nls/jsapi".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A){K=K.createSubclass([n],{declaredClass:"esri.dijit.VisibleScaleRangeSlider",baseClass:"esriVisibleScaleRangeSlider",css:{currentScaleIndicator:"esriCurrentScaleIndicator",currentScaleIndicatorContainer:"esriCurrentScaleIndicatorContainer",scaleIndicator:"esriScaleIndicator",scaleIndicatorContainer:"esriScaleIndicatorContainer"},disabled:!1,map:null,layer:null,region:"en-US",minScale:0,maxScale:0,intermediateChanges:!1,labels:A.widgets.visibleScaleRangeSlider,
_slider:null,_currentScaleIndicator:null,_scalePreview:null,_maxScaleButton:null,_minScaleButton:null,_mapUpdateHandler:null,_scaleRanges:null,_scheduleScaleRangeChangeEmit:null,_getSliderIndexRange:function(B){B=Math.floor(B);return{min:B,max:B+.99999}},_setDisabledAttr:function(B){this._slider.set("disabled",B);this._maxScaleButton.set("disabled",B);this._minScaleButton.set("disabled",B);this._set("disabled",B)},_setMapAttr:function(B){this._set("map",B);this._mapUpdateHandler&&this._mapUpdateHandler.remove();
this._slider.set("disabled",!0);this._ensureMap().then(this._updateFromMap)},_setConstraintsAttr:function(B){this._set("constraints",B);this._setUpSlider({minScale:B.minScale,maxScale:B.maxScale})},_updateFromMap:function(B){var x=B.getMinScale(),D=B.getMaxScale();this._setUpSlider({minScale:x,maxScale:D});this._updateCurrentScaleIndicator();B=B.on("zoom-end",C.hitch(this,this._updateCurrentScaleIndicator));this.own(B);this._mapUpdateHandler=B},_setUpSlider:function(B){var x=B.maxScale;B=B.minScale;
this._slider.set("disabled",this.get("disabled"));this._scaleRanges.set("scaleRangeBounds",{minScale:B,maxScale:x});var D=this._getSliderIndexRange(this._scaleRanges.length-1);this._slider.set("maximum",D.max);this._silentSliderUpdate({maxScale:x,minScale:B})},_ensureMap:function(){return this._untilLoaded(this.map)},_untilLoaded:function(B){var x=new l;if(B)if(B.loaded)x.resolve(B);else B.on("load",function(){x.resolve(B)});else x.reject(Error("could not load resource"));return x.promise},_updateCurrentScaleIndicator:function(){var B=
this._scaleRanges.clampScale(this.map.getScale());B=this._mapScaleToSlider(B)/this._slider.maximum;this.isLeftToRight()||(B=1-B);b.set(this._currentScaleIndicator,{left:100*B+"%"})},_setLayerAttr:function(B){this._set("layer",B);this._ensureScaleRangeProvider().then(this._ensureLayer).then(this._updateMinMaxScaleFromLayer)},_ensureLayer:function(){return this._untilLoaded(this.layer)},_updateMinMaxScaleFromLayer:function(B){this.set({minScale:B.minScale,maxScale:B.maxScale})},_mapSliderToScale:function(B){var x=
this._getSliderIndexRange(B),D=this._scaleRanges.findScaleRangeByIndex(B);return this._mapToRange(B,x.min,x.max,D.minScale,D.maxScale)},_mapToRange:function(B,x,D,E,y){return E+(B-x)*(y-E)/(D-x)},_setRegionAttr:function(B){this._set("region",B);this._scalePreview.set("source",g.getScalePreviewSource(B))},_getMinimumAttr:function(){return this._mapSliderToScale(this._slider.minimum)},_getMaximumAttr:function(){return this._mapSliderToScale(this._slider.maximum)},_getActualMaxScaleAttr:function(){return this._scaleRanges.clampMaxScale(this.maxScale)},
_setMaxScaleAttr:function(B){this._set("maxScale",B);this._ensureScaleRangeProvider().then(C.hitch(this,function(){B=this._scaleRanges.clampMaxScale(B);this._set("maxScale",this._layerConstrainedMaxScale(B));this._silentSliderUpdate({maxScale:B});this._scheduleScaleRangeChangeEmit()}))},_silentSliderUpdate:function(B){var x=B.minScale,D=B.maxScale,E=this._scaleRanges;B=this._slider;void 0!==x&&(x=this._mapScaleToSlider(E.clampMinScale(x)),B.set("value",x,!1,!1));void 0!==D&&(x=this._mapScaleToSlider(E.clampMaxScale(D)),
B.set("value",x,!1,!0))},_mapScaleToSlider:function(B){var x=this._scaleRanges.scaleToRangeIndex(B),D=this._getSliderIndexRange(x);x=this._scaleRanges.findScaleRangeByIndex(x);return this._mapToRange(B,x.minScale,x.maxScale,D.min,D.max)},_getActualMinScaleAttr:function(){return this._scaleRanges.clampMinScale(this.minScale)},_setMinScaleAttr:function(B){this._set("minScale",B);this._ensureScaleRangeProvider().then(C.hitch(this,function(){B=this._scaleRanges.clampMinScale(B);this._set("minScale",this._layerConstrainedMinScale(B));
this._silentSliderUpdate({minScale:B});this._scheduleScaleRangeChangeEmit()}))},_ensureScaleRangeProvider:function(){if(this.map)return this._ensureMap();var B=new l;this.constraints&&B.resolve();return B.promise},_emitScaleRangeChange:function(){this.emit("scale-range-change",{minScale:this.minScale,maxScale:this.maxScale})},_layerConstrainedMinScale:function(B){var x=C.getObject("tileInfo.lods",!1,this.layer)||[];var D=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===
this.layer.declaredClass);return 0<x.length&&!D?(x=x[0].scale,D=this._scaleRanges.get("firstRange"),(D=.85<this._mapToRange(B,D.maxScale,D.minScale,0,1))?x:B>x?x:B):this._scaleRanges.beyondMinScale(B)?0:B},_layerConstrainedMaxScale:function(B){var x=C.getObject("tileInfo.lods",!1,this.layer)||[],D=this.layer&&("esri.layers.RasterXLayer"===this.layer.declaredClass||"esri.layers.ArcGISImageServiceLayer"===this.layer.declaredClass);return 0<x.length&&!D?(x=x[x.length-1].scale,B<x?x:B):this._scaleRanges.beyondMaxScale(B)?
0:B},constructor:function(){this._scaleRanges=new (g.createSubclass([q]));this._scheduleScaleRangeChangeEmit=r(C.hitch(this,this._emitScaleRangeChange),0);this._ensureMap=C.hitch(this,this._ensureMap);this._ensureScaleRangeProvider=C.hitch(this,this._ensureScaleRangeProvider);this._ensureLayer=C.hitch(this,this._ensureLayer);this._updateMinMaxScaleFromLayer=C.hitch(this,this._updateMinMaxScaleFromLayer);this._updateFromMap=C.hitch(this,this._updateFromMap)},buildRendering:function(){this.inherited(arguments);
this._initSlider();this._initScalePreview();this._initCurrentScaleIndicator();this._initScaleMenus()},_initSlider:function(){var B=new (v.createSubclass([p]))({baseClass:"esriHorizontalSlider",showButtons:!1,intermediateChanges:this.intermediateChanges,disabled:!0});this._slider=B;B.placeAt(this.domNode);B.startup();this.own(B.on("slide-onmousemove, slidemax-onmousemove",C.hitch(this,function(x){this._updateScalePreview(x.movable.handle)})),B.on("slide-onmovestop, slidemax-onmovestop",C.hitch(this,
function(x){d.contains(x.movable.handle,"dijitSliderThumbHover")||this._closeScalePreview()})),B.on("change",C.hitch(this,function(){var x=Math.round(this._mapSliderToScale(this._getSliderMin())),D=Math.round(this._mapSliderToScale(this._getSliderMax()));this.set({minScale:x,maxScale:D})})),z.after(B,"_setValueAttr",C.hitch(this,this._updateLabelMenus)))},_getSliderMin:function(){return this._slider.get("value")[0]},_getSliderMax:function(){return this._slider.get("value")[1]},_updateLabelMenus:function(){var B=
this._maxScaleButton;this._minScaleButton.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMin()));B.set("label",this._scaleRanges.getScaleRangeLabel(this._getSliderMax()))},_initScalePreview:function(){var B=new f;B.startup();u.moveOffScreen(B);w.forEach([this._slider._movable.handle,this._slider._movableMax.handle],function(x){x.onmouseenter=C.hitch(this,this._updateScalePreview,x);x.onmouseleave=C.hitch(this,this._closeScalePreview)},this);this.own(B);this._scalePreview=B},_closeScalePreview:function(){u.close(this._scalePreview)},
_updateScalePreview:function(B){if(!this.disabled){var x=this._scalePreview;u.moveOffScreen(x);var D=this._slider,E=B===D.sliderHandle?this._getSliderMin():this._getSliderMax(),y=a.position(B),F=a.position(x.domNode);D=a.position(D.sliderBarContainer);var G=this.isLeftToRight();E=this._scaleRanges.getScalePreviewSpriteBackgroundPosition(E);x.set("backgroundPosition",E);y=y.x-D.x;F=.5*F.w;u.open({parent:this,popup:x,around:B,orient:y<F?G?["above","below"]:["above-alt","below-alt"]:y<D.w-F?["above-centered",
"below-centered"]:G?["above-alt","below-alt"]:["above","below"]})}},_initCurrentScaleIndicator:function(){if(this.map){var B=e.create("div",{className:this.css.scaleIndicatorContainer+" "+this.css.currentScaleIndicatorContainer},this._slider.sliderBarContainer),x=e.create("div",{className:this.css.scaleIndicator+" "+this.css.currentScaleIndicator},B);this._currentScaleIndicator=x;this.createTooltip(x);B=m(x,"mouseover",C.hitch(this,function(){var D=t.substitute(this.labels.currentScaleTooltip,{scaleLabel:this._scaleRanges.getScaleRangeLabel(this._mapScaleToSlider(this.map.getScale()))});
this.findTooltip(x).set("label",D)}));this.own(B)}},_initScaleMenus:function(){var B=new h,x=new h;this.own(B.on("scale-selected",C.hitch(this,function(y){D.closeDropDown();this.set("minScale",y.scale)})));this.own(x.on("scale-selected",C.hitch(this,function(y){E.closeDropDown();this.set("maxScale",y.scale)})));var D=new k({baseClass:"esriScaleMenuButton esriMinScaleMenuButton",dropDown:B,dropDownPosition:["below","above"]});D.toggleDropDown();D.toggleDropDown();var E=new k({baseClass:"esriScaleMenuButton esriMaxScaleMenuButton",
dropDown:x,dropDownPosition:["below","above"]});E.toggleDropDown();E.toggleDropDown();this.own(z.before(D,"openDropDown",C.hitch(this,function(){var y=this._scaleRanges.findScaleRange(this.get("actualMaxScale")).minScale;B.set("options",{label:D.label,scale:{current:this.get("actualMinScale"),map:this._getMapScale(),min:this.get("minimum"),max:y}})})));this.own(z.before(E,"openDropDown",C.hitch(this,function(){var y=this._scaleRanges.findScaleRange(this.get("actualMinScale")).maxScale;x.set("options",
{label:E.label,scale:{current:this.get("actualMaxScale"),map:this._getMapScale(),min:y,max:this.get("maximum")}})})));D.placeAt(this.domNode);E.placeAt(this.domNode);B.startup();x.startup();D.startup();E.startup();this._minScaleButton=D;this._maxScaleButton=E},_getMapScale:function(){return this.map?this.map.getScale():-1},startup:function(){this.inherited(arguments);this.watch("intermediateChanges",function(B,x,D){this._slider.set(B,D)})}});C.setObject("dijit.VisibleScaleRangeSlider",K,O);return K})},
"esri/dijit/_Tooltip":function(){define(["dijit/Tooltip","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom"],function(O,K,n,q,p){return n(null,{declaredClass:"esri.dijit._Tooltip",_tooltips:null,constructor:function(){this._tooltips=[]},startup:function(){this.inherited(arguments);this._started||K.forEach(this._tooltips,function(h){h.startup()})},destroy:function(){this.inherited(arguments);K.forEach(this._tooltips,function(h){h.destroy()});this._tooltips=null},createTooltips:function(h){K.forEach(h,
function(f){this.createTooltip(f.node,f.label)},this)},createTooltip:function(h,f){var g=this._getConnectId(h);g&&(g="object"===typeof f?q.mixin({},f,{connectId:g}):{connectId:g,label:f},g=new O(g),this._started&&g.startup(),this._tooltips.push(g))},_getConnectId:function(h){var f;if(h){if(q.isArray(h)){var g=[];K.forEach(h,function(k){(f=this._getNode(k))&&g.push(f)});if(0===g.length)return}else if(g=this._getNode(h),!g)return;return g}},_getNode:function(h){return p.byId(h.domNode||h)},findTooltip:function(h){var f=
this._getNode(h),g;if(h){h=this._tooltips;var k=h.length;for(var u=0;u<k;u++){var w=h[u];if(g=q.isArray(w.connectId)?-1<K.indexOf(w.connectId,f):w.connectId===f)return w}}}})})},"esri/dijit/VisibleScaleRangeSlider/_RecommendedScaleRangeBounds":function(){define(["./recommendedScales","dojo/_base/declare"],function(O,K){return K(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._RecommendedScaleRangeBounds",beyondMinScale:function(n){var q=this.get("firstRange"),p=q.minScale;q=O.getRecommendedScale(q.id)||
q.maxScale;return n<=p&&n>q},beyondMaxScale:function(n){var q=this.get("lastRange"),p=q.maxScale;q=O.getRecommendedScale(q.id)||q.minScale;return n<q&&n>=p}})})},"esri/dijit/VisibleScaleRangeSlider/recommendedScales":function(){define(["dojo/_base/lang"],function(O){var K={_recommendedScales:{world:1E8,continent:5E7,countriesBig:25E6,countriesSmall:12E6,statesProvinces:6E6,stateProvince:3E6,counties:15E5,county:75E4,metropolitanArea:32E4,cities:16E4,city:8E4,town:4E4,neighborhood:2E4,streets:1E4,
street:5E3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100},getRecommendedScale:function(n){return K._recommendedScales[n]},all:function(){return O.clone(K._recommendedScales)}};return K})},"esri/dijit/VisibleScaleRangeSlider/_SlideEvent":function(){define(["dojo/_base/array","dojo/_base/declare"],function(O,K){return K(null,{declaredClass:"esri.dijit.VisibleScaleRangeSlider._SlideEvent",_events:["onMouseMove","onFirstMove",{name:"onMoveStop",hookTo:"destroy"}],postCreate:function(){this.inherited(arguments);
this._extendMover(this._movable);this._extendMover(this._movableBar,"rangebar");this._extendMover(this._movableMax,"max")},_extendMover:function(n,q){if(n){var p=n.mover,h={};O.forEach(this._events,function(f){if("object"===typeof f){var g=f.name;var k=f.hookTo}else g=f;var u=p.prototype[g]||function(){};var w="slide"+(q||"")+"-"+g.toLowerCase();var C=function(){u.apply(this,arguments);this.widget.emit(w,{movable:n})};if(k){var z=p.prototype[k];h[k]=function(){z.apply(this,arguments);C.apply(this,
arguments)}}h[g]=C});p.extend(h)}}})})},"esri/dijit/VisibleScaleRangeSlider/ScaleMenu":function(){define("../../kernel ../_EventedWidget ../_Tooltip ./recommendedScales ./ScaleRanges dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-prop dojo/dom-style dojo/has dojo/keys dojo/number dojo/on dojo/query dojo/string dojox/html/entities dojox/lang/functional/object dojo/i18n!../../nls/jsapi dojo/text!./templates/ScaleMenu.html dijit/form/TextBox".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A){K=g([K,h,f,n],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScaleMenu",templateString:A,baseClass:"esriScaleMenu",labels:v.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",section:"esriSection",content:"esriContent",current:"esriCurrent",input:"esriInput",list:"esriList",item:"esriItem",inline:"esriInline",selectable:"esriSelectable",hidden:"esriHidden"},_elementValueMap:null,_elements:null,_scaleRangeCategories:null,_scaleRanges:null,
_rangeToScaleAndNodeLookup:null,constructor:function(){this._scaleRanges=new p},buildRendering:function(){this.inherited(arguments);this._rangeToScaleAndNodeLookup={map:{scale:null,node:this.dap_mapScaleItem}};var B=this.labels,x=B.featuredScaleLabels,D=q.all(),E=this.css.item+" "+this.css.selectable,y;k.forEach(t.keys(D),function(H){y=x[H];var I=D[H],N=c.substitute(y,{scaleLabel:this._formatScale(I)});N=C.create("li",{innerHTML:N,className:E},this.dap_recommendedScales);this._rangeToScaleAndNodeLookup[H]=
{scale:I,node:N}},this);var F=C.create("span",{innerHTML:B.setTo,className:this.css.inline}),G=C.create("span",{innerHTML:B.selectOne,className:this.css.inline});z.set(this.dap_scaleListHeader,"innerHTML",c.substitute(B.setToSelectOne,{setTo:F.outerHTML,selectOne:G.outerHTML}))},_formatScale:function(B){return"1:"+e.format(B)},postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,a.selector("."+this.css.item+"."+this.css.selectable,"click"),u.hitch(this,function(B){B=B.target===
this.dap_mapScaleItem?this.options.scale.map:this._parseScale(B.target.innerHTML);this._emitScaleSelected(B)})));this.dap_scaleInput.on("keyDown",u.hitch(this,function(B){B.keyCode===d.ENTER&&this._handleCustomScaleInput()}));this.createTooltip(this.dap_scaleInput,this.labels.customScaleInputTooltip)},_emitScaleSelected:function(B){this.emit("scale-selected",{scale:B})},_handleCustomScaleInput:function(){var B=this._parseScale(this.dap_scaleInput.get("value"));isNaN(B)||this._emitScaleSelected(this._scaleRanges.clampScale(B))},
_parseScale:function(B){B=m.decode(B).replace(/.*\(/,"").replace(/\).*$/,"").replace(/.*1:/,"").replace(/[^0-9.\s]/g,"");return e.parse(B)},_setOptionsAttr:function(B){var x=B.scale,D=this._formatScale(x.current);z.set(this.dap_currentScaleLabel,"innerHTML",B.label);this.dap_scaleInput.set("value",D,!1);D=c.substitute(this.labels.featuredScaleLabels.current,{scaleLabel:this._formatScale(x.map)});this._rangeToScaleAndNodeLookup.map.scale=x.map;z.set(this.dap_mapScaleItem,"innerHTML",D);w.toggle(this.dap_mapScaleItem,
this.css.hidden,-1===x.map);this._scaleRanges.set("scaleRangeBounds",{minScale:x.min,maxScale:x.max});this._hideOutOfScaleRanges();this._set("options",B)},_hideOutOfScaleRanges:function(){var B=b("."+this.css.item+"."+this.css.selectable,this.dap_recommendedScales),x=this._scaleRanges;k.forEach(t.keys(this._rangeToScaleAndNodeLookup),function(D){D=this._rangeToScaleAndNodeLookup[D];w.toggle(D.node,this.css.hidden,!x.contains(D.scale))},this);B=B.every(function(D){return"none"===r.get(D,"display")});
w.toggle(this.dap_recommendedScaleSection,this.css.hidden,B)}});u.setObject("dijit.ScaleMenu",K,O);return K})},"esri/dijit/VisibleScaleRangeSlider/ScaleRanges":function(){define(["./scalePreviewUtil","dojo/_base/array","dojo/_base/declare","dojo/Stateful","dojo/i18n!../../nls/jsapi"],function(O,K,n,q,p){n=n(q,{_scaleRangeStops:[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},
{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"state",minScale:3999999},{id:"states",minScale:6999999},{id:"country",minScale:14999999},{id:"countries",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:147914382}],_allRanges:null,_ranges:null,length:0,constructor:function(){this._allRanges=
this.getScaleRanges()},_scaleRangeBoundsSetter:function(h){this._ranges=h=this.getScaleRanges(h.maxScale,h.minScale);this.length=h.length},getScaleRanges:function(h,f){var g=this._scaleRangeStops,k=g.length;h=0<=h?h:0;f=0<f?f:g[k-1].minScale;var u=h;var w=[];for(var C=0;C<k;C++){var z=Math.min(g[C].minScale,f);var r=Math.min(z,f);h<=z&&u<f&&w.push({id:g[C].id,maxScale:Math.max(u,h),minScale:r});u=r+1}w.reverse();return this._ensureValidBoundaryRanges(w)},_ensureValidBoundaryRanges:function(h){var f=
h[0];f.minScale===f.maxScale&&(h.shift(),h[0].minScale+=1);f=h[h.length-1];f.minScale===f.maxScale&&(h.pop(),--h[h.length-1].maxScale);return h},getScalePreviewSpriteBackgroundPosition:function(h){h=this._toFullRangeIndex(h);return O.getScalePreviewSpriteBackgroundPosition(h)},_toFullRangeIndex:function(h){h=this.findScaleRangeByIndex(Math.floor(h));for(var f=this._allRanges,g=f.length,k=0,u=0;u<g;u++)if(f[u].id===h.id){k=u;break}return k},getScaleRangeLabel:function(h){h=this._ranges[this._clampScaleRangeIndex(h)];
return p.widgets.visibleScaleRangeSlider.scaleRangeLabels[h.id]},findScaleRange:function(h){var f=this._ranges;if(h>=f[0].maxScale)return f[0];if(h<=f[f.length-1].minScale)return f[f.length-1];for(var g=0;g<f.length;g++){var k=f[g];if(h>=k.maxScale&&h<=k.minScale){var u=k;break}}return u},findScaleRangeByIndex:function(h){h=this._clampScaleRangeIndex(h);return this._ranges[h]},clampScale:function(h){return Math.min(this.get("minScale"),Math.max(this.get("maxScale"),h))},_minScaleGetter:function(){return this.get("firstRange").minScale},
_maxScaleGetter:function(){return this.get("lastRange").maxScale},_firstRangeGetter:function(){return this._ranges[0]},_lastRangeGetter:function(){var h=this._ranges;return h[h.length-1]},clampMinScale:function(h){return 0===h?this.get("minScale"):this.clampScale(h)},clampMaxScale:function(h){return this.clampScale(h)},_clampScaleRangeIndex:function(h){if(0>=h)return 0;var f=this._ranges.length-1;return h>f?f:Math.floor(h)},scaleToRangeIndex:function(h){return K.indexOf(this._ranges,this.findScaleRange(h))},
contains:function(h){for(var f=this._ranges,g=!1,k,u=0;u<f.length;u++)if(k=f[u],h>=k.maxScale&&h<=k.minScale){g=!0;break}return g}});n.getScalePreviewSource=function(h){return O.getScalePreviewSource(h)};return n})},"esri/dijit/VisibleScaleRangeSlider/scalePreviewUtil":function(){define(["dojo/_base/array","require"],function(O,K){var n={_supportedRegions:"ar-iq ar-kw bg-bg cs-cz da-dk da-gl da-gl de-at de-ch de-de de-li el-gr en-ae en-au en-ca en-ca en-eg en-gb en-hk en-id en-ie en-ie en-il en-in en-iq en-ke en-lu en-mo en-my en-nz en-rw en-sg en-us en-us en-vi en-vi en-wo en-za es-ar es-ar es-bo es-bo es-cl es-cl es-co es-co es-cr es-cr es-es es-gt es-gt es-mx es-mx es-ni es-ni es-pe es-pe es-pr es-pr es-sv es-sv es-ve et-ee fi-fi fi-fi fr-ci fr-fr fr-ma fr-mg fr-ml fr-tn is-is is-is it-it ja-jp ja-jp ko-kr lt-lt lv-lv nl-be nl-nl nl-sr nl-sr nn-no nn-no pl-pl pt-br pt-br pt-pt ro-ro ru-ru sk-sk sv-se sv-se th-th zh-cn zh-tw".split(" "),
_defaultRegion:"en-us",_getSupportedRegion:function(q){q=q?q.toLowerCase():"";return-1<O.indexOf(n._supportedRegions,q)?q:n._defaultRegion},getScalePreviewSource:function(q){q="./images/scalePreview/"+n._getSupportedRegion(q)+".jpg";return"url("+K.toUrl(q)+")"},getScalePreviewSpriteBackgroundPosition:function(q){return"-"+q%5*128+"px -"+128*Math.floor(q/5)+"px"}};return n})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(O,K,n){var q={};
K.mixin(n,{keys:function(p){var h=[],f;for(f in p)f in q||h.push(f);return h},values:function(p){var h=[],f;for(f in p)f in q||h.push(p[f]);return h},filterIn:function(p,h,f){f=f||O.global;h=n.lambda(h);var g={},k;for(k in p)if(!(k in q)){var u=p[k];h.call(f,u,k,p)&&(g[k]=u)}return g},forIn:function(p,h,f){f=f||O.global;h=n.lambda(h);for(var g in p)g in q||h.call(f,p[g],g,p);return f},mapIn:function(p,h,f){f=f||O.global;h=n.lambda(h);var g={},k;for(k in p)k in q||(g[k]=h.call(f,p[k],k,p));return g}});
return n})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(O,K,n){var q=K.getObject("lang.functional",!0,O),p={},h=1<"ab".split(/a*/).length?String.prototype.split:function(k){var u=this.split.call(this,k);(k=k.exec(this))&&0==k.index&&u.unshift("");return u},f=function(k){var u=[],w=h.call(k,/\s*->\s*/m);if(1<w.length)for(;w.length;)k=w.pop(),u=w.pop().split(/\s*,\s*|\s+/m),w.length&&w.push("(function("+u.join(", ")+"){ return ("+k+"); })");
else if(k.match(/\b_\b/))u=["_"];else{w=k.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m);var C=k.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(w||C)w&&(u.push("$1"),k="$1"+k),C&&(u.push("$2"),k+="$2");else{w=k.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var z={};n.forEach(w,function(r){z.hasOwnProperty(r)||(u.push(r),z[r]=1)})}}return{args:u,body:k}},g=function(k){return k.length?function(){var u=k.length-1,w=q.lambda(k[u]).apply(this,arguments);for(--u;0<=u;--u)w=q.lambda(k[u]).call(this,w);return w}:function(u){return u}};K.mixin(q,{rawLambda:function(k){return f(k)},buildLambda:function(k){k=f(k);return"function("+k.args.join(",")+"){return ("+k.body+");}"},lambda:function(k){if("function"==typeof k)return k;
if(k instanceof Array)return g(k);if(p.hasOwnProperty(k))return p[k];var u=f(k);return p[k]=new Function(u.args,"return ("+u.body+");")},clearLambdaCache:function(){p={}}});return q})},"esri/dijit/VisibleScaleRangeSlider/ScalePreview":function(){define("../../kernel dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/has dojo/i18n!../../nls/jsapi dojo/text!./templates/ScalePreview.html".split(" "),function(O,K,n,q,p,h,f,g,k){K=q([n,K],{declaredClass:"esri.dijit.VisibleScaleRangeSlider.ScalePreview",
baseClass:"esriScalePreview",templateString:k,labels:g.widgets.visibleScaleRangeSlider,css:{header:"esriHeader",thumbnail:"esriThumbnail"},source:null,_setSourceAttr:function(u){this.source!==u&&(this._set("source",u),h.set(this.dap_scalePreviewThumbnail,"backgroundImage",u))},backgroundPosition:null,_setBackgroundPositionAttr:function(u){this.backgroundPosition!==u&&(this._set("backgroundPosition",u),h.set(this.dap_scalePreviewThumbnail,"backgroundPosition",u))}});p.setObject("dijit.ScalePreview",
K,O);return K})},"dojox/form/HorizontalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/HorizontalRangeSlider.html","dijit/form/HorizontalSlider"],function(O,K,n,q){return O("dojox.form.HorizontalRangeSlider",[q,K],{templateString:n})})},"dojox/form/_RangeSliderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l){var d=function(b,c){return b-c};u=O("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=n.map(this.value,function(b){return parseInt(b,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(d);var b=this,c=O(e,{constructor:function(){this.widget=b}});this._movableMax=new C(this.sliderHandleMax,{mover:c});this.sliderHandle.setAttribute("aria-valuemin",
this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);c=O(a,{constructor:function(){this.widget=b}});this._movableBar=new C(this.progressBar,{mover:c});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},destroy:function(){this.inherited(arguments);this._movableMax.destroy();
this._movableBar.destroy()},_onKeyPress:function(b){if(!(this.disabled||this.readOnly||b.altKey||b.ctrlKey)){var c=b.target===this.sliderHandleMax,m=b.target===this.progressBar,t=K.delegate(k,this.isLeftToRight()?{PREV_ARROW:k.LEFT_ARROW,NEXT_ARROW:k.RIGHT_ARROW}:{PREV_ARROW:k.RIGHT_ARROW,NEXT_ARROW:k.LEFT_ARROW}),v=0,A=!1;switch(b.keyCode){case t.HOME:this._setValueAttr(this.minimum,!0,c);p.stop(b);return;case t.END:this._setValueAttr(this.maximum,!0,c);p.stop(b);return;case t.PREV_ARROW:case t.DOWN_ARROW:A=
!0;case t.NEXT_ARROW:case t.UP_ARROW:v=1;break;case t.PAGE_DOWN:A=!0;case t.PAGE_UP:v=this.pageIncrement;break;default:this.inherited(arguments);return}A&&(v=-v);v&&(m?this._bumpValue([{change:v,useMaxValue:!1},{change:v,useMaxValue:!0}]):this._bumpValue(v,c),p.stop(b))}},_onHandleClickMax:function(b){this.disabled||this.readOnly||(h("ie")||r.focus(this.sliderHandleMax),p.stop(b))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?this.minimum:this.maximum,!0,!0)},_bumpValue:function(b,
c){var m=K.isArray(b)?[this._getBumpValue(b[0].change,b[0].useMaxValue),this._getBumpValue(b[1].change,b[1].useMaxValue)]:this._getBumpValue(b,c);this._setValueAttr(m,!0,c)},_getBumpValue:function(b,c){var m=c?1:0,t=f.getComputedStyle(this.sliderBarContainer),v=g.getContentBox(this.sliderBarContainer,t);t=this.discreteValues;m=this.value[m];if(1>=t||Infinity==t)t=v[this._pixelCount];t--;m=this.maximum>this.minimum?(m-this.minimum)*t/(this.maximum-this.minimum)+b:0;0>m&&(m=0);m>t&&(m=t);return m*(this.maximum-
this.minimum)/t+this.minimum},_onBarClick:function(b){this.disabled||this.readOnly||(h("ie")||r.focus(this.progressBar),p.stop(b))},_onRemainingBarClick:function(b){if(!this.disabled&&!this.readOnly){h("ie")||r.focus(this.progressBar);var c=g.position(this.sliderBarContainer,!0),m=g.position(this.progressBar,!0),t=b[this._mousePixelCoord],v=m[this._startingPixelCoord];m=v+m[this._pixelCount];v=this._isReversed()?t<=v:t>=m;t=this._isReversed()?c[this._pixelCount]-t+c[this._startingPixelCoord]:t-c[this._startingPixelCoord];
this._setPixelValue(t,c[this._pixelCount],!0,v);p.stop(b)}},_setPixelValue:function(b,c,m,t){this.disabled||this.readOnly||(b=this._getValueByPixelValue(b,c),this._setValueAttr(b,m,t))},_getValueByPixelValue:function(b,c){var m=this.discreteValues;if(1>=m||Infinity==m)m=c;m--;return(this.maximum-this.minimum)*Math.round((0>b?0:c<b?c:b)/(c/m))/m+this.minimum},_setValueAttr:function(b,c,m){var t=K.clone(this.value);K.isArray(b)?t=b:t[m?1:0]=b;this._lastValueReported="";this.valueNode.value=b=t;t.sort(d);
this.sliderHandle.setAttribute("aria-valuenow",t[0]);this.sliderHandleMax.setAttribute("aria-valuenow",t[1]);z.prototype._setValueAttr.apply(this,arguments);this._printSliderBar(c,m)},_printSliderBar:function(b,c){var m=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):0,t=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,v=m;m>t&&(m=t,t=v);var A=this._isReversed()?100*(1-m):100*m,B=this._isReversed()?100*(1-t):100*t,x=this._isReversed()?
100*(1-t):100*m;if(b&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),v=this.slideDuration/10,0!==v){0>v&&(v=0-v);var D={},E={},y={};D[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],end:A,units:"%"};E[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:B,units:"%"};y[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],
end:x,units:"%"};y[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(t-m),units:"%"};m=q.animateProperty({node:this.sliderHandle.parentNode,duration:v,properties:D});t=q.animateProperty({node:this.sliderHandleMax.parentNode,duration:v,properties:E});v=q.animateProperty({node:this.progressBar,duration:v,properties:y});l.combine([m,t,v]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=A+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=
B+"%",this.progressBar.style[this._handleOffsetCoord]=x+"%",this.progressBar.style[this._progressPixelSize]=100*(t-m)+"%"}});var e=O("dijit.form._SliderMoverMax",w,{onMouseMove:function(b){var c=this.widget,m=c._abspos;m||(m=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=K.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());b=b[c._mousePixelCoord]-m[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?m[c._pixelCount]-b:b,m[c._pixelCount],!1,!0)},destroy:function(b){w.prototype.destroy.apply(this,
arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,!0)}}),a=O("dijit.form._SliderBarMover",w,{onMouseMove:function(b){var c=this.widget;if(!c.disabled&&!c.readOnly){var m=c._abspos,t=c._bar,v=c._mouseOffset;m||(m=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=K.hitch(c,"_setPixelValue"),c._getValueByPixelValue_=K.hitch(c,"_getValueByPixelValue"),c._isReversed_=c._isReversed());t||(t=c._bar=g.position(c.progressBar,!0));v||(v=c._mouseOffset=b[c._mousePixelCoord]-t[c._startingPixelCoord]);
b=b[c._mousePixelCoord]-m[c._startingPixelCoord]-v;pixelValues=[b,b+t[c._pixelCount]];pixelValues.sort(d);0>=pixelValues[0]&&(pixelValues[0]=0,pixelValues[1]=t[c._pixelCount]);pixelValues[1]>=m[c._pixelCount]&&(pixelValues[1]=m[c._pixelCount],pixelValues[0]=m[c._pixelCount]-t[c._pixelCount]);m=[c._getValueByPixelValue(c._isReversed_?m[c._pixelCount]-pixelValues[0]:pixelValues[0],m[c._pixelCount]),c._getValueByPixelValue(c._isReversed_?m[c._pixelCount]-pixelValues[1]:pixelValues[1],m[c._pixelCount])];
c._setValueAttr(m,!1,!1)}},destroy:function(){w.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._bar=null;b._mouseOffset=null;b._setValueAttr(b.value,!0)}});return u})},"dojox/fx":function(){define(["./fx/_base"],function(O){return O})},"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(O,K,n,q,p,h,f,g,k){O=K.getObject("dojox.fx",!0);
K.mixin(O,{anim:n.anim,animateProperty:n.animateProperty,fadeTo:n._fade,fadeIn:n.fadeIn,fadeOut:n.fadeOut,combine:q.combine,chain:q.chain,slideTo:q.slideTo,wipeIn:q.wipeIn,wipeOut:q.wipeOut});O.sizeTo=function(u){var w=u.node=p.byId(u.node),C=u.method||"chain";u.duration||(u.duration=500);"chain"==C&&(u.duration=Math.floor(u.duration/2));var z,r,l,d,e,a=null,b=function(c){return function(){var m=h.getComputedStyle(c),t=m.position,v=m.width,A=m.height;z="absolute"==t?c.offsetTop:parseInt(m.top)||0;
l="absolute"==t?c.offsetLeft:parseInt(m.left)||0;e="auto"==v?0:parseInt(v);a="auto"==A?0:parseInt(A);d=l-Math.floor((u.width-e)/2);r=z-Math.floor((u.height-a)/2);"absolute"!=t&&"relative"!=t&&(m=h.coords(c,!0),z=m.y,l=m.x,c.style.position="absolute",c.style.top=z+"px",c.style.left=l+"px")}}(w);w=n.animateProperty(K.mixin({properties:{height:function(){b();return{end:u.height||0,start:a}},top:function(){return{start:z,end:r}}}},u));C=n.animateProperty(K.mixin({properties:{width:function(){return{start:e,
end:u.width||0}},left:function(){return{start:l,end:d}}}},u));return q["combine"==u.method?"combine":"chain"]([w,C])};O.slideBy=function(u){var w,C,z=function(r){return function(){var l=h.getComputedStyle(r),d=l.position;w="absolute"==d?r.offsetTop:parseInt(l.top)||0;C="absolute"==d?r.offsetLeft:parseInt(l.left)||0;"absolute"!=d&&"relative"!=d&&(l=f.coords(r,!0),w=l.y,C=l.x,r.style.position="absolute",r.style.top=w+"px",r.style.left=C+"px")}}(u.node=p.byId(u.node));z();u=n.animateProperty(K.mixin({properties:{top:w+
(u.top||0),left:C+(u.left||0)}},u));g.connect(u,"beforeBegin",u,z);return u};O.crossFade=function(u){var w=u.nodes[0]=p.byId(u.nodes[0]),C=k.style(w,"opacity"),z=u.nodes[1]=p.byId(u.nodes[1]);k.style(z,"opacity");return q.combine([n[0==C?"fadeIn":"fadeOut"](K.mixin({node:w},u)),n[0==C?"fadeOut":"fadeIn"](K.mixin({node:z},u))])};O.highlight=function(u){var w=u.node=p.byId(u.node);u.duration=u.duration||400;var C=u.color||"#ffff99",z=k.style(w,"backgroundColor");"rgba(0, 0, 0, 0)"==z&&(z="transparent");
u=n.animateProperty(K.mixin({properties:{backgroundColor:{start:C,end:z}}},u));"transparent"==z&&g.connect(u,"onEnd",u,function(){w.style.backgroundColor=z});return u};O.wipeTo=function(u){u.node=p.byId(u.node);var w=u.node,C=w.style,z=u.width?"width":"height",r={};r[z]={start:function(){C.overflow="hidden";if("hidden"==C.visibility||"none"==C.display)return C[z]="1px",C.display="",C.visibility="",1;var l=k.style(w,z);return Math.max(l,1)},end:u[z]};return n.animateProperty(K.mixin({properties:r},
u))};return O})},"arcgisonline/pages/isGeographic":function(){define(["require","exports","tslib","esri/WKIDUnitConversion"],function(O,K,n,q){q=n.__importDefault(q);return function(p){p=p||{};return p.wkid?!q["default"].hasOwnProperty(p.wkid):p.wkt?/^\s*GEOGCS/i.test(p.wkt):!1}})},"arcgisonline/pages/components/SelectLayerProperties":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline ../utils/arrays".split(" "),function(O,K,n,q,p,h){Object.defineProperty(K,"__esModule",
{value:!0});p=n.__importDefault(p);h=n.__importDefault(h);O=function(f){function g(){var k=null!==f&&f.apply(this,arguments)||this;k.state={active:!0,layerProperties:k.props.layerProperties};k.excludedFieldTypes=["esriFieldTypeOID","esriFieldTypeGlobalID"];k.toggleLayerPropertyField=function(u,w){var C=n.__spreadArray([],k.state.layerProperties),z=h["default"].findIndex(C,function(l){return l.id===u});if(-1<z){var r=C[z];h["default"].includes(r.additionalFields,w)?(r.additionalFields=h["default"].filterOut(r.additionalFields,
[w]),0===r.additionalFields.length&&C.splice(z,1)):r.additionalFields.push(w)}else C.push({id:u,additionalFields:[w]});k.setState({layerProperties:C})};k.save=function(){k.setState({active:!1});k.props.onSubmit(k.state.layerProperties)};k.cancel=function(){k.setState({active:!1,layerProperties:k.props.layerProperties});setTimeout(function(){k.props.onCancel()},400)};return k}n.__extends(g,f);g.prototype.componentWillUnmount=function(){document.documentElement.classList.remove("overflow-hidden")};
g.prototype.render=function(){var k=this,u,w=this.props,C=w.layers,z=w.onSubmit,r=this.state;w=r.active;var l=r.layerProperties;r=this.props.rebuildMode?p["default"].itemProperties.configureAttributes.rebuild:p["default"].itemProperties.configureAttributes.description;var d=this.props.rebuildMode?p["default"].itemProperties.configureAttributes.rebuildCache:p["default"].itemProperties.configureAttributes.select;C=null!==(u=null===C||void 0===C?void 0:C.map(function(e,a){var b,c=e.id,m=e.name,t=e.fields;
t=null!==(b=null===t||void 0===t?void 0:t.map(function(v,A){var B=v.type,x=v.name,D=v.alias,E=(l||[]).some(function(y){return(null===y||void 0===y?void 0:y.id)===c&&-1<y.additionalFields.indexOf(x)});return h["default"].includes(k.excludedFieldTypes,B)?null:q.h("label",{"class":"font-size--2 trailer-0",key:A},q.h("input",{type:"checkbox",checked:E,onChange:function(){return k.toggleLayerPropertyField(c,x)}})," ",D||x)}))&&void 0!==b?b:t;return q.h(q.Fragment,{key:a},q.h("div",{"class":"avenir-demi"},
m),q.h("div",{"class":"margin-left-1"},t))}))&&void 0!==u?u:C;return q.h("calcite-modal",{active:w,"intl-close":p["default"].common.close,role:"dialog","aria-modal":"true",oncalciteModalClose:this.cancel,"disable-outside-close":!0},q.h("h3",{slot:"header","class":"font-size-2 trailer-0"},p["default"].itemProperties.configureAttributes.selectAttributes),q.h("div",{slot:"content","class":"position-relative"},q.h("div",{"class":"trailer-half"},r),C),q.h("calcite-button",{slot:"secondary",width:"full",
appearance:"outline",color:"blue",onClick:function(){return k.cancel()}},p["default"].common.cancel),q.h("calcite-button",{slot:"primary",width:"full",color:"blue",appearance:"solid",onClick:function(){z(l)}},d))};return g}(q.Component);K["default"]=O})},"arcgisonline/sharing/dijit/dialog/CreateAppDlg":function(){define("require esri/declare esri/Evented esri/kernel esri/lang esri/request dojo/_base/lang dojo/_base/window dojo/_base/array dojo/topic dojo/string dojo/query dojo/on dojo/json dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/promise/all dojo/Deferred dojo/when dojo/io-query dojox/widget/Wizard dojox/widget/WizardPane dijit/Dialog dijit/registry ./ConfirmDialog ./ItemPropertiesDlg ./BrowseItemsDlg ./ConfirmDialog ./_CreateItemUtilMixin ../../../esriGeowConfig ../../../pages/utils/arrays ../../../map/utils/previewInTemplate ../../../map/utils/openMap dijit/_WidgetBase arcgisonline/sharing/util dojo/i18n!../../../nls/arcgisonline arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T){return K([R,n],{showModal:function(X){var aa=new m,fa=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},oa=X.isWab,ua="Web Scene"===fa.type,ha=Z.getHomeAppContext(),U=X.message,ka,W=new E({title:X.title||T.itemProperties.createNewApp,buttonOk:T.common.ok,buttonCancel:T.common.cancel,busyMessage:T.addItemFrm.addingItem,style:{width:"550px",height:"auto"}}),Q=new y({typeInfo:oa?
"wab":"configapp",message:U||(oa?T.items.createWABMessage:T.itemProperties.createAppTitle),showFolders:!0,showFile:!1,item:fa});this.item&&(Q.set("summary",this.item.isHostedTemplate?"":this.item.snippet),Q.set("title",this.item.isHostedTemplate?"":this.item.title),Q.set("tags",this.item.isHostedTemplate?[]:this.item.tags),I.self.hasCategorySchema&&Q.set("categories",this.item.categories||[]));W.setContent(Q.domNode);W.show();Q.set("focus","title");this.own(z(W,"ok",f.hitch(this,function(){u.publish("/esri/disable",
!0,T.addItemFrm.addingItem);Q._validate().then(f.hitch(this,function(){oa?(fa=f.mixin({},Q.get("item")),W.hide().then(f.hitch(this,function(){this.redirectToAppBuilder(fa)}))):(ka=Q.get("item"),this.item.isHostedTemplate||(ka=f.mixin(ka,{shareWithWebMap:!0},ua?{webSceneId:this.item.id}:{webMapId:this.item.id})),Z.isPortal()&&fa.url&&0===fa.url.indexOf("/")&&fa.url&&-1===fa.url.indexOf(ha)&&(fa.url=ha+fa.url),H.createTemplatedApplication(ka,fa,this.item.portal,this.item).then(function(L){ka=L;W.hide()}))}),
f.hitch(this,function(L){u.publish("/esri/disable",!1);this._showError(L)}))})),z(W,"hide",function(){aa.resolve(ka)}));return aa},showWizard:function(X){var aa=new m,fa=this.item?f.mixin({},this.item,{tags:this.item.isHostedTemplate?[]:this.item.tags||[]}):{},oa=new x({title:T.items.newWebMappingAppTitle,"class":"esriCreateAppDlg"}),ua=this.item&&this.item.portal||X.portal||{};X=this.item?N.includes(fa.types,"is-map"):!0;var ha="Web Scene"===fa.type,U;X=X?this.item?"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":
"arcgisonline/sharing/dijit/dialog/PluginConfigurableApps":"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer";var ka=[new F({messageLeft:T.browseItemsDlg.instructionsLeft,messageRight:T.browseItemsDlg.instructionsRight,item:this.item,"class":"esriBrowseItemsDlg"}),new y({message:T.itemProperties.createAppTitle,typeInfo:"configapp",showFolders:!0,showFile:!1,showUrl:!1,item:this.item})],W=f.hitch(this,function(V){u.publish("/esri/disable",V,T.addItemFrm.addingItem);C(".dojoxWizardButtons .dijitButton").map(D.byNode).forEach(function(ba){ba.set("disabled",
V)})}),Q=f.hitch(this,function(V){return V._validate()}),L=u.subscribe("/esri/browseitems/close",f.hitch(this,function(V,ba){if("create-app"===V)da.nextButton.onClick();else"on-view-item"===V?window.open("item.html?id\x3d"+ba.id):"download-app"===V?Z.downloadWebMappingApp(ba):"preview-app"===V&&M(fa,ba)})),ca=f.hitch(this,function(V){V._validate().then(f.hitch(this,function(ba){W(!0);ba=ka[0].get("selection");var ea=Z.getHomeAppContext(),ia=ka[1].get("item");Z.isPortal()&&ba.url&&0===ba.url.indexOf("/")&&
ba.url&&-1===ba.url.indexOf(ea)&&(ba.url=ea+ba.url);U=ia;this.item&&!this.item.isHostedTemplate&&(U=f.mixin(U,{shareWithWebMap:!0},ha?{webSceneId:this.item.id}:{webMapId:this.item.id}));H.createTemplatedApplication(ia,ba,ua,this.item).then(f.hitch(this,function(ja){this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label});oa.hide().then(f.hitch(this,function(){setTimeout(function(){window.location=ja.configureUrl},400)}))}),f.hitch(this,
function(ja){W(!1);this._showError(ja)}))}),f.hitch(this,function(ba){W(!1);this._showError(ba)}))}),Y=f.hitch(this,function(V){oa.hide().then(f.hitch(this,function(){aa.resolve(!1)}))}),da=new A({nextButtonLabel:T.publishWizard.nextButtonLabel,previousButtonLabel:T.publishWizard.previousButtonLabel,doneButtonLabel:T.publishWizard.doneButtonLabel,cancelButtonLabel:T.publishWizard.cancelButtonLabel,"class":"esriCreateApp",hideDisabled:!0,doneFunction:ca,cancelFunction:Y}),S=ka[1];ka[0].addPlugin(X);
var P=z(oa,"hide",f.hitch(this,function(V){P.remove();k.forEach(ka,function(ba){ba.destroyRecursive();ba=null});L.remove();da.destroyRecursive();oa.destroyRecursive();(V=document.getElementById("create-dropdown"))&&V.focus()}));k.forEach(ka,function(V,ba){(new B({content:V.domNode,passFunction:f.partial(Q,V),doneFunction:ba===ka.length-1?f.partial(ca,V):null})).placeAt(da)});l.after(da,"_checkButtons",function(){da.selectedChildWidget.isFirstChild?da.nextButton.domNode.style.display="none":da.selectedChildWidget.isLastChild&&
S.set("focus","title")});C(".dojoxWizardButtons",da.domNode).addClass("esriFloatTrailing");a.add(da.nextButton.domNode,["calcite","primary"]);a.add(da.cancelButton.domNode,["calcite","cancel"]);a.add(da.previousButton.domNode,["calcite","default btn-back icon-ui-left"]);a.add(da.doneButton.domNode,["calcite","primary"]);this.item&&(S.set("summary",this.item.isHostedTemplate?"":this.item.snippet),S.set("title",this.item.isHostedTemplate?"":this.item.title),S.set("tags",this.item.isHostedTemplate?"":
this.item.tags),I.self.hasCategorySchema&&S.set("categories",this.item.categories||[]));da.startup();b.create("span",{"class":"spinner hide",innerHTML:T.common.pleaseWait},C(".dojoxWizardButtons",da.domNode)[0],"first");oa.setContent(da.domNode);oa.show().then(function(){oa.closeButtonNode&&(oa.closeButtonNode.tabIndex=0)}.bind(this));document.documentElement.scrollTop=document.body.scrollTop=(document.documentElement.scrollTop||document.body.scrollTop)+1;return aa},showCreateDefaultItem:function(X){var aa=
new E({title:X.title||T.common.create,buttonOk:T.common.ok,buttonCancel:T.common.cancel,style:{width:"550px",height:"auto"}}),fa=X.typeInfo,oa=new y({typeInfo:fa,item:X.item,message:X.message,showFolders:!0,showFile:!1,showUrl:X.showUrl}),ua=null;"dashboard_map"===fa&&X&&X.item&&(oa.set("title",X.item.title),I.self.hasCategorySchema&&oa.set("categories",X.item.categories||[]));aa.setContent(oa.domNode);aa.show();z(aa,"hide",function(){var ka=document.getElementById("create-dropdown");ka&&ka.focus()});
var ha=z(aa.okButton,"click",f.hitch(this,function(){X.isWAB?oa._validate().then(f.hitch(this,function(ka){ua=oa.get("item");this.telemetry&&this.label&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:this.label,attribute:oa.wab2DRadio.checked?"2d":"3d"});aa.hide().then(f.hitch(this,function(){setTimeout(function(){this.redirectToAppBuilder(ua)}.bind(this),400)}))}),f.hitch(this,function(ka){this._showError(ka)})):oa.addItem().then(f.hitch(this,function(ka){aa.hide().then(f.hitch(this,
function(){U.remove();ha.remove();"webmap"===fa?J(ka.id):"webscene"===fa||"webscene_portal"===fa?window.location="./webscene/viewer.html?webscene\x3d"+ka.id:"urbanmodel"===fa?window.location=(I.urbanUrl||"https://urban.arcgis.com")+"?id\x3d"+ka.id:"dashboard"===fa||"dashboard_map"===fa?(this.telemetry&&this.telemetry.logEvent({label:"create apps",category:"new item",pageName:"my content",details:"dashboard"}),setTimeout(function(){this.redirectToAppBuilder(ka)}.bind(this),400)):window.location="ipynb"===
fa||"notebook"===fa?"notebook/notebook.html?id\x3d"+ka.id:"item.html?id\x3d"+(ka.serviceItemId||ka.id)+(ka.jobId?"\x26jobid\x3d"+ka.jobId:"")}))}),f.hitch(this,function(ka){this._showError(ka)}))}));var U=z.once(aa.cancelButton,"click",f.hitch(this,function(){U.remove();ha.remove()}))},redirectToAppBuilder:function(X){X.folderId&&"/"!==X.folderId&&(X.folder=X.folderId);var aa={title:X.title,tags:X.tags,summary:X.snippet,folder:X.folder,appType:X.wabType},fa="Dashboard"===X.type?"../apps/dashboards/"+
X.id+"#mode\x3dedit":"../apps/webappbuilder/index.html?";I.self.hasCategorySchema&&X.categories&&X.categories.length&&f.mixin(aa,{categories:r.stringify(X.categories)});X.wabType&&(aa=f.mixin(aa,{appType:X.wabType,webmap:X.webmap}),fa+=v.objectToQuery(aa));window.location=fa},_showError:function(X){X=f.mixin(f.mixin({},T.publishWizard.errors.error),X);this._errorDlg=new E({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(X).then(f.hitch(this,function(){this._errorDlg.hide()}));
return!1}})})},"dojox/widget/Wizard":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dijit/layout/StackContainer dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/i18n dojo/text!./Wizard/Wizard.html dojo/i18n!dijit/nls/common dojo/i18n!./nls/Wizard dijit/form/Button".split(" "),function(O,K,n,q,p,h,f,g){return K("dojox.widget.Wizard",[q,p,h],{templateString:g,nextButtonLabel:"",previousButtonLabel:"",cancelButtonLabel:"",doneButtonLabel:"",cancelFunction:null,hideDisabled:!1,
postMixInProperties:function(){this.inherited(arguments);var k=O.mixin({cancel:f.getLocalization("dijit","common",this.lang).buttonCancel},f.getLocalization("dojox.widget","Wizard",this.lang)),u;for(u in k)this[u+"ButtonLabel"]||(this[u+"ButtonLabel"]=k[u])},startup:function(){this._started||(this.inherited(arguments),this.connect(this.nextButton,"onClick","_forward"),this.connect(this.previousButton,"onClick","back"),this.cancelFunction?(O.isString(this.cancelFunction)&&(this.cancelFunction=O.getObject(this.cancelFunction)),
this.connect(this.cancelButton,"onClick",this.cancelFunction)):this.cancelButton.domNode.style.display="none",this.connect(this.doneButton,"onClick","done"),this._subscription=n.subscribe(this.id+"-selectChild",O.hitch(this,"_checkButtons")),this._started=!0)},resize:function(){this.inherited(arguments);this._checkButtons()},_checkButtons:function(){var k=this.selectedChildWidget,u=k.isLastChild||this.nextButton.get("disabled");this.nextButton.set("disabled",u);this._setButtonClass(this.nextButton);
k.doneFunction?(this.doneButton.domNode.style.display="",u&&(this.nextButton.domNode.style.display="none")):this.doneButton.domNode.style.display="none";this.previousButton.set("disabled",!this.selectedChildWidget.canGoBack);this._setButtonClass(this.previousButton)},_setButtonClass:function(k){k.domNode.style.display=this.hideDisabled&&k.disabled?"none":""},_forward:function(){this.selectedChildWidget._checkPass()&&this.forward()},done:function(){this.selectedChildWidget.done()},destroy:function(){n.unsubscribe(this._subscription);
this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){h("dijit-legacy-requires")&&k(0,function(){require(["dijit/layout/StackController"])});n=n("dijit.layout.StackContainer",r,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);
q.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",f.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var l=this.getChildren();O.forEach(l,this._setupChild,this);this.persist?this.selectedChildWidget=C.byId(K(this.id+"_selectedChild")):O.some(l,function(e){e.selected&&(this.selectedChildWidget=e);return e.selected},this);var d=this.selectedChildWidget;!d&&l[0]&&(d=this.selectedChildWidget=l[0],d.selected=!0);
u.publish(this.id+"-startup",{children:l,selected:d,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var l=this.selectedChildWidget;l&&this._showChild(l)}this.inherited(arguments)},_setupChild:function(l){var d=l.domNode,e=p.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",l.domNode,"replace"),a=l["aria-label"]||l.title||l.label;a&&e.setAttribute("aria-label",a);p.place(d,e);l._wrapper=e;
this.inherited(arguments);"none"==d.style.display&&(d.style.display="block");l.domNode.removeAttribute("title")},addChild:function(l,d){this.inherited(arguments);this._started&&(u.publish(this.id+"-addChild",l,d),this.layout(),this.selectedChildWidget||this.selectChild(l))},removeChild:function(l){var d=O.indexOf(this.getChildren(),l);this.inherited(arguments);p.destroy(l._wrapper);delete l._wrapper;this._started&&u.publish(this.id+"-removeChild",l);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===
l&&(this.selectedChildWidget=void 0,this._started)){var e=this.getChildren();e.length&&this.selectChild(e[Math.max(d-1,0)])}this._started&&this.layout()}},selectChild:function(l,d){l=C.byId(l);if(this.selectedChildWidget!=l){var e=this._transition(l,this.selectedChildWidget,d);this._set("selectedChildWidget",l);u.publish(this.id+"-selectChild",l,this._focused);this.persist&&K(this.id+"_selectedChild",this.selectedChildWidget.id)}return w(e||!0)},_transition:function(l,d){d&&this._hideChild(d);var e=
this._showChild(l);l.resize&&(this.doLayout?l.resize(this._containerContentBox||this._contentBox):l.resize());return e},_adjacent:function(l){var d=this.getChildren(),e=O.indexOf(d,this.selectedChildWidget);e+=l?1:d.length-1;return d[e%d.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(l){u.publish(this.id+"-containerKeyDown",{e:l,page:this})},layout:function(){var l=this.selectedChildWidget;
l&&l.resize&&(this.doLayout?l.resize(this._containerContentBox||this._contentBox):l.resize())},_showChild:function(l){var d=this.getChildren();l.isFirstChild=l==d[0];l.isLastChild=l==d[d.length-1];l._set("selected",!0);l._wrapper&&q.replace(l._wrapper,"dijitVisible","dijitHidden");return l._onShow&&l._onShow()||!0},_hideChild:function(l){l._set("selected",!1);l._wrapper&&q.replace(l._wrapper,"dijitHidden","dijitVisible");l.onHide&&l.onHide()},closeChild:function(l){if(!l.onClose||l.onClose(this,l))this.removeChild(l),
l.destroyRecursive()},destroyDescendants:function(l){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;O.forEach(this.getChildren(),function(d){l||this.removeChild(d);d.destroyRecursive(l)},this);this._descendantsBeingDestroyed=!1}});n.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};f.extend(z,n.ChildWidgetProperties);return n})},"dojox/widget/WizardPane":function(){define(["dojo/_base/lang","dojo/_base/declare","dijit/layout/ContentPane"],
function(O,K,n){return K("dojox.widget.WizardPane",n,{canGoBack:!0,passFunction:null,doneFunction:null,startup:function(){this.inherited(arguments);this.isFirstChild&&(this.canGoBack=!1);O.isString(this.passFunction)&&(this.passFunction=O.getObject(this.passFunction));O.isString(this.doneFunction)&&this.doneFunction&&(this.doneFunction=O.getObject(this.doneFunction))},_onShow:function(){this.isFirstChild&&(this.canGoBack=!1);this.inherited(arguments)},_checkPass:function(){var q=!0;if(this.passFunction&&
O.isFunction(this.passFunction)){var p=this.passFunction();switch(typeof p){case "boolean":q=p;break;case "string":alert(p),q=!1}}return q},done:function(){this.doneFunction&&O.isFunction(this.doneFunction)&&this.doneFunction()}})})},"arcgisonline/sharing/dijit/dialog/BrowseItemsDlg":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/_base/event dojo/dom-class dojo/dom-style dojo/dom-attr dojo/string dojo/on dojo/aspect dojo/dom dojo/dom-construct dojo/mouse dojo/topic dojo/query dojo/parser dijit/registry dijit/TooltipDialog dijit/popup dojo/promise/all dojo/Deferred dgrid/Grid dgrid/extensions/Pagination dgrid/OnDemandGrid dgrid/Selection dgrid/selector dgrid/Keyboard dgrid/util/mouse dgrid/util/touch put-selector/put dojo/store/Observable dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/arcgis/Portal esri/Evented esri/PluginTarget arcgisonline/sharing/util arcgisonline/sharing/geow/Account arcgisonline/esriGeowConfig ./_AppTemplateFiltersMixin dojo/i18n!arcgisonline/nls/arcgisonline ../_RefreshMixin ../_Empty dojo/NodeList-dom".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X,aa,fa,oa,ua,ha){var U=O(null,{idProperty:"id",constructor:function(ka){O.safeMixin(this,ka)},get:function(ka,W){return J.PortalUtil.request(this.portalUrl+"content/items/"+ka,W).then(function(Q){return new J.PortalItem(K.mixin(Q,{portal:this.portal}))})},getIdentity:function(ka){return ka[this.idProperty]},query:function(ka,W){var Q=K.isObject(ka)?ka:{q:ka};if(W&&(Q=K.mixin(Q,{num:W.count,start:(W.start||0)+1}),
W.sort&&W.sort.length)){var L=W.sort[0];Q=K.mixin(Q,{sortField:encodeURIComponent("created"===L.attribute?"uploaded":L.attribute),sortOrder:L.descending?"desc":"asc"})}Q=this.portal.queryItems(Q,!0).then(function(ca){ca.results.total=ca.total;return ca.results});return J.PortalResult(Q)}});return O("arcgisonline.sharing.dijit.dialog.BrowseItemsDlg",[I,N,M,Z],{templateString:'\x3cdiv\x3e\x3cdiv class\x3d"top-bar clearfix"\x3e\x3cdiv  class\x3d"left instructions"\x3e\x3cspan class\x3d"font-size-0 messageLeft hide" data-dojo-attach-point\x3d"messageNodeLeft"\x3e\x3c/span\x3e\x3ch2 class\x3d"font-size-0 trailer-0 inline-block messageRight"\x3e\x3cspan class\x3d"hide" data-dojo-attach-point\x3d"messageNodeRight"\x3e\x3c/span\x3e\x3ca data-dojo-attach-point\x3d"helpLink" class\x3d"icon-ui-question icon-ui-flush margin-left-half hide" title\x3d"${i18n.common.learnMoreConfigurableApps}" href\x3d"#" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/h2\x3e\x3c/div\x3e\x3cdiv id\x3d"${id}_search"class\x3d"searchBar right"\x3e\x3cinput tabIndex\x3d"0" placeholder\x3d"${i18n.search.searchTitle}" aria-label \x3d"${i18n.search.searchTitle}" class\x3d"esriSearchBox dijitTextBox" type\x3d"search"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"gallery"\x3e\x3cdiv class\x3d"gallery-left  quiet-scroll"\x3e\x3cul class\x3d"filters"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"templates gallery-right"\x3e\x3cp id\x3d"${id}_filterTitle" class\x3d"filter-title hide" data-dojo-attach-point\x3d"filterDescription"\x3e\x3c/p\x3e\x3cdiv id\x3d"${id}_grid"class\x3d"dgrid-autoheight quiet-scroll"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"loader-wrap"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv  data-dojo-attach-point\x3d"infoPanel" id\x3d"template-info-panel"\x3e\x3c/div\x3e\x3c/div\x3e',
galleryTemplate:'\x3cdiv style\x3d\'opacity:1;\' class\x3d\'grid-item gallery-view\' tabIndex\x3d"0" aria-label\x3d"${item.title}"\x3e\x3cdiv class\x3d\'grid-item-thumbnail-wrap\'\x3e${item:_formatThumbnail}\x3cp class\x3d"template-overlay" style\x3d"display:none;"\x3e${i18n.browseItemsDlg.selectDetails}\x3c/p\x3e\x3c/div\x3e${item:_formatItemTitle}\x3c/div\x3e',infoPanelTemplate:'\x3cdiv class\x3d"template-info-wrapper"\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"on-next"\x3e${i18n.browseItemsDlg.configure}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
baseClass:"esriBrowseItems",i18n:oa,postCreate:function(){this.inherited(arguments);this._portalUser=(this._portal=aa.portal)&&(this._portal.user||this._portal.getPortalUser());X.getSelf(K.hitch(this,function(ka){this._canSearchPublic=ka.canSearchPublic;this._currentFilter=K.mixin(this._currentFilter||{},{get:function(W){return K.isArray(this[W])&&1<this[W].length?"("+this[W].join(" OR ")+") ":this[W]?this[W]+" ":""},toString:function(){return{q:this.get("groups")+this.get("tags")+this.get("persistentTypekeywords")+
this.get("typekeywords")+this.get("types")+(this.query||"")+(this.search||"")+' -type:"Attachment"'}}});ka.canSearchPublic=!0;this._portal?this.itemQuery&&this._fetchData():(this._portal=new J.Portal({url:aa.restBaseUrl,self:ka}),this._portal.on("load",K.hitch(this,function(){this.addPlugin(this.plugin).then(K.hitch(this,function(){}))})));d(".templates",this.domNode).addClass("fade");d(".dgrid-footer",this.domNode).addClass("hide")}))},destroy:function(){this.inherited(arguments);this._grid&&this._grid.destroy();
this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove());this._queryTimer&&clearTimeout(this._queryTimer);this._grid=this._portal=null},addPlugin:function(ka){var W=new t;ka?this.inherited(arguments).then(K.hitch(this,function(Q){this.galleryTemplate=this.plugIn&&this.plugIn.galleryTemplate||this.galleryTemplate;(this.helpLinkUrl=this.plugIn&&this.plugIn.helpLinkUrl||"")?(g.set(this.helpLink,"href",this.helpLinkUrl),h.remove(this.helpLink,"hide")):h.add(this.helpLink,"hide");
this._fetchData().then(function(){W.resolve(Q)})})):W.resolve(!0);return W},_setItemQueryAttr:function(ka){this.itemQuery=ka},_setPluginAttr:function(ka){this.plugin=ka},_setMessageAttr:function(ka){this.set("messageRight",ka)},_setMessageRightAttr:function(ka){g.set(this.messageNodeRight,"innerHTML",ka);h.remove(this.messageNodeRight,"hide")},_setMessageLeftAttr:function(ka){g.set(this.messageNodeLeft,"innerHTML",ka);h.remove(this.messageNodeLeft,"hide")},_setDisabledAttr:function(ka){var W=a.findWidgets(this.domNode).concat(a.findWidgets(this._content));
n.forEach(W,function(Q){Q.set("disabled",ka)});h[ka?"add":"remove"](this._interval.domNode,"dijitTextBoxDisabled")},_setSortAttr:function(ka){this.sortAttribute=ka},_setSortDescendingAttr:function(ka){this.sortDescending=ka},_getSelectionAttr:function(){var ka=this._grid.selection,W;for(W in ka)break;return W&&this._grid.row(W).data},_getInfoPanelTemplateAttr:function(){return this.plugIn&&this.plugIn.infoPanelTemplate||this.infoPanelTemplate},_getGalleryTemplateAttr:function(){return this.plugIn&&
this.plugIn.galleryTemplate||this.galleryTemplate},_validate:function(){return!!this.get("selection")},_clearQueryTimeout:function(){clearTimeout(this._queryTimer);this._queryTimer=null},_clearClosePanelTimeout:function(){clearTimeout(this._panelClosing);this._panelClosing=null;n.forEach(this._panelClickHandles,"item.remove();");z.empty("template-info-panel")},_createGrid:function(){var ka=O([v,A,x,E,ua]),W=new H(new U({portal:this._portal})),Q=this._currentFilter,L=K.hitch(this,function(ca){ca.snippet=
ca.snippet||"";ca.title=ca.title||"";var Y=G("div");ca=k.substitute(this.get("galleryTemplate"),{item:ca,i18n:oa},null,this);z.place(ca,Y);return Y});this._grid=new ka({store:W,query:Q.toString(),selectionMode:"single",pagingLinks:2,rowsPerPage:this.plugIn&&this.plugIn.rowsPerPage||8,noDataMessage:k.substitute(ha,{message:oa.emptyStates.noContentAvailable,width:256}),showLoadingMessage:!1,renderRow:L,sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},this.id+"_grid");
this._grid.startup();this.own(u(this.domNode,"click",K.hitch(this,function(ca){C.byId("close-panel")&&C.byId("close-panel").click()})),this._grid.addKeyHandler(13,K.hitch(this,function(ca){ca=ca.target;this._grid.select(ca);ca.click()})),this._grid.addKeyHandler(32,K.hitch(this,function(ca){ca=ca.target;this._grid.select(ca);ca.click()})),this._grid.on(y.enterRow,K.hitch(this,function(ca){!1===h.contains(this.domNode,"showing")&&this._showOverlay(!0,ca)})),this._grid.on(y.leaveRow,K.hitch(this,function(ca){this._showOverlay(!1,
ca)})),this._grid.on(".dgrid-row:click",K.hitch(this,function(ca){if(!1===h.contains(this.domNode,"showing")){ca.preventDefault();p.stop(ca);this._clearClosePanelTimeout();var Y=this.get("selection");this._showOverlay(!1,ca);z.place(k.substitute(this.get("infoPanelTemplate"),{item:Y,i18n:oa,previewButtonWidth:this._previewButtonWidth(Y),hideDownload:this._hideDownload(Y)},function(da){return esri.isDefined(da)?da:""},this),this.infoPanel);h.add(this.domNode,"showing");l.publish("/esri/browseitems/showInfoTemplate",
!0);setTimeout(K.hitch(this,function(){d("#template-info-panel *",this.domNode).forEach(function(S){S.tabIndex=0});var da=this.domNode.querySelector("#create-app");da&&da.focus()}),500);this._panelClickHandles=[d(".template-info-showing .thumbnail img",this.domNode).on("error",K.hitch(this,function(da){g.set(da.target,"src",Y.thumbnailUrl)})),d(".panel-actions .btn").on("click",K.hitch(this,function(da){da.preventDefault();p.stop(da);"close-panel"===da.target.id?(h.remove(this.domNode,"showing"),
d("#template-info-panel *",this.domNode).forEach(function(S){S.tabIndex=-1}),l.publish("/esri/browseitems/showInfoTemplate",!1),this._panelClosing=setTimeout(K.hitch(this,function(){n.forEach(void 0,"item.remove();")},250))):l.publish("/esri/browseitems/close",da.target.id,this.get("selection"))})),d("#template-info-panel").on("click",K.hitch(this,function(da){da.preventDefault();p.stop(da)}))]}})),this._grid.on("dgrid-refresh-complete",K.hitch(this,function(ca){d(".templates",this.domNode).removeClass("fade");
d("#loader-wrap",this.domNode).addClass("hide");d(".dgrid-footer",this.domNode)[this._grid._total<=this._grid.rowsPerPage?"addClass":"removeClass"]("hide")})),this._grid.on("refresh",K.hitch(this,function(){this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove(),this._img_connect_error=this._img_connect=null);this._img_connect=d(".grid-item-thumb",this._grid.domNode).on("load",K.hitch(this,function(ca){(ca=this._grid.row(ca))&&ca.element&&d(".grid-item",ca.element).addClass("fadeIn").style("opacity",
"1")}));this._img_connect_error=d(".grid-item-thumb",this._grid.domNode).on("error",K.hitch(this,function(ca){g.set(ca.target,"src",T.getStaticImagesUrl()+"/desktopapp.png")}))})),u(C.byId(this.id+"_search"),"keyup, input",K.hitch(this,function(ca){ca.preventDefault();this._clearQueryTimeout();this._queryTimer=setTimeout(K.hitch(this,function(){this._currentFilter.search=g.get(ca.target,"value");this._fetchItems(this._currentFilter).then(K.hitch(this,function(){this._clearQueryTimeout()}))}),this.searchKeypressDelay||
450)})),u(C.byId(this.id+"_search"),"search",K.hitch(this,function(ca){this._queryTimer||(ca.preventDefault(),this._currentFilter.search=g.get(ca.target,"value"),this._fetchItems(this._currentFilter))})))},_createFilters:function(){if(this.plugIn&&this.plugIn.filters){var ka=this.plugIn.filters,W=this.plugIn.filterStrings,Q=d(".filters",this.domNode)[0];for(L in ka)z.create("li",{"class":"instant"===L?"active":"",innerHTML:"\x3ca id\x3d'"+L+"'  href\x3d'#'\x3e"+W[L].title+"\x3c/a\x3e"},Q);var L=K.mixin({},
ka.instant||{});this._currentFilter.tags=n.map(L.tags||[],function(ca){return'tags:"'+ca+'"'});this._currentFilter.typekeywords=[].concat(n.map(L.typekeywords||[],function(ca){return'typekeywords:"'+ca+'"'}));this.plugIn.filters.instant&&(g.set(this.filterDescription,"innerHTML",oa.appTemplateFilters.instant.description),this.filterDescription.classList.remove("hide"));this.own(u(Q,"li a:click",K.hitch(this,function(ca){ca.preventDefault();var Y=ca.target;d(".active",Q).removeClass("active");h.add(Y.parentNode,
"active");d(".templates",this.domNode).addClass("fade");setTimeout(K.hitch(this,function(){h["all"===Y.id?"add":"remove"](this.filterDescription,"hide");var da=this._portal.isPortal&&W[Y.id].descriptionPortal||W[Y.id].description||"";"narrate"===Y.id&&this._portal.isPortal&&(da=aa.baseUrl.replace("/home/","/apps/storymaps/"),da=k.substitute(W[Y.id].descriptionPortal,{linkStart:'\x3ca href\x3d"'+da+'" target\x3d"_blank"\x3e',linkEnd:"\x3c/a\x3e"}));g.set(this.filterDescription,"innerHTML",da)}),225);
ca=K.mixin({},ka[Y.id]||{});this._currentFilter.tags=n.map(ca.tags||[],function(da){return'tags:"'+da+'"'});this._currentFilter.typekeywords=[].concat(n.map(ca.typekeywords||[],function(da){return'typekeywords:"'+da+'"'}));this._fetchItems(this._currentFilter)})));h.add(this.domNode,"filters")}else h.add(this.domNode,"nofilters"+(this.plugIn&&this.plugIn.extraClasses?" "+this.plugIn.extraClasses.join(" "):""))},_showOverlay:function(ka,W){var Q=this._grid.row(W);Q&&d(".template-overlay",Q.element).style("display",
ka?"":"none")},_fetchData:function(){if(this._portal)return this._user=this._portalUser||this._portal&&this._portal.getPortalUser(),this.plugIn&&this.plugIn.fetchData?this.plugIn.fetchData():this._fetchItems(this.itemQuery);var ka=new t;ka.resolve(!1);return ka},_fetchItems:function(ka,W){var Q={sort:[{attribute:this.sortAttribute||"title",descending:this.sortDescending||!1}]},L=new t;d(".templates",this.domNode).addClass("fade");d(".dgrid-footer",this.domNode).addClass("hide");d("#loader-wrap",this.domNode).removeClass("hide");
setTimeout(K.hitch(this,function(){this._currentFilter=K.mixin(this._currentFilter,ka);this._grid?this._grid.set("query",this._currentFilter.toString(),Q):(this._createFilters(),this._createGrid());L.resolve(this._grid)}),60);return L},_formatThumbnail:function(ka){var W=ka.thumbnailUrl||T.getStaticImagesUrl()+"/desktopapp.png";ka.thumbnailUrl=W;return"\x3cimg class\x3d'grid-item-thumb' width\x3d'187px' height\x3d'125px' alt\x3d'' src\x3d'"+W+"'\x3e"},_formatInfoPanelImage:function(ka){var W=ka.screenshots&&
ka.screenshots.length?ka.screenshots[0]:null;return W?ka.itemUrl+"/info/"+W:ka.thumbnailUrl},_formatItemTitle:function(ka){return"\x3ch3 class\x3d'font-size-0 trailer-0'\x3e"+(ka.title||ka.name||"\x3cNo Title\x3e")+"\x3c/h3\x3e"},_hideDownload:function(ka){var W=ka.typeKeywords&&-1<ka.typeKeywords.indexOf("indoors"),Q=ka.typeKeywords&&-1<ka.typeKeywords.indexOf("instantApp"),L=ka.typeKeywords&&-1<ka.typeKeywords.indexOf("story"),ca=ka.typeKeywords&&-1<ka.typeKeywords.indexOf("Configurable")&&-1<ka.typeKeywords.indexOf("createAppWithoutMap");
ka="/apps/instant/filtergallery/index.html"===ka.url&&-1<window.location.pathname.indexOf("group.html");var Y=aa.self.isPortal;return W||Q||ka||Y&&ca&&!Q&&!W&&!L?"hide":""},_previewButtonWidth:function(ka){return"hide"===this._hideDownload(ka)?"btn-wide":""}})})},"dgrid/extensions/Pagination":function(){define("../_StoreMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/on dojo/query dojo/string dojo/has put-selector/put ../util/misc dojo/i18n!./nls/pagination dojo/_base/sniff xstyle/css!../css/extensions/Pagination.css".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C){function z(l){l.noDataNode?(u(l.noDataNode,"!"),delete l.noDataNode):l.cleanup();l.contentNode.innerHTML=""}function r(l){if(l.loadingNode)u(l.loadingNode,"!"),delete l.loadingNode;else if(l._oldPageNodes){for(var d in l._oldPageNodes)l.removeRow(l._oldPageNodes[d]);delete l._oldPageNodes;l._oldPageObserver&&(l._oldPageObserver.cancel(),l._numObservers--,delete l._oldPageObserver)}delete l._isLoading}return K("dgrid.extensions.Pagination",O,{rowsPerPage:10,pagingTextBox:!1,
previousNextArrows:!0,firstLastArrows:!1,pagingLinks:2,pageSizeOptions:null,showLoadingMessage:!0,i18nPagination:C,showFooter:!0,_currentPage:1,_total:0,buildRendering:function(){this.inherited(arguments);var l=this,d=this.paginationNode=u(this.footerNode,"div.dgrid-pagination"),e=this.paginationStatusNode=u(d,"div.dgrid-status"),a=this.i18nPagination;e.tabIndex=0;this._updatePaginationSizeSelect();this._updateRowsPerPageOption();e.innerHTML=g.substitute(a.status,{start:1,end:1,total:0});d=this.paginationNavigationNode=
u(d,"div.dgrid-navigation");this.firstLastArrows&&(e=this.paginationFirstNode=u(d,"span.dgrid-first.dgrid-page-link","\u00ab"),e.setAttribute("aria-label",a.gotoFirst),e.tabIndex=0);this.previousNextArrows&&(e=this.paginationPreviousNode=u(d,"span.dgrid-previous.dgrid-page-link","\u2039"),e.setAttribute("aria-label",a.gotoPrev),e.tabIndex=0);this.paginationLinksNode=u(d,"span.dgrid-pagination-links");this.previousNextArrows&&(e=this.paginationNextNode=u(d,"span.dgrid-next.dgrid-page-link","\u203a"),
e.setAttribute("aria-label",a.gotoNext),e.tabIndex=0);this.firstLastArrows&&(e=this.paginationLastNode=u(d,"span.dgrid-last.dgrid-page-link","\u00bb"),e.setAttribute("aria-label",a.gotoLast),e.tabIndex=0);this._listeners.push(h(d,".dgrid-page-link:click,.dgrid-page-link:keydown",function(b){if("keydown"!==b.type||13===b.keyCode)if(b=this.className,!(l._isLoading||-1<b.indexOf("dgrid-page-disabled"))){var c=l._currentPage;var m=Math.ceil(l._total/l.rowsPerPage);this===l.paginationPreviousNode?l.gotoPage(c-
1):this===l.paginationNextNode?l.gotoPage(c+1):this===l.paginationFirstNode?l.gotoPage(1):this===l.paginationLastNode?l.gotoPage(m):"dgrid-page-link"===b&&l.gotoPage(+this.innerHTML)}}))},destroy:function(){this.inherited(arguments);this._pagingTextBoxHandle&&this._pagingTextBoxHandle.remove()},_updatePaginationSizeSelect:function(){var l=this.pageSizeOptions,d=this.paginationSizeSelect;if(l&&l.length){if(!d){d=this.paginationSizeSelect=u(this.paginationNode,"select.dgrid-page-size[aria-label\x3d"+
this.i18nPagination.rowsPerPage+"]");var e=this._paginationSizeChangeHandle=h(d,"change",q.hitch(this,function(){this.set("rowsPerPage",+this.paginationSizeSelect.value)}));this._listeners.push(e)}for(e=d.options.length=0;e<l.length;e++)u(d,"option",l[e],{value:l[e],selected:this.rowsPerPage===l[e]});this._updateRowsPerPageOption()}else l&&l.length||!d||(u(d,"!"),this.paginationSizeSelect=null,this._paginationSizeChangeHandle.remove())},_setPageSizeOptions:function(l){this.pageSizeOptions=l&&l.sort(function(d,
e){return d-e});this._updatePaginationSizeSelect()},_updateRowsPerPageOption:function(){var l=this.rowsPerPage,d=this.pageSizeOptions,e=this.paginationSizeSelect;e&&(0>n.indexOf(d,l)?this._setPageSizeOptions(d.concat([l])):e.value=""+l)},_setRowsPerPage:function(l){this.rowsPerPage=l;this._updateRowsPerPageOption();this.gotoPage(1)},_updateNavigation:function(){function l(E,y){if(e.pagingTextBox&&E==c&&1<v){var F=u(b,"input.dgrid-page-input[type\x3dtext][value\x3d$]",c);F.setAttribute("aria-label",
a.jumpPage);e._pagingTextBoxHandle=h(F,"change",function(){var H=+this.value;!isNaN(H)&&0<H&&H<=v&&e.gotoPage(+this.value)});B&&"INPUT"===B.tagName&&F.focus()}else{var G=E===c;F=u(b,"span"+(G?".dgrid-page-disabled":"")+".dgrid-page-link",E+(y?" ":""));F.setAttribute("aria-label",a.gotoPage);F.tabIndex=G?-1:0;x===E&&(G?E<v?x++:D.focus():F.focus());G||(D=F)}}function d(E,y){u(E,(y?".":"!")+"dgrid-page-disabled");E.tabIndex=y?-1:0}var e=this,a=this.i18nPagination,b=this.paginationLinksNode,c=this._currentPage,
m=this.pagingLinks,t=this.paginationNavigationNode,v=Math.ceil(this._total/this.rowsPerPage),A=this._pagingTextBoxHandle,B=document.activeElement,x,D;B&&w.contains(this.paginationNavigationNode,B)?"dgrid-page-link"===B.className&&(x=+B.innerHTML):B=null;A&&A.remove();b.innerHTML="";f(".dgrid-first, .dgrid-previous",t).forEach(function(E){d(E,1===c)});f(".dgrid-last, .dgrid-next",t).forEach(function(E){d(E,c>=v)});if(m&&0<v){l(1,!0);t=c-m;for(2<t?u(b,"span.dgrid-page-skip","..."):t=2;t<Math.min(c+
m+1,v);t++)l(t,!0);c+m+1<v&&u(b,"span.dgrid-page-skip","...");1<v&&l(v)}else e.pagingTextBox&&l(c);B&&-1===B.tabIndex&&(m=f("[tabindex\x3d'0']",this.paginationNavigationNode),B===this.paginationPreviousNode||B===this.paginationFirstNode?B=m[0]:m.length&&(B=m[m.length-1]),B&&B.focus())},refresh:function(){var l=this;this.inherited(arguments);if(this.store)return this.gotoPage(1).then(function(d){setTimeout(function(){h.emit(l.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:l,results:d})},
0);return d})},_onNotification:function(l){l.length!==this._rowsOnPage&&this.gotoPage(this._currentPage)},renderArray:function(l,d){var e=this,a=this.inherited(arguments);this._lastCollection=null;d||(this._topLevelRequest&&this._topLevelRequest!==l&&(this._topLevelRequest.cancel(),delete this._topLevelRequest),"function"===typeof l.cancel&&(this._topLevelRequest=l),p.when(l,function(){e._topLevelRequest&&delete e._topLevelRequest}));return a},insertRow:function(){var l=this._oldPageNodes,d=this.inherited(arguments);
l&&d===l[d.id]&&delete l[d.id];return d},gotoPage:function(l){var d=this,e=new p;this._trackError(function(){var a=d.rowsPerPage,b=(l-1)*a,c=q.mixin(d.get("queryOptions"),{start:b,count:a}),m=d.contentNode,t;if(d.showLoadingMessage){z(d);var v=d.loadingNode=u(m,"div.dgrid-loading");v.innerHTML=d.loadingMessage}else{d._oldPageNodes=v={};m=m.children;var A=0;for(t=m.length;A<t;A++)v[m[A].id]=m[A];d._oldPageObserver=d.observers.pop()}d._isLoading=!0;var B=d.store.query(d.query,c);p.when(d.renderArray(B,
null,c),function(x){r(d);d.scrollTo({y:0});p.when(B.total,function(D){D||(d.noDataNode&&(u(d.noDataNode,"!"),delete d.noDataNode),d.noDataNode=u(d.contentNode,"div.dgrid-no-data"),d.noDataNode.innerHTML=d.noDataMessage);d.paginationStatusNode.innerHTML=g.substitute(d.i18nPagination.status,{start:Math.min(b+1,D),end:Math.min(D,b+a),total:D});d._total=D;d._currentPage=l;d._rowsOnPage=x.length;d._updateNavigation()});(7>k("ie")||k("ie")&&k("quirks"))&&d.resize();e.resolve(B)},function(x){r(d);e.reject(x)});
return e.promise})||e.reject();return e.promise}})})},"dgrid/selector":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/lang dojo/on dojo/aspect dojo/_base/sniff put-selector/put".split(" "),function(O,K,n,q,p,h,f){n.getObject("dgrid.selector",!0);return dgrid.selector=function(g,k){function u(a){return!l.allowSelect(l.row(a))}function w(a){return function(b){var c=b.rows,m=c.length;b="false";var t;for(t=0;t<m;t++){var v=l.cell(c[t],g.id).element;v&&(v=(v.contents||v).input)&&!v.disabled&&
(v.checked=a,v.setAttribute("aria-checked",a))}if("checkbox"==d.type){c=l.selection;m=!1;for(t in c)if(c[t]!=l.allSelected){m=!0;break}d.indeterminate=m;d.checked=l.allSelected;m?b="mixed":l.allSelected&&(b="true");d.setAttribute("aria-checked",b)}}}function C(a){if("click"==a.type||32==a.keyCode||!h("opera")&&13==a.keyCode||0===a.keyCode){var b=l.row(a);l._selectionTriggerEvent=a;if(b){if(l.allowSelect(b)){var c=l._lastSelected&&l.row(l._lastSelected);"radio"==k?c&&c.id==b.id||(l.clearSelection(),
l.select(b,null,!0),l._lastSelected=b.element):b&&(a.shiftKey?w(!0)({rows:[b]}):c=null,c=a.shiftKey?c:null,l.select(c||b,b,c?void 0:null),l._lastSelected=b.element)}}else f(this,(l.allSelected?"!":".")+"dgrid-select-all"),l[l.allSelected?"clearSelection":"selectAll"]();l._selectionTriggerEvent=null}}function z(){l._hasSelectorInputListener=!0;r.push(l.on(".dgrid-selector:click,.dgrid-selector:keydown",C));var a=l._handleSelect;l._handleSelect=function(m){this.cell(m).column!=g&&a.apply(this,arguments)};
if("function"==typeof g.disabled){var b=l.allowSelect,c=g.disabled;l.allowSelect=function(m){var t=b.call(this,m);return c===u?t:t&&!c.call(g,m.data)}}g.disabled=u;r.push(l.on("dgrid-select",w(!0)));r.push(l.on("dgrid-deselect",w(!1)))}var r=[],l,d;g||(g={});g.type&&(g.selectorType=g.type,O.deprecated("columndef.type","use columndef.selectorType instead","dgrid 0.4"));g.selectorType=k=k||g.selectorType||"checkbox";g.sortable=!1;var e="function"==typeof k?k:function(a,b,c){var m=b.parentNode;l._hasSelectorInputListener||
z();var t=g.disabled;f(m&&m.contents?m:b,".dgrid-selector");b=b.input||(b.input=f(b,"input[type\x3d"+k+"]",{tabIndex:isNaN(g.tabIndex)?-1:g.tabIndex,disabled:t&&("function"==typeof t?t.call(g,c):t),checked:a}));b.setAttribute("aria-checked",!!a);return b};p.after(g,"init",function(){l=g.grid});p.after(g,"destroy",function(){K.forEach(r,function(a){a.remove()});l._hasSelectorInputListener=!1});g.renderCell=function(a,b,c,m,t){b=(b=a&&l.row(a))&&l.selection[b.id];e(b,c,a)};g.renderHeaderCell=function(a){var b=
"label"in g?g.label:g.field||"";"radio"!=k&&l.allowSelectAll?e(!1,a,{}):(a.appendChild(document.createTextNode(b)),l._hasSelectorInputListener||z());d=a.lastChild};return g}})},"dgrid/util/mouse":function(){define(["dojo/_base/lang","dojo/on","dojo/dom","dojo/query"],function(O,K,n){function q(h,f){return function(g,k){return K(g,h+":"+f,function(u){if(!n.isDescendant(u.relatedTarget,this))return k.call(this,u)})}}var p={enterRow:q(".dgrid-content .dgrid-row","mouseover"),enterCell:q(".dgrid-content .dgrid-cell",
"mouseover"),enterHeaderCell:q(".dgrid-header .dgrid-cell","mouseover"),leaveRow:q(".dgrid-content .dgrid-row","mouseout"),leaveCell:q(".dgrid-content .dgrid-cell","mouseout"),leaveHeaderCell:q(".dgrid-header .dgrid-cell","mouseout"),createDelegatingHandler:q};O.getObject("dgrid.util.mouse",!0);O.mixin(dgrid.util.mouse,p);return p})},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(O,K){function n(p,h,f,g){if(!(1<f.targetTouches.length)){var k=f.changedTouches[0],u=k.screenX,
w=k.screenY;g&&f.preventDefault();var C=O(p,"touchend",function(z){var r=z.changedTouches[0];z.targetTouches.length||(Math.abs(r.screenX-u)<q.tapRadius&&Math.abs(r.screenY-w)<q.tapRadius&&(g&&z.preventDefault(),h.call(this,z)),C.remove())})}}var q={tapRadius:10,dbltapTime:250,selector:function(p,h,f){return function(g,k){var u=h.bubble;u?h=u:!1!==f&&(f=!0);return O(g,h,function(w){var C=w.target;3==C.nodeType&&(C=C.parentNode);for(;!K.matches(C,p,g);)if(C==g||!f||!(C=C.parentNode))return;return k.call(C,
w)})}},countCurrentTouches:function(p,h){if(!("touches"in p))return-1;var f,g,k;for(g=f=0;k=p.touches[f];++f)h.contains(k.target)&&++g;return g},tap:function(p,h){return O(p,"touchstart",function(f){n(p,h,f)})},dbltap:function(p,h){var f,g;return O(p,"touchstart",function(k){f?n(p,function(u){if(f){var w=u.changedTouches[0];Math.abs(w.screenX-f.screenX)<q.tapRadius&&Math.abs(w.screenY-f.screenY)<q.tapRadius&&(g&&clearTimeout(g),f=g=null,h.call(this,u))}},k,!0):n(p,function(u){f=u.changedTouches[0];
g=setTimeout(function(){f=g=null},q.dbltapTime)},k)})}};return q})},"arcgisonline/sharing/dijit/dialog/_AppTemplateFiltersMixin":function(){define(["dojo/_base/declare"],function(){return{rootNodes:{app:{instant:{typekeywords:["instantApp"]},all:{},collect:{typekeywords:["collect"]},compare:{typekeywords:["compare"]},"3dscene":{typekeywords:["3Dscene","twoDthreeD"]},analyze:{typekeywords:["summarize"]},imagery:{typekeywords:["interpret"]},present:{typekeywords:["gallery"]},local:{typekeywords:["local"]},
route:{typekeywords:["route"]},showcase:{typekeywords:["showcase"]}}}}})},"arcgisonline/sharing/dijit/_RefreshMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on"],function(O,K,n,q){function p(h){"object"!==typeof h&&(h=Error(h));h.grid=this;q.emit(this.domNode,"dgrid-error",{grid:this,error:h,cancelable:!0,bubbles:!0})}return O(null,{_trackError:function(h){"string"===typeof h&&(h=K.hitch(this,h));try{var f=h()}catch(g){p.call(this,g)}return n.when(f,K.hitch(this,
function(){q.emit(this.domNode,"refresh",{cancelable:!0,bubbles:!0})}),K.hitch(this,p))}})})},"arcgisonline/map/utils/previewInTemplate":function(){define(["dojo/io-query","esri/lang","esri/request","arcgisonline/sharing/util"],function(O,K,n,q){return function(p,h){n({url:p.itemDataUrl,callbackParamName:"callback"}).promise.always(function(){var f=q.isPortal(),g=h.url,k=g.indexOf("?"),u=-1<k?g.substring(0,k):g;g=-1<k?O.queryToObject(g.substring(k+1)):{};k="Web Scene"===p.type?"webscene":"webmap";
if(f){f=h.url;u=q.parseUrl(f);var w="https:"===window.location.protocol;!1===/^(?:[a-z]+:)?\/\//i.test(f)&&(f=window.location.protocol+"//"+window.location.host+q.getHomeAppContext()+u.path);f=w?q.getSecureUrl(f):q.getHttpUrl(f)}else f=u;g[k]=p.id;window.open(f.replace("/hosted/","/apps/")+"?"+O.objectToQuery(g))})}})},"arcgisonline/map/utils/openMap":function(){define(["dojo/Deferred","dojo/io-query","dojo/_base/lang","./getMapCookie","arcgisonline/sharing/dijit/dialog/OpenMapDlg"],function(O,K,
n,q,p){return function(h,f,g){var k="./webmap/viewer.html?webmap\x3d"+h,u="signin.html?returnUrl\x3d"+encodeURIComponent(k);f="boolean"===typeof f?f:!1;q().then(n.hitch(this,function(w){w&&!0===w.c?p.prototype.statics.getInstance().show(f?u:k,w):document.location=f?u:k}))}})},"arcgisonline/sharing/dijit/dialog/OpenMapDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/_Widget,dijit/_Templated"],function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog.OpenMapDlg");
O.require("dijit.Dialog");O.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");O.require("dijit._Widget");O.require("dijit._Templated");O.declare("arcgisonline.sharing.dijit.dialog.OpenMapDlg",[K._Widget,K._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"_dialog" id\x3d"open-map-dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv id\x3d"open-map-dialog-content"\x3e\r\n    \x3cdiv style\x3d"margin-bottom: 10px;"\x3e${i18n.unsavedChangesMsg}\x3c/div\x3e\r\n      \x3ctable class\x3d"table-layout" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv\x3e${i18n.titleLabel}\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-title"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-layersRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-layersLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-layers"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr id\x3d"open-map-dialog-tablesRow"\x3e\r\n            \x3ctd valign\x3d"top"\x3e\x3cdiv id\x3d"open-map-dialog-tablesLabel"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3ctd width\x3d"5"\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\x3cdiv id\x3d"open-map-dialog-tables"\x3e\x3c/div\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n      \x3cdiv style\x3d"margin-top: 10px;"\x3e${i18n.openAnotherMapQtn}\x3c/div\x3e\r\n      \x3cbr /\x3e\r\n      \x3cdiv style\x3d"float: right;" class\x3d"clearfix"\x3e\r\n         \x3cbutton id\x3d"button_open-map-no" class\x3d"action-bar-btn jevent cancel right btn-two" dojoType\x3d"dijit.form.Button"\x3e${i18n.notOpen}\x3c/button\x3e\r\n         \x3cbutton id\x3d"button_open-map-yes" class\x3d"padding-right-half jevent primary right" dojoType\x3d"dijit.form.Button"\x3e${i18n.yesOpen}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
handler:null,newMapUrl:"",i18n:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.OpenMapDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common;O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline","arcgisonline").openMapDlg)},postCreate:function(){this.loadConnections()},show:function(q,p,h,f,g){this.newMapUrl=q;q=document.getElementById("webmap-title-text")&&
document.getElementById("webmap-title-text").innerHTML;O.byId("open-map-dialog-title").innerHTML=q||g||p&&p.t||this.i18n.untitled;var k=[];p?O.forEach(p.operationalLayers,function(z){k.push(z.title)}):h&&O.forEach(h,function(z){"user"!==z.type&&"mapNotes"!==z.type||k.push(z.title)});if(0===k.length)O.style(O.byId("open-map-dialog-layersRow"),"display","none");else{if(1===k.length)O.byId("open-map-dialog-layersLabel").innerHTML=this.i18n.layerLabel,O.byId("open-map-dialog-layers").innerHTML=k[0];else{O.byId("open-map-dialog-layersLabel").innerHTML=
this.i18n.layersLabel;var u="",w="";O.forEach(k,function(z){u+=w+z;w=", "});O.byId("open-map-dialog-layers").innerHTML=u}O.style(O.byId("open-map-dialog-layersRow"),"display","")}var C=[];p?O.forEach(p.tables,function(z){C.push(z.title)}):f&&O.forEach(f,function(z){C.push(z.title)});0===C.length?O.style(O.byId("open-map-dialog-tablesRow"),"display","none"):(1===C.length?(O.byId("open-map-dialog-tablesLabel").innerHTML=this.i18n.tableLabel,O.byId("open-map-dialog-tables").innerHTML=C[0]):(O.byId("open-map-dialog-tablesLabel").innerHTML=
this.i18n.tablesLabel,w=u="",O.forEach(C,function(z){u+=w+z;w=", "}),O.byId("open-map-dialog-tables").innerHTML=u),O.style(O.byId("open-map-dialog-tablesRow"),"display",""));K.byId("open-map-dialog").show()},loadConnections:function(){O.query(".jevent").connect("onclick",function(q){q.preventDefault()});O.query("#button_open-map-no").connect("onclick",function(){K.byId("open-map-dialog").hide()});O.query("#button_open-map-yes").connect("onclick",O.hitch(this,"submitRequest"))},submitRequest:function(q){document.location=
this.newMapUrl},hide:function(){K.byId("open-map-dialog").hide()}})})},"arcgisonline/sharing/dijit/dialog/PluginConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query dojo/Deferred ./_AppTemplateFiltersMixin arcgisonline/sharing/util dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),function(O,K,n,q,p,h,f,g,k,u){var w=O("arcgisonline.sharing.dijit.dialog.PluginConfigurableAppsViewer",null,{infoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${previewButtonWidth}" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${hideDownload}" id\x3d"download-app"\x3e${i18n.templatesGridWidget.download}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
customGroupInfoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary btn-wide" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
filters:K.mixin({},g.rootNodes.app),filterStrings:u.appTemplateFilters,rowsPerPage:100,constructor:function(C){K.mixin(this,C);this.helpLinkUrl=esriGeowConfig.self&&esriGeowConfig.self.isPortal?esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001018"]:"":esriGeowConfig.self?esriGeowConfig.self.helpBase+esriGeowConfig.self.helpMap.m["120001055"]:"";delete this.filters.present;delete this.filters["3dscene"]},fetchData:function(){var C=[];this.parent._currentFilter.types=
['type:"Web Mapping Application"'];this._portal=this.parent._portal;this._user=this._portal.getPortalUser();return this.checkIndoorsCapabilities(this._portal).then(function(z){this.capabilities=z;return this._fetchGroups().then(function(r){n.forEach(r||[],function(l){l&&l.id&&C.push('group:"'+l.id+'"')});return this._fetchGroupItems(C)}.bind(this))}.bind(this))},_fetchGroups:function(){var C=this._portal.templatesGroupQuery||null;return C&&C.split("id:")[1]?this._fetchOrgConfigurableApps():this._fetchEsriConfigurableApps()},
_fetchGroup:function(C,z){this._groups=this._groups||[];return this._groups[C]||this._portal.queryGroups(z,!0).then(K.hitch(this,function(r){r=r.total&&r.results&&r.results[0]||null;return(this._groups[C]=r)||{}}))},_fetchGroupItems:function(C){return this.parent._fetchItems({groups:C})},_updateIndoorsFilters:function(){var C=this.capabilities.indoors,z=this.capabilities.indoorsmaps,r=this.capabilities.indoorsspaces,l=C||r||z;!k.isArcGISEnterpriseOnKubernetes()&&l||this.parent._currentFilter.persistentTypekeywords.push('-typekeywords:"indoors"');
z||C||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Viewer"');r||C||this.parent._currentFilter.persistentTypekeywords.push('-title:"Indoor Space Planner"')},_fetchEsriConfigurableApps:function(){var C=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),z={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[C]||C)+'"'};this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"3Dscene"'];
this._updateIndoorsFilters();return q([this._fetchGroup("esriGallery_"+C,z)]).then(K.hitch(this,function(r){return r||[]}))},_fetchOrgConfigurableApps:function(){var C={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['-typekeywords:"Web AppBuilder"'];this._updateIndoorsFilters();return q([this._fetchGroup("customGallery",C)]).then(K.hitch(this,
function(z){this.parent.sortDescending=z[0].sortOrder&&"desc"===z[0].sortOrder||!1;this.parent.sortAttribute=z[0].sortField||"asc";return z&&z.length?[z[0]]:[]}))},hasIndoors:function(C){return this.fetchCapabilities(C).then(function(z){return z.some(function(r){return"indoors"===r.id})})},checkIndoorsCapabilities:function(C){return this.fetchCapabilities(C).then(function(z){return z.reduce(function(r,l){r[l.id]=!0;return r},{})})},fetchCapabilities:function(C){var z=new f;k.request({url:esriGeowConfig.restBaseUrl+
"portals/self/subscriptionInfo"}).then(function(r){z.resolve(r&&r.orgCapabilities||[])});return z}});K.mixin(w,{add:function(C,z){if(!C.plugIn){var r=z||{};r.parent=C;C.plugIn=new w(r)}},remove:function(C){C.plugIn&&(C.plugIn.destroy(),delete C.plugIn)}});return w})},"arcgisonline/sharing/dijit/dialog/Plugin3DConfigurableAppsViewer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/dom-class dojo/query ./_AppTemplateFiltersMixin ./PluginConfigurableAppsViewer dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k){var u=O("arcgisonline.sharing.dijit.dialog.Plugin3DConfigurableAppsViewer",[g],{constructor:function(w){this.inherited(arguments);this.filters=null},_fetchEsriConfigurableApps:function(){var w=(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase(),C={q:'title:"Web Application Templates" AND owner:"esri_'+({id:"ind",uk:"ukr"}[w]||w)+'"'};this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"',
'typekeywords: "twoDthreeD"'];return q([this._fetchGroup("esriGallery_"+w,C)]).then(K.hitch(this,function(z){return z||[]}))},_fetchOrgConfigurableApps:function(){var w={q:this._portal.templatesGroupQuery||null};this.filters=null;this.rowsPerPage=8;this.extraClasses=["wide"];this.infoPanelTemplate=this.customGroupInfoPanelTemplate;this.parent._currentFilter.persistentTypekeywords=['typekeywords:"3Dscene"','-typekeywords:"Web AppBuilder"','typekeywords:"WAB3D"','typekeywords: "twoDthreeD"'];return q([this._fetchGroup("customGallery",
w)]).then(K.hitch(this,function(C){this.parent.sortDescending=C[0].sortOrder&&"desc"===C[0].sortOrder||!1;this.parent.sortAttribute=C[0].sortField||"asc";return C&&C.length?[C[0]]:[]}))}});K.mixin(u,{add:function(w,C){if(!w.plugIn){var z=C||{};z.parent=w;w.plugIn=new u(z)}},remove:function(w){w.plugIn&&(w.plugIn.destroy(),delete w.plugIn)}});return u})},"arcgisonline/pages/item/widgets/AdvancedOfflineOptions/AdvancedOfflineOptions":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/_base/lang dojo/string dojo/text!./templates/AdvancedOfflineOptions.html dojo/text!./templates/AdvancedOfflineOptionSearchItem.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../../../sharing/util ../../../../esriGeowConfig ../../../utils/dom ../../../dijit/Overlay ../../../dijit/InfoTooltip ../../../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.title=u["default"].itemProperties.advancedOptions.overlayTitle;this.i18n=
u["default"];this.overlayContents=f["default"].substitute(g["default"],{i18n:this.i18n});this._fileNameEdited=!1}b.prototype.open=function(){this.inherited(arguments);this.domNode.classList.add("overlay--top");this._editableFeaturesAndAttachmentsOption=this.domNode.querySelector(".js-edit-features-and-attachments");this._editableFeaturesOnlyOption=this.domNode.querySelector(".js-edit-features-only");this._editableFeaturesNoneOption=this.domNode.querySelector(".js-edit-none");this._readonlyFeaturesAndAttachmentsOption=
this.domNode.querySelector(".js-readonly-features-and-attachments");this._readonlyFeaturesOnlyOption=this.domNode.querySelector(".js-readonly-features-only");this._tileWebmapOption=this.domNode.querySelector(".js-tile-webmap");this._tileMobileOption=this.domNode.querySelector(".js-tile-mobile");this._tileMobileFileNameContainer=this.domNode.querySelector(".js-file-name-container");this._tileMobileFilename=this.domNode.querySelector(".js-tile-mobile-file-name");this._fileNameError=this.domNode.querySelector(".js-tile-mobile-file-name-error");
this._tileOrgOption=this.domNode.querySelector(".js-tile-org");this._tileOrgSearchContainer=this.domNode.querySelector(".js-tile-search-container");this._tileOrgSearch=this.domNode.querySelector(".js-tile-search");this._searchResults=this.domNode.querySelector(".js-search-results");this._updateLoader=this.domNode.querySelector(".js-update-loader");this._learnMoreLink=this.domNode.querySelector(".js-learn-more");this._overlay.insertBefore(this.domNode.querySelector(".js-update-loader-container"),this.domNode.querySelector(".overlay-title-bar"));
var c=this.page.portal.helpMap.m["120000899"];this._learnMoreLink.href=this.page.portal.helpBase+(c?c:"");this._overlayActionBar.insertBefore(this._learnMoreLink,this._overlayActionBar.querySelector("nav"));this._attachmentsInfo=new e["default"]({content:this.i18n.itemProperties.advancedOptions.attachmentTooltip},this.domNode.querySelector(".js-attachments-info"));this._packageInfo=new e["default"]({content:this.i18n.itemProperties.advancedOptions.tilePackageTooltip},this.domNode.querySelector(".js-package-info"));
c=(this._itemData=h["default"].clone(this.item.itemData))&&this._itemData.applicationProperties&&this._itemData.applicationProperties.offline||{};this._editableLayers=c.editableLayers;this._readonlyLayers=c.readonlyLayers;this._offlineBasemap=c.offlinebasemap;q["default"].accordion();this._selectOptions();this._addListeners()};b.prototype.close=function(){this.inherited(arguments)};b.prototype._addListeners=function(){var c=this;[].slice.call(this.domNode.querySelectorAll(".js-tile-option")).forEach(function(m){m.addEventListener("change",
function(){l["default"].showHide(c._tileMobileFileNameContainer,c._tileMobileOption.checked);l["default"].showHide(c._tileOrgSearchContainer,c._tileOrgOption.checked)})});this._tileMobileFilename.addEventListener("change",function(){c._fileNameEdited=!0;c._onFilenameKeyup()});this._tileMobileFilename.addEventListener("keyup",this._onFilenameKeyup.bind(this));this._tileOrgSearch.addEventListener("keyup",this._onSearchKeyup.bind(this));this._tileOrgSearch.addEventListener("search",this._onSearchKeyup.bind(this))};
b.prototype._onFilenameKeyup=function(){if(this._fileNameEdited){var c=this._tileMobileFilename.value;this._fileNameError.textContent="";0===c.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(c)?(this._fileNameError.classList.remove("is-active"),this._tileMobileFilename.classList.remove("input-error")):this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension;0<this._fileNameError.textContent.length&&
(this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"))}};b.prototype._onSearchKeyup=function(){var c=this;z["default"].request({url:r["default"].restBaseUrl+"search",content:{num:16,start:1,sortField:"title",sortOrder:"asc",q:'title:"'+this._tileOrgSearch.value+'" orgid:'+this.page.portal.id+' (type:"Vector Tile Package" OR type:"Raster Tile Package")'}}).then(function(m){c._searchResults.innerHTML="";0<c._tileOrgSearch.value.length&&m.results.forEach(function(t){c._searchResults.insertAdjacentHTML("beforeend",
f["default"].substitute(k["default"],{title:t.title}))})})};b.prototype.handlePrimary=function(){var c=this;if(this._isValid()){var m=this.domNode.querySelector(".js-editable-features:checked");m={applicationProperties:{offline:{editableLayers:{download:m.value,sync:m.dataset.sync},readonlyLayers:{downloadAttachments:this._readonlyFeaturesAndAttachmentsOption.checked}}}};this._tileMobileOption.checked&&(m.applicationProperties.offline.offlinebasemap={referenceBasemapName:this._tileMobileFilename.value});
this._itemData=n.__assign(n.__assign({},this._itemData),m);m={text:JSON.stringify(this._itemData)};this._updateLoader.classList.add("is-active");this._primaryBtn.disabled=!0;this._cancelBtn.disabled=!0;this.closeBtn.disabled=!0;this.page.updateItem(m).then(function(t){c.close();t&&t.code&&t.message?p["default"].publish("settings/error",t):p["default"].publish("settings/update")},function(t){c.close();p["default"].publish("settings/error",t)})}};b.prototype._isValidFileExtension=function(c){return/\.(vtpk|tpk|tpkx)$/i.test(c)};
b.prototype._isValid=function(){var c=this._tileMobileFilename.value;this._fileNameEdited=!0;if(this._tileMobileOption.checked&&(this._fileNameError.textContent="",0===c.length?this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.emptyFileNameError:this._isValidFileExtension(c)||(this._fileNameError.textContent=this.i18n.itemProperties.advancedOptions.invalidFileExtension),0<this._fileNameError.textContent.length))return this._fileNameError.classList.add("is-active"),this._tileMobileFilename.classList.add("input-error"),
!1;this._fileNameError.classList.remove("is-active");this._tileMobileFilename.classList.remove("input-error");return!0};b.prototype._selectOptions=function(){this._editableLayers&&"featuresAndAttachments"!==this._editableLayers.download?"features"===this._editableLayers.download?this._editableFeaturesOnlyOption.checked=!0:this._editableFeaturesNoneOption.checked=!0:this._editableFeaturesAndAttachmentsOption.checked=!0;!this._readonlyLayers||this._readonlyLayers.downloadAttachments?this._readonlyFeaturesAndAttachmentsOption.checked=
!0:this._readonlyFeaturesOnlyOption.checked=!0;this._offlineBasemap&&0!==this._offlineBasemap.referenceBasemapName.length?0<this._offlineBasemap.referenceBasemapName.length?(this._tileMobileOption.checked=!0,this._tileMobileFilename.value=this._offlineBasemap.referenceBasemapName,l["default"].showNode(this._tileMobileFileNameContainer)):this._tileOrgOption.checked=!0:this._tileWebmapOption.checked=!0};return b=n.__decorate([a["default"](C["default"],w["default"],d["default"])],b)}()})},"arcgisonline/pages/dijit/InfoTooltip":function(){define("require exports tslib dojo/text!./InfoTooltip/templates/InfoTooltip.html dojo/i18n!../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/a11yclick ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=q["default"];this.i18n=p["default"];this.buttonClasses=this.content=this.title="";this.dialogClasses=[];this.orient=["above-centered","below-centered"];this.tooltipId=
"";this.icons=z["default"];this.preventInfoButtonEventDefault=!1;this.popoverClass=this.calciteIcon=this.icon=this.infoText="";this.isBlue=this.hideIcon=this.disabled=this.hideCloseBtn=!1}l.prototype.postMixInProperties=function(){this.inherited(arguments);this.buttonAriaLabel||(this.buttonAriaLabel=this.title)};l.prototype.postCreate=function(){this.inherited(arguments);this.disabled&&this._infoButton.classList.add("no-pointer");this.title||this._popoverContent.classList.remove("leader-half");this._popoverContent.innerHTML=
this.content;this.hideCloseBtn&&C["default"].hideNode(this._closeIcon);this._dialog=new k["default"]({id:this.tooltipId,"class":"popover "+this.popoverClass,title:this.title,content:this._popover});0<this.dialogClasses.length&&C["default"].addClasses(this._dialog.domNode,this.dialogClasses);void 0!==this.infoText&&(this._infoButton.className+=" flex flex-align-center",C["default"].showNode(this.infoTextEl));this.icon?this.iconWrapper.innerHTML=this.icon:this.calciteIcon&&(this.iconWrapper.innerHTML=
'\x3ccalcite-icon icon\x3d"'+this.calciteIcon+'" scale\x3d"s"\x3e\x3c/calcite-icon\x3e');this.hideIcon&&C["default"].hideNode(this.iconWrapper);this.isBlue&&this._infoButton.classList.remove("btn-link-darker-gray");this._addEventListeners()};l.prototype.closePopup=function(){u["default"].close(this._dialog)};l.prototype.destroy=function(){this.inherited(arguments);this._dialog&&this._dialog.destroy()};l.prototype.addContentClass=function(d){this._popoverContent.classList.add(d)};l.prototype.show=
function(){C["default"].showNode(this.domNode)};l.prototype.hide=function(){C["default"].hideNode(this.domNode)};l.prototype.getPopover=function(){return this._popover};l.prototype.update=function(d,e){this.infoTextEl.innerHTML=d;this._popoverContent.innerHTML=e};l.prototype._addEventListeners=function(){var d=this;this.own(w["default"](this._closeIcon,function(){u["default"].close(d._dialog);d._infoButton.focus()}),w["default"](this._infoButton,function(e){e.stopPropagation();d.preventInfoButtonEventDefault&&
e.preventDefault();d.disabled||(u["default"].open({popup:d._dialog,orient:d.orient,around:d._infoButton}),C["default"].showNode(d._popover),d._closeIcon.focus())}),h["default"](this._popover,"click",function(e){e.stopPropagation()}),h["default"](document.body,"click",function(e){u["default"].close(d._dialog)}))};return l=n.__decorate([r["default"](g["default"],f["default"])],l)}()})},"arcgisonline/sharing/dijit/dialog/AttachCodeDlg":function(){define(["dojo","dijit","dojox","dojo/require!arcgisonline/sharing/util,arcgisonline/sharing/dijit/dialog/GeneralDlg,dijit/form/Button,dijit/_Widget,dijit/_Templated"],
function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog.AttachCodeDlg");O.require("arcgisonline.sharing.util");O.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");O.require("dijit.form.Button");O.require("dijit._Widget");O.require("dijit._Templated");O.declare("arcgisonline.sharing.dijit.dialog.AttachCodeDlg",[K._Widget,K._Templated],{util:arcgisonline.sharing.util,community:arcgisonline.sharing.geow.Community,content:arcgisonline.sharing.geow.Content,widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContainer"  dojoAttachPoint\x3d"containerNode"\x3e\r\n  \x3cdiv dojotype\x3d"dijit.Dialog" dojoAttachPoint\x3d"dialog" title\x3d"${titleLabel}" execute\x3d""\x3e\r\n    \x3ctable class\x3d"table-layout"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cdiv id\x3d"code_upload_message" style\x3d"margin-bottom:10px;"\x3e\r\n\t\t\t        ${messageLabel}\r\n\t\t\t      \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n\t\t\t      \x3cform dojoAttachPoint\x3d"form" action\x3d"" enctype\x3d"multipart/form-data" method\x3d"post" onSubmit\x3d"return false;"\x3e\r\n\t\t\t        \x3cinput type\x3d"file" name\x3d"file" dojoAttachPoint\x3d"fileInput" size\x3d"50" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"title" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"type" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"typekeywords" value\x3d"" /\x3e\r\n\t\t\t        \x3cinput type\x3d"hidden" name\x3d"overwrite" value\x3d"false" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"relationshipType" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"originItemId" value\x3d"" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"async" value\x3d"true" /\x3e\r\n\r\n\t\t\t        \x3c!-- this is complicated... need some way of automating this --\x3e\r\n\t\t\t        \x3c!--\x3cdiv id\x3d"add-item-callback" name\x3d"callback.html" dojotype\x3d"dijit.form.TextBox" type\x3d"hidden" value\x3d"textarea"\x3e\x3c/div\x3e --\x3e\r\n\t\t\t      \x3c/form\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd style\x3d"padding-top:2em;"\x3e\r\n  \t\t      \x3cbutton dojoAttachPoint\x3d"cancelButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing cancel right" type\x3d"button" dojoAttachEvent\x3d"onClick:_cancelButtonClick"\x3e\r\n  \t\t        ${i18n.cancel}\r\n  \t        \x3c/button\x3e\r\n    \t\t    \x3cbutton dojoAttachPoint\x3d"uploadButton" dojoType\x3d"dijit.form.Button" class\x3d"esriFloatTrailing primary right"  type\x3d"button" dojoAttachEvent\x3d"onClick:_uploadButtonClick"\x3e\r\n    \t\t      ${i18n.uploadLabel}\r\n    \t\t    \x3c/button\x3e\r\n            \x3cspan id\x3d"code_upload-waiting" class\x3d"esriFloatTrailing" style\x3d"display:none;padding-top:8px;"\x3e\x3c/span\x3e\r\n\t\t        \x3cspan class\x3d"esriFloatLeading error" dojoAttachPoint\x3d"errorLabelNode" style\x3d"padding-top:8px;"\x3e\x3c/span\x3e\r\n\t        \x3c/td\x3e\r\n\t      \x3c/tr\x3e\r\n\t    \x3c/tbody\x3e\r\n\t  \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
dialog:null,fileInput:null,cancelButton:null,uploadButton:null,cancelButton:null,clearFormOnHide:!0,codeAttachment:null,titleLabel:"",messageLabelUpdate:"",messageLabel:"",messageErrorUpdate:"",errorLabelNode:null,type:"Code Attachment",typeKeywords:"Code",item:null,sharing:null,fileName:null,_lastUploaded:null,i18n:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common;O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline",
"arcgisonline").attachCodeDlg);this.titleLabel=this.i18n.attachCode;this.messageLabelUpdate=this.i18n.messageLabelUpdateString;this.messageLabel=this.i18n.messageLabelString;this.messageErrorUpdate=this.i18n.messageErrorUpdateString},postCreate:function(){this.fileInput&&O.connect(this.fileInput,"onchange",this,function(){this.errorLabelNode.innerHTML=""})},statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.AttachCodeDlg);return this._instance}},
clear:function(){this.fileInput&&(this.fileInput.value="")},hide:function(){this.dialog&&(this.dialog.hide(),this.clearFormOnHide&&this.clear())},show:function(q){(this.codeAttachment=q)&&this.codeAttachment.name?(this.messageLabelUpdate=O.string.substitute(this.messageLabelUpdate,{fileName:this.codeAttachment.name}),O.byId("code_upload_message").innerHTML=this.messageLabelUpdate,this.dialog.set("title",this.i18n.updateCode)):(O.byId("code_upload_message").innerHTML=this.messageLabel,this.dialog.set("title",
this.i18n.attachCode));this.dialog&&this.dialog.show()},_cancelButtonClick:function(q){this.hide()},_uploadButtonClick:function(q){(q=this.fileInput.value)&&0<q.length&&this.util.endsWith(q,".zip")?(this.uploadButton.set("disabled",!0),this.cancelButton.set("disabled",!0),O.style(O.byId("code_upload-waiting"),"display","inline-block"),this.doUpload()):this.errorLabelNode.innerHTML=this.i18n.fileZipFormat},doUpload:function(){if(null==this.item||null===this.item.id)this.uploadButton.set("disabled",
!1),this.cancelButton.set("disabled",!1),O.style(O.byId("code_upload-waiting"),"display","none");else{var q=this.fileInput.value,p=q.lastIndexOf("\\");-1<p&&(q=q.substring(p+1,q.length));if(this.codeAttachment){var h=this.codeAttachment.name.lastIndexOf(".");p=q.lastIndexOf(".");h=[this.codeAttachment.name.substring(0,h),this.codeAttachment.name.substring(h).toLowerCase()];q=[q.substring(0,p),q.substring(p).toLowerCase()];h[0]!==q[0]||h[1]!==q[1]?(arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.updateCodeError,
message:O.string.substitute(this.messageErrorUpdate,{fileName:this.codeAttachment.name})}),this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),O.style(O.byId("code_upload-waiting"),"display","none")):this._updateCodeItem()}else this._createCodeItem()}},_createCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.relationshipType.value="WMA2Code";"Mobile Application"===this.item.type&&(this.form.relationshipType.value=
"MobileApp2Code");this.form.originItemId.value=this.item.id;var q=this.fileInput.value,p=q.lastIndexOf("\\");-1<p&&(q=q.substring(p+1,q.length));this.fileName=q;this.form.title.value=q;q=this.form.title.value.lastIndexOf("\\");-1<q&&(this.form.title.value=this.form.title.value.substring(q+1,this.form.title.value.length));q=this.form.title.value.lastIndexOf("/");-1<q&&(this.form.title.value=this.form.title.value.substring(q+1,this.form.title.value.length));this.content.addItem(null,this.form,O.hitch(this,
this._handle_addItem),O.hitch(this,this._handle_addItem))}},_updateCodeItem:function(){if(this.form){this.form.type.value=this.type;this.form.typekeywords.value=this.typeKeywords;this.form.overwrite.value="true";var q=this.fileInput.value,p=q.lastIndexOf("\\");-1<p&&(q=q.substring(p+1,q.length));this.fileName=q;this.form.title.value=q;this.content.updateItem(this.codeAttachment,this.form,O.hitch(this,this._handle_addItem),O.hitch(this,this._handle_addItem))}},_handle_addItem:function(q,p){var h=!1;
-1<p.url.indexOf("/status")&&(h=!0);if(!h&&q.success||h&&"completed"===q.status)this._lastUploaded=O.clone(q),this._lastUploaded.title=this._lastUploaded.name=this.form.title.value,this.onUpload(this._lastUploaded);else{h=this.i18n.attachementFailedUpload;q&&q.error&&q.error.message?h=q.error.message:q&&q.statusMessage&&(h=q.statusMessage);var f=this.i18n.cannotAddAttachment;-1<h.indexOf("already exists")?(h=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<h.indexOf("The request size is greater than the max allowed of 1024MB")&&
(h=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:h})}this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);O.style(O.byId("code_upload-waiting"),"display","none")},_handle_updateItem:function(q,p){if(q.success)this.uploadButton.set("disabled",!1),this.cancelButton.set("disabled",!1),O.style(O.byId("code_upload-waiting"),"display","none"),this.hide();else{var h=this.i18n.attachementFailedUpload;
q&&q.error&&q.error.message&&(h=q.error.message);var f=this.i18n.cannotAddAttachment;-1<h.indexOf("already exists")?(h=this.i18n.sameZipFileName,f=this.i18n.duplicateFileName):-1<h.indexOf("The request size is greater than the max allowed of 1024MB")&&(h=this.i18n.fileSizeExceeds);this.hide();arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:f,message:h});this.uploadButton.set("disabled",!1);this.cancelButton.set("disabled",!1);O.style(O.byId("code_upload-waiting"),
"display","none")}},onUpload:function(q){}})})},"arcgisonline/sharing/dijit/dialog/ManageSceneCache":function(){define("require esri/declare esri/Evented esri/lang esri/request dojo/_base/lang dojo/on dojo/query dojo/topic dijit/a11yclick dojo/string dojo/promise/all dojo/json dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/Dialog ../../../sharing/dijit/dialog/ConfirmDialog ../../../sharing/dijit/dialog/GeneralDlg ../../../pages/pageUtil ../../../pages/utils/dom ../../../pages/utils/number ../../../pages/serviceUtil ../../../pages/statusUtil ../../../sharing/util ../../../esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ManageSceneCache.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E){return K([l,d],{declaredClass:"arcgisonline.sharing.dijit.dialog.ManageSceneCache",basePath:O.toUrl("arcgisonline/sharing/dijit/dialog"),baseClass:"esriManageSceneCache",templateString:E,widgetsInTemplate:!0,_serviceStartWait:5E3,postMixInProperties:function(){this.inherited(arguments);this.i18n=h.mixin({},D.common);h.mixin(this.i18n,D.manageSceneCache);h.mixin(this.i18n,{webScene:D.items.webScene,buildingCache:D.itemProperties.buildingCache})},
postCreate:function(){this.inherited(arguments);this._initHandlers()},startup:function(){this.inherited(arguments);var y=B.isPortal();y&&m.hideNode(this._sceneLayerSelectContainer);!y&&this._hasSource()?this._isBuildingSceneLayer()?this._rebuildLayersRadioClick():this._rebuildFullRadioClick():(y&&(m.hideNode(this._optionsContainer),m.showNode(this._portalOptionsContainer),m.checkNode(this._rebuildPortalFullRadio,!0),this._rebuildLayersRadioClick()),m.disableNode(this._rebuildFullRadio),this._rebuildLayersRadioClick())},
_initHandlers:function(){this.own(u(this._rebuildFullRadio,this._rebuildFullRadioClick.bind(this)),u(this._rebuildLayersRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildPartialRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildPortalFullRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildPortalPartialRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildPortalAttributesRadio,this._rebuildLayersRadioClick.bind(this)),u(this._rebuildAttributesRadio,this._rebuildLayersRadioClick.bind(this)),
u(this._rebuildBtn,this._rebuildClick.bind(this)),u(this._cancelBtn,this._cancelClick.bind(this)))},_hasSource:function(){return q.isDefined(this._item.sourceData)},_dialogHidden:function(){this._dialog&&this._dialog.destroyRecursive();this.destroyRecursive()},_fetchSourceItemAdminServiceInfo:function(){return B.request({url:this._featureServiceAdminUrl})},_rebuildFullRadioClick:function(){m.hideNode(this._sceneLayerSelectContainer);m.disableNode(this._rebuildBtn,!1)},_rebuildLayersRadioClick:function(){if(!B.isPortal()&&
this._canShowPartialRebuild){var y=m.isChecked(this._rebuildLayersRadio),F=m.isChecked(this._rebuildPartialRadio);if(y||F)g(".layer-checkbox",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");m.checkNode(G,y&&H);m.disableNode(G,H)}),g(".layer-label",this.domNode).map(function(G){var H="true"===G.getAttribute("data-rebuild-required");G.classList[F&&H?"add":"remove"]("label-disabled")})}B.isPortal()||m.showNode(this._sceneLayerSelectContainer);this._checkBoxClick()},
_displayCreditCost:function(y,F,G){var H=B.isPortal(),I=x.self&&x.self.subscriptionInfo||{},N=(x.self&&x.self.user||{}).availableCredits||I.availableCredits||0;C({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(M){H?F():(this._sourceItem.set("adminServiceInfo",M.adminServiceInfo),v.fetchScenePublishingCredits(this._sourceItem,y).then(function(J){var R=this._fullRebuildInProgress?this.i18n.confirmFullProceed:this.i18n.confirmProceed;confirmMsg="\x3cp\x3e"+[this._fullRebuildInProgress?
this.i18n.confirmFullDesc:this.i18n.confirmDesc,w.substitute(this._fullRebuildInProgress?this.i18n.confirmFullCredits:this.i18n.confirmCredits,{credits:t.format(J),availableCredits:t.format(N)}),R].join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";confirmDlg=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});N<J&&confirmDlg.okButton.set("disabled",!0);confirmDlg.show({title:this.i18n.confirmTitle,message:confirmMsg}).then(function(Z){"onOk"===Z?F():G();confirmDlg.hide()}.bind(this))}.bind(this)))}.bind(this))},
_rebuildClick:function(){m.isChecked(this._rebuildFullRadio)&&this._hasSource()?this._rebuildFullCache():this._rebuildLayers()},_rebuildFullCache:function(){var y=this._item.owner,F=this._item.folderId,G=x.restBaseUrl+"content/users/"+y+"/"+(F&&F!==y?F+"/":"")+"publish";publishRequest={buildInitialCache:!1,itemid:this._item.sourceData.id,filetype:"featureService",publishParameters:z.stringify({name:this._item.name?this._item.name:this._item.title.replace(/ /g,"_"),targetSR:this._item.serviceInfo.layers[0].spatialReference}),
outputType:"sceneService",overwrite:!0};selectedLayers=[];rebuildFullFailure=function(H){c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildFullError});m.deactivateNode(this._caching);m.disableNode(this._rebuildBtn,!1);m.showNodes([this._optionsContainer,this._buttonBar])}.bind(this);this._fullRebuildInProgress=!0;m.disableNode(this._rebuildBtn,!0);g(".layer-checkbox",this.domNode).map(function(H){m.checkNode(H,!0);selectedLayers.push({id:parseInt(H.getAttribute("data-layer-id"),
10)})});this._displayCreditCost(selectedLayers,function(){m.hideNodes([this._optionsContainer,this._buttonBar]);m.activateNode(this._caching);B.request({url:G,content:publishRequest},{usePost:!0}).then(function(H){H&&H.services&&0<H.services.length?(H=H.services.shift(),A.checkAsyncJobStatus(x.restBaseUrl+"content/users/"+y+"/items/"+H.serviceItemId+"/status?jobId\x3d"+H.jobId).then(function(I){setTimeout(function(){this._rebuildLayers();k.publish("manage-scene-cache/republish",I)}.bind(this),this._serviceStartWait)}.bind(this),
rebuildFullFailure)):rebuildFullFailure(H)}.bind(this),rebuildFullFailure)}.bind(this),function(){this._fullRebuildInProgress=!1;m.disableNode(this._rebuildBtn,!1)}.bind(this))},_rebuildLayers:function(){var y=x.self&&x.self.subscriptionInfo||{},F=(x.self&&x.self.user||{}).availableCredits||y.availableCredits||0,G=[],H=B.isPortal(),I,N,M;g(".layer-checkbox",this.domNode).map(function(J){m.isChecked(J)&&G.push({id:parseInt(J.getAttribute("data-layer-id"),10)})});0<G.length&&this._adminUrl&&(m.disableNode(this._rebuildBtn,
!0),C({adminServiceInfo:this._fetchSourceItemAdminServiceInfo()}).then(function(J){if(H)this._submitPortalSceneCacheJob(G).then(function(T){var X=v.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/jobs/"+T.jobId;T.jobUrl=X;k.publish("manage-scene-cache/rebuild",T);m.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(T){m.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,
message:this.i18n.rebuildError})}.bind(this),function(T){m.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this));else{this._sourceItem.set("adminServiceInfo",J.adminServiceInfo);J=m.isChecked(this._rebuildPartialRadio);var R=this._rebuildAttributesRadio.checked,Z=this._adminUrl+(R?"/updateAttribute":J?"/updateCache":"/rebuildCache");this._fullRebuildInProgress?B.request({url:Z,content:{layers:G.map(function(T){return T.id},
this).join(",")}},{usePost:!0}).then(function(T){k.publish("manage-scene-cache/rebuild",T);m.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(T){m.disableNode(this._rebuildBtn,!1);m.deactivateNode(this._caching);m.showNodes([this._optionsContainer,this._buttonBar]);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):(J||R?this._isBuildingSceneLayer()?v.fetchPartialUpdateBuildingScenePublishingCredits(this._sourceItem,this._item,
G):v.fetchPartialUpdateScenePublishingCredits(this._sourceItem,this._item,G):v.fetchScenePublishingCredits(this._sourceItem,G,this._isBuildingSceneLayer())).then(function(T){M=[this.i18n.confirmDesc,w.substitute(this.i18n.confirmCredits,{credits:t.format(T),availableCredits:t.format(F)}),this.i18n.confirmProceed];N="\x3cp\x3e"+M.join("\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e";I=new a({buttonOkLabel:this.i18n.ok,buttonCancelLabel:this.i18n.cancel,"class":"confirmDlg-default"});F<T&&I.okButton.set("disabled",
!0);I.show({title:this.i18n.confirmTitle,message:N}).then(function(X){"onOk"===X?B.request({url:Z,content:{layers:G.map(function(aa){return aa.id},this).join(",")}},{usePost:!0}).then(function(aa){k.publish("manage-scene-cache/rebuild",aa);m.disableNode(this._rebuildBtn,!1);this.hide()}.bind(this),function(aa){m.disableNode(this._rebuildBtn,!1);c.createSpecifiedDialog(b).show({title:this.i18n.errorTitle,message:this.i18n.rebuildError})}.bind(this)):m.disableNode(this._rebuildBtn,!1);I.hide()}.bind(this))}.bind(this))}}.bind(this)))},
_cancelClick:function(){this._dialog.hide()},_checkBoxClick:function(){var y=g(".layer-checkbox",this.domNode).some(function(F){return m.isChecked(F)});m.disableNode(this._rebuildBtn,!y)},_createLayerListDisplay:function(y,F){var G=r.create("div",{display:"table"},F);y&&0<y.length&&y.forEach(this._createLayerDisplay.bind(this,G))},_createLayerDisplay:function(y,F){var G=F.requiresRebuild&&!0===F.requiresRebuild?"true":"false",H=r.create("div",{display:"table-row"},y),I=r.create("div",{display:"table-cell"},
r.create("div",{display:"table-column"},H));H=r.create("div",{display:"table-cell"},r.create("div",{display:"table-column"},H));var N={id:w.substitute("layer-${id}-checkbox",{id:F.id}),"class":"layer-checkbox",type:"checkbox","data-layer-id":F.id,"data-rebuild-required":G};B.isPortal()&&(N.checked=!0);I=r.create("input",N,I);r.create("label",{"for":w.substitute("layer-${id}-checkbox",{id:F.id}),"class":"layer-label trailer-0",innerHTML:F.name,"data-rebuild-required":G},r.create("span",null,H));this.own(u(I,
this._checkBoxClick.bind(this)))},_getPortalUpdateMode:function(){return m.isChecked(this._rebuildPortalAttributesRadio)?"PARTIAL_UPDATE_ATTRIBUTES":m.isChecked(this._rebuildPortalPartialRadio)?"PARTIAL_UPDATE_NODES":"RECREATE_ALL_NODES"},_submitPortalSceneCacheJob:function(y){var F=1<y.length?y.map(function(H){return{id:H.id}}):{},G=this._getPortalUpdateMode();y=v.adjustHostedServerForProtocol(this._hostedServer.url)+"/rest/services/System/SceneCachingControllers/GPServer/Manage%20Scene%20Cache/submitJob";
F={service_url:this._item.url,num_of_caching_service_instances:2,layer:z.stringify(F),update_mode:G,update_extent:"DEFAULT",area_of_interest:z.stringify({displayFieldName:"",geometryType:"esriGeometryPolygon",spatialReference:{wkid:54051,latestWkid:54051},fields:[{name:"OID",type:"esriFieldTypeOID",alias:"OID"},{name:"updateGeom_Length",type:"esriFieldTypeDouble",alias:"updateGeom_Length"},{name:"updateGeom_Area",type:"esriFieldTypeDouble",alias:"updateGeom_Area"}],features:[],exceededTransferLimit:!1}),
f:"json",token:this._item.serverToken};return p({url:y,content:F},{usePost:!0})},_isBuildingSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Building")},_isPointSceneLayer:function(){return-1<this._item.typeKeywords.indexOf("Point")},_is3DObjectsWithoutUpdateEnabled:function(){return-1<this._item.typeKeywords.indexOf("3DObject")&&!this._hasUpdateEnabled()},_hasUpdateEnabled:function(){return(this._item.serviceInfo.layers||[]).some(function(y){return y&&q.isDefined(y.updateEnabled)&&
!0===y.updateEnabled},this)},show:function(y,F,G){var H=B.isPortal();this._sourceItem=y;this._item=F;this._featureServiceUrl=y.url;this._featureServiceAdminUrl=H?F.url:y.url.replace("/rest/","/rest/admin/");this._adminUrl=F.adminUrl;this._adminServiceInfo=F.serviceInfo||{};this._hostedServer=G;this._canShowPartialRebuild=!H&&!this._isPointSceneLayer()&&!this._is3DObjectsWithoutUpdateEnabled()&&!this._isBuildingSceneLayer();this._dialog=new e({title:this.i18n.title,"class":this.baseClass});H||this._canShowPartialRebuild||
(m.hideNode(this._rebuildPartialContainer),m.hideNode(this._rebuildPartialAttrContainer));this._createLayerListDisplay(this._adminServiceInfo.layers,this._sceneLayerContainer);this._dialog.setContent(this.domNode);this.own(f(this._dialog,"hide",function(){this._dialogHidden()}.bind(this)));!H&&this._isBuildingSceneLayer()&&(m.hideNode(this._rebuildFullContainer),this._rebuildLayersRadio.checked=!0,this._rebuildLayersRadioClick());this._dialog.show()},hide:function(){this._dialog.hide()}})})},"arcgisonline/sharing/dijit/dialog/JobStatusDlg":function(){define("require exports tslib ../../../pages/pageUtil ../../../pages/utils/arrays ../../../pages/utils/date ../../../pages/utils/dom ../../../pages/utils/number ../../util ./SimpleDlg ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/topic esri/lang moment/moment dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/JobStatusDlg.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);return function(){function m(t){this.templateString=c["default"];
this.i18n=n.__assign(n.__assign({},b["default"].common),b["default"].jobStatusDlg);this.linkToJobStatus=!0;this.STATUS_STARTED="Started";this.STATUS_IN_PROGRESS="InProgress";this.STATUS_FAILED="Failed";this.STATUS_COMPLETED="Completed";this.PORTAL_STATUS_STARTED="esriJobSubmitted";this.PORTAL_STATUS_IN_PROGRESS="esriJobExecuting";this.PORTAL_STATUS_FAILED="esriJobFailed";this.PORTAL_STATUS_COMPLETED="esriJobSucceeded";this.PORTAL_STATUS_CANCELLED="esriJobCancelled";this.PORTAL_STATUS_CANCELLING="esriJobCancelling";
this.PORTAL_STATUS_TIMED_OUT="esriJobTimedOut";this.PORTAL_STATUS_WAITING="esriJobWaiting"}m.prototype.postCreate=function(){this.inherited(arguments);this._initHandlers()};m.prototype.show=function(t,v,A,B,x){this._portal=t;this._portalUser=v;this._jobUrl=A;this._jobInfoUrl=B;this._initUI();this._populateStatus(x);this._dialog.show()};m.prototype.hide=function(){this._dialog.hide()};m.prototype._initUI=function(){var t=this._portal.isPortal;t||f["default"].hideNode(this._cancelJobBtn);this.linkToJobStatus||
(f["default"].hideNode(this._jobIdLinkContainer),f["default"].showNode(this._jobIdText));f["default"].showHide(this._jobAdminDetailsContainer,t&&this._portalUser.isOrgAdmin)};m.prototype._initHandlers=function(){this.own(l["default"](this._closeBtn,this._closeClick.bind(this)),l["default"](this._cancelJobBtn,this._cancelJobClick.bind(this)),d["default"].subscribe("job-status/refresh",this._populateStatus.bind(this)))};m.prototype._cancelJobClick=function(){var t=this,v=this._jobUrl.indexOf("?token\x3d");
v=-1<v?this._jobUrl.substr(0,v)+"/cancel"+this._jobUrl.substr(v):this._jobUrl+"/cancel";f["default"].disableNode(this._cancelJobBtn,!0);k["default"].request({url:v,content:{cancel:!0}},{usePost:!0}).then(function(A){if(!A||(null===A||void 0===A?0:A.code))q["default"].createSpecifiedDialog(u["default"],{title:t.i18n.errorTitle,content:t.i18n.cancelError}).show(),f["default"].disableNode(t._cancelJobBtn,!1)},function(A){q["default"].createSpecifiedDialog(u["default"],{title:t.i18n.errorTitle,content:t.i18n.cancelError}).show();
f["default"].disableNode(t._cancelJobBtn,!1)})};m.prototype._closeClick=function(){this.hide()};m.prototype._getStatusString=function(t){switch(t){case this.STATUS_STARTED:return this.i18n.started;case this.STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.STATUS_COMPLETED:return this.i18n.completed;case this.STATUS_FAILED:return this.i18n.failed;case this.PORTAL_STATUS_STARTED:return this.i18n.started;case this.PORTAL_STATUS_IN_PROGRESS:return this.i18n.inProgress;case this.PORTAL_STATUS_FAILED:return this.i18n.failed;
case this.PORTAL_STATUS_COMPLETED:return this.i18n.completed;case this.PORTAL_STATUS_CANCELLED:return this.i18n.cancelled;case this.PORTAL_STATUS_CANCELLING:return this.i18n.cancelling;case this.PORTAL_STATUS_TIMED_OUT:return this.i18n.timedOut;case this.PORTAL_STATUS_WAITING:return this.i18n.waiting;default:return""}};m.prototype._getDurationString=function(t,v){if(t){var A=e["default"].isDefined(v)?t+v:Date.now(),B=a["default"](A).diff(a["default"](t),"seconds"),x=a["default"](A).diff(a["default"](t),
"minutes");A=a["default"](A).diff(a["default"](t),"hours");var D=void 0,E=void 0;if(60>B)return this.i18n.seconds.replace("${num}",g["default"].format(B));if(60>x)return D=this.i18n.minutes.replace("${num}",g["default"].format(x)),E=this.i18n.seconds.replace("${num}",g["default"].format(B-60*x)),D+" "+E;var y=this.i18n.hours.replace("${num}",g["default"].format(A));D=this.i18n.minutes.replace("${num}",g["default"].format(x-60*A));E=this.i18n.seconds.replace("${num}",g["default"].format(B-60*x));return y+
" "+D+" "+E}return""};m.prototype._getStartDateFromString=function(t){if(t=p["default"].find(null!==t&&void 0!==t?t:[],function(A){return"esriJobMessageTypeInformative"===A.type&&0===A.description.indexOf("Start Time: ")}))try{var v=t.description.substring(13).trim();return(new Date(v)).getTime()}catch(A){}return 0};m.prototype._getEndTimeFromString=function(t){if(t=p["default"].find(null!==t&&void 0!==t?t:[],function(B){return"esriJobMessageTypeInformative"===B.type&&0===B.description.indexOf("Succeeded at ")}))try{var v=
t.description.indexOf(" (Elapsed Time: "),A=t.description.substring(14,v).trim();return(new Date(A)).getTime()}catch(B){}};m.prototype._populateStatus=function(t){var v=this._portal.isPortal,A=this._portalUser.isOrgAdmin;if(t){this._statusInfo.classList.remove("hide");this._statusLoader.classList.remove("is-active");var B=(v?A?t.submittedTime:this._getStartDateFromString(t.messages):t.startTime)||0,x=v?B:1E3*B;B=t.messages?this._getEndTimeFromString(t.messages):void 0;var D=v?A?e["default"].isDefined(t.duration)&&
t.duration||void 0:B?B-x:void 0:e["default"].isDefined(t.totalTime)?1E3*t.totalTime:void 0;B=v&&!A?this._getStatusString(t.jobStatus):this._getStatusString(t.status);var E=h["default"].format(new Date(x),"day-short-month-year-long-time"),y=e["default"].isDefined(D)?h["default"].format(new Date(x+D),"day-short-month-year-long-time"):"";x=this._getDurationString(x,D);D=v&&A?t.machinename:"";A=v&&A?t.username:"";t=v?t.jobId:t.id;this._jobStatus.innerHTML=B;this._jobStartTime.innerHTML=E;this._jobDuration.innerHTML=
x;this._jobEndTime.innerHTML=y;this._jobMachine.innerHTML=D;this._jobUser.innerHTML=A;this._jobIdLink.href=this._jobInfoUrl;this._jobIdLink.innerHTML=t;this._jobIdText.textContent=t;t=p["default"].includes([this.i18n.completed,this.i18n.failed,this.i18n.cancelled,this.i18n.cancelling,this.i18n.timedOut],B);f["default"].disableNode(this._cancelJobBtn,t)}else this._statusInfo.classList.add("hide"),this._statusLoader.classList.add("is-active"),f["default"].disableNode(this._cancelJobBtn,!0)};return m=
n.__decorate([w["default"](z["default"],C["default"],r["default"])],m)}()})},"arcgisonline/sharing/dijit/dialog/SimpleDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Dialog,dijit/form/Button,dijit/_Widget,dijit/_Templated"],function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog.SimpleDlg");O.require("dijit.Dialog");O.require("dijit.form.Button");O.require("dijit._Widget");O.require("dijit._Templated");O.declare("arcgisonline.sharing.dijit.dialog.SimpleDlg",[K._Widget,K._Templated],
{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"dialog" title\x3d"${title}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_content"\x3e${!content}\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1 esriFloatTrailing right"\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-event\x3d"onClick: hide" class\x3d"primary" type\x3d"button"\x3e${i18n.ok}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common},show:function(){this.dialog.show()},hide:function(){this.dialog.hide()}})})},"arcgisonline/sharing/dijit/AppendData":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/dijit/UploadProgressBar ../../pages/utils/arrays ../../pages/utils/clone ../../pages/utils/dom ../../pages/utils/strings ../../sharing/util ./AppendData/FieldTableRow ./AppendData/_canMatchFields ./dialog/ConfirmDialog ./dialog/_CreateItemUtilMixin ../../sharing/geow/Item dijit/_TemplatedMixin dijit/_WidgetBase dojo/on dojo/topic dojo/Deferred dojo/promise/all esri/lang dojo/i18n!../../nls/arcgisonline dojo/text!../../pages/dijit/View/templates/loader.html dojo/text!./AppendData/templates/_appendData.html dojo/text!./AppendData/templates/_table-row.html ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);
v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);return function(){function y(F,G){this.templateString=x["default"];this.i18n=A["default"];this.baseClass="appendData";this.dijits=[];this.supportedItemTypes=[{value:"Shapefile",innerHTML:A["default"].addItemFrm.typeShapefile,regex:"(.zip$)",fileType:"shapefile",extension:"zip",appendUploadFormat:"shapefile"},{value:"File Geodatabase",innerHTML:A["default"].addItemFrm.itemFileGeodatabase,
regex:"(.zip$)",fileType:"fileGeodatabase",extension:"zip",appendUploadFormat:"filegdb"},{value:"CSV",regex:"(.csv$)",fileType:"csv",appendUploadFormat:"csv",extension:"csv"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xls"},{value:"Microsoft Excel",regex:"(.xls$|.xlsx$)",fileType:"excel",appendUploadFormat:"excel",extension:"xlsx"},{value:"GeoJson",regex:"(.geojson$)",fileType:"geojson",appendUploadFormat:"geojson",extension:"geojson"}];
this.supportedFilesRegEx="(.zip$|.csv$|.xls$|.xlsx$|.geojson$)";this.noneField={value:"__none",displayName:A["default"].appendDataDlg.none,name:A["default"].appendDataDlg.none,type:"none"};this.longitudeField={value:"longitude",displayName:A["default"].addItemFrm.locationTypes.longitude,name:"longitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"longitude"};this.latitudeField={value:"latitude",displayName:A["default"].addItemFrm.locationTypes.latitude,
name:"latitude",type:"esriFieldTypeDouble",sqlType:"sqlTypeDouble",nullable:!0,editable:!0,locationType:"latitude"};this.sortHandlers=[]}y.prototype.postMixInProperties=function(){var F;this.inherited(arguments);this.serviceUrl=this.item&&this.item.url;this.portal=this.portal||(null===(F=this.item)||void 0===F?void 0:F.portal)||(null===q["default"]||void 0===q["default"]?void 0:q["default"].self)||{};this.user=this.user||this.portalUser||(this.portal.getPortalUser?this.portal.getPortalUser():this.portal.portalUser)||
{};this.serviceLayers=this.layer?g["default"]([this.layer||this.layerInfo]):g["default"](this.layers||[this.layer||this.layerInfo]);this._layerInfo=this.layer||this.layerInfo||this.serviceLayers&&this.serviceLayers.length?this.serviceLayers[0]:null;this.serviceInfo=this.item&&this.item.serviceInfo||{};this.adminServiceInfo=this.item&&this.item.adminServiceInfo||{};this.capabilities=this.portal.isPortal&&!this.item.isSDS?u["default"].stringToArray(this.serviceInfo.capabilities,",",!0):u["default"].stringToArray(this.adminServiceInfo.capabilities||
"",",",!0);this.changeTrackingEnabled=f["default"].includes(this.capabilities,"ChangeTracking");this.syncEnabled=this.serviceInfo.syncEnabled||!1};y.prototype.postCreate=function(){this.inherited(arguments);var F=this.domNode.querySelector(".js-analyze-loader-wrap");F.innerHTML=B["default"].replace("${location}","");this.uploadProgressBar=new h["default"]({});this.uploadProgressBar.startup();this.uploadProgressBar.hide();F.appendChild(this.uploadProgressBar.domNode);this.portal.isPortal&&(this.supportedItemTypes.splice(1,
1),this.step1Bullet4.innerText=A["default"].appendDataDlg.messageStep1Bullet4Portal);this.sortHeader=this.sortHeader.bind(this)};y.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};y.prototype.destroy=function(){var F=this;this.inherited(arguments);c["default"].publish("cancel-item-upload");this.deleteItem().then(function(){F.dijits.forEach(function(G){G.destroy()});F.sortHandlers.forEach(function(G){G.remove()});F.sortHandlers=
[];F.dijits=[]})};y.prototype.show=function(){var F,G,H,I=(null===(F=this.portal.helpMap)||void 0===F?void 0:F.m["120001300"])||"share-maps/manage-hosted-feature-layers.htm#ESRI_SECTION1_E2F5EF6240F246EBA5D238968B63BF97";this.dlg=new r["default"]({title:A["default"].appendDataDlg.title,buttonOkLabel:A["default"].appendDataDlg.uploadBtn,buttonCancelLabel:A["default"].common.cancel,helpLinkInfo:{title:A["default"].appendDataDlg.helpLinkTitle,url:""+this.portal.helpBase+I}});this.dlg.setContent(this.domNode);
this.dlg.show();this.okBtn=null===(G=this.dlg)||void 0===G?void 0:G.okButton;null===(H=this.okBtn)||void 0===H?void 0:H.set("disabled",!0);this.own(b["default"](this.dlg,"ok",this.processStep.bind(this)));return this.dlg};y.prototype.hide=function(){var F;null===(F=this.dlg)||void 0===F?void 0:F.hide();b["default"].emit(this,"hide",{bubbles:!0,cancelable:!0})};y.prototype.processStep=function(){var F=this,G=new m["default"];this.isStep1?this.uploadData().then(this.analyze.bind(this)).then(this.addLayerInfo.bind(this)).then(this.validateLayers.bind(this),
function(H){F.showError(H)}).then(this.showStep2.bind(this),function(H){F.showError(H)}).then(function(H){G.resolve(H)},function(H){F.showStep1()}):this.appendDataLayer().then(function(H){F.done();G.resolve(H)},function(H){F.showStep2();F.showError(H)});return G};y.prototype._setItemAttr=function(F){this.item=F};y.prototype._setReadOnlyAttr=function(F,G){var H=F?"add":"remove";c["default"].publish("/esri/disable",F," ");k["default"].querySelectorAllAsArray(".append-data",this.domNode).forEach(function(I){I.classList[H]("disabled")});
F?this.showLoader(G||this.i18n.common.pleaseWait):this.hideLoader()};y.prototype.setSelectedSourceType=function(){this.selectedSourceType=this.findSupportedType(this.supportedTypes.options[this.supportedTypes.selectedIndex].dataset.fileType)};y.prototype.getFieldMappings=function(){var F=this,G=this.fromField.value,H=this.toField.value,I=this.dijits.map(function(N){return N.field}).filter(function(N){return N.matchField&&"__none"!==N.matchField.value}).map(function(N){return{source:N.matchField&&
N.matchField.name,name:N.name}});this.updateExistingFeatures.checked&&"__none"!==H&&(I=I.filter(function(N){return N.name!==F.fromField.value&&N.name!==F.toField.value}),I.push({source:H,name:G}));return(null===I||void 0===I?0:I.length)?I:null};y.prototype.getAppendFields=function(F){return(((null===F||void 0===F?0:F.length)?F:this.getFieldMappings())||[]).filter(function(G){return null===G||void 0===G?void 0:G.name}).map(function(G){return G.name})};y.prototype.getAppendParams=function(){var F=this.selectedSourceType.appendUploadFormat,
G=this.updateExistingFeatures.checked,H=this.fromField.options[this.fromField.selectedIndex];H=this.findField({name:H.dataset.value,type:H.dataset.type},this.layerFields);var I=this.getSelectedDataLayer(),N=this.getFieldMappings();F={sourceTableName:I.name,fieldMappings:(null===N||void 0===N?0:N.length)?JSON.stringify(N):null,upsert:G,skipUpdates:!1,useGlobalIds:G&&"esriFieldTypeGlobalID"===(null===H||void 0===H?void 0:H.type),skipInserts:G?this.skipInserts.checked:!1,updateGeometry:G?this.updateGeometry.checked:
!0,appendFields:JSON.stringify(this.getAppendFields()),appendItemId:this.uploadedItem.id,appendUploadFormat:F,rollbackOnFailure:!0};!this.selectedSourceType||"csv"!==this.selectedSourceType.fileType&&"excel"!==this.selectedSourceType.fileType||(F=n.__assign(n.__assign({},F),{appendSourceInfo:JSON.stringify(this.getAnalyzeParameters())}));if(null===H||void 0===H?0:H.isUniqueIndex)F.upsertMatchingField=H.name;return F};y.prototype.getSelectedDataLayer=function(){var F=parseInt(this.dataLayersSelect.value,
10);var G=(this.dataLayers||[]).filter(function(H){return H.excelSheetId===F||H.id===F});return(null===G||void 0===G?0:G.length)?G.shift():{}};y.prototype.getSelectedServiceLayer=function(){var F=parseInt(this.serviceLayersSelect.value,10);return this.findLayer(""+F,this.serviceLayers||[])};y.prototype.getFormData=function(){var F=this.fileInput.files[0],G=(null===F||void 0===F?void 0:F.name)||"",H=this.selectedSourceType.value,I=G.substr(0,G.indexOf("."))+"_agotmp"+G.substr(G.indexOf(".")),N=new FormData;
N.append("type",H);N.append("title",I);N.append("file",F,I);this.origFilename=G;this.sourceTitle=I;return N};y.prototype.getAnalyzeParameters=function(){var F=g["default"](this.analyzeResults),G=this.findLocationField("longitude"),H=this.findLocationField("latitude"),I=F.publishParameters.locationType;G=G&&"__none"!==G.value?G.name:F.publishParameters.longitudeFieldName;H=H&&"__none"!==H.value?H.name:F.publishParameters.latitudeFieldName;G&&H?(F.publishParameters.locationType="coordinates",F.publishParameters.latitudeFieldName=
H,F.publishParameters.longitudeFieldName=G):"coordinates"!==I&&(F.publishParameters.locationType="none");return F.publishParameters};y.prototype.addEventListeners=function(){var F=new m["default"];this.own(b["default"](this.showFieldMatchingLink,"click",this.showFieldMatching.bind(this)),b["default"](this.updateExistingFeatures,"change",this.updateExistingFeaturesChange.bind(this)),b["default"](this.fileInput,"change",this.onFileChange.bind(this)),b["default"](this.fromField,"change",this.onFromFieldChange.bind(this)),
b["default"](this.toField,"change",this.onToFieldChange.bind(this)),b["default"](this.serviceLayersSelect,"change",this.onServiceLayerChange.bind(this)),b["default"](this.dataLayersSelect,"change",this.onDataLayerChange.bind(this)),b["default"](this.supportedTypes,"change",this.setSelectedSourceType.bind(this)));F.resolve();return F};y.prototype.sortHeader=function(F){var G=F.target;F=G.dataset.sort;var H=G.classList.contains("is-ascending")||G.classList.contains("is-descending");G=G.dataset.sortOrder;
H&&(G="asc"===G?"desc":"asc");this.sortUpdate({property:F,ascending:"asc"===G})};y.prototype.sortUpdate=function(F){var G=this,H=this.domNode.querySelector(".js-table-rows"),I=this.noneField,N=this.getUIDField(),M=this.updateExistingFeatures.checked,J=this.getSelectedDataLayer(),R=(J.fields||[this.noneField]).sort(function(fa,oa){return fa.name.localeCompare(oa.name)}),Z=this.layerFields,T={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},X={portal:this.portal,template:D["default"],dataLayerFields:R,addressFields:J.addressFields};
this.currentSort=F=F||this.currentSort;(null===R||void 0===R?0:R.length)&&"__none"!==R[0].value&&R.unshift(I);var aa=F.ascending?"is-ascending":"is-descending";k["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(fa){fa.classList.remove("is-descending");fa.classList.remove("is-ascending");fa.setAttribute("aria-sort","none")});k["default"].querySelectorAllAsArray(".js-table-sort-header[data-sort\x3d'"+F.property+"']",this.domNode).forEach(function(fa){fa.classList.add(aa);
fa.setAttribute("aria-sort",F.ascending?"ascending":"descending");fa.dataset.sortOrder=F.ascending?"asc":"desc"});this.sortTitle("matchField"===F.property?this.matchFields||[]:this.layerFields||[],F);this.sortHandlers.forEach(function(fa){fa.remove()});this.sortHandlers=[];k["default"].querySelectorAllAsArray(".js-table-sort-header",this.domNode).forEach(function(fa){G.sortHandlers.push(b["default"](fa,"click",G.sortHeader.bind(G)))});this.dijits.forEach(function(fa){fa.destroy()});this.dijits=[];
Z.forEach(function(fa){fa.type in T||!fa.editable||M&&fa.name===N.name||(fa=new C["default"](n.__assign(n.__assign({},X),{field:fa})),fa.startup(),fa.placeAt(H),G.dijits.push(fa))})};y.prototype.sortTitle=function(F,G){return null===F||void 0===F?void 0:F.sort(function(H,I){return G.ascending?H.name.localeCompare(I.name):I.name.localeCompare(H.name)})};y.prototype.showStep1=function(){var F=this,G=new m["default"],H=this.okBtn;this.fillSupportedTypes().then(function(){k["default"].hideNode(F.step2);
k["default"].showNode(F.step1);F.isStep1=!0;null===H||void 0===H?void 0:H.set("label",A["default"].appendDataDlg.uploadBtn);F.set("readOnly",!1);G.resolve(!0)});return G};y.prototype.showStep2=function(){var F=this,G=new m["default"];t["default"]({serviceLayers:this.fillServiceLayers(this.serviceLayers),dataLayers:this.fillDataLayers(this.dataLayers)}).then(function(){var H=F.getSelectedDataLayer(),I=F.getSelectedServiceLayer();F.updateFields(I,H).then(function(){G.resolve(!0)})});return G};y.prototype.updateFields=
function(F,G){var H=this,I=new m["default"],N=this.okBtn,M="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,J=this.selectedFile||this.uploadedItem&&this.uploadedItem.title||this.sourceTitle||"",R=this.syncEnabled||this.changeTrackingEnabled,Z=G&&G.geometryType,T=F&&F.geometryType,X=T?!0:!1,aa,fa,oa;t["default"]({serviceLayerFields:this.fillServiceLayerFields(F,G),dataLayerFields:this.fillDataLayerFields(F,G),fieldMatching:this.fillFieldMatching(F,G)}).then(function(){k["default"].hideNode(H.step1);
k["default"].showNode(H.step2);if(R){if(T!==Z&&T&&("esriGeometryPoint"!==T||M||Z)){H.showError({message:A["default"].appendDataDlg.noMatchingSelectedLayerType});return}aa=!0}else T===Z?aa=fa=oa=!0:T&&("esriGeometryPoint"!==T||M||Z)?oa=!0:aa=fa=oa=!0;H.domNode.querySelector(".js-updateFeatures-container").classList.add("hide");k["default"].showHideAll(k["default"].querySelectorAllAsArray(".js-updateGeometry",H.domNode),X);H.updateExistingFeatures.checked=fa||oa||!1;!fa&&aa?k["default"].querySelectorAllAsArray(".js-updateFeatures, .js_attributesOnly",
H.domNode).forEach(function(ua){ua.classList.add("disabled")}):(k["default"].querySelectorAllAsArray(".js-updateFeatures",H.domNode).forEach(function(ua){ua.classList.remove("disabled")}),k["default"].querySelectorAllAsArray(".js-attributesOnly",H.domNode).forEach(function(ua){ua.classList[!fa&&oa?"add":"remove"]("disabled")}));H.updateExistingFeaturesChange();H.updateGeometry.checked=!1;H.skipInserts.checked=!aa&&(fa||oa)||!1;H.toField.value="__none";H.isStep1=!1;H.appendDataLabel.innerHTML=A["default"].appendDataDlg.chooseLayer.replace("${fileName}",
J);null===N||void 0===N?void 0:N.set("label",A["default"].appendDataDlg.applyUpdatesBtn);H.set("readOnly",!1);I.resolve(!0)});return I};y.prototype.updateLayerDataUpdatedDate=function(){var F=this.item,G=this._layerInfo,H=(new Date).getTime();G&&(G.editingInfo=G.editingInfo||{},G.editingInfo.lastEditDate=H,F.layers&&(F=F.layers[G.id],F.editingInfo=F.editingInfo||{},F.editingInfo.lastEditDate=H))};y.prototype.done=function(){var F=this;this.deleteItem().then(function(){F.updateLayerDataUpdatedDate();
c["default"].publish("append/done",{type:"success"});F.set("readOnly",!1);c["default"].publish("alert/show",{type:"success",text:A["default"].appendDataDlg.updateSuccess});F.hide()})};y.prototype.showFieldMatching=function(F){F="true"===this.showFieldMatchingLink.dataset.value;this.showFieldMatchingLink.dataset.value=F?"false":"true";this.showFieldMatchingLink.innerHTML=F?A["default"].appendDataDlg.showFieldMatching:A["default"].appendDataDlg.hideFieldMatching;k["default"].showHide(this.fieldMatching,
!F)};y.prototype.updateExistingFeaturesChange=function(F){var G=this.updateExistingFeatures.checked?"remove":"add";k["default"].querySelectorAllAsArray(".js-updateFeatures-container",this.domNode).forEach(function(H){H.classList[G]("hide")});this.sortUpdate()};y.prototype.onFileChange=function(F){F=this.fileInput.files[0];F=(null===F||void 0===F?void 0:F.name)||"";var G=F.split(".").pop(),H=(new RegExp(this.supportedFilesRegEx,"i")).test(F),I="zip"===(null===G||void 0===G?void 0:G.toLowerCase());
this.selectedSourceType=this.findSupportedType(I?"shapefile":G);this.selectedFile=F;k["default"].showHide(this.zipSelect,H&&I&&!this.portal.isPortal);this.okBtn.set("disabled",!H)};y.prototype.onFromFieldChange=function(F){F=(null===F||void 0===F?void 0:F.target)||{};var G=F.options[F.selectedIndex],H=this.getSelectedDataLayer(),I=this.getSelectedServiceLayer();G={name:G.dataset.value,type:G.dataset.type};var N=this.findField(G,this.layerFields),M=this.findField({name:F.dataset.prevValue,type:F.dataset.prevType},
this.layerFields);this.uidField=G;N.type!==M.type&&this.fillDataLayerFields(I,H);"__none"===N.value&&(this.toField.value="__none");F.dataset.prevValue=F.value;F.dataset.prevType=F.type;this.sortUpdate()};y.prototype.onToFieldChange=function(F){F=(null===F||void 0===F?void 0:F.target)||{};F=F.options[F.selectedIndex];F=this.findField({name:F.dataset.value,type:F.dataset.type},this.layerFields);c["default"].publish("appendData/fieldChanged",F)};y.prototype.onServiceLayerChange=function(){this.showStep2()};
y.prototype.onDataLayerChange=function(){var F=this.getSelectedDataLayer(),G=this.getSelectedServiceLayer();this.updateFields(G,F)};y.prototype.render=function(){var F=new m["default"];t["default"]([this.showStep1()]).then(function(){F.resolve(!0)});return F};y.prototype.showLoader=function(F){var G=this.domNode.querySelector(".analyze-loader-wrap .loader");k["default"].showNode(this.domNode.querySelector(".analyze-loader-wrap"));k["default"].activateNode(G);if(G=G.querySelector(".loader-text"))G.innerHTML=
F};y.prototype.hideLoader=function(){k["default"].hideNode(this.domNode.querySelector(".analyze-loader-wrap"));k["default"].deactivateNode(this.domNode.querySelector(".analyze-loader-wrap .loader"))};y.prototype.clearSelect=function(F){if(null===F||void 0===F?0:F.options)for(var G=F.options.length-1;0<=G;G--)F.remove(G)};y.prototype.fillSupportedTypes=function(){var F=this,G=new m["default"],H;this.supportedItemTypes.forEach(function(I){I.innerHTML&&(H=document.createElement("option"),H.dataset.value=
I.value,H.dataset.validate=I.regex||"",H.dataset.fileType=I.fileType,H.dataset.appendUploadFormat=I.appendUploadFormat,H.value=I.value,H.innerHTML=I.innerHTML,F.supportedTypes.add(H))});G.resolve(!0);return G};y.prototype.fillServiceLayers=function(F){var G=this,H,I,N;F=new m["default"];if(null===(I=null===(H=this.serviceLayersSelect)||void 0===H?void 0:H.options)||void 0===I?0:I.length)F.resolve(this.serviceLayers);else{H=this.serviceLayers||[];var M;this.clearSelect(this.serviceLayersSelect);(null===
H||void 0===H?0:H.length)&&H.forEach(function(J){M=document.createElement("option");M.dataset.value=J.id;M.value=J.id;M.innerHTML=J.name;G.serviceLayersSelect.add(M)});k["default"].showHide(this.serviceLayersContainer,1<(null===(N=this.layers)||void 0===N?void 0:N.length));F.resolve(H)}return F};y.prototype.fillDataLayers=function(F){var G=this,H,I=new m["default"];F=F||this.dataLayers||[];this.clearSelect(this.dataLayersSelect);F.forEach(function(M){var J=""+(v["default"].isDefined(M.excelSheetId)?
parseInt(M.excelSheetId,10):parseInt(M.id,10)),R=document.createElement("option");R.dataset.value=J;R.value=J;R.innerHTML=M.name;G.dataLayersSelect.add(R)});if(this.dataLayersSelect.options&&!this.dataLayersSelect.options.length){var N=document.createElement("option");N.dataset.value=this.noneField.value;N.value=this.noneField.value;N.innerHTML=this.noneField.name;this.dataLayersSelect.add(N)}k["default"].showHide(this.dataLayersContainer,1<(null===(H=this.analyzeResultLayers)||void 0===H?void 0:
H.length));this.dataLayers=F;I.resolve(F);return I};y.prototype.fillServiceLayerFields=function(F,G){var H=this,I=new m["default"],N=this.noneField,M=g["default"](F.indexes||[]),J=this.getUIDField(F),R={esriFieldTypeOID:1,esriFieldTypeGlobalID:1},Z=g["default"](F.fields||[]),T;this.clearSelect(this.fromField);M.filter(function(X){return null===X||void 0===X?void 0:X.isUnique}).forEach(function(X){var aa;T=(null===(aa=X.fields)||void 0===aa?void 0:aa.split(","))||[];T.forEach(function(fa){Z.some(function(oa){return oa.name.toLowerCase()===
fa.toLowerCase()?oa.isUniqueIndex=!0:!1})})});"Table"===F.type||!this.selectedSourceType||"excel"!==this.selectedSourceType.fileType&&"csv"!==this.selectedSourceType.fileType||((M=this.findField(this.longitudeField,Z))&&"__none"!==M.value||Z.push(g["default"](this.longitudeField)),(M=this.findField(this.latitudeField,Z))&&"__none"!==M.value||Z.push(g["default"](this.latitudeField)));this.layerFields=g["default"](Z||[]);Z=Z.filter(function(X){return X.type&&X.type in R||X.isUniqueIndex}).sort(function(X,
aa){return X.name.localeCompare(aa.name)});Z.unshift(N);Z.forEach(function(X){var aa=document.createElement("option");aa.dataset.value=X.value||X.name||null;aa.dataset.type=X.type||null;aa.value=X.value||X.name||null;aa.innerHTML=X.displayName||X.name;H.fromField.add(aa)});this.fromField.value=(null===J||void 0===J?void 0:J.value)||"__none";this.fromField.dataset.type=(null===J||void 0===J?void 0:J.value)||"__none";this.fromField.dataset.prevValue=this.fromField.value;this.fromField.dataset.prevType=
this.fromField.type;I.resolve(Z);return I};y.prototype.fillDataLayerFields=function(F,G){var H=this,I,N=new m["default"],M=this.noneField,J=G&&G.fields?g["default"](G.fields):[],R=this.getUIDField(F);J=this.filterAllowedFields(J,R).sort(function(Z,T){return Z.name.localeCompare(T.name)});R=this.findField(R,J);this.clearSelect(this.toField);(null===J||void 0===J?0:J.length)&&"__none"!==J[0].value?J.unshift(M):J=[M];J.forEach(function(Z){var T=document.createElement("option");T.dataset.value=Z.value||
Z.name||null;T.dataset.type=Z.type||null;T.value=Z.value||Z.name||null;T.innerHTML=Z.displayName||Z.name;H.toField.add(T)});this.toField.value="__none"!==(null===R||void 0===R?void 0:R.value)?R.name||"__none":"__none";this.toField.disabled="__none"===this.fromField.value||2>(null===(I=this.toField.options)||void 0===I?void 0:I.length);N.resolve(J);return N};y.prototype.filterAllowedFields=function(F,G){var H=F.filter(function(I){return z["default"](G,I)});return(null===H||void 0===H?0:H.length)?H:
[]};y.prototype.fillFieldMatching=function(F,G){var H=new m["default"];this.sortUpdate({property:"title",ascending:!0});H.resolve(!0);return H};y.prototype.addLayerInfo=function(F){var G=new m["default"],H=(null===F||void 0===F?0:F.publishParameters)?g["default"](F.publishParameters):{};F=(H.layers||[H.layerInfo]).map(function(I){var N=I.locationType||H.locationType||null;I.geometryType=I.geometryType||("coordinates"===N?"esriGeometryPoint":null)||null;I.addressFields=I.addressFields||H.addressFields||
("coordinates"===N?{longitudeFieldName:I.longitudeFieldName||H.longitudeFieldName,latitudeFieldName:I.latitudeFieldName||H.latitudeFieldName}:{});return I});G.resolve(F);return G};y.prototype.validateLayers=function(F){var G=new m["default"],H="fileGeodatabase"===(this.analyzeResults&&this.analyzeResults.publishParameters||{}).type,I=this.syncEnabled||this.changeTrackingEnabled?this.layers.filter(function(N){return F.some(function(M){return M.geometryType===N.geometryType||!N.geometryType||"esriGeometryPoint"===
N.geometryType&&!H&&!M.geometryType})}):this.layers;I&&I.length?(this.analyzeResultLayers=g["default"](F),this.dataLayers=g["default"](F),this.serviceLayers=g["default"](I),G.resolve(this.analyzeResults)):G.reject({message:A["default"].appendDataDlg.noMatchingLayerType});return G};y.prototype.getUIDField=function(F){var G=this.uidField||null;if(!G){var H=F.globalIdField;F=(F.fields||[]).filter(function(I){return I.name===H});G=this.uidField=(null===F||void 0===F?0:F.length)?F.shift():this.noneField}return G};
y.prototype.findField=function(F,G){var H=(G||[]).filter(function(I){return I.type===F.type&&I.name.toLowerCase()===F.name.toLowerCase()});return(null===H||void 0===H?0:H.length)?H.shift():this.noneField};y.prototype.findLocationField=function(F){var G=this.dijits.map(function(H){return H.field}).filter(function(H){return H.name.toLowerCase()===F.toLowerCase()&&H.matchField});return(null===G||void 0===G?0:G.length)?G.shift().matchField:null};y.prototype.findLayer=function(F,G){return p["default"].findLayer(F,
G||[])};y.prototype.findSupportedType=function(F){var G=(this.supportedItemTypes||[]).filter(function(H){return H.fileType===F||H.extension.toLowerCase()===F.toLowerCase()});return(null===G||void 0===G?0:G.length)?G.shift():null};y.prototype.uploadData=function(F){var G=this,H;F=F||new m["default"];var I=null===(H=this.item)||void 0===H?void 0:H.owner;H=this.getFormData();var N={owner:I,folderId:void 0,fileName:this.sourceTitle,fileType:this.selectedSourceType.value};this._setReadOnlyAttr(!0,A["default"].appendDataDlg.uploadProgress);
this.uploadProgressBar.reset();this.uploadProgressBar.show();d["default"].addItem(N,H,this.fileInput.files[0]).then(function(M){G.uploadProgressBar.hide();if(M&&M.success){var J={title:N.fileName,type:N.fileType,folderId:""};G.uploadedItem=n.__assign(n.__assign(n.__assign({},M),J),{title:G.sourceTitle});M.isMultipart?(M.statusUrl=d["default"]._getActionItemUrl(N,"status"),G._setReadOnlyAttr(!0,A["default"].addItemFrm.checkingStatus),G.checkStatus(M).then(function(){G.set("readOnly",!1);F.resolve(M)})):
F.resolve(M)}else F.reject(M)},function(M){G.uploadProgressBar.hide();M&&409!==M.code?G.showError(M):G.deleteExistingTempItem(G.sourceTitle).then(function(){G.uploadData(F)},function(J){G.showError(M)})});return F};y.prototype.analyze=function(F){var G=this,H=new m["default"];F=n.__assign({fileType:this.selectedSourceType.fileType},F);this._setReadOnlyAttr(!0,A["default"].appendDataDlg.analyzeProgress);l["default"].analyzeItem(F,{enableGlobalGeocoding:!1},this.portal).then(function(I){G.analyzeResults=
I;H.resolve(I)},function(I){H.reject(I)});return H};y.prototype.appendDataLayer=function(){var F,G=new m["default"],H=this.getSelectedServiceLayer(),I=this.analyzeResults||{},N=(null===(F=I.publishParameters)||void 0===F?void 0:F.locationType)||"none";F=this.serviceUrl+"/"+H.id+"/append";var M=this.getAppendParams(),J=this.findLocationField("longitude")||{},R=this.findLocationField("latitude")||{},Z=this.updateExistingFeatures.checked;if(Z&&("__none"===this.fromField.value||"__none"===this.toField.value))return G.reject({message:A["default"].appendDataDlg.noUIDFieldMapping}),
G;if(!(!I.publishParameters||"csv"!==I.publishParameters.type&&"excel"!==I.publishParameters.type||"esriGeometryPoint"!==H.geometryType||"none"!==N&&"address"!==N||Z&&!M.updateGeometry||"__none"!==J.value&&"__none"!==R.value))return G.reject({message:A["default"].appendDataDlg.noLocationFields}),G;M.fieldMappings?(this._setReadOnlyAttr(!0,A["default"].appendDataDlg.applyProgress),w["default"].request({url:F,content:M},{usePost:!0}).then(this.checkStatus.bind(this),function(T){G.reject(T)}).then(function(T){G.resolve(T)})):
G.reject({message:A["default"].appendDataDlg.noMatchingFields});return G};y.prototype.checkStatus=function(F,G,H){var I=this,N=null===F||void 0===F?void 0:F.statusUrl,M=H||new m["default"],J=G||500;w["default"].request({url:N}).then(function(R){var Z,T;R=R||{status:"completed"};"completed"===(null===(Z=R.status)||void 0===Z?void 0:Z.toLowerCase())?M.resolve(!0):"failed"===(null===(T=R.status)||void 0===T?void 0:T.toLowerCase())||400<R.code||""===R.status?I.showError(R):(J=(J||500)+250,setTimeout(function(){I.checkStatus(F,
J,M)},G))},function(R){I.showError(R)});return M};y.prototype.deleteItem=function(){var F=this,G,H=new m["default"],I=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.uploadedItem?I.deleteItems([this.uploadedItem]).then(function(){F.uploadedItem=null;H.resolve(!0)},function(){F.uploadedItem=null;H.resolve(!0)}):H.resolve(!0);return H};y.prototype.deleteExistingTempItem=function(F){var G,H=new m["default"],I=null===(G=this.item)||void 0===G?void 0:G.itemOwner;this.portal.queryItems("title:"+
F).then(function(N){var M;(null===(M=null===N||void 0===N?void 0:N.items)||void 0===M?0:M.length)?I.deleteItems([N.items.shift()]).then(function(){H.resolve(!0)},function(){H.resolve(!0)}):H.resolve(!1)});return H};y.prototype.showError=function(F){var G=this,H=n.__assign(n.__assign({},A["default"].publishWizard.errors.error),F);F=F&&(F.statusMessage||F.message||"");-1<F.indexOf("Invalid Shapefile")?H.message=v["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidShapefile.message):
-1<F.indexOf("Invalid File Geodatabase")?H.message=v["default"].substitute({name:this.origFilename},this.i18n.addItemFrm.errors.invalidFileGeodatabase.message):-1<F.indexOf("Object reference not set to")?H.message=v["default"].substitute({name:this.origFilename},this.i18n.appendDataDlg.error):-1<F.indexOf("Duplicate field names are not allowed")?H.message=this.i18n.common.errors.duplicateFields:-1<F.indexOf("Must specify data to be analyzed")&&(H.message=this.i18n.appendDataDlg.specifyData);this.errorDlg=
new r["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this.errorDlg.show(H).then(function(){G.set("readOnly",!1);G.errorDlg.hide()});return!1};return y=n.__decorate([E["default"](a["default"],e["default"])],y)}()})},"arcgisonline/sharing/dijit/AppendData/FieldTableRow":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/formatters ./_canMatchFields ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/topic dojo/Deferred dojo/promise/all dojo/text!./templates/_table-row.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);return function(){function d(e,a){this.i18n=l["default"];this.noneField={value:"__none",name:l["default"].appendDataDlg.none}}d.prototype.postMixInProperties=function(){var e=this;this.inherited(arguments);
Object.keys(p["default"]).forEach(function(a){e[a]=p["default"][a]});this.portal=this.portal||(null===q["default"]||void 0===q["default"]?void 0:q["default"].self)||{};this.portalUser=this.portalUser||this.user||this.portal.portalUser||{};this.templateString=this.template||r["default"];this.displayName=this.field.displayName||this.field.name};d.prototype.postCreate=function(){var e=this,a;this.inherited(arguments);null===(a=this.cssClasses)||void 0===a?void 0:a.forEach(function(b){e.domNode.classList.add(b)})};
d.prototype.startup=function(){this.inherited(arguments);this.render().then(this.addEventListeners.bind(this)).then(function(){})};d.prototype.setValue=function(e){e=(null===e||void 0===e?void 0:e.matchField)||e||{name:l["default"].appendDataDlg.none,value:"__none"};this.matchFields.value=e.value;this.field.matchField=e;this.matchFieldValue.innerHTML=e.displayName||e.name;this.matchFieldValue.dataset.value=e.value||e.name;this.matchFieldValue.dataset.type=e.type};d.prototype.render=function(){var e=
this,a=new C["default"];z["default"]([this.createMatchFieldOptions()]).then(function(){var b,c=(null===(b=e.field)||void 0===b?void 0:b.matchField)||e.field;b=c?e.findField(c,e.dataLayerFields):null;e.setValue(b);a.resolve(!0)});return a};d.prototype.addEventListeners=function(){var e=this,a=new C["default"];this.own(u["default"](this.matchFields,"blur",function(b){e.field.value=e.editEnd({evt:b})}),u["default"](this.matchFieldsContainer,"click",function(b){e.editStart({evt:b})}),w["default"].subscribe("appendData/fieldChanged",
function(b){var c,m;"__none"!==b.value&&(null===(m=null===(c=e.field)||void 0===c?void 0:c.matchField)||void 0===m?void 0:m.name)===b.name&&e.setValue()}));a.resolve();return a};d.prototype.editStart=function(e){e=e.evt.target;var a=e.parentElement.querySelector("select"),b=e.dataset.value;b&&"SPAN"===(null===e||void 0===e?void 0:e.tagName)&&(e.classList.add("hide"),a.classList.remove("hide"),a.value=b,a.focus())};d.prototype.editEnd=function(e){e=e.evt.target;var a=e.parentElement.querySelector("span"),
b=e.options[e.selectedIndex].dataset.value,c=this.findField({type:e.options[e.selectedIndex].dataset.type,name:b},this.dataLayerFields);w["default"].publish("appendData/fieldChanged",c);this.setValue(c);e.classList.add("hide");a.classList.remove("hide");return b};d.prototype.findField=function(e,a){var b=this,c=(a||[]).filter(function(m){return e.name.toLowerCase()===m.name.toLowerCase()&&(m.type===e.type||b.findAddressField(m.displayName||m.name))});return(null===c||void 0===c?0:c.length)?c.shift():
this.noneField};d.prototype.findAddressField=function(e){var a=this.addressFields||{},b=Object.keys(a).filter(function(c){return a[c]===e});return(null===b||void 0===b?0:b.length)?b.shift():null};d.prototype.createMatchFieldOptions=function(){var e=this,a=new C["default"];(this.dataLayerFields||[]).forEach(function(b){if("__none"===b.value||h["default"](e.field,b)){var c=document.createElement("option");c.dataset.value=b.value||b.name;c.dataset.type=b.type||null;c.value=b.value||b.name;c.innerHTML=
b.displayName||b.name;e.matchFields.add(c)}});a.resolve(!0);return a};return d=n.__decorate([f["default"](g["default"],k["default"])],d)}()})},"arcgisonline/sharing/dijit/AppendData/_canMatchFields":function(){define(["require","exports"],function(O,K){Object.defineProperty(K,"__esModule",{value:!0});K["default"]=function(n,q){var p,h=(null===n||void 0===n?void 0:n.type)||null,f=(null===q||void 0===q?void 0:q.type)||null,g={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger",
"esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:"esriFieldTypeString esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeDate esriFieldTypeGUID".split(" "),esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID",
"esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"]};return f&&(f===h||-1<(null===(p=g[h])||void 0===p?void 0:p.indexOf(f)))}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceLayer.html dojo/text!../../../img/Archive_no-text.svg dojo/text!../../../img/Replace_no-text.svg dojo/i18n!../../../nls/arcgisonline dojo/string dojo/dom-attr dojo/dom-construct dojo/query arcgisonline/pages/dijit/Overlay ../../utils/dom ../../utils/icons ../../serviceUtil arcgis-components/wrappers/ItemBrowser ../../portal/Portal esri/request arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig arcgisonline/map/core/sameSpatialReference arcgisonline/map/core/sameTilingScheme arcgisonline/map/layer/getServiceInfo ../../portal/PortalItem ../../../sharing/util ../../utils/alerts dojo/Deferred".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);return function(){function E(y,F){this.title=f["default"].replaceLayer.replaceLayer;this.i18n=f["default"];this.icons=r["default"];this.overlayContents=g["default"].substitute(q["default"],{i18n:this.i18n,icons:this.icons});this._showPreviewStylesTab=!0;this._replaceItemInformation=!1;this.isVectorTile=!0;this._currentStep=1;this.cacheTypeKeywords=""}E.prototype.postCreate=function(){var y=this,F;this.inherited(arguments);
this.type=this.item.type;this.isTile=this.item.types.includes("is-tile");this.isVectorTile=this.item.types.includes("is-vectorTile");(this.isCacheContent=this.item.typeKeywords.includes("ExtractedCache"))&&(this.isTile||this.isVectorTile)&&(this.cacheTypeKeywords=' AND typekeywords:("ExtractedCache" AND "Tiled" AND "'+(this.isTile?"Map Service":"Vector Tile Service")+'")');this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:f["default"].replaceLayer.selectReplacementLayer,
mainActionTitle:f["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent","myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(y.isCacheContent?"-":"")+'typekeywords:"Hosted Service"'+y.cacheTypeKeywords+" NOT id:"+y.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",
order:"desc"}}};this.telemetry=null===(F=this.page)||void 0===F?void 0:F.telemetry;this._stepperNextButton=this.domNode.querySelector(".js-stepper-next-btn");this._overlayHelpButton=this.domNode.querySelector(".overlay-help");this._stepperLinks=this.domNode.querySelectorAll(".js-step-link");this._selectLayerButton=this.domNode.querySelector(".js-replace-layer-select");this._changeLayerButton=this.domNode.querySelector(".js-replace-lyr-change-lyr");this._archiveInputContainer=this.domNode.querySelector(".js-replace-lyr-edit-container");
this._currentArchiveName=this.domNode.querySelector(".js-replace-lyr-current-arch-name");this._archiveInputName=this.domNode.querySelector(".js-replace-lyr-edit-name");this._archiveInputSave=this.domNode.querySelector(".js-replace-lyr-edit-save");this._archiveInputEdit=this.domNode.querySelector(".js-replace-lyr-current-arch-btn");this._nameInputError=this.domNode.querySelector(".js-replace-name-input-error");this._nameAvailableError=this.domNode.querySelector(".js-replace-name-available-error");
this._itemInformationSwitch=this.domNode.querySelector(".js-replace-lyr-replace-item-switch");this._changeLayerSummaryButton=this.domNode.querySelector(".js-replace-lyr-change-lyr-summary");this._changeLayerOptionButton=this.domNode.querySelector(".js-replace-lyr-change-option");this._availabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice");this._closeAvailabilityNotice=this.domNode.querySelector(".js-replace-lyr-availabilty-notice-close");this._radioOptions=w["default"]("input[name\x3djs-replace-lyr-archive-option-radio]",
this.domNode);this._archiveSvg=this.domNode.querySelector(".js-archive_svg");this._replaceSvg=this.domNode.querySelector(".js-replace_svg");this._shownPreviewStylesContent=this.domNode.querySelectorAll(".js-replace-lyr-show-preview-step");this._selectedLayerTitle=this.domNode.querySelectorAll(".js-replace-lyr-selected-lyr-name");this._selectedLayerOwner=this.domNode.querySelectorAll(".js-replace-lyr-selected-owner");this._selectedLayerIcon=this.domNode.querySelectorAll(".js-replace-lyr-selected-icon");
this._selectedLayerType=this.domNode.querySelectorAll(".js-replace-lyr-selected-type");this._currentLayerTitle=this.domNode.querySelector(".js-replace-lyr-current-lyr-name");this._currentLayerOwner=this.domNode.querySelector(".js-replace-lyr-current-owner");this._currentLayerIcon=this.domNode.querySelector(".js-replace-lyr-current-icon");this._currentLayerType=this.domNode.querySelector(".js-replace-lyr-current-type");this._preSelectContainer=this.domNode.querySelector(".pre-select");this._postSelectContainer=
this.domNode.querySelector(".post-select");this._checkStyles=this.domNode.querySelector(".js-replace-lyr-check-styles");this._checkStylesSuccess=this.domNode.querySelector(".js-replace-lyr-check-styles-success");this._checkStylesWarnings=this.domNode.querySelectorAll(".js-replace-lyr-check-styles-warning");this._selectedLayerContainer=this.domNode.querySelector(".js-replace-lyr-selected-layer");this._replaceLayerErrorMessage=this.domNode.querySelector(".js-replace-lyr-error");this._replaceLayerPreviewContainer=
this.domNode.querySelector(".js-replace-lyr-preview-container");this._styleDropdown=this.domNode.querySelector(".js-replace-lyr-style-layer-dropdown");this._replaceSingleStyle=this.domNode.querySelector(".js-replace-lyr-single-style");this._replaceMultipleStyles=this.domNode.querySelector(".js-replace-lyr-multiple-styles");this._replaceSingleStyleLabel=this.domNode.querySelector(".js-replace-lyr-style-layer");this._archiveOptionLayerName=this.domNode.querySelector(".js-replace-lyr-new-layer-name");
this._replaceItemInformationLabel=this.domNode.querySelector(".js-replace-lyr-replace-item-information");this._replaceOptionArchiveLabel=this.domNode.querySelector(".js-replace-lyr-archive-option");this._replaceOptionReplacementLabel=this.domNode.querySelector(".js-replace-lyr-replace-option")};E.prototype.addListeners=function(){var y=this;this._stepperNextButton.addEventListener("click",this.handlePrimary.bind(this),!1);this._overlayHelpButton.addEventListener("click",this.handleHelp.bind(this),
!1);for(var F=0;F<this._stepperLinks.length;F++)this._stepperLinks[F].addEventListener("click",this.onStepClick.bind(this));this._radioOptions.on("change",this.onOptionSelect.bind(this));this._selectLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._changeLayerButton.addEventListener("click",this.openItemBrowser.bind(this));this._archiveInputName.addEventListener("input",this.handleArchiveInput.bind(this));this._archiveInputSave.addEventListener("click",this.handleArchiveSave.bind(this));
this._archiveInputEdit.addEventListener("click",this.handleArchiveEdit.bind(this));this._itemInformationSwitch.addEventListener("click",this.handleReplaceItemInformationSwitch.bind(this));this._changeLayerSummaryButton.addEventListener("click",this.handleChangeLayerSummaryClick.bind(this));this._changeLayerOptionButton.addEventListener("click",this.handleChangeOptionSummaryClick.bind(this));this._closeAvailabilityNotice.addEventListener("click",this.handleCloseNotice.bind(this));this._styleDropdown.addEventListener("change",
this.handleLayerDropdownChange.bind(this));this._overlay.addEventListener("transitionend",function(G){"transform"===G.propertyName&&y._selectLayerButton.focus()})};E.prototype.open=function(){this.domNode.classList.add("overlay-stepper");u["default"].place(this.domNode.querySelector(".js-stepper-headers"),this._overlayContentWrapper,"before");u["default"].place(this.domNode.querySelector(".js-step-bars"),this.domNode.querySelector(".js-stepper-headers"),"after");document.body.classList.add("stepper--open");
this.initUI();this.inherited(arguments)};E.prototype.close=function(){this.inherited(arguments);this._itemBrowserContainer&&this._itemBrowserContainer.parentNode.removeChild(this._itemBrowserContainer);document.body.classList.remove("stepper--open")};E.prototype.initUI=function(){for(var y=this,F,G,H=1;4>=H;H++)this["_step"+H]=this.domNode.querySelector(".js-step-"+H),this["_stepHeader"+H]=this.domNode.querySelector(".js-step-header-"+H),this["_stepBar"+H]=this.domNode.querySelector(".js-step-"+H+
"-bar");this._selectedOption=this.getSelectedOption();this._archiveName=this.generateArchiveName();this._currentArchiveName.textContent=this._archiveName;this._archiveInputName.value=this._archiveName;this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);this._archiveSvg&&(this._archiveSvg.innerHTML=g["default"].substitute(p["default"],{i18n:f["default"]}));this._replaceSvg&&(this._replaceSvg.innerHTML=g["default"].substitute(h["default"],{i18n:f["default"]}));z["default"].showNode(this._overlayHelpButton);
c["default"].self.isPortal||z["default"].showNode(this._availabilityNotice);this._relatedStyles=this.item.relatedItems.Service2Style_forward;if(!(0<(null===(F=this._relatedStyles)||void 0===F?void 0:F.length)))this._showPreviewStylesTab=!1,z["default"].hideNodes(this._shownPreviewStylesContent);else if(null===(G=this._relatedStyles)||void 0===G?0:G[0])this._selectedBaseStyle=this._relatedStyles[0],l["default"].checkForResources(this._selectedBaseStyle).then(function(I){y._selectedBaseStyle.hasResources=
I});this.item.serviceInfo||v["default"](this.item.url,null,function(I){y.item.serviceInfo=I});this.createItemBrowser();this.addListeners();this.goToStep(1)};E.prototype.generateArchiveName=function(){function y(M){return 2>String(M).length?"0"+M:M}var F=new Date,G=F.getFullYear(),H=y(F.getMonth()+1),I=y(F.getDate()),N=y(F.getHours());F=y(F.getMinutes());return this.item.title+"_"+(G+"_"+H+"_"+I+"_"+N+"_"+F)};E.prototype.replaceSpacesWithUnderscore=function(y){return y.replace(/\s/g,"_")};E.prototype.createItemBrowser=
function(){var y=this;this._itemBrowserContainer||(this._itemBrowserContainer=document.createElement("div"),z["default"].hideNode(this._itemBrowserContainer),document.body.appendChild(this._itemBrowserContainer),this.portal=new e["default"](c["default"].restBaseUrl),this.portal.signIn().then(function(){y._itemBrowser=new d.ItemBrowserWrapper(y._itemBrowserContainer,{apiVersion:3,portal:y.portal,request:a["default"],initialState:y._itemBrowserConfig})}))};E.prototype.openItemBrowser=function(){var y=
this;this._itemBrowserContainer.querySelector(".mod__overlay-container").addEventListener("animationend",function(){y._itemBrowserContainer.querySelector(".mod__overlay__close").focus({preventScroll:!0})});z["default"].isHidden(this._itemBrowserContainer)?z["default"].showNode(this._itemBrowserContainer):this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.remove("hide")};E.prototype.handleSelectItem=function(y){this._selectedReplacementItem=new A["default"](n.__assign(n.__assign({},
y[0]),{portal:this.portal}));this.initiateCompatibilityCheck();this.closeItemBrowser();for(y=0;y<this._selectedLayerTitle.length;y++)this._selectedLayerTitle[y].innerHTML=this._selectedReplacementItem.title,this._selectedLayerOwner[y].innerHTML=this._selectedReplacementItem.owner,this._selectedLayerOwner[y].href=c["default"].baseUrl+"user.html?user\x3d"+this._selectedReplacementItem.owner,this._selectedLayerIcon[y].src=this._selectedReplacementItem.iconUrl,this._selectedLayerType[y].innerHTML=this.getItemDisplayName(this._selectedReplacementItem)};
E.prototype.initiateCompatibilityCheck=function(){var y=this;this._primaryBtn.disabled=!0;this._preSelectContainer.classList.add("hide");this._postSelectContainer.classList.remove("hide");this._selectedLayerContainer.classList.remove("stepper__content-pane-error");this._replaceLayerErrorMessage.classList.remove("is-active");z["default"].hideNode(this._checkStylesSuccess);z["default"].hideNodes(this._checkStylesWarnings);z["default"].showNode(this._checkStyles);this.item.canUpdate?this.checkLayerCompatibility().then(function(){y.checkForCompatibleStyles(y._selectedReplacementItem)},
function(F){y.handleLayerSelectionError(F)}):(this._selectedLayerContainer.classList.add("stepper__content-pane-error"),this._replaceLayerErrorMessage.innerHTML=f["default"].replaceLayer.error,z["default"].activateNode(this._replaceLayerErrorMessage),z["default"].hideNode(this._checkStylesSuccess),z["default"].hideNode(this._checkStyles))};E.prototype.checkLayerCompatibility=function(){var y=this,F=new D["default"];v["default"](this._selectedReplacementItem.url,null,function(G){-1<y._selectedReplacementItem.url.indexOf("://vectortileservices")?
y._selectedReplacementItem.getRelatedItems(y.isCacheContent?"DataStore2ByRefService":"Service2Service","reverse").then(function(H){var I=f["default"].replaceLayer.error,N=!0,M=m["default"](y.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference),J=y.item.serviceInfo.tileInfo.layerType===G.tileInfo.layerType;0<H.map(function(R){return R.type}).filter(function(R){return"Feature Service"===R}).length?I=f["default"].replaceLayer.tileLayerPackageError:M||J?M?J?N=!1:I=f["default"].replaceLayer.replaceSceneLayer.layerTypeError:
I=f["default"].replaceLayer.differentCoordinateSystem:I=f["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError;N?F.reject(Error(I)):F.resolve()}):y._selectedReplacementItem.getRelatedItems("Service2Service","reverse").then(function(H){var I;y.isTile&&"Feature Service"===(null===(I=H[0])||void 0===I?void 0:I.type)&&F.reject(Error(f["default"].replaceLayer.hostedFeatureLayerError));l["default"].checkForResources(y.item).then(function(N){y.item.hasResources=N});l["default"].checkForResources(y._selectedReplacementItem).then(function(N){y._selectedReplacementItem.hasResources=
N});H=t["default"](y.item.serviceInfo.tileInfo,G.tileInfo);m["default"](y.item.serviceInfo.tileInfo.spatialReference,G.tileInfo.spatialReference)&&H?F.resolve():F.reject(Error(f["default"].replaceLayer.differentSchemeCombined))})},function(G){y.handleLayerSelectionError(G)});return F};E.prototype.checkForCompatibleStyles=function(y){var F=this,G=""+y.url+(this.isVectorTile&&!y.url.includes("://vectortileservices")?"/resources/styles/root.json":"");y=""+this.item.url+(this.isVectorTile&&!this.item.url.includes("://vectortileservices")?
"/resources/styles/root.json":"");B["default"].request({url:y,content:{f:"json"}}).then(function(H){F._baseItemJson=H;B["default"].request({url:G,content:{f:"json"}}).then(function(I){F._replacementItemJson=I}).then(function(){var I=F._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");!F.isVectorTile||F.compareLayers(F._baseItemJson.layers,F._replacementItemJson.layers)?(z["default"].showNode(F._checkStylesSuccess),z["default"].hideNodes(F._checkStylesWarnings),
z["default"].hideNode(F._checkStyles)):(z["default"].hideNode(F._checkStylesSuccess),z["default"].showNodes(F._checkStylesWarnings),z["default"].hideNode(F._checkStyles),I&&F._changeLayerButton.focus());F._primaryBtn.disabled=!1;I&&F._primaryBtn.focus()})["catch"](function(I){F.handleLayerSelectionError(I)})})};E.prototype.isWebMercator=function(y){return 0<=[102113,102100,3857,3785].indexOf(y)};E.prototype.handleLayerSelectionError=function(y){var F;this._selectedLayerContainer.classList.add("stepper__content-pane-error");
this._replaceLayerErrorMessage.innerHTML=0<(null===(F=y.message)||void 0===F?void 0:F.length)?y.message:"Error";z["default"].activateNode(this._replaceLayerErrorMessage);z["default"].hideNode(this._checkStylesSuccess);z["default"].hideNode(this._checkStyles);this._changeLayerButton.focus()};E.prototype.compareLayers=function(y,F){var G=this,H=y.map(function(N){return G.isVectorTile?N.id:N.name}).sort(),I=F.map(function(N){return G.isVectorTile?N.id:N.name}).sort();return H.every(function(N){return 0<=
I.indexOf(N)})||I.every(function(N){return 0<=H.indexOf(N)})};E.prototype.closeItemBrowser=function(){this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.add("hide");z["default"].isHidden(this._postSelectContainer)?this._selectLayerButton.focus():this._changeLayerButton.focus()};E.prototype.goToStep=function(y){var F=this;z["default"].hideNode(this["_step"+this._currentStep]);this["_stepBar"+this._currentStep]&&z["default"].hideNode(this["_stepBar"+this._currentStep]);
this._currentStep=y;for(var G=y-1;1<=G;G--)this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_stepHeader"+G].classList.add("stepper__step-item--past"),this["_step"+G].parentNode.classList.add("stepper__content--past-step");for(G=y+1;4>=G;G++)this["_stepHeader"+G].classList.remove("stepper__step-item--past"),this["_stepHeader"+G].classList.remove("stepper__step-item--active"),this["_step"+G].parentNode.classList.remove("stepper__content--past-step");z["default"].showNode(this["_step"+
this._currentStep]);(y=this.domNode.querySelector(".stepper__content--active-step"))&&y.classList.remove("stepper__content--active-step");this["_step"+this._currentStep].parentNode.classList.remove("stepper__content--past-step");this["_step"+this._currentStep].parentNode.classList.add("stepper__content--active-step");this["_stepHeader"+this._currentStep].classList.remove("stepper__step-item--past");this["_stepHeader"+this._currentStep].classList.add("stepper__step-item--active");this["_stepBar"+this._currentStep]?
(z["default"].showNode(this["_stepBar"+this._currentStep]),this.domNode.classList.add("has-step-bar")):this.domNode.classList.remove("has-step-bar");z["default"].hideNode(this.domNode.querySelector(".js-compile-error-icon"));this.setPrimaryBtnText(f["default"].organizationInvite.step1Create.nextBtn);switch(this._currentStep){case 1:this._primaryBtn.disabled=!this._selectedReplacementItem;break;case 2:this.checkServiceNameAvailable(this._archiveName).then(function(H){H.available||(F.handleArchiveNameValidationError("unavailable"),
F.handleArchiveEdit())});this.alignSvgLabels();break;case 3:this.populateRelatedStyles();this._replaceLayerPreviewContainer.src=this.composePreviewPath();break;case 4:this.populateSummary(),this.setPrimaryBtnText(f["default"].replaceLayer.replace)}};E.prototype.populateRelatedStyles=function(){var y=this;if(0!==this._relatedStyles.length)if(1<this._relatedStyles.length){for(;0<this._styleDropdown.options.length;)this._styleDropdown.remove(0);this._relatedStyles.forEach(function(F){F.option=new Option(F.title);
y._styleDropdown.add(F.option);l["default"].checkForResources(F).then(function(G){return F.hasResources=G})});z["default"].hideNode(this._replaceSingleStyle);z["default"].showNode(this._replaceMultipleStyles)}else this._replaceSingleStyleLabel.textContent=this._relatedStyles[0].title,z["default"].showNode(this._replaceSingleStyle),z["default"].hideNode(this._replaceMultipleStyles)};E.prototype.alignSvgLabels=function(){var y,F,G;null===(y=this.domNode.querySelector(".archive-lyr-current-layer-svg"))||
void 0===y?void 0:y.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(F=this.domNode.querySelector(".archive-lyr-archive-svg"))||void 0===F?void 0:F.setAttribute("text-anchor","rtl"===document.dir?"end":"start");null===(G=this.domNode.querySelector(".replace-lyr-current-layer-svg"))||void 0===G?void 0:G.setAttribute("text-anchor","rtl"===document.dir?"end":"start")};E.prototype.onStepClick=function(y){y=+k["default"].get(y.target,"data-step-num");y<this._currentStep&&this.goToStep(y)};
E.prototype.onOptionSelect=function(){var y=this.getSelectedOptionContainer();this._selectedOption=this.getSelectedOption();for(var F=this.domNode.querySelectorAll(".stepper__radio-item"),G=0;G<F.length;G++)F[G].classList.remove("stepper__radio-item--selected");y.classList.add("stepper__radio-item--selected")};E.prototype.getSelectedOption=function(){var y;this._radioOptions.some(function(F){F.checked&&(y=F.value);return F.checked});return y};E.prototype.getSelectedOptionContainer=function(){var y=
this._radioOptions.filter(function(F){return F.checked})[0];return y?y.parentNode.parentNode:null};E.prototype.handleArchiveEdit=function(){this._primaryBtn.disabled=!0;z["default"].showNode(this._archiveInputContainer);z["default"].hideNode(this._archiveInputEdit);this._archiveInputName.focus()};E.prototype.handleArchiveInput=function(y){z["default"].deactivateNode(this._nameInputError);z["default"].deactivateNode(this._nameAvailableError);var F=/[.@#%&*+=\-\\';,\/|\\":<>\?]/g.test(y.target.value);
0===y.target.value.length||F?this.handleArchiveNameValidationError(F?"invalid":void 0):this._archiveInputSave.disabled=!1};E.prototype.handleArchiveSave=function(){var y=this,F=this._archiveInputName.value;this.checkServiceNameAvailable(this.replaceSpacesWithUnderscore(F)).then(function(G){G.available?y.saveArchiveName(F):y.handleArchiveNameValidationError("unavailable")})};E.prototype.saveArchiveName=function(y){this._archiveName=y;this._currentArchiveName.textContent=y;z["default"].hideNode(this._archiveInputContainer);
z["default"].showNode(this._archiveInputEdit);this._primaryBtn.disabled=!1};E.prototype.checkServiceNameAvailable=function(y){return B["default"].request({url:c["default"].portal.portalUrl+"portals/"+(c["default"].self&&c["default"].self.user&&(c["default"].self.user.accountId||c["default"].self.user.orgId))+"/isServiceNameAvailable",content:{name:y,type:"Vector Tile Service",f:"json"}})};E.prototype.composePreviewPath=function(){var y=(this._selectedBaseStyle.hasResources?this._selectedBaseStyle.itemUrl:
this._selectedBaseStyle.url)+"/resources/styles/root.json";return c["default"].vectorTileStylePreview+"?vtStyle\x3d"+(this._selectedBaseStyle.viewStyleUrl?this._selectedBaseStyle.viewStyleUrl:y)+"\x26vtLayer\x3d"+(this._selectedReplacementItem.viewUrl?this._selectedReplacementItem.viewUrl:this._selectedReplacementItem.url)+(this.isWebMercator(Number(this.item.serviceInfo.tileInfo.spatialReference.wkid))?"\x26basemap\x3dstreets-vector":"")};E.prototype.handleArchiveNameValidationError=function(y){this._archiveInputSave.disabled=
!0;switch(y){case "invalid":z["default"].activateNode(this._nameInputError);break;case "unavailable":z["default"].activateNode(this._nameAvailableError)}};E.prototype.handleReplaceItemInformationSwitch=function(){this._replaceItemInformation=this._itemInformationSwitch.checked};E.prototype.handleChangeLayerSummaryClick=function(){this.goToStep(1)};E.prototype.handleChangeOptionSummaryClick=function(){this.goToStep(2)};E.prototype.handleLayerDropdownChange=function(){this._selectedBaseStyle=this._relatedStyles.filter(function(y){return y.option.selected})[0];
this._replaceLayerPreviewContainer.src=this.composePreviewPath()};E.prototype.handlePrimary=function(y){var F=this;y.stopPropagation();y.preventDefault();2!==this._currentStep||this._showPreviewStylesTab?4<=this._currentStep?(this.close(),this.replaceLayer().then(function(){var G;null===(G=F.telemetry)||void 0===G?void 0:G.logEvent({category:"archive option",label:"archive"===F._selectedOption?"new layer":"swap"});x["default"].showAlert("success",g["default"].substitute(f["default"].replaceLayer.layerReplaceSuccess,
{srcTitle:"\x3cb\x3e"+F.item.title+"\x3c/b\x3e"}));setTimeout(function(){window.location.reload()},4E3)})["catch"](function(G){x["default"].showAlert("error",G)})):this.goToStep(this._currentStep+1):this.goToStep(4)};E.prototype.handleHelp=function(){var y;window.open(""+c["default"].self.helpBase+((null===(y=c["default"].self.helpMap)||void 0===y?void 0:y.m["120001792"])||""))};E.prototype.handleCloseNotice=function(y){z["default"].hideNode(y.target.parentNode)};E.prototype.setPrimaryBtnText=function(y){this._primaryBtn.innerHTML=
y};E.prototype.getItemDisplayName=function(y){return"Vector Tile Service"===y.type?f["default"].items.tileLayer:y.displayName};E.prototype.populateSummary=function(){this._currentLayerTitle.innerHTML=this.item.title;this._currentLayerOwner.innerHTML=this.item.owner;this._currentLayerOwner.href=c["default"].baseUrl+"user.html?user\x3d"+this.item.owner;this._currentLayerIcon.src=this.item.iconUrl;this._currentLayerType.innerHTML=this.getItemDisplayName(this.item);"archive"===this._selectedOption?(this._archiveOptionLayerName.innerHTML=
this.replaceSpacesWithUnderscore(this._archiveName),z["default"].showNode(this._replaceOptionArchiveLabel),z["default"].hideNode(this._replaceOptionReplacementLabel)):(z["default"].showNode(this._replaceOptionReplacementLabel),z["default"].hideNode(this._replaceOptionArchiveLabel));this._replaceItemInformation?z["default"].showNode(this._replaceItemInformationLabel):z["default"].hideNode(this._replaceItemInformationLabel)};E.prototype.replaceLayer=function(){var y="archive"===this._selectedOption?
{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"}:{toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._selectedReplacementItem.title),replaceMetadata:this._replaceItemInformation,f:"json"};return B["default"].request({url:this.portal.portalUrl+
"content/users/"+this.portal.user.username+"/replaceService",content:y},{usePost:!0})};return E=n.__decorate([b["default"](C["default"])],E)}()})},"arcgis-components/wrappers/ItemBrowser":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/_base/kernel ../ItemBrowser/index".split(" "),function(O,K,n,q,p,h){return function(f){function g(u){if(k[u])return k[u].exports;var w=k[u]={i:u,l:!1,exports:{}};return f[u].call(w.exports,w,w.exports,g),w.l=
!0,w.exports}var k={};return g.m=f,g.c=k,g.d=function(u,w,C){g.o(u,w)||Object.defineProperty(u,w,{enumerable:!0,get:C})},g.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},g.t=function(u,w){if((1&w&&(u=g(u)),8&w)||4&w&&"object"==typeof u&&u&&u.__esModule)return u;var C=Object.create(null);if(g.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:u}),2&w&&"string"!=typeof u)for(var z in u)g.d(C,
z,function(r){return u[r]}.bind(null,z));return C},g.n=function(u){var w=u&&u.__esModule?function(){return u["default"]}:function(){return u};return g.d(w,"a",w),w},g.o=function(u,w){return Object.prototype.hasOwnProperty.call(u,w)},g.p="",g(g.s=983)}({0:function(f,g,k){function u(a,b){function c(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");d(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)}function w(a,b){var c={},m;for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&0>b.indexOf(m)&&(c[m]=a[m]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(m=Object.getOwnPropertySymbols(a);t<m.length;t++)0>b.indexOf(m[t])&&Object.prototype.propertyIsEnumerable.call(a,m[t])&&(c[m[t]]=a[m[t]])}return c}function C(a,b,c,m){var t,v=arguments.length,A=3>v?b:null===m?m=Object.getOwnPropertyDescriptor(b,c):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=
Reflect.decorate(a,b,c,m);else for(var B=a.length-1;0<=B;B--)(t=a[B])&&(A=(3>v?t(A):3<v?t(b,c,A):t(b,c))||A);return 3<v&&A&&Object.defineProperty(b,c,A),A}function z(a,b,c,m){return new (c||(c=Promise))(function(t,v){function A(D){try{x(m.next(D))}catch(E){v(E)}}function B(D){try{x(m["throw"](D))}catch(E){v(E)}}function x(D){var E;D.done?t(D.value):(E=D.value,E instanceof c?E:new c(function(y){y(E)})).then(A,B)}x((m=m.apply(a,b||[])).next())})}function r(a,b){function c(x){return function(D){return function(E){if(m)throw new TypeError("Generator is already executing.");
for(;B;)try{if(m=1,t&&(v=2&E[0]?t["return"]:E[0]?t["throw"]||((v=t["return"])&&v.call(t),0):t.next)&&!(v=v.call(t,E[1])).done)return v;switch(t=0,v&&(E=[2&E[0],v.value]),E[0]){case 0:case 1:v=E;break;case 4:return B.label++,{value:E[1],done:!1};case 5:B.label++;t=E[1];E=[0];continue;case 7:E=B.ops.pop();B.trys.pop();continue;default:if(!(v=B.trys,(v=0<v.length&&v[v.length-1])||6!==E[0]&&2!==E[0])){B=0;continue}if(3===E[0]&&(!v||E[1]>v[0]&&E[1]<v[3]))B.label=E[1];else if(6===E[0]&&B.label<v[1])B.label=
v[1],v=E;else if(v&&B.label<v[2])B.label=v[2],B.ops.push(E);else{v[2]&&B.ops.pop();B.trys.pop();continue}}E=b.call(a,B)}catch(y){E=[6,y],t=0}finally{m=v=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([x,D])}}var m,t,v,A,B={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return A={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A}function l(a,b){for(var c=0,m=b.length,t=a.length;c<m;c++,t++)a[t]=
b[c];return a}k.d(g,"d",function(){return u});k.d(g,"a",function(){return e});k.d(g,"f",function(){return w});k.d(g,"c",function(){return C});k.d(g,"b",function(){return z});k.d(g,"e",function(){return r});k.d(g,"g",function(){return l});var d=function(a,b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&(c[t]=m[t])})(a,b)},e=function(){return(e=Object.assign||function(a){for(var b,
c=1,m=arguments.length;c<m;c++)for(var t in b=arguments[c])Object.prototype.hasOwnProperty.call(b,t)&&(a[t]=b[t]);return a}).apply(this,arguments)};Object.create;Object.create},100:function(f,g,k){k.d(g,"g",function(){return C});k.d(g,"k",function(){return z});k.d(g,"j",function(){return r});k.d(g,"h",function(){return l});k.d(g,"i",function(){return d});k.d(g,"c",function(){return e});k.d(g,"b",function(){return a});k.d(g,"f",function(){return b});k.d(g,"e",function(){return c});k.d(g,"d",function(){return m});
k.d(g,"a",function(){return t});k.d(g,"r",function(){return v});k.d(g,"n",function(){return A});k.d(g,"s",function(){return B});k.d(g,"o",function(){return x});k.d(g,"q",function(){return D});k.d(g,"p",function(){return E});k.d(g,"l",function(){return y});k.d(g,"m",function(){return F});var u=k(78),w=k(48),C="SELECT_ITEM",z="TOGGLE_ITEM",r="SELECT_ITEM_SINGLE",l="SELECT_ITEM_ASYNC",d="SELECT_ITEM_ASYNC_FAILED",e="DESELECT_ITEM",a="DESELECT_ALL",b="SELECT_ALL",c="SELECT_ALL_FROM_QUERY_SUCCESS",m="END_BULK_WORKFLOW",
t="CANCEL_BULK_WORKFLOW",v=function(G){return function(H,I){var N=I();if(N.settings.config.asynchronousItemSelect){H({type:l,payload:G});var M=N.settings.config.onSelect([Object(u.b)(G)]);(null==M?0:M.then)&&M.then(function(){N.settings.config.singleItemSelect?H({type:r,payload:G}):H({type:C,payload:G})},function(){H({type:d,payload:G})})}else N.settings.config.singleItemSelect?(H({type:r,payload:G}),N.settings.config.onSelect([Object(u.b)(G)])):(H({type:C,payload:G}),N.settings.config.onSelect([Object(u.b)(G)]))}},
A=function(G,H){var I=H();if(I.settings.config.disableInitiallySelectedItems){I=I.results;var N=I.selectedItems,M=I.initiallySelectedItems;Object.keys(N).map(function(J){return N[J]}).filter(function(J){return!M[J.id]}).forEach(function(J){G({type:e,payload:J})})}else G({type:a})},B=function(G){return{type:z,payload:G}},x=function(G){return function(H,I){var N=I();H({type:e,payload:G});N.settings.config.onDeselect([Object(u.b)(G)])}},D=function(){return function(G,H){var I=H();G({type:b,payload:I.ui.pagination.displayItems})}},
E=function(G){return{type:c,payload:G}},y=function(G,H){var I=null==H?void 0:H();G({type:t});null==I||I.settings.config.onBack()},F=function(G,H){var I=null==H?void 0:H();if(null==I?0:I.settings.config.onBulkAction){var N=I.settings.config.onBulkAction;I=I.results;var M=I.selectedItems,J=I.initiallySelectedItems;I=Object.keys(J).map(function(X){return J[X]});var R=Object.keys(M).map(function(X){return M[X]}),Z=I.filter(function(X){return!M[X.id]}),T=R.filter(function(X){return!J[X.id]});G({type:w.a});
G({type:m,payload:T});N({initiallySelectedItems:I,allSelectedItems:R,newlySelectedItems:T,deselectedItems:Z})}}},101:function(f,g,k){k.d(g,"a",function(){return w});k.d(g,"b",function(){return C});var u=k(0),w=function(z){return z?z.urlKey?location.protocol+"//"+z.urlKey+"."+z.customBaseUrl:location.protocol+"//"+z.portalHostname:""},C=function(z){return Object(u.a)(Object(u.a)({},z),{baseUrl:w(z)})}},117:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,
z){var r=Object(u.a),l=Object(u.a)({},z),d=z.type,e=z.typeKeywords?z.typeKeywords:[],a=null==d?void 0:d.toLowerCase(),b=!1,c=!1,m=d=!1;if("ogcfeatureserver"===a)e="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||"wfs"===a){var t=-1<e.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(m=-1<e.indexOf("Table"),b=-1<e.indexOf("Route Layer"),c=-1<e.indexOf("Markup"),e=(d=-1!==e.indexOf("Spatiotemporal"))&&
m?"spatiotemporaltable":m?"table":b?"routelayer":c?"markup":d?"spatiotemporal":t?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?e=t||-1<e.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?e=-1<e.indexOf("Line")?"sceneweblayerline":-1<e.indexOf("3DObject")?"sceneweblayermultipatch":-1<e.indexOf("Point")?"sceneweblayerpoint":-1<e.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<e.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<e.indexOf("Polygon")?"sceneweblayerpolygon":
-1<e.indexOf("Building")?"sceneweblayerbuilding":-1<e.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(d=-1<e.indexOf("Elevation 3D Layer"),e=-1<e.indexOf("Tiled Imagery"),e=d?"elevationlayer":e?"tiledimagerylayer":"imagery"):e="stream service"===a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<e.indexOf("Web Tool")?"tool":"layers"}else e="web map"===
a||"cityengine web scene"===a?"maps":"web scene"===a?-1<e.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==e?void 0:e.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||
"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<e.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<e.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===
a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<e.indexOf("Explorer Mapping Application")||-1<e.indexOf("Document")?
"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":
"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===
a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return r(l,{iconURI:C+"/"+e+"16.png"})})},120:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z){var r=
Object(u.a),l=Object(u.a)({},z),d,e,a="notebook"!==(null===(d=z.type)||void 0===d?void 0:d.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(e=z.type)||void 0===e?void 0:e.toLowerCase())&&(a="notebook-code-snippet-thumb.png");e=C.baseUrl+"/home/js/arcgisonline/css/images/"+a;d=(z.thumbnail&&(e=C.restUrl+"/content/items/"+z.id+"/info/"+z.thumbnail+(C.credential?"?token\x3d"+C.credential.token:"")),e);return r(l,{thumbURI:d})})},121:function(f,g,k){k.d(g,"a",
function(){return C});var u=k(0);f=k(15);var w=function(z,r){return r.description?r.description.replace(/src=('|")js\/jsapi\/esri\//g,function(l){return"src\x3d"+('"'===l[4]?'"':"'")+z.baseUrl+"/home/js/jsapi/esri/"}):void 0},C=Object(f.a)(function(z,r){return Object(u.a)(Object(u.a)({},r),{patchedDescription:w(z,r)})})},122:function(f,g,k){k.d(g,"a",function(){return z});var u=k(0),w=k(124);f=k(15);var C=k(58),z=Object(f.a)(function(r,l){var d=Object(u.a),e=Object(u.a)({},l),a,b=l.type,c=l.typeKeywords||
[],m=b,t=(null==r?void 0:r.portalUser)||(null==r?void 0:r.user);if("Feature Service"===b||"Feature Collection"===b){if(m=-1<c.indexOf("Table")?"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",t&&Object(C.d)(l,t)&&-1<(null==c?void 0:c.indexOf("Hosted Service")))c=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",m=m+" ("+(w.a[c]||w.a[c.split("-")[0]]||w.a.en)+")"}else"Image Service"===b?(a=
-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),m=a?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?m="Scene Layer":"Scene Package"===b?m="Scene Layer Package":"Stream Service"===b?m="Feature Layer":"Geocoding Service"===b?m="Locator":"Microsoft Powerpoint"===b?m="Microsoft PowerPoint":"OGCFeatureServer"===b?m="OGC Feature Layer":"GeoJson"===b?m="GeoJSON":"Globe Service"===b?m="Globe Layer":"Vector Tile Service"===b?m="Tile Layer":"netCDF"===b?m="NetCDF":
"Map Service"===b?m=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?m=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?m="Big Data File Share":"Web Mapping Application"===b&&(null==c?0:c.includes("configurableApp"))?m="Instant App":"Data Store"===b&&(c.includes("cloudStore_amazon")||c.includes("cloudStore_azure")?m+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||
c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(m+=" (Big Data File Share)"));return d(e,{displayName:m})})},123:function(f,g,k){k.d(g,"a",function(){return C});var u=k(0);f=k(15);var w=function(z,r){var l=[],d=z.typeKeywords?z.typeKeywords:[];return z.contentStatus&&("org_authoritative"===z.contentStatus||"public_authoritative"===z.contentStatus?l.push("authoritative"):"deprecated"===z.contentStatus&&l.push("deprecated")),z.origin&&l.push("collaboration"),z.groupDesignations&&
-1<z.groupDesignations.indexOf("livingatlas")&&l.push("livingAtlas"),-1<d.indexOf("Requires Credits")?l.push("premium"):-1<d.indexOf("Requires Subscription")&&l.push("subscriber"),-1<d.indexOf("Public Data Collection")&&((null==r?void 0:r.portalUser)||(null==r?void 0:r.user))&&l.push("publicDataCollection"),"Solution"===z.type&&-1<z.typeKeywords.indexOf("ArcGIS Solution")&&l.push("solution"),r.isPortal&&"Web Mapping Application"===z.type&&(-1<z.typeKeywords.indexOf("Story Map")&&l.push("retiredStoryMap"),
function(e){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
c=-1<a.indexOf(".html");return-1<(null===(b=e.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(c?"":"/")))})}(z)&&l.push("retiredApp")),l},C=Object(f.a)(function(z,r){return Object(u.a)(Object(u.a)({},r),{badges:w(r,z)})})},124:function(f,g,k){k.d(g,"a",function(){return u});var u={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},126:function(f,g,k){function u(z){var r=Object(w.b)(z.settings.config.customSections,z.parameters.section);return(null==r?0:r.portal)?Object(C.b)(r.portal):z.settings.utils.portal}k.d(g,"a",function(){return u});var w=k(86),C=k(101)},141:function(f,g,k){k.d(g,"b",function(){return u});k.d(g,"a",function(){return w});var u={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},w="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
148:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z){var r=Object(u.a),l=Object(u.a)({},z);var d=z.thumbnail?C.restUrl+"/community/users/"+z.username+"/info/"+z.thumbnail+(C.credential?"?token\x3d"+C.credential.token:""):void 0;return r(l,{thumbURI:d})})},15:function(f,g,k){function u(C){return function r(){for(var l=this,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return d.length>=C.length?C.call.apply(C,Object(w.g)([this],d)):function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];return r.call.apply(r,Object(w.g)(Object(w.g)([l],d),a))}}}k.d(g,"a",function(){return u});var w=k(0)},150:function(f,g){f.exports=p},16:function(f,g){f.exports=O},162:function(f,g,k){function u(B,x){var D=["",{method:"get",query:x.settings.config.addRequestParameters?Object(z.a)({f:"json",q:Object(l.b)(x),num:B.num?B.num:x.settings.config.resultsPerQuery,sortOrder:x.parameters.sort.order,start:B.start?B.start:1},x.settings.config.addRequestParameters()):
{f:"json",q:Object(l.b)(x),num:B.num?B.num:x.settings.config.resultsPerQuery,sortOrder:x.parameters.sort.order,start:B.start?B.start:1}}];return Object(r.a)(c(x),m(x),t(x),v(x))(D)}function w(B,x){var D=["",{method:"get",query:{f:"json",q:Object(l.a)(B),num:0,countFields:x.join(", "),countSize:200}}];return b(B)(D)}function C(B,x){var D=["",{method:"get",query:{f:"json",q:Object(l.c)(B,x),num:0,countFields:"tags",countSize:200}}];return b(B)(D)}k.d(g,"b",function(){return u});k.d(g,"a",function(){return w});
k.d(g,"c",function(){return C});var z=k(0),r=k(63);f=k(15);var l=k(179),d=k(356),e=k(126),a=k(86),b=function(B){return Object(r.a)(v(B),A(B),t(B))},c=Object(f.a)(function(B,x){var D=x[0],E=x[1],y=B.parameters.sort.field;return"relevance"!==y?[D,Object(z.a)(Object(z.a)({},E),{query:Object(z.a)(Object(z.a)({},E.query),{sortField:y})})]:[D,E]}),m=Object(f.a)(function(B,x){var D=x[0],E=x[1];if(B.parameters.filter.searchMapArea){var y=B.parameters.extent.area;y=y.minx+","+y.miny+","+y.maxx+","+y.maxy;
return[D,Object(z.a)(Object(z.a)({},E),{query:Object(z.a)(Object(z.a)({},E.query),{bbox:y})})]}return[D,E]}),t=Object(f.a)(function(B,x){var D=x[0],E=x[1],y=Object(d.a)(B);return y?[D,Object(z.a)(Object(z.a)({},E),{query:Object(z.a)(Object(z.a)({},E.query),{enriched:y})})]:[D,E]}),v=Object(f.a)(function(B,x){x[0];var D=x[1],E=B.parameters,y=E.section;E=E.filter;var F=Object(e.a)(B),G=F.restUrl+"/search";if("myGroups"===y&&E.group)G=F.restUrl+"/content/groups/"+E.group.id+"/search",E.groupCategories&&
(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([E.groupCategories.value])));else if("livingAtlas"!==y&&"Living Atlas"!==y||!B.results.livingAtlas.groupId)if(!E.orgCategories||"myOrganization"!==y&&"myContent"!==y){if(y=Object(a.b)(B.settings.config.customSections,y))Object(a.d)(y)&&E.orgCategories&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([E.orgCategories.value]))),(y=Object(a.c)(y))&&(G=F.restUrl+"/content/groups/"+y.id+"/search",E.groupCategories&&(G=G+"?categories\x3d"+
encodeURIComponent(JSON.stringify([E.groupCategories.value]))))}else G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([E.orgCategories.value]));else G=F.restUrl+"/content/groups/"+B.results.livingAtlas.groupId+"/search",E.livingAtlasCategories?(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([E.livingAtlasCategories.value])),E.livingAtlasRegion&&(G=G+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([E.livingAtlasRegion.value])))):E.livingAtlasRegion&&(G=G+"?categories\x3d"+encodeURIComponent(JSON.stringify([E.livingAtlasRegion.value])));
return[G,D]}),A=Object(f.a)(function(B,x){var D=x[0],E=x[1],y=B.parameters.section,F=Object(a.b)(B.settings.config.customSections,y);return"myGroups"===y&&B.parameters.filter.group||("livingAtlas"===y||"Living Atlas"===y)&&B.results.livingAtlas.groupId||F&&Object(a.c)(F)?[D,Object(z.a)(Object(z.a)({},E),{query:Object(z.a)(Object(z.a)({},E.query),{countFields:E.query.countFields?E.query.countFields.replace("categories","groupcategories"):void 0})})]:[D,E]})},170:function(f,g){var k=function(){return this}();
try{k=k||(new Function("return this"))()}catch(u){"object"==typeof window&&(k=window)}f.exports=k},173:function(f,g,k){k.d(g,"a",function(){return r});k.d(g,"c",function(){return l});k.d(g,"b",function(){return d});k.d(g,"d",function(){return e});k.d(g,"h",function(){return a});k.d(g,"i",function(){return b});k.d(g,"j",function(){return c});k.d(g,"e",function(){return m});k.d(g,"g",function(){return t});k.d(g,"f",function(){return v});k.d(g,"l",function(){return A});k.d(g,"k",function(){return x});
k.d(g,"m",function(){return D});f=k(65);var u=k.n(f);f=k(56);var w=k.n(f),C=k(30),z=k(48),r="ADD_TO_FAVORITES",l="ADD_TO_FAVORITES_SUCCESS",d="ADD_TO_FAVORITES_FAIL",e="LOADING_USER_INFO",a="UPDATE_GROUP_CATEGORIES",b="UPDATE_USER_INFO",c="UPDATE_USER_INFO_FAILED",m="REMOVE_FROM_FAVORITES",t="REMOVE_FROM_FAVORITES_SUCCESS",v="REMOVE_FROM_FAVORITES_FAIL",A=function(){return function(E,y){var F=y(),G=F.parameters.filter.group,H=F.results.user.groupCategories;if("loaded"===F.results.user.status)return G&&
!H[G.id]?E(B(G.id)):(new w.a).resolve();if("failed"===F.results.user.status)return(new w.a).reject();E({type:e});H=F.settings.utils;F=H.request;H=H.portal;return u()([Object(C.r)(F,H).then(function(I){return I.groups.map(function(N){return{id:N.id,title:N.title}})}),Object(C.s)(F,H).then(function(I){return I.folders.map(function(N){return{id:N.id,title:N.title}})}),Object(C.t)(F,H,H.user.favGroupId).then(function(I){return I.items.reduce(function(N,M){return N[M.id]=!0,N},{})})].concat(G?[E(B(G.id))]:
[])).then(function(I){E({type:b,payload:{groups:I[0],folders:I[1],favorites:I[2]}})},function(I){E({type:c})})}},B=function(E){return function(y,F){var G=F().settings.utils;return Object(C.f)(G.request,G.portal,E).then(function(H){y({type:a,payload:{id:E,categorySchema:H.categorySchema}})})}},x=function(E){return function(y,F){var G=F(),H=G.settings.utils.portal,I=H.restUrl+"/content/items/"+E.id+"/share";H={f:"json",everyone:E.access&&"public"===E.access||E.sharing&&E.sharing.access&&"public"===
E.sharing.access,org:E.access&&"org"===E.access||E.sharing&&E.sharing.access&&"org"===E.sharing.access||!1,groups:[H.user.favGroupId],items:[E.id]};y({type:r,payload:E});G.settings.utils.request(I,{method:"post",query:H}).then(function(N){y({type:l,payload:E})},function(N){y({type:d,payload:E})})}},D=function(E){return function(y,F){var G=F(),H=G.settings.utils.portal,I=H.user.favGroupId,N=H.restUrl+"/content/items/"+E.id+"/unshare",M={f:"json",everyone:!1,org:!1,groups:[I],items:[E.id]};y({type:m,
payload:E});G.settings.utils.request(N,{method:"post",query:M}).then(function(J){function R(){y({type:t,payload:E})}"myFavorites"===(G=F()).parameters.section?function T(){G.settings.utils.request(H.restUrl+"/search",{query:{f:"json",q:"(id:"+E.id+") (group:"+I+")"},method:"get"}).then(function(X){0<X.data.total?setTimeout(function(){T()},250):(R(),y(Object(z.i)()))},function(X){R()})}():R()},function(J){y({type:v,payload:E})})}}},179:function(f,g,k){function u(G){return Object(r.a)(l.b,y(G),F(G),
Object(d.a)(G.parameters.filter.orgGroup),Object(e.a)(G.parameters.filter.status,G.settings.utils.portal.user),E(G),Object(a.a)(G.parameters.filter.shared),Object(b.a)(G.parameters.filter.dateCreated),Object(b.b)(G.parameters.filter.dateModified),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,itemTypeFilter:G.parameters.filter.itemType,specialItemQ:G.settings.config.specialItemQ}),Object(m.b)(G.parameters.filter.tags),Object(t.a)(G.parameters.filter.origins))([G.parameters.searchString.current]).join(" ")}
function w(G){return Object(r.a)(l.b,y(G),E(G),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}))([G.parameters.searchString.current]).join(" ")}function C(G,H){return Object(r.a)(l.b,y(G),E(G),Object(c.a)(B.b,{allowedItemTypes:G.settings.config.allowedItemTypes,specialItemQ:G.settings.config.specialItemQ}),Object(m.a)(H))([G.parameters.searchString.current]).join(" ")}k.d(g,"b",function(){return u});k.d(g,"a",function(){return w});
k.d(g,"c",function(){return C});var z=k(0),r=k(63),l=k(99),d=k(398),e=k(399),a=k(400),b=k(323),c=k(265),m=k(324),t=k(401);f=k(15);var v=k(5),A=k(180),B=k(141),x=k(126),D=k(86),E=Object(f.a)(function(G,H){var I=G.parameters.filter,N=G.settings.config,M=Object(x.a)(G);switch(G.parameters.section){case "myContent":return M.user?M.user&&I.folder?Object(z.g)(Object(z.g)([],H),['(owner:"'+M.user.username+'") (ownerfolder:'+I.folder.id+")"]):Object(z.g)(Object(z.g)([],H),['(owner:"'+M.user.username+'")']):
H;case "myFavorites":return M.user?Object(z.g)(Object(z.g)([],H),["(group:"+M.user.favGroupId+")"]):H;case "myGroups":if(G.results.user.groups){if(G.parameters.filter.group)return Object(z.g)(Object(z.g)([],H),["(group:"+G.parameters.filter.group.id+")"]);I=G.results.user.groups.map(function(J){return J.id});return Object(z.g)(Object(z.g)([],H),["(group:"+I.join(" OR group:")+")"])}return H;case "myOrganization":return Object(z.g)(Object(z.g)([],H),["(orgid:"+M.id+")"]);case "subscription":return Object(z.g)(Object(z.g)([],
H),["("+G.results.provisionedContent.content.map(function(J){return"id:"+J}).join(" OR ")+")"]);case "all":return H;default:return(I=N.customSections.filter(function(J){return G.parameters.section===J.name})[0])?Object(z.g)(Object(z.g)([],H),[I.baseQuery]):H}}),y=Object(f.a)(function(G,H){var I=G.settings.config.addQueryParameters;try{if(I&&"function"==typeof I)return Object(z.g)(Object(z.g)([],H),[I(G)])}catch(N){}return H}),F=Object(f.a)(function(G,H){var I=Object(D.b)(G.settings.config.customSections,
G.parameters.section);if(I&&!Object(v.b)(G.parameters.filter.customFilter)){var N=Object.keys(G.parameters.filter.customFilter).filter(function(M){return G.parameters.filter.customFilter[M]}).reduce(function(M,J){var R,Z=parseInt(J,10),T=G.parameters.filter.customFilter[Z].value;if(null===(R=null==I?void 0:I.filters)||void 0===R?0:R[Z])if(R=Object(A.a)("children","value",I.filters[Z],T))return Object(z.g)(Object(z.g)([],M),["("+R.q+")"]);return M},[]).join(" AND ");return Object(z.g)(Object(z.g)([],
H),[""+N])}return H})},180:function(f,g,k){function u(m,t){return d("children","value",m,t)}function w(m,t){return e("children","value",m,t)}function C(m,t){return function E(A,B,x,D){var y,F=x[A];return F&&0!==F.length?Object(c.a)(Object(c.a)({},x),((y={})[A]=F.reduce(function(G,H){return-1!==D.indexOf(H[B])&&G.push(E(A,B,H,D)),G},[]),y)):Object(c.a)({},x)}("children","value",m,t)}function z(m){return function(t,v){var A,B=v[t];return B?Object(c.a)(Object(c.a)({},v),((A={})[t]=function E(D){return 0===
D.length?[]:1!==D.length||D[0][t]?1<D.length?D.reduce(function(y,F){var G;return F[t]?(y.push(Object(c.a)(Object(c.a)({},F),((G={})[t]=E(F[t]),G))),y):(y.push(F),y)},[]):E(D[0][t]):D}(B),A)):v}("children",m)}function r(m,t){return a("children",m,t)}function l(m,t){return function D(A,B,x){var E=B[A];E&&E.forEach(function(y){return D(A,y,x)});x(B)}("children",m,t)}function d(m,t,v,A){var B=v[m];return v[t]===A?v:B?B.reduce(function(x,D){return x||d(m,t,D,A)},void 0):void 0}function e(m,t,v,A){if(v=
v[m])return v.reduce(function(B,x){return x[t]===A[0]?1===A.length?x:e(m,t,x,A.slice(1)):B},void 0)}function a(m,t,v){var A;return v(Object(c.a)(Object(c.a)({},t),((A={})[m]=t[m]?t[m].map(function(B){return a(m,B,v)}):void 0,A)))}function b(m,t,v){return a(m,v,function(A){var B=A[t];if(delete A[t],A[m]){var x=A[m];return delete A[m],Object(c.a)(Object(c.a)({},A),{value:B,children:x})}return Object(c.a)(Object(c.a)({},A),{value:B})})}k.d(g,"f",function(){return u});k.d(g,"d",function(){return w});
k.d(g,"i",function(){return C});k.d(g,"e",function(){return z});k.d(g,"h",function(){return r});k.d(g,"g",function(){return l});k.d(g,"a",function(){return d});k.d(g,"b",function(){return e});k.d(g,"c",function(){return b});var c=k(0)},189:function(f,g){function k(){throw Error("setTimeout has not been defined");}function u(){throw Error("clearTimeout has not been defined");}function w(v){if(e===setTimeout)return setTimeout(v,0);if((e===k||!e)&&setTimeout)return e=setTimeout,setTimeout(v,0);try{return e(v,
0)}catch(A){try{return e.call(null,v,0)}catch(B){return e.call(this,v,0)}}}function C(){m&&b&&(m=!1,b.length?c=b.concat(c):t=-1,c.length&&z())}function z(){if(!m){var v=w(C);m=!0;for(var A=c.length;A;){b=c;for(c=[];++t<A;)b&&b[t].run();t=-1;A=c.length}b=null;m=!1;(function(B){if(a===clearTimeout)return clearTimeout(B);if((a===u||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(B);try{a(B)}catch(x){try{return a.call(null,B)}catch(D){return a.call(this,B)}}})(v)}}function r(v,A){this.fun=v;this.array=
A}function l(){}var d=f.exports={};try{var e="function"==typeof setTimeout?setTimeout:k}catch(v){e=k}try{var a="function"==typeof clearTimeout?clearTimeout:u}catch(v){a=u}!0;var b,c=[],m=!1,t=-1;d.nextTick=function(v){var A=Array(arguments.length-1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)A[B-1]=arguments[B];c.push(new r(v,A));1!==c.length||m||w(z)};r.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions=
{};d.on=l;d.addListener=l;d.once=l;d.off=l;d.removeListener=l;d.removeAllListeners=l;d.emit=l;d.prependListener=l;d.prependOnceListener=l;d.listeners=function(v){return[]};d.binding=function(v){throw Error("process.binding is not supported");};d.cwd=function(){return"/"};d.chdir=function(v){throw Error("process.chdir is not supported");};d.umask=function(){return 0}},193:function(f,g,k){function u(z){var r,l;return null!==(r=z.orgId)&&void 0!==r?r:null===(l=z.portal)||void 0===l?void 0:l.id}function w(z){var r;
if(!z)return!1;var l=u(z),d=null===(r=z.portal)||void 0===r?void 0:r.isPortal;return!!l&&!d&&"public_authoritative"===z.contentStatus}function C(z,r,l){return new Promise(function(d){var e=z.map(function(a){return function(b,c,m){var t="https://"+c.portalHostname+"/sharing/rest/portals/"+b;return new Promise(function(v){m(t,{method:"get",query:{f:"json"}}).then(function(A){A=A.data;var B=A.thumbnail,x=(A.allSSL?"https://":"http://")+(A.urlKey||"")+"."+A.customBaseUrl+"/";v({name:A.name,url:x+"home/",
thumbnail:B?x+"sharing/rest/portals/self/resources/"+B:"./images/group-no-image.png",id:b})})})}(a,r,l)});Promise.all(e).then(function(a){d(a.filter(function(b){return b}))})})}k.d(g,"b",function(){return u});k.d(g,"c",function(){return w});k.d(g,"a",function(){return C})},199:function(f,g,k){function u(b,c,m){return b.filter(function(t,v,A){return A.indexOf(t)===v&&!c.hasOwnProperty(t)&&-1===m.indexOf(t)})}k.d(g,"c",function(){return r});k.d(g,"d",function(){return l});k.d(g,"a",function(){return d});
k.d(g,"b",function(){return e});k.d(g,"e",function(){return a});var w=k(0),C=k(193),z=k(309),r="USER_THUMBNAILS_LOAD_START",l="USER_THUMBNAILS_LOAD_SUCCESS",d="ORG_THUMBNAILS_LOAD_START",e="ORG_THUMBNAILS_LOAD_SUCCESS",a=function(b,c){var m=c(),t=m.settings.utils,v=t.request;t=t.portal;var A=m.ui.pagination;m=A.displayItems;var B=A.userThumbnailCache,x=A.pendingUserThumbRequests,D=A.orgThumbnailCache;A=A.pendingOrgThumbRequests;D=u(m.filter(C.c).map(C.b),D,A);m=u(m.map(function(E){return E.owner}),
B,x);if(0!==m.length||0!==D.length)b({type:r,payload:m}),b({type:d,payload:D}),m=Object(z.a)(m,t,v),v=Object(C.a)(D,t,v),Promise.all([m,v]).then(function(E){var y=E[0];E=E[1];y=(null==y?void 0:y.reduce(function(F,G){var H;return Object(w.a)(Object(w.a)({},F),((H={})[G.username]={thumbnail:G.thumbURI||G.thumbnail,username:G.username,fullName:G.fullName,id:G.id},H))},{}))||{};E=(null==E?void 0:E.reduce(function(F,G){var H;return Object(w.a)(Object(w.a)({},F),((H={})[G.id]=G,H))},{}))||{};b({type:l,
payload:y});b({type:e,payload:E})})}},217:function(f,g,k){k.d(g,"a",function(){return e});var u=k(0);f=k(56);var w=k.n(f);f=k(65);var C=k.n(f);f=k(15);var z=k(99),r=k(30),l=k(325),d=k(126),e=Object(f.a)(function(a,b){var c=a.settings.utils.request,m=Object(d.a)(a),t=new w.a,v=b.data.results.filter(function(A){return A.orgId&&!a.results.allOrganizations[A.orgId]}).map(function(A){return A.orgId}).filter(z.e).map(function(A){return Object(r.m)(c,m,A)});return C()(v).then(function(A){t.resolve(Object(u.a)(Object(u.a)({},
b),{data:Object(u.a)(Object(u.a)({},b.data),{organizations:A.reduce(function(B,x){var D;return Object(u.a)(Object(u.a)({},B),((D={})[x.id]=Object(l.a)(x),D))},{})})}))},function(A){t.reject(A)}),t})},227:function(f,g,k){k.d(g,"a",function(){return C});var u=k(0),w=k(101),C=function(z){var r=Object(u.a),l=Object(u.a)({},z),d=Object(w.a)(z);return r(l,{thumbURI:z.thumbnail?d+"/sharing/rest/portals/"+z.id+"/resources/"+z.thumbnail:d+"/home/images/group-no-image.png"})}},228:function(f,g,k){k.d(g,"a",
function(){return C});var u=k(0),w=k(101),C=function(z){return Object(u.a)(Object(u.a)({},z),{orgUrl:Object(w.a)(z)+"/home/index.html"})}},231:function(f,g){f.exports=h},256:function(f,g,k){k.d(g,"a",function(){return z});k.d(g,"b",function(){return r});k.d(g,"c",function(){return l});k.d(g,"d",function(){return d});f=k(56);var u=k.n(f),w=k(30),C=k(78),z="UPDATE_PROVISIONED_CONTENT",r="UPDATE_PROVISIONED_CONTENT_FAILED",l="UPDATE_PROVISIONED_CONTENT_SUCCESS",d=function(){return function(e,a){var b=
a();if("loaded"===b.results.provisionedContent.status)return(new u.a).resolve();if("failed"===b.results.provisionedContent.status)return(new u.a).reject();e({type:z});var c=b.settings.utils,m=c.portal;return Object(w.d)(c.request,m,m.user.username).then(function(t){e({type:l,payload:t.filter(function(v){return-1<b.settings.config.allowedItemTypes.indexOf(v.type)}).map(function(v){return Object(C.a)(m,b.settings.utils.iconDir,v)})})},function(t){e({type:r})})}}},264:function(f,g,k){k.d(g,"a",function(){return d});
k.d(g,"c",function(){return e});k.d(g,"d",function(){return a});k.d(g,"b",function(){return b});k.d(g,"e",function(){return c});var u=k(0);f=k(65);var w=k.n(f);f=k(56);var C=k.n(f),z=k(99),r=k(30);f=k(15);var l=k(86),d="LOADING_CUSTOM_SECTION_INFO",e="UPDATE_CUSTOM_SECTION_SCHEMAS",a="UPDATE_CUSTOM_SECTION_INFO_FAILED",b="UPDATE_CUSTOM_SECTION_GROUPS",c=function(){return function(v,A){function B(E){v({type:a})}var x=A();if("loaded"===x.results.customSections.status)return(new C.a).resolve();if("failed"===
x.results.customSections.status)return(new C.a).reject();v({type:d});var D=Object(z.f)("id",x.settings.config.customSections.filter(l.f).map(l.a).reduce(function(E,y){return Object(u.g)(Object(u.g)([],E),y)},[]));return m(v,A,D).then(function(){return x=A(),w()(D.map(function(E){return t(x,E).then(function(y){return{id:E.id,type:E.type,response:y}})}))},B).then(function(E){return v({type:e,payload:E})},B)}},m=function(v,A,B){var x=A(),D=new C.a;if(0<B.length){x=x.settings.utils;var E=x.request,y=
x.portal;B=B.filter(function(F){return"group"===F.type}).map(function(F){var G=F.id;return Object(r.e)(E,y,F.fetchGroupIdByQuery||"id:"+G).then(function(H){return H.results[0]||{}})});w()(B).then(function(F){var G=A();v({type:b,payload:{currentSection:G.parameters.section,customSections:G.settings.config.customSections,groups:F}});D.resolve()})}else D.resolve();return D},t=Object(f.a)(function(v,A){var B=v.settings.utils,x=B.request;B=B.portal;return A.staticSchema?(x=new C.a,x.resolve({categorySchema:A.staticSchema}),
x.then(function(D){return D})):"group"===A.type?Object(r.f)(x,B,A.id):Object(r.j)(x,B,A.id)})},265:function(f,g,k){function u(r){if(0<r.length){var l=C.a.filter(function(d){return-1===r.indexOf(d)}).filter(function(d){return r.reduce(function(e,a){return-1<d.indexOf(a)||e},!1)});return'((type:"'+r.join('" OR type:"')+'")'+(0<l.length?' AND (-type:"'+l.join('" AND -type:"')+'")':"")+")"}return""}k.d(g,"a",function(){return z});var w=k(0),C=k(141);f=k(15);var z=Object(f.a)(function(r,l,d){var e=l.itemTypeFilter,
a=l.allowedItemTypes;l=l.specialItemQ;return e?0<a.length&&l?Object(w.g)(Object(w.g)([],d),[r[e.value]+" AND ("+l+" OR ("+u(a)+"))"]):0<a.length||l?Object(w.g)(Object(w.g)([],d),[r[e.value]+" AND ("+(l?""+l:""+u(a))+")"]):Object(w.g)(Object(w.g)([],d),[""+r[e.value]]):l?Object(w.g)(Object(w.g)([],d),["("+l+") "+(0<a.length?"OR ("+u(a)+")":"")]):Object(w.g)(Object(w.g)([],d),[u(a)])})},266:function(f,g,k){k.d(g,"a",function(){return z});k.d(g,"b",function(){return r});k.d(g,"c",function(){return l});
k.d(g,"d",function(){return d});f=k(65);var u=k.n(f);f=k(56);var w=k.n(f),C=k(30),z="LOADING_ORG_INFO",r="UPDATE_ORG_INFO",l="UPDATE_ORG_INFO_FAILED",d=function(){return function(e,a){var b=a();if("loaded"===b.results.organization.status)return(new w.a).resolve();if("failed"===b.results.organization.status)return(new w.a).reject();e({type:z});var c=b.settings.utils;b=c.request;c=c.portal;var m=[Object(C.j)(b,c).then(function(t){return t.categorySchema}),Object(C.c)(b,c).then(function(t){return t.data.results})];
return c.isPortal&&m.push(Object(C.o)(b,c).then(function(t){return t.servers})),u()(m).then(function(t){e({type:r,payload:{schema:t[0],groups:t[1],servers:t[2]}})},function(t){e({type:l})})}}},28:function(f,g,k){(function(u,w){f.exports=function(){function C(){var ha=setTimeout;return function(){return ha(z,1)}}function z(){for(var ha=0;ha<D;ha+=2)(0,M[ha])(M[ha+1]),M[ha]=void 0,M[ha+1]=void 0;D=0}function r(ha,U){var ka=this,W=new this.constructor(d);void 0===W[aa]&&B(W);var Q=ka._state;if(Q){var L=
arguments[Q-1];F(function(){return A(Q,W,L,ka._result)})}else t(ka,W,ha,U);return W}function l(ha){if(ha&&"object"==typeof ha&&ha.constructor===this)return ha;var U=new this(d);return a(U,ha),U}function d(){}function e(ha,U,ka){U.constructor===ha.constructor&&ka===r&&U.constructor.resolve===l?function(W,Q){1===Q._state?c(W,Q._result):2===Q._state?m(W,Q._result):t(Q,void 0,function(L){return a(W,L)},function(L){return m(W,L)})}(ha,U):void 0===ka?c(ha,U):"function"==typeof ka?function(W,Q,L){F(function(ca){var Y=
!1,da=function(S,P,V,ba){try{S.call(P,V,ba)}catch(ea){return ea}}(L,Q,function(S){Y||(Y=!0,Q!==S?a(ca,S):c(ca,S))},function(S){Y||(Y=!0,m(ca,S))},ca._label);!Y&&da&&(Y=!0,m(ca,da))},W)}(ha,U,ka):c(ha,U)}function a(ha,U){if(ha===U)m(ha,new TypeError("You cannot resolve a promise with itself"));else if(W=typeof(ka=U),null===ka||"object"!==W&&"function"!==W)c(ha,U);else{ka=void 0;try{ka=U.then}catch(Q){return void m(ha,Q)}e(ha,U,ka)}var ka,W}function b(ha){ha._onerror&&ha._onerror(ha._result);v(ha)}
function c(ha,U){void 0===ha._state&&(ha._result=U,ha._state=1,0!==ha._subscribers.length&&F(v,ha))}function m(ha,U){void 0===ha._state&&(ha._state=2,ha._result=U,F(b,ha))}function t(ha,U,ka,W){var Q=ha._subscribers,L=Q.length;ha._onerror=null;Q[L]=U;Q[L+1]=ka;Q[L+2]=W;0===L&&ha._state&&F(v,ha)}function v(ha){var U=ha._subscribers,ka=ha._state;if(0!==U.length){for(var W=void 0,Q=void 0,L=ha._result,ca=0;ca<U.length;ca+=3)W=U[ca],Q=U[ca+ka],W?A(ka,W,Q,L):Q(L);ha._subscribers.length=0}}function A(ha,
U,ka,W){var Q="function"==typeof ka,L=void 0,ca=void 0,Y=!0;if(Q){try{L=ka(W)}catch(da){Y=!1,ca=da}if(U===L)return void m(U,new TypeError("A promises callback cannot return that same promise."))}else L=W;void 0!==U._state||(Q&&Y?a(U,L):!1===Y?m(U,ca):1===ha?c(U,L):2===ha&&m(U,L))}function B(ha){ha[aa]=fa++;ha._state=void 0;ha._result=void 0;ha._subscribers=[]}var x=Array.isArray?Array.isArray:function(ha){return"[object Array]"===Object.prototype.toString.call(ha)},D=0,E=void 0,y=void 0,F=function(ha,
U){M[D]=ha;M[D+1]=U;2===(D+=2)&&(y?y(z):X())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var I="undefined"==typeof self&&void 0!==u&&"[object process]"==={}.toString.call(u),N="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,M=Array(1E3),J,R,Z,T,X=void 0;I?X=function(){return u.nextTick(z)}:H?(R=0,Z=new H(z),T=document.createTextNode(""),Z.observe(T,{characterData:!0}),X=function(){T.data=
R=++R%2}):N?((J=new MessageChannel).port1.onmessage=z,X=function(){return J.port2.postMessage(0)}):X=void 0===G?function(){try{var ha=Function("return this")().require("vertx");return void 0!==(E=ha.runOnLoop||ha.runOnContext)?function(){E(z)}:C()}catch(U){return C()}}():C();var aa=Math.random().toString(36).substring(2),fa=0,oa=function(){function ha(U,ka){this._instanceConstructor=U;this.promise=new U(d);this.promise[aa]||B(this.promise);x(ka)?(this.length=ka.length,this._remaining=ka.length,this._result=
Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(ka),0===this._remaining&&c(this.promise,this._result))):m(this.promise,Error("Array Methods must be provided an Array"))}return ha.prototype._enumerate=function(U){for(var ka=0;void 0===this._state&&ka<U.length;ka++)this._eachEntry(U[ka],ka)},ha.prototype._eachEntry=function(U,ka){var W=this._instanceConstructor,Q=W.resolve;if(Q===l){var L=Q=void 0,ca=!1;try{Q=U.then}catch(Y){ca=!0,L=Y}Q===
r&&void 0!==U._state?this._settledAt(U._state,ka,U._result):"function"!=typeof Q?(this._remaining--,this._result[ka]=U):W===ua?(W=new W(d),ca?m(W,L):e(W,U,Q),this._willSettleAt(W,ka)):this._willSettleAt(new W(function(Y){return Y(U)}),ka)}else this._willSettleAt(Q(U),ka)},ha.prototype._settledAt=function(U,ka,W){var Q=this.promise;void 0===Q._state&&(this._remaining--,2===U?m(Q,W):this._result[ka]=W);0===this._remaining&&c(Q,this._result)},ha.prototype._willSettleAt=function(U,ka){var W=this;t(U,
void 0,function(Q){return W._settledAt(1,ka,Q)},function(Q){return W._settledAt(2,ka,Q)})},ha}(),ua=function(){function ha(U){this[aa]=fa++;this._result=this._state=void 0;this._subscribers=[];if(d!==U){if("function"!=typeof U)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ha)(function(ka,W){try{W(function(Q){a(ka,Q)},function(Q){m(ka,Q)})}catch(Q){m(ka,Q)}})(this,U);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return ha.prototype["catch"]=function(U){return this.then(null,U)},ha.prototype["finally"]=function(U){var ka=this.constructor;return"function"==typeof U?this.then(function(W){return ka.resolve(U()).then(function(){return W})},function(W){return ka.resolve(U()).then(function(){throw W;})}):this.then(U,U)},ha}();return ua.prototype.then=r,ua.all=function(ha){return(new oa(this,ha)).promise},ua.race=function(ha){var U=this;return x(ha)?new U(function(ka,W){for(var Q=ha.length,L=0;L<Q;L++)U.resolve(ha[L]).then(ka,
W)}):new U(function(ka,W){return W(new TypeError("You must pass an array to race."))})},ua.resolve=l,ua.reject=function(ha){var U=new this(d);return m(U,ha),U},ua._setScheduler=function(ha){y=ha},ua._setAsap=function(ha){F=ha},ua._asap=F,ua.polyfill=function(){var ha=void 0;if(void 0!==w)ha=w;else if("undefined"!=typeof self)ha=self;else try{ha=Function("return this")()}catch(W){throw Error("polyfill failed because global object is unavailable in this environment");}var U=ha.Promise;if(U){var ka=
null;try{ka=Object.prototype.toString.call(U.resolve())}catch(W){}if("[object Promise]"===ka&&!U.cast)return}ha.Promise=ua},ua.Promise=ua,ua}()}).call(this,k(189),k(170))},286:function(f,g,k){k.d(g,"b",function(){return e});k.d(g,"a",function(){return a});k.d(g,"c",function(){return b});var u=k(0);f=k(65);var w=k.n(f);f=k(56);var C=k.n(f),z=k(30),r=k(51),l=k(78),d=k(126),e="UPDATE_FULL_ITEM_DETAILS",a="FETCH_FULL_ITEM_DETAILS_FAILED",b=function(c){return function(m,t){var v=t(),A=Object(d.a)(v),B=
v.settings.utils.request,x=[];x.push(Object(z.r)(B,A,c.owner).then(function(E){return Object(r.m)(A,E)},function(E){throw E;}));var D=A.restUrl+"/content/items/"+c.id;A.user&&c.owner===A.user.username&&(D=A.restUrl+"/content/users/"+A.user.username+"/items/"+c.id);x.push(Object(z.v)(B,D).then(function(E){if(E.item&&E.sharing){var y=new C.a;return Object(z.v)(B,A.restUrl+"/community/groups",{q:"id: "+E.sharing.groups.map(function(F){return'"'+F+'"'}).join(" OR ")}).then(function(F){return y.resolve(Object(u.a)(Object(u.a)({},
Object(l.a)(A,v.settings.utils.iconDir,E.item)),{sharing:E.sharing,sharedToGroups:F.results}))},function(F){return y.reject(F)}),y}return Object(l.a)(A,v.settings.utils.iconDir,E)},function(E){throw c.id;}));w()(x).then(function(E){m({type:e,payload:{item:E[1],owner:E[0]}})},function(E){m({type:a,payload:E})})}}},288:function(f,g,k){k.d(g,"a",function(){return u});k.d(g,"b",function(){return w});var u="CHANGE_SEARCH_SECTION",w=function(C){return function(z,r){var l=r();z({type:u,payload:{newSection:C,
customSections:l.settings.config.customSections,customSectionGroupSort:l.results.customSections.groupSort}})}}},290:function(f,g,k){k.d(g,"b",function(){return u});k.d(g,"a",function(){return w});k.d(g,"d",function(){return C});k.d(g,"c",function(){return z});var u="CHANGE_SORT_ORDER",w="CHANGE_SORT_FIELD",C=function(r){return{type:u,payload:r}},z=function(r){return{type:w,payload:r}}},295:function(f,g,k){k.d(g,"b",function(){return r});k.d(g,"a",function(){return l});k.d(g,"c",function(){return d});
k.d(g,"d",function(){return e});var u=k(162),w=k(78),C=k(217),z=k(199),r="CHANGE_PAGE_SUCCESS",l="CHANGE_PAGE_FAIL",d="CHANGING_PAGE",e=function(a){return function(b,c){var m=c();b({type:d,payload:a});var t=m.settings.utils,v=t.portal,A=t.iconDir;t=m.settings.utils.request;var B=m.settings.config.resultsPerQuery;B=Object(u.b)({num:B,start:(a-1)*B+1},m);t(B[0],B[1]).then(Object(C.a)(m),function(x){return b({type:l,payload:{err:x}})}).then(function(x){b({type:r,payload:{organizations:x.data.organizations,
displayItems:x.data.results.map(function(D){return Object(w.a)(v,A,D)}),page:a}});b(z.e)},function(x){return b({type:l,payload:{err:x}})})}}},30:function(f,g,k){function u(M){return M.reduce(function(J,R){return R&&R.relatedItems?J.concat(R.relatedItems.map(function(Z){return Z})):J},[])}function w(M,J,R){return M(J,{query:Object(r.a)({f:"json"},R)}).then(function(Z){return Z.data})}function C(M,J){void 0===J&&(J=100);for(var R=[],Z=0;Z<Math.ceil(M.length/J);Z++)R.push(M.slice(Z*J,(Z+1)*J));return R.filter(function(T){return 0<
T.length})}function z(M){var J=M.itemIds,R=M.request,Z=M.groupIds,T=M.portal.restUrl+"/content/itemsgroups";return new l.Promise(function(X,aa){R(T,{method:"get",query:{f:"json",items:J,groups:Z}}).then(function(fa){X(fa.data)},aa)})}k.d(g,"u",function(){return d});k.d(g,"n",function(){return e});k.d(g,"h",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});k.d(g,"j",function(){return m});k.d(g,"o",function(){return t});k.d(g,"l",function(){return v});k.d(g,"k",function(){return A});
k.d(g,"m",function(){return B});k.d(g,"c",function(){return x});k.d(g,"d",function(){return D});k.d(g,"r",function(){return E});k.d(g,"s",function(){return y});k.d(g,"t",function(){return F});k.d(g,"g",function(){return G});k.d(g,"p",function(){return H});k.d(g,"q",function(){return I});k.d(g,"v",function(){return w});k.d(g,"a",function(){return C});k.d(g,"i",function(){return z});k.d(g,"b",function(){return N});var r=k(0),l=k(28),d=function(M){return function(J,R){return M({url:J,content:R.query},
{usePost:"post"===R.method}).then(function(Z){return{data:Z}})}},e=function(M,J,R){return w(M,J.restUrl+"/portals/self",{culture:R,"default":!0})},a=function(M,J,R){return w(M,J.restUrl+"/content/items/"+R+"/data")},b=function(M,J,R,Z){return w(M,J.restUrl+"/community/groups",Object(r.a)({q:R},Z))},c=function(M,J,R){return w(M,J.restUrl+"/community/groups/"+R+"/categorySchema")},m=function(M,J,R){return w(M,J.restUrl+"/portals/"+(R||J.id)+"/categorySchema")},t=function(M,J){return w(M,J.restUrl+"/portals/"+
J.id+"/servers")},v=function(M,J,R,Z){return M(J.restUrl+"/portals/"+(R||J.id)+"/collaborationsSummary",Z)},A=function(M,J,R,Z){return M(J.restUrl+"/portals/"+(R||J.id)+"/collaboratedItems",Z)},B=function(M,J,R){return w(M,location.protocol+"//"+J.portalHostname+"/sharing/rest/portals/"+(R||"self"))},x=function(M,J,R){return M(J.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+J.id+" AND access:public",num:100,start:R||1,sortField:"title",sortOrder:"asc"}}).then(function(Z){return Z.data.total>
Z.data.start+Z.data.num?x(M,J,Z.data.start+Z.data.num).then(function(T){return Object(r.a)(Object(r.a)({},T),{data:Object(r.a)(Object(r.a)({},T.data),{results:Z.data.results.concat(T.data.results)})})}):Z})},D=function(M,J,R,Z){return M(J.restUrl+"/community/users/"+R+"/provisionedListings",{query:{f:"json",num:100,start:Z||1}}).then(function(T){var X=l.Promise.all(T.data.provisionedListings.filter(function(fa){return fa.itemId}).map(function(fa){return(new l.Promise(function(oa,ua){M(J.restUrl+"/content/items/"+
fa.itemId,{method:"get",query:{f:"json"}}).then(function(ha){oa(ha.data)},ua)}))["catch"](function(oa){return 0})})),aa=T.data.provisionedListings.map(function(fa){return w(M,J.restUrl+"/content/items/"+(fa.id||fa.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(oa){return oa},function(oa){})});return T.data.total>T.data.start+T.data.num?D(M,J,R,T.data.start+T.data.num).then(function(fa){return l.Promise.all([X].concat(aa)).then(function(oa){return oa[0].results.concat(u(oa.slice(1))).concat(fa)})}):
l.Promise.all([X].concat(aa)).then(function(fa){return fa[0].filter(function(oa){return void 0!==oa}).concat(u(fa.slice(1)))})})},E=function(M,J,R){return w(M,J.restUrl+"/community/users/"+(R||J.user.username))},y=function(M,J,R){return w(M,J.restUrl+"/content/users/"+(R||J.user.username),{num:1})},F=function(M,J,R){return w(M,J.restUrl+"/content/groups/"+R)},G=function(M,J,R){return w(M,J.restUrl+"/community/groups",R)},H=function(M,J){return w(M,J.restUrl+"/portals/self/settings")},I=function(M,
J){return w(M,J.restUrl+"/portals/self/trustedOrgs",{num:100})},N=function(M,J){return void 0===J&&(J=","),M.map(function(R){return R.id}).join(J)}},309:function(f,g,k){function u(w,C,z){return Promise.all(w.map(function(r){return function(l,d,e){return new Promise(function(a,b){e(d.restUrl+"/community/users/"+l,{method:"get",query:{f:"json"}}).then(function(c){return a(null==c?void 0:c.data)},b)})}(r,C,z)}))}k.d(g,"a",function(){return u})},323:function(f,g,k){k.d(g,"b",function(){return w});k.d(g,
"a",function(){return C});var u=k(0);f=k(15);f=Object(f.a)(function(z,r,l){return r?Object(u.g)(Object(u.g)([],l),["("+z+":["+(r.start+" TO "+r.end+"])")]):l});var w=f("modified"),C=f("uploaded")},324:function(f,g,k){k.d(g,"b",function(){return w});k.d(g,"a",function(){return C});var u=k(0);f=k(15);var w=Object(f.a)(function(z,r){if(z){var l=Object.keys(z);if(0<l.length)return Object(u.g)(Object(u.g)([],r),["tags:("+l.join(" AND ")+")"])}return r}),C=Object(f.a)(function(z,r){return 2<z.length?Object(u.g)(Object(u.g)([],
r),["tags:("+z+"* OR "+z+")"]):r})},325:function(f,g,k){k.d(g,"a",function(){return w});f=k(63);g=k(101);var u=k(227);k=k(228);var w=Object(f.a)(u.a,k.a,g.b)},326:function(f,g,k){k.d(g,"a",function(){return r});k.d(g,"b",function(){return l});f=k(56);var u=k.n(f),w=k(30),C=k(325),z=k(150),r="UPDATE_PORTAL_SELF",l=function(){return function(d,e){var a=e(),b=a.settings.utils,c=b.portal;b=b.request;var m=c.user&&c.user.culture?c.user.culture:z.locale;return a.settings.utils.self?(new u.a).resolve(a.settings.utils.self):
Object(w.n)(b,c,m).then(function(t){t=Object(C.a)(t);return d({type:r,payload:{self:t,config:a.settings.config}}),t})}}},327:function(f,g,k){k.d(g,"a",function(){return l});k.d(g,"b",function(){return d});k.d(g,"c",function(){return e});k.d(g,"d",function(){return a});var u=k(0),w=k(36);f=k(56);var C=k.n(f),z=k(150),r=k(402),l="LOADING_LIVING_ATLAS_INFO",d="UPDATE_LIVING_ATLAS_INFO",e="FETCH_LIVING_ATLAS_INFO_FAILED",a=function(b){return function(c,m){var t=m();if("loaded"===t.results.livingAtlas.status)return(new C.a).resolve();
if("failed"===t.results.livingAtlas.status)return(new C.a).reject();c({type:l});t=t.settings.utils;var v=t.portal;return Object(r.a)(t.request,v,b,v.user&&v.user.culture?v.user.culture:z.locale).then(function(A){c({type:d,payload:Object(u.a)(Object(u.a)({},A),{schema:A.schema.map(function(B){return"region"===B.title?Object(u.a)(Object(u.a)({},B),{displayName:w.regions}):B})})})},function(A){c({type:e})})}}},328:function(f,g,k){k.d(g,"a",function(){return r});var u=k(30),w=k(49);f=k(65);var C=k.n(f),
z=function(l,d,e){l({type:"LOADING_COLLABORATIONS"});var a=[];Object.keys(e).forEach(function(c){a[c]=[];0<e[c].participants.length&&e[c].participants.forEach(function(m){a[m.value]=[]})});var b=Object.keys(a).map(function(c){c=c.split("__");var m=c[0],t=c[1]?c[1]:"";return Object(u.k)(d.settings.utils.request,d.settings.utils.portal,d.settings.utils.portal.id,{query:""!==t?{collaborationId:m,participantId:t,f:"json"}:{collaborationId:m,f:"json"}}).then(function(v){(v.data.collaboratedItems||v.collaboratedItems).forEach(function(A){if(t){var B=
m+"__"+t;e[m].participants.filter(function(x){return x.value===B})[0].items.push(Object.keys(A)[0])}else e[m].items.push(Object.keys(A)[0])})},function(){return l({type:"LOADING_COLLABORATIONS_FAILED"})})});return C()(b).then(function(){l(Object(w.s)(e));l({type:"LOADING_COLLABORATIONS_SUCCESS",payload:e})})},r=function(l,d){if(l({type:"LOADING_COLLABORATIONS"}),d&&d.parameters&&d.parameters.filter&&d.parameters.filter.origins&&0<Object.keys(d.parameters.filter.origins).length){var e=d.parameters.filter.origins;
return l(Object(w.s)(e)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:e}}return Object(u.l)(d.settings.utils.request,d.settings.utils.portal,d.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(a){var b=[];a.data&&a.data.collaborations&&a.data.collaborations.forEach(function(c){var m=c.collaborationId,t=c.collaborationName.trim();b[m]={value:m,label:t,addClass:"",childOf:"",selected:!1,participants:[],items:[]};c.participants&&(b[m].participants=c.participants.map(function(v){return 1===
(v=Object.keys(v).map(function(A){var B=v[A].trim();return{value:m+"__"+A,label:B,childOf:m,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?v[0]:v}))});z(l,d,b).then(function(){return l(Object(w.s)(b))},function(){return l({type:"LOADING_COLLABORATIONS_FAILED"})})},function(a){return l({type:"LOADING_COLLABORATIONS_FAILED",payload:a})})}},329:function(f,g,k){function u(w){return"string"==typeof w?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(w):
!!w.filters&&-1<w.filters.indexOf("tags")}k.d(g,"a",function(){return u})},336:function(f,g,k){(function(u,w){function C(pa,ya){return pa.set(ya[0],ya[1]),pa}function z(pa,ya){return pa.add(ya),pa}function r(pa,ya,ta,ma){var qa=-1,wa=pa?pa.length:0;for(ma&&wa&&(ta=pa[++qa]);++qa<wa;)ta=ya(ta,pa[qa],qa,pa);return ta}function l(pa){var ya=!1;if(null!=pa&&"function"!=typeof pa.toString)try{ya=!!(pa+"")}catch(ta){}return ya}function d(pa){var ya=-1,ta=Array(pa.size);return pa.forEach(function(ma,qa){ta[++ya]=
[qa,ma]}),ta}function e(pa,ya){return function(ta){return pa(ya(ta))}}function a(pa){var ya=-1,ta=Array(pa.size);return pa.forEach(function(ma){ta[++ya]=ma}),ta}function b(pa){var ya=-1,ta=pa?pa.length:0;for(this.clear();++ya<ta;){var ma=pa[ya];this.set(ma[0],ma[1])}}function c(pa){var ya=-1,ta=pa?pa.length:0;for(this.clear();++ya<ta;){var ma=pa[ya];this.set(ma[0],ma[1])}}function m(pa){var ya=-1,ta=pa?pa.length:0;for(this.clear();++ya<ta;){var ma=pa[ya];this.set(ma[0],ma[1])}}function t(pa){this.__data__=
new c(pa)}function v(pa,ya){var ta=Ea(pa)||function(Fa){return!!Fa&&"object"==typeof Fa&&N(Fa)&&ca.call(Fa,"callee")&&(!ba.call(Fa,"callee")||"[object Arguments]"==Y.call(Fa))}(pa)?function(Fa,Da){for(var Ca=-1,Ia=Array(Fa);++Ca<Fa;)Ia[Ca]=Da(Ca);return Ia}(pa.length,String):[],ma=ta.length,qa=!!ma,wa;for(wa in pa)!ya&&!ca.call(pa,wa)||qa&&("length"==wa||G(wa,ma))||ta.push(wa);return ta}function A(pa,ya,ta){var ma=pa[ya];ca.call(pa,ya)&&(ma===ta||ma!=ma&&ta!=ta)&&(void 0!==ta||ya in pa)||(pa[ya]=
ta)}function B(pa,ya){for(var ta=pa.length;ta--;){var ma=pa[ta][0];if(ma===ya||ma!=ma&&ya!=ya)return ta}return-1}function x(pa,ya,ta,ma,qa,wa,Fa){var Da;if(ma&&(Da=wa?ma(pa,qa,wa,Fa):ma(pa)),void 0!==Da)return Da;if(!J(pa))return pa;if(qa=Ea(pa)){if(Da=function(Ga){var Ma=Ga.length,Ha=Ga.constructor(Ma);Ma&&"string"==typeof Ga[0]&&ca.call(Ga,"index")&&(Ha.index=Ga.index,Ha.input=Ga.input);return Ha}(pa),!ya)return function(Ga,Ma){var Ha=-1,Ka=Ga.length;for(Ma||(Ma=Array(Ka));++Ha<Ka;)Ma[Ha]=Ga[Ha];
return Ma}(pa,Da)}else{var Ca=xa(pa),Ia="[object Function]"==Ca||"[object GeneratorFunction]"==Ca;if(sa(pa))return function(Ga,Ma){if(Ma)return Ga.slice();var Ha=new Ga.constructor(Ga.length);return Ga.copy(Ha),Ha}(pa,ya);if("[object Object]"==Ca||"[object Arguments]"==Ca||Ia&&!wa){if(l(pa))return wa?pa:{};if(Da=function(Ga){return"function"!=typeof Ga.constructor||H(Ga)?{}:(Ma=P(Ga),J(Ma)?V(Ma):{});var Ma}(Ia?{}:pa),!ya)return function(Ga,Ma){return E(Ga,Ja(Ga),Ma)}(pa,function(Ga,Ma){return Ga&&
E(Ma,R(Ma),Ga)}(Da,pa))}else{if(!aa[Ca])return wa?pa:{};Da=function(Ga,Ma,Ha,Ka){var Na=Ga.constructor;switch(Ma){case "[object ArrayBuffer]":return D(Ga);case "[object Boolean]":case "[object Date]":return new Na(+Ga);case "[object DataView]":return function(Pa,Ra){var Sa=Ra?D(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.byteLength)}(Ga,Ka);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Pa,
Ra){var Sa=Ra?D(Pa.buffer):Pa.buffer;return new Pa.constructor(Sa,Pa.byteOffset,Pa.length)}(Ga,Ka);case "[object Map]":return function(Pa,Ra,Sa){return r(Ra?Sa(d(Pa),!0):d(Pa),C,new Pa.constructor)}(Ga,Ka,Ha);case "[object Number]":case "[object String]":return new Na(Ga);case "[object RegExp]":return function(Pa){var Ra=new Pa.constructor(Pa.source,Z.exec(Pa));return Ra.lastIndex=Pa.lastIndex,Ra}(Ga);case "[object Set]":return function(Pa,Ra,Sa){return r(Ra?Sa(a(Pa),!0):a(Pa),z,new Pa.constructor)}(Ga,
Ka,Ha);case "[object Symbol]":return Qa=Ga,Oa?Object(Oa.call(Qa)):{}}var Qa}(pa,Ca,x,ya)}}Fa||(Fa=new t);if(wa=Fa.get(pa))return wa;if(Fa.set(pa,Da),!qa)var La=ta?function(Ga){var Ma=Ja,Ha=R(Ga);if(!Ea(Ga)){Ga=Ma(Ga);Ma=-1;for(var Ka=Ga.length,Na=Ha.length;++Ma<Ka;)Ha[Na+Ma]=Ga[Ma]}return Ha}(pa):R(pa);return function(Ga,Ma){for(var Ha=-1,Ka=Ga?Ga.length:0;++Ha<Ka&&!1!==Ma(Ga[Ha],Ha,Ga););}(La||pa,function(Ga,Ma){La&&(Ga=pa[Ma=Ga]);A(Da,Ma,x(Ga,ya,ta,ma,Ma,pa,Fa))}),Da}function D(pa){var ya=new pa.constructor(pa.byteLength);
return(new S(ya)).set(new S(pa)),ya}function E(pa,ya,ta,ma){ta||(ta={});for(var qa=-1,wa=ya.length;++qa<wa;){var Fa=ya[qa],Da=ma?ma(ta[Fa],pa[Fa],Fa,ta,pa):void 0;A(ta,Fa,void 0===Da?pa[Fa]:Da)}return ta}function y(pa,ya){var ta,ma=pa.__data__;return("string"==(ta=typeof ya)||"number"==ta||"symbol"==ta||"boolean"==ta?"__proto__"!==ya:null===ya)?ma["string"==typeof ya?"string":"hash"]:ma.map}function F(pa,ya){var ta=null==pa?void 0:pa[ya];a:{var ma=!(!J(ta)||(qa=ta,Q&&Q in qa))&&(M(ta)||l(ta)?da:T).test(I(ta));
break a;var qa}return ma?ta:void 0}function G(pa,ya){return!!(ya=null==ya?9007199254740991:ya)&&("number"==typeof pa||X.test(pa))&&-1<pa&&0==pa%1&&pa<ya}function H(pa){var ya=pa&&pa.constructor;return pa===("function"==typeof ya&&ya.prototype||ka)}function I(pa){if(null!=pa){try{return L.call(pa)}catch(ya){}return pa+""}return""}function N(pa){var ya;if(ya=null!=pa)ya=pa.length,ya="number"==typeof ya&&-1<ya&&0==ya%1&&9007199254740991>=ya;return ya&&!M(pa)}function M(pa){pa=J(pa)?Y.call(pa):"";return"[object Function]"==
pa||"[object GeneratorFunction]"==pa}function J(pa){var ya=typeof pa;return!!pa&&("object"==ya||"function"==ya)}function R(pa){if(N(pa))pa=v(pa);else if(H(pa)){var ya=[],ta;for(ta in Object(pa))ca.call(pa,ta)&&"constructor"!=ta&&ya.push(ta);pa=ya}else pa=ia(pa);return pa}var Z=/\w*$/,T=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,aa={};aa["[object Arguments]"]=aa["[object Array]"]=aa["[object ArrayBuffer]"]=aa["[object DataView]"]=aa["[object Boolean]"]=aa["[object Date]"]=aa["[object Float32Array]"]=
aa["[object Float64Array]"]=aa["[object Int8Array]"]=aa["[object Int16Array]"]=aa["[object Int32Array]"]=aa["[object Map]"]=aa["[object Number]"]=aa["[object Object]"]=aa["[object RegExp]"]=aa["[object Set]"]=aa["[object String]"]=aa["[object Symbol]"]=aa["[object Uint8Array]"]=aa["[object Uint8ClampedArray]"]=aa["[object Uint16Array]"]=aa["[object Uint32Array]"]=!0;aa["[object Error]"]=aa["[object Function]"]=aa["[object WeakMap]"]=!1;var fa="object"==typeof self&&self&&self.Object===Object&&self;
fa="object"==typeof u&&u&&u.Object===Object&&u||fa||Function("return this")();var oa=g&&!g.nodeType&&g,ua=oa&&"object"==typeof w&&w&&!w.nodeType&&w;ua=ua&&ua.exports===oa;var ha;oa=Array.prototype;var U=Function.prototype,ka=Object.prototype,W=fa["__core-js_shared__"],Q=(ha=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+ha:"",L=U.toString,ca=ka.hasOwnProperty,Y=ka.toString,da=RegExp("^"+L.call(ca).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$");ua=ua?fa.Buffer:void 0;ha=fa.Symbol;var S=fa.Uint8Array,P=e(Object.getPrototypeOf,Object),V=Object.create,ba=ka.propertyIsEnumerable,ea=oa.splice;oa=Object.getOwnPropertySymbols;ua=ua?ua.isBuffer:void 0;var ia=e(Object.keys,Object);U=F(fa,"DataView");var ja=F(fa,"Map");W=F(fa,"Promise");var la=F(fa,"Set");fa=F(fa,"WeakMap");var na=F(Object,"create"),ra=I(U),va=I(ja),za=I(W),Aa=I(la),Ba=I(fa),Oa=(ha=ha?ha.prototype:void 0)?ha.valueOf:void 0;b.prototype.clear=function(){this.__data__=
na?na(null):{}};b.prototype["delete"]=function(pa){return this.has(pa)&&delete this.__data__[pa]};b.prototype.get=function(pa){var ya=this.__data__;return na?(pa=ya[pa],"__lodash_hash_undefined__"===pa?void 0:pa):ca.call(ya,pa)?ya[pa]:void 0};b.prototype.has=function(pa){var ya=this.__data__;return na?void 0!==ya[pa]:ca.call(ya,pa)};b.prototype.set=function(pa,ya){return this.__data__[pa]=na&&void 0===ya?"__lodash_hash_undefined__":ya,this};c.prototype.clear=function(){this.__data__=[]};c.prototype["delete"]=
function(pa){var ya=this.__data__;pa=B(ya,pa);return!(0>pa)&&(pa==ya.length-1?ya.pop():ea.call(ya,pa,1),!0)};c.prototype.get=function(pa){var ya=this.__data__;pa=B(ya,pa);return 0>pa?void 0:ya[pa][1]};c.prototype.has=function(pa){return-1<B(this.__data__,pa)};c.prototype.set=function(pa,ya){var ta=this.__data__,ma=B(ta,pa);return 0>ma?ta.push([pa,ya]):ta[ma][1]=ya,this};m.prototype.clear=function(){this.__data__={hash:new b,map:new (ja||c),string:new b}};m.prototype["delete"]=function(pa){return y(this,
pa)["delete"](pa)};m.prototype.get=function(pa){return y(this,pa).get(pa)};m.prototype.has=function(pa){return y(this,pa).has(pa)};m.prototype.set=function(pa,ya){return y(this,pa).set(pa,ya),this};t.prototype.clear=function(){this.__data__=new c};t.prototype["delete"]=function(pa){return this.__data__["delete"](pa)};t.prototype.get=function(pa){return this.__data__.get(pa)};t.prototype.has=function(pa){return this.__data__.has(pa)};t.prototype.set=function(pa,ya){var ta=this.__data__;if(ta instanceof
c){ta=ta.__data__;if(!ja||199>ta.length)return ta.push([pa,ya]),this;ta=this.__data__=new m(ta)}return ta.set(pa,ya),this};var Ja=oa?e(oa,Object):function(){return[]},xa=function(pa){return Y.call(pa)};(U&&"[object DataView]"!=xa(new U(new ArrayBuffer(1)))||ja&&"[object Map]"!=xa(new ja)||W&&"[object Promise]"!=xa(W.resolve())||la&&"[object Set]"!=xa(new la)||fa&&"[object WeakMap]"!=xa(new fa))&&(xa=function(pa){var ya=Y.call(pa);if(pa=(pa="[object Object]"==ya?pa.constructor:void 0)?I(pa):void 0)switch(pa){case ra:return"[object DataView]";
case va:return"[object Map]";case za:return"[object Promise]";case Aa:return"[object Set]";case Ba:return"[object WeakMap]"}return ya});var Ea=Array.isArray,sa=ua||function(){return!1};w.exports=function(pa){return x(pa,!0,!0)}}).call(this,k(170),k(366)(f))},356:function(f,g,k){function u(C){var z;C=Object(w.a)(C);return!0===(null===(z=C.portalProperties)||void 0===z?void 0:z.semanticSearchEnabled)||C.portalUser&&!C.portalUser.orgId}k.d(g,"a",function(){return u});var w=k(126)},357:function(f,g,k){k.d(g,
"a",function(){return w});k.d(g,"b",function(){return C});var u=k(286),w="VIEW_ITEM_DETAILS",C=function(z){return function(r){r({type:w,payload:z});r(Object(u.c)(z))}}},36:function(f,g){f.exports=K},366:function(f,g){f.exports=function(k){return k.webpackPolyfill||(k.deprecate=function(){},k.paths=[],k.children||(k.children=[]),Object.defineProperty(k,"loaded",{enumerable:!0,get:function(){return k.l}}),Object.defineProperty(k,"id",{enumerable:!0,get:function(){return k.i}}),k.webpackPolyfill=1),
k}},386:function(f,g,k){(function(u,w){function C(ta,ma,qa){switch(qa.length){case 0:return ta.call(ma);case 1:return ta.call(ma,qa[0]);case 2:return ta.call(ma,qa[0],qa[1]);case 3:return ta.call(ma,qa[0],qa[1],qa[2])}return ta.apply(ma,qa)}function z(ta){var ma=-1,qa=null==ta?0:ta.length;for(this.clear();++ma<qa;){var wa=ta[ma];this.set(wa[0],wa[1])}}function r(ta){var ma=-1,qa=null==ta?0:ta.length;for(this.clear();++ma<qa;){var wa=ta[ma];this.set(wa[0],wa[1])}}function l(ta){var ma=-1,qa=null==
ta?0:ta.length;for(this.clear();++ma<qa;){var wa=ta[ma];this.set(wa[0],wa[1])}}function d(ta){this.size=(this.__data__=new r(ta)).size}function e(ta,ma,qa){(void 0===qa||y(ta[ma],qa))&&(void 0!==qa||ma in ta)||b(ta,ma,qa)}function a(ta,ma){for(var qa=ta.length;qa--;)if(y(ta[qa][0],ma))return qa;return-1}function b(ta,ma,qa){"__proto__"==ma&&na?na(ta,ma,{configurable:!0,enumerable:!0,value:qa,writable:!0}):ta[ma]=qa}function c(ta){if(null==ta)ta=void 0===ta?"[object Undefined]":"[object Null]";else if(la&&
la in Object(ta)){var ma=L.call(ta,la),qa=ta[la];try{ta[la]=void 0;var wa=!0}catch(Da){}var Fa=Y.call(ta);wa&&(ma?ta[la]=qa:delete ta[la]);ta=Fa}else ta=Y.call(ta);return ta}function m(ta){return N(ta)&&"[object Arguments]"==c(ta)}function t(ta){return!(!I(ta)||ca&&ca in ta)&&(G(ta)?S:R).test(function(ma){if(null!=ma){try{return Q.call(ma)}catch(qa){}return ma+""}return""}(ta))}function v(ta,ma,qa,wa,Fa){ta!==ma&&Oa(ma,function(Da,Ca){if(Fa||(Fa=new d),I(Da))!function(La,Ga,Ma,Ha,Ka,Na,Qa){var Pa=
E(La,Ma),Ra=E(Ga,Ma),Sa=Qa.get(Ra);if(Sa)return void e(La,Ma,Sa);Ga=Na?Na(Pa,Ra,Ma+"",La,Ga,Qa):void 0;if(Sa=void 0===Ga){var Va=Ea(Ra),Ua=!Va&&sa(Ra),Ta=!Va&&!Ua&&pa(Ra);Ga=Ra;Va||Ua||Ta?Ea(Pa)?Ga=Pa:N(cb=Pa)&&F(cb)?Ga=function(Za,$a){var Ya=-1,bb=Za.length;for($a||($a=Array(bb));++Ya<bb;)$a[Ya]=Za[Ya];return $a}(Pa):Ua?(Sa=!1,Ga=function(Za,$a){if($a)return Za.slice();var Ya=Za.length;Ya=V?V(Ya):new Za.constructor(Ya);return Za.copy(Ya),Ya}(Ra,!0)):Ta?(Sa=!1,Xa=Ra,ab=(Wa=Xa.buffer,db=new Wa.constructor(Wa.byteLength),
(new P(db)).set(new P(Wa)),db),Ga=new Xa.constructor(ab,Xa.byteOffset,Xa.length)):Ga=[]:function(Za){if(!N(Za)||"[object Object]"!=c(Za))return!1;Za=ba(Za);if(null===Za)return!0;Za=L.call(Za,"constructor")&&Za.constructor;return"function"==typeof Za&&Za instanceof Za&&Q.call(Za)==da}(Ra)||xa(Ra)?(Ga=Pa,xa(Pa)?Ga=function(Za){var $a=M(Za),Ya=void 0,bb=!Ya;Ya||(Ya={});for(var eb=-1,fb=$a.length;++eb<fb;){var gb=$a[eb],hb=void 0;void 0===hb&&(hb=Za[gb]);if(bb)b(Ya,gb,hb);else{var ib=Ya,jb=ib[gb];L.call(ib,
gb)&&y(jb,hb)&&(void 0!==hb||gb in ib)||b(ib,gb,hb)}}return Ya}(Pa):I(Pa)&&!G(Pa)||(Ga=function(Za){return"function"!=typeof Za.constructor||D(Za)?{}:Ba(ba(Za))}(Ra))):Sa=!1}var Xa,ab,Wa,db,cb;Sa&&(Qa.set(Ra,Ga),Ka(Ga,Ra,Ha,Na,Qa),Qa["delete"](Ra));e(La,Ma,Ga)}(ta,ma,Ca,qa,v,wa,Fa);else{var Ia=wa?wa(E(ta,Ca),Da,Ca+"",ta,ma,Fa):void 0;void 0===Ia&&(Ia=Da);e(ta,Ca,Ia)}},M)}function A(ta,ma){var qa,wa=ta.__data__;return("string"==(qa=typeof ma)||"number"==qa||"symbol"==qa||"boolean"==qa?"__proto__"!==
ma:null===ma)?wa["string"==typeof ma?"string":"hash"]:wa.map}function B(ta,ma){var qa=null==ta?void 0:ta[ma];return t(qa)?qa:void 0}function x(ta,ma){var qa=typeof ta;return!!(ma=null==ma?9007199254740991:ma)&&("number"==qa||"symbol"!=qa&&Z.test(ta))&&-1<ta&&0==ta%1&&ta<ma}function D(ta){var ma=ta&&ta.constructor;return ta===("function"==typeof ma&&ma.prototype||W)}function E(ta,ma){if(("constructor"!==ma||"function"!=typeof ta[ma])&&"__proto__"!=ma)return ta[ma]}function y(ta,ma){return ta===ma||
ta!=ta&&ma!=ma}function F(ta){return null!=ta&&H(ta.length)&&!G(ta)}function G(ta){if(!I(ta))return!1;ta=c(ta);return"[object Function]"==ta||"[object GeneratorFunction]"==ta||"[object AsyncFunction]"==ta||"[object Proxy]"==ta}function H(ta){return"number"==typeof ta&&-1<ta&&0==ta%1&&9007199254740991>=ta}function I(ta){var ma=typeof ta;return null!=ta&&("object"==ma||"function"==ma)}function N(ta){return null!=ta&&"object"==typeof ta}function M(ta){if(F(ta)){var ma=Ea(ta),qa=!ma&&xa(ta),wa=!ma&&!qa&&
sa(ta),Fa=!ma&&!qa&&!wa&&pa(ta);if(ma=ma||qa||wa||Fa){qa=ta.length;for(var Da=String,Ca=-1,Ia=Array(qa);++Ca<qa;)Ia[Ca]=Da(Ca);qa=Ia}else qa=[];Da=qa.length;for(var La in ta)ma&&("length"==La||wa&&("offset"==La||"parent"==La)||Fa&&("buffer"==La||"byteLength"==La||"byteOffset"==La)||x(La,Da))||qa.push(La);ta=qa}else if(I(ta)){La=D(ta);Fa=[];for(wa in ta)("constructor"!=wa||!La&&L.call(ta,wa))&&Fa.push(wa);ta=Fa}else{La=[];if(null!=ta)for(Fa in Object(ta))La.push(Fa);ta=La}return ta}function J(ta){return ta}
var R=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0;T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object Boolean]"]=T["[object DataView]"]=T["[object Date]"]=T["[object Error]"]=T["[object Function]"]=T["[object Map]"]=T["[object Number]"]=
T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object WeakMap]"]=!1;var X="object"==typeof u&&u&&u.Object===Object&&u,aa="object"==typeof self&&self&&self.Object===Object&&self;aa=X||aa||Function("return this")();var fa=g&&!g.nodeType&&g,oa=fa&&"object"==typeof w&&w&&!w.nodeType&&w;X=(fa=oa&&oa.exports===fa)&&X.process;a:{try{var ua=oa&&oa.require&&oa.require("util").types||X&&X.binding&&X.binding("util");break a}catch(ta){}ua=void 0}ua=ua&&ua.isTypedArray;var ha,
U,ka;X=Array.prototype;var W=Object.prototype;oa=aa["__core-js_shared__"];var Q=Function.prototype.toString,L=W.hasOwnProperty,ca=(ha=/[^.]+$/.exec(oa&&oa.keys&&oa.keys.IE_PROTO||""))?"Symbol(src)_1."+ha:"",Y=W.toString,da=Q.call(Object),S=RegExp("^"+Q.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ha=fa?aa.Buffer:void 0;fa=aa.Symbol;var P=aa.Uint8Array,V=ha?ha.allocUnsafe:void 0,ba=(U=Object.getPrototypeOf,ka=Object,
function(ta){return U(ka(ta))}),ea=Object.create,ia=W.propertyIsEnumerable,ja=X.splice,la=fa?fa.toStringTag:void 0,na=function(){try{var ta=B(Object,"defineProperty");return ta({},"",{}),ta}catch(ma){}}();ha=ha?ha.isBuffer:void 0;var ra=Math.max,va=Date.now,za=B(aa,"Map"),Aa=B(Object,"create"),Ba=function(){function ta(){}return function(ma){if(!I(ma))return{};if(ea)return ea(ma);ta.prototype=ma;ma=new ta;return ta.prototype=void 0,ma}}();z.prototype.clear=function(){this.__data__=Aa?Aa(null):{};
this.size=0};z.prototype["delete"]=function(ta){ta=this.has(ta)&&delete this.__data__[ta];return this.size-=ta?1:0,ta};z.prototype.get=function(ta){var ma=this.__data__;return Aa?(ta=ma[ta],"__lodash_hash_undefined__"===ta?void 0:ta):L.call(ma,ta)?ma[ta]:void 0};z.prototype.has=function(ta){var ma=this.__data__;return Aa?void 0!==ma[ta]:L.call(ma,ta)};z.prototype.set=function(ta,ma){var qa=this.__data__;return this.size+=this.has(ta)?0:1,qa[ta]=Aa&&void 0===ma?"__lodash_hash_undefined__":ma,this};
r.prototype.clear=function(){this.__data__=[];this.size=0};r.prototype["delete"]=function(ta){var ma=this.__data__;ta=a(ma,ta);return!(0>ta)&&(ta==ma.length-1?ma.pop():ja.call(ma,ta,1),--this.size,!0)};r.prototype.get=function(ta){var ma=this.__data__;ta=a(ma,ta);return 0>ta?void 0:ma[ta][1]};r.prototype.has=function(ta){return-1<a(this.__data__,ta)};r.prototype.set=function(ta,ma){var qa=this.__data__,wa=a(qa,ta);return 0>wa?(++this.size,qa.push([ta,ma])):qa[wa][1]=ma,this};l.prototype.clear=function(){this.size=
0;this.__data__={hash:new z,map:new (za||r),string:new z}};l.prototype["delete"]=function(ta){ta=A(this,ta)["delete"](ta);return this.size-=ta?1:0,ta};l.prototype.get=function(ta){return A(this,ta).get(ta)};l.prototype.has=function(ta){return A(this,ta).has(ta)};l.prototype.set=function(ta,ma){var qa=A(this,ta),wa=qa.size;return qa.set(ta,ma),this.size+=qa.size==wa?0:1,this};d.prototype.clear=function(){this.__data__=new r;this.size=0};d.prototype["delete"]=function(ta){var ma=this.__data__;ta=ma["delete"](ta);
return this.size=ma.size,ta};d.prototype.get=function(ta){return this.__data__.get(ta)};d.prototype.has=function(ta){return this.__data__.has(ta)};d.prototype.set=function(ta,ma){var qa=this.__data__;if(qa instanceof r){var wa=qa.__data__;if(!za||199>wa.length)return wa.push([ta,ma]),this.size=++qa.size,this;qa=this.__data__=new l(wa)}return qa.set(ta,ma),this.size=qa.size,this};var Oa=function(ta,ma,qa){var wa=-1,Fa=Object(ta);qa=qa(ta);for(var Da=qa.length;Da--;){var Ca=qa[++wa];if(!1===ma(Fa[Ca],
Ca,Fa))break}return ta},Ja=function(ta){var ma=0,qa=0;return function(){var wa=va(),Fa=16-(wa-qa);if(qa=wa,0<Fa){if(800<=++ma)return arguments[0]}else ma=0;return ta.apply(void 0,arguments)}}(na?function(ta,ma){return na(ta,"toString",{configurable:!0,enumerable:!1,value:(qa=ma,function(){return qa}),writable:!0});var qa}:J),xa=m(function(){return arguments}())?m:function(ta){return N(ta)&&L.call(ta,"callee")&&!ia.call(ta,"callee")},Ea=Array.isArray,sa=ha||function(){return!1},pa=ua?function(ta){return function(ma){return ta(ma)}}(ua):
function(ta){return N(ta)&&H(ta.length)&&!!T[c(ta)]},ya;aa=(ya=function(ta,ma,qa,wa){v(ta,ma,qa,wa)},function(ta,ma){return Ja(function(qa,wa,Fa){return wa=ra(void 0===wa?qa.length-1:wa,0),function(){for(var Da=arguments,Ca=-1,Ia=ra(Da.length-wa,0),La=Array(Ia);++Ca<Ia;)La[Ca]=Da[wa+Ca];Ca=-1;for(Ia=Array(wa+1);++Ca<wa;)Ia[Ca]=Da[Ca];return Ia[wa]=Fa(La),C(qa,this,Ia)}}(ta,ma,J),ta+"")}(function(ta,ma){var qa=-1,wa=ma.length,Fa=1<wa?ma[wa-1]:void 0,Da=2<wa?ma[2]:void 0;Fa=3<ya.length&&"function"==
typeof Fa?(wa--,Fa):void 0;var Ca;if(Ca=Da){Ca=ma[0];var Ia=ma[1];if(I(Da)){var La=typeof Ia;Ca=!!("number"==La?F(Da)&&x(Ia,Da.length):"string"==La&&Ia in Da)&&y(Da[Ia],Ca)}else Ca=!1}Ca&&(Fa=3>wa?void 0:Fa,wa=1);for(ta=Object(ta);++qa<wa;)(Da=ma[qa])&&ya(ta,Da,qa,Fa);return ta}));w.exports=aa}).call(this,k(170),k(366)(f))},398:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z){return C?Object(u.g)(Object(u.g)([],z),["(group:"+C.id+")"]):z})},399:function(f,
g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z,r){if(C)switch(C.value){case "authoritative":return z&&z.orgId&&!z.portal.isPortal?Object(u.g)(Object(u.g)([],r),["((contentstatus:org_authoritative orgid:"+z.orgId+") OR contentstatus:public_authoritative)"]):z&&z.orgId&&z.portal.isPortal?Object(u.g)(Object(u.g)([],r),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(u.g)(Object(u.g)([],r),["(contentstatus:public_authoritative)"]);
case "deprecated":return Object(u.g)(Object(u.g)([],r),["(contentstatus:deprecated)"])}return r})},400:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z){return C?Object(u.g)(Object(u.g)([],z),["(access:"+C.value+")"]):z})},401:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z){if(C){var r=function(l){for(var d,e=0,a=Object.keys(l);e<a.length;e++){var b=l[a[e]];if(b.selected){d=b.items;break}b=b.participants.filter(function(c){return c.selected});
if(0<b.length){d=b[0].items;break}}return d}(C);if(r)return r=r.join(" OR "),Object(u.g)(Object(u.g)([],z),["id:("+r+")"])}return z})},402:function(f,g,k){k.d(g,"a",function(){return C});f=k(56);var u=k.n(f),w=k(30),C=function(z,r,l,d){function e(y){B=y.categorySchema[0].source.split(".")[1];Object(w.e)(z,r,l.contentCategorySetsGroupQuery).then(a,v);Object(w.v)(z,r.restUrl+"/portals/regions",{culture:d}).then(m,v)}function a(y){y.results[0]?Object(w.v)(z,r.restUrl+"/content/groups/"+y.results[0].id+
"/search",{q:"typekeywords: "+B}).then(b,v):v("The content category sets group could not be found.")}function b(y){1===y.results.length&&y.results[0]?Object(w.h)(z,r,y.results[0].id).then(c,v):v("The item containing the living atlas categories could not be determined.")}function c(y){x=y.categorySchema[0];l.isPortal&&D?t([x]):D&&t([x,D])}function m(y){D={categories:y.map(function(F){return{displayName:F.localizedName,title:F.region}}).sort(function(F,G){return"wo"===F.title.toLowerCase()?-1:F.displayName.localeCompare(G.displayName)}),
description:"2.0",displayName:"Regions",title:"region"};l.isPortal&&x?t([x]):x&&t([x,D])}function t(y){E.resolve({schema:y,id:A})}function v(y){E.reject(y)}void 0===d&&(d="en");var A,B,x,D,E=new u.a;return Object(w.e)(z,r,l.livingAtlasGroupQuery,(null==r?0:r.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(y){y.results[0]&&y.results[0].id?(A=y.results[0].id,Object(w.f)(z,r,A).then(e,v)):v("The living atlas group could not be found.")},v),E}},409:function(f,g,k){k.d(g,"a",function(){return u});
k.d(g,"b",function(){return w});var u="CHANGE_SEARCH_STRING",w=function(C){return{type:u,payload:C}}},410:function(f,g,k){k.d(g,"b",function(){return u});k.d(g,"a",function(){return w});var u="SHOW_EMPTY_RESULTS",w="CHANGE_RESULT_DISPLAY"},48:function(f,g,k){function u(T,X,aa){var fa=X.settings.utils.request,oa=Object(z.b)({},X);oa=fa(oa[0],oa[1]).then(Object(r.a)(X),function(ka){return T({type:F,payload:ka})});if(aa){var ua=Object(z.a)(X,["access","contentstatus","categories"]);ua=fa(ua[0],ua[1]);
aa=X.settings.config.customSections;var ha=X.parameters.section;if(Object(A.a)(ha)||Object(v.e)(aa,ha)&&Object(A.a)(Object(v.b)(aa,ha))){var U=Object(z.c)(X,X.ui.tagsFilter.filterString);U=fa(U[0],U[1])}}fa=[oa,ua,U].filter(function(ka){return ka});l()(fa).then(function(ka){T(function(W,Q){var L,ca,Y=Q[0],da=Q[1],S=Q[2],P=Object(B.a)(W),V=W.settings.utils.iconDir;return{type:y,payload:{search:Object(w.a)(Object(w.a)({},Y.data),{results:Y.data.results.map(function(ba){return Object(d.a)(P,V,ba)})}),
aggregations:(null===(L=null==da?void 0:da.data)||void 0===L?0:L.aggregations)?{counts:Object(w.g)([],da.data.aggregations.counts).concat((null===(ca=null==S?void 0:S.data)||void 0===ca?0:ca.aggregations)?Object(w.g)([],S.data.aggregations.counts):[]),countInfo:{section:W.parameters.section,group:W.parameters.filter.group,custom:W.settings.config.customSections.filter(function(ba){return ba.name===W.parameters.section})[0]}}:void 0}}}(X,ka));T(D.e)},function(ka){return T({type:F,payload:ka})})}k.d(g,
"a",function(){return E});k.d(g,"c",function(){return y});k.d(g,"b",function(){return F});k.d(g,"d",function(){return G});k.d(g,"f",function(){return H});k.d(g,"e",function(){return I});k.d(g,"g",function(){return N});k.d(g,"h",function(){return M});k.d(g,"i",function(){return J});var w=k(0),C=k(100),z=k(162),r=k(217);f=k(65);var l=k.n(f),d=k(78),e=k(326),a=k(327),b=k(173),c=k(266),m=k(328),t=k(264),v=k(86),A=k(329),B=k(126),x=k(256),D=k(199),E="LOADING_CONTENT",y="LOADING_CONTENT_SUCCESS",F="LOADING_CONTENT_FAILED",
G="LOADING_NEXT",H="LOADING_NEXT_SUCCESS",I="LOADING_NEXT_FAILED",N="SUBSCRIPTION_CONTENT_SUCCESS",M=function(T){return function(X,aa){var fa=aa(),oa=fa.settings.utils.request,ua=fa.parameters.nextQuery.nextStart;X({type:G});ua=Object(z.b)({num:T,start:ua},fa);oa(ua[0],ua[1]).then(Object(r.a)(fa),function(ha){return X({type:I,payload:ha})}).then(function(ha){return X(Z(fa,ha))},function(ha){return X({type:I,payload:ha})})}},J=function(T){return function(X,aa){var fa=aa();X({type:E});fa.settings.config.clearSelectionBetweenSearches&&
X({type:C.b});X(R(T))}},R=function(T){return function(X,aa){var fa=aa(),oa=fa.parameters.section,ua=fa.settings.utils.portal.user,ha=!!ua,U=fa.settings.utils.portal,ka=U.isPortal,W=ua&&"org_admin"===ua.role,Q=ua&&ua.privileges&&-1<ua.privileges.indexOf("portal:admin:manageCollaborations"),L=ua&&!ka&&ua.orgId&&U.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(U.subscriptionInfo.type);X(Object(e.b)()).then(function(ca){"livingAtlas"===oa||"Living Atlas"===oa?X(Object(a.d)(ca)).then(function(){return u(X,
aa(),T)},function(){return X({type:F,payload:"Couldn't load the living atlas info."})}):"myContent"!==oa&&"myGroups"!==oa&&"myFavorites"!==oa&&"subscription"!==oa||!ha?"myOrganization"===oa&&ha?l()([X(Object(c.d)())].concat(W&&Q&&!L?[X(Object(m.a)(X,aa()))]:[])).then(function(){return u(X,aa(),T)},function(){return X({type:F,payload:"Couldn't load the organization info."})}):Object(v.e)(fa.settings.config.customSections,oa)?X(Object(t.e)()).then(function(){return u(X,aa(),T)},function(){return X({type:F,
payload:"Couldn't load the custom section info."})}):u(X,fa,T):l()([X(Object(b.l)())].concat(ha&&ua.orgId?[X(Object(c.d)())]:[]).concat(W&&Q&&!L?[X(Object(m.a)(X,aa()))]:[])).then(function(){return"subscription"===oa?X(Object(x.d)()).then(function(){return X({type:N,payload:aa().results.provisionedContent.content})},function(){return X({type:F,payload:"Couldn't load provisioned content info."})}):u(X,aa(),T)},function(){return X({type:F,payload:"Couldn't load the user info."})})})}},Z=function(T,
X){var aa=T.settings.utils.iconDir,fa=Object(B.a)(T);return{type:H,payload:Object(w.a)(Object(w.a)({},X.data),{results:X.data.results.map(function(oa){return Object(d.a)(fa,aa,oa)})})}}},49:function(f,g,k){k.d(g,"d",function(){return u});k.d(g,"n",function(){return w});k.d(g,"i",function(){return C});k.d(g,"j",function(){return z});k.d(g,"m",function(){return r});k.d(g,"f",function(){return l});k.d(g,"h",function(){return d});k.d(g,"l",function(){return e});k.d(g,"c",function(){return a});k.d(g,"p",
function(){return b});k.d(g,"g",function(){return c});k.d(g,"e",function(){return m});k.d(g,"q",function(){return t});k.d(g,"k",function(){return v});k.d(g,"o",function(){return A});k.d(g,"r",function(){return B});k.d(g,"b",function(){return x});k.d(g,"a",function(){return D});k.d(g,"u",function(){return E});k.d(g,"E",function(){return y});k.d(g,"y",function(){return F});k.d(g,"D",function(){return G});k.d(g,"z",function(){return H});k.d(g,"A",function(){return I});k.d(g,"w",function(){return N});
k.d(g,"C",function(){return M});k.d(g,"t",function(){return J});k.d(g,"G",function(){return R});k.d(g,"v",function(){return Z});k.d(g,"x",function(){return T});k.d(g,"H",function(){return X});k.d(g,"B",function(){return aa});k.d(g,"F",function(){return fa});k.d(g,"I",function(){return oa});k.d(g,"s",function(){return ua});var u="UPDATE_CUSTOM_FILTER",w="UPDATE_ORG_GROUP_FILTER",C="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",z="UPDATE_LIVING_ATLAS_REGION_FILTER",r="UPDATE_ORG_CATEGORIES_FILTER",l="UPDATE_GROUP_CATEGORIES_FILTER",
d="UPDATE_ITEM_TYPE_FILTER",e="UPDATE_MODIFIED_FILTER",a="UPDATE_CREATED_FILTER",b="UPDATE_SHARED_FILTER",c="UPDATE_GROUP_FILTER",m="UPDATE_FOLDER_FILTER",t="UPDATE_STATUS_FILTER",v="UPDATE_MAP_AREA_FILTER",A="UPDATE_SEARCH_ORG_FILTER",B="UPDATE_TAGS_FILTER",x="UPDATE_COLLABORATIONS_FILTER",D="CLEAR_ALL_FILTERS",E=function(ha,U){return{type:u,payload:{index:ha,filter:U}}},y=function(ha){return{type:w,payload:ha}},F=function(ha){return{type:d,payload:ha}},G=function(ha){return{type:r,payload:ha}},
H=function(ha){return{type:C,payload:ha}},I=function(ha){return{type:z,payload:ha}},N=function(ha){return{type:l,payload:ha}},M=function(ha,U){return{type:e,payload:{section:ha,modified:U}}},J=function(ha,U){return{type:a,payload:{section:ha,created:U}}},R=function(ha){return{type:b,payload:ha}},Z=function(ha){return{type:m,payload:ha}},T=function(ha){return{type:c,payload:ha}},X=function(ha){return{type:t,payload:ha}},aa=function(ha){return{type:v,payload:ha}},fa=function(ha){return{type:A,payload:ha}},
oa=function(ha){return{type:B,payload:ha}},ua=function(ha){return{type:x,payload:ha}}},5:function(f,g,k){function u(a){return 0===Object.keys(a).length&&a.constructor===Object}function w(a){return null!=a}function C(a,b){return d.apply(null,arguments)}function z(a,b){return e.apply(null,arguments)}k.d(g,"b",function(){return u});k.d(g,"a",function(){return w});k.d(g,"e",function(){return l});k.d(g,"c",function(){return C});k.d(g,"d",function(){return z});var r=k(0);f=k(15);var l=Object(f.a)(function(a,
b){var c=Object(r.a)({},b);return delete c[a],c}),d=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,m){return c[m]=a(b[m],m,b),c},{})}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,m){return a(b[m],m,b)&&(c[m]=b[m]),c},{})})},51:function(f,g,k){function u(y){return!(!y.urlKey||!y.customBaseUrl)}function w(y){return y.role===m.admin||y.role===m.accountAdmin}function C(y){return Object(A.a)(y.roleId)&&0<(y.roleId||"").length}function z(y){return!C(y)||C(y)&&
-1<(y.privileges||[]).indexOf("portal:admin:viewItems")}function r(y){return-1<(y.privileges||[]).indexOf("portal:user:shareToOrg")}function l(y){return-1<(y.privileges||[]).indexOf("portal:user:shareToGroup")}function d(y){return-1<(y.privileges||[]).indexOf("portal:user:shareToPublic")}function e(y,F){return a(y)||b(y)||F.canSharePublic&&c(y)}function a(y){return-1<(y.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(y){return-1<(y.privileges||[]).indexOf("portal:admin:shareToOrg")}
function c(y){return-1<(y.privileges||[]).indexOf("portal:admin:shareToPublic")}k.d(g,"l",function(){return x});k.d(g,"h",function(){return D});k.d(g,"m",function(){return E});k.d(g,"k",function(){return u});k.d(g,"i",function(){return w});k.d(g,"j",function(){return C});k.d(g,"g",function(){return z});k.d(g,"b",function(){return r});k.d(g,"a",function(){return l});k.d(g,"c",function(){return d});k.d(g,"d",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});var m,
t=k(63),v=k(148),A=k(5),B=k(58);!function(y){y.user="org_user";y.accountUser="account_user";y.publisher="org_publisher";y.accountPublisher="account_publisher";y.admin="org_admin";y.accountAdmin="account_admin";y.viewer="iAAAAAAAAAAAAAAA";y.dataEditor="iBBBBBBBBBBBBBBB"}(m||(m={}));var x=function(y){var F=y.items;return!!y.user.orgId&&F.every(function(G){return G.isOrgItem})},D=function(y){var F=y.items,G=y.user,H=y.portal;y=F[0];var I=Object(B.c)(y,G),N=C(G),M=e(G,H);if(N=Object(B.a)(y,G)&&-1<(G.privileges||
[]).indexOf("portal:admin:updateItems")&&!N)N=!u(H)||l(G)||r(G)||H.canSharePublic&&d(G)||e(G,H);H=N;return!(y.portal.isPortal&&y.owner!==G.username&&-1<y.owner.indexOf("esri_"))&&(I||H||x({items:F,user:G})&&M)},E=function(y,F){return Object(t.a)(Object(v.a)(y))(F)}},56:function(f,g){f.exports=n},58:function(f,g,k){function u(d,e){return(null==d?void 0:d.owner)===e.username}function w(d,e){var a;if(!(a=u(d,e)))if(Object(z.a)(d.isAdmin))a=!!d.isAdmin;else{a=d.owner;var b="admin"===d.itemControl;a=!(d.portal.isPortal&&
!u(d,e)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function C(d,e){return w(d,e)||"update"===d.itemControl}k.d(g,"d",function(){return u});k.d(g,"c",function(){return w});k.d(g,"a",function(){return C});k.d(g,"b",function(){return l});var z=k(5),r=k(51),l=function(d){var e=d.user,a=d.items;d=d.portal;return Object(r.l)({items:a,user:e})&&Object(r.h)({items:a,user:e,portal:d})&&Object(r.g)(e)&&a[0].itemOwner||e}},63:function(f,g,
k){function u(){for(var w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];return function(z){return w.reduceRight(function(r,l){return l(r)},z)}}k.d(g,"a",function(){return u})},65:function(f,g){f.exports=q},710:function(f,g,k){function u(A,B){var x,D,E=B.settings.utils.telemetry,y={pageName:B.settings.utils.appName||window.location.href,facetValue:{myContent:"my content",myFavorites:"my fav",myGroups:"my groups",myOrganization:"my org",livingAtlas:"living atlas",all:"arcgis online"}[B.parameters.section]||
"other"};if(A.type===z.a)return(null==E?void 0:E.getWorkflow("item browser"))&&E.cancelWorkflow("item browser"),void(null==E||E.startWorkflow("item browser",y));var F=null==E?void 0:E.getWorkflow("item browser");if(E&&F)switch(A.type){case r.a:case l.a:E.stepWorkflow("item browser","search",Object(w.a)(Object(w.a)({},y),{details:(null===(x=B.parameters.searchString)||void 0===x?void 0:x.current)||"",attribute:Object(t.a)(B)?"enriched":void 0,searchQuery:Object(v.b)(B)}));break;case d.a:E.stepWorkflow("item browser",
"sort",Object(w.a)(Object(w.a)({},y),{details:A.payload}));break;case e.a:E.stepWorkflow("item browser","list"===B.ui.resultPanel.display?"list view":"compact view",Object(w.a)({},y));break;case a.c:E.stepWorkflow("item browser","pagination",Object(w.a)(Object(w.a)({},y),{details:A.payload}));break;case b.e:case b.h:case b.l:case b.c:case b.r:case b.p:E.stepWorkflow("item browser","filter",Object(w.a)(Object(w.a)({},y),{details:A.type.split("_").join(" ").toLowerCase()}));break;case c.f:E.stepWorkflow("item browser",
"select all on page",Object(w.a)({},y));break;case m.a:E.stepWorkflow("item browser","card action",Object(w.a)(Object(w.a)({},y),{details:"view item details"}));break;case C.SELECT_ITEM:E.stepWorkflow("item browser","card action",Object(w.a)(Object(w.a)({},y),{details:"add"}));break;case C.DESELECT_ITEM:E.stepWorkflow("item browser","card action",Object(w.a)(Object(w.a)({},y),{details:"remove"}));break;case c.k:x=B.results.selectedItems[A.payload.id]?"select":"deselect";E.stepWorkflow("item browser",
"card action",Object(w.a)(Object(w.a)({},y),{details:x}));break;case c.d:E.endWorkflow("item browser",Object(w.a)(Object(w.a)({},y),{count:null===(D=A.payload)||void 0===D?void 0:D.length}));break;case c.a:E.cancelWorkflow("item browser",Object(w.a)({},y))}}k.d(g,"a",function(){return u});var w=k(0),C=k(231),z=k(326),r=k(288),l=k(409),d=k(290),e=k(410),a=k(295),b=k(49),c=k(100),m=k(357),t=k(356),v=k(179)},78:function(f,g,k){k.d(g,"a",function(){return d});k.d(g,"b",function(){return e});var u=k(63);
f=k(5);var w=k(123),C=k(122),z=k(117),r=k(121),l=k(120),d=function(a,b,c){return Object(u.a)(Object(l.a)(a),Object(r.a)(a),Object(z.a)(b),Object(C.a)(a),Object(w.a)(a))(c)},e=Object(u.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},86:function(f,g,k){function u(d){return!(!r(d)&&!l(d))}function w(d,e){return d.filter(function(a){return a.name===e})[0]}function C(d,e){return!!w(d,e)}k.d(g,"a",function(){return z});
k.d(g,"c",function(){return r});k.d(g,"d",function(){return l});k.d(g,"f",function(){return u});k.d(g,"b",function(){return w});k.d(g,"e",function(){return C});f=k(15);var z=function(d){return d.filters?d.filters.filter(function(e){return"object"==typeof e&&("group"===e.type||"org"===e.type)}):[]};f=Object(f.a)(function(d,e){if(e.filters)return e.filters.reduce(function(a,b){return"object"==typeof b&&b.type===d?b:a},void 0)});var r=f("group"),l=f("org")},983:function(f,g,k){k.r(g);k.d(g,"ItemBrowserWrapper",
function(){return c});var u=k(0),w=k(231),C=k.n(w),z=k(16);f=k(386);var r=k.n(f);f=k(336);var l=k.n(f),d=k(30),e=k(117),a=k(100),b=k(710);k.d(g,"changeSearchSection",function(){return w.changeSearchSection});k.d(g,"initialState",function(){return w.initialState});k.d(g,"search",function(){return w.search});k.d(g,"updateExtent",function(){return w.updateExtent});k.d(g,"viewItemDetails",function(){return w.viewItemDetails});var c=function(){function m(t,v){var A,B;this.options=v;this.listener=this.listener.bind(this);
this.renderContainer=document.createElement("div");this.renderContainer.style.width="100%";this.renderContainer.style.height="100%";this.renderContainer.id="item-browser-wrapper";t.appendChild(this.renderContainer);var x=l()(w.initialState),D=l()(v.initialState);x=r()(x,D,function(E,y){if(Array.isArray(E)&&y)return y});this.initialState=Object(u.a)(Object(u.a)({},x),{settings:Object(u.a)(Object(u.a)({},x.settings),{utils:{telemetry:v.telemetry,appName:v.appName,request:4===v.apiVersion?v.request:
Object(d.u)(v.request),portal:4===v.apiVersion?v.portal:Object(u.a)(Object(u.a)({},v.portal),{restUrl:v.portal.portalUrl.slice(0,-1),credential:null===(A=v.portal.user)||void 0===A?void 0:A.credential}),iconDir:4===v.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons")}})});A=v.middlewares||[];(null===(B=v.telemetry)||void 0===B?0:B.getWorkflow("item browser"))&&v.telemetry.cancelWorkflow("item browser");this.store=z.applyMiddleware.apply(void 0,
Object(u.g)([z.thunk,Object(z.addListener)(b.a),Object(z.addListener)(this.listener)],A))(z.createStore)(w.reducers,this.initialState);this.projector=Object(z.createProjector)(this.store,function(E){return E(C.a,{key:"ib"})},this.renderContainer);this.store.dispatch(Object(w.search)(!0));this.handleInitiallySelectedItemsDfd()}return m.prototype.handleInitiallySelectedItemsDfd=function(){var t=this,v=this.getState().settings,A=v.config.initiallySelectedItemsDfd,B=v.utils.iconDir;A?A.then(function(x){var D=
Object.keys(x).map(function(E){return Object(e.a)(B,Object(u.a)({},x[E]))}).reduce(function(E,y){var F;return Object(u.a)(Object(u.a)({},E),((F={})[y.id]=y,F))},{});t.store.dispatch(Object(a.p)(D))}):this.store.dispatch(Object(a.p)({}))},m.prototype.shimmedRequest=function(t,v){var A,B=Object(u.a)({},v.query);return(null===(A=this.options.portal.user)||void 0===A?void 0:A.credential)&&-1<t.indexOf(this.options.portal.restUrl)&&(B.token=this.options.portal.user.credential.token),this.options.request({url:t,
content:v.query},{usePost:"post"===v.method}).then(function(x){return{data:x}})},m.prototype.dispatch=function(t){var v;null===(v=this.store)||void 0===v||v.dispatch(t)},m.prototype.getState=function(){var t;return(null===(t=this.store)||void 0===t?void 0:t.getState())||this.initialState},m.prototype.listener=function(t,v){var A,B;null===(B=null===(A=this.options)||void 0===A?void 0:A.listener)||void 0===B||B.call(A,t,v)},m}()},99:function(f,g,k){function u(d,e){if(null==d?0:d.length)for(var a=void 0,
b=0;b<d.length;b++)if(e(a=d[b]))return a}function w(d){return d.filter(function(e){return 0<e.length})}function C(d,e,a){var b=[];return e.forEach(function(c){(a?c[a].toLowerCase()===d.toLowerCase():c.toLowerCase()===d.toLowerCase())?b.unshift(c):b.push(c)}),b}k.d(g,"e",function(){return z});k.d(g,"f",function(){return r});k.d(g,"c",function(){return u});k.d(g,"b",function(){return w});k.d(g,"a",function(){return l});k.d(g,"d",function(){return C});f=k(15);var z=function(d,e,a){return a.indexOf(d)===
e},r=Object(f.a)(function(d,e){var a={};return e.filter(function(b){return!a[b[d]]&&(a[b[d]]=!0,!0)})}),l=function(d,e){return d.length===e.length&&d.reduce(function(a,b){return a&&-1<e.indexOf(b)},!0)}}})})},"arcgis-components/ItemBrowser/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../Loaders/LoaderBars ../Buttons/SvgButton ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index ../Buttons/IconButton ../Modals/Overlay ../Dropdowns/TextOptionDropdown ../Navigation/TabNav ../Filters/CategoriesFilter/index ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Badges/Retired ../Filters/MapAreaFilter ../Filters/ItemTypeFilter/index ../Filters/ModifiedFilter/index ../Filters/SharedFilter/index ../Filters/StatusFilter/index ../Filters/FolderFilter/index ../Filters/GroupFilter/index ../Filters/TagsFilter/index ../Filters/CollaborationFilter/index ../Dropdowns/FilterController/index ../Management/LazyLoader ../ItemCards/AnalysisCard/index ../Badges/Authoritative ../Badges/Collaboration ../Badges/Deprecated ../Badges/LivingAtlas ../Badges/Marketplace ../Badges/OpenData ../Badges/Premium ../Badges/Subscriber ../Badges/Solution ../Badges/PublicDataCollection ../ItemCards/MiniCard/index ../ItemCards/MiniCardRow/index".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X,aa,fa,oa,ua,ha,U,ka){return function(W){function Q(ca){if(L[ca])return L[ca].exports;var Y=L[ca]={i:ca,l:!1,exports:{}};return W[ca].call(Y.exports,Y,Y.exports,Q),Y.l=!0,Y.exports}var L={};return Q.m=W,Q.c=L,Q.d=function(ca,Y,da){Q.o(ca,Y)||Object.defineProperty(ca,Y,{enumerable:!0,get:da})},Q.r=function(ca){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ca,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(ca,"__esModule",{value:!0})},Q.t=function(ca,Y){if((1&Y&&(ca=Q(ca)),8&Y)||4&Y&&"object"==typeof ca&&ca&&ca.__esModule)return ca;var da=Object.create(null);if(Q.r(da),Object.defineProperty(da,"default",{enumerable:!0,value:ca}),2&Y&&"string"!=typeof ca)for(var S in ca)Q.d(da,S,function(P){return ca[P]}.bind(null,S));return da},Q.n=function(ca){var Y=ca&&ca.__esModule?function(){return ca["default"]}:function(){return ca};return Q.d(Y,"a",Y),Y},Q.o=function(ca,Y){return Object.prototype.hasOwnProperty.call(ca,
Y)},Q.p="",Q(Q.s=860)}([function(W,Q,L){function ca(ia,ja){function la(){this.constructor=ia}if("function"!=typeof ja&&null!==ja)throw new TypeError("Class extends value "+String(ja)+" is not a constructor or null");ba(ia,ja);ia.prototype=null===ja?Object.create(ja):(la.prototype=ja.prototype,new la)}function Y(ia,ja){var la={},na;for(na in ia)Object.prototype.hasOwnProperty.call(ia,na)&&0>ja.indexOf(na)&&(la[na]=ia[na]);if(null!=ia&&"function"==typeof Object.getOwnPropertySymbols){var ra=0;for(na=
Object.getOwnPropertySymbols(ia);ra<na.length;ra++)0>ja.indexOf(na[ra])&&Object.prototype.propertyIsEnumerable.call(ia,na[ra])&&(la[na[ra]]=ia[na[ra]])}return la}function da(ia,ja,la,na){var ra,va=arguments.length,za=3>va?ja:null===na?na=Object.getOwnPropertyDescriptor(ja,la):na;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)za=Reflect.decorate(ia,ja,la,na);else for(var Aa=ia.length-1;0<=Aa;Aa--)(ra=ia[Aa])&&(za=(3>va?ra(za):3<va?ra(ja,la,za):ra(ja,la))||za);return 3<va&&za&&Object.defineProperty(ja,
la,za),za}function S(ia,ja,la,na){return new (la||(la=Promise))(function(ra,va){function za(Oa){try{Ba(na.next(Oa))}catch(Ja){va(Ja)}}function Aa(Oa){try{Ba(na["throw"](Oa))}catch(Ja){va(Ja)}}function Ba(Oa){var Ja;Oa.done?ra(Oa.value):(Ja=Oa.value,Ja instanceof la?Ja:new la(function(xa){xa(Ja)})).then(za,Aa)}Ba((na=na.apply(ia,ja||[])).next())})}function P(ia,ja){function la(Ba){return function(Oa){return function(Ja){if(na)throw new TypeError("Generator is already executing.");for(;Aa;)try{if(na=
1,ra&&(va=2&Ja[0]?ra["return"]:Ja[0]?ra["throw"]||((va=ra["return"])&&va.call(ra),0):ra.next)&&!(va=va.call(ra,Ja[1])).done)return va;switch(ra=0,va&&(Ja=[2&Ja[0],va.value]),Ja[0]){case 0:case 1:va=Ja;break;case 4:return Aa.label++,{value:Ja[1],done:!1};case 5:Aa.label++;ra=Ja[1];Ja=[0];continue;case 7:Ja=Aa.ops.pop();Aa.trys.pop();continue;default:if(!(va=Aa.trys,(va=0<va.length&&va[va.length-1])||6!==Ja[0]&&2!==Ja[0])){Aa=0;continue}if(3===Ja[0]&&(!va||Ja[1]>va[0]&&Ja[1]<va[3]))Aa.label=Ja[1];else if(6===
Ja[0]&&Aa.label<va[1])Aa.label=va[1],va=Ja;else if(va&&Aa.label<va[2])Aa.label=va[2],Aa.ops.push(Ja);else{va[2]&&Aa.ops.pop();Aa.trys.pop();continue}}Ja=ja.call(ia,Aa)}catch(xa){Ja=[6,xa],ra=0}finally{na=va=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ba,Oa])}}var na,ra,va,za,Aa={label:0,sent:function(){if(1&va[0])throw va[1];return va[1]},trys:[],ops:[]};return za={next:la(0),"throw":la(1),"return":la(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),
za}function V(ia,ja){for(var la=0,na=ja.length,ra=ia.length;la<na;la++,ra++)ia[ra]=ja[la];return ia}L.d(Q,"d",function(){return ca});L.d(Q,"a",function(){return ea});L.d(Q,"f",function(){return Y});L.d(Q,"c",function(){return da});L.d(Q,"b",function(){return S});L.d(Q,"e",function(){return P});L.d(Q,"g",function(){return V});var ba=function(ia,ja){return(ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(la,na){la.__proto__=na}||function(la,na){for(var ra in na)Object.prototype.hasOwnProperty.call(na,
ra)&&(la[ra]=na[ra])})(ia,ja)},ea=function(){return(ea=Object.assign||function(ia){for(var ja,la=1,na=arguments.length;la<na;la++)for(var ra in ja=arguments[la])Object.prototype.hasOwnProperty.call(ja,ra)&&(ia[ra]=ja[ra]);return ia}).apply(this,arguments)};Object.create;Object.create},,,,,function(W,Q,L){function ca(ia){return 0===Object.keys(ia).length&&ia.constructor===Object}function Y(ia){return null!=ia}function da(ia,ja){return ba.apply(null,arguments)}function S(ia,ja){return ea.apply(null,
arguments)}L.d(Q,"b",function(){return ca});L.d(Q,"a",function(){return Y});L.d(Q,"e",function(){return V});L.d(Q,"c",function(){return da});L.d(Q,"d",function(){return S});var P=L(0);W=L(15);var V=Object(W.a)(function(ia,ja){var la=Object(P.a)({},ja);return delete la[ia],la}),ba=Object(W.a)(function(ia,ja){return Object.keys(ja).reduce(function(la,na){return la[na]=ia(ja[na],na,ja),la},{})}),ea=Object(W.a)(function(ia,ja){return Object.keys(ja).reduce(function(la,na){return ia(ja[na],na,ja)&&(la[na]=
ja[na]),la},{})})},,,,,,,,,,function(W,Q,L){function ca(da){return function P(){for(var V=this,ba=[],ea=0;ea<arguments.length;ea++)ba[ea]=arguments[ea];return ba.length>=da.length?da.call.apply(da,Object(Y.g)([this],ba)):function(){for(var ia=[],ja=0;ja<arguments.length;ja++)ia[ja]=arguments[ja];return P.call.apply(P,Object(Y.g)(Object(Y.g)([V],ba),ia))}}}L.d(Q,"a",function(){return ca});var Y=L(0)},function(W,Q){W.exports=O},,,,,,,,,,,,function(W,Q,L){(function(ca,Y){W.exports=function(){function da(){var Ha=
setTimeout;return function(){return Ha(S,1)}}function S(){for(var Ha=0;Ha<Oa;Ha+=2)(0,ma[Ha])(ma[Ha+1]),ma[Ha]=void 0,ma[Ha+1]=void 0;Oa=0}function P(Ha,Ka){var Na=this,Qa=new this.constructor(ba);void 0===Qa[Ia]&&Aa(Qa);var Pa=Na._state;if(Pa){var Ra=arguments[Pa-1];Ea(function(){return za(Pa,Qa,Ra,Na._result)})}else ra(Na,Qa,Ha,Ka);return Qa}function V(Ha){if(Ha&&"object"==typeof Ha&&Ha.constructor===this)return Ha;var Ka=new this(ba);return ia(Ka,Ha),Ka}function ba(){}function ea(Ha,Ka,Na){Ka.constructor===
Ha.constructor&&Na===P&&Ka.constructor.resolve===V?function(Qa,Pa){1===Pa._state?la(Qa,Pa._result):2===Pa._state?na(Qa,Pa._result):ra(Pa,void 0,function(Ra){return ia(Qa,Ra)},function(Ra){return na(Qa,Ra)})}(Ha,Ka):void 0===Na?la(Ha,Ka):"function"==typeof Na?function(Qa,Pa,Ra){Ea(function(Sa){var Va=!1,Ua=function(Ta,Xa,ab,Wa){try{Ta.call(Xa,ab,Wa)}catch(db){return db}}(Ra,Pa,function(Ta){Va||(Va=!0,Pa!==Ta?ia(Sa,Ta):la(Sa,Ta))},function(Ta){Va||(Va=!0,na(Sa,Ta))},Sa._label);!Va&&Ua&&(Va=!0,na(Sa,
Ua))},Qa)}(Ha,Ka,Na):la(Ha,Ka)}function ia(Ha,Ka){if(Ha===Ka)na(Ha,new TypeError("You cannot resolve a promise with itself"));else if(Qa=typeof(Na=Ka),null===Na||"object"!==Qa&&"function"!==Qa)la(Ha,Ka);else{Na=void 0;try{Na=Ka.then}catch(Pa){return void na(Ha,Pa)}ea(Ha,Ka,Na)}var Na,Qa}function ja(Ha){Ha._onerror&&Ha._onerror(Ha._result);va(Ha)}function la(Ha,Ka){void 0===Ha._state&&(Ha._result=Ka,Ha._state=1,0!==Ha._subscribers.length&&Ea(va,Ha))}function na(Ha,Ka){void 0===Ha._state&&(Ha._state=
2,Ha._result=Ka,Ea(ja,Ha))}function ra(Ha,Ka,Na,Qa){var Pa=Ha._subscribers,Ra=Pa.length;Ha._onerror=null;Pa[Ra]=Ka;Pa[Ra+1]=Na;Pa[Ra+2]=Qa;0===Ra&&Ha._state&&Ea(va,Ha)}function va(Ha){var Ka=Ha._subscribers,Na=Ha._state;if(0!==Ka.length){for(var Qa=void 0,Pa=void 0,Ra=Ha._result,Sa=0;Sa<Ka.length;Sa+=3)Qa=Ka[Sa],Pa=Ka[Sa+Na],Qa?za(Na,Qa,Pa,Ra):Pa(Ra);Ha._subscribers.length=0}}function za(Ha,Ka,Na,Qa){var Pa="function"==typeof Na,Ra=void 0,Sa=void 0,Va=!0;if(Pa){try{Ra=Na(Qa)}catch(Ua){Va=!1,Sa=Ua}if(Ka===
Ra)return void na(Ka,new TypeError("A promises callback cannot return that same promise."))}else Ra=Qa;void 0!==Ka._state||(Pa&&Va?ia(Ka,Ra):!1===Va?na(Ka,Sa):1===Ha?la(Ka,Ra):2===Ha&&na(Ka,Ra))}function Aa(Ha){Ha[Ia]=La++;Ha._state=void 0;Ha._result=void 0;Ha._subscribers=[]}var Ba=Array.isArray?Array.isArray:function(Ha){return"[object Array]"===Object.prototype.toString.call(Ha)},Oa=0,Ja=void 0,xa=void 0,Ea=function(Ha,Ka){ma[Oa]=Ha;ma[Oa+1]=Ka;2===(Oa+=2)&&(xa?xa(S):Ca())},sa="undefined"!=typeof window?
window:void 0,pa=sa||{};pa=pa.MutationObserver||pa.WebKitMutationObserver;var ya="undefined"==typeof self&&void 0!==ca&&"[object process]"==={}.toString.call(ca),ta="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ma=Array(1E3),qa,wa,Fa,Da,Ca=void 0;ya?Ca=function(){return ca.nextTick(S)}:pa?(wa=0,Fa=new pa(S),Da=document.createTextNode(""),Fa.observe(Da,{characterData:!0}),Ca=function(){Da.data=wa=++wa%2}):ta?((qa=new MessageChannel).port1.onmessage=
S,Ca=function(){return qa.port2.postMessage(0)}):Ca=void 0===sa?function(){try{var Ha=Function("return this")().require("vertx");return void 0!==(Ja=Ha.runOnLoop||Ha.runOnContext)?function(){Ja(S)}:da()}catch(Ka){return da()}}():da();var Ia=Math.random().toString(36).substring(2),La=0,Ga=function(){function Ha(Ka,Na){this._instanceConstructor=Ka;this.promise=new Ka(ba);this.promise[Ia]||Aa(this.promise);Ba(Na)?(this.length=Na.length,this._remaining=Na.length,this._result=Array(this.length),0===this.length?
la(this.promise,this._result):(this.length=this.length||0,this._enumerate(Na),0===this._remaining&&la(this.promise,this._result))):na(this.promise,Error("Array Methods must be provided an Array"))}return Ha.prototype._enumerate=function(Ka){for(var Na=0;void 0===this._state&&Na<Ka.length;Na++)this._eachEntry(Ka[Na],Na)},Ha.prototype._eachEntry=function(Ka,Na){var Qa=this._instanceConstructor,Pa=Qa.resolve;if(Pa===V){var Ra=Pa=void 0,Sa=!1;try{Pa=Ka.then}catch(Va){Sa=!0,Ra=Va}Pa===P&&void 0!==Ka._state?
this._settledAt(Ka._state,Na,Ka._result):"function"!=typeof Pa?(this._remaining--,this._result[Na]=Ka):Qa===Ma?(Qa=new Qa(ba),Sa?na(Qa,Ra):ea(Qa,Ka,Pa),this._willSettleAt(Qa,Na)):this._willSettleAt(new Qa(function(Va){return Va(Ka)}),Na)}else this._willSettleAt(Pa(Ka),Na)},Ha.prototype._settledAt=function(Ka,Na,Qa){var Pa=this.promise;void 0===Pa._state&&(this._remaining--,2===Ka?na(Pa,Qa):this._result[Na]=Qa);0===this._remaining&&la(Pa,this._result)},Ha.prototype._willSettleAt=function(Ka,Na){var Qa=
this;ra(Ka,void 0,function(Pa){return Qa._settledAt(1,Na,Pa)},function(Pa){return Qa._settledAt(2,Na,Pa)})},Ha}(),Ma=function(){function Ha(Ka){this[Ia]=La++;this._result=this._state=void 0;this._subscribers=[];if(ba!==Ka){if("function"!=typeof Ka)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof Ha)(function(Na,Qa){try{Qa(function(Pa){ia(Na,Pa)},function(Pa){na(Na,Pa)})}catch(Pa){na(Na,Pa)}})(this,Ka);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return Ha.prototype["catch"]=function(Ka){return this.then(null,Ka)},Ha.prototype["finally"]=function(Ka){var Na=this.constructor;return"function"==typeof Ka?this.then(function(Qa){return Na.resolve(Ka()).then(function(){return Qa})},function(Qa){return Na.resolve(Ka()).then(function(){throw Qa;})}):this.then(Ka,Ka)},Ha}();return Ma.prototype.then=P,Ma.all=function(Ha){return(new Ga(this,Ha)).promise},Ma.race=function(Ha){var Ka=this;return Ba(Ha)?new Ka(function(Na,Qa){for(var Pa=Ha.length,Ra=
0;Ra<Pa;Ra++)Ka.resolve(Ha[Ra]).then(Na,Qa)}):new Ka(function(Na,Qa){return Qa(new TypeError("You must pass an array to race."))})},Ma.resolve=V,Ma.reject=function(Ha){var Ka=new this(ba);return na(Ka,Ha),Ka},Ma._setScheduler=function(Ha){xa=Ha},Ma._setAsap=function(Ha){Ea=Ha},Ma._asap=Ea,Ma.polyfill=function(){var Ha=void 0;if(void 0!==Y)Ha=Y;else if("undefined"!=typeof self)Ha=self;else try{Ha=Function("return this")()}catch(Qa){throw Error("polyfill failed because global object is unavailable in this environment");
}var Ka=Ha.Promise;if(Ka){var Na=null;try{Na=Object.prototype.toString.call(Ka.resolve())}catch(Qa){}if("[object Promise]"===Na&&!Ka.cast)return}Ha.Promise=Ma},Ma.Promise=Ma,Ma}()}).call(this,L(189),L(170))},,function(W,Q,L){function ca(ma){return ma.reduce(function(qa,wa){return wa&&wa.relatedItems?qa.concat(wa.relatedItems.map(function(Fa){return Fa})):qa},[])}function Y(ma,qa,wa){return ma(qa,{query:Object(P.a)({f:"json"},wa)}).then(function(Fa){return Fa.data})}function da(ma,qa){void 0===qa&&
(qa=100);for(var wa=[],Fa=0;Fa<Math.ceil(ma.length/qa);Fa++)wa.push(ma.slice(Fa*qa,(Fa+1)*qa));return wa.filter(function(Da){return 0<Da.length})}function S(ma){var qa=ma.itemIds,wa=ma.request,Fa=ma.groupIds,Da=ma.portal.restUrl+"/content/itemsgroups";return new V.Promise(function(Ca,Ia){wa(Da,{method:"get",query:{f:"json",items:qa,groups:Fa}}).then(function(La){Ca(La.data)},Ia)})}L.d(Q,"u",function(){return ba});L.d(Q,"n",function(){return ea});L.d(Q,"h",function(){return ia});L.d(Q,"e",function(){return ja});
L.d(Q,"f",function(){return la});L.d(Q,"j",function(){return na});L.d(Q,"o",function(){return ra});L.d(Q,"l",function(){return va});L.d(Q,"k",function(){return za});L.d(Q,"m",function(){return Aa});L.d(Q,"c",function(){return Ba});L.d(Q,"d",function(){return Oa});L.d(Q,"r",function(){return Ja});L.d(Q,"s",function(){return xa});L.d(Q,"t",function(){return Ea});L.d(Q,"g",function(){return sa});L.d(Q,"p",function(){return pa});L.d(Q,"q",function(){return ya});L.d(Q,"v",function(){return Y});L.d(Q,"a",
function(){return da});L.d(Q,"i",function(){return S});L.d(Q,"b",function(){return ta});var P=L(0),V=L(28),ba=function(ma){return function(qa,wa){return ma({url:qa,content:wa.query},{usePost:"post"===wa.method}).then(function(Fa){return{data:Fa}})}},ea=function(ma,qa,wa){return Y(ma,qa.restUrl+"/portals/self",{culture:wa,"default":!0})},ia=function(ma,qa,wa){return Y(ma,qa.restUrl+"/content/items/"+wa+"/data")},ja=function(ma,qa,wa,Fa){return Y(ma,qa.restUrl+"/community/groups",Object(P.a)({q:wa},
Fa))},la=function(ma,qa,wa){return Y(ma,qa.restUrl+"/community/groups/"+wa+"/categorySchema")},na=function(ma,qa,wa){return Y(ma,qa.restUrl+"/portals/"+(wa||qa.id)+"/categorySchema")},ra=function(ma,qa){return Y(ma,qa.restUrl+"/portals/"+qa.id+"/servers")},va=function(ma,qa,wa,Fa){return ma(qa.restUrl+"/portals/"+(wa||qa.id)+"/collaborationsSummary",Fa)},za=function(ma,qa,wa,Fa){return ma(qa.restUrl+"/portals/"+(wa||qa.id)+"/collaboratedItems",Fa)},Aa=function(ma,qa,wa){return Y(ma,location.protocol+
"//"+qa.portalHostname+"/sharing/rest/portals/"+(wa||"self"))},Ba=function(ma,qa,wa){return ma(qa.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+qa.id+" AND access:public",num:100,start:wa||1,sortField:"title",sortOrder:"asc"}}).then(function(Fa){return Fa.data.total>Fa.data.start+Fa.data.num?Ba(ma,qa,Fa.data.start+Fa.data.num).then(function(Da){return Object(P.a)(Object(P.a)({},Da),{data:Object(P.a)(Object(P.a)({},Da.data),{results:Fa.data.results.concat(Da.data.results)})})}):Fa})},Oa=
function(ma,qa,wa,Fa){return ma(qa.restUrl+"/community/users/"+wa+"/provisionedListings",{query:{f:"json",num:100,start:Fa||1}}).then(function(Da){var Ca=V.Promise.all(Da.data.provisionedListings.filter(function(La){return La.itemId}).map(function(La){return(new V.Promise(function(Ga,Ma){ma(qa.restUrl+"/content/items/"+La.itemId,{method:"get",query:{f:"json"}}).then(function(Ha){Ga(Ha.data)},Ma)}))["catch"](function(Ga){return 0})})),Ia=Da.data.provisionedListings.map(function(La){return Y(ma,qa.restUrl+
"/content/items/"+(La.id||La.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(Ga){return Ga},function(Ga){})});return Da.data.total>Da.data.start+Da.data.num?Oa(ma,qa,wa,Da.data.start+Da.data.num).then(function(La){return V.Promise.all([Ca].concat(Ia)).then(function(Ga){return Ga[0].results.concat(ca(Ga.slice(1))).concat(La)})}):V.Promise.all([Ca].concat(Ia)).then(function(La){return La[0].filter(function(Ga){return void 0!==Ga}).concat(ca(La.slice(1)))})})},
Ja=function(ma,qa,wa){return Y(ma,qa.restUrl+"/community/users/"+(wa||qa.user.username))},xa=function(ma,qa,wa){return Y(ma,qa.restUrl+"/content/users/"+(wa||qa.user.username),{num:1})},Ea=function(ma,qa,wa){return Y(ma,qa.restUrl+"/content/groups/"+wa)},sa=function(ma,qa,wa){return Y(ma,qa.restUrl+"/community/groups",wa)},pa=function(ma,qa){return Y(ma,qa.restUrl+"/portals/self/settings")},ya=function(ma,qa){return Y(ma,qa.restUrl+"/portals/self/trustedOrgs",{num:100})},ta=function(ma,qa){return void 0===
qa&&(qa=","),ma.map(function(wa){return wa.id}).join(qa)}},,,,,,function(W,Q){W.exports=K},,,,,,,,,,,,function(W,Q,L){function ca(Da,Ca,Ia){var La=Ca.settings.utils.request,Ga=Object(S.b)({},Ca);Ga=La(Ga[0],Ga[1]).then(Object(P.a)(Ca),function(Na){return Da({type:Ea,payload:Na})});if(Ia){var Ma=Object(S.a)(Ca,["access","contentstatus","categories"]);Ma=La(Ma[0],Ma[1]);Ia=Ca.settings.config.customSections;var Ha=Ca.parameters.section;if(Object(za.a)(Ha)||Object(va.e)(Ia,Ha)&&Object(za.a)(Object(va.b)(Ia,
Ha))){var Ka=Object(S.c)(Ca,Ca.ui.tagsFilter.filterString);Ka=La(Ka[0],Ka[1])}}La=[Ga,Ma,Ka].filter(function(Na){return Na});V()(La).then(function(Na){Da(function(Qa,Pa){var Ra,Sa,Va=Pa[0],Ua=Pa[1],Ta=Pa[2],Xa=Object(Aa.a)(Qa),ab=Qa.settings.utils.iconDir;return{type:xa,payload:{search:Object(Y.a)(Object(Y.a)({},Va.data),{results:Va.data.results.map(function(Wa){return Object(ba.a)(Xa,ab,Wa)})}),aggregations:(null===(Ra=null==Ua?void 0:Ua.data)||void 0===Ra?0:Ra.aggregations)?{counts:Object(Y.g)([],
Ua.data.aggregations.counts).concat((null===(Sa=null==Ta?void 0:Ta.data)||void 0===Sa?0:Sa.aggregations)?Object(Y.g)([],Ta.data.aggregations.counts):[]),countInfo:{section:Qa.parameters.section,group:Qa.parameters.filter.group,custom:Qa.settings.config.customSections.filter(function(Wa){return Wa.name===Qa.parameters.section})[0]}}:void 0}}}(Ca,Na));Da(Oa.e)},function(Na){return Da({type:Ea,payload:Na})})}L.d(Q,"a",function(){return Ja});L.d(Q,"c",function(){return xa});L.d(Q,"b",function(){return Ea});
L.d(Q,"d",function(){return sa});L.d(Q,"f",function(){return pa});L.d(Q,"e",function(){return ya});L.d(Q,"g",function(){return ta});L.d(Q,"h",function(){return ma});L.d(Q,"i",function(){return qa});var Y=L(0),da=L(100),S=L(162),P=L(217);W=L(65);var V=L.n(W),ba=L(78),ea=L(326),ia=L(327),ja=L(173),la=L(266),na=L(328),ra=L(264),va=L(86),za=L(329),Aa=L(126),Ba=L(256),Oa=L(199),Ja="LOADING_CONTENT",xa="LOADING_CONTENT_SUCCESS",Ea="LOADING_CONTENT_FAILED",sa="LOADING_NEXT",pa="LOADING_NEXT_SUCCESS",ya=
"LOADING_NEXT_FAILED",ta="SUBSCRIPTION_CONTENT_SUCCESS",ma=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.settings.utils.request,Ma=La.parameters.nextQuery.nextStart;Ca({type:sa});Ma=Object(S.b)({num:Da,start:Ma},La);Ga(Ma[0],Ma[1]).then(Object(P.a)(La),function(Ha){return Ca({type:ya,payload:Ha})}).then(function(Ha){return Ca(Fa(La,Ha))},function(Ha){return Ca({type:ya,payload:Ha})})}},qa=function(Da){return function(Ca,Ia){var La=Ia();Ca({type:Ja});La.settings.config.clearSelectionBetweenSearches&&
Ca({type:da.b});Ca(wa(Da))}},wa=function(Da){return function(Ca,Ia){var La=Ia(),Ga=La.parameters.section,Ma=La.settings.utils.portal.user,Ha=!!Ma,Ka=La.settings.utils.portal,Na=Ka.isPortal,Qa=Ma&&"org_admin"===Ma.role,Pa=Ma&&Ma.privileges&&-1<Ma.privileges.indexOf("portal:admin:manageCollaborations"),Ra=Ma&&!Na&&Ma.orgId&&Ka.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(Ka.subscriptionInfo.type);Ca(Object(ea.b)()).then(function(Sa){"livingAtlas"===Ga||"Living Atlas"===
Ga?Ca(Object(ia.d)(Sa)).then(function(){return ca(Ca,Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the living atlas info."})}):"myContent"!==Ga&&"myGroups"!==Ga&&"myFavorites"!==Ga&&"subscription"!==Ga||!Ha?"myOrganization"===Ga&&Ha?V()([Ca(Object(la.d)())].concat(Qa&&Pa&&!Ra?[Ca(Object(na.a)(Ca,Ia()))]:[])).then(function(){return ca(Ca,Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the organization info."})}):Object(va.e)(La.settings.config.customSections,Ga)?Ca(Object(ra.e)()).then(function(){return ca(Ca,
Ia(),Da)},function(){return Ca({type:Ea,payload:"Couldn't load the custom section info."})}):ca(Ca,La,Da):V()([Ca(Object(ja.l)())].concat(Ha&&Ma.orgId?[Ca(Object(la.d)())]:[]).concat(Qa&&Pa&&!Ra?[Ca(Object(na.a)(Ca,Ia()))]:[])).then(function(){return"subscription"===Ga?Ca(Object(Ba.d)()).then(function(){return Ca({type:ta,payload:Ia().results.provisionedContent.content})},function(){return Ca({type:Ea,payload:"Couldn't load provisioned content info."})}):ca(Ca,Ia(),Da)},function(){return Ca({type:Ea,
payload:"Couldn't load the user info."})})})}},Fa=function(Da,Ca){var Ia=Da.settings.utils.iconDir,La=Object(Aa.a)(Da);return{type:pa,payload:Object(Y.a)(Object(Y.a)({},Ca.data),{results:Ca.data.results.map(function(Ga){return Object(ba.a)(La,Ia,Ga)})})}}},function(W,Q,L){L.d(Q,"d",function(){return ca});L.d(Q,"n",function(){return Y});L.d(Q,"i",function(){return da});L.d(Q,"j",function(){return S});L.d(Q,"m",function(){return P});L.d(Q,"f",function(){return V});L.d(Q,"h",function(){return ba});L.d(Q,
"l",function(){return ea});L.d(Q,"c",function(){return ia});L.d(Q,"p",function(){return ja});L.d(Q,"g",function(){return la});L.d(Q,"e",function(){return na});L.d(Q,"q",function(){return ra});L.d(Q,"k",function(){return va});L.d(Q,"o",function(){return za});L.d(Q,"r",function(){return Aa});L.d(Q,"b",function(){return Ba});L.d(Q,"a",function(){return Oa});L.d(Q,"u",function(){return Ja});L.d(Q,"E",function(){return xa});L.d(Q,"y",function(){return Ea});L.d(Q,"D",function(){return sa});L.d(Q,"z",function(){return pa});
L.d(Q,"A",function(){return ya});L.d(Q,"w",function(){return ta});L.d(Q,"C",function(){return ma});L.d(Q,"t",function(){return qa});L.d(Q,"G",function(){return wa});L.d(Q,"v",function(){return Fa});L.d(Q,"x",function(){return Da});L.d(Q,"H",function(){return Ca});L.d(Q,"B",function(){return Ia});L.d(Q,"F",function(){return La});L.d(Q,"I",function(){return Ga});L.d(Q,"s",function(){return Ma});var ca="UPDATE_CUSTOM_FILTER",Y="UPDATE_ORG_GROUP_FILTER",da="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",S="UPDATE_LIVING_ATLAS_REGION_FILTER",
P="UPDATE_ORG_CATEGORIES_FILTER",V="UPDATE_GROUP_CATEGORIES_FILTER",ba="UPDATE_ITEM_TYPE_FILTER",ea="UPDATE_MODIFIED_FILTER",ia="UPDATE_CREATED_FILTER",ja="UPDATE_SHARED_FILTER",la="UPDATE_GROUP_FILTER",na="UPDATE_FOLDER_FILTER",ra="UPDATE_STATUS_FILTER",va="UPDATE_MAP_AREA_FILTER",za="UPDATE_SEARCH_ORG_FILTER",Aa="UPDATE_TAGS_FILTER",Ba="UPDATE_COLLABORATIONS_FILTER",Oa="CLEAR_ALL_FILTERS",Ja=function(Ha,Ka){return{type:ca,payload:{index:Ha,filter:Ka}}},xa=function(Ha){return{type:Y,payload:Ha}},
Ea=function(Ha){return{type:ba,payload:Ha}},sa=function(Ha){return{type:P,payload:Ha}},pa=function(Ha){return{type:da,payload:Ha}},ya=function(Ha){return{type:S,payload:Ha}},ta=function(Ha){return{type:V,payload:Ha}},ma=function(Ha,Ka){return{type:ea,payload:{section:Ha,modified:Ka}}},qa=function(Ha,Ka){return{type:ia,payload:{section:Ha,created:Ka}}},wa=function(Ha){return{type:ja,payload:Ha}},Fa=function(Ha){return{type:na,payload:Ha}},Da=function(Ha){return{type:la,payload:Ha}},Ca=function(Ha){return{type:ra,
payload:Ha}},Ia=function(Ha){return{type:va,payload:Ha}},La=function(Ha){return{type:za,payload:Ha}},Ga=function(Ha){return{type:Aa,payload:Ha}},Ma=function(Ha){return{type:Ba,payload:Ha}}},,function(W,Q,L){function ca(xa){return!(!xa.urlKey||!xa.customBaseUrl)}function Y(xa){return xa.role===na.admin||xa.role===na.accountAdmin}function da(xa){return Object(za.a)(xa.roleId)&&0<(xa.roleId||"").length}function S(xa){return!da(xa)||da(xa)&&-1<(xa.privileges||[]).indexOf("portal:admin:viewItems")}function P(xa){return-1<
(xa.privileges||[]).indexOf("portal:user:shareToOrg")}function V(xa){return-1<(xa.privileges||[]).indexOf("portal:user:shareToGroup")}function ba(xa){return-1<(xa.privileges||[]).indexOf("portal:user:shareToPublic")}function ea(xa,Ea){return ia(xa)||ja(xa)||Ea.canSharePublic&&la(xa)}function ia(xa){return-1<(xa.privileges||[]).indexOf("portal:admin:shareToGroup")}function ja(xa){return-1<(xa.privileges||[]).indexOf("portal:admin:shareToOrg")}function la(xa){return-1<(xa.privileges||[]).indexOf("portal:admin:shareToPublic")}
L.d(Q,"l",function(){return Ba});L.d(Q,"h",function(){return Oa});L.d(Q,"m",function(){return Ja});L.d(Q,"k",function(){return ca});L.d(Q,"i",function(){return Y});L.d(Q,"j",function(){return da});L.d(Q,"g",function(){return S});L.d(Q,"b",function(){return P});L.d(Q,"a",function(){return V});L.d(Q,"c",function(){return ba});L.d(Q,"d",function(){return ia});L.d(Q,"e",function(){return ja});L.d(Q,"f",function(){return la});var na,ra=L(63),va=L(148),za=L(5),Aa=L(58);!function(xa){xa.user="org_user";
xa.accountUser="account_user";xa.publisher="org_publisher";xa.accountPublisher="account_publisher";xa.admin="org_admin";xa.accountAdmin="account_admin";xa.viewer="iAAAAAAAAAAAAAAA";xa.dataEditor="iBBBBBBBBBBBBBBB"}(na||(na={}));var Ba=function(xa){var Ea=xa.items;return!!xa.user.orgId&&Ea.every(function(sa){return sa.isOrgItem})},Oa=function(xa){var Ea=xa.items,sa=xa.user,pa=xa.portal;xa=Ea[0];var ya=Object(Aa.c)(xa,sa),ta=da(sa),ma=ea(sa,pa);if(ta=Object(Aa.a)(xa,sa)&&-1<(sa.privileges||[]).indexOf("portal:admin:updateItems")&&
!ta)ta=!ca(pa)||V(sa)||P(sa)||pa.canSharePublic&&ba(sa)||ea(sa,pa);pa=ta;return!(xa.portal.isPortal&&xa.owner!==sa.username&&-1<xa.owner.indexOf("esri_"))&&(ya||pa||Ba({items:Ea,user:sa})&&ma)},Ja=function(xa,Ea){return Object(ra.a)(Object(va.a)(xa))(Ea)}},,,,,function(W,Q){W.exports=n},,function(W,Q,L){function ca(ba,ea){return(null==ba?void 0:ba.owner)===ea.username}function Y(ba,ea){var ia;if(!(ia=ca(ba,ea)))if(Object(S.a)(ba.isAdmin))ia=!!ba.isAdmin;else{ia=ba.owner;var ja="admin"===ba.itemControl;
ia=!(ba.portal.isPortal&&!ca(ba,ea)&&ja&&-1<ia.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(ia))&&ja}return ia}function da(ba,ea){return Y(ba,ea)||"update"===ba.itemControl}L.d(Q,"d",function(){return ca});L.d(Q,"c",function(){return Y});L.d(Q,"a",function(){return da});L.d(Q,"b",function(){return V});var S=L(5),P=L(51),V=function(ba){var ea=ba.user,ia=ba.items;ba=ba.portal;return Object(P.l)({items:ia,user:ea})&&Object(P.h)({items:ia,user:ea,portal:ba})&&
Object(P.g)(ea)&&ia[0].itemOwner||ea}},,,,,function(W,Q,L){function ca(){for(var Y=[],da=0;da<arguments.length;da++)Y[da]=arguments[da];return function(S){return Y.reduceRight(function(P,V){return V(P)},S)}}L.d(Q,"a",function(){return ca})},,function(W,Q){W.exports=q},,,,function(W,Q){W.exports=p},,function(W,Q,L){L.d(Q,"a",function(){return ca});var ca="CLEAR_SELECTION_STATE"},,,,,,,function(W,Q,L){L.d(Q,"a",function(){return ba});L.d(Q,"b",function(){return ea});var ca=L(63);W=L(5);var Y=L(123),
da=L(122),S=L(117),P=L(121),V=L(120),ba=function(ia,ja,la){return Object(ca.a)(Object(V.a)(ia),Object(P.a)(ia),Object(S.a)(ja),Object(da.a)(ia),Object(Y.a)(ia))(la)},ea=Object(ca.a)(Object(W.e)("patchedDescription"),Object(W.e)("thumbURI"),Object(W.e)("iconURI"),Object(W.e)("displayName"),Object(W.e)("badges"))},,,,,,,,function(W,Q,L){function ca(ba){return!(!P(ba)&&!V(ba))}function Y(ba,ea){return ba.filter(function(ia){return ia.name===ea})[0]}function da(ba,ea){return!!Y(ba,ea)}L.d(Q,"a",function(){return S});
L.d(Q,"c",function(){return P});L.d(Q,"d",function(){return V});L.d(Q,"f",function(){return ca});L.d(Q,"b",function(){return Y});L.d(Q,"e",function(){return da});W=L(15);var S=function(ba){return ba.filters?ba.filters.filter(function(ea){return"object"==typeof ea&&("group"===ea.type||"org"===ea.type)}):[]};W=Object(W.a)(function(ba,ea){if(ea.filters)return ea.filters.reduce(function(ia,ja){return"object"==typeof ja&&ja.type===ba?ja:ia},void 0)});var P=W("group"),V=W("org")},,,,function(W,Q,L){L.d(Q,
"a",function(){return ca});L.d(Q,"b",function(){return Y});L.d(Q,"c",function(){return da});L.d(Q,"d",function(){return S});L.d(Q,"e",function(){return P});L.d(Q,"h",function(){return V});L.d(Q,"i",function(){return ba});L.d(Q,"j",function(){return ea});L.d(Q,"k",function(){return ia});L.d(Q,"g",function(){return ja});L.d(Q,"f",function(){return la});var ca="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",Y="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",da="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
S="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",P="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",V="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
ba="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
ea="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",ia="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",ja="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",la="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
,,,,,,,,function(W,Q,L){function ca(ba,ea){if(null==ba?0:ba.length)for(var ia=void 0,ja=0;ja<ba.length;ja++)if(ea(ia=ba[ja]))return ia}function Y(ba){return ba.filter(function(ea){return 0<ea.length})}function da(ba,ea,ia){var ja=[];return ea.forEach(function(la){(ia?la[ia].toLowerCase()===ba.toLowerCase():la.toLowerCase()===ba.toLowerCase())?ja.unshift(la):ja.push(la)}),ja}L.d(Q,"e",function(){return S});L.d(Q,"f",function(){return P});L.d(Q,"c",function(){return ca});L.d(Q,"b",function(){return Y});
L.d(Q,"a",function(){return V});L.d(Q,"d",function(){return da});W=L(15);var S=function(ba,ea,ia){return ia.indexOf(ba)===ea},P=Object(W.a)(function(ba,ea){var ia={};return ea.filter(function(ja){return!ia[ja[ba]]&&(ia[ja[ba]]=!0,!0)})}),V=function(ba,ea){return ba.length===ea.length&&ba.reduce(function(ia,ja){return ia&&-1<ea.indexOf(ja)},!0)}},function(W,Q,L){L.d(Q,"g",function(){return da});L.d(Q,"k",function(){return S});L.d(Q,"j",function(){return P});L.d(Q,"h",function(){return V});L.d(Q,"i",
function(){return ba});L.d(Q,"c",function(){return ea});L.d(Q,"b",function(){return ia});L.d(Q,"f",function(){return ja});L.d(Q,"e",function(){return la});L.d(Q,"d",function(){return na});L.d(Q,"a",function(){return ra});L.d(Q,"r",function(){return va});L.d(Q,"n",function(){return za});L.d(Q,"s",function(){return Aa});L.d(Q,"o",function(){return Ba});L.d(Q,"q",function(){return Oa});L.d(Q,"p",function(){return Ja});L.d(Q,"l",function(){return xa});L.d(Q,"m",function(){return Ea});var ca=L(78),Y=L(48),
da="SELECT_ITEM",S="TOGGLE_ITEM",P="SELECT_ITEM_SINGLE",V="SELECT_ITEM_ASYNC",ba="SELECT_ITEM_ASYNC_FAILED",ea="DESELECT_ITEM",ia="DESELECT_ALL",ja="SELECT_ALL",la="SELECT_ALL_FROM_QUERY_SUCCESS",na="END_BULK_WORKFLOW",ra="CANCEL_BULK_WORKFLOW",va=function(sa){return function(pa,ya){var ta=ya();if(ta.settings.config.asynchronousItemSelect){pa({type:V,payload:sa});var ma=ta.settings.config.onSelect([Object(ca.b)(sa)]);(null==ma?0:ma.then)&&ma.then(function(){ta.settings.config.singleItemSelect?pa({type:P,
payload:sa}):pa({type:da,payload:sa})},function(){pa({type:ba,payload:sa})})}else ta.settings.config.singleItemSelect?(pa({type:P,payload:sa}),ta.settings.config.onSelect([Object(ca.b)(sa)])):(pa({type:da,payload:sa}),ta.settings.config.onSelect([Object(ca.b)(sa)]))}},za=function(sa,pa){var ya=pa();if(ya.settings.config.disableInitiallySelectedItems){ya=ya.results;var ta=ya.selectedItems,ma=ya.initiallySelectedItems;Object.keys(ta).map(function(qa){return ta[qa]}).filter(function(qa){return!ma[qa.id]}).forEach(function(qa){sa({type:ea,
payload:qa})})}else sa({type:ia})},Aa=function(sa){return{type:S,payload:sa}},Ba=function(sa){return function(pa,ya){var ta=ya();pa({type:ea,payload:sa});ta.settings.config.onDeselect([Object(ca.b)(sa)])}},Oa=function(){return function(sa,pa){var ya=pa();sa({type:ja,payload:ya.ui.pagination.displayItems})}},Ja=function(sa){return{type:la,payload:sa}},xa=function(sa,pa){var ya=null==pa?void 0:pa();sa({type:ra});null==ya||ya.settings.config.onBack()},Ea=function(sa,pa){var ya=null==pa?void 0:pa();if(null==
ya?0:ya.settings.config.onBulkAction){var ta=ya.settings.config.onBulkAction;ya=ya.results;var ma=ya.selectedItems,qa=ya.initiallySelectedItems;ya=Object.keys(qa).map(function(Ca){return qa[Ca]});var wa=Object.keys(ma).map(function(Ca){return ma[Ca]}),Fa=ya.filter(function(Ca){return!ma[Ca.id]}),Da=wa.filter(function(Ca){return!qa[Ca.id]});sa({type:Y.a});sa({type:na,payload:Da});ta({initiallySelectedItems:ya,allSelectedItems:wa,newlySelectedItems:Da,deselectedItems:Fa})}}},function(W,Q,L){L.d(Q,"a",
function(){return Y});L.d(Q,"b",function(){return da});var ca=L(0),Y=function(S){return S?S.urlKey?location.protocol+"//"+S.urlKey+"."+S.customBaseUrl:location.protocol+"//"+S.portalHostname:""},da=function(S){return Object(ca.a)(Object(ca.a)({},S),{baseUrl:Y(S)})}},,,,,,,,,,,,,,,,function(W,Q,L){L.d(Q,"a",function(){return Y});var ca=L(0);W=L(15);var Y=Object(W.a)(function(da,S){var P=Object(ca.a),V=Object(ca.a)({},S),ba=S.type,ea=S.typeKeywords?S.typeKeywords:[],ia=null==ba?void 0:ba.toLowerCase(),
ja=!1,la=!1,na=ba=!1;if("ogcfeatureserver"===ia)ea="featureshosted";else if(0<(null==ia?void 0:ia.indexOf("service"))||"feature collection"===ia||"kml"===ia||"wms"===ia||"wmts"===ia||"wfs"===ia){var ra=-1<ea.indexOf("Hosted Service");"feature service"===ia||"feature collection"===ia||"kml"===ia||"wfs"===ia?(na=-1<ea.indexOf("Table"),ja=-1<ea.indexOf("Route Layer"),la=-1<ea.indexOf("Markup"),ea=(ba=-1!==ea.indexOf("Spatiotemporal"))&&na?"spatiotemporaltable":na?"table":ja?"routelayer":la?"markup":
ba?"spatiotemporal":ra?"featureshosted":"features"):"map service"===ia||"wms"===ia||"wmts"===ia?ea=ra||-1<ea.indexOf("Tiled")||"wmts"===ia?"maptiles":"mapimages":"scene service"===ia?ea=-1<ea.indexOf("Line")?"sceneweblayerline":-1<ea.indexOf("3DObject")?"sceneweblayermultipatch":-1<ea.indexOf("Point")?"sceneweblayerpoint":-1<ea.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<ea.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<ea.indexOf("Polygon")?"sceneweblayerpolygon":-1<ea.indexOf("Building")?
"sceneweblayerbuilding":-1<ea.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===ia?(ba=-1<ea.indexOf("Elevation 3D Layer"),ea=-1<ea.indexOf("Tiled Imagery"),ea=ba?"elevationlayer":ea?"tiledimagerylayer":"imagery"):ea="stream service"===ia?"streamlayer":"vector tile service"===ia?"vectortile":"datastore catalog service"===ia?"datastorecollection":"geocoding service"===ia?"geocodeservice":"geoprocessing service"===ia&&-1<ea.indexOf("Web Tool")?"tool":"layers"}else ea="web map"===
ia||"cityengine web scene"===ia?"maps":"web scene"===ia?-1<ea.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===ia&&-1<(null==ea?void 0:ea.indexOf("configurableApp"))?"instantapps":"web mapping application"===ia||"mobile application"===ia||"application"===ia||"operation view"===ia||"desktop application"===ia?"apps":"map document"===ia||"map package"===ia||"published map"===ia||"scene document"===ia||"globe document"===ia||"basemap package"===ia||"mobile basemap package"===
ia||"mobile map package"===ia||"project package"===ia||"project template"===ia||"pro map"===ia||"layout"===ia||"layer"===ia&&-1<ea.indexOf("ArcGIS Pro")||"explorer map"===ia&&-1<ea.indexOf("Explorer Document")?"mapsgray":"service definition"===ia||"csv"===ia||"administrative report"===ia||"shapefile"===ia||"cad drawing"===ia||"geojson"===ia||"360 vr experience"===ia||"netcdf"===ia?"datafiles":"explorer add in"===ia||"desktop add in"===ia||"windows viewer add in"===ia||"windows viewer configuration"===
ia?"appsgray":"arcgis pro add in"===ia||"arcgis pro configuration"===ia?"addindesktop":"rule package"===ia||"file geodatabase"===ia||"csv collection"===ia||"kml collection"===ia||"windows mobile package"===ia||"map template"===ia||"desktop application template"===ia||"arcpad package"===ia||"code sample"===ia||"form"===ia||"document link"===ia||"vector tile package"===ia||"operations dashboard add in"===ia||"rules package"===ia||"image"===ia||"workflow manager package"===ia||"explorer map"===ia&&-1<
ea.indexOf("Explorer Mapping Application")||-1<ea.indexOf("Document")?"datafilesgray":"network analysis service"===ia||"geoprocessing service"===ia||"geodata service"===ia||"geometry service"===ia||"geoprocessing package"===ia||"locator package"===ia||"geoprocessing sample"===ia||"workflow manager service"===ia||"raster function template"===ia||"deep learning package"===ia?"toolsgray":"layer"===ia||"layer package"===ia||"explorer layer"===ia?"layersgray":"scene package"===ia?"scenepackage":"tile package"===
ia?"tilepackage":"storymap"===ia?"storymap":"storymap theme"===ia?"storymaptheme":"web experience"===ia?"experiencebuilder":"web experience template"===ia?"webexperiencetemplate":"task file"===ia?"taskfile":"report template"===ia?"report-template":"statistical data collection"===ia?"statisticaldatacollection":"insights workbook"===ia?"workbook":"insights model"===ia?"insightsmodel":"insights page"===ia?"insightspage":"hub initiative"===ia?"hubinitiative":"hub page"===ia?"hubpage":"hub site application"===
ia?"hubsite":"relational database connection"===ia?"relationaldatabaseconnection":"big data file share"===ia||"data store"===ia?"datastorecollection":"image collection"===ia?"imagecollection":"desktop style"===ia?"desktopstyle":"style"===ia?"style":"dashboard"===ia?"dashboard":"feed"===ia?"feed":"real time analytic"===ia?"realtimeanalytics":"big data analytic"===ia?"bigdataanalytics":"notebook"===ia?"notebook":"notebook code snippets"===ia?"notebookcodesnippets":"maps";return P(V,{iconURI:da+"/"+
ea+"16.png"})})},,,function(W,Q,L){L.d(Q,"a",function(){return Y});var ca=L(0);W=L(15);var Y=Object(W.a)(function(da,S){var P=Object(ca.a),V=Object(ca.a)({},S),ba,ea,ia="notebook"!==(null===(ba=S.type)||void 0===ba?void 0:ba.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(ea=S.type)||void 0===ea?void 0:ea.toLowerCase())&&(ia="notebook-code-snippet-thumb.png");ea=da.baseUrl+"/home/js/arcgisonline/css/images/"+ia;ba=(S.thumbnail&&(ea=da.restUrl+"/content/items/"+
S.id+"/info/"+S.thumbnail+(da.credential?"?token\x3d"+da.credential.token:"")),ea);return P(V,{thumbURI:ba})})},function(W,Q,L){L.d(Q,"a",function(){return da});var ca=L(0);W=L(15);var Y=function(S,P){return P.description?P.description.replace(/src=('|")js\/jsapi\/esri\//g,function(V){return"src\x3d"+('"'===V[4]?'"':"'")+S.baseUrl+"/home/js/jsapi/esri/"}):void 0},da=Object(W.a)(function(S,P){return Object(ca.a)(Object(ca.a)({},P),{patchedDescription:Y(S,P)})})},function(W,Q,L){L.d(Q,"a",function(){return S});
var ca=L(0),Y=L(124);W=L(15);var da=L(58),S=Object(W.a)(function(P,V){var ba=Object(ca.a),ea=Object(ca.a)({},V),ia,ja=V.type,la=V.typeKeywords||[],na=ja,ra=(null==P?void 0:P.portalUser)||(null==P?void 0:P.user);if("Feature Service"===ja||"Feature Collection"===ja){if(na=-1<la.indexOf("Table")?"Table":-1<la.indexOf("Route Layer")?"Route Layer":-1<la.indexOf("Markup")?"Markup":"Feature Layer",ra&&Object(da.d)(V,ra)&&-1<(null==la?void 0:la.indexOf("Hosted Service")))la=(null===(ia=null===document||void 0===
document?void 0:document.documentElement)||void 0===ia?void 0:ia.lang)||"en",na=na+" ("+(Y.a[la]||Y.a[la.split("-")[0]]||Y.a.en)+")"}else"Image Service"===ja?(ia=-1<la.indexOf("Elevation 3D Layer"),la=-1<la.indexOf("Tiled Imagery"),na=ia?"Elevation Layer":la?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===ja?na="Scene Layer":"Scene Package"===ja?na="Scene Layer Package":"Stream Service"===ja?na="Feature Layer":"Geocoding Service"===ja?na="Locator":"Microsoft Powerpoint"===ja?na="Microsoft PowerPoint":
"OGCFeatureServer"===ja?na="OGC Feature Layer":"GeoJson"===ja?na="GeoJSON":"Globe Service"===ja?na="Globe Layer":"Vector Tile Service"===ja?na="Tile Layer":"netCDF"===ja?na="NetCDF":"Map Service"===ja?na=-1===la.indexOf("Spatiotemporal")&&(-1<la.indexOf("Hosted Service")||-1<la.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":ja&&-1<ja.toLowerCase().indexOf("add in")?na=ja.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===ja?na="Big Data File Share":"Web Mapping Application"===ja&&(null==
la?0:la.includes("configurableApp"))?na="Instant App":"Data Store"===ja&&(la.includes("cloudStore_amazon")||la.includes("cloudStore_azure")?na+=" (Cloud)":(la.includes("fileShare")||la.includes("hdfs")||la.includes("hive")||la.includes("bigDataFileShare")&&la.includes("dataStore"))&&(na+=" (Big Data File Share)"));return ba(ea,{displayName:na})})},function(W,Q,L){L.d(Q,"a",function(){return da});var ca=L(0);W=L(15);var Y=function(S,P){var V=[],ba=S.typeKeywords?S.typeKeywords:[];return S.contentStatus&&
("org_authoritative"===S.contentStatus||"public_authoritative"===S.contentStatus?V.push("authoritative"):"deprecated"===S.contentStatus&&V.push("deprecated")),S.origin&&V.push("collaboration"),S.groupDesignations&&-1<S.groupDesignations.indexOf("livingatlas")&&V.push("livingAtlas"),-1<ba.indexOf("Requires Credits")?V.push("premium"):-1<ba.indexOf("Requires Subscription")&&V.push("subscriber"),-1<ba.indexOf("Public Data Collection")&&((null==P?void 0:P.portalUser)||(null==P?void 0:P.user))&&V.push("publicDataCollection"),
"Solution"===S.type&&-1<S.typeKeywords.indexOf("ArcGIS Solution")&&V.push("solution"),P.isPortal&&"Web Mapping Application"===S.type&&(-1<S.typeKeywords.indexOf("Story Map")&&V.push("retiredStoryMap"),function(ea){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(ia){var ja,
la=-1<ia.indexOf(".html");return-1<(null===(ja=ea.url)||void 0===ja?void 0:ja.indexOf("/apps/"+ia+(la?"":"/")))})}(S)&&V.push("retiredApp")),V},da=Object(W.a)(function(S,P){return Object(ca.a)(Object(ca.a)({},P),{badges:Y(P,S)})})},function(W,Q,L){L.d(Q,"a",function(){return ca});var ca={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},function(W,Q,L){L.d(Q,"a",function(){return P});L.d(Q,"d",function(){return V});L.d(Q,"c",function(){return ba});L.d(Q,"b",function(){return ea});L.d(Q,"f",function(){return ia});L.d(Q,"h",function(){return ja});L.d(Q,"g",function(){return la});L.d(Q,"i",function(){return na});L.d(Q,"e",function(){return ra});L.d(Q,"m",function(){return va});L.d(Q,"l",function(){return za});L.d(Q,"k",
function(){return Aa});L.d(Q,"o",function(){return Ba});L.d(Q,"j",function(){return Oa});L.d(Q,"p",function(){return Ja});L.d(Q,"n",function(){return xa});var ca=L(0);W=L(65);var Y=L.n(W),da=L(30),S=L(51),P="CHANGE_PAGE",V="CHANGE_SORT_ORDER",ba="CHANGE_SORT_FIELD",ea="CHANGE_SEARCH_STRING",ia="FETCH_RESOURCES",ja="FETCH_RESOURCES_SUCCESS",la="FETCH_RESOURCES_FAILED",na="UPDATE_ACTIVE_FILTERS",ra="CLEAR_ALL_FILTERS",va=function(Ea){return{type:V,payload:Ea}},za=function(Ea){return{type:ba,payload:Ea}},
Aa=function(Ea){return{type:ea,payload:Ea}},Ba=function(){return function(Ea,sa){var pa=sa();if(!1===pa.ui.resourceSectionVisible)Ea({type:la});else{Ea({type:ia});var ya=Object(da.v)(pa.request,pa.item.url),ta=Object(da.r)(pa.request,pa.portal,pa.item.owner);Y()([ya,ta]).then(function(ma){if("Geoprocessing Service"===pa.item.type&&ma[0].tasks&&0<ma[0].tasks.length){var qa=ma[0].tasks.map(function(wa){return Object(da.v)(pa.request,pa.item.url+"/"+wa)});Y()(qa).then(function(wa){Ea({type:ja,payload:{resources:wa.map(function(Fa){return Object(ca.a)({type:"task"},
Fa)}).filter(pa.config.allowed),resourcesPerPage:pa.config.resourcesPerPage,owner:Object(S.m)(pa.portal,ma[1]),service:Object(ca.a)({},ma[0])}})},function(){Ea({type:la})})}else"Big Data File Share"===pa.item.type&&ma[0].children&&0<ma[0].children.length?(qa=ma[0].children.map(function(wa){return Object(da.v)(pa.request,pa.item.url+"/"+wa.name)}),Y()(qa).then(function(wa){Ea({type:ja,payload:{resources:wa.map(function(Fa,Da){return Object(ca.a)(Object(ca.a)({},ma[0].children[Da]),Fa)}).filter(pa.config.allowed),
resourcesPerPage:pa.config.resourcesPerPage,owner:Object(S.m)(pa.portal,ma[1]),service:Object(ca.a)({},ma[0])}})},function(){Ea({type:la})})):ma[0].layers&&0<ma[0].layers.length||ma[0].tables&&0<ma[0].tables.length?(ma[0].layers=ma[0].layers.concat(ma[0].tables),qa=ma[0].layers.map(function(wa){return Object(da.v)(pa.request,pa.item.url+"/"+wa.id)}),Y()(qa).then(function(wa){Ea({type:ja,payload:{resources:wa.map(function(Fa,Da){return Object(ca.a)(Object(ca.a)({},ma[0].layers[Da]),Fa)}).filter(pa.config.allowed),
resourcesPerPage:pa.config.resourcesPerPage,owner:Object(S.m)(pa.portal,ma[1]),service:Object(ca.a)({},ma[0])}})},function(){Ea({type:la})})):Object(da.v)(pa.request,pa.item.url).then(function(wa){Ea({type:ja,payload:{resources:[wa].map(function(Fa){return Object(ca.a)(Object(ca.a)({},pa.item),Fa)}).filter(pa.config.allowed),resourcesPerPage:pa.config.resourcesPerPage,owner:Object(S.m)(pa.portal,ma[1]),service:Object(ca.a)({},ma[0])}})},function(){Ea({type:la})})},function(ma){Ea({type:la})})}}},
Oa=function(Ea){return{type:P,payload:Ea}},Ja=function(Ea,sa){return{type:na,payload:{index:Ea,filter:sa}}},xa=function(){return{type:ra}}},function(W,Q,L){function ca(S){var P=Object(Y.b)(S.settings.config.customSections,S.parameters.section);return(null==P?0:P.portal)?Object(da.b)(P.portal):S.settings.utils.portal}L.d(Q,"a",function(){return ca});var Y=L(86),da=L(101)},,,,,,,,,,,,,,,function(W,Q,L){L.d(Q,"b",function(){return ca});L.d(Q,"a",function(){return Y});var ca={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("OGCFeatureServer" OR "Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "Feed" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tiledImageLayers:'(type: "Image Service" typekeywords: "Tiled Imagery")',
elevationLayers:'(type: "Image Service" typekeywords: "Elevation 3D Layer")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "StoryMap" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "Web Experience" OR "Web Experience Template" OR "Form"))',
webApps:'(type:("Web Mapping Application" OR "Dashboard"))',sites:'(type:("Hub Site Application" OR "Site Application"))',pages:'(type:("Hub Page" OR "Site Page"))',storyMaps:'(type:"StoryMap")',experienceApps:'(type:("Web Experience" OR "Web Experience Template"))',instantApps:'typekeywords:"configurableApp"',mobileApps:'(type:"Mobile Application")',desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR (type:("Big Data Analytic" OR "Real Time Analytic")) OR (type:"Geoprocessing Service" AND typekeywords: "Web Tool")) -type:"KML")',
analytics:'(type:("Big Data Analytic" OR "Real Time Analytic"))',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"CSV" OR type: "Administrative Report" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',csvs:'(type:"CSV")',reports:'(type: "Administrative Report")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'(type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook"))',bigDataFileShares:'type:("Big Data File Share")',rasterFunctionTemplates:'type:("Raster function template")',deepLearningPackages:'type:("Deep Learning Package")',
solution:'type:("Solution")',knowledgeGraphs:'(type:"Knowledge Graph")'},Y="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Data Engineering Workbook;Insights Model;Insights Data Engineering Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;Site Application;Site Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;Administrative Report;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;Deep Learning Package;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service;Big Data File Share;Web Tool;Notebook;Web Experience;Web Experience Template;Feed;Real Time Analytic;Big Data Analytic;OGCFeatureServer;Solution;Knowledge Graph".split(";")},
,,,,,,function(W,Q,L){L.d(Q,"a",function(){return Y});var ca=L(0);W=L(15);var Y=Object(W.a)(function(da,S){var P=Object(ca.a),V=Object(ca.a)({},S);var ba=S.thumbnail?da.restUrl+"/community/users/"+S.username+"/info/"+S.thumbnail+(da.credential?"?token\x3d"+da.credential.token:""):void 0;return P(V,{thumbURI:ba})})},,function(W,Q){W.exports=h},function(W,Q){W.exports=f},,,,,,,,,,,function(W,Q,L){function ca(Aa,Ba){var Oa=["",{method:"get",query:Ba.settings.config.addRequestParameters?Object(S.a)({f:"json",
q:Object(V.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1},Ba.settings.config.addRequestParameters()):{f:"json",q:Object(V.b)(Ba),num:Aa.num?Aa.num:Ba.settings.config.resultsPerQuery,sortOrder:Ba.parameters.sort.order,start:Aa.start?Aa.start:1}}];return Object(P.a)(la(Ba),na(Ba),ra(Ba),va(Ba))(Oa)}function Y(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(V.a)(Aa),num:0,countFields:Ba.join(", "),countSize:200}}];return ja(Aa)(Oa)}
function da(Aa,Ba){var Oa=["",{method:"get",query:{f:"json",q:Object(V.c)(Aa,Ba),num:0,countFields:"tags",countSize:200}}];return ja(Aa)(Oa)}L.d(Q,"b",function(){return ca});L.d(Q,"a",function(){return Y});L.d(Q,"c",function(){return da});var S=L(0),P=L(63);W=L(15);var V=L(179),ba=L(356),ea=L(126),ia=L(86),ja=function(Aa){return Object(P.a)(va(Aa),za(Aa),ra(Aa))},la=Object(W.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],xa=Aa.parameters.sort.field;return"relevance"!==xa?[Oa,Object(S.a)(Object(S.a)({},
Ja),{query:Object(S.a)(Object(S.a)({},Ja.query),{sortField:xa})})]:[Oa,Ja]}),na=Object(W.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1];if(Aa.parameters.filter.searchMapArea){var xa=Aa.parameters.extent.area;xa=xa.minx+","+xa.miny+","+xa.maxx+","+xa.maxy;return[Oa,Object(S.a)(Object(S.a)({},Ja),{query:Object(S.a)(Object(S.a)({},Ja.query),{bbox:xa})})]}return[Oa,Ja]}),ra=Object(W.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],xa=Object(ba.a)(Aa);return xa?[Oa,Object(S.a)(Object(S.a)({},Ja),{query:Object(S.a)(Object(S.a)({},
Ja.query),{enriched:xa})})]:[Oa,Ja]}),va=Object(W.a)(function(Aa,Ba){Ba[0];var Oa=Ba[1],Ja=Aa.parameters,xa=Ja.section;Ja=Ja.filter;var Ea=Object(ea.a)(Aa),sa=Ea.restUrl+"/search";if("myGroups"===xa&&Ja.group)sa=Ea.restUrl+"/content/groups/"+Ja.group.id+"/search",Ja.groupCategories&&(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value])));else if("livingAtlas"!==xa&&"Living Atlas"!==xa||!Aa.results.livingAtlas.groupId)if(!Ja.orgCategories||"myOrganization"!==xa&&"myContent"!==
xa){if(xa=Object(ia.b)(Aa.settings.config.customSections,xa))Object(ia.d)(xa)&&Ja.orgCategories&&(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]))),(xa=Object(ia.c)(xa))&&(sa=Ea.restUrl+"/content/groups/"+xa.id+"/search",Ja.groupCategories&&(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.groupCategories.value]))))}else sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.orgCategories.value]));else sa=Ea.restUrl+"/content/groups/"+Aa.results.livingAtlas.groupId+
"/search",Ja.livingAtlasCategories?(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasCategories.value])),Ja.livingAtlasRegion&&(sa=sa+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])))):Ja.livingAtlasRegion&&(sa=sa+"?categories\x3d"+encodeURIComponent(JSON.stringify([Ja.livingAtlasRegion.value])));return[sa,Oa]}),za=Object(W.a)(function(Aa,Ba){var Oa=Ba[0],Ja=Ba[1],xa=Aa.parameters.section,Ea=Object(ia.b)(Aa.settings.config.customSections,
xa);return"myGroups"===xa&&Aa.parameters.filter.group||("livingAtlas"===xa||"Living Atlas"===xa)&&Aa.results.livingAtlas.groupId||Ea&&Object(ia.c)(Ea)?[Oa,Object(S.a)(Object(S.a)({},Ja),{query:Object(S.a)(Object(S.a)({},Ja.query),{countFields:Ja.query.countFields?Ja.query.countFields.replace("categories","groupcategories"):void 0})})]:[Oa,Ja]})},,,,,,,,function(W,Q){var L=function(){return this}();try{L=L||(new Function("return this"))()}catch(ca){"object"==typeof window&&(L=window)}W.exports=L},
,,function(W,Q,L){L.d(Q,"a",function(){return P});L.d(Q,"c",function(){return V});L.d(Q,"b",function(){return ba});L.d(Q,"d",function(){return ea});L.d(Q,"h",function(){return ia});L.d(Q,"i",function(){return ja});L.d(Q,"j",function(){return la});L.d(Q,"e",function(){return na});L.d(Q,"g",function(){return ra});L.d(Q,"f",function(){return va});L.d(Q,"l",function(){return za});L.d(Q,"k",function(){return Ba});L.d(Q,"m",function(){return Oa});W=L(65);var ca=L.n(W);W=L(56);var Y=L.n(W),da=L(30),S=L(48),
P="ADD_TO_FAVORITES",V="ADD_TO_FAVORITES_SUCCESS",ba="ADD_TO_FAVORITES_FAIL",ea="LOADING_USER_INFO",ia="UPDATE_GROUP_CATEGORIES",ja="UPDATE_USER_INFO",la="UPDATE_USER_INFO_FAILED",na="REMOVE_FROM_FAVORITES",ra="REMOVE_FROM_FAVORITES_SUCCESS",va="REMOVE_FROM_FAVORITES_FAIL",za=function(){return function(Ja,xa){var Ea=xa(),sa=Ea.parameters.filter.group,pa=Ea.results.user.groupCategories;if("loaded"===Ea.results.user.status)return sa&&!pa[sa.id]?Ja(Aa(sa.id)):(new Y.a).resolve();if("failed"===Ea.results.user.status)return(new Y.a).reject();
Ja({type:ea});pa=Ea.settings.utils;Ea=pa.request;pa=pa.portal;return ca()([Object(da.r)(Ea,pa).then(function(ya){return ya.groups.map(function(ta){return{id:ta.id,title:ta.title}})}),Object(da.s)(Ea,pa).then(function(ya){return ya.folders.map(function(ta){return{id:ta.id,title:ta.title}})}),Object(da.t)(Ea,pa,pa.user.favGroupId).then(function(ya){return ya.items.reduce(function(ta,ma){return ta[ma.id]=!0,ta},{})})].concat(sa?[Ja(Aa(sa.id))]:[])).then(function(ya){Ja({type:ja,payload:{groups:ya[0],
folders:ya[1],favorites:ya[2]}})},function(ya){Ja({type:la})})}},Aa=function(Ja){return function(xa,Ea){var sa=Ea().settings.utils;return Object(da.f)(sa.request,sa.portal,Ja).then(function(pa){xa({type:ia,payload:{id:Ja,categorySchema:pa.categorySchema}})})}},Ba=function(Ja){return function(xa,Ea){var sa=Ea(),pa=sa.settings.utils.portal,ya=pa.restUrl+"/content/items/"+Ja.id+"/share";pa={f:"json",everyone:Ja.access&&"public"===Ja.access||Ja.sharing&&Ja.sharing.access&&"public"===Ja.sharing.access,
org:Ja.access&&"org"===Ja.access||Ja.sharing&&Ja.sharing.access&&"org"===Ja.sharing.access||!1,groups:[pa.user.favGroupId],items:[Ja.id]};xa({type:P,payload:Ja});sa.settings.utils.request(ya,{method:"post",query:pa}).then(function(ta){xa({type:V,payload:Ja})},function(ta){xa({type:ba,payload:Ja})})}},Oa=function(Ja){return function(xa,Ea){var sa=Ea(),pa=sa.settings.utils.portal,ya=pa.user.favGroupId,ta=pa.restUrl+"/content/items/"+Ja.id+"/unshare",ma={f:"json",everyone:!1,org:!1,groups:[ya],items:[Ja.id]};
xa({type:na,payload:Ja});sa.settings.utils.request(ta,{method:"post",query:ma}).then(function(qa){function wa(){xa({type:ra,payload:Ja})}"myFavorites"===(sa=Ea()).parameters.section?function Da(){sa.settings.utils.request(pa.restUrl+"/search",{query:{f:"json",q:"(id:"+Ja.id+") (group:"+ya+")"},method:"get"}).then(function(Ca){0<Ca.data.total?setTimeout(function(){Da()},250):(wa(),xa(Object(S.i)()))},function(Ca){wa()})}():wa()},function(qa){xa({type:va,payload:Ja})})}}},,,,,function(W,Q){W.exports=
g},function(W,Q,L){function ca(sa){return Object(P.a)(V.b,xa(sa),Ea(sa),Object(ba.a)(sa.parameters.filter.orgGroup),Object(ea.a)(sa.parameters.filter.status,sa.settings.utils.portal.user),Ja(sa),Object(ia.a)(sa.parameters.filter.shared),Object(ja.a)(sa.parameters.filter.dateCreated),Object(ja.b)(sa.parameters.filter.dateModified),Object(la.a)(Aa.b,{allowedItemTypes:sa.settings.config.allowedItemTypes,itemTypeFilter:sa.parameters.filter.itemType,specialItemQ:sa.settings.config.specialItemQ}),Object(na.b)(sa.parameters.filter.tags),
Object(ra.a)(sa.parameters.filter.origins))([sa.parameters.searchString.current]).join(" ")}function Y(sa){return Object(P.a)(V.b,xa(sa),Ja(sa),Object(la.a)(Aa.b,{allowedItemTypes:sa.settings.config.allowedItemTypes,specialItemQ:sa.settings.config.specialItemQ}))([sa.parameters.searchString.current]).join(" ")}function da(sa,pa){return Object(P.a)(V.b,xa(sa),Ja(sa),Object(la.a)(Aa.b,{allowedItemTypes:sa.settings.config.allowedItemTypes,specialItemQ:sa.settings.config.specialItemQ}),Object(na.a)(pa))([sa.parameters.searchString.current]).join(" ")}
L.d(Q,"b",function(){return ca});L.d(Q,"a",function(){return Y});L.d(Q,"c",function(){return da});var S=L(0),P=L(63),V=L(99),ba=L(398),ea=L(399),ia=L(400),ja=L(323),la=L(265),na=L(324),ra=L(401);W=L(15);var va=L(5),za=L(180),Aa=L(141),Ba=L(126),Oa=L(86),Ja=Object(W.a)(function(sa,pa){var ya=sa.parameters.filter,ta=sa.settings.config,ma=Object(Ba.a)(sa);switch(sa.parameters.section){case "myContent":return ma.user?ma.user&&ya.folder?Object(S.g)(Object(S.g)([],pa),['(owner:"'+ma.user.username+'") (ownerfolder:'+
ya.folder.id+")"]):Object(S.g)(Object(S.g)([],pa),['(owner:"'+ma.user.username+'")']):pa;case "myFavorites":return ma.user?Object(S.g)(Object(S.g)([],pa),["(group:"+ma.user.favGroupId+")"]):pa;case "myGroups":if(sa.results.user.groups){if(sa.parameters.filter.group)return Object(S.g)(Object(S.g)([],pa),["(group:"+sa.parameters.filter.group.id+")"]);ya=sa.results.user.groups.map(function(qa){return qa.id});return Object(S.g)(Object(S.g)([],pa),["(group:"+ya.join(" OR group:")+")"])}return pa;case "myOrganization":return Object(S.g)(Object(S.g)([],
pa),["(orgid:"+ma.id+")"]);case "subscription":return Object(S.g)(Object(S.g)([],pa),["("+sa.results.provisionedContent.content.map(function(qa){return"id:"+qa}).join(" OR ")+")"]);case "all":return pa;default:return(ya=ta.customSections.filter(function(qa){return sa.parameters.section===qa.name})[0])?Object(S.g)(Object(S.g)([],pa),[ya.baseQuery]):pa}}),xa=Object(W.a)(function(sa,pa){var ya=sa.settings.config.addQueryParameters;try{if(ya&&"function"==typeof ya)return Object(S.g)(Object(S.g)([],pa),
[ya(sa)])}catch(ta){}return pa}),Ea=Object(W.a)(function(sa,pa){var ya=Object(Oa.b)(sa.settings.config.customSections,sa.parameters.section);if(ya&&!Object(va.b)(sa.parameters.filter.customFilter)){var ta=Object.keys(sa.parameters.filter.customFilter).filter(function(ma){return sa.parameters.filter.customFilter[ma]}).reduce(function(ma,qa){var wa,Fa=parseInt(qa,10),Da=sa.parameters.filter.customFilter[Fa].value;if(null===(wa=null==ya?void 0:ya.filters)||void 0===wa?0:wa[Fa])if(wa=Object(za.a)("children",
"value",ya.filters[Fa],Da))return Object(S.g)(Object(S.g)([],ma),["("+wa.q+")"]);return ma},[]).join(" AND ");return Object(S.g)(Object(S.g)([],pa),[""+ta])}return pa})},function(W,Q,L){function ca(na,ra){return ba("children","value",na,ra)}function Y(na,ra){return ea("children","value",na,ra)}function da(na,ra){return function Ja(za,Aa,Ba,Oa){var xa,Ea=Ba[za];return Ea&&0!==Ea.length?Object(la.a)(Object(la.a)({},Ba),((xa={})[za]=Ea.reduce(function(sa,pa){return-1!==Oa.indexOf(pa[Aa])&&sa.push(Ja(za,
Aa,pa,Oa)),sa},[]),xa)):Object(la.a)({},Ba)}("children","value",na,ra)}function S(na){return function(ra,va){var za,Aa=va[ra];return Aa?Object(la.a)(Object(la.a)({},va),((za={})[ra]=function Ja(Oa){return 0===Oa.length?[]:1!==Oa.length||Oa[0][ra]?1<Oa.length?Oa.reduce(function(xa,Ea){var sa;return Ea[ra]?(xa.push(Object(la.a)(Object(la.a)({},Ea),((sa={})[ra]=Ja(Ea[ra]),sa))),xa):(xa.push(Ea),xa)},[]):Ja(Oa[0][ra]):Oa}(Aa),za)):va}("children",na)}function P(na,ra){return ia("children",na,ra)}function V(na,
ra){return function Oa(za,Aa,Ba){var Ja=Aa[za];Ja&&Ja.forEach(function(xa){return Oa(za,xa,Ba)});Ba(Aa)}("children",na,ra)}function ba(na,ra,va,za){var Aa=va[na];return va[ra]===za?va:Aa?Aa.reduce(function(Ba,Oa){return Ba||ba(na,ra,Oa,za)},void 0):void 0}function ea(na,ra,va,za){if(va=va[na])return va.reduce(function(Aa,Ba){return Ba[ra]===za[0]?1===za.length?Ba:ea(na,ra,Ba,za.slice(1)):Aa},void 0)}function ia(na,ra,va){var za;return va(Object(la.a)(Object(la.a)({},ra),((za={})[na]=ra[na]?ra[na].map(function(Aa){return ia(na,
Aa,va)}):void 0,za)))}function ja(na,ra,va){return ia(na,va,function(za){var Aa=za[ra];if(delete za[ra],za[na]){var Ba=za[na];return delete za[na],Object(la.a)(Object(la.a)({},za),{value:Aa,children:Ba})}return Object(la.a)(Object(la.a)({},za),{value:Aa})})}L.d(Q,"f",function(){return ca});L.d(Q,"d",function(){return Y});L.d(Q,"i",function(){return da});L.d(Q,"e",function(){return S});L.d(Q,"h",function(){return P});L.d(Q,"g",function(){return V});L.d(Q,"a",function(){return ba});L.d(Q,"b",function(){return ea});
L.d(Q,"c",function(){return ja});var la=L(0)},,function(W,Q,L){function ca(V){return Object(P.h)(V,function(ba){return ba.count&&delete ba.count,ba})}function Y(V,ba,ea){if(ba)return V.counts.filter(function(ia){return ia.fieldName===ea})[0].fieldValues.forEach(function(ia){var ja=ia.count;ia=ia.value.split("/").slice(1);(ia=Object(P.d)(ba,ia))&&(ia.count=ja)}),ba}function da(V){V=Object(P.c)("categories","title",{title:"root",categories:V});return Object(P.h)(V,function(ba){return Object(S.a)(Object(S.a)({},
ba),{value:ba.value.toLowerCase(),displayName:ba.displayName?ba.displayName:ba.value,tooltip:ba.description?ba.description:void 0})}).children}L.d(Q,"a",function(){return ca});L.d(Q,"c",function(){return Y});L.d(Q,"b",function(){return da});var S=L(0),P=L(180)},,,,,,,function(W,Q){function L(){throw Error("setTimeout has not been defined");}function ca(){throw Error("clearTimeout has not been defined");}function Y(va){if(ea===setTimeout)return setTimeout(va,0);if((ea===L||!ea)&&setTimeout)return ea=
setTimeout,setTimeout(va,0);try{return ea(va,0)}catch(za){try{return ea.call(null,va,0)}catch(Aa){return ea.call(this,va,0)}}}function da(){na&&ja&&(na=!1,ja.length?la=ja.concat(la):ra=-1,la.length&&S())}function S(){if(!na){var va=Y(da);na=!0;for(var za=la.length;za;){ja=la;for(la=[];++ra<za;)ja&&ja[ra].run();ra=-1;za=la.length}ja=null;na=!1;(function(Aa){if(ia===clearTimeout)return clearTimeout(Aa);if((ia===ca||!ia)&&clearTimeout)return ia=clearTimeout,clearTimeout(Aa);try{ia(Aa)}catch(Ba){try{return ia.call(null,
Aa)}catch(Oa){return ia.call(this,Aa)}}})(va)}}function P(va,za){this.fun=va;this.array=za}function V(){}var ba=W.exports={};try{var ea="function"==typeof setTimeout?setTimeout:L}catch(va){ea=L}try{var ia="function"==typeof clearTimeout?clearTimeout:ca}catch(va){ia=ca}!0;var ja,la=[],na=!1,ra=-1;ba.nextTick=function(va){var za=Array(arguments.length-1);if(1<arguments.length)for(var Aa=1;Aa<arguments.length;Aa++)za[Aa-1]=arguments[Aa];la.push(new P(va,za));1!==la.length||na||Y(S)};P.prototype.run=
function(){this.fun.apply(null,this.array)};ba.title="browser";ba.browser=!0;ba.env={};ba.argv=[];ba.version="";ba.versions={};ba.on=V;ba.addListener=V;ba.once=V;ba.off=V;ba.removeListener=V;ba.removeAllListeners=V;ba.emit=V;ba.prependListener=V;ba.prependOnceListener=V;ba.listeners=function(va){return[]};ba.binding=function(va){throw Error("process.binding is not supported");};ba.cwd=function(){return"/"};ba.chdir=function(va){throw Error("process.chdir is not supported");};ba.umask=function(){return 0}},
,,,function(W,Q,L){function ca(S){var P,V;return null!==(P=S.orgId)&&void 0!==P?P:null===(V=S.portal)||void 0===V?void 0:V.id}function Y(S){var P;if(!S)return!1;var V=ca(S),ba=null===(P=S.portal)||void 0===P?void 0:P.isPortal;return!!V&&!ba&&"public_authoritative"===S.contentStatus}function da(S,P,V){return new Promise(function(ba){var ea=S.map(function(ia){return function(ja,la,na){var ra="https://"+la.portalHostname+"/sharing/rest/portals/"+ja;return new Promise(function(va){na(ra,{method:"get",
query:{f:"json"}}).then(function(za){za=za.data;var Aa=za.thumbnail,Ba=(za.allSSL?"https://":"http://")+(za.urlKey||"")+"."+za.customBaseUrl+"/";va({name:za.name,url:Ba+"home/",thumbnail:Aa?Ba+"sharing/rest/portals/self/resources/"+Aa:"./images/group-no-image.png",id:ja})})})}(ia,P,V)});Promise.all(ea).then(function(ia){ba(ia.filter(function(ja){return ja}))})})}L.d(Q,"b",function(){return ca});L.d(Q,"c",function(){return Y});L.d(Q,"a",function(){return da})},,,,,,function(W,Q,L){function ca(ja,la,
na){return ja.filter(function(ra,va,za){return za.indexOf(ra)===va&&!la.hasOwnProperty(ra)&&-1===na.indexOf(ra)})}L.d(Q,"c",function(){return P});L.d(Q,"d",function(){return V});L.d(Q,"a",function(){return ba});L.d(Q,"b",function(){return ea});L.d(Q,"e",function(){return ia});var Y=L(0),da=L(193),S=L(309),P="USER_THUMBNAILS_LOAD_START",V="USER_THUMBNAILS_LOAD_SUCCESS",ba="ORG_THUMBNAILS_LOAD_START",ea="ORG_THUMBNAILS_LOAD_SUCCESS",ia=function(ja,la){var na=la(),ra=na.settings.utils,va=ra.request;
ra=ra.portal;var za=na.ui.pagination;na=za.displayItems;var Aa=za.userThumbnailCache,Ba=za.pendingUserThumbRequests,Oa=za.orgThumbnailCache;za=za.pendingOrgThumbRequests;Oa=ca(na.filter(da.c).map(da.b),Oa,za);na=ca(na.map(function(Ja){return Ja.owner}),Aa,Ba);if(0!==na.length||0!==Oa.length)ja({type:P,payload:na}),ja({type:ba,payload:Oa}),na=Object(S.a)(na,ra,va),va=Object(da.a)(Oa,ra,va),Promise.all([na,va]).then(function(Ja){var xa=Ja[0];Ja=Ja[1];xa=(null==xa?void 0:xa.reduce(function(Ea,sa){var pa;
return Object(Y.a)(Object(Y.a)({},Ea),((pa={})[sa.username]={thumbnail:sa.thumbURI||sa.thumbnail,username:sa.username,fullName:sa.fullName,id:sa.id},pa))},{}))||{};Ja=(null==Ja?void 0:Ja.reduce(function(Ea,sa){var pa;return Object(Y.a)(Object(Y.a)({},Ea),((pa={})[sa.id]=sa,pa))},{}))||{};ja({type:V,payload:xa});ja({type:ea,payload:Ja})})}},,,,,,function(W,Q){W.exports=k},function(W,Q){W.exports=u},,,,,,,,,,function(W,Q){W.exports=w},function(W,Q,L){L.d(Q,"a",function(){return ea});var ca=L(0);W=L(56);
var Y=L.n(W);W=L(65);var da=L.n(W);W=L(15);var S=L(99),P=L(30),V=L(325),ba=L(126),ea=Object(W.a)(function(ia,ja){var la=ia.settings.utils.request,na=Object(ba.a)(ia),ra=new Y.a,va=ja.data.results.filter(function(za){return za.orgId&&!ia.results.allOrganizations[za.orgId]}).map(function(za){return za.orgId}).filter(S.e).map(function(za){return Object(P.m)(la,na,za)});return da()(va).then(function(za){ra.resolve(Object(ca.a)(Object(ca.a)({},ja),{data:Object(ca.a)(Object(ca.a)({},ja.data),{organizations:za.reduce(function(Aa,
Ba){var Oa;return Object(ca.a)(Object(ca.a)({},Aa),((Oa={})[Ba.id]=Object(V.a)(Ba),Oa))},{})})}))},function(za){ra.reject(za)}),ra})},,,,,,,,,function(W,Q,L){L.d(Q,"c",function(){return ca});L.d(Q,"d",function(){return Y});L.d(Q,"e",function(){return da});L.d(Q,"b",function(){return S});L.d(Q,"f",function(){return P});L.d(Q,"g",function(){return V});L.d(Q,"a",function(){return ba});L.d(Q,"h",function(){return ea});L.d(Q,"i",function(){return ia});L.d(Q,"j",function(){return ja});var ca="MAXIMIZE_DLG",
Y="MINIMIZE_DLG",da="TOGGLE_EXPANDED_FILTERS",S="CLOSE_FULLSCREEN_BROWSER",P="TOGGLE_EXPANDED_SORT",V="UPDATE_SUBLAYER_CARD_STATE",ba="CLOSE_EXPANDED_SORT",ea=function(){return{type:ba}},ia=function(){return{type:da}},ja=function(){return{type:P}}},function(W,Q,L){L.d(Q,"a",function(){return da});var ca=L(0),Y=L(101),da=function(S){var P=Object(ca.a),V=Object(ca.a)({},S),ba=Object(Y.a)(S);return P(V,{thumbURI:S.thumbnail?ba+"/sharing/rest/portals/"+S.id+"/resources/"+S.thumbnail:ba+"/home/images/group-no-image.png"})}},
function(W,Q,L){L.d(Q,"a",function(){return da});var ca=L(0),Y=L(101),da=function(S){return Object(ca.a)(Object(ca.a)({},S),{orgUrl:Object(Y.a)(S)+"/home/index.html"})}},,,,,,,,,,,,,,,,,,,,,,,,,,function(W,Q){W.exports=C},function(W,Q){W.exports=z},function(W,Q,L){L.d(Q,"a",function(){return S});L.d(Q,"b",function(){return P});L.d(Q,"c",function(){return V});L.d(Q,"d",function(){return ba});W=L(56);var ca=L.n(W),Y=L(30),da=L(78),S="UPDATE_PROVISIONED_CONTENT",P="UPDATE_PROVISIONED_CONTENT_FAILED",
V="UPDATE_PROVISIONED_CONTENT_SUCCESS",ba=function(){return function(ea,ia){var ja=ia();if("loaded"===ja.results.provisionedContent.status)return(new ca.a).resolve();if("failed"===ja.results.provisionedContent.status)return(new ca.a).reject();ea({type:S});var la=ja.settings.utils,na=la.portal;return Object(Y.d)(la.request,na,na.user.username).then(function(ra){ea({type:V,payload:ra.filter(function(va){return-1<ja.settings.config.allowedItemTypes.indexOf(va.type)}).map(function(va){return Object(da.a)(na,
ja.settings.utils.iconDir,va)})})},function(ra){ea({type:P})})}}},,,,,,,,function(W,Q,L){L.d(Q,"a",function(){return ba});L.d(Q,"c",function(){return ea});L.d(Q,"d",function(){return ia});L.d(Q,"b",function(){return ja});L.d(Q,"e",function(){return la});var ca=L(0);W=L(65);var Y=L.n(W);W=L(56);var da=L.n(W),S=L(99),P=L(30);W=L(15);var V=L(86),ba="LOADING_CUSTOM_SECTION_INFO",ea="UPDATE_CUSTOM_SECTION_SCHEMAS",ia="UPDATE_CUSTOM_SECTION_INFO_FAILED",ja="UPDATE_CUSTOM_SECTION_GROUPS",la=function(){return function(va,
za){function Aa(Ja){va({type:ia})}var Ba=za();if("loaded"===Ba.results.customSections.status)return(new da.a).resolve();if("failed"===Ba.results.customSections.status)return(new da.a).reject();va({type:ba});var Oa=Object(S.f)("id",Ba.settings.config.customSections.filter(V.f).map(V.a).reduce(function(Ja,xa){return Object(ca.g)(Object(ca.g)([],Ja),xa)},[]));return na(va,za,Oa).then(function(){return Ba=za(),Y()(Oa.map(function(Ja){return ra(Ba,Ja).then(function(xa){return{id:Ja.id,type:Ja.type,response:xa}})}))},
Aa).then(function(Ja){return va({type:ea,payload:Ja})},Aa)}},na=function(va,za,Aa){var Ba=za(),Oa=new da.a;if(0<Aa.length){Ba=Ba.settings.utils;var Ja=Ba.request,xa=Ba.portal;Aa=Aa.filter(function(Ea){return"group"===Ea.type}).map(function(Ea){var sa=Ea.id;return Object(P.e)(Ja,xa,Ea.fetchGroupIdByQuery||"id:"+sa).then(function(pa){return pa.results[0]||{}})});Y()(Aa).then(function(Ea){var sa=za();va({type:ja,payload:{currentSection:sa.parameters.section,customSections:sa.settings.config.customSections,
groups:Ea}});Oa.resolve()})}else Oa.resolve();return Oa},ra=Object(W.a)(function(va,za){var Aa=va.settings.utils,Ba=Aa.request;Aa=Aa.portal;return za.staticSchema?(Ba=new da.a,Ba.resolve({categorySchema:za.staticSchema}),Ba.then(function(Oa){return Oa})):"group"===za.type?Object(P.f)(Ba,Aa,za.id):Object(P.j)(Ba,Aa,za.id)})},function(W,Q,L){function ca(P){if(0<P.length){var V=da.a.filter(function(ba){return-1===P.indexOf(ba)}).filter(function(ba){return P.reduce(function(ea,ia){return-1<ba.indexOf(ia)||
ea},!1)});return'((type:"'+P.join('" OR type:"')+'")'+(0<V.length?' AND (-type:"'+V.join('" AND -type:"')+'")':"")+")"}return""}L.d(Q,"a",function(){return S});var Y=L(0),da=L(141);W=L(15);var S=Object(W.a)(function(P,V,ba){var ea=V.itemTypeFilter,ia=V.allowedItemTypes;V=V.specialItemQ;return ea?0<ia.length&&V?Object(Y.g)(Object(Y.g)([],ba),[P[ea.value]+" AND ("+V+" OR ("+ca(ia)+"))"]):0<ia.length||V?Object(Y.g)(Object(Y.g)([],ba),[P[ea.value]+" AND ("+(V?""+V:""+ca(ia))+")"]):Object(Y.g)(Object(Y.g)([],
ba),[""+P[ea.value]]):V?Object(Y.g)(Object(Y.g)([],ba),["("+V+") "+(0<ia.length?"OR ("+ca(ia)+")":"")]):Object(Y.g)(Object(Y.g)([],ba),[ca(ia)])})},function(W,Q,L){L.d(Q,"a",function(){return S});L.d(Q,"b",function(){return P});L.d(Q,"c",function(){return V});L.d(Q,"d",function(){return ba});W=L(65);var ca=L.n(W);W=L(56);var Y=L.n(W),da=L(30),S="LOADING_ORG_INFO",P="UPDATE_ORG_INFO",V="UPDATE_ORG_INFO_FAILED",ba=function(){return function(ea,ia){var ja=ia();if("loaded"===ja.results.organization.status)return(new Y.a).resolve();
if("failed"===ja.results.organization.status)return(new Y.a).reject();ea({type:S});var la=ja.settings.utils;ja=la.request;la=la.portal;var na=[Object(da.j)(ja,la).then(function(ra){return ra.categorySchema}),Object(da.c)(ja,la).then(function(ra){return ra.data.results})];return la.isPortal&&na.push(Object(da.o)(ja,la).then(function(ra){return ra.servers})),ca()(na).then(function(ra){ea({type:P,payload:{schema:ra[0],groups:ra[1],servers:ra[2]}})},function(ra){ea({type:V})})}}},,,,,,,,,,,,,,,,,,,function(W,
Q){W.exports=r},function(W,Q,L){L.d(Q,"b",function(){return ea});L.d(Q,"a",function(){return ia});L.d(Q,"c",function(){return ja});var ca=L(0);W=L(65);var Y=L.n(W);W=L(56);var da=L.n(W),S=L(30),P=L(51),V=L(78),ba=L(126),ea="UPDATE_FULL_ITEM_DETAILS",ia="FETCH_FULL_ITEM_DETAILS_FAILED",ja=function(la){return function(na,ra){var va=ra(),za=Object(ba.a)(va),Aa=va.settings.utils.request,Ba=[];Ba.push(Object(S.r)(Aa,za,la.owner).then(function(Ja){return Object(P.m)(za,Ja)},function(Ja){throw Ja;}));var Oa=
za.restUrl+"/content/items/"+la.id;za.user&&la.owner===za.user.username&&(Oa=za.restUrl+"/content/users/"+za.user.username+"/items/"+la.id);Ba.push(Object(S.v)(Aa,Oa).then(function(Ja){if(Ja.item&&Ja.sharing){var xa=new da.a;return Object(S.v)(Aa,za.restUrl+"/community/groups",{q:"id: "+Ja.sharing.groups.map(function(Ea){return'"'+Ea+'"'}).join(" OR ")}).then(function(Ea){return xa.resolve(Object(ca.a)(Object(ca.a)({},Object(V.a)(za,va.settings.utils.iconDir,Ja.item)),{sharing:Ja.sharing,sharedToGroups:Ea.results}))},
function(Ea){return xa.reject(Ea)}),xa}return Object(V.a)(za,va.settings.utils.iconDir,Ja)},function(Ja){throw la.id;}));Y()(Ba).then(function(Ja){na({type:ea,payload:{item:Ja[1],owner:Ja[0]}})},function(Ja){na({type:ia,payload:Ja})})}}},,function(W,Q,L){L.d(Q,"a",function(){return ca});L.d(Q,"b",function(){return Y});var ca="CHANGE_SEARCH_SECTION",Y=function(da){return function(S,P){var V=P();S({type:ca,payload:{newSection:da,customSections:V.settings.config.customSections,customSectionGroupSort:V.results.customSections.groupSort}})}}},
,function(W,Q,L){L.d(Q,"b",function(){return ca});L.d(Q,"a",function(){return Y});L.d(Q,"d",function(){return da});L.d(Q,"c",function(){return S});var ca="CHANGE_SORT_ORDER",Y="CHANGE_SORT_FIELD",da=function(P){return{type:ca,payload:P}},S=function(P){return{type:Y,payload:P}}},,,,function(W,Q){W.exports=l},function(W,Q,L){L.d(Q,"b",function(){return P});L.d(Q,"a",function(){return V});L.d(Q,"c",function(){return ba});L.d(Q,"d",function(){return ea});var ca=L(162),Y=L(78),da=L(217),S=L(199),P="CHANGE_PAGE_SUCCESS",
V="CHANGE_PAGE_FAIL",ba="CHANGING_PAGE",ea=function(ia){return function(ja,la){var na=la();ja({type:ba,payload:ia});var ra=na.settings.utils,va=ra.portal,za=ra.iconDir;ra=na.settings.utils.request;var Aa=na.settings.config.resultsPerQuery;Aa=Object(ca.b)({num:Aa,start:(ia-1)*Aa+1},na);ra(Aa[0],Aa[1]).then(Object(da.a)(na),function(Ba){return ja({type:V,payload:{err:Ba}})}).then(function(Ba){ja({type:P,payload:{organizations:Ba.data.organizations,displayItems:Ba.data.results.map(function(Oa){return Object(Y.a)(va,
za,Oa)}),page:ia}});ja(S.e)},function(Ba){return ja({type:V,payload:{err:Ba}})})}}},,,,,,,,,,,,function(W,Q,L){var ca=L(0);W=L(16);var Y=L(90);L=function(da){function S(){return null!==da&&da.apply(this,arguments)||this}return Object(ca.d)(S,da),S.prototype.render=function(P){return P("div",{"class":"ib-ex-results__item-list"},P("div",{"class":"ib-ex-results__no-items-container"},P("div",{"class":"ib-ex-results__no-items-centered"},P("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},P("path",{fill:"#ccc",
d:Y.f})),P("p",{"class":"ib-ex-results__no-items-text"},this.props.text))))},S}(W.Component);Q.a=L},,function(W,Q,L){function ca(Y,da,S){return Promise.all(Y.map(function(P){return function(V,ba,ea){return new Promise(function(ia,ja){ea(ba.restUrl+"/community/users/"+V,{method:"get",query:{f:"json"}}).then(function(la){return ia(null==la?void 0:la.data)},ja)})}(P,da,S)}))}L.d(Q,"a",function(){return ca})},function(W,Q){W.exports=d},,,,,,,,,,,,,function(W,Q,L){L.d(Q,"b",function(){return Y});L.d(Q,
"a",function(){return da});var ca=L(0);W=L(15);W=Object(W.a)(function(S,P,V){return P?Object(ca.g)(Object(ca.g)([],V),["("+S+":["+(P.start+" TO "+P.end+"])")]):V});var Y=W("modified"),da=W("uploaded")},function(W,Q,L){L.d(Q,"b",function(){return Y});L.d(Q,"a",function(){return da});var ca=L(0);W=L(15);var Y=Object(W.a)(function(S,P){if(S){var V=Object.keys(S);if(0<V.length)return Object(ca.g)(Object(ca.g)([],P),["tags:("+V.join(" AND ")+")"])}return P}),da=Object(W.a)(function(S,P){return 2<S.length?
Object(ca.g)(Object(ca.g)([],P),["tags:("+S+"* OR "+S+")"]):P})},function(W,Q,L){L.d(Q,"a",function(){return Y});W=L(63);Q=L(101);var ca=L(227);L=L(228);var Y=Object(W.a)(ca.a,L.a,Q.b)},function(W,Q,L){L.d(Q,"a",function(){return P});L.d(Q,"b",function(){return V});W=L(56);var ca=L.n(W),Y=L(30),da=L(325),S=L(150),P="UPDATE_PORTAL_SELF",V=function(){return function(ba,ea){var ia=ea(),ja=ia.settings.utils,la=ja.portal;ja=ja.request;var na=la.user&&la.user.culture?la.user.culture:S.locale;return ia.settings.utils.self?
(new ca.a).resolve(ia.settings.utils.self):Object(Y.n)(ja,la,na).then(function(ra){ra=Object(da.a)(ra);return ba({type:P,payload:{self:ra,config:ia.settings.config}}),ra})}}},function(W,Q,L){L.d(Q,"a",function(){return V});L.d(Q,"b",function(){return ba});L.d(Q,"c",function(){return ea});L.d(Q,"d",function(){return ia});var ca=L(0),Y=L(36);W=L(56);var da=L.n(W),S=L(150),P=L(402),V="LOADING_LIVING_ATLAS_INFO",ba="UPDATE_LIVING_ATLAS_INFO",ea="FETCH_LIVING_ATLAS_INFO_FAILED",ia=function(ja){return function(la,
na){var ra=na();if("loaded"===ra.results.livingAtlas.status)return(new da.a).resolve();if("failed"===ra.results.livingAtlas.status)return(new da.a).reject();la({type:V});ra=ra.settings.utils;var va=ra.portal;return Object(P.a)(ra.request,va,ja,va.user&&va.user.culture?va.user.culture:S.locale).then(function(za){la({type:ba,payload:Object(ca.a)(Object(ca.a)({},za),{schema:za.schema.map(function(Aa){return"region"===Aa.title?Object(ca.a)(Object(ca.a)({},Aa),{displayName:Y.regions}):Aa})})})},function(za){la({type:ea})})}}},
function(W,Q,L){L.d(Q,"a",function(){return P});var ca=L(30),Y=L(49);W=L(65);var da=L.n(W),S=function(V,ba,ea){V({type:"LOADING_COLLABORATIONS"});var ia=[];Object.keys(ea).forEach(function(la){ia[la]=[];0<ea[la].participants.length&&ea[la].participants.forEach(function(na){ia[na.value]=[]})});var ja=Object.keys(ia).map(function(la){la=la.split("__");var na=la[0],ra=la[1]?la[1]:"";return Object(ca.k)(ba.settings.utils.request,ba.settings.utils.portal,ba.settings.utils.portal.id,{query:""!==ra?{collaborationId:na,
participantId:ra,f:"json"}:{collaborationId:na,f:"json"}}).then(function(va){(va.data.collaboratedItems||va.collaboratedItems).forEach(function(za){if(ra){var Aa=na+"__"+ra;ea[na].participants.filter(function(Ba){return Ba.value===Aa})[0].items.push(Object.keys(za)[0])}else ea[na].items.push(Object.keys(za)[0])})},function(){return V({type:"LOADING_COLLABORATIONS_FAILED"})})});return da()(ja).then(function(){V(Object(Y.s)(ea));V({type:"LOADING_COLLABORATIONS_SUCCESS",payload:ea})})},P=function(V,
ba){if(V({type:"LOADING_COLLABORATIONS"}),ba&&ba.parameters&&ba.parameters.filter&&ba.parameters.filter.origins&&0<Object.keys(ba.parameters.filter.origins).length){var ea=ba.parameters.filter.origins;return V(Object(Y.s)(ea)),{type:"LOADING_COLLABORATIONS_SUCCESS",payload:ea}}return Object(ca.l)(ba.settings.utils.request,ba.settings.utils.portal,ba.settings.utils.portal.id,{query:{includeParticipantInfo:"true",f:"json"}}).then(function(ia){var ja=[];ia.data&&ia.data.collaborations&&ia.data.collaborations.forEach(function(la){var na=
la.collaborationId,ra=la.collaborationName.trim();ja[na]={value:na,label:ra,addClass:"",childOf:"",selected:!1,participants:[],items:[]};la.participants&&(ja[na].participants=la.participants.map(function(va){return 1===(va=Object.keys(va).map(function(za){var Aa=va[za].trim();return{value:na+"__"+za,label:Aa,childOf:na,addClass:"filter-tree-item-child",selected:!1,items:[]}})).length?va[0]:va}))});S(V,ba,ja).then(function(){return V(Object(Y.s)(ja))},function(){return V({type:"LOADING_COLLABORATIONS_FAILED"})})},
function(ia){return V({type:"LOADING_COLLABORATIONS_FAILED",payload:ia})})}},function(W,Q,L){function ca(Y){return"string"==typeof Y?-1<["myContent","myFavorites","myGroups","myOrganization","livingAtlas"].indexOf(Y):!!Y.filters&&-1<Y.filters.indexOf("tags")}L.d(Q,"a",function(){return ca})},,,,function(W,Q){W.exports=e},,,,,,,,,function(W,Q){W.exports=a},,,,,,,,function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(180),S=L(561),P=L(49),V=L(48),ba=L(413),ea=L(552),ia=L.n(ea);ea=L(376);var ja=L.n(ea);
ea=L(553);var la=L.n(ea);ea=L(554);var na=L.n(ea);ea=L(555);var ra=L.n(ea);ea=L(556);var va=L.n(ea);ea=L(557);var za=L.n(ea);ea=L(558);var Aa=L.n(ea);ea=L(559);var Ba=L.n(ea);ea=L(560);var Oa=L.n(ea);ea=L(342);var Ja=L.n(ea),xa=L(562);L=function(Ea){function sa(pa){pa=Ea.call(this,pa)||this;return pa.handleCustomFilterToggle=pa.handleCustomFilterToggle.bind(pa),pa.handleMapAreaToggle=pa.handleMapAreaToggle.bind(pa),pa.handleMapAreaKeyUp=pa.handleMapAreaKeyUp.bind(pa),pa.handleSearchOrgToggle=pa.handleSearchOrgToggle.bind(pa),
pa.handleCreatedFilterChange=pa.handleCreatedFilterChange.bind(pa),pa.handleItemTypeFilterChange=pa.handleItemTypeFilterChange.bind(pa),pa.handleModifiedFilterChange=pa.handleModifiedFilterChange.bind(pa),pa.handleSharedFilterChange=pa.handleSharedFilterChange.bind(pa),pa.handleStatusFilterChange=pa.handleStatusFilterChange.bind(pa),pa.handleFolderFilterChange=pa.handleFolderFilterChange.bind(pa),pa.handleGroupFilterChange=pa.handleGroupFilterChange.bind(pa),pa.handleOrgGroupFilterChange=pa.handleOrgGroupFilterChange.bind(pa),
pa.handleTagsFilterChange=pa.handleTagsFilterChange.bind(pa),pa.handleCollaborationFilterChange=pa.handleCollaborationFilterChange.bind(pa),pa.handleOrgCategorySelect=pa.handleOrgCategorySelect.bind(pa),pa.handleClearOrgCategories=pa.handleClearOrgCategories.bind(pa),pa.handleGroupCategorySelect=pa.handleGroupCategorySelect.bind(pa),pa.handleClearGroupCategories=pa.handleClearGroupCategories.bind(pa),pa.handleLACategorySelect=pa.handleLACategorySelect.bind(pa),pa.handleClearLACategories=pa.handleClearLACategories.bind(pa),
pa.handleLARegionSelect=pa.handleLARegionSelect.bind(pa),pa.handleClearLARegion=pa.handleClearLARegion.bind(pa),pa.handleTagsFilterStringChange=pa.handleTagsFilterStringChange.bind(pa),pa}return Object(ca.d)(sa,Ea),sa.prototype.render=function(pa){var ya=this,ta=this.props.stateTree.settings.config,ma=this.props.stateTree.parameters.filter,qa=this.props.stateTree.settings.utils.portal.user,wa=this.props.stateTree.settings.utils.portal,Fa=this.props.stateTree.parameters.section,Da=Object(S.a)(this.props.stateTree),
Ca=ta.availableItemTypeFilters.filter(function(Ia){var La=ya.props.stateTree.results.organization.servers||[];La="livingAtlas"!==Fa&&wa.isPortal&&La.some(function(Ga){return"KnowledgeServer"===Ga.serverFunction});return"knowledgeGraphs"!==Ia||La});ta=ta.enableMapAreaFilter?pa(ia.a,{key:"map-area-filter",handleMapAreaToggle:this.handleMapAreaToggle,handleMapAreaKeyUp:this.handleMapAreaKeyUp,searchMapArea:this.props.stateTree.parameters.filter.searchMapArea,text:this.props.stateTree.settings.config.mapAreaFilterText?
this.props.stateTree.settings.config.mapAreaFilterText:Y.filterPane.mapArea}):null;Da=Da.map(function(Ia,La){switch(Ia){case "group":return pa(Aa.a,{key:"group-filter",onGroupSelect:ya.handleGroupFilterChange,availableGroups:ya.props.stateTree.results.user.groups,groupFilter:ya.props.stateTree.parameters.filter.group});case "folder":var Ga=ya.props.stateTree.results.user.folders,Ma={title:ya.props.stateTree.settings.utils.portal.user.username,id:"root"};return pa(za.a,{key:"folder-filter",onFolderSelect:ya.handleFolderFilterChange,
availableFolders:Ga?Object(ca.g)([Ma],Ga):[Ma],folderFilter:ya.props.stateTree.parameters.filter.folder});case "itemType":return pa(la.a,{key:"item-type-filter",onItemTypeSelect:ya.handleItemTypeFilterChange,availableItemTypes:Ca,itemTypeFilter:ya.props.stateTree.parameters.filter.itemType});case "orgCategories":if((Ga=ya.props.stateTree.results.organization.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return pa(Ja.a,{key:"org-categories-filter",onCategorySelect:ya.handleOrgCategorySelect,
onClearCategories:ya.handleClearOrgCategories,availableCategories:Ga.children[0].children,categoriesFilter:ya.props.stateTree.parameters.filter.orgCategories,title:Y.filterPane.categories,prependValue:"/"+Ga.children[0].value+"/"});break;case "livingAtlasCategories":if((Ga=ya.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return pa(Ja.a,{key:"la-categories-filter",onCategorySelect:ya.handleLACategorySelect,onClearCategories:ya.handleClearLACategories,
availableCategories:Ga.children[0].children,categoriesFilter:ya.props.stateTree.parameters.filter.livingAtlasCategories,title:Ga.children[0].displayName,prependValue:"/categories/",showTooltips:!0,startActive:!0});break;case "livingAtlasRegion":if((Ga=ya.props.stateTree.results.livingAtlas.categorySchema)&&Ga.children&&Ga.children[1]&&Ga.children[1].children)return pa(Ja.a,{key:"la-region-filter",onCategorySelect:ya.handleLARegionSelect,onClearCategories:ya.handleClearLARegion,availableCategories:Ga.children[1].children,
categoriesFilter:ya.props.stateTree.parameters.filter.livingAtlasRegion,title:Ga.children[1].displayName,prependValue:"/region/",startActive:!0});break;case "groupCategories":if(ma.group&&(Ga=ya.props.stateTree.results.user.groupCategories[ma.group.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children)return pa(Ja.a,{key:"group-categories-filter",onCategorySelect:ya.handleGroupCategorySelect,onClearCategories:ya.handleClearGroupCategories,availableCategories:Ga.children[0].children,categoriesFilter:ya.props.stateTree.parameters.filter.groupCategories,
title:Y.filterPane.groupCategories,prependValue:"/"+Ga.children[0].value+"/"});break;case "orgGroups":break;case "modified":return pa(na.a,{key:"modified-filters",onDateModifiedSelect:ya.handleModifiedFilterChange,dateModifiedFilter:ya.props.stateTree.parameters.filter.dateModified,dateModifiedSection:ya.props.stateTree.ui.filters.modifiedSection});case "created":return pa(ja.a,{key:"created-filters",onDateCreatedSelect:ya.handleCreatedFilterChange,dateCreatedFilter:ya.props.stateTree.parameters.filter.dateCreated,
dateCreatedSection:ya.props.stateTree.ui.filters.createdSection});case "shared":return pa(ra.a,{counts:ya.props.stateTree.results.counts.access,key:"shared-filters",onSharedSelect:ya.handleSharedFilterChange,sharedFilter:ya.props.stateTree.parameters.filter.shared,hideOrgGroupFilters:qa&&!qa.orgId});case "status":Ga=ya.props.stateTree.results.counts.contentStatus;Ma=Ga.orgAuthoritative;var Ha=Ga.publicAuthoritative;return pa(va.a,{counts:{authoritative:qa&&qa.orgId?Ma+Ha:Ha,deprecated:Ga.deprecated},
key:"status-filters",onStatusSelect:ya.handleStatusFilterChange,statusFilter:ya.props.stateTree.parameters.filter.status});case "tags":return pa(Ba.a,{availableTags:ya.props.stateTree.ui.tagsFilter.visibleTags,filterString:ya.props.stateTree.ui.tagsFilter.filterString,key:"ib-tags-filter",onFilterStringChange:ya.handleTagsFilterStringChange,onTagSelect:ya.handleTagsFilterChange,tagsFilter:ya.props.stateTree.parameters.filter.tags});case "collaboration":Ha=ya.props.stateTree.settings.utils.portal;
Ha=qa&&!Ha.isPortal&&qa.orgId&&Ha.subscriptionInfo&&-1<["Trial","Trial Press","Trial Developer","Evaluation"].indexOf(Ha.subscriptionInfo.type);var Ka=qa&&"org_admin"===qa.role,Na=qa&&qa.privileges&&-1<qa.privileges.indexOf("portal:admin:manageCollaborations");if(Ka&&Na&&!Ha)return pa(Oa.a,{key:"ib-collaborations-filter",onCollaborationSelect:ya.handleCollaborationFilterChange,collaborationsFilter:ya.props.stateTree.parameters.filter.origins?ya.props.stateTree.parameters.filter.origins:[]});default:if("object"==
typeof Ia)if("group"===Ia.type){if((Ga=ya.props.stateTree.results.customSections.groupSchemas[Ia.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(da.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,pa(Ja.a,{key:"custom-group-categories-filter",onCategorySelect:ya.handleGroupCategorySelect,onClearCategories:ya.handleClearGroupCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:ya.props.stateTree.parameters.filter.groupCategories,
title:Ia.name,prependValue:"/"+(Ma?Ma.join("/")+"/":"")})}else if("org"===Ia.type){if((Ga=ya.props.stateTree.results.customSections.orgSchemas[Ia.id])&&Ga.children&&Ga.children[0]&&Ga.children[0].children&&(Ha=void 0,Ia.path))return Ha=(Ma=Object(da.b)("children","value",Ga,Ia.path))?Ma.children:void 0,Ma=Ia.path,pa(Ja.a,{key:"custom-org-categories-filter",onCategorySelect:ya.handleOrgCategorySelect,onClearCategories:ya.handleClearOrgCategories,availableCategories:Ia.path&&Ha?Ha:Ga.children,categoriesFilter:ya.props.stateTree.parameters.filter.orgCategories,
title:Ia.name,prependValue:"/"+(Ma?Ma.join("/")+"/":"")})}else if(Ia.children)return Ga=ya.props.stateTree.parameters.filter.customFilter[La],pa(xa.a,{key:Ia.displayName+"-filter-accordion",filter:Ia,index:La,onClear:ya.handleCustomFilterToggle,onClick:ya.handleCustomFilterToggle,selectedOption:Ga?Ga.value:void 0})}return null});return ta?[ta,pa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)]:pa("div",{key:"filter-accordion","class":"ib-filter-pane__accordion"},Da)},sa.prototype.handleCustomFilterToggle=
function(pa,ya,ta){this.props.dispatch(Object(P.u)(pa,ya?{value:ya,text:ta}:void 0));this.props.dispatch(Object(V.i)())},sa.prototype.handleMapAreaToggle=function(){this.props.dispatch(Object(P.B)(!this.props.stateTree.parameters.filter.searchMapArea));this.props.dispatch(Object(V.i)())},sa.prototype.handleMapAreaKeyUp=function(pa){switch(pa.key){case "Enter":this.handleMapAreaToggle()}},sa.prototype.handleSearchOrgToggle=function(){this.props.dispatch(Object(P.F)(!this.props.stateTree.parameters.filter.searchOrg));
this.props.dispatch(Object(V.i)())},sa.prototype.handleItemTypeFilterChange=function(pa){this.props.dispatch(Object(P.y)(pa));this.props.dispatch(Object(V.i)())},sa.prototype.handleModifiedFilterChange=function(pa,ya){this.props.dispatch(Object(P.C)(pa,ya));this.props.dispatch(Object(V.i)())},sa.prototype.handleCreatedFilterChange=function(pa,ya){this.props.dispatch(Object(P.t)(pa,ya));this.props.dispatch(Object(V.i)())},sa.prototype.handleSharedFilterChange=function(pa){this.props.dispatch(Object(P.G)(pa));
this.props.dispatch(Object(V.i)())},sa.prototype.handleStatusFilterChange=function(pa){this.props.dispatch(Object(P.H)(pa));this.props.dispatch(Object(V.i)())},sa.prototype.handleFolderFilterChange=function(pa){this.props.dispatch(Object(P.v)(pa));this.props.dispatch(Object(V.i)(!0))},sa.prototype.handleGroupFilterChange=function(pa){this.props.dispatch(Object(P.x)(pa));this.props.dispatch(Object(V.i)(!0))},sa.prototype.handleOrgGroupFilterChange=function(pa){this.props.dispatch(Object(P.E)(pa));
this.props.dispatch(Object(V.i)())},sa.prototype.handleTagsFilterChange=function(pa){this.props.dispatch(Object(P.I)(pa));this.props.dispatch(Object(V.i)())},sa.prototype.handleCollaborationFilterChange=function(pa){this.props.dispatch(Object(P.s)(pa));this.props.dispatch(Object(V.i)())},sa.prototype.handleOrgCategorySelect=function(pa){var ya=this.props.stateTree.parameters.filter.orgCategories;ya&&ya.value===pa.value?this.props.dispatch(Object(P.D)()):this.props.dispatch(Object(P.D)(pa));this.props.dispatch(Object(V.i)())},
sa.prototype.handleClearOrgCategories=function(){this.props.dispatch(Object(P.D)());this.props.dispatch(Object(V.i)())},sa.prototype.handleLACategorySelect=function(pa){var ya=this.props.stateTree.parameters.filter.livingAtlasCategories;ya&&ya.value===pa.value?this.props.dispatch(Object(P.z)()):this.props.dispatch(Object(P.z)(pa));this.props.dispatch(Object(V.i)())},sa.prototype.handleClearLACategories=function(){this.props.dispatch(Object(P.z)());this.props.dispatch(Object(V.i)())},sa.prototype.handleLARegionSelect=
function(pa){var ya=this.props.stateTree.parameters.filter.livingAtlasRegion;ya&&ya.value===pa.value?this.props.dispatch(Object(P.A)()):this.props.dispatch(Object(P.A)(pa));this.props.dispatch(Object(V.i)())},sa.prototype.handleClearLARegion=function(){this.props.dispatch(Object(P.A)());this.props.dispatch(Object(V.i)())},sa.prototype.handleGroupCategorySelect=function(pa){var ya=this.props.stateTree.parameters.filter.groupCategories;ya&&ya.value===pa.value?this.props.dispatch(Object(P.w)()):this.props.dispatch(Object(P.w)(pa));
this.props.dispatch(Object(V.i)())},sa.prototype.handleClearGroupCategories=function(){this.props.dispatch(Object(P.w)());this.props.dispatch(Object(V.i)())},sa.prototype.handleTagsFilterStringChange=function(pa){this.props.dispatch(Object(ba.e)(pa))},sa}(W.Component);Q.a=Object(W.connect)(function(Ea){return{stateTree:Ea}},function(Ea){return{dispatch:Ea}})(L)},,,,,,function(W,Q,L){function ca(da){var S;da=Object(Y.a)(da);return!0===(null===(S=da.portalProperties)||void 0===S?void 0:S.semanticSearchEnabled)||
da.portalUser&&!da.portalUser.orgId}L.d(Q,"a",function(){return ca});var Y=L(126)},function(W,Q,L){L.d(Q,"a",function(){return Y});L.d(Q,"b",function(){return da});var ca=L(286),Y="VIEW_ITEM_DETAILS",da=function(S){return function(P){P({type:Y,payload:S});P(Object(ca.c)(S))}}},,,,,,function(W,Q,L){L.d(Q,"b",function(){return ca});L.d(Q,"a",function(){return Y});L.d(Q,"c",function(){return da});var ca="CLOSING_DETAILS_PANE",Y="CLOSE_DETAILS_PANE",da=function(){return{type:ca}}},,,,,,,,,function(W,
Q){W.exports=b},function(W,Q){W.exports=c},function(W,Q){W.exports=m},function(W,Q,L){L.d(Q,"a",function(){return P});var ca=L(0),Y=L(69);W=L(254);var da=L.n(W);W=L(16);var S=L(90),P=function(V){function ba(ea){var ia=V.call(this,ea)||this;return ia.state.searchTerm=ia.props.currentSearchString||"",ia.debouncedInput=da()(function(){ia.props.changeSearchString.apply(ia,[ia.state.searchTerm])},400),ia.handleInputChange=ia.handleInputChange.bind(ia),ia.handleClear=ia.handleClear.bind(ia),ia}return Object(ca.d)(ba,
V),ba.prototype.componentWillReceiveProps=function(ea){ea.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:ea.currentSearchString})},ba.prototype.render=function(ea){var ia=this.props,ja=ia.title,la=ia.placeholder;ia=ia.controls;var na=this.state.searchTerm||"";return ea("div",{"class":"ac-search-area"},ea("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},ea("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",
fill:"currentColor"})),ea("input",{"class":"ac-search-area__input",key:"search-input",title:ja,"aria-label":ja,type:"search",oninput:this.handleInputChange,value:na,placeholder:la,"aria-controls":ia}),na&&ea("button",{"class":"ac-search-area__clear",onclick:this.handleClear,key:"search-input-button","aria-label":Y.clearSearch},ea("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},ea("path",{d:S.k,fill:"currentColor"}))))},ba.prototype.handleInputChange=function(ea){this.setState({searchTerm:ea.target.value});
this.debouncedInput()},ba.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},ba}(W.Component)},function(W,Q){W.exports=t},,,,,,,,,,,,,,,,,,,,,,function(W,Q,L){L.d(Q,"a",function(){return Y});var ca=L(0);W=L(15);var Y=Object(W.a)(function(da,S){return da?Object(ca.g)(Object(ca.g)([],S),["(group:"+da.id+")"]):S})},function(W,Q,L){L.d(Q,"a",function(){return Y});var ca=L(0);W=L(15);var Y=Object(W.a)(function(da,S,P){if(da)switch(da.value){case "authoritative":return S&&
S.orgId&&!S.portal.isPortal?Object(ca.g)(Object(ca.g)([],P),["((contentstatus:org_authoritative orgid:"+S.orgId+") OR contentstatus:public_authoritative)"]):S&&S.orgId&&S.portal.isPortal?Object(ca.g)(Object(ca.g)([],P),["((contentstatus:org_authoritative) OR contentstatus:public_authoritative)"]):Object(ca.g)(Object(ca.g)([],P),["(contentstatus:public_authoritative)"]);case "deprecated":return Object(ca.g)(Object(ca.g)([],P),["(contentstatus:deprecated)"])}return P})},function(W,Q,L){L.d(Q,"a",function(){return Y});
var ca=L(0);W=L(15);var Y=Object(W.a)(function(da,S){return da?Object(ca.g)(Object(ca.g)([],S),["(access:"+da.value+")"]):S})},function(W,Q,L){L.d(Q,"a",function(){return Y});var ca=L(0);W=L(15);var Y=Object(W.a)(function(da,S){if(da){var P=function(V){for(var ba,ea=0,ia=Object.keys(V);ea<ia.length;ea++){var ja=V[ia[ea]];if(ja.selected){ba=ja.items;break}ja=ja.participants.filter(function(la){return la.selected});if(0<ja.length){ba=ja[0].items;break}}return ba}(da);if(P)return P=P.join(" OR "),Object(ca.g)(Object(ca.g)([],
S),["id:("+P+")"])}return S})},function(W,Q,L){L.d(Q,"a",function(){return da});W=L(56);var ca=L.n(W),Y=L(30),da=function(S,P,V,ba){function ea(xa){Aa=xa.categorySchema[0].source.split(".")[1];Object(Y.e)(S,P,V.contentCategorySetsGroupQuery).then(ia,va);Object(Y.v)(S,P.restUrl+"/portals/regions",{culture:ba}).then(na,va)}function ia(xa){xa.results[0]?Object(Y.v)(S,P.restUrl+"/content/groups/"+xa.results[0].id+"/search",{q:"typekeywords: "+Aa}).then(ja,va):va("The content category sets group could not be found.")}
function ja(xa){1===xa.results.length&&xa.results[0]?Object(Y.h)(S,P,xa.results[0].id).then(la,va):va("The item containing the living atlas categories could not be determined.")}function la(xa){Ba=xa.categorySchema[0];V.isPortal&&Oa?ra([Ba]):Oa&&ra([Ba,Oa])}function na(xa){Oa={categories:xa.map(function(Ea){return{displayName:Ea.localizedName,title:Ea.region}}).sort(function(Ea,sa){return"wo"===Ea.title.toLowerCase()?-1:Ea.displayName.localeCompare(sa.displayName)}),description:"2.0",displayName:"Regions",
title:"region"};V.isPortal&&Ba?ra([Ba]):Ba&&ra([Ba,Oa])}function ra(xa){Ja.resolve({schema:xa,id:za})}function va(xa){Ja.reject(xa)}void 0===ba&&(ba="en");var za,Aa,Ba,Oa,Ja=new ca.a;return Object(Y.e)(S,P,V.livingAtlasGroupQuery,(null==P?0:P.isPortal)?{sortField:"title",sortOrder:"asc"}:{}).then(function(xa){xa.results[0]&&xa.results[0].id?(za=xa.results[0].id,Object(Y.f)(S,P,za).then(ea,va)):va("The living atlas group could not be found.")},va),Ja}},,,,,,,function(W,Q,L){L.d(Q,"a",function(){return ca});
L.d(Q,"b",function(){return Y});var ca="CHANGE_SEARCH_STRING",Y=function(da){return{type:ca,payload:da}}},function(W,Q,L){L.d(Q,"b",function(){return ca});L.d(Q,"a",function(){return Y});var ca="SHOW_EMPTY_RESULTS",Y="CHANGE_RESULT_DISPLAY"},,,function(W,Q,L){L.d(Q,"a",function(){return Y});L.d(Q,"c",function(){return da});L.d(Q,"b",function(){return S});L.d(Q,"d",function(){return P});L.d(Q,"e",function(){return V});W=L(254);W=L.n(W);var ca=L(162),Y="LOADING_TAGS",da="LOADING_TAGS_SUCCESS",S="LOADING_TAGS_FAILED",
P="UPDATE_TAGS_FILTER_STRING",V=function(ea){return function(ia,ja){ia({type:P,payload:ea});2<ea.length&&ba(ia,ja(),ea)}},ba=W()(function(ea,ia,ja){ea({type:Y});var la=ia.settings.utils.request;ia=Object(ca.c)(ia,ja);la(ia[0],ia[1]).then(function(na){ea({type:da,payload:na.data})},function(na){return ea({type:S,payload:na})})},400)},,function(W,Q,L){L.d(Q,"a",function(){return da});L.d(Q,"b",function(){return S});L.d(Q,"c",function(){return P});W=L(16);Q=L(428);var ca=L(453),Y=L(461);L=L(478);var da=
Q.b.config,S={parameters:ca.b,settings:Q.b,results:Y.b,ui:L.b},P=Object(W.combineReducers)({settings:Q.a,parameters:ca.a,results:Y.a,ui:L.a})},,,function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(49),S=L(48),P=L(566),V=L.n(P),ba=L(86),ea=L(5),ia={itemType:Object(da.y)(),modified:Object(da.C)(),created:Object(da.t)(),shared:Object(da.G)(),folder:Object(da.v)(),group:Object(da.x)(),status:Object(da.H)(),orgGroup:Object(da.E)()};L=function(ja){function la(na){na=ja.call(this,na)||this;return na.handleRemoveMapAreaFilter=
na.handleRemoveMapAreaFilter.bind(na),na.handleRemoveSearchOrgFilter=na.handleRemoveSearchOrgFilter.bind(na),na.handleRemoveGeneralFilter=na.handleRemoveGeneralFilter.bind(na),na.handleRemoveOrgCategoriesFilter=na.handleRemoveOrgCategoriesFilter.bind(na),na.handleRemoveLACategoriesFilter=na.handleRemoveLACategoriesFilter.bind(na),na.handleRemoveLARegionFilter=na.handleRemoveLARegionFilter.bind(na),na.handleRemoveGroupCategoriesFilter=na.handleRemoveGroupCategoriesFilter.bind(na),na.handleClearAll=
na.handleClearAll.bind(na),na.handleRemoveTagsFilter=na.handleRemoveTagsFilter.bind(na),na.handleRemoveCollaborationFilter=na.handleRemoveCollaborationFilter.bind(na),na.handleRemoveCustomFilter=na.handleRemoveCustomFilter.bind(na),na}return Object(ca.d)(la,ja),la.prototype.render=function(na){var ra,va,za=this,Aa=this.props.stateTree.parameters.filter,Ba=[];if(null===(ra=this.props.staticFilters)||void 0===ra||ra.forEach(function(xa){Ba.push({filterId:xa,text:xa,"static":!0})}),Aa.searchOrg&&"all"===
this.props.stateTree.parameters.section&&(null===(va=this.props.stateTree.settings.utils.portal.user)||void 0===va?void 0:va.credential)&&this.props.stateTree.settings.utils.portal.name&&Ba.push({filterId:"searchOrg",onRemove:this.handleRemoveSearchOrgFilter,text:"Organization: "+this.props.stateTree.settings.utils.portal.name}),Aa.searchMapArea&&Ba.push({filterId:"searchMapArea",onRemove:this.handleRemoveMapAreaFilter,text:this.props.stateTree.settings.config.mapAreaFilterChipText?this.props.stateTree.settings.config.mapAreaFilterChipText:
Y.filterChips.mapArea}),Aa.itemType&&Ba.push({filterId:"itemType",onRemove:this.handleRemoveGeneralFilter,text:Y.filterChips.type+": "+Aa.itemType.text}),Aa.dateModified&&Ba.push({filterId:"modified",onRemove:this.handleRemoveGeneralFilter,text:Y.filterChips.dateModified+": "+Aa.dateModified.label}),Aa.dateCreated&&Ba.push({filterId:"created",onRemove:this.handleRemoveGeneralFilter,text:Y.filterChips.dateCreated+": "+Aa.dateCreated.label}),Aa.shared&&Ba.push({filterId:"shared",onRemove:this.handleRemoveGeneralFilter,
text:Y.filterChips.access+": "+Aa.shared.text}),Aa.group&&"myGroups"===this.props.stateTree.parameters.section?Ba.push({filterId:"group",onRemove:this.handleRemoveGeneralFilter,text:Y.filterChips.group+": "+Aa.group.title}):Aa.orgGroup&&"myOrganization"===this.props.stateTree.parameters.section&&Ba.push({filterId:"orgGroup",onRemove:this.handleRemoveGeneralFilter,text:Y.filterChips.group+": "+Aa.orgGroup.title}),Aa.folder&&"myContent"===this.props.stateTree.parameters.section&&Ba.push({filterId:"folder",
onRemove:this.handleRemoveGeneralFilter,text:Y.filterChips.folder+": "+Aa.folder.title}),Aa.status&&Ba.push({filterId:"status",onRemove:this.handleRemoveGeneralFilter,text:Y.filterChips.status+": "+Aa.status.text}),Aa.orgCategories)ra=Aa.orgCategories,Ba.push({filterId:ra.value,onRemove:this.handleRemoveOrgCategoriesFilter,text:Y.filterChips.category+": "+ra.text});Aa.livingAtlasCategories&&(ra=Aa.livingAtlasCategories,Ba.push({filterId:ra.value,onRemove:this.handleRemoveLACategoriesFilter,text:Y.filterChips.category+
": "+ra.text}));Aa.groupCategories&&(ra=Aa.groupCategories,Ba.push({filterId:ra.value,onRemove:this.handleRemoveGroupCategoriesFilter,text:Y.filterChips.category+": "+ra.text}));Aa.livingAtlasRegion&&(ra=Aa.livingAtlasRegion,Ba.push({filterId:ra.value,onRemove:this.handleRemoveLARegionFilter,text:Y.filterChips.region+": "+ra.text}));Aa.tags&&Object.keys(Aa.tags).forEach(function(xa){Ba.push({filterId:xa,onRemove:za.handleRemoveTagsFilter,text:Y.filterChips.tagged+": "+xa})});if(Aa.origins){var Oa=
Aa.origins;Object.keys(Aa.origins).forEach(function(xa){var Ea;Oa[xa].selected?Ba.push({filterId:Oa[xa].value,onRemove:za.handleRemoveCollaborationFilter,text:Y.filterChips.collaboration+": "+Oa[xa].label}):null===(Ea=Oa[xa].participants)||void 0===Ea||Ea.forEach(function(sa){sa.selected&&Ba.push({filterId:sa.value,onRemove:za.handleRemoveCollaborationFilter,text:Y.filterChips.collaboration+": "+sa.label})})})}var Ja=Object(ba.b)(this.props.stateTree.settings.config.customSections,this.props.stateTree.parameters.section);
if(Ja&&!Object(ea.b)(Aa.customFilter)&&Object.keys(Aa.customFilter).filter(function(xa){return Aa.customFilter[xa]}).forEach(function(xa){var Ea,sa=parseInt(xa,10);(null===(Ea=null==Ja?void 0:Ja.filters)||void 0===Ea?0:Ea[sa])&&Ba.push({filterId:""+sa,onRemove:za.handleRemoveCustomFilter,text:Ja.filters[sa].displayName+": "+Aa.customFilter[xa].text})}),0<Ba.length)return na("div",{key:"active-filter-area","class":"ib__active-filters filter-chip-wrap"},na(V.a,{key:"item-browser-filter-controller",
filters:Ba,onClear:this.handleClearAll,mode:"fullscreen"===this.props.stateTree.settings.config.layoutMode?"expanding":"full-width",startOpen:"fullscreen"===this.props.stateTree.settings.config.layoutMode,theme:this.props.theme,showLabel:this.props.showLabel}))},la.prototype.handleRemoveCustomFilter=function(na){this.props.dispatch(Object(da.u)(parseInt(na.target.value,10)));this.props.dispatch(Object(S.i)())},la.prototype.handleRemoveGeneralFilter=function(na){this.props.dispatch(ia[na.target.value]);
this.props.dispatch(Object(S.i)("folder"===na.target.value))},la.prototype.handleRemoveMapAreaFilter=function(na){this.props.dispatch(Object(da.B)(!1));this.props.dispatch(Object(S.i)())},la.prototype.handleRemoveSearchOrgFilter=function(na){this.props.dispatch(Object(da.F)(!1));this.props.dispatch(Object(S.i)())},la.prototype.handleClearAll=function(){var na=!!this.props.stateTree.parameters.filter.folder;this.props.dispatch({type:da.a});this.props.dispatch(Object(S.i)(na))},la.prototype.handleRemoveOrgCategoriesFilter=
function(na){this.props.dispatch(Object(da.D)());this.props.dispatch(Object(S.i)())},la.prototype.handleRemoveLACategoriesFilter=function(na){this.props.dispatch(Object(da.z)());this.props.dispatch(Object(S.i)())},la.prototype.handleRemoveGroupCategoriesFilter=function(na){this.props.dispatch(Object(da.w)());this.props.dispatch(Object(S.i)())},la.prototype.handleRemoveLARegionFilter=function(na){this.props.dispatch(Object(da.A)());this.props.dispatch(Object(S.i)())},la.prototype.handleRemoveTagsFilter=
function(na){var ra=this.props.stateTree.parameters.filter.tags;if(null==ra?0:ra[na.target.value])ra=Object(ca.a)({},ra),delete ra[na.target.value],0<Object.keys(ra).length?this.props.dispatch(Object(da.I)(ra)):this.props.dispatch(Object(da.I)()),this.props.dispatch(Object(S.i)())},la.prototype.handleRemoveCollaborationFilter=function(na){this.props.dispatch(Object(da.s)());this.props.dispatch(Object(S.i)())},la}(W.Component);Q.a=Object(W.connect)(function(ja){return{stateTree:ja}},function(ja){return{dispatch:ja}})(L)},
,,,,,,,,,function(W,Q,L){L.d(Q,"b",function(){return Y});W=L(16);var ca=L(451);L=L(452);var Y={config:ca.b,utils:L.b};Q.a=Object(W.combineReducers)({config:ca.a,utils:L.a})},,,,,,function(W,Q,L){L.d(Q,"b",function(){return Y});L.d(Q,"a",function(){return da});L.d(Q,"c",function(){return S});var ca=L(78),Y="START_CUSTOM_ACTION",da="END_CUSTOM_ACTION",S=function(P,V){return function(ba,ea){var ia=ea().settings.config.customActions.filter(function(ja){return ja.name===P})[0];ia&&(ia.asynchronous?(ba({type:Y,
payload:V}),ia.onAction(Object(ca.b)(V)).then(function(){ba({type:da,payload:V})},function(){ba({type:da,payload:V})})):ia.onAction(Object(ca.b)(V)))}}},,,,,,,,,,,,,,,,,function(W,Q,L){L.d(Q,"b",function(){return ba});var ca=L(0);W=L(36);var Y=L(100),da=L(264),S=L(141),P=L(99),V=L(86),ba={asynchronousItemSelect:!1,usePrimaryButtonStyle:!0,dialogTitle:"Item Browser",disableMainAction:!1,mainActionTitle:W.itemDetails.addToMap,mainInverseActionTitle:W.itemDetails.removeFromMap,onSelect:function(){},
onDeselect:function(){},onBulkAction:function(){},preSelect:function(){},disableOnSelect:!1,baseSections:"myContent myFavorites myGroups myOrganization livingAtlas all".split(" "),layoutMode:"adjustable",detailsPaneType:"flyout",singleItemSelect:!1,enableMapAreaFilter:!0,mapAreaThrottleTime:2500,enableSelectAllItemsFromQuery:!1,showSubmitButton:!0,submitButtonText:"Submit Selection",cancelButtonText:"Cancel",clearSelectionBetweenSearches:!1,resultsPerQuery:16,allowedItemTypes:S.a,availableItemTypeFilters:"maps webMaps mapFiles layers featureLayers tileLayers mapImageLayers imageryLayers sceneLayers tables layerFiles scenes apps webApps experienceApps instantApps sites pages storyMaps mobileApps desktopApps tools analytics locators geodatabaseAccess geometricOperations geoprocessingTasks networkAnalysis files documents images pdfs csvs reports webTools notebooks tiledImageLayers elevationLayers rasterFunctionTemplates knowledgeGraphs".split(" "),
disableItemTypeFilters:!1,customActions:[],customSections:[],showCloseBtn:!1,showBackBtn:!0,onBack:function(){},hideEllipses:!1,replaceSectionDropdownWithTitle:!1,disabledSubResources:{},noItemsFoundText:W.results.noItemsFound,itemSelectionEnabled:!1,disableInitiallySelectedItems:!1};Q.a=function(ea,ia){switch(void 0===ea&&(ea=ba),ia.type){case da.b:return Object(P.f)("id",ea.customSections.filter(V.f).map(V.a).reduce(function(ja,la){return Object(ca.g)(Object(ca.g)([],ja),la)},[]).filter(function(ja){return"object"==
typeof ja&&"group"===ja.type})).forEach(function(ja,la){ja.id=ia.payload.groups[la].id;delete ja.fetchGroupIdByQuery}),ea;case Y.e:return Object(ca.a)(Object(ca.a)({},ea),{itemSelectionEnabled:!0});default:return ea}}},function(W,Q,L){L.d(Q,"b",function(){return S});var ca=L(0),Y=L(326),da=L(101),S={iconDir:"",portal:{},request:function(P){return null}};Q.a=function(P,V){switch(void 0===P&&(P=S),V.type){case Y.a:return Object(ca.a)(Object(ca.a)({},P),{self:V.payload.self});default:return P.portal.portalHostname&&
!P.portal.baseUrl&&(P.portal.baseUrl=Object(da.a)(P.portal)),P}}},function(W,Q,L){L.d(Q,"b",function(){return V});W=L(16);var ca=L(454),Y=L(456),da=L(457),S=L(460),P=L(458);L=L(459);var V={extent:ca.b,filter:Y.b,nextQuery:da.b,searchString:P.b,section:L.b,sort:S.b};Q.a=Object(W.combineReducers)({extent:ca.a,filter:Y.a,nextQuery:da.a,searchString:P.a,section:L.a,sort:S.a})},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(0),Y=L(455),da={area:{minx:-180,miny:-90,maxx:180,maxy:90},throttling:!1};
Q.a=function(S,P){switch(void 0===S&&(S=da),P.type){case Y.a:return Object(ca.a)(Object(ca.a)({},S),{throttling:!1});case Y.b:return{area:P.payload,throttling:!0};default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return Y});L.d(Q,"a",function(){return da});L.d(Q,"c",function(){return S});var ca=L(48),Y="UPDATE_EXTENT",da="UNTHROTTLE_EXTENT",S=function(P){return function(V,ba){var ea=ba();ea.parameters.extent.throttling||(V({type:Y,payload:P}),ea.parameters.filter.searchMapArea&&V(Object(ca.i)()),
setTimeout(function(){V({type:da})},ea.settings.config.mapAreaThrottleTime))}}},function(W,Q,L){L.d(Q,"b",function(){return S});var ca=L(0),Y=L(49),da=L(288),S={customFilter:{},searchMapArea:!1};Q.a=function(P,V){var ba;switch(void 0===P&&(P=S),V.type){case Y.a:return{customFilter:{},searchMapArea:!1};case Y.n:return Object(ca.a)(Object(ca.a)({},P),{orgGroup:V.payload});case Y.j:return Object(ca.a)(Object(ca.a)({},P),{livingAtlasRegion:V.payload});case Y.i:return Object(ca.a)(Object(ca.a)({},P),{livingAtlasCategories:V.payload});
case Y.m:return Object(ca.a)(Object(ca.a)({},P),{orgCategories:V.payload});case Y.f:return Object(ca.a)(Object(ca.a)({},P),{groupCategories:V.payload});case Y.h:return Object(ca.a)(Object(ca.a)({},P),{itemType:V.payload});case Y.l:return Object(ca.a)(Object(ca.a)({},P),{dateModified:V.payload.modified});case Y.c:return Object(ca.a)(Object(ca.a)({},P),{dateCreated:V.payload.created});case Y.p:return Object(ca.a)(Object(ca.a)({},P),{shared:V.payload});case Y.e:return Object(ca.a)(Object(ca.a)({},P),
{folder:V.payload});case Y.g:return Object(ca.a)(Object(ca.a)({},P),{groupCategories:void 0,group:V.payload});case Y.q:return Object(ca.a)(Object(ca.a)({},P),{status:V.payload});case Y.k:return Object(ca.a)(Object(ca.a)({},P),{searchMapArea:V.payload});case Y.o:return Object(ca.a)(Object(ca.a)({},P),{searchOrg:V.payload,orgCategories:void 0});case Y.r:return Object(ca.a)(Object(ca.a)({},P),{tags:V.payload});case Y.b:return Object(ca.a)(Object(ca.a)({},P),{origins:V.payload});case Y.d:return Object(ca.a)(Object(ca.a)({},
P),{customFilter:Object(ca.a)(Object(ca.a)({},P.customFilter),(ba={},ba[V.payload.index]=V.payload.filter,ba))});case da.a:return{customFilter:{},searchMapArea:!1};default:return P}}},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(0),Y=L(48),da={nextStart:-1,total:0};Q.a=function(S,P){switch(void 0===S&&(S=da),P.type){case Y.a:return Object(ca.a)(Object(ca.a)({},S),{total:0});case Y.c:return{nextStart:P.payload.search.nextStart,total:P.payload.search.total};case Y.f:return{nextStart:P.payload.nextStart,
total:P.payload.total};case Y.g:return{nextStart:-1,total:P.payload.length};default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return S});var ca=L(0),Y=L(48),da=L(409),S={current:"",previous:""};Q.a=function(P,V){switch(void 0===P&&(P=S),V.type){case Y.a:return Object(ca.a)(Object(ca.a)({},P),{previous:P.current});case da.a:return Object(ca.a)(Object(ca.a)({},P),{current:V.payload});default:return P}}},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(288),Y=L(326),da="all";Q.a=function(S,
P){switch(void 0===S&&(S=da),P.type){case ca.a:return P.payload.newSection;case Y.a:var V=P.payload.config.baseSections,ba=P.payload.config.customSections.map(function(ea){return ea.name});return-1<V.indexOf(S)||-1<ba.indexOf(S)?S:0<V.length?V[0]:0<ba.length?ba[0]:"all";default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return ba});var ca=L(0),Y=L(290),da=L(288),S=L(264),P=L(86),V=L(99),ba={field:"relevance",order:"desc"},ea={myContent:"modified",myFavorites:"modified",myGroups:"modified",myOrganization:"modified",
livingAtlas:"relevance",all:"relevance"},ia={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};Q.a=function(ja,la){switch(void 0===ja&&(ja=ba),la.type){case Y.b:return Object(ca.a)(Object(ca.a)({},ja),{order:la.payload});case Y.a:var na=la.payload;return{field:na,order:ia[na]||ja.order};case da.a:na=Object(P.b)(la.payload.customSections,la.payload.newSection);if(null==na?0:na.filters){var ra=na.filters.filter(function(va){return"object"==typeof va&&
"group"===va.type})[0];if(null==ra?0:ra.id)if(ra=la.payload.customSectionGroupSort[ra.id])return ra}na=ea[la.payload.newSection]||(null==na?void 0:na.sortField);return{field:na||"relevance",order:ia[na]||"desc"};case S.b:ra=la.payload;na=ra.customSections;ra=Object(P.b)(na,ra.currentSection);if(null==ra?0:ra.filters)if(na=Object(V.f)("id",na.filter(P.f).map(P.a).reduce(function(va,za){return Object(ca.g)(Object(ca.g)([],va),za)},[]).filter(function(va){return"object"==typeof va&&"group"===va.type})),
ra=ra.filters.filter(function(va){return"object"==typeof va&&"group"===va.type})[0],na=la.payload.groups[na.indexOf(ra)])return{field:na.sortField||"relevance",order:na.sortOrder||"desc"};return ja;default:return ja}}},function(W,Q,L){L.d(Q,"b",function(){return va});W=L(16);var ca=L(462),Y=L(465),da=L(466),S=L(467),P=L(468),V=L(469),ba=L(471),ea=L(470),ia=L(472),ja=L(473),la=L(474),na=L(475),ra=L(476);L=L(477);var va={counts:ca.b,displayItems:Y.b,livingAtlas:da.b,loadingItems:S.b,selectedItems:P.b,
initiallySelectedItems:V.b,failedItemDetails:ea.b,fullItemDetails:ba.b,organization:ia.b,user:ja.b,customSections:la.b,allOrganizations:na.b,users:ra.b,provisionedContent:L.b};Q.a=Object(W.combineReducers)({counts:ca.a,displayItems:Y.a,loadingItems:S.a,selectedItems:P.a,failedItemDetails:ea.a,fullItemDetails:ba.a,initiallySelectedItems:V.a,livingAtlas:da.a,organization:ia.a,user:ja.a,customSections:la.a,allOrganizations:na.a,users:ra.a,provisionedContent:L.a})},function(W,Q,L){L.d(Q,"b",function(){return Y});
W=L(16);var ca=L(463);L=L(464);var Y={access:ca.b,contentStatus:L.b};Q.a=Object(W.combineReducers)({access:ca.a,contentStatus:L.a})},function(W,Q,L){L.d(Q,"b",function(){return Y});var ca=L(48),Y={org:void 0,"private":void 0,"public":void 0,shared:void 0};Q.a=function(da,S){switch(void 0===da&&(da=Y),S.type){case ca.c:if(S.payload.aggregations&&S.payload.aggregations.counts){var P=S.payload.aggregations.counts.filter(function(ia){return"access"===ia.fieldName})[0];if(P){var V=P.fieldValues.filter(function(ia){return"org"===
ia.value})[0],ba=P.fieldValues.filter(function(ia){return"private"===ia.value})[0],ea=P.fieldValues.filter(function(ia){return"public"===ia.value})[0];P=P.fieldValues.filter(function(ia){return"shared"===ia.value})[0];return{org:V?V.count:void 0,"private":ba?ba.count:void 0,"public":ea?ea.count:void 0,shared:P?P.count:void 0}}}return da;default:return da}}},function(W,Q,L){L.d(Q,"b",function(){return Y});var ca=L(48),Y={publicAuthoritative:0,orgAuthoritative:0,deprecated:0};Q.a=function(da,S){switch(void 0===
da&&(da=Y),S.type){case ca.c:if(S.payload.aggregations&&S.payload.aggregations.counts){var P=S.payload.aggregations.counts.filter(function(ea){return"contentstatus"===ea.fieldName})[0];if(P){var V=P.fieldValues.filter(function(ea){return"org_authoritative"===ea.value})[0],ba=P.fieldValues.filter(function(ea){return"public_authoritative"===ea.value})[0];P=P.fieldValues.filter(function(ea){return"deprecated"===ea.value})[0];return{publicAuthoritative:ba?ba.count:0,orgAuthoritative:V?V.count:0,deprecated:P?
P.count:0}}}return da;default:return da}}},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(0),Y=L(48),da=[];Q.a=function(S,P){switch(void 0===S&&(S=[]),P.type){case Y.c:return P.payload.search.results;case Y.g:return P.payload;case Y.f:return Object(ca.g)(Object(ca.g)([],S),P.payload.results);default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return P});var ca=L(0),Y=L(327),da=L(48),S=L(182),P={categorySchema:void 0,groupId:void 0,status:"initial"};Q.a=function(V,ba){switch(void 0===
V&&(V=P),ba.type){case Y.a:return Object(ca.a)(Object(ca.a)({},V),{status:"loading"});case Y.b:return Object(ca.a)(Object(ca.a)({},V),{categorySchema:{displayName:ba.payload.id,value:ba.payload.id,children:Object(S.b)(ba.payload.schema)},groupId:ba.payload.id,status:"loaded"});case da.c:return V.categorySchema&&ba.payload.aggregations&&ba.payload.aggregations.countInfo&&"livingAtlas"===ba.payload.aggregations.countInfo.section?Object(ca.a)(Object(ca.a)({},V),{categorySchema:Object(S.c)(ba.payload.aggregations,
Object(S.a)(V.categorySchema),"groupCategories")}):V;case Y.c:return Object(ca.a)(Object(ca.a)({},V),{status:"failed"});default:return V}}},function(W,Q,L){L.d(Q,"b",function(){return V});var ca=L(0),Y=L(100),da=L(434),S=L(71),P=L(173),V={};Q.a=function(ba,ea){var ia,ja,la,na,ra,va,za,Aa,Ba,Oa,Ja,xa;switch(void 0===ba&&(ba={}),ea.type){case Y.h:return Object(ca.a)(Object(ca.a)({},ba),((ia={})[ea.payload.id]=ea.payload,ia));case Y.g:return Object(ca.a)(Object(ca.a)({},ba),((ja={})[ea.payload.id]=void 0,
ja));case Y.j:return Object(ca.a)(Object(ca.a)({},ba),((la={})[ea.payload.id]=void 0,la));case Y.i:return Object(ca.a)(Object(ca.a)({},ba),((na={})[ea.payload.id]=void 0,na));case da.b:return Object(ca.a)(Object(ca.a)({},ba),((ra={})[ea.payload.id]=ea.payload,ra));case da.a:return Object(ca.a)(Object(ca.a)({},ba),((va={})[ea.payload.id]=void 0,va));case S.a:return{};case P.a:return Object(ca.a)(Object(ca.a)({},ba),((za={})[ea.payload.id]=ea.payload,za));case P.c:return Object(ca.a)(Object(ca.a)({},
ba),((Aa={})[ea.payload.id]=void 0,Aa));case P.b:return Object(ca.a)(Object(ca.a)({},ba),((Ba={})[ea.payload.id]=void 0,Ba));case P.e:return Object(ca.a)(Object(ca.a)({},ba),((Oa={})[ea.payload.id]=ea.payload,Oa));case P.g:return Object(ca.a)(Object(ca.a)({},ba),((Ja={})[ea.payload.id]=void 0,Ja));case P.f:return Object(ca.a)(Object(ca.a)({},ba),((xa={})[ea.payload.id]=void 0,xa));default:return ba}}},function(W,Q,L){L.d(Q,"b",function(){return S});var ca=L(0),Y=L(100),da=L(71),S={};Q.a=function(P,
V){var ba;switch(void 0===P&&(P={}),V.type){case Y.b:return{};case Y.f:return Object(ca.a)(Object(ca.a)({},P),V.payload.reduce(function(ja,la){var na;return Object(ca.a)(Object(ca.a)({},ja),((na={})[la.id]=la,na))},{}));case Y.c:var ea=P;var ia=V.payload.id;ea[ia];return Object(ca.f)(ea,["symbol"==typeof ia?ia:ia+""]);case Y.g:return Object(ca.a)(Object(ca.a)({},P),((ea={})[V.payload.id]=V.payload,ea));case Y.k:return P[V.payload.id]?(ea=P,ia=V.payload.id,ea[ia],Object(ca.f)(ea,["symbol"==typeof ia?
ia:ia+""])):Object(ca.a)(Object(ca.a)({},P),((ia={})[V.payload.id]=V.payload,ia));case Y.j:return(ba={})[V.payload.id]=V.payload,ba;case Y.e:return Object(ca.a)(Object(ca.a)({},P),V.payload);case da.a:return{};default:return P}}},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(0),Y=L(100),da={};Q.a=function(S,P){switch(void 0===S&&(S={}),P.type){case Y.e:return Object(ca.a)(Object(ca.a)({},S),P.payload);default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return S});var ca=L(0),Y=L(286),
da=L(357),S={};Q.a=function(P,V){var ba;switch(void 0===P&&(P=S),V.type){case Y.b:return P[V.payload.item.id]?(delete (ea=Object(ca.a)({},P))[V.payload.item.id],ea):P;case da.a:var ea;return P[V.payload.id]?(delete (ea=Object(ca.a)({},P))[V.payload.id],ea):P;case Y.a:return Object(ca.a)(Object(ca.a)({},P),((ba={})[V.payload]=!0,ba));default:return P}}},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(0),Y=L(286),da={};Q.a=function(S,P){var V;switch(void 0===S&&(S=da),P.type){case Y.b:return Object(ca.a)(Object(ca.a)({},
S),((V={})[P.payload.item.id]=P.payload.item,V));case Y.a:return S[P.payload]?(V=Object(ca.a)({},S),delete V[P.payload],V):S;default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return P});var ca=L(0),Y=L(266),da=L(48),S=L(182),P={categorySchema:void 0,groups:void 0,status:"initial",servers:[]};Q.a=function(V,ba){switch(void 0===V&&(V=P),ba.type){case Y.a:return Object(ca.a)(Object(ca.a)({},V),{status:"loading"});case Y.b:return Object(ca.a)(Object(ca.a)({},V),{groups:ba.payload.groups,categorySchema:{displayName:"##orgCatRoot--1337!",
value:"##orgCatRoot--1337!",children:Object(S.b)(ba.payload.schema)},status:"loaded",servers:ba.payload.servers||[]});case da.c:return V.categorySchema&&ba.payload.aggregations&&ba.payload.aggregations.countInfo&&("myOrganization"===ba.payload.aggregations.countInfo.section||"myContent"===ba.payload.aggregations.countInfo.section||"all"===ba.payload.aggregations.countInfo.section)?Object(ca.a)(Object(ca.a)({},V),{categorySchema:Object(S.c)(ba.payload.aggregations,Object(S.a)(V.categorySchema),"categories")}):
V;case Y.c:return Object(ca.a)(Object(ca.a)({},V),{status:"failed"});default:return V}}},function(W,Q,L){L.d(Q,"b",function(){return P});var ca=L(0),Y=L(173),da=L(48),S=L(182),P={favorites:void 0,folders:void 0,groups:void 0,groupCategories:{},status:"initial"};Q.a=function(V,ba){var ea,ia,ja,la,na;switch(void 0===V&&(V=P),ba.type){case Y.d:return Object(ca.a)(Object(ca.a)({},V),{status:"loading"});case Y.i:return Object(ca.a)(Object(ca.a)({},V),{favorites:ba.payload.favorites,folders:ba.payload.folders,
groups:ba.payload.groups,status:"loaded"});case Y.h:return Object(ca.a)(Object(ca.a)({},V),{groupCategories:Object(ca.a)(Object(ca.a)({},V.groupCategories),(ea={},ea[ba.payload.id]={value:ba.payload.id,children:Object(S.b)(ba.payload.categorySchema)},ea))});case da.c:return ba.payload.aggregations&&ba.payload.aggregations.countInfo&&"myGroups"===ba.payload.aggregations.countInfo.section&&ba.payload.aggregations.countInfo.group&&(ea=ba.payload.aggregations.countInfo.group.id,V.groupCategories[ea])?
Object(ca.a)(Object(ca.a)({},V),{groupCategories:Object(ca.a)(Object(ca.a)({},V.groupCategories),(ia={},ia[ea]=Object(S.c)(ba.payload.aggregations,Object(S.a)(V.groupCategories[ea]),"groupCategories"),ia))}):V;case Y.j:return Object(ca.a)(Object(ca.a)({},V),{status:"failed"});case Y.c:return Object(ca.a)(Object(ca.a)({},V),{favorites:V.favorites?Object(ca.a)(Object(ca.a)({},V.favorites),(ja={},ja[ba.payload.id]=!0,ja)):(la={},la[ba.payload.id]=!0,la)});case Y.g:return Object(ca.a)(Object(ca.a)({},
V),{favorites:V.favorites?Object(ca.a)(Object(ca.a)({},V.favorites),(na={},na[ba.payload.id]=!1,na)):{}});default:return V}}},function(W,Q,L){function ca(ba,ea,ia){return ea.filter(function(ja){return ja.type===ba}).reduce(function(ja,la){return ja[la.id]||(ja[la.id]={value:la.id,children:Object(P.b)(la.response.categorySchema)}),ja},Object(Y.a)({},ia))}L.d(Q,"b",function(){return V});var Y=L(0),da=L(264),S=L(48),P=L(182),V={groupSchemas:{},groupSort:{},orgSchemas:{},status:"initial"};Q.a=function(ba,
ea){switch(void 0===ba&&(ba=V),ea.type){case da.a:return Object(Y.a)(Object(Y.a)({},ba),{status:"loading"});case da.b:return Object(Y.a)(Object(Y.a)({},ba),{groupSort:ea.payload.groups.reduce(function(ja,la){return ja[la.id]={field:la.sortField,order:la.sortOrder},ja},ba.groupSort)});case da.c:return Object(Y.a)(Object(Y.a)({},ba),{orgSchemas:ca("org",ea.payload,ba.orgSchemas),groupSchemas:ca("group",ea.payload,ba.groupSchemas),status:"loaded"});case da.d:return Object(Y.a)(Object(Y.a)({},ba),{status:"failed"});
case S.c:if(ea.payload.aggregations){var ia=ea.payload.aggregations.countInfo;if(ia.custom&&ia.custom.filters)return ia.custom.filters.filter(function(ja){return"object"==typeof ja}).reduce(function(ja,la){var na,ra;return"group"===la.type?Object(Y.a)(Object(Y.a)({},ba),{groupSchemas:Object(Y.a)(Object(Y.a)({},ba.groupSchemas),(na={},na[la.id]=Object(P.c)(ea.payload.aggregations,Object(P.a)(ba.groupSchemas[la.id]),"groupCategories"),na))}):"org"===la.type?Object(Y.a)(Object(Y.a)({},ba),{orgSchemas:Object(Y.a)(Object(Y.a)({},
ba.orgSchemas),(ra={},ra[la.id]=Object(P.c)(ea.payload.aggregations,Object(P.a)(ba.orgSchemas[la.id]),"categories"),ra))}):ja},ba)}return ba;default:return ba}}},function(W,Q,L){L.d(Q,"b",function(){return S});var ca=L(0),Y=L(48),da=L(295),S={};Q.a=function(P,V){switch(void 0===P&&(P=S),V.type){case Y.c:return Object(ca.a)(Object(ca.a)({},P),V.payload.search.organizations);case Y.f:case da.b:return Object(ca.a)(Object(ca.a)({},P),V.payload.organizations);default:return P}}},function(W,Q,L){L.d(Q,
"b",function(){return da});var ca=L(0),Y=L(286),da={};Q.a=function(S,P){var V;switch(void 0===S&&(S=da),P.type){case Y.b:return Object(ca.a)(Object(ca.a)({},S),((V={})[P.payload.owner.username]=P.payload.owner,V));default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(0),Y=L(256),da={content:[],status:"initial"};Q.a=function(S,P){switch(void 0===S&&(S=da),P.type){case Y.a:return Object(ca.a)(Object(ca.a)({},S),{status:"loading"});case Y.b:return Object(ca.a)(Object(ca.a)({},
S),{status:"failed"});case Y.c:return Object(ca.a)(Object(ca.a)({},S),{status:"loaded",content:P.payload});default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return V});W=L(16);var ca=L(479),Y=L(480),da=L(484),S=L(485),P=L(486);L=L(487);var V={sidePanel:ca.b,expanded:Y.b,resultPanel:da.b,filters:S.b,tagsFilter:P.b,pagination:L.b};Q.a=Object(W.combineReducers)({sidePanel:ca.a,expanded:Y.a,resultPanel:da.a,filters:S.a,tagsFilter:P.a,pagination:L.a})},function(W,Q,L){L.d(Q,"b",function(){return ba});
var ca=L(0),Y=L(363),da=L(357),S=L(804),P=L(805),V=L(48),ba={closing:!1,type:"hidden"};Q.a=function(ea,ia){switch(void 0===ea&&(ea=ba),ia.type){case Y.b:return Object(ca.a)(Object(ca.a)({},ea),{closing:!0});case Y.a:return Object(ca.a)(Object(ca.a)({},ea),{closing:!1,type:"hidden",item:void 0});case da.a:return Object(ca.a)(Object(ca.a)({},ea),{type:"item",item:ia.payload});case S.a:return Object(ca.a)(Object(ca.a)({},ea),{type:"filter",item:void 0});case P.a:return Object(ca.a)(Object(ca.a)({},ea),
{type:"sort",item:void 0});case V.c:return"item"===ea.type&&ea.item&&!ia.payload.search.results.filter(function(ja){return ea.item&&ja.id===ea.item.id})[0]?Object(ca.a)(Object(ca.a)({},ea),{closing:!0}):ea;case V.g:return"item"===ea.type&&ea.item&&!ia.payload.filter(function(ja){return ea.item&&ja.id===ea.item.id})[0]?Object(ca.a)(Object(ca.a)({},ea),{closing:!0}):ea;default:return ea}}},function(W,Q,L){L.d(Q,"b",function(){return P});W=L(481);var ca=L(482),Y=L(483),da=L(16),S=L(226),P={filters:W.b,
sort:ca.b,sublayerCards:Y.b,maximized:!1,closing:!1};Q.a=Object(da.combineReducers)({filters:W.a,sort:ca.a,sublayerCards:Y.a,maximized:function(V,ba){switch(ba.type){case S.c:return!0;case S.d:return!1;default:return V}},closing:function(V,ba){switch(ba.type){case S.b:return!0;default:return V}}})},function(W,Q,L){L.d(Q,"b",function(){return Y});var ca=L(226),Y=!1;Q.a=function(da,S){switch(S.type){case ca.e:return!da;default:return da}}},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(226),
Y=L(290),da=!1;Q.a=function(S,P){switch(P.type){case ca.f:return!S;case ca.a:return!1;case Y.a:case Y.b:return!S;default:return S}}},function(W,Q,L){L.d(Q,"b",function(){return da});var ca=L(0),Y=L(226),da={cardStates:{},overlayOpen:!1};Q.a=function(S,P){var V;switch(P.type){case Y.g:return Object(ca.a)(Object(ca.a)({},S),{cardStates:Object(ca.a)(Object(ca.a)({},S.cardStates),(V={},V[P.payload.item.id]=P.payload,V)),overlayOpen:P.payload.overlay.visible&&!P.payload.overlay.closing});default:return S}}},
function(W,Q,L){L.d(Q,"b",function(){return S});var ca=L(0),Y=L(48),da=L(410),S={display:"list",status:"empty"};Q.a=function(P,V){switch(void 0===P&&(P=S),V.type){case Y.g:case Y.c:case Y.f:return Object(ca.a)(Object(ca.a)({},P),{status:"success"});case Y.b:case Y.e:return Object(ca.a)(Object(ca.a)({},P),{status:"failed"});case Y.a:return Object(ca.a)(Object(ca.a)({},P),{status:"loading"});case Y.d:return Object(ca.a)(Object(ca.a)({},P),{status:"loadingNext"});case da.a:return Object(ca.a)(Object(ca.a)({},
P),{display:"table"===P.display?"list":"table"});case da.b:return Object(ca.a)(Object(ca.a)({},P),{status:"empty"});default:return P}}},function(W,Q,L){L.d(Q,"b",function(){return S});var ca=L(0),Y=L(49),da=L(288),S={};Q.a=function(P,V){switch(void 0===P&&(P=S),V.type){case Y.a:return{};case Y.l:return Object(ca.a)(Object(ca.a)({},P),{modifiedSection:V.payload.section});case Y.c:return Object(ca.a)(Object(ca.a)({},P),{createdSection:V.payload.section});case da.a:return{};default:return P}}},function(W,
Q,L){L.d(Q,"b",function(){return V});var ca=L(0);W=L(63);var Y=L(99),da=L(288),S=L(413),P=L(48),V={allTags:[],filterString:"",visibleTags:[]};Q.a=function(ea,ia){switch(void 0===ea&&(ea=V),ia.type){case da.a:return Object(ca.a)(Object(ca.a)({},ea),{filterString:""});case S.d:return Object(ca.a)(Object(ca.a)({},ea),{filterString:ia.payload,visibleTags:ea.allTags.filter(function(ra){return 0===ia.payload.length||-1<ra.value.indexOf(ia.payload)})});case S.a:return ea;case S.c:return ia.payload.aggregations&&
(ja=ia.payload.aggregations.counts.filter(function(ra){return"tags"===ra.fieldName})[0])?(ja=(la=ea.allTags,na=ja.fieldValues,ba(la.concat(na))),Object(ca.a)(Object(ca.a)({},ea),{allTags:ja,visibleTags:ja.filter(function(ra){return 0===ea.filterString.length||-1<ra.value.indexOf(ea.filterString)})})):ea;case S.b:return ea;case P.c:var ja;return ia.payload.aggregations&&(ja=ia.payload.aggregations.counts.filter(function(ra){return"tags"===ra.fieldName})[0])?(ja=ba(ja.fieldValues),Object(ca.a)(Object(ca.a)({},
ea),{allTags:ja,visibleTags:ja.filter(function(ra){return 0===ea.filterString.length||-1<ra.value.indexOf(ea.filterString)})})):ea;default:return ea}var la,na};Q=Object(Y.f)("value");var ba=Object(W.a)(Q,function(ea){return ea.map(function(ia){var ja=ia.count;return{value:ia.value.trim(),count:ja}})},function(ea){return ea.sort(function(ia,ja){return ja.count-ia.count})})},function(W,Q,L){L.d(Q,"b",function(){return P});var ca=L(0),Y=L(295),da=L(48),S=L(199),P={page:1,displayItems:[],userThumbnailCache:{},
pendingUserThumbRequests:[],orgThumbnailCache:{},pendingOrgThumbRequests:[],status:"loading"};Q.a=function(V,ba){switch(void 0===V&&(V=P),ba.type){case Y.c:return Object(ca.a)(Object(ca.a)({},V),{status:"loading"});case Y.b:return Object(ca.a)(Object(ca.a)({},V),{displayItems:ba.payload.displayItems,page:ba.payload.page,status:"success"});case Y.a:return Object(ca.a)(Object(ca.a)({},V),{status:"failed"});case da.c:return Object(ca.a)(Object(ca.a)({},V),{displayItems:ba.payload.search.results,status:"success",
page:1});case da.g:return Object(ca.a)(Object(ca.a)({},V),{displayItems:ba.payload,status:"success",page:1});case S.c:return Object(ca.a)(Object(ca.a)({},V),{pendingUserThumbRequests:Object(ca.g)(Object(ca.g)([],V.pendingUserThumbRequests),ba.payload).filter(function(ea,ia,ja){return ja.indexOf(ea)===ia})});case S.d:return Object(ca.a)(Object(ca.a)({},V),{userThumbnailCache:Object(ca.a)(Object(ca.a)({},V.userThumbnailCache),ba.payload),pendingUserThumbRequests:V.pendingUserThumbRequests.filter(function(ea){return!ba.payload[ea]})});
case S.a:return Object(ca.a)(Object(ca.a)({},V),{pendingOrgThumbRequests:Object(ca.g)(Object(ca.g)([],V.pendingOrgThumbRequests),ba.payload).filter(function(ea,ia,ja){return ja.indexOf(ea)===ia})});case S.b:return Object(ca.a)(Object(ca.a)({},V),{orgThumbnailCache:Object(ca.a)(Object(ca.a)({},V.orgThumbnailCache),ba.payload),pendingOrgThumbRequests:V.pendingOrgThumbRequests.filter(function(ea){return!ba.payload[ea]})});default:return V}}},function(W,Q,L){var ca=L(0);W=L(16);var Y=L(547),da=L(548),
S=L(571),P=L(294),V=L.n(P),ba=L(100);L=function(ea){function ia(){return null!==ea&&ea.apply(this,arguments)||this}return Object(ca.d)(ia,ea),ia.prototype.render=function(ja){var la=!this.props.filtersVisible&&!this.props.sortVisible&&!this.props.sublayerOverlayOpen||!window.matchMedia("(max-width: 860px)").matches&&!this.props.sublayerOverlayOpen;return ja("div",{id:"item-browser-container",classes:this.props.containerClasses,key:"ib-expanded"},ja(V.a,{closing:this.props.closing,key:"ib-big-overlay",
scrollable:la,adjustable:this.props.adjustable,flex:!0},ja(Y.a,{key:"big-browser-header"}),ja(da.a,{key:"big-browser-body"}),this.props.renderFooter&&ja(S.a,{handleSecondaryClick:this.props.handleCancelClick,handlePrimaryClick:this.props.handleSubmitClick,key:"big-browser-footer",primaryText:this.props.submitButtonText,secondaryText:this.props.cancelButtonText})))},ia}(W.Component);Q.a=Object(W.connect)(function(ea){return{closing:ea.ui.expanded.closing,filtersVisible:ea.ui.expanded.filters,sortVisible:ea.ui.expanded.sort,
sublayerOverlayOpen:ea.ui.expanded.sublayerCards.overlayOpen,adjustable:"adjustable"===ea.settings.config.layoutMode,renderFooter:!!ea.settings.config.multiSelect,submitButtonText:ea.settings.config.submitButtonText,cancelButtonText:ea.settings.config.cancelButtonText}},function(ea){return{handleSubmitClick:function(){ea(ba.m)},handleCancelClick:function(){ea(ba.l)}}})(L)},function(W,Q){W.exports=v},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);
var da=L(90);L=function(S){function P(V){V=S.call(this,V)||this;return V.handleContract=V.handleContract.bind(V),V.handleClose=V.handleClose.bind(V),V.handleTitleCreate=V.handleTitleCreate.bind(V),V}return Object(ca.d)(P,S),P.prototype.componentWillReceiveProps=function(V){V.page!==this.props.page&&this.titleNode&&this.titleNode.scrollIntoView()},P.prototype.render=function(V){return V("header",{"class":"ib__big-header"},V("div",{"class":"ib__big-header-title-section"},V("h3",{"class":"ib__big-header-title",
id:"ib__big-header-title",afterCreate:this.handleTitleCreate},this.props.dialogTitle),V("button",{key:"main-close-btn","class":"mod__overlay__close","aria-label":Y.close,onclick:this.handleClose},V("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24",fill:"currentColor"},V("path",{d:da.k})))))},P.prototype.handleContract=function(){this.props.onBack()},P.prototype.handleClose=function(){this.props.onBack()},P.prototype.handleTitleCreate=function(V){this.titleNode=
V},P}(W.Component);Q.a=Object(W.connect)(function(S){return{dialogTitle:S.settings.config.dialogTitle,onBack:function(){var P,V;null===(V=null===(P=S.settings.config)||void 0===P?void 0:P.onBack)||void 0===V||V.call(P)},page:S.ui.pagination.page}},function(){return{}})(L)},function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(551),S=L(563),P=L(567),V=L(550),ba=L(372),ea=L.n(ba),ia=L(295);ba=L(205);var ja=L.n(ba);ba=L(373);var la=L.n(ba),na=L(350),ra=L(226),va=L(333),za=L(549);L=function(Aa){function Ba(Oa){Oa=
Aa.call(this,Oa)||this;return Oa.handlePageChange=Oa.handlePageChange.bind(Oa),Oa.handleCloseMobileFilters=Oa.handleCloseMobileFilters.bind(Oa),Oa}return Object(ca.d)(Ba,Aa),Ba.prototype.render=function(Oa){var Ja=this,xa=this.props.expandedFiltersActive,Ea={"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--hidden":!xa,"ib__big-filters--visible":xa},sa="loading"===this.props.resultStatus||"loading"===this.props.paginationStatus,pa={"ib__big-wrapper":!0,"ib__big-wrapper--faded":sa,"ib__big-wrapper--transparent":sa&&
0===this.props.pageDisplayItems.length},ya=Math.ceil(1E4<this.props.itemTotal?1E4/this.props.resultsPerQuery:this.props.itemTotal/this.props.resultsPerQuery);return Oa("div",{"class":"ib__big-body","aria-labelledby":Object(va.slugifySectionName)(this.props.section),role:"tabpanel"},Oa("div",{"class":"ib-nav-container"},Oa(za.a,{key:"big-browser-section-tabs"}),"subscription"!==this.props.section&&Oa(V.a,{key:"ib__big-search-area"})),Oa("div",{"class":"ib__big-row",afterCreate:function(ta){ta&&!Ja.scrollContainer&&
(Ja.scrollContainer=ta)}},Oa("section",{classes:Ea,key:"fullscreen-filters"},Oa("div",{"class":xa?"":"hide"},Oa("div",{"class":"ib-ex-input__container"},Oa("span",{"class":"ib__big-filter-label"},Y.filterPane.filter)),Oa(da.a,null))),Oa("div",{"class":"ib__big-overlay-filters"},Oa(la.a,{key:"mobile-filter-wrap",maxHeight:!0,open:xa,onClose:this.handleCloseMobileFilters,title:Y.filterPane.filter,footer:Oa("button",{"class":"ib__big-filter-results-btn",onclick:this.handleCloseMobileFilters},Y.viewResults)},
Oa(na.a,{key:"mobile-filters"}))),Oa("section",{"class":"ib__big-section ib__big-results",key:"results-section"},Oa("div",{classes:pa},Oa("div",{"class":"ib-ex-alert-container hide",key:"ib-ex-alert-container"},Oa("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding: 0rem .2rem .1rem;\n                                    "},
Oa("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z"})),Oa("span",{"class":"ib-ex-alert-text"},Y.groupAddDisclaimer)),Oa(S.a,{key:"big-browser-input-area"}),Oa(P.a,{key:"big-browser-result-panel"}),1<ya&&"subscription"!==this.props.section&&Oa(ea.a,{key:"big-browser-pager",onPageChange:this.handlePageChange,numPages:ya,currentPage:this.props.currentPage,
paginationLimitReached:1E4<this.props.itemTotal})),sa&&Oa("div",{"class":"ib-ex__load-container",key:"ib-ex__load-container"},Oa(ja.a,{key:"item-ex-loading"})))))},Ba.prototype.handlePageChange=function(Oa){this.scrollContainer&&(this.scrollContainer.scrollTop=0);this.props.changePage(Oa)},Ba.prototype.handleCloseMobileFilters=function(){this.props.toggleExpandedFilters()},Ba}(W.Component);Q.a=Object(W.connect)(function(Aa){return{expandedFiltersActive:Aa.ui.expanded.filters,resultStatus:Aa.ui.resultPanel.status,
paginationStatus:Aa.ui.pagination.status,pageDisplayItems:Aa.ui.pagination.displayItems,currentPage:Aa.ui.pagination.page,itemTotal:Aa.parameters.nextQuery.total,resultsPerQuery:Aa.settings.config.resultsPerQuery,section:Aa.parameters.section}},function(Aa){return{changePage:function(Ba){Aa(Object(ia.d)(Ba))},toggleExpandedFilters:function(){Aa(Object(ra.i)())}}})(L)},function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(288),S=L(48),P=L(333),V=L.n(P),ba=L(125);L=function(ea){function ia(ja){ja=ea.call(this,
ja)||this;return ja.state={options:(ja.props.user?ja.props.baseSections:ja.props.baseSections.filter(function(la){return"livingAtlas"===la||"all"===la})).map(function(la){return{value:la,text:Y.header.sectionTitles[la]}}).concat(ja.props.customSections.map(function(la){return{value:la.name,text:la.name}}))},ja.handleTabSelect=ja.handleTabSelect.bind(ja),ja}return Object(ca.d)(ia,ea),ia.prototype.render=function(ja){return ja(V.a,{key:"ib-expanded-nav",options:this.state.options,onSelect:this.handleTabSelect,
selectedOptionValue:this.props.currentSection,dropdownOnly:!0})},ia.prototype.handleTabSelect=function(ja){this.props.changeSearchSection(ja);this.props.search(!0)},ia}(W.Component);Q.a=Object(W.connect)(function(ea){return{user:ea.settings.utils.portal.user,baseSections:ea.settings.config.baseSections,customSections:ea.settings.config.customSections,currentSection:ea.parameters.section}},function(ea){return{changeSearchSection:function(ia){ea(Object(ba.k)(""));ea(Object(da.b)(ia))},search:function(ia){ea(Object(S.i)(ia))}}})(L)},
function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(285),S=L.n(da),P=L(226),V=L(290),ba=L(409),ea=L(48);da=L(374);var ia=L.n(da),ja=L(375),la="relevance title owner created modified numviews".split(" "),na={myContent:["relevance","modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],
all:["relevance","title","owner","modified","numviews"]};L=function(ra){function va(za){za=ra.call(this,za)||this;return za.handleToggleFilters=za.handleToggleFilters.bind(za),za.handleSearchChange=za.handleSearchChange.bind(za),za.handleSortFieldChange=za.handleSortFieldChange.bind(za),za.handleSortOrderChange=za.handleSortOrderChange.bind(za),za.handleSortClick=za.handleSortClick.bind(za),za.handleSortBlur=za.handleSortBlur.bind(za),za}return Object(ca.d)(va,ra),va.prototype.render=function(za){var Aa=
Y.header.sectionTitles[this.props.section];Aa=this.props.searchPlaceholderText?this.props.searchPlaceholderText:Y.search+" "+(Aa||this.props.section);var Ba=this.props.section;Ba=na[Ba]?Object(ca.g)([],na[Ba]):Object(ca.g)([],la);return-1===Ba.indexOf(this.props.sortField)&&(this.props.sortField=Ba[0]),za("div",{"class":"ib-ex-search-area__container",key:"search-area"},za(ja.a,{key:"ib-ex-search-area-input",title:Y.header.search,placeholder:Aa,currentSearchString:this.props.searchString,changeSearchString:this.handleSearchChange}),
za("div",{"class":"ib-ex-search-area__btn-section"},za(ia.a,{active:this.props.sortActive,key:"ib-ex-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:Ba,onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick,handleMenuBlur:this.handleSortBlur}),za(S.a,{key:"ib-ex-filter-btn",active:this.props.expandedFiltersActive,handleClick:this.handleToggleFilters},za("div",{"class":"drp-sort__btn-body"},za("svg",{role:"img",
viewBox:"0 0 16 16",width:"16px",height:"16px"},za("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),za("span",{"class":"drp-sort__btn-label"},Y.filterPane.filter)))))},va.prototype.handleToggleFilters=function(){this.props.toggleExpandedFilters()},va.prototype.handleSearchChange=function(za){this.props.changeSearchString(za);this.props.search(!0)},va.prototype.handleSortFieldChange=function(za){this.props.changeSortField(za);this.props.search()},
va.prototype.handleSortOrderChange=function(za){this.props.changeSortOrder(za);this.props.search()},va.prototype.handleSortClick=function(){this.props.toggleExpandedSort()},va.prototype.handleSortBlur=function(){this.props.closeExpandedSort()},va}(W.Component);Q.a=Object(W.connect)(function(ra){return{searchPlaceholderText:ra.settings.config.searchPlaceholderText,section:ra.parameters.section,searchString:ra.parameters.searchString.current,previousSearchString:ra.parameters.searchString.previous,
sortActive:ra.ui.expanded.sort,sortField:ra.parameters.sort.field,sortOrder:ra.parameters.sort.order,expandedFiltersActive:ra.ui.expanded.filters}},function(ra){return{toggleExpandedFilters:function(){ra(Object(P.i)())},toggleExpandedSort:function(){ra(Object(P.j)())},changeSortField:function(va){ra(Object(V.c)(va))},changeSortOrder:function(va){ra(Object(V.d)(va))},changeSearchString:function(va){ra(Object(ba.b)(va))},search:function(va){ra(Object(ea.i)(va))},closeExpandedSort:function(){ra(Object(P.h)())}}})(L)},
function(W,Q,L){var ca=L(350);Q.a=function(Y,da){return da(ca.a,{key:"big-browser-filters"})}},function(W,Q){W.exports=A},function(W,Q){W.exports=B},function(W,Q){W.exports=x},function(W,Q){W.exports=D},function(W,Q){W.exports=E},function(W,Q){W.exports=y},function(W,Q){W.exports=F},function(W,Q){W.exports=G},function(W,Q){W.exports=H},function(W,Q,L){function ca(da){var S,P=da.settings.utils.portal.user,V=!P;P=!V&&!P.orgId;if(V||P)if(P)V=function(ba){switch(ba.parameters.section){case "myContent":return"folder itemType modified created tags shared".split(" ");
case "myFavorites":return["itemType","modified","created","tags","status"];case "myGroups":return"groupCategories group itemType modified created tags".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","status"];default:return Y(ba)}}(da);else a:switch(da.parameters.section){case "livingAtlas":V=["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];break a;case "all":V=["itemType",
"modified","status"];break a;default:V=Y(da)}else V=function(ba){switch(ba.parameters.section){case "myContent":return"folder orgCategories itemType modified created tags shared status collaboration".split(" ");case "myFavorites":return"itemType modified created tags shared status collaboration".split(" ");case "myGroups":return"group groupCategories itemType modified created tags shared status collaboration".split(" ");case "myOrganization":return"orgCategories itemType modified created tags shared status collaboration".split(" ");
case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","shared","status"];default:return Y(ba)}}(da);return S=V,function(ba,ea){var ia=ea.indexOf("itemType");ba&&-1<ia&&ea.splice(ia,1);return ea}(da.settings.config.disableItemTypeFilters,S)}function Y(da){return da.settings.config.customSections.reduce(function(S,P){return P.name===da.parameters.section&&P.filters?P.filters:S},["itemType","modified","shared"])}L.d(Q,
"a",function(){return ca})},function(W,Q,L){var ca=L(0);W=L(16);var Y=L(216),da=L.n(Y);Y=L(255);var S=L.n(Y);L=function(P){function V(ba){ba=P.call(this,ba)||this;return ba.handleClear=ba.handleClear.bind(ba),ba.handleClick=ba.handleClick.bind(ba),ba}return Object(ca.d)(V,P),V.prototype.render=function(ba){var ea=this,ia=this.props.filter;return ba(S.a,{key:ia.displayName+"-filter-accordion",clearable:!1,onClear:this.handleClear,title:ia.displayName},ba("ul",{"aria-label":ia.displayName,id:ia.displayName+
"-filter-accordion-tree","class":"ftr-custom__tree",role:"tree"},ia.children?ia.children.map(function(ja){return ba(da.a,{key:ja.value,value:ja.value,name:ja.displayName,onToggleClick:ea.handleClick,selectedToggle:ea.props.selectedOption,childOptions:ja.children})}):null))},V.prototype.handleClear=function(){this.props.onClear(this.props.index)},V.prototype.handleClick=function(ba,ea){ba===this.props.selectedOption?this.props.onClick(this.props.index,void 0):this.props.onClick(this.props.index,ba,
ea)},V}(W.Component);Q.a=L},function(W,Q,L){var ca=L(0),Y=L(36),da=L(178);W=L(16);var S=L(418),P=L(564),V=L(100);L=function(ba){function ea(){return null!==ba&&ba.apply(this,arguments)||this}return Object(ca.d)(ea,ba),ea.prototype.render=function(ia){var ja=this,la=this.props,na=la.itemTotal,ra=la.itemName,va=la.dropdownItems,za=la.staticFilters,Aa=la.handleItemClick,Ba=la.handleClearAllClick,Oa=la.handleSelectPageClick,Ja=la.multiselect,xa=la.maxSelected,Ea=la.showSelectAllOnPage,sa=la.itemsPerPage,
pa=la.pageNumber;la=la.showDeselectTooltip;var ya=1E4<=na?Y.itemLimitReached.replace("${limit}",da.format(1E4)):da.format(na),ta=Math.min((pa-1)*sa+1,na);na=Math.min(pa*sa,na);ra=ra?ya+" "+ra:Y.itemTotalInfo.replace("${from}",ta).replace("${to}",na).replace("${total}",ya).replace("-"," - ");Aa=Ja&&0<va.length&&ia(P.a,{key:"ib-item-dropdown",items:va,maxSelected:xa,handleItemClick:Aa,showDeselectTooltip:la});va=Ja&&0<va.length&&ia("button",{key:"clear-selection-button","class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--clear-all",
onclick:function(ma){ja.handleFocus();Ba()}},Y.filterPane.clearSelection);Ea=Ea&&ia("button",{key:"select-all-button","class":"ib-ex-input__bulk-btn ib-ex-input__bulk-btn--select-page",onclick:function(ma){ja.handleFocus();Oa()}},Y.filterPane.selectAll);return ia("div",{"class":"ib-ex-input__container",key:"ib-result-count-container"},ia("div",{"class":"ib-ex-input__container__controls"},ia("span",{key:"input-area-results","class":"ib-ex-input-area__result-count"},ra),Aa,va,Ea),ia(S.a,{staticFilters:za,
key:"ib-ex__active-filters",theme:"dark",showLabel:Y.filterPane.filters+":"}))},ea.prototype.handleFocus=function(){window.setTimeout(function(){var ia;null===(ia=document.querySelector(".ib-ex-input__container button"))||void 0===ia||ia.focus()},20)},ea}(W.Component);Q.a=Object(W.connect)(function(ba){return{itemName:ba.settings.config.itemName,itemTotal:ba.parameters.nextQuery.total,pageNumber:ba.ui.pagination.page,staticFilters:ba.settings.config.staticFilters,itemsPerPage:ba.settings.config.resultsPerQuery,
dropdownItems:Object.keys(ba.results.selectedItems).map(function(ea){return ba.results.selectedItems[ea]}).filter(function(ea){return!ba.settings.config.disableInitiallySelectedItems||!ba.results.initiallySelectedItems[ea.id]}),multiselect:!!ba.settings.config.multiSelect,maxSelected:ba.settings.config.maxSelected,showDeselectTooltip:ba.settings.config.showDeselectTooltip,showSelectAllOnPage:!!ba.settings.config.multiSelect&&0<ba.parameters.nextQuery.total&&!ba.ui.pagination.displayItems.every(function(ea){return ba.results.selectedItems[ea.id]})&&
(!ba.settings.config.maxSelected||ba.ui.pagination.displayItems.filter(function(ea){return!ba.results.selectedItems[ea.id]}).length+Object.keys(ba.results.selectedItems).length<=ba.settings.config.maxSelected)}},function(ba){return{handleItemClick:function(ea){ba({type:V.c,payload:ea})},handleClearAllClick:function(){ba(V.n)},handleSelectPageClick:function(){ba(Object(V.q)())}}})(L)},function(W,Q,L){var ca=L(0),Y=L(36),da=L(150);W=L(16);var S=L(90),P=L(565),V={open:!1};L=function(ba){function ea(){var ia=
null!==ba&&ba.apply(this,arguments)||this;return ia.state=V,ia.handleBlur=function(ja){var la;(ja=ja.relatedTarget)&&(null===(la=ia.dropdown)||void 0===la?0:la.contains(ja))||ia.setState({open:!1})},ia.handleClick=function(ja){var la,na;ja=ja.target;null!==(la=ia.dropdown)&&void 0!==la&&la.contains(ja)||((la=null===(na=ia.toggleButton)||void 0===na?void 0:na.contains(ja))?ia.setState({open:!ia.state.open}):ia.state.open&&!la&&ia.setState({open:!1}))},ia}return Object(ca.d)(ea,ba),ea.prototype.render=
function(ia){var ja=this,la=this.props,na=la.items,ra=la.maxSelected,va=la.showDeselectTooltip;la=ra?Y.itemsSelectedMax:Y.itemsSelected;var za=1<na.length?la.enPlural:la.en;"en"!==da.locale.slice(0,2)&&(za=la.other);ra=ra?za.replace("${num}",na.length).replace("${max}",ra):za.replace("${num}",na.length);return ia("div",{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",ja.handleClick)},afterRemoved:function(){document.removeEventListener("click",
ja.handleClick);ja.setState(V)}},ia("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(Aa){ja.toggleButton=Aa},afterRemoved:function(){ja.toggleButton=void 0}},ia("span",{"class":"selected-dropdown__toggle-button__text"},ra),ia("svg",{role:"img",style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},ia("path",{d:S.a}))),this.state.open&&ia("div",
{"class":"selected-dropdown__list__container",key:"selected-dropdown__list__container",afterCreate:function(Aa){ja.dropdown=Aa},afterRemoved:function(){ja.dropdown=void 0}},ia("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",key:"selected-dropdown__list",role:"menu"},na.map(function(Aa){return ia(P.a,{item:Aa,handleCloseClick:ja.props.handleItemClick,handleBlur:ja.handleBlur,showDeselectTooltip:va,key:Aa.id})}))))},ea}(W.Component);Q.a=L},function(W,Q,L){var ca=L(0);W=L(16);var Y=
L(36),da=L(90);L=function(S){function P(){return null!==S&&S.apply(this,arguments)||this}return Object(ca.d)(P,S),P.prototype.render=function(V){var ba=this.props,ea=ba.item,ia=ba.handleCloseClick,ja=ba.handleBlur;ba=ba.showDeselectTooltip;var la="selected-"+ea.id,na="deselect-item-"+ea.id,ra=function(){return V("button",{id:na,"class":"selected-dropdown__list-item__button",onclick:function(){ia(ea)},"aria-labelledby":la,"aria-label":Y.deselect,onblur:ja},V("svg",null,V("path",{d:da.j})))};return V("li",
{"class":"selected-dropdown__list-item",role:"menuitem",key:ea.id},V("img",{src:ea.iconURI,alt:ea.type,"class":"selected-dropdown__list-item__icon"}),V("span",{"class":"selected-dropdown__list-item__description",id:la},ea.title),ba?V("calcite-tooltip-manager",null,ra(),V("calcite-tooltip",{"reference-element":na},Y.deselect)):ra())},P}(W.Component);Q.a=L},function(W,Q){W.exports=I},function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(569),S=L(568),P=L.n(S).a;L=function(V){function ba(){return null!==
V&&V.apply(this,arguments)||this}return Object(ca.d)(ba,V),ba.prototype.render=function(ea){return"success"!==this.props.resultStatus&&"loading"!==this.props.resultStatus||"success"!==this.props.pageStatus&&"loading"!==this.props.pageStatus?this.props.tooManyGroups?ea("div",{key:"request-error","class":"ib__results"},ea("div",{"class":"ib-results__message-container"},ea("span",{"class":"ib-results__message"},Y.results.tooManyGroups))):ea("div",{key:"request-error","class":"ib__results"},ea("div",
{"class":"ib-results__message-container"},ea("span",{"class":"ib-results__message"},Y.results.requestError))):this.props.showSubResources?ea(P,{key:"lazy-sublayers",path:"ItemBrowser/SubResourceItemList",componentProps:{key:"subresource-item-list"}},"loading..."):ea(da.a,{key:"ib-ex-item-list"})},ba}(W.Component);Q.a=Object(W.connect)(function(V){return{resultStatus:V.ui.resultPanel.status,pageStatus:V.ui.pagination.status,showSubResources:V.settings.config.showSubResources,tooManyGroups:!(!("myGroups"===
V.parameters.section&&V.results.user.groups&&175<V.results.user.groups.length)||V.parameters.filter.group)}},function(){return{}})(L)},function(W,Q){W.exports=N},function(W,Q,L){var ca=L(0);W=L(16);var Y=L(570),da=L.n(Y),S=L(126),P=L(307);L=function(V){function ba(){return null!==V&&V.apply(this,arguments)||this}return Object(ca.d)(ba,V),ba.prototype.render=function(ea){var ia=this,ja=Object(S.a)(this.props.stateTree),la=this.props.stateTree.ui.pagination.displayItems.map(function(na){return ea(da.a,
{key:na.id,item:na,organization:"public_authoritative"===na.contentStatus&&ia.props.stateTree.results.allOrganizations[na.orgId]?ia.props.stateTree.results.allOrganizations[na.orgId]:void 0,portal:ja,mainAction:ia.props.stateTree.settings.config.onSelect,mainInverseAction:ia.props.stateTree.settings.config.onDeselect,mainActionTitle:ia.props.stateTree.settings.config.mainActionTitle,mainInverseActionTitle:ia.props.stateTree.settings.config.mainInverseActionTitle,loadOnMainAction:ia.props.stateTree.settings.config.asynchronousItemSelect,
usePrimaryButtonStyle:ia.props.stateTree.settings.config.usePrimaryButtonStyle,isSelected:ia.props.stateTree.settings.config.preSelect,customActions:ia.props.stateTree.settings.config.customActions,sortField:ia.props.stateTree.parameters.sort.field})});return 0<la.length?ea("div",{key:this.props.key,"class":"ib-ex-results__item-list"},la):ea(P.a,{key:this.props.key,text:this.props.stateTree.settings.config.noItemsFoundText||""})},ba}(W.Component);Q.a=Object(W.connect)(function(V){return{stateTree:V}},
function(){return{}})(L)},function(W,Q){W.exports=M},function(W,Q,L){var ca=L(0);W=function(Y){function da(){return null!==Y&&Y.apply(this,arguments)||this}return Object(ca.d)(da,Y),da.prototype.render=function(S){var P=this;return S("footer",{"class":"ib__big-footer"},S("button",{"class":"ib__big-footer-btn ib__big-footer-btn--secondary",onclick:function(){return P.props.handleSecondaryClick()}},this.props.secondaryText),S("button",{"class":"ib__big-footer-btn ib__big-footer-btn--primary",onclick:function(){var V,
ba;return null===(ba=(V=P.props).handlePrimaryClick)||void 0===ba?void 0:ba.call(V)}},this.props.primaryText))},da}(L(16).Component);Q.a=W},function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(363),S=L(574),P=L(575),V=L(573),ba=L(589);L=function(ea){function ia(ja){ja=ea.call(this,ja)||this;return ja.handleCloseDetailsPane=ja.handleCloseDetailsPane.bind(ja),ja}return Object(ca.d)(ia,ea),ia.prototype.render=function(ja){var la=this.props.detailsPaneType,na=this.props.sidePanelType,ra=this.props.closing,
va={"ib-side__container--fade-in":!ra,"ib-side__container--fade-out":ra,"ib-side__container--flyout":"flyout"===la,"ib-side__container--flyover":"flyover"===la};la={"ib-side__content--flyout":"flyout"===la,"ib-side__content--in-right":!ra&&"flyout"===la,"ib-side__content--out-left":ra&&"flyout"===la,"ib-side__content--flyover":"flyover"===la,"ib-side__content--in-left":!ra&&"flyover"===la,"ib-side__content--out-right":ra&&"flyover"===la};if("sort"===na){var za=ja(V.a,{key:"sort-pane"});var Aa=Y.sortOptions.sort}else if("filter"===
na)za=ja(S.a,{key:"filter-pane"}),Aa=Y.filterPane.filter;else if("item"===na&&this.props.sidePanelItem)za=ja(P.a,{key:this.props.sidePanelItem.id,item:this.props.sidePanelItem});else if("hidden"===na)return;return ja(ba.a,{key:"item"===na&&this.props.sidePanelItem?""+this.props.sidePanelItem.id:na,containerClasses:va,contentClasses:la,handleClose:this.handleCloseDetailsPane,i18n:Y,type:na,title:Aa},za)},ia.prototype.componentWillReceiveProps=function(ja){var la=this;!this.props.closing&&ja.closing&&
("item"===this.props.sidePanelType&&this.props.sidePanelItem?(ja=document.getElementById("item-"+this.props.sidePanelItem.id+"-card-title"))&&ja.focus():"filter"===this.props.sidePanelType?(ja=document.getElementById("filter-button"))&&ja.focus():"sort"===this.props.sidePanelType&&(ja=document.getElementById("sort-button"))&&ja.focus(),setTimeout(function(){la.props.closeDetailsPaneImmediately()},300))},ia.prototype.handleCloseDetailsPane=function(){this.props.closeDetailsPane()},ia}(W.Component);
Q.a=Object(W.connect)(function(ea){return{detailsPaneType:ea.settings.config.detailsPaneType,sidePanelType:ea.ui.sidePanel.type,sidePanelItem:ea.ui.sidePanel.item}},function(ea){return{closeDetailsPane:function(){ea(Object(da.c)())},closeDetailsPaneImmediately:function(){ea({type:da.a})}}})(L)},function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(290),S=L(48),P=L(216),V=L.n(P),ba="relevance title owner created modified numviews".split(" "),ea={myContent:["modified","title"],myFavorites:["relevance",
"modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};L=function(ia){function ja(la){la=ia.call(this,la)||this;return la.handleChangeSortField=la.handleChangeSortField.bind(la),la.handleChangeSortAsc=la.handleChangeSortAsc.bind(la),la.handleChangeSortDesc=la.handleChangeSortDesc.bind(la),
la}return Object(ca.d)(ja,ia),ja.prototype.render=function(la){var na=this,ra=this.props.section;ra=(ea[ra]?Object(ca.g)([],ea[ra]):Object(ca.g)([],ba)).map(function(Aa){return la(V.a,{key:Aa,name:Y.sortOptions[Aa],value:Aa,selectedToggle:na.props.sortField,onToggleClick:na.handleChangeSortField})});var va=this.props.sortField,za=this.props.sortOrder;return la("div",{id:"sort-pane-container",key:"sort-pane-container","class":"ib-sort-pane__container"},la("div",{"class":"ib-sort-pane__body"},la("h3",
{id:"sort-options-title","class":"drp-sort__menu-title"},Y.sortOptions.sortBy),la("ul",{key:"sort-option-section","class":"ib-sort-pane__option-section",role:"radiogroup","aria-labelledby":"sort-options-title","aria-activedescendent":this.props.sortField+"-option"},ra),"relevance"!==va?la("div",null,la("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},Y.sortOptions.sortDir),la("ul",{key:"sort-direction-section","class":"ib-sort-pane__dir-section",role:"radiogroup","aria-labelledby":"sort-dir-title",
"aria-activedescendent":za+"-option"},la(V.a,{key:"sort-asc-toggle",name:Y.sortOptions.ascending[va],value:"asc",onToggleClick:this.handleChangeSortAsc,selectedToggle:za}),la(V.a,{key:"sort-desc-toggle",name:Y.sortOptions.descending[va],value:"desc",onToggleClick:this.handleChangeSortDesc,selectedToggle:za}))):null))},ja.prototype.handleChangeSortField=function(la){this.props.changeSortField(la);this.props.search()},ja.prototype.handleChangeSortAsc=function(la){"desc"===this.props.sortOrder&&(this.props.changeSortOrder("asc"),
this.props.search())},ja.prototype.handleChangeSortDesc=function(la){"asc"===this.props.sortOrder&&(this.props.changeSortOrder("desc"),this.props.search())},ja}(W.Component);Q.a=Object(W.connect)(function(ia){return{section:ia.parameters.section,sortField:ia.parameters.sort.field,sortOrder:ia.parameters.sort.order}},function(ia){return{changeSortField:function(ja){ia(Object(da.c)(ja))},changeSortOrder:function(ja){ia(Object(da.d)(ja))},search:function(ja){ia(Object(S.i)(ja))}}})(L)},function(W,Q,
L){var ca=L(0);W=L(16);var Y=L(350);L=function(da){function S(){return null!==da&&da.apply(this,arguments)||this}return Object(ca.d)(S,da),S.prototype.render=function(P){return P("div",{id:"filter-pane-container",key:"filter-pane-container","class":"ib-filter-pane__container"},P(Y.a,{key:"filter-options"}))},S}(W.Component);Q.a=L},function(W,Q,L){var ca=L(0),Y=L(36),da=L(178);W=L(16);var S=L(173),P=L(126),V=L(205),ba=L.n(V),ea=L(587);V=L(576);var ia=L.n(V);V=L(577);var ja=L.n(V);V=L(578);var la=L.n(V);
V=L(579);var na=L.n(V);V=L(580);var ra=L.n(V);V=L(581);var va=L.n(V);V=L(582);var za=L.n(V);V=L(583);var Aa=L.n(V);V=L(584);var Ba=L.n(V);V=L(489);var Oa=L.n(V);V=L(585);var Ja=L.n(V);V=L(206);var xa=L.n(V),Ea=L(586),sa=L(588),pa=L(151);L=function(ya){function ta(ma){ma=ya.call(this,ma)||this;return ma.handleItemDetails=ma.handleItemDetails.bind(ma),ma.handleFavorites=ma.handleFavorites.bind(ma),ma}return Object(ca.d)(ta,ya),ta.prototype.render=function(ma){if(!(this.props.stateTree.results.fullItemDetails[this.props.item.id]&&
this.props.stateTree.results.users[this.props.item.owner]||this.props.stateTree.results.failedItemDetails[this.props.item.id]))return ma(ba.a,{key:"loading-item-details"});if(this.props.stateTree.results.failedItemDetails[this.props.item.id])return ma("div",{"class":"ib-item-pane__message-container"},ma("span",{"class":"ib-results__message"},Y.results.requestError));var qa=this.props.stateTree.results.fullItemDetails[this.props.item.id],wa=this.props.stateTree.results.users[qa.owner],Fa=Object(P.a)(this.props.stateTree),
Da=qa&&this.props.stateTree.results.loadingItems[qa.id],Ca={"ib-item-pane__fader":!0,"ib-item-pane__fader--loading":Da},Ia=new Date(qa.modified),La=new Date(qa.created),Ga=this.props.stateTree.results.allOrganizations[qa.orgId],Ma="public_authoritative"===qa.contentStatus&&qa.orgId&&Ga,Ha=!("Raster function template"===qa.type&&qa.owner.includes("esri_"));return[ma("div",{"class":"ib-item-pane__thumb-container",key:"ib-item-pane__thumb-container"},ma("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
"class":"ib-item-pane__thumbnail",style:"\n                            display: block;\n                            padding: none;\n                            margin: none;\n                            background-image: url("+qa.thumbURI+");\n                            width: 15rem;\n                            height: 10rem;\n                        ",alt:""}),ma(Ea.a,{favorites:this.props.stateTree.results.user.favorites,item:qa,onToggleFavorite:this.handleFavorites})),ma("div",{id:"item-pane-container",
"class":"ib-item-pane__container",key:qa.id+"-container"},ma("div",{classes:Ca},ma("div",{key:"item-details"},ma("h4",{"class":"ib-item-pane__title"},qa.title,"\u00a0",Ha&&ma(xa.a,{key:"view-full-item-details",title:Y.viewFullDetails,handleClick:this.handleItemDetails,focusable:!0},ma("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},ma("path",{d:"M13 15h-12v-12h10v-1h-11v14h14v-6h-1z"}),ma("path",{d:"M13 7.536l3-3-3-3v1.061l1.404 1.404h-1.404c-3.85 0-7 3.15-7 7v1h1v-1c0-3.309 2.691-6 6-6h1.475l-1.475 1.475v1.061z"})))),
ma("span",{key:"item-owner","class":"ib-item-pane__owner-text"},ma("img",{src:qa.iconURI,"class":"ib-item-pane__type-icon",title:qa.displayName}),qa.displayName," ",Y.itemDetails.by,"\u00a0",ma("a",{"class":"ib-item-pane__owner-link",title:Ma?Y.itemDetails.viewOrg:Y.itemDetails.viewUser,target:"_blank",href:Ma?Ga.orgUrl:Fa.baseUrl+"/home/user.html?user\x3d"+qa.owner},Ma?Ga.name:qa.owner)),ma("span",{key:"modified-date","class":"ib-item-pane__modified"},Y.itemDetails.lastModified,": "+pa.format(Ia,
{selector:"date",formatLength:"long"})),ma("div",{"class":"ib-item-pane__badges"},this.renderBadges(qa,ma)),ma("div",{"class":"ib-item-pane__line",style:"width: 100%; border-bottom: 1px solid #ccc"}),ma("span",{key:"snippet","class":"ib-item-pane__snippet"},qa.snippet?qa.snippet:Y.itemDetails.noSnippet),ma("h5",{"class":"ib-item-pane__details"},Y.itemDetails.details),qa.patchedDescription?ma("span",{key:"item-description",innerHTML:qa.patchedDescription,"class":"ib-item-pane__description"}):ma("span",
{key:"item-no-description","class":"ib-item-pane__description"},Y.itemDetails.noDescription),ma("h5",{"class":"ib-item-pane__terms-of-use"},Y.itemDetails.termsOfUse),qa.licenseInfo?ma("span",{key:"item-terms-of-use",innerHTML:qa.licenseInfo,"class":"ib-item-pane__license-info"}):ma("span",{key:"item-no-terms-of-use","class":"ib-item-pane__license-info"},Y.itemDetails.noTermsOfUse),ma("h5",{"class":"ib-item-pane__credits"},Y.itemDetails.attribution),qa.accessInformation?ma("span",{key:"item-access-information",
innerHTML:qa.accessInformation,"class":"ib-item-pane__attribution"}):ma("span",{key:"item-no-access-information","class":"ib-item-pane__attribution"},Y.itemDetails.noAttribution),Ma?ma("p",null,ma("h5",{"class":"ib-item-pane__pa-owner"},Y.sortOptions.owner),ma("div",{"class":"ib-item-pane__pa-org"},ma("img",{src:Ga.thumbURI,alt:Ga.name,"class":"ib-item-pane__pa-org-thumb user-image-small-inline padding-right-half display-block js-owner-thumbnail"}),Ga.name),ma("div",{"class":"ib-item-pane__pa-managed"},
ma("span",{"class":"ib-item-pane__pa-managed-label"},Y.itemDetails.managedBy),ma("div",{"class":"ib-item-pane__pa-manager"},wa.thumbURI?ma("img",{src:wa.thumbURI,"class":"ib-item-pane__pa-managed-thumb"}):ma(ea.a,{"class":"ib-item-pane__pa-managed-thumb"}),qa.owner))):null,ma("span",{key:"num-views","class":"ib-item-pane__num-views"},ma("strong",null,Y.itemDetails.views),": "+da.format(qa.numViews)),ma("span",{key:"created-date","class":"ib-item-pane__num-views"},ma("strong",null,Y.itemDetails.created),
": "+pa.format(La,{selector:"date",formatLength:"long"})),ma(sa.a,{baseUrl:Fa.baseUrl,item:qa}))),Da?ma(ba.a,{key:"item-pane-loading"}):null)]},ta.prototype.renderBadges=function(ma,qa){var wa=this,Fa=this.props.stateTree.settings.utils.portal.user;return ma.badges.map(function(Da){switch(Da){case "authoritative":return qa(ia.a,{altOrg:"public_authoritative"===ma.contentStatus&&wa.props.stateTree.results.allOrganizations[ma.orgId]?wa.props.stateTree.results.allOrganizations[ma.orgId].name:void 0});
case "deprecated":return qa(la.a,null);case "collaboration":return qa(ja.a,null);case "livingAtlas":return qa(na.a,null);case "marketplace":return qa(ra.a,null);case "openData":return qa(va.a,null);case "premium":return qa(za.a,{user:Fa});case "subscriber":return qa(Aa.a,{user:Fa});case "solution":return qa(Ba.a,null);case "publicDataCollection":return qa(Ja.a,null);case "retiredStoryMap":return qa(Oa.a,{isRetiredStoryMap:!0});case "retiredApp":return qa(Oa.a,null)}return null})},ta.prototype.handleItemDetails=
function(){var ma=Object(P.a)(this.props.stateTree),qa=this.props.stateTree.ui.sidePanel.item;qa&&window.open(ma.baseUrl+"/home/item.html?id\x3d"+qa.id,"_blank")},ta.prototype.handleFavorites=function(){var ma=this.props.stateTree.ui.sidePanel.item,qa=this.props.stateTree.results.user.favorites;ma&&qa&&qa[ma.id]?this.props.removeFromFavorites(ma):ma&&qa&&!qa[ma.id]&&this.props.addToFavorites(ma)},ta}(W.Component);Q.a=Object(W.connect)(function(ya){return{stateTree:ya}},function(ya){return{addToFavorites:function(ta){ya(Object(S.k)(ta))},
removeFromFavorites:function(ta){ya(Object(S.m)(ta))}}})(L)},function(W,Q){W.exports=J},function(W,Q){W.exports=R},function(W,Q){W.exports=Z},function(W,Q){W.exports=T},function(W,Q){W.exports=X},function(W,Q){W.exports=aa},function(W,Q){W.exports=fa},function(W,Q){W.exports=oa},function(W,Q){W.exports=ua},function(W,Q){W.exports=ha},function(W,Q,L){var ca=L(36);Q.a=function(Y,da){var S=Y.favorites;if(!S)return null;S=S[Y.item.id];return da("button",{onclick:Y.onToggleFavorite,classes:{"ib-item-pane__favorites-btn":!0,
"ib-item-pane__favorites-btn--active":S}},da("span",{"class":"screen-readers-only"},S?ca.itemDetails.isFavorite:ca.itemDetails.notFavorite),da("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"32",height:"32",viewBox:"0 0 32 32"},da("path",{d:"M16.043.367L19.813 12H32l-9.859 7.172 3.789 11.625-9.887-7.193-9.889 7.193 3.787-11.625L0 12h12.271z"})),S?ca.itemDetails.removeFromFavorites:ca.itemDetails.addToFavorites)}},function(W,Q,L){Q.a=function(ca,Y){return Y("div",{"class":ca["class"]},
Y("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 150",height:"100%",width:"100%"},Y("path",{id:"path3727",d:"m 52,148.35766 c -2.475,-0.18484 -10.8,-0.45343 -18.5,-0.59687 L 19.5,147.5 19.194994,142.1708 C 18.780069,134.92106 24.675201,110.99518 28,106.43495 c 2.119734,-2.90738 3.184268,-3.40501 11.820245,-5.52557 14.015326,-3.441464 12.799724,-4.197584 21.447495,13.34062 4.135724,8.3875 8.291761,16.93353 9.235637,18.99118 0.943876,2.05765 2.065683,3.52516 2.492905,3.26112 0.427221,-0.26404 4.718162,-8.47257 9.535425,-18.24118 4.817262,-9.76862 9.137298,-18.24997 9.600081,-18.847444 1.07417,-1.386813 10.747512,-0.129937 19.839562,2.577794 7.37115,2.19522 11.16896,5.44708 12.85677,11.00853 6.69283,22.05341 7.84944,32.33763 3.67188,32.64913 -1.1,0.082 -6.95,0.62022 -13,1.19598 -11.23048,1.06878 -55.365488,2.12006 -63.5,1.51255 z m 20,-17.37753 c 0,-0.56093 -1.107043,-2.77354 -2.460095,-4.91692 -1.353052,-2.14337 -2.772339,-5.17193 -3.153972,-6.73012 C 66.0043,117.77489 65.377929,116.275 64.993998,116 c -0.383932,-0.275 -2.303235,-3.7147 -4.265118,-7.64379 -2.997369,-6.00286 -3.476188,-7.83951 -2.998076,-11.499996 0.312942,-2.395918 0.973535,-4.62137 1.467986,-4.94545 0.494451,-0.32408 2.959173,0.453755 5.47716,1.728522 2.517988,1.274768 6.181951,2.618632 8.142141,2.986366 3.484798,0.653752 4.619546,0.375908 12.565461,-3.076659 3.34951,-1.455391 3.803432,-1.47865 3.300927,-0.169142 -0.398242,1.037802 -0.124039,1.342318 0.866449,0.962233 C 92.04719,93.384178 91.914975,93.739792 82.242203,114 79.747646,119.225 76.801902,125.4125 75.696105,127.75 73.817142,131.72187 72,133.30992 72,130.98013 Z M 70.29923,93.893977 C 68.538807,93.384871 66.824749,92.525456 66.490213,91.984165 66.155677,91.442874 65.211939,91 64.393017,91 c -1.502433,0 -6.302871,-4.784056 -6.361416,-6.339707 -0.01738,-0.461839 -0.887451,-1.586839 -1.933489,-2.5 C 50.802328,77.537229 48.879628,58.999483 52.441931,46.909154 54.720369,39.176219 55.37403,38.7615 68,37.038257 72.675,36.400195 79.341587,35.480846 82.814638,34.995261 86.28769,34.509675 89.663822,34.317502 90.317154,34.568209 91.693801,35.096478 97,43.197939 97,44.771524 c 0,0.583995 0.454771,1.2134 1.010602,1.398677 1.503878,0.501292 2.439668,18.675087 1.175539,22.829799 -2.185196,7.181885 -3.87855,11.047986 -5.800118,13.242269 -1.087422,1.241752 -2.586953,3.479873 -3.332291,4.973602 -0.745338,1.493728 -1.684447,2.51236 -2.086909,2.263625 -0.402462,-0.248735 -1.79714,0.347041 -3.099286,1.323947 -5.368623,4.027692 -8.806128,4.756927 -14.568307,3.090534 z M 47.015313,60.25 C 47.006891,59.5625 46.333573,59 45.519052,59 43.283015,59 42.644845,54.707151 43.38075,44.616059 44.166271,33.844619 44.896556,30 46.15707,30 c 1.316225,0 7.090208,-4.174219 8.645304,-6.25 0.721069,-0.9625 1.890773,-1.75 2.599342,-1.75 0.70857,0 2.102798,-0.9 3.098284,-2 1.625205,-1.795832 3.079967,-2 14.250617,-2 14.795202,0 15.235286,0.195009 24.330624,10.781341 1.078019,1.254737 2.667599,4.179737 3.532399,6.5 0.86481,2.320262 1.94546,5.118659 2.40144,6.218659 1.51768,3.661163 2.10273,13.653118 0.88532,15.120015 -2.35184,2.833785 -3.74627,1.464615 -4.45065,-4.370015 -0.68461,-5.670783 -5.785078,-16.623556 -8.973492,-19.269704 -1.58533,-1.315707 -2.444358,-1.239512 -24.630153,2.184678 -15.102822,2.330992 -14.275738,1.799234 -17.29574,11.119973 -0.852701,2.631721 -1.557256,6.456721 -1.565678,8.5 C 48.976265,56.828226 48.533156,59.175 48,60 c -0.64625,1 -0.974479,1.083333 -0.984687,0.25 z",
fill:"#fff"})))}},function(W,Q,L){var ca=L(36);Q.a=function(Y,da){var S=Y.item,P=Y.baseUrl,V=ca.itemDetails.shared[S.access?S.access:S.sharing&&S.sharing.access];if(S.sharedToGroups&&0<S.sharedToGroups.length){var ba=S.sharedToGroups.map(function(ea){return da("a",{"class":"ib-item-pane__group-link",href:P+"/home/group.html?owner\x3d"+ea.owner+"\x26title\x3d"+ea.title,key:ea.id,target:"_blank"},ea.title)}).reduce(function(ea,ia,ja){return ea[ja-1]&&ea.push(", "),ea.push(ia),ea},[]);V="public"===S.access||
"org"===S.access?[V+", ",ba]:ba}else if("shared"===S.access&&(!S.sharedToGroups||0===S.sharedToGroups.length))return null;return da("span",{key:"shared-with","class":"ib-item-pane__shared"},da("strong",null,ca.itemDetails.sharedWith),": ",V)}},function(W,Q,L){function ca(S){S.focus()}W=L(206);var Y=L.n(W),da=L(590);Q.a=function(S,P){var V=S.key,ba=S.containerClasses,ea=S.contentClasses,ia=S.handleClose,ja=S.i18n,la=S.title,na=S.children,ra=null;return"item"===S.type&&(ra=P(da.a,{key:"item-details-footer"})),
P("div",{key:"details-pane",classes:ba,"aria-expanded":"true"},P("div",{key:"content-container",classes:ea},P("header",{"class":"ib-side-body__header"},P("span",{"class":"ib-side-body__title"},la),P("div",{"class":"ib-side-body__btn-container"},P(Y.a,{afterCreate:ca,focusable:!0,handleClick:ia,key:"side-panel-close-btn",title:ja.close},P("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},P("path",{d:"M13.314 1.99l0.707 0.707-11.314 11.313-0.707-0.707 11.314-11.313z"}),
P("path",{d:"M2 2.697l0.707-0.707 11.313 11.314-0.707 0.707-11.313-11.314z"}))))),P("section",{key:V,"class":"ib-side-body__content"},na),ra))}},function(W,Q,L){var ca=L(0);W=L(16);var Y=L(100),da=L(434);L=function(S){function P(V){V=S.call(this,V)||this;return V.handleAddBtnClick=V.handleAddBtnClick.bind(V),V.handleCustomActionClick=V.handleCustomActionClick.bind(V),V}return Object(ca.d)(P,S),P.prototype.render=function(V){var ba=this,ea=this.props.stateTree.ui.sidePanel.item,ia=ea&&!!this.props.stateTree.results.selectedItems[ea.id],
ja={"ib-item-pane__btn--disabled":ea&&!!this.props.stateTree.results.loadingItems[ea.id]},la=Object(ca.a)(Object(ca.a)({},ja),{"ib-item-pane__btn--active":ia}),na=this.props.stateTree.settings.config.customActions.filter(function(ra){return ra.allowed(ea||{})});return V("footer",{"class":"ib-item-pane__footer"},this.props.stateTree.settings.config.disableMainAction?null:V("button",{key:"select-btn","class":"ib-item-pane__select-btn",classes:la,onclick:this.handleAddBtnClick},ia?this.props.stateTree.settings.config.mainInverseActionTitle:
this.props.stateTree.settings.config.mainActionTitle),na.map(function(ra){return V("button",{key:"usage","class":"ib-item-pane__btn",classes:ja,value:ra.name,onclick:ba.handleCustomActionClick},ra.name)}))},P.prototype.handleAddBtnClick=function(){var V=this.props.stateTree.ui.sidePanel.item;V&&(this.props.stateTree.results.selectedItems[V.id]?this.props.deselectItem(V):this.props.selectItem(V))},P.prototype.handleCustomActionClick=function(V){var ba=this.props.stateTree.ui.sidePanel.item;ba&&this.props.customAction(V.target.value,
ba)},P}(W.Component);Q.a=Object(W.connect)(function(S){return{stateTree:S}},function(S){return{deselectItem:function(P){S(Object(Y.o)(P))},selectItem:function(P){S(Object(Y.r)(P))},customAction:function(P,V){S(Object(da.c)(P,V))}}})(L)},function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(592),S=L(206),P=L.n(S);L=function(V){function ba(){return null!==V&&V.apply(this,arguments)||this}return Object(ca.d)(ba,V),ba.prototype.render=function(ea){var ia=ea("div",{"class":"ib-header__spacer"});this.props.showBackBtn&&
(ia=ea(P.a,{handleClick:this.props.onBack,key:"main-back-btn",title:Y.back,focusable:!0},ea("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},ea("path",{d:"M8 1.288l-7.212 7.212 7.212 7.212v-1.414l-5.288-5.297h13.288v-0.99h-13.307l5.307-5.307z"}))));var ja=ea("div",{"class":"ib-header__spacer"});return this.props.showCloseBtn&&(ja=ea(P.a,{key:"main-close-btn",title:Y.close,focusable:!0,handleClick:this.props.onBack},ea("svg",{role:"img",width:"16",
height:"16",viewBox:"0 0 32 32"},ea("path",{d:"M31.047 28h-5l-12-12 12-12h5l-12 12 12 12zm-26-12l12-12h-5l-12 12 12 12h5l-12-12z"})))),ea("div",{classes:{ib__header:!0},key:"header"},ea("div",{key:"section-title-container","class":"ib-header__search-section"},ia,ea(da.a,{key:"section-dropdown"}),ja))},ba}(W.Component);Q.a=Object(W.connect)(function(V){return{showBackBtn:V.settings.config.showBackBtn,showCloseBtn:V.settings.config.showCloseBtn,onBack:function(){V.settings.config.onBack()}}},function(){return{}})(L)},
function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(288),S=L(48),P=L(310),V=L.n(P);P=L(206);var ba=L.n(P);L=function(ea){function ia(ja){ja=ea.call(this,ja)||this;var la=(ja.props.portal.user?ja.props.baseSections:ja.props.baseSections.filter(function(na){return"livingAtlas"===na||"all"===na})).map(function(na){return{value:na,text:Y.header.sectionTitles[na]}});return ja.props.customSections.forEach(function(na){var ra={value:na.name,text:na.name};na.addToFront?la.splice(0,0,ra):la.push(ra)}),ja.state=
{options:la},ja.handleOptionSelect=ja.handleOptionSelect.bind(ja),ja}return Object(ca.d)(ia,ea),ia.prototype.render=function(ja){var la=this.props.section,na=Y.header.sectionTitles[la];return 2>this.state.options.length||this.props.replaceSectionDropdownWithTitle?ja("h3",{id:"ib-dialog-title","class":"ib-header__dialog-title"},this.props.dialogTitle):ja(V.a,{key:"section-dropdown-base",options:this.state.options,onSelect:this.handleOptionSelect,selectedOptionValue:this.props.section},ja("h3",{key:"search-"+
la+"-dropdown",id:"section-dropdown-toggle","class":"ib-section-dropdown__toggle"},na||la,"\u00a0",ja("span",{"class":"btn-svg__button-noevent flex"},ja(ba.a,{key:"section-dropdown-button"},ja("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 16 16"},ja("path",{d:"M1.5,4 L8,11 L14.5,4 C11.893,4 4.101,4 1.5,4 Z"}))))))},ia.prototype.handleOptionSelect=function(ja){this.props.changeSearchSection(ja);this.props.search(!0)},ia}(W.Component);Q.a=Object(W.connect)(function(ea){return{baseSections:ea.settings.config.baseSections,
customSections:ea.settings.config.customSections,portal:ea.settings.utils.portal,replaceSectionDropdownWithTitle:!!ea.settings.config.replaceSectionDropdownWithTitle,dialogTitle:ea.settings.config.dialogTitle,section:ea.parameters.section}},function(ea){return{changeSearchSection:function(ia){ea(Object(da.b)(ia))},search:function(ia){ea(Object(S.i)(ia))}}})(L)},function(W,Q,L){var ca=L(0),Y=L(36),da=L(178);W=L(16);var S=L(285),P=L.n(S),V=L(418),ba=L(48),ea=L(410),ia=L(409),ja=L(363),la=L(804),na=
L(805);L=function(ra){function va(za){za=ra.call(this,za)||this;return za.handleSearchChange=za.handleSearchChange.bind(za),za.handleSearchKeyDown=za.handleSearchKeyDown.bind(za),za.handleListClick=za.handleListClick.bind(za),za.handleTableClick=za.handleTableClick.bind(za),za.handleSortClick=za.handleSortClick.bind(za),za.handleFilterClick=za.handleFilterClick.bind(za),za}return Object(ca.d)(va,ra),va.prototype.render=function(za){var Aa=1E4<=this.props.nextTotal?Y.itemLimitReached.replace("${limit}",
da.format(1E4)):da.format(this.props.nextTotal);Aa="function"==typeof this.props.replacementItemName?this.props.replacementItemName(Aa):this.props.replacementItemName?Aa+" "+this.props.replacementItemName:Y.resultCount+": "+Aa;var Ba=Y.header.sectionTitles[this.props.section];Ba=this.props.placeholderText?this.props.placeholderText:Y.search+" "+(Ba||this.props.section);var Oa={"ib-input-area__result-bar-container":!0,"ib-input-area__result-bar-container--solo":"subscription"===this.props.section};
return za("div",null,za("div",{key:"search-input-area","class":"ib__input-area"},"subscription"!==this.props.section?za("div",{key:"search-bar-container","class":"ib-input-area__search-bar"},za("input",{id:"item-browser-search-input","class":"ib-input-area__search-input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,placeholder:Ba,"aria-label":Ba,value:this.props.searchString})):null,za("div",{classes:Oa},za("span",{"class":"ib-input-area__result-count"},Aa),za("div",
{"class":"ib-input-area__icon-button-container"},za(P.a,{active:"table"===this.props.resultPanelType,key:"table-button",handleClick:this.handleTableClick,title:Y.compactView},za("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},za("g",{stroke:"none","stroke-width":"1"},za("g",null,za("path",{d:"M4 14h11v1H4v-1zm0-4h11v1H4v-1zm0-3h11V6H4v1zm0-4h11V2H4v1zM3 14H1v1h2v-1zm0-4H1v1h2v-1zm0-4H1v1h2V6zm0-4H1v1h2V2z"}))))),za(P.a,{active:"list"===this.props.resultPanelType,handleClick:this.handleListClick,
key:"list-button",title:Y.listView},za("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},za("g",{stroke:"none","stroke-width":"1"},za("g",null,za("path",{d:"M7 13h8v1H7zm-2-1H2v3h3zm2-8h8V3H7zm0 5h8V8H7zM5 2H2v3h3zm0 5H2v3h3z"}))))),"subscription"!==this.props.section?[za("div",{key:"spacer","class":"ib-input-area__spacer"}),za(P.a,{active:"filter"===this.props.sidePanelType,handleClick:this.handleFilterClick,key:"filter-button",title:"filter"===this.props.sidePanelType?Y.close:Y.filterPane.filter},
za("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},za("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"}))),za(P.a,{active:"sort"===this.props.sidePanelType,handleClick:this.handleSortClick,key:"sort-button",title:"sort"===this.props.sidePanelType?Y.close:Y.sortOptions.sort},za("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},za("g",{stroke:"none","stroke-width":"1"},za("g",null,za("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))))]:
null))),za(V.a,{key:"active-filters",theme:"dark"}))},va.prototype.handleSearchChange=function(za){this.props.changeSearchString(za.target.value);""===za.target.value&&""!==this.props.previousSearchString&&this.props.search(!0)},va.prototype.handleSearchKeyDown=function(za){"Enter"===za.key&&this.props.search(!0)},va.prototype.handleTableClick=function(za){za.preventDefault();"list"===this.props.resultPanelType&&this.props.changeResultDisplay()},va.prototype.handleListClick=function(za){za.preventDefault();
"table"===this.props.resultPanelType&&this.props.changeResultDisplay()},va.prototype.handleFilterClick=function(za){za.preventDefault();"filter"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewFilters()},va.prototype.handleSortClick=function(za){za.preventDefault();"sort"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewSort()},va}(W.Component);Q.a=Object(W.connect)(function(ra){return{nextTotal:ra.parameters.nextQuery.total,placeholderText:ra.settings.config.searchPlaceholderText,
previousSearchString:ra.parameters.searchString.previous,replacementItemName:ra.settings.config.itemName,resultPanelType:ra.ui.resultPanel.display,searchString:ra.parameters.searchString.current,sidePanelType:ra.ui.sidePanel.type,section:ra.parameters.section}},function(ra){return{search:function(va){ra(Object(ba.i)(va))},changeResultDisplay:function(){ra({type:ea.a})},changeSearchString:function(va){ra(Object(ia.b)(va))},closeDetailsPane:function(){ra(Object(ja.c)())},viewFilters:function(){ra(Object(la.b)())},
viewSort:function(){ra(Object(na.b)())}}})(L)},function(W,Q,L){var ca=L(0),Y=L(36);W=L(16);var da=L(48),S=L(595),P=L(596),V=L(205),ba=L.n(V);L=function(ea){function ia(){var ja=null!==ea&&ea.apply(this,arguments)||this;return ja.handleScroll=function(la){.99<=(la.target.scrollTop+la.target.offsetHeight)/la.target.scrollHeight&&"loadingNext"!==ja.props.resultPanelStatus&&-1!==ja.props.nextStart&&ja.props.loadMoreContent()},ja.handleCreate=function(la){setTimeout(function(){la.scrollHeight<=la.clientHeight&&
"loadingNext"!==ja.props.resultPanelStatus&&-1!==ja.props.nextStart&&ja.props.loadMoreContent(50)},10)},ja}return Object(ca.d)(ia,ea),ia.prototype.render=function(ja){var la=this.props,na=la.resultPanelStatus,ra=la.displayItems,va=la.showSubmitButton,za=la.resultPanelDisplayType;la=la.tooManyGroups;switch(na){case "success":case "loadingNext":return ja(S.a,{key:"item-list-"+za,i18n:Y,showSubmitButton:va,results:ra,loadingNext:"loadingNext"===na,handleScroll:this.handleScroll,handleCreate:this.handleCreate},
ja(P.a,{key:"result-items"}));case "loading":return ja("div",{key:"loading-items","class":"ib__results"},ja(ba.a,{key:"item-loader",text:Y.results.loadingItems}));case "empty":return ja("div",{key:"empty-state","class":"ib__results"},ja("div",{"class":"ib-results__message-container"},ja("span",{"class":"ib-results__message"},Y.results.empty)))}return la?ja("div",{key:"too-many-groups","class":"ib__results"},ja("div",{"class":"ib-results__message-container"},ja("span",{"class":"ib-results__message"},
Y.results.tooManyGroups))):ja("div",{key:"request-error","class":"ib__results"},ja("div",{"class":"ib-results__message-container"},ja("span",{"class":"ib-results__message"},Y.results.requestError)))},ia}(W.Component);Q.a=Object(W.connect)(function(ea){return{displayItems:ea.results.displayItems,nextStart:ea.parameters.nextQuery.nextStart,showSubmitButton:ea.settings.config.showSubmitButton,resultPanelDisplayType:ea.ui.resultPanel.display,resultPanelStatus:ea.ui.resultPanel.status,tooManyGroups:!(!("myGroups"===
ea.parameters.section&&ea.results.user.groups&&175<ea.results.user.groups.length)||ea.parameters.filter.group)}},function(ea){return{loadMoreContent:function(ia){ea(Object(da.h)(ia))}}})(L)},function(W,Q,L){W=L(205);var ca=L.n(W);Q.a=function(Y,da){var S=Y.key,P=Y.i18n,V=Y.loadingNext,ba=Y.handleScroll,ea=Y.handleCreate,ia=Y.children;return 0<Y.results.length?da("div",{key:S,"class":"ib-results__item-list",onscroll:ba,afterCreate:ea},ia,V?da("div",{"class":"ib-results__load-container"},da(ca.a,{key:"more-items-loader"})):
null):da("div",{key:"no-items-found","class":"ib-results__item-list ib-results__item-list--none"},da("span",{style:"font-size: 0.9375rem;"},P.results.noItemsFound))}},function(W,Q,L){var ca=L(0);W=L(16);var Y=L(126),da=L(363),S=L(357),P=L(100),V=L(434),ba=L(597),ea=L.n(ba);ba=L(598);var ia=L.n(ba);L=function(ja){function la(na){na=ja.call(this,na)||this;return na.handleShowItemDetails=na.handleShowItemDetails.bind(na),na.handleSelectionClick=na.handleSelectionClick.bind(na),na.handleCustomActionClick=
na.handleCustomActionClick.bind(na),na.startResizePoll=na.startResizePoll.bind(na),na.resizePoll=na.resizePoll.bind(na),na}return Object(ca.d)(la,ja),la.prototype.render=function(na){var ra=this.props.stateTree.results;if(0<ra.displayItems.length)return na("div",{key:"item-wrapper",id:"resize-detector",afterCreate:this.startResizePoll},this.mapItemsToChildren(ra.displayItems,na))},la.prototype.mapItemsToChildren=function(na,ra){var va=this;return na.map(function(za){var Aa=Object(Y.a)(va.props.stateTree);
return"list"===va.props.stateTree.ui.resultPanel.display?ra(ea.a,{constrained:va.state.constrained,key:za.id+"-card",item:za,loadingItems:va.props.stateTree.results.loadingItems,selectedItems:va.props.stateTree.results.selectedItems,activeItem:va.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:va.handleShowItemDetails,onSelectionClick:va.handleSelectionClick,customActions:va.props.stateTree.settings.config.customActions,onCustomActionClick:va.handleCustomActionClick,disableMainAction:va.props.stateTree.settings.config.disableMainAction,
sortField:va.props.stateTree.parameters.sort.field,hideEllipses:va.props.stateTree.settings.config.hideEllipses,organization:"public_authoritative"===za.contentStatus&&va.props.stateTree.results.allOrganizations[za.orgId]?va.props.stateTree.results.allOrganizations[za.orgId]:void 0}):ra(ia.a,{key:za.id+"-cardrow",item:za,loadingItems:va.props.stateTree.results.loadingItems,selectedItems:va.props.stateTree.results.selectedItems,activeItem:va.props.stateTree.ui.sidePanel.item,portal:Aa,onShowItemDetails:va.handleShowItemDetails,
onSelectionClick:va.handleSelectionClick,customActions:va.props.stateTree.settings.config.customActions,onCustomActionClick:va.handleCustomActionClick,disableMainAction:va.props.stateTree.settings.config.disableMainAction,sortField:va.props.stateTree.parameters.sort.field,hideEllipses:va.props.stateTree.settings.config.hideEllipses})})},la.prototype.handleShowItemDetails=function(na){var ra=this.props.stateTree.ui.sidePanel;ra.item&&ra.item.id===na.id?this.props.closeDetailsPane():this.props.viewItemDetails(na)},
la.prototype.handleSelectionClick=function(na){this.props.stateTree.results.selectedItems[na.id]?this.props.deselectItem(na):this.props.selectItem(na)},la.prototype.handleCustomActionClick=function(na,ra){this.props.customAction(na,ra)},la.prototype.startResizePoll=function(na){this.resizePoll(na)},la.prototype.resizePoll=function(na){var ra=this;na&&0<na.clientWidth&&(300>na.clientWidth&&!this.state.constrained?this.setState({constrained:!0}):300<na.clientWidth&&this.state.constrained&&this.setState({constrained:!1}),
setTimeout(function(){ra.resizePoll(na)},250))},la}(W.Component);Q.a=Object(W.connect)(function(ja){return{stateTree:ja}},function(ja){return{closeDetailsPane:function(){ja(Object(da.c)())},viewItemDetails:function(la){ja(Object(S.b)(la))},deselectItem:function(la){ja(Object(P.o)(la))},selectItem:function(la){ja(Object(P.r)(la))},customAction:function(la,na){ja(Object(V.c)(la,na))}}})(L)},function(W,Q){W.exports=U},function(W,Q){W.exports=ka},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(W,Q,L){L.d(Q,"a",function(){return ca});L.d(Q,"b",function(){return Y});var ca="VIEW_FILTERS",Y=function(){return{type:ca}}},function(W,Q,L){L.d(Q,"a",function(){return ca});L.d(Q,"b",function(){return Y});var ca="VIEW_SORT",Y=function(){return{type:ca}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(W,Q,L){L.r(Q);var ca=L(0);
W=L(16);var Y=L(415);L.d(Q,"defaultConfig",function(){return Y.a});L.d(Q,"reducers",function(){return Y.c});L.d(Q,"initialState",function(){return Y.b});var da=L(100);L.d(Q,"SELECT_ITEM_SINGLE",function(){return da.j});L.d(Q,"SELECT_ITEM",function(){return da.g});L.d(Q,"DESELECT_ITEM",function(){return da.c});L.d(Q,"SELECT_ITEM_ASYNC",function(){return da.h});L.d(Q,"SELECT_ITEM_ASYNC_FAILED",function(){return da.i});var S=L(48);L.d(Q,"search",function(){return S.i});var P=L(455);L.d(Q,"updateExtent",
function(){return P.c});var V=L(357);L.d(Q,"viewItemDetails",function(){return V.b});var ba=L(288);L.d(Q,"changeSearchSection",function(){return ba.b});var ea=L(591),ia=L(593),ja=L(594),la=L(572),na=L(488);L=function(ra){function va(){return null!==ra&&ra.apply(this,arguments)||this}return Object(ca.d)(va,ra),va.prototype.render=function(za){var Aa=this.props.layoutMode,Ba={ib__container:!0,"ib__container--expanded":"fullscreen"===Aa,"ib__container--adjustable":"adjustable"===Aa};switch(Aa){case "fullscreen":return za(na.a,
{key:"big-browser",containerClasses:Ba});case "adjustable":return za("div",null,za(na.a,{key:"big-browser",containerClasses:Ba}),za("div",{"class":"ib__container--underlay"}));default:return za("div",{id:"item-browser-container",classes:Ba},za(la.a,{key:"side-panel",closing:this.props.sidePanelClosing}),za(ea.a,{key:"header"}),za(ia.a,{key:"input-area"}),za(ja.a,{key:"result-panel"}))}},va}(W.Component);Q["default"]=Object(W.connect)(function(ra){return{layoutMode:ra.settings.config.layoutMode,expanded:ra.ui.expanded.maximized,
sidePanelClosing:ra.ui.sidePanel.closing}},function(){return{}})(L)}])})},"arcgis-components/Loaders/LoaderBars":function(){define(function(){return function(O){function K(q){if(n[q])return n[q].exports;var p=n[q]={i:q,l:!1,exports:{}};return O[q].call(p.exports,p,p.exports,K),p.l=!0,p.exports}var n={};return K.m=O,K.c=n,K.d=function(q,p,h){K.o(q,p)||Object.defineProperty(q,p,{enumerable:!0,get:h})},K.r=function(q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(q,"__esModule",{value:!0})},K.t=function(q,p){if((1&p&&(q=K(q)),8&p)||4&p&&"object"==typeof q&&q&&q.__esModule)return q;var h=Object.create(null);if(K.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:q}),2&p&&"string"!=typeof q)for(var f in q)K.d(h,f,function(g){return q[g]}.bind(null,f));return h},K.n=function(q){var p=q&&q.__esModule?function(){return q["default"]}:function(){return q};return K.d(p,"a",p),p},K.o=function(q,p){return Object.prototype.hasOwnProperty.call(q,
p)},K.p="",K(K.s=868)}({868:function(O,K,n){n.r(K);K["default"]=function(q,p){var h=q.text;return p("div",{"class":"load-bars__container",key:q.key},p("div",{"class":"load-bars__bars"}),h?p("span",{"class":"load-bars__text"},h):null)}}})})},"arcgis-components/Buttons/SvgButton":function(){define(["../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,
n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,
g));return f},n.n=function(p){var h=p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=830)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l=
{},d;for(d in z)Object.prototype.hasOwnProperty.call(z,d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);
else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");
for(;c;)try{if(d=1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=
a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=
r[l];return z}q.d(n,"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,
l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(K,n){K.exports=O},830:function(K,n,q){q.r(n);var p=q(0);K=function(h){function f(g){g=h.call(this,g)||this;return g.handleClick=g.handleClick.bind(g),g}return Object(p.d)(f,h),f.prototype.render=function(g){var k=this.props,u=k.label,w=k.labelDirection,C=k.key,z=k.title;return g("button",Object(p.a)({afterCreate:k.afterCreate,
key:C,id:C,classes:{"btn-svg__button":!0,"btn-svg__button--tooltip":u,"btn-svg__button--tooltip-left":"left"===w,"btn-svg__button--tooltip-right":"right"===w,"btn-svg__button--tooltip-top":"top"===w},onmousedown:this.preventFocus,onclick:this.handleClick},u?{"aria-label":u}:{title:z},{tabindex:!k.focusable&&"-1",value:k.value}),g("div",{"class":"btn-svg__button-content"},this.props.children))},f.prototype.preventFocus=function(g){g.preventDefault()},f.prototype.handleClick=function(g){this.props.handleClick&&
g.target&&(g.target.value=this.props.value,this.props.handleClick(g))},f}(q(16).Component);n["default"]=K}})})},"arcgis-components/Buttons/Toggle":function(){define(["../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",
h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=831)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=
0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||
(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;
switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=
[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});
q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};
Object.create;Object.create},16:function(K,n){K.exports=O},831:function(K,n,q){q.r(n);var p=q(0);K=function(h){function f(g){g=h.call(this,g)||this;return g.handleToggleClick=g.handleToggleClick.bind(g),g}return Object(p.d)(f,h),f.prototype.render=function(g){var k=this.props,u=k.name,w=k.childOptions,C=k.prependValue,z=k.infoTooltip;C=C?""+C+this.props.value:this.props.value;k=!!(k.selectedToggle===C||w&&this.childSelectedRecursive(w,C));var r={"btn-toggle__item":!0,"btn-toggle__item--active":k,
"btn-toggle__item--flex":!!z},l={"btn-toggle__button":!0,"btn-toggle__button--active":k},d=null;return w&&(d=g("ul",{"class":"btn-toggle__sub-list",role:"group"},this.mapChildrenToToggles(g))),g("li",{key:C,classes:r,role:"treeitem","aria-selected":k?"true":void 0,"aria-expanded":w?k?"true":"false":void 0},g("button",{key:C,classes:l,value:C,onmousedown:this.preventDefault,onclick:this.handleToggleClick,title:this.props.tooltip,role:"checkbox","aria-checked":k?"true":void 0,"aria-label":u,onblur:this.props.handleBlur,
tabindex:"0"},g("span",{"class":"btn-toggle__text",key:"text"},u),this.props.count?g("span",{"class":"btn-toggle__count",key:"count"},"\u00a0","("+this.props.count+")"):null),!!z&&g("calcite-tooltip-manager",{"class":"btn-toggle__item-tooltip"},g("calcite-button",{id:"share-org-settings-filter-tooltip",appearance:"transparent",color:"neutral",scale:"s",round:!0},g("calcite-icon",{scale:"s",icon:"information"})),g("calcite-tooltip",{"reference-element":"share-org-settings-filter-tooltip","overlay-positioning":"fixed"},
z)),k?d:null)},f.prototype.preventDefault=function(g){g.preventDefault()},f.prototype.mapChildrenToToggles=function(g){var k=this,u=this.props,w=u.childOptions,C=u.selectedToggle,z=u.onToggleClick,r=u.useFullPathAsValue,l=(u=u.prependValue)?""+u+this.props.value:this.props.value;return w?w.map(function(d){return g(f,{count:d.count,key:d.value,name:d.displayName,value:r?l+"/"+d.value:d.value,showTooltip:k.props.showTooltip,tooltip:d.tooltip,selectedToggle:C,childOptions:d.children,onToggleClick:z,
useFullPathAsValue:r})}):null},f.prototype.childSelectedRecursive=function(g,k){var u=this,w=this.props,C=w.selectedToggle;return w.useFullPathAsValue?g.reduce(function(z,r){return!!(C===k+"/"+r.value||r.children&&u.childSelectedRecursive(r.children,k+"/"+r.value))||z},!1):g.reduce(function(z,r){return!!(C===r.value||r.children&&u.childSelectedRecursive(r.children,u.props.value))||z},!1)},f.prototype.handleToggleClick=function(g){g.preventDefault();this.props.onToggleClick(this.props.prependValue?
""+this.props.prependValue+this.props.value:this.props.value,this.props.name)},f}(q(16).Component);n["default"]=K}})})},"arcgis-components/Dropdowns/AccordionDropdown/index":function(){define(["../../Component","dojo/i18n!../../Dropdowns/AccordionDropdown/nls/resources"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,
f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=
h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=835)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,
e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?
a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=
1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&
m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,
"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<
e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},18:function(n,q){n.exports=O},339:function(n,q,p){p.d(q,"a",function(){return h});var h=function(f){return function(g){13===g.keyCode&&f(g)}}},525:function(n,q){n.exports=K},835:function(n,q,p){p.r(q);var h=p(0),f=p(525);n=p(18);var g=p(339);p=function(k){function u(w){var C=k.call(this,w)||this;return C.handleDropdownKeyDown=Object(g.a)(C.handleDropdownClick.bind(C)),
C.state={active:!!w.startActive},C.handleDropdownClick=C.handleDropdownClick.bind(C),C.handleClear=C.handleClear.bind(C),C}return Object(h.d)(u,k),u.prototype.render=function(w){var C={"drp-accordion__content":!0,"drp-accordion__content--no-padding":!1===this.props.padding},z={"drp-accordion__icon":!0,"drp-accordion__icon--active":this.state.active},r=null;return this.props.clearable&&(r=w("button",{"class":"drp-accordion__clear-btn",onclick:this.handleClear},f.clear)),w("div",{key:this.props.key,
classes:{"drp-accordion__section":!0},role:"tablist"},w("h4",{classes:{"drp-accordion__title":!0,clearfix:!0,"drp-accordion__title--flex":this.props.flex,"drp-accordion__title--active":this.state.active},value:"itemType",onclick:this.handleDropdownClick,onkeydown:this.handleDropdownKeyDown,role:"tab",tabindex:"0","aria-expanded":""+this.state.active},w("div",{"class":"drp-accordion__wrapper"},w("span",{classes:z},w("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32",
role:"img"},w("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),w("span",null,this.props.title)),r),this.state.active?w("div",{classes:C},this.props.children):null)},u.prototype.handleDropdownClick=function(){this.setState({active:!this.state.active})},u.prototype.handleClear=function(w){if(!this.props.onClear)throw"no onClear callback has been provided to AccordionDropdown";w.stopPropagation();this.props.onClear()},u}(n.Component);q["default"]=p}})})},"arcgis-components/Buttons/IconButton":function(){define(["../Component"],
function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==
typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=829)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=
typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}
function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;
t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;
e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&
a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});q.d(n,"g",function(){return u});var w=function(z,r){return(w=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(K,n){K.exports=O},829:function(K,n,q){q.r(n);var p=q(0);K=function(h){function f(){return null!==
h&&h.apply(this,arguments)||this}return Object(p.d)(f,h),f.prototype.render=function(g){var k=this.props,u=k.active,w=k.label,C=k.labelDirection,z=k.key,r=k.ariaControls;return g("button",Object(p.a)({id:z,key:z+"-container",classes:{"btn-icon__button":!0,"btn-icon__button--center":k.center,"btn-icon__button--tooltip":w,"btn-icon__button--tooltip-left":"left"===C,"btn-icon__button--tooltip-right":"right"===C,"btn-icon__button--tooltip-top":"top"===C,"btn-icon__button--active":u},"aria-label":w,onmousedown:this.preventFocus,
onclick:this.props.handleClick,tabindex:this.props.tabindex?""+this.props.tabindex:"0"},r?{"aria-controls":r,"aria-expanded":u?"true":"false"}:{"aria-checked":u},{title:k.title}),this.props.children)},f.prototype.preventFocus=function(g){g.preventDefault()},f}(q(16).Component);n["default"]=K}})})},"arcgis-components/Modals/Overlay":function(){define(["../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,
h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),
2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=874)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=
null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}
function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-
1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==
typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,
e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(K,n){K.exports=O},312:function(K,n,q){function p(g){return f[g.vnodeSelector]&&(!g.properties||!g.properties.disabled&&-1!==g.properties.tabindex)||g.properties&&g.properties.tabindex&&-1<parseInt(g.properties.tabindex,10)}var h=
q(0),f={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};K=function(g){function k(u){u=g.call(this,u)||this;return u.registerFirstFocusable=u.registerFirstFocusable.bind(u),u.registerLastFocusable=u.registerLastFocusable.bind(u),u.handleFocusChange=u.handleFocusChange.bind(u),u}return Object(h.d)(k,g),k.prototype.render=function(){var u=this.findFirstFocusable(this.props.children),w=this.findLastFocusable(this.props.children);return u&&w&&(u.properties?u.properties.afterCreate=this.registerFirstFocusable:
u.properties={afterCreate:this.registerFirstFocusable},w.properties?w.properties.afterCreate=this.registerLastFocusable:w.properties={afterCreate:this.registerLastFocusable}),this.props.children},k.prototype.findFirstFocusable=function(u){if(u)for(var w=0;w<u.length;w++){var C=u[w];if(p(C)||C.children&&(C=this.findFirstFocusable(C.children)))return C}},k.prototype.findLastFocusable=function(u){if(u)for(var w=u.length-1;0<=w;w--){var C=u[w];if(p(C)||C.children&&(C=this.findLastFocusable(C.children)))return C}},
k.prototype.registerFirstFocusable=function(u){this.firstFocusableElement&&this.firstFocusableElement!==u&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);u.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=u;setTimeout(function(){u&&u.focus()},10)},k.prototype.registerLastFocusable=function(u){this.lastFocusableElement&&this.lastFocusableElement!==u&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=
u;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},k.prototype.handleFocusChange=function(u){"Tab"!==u.key&&9!==u.keyCode||(u.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),u.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),u.preventDefault()))},k}(q(16).Component);n.a=K},874:function(K,n,q){q.r(n);var p=q(0);
K=q(16);var h=q(312);q=function(f){function g(){return null!==f&&f.apply(this,arguments)||this}return Object(p.d)(g,f),g.prototype.componentWillReceiveProps=function(k){!1!==this.props.scrollable&&!1===k.scrollable&&(k=document.getElementsByClassName("mod__overlay-container"),k[0]&&(k[0].scrollTop=0))},g.prototype.render=function(k){return k(h.a,{key:"overlay-focus-trap"},k("div",{classes:{"mod__overlay-container":!0,"mod__overlay-container--adjustable":this.props.adjustable,"mod__overlay-container--closing":this.props.closing,
"mod__overlay-container--no-scroll":!1===this.props.scrollable,"mod__overlay-container--slide-left":"left"===this.props.slide,"mod__overlay-container--slide-right":"right"===this.props.slide,"mod__overlay-container--size-small":"small"===this.props.size||"large"===this.props.size,"mod__overlay-container--size-large":"large"===this.props.size,"mod__overlay-container--flex":this.props.flex},key:this.props.key},this.props.children))},g}(K.Component);n["default"]=q}})})},"arcgis-components/Dropdowns/TextOptionDropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&
f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=840)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=
r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&
(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}
function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};
case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,
l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,q){n.exports=O},367:function(n,q){n.exports=K},840:function(n,
q,p){p.r(q);var h=p(0);n=p(16);var f=p(367),g=p.n(f);p=function(k){function u(w){w=k.call(this,w)||this;return w.state={optionElements:[],numOptions:-1,active:!1},w.navId=w.props.key+"-option-dropdown",w.handleOptionBlur=w.handleOptionBlur.bind(w),w.handleOptionClick=w.handleOptionClick.bind(w),w.mapOptionsToButtons=w.mapOptionsToButtons.bind(w),w.registerOptionElement=w.registerOptionElement.bind(w),w.handleOptionKeyDown=w.handleOptionKeyDown.bind(w),w.handleButtonKeyDown=w.handleButtonKeyDown.bind(w),
w}return Object(h.d)(u,k),u.prototype.render=function(w){var C=this,z={"drp-text-option__menu--left":!this.props.justify||"left"===this.props.justify,"drp-text-option__menu--right":"right"===this.props.justify};if(this.props.children&&this.props.children[0])return w(g.a,{key:this.props.key+"-dropdown-base",handleButtonKeyDown:this.handleButtonKeyDown,active:this.state.active,onToggle:function(){C.setState({active:!C.state.active})}},this.props.children[0],w("nav",{id:this.navId,"class":"drp-text-option__menu",
classes:z,style:"\n                        background-color: white;\n                        z-index: 9999999;\n                        margin: 0px;\n                        display: block;\n                        pointer-events: all;\n                        box-shadow: 0 0 16px 0 rgba(0,0,0,0.2);\n                        border: 0;\n                    ",role:"listbox","aria-activedescendant":this.props.selectedOptionValue+"-option"},this.mapOptionsToButtons(w)))},u.prototype.mapOptionsToButtons=
function(w){var C=this;return this.props.options.map(function(z,r){return w("button",{id:z.value+"-option",classes:{"drp-text-option__link":!0,"drp-text-option__link--active":z.value===C.props.selectedOptionValue},key:z.value,onclick:C.handleOptionClick,onkeydown:C.handleOptionKeyDown,value:z.value,dataIndex:r,afterCreate:C.registerOptionElement,role:"option","aria-selected":""+(z.value===C.props.selectedOptionValue),onblur:C.handleOptionBlur},z.text)})},u.prototype.handleOptionBlur=function(w){var C;
(null===(C=document.querySelector("#"+this.navId))||void 0===C?0:C.contains(w.relatedTarget))||this.setState({active:!1})},u.prototype.handleOptionClick=function(w){this.setState({active:!1});this.props.onSelect(w.target.value)},u.prototype.registerOptionElement=function(w){var C;this.setState({optionElements:Object(h.a)(Object(h.a)({},this.state.optionElements),(C={},C[w.dataIndex]=w,C)),numOptions:this.state.numOptions+1})},u.prototype.handleButtonKeyDown=function(w){w.keyCode&&40===w.keyCode&&
this.state.optionElements[0]&&this.state.optionElements[0].focus()},u.prototype.handleOptionKeyDown=function(w){var C=w.target.dataIndex;switch(w.keyCode){case 40:this.state.optionElements[C+1]?this.state.optionElements[C+1].focus():this.state.optionElements[0]&&this.state.optionElements[0].focus();break;case 38:this.state.optionElements[C-1]?this.state.optionElements[C-1].focus():this.state.optionElements[this.state.numOptions]&&this.state.optionElements[this.state.numOptions].focus()}},u}(n.Component);
q["default"]=p}})})},"arcgis-components/Dropdowns/BasicDropdown":function(){define(["../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,
"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=
837)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>
r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}
function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=
v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?
v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});
q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(K,n){K.exports=
O},837:function(K,n,q){q.r(n);var p=q(0);K=function(h){function f(g){g=h.call(this,g)||this;return g.state={active:!1},g.handleBtnClick=g.handleBtnClick.bind(g),g.handleDropdownClick=g.handleDropdownClick.bind(g),g.handleButtonKeyDown=g.handleButtonKeyDown.bind(g),g.registerCloseHandler=g.registerCloseHandler.bind(g),g.close=g.close.bind(g),g}return Object(p.d)(f,h),f.prototype.render=function(g){var k=void 0===this.props.active?this.state.active:this.props.active;if(this.props.children&&this.props.children[0]&&
this.props.children[1]){var u=this.props.children[0],w=k?this.props.children[1]:null;k=k?g("div",{key:"open-dropdown-hook",id:this.props.key+"-hook",afterCreate:this.registerCloseHandler,style:"display: none;"}):null;return g("div",{"class":"drp-basic__container",onclick:this.handleDropdownClick},k,g("span",{id:this.props.key,"class":"drp-basic__button",onclick:this.handleBtnClick,onkeydown:this.handleButtonKeyDown,role:"button",tabindex:this.props.tabindex?this.props.tabindex:"0"},u),w)}},f.prototype.componentWillReceiveProps=
function(g){!0===this.props.active&&!1===g.active&&document.body.removeEventListener("click",this.close)},f.prototype.close=function(){void 0===this.props.active?this.setState({active:!1}):this.props.onToggle&&this.props.onToggle();document.body.removeEventListener("click",this.close)},f.prototype.handleBtnClick=function(g){g.stopPropagation();void 0===this.props.active?this.setState({active:!this.state.active}):this.props.onToggle?this.props.onToggle():this.setState({active:!this.state.active})},
f.prototype.handleDropdownClick=function(g){g.stopPropagation();this.setState({active:!this.state.active})},f.prototype.handleButtonKeyDown=function(g){13===g.keyCode||32===g.keyCode?(g.preventDefault(),this.handleBtnClick(g)):this.props.handleButtonKeyDown&&this.props.handleButtonKeyDown(g)},f.prototype.registerCloseHandler=function(){document.body.addEventListener("click",this.close)},f}(q(16).Component);n["default"]=K}})})},"arcgis-components/Navigation/TabNav":function(){define(["../Component",
"../Buttons/SvgButton","../Dropdowns/TextOptionDropdown"],function(O,K,n){return function(q){function p(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return q[f].call(g.exports,g,g.exports,p),g.l=!0,g.exports}var h={};return p.m=q,p.c=h,p.d=function(f,g,k){p.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},p.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},
p.t=function(f,g){if((1&g&&(f=p(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(p.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)p.d(k,u,function(w){return f[w]}.bind(null,u));return k},p.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return p.d(g,"a",g),g},p.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},p.p="",p(p.s=876)}({0:function(q,p,h){function f(l,
d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");z(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,
a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var t=l.length-1;0<=t;t--)(b=l[t])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function u(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(A){try{v(a.next(A))}catch(B){c(B)}}function t(A){try{v(a["throw"](A))}catch(B){c(B)}}
function v(A){var B;A.done?b(A.value):(B=A.value,B instanceof e?B:new e(function(x){x(B)})).then(m,t)}v((a=a.apply(l,d||[])).next())})}function w(l,d){function e(v){return function(A){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return t.label++,{value:B[1],done:!1};
case 5:t.label++;b=B[1];B=[0];continue;case 7:B=t.ops.pop();t.trys.pop();continue;default:if(!(c=t.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){t=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))t.label=B[1];else if(6===B[0]&&t.label<c[1])t.label=c[1],c=B;else if(c&&t.label<c[2])t.label=c[2],t.ops.push(B);else{c[2]&&t.ops.pop();t.trys.pop();continue}}B=d.call(l,t)}catch(x){B=[6,x],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([v,A])}}var a,b,c,m,t={label:0,
sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(p,"d",function(){return f});h.d(p,"a",function(){return r});h.d(p,"f",function(){return g});h.d(p,"c",function(){return k});h.d(p,"b",function(){return u});h.d(p,"e",function(){return w});h.d(p,"g",function(){return C});var z=function(l,
d){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},16:function(q,p){q.exports=O},206:function(q,p){q.exports=K},310:function(q,
p){q.exports=n},876:function(q,p,h){h.r(p);h.d(p,"slugifySectionName",function(){return w});var f=h(0);q=h(16);var g=h(310),k=h.n(g);g=h(206);var u=h.n(g),w=function(C){return"nav-tabnav-"+C.replace(" ","-").toLowerCase()};h=function(C){function z(r){r=C.call(this,r)||this;return r.optionElements=[],r.handleBtnClick=r.handleBtnClick.bind(r),r.handleMobileClick=r.handleMobileClick.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return Object(f.d)(z,C),z.prototype.render=function(r){var l=this;if(!(1>=
this.props.options.length)){var d=this.props.options.map(function(a,b){var c=a.value,m=a.text,t=l.props.selectedOptionValue===c;return r("button",{key:c,classes:{"nav-tabnav__btn":!0,"nav-tabnav__btn--active":t},value:c,onclick:l.handleBtnClick,id:w(c),"aria-selected":t.toString(),role:"tab",afterCreate:function(v){v&&(l.optionElements[b]=v)}},m)}),e=this.props.options.filter(function(a){return a.value===l.props.selectedOptionValue})[0].text;return r("nav",{"class":"nav-tabnav__nav",role:"tablist",
"aria-labelledby":"ib__big-header-title",onkeydown:this.handleKeyDown},this.props.dropdownOnly?"":d,r("div",{classes:{"nav-tabnav__mobile-menu":!0,"nav-tabnav__mobile-menu--always-available":this.props.dropdownOnly}},r(k.a,{key:"ib-ex__section-dropdown",options:this.props.options,onSelect:this.handleMobileClick,selectedOptionValue:this.props.selectedOptionValue},r("h3",{key:"search-"+e+"-dropdown",id:"section-dropdown-toggle","class":"nav-tabnav__section-dropdown-title"},r("span",{"class":"nav-tabnav__section-dropdown-text"},
e),r("span",{"class":"btn-svg__button-noevent"},r(u.a,{key:"section-dropdown-button"},r("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 16 16",fill:"#323232"},r("path",{d:"M8 11.207l-4-4V5.793l4 4 4-4v1.414z"}))))))))}},z.prototype.handleBtnClick=function(r){r.target.value!==this.props.selectedOptionValue&&this.props.onSelect(r.target.value)},z.prototype.handleKeyDown=function(r){r=r.keyCode;var l=this.optionElements,d=l.indexOf(document.activeElement);if((39===r||37===r)&&0<=d){var e=l[d+1]||
l[0];l=l[d-1]||l[l.length-1];(r=39===r?e:l)&&r.focus()}},z.prototype.handleMobileClick=function(r){r!==this.props.selectedOptionValue&&this.props.onSelect(r)},z}(q.Component);p["default"]=h}})})},"arcgis-components/Filters/CategoriesFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle"],function(O,K,n){return function(q){function p(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return q[f].call(g.exports,g,g.exports,p),
g.l=!0,g.exports}var h={};return p.m=q,p.c=h,p.d=function(f,g,k){p.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},p.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},p.t=function(f,g){if((1&g&&(f=p(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(p.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=
typeof f)for(var u in f)p.d(k,u,function(w){return f[w]}.bind(null,u));return k},p.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return p.d(g,"a",g),g},p.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},p.p="",p(p.s=841)}({0:function(q,p,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");z(l,d);l.prototype=null===d?Object.create(d):
(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var t=l.length-1;0<=t;t--)(b=l[t])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function u(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(A){try{v(a.next(A))}catch(B){c(B)}}function t(A){try{v(a["throw"](A))}catch(B){c(B)}}function v(A){var B;A.done?b(A.value):(B=A.value,B instanceof e?B:new e(function(x){x(B)})).then(m,t)}v((a=a.apply(l,d||[])).next())})}function w(l,d){function e(v){return function(A){return function(B){if(a)throw new TypeError("Generator is already executing.");
for(;t;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++;b=B[1];B=[0];continue;case 7:B=t.ops.pop();t.trys.pop();continue;default:if(!(c=t.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){t=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))t.label=B[1];else if(6===B[0]&&t.label<c[1])t.label=
c[1],c=B;else if(c&&t.label<c[2])t.label=c[2],t.ops.push(B);else{c[2]&&t.ops.pop();t.trys.pop();continue}}B=d.call(l,t)}catch(x){B=[6,x],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([v,A])}}var a,b,c,m,t={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=
d[e];return l}h.d(p,"d",function(){return f});h.d(p,"a",function(){return r});h.d(p,"f",function(){return g});h.d(p,"c",function(){return k});h.d(p,"b",function(){return u});h.d(p,"e",function(){return w});h.d(p,"g",function(){return C});var z=function(l,d){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,
e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},131:function(q,p){q.exports=K},165:function(q,p){q.exports=n},18:function(q,p){q.exports=O},841:function(q,p,h){h.r(p);var f=h(0);q=h(18);var g=h(131),k=h.n(g);g=h(165);var u=h.n(g);h=function(w){function C(z){z=w.call(this,z)||this;return z.mapCategoriesToToggles=z.mapCategoriesToToggles.bind(z),z.handleToggleClick=z.handleToggleClick.bind(z),
z.handleClearFilter=z.handleClearFilter.bind(z),z}return Object(f.d)(C,w),C.prototype.render=function(z){return z(k.a,{key:this.props.key,title:this.props.title,clearable:!!this.props.categoriesFilter,onClear:this.handleClearFilter,startActive:this.props.startActive},z("ul",{"aria-label":this.props.title,"class":"ftr-categories__tree",role:"tree"},this.mapCategoriesToToggles(z)))},C.prototype.mapCategoriesToToggles=function(z){var r=this;return this.props.availableCategories.map(function(l){return z(u.a,
{count:l.count,key:l.value,name:l.displayName,value:l.value,selectedToggle:r.props.categoriesFilter?r.props.categoriesFilter.value:void 0,childOptions:l.children,onToggleClick:r.handleToggleClick,useFullPathAsValue:!0,prependValue:r.props.prependValue,showTooltip:r.props.showTooltips,tooltip:l.tooltip})})},C.prototype.handleToggleClick=function(z,r){this.props.onCategorySelect({value:z,text:r})},C.prototype.handleClearFilter=function(){this.props.onClearCategories()},C}(q.Component);p["default"]=
h}})})},"arcgis-components/Navigation/Pager/index":function(){define(["../../Component","dojo/i18n!../../Navigation/Pager/nls/resources"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},q.p="",q(q.s=875)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<
e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}
function m(v){try{t(e["throw"](v))}catch(A){b(A)}}function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=
A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?
A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});
p.d(q,"g",function(){return w});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},18:function(n,q){n.exports=
O},343:function(n,q){n.exports=K},875:function(n,q,p){p.r(q);var h=p(0),f=p(343);n=function(g){function k(u){u=g.call(this,u)||this;return u.handleNext=u.handleNext.bind(u),u.handlePrevious=u.handlePrevious.bind(u),u.handlePageBtn=u.handlePageBtn.bind(u),u}return Object(h.d)(k,g),k.prototype.render=function(u){var w=this,C=this.props,z=C.numPages,r=C.currentPage;C=C.paginationLimitReached;var l=Array.apply(null,{length:z}).map(function(a,b){var c=r===b+1;return u("button",{classes:{"nav-pager__btn":!0,
"nav-pager__page-btn--active":c,"nav-pager__page-btn--inactive":!c},id:"page-"+(b+1)+"-button",title:f.page+" "+(b+1),onclick:function(){w.handlePageBtn(b+1)},role:"link",tabindex:"0",key:"page-"+(b+1)+"-button"},""+(b+1))}).reduce(function(a,b,c,m){return 0===c||c===z-1||c===r-1||c===r-2||c===r||1===c&&4===r||c===z-2&&r===z-3||4>=c&&5>r?a.push(b):(c===r-3||c===r+1||5===c&&5>r)&&a.push(u("span",{"class":"nav-pager__dots",key:"dots-"+c},"...")),a},[]),d={"nav-pager__btn":!0,"nav-pager__btn--disabled":1>=
r},e={"nav-pager__btn":!0,"nav-pager__btn--disabled":r>=z};return 1<z?u("nav",{"class":"nav-pager__container",key:"pager"},r===z&&C&&u("div",{"class":"nav-pager__limit-container",key:"pagination-limit-container"},u("div",{"class":"nav-pager__limit-inner"},u("p",{"class":"nav-pager__limit-text"},f.paginationLimit))),u("button",{classes:d,id:"previous",title:f.previous,role:"link",key:"previous-btn",onclick:this.handlePrevious,tabindex:1>=r?"-1":"0"},f.previous),u("div",{"class":"nav-pager__page-btn-container"},
l),u("button",{classes:e,id:"next",title:f.next,role:"link",key:"next-btn",onclick:this.handleNext,tabindex:r>=z?"-1":"0"},f.next)):u("span",null)},k.prototype.handleNext=function(){this.props.onPageChange(this.props.currentPage+1)},k.prototype.handlePrevious=function(){this.props.onPageChange(this.props.currentPage-1)},k.prototype.handlePageBtn=function(u){this.props.onPageChange(u)},k}(p(18).Component);q["default"]=n}})})},"arcgis-components/Modals/MobileWrap":function(){define(["../Component",
"../Buttons/SvgButton"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&
(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=873)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=
r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&
(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}
function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};
case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,
l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,q){n.exports=O},206:function(n,q){n.exports=K},312:function(n,
q,p){function h(k){return g[k.vnodeSelector]&&(!k.properties||!k.properties.disabled&&-1!==k.properties.tabindex)||k.properties&&k.properties.tabindex&&-1<parseInt(k.properties.tabindex,10)}var f=p(0),g={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};n=function(k){function u(w){w=k.call(this,w)||this;return w.registerFirstFocusable=w.registerFirstFocusable.bind(w),w.registerLastFocusable=w.registerLastFocusable.bind(w),w.handleFocusChange=w.handleFocusChange.bind(w),w}return Object(f.d)(u,
k),u.prototype.render=function(){var w=this.findFirstFocusable(this.props.children),C=this.findLastFocusable(this.props.children);return w&&C&&(w.properties?w.properties.afterCreate=this.registerFirstFocusable:w.properties={afterCreate:this.registerFirstFocusable},C.properties?C.properties.afterCreate=this.registerLastFocusable:C.properties={afterCreate:this.registerLastFocusable}),this.props.children},u.prototype.findFirstFocusable=function(w){if(w)for(var C=0;C<w.length;C++){var z=w[C];if(h(z)||
z.children&&(z=this.findFirstFocusable(z.children)))return z}},u.prototype.findLastFocusable=function(w){if(w)for(var C=w.length-1;0<=C;C--){var z=w[C];if(h(z)||z.children&&(z=this.findLastFocusable(z.children)))return z}},u.prototype.registerFirstFocusable=function(w){this.firstFocusableElement&&this.firstFocusableElement!==w&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);w.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=w;setTimeout(function(){w&&
w.focus()},10)},u.prototype.registerLastFocusable=function(w){this.lastFocusableElement&&this.lastFocusableElement!==w&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=w;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},u.prototype.handleFocusChange=function(w){"Tab"!==w.key&&9!==w.keyCode||(w.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
w.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),w.preventDefault()))},u}(p(16).Component);q.a=n},873:function(n,q,p){p.r(q);var h=p(0);n=p(16);var f=p(206),g=p.n(f),k=p(312);p=function(u){function w(C){C=u.call(this,C)||this;return C.state={closing:!1,open:C.props.open},C.handleClose=C.handleClose.bind(C),C}return Object(h.d)(w,u),w.prototype.componentWillReceiveProps=function(C){var z=this;this.props.open===C.open||
this.state.closing||(C.open?(this.setState({open:C.open}),setTimeout(function(){var r=document.getElementById(z.props.key+"close");r&&r.focus()},100)):(this.setState({closing:!0}),setTimeout(function(){z.setState({open:!1,closing:!1})},200)))},w.prototype.render=function(C){return C(k.a,{key:"mobile-wrap-focus-trap"},C("div",{classes:{"mod__mob-wrap-container":!0,"mod__mob-wrap-container--closed":!this.state.open,"mod__mob-wrap-container--closing":this.state.closing},key:this.props.key},C("div",{classes:{"mod__mob-wrap-body":!0,
"mod__mob-wrap-body--max-height":this.props.maxHeight,"mod__mob-wrap-body--closing":this.state.closing}},C("div",{"class":"mod__mob-wrap-header"},C("span",{"class":"mod__mob-wrap-title"},this.props.title),C(g.a,{key:this.props.key+"close",focusable:!0,handleClick:this.handleClose},C("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",viewBox:"0 0 24 24",width:"24",height:"24"},C("path",{fill:"currentColor",d:"M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z"})))),
C("div",{"class":"mod__mob-wrap-content"},this.props.children),this.props.footer?C("div",{"class":"mod__mob-wrap-footer"},this.props.footer):null)))},w.prototype.handleClose=function(){this.props.onClose&&this.props.onClose()},w}(n.Component);q["default"]=p}})})},"arcgis-components/Dropdowns/SortDropdown/index":function(){define("../../Component ../../Buttons/Toggle ../../Dropdowns/Ago2018Dropdown dojo/i18n!../../Dropdowns/SortDropdown/nls/resources ../../Buttons/IconButton ../../Modals/MobileWrap".split(" "),
function(O,K,n,q,p,h){return function(f){function g(u){if(k[u])return k[u].exports;var w=k[u]={i:u,l:!1,exports:{}};return f[u].call(w.exports,w,w.exports,g),w.l=!0,w.exports}var k={};return g.m=f,g.c=k,g.d=function(u,w,C){g.o(u,w)||Object.defineProperty(u,w,{enumerable:!0,get:C})},g.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},g.t=function(u,w){if((1&w&&(u=g(u)),8&w)||4&
w&&"object"==typeof u&&u&&u.__esModule)return u;var C=Object.create(null);if(g.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:u}),2&w&&"string"!=typeof u)for(var z in u)g.d(C,z,function(r){return u[r]}.bind(null,z));return C},g.n=function(u){var w=u&&u.__esModule?function(){return u["default"]}:function(){return u};return g.d(w,"a",w),w},g.o=function(u,w){return Object.prototype.hasOwnProperty.call(u,w)},g.p="",g(g.s=839)}({0:function(f,g,k){function u(a,b){function c(){this.constructor=
a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");d(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function w(a,b){var c={},m;for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&0>b.indexOf(m)&&(c[m]=a[m]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(m=Object.getOwnPropertySymbols(a);t<m.length;t++)0>b.indexOf(m[t])&&Object.prototype.propertyIsEnumerable.call(a,m[t])&&
(c[m[t]]=a[m[t]])}return c}function C(a,b,c,m){var t,v=arguments.length,A=3>v?b:null===m?m=Object.getOwnPropertyDescriptor(b,c):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(a,b,c,m);else for(var B=a.length-1;0<=B;B--)(t=a[B])&&(A=(3>v?t(A):3<v?t(b,c,A):t(b,c))||A);return 3<v&&A&&Object.defineProperty(b,c,A),A}function z(a,b,c,m){return new (c||(c=Promise))(function(t,v){function A(D){try{x(m.next(D))}catch(E){v(E)}}function B(D){try{x(m["throw"](D))}catch(E){v(E)}}
function x(D){var E;D.done?t(D.value):(E=D.value,E instanceof c?E:new c(function(y){y(E)})).then(A,B)}x((m=m.apply(a,b||[])).next())})}function r(a,b){function c(x){return function(D){return function(E){if(m)throw new TypeError("Generator is already executing.");for(;B;)try{if(m=1,t&&(v=2&E[0]?t["return"]:E[0]?t["throw"]||((v=t["return"])&&v.call(t),0):t.next)&&!(v=v.call(t,E[1])).done)return v;switch(t=0,v&&(E=[2&E[0],v.value]),E[0]){case 0:case 1:v=E;break;case 4:return B.label++,{value:E[1],done:!1};
case 5:B.label++;t=E[1];E=[0];continue;case 7:E=B.ops.pop();B.trys.pop();continue;default:if(!(v=B.trys,(v=0<v.length&&v[v.length-1])||6!==E[0]&&2!==E[0])){B=0;continue}if(3===E[0]&&(!v||E[1]>v[0]&&E[1]<v[3]))B.label=E[1];else if(6===E[0]&&B.label<v[1])B.label=v[1],v=E;else if(v&&B.label<v[2])B.label=v[2],B.ops.push(E);else{v[2]&&B.ops.pop();B.trys.pop();continue}}E=b.call(a,B)}catch(y){E=[6,y],t=0}finally{m=v=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([x,D])}}var m,t,v,A,B={label:0,
sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return A={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A}function l(a,b){for(var c=0,m=b.length,t=a.length;c<m;c++,t++)a[t]=b[c];return a}k.d(g,"d",function(){return u});k.d(g,"a",function(){return e});k.d(g,"f",function(){return w});k.d(g,"c",function(){return C});k.d(g,"b",function(){return z});k.d(g,"e",function(){return r});k.d(g,"g",function(){return l});var d=function(a,
b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&(c[t]=m[t])})(a,b)},e=function(){return(e=Object.assign||function(a){for(var b,c=1,m=arguments.length;c<m;c++)for(var t in b=arguments[c])Object.prototype.hasOwnProperty.call(b,t)&&(a[t]=b[t]);return a}).apply(this,arguments)};Object.create;Object.create},165:function(f,g){f.exports=K},18:function(f,g){f.exports=O},273:function(f,
g){f.exports=n},299:function(f,g){f.exports=q},348:function(f,g){f.exports=p},368:function(f,g){f.exports=h},839:function(f,g,k){k.r(g);var u=k(0),w=k(299);f=k(18);var C=k(348),z=k.n(C);C=k(165);var r=k.n(C);C=k(273);var l=k.n(C);C=k(368);var d=k.n(C);k=function(e){function a(b){var c=e.call(this,b)||this;return c.handleToggleBlur=function(m){var t,v,A;(null===(t=document.querySelector("#dropdown-sort-menu-container"))||void 0===t?0:t.contains(m.relatedTarget))||null===(A=(v=c.props).handleMenuBlur)||
void 0===A||A.call(v)},c.handleSortClick=c.handleSortClick.bind(c),c.handleFieldChange=c.handleFieldChange.bind(c),c.handleOrderChange=c.handleOrderChange.bind(c),c.handleMobileWrapClose=c.handleMobileWrapClose.bind(c),c}return Object(u.d)(a,e),a.prototype.render=function(b){var c=this,m=[b("div",{"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title"},w.sortBy),this.props.availableFields.map(function(t){return b(r.a,{key:t,name:w[t],value:t,onToggleClick:c.handleFieldChange,
selectedToggle:c.props.field,handleBlur:c.handleToggleBlur})})),"relevance"!==this.props.field?b("div",{key:this.props.field,"class":"drp-sort__menu-section",role:"tree"},b("h3",{"class":"drp-sort__menu-title drp-sort__menu-direction"},w.sortDir),b(r.a,{key:"ascending-toggle",name:w.ascending[this.props.field],value:"asc",onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur}),b(r.a,{key:"descending-toggle",name:w.descending[this.props.field],value:"desc",
onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur})):null];return window.matchMedia("(max-width: 860px)").matches?[b(z.a,{key:"gb-sort-btn-mobile",active:this.props.active,handleClick:this.handleSortClick},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),
b("span",{"class":"drp-sort__btn-label"},w[this.props.field]))),b(d.a,{key:"sort-mobile-wrap",title:w.sort,open:this.props.active,onClose:this.handleMobileWrapClose},m)]:b(l.a,{key:"sort-dropdown",active:this.props.active,onToggle:this.handleSortClick},b(z.a,{key:"gb-sort-btn",active:this.props.active,handleClick:this.stub,tabindex:-1},b("div",{"class":"drp-sort__btn-body"},b("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},b("g",{stroke:"none","stroke-width":"1"},b("g",null,b("path",
{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),b("span",{"class":"drp-sort__btn-label"},w[this.props.field]))),b("div",{"class":"drp-sort__menu-container",id:"dropdown-sort-menu-container"},m))},a.prototype.stub=function(){},a.prototype.handleSortClick=function(){var b,c;null===(c=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===c||c.call(b)},a.prototype.handleFieldChange=function(b){var c,m;b===
this.props.field||null!==(m=null===(c=this.props)||void 0===c?void 0:c.onFieldChange)&&void 0!==m&&m.call(c,b)},a.prototype.handleOrderChange=function(b){var c,m;b===this.props.order||null!==(m=null===(c=this.props)||void 0===c?void 0:c.onOrderChange)&&void 0!==m&&m.call(c,b)},a.prototype.handleMobileWrapClose=function(){var b,c;null===(c=null===(b=this.props)||void 0===b?void 0:b.onClick)||void 0===c||c.call(b)},a}(f.Component);g["default"]=k}})})},"arcgis-components/Dropdowns/Ago2018Dropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&
f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=836)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=
r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&
(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}
function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};
case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,
l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,q){n.exports=O},367:function(n,q){n.exports=K},836:function(n,
q,p){p.r(q);var h=p(0);n=p(16);var f=p(367),g=p.n(f);p=function(k){function u(w){w=k.call(this,w)||this;return w.state={active:!!w.props.active&&w.props.active,closing:!1},w.handleDrpClick=w.handleDrpClick.bind(w),w}return Object(h.d)(u,k),u.prototype.render=function(w){var C={"drp-ago2018__menu":!0,"drp-ago2018__menu--active":this.state.active&&!this.state.closing};if(this.props.children&&this.props.children[0]&&this.props.children[1])return w(g.a,{key:this.props.key,active:this.state.active,onToggle:this.handleDrpClick,
tabindex:this.props.tabindex},this.props.children[0],w("div",{classes:C},this.props.children[1]))},u.prototype.componentWillReceiveProps=function(w){!1===w.active&&!0===this.props.active&&this.close()},u.prototype.close=function(w){var C=this;this.setState({closing:!0});setTimeout(function(){C.setState({active:!1,closing:!1});C.props.onToggle&&w&&C.props.onToggle()},200)},u.prototype.handleDrpClick=function(){this.state.active?this.close(!0):this.state.closing||(this.setState({active:!0}),this.props.onToggle&&
this.props.onToggle())},u}(n.Component);q["default"]=p}})})},"arcgis-components/Filters/CreatedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/CreatedFilter/nls/resources"],function(O,K,n,q){return function(p){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return p[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=p,h.c=f,h.d=function(g,
k,u){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:u})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(h.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var w in g)h.d(u,w,function(C){return g[C]}.bind(null,
w));return u},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=843)}({0:function(p,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a=
{},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function u(d,e,a,b){var c,m=arguments.length,t=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)t=Reflect.decorate(d,e,a,b);
else for(var v=d.length-1;0<=v;v--)(c=d[v])&&(t=(3>m?c(t):3<m?c(e,a,t):c(e,a))||t);return 3<m&&t&&Object.defineProperty(e,a,t),t}function w(d,e,a,b){return new (a||(a=Promise))(function(c,m){function t(B){try{A(b.next(B))}catch(x){m(x)}}function v(B){try{A(b["throw"](B))}catch(x){m(x)}}function A(B){var x;B.done?c(B.value):(x=B.value,x instanceof a?x:new a(function(D){D(x)})).then(t,v)}A((b=b.apply(d,e||[])).next())})}function C(d,e){function a(A){return function(B){return function(x){if(b)throw new TypeError("Generator is already executing.");
for(;v;)try{if(b=1,c&&(m=2&x[0]?c["return"]:x[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,x[1])).done)return m;switch(c=0,m&&(x=[2&x[0],m.value]),x[0]){case 0:case 1:m=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++;c=x[1];x=[0];continue;case 7:x=v.ops.pop();v.trys.pop();continue;default:if(!(m=v.trys,(m=0<m.length&&m[m.length-1])||6!==x[0]&&2!==x[0])){v=0;continue}if(3===x[0]&&(!m||x[1]>m[0]&&x[1]<m[3]))v.label=x[1];else if(6===x[0]&&v.label<m[1])v.label=
m[1],m=x;else if(m&&v.label<m[2])v.label=m[2],v.ops.push(x);else{m[2]&&v.ops.pop();v.trys.pop();continue}}x=e.call(d,v)}catch(D){x=[6,D],c=0}finally{b=m=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([A,B])}}var b,c,m,t,v={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return t={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t}function z(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=
e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return u});f.d(h,"b",function(){return w});f.d(h,"e",function(){return C});f.d(h,"g",function(){return z});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,
a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(p,h){p.exports=K},18:function(p,h){p.exports=O},370:function(p,h){p.exports=n},446:function(p,h){p.exports=q},843:function(p,h,f){f.r(h);var g=f(0),k=f(446);p=f(18);var u=f(131),w=f.n(u);u=f(370);var C=f.n(u);f=function(z){function r(l){l=z.call(this,l)||this;return l.handleDateRangeSelect=l.handleDateRangeSelect.bind(l),
l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,z),r.prototype.render=function(l){return l(w.a,{key:"created-filter-accordion",title:k.dateCreated,clearable:!!this.props.dateCreatedFilter,onClear:this.handleClearFilter},l("ul",{"aria-label":k.dateCreated,"class":"ftr-created__tree",role:"tree"},l(C.a,{key:"date-range-selector",selectedOption:this.props.dateCreatedSection,range:this.props.dateCreatedFilter,onDateRangeSelect:this.handleDateRangeSelect,preventFutureDate:!0})))},
r.prototype.handleDateRangeSelect=function(l,d){this.props.onDateCreatedSelect(l,d)},r.prototype.handleClearFilter=function(){this.props.onDateCreatedSelect()},r}(p.Component);h["default"]=f}})})},"arcgis-components/DateSelection/DateRangeSelector/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Toggle","dojo/i18n!../../DateSelection/DateRangeSelector/nls/resources","../../DateSelection/DatePicker"],function(O,K,n,q,p){return function(h){function f(k){if(g[k])return g[k].exports;
var u=g[k]={i:k,l:!1,exports:{}};return h[k].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var g={};return f.m=h,f.c=g,f.d=function(k,u,w){f.o(k,u)||Object.defineProperty(k,u,{enumerable:!0,get:w})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,u){if((1&u&&(k=f(k)),8&u)||4&u&&"object"==typeof k&&k&&k.__esModule)return k;var w=Object.create(null);if(f.r(w),
Object.defineProperty(w,"default",{enumerable:!0,value:k}),2&u&&"string"!=typeof k)for(var C in k)f.d(w,C,function(z){return k[z]}.bind(null,C));return w},f.n=function(k){var u=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(u,"a",u),u},f.o=function(k,u){return Object.prototype.hasOwnProperty.call(k,u)},f.p="",f(f.s=833)}({0:function(h,f,g){function k(e,a){function b(){this.constructor=e}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");l(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function u(e,a){var b={},c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&0>a.indexOf(c)&&(b[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var m=0;for(c=Object.getOwnPropertySymbols(e);m<c.length;m++)0>a.indexOf(c[m])&&Object.prototype.propertyIsEnumerable.call(e,c[m])&&(b[c[m]]=e[c[m]])}return b}function w(e,a,b,c){var m,t=arguments.length,v=3>t?a:null===c?
c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(e,a,b,c);else for(var A=e.length-1;0<=A;A--)(m=e[A])&&(v=(3>t?m(v):3<t?m(a,b,v):m(a,b))||v);return 3<t&&v&&Object.defineProperty(a,b,v),v}function C(e,a,b,c){return new (b||(b=Promise))(function(m,t){function v(x){try{B(c.next(x))}catch(D){t(D)}}function A(x){try{B(c["throw"](x))}catch(D){t(D)}}function B(x){var D;x.done?m(x.value):(D=x.value,D instanceof b?D:new b(function(E){E(D)})).then(v,
A)}B((c=c.apply(e,a||[])).next())})}function z(e,a){function b(B){return function(x){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;A;)try{if(c=1,m&&(t=2&D[0]?m["return"]:D[0]?m["throw"]||((t=m["return"])&&t.call(m),0):m.next)&&!(t=t.call(m,D[1])).done)return t;switch(m=0,t&&(D=[2&D[0],t.value]),D[0]){case 0:case 1:t=D;break;case 4:return A.label++,{value:D[1],done:!1};case 5:A.label++;m=D[1];D=[0];continue;case 7:D=A.ops.pop();A.trys.pop();continue;default:if(!(t=
A.trys,(t=0<t.length&&t[t.length-1])||6!==D[0]&&2!==D[0])){A=0;continue}if(3===D[0]&&(!t||D[1]>t[0]&&D[1]<t[3]))A.label=D[1];else if(6===D[0]&&A.label<t[1])A.label=t[1],t=D;else if(t&&A.label<t[2])A.label=t[2],A.ops.push(D);else{t[2]&&A.ops.pop();A.trys.pop();continue}}D=a.call(e,A)}catch(E){D=[6,E],m=0}finally{c=t=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,x])}}var c,m,t,v,A={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return v={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function r(e,a){for(var b=0,c=a.length,m=e.length;b<c;b++,m++)e[m]=a[b];return e}g.d(f,"d",function(){return k});g.d(f,"a",function(){return d});g.d(f,"f",function(){return u});g.d(f,"c",function(){return w});g.d(f,"b",function(){return C});g.d(f,"e",function(){return z});g.d(f,"g",function(){return r});var l=function(e,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=
c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])})(e,a)},d=function(){return(d=Object.assign||function(e){for(var a,b=1,c=arguments.length;b<c;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e}).apply(this,arguments)};Object.create;Object.create},151:function(h,f){h.exports=K},165:function(h,f){h.exports=n},18:function(h,f){h.exports=O},225:function(h,f){h.exports=q},425:function(h,f,g){var k=g(0),u=g(225),w=g(151);
f.a=function(C,z){var r=new Date,l=r.getTime();r.setHours(0,0,0,0);r=r.getTime();switch(C){case "today":return{start:r,end:l,label:u.today};case "yesterday":return{start:r-864E5,end:r,label:u.yesterday};case "last7Days":return{start:l-6048E5,end:l,label:u.last7Days};case "last30Days":return{start:l-2592E6,end:l,label:u.last30Days};case "custom":if(z)return l=w.format(new Date(z.start),{selector:"date",formatLength:"short"}),r=w.format(new Date(z.end),{selector:"date",formatLength:"short"}),Object(k.a)(Object(k.a)({},
z),{label:l+"\u2014"+r})}}},442:function(h,f){h.exports=p},523:function(h,f,g){var k=g(0);h=g(18);var u=g(165),w=g.n(u);g=function(C){function z(r){return C.call(this,r)||this}return Object(k.d)(z,C),z.prototype.render=function(r){var l=this;return this.props.options.map(function(d){return r(w.a,{key:d.value,name:d.displayName,value:d.value,selectedToggle:l.props.selectedOption,childOptions:d.childOptions,onToggleClick:l.props.handleOptionClick})})},z}(h.Component);f.a=g},833:function(h,f,g){g.r(f);
var k=g(0),u=g(225);h=g(18);var w=g(442),C=g.n(w),z=g(523),r=g(425);g=function(l){function d(e){var a=l.call(this,e)||this;return a.state={uid:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),customStart:"custom"===e.selectedOption&&e.range?new Date(e.range.start):void 0,customEnd:"custom"===e.selectedOption&&e.range?new Date(e.range.end):void 0,customRange:"custom"===e.selectedOption&&e.range?e.range:void 0,options:[{value:"today",displayName:u.today},{value:"yesterday",displayName:u.yesterday},
{value:"last7Days",displayName:u.last7Days},{value:"last30Days",displayName:u.last30Days},{value:"custom",displayName:u.custom}]},a.handleFromDateChange=a.handleFromDateChange.bind(a),a.handleToDateChange=a.handleToDateChange.bind(a),a.handleOptionClick=a.handleOptionClick.bind(a),a}return Object(k.d)(d,l),d.prototype.render=function(e){var a,b={hide:"custom"!==this.props.selectedOption,"margin-left-1":!0,"margin-right-0":!0,date__selector:!0,"date__selector--hide":"custom"!==this.props.selectedOption},
c=new Date;if(this.props.preventFutureDate){var m=this.state.customEnd;(!m||m>c)&&(m=c);m={max:m}}else this.state.customEnd&&(m={max:this.state.customEnd});return(this.state.customStart||this.props.preventFutureDate)&&(a=Object(k.a)(Object(k.a)({},this.state.customStart&&{min:this.state.customStart}),this.props.preventFutureDate&&{max:c})),e("div",null,e(z.a,{key:"date-range-static-toggles",options:this.state.options,selectedOption:this.props.selectedOption,customRange:this.state.customRange,handleOptionClick:this.handleOptionClick}),
e("div",{classes:b},e("label",{"aria-label":u.from},u.from,e("div",{"class":"date-selector__pick-wrapper"},e(C.a,{key:"from-picker-"+this.state.uid,onDateChange:this.handleFromDateChange,value:this.state.customStart,constraints:m}))),e("label",{"aria-label":u.to},u.to,e("div",{"class":"date-selector__pick-wrapper"},e(C.a,{key:"to-picker-"+this.state.uid,onDateChange:this.handleToDateChange,value:this.state.customEnd,constraints:a})))))},d.prototype.handleFromDateChange=function(e){this.state.customEnd?
(this.setState({customStart:e,customRange:{start:e.getTime(),end:this.state.customEnd.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(r.a)("custom",this.state.customRange))):this.setState({customStart:e})},d.prototype.handleToDateChange=function(e){this.state.customStart?(this.setState({customEnd:e,customRange:{start:this.state.customStart.getTime(),end:e.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(r.a)("custom",this.state.customRange))):this.setState({customEnd:e})},
d.prototype.handleOptionClick=function(e){this.props.selectedOption===e?this.props.onDateRangeSelect():this.props.onDateRangeSelect(e,Object(r.a)(e,this.state.customRange))},d}(h.Component);f["default"]=g}})})},"arcgis-components/DateSelection/DatePicker":function(){define(["../Component","dijit/form/DateTextBox"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=
n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,
k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=834)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d=
{},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);
else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");
for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=
b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=
l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,
d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,q){n.exports=O},524:function(n,q){n.exports=K},834:function(n,q,p){p.r(q);var h=p(0);n=p(16);var f=p(524),g=p.n(f);p=function(k){function u(w){w=k.call(this,w)||this;return w.processDijit=w.processDijit.bind(w),w.createDijit=w.createDijit.bind(w),w.handleDateChange=w.handleDateChange.bind(w),w}return Object(h.d)(u,
k),u.prototype.render=function(w){return w("div",{key:this.props.key,id:this.props.key,"class":"margin-right-1",afterCreate:this.processDijit})},u.prototype.componentWillReceiveProps=function(w){w.constraints!==this.props.constraints&&this.state.dijit&&this.state.dijit.textbox&&this.state.dijit.set("constraints",Object(h.a)({},w.constraints))},u.prototype.processDijit=function(w){this.state.dijit&&this.state.dijit.destroy();w=this.createDijit(w);w.on("change",this.handleDateChange);this.setState({dijit:w})},
u.prototype.createDijit=function(w){return new g.a({value:this.props.value,constraints:Object(h.a)({},this.props.constraints)},w)},u.prototype.handleDateChange=function(w){this.props.onDateChange(w)},u}(n.Component);q["default"]=p}})})},"arcgis-components/Badges/Retired":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,
f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,
k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=824)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=O},824:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){var u=g.isRetiredStoryMap?h.tooltips.retiredStoryMap:h.tooltips.retiredApp;return k(f.a,{backgroundColor:"#efe397",
textColor:"#786d1c",key:"retired-badge",size:g.size,text:h.retired,title:u,tooltip:g.tooltip?u:void 0,tooltipDirection:g.tooltipDirection},k("path",{fill:"#786d1c",d:"M14.78 14.645L8.255 1.52a.938.938 0 0 0-.84-.52.938.938 0 0 0-.84.522L.092 14.647A.938.938 0 0 0 .932 16h13.009a.937.937 0 0 0 .838-1.355zm-.724.49a.137.137 0 0 1-.115.065H.933a.137.137 0 0 1-.116-.063.139.139 0 0 1-.008-.135L7.293 1.876a.14.14 0 0 1 .123-.076.138.138 0 0 1 .125.077l6.521 13.124a.138.138 0 0 1-.006.135zM7.495 11.5a.988.988 0 0 1 1 .976v.048a1 1 0 0 1-2 0v-.048a.988.988 0 0 1 1-.976zM7.018 6h.977v4h-.977z"}))}}})})},
"arcgis-components/Badges/Badge":function(){define(function(){return function(O){function K(q){if(n[q])return n[q].exports;var p=n[q]={i:q,l:!1,exports:{}};return O[q].call(p.exports,p,p.exports,K),p.l=!0,p.exports}var n={};return K.m=O,K.c=n,K.d=function(q,p,h){K.o(q,p)||Object.defineProperty(q,p,{enumerable:!0,get:h})},K.r=function(q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"});Object.defineProperty(q,"__esModule",{value:!0})},K.t=
function(q,p){if((1&p&&(q=K(q)),8&p)||4&p&&"object"==typeof q&&q&&q.__esModule)return q;var h=Object.create(null);if(K.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:q}),2&p&&"string"!=typeof q)for(var f in q)K.d(h,f,function(g){return q[g]}.bind(null,f));return h},K.n=function(q){var p=q&&q.__esModule?function(){return q["default"]}:function(){return q};return K.d(p,"a",p),p},K.o=function(q,p){return Object.prototype.hasOwnProperty.call(q,p)},K.p="",K(K.s=813)}({813:function(O,K,n){n.r(K);
K["default"]=function(q,p){var h=q.key,f=q.size,g=q.text,k=q.title,u=q.tooltip,w=q.tooltipDirection,C=q.backgroundColor,z=q.textColor,r=q.children;w={"qual-badge__container":!0,"qual-badge__container--small":"small"===f,"qual-badge__container--tooltip":u,"qual-badge__container--tooltip-left":"left"===w,"qual-badge__container--tooltip-top":"top"===w,"qual-badge__container--tooltip-right":"right"===w,"tooltip-bottom":!w||"bottom"===w,"tooltip-left":"left"===w,"tooltip-top":"top"===w,"tooltip-right":"right"===
w};return"small"===f?p("span",{key:h+"-small",classes:w,"class":"qual-badge__container--small","aria-label":u,style:"background-color: "+C+"; color: "+z+";",title:u?void 0:k},r):p("span",{key:h+"-regular",classes:w,"class":"qual-badge__container--regular","aria-label":u,style:"background-color: "+C+"; color: "+z+";",title:k},p("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 16 16"},r),p("span",{"class":"qual-badge__text"},g))}}})})},"arcgis-components/Filters/MapAreaFilter":function(){define(["../Buttons/ToggleSwitch"],
function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==
typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=852)}({528:function(K,n){K.exports=O},852:function(K,n,q){q.r(n);K=q(528);var p=
q.n(K);n["default"]=function(h,f){return f(p.a,{key:"map-area-filter",label:h.text,handleToggleClick:h.handleMapAreaToggle,handleKeyUp:h.handleMapAreaKeyUp,value:h.searchMapArea})}}})})},"arcgis-components/Buttons/ToggleSwitch":function(){define(["../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,
h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=
p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=832)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,
d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?
e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=
1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,
"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<
d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(K,n){K.exports=O},832:function(K,n,q){q.r(n);var p=q(0);K=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Object(p.d)(f,h),f.prototype.render=function(g){var k=this.props,u=k.handleToggleClick,w=k.handleKeyUp,C=k.value,z=k.id;return g("label",{"class":"btn-toggle-switch__toggle",key:z||"toggle-switch"},g("span",
{"class":"btn-toggle-switch__label"},k.label),g("input",{id:z+"-input",type:"checkbox","class":"btn-toggle-switch__input",onchange:u,onkeyup:w,checked:C}),g("span",{id:z+"-switch","class":"btn-toggle-switch__switch"}))},f}(q(16).Component);n["default"]=K}})})},"arcgis-components/Filters/ItemTypeFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/ItemTypeFilter/nls/resources"],function(O,K,n,q){return function(p){function h(g){if(f[g])return f[g].exports;
var k=f[g]={i:g,l:!1,exports:{}};return p[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=p,h.c=f,h.d=function(g,k,u){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:u})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(h.r(u),
Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var w in g)h.d(u,w,function(C){return g[C]}.bind(null,w));return u},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=846)}({0:function(p,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+
" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function u(d,e,a,b){var c,m=arguments.length,t=3>m?e:null===b?
b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)t=Reflect.decorate(d,e,a,b);else for(var v=d.length-1;0<=v;v--)(c=d[v])&&(t=(3>m?c(t):3<m?c(e,a,t):c(e,a))||t);return 3<m&&t&&Object.defineProperty(e,a,t),t}function w(d,e,a,b){return new (a||(a=Promise))(function(c,m){function t(B){try{A(b.next(B))}catch(x){m(x)}}function v(B){try{A(b["throw"](B))}catch(x){m(x)}}function A(B){var x;B.done?c(B.value):(x=B.value,x instanceof a?x:new a(function(D){D(x)})).then(t,
v)}A((b=b.apply(d,e||[])).next())})}function C(d,e){function a(A){return function(B){return function(x){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,c&&(m=2&x[0]?c["return"]:x[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,x[1])).done)return m;switch(c=0,m&&(x=[2&x[0],m.value]),x[0]){case 0:case 1:m=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++;c=x[1];x=[0];continue;case 7:x=v.ops.pop();v.trys.pop();continue;default:if(!(m=
v.trys,(m=0<m.length&&m[m.length-1])||6!==x[0]&&2!==x[0])){v=0;continue}if(3===x[0]&&(!m||x[1]>m[0]&&x[1]<m[3]))v.label=x[1];else if(6===x[0]&&v.label<m[1])v.label=m[1],m=x;else if(m&&v.label<m[2])v.label=m[2],v.ops.push(x);else{m[2]&&v.ops.pop();v.trys.pop();continue}}x=e.call(d,v)}catch(D){x=[6,D],c=0}finally{b=m=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([A,B])}}var b,c,m,t,v={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return t={next:a(0),"throw":a(1),
"return":a(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t}function z(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return u});f.d(h,"b",function(){return w});f.d(h,"e",function(){return C});f.d(h,"g",function(){return z});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(p,h){p.exports=K},165:function(p,h){p.exports=n},18:function(p,h){p.exports=O},180:function(p,h,f){function g(b,c){return r("children","value",b,c)}function k(b,
c){return l("children","value",b,c)}function u(b,c){return function x(t,v,A,B){var D,E=A[t];return E&&0!==E.length?Object(a.a)(Object(a.a)({},A),((D={})[t]=E.reduce(function(y,F){return-1!==B.indexOf(F[v])&&y.push(x(t,v,F,B)),y},[]),D)):Object(a.a)({},A)}("children","value",b,c)}function w(b){return function(c,m){var t,v=m[c];return v?Object(a.a)(Object(a.a)({},m),((t={})[c]=function x(B){return 0===B.length?[]:1!==B.length||B[0][c]?1<B.length?B.reduce(function(D,E){var y;return E[c]?(D.push(Object(a.a)(Object(a.a)({},
E),((y={})[c]=x(E[c]),y))),D):(D.push(E),D)},[]):x(B[0][c]):B}(v),t)):m}("children",b)}function C(b,c){return d("children",b,c)}function z(b,c){return function B(t,v,A){var x=v[t];x&&x.forEach(function(D){return B(t,D,A)});A(v)}("children",b,c)}function r(b,c,m,t){var v=m[b];return m[c]===t?m:v?v.reduce(function(A,B){return A||r(b,c,B,t)},void 0):void 0}function l(b,c,m,t){if(m=m[b])return m.reduce(function(v,A){return A[c]===t[0]?1===t.length?A:l(b,c,A,t.slice(1)):v},void 0)}function d(b,c,m){var t;
return m(Object(a.a)(Object(a.a)({},c),((t={})[b]=c[b]?c[b].map(function(v){return d(b,v,m)}):void 0,t)))}function e(b,c,m){return d(b,m,function(t){var v=t[c];if(delete t[c],t[b]){var A=t[b];return delete t[b],Object(a.a)(Object(a.a)({},t),{value:v,children:A})}return Object(a.a)(Object(a.a)({},t),{value:v})})}f.d(h,"f",function(){return g});f.d(h,"d",function(){return k});f.d(h,"i",function(){return u});f.d(h,"e",function(){return w});f.d(h,"h",function(){return C});f.d(h,"g",function(){return z});
f.d(h,"a",function(){return r});f.d(h,"b",function(){return l});f.d(h,"c",function(){return e});var a=f(0)},397:function(p,h){p.exports=q},447:function(p,h,f){p=f(397);h.a=[{value:"maps",displayName:"Maps",children:[{value:"webMaps",displayName:"Web maps"},{value:"mapFiles",displayName:"Map files"}]},{value:"layers",displayName:"Layers",children:[{value:"featureLayers",displayName:"Feature layers"},{value:"tileLayers",displayName:"Tile layers"},{value:"mapImageLayers",displayName:"Map image layers"},
{value:"imageryLayers",displayName:"Imagery layers"},{value:"tiledImageLayers",displayName:"Tiled imagery layers"},{value:"elevationLayers",displayName:"Elevation layers"},{value:"sceneLayers",displayName:"Scene layers"},{value:"tables",displayName:"Tables"},{value:"layerFiles",displayName:"Layer files"},{value:"bigDataFileShares",displayName:"Big data file shares"}]},{value:"scenes",displayName:"Scenes"},{value:"apps",displayName:"Apps",children:[{value:"webApps",displayName:"Web apps"},{value:"experienceApps",
displayName:"Experience Builder"},{value:"instantApps",displayName:"Instant Apps"},{value:"sites",displayName:"Sites"},{value:"pages",displayName:"Pages"},{value:"storyMaps",displayName:"StoryMaps"},{value:"mobileApps",displayName:"Mobile apps"},{value:"desktopApps",displayName:"Desktop apps"}]},{value:"tools",displayName:"Tools",children:[{value:"locators",displayName:"Locators"},{value:"geodatabaseAccess",displayName:"Geodatabase access"},{value:"geometricOperations",displayName:"Geometric operations"},
{value:"geoprocessingTasks",displayName:"Geoprocessing tasks"},{value:"networkAnalysis",displayName:"Network analysis"},{value:"webTools",displayName:p.filters.webTools},{value:"rasterFunctionTemplates",displayName:"Raster function templates"},{value:"deepLearningPackages",displayName:"Deep learning packages"},{value:"analytics",displayName:"Analytics"}]},{value:"files",displayName:"Files",children:[{value:"documents",displayName:"Documents"},{value:"images",displayName:"Images"},{value:"pdfs",displayName:"PDFs"},
{value:"csvs",displayName:"CSVs"},{value:"reports",displayName:"Administrative reports"},{value:"rasterFunctionTemplates",displayName:"Raster function templates"}]},{value:"notebooks",displayName:"Notebooks"},{value:"knowledgeGraphs",displayName:"Knowledge graphs"}]},846:function(p,h,f){f.r(h);var g=f(0),k=f(397);p=f(18);var u=f(131),w=f.n(u);u=f(165);var C=f.n(u),z=f(447),r=f(180);f=function(l){function d(e){var a=l.call(this,e)||this;return a.state={availableFilters:Object(r.e)(Object(r.i)({value:"##itemTypeOptionsRoot",
children:z.a},e.availableItemTypes)).children},a.mapItemTypesToToggles=a.mapItemTypesToToggles.bind(a),a.handleToggleClick=a.handleToggleClick.bind(a),a.handleClearFilter=a.handleClearFilter.bind(a),a}return Object(g.d)(d,l),d.prototype.render=function(e){return e(w.a,{key:"item-type-accordion",title:k.itemType,clearable:!!this.props.itemTypeFilter,onClear:this.handleClearFilter},e("ul",{"aria-label":k.itemType,"class":"ftr-item-type__tree",role:"tree"},this.mapItemTypesToToggles(e)))},d.prototype.mapItemTypesToToggles=
function(e){var a=this;return Object(r.e)(Object(r.i)({value:"##itemTypeOptionsRoot",children:z.a},this.props.availableItemTypes)).children.map(function(b){return e(C.a,{key:b.value,name:b.displayName,value:b.value,selectedToggle:a.props.itemTypeFilter?a.props.itemTypeFilter.value:void 0,childOptions:b.children,onToggleClick:a.handleToggleClick})})},d.prototype.handleToggleClick=function(e,a){var b=this.props.itemTypeFilter;b&&b.value===e?this.props.onItemTypeSelect():this.props.onItemTypeSelect({value:e,
text:a})},d.prototype.handleClearFilter=function(){this.props.onItemTypeSelect()},d}(p.Component);h["default"]=f}})})},"arcgis-components/Filters/ModifiedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/ModifiedFilter/nls/resources"],function(O,K,n,q){return function(p){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return p[g].call(k.exports,k,k.exports,h),
k.l=!0,k.exports}var f={};return h.m=p,h.c=f,h.d=function(g,k,u){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:u})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(h.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&k&&"string"!=
typeof g)for(var w in g)h.d(u,w,function(C){return g[C]}.bind(null,w));return u},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=847)}({0:function(p,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):
(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function u(d,e,a,b){var c,m=arguments.length,t=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)t=Reflect.decorate(d,e,a,b);else for(var v=d.length-1;0<=v;v--)(c=d[v])&&(t=(3>m?c(t):3<m?c(e,a,t):c(e,a))||t);return 3<m&&t&&Object.defineProperty(e,a,t),t}function w(d,e,a,b){return new (a||(a=Promise))(function(c,m){function t(B){try{A(b.next(B))}catch(x){m(x)}}function v(B){try{A(b["throw"](B))}catch(x){m(x)}}function A(B){var x;B.done?c(B.value):(x=B.value,x instanceof a?x:new a(function(D){D(x)})).then(t,v)}A((b=b.apply(d,e||[])).next())})}function C(d,e){function a(A){return function(B){return function(x){if(b)throw new TypeError("Generator is already executing.");
for(;v;)try{if(b=1,c&&(m=2&x[0]?c["return"]:x[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,x[1])).done)return m;switch(c=0,m&&(x=[2&x[0],m.value]),x[0]){case 0:case 1:m=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++;c=x[1];x=[0];continue;case 7:x=v.ops.pop();v.trys.pop();continue;default:if(!(m=v.trys,(m=0<m.length&&m[m.length-1])||6!==x[0]&&2!==x[0])){v=0;continue}if(3===x[0]&&(!m||x[1]>m[0]&&x[1]<m[3]))v.label=x[1];else if(6===x[0]&&v.label<m[1])v.label=
m[1],m=x;else if(m&&v.label<m[2])v.label=m[2],v.ops.push(x);else{m[2]&&v.ops.pop();v.trys.pop();continue}}x=e.call(d,v)}catch(D){x=[6,D],c=0}finally{b=m=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([A,B])}}var b,c,m,t,v={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return t={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t}function z(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=
e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return u});f.d(h,"b",function(){return w});f.d(h,"e",function(){return C});f.d(h,"g",function(){return z});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,
a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(p,h){p.exports=K},18:function(p,h){p.exports=O},370:function(p,h){p.exports=n},448:function(p,h){p.exports=q},847:function(p,h,f){f.r(h);var g=f(0),k=f(448);p=f(18);var u=f(131),w=f.n(u);u=f(370);var C=f.n(u);f=function(z){function r(l){l=z.call(this,l)||this;return l.handleDateRangeSelect=l.handleDateRangeSelect.bind(l),
l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,z),r.prototype.render=function(l){return l(w.a,{key:"modified-filter-accordion",title:k.dateModified,clearable:!!this.props.dateModifiedFilter,onClear:this.handleClearFilter},l("ul",{"aria-label":k.dateModified,"class":"ftr-modified__tree",role:"tree"},l(C.a,{key:"date-range-selector",selectedOption:this.props.dateModifiedSection,range:this.props.dateModifiedFilter,onDateRangeSelect:this.handleDateRangeSelect})))},r.prototype.handleDateRangeSelect=
function(l,d){this.props.onDateModifiedSelect(l,d)},r.prototype.handleClearFilter=function(){this.props.onDateModifiedSelect()},r}(p.Component);h["default"]=f}})})},"arcgis-components/Filters/SharedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/SharedFilter/nls/resources"],function(O,K,n,q){return function(p){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return p[g].call(k.exports,
k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=p,h.c=f,h.d=function(g,k,u){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:u})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(h.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),
2&k&&"string"!=typeof g)for(var w in g)h.d(u,w,function(C){return g[C]}.bind(null,w));return u},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=848)}({0:function(p,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=
null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function u(d,e,a,b){var c,m=arguments.length,t=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==
typeof Reflect&&"function"==typeof Reflect.decorate)t=Reflect.decorate(d,e,a,b);else for(var v=d.length-1;0<=v;v--)(c=d[v])&&(t=(3>m?c(t):3<m?c(e,a,t):c(e,a))||t);return 3<m&&t&&Object.defineProperty(e,a,t),t}function w(d,e,a,b){return new (a||(a=Promise))(function(c,m){function t(B){try{A(b.next(B))}catch(x){m(x)}}function v(B){try{A(b["throw"](B))}catch(x){m(x)}}function A(B){var x;B.done?c(B.value):(x=B.value,x instanceof a?x:new a(function(D){D(x)})).then(t,v)}A((b=b.apply(d,e||[])).next())})}
function C(d,e){function a(A){return function(B){return function(x){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,c&&(m=2&x[0]?c["return"]:x[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,x[1])).done)return m;switch(c=0,m&&(x=[2&x[0],m.value]),x[0]){case 0:case 1:m=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++;c=x[1];x=[0];continue;case 7:x=v.ops.pop();v.trys.pop();continue;default:if(!(m=v.trys,(m=0<m.length&&m[m.length-
1])||6!==x[0]&&2!==x[0])){v=0;continue}if(3===x[0]&&(!m||x[1]>m[0]&&x[1]<m[3]))v.label=x[1];else if(6===x[0]&&v.label<m[1])v.label=m[1],m=x;else if(m&&v.label<m[2])v.label=m[2],v.ops.push(x);else{m[2]&&v.ops.pop();v.trys.pop();continue}}x=e.call(d,v)}catch(D){x=[6,D],c=0}finally{b=m=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([A,B])}}var b,c,m,t,v={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return t={next:a(0),"throw":a(1),"return":a(2)},"function"==
typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t}function z(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return u});f.d(h,"b",function(){return w});f.d(h,"e",function(){return C});f.d(h,"g",function(){return z});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(p,h){p.exports=K},165:function(p,h){p.exports=n},18:function(p,h){p.exports=O},340:function(p,h){p.exports=q},848:function(p,h,f){f.r(h);var g=f(0),k=f(340);p=f(18);var u=f(131),w=f.n(u);u=f(165);var C=f.n(u);f=function(z){function r(l){l=
z.call(this,l)||this;return l.state={options:[{value:"public",displayName:k.options["public"]},{value:"org",displayName:k.options.org},{value:"shared",displayName:k.options.shared},{value:"private",displayName:k.options["private"]}]},l.mapOptionsToToggles=l.mapOptionsToToggles.bind(l),l.handleToggleClick=l.handleToggleClick.bind(l),l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,z),r.prototype.render=function(l){return l(w.a,{key:"shared-accordion",title:k.shared,clearable:!!this.props.sharedFilter,
onClear:this.handleClearFilter},l("ul",{"class":"ftr-shared__tree",role:"tree","aria-label":k.shared},this.mapOptionsToToggles(l)))},r.prototype.mapOptionsToToggles=function(l){var d=this,e=this.state.options;return this.props.hideOrgGroupFilters&&(e=[this.state.options[0],this.state.options[3]]),e.map(function(a){return l(C.a,{count:d.props.counts[a.value],key:a.value,name:a.displayName,value:a.value,selectedToggle:d.props.sharedFilter?d.props.sharedFilter.value:void 0,childOptions:a.childOptions,
onToggleClick:d.handleToggleClick})})},r.prototype.handleToggleClick=function(l,d){var e=this.props.sharedFilter;e&&e.value===l?this.props.onSharedSelect():this.props.onSharedSelect({value:l,text:d})},r.prototype.handleClearFilter=function(){this.props.onSharedSelect()},r}(p.Component);h["default"]=f}})})},"arcgis-components/Filters/StatusFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/Toggle","dojo/i18n!../../Filters/StatusFilter/nls/resources"],
function(O,K,n,q){return function(p){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return p[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=p,h.c=f,h.d=function(g,k,u){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:u})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&
"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(h.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var w in g)h.d(u,w,function(C){return g[C]}.bind(null,w));return u},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=849)}({0:function(p,h,f){function g(d,e){function a(){this.constructor=
d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&
(a[b[c]]=d[b[c]])}return a}function u(d,e,a,b){var c,m=arguments.length,t=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)t=Reflect.decorate(d,e,a,b);else for(var v=d.length-1;0<=v;v--)(c=d[v])&&(t=(3>m?c(t):3<m?c(e,a,t):c(e,a))||t);return 3<m&&t&&Object.defineProperty(e,a,t),t}function w(d,e,a,b){return new (a||(a=Promise))(function(c,m){function t(B){try{A(b.next(B))}catch(x){m(x)}}function v(B){try{A(b["throw"](B))}catch(x){m(x)}}
function A(B){var x;B.done?c(B.value):(x=B.value,x instanceof a?x:new a(function(D){D(x)})).then(t,v)}A((b=b.apply(d,e||[])).next())})}function C(d,e){function a(A){return function(B){return function(x){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,c&&(m=2&x[0]?c["return"]:x[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,x[1])).done)return m;switch(c=0,m&&(x=[2&x[0],m.value]),x[0]){case 0:case 1:m=x;break;case 4:return v.label++,{value:x[1],done:!1};
case 5:v.label++;c=x[1];x=[0];continue;case 7:x=v.ops.pop();v.trys.pop();continue;default:if(!(m=v.trys,(m=0<m.length&&m[m.length-1])||6!==x[0]&&2!==x[0])){v=0;continue}if(3===x[0]&&(!m||x[1]>m[0]&&x[1]<m[3]))v.label=x[1];else if(6===x[0]&&v.label<m[1])v.label=m[1],m=x;else if(m&&v.label<m[2])v.label=m[2],v.ops.push(x);else{m[2]&&v.ops.pop();v.trys.pop();continue}}x=e.call(d,v)}catch(D){x=[6,D],c=0}finally{b=m=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([A,B])}}var b,c,m,t,v={label:0,
sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return t={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t}function z(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return u});f.d(h,"b",function(){return w});f.d(h,"e",function(){return C});f.d(h,"g",function(){return z});var r=function(d,
e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(p,h){p.exports=K},165:function(p,h){p.exports=n},18:function(p,
h){p.exports=O},407:function(p,h){p.exports=q},849:function(p,h,f){f.r(h);var g=f(0),k=f(407);p=f(18);var u=f(131),w=f.n(u);u=f(165);var C=f.n(u);f=function(z){function r(l){l=z.call(this,l)||this;return l.state={options:[{value:"authoritative",displayName:k.options.authoritative},{value:"deprecated",displayName:k.options.deprecated}]},l.mapOptionsToToggles=l.mapOptionsToToggles.bind(l),l.handleToggleClick=l.handleToggleClick.bind(l),l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,
z),r.prototype.render=function(l){return l(w.a,{key:"status-accordion",title:k.status,clearable:!!this.props.statusFilter,onClear:this.handleClearFilter},l("ul",{"aria-label":k.status,"class":"ftr-status__tree",role:"tree"},this.mapOptionsToToggles(l)))},r.prototype.mapOptionsToToggles=function(l){var d=this;return this.state.options.map(function(e){return l(C.a,{key:e.value,name:e.displayName,value:e.value,selectedToggle:d.props.statusFilter?d.props.statusFilter.value:void 0,childOptions:e.childOptions,
onToggleClick:d.handleToggleClick})})},r.prototype.handleToggleClick=function(l,d){var e=this.props.statusFilter;e&&e.value===l?this.props.onStatusSelect():this.props.onStatusSelect({value:l,text:d})},r.prototype.handleClearFilter=function(){this.props.onStatusSelect()},r}(p.Component);h["default"]=f}})})},"arcgis-components/Filters/FolderFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/FolderFilter/nls/resources"],function(O,K,
n){return function(q){function p(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return q[f].call(g.exports,g,g.exports,p),g.l=!0,g.exports}var h={};return p.m=q,p.c=h,p.d=function(f,g,k){p.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},p.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},p.t=function(f,g){if((1&g&&(f=p(f)),8&g)||4&g&&"object"==typeof f&&
f&&f.__esModule)return f;var k=Object.create(null);if(p.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)p.d(k,u,function(w){return f[w]}.bind(null,u));return k},p.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return p.d(g,"a",g),g},p.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},p.p="",p(p.s=844)}({0:function(q,p,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&
null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");z(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}
function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var t=l.length-1;0<=t;t--)(b=l[t])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function u(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(A){try{v(a.next(A))}catch(B){c(B)}}function t(A){try{v(a["throw"](A))}catch(B){c(B)}}function v(A){var B;
A.done?b(A.value):(B=A.value,B instanceof e?B:new e(function(x){x(B)})).then(m,t)}v((a=a.apply(l,d||[])).next())})}function w(l,d){function e(v){return function(A){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++;
b=B[1];B=[0];continue;case 7:B=t.ops.pop();t.trys.pop();continue;default:if(!(c=t.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){t=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))t.label=B[1];else if(6===B[0]&&t.label<c[1])t.label=c[1],c=B;else if(c&&t.label<c[2])t.label=c[2],t.ops.push(B);else{c[2]&&t.ops.pop();t.trys.pop();continue}}B=d.call(l,t)}catch(x){B=[6,x],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([v,A])}}var a,b,c,m,t={label:0,sent:function(){if(1&
c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(p,"d",function(){return f});h.d(p,"a",function(){return r});h.d(p,"f",function(){return g});h.d(p,"c",function(){return k});h.d(p,"b",function(){return u});h.d(p,"e",function(){return w});h.d(p,"g",function(){return C});var z=function(l,d){return(z=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},131:function(q,p){q.exports=K},18:function(q,p){q.exports=O},339:function(q,p,h){h.d(p,"a",
function(){return f});var f=function(g){return function(k){13===k.keyCode&&g(k)}}},358:function(q,p){q.exports=n},844:function(q,p,h){h.r(p);var f=h(0),g=h(358);q=h(18);var k=h(131),u=h.n(k),w=h(339);h=function(C){function z(r){r=C.call(this,r)||this;return r.handleToggleKeyDown=Object(w.a)(r.handleToggleFilter.bind(r)),r.handleClearKeyDown=Object(w.a)(r.handleClearFilter.bind(r)),r.state={filterString:""},r.handleFilterStringChange=r.handleFilterStringChange.bind(r),r.handleToggleFilter=r.handleToggleFilter.bind(r),
r.handleClearFilter=r.handleClearFilter.bind(r),r.mapFoldersToLinks=r.mapFoldersToLinks.bind(r),r}return Object(f.d)(z,C),z.prototype.render=function(r){return r(u.a,{key:"folder-accordion",title:g.folders,clearable:!!this.props.folderFilter,onClear:this.handleClearFilter,padding:!1},r("div",{"class":"ftr-folder__input-area"},r("input",{"class":"ftr-folder__input",type:"search",placeholder:g.filterFolders,"aria-label":g.filterFolders,oninput:this.handleFilterStringChange,value:this.state.filterString})),
r("ul",{"class":"ftr-folder__list"},this.mapFoldersToLinks(r)))},z.prototype.handleFilterStringChange=function(r){this.setState({filterString:r.target.value})},z.prototype.handleToggleFilter=function(r){var l=r.target.dataset;r=l.id;l=l.title;this.props.folderFilter&&this.props.folderFilter.id===r||this.props.onFolderSelect({id:r,title:l})},z.prototype.handleClearFilter=function(){this.props.folderFilter&&this.props.onFolderSelect()},z.prototype.preventCloseDropdown=function(r){r.stopPropagation()},
z.prototype.mapFoldersToLinks=function(r){var l=this,d={"ftr-folder__link":!0,"ftr-folder__link--active":!this.props.folderFilter};return this.props.availableFolders?[r("li",{"class":"ftr-folder__item",key:"all-user-content"},r("a",{classes:d,"data-id":"all-folder-content","data-title":g.allFolders,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},this.props.folderFilter?r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})):
r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})),g.allFolders))].concat(this.props.availableFolders.filter(function(e){return-1!==e.title.toLowerCase().indexOf(l.state.filterString.toLowerCase())}).map(function(e){var a,b=Object(f.a)(Object(f.a)({},d),{"ftr-folder__link--active":l.props.folderFilter&&
l.props.folderFilter.id===e.id,"ftr-folder__link--home":"root"===e.id});return a="root"===e.id?r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z"})):l.props.folderFilter&&l.props.folderFilter.id===e.id?r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M14 6V3l-6.7.002L5.98 2H3L1.7 3H0v11h14l2-8zM1 4h1.041L3.34 3h2.304l1.319 1.002L13 4v2H9L7.7 7h-5L1 11.408zm2.387 4H8.04l1.3-1h5.379l-1.5 6H1.458z"})):
r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M7.3 3.002L5.98 2H3L1.7 3H0v11h15V3zM14 6H1V4h1.04l1.3-1h2.304l1.319 1H14zm0 7H1V7h13z"})),r("li",{"class":"ftr-folder__item",key:e.id},r("a",{classes:b,"data-id":e.id,"data-title":e.title,onclick:l.handleToggleFilter,onkeydown:l.handleToggleKeyDown,tabindex:"0"},a,r("span",{"class":"ftr-folder__title"},e.title)))})):null},z}(q.Component);p["default"]=h}})})},"arcgis-components/Filters/GroupFilter/index":function(){define(["../../Component",
"../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/GroupFilter/nls/resources"],function(O,K,n){return function(q){function p(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return q[f].call(g.exports,g,g.exports,p),g.l=!0,g.exports}var h={};return p.m=q,p.c=h,p.d=function(f,g,k){p.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},p.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,
"__esModule",{value:!0})},p.t=function(f,g){if((1&g&&(f=p(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(p.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)p.d(k,u,function(w){return f[w]}.bind(null,u));return k},p.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return p.d(g,"a",g),g},p.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},p.p="",p(p.s=
845)}({0:function(q,p,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");z(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>
d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var t=l.length-1;0<=t;t--)(b=l[t])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function u(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(A){try{v(a.next(A))}catch(B){c(B)}}
function t(A){try{v(a["throw"](A))}catch(B){c(B)}}function v(A){var B;A.done?b(A.value):(B=A.value,B instanceof e?B:new e(function(x){x(B)})).then(m,t)}v((a=a.apply(l,d||[])).next())})}function w(l,d){function e(v){return function(A){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=
B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++;b=B[1];B=[0];continue;case 7:B=t.ops.pop();t.trys.pop();continue;default:if(!(c=t.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){t=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))t.label=B[1];else if(6===B[0]&&t.label<c[1])t.label=c[1],c=B;else if(c&&t.label<c[2])t.label=c[2],t.ops.push(B);else{c[2]&&t.ops.pop();t.trys.pop();continue}}B=d.call(l,t)}catch(x){B=[6,x],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?
B[1]:void 0,done:!0}}([v,A])}}var a,b,c,m,t={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(p,"d",function(){return f});h.d(p,"a",function(){return r});h.d(p,"f",function(){return g});h.d(p,"c",function(){return k});h.d(p,"b",function(){return u});h.d(p,"e",function(){return w});
h.d(p,"g",function(){return C});var z=function(l,d){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},131:function(q,p){q.exports=
K},18:function(q,p){q.exports=O},339:function(q,p,h){h.d(p,"a",function(){return f});var f=function(g){return function(k){13===k.keyCode&&g(k)}}},359:function(q,p){q.exports=n},845:function(q,p,h){h.r(p);var f=h(0),g=h(359);q=h(18);var k=h(131),u=h.n(k),w=h(339);h=function(C){function z(r){r=C.call(this,r)||this;return r.handleToggleKeyDown=Object(w.a)(r.handleToggleFilter.bind(r)),r.handleClearKeyDown=Object(w.a)(r.handleClearFilter.bind(r)),r.state={filterString:""},r.handleToggleFilter=r.handleToggleFilter.bind(r),
r.handleClearFilter=r.handleClearFilter.bind(r),r.mapGroupsToLinks=r.mapGroupsToLinks.bind(r),r}return Object(f.d)(z,C),z.prototype.render=function(r){var l=this;return r(u.a,{key:"group-accordion",title:this.props.title||g.groups,clearable:!!this.props.groupFilter,onClear:this.handleClearFilter,padding:!1},r("div",{"class":"ftr-group__input-area"},r("input",{"class":"ftr-group__input",type:"search",placeholder:g.filterGroups,"aria-label":g.filterGroups,oninput:function(d){l.setState({filterString:d.target.value})},
value:this.state.filterString})),r("ul",{"class":"ftr-group__list"},this.mapGroupsToLinks(r)))},z.prototype.handleToggleFilter=function(r){var l=r.id;r=r.title;this.props.groupFilter&&this.props.groupFilter.id===l||this.props.onGroupSelect({id:l,title:r})},z.prototype.handleClearFilter=function(){this.props.groupFilter&&this.props.onGroupSelect()},z.prototype.preventCloseDropdown=function(r){r.stopPropagation()},z.prototype.mapGroupsToLinks=function(r){var l=this;if(!this.props.availableGroups)return null;
var d={"ftr-group__link":!0,"ftr-group__link--active":!this.props.groupFilter};return[r("li",{"class":"ftr-group__item",key:"all-user-groups"},r("a",{classes:d,"data-id":"all-group-content","data-title":g.allGroups,onclick:this.handleClearFilter,onkeydown:this.handleClearKeyDown,tabindex:"0"},r("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
r("span",{"class":"ftr-group__link__text"},g.allGroups)))].concat(this.props.availableGroups.filter(function(e){return-1!==e.title.toLowerCase().indexOf(l.state.filterString.toLowerCase())}).map(function(e){var a,b=Object(f.a)(Object(f.a)({},d),{"ftr-group__link--active":(null===(a=l.props.groupFilter)||void 0===a?void 0:a.id)===e.id});return r("li",{"class":"ftr-group__item",key:e.id},r("a",{classes:b,onclick:function(){l.handleToggleFilter(e)},onkeydown:l.handleToggleKeyDown,tabindex:"0"},r("svg",
{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},r("path",{fill:"currentColor",d:"M8 1.998a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm-2 4h1v5a1 1 0 0 1-1-1H3a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h3.78a3.05 3.05 0 0 0-.596 1H4a1 1 0 0 0-1 1v4h1zm8-1a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm-2 1a1 1 0 1 1 1-1 1.001 1.001 0 0 1-1 1zm2 1H8a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1z"})),
r("span",{"class":"ftr-group__link__text"},e.title)))}))},z}(q.Component);p["default"]=h}})})},"arcgis-components/Filters/TagsFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","dojo/i18n!../../Filters/TagsFilter/nls/resources","../../Buttons/CheckToggle"],function(O,K,n,q){return function(p){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return p[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=p,h.c=f,h.d=
function(g,k,u){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:u})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&g&&g.__esModule)return g;var u=Object.create(null);if(h.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var w in g)h.d(u,w,function(C){return g[C]}.bind(null,
w));return u},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=850)}({0:function(p,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a=
{},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}function u(d,e,a,b){var c,m=arguments.length,t=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)t=Reflect.decorate(d,e,a,b);
else for(var v=d.length-1;0<=v;v--)(c=d[v])&&(t=(3>m?c(t):3<m?c(e,a,t):c(e,a))||t);return 3<m&&t&&Object.defineProperty(e,a,t),t}function w(d,e,a,b){return new (a||(a=Promise))(function(c,m){function t(B){try{A(b.next(B))}catch(x){m(x)}}function v(B){try{A(b["throw"](B))}catch(x){m(x)}}function A(B){var x;B.done?c(B.value):(x=B.value,x instanceof a?x:new a(function(D){D(x)})).then(t,v)}A((b=b.apply(d,e||[])).next())})}function C(d,e){function a(A){return function(B){return function(x){if(b)throw new TypeError("Generator is already executing.");
for(;v;)try{if(b=1,c&&(m=2&x[0]?c["return"]:x[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,x[1])).done)return m;switch(c=0,m&&(x=[2&x[0],m.value]),x[0]){case 0:case 1:m=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++;c=x[1];x=[0];continue;case 7:x=v.ops.pop();v.trys.pop();continue;default:if(!(m=v.trys,(m=0<m.length&&m[m.length-1])||6!==x[0]&&2!==x[0])){v=0;continue}if(3===x[0]&&(!m||x[1]>m[0]&&x[1]<m[3]))v.label=x[1];else if(6===x[0]&&v.label<m[1])v.label=
m[1],m=x;else if(m&&v.label<m[2])v.label=m[2],v.ops.push(x);else{m[2]&&v.ops.pop();v.trys.pop();continue}}x=e.call(d,v)}catch(D){x=[6,D],c=0}finally{b=m=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([A,B])}}var b,c,m,t,v={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return t={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t}function z(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=
e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return u});f.d(h,"b",function(){return w});f.d(h,"e",function(){return C});f.d(h,"g",function(){return z});var r=function(d,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,
a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(p,h){p.exports=K},18:function(p,h){p.exports=O},360:function(p,h){p.exports=n},371:function(p,h){p.exports=q},850:function(p,h,f){f.r(h);var g=f(0),k=f(360);p=f(18);var u=f(131),w=f.n(u);u=f(371);var C=f.n(u);f=function(z){function r(l){l=z.call(this,l)||this;return l.handleFilterStringChange=l.handleFilterStringChange.bind(l),
l.handleToggleClick=l.handleToggleClick.bind(l),l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,z),r.prototype.render=function(l){return l(w.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:k.tags,clearable:!!this.props.tagsFilter,onClear:this.handleClearFilter,padding:!1},l("div",{"class":"ftr-tags__input-area"},l("input",{"class":"ftr-tags__input",type:"search",placeholder:k.filterTags,"aria-label":k.filterTags,oninput:this.handleFilterStringChange,
value:this.props.filterString})),l("ul",{"class":"ftr-tags__tree",role:"tree","aria-label":k.tags},0<this.props.availableTags.length?this.mapTagsToToggles(l):l("p",{"class":"ftr-tags__none"},k.noTags)))},r.prototype.mapTagsToToggles=function(l){var d=this;return this.props.availableTags.map(function(e){return l(C.a,{key:e.value,name:e.value,value:e.value,selectedToggles:d.props.tagsFilter?d.props.tagsFilter:void 0,onToggleClick:d.handleToggleClick})})},r.prototype.handleToggleClick=function(l,d){var e,
a=this.props.tagsFilter;if(a&&a[l]){var b=Object(g.a)({},a);delete b[l];0<Object.keys(b).length?this.props.onTagSelect(b):this.props.onTagSelect()}else a?this.props.onTagSelect(Object(g.a)(Object(g.a)({},a),((b={})[l]=!0,b))):this.props.onTagSelect(((e={})[l]=!0,e))},r.prototype.handleFilterStringChange=function(l){l.preventDefault();this.props.onFilterStringChange(l.target.value)},r.prototype.handleClearFilter=function(){this.props.tagsFilter&&this.props.onTagSelect()},r}(p.Component);h["default"]=
f}})})},"arcgis-components/Buttons/CheckToggle":function(){define(["../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,
"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=
827)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>
r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}
function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=
v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?
v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});
q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(K,n){K.exports=
O},827:function(K,n,q){function p(g,k,u,w,C){return u?u.map(function(z){return g(f,{key:z.value,name:z.displayName,value:k+"/"+z.value,selectedToggles:C,childOptions:z.children,onToggleClick:w})}):null}q.r(n);var h=q(0),f=function(g){function k(u){u=g.call(this,u)||this;return u.handleToggleClick=u.handleToggleClick.bind(u),u}return Object(h.d)(k,g),k.prototype.render=function(u){var w=this.props,C=w.name,z=w.value,r=w.selectedToggles,l=w.childOptions,d=w.onToggleClick;w=w.showChildren;var e=!(!r||
!r[z]),a={"btn-check-toggle__item":!0,"btn-check-toggle__item--active":e},b={"btn-check-toggle__button":!0,"btn-check-toggle__button--active":e},c=null;return l&&(c=u("ul",{"class":"btn-check-toggle__sub-list"},p(u,z,l,d,r))),u("li",{key:z,classes:a},u("button",{id:"toggle-"+z,key:z,classes:b,value:z,onmousedown:this.preventDefault,onclick:this.handleToggleClick,tabindex:"0"},u("span",{"class":"btn-check-toggle__text",key:"text"},C),this.props.count?u("span",{"class":"btn-check-toggle__count",key:"count"},
"\u00a0","("+this.props.count+")"):null),w||e?c:null)},k.prototype.preventDefault=function(u){u.preventDefault()},k.prototype.handleToggleClick=function(u){u.preventDefault();this.props.onToggleClick(this.props.value,this.props.name)},k}(q(16).Component);n["default"]=f}})})},"arcgis-components/Filters/CollaborationFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../Buttons/CheckToggle","dojo/i18n!../../Filters/CollaborationFilter/nls/resources"],function(O,
K,n,q){return function(p){function h(g){if(f[g])return f[g].exports;var k=f[g]={i:g,l:!1,exports:{}};return p[g].call(k.exports,k,k.exports,h),k.l=!0,k.exports}var f={};return h.m=p,h.c=f,h.d=function(g,k,u){h.o(g,k)||Object.defineProperty(g,k,{enumerable:!0,get:u})},h.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"});Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,k){if((1&k&&(g=h(g)),8&k)||4&k&&"object"==typeof g&&
g&&g.__esModule)return g;var u=Object.create(null);if(h.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:g}),2&k&&"string"!=typeof g)for(var w in g)h.d(u,w,function(C){return g[C]}.bind(null,w));return u},h.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};return h.d(k,"a",k),k},h.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)},h.p="",h(h.s=851)}({0:function(p,h,f){function g(d,e){function a(){this.constructor=d}if("function"!=typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(d,e);d.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}function k(d,e){var a={},b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&0>e.indexOf(b)&&(a[b]=d[b]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(d);c<b.length;c++)0>e.indexOf(b[c])&&Object.prototype.propertyIsEnumerable.call(d,b[c])&&(a[b[c]]=d[b[c]])}return a}
function u(d,e,a,b){var c,m=arguments.length,t=3>m?e:null===b?b=Object.getOwnPropertyDescriptor(e,a):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)t=Reflect.decorate(d,e,a,b);else for(var v=d.length-1;0<=v;v--)(c=d[v])&&(t=(3>m?c(t):3<m?c(e,a,t):c(e,a))||t);return 3<m&&t&&Object.defineProperty(e,a,t),t}function w(d,e,a,b){return new (a||(a=Promise))(function(c,m){function t(B){try{A(b.next(B))}catch(x){m(x)}}function v(B){try{A(b["throw"](B))}catch(x){m(x)}}function A(B){var x;
B.done?c(B.value):(x=B.value,x instanceof a?x:new a(function(D){D(x)})).then(t,v)}A((b=b.apply(d,e||[])).next())})}function C(d,e){function a(A){return function(B){return function(x){if(b)throw new TypeError("Generator is already executing.");for(;v;)try{if(b=1,c&&(m=2&x[0]?c["return"]:x[0]?c["throw"]||((m=c["return"])&&m.call(c),0):c.next)&&!(m=m.call(c,x[1])).done)return m;switch(c=0,m&&(x=[2&x[0],m.value]),x[0]){case 0:case 1:m=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++;
c=x[1];x=[0];continue;case 7:x=v.ops.pop();v.trys.pop();continue;default:if(!(m=v.trys,(m=0<m.length&&m[m.length-1])||6!==x[0]&&2!==x[0])){v=0;continue}if(3===x[0]&&(!m||x[1]>m[0]&&x[1]<m[3]))v.label=x[1];else if(6===x[0]&&v.label<m[1])v.label=m[1],m=x;else if(m&&v.label<m[2])v.label=m[2],v.ops.push(x);else{m[2]&&v.ops.pop();v.trys.pop();continue}}x=e.call(d,v)}catch(D){x=[6,D],c=0}finally{b=m=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([A,B])}}var b,c,m,t,v={label:0,sent:function(){if(1&
m[0])throw m[1];return m[1]},trys:[],ops:[]};return t={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t}function z(d,e){for(var a=0,b=e.length,c=d.length;a<b;a++,c++)d[c]=e[a];return d}f.d(h,"d",function(){return g});f.d(h,"a",function(){return l});f.d(h,"f",function(){return k});f.d(h,"c",function(){return u});f.d(h,"b",function(){return w});f.d(h,"e",function(){return C});f.d(h,"g",function(){return z});var r=function(d,e){return(r=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(d,e)},l=function(){return(l=Object.assign||function(d){for(var e,a=1,b=arguments.length;a<b;a++)for(var c in e=arguments[a])Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);return d}).apply(this,arguments)};Object.create;Object.create},131:function(p,h){p.exports=K},18:function(p,h){p.exports=O},371:function(p,h){p.exports=
n},427:function(p,h){p.exports=q},851:function(p,h,f){f.r(h);var g=f(0),k=f(427);p=f(18);var u=f(131),w=f.n(u);u=f(371);var C=f.n(u);f=function(z){function r(l){l=z.call(this,l)||this;return l.handleToggleClick=l.handleToggleClick.bind(l),l.handleClearFilter=l.handleClearFilter.bind(l),l}return Object(g.d)(r,z),r.prototype.render=function(l){return l(w.a,{key:this.props.key+"-accordion",title:this.props.title?this.props.title:k.collaboration,clearable:this.getSelected(),onClear:this.handleClearFilter},
l("ul",{"class":"ftr-collaborations__tree",role:"tree","aria-label":k.collaborations},0<Object.keys(this.props.collaborationsFilter).length?this.mapCollaborationsToToggles(l):l("p",{"class":"ftr-collaborations__none"},k.noCollaborations)))},r.prototype.getSelected=function(){var l=this.props.collaborationsFilter;return Object.keys(this.props.collaborationsFilter).some(function(d){var e;return!!l[d].selected||(null===(e=l[d].participants)||void 0===e?void 0:e.some(function(a){return!!a.selected}))})},
r.prototype.mapCollaborationsToToggles=function(l){var d=this;this.props.collaborationsFilter.sort(function(b,c){return b.label<c.label?-1:b.label>c.label?1:0});var e=this.props.collaborationsFilter,a=Object.keys(this.props.collaborationsFilter).map(function(b){var c,m=((c={})[b]=e[b].selected,c);c=e[b].participants?e[b].participants.map(function(t){var v;return m=Object(g.a)(Object(g.a)({},m),((v={})[b+"/"+t.value]=t.selected,v)),{value:t.value,displayName:t.label,onToggleClick:d.handleToggleClick,
selectedToggles:m}}):[];return l(C.a,{key:e[b].value,name:e[b].label,value:e[b].value,childOptions:c,selectedToggles:m,onToggleClick:d.handleToggleClick,showChildren:!0})});return a.sort(function(b,c){if(b.children[0].children[0].text&&c.children[0].children[0].text){var m=b.children[0].children[0].text.toLowerCase(),t=c.children[0].children[0].text.toLowerCase();if(m<t)return-1;if(m>t)return 1}return 0}),a},r.prototype.handleToggleClick=function(l,d){var e=this.props.collaborationsFilter;if(e){if(e[l])e[l].selected||
Object.keys(e).forEach(function(b){return e[b].selected=!1}),Object.keys(e).forEach(function(b){e[b].participants.forEach(function(c){c.selected=!1})}),e[l].selected=!e[l].selected;else{var a=l.split("/")[1];Object.keys(e).forEach(function(b){e[b].selected=!1;e[b].participants.forEach(function(c){c.value===a?c.selected=!c.selected:c.selected=!1})})}this.props.onCollaborationSelect(e)}},r.prototype.handleFilterStringChange=function(l){},r.prototype.handleClearFilter=function(){if(this.props.collaborationsFilter){var l=
this.props.collaborationsFilter;Object.keys(l).forEach(function(d){l[d].selected=!1;l[d].participants.forEach(function(e){return e.selected=!1})});this.props.onCollaborationSelect(l)}},r}(p.Component);h["default"]=f}})})},"arcgis-components/Dropdowns/FilterController/index":function(){define(["../../Component","../../Buttons/FilterChip/index","dojo/i18n!../../Dropdowns/FilterController/nls/resources"],function(O,K,n){return function(q){function p(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,
exports:{}};return q[f].call(g.exports,g,g.exports,p),g.l=!0,g.exports}var h={};return p.m=q,p.c=h,p.d=function(f,g,k){p.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},p.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},p.t=function(f,g){if((1&g&&(f=p(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(p.r(k),Object.defineProperty(k,
"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)p.d(k,u,function(w){return f[w]}.bind(null,u));return k},p.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return p.d(g,"a",g),g},p.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},p.p="",p(p.s=838)}({0:function(q,p,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");
z(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,
e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var t=l.length-1;0<=t;t--)(b=l[t])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function u(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(A){try{v(a.next(A))}catch(B){c(B)}}function t(A){try{v(a["throw"](A))}catch(B){c(B)}}function v(A){var B;A.done?b(A.value):(B=A.value,B instanceof e?B:new e(function(x){x(B)})).then(m,t)}v((a=a.apply(l,
d||[])).next())})}function w(l,d){function e(v){return function(A){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++;b=B[1];B=[0];continue;case 7:B=t.ops.pop();t.trys.pop();continue;default:if(!(c=t.trys,(c=0<c.length&&
c[c.length-1])||6!==B[0]&&2!==B[0])){t=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))t.label=B[1];else if(6===B[0]&&t.label<c[1])t.label=c[1],c=B;else if(c&&t.label<c[2])t.label=c[2],t.ops.push(B);else{c[2]&&t.ops.pop();t.trys.pop();continue}}B=d.call(l,t)}catch(x){B=[6,x],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([v,A])}}var a,b,c,m,t={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},
"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(p,"d",function(){return f});h.d(p,"a",function(){return r});h.d(p,"f",function(){return g});h.d(p,"c",function(){return k});h.d(p,"b",function(){return u});h.d(p,"e",function(){return w});h.d(p,"g",function(){return C});var z=function(l,d){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,
a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},18:function(q,p){q.exports=O},426:function(q,p){q.exports=K},443:function(q,p){q.exports=n},838:function(q,p,h){function f(C){C.preventDefault()}h.r(p);var g=h(0),k=h(443);q=h(18);var u=
h(426),w=h.n(u);h=function(C){function z(r){r=C.call(this,r)||this;return r.toggleFilterDisplay=r.toggleFilterDisplay.bind(r),r.state={open:!!r.props.startOpen},r}return Object(g.d)(z,C),z.prototype.render=function(r){var l,d=Object(g.g)([],this.props.filters),e={"filter-controller__expand-btn":!0,"filter-controller__expand-btn--active":this.state.open,"filter-controller__expand-btn--dark":"light"===this.props.theme},a={"filter-controller__container":!0,"filter-controller__container--light":"light"===
this.props.theme},b={"filter-controller__chip-container":!0,"margin-right-half":!0,"filter-controller__chip-container--full-width":"full-width"===this.props.mode},c="light"===this.props.theme?"dark":"light";1<this.props.filters.length&&(l=r("button",{key:"filter-controller-toggle-btn",classes:e,onclick:this.toggleFilterDisplay,onmousedown:f},(this.state.open?"-":"+")+" "+(this.props.filters.length-1)));if(e=d.shift())return this.state.open?r("div",{classes:a},r("span",{"class":"filter-controller__label margin-right-half"},
this.props.showLabel),r("div",{classes:b},r(w.a,{filterId:e.filterId,handleRemoveFilter:e.onRemove,key:e.filterId,text:e.text,theme:c,"static":e["static"]}),d.map(function(m){return r(w.a,{filterId:m.filterId,handleRemoveFilter:m.onRemove,key:m.filterId,text:m.text,theme:c,"static":m["static"]})}),l,this.clearableFilters(Object(g.g)([e],d))?r("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},k.clearAll):null)):r("div",{classes:a},r("span",{"class":"filter-controller__label"},
this.props.showLabel),r("div",{classes:b},r(w.a,{filterId:e.filterId,handleRemoveFilter:e.onRemove,key:e.filterId,text:e.text,theme:c,"static":e["static"]}),l,this.clearableFilters(Object(g.g)([e],d))?r("button",{"class":"filter-controller__clear-btn",onclick:this.props.onClear},k.clearAll):null))},z.prototype.toggleFilterDisplay=function(){this.setState({open:!this.state.open})},z.prototype.clearableFilters=function(r){return r.some(function(l){return!l["static"]})},z}(q.Component);p["default"]=
h}})})},"arcgis-components/Buttons/FilterChip/index":function(){define(["../../Component","dojo/i18n!../../Buttons/FilterChip/nls/resources"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},q.p="",q(q.s=828)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<
e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}
function m(v){try{t(e["throw"](v))}catch(A){b(A)}}function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=
A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?
A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});
p.d(q,"g",function(){return w});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},18:function(n,q){n.exports=
O},522:function(n,q){n.exports=K},828:function(n,q,p){p.r(q);var h=p(0),f=p(522);n=function(g){function k(){return null!==g&&g.apply(this,arguments)||this}return Object(h.d)(k,g),k.prototype.render=function(u){var w=this.props,C=w.filterId,z=w.handleRemoveFilter;w=w.text;return u("span",{id:"filter-chip-"+w,classes:{"btn-ftr-chip__label":!0,"btn-ftr-chip__label--dark":"dark"===this.props.theme},key:w},w,this.props["static"]?null:u("button",{"aria-label":f.clear+": "+w,value:C,id:"filter-chip-x-"+
w,"class":"btn-ftr-chip__remove",onclick:z},u("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    display: block;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding-right: .15em;\n                                    transform: rotate(360deg);\n                                "},
u("path",{d:"M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"}))))},k}(p(18).Component);q["default"]=n}})})},"arcgis-components/Management/LazyLoader":function(){define(["../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,
h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=
p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=871)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,
d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?
e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=
1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,
"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<
d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(K,n){K.exports=O},871:function(K,n,q){q.r(n);var p=q(0);K=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Object(p.d)(f,h),f.prototype.componentDidConnect=function(){var g=this;try{var k=window.require.on("error",function(u){throw Error("Could not lazy-load the '"+g.props.path+"' component. The 'arcgis-components' submodule MUST be registered as 'arcgis-components' in dojoConfig packages in order for lazy component loading to function properly.");
});window.require(["arcgis-components/"+this.props.path],function(u){k.remove();g.setState({Cmp:u["default"]})})}catch(u){this.props.onFail&&this.props.onFail(u)}},f.prototype.render=function(g){return this.state.Cmp?g(this.state.Cmp,Object(p.a)({},this.props.componentProps)):this.props.children&&this.props.children[0]?this.props.children[0]:g("div")},f}(q(16).Component);n["default"]=K}})})},"arcgis-components/ItemCards/AnalysisCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/date/locale dojo/number ../../Badges/Retired ../../Loaders/LoaderIcon ../../Dropdowns/Ago2018Dropdown ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e){return function(a){function b(m){if(c[m])return c[m].exports;var t=c[m]={i:m,l:!1,exports:{}};return a[m].call(t.exports,t,t.exports,b),t.l=!0,t.exports}var c={};return b.m=a,b.c=c,b.d=function(m,t,v){b.o(m,t)||Object.defineProperty(m,t,{enumerable:!0,get:v})},b.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})},b.t=function(m,t){if((1&
t&&(m=b(m)),8&t)||4&t&&"object"==typeof m&&m&&m.__esModule)return m;var v=Object.create(null);if(b.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:m}),2&t&&"string"!=typeof m)for(var A in m)b.d(v,A,function(B){return m[B]}.bind(null,A));return v},b.n=function(m){var t=m&&m.__esModule?function(){return m["default"]}:function(){return m};return b.d(t,"a",t),t},b.o=function(m,t){return Object.prototype.hasOwnProperty.call(m,t)},b.p="",b(b.s=862)}({0:function(a,b,c){function m(y,F){function G(){this.constructor=
y}if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");D(y,F);y.prototype=null===F?Object.create(F):(G.prototype=F.prototype,new G)}function t(y,F){var G={},H;for(H in y)Object.prototype.hasOwnProperty.call(y,H)&&0>F.indexOf(H)&&(G[H]=y[H]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(H=Object.getOwnPropertySymbols(y);I<H.length;I++)0>F.indexOf(H[I])&&Object.prototype.propertyIsEnumerable.call(y,H[I])&&
(G[H[I]]=y[H[I]])}return G}function v(y,F,G,H){var I,N=arguments.length,M=3>N?F:null===H?H=Object.getOwnPropertyDescriptor(F,G):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(y,F,G,H);else for(var J=y.length-1;0<=J;J--)(I=y[J])&&(M=(3>N?I(M):3<N?I(F,G,M):I(F,G))||M);return 3<N&&M&&Object.defineProperty(F,G,M),M}function A(y,F,G,H){return new (G||(G=Promise))(function(I,N){function M(Z){try{R(H.next(Z))}catch(T){N(T)}}function J(Z){try{R(H["throw"](Z))}catch(T){N(T)}}
function R(Z){var T;Z.done?I(Z.value):(T=Z.value,T instanceof G?T:new G(function(X){X(T)})).then(M,J)}R((H=H.apply(y,F||[])).next())})}function B(y,F){function G(R){return function(Z){return function(T){if(H)throw new TypeError("Generator is already executing.");for(;J;)try{if(H=1,I&&(N=2&T[0]?I["return"]:T[0]?I["throw"]||((N=I["return"])&&N.call(I),0):I.next)&&!(N=N.call(I,T[1])).done)return N;switch(I=0,N&&(T=[2&T[0],N.value]),T[0]){case 0:case 1:N=T;break;case 4:return J.label++,{value:T[1],done:!1};
case 5:J.label++;I=T[1];T=[0];continue;case 7:T=J.ops.pop();J.trys.pop();continue;default:if(!(N=J.trys,(N=0<N.length&&N[N.length-1])||6!==T[0]&&2!==T[0])){J=0;continue}if(3===T[0]&&(!N||T[1]>N[0]&&T[1]<N[3]))J.label=T[1];else if(6===T[0]&&J.label<N[1])J.label=N[1],N=T;else if(N&&J.label<N[2])J.label=N[2],J.ops.push(T);else{N[2]&&J.ops.pop();J.trys.pop();continue}}T=F.call(y,J)}catch(X){T=[6,X],I=0}finally{H=N=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([R,Z])}}var H,I,N,M,J={label:0,
sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return M={next:G(0),"throw":G(1),"return":G(2)},"function"==typeof Symbol&&(M[Symbol.iterator]=function(){return this}),M}function x(y,F){for(var G=0,H=F.length,I=y.length;G<H;G++,I++)y[I]=F[G];return y}c.d(b,"d",function(){return m});c.d(b,"a",function(){return E});c.d(b,"f",function(){return t});c.d(b,"c",function(){return v});c.d(b,"b",function(){return A});c.d(b,"e",function(){return B});c.d(b,"g",function(){return x});var D=function(y,
F){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,H){G.__proto__=H}||function(G,H){for(var I in H)Object.prototype.hasOwnProperty.call(H,I)&&(G[I]=H[I])})(y,F)},E=function(){return(E=Object.assign||function(y){for(var F,G=1,H=arguments.length;G<H;G++)for(var I in F=arguments[G])Object.prototype.hasOwnProperty.call(F,I)&&(y[I]=F[I]);return y}).apply(this,arguments)};Object.create;Object.create},112:function(a,b){a.exports=K},117:function(a,b,c){c.d(b,"a",function(){return t});
var m=c(0);a=c(15);var t=Object(a.a)(function(v,A){var B=Object(m.a),x=Object(m.a)({},A),D=A.type,E=A.typeKeywords?A.typeKeywords:[],y=null==D?void 0:D.toLowerCase(),F=!1,G=!1,H=D=!1;if("ogcfeatureserver"===y)E="featureshosted";else if(0<(null==y?void 0:y.indexOf("service"))||"feature collection"===y||"kml"===y||"wms"===y||"wmts"===y||"wfs"===y){var I=-1<E.indexOf("Hosted Service");"feature service"===y||"feature collection"===y||"kml"===y||"wfs"===y?(H=-1<E.indexOf("Table"),F=-1<E.indexOf("Route Layer"),
G=-1<E.indexOf("Markup"),E=(D=-1!==E.indexOf("Spatiotemporal"))&&H?"spatiotemporaltable":H?"table":F?"routelayer":G?"markup":D?"spatiotemporal":I?"featureshosted":"features"):"map service"===y||"wms"===y||"wmts"===y?E=I||-1<E.indexOf("Tiled")||"wmts"===y?"maptiles":"mapimages":"scene service"===y?E=-1<E.indexOf("Line")?"sceneweblayerline":-1<E.indexOf("3DObject")?"sceneweblayermultipatch":-1<E.indexOf("Point")?"sceneweblayerpoint":-1<E.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<E.indexOf("PointCloud")?
"sceneweblayerpointcloud":-1<E.indexOf("Polygon")?"sceneweblayerpolygon":-1<E.indexOf("Building")?"sceneweblayerbuilding":-1<E.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===y?(D=-1<E.indexOf("Elevation 3D Layer"),E=-1<E.indexOf("Tiled Imagery"),E=D?"elevationlayer":E?"tiledimagerylayer":"imagery"):E="stream service"===y?"streamlayer":"vector tile service"===y?"vectortile":"datastore catalog service"===y?"datastorecollection":"geocoding service"===y?"geocodeservice":"geoprocessing service"===
y&&-1<E.indexOf("Web Tool")?"tool":"layers"}else E="web map"===y||"cityengine web scene"===y?"maps":"web scene"===y?-1<E.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===y&&-1<(null==E?void 0:E.indexOf("configurableApp"))?"instantapps":"web mapping application"===y||"mobile application"===y||"application"===y||"operation view"===y||"desktop application"===y?"apps":"map document"===y||"map package"===y||"published map"===y||"scene document"===y||"globe document"===
y||"basemap package"===y||"mobile basemap package"===y||"mobile map package"===y||"project package"===y||"project template"===y||"pro map"===y||"layout"===y||"layer"===y&&-1<E.indexOf("ArcGIS Pro")||"explorer map"===y&&-1<E.indexOf("Explorer Document")?"mapsgray":"service definition"===y||"csv"===y||"administrative report"===y||"shapefile"===y||"cad drawing"===y||"geojson"===y||"360 vr experience"===y||"netcdf"===y?"datafiles":"explorer add in"===y||"desktop add in"===y||"windows viewer add in"===
y||"windows viewer configuration"===y?"appsgray":"arcgis pro add in"===y||"arcgis pro configuration"===y?"addindesktop":"rule package"===y||"file geodatabase"===y||"csv collection"===y||"kml collection"===y||"windows mobile package"===y||"map template"===y||"desktop application template"===y||"arcpad package"===y||"code sample"===y||"form"===y||"document link"===y||"vector tile package"===y||"operations dashboard add in"===y||"rules package"===y||"image"===y||"workflow manager package"===y||"explorer map"===
y&&-1<E.indexOf("Explorer Mapping Application")||-1<E.indexOf("Document")?"datafilesgray":"network analysis service"===y||"geoprocessing service"===y||"geodata service"===y||"geometry service"===y||"geoprocessing package"===y||"locator package"===y||"geoprocessing sample"===y||"workflow manager service"===y||"raster function template"===y||"deep learning package"===y?"toolsgray":"layer"===y||"layer package"===y||"explorer layer"===y?"layersgray":"scene package"===y?"scenepackage":"tile package"===
y?"tilepackage":"storymap"===y?"storymap":"storymap theme"===y?"storymaptheme":"web experience"===y?"experiencebuilder":"web experience template"===y?"webexperiencetemplate":"task file"===y?"taskfile":"report template"===y?"report-template":"statistical data collection"===y?"statisticaldatacollection":"insights workbook"===y?"workbook":"insights model"===y?"insightsmodel":"insights page"===y?"insightspage":"hub initiative"===y?"hubinitiative":"hub page"===y?"hubpage":"hub site application"===y?"hubsite":
"relational database connection"===y?"relationaldatabaseconnection":"big data file share"===y||"data store"===y?"datastorecollection":"image collection"===y?"imagecollection":"desktop style"===y?"desktopstyle":"style"===y?"style":"dashboard"===y?"dashboard":"feed"===y?"feed":"real time analytic"===y?"realtimeanalytics":"big data analytic"===y?"bigdataanalytics":"notebook"===y?"notebook":"notebook code snippets"===y?"notebookcodesnippets":"maps";return B(x,{iconURI:v+"/"+E+"16.png"})})},120:function(a,
b,c){c.d(b,"a",function(){return t});var m=c(0);a=c(15);var t=Object(a.a)(function(v,A){var B=Object(m.a),x=Object(m.a)({},A),D,E,y="notebook"!==(null===(D=A.type)||void 0===D?void 0:D.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(E=A.type)||void 0===E?void 0:E.toLowerCase())&&(y="notebook-code-snippet-thumb.png");E=v.baseUrl+"/home/js/arcgisonline/css/images/"+y;D=(A.thumbnail&&(E=v.restUrl+"/content/items/"+A.id+"/info/"+A.thumbnail+(v.credential?"?token\x3d"+
v.credential.token:"")),E);return B(x,{thumbURI:D})})},121:function(a,b,c){c.d(b,"a",function(){return v});var m=c(0);a=c(15);var t=function(A,B){return B.description?B.description.replace(/src=('|")js\/jsapi\/esri\//g,function(x){return"src\x3d"+('"'===x[4]?'"':"'")+A.baseUrl+"/home/js/jsapi/esri/"}):void 0},v=Object(a.a)(function(A,B){return Object(m.a)(Object(m.a)({},B),{patchedDescription:t(A,B)})})},122:function(a,b,c){c.d(b,"a",function(){return A});var m=c(0),t=c(124);a=c(15);var v=c(58),A=
Object(a.a)(function(B,x){var D=Object(m.a),E=Object(m.a)({},x),y,F=x.type,G=x.typeKeywords||[],H=F,I=(null==B?void 0:B.portalUser)||(null==B?void 0:B.user);if("Feature Service"===F||"Feature Collection"===F){if(H=-1<G.indexOf("Table")?"Table":-1<G.indexOf("Route Layer")?"Route Layer":-1<G.indexOf("Markup")?"Markup":"Feature Layer",I&&Object(v.d)(x,I)&&-1<(null==G?void 0:G.indexOf("Hosted Service")))G=(null===(y=null===document||void 0===document?void 0:document.documentElement)||void 0===y?void 0:
y.lang)||"en",H=H+" ("+(t.a[G]||t.a[G.split("-")[0]]||t.a.en)+")"}else"Image Service"===F?(y=-1<G.indexOf("Elevation 3D Layer"),G=-1<G.indexOf("Tiled Imagery"),H=y?"Elevation Layer":G?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===F?H="Scene Layer":"Scene Package"===F?H="Scene Layer Package":"Stream Service"===F?H="Feature Layer":"Geocoding Service"===F?H="Locator":"Microsoft Powerpoint"===F?H="Microsoft PowerPoint":"OGCFeatureServer"===F?H="OGC Feature Layer":"GeoJson"===F?H="GeoJSON":
"Globe Service"===F?H="Globe Layer":"Vector Tile Service"===F?H="Tile Layer":"netCDF"===F?H="NetCDF":"Map Service"===F?H=-1===G.indexOf("Spatiotemporal")&&(-1<G.indexOf("Hosted Service")||-1<G.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":F&&-1<F.toLowerCase().indexOf("add in")?H=F.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===F?H="Big Data File Share":"Web Mapping Application"===F&&(null==G?0:G.includes("configurableApp"))?H="Instant App":"Data Store"===F&&(G.includes("cloudStore_amazon")||
G.includes("cloudStore_azure")?H+=" (Cloud)":(G.includes("fileShare")||G.includes("hdfs")||G.includes("hive")||G.includes("bigDataFileShare")&&G.includes("dataStore"))&&(H+=" (Big Data File Share)"));return D(E,{displayName:H})})},123:function(a,b,c){c.d(b,"a",function(){return v});var m=c(0);a=c(15);var t=function(A,B){var x=[],D=A.typeKeywords?A.typeKeywords:[];return A.contentStatus&&("org_authoritative"===A.contentStatus||"public_authoritative"===A.contentStatus?x.push("authoritative"):"deprecated"===
A.contentStatus&&x.push("deprecated")),A.origin&&x.push("collaboration"),A.groupDesignations&&-1<A.groupDesignations.indexOf("livingatlas")&&x.push("livingAtlas"),-1<D.indexOf("Requires Credits")?x.push("premium"):-1<D.indexOf("Requires Subscription")&&x.push("subscriber"),-1<D.indexOf("Public Data Collection")&&((null==B?void 0:B.portalUser)||(null==B?void 0:B.user))&&x.push("publicDataCollection"),"Solution"===A.type&&-1<A.typeKeywords.indexOf("ArcGIS Solution")&&x.push("solution"),B.isPortal&&
"Web Mapping Application"===A.type&&(-1<A.typeKeywords.indexOf("Story Map")&&x.push("retiredStoryMap"),function(E){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(y){var F,
G=-1<y.indexOf(".html");return-1<(null===(F=E.url)||void 0===F?void 0:F.indexOf("/apps/"+y+(G?"":"/")))})}(A)&&x.push("retiredApp")),x},v=Object(a.a)(function(A,B){return Object(m.a)(Object(m.a)({},B),{badges:t(B,A)})})},124:function(a,b,c){c.d(b,"a",function(){return m});var m={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},148:function(a,b,c){c.d(b,"a",function(){return t});var m=c(0);a=c(15);var t=Object(a.a)(function(v,A){var B=Object(m.a),x=Object(m.a)({},A);var D=A.thumbnail?v.restUrl+"/community/users/"+A.username+"/info/"+A.thumbnail+(v.credential?"?token\x3d"+v.credential.token:""):void 0;return B(x,{thumbURI:D})})},15:function(a,b,c){function m(v){return function B(){for(var x=this,D=[],E=0;E<arguments.length;E++)D[E]=
arguments[E];return D.length>=v.length?v.call.apply(v,Object(t.g)([this],D)):function(){for(var y=[],F=0;F<arguments.length;F++)y[F]=arguments[F];return B.call.apply(B,Object(t.g)(Object(t.g)([x],D),y))}}}c.d(b,"a",function(){return m});var t=c(0)},151:function(a,b){a.exports=n},178:function(a,b){a.exports=q},18:function(a,b){a.exports=O},233:function(a,b){a.exports=p},250:function(a,b){a.exports=h},273:function(a,b){a.exports=f},274:function(a,b){a.exports=g},275:function(a,b){a.exports=k},276:function(a,
b){a.exports=u},277:function(a,b){a.exports=w},278:function(a,b){a.exports=C},279:function(a,b){a.exports=z},280:function(a,b){a.exports=r},281:function(a,b){a.exports=l},282:function(a,b){a.exports=d},311:function(a,b){a.exports=e},5:function(a,b,c){function m(y){return 0===Object.keys(y).length&&y.constructor===Object}function t(y){return null!=y}function v(y,F){return D.apply(null,arguments)}function A(y,F){return E.apply(null,arguments)}c.d(b,"b",function(){return m});c.d(b,"a",function(){return t});
c.d(b,"e",function(){return x});c.d(b,"c",function(){return v});c.d(b,"d",function(){return A});var B=c(0);a=c(15);var x=Object(a.a)(function(y,F){var G=Object(B.a)({},F);return delete G[y],G}),D=Object(a.a)(function(y,F){return Object.keys(F).reduce(function(G,H){return G[H]=y(F[H],H,F),G},{})}),E=Object(a.a)(function(y,F){return Object.keys(F).reduce(function(G,H){return y(F[H],H,F)&&(G[H]=F[H]),G},{})})},51:function(a,b,c){function m(X){return!(!X.urlKey||!X.customBaseUrl)}function t(X){return X.role===
H.admin||X.role===H.accountAdmin}function v(X){return Object(M.a)(X.roleId)&&0<(X.roleId||"").length}function A(X){return!v(X)||v(X)&&-1<(X.privileges||[]).indexOf("portal:admin:viewItems")}function B(X){return-1<(X.privileges||[]).indexOf("portal:user:shareToOrg")}function x(X){return-1<(X.privileges||[]).indexOf("portal:user:shareToGroup")}function D(X){return-1<(X.privileges||[]).indexOf("portal:user:shareToPublic")}function E(X,aa){return y(X)||F(X)||aa.canSharePublic&&G(X)}function y(X){return-1<
(X.privileges||[]).indexOf("portal:admin:shareToGroup")}function F(X){return-1<(X.privileges||[]).indexOf("portal:admin:shareToOrg")}function G(X){return-1<(X.privileges||[]).indexOf("portal:admin:shareToPublic")}c.d(b,"l",function(){return R});c.d(b,"h",function(){return Z});c.d(b,"m",function(){return T});c.d(b,"k",function(){return m});c.d(b,"i",function(){return t});c.d(b,"j",function(){return v});c.d(b,"g",function(){return A});c.d(b,"b",function(){return B});c.d(b,"a",function(){return x});
c.d(b,"c",function(){return D});c.d(b,"d",function(){return y});c.d(b,"e",function(){return F});c.d(b,"f",function(){return G});var H,I=c(63),N=c(148),M=c(5),J=c(58);!function(X){X.user="org_user";X.accountUser="account_user";X.publisher="org_publisher";X.accountPublisher="account_publisher";X.admin="org_admin";X.accountAdmin="account_admin";X.viewer="iAAAAAAAAAAAAAAA";X.dataEditor="iBBBBBBBBBBBBBBB"}(H||(H={}));var R=function(X){var aa=X.items;return!!X.user.orgId&&aa.every(function(fa){return fa.isOrgItem})},
Z=function(X){var aa=X.items,fa=X.user,oa=X.portal;X=aa[0];var ua=Object(J.c)(X,fa),ha=v(fa),U=E(fa,oa);if(ha=Object(J.a)(X,fa)&&-1<(fa.privileges||[]).indexOf("portal:admin:updateItems")&&!ha)ha=!m(oa)||x(fa)||B(fa)||oa.canSharePublic&&D(fa)||E(fa,oa);oa=ha;return!(X.portal.isPortal&&X.owner!==fa.username&&-1<X.owner.indexOf("esri_"))&&(ua||oa||R({items:aa,user:fa})&&U)},T=function(X,aa){return Object(I.a)(Object(N.a)(X))(aa)}},58:function(a,b,c){function m(D,E){return(null==D?void 0:D.owner)===
E.username}function t(D,E){var y;if(!(y=m(D,E)))if(Object(A.a)(D.isAdmin))y=!!D.isAdmin;else{y=D.owner;var F="admin"===D.itemControl;y=!(D.portal.isPortal&&!m(D,E)&&F&&-1<y.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(y))&&F}return y}function v(D,E){return t(D,E)||"update"===D.itemControl}c.d(b,"d",function(){return m});c.d(b,"c",function(){return t});c.d(b,"a",function(){return v});c.d(b,"b",function(){return x});var A=c(5),B=c(51),x=function(D){var E=D.user,
y=D.items;D=D.portal;return Object(B.l)({items:y,user:E})&&Object(B.h)({items:y,user:E,portal:D})&&Object(B.g)(E)&&y[0].itemOwner||E}},63:function(a,b,c){function m(){for(var t=[],v=0;v<arguments.length;v++)t[v]=arguments[v];return function(A){return t.reduceRight(function(B,x){return x(B)},A)}}c.d(b,"a",function(){return m})},78:function(a,b,c){c.d(b,"a",function(){return D});c.d(b,"b",function(){return E});var m=c(63);a=c(5);var t=c(123),v=c(122),A=c(117),B=c(121),x=c(120),D=function(y,F,G){return Object(m.a)(Object(x.a)(y),
Object(B.a)(y),Object(A.a)(F),Object(v.a)(y),Object(t.a)(y))(G)},E=Object(m.a)(Object(a.e)("patchedDescription"),Object(a.e)("thumbURI"),Object(a.e)("iconURI"),Object(a.e)("displayName"),Object(a.e)("badges"))},862:function(a,b,c){c.r(b);var m=c(0),t=c(112);a=c(18);var v=c(151),A=c(178),B=c(250),x=c.n(B);B=c(274);var D=c.n(B);B=c(275);var E=c.n(B);B=c(276);var y=c.n(B);B=c(277);var F=c.n(B);B=c(278);var G=c.n(B);B=c(279);var H=c.n(B);B=c(280);var I=c.n(B);B=c(281);var N=c.n(B);B=c(311);var M=c.n(B);
B=c(282);var J=c.n(B);B=c(233);var R=c.n(B);B=c(273);var Z=c.n(B),T=c(78);c=function(X){function aa(fa){var oa=X.call(this,fa)||this;return oa.state={customActionsOpen:!1,inversedAction:fa.isSelected&&fa.isSelected(Object(T.b)(oa.props.item)),isLoading:!1},oa.handleActionDropdownToggle=oa.handleActionDropdownToggle.bind(oa),oa.handleCustomActionClick=oa.handleCustomActionClick.bind(oa),oa.handleMainActionClick=oa["handleMainActionClick"+(oa.props.loadOnMainAction?"Async":"")].bind(oa),oa}return Object(m.d)(aa,
X),aa.prototype.render=function(fa){var oa,ua=this,ha=this.props,U=ha.item;ha=ha.sortField;var ka=this.props.customActions?this.props.customActions.filter(function(ca){return ca.allowed(ua.props.item)}):[],W={"card-ac__container":!0,"card-ac__container-inverse-action":this.state.inversedAction,"card-mc__fader":this.props.loadOnMainAction,"card-mc__fader--loading":this.state.isLoading},Q={"card-ac__custom-actions":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle},
L={"card-ac__custom-action-btn":!0,"card-ac__btn":this.props.usePrimaryButtonStyle,"card-ac__secondary-btn":!this.props.usePrimaryButtonStyle};return oa="numviews"===ha?t.viewCount+": "+A.format(U.numViews):"avgrating"===ha?t.rating+": "+U.avgRating.toFixed(2):"created"===ha?t.created+": "+v.format(new Date(U.created),{selector:"date",formatLength:"short"}):t.updated+": "+v.format(new Date(U.modified),{selector:"date",formatLength:"short"}),fa("div",{classes:W,key:this.props.key},fa("div",{"class":"card-ac__details-container"},
fa("div",{"class":"card-ac__thumb-container"},fa("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-ac__thumbnail",style:"\n                                background-image: url("+U.thumbURI+");\n                            "})),fa("div",{"class":"card-ac__details"},fa("h4",{"class":"card-ac__title"},U.title),fa("div",{"class":"card-ac__info-row"},fa("div",{"class":"card-ac__icon-title-container"},fa("img",{src:U.iconURI,"class":"content-search-item-icon",
alt:""}),fa("span",{"class":"card-ac__author-text"},U.displayName+" "+t.by,fa("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?t.viewOrg:t.viewProfile,href:this.props.organization?this.props.organization.orgUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+U.owner,target:"_blank"}," "+(this.props.organization?this.props.organization.name:U.owner)))),fa("span",{"class":"card-ac__info-bullet","aria-hidden":"true"},"\u2022"),fa("span",{"class":"card-ac__info-string"},
oa)),fa("p",{"class":"card-ac__snippet"},fa("span",{"class":"card-ac__snippet-text"},U.snippet," "),fa("a",{"class":"card-ac__side-action card-ac__no-wrap",href:this.props.portal.baseUrl+"/home/item.html?id\x3d"+U.id,target:"_blank"},t.viewItem,fa("svg",{role:"img",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},fa("path",{d:"M10 1v1h3.293l-6.646 6.646 0.707 0.707 6.646-6.646v3.293h1v-5z"}),fa("path",{d:"M14 8v6h-12v-12h6v-1h-7v14h14v-7z"})))))),fa("div",
{"class":"card-ac__sub-container"},fa("div",{"class":"card-ac__badge-container card-ac__badge-container--regular card-ac__sub-group"},this.renderBadges(fa)),fa("div",{"class":"card-ac__badge-container card-ac__badge-container--small card-ac__sub-group"},this.renderBadges(fa,!0)),fa("div",{"class":"card-ac__action-container card-ac__sub-group"},fa("div",{"class":"card-ac__no-wrap"},this.renderMainActionButton(fa),0<ka.length?fa(Z.a,{key:U.id+"-action-dropdown",active:this.state.customActionsOpen,onToggle:this.handleActionDropdownToggle},
fa("span",{classes:Q,title:t.actions},fa("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},fa("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),fa("div",null,ka.map(function(ca,Y){return fa("button",{key:ca.name,"class":L,value:Y,onclick:ua.handleCustomActionClick},ca.name)}))):null))))},aa.prototype.renderLoaderIcon=function(fa){return this.props.loadOnMainAction&&this.state.isLoading?fa(x.a,{color:"#ffffff"}):null},aa.prototype.renderMainActionButton=function(fa){return fa("button",
{"class":"card-ac__btn "+(this.props.usePrimaryButtonStyle?"card-ac__primary-btn":"card-ac__secondary-btn"),onclick:this.handleMainActionClick.bind(this,this.state.inversedAction?"Inverse":"")},this.renderLoaderIcon(fa),this.props[this.state.inversedAction?"mainInverseActionTitle":"mainActionTitle"])},aa.prototype.renderBadges=function(fa,oa){var ua=this,ha=oa?"small":"regular";return this.props.item.badges.map(function(U){switch(U){case "authoritative":return fa(D.a,{size:ha,altOrg:ua.props.organization?
ua.props.organization.name:void 0});case "deprecated":return fa(y.a,{size:ha});case "collaboration":return fa(E.a,{size:ha});case "livingAtlas":return fa(F.a,{size:ha});case "marketplace":return fa(G.a,{size:ha});case "openData":return fa(H.a,{size:ha});case "premium":return fa(I.a,{size:ha,user:ua.props.portal.user});case "subscriber":return fa(N.a,{size:ha,user:ua.props.portal.user});case "solution":return fa(M.a,{size:ha});case "publicDataCollection":return fa(J.a,{size:ha});case "retiredStoryMap":return fa(R.a,
{size:ha,isRetiredStoryMap:!0});case "retiredApp":return fa(R.a,{size:ha})}return null})},aa.prototype.handleActionDropdownToggle=function(){this.setState({customActionsOpen:!this.state.customActionsOpen})},aa.prototype.handleMainActionClick=function(fa){this.props.mainAction([Object(T.b)(this.props.item)])},aa.prototype.handleCustomActionClick=function(fa){this.setState({customActionsOpen:!this.state.customActionsOpen});this.props.customActions&&this.props.customActions[fa.target.value]&&this.props.customActions[fa.target.value].onAction(Object(T.b)(this.props.item))},
aa}(a.Component);b["default"]=c}})})},"arcgis-components/Loaders/LoaderIcon":function(){define(function(){return function(O){function K(q){if(n[q])return n[q].exports;var p=n[q]={i:q,l:!1,exports:{}};return O[q].call(p.exports,p,p.exports,K),p.l=!0,p.exports}var n={};return K.m=O,K.c=n,K.d=function(q,p,h){K.o(q,p)||Object.defineProperty(q,p,{enumerable:!0,get:h})},K.r=function(q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"});Object.defineProperty(q,
"__esModule",{value:!0})},K.t=function(q,p){if((1&p&&(q=K(q)),8&p)||4&p&&"object"==typeof q&&q&&q.__esModule)return q;var h=Object.create(null);if(K.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:q}),2&p&&"string"!=typeof q)for(var f in q)K.d(h,f,function(g){return q[g]}.bind(null,f));return h},K.n=function(q){var p=q&&q.__esModule?function(){return q["default"]}:function(){return q};return K.d(p,"a",p),p},K.o=function(q,p){return Object.prototype.hasOwnProperty.call(q,p)},K.p="",K(K.s=
869)}({869:function(O,K,n){n.r(K);K["default"]=function(q,p){return p("div",{key:q.key||"loader-icon","class":"load-icon__icon"},p("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                fill: currentColor;\n                pointer-events: none;\n                display: inline-block;\n                width: 1em;\n                height: 1em;\n                vertical-align: -0.15em;\n                color: "+(q.color||"#0079c1")+";\n                transition-property: transform;\n                transition-duration: 0.5s;\n                animation-name: rotate;\n                animation-duration: 1s;\n                animation-iteration-count: infinite;\n                animation-timing-function: linear;\n                transform-origin: 50% 50%;\n            "},
p("path",{d:"M16 8A8 8 0 1 1 7 .07v.909a7.1 7.1 0 1 0 2 0v-.91A7.996 7.996 0 0 1 16 8z"})))}}})})},"arcgis-components/Badges/Authoritative":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=
typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};
return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=812)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=O},812:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){var u=g.altOrg;return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"authoritative-badge",size:g.size,text:h.authoritative,title:u?h.tooltips.altAuthoritative+" "+u:h.tooltips.authoritative,tooltip:g.tooltip?h.tooltips.authoritative:
void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("g",{fill:"#2B622B"},k("path",{d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zm0 15a7 7 0 1 1 7-7 7.008 7.008 0 0 1-7 7z"}),k("path",{d:"M11.834 5.146l-5.646 5.647-2.334-2.334a.5.5 0 0 0-.708.707l3.042 3.041 6.353-6.353a.5.5 0 1 0-.707-.707z"}))))}}})})},"arcgis-components/Badges/Collaboration":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),
8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=815)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=
O},815:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"collaboration-badge",size:g.size,text:h.collaboration,title:h.tooltips.collaboration,tooltip:g.tooltip?h.tooltips.collaboration:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("g",{fill:"#196FA6"},k("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),
k("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),k("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),k("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),k("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),k("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),k("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
k("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),k("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))))}}})})},"arcgis-components/Badges/Deprecated":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,
f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=
h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=816)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=O},816:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){return k(f.a,{backgroundColor:"#F3DED7",textColor:"#8C2907",key:"deprecated-badge",size:g.size,text:h.deprecated,title:h.tooltips.deprecated,tooltip:g.tooltip?h.tooltips.deprecated:
void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"#8C2907",d:"M8 0a8 8 0 1 0 8 8 8.01 8.01 0 0 0-8-8zM1 8a6.99 6.99 0 0 1 11.577-5.284l-9.861 9.861A6.964 6.964 0 0 1 1 8zm7 7a6.964 6.964 0 0 1-4.577-1.716l9.861-9.861A6.99 6.99 0 0 1 8 15z"})))}}})})},"arcgis-components/Badges/LivingAtlas":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],
function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==
typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=817)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=O},817:function(n,
q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"living-atlas-badge",size:g.size,text:h.livingAtlas,title:h.tooltips.livingAtlas,tooltip:g.tooltip?h.tooltips.livingAtlas:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("rect",{width:"16",height:"16",fill:"none"}),k("rect",{width:"16",height:"16",fill:"none"}),k("g",
null,k("path",{d:"M14.75342,4.57031a.50021.50021,0,0,0-.84277-.53906,5.85956,5.85956,0,0,1-1.04541,1.12939A27.86114,27.86114,0,0,1,8.5,8.19922a27.48671,27.48671,0,0,1-4.81445,2.26172,5.9062,5.9062,0,0,1-1.50049.34033.5.5,0,0,0,.022.99951L2.23,11.80029a6.51338,6.51338,0,0,0,1.46027-.30341A5.97993,5.97993,0,0,0,7.5,13.30646V15H5a.5.5,0,0,0,0,1h6a.5.5,0,0,0,0-1H8.5V13.301a5.95318,5.95318,0,0,0,5.25336-7.601A6.38549,6.38549,0,0,0,14.75342,4.57031ZM10.5,11.66357A4.99888,4.99888,0,0,1,4.75793,11.129,30.77175,30.77175,0,0,0,9,9.06543a30.80143,30.80143,0,0,0,3.9082-2.642A5.00026,5.00026,0,0,1,10.5,11.66357Z",
fill:"#196fa6"}),k("path",{d:"M7.06836,2.41943a5.00709,5.00709,0,0,1,4.71045,1.63867.50023.50023,0,1,0,.75684-.6543A6.01019,6.01019,0,0,0,6.88184,1.437a.5.5,0,0,0,.18652.98242Z",fill:"#196fa6"}),k("path",{d:"M2.80176,9.63281a.50023.50023,0,0,0,.47217-.66406A4.98907,4.98907,0,0,1,5.08917,3.29163l.22772.39441a.50008.50008,0,0,0,.86621-.5l-1-1.73193a.50008.50008,0,0,0-.86621.5l.27222.47144A5.988,5.988,0,0,0,2.32959,9.29688.49991.49991,0,0,0,2.80176,9.63281Z",fill:"#196fa6"}))))}}})})},"arcgis-components/Badges/Marketplace":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),
8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=818)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=
O},818:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"marketplace-badge",size:g.size,text:h.marketplace,title:h.tooltips.marketplace,tooltip:g.tooltip?h.tooltips.marketplace:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"#196FA6",d:"M15.939 13L12.832 3h-3.65L8.033 6.68 6.811 3H3.16L.054 13H4.13l.96-3.21L6.192 13h3.594l1.104-3.17.993 3.17h4.056zM3.386 12H1.41l2.486-8h1.881l-2.391 8zm2.196-3.856l.893-2.983 1.048 3.156-.895 2.871-1.046-3.044zM9.075 12H7.422l2.496-8h1.943l-2.786 8zm3.409-6.749L14.583 12h-1.966l-1.176-3.755 1.043-2.994z"})))}}})})},
"arcgis-components/Badges/OpenData":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},q.p="",q(q.s=819)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=O},819:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){return k(f.a,{backgroundColor:"#DDEEDB",textColor:"#2B622B",key:"open-data-badge",size:g.size,text:h.openData,title:h.tooltips.openData,tooltip:g.tooltip?h.tooltips.openData:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",
d:"M0 0h16v16H0z"}),k("g",{fill:"#196fa6"},k("path",{d:"M8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.628 8.628 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2 5 1.056 5 2-2.138 2-5 2zM13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.968 11.968 0 0 0 5 .984.5.5 0 0 0 0-1A10.146 10.146 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5z"}))))}}})})},
"arcgis-components/Badges/Premium":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},q.p="",q(q.s=820)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=O},820:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){var u=g.user;u=u?u.orgId?"Org":"Public":"Anon";return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"premium-badge",size:g.size,text:h.premium,title:h.tooltips["premium"+u],tooltip:g.tooltip?h.tooltips["premium"+u]:void 0,tooltipDirection:g.tooltipDirection},k("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",
viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{d:"M8.05 15.5a.497.497 0 0 1-.25-.067C.6 11.275 1.542 2.038 1.552 1.944a.5.5 0 0 1 .259-.382.507.507 0 0 1 .463-.009 5.15 5.15 0 0 0 5.459-.94.5.5 0 0 1 .64.006c1.817 1.54 3.601 1.844 5.457.932a.5.5 0 0 1 .718.394 16.944 16.944 0 0 1-.344 4.965.5.5 0 1 1-.978-.211 16.952 16.952 0 0 0 .367-3.962 5.57 5.57 0 0 1-5.55-1.098A6.178 6.178 0 0 1 2.51 2.706c-.057 2.086.231 8.651 5.79 11.86a.5.5 0 0 1-.25.934z",
fill:"#196fa6"}),k("path",{d:"M12 15.5a4 4 0 1 1 4-4 4.005 4.005 0 0 1-4 4zm0-7a3 3 0 1 0 3 3 3.003 3.003 0 0 0-3-3z",fill:"#196fa6"})))}}})})},"arcgis-components/Badges/Subscriber":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,
f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=
h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=821)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=O},821:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){var u=g.user;u=u?u.orgId?"Org":"Public":"Anon";return k(f.a,{backgroundColor:"#DBEDFA",textColor:"#196FA6",key:"subscriber-badge",size:g.size,text:h.subscriber,title:h.tooltips["subscriber"+
u],tooltip:g.tooltip?h.tooltips["subscriber"+u]:void 0,tooltipDirection:g.tooltipDirection},k("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},k("path",{d:"M8.05371,15.5H8.0498a.49939.49939,0,0,1-.25-.06689C.59961,11.27539,1.542,2.0376,1.55225,1.94434A.49966.49966,0,0,1,1.811,1.56152a.50721.50721,0,0,1,.46338-.0083A5.15007,5.15007,0,0,0,7.73291.61328a.51762.51762,0,0,1,.6377,0,5.14642,5.14642,0,0,0,5.4585.93994.50711.50711,0,0,1,.46338.0083.49966.49966,0,0,1,.25879.38281c.01025.09326.95264,9.33105-6.24756,13.48877A.49939.49939,0,0,1,8.05371,15.5Zm0-.5h0ZM2.50977,2.70557c-.05615,2.05469.22266,8.45508,5.542,11.71387,5.31934-3.25879,5.59814-9.65967,5.542-11.71387a6.17691,6.17691,0,0,1-5.542-1.07324A6.18289,6.18289,0,0,1,2.50977,2.70557Z",
fill:"#196fa6"})))}}})})},"arcgis-components/Badges/PublicDataCollection":function(){define(["dojo/i18n!../Badges/nls/resources","../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},q.p="",q(q.s=823)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=O},823:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){return k(f.a,{backgroundColor:"#efe397",textColor:"#786d1c",key:"public-data-collection-badge",size:g.size,text:h.publicDataCollection,title:h.tooltips.publicDataCollection,tooltip:g.tooltip?h.tooltips.publicDataCollection:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",
height:"16",viewBox:"0 0 16 16"},k("path",{fill:"none",d:"M0 0h16v16H0z"}),k("path",{fill:"#786d1c",d:"M15.721 4.007a.965.965 0 0 0-.03-1.385l-1.413-1.414a.965.965 0 0 0-1.385-.03L2.841 11.23l-1.756 4.097a.371.371 0 0 0 .488.487L5.67 14.06l8.607-8.609zM2.624 14.276l.554-1.294.74.74zm2.338-.924L3.55 11.937l8.007-8.008 1.414 1.415zm8.716-8.716l-1.414-1.414 1.09-1.09a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .434z"})))}}})})},"arcgis-components/Badges/Solution":function(){define(["dojo/i18n!../Badges/nls/resources",
"../Badges/Badge"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),
8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=822)}({130:function(n,q){n.exports=K},73:function(n,q){n.exports=
O},822:function(n,q,p){p.r(q);var h=p(73);n=p(130);var f=p.n(n);q["default"]=function(g,k){return k(f.a,{backgroundColor:"#e2deee",textColor:"#312b43",key:"solution-badge",size:g.size,text:h.solution,title:h.tooltips.solution,tooltip:g.tooltip?h.tooltips.solution:void 0,tooltipDirection:g.tooltipDirection},k("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"},k("path",{fill:"#312b43",d:"M29.963 7.672a1.586 1.586 0 0 0-1.584-1.585h-5.274a.187.187 0 0 1-.188-.187V3.977A2 2 0 0 0 20.825 2h-9.672A2.095 2.095 0 0 0 9.06 4.093V5.9a.187.187 0 0 1-.187.187H3.598a1.586 1.586 0 0 0-1.584 1.585v4.016a.281.281 0 0 0 .281.28H4.9l.014-.013V9.153a.177.177 0 0 1 .177-.177h21.46a.456.456 0 0 1 .449.45v13.742A1.832 1.832 0 0 1 25.168 25h-8.892a.568.568 0 0 1-.534-.373 3.98 3.98 0 0 0-7.6.373H5.657a.757.757 0 0 1-.757-.757v-3.055A.188.188 0 0 0 4.714 21H2.028l-.014.014v4.58a2.35 2.35 0 0 0 2.347 2.346h4.161a3.963 3.963 0 0 0 6.8.256.569.569 0 0 1 .475-.256h12.065a2.102 2.102 0 0 0 2.101-2.101zM21 5.625a.375.375 0 0 1-.375.375h-9.25A.375.375 0 0 1 11 5.625V4.45a.456.456 0 0 1 .45-.45h9.1a.456.456 0 0 1 .45.45zM12 28a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}),
k("path",{"class":"cls-1",d:"M13.273 17.994a.57.57 0 0 1 .479.262A3.73 3.73 0 0 0 17 20a3.74 3.74 0 0 0 3.403-2.006h3.41a.188.188 0 0 0 .187-.188v-2.589a.187.187 0 0 0-.188-.188H20.8A3.8 3.8 0 0 0 17 12a4.058 4.058 0 0 0-3.69 2.647.568.568 0 0 1-.537.383H1.093a.094.094 0 0 0-.093.093V17.9a.094.094 0 0 0 .094.094zM17 13.9a2.1 2.1 0 1 1-2.1 2.1 2.1 2.1 0 0 1 2.1-2.1z"})))}}})})},"arcgis-components/ItemCards/MiniCard/index":function(){define("../../Component dojo/i18n!../../ItemCards/nls/resources dojo/_base/kernel dojo/date/locale dojo/number ../../Badges/Retired ../../Buttons/SvgButton ../../Loaders/LoaderIcon ../../Badges/Authoritative ../../Badges/Collaboration ../../Badges/Deprecated ../../Badges/LivingAtlas ../../Badges/Marketplace ../../Badges/OpenData ../../Badges/Premium ../../Badges/Subscriber ../../Badges/PublicDataCollection ../../Badges/Solution ../../Dropdowns/TextOptionDropdown".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b){return function(c){function m(v){if(t[v])return t[v].exports;var A=t[v]={i:v,l:!1,exports:{}};return c[v].call(A.exports,A,A.exports,m),A.l=!0,A.exports}var t={};return m.m=c,m.c=t,m.d=function(v,A,B){m.o(v,A)||Object.defineProperty(v,A,{enumerable:!0,get:B})},m.r=function(v){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"});Object.defineProperty(v,"__esModule",{value:!0})},m.t=function(v,A){if((1&
A&&(v=m(v)),8&A)||4&A&&"object"==typeof v&&v&&v.__esModule)return v;var B=Object.create(null);if(m.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:v}),2&A&&"string"!=typeof v)for(var x in v)m.d(B,x,function(D){return v[D]}.bind(null,x));return B},m.n=function(v){var A=v&&v.__esModule?function(){return v["default"]}:function(){return v};return m.d(A,"a",A),A},m.o=function(v,A){return Object.prototype.hasOwnProperty.call(v,A)},m.p="",m(m.s=863)}({0:function(c,m,t){function v(G,H){function I(){this.constructor=
G}if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");y(G,H);G.prototype=null===H?Object.create(H):(I.prototype=H.prototype,new I)}function A(G,H){var I={},N;for(N in G)Object.prototype.hasOwnProperty.call(G,N)&&0>H.indexOf(N)&&(I[N]=G[N]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(N=Object.getOwnPropertySymbols(G);M<N.length;M++)0>H.indexOf(N[M])&&Object.prototype.propertyIsEnumerable.call(G,N[M])&&
(I[N[M]]=G[N[M]])}return I}function B(G,H,I,N){var M,J=arguments.length,R=3>J?H:null===N?N=Object.getOwnPropertyDescriptor(H,I):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(G,H,I,N);else for(var Z=G.length-1;0<=Z;Z--)(M=G[Z])&&(R=(3>J?M(R):3<J?M(H,I,R):M(H,I))||R);return 3<J&&R&&Object.defineProperty(H,I,R),R}function x(G,H,I,N){return new (I||(I=Promise))(function(M,J){function R(X){try{T(N.next(X))}catch(aa){J(aa)}}function Z(X){try{T(N["throw"](X))}catch(aa){J(aa)}}
function T(X){var aa;X.done?M(X.value):(aa=X.value,aa instanceof I?aa:new I(function(fa){fa(aa)})).then(R,Z)}T((N=N.apply(G,H||[])).next())})}function D(G,H){function I(T){return function(X){return function(aa){if(N)throw new TypeError("Generator is already executing.");for(;Z;)try{if(N=1,M&&(J=2&aa[0]?M["return"]:aa[0]?M["throw"]||((J=M["return"])&&J.call(M),0):M.next)&&!(J=J.call(M,aa[1])).done)return J;switch(M=0,J&&(aa=[2&aa[0],J.value]),aa[0]){case 0:case 1:J=aa;break;case 4:return Z.label++,
{value:aa[1],done:!1};case 5:Z.label++;M=aa[1];aa=[0];continue;case 7:aa=Z.ops.pop();Z.trys.pop();continue;default:if(!(J=Z.trys,(J=0<J.length&&J[J.length-1])||6!==aa[0]&&2!==aa[0])){Z=0;continue}if(3===aa[0]&&(!J||aa[1]>J[0]&&aa[1]<J[3]))Z.label=aa[1];else if(6===aa[0]&&Z.label<J[1])Z.label=J[1],J=aa;else if(J&&Z.label<J[2])Z.label=J[2],Z.ops.push(aa);else{J[2]&&Z.ops.pop();Z.trys.pop();continue}}aa=H.call(G,Z)}catch(fa){aa=[6,fa],M=0}finally{N=J=0}if(5&aa[0])throw aa[1];return{value:aa[0]?aa[1]:
void 0,done:!0}}([T,X])}}var N,M,J,R,Z={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return R={next:I(0),"throw":I(1),"return":I(2)},"function"==typeof Symbol&&(R[Symbol.iterator]=function(){return this}),R}function E(G,H){for(var I=0,N=H.length,M=G.length;I<N;I++,M++)G[M]=H[I];return G}t.d(m,"d",function(){return v});t.d(m,"a",function(){return F});t.d(m,"f",function(){return A});t.d(m,"c",function(){return B});t.d(m,"b",function(){return x});t.d(m,"e",function(){return D});
t.d(m,"g",function(){return E});var y=function(G,H){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,N){I.__proto__=N}||function(I,N){for(var M in N)Object.prototype.hasOwnProperty.call(N,M)&&(I[M]=N[M])})(G,H)},F=function(){return(F=Object.assign||function(G){for(var H,I=1,N=arguments.length;I<N;I++)for(var M in H=arguments[I])Object.prototype.hasOwnProperty.call(H,M)&&(G[M]=H[M]);return G}).apply(this,arguments)};Object.create;Object.create},112:function(c,m){c.exports=
K},150:function(c,m){c.exports=n},151:function(c,m){c.exports=q},178:function(c,m){c.exports=p},18:function(c,m){c.exports=O},233:function(c,m){c.exports=h},239:function(c,m){c.exports=f},250:function(c,m){c.exports=g},274:function(c,m){c.exports=k},275:function(c,m){c.exports=u},276:function(c,m){c.exports=w},277:function(c,m){c.exports=C},278:function(c,m){c.exports=z},279:function(c,m){c.exports=r},280:function(c,m){c.exports=l},281:function(c,m){c.exports=d},282:function(c,m){c.exports=e},311:function(c,
m){c.exports=a},378:function(c,m){c.exports=b},600:function(c,m,t){function v(E){E.stopPropagation()}var A=t(0);c=t(18);var B=t(151),x=t(150),D=t(178);t=function(E){function y(){return null!==E&&E.apply(this,arguments)||this}return Object(A.d)(y,E),y.prototype.formatDate=function(F){return""+B.format(new Date(F),{selector:"date",formatLength:"short",locale:x.locale})},y.prototype.render=function(F){var G,H=this.props,I=H.active,N=H.classes,M=(H.handleShowItemDetails,H.item),J=H.iconUrl,R=H.userUrl,
Z=(H.portal,H.sortField);H=H.i18n;return G="numviews"===Z?H.viewCount+": "+D.format(M.numViews):"avgrating"===Z?H.rating+": "+M.avgRating.toFixed(2):"created"===Z?H.created+": "+this.formatDate(M.created):H.updated+": "+this.formatDate(M.modified),F("header",{classes:N},F("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:"","class":"card-mc__thumbnail",style:"\n                        background-image: url("+this.props.thumbURI+");\n                    "}),
F("div",{"class":"card-mc__title-container"},F("button",{id:"item-"+M.id+"-card-title","class":"card-mc__title",title:I?H.hideItem:H.viewItem,tabindex:"0"},M.title),F("div",{"class":"card-mc__author-row"},F("img",{src:J,"class":"content-search-item-icon",title:M.displayName}),F("span",{"class":"card-mc__author-text"},H.by,F("a",{"class":"content-search-selectable card-mc__author-link",title:this.props.organization?H.viewOrg:H.viewProfile,href:this.props.organization?this.props.organization.orgUrl:
R,target:"_blank",onclick:v}," "+(this.props.organization?this.props.organization.name:M.owner)))),F("p",{"class":"card-mc__info"},G)))},y}(c.Component);m.a=t},601:function(c,m,t){c=t(378);var v=t.n(c);c=t(239);var A=t.n(c);c=t(250);var B=t.n(c);m.a=function(x,D){var E=x.selected,y=x.handleSelectionClick,F=x.handleIconActionClick,G=x.handleCustomActionClick,H=x.availableMiscActions,I=x.availableIconActions,N=x.loading,M=x.children,J=x.id,R=x.hideEllipses,Z=x.i18n,T=null;x.disableMainAction||(T=N?
D(B.a,null):D(A.a,{focusable:!0,handleClick:y,key:J+"-selection-btn",title:E?Z.remove:Z.add},D("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},D("g",{id:"16px",stroke:"none","stroke-width":"1"},D("g",null,D("g",null,D("polygon",E?{points:"3 7 12 7 12 8 3 8"}:{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),D("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));
E=I.map(function(X){return D(A.a,{focusable:!0,handleClick:F,key:J+"-"+X.text,title:X.text,value:X.value},D("div",{"class":"card-mc__custom-icon-container",innerHTML:X.icon}))});return D("div",{id:"item-"+J+"-action-row","class":"content-search-item-action-row card-mc__action-row"},M,D("div",{key:"action-container","class":"card-mc__action-container"},D(A.a,{key:J+"-spacer"},D("svg",{height:"16px",width:"0px"})),T,E,0<H.length&&!R?D(v.a,{key:J+"-actions",options:H,onSelect:G,selectedOptionValue:void 0,
justify:"right"},D(A.a,{focusable:!1,key:J+"-action-btn",title:Z.actions},D("svg",{role:"img",width:"16px",height:"16px",style:"transform: translate(0, -2px);"},D("g",{stroke:"none","stroke-width":"1"},D("g",null,D("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))}},863:function(c,m,t){t.r(m);var v=t(0),A=t(112);c=t(18);var B=t(600),x=t(601),D=t(274),E=t.n(D);D=t(275);var y=t.n(D);D=t(276);var F=t.n(D);D=t(277);var G=t.n(D);D=t(278);var H=
t.n(D);D=t(279);var I=t.n(D);D=t(280);var N=t.n(D);D=t(281);var M=t.n(D);D=t(311);var J=t.n(D);D=t(282);var R=t.n(D);D=t(233);var Z=t.n(D);t=function(T){function X(aa){aa=T.call(this,aa)||this;return aa.handleShowItemDetails=aa.handleShowItemDetails.bind(aa),aa.handleSelectionClick=aa.handleSelectionClick.bind(aa),aa.handleCustomActionClick=aa.handleCustomActionClick.bind(aa),aa.handleIconActionClick=aa.handleIconActionClick.bind(aa),aa}return Object(v.d)(X,T),X.prototype.render=function(aa){var fa=
this,oa=!!this.props.selectedItems[this.props.item.id],ua=!!this.props.loadingItems[this.props.item.id],ha=!(!this.props.activeItem||this.props.activeItem.id!==this.props.item.id),U=this.props.customActions.filter(function(W){return W.allowed(fa.props.item)}).map(function(W){return{value:W.name,text:W.name,icon:W.icon}}),ka=U.filter(function(W){return W.icon});U=U.filter(function(W){return!W.icon});return aa("section",{key:this.props.item.id,classes:{"card-mc__container":!0,"card-mc__container--selected":oa,
"card-mc__container--active":ha}},aa("div",{classes:{"card-mc__fader":!0,"card-mc__fader--loading":ua},onclick:this.handleShowItemDetails},aa(B.a,{active:ha,classes:{"card-mc__header":!0,"card-mc__header--constrained":!!this.props.constrained},handleShowItemDetails:this.handleShowItemDetails,i18n:A,iconUrl:this.props.item.iconURI,item:this.props.item,key:"mini-card-header",portal:this.props.portal,sortField:this.props.sortField,thumbURI:this.props.item.thumbURI,userUrl:this.props.portal.baseUrl+"/home/user.html?user\x3d"+
this.props.item.owner,organization:this.props.organization}),aa(x.a,{selected:oa,handleSelectionClick:this.handleSelectionClick,loading:ua,id:this.props.item.id,i18n:A,availableMiscActions:U,availableIconActions:ka,handleIconActionClick:this.handleIconActionClick,handleCustomActionClick:this.handleCustomActionClick,disableMainAction:this.props.disableMainAction,hideEllipses:this.props.hideEllipses},aa("div",{key:"badges"},this.renderBadges(aa)))))},X.prototype.renderBadges=function(aa){var fa=this;
return this.props.item.badges.map(function(oa){switch(oa){case "authoritative":return aa(E.a,{size:"small",altOrg:fa.props.organization?fa.props.organization.name:void 0});case "deprecated":return aa(F.a,{size:"small"});case "collaboration":return aa(y.a,{size:"small"});case "livingAtlas":return aa(G.a,{size:"small"});case "marketplace":return aa(H.a,{size:"small"});case "openData":return aa(I.a,{size:"small"});case "premium":return aa(N.a,{size:"small",user:fa.props.portal.user});case "subscriber":return aa(M.a,
{size:"small",user:fa.props.portal.user});case "publicDataCollection":return aa(R.a,{size:"small"});case "solution":return aa(J.a,{size:"small"});case "retiredStoryMap":return aa(Z.a,{size:"small",isRetiredStoryMap:!0});case "retiredApp":return aa(Z.a,{size:"small"})}return null})},X.prototype.handleShowItemDetails=function(aa){this.props.onShowItemDetails(this.props.item)},X.prototype.handleSelectionClick=function(aa){aa.stopPropagation();this.props.onSelectionClick(this.props.item)},X.prototype.handleIconActionClick=
function(aa){aa.stopPropagation();aa.target.value&&this.props.onCustomActionClick(aa.target.value,this.props.item)},X.prototype.handleCustomActionClick=function(aa){this.props.onCustomActionClick(aa,this.props.item)},X}(c.Component);m["default"]=t}})})},"arcgis-components/ItemCards/MiniCardRow/index":function(){define(["../../Component","dojo/i18n!../../ItemCards/nls/resources","../../Buttons/SvgButton","../../Loaders/LoaderIcon","../../Dropdowns/TextOptionDropdown"],function(O,K,n,q,p){return function(h){function f(k){if(g[k])return g[k].exports;
var u=g[k]={i:k,l:!1,exports:{}};return h[k].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var g={};return f.m=h,f.c=g,f.d=function(k,u,w){f.o(k,u)||Object.defineProperty(k,u,{enumerable:!0,get:w})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,u){if((1&u&&(k=f(k)),8&u)||4&u&&"object"==typeof k&&k&&k.__esModule)return k;var w=Object.create(null);if(f.r(w),
Object.defineProperty(w,"default",{enumerable:!0,value:k}),2&u&&"string"!=typeof k)for(var C in k)f.d(w,C,function(z){return k[z]}.bind(null,C));return w},f.n=function(k){var u=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(u,"a",u),u},f.o=function(k,u){return Object.prototype.hasOwnProperty.call(k,u)},f.p="",f(f.s=864)}({0:function(h,f,g){function k(e,a){function b(){this.constructor=e}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");l(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function u(e,a){var b={},c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&0>a.indexOf(c)&&(b[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var m=0;for(c=Object.getOwnPropertySymbols(e);m<c.length;m++)0>a.indexOf(c[m])&&Object.prototype.propertyIsEnumerable.call(e,c[m])&&(b[c[m]]=e[c[m]])}return b}function w(e,a,b,c){var m,t=arguments.length,v=3>t?a:null===c?
c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(e,a,b,c);else for(var A=e.length-1;0<=A;A--)(m=e[A])&&(v=(3>t?m(v):3<t?m(a,b,v):m(a,b))||v);return 3<t&&v&&Object.defineProperty(a,b,v),v}function C(e,a,b,c){return new (b||(b=Promise))(function(m,t){function v(x){try{B(c.next(x))}catch(D){t(D)}}function A(x){try{B(c["throw"](x))}catch(D){t(D)}}function B(x){var D;x.done?m(x.value):(D=x.value,D instanceof b?D:new b(function(E){E(D)})).then(v,
A)}B((c=c.apply(e,a||[])).next())})}function z(e,a){function b(B){return function(x){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;A;)try{if(c=1,m&&(t=2&D[0]?m["return"]:D[0]?m["throw"]||((t=m["return"])&&t.call(m),0):m.next)&&!(t=t.call(m,D[1])).done)return t;switch(m=0,t&&(D=[2&D[0],t.value]),D[0]){case 0:case 1:t=D;break;case 4:return A.label++,{value:D[1],done:!1};case 5:A.label++;m=D[1];D=[0];continue;case 7:D=A.ops.pop();A.trys.pop();continue;default:if(!(t=
A.trys,(t=0<t.length&&t[t.length-1])||6!==D[0]&&2!==D[0])){A=0;continue}if(3===D[0]&&(!t||D[1]>t[0]&&D[1]<t[3]))A.label=D[1];else if(6===D[0]&&A.label<t[1])A.label=t[1],t=D;else if(t&&A.label<t[2])A.label=t[2],A.ops.push(D);else{t[2]&&A.ops.pop();A.trys.pop();continue}}D=a.call(e,A)}catch(E){D=[6,E],m=0}finally{c=t=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,x])}}var c,m,t,v,A={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return v={next:b(0),"throw":b(1),
"return":b(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function r(e,a){for(var b=0,c=a.length,m=e.length;b<c;b++,m++)e[m]=a[b];return e}g.d(f,"d",function(){return k});g.d(f,"a",function(){return d});g.d(f,"f",function(){return u});g.d(f,"c",function(){return w});g.d(f,"b",function(){return C});g.d(f,"e",function(){return z});g.d(f,"g",function(){return r});var l=function(e,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=
c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])})(e,a)},d=function(){return(d=Object.assign||function(e){for(var a,b=1,c=arguments.length;b<c;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e}).apply(this,arguments)};Object.create;Object.create},112:function(h,f){h.exports=K},18:function(h,f){h.exports=O},239:function(h,f){h.exports=n},250:function(h,f){h.exports=q},378:function(h,f){h.exports=p},864:function(h,
f,g){g.r(f);var k=g(0),u=g(112);h=g(18);var w=g(378),C=g.n(w);w=g(239);var z=g.n(w);w=g(250);var r=g.n(w);g=function(l){function d(e){e=l.call(this,e)||this;return e.handleShowItemDetails=e.handleShowItemDetails.bind(e),e.handleSelectionClick=e.handleSelectionClick.bind(e),e.handleIconActionClick=e.handleIconActionClick.bind(e),e.handleCustomActionClick=e.handleCustomActionClick.bind(e),e}return Object(k.d)(d,l),d.prototype.render=function(e){var a,b=this,c=!!this.props.selectedItems[this.props.item.id],
m=!!this.props.loadingItems[this.props.item.id],t=this.props.activeItem&&this.props.activeItem.id===this.props.item.id,v=this.props.customActions.filter(function(B){return B.allowed(b.props.item)}).map(function(B){return{value:B.name,text:B.name,icon:B.icon}}),A=v.filter(function(B){return!!B.icon});v=v.filter(function(B){return!B.icon});this.props.disableMainAction||(a=m?e(r.a,null):e(z.a,{focusable:!0,handleClick:this.handleSelectionClick,key:this.props.item.id+"-selection-btn",title:c?u.remove:
u.add},e("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},e("g",{stroke:"none","stroke-width":"1"},c?e("g",{id:"minus-circled-1px-16"},e("g",null,e("polygon",{points:"3 7 12 7 12 8 3 8"}),e("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"}))):e("g",{id:"plus-circled-1px-16"},e("g",null,
e("polygon",{points:"12 7 7.999 7 8 3 7.001 3 7 7 2.999 7 2.999 8 7 8 6.999 12 7.998 12 7.999 8 12 8"}),e("path",{d:"M7.501,0 C3.365,0 0,3.364 0,7.5 C0,11.636 3.365,15 7.501,15 C11.636,15 15,11.636 15,7.5 C15,3.364 11.636,0 7.501,0 Z M7.501,14 C3.916,14 1,11.084 1,7.5 C1,3.916 3.916,1 7.501,1 C11.085,1 14,3.916 14,7.5 C14,11.084 11.085,14 7.501,14 Z"})))))));m=A.map(function(B){return e(z.a,{focusable:!0,handleClick:b.handleIconActionClick,key:b.props.item.id+"-"+B.text,title:B.text,value:B.value},
e("div",{"class":"card-mcr__custom-icon-container",innerHTML:B.icon}))});return e("div",{key:this.props.item.id,classes:{"card-mcr__container":!0,"card-mcr__container--selected":c,"card-mcr__container--active":t},onclick:this.handleShowItemDetails},e("img",{src:this.props.item.iconURI,"class":"card-mcr__item-icon",title:this.props.item.displayName,alt:""}),e("button",{id:"item-"+this.props.item.id+"-card-title","class":"card-mcr__item-title",title:t?u.hideItem:u.viewItem,tabindex:"0"},this.props.item.title),
e("div",{"class":"card-mcr__spacer"}),e("div",{"class":"card-mcr__action-container"},a,m,0<v.length&&!this.props.hideEllipses?e(C.a,{key:this.props.item.id+"-actions",options:v,onSelect:this.handleCustomActionClick,selectedOptionValue:void 0,justify:"right"},e(z.a,{key:this.props.item.id+"-action-btn",focusable:!1,title:u.actions},e("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},e("g",{stroke:"none","stroke-width":"1"},e("g",{id:"ellipses-1px-16"},
e("path",{d:"M1,7 L3,7 L3,9 L1,9 L1,7 Z M7,7 L9,7 L9,9 L7,9 L7,7 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z"})))))):null))},d.prototype.handleShowItemDetails=function(e){this.props.onShowItemDetails(this.props.item)},d.prototype.handleSelectionClick=function(e){e.stopPropagation();this.props.onSelectionClick(this.props.item)},d.prototype.handleIconActionClick=function(e){e.stopPropagation();e.target.value&&this.props.onCustomActionClick(e.target.value,this.props.item)},d.prototype.handleCustomActionClick=
function(e){this.props.onCustomActionClick(e,this.props.item)},d}(h.Component);f["default"]=g}})})},"arcgisonline/map/core/sameTilingScheme":function(){define([],function(){return function(O,K){for(var n=!1,q=!1,p=0;p<O.lods.length;p++){var h=O.lods[p].scale;O.dpi!==K.dpi&&(h=O.lods[p].scale/O.dpi);for(var f=0;f<K.lods.length;f++){var g=K.lods[f].scale;O.dpi!==K.dpi&&(g=K.lods[f].scale/K.dpi);if(.01>Math.abs(g-h)/g)if(n){q=!0;break}else n=!0;if(g<h)break}if(q)break}return q||n&&(1===O.lods.length||
1===K.lods.length)?!0:!1}})},"arcgisonline/pages/dijit/ReplaceLayer/ReplaceSceneLayer":function(){define("require exports tslib dojo/text!../ReplaceLayer/templates/ReplaceSceneLayer.html dojo/i18n!../../../nls/arcgisonline dojo/string ../../utils/dom ../../../sharing/util arcgisonline/tsutils/declareDecorator arcgisonline/map/core/sameSpatialReference arcgisonline/map/layer/getServiceInfo ./ReplaceLayer dojo/Deferred arcgisonline/esriGeowConfig".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){q=
n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(d,e){this.overlayContents=h["default"].substitute(q["default"],{i18n:this.i18n,icons:this.icons})}l.prototype.initUI=function(){var d,e;this.inherited(arguments);this.layerType=null!==(e=null===(d=this.item.serviceInfo.layers)||
void 0===d?void 0:d[0].layerType)&&void 0!==e?e:this.item.serviceInfo.layerType;this._showPreviewStylesTab=!1;f["default"].hideNodes(this._shownPreviewStylesContent)};l.prototype.createItemBrowser=function(){var d=this;this._itemBrowserConfig={settings:{config:{layoutMode:"adjustable",dialogTitle:p["default"].replaceLayer.selectReplacementLayer,mainActionTitle:p["default"].replaceLayer.select,usePrimaryButtonStyle:!1,enableMapAreaFilter:!1,onSelect:this.handleSelectItem.bind(this),baseSections:["myContent",
"myFavorites","myGroups","myOrganization"],allowedItemTypes:[this.type],singleItemSelect:!0,onBack:this.closeItemBrowser.bind(this),addQueryParameters:function(){return(d.isCacheContent?'typekeywords:"ExtractedCache" -':"")+'typekeywords:"Hosted Service" NOT id:'+d.item.id},showSubResources:{}}},parameters:{section:"myContent",sort:{field:"modified",order:"desc"}}};this.inherited(arguments)};l.prototype.checkLayerCompatibility=function(){var d=this,e=new z["default"];if(this.isTile)this.inherited(arguments).then(function(){e.resolve()},
function(m){d.handleLayerSelectionError(m)});else{var a=this.isCacheContent,b=p["default"].replaceLayer.error,c=!0;w["default"](this._selectedReplacementItem.url,null,function(m){d._selectedReplacementItem.getRelatedItems(a?"DataStore2ByRefService":"Service2Service","reverse").then(function(t){var v;if(null===(v=d.item.serviceInfo.layers)||void 0===v?0:v[0]){v=u["default"](d.item.serviceInfo.layers[0].spatialReference,m.layers[0].spatialReference);var A=d.layerType===m.layers[0].layerType;t=0>=t.length;
a||t?v||A?v?a||A?c=!1:b=p["default"].replaceLayer.replaceSceneLayer.layerTypeError:b=p["default"].replaceLayer.differentCoordinateSystem:b=p["default"].replaceLayer.replaceSceneLayer.spatialLayerCombinedError:b=p["default"].replaceLayer.replaceSceneLayer.sceneLayerPackageError;c?e.reject(Error(b)):e.resolve()}else e.resolve()})},function(m){d.handleLayerSelectionError(m)})}return e};l.prototype.checkForCompatibleStyles=function(d){d=this._itemBrowserContainer.querySelector("#item-browser-wrapper").children[0].classList.contains("hide");
f["default"].showNode(this._checkStylesSuccess);f["default"].hideNodes(this._checkStylesWarnings);f["default"].hideNode(this._checkStyles);this._primaryBtn.disabled=!1;d&&this._primaryBtn.focus()};l.prototype.handleHelp=function(){var d;window.open(""+r["default"].self.helpBase+((null===(d=r["default"].self.helpMap)||void 0===d?void 0:d.m["120001916"])||""))};l.prototype.replaceLayer=function(){var d={toReplaceItemId:this.item.id,replacementItemId:this._selectedReplacementItem.id,replacedServiceName:this.replaceSpacesWithUnderscore(this._archiveName),
replaceMetadata:this._replaceItemInformation,createNewItem:!0,f:"json"};return g["default"].request({url:this.portal.portalUrl+"content/users/"+this.portal.user.username+"/replaceService",content:d},{usePost:!0})};return l=n.__decorate([k["default"](C["default"])],l)}()})},"arcgisonline/sharing/dijit/dialog/OverwriteFromCloud":function(){define("require exports tslib esri/Evented dojo/query dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/Deferred ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dijit/_WidgetsInTemplateMixin dojo/_base/lang esri/lang arcgisonline/pages/portal/cloudProvider/BoxConnect arcgisonline/pages/portal/cloudProvider/DropBoxConnect arcgisonline/pages/portal/cloudProvider/GoogleConnect arcgisonline/pages/portal/cloudProvider/OneDriveConnect ../../../sharing/dijit/dialog/ConfirmDialog ./_CreateItemUtilMixin dojo/text!arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function t(){this.templateString=
m["default"]}t.prototype.postMixInProperties=function(){this.inherited(arguments);z["default"].mixin(this,{isBatch:this.items&&1<this.items.length});this.i18n=z["default"].mixin({},w["default"])};t.prototype.startup=function(v,A,B){var x;this.inherited(arguments);this.portal=v;this.cloudProviderInfo=A;this.originalItemToOverwrite=B;this.addItem=null;this.currentCloudProvider="";this.cloudConnect={googleConnect:null,dropBoxConnect:null,oneDriveConnect:null,boxConnect:null,none:null};this.cloudDriveText=
"";this.publishInfo=null;switch(null===(x=this.cloudProviderInfo)||void 0===x?void 0:x.cloudProvider){case "boxConnect":this.currentCloudProvider="boxConnect";this.cloudConnect[this.currentCloudProvider]=new l["default"];this.cloudDriveText="Box";break;case "dropBoxConnect":this.currentCloudProvider="dropBoxConnect";this.cloudConnect[this.currentCloudProvider]=new d["default"];this.cloudDriveText="Dropbox";break;case "oneDriveConnect":this.currentCloudProvider="oneDriveConnect";this.cloudConnect[this.currentCloudProvider]=
new a["default"];this.cloudDriveText="OneDrive";break;case "googleConnect":this.currentCloudProvider="googleConnect";this.cloudConnect[this.currentCloudProvider]=new e["default"];this.cloudDriveText="Google Drive";break;default:this.currentCloudProvider="none",this.cloudDriveText=w["default"].overwriteFromGeoJSON.sourceGeoJSON}return this.initUI()};t.prototype.showModal=function(){var v=this,A=new k["default"],B=w["default"].overwriteFromCloudDlg.overwriteCloudButton+this.cloudDriveText;"none"===
this.currentCloudProvider&&(B=w["default"].updateItemDlg.updateFeatures);this.dlg=new b["default"]({title:w["default"].overwriteFromCloudDlg.originalDialogTitle+this.cloudDriveText,style:{width:"500px",height:"auto"},buttonOkLabel:B});B="";var x=this.cloudProviderInfo.mimeType;switch(x){case "google-apps":case "googlesheets":B=w["default"].overwriteFromCloudDlg.cloudFileTypeGoogleSheets;this.cloudProviderInfo.mimeType="googlesheets";break;case "csv":B=w["default"].overwriteFromCloudDlg.cloudFileTypeCsv;
break;case "excel":case "spreadsheetml":B=w["default"].overwriteFromCloudDlg.cloudFileTypeExcel;break;case "shapeFile":B=w["default"].overwriteFromCloudDlg.cloudFileTypeShapefile;break;case "fgdb":B=w["default"].overwriteFromCloudDlg.cloudFileTypeFgdb;break;case "geojson":B=w["default"].overwriteFromCloudDlg.cloudFileTypeGeoJson;break;default:B=w["default"].overwriteFromCloudDlg.cloudFileTypeExcel}"none"===this.currentCloudProvider&&x.includes("geojson")?(B=r["default"].substitute({title:this.originalItemToOverwrite.title},
w["default"].overwriteFromGeoJSON.description),p["default"](".overwriteInfoNote",this.domNode).addClass("hide")):B=r["default"].substitute({title:this.originalItemToOverwrite.title,fileType:B,cloudDrive:this.cloudDriveText},w["default"].overwriteFromCloudDlg.overwriteInfoText);p["default"](".overwriteInfoText",this.domNode).attr("innerHTML",B);this.dlg.setContent(this.domNode);this.dlg.show();this.own(h["default"](this.dlg,"ok",function(){v.set("readOnly",!0);var D="";v.loaderHelper(!0,w["default"].overwriteFromCloudDlg.defaultLoading);
"none"!==v.currentCloudProvider?(v.cloudConnect[v.currentCloudProvider].GetTokenViaOauth("https://"+v.portal.portalHostname).then(function(E){D="googleConnect"===v.cloudProviderInfo.cloudProvider?["google-apps","googlesheets"].includes(x)?"https://www.googleapis.com/drive/v3/files/"+v.cloudProviderInfo.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+E+'"}':"https://www.googleapis.com/drive/v3/files/"+v.cloudProviderInfo.id+
'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+E+'"}':"dropBoxConnect"===v.cloudProviderInfo.cloudProvider?'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+E+'","Dropbox-API-Arg":"{\\"path\\":\\"'+v.cloudProviderInfo.id+'\\"}"}':"oneDriveConnect"===v.cloudProviderInfo.cloudProvider?"https://graph.microsoft.com/v1.0/me/drive/items/"+v.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+E+'"}':"https://api.box.com/2.0/files/"+
v.cloudProviderInfo.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+E+'"}';v.overwriteItem(D)}),function(E){"popupBlocked"===E?v.showError(w["default"].overwriteFromCloudDlg.errors.popupIssue):"InvalidToken"===E||"windowClosed"===E?v.loaderHelper(!1,null):v.showError(E)}):v.overwriteItem(v.cloudProviderInfo.url)}));h["default"](this.dlg,"cancel",function(){v.set("readOnly",!0);v.onCancel()});return A};t.prototype.onCancel=function(){this.dlg&&this.dlg.destroyRecursive()};t.prototype.overwriteItem=
function(v){var A=this;this.loaderHelper(!0,w["default"].overwriteFromCloudDlg.addingItem);this.addExternalItem(v,this.originalItemToOverwrite.title,this.cloudProviderInfo.mimeType).then(function(){A.publishInfo={itemId:A.addItem.id,filetype:A.getNameForMimeType(A.cloudProviderInfo.mimeType,"publish")};A.getPublishParametersForOverwrite().then(function(B){A.publishInfo.item=A.addItem;A.publishInfo.publishParameters=B;A.publishInfo.overwrite=!0;A.publishInfo.deleteSourceItemUponCompletion=!0;A.loaderHelper(!0,
w["default"].overwriteFromCloudDlg.overwriting);A.publishExternalItem().then(function(x){A.updateTypeKeyword(x).then(function(){window.location.href="item.html?id\x3d"+x[0].serviceItemId+"\x26jobid\x3d"+x[0].jobId})})})});(function(B){A.showError(w["default"].overwriteFromCloudDlg.errors.addItemCheckStatusIssue,!0)})};t.prototype.initUI=function(){return new k["default"]};t.prototype.addExternalItem=function(v,A,B){var x=this,D=new k["default"];v={dataUrl:v,async:!0,type:this.getNameForMimeType(B,
"addItemType"),typeKeywords:this.getNameForMimeType(B,"addItemKeywords"),Title:A,filename:A};var E=this.portal;c["default"].addItem(v,this.originalItemToOverwrite.folderId,E).then(function(y){x.addItem=y;c["default"].checkStatus(x.addItem,D,null,E,function(F){D.resolve(F)})});(function(y){x.showError(y);D.reject(y)});return D};t.prototype.getPublishParametersForOverwrite=function(){var v=this,A=new k["default"];c["default"].getPublishParametersForOverwrite(this.originalItemToOverwrite,this.getNameForMimeType(this.cloudProviderInfo.mimeType,
"addItem")).then(function(B){A.resolve(B)});(function(B){v.showError(B);A.reject(B)});return A};t.prototype.publishExternalItem=function(){var v=this,A=new k["default"];c["default"].publishItem(this.publishInfo.item,this.publishInfo,this.portal).then(function(B){A.resolve(B.publishResult)});(function(B){v.showError(B);A.reject(B)});return A};t.prototype.getNameForMimeType=function(v,A){var B="";return B=-1!==A.indexOf("addItem")?-1!==v.indexOf("csv")?"CSV":-1!==v.indexOf("excel")?"Microsoft Excel":
-1!==v.indexOf("shapeFile")?"Shapefile":-1!==v.indexOf("fgdb")?"File Geodatabase":-1!==v.indexOf("geojson")?"GeoJson":-1!==v.indexOf("sheets")?"Microsoft Excel":"CSV":-1!==v.indexOf("csv")?"csv":-1!==v.indexOf("excel")?"excel":-1!==v.indexOf("shapeFile")?"shapefile":-1!==v.indexOf("fgdb")?"fileGeodatabase":-1!==v.indexOf("geojson")?"geojson":-1!==v.indexOf("sheets")?"excel":"csv"};t.prototype.updateTypeKeyword=function(v){var A=this,B=new k["default"],x=this.portal,D=this.originalItemToOverwrite.folderId,
E="Cloud Drive",y=JSON.parse(this.publishInfo.publishParameters);if("address"===y.locationType||y.layers[0]&&"address"===y.layers[0].locationType)E+=",showUnmatchedAddresses,Involved Lookup";else if("none"===y.locationType||y.layers[0]&&"none"===y.layers[0].locationType)E+=",Table";c["default"].updateItem({folderId:D,id:v[0].serviceItemId,typeKeywords:E},x).then(function(){B.resolve()});(function(F){A.showError(F);B.reject(F)});return B};t.prototype.showError=function(v,A){var B=this,x=z["default"].mixin(z["default"].mixin({},
w["default"].overwriteFromCloudDlg.errors.error),v);this._errorDlg=new b["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(x).then(function(){B.set("readOnly",!1);B._errorDlg.hide()});A||null!=this.addItem&&c["default"].deleteItem(this.addItem,this.portal);this.loaderHelper(!1,null);return!1};t.prototype.loaderHelper=function(v,A){var B=A?A:"Loading...";!0===v?(this.showHideDiv(".loader",!0),p["default"](".loader-text",this.domNode).attr("innerHTML",B),p["default"](".overwriteDialog",
this.domNode).style("opacity","0.5"),p["default"](".overwriteDialog",this.domNode).style("pointer-events","none"),this.dlg.okButton.set("disabled",!0),this.dlg.cancelButton.set("disabled",!0)):(p["default"](".loader-text",this.domNode).attr("innerHTML",B),this.showHideDiv(".loader",!1),p["default"](".overwriteDialog",this.domNode).style("opacity","1"),p["default"](".overwriteDialog",this.domNode).style("pointer-events","auto"),this.dlg.okButton.set("disabled",!1),this.dlg.cancelButton.set("disabled",
!1))};t.prototype.showHideDiv=function(v,A){!0===A?p["default"](v).removeClass("hide"):p["default"](v).addClass("hide")};return t=n.__decorate([u["default"](g["default"],f["default"],C["default"],q["default"])],t)}()})},"arcgisonline/pages/portal/cloudProvider/BoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(O,K,n,q,p,h,f,g){q=n.__importDefault(q);p=n.__importDefault(p);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(u){this.boxToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(u){var w=this,C=new f["default"],z=u+"/home/cloudDriveOauth-callback2.html";this._oauthSignIn("https://account.box.com/api/oauth2/authorize?redirect_uri\x3d"+z+"\x26response_type\x3dcode\x26client_id\x3d"+q["default"].boxClientId+"\x26locale\x3d"+g["default"].locale,u).then(function(r){w._getTokenValue(r,
"code").then(function(l){w._makeExternalRequests("POST","https://api.box.com/oauth2/token","grant_type\x3dauthorization_code\x26code\x3d"+l+"\x26client_id\x3d"+q["default"].boxClientId+"\x26client_secret\x3d"+q["default"].boxClientSecret+"\x26redirect_uri\x3d"+z).then(function(d){w.boxToken=d.access_token;C.resolve(d.access_token)},function(d){C.reject(d)})})},function(r){C.reject(r)});return C};k.prototype.GetAllFiles=function(u){var w=this,C=new f["default"],z=null===u||void 0===u?void 0:u.searchText,
r=null===u||void 0===u?void 0:u.dropdownFilter;u=null===u||void 0===u?void 0:u.previousOrNext;var l="Bearer "+this.boxToken;u||(this.allPages=[]);var d="https://api.box.com/2.0/search?fields\x3did,name\x26type\x3dfile\x26limit\x3d10";d=z?d+("\x26query\x3d"+z):d+"\x26query\x3dcsv xls";d="all"!==r&&r?"csv"===r?d+"\x26file_extensions\x3dcsv":"excel"===r?d+"\x26file_extensions\x3dxls,xlsx":d+"\x26file_extensions\x3dcsv,xls,xlsx":d+"\x26file_extensions\x3dcsv,xls,xlsx";u&&"next"===u&&(d+="\x26offset\x3d"+
this.allPages[this.allPages.length-1].NextToken);u&&"previous"===u&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(d+="\x26offset\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",d,null,l,"application/json").then(function(e){var a={files:[],next:e.total_count>e.limit+e.offset?!0:!1,previous:1<=w.allPages.length?!0:!1};w.allPages.push({Next:a.next,Previous:a.previous,NextToken:e.total_count>e.limit+e.offset?e.limit+
e.offset:!1});for(var b=0;b<e.entries.length;b++){var c=e.entries[b];a.files.push({id:c.id,name:c.name,mimeType:-1!==c.name.indexOf("csv")?"csv":"excel",downloadUrl:"https://api.box.com/2.0/files/"+c.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+w.boxToken+'"}'})}C.resolve(a)},function(e){C.reject(e)});return C};return k=n.__decorate([h["default"](p["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/CommonCloudProvider":function(){define("require exports tslib ../../../tsutils/declareDecorator dojo/Deferred dojo/Stateful".split(" "),
function(O,K,n,q,p,h){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);return function(){function f(g){}f.prototype.postscript=function(){};f.prototype._oauthSignIn=function(g,k){var u=new p["default"],w=k+"/home/cloudDriveOauth-callback.html?cloudUrl\x3d"+(g+"\x26currentSourceUrl\x3d"+(window.location.protocol+"//"+window.location.hostname)+"\x26portalHostName\x3d"+k),C=document.createElement("iframe");C.src=w;C.className="hide";document.body.appendChild(C);w=window.addEventListener?
"addEventListener":"attachEvent";(0,window[w])("attachEvent"===w?"onmessage":"message",function(z){z.origin===k&&("popupBlocked"!==z.data&&"windowClosed"!==z.data||u.reject(z.data),u.resolve(z.data))},!1);return u};f.prototype._getTokenValue=function(g,k){var u=new p["default"];k=k.replace(/[[]/,"[").replace(/[]]/,"]");var w=(new RegExp("[?\x26#]"+k+"\x3d([^\x26#]*)")).exec(g);null==w?u.reject("InvalidToken"):u.resolve(w[1]);return u};f.prototype._makeExternalRequests=function(g,k,u,w,C){var z=new p["default"],
r=new XMLHttpRequest;r.open(g,k,!1);w&&r.setRequestHeader("Authorization",w);C&&r.setRequestHeader("Content-type",C);u?r.send(u):r.send();g=JSON.parse(r.responseText);400<=r.status&&z.reject(JSON.parse(r.responseText));z.resolve(g);return z};return f=n.__decorate([q["default"](h["default"])],f)}()})},"arcgisonline/pages/portal/cloudProvider/DropBoxConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(O,K,n,q,p,h,f,g){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(u){this.dropBoxToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(u){var w=this,C=new f["default"],z="dropbox"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://www.dropbox.com/oauth2/authorize?redirect_uri\x3d"+(u+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
q["default"].dropboxClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+z,u).then(function(r){w._getTokenValue(r,"state").then(function(l){z!==l&&C.reject("invalidState");w._getTokenValue(r,"access_token").then(function(d){w.dropBoxToken=d;C.resolve(d)},function(d){C.reject(d)})})},function(r){C.reject(r)});return C};k.prototype.GetAllFiles=function(u){var w=this,C=new f["default"],z=null===u||void 0===u?void 0:u.searchText,r=null===u||void 0===u?void 0:u.dropdownFilter,l=null===u||void 0===
u?void 0:u.previousOrNext;u="Bearer "+this.dropBoxToken;l||(this.allPages=[]);var d="";z=z?" "+z:"";var e=0;l&&"next"===l&&(e=this.allPages[this.allPages.length-1].NextToken);l&&"previous"===l&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(e=this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());l="";"csv"===r?(l='{"path":"","query":"'+z+' csv","mode": "filename_and_content","max_results":10,"start":'+e+"}",d="csv"):"excel"===r?(l='{"path":"","query":"'+z+' xls","mode": "filename_and_content","max_results":10,"start":'+
e+"}",d="excel"):"shapeFile"===r?(l='{"path":"","query":"'+z+' .zip","mode": "filename_and_content","max_results":10,"start":'+e+"}",d="shapeFile"):"fgdb"===r?(l='{"path":"","query":"'+z+' .zip","mode": "filename_and_content","max_results":10,"start":'+e+"}",d="fgdb"):"geoJson"===r?(l='{"path":"","query":"'+z+' .geojson","mode": "filename_and_content","max_results":10,"start":'+e+"}",d="geojson"):(l='{"path":"","query":"'+z+' csv","mode": "filename_and_content","max_results":10,"start":'+e+"}",d=
"csv");this._makeExternalRequests("POST","https://api.dropboxapi.com/2/files/search",l,u,"application/json").then(function(a){var b={files:[],next:a.more?!0:!1,previous:1<=w.allPages.length?!0:!1};w.allPages.push({Next:b.next,Previous:b.previous,NextToken:a.more?a.start:null});for(var c=0;c<a.matches.length;c++){var m=a.matches[c];"file"===m.metadata[".tag"]&&b.files.push({id:m.metadata.id,name:m.metadata.name,mimeType:d,downloadUrl:'https://content.dropboxapi.com/2/files/download?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+
w.dropBoxToken+'","Dropbox-API-Arg":"{\\"path\\":\\"'+m.metadata.id+'\\"}"}'})}C.resolve(b)},function(a){C.reject(a)});return C};return k=n.__decorate([h["default"](p["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/GoogleConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),function(O,K,n,q,p,h,f,g){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(u){this.googleToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(u){var w=this,C=new f["default"],z="google"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://accounts.google.com/o/oauth2/v2/auth?scope\x3dhttps://www.googleapis.com/auth/drive.readonly\x26redirect_uri\x3d"+(u+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+q["default"].googleClientId+
"\x26hl\x3d"+g["default"].locale+"\x26state\x3d"+z,u).then(function(r){w._getTokenValue(r,"state").then(function(l){z!==l&&C.reject("invalidState");w._getTokenValue(r,"access_token").then(function(d){w.googleToken=d;C.resolve(d)},function(d){C.reject(d)})})},function(r){C.reject(r)});return C};k.prototype.GetAllFiles=function(u){var w=this,C=new f["default"],z=null===u||void 0===u?void 0:u.searchText,r=null===u||void 0===u?void 0:u.dropdownFilter;u=null===u||void 0===u?void 0:u.previousOrNext;u||
(this.allPages=[]);var l="",d="https://www.googleapis.com/drive/v3/files?access_token\x3d"+this.googleToken+"\x26pageSize\x3d10\x26q\x3d";z&&(d+="name contains '"+z+"'and");"csv"===r?(d+='(mimeType\x3d"text/csv")',l="csv"):"excel"===r?(d+='(mimeType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"ormimeType\x3d"application/vnd.ms-excel")',l="excel"):"shapeFile"===r?(d+='(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',l="shapeFile"):"fgdb"===r?(d+=
'(mimeType\x3d"application/x-zip-compressed"ormimeType\x3d"application/zip")',l="fgdb"):"geoJson"===r?(d+='(name contains "json" or name contains "geojson")and(mimeType\x3d"application/octet-stream"ormimeType\x3d"application/json")',l="geojson"):"sheets"===r?(d+='(mimeType\x3d"application/vnd.google-apps.spreadsheet")',l="googlesheets"):(d+='(mimeType\x3d"text/csv")',l="csv");u&&"next"===u&&(d+="\x26pageToken\x3d"+this.allPages[this.allPages.length-1].NextToken);u&&"previous"===u&&2<=this.allPages.length&&
(this.allPages.pop(),1<this.allPages.length&&(d+="\x26pageToken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",d,null,null,"application/json").then(function(e){var a={files:[],next:e.nextPageToken?!0:!1,previous:1<=w.allPages.length?!0:!1};w.allPages.push({Next:a.next,Previous:a.previous,NextToken:e.nextPageToken?e.nextPageToken:null});for(var b=0;b<e.files.length;b++){var c=e.files[b];a.files.push({id:c.id,name:c.name,mimeType:l,downloadUrl:-1!==
c.mimeType.indexOf("google-apps")?"https://www.googleapis.com/drive/v3/files/"+c.id+'/export?mimeType\x3dapplication/vnd.openxmlformats-officedocument.spreadsheetml.sheet\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+w.googleToken+'"}':"https://www.googleapis.com/drive/v3/files/"+c.id+'?alt\x3dmedia\x26httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+w.googleToken+'"}'})}C.resolve(a)},function(e){C.reject(e)});return C};return k=n.__decorate([h["default"](p["default"])],k)}()})},"arcgisonline/pages/portal/cloudProvider/OneDriveConnect":function(){define("require exports tslib ../../../esriGeowConfig ./CommonCloudProvider ../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel".split(" "),
function(O,K,n,q,p,h,f,g){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(u){this.oneDriveToken="";this.allPages=[]}k.prototype.postscript=function(){};k.prototype.GetTokenViaOauth=function(u){var w=this,C=new f["default"],z="onedrive"+Math.floor(Date.now()/1E3);this._oauthSignIn("https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope\x3dfiles.read\x26redirect_uri\x3d"+(u+"/home/cloudDriveOauth-callback2.html\x26response_type\x3dtoken\x26client_id\x3d")+
q["default"].oneDriveClientId+"\x26locale\x3d"+g["default"].locale+"\x26state\x3d"+z,u).then(function(r){w._getTokenValue(r,"state").then(function(l){z!==l&&C.reject("invalidState");w._getTokenValue(r,"access_token").then(function(d){w.oneDriveToken=d;C.resolve(d)},function(d){C.reject(d)})})},function(r){C.reject(r)});return C};k.prototype.GetAllFiles=function(u){var w=this,C=new f["default"],z=null===u||void 0===u?void 0:u.searchText,r=null===u||void 0===u?void 0:u.dropdownFilter;u=null===u||void 0===
u?void 0:u.previousOrNext;var l="Bearer "+this.oneDriveToken;u||(this.allPages=[]);var d="",e="https://graph.microsoft.com/v1.0/me/drive/root/search(q\x3d'";z&&(e+=z+" ");"csv"===r?(e+=".csv",d="csv"):"excel"===r?(e+=".xls",d="excel"):"shapeFile"===r?(e+=".zip",d="shapeFile"):"fgdb"===r?(e+=".zip",d="fgdb"):"geoJson"===r?(e+=".geojson .json",d="geojson"):(e+=".csv",d="csv");e+="')?select\x3dname,id,file\x26top\x3d10";u&&"next"===u&&(e+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-1].NextToken);
u&&"previous"===u&&2<=this.allPages.length&&(this.allPages.pop(),1<this.allPages.length&&(e+="\x26$skiptoken\x3d"+this.allPages[this.allPages.length-2].NextToken),this.allPages.pop());this._makeExternalRequests("GET",e,null,l,"application/json").then(function(a){var b={files:[],next:a["@odata.nextLink"]?!0:!1,previous:1<=w.allPages.length?!0:!1},c={Next:b.next,Previous:b.previous,NextToken:a["@odata.nextLink"]?w._getNextTokenFromUrl(a["@odata.nextLink"],"skiptoken"):null};w.allPages.push(c);for(c=
0;c<a.value.length;c++){var m=a.value[c];m.file&&("fgdb"!==d&&"shapeFile"!==d||"application/zip"===m.file.mimeType)&&b.files.push({id:m.id,name:m.name,mimeType:d,downloadUrl:"https://graph.microsoft.com/v1.0/me/drive/items/"+m.id+'/content?httpHeaders\x3d{"Authorization":"Bearer\x26#32;'+w.oneDriveToken+'"}'})}C.resolve(b)},function(a){C.reject(a)});return C};k.prototype._getNextTokenFromUrl=function(u,w){w=w.replace(/[[]/,"[").replace(/[]]/,"]");var C=(new RegExp("[?\x26#$]"+w+"\x3d([^\x26#]*)")).exec(u);
return null===C?"":C[1]};return k=n.__decorate([h["default"](p["default"])],k)}()})},"arcgisonline/pages/item/widgets/_metadata":function(){define("require exports tslib dojo/_base/lang dojo/Deferred esri/lang dojo/topic ../../../esriGeowConfig ../../../sharing/util ../../utils/arrays ../../statusUtil dojo/i18n!../../../nls/arcgisonline arcgisonline/pages/utils/metadata".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);
g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);return{_isLoading:!1,_gxeContext:null,_editor:null,_gxeAdaptor:null,_portalItemContext:null,_portalItemAdaptor:null,_formats:{formatDefault:"default",formatArcGIS:"arcgis",formatFGDC:"fgdc",formatINSPIRE:"inspire",formatISO19139:"iso19139",formatISO1913932:"iso19139-3.2",formatISO19115:"iso19115"},configureGeocoders:function(r,l){for(var d=r?q["default"].clone(r):[],e=0;e<d.length;e++){var a=
d[e];if(k["default"].isEsriWorldGeocoder(a)){a.suggest=!0;a.name=C["default"].common.esriWorldGeocoder;a.singleLineFieldName="SingleLine";h["default"].isDefined(a.placefinding)||(a.placefinding=!0);h["default"].isDefined(a.batch)||(a.batch=!0);break}}d=d.filter(function(b){return(null===b||void 0===b?void 0:b.placefinding)&&(null===b||void 0===b?void 0:b.singleLineFieldName)});0<d.length&&(l.arcgisGeocoder=!1,l.geocoders=d)},openLayerEditor:function(r,l){var d=this,e,a,b=new p["default"],c=k["default"].getToken(),
m=g["default"].self,t=0<(null===(e=m.metadataFormats)||void 0===e?void 0:e.length)?q["default"].clone(m.metadataFormats):null,v=(null===(a=m.helperServices)||void 0===a?0:a.geocode)?q["default"].clone(m.helperServices.geocode):[],A=u["default"].find(r.layers||[],function(B){return B.id.toString()===l.toString()});if(null===A||void 0===A?0:A.layerMetadataUrl)A.rawMetadataUrl=A.layerMetadataUrl.split("?")[0];else if(null===A||void 0===A?0:A.url)A.rawMetadataUrl=A.url.split("?")[0]+"/metadata";this._isLoading?
b.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require(["esri/dijit/metadata/context/GxeContext","esri/dijit/metadata/context/GxeAdaptor","esri/dijit/metadata/editor/EditorDialog","esri/dijit/metadata/editor/Editor","dojo/domReady!"],function(B,x,D){var E=C["default"].itemProperties.metadataISO1913932,y={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],arcgisMode:!0,defaultArcGISStyle:null,basemapUrl:null,basemap:null,getOriginalXml:void 0},
F={getAllowDeleteMetadata:function(){return!0},getAllowEditMetadata:function(){return!0},getOriginalXml:void 0,deleteMetadata:function(){var H=new p["default"];k["default"].request({url:A.rawMetadataUrl+"/update/",content:{metadata:"",metadataUploadFormat:"xml"}},{usePost:!0}).then(function(I){(null===I||void 0===I?0:I.statusUrl)?w["default"].checkAsyncJobStatus(I.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{deleted:!0});H.resolve()},function(){f["default"].publish("metadata/layerEditor/updated",
{deleted:!0});H.resolve()}):(H.resolve(),f["default"].publish("metadata/layerEditor/updated",{deleted:!0}))},function(I){return H.resolve()});return H},saveXml:function(H,I){var N=new p["default"];k["default"].request({url:A.rawMetadataUrl+"/update/",content:{metadata:I,metadataUploadFormat:"xml"}},{usePost:!0}).then(function(M){(null===M||void 0===M?0:M.statusUrl)?w["default"].checkAsyncJobStatus(M.statusUrl).then(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});N.resolve()},
function(){setTimeout(function(){f["default"].publish("metadata/layerEditor/updated",{changed:!0});N.resolve()},3E3)}):(f["default"].publish("metadata/layerEditor/updated",{changed:!0}),N.resolve())},function(M){return N.resolve()});return N},viewHtml:function(){var H=c?"\x26token\x3d"+c:"",I=new p["default"];H="?format\x3ddefault\x26f\x3dhtml"+H;(null===A||void 0===A?0:A.rawMetadataUrl)?k["default"].openPage(A.rawMetadataUrl+H,!1):k["default"].openPage(A.url.split("?")[0]+"/metadata"+H,!1);I.resolve();
return I}},G=function(){d._editor=new D({title:A.name,gxeAdaptor:d._gxeAdaptor,gxeContext:d._gxeContext});d._editor.show();d._isLoading=!1;b.resolve(d._editor)};if(0<(null===t||void 0===t?void 0:t.length))switch(t[0]){case d._formats.formatFGDC:E=C["default"].itemProperties.metadataFGDC;break;case d._formats.formatINSPIRE:E=C["default"].itemProperties.metadataINSPIRE;break;case d._formats.formatISO19139:E=C["default"].itemProperties.metadataISO19139;break;case d._formats.formatISO19115:E=C["default"].itemProperties.metadataISO19115}y.defaultArcGISStyle=
E;g["default"].extentService?y.basemapUrl=g["default"].extentService:y.basemap="hybrid";d.configureGeocoders(v,y);d._gxeContext=new B(y);(null===A||void 0===A?0:A.hasMetadata)?z.retrieveArcGISXml(A.rawMetadataUrl).then(function(H){F.getOriginalXml=function(){return H};d._gxeAdaptor=new x(F);G()},function(H){F.getOriginalXml=function(){return null};d._gxeAdaptor=new x(F);G()}):(F.getOriginalXml=function(){return null},d._gxeAdaptor=new x(F),G())});(function(B){b.reject()})}),function(B){b.reject()});
return b},openEditor:function(r){var l=this,d,e,a=new p["default"],b=g["default"].self,c=0<(null===(d=b.metadataFormats)||void 0===d?void 0:d.length)?q["default"].clone(b.metadataFormats):null,m=(null===(e=b.helperServices)||void 0===e?0:e.geocode)?q["default"].clone(b.helperServices.geocode):[];this._isLoading?a.reject():(this._isLoading=!0,window.require(["arcgisonline/metadata"],function(){window.require("esri/dijit/metadata/context/GxeContext esri/dijit/metadata/arcgis/portal/PortalItemContext esri/dijit/metadata/arcgis/portal/PortalItemAdaptor esri/dijit/metadata/editor/EditorDialog esri/dijit/metadata/editor/Editor dojo/domReady!".split(" "),
function(t,v,A,B){var x=C["default"].itemProperties.metadataISO1913932,D={allowSaveAndClose:!1,allowViewHtml:!0,allowedTypeKeys:["arcgis"],defaultArcGISStyle:"",basemapUrl:"",basemap:""};if(0<(null===c||void 0===c?void 0:c.length)){var E=c[0];switch(E){case l._formats.formatFGDC:x=C["default"].itemProperties.metadataFGDC;break;case l._formats.formatINSPIRE:x=C["default"].itemProperties.metadataINSPIRE;break;case l._formats.formatISO19139:x=C["default"].itemProperties.metadataISO19139;break;case l._formats.formatISO19115:x=
C["default"].itemProperties.metadataISO19115}}D.defaultArcGISStyle=x;g["default"].extentService?D.basemapUrl=g["default"].extentService:D.basemap="hybrid";l.configureGeocoders(m,D);l._gxeContext=new t(D);l._portalItemContext=new v({isForPortalItemPage:!0,allowEditMetadata:!0,allowPushToItem:!0,autoPullItem:!0,portalItem:r,portal:b,restBaseUrl:g["default"].restBaseUrl,token:k["default"].getToken(),originalXml:null});l._portalItemAdaptor=new A({portalItemContext:l._portalItemContext,viewHtml:function(){var y=
new p["default"],F=r.itemUrl+"/info/metadata/metadata.xml",G=k["default"].getUser();k["default"].openPage(F+"?format\x3ddefault\x26output\x3dhtml"+((null===G||void 0===G?0:G.token)?"\x26token\x3d"+G.token:""),!1);y.resolve();return y}});u["default"].includes(r.typeKeywords,"Metadata")?l._portalItemAdaptor.readXml("text").then(function(y){l._portalItemContext.originalXml=z.cleanXml(y);l._editor=new B({title:r.title,gxeAdaptor:l._portalItemAdaptor,gxeContext:l._gxeContext});l._editor.show();l._isLoading=
!1;a.resolve(l._editor)}):(l._editor=new B({title:r.title,gxeAdaptor:l._portalItemAdaptor,gxeContext:l._gxeContext}),l._editor.show(),l._isLoading=!1,a.resolve(l._editor))});(function(t){a.reject()})}),function(t){a.reject()});return a}}})},"arcgisonline/pages/utils/metadata":function(){define("require exports tslib dojo/_base/Deferred ../../sharing/util esri/request dojo/i18n!../../nls/arcgisonline".split(" "),function(O,K,n,q,p,h,f){function g(b){var c;return b?"1.0"===(null===(c=b.querySelector("metadata \x3e Esri \x3e ArcGISFormat"))||
void 0===c?void 0:c.textContent):!1}function k(b){return"string"!==typeof b?null:null!==b?0===b.length?null:b.trim():b}function u(b){var c=document.createElement("textarea");c.innerHTML=b;return c.value}function w(b){var c=document.createElement("textarea");c.textContent=b;return c.innerHTML}function C(b,c){var m=b.querySelector(c);return u((null===m||void 0===m?void 0:m.innerHTML)||"")}function z(b,c,m){if(!g(b))return b;var t=b.querySelector("metadata");t=t.querySelector("dataIdInfo")||t.appendChild(b.createElement("dataIdInfo"));
var v=t.querySelector("idCitation")||t.appendChild(b.createElement("idCitation"));t=c===e.title?v:t;(t.querySelector(c)||t.appendChild(b.createElement(c))).textContent=u(m);return b}function r(b,c,m,t,v){var A=new q;v=(new XMLSerializer).serializeToString(c);t&&(v='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e'+v);p["default"].request({url:b,content:{metadataUploadFormat:"xml",metadata:v}},{usePost:!0}).then(function(B){return l(B.statusUrl,m)},function(B){return A.reject(B)}).then(function(B){return A.resolve(c)},
function(B){return A.reject(B)});return A}function l(b,c){var m=new q,t,v=0,A=setInterval(function(){v++;h["default"]({url:b,content:{token:c,f:"json"}}).then(function(B){t=((null===B||void 0===B?void 0:B.status)||"failed").toLowerCase();B=B||{status:"Failed"};if("completed"===t)clearInterval(A),m.resolve(B);else if("failed"===t||400<B.code)clearInterval(A),m.reject(B)},function(B){if("Invalid JSON primitive: ."!==(null===B||void 0===B?void 0:B.message)||10<v)clearInterval(A),m.reject(B)})},1E3);
return m}function d(b){return("0"+(b||0)).slice(-2)}Object.defineProperty(K,"__esModule",{value:!0});K.createLayerXML=K.updateLayerXML=K.updateLayerXMLProperty=K.parseEsriXML=K.setXMLTagValue=K.getXMLTagValue=K.encodeHTMLEntities=K.decodeHTMLEntities=K.cleanXml=K.isValidArcGISMetadata=K.retrieveArcGISXml=void 0;p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);K.retrieveArcGISXml=function(b,c){var m=new q,t=p["default"].getUser(),v=null===t||void 0===t?void 0:t.token,A={f:"xml"};
!c&&t&&(A.token=v);c&&c.token&&(A.token=c.token);h["default"]({url:b,content:A,handleAs:"text",preventCache:!0},{usePost:!0}).then(function(B){return m.resolve(k(B))},function(B){m.resolve(null)});return m};K.isValidArcGISMetadata=g;K.cleanXml=k;K.decodeHTMLEntities=u;K.encodeHTMLEntities=w;K.getXMLTagValue=C;K.setXMLTagValue=z;K.parseEsriXML=function(b){var c={};if(!b)return c;c=[].slice.call(b.querySelectorAll(e.keywords)).map(function(m){return m.textContent}).reduce(function(m,t){return m.concat(t.split(/\n/))},
[]);return{title:C(b,e.title),"abstract":C(b,e["abstract"]),summary:C(b,e.summary),credits:C(b,e.credits),use:C(b,e.use),keywords:c}};K.updateLayerXMLProperty=function(b){var c=b.url,m=b.token;b=z(b.xml,e[b.prop],w(b.value));return r(c,b,m)};K.updateLayerXML=r;K.createLayerXML=function(b){var c=b.url,m=b.portal,t=b.prop,v=b.layer,A=b.value;b=b.token;var B=new Date,x=B.getFullYear(),D=d(B.getMonth()+1),E=d(B.getDate()),y=d(B.getHours()),F=d(B.getMinutes());B=d(B.getSeconds());var G=(m=null===(G=null===
m||void 0===m?void 0:m.metadataFormats)||void 0===G?void 0:G[0])&&a[m]?"\x3cArcGISstyle\x3e"+a[m]+"\x3c/ArcGISstyle\x3e":"";v='\n    \x3cmetadata xml:lang\x3d"en"\x3e\n      \x3cEsri\x3e\n        \x3cCreaDate\x3e'+x+D+E+"\x3c/CreaDate\x3e\n        \x3cCreaTime\x3e"+y+F+B+"00\x3c/CreaTime\x3e\n        \x3cArcGISFormat\x3e1.0\x3c/ArcGISFormat\x3e\n        \x3cModDate\x3e"+x+D+E+"\x3c/ModDate\x3e\n        \x3cModTime\x3e"+y+F+B+"00\x3c/ModTime\x3e\n        "+G+"\n      \x3c/Esri\x3e\n      \x3cdataIdInfo\x3e\n        \x3cidCitation\x3e\n          \x3cresTitle\x3e"+
v.name+'\x3c/resTitle\x3e\n        \x3c/idCitation\x3e\n      \x3c/dataIdInfo\x3e\n      \x3cmdDateSt Sync\x3d"TRUE"\x3e'+x+D+E+"\x3c/mdDateSt\x3e\n    \x3c/metadata\x3e\n  ";v=(new DOMParser).parseFromString(v,"text/xml");v.querySelector("dataIdInfo").appendChild(v.createElement(e[t]));t=z(v,e[t],w(A));return r(c,t,b,!0)};var e;(function(b){b.title="resTitle";b["abstract"]="idAbs";b.summary="idPurp";b.credits="idCredit";b.use="resConst Consts useLimit";b.keywords="searchKeys keyword"})(e||(e={}));
var a={arcgis:f["default"].myOrganization.itemDetailsTab.formats.arcgis,fgdc:f["default"].myOrganization.itemDetailsTab.formats.fgdc,inspire:f["default"].myOrganization.itemDetailsTab.formats.inspire,iso19139:f["default"].myOrganization.itemDetailsTab.formats.iso19139,"iso19139-3.2":f["default"].myOrganization.itemDetailsTab.formats.iso1913932,iso19115:f["default"].myOrganization.itemDetailsTab.formats.iso19115}})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../utils/dom dojo/dom-construct dojo/topic dojo/string dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./httpsResultIssue.html dojo/text!./httpsResultUpdated.html dojo/text!./httpsResultUnchanged.html dojo/text!./httpsUpdate.html ../../../../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.templateString=e["default"];this.WEB_SCENE="Web Scene"}b.prototype.postMixInProperties=
function(){this.inherited(arguments);this.i18n=z["default"]};b.prototype.startup=function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.isWebScene=this.item.type===this.WEB_SCENE;this.updateHttpsDesc.innerHTML=this.i18n.itemProperties[this.isWebScene?"updateSceneLayersToHTTPSDesc":"updateLayersToHTTPSDesc"];this.own(k["default"](this.okBtn,this.okClick.bind(this)),k["default"](this.doneBtn,this.doneClick.bind(this)),k["default"](this.cancelBtn,this.cancelClick.bind(this)),
k["default"](this.toggleIssues,this.issuesToggled.bind(this)),k["default"](this.toggleUpdated,this.updatedToggled.bind(this)),k["default"](this.toggleUnchanged,this.unchangedToggled.bind(this)))};b.prototype.filterForIssues=function(c){return c.filter(function(m){return"failure"===m.layerUrlChange||m.layerRenderingFailures||m.layerQueryUrlFailures||m.itemAccess&&("failure"===m.itemUrlChange||m.itemRenderingFailures||m.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(c){return c.filter(function(m){return("success"===
m.layerUrlChange||m.layerRenderingChanged||m.layerQueryUrlChanged)&&!m.layerRenderingFailures&&!m.layerQueryUrlFailures||m.itemAccess&&("success"===m.itemUrlChange||m.itemRenderingChanged||m.itemQueryUrlChanged)&&!m.itemRenderingFailures&&!m.itemQueryUrlFailures})};b.prototype.filterForUnchanged=function(c){return c.filter(function(m){return"none"===m.layerUrlChange&&!m.layerRenderingChanged&&!m.layerRenderingFailures&&!m.layerQueryUrlChanged&&!m.layerQueryUrlFailures&&(!m.itemAccess||m.itemAccess&&
"none"===m.itemUrlChange&&!m.itemRenderingChanged&&!m.itemRenderingFailures&&!m.itemQueryUrlChanged&&!m.itemQueryUrlFailures)})};b.prototype.writeOutIssues=function(c){var m=this;c.length?(this.issuesTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersWithIssues,{n:c.length}),h["default"].empty(this.issues),c.forEach(function(t){t.message="";if("failure"===t.layerUrlChange||t.layerQueryUrlFailures||t.itemQueryUrlFailures)t.message=m.i18n.itemProperties.layerMessages.httpsNotSupported;
else if(t.layerRenderingFailures||t.itemAccess&&t.itemRenderingFailures)t.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"sceneSymbolHttpsNotSupported":"symbolHttpsNotSupported"];h["default"].place(g["default"].substitute(r["default"],t),m.issues,"last")}),p["default"].showNode(this.layersWithIssues)):p["default"].hideNode(this.layersWithIssues)};b.prototype.writeOutUpdated=function(c){var m=this;c.length?(this.updatedTitle.innerHTML=g["default"].substitute(this.i18n.itemProperties.layersUpdated,
{n:c.length}),h["default"].empty(this.updated),c.forEach(function(t){t.message="";"success"===t.layerUrlChange||t.layerRenderingChanged||t.layerQueryUrlChanged?(t.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"updatedInScene":"updatedInMap"],t.itemAccess&&("success"===t.itemUrlChange||t.itemRenderingChanged||t.itemQueryUrlChanged)&&(t.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"])):t.itemAccess&&("success"===t.itemUrlChange||t.itemRenderingChanged||
t.itemQueryUrlChanged)?t.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"updatedInSceneAndItem":"updatedInMapAndItem"]:t.layerRenderingChanged&&(t.message=m.i18n.itemProperties.layerMessages[m.isWebScene?"updatedInScene":"updatedInMap"]);h["default"].place(g["default"].substitute(l["default"],t),m.updated,"last")}),p["default"].showNode(this.layersUpdated)):p["default"].hideNode(this.layersUpdated)};b.prototype.writeOutUnchanged=function(c){var m=this;c.length?(this.unchangedTitle.innerHTML=
g["default"].substitute(this.i18n.itemProperties.layersUnchanged,{n:c.length}),h["default"].empty(this.unchanged),c.forEach(function(t){t.message="";h["default"].place(g["default"].substitute(d["default"],t),m.unchanged,"last")}),p["default"].showNode(this.layersUnchanged)):p["default"].hideNode(this.layersUnchanged)};b.prototype.okClick=function(){var c=this;p["default"].hideNode(this.updateHttpsDesc);p["default"].showNode(this.updateHttpsLoading);p["default"].disableNode(this.okBtn,!0);q["default"].switchToHTTPS(this.item.itemData,
this.item).then(function(m){var t=c.filterForIssues(m.layers),v=c.filterForUpdated(m.layers),A=c.filterForUnchanged(m.layers);p["default"].hideNode(c.updateHttpsLoading);C["default"].isDefined(m.configChange)&&"failure"===m.configChange?p["default"].showNode(c.unexpectedError):(c.writeOutIssues(t),c.writeOutUpdated(v),c.writeOutUnchanged(A),t.length?c.issuesToggled():v.length?c.updatedToggled():A.length&&c.unchangedToggled(),t.length||v.length||!A.length?p["default"].showNode(c.updateHttpsResults):
p["default"].showNode(c.noChangesMade));p["default"].hideNode(c.okBtn);p["default"].hideNode(c.cancelBtn);p["default"].showNode(c.doneBtn);f["default"].publish("item-data/change")},function(m){p["default"].hideNode(c.updateHttpsLoading);p["default"].showNode(c.unexpectedError);p["default"].hideNode(c.okBtn);p["default"].hideNode(c.cancelBtn);p["default"].showNode(c.doneBtn)})};b.prototype.cancelClick=function(){f["default"].publish("update-to-https/cancel")};b.prototype.doneClick=function(){f["default"].publish("update-to-https/done")};
b.prototype.toggleSection=function(c,m){p["default"].showHide(m,c.classList.contains("icon-ui-right"));c.classList.toggle("icon-ui-right");c.classList.toggle("icon-ui-down")};b.prototype.issuesToggled=function(){this.toggleSection(this.toggleIssues,this.issues)};b.prototype.updatedToggled=function(){this.toggleSection(this.toggleUpdated,this.updated)};b.prototype.unchangedToggled=function(){this.toggleSection(this.toggleUnchanged,this.unchanged)};return b=n.__decorate([a["default"](u["default"],w["default"])],
b)}()})},"arcgisonline/map/core/urlUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/dom dojo/dom-construct dojo/json dojo/Deferred dojo/DeferredList esri/request esri/lang esri/layers/VectorTileLayer esri/layers/CSVLayer esri/layers/KMLLayer esri/layers/GeoRSSLayer esri/layers/WebTiledLayer esri/layers/WMSLayer esri/layers/WFSLayer esri/layers/WMTSLayer".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){function b(Y,da){var S=new f;Y._ssl&&delete Y._ssl;var P=
esriGeowConfig.restBaseUrl+"content/users/"+da.owner;P+=da.ownerFolder?"/"+da.ownerFolder:"";P+="/items/"+da.id+"/update";var V={text:h.stringify(Y),f:"json"},ba={usePost:!0};"http:"===window.location.protocol&&-1<P.indexOf("https://")&&(ba.useProxy=!0);k({url:P,content:V,load:function(ea){S.resolve()},error:function(ea){S.reject(ea)}},ba);return S}function c(Y){var da=Y.configLayer,S=Y.from,P=Y.to,V=Y.type,ba=Y.checkRenderer,ea=new f;switch(da.layerType||da.type){case "ArcGISFeatureLayer":case void 0:if(da.url)return m(Y);
if(ba)return t(Y);ea.resolve({type:"notTested",msg:"No URL"});break;case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":return m(Y);case "VectorTileLayer":return v(Y);case "CSV":return A(Y);case "GeoRSS":return B(Y);case "KML":return x(Y);case "WebTiledLayer":return da.wmtsInfo?
D(Y):E(Y);case "WFS":return y(Y);case "WMS":return F(Y);case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":ba={url:"",origUrl:"",msg:"Layer has no URL.",code:"layer_003",layerId:da.id,type:"layer"},da.portalUrl&&(S=da.portalUrl.replace(S,P),S!==da.portalUrl?(da.portalUrl=S,K.mixin(ba,{msg:"Portal URL switched to "+P+".",code:"layer_001"})):K.mixin(ba,{msg:"Portal URL is already "+P+".",code:"layer_002"})),ea.resolve(ba);case "OpenStreetMap":ba={url:"",origUrl:"",msg:"Layer has no URL.",
code:"layer_003",layerId:da.id,type:"layer"},ea.resolve(ba);default:if("table"===V)return m(Y);ea.resolve({type:"notTested",msg:"Unknown type"})}return ea}function m(Y){var da=Y.configLayer,S=Y.from,P=Y.to,V=Y.checkRenderer,ba=new f,ea=da.url,ia=da.url.replace(S,P),ja={url:ea,origUrl:ea,layerId:da.id,type:"layer"};if(ea===ia)return K.mixin(ja,{url:ia,msg:"Layer URL is already "+P+".",code:"layer_002"}),V?G(da,Y,ja).then(function(ra){I(da,ra).then(function(va){Z(Y,va).then(function(za){ba.resolve(za)})})}):
G(da,Y,ja).then(function(ra){Z(Y,ra).then(function(va){ba.resolve(va)})}),ba;if("http://"===S&&"https://"===P&&-1===ea.indexOf("sampleserver")&&(-1<ea.indexOf(".arcgis.com")||-1<ea.indexOf(".arcgisonline.com")))return da.url=ia,K.mixin(ja,{url:ia,msg:"Layer URL switched to "+P+".",code:"layer_001"}),V?G(da,Y,ja).then(function(ra){I(da,ra).then(function(va){Z(Y,va).then(function(za){ba.resolve(za)})})}):G(da,Y,ja).then(function(ra){Z(Y,ra).then(function(va){ba.resolve(va)})}),ba;var la=1,na=setInterval(function(){esri.id.isBusy()&&
3>la?la++:(esri.id.isBusy()&&esri.id.dialog.destroy(),K.mixin(ja,{msg:"Timeout",code:"layer_021"}),G(da,Y,ja).then(function(ra){Z(Y,ra).then(function(va){ba.reject(va)})}),clearInterval(na),delete na)},2E4);S=ia+(-1<ia.indexOf("?")?"\x26f\x3djson":"?f\x3djson");k({url:S,callbackParamName:"callback",load:function(ra,va){na&&(clearTimeout(na),da.url=ia,K.mixin(ja,{url:ia,msg:"Layer URL switched to "+P+".",code:"layer_001"}),V?G(da,Y,ja).then(function(za){I(da,za).then(function(Aa){Z(Y,Aa).then(function(Ba){ba.resolve(Ba)})})}):
G(da,Y,ja).then(function(za){Z(Y,za).then(function(Aa){ba.resolve(Aa)})}))},error:function(ra){na&&(clearTimeout(na),esri.id.isBusy()?ra&&ra.message&&-1<ra.message.toLowerCase().indexOf("aborted")?(K.mixin(ja,{msg:"Aborted the Sign-In process.",code:"layer_012"}),G(da,Y,ja).then(function(va){Z(Y,va).then(function(za){ba.reject(za)})})):(K.mixin(ja,{msg:ra.message,code:"layer_010"}),G(da,Y,ja).then(function(va){Z(Y,va).then(function(za){ba.reject(za)})})):(K.mixin(ja,{msg:ra.message,code:"layer_010"}),
G(da,Y,ja).then(function(va){Z(Y,va).then(function(za){ba.reject(za)})})))}});return ba}function t(Y){var da=Y.configLayer,S=new f,P={url:"",origUrl:"",layerId:da.id,msg:"Layer has no URL.",code:"layer_003",type:"layer",renderers:[],symbols:[]};if(da.featureCollection)if(da.featureCollection.layers){var V=[];O.forEach(da.featureCollection.layers,function(ba,ea){if(ba.layerDefinition&&ba.layerDefinition.drawingInfo&&ba.layerDefinition.drawingInfo.renderer){var ia=new f;M(da,ba.layerDefinition.drawingInfo.renderer).then(K.hitch(this,
function(ja,la){da.featureCollection.layers[ja].layerDefinition.drawingInfo.renderer=la.renderer;ia.resolve(la)},ea));V.push(ia)}ba.featureSet&&ba.featureSet.features&&ba.featureSet.features.length&&ba.featureSet.features[0].symbol&&O.forEach(ba.featureSet.features,function(ja){var la=new f;J(da,ja.symbol).then(K.hitch(this,function(na,ra){P.symbols=[ra];la.resolve(P)},ea));V.push(la)})});V.length?(new g(V)).addCallback(function(ba){var ea=[],ia=[];O.forEach(ba,function(ja){"renderer"===ja[1].type?
ea.push(ja[1]):"symbol"===ja[1].type&&ia.push(ja[1])});K.mixin(P,{renderers:ea.length?ea:[],symbols:ia.length?ia:[]});Z(Y,P).then(function(ja){S.resolve(ja)})}):Z(Y,P).then(function(ba){S.resolve(ba)})}else Z(Y,P).then(function(ba){S.resolve(ba)});else Z(Y,P).then(function(ba){S.resolve(ba)});return S}function v(Y){var da=Y.configLayer,S=Y.from,P=Y.to,V=new f,ba=da.styleUrl;if(!da.styleUrl&&da.itemId){var ea=esriGeowConfig.restBaseUrl+"content/items/"+da.itemId+"/resources";if(!esriGeowConfig.self.isPortal){var ia=
ea.indexOf("://"),ja=ea.indexOf("/",ia+3);ea=ea.substring(0,ia+3)+esriGeowConfig.self.portalHostname+ea.substring(ja)}da.styleUrl=ea+"/styles/root.json"}var la=da.styleUrl.replace(S,P);S=new w(la);n.connect(S,"onLoad",K.hitch(this,function(){var na={url:la,origUrl:ba,layerId:da.id,type:"layer"};da.styleUrl===la?K.mixin(na,{msg:"Layer URL is already "+P+".",code:"layer_002"}):(da.styleUrl=la,K.mixin(na,{msg:"Layer URL switched to "+P+".",code:"layer_001"}));Z(Y,na).then(function(ra){V.resolve(ra)})}));
n.connect(S,"onError",K.hitch(this,function(na){Z(Y,{url:da.styleUrl,origUrl:da.styleUrl,layerId:da.id,msg:na.message,code:"layer_010",type:"layer"}).then(function(ra){V.reject(ra)})}));return V}function A(Y){var da=Y.configLayer,S=Y.from,P=Y.to,V=Y.checkRenderer,ba=new f,ea=da.url.replace(S,P),ia=da.url;if(ia===ea)return Y={url:ea,origUrl:ia,layerId:da.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},V?I(da,Y).then(function(ja){ba.resolve(ja)}):ba.resolve(Y),ba;Y=new C(ea,{columnDelimiter:da.columnDelimiter,
latitudeFieldName:da.locationInfo.latitudeFieldName,longitudeFieldName:da.locationInfo.longitudeFieldName});n.connect(Y,"onLoad",K.hitch(this,function(){da.url=ea;var ja={url:ea,origUrl:ia,layerId:da.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};V?I(da,ja).then(function(la){ba.resolve(la)}):ba.resolve(ja)}));n.connect(Y,"onError",K.hitch(this,function(ja){ba.reject({url:da.url,origUrl:da.url,layerId:da.id,msg:ja.message,code:"layer_010",type:"layer"})}));return ba}function B(Y){var da=
Y.configLayer,S=Y.from,P=Y.to,V=Y.checkRenderer,ba=new f,ea=da.url.replace(S,P),ia=da.url;if(ia===ea){var ja={url:ea,origUrl:ia,layerId:da.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"};V&&da.pointSymbol?J(da,da.pointSymbol).then(function(la){ja.symbols=[la];ba.resolve(ja)}):ba.resolve(ja);return ba}Y=new r(ea);n.connect(Y,"onLoad",K.hitch(this,function(){da.url=ea;var la={url:ea,origUrl:ia,layerId:da.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"};V&&da.pointSymbol?
J(da,da.pointSymbol).then(function(na){la.symbols=[na];ba.resolve(la)}):ba.resolve(la)}));n.connect(Y,"onError",K.hitch(this,function(la){ba.reject({url:da.url,origUrl:da.url,layerId:da.id,msg:la.message,code:"layer_010",type:"layer"})}));return ba}function x(Y){var da=Y.configLayer,S=Y.from,P=Y.to,V=new f,ba=da.url.replace(S,P),ea=da.url;if(ea===ba)return V.resolve({url:ba,origUrl:ea,layerId:da.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),V;S=ba;P=arcgisonline.sharing.util.getUser();
var ia=esriGeowConfig.self.urlKey?esriGeowConfig.self.customBaseUrl:esriGeowConfig.self.portalHostname,ja=S.indexOf(ia);P&&da.itemId&&-1<ja&&(S="https://"+esriGeowConfig.self.portalHostname+S.substring(ja+ia.length));P&&(-1<S.indexOf(esriGeowConfig.self.portalHostname)||-1<S.indexOf(ia))&&(P=arcgisonline.sharing.util.getToken())&&(S+="?token\x3d"+P);S=new z(S);n.connect(S,"onLoad",K.hitch(this,function(){da.url=ba;var la={url:ba,origUrl:ea,layerId:da.id,msg:"Layer URL switched to https.",code:"layer_001",
type:"layer"};da.itemId?(Y.checkRenderer=!1,Z(Y,la).then(function(na){V.resolve(na)})):V.resolve(la)}));n.connect(S,"onError",K.hitch(this,function(la){V.reject({url:da.url,origUrl:da.url,layerId:da.id,msg:la.message,code:"layer_010",type:"layer"})}));return V}function D(Y){var da=Y.configLayer,S=Y.from;Y=Y.to;var P=new f,V={};da.wmtsInfo.customParameters&&(V.customParameters=da.wmtsInfo.customParameters);da.wmtsInfo.customLayerParameters&&(V.customLayerParameters=da.wmtsInfo.customLayerParameters);
var ba=da.wmtsInfo.url.replace(S,Y),ea=da.wmtsInfo.url;if(ea===ba)return P.resolve({url:ba,origUrl:ea,layerId:da.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),P;var ia=function(){var na=!1;O.forEach(layerObj.layers,function(ra){ra.identifier===da.wmtsInfo.layerIdentifier&&O.forEach(ra.tileMatrixSetInfos,function(va){if(va.tileMatrixSet===da.wmtsInfo.tileMatrixSet){na=!0;layerObj.copyright&&"none"!==layerObj.copyright.toLowerCase()&&(da.copyright=layerObj.copyright,180<layerObj.copyright.length&&
(da.copyright=layerObj.copyright.substring(0,180)+"..."));var za=-1<O.indexOf(ra.formats,"image/png")?"image/png":ra.formats[0];da.templateUrl=layerObj.getTileUrlTemplate({identifier:ra.identifier,tileMatrixSet:va.tileMatrixSet,format:za});-1<da.templateUrl.indexOf("http://")&&W(ba,da.templateUrl)&&(da.templateUrl=da.templateUrl.replace("http://","https://"));-1<da.templateUrl.indexOf("http://")?P.reject({url:da.wmtsInfo.url,origUrl:da.wmtsInfo.url,layerId:da.id,msg:"WTMS does not return https URLs.",
code:"layer_013",type:"layer"}):(da.wmtsInfo.url=ba,P.resolve({url:ba,origUrl:ea,layerId:da.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))}})});na||P.reject({url:da.wmtsInfo.url,origUrl:da.wmtsInfo.url,layerId:da.id,msg:"WMTS is missing layer or tileMatrixSet.",code:"wmts_011",type:"layer"})};layerObj=new a(ba,V);var ja=n.connect(layerObj,"onError",function(na){n.disconnect(ja);n.disconnect(la);V.serviceMode="KVP";layerObj=new a(ba,V);n.connect(layerObj,"onError",function(ra){P.reject({url:da.wmtsInfo.url,
origUrl:da.wmtsInfo.url,layerId:da.id,msg:ra.message,code:"layer_010",type:"layer"})});n.connect(layerObj,"onLoad",K.hitch(this,function(){ia()}))}),la=n.connect(layerObj,"onLoad",K.hitch(this,function(){n.disconnect(ja);n.disconnect(la);ia()}));return P}function E(Y){var da=Y.configLayer,S=Y.from;Y=Y.to;var P=new f,V=da.templateUrl.replace(S,Y),ba=da.templateUrl;if(ba===V)return P.resolve({url:V,origUrl:ba,layerId:da.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),P;var ea=setTimeout(K.hitch(this,
function(){clearTimeout(ea);ea=null;P.reject({url:da.templateUrl,origUrl:da.templateUrl,layerId:da.id,msg:"WebTiledLayer timeout error.",code:"WTL_012",type:"layer"})}),1E4);S=V;da.subDomains&&da.subDomains.length&&(S=S.replace("{subDomain}",da.subDomains[0]));S=S.replace("{level}",0).replace("{row}",0).replace("{col}",0);k({url:S,load:function(ia,ja){ea&&(clearTimeout(ea),da.templateUrl=V,P.resolve({url:V,origUrl:ba,layerId:da.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"}))},
error:function(ia){ea&&(clearTimeout(ea),P.reject({url:da.templateUrl,origUrl:da.templateUrl,layerId:da.id,msg:"WebTiledLayer access error.",code:"WTL_011",type:"layer"}))}});return P}function y(Y){var da=Y.config.spatialReference,S=Y.configLayer,P=Y.from,V=Y.to,ba=Y.checkRenderer,ea=new f,ia=S.url.replace(P,V),ja=S.url;if(ja===ia)return Y={url:ia,origUrl:ja,layerId:S.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"},ba?I(S,Y).then(function(ra){ea.resolve(ra)}):ea.resolve(Y),ea;
var la=new e;n.connect(la,"onError",K.hitch(this,function(ra){ea.reject({url:S.url,origUrl:S.url,layerId:S.id,msg:ra.message,code:"layer_010",type:"layer"})}));var na={url:ia,version:S.wfsInfo.version,customParameters:S.wfsInfo.customParameters};la.initialize(na,function(ra){for(var va,za=0;za<ra.length;za++)if(ra[za].name===S.wfsInfo.name){va=ra[za];break}va?(na={layerName:S.wfsInfo.name,visible:S.defaultVisibility,maxFeatures:S.wfsInfo.maxFeatures?S.wfsInfo.maxFeatures:3E3,swapXY:S.wfsInfo.swapXY,
geometryType:S.layerDefinition?S.layerDefinition.geometryType:null,wkid:S.layerDefinition?S.layerDefinition.spatialReference.wkid:S.wfsInfo.supportedSpatialReferences?S.wfsInfo.supportedSpatialReferences[0]:4326,mode:"snapshot"},la.selectLayer(na,function(Aa){S.wfsInfo.wfsNamespace=la.layerNamespace;S.wfsInfo.featureUrl=la.getFeatureUrl;-1<S.wfsInfo.wfsNamespace.indexOf("http://")||-1<S.wfsInfo.featureUrl.indexOf("http://")?ea.reject({url:S.url,origUrl:S.url,layerId:S.id,msg:"WFS does not return https URLs.",
code:"WFS_012",type:"layer"}):(S.wfsInfo.supportedSpatialReferences=va.spatialReferences,-1===O.indexOf([3857,102100],da.wkid)&&4326!==da.wkid&&-1===O.indexOf(la.spatialReferences,da.wkid)?ea.reject({url:S.url,origUrl:S.url,layerId:S.id,msg:"WFS does not contain map spatial reference.",code:"WFS_013",type:"layer"}):(S.url=ia,Aa={url:ia,origUrl:ja,layerId:S.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"},ba?I(S,Aa).then(function(Ba){ea.resolve(Ba)}):ea.resolve(Aa)))})):ea.reject({url:S.url,
origUrl:S.url,layerId:S.id,msg:"WFS does not contain layer.",code:"WFS_011",type:"layer"})});return ea}function F(Y){var da=Y.configLayer,S=Y.from;Y=Y.to;var P=new f,V=da.url.replace(S,Y),ba=da.url;if(ba===V)return P.resolve({url:V,origUrl:ba,layerId:da.id,msg:"Layer URL is already https.",code:"layer_002",type:"layer"}),P;var ea=new d(V,{visibleLayers:da.visibleLayers,customLayerParameters:da.customLayerParameters,customParameters:da.customParameters});n.connect(ea,"onLoad",K.hitch(this,function(){-1<
ea.getMapURL.indexOf("http://")&&W(V,ea.getMapURL)&&(ea.getMapURL=ea.getMapURL.replace("http://","https://"));-1<ea.getFeatureInfoURL.indexOf("http://")&&W(V,ea.getFeatureInfoURL)&&(ea.getFeatureInfoURL=ea.getFeatureInfoURL.replace("http://","https://"));-1<ea.copyright.indexOf("http://")&&W(V,ea.copyright)&&(ea.copyright=ea.copyright.replace("http://","https://"));if(-1<ea.getMapURL.indexOf("http://")||-1<ea.getFeatureInfoURL.indexOf("http://"))P.reject({url:da.url,origUrl:da.url,layerId:da.id,msg:"WMS does not return https URLs.",
code:"WMS_011",type:"layer"});else if(-1<ea.getMapURL.indexOf("https://localhost/")||-1<ea.getFeatureInfoURL.indexOf("https://localhost/"))P.reject({url:da.url,origUrl:da.url,layerId:da.id,msg:"WMS does not return valid https URLs.",code:"WMS_012",type:"layer"});else{for(var ia=[],ja=0;ja<da.layers.length;ja++){var la=K.clone(da.layers[ja]),na=function(Aa,Ba){O.forEach(Aa,function(Oa){Oa.subLayers&&0<Oa.subLayers.length?na(Oa.subLayers,Ba):Ba.push(Oa)},this)};if(ea.layerInfos){var ra=[];na(ea.layerInfos,
ra);ea.layerInfos=ra}ra=!1;for(var va=0;va<ea.layerInfos.length;va++){var za=ea.layerInfos[va];if(la.name===za.name)if(ra=!0,la.legendURL&&za.legendURL){if(la.legendURL=za.legendURL,-1<la.legendURL.indexOf("http://")&&W(V,la.legendURL)&&(la.legendURL=la.legendURL.replace("http://","https://")),-1<la.legendURL.indexOf("http://")){P.reject({url:da.url,origUrl:da.url,layerId:da.id,msg:"WMS does not return https URLs.",code:"WMS_011",type:"layer"});return}}else la.legendURL=za.legendURL}if(!ra){P.reject({url:da.url,
origUrl:da.url,layerId:da.id,msg:"WMS layer is missing.",code:"WMS_013",type:"layer"});return}ia.push(la)}da.url=V;da.mapUrl=ea.getMapURL;da.featureInfoUrl=ea.getFeatureInfoURL;da.copyright=ea.copyright;da.layers=ia;P.resolve({url:V,origUrl:ba,layerId:da.id,msg:"Layer URL switched to https.",code:"layer_001",type:"layer"})}}));n.connect(ea,"onError",K.hitch(this,function(ia){P.reject({url:da.url,origUrl:da.url,layerId:da.id,msg:ia.message,code:"layer_010",type:"layer"})}));return P}function G(Y,da,
S){var P=new f,V=[];Y.layers&&O.forEach(Y.layers,function(ea,ia){if(ea.layerUrl){var ja=new f;m({configLayer:{url:ea.layerUrl,id:Y.id+"_"+ia},from:da.from,to:da.to,checkRenderer:!1}).then(K.hitch(this,function(la,na){la.layerUrl=na.url;ja.resolve(na)},ea),function(la){ja.resolve(la)});V.push(ja)}});if(V.length){var ba=[];(new g(V)).addCallback(function(ea){O.forEach(ea,function(ia){ba.push(ia[1])});S.queryLayers=ba;P.resolve(S)})}else P.resolve(S);return P}function H(Y,da,S,P){var V=new f,ba=[];S.layers&&
O.forEach(S.layers,function(ia,ja){if(ia.layerUrl){var la=new f;m({configLayer:{url:ia.layerUrl,id:Y.id+"_item_"+ja},from:da.from,to:da.to,checkRenderer:!1}).then(K.hitch(this,function(na){ia.layerUrl=na.url;la.resolve(na)}),function(na){la.resolve(na)});ba.push(la)}});if(ba.length){var ea=[];(new g(ba)).addCallback(function(ia){O.forEach(ia,function(ja){ea.push(ja[1])});P.item.queryLayers=ea;V.resolve(P)})}else V.resolve(P);return V}function I(Y,da){var S=new f,P=[];if(Y.layerDefinition&&Y.layerDefinition.drawingInfo&&
Y.layerDefinition.drawingInfo.renderer){var V=new f;M(Y,Y.layerDefinition.drawingInfo.renderer).then(K.hitch(this,function(ea,ia){ea.layerDefinition.drawingInfo.renderer=ia.renderer;V.resolve(ia)},Y),function(ea){V.resolve(ea)});P.push(V)}Y.layers&&O.forEach(Y.layers,function(ea){if(ea.layerDefinition&&ea.layerDefinition.drawingInfo&&ea.layerDefinition.drawingInfo.renderer){var ia=new f;M(Y,ea.layerDefinition.drawingInfo.renderer).then(K.hitch(this,function(ja,la){ja.layerDefinition.drawingInfo.renderer=
la.renderer;ia.resolve(la)},ea),function(ja){ia.resolve(ja)});P.push(ia)}});if(P.length){var ba=[];(new g(P)).addCallback(function(ea){O.forEach(ea,function(ia){ba.push(ia[1])});da.renderers=ba;S.resolve(da)})}else S.resolve(da);return S}function N(Y,da,S){var P=new f,V=[];da.layers&&O.forEach(da.layers,function(ea){if(ea.layerDefinition&&ea.layerDefinition.drawingInfo&&ea.layerDefinition.drawingInfo.renderer){var ia=new f;M(Y,ea.layerDefinition.drawingInfo.renderer).then(K.hitch(this,function(ja){ea.layerDefinition.drawingInfo.renderer=
ja.renderer;ia.resolve(ja)}),function(ja){ia.resolve(ja)});V.push(ia)}});if(V.length){var ba=[];(new g(V)).addCallback(function(ea){O.forEach(ea,function(ia){ba.push(ia[1])});S.item.renderers=ba;P.resolve(S)})}else P.resolve(S);return P}function M(Y,da){for(var S=new f,P=[],V=h.stringify(da),ba=V.indexOf("http://");-1<ba;){var ea=V.indexOf('"',ba+1);ea=V.substring(ba,ea);P.push(R(Y,ea));ba=V.indexOf("http://",ba+1)}P.length?(new g(P)).addCallback(function(ia){var ja=[];O.forEach(ia,function(la){var na=
la[1];ja.push(na);!0===la[0]&&(V=V.replace(na.origUrl,na.url))});S.resolve({renderer:h.parse(V),origRenderer:da,layerId:Y.id,type:"renderer",symbols:ja})}):S.resolve({renderer:da,origRenderer:da,layerId:Y.id,type:"renderer",symbols:[]});return S}function J(Y,da){var S=new f;da?da.url?R(Y,da.url).then(function(P){da.url=P.url;S.resolve(P)},function(P){S.resolve(P)}):S.resolve({url:"",origUrl:"",layerId:Y.id,msg:"Symbol has no URL.",code:"sym_003",type:"symbol"}):S.resolve({url:"",origUrl:"",layerId:Y.id,
msg:"No symbol.",code:"sym_005",type:"symbol"});return S}function R(Y,da){var S=new f,P=da;if(da.startsWith("https://"))return S.resolve({url:da,origUrl:P,layerId:Y.id,msg:"symbol URL already https",code:"sym_002",type:"symbol"}),S;if(da.startsWith("http://")){if(da=da.replace("http://","https://"),-1<da.indexOf(esriGeowConfig.self.portalHostname))return S.resolve({url:da,origUrl:P,layerId:Y.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"}),S}else return S.resolve({url:da,origUrl:P,
layerId:Y.id,msg:"symbol URL is relative path",code:"sym_004",type:"symbol"}),S;this.cachedImages=this.cachedImages||[];for(var V,ba=0;ba<this.cachedImages.length;ba++)if(this.cachedImages[ba].url===da){V=this.cachedImages[ba];if("success"===V.status)S.resolve({url:da,origUrl:P,layerId:Y.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"});else if("error"===V.status)S.reject({url:P,origUrl:P,layerId:Y.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"});else if("inProgress"===
V.status)var ea=setInterval(K.hitch(this,function(na){"success"===na.status?(clearInterval(ea),S.resolve({url:da,origUrl:P,layerId:Y.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})):"error"===na.status&&(clearInterval(ea),S.reject({url:P,origUrl:P,layerId:Y.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"}))},V),1E3);return S}V||(V={url:da,status:"inProgress"},this.cachedImages.push(V));q.byId("imageTesterDiv")||p.create("div",{id:"imageTesterDiv",style:"position:absolute;top:-1000px;left:-1000px"},
document.body);var ia=Math.random()+"_testImage";p.create("img",{id:ia+"_testImage"},q.byId("imageTesterDiv"));var ja=n.connect(q.byId(ia+"_testImage"),"onload",K.hitch(this,function(){n.disconnect(ja);clearTimeout(la);p.destroy(ia+"_testImage");V.status="success";S.resolve({url:da,origUrl:P,layerId:Y.id,msg:"symbol URL switched to https",code:"sym_001",type:"symbol"})})),la=setTimeout(K.hitch(this,function(){n.disconnect(ja);p.destroy(ia+"_testImage");clearTimeout(la);V.status="error";S.reject({url:P,
origUrl:P,layerId:Y.id,msg:"symbol URL can't be switched to https",code:"sym_010",type:"symbol"})}),5E3);q.byId(ia+"_testImage").src=da;return S}function Z(Y,da){var S=Y.configLayer,P=Y.from,V=Y.to,ba=Y.checkedItemsList,ea=new f;if(S.itemId&&!da.item)if(ba[S.itemId])if("inProgress"===ba[S.itemId].status)var ia=setInterval(K.hitch(this,function(ja,la){"inProgress"!==ba[ja.itemId].status&&(clearInterval(ia),la.itemAccess=ba[ja.itemId].refObj.itemAccess,la.item=ba[ja.itemId].refObj.item,ea.resolve(la))},
S,da),1E3);else da.itemAccess=ba[S.itemId].refObj.itemAccess,da.item=ba[S.itemId].refObj.item,ea.resolve(da);else ba[S.itemId]={status:"inProgress",refObj:da},X(S.itemId).then(function(ja){da.itemAccess=!0;var la={};if(ja&&ja.url){da.item={url:ja.url,origUrl:ja.url,type:"layer"};if(Q(da.origUrl,ja.url)&&!Q(da.origUrl,da.url))K.mixin(da.item,{url:da.url,msg:da.msg,code:da.code}),la.url=ja.url.replace(P,V);else if(Q(da.origUrl,ja.url)&&Q(da.origUrl,da.url))K.mixin(da.item,{msg:da.msg,code:da.code});
else if(Q(da.url,ja.url))K.mixin(da.item,{msg:"Layer URL is already "+V+".",code:"layer_002"});else if(!Q(da.origUrl,ja.url)&&!Q(da.url,ja.url))if(-1<O.indexOf("CSV GeoRSS KML WebTiledLayer WFS WMS".split(" "),S.layerType||S.type))ba[S.itemId].status="done",ea.resolve(da);else{var na=K.clone(S);delete na.itemId;S.url?na.url=ja.url:S.styleUrl&&(na.styleUrl=ja.url);var ra=K.clone(Y);ra.configLayer=na;c(ra).then(function(va){la.url=va.url;da.item=va;T(Y,ja,da,la).then(function(za){ba[S.itemId].status=
"done";ea.resolve(za)})},function(va){da.item=va;T(Y,ja,da,la).then(function(za){ba[S.itemId].status="done";ea.resolve(za)})});return}T(Y,ja,da,la).then(function(va){ba[S.itemId].status="done";ea.resolve(va)})}else ja?(da.item={url:"",origUrl:"",type:"layer"},T(Y,ja,da,la).then(function(va){ba[S.itemId].status="done";ea.resolve(va)})):(da.itemAccess=!1,ba[S.itemId].status="done",ea.resolve(da))},function(ja){da.itemAccess=!1;ba[S.itemId].status="done";ea.resolve(da)});else ea.resolve(da);return ea}
function T(Y,da,S,P){var V=Y.configLayer,ba=Y.checkRenderer,ea=new f;aa(da.id).then(function(ia){if(ia&&"Feature Collection"===da.type)if(ba&&ia.layers){var ja=K.clone(V);delete ja.itemId;ja.featureCollection={layers:ia.layers};t({configLayer:ja,from:"http://",to:"https://",checkRenderer:ba,type:null}).then(function(na){K.mixin(S.item,na);P.text=h.stringify(ia);fa(da,P).then(function(ra){ea.resolve(S)},function(){K.mixin(S.item,{msg:"Item update failure.",code:"layer_020"});ea.resolve(S)})},function(na){ea.resolve(S)})}else ea.resolve(S);
else if(ia&&ia.layers){var la=!1;H(V,Y,ia,S).then(function(na){na.item.queryLayers&&O.forEach(na.item.queryLayers,function(ra){ra.url!==ra.origUrl&&(la=!0)});ba?N(V,ia,na).then(function(ra){ra.item.renderers&&!la?O.forEach(ra.item.renderers,function(va){va.renderer!==va.origRenderer&&(la=!0)}):ra.item.symbols&&!la&&O.forEach(ra.item.symbols,function(va){va.url!==va.origUrl&&(la=!0)});la&&(P.text=h.stringify(ia));fa(da,P).then(function(va){ea.resolve(ra)},function(){K.mixin(ra.item,{msg:"Item update failure.",
code:"layer_020"});ea.resolve(ra)})}):(la&&(P.text=h.stringify(ia)),fa(da,P).then(function(ra){ea.resolve(na)},function(){K.mixin(na.item,{msg:"Item update failure.",code:"layer_020"});ea.resolve(na)}))})}else fa(da,P).then(function(na){ea.resolve(S)},function(){K.mixin(S.item,{msg:"Item update failure.",code:"layer_020"});ea.resolve(S)})},function(){fa(da,P).then(function(ia){ea.resolve(S)},function(){K.mixin(S.item,{msg:"Item update failure.",code:"layer_020"});ea.resolve(S)})});return ea}function X(Y){var da=
new f;k({url:esriGeowConfig.restBaseUrl+"content/items/"+Y,content:{f:"json"},callbackParamName:"callback",load:function(S,P){"update"===S.itemControl||"admin"===S.itemControl?da.resolve(S):da.reject(Error("No write access"))},error:function(S){da.reject(S)}});return da}function aa(Y){var da=new f;k({url:esriGeowConfig.restBaseUrl+"content/items/"+Y+"/data",content:{f:"json"},callbackParamName:"callback",load:function(S,P){S&&delete S._ssl;ca();da.resolve(S)},error:function(S){da.reject()}});return da}
function fa(Y,da){var S=new f;if(arcgisonline.isEmpty(da))S.resolve({});else{ca();var P=esriGeowConfig.restBaseUrl+"content/users/"+Y.owner;P+=Y.ownerFolder?"/"+Y.ownerFolder:"";P+="/items/"+Y.id+"/update";if("noSave"===ca())S.resolve({});else{var V={usePost:!0};"http:"===window.location.protocol&&-1<P.indexOf("https://")&&(V.useProxy=!0);k({url:P,content:dojo.mixin(da,{f:"json"}),callbackParamName:"callback",load:function(ba,ea){S.resolve(ba)},error:function(ba){S.reject(ba)}},V)}}return S}function oa(){var Y=
new f,da=[];esriGeowConfig.self.isPortal?k({url:esriGeowConfig.restBaseUrl+"portals/self/servers",content:{f:"json"},callbackParamName:"callback",load:function(S,P){S.servers&&(arcgisonline.sharing.util.setFederatedServers(S.servers||[]),dojo.forEach(S.servers,function(V){V.url&&da.push(V.url.substring(V.url.indexOf("//")))}));Y.resolve(da)},error:function(S){Y.resolve(da)}}):Y.resolve(da);return Y}function ua(Y,da){var S,P;for(S=0;S<Y.operationalLayers.length;S++){if(Y.operationalLayers[S].id===
da)return Y.operationalLayers[S];if("GroupLayer"===Y.operationalLayers[S].layerType){var V=Y.operationalLayers[S].layers;for(P=0;P<V.length;P++)if(V[P].id===da)return V[P]}}if(Y.baseMap.baseMapLayers)for(S=0;S<Y.baseMap.baseMapLayers.length;S++){if(Y.baseMap.baseMapLayers[S].id===da)return Y.baseMap.baseMapLayers[S];if("GroupLayer"===Y.baseMap.baseMapLayers[S].layerType)for(V=Y.baseMap.baseMapLayers[S].layers,P=0;P<V.length;P++)if(V[P].id===da)return V[P]}if(Y.baseMap.elevationLayers)for(S=0;S<Y.baseMap.elevationLayers.length;S++)if(Y.baseMap.elevationLayers[S].id===
da)return Y.baseMap.elevationLayers[S];if(Y.ground&&Y.ground.layers)for(S=0;S<Y.ground.layers.length;S++)if(Y.ground.layers[S].id===da)return Y.ground.layers[S];if(Y.tables)for(S=0;S<Y.tables.length;S++)if(Y.tables[S].id===da)return Y.tables[S];if(Y.presentation&&Y.presentation.slides)for(P=0;P<Y.presentation.slides.length;P++){var ba=Y.presentation.slides[P];if(ba.baseMap&&ba.baseMap.baseMapLayers)for(S=0;S<ba.baseMap.baseMapLayers.length;S++){if(ba.baseMap.baseMapLayers[S].id===da)return ba.baseMap.baseMapLayers[S];
if("GroupLayer"===ba.baseMap.baseMapLayers[S].layerType)for(V=ba.baseMap.baseMapLayers[S].layers,P=0;P<V.length;P++)if(V[P].id===da)return V[P]}}}function ha(Y,da){switch(Y.layerType||Y.type){case "ArcGISFeatureLayer":case "ArcGISImageServiceLayer":case "ArcGISImageServiceVectorLayer":case "ArcGISMapServiceLayer":case "ArcGISStreamLayer":case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":case "ArcGISTiledElevationServiceLayer":case "ArcGISSceneServiceLayer":case "PointCloudLayer":case "IntegratedMeshLayer":case void 0:return!Y.url||
-1<Y.url.indexOf("://services")&&(-1<Y.url.indexOf(".arcgis.com")||-1<Y.url.indexOf(".arcgisonline.com"))||(-1<Y.url.indexOf("://tiles")||-1<Y.url.indexOf("://utility"))&&-1<Y.url.indexOf(".arcgis.com")?null:ka(Y.url);case "VectorTileLayer":return!Y.styleUrl||-1<Y.styleUrl.indexOf(esriGeowConfig.self.portalHostname)||-1<Y.styleUrl.indexOf(esriGeowConfig.self.customBaseUrl)||-1<Y.styleUrl.indexOf("/items/")||-1<Y.styleUrl.indexOf("://tiles")&&-1<Y.url.indexOf(".arcgis.com")?null:ka(Y.styleUrl);case "CSV":case "GeoRSS":case "KML":case "WebTiledLayer":case "WFS":case "WMS":case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":case "OpenStreetMap":return null;
default:return"table"===da?-1<Y.url.indexOf(".arcgis.com")||-1<Y.url.indexOf(".arcgisonline.com")?null:ka(Y.url):null}}function U(Y){var da=[];O.forEach(Y.operationalLayers,function(S){"GroupLayer"===S.layerType?O.forEach(S.layers,function(P){da.push({layer:P,type:"operationalLayers.groupLayer"})}):da.push({layer:S,type:"operationalLayers"})});Y.baseMap&&(O.forEach(Y.baseMap.baseMapLayers,function(S){"GroupLayer"===S.layerType?O.forEach(S.layers,function(P){da.push({layer:P,type:"baseMapLayers.groupLayer"})}):
(S.title=S.title||Y.baseMap.title,da.push({layer:S,type:"baseMapLayers"}))}),O.forEach(Y.baseMap.elevationLayers,function(S){S.title=S.title||Y.baseMap.title;da.push({layer:S,type:"elevationLayers"})}));Y.ground&&O.forEach(Y.ground.layers,function(S){S.title=S.title||Y.baseMap.title;da.push({layer:S,type:"ground"})});O.forEach(Y.tables,function(S){da.push({layer:S,type:"tables"})});Y.presentation&&Y.presentation.slides&&O.forEach(Y.presentation.slides,function(S){S.baseMap&&S.baseMap.baseMapLayers&&
O.forEach(S.baseMap.baseMapLayers,function(P){"GroupLayer"===P.layerType?O.forEach(P.layers,function(V){da.push({layer:V,type:"slides.baseMapLayers.groupLayer"})}):(P.title=P.title||S.baseMap.title,da.push({layer:P,type:"slides.baseMapLayers"}))})});return da}function ka(Y){Y=L(Y);var da=Y.protocol+"://"+Y.domain;Y.port&&(da+=":"+Y.port);return da+="/"+Y.instance}function W(Y,da){var S=L(Y),P=L(da);return S.domain===P.domain?!0:!1}function Q(Y,da){if(Y&&da){var S=Y.toLowerCase().indexOf("/featureserver/");
-1<S&&(Y=Y.substring(0,S+14));S=da.toLowerCase().indexOf("/featureserver/");-1<S&&(da=da.substring(0,S+14));S=Y.toLowerCase().indexOf("/mapserver/");-1<S&&(Y=Y.substring(0,S+10));S=da.toLowerCase().indexOf("/mapserver/");-1<S&&(da=da.substring(0,S+10));S=Y.toLowerCase().indexOf("/sceneserver/");-1<S&&(Y=Y.substring(0,S+12));S=da.toLowerCase().indexOf("/sceneserver/");-1<S&&(da=da.substring(0,S+12));if(Y===da)return!0}return!1}function L(Y){var da={};if(!Y||!Y.length)return da;var S=Y.indexOf("://");
da.protocol=Y.substr(0,S);Y=Y.substr(S+3,Y.length);S=Y.indexOf("/");S=-1===S?Y.length-1:S;da.domain=Y.substr(0,S);-1<da.domain.indexOf(":")&&(da.port=da.domain.substr(da.domain.indexOf(":")+1),da.domain=da.domain.substr(0,da.domain.indexOf(":")));da.path=-1===S||S+1===Y.length?null:Y.substr(S+1,Y.length);da.instance=da.path.split("/")[0];Y=da.domain.split(".");switch(Y.length){case 2:da.subdomain=null;da.host=Y[0];da.tld=Y[1];break;case 3:da.subdomain=Y[0];da.host=Y[1];da.tld=Y[2];break;case 4:da.subdomain=
Y[0],da.host=Y[1],da.tld=Y[2]+"."+Y[3]}da.host&&da.tld&&(da.parentDomain=da.host+"."+da.tld);return da}function ca(){var Y=arcgisonline.sharing.util.urlToObject(document.URL);Y.query=Y.query||{};return Y.query.debug}return{getUniqueDomains:function(Y){var da,S,P=[],V=[],ba=new f,ea=function(la,na,ra,va,za){if(!(la.url&&-1<la.url.indexOf(esriGeowConfig.self.portalHostname)||la.styleUrl&&-1<la.styleUrl.indexOf(esriGeowConfig.self.portalHostname))){var Aa=!1;O.forEach(va,function(Ba){if(la.url&&-1<la.url.indexOf(Ba)||
la.styleUrl&&-1<la.styleUrl.indexOf(Ba))Aa=!0});!Aa&&(da=ha(la,za))&&(-1<na.indexOf(da)?(S=na.indexOf(da),ra[S].layers.push({id:la.id,title:la.title})):(na.push(da),ra.push({domain:da,layers:[{id:la.id,title:la.title}]})))}},ia=function(la,na){return la.title.toLowerCase()<na.title.toLowerCase()?-1:1},ja=function(la,na){la.layers=la.layers.sort(ia);na.layers=na.layers.sort(ia);return la.domain.toLowerCase()<na.domain.toLowerCase()?-1:1};oa().then(function(la){var na=U(Y);O.forEach(na,function(ra){ea(ra.layer,
P,V,la,"tables"===ra.type?"table":null)});V=V.sort(ja);ba.resolve(V)});return ba},switchToHTTPS:function(Y,da){ca();var S=new f,P=K.clone(Y),V={from:"http://",to:"https://",checkRenderer:!0,type:null,checkedItemsList:{}},ba=[],ea=[],ia=U(Y);O.forEach(ia,function(ja){var la={config:Y,configLayer:ja.layer};"tables"===ja.type&&(la.type="table");K.mixin(la,V);ea.push(ja.layer.id);ba.push(c(la))});ba.length?(new g(ba)).addCallback(function(ja){var la=[];O.forEach(ja,function(na){ca();na=na[1];if("notTested"!==
na.type){var ra=ua(Y,na.layerId),va={id:na.layerId,title:ra.title};-1<O.indexOf(["layer_001"],na.code)?va.layerUrlChange="success":-1<O.indexOf(["layer_002","layer_003"],na.code)?va.layerUrlChange="none":va.layerUrlChange="failure";na.queryLayers&&(va.layerQueryUrlChanged=!1,va.layerQueryUrlFailures=!1,O.forEach(na.queryLayers,function(za){-1<O.indexOf(["layer_001"],za.code)?va.layerQueryUrlChanged=!0:-1<O.indexOf(["layer_002","layer_003"],za.code)||(va.layerQueryUrlFailures=!0)}));if(na.renderers||
na.symbols)va.layerRenderingChanged=!1,va.layerRenderingFailures=!1,O.forEach(na.renderers,function(za){O.forEach(za.symbols,function(Aa){-1<O.indexOf(["sym_010"],Aa.code)&&(va.layerRenderingFailures=!0);-1<O.indexOf(["sym_001"],Aa.code)&&(va.layerRenderingChanged=!0)})}),O.forEach(na.symbols,function(za){-1<O.indexOf(["sym_010"],za.code)&&(va.layerRenderingFailures=!0);-1<O.indexOf(["sym_001"],za.code)&&(va.layerRenderingChanged=!0)});ra.itemId&&(va.itemAccess=na.itemAccess)&&(-1<O.indexOf(["layer_001"],
na.item.code)?va.itemUrlChange="success":-1<O.indexOf(["layer_020"],na.item.code)?(va.itemUrlChange="success",va.itemAccess=!1):-1<O.indexOf(["layer_002","layer_003"],na.item.code)?va.itemUrlChange="none":va.itemUrlChange="failure",na.item.queryLayers&&(va.itemQueryUrlChanged=!1,va.itemQueryUrlFailures=!1,O.forEach(na.item.queryLayers,function(za){-1<O.indexOf(["layer_001"],za.code)?va.itemQueryUrlChanged=!0:-1<O.indexOf(["layer_002","layer_003"],za.code)||(va.itemQueryUrlFailures=!0)})),na.item.renderers||
na.item.symbols)&&(va.itemRenderingChanged=!1,va.itemRenderingFailures=!1,O.forEach(na.item.renderers,function(za){O.forEach(za.symbols,function(Aa){-1<O.indexOf(["sym_010"],Aa.code)&&(va.itemRenderingFailures=!0);-1<O.indexOf(["sym_001"],Aa.code)&&(va.itemRenderingChanged=!0)})}),O.forEach(na.item.symbols,function(za){-1<O.indexOf(["sym_010"],za.code)&&(va.itemRenderingFailures=!0);-1<O.indexOf(["sym_001"],za.code)&&(va.itemRenderingChanged=!0)}));la.push(va)}});Y.presentation&&Y.presentation.slides&&
O.forEach(Y.presentation.slides,function(na){na.baseMap&&na.baseMap.baseMapLayers&&O.forEach(na.baseMap.baseMapLayers,function(ra,va){if(-1<O.indexOf(ea,ra.id)){var za=ua(Y,ra.id);na.baseMap.baseMapLayers[va]=za}})});ca();ja=h.stringify(P)===h.stringify(Y);ca();ja||"noSave"===ca()?S.resolve({layers:la,configChange:"none"}):b(Y,da).then(function(){S.resolve({layers:la,configChange:"success"})},function(na){S.resolve({layers:la,configChange:"failure"})})}):S.resolve({layers:[]});return S},switchDomain:function(Y,
da,S,P){var V=new f,ba=[];if(!(Y&&da&&S&&P))return V.resolve({layers:[]}),V;var ea=K.clone(Y),ia={from:S,to:P,type:null,checkedItemsList:{}};S=U(Y);O.forEach(S,function(ja){var la={configLayer:ja.layer};"tables"===ja.type&&(la.type="table");K.mixin(la,ia);ha(la.configLayer,la.type)===la.from&&ba.push(c(la))});ba.length?(new g(ba)).addCallback(function(ja){var la=[];O.forEach(ja,function(na){ca();na=na[1];var ra=ua(Y,na.layerId),va={id:na.layerId,title:ra.title};-1<O.indexOf(["layer_001"],na.code)?
va.layerUrlChange="success":-1<O.indexOf(["layer_002","layer_003"],na.code)?va.layerUrlChange="none":va.layerUrlChange="failure";ra.itemId&&(va.itemAccess=na.itemAccess)&&(-1<O.indexOf(["layer_001"],na.item.code)?va.itemUrlChange="success":-1<O.indexOf(["layer_020"],na.item.code)?(va.itemUrlChange="success",va.itemAccess=!1):-1<O.indexOf(["layer_002","layer_003"],na.item.code)?va.itemUrlChange="none":va.itemUrlChange="failure");la.push(va)});ca();ja=h.stringify(ea)===h.stringify(Y);ca();ja||"noSave"===
ca()?V.resolve({layers:la,configChange:"none"}):b(Y,da).then(function(){V.resolve({layers:la,configChange:"success"})},function(na){V.resolve({layers:la,configChange:"failure"})})}):V.resolve({layers:[]});return V}}})},"esri/layers/VectorTileLayer":function(){(function(){var O=function(){try{var n=window.WebGLRenderingContext}catch(k){n=!1}try{for(var q=document.createElement("canvas"),p=["webgl","experimental-webgl","webkit-3d","moz-webgl"],h=null,f=0;f<p.length;++f){try{h=q.getContext(p[f])}catch(k){}if(h)break}var g=
h}catch(k){g=!1}return n&&g?!0:!1}(),K=["dojo/_base/lang","dojo/has","dojo/Deferred","../sniff","./layer"];O&&K.push("./VectorTileLayerImpl");define(K,function(n,q,p,h,f,g){q=g?g:f.createSubclass({declaredClass:"esri.layers.VectorTileLayer",constructor:function(){var k=new p;k.reject(Error("esri.layers.VectorTileLayer is not supported"));k.promise.otherwise(n.hitch(this,function(u){this._errorHandler(u)}))}});q.ACCESS_TOKEN=null;q.supported=function(){return O};n.setObject("layers.VectorTileLayer",
q,h);return q})})()},"esri/layers/CSVLayer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../arcgis/csv ./FeatureLayer ../geometry/Extent ../tasks/FeatureSet".split(" "),function(O,K,n,q,p,h,f,g,k){K=K(f,{declaredClass:"esri.layers.CSVLayer",_preventInit:!0,_fieldTypeMap:{Date:"esriFieldTypeDate",Number:"esriFieldTypeDouble",String:"esriFieldTypeString"},constructor:function(u,w){this.url=u;w=n.mixin({},w);this.columnDelimiter=w.columnDelimiter;this.latitudeFieldName=
w.latitudeFieldName;this.longitudeFieldName=w.longitudeFieldName;var C=w.layerDefinition;C||(C={fields:w.fields||[],geometryType:"esriGeometryPoint",copyrightText:w.copyright},w.fields&&O.forEach(w.fields,function(z){z.type=this._fieldTypeMap[z.type||"String"];z.alias||(z.alias=z.name)},this));this._buildCsvFcParam={url:this.url,columnDelimiter:this.columnDelimiter,layerDefinition:C,outFields:w.outFields};this.latitudeFieldName&&this.longitudeFieldName&&(this._buildCsvFcParam.locationInfo={locationType:"coordinates",
latitudeFieldName:this.latitudeFieldName,longitudeFieldName:this.longitudeFieldName});this._projectFeatures=n.hitch(this,this._projectFeatures);this._addFeatures=n.hitch(this,this._addFeatures);this._initCSVLayer(w)},refresh:function(){this._fireUpdateStart();this.applyEdits(null,null,this.graphics);this._loadFeatures()},_isWebGLCompatible:function(){return!1},_setMap:function(u){var w=this.inherited(arguments);this._fireUpdateStart();this._projectFeatures(this._csvFC).then(this._addFeatures).otherwise(this._errorHandler);
this._csvFC=null;return w},_initCSVLayer:function(u){var w=this;h.buildCSVFeatureCollection(this._buildCsvFcParam).then(function(C){!w._buildCsvFcParam.locationInfo||w.latitudeFieldName&&w.longitudeFieldName||(w.latitudeFieldName=w._buildCsvFcParam.locationInfo.latitudeFieldName,w.longitudeFieldName=w._buildCsvFcParam.locationInfo.longitudeFieldName);w._csvFC=C;var z=C.layerDefinition;z.extent=w._getFCExtent(C);u.outFields||(u.outFields=["*"]);u.timeInfo&&(z.timeInfo=u.timeInfo);w._initFeatureLayer({layerDefinition:z},
u)}).otherwise(this._errorHandler)},_loadFeatures:function(){h.buildCSVFeatureCollection(this._buildCsvFcParam).then(this._projectFeatures).then(this._addFeatures).otherwise(this._errorHandler)},_projectFeatures:function(u){return h.projectFeatureCollection(u,this._map.spatialReference)},_addFeatures:function(u){u=new k(u.featureSet);this.applyEdits(u.features,null,null);this._fireUpdateEnd()},_getFCExtent:function(u){if(u&&u.featureSet&&u.featureSet.features){u=u.featureSet.features;var w=u.length;
if(1<w){var C=u[0].geometry;var z=new g(C.x,C.y,C.x,C.y);for(--w;0<w;w--)C=u[w].geometry,z.xmin=Math.min(z.xmin,C.x),z.ymin=Math.min(z.ymin,C.y),z.xmax=Math.max(z.xmax,C.x),z.ymax=Math.max(z.ymax,C.y);0>=z.getWidth()&&0>=z.getHeight()&&(z=null)}}return z}});n.setObject("layers.CSVLayer",K,p);return K})},"esri/arcgis/csv":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/sniff dojo/number dojox/data/CsvStore ../kernel ../config ../request ../SpatialReference ../geometry/jsonUtils ../geometry/webMercatorUtils".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C){function z(t){var v=0,A="";K.forEach([","," ",";","|","\t"],function(B){var x=t.split(B).length;x>v&&(v=x,A=B)});return A}function r(t,v){if(!t||"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))return!1;var A=!0;if(q("chrome")&&/\d+\W*$/.test(v)){if(v.match(/[^0-9a-zA-Z\s]/))return!1;var B=v.match(/[a-zA-Z]{2,}/);if(B){A=!1;for(var x=0,D=B.length,E=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i;!A&&
x<=D&&!(A=!E.test(B[x]));)x++;A=!A}}return A}function l(t,v,A){var B=t.indexOf("\n");B=O.trim(t.substr(0,B));var x=v.columnDelimiter;x||(x=z(B));var D=new h({data:t,separator:x});D.fetch({onComplete:function(E,y){var F=0,G={layerDefinition:v.layerDefinition,featureSet:{features:[],geometryType:"esriGeometryPoint"}},H=G.layerDefinition.objectIdField,I=G.layerDefinition.fields;H||K.some(I,function(ha){return"esriFieldTypeOID"===ha.type?(H=ha.name,!0):!1})||(I.push({name:"__OBJECTID",alias:"__OBJECTID",
type:"esriFieldTypeOID",editable:!1}),H="__OBJECTID");var N=D._attributes,M=[],J=[];K.forEach(I,function(ha){"esriFieldTypeDate"===ha.type?M.push(ha.name):("esriFieldTypeDouble"===ha.type||"esriFieldTypeInteger"===ha.type)&&J.push(ha.name)});if(v.locationInfo&&"coordinates"===v.locationInfo.locationType){var R=v.locationInfo.latitudeFieldName;var Z=v.locationInfo.longitudeFieldName}else K.forEach(N,function(ha){var U=K.indexOf(b,ha.toLowerCase());-1!==U&&(R=ha);U=K.indexOf(c,ha.toLowerCase());-1!==
U&&(Z=ha)}),R&&Z&&(v.locationInfo={locationType:"coordinates",latitudeFieldName:R,longitudeFieldName:Z});if(R&&Z){-1===K.indexOf(J,R)&&J.push(R);-1===K.indexOf(J,Z)&&J.push(Z);if(O.isArray(v.outFields)&&-1===K.indexOf(v.outFields,"*"))var T=v.outFields;K.forEach(N,function(ha){K.some(I,function(U){return ha===U.name})||I.push({name:ha,alias:ha,type:ha===R||ha===Z?"esriFieldTypeDouble":"esriFieldTypeString"})});N=0;var X=E.length;for(N;N<X;N++){var aa=E[N],fa=D.getAttributes(aa),oa={};K.forEach(fa,
function(ha){if(ha&&(ha===R||ha===Z||!T||-1<K.indexOf(T,ha))){var U=ha;0===ha.length&&K.forEach(I,function(W,Q){W.name==="attribute_"+(Q-1)&&(ha="attribute_"+(Q-1))});if(-1<K.indexOf(M,ha)){U=D.getValue(aa,U);var ka=new Date(U);oa[ha]=r(ka,U)?ka.getTime():null}else-1<K.indexOf(J,ha)?(ka=p.parse(D.getValue(aa,U)),ha!==R&&ha!==Z||!(isNaN(ka)||181<Math.abs(ka))||(ka=parseFloat(D.getValue(aa,U))),isNaN(ka)?oa[ha]=null:oa[ha]=ka):oa[ha]=D.getValue(aa,U)}});oa[H]=F;F++;fa=oa[R];var ua=oa[Z];null==ua||null==
fa||isNaN(fa)||isNaN(ua)||(T&&-1===K.indexOf(T,R)&&delete oa[R],T&&-1===K.indexOf(T,Z)&&delete oa[Z],G.featureSet.features.push({geometry:{x:ua,y:fa,spatialReference:{wkid:4326}},attributes:oa}))}G.layerDefinition.name="csv";A&&A(G)}else setTimeout(function(){},1),A&&A(null,Error("File does not seem to contain fields with point coordinates."))},onError:function(E){A&&A(null,E)}});return!0}function d(t,v,A,B,x,D){0===t.length&&x(null);var E=w.getGeometryType(v),y=[];K.forEach(t,function(F){F=new E(F);
F.spatialReference=A;y.push(F)},this);v=[102113,102100,3857];A.wkid&&4326===A.wkid&&B.wkid&&-1<K.indexOf(v,B.wkid)?(K.forEach(y,function(F){F.xmin?(F.xmin=Math.max(F.xmin,-180),F.xmax=Math.min(F.xmax,180),F.ymin=Math.max(F.ymin,-89.99),F.ymax=Math.min(F.ymax,89.99)):F.rings?K.forEach(F.rings,function(G){K.forEach(G,function(H){H[0]=Math.min(Math.max(H[0],-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):F.paths?K.forEach(F.paths,function(G){K.forEach(G,function(H){H[0]=Math.min(Math.max(H[0],
-180),180);H[1]=Math.min(Math.max(H[1],-89.99),89.99)},this)},this):F.x&&(F.x=Math.min(Math.max(F.x,-180),180),F.y=Math.min(Math.max(F.y,-89.99),89.99))},this),t=[],K.forEach(y,function(F){F=C.geographicToWebMercator(F);102100!==B.wkid&&(F.spatialReference=B);t.push(F.toJson())},this),x(t)):null!==A.wkid&&-1<K.indexOf(v,A.wkid)&&null!==B.wkid&&4326===B.wkid?(t=[],K.forEach(y,function(F){t.push(C.webMercatorToGeographic(F).toJson())},this),x(t)):(v=function(F,G){F&&F.length===t.length?(t=[],K.forEach(F,
function(H){H&&(H.rings&&0<H.rings.length&&0<H.rings[0].length&&0<H.rings[0][0].length&&!isNaN(H.rings[0][0][0])&&!isNaN(H.rings[0][0][1])||H.paths&&0<H.paths.length&&0<H.paths[0].length&&0<H.paths[0][0].length&&!isNaN(H.paths[0][0][0])&&!isNaN(H.paths[0][0][1])||H.xmin&&!isNaN(H.xmin)&&H.ymin&&!isNaN(H.ymin)||H.x&&!isNaN(H.x)&&H.y&&!isNaN(H.y))?t.push(H.toJson()):t.push(null)},this),x(t)):D(F,G)},g.defaults.geometryService?g.defaults.geometryService.project(y,B,O.hitch(this,v),D):x(null))}function e(t,
v){var A=[102113,102100,3857];return t&&v&&t.wkid===v.wkid&&t.wkt===v.wkt||t&&v&&t.wkid&&v.wkid&&-1<K.indexOf(A,t.wkid)&&-1<K.indexOf(A,v.wkid)?!0:!1}function a(t,v,A,B){if(t.featureSet&&0!==t.featureSet.features.length)if(e(A,v))B(t);else{var x=function(F){var G=[];K.forEach(t.featureSet.features,function(H,I){F[I]&&(H.geometry=F[I],G.push(H))},this);B(t)},D=function(F,G){B(t)},E=function(F,G){d(y,t.featureSet.geometryType,v,A,O.hitch(this,x),O.hitch(this,D))};if(t.featureSet.features&&0<t.featureSet.features.length){var y=
[];K.forEach(t.featureSet.features,function(F){if(F.geometry.toJson)y.push(F.geometry);else{var G=w.getGeometryType(t.featureSet.geometryType);y.push(new G(F.geometry))}});v.toJson||(v=new u(v));A.toJson||(A=new u(A));d(y,t.featureSet.geometryType,v,A,O.hitch(this,x),O.hitch(this,E))}else B(t)}}var b="lat latitude y ycenter latitude83 latdecdeg point-y lat_dd".split(" "),c="lon lng long longitude x xcenter longitude83 longdecdeg point-x long_dd".split(" "),m={latFieldStrings:b,longFieldStrings:c,
buildCSVFeatureCollection:function(t){var v=new n,A=function(x,D){D?v.errback(D):v.callback(x)},B={url:t.url,handleAs:"text",load:function(x){l(x,t,O.hitch(this,A))},error:function(x){v.errback(x)}};-1<t.url.indexOf("arcgis.com")&&-1<t.url.indexOf("/content/items")&&-1<t.url.indexOf("/data")&&(B.headers={"Content-Type":""});k(B,{usePost:!1});return v},projectFeatureCollection:function(t,v,A){var B=new n;A||(A=new u({wkid:4326}));a(t,A,v,O.hitch(this,function(x){B.callback(x)}));return B},generateDefaultPopupInfo:function(t){var v=
{esriFieldTypeDouble:1,esriFieldTypeSingle:1},A={esriFieldTypeInteger:1,esriFieldTypeSmallInteger:1},B={esriFieldTypeDate:1},x=null;t=K.map(t.layerDefinition.fields,O.hitch(this,function(D){"NAME"===D.name.toUpperCase()&&(x=D.name);var E="esriFieldTypeOID"!==D.type&&"esriFieldTypeGlobalID"!==D.type&&"esriFieldTypeGeometry"!==D.type,y=null;if(E){var F=D.name.toLowerCase();if(-1<",stretched value,fnode_,tnode_,lpoly_,rpoly_,poly_,subclass,subclass_,rings_ok,rings_nok,".indexOf(","+F+",")||-1<F.indexOf("area")||
-1<F.indexOf("length")||-1<F.indexOf("shape")||-1<F.indexOf("perimeter")||-1<F.indexOf("objectid")||F.indexOf("_")===F.length-1||F.indexOf("_i")===F.length-2&&1<F.length)E=!1;D.type in A?y={places:0,digitSeparator:!0}:D.type in v?y={places:2,digitSeparator:!0}:D.type in B&&(y={dateFormat:"shortDateShortTime"})}return O.mixin({},{fieldName:D.name,label:D.alias,isEditable:!0,tooltip:"",visible:E,format:y,stringFieldOption:"textbox"})}));return{title:x?"{"+x+"}":"",fieldInfos:t,description:null,showAttachments:!1,
mediaInfos:[]}},_getSeparator:z,_isValidDate:r,_processCsvData:l,_projectGeometries:d,_sameSpatialReference:e,_projectFeatureSet:a};O.setObject("arcgis.csv",m,f);return m})},"dojox/data/CsvStore":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/xhr dojo/_base/kernel dojo/data/util/filter dojo/data/util/simpleFetch".split(" "),function(O,K,n,q,p,h){K=K("dojox.data.CsvStore",null,{constructor:function(f){this._attributes=[];this._attributeIndexes={};this._dataArray=[];this._arrayOfAllItems=
[];this._loadFinished=!1;f.url&&(this.url=f.url);this._csvData=f.data;f.label?this.label=f.label:""===this.label&&(this.label=void 0);this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._loadInProgress=!1;this._queuedFetches=[];this.identifier=f.identifier;""===this.identifier?delete this.identifier:this._idMap={};"separator"in f&&(this.separator=f.separator);"urlPreventCache"in f&&(this.urlPreventCache=f.urlPreventCache?!0:!1)},
url:"",label:"",identifier:"",separator:",",urlPreventCache:!1,_assertIsItem:function(f){if(!this.isItem(f))throw Error(this.declaredClass+": a function was passed an item argument that was not an item");},_getIndex:function(f){f=this.getIdentity(f);this.identifier&&(f=this._idMap[f]);return f},getValue:function(f,g,k){this._assertIsItem(f);var u=k;if("string"===typeof g)g=this._attributeIndexes[g],null!=g&&(u=this._dataArray[this._getIndex(f)][g]||k);else throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");
return u},getValues:function(f,g){var k=this.getValue(f,g);return k?[k]:[]},getAttributes:function(f){this._assertIsItem(f);var g=[];f=this._dataArray[this._getIndex(f)];for(var k=0;k<f.length;k++)""!==f[k]&&g.push(this._attributes[k]);return g},hasAttribute:function(f,g){this._assertIsItem(f);if("string"===typeof g){var k=this._attributeIndexes[g],u=this._dataArray[this._getIndex(f)];return"undefined"!==typeof k&&k<u.length&&""!==u[k]}throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");
},containsValue:function(f,g,k){var u=void 0;"string"===typeof k&&(u=p.patternToRegExp(k,!1));return this._containsValue(f,g,k,u)},_containsValue:function(f,g,k,u){f=this.getValues(f,g);for(g=0;g<f.length;++g){var w=f[g];if("string"===typeof w&&u)return null!==w.match(u);if(k===w)return!0}return!1},isItem:function(f){if(f&&f[this._storeProp]===this)if(f=f[this._idProp],this.identifier){if(this._dataArray[this._idMap[f]])return!0}else if(0<=f&&f<this._dataArray.length)return!0;return!1},isItemLoaded:function(f){return this.isItem(f)},
loadItem:function(f){},getFeatures:function(){return this._features},getLabel:function(f){if(this.label&&this.isItem(f))return this.getValue(f,this.label)},getLabelAttributes:function(f){return this.label?[this.label]:null},_fetchItems:function(f,g,k){var u=this,w=function(l,d){var e=null;if(l.query){var a;e=[];var b=l.queryOptions?l.queryOptions.ignoreCase:!1,c={};for(a in l.query){var m=l.query[a];"string"===typeof m&&(c[a]=p.patternToRegExp(m,b))}for(b=0;b<d.length;++b){var t=!0,v=d[b];for(a in l.query)m=
l.query[a],u._containsValue(v,a,m,c[a])||(t=!1);t&&e.push(v)}}else e=d.slice(0,d.length);g(e,l)};if(this._loadFinished)w(f,this._arrayOfAllItems);else if(""!==this.url)if(this._loadInProgress)this._queuedFetches.push({args:f,filter:w});else{this._loadInProgress=!0;var C=n.get({url:u.url,handleAs:"text",preventCache:u.urlPreventCache});C.addCallback(function(l){try{u._processData(l),w(f,u._arrayOfAllItems),u._handleQueuedFetches()}catch(d){k(d,f)}});C.addErrback(function(l){u._loadInProgress=!1;if(k)k(l,
f);else throw l;});var z=null;f.abort&&(z=f.abort);f.abort=function(){var l=C;l&&-1===l.fired&&(l.cancel(),l=null);z&&z.call(f)}}else if(this._csvData)try{this._processData(this._csvData),this._csvData=null,w(f,this._arrayOfAllItems)}catch(l){k(l,f)}else{var r=Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");if(k)k(r,f);else throw r;}},close:function(f){},_getArrayOfArraysFromCsvFileContents:function(f){if(O.isString(f)){var g=RegExp("^\\s+","g"),k=
RegExp("\\s+$","g"),u=RegExp('""',"g"),w=[],C=this._splitLines(f);for(f=0;f<C.length;++f){var z=C[f];if(0<z.length){z=z.split(this.separator);for(var r=0;r<z.length;){var l=z[r].replace(g,""),d=l.replace(k,""),e=d.charAt(0),a=d.charAt(d.length-1),b=d.charAt(d.length-2),c=d.charAt(d.length-3);if(2===d.length&&'""'==d)z[r]="";else if('"'==e&&('"'!=a||'"'==a&&'"'==b&&'"'!=c)){if(r+1===z.length)return;z[r]=l+this.separator+z[r+1];z.splice(r+1,1)}else'"'==e&&'"'==a&&(d=d.slice(1,d.length-1),d=d.replace(u,
'"')),z[r]=d,r+=1}w.push(z)}}this._attributes=w.shift();for(f=0;f<this._attributes.length;f++)this._attributeIndexes[this._attributes[f]]=f;this._dataArray=w}},_splitLines:function(f){var g=[],k,u="",w=!1;for(k=0;k<f.length;k++){var C=f.charAt(k);switch(C){case '"':w=!w;u+=C;break;case "\r":w?u+=C:(g.push(u),u="",k<f.length-1&&"\n"==f.charAt(k+1)&&k++);break;case "\n":w?u+=C:(g.push(u),u="");break;default:u+=C}}""!==u&&g.push(u);return g},_processData:function(f){this._getArrayOfArraysFromCsvFileContents(f);
this._arrayOfAllItems=[];if(this.identifier&&void 0===this._attributeIndexes[this.identifier])throw Error(this.declaredClass+": Identity specified is not a column header in the data set.");for(f=0;f<this._dataArray.length;f++){var g=f;this.identifier&&(g=this._dataArray[f][this._attributeIndexes[this.identifier]],this._idMap[g]=f);this._arrayOfAllItems.push(this._createItemFromIdentity(g))}this._loadFinished=!0;this._loadInProgress=!1},_createItemFromIdentity:function(f){var g={};g[this._storeProp]=
this;g[this._idProp]=f;return g},getIdentity:function(f){return this.isItem(f)?f[this._idProp]:null},fetchItemByIdentity:function(f){var g=f.scope?f.scope:q.global;if(this._loadFinished){var k=this._createItemFromIdentity(f.identity);this.isItem(k)||(k=null);f.onItem&&f.onItem.call(g,k)}else{var u=this;if(""!==this.url)this._loadInProgress?this._queuedFetches.push({args:f}):(this._loadInProgress=!0,k=n.get({url:u.url,handleAs:"text"}),k.addCallback(function(w){try{u._processData(w);var C=u._createItemFromIdentity(f.identity);
u.isItem(C)||(C=null);f.onItem&&f.onItem.call(g,C);u._handleQueuedFetches()}catch(z){f.onError&&f.onError.call(g,z)}}),k.addErrback(function(w){this._loadInProgress=!1;f.onError&&f.onError.call(g,w)}));else if(this._csvData)try{u._processData(u._csvData),u._csvData=null,k=u._createItemFromIdentity(f.identity),u.isItem(k)||(k=null),f.onItem&&f.onItem.call(g,k)}catch(w){f.onError&&f.onError.call(g,w)}}},getIdentityAttributes:function(f){return this.identifier?[this.identifier]:null},_handleQueuedFetches:function(){if(0<
this._queuedFetches.length){for(var f=0;f<this._queuedFetches.length;f++){var g=this._queuedFetches[f],k=g.filter,u=g.args;k?k(u,this._arrayOfAllItems):this.fetchItemByIdentity(g.args)}this._queuedFetches=[]}}});O.extend(K,h);return K})},"esri/layers/KMLLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/sniff dojo/io-query dojo/dom-construct dojo/dom-style ../kernel ../config ../lang ../request ../urlUtils ../SpatialReference ../geometry/webMercatorUtils ../dijit/PopupTemplate ./layer ./KMLFolder ./KMLGroundOverlay ./MapImageLayer ./FeatureLayer".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v){var A=K([b],{declaredClass:"esri.layers.KMLLayer",serviceUrl:l.getProtocolForWebResource()+"//utility.arcgis.com/sharing/kml",constructor:function(B,x){this._url=l.urlToObject(this.url=B);this._outSR=x&&x.outSR||new d({wkid:4326});this._options=q.mixin({},x);C.defaults.kmlService&&(this.serviceUrl=C.defaults.kmlService);var D=this.linkInfo=x&&x.linkInfo;D&&(this.visible=!!D.visibility,this._waitingForMap=!!D.viewFormat);(!D||D&&D.visibility&&
!this._waitingForMap)&&this._parseKml();this.refresh=q.hitch(this,this.refresh);this.registerConnectEvents("esri.layers.KMLLayer",!0)},getFeature:function(B){if(B){var x=B.type,D=B.id,E;switch(x){case "esriGeometryPoint":case "esriGeometryPolyline":case "esriGeometryPolygon":(B=this["_"+x])&&(E=q.getObject("_mode._featureMap."+D,!1,B));break;case "GroundOverlay":if(B=this._groundLyr){var y=B.getImages();x=y.length;for(B=0;B<x;B++)if(y[B].id===D){E=y[B];break}}break;case "NetworkLink":p.some(this._links,
function(F){return F.linkInfo&&F.linkInfo.id===D?(E=F,!0):!1});break;case "Folder":for(x=(y=this.folders)?y.length:0,B=0;B<x;B++)if(y[B].id===D){E=y[B];break}}return E}},getLayers:function(){var B=[];this._groundLyr&&B.push(this._groundLyr);this._fLayers&&(B=B.concat(this._fLayers));this._links&&p.forEach(this._links,function(x){x.declaredClass&&B.push(x)});return B},setFolderVisibility:function(B,x){B&&(this._fireUpdateStart(),(B.visible=x)&&(x=this._areLocalAncestorsVisible(B)),this._setState(B,
x),this._fireUpdateEnd())},_eventMap:{"network-link-error":["error"]},onRefresh:function(){},onOpacityChange:function(){},onNetworkLinkError:function(){},_parseKml:function(B){var x=this;this._fireUpdateStart();this._io=r({url:this.serviceUrl,content:{url:this._url.path+this._getQueryParameters(B),model:"simple",folders:"",refresh:this.loaded?!0:void 0,outSR:h.toJson(this._outSR.toJson())},callbackParamName:"callback",load:function(D){x._io=null;x._initLayer(D)},error:function(D){x._io=null;D=q.mixin(Error(),
D);D.message="Unable to load KML: "+(D.message||"");x._fireUpdateEnd(D);x._errorHandler(D)}})},_initLayer:function(B){if(this.loaded){var x=[];p.forEach(this.folders,function(I){I.visible&&x.push(I.id)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale;this._options.opacity=this.opacity;this._removeInternalLayers()}this.name=B.name;this.description=B.description;this.snippet=B.snippet;this.visibility=B.visibility;this.featureInfos=B.featureInfos;var D,E=this.folders=B.folders,
y=[];if(E){var F=E.length;for(D=0;D<F;D++){var G=E[D]=new c(E[D]);-1===G.parentFolderId&&y.push(G)}}E=this._links=B.networkLinks;F=E?E.length:0;for(D=0;D<F;D++)if(!E[D].viewRefreshMode||-1===E[D].viewRefreshMode.toLowerCase().indexOf("onregion")){var H=q.mixin({},this._options);H.linkInfo=E[D];H.id&&(H.id=H.id+"_"+D);G=E[D]=new A(E[D].href,H);G._parentLayer=this;G._parentFolderId=this._getLinkParentId(G.linkInfo.id);G._linkErrorHandle=G.on("error,network-link-error",q.hitch(G,function(I){this._parentLayer.onNetworkLinkError(I.error)}))}if((E=
B.groundOverlays)&&0<E.length)for(H=q.mixin({},this._options),H.id&&(H.id+="_mapImage"),G=this._groundLyr=new t(H),F=E.length,D=0;D<F;D++)G.addImage(new m(E[D]));(B=q.getObject("featureCollection.layers",!1,B))&&0<B.length&&(this._fLayers=[],p.forEach(B,function(I,N){var M=q.getObject("featureSet.features",!1,I);M&&0<M.length&&(H=q.mixin({outFields:["*"],infoTemplate:I.popupInfo?new a(I.popupInfo):null,editable:!1},this._options),H.id&&(H.id=H.id+"_"+N),H.webgl=!1,I.layerDefinition.capabilities="Query,Data",
M=new v(I,H),M.geometryType&&(this["_"+M.geometryType]=M),this._fLayers.push(M))},this),0===this._fLayers.length&&delete this._fLayers);if(!this.loaded)for(F=y.length,D=0;D<F;D++)G=y[D],this._setState(G,G.visible);this._fireUpdateEnd();this.loaded?(this._addInternalLayers(),p.forEach(this.folders,function(I){-1<p.indexOf(x,I.id)?this.setFolderVisibility(I,!0):this.setFolderVisibility(I,!1)},this),this.onRefresh()):(this.loaded=!0,this.onLoad(this))},_addInternalLayers:function(){var B=this._map;this._fireUpdateStart();
this._links&&p.forEach(this._links,function(y){y.declaredClass&&(B.addLayer(y),y._waitingForMap&&(y._waitingForMap=null,y.visible?y._parseKml(B):y._wMap=B))});var x=B.spatialReference,D=this._outSR;if(!x.equals(D))if(x.isWebMercator()&&4326===D.wkid)var E=e.geographicToWebMercator;else if(D.isWebMercator()&&4326===x.wkid)E=e.webMercatorToGeographic;else return;this._groundLyr&&(E&&p.forEach(this._groundLyr.getImages(),function(y){y.extent=E(y.extent)}),B.addLayer(this._groundLyr));(x=this._fLayers)&&
0<x.length&&p.forEach(x,function(y){if(E){var F=y.graphics,G,H,I=F?F.length:0;for(G=0;G<I;G++)(H=F[G].geometry)&&F[G].setGeometry(E(H))}B.addLayer(y)});this.onVisibilityChange(this.visible)},_removeInternalLayers:function(){var B=this._map;this._links&&p.forEach(this._links,function(x){x.declaredClass&&x._io&&x._io.cancel();x._linkErrorHandle&&(x._linkErrorHandle.remove(),x._linkErrorHandle=null)});B&&p.forEach(this.getLayers(),B.removeLayer,B)},_setState:function(B,x){var D=B.featureInfos,E,y,F=
D?D.length:0,G=x?"show":"hide",H=x?"_resume":"_suspend";for(y=0;y<F;y++){var I=D[y];if(E=this.getFeature(I))if("Folder"===I.type)this._setState(E,x&&E.visible);else if("NetworkLink"===I.type)this._setInternalVisibility(E,x);else if(E[H])E[H]();else E[G]()}},_areLocalAncestorsVisible:function(B){var x=B.parentFolderId;for(B=B.visible;B&&-1!==x;)x=this.getFeature({type:"Folder",id:x}),B=B&&x.visible,x=x.parentFolderId;return B},_setInternalVisibility:function(B,x){var D=B._parentLayer,E=B._parentFolderId;
for(x=x&&B.visible;x&&D;)x=x&&D.visible,-1<E&&(x=x&&D._areLocalAncestorsVisible(D.getFeature({type:"Folder",id:E}))),E=D._parentFolderId,D=D._parentLayer;this._setIntState(B,x)},_setIntState:function(B,x){B&&p.forEach(B.getLayers(),function(D){D.linkInfo?B._setIntState(D,x&&D.visible&&B._areLocalAncestorsVisible(B.getFeature({type:"Folder",id:D._parentFolderId}))):D.setVisibility(x)})},_getLinkParentId:function(B){var x=-1;this.folders&&p.some(this.folders,function(D){return D.networkLinkIds&&-1!==
p.indexOf(D.networkLinkIds,B)?(x=D.id,!0):!1});return x},_checkAutoRefresh:function(){var B=this.linkInfo;if(B)if(this.visible){if(this.loaded&&this._map){var x=B.refreshMode,D=B.refreshInterval,E=B.viewRefreshMode;B=B.viewRefreshTime;x&&-1!==x.toLowerCase().indexOf("oninterval")&&0<D&&(this._stopAutoRefresh(),this._timeoutHandle=setTimeout(this.refresh,1E3*D));E&&-1!==E.toLowerCase().indexOf("onstop")&&0<B&&!this._extChgHandle&&(this._extChgHandle=n.connect(this._map,"onExtentChange",this,this._extentChanged))}}else this._stopAutoRefresh(),
n.disconnect(this._extChgHandle),delete this._extChgHandle},_stopAutoRefresh:function(){clearTimeout(this._timeoutHandle);this._timeoutHandle=null},_getQueryParameters:function(B){B=B||this._map;var x={},D=this.linkInfo,E=B&&B.extent;if(this._url.query){q.mixin(x,this._url.query);var y=!!this._url.query.token}w.id&&!y&&(y=w.id.findCredential(this._url.path))&&(x.token=y.token);if(D){y=D.viewFormat;var F=D.httpQuery;D=D.viewBoundScale;if(E&&y){var G=E,H=E,I=E.spatialReference;I&&(I.isWebMercator()?
G=e.webMercatorToGeographic(E):4326===I.wkid&&(H=e.geographicToWebMercator(E)));E=G.getCenter();H=Math.max(H.getWidth(),H.getHeight());D&&(G=G.expand(D));y=y.replace(/\[bboxWest\]/ig,G.xmin).replace(/\[bboxEast\]/ig,G.xmax).replace(/\[bboxSouth\]/ig,G.ymin).replace(/\[bboxNorth\]/ig,G.ymax).replace(/\[lookatLon\]/ig,E.x).replace(/\[lookatLat\]/ig,E.y).replace(/\[lookatRange\]/ig,H).replace(/\[lookatTilt\]/ig,0).replace(/\[lookatHeading\]/ig,0).replace(/\[lookatTerrainLon\]/ig,E.x).replace(/\[lookatTerrainLat\]/ig,
E.y).replace(/\[lookatTerrainAlt\]/ig,0).replace(/\[cameraLon\]/ig,E.x).replace(/\[cameraLat\]/ig,E.y).replace(/\[cameraAlt\]/ig,H).replace(/\[horizFov\]/ig,60).replace(/\[vertFov\]/ig,60).replace(/\[horizPixels\]/ig,B.width).replace(/\[vertPixels\]/ig,B.height).replace(/\[terrainEnabled\]/ig,0);q.mixin(x,g.queryToObject(y))}F&&(F=F.replace(/\[clientVersion\]/ig,w.version).replace(/\[kmlVersion\]/ig,2.2).replace(/\[clientName\]/ig,"ArcGIS API for JavaScript").replace(/\[language\]/ig,O.locale),q.mixin(x,
g.queryToObject(F)))}B=[];for(var N in x)z.isDefined(x[N])&&B.push(N+"\x3d"+x[N]);return(B=B.join("\x26"))?"?"+B:""},setScaleRange:function(B,x){this.inherited(arguments);p.forEach(this.getLayers(),function(D){D.setScaleRange(B,x)})},setOpacity:function(B){this.opacity!=B&&(p.forEach(this.getLayers(),function(x){x.setOpacity(B)}),this.opacity=B,this.onOpacityChange(B))},_setMap:function(B,x){this.inherited(arguments);this._map=B;var D=this._div=k.create("div",null,x);u.set(D,"position","absolute");
this._addInternalLayers();this.evaluateSuspension();return D},_unsetMap:function(B,x){this._io&&this._io.cancel();this._stopAutoRefresh();n.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var D=this._div;D&&(x.removeChild(D),k.destroy(D));this._wMap=this._div=null;this.inherited(arguments)},onVisibilityChange:function(B){this.loaded?(this._fireUpdateStart(),this._setInternalVisibility(this,B),this._checkAutoRefresh(),this._fireUpdateEnd()):this.linkInfo&&B&&(this._waitingForMap||
this._parseKml(this._wMap))},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._parseKml()},getFeatureCollection:function(B){var x,D=[];(B=this.getFeature({type:"Folder",id:B}))&&(x=p.map(B.featureInfos,function(E){if("esriGeometryPoint"===E.type||"esriGeometryPolyline"===E.type||"esriGeometryPolygon"===E.type)return E.id},this))&&0<x.length&&p.forEach(this._fLayers,function(E){var y;var F=E.toJson();F.featureSet.features&&0<F.featureSet.features.length&&(y=p.filter(F.featureSet.features,
function(G){if(-1!==p.indexOf(x,G.attributes[E.objectIdField]))return G},this));y&&0<y.length&&(F.featureSet.features=y,D.push(F))},this);return D},getFeatureCount:function(B){B=this.getFeature({type:"Folder",id:B});var x={points:0,polylines:0,polygons:0};B&&p.forEach(B.featureInfos,function(D){"esriGeometryPoint"===D.type&&(x.points+=1);"esriGeometryPolyline"===D.type&&(x.polylines+=1);"esriGeometryPolygon"===D.type&&(x.polygons+=1)});return x},_extentChanged:function(){this._stopAutoRefresh();this._timeoutHandle=
setTimeout(this.refresh,1E3*this.linkInfo.viewRefreshTime)}});q.setObject("layers.KMLLayer",A,w);return A})},"esri/layers/KMLFolder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(O,K,n,q,p){O=O(null,{declaredClass:"esri.layers.KMLFolder",constructor:function(h){K.mixin(this,h);p.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});K.setObject("layers.KMLFolder",O,q);return O})},"esri/layers/KMLGroundOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./MapImage".split(" "),
function(O,K,n,q,p,h){O=O([h],{declaredClass:"esri.layers.KMLGroundOverlay",constructor:function(f){p.isDefined(this.visibility)&&(this.visible=!!this.visibility)}});K.setObject("layers.KMLGroundOverlay",O,q);return O})},"esri/layers/GeoRSSLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../config ../request ../urlUtils ./ServiceGeneratedFeatureCollection".split(" "),function(O,K,n,q,p,h,f,g,k){O=O([k],{declaredClass:"esri.layers.GeoRSSLayer",serviceUrl:g.getProtocolForWebResource()+
"//utility.arcgis.com/sharing/rss",constructor:function(u,w){this._url=g.urlToObject(this.url=u);h.defaults.geoRSSService&&(this.serviceUrl=h.defaults.geoRSSService);this._createLayer()},parse:function(){return this._io=f({url:this.serviceUrl,content:{url:this.url,refresh:this.loaded?!0:void 0,outSR:this._outSR?n.toJson(this._outSR.toJson()):void 0},callbackParamName:"callback"})},_initLayer:function(u){this.inherited(arguments);this.loaded||(this.loaded=!0,this.onLoad(this))}});K.setObject("layers.GeoRSSLayer",
O,p);return O})},"esri/layers/ServiceGeneratedFeatureCollection":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/has ../kernel ../SpatialReference ../geometry/Extent ../geometry/webMercatorUtils ../renderers/SimpleRenderer ./layer ./FeatureLayer ../dijit/PopupTemplate".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l){O=O([z],{declaredClass:"esri.layers._ServiceGeneratedFeatureCollection",constructor:function(d,e){this.pointSymbol=
e&&e.pointSymbol;this.polylineSymbol=e&&e.polylineSymbol;this.polygonSymbol=e&&e.polygonSymbol;this._outSR=e&&(e.outSpatialReference||e.outSR)||new k({wkid:4326});this._options=n.mixin({},e)},parse:function(){},getFeatureLayers:function(){var d=[];this._fLayers&&(d=d.concat(this._fLayers));return d},onRefresh:function(){},onOpacityChange:function(){},refresh:function(){this.loaded&&this._map&&!this._io&&this.visible&&this._createLayer()},_createLayer:function(d){var e=this;this._fireUpdateStart();
d=this.parse(d);d.addCallback(function(a){e._io=null;e._initLayer(a)});d.addErrback(function(a){e._io=null;a=n.mixin(Error(),a);a.message="Unable to load resource: "+e.url+" "+(a.message||"");e._fireUpdateEnd(a);e.onError(a)})},_initLayer:function(d){this.loaded&&this._removeInternalLayers();this.name=d.name;this.description=d.description;this.snippet=d.snippet;this.featureInfos=d.featureInfos;this.fullExtent=this.initialExtent=new u(d.lookAtExtent);this.copyright=d.author||d.copyright;var e;(d=n.getObject("featureCollection.layers",
!1,d))&&0<d.length&&(this._fLayers=[],q.forEach(d,function(a,b){var c=n.getObject("featureSet.features",!1,a);c&&0<c.length&&(e=n.mixin({outFields:["*"],infoTemplate:a.popupInfo?new l(a.popupInfo):null,editable:!1},this._options),e.id&&(e.id=e.id+"_"+b),e.webgl=!1,a.layerDefinition.capabilities="Query,Data",c=new r(a,e),c.geometryType&&(this["_"+c.geometryType]=c),this._fLayers.push(c))},this),0===this._fLayers.length&&delete this._fLayers);this.items=[];this._esriGeometryPoint&&(this.items=this.items.concat(this._esriGeometryPoint.graphics),
this.pointSymbol&&(d=new C(this.pointSymbol),this._esriGeometryPoint.setRenderer(d)));this._esriGeometryPolyline&&(this.items=this.items.concat(this._esriGeometryPolyline.graphics),this.polylineSymbol&&(d=new C(this.polylineSymbol),this._esriGeometryPolyline.setRenderer(d)));this._esriGeometryPolygon&&(this.items=this.items.concat(this._esriGeometryPolygon.graphics),this.polygonSymbol&&(d=new C(this.polygonSymbol),this._esriGeometryPolygon.setRenderer(d)));this._fireUpdateEnd();this.loaded&&(this._addInternalLayers(),
this.onRefresh())},_addInternalLayers:function(){var d=this._map;this._fireUpdateStart();var e=d.spatialReference,a=this._outSR;if(e.wkid)var b=e._isWebMercator()&&a._isWebMercator()||e.wkid===a.wkid;else if(e.wkt)b=e.wkt===a.wkt;else return;if(!b)if(e._isWebMercator()&&4326===a.wkid)this._converter=w.geographicToWebMercator;else if(a._isWebMercator()&&4326===e.wkid)this._converter=w.webMercatorToGeographic;else return;(e=this._fLayers)&&0<e.length&&q.forEach(e,function(c){if(this._converter){var m=
c.graphics,t,v,A=m?m.length:0;for(t=0;t<A;t++)(v=m[t].geometry)&&m[t].setGeometry(this._converter(v))}d.addLayer(c)},this);this.setVisibility(this.visible);this._fireUpdateEnd()},_removeInternalLayers:function(){var d=this._map;d&&q.forEach(this.getFeatureLayers(),d.removeLayer,d)},setScaleRange:function(d,e){this.inherited(arguments);q.forEach(this.getFeatureLayers(),function(a){a.setScaleRange(d,e)});this._options.minScale=this.minScale;this._options.maxScale=this.maxScale},setOpacity:function(d){this.opacity!=
d&&(q.forEach(this.getFeatureLayers(),function(e){e.setOpacity(d)}),this.opacity=this._options.opacity=d,this.onOpacityChange(d))},onVisibilityChange:function(d){this._fireUpdateStart();q.forEach(this.getFeatureLayers(),function(e){e.setVisibility(d)});this._fireUpdateEnd()},_setMap:function(d,e){this.inherited(arguments);this._map=d;var a=this._div=p.create("div",null,e);h.set(a,"position","absolute");this._addInternalLayers();this.evaluateSuspension();return a},_unsetMap:function(d,e){this._io&&
this._io.cancel();K.disconnect(this._extChgHandle);delete this._extChgHandle;this._removeInternalLayers();var a=this._div;a&&(e.removeChild(a),p.destroy(a));this._div=null;this.inherited(arguments)}});n.setObject("layers._ServiceGeneratedFeatureCollection",O,g);return O})},"esri/layers/WebTiledLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/url dojo/sniff dojo/string ../config ../kernel ../request ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){function l(d,e){var a=[];if(d&&e&&(e.customLayerParameters||e.customParameters)){var b=K.clone(e.customParameters||{});K.mixin(b,e.customLayerParameters||{});var c=u.urlToObject(d);for(var m in c.query)b.hasOwnProperty(m)||a.push(m+"\x3d"+c.query[m]);d=c.path+(a.length?"?"+a.join("\x26"):"")}return d}O=O(z,{declaredClass:"esri.layers.WebTiledLayer",constructor:function(d,e){e||(e={});this.urlTemplate=d=l(d,e.wmtsInfo);var a=new C(-2.0037508342787E7,-2.003750834278E7,
2.003750834278E7,2.0037508342787E7,new w({wkid:102100})),b=new C(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,new w({wkid:102100}));this.initialExtent=e.initialExtent||a;this.fullExtent=e.fullExtent||b;this.tileInfo=e.tileInfo?e.tileInfo:new r({dpi:96,rows:256,cols:256,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,resolution:156543.033928,scale:5.91657527591555E8},{level:1,resolution:78271.5169639999,scale:2.95828763795777E8},
{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,
scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,
scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147},{level:23,resolution:.01866138385297604,scale:70.5310735}]});this.spatialReference=new w(this.tileInfo.spatialReference.toJson());this.copyright=e.copyright||"";var c=new q(d);a=c.scheme+"://"+c.authority+"/";this.urlPath=d.substring(a.length);this.tileServers=e.tileServers||[];-1===c.authority.indexOf("{subDomain}")&&
this.tileServers.push(a);if(e.subDomains&&0<e.subDomains.length&&1<c.authority.split(".").length){this.subDomains=e.subDomains;var m;n.forEach(e.subDomains,function(B){-1<c.authority.indexOf("${subDomain}")?m=c.scheme+"://"+h.substitute(c.authority,{subDomain:B})+"/":-1<c.authority.indexOf("{subDomain}")&&(m=c.scheme+"://"+c.authority.replace(/\{subDomain\}/gi,B)+"/");this.tileServers.push(m)},this)}this.tileServers=n.map(this.tileServers,function(B){"/"!==B.charAt(B.length-1)&&(B+="/");return B});
this._levelToLevelValue=[];var t=0;n.forEach(this.tileInfo.lods,function(B,x){this._levelToLevelValue[B.level]=B.levelValue||B.level;0===x&&(t=this._levelToLevelValue[B.level])},this);this._wmtsInfo=e.wmtsInfo;var v=K.hitch(this,function(){this.loaded=!0;this.onLoad(this)});if(p("chrome")){a=this.getTileUrl(t,0,0);b=f.defaults.io;var A="with-credentials"===b.useCors?u.canUseXhr(a,!0):-1;(b=-1<A?b.corsEnabledServers[A]:null)&&b.withCredentials?k({url:a,handleAs:"arraybuffer"}).addBoth(function(){v()}):
v()}else v()},getTileUrl:function(d,e,a){d=this._levelToLevelValue[d];var b=this.tileServers[e%this.tileServers.length]+h.substitute(this.urlPath,{level:d,z:d,col:a,x:a,row:e,y:e});b=b.replace(/\{level\}/gi,d).replace(/\{row\}/gi,e).replace(/\{col\}/gi,a).replace(/\{z\}/gi,d).replace(/\{x\}/gi,a).replace(/\{y\}/gi,e);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return u.addProxy(b)},_appendCustomLayerParameters:function(d){var e;if(this._wmtsInfo&&(this._wmtsInfo.customLayerParameters||
this._wmtsInfo.customParameters)){var a=K.clone(this._wmtsInfo.customParameters||{});K.mixin(a,this._wmtsInfo.customLayerParameters||{});for(e in a)d+=(-1===d.indexOf("?")?"?":"\x26")+e+"\x3d"+encodeURIComponent(a[e])}return d}});K.setObject("layers.WebTiledLayer",O,g);return O})},"esri/layers/WMSLayer":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff ../config ../graphic ../kernel ../request ../urlUtils ../dijit/PopupTemplate ../SpatialReference ../geometry/Extent ../geometry/Point ./DynamicMapServiceLayer ./WMSLayerInfo dojo/query".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e){n=n([d],{declaredClass:"esri.layers.WMSLayer",_CRS_TO_EPSG:{84:4326,83:4269,27:4267},_REVERSED_LAT_LONG_RANGES:[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],
[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],_WEB_MERCATOR:[102100,3857,102113,900913],_WORLD_MERCATOR:[3395,54004],allExtents:[],version:null,constructor:function(a,b){var c=w.urlToObject(a);c.query&&(c.query.version||c.query.Version||c.query.VERSION)&&
(this.version=c.query.version||c.query.Version||c.query.VERSION);this.url=a=this._stripParameters(a,"version service request bbox format height width layers srs crs styles transparent bgcolor exceptions time elevation sld wfs".split(" "));this._url=w.urlToObject(a);this._getCapabilitiesURL=a;this._initLayer=q.hitch(this,this._initLayer);this._parseCapabilities=q.hitch(this,this._parseCapabilities);this._getCapabilitiesError=q.hitch(this,this._getCapabilitiesError);b?(this.customParameters=b.customParameters,
this.customLayerParameters=b.customLayerParameters,this.imageFormat=this._getImageFormat(b.format),this.imageTransparency=!1!==b.transparent,this.visibleLayers=b.visibleLayers?b.visibleLayers:[],this.version=b.version||this.version,b.resourceInfo?this._readResourceInfo(b.resourceInfo):this._getCapabilities()):(this.imageFormat="image/png",this.imageTransparency=!0,this.visibleLayers=[],this._getCapabilities());this._blankImageURL=O.toUrl("../images/pixel.png");this.extentProcessor=this._createExtentProcessor(0);
this._createChildLayer()},setVisibleLayers:function(a){this.visibleLayers=(a=this._checkVisibleLayersList(a))?a:[];this.refresh(!0)},setImageFormat:function(a){this.imageFormat=this._getImageFormat(a);this.refresh(!0)},setImageTransparency:function(a){this.imageTransparency=a;this.refresh(!0)},setCustomParameters:function(a,b){this.customParameters=a;this.customLayerParameters=b;this.refresh(!0)},refresh:function(){this._refreshTS=Date.now();this.inherited(arguments);this._childLayer&&this._childLayer.refresh.apply(this._childLayer,
arguments)},getImageUrl:function(a,b,c,m){if(this.visibleLayers&&0!==this.visibleLayers.length){a=this._getImageParams(a,b,c);a=this._mixinCustomLayerParameters(a);b=this.getMapURL;var t;b+=-1===b.indexOf("?")?"?":"";for(t in a)a.hasOwnProperty(t)&&(b+="?"===b.substring(b.length-1,b.length)?"":"\x26",b+=t+"\x3d"+a[t]);b=this.addTimestampToURL(b);m(w.addProxy(b))}else m(this._blankImageURL)},_setMap:function(a,b,c){var m=this.inherited(arguments);a.wrapAround180?this._childLayer&&(this.suspended&&
this._childLayer.suspend(),this._childLayer._setMap(a,m)):this._childLayer=this.extentProcessor=null;return m},_unsetMap:function(a,b){this._childLayer&&this._childLayer._unsetMap(a,this._div);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._childLayer&&this._childLayer.suspend()},onResume:function(){this.inherited(arguments);this._childLayer&&this._childLayer.resume()},_createChildLayer:function(){this._childLayer=new d(null,{extentProcessor:this._createExtentProcessor(1)});
this._childLayer._isChildLayer=!0;this._childLayer.getImageUrl=q.hitch(this,this.getImageUrl);this._childLayer.loaded=!0},_createExtentProcessor:function(a){return q.hitch(this,this._extentProcessor,a)},_extentProcessor:function(a,b){var c=b.extent,m=b.width,t=0;if(c){var v=c.getWidth()/m,A=c.bisect();c=A.extents;var B=c[a];B&&(m=A.marginLeft/v,t=0===a?m:m+c[0].getWidth()/v,m=Math.ceil(B.getWidth()/v),t=Math.ceil(t));c=B}return{extent:c,width:m,marginLeft:t}},_getImageParams:function(a,b,c){var m=
a.spatialReference.wkid;-1===p.indexOf(this.spatialReferences,m)&&a.spatialReference.latestWkid&&(m=a.spatialReference.latestWkid);if(p.some(this._WEB_MERCATOR,function(x){return x==m})){var t=p.filter(this.spatialReferences,function(x){return p.some(this._WEB_MERCATOR,function(D){return D==x})},this);0===t.length&&(t=p.filter(this.spatialReferences,function(x){return p.some(this._WORLD_MERCATOR,function(D){return D==x})},this));m=0<t.length?t[0]:this._WEB_MERCATOR[1]}this.spatialReferences=p.filter(this.spatialReferences,
function(x){return x!==m});this.spatialReferences.unshift(m);t=a.xmin;var v=a.xmax,A=a.ymin;a=a.ymax;var B={SERVICE:"WMS",REQUEST:"GetMap"};B.FORMAT=this.imageFormat;B.TRANSPARENT=this.imageTransparency?"TRUE":"FALSE";B.STYLES="";B.VERSION=this.version;B.LAYERS=this.visibleLayers?this.visibleLayers.toString():null;B.WIDTH=b;B.HEIGHT=c;this.maxWidth<b&&(B.WIDTH=this.maxWidth);this.maxHeight<c&&(B.HEIGHT=this.maxHeight);b=m?m:NaN;isNaN(b)||("1.3.0"==this.version?B.CRS="EPSG:"+b:B.SRS="EPSG:"+b);"1.3.0"==
this.version&&this._useLatLong(b)?B.BBOX=A+","+t+","+a+","+v:B.BBOX=t+","+A+","+v+","+a;return B},_initLayer:function(a,b){this.spatialReference=new z(this.extent.spatialReference);this.initialExtent=new r(this.extent);this.fullExtent=new r(this.extent);this.visibleLayers=this._checkVisibleLayersList(this.visibleLayers);var c=q.hitch(this,function(){this.loaded=!0;this.onLoad(this);var v=this._loadCallback;v&&(delete this._loadCallback,v(this))});if(h("chrome")){var m=f.defaults.io,t="with-credentials"===
m.useCors?w.canUseXhr(this.getMapURL,!0):-1;(m=-1<t?m.corsEnabledServers[t]:null)&&m.withCredentials?u({url:this.getMapURL,handleAs:"text",content:{SERVICE:"WMS",REQUEST:"GetMap"}}).addBoth(function(){c()}):c()}else c()},_readResourceInfo:function(a){a.extent?a.layerInfos?(this.extent=a.extent,this.allExtents[0]=a.extent,this.layerInfos=a.layerInfos,this.description=a.description?a.description:"",this.copyright=a.copyright?a.copyright:"",this.title=a.title?a.title:"",this.getMapURL=a.getMapURL?a.getMapURL:
this._getCapabilitiesURL,this.getFeatureInfoURL=a.getFeatureInfoURL,this.featureInfoFormat=a.featureInfoFormat,this.version=a.version?a.version:"1.3.0",this.maxWidth=a.maxWidth?a.maxWidth:5E3,this.maxHeight=a.maxHeight?a.maxHeight:5E3,this.spatialReferences=a.spatialReferences?a.spatialReferences:[],this.imageFormat=this._getImageFormat(a.format),this.setScaleRange(a.minScale,a.maxScale),this.customLayerParameters=a.customLayerParameters||this.customLayerParameters,this.customParameters=a.customParameters||
this.customParameters,this._initLayer()):this._errorHandler(Error("esri.layers.WMSLayer: unable to find the 'layerInfos' property in resourceInfo")):this._errorHandler(Error("esri.layers.WMSLayer: Unable to find the 'extent' property in resourceInfo."))},_getCapabilities:function(a){var b=this._url.query?this._url.query:{};b.SERVICE="WMS";b.REQUEST="GetCapabilities";this.version&&(b.VERSION=this.version);b=this._mixinCustomParameters(b);var c=this._url.path+"?",m;for(m in b)b.hasOwnProperty(m)&&(c+=
"?"==c.substring(c.length-1,c.length)?"":"\x26",c+=m+"\x3d"+b[m]);u({url:c,handleAs:a||"xml",headers:{"Content-Type":null},load:this._parseCapabilities,error:this._getCapabilitiesError},{usePost:!1})},_parseCapabilities:function(a,b){if(a){if("text"===b.handleAs){try{var c=(new DOMParser).parseFromString(a,"application/xml")}catch(y){}c&&!c.getElementsByTagName("parsererror").length||this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (XML Parse error.)"))}else c=
a;var m=this;this.version=this._getAttributeValue("WMS_Capabilities","version",c,null);this.version||(this.version=this._getAttributeValue("WMT_MS_Capabilities","version",c,"1.3.0"));var t=this._getTag("Service",c);this.title=this._getTagValue("Title",t,"");this.title||(this.title=this._getTagValue("Name",t,""));this.copyright=this._getTagValue("AccessConstraints",t,"");this.description=this._getTagValue("Abstract",t,"");this.maxWidth=parseInt(this._getTagValue("MaxWidth",t,5E3),10);this.maxHeight=
parseInt(this._getTagValue("MaxHeight",t,5E3),10);if(t=this._getTag("Layer",c)){var v=this._getLayerInfo(t),A=0,B=null;t=this._getTag("Capability",c);p.forEach(t.childNodes,function(y){"Layer"==y.nodeName&&(0===A?B=y:(1===A&&v.name&&(v.name="",v.subLayers=[],v.subLayers.push(this._getLayerInfo(B))),v.subLayers.push(this._getLayerInfo(y))),A++)},this);if(v&&(this.layerInfos=v.subLayers,this.layerInfos&&0!==this.layerInfos.length||(this.layerInfos=[v]),this.extent=v.extent,this.extent||(v.extent=new r(this.layerInfos[0].extent.toJson()),
this.extent=v.extent),this.allExtents=v.allExtents,this.allExtents&&this.allExtents.length||(v.allExtents=[],p.forEach(this.layerInfos[0].allExtents,function(y,F){y&&(v.allExtents[F]=new r(y.toJson()))}),this.allExtents=v.allExtents),this.spatialReferences=v.spatialReferences,!this.spatialReferences.length&&0<this.layerInfos.length)){var x=function(y){var F;for(F=0;F<y.subLayers.length;F++){var G=y.subLayers[F],H=G.spatialReferences;!H.length&&G.subLayers&&0<G.subLayers.length&&(H=x(G));if(H.length)return H}return[]};
for(t=0;t<this.layerInfos.length;t++){var D=this.layerInfos[t];this.spatialReferences=this.layerInfos[0].spatialReferences;!this.spatialReferences.length&&D.subLayers&&0<D.subLayers.length&&(this.spatialReferences=x(D));if(this.spatialReferences.length)break}}t=function(y){return(y=K.query("DCPType",m._getTag(y,c)))&&0<y.length&&(y=K.query("HTTP",y[0]))&&0<y.length&&(y=K.query("Get",y[0]))&&0<y.length&&(y=m._getAttributeValue("OnlineResource","xlink:href",y[0],null))?(y.indexOf("\x26")===y.length-
1&&(y=y.substring(0,y.length-1)),m._stripParameters(y,["service","request"])):null};D=function(y){var F=[];0===K.query("Operation",c).length?p.forEach(K.query("Format",m._getTag(y,c)),function(G){F.push(G.text?G.text:G.textContent)}):(p.forEach(K.query("Operation",c),function(G){G.getAttribute("name")===y&&p.forEach(K.query("Format",G),function(H){F.push(H.text?H.text:H.textContent)})}),F.length||p.forEach(K.query("Format",m._getTag(y,c)),function(G){F.push(G.text?G.text:G.textContent)}));return F};
this.getMapURL=t("GetMap")||this._getCapabilitiesURL;this.getMapFormats=D("GetMap");this.getMapFormats.length&&!p.some(this.getMapFormats,function(y){return-1<y.indexOf(this.imageFormat)},this)&&(this.imageFormat=this.getMapFormats[0]);if(this.getFeatureInfoURL=t("GetFeatureInfo"))this.getFeatureInfoFormats=D("GetFeatureInfo"),-1<p.indexOf(this.getFeatureInfoFormats,"text/html")?this.featureInfoFormat="text/html":-1<p.indexOf(this.getFeatureInfoFormats,"text/plain")&&(this.featureInfoFormat="text/plain");
if(!this.featureInfoFormat){var E=function(y){if(y&&(y.queryable=!1,y.subLayers))for(var F=0;F<y.subLayers.length;F++)E(y.subLayers[F])};E(v)}this._initLayer()}else this._errorHandler(Error("esri.layers.WMSLayer: Response does not contain any layers."))}else"xml"===b.handleAs?this._getCapabilities("text"):this._errorHandler(Error("GetCapabilities request for "+this._getCapabilitiesURL+" failed. (Response is null.)"))},_getCapabilitiesError:function(a){a&&a.message&&(a.message="GetCapabilities request for "+
this._getCapabilitiesURL+" failed. ("+a.message+")");this._errorHandler(a)},_getLayerInfo:function(a){if(!a)return null;var b=new e;b.name="";b.title="";b.description="";b.allExtents=[];b.spatialReferences=[];b.queryable="1"===a.getAttribute("queryable");b.subLayers=[];var c=this._getTag("LatLonBoundingBox",a);c&&(b.allExtents[0]=this._getExtent(c,4326));var m=this._getTag("EX_GeographicBoundingBox",a);if(m){var t=new r(0,0,0,0,new z({wkid:4326}));t.xmin=parseFloat(this._getTagValue("westBoundLongitude",
m,0));t.ymin=parseFloat(this._getTagValue("southBoundLatitude",m,0));t.xmax=parseFloat(this._getTagValue("eastBoundLongitude",m,0));t.ymax=parseFloat(this._getTagValue("northBoundLatitude",m,0));b.allExtents[0]=t}c||m||(t=new r(-180,-90,180,90,new z({wkid:4326})),b.allExtents[0]=t);b.extent=b.allExtents[0];var v=-1<p.indexOf(["1.0.0","1.1.0","1.1.1"],this.version)?"SRS":"CRS";p.forEach(a.childNodes,function(A){if("Name"==A.nodeName)b.name=(A.text?A.text:A.textContent)||"";else if("Title"==A.nodeName)b.title=
(A.text?A.text:A.textContent)||"";else if("Abstract"==A.nodeName)b.description=(A.text?A.text:A.textContent)||"";else if("BoundingBox"==A.nodeName){var B=A.getAttribute(v);B&&0===B.indexOf("EPSG:")?(B=parseInt(B.substring(5),10),0===B||isNaN(B)||(A="1.3.0"==this.version?this._getExtent(A,B,this._useLatLong(B)):this._getExtent(A,B),b.allExtents[B]=A,b.extent||(b.extent=A))):B&&0===B.indexOf("CRS:")?(B=parseInt(B.substring(4),10),0===B||isNaN(B)||(this._CRS_TO_EPSG[B]&&(B=this._CRS_TO_EPSG[B]),b.allExtents[B]=
this._getExtent(A,B))):(B=parseInt(B,10),0===B||isNaN(B)||(b.allExtents[B]=this._getExtent(A,B)))}else if(A.nodeName==v)A=(A.text?A.text:A.textContent).split(" "),p.forEach(A,function(x){x=-1<x.indexOf(":")?parseInt(x.split(":")[1],10):parseInt(x,10);0===x||isNaN(x)||(this._CRS_TO_EPSG[x]&&(x=this._CRS_TO_EPSG[x]),-1==p.indexOf(b.spatialReferences,x)&&b.spatialReferences.push(x))},this);else if("Style"!=A.nodeName||b.legendURL)"Layer"===A.nodeName&&b.subLayers.push(this._getLayerInfo(A));else if(A=
this._getTag("LegendURL",A))if(A=this._getTag("OnlineResource",A))b.legendURL=A.getAttribute("xlink:href")},this);b.title=b.title||b.name;return b},_getImageFormat:function(a){switch(a?a.toLowerCase():""){case "jpg":return"image/jpeg";case "bmp":return"image/bmp";case "gif":return"image/gif";case "svg":return"image/svg+xml";default:return"image/png"}},getImageFormat:function(){switch(this.imageFormat?this.imageFormat.toLowerCase():""){case "image/jpeg":return"jpg";case "image/bmp":return"bmp";case "image/gif":return"gif";
case "image/svg+xml":return"svg";default:return"png"}},_getExtent:function(a,b,c){if(a){var m=new r;var t=parseFloat(a.getAttribute("minx")),v=parseFloat(a.getAttribute("miny")),A=parseFloat(a.getAttribute("maxx"));a=parseFloat(a.getAttribute("maxy"));c?(m.xmin=isNaN(v)?-1*Number.MAX_VALUE:v,m.ymin=isNaN(t)?-1*Number.MAX_VALUE:t,m.xmax=isNaN(a)?Number.MAX_VALUE:a,m.ymax=isNaN(A)?Number.MAX_VALUE:A):(m.xmin=isNaN(t)?-1*Number.MAX_VALUE:t,m.ymin=isNaN(v)?-1*Number.MAX_VALUE:v,m.xmax=isNaN(A)?Number.MAX_VALUE:
A,m.ymax=isNaN(a)?Number.MAX_VALUE:a);m.spatialReference=new z({wkid:b})}return m},_useLatLong:function(a){var b;for(b=0;b<this._REVERSED_LAT_LONG_RANGES.length;b++){var c=this._REVERSED_LAT_LONG_RANGES[b];if(a>=c[0]&&a<=c[1]){var m=!0;break}}return m},_getTag:function(a,b){var c=K.query(a,b);return c&&0<c.length?c[0]:null},_getTagValue:function(a,b,c){return(a=K.query(a,b))&&0<a.length?a[0].text?a[0].text:a[0].textContent:c},_getAttributeValue:function(a,b,c,m){return(a=K.query(a,c))&&0<a.length?
a[0].getAttribute(b):m},_checkVisibleLayersList:function(a){if(a&&0<a.length&&this.layerInfos&&0<this.layerInfos.length&&"number"==typeof a[0]){var b=[];p.forEach(a,function(c){c<this.layerInfos.length&&b.push(this.layerInfos[c].name)},this);a=b}return a},_stripParameters:function(a,b){var c=w.urlToObject(a),m,t=[];for(m in c.query)c.query.hasOwnProperty(m)&&-1===p.indexOf(b,m.toLowerCase())&&t.push(m+"\x3d"+c.query[m]);return c.path+(t.length?"?"+t.join("\x26"):"")},_getPopupGraphic:function(a,b){var c=
this.visibleLayers;if(!c||0===c.length)return null;var m=this._popupGraphic;m||(m=new C({title:this.title||""}),m.setContent(function(D){var E=document.createElement("div");if(D=D&&D.attributes&&D.attributes.QUERY_URL)E.style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;",E.innerHTML='\x3ciframe sandbox src\x3d"'+D+'" width\x3d"250" height\x3d"147" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" style\x3d"position:absolute;top:0;left:0;width:100%;height:100%;border:0;background:url(\''+
O.toUrl("../dijit/images/loading-throb.gif")+"') transparent center no-repeat;\" onload\x3d\"(event.target || event.srcElement).style.background \x3d 'none';\"\x3e\x3c/iframe\x3e";return E}),m=this._popupGraphic=new g(null,null,{},m),m._layer=this);var t=function(D){var E=[];if(D&&(D.queryable&&D.showPopup&&D.name&&E.push(D.name),D.subLayers))for(var y=0;y<D.subLayers.length;y++){var F=t(D.subLayers[y]);F.length&&(E=E.concat(F))}return E},v=t({subLayers:this.layerInfos});v=p.filter(v,function(D){return-1<
p.indexOf(c,D)});if(v.length){var A=this.getFeatureInfoURL,B=this._getImageParams(a.extent,a.width,a.height);B=this._mixinCustomLayerParameters(B);B.REQUEST="GetFeatureInfo";B.INFO_FORMAT=this.featureInfoFormat;B.QUERY_LAYERS=v.join();B.FEATURE_COUNT=25;"1.3.0"===this.version?(B.I=Math.round(b.x),B.J=Math.round(b.y)):(B.X=Math.round(b.x),B.Y=Math.round(b.y));A+=-1===A.indexOf("?")?"?":"";for(var x in B)B.hasOwnProperty(x)&&(A+="?"===A.substring(A.length-1,A.length)?"":"\x26",A+=x+"\x3d"+B[x]);m.attributes.QUERY_URL=
A;return m}return null},_mixinCustomParameters:function(a){if(this.customParameters)for(var b in this.customParameters)a[b]=encodeURIComponent(this.customParameters[b]);return a},_mixinCustomLayerParameters:function(a){if(this.customLayerParameters||this.customParameters){var b=q.clone(this.customParameters||{});q.mixin(b,this.customLayerParameters||{});for(var c in b)"styles"===c.toLowerCase()&&delete a.STYLES,a[c]=encodeURIComponent(b[c])}return a}});q.setObject("layers.WMSLayer",n,k);return n})},
"esri/layers/WMSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../kernel"],function(O,K,n,q,p){O=O(null,{declaredClass:"esri.layers.WMSLayerInfo",name:null,title:null,description:null,extent:null,legendURL:null,subLayers:[],allExtents:[],spatialReferences:[],queryable:!1,showPopup:!1,constructor:function(h){h&&(this.name=h.name,this.title=h.title,this.description=h.description,this.extent=h.extent,this.legendURL=h.legendURL,this.subLayers=h.subLayers?
h.subLayers:[],this.allExtents=h.allExtents?h.allExtents:[],this.spatialReferences=h.spatialReferences?h.spatialReferences:[],this.queryable=!!h.queryable,this.showPopup=!!h.showPopup)},clone:function(){var h={name:this.name,title:this.title,description:this.description,legendURL:this.legendURL};this.extent&&(h.extent=this.extent.getExtent());h.subLayers=[];n.forEach(this.subLayers,function(g){h.subLayers.push(g.clone())});h.allExtents=[];for(f in this.allExtents){var f=parseInt(f,10);isNaN(f)||(h.allExtents[f]=
this.allExtents[f].getExtent())}h.spatialReferences=[];n.forEach(this.spatialReferences,function(g){h.spatialReferences.push(g)});h.queryable=this.queryable;h.showPopup=this.showPopup;return h}});K.setObject("layers.WMSLayerInfo",O,p);return O})},"esri/layers/WFSLayer":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/has dojo/on ../request ../kernel ../graphic ../renderers/jsonUtils ../symbols/jsonUtils ../Color ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../SpatialReference ../geometry/webMercatorUtils ../geometry/Extent ../geometry/Point ../geometry/Multipoint ../geometry/Polyline ../geometry/Polygon ./LabelClass ./GraphicsLayer".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B){O=O([B],{declaredClass:"esri.layers.WFSLayer",constructor:function(x){this.geometryType=this.describeFeatureTypeUrl=this.getFeatureUrl=this.layerNamespace="";this.fields=[];this.spatialReferences=[];this.fullExtent=null;this.visible=!0;this.renderer=null;this.id="WFSLayer";this._url="";this._version="1.1.0";this._layerName="";this._nsLayerNames={};this._layerDefinedGeometryType="esriGeometryComplex";this._wkid=3857;this._mode="snapshot";
this._maxFeatures=100;this._inverseResponse=this._inverseFilter=!1;this._nsGeometryFieldName=this._getFeatureRequest=this._nsFields="";this._graphicArray=[];this._gmlNS="http://www.opengis.net/gml";this._layerEventHandlers=[];this.customParameters=this._describeFeatureTypeCallback=this._getCapabilitiesCallback=null;this.showLabels=!0;this.labelingInfo=null;x&&(x.id&&(this.id=x.id),this.showLabels=null!==x.showLabels?x.showLabels:!0);this.onError=n.hitch(this,this.onError);this._errorSupport=n.hitch(this,
this._errorSupport);this._parseGml=n.hitch(this,this._parseGml);this._getCapabilities=n.hitch(this,this._getCapabilities);this._getCapabilitiesResponse=n.hitch(this,this._getCapabilitiesResponse);this._describeFeatureTypeResponse=n.hitch(this,this._describeFeatureTypeResponse);this._pointSymbol=new r(r.STYLE_CIRCLE,6,new l(l.STYLE_SOLID,new z([0,255,0]),1),new z([255,0,0]));this._lineSymbol=new l(l.STYLE_SOLID,new z([0,255,0]),3);this._polygonSymbol=new d(d.STYLE_SOLID,new l(l.STYLE_SOLID,new z([255,
0,0]),2),new z([255,255,0,.25]));this.loaded=!1;this._isProjectedOk=!0},initialize:function(x,D){x.id&&(this.id=x.id);x.url&&(this._url=x.url);x.version&&(this._version=x.version);this.customParameters=x.customParameters;this._getCapabilities(D)},selectLayer:function(x,D){this._layerName=x.layerName;this._wkid=x.wkid;this._mode=x.mode;this._maxFeatures=x.maxFeatures;this._inverseResponse=x.swapXY;this._inverseFilter=x.swapXYFilter;this.geometryType=x.geometryType;this._describeFeatureType(D);this.loaded=
!0},toJson:function(){var x={};x.id=this.id;x.url=this._url;x.version=this._version;x.mode="snapshot"===this._mode?0:1;x.name=this._layerName;x.geometryType=this.geometryType;x.wkid=this._wkid;x.maxFeatures=this._maxFeatures;x.swapXY=this._inverseResponse;x.swapXYFilter=this._inverseFilter;x.pointSymbol=this._pointSymbol.toJson();x.lineSymbol=this._lineSymbol.toJson();x.polygonSymbol=this._polygonSymbol.toJson();x.showLabels=this.showLabels;this.labelingInfo&&(x.labelingInfo=q.map(this.labelingInfo,
function(D){return D.toJson()}));this.customParameters&&(x.customParameters=this.customParameters);return x},fromJson:function(x,D){x.id&&(this.id=x.id);x.url&&(this._url=x.url);x.version&&(this._version=x.version);x.mode&&(this._mode=0===x.mode?"snapshot":"onDemand");x.name&&(this._layerName=x.name);x.geometryType&&(this.geometryType=x.geometryType);x.wkid&&(this._wkid=x.wkid);x.maxFeatures&&(this._maxFeatures=x.maxFeatures);x.swapXY&&(this._inverseResponse=x.swapXY);x.swapXYFilter&&(this._inverseFilter=
x.swapXYFilter);x.pointSymbol&&(this._pointSymbol=C.fromJson(x.pointSymbol));x.lineSymbol&&(this._lineSymbol=C.fromJson(x.lineSymbol));x.polygonSymbol&&(this._polygonSymbol=C.fromJson(x.polygonSymbol));this.showLabels=null!=x.showLabels?x.showLabels:!0;x.labelingInfo&&(this.labelingInfo=q.map(x.labelingInfo,function(E){return new A(E)}));this.customParameters=x.customParameters;this._getCapabilities(D);this.loaded=!0},setPointSymbol:function(x){this._pointSymbol=x},setLineSymbol:function(x){this._lineSymbol=
x},setPolygonSymbol:function(x){this._polygonSymbol=x},_setMap:function(x){this._map=x;var D=this.inherited(arguments);this._map&&(this._layerEventHandlers.push(this._map.on("extent-change",n.hitch(this,"refresh"))),this._layerEventHandlers.push(this.on("visibility-change",n.hitch(this,"_visibilityChange"))));this._getFeature();this.refresh();return D},_unsetMap:function(){for(var x=0;x<this._layerEventHandlers.length;x++)p.disconnect(this._layerEventHandlers[x]);this.refresh();this.inherited(arguments)},
refresh:function(){this.clear();this.redraw();"ondemand"===this._mode.toLowerCase()&&this._fireUpdateStart()},redraw:function(){if(this.visible)for(var x=0;x<this._graphicArray.length;x++){var D=this._graphicArray[x],E=D.geometry,y=null;"point"===E.type?y=this.renderer?this.renderer.getSymbol(D):this._pointSymbol:"multipoint"===E.type?y=this.renderer?this.renderer.getSymbol(D):this._pointSymbol:"polyline"===E.type?y=this.renderer?this.renderer.getSymbol(D):this._lineSymbol:"polygon"===E.type&&(y=
this.renderer?this.renderer.getSymbol(D):this._polygonSymbol);D.setSymbol(y);this.add(D)}},_visibilityChange:function(x){this.visible=x.visible;this.redraw()},onUpdateStart:function(){this._getFeature()},onUpdateEnd:function(){this.clear();this.redraw()},setLabelingInfo:function(x){x?(this.labelingInfo=x,this._fixLabelExpr()):delete this.labelingInfo;this.onLabelingInfoChange()},onLabelingInfoChange:function(){},_fixLabelExpr:function(){var x=/\[([^\[\]]+)\]/ig,D,E=this,y=function(F,G){var H=E._getField(G,
!0);return"["+(H&&H.name||G)+"]"};q.forEach(this.labelingInfo,function(F){if(D=F.labelExpression)F.labelExpression=D.replace(x,y)})},_getField:function(x,D){var E=this.fields;if(!E||0===E.length)return null;var y;D&&(x=x.toLowerCase());q.some(E,function(F){var G=!1;(G=D?F&&F.name.toLowerCase()===x?!0:!1:F&&F.name===x?!0:!1)&&(y=F);return G});return y},setCustomParameters:function(x){this.customParameters=x;this._getFeature();this.refresh()},_getCapabilities:function(x){this._getCapabilitiesCallback=
x;x=n.trim(this._url);if(""===x)this.onError("WFSLayer: url is invalid");else if("1.0.0"!==this._version&&"1.1.0"!==this._version&&"2.0.0"!==this._version)this.onError("WFSLayer: version is invalid");else if(""!==x){var D=x.indexOf("?");D=this._checkForUrlInUrl(x,D);D="?"===x.charAt(x.length-1)?"":-1===D?"?":"\x26";x=x+D+"service\x3dWFS\x26request\x3dGetCapabilities\x26version\x3d"+this._version;x=this._appendCustomParameters(x);g({url:x,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._getCapabilitiesResponse,
this._errorSupport)}},_errorSupport:function(x){this.onError(x)},_getCapabilitiesResponse:function(x){var D,E,y,F=new DOMParser;try{var G=F.parseFromString(x,"text/xml"),H=this._readExceptionReport(G,x);if(H)this.onError("WFSLayer: getCapabilities - returns exception: "+H);else{var I=G.documentElement.attributes.getNamedItem("version");if(I){this._version=I.value;var N="2.0.0"===this._version?"http://www.opengis.net/wfs/2.0":"http://www.opengis.net/wfs";if("2.0.0"===this._version){var M=G.getElementsByTagNameNS("http://www.opengis.net/ows/1.1",
"Operation");for(D=0;D<M.length;D++){if((y=M[D].attributes.getNamedItem("name"))&&"DescribeFeatureType"===y.value){var J=M[D].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Get");this.describeFeatureTypeUrl=J[0].attributes.getNamedItem("xlink:href").value}if(y&&"GetFeature"===y.value){var R=M[D].getElementsByTagNameNS("http://www.opengis.net/ows/1.1","Post");this.getFeatureUrl=R[0].attributes.getNamedItem("xlink:href").value}}}else if("1.1.0"===this._version)for(M=G.getElementsByTagNameNS("http://www.opengis.net/ows",
"Operation"),D=0;D<M.length;D++)(y=M[D].attributes.getNamedItem("name"))&&"DescribeFeatureType"===y.value&&(J=M[D].getElementsByTagNameNS("http://www.opengis.net/ows","Get"),this.describeFeatureTypeUrl=J[0].attributes.getNamedItem("xlink:href").value),y&&"GetFeature"===y.value&&(R=M[D].getElementsByTagNameNS("http://www.opengis.net/ows","Post"))&&R.length&&(this.getFeatureUrl=R[0].attributes.getNamedItem("xlink:href").value);else if("1.0.0"===this._version){var Z=G.getElementsByTagNameNS(N,"DescribeFeatureType");
if(!Z||!Z.length){this.onError("WFSLayer: getCapabilities - no describeFeatureType info");return}J=Z[0].getElementsByTagNameNS(N,"Get");this.describeFeatureTypeUrl=J[0].attributes.getNamedItem("onlineResource").value;var T=G.getElementsByTagNameNS(N,"GetFeature");if(!T||!T.length){this.onError("WFSLayer: getCapabilities - no GetFeature info");return}(R=T[0].getElementsByTagNameNS(N,"Post"))&&R.length&&(this.getFeatureUrl=R[0].attributes.getNamedItem("onlineResource").value)}this._nsLayerNames={};
x=[];var X=G.getElementsByTagNameNS(N,"FeatureTypeList");for(D=0;D<X.length;D++){var aa=X[D].getElementsByTagNameNS(N,"FeatureType");for(E=0;E<aa.length;E++){var fa=aa[E],oa=fa.getElementsByTagNameNS(N,"Name")[0],ua=oa.textContent,ha=ua.indexOf(":"),U=ua.substring(0,ha),ka=ua.substring(ha+1),W=oa.lookupNamespaceURI(U);null===W&&(W=oa.lookupNamespaceURI(null));this._nsLayerNames[ka]={prefix:U,namespace:W};var Q=fa.getElementsByTagNameNS(N,"Title"),L=0<Q.length?Q[0].textContent:"";""===L&&(L=ka);this.spatialReferences=
this._readFactoryCodes(this._version,fa);var ca=this._readDefaultBBOX(this._version,fa);x.push({name:ka,title:L,spatialReferences:this.spatialReferences,extent:ca})}}this._describeFeatureType();var Y=this._getCapabilitiesCallback;Y&&Y(x)}else this.onError("WFSLayer: getCapabilities - document not recognized.")}}catch(da){this.onError("WFSLayer: getCapabilities - parsing error")}},_readFactoryCodes:function(x,D){var E,y=[];if("2.0.0"===x||"1.1.0"===x){var F=D.getElementsByTagNameNS("*","DefaultSRS");
this._addCodeList(y,F[0]);F=D.getElementsByTagNameNS("*","DefaultCRS");this._addCodeList(y,F[0]);F=D.getElementsByTagNameNS("*","OtherSRS");for(E=0;E<F.length;E++)this._addCodeList(y,F[E]);F=D.getElementsByTagNameNS("*","OtherCRS");for(E=0;E<F.length;E++)this._addCodeList(y,F[E])}else"1.0.0"===x&&(F=D.getElementsByTagNameNS("*","SRS"),this._addCodeList(y,F[0]));for(F=!1;0<y.length;){4326===y[0]&&(F=!0);break}F||y.push(4326);return y},_addCodeList:function(x,D){if(D){var E=D.textContent.match(/\d+/g);
0<E.length&&(E=parseInt(E[E.length-1],10),84===E&&(E=4326),x.push(E))}},_readDefaultBBOX:function(x,D){if("2.0.0"===x||"1.1.0"===x){var E=D.getElementsByTagNameNS("*","WGS84BoundingBox");if(!E[0]||!E[0].attributes)return[];var y=E[0].getElementsByTagNameNS("*","LowerCorner");var F=E[0].getElementsByTagNameNS("*","UpperCorner");if(0>=y.length||0>=F.length)return[];var G=y[0].textContent;E=G.indexOf(" ");y=G.substring(0,E);G=G.substring(E+1);E=F[0].textContent;var H=E.indexOf(" ");F=E.substring(0,H);
E=E.substring(H+1)}else if("1.0.0"===x){E=D.getElementsByTagNameNS("*","LatLongBoundingBox");if(!E[0]||!E[0].attributes)return[];y=E[0].attributes.getNamedItem("minx").value;G=E[0].attributes.getNamedItem("miny").value;F=E[0].attributes.getNamedItem("maxx").value;E=E[0].attributes.getNamedItem("maxy").value}y=parseFloat(y,10);G=parseFloat(G,10);F=parseFloat(F,10);E=parseFloat(E,10);return[y,G,F,E]},_describeFeatureType:function(x){if(""!==this._layerName)if(""===this.describeFeatureTypeUrl)this.onError("WFSLayer: invalid describeFeatureType url");
else if(""===this._wkid)this.onError("WFSLayer: invalid wkid");else if("snapshot"!==this._mode&&"onDemand"!==this._mode)this.onError("WFSLayer: invalid mode");else if(""===this._maxFeatures||0>this._maxFeatures||1E6<this._maxFeatures)this.onError("WFSLayer: invalid maxFeatures");else if(this._describeFeatureTypeCallback=x,x=n.trim(this.describeFeatureTypeUrl),""!==x){var D=x.indexOf("?");D=this._checkForUrlInUrl(x,D);var E="?"===x.charAt(x.length-1)?"":-1===D?"?":"\x26",y=this._nsLayerNames[this._layerName];
if(void 0===y)this.onError("WFSLayer: invalid layerName");else D=y.prefix,y=y.namespace,x=x+E+"service\x3dWFS\x26request\x3dDescribeFeatureType\x26version\x3d"+this._version,x+="\x26typeName\x3d",""!==D&&(x+=D+":"),x+=encodeURIComponent(this._layerName),""!==D&&(x+="\x26namespace\x3dxmlns("+D+"\x3d"+encodeURIComponent(y)+")"),x=this._appendCustomParameters(x),g({url:x,handleAs:"text",headers:{"Content-Type":null}},{usePost:!1}).then(this._describeFeatureTypeResponse,this._errorSupport)}},_describeFeatureTypeResponse:function(x){var D=
(new DOMParser).parseFromString(x,"text/xml");if(x=this._readExceptionReport(D,x))this.onError("WFSLayer: DescribeFeatureType - returns exception: "+x);else{this.fields=[];x=D.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","schema");for(D=0;D<x.length;D++){var E=this._readAllFields(x[D]);null!==E&&(this._layerDefinedGeometryType=E[0],this.fields=E[1])}this.geometryType&&""!==this.geometryType||(this.geometryType=this._layerDefinedGeometryType);for(D=0;D<this.fields.length;D++)x=this.fields[D],
"esriFieldTypeGeometry"===x.type&&(this._nsGeometryFieldName=x.name);this.layerNamespace=this._nsLayerNames[this._layerName].namespace;if(0===this.fields.length)this.onError("WFSLayer: DescribeFeatureType - can't get fields");else this._getFeature(),(D=this._describeFeatureTypeCallback)&&D(this.fields)}},_readAllFields:function(x){for(var D=x.childNodes,E=0;E<D.length;E++){var y=D[E];if("element"===y.localName){var F=y.attributes;if(F.name.value===this._layerName)return(D=F.type)?(y=D.value,D=y.indexOf(":"),
y=y.substring(D+1),this._readFieldsFromGlobalComplextType(x,y)):this._readFieldsFromLocalComplextType(y)}}return null},_readFieldsFromGlobalComplextType:function(x,D){for(var E=x.childNodes,y=0;y<E.length;y++){var F=E[y];if("complexType"===F.localName&&F.attributes.name.value===D)return this._readFieldsFromLocalComplextType(F)}return null},_readFieldsFromLocalComplextType:function(x){for(var D=[],E="esriGeometryComplex",y=x.getElementsByTagNameNS("http://www.w3.org/2001/XMLSchema","element"),F=0;F<
y.length;F++){var G=y[F],H="",I=G.attributes.getNamedItem("name");I&&(H=I.value);if(""!==H){var N=x="",M=G.attributes.getNamedItem("type");I="unknown";if(null!==M){N=M.value;var J=N.indexOf(":");x=N.substring(0,J);N=N.substring(J+1);I=M.lookupNamespaceURI(x);null===I&&(I=M.lookupNamespaceURI(null))}if(""===N){G=G.childNodes;for(var R=0;R<G.length;R++)if(x=G[R],"simpleType"===x.localName){x=x.childNodes;for(R=0;R<x.length;R++)if(node2=x[R],"restriction"===node2.localName){M=node2.attributes.getNamedItem("base");
N=M.value;J=N.indexOf(":");x=N.substring(0,J);N=N.substring(J+1);break}if(""!==N)break}}G="Unknown";switch(N){case "integer":case "nonPositiveInteger":case "negativeInteger":case "long":case "int":case "short":case "byte":case "nonNegativeInteger":case "unsignedLong":case "unsignedInt":case "unsignedShort":case "unsignedByte":case "positiveInteger":G="esriFieldTypeInteger";D.push({name:H,alias:H,type:G,wfsNamespace:I});break;case "float":case "double":case "decimal":G="esriFieldTypeDouble";D.push({name:H,
alias:H,type:G,wfsNamespace:I});break;case "boolean":case "string":case "gYearMonth":case "gYear":case "gMonthDay":case "gDay":case "gMonth":case "anyURI":case "QName":case "NOTATION":case "normalizedString":case "token":case "language":case "IDREFS":case "ENTITIES":case "NMTOKEN":case "NMTOKENS":case "Name":case "NCName":case "ID":case "IDREF":case "ENTITY":G="esriFieldTypeString";D.push({name:H,alias:H,type:G,wfsNamespace:I});break;case "duration":case "dateTime":case "time":case "date":G="esriFieldTypeDate";
D.push({name:H,alias:H,type:G,wfsNamespace:I});break;case "PointPropertyType":case "MultiPointPropertyType":G="esriFieldTypeGeometry";E="esriGeometryPoint";D.push({name:H,alias:H,type:G,wfsNamespace:I});break;case "MultiCurvePropertyType":case "MultiLineStringPropertyType":G="esriFieldTypeGeometry";E="esriGeometryPolyline";D.push({name:H,alias:H,type:G,wfsNamespace:I});break;case "MultiSurfacePropertyType":case "MultiPolygonPropertyType":G="esriFieldTypeGeometry";E="esriGeometryPolygon";D.push({name:H,
alias:H,type:G,wfsNamespace:I});break;case "GeometryPropertyType":case "MultiGeometryPropertyType":G="esriFieldTypeGeometry",E="esriGeometryComplex",D.push({name:H,alias:H,type:G,wfsNamespace:I})}}}return[E,D]},_getFeature:function(){var x="\x3c?xml version\x3d'1.0' encoding\x3d'utf-8'?\x3e\n\x3cGetFeature \n xmlns:xsi\x3d'http://www.w3.org/2001/XMLSchema-instance'\n xmlns:gml\x3d'http://www.opengis.net/gml'\n xmlns:ogc\x3d'http://www.opengis.net/ogc'\n xmlns:wfs\x3d'http://www.opengis.net/wfs'\n";
x="2.0.0"===this._version?x+" xmlns\x3d'http://www.opengis.net/wfs/2.0'\n":x+" xmlns\x3d'http://www.opengis.net/wfs'\n";var D=this._nsLayerNames[this._layerName];if(void 0===D)this.onError("WFSLayer: invalid layerName");else{var E=D.prefix;D=D.namespace;if("ondemand"===this._mode.toLowerCase()&&""===this._nsGeometryFieldName)this.onError("WFSLayer: GetFeature - can't use 'onDemand' mode as geometryFieldName is unknown.");else if(x+=" xmlns:"+E+"\x3d'"+D+"'\n",x="2.0.0"===this._version?x+(" version\x3d'"+
this._version+"' service\x3d'WFS' count\x3d'"+this._maxFeatures+"'\x3e\n"):x+(" version\x3d'"+this._version+"' service\x3d'WFS' maxFeatures\x3d'"+this._maxFeatures+"'\x3e\n"),x="2.0.0"===this._version?x+(" \x3cQuery typeNames\x3d'"+E+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"):x+(" \x3cwfs:Query typeName\x3d'"+E+":"+this._layerName+"' srsName\x3d'EPSG:"+this._wkid+"'\x3e\n"),"ondemand"===this._mode.toLowerCase()&&(x=x+"  \x3cogc:Filter xmlns:ogc\x3d'http://www.opengis.net/ogc'\x3e\n   \x3cogc:BBOX\x3e\n    \x3cogc:PropertyName\x3e"+
(E+":"+this._nsGeometryFieldName+"\x3c/ogc:PropertyName\x3e\n"),x+="    \x3cgml:Box srsName\x3d'EPSG:"+this._wkid+"'\x3e\n",x=this._inverseFilter?x+"      \x3cgml:coordinates\x3e{ymin},{xmin} {ymax},{xmax}\x3c/gml:coordinates\x3e\n":x+"      \x3cgml:coordinates\x3e{xmin},{ymin} {xmax},{ymax}\x3c/gml:coordinates\x3e\n",x+="    \x3c/gml:Box\x3e\n   \x3c/ogc:BBOX\x3e\n  \x3c/ogc:Filter\x3e\n"),x="2.0.0"===this._version?x+" \x3c/Query\x3e\n":x+" \x3c/wfs:Query\x3e\n",this._getFeatureRequest=x+"\x3c/GetFeature\x3e\n",
""===this.getFeatureUrl)this.onError("WFSLayer: getFeature - server doesn't support POST method.");else if(""!==this._getFeatureRequest&&this._map&&null!==this._map.spatialReference.wkid){x=this._getFeatureRequest;if("ondemand"===this._mode.toLowerCase()){x=this._map.extent.xmin;E=this._map.extent.ymin;D=this._map.extent.xmax;var y=this._map.extent.ymax,F={},G=this._map.spatialReference,H=new e(this._wkid);this._projectFromSRToSR(G,H,x,E,F)&&(x=F.x,E=F.y);this._projectFromSRToSR(G,H,D,y,F)&&(D=F.x,
y=F.y);x=this._getFeatureRequest.replace(/{xmin}/,x).replace(/{ymin}/,E).replace(/{xmax}/,D).replace(/{ymax}/,y)}E=this._appendCustomParameters(this.getFeatureUrl);g({url:E,handleAs:"text",headers:{"Content-Type":"text/xml"},postData:x},{usePost:!0}).then(this._parseGml,this._errorSupport)}}},_parseGml:function(x){if(this._map&&this._map.spatialReference&&this._map.spatialReference.wkid){var D=(new DOMParser).parseFromString(x,"text/xml");if(x=this._readExceptionReport(D,x))this.onError("WFSLayer: GetFeature - returns exception: "+
x);else this._gmlNS="2.0.0"===this._version?"http://www.opengis.net/gml/3.2":"http://www.opengis.net/gml",""===this._wkid&&(this._wkid=this._map.spatialReference.wkid),this._graphicArray=this._readFeatureMembers(D,this._wkid,2,this._nsLayerNames[this._layerName].namespace,this._layerName),this.fullExtent=this._createFullExtent(this._graphicArray),this.onLabelingInfoChange(),"ondemand"===this._mode.toLowerCase()?this._fireUpdateEnd():this.refresh()}},_limit4326:function(x){for(var D=0;D<x.length;D++){var E=
x[D].geometry;4326===E.spatialReference.wkid&&(E.x=this._limit4326X(E.x),E.y=this._limit4326Y(E.y))}},_limit4326X:function(x){180<=x&&(x=179.99);-180>=x&&(x=-179.99);return x},_limit4326Y:function(x){90<=x&&(x=89.99);-90>=x&&(x=-89.99);return x},_createFullExtent:function(x){for(var D=null,E=0;E<x.length;E++){var y=x[E].geometry,F=null;(F="point"===y.geometryType?new b(y.x,y.y,y.x,y.y,y.spatialReference):y.getExtent())&&(D=null===D?F:D.union(F))}return D},_readExceptionReport:function(x,D){return 0<
x.getElementsByTagNameNS("*","ExceptionReport").length||0<x.getElementsByTagNameNS("*","ServiceExceptionReport").length?D:""},_readFeatureMembers:function(x,D,E,y,F){var G=this._readWkidFromNode(x);-1!=G&&(D=G);G=this._readSrsDimension(x);0!==G&&(E=G);var H=[];var I=x.getElementsByTagNameNS("*","featureMembers");for(G=0;G<I.length;G++){var N=I[G];var M=N.getElementsByTagNameNS(y,F);0===M.length&&(M=N.getElementsByTagNameNS(null,F));0===M.length&&(M=N.getElementsByTagNameNS("*",F));for(N=0;N<M.length;N++)this._readLayer(H,
M[N],D,E)}I=x.getElementsByTagNameNS("*","featureMember");for(G=0;G<I.length;G++)for(N=I[G],M=N.getElementsByTagNameNS(y,F),0===M.length&&(M=N.getElementsByTagNameNS(null,F)),0===M.length&&(M=N.getElementsByTagNameNS("*",F)),N=0;N<M.length;N++)this._readLayer(H,M[N],D,E);I=x.getElementsByTagNameNS("*","member");for(G=0;G<I.length;G++)for(N=I[G],M=N.getElementsByTagNameNS(y,F),0===M.length&&(M=N.getElementsByTagNameNS(null,F)),0===M.length&&(M=N.getElementsByTagNameNS("*",F)),N=0;N<M.length;N++)this._readLayer(H,
M[N],D,E);return H},_readLayer:function(x,D,E,y){var F=this._readSrsDimension(D);0!==F&&(y=F);var G=D.childNodes,H="",I=null;for(D=0;D<G.length;D++){var N=G[D];if(1==N.nodeType&&(F=N.localName,"boundedBy"!==F)){N=this._readGeometry(N,E,y);if(!this._isProjectedOk){this._isProjectedOk=!0;break}if(null!==N&&(I=N,H=F,"point"!==I.geometryType||"esriGeometryPolygon"!==this.geometryType&&"esriGeometryPolyline"!==this.geometryType))break}}if(I){E={};for(D=0;D<G.length;D++)if(N=G[D],F=N.localName,y=N.textContent,
F!==H)for(N=0;N<this.fields.length;N++){var M=this.fields[N];M.name==F&&(E[F]="esriFieldTypeDouble"===M.type?parseFloat(y,10):"esriFieldTypeInteger"===M.type?parseInt(y,10):y.trim())}this._convertWFSGeometryToGraphicObjects(x,I,E)}},_convertWFSGeometryToGraphicObjects:function(x,D,E){if("point"===D.geometryType&&("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType)){var y=new u;D=new c(D);y.setGeometry(D);y.setAttributes(E);x.push(y)}else if("multipoint"===D.geometryType&&
("esriGeometryPoint"===this.geometryType||"esriGeometryComplex"===this.geometryType))y=new u,D=new m(D),y.setGeometry(D),y.setAttributes(E),x.push(y);else if("polyline"===D.geometryType&&("esriGeometryPolyline"===this.geometryType||"esriGeometryComplex"===this.geometryType))y=new u,D=new t(D),y.setGeometry(D),y.setAttributes(E),x.push(y);else if("polygon"===D.geometryType&&("esriGeometryPolygon"===this.geometryType||"esriGeometryComplex"===this.geometryType))y=new u,D=new v(D),y.setGeometry(D),y.setAttributes(E),
x.push(y);else if("multigeometry"===D.geometryType)for(y=0;y<D.length;y++)this._convertWFSGeometryToGraphicObjects(x,D[y],E)},_readGeometry:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);var F=x.getElementsByTagNameNS(this._gmlNS,"MultiSurface");if(1<=F.length)for(y=0;y<F.length;)return this._readMultiSurface(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"MultiCurve");if(1<=F.length){var G=[];for(y=0;y<F.length;y++){var H=this._readMultiCurve(F[y],
D,E);for(x=0;x<H.length;x++)G.push(H[x])}return{geometryType:"polyline",paths:G,spatialReference:{wkid:this._map.spatialReference.wkid}}}F=x.getElementsByTagNameNS(this._gmlNS,"MultiGeometry");for(y=0;y<F.length;)return this._readMultiGeometry(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"Geometry");for(y=0;y<F.length;)return this._readGeometry(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"GeometryCollection");for(y=0;y<F.length;)return this._readGeometryCollection(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,
"Surface");for(y=0;y<F.length;)return this._readSurface(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"Curve");for(y=0;y<F.length;)return this._readCurve(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"MultiPolygon");for(y=0;y<F.length;)return this._readMultiPolygon(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"Polygon");for(y=0;y<F.length;)return this._readPolygon(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"MultiLineString");for(y=0;y<F.length;)return this._readMultiLineString(F[y],
D,E);F=x.getElementsByTagNameNS(this._gmlNS,"LineString");for(y=0;y<F.length;){D=this._readLineString(F[y],D,E);E={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};y=[];for(x=0;x<D.length;x++)y.push(D[x]);E.paths.push(y);return E}F=x.getElementsByTagNameNS(this._gmlNS,"LinearRing");for(y=0;y<F.length;)return this._readLinearRing(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"Box");if(1<=F.length)for(y=0;y<F.length;)return this._readBox(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,
"Envelope");for(y=0;y<F.length;)return this._readEnvelope(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"MultiPoint");if(1<=F.length)for(y=0;y<F.length;)return this._readMultiPoint(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"Point");for(y=0;y<F.length;)return this._readPoint(F[y],D,E);return null},_readGeometryCollection:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y=[];y.geometryType="multigeometry";y.spatialReference={wkid:this._map.spatialReference.wkid};
var F=x.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(x=0;x<F.length;x++){var G=this._readGeometryMember(F[x],D,E);y.push(G)}return y},_readMultiGeometry:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y=[];y.geometryType="multigeometry";y.spatialReference={wkid:this._map.spatialReference.wkid};var F=x.getElementsByTagNameNS(this._gmlNS,"geometryMember");for(x=0;x<F.length;x++){var G=this._readGeometryMember(F[x],D,E);y.push(G)}return y},
_readSurface:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);var F=[];F.geometryType="multigeometry";F.spatialReference={wkid:this._map.spatialReference.wkid};var G=x.getElementsByTagNameNS(this._gmlNS,"Point");for(y=0;y<G.length;y++)F.push(this._readPoint(G[y],D,E));G=x.getElementsByTagNameNS(this._gmlNS,"patches");for(y=0;y<G.length;y++){x=this._readPatches(G[y],D,E);for(var H=0;H<x.length;H++)F.push(x[H])}return F},_readMultiSurface:function(x,
D,E){var y;var F=this._readWkidFromNode(x);-1!=F&&(D=F);F=this._readSrsDimension(x);0!==F&&(E=F);var G=[];G.geometryType="multigeometry";G.spatialReference={wkid:this._map.spatialReference.wkid};var H=x.getElementsByTagNameNS(this._gmlNS,"surfaceMember");for(F=0;F<H.length;F++){var I=this._readSurfaceMember(H[F],D,E);for(y=0;y<I.length;y++)G.push(I[y])}H=x.getElementsByTagNameNS(this._gmlNS,"surfaceMembers");for(F=0;F<H.length;F++)for(x=this._readSurfaceMembers(H[F],D,E),y=0;y<x.length;y++)G.push(x[y]);
return G},_readCurve:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var F=x.getElementsByTagNameNS(this._gmlNS,"segments");for(x=0;x<F.length;x++)for(var G=this._readSegments(F[x],D,E),H=0;H<G.length;H++)y.paths.push(G[H]);return y},_readSegments:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y=[];
y.geometryType="multigeometry";y.spatialReference={wkid:this._map.spatialReference.wkid};var F=x.getElementsByTagNameNS(this._gmlNS,"LineStringSegment");for(x=0;x<F.length;x++){var G=this._readLineStringSegment(F[x],D,E);y.push(G)}return y},_readLineStringSegment:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);for(x=x.getElementsByTagNameNS(this._gmlNS,"posList");0<x.length;)return this._readPosList(x[0],D,E)},_readMultiCurve:function(x,D,E){var y;
var F=this._readWkidFromNode(x);-1!=F&&(D=F);F=this._readSrsDimension(x);0!==F&&(E=F);var G=[];G.spatialReference={wkid:this._map.spatialReference.wkid};var H=x.getElementsByTagNameNS(this._gmlNS,"curveMember");for(F=0;F<H.length;F++){var I=this._readCurveMember(H[F],D,E);for(y=0;y<I.length;y++)G.push(I[y])}H=x.getElementsByTagNameNS(this._gmlNS,"curveMembers");for(F=0;F<H.length;F++)for(I=this._readCurveMembers(H[F],D,E),y=0;y<I.length;y++)G.push(I[y]);return G},_readGeometryMember:function(x,D,
E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);var F=x.getElementsByTagNameNS(this._gmlNS,"Point");for(y=0;y<F.length;)return this._readPoint(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"LineString");for(y=0;y<F.length;){D=this._readLineString(F[y],D,E);E={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};y=[];for(x=0;x<D.length;x++)y.push(D[x]);E.paths.push(y);return E}F=x.getElementsByTagNameNS(this._gmlNS,"Polygon");
for(y=0;y<F.length;)return this._readPolygon(F[y],D,E);return null},_readSurfaceMember:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y=[];y.geometryType="multigeometry";y.spatialReference={wkid:this._map.spatialReference.wkid};var F=x.getElementsByTagNameNS(this._gmlNS,"Polygon");for(x=0;x<F.length;x++){var G=this._readPolygon(F[x],D,E);y.push(G)}return y},_readSurfaceMembers:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);
0!==y&&(E=y);y=[];y.geometryType="multigeometry";y.spatialReference={wkid:this._map.spatialReference.wkid};var F=x.getElementsByTagNameNS(this._gmlNS,"Polygon");for(x=0;x<F.length;x++){var G=this._readPolygon(F[x],D,E);y.push(G)}return y},_readCurveMember:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y=[];y.geometryType="multigeometry";y.spatialReference={wkid:this._map.spatialReference.wkid};var F=x.getElementsByTagNameNS(this._gmlNS,"LineString");
for(x=0;x<F.length;x++){var G=this._readLineString(F[x],D,E);y.push(G)}return y},_readCurveMembers:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y=[];y.geometryType="multigeometry";y.spatialReference={wkid:this._map.spatialReference.wkid};var F=x.getElementsByTagNameNS(this._gmlNS,"LineString");for(x=0;x<F.length;x++){var G=this._readLineString(F[x],D,E);y.push(G)}return y},_readBox:function(x,D,E){var y,F,G,H,I=this._readWkidFromNode(x);-1!=
I&&(D=I);I=this._readSrsDimension(x);0!==I&&(E=I);I={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var N=x.getElementsByTagNameNS(this._gmlNS,"coordinates");for(y=0;y<N.length;y++)if(F=this._readCoordinates(N[y],D,E)){if(1<=F.length){var M=G=F[0][0];var J=H=F[0][1]}1<=F.length&&(G=F[1][0],H=F[1][1]);I.rings.push([[M,J],[M,H],[G,H],[G,J],[M,J]]);return I}N=x.getElementsByTagNameNS(this._gmlNS,"coord");return 2<=N.length?((x=this._readCoord(N[0],D,E))&&1<=
x.length&&(M=G=x[0][0],J=H=x[0][1]),(D=this._readCoord(N[1],D,E))&&1<=D.length&&(G=D[0][0],H=D[0][1]),I.rings.push([[M,J],[M,H],[G,H],[G,J],[M,J]]),I):null},_readEnvelope:function(x,D,E){var y,F;var G=this._readWkidFromNode(x);-1!=G&&(D=G);G=this._readSrsDimension(x);0!==G&&(E=G);var H=x.getElementsByTagNameNS(this._gmlNS,"lowerCorner");for(G=0;G<H.length;G++){var I=this._readCoordinates(H[G],D,E);I&&(y=I[0])}H=x.getElementsByTagNameNS(this._gmlNS,"upperCorner");for(G=0;G<H.length;G++)(x=this._readCoordinates(H[G],
D,E))&&(F=x[0]);return y&&F?{geometryType:"polygon",rings:[[[y[0],y[1]],[y[0],F[1]],[F[0],F[1]],[F[0],y[1]],[y[0],y[1]]]],spatialReference:{wkid:this._map.spatialReference.wkid}}:null},_readPolygon:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);var F={geometryType:"polygon",rings:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var G=x.getElementsByTagNameNS(this._gmlNS,"outerBoundaryIs");for(y=0;y<G.length;y++){var H=this._readOuterBoundaryIs(G[y],
D,E);F.rings.push(H)}G=x.getElementsByTagNameNS(this._gmlNS,"innerBoundaryIs");for(y=0;y<G.length;y++)H=this._readInnerBoundaryIs(G[y],D,E),F.rings.push(H);G=x.getElementsByTagNameNS(this._gmlNS,"exterior");for(y=0;y<G.length;y++)H=this._readExterior(G[y],D,E),F.rings.push(H);G=x.getElementsByTagNameNS(this._gmlNS,"interior");for(y=0;y<G.length;y++)H=this._readInterior(G[y],D,E),F.rings.push(H);return F},_readPolygonMember:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);
0!==y&&(E=y);for(x=x.getElementsByTagNameNS(this._gmlNS,"Polygon");0<x.length;)return this._readPolygon(x[0],D,E);return null},_readMultiPolygon:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y=[];y.geometryType="multigeometry";y.spatialReference={wkid:this._map.spatialReference.wkid};var F=x.getElementsByTagNameNS(this._gmlNS,"polygonMember");for(x=0;x<F.length;x++){var G=this._readPolygonMember(F[x],D,E);y.push(G)}return y},_readOuterBoundaryIs:function(x,
D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);for(x=x.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<x.length;)return this._readLinearRing(x[0],D,E);return null},_readInnerBoundaryIs:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);for(x=x.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<x.length;)return this._readLinearRing(x[0],D,E);return null},_readExterior:function(x,D,E){var y=this._readWkidFromNode(x);
-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);for(x=x.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<x.length;)return this._readLinearRing(x[0],D,E);return null},_readInterior:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);for(x=x.getElementsByTagNameNS(this._gmlNS,"LinearRing");0<x.length;)return this._readLinearRing(x[0],D,E);return null},_readPatches:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);
0!==y&&(E=y);y=[];y.spatialReference={wkid:this._map.spatialReference.wkid};var F=x.getElementsByTagNameNS(this._gmlNS,"PolygonPatch");for(x=0;x<F.length;x++)y.push(this._readPolygon(F[x],D,E));return y},_readLineString:function(x,D,E){var y,F;var G=this._readWkidFromNode(x);-1!=G&&(D=G);G=this._readSrsDimension(x);0!==G&&(E=G);var H=[];H.spatialReference={wkid:this._map.spatialReference.wkid};var I=x.getElementsByTagNameNS(this._gmlNS,"coordinates");for(G=0;G<I.length;G++)if(F=this._readCoordinates(I[G],
D,E))for(y=0;y<F.length;y++){var N=F[y];H.push(N)}I=x.getElementsByTagNameNS(this._gmlNS,"coord");for(G=0;G<I.length;G++)if(F=this._readCoord(I[G],D,E))for(y=0;y<F.length;y++)N=F[y],H.push(N);I=x.getElementsByTagNameNS(this._gmlNS,"posList");for(G=0;G<I.length;G++)if(F=this._readPosList(I[G],D,E))for(y=0;y<F.length;y++)N=F[y],H.push(N);return H},_readLineStringMember:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);for(x=x.getElementsByTagNameNS(this._gmlNS,
"LineString");0<x.length;)return this._readLineString(x[0],D,E);return null},_readMultiLineString:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y={geometryType:"polyline",paths:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var F=x.getElementsByTagNameNS(this._gmlNS,"lineStringMember");for(x=0;x<F.length;x++){var G=this._readLineStringMember(F[x],D,E);G&&y.paths.push(G)}return 1<=y.paths.length?y:null},_readPoint:function(x,D,E){var y;
var F=this._readWkidFromNode(x);-1!=F&&(D=F);F=this._readSrsDimension(x);0!==F&&(E=F);var G=x.getElementsByTagNameNS(this._gmlNS,"coordinates");for(F=0;F<G.length;F++)if(y=this._readCoordinates(G[F],D,E))return{geometryType:"point",x:y[0][0],y:y[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};G=x.getElementsByTagNameNS(this._gmlNS,"pos");for(F=0;F<G.length;F++)if((y=this._readPos(G[F],D,E))&&0<y.length)return{geometryType:"point",x:y[0][0],y:y[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};
G=x.getElementsByTagNameNS(this._gmlNS,"coord");for(F=0;F<G.length;F++)if(x=this._readCoord(G[F],D,E))return{geometryType:"point",x:x[0][0],y:x[0][1],spatialReference:{wkid:this._map.spatialReference.wkid}};return null},_readPointMember:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);for(x=x.getElementsByTagNameNS(this._gmlNS,"Point");0<x.length;)return this._readPoint(x[0],D,E);return null},_readMultiPoint:function(x,D,E){var y=this._readWkidFromNode(x);
-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);y={geometryType:"multipoint",points:[],spatialReference:{wkid:this._map.spatialReference.wkid}};var F=x.getElementsByTagNameNS(this._gmlNS,"pointMember");for(x=0;x<F.length;x++){var G=this._readPointMember(F[x],D,E);G&&y.points.push([G.x,G.y])}return 1<=y.points.length?y:null},_readLinearRing:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);var F=x.getElementsByTagNameNS(this._gmlNS,"coordinates");
for(y=0;y<F.length;)return this._readCoordinates(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"posList");for(y=0;y<F.length;)return this._readCoordinates(F[y],D,E);F=x.getElementsByTagNameNS(this._gmlNS,"pos");for(y=0;y<F.length;)return this._readPos(F[y],D,E)},_readCoordinatesBody:function(x,D,E){var y=new e(x);D=D.trim();var F=[];F.spatialReference={wkid:this._map.spatialReference.wkid};x=this._isReverse(x,this.version);if(D)if(2===E){if((D=D.match(/[0123456789.\-\+eE]+/g))&&2<=D.length)for(E=
0;E<D.length;E+=2){var G=parseFloat(D[E]);var H=parseFloat(D[E+1]);if(x){var I=H;H=G;G=I}I={};this._projectFromSRToSR(y,this._map.spatialReference,G,H,I)&&(G=I.x,H=I.y);F.push([G,H])}}else if(3===E&&(D=D.match(/[0123456789.\-\+eE]+/g))&&3<=D.length)for(E=0;E<D.length;E+=3)G=parseFloat(D[E]),H=parseFloat(D[E+1]),x&&(I=H,H=G,G=I),I={},this._projectFromSRToSR(y,this._map.spatialReference,G,H,I)&&(G=I.x,H=I.y),F.push([G,H]);return F},_readCoord:function(x,D,E){var y,F=this._readWkidFromNode(x);-1!=F&&
(D=F);F=new e(D);var G=this._readSrsDimension(x);0!==G&&(E=G);var H=this._isReverse(D,this.version),I=[];I.spatialReference={wkid:this._map.spatialReference.wkid};G=0;var N=x.getElementsByTagNameNS(this._gmlNS,"X");for(y=0;y<N.length;){G=this._readFloat(N[y],D,E);break}var M=0;N=x.getElementsByTagNameNS(this._gmlNS,"Y");for(y=0;y<N.length;){M=this._readFloat(N[y],D,E);break}H&&(x=M,M=G,G=x);x={};this._projectFromSRToSR(F,this._map.spatialReference,G,M,x)&&(G=x.x,M=x.y);I.push(H?[M,G]:[G,M]);return I},
_readCoordinates:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);return this._readCoordinatesBody(D,x.textContent,E)},_readPos:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);return this._readCoordinatesBody(D,x.textContent,E)},_readPosList:function(x,D,E){var y=this._readWkidFromNode(x);-1!=y&&(D=y);y=this._readSrsDimension(x);0!==y&&(E=y);return this._readCoordinatesBody(D,x.textContent,E)},
_projectFromSRToSR:function(x,D,E,y,F){if(a.canProject(x,D))return x=new c(E,y,x),D=a.project(x,D),F.x=D.x,F.y=D.y,!0;F.x=E;F.y=y;return this._isProjectedOk=!1},_readFloat:function(x){return(x=x.textContent)?parseFloat(x):0},_readSrsDimension:function(x){return x.attributes&&(x=x.attributes.getNamedItem("srsDimension"))?parseInt(x.value,10):0},_readWkidFromNode:function(x){return x.attributes&&(x=x.attributes.getNamedItem("srsName"))&&(x=x.value.match(/\d+/g))&&0<x.length?(x=parseInt(x[x.length-1],
10),84===x&&(x=4326),parseInt(x,10)):-1},_isReverse:function(x,D){return this._inverseResponse},_appendCustomParameters:function(x){if(this.customParameters)for(var D in this.customParameters)x+=(-1===x.indexOf("?")?"?":"\x26")+D+"\x3d"+encodeURIComponent(this.customParameters[D]);return x},_checkForUrlInUrl:function(x,D){var E=x.toLowerCase().lastIndexOf("http");-1<D&&E>D&&(-1<x.indexOf("?",E)||-1!==x.indexOf("\x26",E)||(D=-1));return D}});n.setObject("layers.WFSLayer",O,k);return O})},"esri/layers/WMTSLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/sniff dojox/xml/parser ../kernel ../lang ../request ../urlUtils ../WKIDUnitConversion ../SpatialReference ../geometry/Point ../geometry/Extent ../geometry/webMercatorUtils ./TiledMapServiceLayer ./TileInfo ./WMTSLayerInfo dojo/query".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){K=K([d],{declaredClass:"esri.layers.WMTSLayer",copyright:null,extent:null,tileUrl:null,spatialReference:null,tileInfo:null,constructor:function(b,c){this.version="1.0.0";this.tileUrl=this._url=b;this.serviceMode="RESTful";this._parseCapabilities=n.hitch(this,this._parseCapabilities);this._getCapabilitiesError=n.hitch(this,this._getCapabilitiesError);this._formatDictionary={"image/png":".png","image/png8":".png","image/png24":".png","image/png32":".png",
"image/jpg":".jpg","image/jpeg":".jpeg","image/gif":".gif","image/bmp":".bmp","image/tiff":".tif","image/jpgpng":"","image/jpegpng":"","image/unknown":""};c||(c={});if(c.serviceMode)if("KVP"===c.serviceMode||"RESTful"===c.serviceMode)this.serviceMode=c.serviceMode;else return;this.customParameters=c.customParameters;this.customLayerParameters=c.customLayerParameters;this.layerInfo=new a;c.layerInfo&&(this.layerInfo=c.layerInfo,this._identifier=c.layerInfo.identifier,this._tileMatrixSetId=c.layerInfo.tileMatrixSet,
c.layerInfo.format&&(this.format="image/"+c.layerInfo.format),this._style=c.layerInfo.style,this.title=c.layerInfo.title,this._dimension=c.layerInfo.dimension,this._dimension2=c.layerInfo.dimension2);c.resourceInfo?(this.version=c.resourceInfo.version,c.resourceInfo.getTileUrl&&(this._url=this.tileUrl=c.resourceInfo.getTileUrl),this.copyright=c.resourceInfo.copyright,this.layerInfos=c.resourceInfo.layerInfos,this.customParameters=c.resourceInfo.customParameters||this.customParameters,this.customLayerParameters=
c.resourceInfo.customLayerParameters||this.customLayerParameters,this._parseResourceInfo(),this.loaded=!0,this.onLoad(this)):this._getCapabilities()},setActiveLayer:function(b){this.setVisibleLayer(b)},setVisibleLayer:function(b){this._setActiveLayer(b);this.refresh(!0)},setCustomParameters:function(b,c){this.customParameters=b;this.customLayerParameters=c;this.refresh(!0)},getTileUrl:function(b,c,m){b=this._levelToLevelValue[b];b=this.resourceUrls&&0<this.resourceUrls.length?this.resourceUrls[c%
this.resourceUrls.length].template.replace(/\{Style\}/gi,this._style).replace(/\{TileMatrixSet\}/gi,this._tileMatrixSetId).replace(/\{TileMatrix\}/gi,b).replace(/\{TileRow\}/gi,c).replace(/\{TileCol\}/gi,m).replace(/\{dimensionValue\}/gi,this._dimension).replace(/\{dimensionValue2\}/gi,this._dimension2):this.UrlTemplate.replace(/\{level\}/gi,b).replace(/\{row\}/gi,c).replace(/\{col\}/gi,m);b=this._appendCustomLayerParameters(b);b=this.addTimestampToURL(b);return u.addProxy(b)},getTileUrlTemplate:function(b){var c=
b.identifier,m=b.tileMatrixSet,t=b.format,v=b.style,A=b.dimension,B=b.dimension2;c?b=q.filter(this.layers,function(D){return D.identifier===c})[0]:(b=this.layers[0],c=this.layers[0].identifier);if(b){if(!t)t=b.formats[0];else if(!(-1===t.indexOf("image/")&&-1<q.indexOf(b.formats,t))&&(-1===t.indexOf("image/")&&(t="image/"+t),-1===q.indexOf(b.formats,t))){this.onError(Error("The layer doesn't support the format of "+t));return}if(!v)v=b.styles[0];else if(-1===q.indexOf(b.styles,v)){this.onError(Error("The layer doesn't support the style of "+
v));return}if(!A&&b.dimensions)A=b.dimensions[0];else if(-1===q.indexOf(b.dimensions,A)){this.onError(Error("The layer doesn't support the dimension of "+A));return}if(!B&&b.dimensions2)B=b.dimensions2[0];else if(-1===q.indexOf(b.dimensions2,B)){this.onError(Error("The layer doesn't support the dimension of "+B));return}if(m){var x=q.filter(b.tileMatrixSetInfos,function(D){return D.tileMatrixSet===m})[0];if(!x){this.onError(Error("The tileMatrixSetId "+m+" is not supported by the layer of "+c));return}}else(x=
q.filter(b.tileMatrixSetInfos,function(D){return"GoogleMapsCompatible"===D.tileMatrixSet})[0])||(x=b.tileMatrixSetInfos[0]),m=x.tileMatrixSet;return this._getTileUrlTemplate(c,m,t,v,A,B)}this.onError(Error("couldn't find the layer "+c))},_getTileUrlTemplate:function(b,c,m,t,v,A){b||(b=this._identifier);c||(c=this._tileMatrixSetId);m||(m=this.format);t||""===t||(t=this._style);if(this.resourceUrls&&0<this.resourceUrls.length){var B=this.resourceUrls[0].template;B.indexOf(".xxx")===B.length-4&&(B=B.slice(0,
B.length-4));B=B.replace(/\{Style\}/gi,t);B=B.replace(/\{TileMatrixSet\}/gi,c);B=B.replace(/\{TileMatrix\}/gi,"{level}");B=B.replace(/\{TileRow\}/gi,"{row}");B=B.replace(/\{TileCol\}/gi,"{col}");B=B.replace(/\{dimensionValue\}/gi,v);return B=B.replace(/\{dimensionValue2\}/gi,A)}"KVP"===this.serviceMode?B=this._url+"SERVICE\x3dWMTS\x26VERSION\x3d"+this.version+"\x26REQUEST\x3dGetTile\x26LAYER\x3d"+b+"\x26STYLE\x3d"+t+"\x26FORMAT\x3d"+m+"\x26TILEMATRIXSET\x3d"+c+"\x26TILEMATRIX\x3d{level}\x26TILEROW\x3d{row}\x26TILECOL\x3d{col}":
"RESTful"===this.serviceMode&&(v="",this._formatDictionary[m.toLowerCase()]&&(v=this._formatDictionary[m.toLowerCase()]),B=this._url+b+"/"+t+"/"+c+"/{level}/{row}/{col}"+v);return B},_parseResourceInfo:function(){var b=this.layerInfos,c;"KVP"===this.serviceMode&&(this._url+=-1<this._url.indexOf("?")?"":"?");for(c=0;c<b.length;c++)if(!(this._identifier&&b[c].identifier!==this._identifier||this.title&&b[c].title!==this.title||this._tileMatrixSetId&&b[c].tileMatrixSet!==this._tileMatrixSetId||this.format&&
"image/"+b[c].format!==this.format||this._style&&b[c].style!==this._style)){n.mixin(this,{description:b[c].description,tileInfo:b[c].tileInfo,spatialReference:b[c].tileInfo.spatialReference,fullExtent:b[c].fullExtent,initialExtent:b[c].initialExtent,_identifier:b[c].identifier,_tileMatrixSetId:b[c].tileMatrixSet,format:"image/"+b[c].format,_style:b[c].style});break}for(c=0;c<b.length;c++){var m=b[c].tileInfo;96!==m.dpi&&(q.forEach(m.lods,function(t){t.scale=96*t.scale/m.dpi}),m.dpi=96);q.forEach(m.lods,
function(t){t.resolution=this._getResolution(m.spatialReference.wkid,90.71428571428571*t.scale/96,b[c].tileMatrixSet)},this)}this._setActiveLayer();this.UrlTemplate=this._getTileUrlTemplate();this._levelToLevelValue=[];q.forEach(this.tileInfo.lods,function(t){this._levelToLevelValue[t.level]=t.levelValue?t.levelValue:t.level},this)},_getCapabilities:function(){var b;"KVP"===this.serviceMode?b=-1<this._url.indexOf("?")?this._url+"\x26request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:
this._url+"?request\x3dGetCapabilities\x26service\x3dWMTS\x26version\x3d"+this.version:"RESTful"===this.serviceMode&&(b=this._url+"/"+this.version+"/WMTSCapabilities.xml");b=this._appendCustomParameters(b);k({url:b,handleAs:"text",load:this._parseCapabilities,error:this._getCapabilitiesError})},_parseCapabilities:function(b){b=b.replace(/ows:/gi,"");b=h.parse(b);var c=O.query("Contents",b)[0];if(c){var m=O.query("OperationsMetadata",b)[0],t=O.query("[name\x3d'GetTile']",m)[0];m=this._url;t=O.query("Get",
t);var v,A=!1;for(v=0;v<t.length;v++){var B=O.query("Constraint",t[v])[0];if(!B||this._getTagWithChildTagValue("AllowedValues","Value",this.serviceMode,B)){m=t[v].attributes[0].nodeValue;A=!0;break}else if(!B||this._getTagWithChildTagValue("AllowedValues","Value","RESTful",B))var x=t[v].attributes[0].nodeValue;else if(!B||this._getTagWithChildTagValue("AllowedValues","Value","KVP",B))var D=t[v].attributes[0].nodeValue}A||("KVP"===this.serviceMode&&x?(m=x,this.serviceMode="RESTful"):"RESTful"===this.serviceMode&&
D&&(m=D,this.serviceMode="KVP"));-1===m.indexOf("/1.0.0/")&&"RESTful"===this.serviceMode&&(m+="/");"KVP"===this.serviceMode&&(m+=-1<m.indexOf("?")?"":"?");this._url=m;this.copyright=this._getTagValues("Capabilities\x3eServiceIdentification\x3eAccessConstraints",b)[0];x=O.query("Layer",c);var E,y=[];this.layers=[];q.forEach(x,function(F){E=this._getTagValues("Identifier",F)[0];y.push(E);this.layers.push(this._getWMTSLayerInfo(E,F,c))},this);this._setActiveLayer();this.loaded=!0;this.onLoad(this)}else this.onError(Error("The WMTS capabilities XML is not valid"))},
_setActiveLayer:function(b){b||(b={});b.identifier&&(this._identifier=b.identifier);b.tileMatrixSet&&(this._tileMatrixSetId=b.tileMatrixSet);b.format&&(this.format=b.format);b.style&&(this._style=b.style);b.dimension&&(this._dimension=b.dimension);b.dimension2&&(this._dimension2=b.dimension2);if(this.layers)if(this._identifier?b=q.filter(this.layers,function(m){return m.identifier===this._identifier},this)[0]:(b=this.layers[0],this._identifier=this.layers[0].identifier),b){if(this.format){if(-1===
this.format.indexOf("image/")&&(this.format="image/"+this.format),-1===q.indexOf(b.formats,this.format)){this.onError(Error("The layer doesn't support the format of "+this.format));return}}else this.format=b.formats[0],-1===this.format.indexOf("image/")&&(this.format="image/"+this.format);if(!this._style)this._style=b.styles[0];else if(-1===q.indexOf(b.styles,this._style)){this.onError(Error("The layer doesn't support the style of "+this._style));return}if(!this._dimension&&b.dimensions)this._dimension=
b.dimensions[0];else if(-1===q.indexOf(b.dimensions,this._dimension)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension));return}if(!this._dimension2&&b.dimensions2)this._dimension2=b.dimensions2[0];else if(-1===q.indexOf(b.dimensions2,this._dimension2)){this.onError(Error("The layer doesn't support the dimension of "+this._dimension2));return}if(this._tileMatrixSetId){var c=q.filter(b.tileMatrixSetInfos,function(m){return m.tileMatrixSet===this._tileMatrixSetId},this)[0];
if(!c){this.onError(Error("The tileMatrixSetId "+this._tileMatrixSetId+" is not supported by the layer of "+this._identifier));return}}else(c=q.filter(b.tileMatrixSetInfos,function(m){return"GoogleMapsCompatible"===m.tileMatrixSet})[0])||(c=b.tileMatrixSetInfos[0]),this._tileMatrixSetId=c.tileMatrixSet;this.description=b.description;this.title=b.title;this.spatialReference=c.tileInfo.spatialReference;this.tileInfo=c.tileInfo;this._levelToLevelValue=[];q.forEach(this.tileInfo.lods,function(m){this._levelToLevelValue[m.level]=
m.levelValue?m.levelValue:m.level},this);102100===this.spatialReference.wkid||102113===this.spatialReference.wkid?this.fullExtent=this.initialExtent=l.geographicToWebMercator(b.gcsExtent):4326===this.spatialReference.wkid?this.fullExtent=this.initialExtent=b.gcsExtent:(this.fullExtent=c.fullExtent,this.initialExtent=c.initialExtent);this.resourceUrls=b.resourceUrls;this.UrlTemplate=this._getTileUrlTemplate();this.layerInfo={identifier:this._identifier,tileMatrixSet:this._tileMatrixSetId,format:this.format,
style:this._style,fullExtent:this.fullExtent,initialExtent:this.initialExtent,tileInfo:this.tileInfo,title:this.title,description:this.description}}else this.onError(Error("couldn't find the layer "+this._identifier))},_getWMTSLayerInfo:function(b,c,m){var t=this._getTagValues("Abstract",c)[0],v=this._getTagValues("Title",c)[0],A=O.query("WGS84BoundingBox",c)[0],B=A?this._getTagValues("LowerCorner",A)[0].split(" "):["-180","-90"],x=A?this._getTagValues("UpperCorner",A)[0].split(" "):["180","90"];
A=parseFloat(B[0]);B=parseFloat(B[1]);var D=parseFloat(x[0]);x=parseFloat(x[1]);A=new r(A,B,D,x,new C({wkid:4326}));x=this._getTagValues("Identifier",O.query("Style",c)[0]);var E=this._getTagValues("Identifier",O.query("Dimension",c)[0]),y=this._getTagValues("Default",O.query("Dimension",c)[0])||this._getTagValues("Value",O.query("Dimension",c)[0]),F=1<O.query("Dimension",c).length?this._getTagValues("Identifier",O.query("Dimension",c)[1]):[],G=1<O.query("Dimension",c).length?this._getTagValues("Default",
O.query("Dimension",c)[1])||this._getTagValues("Value",O.query("Dimension",c)[1]):[];B=this._getTagValues("Format",c);m=this._getLayerMatrixInfos(c,m);b={identifier:b,tileMatrixSetInfos:m,formats:B,styles:x,title:v,description:t,gcsExtent:A,dimensions:y,dimensions2:G};c=O.query("ResourceURL",c);var H=[],I;q.forEach(c,function(N){I=N.getAttribute("template");if(E&&y&&E[0]&&y[0])if(-1<I.indexOf("{"+E+"}"))I=I.replace("{"+E+"}","{dimensionValue}");else{var M=I.toLowerCase().indexOf("{"+E[0].toLowerCase()+
"}");-1<M&&(I=I.substring(0,M)+"{dimensionValue}"+I.substring(M+E[0].length+2))}F&&G&&F[0]&&G[0]&&(-1<I.indexOf("{"+F+"}")?I=I.replace("{"+F+"}","{dimensionValue2}"):(M=I.toLowerCase().indexOf("{"+F[0].toLowerCase()+"}"),-1<M&&(I=I.substring(0,M)+"{dimensionValue2}"+I.substring(M+F[0].length+2))));H.push({template:I,format:N.getAttribute("format"),resourceType:N.getAttribute("resourceType")})});H&&0<H.length&&(b.resourceUrls=H);return b},_getLayerMatrixInfos:function(b,c){var m=[],t=this._getTagValues("TileMatrixSet",
b);if(t&&0!==t.length)return q.forEach(t,function(v){v=this._getLayerMatrixInfo(v,b,c);m.push(v)},this),m},_getLayerMatrixInfo:function(b,c,m){var t=[];c=this._getTagWithChildTagValue("TileMatrixSetLink","TileMatrixSet",b,c);var v=this._getTagValues("TileMatrix",c),A=this._getTagWithChildTagValue("TileMatrixSet","Identifier",b,m),B=this._getTagValues("SupportedCRS",A)[0];var x=parseInt(B.split(":").pop(),10);if(900913==x||3857==x)x=102100;if(-1<B.toLowerCase().indexOf("crs84")||-1<B.toLowerCase().indexOf("crs:84")){x=
4326;var D=!0}else if(-1<B.toLowerCase().indexOf("crs83")||-1<B.toLowerCase().indexOf("crs:83"))x=4269,D=!0;else if(-1<B.toLowerCase().indexOf("crs27")||-1<B.toLowerCase().indexOf("crs:27"))x=4267,D=!0;var E=new C({wkid:x}),y=O.query("TileMatrix",A)[0];m=parseInt(this._getTagValues("TileWidth",y)[0],10);c=parseInt(this._getTagValues("TileHeight",y)[0],10);var F=this._getTagValues("TopLeftCorner",y)[0].split(" ");var G=F[0],H=F[1];1<G.split("E").length&&(F=G.split("E"),G=F[0]*Math.pow(10,F[1]));1<
H.split("E").length&&(F=H.split("E"),H=F[0]*Math.pow(10,F[1]));G=parseFloat(G);H=parseFloat(H);var I=D&&4326===x&&90===G&&-180===H;for(F=0;F<this._flippingAxisForWkids.length;F++)if(B.split(":").pop()>=this._flippingAxisForWkids[F][0]&&B.split(":").pop()<=this._flippingAxisForWkids[F][1]||4326===x&&(!D||I)){4326===x&&90<G&&(G="90");var N=new z(H,G,E);break}F===this._flippingAxisForWkids.length&&(N=new z(G,H,E));if(0===v.length)for(v=O.query("TileMatrix",A),F=0;F<v.length;F++)D=this._getLodFromTileMatrix(v[F],
x,F,b),t.push(D);else for(F=0;F<v.length;F++)D=this._getTagWithChildTagValue("TileMatrix","Identifier",v[F],A),D=this._getLodFromTileMatrix(D,x,F,b),t.push(D);x=O.query("BoundingBox",A)[0];if(x){var M=this._getTagValues("LowerCorner",x)[0].split(" ");var J=this._getTagValues("UpperCorner",x)[0].split(" ")}M&&1<M.length&&J&&1<J.length?(y=parseFloat(M[0]),x=parseFloat(M[1]),M=parseFloat(J[0]),J=parseFloat(J[1])):(M=this._getTagValues("MatrixWidth",y)[0],x=this._getTagValues("MatrixHeight",y)[0],y=N.x,
J=N.y,M=y+M*c*t[0].resolution,x=J-x*m*t[0].resolution);J=M=new r(y,x,M,J,E);N=new e({dpi:96,spatialReference:E,format:this.format,rows:m,cols:c,origin:N,lods:t});return{tileMatrixSet:b,fullExtent:J,initialExtent:M,tileInfo:N}},_getCapabilitiesError:function(b){this.onError(b)},_getLodFromTileMatrix:function(b,c,m,t){var v=this._getTagValues("Identifier",b)[0];b=this._getTagValues("ScaleDenominator",b)[0];1<b.split("E").length?(b=b.split("E"),b=b[0]*Math.pow(10,b[1])):b=parseFloat(b);c=this._getResolution(c,
b,t);return{level:m,levelValue:v,scale:1.058267716535433*b,resolution:c}},_getResolution:function(b,c,m){b=g.isDefined(w[b])?w.values[w[b]]:"default028mm"===m?6370997*Math.PI/180:6378137*Math.PI/180;return 7*c/25E3/b},_getTag:function(b,c){var m=O.query(b,c);return m&&0<m.length?m[0]:null},_getTagValues:function(b,c){var m=[],t=b.split("\x3e"),v;var A=O.query(t[0],c)[0];if(1<t.length){for(v=1;v<t.length-1;v++)A=O.query(t[v],A)[0];t=O.query(t[t.length-1],A)}else t=O.query(t[0],c);t&&0<t.length&&q.forEach(t,
function(B){9>p("ie")?m.push(B.childNodes.length?B.childNodes[0].nodeValue:""):m.push(B.textContent)});return m},_getAttributeValues:function(b,c,m){b=O.query(b,m);var t=[];b&&0<b.length&&q.forEach(b,function(v){t.push(v.getAttribute(c))});return t},_getTagWithChildTagValue:function(b,c,m,t){t=t.childNodes;var v;for(v=0;v<t.length;v++)if(-1<t[v].nodeName.indexOf(b)){if(9>p("ie")){if(g.isDefined(O.query(c,t[v])[0]))var A=O.query(c,t[v])[0].childNodes[0].nodeValue}else g.isDefined(O.query(c,t[v])[0])&&
(A=O.query(c,t[v])[0].textContent);if(A===m||m.split(":")&&A===m.split(":")[1])return t[v]}},_appendCustomParameters:function(b){var c;if(this.customParameters)for(c in this.customParameters)b+=(-1===b.indexOf("?")?"?":"\x26")+c+"\x3d"+encodeURIComponent(this.customParameters[c]);return b},_appendCustomLayerParameters:function(b){var c;if(this.customLayerParameters||this.customParameters){var m=n.clone(this.customParameters||{});n.mixin(m,this.customLayerParameters||{});for(c in m)b+=(-1===b.indexOf("?")?
"?":"\x26")+c+"\x3d"+encodeURIComponent(m[c])}return b},_flippingAxisForWkids:[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,
5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,
3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],
[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]]});n.setObject("layers.WMTSLayer",K,f);return K})},"esri/layers/WMTSLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(O,K,n,q){O=O(null,{declaredClass:"esri.layers.WMTSLayerInfo",identifier:null,tileMatrixSet:null,format:null,style:null,tileInfo:null,title:null,fullExtent:null,initialExtent:null,description:null,dimension:null,constructor:function(p){p&&(this.title=p.title,this.tileMatrixSet=
p.tileMatrixSet,this.format=p.format,this.style=p.style,this.tileInfo=p.tileInfo,this.fullExtent=p.fullExtent,this.initialExtent=p.initialExtent,this.identifier=p.identifier,this.description=p.description,this.dimension=p.dimension)}});K.setObject("layers.WMTSLayerInfo",O,q);return O})},"arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate":function(){define("require exports tslib ../../../../../map/core/urlUtils ../../../../pageUtil ../../../../utils/dom ../../../../utils/strings ../../../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/a11yclick dojo/dom-construct dojo/on dojo/string dojo/topic esri/lang dojo/i18n!../../../../../nls/arcgisonline dojo/text!./domainUpdate.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.templateString=a["default"];this.i18n=e["default"]}b.prototype.startup=
function(){this.inherited(arguments);this.initUI()};b.prototype.initUI=function(){this.initHandlers();this.initDomains()};b.prototype.initHandlers=function(){this.own(w["default"](this.doneBtn,this.doneClick.bind(this)),z["default"](this.domainSelect,"change",this.selectedDomainChange.bind(this)),w["default"](this.replaceDomainBtn,this.replaceDomainClick.bind(this)),p["default"].registerKeystrokeHandler(this.domainReplace,this.replaceDomainChange.bind(this)),l["default"].subscribe("item-data/change-complete",
this.itemDataChange.bind(this)))};b.prototype.initDomains=function(){var c=this,m=this.domainSelect.value,t=!1;q["default"].getUniqueDomains(this.item.itemData).then(function(v){C["default"].empty(c.domainSelect);v.forEach(function(A){var B={value:A.domain,innerHTML:A.domain};!c.autoSelectReplacementValue||A.domain!==c.autoSelectReplacementValue&&A.domain!==m||(t=B.selected=!0,c.autoSelectReplacementValue=void 0);C["default"].create("option",B,c.domainSelect)});c.domainSelect.options&&c.domainSelect.options.length?
(t||(h["default"].selectOption(c.domainSelect.options,c.domainSelect.options[0].value),c.lastSelectedDomain=c.domainSelect.options[0].value),c.selectedDomainChange()):(h["default"].hideNodes([c.updateDomainDesc,c.updateDomainContainer,c.replaceDomainLoading,c.replaceDomainFailure,c.layerDetailsContainer]),C["default"].empty(c.replaceDomainSuccess),c.replaceDomainSuccess.innerHTML=c.i18n.itemProperties.noLayersToUpdateDomain,h["default"].showNode(c.replaceDomainSuccess))})};b.prototype.filterForIssues=
function(c){return c.filter(function(m){return"failure"===m.layerUrlChange||m.layerRenderingFailures||m.layerQueryUrlFailures||m.itemAccess&&("failure"===m.itemUrlChange||m.itemRenderingFailures||m.itemQueryUrlFailures)})};b.prototype.filterForUpdated=function(c){return c.filter(function(m){return("success"===m.layerUrlChange||m.layerRenderingChanged||m.layerQueryUrlChanged)&&!m.layerRenderingFailures&&!m.layerQueryUrlFailures||m.itemAccess&&("success"===m.itemUrlChange||m.itemRenderingChanged||m.itemQueryUrlChanged)&&
!m.itemRenderingFailures&&!m.itemQueryUrlFailures})};b.prototype.containsInvalidProtocol=function(c){return-1===(null===c||void 0===c?void 0:c.indexOf("://"))&&!(f["default"].startsWith(c,"http://")||f["default"].startsWith(c,"https://"))};b.prototype.ensureProtocol=function(c){return this.containsInvalidProtocol(c)?"http://"+c:c};b.prototype.validateDomain=function(c){var m=this.domainSelect.value,t=!!m,v=RegExp("/","g"),A=!0;c?(this.containsInvalidProtocol(c)&&(A=!1),t&&(m.match(v)||[]).length!==
(c.match(v)||[]).length&&(A=!1)):A=!1;return A};b.prototype.doneClick=function(){l["default"].publish("update-domain/done")};b.prototype.setInputError=function(c){this.domainReplace.classList.add("input-error");this.domainReplaceError.classList.add("is-active");this.domainReplaceError.classList.remove("hide")};b.prototype.clearInputError=function(){this.domainReplace.classList.remove("input-error");this.domainReplaceError.classList.remove("is-active");this.domainReplaceError.classList.add("hide")};
b.prototype.selectedDomainChange=function(){var c=this,m=this.domainSelect.value,t=!!m,v="",A;q["default"].getUniqueDomains(this.item.itemData).then(function(B){c.refreshingDomains?c.refreshingDomains=void 0:m!==c.lastSelectedDomain&&(h["default"].hideNode(c.replaceDomainFailure),h["default"].hideNode(c.replaceDomainSuccess));if(t){if(A=B.filter(function(x){return x.domain===m}))A=A.shift(),c.domainReplace.value=A.domain,c.lastSelectedDomain=A.domain,A.layers.forEach(function(x){v+=x.title+"\x3cbr\x3e"}),
c.layerDetails.innerHTML=v;c.clearInputError();h["default"].showHide(c.layerDetailsContainer,A);c.domainReplace.focus()}else h["default"].hideNode(c.layerDetailsContainer);c.replaceDomainChange()})};b.prototype.replaceDomainClick=function(){var c=this,m=this.domainSelect.value,t=this.ensureProtocol(this.domainReplace.value.trim());this.clearInputError();this.validateDomain(t)?(h["default"].hideNodes([this.layerDetailsContainer,this.replaceDomainFailure,this.replaceDomainSuccess]),h["default"].showNode(this.replaceDomainLoading),
q["default"].switchDomain(this.item.itemData,this.item,m,t).then(function(v){h["default"].hideNode(c.replaceDomainLoading);var A=c.filterForIssues(v.layers),B=c.filterForUpdated(v.layers);d["default"].isDefined(v.configChange)&&"failure"===v.configChange?(c.replaceDomainFailureMessage.innerHTML=c.i18n.itemProperties.errorUpdateHTTPS,h["default"].showNode(c.replaceDomainFailure)):A.length?(c.replaceDomainFailureMessage.innerHTML=r["default"].substitute(c.i18n.itemProperties.someLayerDomainsFailed,
{domainName:t,n:A.length}),h["default"].showNode(c.replaceDomainFailure),B.length&&(c.replaceDomainSuccessMessage.innerHTML=r["default"].substitute(c.i18n.itemProperties.someLayerDomainsUpdated,{domainName:t,n:B.length}),h["default"].showNode(c.replaceDomainSuccess))):(c.replaceDomainSuccessMessage.innerHTML=r["default"].substitute(c.i18n.itemProperties.domainUpdateSuccess,{domainName:t}),h["default"].showNode(c.replaceDomainSuccess));c.autoSelectReplacementValue=t;c.domainReplace.value="";c.refreshingDomains=
!0;c.replaceDomainChange();l["default"].publish("item-data/change")},function(v){c.setInputError(v)})):this.setInputError()};b.prototype.replaceDomainChange=function(){var c=this.domainReplace.value.trim(),m=this.domainSelect.value;m=m&&c&&0<c.length&&c!==m;h["default"].disableNode(this.replaceDomainBtn,!m||m&&!this.validateDomain(c));this.clearInputError()};b.prototype.itemDataChange=function(c){"type-options/map"===c.source&&(this.item.itemData=c.itemData,this.initDomains())};return b=n.__decorate([g["default"](k["default"],
u["default"])],b)}()})},"arcgis-components/wrappers/Share":function(){define(["../Component","dojo/i18n!../Share/nls/resources","../Share/index"],function(O,K,n){return function(q){function p(f){if(h[f])return h[f].exports;var g=h[f]={i:f,l:!1,exports:{}};return q[f].call(g.exports,g,g.exports,p),g.l=!0,g.exports}var h={};return p.m=q,p.c=h,p.d=function(f,g,k){p.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:k})},p.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},p.t=function(f,g){if((1&g&&(f=p(f)),8&g)||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var k=Object.create(null);if(p.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var u in f)p.d(k,u,function(w){return f[w]}.bind(null,u));return k},p.n=function(f){var g=f&&f.__esModule?function(){return f["default"]}:function(){return f};return p.d(g,"a",g),g},p.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,
g)},p.p="",p(p.s=985)}({0:function(q,p,h){function f(l,d){function e(){this.constructor=l}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");z(l,d);l.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}function g(l,d){var e={},a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&0>d.indexOf(a)&&(e[a]=l[a]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(a=Object.getOwnPropertySymbols(l);b<
a.length;b++)0>d.indexOf(a[b])&&Object.prototype.propertyIsEnumerable.call(l,a[b])&&(e[a[b]]=l[a[b]])}return e}function k(l,d,e,a){var b,c=arguments.length,m=3>c?d:null===a?a=Object.getOwnPropertyDescriptor(d,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(l,d,e,a);else for(var t=l.length-1;0<=t;t--)(b=l[t])&&(m=(3>c?b(m):3<c?b(d,e,m):b(d,e))||m);return 3<c&&m&&Object.defineProperty(d,e,m),m}function u(l,d,e,a){return new (e||(e=Promise))(function(b,c){function m(A){try{v(a.next(A))}catch(B){c(B)}}
function t(A){try{v(a["throw"](A))}catch(B){c(B)}}function v(A){var B;A.done?b(A.value):(B=A.value,B instanceof e?B:new e(function(x){x(B)})).then(m,t)}v((a=a.apply(l,d||[])).next())})}function w(l,d){function e(v){return function(A){return function(B){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,b&&(c=2&B[0]?b["return"]:B[0]?b["throw"]||((c=b["return"])&&c.call(b),0):b.next)&&!(c=c.call(b,B[1])).done)return c;switch(b=0,c&&(B=[2&B[0],c.value]),B[0]){case 0:case 1:c=
B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++;b=B[1];B=[0];continue;case 7:B=t.ops.pop();t.trys.pop();continue;default:if(!(c=t.trys,(c=0<c.length&&c[c.length-1])||6!==B[0]&&2!==B[0])){t=0;continue}if(3===B[0]&&(!c||B[1]>c[0]&&B[1]<c[3]))t.label=B[1];else if(6===B[0]&&t.label<c[1])t.label=c[1],c=B;else if(c&&t.label<c[2])t.label=c[2],t.ops.push(B);else{c[2]&&t.ops.pop();t.trys.pop();continue}}B=d.call(l,t)}catch(x){B=[6,x],b=0}finally{a=c=0}if(5&B[0])throw B[1];return{value:B[0]?
B[1]:void 0,done:!0}}([v,A])}}var a,b,c,m,t={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return m={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m}function C(l,d){for(var e=0,a=d.length,b=l.length;e<a;e++,b++)l[b]=d[e];return l}h.d(p,"d",function(){return f});h.d(p,"a",function(){return r});h.d(p,"f",function(){return g});h.d(p,"c",function(){return k});h.d(p,"b",function(){return u});h.d(p,"e",function(){return w});
h.d(p,"g",function(){return C});var z=function(l,d){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,e=1,a=arguments.length;e<a;e++)for(var b in d=arguments[e])Object.prototype.hasOwnProperty.call(d,b)&&(l[b]=d[b]);return l}).apply(this,arguments)};Object.create;Object.create},101:function(q,p,h){h.d(p,"a",
function(){return g});h.d(p,"b",function(){return k});var f=h(0),g=function(u){return u?u.urlKey?location.protocol+"//"+u.urlKey+"."+u.customBaseUrl:location.protocol+"//"+u.portalHostname:""},k=function(u){return Object(f.a)(Object(f.a)({},u),{baseUrl:g(u)})}},117:function(q,p,h){h.d(p,"a",function(){return g});var f=h(0);q=h(15);var g=Object(q.a)(function(k,u){var w=Object(f.a),C=Object(f.a)({},u),z=u.type,r=u.typeKeywords?u.typeKeywords:[],l=null==z?void 0:z.toLowerCase(),d=!1,e=!1,a=z=!1;if("ogcfeatureserver"===
l)r="featureshosted";else if(0<(null==l?void 0:l.indexOf("service"))||"feature collection"===l||"kml"===l||"wms"===l||"wmts"===l||"wfs"===l){var b=-1<r.indexOf("Hosted Service");"feature service"===l||"feature collection"===l||"kml"===l||"wfs"===l?(a=-1<r.indexOf("Table"),d=-1<r.indexOf("Route Layer"),e=-1<r.indexOf("Markup"),r=(z=-1!==r.indexOf("Spatiotemporal"))&&a?"spatiotemporaltable":a?"table":d?"routelayer":e?"markup":z?"spatiotemporal":b?"featureshosted":"features"):"map service"===l||"wms"===
l||"wmts"===l?r=b||-1<r.indexOf("Tiled")||"wmts"===l?"maptiles":"mapimages":"scene service"===l?r=-1<r.indexOf("Line")?"sceneweblayerline":-1<r.indexOf("3DObject")?"sceneweblayermultipatch":-1<r.indexOf("Point")?"sceneweblayerpoint":-1<r.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<r.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<r.indexOf("Polygon")?"sceneweblayerpolygon":-1<r.indexOf("Building")?"sceneweblayerbuilding":-1<r.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===
l?(z=-1<r.indexOf("Elevation 3D Layer"),r=-1<r.indexOf("Tiled Imagery"),r=z?"elevationlayer":r?"tiledimagerylayer":"imagery"):r="stream service"===l?"streamlayer":"vector tile service"===l?"vectortile":"datastore catalog service"===l?"datastorecollection":"geocoding service"===l?"geocodeservice":"geoprocessing service"===l&&-1<r.indexOf("Web Tool")?"tool":"layers"}else r="web map"===l||"cityengine web scene"===l?"maps":"web scene"===l?-1<r.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":
"web mapping application"===l&&-1<(null==r?void 0:r.indexOf("configurableApp"))?"instantapps":"web mapping application"===l||"mobile application"===l||"application"===l||"operation view"===l||"desktop application"===l?"apps":"map document"===l||"map package"===l||"published map"===l||"scene document"===l||"globe document"===l||"basemap package"===l||"mobile basemap package"===l||"mobile map package"===l||"project package"===l||"project template"===l||"pro map"===l||"layout"===l||"layer"===l&&-1<r.indexOf("ArcGIS Pro")||
"explorer map"===l&&-1<r.indexOf("Explorer Document")?"mapsgray":"service definition"===l||"csv"===l||"administrative report"===l||"shapefile"===l||"cad drawing"===l||"geojson"===l||"360 vr experience"===l||"netcdf"===l?"datafiles":"explorer add in"===l||"desktop add in"===l||"windows viewer add in"===l||"windows viewer configuration"===l?"appsgray":"arcgis pro add in"===l||"arcgis pro configuration"===l?"addindesktop":"rule package"===l||"file geodatabase"===l||"csv collection"===l||"kml collection"===
l||"windows mobile package"===l||"map template"===l||"desktop application template"===l||"arcpad package"===l||"code sample"===l||"form"===l||"document link"===l||"vector tile package"===l||"operations dashboard add in"===l||"rules package"===l||"image"===l||"workflow manager package"===l||"explorer map"===l&&-1<r.indexOf("Explorer Mapping Application")||-1<r.indexOf("Document")?"datafilesgray":"network analysis service"===l||"geoprocessing service"===l||"geodata service"===l||"geometry service"===
l||"geoprocessing package"===l||"locator package"===l||"geoprocessing sample"===l||"workflow manager service"===l||"raster function template"===l||"deep learning package"===l?"toolsgray":"layer"===l||"layer package"===l||"explorer layer"===l?"layersgray":"scene package"===l?"scenepackage":"tile package"===l?"tilepackage":"storymap"===l?"storymap":"storymap theme"===l?"storymaptheme":"web experience"===l?"experiencebuilder":"web experience template"===l?"webexperiencetemplate":"task file"===l?"taskfile":
"report template"===l?"report-template":"statistical data collection"===l?"statisticaldatacollection":"insights workbook"===l?"workbook":"insights model"===l?"insightsmodel":"insights page"===l?"insightspage":"hub initiative"===l?"hubinitiative":"hub page"===l?"hubpage":"hub site application"===l?"hubsite":"relational database connection"===l?"relationaldatabaseconnection":"big data file share"===l||"data store"===l?"datastorecollection":"image collection"===l?"imagecollection":"desktop style"===
l?"desktopstyle":"style"===l?"style":"dashboard"===l?"dashboard":"feed"===l?"feed":"real time analytic"===l?"realtimeanalytics":"big data analytic"===l?"bigdataanalytics":"notebook"===l?"notebook":"notebook code snippets"===l?"notebookcodesnippets":"maps";return w(C,{iconURI:k+"/"+r+"16.png"})})},120:function(q,p,h){h.d(p,"a",function(){return g});var f=h(0);q=h(15);var g=Object(q.a)(function(k,u){var w=Object(f.a),C=Object(f.a)({},u),z,r,l="notebook"!==(null===(z=u.type)||void 0===z?void 0:z.toLowerCase())?
"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(r=u.type)||void 0===r?void 0:r.toLowerCase())&&(l="notebook-code-snippet-thumb.png");r=k.baseUrl+"/home/js/arcgisonline/css/images/"+l;z=(u.thumbnail&&(r=k.restUrl+"/content/items/"+u.id+"/info/"+u.thumbnail+(k.credential?"?token\x3d"+k.credential.token:"")),r);return w(C,{thumbURI:z})})},121:function(q,p,h){h.d(p,"a",function(){return k});var f=h(0);q=h(15);var g=function(u,w){return w.description?w.description.replace(/src=('|")js\/jsapi\/esri\//g,
function(C){return"src\x3d"+('"'===C[4]?'"':"'")+u.baseUrl+"/home/js/jsapi/esri/"}):void 0},k=Object(q.a)(function(u,w){return Object(f.a)(Object(f.a)({},w),{patchedDescription:g(u,w)})})},122:function(q,p,h){h.d(p,"a",function(){return u});var f=h(0),g=h(124);q=h(15);var k=h(58),u=Object(q.a)(function(w,C){var z=Object(f.a),r=Object(f.a)({},C),l,d=C.type,e=C.typeKeywords||[],a=d,b=(null==w?void 0:w.portalUser)||(null==w?void 0:w.user);if("Feature Service"===d||"Feature Collection"===d){if(a=-1<e.indexOf("Table")?
"Table":-1<e.indexOf("Route Layer")?"Route Layer":-1<e.indexOf("Markup")?"Markup":"Feature Layer",b&&Object(k.d)(C,b)&&-1<(null==e?void 0:e.indexOf("Hosted Service")))e=(null===(l=null===document||void 0===document?void 0:document.documentElement)||void 0===l?void 0:l.lang)||"en",a=a+" ("+(g.a[e]||g.a[e.split("-")[0]]||g.a.en)+")"}else"Image Service"===d?(l=-1<e.indexOf("Elevation 3D Layer"),e=-1<e.indexOf("Tiled Imagery"),a=l?"Elevation Layer":e?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===
d?a="Scene Layer":"Scene Package"===d?a="Scene Layer Package":"Stream Service"===d?a="Feature Layer":"Geocoding Service"===d?a="Locator":"Microsoft Powerpoint"===d?a="Microsoft PowerPoint":"OGCFeatureServer"===d?a="OGC Feature Layer":"GeoJson"===d?a="GeoJSON":"Globe Service"===d?a="Globe Layer":"Vector Tile Service"===d?a="Tile Layer":"netCDF"===d?a="NetCDF":"Map Service"===d?a=-1===e.indexOf("Spatiotemporal")&&(-1<e.indexOf("Hosted Service")||-1<e.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":
d&&-1<d.toLowerCase().indexOf("add in")?a=d.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===d?a="Big Data File Share":"Web Mapping Application"===d&&(null==e?0:e.includes("configurableApp"))?a="Instant App":"Data Store"===d&&(e.includes("cloudStore_amazon")||e.includes("cloudStore_azure")?a+=" (Cloud)":(e.includes("fileShare")||e.includes("hdfs")||e.includes("hive")||e.includes("bigDataFileShare")&&e.includes("dataStore"))&&(a+=" (Big Data File Share)"));return z(r,{displayName:a})})},
123:function(q,p,h){h.d(p,"a",function(){return k});var f=h(0);q=h(15);var g=function(u,w){var C=[],z=u.typeKeywords?u.typeKeywords:[];return u.contentStatus&&("org_authoritative"===u.contentStatus||"public_authoritative"===u.contentStatus?C.push("authoritative"):"deprecated"===u.contentStatus&&C.push("deprecated")),u.origin&&C.push("collaboration"),u.groupDesignations&&-1<u.groupDesignations.indexOf("livingatlas")&&C.push("livingAtlas"),-1<z.indexOf("Requires Credits")?C.push("premium"):-1<z.indexOf("Requires Subscription")&&
C.push("subscriber"),-1<z.indexOf("Public Data Collection")&&((null==w?void 0:w.portalUser)||(null==w?void 0:w.user))&&C.push("publicDataCollection"),"Solution"===u.type&&-1<u.typeKeywords.indexOf("ArcGIS Solution")&&C.push("solution"),w.isPortal&&"Web Mapping Application"===u.type&&(-1<u.typeKeywords.indexOf("Story Map")&&C.push("retiredStoryMap"),function(r){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(l){var d,
e=-1<l.indexOf(".html");return-1<(null===(d=r.url)||void 0===d?void 0:d.indexOf("/apps/"+l+(e?"":"/")))})}(u)&&C.push("retiredApp")),C},k=Object(q.a)(function(u,w){return Object(f.a)(Object(f.a)({},w),{badges:g(w,u)})})},124:function(q,p,h){h.d(p,"a",function(){return f});var f={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(q,p,h){h.d(p,"a",function(){return g});h.d(p,"b",function(){return k});var f=h(0);q=h(15);var g=function(u,w){var C;return w.thumbnail&&(C=u.restUrl+"/community/groups/"+w.id+"/info/"+w.thumbnail+(u.credential?"?token\x3d"+u.credential.token:"")),C},k=Object(q.a)(function(u,w){return Object(f.a)(Object(f.a)({},w),{thumbURI:g(u,w)})})},137:function(q,p,h){h.d(p,"a",function(){return f});
h.d(p,"d",function(){return u});h.d(p,"c",function(){return w});h.d(p,"e",function(){return C});h.d(p,"f",function(){return z});var f,g=h(0),k=h(25);!function(r){r.LOADING="loading";r.LOADED="loaded";r.FAILED="failed"}(f||(f={}));var u=function(r){var l=r.selectedGroups,d=r.selectorItems;return 0===d.length?Object.keys(l).map(function(e){return l[e].group}):Object.keys(l).filter(function(e){return C(l[e],d)}).map(function(e){return l[e].group})},w=function(r){var l=r.initialSelectedGroups,d=r.selectedGroups,
e=Object.keys(d).map(function(a){return d[a].group.id});return Object.keys(l).map(function(a){return l[a].group.id}).filter(function(a){return 0>e.indexOf(a)}).map(function(a){return l[a].group})},C=function(r,l){return!r.selectedByIds||r.selectedByIds.length===l.length},z={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:f.LOADING,total:0,hasGroups:!0};p.b=function(r,l){switch(void 0===r&&(r=z),l.type){case k.a.DESELECT_GROUPS:return Object(g.a)(Object(g.a)({},
r),{selectedGroups:l.payload.reduce(function(a,b){var c=b.id;a[c];return Object(g.f)(a,["symbol"==typeof c?c:c+""])},r.selectedGroups)});case k.a.REVERT_GROUPS:return l.payload?Object(g.a)(Object(g.a)({},r),{selectedGroups:l.payload.reduce(function(a,b){var c;if(r.initialSelectedGroups[b.id])return Object(g.a)(Object(g.a)({},a),((c={})[b.id]=r.initialSelectedGroups[b.id],c));c=b.id;a[c];return Object(g.f)(a,["symbol"==typeof c?c:c+""])},r.selectedGroups)}):Object(g.a)(Object(g.a)({},r),{selectedGroups:Object(g.a)({},
r.initialSelectedGroups)});case k.a.SELECT_GROUPS:var d=r.selectorItems.map(function(a){return a.id});return Object(g.a)(Object(g.a)({},r),{selectedGroups:l.payload.reduce(function(a,b){var c;return Object(g.a)(Object(g.a)({},a),((c={})[b.group.id]=Object(g.a)({selectedByIds:d},b),c))},r.selectedGroups)});case k.a.SET_INITIAL_GROUPS:var e=l.payload.reduce(function(a,b){var c;return Object(g.a)(Object(g.a)({},a),((c={})[b.group.id]=b,c))},{});return Object(g.a)(Object(g.a)({},r),{selectedGroups:e,
initialSelectedGroups:Object(g.a)({},e)});case k.a.SET_SELECTOR_ITEMS:return Object(g.a)(Object(g.a)({},r),{selectorItems:l.payload});case k.a.CLEAR_SELECTION:return Object(g.a)(Object(g.a)({},r),{selectedGroups:{}});case k.a.LOADING_GROUPS:return Object(g.a)(Object(g.a)({},r),{status:f.LOADING});case k.a.LOAD_GROUPS_SUCCESS:return Object(g.a)(Object(g.a)({},r),{displayGroups:l.payload.results,total:l.payload.total,status:f.LOADED});case k.a.LOAD_GROUPS_FAIL:return Object(g.a)(Object(g.a)({},r),{displayGroups:[],
status:f.FAILED});case k.a.SET_HAS_GROUPS:return Object(g.a)(Object(g.a)({},r),{hasGroups:l.payload});default:return r}}},139:function(q,p,h){function f(J,R){var Z=R(),T=Z.utilities.request,X=Z.resources;Z=X.selectedOptions;var aa=X.selectedOptionsDirty;X=Object(c.b)(X.items);Z=aa&&Z["public"]===Z.total;J(E(A.a.LOADING));0<X.length&&Z?Object(c.a)({items:X,request:T}).then(function(fa){fa.length?(fa=fa.some(function(oa){return-1===oa.typeKeywords.indexOf("Public Data Collection")}),J(x(fa?A.c.PUBLIC_DATA_COLLECTION_DISABLED:
A.c.PUBLIC_DATA_COLLECTION_ENABLED))):J(g)})["catch"](function(){J(g)}):J(g)}function g(J,R){var Z=R(),T=Z.utilities,X=T.portal,aa=T.request,fa=T.onComplete;T=Z.resources;var oa=T.items,ua=T.selectedOptions,ha=T.portalUser;T=Z.gbState.groups;Z=T.selectedGroups;T=T.initialSelectedGroups;var U=Object(d.d)({selectedGroups:Z,selectorItems:oa});Z=Object(d.c)({initialSelectedGroups:T,selectedGroups:Z});var ka=[];Object(e.h)({items:oa,groups:Z,portalUser:ha,restUrl:X.restUrl,request:aa}).then(function(){return Object(e.g)({items:oa,
groups:U,portalUser:ha,request:aa,restUrl:X.restUrl,selectedOptions:ua})})["catch"](function(W){W.results?ka=ka.concat(Object(m.a)(W.results,oa)):W.message&&ka.push({error:W})}).then(function(){return J(F)}).then(function(){var W=R().resources,Q=W.items,L=W.dependentItems,ca=L.needGroupSharingUpdate,Y=L.notEditable,da=L.premium,S=L.needPubliclyEditableWarning,P=L.needEditableWarning,V=L.needDataCollectionEnabled,ba=L.needGroupDependentApplicationWarning,ea=L.needBDFSDatastoreUpdate,ia=W.selectedOptions,
ja=(W=W.selectedOptionsDirty)&&ia["public"]===ia.total;0!==L.needShareLevelUpdate.length||0!==ca.length||0!==Y.length||0!==da.length||0!==S.length||0!==P.length||0!==V.length||0!==ba.length&&ja||0!==ea.length||0!==Object(e.c)(Q,ia,W).length?J({type:C.SET_CURRENT_VIEW,payload:A.a.DEPENDENT_ITEM_CONFIRMATION}):fa(0<ka.length?{errors:ka,selectedOptions:ia}:{selectedOptions:ia})})["catch"](console.error)}function k(J){return J.filter(function(R){return-1===R.typeKeywords.indexOf("bigDataFileShare")})}
function u(J,R){var Z=R(),T=Z.utilities,X=T.portal,aa=T.request,fa=T.onComplete;T=Z.resources;var oa=T.dependentItems,ua=oa.needBDFSDatastoreUpdate,ha=oa.needShareLevelUpdate,U=oa.needGroupSharingUpdate,ka=oa.needEditableWarning,W=T.selectedOptions;T=T.portalUser;oa=Z.gbState.groups;Z=oa.selectedGroups;var Q=oa.selectorItems;if(0!==ua.length||0!==ha.length||0!==U.length||0!==ka.length){oa=Object(e.g)({items:k(ua),groups:[],portalUser:T,request:aa,restUrl:X.restUrl,selectedOptions:W});var L=Object(e.g)({items:Object(z.g)(Object(z.g)([],
k(ha)),ka),groups:[],portalUser:T,request:aa,restUrl:X.restUrl,selectedOptions:W});X=Object(e.g)({items:U,groups:Object(d.d)({selectedGroups:Z,selectorItems:Q}),portalUser:T,request:aa,restUrl:X.restUrl,selectedOptions:W,ignoreShareLevel:!0});a.Promise.all([oa,L,X]).then(function(){var ca=Object(z.g)(Object(z.g)(Object(z.g)(Object(z.g)([],ua),ha),U),ka),Y=ca.map(function(da){return da.id});ca=ca.filter(function(da,S){return Y.indexOf(da.id)===S});fa({dependentItems:ca,selectedOptions:W})})["catch"](function(ca){throw ca;
})}else fa({selectedOptions:W})}function w(J,R){switch(R().resources.currentMiniDlg){case A.c.OPEN_GROUP_BROWSER:J(B(A.b["public"]));J(E(A.a.GROUP_BROWSER));break;case A.c.REVERT_SHARE_LEVEL:J({type:C.SET_INITIAL_SHARE_LEVEL});J(Object(l.c)());break;case A.c.REVERT_GROUPS:J(B(A.b["public"]));J(Object(l.c)());break;case A.c.EDITABLE_LAYERS:J(g);break;case A.c.SET_SHARE_TO_PRIVATE:J(B(A.b["private"]));J(Object(l.a)());break;case A.c.PUBLIC_DATA_COLLECTION_DISABLED:J(E(A.a.SHARE));break;case A.c.PUBLIC_DATA_COLLECTION_ENABLED:J(g)}J({type:C.SET_MINI_DIALOG,
payload:A.c.NONE})}h.d(p,"a",function(){return C});h.d(p,"k",function(){return x});h.d(p,"g",function(){return D});h.d(p,"j",function(){return E});h.d(p,"d",function(){return f});h.d(p,"i",function(){return u});h.d(p,"h",function(){return w});h.d(p,"c",function(){return H});h.d(p,"b",function(){return I});h.d(p,"e",function(){return N});h.d(p,"f",function(){return M});var C,z=h(0),r=h(177),l=h(144),d=h(137),e=h(61),a=h(28),b=h(335),c=h(194),m=h(379),t=h(51),v=h(58),A=h(26);!function(J){J.SET_SELECTED_SHARE_LEVEL=
"SET_SELECTED_SHARE_LEVEL";J.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";J.SET_CURRENT_VIEW="SET_CURRENT_VIEW";J.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";J.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";J.SET_MINI_DIALOG="SET_MINI_DIALOG";J.SET_SHARE_MODE="SET_SHARE_MODE";J.SET_USER_TYPE="SET_USER_TYPE";J.SET_HELP_MAP="SET_HELP_MAP"}(C||(C={}));var B=function(J){return{type:C.SET_SELECTED_SHARE_LEVEL,payload:J}},x=function(J){return{type:C.SET_MINI_DIALOG,payload:J}},D=function(){return function(J,
R){var Z=R(),T=Z.utilities,X=T.portal,aa=T.request;T=Z.resources.items;Z=y(Z);var fa=X.urlKey||X.isPortal?A.e.ORG:A.e.PUBLIC;J({type:C.SET_INITIAL_SHARE_LEVEL});J({type:C.SET_SHARE_MODE,payload:Z});J({type:C.SET_USER_TYPE,payload:fa});J(Object(r.a)({selectorItems:T,anySelectorItemsPrivate:0<R().resources.selectedOptions[A.b["private"]],shareMode:Z,userType:fa})).then(function(){return Object(e.a)(X,aa)}).then(function(oa){J({type:C.SET_HELP_MAP,payload:oa});J(E(A.a.SHARE))})}},E=function(J){return function(R){R({type:C.SET_CURRENT_VIEW,
payload:J})}},y=function(J){var R=J.resources,Z=R.items;R=R.portalUser;J=J.utilities.portal;var T=Z[0];if(Object(v.d)(T,R))return A.d.DEFAULT;T=!T.orgId||T.orgId===R.orgId;return Object(t.h)({items:Z,user:R,portal:J})&&T?A.d.ADMIN:A.d.GROUP},F=function(J,R){var Z=R(),T=Z.resources,X=T.selectedOptions,aa=Z.utilities,fa=aa.portal,oa=aa.request,ua=aa.iconDir;Z=Z.gbState.groups;var ha=Z.selectedGroups,U=Z.selectorItems;T=T.items.map(function(ka){return Object(b.b)({item:ka,portal:fa,request:oa,iconDir:ua})});
return a.Promise.all(T).then(function(ka){return G({dependentItems:ka,selectedGroups:ha,selectorItems:U,selectedOptions:X,request:oa,portal:fa})}).then(function(ka){J({type:C.SET_DEPENDENT_ITEMS,payload:ka})})},G=function(J){var R=J.dependentItems,Z=J.selectedGroups,T=J.selectorItems,X=J.selectedOptions,aa=J.request,fa=J.portal;return new a.Promise(function(oa,ua){var ha=Object(e.b)(R).filter(function(W){return W}),U=ha.map(function(W){return W.id}),ka=ha.filter(function(W,Q){return U.indexOf(W.id)===
Q});a.Promise.all(ka.map(function(W){return Object(b.a)({item:W,selectedOptions:X,selectedGroups:Object(d.d)({selectedGroups:Z,selectorItems:T}),request:aa,portal:fa})})).then(function(W){var Q=[],L=[],ca=[],Y=[],da=[],S=[],P=[],V=[],ba=[],ea=!Object(e.e)(X)&&Object(e.d)(X)===A.b["public"];W.forEach(function(ia,ja){var la=ka[ja];if(ia.premium)Y.push(la);else if(ia.groupDependentApplication)V.push(la);else{if(!ia.bdfsDatastore)return ea&&ia.editable&&Object(c.c)(la)&&la.isUpdateLayer?la.access===A.b["public"]?
void S.push(la):-1<la.typeKeywords.indexOf("Public Data Collection")?void da.push(la):void P.push(la):void((ia.needsShareLevelUpdate||ia.needsGroupSharingUpdate)&&(ia.editable?(ia.needsShareLevelUpdate&&L.push(la),ia.needsGroupSharingUpdate&&Q.push(la)):ca.push(la)));ba.push(la)}});oa({needGroupSharingUpdate:Q,needShareLevelUpdate:L,notEditable:ca,premium:Y,needPubliclyEditableWarning:S,needEditableWarning:da,needDataCollectionEnabled:P,needGroupDependentApplicationWarning:V,needBDFSDatastoreUpdate:ba})})["catch"](function(W){throw W;
})})},H=function(J,R){var Z=R(),T=Z.gbState.groups.initialSelectedGroups,X=Z.resources.selectedOptions;Z.config.userType===A.e.PUBLIC&&0<X["private"]&&0<Object.keys(T).length?J(x(A.c.REVERT_GROUPS)):J(Object(l.c)())},I=function(J,R){var Z=R(),T=Z.resources,X=T.portalUser;T=T.selectedOptions;Object(t.k)(Z.utilities.portal)||Object(t.a)(X)||!Object(e.e)(T)&&Object(e.d)(T)!==A.b["private"]?J(E(A.a.GROUP_BROWSER)):J(x(A.c.OPEN_GROUP_BROWSER))},N=function(J,R){var Z=R(),T=Z.resources,X=T.portalUser;T=
T.items;var aa=Z.gbState.groups.selectedGroups;Object(t.k)(Z.utilities.portal)||Object(t.b)(X)||!Object(c.d)({items:T,groupDatas:Object.keys(aa).map(function(fa){return aa[fa]})})?J({type:C.SET_INITIAL_SHARE_LEVEL}):J(x(A.c.REVERT_SHARE_LEVEL))},M=function(J){return function(R,Z){var T=Z(),X=T.resources.portalUser,aa=T.gbState.groups.selectedGroups;!Object(t.k)(T.utilities.portal)&&!Object(t.b)(X)&&J===A.b["private"]&&0<Object.keys(aa).length?R(x(A.c.SET_SHARE_TO_PRIVATE)):R(B(J))}}},144:function(q,
p,h){h.d(p,"d",function(){return w});h.d(p,"e",function(){return C});h.d(p,"b",function(){return z});h.d(p,"c",function(){return r});h.d(p,"a",function(){return l});h.d(p,"f",function(){return d});var f=h(0),g=h(181),k=h(163),u=h(68),w=function(e){return 1<e.length&&Object(k.a)(),{type:u.a.SELECT_GROUPS,payload:e.map(function(a){return{group:Object(g.c)(a)}})}},C=function(e){return{type:u.a.SET_INITIAL_GROUPS,payload:e.map(function(a){return Object(f.a)(Object(f.a)({},a),{group:Object(g.c)(a.group)})})}},
z=function(e){return 1<e.length&&Object(k.b)(),{type:u.a.DESELECT_GROUPS,payload:e}},r=function(e){return{type:u.a.REVERT_GROUPS,payload:e}},l=function(){return Object(k.c)(),{type:u.a.CLEAR_SELECTION}},d=function(e){return{type:u.a.SET_SELECTOR_ITEMS,payload:e}}},148:function(q,p,h){h.d(p,"a",function(){return g});var f=h(0);q=h(15);var g=Object(q.a)(function(k,u){var w=Object(f.a),C=Object(f.a)({},u);var z=u.thumbnail?k.restUrl+"/community/users/"+u.username+"/info/"+u.thumbnail+(k.credential?"?token\x3d"+
k.credential.token:""):void 0;return w(C,{thumbURI:z})})},15:function(q,p,h){function f(k){return function w(){for(var C=this,z=[],r=0;r<arguments.length;r++)z[r]=arguments[r];return z.length>=k.length?k.call.apply(k,Object(g.g)([this],z)):function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return w.call.apply(w,Object(g.g)(Object(g.g)([C],z),l))}}}h.d(p,"a",function(){return f});var g=h(0)},159:function(q,p,h){h.d(p,"b",function(){return e});h.d(p,"a",function(){return b});var f=
h(0),g=h(181),k=h(30),u=h(163),w=h(54),C=h(68),z=h(28),r=h(61),l=h(38),d=h(26),e=function(D,E){a(E()).then(function(y){var F=E();F=Object(w.b)(F)?F:F.gbState;var G=F.utils;F.ui.focus.focusSelectAll&&Object(u.c)();D({type:C.a.LOAD_GROUPS_SUCCESS,payload:Object(f.a)(Object(f.a)({},y),{results:y.results.map(function(H){return Object(g.b)(G.portal,H)})})})})["catch"](function(y){var F=E();(Object(w.b)(F)?F:F.gbState).ui.focus.focusSelectAll&&Object(u.c)();D({type:C.a.LOAD_GROUPS_FAIL,payload:y})})},a=
function(D){D=Object(w.b)(D)?D:D.gbState;var E=D.utils,y=E.request,F=E.portal,G=D.config;E=G.groupsPerPage;var H=G.withinShare,I=(G.withinAppConfig,D.parameters);G=I.filter;I=I.sort;var N=D.ui.page.currentPageNumber,M={q:x(D),num:E,sortField:I.field,sortOrder:I.order,start:(N-1)*E+1};return H&&(M.searchUserAccess="groupMember",M.searchUserName=G.currentUsername),G.designationFilter!==l.b.orgSettings||t(F)?new z.Promise(function(J,R){Object(k.g)(y,F,M).then(J,R)}):new z.Promise(function(J){J({query:M.q,
total:0,start:1,num:100,nextStart:-1,results:[]})})},b=function(D){var E=D.user;D=D.state;D=Object(w.b)(D)?D:D.gbState;var y=D.utils,F=y.request,G=y.portal;D=Object(f.a)(Object(f.a)({},D),{parameters:Object(f.a)(Object(f.a)({},D.parameters),{filter:Object(f.a)(Object(f.a)({},D.parameters.filter),{currentUsername:E.username})})});var H={q:x(D),num:100,searchUserAccess:"groupMember",searchUserName:E.username};return(new z.Promise(function(I,N){return Object(k.g)(F,G,H).then(function(M){if(-1!==M.nextStart){var J=
Math.ceil(M.total/100)-1,R=[M.results];M=function(T){R.push(new z.Promise(function(X,aa){var fa=100*(T+1)+1;Object(k.g)(F,G,Object(f.a)(Object(f.a)({},H),{start:fa})).then(function(oa){X(oa.results)},aa)}))};for(var Z=0;Z<J;Z++)M(Z);z.Promise.all(R).then(function(T){I(Object(r.b)(T))})}else I(M.results)},N)}))["catch"](function(I){throw I;})},c=function(D){var E,y=D.shareMode,F=D.currentUsername,G=D.portalUser;D=D.userGroups;var H=[];switch(D&&D.forEach(function(I){var N,M=null===(N=I.userMembership)||
void 0===N?void 0:N.memberType;!I.isViewOnly||"owner"!==M&&"admin"!==M||H.push(I.id)}),H.length&&(E="(isviewonly:false OR "+H.join(" OR ")+")"),y){case d.d.DEFAULT:return E||"(owner:"+F+" OR isviewonly:false)";case d.d.GROUP:return"owner:"+F+" -capabilities:updateitemcontrol";case d.d.ADMIN:return G.username===F?"(isviewonly:false OR owner:"+G.username+") -capabilities:updateitemcontrol":"(owner:"+F+" OR isviewonly:false)";default:return""}},m=function(D,E){0!==(null==D?void 0:D.indexOf("id:"))||
-1<E.indexOf(D)||E.push(D)},t=function(D){var E,y,F,G,H,I=[],N=[D.featuredItemsGroupQuery,D.basemapGalleryGroupQuery,D.templatesGroupQuery,D["2DStylesGroupQuery"],D.stylesGroupQuery,D.analysisLayersGroupQuery,D.galleryTemplatesGroupQuery];if(D.hasModernHomePageEnabled){var M=(null===(y=null===(E=D.homePageConfig)||void 0===E?void 0:E.content)||void 0===y?void 0:y.filter(function(J){return"gallery"===J.type&&!!J.groupId}))||[];0<M.length&&M.forEach(function(J){m("id:"+J.groupId,I)})}else N.push(D.homePageFeaturedContent);
return N.forEach(function(J){m(J,I)}),null===(F=D.featuredGroups)||void 0===F||F.forEach(function(J){(J=J.id)&&m("id:"+J,I)}),null===(H=null===(G=D.userDefaults)||void 0===G?void 0:G.groups)||void 0===H||H.forEach(function(J){m("id:"+J,I)}),0<I.length?"("+I.join(" OR ")+")":""},v=function(D){var E=D.portal;switch(D.designationFilter){case l.b.openData:return"isopendata:true";case l.b.updateGroups:return"capabilities:updateitemcontrol";case l.b.distributed:return"capabilities:distributed";case l.b.administrative:return"isleavingdisallowed:true";
case l.b.orgSettings:return t(E)||"";default:return""}},A=function(D){var E=D.portal,y=D.username,F=D.currentUsername,G=D.userType,H=D.withinAppConfig;y=D.shareMode===d.d.ADMIN&&F||y;H=E.isPortal&&H?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(D.ownerFilter){case l.d.itemOwner:return"owner:"+y+" "+H;case l.d.inOrg:return"-owner:"+y+" orgid:"+E.id+" "+H;case l.d.outsideOrg:return G===d.e.PUBLIC?"-owner:"+y+" "+H:"(orgid: [0 TO \\{]) -orgid:"+E.id+" "+H;default:return H}},
B=function(D){return D?"created: ["+(E=D).start+" TO "+E.end+"]":"";var E},x=function(D){var E=D.utils,y=E.portal;E=E.portalUser;var F=D.config,G=F.shareMode,H=F.userType,I=F.withinAppConfig,N=F.hasIndoorsSpaces;D=D.parameters.filter;var M=D.designationFilter,J=D.membershipFilter,R=D.dateCreatedFilter,Z=D.currentUsername,T=D.ownerFilter;return[F.baseQ+" "+D.searchString,c({shareMode:G,currentUsername:Z,portalUser:E,userGroups:F.userGroups}),N?"-capabilities:distributed":v({designationFilter:M,portal:y}),
N?"membershipaccess:org":J?"anyOrg"===J?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+J:"",B(R),A({ownerFilter:T,portal:y,username:E.username,currentUsername:Z,shareMode:G,userType:H,withinAppConfig:I})].filter(function(X){return X}).join(" ").trim()}},16:function(q,p){q.exports=O},163:function(q,p,h){function f(){u("gb__select-all-input")}function g(){u("gb__clear-selection-btn")}function k(){setTimeout(function(){var w=document.querySelector(".gcard-gcc__container");
w&&(w=w.querySelector(".btn-2018check__input"))&&w.focus()},50)}function u(w){setTimeout(function(){var C=document.querySelector("#"+w);C&&C.focus()},50)}h.d(p,"c",function(){return f});h.d(p,"a",function(){return g});h.d(p,"b",function(){return k})},170:function(q,p){var h=function(){return this}();try{h=h||(new Function("return this"))()}catch(f){"object"==typeof window&&(h=window)}q.exports=h},175:function(q,p,h){var f;h.d(p,"a",function(){return f});(f||(f={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},
177:function(q,p,h){h.d(p,"a",function(){return m});var f=h(0),g=h(54),k=h(144),u=h(159),w=h(313),C=h(314),z=h(186),r=h(30),l=h(28),d=h(25),e=h(61),a=h(68),b=h(192),c=h(58),m=function(v){return function(A,B){var x=B(),D=(Object(g.b)(x)?x:x.gbState).utils,E=D.portal;D=D.portalUser;if(!(v&&v.selectorItems&&0<v.selectorItems.length))return A(u.b),l.Promise.resolve();var y=v.selectorItems,F=v.userType;A({type:d.a.SET_SHARE_MODE,payload:v.shareMode});A({type:d.a.SET_USER_TYPE,payload:F});A(Object(k.f)(y));
E=Object(c.b)({user:D,items:y,portal:E});var G=D.username===E.username?[D]:[D,E];return 1<G.length&&!v.anySelectorItemsPrivate&&A({type:d.a.ENABLE_USER_TOGGLE}),A(Object(z.c)(G)),A(Object(z.h)(E.username)),void 0===x.config.hasTrustedOrgs&&A(w.a),Object(C.a)(B()).then(function(H){return H&&A({type:b.a.USER_DETAILS_LOADED,payload:H.groups}),A(u.b),l.Promise.all(G.map(function(I){return Object(u.a)({user:I,state:B()})})).then(function(I){I=Object(e.b)(I);var N=I.map(function(M){return M.id});I=I.filter(function(M,
J){return N.indexOf(M.id)===J});return A(t(I))})})}},t=function(v){return function(A,B){return new l.Promise(function(x,D){var E=B();E=Object(g.b)(E)?E:E.gbState;var y=E.utils,F=y.portal,G=y.request,H=Object(r.b)(E.groups.selectorItems);E=Object(r.a)(v).map(function(I){return Object(r.i)({itemIds:H,groupIds:Object(r.b)(I),portal:F,request:G})});l.Promise.all(E).then(function(I){var N=I.reduce(function(J,R){return Object(f.a)(Object(f.a)({},J),R)},{}),M=Object.keys(N);I=v.filter(function(J){return 0<=
M.indexOf(J.id)}).map(function(J){return{group:J,selectedByIds:N[J.id].items.map(function(R){return R.itemId})}});A({type:a.a.SET_HAS_GROUPS,payload:0<v.length});A(Object(k.e)(I));x()})["catch"](D)})}}},181:function(q,p,h){h.d(p,"b",function(){return u});h.d(p,"c",function(){return w});h.d(p,"a",function(){return C});var f=h(63);q=h(5);var g=h(99),k=h(128),u=function(z,r){return Object(f.a)(Object(k.b)(z))(r)},w=Object(f.a)(Object(q.e)("thumbURI")),C=function(z){var r=z.initialSelectedByIds;return!Object(g.a)(z.selectedBy.map(function(l){return l.id}),
r)}},186:function(q,p,h){h.d(p,"b",function(){return g});h.d(p,"g",function(){return k});h.d(p,"h",function(){return u});h.d(p,"e",function(){return w});h.d(p,"f",function(){return C});h.d(p,"d",function(){return z});h.d(p,"c",function(){return r});h.d(p,"a",function(){return l});var f=h(83),g=function(d){return{type:f.a.SET_SEARCH_STRING,payload:d}},k=function(d){return{type:f.a.UPDATE_OWNER_FILTER,payload:d}},u=function(d){return{type:f.a.UPDATE_USERNAME_FILTER,payload:d}},w=function(d){return{type:f.a.UPDATE_GROUP_DESIGNATION_FILTER,
payload:d}},C=function(d){return{type:f.a.UPDATE_MEMBERSHIP_FILTER,payload:d}},z=function(d){return{type:f.a.UPDATE_CREATED_ON_FILTER,payload:{section:d.section,created:d.created}}},r=function(d){return{type:f.a.SET_USERS,payload:d}},l=function(d){return{type:f.a.CLEAR_FILTERS,payload:d}}},189:function(q,p){function h(){throw Error("setTimeout has not been defined");}function f(){throw Error("clearTimeout has not been defined");}function g(c){if(r===setTimeout)return setTimeout(c,0);if((r===h||!r)&&
setTimeout)return r=setTimeout,setTimeout(c,0);try{return r(c,0)}catch(m){try{return r.call(null,c,0)}catch(t){return r.call(this,c,0)}}}function k(){a&&d&&(a=!1,d.length?e=d.concat(e):b=-1,e.length&&u())}function u(){if(!a){var c=g(k);a=!0;for(var m=e.length;m;){d=e;for(e=[];++b<m;)d&&d[b].run();b=-1;m=e.length}d=null;a=!1;(function(t){if(l===clearTimeout)return clearTimeout(t);if((l===f||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(v){try{return l.call(null,t)}catch(A){return l.call(this,
t)}}})(c)}}function w(c,m){this.fun=c;this.array=m}function C(){}var z=q.exports={};try{var r="function"==typeof setTimeout?setTimeout:h}catch(c){r=h}try{var l="function"==typeof clearTimeout?clearTimeout:f}catch(c){l=f}!0;var d,e=[],a=!1,b=-1;z.nextTick=function(c){var m=Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)m[t-1]=arguments[t];e.push(new w(c,m));1!==e.length||a||g(u)};w.prototype.run=function(){this.fun.apply(null,this.array)};z.title="browser";z.browser=
!0;z.env={};z.argv=[];z.version="";z.versions={};z.on=C;z.addListener=C;z.once=C;z.off=C;z.removeListener=C;z.removeAllListeners=C;z.emit=C;z.prependListener=C;z.prependOnceListener=C;z.listeners=function(c){return[]};z.binding=function(c){throw Error("process.binding is not supported");};z.cwd=function(){return"/"};z.chdir=function(c){throw Error("process.chdir is not supported");};z.umask=function(){return 0}},192:function(q,p,h){var f;h.d(p,"a",function(){return f});(f||(f={})).USER_DETAILS_LOADED=
"USER_LOADED"},194:function(q,p,h){function f(l){return"Feature Service"===l.type&&-1<l.typeKeywords.indexOf("Hosted Service")}function g(l){return l.filter(function(d){return d.access!==C.b["public"]&&f(d)})}function k(l){var d=l.request;l=l.items.map(function(e){return function(a,b){return new u.Promise(function(c){f(a)?Object(w.v)(b,a.url+"/layers").then(function(m){m=m.layers;c((null==m?void 0:m.reduce(function(t,v){return t||v&&-1<v.capabilities.indexOf("Editing")},!1))&&a)},function(){return c(!1)}):
c(!1)})}(e,d)});return u.Promise.all(l).then(function(e){return e.filter(function(a){return a})})}h.d(p,"d",function(){return z});h.d(p,"c",function(){return f});h.d(p,"b",function(){return g});h.d(p,"a",function(){return k});var u=h(28),w=h(30),C=h(26),z=function(l){var d=l.groupDatas;return l.items.filter(function(e){e=e.access?e.access:e.sharing&&e.sharing.access;return e===C.b["private"]||e===C.b.shared}).reduce(function(e,a){return e||r({item:a,groupDatas:d})},!1)},r=function(l){var d=l.item;
return l.groupDatas.reduce(function(e,a){return e||!!a.selectedByIds&&0<=a.selectedByIds.indexOf(d.id)},!1)}},204:function(q,p,h){var f;h.d(p,"a",function(){return f});(function(g){g.SET_PAGE="SET_PAGE";g.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";g.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(f||(f={}))},207:function(q,p,h){h.d(p,"b",function(){return k});var f=h(0),g=h(25),k={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,
hasIndoorsSpaces:!1};p.a=function(u,w){switch(void 0===u&&(u=k),w.type){case g.a.ENABLE_USER_TOGGLE:return Object(f.a)(Object(f.a)({},u),{enableUserToggle:!0});case g.a.SET_SHARE_MODE:return Object(f.a)(Object(f.a)({},u),{shareMode:w.payload});case g.a.SET_USER_TYPE:return Object(f.a)(Object(f.a)({},u),{userType:w.payload});case g.a.TRUSTED_ORGS_LOADED:return Object(f.a)(Object(f.a)({},u),{hasTrustedOrgs:0<w.payload.length});case g.a.USER_DETAILS_LOADED:return Object(f.a)(Object(f.a)({},u),{userGroups:w.payload});
case g.a.SET_SELECTOR_ITEMS:var C=!!w.payload.find(function(z){var r;return-1<(null===(r=null==z?void 0:z.typeKeywords)||void 0===r?void 0:r.indexOf("EditExtensionIndoorsSpaces"))});return Object(f.a)(Object(f.a)({},u),{hasIndoorsSpaces:C});default:return u}}},208:function(q,p,h){h.d(p,"b",function(){return g});q=h(16);var f=h(209);h=h(38);var g={sort:f.b,filter:h.f};p.a=Object(q.combineReducers)({sort:f.a,filter:h.e})},209:function(q,p,h){h.d(p,"b",function(){return k});var f=h(0),g=h(25),k={field:"title",
order:"asc"},u={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};p.a=function(w,C){switch(void 0===w&&(w=k),C.type){case g.a.CHANGE_SORT_FIELD:return Object(f.a)(Object(f.a)({},w),{field:C.payload,order:u[C.payload]});case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},w),{order:C.payload});default:return w}}},210:function(q,p,h){h.d(p,"b",function(){return u});q=h(16);var f=h(211),g=h(212),k=h(213);h=h(214);var u={page:f.b,sort:g.b,
focus:k.b,filter:h.b};p.a=Object(q.combineReducers)({page:f.a,sort:g.a,focus:k.a,filter:h.a})},211:function(q,p,h){h.d(p,"b",function(){return k});var f=h(0),g=h(25),k={currentPageNumber:1};p.a=function(u,w){switch(void 0===u&&(u=k),w.type){case g.a.CLEAR_FILTERS:case g.a.UPDATE_USERNAME_FILTER:case g.a.UPDATE_OWNER_FILTER:case g.a.UPDATE_CREATED_ON_FILTER:case g.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:1});case g.a.SET_PAGE:return Object(f.a)(Object(f.a)({},
u),{currentPageNumber:w.payload});case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:w.payload.num>w.payload.total?1:Math.ceil(w.payload.start/w.payload.num)});case g.a.LOAD_GROUPS_FAIL:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:1});default:return u}}},212:function(q,p,h){h.d(p,"b",function(){return g});var f=h(25),g=!1;p.a=function(k,u){switch(void 0===k&&(k=g),u.type){case f.a.CHANGE_SORT_FIELD:case f.a.CHANGE_SORT_ORDER:case f.a.TOGGLE_SORT_DROPDOWN:return!k;
default:return k}}},213:function(q,p,h){h.d(p,"b",function(){return k});var f=h(0),g=h(25),k={focusSelectAll:!1};p.a=function(u,w){switch(w.type){case g.a.LOAD_GROUPS_FAIL:case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},u),{focusSelectAll:!1});case g.a.CHANGE_SORT_FIELD:case g.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},u),{focusSelectAll:!0});default:return u}}},214:function(q,p,h){h.d(p,"b",function(){return u});var f=h(0),g=h(25),k=h(38),u={expanded:!1};p.a=function(w,
C){switch(C.type){case g.a.CLEAR_FILTERS:switch(C.payload){case void 0:case k.a.DATE_CREATED:return Object(f.a)(Object(f.a)({},w),{dateCreatedSelectedSection:void 0});default:return w}case g.a.TOGGLE_EXPANDED_FILTERS:return Object(f.a)(Object(f.a)({},w),{expanded:!w.expanded});case g.a.UPDATE_CREATED_ON_FILTER:return Object(f.a)(Object(f.a)({},w),{dateCreatedSelectedSection:C.payload.section});default:return w}}},215:function(q,p,h){h.d(p,"b",function(){return g});var f=h(101),g={portal:{},portalUser:{},
request:function(k){return null}};p.a=function(k,u){return void 0===k&&(k=g),u.type,k.portal.portalHostname&&!k.portal.baseUrl&&(k.portal.baseUrl=Object(f.a)(k.portal)),k}},25:function(q,p,h){h.d(p,"a",function(){return w});var f;q=h(0);p=h(204);var g=h(68),k=h(175),u=h(83);h=h(192);!function(C){C.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";C.SET_SHARE_MODE="SET_SHARE_MODE";C.SET_USER_TYPE="SET_USER_TYPE"}(f||(f={}));var w=Object(q.a)(Object(q.a)(Object(q.a)(Object(q.a)(Object(q.a)(Object(q.a)({},p.a),
g.a),u.a),f),k.a),h.a)},26:function(q,p,h){var f,g,k,u,w;h.d(p,"b",function(){return f});h.d(p,"a",function(){return g});h.d(p,"c",function(){return k});h.d(p,"e",function(){return u});h.d(p,"d",function(){return w});(function(C){C.org="org";C["private"]="private";C["public"]="public";C.shared="shared"})(f||(f={}));(function(C){C.LOADING="LOADING";C.SHARE="SHARE";C.GROUP_BROWSER="GROUP_BROWSER";C.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(g||(g={}));(function(C){C.SET_SHARE_TO_PRIVATE=
"SET_SHARE_TO_PRIVATE";C.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";C.REVERT_GROUPS="REVERT_GROUPS";C.EDITABLE_LAYERS="EDITABLE_LAYERS";C.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";C.NONE="NONE";C.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";C.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(k||(k={}));(function(C){C.ORG="ORG";C.PUBLIC="PUBLIC"})(u||(u={}));(function(C){C.DEFAULT="DEFAULT";C.ADMIN="ADMIN";C.GROUP="GROUP"})(w||(w={}))},28:function(q,p,h){(function(f,
g){q.exports=function(){function k(){var fa=setTimeout;return function(){return fa(u,1)}}function u(){for(var fa=0;fa<A;fa+=2)(0,H[fa])(H[fa+1]),H[fa]=void 0,H[fa+1]=void 0;A=0}function w(fa,oa){var ua=this,ha=new this.constructor(z);void 0===ha[Z]&&t(ha);var U=ua._state;if(U){var ka=arguments[U-1];D(function(){return m(U,ha,ka,ua._result)})}else b(ua,ha,fa,oa);return ha}function C(fa){if(fa&&"object"==typeof fa&&fa.constructor===this)return fa;var oa=new this(z);return l(oa,fa),oa}function z(){}
function r(fa,oa,ua){oa.constructor===fa.constructor&&ua===w&&oa.constructor.resolve===C?function(ha,U){1===U._state?e(ha,U._result):2===U._state?a(ha,U._result):b(U,void 0,function(ka){return l(ha,ka)},function(ka){return a(ha,ka)})}(fa,oa):void 0===ua?e(fa,oa):"function"==typeof ua?function(ha,U,ka){D(function(W){var Q=!1,L=function(ca,Y,da,S){try{ca.call(Y,da,S)}catch(P){return P}}(ka,U,function(ca){Q||(Q=!0,U!==ca?l(W,ca):e(W,ca))},function(ca){Q||(Q=!0,a(W,ca))},W._label);!Q&&L&&(Q=!0,a(W,L))},
ha)}(fa,oa,ua):e(fa,oa)}function l(fa,oa){if(fa===oa)a(fa,new TypeError("You cannot resolve a promise with itself"));else if(ha=typeof(ua=oa),null===ua||"object"!==ha&&"function"!==ha)e(fa,oa);else{ua=void 0;try{ua=oa.then}catch(U){return void a(fa,U)}r(fa,oa,ua)}var ua,ha}function d(fa){fa._onerror&&fa._onerror(fa._result);c(fa)}function e(fa,oa){void 0===fa._state&&(fa._result=oa,fa._state=1,0!==fa._subscribers.length&&D(c,fa))}function a(fa,oa){void 0===fa._state&&(fa._state=2,fa._result=oa,D(d,
fa))}function b(fa,oa,ua,ha){var U=fa._subscribers,ka=U.length;fa._onerror=null;U[ka]=oa;U[ka+1]=ua;U[ka+2]=ha;0===ka&&fa._state&&D(c,fa)}function c(fa){var oa=fa._subscribers,ua=fa._state;if(0!==oa.length){for(var ha=void 0,U=void 0,ka=fa._result,W=0;W<oa.length;W+=3)ha=oa[W],U=oa[W+ua],ha?m(ua,ha,U,ka):U(ka);fa._subscribers.length=0}}function m(fa,oa,ua,ha){var U="function"==typeof ua,ka=void 0,W=void 0,Q=!0;if(U){try{ka=ua(ha)}catch(L){Q=!1,W=L}if(oa===ka)return void a(oa,new TypeError("A promises callback cannot return that same promise."))}else ka=
ha;void 0!==oa._state||(U&&Q?l(oa,ka):!1===Q?a(oa,W):1===fa?e(oa,ka):2===fa&&a(oa,ka))}function t(fa){fa[Z]=T++;fa._state=void 0;fa._result=void 0;fa._subscribers=[]}var v=Array.isArray?Array.isArray:function(fa){return"[object Array]"===Object.prototype.toString.call(fa)},A=0,B=void 0,x=void 0,D=function(fa,oa){H[A]=fa;H[A+1]=oa;2===(A+=2)&&(x?x(u):R())},E="undefined"!=typeof window?window:void 0,y=E||{};y=y.MutationObserver||y.WebKitMutationObserver;var F="undefined"==typeof self&&void 0!==f&&"[object process]"===
{}.toString.call(f),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=Array(1E3),I,N,M,J,R=void 0;F?R=function(){return f.nextTick(u)}:y?(N=0,M=new y(u),J=document.createTextNode(""),M.observe(J,{characterData:!0}),R=function(){J.data=N=++N%2}):G?((I=new MessageChannel).port1.onmessage=u,R=function(){return I.port2.postMessage(0)}):R=void 0===E?function(){try{var fa=Function("return this")().require("vertx");return void 0!==(B=fa.runOnLoop||
fa.runOnContext)?function(){B(u)}:k()}catch(oa){return k()}}():k();var Z=Math.random().toString(36).substring(2),T=0,X=function(){function fa(oa,ua){this._instanceConstructor=oa;this.promise=new oa(z);this.promise[Z]||t(this.promise);v(ua)?(this.length=ua.length,this._remaining=ua.length,this._result=Array(this.length),0===this.length?e(this.promise,this._result):(this.length=this.length||0,this._enumerate(ua),0===this._remaining&&e(this.promise,this._result))):a(this.promise,Error("Array Methods must be provided an Array"))}
return fa.prototype._enumerate=function(oa){for(var ua=0;void 0===this._state&&ua<oa.length;ua++)this._eachEntry(oa[ua],ua)},fa.prototype._eachEntry=function(oa,ua){var ha=this._instanceConstructor,U=ha.resolve;if(U===C){var ka=U=void 0,W=!1;try{U=oa.then}catch(Q){W=!0,ka=Q}U===w&&void 0!==oa._state?this._settledAt(oa._state,ua,oa._result):"function"!=typeof U?(this._remaining--,this._result[ua]=oa):ha===aa?(ha=new ha(z),W?a(ha,ka):r(ha,oa,U),this._willSettleAt(ha,ua)):this._willSettleAt(new ha(function(Q){return Q(oa)}),
ua)}else this._willSettleAt(U(oa),ua)},fa.prototype._settledAt=function(oa,ua,ha){var U=this.promise;void 0===U._state&&(this._remaining--,2===oa?a(U,ha):this._result[ua]=ha);0===this._remaining&&e(U,this._result)},fa.prototype._willSettleAt=function(oa,ua){var ha=this;b(oa,void 0,function(U){return ha._settledAt(1,ua,U)},function(U){return ha._settledAt(2,ua,U)})},fa}(),aa=function(){function fa(oa){this[Z]=T++;this._result=this._state=void 0;this._subscribers=[];if(z!==oa){if("function"!=typeof oa)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
if(this instanceof fa)(function(ua,ha){try{ha(function(U){l(ua,U)},function(U){a(ua,U)})}catch(U){a(ua,U)}})(this,oa);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return fa.prototype["catch"]=function(oa){return this.then(null,oa)},fa.prototype["finally"]=function(oa){var ua=this.constructor;return"function"==typeof oa?this.then(function(ha){return ua.resolve(oa()).then(function(){return ha})},function(ha){return ua.resolve(oa()).then(function(){throw ha;
})}):this.then(oa,oa)},fa}();return aa.prototype.then=w,aa.all=function(fa){return(new X(this,fa)).promise},aa.race=function(fa){var oa=this;return v(fa)?new oa(function(ua,ha){for(var U=fa.length,ka=0;ka<U;ka++)oa.resolve(fa[ka]).then(ua,ha)}):new oa(function(ua,ha){return ha(new TypeError("You must pass an array to race."))})},aa.resolve=C,aa.reject=function(fa){var oa=new this(z);return a(oa,fa),oa},aa._setScheduler=function(fa){x=fa},aa._setAsap=function(fa){D=fa},aa._asap=D,aa.polyfill=function(){var fa=
void 0;if(void 0!==g)fa=g;else if("undefined"!=typeof self)fa=self;else try{fa=Function("return this")()}catch(ha){throw Error("polyfill failed because global object is unavailable in this environment");}var oa=fa.Promise;if(oa){var ua=null;try{ua=Object.prototype.toString.call(oa.resolve())}catch(ha){}if("[object Promise]"===ua&&!oa.cast)return}fa.Promise=aa},aa.Promise=aa,aa}()}).call(this,h(189),h(170))},30:function(q,p,h){function f(H){return H.reduce(function(I,N){return N&&N.relatedItems?I.concat(N.relatedItems.map(function(M){return M})):
I},[])}function g(H,I,N){return H(I,{query:Object(w.a)({f:"json"},N)}).then(function(M){return M.data})}function k(H,I){void 0===I&&(I=100);for(var N=[],M=0;M<Math.ceil(H.length/I);M++)N.push(H.slice(M*I,(M+1)*I));return N.filter(function(J){return 0<J.length})}function u(H){var I=H.itemIds,N=H.request,M=H.groupIds,J=H.portal.restUrl+"/content/itemsgroups";return new C.Promise(function(R,Z){N(J,{method:"get",query:{f:"json",items:I,groups:M}}).then(function(T){R(T.data)},Z)})}h.d(p,"u",function(){return z});
h.d(p,"n",function(){return r});h.d(p,"h",function(){return l});h.d(p,"e",function(){return d});h.d(p,"f",function(){return e});h.d(p,"j",function(){return a});h.d(p,"o",function(){return b});h.d(p,"l",function(){return c});h.d(p,"k",function(){return m});h.d(p,"m",function(){return t});h.d(p,"c",function(){return v});h.d(p,"d",function(){return A});h.d(p,"r",function(){return B});h.d(p,"s",function(){return x});h.d(p,"t",function(){return D});h.d(p,"g",function(){return E});h.d(p,"p",function(){return y});
h.d(p,"q",function(){return F});h.d(p,"v",function(){return g});h.d(p,"a",function(){return k});h.d(p,"i",function(){return u});h.d(p,"b",function(){return G});var w=h(0),C=h(28),z=function(H){return function(I,N){return H({url:I,content:N.query},{usePost:"post"===N.method}).then(function(M){return{data:M}})}},r=function(H,I,N){return g(H,I.restUrl+"/portals/self",{culture:N,"default":!0})},l=function(H,I,N){return g(H,I.restUrl+"/content/items/"+N+"/data")},d=function(H,I,N,M){return g(H,I.restUrl+
"/community/groups",Object(w.a)({q:N},M))},e=function(H,I,N){return g(H,I.restUrl+"/community/groups/"+N+"/categorySchema")},a=function(H,I,N){return g(H,I.restUrl+"/portals/"+(N||I.id)+"/categorySchema")},b=function(H,I){return g(H,I.restUrl+"/portals/"+I.id+"/servers")},c=function(H,I,N,M){return H(I.restUrl+"/portals/"+(N||I.id)+"/collaborationsSummary",M)},m=function(H,I,N,M){return H(I.restUrl+"/portals/"+(N||I.id)+"/collaboratedItems",M)},t=function(H,I,N){return g(H,location.protocol+"//"+
I.portalHostname+"/sharing/rest/portals/"+(N||"self"))},v=function(H,I,N){return H(I.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+I.id+" AND access:public",num:100,start:N||1,sortField:"title",sortOrder:"asc"}}).then(function(M){return M.data.total>M.data.start+M.data.num?v(H,I,M.data.start+M.data.num).then(function(J){return Object(w.a)(Object(w.a)({},J),{data:Object(w.a)(Object(w.a)({},J.data),{results:M.data.results.concat(J.data.results)})})}):M})},A=function(H,I,N,M){return H(I.restUrl+
"/community/users/"+N+"/provisionedListings",{query:{f:"json",num:100,start:M||1}}).then(function(J){var R=C.Promise.all(J.data.provisionedListings.filter(function(T){return T.itemId}).map(function(T){return(new C.Promise(function(X,aa){H(I.restUrl+"/content/items/"+T.itemId,{method:"get",query:{f:"json"}}).then(function(fa){X(fa.data)},aa)}))["catch"](function(X){return 0})})),Z=J.data.provisionedListings.map(function(T){return g(H,I.restUrl+"/content/items/"+(T.id||T.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(X){return X},
function(X){})});return J.data.total>J.data.start+J.data.num?A(H,I,N,J.data.start+J.data.num).then(function(T){return C.Promise.all([R].concat(Z)).then(function(X){return X[0].results.concat(f(X.slice(1))).concat(T)})}):C.Promise.all([R].concat(Z)).then(function(T){return T[0].filter(function(X){return void 0!==X}).concat(f(T.slice(1)))})})},B=function(H,I,N){return g(H,I.restUrl+"/community/users/"+(N||I.user.username))},x=function(H,I,N){return g(H,I.restUrl+"/content/users/"+(N||I.user.username),
{num:1})},D=function(H,I,N){return g(H,I.restUrl+"/content/groups/"+N)},E=function(H,I,N){return g(H,I.restUrl+"/community/groups",N)},y=function(H,I){return g(H,I.restUrl+"/portals/self/settings")},F=function(H,I){return g(H,I.restUrl+"/portals/self/trustedOrgs",{num:100})},G=function(H,I){return void 0===I&&(I=","),H.map(function(N){return N.id}).join(I)}},313:function(q,p,h){h.d(p,"a",function(){return u});var f=h(30),g=h(54),k=h(175),u=function(w,C){var z=C();z=(Object(g.b)(z)?z:z.gbState).utils;
Object(f.q)(z.request,z.portal).then(function(r){var l;r=(null===(l=null==r?void 0:r.trustedOrgs)||void 0===l?void 0:l.filter(function(d){return-1<d.from.established&&-1<d.to.established}))||[];w({type:k.a.TRUSTED_ORGS_LOADED,payload:r})},function(){w({type:k.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(q,p,h){h.d(p,"a",function(){return u});var f=h(30),g=h(54),k=h(28),u=function(w){w=(Object(g.b)(w)?w:w.gbState).utils;var C=w.request,z=w.portal,r=w.portalUser;return new k.Promise(function(l,
d){Object(f.r)(C,z,r.username).then(function(e){l(e)},function(){l()})})}},335:function(q,p,h){h.d(p,"b",function(){return r});h.d(p,"a",function(){return A});var f=h(0),g=h(28),k=h(30),u=h(78),w=h(61),C=h(194),z=h(26),r=function(D){if(D.depth&&4<D.depth)return g.Promise.resolve([]);switch(D.depth=D.depth?D.depth+1:1,D.item.type){case "Web Map":case "Web Scene":return m(D);case "Web Mapping Application":return d(D);case "Big Data File Share":return e(D);case "Data Store":return a(D);default:return g.Promise.resolve([])}},
l=function(D){var E=D.item,y=D.request,F=D.portal,G=D.iconDir;return E.itemId?new g.Promise(function(H){Object(k.v)(y,F.restUrl+"/content/items/"+E.itemId).then(function(I){0<Object(C.b)([I]).length?Object(C.a)({items:[I],request:y}).then(function(N){I.isUpdateLayer=0<N.length;H(Object(u.a)(F,G,I))},function(){return H(Object(u.a)(F,G,I))}):H(Object(u.a)(F,G,I))},function(){return H(null)})}):g.Promise.resolve(null)},d=function(D){var E=D.item,y=D.request,F=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(y,
F.restUrl+"/content/items/"+E.id+"/data").then(function(I){I||H([]);var N=function(M){var J,R,Z,T,X,aa,fa,oa,ua,ha,U=(null===(J=null==M?void 0:M.map)||void 0===J?0:J.itemId)?[M.map.itemId]:[];J=null!==(T=null===(Z=null===(R=M.values)||void 0===R?void 0:R.itemCollection)||void 0===Z?void 0:Z.map(function(ka){return ka.id}))&&void 0!==T?T:[];R=null!==(fa=null===(aa=null===(X=M.values)||void 0===X?void 0:X.webmap)||void 0===aa?void 0:aa.split(","))&&void 0!==fa?fa:[];M=null!==(ha=null===(ua=null===(oa=
M.values)||void 0===oa?void 0:oa.webscene)||void 0===ua?void 0:ua.split(","))&&void 0!==ha?ha:[];return Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],U),J),R),M)}(I).map(function(M){return l({item:{itemId:M},request:y,portal:F,iconDir:G})});g.Promise.all(N).then(function(M){var J=M.filter(function(R){return R});M=J.map(function(R){return r({item:R,request:y,portal:F,iconDir:G})});g.Promise.all(M).then(function(R){var Z;R=Object(f.g)(Object(f.g)([],J),Object(w.b)(R));(null===(Z=I.values)||void 0===
Z?0:Z.group)&&(E.itemData=I,R.push(E));H(R)})})})})},e=function(D){var E=D.item,y=D.request,F=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(y,F.restUrl+"/content/items/"+E.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(I){if(-1<I.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&-1<I.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(k.v)(y,F.restUrl+"/content/items/"+I.relatedItems[0].id+"/relatedItems",
{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(M){M.relatedItems.push(I.relatedItems[0]);M=b(M.relatedItems,y,F,G);g.Promise.all(M).then(function(J){H(J)})});else{var N=b(I.relatedItems,y,F,G);g.Promise.all(N).then(function(M){H(M)})}})})},a=function(D){var E=D.item,y=D.request,F=D.portal,G=D.iconDir;return new g.Promise(function(H){Object(k.v)(y,F.restUrl+"/content/items/"+E.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(I){I=
b(I.relatedItems,y,F,G);g.Promise.all(I).then(function(N){H(N)})})})},b=function(D,E,y,F){return D.map(function(G){return c(G,E,y,F)})},c=function(D,E,y,F){return new g.Promise(function(G){Object(k.v)(E,y.restUrl+"/content/items/"+D.id).then(function(H){G(Object(u.a)(y,F,H))})})},m=function(D){var E=D.item,y=D.request,F=D.portal,G=D.iconDir;return new g.Promise(function(H){return function(I){var N=I.portal,M=I.item,J=I.request;return new g.Promise(function(R){if(M.itemData){var Z=M.itemData,T=Z.operationalLayers,
X=Z.baseMap,aa=Z.tables;Z=Z.ground;return R(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],(null==X?void 0:X.baseMapLayers)||[]),(null==Z?void 0:Z.layers)||[]),T||[]),aa||[]))}return Object(k.v)(J,N.restUrl+"/content/items/"+M.id+"/data").then(function(fa){var oa=fa.baseMap,ua=fa.tables,ha=fa.ground;return R(Object(f.g)(Object(f.g)(Object(f.g)(Object(f.g)([],fa.operationalLayers||[]),(null==oa?void 0:oa.baseMapLayers)||[]),(null==ha?void 0:ha.layers)||[]),ua||[]))},function(){return R([])})})}({request:y,
item:E,portal:F}).then(function(I){g.Promise.all(t(I).map(function(N){return l({item:N,request:y,portal:F,iconDir:G})})).then(H)})})},t=function(D){return D.reduce(function(E,y){return(null==y?0:y.itemId)?E.concat(y):(null==y?0:y.layers)&&"GroupLayer"===y.layerType?E.concat(y.layers):E},[])},v={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,bdfsDatastore:!1},A=function(D){var E=D.item,y=D.selectedOptions,F=D.selectedGroups,G=D.request;D=D.portal;
return B({item:E,selectedOptions:y})?g.Promise.resolve(Object(f.a)(Object(f.a)({},v),{editable:!1,premium:!0})):x({item:E,selectedGroups:F,request:G,portal:D,selectedOptions:y}).then(function(H){var I=H.needsGroupSharingUpdate,N;if(!(N=H.needsShareLevelUpdate)){var M,J=!0;Object(w.e)(y)&&(J=!1);N=Object(w.d)(y);N!==z.b["private"]&&N!==z.b.shared||(J=!1);var R=E.access||(null===(M=E.sharing)||void 0===M?void 0:M.access);N=(R===z.b["public"]&&(J=!1),R===N&&(J=!1),N===z.b["private"]&&(R===z.b.shared&&
(J=!1),R===z.b.org&&(J=!1)),J)}return{needsGroupSharingUpdate:I,needsShareLevelUpdate:N,editable:H.editable,premium:!1,groupDependentApplication:H.groupDependentApplication,bdfsDatastore:H.bdfsDatastore}})},B=function(D){var E=D.selectedOptions;D=D.item;return Object(w.e)(E)?!1:Object(w.d)(E)===z.b["public"]?(E=D.typeKeywords,-1<D.owner.toLowerCase().indexOf("esri")&&(-1<(null==E?void 0:E.indexOf("Requires Credits"))||-1<(null==E?void 0:E.indexOf("Requires Subscription")))):!1},x=function(D){var E=
D.item,y=D.selectedGroups,F=D.selectedOptions,G=D.request,H=D.portal;return new g.Promise(function(I,N){var M,J;"Web Mapping Application"===E.type&&(null===(J=null===(M=E.itemData)||void 0===M?void 0:M.values)||void 0===J?0:J.group)?I(Object(f.a)(Object(f.a)({},v),{groupDependentApplication:!0})):"Data Store"!==E.type?Object(k.v)(G,H.restUrl+"/content/users/"+E.owner+(E.ownerFolder?"/"+E.ownerFolder:"")+"/items/"+(E.itemId||E.id)).then(function(R){var Z,T=R.item.itemControl,X=R.sharing.groups;R=E.access||
(null===(Z=E.sharing)||void 0===Z?void 0:Z.access);Object(w.f)(E)&&F.total===F["public"]?I(Object(f.a)(Object(f.a)({},v),{needsShareLevelUpdate:!0,editable:!1})):T&&"admin"!==T&&"update"!==T?I(Object(f.a)(Object(f.a)({},v),{editable:!1})):R!==z.b["public"]?y.length>X.length?I(Object(f.a)(Object(f.a)({},v),{needsGroupSharingUpdate:!0})):(Z=y.some(function(aa){return 0>X.indexOf(aa.id)}),I(Object(f.a)(Object(f.a)({},v),{needsGroupSharingUpdate:Z}))):I(Object(f.a)({},v))},function(R){Object(k.v)(G,H.restUrl+
"/content/items/"+(E.itemId||E.id)).then(function(Z){Z=Z.access;Z===z.b["public"]||Z===z.b.org&&F.total===F.org+F["private"]?I(Object(f.a)(Object(f.a)({},v),{editable:!1})):I(Object(f.a)(Object(f.a)({},v),{needsShareLevelUpdate:!0,editable:!1}))},function(Z){I(Object(f.a)(Object(f.a)({},v),{needsShareLevelUpdate:!0,editable:!1}))})}):I(Object(f.a)(Object(f.a)({},v),{bdfsDatastore:!0}))})}},336:function(q,p,h){(function(f,g){function k(xa,Ea){return xa.set(Ea[0],Ea[1]),xa}function u(xa,Ea){return xa.add(Ea),
xa}function w(xa,Ea,sa,pa){var ya=-1,ta=xa?xa.length:0;for(pa&&ta&&(sa=xa[++ya]);++ya<ta;)sa=Ea(sa,xa[ya],ya,xa);return sa}function C(xa){var Ea=!1;if(null!=xa&&"function"!=typeof xa.toString)try{Ea=!!(xa+"")}catch(sa){}return Ea}function z(xa){var Ea=-1,sa=Array(xa.size);return xa.forEach(function(pa,ya){sa[++Ea]=[ya,pa]}),sa}function r(xa,Ea){return function(sa){return xa(Ea(sa))}}function l(xa){var Ea=-1,sa=Array(xa.size);return xa.forEach(function(pa){sa[++Ea]=pa}),sa}function d(xa){var Ea=-1,
sa=xa?xa.length:0;for(this.clear();++Ea<sa;){var pa=xa[Ea];this.set(pa[0],pa[1])}}function e(xa){var Ea=-1,sa=xa?xa.length:0;for(this.clear();++Ea<sa;){var pa=xa[Ea];this.set(pa[0],pa[1])}}function a(xa){var Ea=-1,sa=xa?xa.length:0;for(this.clear();++Ea<sa;){var pa=xa[Ea];this.set(pa[0],pa[1])}}function b(xa){this.__data__=new e(xa)}function c(xa,Ea){var sa=Oa(xa)||function(ma){return!!ma&&"object"==typeof ma&&G(ma)&&W.call(ma,"callee")&&(!S.call(ma,"callee")||"[object Arguments]"==Q.call(ma))}(xa)?
function(ma,qa){for(var wa=-1,Fa=Array(ma);++wa<ma;)Fa[wa]=qa(wa);return Fa}(xa.length,String):[],pa=sa.length,ya=!!pa,ta;for(ta in xa)!Ea&&!W.call(xa,ta)||ya&&("length"==ta||E(ta,pa))||sa.push(ta);return sa}function m(xa,Ea,sa){var pa=xa[Ea];W.call(xa,Ea)&&(pa===sa||pa!=pa&&sa!=sa)&&(void 0!==sa||Ea in xa)||(xa[Ea]=sa)}function t(xa,Ea){for(var sa=xa.length;sa--;){var pa=xa[sa][0];if(pa===Ea||pa!=pa&&Ea!=Ea)return sa}return-1}function v(xa,Ea,sa,pa,ya,ta,ma){var qa;if(pa&&(qa=ta?pa(xa,ya,ta,ma):
pa(xa)),void 0!==qa)return qa;if(!I(xa))return xa;if(ya=Oa(xa)){if(qa=function(Ca){var Ia=Ca.length,La=Ca.constructor(Ia);Ia&&"string"==typeof Ca[0]&&W.call(Ca,"index")&&(La.index=Ca.index,La.input=Ca.input);return La}(xa),!Ea)return function(Ca,Ia){var La=-1,Ga=Ca.length;for(Ia||(Ia=Array(Ga));++La<Ga;)Ia[La]=Ca[La];return Ia}(xa,qa)}else{var wa=Ba(xa),Fa="[object Function]"==wa||"[object GeneratorFunction]"==wa;if(Ja(xa))return function(Ca,Ia){if(Ia)return Ca.slice();var La=new Ca.constructor(Ca.length);
return Ca.copy(La),La}(xa,Ea);if("[object Object]"==wa||"[object Arguments]"==wa||Fa&&!ta){if(C(xa))return ta?xa:{};if(qa=function(Ca){return"function"!=typeof Ca.constructor||y(Ca)?{}:(Ia=Y(Ca),I(Ia)?da(Ia):{});var Ia}(Fa?{}:xa),!Ea)return function(Ca,Ia){return B(Ca,Aa(Ca),Ia)}(xa,function(Ca,Ia){return Ca&&B(Ia,N(Ia),Ca)}(qa,xa))}else{if(!Z[wa])return ta?xa:{};qa=function(Ca,Ia,La,Ga){var Ma=Ca.constructor;switch(Ia){case "[object ArrayBuffer]":return A(Ca);case "[object Boolean]":case "[object Date]":return new Ma(+Ca);
case "[object DataView]":return function(Ka,Na){var Qa=Na?A(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,Ka.byteLength)}(Ca,Ga);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function(Ka,Na){var Qa=Na?A(Ka.buffer):Ka.buffer;return new Ka.constructor(Qa,Ka.byteOffset,
Ka.length)}(Ca,Ga);case "[object Map]":return function(Ka,Na,Qa){return w(Na?Qa(z(Ka),!0):z(Ka),k,new Ka.constructor)}(Ca,Ga,La);case "[object Number]":case "[object String]":return new Ma(Ca);case "[object RegExp]":return function(Ka){var Na=new Ka.constructor(Ka.source,M.exec(Ka));return Na.lastIndex=Ka.lastIndex,Na}(Ca);case "[object Set]":return function(Ka,Na,Qa){return w(Na?Qa(l(Ka),!0):l(Ka),u,new Ka.constructor)}(Ca,Ga,La);case "[object Symbol]":return Ha=Ca,za?Object(za.call(Ha)):{}}var Ha}(xa,
wa,v,Ea)}}ma||(ma=new b);if(ta=ma.get(xa))return ta;if(ma.set(xa,qa),!ya)var Da=sa?function(Ca){var Ia=Aa,La=N(Ca);if(!Oa(Ca)){Ca=Ia(Ca);Ia=-1;for(var Ga=Ca.length,Ma=La.length;++Ia<Ga;)La[Ma+Ia]=Ca[Ia]}return La}(xa):N(xa);return function(Ca,Ia){for(var La=-1,Ga=Ca?Ca.length:0;++La<Ga&&!1!==Ia(Ca[La],La,Ca););}(Da||xa,function(Ca,Ia){Da&&(Ca=xa[Ia=Ca]);m(qa,Ia,v(Ca,Ea,sa,pa,Ia,xa,ma))}),qa}function A(xa){var Ea=new xa.constructor(xa.byteLength);return(new ca(Ea)).set(new ca(xa)),Ea}function B(xa,
Ea,sa,pa){sa||(sa={});for(var ya=-1,ta=Ea.length;++ya<ta;){var ma=Ea[ya],qa=pa?pa(sa[ma],xa[ma],ma,sa,xa):void 0;m(sa,ma,void 0===qa?xa[ma]:qa)}return sa}function x(xa,Ea){var sa,pa=xa.__data__;return("string"==(sa=typeof Ea)||"number"==sa||"symbol"==sa||"boolean"==sa?"__proto__"!==Ea:null===Ea)?pa["string"==typeof Ea?"string":"hash"]:pa.map}function D(xa,Ea){var sa=null==xa?void 0:xa[Ea];a:{var pa=!(!I(sa)||(ya=sa,U&&U in ya))&&(H(sa)||C(sa)?L:J).test(F(sa));break a;var ya}return pa?sa:void 0}function E(xa,
Ea){return!!(Ea=null==Ea?9007199254740991:Ea)&&("number"==typeof xa||R.test(xa))&&-1<xa&&0==xa%1&&xa<Ea}function y(xa){var Ea=xa&&xa.constructor;return xa===("function"==typeof Ea&&Ea.prototype||ua)}function F(xa){if(null!=xa){try{return ka.call(xa)}catch(Ea){}return xa+""}return""}function G(xa){var Ea;if(Ea=null!=xa)Ea=xa.length,Ea="number"==typeof Ea&&-1<Ea&&0==Ea%1&&9007199254740991>=Ea;return Ea&&!H(xa)}function H(xa){xa=I(xa)?Q.call(xa):"";return"[object Function]"==xa||"[object GeneratorFunction]"==
xa}function I(xa){var Ea=typeof xa;return!!xa&&("object"==Ea||"function"==Ea)}function N(xa){if(G(xa))xa=c(xa);else if(y(xa)){var Ea=[],sa;for(sa in Object(xa))W.call(xa,sa)&&"constructor"!=sa&&Ea.push(sa);xa=Ea}else xa=V(xa);return xa}var M=/\w*$/,J=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,Z={};Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object DataView]"]=Z["[object Boolean]"]=Z["[object Date]"]=Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=
Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=Z["[object Set]"]=Z["[object String]"]=Z["[object Symbol]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0;Z["[object Error]"]=Z["[object Function]"]=Z["[object WeakMap]"]=!1;var T="object"==typeof self&&self&&self.Object===Object&&self;T="object"==typeof f&&f&&f.Object===Object&&f||T||Function("return this")();
var X=p&&!p.nodeType&&p,aa=X&&"object"==typeof g&&g&&!g.nodeType&&g;aa=aa&&aa.exports===X;var fa;X=Array.prototype;var oa=Function.prototype,ua=Object.prototype,ha=T["__core-js_shared__"],U=(fa=/[^.]+$/.exec(ha&&ha.keys&&ha.keys.IE_PROTO||""))?"Symbol(src)_1."+fa:"",ka=oa.toString,W=ua.hasOwnProperty,Q=ua.toString,L=RegExp("^"+ka.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");aa=aa?T.Buffer:void 0;fa=T.Symbol;var ca=
T.Uint8Array,Y=r(Object.getPrototypeOf,Object),da=Object.create,S=ua.propertyIsEnumerable,P=X.splice;X=Object.getOwnPropertySymbols;aa=aa?aa.isBuffer:void 0;var V=r(Object.keys,Object);oa=D(T,"DataView");var ba=D(T,"Map");ha=D(T,"Promise");var ea=D(T,"Set");T=D(T,"WeakMap");var ia=D(Object,"create"),ja=F(oa),la=F(ba),na=F(ha),ra=F(ea),va=F(T),za=(fa=fa?fa.prototype:void 0)?fa.valueOf:void 0;d.prototype.clear=function(){this.__data__=ia?ia(null):{}};d.prototype["delete"]=function(xa){return this.has(xa)&&
delete this.__data__[xa]};d.prototype.get=function(xa){var Ea=this.__data__;return ia?(xa=Ea[xa],"__lodash_hash_undefined__"===xa?void 0:xa):W.call(Ea,xa)?Ea[xa]:void 0};d.prototype.has=function(xa){var Ea=this.__data__;return ia?void 0!==Ea[xa]:W.call(Ea,xa)};d.prototype.set=function(xa,Ea){return this.__data__[xa]=ia&&void 0===Ea?"__lodash_hash_undefined__":Ea,this};e.prototype.clear=function(){this.__data__=[]};e.prototype["delete"]=function(xa){var Ea=this.__data__;xa=t(Ea,xa);return!(0>xa)&&
(xa==Ea.length-1?Ea.pop():P.call(Ea,xa,1),!0)};e.prototype.get=function(xa){var Ea=this.__data__;xa=t(Ea,xa);return 0>xa?void 0:Ea[xa][1]};e.prototype.has=function(xa){return-1<t(this.__data__,xa)};e.prototype.set=function(xa,Ea){var sa=this.__data__,pa=t(sa,xa);return 0>pa?sa.push([xa,Ea]):sa[pa][1]=Ea,this};a.prototype.clear=function(){this.__data__={hash:new d,map:new (ba||e),string:new d}};a.prototype["delete"]=function(xa){return x(this,xa)["delete"](xa)};a.prototype.get=function(xa){return x(this,
xa).get(xa)};a.prototype.has=function(xa){return x(this,xa).has(xa)};a.prototype.set=function(xa,Ea){return x(this,xa).set(xa,Ea),this};b.prototype.clear=function(){this.__data__=new e};b.prototype["delete"]=function(xa){return this.__data__["delete"](xa)};b.prototype.get=function(xa){return this.__data__.get(xa)};b.prototype.has=function(xa){return this.__data__.has(xa)};b.prototype.set=function(xa,Ea){var sa=this.__data__;if(sa instanceof e){sa=sa.__data__;if(!ba||199>sa.length)return sa.push([xa,
Ea]),this;sa=this.__data__=new a(sa)}return sa.set(xa,Ea),this};var Aa=X?r(X,Object):function(){return[]},Ba=function(xa){return Q.call(xa)};(oa&&"[object DataView]"!=Ba(new oa(new ArrayBuffer(1)))||ba&&"[object Map]"!=Ba(new ba)||ha&&"[object Promise]"!=Ba(ha.resolve())||ea&&"[object Set]"!=Ba(new ea)||T&&"[object WeakMap]"!=Ba(new T))&&(Ba=function(xa){var Ea=Q.call(xa);if(xa=(xa="[object Object]"==Ea?xa.constructor:void 0)?F(xa):void 0)switch(xa){case ja:return"[object DataView]";case la:return"[object Map]";
case na:return"[object Promise]";case ra:return"[object Set]";case va:return"[object WeakMap]"}return Ea});var Oa=Array.isArray,Ja=aa||function(){return!1};g.exports=function(xa){return v(xa,!0,!0)}}).call(this,h(170),h(366)(q))},354:function(q,p){q.exports=n},366:function(q,p){q.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,
get:function(){return h.i}}),h.webpackPolyfill=1),h}},379:function(q,p,h){function f(u,w){var C=u.filter(function(z){var r;return!z.success&&500===(null===(r=null==z?void 0:z.error)||void 0===r?void 0:r.code)}).map(function(z){var r=Object(k.c)(w,function(l){return l.id===z.itemId});return(null==r?void 0:r.title)||z.itemId});return u.map(function(z){z.error=z.error||{};var r=z.error,l=r.messageCode;r=r.code;return l&&g.errors[l]&&(z.error.message=g.errors[l]),r&&g.errors[r]&&(z.error.message=g.errors[r]),
(500===l||500===r&&C)&&(z.error.details=C,z.error.message=g.errors[500]+" "+(null==C?void 0:C.join(", "))),z}).filter(function(z){return!z.success})}h.d(p,"a",function(){return f});var g=h(39),k=h(99)},38:function(q,p,h){h.d(p,"b",function(){return f});h.d(p,"d",function(){return k});h.d(p,"c",function(){return u});h.d(p,"a",function(){return w});h.d(p,"f",function(){return r});var f,g,k,u,w,C=h(0),z=h(25);!function(l){l.openData="openData";l.updateGroups="updateGroups";l.distributed="distributed";
l.administrative="administrative";l.orgSettings="orgSettings"}(f||(f={}));(g||(g={})).owner="owner";(function(l){l.itemOwner="itemOwner";l.inOrg="inOrg";l.outsideOrg="outsideOrg"})(k||(k={}));(function(l){l.myOrg="org";l.partnered="collaboration";l.anyOrg="anyOrg"})(u||(u={}));(function(l){l.USER="USER";l.OWNER="OWNER";l.DESIGNATION="DESIGNATION";l.DATE_CREATED="DATE_CREATED";l.MEMBERSHIP="MEMBERSHIP"})(w||(w={}));var r={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};p.e=function(l,
d){switch(void 0===l&&(l=r),d.type){case z.a.CLEAR_FILTERS:switch(d.payload){case w.DESIGNATION:return Object(C.a)(Object(C.a)({},l),{designationFilter:void 0});case w.DATE_CREATED:return Object(C.a)(Object(C.a)({},l),{dateCreatedFilter:void 0});case w.OWNER:return Object(C.a)(Object(C.a)({},l),{ownerFilter:void 0});case w.USER:return l;case w.MEMBERSHIP:return Object(C.a)(Object(C.a)({},l),{membershipFilter:void 0});default:return Object(C.a)(Object(C.a)({},l),{designationFilter:void 0,dateCreatedFilter:void 0,
membershipFilter:void 0,ownerFilter:void 0})}case z.a.UPDATE_OWNER_FILTER:return Object(C.a)(Object(C.a)({},l),{ownerFilter:d.payload===l.ownerFilter?void 0:d.payload});case z.a.UPDATE_USERNAME_FILTER:return Object(C.a)(Object(C.a)({},l),{currentUsername:d.payload});case z.a.UPDATE_CREATED_ON_FILTER:return Object(C.a)(Object(C.a)({},l),{dateCreatedFilter:d.payload.created});case z.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(C.a)(Object(C.a)({},l),{designationFilter:d.payload===l.designationFilter?
void 0:d.payload});case z.a.UPDATE_MEMBERSHIP_FILTER:return Object(C.a)(Object(C.a)({},l),{membershipFilter:d.payload===l.membershipFilter?void 0:d.payload});case z.a.SET_USERS:return Object(C.a)(Object(C.a)({},l),{allUsers:d.payload.reduce(function(e,a){var b;return Object(C.a)(Object(C.a)({},e),((b={})[a.username]=a,b))},{})});case z.a.SET_SEARCH_STRING:return Object(C.a)(Object(C.a)({},l),{searchString:d.payload});default:return l}}},386:function(q,p,h){(function(f,g){function k(sa,pa,ya){switch(ya.length){case 0:return sa.call(pa);
case 1:return sa.call(pa,ya[0]);case 2:return sa.call(pa,ya[0],ya[1]);case 3:return sa.call(pa,ya[0],ya[1],ya[2])}return sa.apply(pa,ya)}function u(sa){var pa=-1,ya=null==sa?0:sa.length;for(this.clear();++pa<ya;){var ta=sa[pa];this.set(ta[0],ta[1])}}function w(sa){var pa=-1,ya=null==sa?0:sa.length;for(this.clear();++pa<ya;){var ta=sa[pa];this.set(ta[0],ta[1])}}function C(sa){var pa=-1,ya=null==sa?0:sa.length;for(this.clear();++pa<ya;){var ta=sa[pa];this.set(ta[0],ta[1])}}function z(sa){this.size=
(this.__data__=new w(sa)).size}function r(sa,pa,ya){(void 0===ya||x(sa[pa],ya))&&(void 0!==ya||pa in sa)||d(sa,pa,ya)}function l(sa,pa){for(var ya=sa.length;ya--;)if(x(sa[ya][0],pa))return ya;return-1}function d(sa,pa,ya){"__proto__"==pa&&ia?ia(sa,pa,{configurable:!0,enumerable:!0,value:ya,writable:!0}):sa[pa]=ya}function e(sa){if(null==sa)sa=void 0===sa?"[object Undefined]":"[object Null]";else if(ea&&ea in Object(sa)){var pa=ka.call(sa,ea),ya=sa[ea];try{sa[ea]=void 0;var ta=!0}catch(qa){}var ma=
Q.call(sa);ta&&(pa?sa[ea]=ya:delete sa[ea]);sa=ma}else sa=Q.call(sa);return sa}function a(sa){return G(sa)&&"[object Arguments]"==e(sa)}function b(sa){return!(!F(sa)||W&&W in sa)&&(E(sa)?ca:N).test(function(pa){if(null!=pa){try{return U.call(pa)}catch(ya){}return pa+""}return""}(sa))}function c(sa,pa,ya,ta,ma){sa!==pa&&za(pa,function(qa,wa){if(ma||(ma=new z),F(qa))!function(Da,Ca,Ia,La,Ga,Ma,Ha){var Ka=B(Da,Ia),Na=B(Ca,Ia),Qa=Ha.get(Na);if(Qa)return void r(Da,Ia,Qa);Ca=Ma?Ma(Ka,Na,Ia+"",Da,Ca,Ha):
void 0;if(Qa=void 0===Ca){var Pa=Oa(Na),Ra=!Pa&&Ja(Na),Sa=!Pa&&!Ra&&xa(Na);Ca=Na;Pa||Ra||Sa?Oa(Ka)?Ca=Ka:G(ab=Ka)&&D(ab)?Ca=function(Wa,db){var cb=-1,Za=Wa.length;for(db||(db=Array(Za));++cb<Za;)db[cb]=Wa[cb];return db}(Ka):Ra?(Qa=!1,Ca=function(Wa,db){if(db)return Wa.slice();var cb=Wa.length;cb=da?da(cb):new Wa.constructor(cb);return Wa.copy(cb),cb}(Na,!0)):Sa?(Qa=!1,Va=Na,Ua=(Ta=Va.buffer,Xa=new Ta.constructor(Ta.byteLength),(new Y(Xa)).set(new Y(Ta)),Xa),Ca=new Va.constructor(Ua,Va.byteOffset,
Va.length)):Ca=[]:function(Wa){if(!G(Wa)||"[object Object]"!=e(Wa))return!1;Wa=S(Wa);if(null===Wa)return!0;Wa=ka.call(Wa,"constructor")&&Wa.constructor;return"function"==typeof Wa&&Wa instanceof Wa&&U.call(Wa)==L}(Na)||Ba(Na)?(Ca=Ka,Ba(Ka)?Ca=function(Wa){var db=H(Wa),cb=void 0,Za=!cb;cb||(cb={});for(var $a=-1,Ya=db.length;++$a<Ya;){var bb=db[$a],eb=void 0;void 0===eb&&(eb=Wa[bb]);if(Za)d(cb,bb,eb);else{var fb=cb,gb=fb[bb];ka.call(fb,bb)&&x(gb,eb)&&(void 0!==eb||bb in fb)||d(fb,bb,eb)}}return cb}(Ka):
F(Ka)&&!E(Ka)||(Ca=function(Wa){return"function"!=typeof Wa.constructor||A(Wa)?{}:va(S(Wa))}(Na))):Qa=!1}var Va,Ua,Ta,Xa,ab;Qa&&(Ha.set(Na,Ca),Ga(Ca,Na,La,Ma,Ha),Ha["delete"](Na));r(Da,Ia,Ca)}(sa,pa,wa,ya,c,ta,ma);else{var Fa=ta?ta(B(sa,wa),qa,wa+"",sa,pa,ma):void 0;void 0===Fa&&(Fa=qa);r(sa,wa,Fa)}},H)}function m(sa,pa){var ya,ta=sa.__data__;return("string"==(ya=typeof pa)||"number"==ya||"symbol"==ya||"boolean"==ya?"__proto__"!==pa:null===pa)?ta["string"==typeof pa?"string":"hash"]:ta.map}function t(sa,
pa){var ya=null==sa?void 0:sa[pa];return b(ya)?ya:void 0}function v(sa,pa){var ya=typeof sa;return!!(pa=null==pa?9007199254740991:pa)&&("number"==ya||"symbol"!=ya&&M.test(sa))&&-1<sa&&0==sa%1&&sa<pa}function A(sa){var pa=sa&&sa.constructor;return sa===("function"==typeof pa&&pa.prototype||ha)}function B(sa,pa){if(("constructor"!==pa||"function"!=typeof sa[pa])&&"__proto__"!=pa)return sa[pa]}function x(sa,pa){return sa===pa||sa!=sa&&pa!=pa}function D(sa){return null!=sa&&y(sa.length)&&!E(sa)}function E(sa){if(!F(sa))return!1;
sa=e(sa);return"[object Function]"==sa||"[object GeneratorFunction]"==sa||"[object AsyncFunction]"==sa||"[object Proxy]"==sa}function y(sa){return"number"==typeof sa&&-1<sa&&0==sa%1&&9007199254740991>=sa}function F(sa){var pa=typeof sa;return null!=sa&&("object"==pa||"function"==pa)}function G(sa){return null!=sa&&"object"==typeof sa}function H(sa){if(D(sa)){var pa=Oa(sa),ya=!pa&&Ba(sa),ta=!pa&&!ya&&Ja(sa),ma=!pa&&!ya&&!ta&&xa(sa);if(pa=pa||ya||ta||ma){ya=sa.length;for(var qa=String,wa=-1,Fa=Array(ya);++wa<
ya;)Fa[wa]=qa(wa);ya=Fa}else ya=[];qa=ya.length;for(var Da in sa)pa&&("length"==Da||ta&&("offset"==Da||"parent"==Da)||ma&&("buffer"==Da||"byteLength"==Da||"byteOffset"==Da)||v(Da,qa))||ya.push(Da);sa=ya}else if(F(sa)){Da=A(sa);ma=[];for(ta in sa)("constructor"!=ta||!Da&&ka.call(sa,ta))&&ma.push(ta);sa=ma}else{Da=[];if(null!=sa)for(ma in Object(sa))Da.push(ma);sa=Da}return sa}function I(sa){return sa}var N=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,J={};J["[object Float32Array]"]=J["[object Float64Array]"]=
J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0;J["[object Arguments]"]=J["[object Array]"]=J["[object ArrayBuffer]"]=J["[object Boolean]"]=J["[object DataView]"]=J["[object Date]"]=J["[object Error]"]=J["[object Function]"]=J["[object Map]"]=J["[object Number]"]=J["[object Object]"]=J["[object RegExp]"]=J["[object Set]"]=J["[object String]"]=J["[object WeakMap]"]=
!1;var R="object"==typeof f&&f&&f.Object===Object&&f,Z="object"==typeof self&&self&&self.Object===Object&&self;Z=R||Z||Function("return this")();var T=p&&!p.nodeType&&p,X=T&&"object"==typeof g&&g&&!g.nodeType&&g;R=(T=X&&X.exports===T)&&R.process;a:{try{var aa=X&&X.require&&X.require("util").types||R&&R.binding&&R.binding("util");break a}catch(sa){}aa=void 0}aa=aa&&aa.isTypedArray;var fa,oa,ua;R=Array.prototype;var ha=Object.prototype;X=Z["__core-js_shared__"];var U=Function.prototype.toString,ka=
ha.hasOwnProperty,W=(fa=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+fa:"",Q=ha.toString,L=U.call(Object),ca=RegExp("^"+U.call(ka).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");fa=T?Z.Buffer:void 0;T=Z.Symbol;var Y=Z.Uint8Array,da=fa?fa.allocUnsafe:void 0,S=(oa=Object.getPrototypeOf,ua=Object,function(sa){return oa(ua(sa))}),P=Object.create,V=ha.propertyIsEnumerable,ba=R.splice,ea=T?T.toStringTag:void 0,ia=
function(){try{var sa=t(Object,"defineProperty");return sa({},"",{}),sa}catch(pa){}}();fa=fa?fa.isBuffer:void 0;var ja=Math.max,la=Date.now,na=t(Z,"Map"),ra=t(Object,"create"),va=function(){function sa(){}return function(pa){if(!F(pa))return{};if(P)return P(pa);sa.prototype=pa;pa=new sa;return sa.prototype=void 0,pa}}();u.prototype.clear=function(){this.__data__=ra?ra(null):{};this.size=0};u.prototype["delete"]=function(sa){sa=this.has(sa)&&delete this.__data__[sa];return this.size-=sa?1:0,sa};u.prototype.get=
function(sa){var pa=this.__data__;return ra?(sa=pa[sa],"__lodash_hash_undefined__"===sa?void 0:sa):ka.call(pa,sa)?pa[sa]:void 0};u.prototype.has=function(sa){var pa=this.__data__;return ra?void 0!==pa[sa]:ka.call(pa,sa)};u.prototype.set=function(sa,pa){var ya=this.__data__;return this.size+=this.has(sa)?0:1,ya[sa]=ra&&void 0===pa?"__lodash_hash_undefined__":pa,this};w.prototype.clear=function(){this.__data__=[];this.size=0};w.prototype["delete"]=function(sa){var pa=this.__data__;sa=l(pa,sa);return!(0>
sa)&&(sa==pa.length-1?pa.pop():ba.call(pa,sa,1),--this.size,!0)};w.prototype.get=function(sa){var pa=this.__data__;sa=l(pa,sa);return 0>sa?void 0:pa[sa][1]};w.prototype.has=function(sa){return-1<l(this.__data__,sa)};w.prototype.set=function(sa,pa){var ya=this.__data__,ta=l(ya,sa);return 0>ta?(++this.size,ya.push([sa,pa])):ya[ta][1]=pa,this};C.prototype.clear=function(){this.size=0;this.__data__={hash:new u,map:new (na||w),string:new u}};C.prototype["delete"]=function(sa){sa=m(this,sa)["delete"](sa);
return this.size-=sa?1:0,sa};C.prototype.get=function(sa){return m(this,sa).get(sa)};C.prototype.has=function(sa){return m(this,sa).has(sa)};C.prototype.set=function(sa,pa){var ya=m(this,sa),ta=ya.size;return ya.set(sa,pa),this.size+=ya.size==ta?0:1,this};z.prototype.clear=function(){this.__data__=new w;this.size=0};z.prototype["delete"]=function(sa){var pa=this.__data__;sa=pa["delete"](sa);return this.size=pa.size,sa};z.prototype.get=function(sa){return this.__data__.get(sa)};z.prototype.has=function(sa){return this.__data__.has(sa)};
z.prototype.set=function(sa,pa){var ya=this.__data__;if(ya instanceof w){var ta=ya.__data__;if(!na||199>ta.length)return ta.push([sa,pa]),this.size=++ya.size,this;ya=this.__data__=new C(ta)}return ya.set(sa,pa),this.size=ya.size,this};var za=function(sa,pa,ya){var ta=-1,ma=Object(sa);ya=ya(sa);for(var qa=ya.length;qa--;){var wa=ya[++ta];if(!1===pa(ma[wa],wa,ma))break}return sa},Aa=function(sa){var pa=0,ya=0;return function(){var ta=la(),ma=16-(ta-ya);if(ya=ta,0<ma){if(800<=++pa)return arguments[0]}else pa=
0;return sa.apply(void 0,arguments)}}(ia?function(sa,pa){return ia(sa,"toString",{configurable:!0,enumerable:!1,value:(ya=pa,function(){return ya}),writable:!0});var ya}:I),Ba=a(function(){return arguments}())?a:function(sa){return G(sa)&&ka.call(sa,"callee")&&!V.call(sa,"callee")},Oa=Array.isArray,Ja=fa||function(){return!1},xa=aa?function(sa){return function(pa){return sa(pa)}}(aa):function(sa){return G(sa)&&y(sa.length)&&!!J[e(sa)]},Ea;Z=(Ea=function(sa,pa,ya,ta){c(sa,pa,ya,ta)},function(sa,pa){return Aa(function(ya,
ta,ma){return ta=ja(void 0===ta?ya.length-1:ta,0),function(){for(var qa=arguments,wa=-1,Fa=ja(qa.length-ta,0),Da=Array(Fa);++wa<Fa;)Da[wa]=qa[ta+wa];wa=-1;for(Fa=Array(ta+1);++wa<ta;)Fa[wa]=qa[wa];return Fa[ta]=ma(Da),k(ya,this,Fa)}}(sa,pa,I),sa+"")}(function(sa,pa){var ya=-1,ta=pa.length,ma=1<ta?pa[ta-1]:void 0,qa=2<ta?pa[2]:void 0;ma=3<Ea.length&&"function"==typeof ma?(ta--,ma):void 0;var wa;if(wa=qa){wa=pa[0];var Fa=pa[1];if(F(qa)){var Da=typeof Fa;wa=!!("number"==Da?D(qa)&&v(Fa,qa.length):"string"==
Da&&Fa in qa)&&x(qa[Fa],wa)}else wa=!1}wa&&(ma=3>ta?void 0:ma,ta=1);for(sa=Object(sa);++ya<ta;)(qa=pa[ya])&&Ea(sa,qa,ya,ma);return sa}));g.exports=Z}).call(this,h(170),h(366)(q))},39:function(q,p){q.exports=K},5:function(q,p,h){function f(l){return 0===Object.keys(l).length&&l.constructor===Object}function g(l){return null!=l}function k(l,d){return z.apply(null,arguments)}function u(l,d){return r.apply(null,arguments)}h.d(p,"b",function(){return f});h.d(p,"a",function(){return g});h.d(p,"e",function(){return C});
h.d(p,"c",function(){return k});h.d(p,"d",function(){return u});var w=h(0);q=h(15);var C=Object(q.a)(function(l,d){var e=Object(w.a)({},d);return delete e[l],e}),z=Object(q.a)(function(l,d){return Object.keys(d).reduce(function(e,a){return e[a]=l(d[a],a,d),e},{})}),r=Object(q.a)(function(l,d){return Object.keys(d).reduce(function(e,a){return l(d[a],a,d)&&(e[a]=d[a]),e},{})})},51:function(q,p,h){function f(x){return!(!x.urlKey||!x.customBaseUrl)}function g(x){return x.role===a.admin||x.role===a.accountAdmin}
function k(x){return Object(m.a)(x.roleId)&&0<(x.roleId||"").length}function u(x){return!k(x)||k(x)&&-1<(x.privileges||[]).indexOf("portal:admin:viewItems")}function w(x){return-1<(x.privileges||[]).indexOf("portal:user:shareToOrg")}function C(x){return-1<(x.privileges||[]).indexOf("portal:user:shareToGroup")}function z(x){return-1<(x.privileges||[]).indexOf("portal:user:shareToPublic")}function r(x,D){return l(x)||d(x)||D.canSharePublic&&e(x)}function l(x){return-1<(x.privileges||[]).indexOf("portal:admin:shareToGroup")}
function d(x){return-1<(x.privileges||[]).indexOf("portal:admin:shareToOrg")}function e(x){return-1<(x.privileges||[]).indexOf("portal:admin:shareToPublic")}h.d(p,"l",function(){return v});h.d(p,"h",function(){return A});h.d(p,"m",function(){return B});h.d(p,"k",function(){return f});h.d(p,"i",function(){return g});h.d(p,"j",function(){return k});h.d(p,"g",function(){return u});h.d(p,"b",function(){return w});h.d(p,"a",function(){return C});h.d(p,"c",function(){return z});h.d(p,"d",function(){return l});
h.d(p,"e",function(){return d});h.d(p,"f",function(){return e});var a,b=h(63),c=h(148),m=h(5),t=h(58);!function(x){x.user="org_user";x.accountUser="account_user";x.publisher="org_publisher";x.accountPublisher="account_publisher";x.admin="org_admin";x.accountAdmin="account_admin";x.viewer="iAAAAAAAAAAAAAAA";x.dataEditor="iBBBBBBBBBBBBBBB"}(a||(a={}));var v=function(x){var D=x.items;return!!x.user.orgId&&D.every(function(E){return E.isOrgItem})},A=function(x){var D=x.items,E=x.user,y=x.portal;x=D[0];
var F=Object(t.c)(x,E),G=k(E),H=r(E,y);if(G=Object(t.a)(x,E)&&-1<(E.privileges||[]).indexOf("portal:admin:updateItems")&&!G)G=!f(y)||C(E)||w(E)||y.canSharePublic&&z(E)||r(E,y);y=G;return!(x.portal.isPortal&&x.owner!==E.username&&-1<x.owner.indexOf("esri_"))&&(F||y||v({items:D,user:E})&&H)},B=function(x,D){return Object(b.a)(Object(c.a)(x))(D)}},54:function(q,p,h){h.d(p,"b",function(){return u});h.d(p,"a",function(){return w});h.d(p,"c",function(){return C});q=h(16);p=h(215);var f=h(208),g=h(137),
k=h(210);h=h(207);var u=function(z){return!z.gbState},w={config:h.b,parameters:f.b,groups:g.f,ui:k.b,utils:p.b},C=Object(q.combineReducers)({config:h.a,parameters:f.a,groups:g.b,ui:k.a,utils:p.a})},58:function(q,p,h){function f(z,r){return(null==z?void 0:z.owner)===r.username}function g(z,r){var l;if(!(l=f(z,r)))if(Object(u.a)(z.isAdmin))l=!!z.isAdmin;else{l=z.owner;var d="admin"===z.itemControl;l=!(z.portal.isPortal&&!f(z,r)&&d&&-1<l.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(l))&&
d}return l}function k(z,r){return g(z,r)||"update"===z.itemControl}h.d(p,"d",function(){return f});h.d(p,"c",function(){return g});h.d(p,"a",function(){return k});h.d(p,"b",function(){return C});var u=h(5),w=h(51),C=function(z){var r=z.user,l=z.items;z=z.portal;return Object(w.l)({items:l,user:r})&&Object(w.h)({items:l,user:r,portal:z})&&Object(w.g)(r)&&l[0].itemOwner||r}},61:function(q,p,h){function f(A){var B=A.groupIds,x=A.shareLevelOptions,D=A.restUrl,E=A.request,y=A.unshare;return C.Promise.all(A.items.map(function(F,
G){return new C.Promise(function(H,I){E(D+"/content/items/"+(F.itemId||F.id)+"/"+(y?"unshare":"share"),{method:"post",query:Object(u.a)({f:"json",groups:B,confirmItemControl:!0},x||{})}).then(H,I)})}))["catch"](function(F){throw F;})}function g(A,B){return new C.Promise(function(x,D){var E,y=null===(E=A.helpMap)||void 0===E?void 0:E.m;y?x(y):B(A.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(F){var G;x(null===(G=F.data.helpMap)||void 0===G?void 0:G.m)},D)})}h.d(p,"h",function(){return r});
h.d(p,"g",function(){return l});h.d(p,"b",function(){return d});h.d(p,"e",function(){return e});h.d(p,"d",function(){return a});h.d(p,"f",function(){return t});h.d(p,"c",function(){return v});h.d(p,"a",function(){return g});var k,u=h(0),w=h(30),C=h(28);q=h(26);var z=h(58),r=function(A){var B=A.items,x=A.groups,D=A.restUrl,E=A.request,y=A.portalUser;if(0===B.length)return C.Promise.resolve();var F=Object(w.b)(x);return B.every(function(G){return Object(z.d)(G,y)})?new C.Promise(function(G,H){if(!x||
0===x.length)return G();var I={f:"json",items:Object(w.b)(B),groups:F};E(D+"/content/users/"+y.username+"/unshareItems",{method:"post",query:I}).then(G,H)}):f({items:B,groupIds:F,restUrl:D,request:E,unshare:!0})},l=function(A){var B=A.items,x=A.groups,D=A.restUrl,E=A.request,y=A.portalUser,F=A.selectedOptions;A=A.ignoreShareLevel;if(0===B.length)return C.Promise.resolve();if(!A&&!F)throw"Selected options must be provided unless share level is ignored.";var G=Object(w.b)(x),H=A?{}:b(F);return B.every(function(I){return Object(z.d)(I,
y)})?new C.Promise(function(I,N){E(D+"/content/users/"+y.username+"/shareItems",{method:"post",query:Object(u.a)({f:"json",items:Object(w.b)(B),groups:G,confirmItemControl:!0},H)}).then(function(M){M=M.data;M.results.every(function(J){return J.success})?I():N(M)},N)}):f({items:B,groupIds:G,shareLevelOptions:H,restUrl:D,request:E})},d=function(A){return A.reduce(function(B,x){return Object(u.g)(Object(u.g)([],B),x)},[])},e=function(A){return 1<Object.keys(A).filter(function(B){return"total"!==B&&0<
A[B]}).length},a=function(A){return Object.keys(A).filter(function(B){return"total"!==B}).reduce(function(B,x){return A[x]===A.total?x:B})},b=function(A){return e(A)?{}:c[a(A)]},c=((k={})[q.b["public"]]={org:!1,everyone:!0},k[q.b.org]={org:!0,everyone:!1},k[q.b["private"]]={org:!1,everyone:!1},k[q.b.shared]={org:!1,everyone:!1},k),m="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),
t=function(A){var B,x,D=A.typeKeywords,E=A.type;E=m.some(function(F){return-1<D.indexOf(F)})&&"Real Time Analytic"!==E&&"Big Data Analytic"!==E;var y=!(null===(B=null==A?void 0:A.portal)||void 0===B?0:B.isPortal)&&"Image Service"===A.type&&-1<(null===(x=A.url)||void 0===x?void 0:x.indexOf("://iservices"))&&-1<A.url.indexOf("arcgis.com");A="Knowledge Graph"===A.type;return E||y||A},v=function(A,B,x){return x&&B["public"]===B.total?A.filter(function(D){return-1<D.typeKeywords.indexOf("DeveloperBasemap")}):
[]}},63:function(q,p,h){function f(){for(var g=[],k=0;k<arguments.length;k++)g[k]=arguments[k];return function(u){return g.reduceRight(function(w,C){return C(w)},u)}}h.d(p,"a",function(){return f})},68:function(q,p,h){var f;h.d(p,"a",function(){return f});(function(g){g.LOADING_GROUPS="LOADING_GROUPS";g.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";g.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";g.SELECT_GROUPS="SELECT_GROUPS";g.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";g.DESELECT_GROUPS="DESELECT_GROUPS";g.REVERT_GROUPS=
"REVERT_GROUPS";g.CLEAR_SELECTION="CLEAR_SELECTION";g.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";g.SET_HAS_GROUPS="SET_HAS_GROUPS"})(f||(f={}))},78:function(q,p,h){h.d(p,"a",function(){return z});h.d(p,"b",function(){return r});var f=h(63);q=h(5);var g=h(123),k=h(122),u=h(117),w=h(121),C=h(120),z=function(l,d,e){return Object(f.a)(Object(C.a)(l),Object(w.a)(l),Object(u.a)(d),Object(k.a)(l),Object(g.a)(l))(e)},r=Object(f.a)(Object(q.e)("patchedDescription"),Object(q.e)("thumbURI"),Object(q.e)("iconURI"),
Object(q.e)("displayName"),Object(q.e)("badges"))},83:function(q,p,h){var f;h.d(p,"a",function(){return f});(function(g){g.SET_SEARCH_STRING="SET_SEARCH_STRING";g.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";g.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";g.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";g.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";g.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";g.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";g.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";
g.SET_USERS="SET_USERS";g.CLEAR_FILTERS="CLEAR_FILTERS"})(f||(f={}))},985:function(q,p,h){h.r(p);h.d(p,"ShareWrapper",function(){return d});var f=h(0),g=h(354),k=h.n(g),u=h(16),w=h(30);q=h(386);var C=h.n(q);q=h(336);var z=h.n(q),r=h(139),l=h(61);h.d(p,"unshareItems",function(){return l.h});h.d(p,"shareItems",function(){return l.g});h.d(p,"getShimmedRequest",function(){return w.u});h.d(p,"initialState",function(){return g.initialState});var d=function(){function e(a,b){this.options=b;this.listener=
this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.id="share-wrapper";a.appendChild(this.renderContainer);var c=z()(g.initialState),m=z()(b.initialState);c=C()(c,m,function(B,x){if(Array.isArray(B)&&x)return x});m=b.initialState&&b.initialState.resources&&b.initialState.resources.items;var t=4===b.apiVersion?b.request:Object(w.u)(b.request),v=4===b.apiVersion?b.portal:Object(f.a)(Object(f.a)({},b.portal),{restUrl:b.portal.portalUrl.slice(0,-1),credential:b.portal.user&&
b.portal.user.credential?b.portal.user.credential:void 0}),A=4===b.apiVersion?window.require.toUrl("esri/images/portal"):window.require.toUrl("esri/css/images/item_type_icons");this.initialState=Object(f.a)(Object(f.a)({},c),{resources:Object(f.a)(Object(f.a)({},c.resources),{portalUser:b.portalUser,items:m}),utilities:Object(f.a)(Object(f.a)({},c.utilities),{request:t,portal:v,iconDir:A}),gbState:Object(f.a)(Object(f.a)({},c.gbState),{utils:Object(f.a)(Object(f.a)({},c.gbState.utils),{request:t,
portal:v,portalUser:b.portalUser}),config:Object(f.a)(Object(f.a)({},c.gbState.config),{groupsPerPage:c.config.groupsPerPage,withinShare:!0,enableFiltering:!0,hasTrustedOrgs:c.config.hasTrustedOrgs})})});this.store=Object(u.applyMiddleware)(u.thunk,Object(u.addListener)(this.listener))(u.createStore)(g.reducers,this.initialState);this.dispatch(Object(r.g)());this.projector=Object(u.createProjector)(this.store,function(B){return B(k.a,{key:"share"})},this.renderContainer)}return e.prototype.remove=
function(){document&&document.documentElement&&document.documentElement.classList.remove("overflow-hidden");this.renderContainer&&this.renderContainer.parentElement&&this.renderContainer.parentElement.removeChild(this.renderContainer)},e.prototype.dispatch=function(a){this.store&&this.store.dispatch(a)},e.prototype.getState=function(){return this.store?this.store.getState():this.initialState},e.prototype.listener=function(a,b){this.options.listener&&this.options.listener(a,b)},e}()},99:function(q,
p,h){function f(z,r){if(null==z?0:z.length)for(var l=void 0,d=0;d<z.length;d++)if(r(l=z[d]))return l}function g(z){return z.filter(function(r){return 0<r.length})}function k(z,r,l){var d=[];return r.forEach(function(e){(l?e[l].toLowerCase()===z.toLowerCase():e.toLowerCase()===z.toLowerCase())?d.unshift(e):d.push(e)}),d}h.d(p,"e",function(){return u});h.d(p,"f",function(){return w});h.d(p,"c",function(){return f});h.d(p,"b",function(){return g});h.d(p,"a",function(){return C});h.d(p,"d",function(){return k});
q=h(15);var u=function(z,r,l){return l.indexOf(z)===r},w=Object(q.a)(function(z,r){var l={};return r.filter(function(d){return!l[d[z]]&&(l[d[z]]=!0,!0)})}),C=function(z,r){return z.length===r.length&&z.reduce(function(l,d){return l&&-1<r.indexOf(d)},!0)}}})})},"arcgis-components/Share/index":function(){define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/i18n!../Share/nls/resources ../Loaders/LoaderBars ../GroupBrowser/index ../Modals/Overlay".split(" "),function(O,K,n,q,p,h){return function(f){function g(u){if(k[u])return k[u].exports;
var w=k[u]={i:u,l:!1,exports:{}};return f[u].call(w.exports,w,w.exports,g),w.l=!0,w.exports}var k={};return g.m=f,g.c=k,g.d=function(u,w,C){g.o(u,w)||Object.defineProperty(u,w,{enumerable:!0,get:C})},g.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},g.t=function(u,w){if((1&w&&(u=g(u)),8&w)||4&w&&"object"==typeof u&&u&&u.__esModule)return u;var C=Object.create(null);if(g.r(C),
Object.defineProperty(C,"default",{enumerable:!0,value:u}),2&w&&"string"!=typeof u)for(var z in u)g.d(C,z,function(r){return u[r]}.bind(null,z));return C},g.n=function(u){var w=u&&u.__esModule?function(){return u["default"]}:function(){return u};return g.d(w,"a",w),w},g.o=function(u,w){return Object.prototype.hasOwnProperty.call(u,w)},g.p="",g(g.s=877)}({0:function(f,g,k){function u(a,b){function c(){this.constructor=a}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+
" is not a constructor or null");d(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function w(a,b){var c={},m;for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&0>b.indexOf(m)&&(c[m]=a[m]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(m=Object.getOwnPropertySymbols(a);t<m.length;t++)0>b.indexOf(m[t])&&Object.prototype.propertyIsEnumerable.call(a,m[t])&&(c[m[t]]=a[m[t]])}return c}function C(a,b,c,m){var t,v=arguments.length,A=3>v?b:null===m?
m=Object.getOwnPropertyDescriptor(b,c):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(a,b,c,m);else for(var B=a.length-1;0<=B;B--)(t=a[B])&&(A=(3>v?t(A):3<v?t(b,c,A):t(b,c))||A);return 3<v&&A&&Object.defineProperty(b,c,A),A}function z(a,b,c,m){return new (c||(c=Promise))(function(t,v){function A(D){try{x(m.next(D))}catch(E){v(E)}}function B(D){try{x(m["throw"](D))}catch(E){v(E)}}function x(D){var E;D.done?t(D.value):(E=D.value,E instanceof c?E:new c(function(y){y(E)})).then(A,
B)}x((m=m.apply(a,b||[])).next())})}function r(a,b){function c(x){return function(D){return function(E){if(m)throw new TypeError("Generator is already executing.");for(;B;)try{if(m=1,t&&(v=2&E[0]?t["return"]:E[0]?t["throw"]||((v=t["return"])&&v.call(t),0):t.next)&&!(v=v.call(t,E[1])).done)return v;switch(t=0,v&&(E=[2&E[0],v.value]),E[0]){case 0:case 1:v=E;break;case 4:return B.label++,{value:E[1],done:!1};case 5:B.label++;t=E[1];E=[0];continue;case 7:E=B.ops.pop();B.trys.pop();continue;default:if(!(v=
B.trys,(v=0<v.length&&v[v.length-1])||6!==E[0]&&2!==E[0])){B=0;continue}if(3===E[0]&&(!v||E[1]>v[0]&&E[1]<v[3]))B.label=E[1];else if(6===E[0]&&B.label<v[1])B.label=v[1],v=E;else if(v&&B.label<v[2])B.label=v[2],B.ops.push(E);else{v[2]&&B.ops.pop();B.trys.pop();continue}}E=b.call(a,B)}catch(y){E=[6,y],t=0}finally{m=v=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([x,D])}}var m,t,v,A,B={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return A={next:c(0),"throw":c(1),
"return":c(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A}function l(a,b){for(var c=0,m=b.length,t=a.length;c<m;c++,t++)a[t]=b[c];return a}k.d(g,"d",function(){return u});k.d(g,"a",function(){return e});k.d(g,"f",function(){return w});k.d(g,"c",function(){return C});k.d(g,"b",function(){return z});k.d(g,"e",function(){return r});k.d(g,"g",function(){return l});var d=function(a,b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=
m}||function(c,m){for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&(c[t]=m[t])})(a,b)},e=function(){return(e=Object.assign||function(a){for(var b,c=1,m=arguments.length;c<m;c++)for(var t in b=arguments[c])Object.prototype.hasOwnProperty.call(b,t)&&(a[t]=b[t]);return a}).apply(this,arguments)};Object.create;Object.create},101:function(f,g,k){k.d(g,"a",function(){return w});k.d(g,"b",function(){return C});var u=k(0),w=function(z){return z?z.urlKey?location.protocol+"//"+z.urlKey+"."+z.customBaseUrl:
location.protocol+"//"+z.portalHostname:""},C=function(z){return Object(u.a)(Object(u.a)({},z),{baseUrl:w(z)})}},117:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z){var r=Object(u.a),l=Object(u.a)({},z),d=z.type,e=z.typeKeywords?z.typeKeywords:[],a=null==d?void 0:d.toLowerCase(),b=!1,c=!1,m=d=!1;if("ogcfeatureserver"===a)e="featureshosted";else if(0<(null==a?void 0:a.indexOf("service"))||"feature collection"===a||"kml"===a||"wms"===a||"wmts"===a||
"wfs"===a){var t=-1<e.indexOf("Hosted Service");"feature service"===a||"feature collection"===a||"kml"===a||"wfs"===a?(m=-1<e.indexOf("Table"),b=-1<e.indexOf("Route Layer"),c=-1<e.indexOf("Markup"),e=(d=-1!==e.indexOf("Spatiotemporal"))&&m?"spatiotemporaltable":m?"table":b?"routelayer":c?"markup":d?"spatiotemporal":t?"featureshosted":"features"):"map service"===a||"wms"===a||"wmts"===a?e=t||-1<e.indexOf("Tiled")||"wmts"===a?"maptiles":"mapimages":"scene service"===a?e=-1<e.indexOf("Line")?"sceneweblayerline":
-1<e.indexOf("3DObject")?"sceneweblayermultipatch":-1<e.indexOf("Point")?"sceneweblayerpoint":-1<e.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<e.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<e.indexOf("Polygon")?"sceneweblayerpolygon":-1<e.indexOf("Building")?"sceneweblayerbuilding":-1<e.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===a?(d=-1<e.indexOf("Elevation 3D Layer"),e=-1<e.indexOf("Tiled Imagery"),e=d?"elevationlayer":e?"tiledimagerylayer":"imagery"):e="stream service"===
a?"streamlayer":"vector tile service"===a?"vectortile":"datastore catalog service"===a?"datastorecollection":"geocoding service"===a?"geocodeservice":"geoprocessing service"===a&&-1<e.indexOf("Web Tool")?"tool":"layers"}else e="web map"===a||"cityengine web scene"===a?"maps":"web scene"===a?-1<e.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===a&&-1<(null==e?void 0:e.indexOf("configurableApp"))?"instantapps":"web mapping application"===a||"mobile application"===
a||"application"===a||"operation view"===a||"desktop application"===a?"apps":"map document"===a||"map package"===a||"published map"===a||"scene document"===a||"globe document"===a||"basemap package"===a||"mobile basemap package"===a||"mobile map package"===a||"project package"===a||"project template"===a||"pro map"===a||"layout"===a||"layer"===a&&-1<e.indexOf("ArcGIS Pro")||"explorer map"===a&&-1<e.indexOf("Explorer Document")?"mapsgray":"service definition"===a||"csv"===a||"administrative report"===
a||"shapefile"===a||"cad drawing"===a||"geojson"===a||"360 vr experience"===a||"netcdf"===a?"datafiles":"explorer add in"===a||"desktop add in"===a||"windows viewer add in"===a||"windows viewer configuration"===a?"appsgray":"arcgis pro add in"===a||"arcgis pro configuration"===a?"addindesktop":"rule package"===a||"file geodatabase"===a||"csv collection"===a||"kml collection"===a||"windows mobile package"===a||"map template"===a||"desktop application template"===a||"arcpad package"===a||"code sample"===
a||"form"===a||"document link"===a||"vector tile package"===a||"operations dashboard add in"===a||"rules package"===a||"image"===a||"workflow manager package"===a||"explorer map"===a&&-1<e.indexOf("Explorer Mapping Application")||-1<e.indexOf("Document")?"datafilesgray":"network analysis service"===a||"geoprocessing service"===a||"geodata service"===a||"geometry service"===a||"geoprocessing package"===a||"locator package"===a||"geoprocessing sample"===a||"workflow manager service"===a||"raster function template"===
a||"deep learning package"===a?"toolsgray":"layer"===a||"layer package"===a||"explorer layer"===a?"layersgray":"scene package"===a?"scenepackage":"tile package"===a?"tilepackage":"storymap"===a?"storymap":"storymap theme"===a?"storymaptheme":"web experience"===a?"experiencebuilder":"web experience template"===a?"webexperiencetemplate":"task file"===a?"taskfile":"report template"===a?"report-template":"statistical data collection"===a?"statisticaldatacollection":"insights workbook"===a?"workbook":
"insights model"===a?"insightsmodel":"insights page"===a?"insightspage":"hub initiative"===a?"hubinitiative":"hub page"===a?"hubpage":"hub site application"===a?"hubsite":"relational database connection"===a?"relationaldatabaseconnection":"big data file share"===a||"data store"===a?"datastorecollection":"image collection"===a?"imagecollection":"desktop style"===a?"desktopstyle":"style"===a?"style":"dashboard"===a?"dashboard":"feed"===a?"feed":"real time analytic"===a?"realtimeanalytics":"big data analytic"===
a?"bigdataanalytics":"notebook"===a?"notebook":"notebook code snippets"===a?"notebookcodesnippets":"maps";return r(l,{iconURI:C+"/"+e+"16.png"})})},120:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z){var r=Object(u.a),l=Object(u.a)({},z),d,e,a="notebook"!==(null===(d=z.type)||void 0===d?void 0:d.toLowerCase())?"default_thumb.png":"notebook-thumb.png";"notebook code snippets"===(null===(e=z.type)||void 0===e?void 0:e.toLowerCase())&&(a="notebook-code-snippet-thumb.png");
e=C.baseUrl+"/home/js/arcgisonline/css/images/"+a;d=(z.thumbnail&&(e=C.restUrl+"/content/items/"+z.id+"/info/"+z.thumbnail+(C.credential?"?token\x3d"+C.credential.token:"")),e);return r(l,{thumbURI:d})})},121:function(f,g,k){k.d(g,"a",function(){return C});var u=k(0);f=k(15);var w=function(z,r){return r.description?r.description.replace(/src=('|")js\/jsapi\/esri\//g,function(l){return"src\x3d"+('"'===l[4]?'"':"'")+z.baseUrl+"/home/js/jsapi/esri/"}):void 0},C=Object(f.a)(function(z,r){return Object(u.a)(Object(u.a)({},
r),{patchedDescription:w(z,r)})})},122:function(f,g,k){k.d(g,"a",function(){return z});var u=k(0),w=k(124);f=k(15);var C=k(58),z=Object(f.a)(function(r,l){var d=Object(u.a),e=Object(u.a)({},l),a,b=l.type,c=l.typeKeywords||[],m=b,t=(null==r?void 0:r.portalUser)||(null==r?void 0:r.user);if("Feature Service"===b||"Feature Collection"===b){if(m=-1<c.indexOf("Table")?"Table":-1<c.indexOf("Route Layer")?"Route Layer":-1<c.indexOf("Markup")?"Markup":"Feature Layer",t&&Object(C.d)(l,t)&&-1<(null==c?void 0:
c.indexOf("Hosted Service")))c=(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.lang)||"en",m=m+" ("+(w.a[c]||w.a[c.split("-")[0]]||w.a.en)+")"}else"Image Service"===b?(a=-1<c.indexOf("Elevation 3D Layer"),c=-1<c.indexOf("Tiled Imagery"),m=a?"Elevation Layer":c?"Tiled Imagery Layer":"Imagery Layer"):"Scene Service"===b?m="Scene Layer":"Scene Package"===b?m="Scene Layer Package":"Stream Service"===b?m="Feature Layer":"Geocoding Service"===b?m="Locator":
"Microsoft Powerpoint"===b?m="Microsoft PowerPoint":"OGCFeatureServer"===b?m="OGC Feature Layer":"GeoJson"===b?m="GeoJSON":"Globe Service"===b?m="Globe Layer":"Vector Tile Service"===b?m="Tile Layer":"netCDF"===b?m="NetCDF":"Map Service"===b?m=-1===c.indexOf("Spatiotemporal")&&(-1<c.indexOf("Hosted Service")||-1<c.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?m=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b?m="Big Data File Share":"Web Mapping Application"===
b&&(null==c?0:c.includes("configurableApp"))?m="Instant App":"Data Store"===b&&(c.includes("cloudStore_amazon")||c.includes("cloudStore_azure")?m+=" (Cloud)":(c.includes("fileShare")||c.includes("hdfs")||c.includes("hive")||c.includes("bigDataFileShare")&&c.includes("dataStore"))&&(m+=" (Big Data File Share)"));return d(e,{displayName:m})})},123:function(f,g,k){k.d(g,"a",function(){return C});var u=k(0);f=k(15);var w=function(z,r){var l=[],d=z.typeKeywords?z.typeKeywords:[];return z.contentStatus&&
("org_authoritative"===z.contentStatus||"public_authoritative"===z.contentStatus?l.push("authoritative"):"deprecated"===z.contentStatus&&l.push("deprecated")),z.origin&&l.push("collaboration"),z.groupDesignations&&-1<z.groupDesignations.indexOf("livingatlas")&&l.push("livingAtlas"),-1<d.indexOf("Requires Credits")?l.push("premium"):-1<d.indexOf("Requires Subscription")&&l.push("subscriber"),-1<d.indexOf("Public Data Collection")&&((null==r?void 0:r.portalUser)||(null==r?void 0:r.user))&&l.push("publicDataCollection"),
"Solution"===z.type&&-1<z.typeKeywords.indexOf("ArcGIS Solution")&&l.push("solution"),r.isPortal&&"Web Mapping Application"===z.type&&(-1<z.typeKeywords.indexOf("Story Map")&&l.push("retiredStoryMap"),function(e){return"3DInsetMap 3DScene 3DViz AttachmentViewer CapacityAnalysis Compare/storytelling_compare Compare/storytelling_tabbed Compare/storytelling_sidepanel Compare/Multiviewer Compare/Search Compare/Configure Compare/SideBySideViewer_Configure Compare3d CompareAnalysis CompareMaps Directions Edit Editor Elevations ElevationsProfile Embed Filter FilterGallery GeoList GeoTour HeaderFooter Identify ImageInterpretation ImageryViewer ImpactSummary InformationLookup InteractiveFilter InteractiveLegend LayerShowcase Legend LiveMaps LocalPerspective MapAndAppGallery MapCarousel MapTools Media MinimalGallery Minimalist Nearby OnePane Panels PanelsLegend Profile PublicGallery PublicInformation ServiceLookup SimpleMapViewer SimpleViewer SocialMedia Solutions/s2.html?app\x3dapps2/FindEditFilter Solutions/s2.html?app\x3dapps2/Finder StorytellingTextLegend StoryMapBasic Styler SummaryViewer Time TimeAware TwoPane Viewer ZoneLookup".split(" ").some(function(a){var b,
c=-1<a.indexOf(".html");return-1<(null===(b=e.url)||void 0===b?void 0:b.indexOf("/apps/"+a+(c?"":"/")))})}(z)&&l.push("retiredApp")),l},C=Object(f.a)(function(z,r){return Object(u.a)(Object(u.a)({},r),{badges:w(r,z)})})},124:function(f,g,k){k.d(g,"a",function(){return u});var u={ar:"\u0645\u0633\u062a\u0636\u0627\u0641",bs:"hostirano",ca:"allotjat",cs:"hostovan\u00e1 polo\u017eka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"is\u00e4nn\u00f6ity",fr:"h\u00e9berg\u00e9",
he:"\u05de\u05ea\u05d0\u05e8\u05d7",hr:"hostirano",hu:"t\u00e1rolt",id:"di-host",it:"ospitati",ja:"\u30db\u30b9\u30c8",ko:"\ud638\uc2a4\ud305",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"g\u0103zduite",ru:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439",sl:"gostujo\u010di",sk:"hostil",sr:"hostovani",sv:"driftade",th:"\u0e2b\u0e25\u0e31\u0e01",tr:"bar\u0131nd\u0131r\u0131lan",uk:"\u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0445\u043e\u0441\u0442\u0456",
vi:"\u0111\u01b0\u1ee3c l\u01b0u tr\u1eef","zh-cn":"\u6258\u7ba1","zh-hk":"\u8a17\u7ba1","zh-tw":"\u8a17\u7ba1"}},128:function(f,g,k){k.d(g,"a",function(){return w});k.d(g,"b",function(){return C});var u=k(0);f=k(15);var w=function(z,r){var l;return r.thumbnail&&(l=z.restUrl+"/community/groups/"+r.id+"/info/"+r.thumbnail+(z.credential?"?token\x3d"+z.credential.token:"")),l},C=Object(f.a)(function(z,r){return Object(u.a)(Object(u.a)({},r),{thumbURI:w(z,r)})})},137:function(f,g,k){k.d(g,"a",function(){return u});
k.d(g,"d",function(){return z});k.d(g,"c",function(){return r});k.d(g,"e",function(){return l});k.d(g,"f",function(){return d});var u,w=k(0),C=k(25);!function(e){e.LOADING="loading";e.LOADED="loaded";e.FAILED="failed"}(u||(u={}));var z=function(e){var a=e.selectedGroups,b=e.selectorItems;return 0===b.length?Object.keys(a).map(function(c){return a[c].group}):Object.keys(a).filter(function(c){return l(a[c],b)}).map(function(c){return a[c].group})},r=function(e){var a=e.initialSelectedGroups,b=e.selectedGroups,
c=Object.keys(b).map(function(m){return b[m].group.id});return Object.keys(a).map(function(m){return a[m].group.id}).filter(function(m){return 0>c.indexOf(m)}).map(function(m){return a[m].group})},l=function(e,a){return!e.selectedByIds||e.selectedByIds.length===a.length},d={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:u.LOADING,total:0,hasGroups:!0};g.b=function(e,a){switch(void 0===e&&(e=d),a.type){case C.a.DESELECT_GROUPS:return Object(w.a)(Object(w.a)({},
e),{selectedGroups:a.payload.reduce(function(m,t){var v=t.id;m[v];return Object(w.f)(m,["symbol"==typeof v?v:v+""])},e.selectedGroups)});case C.a.REVERT_GROUPS:return a.payload?Object(w.a)(Object(w.a)({},e),{selectedGroups:a.payload.reduce(function(m,t){var v;if(e.initialSelectedGroups[t.id])return Object(w.a)(Object(w.a)({},m),((v={})[t.id]=e.initialSelectedGroups[t.id],v));v=t.id;m[v];return Object(w.f)(m,["symbol"==typeof v?v:v+""])},e.selectedGroups)}):Object(w.a)(Object(w.a)({},e),{selectedGroups:Object(w.a)({},
e.initialSelectedGroups)});case C.a.SELECT_GROUPS:var b=e.selectorItems.map(function(m){return m.id});return Object(w.a)(Object(w.a)({},e),{selectedGroups:a.payload.reduce(function(m,t){var v;return Object(w.a)(Object(w.a)({},m),((v={})[t.group.id]=Object(w.a)({selectedByIds:b},t),v))},e.selectedGroups)});case C.a.SET_INITIAL_GROUPS:var c=a.payload.reduce(function(m,t){var v;return Object(w.a)(Object(w.a)({},m),((v={})[t.group.id]=t,v))},{});return Object(w.a)(Object(w.a)({},e),{selectedGroups:c,
initialSelectedGroups:Object(w.a)({},c)});case C.a.SET_SELECTOR_ITEMS:return Object(w.a)(Object(w.a)({},e),{selectorItems:a.payload});case C.a.CLEAR_SELECTION:return Object(w.a)(Object(w.a)({},e),{selectedGroups:{}});case C.a.LOADING_GROUPS:return Object(w.a)(Object(w.a)({},e),{status:u.LOADING});case C.a.LOAD_GROUPS_SUCCESS:return Object(w.a)(Object(w.a)({},e),{displayGroups:a.payload.results,total:a.payload.total,status:u.LOADED});case C.a.LOAD_GROUPS_FAIL:return Object(w.a)(Object(w.a)({},e),{displayGroups:[],
status:u.FAILED});case C.a.SET_HAS_GROUPS:return Object(w.a)(Object(w.a)({},e),{hasGroups:a.payload});default:return e}}},139:function(f,g,k){function u(T,X){var aa=X(),fa=aa.utilities.request,oa=aa.resources;aa=oa.selectedOptions;var ua=oa.selectedOptionsDirty;oa=Object(v.b)(oa.items);aa=ua&&aa["public"]===aa.total;T(G(D.a.LOADING));0<oa.length&&aa?Object(v.a)({items:oa,request:fa}).then(function(ha){ha.length?(ha=ha.some(function(U){return-1===U.typeKeywords.indexOf("Public Data Collection")}),
T(y(ha?D.c.PUBLIC_DATA_COLLECTION_DISABLED:D.c.PUBLIC_DATA_COLLECTION_ENABLED))):T(w)})["catch"](function(){T(w)}):T(w)}function w(T,X){var aa=X(),fa=aa.utilities,oa=fa.portal,ua=fa.request,ha=fa.onComplete;fa=aa.resources;var U=fa.items,ka=fa.selectedOptions,W=fa.portalUser;fa=aa.gbState.groups;aa=fa.selectedGroups;fa=fa.initialSelectedGroups;var Q=Object(b.d)({selectedGroups:aa,selectorItems:U});aa=Object(b.c)({initialSelectedGroups:fa,selectedGroups:aa});var L=[];Object(c.h)({items:U,groups:aa,
portalUser:W,restUrl:oa.restUrl,request:ua}).then(function(){return Object(c.g)({items:U,groups:Q,portalUser:W,request:ua,restUrl:oa.restUrl,selectedOptions:ka})})["catch"](function(ca){ca.results?L=L.concat(Object(A.a)(ca.results,U)):ca.message&&L.push({error:ca})}).then(function(){return T(I)}).then(function(){var ca=X().resources,Y=ca.items,da=ca.dependentItems,S=da.needGroupSharingUpdate,P=da.notEditable,V=da.premium,ba=da.needPubliclyEditableWarning,ea=da.needEditableWarning,ia=da.needDataCollectionEnabled,
ja=da.needGroupDependentApplicationWarning,la=da.needBDFSDatastoreUpdate,na=ca.selectedOptions,ra=(ca=ca.selectedOptionsDirty)&&na["public"]===na.total;0!==da.needShareLevelUpdate.length||0!==S.length||0!==P.length||0!==V.length||0!==ba.length||0!==ea.length||0!==ia.length||0!==ja.length&&ra||0!==la.length||0!==Object(c.c)(Y,na,ca).length?T({type:l.SET_CURRENT_VIEW,payload:D.a.DEPENDENT_ITEM_CONFIRMATION}):ha(0<L.length?{errors:L,selectedOptions:na}:{selectedOptions:na})})["catch"](console.error)}
function C(T){return T.filter(function(X){return-1===X.typeKeywords.indexOf("bigDataFileShare")})}function z(T,X){var aa=X(),fa=aa.utilities,oa=fa.portal,ua=fa.request,ha=fa.onComplete;fa=aa.resources;var U=fa.dependentItems,ka=U.needBDFSDatastoreUpdate,W=U.needShareLevelUpdate,Q=U.needGroupSharingUpdate,L=U.needEditableWarning,ca=fa.selectedOptions;fa=fa.portalUser;U=aa.gbState.groups;aa=U.selectedGroups;var Y=U.selectorItems;if(0!==ka.length||0!==W.length||0!==Q.length||0!==L.length){U=Object(c.g)({items:C(ka),
groups:[],portalUser:fa,request:ua,restUrl:oa.restUrl,selectedOptions:ca});var da=Object(c.g)({items:Object(d.g)(Object(d.g)([],C(W)),L),groups:[],portalUser:fa,request:ua,restUrl:oa.restUrl,selectedOptions:ca});oa=Object(c.g)({items:Q,groups:Object(b.d)({selectedGroups:aa,selectorItems:Y}),portalUser:fa,request:ua,restUrl:oa.restUrl,selectedOptions:ca,ignoreShareLevel:!0});m.Promise.all([U,da,oa]).then(function(){var S=Object(d.g)(Object(d.g)(Object(d.g)(Object(d.g)([],ka),W),Q),L),P=S.map(function(V){return V.id});
S=S.filter(function(V,ba){return P.indexOf(V.id)===ba});ha({dependentItems:S,selectedOptions:ca})})["catch"](function(S){throw S;})}else ha({selectedOptions:ca})}function r(T,X){switch(X().resources.currentMiniDlg){case D.c.OPEN_GROUP_BROWSER:T(E(D.b["public"]));T(G(D.a.GROUP_BROWSER));break;case D.c.REVERT_SHARE_LEVEL:T({type:l.SET_INITIAL_SHARE_LEVEL});T(Object(a.c)());break;case D.c.REVERT_GROUPS:T(E(D.b["public"]));T(Object(a.c)());break;case D.c.EDITABLE_LAYERS:T(w);break;case D.c.SET_SHARE_TO_PRIVATE:T(E(D.b["private"]));
T(Object(a.a)());break;case D.c.PUBLIC_DATA_COLLECTION_DISABLED:T(G(D.a.SHARE));break;case D.c.PUBLIC_DATA_COLLECTION_ENABLED:T(w)}T({type:l.SET_MINI_DIALOG,payload:D.c.NONE})}k.d(g,"a",function(){return l});k.d(g,"k",function(){return y});k.d(g,"g",function(){return F});k.d(g,"j",function(){return G});k.d(g,"d",function(){return u});k.d(g,"i",function(){return z});k.d(g,"h",function(){return r});k.d(g,"c",function(){return M});k.d(g,"b",function(){return J});k.d(g,"e",function(){return R});k.d(g,
"f",function(){return Z});var l,d=k(0),e=k(177),a=k(144),b=k(137),c=k(61),m=k(28),t=k(335),v=k(194),A=k(379),B=k(51),x=k(58),D=k(26);!function(T){T.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL";T.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL";T.SET_CURRENT_VIEW="SET_CURRENT_VIEW";T.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW";T.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS";T.SET_MINI_DIALOG="SET_MINI_DIALOG";T.SET_SHARE_MODE="SET_SHARE_MODE";T.SET_USER_TYPE="SET_USER_TYPE";T.SET_HELP_MAP="SET_HELP_MAP"}(l||
(l={}));var E=function(T){return{type:l.SET_SELECTED_SHARE_LEVEL,payload:T}},y=function(T){return{type:l.SET_MINI_DIALOG,payload:T}},F=function(){return function(T,X){var aa=X(),fa=aa.utilities,oa=fa.portal,ua=fa.request;fa=aa.resources.items;aa=H(aa);var ha=oa.urlKey||oa.isPortal?D.e.ORG:D.e.PUBLIC;T({type:l.SET_INITIAL_SHARE_LEVEL});T({type:l.SET_SHARE_MODE,payload:aa});T({type:l.SET_USER_TYPE,payload:ha});T(Object(e.a)({selectorItems:fa,anySelectorItemsPrivate:0<X().resources.selectedOptions[D.b["private"]],
shareMode:aa,userType:ha})).then(function(){return Object(c.a)(oa,ua)}).then(function(U){T({type:l.SET_HELP_MAP,payload:U});T(G(D.a.SHARE))})}},G=function(T){return function(X){X({type:l.SET_CURRENT_VIEW,payload:T})}},H=function(T){var X=T.resources,aa=X.items;X=X.portalUser;T=T.utilities.portal;var fa=aa[0];if(Object(x.d)(fa,X))return D.d.DEFAULT;fa=!fa.orgId||fa.orgId===X.orgId;return Object(B.h)({items:aa,user:X,portal:T})&&fa?D.d.ADMIN:D.d.GROUP},I=function(T,X){var aa=X(),fa=aa.resources,oa=
fa.selectedOptions,ua=aa.utilities,ha=ua.portal,U=ua.request,ka=ua.iconDir;aa=aa.gbState.groups;var W=aa.selectedGroups,Q=aa.selectorItems;fa=fa.items.map(function(L){return Object(t.b)({item:L,portal:ha,request:U,iconDir:ka})});return m.Promise.all(fa).then(function(L){return N({dependentItems:L,selectedGroups:W,selectorItems:Q,selectedOptions:oa,request:U,portal:ha})}).then(function(L){T({type:l.SET_DEPENDENT_ITEMS,payload:L})})},N=function(T){var X=T.dependentItems,aa=T.selectedGroups,fa=T.selectorItems,
oa=T.selectedOptions,ua=T.request,ha=T.portal;return new m.Promise(function(U,ka){var W=Object(c.b)(X).filter(function(ca){return ca}),Q=W.map(function(ca){return ca.id}),L=W.filter(function(ca,Y){return Q.indexOf(ca.id)===Y});m.Promise.all(L.map(function(ca){return Object(t.a)({item:ca,selectedOptions:oa,selectedGroups:Object(b.d)({selectedGroups:aa,selectorItems:fa}),request:ua,portal:ha})})).then(function(ca){var Y=[],da=[],S=[],P=[],V=[],ba=[],ea=[],ia=[],ja=[],la=!Object(c.e)(oa)&&Object(c.d)(oa)===
D.b["public"];ca.forEach(function(na,ra){var va=L[ra];if(na.premium)P.push(va);else if(na.groupDependentApplication)ia.push(va);else{if(!na.bdfsDatastore)return la&&na.editable&&Object(v.c)(va)&&va.isUpdateLayer?va.access===D.b["public"]?void ba.push(va):-1<va.typeKeywords.indexOf("Public Data Collection")?void V.push(va):void ea.push(va):void((na.needsShareLevelUpdate||na.needsGroupSharingUpdate)&&(na.editable?(na.needsShareLevelUpdate&&da.push(va),na.needsGroupSharingUpdate&&Y.push(va)):S.push(va)));
ja.push(va)}});U({needGroupSharingUpdate:Y,needShareLevelUpdate:da,notEditable:S,premium:P,needPubliclyEditableWarning:ba,needEditableWarning:V,needDataCollectionEnabled:ea,needGroupDependentApplicationWarning:ia,needBDFSDatastoreUpdate:ja})})["catch"](function(ca){throw ca;})})},M=function(T,X){var aa=X(),fa=aa.gbState.groups.initialSelectedGroups,oa=aa.resources.selectedOptions;aa.config.userType===D.e.PUBLIC&&0<oa["private"]&&0<Object.keys(fa).length?T(y(D.c.REVERT_GROUPS)):T(Object(a.c)())},J=
function(T,X){var aa=X(),fa=aa.resources,oa=fa.portalUser;fa=fa.selectedOptions;Object(B.k)(aa.utilities.portal)||Object(B.a)(oa)||!Object(c.e)(fa)&&Object(c.d)(fa)!==D.b["private"]?T(G(D.a.GROUP_BROWSER)):T(y(D.c.OPEN_GROUP_BROWSER))},R=function(T,X){var aa=X(),fa=aa.resources,oa=fa.portalUser;fa=fa.items;var ua=aa.gbState.groups.selectedGroups;Object(B.k)(aa.utilities.portal)||Object(B.b)(oa)||!Object(v.d)({items:fa,groupDatas:Object.keys(ua).map(function(ha){return ua[ha]})})?T({type:l.SET_INITIAL_SHARE_LEVEL}):
T(y(D.c.REVERT_SHARE_LEVEL))},Z=function(T){return function(X,aa){var fa=aa(),oa=fa.resources.portalUser,ua=fa.gbState.groups.selectedGroups;!Object(B.k)(fa.utilities.portal)&&!Object(B.b)(oa)&&T===D.b["private"]&&0<Object.keys(ua).length?X(y(D.c.SET_SHARE_TO_PRIVATE)):X(E(T))}}},144:function(f,g,k){k.d(g,"d",function(){return r});k.d(g,"e",function(){return l});k.d(g,"b",function(){return d});k.d(g,"c",function(){return e});k.d(g,"a",function(){return a});k.d(g,"f",function(){return b});var u=k(0),
w=k(181),C=k(163),z=k(68),r=function(c){return 1<c.length&&Object(C.a)(),{type:z.a.SELECT_GROUPS,payload:c.map(function(m){return{group:Object(w.c)(m)}})}},l=function(c){return{type:z.a.SET_INITIAL_GROUPS,payload:c.map(function(m){return Object(u.a)(Object(u.a)({},m),{group:Object(w.c)(m.group)})})}},d=function(c){return 1<c.length&&Object(C.b)(),{type:z.a.DESELECT_GROUPS,payload:c}},e=function(c){return{type:z.a.REVERT_GROUPS,payload:c}},a=function(){return Object(C.c)(),{type:z.a.CLEAR_SELECTION}},
b=function(c){return{type:z.a.SET_SELECTOR_ITEMS,payload:c}}},148:function(f,g,k){k.d(g,"a",function(){return w});var u=k(0);f=k(15);var w=Object(f.a)(function(C,z){var r=Object(u.a),l=Object(u.a)({},z);var d=z.thumbnail?C.restUrl+"/community/users/"+z.username+"/info/"+z.thumbnail+(C.credential?"?token\x3d"+C.credential.token:""):void 0;return r(l,{thumbURI:d})})},15:function(f,g,k){function u(C){return function r(){for(var l=this,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return d.length>=
C.length?C.call.apply(C,Object(w.g)([this],d)):function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return r.call.apply(r,Object(w.g)(Object(w.g)([l],d),a))}}}k.d(g,"a",function(){return u});var w=k(0)},159:function(f,g,k){k.d(g,"b",function(){return c});k.d(g,"a",function(){return t});var u=k(0),w=k(181),C=k(30),z=k(163),r=k(54),l=k(68),d=k(28),e=k(61),a=k(38),b=k(26),c=function(F,G){m(G()).then(function(H){var I=G();I=Object(r.b)(I)?I:I.gbState;var N=I.utils;I.ui.focus.focusSelectAll&&
Object(z.c)();F({type:l.a.LOAD_GROUPS_SUCCESS,payload:Object(u.a)(Object(u.a)({},H),{results:H.results.map(function(M){return Object(w.b)(N.portal,M)})})})})["catch"](function(H){var I=G();(Object(r.b)(I)?I:I.gbState).ui.focus.focusSelectAll&&Object(z.c)();F({type:l.a.LOAD_GROUPS_FAIL,payload:H})})},m=function(F){F=Object(r.b)(F)?F:F.gbState;var G=F.utils,H=G.request,I=G.portal,N=F.config;G=N.groupsPerPage;var M=N.withinShare,J=(N.withinAppConfig,F.parameters);N=J.filter;J=J.sort;var R=F.ui.page.currentPageNumber,
Z={q:y(F),num:G,sortField:J.field,sortOrder:J.order,start:(R-1)*G+1};return M&&(Z.searchUserAccess="groupMember",Z.searchUserName=N.currentUsername),N.designationFilter!==a.b.orgSettings||B(I)?new d.Promise(function(T,X){Object(C.g)(H,I,Z).then(T,X)}):new d.Promise(function(T){T({query:Z.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},t=function(F){var G=F.user;F=F.state;F=Object(r.b)(F)?F:F.gbState;var H=F.utils,I=H.request,N=H.portal;F=Object(u.a)(Object(u.a)({},F),{parameters:Object(u.a)(Object(u.a)({},
F.parameters),{filter:Object(u.a)(Object(u.a)({},F.parameters.filter),{currentUsername:G.username})})});var M={q:y(F),num:100,searchUserAccess:"groupMember",searchUserName:G.username};return(new d.Promise(function(J,R){return Object(C.g)(I,N,M).then(function(Z){if(-1!==Z.nextStart){var T=Math.ceil(Z.total/100)-1,X=[Z.results];Z=function(fa){X.push(new d.Promise(function(oa,ua){var ha=100*(fa+1)+1;Object(C.g)(I,N,Object(u.a)(Object(u.a)({},M),{start:ha})).then(function(U){oa(U.results)},ua)}))};for(var aa=
0;aa<T;aa++)Z(aa);d.Promise.all(X).then(function(fa){J(Object(e.b)(fa))})}else J(Z.results)},R)}))["catch"](function(J){throw J;})},v=function(F){var G,H=F.shareMode,I=F.currentUsername,N=F.portalUser;F=F.userGroups;var M=[];switch(F&&F.forEach(function(J){var R,Z=null===(R=J.userMembership)||void 0===R?void 0:R.memberType;!J.isViewOnly||"owner"!==Z&&"admin"!==Z||M.push(J.id)}),M.length&&(G="(isviewonly:false OR "+M.join(" OR ")+")"),H){case b.d.DEFAULT:return G||"(owner:"+I+" OR isviewonly:false)";
case b.d.GROUP:return"owner:"+I+" -capabilities:updateitemcontrol";case b.d.ADMIN:return N.username===I?"(isviewonly:false OR owner:"+N.username+") -capabilities:updateitemcontrol":"(owner:"+I+" OR isviewonly:false)";default:return""}},A=function(F,G){0!==(null==F?void 0:F.indexOf("id:"))||-1<G.indexOf(F)||G.push(F)},B=function(F){var G,H,I,N,M,J=[],R=[F.featuredItemsGroupQuery,F.basemapGalleryGroupQuery,F.templatesGroupQuery,F["2DStylesGroupQuery"],F.stylesGroupQuery,F.analysisLayersGroupQuery,F.galleryTemplatesGroupQuery];
if(F.hasModernHomePageEnabled){var Z=(null===(H=null===(G=F.homePageConfig)||void 0===G?void 0:G.content)||void 0===H?void 0:H.filter(function(T){return"gallery"===T.type&&!!T.groupId}))||[];0<Z.length&&Z.forEach(function(T){A("id:"+T.groupId,J)})}else R.push(F.homePageFeaturedContent);return R.forEach(function(T){A(T,J)}),null===(I=F.featuredGroups)||void 0===I||I.forEach(function(T){(T=T.id)&&A("id:"+T,J)}),null===(M=null===(N=F.userDefaults)||void 0===N?void 0:N.groups)||void 0===M||M.forEach(function(T){A("id:"+
T,J)}),0<J.length?"("+J.join(" OR ")+")":""},x=function(F){var G=F.portal;switch(F.designationFilter){case a.b.openData:return"isopendata:true";case a.b.updateGroups:return"capabilities:updateitemcontrol";case a.b.distributed:return"capabilities:distributed";case a.b.administrative:return"isleavingdisallowed:true";case a.b.orgSettings:return B(G)||"";default:return""}},D=function(F){var G=F.portal,H=F.username,I=F.currentUsername,N=F.userType,M=F.withinAppConfig;H=F.shareMode===b.d.ADMIN&&I||H;M=
G.isPortal&&M?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(F.ownerFilter){case a.d.itemOwner:return"owner:"+H+" "+M;case a.d.inOrg:return"-owner:"+H+" orgid:"+G.id+" "+M;case a.d.outsideOrg:return N===b.e.PUBLIC?"-owner:"+H+" "+M:"(orgid: [0 TO \\{]) -orgid:"+G.id+" "+M;default:return M}},E=function(F){return F?"created: ["+(G=F).start+" TO "+G.end+"]":"";var G},y=function(F){var G=F.utils,H=G.portal;G=G.portalUser;var I=F.config,N=I.shareMode,M=I.userType,J=
I.withinAppConfig,R=I.hasIndoorsSpaces;F=F.parameters.filter;var Z=F.designationFilter,T=F.membershipFilter,X=F.dateCreatedFilter,aa=F.currentUsername,fa=F.ownerFilter;return[I.baseQ+" "+F.searchString,v({shareMode:N,currentUsername:aa,portalUser:G,userGroups:I.userGroups}),R?"-capabilities:distributed":x({designationFilter:Z,portal:H}),R?"membershipaccess:org":T?"anyOrg"===T?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+T:"",E(X),D({ownerFilter:fa,portal:H,username:G.username,
currentUsername:aa,shareMode:N,userType:M,withinAppConfig:J})].filter(function(oa){return oa}).join(" ").trim()}},16:function(f,g){f.exports=O},163:function(f,g,k){function u(){z("gb__select-all-input")}function w(){z("gb__clear-selection-btn")}function C(){setTimeout(function(){var r=document.querySelector(".gcard-gcc__container");r&&(r=r.querySelector(".btn-2018check__input"))&&r.focus()},50)}function z(r){setTimeout(function(){var l=document.querySelector("#"+r);l&&l.focus()},50)}k.d(g,"c",function(){return u});
k.d(g,"a",function(){return w});k.d(g,"b",function(){return C})},170:function(f,g){var k=function(){return this}();try{k=k||(new Function("return this"))()}catch(u){"object"==typeof window&&(k=window)}f.exports=k},175:function(f,g,k){var u;k.d(g,"a",function(){return u});(u||(u={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(f,g,k){k.d(g,"a",function(){return A});var u=k(0),w=k(54),C=k(144),z=k(159),r=k(313),l=k(314),d=k(186),e=k(30),a=k(28),b=k(25),c=k(61),m=k(68),t=k(192),v=k(58),A=
function(x){return function(D,E){var y=E(),F=(Object(w.b)(y)?y:y.gbState).utils,G=F.portal;F=F.portalUser;if(!(x&&x.selectorItems&&0<x.selectorItems.length))return D(z.b),a.Promise.resolve();var H=x.selectorItems,I=x.userType;D({type:b.a.SET_SHARE_MODE,payload:x.shareMode});D({type:b.a.SET_USER_TYPE,payload:I});D(Object(C.f)(H));G=Object(v.b)({user:F,items:H,portal:G});var N=F.username===G.username?[F]:[F,G];return 1<N.length&&!x.anySelectorItemsPrivate&&D({type:b.a.ENABLE_USER_TOGGLE}),D(Object(d.c)(N)),
D(Object(d.h)(G.username)),void 0===y.config.hasTrustedOrgs&&D(r.a),Object(l.a)(E()).then(function(M){return M&&D({type:t.a.USER_DETAILS_LOADED,payload:M.groups}),D(z.b),a.Promise.all(N.map(function(J){return Object(z.a)({user:J,state:E()})})).then(function(J){J=Object(c.b)(J);var R=J.map(function(Z){return Z.id});J=J.filter(function(Z,T){return R.indexOf(Z.id)===T});return D(B(J))})})}},B=function(x){return function(D,E){return new a.Promise(function(y,F){var G=E();G=Object(w.b)(G)?G:G.gbState;var H=
G.utils,I=H.portal,N=H.request,M=Object(e.b)(G.groups.selectorItems);G=Object(e.a)(x).map(function(J){return Object(e.i)({itemIds:M,groupIds:Object(e.b)(J),portal:I,request:N})});a.Promise.all(G).then(function(J){var R=J.reduce(function(T,X){return Object(u.a)(Object(u.a)({},T),X)},{}),Z=Object.keys(R);J=x.filter(function(T){return 0<=Z.indexOf(T.id)}).map(function(T){return{group:T,selectedByIds:R[T.id].items.map(function(X){return X.itemId})}});D({type:m.a.SET_HAS_GROUPS,payload:0<x.length});D(Object(C.e)(J));
y()})["catch"](F)})}}},181:function(f,g,k){k.d(g,"b",function(){return z});k.d(g,"c",function(){return r});k.d(g,"a",function(){return l});var u=k(63);f=k(5);var w=k(99),C=k(128),z=function(d,e){return Object(u.a)(Object(C.b)(d))(e)},r=Object(u.a)(Object(f.e)("thumbURI")),l=function(d){var e=d.initialSelectedByIds;return!Object(w.a)(d.selectedBy.map(function(a){return a.id}),e)}},186:function(f,g,k){k.d(g,"b",function(){return w});k.d(g,"g",function(){return C});k.d(g,"h",function(){return z});k.d(g,
"e",function(){return r});k.d(g,"f",function(){return l});k.d(g,"d",function(){return d});k.d(g,"c",function(){return e});k.d(g,"a",function(){return a});var u=k(83),w=function(b){return{type:u.a.SET_SEARCH_STRING,payload:b}},C=function(b){return{type:u.a.UPDATE_OWNER_FILTER,payload:b}},z=function(b){return{type:u.a.UPDATE_USERNAME_FILTER,payload:b}},r=function(b){return{type:u.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:b}},l=function(b){return{type:u.a.UPDATE_MEMBERSHIP_FILTER,payload:b}},d=function(b){return{type:u.a.UPDATE_CREATED_ON_FILTER,
payload:{section:b.section,created:b.created}}},e=function(b){return{type:u.a.SET_USERS,payload:b}},a=function(b){return{type:u.a.CLEAR_FILTERS,payload:b}}},189:function(f,g){function k(){throw Error("setTimeout has not been defined");}function u(){throw Error("clearTimeout has not been defined");}function w(v){if(e===setTimeout)return setTimeout(v,0);if((e===k||!e)&&setTimeout)return e=setTimeout,setTimeout(v,0);try{return e(v,0)}catch(A){try{return e.call(null,v,0)}catch(B){return e.call(this,v,
0)}}}function C(){m&&b&&(m=!1,b.length?c=b.concat(c):t=-1,c.length&&z())}function z(){if(!m){var v=w(C);m=!0;for(var A=c.length;A;){b=c;for(c=[];++t<A;)b&&b[t].run();t=-1;A=c.length}b=null;m=!1;(function(B){if(a===clearTimeout)return clearTimeout(B);if((a===u||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(B);try{a(B)}catch(x){try{return a.call(null,B)}catch(D){return a.call(this,B)}}})(v)}}function r(v,A){this.fun=v;this.array=A}function l(){}var d=f.exports={};try{var e="function"==typeof setTimeout?
setTimeout:k}catch(v){e=k}try{var a="function"==typeof clearTimeout?clearTimeout:u}catch(v){a=u}!0;var b,c=[],m=!1,t=-1;d.nextTick=function(v){var A=Array(arguments.length-1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)A[B-1]=arguments[B];c.push(new r(v,A));1!==c.length||m||w(z)};r.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions={};d.on=l;d.addListener=l;d.once=l;d.off=l;d.removeListener=l;d.removeAllListeners=
l;d.emit=l;d.prependListener=l;d.prependOnceListener=l;d.listeners=function(v){return[]};d.binding=function(v){throw Error("process.binding is not supported");};d.cwd=function(){return"/"};d.chdir=function(v){throw Error("process.chdir is not supported");};d.umask=function(){return 0}},192:function(f,g,k){var u;k.d(g,"a",function(){return u});(u||(u={})).USER_DETAILS_LOADED="USER_LOADED"},194:function(f,g,k){function u(a){return"Feature Service"===a.type&&-1<a.typeKeywords.indexOf("Hosted Service")}
function w(a){return a.filter(function(b){return b.access!==l.b["public"]&&u(b)})}function C(a){var b=a.request;a=a.items.map(function(c){return function(m,t){return new z.Promise(function(v){u(m)?Object(r.v)(t,m.url+"/layers").then(function(A){A=A.layers;v((null==A?void 0:A.reduce(function(B,x){return B||x&&-1<x.capabilities.indexOf("Editing")},!1))&&m)},function(){return v(!1)}):v(!1)})}(c,b)});return z.Promise.all(a).then(function(c){return c.filter(function(m){return m})})}k.d(g,"d",function(){return d});
k.d(g,"c",function(){return u});k.d(g,"b",function(){return w});k.d(g,"a",function(){return C});var z=k(28),r=k(30),l=k(26),d=function(a){var b=a.groupDatas;return a.items.filter(function(c){c=c.access?c.access:c.sharing&&c.sharing.access;return c===l.b["private"]||c===l.b.shared}).reduce(function(c,m){return c||e({item:m,groupDatas:b})},!1)},e=function(a){var b=a.item;return a.groupDatas.reduce(function(c,m){return c||!!m.selectedByIds&&0<=m.selectedByIds.indexOf(b.id)},!1)}},204:function(f,g,k){var u;
k.d(g,"a",function(){return u});(function(w){w.SET_PAGE="SET_PAGE";w.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";w.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(u||(u={}))},205:function(f,g){f.exports=q},207:function(f,g,k){k.d(g,"b",function(){return C});var u=k(0),w=k(25),C={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};g.a=function(z,r){switch(void 0===z&&(z=C),r.type){case w.a.ENABLE_USER_TOGGLE:return Object(u.a)(Object(u.a)({},
z),{enableUserToggle:!0});case w.a.SET_SHARE_MODE:return Object(u.a)(Object(u.a)({},z),{shareMode:r.payload});case w.a.SET_USER_TYPE:return Object(u.a)(Object(u.a)({},z),{userType:r.payload});case w.a.TRUSTED_ORGS_LOADED:return Object(u.a)(Object(u.a)({},z),{hasTrustedOrgs:0<r.payload.length});case w.a.USER_DETAILS_LOADED:return Object(u.a)(Object(u.a)({},z),{userGroups:r.payload});case w.a.SET_SELECTOR_ITEMS:var l=!!r.payload.find(function(d){var e;return-1<(null===(e=null==d?void 0:d.typeKeywords)||
void 0===e?void 0:e.indexOf("EditExtensionIndoorsSpaces"))});return Object(u.a)(Object(u.a)({},z),{hasIndoorsSpaces:l});default:return z}}},208:function(f,g,k){k.d(g,"b",function(){return w});f=k(16);var u=k(209);k=k(38);var w={sort:u.b,filter:k.f};g.a=Object(f.combineReducers)({sort:u.a,filter:k.e})},209:function(f,g,k){k.d(g,"b",function(){return C});var u=k(0),w=k(25),C={field:"title",order:"asc"},z={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};
g.a=function(r,l){switch(void 0===r&&(r=C),l.type){case w.a.CHANGE_SORT_FIELD:return Object(u.a)(Object(u.a)({},r),{field:l.payload,order:z[l.payload]});case w.a.CHANGE_SORT_ORDER:return Object(u.a)(Object(u.a)({},r),{order:l.payload});default:return r}}},210:function(f,g,k){k.d(g,"b",function(){return z});f=k(16);var u=k(211),w=k(212),C=k(213);k=k(214);var z={page:u.b,sort:w.b,focus:C.b,filter:k.b};g.a=Object(f.combineReducers)({page:u.a,sort:w.a,focus:C.a,filter:k.a})},211:function(f,g,k){k.d(g,
"b",function(){return C});var u=k(0),w=k(25),C={currentPageNumber:1};g.a=function(z,r){switch(void 0===z&&(z=C),r.type){case w.a.CLEAR_FILTERS:case w.a.UPDATE_USERNAME_FILTER:case w.a.UPDATE_OWNER_FILTER:case w.a.UPDATE_CREATED_ON_FILTER:case w.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(u.a)(Object(u.a)({},z),{currentPageNumber:1});case w.a.SET_PAGE:return Object(u.a)(Object(u.a)({},z),{currentPageNumber:r.payload});case w.a.LOAD_GROUPS_SUCCESS:return Object(u.a)(Object(u.a)({},z),{currentPageNumber:r.payload.num>
r.payload.total?1:Math.ceil(r.payload.start/r.payload.num)});case w.a.LOAD_GROUPS_FAIL:return Object(u.a)(Object(u.a)({},z),{currentPageNumber:1});default:return z}}},212:function(f,g,k){k.d(g,"b",function(){return w});var u=k(25),w=!1;g.a=function(C,z){switch(void 0===C&&(C=w),z.type){case u.a.CHANGE_SORT_FIELD:case u.a.CHANGE_SORT_ORDER:case u.a.TOGGLE_SORT_DROPDOWN:return!C;default:return C}}},213:function(f,g,k){k.d(g,"b",function(){return C});var u=k(0),w=k(25),C={focusSelectAll:!1};g.a=function(z,
r){switch(r.type){case w.a.LOAD_GROUPS_FAIL:case w.a.LOAD_GROUPS_SUCCESS:return Object(u.a)(Object(u.a)({},z),{focusSelectAll:!1});case w.a.CHANGE_SORT_FIELD:case w.a.CHANGE_SORT_ORDER:return Object(u.a)(Object(u.a)({},z),{focusSelectAll:!0});default:return z}}},214:function(f,g,k){k.d(g,"b",function(){return z});var u=k(0),w=k(25),C=k(38),z={expanded:!1};g.a=function(r,l){switch(l.type){case w.a.CLEAR_FILTERS:switch(l.payload){case void 0:case C.a.DATE_CREATED:return Object(u.a)(Object(u.a)({},r),
{dateCreatedSelectedSection:void 0});default:return r}case w.a.TOGGLE_EXPANDED_FILTERS:return Object(u.a)(Object(u.a)({},r),{expanded:!r.expanded});case w.a.UPDATE_CREATED_ON_FILTER:return Object(u.a)(Object(u.a)({},r),{dateCreatedSelectedSection:l.payload.section});default:return r}}},215:function(f,g,k){k.d(g,"b",function(){return w});var u=k(101),w={portal:{},portalUser:{},request:function(C){return null}};g.a=function(C,z){return void 0===C&&(C=w),z.type,C.portal.portalHostname&&!C.portal.baseUrl&&
(C.portal.baseUrl=Object(u.a)(C.portal)),C}},249:function(f,g,k){var u=k(128);g.a=function(w,C){var z=w.group,r=w.stacked,l=w.portal;r={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!z.thumbURI,"gcard-thumbnail--stacked":void 0!==r&&r,"gcard-thumbnail--transparent":w.transparent};if(z.thumbnail&&!z.thumbURI&&l&&(z.thumbURI=Object(u.a)(l,z)),z.thumbURI)return C("img",{src:z.thumbURI,classes:r,alt:z.title});l=!(!z.title.charAt(0)||!z.title.charAt(0).match(/^\w+$/));return C("div",
{key:"group-thumbnail-"+z.id,classes:r},C("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},C("path",{fill:"#"+z.id.substr(z.id.length-6),d:"M0 0h65v65H0z"}),C("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),l?C("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},z.title.slice(0,1).toUpperCase()):C("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(f,g,k){k.d(g,"a",function(){return r});var u;f=k(0);g=k(204);var w=k(68),C=k(175),z=k(83);k=k(192);!function(l){l.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";l.SET_SHARE_MODE="SET_SHARE_MODE";l.SET_USER_TYPE="SET_USER_TYPE"}(u||(u={}));var r=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},g.a),w.a),z.a),u),C.a),k.a)},258:function(f,g){f.exports=p},26:function(f,g,k){var u,w,C,z,r;k.d(g,"b",function(){return u});k.d(g,"a",function(){return w});k.d(g,"c",function(){return C});
k.d(g,"e",function(){return z});k.d(g,"d",function(){return r});(function(l){l.org="org";l["private"]="private";l["public"]="public";l.shared="shared"})(u||(u={}));(function(l){l.LOADING="LOADING";l.SHARE="SHARE";l.GROUP_BROWSER="GROUP_BROWSER";l.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(w||(w={}));(function(l){l.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";l.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";l.REVERT_GROUPS="REVERT_GROUPS";l.EDITABLE_LAYERS="EDITABLE_LAYERS";l.OPEN_GROUP_BROWSER=
"OPEN_GROUP_BROWSER";l.NONE="NONE";l.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";l.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(C||(C={}));(function(l){l.ORG="ORG";l.PUBLIC="PUBLIC"})(z||(z={}));(function(l){l.DEFAULT="DEFAULT";l.ADMIN="ADMIN";l.GROUP="GROUP"})(r||(r={}))},28:function(f,g,k){(function(u,w){f.exports=function(){function C(){var ha=setTimeout;return function(){return ha(z,1)}}function z(){for(var ha=0;ha<D;ha+=2)(0,M[ha])(M[ha+1]),M[ha]=void 0,
M[ha+1]=void 0;D=0}function r(ha,U){var ka=this,W=new this.constructor(d);void 0===W[aa]&&B(W);var Q=ka._state;if(Q){var L=arguments[Q-1];F(function(){return A(Q,W,L,ka._result)})}else t(ka,W,ha,U);return W}function l(ha){if(ha&&"object"==typeof ha&&ha.constructor===this)return ha;var U=new this(d);return a(U,ha),U}function d(){}function e(ha,U,ka){U.constructor===ha.constructor&&ka===r&&U.constructor.resolve===l?function(W,Q){1===Q._state?c(W,Q._result):2===Q._state?m(W,Q._result):t(Q,void 0,function(L){return a(W,
L)},function(L){return m(W,L)})}(ha,U):void 0===ka?c(ha,U):"function"==typeof ka?function(W,Q,L){F(function(ca){var Y=!1,da=function(S,P,V,ba){try{S.call(P,V,ba)}catch(ea){return ea}}(L,Q,function(S){Y||(Y=!0,Q!==S?a(ca,S):c(ca,S))},function(S){Y||(Y=!0,m(ca,S))},ca._label);!Y&&da&&(Y=!0,m(ca,da))},W)}(ha,U,ka):c(ha,U)}function a(ha,U){if(ha===U)m(ha,new TypeError("You cannot resolve a promise with itself"));else if(W=typeof(ka=U),null===ka||"object"!==W&&"function"!==W)c(ha,U);else{ka=void 0;try{ka=
U.then}catch(Q){return void m(ha,Q)}e(ha,U,ka)}var ka,W}function b(ha){ha._onerror&&ha._onerror(ha._result);v(ha)}function c(ha,U){void 0===ha._state&&(ha._result=U,ha._state=1,0!==ha._subscribers.length&&F(v,ha))}function m(ha,U){void 0===ha._state&&(ha._state=2,ha._result=U,F(b,ha))}function t(ha,U,ka,W){var Q=ha._subscribers,L=Q.length;ha._onerror=null;Q[L]=U;Q[L+1]=ka;Q[L+2]=W;0===L&&ha._state&&F(v,ha)}function v(ha){var U=ha._subscribers,ka=ha._state;if(0!==U.length){for(var W=void 0,Q=void 0,
L=ha._result,ca=0;ca<U.length;ca+=3)W=U[ca],Q=U[ca+ka],W?A(ka,W,Q,L):Q(L);ha._subscribers.length=0}}function A(ha,U,ka,W){var Q="function"==typeof ka,L=void 0,ca=void 0,Y=!0;if(Q){try{L=ka(W)}catch(da){Y=!1,ca=da}if(U===L)return void m(U,new TypeError("A promises callback cannot return that same promise."))}else L=W;void 0!==U._state||(Q&&Y?a(U,L):!1===Y?m(U,ca):1===ha?c(U,L):2===ha&&m(U,L))}function B(ha){ha[aa]=fa++;ha._state=void 0;ha._result=void 0;ha._subscribers=[]}var x=Array.isArray?Array.isArray:
function(ha){return"[object Array]"===Object.prototype.toString.call(ha)},D=0,E=void 0,y=void 0,F=function(ha,U){M[D]=ha;M[D+1]=U;2===(D+=2)&&(y?y(z):X())},G="undefined"!=typeof window?window:void 0,H=G||{};H=H.MutationObserver||H.WebKitMutationObserver;var I="undefined"==typeof self&&void 0!==u&&"[object process]"==={}.toString.call(u),N="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,M=Array(1E3),J,R,Z,T,X=void 0;I?X=function(){return u.nextTick(z)}:
H?(R=0,Z=new H(z),T=document.createTextNode(""),Z.observe(T,{characterData:!0}),X=function(){T.data=R=++R%2}):N?((J=new MessageChannel).port1.onmessage=z,X=function(){return J.port2.postMessage(0)}):X=void 0===G?function(){try{var ha=Function("return this")().require("vertx");return void 0!==(E=ha.runOnLoop||ha.runOnContext)?function(){E(z)}:C()}catch(U){return C()}}():C();var aa=Math.random().toString(36).substring(2),fa=0,oa=function(){function ha(U,ka){this._instanceConstructor=U;this.promise=
new U(d);this.promise[aa]||B(this.promise);x(ka)?(this.length=ka.length,this._remaining=ka.length,this._result=Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(ka),0===this._remaining&&c(this.promise,this._result))):m(this.promise,Error("Array Methods must be provided an Array"))}return ha.prototype._enumerate=function(U){for(var ka=0;void 0===this._state&&ka<U.length;ka++)this._eachEntry(U[ka],ka)},ha.prototype._eachEntry=function(U,ka){var W=
this._instanceConstructor,Q=W.resolve;if(Q===l){var L=Q=void 0,ca=!1;try{Q=U.then}catch(Y){ca=!0,L=Y}Q===r&&void 0!==U._state?this._settledAt(U._state,ka,U._result):"function"!=typeof Q?(this._remaining--,this._result[ka]=U):W===ua?(W=new W(d),ca?m(W,L):e(W,U,Q),this._willSettleAt(W,ka)):this._willSettleAt(new W(function(Y){return Y(U)}),ka)}else this._willSettleAt(Q(U),ka)},ha.prototype._settledAt=function(U,ka,W){var Q=this.promise;void 0===Q._state&&(this._remaining--,2===U?m(Q,W):this._result[ka]=
W);0===this._remaining&&c(Q,this._result)},ha.prototype._willSettleAt=function(U,ka){var W=this;t(U,void 0,function(Q){return W._settledAt(1,ka,Q)},function(Q){return W._settledAt(2,ka,Q)})},ha}(),ua=function(){function ha(U){this[aa]=fa++;this._result=this._state=void 0;this._subscribers=[];if(d!==U){if("function"!=typeof U)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof ha)(function(ka,W){try{W(function(Q){a(ka,Q)},function(Q){m(ka,
Q)})}catch(Q){m(ka,Q)}})(this,U);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return ha.prototype["catch"]=function(U){return this.then(null,U)},ha.prototype["finally"]=function(U){var ka=this.constructor;return"function"==typeof U?this.then(function(W){return ka.resolve(U()).then(function(){return W})},function(W){return ka.resolve(U()).then(function(){throw W;})}):this.then(U,U)},ha}();return ua.prototype.then=
r,ua.all=function(ha){return(new oa(this,ha)).promise},ua.race=function(ha){var U=this;return x(ha)?new U(function(ka,W){for(var Q=ha.length,L=0;L<Q;L++)U.resolve(ha[L]).then(ka,W)}):new U(function(ka,W){return W(new TypeError("You must pass an array to race."))})},ua.resolve=l,ua.reject=function(ha){var U=new this(d);return m(U,ha),U},ua._setScheduler=function(ha){y=ha},ua._setAsap=function(ha){F=ha},ua._asap=F,ua.polyfill=function(){var ha=void 0;if(void 0!==w)ha=w;else if("undefined"!=typeof self)ha=
self;else try{ha=Function("return this")()}catch(W){throw Error("polyfill failed because global object is unavailable in this environment");}var U=ha.Promise;if(U){var ka=null;try{ka=Object.prototype.toString.call(U.resolve())}catch(W){}if("[object Promise]"===ka&&!U.cast)return}ha.Promise=ua},ua.Promise=ua,ua}()}).call(this,k(189),k(170))},291:function(f,g,k){var u=k(0);f=k(16);var w=k(634);k=function(C){function z(){return null!==C&&C.apply(this,arguments)||this}return Object(u.d)(z,C),z.prototype.render=
function(r){var l=this.props,d=l.items,e=l.text,a=l.title,b=l.portal;l=l.error;return 0<d.length&&r("div",{key:"need-update-list",classes:{"dependent-items":!0,"dependent-items--error":l}},r("h4",{"class":"dependent-items__title"},a.replace("${num}",d.length.toString())),e&&r("p",{"class":"dependent-items__count"},e),r("ul",{"class":"dependent-items__list"},d.map(function(c){return r(w.a,{key:c.id,item:c,portal:b})})))},z}(f.Component);g.a=k},294:function(f,g){f.exports=h},30:function(f,g,k){function u(M){return M.reduce(function(J,
R){return R&&R.relatedItems?J.concat(R.relatedItems.map(function(Z){return Z})):J},[])}function w(M,J,R){return M(J,{query:Object(r.a)({f:"json"},R)}).then(function(Z){return Z.data})}function C(M,J){void 0===J&&(J=100);for(var R=[],Z=0;Z<Math.ceil(M.length/J);Z++)R.push(M.slice(Z*J,(Z+1)*J));return R.filter(function(T){return 0<T.length})}function z(M){var J=M.itemIds,R=M.request,Z=M.groupIds,T=M.portal.restUrl+"/content/itemsgroups";return new l.Promise(function(X,aa){R(T,{method:"get",query:{f:"json",
items:J,groups:Z}}).then(function(fa){X(fa.data)},aa)})}k.d(g,"u",function(){return d});k.d(g,"n",function(){return e});k.d(g,"h",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});k.d(g,"j",function(){return m});k.d(g,"o",function(){return t});k.d(g,"l",function(){return v});k.d(g,"k",function(){return A});k.d(g,"m",function(){return B});k.d(g,"c",function(){return x});k.d(g,"d",function(){return D});k.d(g,"r",function(){return E});k.d(g,"s",function(){return y});
k.d(g,"t",function(){return F});k.d(g,"g",function(){return G});k.d(g,"p",function(){return H});k.d(g,"q",function(){return I});k.d(g,"v",function(){return w});k.d(g,"a",function(){return C});k.d(g,"i",function(){return z});k.d(g,"b",function(){return N});var r=k(0),l=k(28),d=function(M){return function(J,R){return M({url:J,content:R.query},{usePost:"post"===R.method}).then(function(Z){return{data:Z}})}},e=function(M,J,R){return w(M,J.restUrl+"/portals/self",{culture:R,"default":!0})},a=function(M,
J,R){return w(M,J.restUrl+"/content/items/"+R+"/data")},b=function(M,J,R,Z){return w(M,J.restUrl+"/community/groups",Object(r.a)({q:R},Z))},c=function(M,J,R){return w(M,J.restUrl+"/community/groups/"+R+"/categorySchema")},m=function(M,J,R){return w(M,J.restUrl+"/portals/"+(R||J.id)+"/categorySchema")},t=function(M,J){return w(M,J.restUrl+"/portals/"+J.id+"/servers")},v=function(M,J,R,Z){return M(J.restUrl+"/portals/"+(R||J.id)+"/collaborationsSummary",Z)},A=function(M,J,R,Z){return M(J.restUrl+"/portals/"+
(R||J.id)+"/collaboratedItems",Z)},B=function(M,J,R){return w(M,location.protocol+"//"+J.portalHostname+"/sharing/rest/portals/"+(R||"self"))},x=function(M,J,R){return M(J.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+J.id+" AND access:public",num:100,start:R||1,sortField:"title",sortOrder:"asc"}}).then(function(Z){return Z.data.total>Z.data.start+Z.data.num?x(M,J,Z.data.start+Z.data.num).then(function(T){return Object(r.a)(Object(r.a)({},T),{data:Object(r.a)(Object(r.a)({},T.data),{results:Z.data.results.concat(T.data.results)})})}):
Z})},D=function(M,J,R,Z){return M(J.restUrl+"/community/users/"+R+"/provisionedListings",{query:{f:"json",num:100,start:Z||1}}).then(function(T){var X=l.Promise.all(T.data.provisionedListings.filter(function(fa){return fa.itemId}).map(function(fa){return(new l.Promise(function(oa,ua){M(J.restUrl+"/content/items/"+fa.itemId,{method:"get",query:{f:"json"}}).then(function(ha){oa(ha.data)},ua)}))["catch"](function(oa){return 0})})),aa=T.data.provisionedListings.map(function(fa){return w(M,J.restUrl+"/content/items/"+
(fa.id||fa.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(oa){return oa},function(oa){})});return T.data.total>T.data.start+T.data.num?D(M,J,R,T.data.start+T.data.num).then(function(fa){return l.Promise.all([X].concat(aa)).then(function(oa){return oa[0].results.concat(u(oa.slice(1))).concat(fa)})}):l.Promise.all([X].concat(aa)).then(function(fa){return fa[0].filter(function(oa){return void 0!==oa}).concat(u(fa.slice(1)))})})},E=function(M,
J,R){return w(M,J.restUrl+"/community/users/"+(R||J.user.username))},y=function(M,J,R){return w(M,J.restUrl+"/content/users/"+(R||J.user.username),{num:1})},F=function(M,J,R){return w(M,J.restUrl+"/content/groups/"+R)},G=function(M,J,R){return w(M,J.restUrl+"/community/groups",R)},H=function(M,J){return w(M,J.restUrl+"/portals/self/settings")},I=function(M,J){return w(M,J.restUrl+"/portals/self/trustedOrgs",{num:100})},N=function(M,J){return void 0===J&&(J=","),M.map(function(R){return R.id}).join(J)}},
312:function(f,g,k){function u(z){return C[z.vnodeSelector]&&(!z.properties||!z.properties.disabled&&-1!==z.properties.tabindex)||z.properties&&z.properties.tabindex&&-1<parseInt(z.properties.tabindex,10)}var w=k(0),C={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};f=function(z){function r(l){l=z.call(this,l)||this;return l.registerFirstFocusable=l.registerFirstFocusable.bind(l),l.registerLastFocusable=l.registerLastFocusable.bind(l),l.handleFocusChange=l.handleFocusChange.bind(l),
l}return Object(w.d)(r,z),r.prototype.render=function(){var l=this.findFirstFocusable(this.props.children),d=this.findLastFocusable(this.props.children);return l&&d&&(l.properties?l.properties.afterCreate=this.registerFirstFocusable:l.properties={afterCreate:this.registerFirstFocusable},d.properties?d.properties.afterCreate=this.registerLastFocusable:d.properties={afterCreate:this.registerLastFocusable}),this.props.children},r.prototype.findFirstFocusable=function(l){if(l)for(var d=0;d<l.length;d++){var e=
l[d];if(u(e)||e.children&&(e=this.findFirstFocusable(e.children)))return e}},r.prototype.findLastFocusable=function(l){if(l)for(var d=l.length-1;0<=d;d--){var e=l[d];if(u(e)||e.children&&(e=this.findLastFocusable(e.children)))return e}},r.prototype.registerFirstFocusable=function(l){this.firstFocusableElement&&this.firstFocusableElement!==l&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange);l.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=
l;setTimeout(function(){l&&l.focus()},10)},r.prototype.registerLastFocusable=function(l){this.lastFocusableElement&&this.lastFocusableElement!==l&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=l;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},r.prototype.handleFocusChange=function(l){"Tab"!==l.key&&9!==l.keyCode||(l.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),
l.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),l.preventDefault()))},r}(k(16).Component);g.a=f},313:function(f,g,k){k.d(g,"a",function(){return z});var u=k(30),w=k(54),C=k(175),z=function(r,l){var d=l();d=(Object(w.b)(d)?d:d.gbState).utils;Object(u.q)(d.request,d.portal).then(function(e){var a;e=(null===(a=null==e?void 0:e.trustedOrgs)||void 0===a?void 0:a.filter(function(b){return-1<b.from.established&&-1<b.to.established}))||
[];r({type:C.a.TRUSTED_ORGS_LOADED,payload:e})},function(){r({type:C.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(f,g,k){k.d(g,"a",function(){return z});var u=k(30),w=k(54),C=k(28),z=function(r){r=(Object(w.b)(r)?r:r.gbState).utils;var l=r.request,d=r.portal,e=r.portalUser;return new C.Promise(function(a,b){Object(u.r)(l,d,e.username).then(function(c){a(c)},function(){a()})})}},320:function(f,g,k){var u=k(0),w=k(36),C=k(39);f=k(16);var z=k(90);k=function(r){function l(){return null!==r&&r.apply(this,
arguments)||this}return Object(u.d)(l,r),l.prototype.render=function(d){var e=this.props,a=e.onCancel,b=e.title,c=e.onBack;return d("div",{"class":"share-dlg__container-header",key:"share-view-header"},d("h2",{key:"share-view-header-title",id:"modal-title","class":"share-dlg__title"},e.back?d("button",{key:"share-dlg-header-back","class":"share-dlg__back",onclick:c,"aria-label":C.backToShare},d("svg",{viewbox:"0 0 24 24",role:"img"},d("path",{d:z.b})),b):b),d("button",{"class":"mod__overlay__close",
"aria-label":w.close,onclick:a},d("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24",fill:"currentColor"},d("path",{d:z.k}))))},l}(f.Component);g.a=k},335:function(f,g,k){k.d(g,"b",function(){return e});k.d(g,"a",function(){return D});var u=k(0),w=k(28),C=k(30),z=k(78),r=k(61),l=k(194),d=k(26),e=function(F){if(F.depth&&4<F.depth)return w.Promise.resolve([]);switch(F.depth=F.depth?F.depth+1:1,F.item.type){case "Web Map":case "Web Scene":return A(F);case "Web Mapping Application":return b(F);
case "Big Data File Share":return c(F);case "Data Store":return m(F);default:return w.Promise.resolve([])}},a=function(F){var G=F.item,H=F.request,I=F.portal,N=F.iconDir;return G.itemId?new w.Promise(function(M){Object(C.v)(H,I.restUrl+"/content/items/"+G.itemId).then(function(J){0<Object(l.b)([J]).length?Object(l.a)({items:[J],request:H}).then(function(R){J.isUpdateLayer=0<R.length;M(Object(z.a)(I,N,J))},function(){return M(Object(z.a)(I,N,J))}):M(Object(z.a)(I,N,J))},function(){return M(null)})}):
w.Promise.resolve(null)},b=function(F){var G=F.item,H=F.request,I=F.portal,N=F.iconDir;return new w.Promise(function(M){Object(C.v)(H,I.restUrl+"/content/items/"+G.id+"/data").then(function(J){J||M([]);var R=function(Z){var T,X,aa,fa,oa,ua,ha,U,ka,W,Q=(null===(T=null==Z?void 0:Z.map)||void 0===T?0:T.itemId)?[Z.map.itemId]:[];T=null!==(fa=null===(aa=null===(X=Z.values)||void 0===X?void 0:X.itemCollection)||void 0===aa?void 0:aa.map(function(L){return L.id}))&&void 0!==fa?fa:[];X=null!==(ha=null===
(ua=null===(oa=Z.values)||void 0===oa?void 0:oa.webmap)||void 0===ua?void 0:ua.split(","))&&void 0!==ha?ha:[];Z=null!==(W=null===(ka=null===(U=Z.values)||void 0===U?void 0:U.webscene)||void 0===ka?void 0:ka.split(","))&&void 0!==W?W:[];return Object(u.g)(Object(u.g)(Object(u.g)(Object(u.g)([],Q),T),X),Z)}(J).map(function(Z){return a({item:{itemId:Z},request:H,portal:I,iconDir:N})});w.Promise.all(R).then(function(Z){var T=Z.filter(function(X){return X});Z=T.map(function(X){return e({item:X,request:H,
portal:I,iconDir:N})});w.Promise.all(Z).then(function(X){var aa;X=Object(u.g)(Object(u.g)([],T),Object(r.b)(X));(null===(aa=J.values)||void 0===aa?0:aa.group)&&(G.itemData=J,X.push(G));M(X)})})})})},c=function(F){var G=F.item,H=F.request,I=F.portal,N=F.iconDir;return new w.Promise(function(M){Object(C.v)(H,I.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"BDFSDataStore2BDFSCatalogService",direction:"reverse"}).then(function(J){if(-1<J.relatedItems[0].typeKeywords.indexOf("bigDataFileShare")&&
-1<J.relatedItems[0].typeKeywords.indexOf("dataStore"))Object(C.v)(H,I.restUrl+"/content/items/"+J.relatedItems[0].id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(Z){Z.relatedItems.push(J.relatedItems[0]);Z=t(Z.relatedItems,H,I,N);w.Promise.all(Z).then(function(T){M(T)})});else{var R=t(J.relatedItems,H,I,N);w.Promise.all(R).then(function(Z){M(Z)})}})})},m=function(F){var G=F.item,H=F.request,I=F.portal,N=F.iconDir;return new w.Promise(function(M){Object(C.v)(H,
I.restUrl+"/content/items/"+G.id+"/relatedItems",{relationshipType:"CloudDataStore2BDFSDataStore",direction:"reverse"}).then(function(J){J=t(J.relatedItems,H,I,N);w.Promise.all(J).then(function(R){M(R)})})})},t=function(F,G,H,I){return F.map(function(N){return v(N,G,H,I)})},v=function(F,G,H,I){return new w.Promise(function(N){Object(C.v)(G,H.restUrl+"/content/items/"+F.id).then(function(M){N(Object(z.a)(H,I,M))})})},A=function(F){var G=F.item,H=F.request,I=F.portal,N=F.iconDir;return new w.Promise(function(M){return function(J){var R=
J.portal,Z=J.item,T=J.request;return new w.Promise(function(X){if(Z.itemData){var aa=Z.itemData,fa=aa.operationalLayers,oa=aa.baseMap,ua=aa.tables;aa=aa.ground;return X(Object(u.g)(Object(u.g)(Object(u.g)(Object(u.g)([],(null==oa?void 0:oa.baseMapLayers)||[]),(null==aa?void 0:aa.layers)||[]),fa||[]),ua||[]))}return Object(C.v)(T,R.restUrl+"/content/items/"+Z.id+"/data").then(function(ha){var U=ha.baseMap,ka=ha.tables,W=ha.ground;return X(Object(u.g)(Object(u.g)(Object(u.g)(Object(u.g)([],ha.operationalLayers||
[]),(null==U?void 0:U.baseMapLayers)||[]),(null==W?void 0:W.layers)||[]),ka||[]))},function(){return X([])})})}({request:H,item:G,portal:I}).then(function(J){w.Promise.all(B(J).map(function(R){return a({item:R,request:H,portal:I,iconDir:N})})).then(M)})})},B=function(F){return F.reduce(function(G,H){return(null==H?0:H.itemId)?G.concat(H):(null==H?0:H.layers)&&"GroupLayer"===H.layerType?G.concat(H.layers):G},[])},x={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1,
bdfsDatastore:!1},D=function(F){var G=F.item,H=F.selectedOptions,I=F.selectedGroups,N=F.request;F=F.portal;return E({item:G,selectedOptions:H})?w.Promise.resolve(Object(u.a)(Object(u.a)({},x),{editable:!1,premium:!0})):y({item:G,selectedGroups:I,request:N,portal:F,selectedOptions:H}).then(function(M){var J=M.needsGroupSharingUpdate,R;if(!(R=M.needsShareLevelUpdate)){var Z,T=!0;Object(r.e)(H)&&(T=!1);R=Object(r.d)(H);R!==d.b["private"]&&R!==d.b.shared||(T=!1);var X=G.access||(null===(Z=G.sharing)||
void 0===Z?void 0:Z.access);R=(X===d.b["public"]&&(T=!1),X===R&&(T=!1),R===d.b["private"]&&(X===d.b.shared&&(T=!1),X===d.b.org&&(T=!1)),T)}return{needsGroupSharingUpdate:J,needsShareLevelUpdate:R,editable:M.editable,premium:!1,groupDependentApplication:M.groupDependentApplication,bdfsDatastore:M.bdfsDatastore}})},E=function(F){var G=F.selectedOptions;F=F.item;return Object(r.e)(G)?!1:Object(r.d)(G)===d.b["public"]?(G=F.typeKeywords,-1<F.owner.toLowerCase().indexOf("esri")&&(-1<(null==G?void 0:G.indexOf("Requires Credits"))||
-1<(null==G?void 0:G.indexOf("Requires Subscription")))):!1},y=function(F){var G=F.item,H=F.selectedGroups,I=F.selectedOptions,N=F.request,M=F.portal;return new w.Promise(function(J,R){var Z,T;"Web Mapping Application"===G.type&&(null===(T=null===(Z=G.itemData)||void 0===Z?void 0:Z.values)||void 0===T?0:T.group)?J(Object(u.a)(Object(u.a)({},x),{groupDependentApplication:!0})):"Data Store"!==G.type?Object(C.v)(N,M.restUrl+"/content/users/"+G.owner+(G.ownerFolder?"/"+G.ownerFolder:"")+"/items/"+(G.itemId||
G.id)).then(function(X){var aa,fa=X.item.itemControl,oa=X.sharing.groups;X=G.access||(null===(aa=G.sharing)||void 0===aa?void 0:aa.access);Object(r.f)(G)&&I.total===I["public"]?J(Object(u.a)(Object(u.a)({},x),{needsShareLevelUpdate:!0,editable:!1})):fa&&"admin"!==fa&&"update"!==fa?J(Object(u.a)(Object(u.a)({},x),{editable:!1})):X!==d.b["public"]?H.length>oa.length?J(Object(u.a)(Object(u.a)({},x),{needsGroupSharingUpdate:!0})):(aa=H.some(function(ua){return 0>oa.indexOf(ua.id)}),J(Object(u.a)(Object(u.a)({},
x),{needsGroupSharingUpdate:aa}))):J(Object(u.a)({},x))},function(X){Object(C.v)(N,M.restUrl+"/content/items/"+(G.itemId||G.id)).then(function(aa){aa=aa.access;aa===d.b["public"]||aa===d.b.org&&I.total===I.org+I["private"]?J(Object(u.a)(Object(u.a)({},x),{editable:!1})):J(Object(u.a)(Object(u.a)({},x),{needsShareLevelUpdate:!0,editable:!1}))},function(aa){J(Object(u.a)(Object(u.a)({},x),{needsShareLevelUpdate:!0,editable:!1}))})}):J(Object(u.a)(Object(u.a)({},x),{bdfsDatastore:!0}))})}},36:function(f,
g){f.exports=K},379:function(f,g,k){function u(z,r){var l=z.filter(function(d){var e;return!d.success&&500===(null===(e=null==d?void 0:d.error)||void 0===e?void 0:e.code)}).map(function(d){var e=Object(C.c)(r,function(a){return a.id===d.itemId});return(null==e?void 0:e.title)||d.itemId});return z.map(function(d){d.error=d.error||{};var e=d.error,a=e.messageCode;e=e.code;return a&&w.errors[a]&&(d.error.message=w.errors[a]),e&&w.errors[e]&&(d.error.message=w.errors[e]),(500===a||500===e&&l)&&(d.error.details=
l,d.error.message=w.errors[500]+" "+(null==l?void 0:l.join(", "))),d}).filter(function(d){return!d.success})}k.d(g,"a",function(){return u});var w=k(39),C=k(99)},38:function(f,g,k){k.d(g,"b",function(){return u});k.d(g,"d",function(){return C});k.d(g,"c",function(){return z});k.d(g,"a",function(){return r});k.d(g,"f",function(){return e});var u,w,C,z,r,l=k(0),d=k(25);!function(a){a.openData="openData";a.updateGroups="updateGroups";a.distributed="distributed";a.administrative="administrative";a.orgSettings=
"orgSettings"}(u||(u={}));(w||(w={})).owner="owner";(function(a){a.itemOwner="itemOwner";a.inOrg="inOrg";a.outsideOrg="outsideOrg"})(C||(C={}));(function(a){a.myOrg="org";a.partnered="collaboration";a.anyOrg="anyOrg"})(z||(z={}));(function(a){a.USER="USER";a.OWNER="OWNER";a.DESIGNATION="DESIGNATION";a.DATE_CREATED="DATE_CREATED";a.MEMBERSHIP="MEMBERSHIP"})(r||(r={}));var e={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};g.e=function(a,b){switch(void 0===a&&(a=e),b.type){case d.a.CLEAR_FILTERS:switch(b.payload){case r.DESIGNATION:return Object(l.a)(Object(l.a)({},
a),{designationFilter:void 0});case r.DATE_CREATED:return Object(l.a)(Object(l.a)({},a),{dateCreatedFilter:void 0});case r.OWNER:return Object(l.a)(Object(l.a)({},a),{ownerFilter:void 0});case r.USER:return a;case r.MEMBERSHIP:return Object(l.a)(Object(l.a)({},a),{membershipFilter:void 0});default:return Object(l.a)(Object(l.a)({},a),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case d.a.UPDATE_OWNER_FILTER:return Object(l.a)(Object(l.a)({},a),{ownerFilter:b.payload===
a.ownerFilter?void 0:b.payload});case d.a.UPDATE_USERNAME_FILTER:return Object(l.a)(Object(l.a)({},a),{currentUsername:b.payload});case d.a.UPDATE_CREATED_ON_FILTER:return Object(l.a)(Object(l.a)({},a),{dateCreatedFilter:b.payload.created});case d.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(l.a)(Object(l.a)({},a),{designationFilter:b.payload===a.designationFilter?void 0:b.payload});case d.a.UPDATE_MEMBERSHIP_FILTER:return Object(l.a)(Object(l.a)({},a),{membershipFilter:b.payload===a.membershipFilter?
void 0:b.payload});case d.a.SET_USERS:return Object(l.a)(Object(l.a)({},a),{allUsers:b.payload.reduce(function(c,m){var t;return Object(l.a)(Object(l.a)({},c),((t={})[m.username]=m,t))},{})});case d.a.SET_SEARCH_STRING:return Object(l.a)(Object(l.a)({},a),{searchString:b.payload});default:return a}}},39:function(f,g){f.exports=n},422:function(f,g,k){var u,w=k(0);f=k(39);var C=k(16),z=k(629),r=k(139),l=k(26);k=function(e){function a(){var b=null!==e&&e.apply(this,arguments)||this;return b.handleKeyUp=
function(c){"Escape"===c.key&&b.props.handleSecondaryClick()},b}return Object(w.d)(a,e),a.prototype.render=function(b){var c=this,m=this.props,t=m.handleSecondaryClick,v=m.handlePrimaryClick,A=m.text;if(m.dialogExists&&A)return b("div",{key:"share-mini-dlg__wrapper",afterCreate:function(){window.addEventListener("keyup",c.handleKeyUp)},afterRemoved:function(){window.removeEventListener("keyup",c.handleKeyUp)}},b(z.a,{key:"share-mini-dlg__component",isError:null==A?void 0:A.isError,render:function(){return b("div",
{key:"share-mini-dlg","class":"share-mini-dlg"},b("h2",{"class":"share-mini-dlg__title"},A.title),b("p",{"class":"share-mini-dlg__body"},A.body),b("div",{"class":"share-mini-dlg__buttons"},A.secondaryButton&&b("button",{appearance:"outline",onclick:t,id:"share-mini-dlg-secondary","class":"share-dlg__button--secondary share-mini-dlg__cancel-button"},A.secondaryButton),b("button",{onclick:v,id:"share-mini-dlg-primary","class":"share-dlg__button--primary share-mini-dlg__remove-button"},A.primaryButton)))}}))},
a}(C.Component);g.a=Object(C.connect)(function(e){e=e.resources.currentMiniDlg;return{text:d[e],dialogExists:e!==l.c.NONE}},function(e){return{handleSecondaryClick:function(){e(Object(r.k)(l.c.NONE));e(Object(r.j)(l.a.SHARE))},handlePrimaryClick:function(){e(r.h)}}})(k);var d=((u={})[l.c.OPEN_GROUP_BROWSER]={title:f.MiniDlg.changeShareLevelTitle,body:f.MiniDlg.changeShareLevelBody,primaryButton:f.update,secondaryButton:f.cancel},u[l.c.SET_SHARE_TO_PRIVATE]={title:f.MiniDlg.setShareToPrivateTitle,
body:f.MiniDlg.setShareToPrivateBody,primaryButton:f.update,secondaryButton:f.cancel},u[l.c.REVERT_SHARE_LEVEL]={title:f.MiniDlg.revertShareLevelTitle,body:f.MiniDlg.revertShareLevelBody,primaryButton:f.update,secondaryButton:f.cancel},u[l.c.REVERT_GROUPS]={title:f.MiniDlg.revertGroupsTitle,body:f.MiniDlg.revertGroupsBody,primaryButton:f.update,secondaryButton:f.cancel},u[l.c.EDITABLE_LAYERS]={title:f.MiniDlg.editableLayersTitle,body:f.MiniDlg.editableLayersBody,primaryButton:f.update,secondaryButton:f.cancel,
isError:!0},u[l.c.PUBLIC_DATA_COLLECTION_ENABLED]={title:f.MiniDlg.publicDataCollectionEnabledTitle,body:f.MiniDlg.publicDataCollectionEnabledBody,primaryButton:f.update,secondaryButton:f.cancel,isError:!0},u[l.c.PUBLIC_DATA_COLLECTION_DISABLED]={title:f.MiniDlg.publicDataCollectionDisabledTitle,body:f.MiniDlg.publicDataCollectionDisabledBody,primaryButton:f.ok,isError:!0},u)},440:function(f,g,k){k.d(g,"a",function(){return C});k.d(g,"b",function(){return z});f=k(495);g=k(496);var u=k(54),w=k(497);
k=k(16);u.a.ui.filter.expanded=860<window.innerWidth;var C={resources:f.b,utilities:g.b,gbState:u.a,config:w.b},z=Object(k.combineReducers)({resources:f.a,utilities:g.a,gbState:u.c,config:w.a})},495:function(f,g,k){function u(e){var a=Object(C.a)(Object(C.a)({},l),{total:e.length});return e.forEach(function(b){switch(b.access?b.access:b.sharing&&b.sharing.access){case r.b["public"]:a[r.b["public"]]++;break;case r.b.org:a[r.b.org]++;break;case r.b.shared:case r.b["private"]:a[r.b["private"]]++}}),
a}k.d(g,"b",function(){return d});var w,C=k(0),z=k(139),r=k(26),l=((w={total:0})[r.b["private"]]=0,w[r.b.org]=0,w[r.b["public"]]=0,w),d={items:[],portalUser:{},selectedOptions:Object(C.a)({},l),selectedOptionsDirty:!1,dependentItems:{needShareLevelUpdate:[],needGroupSharingUpdate:[],notEditable:[],premium:[],needEditableWarning:[],needPubliclyEditableWarning:[],needDataCollectionEnabled:[],needGroupDependentApplicationWarning:[],needBDFSDatastoreUpdate:[]},currentMiniDlg:r.c.NONE,isLoading:!1};g.a=
function(e,a){var b;switch(void 0===e&&(e=d),a.type){case z.a.SET_HELP_MAP:return Object(C.a)(Object(C.a)({},e),{helpMap:a.payload});case z.a.SET_SELECTED_SHARE_LEVEL:var c=e.selectedOptions.total,m=Object(C.a)(Object(C.a)(Object(C.a)({},l),((b={})[a.payload]=c,b)),{total:c}),t=u(e.items);b=!Object.keys(m).reduce(function(v,A){return v&&m[A]===t[A]},!0);return Object(C.a)(Object(C.a)({},e),{selectedOptions:m,selectedOptionsDirty:b});case z.a.SET_INITIAL_SHARE_LEVEL:return Object(C.a)(Object(C.a)({},
e),{selectedOptions:u(e.items),selectedOptionsDirty:!1});case z.a.SET_DEPENDENT_ITEMS:return Object(C.a)(Object(C.a)({},e),{dependentItems:a.payload});case z.a.SET_MINI_DIALOG:return Object(C.a)(Object(C.a)({},e),{currentMiniDlg:a.payload});default:return e}}},496:function(f,g,k){k.d(g,"b",function(){return u});var u={onCancel:function(){return null},onComplete:function(){return null},request:function(w){return null},portal:{},iconDir:""};g.a=function(w,C){return void 0===w&&(w=u),C.type,w}},497:function(f,
g,k){k.d(g,"b",function(){return C});var u=k(0),w=k(139);f=k(26);var C={groupsPerPage:10,currentView:f.a.LOADING,shareMode:f.d.DEFAULT,userType:f.e.ORG};g.a=function(z,r){switch(void 0===z&&(z=C),r.type){case w.a.SET_CURRENT_VIEW:return Object(u.a)(Object(u.a)({},z),{currentView:r.payload});case w.a.SET_SHARE_MODE:return Object(u.a)(Object(u.a)({},z),{shareMode:r.payload});case w.a.SET_USER_TYPE:return Object(u.a)(Object(u.a)({},z),{userType:r.payload});default:return z}}},5:function(f,g,k){function u(a){return 0===
Object.keys(a).length&&a.constructor===Object}function w(a){return null!=a}function C(a,b){return d.apply(null,arguments)}function z(a,b){return e.apply(null,arguments)}k.d(g,"b",function(){return u});k.d(g,"a",function(){return w});k.d(g,"e",function(){return l});k.d(g,"c",function(){return C});k.d(g,"d",function(){return z});var r=k(0);f=k(15);var l=Object(f.a)(function(a,b){var c=Object(r.a)({},b);return delete c[a],c}),d=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,m){return c[m]=
a(b[m],m,b),c},{})}),e=Object(f.a)(function(a,b){return Object.keys(b).reduce(function(c,m){return a(b[m],m,b)&&(c[m]=b[m]),c},{})})},51:function(f,g,k){function u(y){return!(!y.urlKey||!y.customBaseUrl)}function w(y){return y.role===m.admin||y.role===m.accountAdmin}function C(y){return Object(A.a)(y.roleId)&&0<(y.roleId||"").length}function z(y){return!C(y)||C(y)&&-1<(y.privileges||[]).indexOf("portal:admin:viewItems")}function r(y){return-1<(y.privileges||[]).indexOf("portal:user:shareToOrg")}function l(y){return-1<
(y.privileges||[]).indexOf("portal:user:shareToGroup")}function d(y){return-1<(y.privileges||[]).indexOf("portal:user:shareToPublic")}function e(y,F){return a(y)||b(y)||F.canSharePublic&&c(y)}function a(y){return-1<(y.privileges||[]).indexOf("portal:admin:shareToGroup")}function b(y){return-1<(y.privileges||[]).indexOf("portal:admin:shareToOrg")}function c(y){return-1<(y.privileges||[]).indexOf("portal:admin:shareToPublic")}k.d(g,"l",function(){return x});k.d(g,"h",function(){return D});k.d(g,"m",
function(){return E});k.d(g,"k",function(){return u});k.d(g,"i",function(){return w});k.d(g,"j",function(){return C});k.d(g,"g",function(){return z});k.d(g,"b",function(){return r});k.d(g,"a",function(){return l});k.d(g,"c",function(){return d});k.d(g,"d",function(){return a});k.d(g,"e",function(){return b});k.d(g,"f",function(){return c});var m,t=k(63),v=k(148),A=k(5),B=k(58);!function(y){y.user="org_user";y.accountUser="account_user";y.publisher="org_publisher";y.accountPublisher="account_publisher";
y.admin="org_admin";y.accountAdmin="account_admin";y.viewer="iAAAAAAAAAAAAAAA";y.dataEditor="iBBBBBBBBBBBBBBB"}(m||(m={}));var x=function(y){var F=y.items;return!!y.user.orgId&&F.every(function(G){return G.isOrgItem})},D=function(y){var F=y.items,G=y.user,H=y.portal;y=F[0];var I=Object(B.c)(y,G),N=C(G),M=e(G,H);if(N=Object(B.a)(y,G)&&-1<(G.privileges||[]).indexOf("portal:admin:updateItems")&&!N)N=!u(H)||l(G)||r(G)||H.canSharePublic&&d(G)||e(G,H);H=N;return!(y.portal.isPortal&&y.owner!==G.username&&
-1<y.owner.indexOf("esri_"))&&(I||H||x({items:F,user:G})&&M)},E=function(y,F){return Object(t.a)(Object(v.a)(y))(F)}},54:function(f,g,k){k.d(g,"b",function(){return z});k.d(g,"a",function(){return r});k.d(g,"c",function(){return l});f=k(16);g=k(215);var u=k(208),w=k(137),C=k(210);k=k(207);var z=function(d){return!d.gbState},r={config:k.b,parameters:u.b,groups:w.f,ui:C.b,utils:g.b},l=Object(f.combineReducers)({config:k.a,parameters:u.a,groups:w.b,ui:C.a,utils:g.a})},58:function(f,g,k){function u(d,
e){return(null==d?void 0:d.owner)===e.username}function w(d,e){var a;if(!(a=u(d,e)))if(Object(z.a)(d.isAdmin))a=!!d.isAdmin;else{a=d.owner;var b="admin"===d.itemControl;a=!(d.portal.isPortal&&!u(d,e)&&b&&-1<a.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(a))&&b}return a}function C(d,e){return w(d,e)||"update"===d.itemControl}k.d(g,"d",function(){return u});k.d(g,"c",function(){return w});k.d(g,"a",function(){return C});k.d(g,"b",function(){return l});var z=
k(5),r=k(51),l=function(d){var e=d.user,a=d.items;d=d.portal;return Object(r.l)({items:a,user:e})&&Object(r.h)({items:a,user:e,portal:d})&&Object(r.g)(e)&&a[0].itemOwner||e}},61:function(f,g,k){function u(D){var E=D.groupIds,y=D.shareLevelOptions,F=D.restUrl,G=D.request,H=D.unshare;return l.Promise.all(D.items.map(function(I,N){return new l.Promise(function(M,J){G(F+"/content/items/"+(I.itemId||I.id)+"/"+(H?"unshare":"share"),{method:"post",query:Object(z.a)({f:"json",groups:E,confirmItemControl:!0},
y||{})}).then(M,J)})}))["catch"](function(I){throw I;})}function w(D,E){return new l.Promise(function(y,F){var G,H=null===(G=D.helpMap)||void 0===G?void 0:G.m;H?y(H):E(D.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(I){var N;y(null===(N=I.data.helpMap)||void 0===N?void 0:N.m)},F)})}k.d(g,"h",function(){return e});k.d(g,"g",function(){return a});k.d(g,"b",function(){return b});k.d(g,"e",function(){return c});k.d(g,"d",function(){return m});k.d(g,"f",function(){return B});
k.d(g,"c",function(){return x});k.d(g,"a",function(){return w});var C,z=k(0),r=k(30),l=k(28);f=k(26);var d=k(58),e=function(D){var E=D.items,y=D.groups,F=D.restUrl,G=D.request,H=D.portalUser;if(0===E.length)return l.Promise.resolve();var I=Object(r.b)(y);return E.every(function(N){return Object(d.d)(N,H)})?new l.Promise(function(N,M){if(!y||0===y.length)return N();var J={f:"json",items:Object(r.b)(E),groups:I};G(F+"/content/users/"+H.username+"/unshareItems",{method:"post",query:J}).then(N,M)}):u({items:E,
groupIds:I,restUrl:F,request:G,unshare:!0})},a=function(D){var E=D.items,y=D.groups,F=D.restUrl,G=D.request,H=D.portalUser,I=D.selectedOptions;D=D.ignoreShareLevel;if(0===E.length)return l.Promise.resolve();if(!D&&!I)throw"Selected options must be provided unless share level is ignored.";var N=Object(r.b)(y),M=D?{}:t(I);return E.every(function(J){return Object(d.d)(J,H)})?new l.Promise(function(J,R){G(F+"/content/users/"+H.username+"/shareItems",{method:"post",query:Object(z.a)({f:"json",items:Object(r.b)(E),
groups:N,confirmItemControl:!0},M)}).then(function(Z){Z=Z.data;Z.results.every(function(T){return T.success})?J():R(Z)},R)}):u({items:E,groupIds:N,shareLevelOptions:M,restUrl:F,request:G})},b=function(D){return D.reduce(function(E,y){return Object(z.g)(Object(z.g)([],E),y)},[])},c=function(D){return 1<Object.keys(D).filter(function(E){return"total"!==E&&0<D[E]}).length},m=function(D){return Object.keys(D).filter(function(E){return"total"!==E}).reduce(function(E,y){return D[y]===D.total?y:E})},t=function(D){return c(D)?
{}:v[m(D)]},v=((C={})[f.b["public"]]={org:!1,everyone:!0},C[f.b.org]={org:!0,everyone:!1},C[f.b["private"]]={org:!1,everyone:!1},C[f.b.shared]={org:!1,everyone:!1},C),A="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),B=function(D){var E,y,F=D.typeKeywords,G=D.type;G=A.some(function(I){return-1<F.indexOf(I)})&&"Real Time Analytic"!==G&&"Big Data Analytic"!==
G;var H=!(null===(E=null==D?void 0:D.portal)||void 0===E?0:E.isPortal)&&"Image Service"===D.type&&-1<(null===(y=D.url)||void 0===y?void 0:y.indexOf("://iservices"))&&-1<D.url.indexOf("arcgis.com");D="Knowledge Graph"===D.type;return G||H||D},x=function(D,E,y){return y&&E["public"]===E.total?D.filter(function(F){return-1<F.typeKeywords.indexOf("DeveloperBasemap")}):[]}},623:function(f,g,k){k.d(g,"a",function(){return z});var u;f=k(624);g=k(631);var w=k(632),C=k(630);k=k(26);var z=((u={})[k.a.SHARE]=
f.a,u[k.a.LOADING]=C.a,u[k.a.GROUP_BROWSER]=g.a,u[k.a.DEPENDENT_ITEM_CONFIRMATION]=w.a,u)},624:function(f,g,k){var u=k(0),w=k(39);f=k(16);var C=k(320),z=k(625),r=k(139),l=k(422),d=k(26);k=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(a,e),a.prototype.render=function(b){var c=this.props,m=c.miniDialogOpen,t=c.onCancel,v=c.attemptToSaveShareState;return[b(C.a,{key:"share-dlg-header",onCancel:t,title:w.share}),b("div",{key:"share-view-content","class":"share-dlg__contents"},
b(z.a,{key:"share-dialog"}),b(l.a,{key:"share-mini-dlg"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"share-view-save",id:"share-modal-primary",disabled:m,onclick:function(){v()}},w.save),b("button",{"class":"share-dlg__button--secondary",key:"share-view-close",id:"share-modal-secondary",disabled:m,onclick:t},w.cancel))]},a}(f.Component);g.a=Object(f.connect)(function(e){return{miniDialogOpen:e.resources.currentMiniDlg!==
d.c.NONE,onCancel:e.utilities.onCancel}},function(e){return{attemptToSaveShareState:function(){e(r.d)}}})(k)},625:function(f,g,k){var u=k(0),w=k(39);f=k(16);var C=k(90),z=k(626),r=k(628),l=k(139);k=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}return Object(u.d)(e,d),e.prototype.render=function(a){var b=this.props,c=b.portal,m=b.resetShareLevel;b=b.selectedOptionsDirty;return a("div",{"class":"share-level__wrap",key:"share-level__wrap"},a("div",{"class":"share-dlg__header",
key:"share-dlg__header"},a("h3",{id:"share-options-title","class":"share-options__title"},w.ShareDialog.setSharingLevel),b&&a("button",{onclick:m,"class":"btn-svg share-options__reset share-dlg__btn-svg"},a("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},a("path",{d:C.g})),w.ShareOptions.revert)),a(z.a,{key:"share-options"}),a("hr",{"class":"share-dlg__divider"}),a(r.a,{key:"share-groups-section",portal:c}))},e}(f.Component);g.a=Object(f.connect)(function(d){return{portal:d.utilities.portal,
selectedOptionsDirty:d.resources.selectedOptionsDirty}},function(d){return{resetShareLevel:function(){d(l.e)}}})(k)},626:function(f,g,k){var u,w=k(0),C=k(39);f=k(16);var z=k(26),r=k(627),l=k(139),d=k(51),e=k(61);k=function(t){function v(){return null!==t&&t.apply(this,arguments)||this}return Object(w.d)(v,t),v.prototype.render=function(A){var B=this.props,x=B.handleOptionClick,D=B.selectedOptions,E=B.availableShareLevels,y=B.showOptions,F=B.userType,G=B.possibleShareLevels,H=B.items;return A("fieldset",
{"class":"share-options"},y&&G.map(function(I){var N=z.b[I];I=Object(e.f)(H[0])?C.ShareDialog.sharingLimitedItemDisclaimer:C.ShareDialog.cannotShareToLevelDisclaimer;return A(r.a,{key:N,level:N,handleLevelClick:function(){x(N)},disabledText:I,total:D.total,count:D[N],userType:F,disabled:-1===E.indexOf(N)})}),y&&E.length<G.length&&!Object(e.f)(H[0])&&A("p",{key:"share-options__disclaimer--limited","class":"share-options__disclaimer"},C.ShareDialog.sharingLimitedDisclaimer),!y&&A("p",{key:"share-options__disclaimer--none",
"class":"share-options__disclaimer"},C.ShareDialog.noShareDisclaimer))},v}(f.Component);g.a=Object(f.connect)(function(t){var v=t.resources,A=v.portalUser,B=v.items;v=v.selectedOptions;var x=t.config,D=x.userType,E={user:A,items:B,userType:D};x=x.shareMode!==z.d.GROUP;t=c({portal:t.utilities.portal,portalUser:A,selectedOptions:v,userType:D});return{selectedOptions:v,showOptions:x,userType:D,availableShareLevels:t.filter(function(y){return m[y](E)}),possibleShareLevels:t,items:B}},function(t){return{handleOptionClick:function(v){t(Object(l.f)(v))}}})(k);
var a=function(t,v){return v.every(function(A){return A.owner===t.username})},b=function(t,v){return v.every(function(A){return A.owner===t.username||A.portal.id===(null==t?void 0:t.orgId)})},c=function(t){var v=t.portal,A=t.portalUser,B=t.selectedOptions;return t.userType===z.e.PUBLIC?[z.b["private"],z.b["public"]]:v.canSharePublic||0!==B["public"]||Object(d.i)(A)?[z.b["private"],z.b.org,z.b["public"]]:[z.b["private"],z.b.org]},m=((u={})[z.b["private"]]=function(t){return!0},u[z.b.org]=function(t){var v=
t.user,A=t.items;if(t.userType===z.e.PUBLIC)return!1;t=a(v,A);var B=b(v,A);A=Object(d.i)(v)&&!Object(d.j)(v)&&b(v,A);return Object(d.b)(v)&&(t||A)||Object(d.e)(v)&&B},u[z.b["public"]]=function(t){var v=t.user,A=t.items;t=t.userType;if(1===A.length&&Object(e.f)(A[0]))return!1;var B=a(v,A);A=b(v,A);var x=Object(d.i)(v)&&!Object(d.j)(v)&&A;return t===z.e.PUBLIC||Object(d.c)(v)&&(B||x)||Object(d.f)(v)&&A},u)},627:function(f,g,k){var u,w,C=k(0),z=k(39);f=k(16);var r=k(90),l=k(26);k=function(b){function c(){return null!==
b&&b.apply(this,arguments)||this}return Object(C.d)(c,b),c.prototype.render=function(m){var t=this.props,v=t.level,A=t.count,B=t.total,x=t.handleLevelClick,D=t.disabled,E=t.disabledText,y=a[v],F=y.description;y=y.title;t.userType===l.e.PUBLIC&&v===l.b["public"]&&(F=z.ShareDialog.everyoneDescriptionPublic);t=A===B;var G=0<A&&!t,H=d(z.ShareOptions[v],A,B);A=d(z.ShareOptions.numItems,A,B);return m("label",{key:y,id:"share-level-"+v,classes:{"share-options__label":!0,"share-options__label--selected":t,
"share-options__label--indeterminate":G,"share-options__label--disabled":D},"aria-label":D&&E?E:void 0},m("input",{type:"radio",name:"sharing-type",key:y,"class":"share-options__input",checked:t,disabled:D,indeterminate:G,onclick:function(I){I.preventDefault();D||x()}}),m("svg",{style:"\n              width: 24px;\n              height: 24px;\n              fill: currentColor;\n            ",role:"img"},m("path",{d:e[v]})),m("span",{"class":"share-options__content"},m("h4",{"class":"share-options__header"},
y,G&&m("span",{"class":"share-options__indeterminate-text","aria-label":D?void 0:H},m("svg",{style:"\n                      width: 1rem;\n                      height: 1rem;\n                      margin: 0 0.25rem;\n                      display: inline-block;\n                      vertical-align: -0.25rem;\n                      fill: #959595;\n                    "},m("path",{d:r.d})),m("span",null,A))),m("p",{"class":"share-options__description"},F)))},c}(f.Component);g.a=k;var d=function(b,
c,m){return void 0===b&&(b=""),b.replace("${num}",""+c).replace("${total}",""+m)},e=((u={})[l.b["public"]]=r.c,u[l.b.org]=r.e,u[l.b["private"]]=r.h,u[l.b.shared]=r.h,u),a=((w={})[l.b["private"]]={title:z.ShareDialog.owner,description:z.ShareDialog.ownerDescription},w[l.b.shared]={title:z.ShareDialog.owner,description:z.ShareDialog.ownerDescription},w[l.b.org]={title:z.ShareDialog.organization,description:z.ShareDialog.organizationDescription},w[l.b["public"]]={title:z.ShareDialog.everyone,description:z.ShareDialog.everyoneDescription},
w)},628:function(f,g,k){var u=k(0),w=k(39);f=k(16);var C=k(249),z=k(90),r=k(139),l=k(51),d=k(181),e=k(68);k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Object(u.d)(b,a),b.prototype.render=function(c){var m=this.props,t=m.selectedGroupsDatas,v=m.portal,A=m.handleRemoveGroupsClick,B=m.handleRevertGroupsClick,x=m.handleEditGroupSharingClick,D=m.groupSharingMixed,E=m.hasGroups,y=m.groupsDirty,F=m.canShareItemToGroup;m=m.selectorItemsLength;return c("div",{"class":"share-groups"},
c("h3",{"class":"share-groups__header"},w.groups.setGroupSharing,F&&0<t.length&&!y&&c("button",{"class":"share-dlg__button--transparent btn-svg share-dlg__btn-svg",id:"share-groups__remove",onclick:A,"aria-haspopup":"true"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},c("path",{d:z.k})),w.groups.remove),y&&c("button",{onclick:B,"class":"btn-svg share-options__reset share-dlg__btn-svg"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",
height:"16",viewBox:"0 0 24 24"},c("path",{d:z.g})),w.ShareOptions.revert)),c("div",{"class":"share-groups__body"},0<t.length?this.getGroupIcons({needsWarning:D,groupDatas:t,portal:v,selectorItemsLength:m,tsx:c}):c("p",{"class":"share-groups__empty"},E?w.groups.noneYet:w.groups.noGroupsToShare),E&&F&&c("button",{onclick:x,id:"edit-group-sharing-button","class":"share-dlg__button--secondary btn-svg share-groups__edit share-dlg__btn-svg"},c("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",
height:"16",viewBox:"0 0 24 24"},c("path",{d:z.i})),w.groups.editGroupSharing)))},b.prototype.getGroupIcons=function(c){var m=c.groupDatas,t=c.portal,v=c.tsx,A=c.needsWarning,B=c.selectorItemsLength;c=Math.max(m.length-3,0);return v("div",null,v("div",{key:"group-thumbnails","class":"share-groups__thumbnails"},m.slice(0,3).map(function(x){return v(C.a,{transparent:x.selectedByIds&&x.selectedByIds.length!==B,group:x.group,stacked:!0,portal:t})}),0<c&&v("span",{"class":"share-groups__plus"},"+"+c)),
A&&v("p",{"class":"share-groups__empty"},w.groups.mixedGroupSharing))},b}(f.Component);g.a=Object(f.connect)(function(a){var b,c,m=a.utilities.portal,t=a.resources.portalUser,v=a.gbState.groups,A=v.selectedGroups,B=v.initialSelectedGroups;a=v.selectorItems;v=v.hasGroups;var x=Object.keys(A).map(function(y){return A[y]}).sort(function(y,F){return y.selectedByIds&&F.selectedByIds?F.selectedByIds.length-y.selectedByIds.length:0}),D=x[x.length-1];D=(D&&D.selectedByIds&&D.selectedByIds.length||0)<(a&&
a.length||0);m=!Object(l.k)(m)||Object(l.a)(t)||Object(l.d)(t)&&(b=t.username,c=t.orgId,Object.keys(A).every(function(y){y=A[y].group;var F=c&&c===(null==y?void 0:y.orgId);return b===(null==y?void 0:y.owner)||F}));t=Object.keys(A).length;var E=Object.keys(B);t=E.length!==t||E.reduce(function(y,F){return y||!A[F]||Object(d.a)({selectedBy:(A[F].selectedByIds||[]).map(function(G){return{id:G}}),initialSelectedByIds:B[F].selectedByIds||[]})},!1);return{selectedGroupsDatas:x,groupSharingMixed:D,hasGroups:v,
canShareItemToGroup:m,selectorItemsLength:a.length,groupsDirty:t}},function(a){return{handleRemoveGroupsClick:function(){a({type:e.a.CLEAR_SELECTION})},handleRevertGroupsClick:function(){a(r.c)},handleEditGroupSharingClick:function(){a(r.b)}}})(k)},629:function(f,g,k){var u=k(312);g.a=function(w,C){var z=w.render;return C("div",{"class":"mini-dlg__wrapper",key:"mini-dlg__wrapper"},C("div",{classes:{"mini-dlg":!0,"min-dlg--error":!!w.isError}},C(u.a,{key:"mini-dlg-trap"},z())),C("div",{"class":"mini-dlg__scrim"}))}},
63:function(f,g,k){function u(){for(var w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];return function(z){return w.reduceRight(function(r,l){return l(r)},z)}}k.d(g,"a",function(){return u})},630:function(f,g,k){var u=k(0),w=k(39);f=k(16);var C=k(320),z=k(205),r=k.n(z),l=k(422);k=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}return Object(u.d)(e,d),e.prototype.render=function(a){return[a(C.a,{key:"share-dlg-header-loading",onCancel:this.props.handleCancelClick,title:w.share}),
a("div",{key:"loading-view-content","class":"share-dlg__contents share-loader__container"},a(r.a,{key:"share-loader",text:w.loading}),a(l.a,{key:"share-mini-dlg"})),a("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},a("button",{"class":"share-dlg__button--primary",key:"loading-view-save",id:"share-modal-primary",disabled:""},w.update),a("button",{"class":"share-dlg__button--secondary",key:"loading-view-close",id:"share-modal-secondary",onclick:this.props.handleCancelClick},w.cancel))]},
e}(f.Component);g.a=Object(f.connect)(function(d){return{handleCancelClick:d.utilities.onCancel}},function(d){return{}})(k)},631:function(f,g,k){var u=k(0),w=k(39);f=k(16);var C=k(139),z=k(258),r=k.n(z),l=k(320),d=k(26);k=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(a,e),a.prototype.render=function(b){return[b(l.a,{key:"share-dlg-header-loading",onCancel:this.props.onCancel,onBack:this.props.closeGroupBrowser,back:!0,title:w.groupSharing}),b("div",{key:"group-browser-view-content-gb",
"class":"share-dlg__contents share-dlg__contents--wide"},b(r.a,{key:"share-group-browser"})),b("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},b("button",{"class":"share-dlg__button--primary",key:"group-browser-view-save",id:"share-modal-primary",onclick:this.props.closeGroupBrowser},w.ok))]},a}(f.Component);g.a=Object(f.connect)(function(e){return{onCancel:e.utilities.onCancel}},function(e){return{closeGroupBrowser:function(){e(Object(C.j)(d.a.SHARE))}}})(k)},632:function(f,
g,k){var u=k(0),w=k(39);f=k(16);var C=k(320),z=k(633),r=k(139);k=function(l){function d(e){e=l.call(this,e)||this;return e.state={loading:!1},e}return Object(u.d)(d,l),d.prototype.render=function(e){var a=this,b=this.props,c=b.handlePrimaryClick,m=b.handleCancelClick;b=b.updatable;var t=this.state.loading;return[e(C.a,{key:"share-dlg-header-loading",onCancel:m,title:w.DependentItems.updateSharing}),e("div",{key:"dependent-item-view-content","class":"share-dlg__contents"},e(z.a,{key:"dependent-items"})),
e("div",{"class":"share-dlg__container-footer",key:"share-view-footer"},e("button",{"class":"share-dlg__button--primary",key:"dependent-item-view-save",id:"share-modal-primary",loading:t,onclick:function(){a.setState({loading:!0});c()}},b?w.update:w.ok),b&&e("button",{"class":"share-dlg__button--secondary",key:"dependent-item-view-close",id:"share-modal-secondary",onclick:m},w.cancel))]},d}(f.Component);g.a=Object(f.connect)(function(l){var d=l.utilities;l=l.resources;var e=l.dependentItems,a=e.needShareLevelUpdate,
b=e.needGroupSharingUpdate,c=e.needEditableWarning,m=l.selectedOptions;return{updatable:0<Object(u.g)(Object(u.g)(Object(u.g)(Object(u.g)([],e.needBDFSDatastoreUpdate),a),b),c).length,handleCancelClick:function(){d.onComplete({selectedOptions:m})}}},function(l){return{handlePrimaryClick:function(){l(r.i)}}})(k)},633:function(f,g,k){var u=k(0),w=k(39);f=k(16);var C=k(291),z=k(61);k=function(r){function l(){return null!==r&&r.apply(this,arguments)||this}return Object(u.d)(l,r),l.prototype.render=function(d){var e=
this.props,a=e.dependentItems,b=a.needGroupSharingUpdate,c=a.notEditable,m=a.premium,t=a.needEditableWarning,v=a.needPubliclyEditableWarning,A=a.needDataCollectionEnabled,B=a.needGroupDependentApplicationWarning,x=a.needBDFSDatastoreUpdate,D=e.portal,E=e.items,y=e.helpMap;e=e.authenticatedItems;a=Object(u.g)(Object(u.g)([],a.needShareLevelUpdate),b);var F=a.map(function(G){return G.id});a=a.filter(function(G,H){return F.indexOf(G.id)===H});b=1===E.length&&"Web Map"===E[0].type;E=w.DependentItems[b?
"premiumItemsWebMap":"premiumItems"];y=y&&d("a",{href:""+D.helpBase+y[120001307]},w.DependentItems[b?"premiumTextMap":"premiumText"]);return d("div",{"class":"dependent-items-confirmation",key:"dependent-items-confirmation"},d(C.a,{key:"need-editable-warning-list",items:t,title:w.DependentItems.needEditableTitle,text:w.DependentItems.needEditableText,portal:D,error:!0}),d(C.a,{key:"need-editable-warning-public-list",items:v,title:w.DependentItems.needPubliclyEditableTitle,text:w.DependentItems.needPubliclyEditableText,
portal:D,error:!0}),d(C.a,{key:"authenticated-items-warning",items:e,title:w.DependentItems.authenticatedItemsTitle,text:w.DependentItems.authenticatedItemsText,portal:D,error:!0}),d(C.a,{key:"need-data-collection-endabled-list",items:A,title:w.DependentItems.needDataCollectionEnabledTitle,text:w.DependentItems.needDataCollectionEnabledText,portal:D,error:!0}),d(C.a,{key:"group-dependent",items:B,title:w.DependentItems.groupDependentApplicationTitle,text:w.DependentItems.groupDependentApplicationText,
portal:D,error:!0}),d(C.a,{key:"needs-update-list",items:a,title:w.DependentItems.updateItemsCount,text:w.DependentItems.confirmationDescription,portal:D}),d(C.a,{key:"premium-items-list",items:m,title:E,text:y,portal:D}),d(C.a,{key:"not-editable-list",items:c,title:w.DependentItems.uneditableItemsCount,portal:D}),d(C.a,{key:"bdfs-datastore-dependent",items:x,title:w.DependentItems.updateItemsCount,text:w.DependentItems.needBDFSDatastoreUpdateText,portal:D,error:!0}))},l}(f.Component);g.a=Object(f.connect)(function(r){var l=
r.resources,d=l.items,e=l.helpMap;r=r.utilities.portal;return{dependentItems:l.dependentItems,authenticatedItems:Object(z.c)(d,l.selectedOptions,l.selectedOptionsDirty),portal:r,helpMap:e,items:d}},function(){return{}})(k)},634:function(f,g,k){var u=k(0),w=k(39);f=k(16);var C=k(101);k=function(z){function r(){return null!==z&&z.apply(this,arguments)||this}return Object(u.d)(r,z),r.prototype.render=function(l){var d=this.props,e=d.item;d=d.portal;var a=e.name||e.title,b=Object(C.a)(d)+"/home/item.html?id\x3d"+
e.id;return l("li",{key:e.id,"class":"dependent-item"},l("h3",{"class":"dependent-item__title"},d?l("a",{href:b,target:"_blank",rel:"noreferrer"},a):l("span",null,a)),l("span",{"class":"dependent-item__details"},e.iconURI&&l("img",{"class":"dependent-item__icon",src:e.iconURI}),l("p",{"class":"dependent-item__description"},w.DependentItems.itemDescription.replace("${type}",e.displayName||e.type).replace("${owner}",e.owner?e.owner:""))))},r}(f.Component);g.a=k},68:function(f,g,k){var u;k.d(g,"a",function(){return u});
(function(w){w.LOADING_GROUPS="LOADING_GROUPS";w.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";w.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";w.SELECT_GROUPS="SELECT_GROUPS";w.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";w.DESELECT_GROUPS="DESELECT_GROUPS";w.REVERT_GROUPS="REVERT_GROUPS";w.CLEAR_SELECTION="CLEAR_SELECTION";w.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";w.SET_HAS_GROUPS="SET_HAS_GROUPS"})(u||(u={}))},78:function(f,g,k){k.d(g,"a",function(){return d});k.d(g,"b",function(){return e});var u=k(63);f=k(5);var w=
k(123),C=k(122),z=k(117),r=k(121),l=k(120),d=function(a,b,c){return Object(u.a)(Object(l.a)(a),Object(r.a)(a),Object(z.a)(b),Object(C.a)(a),Object(w.a)(a))(c)},e=Object(u.a)(Object(f.e)("patchedDescription"),Object(f.e)("thumbURI"),Object(f.e)("iconURI"),Object(f.e)("displayName"),Object(f.e)("badges"))},83:function(f,g,k){var u;k.d(g,"a",function(){return u});(function(w){w.SET_SEARCH_STRING="SET_SEARCH_STRING";w.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";w.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";w.UPDATE_USERNAME_FILTER=
"UPDATE_USERNAME_FILTER";w.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";w.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";w.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";w.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";w.SET_USERS="SET_USERS";w.CLEAR_FILTERS="CLEAR_FILTERS"})(u||(u={}))},877:function(f,g,k){k.r(g);var u=k(0);f=k(16);var w=k(440);k.d(g,"reducers",function(){return w.b});k.d(g,"initialState",function(){return w.a});var C=k(623),z=k(294),r=k.n(z),l=k(26);
k=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}return Object(u.d)(e,d),e.prototype.render=function(a){var b=this.props.currentView;return a("div",{key:"share-container","class":"share-dlg__container"},a(r.a,{key:"sharing-overlay",scrollable:!0,size:b===l.a.GROUP_BROWSER?"large":"small"},a(C.a[b],{key:b})))},e}(f.Component);g["default"]=Object(f.connect)(function(d){return{currentView:d.config.currentView}},function(d){return{}})(k)},90:function(f,g,k){k.d(g,"a",function(){return u});
k.d(g,"b",function(){return w});k.d(g,"c",function(){return C});k.d(g,"d",function(){return z});k.d(g,"e",function(){return r});k.d(g,"h",function(){return l});k.d(g,"i",function(){return d});k.d(g,"j",function(){return e});k.d(g,"k",function(){return a});k.d(g,"g",function(){return b});k.d(g,"f",function(){return c});var u="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",w="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",C="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
z="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",r="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",l="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
d="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
e="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",a="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",b="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",c="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(f,g,k){function u(d,e){if(null==d?0:d.length)for(var a=void 0,b=0;b<d.length;b++)if(e(a=d[b]))return a}function w(d){return d.filter(function(e){return 0<e.length})}function C(d,e,a){var b=[];return e.forEach(function(c){(a?c[a].toLowerCase()===d.toLowerCase():c.toLowerCase()===d.toLowerCase())?b.unshift(c):b.push(c)}),b}k.d(g,"e",function(){return z});k.d(g,"f",function(){return r});k.d(g,"c",function(){return u});k.d(g,"b",function(){return w});k.d(g,"a",function(){return l});k.d(g,
"d",function(){return C});f=k(15);var z=function(d,e,a){return a.indexOf(d)===e},r=Object(f.a)(function(d,e){var a={};return e.filter(function(b){return!a[b[d]]&&(a[b[d]]=!0,!0)})}),l=function(d,e){return d.length===e.length&&d.reduce(function(a,b){return a&&-1<e.indexOf(b)},!0)}}})})},"arcgis-components/GroupBrowser/index":function(){define("../Component dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel ../Loaders/LoaderBars ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index dojo/string ../Buttons/IconButton ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Buttons/FilterChip/index ../GroupCards/GroupCheckCard/index ../GroupCards/MultiselectableGroupCard/index".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d){return function(e){function a(c){if(b[c])return b[c].exports;var m=b[c]={i:c,l:!1,exports:{}};return e[c].call(m.exports,m,m.exports,a),m.l=!0,m.exports}var b={};return a.m=e,a.c=b,a.d=function(c,m,t){a.o(c,m)||Object.defineProperty(c,m,{enumerable:!0,get:t})},a.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})},a.t=function(c,m){if((1&
m&&(c=a(c)),8&m)||4&m&&"object"==typeof c&&c&&c.__esModule)return c;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:c}),2&m&&"string"!=typeof c)for(var v in c)a.d(t,v,function(A){return c[A]}.bind(null,v));return t},a.n=function(c){var m=c&&c.__esModule?function(){return c["default"]}:function(){return c};return a.d(m,"a",m),m},a.o=function(c,m){return Object.prototype.hasOwnProperty.call(c,m)},a.p="",a(a.s=855)}({0:function(e,a,b){function c(E,y){function F(){this.constructor=
E}if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");x(E,y);E.prototype=null===y?Object.create(y):(F.prototype=y.prototype,new F)}function m(E,y){var F={},G;for(G in E)Object.prototype.hasOwnProperty.call(E,G)&&0>y.indexOf(G)&&(F[G]=E[G]);if(null!=E&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(G=Object.getOwnPropertySymbols(E);H<G.length;H++)0>y.indexOf(G[H])&&Object.prototype.propertyIsEnumerable.call(E,G[H])&&
(F[G[H]]=E[G[H]])}return F}function t(E,y,F,G){var H,I=arguments.length,N=3>I?y:null===G?G=Object.getOwnPropertyDescriptor(y,F):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(E,y,F,G);else for(var M=E.length-1;0<=M;M--)(H=E[M])&&(N=(3>I?H(N):3<I?H(y,F,N):H(y,F))||N);return 3<I&&N&&Object.defineProperty(y,F,N),N}function v(E,y,F,G){return new (F||(F=Promise))(function(H,I){function N(R){try{J(G.next(R))}catch(Z){I(Z)}}function M(R){try{J(G["throw"](R))}catch(Z){I(Z)}}
function J(R){var Z;R.done?H(R.value):(Z=R.value,Z instanceof F?Z:new F(function(T){T(Z)})).then(N,M)}J((G=G.apply(E,y||[])).next())})}function A(E,y){function F(J){return function(R){return function(Z){if(G)throw new TypeError("Generator is already executing.");for(;M;)try{if(G=1,H&&(I=2&Z[0]?H["return"]:Z[0]?H["throw"]||((I=H["return"])&&I.call(H),0):H.next)&&!(I=I.call(H,Z[1])).done)return I;switch(H=0,I&&(Z=[2&Z[0],I.value]),Z[0]){case 0:case 1:I=Z;break;case 4:return M.label++,{value:Z[1],done:!1};
case 5:M.label++;H=Z[1];Z=[0];continue;case 7:Z=M.ops.pop();M.trys.pop();continue;default:if(!(I=M.trys,(I=0<I.length&&I[I.length-1])||6!==Z[0]&&2!==Z[0])){M=0;continue}if(3===Z[0]&&(!I||Z[1]>I[0]&&Z[1]<I[3]))M.label=Z[1];else if(6===Z[0]&&M.label<I[1])M.label=I[1],I=Z;else if(I&&M.label<I[2])M.label=I[2],M.ops.push(Z);else{I[2]&&M.ops.pop();M.trys.pop();continue}}Z=y.call(E,M)}catch(T){Z=[6,T],H=0}finally{G=I=0}if(5&Z[0])throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}([J,R])}}var G,H,I,N,M={label:0,
sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return N={next:F(0),"throw":F(1),"return":F(2)},"function"==typeof Symbol&&(N[Symbol.iterator]=function(){return this}),N}function B(E,y){for(var F=0,G=y.length,H=E.length;F<G;F++,H++)E[H]=y[F];return E}b.d(a,"d",function(){return c});b.d(a,"a",function(){return D});b.d(a,"f",function(){return m});b.d(a,"c",function(){return t});b.d(a,"b",function(){return v});b.d(a,"e",function(){return A});b.d(a,"g",function(){return B});var x=function(E,
y){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,G){F.__proto__=G}||function(F,G){for(var H in G)Object.prototype.hasOwnProperty.call(G,H)&&(F[H]=G[H])})(E,y)},D=function(){return(D=Object.assign||function(E){for(var y,F=1,G=arguments.length;F<G;F++)for(var H in y=arguments[F])Object.prototype.hasOwnProperty.call(y,H)&&(E[H]=y[H]);return E}).apply(this,arguments)};Object.create;Object.create},101:function(e,a,b){b.d(a,"a",function(){return m});b.d(a,"b",function(){return t});
var c=b(0),m=function(v){return v?v.urlKey?location.protocol+"//"+v.urlKey+"."+v.customBaseUrl:location.protocol+"//"+v.portalHostname:""},t=function(v){return Object(c.a)(Object(c.a)({},v),{baseUrl:m(v)})}},1019:function(e,a,b){b.d(a,"a",function(){return m});var c=b(204),m=function(){return{type:c.a.TOGGLE_SORT_DROPDOWN}}},128:function(e,a,b){b.d(a,"a",function(){return m});b.d(a,"b",function(){return t});var c=b(0);e=b(15);var m=function(v,A){var B;return A.thumbnail&&(B=v.restUrl+"/community/groups/"+
A.id+"/info/"+A.thumbnail+(v.credential?"?token\x3d"+v.credential.token:"")),B},t=Object(e.a)(function(v,A){return Object(c.a)(Object(c.a)({},A),{thumbURI:m(v,A)})})},137:function(e,a,b){b.d(a,"a",function(){return c});b.d(a,"d",function(){return v});b.d(a,"c",function(){return A});b.d(a,"e",function(){return B});b.d(a,"f",function(){return x});var c,m=b(0),t=b(25);!function(D){D.LOADING="loading";D.LOADED="loaded";D.FAILED="failed"}(c||(c={}));var v=function(D){var E=D.selectedGroups,y=D.selectorItems;
return 0===y.length?Object.keys(E).map(function(F){return E[F].group}):Object.keys(E).filter(function(F){return B(E[F],y)}).map(function(F){return E[F].group})},A=function(D){var E=D.initialSelectedGroups,y=D.selectedGroups,F=Object.keys(y).map(function(G){return y[G].group.id});return Object.keys(E).map(function(G){return E[G].group.id}).filter(function(G){return 0>F.indexOf(G)}).map(function(G){return E[G].group})},B=function(D,E){return!D.selectedByIds||D.selectedByIds.length===E.length},x={selectorItems:[],
displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:c.LOADING,total:0,hasGroups:!0};a.b=function(D,E){switch(void 0===D&&(D=x),E.type){case t.a.DESELECT_GROUPS:return Object(m.a)(Object(m.a)({},D),{selectedGroups:E.payload.reduce(function(G,H){var I=H.id;G[I];return Object(m.f)(G,["symbol"==typeof I?I:I+""])},D.selectedGroups)});case t.a.REVERT_GROUPS:return E.payload?Object(m.a)(Object(m.a)({},D),{selectedGroups:E.payload.reduce(function(G,H){var I;if(D.initialSelectedGroups[H.id])return Object(m.a)(Object(m.a)({},
G),((I={})[H.id]=D.initialSelectedGroups[H.id],I));I=H.id;G[I];return Object(m.f)(G,["symbol"==typeof I?I:I+""])},D.selectedGroups)}):Object(m.a)(Object(m.a)({},D),{selectedGroups:Object(m.a)({},D.initialSelectedGroups)});case t.a.SELECT_GROUPS:var y=D.selectorItems.map(function(G){return G.id});return Object(m.a)(Object(m.a)({},D),{selectedGroups:E.payload.reduce(function(G,H){var I;return Object(m.a)(Object(m.a)({},G),((I={})[H.group.id]=Object(m.a)({selectedByIds:y},H),I))},D.selectedGroups)});
case t.a.SET_INITIAL_GROUPS:var F=E.payload.reduce(function(G,H){var I;return Object(m.a)(Object(m.a)({},G),((I={})[H.group.id]=H,I))},{});return Object(m.a)(Object(m.a)({},D),{selectedGroups:F,initialSelectedGroups:Object(m.a)({},F)});case t.a.SET_SELECTOR_ITEMS:return Object(m.a)(Object(m.a)({},D),{selectorItems:E.payload});case t.a.CLEAR_SELECTION:return Object(m.a)(Object(m.a)({},D),{selectedGroups:{}});case t.a.LOADING_GROUPS:return Object(m.a)(Object(m.a)({},D),{status:c.LOADING});case t.a.LOAD_GROUPS_SUCCESS:return Object(m.a)(Object(m.a)({},
D),{displayGroups:E.payload.results,total:E.payload.total,status:c.LOADED});case t.a.LOAD_GROUPS_FAIL:return Object(m.a)(Object(m.a)({},D),{displayGroups:[],status:c.FAILED});case t.a.SET_HAS_GROUPS:return Object(m.a)(Object(m.a)({},D),{hasGroups:E.payload});default:return D}}},144:function(e,a,b){b.d(a,"d",function(){return A});b.d(a,"e",function(){return B});b.d(a,"b",function(){return x});b.d(a,"c",function(){return D});b.d(a,"a",function(){return E});b.d(a,"f",function(){return y});var c=b(0),
m=b(181),t=b(163),v=b(68),A=function(F){return 1<F.length&&Object(t.a)(),{type:v.a.SELECT_GROUPS,payload:F.map(function(G){return{group:Object(m.c)(G)}})}},B=function(F){return{type:v.a.SET_INITIAL_GROUPS,payload:F.map(function(G){return Object(c.a)(Object(c.a)({},G),{group:Object(m.c)(G.group)})})}},x=function(F){return 1<F.length&&Object(t.b)(),{type:v.a.DESELECT_GROUPS,payload:F}},D=function(F){return{type:v.a.REVERT_GROUPS,payload:F}},E=function(){return Object(t.c)(),{type:v.a.CLEAR_SELECTION}},
y=function(F){return{type:v.a.SET_SELECTOR_ITEMS,payload:F}}},148:function(e,a,b){b.d(a,"a",function(){return m});var c=b(0);e=b(15);var m=Object(e.a)(function(t,v){var A=Object(c.a),B=Object(c.a)({},v);var x=v.thumbnail?t.restUrl+"/community/users/"+v.username+"/info/"+v.thumbnail+(t.credential?"?token\x3d"+t.credential.token:""):void 0;return A(B,{thumbURI:x})})},15:function(e,a,b){function c(t){return function A(){for(var B=this,x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return x.length>=
t.length?t.call.apply(t,Object(m.g)([this],x)):function(){for(var E=[],y=0;y<arguments.length;y++)E[y]=arguments[y];return A.call.apply(A,Object(m.g)(Object(m.g)([B],x),E))}}}b.d(a,"a",function(){return c});var m=b(0)},150:function(e,a){e.exports=n},159:function(e,a,b){b.d(a,"b",function(){return F});b.d(a,"a",function(){return H});var c=b(0),m=b(181),t=b(30),v=b(163),A=b(54),B=b(68),x=b(28),D=b(61),E=b(38),y=b(26),F=function(X,aa){G(aa()).then(function(fa){var oa=aa();oa=Object(A.b)(oa)?oa:oa.gbState;
var ua=oa.utils;oa.ui.focus.focusSelectAll&&Object(v.c)();X({type:B.a.LOAD_GROUPS_SUCCESS,payload:Object(c.a)(Object(c.a)({},fa),{results:fa.results.map(function(ha){return Object(m.b)(ua.portal,ha)})})})})["catch"](function(fa){var oa=aa();(Object(A.b)(oa)?oa:oa.gbState).ui.focus.focusSelectAll&&Object(v.c)();X({type:B.a.LOAD_GROUPS_FAIL,payload:fa})})},G=function(X){X=Object(A.b)(X)?X:X.gbState;var aa=X.utils,fa=aa.request,oa=aa.portal,ua=X.config;aa=ua.groupsPerPage;var ha=ua.withinShare,U=(ua.withinAppConfig,
X.parameters);ua=U.filter;U=U.sort;var ka=X.ui.page.currentPageNumber,W={q:T(X),num:aa,sortField:U.field,sortOrder:U.order,start:(ka-1)*aa+1};return ha&&(W.searchUserAccess="groupMember",W.searchUserName=ua.currentUsername),ua.designationFilter!==E.b.orgSettings||M(oa)?new x.Promise(function(Q,L){Object(t.g)(fa,oa,W).then(Q,L)}):new x.Promise(function(Q){Q({query:W.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},H=function(X){var aa=X.user;X=X.state;X=Object(A.b)(X)?X:X.gbState;var fa=X.utils,
oa=fa.request,ua=fa.portal;X=Object(c.a)(Object(c.a)({},X),{parameters:Object(c.a)(Object(c.a)({},X.parameters),{filter:Object(c.a)(Object(c.a)({},X.parameters.filter),{currentUsername:aa.username})})});var ha={q:T(X),num:100,searchUserAccess:"groupMember",searchUserName:aa.username};return(new x.Promise(function(U,ka){return Object(t.g)(oa,ua,ha).then(function(W){if(-1!==W.nextStart){var Q=Math.ceil(W.total/100)-1,L=[W.results];W=function(Y){L.push(new x.Promise(function(da,S){var P=100*(Y+1)+1;
Object(t.g)(oa,ua,Object(c.a)(Object(c.a)({},ha),{start:P})).then(function(V){da(V.results)},S)}))};for(var ca=0;ca<Q;ca++)W(ca);x.Promise.all(L).then(function(Y){U(Object(D.b)(Y))})}else U(W.results)},ka)}))["catch"](function(U){throw U;})},I=function(X){var aa,fa=X.shareMode,oa=X.currentUsername,ua=X.portalUser;X=X.userGroups;var ha=[];switch(X&&X.forEach(function(U){var ka,W=null===(ka=U.userMembership)||void 0===ka?void 0:ka.memberType;!U.isViewOnly||"owner"!==W&&"admin"!==W||ha.push(U.id)}),
ha.length&&(aa="(isviewonly:false OR "+ha.join(" OR ")+")"),fa){case y.d.DEFAULT:return aa||"(owner:"+oa+" OR isviewonly:false)";case y.d.GROUP:return"owner:"+oa+" -capabilities:updateitemcontrol";case y.d.ADMIN:return ua.username===oa?"(isviewonly:false OR owner:"+ua.username+") -capabilities:updateitemcontrol":"(owner:"+oa+" OR isviewonly:false)";default:return""}},N=function(X,aa){0!==(null==X?void 0:X.indexOf("id:"))||-1<aa.indexOf(X)||aa.push(X)},M=function(X){var aa,fa,oa,ua,ha,U=[],ka=[X.featuredItemsGroupQuery,
X.basemapGalleryGroupQuery,X.templatesGroupQuery,X["2DStylesGroupQuery"],X.stylesGroupQuery,X.analysisLayersGroupQuery,X.galleryTemplatesGroupQuery];if(X.hasModernHomePageEnabled){var W=(null===(fa=null===(aa=X.homePageConfig)||void 0===aa?void 0:aa.content)||void 0===fa?void 0:fa.filter(function(Q){return"gallery"===Q.type&&!!Q.groupId}))||[];0<W.length&&W.forEach(function(Q){N("id:"+Q.groupId,U)})}else ka.push(X.homePageFeaturedContent);return ka.forEach(function(Q){N(Q,U)}),null===(oa=X.featuredGroups)||
void 0===oa||oa.forEach(function(Q){(Q=Q.id)&&N("id:"+Q,U)}),null===(ha=null===(ua=X.userDefaults)||void 0===ua?void 0:ua.groups)||void 0===ha||ha.forEach(function(Q){N("id:"+Q,U)}),0<U.length?"("+U.join(" OR ")+")":""},J=function(X){var aa=X.portal;switch(X.designationFilter){case E.b.openData:return"isopendata:true";case E.b.updateGroups:return"capabilities:updateitemcontrol";case E.b.distributed:return"capabilities:distributed";case E.b.administrative:return"isleavingdisallowed:true";case E.b.orgSettings:return M(aa)||
"";default:return""}},R=function(X){var aa=X.portal,fa=X.username,oa=X.currentUsername,ua=X.userType,ha=X.withinAppConfig;fa=X.shareMode===y.d.ADMIN&&oa||fa;ha=aa.isPortal&&ha?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(X.ownerFilter){case E.d.itemOwner:return"owner:"+fa+" "+ha;case E.d.inOrg:return"-owner:"+fa+" orgid:"+aa.id+" "+ha;case E.d.outsideOrg:return ua===y.e.PUBLIC?"-owner:"+fa+" "+ha:"(orgid: [0 TO \\{]) -orgid:"+aa.id+" "+ha;default:return ha}},
Z=function(X){return X?"created: ["+(aa=X).start+" TO "+aa.end+"]":"";var aa},T=function(X){var aa=X.utils,fa=aa.portal;aa=aa.portalUser;var oa=X.config,ua=oa.shareMode,ha=oa.userType,U=oa.withinAppConfig,ka=oa.hasIndoorsSpaces;X=X.parameters.filter;var W=X.designationFilter,Q=X.membershipFilter,L=X.dateCreatedFilter,ca=X.currentUsername,Y=X.ownerFilter;return[oa.baseQ+" "+X.searchString,I({shareMode:ua,currentUsername:ca,portalUser:aa,userGroups:oa.userGroups}),ka?"-capabilities:distributed":J({designationFilter:W,
portal:fa}),ka?"membershipaccess:org":Q?"anyOrg"===Q?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+Q:"",Z(L),R({ownerFilter:Y,portal:fa,username:aa.username,currentUsername:ca,shareMode:ua,userType:ha,withinAppConfig:U})].filter(function(da){return da}).join(" ").trim()}},16:function(e,a){e.exports=O},163:function(e,a,b){function c(){v("gb__select-all-input")}function m(){v("gb__clear-selection-btn")}function t(){setTimeout(function(){var A=document.querySelector(".gcard-gcc__container");
A&&(A=A.querySelector(".btn-2018check__input"))&&A.focus()},50)}function v(A){setTimeout(function(){var B=document.querySelector("#"+A);B&&B.focus()},50)}b.d(a,"c",function(){return c});b.d(a,"a",function(){return m});b.d(a,"b",function(){return t})},170:function(e,a){var b=function(){return this}();try{b=b||(new Function("return this"))()}catch(c){"object"==typeof window&&(b=window)}e.exports=b},175:function(e,a,b){var c;b.d(a,"a",function(){return c});(c||(c={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},
181:function(e,a,b){b.d(a,"b",function(){return v});b.d(a,"c",function(){return A});b.d(a,"a",function(){return B});var c=b(63);e=b(5);var m=b(99),t=b(128),v=function(x,D){return Object(c.a)(Object(t.b)(x))(D)},A=Object(c.a)(Object(e.e)("thumbURI")),B=function(x){var D=x.initialSelectedByIds;return!Object(m.a)(x.selectedBy.map(function(E){return E.id}),D)}},186:function(e,a,b){b.d(a,"b",function(){return m});b.d(a,"g",function(){return t});b.d(a,"h",function(){return v});b.d(a,"e",function(){return A});
b.d(a,"f",function(){return B});b.d(a,"d",function(){return x});b.d(a,"c",function(){return D});b.d(a,"a",function(){return E});var c=b(83),m=function(y){return{type:c.a.SET_SEARCH_STRING,payload:y}},t=function(y){return{type:c.a.UPDATE_OWNER_FILTER,payload:y}},v=function(y){return{type:c.a.UPDATE_USERNAME_FILTER,payload:y}},A=function(y){return{type:c.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:y}},B=function(y){return{type:c.a.UPDATE_MEMBERSHIP_FILTER,payload:y}},x=function(y){return{type:c.a.UPDATE_CREATED_ON_FILTER,
payload:{section:y.section,created:y.created}}},D=function(y){return{type:c.a.SET_USERS,payload:y}},E=function(y){return{type:c.a.CLEAR_FILTERS,payload:y}}},189:function(e,a){function b(){throw Error("setTimeout has not been defined");}function c(){throw Error("clearTimeout has not been defined");}function m(I){if(D===setTimeout)return setTimeout(I,0);if((D===b||!D)&&setTimeout)return D=setTimeout,setTimeout(I,0);try{return D(I,0)}catch(N){try{return D.call(null,I,0)}catch(M){return D.call(this,I,
0)}}}function t(){G&&y&&(G=!1,y.length?F=y.concat(F):H=-1,F.length&&v())}function v(){if(!G){var I=m(t);G=!0;for(var N=F.length;N;){y=F;for(F=[];++H<N;)y&&y[H].run();H=-1;N=F.length}y=null;G=!1;(function(M){if(E===clearTimeout)return clearTimeout(M);if((E===c||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(M);try{E(M)}catch(J){try{return E.call(null,M)}catch(R){return E.call(this,M)}}})(I)}}function A(I,N){this.fun=I;this.array=N}function B(){}var x=e.exports={};try{var D="function"==typeof setTimeout?
setTimeout:b}catch(I){D=b}try{var E="function"==typeof clearTimeout?clearTimeout:c}catch(I){E=c}!0;var y,F=[],G=!1,H=-1;x.nextTick=function(I){var N=Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)N[M-1]=arguments[M];F.push(new A(I,N));1!==F.length||G||m(v)};A.prototype.run=function(){this.fun.apply(null,this.array)};x.title="browser";x.browser=!0;x.env={};x.argv=[];x.version="";x.versions={};x.on=B;x.addListener=B;x.once=B;x.off=B;x.removeListener=B;x.removeAllListeners=
B;x.emit=B;x.prependListener=B;x.prependOnceListener=B;x.listeners=function(I){return[]};x.binding=function(I){throw Error("process.binding is not supported");};x.cwd=function(){return"/"};x.chdir=function(I){throw Error("process.chdir is not supported");};x.umask=function(){return 0}},192:function(e,a,b){var c;b.d(a,"a",function(){return c});(c||(c={})).USER_DETAILS_LOADED="USER_LOADED"},204:function(e,a,b){var c;b.d(a,"a",function(){return c});(function(m){m.SET_PAGE="SET_PAGE";m.TOGGLE_SORT_DROPDOWN=
"TOGGLE_SORT_DROPDOWN";m.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(c||(c={}))},205:function(e,a){e.exports=q},207:function(e,a,b){b.d(a,"b",function(){return t});var c=b(0),m=b(25),t={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};a.a=function(v,A){switch(void 0===v&&(v=t),A.type){case m.a.ENABLE_USER_TOGGLE:return Object(c.a)(Object(c.a)({},v),{enableUserToggle:!0});case m.a.SET_SHARE_MODE:return Object(c.a)(Object(c.a)({},
v),{shareMode:A.payload});case m.a.SET_USER_TYPE:return Object(c.a)(Object(c.a)({},v),{userType:A.payload});case m.a.TRUSTED_ORGS_LOADED:return Object(c.a)(Object(c.a)({},v),{hasTrustedOrgs:0<A.payload.length});case m.a.USER_DETAILS_LOADED:return Object(c.a)(Object(c.a)({},v),{userGroups:A.payload});case m.a.SET_SELECTOR_ITEMS:var B=!!A.payload.find(function(x){var D;return-1<(null===(D=null==x?void 0:x.typeKeywords)||void 0===D?void 0:D.indexOf("EditExtensionIndoorsSpaces"))});return Object(c.a)(Object(c.a)({},
v),{hasIndoorsSpaces:B});default:return v}}},208:function(e,a,b){b.d(a,"b",function(){return m});e=b(16);var c=b(209);b=b(38);var m={sort:c.b,filter:b.f};a.a=Object(e.combineReducers)({sort:c.a,filter:b.e})},209:function(e,a,b){b.d(a,"b",function(){return t});var c=b(0),m=b(25),t={field:"title",order:"asc"},v={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};a.a=function(A,B){switch(void 0===A&&(A=t),B.type){case m.a.CHANGE_SORT_FIELD:return Object(c.a)(Object(c.a)({},
A),{field:B.payload,order:v[B.payload]});case m.a.CHANGE_SORT_ORDER:return Object(c.a)(Object(c.a)({},A),{order:B.payload});default:return A}}},210:function(e,a,b){b.d(a,"b",function(){return v});e=b(16);var c=b(211),m=b(212),t=b(213);b=b(214);var v={page:c.b,sort:m.b,focus:t.b,filter:b.b};a.a=Object(e.combineReducers)({page:c.a,sort:m.a,focus:t.a,filter:b.a})},211:function(e,a,b){b.d(a,"b",function(){return t});var c=b(0),m=b(25),t={currentPageNumber:1};a.a=function(v,A){switch(void 0===v&&(v=t),
A.type){case m.a.CLEAR_FILTERS:case m.a.UPDATE_USERNAME_FILTER:case m.a.UPDATE_OWNER_FILTER:case m.a.UPDATE_CREATED_ON_FILTER:case m.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(c.a)(Object(c.a)({},v),{currentPageNumber:1});case m.a.SET_PAGE:return Object(c.a)(Object(c.a)({},v),{currentPageNumber:A.payload});case m.a.LOAD_GROUPS_SUCCESS:return Object(c.a)(Object(c.a)({},v),{currentPageNumber:A.payload.num>A.payload.total?1:Math.ceil(A.payload.start/A.payload.num)});case m.a.LOAD_GROUPS_FAIL:return Object(c.a)(Object(c.a)({},
v),{currentPageNumber:1});default:return v}}},212:function(e,a,b){b.d(a,"b",function(){return m});var c=b(25),m=!1;a.a=function(t,v){switch(void 0===t&&(t=m),v.type){case c.a.CHANGE_SORT_FIELD:case c.a.CHANGE_SORT_ORDER:case c.a.TOGGLE_SORT_DROPDOWN:return!t;default:return t}}},213:function(e,a,b){b.d(a,"b",function(){return t});var c=b(0),m=b(25),t={focusSelectAll:!1};a.a=function(v,A){switch(A.type){case m.a.LOAD_GROUPS_FAIL:case m.a.LOAD_GROUPS_SUCCESS:return Object(c.a)(Object(c.a)({},v),{focusSelectAll:!1});
case m.a.CHANGE_SORT_FIELD:case m.a.CHANGE_SORT_ORDER:return Object(c.a)(Object(c.a)({},v),{focusSelectAll:!0});default:return v}}},214:function(e,a,b){b.d(a,"b",function(){return v});var c=b(0),m=b(25),t=b(38),v={expanded:!1};a.a=function(A,B){switch(B.type){case m.a.CLEAR_FILTERS:switch(B.payload){case void 0:case t.a.DATE_CREATED:return Object(c.a)(Object(c.a)({},A),{dateCreatedSelectedSection:void 0});default:return A}case m.a.TOGGLE_EXPANDED_FILTERS:return Object(c.a)(Object(c.a)({},A),{expanded:!A.expanded});
case m.a.UPDATE_CREATED_ON_FILTER:return Object(c.a)(Object(c.a)({},A),{dateCreatedSelectedSection:B.payload.section});default:return A}}},215:function(e,a,b){b.d(a,"b",function(){return m});var c=b(101),m={portal:{},portalUser:{},request:function(t){return null}};a.a=function(t,v){return void 0===t&&(t=m),v.type,t.portal.portalHostname&&!t.portal.baseUrl&&(t.portal.baseUrl=Object(c.a)(t.portal)),t}},216:function(e,a){e.exports=p},226:function(e,a,b){b.d(a,"c",function(){return c});b.d(a,"d",function(){return m});
b.d(a,"e",function(){return t});b.d(a,"b",function(){return v});b.d(a,"f",function(){return A});b.d(a,"g",function(){return B});b.d(a,"a",function(){return x});b.d(a,"h",function(){return D});b.d(a,"i",function(){return E});b.d(a,"j",function(){return y});var c="MAXIMIZE_DLG",m="MINIMIZE_DLG",t="TOGGLE_EXPANDED_FILTERS",v="CLOSE_FULLSCREEN_BROWSER",A="TOGGLE_EXPANDED_SORT",B="UPDATE_SUBLAYER_CARD_STATE",x="CLOSE_EXPANDED_SORT",D=function(){return{type:x}},E=function(){return{type:t}},y=function(){return{type:A}}},
249:function(e,a,b){var c=b(128);a.a=function(m,t){var v=m.group,A=m.stacked,B=m.portal;A={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!v.thumbURI,"gcard-thumbnail--stacked":void 0!==A&&A,"gcard-thumbnail--transparent":m.transparent};if(v.thumbnail&&!v.thumbURI&&B&&(v.thumbURI=Object(c.a)(B,v)),v.thumbURI)return t("img",{src:v.thumbURI,classes:A,alt:v.title});B=!(!v.title.charAt(0)||!v.title.charAt(0).match(/^\w+$/));return t("div",{key:"group-thumbnail-"+v.id,classes:A},t("svg",
{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},t("path",{fill:"#"+v.id.substr(v.id.length-6),d:"M0 0h65v65H0z"}),t("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),B?t("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},v.title.slice(0,1).toUpperCase()):t("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
25:function(e,a,b){b.d(a,"a",function(){return A});var c;e=b(0);a=b(204);var m=b(68),t=b(175),v=b(83);b=b(192);!function(B){B.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";B.SET_SHARE_MODE="SET_SHARE_MODE";B.SET_USER_TYPE="SET_USER_TYPE"}(c||(c={}));var A=Object(e.a)(Object(e.a)(Object(e.a)(Object(e.a)(Object(e.a)(Object(e.a)({},a.a),m.a),v.a),c),t.a),b.a)},254:function(e,a){e.exports=h},255:function(e,a){e.exports=f},26:function(e,a,b){var c,m,t,v,A;b.d(a,"b",function(){return c});b.d(a,"a",function(){return m});
b.d(a,"c",function(){return t});b.d(a,"e",function(){return v});b.d(a,"d",function(){return A});(function(B){B.org="org";B["private"]="private";B["public"]="public";B.shared="shared"})(c||(c={}));(function(B){B.LOADING="LOADING";B.SHARE="SHARE";B.GROUP_BROWSER="GROUP_BROWSER";B.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(m||(m={}));(function(B){B.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";B.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";B.REVERT_GROUPS="REVERT_GROUPS";B.EDITABLE_LAYERS=
"EDITABLE_LAYERS";B.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";B.NONE="NONE";B.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";B.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(t||(t={}));(function(B){B.ORG="ORG";B.PUBLIC="PUBLIC"})(v||(v={}));(function(B){B.DEFAULT="DEFAULT";B.ADMIN="ADMIN";B.GROUP="GROUP"})(A||(A={}))},28:function(e,a,b){(function(c,m){e.exports=function(){function t(){var P=setTimeout;return function(){return P(v,1)}}function v(){for(var P=0;P<
R;P+=2)(0,ha[P])(ha[P+1]),ha[P]=void 0,ha[P+1]=void 0;R=0}function A(P,V){var ba=this,ea=new this.constructor(x);void 0===ea[ca]&&M(ea);var ia=ba._state;if(ia){var ja=arguments[ia-1];X(function(){return N(ia,ea,ja,ba._result)})}else H(ba,ea,P,V);return ea}function B(P){if(P&&"object"==typeof P&&P.constructor===this)return P;var V=new this(x);return E(V,P),V}function x(){}function D(P,V,ba){V.constructor===P.constructor&&ba===A&&V.constructor.resolve===B?function(ea,ia){1===ia._state?F(ea,ia._result):
2===ia._state?G(ea,ia._result):H(ia,void 0,function(ja){return E(ea,ja)},function(ja){return G(ea,ja)})}(P,V):void 0===ba?F(P,V):"function"==typeof ba?function(ea,ia,ja){X(function(la){var na=!1,ra=function(va,za,Aa,Ba){try{va.call(za,Aa,Ba)}catch(Oa){return Oa}}(ja,ia,function(va){na||(na=!0,ia!==va?E(la,va):F(la,va))},function(va){na||(na=!0,G(la,va))},la._label);!na&&ra&&(na=!0,G(la,ra))},ea)}(P,V,ba):F(P,V)}function E(P,V){if(P===V)G(P,new TypeError("You cannot resolve a promise with itself"));
else if(ea=typeof(ba=V),null===ba||"object"!==ea&&"function"!==ea)F(P,V);else{ba=void 0;try{ba=V.then}catch(ia){return void G(P,ia)}D(P,V,ba)}var ba,ea}function y(P){P._onerror&&P._onerror(P._result);I(P)}function F(P,V){void 0===P._state&&(P._result=V,P._state=1,0!==P._subscribers.length&&X(I,P))}function G(P,V){void 0===P._state&&(P._state=2,P._result=V,X(y,P))}function H(P,V,ba,ea){var ia=P._subscribers,ja=ia.length;P._onerror=null;ia[ja]=V;ia[ja+1]=ba;ia[ja+2]=ea;0===ja&&P._state&&X(I,P)}function I(P){var V=
P._subscribers,ba=P._state;if(0!==V.length){for(var ea=void 0,ia=void 0,ja=P._result,la=0;la<V.length;la+=3)ea=V[la],ia=V[la+ba],ea?N(ba,ea,ia,ja):ia(ja);P._subscribers.length=0}}function N(P,V,ba,ea){var ia="function"==typeof ba,ja=void 0,la=void 0,na=!0;if(ia){try{ja=ba(ea)}catch(ra){na=!1,la=ra}if(V===ja)return void G(V,new TypeError("A promises callback cannot return that same promise."))}else ja=ea;void 0!==V._state||(ia&&na?E(V,ja):!1===na?G(V,la):1===P?F(V,ja):2===P&&G(V,ja))}function M(P){P[ca]=
Y++;P._state=void 0;P._result=void 0;P._subscribers=[]}var J=Array.isArray?Array.isArray:function(P){return"[object Array]"===Object.prototype.toString.call(P)},R=0,Z=void 0,T=void 0,X=function(P,V){ha[R]=P;ha[R+1]=V;2===(R+=2)&&(T?T(v):L())},aa="undefined"!=typeof window?window:void 0,fa=aa||{};fa=fa.MutationObserver||fa.WebKitMutationObserver;var oa="undefined"==typeof self&&void 0!==c&&"[object process]"==={}.toString.call(c),ua="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&
"undefined"!=typeof MessageChannel,ha=Array(1E3),U,ka,W,Q,L=void 0;oa?L=function(){return c.nextTick(v)}:fa?(ka=0,W=new fa(v),Q=document.createTextNode(""),W.observe(Q,{characterData:!0}),L=function(){Q.data=ka=++ka%2}):ua?((U=new MessageChannel).port1.onmessage=v,L=function(){return U.port2.postMessage(0)}):L=void 0===aa?function(){try{var P=Function("return this")().require("vertx");return void 0!==(Z=P.runOnLoop||P.runOnContext)?function(){Z(v)}:t()}catch(V){return t()}}():t();var ca=Math.random().toString(36).substring(2),
Y=0,da=function(){function P(V,ba){this._instanceConstructor=V;this.promise=new V(x);this.promise[ca]||M(this.promise);J(ba)?(this.length=ba.length,this._remaining=ba.length,this._result=Array(this.length),0===this.length?F(this.promise,this._result):(this.length=this.length||0,this._enumerate(ba),0===this._remaining&&F(this.promise,this._result))):G(this.promise,Error("Array Methods must be provided an Array"))}return P.prototype._enumerate=function(V){for(var ba=0;void 0===this._state&&ba<V.length;ba++)this._eachEntry(V[ba],
ba)},P.prototype._eachEntry=function(V,ba){var ea=this._instanceConstructor,ia=ea.resolve;if(ia===B){var ja=ia=void 0,la=!1;try{ia=V.then}catch(na){la=!0,ja=na}ia===A&&void 0!==V._state?this._settledAt(V._state,ba,V._result):"function"!=typeof ia?(this._remaining--,this._result[ba]=V):ea===S?(ea=new ea(x),la?G(ea,ja):D(ea,V,ia),this._willSettleAt(ea,ba)):this._willSettleAt(new ea(function(na){return na(V)}),ba)}else this._willSettleAt(ia(V),ba)},P.prototype._settledAt=function(V,ba,ea){var ia=this.promise;
void 0===ia._state&&(this._remaining--,2===V?G(ia,ea):this._result[ba]=ea);0===this._remaining&&F(ia,this._result)},P.prototype._willSettleAt=function(V,ba){var ea=this;H(V,void 0,function(ia){return ea._settledAt(1,ba,ia)},function(ia){return ea._settledAt(2,ba,ia)})},P}(),S=function(){function P(V){this[ca]=Y++;this._result=this._state=void 0;this._subscribers=[];if(x!==V){if("function"!=typeof V)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
if(this instanceof P)(function(ba,ea){try{ea(function(ia){E(ba,ia)},function(ia){G(ba,ia)})}catch(ia){G(ba,ia)}})(this,V);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return P.prototype["catch"]=function(V){return this.then(null,V)},P.prototype["finally"]=function(V){var ba=this.constructor;return"function"==typeof V?this.then(function(ea){return ba.resolve(V()).then(function(){return ea})},function(ea){return ba.resolve(V()).then(function(){throw ea;
})}):this.then(V,V)},P}();return S.prototype.then=A,S.all=function(P){return(new da(this,P)).promise},S.race=function(P){var V=this;return J(P)?new V(function(ba,ea){for(var ia=P.length,ja=0;ja<ia;ja++)V.resolve(P[ja]).then(ba,ea)}):new V(function(ba,ea){return ea(new TypeError("You must pass an array to race."))})},S.resolve=B,S.reject=function(P){var V=new this(x);return G(V,P),V},S._setScheduler=function(P){T=P},S._setAsap=function(P){X=P},S._asap=X,S.polyfill=function(){var P=void 0;if(void 0!==
m)P=m;else if("undefined"!=typeof self)P=self;else try{P=Function("return this")()}catch(ea){throw Error("polyfill failed because global object is unavailable in this environment");}var V=P.Promise;if(V){var ba=null;try{ba=Object.prototype.toString.call(V.resolve())}catch(ea){}if("[object Promise]"===ba&&!V.cast)return}P.Promise=S},S.Promise=S,S}()}).call(this,b(189),b(170))},284:function(e,a){e.exports=g},285:function(e,a){e.exports=k},30:function(e,a,b){function c(ha){return ha.reduce(function(U,
ka){return ka&&ka.relatedItems?U.concat(ka.relatedItems.map(function(W){return W})):U},[])}function m(ha,U,ka){return ha(U,{query:Object(A.a)({f:"json"},ka)}).then(function(W){return W.data})}function t(ha,U){void 0===U&&(U=100);for(var ka=[],W=0;W<Math.ceil(ha.length/U);W++)ka.push(ha.slice(W*U,(W+1)*U));return ka.filter(function(Q){return 0<Q.length})}function v(ha){var U=ha.itemIds,ka=ha.request,W=ha.groupIds,Q=ha.portal.restUrl+"/content/itemsgroups";return new B.Promise(function(L,ca){ka(Q,{method:"get",
query:{f:"json",items:U,groups:W}}).then(function(Y){L(Y.data)},ca)})}b.d(a,"u",function(){return x});b.d(a,"n",function(){return D});b.d(a,"h",function(){return E});b.d(a,"e",function(){return y});b.d(a,"f",function(){return F});b.d(a,"j",function(){return G});b.d(a,"o",function(){return H});b.d(a,"l",function(){return I});b.d(a,"k",function(){return N});b.d(a,"m",function(){return M});b.d(a,"c",function(){return J});b.d(a,"d",function(){return R});b.d(a,"r",function(){return Z});b.d(a,"s",function(){return T});
b.d(a,"t",function(){return X});b.d(a,"g",function(){return aa});b.d(a,"p",function(){return fa});b.d(a,"q",function(){return oa});b.d(a,"v",function(){return m});b.d(a,"a",function(){return t});b.d(a,"i",function(){return v});b.d(a,"b",function(){return ua});var A=b(0),B=b(28),x=function(ha){return function(U,ka){return ha({url:U,content:ka.query},{usePost:"post"===ka.method}).then(function(W){return{data:W}})}},D=function(ha,U,ka){return m(ha,U.restUrl+"/portals/self",{culture:ka,"default":!0})},
E=function(ha,U,ka){return m(ha,U.restUrl+"/content/items/"+ka+"/data")},y=function(ha,U,ka,W){return m(ha,U.restUrl+"/community/groups",Object(A.a)({q:ka},W))},F=function(ha,U,ka){return m(ha,U.restUrl+"/community/groups/"+ka+"/categorySchema")},G=function(ha,U,ka){return m(ha,U.restUrl+"/portals/"+(ka||U.id)+"/categorySchema")},H=function(ha,U){return m(ha,U.restUrl+"/portals/"+U.id+"/servers")},I=function(ha,U,ka,W){return ha(U.restUrl+"/portals/"+(ka||U.id)+"/collaborationsSummary",W)},N=function(ha,
U,ka,W){return ha(U.restUrl+"/portals/"+(ka||U.id)+"/collaboratedItems",W)},M=function(ha,U,ka){return m(ha,location.protocol+"//"+U.portalHostname+"/sharing/rest/portals/"+(ka||"self"))},J=function(ha,U,ka){return ha(U.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+U.id+" AND access:public",num:100,start:ka||1,sortField:"title",sortOrder:"asc"}}).then(function(W){return W.data.total>W.data.start+W.data.num?J(ha,U,W.data.start+W.data.num).then(function(Q){return Object(A.a)(Object(A.a)({},
Q),{data:Object(A.a)(Object(A.a)({},Q.data),{results:W.data.results.concat(Q.data.results)})})}):W})},R=function(ha,U,ka,W){return ha(U.restUrl+"/community/users/"+ka+"/provisionedListings",{query:{f:"json",num:100,start:W||1}}).then(function(Q){var L=B.Promise.all(Q.data.provisionedListings.filter(function(Y){return Y.itemId}).map(function(Y){return(new B.Promise(function(da,S){ha(U.restUrl+"/content/items/"+Y.itemId,{method:"get",query:{f:"json"}}).then(function(P){da(P.data)},S)}))["catch"](function(da){return 0})})),
ca=Q.data.provisionedListings.map(function(Y){return m(ha,U.restUrl+"/content/items/"+(Y.id||Y.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(da){return da},function(da){})});return Q.data.total>Q.data.start+Q.data.num?R(ha,U,ka,Q.data.start+Q.data.num).then(function(Y){return B.Promise.all([L].concat(ca)).then(function(da){return da[0].results.concat(c(da.slice(1))).concat(Y)})}):B.Promise.all([L].concat(ca)).then(function(Y){return Y[0].filter(function(da){return void 0!==
da}).concat(c(Y.slice(1)))})})},Z=function(ha,U,ka){return m(ha,U.restUrl+"/community/users/"+(ka||U.user.username))},T=function(ha,U,ka){return m(ha,U.restUrl+"/content/users/"+(ka||U.user.username),{num:1})},X=function(ha,U,ka){return m(ha,U.restUrl+"/content/groups/"+ka)},aa=function(ha,U,ka){return m(ha,U.restUrl+"/community/groups",ka)},fa=function(ha,U){return m(ha,U.restUrl+"/portals/self/settings")},oa=function(ha,U){return m(ha,U.restUrl+"/portals/self/trustedOrgs",{num:100})},ua=function(ha,
U){return void 0===U&&(U=","),ha.map(function(ka){return ka.id}).join(U)}},307:function(e,a,b){var c=b(0);e=b(16);var m=b(90);b=function(t){function v(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(v,t),v.prototype.render=function(A){return A("div",{"class":"ib-ex-results__item-list"},A("div",{"class":"ib-ex-results__no-items-container"},A("div",{"class":"ib-ex-results__no-items-centered"},A("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},A("path",{fill:"#ccc",d:m.f})),A("p",
{"class":"ib-ex-results__no-items-text"},this.props.text))))},v}(e.Component);a.a=b},372:function(e,a){e.exports=u},373:function(e,a){e.exports=w},374:function(e,a){e.exports=C},375:function(e,a,b){b.d(a,"a",function(){return A});var c=b(0),m=b(69);e=b(254);var t=b.n(e);e=b(16);var v=b(90),A=function(B){function x(D){var E=B.call(this,D)||this;return E.state.searchTerm=E.props.currentSearchString||"",E.debouncedInput=t()(function(){E.props.changeSearchString.apply(E,[E.state.searchTerm])},400),E.handleInputChange=
E.handleInputChange.bind(E),E.handleClear=E.handleClear.bind(E),E}return Object(c.d)(x,B),x.prototype.componentWillReceiveProps=function(D){D.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:D.currentSearchString})},x.prototype.render=function(D){var E=this.props,y=E.title,F=E.placeholder;E=E.controls;var G=this.state.searchTerm||"";return D("div",{"class":"ac-search-area"},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},D("path",
{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",fill:"currentColor"})),D("input",{"class":"ac-search-area__input",key:"search-input",title:y,"aria-label":y,type:"search",oninput:this.handleInputChange,value:G,placeholder:F,"aria-controls":E}),G&&D("button",{"class":"ac-search-area__clear",
onclick:this.handleClear,key:"search-input-button","aria-label":m.clearSearch},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},D("path",{d:v.k,fill:"currentColor"}))))},x.prototype.handleInputChange=function(D){this.setState({searchTerm:D.target.value});this.debouncedInput()},x.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},x}(e.Component)},376:function(e,a){e.exports=z},38:function(e,a,b){b.d(a,"b",function(){return c});b.d(a,"d",
function(){return t});b.d(a,"c",function(){return v});b.d(a,"a",function(){return A});b.d(a,"f",function(){return D});var c,m,t,v,A,B=b(0),x=b(25);!function(E){E.openData="openData";E.updateGroups="updateGroups";E.distributed="distributed";E.administrative="administrative";E.orgSettings="orgSettings"}(c||(c={}));(m||(m={})).owner="owner";(function(E){E.itemOwner="itemOwner";E.inOrg="inOrg";E.outsideOrg="outsideOrg"})(t||(t={}));(function(E){E.myOrg="org";E.partnered="collaboration";E.anyOrg="anyOrg"})(v||
(v={}));(function(E){E.USER="USER";E.OWNER="OWNER";E.DESIGNATION="DESIGNATION";E.DATE_CREATED="DATE_CREATED";E.MEMBERSHIP="MEMBERSHIP"})(A||(A={}));var D={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};a.e=function(E,y){switch(void 0===E&&(E=D),y.type){case x.a.CLEAR_FILTERS:switch(y.payload){case A.DESIGNATION:return Object(B.a)(Object(B.a)({},E),{designationFilter:void 0});case A.DATE_CREATED:return Object(B.a)(Object(B.a)({},E),{dateCreatedFilter:void 0});case A.OWNER:return Object(B.a)(Object(B.a)({},
E),{ownerFilter:void 0});case A.USER:return E;case A.MEMBERSHIP:return Object(B.a)(Object(B.a)({},E),{membershipFilter:void 0});default:return Object(B.a)(Object(B.a)({},E),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case x.a.UPDATE_OWNER_FILTER:return Object(B.a)(Object(B.a)({},E),{ownerFilter:y.payload===E.ownerFilter?void 0:y.payload});case x.a.UPDATE_USERNAME_FILTER:return Object(B.a)(Object(B.a)({},E),{currentUsername:y.payload});case x.a.UPDATE_CREATED_ON_FILTER:return Object(B.a)(Object(B.a)({},
E),{dateCreatedFilter:y.payload.created});case x.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(B.a)(Object(B.a)({},E),{designationFilter:y.payload===E.designationFilter?void 0:y.payload});case x.a.UPDATE_MEMBERSHIP_FILTER:return Object(B.a)(Object(B.a)({},E),{membershipFilter:y.payload===E.membershipFilter?void 0:y.payload});case x.a.SET_USERS:return Object(B.a)(Object(B.a)({},E),{allUsers:y.payload.reduce(function(F,G){var H;return Object(B.a)(Object(B.a)({},F),((H={})[G.username]=G,H))},{})});
case x.a.SET_SEARCH_STRING:return Object(B.a)(Object(B.a)({},E),{searchString:y.payload});default:return E}}},416:function(e,a,b){var c,m=b(0);e=b(16);var t=b(54),v=b(535),A=b(38),B=b(532),x=b(534),D=b(533),E=b(536),y=b(26);b=function(G){function H(){return null!==G&&G.apply(this,arguments)||this}return Object(m.d)(H,G),H.prototype.render=function(I){return this.props.availableFilters.map(function(N){return I(F[N],{key:"gb-filter-"+N})})},H}(e.Component);var F=((c={})[A.a.DATE_CREATED]=B.a,c[A.a.OWNER]=
D.a,c[A.a.DESIGNATION]=x.a,c[A.a.USER]=v.a,c[A.a.MEMBERSHIP]=E.a,c);a.a=Object(e.connect)(function(G){var H=Object(t.b)(G)?G:G.gbState,I=H.utils;G=I.portalUser.username;var N=I.portal,M=H.config,J=M.shareMode;I=M.enableUserToggle;H=H.parameters.filter.currentUsername;if(M.withinAppConfig)return{availableFilters:[A.a.OWNER]};if(M.userType===y.e.PUBLIC)switch(J){case y.d.DEFAULT:return{availableFilters:[A.a.OWNER,A.a.DATE_CREATED]};case y.d.GROUP:return{availableFilters:[A.a.DATE_CREATED]}}switch(J){case y.d.DEFAULT:return{availableFilters:Object(m.g)(Object(m.g)([A.a.OWNER],
N.isPortal?[]:[A.a.MEMBERSHIP]),[A.a.DESIGNATION,A.a.DATE_CREATED])};case y.d.GROUP:return{availableFilters:[A.a.DESIGNATION,A.a.DATE_CREATED]};case y.d.ADMIN:return G=I&&G===H?[]:[A.a.OWNER],{availableFilters:Object(m.g)(Object(m.g)(Object(m.g)([],I?[A.a.USER]:[]),G),[A.a.DESIGNATION,A.a.DATE_CREATED])};default:return{availableFilters:[]}}},function(G){return{}})(b)},449:function(e,a){e.exports=r},5:function(e,a,b){function c(E){return 0===Object.keys(E).length&&E.constructor===Object}function m(E){return null!=
E}function t(E,y){return x.apply(null,arguments)}function v(E,y){return D.apply(null,arguments)}b.d(a,"b",function(){return c});b.d(a,"a",function(){return m});b.d(a,"e",function(){return B});b.d(a,"c",function(){return t});b.d(a,"d",function(){return v});var A=b(0);e=b(15);var B=Object(e.a)(function(E,y){var F=Object(A.a)({},y);return delete F[E],F}),x=Object(e.a)(function(E,y){return Object.keys(y).reduce(function(F,G){return F[G]=E(y[G],G,y),F},{})}),D=Object(e.a)(function(E,y){return Object.keys(y).reduce(function(F,
G){return E(y[G],G,y)&&(F[G]=y[G]),F},{})})},51:function(e,a,b){function c(T){return!(!T.urlKey||!T.customBaseUrl)}function m(T){return T.role===G.admin||T.role===G.accountAdmin}function t(T){return Object(N.a)(T.roleId)&&0<(T.roleId||"").length}function v(T){return!t(T)||t(T)&&-1<(T.privileges||[]).indexOf("portal:admin:viewItems")}function A(T){return-1<(T.privileges||[]).indexOf("portal:user:shareToOrg")}function B(T){return-1<(T.privileges||[]).indexOf("portal:user:shareToGroup")}function x(T){return-1<
(T.privileges||[]).indexOf("portal:user:shareToPublic")}function D(T,X){return E(T)||y(T)||X.canSharePublic&&F(T)}function E(T){return-1<(T.privileges||[]).indexOf("portal:admin:shareToGroup")}function y(T){return-1<(T.privileges||[]).indexOf("portal:admin:shareToOrg")}function F(T){return-1<(T.privileges||[]).indexOf("portal:admin:shareToPublic")}b.d(a,"l",function(){return J});b.d(a,"h",function(){return R});b.d(a,"m",function(){return Z});b.d(a,"k",function(){return c});b.d(a,"i",function(){return m});
b.d(a,"j",function(){return t});b.d(a,"g",function(){return v});b.d(a,"b",function(){return A});b.d(a,"a",function(){return B});b.d(a,"c",function(){return x});b.d(a,"d",function(){return E});b.d(a,"e",function(){return y});b.d(a,"f",function(){return F});var G,H=b(63),I=b(148),N=b(5),M=b(58);!function(T){T.user="org_user";T.accountUser="account_user";T.publisher="org_publisher";T.accountPublisher="account_publisher";T.admin="org_admin";T.accountAdmin="account_admin";T.viewer="iAAAAAAAAAAAAAAA";T.dataEditor=
"iBBBBBBBBBBBBBBB"}(G||(G={}));var J=function(T){var X=T.items;return!!T.user.orgId&&X.every(function(aa){return aa.isOrgItem})},R=function(T){var X=T.items,aa=T.user,fa=T.portal;T=X[0];var oa=Object(M.c)(T,aa),ua=t(aa),ha=D(aa,fa);if(ua=Object(M.a)(T,aa)&&-1<(aa.privileges||[]).indexOf("portal:admin:updateItems")&&!ua)ua=!c(fa)||B(aa)||A(aa)||fa.canSharePublic&&x(aa)||D(aa,fa);fa=ua;return!(T.portal.isPortal&&T.owner!==aa.username&&-1<T.owner.indexOf("esri_"))&&(oa||fa||J({items:X,user:aa})&&ha)},
Z=function(T,X){return Object(H.a)(Object(I.a)(T))(X)}},530:function(e,a,b){var c=b(0),m=b(69),t=b(284);e=b(16);var v=b(186),A=b(802),B=b(803),x=b(1019),D=b(54),E=b(374),y=b.n(E),F=b(25);E=b(285);var G=b.n(E),H=b(375);b=function(I){function N(M){M=I.call(this,M)||this;return M.handleInputChange=M.handleInputChange.bind(M),M.handleSortFieldChange=M.handleSortFieldChange.bind(M),M.handleSortOrderChange=M.handleSortOrderChange.bind(M),M.handleSortClick=M.handleSortClick.bind(M),M}return Object(c.d)(N,
I),N.prototype.render=function(M){var J=t.substitute(this.props.userFileringEnabled?m.searchGroupsForUser:m.searchGroups,{user:this.props.currentUser});return M("div",{classes:{"gb-search-area__container":!0,"gb-search-area__container--offset-top":this.props.isWithinShare}},M(H.a,{key:"groupbrowser-search-area-input",title:J,placeholder:J,currentSearchString:this.props.currentSearchString,changeSearchString:this.handleInputChange,controls:"group-browser-results-region"}),!this.props.isWithinShare&&
M("div",{"class":"gb-search-area__btn-section"},M(y.a,{active:this.props.sortActive,key:"gb-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:["title","owner","created","modified"],onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick})),this.props.filteringEnabled&&M(G.a,{key:"ib-ex-filter-btn",active:this.props.filtersOpen,center:!0,handleClick:this.props.toggleFilterSidebar,ariaControls:"filter-pane-container"},
M("div",{"class":"drp-sort__btn-body"},M("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},M("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),M("span",{"class":"drp-sort__btn-label"},m.filter))))},N.prototype.handleInputChange=function(M){this.props.changeSearchString(M);this.props.updateDisplayGroups()},N.prototype.handleSortFieldChange=function(M){this.props.changeSortField(M);this.props.updateDisplayGroups()},N.prototype.handleSortOrderChange=
function(M){this.props.changeSortOrder(M);this.props.updateDisplayGroups()},N.prototype.handleSortClick=function(){this.props.toggleSortDropdown()},N}(e.Component);a.a=Object(e.connect)(function(I){var N=Object(D.b)(I)?I:I.gbState,M=N.ui,J=N.parameters;N=N.config;return{currentSearchString:J.filter.searchString,sortActive:M.sort,sortField:J.sort.field,sortOrder:J.sort.order,filteringEnabled:N.enableFiltering,filtersOpen:M.filter.expanded,isWithinShare:!Object(D.b)(I),userFileringEnabled:N.enableUserToggle,
currentUser:J.filter.currentUsername}},function(I){return{changeSearchString:function(N){return I(Object(v.b)(N))},changeSortField:function(N){return I(Object(A.a)(N))},changeSortOrder:function(N){return I(Object(A.b)(N))},updateDisplayGroups:function(){I(Object(B.a)(1))},toggleSortDropdown:function(){return I(Object(x.a)())},toggleFilterSidebar:function(){I({type:F.a.TOGGLE_EXPANDED_FILTERS})}}})(b)},531:function(e,a,b){var c=b(0),m=b(69);e=b(16);var t=b(54),v=b(416);b=function(A){function B(){return null!==
A&&A.apply(this,arguments)||this}return Object(c.d)(B,A),B.prototype.render=function(x){var D=this.props.filterOpen;return x("div",{classes:{"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--narrow":!0,"ib__big-filters--visible":D,"ib__big-filters--hidden":!D}},x("div",{id:"filter-pane-container",key:"filter-pane-container",classes:{"ib-filter-pane__container":!0,hide:!D}},x("h3",{"class":"ib__big-filter-label"},m.filters),x(v.a,{key:"group-browser-filters"})))},B}(e.Component);a.a=Object(e.connect)(function(A){return{filterOpen:(Object(t.b)(A)?
A:A.gbState).ui.filter.expanded}},function(A){return{}})(b)},532:function(e,a,b){e=b(16);var c=b(376);c=b.n(c);var m=b(54),t=b(186),v=b(159);a.a=Object(e.connect)(function(A){A=Object(m.b)(A)?A:A.gbState;return{dateCreatedFilter:A.parameters.filter.dateCreatedFilter,dateCreatedSection:A.ui.filter.dateCreatedSelectedSection}},function(A){return{onDateCreatedSelect:function(B,x){A(Object(t.d)({section:B,created:x}));A(v.b)}}})(c.a)},533:function(e,a,b){var c=b(0),m=b(69);e=b(16);var t=b(54),v=b(186),
A=b(159),B=b(38),x=b(255),D=b.n(x);x=b(216);var E=b.n(x),y=b(26);b=function(F){function G(){return null!==F&&F.apply(this,arguments)||this}return Object(c.d)(G,F),G.prototype.render=function(H){var I=this.props,N=I.currentFilter,M=I.handleOwnerClick,J=I.username,R=I.userType,Z=I.portal,T=I.hasIndoorsSpaces;return H(D.a,{key:"group-owner-filter-accordion",title:m.owner,clearable:!!N,onClear:function(){M(N)},startActive:!0},H("ul",{"class":"ib-filter-pane__list"},Object.keys(B.d).map(function(X){if(!(X===
B.d.inOrg&&R===y.e.PUBLIC||X===B.d.outsideOrg&&(Z.isPortal||T))){var aa=m.ownerTitles[X];X===B.d.itemOwner?aa=J:X===B.d.outsideOrg&&R===y.e.PUBLIC&&(aa=m.ownerTitles.someOneElse);var fa=B.d[X];return H(E.a,{key:fa,name:aa,value:fa,selectedToggle:N,onToggleClick:function(){M(fa)}})}})))},G}(e.Component);a.a=Object(e.connect)(function(F){var G=Object(t.b)(F)?F:F.gbState;F=G.utils;var H=F.portalUser.username,I=G.parameters.filter,N=I.currentUsername;G=G.config;return{currentFilter:I.ownerFilter,portal:F.portal,
username:G.shareMode===y.d.ADMIN?N:H,userType:G.userType,hasIndoorsSpaces:G.hasIndoorsSpaces}},function(F){return{handleOwnerClick:function(G){F(Object(v.g)(G));F(A.b)}}})(b)},534:function(e,a,b){var c=b(0),m=b(69);e=b(16);var t=b(54),v=b(186),A=b(159),B=b(38),x=b(255),D=b.n(x);x=b(216);var E=b.n(x),y=b(26);b=function(F){function G(){return null!==F&&F.apply(this,arguments)||this}return Object(c.d)(G,F),G.prototype.render=function(H){var I=this.props,N=I.currentFilter,M=I.handleDesignationClick,J=
I.showSharedUpdate,R=I.portal,Z=I.hasIndoorsSpaces;return H(D.a,{key:"group-designation-filter-accordion",title:m.designation,clearable:!!N,onClear:function(){M(N)}},H("ul",{"class":"ib-filter-pane__list"},Object.keys(B.b).filter(function(T){return!(T===B.b.updateGroups&&!J)&&(T!==B.b.openData||!R.isPortal)&&(T!==B.b.distributed||!Z)}).map(function(T){var X=B.b[T];return H(E.a,{key:X,name:m.designationFilterTitles[T],value:X,selectedToggle:N,onToggleClick:function(){M(X)},infoTooltip:"orgSettings"===
X?m.orgSettingsTooltip:void 0})})))},G}(e.Component);a.a=Object(e.connect)(function(F){var G=Object(t.b)(F)?F:F.gbState;F=G.utils;var H=F.portalUser.username,I=G.config,N=I.shareMode;G=G.parameters.filter;var M=G.currentUsername;return{currentFilter:G.designationFilter,portal:F.portal,hasIndoorsSpaces:I.hasIndoorsSpaces,showSharedUpdate:(!I.enableUserToggle||H!==M)&&N!==y.d.GROUP}},function(F){return{handleDesignationClick:function(G){F(Object(v.e)(G));F(A.b)}}})(b)},535:function(e,a,b){var c=b(0),
m=b(69);e=b(16);var t=b(54),v=b(186),A=b(159),B=b(255),x=b.n(B);B=b(216);var D=b.n(B);b=function(E){function y(){return null!==E&&E.apply(this,arguments)||this}return Object(c.d)(y,E),y.prototype.render=function(F){var G=this.props,H=G.currentUsername,I=G.portalUsername,N=G.handleUserClick;return F(x.a,{key:"user-toggle-filter-accordion",title:m.viewGroupsFor,clearable:!1,startActive:!0},F("ul",{"class":"ib-filter-pane__list"},G.allUsernames.map(function(M){var J=M===H;return F(D.a,{key:M,name:I===
M?M+" "+m.me:M,value:M,selectedToggle:H,onToggleClick:function(){J||N(M)}})})))},y}(e.Component);a.a=Object(e.connect)(function(E){E=Object(t.b)(E)?E:E.gbState;var y=E.parameters.filter,F=E.utils.portal.portalUser.username;return{currentUsername:y.currentUsername,portalUsername:F,allUsernames:Object.keys(y.allUsers).sort(function(G){return G===F?1:-1})}},function(E){return{handleUserClick:function(y){E(Object(v.a)());E(Object(v.h)(y));E(A.b)}}})(b)},536:function(e,a,b){var c=b(0),m=b(69);e=b(16);
var t=b(54),v=b(186),A=b(159),B=b(255),x=b.n(B);B=b(216);var D=b.n(B),E=b(38);b=function(y){function F(){return null!==y&&y.apply(this,arguments)||this}return Object(c.d)(F,y),F.prototype.render=function(G){var H=this.props,I=H.currentFilter,N=H.hasTrustedOrgs,M=H.handleMembershipClick;if(!H.hasIndoorsSpaces)return G(x.a,{key:"group-membership-filter-accordion",title:m.membership,clearable:!!I,onClear:function(){M(I)},flex:!0},G("ul",{"class":"ib-filter-pane__list"},Object.keys(E.c).filter(function(J){return N||
"partnered"!==J}).map(function(J){var R=E.c[J];return G(D.a,{key:R,name:m.membershipFilterTitles[J],value:R,selectedToggle:I,onToggleClick:function(){M(R)}})})))},F}(e.Component);a.a=Object(e.connect)(function(y){y=Object(t.b)(y)?y:y.gbState;var F=y.config;return{currentFilter:y.parameters.filter.membershipFilter,hasTrustedOrgs:F.hasTrustedOrgs,hasIndoorsSpaces:F.hasIndoorsSpaces}},function(y){return{handleMembershipClick:function(F){y(Object(v.f)(F));y(A.b)}}})(b)},537:function(e,a,b){var c=b(0);
e=b(16);var m=b(205),t=b.n(m),v=b(542),A=b(538),B=b(144),x=b(54),D=b(137);b=function(E){function y(){var F=null!==E&&E.apply(this,arguments)||this;return F.handleGroupCheck=function(G){if(F.props.enableSingleSelection){var H=Object.keys(F.props.selectedGroups).map(function(I){return F.props.selectedGroups[I].group});F.props.deselectGroups(H)}F.props.selectGroups([G])},F.handleGroupUncheck=function(G){F.props.deselectGroups([G])},F.handleGroupRevert=function(G){F.props.revertGroups([G])},F}return Object(c.d)(y,
E),y.prototype.render=function(F){var G=this.props,H=G.selectorItems,I=G.displayGroups,N=G.selectedGroups,M=G.sortField,J=G.initialSelectedGroups,R=G.portal,Z=G.shouldDisable,T=G.disabledText,X=G.noFilters;G=G.status===D.a.LOADING;var aa={"gb-results-panel__section-container":!0,"gb-results-panel__section-container--loading":G};return F("div",{classes:{"gb-results-panel__container":!0,"ib__big-section":!0,"ib__big-results":!0}},G?F(t.a,{key:"group-browser-loader-bars"}):null,F("section",{classes:aa,
key:"group-browser-section-totals"},F(A.a,{key:"group-browser-totals"})),F("section",{classes:aa,key:"group-browser-section-groups"},F(v.a,{key:"groups-area",selectorItems:H,displayGroups:I,selectedGroups:N,sortField:M,handleGroupCheck:this.handleGroupCheck,handleGroupUncheck:this.handleGroupUncheck,handleGroupRevert:this.handleGroupRevert,initialSelectedGroups:J,portal:R,noFilters:X,shouldDisable:Z,disabledText:T})))},y}(e.Component);a.a=Object(e.connect)(function(E){E=Object(x.b)(E)?E:E.gbState;
var y=E.groups,F=E.config,G=E.parameters,H=G.filter,I=H.ownerFilter,N=H.designationFilter,M=H.dateCreatedFilter;return{status:y.status,displayGroups:y.displayGroups,selectedGroups:y.selectedGroups,sortField:G.sort.field,noFilters:!(H.searchString||N||M||I),portal:E.utils.portal,selectorItems:y.selectorItems,initialSelectedGroups:y.initialSelectedGroups,shouldDisable:F.shouldDisable,disabledText:F.disabledText,enableSingleSelection:F.enableSingleSelection}},function(E){return{selectGroups:function(y){return E(Object(B.d)(y))},
deselectGroups:function(y){return E(Object(B.b)(y))},revertGroups:function(y){return E(Object(B.c)(y))}}})(b)},538:function(e,a,b){var c=b(0),m=b(69),t=b(150);e=b(16);var v=b(144),A=b(539),B=b(54),x=b(137),D=b(541);b=function(E){function y(){var F=null!==E&&E.apply(this,arguments)||this;return F.handleSelectAll=function(){F.props.selectGroups(F.props.displayGroups)},F.handleDeselectAll=function(){F.props.deselectGroups(F.props.displayGroups)},F.handleClearSelection=function(){F.props.clearAll()},
F}return Object(c.d)(y,E),y.prototype.render=function(F){var G=this,H=this.props,I=H.displayGroups,N=H.selectedGroups,M=H.selectorItems,J=H.portal,R=H.isWithinShare,Z=H.enableSingleSelection;H=function(aa){var fa=aa.fullySelectedGroups,oa=aa.displayGroups.map(function(ua){return ua.id});return fa.filter(function(ua){return 0<=oa.indexOf(ua.id)})}({fullySelectedGroups:H.fullySelectedGroups,displayGroups:I});I=I.length===H.length;H=Object.keys(N).map(function(aa){return N[aa]});var T="en"===t.locale.slice(0,
2),X=(T?m.pageRange.en:m.pageRange.other).replace("${start}",this.props.startNum).replace("${end}",this.props.endNum).replace("${total}",this.props.totalItems);T=(T?m.total.en:m.total.other).replace("${total}",this.props.totalItems);return F("div",{"class":"gb-total-area__wrap",key:"gb-total-area__wrap"},F("div",{"class":"gb-total-area__container",key:"gb-total-area-checked"},0<H.length&&F(A.a,{key:"selected-groups-dropdown",groups:H,items:M,handleGroupClick:function(aa){G.props.deselectGroups([aa])},
portal:J}),0<H.length&&F("button",{key:"gb-clear-selection-btn",id:"gb__clear-selection-btn","class":"gb-total-area__btn-link",onclick:this.handleClearSelection},m.clearSelection),0===H.length&&F("span",{"class":"gb-total-area__description"},X,F("span",{"class":"gb-total-area__screen-reader-total","aria-live":"polite",id:"group-browser-results-region"},T)),R||Z?null:I?F("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleDeselectAll},m.deselectAllOnPage):
F("button",{key:"gb-select-all-btn",id:"gb__select-all-input","class":"gb-total-area__clear-btn",onclick:this.handleSelectAll},m.selectAllOnPage)),F(D.a,{key:"gb-filter-chips"}))},y}(e.Component);a.a=Object(e.connect)(function(E){var y=Object(B.b)(E)?E:E.gbState,F=y.groups,G=F.total,H=F.selectedGroups,I=F.selectorItems,N=y.config,M=N.groupsPerPage;N=N.enableSingleSelection;var J=y.utils.portal,R=y.ui.page.currentPageNumber,Z=0===G?0:M*(R-1)+1;M=G<M*R?G:M*R;return{displayGroups:F.displayGroups,fullySelectedGroups:Object(x.d)(y.groups),
selectedGroups:H,selectorItems:I,startNum:Z,endNum:M,totalItems:G,portal:J,isWithinShare:!Object(B.b)(E),enableSingleSelection:N}},function(E){return{selectGroups:function(y){return E(Object(v.d)(y))},deselectGroups:function(y){return E(Object(v.b)(y))},clearAll:function(){return E(Object(v.a)())}}})(b)},539:function(e,a,b){var c=b(0),m=b(69),t=b(150);e=b(16);var v=b(90),A=b(540),B={open:!1};b=function(x){function D(){var E=null!==x&&x.apply(this,arguments)||this;return E.state=B,E.handleClick=function(y){y=
y.target;E.dropdown&&E.dropdown.contains(y)||((y=E.toggleButton&&E.toggleButton.contains(y))?E.setState({open:!E.state.open}):E.state.open&&!y&&E.setState({open:!1}))},E}return Object(c.d)(D,x),D.prototype.render=function(E){var y=this,F=this.props,G=F.groups,H=F.handleGroupClick,I=F.items,N=F.portal;F=1<G.length?m.groupsSelected.enPlural:m.groupsSelected.en;"en"!==t.locale.slice(0,2)&&(F=m.groupsSelected.other);F=F.replace("${num}",G.length);var M=I.some(function(J){return!!J.username});return E("div",
{key:"selected-dropdown","class":"selected-dropdown",afterCreate:function(){document.addEventListener("click",y.handleClick)},afterRemoved:function(){document.removeEventListener("click",y.handleClick);y.setState(B)}},E("button",{"class":"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(J){y.toggleButton=J},afterRemoved:function(){y.toggleButton=void 0}},E("span",{"class":"selected-dropdown__toggle-button__text"},F),E("svg",{role:"img",
style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},E("path",{d:v.a}))),this.state.open&&E("div",{"class":"selected-dropdown__list__container",key:"selected-dropdown__list__container",afterCreate:function(J){y.dropdown=J},afterRemoved:function(){y.dropdown=void 0}},E("h3",{"class":"selected-dropdown__list__title"},m.selectedGroups),E("ul",{id:"selected-dropdown__list","class":"selected-dropdown__list",key:"selected-dropdown__list",
role:"menu"},G.map(function(J){return E(A.a,{selectedGroupData:J,itemTotal:I.length,handleCloseClick:H,key:J.group.id,portal:N,isMemberSelector:M})}))))},D}(e.Component);a.a=b},54:function(e,a,b){b.d(a,"b",function(){return v});b.d(a,"a",function(){return A});b.d(a,"c",function(){return B});e=b(16);a=b(215);var c=b(208),m=b(137),t=b(210);b=b(207);var v=function(x){return!x.gbState},A={config:b.b,parameters:c.b,groups:m.f,ui:t.b,utils:a.b},B=Object(e.combineReducers)({config:b.a,parameters:c.a,groups:m.b,
ui:t.a,utils:a.a})},540:function(e,a,b){var c=b(0),m=b(69),t=b(150);e=b(16);var v=b(249),A=b(90);b=function(B){function x(){return null!==B&&B.apply(this,arguments)||this}return Object(c.d)(x,B),x.prototype.render=function(D){var E=this.props,y=E.selectedGroupData,F=E.handleCloseClick,G=E.itemTotal,H=E.portal,I=y.group;y=y.selectedByIds&&y.selectedByIds.length;E=E.isMemberSelector?m.membersSelected:m.itemsSelected;E="en"===t.locale.slice(0,2)?E.en.replace("${num}",y).replace("${total}",G):E.other.replace("${num}",
y).replace("${total}",G);var N=m.deselectGroup.replace("${name}",I.title);return D("li",{"class":"selected-dropdown__list-item",role:"menuitem",key:I.id},D(v.a,{group:I,stacked:!0,portal:H}),D("span",{"class":"selected-dropdown__list-item__description"},I.title,y!==G&&D("span",{"class":"selected-dropdown__list-item__count"},E)),D("button",{"class":"selected-dropdown__list-item__button",onclick:function(){F(I)},"aria-label":N},D("svg",null,D("path",{d:A.j}))))},x}(e.Component);a.a=b},541:function(e,
a,b){var c=b(0),m=b(69),t=b(284);e=b(16);var v=b(54),A=b(38),B=b(449),x=b.n(B),D=b(186),E=b(159),y=b(26);b=function(G){function H(){var I=null!==G&&G.apply(this,arguments)||this;return I.state={filterOpen:!1},I}return Object(c.d)(H,G),H.prototype.render=function(I){var N=this,M=this.props,J=M.activeFilters,R=M.handleClearAllFilters,Z=M.handleClearFilter,T=this.state.filterOpen;if(0!==J.length)return I("div",{"class":"ib__active-filters gb-filter-chip-wrap",key:"filter-chip-wrap"},I("div",{"class":"filter-controller__container",
key:"filter-controller__container"},I("span",{"class":"filter-controller__label"},m.filters,":"),I("div",{"class":"filter-controller__chip-container margin-right-half filter-controller__chip-container--full-width"},T?J.map(function(X){return I(x.a,{filterId:X.type,handleRemoveFilter:function(aa){Z(X.type)},key:X.type,text:X.text})}):I(x.a,{filterId:J[0].type,handleRemoveFilter:function(X){Z(J[0].type)},key:J[0].type,text:J[0].text}),1<J.length&&I("button",{onclick:function(){return N.setState({filterOpen:!T})},
key:"filter-controller-more-button",classes:{"filter-controller__expand-btn":!0,"filter-controller__expand-btn--dark":T}},(T?"- ":"+ ")+(J.length-1)),I("button",{"class":"filter-controller__clear-btn",onclick:R},m.clearAll))))},H}(e.Component);a.a=Object(e.connect)(function(G){G=Object(v.b)(G)?G:G.gbState;return{activeFilters:F({filterState:G.parameters.filter,username:G.utils.portalUser.username,isPublic:G.config.userType===y.e.PUBLIC})}},function(G){return{handleClearAllFilters:function(){G(Object(D.a)());
G(E.b)},handleClearFilter:function(H){G(Object(D.a)(H));G(E.b)}}})(b);var F=function(G){var H=G.filterState,I=H.designationFilter,N=H.ownerFilter,M=H.dateCreatedFilter,J=H.membershipFilter;H=G.username;G=G.isPublic;var R=[];I&&R.push({text:t.substitute(m.filterChips.designation,{designation:m.designationFilterTitles[I]}),type:A.a.DESIGNATION});N&&(I=N===A.d.itemOwner&&H||m.ownerTitles[N],N===A.d.outsideOrg&&G&&(I=m.ownerTitles.someOneElse),R.push({text:t.substitute(m.filterChips.owner,{owner:I}),
type:A.a.OWNER}));if(M&&R.push({text:t.substitute(m.filterChips.created,{created:M.label}),type:A.a.DATE_CREATED}),J){var Z="";Object.keys(A.c).some(function(T){return A.c[T]===J&&(Z=T),Z});R.push({text:t.substitute(m.filterChips.membership,{membership:m.membershipFilterTitles[Z]}),type:A.a.MEMBERSHIP})}return R}},542:function(e,a,b){var c=b(69);e=b(543);var m=b.n(e);e=b(544);var t=b.n(e),v=b(307),A=b(137);a.a=function(B,x){var D=B.displayGroups,E=B.handleGroupCheck,y=B.handleGroupUncheck,F=B.selectedGroups,
G=B.sortField,H=B.portal,I=B.selectorItems,N=B.initialSelectedGroups,M=B.handleGroupRevert,J=B.shouldDisable,R=B.noFilters,Z=B.disabledText;return 0===D.length?x(v.a,{key:"no-group-results",text:R?c.noGroupsAvailable:c.noGroupsFound}):D.map(function(T){var X=F[T.id],aa=X&&Object(A.e)(X,I);if(0===I.length)return x(m.a,{checked:aa,group:T,key:T.id,sortField:G,onCheckGroup:E,onUncheckGroup:y,portal:H,shouldDisable:J,disabledText:Z});var fa=N[T.id],oa=!!(X&&!aa&&X.selectedByIds&&0<X.selectedByIds.length);
fa=fa&&fa.selectedByIds||[];var ua=X&&X.selectedByIds||[];X=I.filter(function(ha){return-1<ua.indexOf(ha.id)});return x(t.a,{group:T,checked:aa,indeterminate:oa,initialSelectedByIds:fa,selectedBy:X,allSelectorItemIds:I.map(function(ha){return ha.id}),key:T.id,sortField:G,onCheckGroup:E,onUncheckGroup:y,onRevertGroup:M,portal:H,shouldDisable:J,disabledText:"",selectors:I})})}},543:function(e,a){e.exports=l},544:function(e,a){e.exports=d},58:function(e,a,b){function c(x,D){return(null==x?void 0:x.owner)===
D.username}function m(x,D){var E;if(!(E=c(x,D)))if(Object(v.a)(x.isAdmin))E=!!x.isAdmin;else{E=x.owner;var y="admin"===x.itemControl;E=!(x.portal.isPortal&&!c(x,D)&&y&&-1<E.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(E))&&y}return E}function t(x,D){return m(x,D)||"update"===x.itemControl}b.d(a,"d",function(){return c});b.d(a,"c",function(){return m});b.d(a,"a",function(){return t});b.d(a,"b",function(){return B});var v=b(5),A=b(51),B=function(x){var D=x.user,
E=x.items;x=x.portal;return Object(A.l)({items:E,user:D})&&Object(A.h)({items:E,user:D,portal:x})&&Object(A.g)(D)&&E[0].itemOwner||D}},61:function(e,a,b){function c(R){var Z=R.groupIds,T=R.shareLevelOptions,X=R.restUrl,aa=R.request,fa=R.unshare;return B.Promise.all(R.items.map(function(oa,ua){return new B.Promise(function(ha,U){aa(X+"/content/items/"+(oa.itemId||oa.id)+"/"+(fa?"unshare":"share"),{method:"post",query:Object(v.a)({f:"json",groups:Z,confirmItemControl:!0},T||{})}).then(ha,U)})}))["catch"](function(oa){throw oa;
})}function m(R,Z){return new B.Promise(function(T,X){var aa,fa=null===(aa=R.helpMap)||void 0===aa?void 0:aa.m;fa?T(fa):Z(R.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(oa){var ua;T(null===(ua=oa.data.helpMap)||void 0===ua?void 0:ua.m)},X)})}b.d(a,"h",function(){return D});b.d(a,"g",function(){return E});b.d(a,"b",function(){return y});b.d(a,"e",function(){return F});b.d(a,"d",function(){return G});b.d(a,"f",function(){return M});b.d(a,"c",function(){return J});b.d(a,
"a",function(){return m});var t,v=b(0),A=b(30),B=b(28);e=b(26);var x=b(58),D=function(R){var Z=R.items,T=R.groups,X=R.restUrl,aa=R.request,fa=R.portalUser;if(0===Z.length)return B.Promise.resolve();var oa=Object(A.b)(T);return Z.every(function(ua){return Object(x.d)(ua,fa)})?new B.Promise(function(ua,ha){if(!T||0===T.length)return ua();var U={f:"json",items:Object(A.b)(Z),groups:oa};aa(X+"/content/users/"+fa.username+"/unshareItems",{method:"post",query:U}).then(ua,ha)}):c({items:Z,groupIds:oa,restUrl:X,
request:aa,unshare:!0})},E=function(R){var Z=R.items,T=R.groups,X=R.restUrl,aa=R.request,fa=R.portalUser,oa=R.selectedOptions;R=R.ignoreShareLevel;if(0===Z.length)return B.Promise.resolve();if(!R&&!oa)throw"Selected options must be provided unless share level is ignored.";var ua=Object(A.b)(T),ha=R?{}:H(oa);return Z.every(function(U){return Object(x.d)(U,fa)})?new B.Promise(function(U,ka){aa(X+"/content/users/"+fa.username+"/shareItems",{method:"post",query:Object(v.a)({f:"json",items:Object(A.b)(Z),
groups:ua,confirmItemControl:!0},ha)}).then(function(W){W=W.data;W.results.every(function(Q){return Q.success})?U():ka(W)},ka)}):c({items:Z,groupIds:ua,shareLevelOptions:ha,restUrl:X,request:aa})},y=function(R){return R.reduce(function(Z,T){return Object(v.g)(Object(v.g)([],Z),T)},[])},F=function(R){return 1<Object.keys(R).filter(function(Z){return"total"!==Z&&0<R[Z]}).length},G=function(R){return Object.keys(R).filter(function(Z){return"total"!==Z}).reduce(function(Z,T){return R[T]===R.total?T:Z})},
H=function(R){return F(R)?{}:I[G(R)]},I=((t={})[e.b["public"]]={org:!1,everyone:!0},t[e.b.org]={org:!0,everyone:!1},t[e.b["private"]]={org:!1,everyone:!1},t[e.b.shared]={org:!1,everyone:!1},t),N="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),M=function(R){var Z,T,X=R.typeKeywords,aa=R.type;aa=N.some(function(oa){return-1<X.indexOf(oa)})&&"Real Time Analytic"!==
aa&&"Big Data Analytic"!==aa;var fa=!(null===(Z=null==R?void 0:R.portal)||void 0===Z?0:Z.isPortal)&&"Image Service"===R.type&&-1<(null===(T=R.url)||void 0===T?void 0:T.indexOf("://iservices"))&&-1<R.url.indexOf("arcgis.com");R="Knowledge Graph"===R.type;return aa||fa||R},J=function(R,Z,T){return T&&Z["public"]===Z.total?R.filter(function(X){return-1<X.typeKeywords.indexOf("DeveloperBasemap")}):[]}},63:function(e,a,b){function c(){for(var m=[],t=0;t<arguments.length;t++)m[t]=arguments[t];return function(v){return m.reduceRight(function(A,
B){return B(A)},v)}}b.d(a,"a",function(){return c})},68:function(e,a,b){var c;b.d(a,"a",function(){return c});(function(m){m.LOADING_GROUPS="LOADING_GROUPS";m.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";m.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";m.SELECT_GROUPS="SELECT_GROUPS";m.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";m.DESELECT_GROUPS="DESELECT_GROUPS";m.REVERT_GROUPS="REVERT_GROUPS";m.CLEAR_SELECTION="CLEAR_SELECTION";m.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";m.SET_HAS_GROUPS="SET_HAS_GROUPS"})(c||(c=
{}))},69:function(e,a){e.exports=K},802:function(e,a,b){b.d(a,"a",function(){return m});b.d(a,"b",function(){return t});var c=b(83),m=function(v){return{type:c.a.CHANGE_SORT_FIELD,payload:v}},t=function(v){return{type:c.a.CHANGE_SORT_ORDER,payload:v}}},803:function(e,a,b){b.d(a,"a",function(){return t});var c=b(159),m=b(204),t=function(v){return function(A,B){A({type:m.a.SET_PAGE,payload:v});A(c.b)}}},83:function(e,a,b){var c;b.d(a,"a",function(){return c});(function(m){m.SET_SEARCH_STRING="SET_SEARCH_STRING";
m.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";m.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";m.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";m.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";m.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";m.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";m.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";m.SET_USERS="SET_USERS";m.CLEAR_FILTERS="CLEAR_FILTERS"})(c||(c={}))},855:function(e,a,b){b.r(a);var c=b(0),m=b(69);e=b(16);var t=b(54);b.d(a,"reducers",
function(){return t.c});b.d(a,"initialState",function(){return t.a});var v=b(144);b.d(a,"deselectGroups",function(){return v.b});b.d(a,"selectGroups",function(){return v.d});var A=b(159);b.d(a,"search",function(){return A.b});var B=b(803),x=b(372),D=b.n(x),E=b(530),y=b(531),F=b(537);x=b(373);var G=b.n(x),H=b(416),I=b(226);b=function(N){function M(){var J=null!==N&&N.apply(this,arguments)||this;return J.handlePageChange=function(R){var Z;J.props.setPageAndUpdateGroups(R);(null===(Z=J.el)||void 0===
Z?0:Z.parentElement)&&(J.el.parentElement.scrollTop=0)},J}return Object(c.d)(M,N),M.prototype.render=function(J){var R=this,Z=this.props,T=Z.currentTotal,X=Z.groupsPerPage,aa=Z.currentPage,fa=Z.filtersOpen;Z=Z.toggleFilters;return J("div",{"class":"group-browser__container",afterCreate:function(oa){oa&&!R.el&&(R.el=oa)}},J(E.a,{key:"group-browser-search-area"}),J("div",{"class":"ib__big-row"},J(y.a,{key:"group-browser-filter-sidebar"}),J(F.a,{key:"group-browser-results-panel"})),J(D.a,{key:"group-browse-pager",
numPages:X>T?1:Math.ceil(T/X),currentPage:aa,onPageChange:this.handlePageChange}),J("div",{"class":"ib__big-overlay-filters"},J(G.a,{key:"mobile-filter-wrap",maxHeight:!0,open:fa,onClose:Z,title:m.filters},J(H.a,{key:"mobile-filters"}))))},M}(e.Component);a["default"]=Object(e.connect)(function(N){N=Object(t.b)(N)?N:N.gbState;var M=N.ui;return{currentPage:M.page.currentPageNumber,groupsPerPage:N.config.groupsPerPage,currentTotal:N.groups.total,filtersOpen:M.filter.expanded}},function(N){return{setPageAndUpdateGroups:function(M){N(Object(B.a)(M))},
toggleFilters:function(){N(Object(I.i)())}}})(b)},90:function(e,a,b){b.d(a,"a",function(){return c});b.d(a,"b",function(){return m});b.d(a,"c",function(){return t});b.d(a,"d",function(){return v});b.d(a,"e",function(){return A});b.d(a,"h",function(){return B});b.d(a,"i",function(){return x});b.d(a,"j",function(){return D});b.d(a,"k",function(){return E});b.d(a,"g",function(){return y});b.d(a,"f",function(){return F});var c="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",m="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",
t="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
v="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",A="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",B="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
x="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
D="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",E="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",y="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",F="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
99:function(e,a,b){function c(x,D){if(null==x?0:x.length)for(var E=void 0,y=0;y<x.length;y++)if(D(E=x[y]))return E}function m(x){return x.filter(function(D){return 0<D.length})}function t(x,D,E){var y=[];return D.forEach(function(F){(E?F[E].toLowerCase()===x.toLowerCase():F.toLowerCase()===x.toLowerCase())?y.unshift(F):y.push(F)}),y}b.d(a,"e",function(){return v});b.d(a,"f",function(){return A});b.d(a,"c",function(){return c});b.d(a,"b",function(){return m});b.d(a,"a",function(){return B});b.d(a,
"d",function(){return t});e=b(15);var v=function(x,D,E){return E.indexOf(x)===D},A=Object(e.a)(function(x,D){var E={};return D.filter(function(y){return!E[y[x]]&&(E[y[x]]=!0,!0)})}),B=function(x,D){return x.length===D.length&&x.reduce(function(E,y){return E&&-1<D.indexOf(y)},!0)}}})})},"arcgis-components/GroupCards/GroupCheckCard/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Ago2018Checkbox","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/GroupCheckCard/nls/resources"],
function(O,K,n,q,p){return function(h){function f(k){if(g[k])return g[k].exports;var u=g[k]={i:k,l:!1,exports:{}};return h[k].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var g={};return f.m=h,f.c=g,f.d=function(k,u,w){f.o(k,u)||Object.defineProperty(k,u,{enumerable:!0,get:w})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,u){if((1&u&&(k=f(k)),8&u)||4&u&&
"object"==typeof k&&k&&k.__esModule)return k;var w=Object.create(null);if(f.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:k}),2&u&&"string"!=typeof k)for(var C in k)f.d(w,C,function(z){return k[z]}.bind(null,C));return w},f.n=function(k){var u=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(u,"a",u),u},f.o=function(k,u){return Object.prototype.hasOwnProperty.call(k,u)},f.p="",f(f.s=856)}({0:function(h,f,g){function k(e,a){function b(){this.constructor=
e}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");l(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function u(e,a){var b={},c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&0>a.indexOf(c)&&(b[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var m=0;for(c=Object.getOwnPropertySymbols(e);m<c.length;m++)0>a.indexOf(c[m])&&Object.prototype.propertyIsEnumerable.call(e,c[m])&&
(b[c[m]]=e[c[m]])}return b}function w(e,a,b,c){var m,t=arguments.length,v=3>t?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(e,a,b,c);else for(var A=e.length-1;0<=A;A--)(m=e[A])&&(v=(3>t?m(v):3<t?m(a,b,v):m(a,b))||v);return 3<t&&v&&Object.defineProperty(a,b,v),v}function C(e,a,b,c){return new (b||(b=Promise))(function(m,t){function v(x){try{B(c.next(x))}catch(D){t(D)}}function A(x){try{B(c["throw"](x))}catch(D){t(D)}}
function B(x){var D;x.done?m(x.value):(D=x.value,D instanceof b?D:new b(function(E){E(D)})).then(v,A)}B((c=c.apply(e,a||[])).next())})}function z(e,a){function b(B){return function(x){return function(D){if(c)throw new TypeError("Generator is already executing.");for(;A;)try{if(c=1,m&&(t=2&D[0]?m["return"]:D[0]?m["throw"]||((t=m["return"])&&t.call(m),0):m.next)&&!(t=t.call(m,D[1])).done)return t;switch(m=0,t&&(D=[2&D[0],t.value]),D[0]){case 0:case 1:t=D;break;case 4:return A.label++,{value:D[1],done:!1};
case 5:A.label++;m=D[1];D=[0];continue;case 7:D=A.ops.pop();A.trys.pop();continue;default:if(!(t=A.trys,(t=0<t.length&&t[t.length-1])||6!==D[0]&&2!==D[0])){A=0;continue}if(3===D[0]&&(!t||D[1]>t[0]&&D[1]<t[3]))A.label=D[1];else if(6===D[0]&&A.label<t[1])A.label=t[1],t=D;else if(t&&A.label<t[2])A.label=t[2],A.ops.push(D);else{t[2]&&A.ops.pop();A.trys.pop();continue}}D=a.call(e,A)}catch(E){D=[6,E],m=0}finally{c=t=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,x])}}var c,m,t,v,A={label:0,
sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return v={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function r(e,a){for(var b=0,c=a.length,m=e.length;b<c;b++,m++)e[m]=a[b];return e}g.d(f,"d",function(){return k});g.d(f,"a",function(){return d});g.d(f,"f",function(){return u});g.d(f,"c",function(){return w});g.d(f,"b",function(){return C});g.d(f,"e",function(){return z});g.d(f,"g",function(){return r});var l=function(e,
a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])})(e,a)},d=function(){return(d=Object.assign||function(e){for(var a,b=1,c=arguments.length;b<c;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e}).apply(this,arguments)};Object.create;Object.create},128:function(h,f,g){g.d(f,"a",function(){return u});g.d(f,"b",function(){return w});
var k=g(0);h=g(15);var u=function(C,z){var r;return z.thumbnail&&(r=C.restUrl+"/community/groups/"+z.id+"/info/"+z.thumbnail+(C.credential?"?token\x3d"+C.credential.token:"")),r},w=Object(h.a)(function(C,z){return Object(k.a)(Object(k.a)({},z),{thumbURI:u(C,z)})})},15:function(h,f,g){function k(w){return function z(){for(var r=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return l.length>=w.length?w.call.apply(w,Object(u.g)([this],l)):function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=
arguments[a];return z.call.apply(z,Object(u.g)(Object(u.g)([r],l),e))}}}g.d(f,"a",function(){return k});var u=g(0)},151:function(h,f){h.exports=K},18:function(h,f){h.exports=O},249:function(h,f,g){var k=g(128);f.a=function(u,w){var C=u.group,z=u.stacked,r=u.portal;z={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!C.thumbURI,"gcard-thumbnail--stacked":void 0!==z&&z,"gcard-thumbnail--transparent":u.transparent};if(C.thumbnail&&!C.thumbURI&&r&&(C.thumbURI=Object(k.a)(r,C)),C.thumbURI)return w("img",
{src:C.thumbURI,classes:z,alt:C.title});r=!(!C.title.charAt(0)||!C.title.charAt(0).match(/^\w+$/));return w("div",{key:"group-thumbnail-"+C.id,classes:z},w("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},w("path",{fill:"#"+C.id.substr(C.id.length-6),d:"M0 0h65v65H0z"}),w("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),r?w("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central",
"text-anchor":"middle"},C.title.slice(0,1).toUpperCase()):w("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(h,f){h.exports=n},377:function(h,f){h.exports=q},450:function(h,f){h.exports=p},856:function(h,f,g){g.r(f);var k=g(0),u=g(450),w=g(151);h=g(18);var C=g(249),z=g(308),r=g.n(z);z=g(377);var l=g.n(z);g=function(d){function e(){var a=null!==d&&d.apply(this,arguments)||this;return a.handleCheckClick=function(){var b,c;null!==(c=(b=a.props).shouldDisable)&&void 0!==c&&c.call(b,a.props.group)||(b=a.props.checked?a.props.onUncheckGroup:a.props.onCheckGroup)&&b(a.props.group)},a}return Object(k.d)(e,
d),e.prototype.render=function(a){var b=this.props,c=b.checked,m=b.group,t=b.portal,v=b.key,A=b.shouldDisable;b=m.owner;var B=m.title,x=this.props,D=x.group;var E=D.created;D=D.modified;E=(x=x.sortField)&&"created"===x?u.created+": "+w.format(new Date(E),{selector:"date",formatLength:"medium"}):u.modified+": "+w.format(new Date(0<D?D:E),{selector:"date",formatLength:"medium"});x=(A=!(null==A||!A(this.props.group)))&&this.props.disabledText;return a("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":this.props.checked,
"gcard-gcc__container--disabled":A},key:v,onclick:this.handleCheckClick},a(r.a,{key:"gcard-gcc__checkbox-"+m.id,checked:c,onChange:this.handleCheckClick,title:B}),a(C.a,{group:this.props.group,portal:this.props.portal}),a("div",{"class":"gcard-gcc__flex"},a("div",{"class":"gcard-gcc__title-owner"},a("span",{"class":"gcard-gcc__title"},B),a("a",{href:t.baseUrl+"/home/user.html?user\x3d"+b,"class":"gcard-gcc__owner",target:"_blank"},b),a("span",{"class":"gcard-gcc__small-info"},E),x?a("div",{"class":"gcard-gcc__disabled-text"},
a("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},a("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),a("span",{"class":"margin-left-quarter font-size--2"},this.props.disabledText)):null),a("div",{"class":"gcard-gcc__info"},a("span",null,E))),a(l.a,{key:"gcard-gcc__toggle-"+m.id,id:"gcard-toggle-"+m.id,value:c,handleToggleClick:this.handleCheckClick,
label:""}))},e}(h.Component);f["default"]=g}})})},"arcgis-components/Buttons/Ago2018Checkbox":function(){define(["../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,
h)},n.p="",n(n.s=825)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<
d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}
function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=
v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?
v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});
q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},16:function(K,n){K.exports=
O},825:function(K,n,q){q.r(n);var p=q(0);K=function(h){function f(g){g=h.call(this,g)||this;return g.handleCheckChange=g.handleCheckChange.bind(g),g}return Object(p.d)(f,h),f.prototype.render=function(g){var k=Object(p.a)({"btn-2018check__wrap":!0},this.props.wrapperClasses),u={"btn-2018check__custom":!0,"btn-2018check__custom--large":this.props.large,"btn-2018check__custom--active":this.props.checked||this.props.indeterminate,"btn-2018check__custom--disabled":this.props.disabled},w=this.props.large?
"20":"16";return g("span",{classes:k,key:this.props.key},g("input",{type:"checkbox",checked:this.props.checked,classes:{"btn-2018check__input":!0,"btn-2018check__input--disabled":this.props.disabled},indeterminate:this.props.indeterminate,onclick:this.handleCheckChange,title:this.props.title,id:this.props.id,"aria-label":this.props.title,disabled:this.props.disabled,"aria-describedby":this.props.describedBy}),g("span",{classes:u},this.props.checked?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",
width:w,height:w,viewBox:"0 0 16 16"},g("path",{d:"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"})):this.props.indeterminate?g("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:w,height:w,viewBox:"0 0 16 16"},g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 7h8v2H4z"})):null))},f.prototype.handleCheckChange=function(g){var k,u;g.stopPropagation();g.preventDefault();this.props.disabled||null!==(u=null===(k=this.props)||void 0===k?void 0:k.onChange)&&void 0!==u&&
u.call(k,!this.props.checked)},f}(q(16).Component);n["default"]=K}})})},"arcgis-components/GroupCards/MultiselectableGroupCard/index":function(){define(["../../Component","../../Buttons/Ago2018Checkbox","../../GroupBadges/index","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/MultiselectableGroupCard/nls/resources"],function(O,K,n,q,p){return function(h){function f(k){if(g[k])return g[k].exports;var u=g[k]={i:k,l:!1,exports:{}};return h[k].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var g=
{};return f.m=h,f.c=g,f.d=function(k,u,w){f.o(k,u)||Object.defineProperty(k,u,{enumerable:!0,get:w})},f.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},f.t=function(k,u){if((1&u&&(k=f(k)),8&u)||4&u&&"object"==typeof k&&k&&k.__esModule)return k;var w=Object.create(null);if(f.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:k}),2&u&&"string"!=typeof k)for(var C in k)f.d(w,
C,function(z){return k[z]}.bind(null,C));return w},f.n=function(k){var u=k&&k.__esModule?function(){return k["default"]}:function(){return k};return f.d(u,"a",u),u},f.o=function(k,u){return Object.prototype.hasOwnProperty.call(k,u)},f.p="",f(f.s=857)}({0:function(h,f,g){function k(e,a){function b(){this.constructor=e}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");l(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,
new b)}function u(e,a){var b={},c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&0>a.indexOf(c)&&(b[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var m=0;for(c=Object.getOwnPropertySymbols(e);m<c.length;m++)0>a.indexOf(c[m])&&Object.prototype.propertyIsEnumerable.call(e,c[m])&&(b[c[m]]=e[c[m]])}return b}function w(e,a,b,c){var m,t=arguments.length,v=3>t?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=
Reflect.decorate(e,a,b,c);else for(var A=e.length-1;0<=A;A--)(m=e[A])&&(v=(3>t?m(v):3<t?m(a,b,v):m(a,b))||v);return 3<t&&v&&Object.defineProperty(a,b,v),v}function C(e,a,b,c){return new (b||(b=Promise))(function(m,t){function v(x){try{B(c.next(x))}catch(D){t(D)}}function A(x){try{B(c["throw"](x))}catch(D){t(D)}}function B(x){var D;x.done?m(x.value):(D=x.value,D instanceof b?D:new b(function(E){E(D)})).then(v,A)}B((c=c.apply(e,a||[])).next())})}function z(e,a){function b(B){return function(x){return function(D){if(c)throw new TypeError("Generator is already executing.");
for(;A;)try{if(c=1,m&&(t=2&D[0]?m["return"]:D[0]?m["throw"]||((t=m["return"])&&t.call(m),0):m.next)&&!(t=t.call(m,D[1])).done)return t;switch(m=0,t&&(D=[2&D[0],t.value]),D[0]){case 0:case 1:t=D;break;case 4:return A.label++,{value:D[1],done:!1};case 5:A.label++;m=D[1];D=[0];continue;case 7:D=A.ops.pop();A.trys.pop();continue;default:if(!(t=A.trys,(t=0<t.length&&t[t.length-1])||6!==D[0]&&2!==D[0])){A=0;continue}if(3===D[0]&&(!t||D[1]>t[0]&&D[1]<t[3]))A.label=D[1];else if(6===D[0]&&A.label<t[1])A.label=
t[1],t=D;else if(t&&A.label<t[2])A.label=t[2],A.ops.push(D);else{t[2]&&A.ops.pop();A.trys.pop();continue}}D=a.call(e,A)}catch(E){D=[6,E],m=0}finally{c=t=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([B,x])}}var c,m,t,v,A={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return v={next:b(0),"throw":b(1),"return":b(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function r(e,a){for(var b=0,c=a.length,m=e.length;b<c;b++,m++)e[m]=
a[b];return e}g.d(f,"d",function(){return k});g.d(f,"a",function(){return d});g.d(f,"f",function(){return u});g.d(f,"c",function(){return w});g.d(f,"b",function(){return C});g.d(f,"e",function(){return z});g.d(f,"g",function(){return r});var l=function(e,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])})(e,a)},d=function(){return(d=Object.assign||function(e){for(var a,
b=1,c=arguments.length;b<c;b++)for(var m in a=arguments[b])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e}).apply(this,arguments)};Object.create;Object.create},128:function(h,f,g){g.d(f,"a",function(){return u});g.d(f,"b",function(){return w});var k=g(0);h=g(15);var u=function(C,z){var r;return z.thumbnail&&(r=C.restUrl+"/community/groups/"+z.id+"/info/"+z.thumbnail+(C.credential?"?token\x3d"+C.credential.token:"")),r},w=Object(h.a)(function(C,z){return Object(k.a)(Object(k.a)({},
z),{thumbURI:u(C,z)})})},15:function(h,f,g){function k(w){return function z(){for(var r=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return l.length>=w.length?w.call.apply(w,Object(u.g)([this],l)):function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return z.call.apply(z,Object(u.g)(Object(u.g)([r],l),e))}}}g.d(f,"a",function(){return k});var u=g(0)},18:function(h,f){h.exports=O},181:function(h,f,g){g.d(f,"b",function(){return C});g.d(f,"c",function(){return z});g.d(f,"a",
function(){return r});var k=g(63);h=g(5);var u=g(99),w=g(128),C=function(l,d){return Object(k.a)(Object(w.b)(l))(d)},z=Object(k.a)(Object(h.e)("thumbURI")),r=function(l){var d=l.initialSelectedByIds;return!Object(u.a)(l.selectedBy.map(function(e){return e.id}),d)}},249:function(h,f,g){var k=g(128);f.a=function(u,w){var C=u.group,z=u.stacked,r=u.portal;z={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!C.thumbURI,"gcard-thumbnail--stacked":void 0!==z&&z,"gcard-thumbnail--transparent":u.transparent};
if(C.thumbnail&&!C.thumbURI&&r&&(C.thumbURI=Object(k.a)(r,C)),C.thumbURI)return w("img",{src:C.thumbURI,classes:z,alt:C.title});r=!(!C.title.charAt(0)||!C.title.charAt(0).match(/^\w+$/));return w("div",{key:"group-thumbnail-"+C.id,classes:z},w("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},w("path",{fill:"#"+C.id.substr(C.id.length-6),d:"M0 0h65v65H0z"}),w("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),r?w("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?
"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},C.title.slice(0,1).toUpperCase()):w("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
308:function(h,f){h.exports=K},349:function(h,f){h.exports=n},377:function(h,f){h.exports=q},408:function(h,f){h.exports=p},5:function(h,f,g){function k(e){return 0===Object.keys(e).length&&e.constructor===Object}function u(e){return null!=e}function w(e,a){return l.apply(null,arguments)}function C(e,a){return d.apply(null,arguments)}g.d(f,"b",function(){return k});g.d(f,"a",function(){return u});g.d(f,"e",function(){return r});g.d(f,"c",function(){return w});g.d(f,"d",function(){return C});var z=
g(0);h=g(15);var r=Object(h.a)(function(e,a){var b=Object(z.a)({},a);return delete b[e],b}),l=Object(h.a)(function(e,a){return Object.keys(a).reduce(function(b,c){return b[c]=e(a[c],c,a),b},{})}),d=Object(h.a)(function(e,a){return Object.keys(a).reduce(function(b,c){return e(a[c],c,a)&&(b[c]=a[c]),b},{})})},63:function(h,f,g){function k(){for(var u=[],w=0;w<arguments.length;w++)u[w]=arguments[w];return function(C){return u.reduceRight(function(z,r){return r(z)},C)}}g.d(f,"a",function(){return k})},
857:function(h,f,g){g.r(f);var k=g(0),u=g(408);h=g(18);var w=g(249),C=g(308),z=g.n(C);C=g(377);var r=g.n(C),l=g(349),d=g.n(l),e=g(181);g=function(b){function c(){var m=null!==b&&b.apply(this,arguments)||this;return m.handleAssignedLinkClick=function(t){t.stopPropagation()},m.handleCheckClick=function(){var t,v;null!==(v=(t=m.props).shouldDisable)&&void 0!==v&&v.call(t,m.props.group)||(t=m.props.checked?m.props.onUncheckGroup:m.props.onCheckGroup,null==t||t(m.props.group))},m}return Object(k.d)(c,
b),c.prototype.render=function(m){var t=this,v=this.props,A=v.checked,B=v.group,x=v.indeterminate,D=v.key,E=v.selectedBy,y=v.initialSelectedByIds,F=v.portal,G=v.shouldDisable,H=v.disabledText;v=v.selectors;var I=B.title,N=B.id+"-badge",M=a(this.props,m);G=!(null==G||!G(B));var J=Object(l.getBadgeTypes)(B,F).map(function(Z){return N+"-"+Z}).join(" "),R=null==v?void 0:v.some(function(Z){return!!Z.username});return m("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":A,"gcard-gcc__container--disabled":G,
"gcard-gcc__container--compact":!0},key:D,onclick:this.handleCheckClick},m(z.a,{key:"gcard-gcc__checkbox-"+B.id,checked:A,indeterminate:x,onChange:this.handleCheckClick,title:I,describedBy:J}),m(w.a,{group:B,portal:F}),m("span",{key:"gcard-gcc__title","class":"gcard-gcc__title"},m("div",null,I),!!v&&R&&x&&m("div",{id:"partial-assigned-container-"+B.id},m("calcite-popover-manager",null,m("calcite-link",{id:"partial-assigned-"+B.id,onclick:this.handleAssignedLinkClick},u.membersAssigned.replace("${num}",
E.length).replace("${total}",v.length))),m("calcite-popover",{"reference-element":"partial-assigned-"+B.id},m("ul",{"class":"padding-right-1"},E.map(function(Z){return m("li",{key:Z.username},Z.username)}))))),m(d.a,{group:B,portal:F,key:"group-badges",id:N}),m("div",{key:"gcard-gcc__details","class":"gcard-gcc__details"},M,Object(e.a)({selectedBy:E,initialSelectedByIds:y})?m("button",{key:"gcard-gcc__revert-button","class":"gcard-gcc__revert-button",onclick:function(Z){var T,X;Z.stopPropagation();
null===(X=(T=t.props).onRevertGroup)||void 0===X||X.call(T,B)}},u.revert):null),G&&m("div",{"class":"gcard-gcc__disabled-text",key:"disabled-text"},m("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},m("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),m("span",{"class":"margin-left-quarter font-size--2"},H)),m(r.a,{key:"gcard-gcc__toggle-"+
B.id,id:"gcard-toggle-"+B.id,value:A,handleToggleClick:this.handleCheckClick,label:""}))},c}(h.Component);f["default"]=g;var a=function(b,c){var m=b.selectedBy,t=b.allSelectorItemIds,v=b.initialSelectedByIds;return 0===t.length||1===t.length||0===v.length&&0===m.length?null:c("span",{key:"gcard-gcc__share-text","class":"gcard-gcc__share-text",innerHTML:(Object(e.a)({selectedBy:m,initialSelectedByIds:v})?u.willBeShared:u.alreadyShared).replace("${num}",m.length).replace("${total}",t.length)})}},99:function(h,
f,g){function k(l,d){if(null==l?0:l.length)for(var e=void 0,a=0;a<l.length;a++)if(d(e=l[a]))return e}function u(l){return l.filter(function(d){return 0<d.length})}function w(l,d,e){var a=[];return d.forEach(function(b){(e?b[e].toLowerCase()===l.toLowerCase():b.toLowerCase()===l.toLowerCase())?a.unshift(b):a.push(b)}),a}g.d(f,"e",function(){return C});g.d(f,"f",function(){return z});g.d(f,"c",function(){return k});g.d(f,"b",function(){return u});g.d(f,"a",function(){return r});g.d(f,"d",function(){return w});
h=g(15);var C=function(l,d,e){return e.indexOf(l)===d},z=Object(h.a)(function(l,d){var e={};return d.filter(function(a){return!e[a[l]]&&(e[a[l]]=!0,!0)})}),r=function(l,d){return l.length===d.length&&l.reduce(function(e,a){return e&&-1<d.indexOf(a)},!0)}}})})},"arcgis-components/GroupBadges/index":function(){define(["../Component","../GroupBadge/index"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,
q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=
typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=853)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):
(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");
for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=
b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=
l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,
d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,q){n.exports=O},200:function(n,q,p){var h,f;p.d(q,"b",function(){return f});p.d(q,"a",function(){return g});(function(k){k.collaboration="collaboration";k.featuredContent="featuredContent";k.gallery="gallery";k.openData="openData";k.sharedUpdate="sharedUpdate";k.partnered="partnered";k.anyOrg="anyOrg"})(f||(f=
{}));var g=((h={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
h[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",h[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
h[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",h[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
h[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",h[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
h)},529:function(n,q){n.exports=K},853:function(n,q,p){function h(w,C){var z=[];return w.capabilities&&-1<w.capabilities.indexOf("updateitemcontrol")&&z.push(u.b.sharedUpdate),w.isOpenData&&z.push(u.b.openData),(w.collaborationInfo&&w.collaborationInfo.collaborationId||w.capabilities&&-1<w.capabilities.indexOf("distributed"))&&z.push(u.b.collaboration),C.homePageFeaturedContent&&C.homePageFeaturedContent==="id:"+w.id&&z.push(u.b.featuredContent),C.featuredItemsGroupQuery&&C.featuredItemsGroupQuery===
"id:"+w.id&&z.push(u.b.gallery),w.membershipAccess||z.push(u.b.anyOrg),"collaboration"===w.membershipAccess&&z.push(u.b.partnered),z}p.r(q);p.d(q,"getBadgeTypes",function(){return h});var f=p(0);n=p(16);var g=p(529),k=p.n(g),u=p(200);p=function(w){function C(){return null!==w&&w.apply(this,arguments)||this}return Object(f.d)(C,w),C.prototype.render=function(z){var r=this.props,l=r.id;r=h(r.group,r.portal);return z("div",{"class":"group-badges"},r.map(function(d){return z(k.a,{badgeType:d,key:d,id:l})}))},
C}(n.Component);q["default"]=p}})})},"arcgis-components/GroupBadge/index":function(){define(["../Component","dojo/i18n!../GroupBadge/nls/resources"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,
Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,
f)},q.p="",q(q.s=854)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<
e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}
function m(v){try{t(e["throw"](v))}catch(A){b(A)}}function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=
A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?
A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});
p.d(q,"g",function(){return w});var C=function(r,l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},16:function(n,q){n.exports=
O},200:function(n,q,p){var h,f;p.d(q,"b",function(){return f});p.d(q,"a",function(){return g});(function(k){k.collaboration="collaboration";k.featuredContent="featuredContent";k.gallery="gallery";k.openData="openData";k.sharedUpdate="sharedUpdate";k.partnered="partnered";k.anyOrg="anyOrg"})(f||(f={}));var g=((h={})[f.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
h[f.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",h[f.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
h[f.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",h[f.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
h[f.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",h[f.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
h)},341:function(n,q){n.exports=K},854:function(n,q,p){p.r(q);var h=p(0);n=p(16);var f=p(200),g=p(341);p=function(k){function u(){return null!==k&&k.apply(this,arguments)||this}return Object(h.d)(u,k),u.prototype.render=function(w){var C,z=this.props,r=z.badgeType;z=z.id;var l=r===f.b.sharedUpdate?"#ab3c16":"#005e95";return z&&(C=z+"-"+r),w("button",{"class":"group-badge","aria-label":g[r]+": "+g.tooltips[r]},w("svg",{role:"img",style:"\n            width: 16px;\n            height: 16px;\n            vertical-align: -3px;\n          ",
fill:l,key:"group-badge-icon"},r!==f.b.anyOrg&&r!==f.b.collaboration&&w("path",{d:f.a[r]}),r===f.b.anyOrg&&w("g",null,w("path",{d:"M8,6.5A2.5,2.5,0,1,0,10.5,9,2.5,2.5,0,0,0,8,6.5Zm0,4A1.5,1.5,0,1,1,9.5,9,1.5,1.5,0,0,1,8,10.5Z"}),w("polygon",{points:"10.85 2.85 8 5.71 5.15 2.85 5.85 2.15 7.5 3.79 7.5 0.5 8.5 0.5 8.5 3.79 10.15 2.15 10.85 2.85"}),w("polygon",{points:"5.01 10.9 3.97 14.79 3 14.54 3.61 12.28 0.75 13.93 0.25 13.07 3.11 11.42 0.85 10.82 1.11 9.85 5.01 10.9"}),w("polygon",{points:"15.25 13.93 12.39 12.28 13 14.54 12.03 14.79 10.99 10.9 14.89 9.85 15.15 10.82 12.89 11.42 15.75 13.07 15.25 13.93"})),
r===f.b.collaboration&&w("g",null,w("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),w("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),w("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),w("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),w("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),w("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),
w("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
w("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),w("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))),w("span",{"class":"group-badge__title",key:"group-badge-title"},g[r]),w("span",{"class":"group-badge__description",key:"group-badge-description"},g.tooltips[r]),w("span",{"class":"group-badge__description group-badge__description--small",key:"group-badge-description-small",id:C},g[r],": ",g.tooltips[r]))},u}(n.Component);q["default"]=p}})})},"arcgisonline/pages/components/ImageUploadModal/ImageUploadModal":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./UploadStep ./EditStep ./FromMapStep ./shared arcgisonline/pages/utils/alerts dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){Object.defineProperty(K,"__esModule",{value:!0});g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);O=r["default"].uploadLogo;var l=z["default"].GroupWidget.thumbnailDlg,d={title:O.name,drag:O.dragDrop,size:O.bestSize,browse:O.browse,save:r["default"].common.save,cancel:r["default"].common.cancel,fileError:O.validImageRequired,saveError:O.imageEditError,zoom:O.zoom,chooseDiff:O.chooseDiff,
or:l.or,fromMap:l.createFromMap,fromMapDescription:l.createFromMapSub};r=function(e){function a(){M&&document.documentElement.classList.add("overflow-hidden")}var b=e.texts,c=e.height,m=e.zoomToFull,t=e.onSave,v=e.onCancel,A=e.onDelete,B=e.hideSize,x=e.existingImage,D=e.isRound,E=e.fillBackground,y=e.maxSize,F=e.hasDelete,G=e.allowFromMap,H=e.aspectRatio,I=e.contentClass,N=e.itemId,M=e.fromOverlay,J=e.noEdit;e=n.__assign(n.__assign({},d),b);c=p.useReducer(f.reducer,{previewSrc:"",imageScale:1,imageWidth:0,
imageHeight:0,imageTop:0,imageLeft:0,manuallySettingZoom:!1,isModified:!1,zoomValue:"50",currentStep:"upload",imageFormat:"png",fileName:"",editingExisting:!1,transformOrigin:{x:50,y:50},loadingImage:!1,previewImage:void 0,texts:e,hideSize:B,saving:!1,deleting:!1,saveData:void 0,aspectRatio:H||1,height:c,isRound:D,fillBackground:E,maxSize:y,zoomToFull:m,allowFromMap:G,itemId:N,noEdit:J});var R=c[0],Z=c[1];c=p.useMemo(function(){return{state:R,dispatch:Z}},[R]);m=p.useRef(null);B=p.useRef(null);D=
e.title;E=e.save;y=e.cancel;var T=e.fileError;e=e.chooseDiff;p.useEffect(function(){var oa=function(ua){"new_thumb"!==ua.data.dataType||R.previewSrc===ua.data.dataUrl||R.saving||(Z(f.setImageFromMap(ua.data.dataUrl)),window.parent.removeEventListener("message",oa))};window.parent.addEventListener("message",oa)},[]);p.useEffect(function(){R.fromMapLoaded&&Z(f.initSave())},[R.fromMapLoaded]);p.useEffect(function(){R.saveData&&(t(R.saveData),a())},[R.saveData]);p.useEffect(function(){R.saving&&J&&Z(f.updateSaveData({blob:w.dataURIToBlob(R.previewSrc),
base64:R.previewSrc,format:R.imageFormat}))},[R.saving,J]);p.useEffect(function(){x&&Z(f.editExistingImage(x))},[x]);G=function(){return"edit"===R.currentStep};var X=function(){return"fromMap"===R.currentStep};H="rtl"===document.documentElement.getAttribute("dir");N=function(){Z(f.changeImage())};var aa=function(){Z(f.initDelete());A()},fa=function(){v();a()};B.current&&(B.current.loading=R.saving);m.current&&(m.current.loading=R.deleting);return q.h(h.StoreContext.Provider,{value:c},q.h("calcite-modal",
{width:650,active:!0,role:"dialog","aria-modal":"true","aria-labelledby":"image-upload-modal-title",disableOutsideClose:!0,oncalciteModalClose:fa,intlClose:z["default"].common.close},q.h("h3",{slot:"header",id:"image-upload-modal-title","aria-label":D,"class":"font-size-2 trailer-0"},D),q.h("div",{slot:"content","class":""+(I||"")},q.h("div",{"class":"panel content-node padding-trailer-1 "+(X()?"":"org-settings__upload-logo-dlg-content")},"upload"===R.currentStep&&q.h(g["default"],null),G()&&q.h(k["default"],
null),X()&&q.h(u["default"],null))),(G()||X())&&!F&&q.h("calcite-button",{slot:"back",appearance:"transparent",color:"blue","icon-start":"chevron-left",width:"full",disabled:R.saving,onClick:N,"icon-flip-rtl":H?"start":""},e),G()&&R.editingExisting&&void 0!==A&&q.h("calcite-button",{ref:m,slot:"back",appearance:"outline",width:"full",color:"blue",disabled:R.saving,onClick:aa},b["delete"]),!F&&q.h("calcite-button",{slot:"secondary",disabled:R.saving,color:"blue",appearance:"outline",width:"full",onClick:fa},
y),F&&G()&&q.h("calcite-button",{slot:"secondary",disabled:R.saving||R.deleting,color:"blue",appearance:"outline",width:"full",onClick:N},b.changePhoto),q.h("calcite-button",{ref:B,slot:"primary",color:"blue",appearance:"solid",width:"full",onClick:function(){X()?window.postMessage("thumbnail_create","*"):!J&&"edit"!==R.currentStep||!R.previewSrc?C["default"].showAlert("error",T):Z(f.initSave())},disabled:R.deleting},E)))};r.defaultProps={height:412>window.innerWidth?200:300,texts:d,aspectRatio:1};
K["default"]=r})},"arcgisonline/pages/components/ImageUploadModal/store-context":function(){define(["require","exports","preact","preact/hooks"],function(O,K,n,q){Object.defineProperty(K,"__esModule",{value:!0});K.useStoreContext=K.StoreContext=void 0;K.StoreContext=n.createContext({});K.useStoreContext=function(){return q.useContext(K.StoreContext)}})},"arcgisonline/pages/components/ImageUploadModal/reducer":function(){define(["require","exports","tslib"],function(O,K,n){Object.defineProperty(K,
"__esModule",{value:!0});K.reducer=K.setImageFromMap=K.showFromMapStep=K.editExistingImage=K.updatePreviewImage=K.imageLoaded=K.updateZoomScale=K.updateManuallySettingZoom=K.updateImagePosition=K.updateSrcAndFileName=K.updatePreviewSrc=K.updateSaveData=K.initDelete=K.initSave=K.changeImage=K.SET_IMAGE_FROM_MAP=K.SHOW_FROM_MAP_STEP=K.IMAGE_LOADED=K.EDIT_EXISTING_IMAGE=K.UPDATE_PREVIEW_IMAGE=K.UPDATE_SRC_AND_FILE_NAME=K.UPDATE_ZOOM_SCALE=K.UPDATE_MANUALLY_SETTING_ZOOM=K.UPDATE_IMAGE_POSITION=K.UPDATE_PREVIEW_SRC=
K.UPDATE_SAVE_DATA=K.INIT_DELETE=K.INIT_SAVE=K.CHANGE_IMAGE=void 0;K.CHANGE_IMAGE="CHANGE_IMAGE";K.INIT_SAVE="INIT_SAVE";K.INIT_DELETE="INIT_DELETE";K.UPDATE_SAVE_DATA="UPDATE_SAVE_DATA";K.UPDATE_PREVIEW_SRC="UPDATE_PREVIEW_SRC";K.UPDATE_IMAGE_POSITION="UPDATE_IMAGE_POSITION";K.UPDATE_MANUALLY_SETTING_ZOOM="UPDATE_MANUALLY_SETTING_ZOOM";K.UPDATE_ZOOM_SCALE="UPDATE_ZOOM_SCALE";K.UPDATE_SRC_AND_FILE_NAME="UPDATE_SRC_AND_FILE_NAME";K.UPDATE_PREVIEW_IMAGE="UPDATE_PREVIEW_IMAGE";K.EDIT_EXISTING_IMAGE=
"EDIT_EXISTING_IMAGE";K.IMAGE_LOADED="IMAGE_LOADED";K.SHOW_FROM_MAP_STEP="SHOW_FROM_MAP_STEP";K.SET_IMAGE_FROM_MAP="SET_IMAGE_FROM_MAP";K.changeImage=function(){return{type:K.CHANGE_IMAGE}};K.initSave=function(){return{type:K.INIT_SAVE}};K.initDelete=function(){return{type:K.INIT_DELETE}};K.updateSaveData=function(q){return{type:K.UPDATE_SAVE_DATA,payload:q}};K.updatePreviewSrc=function(q){return{type:K.UPDATE_PREVIEW_SRC,payload:q}};K.updateSrcAndFileName=function(q){return{type:K.UPDATE_SRC_AND_FILE_NAME,
payload:q}};K.updateImagePosition=function(q){return{type:K.UPDATE_IMAGE_POSITION,payload:q}};K.updateManuallySettingZoom=function(q){return{type:K.UPDATE_MANUALLY_SETTING_ZOOM,payload:q}};K.updateZoomScale=function(q){return{type:K.UPDATE_ZOOM_SCALE,payload:q}};K.imageLoaded=function(q){return{type:K.IMAGE_LOADED,payload:q}};K.updatePreviewImage=function(q){return{type:K.UPDATE_PREVIEW_IMAGE,payload:q}};K.editExistingImage=function(q){return{type:K.EDIT_EXISTING_IMAGE,payload:q}};K.showFromMapStep=
function(){return{type:K.SHOW_FROM_MAP_STEP}};K.setImageFromMap=function(q){return{type:K.SET_IMAGE_FROM_MAP,payload:q}};K.reducer=function(q,p){var h=p.payload;switch(p.type){case K.CHANGE_IMAGE:return n.__assign(n.__assign({},q),{currentStep:"upload",editingExisting:!1,previewSrc:""});case K.INIT_SAVE:return n.__assign(n.__assign({},q),{saving:!0});case K.INIT_DELETE:return n.__assign(n.__assign({},q),{deleting:!0});case K.UPDATE_SAVE_DATA:return n.__assign(n.__assign({},q),{saveData:n.__assign(n.__assign({},
h),{fileName:q.fileName,isModified:q.isModified})});case K.UPDATE_PREVIEW_SRC:return n.__assign(n.__assign({},q),{previewSrc:h,imageScale:1,currentStep:"edit"});case K.UPDATE_SRC_AND_FILE_NAME:return n.__assign(n.__assign({},q),{previewSrc:h.previewSrc,fileName:h.fileName,imageScale:1,currentStep:q.noEdit?"upload":"edit"});case K.UPDATE_PREVIEW_IMAGE:return n.__assign(n.__assign({},q),{previewImage:h});case K.UPDATE_IMAGE_POSITION:var f=n.__assign({},q);void 0!==h.imageTop&&(f.imageTop=h.imageTop);
void 0!==h.imageLeft&&(f.imageLeft=h.imageLeft);return n.__assign(n.__assign({},f),{isModified:!0});case K.UPDATE_MANUALLY_SETTING_ZOOM:return n.__assign(n.__assign({},q),{manuallySettingZoom:h});case K.EDIT_EXISTING_IMAGE:return n.__assign(n.__assign({},q),{editingExisting:!0,previewSrc:h,currentStep:"edit",loadingImage:!0});case K.UPDATE_ZOOM_SCALE:return n.__assign(n.__assign({},q),{imageScale:h.imageScale,zoomValue:h.zoomValue,isModified:!0});case K.IMAGE_LOADED:f=q.height;var g=q.zoomToFull,
k=q.aspectRatio,u={};if(q.editingExisting)g=h.width,u={imageWidth:g,imageHeight:g,imageScale:f/g,imageTop:0,imageLeft:0,transformOrigin:{x:0,y:0},loadingImage:!1,previewImage:h};else{var w=1===k?f:f*k,C=h.clientWidth,z=h.clientHeight;u="fromMap"===q.currentStep;u={imageWidth:C,imageHeight:z,imageTop:f/2-z/2,imageLeft:f*k/2-C/2,currentStep:u?"fromMap":"edit",transformOrigin:{x:50,y:50},previewImage:h,fromMapLoaded:u};g&&(h=w/(C>z?C:z),u=n.__assign(n.__assign({},u),{imageScale:h,manuallySettingZoom:!0,
zoomValue:""+(50+Math.log(h)/Math.log(1.1)),isModified:!0}))}h=n.__assign(n.__assign({},q),u);return h;case K.SHOW_FROM_MAP_STEP:return n.__assign(n.__assign({},q),{currentStep:"fromMap"});case K.SET_IMAGE_FROM_MAP:return n.__assign(n.__assign({},q),{previewSrc:h,imageScale:1});default:return n.__assign({},q)}}})},"arcgisonline/pages/components/ImageUploadModal/UploadStep":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(O,K,n,q,p,h,f,g){var k=this;Object.defineProperty(K,"__esModule",{value:!0});g=n.__importDefault(g);K["default"]=function(){var u=h.useStoreContext(),w=u.state,C=u.dispatch,z=w.texts;u=w.hideSize;var r=w.allowFromMap,l=p.useRef(null),d=p.useRef(null);p.useEffect(function(){l.current&&l.current.focus()},[l.current]);var e=function(c){c.preventDefault()},a=function(c){var m=d.current;if(m.value||c){var t=c||m.files[0];t&&((null===t||void 0===t?0:t.name)&&/\.(gif|jpg|jpeg|png)$/i.test(t.name)?
(c=new FileReader,c.onload=function(v){return n.__awaiter(k,void 0,void 0,function(){return n.__generator(this,function(A){C(f.updateSrcAndFileName({previewSrc:v.target.result,fileName:t.name||(null===m||void 0===m?void 0:m.value)||""}));return[2]})})},c.readAsDataURL(t)):g["default"].showAlert("error",z.fileError))}},b=function(){C(f.showFromMapStep())};return q.h("div",{"class":"text-center",onDragOver:e,onDragEnter:e,onDrop:function(c){c.preventDefault();a(c.dataTransfer.files[0])},"aria-label":z.drag},
q.h("div",{"class":"icon-large trailer-half leader-quarter text-dark-gray"},q.h("calcite-icon",{icon:"upload"})),q.h("div",{"class":"trailer-0"},q.h("div",{"class":"font-size-1","aria-label":z.drag},z.drag),!u&&q.h("div",{"aria-label":z.size},z.size)),q.h("button",{ref:l,"class":"btn-link btn-link-dark-blue leader-1",onClick:function(){d.current.click()},onKeyDown:function(c){13===c.keyCode&&(c.preventDefault(),d.current.click())},"aria-label":z.browse},q.h("div",{"class":"flex flex-align-center"},
(!w.noEdit||!w.fileName)&&q.h(q.Fragment,null,q.h("calcite-icon",{icon:"image","class":"margin-right-half"})," ",z.browse),w.noEdit&&w.fileName&&q.h(q.Fragment,null,w.fileName," ",q.h("calcite-icon",{icon:"check","class":"margin-left-half image-upload-modal__check-icon"})))),q.h("input",{ref:d,"class":"hide",type:"file",accept:".jpg,.gif,.png,image/jpg,image/gif,image/png",onChange:function(){a()}}),r&&q.h("div",{tabIndex:0,onClick:b},q.h("p",{"class":"text-center leader-1 trailer-half"},q.h("b",
{"class":"horizontal-lines"},q.h("span",null,z.or))),q.h("div",{"class":"text-center panel thumbnail-from-map-container","data-dojo-attach-point":"_createFromMap",id:"createFromMap"},q.h("p",{"class":"trailer-0"},q.h("span",{"class":"flex-center font-size-1"},q.h("div",{"class":"flex flex-align-center"},q.h("calcite-icon",{scale:"m",icon:"map","class":"margin-right-half"})," ",z.fromMap)),q.h("span",{"class":"display-block font-size--2"},z.fromMapDescription)))))}})},"arcgisonline/pages/components/ImageUploadModal/EditStep":function(){define("require exports tslib preact preact/hooks ./TranslucentContainer ./ImageCanvas ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(O,K,n,q,p,h,f,g,k,u){Object.defineProperty(K,"__esModule",{value:!0});h=n.__importDefault(h);f=n.__importDefault(f);u=n.__importDefault(u);K["default"]=function(){var w=g.useStoreContext(),C=w.state,z=w.dispatch,r=C.texts,l=p.useRef(null),d=p.useRef(null),e=C.height*C.aspectRatio;w=C.height+60+"px";var a={width:e+60+"px",height:w};e={width:e+"px",height:C.height+"px"};var b={transform:"scale("+C.imageScale+")",top:C.imageTop+"px",left:C.imageLeft+"px",transformOrigin:C.transformOrigin.x+
"% "+C.transformOrigin.y+"%"};p.useEffect(function(){l.current&&l.current.focus()},[l.current]);p.useEffect(function(){d.current&&z(k.updatePreviewImage(d.current))},[d.current]);var c=function(){z(k.imageLoaded(d.current))},m=function(){u["default"].showAlert("error",r.fileError);z(k.changeImage())},t=function(v){C.manuallySettingZoom?z(k.updateManuallySettingZoom(!1)):z(k.updateZoomScale({imageScale:Math.pow(1.1,v.target.value-50),zoomValue:v.target.value}))};return q.h("div",{"class":"edit-thumb-display",
onWheel:function(v){v.preventDefault();v=0<v.deltaY?1*C.imageScale/1.1:1.1*C.imageScale;z(k.updateZoomScale({imageScale:v,zoomValue:""+(50+Math.log(v)/Math.log(1.1))}))}},q.h(f["default"],{imageContainer:l.current}),q.h("div",{"class":"crop-thumb-container overflow-hidden",style:{height:w}},q.h(h["default"],{onDrag:function(v){z(k.updateImagePosition({imageTop:C.imageTop+v.top,imageLeft:C.imageLeft+v.left}))},style:a},q.h("div",{ref:l,"class":"crop-thumb-clear",tabIndex:0,style:e,onKeyDown:function(v){var A=
!1;switch(v.key){case "ArrowUp":z(k.updateImagePosition({imageTop:C.imageTop-1}));A=!0;break;case "ArrowDown":z(k.updateImagePosition({imageTop:C.imageTop+1}));A=!0;break;case "ArrowLeft":z(k.updateImagePosition({imageLeft:C.imageLeft-1}));A=!0;break;case "ArrowRight":z(k.updateImagePosition({imageLeft:C.imageLeft+1})),A=!0}A&&v.preventDefault()}},C.previewSrc&&q.h("img",{ref:d,src:C.previewSrc,alt:"","class":"preview-image "+(C.loadingImage?"visibility-hidden":""),style:b,onLoad:c,onError:m})))),
"edit"===C.currentStep&&q.h("label",{htmlFor:"","class":"trailer-half leader-half"},r.zoom,q.h("input",{type:"range",value:C.zoomValue,onInput:t,onChange:t,"aria-label":r.zoom}),q.h("span",{"class":"clearfix"},q.h("span",{"class":"left inline-block leader-half"},q.h("calcite-icon",{icon:"image",scale:"s"})),q.h("span",{"class":"right"},q.h("calcite-icon",{icon:"image",scale:"l"})))))}})},"arcgisonline/pages/components/ImageUploadModal/TranslucentContainer":function(){define(["require","exports","preact",
"preact/hooks"],function(O,K,n,q){Object.defineProperty(K,"__esModule",{value:!0});K["default"]=function(p){var h=p.style,f=p.onDrag;p=p.children;var g=q.useState(!1),k=g[0],u=g[1];g=q.useState(void 0);var w=g[0],C=g[1];g=function(){u(!0)};var z=function(l){var d=l.touches,e=l.clientX,a=l.clientY;if(void 0===e||void 0===a){if(null===d||void 0===d||!d.length)return;e=d[0].clientX;a=d[0].clientY}k&&(w?(d=w.top,l=w.left,a-=d,e-=l,f({top:a,left:e}),C({top:d+a,left:l+e})):C({top:a,left:e}))},r=function(){u(!1);
C(void 0)};return n.h("div",{"class":"crop-thumb-translucent overflow-hidden",style:h,onMouseDown:g,onTouchStart:g,onMouseMove:z,onTouchMove:z,onMouseUp:r,onTouchEnd:r,onMouseOut:r},p)}})},"arcgisonline/pages/components/ImageUploadModal/ImageCanvas":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./shared arcgisonline/pages/utils/alerts".split(" "),function(O,K,n,q,p,h,f,g,k){var u=this;Object.defineProperty(K,"__esModule",{value:!0});k=n.__importDefault(k);
K["default"]=function(w){var C=w.imageContainer;w=h.useStoreContext();var z=w.state,r=w.dispatch,l=z.texts,d=p.useRef(null),e=function(c){var m=c.image,t=c.context,v=c.selectionX,A=c.selectionY,B=c.selectionWidth,x=c.selectionHeight,D=c.canvasWidth,E=c.canvasHeight,y=c.minWidth,F=c.minHeight,G=c.drawDimensions,H=c.scaleFactor;c=d.current;c.width=D<y?y:D*H;c.height=E<F?F:E*H;z.maxSize&&(c.width>z.maxSize&&(c.width=z.maxSize),c.height>z.maxSize&&(c.height=z.maxSize));D=G.left*c.width;E=G.top*c.height;
y=G.width*c.width;G=G.height*c.height;!z.isRound&&z.fillBackground&&(t.fillStyle="#efefef",t.fillRect(0,0,c.width,c.height));t.drawImage(m,v,A,B,x,D,E,y,G);z.isRound&&(t.globalCompositeOperation="destination-in",t.beginPath(),t.arc(c.width/2,c.height/2,c.height/2,0,2*Math.PI),t.closePath(),t.fill());m=c.toDataURL("image/png");t=g.dataURIToBlob(m);return{base64:m,blob:t}},a=function(){return new Promise(function(c,m){var t=new Image;-1<z.previewSrc.indexOf("arcgis.com")&&(t.crossOrigin="Anonymous");
t.onload=function(){if(.01>Math.abs(z.aspectRatio-t.width/t.height)&&!z.isModified)c({blob:g.dataURIToBlob(z.previewSrc),base64:z.previewSrc,format:z.imageFormat});else{var v=z.height*z.aspectRatio,A=z.height;var B=z.previewImage.getBoundingClientRect();var x=C.getBoundingClientRect();var D=(x.left-B.left)/B.width;var E=(x.right-B.left)/B.width;var y=(x.top-B.top)/B.height;B=(x.bottom-B.top)/B.height;x=0>D?0:D;var F=0>y?0:y,G=1<E?1:E,H=1<B?1:B,I=z.previewImage.getBoundingClientRect();var N=C.getBoundingClientRect();
N={left:(0<I.left-N.left?I.left-N.left:0)/N.width,top:(0<I.top-N.top?I.top-N.top:0)/N.height,width:((I.right>N.right?N.right:I.right)-(I.left<N.left?N.left:I.left))/N.width,height:((I.bottom>N.bottom?N.bottom:I.bottom)-(I.top<N.top?N.top:I.top))/N.height};I=d.current.getContext("2d");D={image:t,context:I,selectionX:x*z.imageWidth,selectionY:F*z.imageHeight,selectionWidth:G*z.imageWidth-x*z.imageWidth,selectionHeight:H*z.imageHeight-F*z.imageHeight,canvasWidth:E*z.imageWidth-D*z.imageWidth,canvasHeight:B*
z.imageHeight-y*z.imageHeight,minWidth:v,minHeight:A,drawDimensions:N,scaleFactor:1};try{var M=e(n.__assign({},D));if(1E7<M.blob.size||0===M.blob.size)I.clearRect(0,0,d.current.width,d.current.height),M=e(n.__assign(n.__assign({},D),{scaleFactor:1600/t.width}))}catch(J){"NS_ERROR_FAILURE"!==J.name?k["default"].showAlert("error",l.saveError):(I.clearRect(0,0,d.current.width,d.current.height),M=e(n.__assign(n.__assign({},D),{scaleFactor:1600/t.width})))}c({blob:null===M||void 0===M?void 0:M.blob,base64:null===
M||void 0===M?void 0:M.base64,format:z.imageFormat})}};t.onerror=function(){k["default"].showAlert("error",l.fileError)};t.src=z.previewSrc})},b=function(){return n.__awaiter(u,void 0,void 0,function(){var c;return n.__generator(this,function(m){switch(m.label){case 0:return[4,a()];case 1:return c=m.sent(),r(f.updateSaveData(n.__assign({},c))),[2]}})})};p.useEffect(function(){z.saving&&b()},[z.saving]);return q.h("canvas",{ref:d,"class":"upload-image-canvas"})}})},"arcgisonline/pages/components/ImageUploadModal/shared":function(){define(["require",
"exports"],function(O,K){Object.defineProperty(K,"__esModule",{value:!0});K.dataURIToBlob=void 0;K.dataURIToBlob=function(n){var q=atob(n.split(",")[1]);n=n.split(",")[0].split(":")[1].split(";")[0];for(var p=new ArrayBuffer(q.length),h=new Uint8Array(p),f=0;f<q.length;f++)h[f]=q.charCodeAt(f);return new Blob([p],{type:n})}})},"arcgisonline/pages/components/ImageUploadModal/FromMapStep":function(){define("require exports tslib preact ./store-context ./EditStep arcgisonline/esriGeowConfig arcgisonline/sharing/util".split(" "),
function(O,K,n,q,p,h,f,g){Object.defineProperty(K,"__esModule",{value:!0});h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);K["default"]=function(){var k=p.useStoreContext().state;k=(f["default"].isDebug?"webviewer/dist/":"/apps/mapviewer/")+"thumbnailer.html?webmap\x3d"+k.itemId;if(g["default"].isPortal()){var u=f["default"].self.portalHostname.replace(/^[^\/]*/,"");k=k.replace("/apps/",u+"/apps/");k+="\x26extentService\x3d"+encodeURI(f["default"].extentService)}return q.h("div",
{"class":"text-center position: relative;",style:"max-height: 60vh"},q.h("iframe",{"data-dojo-attach-point":"_mapIframe",style:"border:none; overflow:hidden",src:k,width:"600",height:"399"}),q.h("div",{style:"visibility: hidden; position: absolute; top: 0;"},q.h(h["default"],null)))}})},"arcgisonline/pages/components/UpdateViewModal":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline preact preact/hooks preact/compat arcgisonline/esriGeowConfig".split(" "),function(O,K,n,q,
p,h,f,g){Object.defineProperty(K,"__esModule",{value:!0});q=n.__importDefault(q);g=n.__importDefault(g);K["default"]=function(k){var u=k.title,w=k.active,C=k.itemId,z=k.hasDerivative,r=k.onClose,l=function(d){if(null!==d&&void 0!==d&&d.data){var e=JSON.parse(d.data);d=e.type;e=e.value;"create"===d&&(null===e||void 0===e?0:e.id)?(window.location.href="item.html?id\x3d"+(null===e||void 0===e?void 0:e.id),r()):"update"!==d&&"close"!==d||!e||r()}};h.useEffect(function(){window.addEventListener("message",
l);return function(){window.removeEventListener("message",l)}},[]);k=""+g["default"].createViewUrl+C+(z?"\x26hasDerivative\x3dtrue":"");return p.h(p.Fragment,null,f.createPortal(p.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-lablledby":"update-view-modal-title",active:w,oncalciteModalClose:r,intlClose:q["default"].common.close,fullscreen:!0,noPadding:!0},p.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"update-view-modal-title"},u),p.h("div",{slot:"content","class":"flex manage-areas"},
w&&p.h("iframe",{"class":"flex-1 manage-areas__iframe",src:k}))),document.body))}})},"arcgisonline/pages/groups/widgets/_my":function(){define("require exports tslib esri/Evented dojo/_base/lang dojo/string dojo/query dojo/on dojo/topic dojo/dom-construct dojo/promise/all dojo/Deferred dijit/Dialog ../../pageUtil ../../utils/arrays ../../utils/dom ../../utils/groups ../../utils/icons ./_filters ./_GroupCard ./_GroupCardMobile ../../content/widgets/_baseTab ../../group/_GroupActions ../../dijit/_CheckReadonlyMixin ../../dijit/FilterSingle ../../dijit/FilterDate ../../dijit/FilterStatus ../../dijit/ToggleSwitch ../../dijit/ControlBar ../../../sharing/dijit/dialog/ConfirmDialog ../../../sharing/dijit/dialog/DeleteWarningDlg ../../../sharing/dijit/dialog/MembershipRequestsDlg ../../../sharing/dijit/dialog/SimpleDlg ../../../sharing/dijit/GroupSelector ../../group/widgets/CreateGroup/CreateGroup arcgisonline/sharing/util arcgisonline/esriGeowConfig dojo/text!./templates/_my.html dojo/text!./templates/_empty.html dojo/text!./templates/_emptyLevel1.html ../../dijit/Pagination dojo/text!./templates/_none.html dojo/text!./templates/_actions.html ../../dijit/View dojo/i18n!../../../nls/arcgisonline arcgisonline/tsutils/declareDecorator arcgisonline/pages/organization/widgets/AssignGroupsOverlay/AssignGroupsOverlay".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z,T,X,aa,fa,oa,ua,ha,U,ka){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);
t=n.__importDefault(t);v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);F=n.__importDefault(F);G=n.__importDefault(G);H=n.__importDefault(H);I=n.__importDefault(I);N=n.__importDefault(N);M=n.__importDefault(M);J=n.__importDefault(J);R=n.__importDefault(R);Z=n.__importDefault(Z);T=n.__importDefault(T);X=n.__importDefault(X);aa=n.__importDefault(aa);fa=n.__importDefault(fa);oa=n.__importDefault(oa);
ua=n.__importDefault(ua);ha=n.__importDefault(ha);U=n.__importDefault(U);ka=n.__importDefault(ka);return function(){function W(){this.templateString=Z["default"];this.widgetsInTemplate=!0;this._groups=[];this._firstLoad=this._skipFavorite=!0;this._sort={ascending:!0,label:ha["default"].sortDropdown.title,property:"title"};this._sortOptions=[{ascending:!0,label:ha["default"].sortDropdown.title,property:"title",active:!0},{ascending:!1,label:ha["default"].sortDropdown.modified,property:"modified"},
{ascending:!1,label:ha["default"].sortDropdown.created,property:"created"}]}W.prototype.postMixInProperties=function(){this._resetState();this._filters=p["default"].clone(b["default"]);this._filters.owner.options.owner.label=""+this.portalUser.username;this.page.groupsUser&&(ha["default"].GroupsWidget.searchGroups=h["default"].substitute(ha["default"].GroupsWidget.searchUserGroups,{username:this.page.groupsUser.fullName}),this._filters.owner.options.owner.label=h["default"].substitute(ha["default"].GroupsWidget.ownedByUser,
{username:this.page.groupsUser.fullName}));this.portalUser.isOrgUser||(this._filters.owner={param:"owner",chipText:ha["default"].GroupsWidget.ownedByLabel,options:{owner:{label:""+this.portalUser.username,value:"owner"},outsideOrg:{label:ha["default"].GroupsWidget.someOneElse,value:"outsideOrg"}}});this.portal.isPortal&&(delete this._filters.owner.options.outsideOrg,delete this._filters.specialGroups.options.openData)};W.prototype.postCreate=function(){this.inherited(arguments);this.initUI()};W.prototype.startup=
function(){var Q,L,ca=new C["default"];this.inherited(arguments);var Y=r["default"].getQueryParams(),da=Y.membershipaccess;Y=Y.memberorgids;da&&(null===(Q=this.allowedMembersFilter)||void 0===Q?void 0:Q.select(da));Y&&(null===(L=this.currentMembersFilter)||void 0===L?void 0:L.select(Y));ca.resolve();return ca};W.prototype.initUI=function(){var Q=this,L,ca,Y=(null===(L=this.page.groupsUser)||void 0===L?void 0:L.level)||(null===(ca=this.page.portalUser)||void 0===ca?void 0:ca.level)||void 0;this._membershipRequestToggle=
new E["default"]({label:ha["default"].GroupsWidget.onlyNewMembershipRequests,labelPosition:"left",labelClasses:"trailer-half font-size--1",baseClass:"js-membership-request-toggle",isChecked:this._initialMembershipRequestToggle},this.domNode.querySelector(".js-membership-requests-only"));this._pagination=new aa["default"]({start:this._initialStart,num:this._page.num,pageSizeLabel:ha["default"].contentPage.paginationPerPageGroups,telemetry:this.page.telemetry},this.domNode.querySelector(".js-pagination"));
"1"===Y?d["default"].hideNode(this.domNode.querySelector(".js-filter-owner-container")):this._ownerFilter=new B["default"](this._filters.owner,this.domNode.querySelector(".js-filter-owner"));this._specialGroupsFilter=new B["default"](this._filters.specialGroups,this.domNode.querySelector(".js-filter-specialGroups"));this.renderOrgSettingsTooltip();this._filters.created.minDate=this.portal.created;this._dateFilter=new x["default"](this._filters.created,this.domNode.querySelector(".js-filter-date"));
this._filterStatus=new D["default"](this._filters,this.domNode.querySelector(".js-filter-status"));if(!this.portal.isPortal&&this.portal.id&&this.portal.canHavePartnerCollab()){L=n.__assign({},this._filters.allowedMembers);0===this.trustedOrgs.length&&delete L.options.collaboration;this.allowedMembersFilter=new B["default"](L,this.domNode.querySelector(".js-filter-allowed-members"));var da={myOrg:{label:ha["default"].GroupsWidget.currentMembersFilter.myOrg,value:"myOrg"},anotherOrg:{label:ha["default"].GroupsWidget.currentMembersFilter.anotherOrg,
value:"anotherOrg"}};n.__spreadArray(n.__spreadArray([],this.trustedOrgs.map(function(S){return{id:S.to.orgId,name:S.to.name,state:S.to.state}})),this.endedCollabs).sort(function(S,P){return S.name>P.name?1:S.name<P.name?-1:0}).forEach(function(S){da[S.id]={label:""+S.name+("suspended"===S.state?" ("+ha["default"].searchFilters.suspended+")":""),value:S.id}});this.currentMembersFilter=new B["default"]({param:"memberorgids",chipText:ha["default"].GroupsWidget.currentMembersFilter.chipText,options:da},
this.domNode.querySelector(".js-filter-current-members"));this.currentMembersFilter.domNode.classList.add("current-members-filter")}else this.domNode.querySelector(".js-filter-membership-container").remove(),this.domNode.querySelector(".js-filter-current-members-container").remove();L={search:{placeholder:ha["default"].GroupsWidget.searchGroups,searchTerm:this._initialSearchInput},actions:"",sort:this._sortOptions,hideMobileActions:!1,filterContainer:this.domNode.querySelector(".js-filter-wrap"),
viewContainer:this.domNode.querySelector(".js-view-wrap"),telemetryOptions:{search:!0,viewToggle:!0,sortOrderToggle:!0,filterToggle:!0}};this._view=new ua["default"]({select:!1,sortOptions:this._sortOptions,portalUser:this.portalUser,portal:this.portal,page:this.page,activeView:"list",emptyView:"1"===Y?X["default"]:T["default"],noneView:fa["default"],listView:c["default"],mobileView:m["default"]},this.domNode.querySelector(".js-content"));this.shouldShowActions()&&(L.actions=h["default"].substitute(oa["default"],
{i18n:ha["default"],page:this.page,icons:a["default"]}));this._controlBar=new y["default"](L,this.domNode.querySelector(".js-control-bar"));this.portal.isPortal&&this.portal.isReadOnly&&this.own(f["default"](".js-if-not-readonly",this._controlBar.domNode).on("click",function(S){Q.checkReadonly()&&S.preventDefault()}));this.addEventListeners();k["default"].publish("sort/update",p["default"].clone(this._sort));this._firstLoad=!1};W.prototype.filterGroupsWithMembershipReq=function(Q){return Q.filter(function(L){return L.userMembership.applications||
1<=L.userMembership.applications})};W.prototype.showHideMembershipRequestToggle=function(){var Q,L;d["default"].showHide(this.domNode.querySelector(".js-membership-request-toggle"),175>(null===(Q=this.groupsWithPendingRequests)||void 0===Q?void 0:Q.length));d["default"].showHide(this.domNode.querySelector(".js-membership-requests-hr"),175>(null===(L=this.groupsWithPendingRequests)||void 0===L?void 0:L.length))};W.prototype.openAssignGroupsOverlay=function(){(new ka["default"]({portal:this.portal,
members:[this.page.groupsUser]})).open()};W.prototype.addEventListeners=function(){var Q=this,L;this.own(this._membershipRequestToggle.on("change",this.updateOnlyMembershipRequests.bind(this)),f["default"](".js-add-to-groups-btn").on("click",function(){return Q.openAssignGroupsOverlay()}),this.page.watch("formattedInvitationCount",function(){if(!Q.shouldShowActions()){var ca=Q.domNode.querySelector(".js-control-bar-actions");ca.parentNode.removeChild(ca)}f["default"](".js-invitation-count").attr("innerHTML",
Q.page.formattedInvitationCount)}));r["default"].registerItemActions(this,this.domNode,v["default"],this.page);r["default"].getQueryParams().showInvites&&0<(null===(L=this.page.invitations)||void 0===L?void 0:L.length)&&v["default"].openInvitations({page:this.page});r["default"].removeQueryParams(["showInvites"]);if(this.shouldShowActions())f["default"](".js-create-group-btn",this._controlBar.domNode).on("click",function(ca){ca.preventDefault();(new M["default"]({portal:Q.portal,portalUser:Q.portalUser,
hasTrustedOrgs:0<Q.trustedOrgs.length})).open()})};W.prototype.requestNotNeeded=function(Q){var L;this.groupsWithPendingRequests=this.filterGroupsWithMembershipReq(Q);return 0===this.groupsWithPendingRequests.length&&this._initialMembershipRequestToggle||0<(null===(L=this._filterState.specialGroups)||void 0===L?void 0:L.length)&&"orgSettings"===this._filterState.specialGroups[0].value&&!e.getOrgSettingsGroupsQuery(this.portal)?!0:!1};W.prototype._getItems=function(){var Q=this,L=new C["default"];
J["default"].request({url:this.portalUser.url}).then(function(ca){ca=ca.groups;Q._groups=ca;if(Q.requestNotNeeded(ca))return L.resolve({items:[],results:[],total:0,nextStart:-1,start:0,end:0}),L;J["default"].request({url:Q.portal.url+"community/groups",content:Q._getParams()}).then(function(Y){var da=function(S){return S.results.map(function(P){var V=Q._groups.filter(function(ba){return ba.id===P.id})[0];return V?n.__assign(n.__assign({},P),{userMembership:V.userMembership}):P})};Y=n.__assign(n.__assign({},
Y),{items:da(Y)});Q._mustDefendLastPage(Y.total)?(Q._defendLastPage(Y).then(function(S){S=n.__assign(n.__assign({},S),{items:da(S)});L.resolve(S)}),function(S){L.reject(S)}):L.resolve(Y)});(function(Y){L.reject(Y)})});return L};W.prototype._updateView=function(Q){this.inherited(arguments);this.showHideMembershipRequestToggle();this._ownerListener&&(this._ownerListener.remove(),this._removeListener.remove(),this._leaveListener.remove(),this._membershipListener.remove(),k["default"].publish("profile/hide"));
this._ownerListener=f["default"](".js-group-owner").on("click",this._showProfile.bind(this));this._removeListener=f["default"](".js-remove-group").on("click",this.removeGroup.bind(this));this._leaveListener=f["default"](".js-leave-group").on("click",this.leaveGroup.bind(this));this._membershipListener=f["default"](".js-view-membership-requests").on("click",this.showMembershipRequests.bind(this));return!0};W.prototype.shouldShowActions=function(){var Q,L=this.portalUser;L=this.page.isOwnerView&&L&&
(!L.orgId||(null===L||void 0===L?void 0:L.orgId)&&(null===L||void 0===L?void 0:L.userRole.canCreateGroup()));var ca=0<(null===(Q=this.page.invitations)||void 0===Q?void 0:Q.length);return L||ca||this.page.canAssignToGroups};W.prototype.updateOnlyMembershipRequests=function(Q){this._initialMembershipRequestToggle=Q;r["default"].updateQueryParams({_membershipRequestToggle:Q});this.render()};W.prototype._defendLastPage=function(Q){Q=(Math.ceil(Q.total/this._page.num)-1)*this._page.num+1;Q=0<Q?Q:1;this._firstLoad&&
(this._initialStart=Q);this._page.start=Q;return this._getItems()};W.prototype.removeGroup=function(Q){if(!this.checkReadonly()){var L=Q.target.dataset.groupId;if(J["default"].groupUsedInOrgSettings(L))r["default"].createSpecifiedDialog(I["default"],{title:ha["default"].common.notice,content:ha["default"].GroupWidget.error[this.page.portal.isPortal?"deleteUsedInPortalSettings":"deleteUsedInOrgSettings"]}).show();else{var ca=r["default"].createSpecifiedDialog(G["default"]);ca.showMsg(ha["default"].deleteWarningDlg.confirmDeleteGroup,
function(){J["default"].request({url:R["default"].restBaseUrl+"community/groups/"+L+"/delete"},{usePost:!0}).then(function(){k["default"].publish("items/refresh",{removedGroups:[{id:L}]});var Y=k["default"].subscribe("items/refreshComplete",function(){Y.remove();ca.hide();k["default"].publish("alert/show",{type:"success",text:ha["default"].GroupsWidget.groupDeleted})})},function(Y){ca.hide();var da=ha["default"].GroupWidget.error.removeItemsBeforeDelete;"COM_1107"===(null===Y||void 0===Y?void 0:Y.messageCode)&&
(da=ha["default"].GroupWidget.error.protectedGroup);k["default"].publish("alert/show",{type:"error",text:da})})},!0)}}};W.prototype.leaveGroup=function(Q){var L,ca=this.page.isAdminView,Y=Q.target.dataset.groupId,da=l["default"].find(this._groups,function(ea){return ea.id===Y}),S=ca&&this.page.canAssignToGroups;Q=S?ha["default"].groupGeow.remove:ha["default"].GroupWidget.leaveGroup;var P=S?ha["default"].GroupWidget.removeUserFromGroup:ha["default"].GroupWidget.leaveGroup;S=S?h["default"].substitute(ha["default"].groupGeow.removeUserMsg,
{username:null===(L=this.page.groupsUser)||void 0===L?void 0:L.username}):ha["default"].GroupWidget.leaveGroupConfirm;var V=new F["default"]({buttonOkLabel:Q,buttonCancelLabel:ha["default"].common.cancel}),ba=ca?this.removeFromGroup.bind(this):this.dropOutOfGroup.bind(this);V.show({title:P,message:S}).then(function(ea){"onOk"===ea&&ba(Y).then(function(ia){if((null===ia||void 0===ia?0:ia.messageCode)&&"COM_1075"===ia.messageCode)k["default"].publish("alert/show",{type:"error",text:h["default"].substitute(ha["default"].GroupsWidget.membershipControlled,
{name:da.title})}),V.hide();else{k["default"].publish("items/refresh",{removedGroups:[da]});var ja=k["default"].subscribe("items/refreshComplete",function(){ja.remove();V.hide();k["default"].publish("alert/show",{type:"success",text:ca?ha["default"].GroupsWidget.leftGroupAdmin:ha["default"].GroupsWidget.leftGroup})})}},function(ia){(null===ia||void 0===ia?0:ia.messageCode)&&"COM_1075"===ia.messageCode&&k["default"].publish("alert/show",{type:"error",text:h["default"].substitute(ha["default"].GroupsWidget.membershipControlled,
{name:da.title})});V.hide()})})};W.prototype.showMembershipRequests=function(Q){Q=Q.target.dataset.groupId;var L=new H["default"],ca=function(){k["default"].publish("items/refresh")},Y=k["default"].subscribe("onApplicationAccept",ca),da=k["default"].subscribe("onApplicationDecline",ca);g["default"].once(L._dialog,"hide",function(){Y&&Y.remove();da&&da.remove();L._dialog.destroyRecursive();L.destroyRecursive()});L.show(Q)};W.prototype.dropOutOfGroup=function(Q){return J["default"].request({url:R["default"].restBaseUrl+
"community/groups/"+Q+"/leave"},{usePost:!0})};W.prototype.removeFromGroup=function(Q){return J["default"].request({url:R["default"].restBaseUrl+"community/groups/"+Q+"/removeUsers",content:{users:this.portalUser.username}},{usePost:!0})};W.prototype.addToGroup=function(Q){return J["default"].request({url:R["default"].restBaseUrl+"community/groups/"+Q+"/addUsers",content:{users:this.portalUser.username}},{usePost:!0})};W.prototype.addToGroups=function(){var Q=this;if(!this._groupsDlg){var L=document.createDocumentFragment();
u["default"].create("div",{innerHTML:ha["default"].GroupsWidget.selectGroups},L);var ca=new N["default"]({},u["default"].create("div",{},L)),Y=u["default"].create("div",{"class":"right",style:{margin:"0.5em 0 0.5em 0"}},L),da=u["default"].create("button",{innerHTML:ha["default"].GroupsWidget.addToGroups,type:"button","class":"btn btn-blue btn-small margin-right-half"},Y);Y=u["default"].create("button",{innerHTML:ha["default"].common.cancel,type:"button","class":"btn btn-clear btn-small"},Y);this._groupsDlg=
(new z["default"]({"class":"invite-user-dlg orgDlg"})).placeAt(document.body);this._groupsDlg.set({title:ha["default"].GroupsWidget.addToGroups,style:{width:"600px"},content:L});g["default"].once(da,"click",function(){var S=ca.get("value"),P=S.map(function(V){return Q.addToGroup(V.id)});w["default"](P).then(function(V){V.filter(function(ba){return 0<ba.notAdded.length}).length?(V=void 0,1===S.length?V=ha["default"].GroupWidget.error.unableToAddToGroup:1<S.length&&(V=ha["default"].GroupWidget.error.unableToAddToGroups),
k["default"].publish("items/refresh"),Q._groupsDlg.hide(),k["default"].publish("alert/show",{type:"error",text:V})):(k["default"].publish("items/refresh"),Q._groupsDlg.hide(),k["default"].publish("alert/show",{type:"success",text:ha["default"].GroupsWidget.addedToGroupAdmin}))})});g["default"].once(Y,"click",function(){Q._groupsDlg.hide()});g["default"].once(this._groupsDlg,"hide",function(){Q._groupsDlg.destroyRecursive();Q._groupsDlg.destroy();Q._groupsDlg=void 0});ca.set("selectedGroupsLabel",
ha["default"].selectGroups.addToTheseGroups);this._groupsDlg.show()}};W.prototype._getParams=function(){var Q,L,ca,Y,da,S,P,V,ba="relevance"===this._sort.property?"":this._sort.property,ea=this._sort.ascending?"asc":"desc",ia=this._filterState,ja=this._searchTerm?"("+this._searchTerm+") ":"";this.portal.isPortal&&(ja+=' -owner:"esri_livingatlas" -owner:"esri_boundaries" -owner:"esri_demographics"');this._initialMembershipRequestToggle&&175>(null===(Q=this.groupsWithPendingRequests)||void 0===Q?void 0:
Q.length)&&(this.groupsWithPendingRequests=this.filterGroupsWithMembershipReq(this._groups),ja+="("+this.groupsWithPendingRequests.map(function(la){return" id:"+la.id}).join(" OR ")+")");if(0<(null===(L=ia.owner)||void 0===L?void 0:L.length))switch(ia.owner[0].value){case "owner":ja+=" owner:"+this.portalUser.username;break;case "inOrg":ja+=" -owner:"+this.portalUser.username+" orgid:"+this.portal.id;break;case "outsideOrg":ja=this.portalUser.isOrgUser?ja+(" (orgid: [0 TO \\{]) -orgid:"+this.portal.id):
ja+("(access:public) -owner:"+this.portalUser.username)}if(0<(null===(ca=ia.specialGroups)||void 0===ca?void 0:ca.length))switch(ia.specialGroups[0].value){case "openData":ja+=" isopendata:true";break;case "sharedUpdate":ja+=" capabilities:updateitemcontrol";break;case "distributed":ja+=" capabilities:distributed";break;case "admin":ja+=" isleavingdisallowed:true";break;case "orgSettings":ja+=e.getOrgSettingsGroupsQuery(this.portal)}if(null===(Y=ia.membershipaccess)||void 0===Y?0:Y.length)ja=(Q="anyOrg"===
ia.membershipaccess[0].value?"":ia.membershipaccess[0].value)?ja+(" membershipaccess:"+Q):ja+" membershipaccess:NULL";if(null===(da=ia.memberorgids)||void 0===da?0:da.length)da=ia.memberorgids[0].value,ja="myOrg"===da?ja+" memberorgids:NULL":"anotherOrg"===da?ja+" -memberorgids:NULL":ja+(" (memberorgids:"+da+" OR orgid:"+da+")");0<(null===(S=ia.modified)||void 0===S?void 0:S.length)&&(ja+=" "+ia.modified[0].q);0<(null===(P=ia.created)||void 0===P?void 0:P.length)&&(ja+=" "+ia.created[0].q);0<(null===
(V=ia.access)||void 0===V?void 0:V.length)&&(ja=" "+ia.access[0].q);return{q:ja,num:this._page.num,start:this._firstLoad?this._initialStart:this._page.start,sortField:ba,sortOrder:ea,searchUserAccess:"groupMember",searchUserName:this.portalUser.username}};return W=n.__decorate([U["default"](q["default"],t["default"],A["default"])],W)}()})},"arcgisonline/pages/utils/groups":function(){define(["require","exports","tslib"],function(O,K,n){function q(p,h){return 0!==(null===p||void 0===p?void 0:p.indexOf("id:"))||
h.includes(p)?n.__spreadArray([],h):n.__spreadArray(n.__spreadArray([],h),[p])}Object.defineProperty(K,"__esModule",{value:!0});K.getOrgSettingsGroupsQuery=void 0;K.getOrgSettingsGroupsQuery=function(p){var h,f,g,k,u=[],w=[p.featuredItemsGroupQuery,p.basemapGalleryGroupQuery,p.templatesGroupQuery,p["2DStylesGroupQuery"],p.stylesGroupQuery,p.analysisLayersGroupQuery,p.galleryTemplatesGroupQuery];if(p.hasModernHomePageEnabled){var C=(null===(f=null===(h=p.homePageConfig)||void 0===h?void 0:h.content)||
void 0===f?void 0:f.filter(function(z){return"gallery"===z.type&&!!z.groupId}))||[];0<C.length&&C.forEach(function(z){u=q("id:"+z.groupId,u)})}else w.push(p.homePageFeaturedContent);w.forEach(function(z){u=q(z,u)});p.featuredGroups.forEach(function(z){(z=z.id)&&(u=q("id:"+z,u))});null===(k=null===(g=p.userDefaults)||void 0===g?void 0:g.groups)||void 0===k?void 0:k.forEach(function(z){u=q("id:"+z,u)});return 0<u.length?"("+u.join(" OR ")+")":""}})},"arcgisonline/pages/groups/widgets/_filters":function(){define(["require",
"exports","tslib","dojo/i18n!../../../nls/arcgisonline"],function(O,K,n,q){q=n.__importDefault(q);return{owner:{param:"owner",chipText:q["default"].GroupsWidget.ownedByLabel,options:{owner:{label:"",value:"owner"},inOrg:{label:q["default"].GroupsWidget.inOrg,value:"inOrg"},outsideOrg:{label:q["default"].GroupsWidget.outsideOrg,value:"outsideOrg"}}},allowedMembers:{param:"membershipaccess",chipText:q["default"].GroupsWidget.allowedMembersFilter.chipText,options:{org:{label:q["default"].GroupsWidget.allowedMembersFilter.myOrg,
value:"org"},collaboration:{label:q["default"].GroupsWidget.allowedMembersFilter.collabOrgs,value:"collaboration"},anyOrg:{label:q["default"].GroupsWidget.allowedMembersFilter.anyOrg,value:"anyOrg"}}},created:{param:"created",chipText:q["default"].GroupWidget.dateCreatedLabel},specialGroups:{param:"specialGroups",chipText:q["default"].filters.specialGroupsLabel,options:{openData:{label:q["default"].GroupsWidget.openData,value:"openData"},sharedUpdate:{label:q["default"].GroupsWidget.sharedUpdate,
value:"sharedUpdate"},distributed:{label:q["default"].GroupsWidget.distributed,value:"distributed"},admin:{label:q["default"].GroupsWidget.admin,value:"admin"},orgSettings:{label:q["default"].GroupsWidget.orgSettings,value:"orgSettings"}}}}})},"arcgisonline/pages/groups/widgets/_GroupCard":function(){define("require exports tslib ../../dijit/Card/_CardBase ../../portal/PortalGroup ../../utils/dom ../../utils/formatters ../../utils/icons ../../../tsutils/declareDecorator arcgis-components/wrappers/BasicWrappers/GroupBadges dojo/query dojo/topic dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_listTemplate.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=r["default"];this.i18n=z["default"];this.icons=g["default"];this.hide=f["default"].hide;this.show=f["default"].show;this.firstChar=f["default"].firstChar;this.stripHTML=
f["default"].stripHTML;this.fullDate=f["default"].fullDate;this.getGroupAccess=f["default"].getGroupAccess;this.getGroupAccessIcon=f["default"].getGroupAccessIcon}l.prototype.postMixInProperties=function(){var d,e;this.itemIndex=this.itemIndex||0;this.group=new p["default"](n.__assign(n.__assign({},this.item),{portal:this.portal}));this.group.isBackedByEnterpriseGroup=!("enterprise"!==this.group.provider||!this.group.providerGroupName);this.group.canDelete=this.group._canDeleteGroup(null,this.page);
this.group.canLeave=!this.group.isOwner&&(this.group.isMember||this.group.isManager)&&!this.group.isBackedByEnterpriseGroup&&(!this.page.isAdminView||this.page.isAdminView&&this.page.canAssignToGroups);this.group.fillColor="#"+this.group.id.substr(this.group.id.length-6);this.group.useLetter=!(null===(d=this.group.title.charAt(0))||void 0===d||!d.match(/^\w+$/));this.group.applications=(null===(e=this.group.userMembership)||void 0===e?void 0:e.applications)||0;this.group.hasApplications=0<this.group.applications;
this.group.accessIcon=f["default"].getGroupAccessIcon(this.group.access)};l.prototype.postCreate=function(){var d;(null===(d=this.page)||void 0===d?0:d.isAdminView)&&this.page.canAssignToGroups?(w["default"](".js-leave-group",this.domNode).forEach(function(e){e.innerHTML=""+g["default"].inline["sign-out"][16]+z["default"].GroupWidget.removeUserFromGroup}),this.group.isBackedByEnterpriseGroup&&h["default"].hideNode(this.domNode.querySelector(".js-leave-group"))):this.group.leavingDisallowed&&h["default"].hideNode(w["default"](".js-leave-group",
this.domNode).shift());this.portal.id&&new u["default"](this.domNode.querySelector(".js-group-badges"),{key:this.group.id,group:this.group,portal:this.portal});this.own(w["default"](".js-group-card-title",this.domNode).on("click",this._cardOpen.bind(this)))};l.prototype._cardOpen=function(d){C["default"].publish("card/open",this.itemIndex,d)};return l=n.__decorate([k["default"](q["default"])],l)}()})},"arcgisonline/pages/dijit/Card/_CardBase":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../Favorite ../ItemShareSummary ../../utils/formatters ../../utils/item ../../utils/setItemUrls ../../utils/icons ../../utils/arrays ../../utils/dom ../../item/_Actions ../../../esriGeowConfig ./_getItemClasses dojo/text!./Card.html dojo/text!./OpenDropdown.html dojo/i18n!../../../nls/arcgisonline ../../../tsutils/declareDecorator ../OrgPopup/OrgPopup".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=
n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);var D;(function(E){E.notebook="notebookViewer";E.map="mapViewer";E.newMap="newMapViewer";E.download="download";E.desktop="openDesktop";E.pro="openPro";E.story="storyMapViewer"})(D||(D={}));return function(){function E(y){this.i18n=A["default"];this.template=t["default"];this.fullDate=z["default"].fullDate;this.completeDate=z["default"].completeDate;this.empty=z["default"].empty;this.getAccess=z["default"].getAccess;
this.getAccessIcon=z["default"].getAccessIcon;this.formatNumViews=z["default"].formatNumViews;this.formatViewsLabel=z["default"].formatViewsLabel;this.hasSharedOwnershipGroups=this.fullItemTypes=!1;this.hide=z["default"].hide;this.show=z["default"].show;this.icons=d["default"];this.isImage=!1;this.imageClass="";this.cssClasses=[];this.select=this.favoritesDisabled=!1;this.checked=this.selectedClass="";this.selectItem=A["default"].GroupWidget.selectItem;this.disabled="disabled";this.addSearchTelemetryParams=
!1;this.searchTerm="";this.canCreateNotebooks=!1}E.prototype.postMixInProperties=function(){var y=this,F,G,H,I,N,M;this.formatDisplayName=z["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.favoritesDisabled=!this.portalUser;this.selectCardClass=this.select?"card-select":"";this.isSelected&&(this.selectedClass="card-select-active",this.checked="checked",this.selectItem=A["default"].GroupWidget.unselectItem);this.hasSublayers=!(null===(F=this.item.sublayers)||void 0===F||!F.length);
this.removedClass=this.isRemoved?"card-select-removed":"";this.item.canShare=this.allowShare&&r["default"].canShareItem(this.item,this.portalUser);this.item.isAdmin=null!==(G=this.item.isAdmin)&&void 0!==G?G:(null===(H=this.portalUser)||void 0===H?void 0:H.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId;this.item.snippet=250<this.item.snippet.length?this.item.snippet.substring(0,250)+"\u2026":this.item.snippet;this.item.badges=r["default"].getBadges(this.item,this.isWide,this.portalUser);
this.item.ownerText=z["default"].formatOwnerText(this.item);this.item.accessIcon=z["default"].getAccessIcon(this.item.access);this.canCreateNotebooks=null===(I=this.portalUser)||void 0===I?void 0:I.userRole.canCreateNotebooks();this.item.openIn.forEach(function(J){return l["default"][J](y.item)});this.item.downloadUrl="file"===this.item.classification?l["default"].getItemDataUrl(this.item):"";this.item.defaultOpenUrl=this._getDefaultOpenUrl(this.item);this.item.defaultOpenIcon=this.item.defaultOpenIcon||
"launch";this.item.defaultOpenSvg=null!==(M=null===(N=d["default"].inline[this.item.defaultOpenIcon])||void 0===N?void 0:N["16"])&&void 0!==M?M:d["default"].inline.launch["16"];this.item.defaultOpenText=this._getDefaultOpenText(this.item);this._setDefaultThumbnail(this.item);this.cssClasses=m["default"](this.item,this.portalUser);"Image"===this.item.type&&(this.isImage=!0,this.imageClass="card--image-item")};E.prototype._setDefaultThumbnail=function(y){var F;y.thumbnailUrl=null!==(F=this.useMostRecentToken(y.thumbnailUrl))&&
void 0!==F?F:"";"Notebook"===y.type&&(F=c["default"].baseUrl+"js/arcgisonline/css/images/notebook-thumb.png",y.thumbnailUrl=y.thumbnailUrl||F);y.largeThumbnailUrl=""+y.thumbnailUrl+(-1<y.thumbnailUrl.search("\\?token\x3d")?"\x26":"?")+"w\x3d400"};E.prototype.useMostRecentToken=function(y){var F,G=this.item.portal.getPortalUser(),H=null===(F=null===G||void 0===G?void 0:G.credential)||void 0===F?void 0:F.token;return l["default"].swivelToken(y,null===G||void 0===G?void 0:G.token,H)};E.prototype._getDefaultOpenText=
function(y){return"Notebook"!==y.type||this.canCreateNotebooks?this.item.defaultOpenText||A["default"].itemLinks.viewDetails:A["default"].itemLinks.viewDetails};E.prototype.postCreate=function(){var y=this,F,G;this.inherited(arguments);this.cssClasses.filter(function(R){return R}).forEach(function(R){return y.domNode.classList.add(R)});var H=this.item,I=this.portalUser,N=this.domNode.querySelector(".js-favorites-container"),M=this.domNode.querySelector(".js-open-dropdown-container"),J=this.domNode.querySelector(".js-default-open");
this.favoritesDisabled||(this._favoriteDijit=new w["default"]({item:H},N));M&&q["default"].place(h["default"].substitute(v["default"],{item:H,i18n:A["default"],icons:d["default"],telemetryParams:this.addSearchTelemetryParams?"\x26fromSearch\x3dtrue\x26searchPosition\x3d"+this.itemIndex+"\x26searchTerm\x3d"+this.searchTerm+"\x26searchFacet\x3dcard%20dropdown%20item%20details":""},null,this),M);if("Feature Service"===H.type||"Feature Collection"===H.type)N=this.domNode.querySelector(".js-layers-tables"),
M=this.domNode.querySelector(".js-layers-tables-toggle"),N&&M&&c["default"].deepLayerSearchEnabled&&a["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:H,layers:H.sublayers,portal:H.portal,api:3,user:I,searchTerm:this.searchTerm,config:c["default"],telemetry:this.telemetry,border:!0,tooltip:this.formatDisplayName(H.displayName),i18nNoService:A["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:A["default"].SelectLayersWFS.noLayers},N).appendChild(M);
new C["default"]({item:H,portalUser:I,right:!0,canShare:this.item.canShare,allowShare:this.allowShare,showShareGroups:this.showShareGroups&&this.isWide,telemetry:this.telemetry},this.domNode.querySelector(".js-share-summary"));if(J){H=this.item.defaultOpenUrl;if(H===D.download||H===D.desktop||H===D.pro)J.classList.add("js-action"),J.setAttribute("data-action",this.item.defaultOpenUrl);this.item.defaultOpenUrl===D.newMap&&(H="modern"===this.item.portal.defaultMapViewer&&this.item.canOpenInNewMapViewer?
this.item.newMapViewerUrl:this.item.mapViewerUrl,J.href=H,J.setAttribute("data-href",H));(H=this.item.openIn)&&H[0]&&H[0]!==D.map&&this.item[H[0]+"Url"]&&J.setAttribute("target","_blank")}this._addEventListeners();(null===(F=this.item.portal)||void 0===F?0:F.isPortal)&&a["default"].hideNodes(null===(G=this.domNode)||void 0===G?void 0:G.querySelectorAll(".js-hide-portal"))};E.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy()};E.prototype._getDefaultOpenUrl=function(y){var F=
"item.html?id\x3d"+y.id,G=y.openIn&&y.openIn[0];return y.defaultOpenText===A["default"].itemLinks.openDesktop?D.desktop:y.defaultOpenText===A["default"].itemLinks.openPro?D.pro:y.defaultOpenText===A["default"].itemLinks.openVRExperience?y.vrExperienceUrl:!G||G!==D.notebook||this.portalUser&&this.portalUser.userRole.canCreateNotebooks()?G&&G!==D.map&&y[G+"Url"]?y[G+"Url"]:"download-to"===y.defaultOpenIcon||e["default"].includes(y.types,"is-pdf")?D.download:G===D.map?D.newMap:G===D.story?D.story:F:
F};E.prototype._addEventListeners=function(){var y=this;this.own(p["default"](".js-card-select-check-mark-wrap",this.domNode).on("click",function(G){G.stopPropagation()}),p["default"](".js-card-select-check-mark",this.domNode).on("change",function(G){y[G.target.checked?"_select":"_deselect"]()}),p["default"](this.domNode).on("click",this._toggleSelected.bind(this)),p["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),p["default"](".js-action",this.domNode).on("click",
this._handleAction.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),p["default"](".js-card-image",this.domNode).on("error",this._cardImageError.bind(this)),p["default"](".js-card-title-link",this.domNode).on("click",this._cardOpen.bind(this)),p["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),p["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),this.item.watch(this._itemUpdate.bind(this)));
var F=this.domNode.querySelector(".js-verified-owner-link");F&&this.own(f["default"](F,"click",this.showOrgPopup.bind(this)));this._favoriteDijit&&this.own(this._favoriteDijit.on("click",function(G){G.stopPropagation()}))};E.prototype._handleAction=function(y){var F=this;y.preventDefault();var G=y.currentTarget.getAttribute("data-action"),H=this.item,I=this.portalUser,N=this.item.portal;if(G&&b["default"][G])if("share"!==G||this.item.isOwner)b["default"][G]({evt:y,item:H,user:I,portal:N});else this.item.getOwnerProfile(!0,
!0).then(function(M){F.item.itemOwner=M;b["default"].share({evt:y,item:H,user:I,portal:N})})};E.prototype._select=function(){this.domNode.classList.add("card-select-active");this.item.isSelected=!0;var y=this.domNode.querySelector(".js-card-select-check-mark");y.parentNode.setAttribute("aria-label",A["default"].GroupWidget.unselectItem);y.checked=!0;g["default"].publish("view/select",this.item)};E.prototype._deselect=function(){this.domNode.classList.remove("card-select-active");this.item.isSelected=
!1;var y=this.domNode.querySelector(".js-card-select-check-mark");y&&(y.parentNode.setAttribute("aria-label",A["default"].GroupWidget.selectItem),y.checked=!1);g["default"].publish("view/deselect",this.item)};E.prototype._toggleSelected=function(y){"ARCGIS-LAYERS-AND-TABLES-SUMMARY-POPUP"!==y.target.tagName&&this.select&&(this.domNode.classList.contains("card-select-active")?this._deselect():this._select())};E.prototype._showProfile=function(y){y.stopPropagation();g["default"].publish("profile/show",
y)};E.prototype.showOrgPopup=function(y){y.stopPropagation();(new x["default"]({item:this.item,opener:y.target})).open()};E.prototype._cardImageError=function(y){y.preventDefault();y.target.src="js/arcgisonline/css/images/default_thumb.png"};E.prototype._cardOpen=function(y){g["default"].publish("card/open",this.itemIndex,y)};E.prototype._itemUpdate=function(y,F,G){g["default"].publish("item/update",{item:this.item,name:y,oldValue:F,value:G})};E.prototype._shareItemDropdown=function(y){this.domNode.querySelector(".js-item-share-dropdown").blur()};
E.prototype._categorizeItem=function(){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return E=n.__decorate([B["default"](k["default"],u["default"])],E)}()})},"arcgisonline/pages/dijit/Favorite":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/dom-class dojo/on dojo/topic dojo/text!./Favorite/Favorite.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../pageUtil ../utils/icons ../../sharing/geow/Content ./_CheckReadonlyMixin".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);return function(){function d(e,a){this.templateString=g["default"];this.i18n=k["default"]}d.prototype.postMixInProperties=function(){this.inherited(arguments)};d.prototype.postCreate=function(){this.inherited(arguments);
this._setState(this.item.isFavorite);this._addEventListeners()};d.prototype.getFavorite=function(){var e=this;C["default"].isFavorite(this.item).then(function(a){e._setState(a)},function(){e._setState(!1)})};d.prototype._setState=function(e){void 0!==this.button&&((this.isFavorite=e)?(this.button.setAttribute("aria-label",k["default"].common.unfavorite),p["default"].add(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.isFavorite+"\x3c/span\x3e"+
z["default"]["star-f"]["16"]):(this.button.setAttribute("aria-label",k["default"].common.favorite),p["default"].remove(this.button,"btn-link-yellow"),this.button.innerHTML='\x3cspan class\x3d"screen-readers-only"\x3e'+this.i18n.common.notFavorite+"\x3c/span\x3e"+z["default"].star["16"]))};d.prototype._addEventListeners=function(){this.own(h["default"](this.button,"click",this._clickHandler.bind(this)))};d.prototype._clickHandler=function(e){var a=this;this.checkReadonly(this.item.portal)||(e=this.isFavorite?
"removeFromFavorites":"addToFavorites",this._setState(!this.isFavorite),this.item.set("isFavorite",this.isFavorite),r["default"][e](this.item).then(function(){a.button.blur()},function(b){f["default"].publish("alert/show",{type:"error",text:null===b||void 0===b?void 0:b.message});a._setState(!a.isFavorite);a.item.set("isFavorite",!a.isFavorite)}))};return d=n.__decorate([q["default"](w["default"],u["default"],l["default"])],d)}()})},"arcgisonline/pages/dijit/_CheckReadonlyMixin":function(){define("require exports tslib dojo/i18n!../../nls/arcgisonline ../pageUtil arcgisonline/sharing/dijit/dialog/GeneralDlg".split(" "),
function(O,K,n,q,p,h){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);return function(){function f(){}f.prototype.checkReadonly=function(g){g||(g=this.portal);return(null===g||void 0===g?0:g.isPortal)&&g.isReadOnly?(p["default"].createSpecifiedDialog(h["default"]).show({title:q["default"].common.errorTitle,message:q["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};f.prototype.memberActionGuard=function(g,k){return-1<["manageItems","viewGroups","viewProfile"].indexOf(g)?
!1:this.checkReadonly(k)};return f}()})},"arcgisonline/pages/dijit/ItemShareSummary":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/on dojo/dom-construct dojo/string dijit/_TemplatedMixin dijit/_WidgetBase ../utils/icons ../utils/dom ../utils/item dojo/text!./ItemShareSummary/ItemShareSummary.html dojo/text!./ItemShareSummary/ItemShareSummaryOverflow.html dojo/i18n!../../nls/arcgisonline ../item/_Actions ../organization/widgets/GroupIcon".split(" "),function(O,K,n,q,
p,h,f,g,k,u,w,C,z,r,l,d,e){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);return function(){function a(b,c){this.templateString=z["default"];this.i18n=l["default"];this.icons=u["default"];this.showShareGroups=this.canShare=this.right=
!1;this.responsive=!0;this.totalGroups=0;this.responsiveClass=this.directionClass=""}a.prototype.postMixInProperties=function(){this.inherited(arguments);var b={"private":u["default"].user["16"],shared:u["default"].user["16"],org:u["default"].organization["16"],"public":u["default"].globe["16"]},c={"private":l["default"].itemSharing.owner,shared:l["default"].itemSharing.owner,org:l["default"].itemSharing.org,"public":l["default"].itemSharing["public"]};this.levelIcon=this.item.access&&b[this.item.access]||
"";this.levelTooltip=l["default"].itemSharing.shareLevel+" "+c[this.item.access];this.right&&(this.directionClass="share-summary--right");this.responsive&&(this.responsiveClass="share-summary--responsive")};a.prototype.postCreate=function(){var b=this,c;this.inherited(arguments);var m=!this.showShareGroups&&"shared"===this.item.access,t=this.showShareGroups&&0<(null===(c=this.item.groupData)||void 0===c?void 0:c.length),v=this.domNode.querySelector(".js-share-button"),A=l["default"].itemSharing.updateSharing;
c=l["default"].itemSharing.ariaLabels.privateGroups;"shared"!==this.item.access&&(c=l["default"].itemSharing.ariaLabels[""+this.item.access+(t?"Groups":"")]);this.allowShare&&(this.item.canShare||C["default"].canShareItem(this.item,this.portalUser))?(this.own(p["default"](v,"click",this.handleClick.bind(this))),v.classList.add("share-summary__button--editable")):(A=h["default"].create("span"),h["default"].place(A,v,"before"),A.innerHTML=v.innerHTML,v.parentNode.removeChild(v),v=A,w["default"].addClasses(v,
"share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short".split(" ")),v.querySelector(".js-icon").tabIndex=0,A="");var B=""+A+(A?", ":"")+l["default"].itemSharing.shareLevel+" "+c;v.setAttribute("aria-label",l["default"].itemSharing.shareLevel+" "+c+" "+A);v.setAttribute("data-tooltip",B);t&&(this.totalGroups=this.item.sharedGroups||0,this.item.groupData.slice(0,3).forEach(function(x){x.id=x.id||x.groupId;x.title=x.title||x.groupTitle;x.thumbnail=
x.thumbnail||x.groupThumbnail;new e["default"]({group:x,portal:b.item.portal,size:"24",letterSize:"16",tooltipClass:"",cssClasses:"flex-0 share-summary__group"},h["default"].create("div",{},v))}),3<this.totalGroups&&h["default"].place(f["default"].substitute(r["default"],{num:this.totalGroups-3}),v,"last"));m&&this.domNode.classList.add("share-summary--show-unknown-group");t&&this.domNode.classList.add("share-summary--show-unknown-group-responsive");m||t||(this.domNode.querySelector(".js-sharing-plus-icon").classList.add("hide"),
this.domNode.classList.add("share-summary--no-groups"))};a.prototype.handleClick=function(b){var c=this;b.preventDefault();b.stopPropagation();var m=this.item,t=this.telemetry,v=m.portal,A=this.portalUser;this.item.isOwner?d["default"].share({evt:b,item:m,user:A,portal:v,telemetry:t}):this.item.getOwnerProfile(!0,!0).then(function(B){c.item.itemOwner=B;d["default"].share({evt:b,item:m,user:A,portal:v,telemetry:t})})};return a=n.__decorate([q["default"](k["default"],g["default"])],a)}()})},"arcgisonline/pages/dijit/Card/_getItemClasses":function(){define("require exports tslib ../../utils/arrays ../../utils/organization dojo/sniff arcgisonline/pages/utils/mapViewer".split(" "),
function(O,K,n,q,p,h,f){Object.defineProperty(K,"__esModule",{value:!0});q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);K["default"]=function(g,k){var u,w,C,z=g.url||"";var r=g.isHostedService;var l=g.serviceInfo||{},d=null!==(w=null===l||void 0===l?void 0:l.capabilities)&&void 0!==w?w:"";w=null===k||void 0===k?void 0:k.userRole;z=k&&-1<z.indexOf(k.orgId);d=-1<d.indexOf("Editing");l=q["default"].includes(g.typeKeywords,"Multi Services View")||l.isMultiServicesView;var e=g.isAdminView?
null===w||void 0===w?void 0:w.canUpdateOrgItems():g.canUpdate;r=r&&!l&&(e||d&&(null===w||void 0===w?void 0:w.canEditFeaturesFullControl())&&z);r=null!==(C=g.canEditService)&&void 0!==C?C:r;g.isEditableByUser=r;C=h["default"]("trident");r=p["default"].isMobile();C=C||r;w="Scene Service"===g.type&&q["default"].includes(g.typeKeywords,"Voxel");l=g.portal.isPortal;r=[].concat(g.types);r.push(g.hasResources?"has-resources":"");r.push(g.hasViewStyle?"has-viewStyle":"");r.push(g.url?"has-url":"");r.push(!l&&
q["default"].includes(g.typeKeywords,"Presentation Map")?"has-presentation":"");r.push((null===k||void 0===k?0:k.isOrgUser)&&"Form"===g.type?"is-surveyForm":"");r.push(g.portal&&!g.portal.isPortal&&(null===k||void 0===k?0:k.isOrgUser)&&"Form"===g.type?"is-surveyFormBrowser":"");r.push(g.isConfigurableApp?"can-configure":"");r.push(g.isEditableByUser&&"Feature Service"===g.type?"can-edit-service":"");r.push(w?"is-voxel":"");r.push(g.isOwner?"is-owner":"");r.push(g.isAdmin?"is-admin":"");r.push((null===
k||void 0===k?0:k.isOrgUser)?"":"is-public-user");r.push((null===k||void 0===k?0:k.isOrgAdmin)?"is-admin":"");r.push(g.canUpdate?"can-update":"is-viewer");r.push(q["default"].includes(g.typeKeywords,"Web AppBuilder")&&g.canUpdate&&!g.origin?"can-edit-wab":"");r.push(!l&&g.canUpdate?"can-create-presentation":"");r.push((null===k||void 0===k?0:k.isOrgUser)&&"Notebook"===g.type?"is-notebook":"");w=-1<(null===(u=g.openIn)||void 0===u?void 0:u.indexOf("mapViewer"));r.push(w&&!C?"is-map-viewer-beta":"");
r.push(k&&(null===k||void 0===k?void 0:k.defaultMapViewer)!==f.MapViewerType.Modern?"is-map-viewer-classic":"is-map-viewer-modern");"OGCFeatureServer"===g.type&&r.push("no-legacy-viewer-support");g.addBlockClasses(r);return r}})},"arcgisonline/pages/dijit/OrgPopup/OrgPopup":function(){define("require exports tslib esri/Evented dojo/text!./OrgPopup.html dojo/i18n!../../../nls/arcgisonline dojo/on dojo/keys dijit/_TemplatedMixin dijit/_WidgetBase dijit/popup dijit/TooltipDialog arcgisonline/pages/utils/dom arcgisonline/pages/utils/focus arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);return function(){function e(a,b){this.templateString=p["default"];this.i18n=h["default"];this.icons=l["default"]}e.prototype.postCreate=function(){this.inherited(arguments);
this.dialog=new C["default"]({"class":"profile-popup",title:"",content:this.domNode,_onKey:this.handleDialogKeydown.bind(this)});this.render();this.addEventListeners()};e.prototype.open=function(){var a=this;w["default"].open({popup:this.dialog,orient:["below","above"],around:this.opener,onCancel:function(){a.opener.focus();a.close()}});this.dialog.domNode.parentElement.classList.add("profile-popup__container");var b=r["default"].getFocusableElements(this.dialog.domNode);this.firstFocusItem=b[0];
this.lastFocusItem=b[b.length-1];this.firstFocusItem.focus();setTimeout(function(){z["default"].showHide(a.descToggle,a.descEl.scrollHeight>a.descEl.clientHeight)},100)};e.prototype.close=function(){w["default"].close(this.dialog);this.dialog.destroy();this.destroy();this.emit("close")};e.prototype.render=function(){z["default"].showHide(this.descContainer,!!this.item.verified.description);this.item.verified.description&&(this.descEl.innerHTML=this.item.verified.description)};e.prototype.addEventListeners=
function(){var a=this;this.own(f["default"](this.closeIcon,"click",function(){w["default"].close(a.dialog)}),f["default"](this.domNode,"click",function(b){b.stopPropagation()}),f["default"](document.body,"click",function(){a.close()}),f["default"](this.descToggle,"click",function(){return a.handleDescToggle()}))};e.prototype.handleDialogKeydown=function(a){var b=this;if(a.keyCode===g["default"].TAB)if(a.stopPropagation(),this.lastFocusItem!==a.target||a.shiftKey)a.shiftKey&&this.firstFocusItem===
a.target&&(a.preventDefault(),this.opener.focus(),this.close());else{a.preventDefault();var c=r["default"].getFocusableElements(document.body);c.forEach(function(m,t){m===b.opener&&c[t+1].focus()});this.close()}};e.prototype.handleDescToggle=function(){this.descContainer.classList.toggle("profile-popup__bio-container--expanded")};return e=n.__decorate([d["default"](u["default"],k["default"],q["default"])],e)}()})},"arcgis-components/wrappers/BasicWrappers/GroupBadges":function(){define(["../../GroupBadges/index",
"../../wrappers/BasicWrappers/BasicWrapper"],function(O,K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,
f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=965)}({0:function(n,q,p){function h(r,
l){function d(){this.constructor=r}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,
e[a])&&(d[e[a]]=r[e[a]])}return d}function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}
function t(v){var A;v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};
case 5:m.label++;a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,
sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,
l){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},349:function(n,q){n.exports=O},385:function(n,q){n.exports=K},965:function(n,
q,p){p.r(q);var h=p(0);n=p(385);n=p.n(n);var f=p(349),g=p.n(f).a;p=function(k){function u(w,C){return k.call(this,g,w,C)||this}return Object(h.d)(u,k),u}(n.a);q["default"]=p}})})},"arcgis-components/wrappers/BasicWrappers/BasicWrapper":function(){define(["../../Component"],function(O){return function(K){function n(p){if(q[p])return q[p].exports;var h=q[p]={i:p,l:!1,exports:{}};return K[p].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var q={};return n.m=K,n.c=q,n.d=function(p,h,f){n.o(p,h)||Object.defineProperty(p,
h,{enumerable:!0,get:f})},n.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"});Object.defineProperty(p,"__esModule",{value:!0})},n.t=function(p,h){if((1&h&&(p=n(p)),8&h)||4&h&&"object"==typeof p&&p&&p.__esModule)return p;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:p}),2&h&&"string"!=typeof p)for(var g in p)n.d(f,g,function(k){return p[k]}.bind(null,g));return f},n.n=function(p){var h=
p&&p.__esModule?function(){return p["default"]}:function(){return p};return n.d(h,"a",h),h},n.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},n.p="",n(n.s=926)}({0:function(K,n,q){function p(z,r){function l(){this.constructor=z}if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");w(z,r);z.prototype=null===r?Object.create(r):(l.prototype=r.prototype,new l)}function h(z,r){var l={},d;for(d in z)Object.prototype.hasOwnProperty.call(z,
d)&&0>r.indexOf(d)&&(l[d]=z[d]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(z);e<d.length;e++)0>r.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(z,d[e])&&(l[d[e]]=z[d[e]])}return l}function f(z,r,l,d){var e,a=arguments.length,b=3>a?r:null===d?d=Object.getOwnPropertyDescriptor(r,l):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(z,r,l,d);else for(var c=z.length-1;0<=c;c--)(e=z[c])&&(b=(3>a?
e(b):3<a?e(r,l,b):e(r,l))||b);return 3<a&&b&&Object.defineProperty(r,l,b),b}function g(z,r,l,d){return new (l||(l=Promise))(function(e,a){function b(t){try{m(d.next(t))}catch(v){a(v)}}function c(t){try{m(d["throw"](t))}catch(v){a(v)}}function m(t){var v;t.done?e(t.value):(v=t.value,v instanceof l?v:new l(function(A){A(v)})).then(b,c)}m((d=d.apply(z,r||[])).next())})}function k(z,r){function l(m){return function(t){return function(v){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=
1,e&&(a=2&v[0]?e["return"]:v[0]?e["throw"]||((a=e["return"])&&a.call(e),0):e.next)&&!(a=a.call(e,v[1])).done)return a;switch(e=0,a&&(v=[2&v[0],a.value]),v[0]){case 0:case 1:a=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++;e=v[1];v=[0];continue;case 7:v=c.ops.pop();c.trys.pop();continue;default:if(!(a=c.trys,(a=0<a.length&&a[a.length-1])||6!==v[0]&&2!==v[0])){c=0;continue}if(3===v[0]&&(!a||v[1]>a[0]&&v[1]<a[3]))c.label=v[1];else if(6===v[0]&&c.label<a[1])c.label=a[1],a=v;else if(a&&
c.label<a[2])c.label=a[2],c.ops.push(v);else{a[2]&&c.ops.pop();c.trys.pop();continue}}v=r.call(z,c)}catch(A){v=[6,A],e=0}finally{d=a=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,t])}}var d,e,a,b,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:l(0),"throw":l(1),"return":l(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b}function u(z,r){for(var l=0,d=r.length,e=z.length;l<d;l++,e++)z[e]=r[l];return z}q.d(n,
"d",function(){return p});q.d(n,"a",function(){return C});q.d(n,"f",function(){return h});q.d(n,"c",function(){return f});q.d(n,"b",function(){return g});q.d(n,"e",function(){return k});q.d(n,"g",function(){return u});var w=function(z,r){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l[e]=d[e])})(z,r)},C=function(){return(C=Object.assign||function(z){for(var r,l=1,d=arguments.length;l<
d;l++)for(var e in r=arguments[l])Object.prototype.hasOwnProperty.call(r,e)&&(z[e]=r[e]);return z}).apply(this,arguments)};Object.create;Object.create},18:function(K,n){K.exports=O},926:function(K,n,q){q.r(n);var p=q(0),h=q(18);K=function(){function f(g,k,u){var w=this;this.SET_PROPS="SET_PROPS";var C=Object(h.connect)(function(z){return Object(p.a)({},z)},function(){return{}})(g);this.renderContainer=k;this.store=Object(h.createStore)(function(z,r){var l=r.payload;return r.type===w.SET_PROPS?l:z},
u);this.projector=Object(h.createProjector)(this.store,function(z){return z(C,Object(p.a)({},u))},this.renderContainer)}return f.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},f.prototype.getProps=function(){return this.store.getState()},f.prototype.setProps=function(g){this.store.dispatch({type:this.SET_PROPS,payload:g})},f.prototype.watchProps=
function(g){var k=this;return this.store.subscribe(function(){return g(k.store.getState())})},f}();n["default"]=K}})})},"arcgisonline/pages/groups/widgets/_GroupCardMobile":function(){define("require exports tslib ./_GroupCard ../../../tsutils/declareDecorator dojo/text!./templates/_mobileTemplate.html".split(" "),function(O,K,n,q,p,h){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);return function(){function f(){this.templateString=h["default"]}f.prototype.postCreate=function(){};
return f=n.__decorate([p["default"](q["default"])],f)}()})},"arcgisonline/pages/content/widgets/_baseTab":function(){define("require exports tslib ../../../esriGeowConfig ../../../sharing/util ../../organization/widgets/ProfilePopup ../../pageUtil ../../components/Group/OrgSettingsFilterTooltip ../../_filterStateMixin ../../dijit/_CheckReadonlyMixin ../../dijit/CategoryView ../../utils/arrays ../../utils/culture ../../utils/dom ../../utils/icons ../../utils/user ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/_base/lang dojo/query dojo/hash dojo/topic dojo/dom-construct dojo/Deferred preact esri/Evented esri/libs/sanitizer/Sanitizer dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_empty.html arcgisonline/pages/utils/search ../../utils/queryHandler".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);
v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);E=n.__importDefault(E);y=n.__importDefault(y);F=n.__importDefault(F);G=n.__importDefault(G);I=n.__importStar(I);return function(){function N(){this.widgetsInTemplate=!0;this.icons=l["default"];this._selection=[];this._selectionInView=[];this._items=[];this._filterState={};this._categoriesFilter={};this._searchTerm="";this._initialView="table";this._sort={property:"title",label:F["default"].sortDropdown.title,
ascending:!0};this._page={start:1,num:20,total:0,nextStart:-1};this._sortOptions=[{property:"relevance",label:F["default"].sortDropdown.relevance,ascending:!1,hide:!0},{property:"modified",label:F["default"].sortDropdown.modified,active:!0,ascending:!1},{property:"title",label:F["default"].sortDropdown.title,ascending:!0},{property:"numviews",label:F["default"].sortDropdown.views,ascending:!1}];this._emptyTemplate=G["default"];this._firstLoad=!0;this._disableOrgRestriction=!1;this._showAggregationCount=
!0;this._index_numTries=q["default"].index_numTries||10;this._index_syncDelay=q["default"].index_syncDelay||500;this.sanitizer=new y["default"]}N.prototype.postCreate=function(){this.inherited(arguments);this.semanticSearchEnabled=H.semanticSearchEnabled(this.portal,this.portalUser);this.page._currentTabName=v["default"]();this.page._tabState&&this.page._tabState[this.page._currentTabName]&&f["default"].updateQueryParams(this.page._tabState[this.page._currentTabName]);this._applyQueryParameters()};
N.prototype.startup=function(){var M=this,J=new x["default"];this.inherited(arguments);this._selection=[];this._items=[];this._addEventListeners();this._applyFilters();this._getCounts(this.group);this.preventFirstRender?J.resolve(!0):this.render().then(function(R){M._firstLoad&&(M._firstLoad=!1);J.resolve(R)});return J};N.prototype.destroy=function(){this.inherited(arguments);this.page._currentTabName&&(this.page._tabState=this.page._tabState||{},this.page._tabState[this.page._currentTabName]=f["default"].getQueryParams());
this._resetState();var M=this.page&&this.page._queryStringParams&&this.page._queryStringParams.id;f["default"].setQueryParams(M?{id:M}:{});this._popup&&this._popup.close()};N.prototype.render=function(){var M=this;return this._getItems().then(function(J){return M._updateState(J).then(function(R){return M._getFavorites(R)}).then(function(R){return M._updateView(R)})})};N.prototype.getItemIDs=function(M){return(M||this._items||[]).map(function(J){return J.id}).join(",")};N.prototype.getQueryParamString=
function(){var M=I.objectToQuery(this._getParams())||"";return 1E3<M.length?M.substring(0,1E3):M};N.prototype._mustDefendLastPage=function(M){return 0<M&&(this._firstLoad&&this._initialStart>M||this._page.start>M)};N.prototype._defendLastPage=function(M){var J,R=this.portal;M=(Math.ceil(M.total/this._page.num)-1)*this._page.num+1;M=0<M?M:1;this._firstLoad&&(this._initialStart=M);this._page.start=M;M=(null===(J=this._getFilter)||void 0===J?void 0:J.call(this))||"";return R.queryItems(this._getParams(),
this._disableOrgRestriction,this.contentUser,M)};N.prototype._getItems=function(){var M=this,J,R=new x["default"],Z=this.portal,T=this._getParams(),X=(null===(J=this._getFilter)||void 0===J?void 0:J.call(this))||"";Z.queryItems(T,this._disableOrgRestriction,this.contentUser,X).then(function(aa){M._mustDefendLastPage(aa.total)?M._defendLastPage(aa).then(function(fa){return R.resolve(fa)},function(fa){R.reject(fa)}):R.resolve(aa)},function(aa){R.reject(aa)});return R};N.prototype._getFavorites=function(M){if(!this._skipFavorite){var J=
this.portal,R=J.getPortalUser();return d["default"].checkForFavorites(R,J,M)}};N.prototype._getFilter=function(){var M,J,R,Z=this._filterQ||"";return 0<(null===(J=null===(M=this._filterState)||void 0===M?void 0:M.tags)||void 0===J?void 0:J.length)?(M=null===(R=this._filterState)||void 0===R?void 0:R.tags.map(function(T){return'"'+T.value+'"'}).join(" OR "),(Z?Z+" OR ":"")+" (tags:("+M+"))"):Z};N.prototype._resetState=function(){this._selection=[];this._selectionInView=[];this._items=[];this._filterState=
{};this._categoriesFilter={};this._filters={};this._searchTerm="";this._page={start:1,num:20,total:0,nextStart:-1};this._sort={property:"title",label:F["default"].sortDropdown.title,ascending:!0}};N.prototype._addEventListeners=function(){var M=this;this.own(t["default"](".js-deselect",this.domNode).on("click",this._deselectAll.bind(this)),A["default"].subscribe("filter/update",this._filterUpdate.bind(this)),A["default"].subscribe("filter/clear",this._filterClear.bind(this)),A["default"].subscribe("filter/remove",
this._filterRemove.bind(this)),A["default"].subscribe("refine/update",this._refineUpdate.bind(this)),A["default"].subscribe("view/refresh",this.render.bind(this)),A["default"].subscribe("view/select",this._viewSelect.bind(this)),A["default"].subscribe("view/deselect",this._viewDeselect.bind(this)),A["default"].subscribe("view/deselectAll",this._viewDeselectAll.bind(this)),A["default"].subscribe("view/update",this._updateSelectedView.bind(this)),A["default"].subscribe("sort/update",this._sortUpdate.bind(this)),
A["default"].subscribe("search/wait",this._searchWait.bind(this)),A["default"].subscribe("search/update",this._searchUpdate.bind(this)),A["default"].subscribe("pagination/page",this._paginationPage.bind(this)),A["default"].subscribe("items/refresh",this._itemsRefresh.bind(this)),A["default"].subscribe("item/categorize",function(J,R){return M._openCategoryView(J,R)}),A["default"].subscribe("profile/show",this._showProfile.bind(this)),A["default"].subscribe("profile/hide",this._hideProfile.bind(this)),
A["default"].subscribe("shareCheckDlg/update",this._shareCheckUpdate.bind(this)),A["default"].subscribe("categorySchema/updated",this._updateCategories.bind(this)),A["default"].subscribe("aggregations/refresh",this._getCounts.bind(this)))};N.prototype._filterUpdate=function(M){var J=this,R,Z,T,X,aa=M.isCategory?"categories":M.param;aa=M.isBBox?"bbox":aa;M.isCategory?this._filterState.categories=this._categoryUpdate(M):M.isBBox?this._filterState.bbox=[M.selected[0]]:this._filterState[aa]=M.selected;
this._paginationReset();aa=Object.keys(this._filterState||{}).filter(function(fa){return!!J._filterState[fa]});null===(Z=null===(R=this.page)||void 0===R?void 0:R.telemetry)||void 0===Z?void 0:Z.logEvent({category:"Filter",action:M.param,label:null===(X=null===(T=M.selected)||void 0===T?void 0:T[0])||void 0===X?void 0:X.label,count:aa.length,attribute:aa.sort().join(",")});M.isLoading||this.render()};N.prototype._categoryUpdate=function(M){var J=this;this._categoriesFilter[M.id]=M.selected;return Object.keys(this._categoriesFilter).map(function(R){return J._categoriesFilter[R]}).reduce(function(R,
Z){return R.concat(Z)})};N.prototype._filterClear=function(){var M=this;this._paginationReset();Object.keys(this._filterState).forEach(function(J){return delete M._filterState[J]});this._categoriesFilter={};this.render()};N.prototype._filterRemove=function(M,J){var R=M.isCategory?"categories":M.param;R=M.isBBox?"bbox":R;this._paginationReset();this._filterState[R]&&0<this._filterState[R].length&&(this._filterState[R]=this._filterState[R].filter(function(Z){return Z.value!==M.value}));J||this.render()};
N.prototype._refineUpdate=function(M){this._paginationReset();this._searchTerm=M;this.render();this._getCounts(this.group)};N.prototype._viewSelect=function(M){C["default"].find(this._selection,function(J){return J.id===M.id})||(M.isSelected=!0,this._selection.push(M));this._updateSelectedView()};N.prototype._viewDeselect=function(M){M.isSelected=!1;this._selection=this._selection.filter(function(J){return J.id!==M.id});this._updateSelectedView()};N.prototype._viewDeselectAll=function(){this._selection=
[];this._updateSelectedView()};N.prototype._updateSelectedView=function(){var M,J,R;null===(M=this._rangeText)||void 0===M?void 0:M.classList.remove("visually-hidden");null===(R=null===(J=this._pagination)||void 0===J?void 0:J.domNode)||void 0===R?void 0:R.classList.remove("visually-hidden");this._updateSelectionInView();0<this._selectionInView.length?(t["default"](".hide-if-selected").addClass("hide"),t["default"](".show-if-selected").removeClass("hide"),this.filterSelectedViewActions&&this.filterSelectedViewActions(this._selectionInView)):
(t["default"](".hide-if-selected").removeClass("hide"),t["default"](".show-if-selected").addClass("hide"));this.selectedCount&&(this.selectedCount.innerHTML=z["default"].getString(this.i18n.GroupWidget.selected,this._selectionInView.length))};N.prototype._openCategoryView=function(M,J){this.checkReadonly()||(this._categoryView=new w["default"]({portal:this.portal,items:M?[M]:this._selectionInView,group:this.group,opener:J},B["default"].place(B["default"].create("div"),this.domNode,"after")),this._categoryView.open())};
N.prototype._updateView=function(M){var J,R=this._hasFilters();A["default"].publish("view/update",this._items,this._selection,R);this._pagination.render(this._page);M=this._pagination.getCurrentPageObj();R=!R&&0===M.end||0===M.end&&this._initialMembershipRequestToggle;this._rangeText.textContent=f["default"].getPageRangeString({start:0===M.total?0:M.start,end:-1===M.end?0:M.end,total:M.total});r["default"].showHide(this._rangeText,!R);null===(J=this._popup)||void 0===J?void 0:J.close();return!0};
N.prototype._deselectAll=function(){this._selection=[];A["default"].publish("view/deselectAll");this._updateSelectedView()};N.prototype._searchWait=function(M,J){var R,Z,T;A["default"].publish("view/loading",M);null===(R=this._rangeText)||void 0===R?void 0:R.classList.add("visually-hidden");null===(T=null===(Z=this._pagination)||void 0===Z?void 0:Z.domNode)||void 0===T?void 0:T.classList.add("visually-hidden");R={};R[J||"searchTerm"]=M;f["default"].updateQueryParams(R)};N.prototype._searchUpdate=
function(M){M&&-1<M.indexOf("*")?A["default"].publish("alert/show",{type:"error",text:F["default"].search.error.wildCardSearchError}):(this._paginationReset(),this._searchTerm=M);this.render();this._getCounts(this.group)};N.prototype._sortUpdate=function(M){this._paginationReset();this._sort.property=M.property;this._sort.ascending=M.ascending;this.render()};N.prototype._paginationReset=function(){this._page.start=1;this._pagination&&this._pagination.set("start",this._page.start)};N.prototype._paginationPage=
function(M){this._page.num=M.num;this._page.start=M.start;this.render()};N.prototype._itemsRefresh=function(M){var J=this,R=null===M||void 0===M?void 0:M.removedItems,Z=null===M||void 0===M?void 0:M.forcedDelay,T=(null===M||void 0===M?void 0:M.numTries)||0,X;(null===R||void 0===R?0:R.length)?setTimeout(function(){J._getItems().then(function(aa){X=aa.items||[];(null===R||void 0===R?0:R.length)&&R.some(function(fa){return C["default"].find(X,function(oa){return fa.id===oa.id||fa.itemId===oa.id})})?
T===J._index_numTries?J.render().then(function(){return A["default"].publish("items/refreshComplete")}):(M=n.__assign(n.__assign({},M),{numTries:T+1}),J._itemsRefresh(M)):X&&X.length?J._updateState(aa).then(J._getFavorites.bind(J)).then(J._updateView.bind(J)).then(function(){return A["default"].publish("items/refreshComplete")}):(J._pagination.previousPage(),A["default"].publish("items/refreshComplete"))})},this._index_syncDelay):Z?setTimeout(function(){J.render().then(function(){return A["default"].publish("items/refreshComplete")})},
Z):this.render().then(function(){return A["default"].publish("items/refreshComplete")})};N.prototype._updateState=function(M){var J=new x["default"];this._items=this._setSelected(M.items);this._updateSelectionInView();this._page.start=M.start;this._page.total=M.total;this._page.nextStart=M.nextStart;this._pagination&&this._pagination.set("start",this._page.start);J.resolve(M);return J};N.prototype._updateSelectionInView=function(){var M=this;this._selectionInView=this._selection.filter(function(J){return C["default"].find(M._items,
function(R){return J.id===R.id})})};N.prototype._setSelected=function(M){var J=this;return M.map(function(R){var Z=C["default"].find(J._selection,function(T){return T.id===R.id});R.isSelected=Z?!0:!1;return R})};N.prototype._hasFilters=function(){var M=this,J=Object.keys(this._filterState).filter(function(R){return 0<M._filterState[R].length});return this._searchTerm&&0<this._searchTerm.length||J&&0<J.length||this._initialMembershipRequestToggle};N.prototype._findOwnerSortOptionIndex=function(){var M=
-1;this._sortOptions.forEach(function(J,R){"owner"===J.property&&(M=R)});return M};N.prototype._addOwnerSortOption=function(){-1===this._findOwnerSortOptionIndex()&&this._sortOptions.push({property:"owner",label:F["default"].sortDropdown.owner,ascending:!0})};N.prototype._removeOwnerSortOption=function(){var M=this._findOwnerSortOptionIndex();-1<M&&this._sortOptions.splice(M,1)};N.prototype._showProfile=function(M){var J=this;this._popup&&this._popup.close();this._popup=new h["default"]({username:M.target.getAttribute("data-owner"),
opener:M.target,portal:this.portal});this._popup.open();c["default"].once(this._popup,"close",function(){J._popup=void 0})};N.prototype._hideProfile=function(){this._popup&&this._popup.close()};N.prototype._shareCheckUpdate=function(){this._itemsRefresh({forcedDelay:1500})};N.prototype._getCounts=function(M){var J,R;if(this._showAggregationCount){var Z=M?"content/groups/"+M.id+"/search":"search",T=M?"":this.portal.id?"orgid:"+this.portal.id:"",X=(null===(J=null===q["default"]||void 0===q["default"]?
void 0:q["default"].viewQueries)||void 0===J?void 0:J.none)||"";J={q:T,countFields:"access,contentstatus,"+(M?"groupCategories":"categories"),countSize:200,num:0};this.semanticSearchEnabled&&(J.enriched=!0);this.getAggregationQuery&&(J.q=this.getAggregationQuery());if(J.q||M){0>(null===(R=J.q)||void 0===R?void 0:R.indexOf(X))&&(J.q=J.q+" "+X);M=q["default"].restBaseUrl+Z;if(R=this._getFilter())J.filter=R+" "+(J.filter||"");p["default"].request({url:M,content:J}).then(function(aa){aa.aggregations&&
aa.aggregations.counts&&aa.aggregations.counts.forEach(function(fa){A["default"].publish("aggregations/update",fa)})})}}};N.prototype._updateCategories=function(M,J){var R=this;M?J?this.group.categorySchema=M:this.portal&&(this.portal.categories=M,q["default"].self.hasCategorySchema=!0):J?delete this.group.categorySchema:(delete this.portal.categories,q["default"].self.hasCategorySchema=!1);setTimeout(function(){return R._getCounts(R.group)},1200)};N.prototype.getDebugParameters=function(){var M=
m["default"].clone(this.page._queryStringParams),J={_qtBoost:"",_qtbConfig:""};return 2===Object.keys(M).filter(function(R){return R in J}).map(function(R){J[R]=M[R];return R}).length?J:{}};N.prototype.renderOrgSettingsTooltip=function(){var M;if(null!==(M=this._specialGroupsFilter)&&void 0!==M&&M.domNode&&(M=this._specialGroupsFilter.domNode.querySelector('li[data-value\x3d"orgSettings"]'))){var J=document.createElement("div");J.classList.add("-margin-left-half");D.render(D.h(g["default"],{}),J);
M.classList.add("flex","flex-align-center");M.appendChild(J)}};return N=n.__decorate([e["default"](a["default"],b["default"],E["default"],k["default"],u["default"])],N)}()})},"arcgisonline/pages/components/Group/OrgSettingsFilterTooltip":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../nls/arcgisonline"],function(O,K,n,q,p){Object.defineProperty(K,"__esModule",{value:!0});p=n.__importDefault(p);K["default"]=function(){return q.h("arcgis-information",{label:p["default"].searchPage.moreInfo,
placement:"bottom-trailing"},q.h("p",{"class":"trailer-0"},p["default"].GroupsWidget.orgSettingsTooltip))}})},"arcgisonline/pages/_filterStateMixin":function(){define("require exports tslib ./pageUtil ./utils/arrays ./utils/clone".split(" "),function(O,K,n,q,p,h){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);return function(){function f(){this._initialLoading=!0;this._initialStart=1;this._initialNum=20;this._initialMembershipRequestToggle=!1}f.prototype._applyQueryParameters=
function(){var g=q["default"].getQueryParams();this._applySortParameters(g);this._applyViewParameter(g);this._applyPaginationParameter(g);this._applyTypeParameter(g);this._applyMembershipRequestParameter(g);this._applyDateParameter(g);this._applyDateUploadedParameter(g);this._applyDateCreatedParameter(g);this._applyFolderParameter(g);this._applySharingParameter(g);this._applyStatusParameter(g);this._applyRoleParameter(g);this._applyUserTypeParameter(g);this._applyOwnerParameter(g);this._applySpecialGroupsParameter(g);
this._applyCategoriesParameter(g);this._applyLevelParameter(g);this._applyLastLoginParameter(g);this._applySearchInputParameter(g);this._applySearchByParameter(g);this._applyTagsParameter(g);this._applyBBoxParameter(g);this._applyCollaborationParameter(g);this._applyGroupsParameter(g);this._applyAppParameter(g);this._applyCreditsParameter(g)};f.prototype._applyFilters=function(){this._applyPagination();this._applyItemTypeFilter();this._applySpecialGroupsFilter();this._applyDateFilter();this._applyDateUploadedFilter();
this._applyDateCreatedFilter();this._applyFolderFilter();this._applyMembershipRequestFilter();this._applySharingFilter();this._applyStatusFilter();this._applyRoleFilter();this._applyUserTypeFilter();this._applyGroupFilter();this._applyAppFilter();this._applyCreditsFilter();this._applyLastLoginFilter();this._applyOwnerFilter();this._applyCategoryFilter();this._applyLevelFilter();this._applySearchInput();this._applySearchByDropdown();this._applyTagsFilter();this._applyBBoxFilter();this._applyCollaborationFilter()};
f.prototype._applySortParameters=function(g){if(g.sortField){var k=g.sortField;if(k&&this._sortOptions&&this._sortOptions.length){var u=p["default"].find(this._sortOptions,function(w){return w.property===k});u&&(this._sort=h["default"](u))}}g.sortOrder&&this._sort&&(this._sort.ascending="asc"===g.sortOrder)};f.prototype._applyViewParameter=function(g){g.view&&(this._initialView=g.view)};f.prototype._applyPaginationParameter=function(g){if(g.num){var k=parseInt(g.num,10);-1<[20,60,100].indexOf(k)&&
(this._initialNum=k,this._page&&this._page.num&&(this._page.num=this._initialNum))}g.start&&this._page&&(this._initialStart=parseInt(g.start,10)||1,0<this._initialStart%this._page.num&&(this._initialStart=Math.floor(this._initialStart/this._page.num)*this._page.num+1,this._page&&this._page.start&&(this._page.start=this._initialStart)))};f.prototype._applyTypeParameter=function(g){g.focus&&(this._initialTypeFilter="layers-weblayers"===g.focus?"layers":g.focus)};f.prototype._applyDateParameter=function(g){g.modified&&
(this._initialDateFilter=g.modified,this._initialDateFilterTo=g.modified_to?g.modified_to:void 0,this._initialDateFilterFrom=g.modified_from?g.modified_from:void 0)};f.prototype._applyDateCreatedParameter=function(g){g.created&&(this._initialDateCreatedFilter=g.created,this._initialDateCreatedFilterTo=g.created_to?g.created_to:void 0,this._initialDateCreatedFilterFrom=g.created_from?g.created_from:void 0)};f.prototype._applyDateUploadedParameter=function(g){g.uploaded&&(this._initialDateUploadedFilter=
g.uploaded,this._initialDateUploadedFilterTo=g.uploaded_to?g.uploaded_to:void 0,this._initialDateUploadedFilterFrom=g.uploaded_from?g.uploaded_from:void 0)};f.prototype._applyFolderParameter=function(g){g.folder&&(this._initialFolderFilter=g.folder)};f.prototype._applyMembershipRequestParameter=function(g){g._membershipRequestToggle&&(this._initialMembershipRequestToggle="true"===g._membershipRequestToggle)};f.prototype._applySharingParameter=function(g){g.access&&(this._initialSharingFilter=g.access)};
f.prototype._applyStatusParameter=function(g){g.contentstatus&&(this._initialStatusFilter=g.contentstatus)};f.prototype._applyRoleParameter=function(g){g.memberType?this._initialRoleFilter=g.memberType:g.role&&(this._initialRoleFilter=g.role)};f.prototype._applyUserTypeParameter=function(g){g.userLicenseType&&(this._initialUserTypeFilter=g.userLicenseType)};f.prototype._applyGroupsParameter=function(g){g.group&&(this._initialGroupFilter=g.group)};f.prototype._applyAppParameter=function(g){g.app&&
(this._initialAppFilter=g.app)};f.prototype._applyCreditsParameter=function(g){g.availablecredits&&(this._initialCreditsFilter=g.availablecredits)};f.prototype._applyOwnerParameter=function(g){g.owner&&(this._initialOwnerFilter=g.owner)};f.prototype._applySpecialGroupsParameter=function(g){g.specialGroups&&(this._initialSpecialGroupsFilter=g.specialGroups)};f.prototype._applyCategoriesParameter=function(g){if(g.categories)try{this._initialCategoryFilter=JSON.parse(g.categories)}catch(k){}if(g.regions){this._initialCategoryFilter=
this._initialCategoryFilter||[];try{this._initialCategoryFilter=this._initialCategoryFilter.concat(JSON.parse(g.regions))}catch(k){}}};f.prototype._applySearchByParameter=function(g){g.searchBy&&(this._initialSearchBy=g.searchBy)};f.prototype._applySearchInputParameter=function(g){g.searchTerm&&(this._initialSearchInput=g.searchTerm)};f.prototype._applyTagsParameter=function(g){g.tags&&(this._initialTagsFilter=g.tags.split(","))};f.prototype._applyBBoxParameter=function(g){if(g.bbox){g.sortField=
"bbox";var k=g.bbox.split(",");4===k.length&&(this._initialBBoxFilter=[[k[0],k[1]],[k[2],k[3]]],this._initialBBoxLabel=g.bboxLabel)}};f.prototype._applyCollaborationParameter=function(g){g.origin&&(this._initialCollaborationFilter=g.origin)};f.prototype._applyLevelParameter=function(g){g.level&&(this._initialLevelFilter=g.level)};f.prototype._applyLastLoginParameter=function(g){g.lastlogin&&(this._initialDateFilter=g.lastlogin,this._initialDateFilterTo=g.lastlogin_to?g.lastlogin_to:void 0,this._initialDateFilterFrom=
g.lastlogin_from?g.lastlogin_from:void 0)};f.prototype._applyPagination=function(){this._pagination&&this._pagination.setInitialProperties({num:this._initialNum,start:this._initialStart});this._page&&(this._page.num=this._initialNum,this._page.start=this._initialStart)};f.prototype._applyItemTypeFilter=function(){this._initialTypeFilter&&this._typeFilter&&this._typeFilter.select&&this._typeFilter.select(this._initialTypeFilter)};f.prototype._applyDateFilter=function(){this._initialDateFilter&&this._dateFilter&&
this._dateFilter.select&&this._dateFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};f.prototype._applyDateCreatedFilter=function(){this._initialDateCreatedFilter&&this._dateFilter&&this._dateFilter.select&&this._dateFilter.select(this._initialDateCreatedFilter,this._initialDateCreatedFilterFrom,this._initialDateCreatedFilterTo)};f.prototype._applyFolderFilter=function(){this._initialFolderFilter&&this._folderList&&(this._folderList.setInitialFolder(this._initialFolderFilter),
this._folderListMobile.setInitialFolder(this._initialFolderFilter))};f.prototype._applyMembershipRequestFilter=function(){var g;this._initialMembershipRequestToggle&&(null===(g=this._membershipRequestToggle)||void 0===g?0:g.isChecked)&&this._membershipRequestToggle.setChecked(this._initialMembershipRequestToggle)};f.prototype._applyDateUploadedFilter=function(){this._initialDateUploadedFilter&&this._dateCreatedFilter&&this._dateCreatedFilter.select&&this._dateCreatedFilter.select(this._initialDateUploadedFilter,
this._initialDateUploadedFilterFrom,this._initialDateUploadedFilterTo)};f.prototype._applySharingFilter=function(){this._initialSharingFilter&&this._sharingFilter&&this._sharingFilter.select&&this._sharingFilter.select(this._initialSharingFilter)};f.prototype._applyStatusFilter=function(){this._initialStatusFilter&&this._statusFilter&&this._statusFilter.select&&this._statusFilter.select(this._initialStatusFilter)};f.prototype._applyRoleFilter=function(){this._initialRoleFilter&&this._roleFilter&&
this._roleFilter.select&&this._roleFilter.select(this._initialRoleFilter)};f.prototype._applyUserTypeFilter=function(){this._initialUserTypeFilter&&this._userTypeFilter&&this._userTypeFilter.select&&this._userTypeFilter.select(this._initialUserTypeFilter)};f.prototype._applyGroupFilter=function(){this._initialGroupFilter&&this._groupFilter&&this._groupFilter.select&&this._groupFilter.select(this._initialGroupFilter)};f.prototype._applyAppFilter=function(){this._initialAppFilter&&this._appFilter&&
this._appFilter.select&&this._appFilter.select(this._initialAppFilter)};f.prototype._applyCreditsFilter=function(){this._initialCreditsFilter&&this._creditsFilter&&this._creditsFilter.select&&this._creditsFilter.select(this._initialCreditsFilter)};f.prototype._applyLastLoginFilter=function(){this._initialDateFilter&&this._lastLoginFilter&&this._lastLoginFilter.select&&this._lastLoginFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};f.prototype._applySpecialGroupsFilter=
function(){var g;this._initialSpecialGroupsFilter&&(null===(g=this._specialGroupsFilter)||void 0===g?0:g.select)&&this._specialGroupsFilter.select(this._initialSpecialGroupsFilter)};f.prototype._applyOwnerFilter=function(){this._initialOwnerFilter&&this._ownerFilter&&this._ownerFilter.select&&this._ownerFilter.select(this._initialOwnerFilter)};f.prototype._applyCategoryFilter=function(){this._initialCategoryFilter&&this._categoryFilter&&this._categoryFilter.select&&this._categoryFilter.select(this._initialCategoryFilter,
this._initialLoading)};f.prototype._applyLevelFilter=function(){this._initialLevelFilter&&this._levelFilter&&this._levelFilter.select&&this._levelFilter.select(this._initialLevelFilter)};f.prototype._applySearchInput=function(){var g,k=this._searchInput||(null===(g=this._controlBar)||void 0===g?void 0:g._searchInput);this._initialSearchInput&&(null===k||void 0===k?0:k.setValue)&&k.setValue(this._initialSearchInput)};f.prototype._applySearchByDropdown=function(){var g=this._searchByDropdown||this._controlBar&&
this._controlBar._searchDropdown;this._initialSearchBy&&g&&g.setSelection&&g.setSelection(this._initialSearchBy)};f.prototype._applyTagsFilter=function(){this._initialTagsFilter&&this._tagsFilter&&this._tagsFilter.select&&this._tagsFilter.select(this._initialTagsFilter)};f.prototype._applyBBoxFilter=function(){this._initialBBoxFilter&&this._bBoxFilter&&this._bBoxFilter.addExtentFilter&&this._bBoxFilter.addExtentFilter(this._initialBBoxFilter,this._initialBBoxLabel)};f.prototype._applyCollaborationFilter=
function(){this._initialCollaborationFilter&&this._collaborationFilter&&this._collaborationFilter.select&&this._collaborationFilter.select(this._initialCollaborationFilter)};return f}()})},"arcgisonline/pages/dijit/CategoryView":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/query dojo/string dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/alerts ../utils/arrays ../utils/categories ../utils/icons ./Overlay ./Alert ./CategoryView/CategoryListItem dojo/text!./CategoryView/templates/CategoryView.html dojo/text!./CategoryView/templates/Category.html dojo/text!./CategoryView/templates/CategoryGroup.html dojo/text!./CategoryView/templates/_undo.html dojo/i18n!../../nls/arcgisonline ../utils/dom".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);B=n.__importDefault(B);return function(){function x(D,E){this.title=A["default"].contentCategories.categorizeItems;this.id="categoryView";this.overlayContents=f["default"].substitute(c["default"],{i18n:A["default"],icons:d["default"]});this.shouldScroll=!1;this.constrain=!0;this.i18n=A["default"];this.icons=d["default"];this.history=[];this.historyIndex=null;this.itemDijits=[]}x.prototype.postCreate=function(){this.categories=this.group?this.group.categorySchema:this.portal.categories;
this.rootNode=l["default"].getRootNode(this.categories);this.inherited(arguments);g["default"].place(f["default"].substitute(v["default"],{i18n:A["default"],icons:d["default"]}),this._overlayActionBar)};x.prototype.destroy=function(){var D;this.inherited(arguments);this.itemDijits.forEach(function(E){E.destroy()});null===(D=this.drag)||void 0===D?void 0:D.destroy()};x.prototype.render=function(){var D=this,E=this.domNode.querySelector(".js-item-wrapper");this.items.forEach(function(y){D.itemDijits.push((new b["default"]({item:y,
categorySchema:D.categories,isGroup:!!D.group})).placeAt(E))});this.updateHistory();this.buildCategoryTree();this.setCheckboxState();this.attachDragEvents();this.own(p["default"].subscribe("categories/update",this.setCheckboxState.bind(this)),p["default"].subscribe("categories/update",this.updateHistory.bind(this)),h["default"](".js-category-select-checkbox",this.domNode).on("change",this.toggleCategory.bind(this)),h["default"](".js-undo",this.domNode).on("click",this.back.bind(this)),h["default"](".js-redo",
this.domNode).on("click",this.forward.bind(this)))};x.prototype.attachDragEvents=function(){var D=this;this.drag=w["default"](B["default"].querySelectorAllAsArray(".js-category-card, .js-category-group",this.domNode),{copy:!0,moves:function(E,y,F){return F.classList.contains("js-name")||F.classList.contains("category-view-name")},accepts:function(E,y,F,G){return!y.classList.contains("js-category-group")}});this.drag.on("over",function(E,y,F){y.classList.contains("js-category-card")&&y.classList.add("card-select-active")});
this.drag.on("out",function(E,y,F){y.classList.contains("js-category-card")&&y.classList.remove("card-select-active")});this.drag.on("drop",function(E,y,F,G){if(y&&y.classList.contains("js-category-card")){F=E.querySelector(".js-name").getAttribute("data-category-path");var H=y.getAttribute("data-item-id");y=r["default"].find(D.itemDijits,function(I){return I.item.id===H});E.parentNode.removeChild(E);y.addCategory(F);D.updateHistory()}})};x.prototype.updateHistory=function(){var D=this.itemDijits.map(function(E){return E.updateCategories(!0)});
this.history=this.history.slice(0,this.historyIndex||0);this.history.push(D);this.historyIndex=this.history.length;this.setUndoRedoVisibility()};x.prototype.setUndoRedoVisibility=function(){this.domNode.querySelector(".js-redo").disabled=this.historyIndex===this.history.length;this.domNode.querySelector(".js-undo").disabled=2>this.historyIndex;this._primaryBtn.disabled=1===this.historyIndex};x.prototype.back=function(D){D=D.target;null===D||void 0===D?void 0:D.blur();this.history[(this.historyIndex||
0)-2]&&(--this.historyIndex,this.renderFromHistory())};x.prototype.forward=function(D){D=D.target;null===D||void 0===D?void 0:D.blur();this.historyIndex<this.history.length&&(this.historyIndex+=1,this.renderFromHistory())};x.prototype.renderFromHistory=function(){var D=this;this.history[this.historyIndex-1].forEach(function(E,y){D.itemDijits[y].setCategories(E)});this.setCheckboxState();this.setUndoRedoVisibility()};x.prototype.buildCategoryTree=function(){this.domNode.querySelector(".js-category-root").innerHTML=
this.categoriesToDom(this.categories[0].categories,"",!0)};x.prototype.categoriesToDom=function(D,E,y){var F=this;D=D.reduce(function(G,H){var I=E?E+"/"+H.title:"/"+H.title,N=H.categories?F.categoriesToDom(H.categories,I):"";return G+f["default"].substitute(m["default"],{title:H.title,children:N,path:I,icons:d["default"]})},"");return y?D:f["default"].substitute(t["default"],{categories:D,icons:d["default"]})};x.prototype.setCheckboxState=function(){var D=this;B["default"].querySelectorAllAsArray(".js-category-select-checkbox",
this.domNode).forEach(function(E){var y=E.value,F=D.itemDijits.filter(function(G){G=G.updateCategories();var H=0<G.filter(function(I){return-1<I.indexOf(y+"/")}).length;return 0<G.length&&(-1<G.indexOf(y)||H)}).length;E.indeterminate=0<F&&F<D.items.length;E.checked=F===D.items.length})};x.prototype.toggleCategory=function(D){var E=D.target,y=E.value;this.itemDijits.forEach(function(F){E.checked||E.indeterminate?F.addCategory(y):F.removeCategory(y)});this.setCheckboxState();this.updateHistory()};x.prototype.handlePrimary=
function(){this.submit()};x.prototype.submit=function(){var D=this,E=this.itemDijits.map(function(y){var F={};F[y.item.id]=D.group?y.updateCategories(!0):{categories:y.updateCategories(!0)};return F});E={url:this.portal.url+"content/"+(this.group?"groups/"+this.group.id+"/updateCategories":"updateItems"),content:{items:JSON.stringify(E)}};C["default"].request(E,{usePost:!0}).then(function(y){D.itemDijits.forEach(function(F){F.saveCategories()});new a["default"]({type:"success",text:A["default"].contentCategories.success},
g["default"].create("div",null,document.body));setTimeout(function(){p["default"].publish("aggregations/refresh",D.group);p["default"].publish("view/refresh");p["default"].publish("view/deselectAll");D.close()},1E3)},function(y){"GWM_0021"===(null===y||void 0===y?void 0:y.messageCode)&&z["default"].showAlert("error",y.message)})};return x=n.__decorate([q["default"](u["default"],k["default"],e["default"])],x)}()})},"arcgisonline/pages/dijit/CategoryView/CategoryListItem":function(){define("require exports tslib dojo/_base/lang ../Card/_CardBase ../CategoryPicker dojo/text!./templates/CategoryListViewCard.html arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);return function(){function k(u,w){this.templateString=f["default"];this.categories=q["default"].clone(u.isGroup?u.item.groupCategories:u.item.categories)}k.prototype.postCreate=function(){this.inherited(arguments);this.categoryPicker=new h["default"]({categories:this.categories,schema:this.categorySchema},this._chipWrap);this.categoryPicker.startup()};k.prototype.destroy=
function(){this.inherited(arguments);this.categoryPicker.destroy()};k.prototype._cardOpen=function(){return!1};k.prototype.updateCategories=function(u){return this.categories=this.categoryPicker.getCategories(u)};k.prototype.setCategories=function(u){this.categories=u;this.categoryPicker.setCategories(u,!0)};k.prototype.addCategory=function(u){0<this.categories.filter(function(w){return-1<w.indexOf(u+"/")}).length||(this.categoryPicker.addCategory(u),this.categories=this.categoryPicker.getCategories())};
k.prototype.removeCategory=function(u){this.categoryPicker.removeCategory(u);this.categories=this.categoryPicker.getCategories()};k.prototype.saveCategories=function(){this.item.categories=this.updateCategories()};return k=n.__decorate([g["default"](p["default"])],k)}()})},"arcgisonline/pages/utils/search":function(){define(["require","exports","tslib","arcgisonline/esriGeowConfig"],function(O,K,n,q){Object.defineProperty(K,"__esModule",{value:!0});K.separateFilterFromQuery=K.semanticSearchEnabled=
void 0;q=n.__importDefault(q);K.semanticSearchEnabled=function(p,h){var f;return!!(q["default"].semanticSearchEnabled&&(null===(f=null===p||void 0===p?void 0:p.portalProperties)||void 0===f?0:f.semanticSearchEnabled))||h&&!h.orgId};K.separateFilterFromQuery=function(p){var h=/(tags:".+?")/gi;h=null===p||void 0===p?void 0:p.match(h);null===h||void 0===h?void 0:h.forEach(function(f){p=p.replace(new RegExp(f),"")});return{q:p,filter:(null===h||void 0===h?void 0:h.join(" "))||""}}})},"arcgisonline/pages/group/_GroupActions":function(){define("require exports tslib preact ../../esriGeowConfig ../pageUtil ../utils/alerts ../utils/arrays ../dijit/ChangeOwner ./widgets/InviteMembers ./widgets/UpdateGroupRoleOverlay ../components/ImageUploadModal/ImageUploadModal ../../sharing/util ../../sharing/dijit/dialog/SimpleDlg ../../sharing/dijit/dialog/ConfirmDialog ../../sharing/dijit/dialog/DeleteWarningDlg ../organization/widgets/ProfilePopup ../../sharing/dijit/dialog/thumbnailDialogs/CreateGroupThumbnailDlg ../../sharing/dijit/dialog/ShareGroupDlg ../../sharing/dijit/dialog/MembershipRequestsDlg ../../sharing/dijit/dialog/JoinGroupDlg ../../sharing/dijit/dialog/InvitationsDlg dojo/on dojo/dom-attr dojo/topic dojo/dom-style dojo/string esri/arcgis/Portal dojo/i18n!../../nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y){p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);return function(){function F(){}F.createWebApp=function(G){var H=G.page;G=H.portal.getPortalUser();H=H.group;var I=H.isOwner?null:H.groupOwner,N=new b["default"];N.show(H,G,I,H.isAdmin,"createWebApp");v["default"].once(N._shareGroupDialog,"hide",function(){N._shareGroupDialog.destroyRecursive();N.destroyRecursive()})};F.embed=function(G){var H=G.page;G=H.portal.getPortalUser();
H=H.group;var I=H.isOwner?null:H.groupOwner,N=new b["default"];N.show(H,G,I,H.isAdmin,"embed");v["default"].once(N._shareGroupDialog,"hide",function(){N._shareGroupDialog.destroyRecursive();N.destroyRecursive()})};F.shareSocial=function(G){var H=G.evt.target;z["default"]._checkShare(G.page.group);(null===H||void 0===H?0:H.href)&&window.open(A["default"].get(H,"href"))};F.reassignGroup=function(G){var H=G.page;G=H.portal;var I=H.group;H=G.getPortalUser();H={owner:I.owner,user:H,group:I,portal:G};G.isPortal&&
"enterprise"===I.provider&&I.providerGroupName&&(H.provider=I.provider,H.groupId=I.id);I.isSharedOwnership&&(H.filterPrivileges=["portal:admin:createUpdateCapableGroup"]);G=new k["default"](H);G.open();G.on("close",function(N){N&&N.newOwner&&setTimeout(function(){window.location.href="group.html?id\x3d"+I.id},400)})};F.inviteUsers=function(G){var H=G.page,I=H.group;G=new u["default"]({group:I,portal:H.portal,user:G.user,closeOnScrimClick:!1});G.open();v["default"].once(G,"close",function(){H._processGroup(I)})};
F.membershipRequests=function(G){G=G.page.group;h["default"].createSpecifiedDialog(c["default"]).show(G.id)};F.joinGroup=function(G){var H=G.page,I=H.group;if(G.user)if(I.autoJoin)I.join().then(function(){H._processGroup(I);B["default"].publish("alert/show",{type:"success",text:D["default"].substitute(y["default"].GroupWidget.youAreNowMember,{name:I.title})})},function(M){M=M.messageCode;var J=y["default"].GroupWidget.error.cantJoin;if(M){var R=y["default"].GroupWidget.error.join,Z=R.maxGroups,T=
R.maxMembers;R=R.settingChanged;"COM_1220"===M?J=Z:"ORG_3103"===M?J=T.external:"COM_1068"===M&&(J=R)}N=h["default"].createSpecifiedDialog(r["default"],{title:y["default"].common.errorTitle,content:J});x["default"].set(N._content,"max-width","500px");N.show()});else{var N=h["default"].createSpecifiedDialog(m["default"]);I.isAdmin?N.show(I.id,I.leavingDisallowed,function(){H._processGroup(I)}):N.show(I.id,I.leavingDisallowed)}else z["default"].requireAuthentication()};F.leaveGroup=function(G){var H=
G.page.group,I=new l["default"]({buttonOkLabel:y["default"].GroupWidget.leaveGroup,buttonCancelLabel:y["default"].common.cancel});I.show({title:y["default"].GroupWidget.leaveGroup,message:y["default"].GroupWidget.leaveGroupConfirm}).then(function(N){"onOk"===N&&H.leave().then(function(){I.hide().then(function(){window.location.href="groups.html"})})})};F.deleteGroup=function(G){var H,I=G.page;G=G.page.portal.isPortal;var N=null!==(H=I.portalUser)&&void 0!==H?H:{},M=I.group;if(z["default"].groupUsedInOrgSettings(M.id))h["default"].createSpecifiedDialog(r["default"],
{title:y["default"].common.notice,content:y["default"].GroupWidget.error[G?"deleteUsedInPortalSettings":"deleteUsedInOrgSettings"]}).show();else if(M._canDeleteGroup(N)){var J=h["default"].createSpecifiedDialog(d["default"]);J.showMsg(y["default"].deleteWarningDlg.confirmDeleteGroup,function(){z["default"].request({url:p["default"].restBaseUrl+"community/groups/"+M.id+"/delete"},{usePost:!0}).then(function(){J.hide();window.location.href=p["default"].baseUrl+"groups.html"},function(R){J.hide();h["default"].createSpecifiedDialog(r["default"],
{title:y["default"].common.errorTitle,content:y["default"].GroupWidget.error.removeItemsBeforeDelete}).show()})},!0)}else J=h["default"].createSpecifiedDialog(r["default"],{title:y["default"].GroupWidget.deleteGroup,content:y["default"].GroupWidget.permissionToDelete}),J.show()};F.profilePopup=function(G){var H=this,I=G.page,N=G.evt,M=I.group;(G=G.profile||M.owner||(G.user?G.user.username||G.user:null))&&!this.popup&&(this.popup=new e["default"]({username:G,opener:N.target,portal:I.portal}),this.popup.open(),
v["default"].once(this.popup,"close",function(){H.popup=void 0}))};F.thumbnail=function(G){function H(){q.render(null,N)}var I=G.page.group,N=document.getElementById("group-thumbnail-modal");N||(N=document.createElement("div"),N.id="group-thumbnail-modal",document.body.appendChild(N));q.render(q.h(C["default"],{texts:{title:y["default"].GroupWidget.uploadThumbnail,size:y["default"].GroupWidget.thumbnailDlg.sizeSpecGroup},onSave:function(M){return n.__awaiter(this,void 0,void 0,function(){var J,R,
Z,T;return n.__generator(this,function(X){switch(X.label){case 0:J=new FormData,R="thumbnail"+(new Date).getTime()+"."+M.format,J.append("thumbnail",M.blob,R),J.append("f","json"),X.label=1;case 1:return X.trys.push([1,3,,4]),[4,z["default"].request({url:p["default"].restBaseUrl+"community/groups/"+G.page.group.id+"/update",form:J,timeout:12E4},{usePost:!0})];case 2:return X.sent(),Z=E["default"].PortalUtil.formatUrl(I.url+"/info/"+R),Z=-1<(null===Z||void 0===Z?void 0:Z.indexOf("?token\x3d"))?Z+"\x26ts\x3d"+
(new Date).getTime():Z?Z+"?ts\x3d"+(new Date).getTime():I.thumbnailUrl,I.set("thumbnailUrl",Z),H(),[3,4];case 3:return T=X.sent(),f["default"].showAlert("error",T.message||y["default"].publishWizard.errors.error.message),H(),[3,4];case 4:return[2]}})})},onCancel:H,height:233,zoomToFull:!0,fillBackground:!0}),N)};F.createGroupThumbnail=function(G){G=a["default"]({item:{}});G.startup();G.showModal()};F.updateUserRole=function(G){var H=G.page,I=H.group.id;G=H.tabDijit._selectionInView;var N=G.map(function(X){return X.username});
G.some(function(X){return X.orgId!==X.portal.id&&X.isCoordinator});var M=1===N.length,J=[],R,Z,T=new w["default"]({users:H.tabDijit._selectionInView});T.open();v["default"].once(T,"save",function(X){var aa=X.selectedRole;h["default"].sendAllResources(p["default"].restBaseUrl+"community/groups/"+I+"/updateUsers",25,N,function(fa){var oa={};oa[aa]=fa.join(",");return oa}).then(function(fa){var oa=!(!fa||!fa.length),ua=oa?{}:fa;oa&&(ua.success=fa.every(function(ha){return!0===ha.success}),fa.forEach(function(ha){!ua.results&&
ha.results&&(ua.results=[]);ua.results=ua.results.concat(ha.results);ha.code&&!ua.code&&(ua.code=ha.code);ha.message&&!ua.message&&ua.message}));ua.results?(ua.results.forEach(function(ha){ha.success||(J.push(ha.username),M&&ha.error&&("COM_1095"===ha.error.messageCode?R=y["default"].GroupWidget.error.insufficientPrivilegesForAdmin:"COM_1098"===ha.error.messageCode?R=D["default"].substitute(y["default"].GroupWidget.error.notPartOfOrg,{name:N[0]}):"COM_10981"===ha.error.messageCode&&(R=y["default"].GroupWidget.error.updateRoleSuspended.replace("[name]",
N[0]))))}),0<J.length?(Z=h["default"].createSpecifiedDialog(r["default"],{title:y["default"].common.notice,content:M&&R?R:D["default"].substitute(y["default"].GroupWidget.error.unableToUpdateUserGroupRole,{userList:J.join(", ")})}),x["default"].set(Z._content,"max-width","500px"),Z.show()):B["default"].publish("alert/show",{type:"success",text:1<N.length?y["default"].GroupWidget.groupRolesUpdated:y["default"].GroupWidget.groupRoleUpdated})):ua.code&&(Z=h["default"].createSpecifiedDialog(r["default"],
{title:y["default"].common.errorTitle,content:y["default"].GroupWidget.error.unableToUpdateUserRole}),x["default"].set(Z._content,"max-width","500px"),Z.show());(function(){var ha;return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(U){switch(U.label){case 0:if(!((null===(ha=H.portalUser)||void 0===ha?0:ha.username)&&-1<N.indexOf(H.portalUser.username)))return[3,2];H.group=void 0;return[4,H._fetchGroup()];case 1:U.sent(),U.label=2;case 2:return[4,H._refreshMembers()];
case 3:return U.sent(),H.tabDijit._refreshMembers(),[2]}})})})()},function(fa){Z=h["default"].createSpecifiedDialog(r["default"],{title:y["default"].common.errorTitle,content:y["default"].GroupWidget.error.unableToUpdateUserRole});x["default"].set(Z._content,"max-width","500px");Z.show()});T.close()})};F.removeUsers=function(G){var H=G.page,I=H.group.id,N=H.tabDijit._selectionInView.map(function(J){return J.username});G=1===N.length?D["default"].substitute(y["default"].groupGeow.removeUserMsg,{username:N[0]}):
y["default"].groupGeow.removeUsersMsg;var M;h["default"].createSpecifiedDialog(d["default"]).showMsgTitleButton(G,y["default"].groupGeow.removeAccess,y["default"].groupGeow.remove,function(){h["default"].sendAllResources(p["default"].restBaseUrl+"community/groups/"+I+"/removeUsers",25,N,function(J){return{users:J.join(",")}}).then(function(J){var R,Z;J=null!==(Z=null===(R=null===J||void 0===J?void 0:J.shift)||void 0===R?void 0:R.call(J))&&void 0!==Z?Z:J;R=H.tabDijit._selectionInView.filter(function(X){return!g["default"].includes(J.notAdded,
X.username)});B["default"].publish("memberlist/refresh",{removedMembers:R});var T=B["default"].subscribe("memberlist/refreshComplete",function(){T.remove();H._refreshMembers().then(function(){H.tabDijit._refreshMembers()});J.notRemoved.length||B["default"].publish("alert/show",{type:"success",text:1<N.length?y["default"].GroupWidget.removedUsers:y["default"].GroupWidget.removedUser})});0<(null===J||void 0===J?void 0:J.notRemoved.length)&&(M=h["default"].createSpecifiedDialog(r["default"],{title:y["default"].common.notice,
message:D["default"].substitute(y["default"].GroupWidget.error.unableToRemoveUsers,{userList:J.notRemoved.join(", ")})}),M.show())})})};F.openInvitations=function(G){var H=G.page;G=H.invitations;var I=H.groupsUser,N=H.portal.getPortalUser(),M=new t["default"];v["default"].once(M._dialog,"hide",function(){M._dialog.destroyRecursive();M.destroyRecursive();B["default"].publish("items/refresh");H._refreshInvitations()});H.isAdminView&&H.groupsUser?M.show(G,I):M.show(G,N)};return F}()})},"arcgisonline/pages/group/widgets/InviteMembers":function(){define("require exports tslib dojo/i18n!../../../nls/arcgisonline dojo/debounce dojo/dom-construct dojo/promise/all dojo/_base/Deferred dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/culture ../../utils/arrays ../../../esriGeowConfig ../../../sharing/util esri/request ../../dijit/Alert ../../dijit/Checkbox ./InviteMemberRow ../../dijit/Overlay ../../dijit/MemberBrowser ../../dijit/OverlayConfirm ../../dijit/MemberThumb ../../../tsutils/declareDecorator dojo/text!./templates/members/invite.html dojo/text!./templates/members/invite-loader.html dojo/text!./templates/members/invite-error.html dojo/text!./templates/members/invite-error-row.html ../../../sharing/dijit/_LevelAwareMixin".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);
v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);F=n.__importDefault(F);return function(){function G(H,I){this.title=q["default"].GroupWidget.inviteUsers;this.i18n=q["default"];this.constrain=!0;this.overlayContents=k["default"].substitute(x["default"],{i18n:q["default"]});this._addDirect=!0;this._hasOutsideMembers=!1;this._invitees=[];this._progress={total:0,current:0,increment:0};this.PER_PAGE=
25;this.SELECTION_LIMIT=500}G.prototype.postMixInProperties=function(){this.inherited(arguments);this._addDirect=this.user.isOrgUser};G.prototype.postCreate=function(){this.inherited(arguments);this.domNode.classList.add("invite-group-users");this._cancelBtn=this.domNode.querySelector(".js-overlay-cancel");this._saveBtn=this.domNode.querySelector(".js-overlay-primary");this._saveBtn.innerHTML=this._addDirect?q["default"].GroupWidget.addToGroup:q["default"].GroupWidget.inviteUsers;this.group.isGroupOwnerOrgMember()&&
this.getMaxExternalOrgsNum()};G.prototype.open=function(){var H=this,I,N,M;this.inherited(arguments);var J="-group:"+this.group.id+" ",R=this.user.isOrgAdmin,Z=this.group.isSharedOwnership;if(Z){var T=this.LICENSE_LEVELS,X=this.SYSTEM_ROLES;J+="-level:"+T.ONE+" -level:"+T.ONE_PLUS_EDIT+" -role:"+X.VIEWER+" -role:"+X.DATA_EDITOR+" "}T=this.portal.canSearchPublic||R;X=!R&&this.portal.isPortal;var aa="org"===this.group.membershipAccess||!(null===(I=this.user.userRole)||void 0===I?0:I.canAddExternalMembersToGroup())||
!this.group.isGroupOwnerOrgMember()&&"collaboration"===this.group.membershipAccess;this._memberBrowser=new t["default"]({group:this.group,baseQuery:J,hideFilters:X,outsideOrgFilter:this.user.isOrgUser&&T,outsideOrgFilterDisable:aa,outsideOrgFilterDisableText:"org"===this.group.membershipAccess?q["default"].GroupWidget.allowOutside:"",showCategoryFilter:R||(null===(N=this.user.userRole)||void 0===N?void 0:N.canViewOrgUsers()),userTypeFilter:R&&!Z,roleFilter:R,roleFilterExclude:this._isValidRole.bind(this),
myGroupsFilter:!0,groupsFilter:!0,portal:this.portal,row:c["default"],user:this.user,showSelected:!0,showExactMatchedUser:!0,excludeCurrentUser:"none"!==(null===(M=this.group.userMembership)||void 0===M?void 0:M.memberType),selectionLimit:this.SELECTION_LIMIT,overlay:!0,emptyText:q["default"].GroupWidget.noMembersInvite,showCollabOrgsFilter:this.group.allowExternalMembers()},this.domNode.querySelector(".js-group-invite-browser"));this._initAddDirectCheckbox();this._memberBrowser.on("member-browser/trusted-orgs",
function(fa){0<fa.trustedOrgs.length&&(H._addDirectCheckbox.domNode.querySelector(".js-checkbox-label-text ").textContent=q["default"].GroupWidget.noConfirmationWithCoords)});this._addListeners()};G.prototype.close=function(){this.inherited(arguments)};G.prototype._addListeners=function(){this.user.isOrgUser&&this.own(this._addDirectCheckbox.on("change",this._updateAddDirect.bind(this)),this._memberBrowser.on("outsideOrgChange",this._handleOutsideOrgChange.bind(this)));this.own(this._memberBrowser.on("selectUpdate",
p["default"](this._selectUpdate.bind(this),30)));this._cancelBtn.addEventListener("click",this.close.bind(this));this._saveBtn.addEventListener("click",this._onSaveClick.bind(this))};G.prototype._selectUpdate=function(H){var I=this,N,M;this._selected=H;this._invitees=H.map(function(X){return X.username});0<H.length&&this._mustSelect&&(this._mustSelect.destroy(),this._mustSelect=null);if(this.user.isOrgUser){var J=this._memberBrowser.coordinators,R=this._memberBrowser.collabOrgs.filter(function(X){return"suspended"===
X.to.state}).some(function(X){return H.some(function(aa){return aa.orgId===X.to.orgId})}),Z=null===(M=null===(N=this.group)||void 0===N?void 0:N.userMembership)||void 0===M?void 0:M.memberType,T="owner"===Z||"admin"===Z||this.user.isOrgAdmin;(this._hasOutsideMembers=!!r["default"].find(H,function(X){return!T||R||!J.some(function(aa){return aa.username===X.username})&&(!X.orgUrl||X.orgUrl!==I.user.orgUrl)}))?(this._addDirectCheckbox.setChecked(!1),this._addDirectCheckbox.disable()):this._addDirectCheckbox.enable();
H.some(function(X){return J.some(function(aa){return aa.username===X.username})})&&!this._hasOutsideMembers&&this._addDirectCheckbox.setChecked(!0)}};G.prototype._updateAddDirect=function(H){this._saveBtn.innerHTML=q["default"].GroupWidget[H?"addToGroup":"inviteUsers"];this._addDirect=H;this._memberBrowser.showExactMatchedUser=!H};G.prototype._handleOutsideOrgChange=function(H){H&&!this._hasOutsideMembers?this._addDirectCheckbox.enable():(this._addDirectCheckbox.setChecked(!1),this._addDirectCheckbox.disable())};
G.prototype._onSaveClick=function(){var H=this;this._mustSelect&&(this._mustSelect.destroy(),this._mustSelect=null);if(0===this._invitees.length)this._mustSelect=new a["default"]({type:"error",text:q["default"].GroupWidget.mustSelect},h["default"].create("div",null,document.body));else{var I=Math.ceil(this._invitees.length/this.PER_PAGE),N=this._initLoader(I),M=r["default"].batch(this._invitees,25).map(function(J){return H._sendInvites(J.join(","),N.domNode)});1<I&&N.show();f["default"](M).then(function(J){var R=
[].concat.apply([],J.map(function(T){return T.notAdded})),Z=J.reduce(function(T,X){var aa=X.notAddedDetails||[];return n.__spreadArray(n.__spreadArray([],T),aa)},[]);H._addDirect&&0<R.length?(N.hide(),setTimeout(function(){return H._showErrorSummary(R,Z)},350)):H._showSuccess()},function(J){N.hide();setTimeout(function(){return H._showError(J)},350)})}};G.prototype._isValidRole=function(H){if(this.group.isSharedOwnership){var I=H.privileges||[];H=H.id||"";var N=-1<I.indexOf("portal:user:createItem");
I=-1<I.indexOf("portal:user:joinGroup");return-1<["org_publisher","org_admin","org_user"].indexOf(H)||N&&I}return!0};G.prototype._initAddDirectCheckbox=function(){if(this.user.isOrgUser){var H=document.createElement("div");this._overlayActionBar.insertBefore(H,this._overlayActionBar.querySelector("nav"));this._addDirectCheckbox=new b["default"]({label:q["default"].GroupWidget.noConfirmation,labelClass:"font-size--1 left trailer-0 leader-quarter tablet-hide",modifiers:["white"],isChecked:!0},H)}};
G.prototype._initLoader=function(H){this._progress={total:this._invitees.length,increment:100/H,current:0};H=q["default"].GroupWidget.progress[this._addDirect?"add":"invite"];H=new v["default"]({title:H.title,description:k["default"].substitute(D["default"],H),showClose:!1,showActions:!1,cssClasses:"full-width text-constrain"});this._overlay.appendChild(H.domNode);return H};G.prototype._sendInvites=function(H,I){var N=this,M,J=this._addDirect?"addUsers":"invite",R=new g["default"];e["default"]({url:l["default"].restBaseUrl+
"/community/groups/"+this.group.id+"/"+J,content:{users:H,token:null===(M=this.user.credential)||void 0===M?void 0:M.token,f:"json"}},{usePost:!0}).then(function(Z){N._addDirect||Z.success||N._successfulInvites.concat(H.split(","));N._incrementProgress(Z,I);return R.resolve(Z)},function(Z){return R.reject(Z)});return R};G.prototype._incrementProgress=function(H,I){this._progress.current+=this._progress.increment;var N=""+Math.floor(this._progress.current);I.querySelector(".js-progress-bar").setAttribute("aria-valuenow",
N);I.querySelector(".js-progress-bar-fill").setAttribute("style","width: "+this._progress.current+"%");I.querySelector(".js-progress-bar-percentage").innerHTML=N+"%"};G.prototype._showSuccess=function(){var H=z["default"].getString(q["default"].GroupWidget[this._addDirect?"addedToGroup":"invitedToGroup"],this._invitees.length);new a["default"]({type:"success",text:H},h["default"].create("div",null,document.body));this.close();this._addDirect?u["default"].publish("memberlist/refresh",{addedMembers:this._invitees}):
u["default"].publish("memberlist/refresh")};G.prototype._showErrorSummary=function(H,I){var N=this,M=q["default"].GroupWidget.partialError[this._addDirect?"add":"invite"],J=[];I.forEach(function(X){if(X=X.error)X=X.messageCode,-1===J.indexOf(X)&&J.push(X)});if(this._addDirect&&1===J.length){var R=q["default"].GroupWidget.partialError,Z=R.privilege;R=R.maxGroups;switch(J[0]){case "COM_1207":M=Z;break;case "COM_1220":M=R}}M=new v["default"]({title:M.title,description:k["default"].substitute(E["default"],
{errorStrings:M}),showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});this._overlay.appendChild(M.domNode);var T=M.domNode.querySelector(".js-notadded");H.forEach(function(X,aa,fa){var oa=r["default"].find(N._selected,function(ua){return ua.username===X});oa&&(aa=n.__assign(n.__assign({border:aa===fa.length-1?"":"border-bottom-clear"},oa),{fullName:oa.fullName||""}),aa=h["default"].place(k["default"].substitute(y["default"],aa),T),new A["default"]({member:oa,cssClasses:"member-browser-row-thumbnail margin-right-half"},
aa.querySelector(".js-member-thumbnail")))});u["default"].publish("memberlist/refresh");M.show().then(function(){return N.close()})};G.prototype._showError=function(H){var I,N,M,J;this._successfulInvites&&0<this._successfulInvites.length&&this._memberBrowser.deselectMembers(this._successfulInvites);var R=q["default"].GroupWidget.partialInviteError,Z=(null===(N=null===(I=this.portal)||void 0===I?void 0:I.helpMap)||void 0===N?void 0:N.m)||(null===(J=null===(M=l["default"].self)||void 0===M?void 0:M.helpMap)||
void 0===J?void 0:J.m)||{};N=k["default"].substitute(R.text,{helpUrl:""+l["default"].self.helpBase+(Z["120001872"]||"reference/troubleshoot.htm#ESRI_QUESTIONANSWERS_893AC5EF1A3C48C0A7E3B2CC14CC5C25")});I=R.title;"ORG_3103"===H.messageCode?(H="",this._addDirect?(H=q["default"].GroupWidget.partialError,R=H.maxExternalOrgs,H=H.maxExternalOrgsNum,R=this.maxOrgsPerGroup?H:R,H=R.text,I=R.title):(H=q["default"].GroupWidget.partialInviteError,R=H.maxExternalOrgs,H=H.maxExternalOrgsNum,H=this.maxOrgsPerGroup?
H:R,I=q["default"].GroupWidget.partialInviteError.title),N=this.maxOrgsPerGroup?k["default"].substitute(H,{number:this.maxOrgsPerGroup}):H):"COM_1049"===H.messageCode&&(R=q["default"].GroupWidget.partialInviteError,I=R.title,N=R.privilegeError);var T=new v["default"]({title:I,description:'\x3cp class\x3d"trailer-half leader-quarter font-size--1"\x3e'+N+"\x3c/p\x3e",showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});this._overlay.appendChild(T.domNode);if(R=T.domNode.querySelector("a"))R.setAttribute("target",
"_blank"),R.setAttribute("rel","noopener noreferrer");T.show().then(function(){return T.hide()})};G.prototype.getMaxExternalOrgsNum=function(){var H=this;d["default"].request({url:l["default"].restBaseUrl+"portals/self/limits",content:{limitsType:"Groups",limitName:"MaxExternalMemberOrgsInGroup"}}).then(function(I){H.maxOrgsPerGroup=null===I||void 0===I?void 0:I.limitValue})};return G=n.__decorate([B["default"](C["default"],w["default"],F["default"],m["default"])],G)}()})},"arcgisonline/pages/dijit/Checkbox":function(){define("require exports tslib dojo/text!./Checkbox/templates/Checkbox.html dojo/i18n!../../nls/arcgisonline dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);return function(){function w(C,z){this.templateString=q["default"];this.i18n=p["default"];this.disabled=this.isMixed=this.isChecked=!1;this.labelClass=this.selectLabel=this.deselectLabel=this.label="";this.modifiers=[];this._modifierClasses=this._checked=""}w.prototype.postMixInProperties=function(){this.inherited(arguments);
this.uid=k["default"]();this._checked=this.isChecked?"checked":"";this.hideLabelClass=this.hideLabel?"visually-hidden":"";this._modifierClasses=this.modifiers.map(function(C){return"checkbox-custom--"+C}).join(" ")};w.prototype.postCreate=function(){this.inherited(arguments);this.isChecked&&(this._checkbox.checked=this.isChecked);this.disabled&&this.disable();this.isMixed&&(this._checkbox.indeterminate=!0);this.tooltip&&this.domNode.classList.add("tooltip");this._checkbox.addEventListener("change",
this.clickHandler.bind(this));this.domNode.addEventListener("click",function(C){return C.stopPropagation()});this._setAriaLabel()};w.prototype.getChecked=function(){return this._checkbox.checked};w.prototype.setChecked=function(C,z){this._checkbox.checked=C;this._setAriaLabel();z||this.emit("change",this._checkbox.checked)};w.prototype.enable=function(C){this._checkbox.removeAttribute("disabled");this.domNode.classList.remove("checkbox-custom--disabled");this.domNode.classList.remove("tooltip");this.domNode.removeAttribute("aria-label")};
w.prototype.disable=function(C){this._checkbox.setAttribute("disabled","true");this.domNode.classList.add("checkbox-custom--disabled");C&&(this.domNode.classList.add("tooltip"),this.domNode.setAttribute("aria-label",C))};w.prototype.hover=function(){this._checkbox.classList.add("checkbox-custom--hover")};w.prototype.blur=function(){this._checkbox.classList.remove("checkbox-custom--hover")};w.prototype.clickHandler=function(C){this._setAriaLabel();this.emit("change",this._checkbox.checked)};w.prototype._setAriaLabel=
function(){if(this.deselectLabel&&this.selectLabel){var C=this._checkbox.checked?this.deselectLabel:this.selectLabel;this.domNode.querySelector(".js-checkbox-label-text").innerHTML=C}};return w=n.__decorate([u["default"](g["default"],f["default"],h["default"])],w)}()})},"arcgisonline/pages/group/widgets/InviteMemberRow":function(){define("require exports tslib dojo/string dojo/i18n!../../../nls/arcgisonline ../../dijit/MemberBrowser/MemberBrowserRow dojo/text!./templates/members/invite-user-row.html ../../utils/icons ../../utils/dom ../../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);return function(){function w(C,z){this.i18n=p["default"];this.templateString=f["default"];this.icons=g["default"]}w.prototype.postMixInProperties=function(){this.inherited(arguments);this.rowSelectLabel=q["default"].substitute(p["default"].memberBrowser.inviteToGroup,{name:this.member.fullName})};w.prototype.postCreate=
function(){this.member.orgName&&(this.collabOrgNameEl.textContent=this.member.orgName,k["default"].showNode(this.collabOrgBadge));k["default"].showHide(this.collabOrgBadgeIcon,this.member.isCoordinator);this.member.isCoordinator&&(this.collabOrgBadge.classList.add("tooltip"),this.collabOrgBadge.setAttribute("aria-label",p["default"].GroupWidget.collabContact))};return w=n.__decorate([u["default"](h["default"])],w)}()})},"arcgisonline/pages/dijit/MemberBrowser/MemberBrowserRow":function(){define("require exports tslib dojo/Deferred dojo/Evented dojo/on dojo/topic dojo/text!./templates/MemberBrowserRow.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../MemberThumb ../Checkbox ../../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(){this.templateString=g["default"];this.i18n=k["default"];this.rowSelectLabel=k["default"].myOrganization.membersTab.selectMember;this.disabledText="";this._topicPrefix="MEMBER_BROWSER/"}
l.prototype.postMixInProperties=function(){this.inherited(arguments);this._activeClass=this.selected?"is-active":""};l.prototype.startup=function(){return this._initUI()};l.prototype.destroy=function(){this.inherited(arguments)};l.prototype._initUI=function(){var d=this;this._createMemberThumbnail();this._memberCheckbox=new z["default"]({selectLabel:k["default"].myOrganization.membersTab.selectMember,deselectLabel:k["default"].myOrganization.membersTab.deselectMember,labelClass:"trailer-0",hideLabel:!0,
modifiers:["white"],isChecked:this.selected},this.domNode.querySelector(".js-member-browser-row-checkbox"));this.own(h["default"](this._memberCheckbox,"change",function(e){d[e?"select":"deselect"]()}),h["default"](this.domNode,"click",function(){return d.toggleSelected()}),h["default"](this.domNode,"mouseover",function(e){return!d.disabled&&d._memberCheckbox.hover()}),h["default"](this.domNode,"mouseout",function(e){return d._memberCheckbox.blur()}),f["default"].subscribe(this._topicPrefix+"view/items/deselect",
function(e){(null===e||void 0===e?void 0:e.id)===d.member.id&&(d.deselect(),d._memberCheckbox.setChecked(d.selected,!0))}));this.disabled&&this.disable(this.disabledText);return(new q["default"]).resolve()};l.prototype._createMemberThumbnail=function(){this._memberThumb=new C["default"]({member:this.member,cssClasses:"member-browser-row-thumbnail margin-right-half flex-0"},this.domNode.querySelector(".js-member-browser-row-thumbnail"))};l.prototype.toggleSelected=function(d){this.selected?this.deselect(d):
this.select(d);this._memberCheckbox.setChecked(this.selected,!0)};l.prototype.isSelected=function(){return this.selected};l.prototype.disable=function(d){this.domNode.classList.add("member-browser-row--disabled");this._memberCheckbox.disable();this.disabled=!0;d&&(this.domNode.classList.add("tooltip"),this.domNode.setAttribute("aria-label",d))};l.prototype.enable=function(){this.domNode.classList.remove("member-browser-row--disabled");this._memberCheckbox.enable();this.disabled=!1;this.domNode.classList.remove("tooltip");
this.domNode.removeAttribute("aria-label")};l.prototype.select=function(d){this.disabled||(this.selected=!0,this.domNode.classList.add("is-active"),d||this.emit("select",this.member));return this.member};l.prototype.deselect=function(d){this.selected=!1;this.domNode.classList.remove("is-active");d||this.emit("deselect",this.member)};return l=n.__decorate([r["default"](w["default"],u["default"],p["default"])],l)}()})},"arcgisonline/pages/dijit/MemberBrowser":function(){define("require exports tslib calcite-web/js/calcite-web esri/lang dojo/promise/all dojo/Deferred dojo/Evented dojo/on dojo/topic dojo/text!./MemberBrowser/templates/MemberBrowser.html dojo/i18n!../../nls/arcgisonline dojo/debounce dijit/_TemplatedMixin dijit/_WidgetBase ../portal/PortalUser ../pageUtil ../utils/culture ../utils/arrays ../utils/dom ./Pagination ./ControlBar ./FilterStatus ./ToggleSwitch ./FilterSingleWithSearch ./FilterOrganizationGroups ./FilterCollabOrgs/FilterCollabOrgs ./FilterCategoryWrapper ./SelectedMembers arcgisonline/pages/utils/icons arcgisonline/pages/components/Collaborations/collab-service arcgisonline/pages/components/MemberCategories/api ../../esriGeowConfig ../../sharing/util ../../sharing/geow/Roles ../../sharing/geow/Licenses ../../sharing/dijit/_LevelAwareMixin ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=
n.__importDefault(t);v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);F=n.__importDefault(F);G=n.__importDefault(G);I=n.__importDefault(I);N=n.__importDefault(N);M=n.__importDefault(M);J=n.__importDefault(J);R=n.__importDefault(R);Z=n.__importDefault(Z);return function(){function T(X,aa){this.templateString=w["default"];this.i18n=C["default"];this.icons=F["default"];this.row=this.group=
null;this.hideFilters=this.actions=!1;this.appsFilter=null;this.outsideOrgFilterDisable=this.outsideOrgFilter=!1;this.outsideOrgFilterDisableText="";this.roleFilter=this.userTypeFilter=this.showCategoryFilter=!1;this.roleFilterExclude=function(){return!0};this.showExactMatchedUser=this.showSelected=this.myGroupsFilter=this.groupsFilter=!1;this.selected=[];this.selectionLimit=null;this.baseQuery="";this.excludeCurrentUser=!1;this.emptyText=C["default"].emptyStates.noMembersYet;this.showCollabOrgsFilter=
this.overlay=!1;this.limitText="";this._page={start:1,num:60,total:0,nextStart:-1};this._sortOptions=[{property:"fullname",label:this.i18n.GroupWidget.name,ascending:!0,active:!0},{property:"username",label:this.i18n.myOrganization.membersTab.username,ascending:!0,active:!1}];this._sort={property:"fullname",label:this.i18n.myOrganization.currentGrid.fullName,ascending:!0};this._selectionLimitText="";this._initialLoad=!1;this._onlyOrg=!0;this._searchTerm="";this._topicPrefix="MEMBER_BROWSER/";this._filterState=
{};this._filters={userLicenseType:{param:"userLicenseType",chipText:C["default"].myOrganization.filterChips.userType+" ",topic:this._topicPrefix,options:{}},role:{param:"role",chipText:C["default"].myOrganization.filterChips.role+" ",topic:this._topicPrefix,options:{}},group:{param:"group",chipText:C["default"].myOrganization.filterChips.group+" ",topic:this._topicPrefix,options:{}},orgGroup:{param:"orgGroup",chipText:C["default"].myOrganization.filterChips.group+" ",topic:this._topicPrefix,options:{}},
app:{param:"app",chipText:C["default"].myOrganization.filterChips.app+" ",topic:this._topicPrefix,options:{}}};this.collabOrgs=[];this.coordinators=[];this.coordinatorsOnly=!1;this.partnerCoordinators=[];this.numPerPage=60;this.isAdmin=!1}T.prototype.postMixInProperties=function(){this.inherited(arguments);this._onlyOrg=this.user.isOrgUser;this.selectionLimit&&(this._selectionLimitText=this.limitText||a["default"].getString(C["default"].GroupWidget.selectionLimit,this.selectionLimit));this._renderMembers=
z["default"](this._renderMembers.bind(this),10)};T.prototype.postCreate=function(){this.inherited(arguments);this._initUI()};T.prototype.destroy=function(){this.inherited(arguments)};T.prototype.deselectMembers=function(X){this.selected=this.selected.filter(function(aa){return-1===X.indexOf(aa.username)});this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect()};T.prototype._initUI=function(){var X=this,aa;this._loader=this.domNode.querySelector(".js-loader");
this._gridMemberCount=this.domNode.querySelector(".js-grid-member-count");this._grid=this.domNode.querySelector(".js-members-list");this._noResults=this.domNode.querySelector(".js-no-results");this._selectPageBtn=this.domNode.querySelector(".js-select-page");this._deselectPageBtn=this.domNode.querySelector(".js-deselect-page");this._deselectBtn=this.domNode.querySelector(".js-deselect");this._searchForResults=this.domNode.querySelector(".js-search-for-results");this._pagination=new m["default"](n.__assign(n.__assign({},
this._page),{topic:this._topicPrefix,pageSizeLabel:C["default"].contentPage.paginationPerPageMembers}),this.domNode.querySelector(".js-pagination"));this._filterStatus=new v["default"]({dontUpdateQueryParams:!0,topic:this._topicPrefix},this.domNode.querySelector(".js-filter-status"));u["default"].publish(this._topicPrefix+"sort/update",n.__assign({},this._sort));this._initFilters().then(function(ha){var U=X._filtersContainer.querySelector(".accordion-section");U&&U.classList.add("is-active");U=!X.user.isOrgUser&&
!ha||X.hideFilters;U={search:{placeholder:X.i18n.GroupWidget.searchUsers,searchTerm:""},sort:X._sortOptions,filterContainer:X.domNode.querySelector(".js-filters-panel"),viewContainer:X.domNode.querySelector(".js-grid"),actions:X.actions,collapsed:U,noFilters:U,topic:X._topicPrefix,absolute:!1,insideOverlay:!1};var ka=X.domNode.querySelector(".js-control-bar");X.overlay&&(document.querySelector(".js-overlay-content").classList.add("overlay-content--with-control-bar"),ka=document.querySelector(".js-overlay-control-bar"),
U.absolute=!0,U.insideOverlay=!0);X._controlBar=new t["default"](U,ka);X.showSelected&&(X._selectedMembers=new y["default"]({members:X.selected,showSections:!1,emitViewEvents:!0,floated:!1,topic:X._topicPrefix,buttonClasses:"assign-licenses__members-dropdown--no-margin",allowRemovingAll:!0},X.domNode.querySelector(".js-selected-members")),X._selectedMembers.update(X.selected),X._showHideSelect());X._renderMembers(!0);X._addListeners();X.domNode.querySelector(".js-wrapper-loader").classList.remove("is-active");
X.user.isOrgUser||(X._onlyOrgUpdate(!0),X._searchForResults.classList.remove("hide"));ha&&q["default"].accordion()});if(this.group&&this.portal.id&&!this.portal.isPortal){var fa=null===(aa=this.group)||void 0===aa?void 0:aa.membershipAccess;aa=this.domNode.querySelector(".js-membership-notice");var oa=this.domNode.querySelector(".js-membership-text"),ua=this.i18n.createGroupOverlay.memberOptions;oa.textContent="org"===fa?ua.org:"collaboration"===fa?ua.collab:ua.external;c["default"].showNode(aa);
this.domNode.querySelector(".js-filters-title").classList.add("member-browser__filters-title")}};T.prototype._initFilters=function(){var X=this,aa=new f["default"];this._filtersContainer=this.domNode.querySelector(".js-member-filters");var fa=this.user.userRole,oa=fa.isAdmin(),ua=(this.isAdmin=oa)||fa.canViewOrgUsers(),ha=oa||fa.canViewUsers(),U=oa||fa.canManageLicenses();fa=new M["default"];oa=new J["default"];h["default"]({roles:this.roleFilter?fa.getAllRoles(!0):(new f["default"]).resolve(!0),
myGroups:this.myGroupsFilter?this._getUserGroups():(new f["default"]).resolve(!0),licenseTypes:this.userTypeFilter&&U?oa.getLicenseTypes():(new f["default"]).resolve(!0),collaborations:this.showCollabOrgsFilter&&this.portal.canHavePartnerCollab()?G["default"].getCollaborations():null,coordinators:this.user.userRole.canGetCoordinators()&&this.portal.canHavePartnerCollab()?G["default"].getAllCoordinators():null,categories:this.showCategoryFilter&&ua?N["default"].request({url:I["default"].restBaseUrl+
"portals/self/memberCategorySchema"}):null}).then(function(ka){var W,Q,L,ca;X.showCategoryFilter&&0<(null===(Q=null===(W=ka.categories)||void 0===W?void 0:W.memberCategorySchema)||void 0===Q?void 0:Q.length)&&X.initCategoriesFilter(ka.categories.memberCategorySchema);X.appsFilter&&U&&X._initAppFilter();X.userTypeFilter&&ha&&U&&(X._userLicenseTypes=ka.licenseTypes.userLicenseTypes,X._initUserLicenseTypeFilter(X._userLicenseTypes));X.roleFilter&&ha&&X._initRoleFilter(ka.roles);X.groupsFilter&&ha&&X._initGroupFilter();
X.showCollabOrgsFilter&&(null===(ca=null===(L=ka.collaborations)||void 0===L?void 0:L.trustedOrgs)||void 0===ca?0:ca.length)&&(X.collabOrgs=ka.collaborations.trustedOrgs.filter(function(Y){return-1<Y.from.established&&-1<Y.to.established}),X.emit("member-browser/trusted-orgs",{trustedOrgs:X.collabOrgs}),X.coordinators=ka.coordinators||[],X.partnerCoordinators=X.coordinators.filter(function(Y){return Y.orgId!==X.portal.id}),X.collabOrgs.filter(function(Y){return"active"===Y.to.state}).length&&(X.coordinatorsOnly=
!0,X.initCollabOrgsFilter()));X.myGroupsFilter&&0<ka.myGroups.length&&X._initMyGroupFilter(ka.myGroups);X.outsideOrgFilter&&X._initOrgFilter();aa.resolve(!0)},function(){aa.resolve(!1)});return aa};T.prototype._addListeners=function(){q["default"].dropdown();this.own(u["default"].subscribe(this._topicPrefix+"search/update",this._searchUpdate.bind(this)),u["default"].subscribe(this._topicPrefix+"filter/update",this._filterUpdate.bind(this)),u["default"].subscribe(this._topicPrefix+"filter/clear",this._filterClear.bind(this)),
u["default"].subscribe(this._topicPrefix+"filter/remove",this._filterRemove.bind(this)),u["default"].subscribe(this._topicPrefix+"sort/update",this._sortUpdate.bind(this)),u["default"].subscribe(this._topicPrefix+"pagination/page",this._paginationPage.bind(this)),k["default"](this._selectPageBtn,"click",this._selectPage.bind(this)),k["default"](this._deselectPageBtn,"click",this._deselectPage.bind(this)),k["default"](this._deselectBtn,"click",this._clearSelection.bind(this)));this._outsideOrgToggle&&
this.own(this._outsideOrgToggle.on("change",this._onlyOrgUpdate.bind(this)));this.showSelected&&this.own(u["default"].subscribe(this._topicPrefix+"view/items/deselect",this._selectedMembersRemove.bind(this)))};T.prototype._onlyOrgUpdate=function(X){this._onlyOrg=!X;u["default"].publish(this._topicPrefix+"filter/clear",!0);var aa=this._onlyOrg&&this.user.isOrgUser;c["default"].showHide(this._selectPageBtn,this._onlyOrg&&this.user.isOrgUser);[this._roleFilter,this._organizationGroupsFilter,this._userTypeFilter,
this._appFilter,this.categoryFilter].filter(function(fa){return fa}).forEach(function(fa){return c["default"].showHide(fa.domNode,aa)});this.emit("outsideOrgChange",this._onlyOrg);this.collabOrgsFilter&&c["default"].showHide(this.collabOrgsFilter.domNode,!this._onlyOrg);this._renderMembers()};T.prototype._paginationPage=function(X){this._page=n.__assign({},X);this.numPerPage=this._pagination.num;this._renderMembers()};T.prototype._sortUpdate=function(X){var aa=X.property,fa=X.ascending;X=X.label;
this._page.start=1;this._sort={property:aa,ascending:fa,label:X};this._renderMembers()};T.prototype._filterRemove=function(X){delete this._filterState[X.param];this._renderMembers()};T.prototype._filterClear=function(){this._page.start=1;this._filterState={};this._renderMembers()};T.prototype._filterUpdate=function(X){this._page.start=1;this._filterState[X.param]=X.selected;this._renderMembers()};T.prototype._searchUpdate=function(X){this._searchTerm=X;this._page.start=1;this._renderMembers()};T.prototype._getMembers=
function(){var X=this;return N["default"].request({url:this._getUrl(),content:this._getParams()}).then(function(aa){X._page={total:aa.total,start:aa.start,num:aa.num,nextStart:aa.nextStart};X._pagination.render(X._page);X._updateGridMemberCount(aa.total);return aa.results},function(aa){return 0})};T.prototype._getExactUser=function(X){var aa=this,fa,oa,ua,ha,U=new f["default"],ka=X.some(function(Q){return Q.username.toLowerCase()===aa._searchTerm.trim().toLowerCase()}),W=null===(ua=null===(oa=null===
(fa=this.group)||void 0===fa?void 0:fa.members)||void 0===oa?void 0:oa.users)||void 0===ua?void 0:ua.some(function(Q){return Q.username.toLowerCase()===aa._searchTerm.trim().toLowerCase()});fa="collaboration"===(null===(ha=this.group)||void 0===ha?void 0:ha.membershipAccess);!(0<this._searchTerm.trim().length)||ka||W||1!==this._page.start||!this.showExactMatchedUser||fa||this._onlyOrg&&!this.portal.isPortal?U.resolve({members:X}):N["default"].request({url:I["default"].restBaseUrl+"/community/users/"+
this._searchTerm}).then(function(Q){!Q.username||Q.firstName||Q.fullName||Q.lastName||(Q.fullName=Q.username,Q.firstName=Q.username);U.resolve({members:X,user:Q})},function(Q){U.resolve({members:X})});return U};T.prototype._updateGridMemberCount=function(X){var aa=this._pagination.getCurrentPageObj();this._gridMemberCount.textContent=e["default"].getPageRangeString({start:0===X?0:aa.start,end:aa.end,total:aa.total})};T.prototype._getUrl=function(){return this._onlyOrg&&this.user.isOrgUser?I["default"].restBaseUrl+
"/portals/self/users/search":I["default"].restBaseUrl+"/community/users"};T.prototype._getParams=function(){var X=this,aa,fa,oa,ua,ha,U,ka=this._searchTerm;ka=ka?"("+ka+")":"";var W=Object.keys(this._filters).filter(function(Y){return X._filterState[Y]&&"categories"!==Y}).reduce(function(Y,da){return Y+" "+X._filterState[da][0].q},""),Q=this.user.isOrgUser?"+(orgid: [0 TO \\{])":"-(orgid: [0 TO \\{])";Q=this._onlyOrg?"":Q;var L=this._filterState.collabOrg?"orgid:"+this._filterState.collabOrg[0].value:
"",ca="";(null===(aa=this.group)||void 0===aa||!aa.isSharedOwnership)&&"collaboration"!==(null===(fa=this.group)||void 0===fa?void 0:fa.membershipAccess)||this._onlyOrg||L||(aa=this.collabOrgs.filter(function(Y){return"active"===Y.to.state}).map(function(Y){return Y.to.orgId}),ca="(orgid:"+this.portal.id+" "+(aa.length?" OR orgid:"+aa.join(" OR orgid:"):"")+")");aa=(I["default"].systemUsers||[]).reduce(function(Y,da){return Y+" -username: "+da},"");fa=this.excludeCurrentUser?'-username:"'+this.user.username+
'"':"";ka=n.__assign({sortField:this._sort.property,sortOrder:this._sort.ascending?"asc":"desc",q:(this._onlyOrg&&(null===(oa=this.portal)||void 0===oa?0:oa.id)?"(orgid:"+this.portal.id+")":"")+" "+this.baseQuery+" "+ka+" "+W+" "+(ca||L||Q)+" "+aa+" "+fa},this._page);this.coordinatorsOnly&&0<this.coordinators.length&&!this._onlyOrg&&(ka.filter="(username:"+this.coordinators.map(function(Y){return Y.username}).join(" OR username:")+")");if(null===(ua=this._filterState.categories)||void 0===ua?0:ua[0])oa=
this._filterState.categories[0].value,ka.categories="_none_"===oa?"null":JSON.stringify([oa]);this.showCollabOrgsFilter&&this.collabOrgs.length&&(null===(ha=this.user.userRole)||void 0===ha?0:ha.canManageCollaborationGroupMembers())&&(null===(U=this.user.userRole)||void 0===U?0:U.canViewOrgUsers())&&(ka.searchUserAccess="includeTrustedOrgs");return ka};T.prototype._renderMembers=function(X){var aa=this,fa;if(this._filterState.collabOrg){var oa=this._filterState.collabOrg[0].value;var ua=this.collabOrgs.filter(function(U){return U.to.orgId===
oa})[0];var ha="suspended"===(null===ua||void 0===ua?void 0:ua.to.state)}ha&&"collaboration"===(null===(fa=this.group)||void 0===fa?void 0:fa.membershipAccess)?(c["default"].hideNodes([this.domNode.querySelector(".js-grid"),this._searchForResults]),this.domNode.querySelector(".js-suspended-text").textContent=this.i18n.GroupWidget.suspendedCollabResults.replace("${orgName}",null===ua||void 0===ua?void 0:ua.to.name),c["default"].showNode(this.domNode.querySelector(".js-suspended-collab")),c["default"].hideNode(this._pagination.domNode)):
(c["default"].showNode(this.domNode.querySelector(".js-grid")),c["default"].hideNode(this.domNode.querySelector(".js-suspended-collab")),this._noResults.classList.add("hide"),this._grid.classList.add("hide"),this._pagination.hide(),(this._rows||[]).forEach(function(U){return U.destroy()}),fa=!this._onlyOrg&&!this._searchTerm&&0===Object.keys(this._filterState).length&&!this.coordinatorsOnly,c["default"].showHide(this._searchForResults,fa),fa?(this._fadeIn(),860<=window.innerWidth&&this._controlBar.focus(),
c["default"].hideNode(this._grid),c["default"].hideNode(this._gridMemberCount)):(X||this._loader.classList.add("is-active"),this._page.num=this.numPerPage,this._getMembers().then(this._getExactUser.bind(this)).then(function(U){var ka;aa.user.userRole.canGetCoordinators()&&aa.portal.canHavePartnerCollab()&&(null===(ka=aa.collabOrgsFilter)||void 0===ka?void 0:ka.showCoordinatorsToggle());ka=U.members;U=U.user;var W=N["default"].getToken(),Q=0<Object.keys(aa._filterState).length,L=aa.domNode.querySelector(".js-count-and-status");
aa._rows=[];aa._grid.innerHTML="";aa._loader.classList.remove("is-active");if(U&&!Q&&!aa.coordinatorsOnly){ka.push(U);aa._pagination.hide();var ca=aa._pagination.getCurrentPageObj();aa._gridMemberCount.textContent=e["default"].getPageRangeString({start:ca.start,end:ka.length,total:ca.total+1})}if(0===ka.length){aa._noResults.innerHTML=aa.emptyText;if(Q||aa._searchTerm)aa._noResults.innerHTML=C["default"].GroupWidget.noMembers;c["default"].hideNode(aa._selectPageBtn);aa._noResults.classList.remove("hide");
aa._fadeIn()}else{c["default"].showNode(aa._selectPageBtn);aa._rows=ka.map(function(Y){if(aa._onlyOrg)var da=new d["default"](n.__assign(n.__assign({},Y),{portal:aa.portal}));else da=n.__assign(n.__assign({},Y),{thumbnailUrl:""}),Y.thumbnail&&(da.thumbnailUrl=I["default"].restBaseUrl+"/community/users/"+Y.username+"/info/"+Y.thumbnail+"?token\x3d"+W);var S=!!b["default"].find(aa.selected,function(ba){return ba.username===Y.username}),P=!S&&p["default"].isDefined(aa.selectionLimit)&&aa.selected.length>=
aa.selectionLimit,V=aa.coordinators.filter(function(ba){return ba.username===da.username})[0];da.isCoordinator=!!V;V&&(da.orgName=V.orgName||"");S=new aa.row({member:da,container:aa,portal:aa.portal,selected:S,disabled:P,disabledText:aa._selectionLimitText});S.on("select",aa._selectMember.bind(aa));S.on("deselect",aa._deselectMember.bind(aa));return S});h["default"](aa._rows.map(function(Y){return Y.startup()})).then(function(){return c["default"].appendChildren(aa._rows.map(function(Y){return Y.domNode}),
aa._grid)});aa._fadeIn();c["default"].showNode(aa._grid);if(Q||0<ka.length)c["default"].showNode(aa._gridMemberCount),aa._pagination.render(aa._page);Q||U||!(0<ka.length)||aa.selected&&0!==aa.selected.length||c["default"].showNode(L)}aa._showHideSelect()},function(U){return 0})))};T.prototype._fadeIn=function(){if(!this._initialLoad){var X=this.domNode.querySelector(".js-member-browser-wrapper");X.classList.remove("hide");X.classList.add("animate-fade-in");this._initialLoad=!0}};T.prototype._showHideSelect=
function(){var X=this,aa,fa,oa=0<this.selected.length,ua=this.selectionLimit&&this.selected.length>=this.selectionLimit;c["default"].showHide(this.domNode.querySelector(".js-show-on-select"),oa);c["default"].showHide(this.domNode.querySelector(".js-count-and-status"),!oa);var ha=!(null===(aa=this._rows)||void 0===aa||!aa.length);aa=oa&&ha&&this._rows.every(function(U){return U.selected});ha=!aa&&!ua&&ha;c["default"].showHide(this._deselectPageBtn,aa);c["default"].showHide(this._selectPageBtn,ha);
this.selectionLimit&&((this._rows||[]).forEach(function(U){U[ua&&!U.isSelected()?"disable":"enable"](X._selectionLimitText)}),aa=this._selectPageBtn.parentNode,oa=(null===(fa=this._rows)||void 0===fa?void 0:fa.length)||0,this.selected.length+oa>this.selectionLimit&&ha?(aa.classList.add("tooltip"),aa.classList.add("tooltip-bottom-right"),aa.setAttribute("aria-label",this._selectionLimitText),this._selectPageBtn.disabled=!0):(aa.classList.remove("tooltip"),aa.classList.remove("tooltip-bottom-right"),
aa.removeAttribute("aria-label"),this._selectPageBtn.removeAttribute("disabled")))};T.prototype._selectMember=function(X){this.selected.push(X);this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect()};T.prototype._deselectMember=function(X){this.selected=this.selected.filter(function(aa){return aa.username!==X.username});this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect()};T.prototype._selectedMembersRemove=
function(X){this._deselectMember(X)};T.prototype._selectPage=function(){this._rows.forEach(function(X){return!X.selected&&X.toggleSelected()});this._showHideSelect()};T.prototype._deselectPage=function(){this._rows.forEach(function(X){return X.selected&&X.toggleSelected()});this._showHideSelect()};T.prototype._clearSelection=function(){this._rows.forEach(function(X){return X.selected&&X.toggleSelected(!0)});this.selected=[];this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);
this._showHideSelect()};T.prototype._getUserGroups=function(){var X=this;return N["default"].request({url:this.portal.url+"community/users/"+this.user.username}).then(function(aa){return(aa.groups||[]).filter(function(fa){return!X.group||X.group.id!==fa.id}).sort(function(fa,oa){var ua="owner"===fa.userMembership.memberType?1:-1,ha="owner"===oa.userMembership.memberType?1:-1,U=fa.title.toLowerCase(),ka=oa.title.toLowerCase();return ua!==ha?ha-ua:U>ka?1:U<ka?-1:0})},function(){return[]})};T.prototype._initOrgFilter=
function(){var X;N["default"].isPortal()||(this._outsideOrgToggle=new A["default"]({label:"collaboration"===(null===(X=this.group)||void 0===X?void 0:X.membershipAccess)?C["default"].searchResults.includePartner:C["default"].searchResults.searchAGOL,labelPosition:"left",labelClasses:"trailer-half font-size--1",isChecked:!this._onlyOrg,disabled:this.outsideOrgFilterDisable,tooltip:this.outsideOrgFilterDisableText,tooltipClass:this.outsideOrgFilterDisableText?"tooltip tooltip-multiline":""},this.domNode.querySelector(".js-outside-org-toggle")))};
T.prototype._initAppFilter=function(){var X=this,aa=document.createElement("section");this._filtersContainer.appendChild(aa);this.appsFilter.forEach(function(fa){X._filters.app.options[fa.id]={value:fa.id,q:"app:"+fa.id,label:fa.name}});this._appFilter=new B["default"]({title:this.i18n.myOrganization.manageLicenseMembers.app,searchText:this.i18n.myOrganization.manageLicenseMembers.app,filterParameter:this._filters.app,active:!1},aa)};T.prototype._initGroupFilter=function(){var X=document.createElement("section");
this._filtersContainer.appendChild(X);this._organizationGroupsFilter=new x["default"]({portal:this.portal,filterParameter:this._filters.orgGroup,active:!1},X)};T.prototype._initMyGroupFilter=function(X){var aa=this,fa=document.createElement("section");this._filtersContainer.appendChild(fa);X.forEach(function(oa){aa._filters.group.options[oa.id]={value:oa.id,q:"group:"+oa.id,label:oa.title}});this._groupFilter=new B["default"]({title:this.i18n.GroupWidget.myGroups,searchText:this.i18n.GroupWidget.searchMyGroups,
filterParameter:this._filters.group,filterCssClasses:"filter--wrap",topic:this._topicPrefix,active:!1},fa)};T.prototype.initCollabOrgsFilter=function(){var X=this;if(this.collabOrgs.length){var aa={};this.collabOrgs.sort(function(fa,oa){var ua=fa.to.name,ha=oa.to.name;return ua>ha?1:ua<ha?-1:0}).forEach(function(fa,oa){var ua=fa.to,ha=ua.orgId,U=ua.name;aa[fa.to.orgId]={value:ha,q:"collabOrg:"+ha,label:"suspended"===ua.state?U+" ("+X.i18n.searchFilters.suspended+")":U}});this.collabOrgsFilter=new D["default"]({filterParameter:{param:"collabOrg",
chipText:this.i18n.searchFilters.collabChipText,topicPrefix:this._topicPrefix,options:aa}});this.own(this.collabOrgsFilter.on("coordinators-only",function(fa){X.coordinatorsOnly=fa.checked;X._renderMembers()}));this._filtersContainer.insertBefore(this.collabOrgsFilter.domNode,this._filtersContainer.lastChild);this.collabOrgsFilter.hide()}};T.prototype.initCategoriesFilter=function(X){return n.__awaiter(this,void 0,void 0,function(){var aa,fa=this;return n.__generator(this,function(oa){aa=document.createElement("section");
this._filtersContainer.appendChild(aa);this.categoryFilter=new E["default"]({props:{portal:this.portal,user:this.portal.portalUser,filterContainer:this._filtersContainer,disableEdit:!this.isAdmin,categories:X,isMemberCategories:!0,topicPrefix:this._topicPrefix}},aa);this.own(u["default"].subscribe("member-categories-and-count/update",function(ua){fa.categoryFilter.updateCategories(ua.categories);fa.updateCategoriesCount()}));return[2]})})};T.prototype.updateCategoriesCount=function(){return n.__awaiter(this,
void 0,void 0,function(){var X;return n.__generator(this,function(aa){switch(aa.label){case 0:return[4,H.getMemberCategoriesCount(this.portal)];case 1:return X=aa.sent(),this.categoryFilter.updateCategorizedMembers(X),[2]}})})};T.prototype._initUserLicenseTypeFilter=function(X){var aa=this,fa=document.createElement("section");this._filtersContainer.appendChild(fa);X.forEach(function(oa){aa._filters.userLicenseType.options[oa.id]={value:oa.id,q:"userlicensetype:"+oa.id,label:oa.name}});this._userTypeFilter=
new B["default"]({title:this.i18n.myOrganization.membersTab.licenseType,searchText:this.i18n.myOrganization.membersTab.filterUserTypes,filterParameter:this._filters.userLicenseType,active:!1},fa)};T.prototype._initRoleFilter=function(X){var aa=this;this._roles=X.map(function(fa){fa.id===aa.SYSTEM_ROLES.VIEWER&&(fa.name=aa.i18n.myOrganization.formatters.roleViewer);fa.id===aa.SYSTEM_ROLES.DATA_EDITOR&&(fa.name=aa.i18n.myOrganization.formatters.roleViewerEdit);fa.id===aa.SYSTEM_ROLES.FACILITATOR&&(fa.name=
aa.i18n.myOrganization.formatters.roleFacilitator);return fa}).concat([{id:"org_publisher",name:C["default"].myOrganization.formatters.rolePublisher},{id:"org_admin",name:C["default"].myOrganization.formatters.roleAdmin},{id:"org_user",name:C["default"].myOrganization.formatters.roleUser}]).filter(this.roleFilterExclude).sort(function(fa,oa){var ua=fa.name.toLowerCase(),ha=oa.name.toLowerCase();return ua>ha?1:ua<ha?-1:0});this._roles.forEach(function(fa){aa._filters.role.options[fa.id]={value:fa.id,
q:"role:"+fa.id,label:fa.name}});X=document.createElement("section");this._filtersContainer.appendChild(X);this._roleFilter=new B["default"]({title:this.i18n.myOrganization.membersTab.role,searchText:this.i18n.myOrganization.membersTab.filterRoles,filterParameter:this._filters.role,active:!1},X)};return T=n.__decorate([Z["default"](l["default"],r["default"],R["default"],g["default"])],T)}()})},"arcgisonline/pages/dijit/Pagination":function(){define("require exports tslib dojo/on dojo/topic dojo/query dojo/string dojo/dom-attr dojo/dom-class dojo/_base/event dijit/_TemplatedMixin dijit/_WidgetBase calcite-web/js/calcite-web ../pageUtil ../utils/dom ../utils/icons dojo/text!./Pagination/templates/Number.html dojo/text!./Pagination/templates/Ellipsis.html dojo/text!./Pagination/templates/Pagination.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function t(v,A){this.templateString=
b["default"];this.pageSizeLabel=c["default"].contentPage.paginationPerPage;this.i18n=c["default"];this.icons=d["default"];this.smallestPageSize=this.num=20;this.topic=""}t.prototype.postCreate=function(){this.inherited(arguments);this._addEventListeners();this.hideDropdown&&l["default"].hideNode(this._pageDropdown)};t.prototype.render=function(v){this.total=v.total;this.start=v.start;this.nextStart=v.nextStart;this.end=-1===this.nextStart?this.total:this.nextStart-1;this.currentPage=(this.start-1)/
this.num+1;this.pages=Math.ceil(this.total/this.num);this._updateUI()};t.prototype._addEventListeners=function(){var v=this;this.own(q["default"](this.next,"click",function(A){u["default"].stop(A);v.nextPage()}),q["default"](this.pageLinks,"click",function(A){var B;u["default"].stop(A);A=g["default"].get(A.target,"data-page");null===(B=v.telemetry)||void 0===B?void 0:B.logEvent({pageUrl:window.location.href,category:"Change page",action:A});v.selectPage(A)}),q["default"](this.previous,"click",function(A){u["default"].stop(A);
v.previousPage()}),h["default"](".js-page-num-link",this.domNode).on("click",function(A){A=A.target.getAttribute("data-num");v.updateNum(A)}))};t.prototype._updateUI=function(){var v=this.currentPage,A=Math.min(this.pages,Math.floor(1E4/this.num)),B=h["default"](".js-btn-previous",this.domNode),x=h["default"](".js-btn-next",this.domNode);h["default"](".js-btn",this.domNode).addClass("btn-transparent");1===v?B.addClass("btn-disabled").attr("tabindex",-1):B.removeClass("btn-disabled").removeAttr("tabindex");
-1===this.nextStart||1E4<this.nextStart+this.num?x.addClass("btn-disabled").attr("tabindex",-1):x.removeClass("btn-disabled").removeAttr("tabindex");this._pageNumLabel.innerHTML=f["default"].substitute(this.pageSizeLabel,{num:this.num});h["default"](".js-page-num-link",this.domNode).removeClass("is-active");h["default"](".js-page-num-link[data-num\x3d'"+this.num+"']",this.domNode).addClass("is-active");if(1<A){x=Math.max(4,v);var D=12<A&&A<x+3;B=[];if(6>A)for(x=1;x<=A;x++)B.push(x);else{if(4<v)B.push(1,
"..."),D||B.push(v-1,v);else for(var E=1;E<=v;E++)B.push(E);if(4>v&&4<A)for(E=v+1;4>=E;E++)B.push(E);if(D)for(x=A-3;x<=A;x++)B.push(x);else if(2<A-x)B.push(x+1,"...",A);else for(x+=1;x<=A;x++)B.push(x)}this.pageLinks.innerHTML='\x3cul class\x3d"clear-list-style flex-center"\x3e'+B.reduce(function(y,F){var G=F===v;return y+f["default"].substitute("..."===F?a["default"]:e["default"],{pageNum:F,"is-active":G?"no-pointer pagination-btn--active":"btn-transparent pagination-btn--inactive",label:f["default"].substitute(G?
c["default"].contentPage.paginationActive:c["default"].contentPage.paginationLink,{pageNum:F}),current:G?"aria-current\x3d'true' tabindex\x3d'-1'":""})},"")+"\x3c/ul\x3e";k["default"].remove(this.domNode,"hide");k["default"].remove(this.navigation,"hide")}else this.total>this.smallestPageSize?(k["default"].add(this.navigation,"hide"),k["default"].remove(this.domNode,"hide")):k["default"].add(this.domNode,"hide");h["default"](".js-over-limit",this.domNode).removeClass("is-active");1E4<=this.total&&
1E4<=this.start+this.num&&h["default"](".js-over-limit",this.domNode).addClass("is-active")};t.prototype.setInitialProperties=function(v){this.start=v.start||this.start;this.num=v.num||this.num;this._updateUI()};t.prototype.selectPage=function(v){this.currentPage=parseInt(v||1,10);this.start=(this.currentPage-1)*this.num+1;this.nextStart=this.start+this.num>this.total?-1:this.start+this.num;this.end=-1===this.nextStart?this.total:this.nextStart-1;this._updateUI();this.topic||r["default"].updateQueryParams({start:this.start,
num:this.num});p["default"].publish(this.topic+"pagination/page",this.getCurrentPageObj())};t.prototype.nextPage=function(){var v;this.currentPage=Math.min(this.currentPage+1,this.pages);null===(v=this.telemetry)||void 0===v?void 0:v.logEvent({pageUrl:window.location.href,category:"Change page",action:"Next"});this.selectPage(this.currentPage)};t.prototype.previousPage=function(){var v;this.currentPage=Math.max(this.currentPage-1,1);null===(v=this.telemetry)||void 0===v?void 0:v.logEvent({pageUrl:window.location.href,
category:"Change page",action:"Prev"});this.selectPage(this.currentPage)};t.prototype.updateNum=function(v){var A,B=parseInt(v,10);B!==this.num&&(this.num=B,this.pages=Math.ceil(this.total/this.num),null===(A=this.telemetry)||void 0===A?void 0:A.logEvent({pageUrl:window.location.href,category:"Row count per page",action:v}),this.selectPage(1),z["default"].bus.emit("dropdown:close"))};t.prototype.getCurrentPageObj=function(){return{num:this.num,total:this.total,start:this.start,end:this.end,nextStart:this.nextStart,
currentPage:this.currentPage,pages:this.pages}};t.prototype.hide=function(){this.domNode.classList.add("hide")};t.prototype.show=function(){this.domNode.classList.remove("hide")};return t=n.__decorate([m["default"](C["default"],w["default"])],t)}()})},"arcgisonline/pages/dijit/ControlBar":function(){define("require exports tslib calcite-web/js/calcite-web dojo/debounce dojo/dom-construct dojo/string dojo/topic dojo/on dojo/query dijit/_TemplatedMixin dijit/_WidgetBase ./SearchInput ../components/ViewToggle ../components/SortDropdown ../components/Refresh ../organization/widgets/SearchDropdown ../pageUtil ../utils/icons ../utils/productGlyphs dojo/text!./ControlBar/templates/ControlBar.html dojo/text!./ControlBar/templates/Filters.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator preact preact/compat".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=
n.__importDefault(v);A=n.__importDefault(A);return function(){function D(E,y){this.templateString=m["default"];this.i18n=v["default"];this.icons=b["default"];this.productGlyphs=c["default"];this.showOnResize=!0;this.mobileBreakPoint=860;this.screenWidth=1080;this.telemetryOptions=this.telemetry=void 0;this.collapsed=!1;this.hideMobileActions=!0;this.refresh=!1;this.refreshLabel="";this.dontUpdateQueryParams=!1}D.prototype.postMixInProperties=function(){this.inherited(arguments);this.showFilters=this.showFilters.bind(this);
this.hideFilters=this.hideFilters.bind(this);this.searchActionClass=this.actions?"control-bar__search--has-actions":"";this.filterActiveClass=this.collapsed?"":"is-active";this.hideFilterClass=this.noFilters?"hide":"";this.hideActionClass=this.hideMobileActions?"control-bar--hide-mobile-actions":"";this.positionAbsoluteClass=this.absolute?"control-bar--absolute":"";this.search.cssTheme="control-bar__search-input flex-1";this.queryParams=a["default"].getQueryParams();this.hideRightClass=this.filterContainer||
this.views||this.sort?"":"control-bar--hide-right";this.marginClass=this.noMargin?"control-bar--no-margin":""};D.prototype.postCreate=function(){var E=this,y,F,G,H,I;this.inherited(arguments);if(this.filterContainer){var N=h["default"].toDom(f["default"].substitute(t["default"],{i18n:v["default"],icons:b["default"]})),M=this.filterContainer.parentNode;M.insertBefore(N,this.filterContainer);M.querySelector(".js-filters-insert").appendChild(this.filterContainer);this.filtersWrap=M.querySelector(".js-filters-mobile-wrap");
this.filtersWrapParent=M;("false"===this.queryParams.showFilters||this.noFilters||this.collapsed)&&this.filtersWrap.classList.add("is-collapsed")}this.search&&(this.searchDropdown&&(this.search.searchBy=null!==(y=this.queryParams.searchBy)&&void 0!==y?y:"fullname"),this.search.topic=this.topic,this.telemetry&&(null===(F=this.telemetryOptions)||void 0===F?0:F.search)&&(this.search.telemetry=this.telemetry),this._searchInput=new z["default"](this.search,this.domNode.querySelector(".js-control-bar-search")));
this.views&&(this.views.topic=this.topic,this.telemetry&&(null===(G=this.telemetryOptions)||void 0===G?0:G.viewToggle)&&(this.views.telemetry=this.telemetry),this._viewToggle=B.render(B.h(r["default"],n.__assign({},this.views)),this.domNode.querySelector(".js-control-bar-view-dropdown")));this.refresh&&(y=this.domNode.querySelector(".js-control-bar-refresh"),y.classList.remove("hide"),B.render(B.h(d["default"],{topic:this.topic,label:this.refreshLabel}),y));this.sort&&(y={options:this.sort,topic:this.topic,
telemetry:this.telemetry&&(null===(H=this.telemetryOptions)||void 0===H?0:H.sortOrderToggle)?this.telemetry:null},this._sortDropdown=B.render(B.h(l["default"],n.__assign({},y)),this.domNode.querySelector(".js-control-bar-sort-dropdown")));this.searchDropdown&&(this._searchDropdown=new e["default"]({},this.domNode.querySelector(".js-control-bar-search-dropdown")));this.actions?this.domNode.querySelector(".js-control-bar-actions").innerHTML=f["default"].substitute(this.actions,{i18n:v["default"],icons:b["default"],
productGlyphs:c["default"]}):h["default"].destroy(this.domNode.querySelector(".js-control-bar-actions"));this.noFilters&&(null===(I=this.filterContainer)||void 0===I?void 0:I.parentNode.removeChild(this.filterContainer));if(this.sticky)var J=setInterval(function(){var R;0<(null===(R=E.domNode)||void 0===R?void 0:R.clientHeight)&&(clearInterval(J),E.initStickyInterface())},100);this.filtersWrap&&("false"===this.queryParams.showFilters?(this.hideFilters(),this.showOnResize=!1):this.resizeHandler(),
window.innerWidth<this.mobileBreakPoint&&this.insideOverlay&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap));this.domNode.querySelector(".js-toggle-filters").setAttribute("aria-expanded",this.collapsed?"false":"true");this.own(u["default"](".js-toggle-filters",this.domNode).on("click",function(){return E.toggleFilters()}),k["default"](window,"resize",p["default"](function(){return E.resizeHandler()},30)),u["default"](".js-collapse-filters-button",this.filtersWrap).on("click",
function(){return E.hideFilters()}),g["default"].subscribe(this.topic+"search/error",this.showSearchError.bind(this)),g["default"].subscribe(this.topic+"search/update",this.hideSearchError.bind(this)))};D.prototype.destroy=function(){this.domNode&&(this.sort&&x.unmountComponentAtNode(this.domNode.querySelector(".js-control-bar-sort-dropdown")),this.views&&x.unmountComponentAtNode(this.domNode.querySelector(".js-control-bar-view-dropdown")));this.inherited(arguments)};D.prototype.setSearchValue=function(E){g["default"].publish("search/setValue",
E,!0);this._searchInput.setValue(E,!0)};D.prototype.getSearchValue=function(){return this._searchInput.getValue()};D.prototype.toggleFilters=function(){var E,y;if(null===(E=this.telemetryOptions)||void 0===E?0:E.filterToggle)null===(y=this.telemetry)||void 0===y?void 0:y.logEvent({category:"Control Bar Filter Toggle",action:this.collapsed?"show":"hide",pageUrl:window.location.href});this.collapsed?this.showFilters():this.hideFilters();this.screenWidth>this.mobileBreakPoint&&(this.showOnResize=!this.collapsed)};
D.prototype.showFilters=function(){var E=window.document.documentElement;this.collapsed=!1;this.dontUpdateQueryParams||a["default"].updateQueryParams({showFilters:!0});this.filtersWrap&&this.filtersWrap.classList.remove("is-collapsed");var y=this.domNode.querySelector(".js-toggle-filters");y.classList.add("is-active");y.setAttribute("aria-expanded","true");this.screenWidth<this.mobileBreakPoint&&E.classList.add("filters-open");g["default"].publish("control-bar/filters-toggle")};D.prototype.hideFilters=
function(){var E=window.document.documentElement;this.collapsed=!0;this.dontUpdateQueryParams||a["default"].updateQueryParams({showFilters:!1});this.filtersWrap&&this.filtersWrap.classList.add("is-collapsed");var y=this.domNode.querySelector(".js-toggle-filters");y.classList.remove("is-active");y.setAttribute("aria-expanded","false");E.classList.remove("filters-open");g["default"].publish("control-bar/filters-toggle")};D.prototype.resizeHandler=function(){var E=window.innerWidth,y=window.document.documentElement;
!this.collapsed&&900<=this.screenWidth&&900>E&&this.hideFilters();this.showOnResize&&this.collapsed&&900>this.screenWidth&&900<=E&&this.showFilters();(720>this.screenWidth&&720<=E||720<=this.screenWidth&&720>E)&&g["default"].publish("view/refresh");this._searchInput&&480<=this.screenWidth&&480>E&&g["default"].publish("search/setPlaceholder",v["default"].common.search);this._searchInput&&480>this.screenWidth&&480<=E&&this._searchInput.setPlaceholder();E>this.mobileBreakPoint&&y.classList.remove("filters-open");
this.moveFilters(E);this.screenWidth=E};D.prototype.setPlaceholder=function(E){this._searchInput.setPlaceholder(E)};D.prototype.focus=function(){var E;null===(E=this._searchInput)||void 0===E?void 0:E.focus()};D.prototype.initStickyInterface=function(){window.scrollTo(0,0);q["default"].sticky();this._scrollingSideMenu=this.filterContainer.querySelector(".js-scrolling-side-menu");this._scrollingMenusStart=this.domNode.getBoundingClientRect().top;this._scrollingOptionsMenuPlaceHolder=h["default"].create("div",
{"class":"js-scrolling-top-menu-placeholder hide",style:"height:\n          "+(this.domNode.clientHeight+Number(getComputedStyle(this.domNode)["margin-bottom"].split("px")[0]))+"px;"},this.domNode,"before");this.own(q["default"].bus.on("scrolling:at",this.stickyCallback?this._handlePageScrollWithCallback.bind(this):this.handlePageScroll.bind(this)))};D.prototype.showSearchError=function(E,y){var F;(null===(F=this._searchInput)||void 0===F?void 0:F.id)===y&&(F=this.domNode.querySelector(".js-control-bar-search-error"),
F.innerHTML=E,F.classList.add("is-active"),this.domNode.querySelector("js-control-bar-search-wrap").classList.add("ontrol-bar__search--error"))};D.prototype.hideSearchError=function(E){this._searchInput&&this._searchInput.id===E&&(E=this.domNode.querySelector(".js-control-bar-search-error"),E.innerHTML="",E.classList.remove("is-active"),this.domNode.querySelector(".js-control-bar-search-wrap").classList.remove("control-bar__search--error"))};D.prototype._handlePageScrollWithCallback=function(E,y){this.handlePageScroll();
this.stickyCallback(E,y)};D.prototype.handlePageScroll=function(){var E=document.documentElement,y=this.domNode.clientHeight;(window.pageYOffset||E.scrollTop)>=this._scrollingMenusStart?(this._scrollingOptionsMenuPlaceHolder.classList.remove("hide"),this.domNode.classList.add("fixed-to"),window.innerWidth>this.mobileBreakPoint?(this._scrollingSideMenu.classList.add("fixed-to"),this._scrollingSideMenu.style.top=y+"px"):this._scrollingSideMenu.style.top="0"):(this._scrollingOptionsMenuPlaceHolder.classList.add("hide"),
this.domNode.classList.remove("fixed-to"),this._scrollingSideMenu.classList.remove("fixed-to"),this._scrollingSideMenu.style.top="0")};D.prototype.moveFilters=function(E){this.insideOverlay&&this.filtersWrap&&(this.screenWidth<this.mobileBreakPoint&&E>=this.mobileBreakPoint&&h["default"].place(this.filtersWrap,this.filtersWrapParent,"first"),this.screenWidth>=this.mobileBreakPoint&&E<this.mobileBreakPoint&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap))};return D=
n.__decorate([A["default"](C["default"],w["default"])],D)}()})},"arcgisonline/pages/dijit/SearchInput":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/debounce dojo/dom-class dojo/on dojo/i18n!../../nls/arcgisonline dojo/text!./SearchInput/SearchInput.html dijit/_TemplatedMixin dijit/_WidgetBase esri/libs/sanitizer/Sanitizer ../utils/icons ../utils/dom ../utils/strings".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d){q=n.__importDefault(q);p=n.__importDefault(p);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);return function(){function e(a,b){var c=this;this.templateString=u["default"];this.i18n=k["default"];this.icons=r["default"];this.queryParam=this.cssTheme=this.searchTerm="";this.hasSearchBy=!1;this.topic=this.searchBy="";this.dontDebounce=!1;this.sanitizer=
new z["default"];this.searchStarted=this.cancelDebounce=!1;this._searchWithDebounce=h["default"](function(m){c.cancelDebounce||c._search(m);c.cancelDebounce=!1},1E3)}e.prototype.postMixInProperties=function(){this.inherited(arguments);this.searchTerm=this.params.searchTerm||"";this.cssTheme=this.cssTheme||"";this.queryParam=this.params.queryParam||"searchTerm";this.searchBy=this.params.searchBy||"";this.topic=this.params.topic||"";this.params.validateInput&&(this.validateInput=this.params.validateInput.bind(this));
this.params.generateErrorMessage&&(this.generateErrorMessage=this.params.generateErrorMessage.bind(this))};e.prototype.postCreate=function(){var a=this;this.inherited(arguments);this.searchInput.value=this.searchTerm;l["default"].showHide(this.clearBtn,!!this.searchTerm);this.clearBtn.innerHTML=r["default"].getIconWithTitle("x","16",k["default"].manageLicenses.clearLabel,this.id+"_clear_btn");this.own(g["default"](this.searchInput,"input",function(b){l["default"].showHide(a.clearBtn,!!a.searchInput.value);
b=b.target.value;(2<b.length||0===b.length)&&b!==a.searchTerm&&(a.searchTerm=b,p["default"].publish(a.topic+"search/wait",a.sanitizer.sanitize(b),a.queryParam),a._testAndSearch(b,!!b))}),g["default"](this.searchInput,"focus",function(b){f["default"].add(b.target.parentNode,"control-bar__search--active");a.searchInput.value&&l["default"].showNode(a.clearBtn);p["default"].publish("search/focus",a.searchTerm)}),g["default"](this.searchInput,"blur",function(b){f["default"].remove(b.target.parentNode,
"control-bar__search--active");a.searchStarted=!1}),g["default"](this.searchInput,"keydown",function(b){13===b.keyCode&&a._testAndSearch(b.target.value,!1)}),g["default"](this.clearBtn,"click",function(){a.searchInput.value="";l["default"].hideNode(a.clearBtn);a.searchTerm="";p["default"].publish(a.topic+"search/wait","",a.queryParam);a._testAndSearch("",!1);a.searchInput.focus()}),p["default"].subscribe("membersSearchBy/update",function(b){a.hasSearchBy&&(a.searchBy=b)}))};e.prototype.focus=function(){this.searchInput.focus()};
e.prototype.setValue=function(a,b){this.searchTerm=a;this.searchInput.value=a;l["default"].showHide(this.clearBtn,!!this.searchTerm);b||(p["default"].publish(this.topic+"search/wait",this.sanitizer.sanitize(a),this.queryParam),this._testAndSearch(a,!1))};e.prototype.getValue=function(){return this.searchInput.value};e.prototype.setPlaceholder=function(a,b){a=a||this.placeholder;b||(this.placeholder=a);this.searchInput.placeholder=a;this.searchInput.setAttribute("aria-label",a)};e.prototype.validateInput=
function(a,b){return!0};e.prototype.generateErrorMessage=function(a,b){return k["default"].controlBar.invalidSyntax};e.prototype._testAndSearch=function(a,b){void 0===b&&(b=!0);this.validateInput(a,this.searchBy)?(this.cancelDebounce=!1,b&&!this.dontDebounce?this._searchWithDebounce(a):(this._search(a),this.cancelDebounce=!0)):p["default"].publish(this.topic+"search/error",this.generateErrorMessage(a,this.searchBy),this.id)};e.prototype._search=function(a){var b,c=this.sanitizer.sanitize(a);c=d["default"].escapeQuestionMarks(c);
p["default"].publish(this.topic+"search/update",c,this.searchBy,this.id);null===(b=this.telemetry)||void 0===b?void 0:b.logEvent({category:"Search",action:this.searchStarted?"update":"start",label:a,pageUrl:window.location.href});this.searchStarted=!0};return e=n.__decorate([q["default"](C["default"],w["default"])],e)}()})},"arcgisonline/pages/components/ViewToggle":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic arcgisonline/pages/pageUtil calcite-web/js/calcite-web".split(" "),
function(O,K,n,q,p,h,f,g){Object.defineProperty(K,"__esModule",{value:!0});p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);O=function(k){function u(){var w=null!==k&&k.apply(this,arguments)||this;w.domNodeRef=q.createRef();w.toggleView=function(C){var z;C.stopPropagation();C=C.target.dataset.view;w.updateUI(C);null===(z=w.props.telemetry)||void 0===z?void 0:z.logEvent({category:"Control Bar View Selector",action:C,pageUrl:window.location.href});g["default"].bus.emit("dropdown:close")};
w.closeMenu=function(){var C;g["default"].bus.emit("dropdown:close");(null===(C=w.domNodeRef.current)||void 0===C?void 0:C.querySelector(".js-toggle-view-dropdown")).focus()};w.updateUI=function(C){w.setState({activeView:C});w.props.topic||f["default"].updateQueryParams({view:C});h["default"].publish(w.props.topic+"view/toggle",C)};return w}n.__extends(u,k);u.prototype.componentDidMount=function(){this.updateUI(this.props.activeView)};u.prototype.handleToggle=function(w){if(this.domNodeRef.current){var C=
this.domNodeRef.current;setTimeout(function(){if(C.classList.contains("is-active")){var z=C.querySelectorAll(".js-view-option")[0];null===z||void 0===z?void 0:z.focus()}},0)}};u.prototype.render=function(){var w=this,C=this.state.activeView,z=this.props.views;return q.h("div",{"class":"control-bar__action control-bar__action--view js-dropdown flex",ref:this.domNodeRef},q.h("button",{"class":"control-bar__btn\r\n          flex flex-align-center js-dropdown-toggle js-toggle-view-dropdown","aria-label":p["default"].viewToggle.selectView,
"aria-haspopup":"true","aria-controls":"viewmenu",onClick:function(r){return w.handleToggle(r)}},q.h("calcite-icon",{"class":"margin-right-quarter icon-inline",icon:C,scale:"s"}),q.h("span",{"class":"control-bar__btn-text"},p["default"].viewToggle[C])),q.h("div",{"class":"control-bar__overlay"}),q.h("div",{"class":"control-bar__dropdown-menu dropdown-menu",role:"menu",id:"viewmenu","aria-labelledby":"viewmenutitle"},q.h("h3",{"class":"control-bar__dropdown-menu__title",id:"viewmenutitle"},p["default"].viewToggle.view,
q.h("button",{"class":"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right","aria-label":p["default"].common.close},q.h("calcite-icon",{"class":"icon-inline incon-inline--on-left",icon:"x",scale:"m"}))),q.h("nav",null,z.map(function(r){return q.h("button",{"class":"js-view-option dropdown-link control-bar__dropdown-item "+(r===C?"is-active":""),"data-view":r,role:"menuitem",onClick:w.toggleView},q.h("calcite-icon",{"class":"icon-inline",icon:r,scale:"s",flipRtl:!0}),q.h("span",
{"class":"control-bar__dropdown-item__label"},p["default"].viewToggle[r]))}),q.h("div",{"tab-index":"0","class":"js-focus-fence",onClick:this.closeMenu}))))};u.defaultProps={activeView:"grid",views:["table","list","grid"],topic:""};return u}(q.Component);K["default"]=O})},"arcgisonline/pages/components/SortDropdown":function(){define("require exports tslib preact ../utils/arrays dojo/i18n!../../nls/arcgisonline dojo/topic ../pageUtil calcite-web/js/calcite-web".split(" "),function(O,K,n,q,p,h,f,g,
k){Object.defineProperty(K,"__esModule",{value:!0});p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);var u={title:{asc:"alphabetical",desc:"reverseAlphabetical"},owner:{asc:"alphabetical",desc:"reverseAlphabetical"},modified:{asc:"leastRecent",desc:"mostRecent"},added:{asc:"leastRecent",desc:"mostRecent"},numviews:{asc:"leastToMost",desc:"mostToLeast"},relevance:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},lastlogin:{asc:"leastRecent",
desc:"mostRecent"},name:{asc:"alphabetical",desc:"reverseAlphabetical"},fullname:{asc:"alphabetical",desc:"reverseAlphabetical"},joined:{asc:"leastRecent",desc:"mostRecent"},level:{asc:"alphabetical",desc:"reverseAlphabetical"},role:{asc:"alphabetical",desc:"reverseAlphabetical"},created:{asc:"leastRecent",desc:"mostRecent"},email:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldAlias:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldName:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldType:{asc:"alphabetical",
desc:"reverseAlphabetical"},defaultFSOrder:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},mfaenabled:{asc:"ascending",desc:"descending"},membertype:{asc:"alphabetical",desc:"reverseAlphabetical"},username:{asc:"alphabetical",desc:"reverseAlphabetical"},layerName:{asc:"alphabetical",desc:"reverseAlphabetical"},layerType:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetName:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetPath:{asc:"alphabetical",desc:"reverseAlphabetical"},machine:{asc:"alphabetical",
desc:"reverseAlphabetical"},containerId:{asc:"alphabetical",desc:"reverseAlphabetical"},runtimeName:{asc:"alphabetical",desc:"reverseAlphabetical"},version:{asc:"alphabetical",desc:"reverseAlphabetical"},avgrating:{asc:"highestRated",desc:"highestRated",disabled:!0},custom:{asc:"mostRecent",desc:"leastRecent",disabled:!0},type:{asc:"alphabetical",desc:"reverseAlphabetical"}};O=function(w){function C(){var z=null!==w&&w.apply(this,arguments)||this;z.domNodeRef=q.createRef();z.state={ascending:!0,property:"",
label:"",sortEnabled:!0,disabled:!1,showOnlyRelevance:!1};z.sortDisable=function(){z.setState({showOnlyRelevance:!0})};z.sortEnable=function(){z.setState({showOnlyRelevance:!1})};z.handleSortOptionClick=function(r){var l;f["default"].publish(z.props.topic+"sort/update",r);null===(l=z.props.telemetry)||void 0===l?void 0:l.logEvent({category:"Control Bar Sort Order",action:"selected sort order",pageUrl:window.location.href})};z.handleSortClick=function(r){var l;f["default"].publish(z.props.topic+"sort/update",
n.__assign(n.__assign({},z.state),{ascending:r}));null===(l=z.props.telemetry)||void 0===l?void 0:l.logEvent({category:"Control Bar Sort Order",action:"selected sort order",pageUrl:window.location.href})};z.handleToggle=function(){if(z.domNodeRef.current){var r=z.domNodeRef.current;if(!r.classList.contains("is-active")){var l=r.querySelectorAll(".control-bar__dropdown-item")[0];l&&setTimeout(function(){l.focus()})}}};z.sortUpdate=function(r){var l,d=z.props,e=d.dontUpdateQueryParams;d=d.topic;var a=
r.ascending,b=r.property;r=r.label;z.state.sortEnabled||k["default"].bus.emit("dropdown:close");z.setState({ascending:a,property:b,label:r,ascendingLabel:h["default"].gallery[u[b].asc],descendingLabel:h["default"].gallery[u[b].desc],disabled:!(null===(l=u[b])||void 0===l||!l.disabled)});e||d||g["default"].updateQueryParams({sortOrder:a?"asc":"desc",sortField:b})};return z}n.__extends(C,w);C.prototype.componentDidMount=function(){var z=this,r=p["default"].find(this.props.options,function(d){return d.active}),
l=u[r.property];this.setState(n.__assign(n.__assign({},r),{ascendingLabel:h["default"].gallery[l.asc],descendingLabel:h["default"].gallery[l.desc],disabled:null===l||void 0===l?void 0:l.disabled}));this.sortUpdateHandler=f["default"].subscribe(this.props.topic+"sort/update",function(d){return z.sortUpdate(d)});this.sortDisableHandler=f["default"].subscribe(this.props.topic+"sort/disable",function(){return z.sortDisable()});this.sortEnableHandler=f["default"].subscribe(this.props.topic+"sort/enable",
function(){return z.sortEnable()})};C.prototype.componentWillUnmount=function(){[this.sortDisableHandler,this.sortEnableHandler,this.sortUpdateHandler].forEach(function(z){z.remove()})};C.prototype.render=function(){var z=this,r=this.state,l=r.label,d=r.ascendingLabel,e=r.descendingLabel,a=r.ascending,b=r.property,c=r.showOnlyRelevance;r=r.disabled;var m=this.props.options;return q.h("div",{"class":"control-bar__action control-bar__sort-dropdown js-dropdown",ref:this.domNodeRef},q.h("button",{"class":"control-bar__btn flex flex-align-center js-toggle-sort-dropdown js-dropdown-toggle js-toggle-btn",
"aria-label":h["default"].gallery.changeSortDirection,"aria-haspopup":"true","aria-controls":"sortmenu",onClick:function(){return z.handleToggle()}},q.h("calcite-icon",{"class":"margin-right-quarter",icon:"sort-descending",scale:"s"}),q.h("span",{"class":"control-bar__btn-text js-sort-label"},l)),q.h("div",{"class":"control-bar__overlay"}),q.h("div",{"class":"control-bar__dropdown-menu dropdown-menu js-control-bar-sort-dropdown",role:"menu",id:"sortmenu","aria-labelledby":"sortmenutitle"},q.h("h3",
{"class":"control-bar__dropdown-menu__title",id:"sortmenutitle"},h["default"].gallery.sortBy,q.h("button",{"class":"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right","aria-label":"${i18n.common.close}"},q.h("calcite-icon",{icon:"x",scale:"m"}))),q.h("nav",{"class":"js-sort-options"},m.map(function(t){return q.h("button",{"class":"js-sort-option control-bar__dropdown-item dropdown-link padding-right-1 "+(b===t.property?"is-active":"")+"\n                  "+("relevance"===
t.property&&c?"hide":""),"data-property":b,"data-order":"${sortOrder}",role:"menuitem",onClick:function(){return z.handleSortOptionClick(t)}},q.h("span",{"class":"control-bar__dropdown-item__label"},t.label))})),q.h("div",{"class":"js-sort-direction-section leader-half "+(r?"hide":"")},q.h("h3",{"class":"control-bar__dropdown-menu__title"},h["default"].gallery.sortDirection),q.h("nav",{"class":"js-sort-direction-options"},q.h("button",{"class":"js-sort-direction dropdown-link control-bar__dropdown-item padding-right-1 "+
(a?"is-active":""),"data-value":"asc",role:"menuitem",onClick:function(){return z.handleSortClick(!0)}},q.h("span",{"class":"control-bar__dropdown-item__label js-ascending-label"},d)),q.h("button",{"class":"js-sort-direction dropdown-link control-bar__dropdown-item padding-right-1 "+(a?"":"is-active"),"data-value":"desc",role:"menuitem",onClick:function(){return z.handleSortClick(!1)}},q.h("span",{"class":"control-bar__dropdown-item__label js-descending-label"},e))))))};C.defaultProps={topic:""};
return C}(q.Component);K["default"]=O})},"arcgisonline/pages/components/Refresh":function(){define(["require","exports","tslib","dojo/topic","preact"],function(O,K,n,q,p){Object.defineProperty(K,"__esModule",{value:!0});q=n.__importDefault(q);O=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}n.__extends(f,h);f.prototype.onRefresh=function(){q["default"].publish(this.props.topic+"refresh")};f.prototype.render=function(){var g=this;return p.h("div",null,p.h("calcite-button",
{label:this.props.label,onClick:function(){return g.onRefresh()},appearance:"transparent",color:"neutral",iconStart:"refresh",scale:"s"}))};f.defaultProps={topic:"",label:""};return f}(p.Component);K["default"]=O})},"arcgisonline/pages/organization/widgets/SearchDropdown":function(){define("require exports tslib ../../utils/icons ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/query dojo/dom-class dojo/topic dojo/text!./templates/members/SearchDropdown.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);return function(){function z(r,l){this.templateString=w["default"];this.i18n=C["default"];this.icons=q["default"]}z.prototype.setSelection=function(r){var l=g["default"]("[data-property*\x3d"+r+"]",this.domNode);0<l.length&&(k["default"].remove(g["default"](".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active"),l.addClass("is-active"),this._searchLabel.innerHTML=l.innerHTML(),u["default"].publish("membersSearchBy/update",r))};z.prototype.postCreate=function(){this._searchLabel.innerHTML=this.i18n.myOrganization.membersTab.fullName;this._addEventListeners()};z.prototype._addEventListeners=function(){this.own(g["default"](".js-search-dropdown-property").on("click",this._optionSelect.bind(this)))};z.prototype._optionSelect=function(r){r.preventDefault();k["default"].remove(g["default"](".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active");k["default"].add(r.target,"is-active");var l=r.target.getAttribute("data-property");this._searchLabel.innerHTML=r.target.textContent;u["default"].publish("membersSearchBy/update",l)};return z=n.__decorate([p["default"](f["default"],h["default"])],z)}()})},"arcgisonline/pages/utils/productGlyphs":function(){define(["require","exports"],function(O,K){var n={dashboard:{path:"M25.819 28H23.18a.181.181 0 0 1-.181-.181V13.18a.181.181 0 0 1 .181-.181h2.638a.181.181 0 0 1 .181.181V27.82a.181.181 0 0 1-.181.181zM21 27.816v-9.631a.184.184 0 0 0-.184-.185h-2.631a.184.184 0 0 0-.185.184v9.631a.184.184 0 0 0 .184.185h2.631a.184.184 0 0 0 .185-.184zm9.82.184a.18.18 0 0 0 .18-.18v-7.64a.18.18 0 0 0-.18-.18h-2.64a.18.18 0 0 0-.18.18v7.64a.18.18 0 0 0 .18.18zM7 9.267v10.475c.706.033 3.538-1.718 4.274-4.7.679-2.751 3.485-2.864 4.443-2.94 1.766-.14 3.588-.607 4.566-2.798A.216.216 0 0 0 20.085 9H7.267A.267.267 0 0 0 7 9.267zm18.997-1.053A4.411 4.411 0 0 0 21.63 4H2.684A.684.684 0 0 0 2 4.684V21.81A3.19 3.19 0 0 0 5.19 25h9.565a.245.245 0 0 0 .245-.245v-2.362a.393.393 0 0 0-.393-.393H6.38A1.385 1.385 0 0 1 5 20.619V7.349A.348.348 0 0 1 5.348 7h16.324A1.346 1.346 0 0 1 23 8.363v1.28a.357.357 0 0 0 .357.357h2.599a.046.046 0 0 0 .046-.046z",
fill:"#ee9e01"},experienceBuilder:{path:"M30.85 12.82l-2.85 5v7.44A1.78 1.78 0 0 1 26.22 27H25V7.75a.76.76 0 0 0-.75-.75H12V1.31a.28.28 0 0 1 .42-.25L17.51 4h8.71A1.78 1.78 0 0 1 28 5.78v4.42l2.54 1.47a.83.83 0 0 1 .31 1.15zM12 18h8v-6h-8zm7.62 5H7.75a.76.76 0 0 1-.75-.75V4H5.78A1.78 1.78 0 0 0 4 5.78V13l-2.89 5a.85.85 0 0 0 .31 1.15L4 20.59v4.61A1.78 1.78 0 0 0 5.78 27h8.62l5.18 3a.28.28 0 0 0 .42-.24v-6.39a.38.38 0 0 0-.38-.37z",fill:"#09b8ca"},geoBIM:{path:"M17.802 21.398l6.2 2.557-5.14 2.133a.772.772 0 0 1-1.06-.717zM9.311 7.868a.604.604 0 0 1-.003-1.122L16 4.169l8.12 3.148-8.119 3.184zm-3.5 1.541l8.387 3.413v12.554a.772.772 0 0 1-1.06.717l-6.297-2.736a1.639 1.639 0 0 1-1.03-1.521zM3.844 6.03a1.316 1.316 0 0 0-.827 1.22v17.395a1.316 1.316 0 0 0 .827 1.221L16 30.888l12.983-5.317v-2.423l-7.156-3.023 7.156-2.963v-1.95l-5.101-2.2-3.867 1.516L24 16.123l-6.199 2.505v-5.711l.073-.122 11.108-4.487v-1.95l-12.47-5.047a1.384 1.384 0 0 0-1.027 0z",
fill:"#11ad1d"},notebooks:{path:"M2.941 25A.906.906 0 0 1 2 24.135v-.271A.906.906 0 0 1 2.941 23h3.118a.906.906 0 0 1 .941.864v.271a.906.906 0 0 1-.941.865zm3.118-8A.906.906 0 0 0 7 16.135v-.271A.906.906 0 0 0 6.059 15H2.941a.906.906 0 0 0-.941.864v.271a.906.906 0 0 0 .941.865zm0-8A.906.906 0 0 0 7 8.135v-.271A.906.906 0 0 0 6.059 7H2.941A.906.906 0 0 0 2 7.864v.271A.906.906 0 0 0 2.941 9zm9.44 16h-3.726a.773.773 0 0 1-.773-.774V6.171A.172.172 0 0 1 11.172 6H15.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H5.342A1.345 1.345 0 0 0 4 4.343V5h2.059A2.904 2.904 0 0 1 9 7.858v.277A2.907 2.907 0 0 1 6.059 11H4v2h2.059A2.907 2.907 0 0 1 9 15.864v.271A2.907 2.907 0 0 1 6.059 19H4v2h2.059A2.907 2.907 0 0 1 9 23.864v.271A2.907 2.907 0 0 1 6.059 27H4v1.405a.595.595 0 0 0 .595.595H15.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM20 3.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 .5.5v18a.5.5 0 0 1-.5.5h-4a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-25a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.499.5z",
fill:"#6e6e6e"},online:{path:"M25.479 23.504a.231.231 0 0 1 .204 0l3.933 1.939a.12.12 0 0 1 0 .216l-8.273 4.078a.822.822 0 0 1-.727 0l-8.274-4.078a.12.12 0 0 1 0-.216l3.933-1.94a.231.231 0 0 1 .205 0l4.206 2.075a.663.663 0 0 0 .587 0zM12.342 18.6a.12.12 0 0 0 0 .215l8.344 4.112a.663.663 0 0 0 .586 0l8.344-4.112a.12.12 0 0 0 0-.215l-8.534-4.208a.231.231 0 0 0-.205 0zm-2.438-6.434C7.397 6.051 15.42 2.655 18.687 7.96a.185.185 0 0 0 .236.07c3.545-1.654 6.604.885 5.75 4.528a.278.278 0 0 0 .146.312l6.048 2.982a.093.093 0 0 0 .132-.1 7.18 7.18 0 0 0-2.683-4.454.185.185 0 0 1-.068-.13A7.287 7.287 0 0 0 20.1 4.43a.185.185 0 0 1-.143-.047C14.775-.32 6.919 2.959 6.302 10.003a.185.185 0 0 1-.102.15c-9.865 4.91-4.46 18.472 5.924 12.182-9.26 1.228-8.848-9.392-2.22-10.169z",
fill:"#5763f8"},sites:{path:"M2.656 29A.656.656 0 0 1 2 28.344V6.185A3.189 3.189 0 0 1 5.185 3H29.72a.281.281 0 0 1 .281.281v22.53A3.194 3.194 0 0 1 26.81 29zm2.838-3h21.211a.295.295 0 0 0 .296-.295V13.494a.493.493 0 0 0-.493-.494H5v12.506a.494.494 0 0 0 .494.494zM23 9.91a.09.09 0 0 0 .09.09h3.82a.09.09 0 0 0 .09-.09V6.026A.026.026 0 0 0 26.974 6h-3.948a.026.026 0 0 0-.026.026zM6.633 6A1.597 1.597 0 0 0 5 7.595V10h14.523A.477.477 0 0 0 20 9.523V6.477A.477.477 0 0 0 19.523 6zM16 22v-5h7v5zm-7-2v-3h3v3z",
fill:"#7842ed"},storyMaps:{path:"M25.5 0C23.015 0 21 .953 21 3.433v8.517a1.467 1.467 0 0 0 .43 1.038l3.837 3.827a.33.33 0 0 0 .466 0l3.836-3.827A1.467 1.467 0 0 0 30 11.95V3.433C30 .953 27.985 0 25.5 0zm0 8.1a2.6 2.6 0 1 1 2.6-2.599A2.599 2.599 0 0 1 25.5 8.1zm-7.856.453c.294-.153.312-.457.312-.788v-2.31a.104.104 0 0 0-.129-.1 6.128 6.128 0 0 0-2.248 1.19.14.14 0 0 1-.167.008c-3.437-2.283-8.543-1.52-12.131-.988-.432.064-1.762.34-2.164.424A.146.146 0 0 0 1 6.133V26.69a.147.147 0 0 0 .05.11.134.134 0 0 0 .116.035A36.394 36.394 0 0 1 9.5 25.781c3.283.054 4.403.96 4.967 1.513l.915.897a.164.164 0 0 0 .23 0l.916-.897a5.98 5.98 0 0 1 3.972-1.47 25.341 25.341 0 0 1 5.715.516c.718.109 1.46.22 2.186.312l1.251.16a.308.308 0 0 0 .348-.305v-7.375a.161.161 0 0 0-.303-.077l-.107.2a7.218 7.218 0 0 1-6.902 3.766 10.455 10.455 0 0 0-5.688.796V9.454a.89.89 0 0 1 .332-.693 2.058 2.058 0 0 1 .312-.208zM14 23.817c-3.071-1.38-5.998-.808-9.447-.293l-.253.036a.263.263 0 0 1-.3-.259V8.525a.098.098 0 0 1 .084-.097l.804-.115c2.518-.372 6.303-1.048 8.708.515a.89.89 0 0 1 .404.746z",
fill:"#4fbaa9"},webAppBuilder:{path:"M15.044 19.974a.188.188 0 0 1-.192-.001l-3.762-2.35a.188.188 0 0 1-.09-.16v-4.098a.188.188 0 0 1 .096-.163l3.761-2.178a.188.188 0 0 1 .182-.001l3.863 2.179a.188.188 0 0 1 .098.165v4.095a.187.187 0 0 1-.092.161zm15.13-1.04a.052.052 0 0 0 .099.022 8.048 8.048 0 0 0 .67-3.147 7.155 7.155 0 0 0-3.507-6.213L17.59 3.768a4.054 4.054 0 0 0-1.968-.627 3.95 3.95 0 0 0-1.894.485c-.607.334-1.132.67-1.278.754a2.951 2.951 0 0 0-1.39 2.506v1.078a.2.2 0 0 0 .307.167l1.365-.87a4.988 4.988 0 0 1 2.319-.792 4.62 4.62 0 0 1 2.219.792s8.442 5.017 9.392 5.576a7.045 7.045 0 0 1 3.513 6.084zM9.546 23.55l.947-.547a.2.2 0 0 0 0-.345l-1.369-.79a4.326 4.326 0 0 1-2.13-3.842V7.286a7.16 7.16 0 0 1 3.63-6.083l.081-.05a.025.025 0 0 0-.012-.045l-.25-.005a8.333 8.333 0 0 0-3.887.994A7.102 7.102 0 0 0 3.069 8.31v10.786a3.96 3.96 0 0 0 1.89 3.362c.894.545 1.605.974 1.81 1.092a2.787 2.787 0 0 0 2.777 0zm4.383 6.37l9.997-5.773a3.959 3.959 0 0 0 1.967-3.32c.021-.929.034-1.604.034-1.806a2.786 2.786 0 0 0-1.39-2.406l-1.123-.57a.2.2 0 0 0-.289.177v1.604a4.45 4.45 0 0 1-2.218 3.842l-3.708 2.14a3.366 3.366 0 0 1-.256.135L11.6 27.128a6.427 6.427 0 0 1-3.343.938 7.137 7.137 0 0 1-3.513-1.038c-.09-.052-.38-.226-.797-.479a.094.094 0 0 0-.134.12 7.182 7.182 0 0 0 2.942 3.25 7.241 7.241 0 0 0 3.587 1.028 7.243 7.243 0 0 0 3.587-1.028z",
fill:"#09b8ca"},urban:{path:"M32 14l-4 .003a1 1 0 0 0-1 1V21a1 1 0 0 1-1 1h-2V5.451l-7.598-3.335A1 1 0 0 0 15 3.03V25a1 1 0 0 1-1 1h-2V11.24h-.02L7.5 9l-4.48 2.24H3V20H0v4h5a1 1 0 0 0 1-1V12.717L7.5 12l1.5.717V28a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6.094l3 1.317V24a2 2 0 0 0 2 2h5.02A1.977 1.977 0 0 0 30 24.024V17h2z",fill:"#3DB8FF"},instant:{path:"M11.206 4.805v-1.38a2.231 2.231 0 0 1 2.23-2.231h13.168a2.231 2.231 0 0 1 2.231 2.23v11.15a2.231 2.231 0 0 1-2.23 2.231h-1.398V5.555a.75.75 0 0 0-.75-.75zM30.94 27.204l-5.447-4.41a.211.211 0 0 0-.344.164v2.225H8.197a1.344 1.344 0 0 1-1.344-1.344V11.665a.75.75 0 0 1 .75-.75h9.872a.75.75 0 0 1 .75.75l-.003 7.534a2.422 2.422 0 0 1-.798 1.796l-.945.855h4.3a1.075 1.075 0 0 0 1.074-1.075v-10.54a2.231 2.231 0 0 0-2.23-2.23H5.354a2.148 2.148 0 0 0-2.13 2.23v16.507a2.231 2.231 0 0 0 2.23 2.231l19.695-.003v2.725a.211.211 0 0 0 .344.164l5.447-4.41a.158.158 0 0 0 0-.245z",
fill:"#83a238"}},q=[];Object.keys(n).forEach(function(p){q[p]='\x3csvg viewBox\x3d"0 0 32 32" width\x3d"32" height\x3d"32" fill\x3d"'+n[p].fill+'"\x3e\x3cpath d\x3d"'+n[p].path+'"/\x3e\x3c/svg\x3e'});return q})},"arcgisonline/pages/dijit/FilterStatus":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/query dojo/topic dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterStatus/templates/FilterStatus.html dojo/text!./FilterStatus/templates/FilterChip.html dojo/i18n!../../nls/arcgisonline ../pageUtil ../utils/icons ../utils/arrays".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);return function(){function c(m,t){this.templateString=r["default"];this.i18n=d["default"];
this._state={}}c.prototype.postMixInProperties=function(){var m=this,t;this.inherited(arguments);this._state={};this._dontUpdateQueryParams=this.params.dontUpdateQueryParams;this._topic=null!==(t=this.params.topic)&&void 0!==t?t:"";b["default"].toArray(p["default"].clone(this.params)).forEach(function(v){var A;0<(null===(A=v.selected)||void 0===A?void 0:A.length)&&(m._state[v.param]=v)})};c.prototype.postCreate=function(){this.inherited(arguments);b["default"].toArray(this._state).forEach(p["default"].hitch(this,
this._update));this._addEventListeners()};c.prototype.destroy=function(){this.inherited(arguments);this._state={}};c.prototype._addEventListeners=function(){this.own(g["default"](this.clearAll,"click",p["default"].hitch(this,this._clearHandler)),g["default"](this.filterChips,"click",p["default"].hitch(this,this._clickHandler)),u["default"].subscribe(this._topic+"filter/remove",p["default"].hitch(this,this._remove)),u["default"].subscribe(this._topic+"filter/update",p["default"].hitch(this,this._update)),
u["default"].subscribe(this._topic+"filter/clear",p["default"].hitch(this,this._clear)))};c.prototype._clear=function(){this.filterChips.innerHTML="";h["default"].add(this.filterChipWrap,"hide");var m=[];b["default"].toArray(this._state).forEach(function(t){m.push(t.param)});this._state={};this._topic||e["default"].removeQueryParams(m);this._updateMoreChip()};c.prototype._clearHandler=function(m){u["default"].publish(this._topic+"filter/clear",m)};c.prototype._remove=function(m){var t=this;k["default"](".js-filter-chip[data-filter\x3d'"+
m.param+"']",this.filterChips).forEach(f["default"].destroy);if(m.partial){var v=this._state[m.param];v.selected=v.selected.filter(function(A){return A.value!==m.value}).filter(function(A,B,x){return x.indexOf(A)===B});1>v.selected.length?delete this._state[m.param]:v.selected.forEach(function(A){A=w["default"].substitute(l["default"],{filter:v,i18n:d["default"],selected:A,icons:a["default"]});f["default"].place(A,t.filterChips)})}else delete this._state[m.param];1>Object.keys(this._state).length&&
h["default"].add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._removeQueryString(m);this._updateMoreChip()};c.prototype._updateMoreChip=function(){var m=this,t=-1;Object.keys(this._state).forEach(function(A){m._state[A].selected&&(t+=m._state[A].selected.length)});var v=this.filterChips.querySelector(".js-more-chip");v&&this.filterChips.removeChild(v);0<t&&(v=document.createElement("span"),v.className="filter-chip filter-chip__more js-more-chip",this.filterChips.appendChild(v),v.textContent=
"+ "+t)};c.prototype._update=function(m){var t=this;h["default"].remove(this.filterChipWrap,"hide");this._state[m.param]=m;k["default"](".js-filter-chip[data-filter\x3d'"+m.param+"']",this.filterChips).forEach(f["default"].destroy);m.selected&&(m.selected.forEach(function(v){var A=document.createElement("div");!v.label&&v.simpleLabel&&(v.label=v.simpleLabel);A.innerHTML=v.label;v.simpleLabel=A.textContent||A.innerText||"";v=w["default"].substitute(l["default"],{filter:m,i18n:d["default"],selected:v,
icons:a["default"]});f["default"].place(v,t.filterChips)}),0===m.selected.length&&(delete this._state[m.param],this._topic||e["default"].removeQueryParams([m.param])));this._updateMoreChip();1>Object.keys(this._state).length&&h["default"].add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._topic||this._updateQueryString()};c.prototype._updateQueryString=function(){var m={};b["default"].toArray(this._state).forEach(function(t){m[t.param]=t.selected&&t.selected.map(function(v){"custom"===
v.value&&v.to&&v.from?(m[t.param+"_to"]=v.to.valueOf(),m[t.param+"_from"]=v.from.valueOf()):(delete m[t.param+"_to"],delete m[t.param+"_from"]);if(t.isCategory)return JSON.stringify([v.value]);"bbox"===t.param&&(m.bboxLabel=v.label,m.srSort="true");return v.value}).join(",")||""},this);"bbox"in m&&(m.sortField="bbox");this._topic||e["default"].updateQueryParams(m)};c.prototype._removeQueryString=function(m){var t=e["default"].getQueryParams(),v=[];m.isCategory||"categories"===m.param?t[m.param]=[]:
"bbox"===m.param?(t[m.param]=[],v.push("srSort","bboxLabel","sortField")):(t[m.param]&&(t[m.param]=t[m.param].split(",").filter(function(A){return A!==m.value}).join(",")),e["default"].updateQueryParams(t));t=t[m.param];1>(null===t||void 0===t?void 0:t.length)&&(v.push(m.param),"custom"===m.value&&(v.push(m.param+"_to"),v.push(m.param+"_from")));e["default"].removeQueryParams(v)};c.prototype._clickHandler=function(m){if(h["default"].contains(m.target,"js-filter-chip-remove")){m.preventDefault();var t=
m.target.getAttribute("data-filter"),v=m.target.getAttribute("data-value");u["default"].publish(this._topic+"filter/remove",{param:t,value:v,partial:1<this._state[t].selected.length,lastFilter:1===Object.keys(this._state).length,evt:m})}};return c=n.__decorate([q["default"](C["default"],z["default"])],c)}()})},"arcgisonline/pages/dijit/ToggleSwitch":function(){define("require exports tslib dojo/text!./ToggleSwitch/templates/ToggleSwitch.html dojo/i18n!../../nls/arcgisonline dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid ../utils/dom ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);return function(){function C(z,r){this.templateString=q["default"];this.i18n=p["default"];this.label="";this.labelPosition="right";this.labelClasses="";this.direction="left";this.isChecked=!1;this.tooltipLabel=this.tooltipClass="";this.disabled=!1;this.hasTooltip=""}C.prototype.postMixInProperties=
function(){this.inherited(arguments);"left"===this.labelPosition&&(this.direction="right");this.uid=k["default"]();this.tooltip&&(this.hasTooltip="toggle-switch--tooltip",this.tooltipClass=this.tooltipClass||"tooltip tooltip-multiline")};C.prototype.postCreate=function(){var z=this;this.inherited(arguments);this.isChecked&&(this._checkbox.checked=this.isChecked);this.disabled&&this.disable();this.label||u["default"].hideNode(this._label);this.tooltip&&this._label.setAttribute("aria-label",this.tooltip);
this._checkbox.addEventListener("change",function(r){z.emit("change",z._checkbox.checked)});this._checkbox.addEventListener("keyup",function(r){13===r.keyCode&&(r.stopPropagation(),z._checkbox.checked=!z._checkbox.checked,z.emit("change",z._checkbox.checked))});this.trackId&&(this.toggleTrack.id=this.trackId)};C.prototype.hide=function(){u["default"].hideNode(this.domNode)};C.prototype.show=function(){u["default"].showNode(this.domNode)};C.prototype.checked=function(){return this._checkbox.checked};
C.prototype.setChecked=function(z,r){this._checkbox.checked=z;r||this.emit("change",this._checkbox.checked)};C.prototype.enable=function(){this._checkbox.removeAttribute("disabled");this.domNode.classList.remove("toggle-switch--disabled");this.disabled=!1};C.prototype.disable=function(){this._checkbox.setAttribute("disabled","true");this.domNode.classList.add("toggle-switch--disabled");this.disabled=!0};C.prototype.focus=function(){this._checkbox.focus()};C.prototype.check=function(){this.setChecked(!0,
!0)};C.prototype.uncheck=function(){this.setChecked(!1,!0)};C.prototype.showSwitch=function(){u["default"].showNode(this.toggleTrack);u["default"].showNode(this._checkbox)};C.prototype.hideSwitch=function(){u["default"].hideNode(this.toggleTrack);u["default"].hideNode(this._checkbox)};C.prototype.showLoader=function(){this.loader.active=!0;u["default"].showNode(this.loaderContainer);this.hideSwitch()};C.prototype.hideLoader=function(){this.loader.active=!1;u["default"].hideNode(this.loaderContainer);
this.showSwitch()};return C=n.__decorate([w["default"](g["default"],f["default"],h["default"])],C)}()})},"arcgisonline/pages/dijit/FilterSingleWithSearch":function(){define("require exports tslib dojo/text!./FilterSingleWithSearch/templates/FilterSingleWithSearch.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ./FilterSingle ./FilterDate ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C){q=n.__importDefault(q);p=n.__importDefault(p);
h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);return function(){function z(r,l){this.templateString=q["default"];this.i18n=p["default"];this.icons=w["default"];this.cssClasses=this.searchText="";this.filterCssClasses="filter--ellipse";this.type="single";this.active=!0;this.activeClass="is-active";this.topic=""}z.prototype.postMixInProperties=function(){this.inherited(arguments);this.active||
(this.activeClass="")};z.prototype.postCreate=function(){this.inherited(arguments);this.domNode.removeAttribute("title");if("date"===this.type){var r=document.createElement("ul");this._filterList.className="filters--accordion--content";this._filterList.appendChild(r);this._filter=new k["default"](n.__assign(n.__assign({},this.filterParameter),{topicPrefix:this.topic}),r)}else this._filter=new g["default"](n.__assign(n.__assign({},this.filterParameter),{topicPrefix:this.topic}),this._filterList);this._searchInput.addEventListener("input",
this._onSearchInput.bind(this));"single"===this.type&&15<Object.keys(this.filterParameter.options).length&&u["default"].showNode(this._searchContainer)};z.prototype._onSearchInput=function(){var r=this,l=this._filter.domNode.querySelectorAll(".filter-tree-item"),d=this._searchInput.value.toLowerCase();[].forEach.call(l,function(e){var a=r.filterParameter.options[e.dataset.value];void 0!==a&&-1!==a.label.toLowerCase().indexOf(d)?u["default"].showNode(e):u["default"].hideNode(e)})};z.prototype.select=
function(r,l,d){"date"===this.type?this._filter.select(r,l,d):this._filter.select(r)};z.prototype.getState=function(){return this._filter.getState()};return z=n.__decorate([C["default"](f["default"],h["default"])],z)}()})},"arcgisonline/pages/dijit/FilterSingle":function(){define("require exports tslib ../utils/arrays ../../tsutils/declareDecorator dijit/_WidgetBase dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/string dojo/topic esri/Evented dojo/i18n!../../nls/arcgisonline dojo/text!./FilterSingle/templates/FilterSingle.html dojo/text!./FilterSingle/templates/FilterOption.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.summedAggregationProperties={}}b.prototype.postMixInProperties=function(){var c;
this.inherited(arguments);this._state=g["default"].clone(this.params);this.topicPrefix=null!==(c=this._state.topic||this._state.topicPrefix)&&void 0!==c?c:""};b.prototype.postCreate=function(){this._updateUI();this._attachEvents()};b.prototype.destroy=function(){this._clear();this.inherited(arguments)};b.prototype._attachEvents=function(){var c=w["default"](".js-filter-link",this.domNode),m=w["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(m.on("click",this._removeFilter.bind(this)),
c.on("click",this._clickHandler.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/clear",this._clear.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/remove",this._remove.bind(this)),z["default"].subscribe(this.topicPrefix+"aggregations/update",this._updateCounts.bind(this)))};b.prototype.select=function(c){this._state.options[c]&&(this._clear(),this._state.options[c].active=!0,w["default"](".js-filter-item[data-value\x3d'"+c+"']",this.domNode).addClass("is-active"),w["default"](".js-filter-item[data-value\x3d'"+
c+"']",this.domNode).attr("aria-current","true"),this._setSelected(),z["default"].publish(this.topicPrefix+"filter/update",this._state))};b.prototype.getState=function(){return this._state};b.prototype._clear=function(){q["default"].toArray(this._state.options).forEach(function(c){return c.active=!1});w["default"](".js-filter-item",this.domNode).removeClass("is-active");w["default"](".js-filter-item",this.domNode).removeAttr("aria-current");w["default"](".js-filter-link",this.domNode).attr("aria-selected",
!1);w["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']").addClass("hide")};b.prototype._remove=function(c){var m;if(c.param===this._state.param){var t=this._state.options[c.value];t&&(t.active=!1);this._setSelected();c=w["default"](".js-filter-item[data-value\x3d'"+c.value+"']",this.domNode);c.removeClass("is-active");c.removeAttr("aria-current");null===(m=c[0])||void 0===m?void 0:m.querySelector(".js-filter-link").setAttribute("aria-selected","false")}};b.prototype._updateUI=
function(){var c,m=q["default"].toArray(this._state.options).reduce(this._renderList.bind(this),"");this.domNode.innerHTML=C["default"].substitute(d["default"],{list:m});if(m=w["default"](".accordion-title",w["default"](this.domNode).closest(".accordion-section").shift())[0]){var t=0<(null===(c=this._state.selected)||void 0===c?void 0:c.length)?"":"hide";u["default"].place(C["default"].substitute(a["default"],{i18n:l["default"],hide:t,param:this._state.param}),m)}};b.prototype._renderList=function(c,
m,t,v){m.label=m.label.replace(/"/g,"\x26quot;");t=m.active?"is-active":"";v=this.param;t=n.__assign(n.__assign({},g["default"].clone(m)),{param:v,selected:t});t=C["default"].substitute(e["default"],t);m.aggregationFields&&(this.summedAggregationProperties[m.value]=m.aggregationFields);return c+t};b.prototype._setSelected=function(){var c=[];q["default"].toArray(this._state.options).forEach(function(t){t.active&&c.push(t)});this._state.selected=0<c.length?c:!1;var m=w["default"](".js-clear-filter[data-filter-param\x3d'"+
this._state.param+"']");this._state.selected?m.removeClass("hide"):m.addClass("hide")};b.prototype._clickHandler=function(c){f["default"].stop(c);var m=c.target.parentNode,t=k["default"].contains(m,"is-active"),v=c.target.getAttribute("data-value");t?z["default"].publish(this.topicPrefix+"filter/remove",{param:this._state.param,value:c.target.getAttribute("data-value")}):(q["default"].toArray(this._state.options).forEach(function(A){return A.active=A.value===v}),w["default"](".js-filter-item",this.domNode).removeClass("is-active"),
w["default"](".js-filter-item",this.domNode).removeAttr("aria-current"),k["default"].add(m,"is-active"),m.setAttribute("aria-current",!0),c.target.setAttribute("aria-selected",!0),this._setSelected(),z["default"].publish(this.topicPrefix+"filter/update",this._state))};b.prototype._removeFilter=function(c){var m;c.stopPropagation();0<(null===(m=this._state.selected)||void 0===m?void 0:m.length)&&z["default"].publish(this.topicPrefix+"filter/remove",{param:this._state.param,value:this._state.selected[0].value})};
b.prototype._getCountForFieldValue=function(c,m){var t=q["default"].find(c,function(v){return v.value===m});return(null===t||void 0===t?void 0:t.count)||0};b.prototype._updateCounts=function(c){var m=this;c.fieldName===this.param&&(w["default"](".js-filter-link-count",this.domNode).innerHTML(""),c.fieldValues.forEach(function(t){var v=m.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+t.value+"']");v&&(v.innerHTML="("+t.count+")")}),Object.keys(this.summedAggregationProperties).forEach(function(t){var v=
m.summedAggregationProperties[t].reduce(function(A,B){return A+m._getCountForFieldValue(c.fieldValues,B)},0);(t=m.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+t+"']"))&&v&&(t.innerHTML="("+v+")")}))};return b=n.__decorate([p["default"](h["default"],r["default"])],b)}()})},"arcgisonline/pages/dijit/FilterDate":function(){define("require exports tslib ../utils/clone ../utils/date ../utils/dom ../utils/arrays ../utils/formatters ../utils/validation ../../tsutils/declareDecorator dojo/on dojo/_base/event dojo/topic dojo/string dojox/uuid/generateRandomUuid dijit/_WidgetBase dijit/_TemplatedMixin moment/moment dojo/i18n!../../nls/arcgisonline dojo/text!./FilterDate/templates/FilterDate.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);return function(){function t(v,A){this.templateString=
c["default"];this.constraintToToday=!0;this.showNever=!1;this.topicPrefix="";this.constrainWidthOnError=!1;this.fullDate=g["default"].fullDate;this.i18n=b["default"]}t.prototype.postMixInProperties=function(){this.uid=l["default"]();var v=this.generateRange.bind(this);this.state=q["default"](this.params);this.state.param=this.state.param||"modified";this.state.options=this.state.options||{today:{label:b["default"].filters.today,value:"today",from:a["default"]().startOf("day"),to:a["default"]().endOf("day"),
q:v(a["default"]().startOf("day"),a["default"]().endOf("day"))},yesterday:{label:b["default"].filters.yesterday,value:"yesterday",from:a["default"]().subtract(1,"days").startOf("day"),to:a["default"]().subtract(1,"days").endOf("day"),q:v(a["default"]().subtract(1,"days").startOf("day"),a["default"]().subtract(1,"days").endOf("day"))},last7Days:{label:b["default"].filters.last7Days,value:"last7Days",from:a["default"]().subtract(7,"days").startOf("day"),to:a["default"]().endOf("day"),q:v(a["default"]().subtract(7,
"days").startOf("day"),a["default"]().endOf("day"))},last30Days:{label:b["default"].filters.last30Days,value:"last30Days",from:a["default"]().subtract(30,"days").startOf("day"),to:a["default"]().endOf("day"),q:v(a["default"]().subtract(30,"days").startOf("day"),a["default"]().endOf("day"))},custom:{label:b["default"].filters.customRange,value:"custom"}};this.state.selected=this.state.selected||[];this.constrainWidthOnError=this.state.constrainWidthOnError};t.prototype.postCreate=function(){this.inherited(arguments);
this.initUI();this.addEventListeners();this.showNever&&(this.state.options.never={label:b["default"].filters.never,value:"never",from:-1,to:-1,q:this.state.param+":[-1 TO -1]"},h["default"].showNode(this.neverOption))};t.prototype.getState=function(){return this.state};t.prototype.destroy=function(){this.clear();this.inherited(arguments)};t.prototype.select=function(v,A,B){if(this.state.options[v]){this.clear();var x=this.state.options[v];x.active=!0;A&&B&&(x.from=a["default"](parseInt(A,10)),x.to=
a["default"](parseInt(B,10)),x.q=this.generateRange(x.from,x.to),x.label=r["default"].substitute(b["default"].filters.dateRange,{start:this.formatDate(x.from.valueOf()),end:this.formatDate(x.to.valueOf())}));this.state.selected=[x];h["default"].forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'+v+'"]'),function(D){D.classList.add("is-active");D.setAttribute("aria-current","true")});"custom"===x.value&&x.from&&x.to&&(this.customStart.valueAsDate=new Date(x.from.valueOf()),
this.customEnd.valueAsDate=new Date(x.to.valueOf()),this.domNode.querySelector(".js-custom-date-select").classList.remove("hide"));this.update();this.showHideClearButton()}};t.prototype.generateRange=function(v,A){return v&&A?this.state.param+":["+v.valueOf()+" TO "+A.valueOf()+"]":""};t.prototype.clear=function(){this.state.selected=!1;f["default"].toArray(this.state.options).forEach(function(v){v.active=!1});this.domNode&&(h["default"].forEachNode(this.domNode.querySelectorAll(".js-filter-item"),
function(v){v.classList.remove("is-active");v.removeAttribute("aria-current")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"),this.showHideClearButton())};t.prototype.remove=function(v){v.param===this.state.param&&(this.state.selected=!1,this.state.options[v.value].active=!1,h["default"].forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'+v.value+'"]'),function(A){A.classList.remove("is-active");A.removeAttribute("aria-current")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"));
this.showHideClearButton()};t.prototype.initUI=function(){var v;if(this.constraintToToday){var A=new Date;this.customStart.maxAsDate=A;this.customEnd.maxAsDate=A}this.minDate&&(this.customEnd.minAsDate=new Date(this.minDate));if(A=this.domNode.closest(".accordion-section").querySelector(".accordion-title")){var B=0<(null===(v=this.state.selected)||void 0===v?void 0:v.length)?"":"hide";A.insertAdjacentHTML("beforeend",r["default"].substitute(m["default"],{i18n:b["default"],hide:B,param:this.state.param}))}};
t.prototype.addEventListeners=function(){var v=this,A=this.domNode.querySelectorAll(".js-filter-link"),B=document.querySelector('.js-clear-filter[data-filter-param\x3d"'+this.state.param+'"]');this.clickHandler=this.clickHandler.bind(this);h["default"].forEachNode(A,function(x){v.own(w["default"](x,"click",v.clickHandler))});this.own(w["default"](B,"click",this.removeFilter.bind(this)),w["default"](this.customStart,"calciteDatePickerChange",this.changeCustomStart.bind(this)),w["default"](this.customEnd,
"calciteDatePickerChange",this.changeCustomEnd.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/remove",this.remove.bind(this)),z["default"].subscribe(this.topicPrefix+"filter/clear",this.clear.bind(this)))};t.prototype.clickHandler=function(v){C["default"].stop(v);var A=v.target.parentNode,B=A.classList.contains("is-active");v=v.target.getAttribute("data-value");var x=this.domNode.querySelector(".js-custom-date-select"),D=this.state.options[v];B?(z["default"].publish(this.topicPrefix+
"filter/remove",{param:this.state.param,value:v}),D.active=!1,this.state.selected=!1):(this.state.selected=[D],D.active=!0,h["default"].forEachNode(this.domNode.querySelectorAll(".js-filter-item"),function(E){E.classList.remove("is-active");E.removeAttribute("aria-current")}),A.classList.add("is-active"),A.setAttribute("aria-current",!0),"custom"===v?(x.classList.remove("hide"),A=this.state.options.custom,A.from&&A.to&&(A.q=this.generateRange(A.from,A.to),this.update())):(x.classList.add("hide"),
this.update()));this.showHideClearButton()};t.prototype.resetIfNullCustom=function(){this.customStart.value||this.customEnd.value||(this.state.options.custom.from=void 0,this.state.options.custom.to=void 0,this.removeFilter())};t.prototype.changeCustomStart=function(v){if(null!==v&&void 0!==v&&v.detail){var A=this.state.options.custom;A.from=a["default"](v.detail).startOf("day");this.dateInputsValid()&&(this.customEnd.minAsDate=v.detail,A.to&&(A.q=this.generateRange(A.from,A.to),A.label=r["default"].substitute(b["default"].filters.dateRange,
{start:this.formatDate(A.from.valueOf()),end:this.formatDate(A.to.valueOf())}),this.update()))}else this.resetIfNullCustom()};t.prototype.dateInputsValid=function(){var v=this.state.options.custom,A=v.from;v=v.to;if(A&&v){if(v.valueOf()<A.valueOf())return k["default"].setInvalidState(this.customStart,this.customStartError,this.i18n.filters.startDateBefore),this.constrainWidthOnError&&this.customStart.classList.add("input-error__constrain-width"),!1;if(A.valueOf()>v.valueOf())return k["default"].setInvalidState(this.customEnd,
this.customEndError,this.i18n.filters.endDateAfter),this.constrainWidthOnError&&this.customEnd.classList.add("input-error__constrain-width"),!1}k["default"].clearState([this.customStart,this.customStartError,this.customEnd,this.customEndError]);this.constrainWidthOnError&&(this.customStart.classList.remove("input-error__constrain-width"),this.customEnd.classList.remove("input-error__constrain-width"));return!0};t.prototype.changeCustomEnd=function(v){var A;if(null!==v&&void 0!==v&&v.detail){var B=
this.state.options.custom;B.to=a["default"](v.detail).endOf("day");this.dateInputsValid()&&(this.customStart.maxAsDate=v.detail,B.from&&(B.q=this.generateRange(B.from,B.to),B.label=r["default"].substitute(b["default"].filters.dateRange,{start:this.formatDate(B.from.valueOf()),end:this.formatDate(null===(A=B.to)||void 0===A?void 0:A.valueOf())}),this.update()))}else this.resetIfNullCustom()};t.prototype.update=function(){z["default"].publish(this.topicPrefix+"filter/update",this.state);this.showHideClearButton()};
t.prototype.removeFilter=function(v){var A;v&&v.stopPropagation();0<(null===(A=this.state.selected)||void 0===A?void 0:A.length)&&z["default"].publish(this.topicPrefix+"filter/remove",{param:this.state.param,value:this.state.selected[0].value});this.showHideClearButton()};t.prototype.showHideClearButton=function(){var v,A=document.querySelector('.js-clear-filter[data-filter-param\x3d"'+this.state.param+'"]');0<(null===(v=this.state.selected)||void 0===v?void 0:v.length)?A.classList.remove("hide"):
A.classList.add("hide")};t.prototype.formatDate=function(v){return p["default"].format(new Date(v),"short-date")};return t=n.__decorate([u["default"](d["default"],e["default"])],t)}()})},"arcgisonline/pages/dijit/FilterOrganizationGroups":function(){define("require exports tslib dojo/text!./FilterOrganizationGroups/templates/FilterOrganizationGroups.html dojo/i18n!../../nls/arcgisonline dojo/debounce dijit/_TemplatedMixin dijit/_WidgetBase ./FilterSingle ../utils/dom ../utils/icons ../pageUtil ../../sharing/util ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=q["default"];this.i18n=p["default"];this.icons=w["default"];this.cssClasses=this.searchText="";this.active=!0;this.activeClass="is-active";this.GROUPS_MAX=500;
this.title=this.i18n.myOrganization.membersTab.organizationsGroups;this.searchText=this.i18n.myOrganization.inviteMembers.searchGroups}l.prototype.postMixInProperties=function(){this.inherited(arguments);this.active||(this.activeClass="")};l.prototype.postCreate=function(){var d=this;this.inherited(arguments);this.domNode.removeAttribute("title");this._getOrgGroupCount().then(function(e){e>d.GROUPS_MAX?(d._noResults.innerHTML=p["default"].GroupsWidget.noOrgGroupsMatch,d._searchInput.addEventListener("input",
h["default"](d._onServerSearch.bind(d),500)),d._searchContainer.classList.remove("hide")):d._getAllOrgGroups().then(d._constructFilterSingle.bind(d)).then(function(){d._noResults.innerHTML=p["default"].GroupsWidget.noOrgGroupsYet;d._searchInput.addEventListener("input",d._onClientSearch.bind(d));d._searchContainer.classList.remove("hide")})})};l.prototype._getParams=function(){var d="orgid:"+this.portal.id;this.portal.isPortal&&(d+=' -owner:"esri_livingatlas" -owner:"esri_boundaries" -owner:"esri_demographics"');
return{q:d,start:1,num:100,sortField:"title",sortOrder:"asc"}};l.prototype._getOrgGroupCount=function(){var d=this._getParams();d.num=1;return this._getOrgGroups(d).then(function(e){return e.total})};l.prototype._getOrgGroups=function(d){return z["default"].request({url:this.portal.url+"community/groups",content:d})};l.prototype._getAllOrgGroups=function(){var d=this._getParams();return C["default"].fetchAllResources(this.portal.url+"community/groups",d)};l.prototype._constructFilterSingle=function(d){var e=
this,a,b;Object.keys(this.filterParameter.options).forEach(function(m){delete e.filterParameter.options[m]});var c=0<d.length;c&&d.forEach(function(m){e.filterParameter.options[m.id]={value:m.id,q:"group:"+m.id,label:m.title}});u["default"].showHide(this._noResults,!c);null===(b=null===(a=this._filterList)||void 0===a?void 0:a.destroy)||void 0===b?void 0:b.call(a);d=document.createElement("div");this._filterListWrap.appendChild(d);this._filterList=new k["default"](n.__assign({},this.filterParameter),
d);return!0};l.prototype._onClientSearch=function(){var d=this,e=this._filterList.domNode.querySelectorAll(".filter-tree-item"),a=this._searchInput.value.toLowerCase();[].forEach.call(e,function(b){var c=d.filterParameter.options[b.dataset.value];void 0!==c&&-1!==c.label.toLowerCase().indexOf(a)?u["default"].showNode(b):u["default"].hideNode(b)})};l.prototype._onServerSearch=function(){var d=this,e=this._searchInput.value.toLowerCase(),a=this._getParams();a.q=a.q+" "+e;this._getOrgGroups(a).then(function(b){return d._constructFilterSingle(b.results)})};
l.prototype.select=function(d){this._filterList.select(d)};return l=n.__decorate([r["default"](g["default"],f["default"])],l)}()})},"arcgisonline/pages/dijit/FilterCollabOrgs/FilterCollabOrgs":function(){define("require exports tslib esri/Evented dojo/text!./FilterCollabOrgs.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../FilterSingle ../ToggleSwitch ../InfoTooltip ../../utils/icons ../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(O,K,
n,q,p,h,f,g,k,u,w,C,z,r){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(d,e){this.templateString=p["default"];this.i18n=h["default"];this.icons=C["default"];this.filterCssClasses="filter--ellipse"}l.prototype.postCreate=function(){var d=this;this.inherited(arguments);
var e=n.__assign({},this.i18n.searchFilters);this.filter=new k["default"](n.__assign({},this.filterParameter),this.filterList);var a=new u["default"]({label:e.collabContacts,labelPosition:"left",trackId:"collab-contacts-toggle",baseClass:"trailer-0",isChecked:!0},this.domNode.querySelector(".js-collab-contacts-toggle"));a.labelWrapper.classList.add("text-ellipsis");a.labelWrapper.setAttribute("title",e.collabContacts);this.own(a.on("change",function(b){d.emit("coordinators-only",{checked:b})}));e=
new w["default"]({title:"",content:e.collabContactsTooltip,buttonAriaLabel:e.collabContactsTooltipAria,baseClass:"org-overview__feature-toolip margin-left-quarter",orient:["below-centered","above-centered"]});e.addContentClass("text-center");a._label.appendChild(e.domNode);a._label.className+=" flex flex-align-center";a.domNode.className+=" flex flex-align-center flex-row-reverse"};l.prototype.getState=function(){return this.filter.getState()};l.prototype.show=function(){z["default"].showNode(this.domNode)};
l.prototype.hide=function(){z["default"].hideNode(this.domNode)};l.prototype.showCoordinatorsToggle=function(){z["default"].showNode(this.coordsToggleContainer)};l.prototype.hideCoordinatorsToggle=function(){z["default"].hideNode(this.coordsToggleContainer)};return l=n.__decorate([r["default"](g["default"],f["default"],q["default"])],l)}()})},"arcgisonline/pages/dijit/FilterCategoryWrapper":function(){define("require exports tslib dijit/_WidgetBase dijit/_TemplatedMixin dojo/i18n!../../nls/arcgisonline dojo/text!./FilterCategory/templates/FilterCategoryWrapper.html ./FilterCategory ../utils/icons ../components/MemberCategories/api ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w){Object.defineProperty(K,"__esModule",{value:!0});q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);w=n.__importDefault(w);O=function(){function C(z,r){this.templateString=f["default"];this.icons=k["default"];this.i18n=h["default"]}C.prototype.postCreate=function(){this.inherited(arguments);this.render()};C.prototype.updateCategories=function(z){this.filterCategory.updateCategories(z,
!1)};C.prototype.updateCategorizedMembers=function(z){this.filterCategory.updateCategorizedMembers(z)};C.prototype.render=function(){return n.__awaiter(this,void 0,void 0,function(){var z;return n.__generator(this,function(r){switch(r.label){case 0:return this.filterCategory=new g["default"](this.props,this.domNode.querySelector(".js-filter-category")),[4,u.getMemberCategoriesCount(this.props.portal)];case 1:return z=r.sent(),this.filterCategory.updateCategorizedMembers(z),[2]}})})};return C=n.__decorate([w["default"](q["default"],
p["default"])],C)}();K["default"]=O})},"arcgisonline/pages/dijit/FilterCategory":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tooltip dojo/text!./FilterCategory/templates/FilterCategory.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/text!./FilterCategory/templates/Category.html dojo/text!./FilterCategory/templates/Uncategorized.html dojo/text!./FilterCategory/templates/CategoryGroup.html dojo/text!./FilterCategory/templates/EditSchemaButton.html dojo/i18n!../../nls/arcgisonline ../utils/categories ../utils/icons ./_CheckReadonlyMixin ./CategoryEdit ../components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal arcgisonline/telemetry preact".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);
v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);return function(){function F(G,H){this.templateString=d["default"];this.topicPrefix="";this.isMemberCategories=!1;this.i18n=t["default"];this.icons=A["default"];this._chipText=t["default"].contentCategories.chipText;this._selected=[];this.isMemberCategoriesOpen=!1;this._param=this.group?"groupCategories":"categories";this.closeCategoriesModal=this.closeCategoriesModal.bind(this)}
F.prototype.postMixInProperties=function(){this.inherited(arguments);this._chipText=this.chipText||this._chipText;this._param=this.param||this._param;this.contentCategoriesStrings=p["default"].mixin({},this.i18n.contentCategories,this.group?this.i18n.groupCategories:{});this.noCategoriesText=this.isMemberCategories?this.i18n.memberCategories.noCategories:this.contentCategoriesStrings.noCategoriesYet;this.filterDescription=this.isMemberCategories?this.i18n.memberCategories.filterDescription:this.contentCategoriesStrings.whyCategories;
this.setupText=this.isMemberCategories?this.i18n.memberCategories.setupCategories:this.contentCategoriesStrings.setUpCategories};F.prototype.postCreate=function(){this.telemetry=E["default"].init(this.portal,!0);this.categories=this.categories||this.group&&p["default"].clone(this.group.categorySchema)||p["default"].clone(this.portal.categories);this.rootNode=this.rootNode||v["default"].getRootNode(this.categories);"/Trending"===this.rootNode&&(this.rootNode="/Categories");var G=this.domNode.parentElement.parentElement.querySelector(".accordion-title");
f["default"].place(w["default"].substitute(m["default"],{i18n:t["default"],contentCategoriesStrings:this.contentCategoriesStrings,icons:A["default"]}),G);f["default"].place(w["default"].substitute(e["default"],{i18n:t["default"],hide:"hide",param:"category",icons:A["default"]}),G);this._clearButton=G.querySelector(".js-clear-filter");this._editCategoriesButton=G.querySelector(".js-edit-categories");this._setPermissions();this.updateCategories(this.categories,!0);this._addEventListeners()};F.prototype.destroy=
function(){this.inherited(arguments)};F.prototype._setPermissions=function(){var G,H,I,N,M=!this.user,J=!M&&!this.user.isOrgUser,R=!M&&this.user.userRole||{},Z=(null===(G=this.group)||void 0===G?void 0:G.groupOwner)||{};G=!M&&R.isAdmin();var T=!M&&R.isCustom();Z=!J&&Z.orgId&&this.user.orgId===Z.orgId;Z=!M&&this.group&&(this.group.isOwner||this.group.isManager||Z&&R.canUpdateOrgGroups());var X=!M&&!J&&(G||T&&R.canUpdateItemCategories());M=!M&&!J&&(G||T&&R.canUpdateMemberCategories());M=(!this.group&&
X||this.group&&Z||this.isMemberCategories&&M)&&!this.disableEdit;J=0<(null===(H=this.categories)||void 0===H?void 0:H.length)&&0<(null===(N=null===(I=this.categories[0])||void 0===I?void 0:I.categories)||void 0===N?void 0:N.length);H=k["default"](this.domNode).closest(".js-filter-category-container");I=k["default"](".js-no-categories-action",this.domNode);N=k["default"](".js-category-filter",this.domNode);N.addClass("hide");I.addClass("hide");h["default"].add(this._editCategoriesButton,"hide");!J&&
M&&I.removeClass("hide");J&&(N.removeClass("hide"),this._setClearVisibility(),h["default"][M?"remove":"add"](this._editCategoriesButton,"hide"));M||J||!H||H.addClass("hide")};F.prototype._addEventListeners=function(){var G=this;this.own(C["default"](this._clearButton,"click",this.deselectAll.bind(this)),C["default"](this._editCategoriesButton,"click",this._editCategories.bind(this)),k["default"](".js-setup-categories",this.domNode).on("click",this._editCategories.bind(this)),k["default"](".js-category-filter",
this.domNode).on("click",function(H){h["default"].contains(H.target,"js-filter-tree-link")&&G._clickHandler(H)}),u["default"].subscribe(this.topicPrefix+"filter/clear",this._clear.bind(this)),u["default"].subscribe(this.topicPrefix+"filter/remove",this._remove.bind(this)),u["default"].subscribe("categorySchema/updated",this.updateCategories.bind(this)),u["default"].subscribe("aggregations/update",this._updateCounts.bind(this)))};F.prototype.updateCategories=function(G,H){this.categories=G||[];0<this.categories.length&&
G[0].categories&&(this.domNode.querySelector(".js-category-root").innerHTML=this._categoriesToDom(n.__spreadArray([],G[0].categories),"",!0),this._addTooltips(),this.showUncategorized||this.isMemberCategories?this._addUncategorized():this.domNode.querySelector(".js-uncategorized").classList.add("hide"));this._setPermissions();H||this.deselectAll()};F.prototype.select=function(G,H){var I=this;(p["default"].isArray(G)?G:[G]).map(function(N){return N.replace(/\/[^\/]*\//,"/")}).forEach(function(N){var M=
N.split("/").filter(function(J){return"/"!==J&&""!==J});M.forEach(function(J,R){var Z=M.slice(0,R+1).join("/");k["default"](".js-filter-tree-item[data-category-path\x3d'/"+Z+"']",I.domNode).addClass("is-active")})});this._updateState(H)};F.prototype.deselectAll=function(G){G&&G.stopPropagation();this._clear();u["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||t["default"].contentCategories.chipText,param:this._param||"categories",selected:[],isCategory:!0})};F.prototype.closeCategoriesModal=
function(){y.render(null,this.domNode);this.isMemberCategoriesOpen=!1;this.categories.length?this._editCategoriesButton.focus():this.domNode.querySelector(".js-setup-categories").focus()};F.prototype._editCategories=function(G){G.stopPropagation();this.checkReadonly()||(this.isMemberCategories?(this.isMemberCategoriesOpen=!0,this.renderMemberCategoriesModal()):(G={user:this.portalUser,portal:this.portal,rootNode:this.rootNode},this.group&&(G.group=p["default"].mixin({},this.group)),this._categoryEdit=
new x["default"](G,f["default"].place(f["default"].create("div"),document.body,"last")),this._categoryEdit.open()))};F.prototype.renderMemberCategoriesModal=function(){y.render(y.h(D["default"],{active:!0,memberCategories:this.categories,categoryCount:this.categoryCount,telemetry:this.telemetry,onClose:this.closeCategoriesModal}),this.domNode)};F.prototype._categoriesToDom=function(G,H,I){var N=this;return(null===G||void 0===G?0:G.length)?(G=G.reduce(function(M,J){var R,Z,T=H+"/"+(J.title||J.name),
X=T.toLowerCase(),aa=(null===(R=J.categories)||void 0===R?0:R.length)?N._categoriesToDom(J.categories,T):"";R=(null===(Z=J.categories)||void 0===Z?0:Z.length)?"is-parent":"";Z=J.isActive?"is-active":"";var fa=(J.description||"").replace(/"/g,"\x26quot;");return M+w["default"].substitute(a["default"],{isActive:Z,isParent:R,title:J.displayName||J.title||J.name,description:fa,children:aa,path:T,normalizedPath:X,icons:A["default"]})},""),I?G:w["default"].substitute(c["default"],{categories:G,icons:A["default"]})):
""};F.prototype._addTooltips=function(){k["default"](".js-filter-tree-link",this.domNode).forEach(function(G){var H=G.getAttribute("data-category-description");0<(null===H||void 0===H?void 0:H.length)&&new l["default"]({connectId:G,label:"\x3cspan class\x3d'text-constrain-narrow display-block text-left padding-left-quarter padding-right-quarter'\x3e"+H+"\x3c/span\x3e"})})};F.prototype._addUncategorized=function(){this.isMemberCategories&&(t["default"].contentCategories.uncategorized=t["default"].memberCategories.noAssigned);
this.domNode.querySelector(".js-uncategorized").innerHTML=w["default"].substitute(b["default"],{i18n:t["default"]});this.own(k["default"](".js-filter-tree-link-uncategorized",this.domNode).on("click",this._toggleUncategorizedFilter.bind(this)))};F.prototype._clickHandler=function(G){G.preventDefault();G=G.target.parentElement;var H=h["default"].contains(G,"is-active"),I=h["default"].contains(G,"is-parent"),N=0<k["default"](G.parentElement).closest(".js-filter-tree-item").length,M=[G],J=G;if(N)for(;h["default"].contains(J.parentElement.parentElement,
"js-filter-tree-item");)J=J.parentElement.parentElement,M.push(J);H?(M.forEach(function(R){h["default"].remove(R,"is-active")}),k["default"](G).removeClass("is-active"),k["default"](".js-filter-tree-item.is-active",G).removeClass("is-active")):(k["default"](".js-filter-tree-item",this.domNode).removeClass("is-active"),M.forEach(function(R){h["default"].add(R,"is-active")}),I&&(G=M.reduce(function(R,Z){return R+Z.offsetTop},0),this.domNode.parentElement.scrollTop=G));this._updateState()};F.prototype._toggleUncategorizedFilter=
function(G){G.preventDefault();(this.uncategorizedSelected=!this.uncategorizedSelected)?(k["default"](".js-filter-tree-item.is-active",this.domNode).removeClass("is-active"),this.domNode.querySelector(".js-filter-tree-item-uncategorized").classList.add("is-active"),this._selected=[],u["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||t["default"].contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,selected:[{active:!0,value:"_none_",
label:t["default"].contentCategories.uncategorized,q:"categories:none",simpleLabel:t["default"].contentCategories.uncategorized}],rootNode:this.rootNode})):this.deselectAll();this._setClearVisibility()};F.prototype._updateState=function(G){var H=this,I=this._param||"categories";this._selected=k["default"](".js-filter-tree-item.is-active",this.domNode).map(function(N){var M=N.getAttribute("data-category-name");N=N.getAttribute("data-category-path");return{active:!0,value:H.rootNode+N,label:M,q:w["default"].substitute('${paramName}:( "${categoryPath}")',
{paramName:I,categoryPath:H.rootNode+N})}});k["default"](".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this.uncategorizedSelected=!1;u["default"].publish((this.topicPrefix||"")+"filter/update",{chipText:this._chipText||t["default"].contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,isLoading:G,selected:0<this._selected.length&&[this._selected[this._selected.length-1]]||[],rootNode:this.rootNode});this._setClearVisibility();this._updateAria()};
F.prototype._setClearVisibility=function(){h["default"][0<this._selected.length||this.uncategorizedSelected?"remove":"add"](this._clearButton,"hide")};F.prototype._clear=function(){k["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");k["default"](".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this._selected=[];this.uncategorizedSelected=!1;this._updateState(!0);this._setClearVisibility()};F.prototype._remove=function(G){G.param===this._param&&this._clear()};
F.prototype._updateCounts=function(G){var H=this;if("groupCategories"===G.fieldName&&this.group||!this.group&&"categories"===G.fieldName){k["default"](".js-category-count",this.domNode).forEach(function(N){return N.innerHTML=""});var I=new RegExp(this.rootNode.toLowerCase()+"/");G.fieldValues.filter(function(N){return N.value.toLowerCase()!==H.rootNode.toLowerCase()}).map(function(N){return{value:N.value.replace(I,"/"),count:N.count}}).forEach(function(N){try{var M=H.domNode.querySelector('.js-category-count[data-category-path\x3d"'+
N.value+'"]');M&&(M.innerHTML="("+N.count+")")}catch(J){}})}};F.prototype.updateCategorizedMembers=function(G){var H=this;this.categoryCount=G;k["default"](".js-category-count",this.domNode).innerHTML("");Object.keys(G).forEach(function(I){var N=I.replace(/\/categories\//,"/");try{var M=H.domNode.querySelector('.js-category-count[data-category-path\x3d"'+N.toLowerCase()+'"]');M&&(M.innerHTML="("+G[I]+")")}catch(J){}});this.isMemberCategoriesOpen&&this.renderMemberCategoriesModal()};F.prototype._updateAria=
function(){k["default"](".js-filter-tree-item",this.domNode).forEach(function(G){return G.setAttribute("aria-expanded",h["default"].contains(G,"is-active"))})};return F=n.__decorate([q["default"](z["default"],r["default"],B["default"],g["default"])],F)}()})},"arcgisonline/pages/dijit/CategoryEdit":function(){define("require exports tslib dojo/_base/lang dojo/dom-construct dojo/Deferred dojo/promise/all dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/categories ../utils/alerts ../utils/formatters ../utils/icons ../utils/getLivingAtlasCategorySet ./Overlay ../portal/Portal ../../esriGeowConfig dojo/text!./CategoryEdit/templates/CategoryEdit.html dojo/text!./CategoryEdit/templates/Node.html dojo/text!./CategoryEdit/templates/Group.html dojo/text!./CategoryEdit/templates/_count.html dojo/text!./CategoryEdit/templates/_standard.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);
v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);return function(){function F(G,H){this.title=E["default"].contentCategories.configureCategories;this.overlayContents=k["default"].substitute(v["default"],{i18n:E["default"]},null,e["default"]);this.unsavedChangesText=E["default"].contentCategories.errors.unsavedChangesExplain;this.i18n=E["default"];this.constrain=!0;this.showActionBar=this.isCreate=
!1}F.prototype.postMixInProperties=function(){this.inherited(arguments);this.categories=this.group&&q["default"].clone(this.group.categorySchema)||q["default"].clone(this.portal.categories);this.rootNode=l["default"].getRootNode(this.categories);if(!this.portal.queryItems){var G=this.portal.id;this.portal=new m["default"](q["default"].clone(this.portal));this.portal.id=G}"//"===this.portal.url.slice(-2)&&(this.portal.url=this.portal.url.slice(0,this.portal.url.length-1));this.group&&(this.i18n.contentCategories=
q["default"].mixin(this.i18n.contentCategories,this.i18n.groupCategories));this.overlayContents=k["default"].substitute(v["default"],{i18n:E["default"]},null,e["default"]);if(!this.categories||1>this.categories.length)this.showActionBar=this.isCreate=!0,this.title=E["default"].contentCategories.setUpCategories,this.categories=[{title:"Categories",categories:[]}]};F.prototype.postCreate=function(){var G=this,H,I;this.inherited(arguments);this.domNode.querySelector(".js-category-container").innerHTML=
this.categoriesToDom(this.categories[0].categories);this.updateSubmit();this.isCreate?(f["default"]({livingAtlas:b["default"](this.portal,"LivingAtlas"),iso:b["default"](this.portal,"ISO"),inspire:b["default"](this.portal,"Inspire")}).then(function(M){G.standardSets={livingAtlas:M.livingAtlas[0],iso:M.iso[0],inspire:M.inspire[0]};G.buildStandardSets()}),this.domNode.querySelector(".js-category-setup-explanation").classList.remove("hide"),this.domNode.querySelector(".js-category-edit-explanation").classList.add("hide"),
this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){G.domNode.querySelector(".js-category-item-input").focus()},300)):(this.domNode.querySelector(".js-content-loading").classList.remove("is-active"),this.domNode.querySelector(".js-category-wrapper").classList.remove("hide"),g["default"](".js-category-edit-li",this.domNode).addClass("is-open"));this.addCategoryListeners();this.drag=z["default"]([].slice.call(this.domNode.querySelectorAll(".js-category-group")),
{moves:function(M,J,R){return R.classList.contains("js-toggle-item")||R.classList.contains("js-category-edit-item")},accepts:function(M,J,R,Z){return J===R}});this.drag.on("drop",function(M){M.classList.contains("is-editing")||(G.updateState(),G.updateSchema().then(function(J){}))});this.updateCounts();var N=(null===(I=null===(H=this.portal)||void 0===H?void 0:H.portalUser)||void 0===I?void 0:I.userRole)||t["default"].userRole||{};this.domNode.classList[this.group||N.canUpdateOrgItems()?"add":"remove"]("can-renameDeleteFromSchema")};
F.prototype.destroy=function(){this.inherited(arguments)};F.prototype.close=function(G){this.isCreate&&(this.cleanUp(!0),this.hasCategories()&&!G&&(this.unsavedChangesText=E["default"].contentCategories.errors.unsavedChangesExplain,this.setUnsaved(!0)));u["default"].publish("category-edit/close");this.inherited(arguments)};F.prototype.handleCancel=function(){u["default"].publish("category-edit/cancel");this.inherited(arguments)};F.prototype.handlePrimary=function(){this.submit()};F.prototype.addCategoryListeners=
function(){var G=this,H=function(I,N,M){M.target.classList.contains(I)&&N.bind(G)(M)};this.own(g["default"](this.domNode).on("click",function(I){H("js-toggle-item",G.toggleOpen,I);H("js-add-sibling",G.addCategory,I);H("js-category-edit-button",G.editNode,I);H("js-category-cancel-edit",G.cancelEditNode,I);H("js-edit-confirm",G.confirmEdit,I);H("js-cancel-edit",G.cancelEdit,I);H("js-category-edit-submit",G.saveEdit,I);H("js-category-delete-button",G.initiateDelete,I);H("js-cancel-delete",G.cancelDelete,
I);H("js-delete-confirm",G.confirmDelete,I)}),g["default"](this.domNode).on("input",function(I){H("js-category-item-input",G.validateInput,I)}))};F.prototype.buildStandardSets=function(){var G=this,H=this.domNode.querySelector(".js-standard-categories-nav");Object.keys(this.standardSets).forEach(function(I){var N,M,J=G.standardSets[I],R=J.title;J=J.snippet;var Z=(null===(N=G.portal.helpMap)||void 0===N?void 0:N.m)||(null===(M=t["default"].self.helpMap)||void 0===M?void 0:M.m)||{};N={inspire:"reference/content-categories.htm#CATEGORY_INSPIRE",
iso:"reference/content-categories.htm#CATEGORY_ISO",livingAtlas:"reference/content-categories.htm#CATEGORY_ARCGIS"};M={inspire:Z["120001582"]||"",iso:Z["120001581"]||"",livingAtlas:Z["120001580"]||""};p["default"].place(k["default"].substitute(D["default"],{key:I,title:R,description:J,i18n:E["default"],helpBase:G.portal.helpBase||"https://doc.arcgis.com/en/arcgis-online/",helpLink:G.portal.isPortal?M[I]:N[I]}),H)});this.own(g["default"](".js-category-setup-option",this.domNode).on("click",this.toggleStandard.bind(this)),
g["default"](".js-category-setup-option",this.domNode).on("keyup",function(I){"Enter"!==I.key&&"Space"!==I.key||G.toggleStandard(I)}));g["default"](".js-content-loading",this.domNode).removeClass("is-active");g["default"](".js-category-wrapper",this.domNode).removeClass("hide")};F.prototype.toggleStandard=function(G){if(G.target.classList.contains("js-category-setup-option")){var H=G.target.getAttribute("data-category-set"),I=this.domNode.querySelector(".js-category-setup-option.is-active").getAttribute("data-category-set"),
N=!0;g["default"](".js-category-setup-option",this.domNode).removeClass("is-active");G.target.classList.add("is-active");if(I===H)return!1;"custom"===I&&"custom"!==H&&(this.customBackup=n.__spreadArray([],this.categories[0].categories).filter(function(M){return""!==M.title}));"custom"===H&&"custom"!==I&&(this.categories[0].categories=n.__spreadArray([],this.customBackup));"custom"!==H&&(this.categories[0].categories=this.standardSets[H].categorySchema[0].categories);this.domNode.querySelector(".js-category-container").innerHTML=
this.categoriesToDom(this.categories[0].categories);"custom"!==H||this.hasCategories()||(this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),this.domNode.querySelector(".js-category-item-input").focus(),N=!1);this.updateState();this.updateSubmit();this.setUnsaved(N)}};F.prototype.toggleOpen=function(G){G.preventDefault();G=G.target.parentNode;var H=G.classList.contains("is-open");G.classList[H?"remove":"add"]("is-open")};F.prototype.addCategory=function(G){this.cleanUp();if(0===
this.domNode.querySelectorAll(".js-category-edit-li.is-editing").length){var H=G.target.parentNode;G=G.target.getAttribute("data-category-path")||"";var I=2>(G.match(RegExp("/","g"))||[]).length?"is-parent":"",N={path:G,categories:"",i18n:E["default"],isOpen:"is-open",ariaText:E["default"].contentCategories.addSub,icons:a["default"]};I={isOpen:"is-open",children:I?k["default"].substitute(B["default"],N,null,e["default"]):"",title:"",path:G,i18n:E["default"],isParent:I,saveText:this.isCreate?E["default"].contentCategories.add:
E["default"].common.save,icons:a["default"]};H=Array.prototype.slice.call(H.children).filter(function(M){return M.classList.contains("js-add-sibling")}).shift();N=document.createElement("div");N.innerHTML=k["default"].substitute(A["default"],I,null,e["default"]);I=N.querySelector(".js-category-edit-li");p["default"].place(I,H,"before");G||H.setAttribute("aria-label",E["default"].contentCategories.addCat);I.classList.add("is-editing");I.querySelector(".js-category-item-input").focus();this.updateSubmit()}};
F.prototype.editNode=function(G){G.preventDefault();this.cleanUp();var H=g["default"](G.target).closest(".js-category-edit-item").shift();G=g["default"](G.target).closest(".js-category-edit-li").shift();H.classList.add("is-editing");G.classList.add("is-editing");H.querySelector(".js-category-edit-submit").disabled=!0;H=H.querySelector(".js-category-item-input");H.focus();H.select();this.updateSubmit()};F.prototype.cancelEditNode=function(G){G.preventDefault();var H=g["default"](G.target).closest(".js-category-edit-item").shift();
G=g["default"](G.target).closest(".js-category-edit-li").shift();var I=H.getAttribute("data-current-category"),N=H.querySelector(".js-category-item-input-error"),M=H.querySelector(".js-category-item-input");I?(H.classList.remove("is-editing"),G.classList.remove("is-editing"),M.value=I,M.classList.remove("input-error"),N.classList.remove("is-active")):this.hasCategories()||!this.isCreate||1<g["default"](".js-category-edit-li.is-editing",this.domNode).length?p["default"].destroy(H.parentNode):(M.value=
"",M.classList.remove("input-error"),N.classList.remove("is-active"),M.focus(),G.querySelector(".js-category-edit-submit").setAttribute("disabled","true"));this.updateSubmit()};F.prototype.saveEdit=function(G){var H=this;G.preventDefault();var I=g["default"](G.target).closest(".js-category-edit-item").shift(),N=I.parentNode,M=I.getAttribute("data-current-category"),J=N.getAttribute("data-category-path"),R=I.querySelector(".js-category-item-input").value;G=N.querySelector(".js-category-group \x3e .js-add-sibling");
if(M){var Z=J.split("/");Z.pop();Z.push(R);var T=Z.join("/");G&&G.setAttribute("data-category-path",T);this.isCreate?(N.querySelector(".js-category-edit-title").innerHTML=R,I.classList.remove("is-editing"),N.classList.remove("is-editing"),N.setAttribute("data-category-path",T),I.setAttribute("data-current-category",R),g["default"](".js-category-edit-li",N).forEach(function(X){var aa=X.getAttribute("data-category-path").replace(J,T);X.setAttribute("data-category-path",aa)}),this.updateState(),this.updateSchema().then(function(){},
function(X){return 0})):this.searchCategoryItems({category:J,num:1}).then(function(X){if(0<X.total){var aa=N.querySelector(".js-category-edit-warning"),fa=aa.querySelector(".js-edit-confirm"),oa=E["default"].contentCategories[1===X.total?"categoryInUseEditSingle":"categoryInUseEditPlural"];I.classList.add("category-edit-item__disabled");I.classList.remove("is-editing");N.classList.remove("is-editing");var ua=k["default"].substitute(x["default"],{path:T,num:X.total});N.querySelector(".js-category-edit-title").innerHTML=
R+ua;N.querySelector(".js-category-in-use-edit-explanation").innerHTML=k["default"].substitute(oa,{number:X.total,category:M,newCategory:R});aa.classList.remove("hide");fa.setAttribute("data-category-path",J);fa.setAttribute("data-category",M);fa.setAttribute("data-new-category",R);fa.setAttribute("data-new-category-path",T);fa.focus()}else N.querySelector(".js-category-edit-title").innerHTML=R,I.classList.remove("is-editing"),N.classList.remove("is-editing"),N.setAttribute("data-category-path",T),
I.setAttribute("data-current-category",R),g["default"](".js-category-edit-li",N).forEach(function(ha){var U=ha.getAttribute("data-category-path").replace(J,T);ha.setAttribute("data-category-path",U)}),H.updateState(),H.updateSchema().then(function(){},function(ha){return 0})})}else(Z=J+"/"+R,G&&(G.setAttribute("data-category-path",Z),G.setAttribute("aria-label",k["default"].substitute(E["default"].contentCategories.addSubCategoryOf,{category:R}))),I.setAttribute("data-current-category",R),I.querySelector(".js-category-edit-title").innerHTML=
R,N.setAttribute("data-category-path",Z),N.classList.remove("is-editing"),this.isCreate&&I.classList.remove("is-editing"),this.updateState(),this.isCreate)?this.cleaningUp||M||(this.setUnsaved(!0),I.querySelector(".js-category-edit-submit").innerHTML=E["default"].contentCategories.update,(G=(G=N.parentNode)&&G.children&&G.children[G.children.length-1])&&this.addCategory({target:G})):this.updateSchema().then(function(){},function(X){return 0})};F.prototype.confirmEdit=function(G){var H=this,I=g["default"](G.target).closest(".js-category-edit-li").shift(),
N=G.target.getAttribute("data-category-path"),M=G.target.getAttribute("data-new-category"),J=G.target.getAttribute("data-new-category-path"),R=I.querySelector(".js-category-edit-item");G=I.querySelector(".js-category-edit-warning");var Z=I.querySelector(".js-category-loader"),T=I.querySelector(".js-category-loader-bar"),X=I.querySelector(".js-loading-message");G.classList.add("hide");I.setAttribute("data-category-path",J);R.setAttribute("data-current-category",M);g["default"](".js-category-edit-li",
I).forEach(function(aa){var fa=aa.getAttribute("data-category-path").replace(N,J);aa.querySelector(".js-category-count").setAttribute("data-category-path",fa);aa.setAttribute("data-category-path",fa)});Z.classList.remove("hide");X.innerHTML="";T.style.width="0%";this.searchCategoryItems({category:N,num:1}).then(function(aa){aa={length:aa.total,oldCategory:N,newCategory:J,loader:Z};H.enableButtons(!1);H.bulkEditCategory(aa).then(function(fa){H.updateState();H.updateSchema().then(function(oa){Z.classList.add("hide");
R.classList.remove("category-edit-item__disabled");H.enableButtons(!0);u["default"].publish("items/refresh",{forcedDelay:2E3});u["default"].publish("view/deselectAll")},function(oa){})})})};F.prototype.cancelEdit=function(G){G.preventDefault();var H=g["default"](G.target).closest(".js-category-edit-li").shift();G=this.rootNode.toLowerCase()+H.getAttribute("data-category-path");var I=H.querySelector(".js-category-edit-item"),N=I.getAttribute("data-current-category"),M=H.querySelector(".js-category-edit-warning"),
J=I.querySelector(".js-category-edit-title"),R=I.querySelector(".js-category-item-input");H=(H=H.querySelector(".js-category-count"))&&H.innerHTML||"";R.value=N;M.classList.add("hide");I.classList.remove("category-edit-item__disabled");J.innerHTML="\n      "+N+'\n      \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"'+G+'"\x3e\n        '+H+"\n      \x3c/span\x3e\n    ";this.updateSubmit()};F.prototype.initiateDelete=function(G){var H=this;this.cleanUp();G.preventDefault();
var I=g["default"](G.target).closest(".js-category-edit-item"),N=g["default"](G.target).closest(".js-category-edit-li").shift(),M=N.getAttribute("data-category-path");I.addClass("category-edit-item__disabled");this.isCreate?this.deleteCategory(M):this.searchCategoryItems({category:M,num:1}).then(function(J){if(0<J.total){var R=N.querySelector(".js-category-edit-delete-warning");R.classList.remove("hide");var Z=E["default"].contentCategories[1===J.total?"categoryInUseDeleteSingle":"categoryInUseDeletePlural"];
N.querySelector(".js-category-in-use-explanation").innerHTML=k["default"].substitute(Z,{number:J.total});R.querySelector(".js-delete-confirm").focus()}else H.deleteCategory(M)},function(J){return 0})};F.prototype.cancelDelete=function(G){G=g["default"](G.target).closest(".js-category-edit-li").shift();var H=G.querySelector(".js-category-edit-delete-warning");G.querySelector(".js-category-edit-item").classList.remove("category-edit-item__disabled");H.classList.add("hide")};F.prototype.confirmDelete=
function(G){var H=this;G.preventDefault();var I=g["default"](G.target).closest(".js-category-edit-li").shift(),N=I.getAttribute("data-category-path");G=I.querySelector(".js-category-edit-delete-warning");var M=I.querySelector(".js-category-loader"),J=I.querySelector(".js-category-loader-bar");I=I.querySelector(".js-loading-message");G.classList.add("hide");M.classList.remove("hide");I.innerHTML="";J.style.width="0%";this.searchCategoryItems({category:N,num:1}).then(function(R){R={length:R.total,oldCategory:N,
loader:M};H.enableButtons(!1);H.bulkEditCategory(R).then(function(Z){H.deleteCategory(N);H.enableButtons(!0);u["default"].publish("items/refresh",{forcedDelay:2E3});u["default"].publish("view/deselectAll");setTimeout(function(){H.updateCounts()},1200)})})};F.prototype.validateInput=function(G){var H,I,N=l["default"].getSchemaOrder(this.categories).__total,M=g["default"](G.target).closest(".js-category-edit-li").shift(),J=g["default"](M.parentNode).closest(".js-category-edit-li").shift(),R=(null===
J||void 0===J?void 0:J.getAttribute("data-category-path"))||"/";J=(null===M||void 0===M?void 0:M.getAttribute("data-category-path")).replace(R,"");var Z=null===(I=null===(H=G.target)||void 0===H?void 0:H.value)||void 0===I?void 0:I.trim();I=g["default"](G.target).closest(".js-category-group").shift();var T=g["default"](G.target).closest(".js-category-edit-form").shift();H=T.querySelector(".js-category-item-input-error");T=T.querySelector(".js-category-edit-submit");var X=g["default"](G.target).closest(".js-category-edit-item").shift();
X=""!==(null===X||void 0===X?void 0:X.getAttribute("data-current-category"));I=I&&[].slice.call(I.children).filter(function(aa){return aa.classList.contains("category-editor-item")}).filter(function(aa){return aa!==M}).map(function(aa){return aa.getAttribute("data-category-path").replace(R,"").toLowerCase().split("/").pop()});200<N&&!X?(G.target.classList.add("input-error"),H.innerHTML=E["default"].contentCategories.errors.tooMany,H.classList.add("is-active"),T.disabled=!0):0===Z.length?(G.target.classList.remove("input-error"),
H.classList.remove("is-active"),T.disabled=!0):0<this.checkCharacters(Z).length?(G.target.classList.add("input-error"),H.innerHTML=k["default"].substitute(E["default"].contentCategories.errors.charsNotAllowed,{chars:this.checkCharacters(Z).join(" ")}),H.classList.add("is-active"),T.disabled=!0):100<Z.length?(G.target.classList.add("input-error"),H.innerHTML=E["default"].contentCategories.errors.tooLong,H.classList.add("is-active"),T.disabled=!0):Z===J?(G.target.classList.remove("input-error"),H.classList.remove("is-active"),
T.disabled=!0):-1<I.indexOf(Z.toLowerCase())?(G.target.classList.add("input-error"),H.innerHTML=k["default"].substitute(E["default"].contentCategories.errors.alreadyExists,{name:Z}),H.classList.add("is-active"),T.disabled=!0):(G.target.classList.remove("input-error"),H.classList.remove("is-active"),T.disabled=!1);this.updateSubmit()};F.prototype.checkCharacters=function(G){return"\"'/\\`#%\x3c\x3e\x26".split("").filter(function(H){return-1<G.indexOf(H)}).map(function(H){return"\x3ccode\x3e"+H+"\x3c/code\x3e"})};
F.prototype.bulkEditCategory=function(G){var H=this,I=G.loader,N=G.length,M=G.oldCategory,J=G.newCategory;G=Math.floor(N/100)+1;var R=[],Z=I.querySelector(".js-category-loader-bar"),T=I.querySelector(".js-loading-message"),X=50/N,aa=0,fa=0;Z.style.width="0%";T.innerHTML="";this.setUnsaved(!0);for(var oa=u["default"].subscribe("categorySchema/loading",function(ha,U){"update"===U&&(fa+=ha,fa>N&&(fa=N),T.innerHTML=k["default"].substitute(E["default"].contentCategories.updatingProgress,{current:fa,total:N}));
aa+=ha*X;Z.style.width=aa+"%"}),ua=0;ua<G;ua++)R.push({category:M,start:100*ua,num:100,loader:I});I=R.map(function(ha){return H.searchCategoryItems(ha)});return f["default"](I).then(function(ha){return ha.map(function(U){return U.results.map(function(ka){var W={},Q=H.transformCategories(M,J,ka.categories);W[ka.id]=H.group?Q:{categories:Q};return W})})}).then(function(ha){ha=ha.map(function(U){return H.updateItems(U)});return f["default"](ha)}).then(function(ha){oa.remove();H.setUnsaved(!1);H.unsavedChangesText=
E["default"].contentCategories.errors.unsavedChangesExplain;return ha})};F.prototype.transformCategories=function(G,H,I){return H?I.map(function(N){return N.replace(G,H)}):I.filter(function(N){return 0>N.indexOf(G)})};F.prototype.deleteCategory=function(G){var H=this;g["default"](".js-category-edit-li",this.domNode).forEach(function(I){var N=I.getAttribute("data-category-path");N!==G&&encodeURIComponent(N)!==encodeURIComponent(G)||p["default"].destroy(I)});this.updateState();1!==this.categories.length||
0!==this.categories[0].categories.length||this.isCreate?(this.setUnsaved(!0),this.updateSchema().then(function(){},function(I){return 0})):this.deleteCategorySchema().then(function(I){H.setUnsaved(!1);u["default"].publish("categorySchema/updated",null,!!H.group);H.close()},function(I){I&&I.messageCode&&"GWM_0021"===I.messageCode&&d["default"].showAlert("error",I.message)})};F.prototype.updateState=function(){this.categories[0].categories=this.domToCategories(this.domNode.querySelector(".js-category-group"));
this.drag&&(this.drag.containers=[].slice.call(this.domNode.querySelectorAll(".js-category-group")));this.updateSubmit()};F.prototype.updateSubmit=function(){if(this.isCreate){var G=this.hasCategories();G||(G=0<Array.prototype.slice.call(this.domNode.querySelectorAll(".js-category-edit-li.is-editing")).filter(function(H){return!H.querySelector(".js-category-edit-submit").disabled}).length);this._primaryBtn.disabled=!G;this.cleaningUp||this.setUnsaved(G)}};F.prototype.domToCategories=function(G){var H=
this,I=[];Array.prototype.slice.call(G.children).filter(function(N){return N.classList.contains("category-editor-item")}).forEach(function(N){var M={title:N.querySelector(".js-category-edit-item").getAttribute("data-current-category").trim(),isOpen:N.classList.contains("is-open")};0<N.querySelectorAll(".js-category-group").length&&(M.categories=H.domToCategories(N.querySelector(".js-category-group")));I.push(M)});return I};F.prototype.categoriesToDom=function(G,H){var I=this;H=H||"";var N=(G||[]).reduce(function(M,
J){J.title=J.title.trim();var R=J.displayName?J.displayName:J.title,Z=H?H+"/"+J.title:"/"+J.title,T=3>(Z.match(RegExp("/","g"))||[]).length?"is-parent":"",X={path:Z,categories:"",i18n:E["default"],ariaText:E["default"].contentCategories.addSub};X=T?k["default"].substitute(B["default"],X,null,e["default"]):"";X=J.categories&&T?I.categoriesToDom(J.categories,Z):X;return M+k["default"].substitute(A["default"],{isOpen:J.isOpen&&T?"is-open":"",icons:a["default"],title:R,path:Z,isParent:T,children:X,i18n:E["default"],
saveText:I.isCreate?E["default"].contentCategories.update:E["default"].common.save},null,e["default"])},"");return k["default"].substitute(B["default"],{i18n:E["default"],path:H||"",categories:N,ariaText:H?E["default"].contentCategories.addSub:E["default"].contentCategories.addCat},null,e["default"])};F.prototype.updateSchema=function(G){var H=this;this.categories[0].categories=this.categories[0].categories.map(l["default"].cleanSchema);var I=this.group&&this.portal.portalUrl+"community/groups/"+
this.group.id,N=(this.portal.portalUrl||this.portal.url)+"portals/"+this.portal.id;I={url:(this.group?I:N)+"/assignCategorySchema",content:{categorySchema:JSON.stringify({categorySchema:this.categories})}};if(!this.isCreate||G)return this.setUnsaved(),r["default"].request(I,{usePost:!0}).then(function(M){M.success&&(d["default"].showAlert("success",E["default"].contentCategories.success),u["default"].publish("categorySchema/updated",H.categories,!!H.group),u["default"].publish("category-edit/save-success"));
M.error&&d["default"].showAlert("error",M.error.details[0]);return M},function(M){d["default"].showAlert("error",M.message)});G=new h["default"];G.resolve(!0);return G};F.prototype.enableButtons=function(G){g["default"](".js-category-edit-actions",this.domNode)[G?"removeClass":"addClass"]("visually-hidden")};F.prototype.hasCategories=function(){var G,H,I;return 0<(null===(I=null===(H=null===(G=this.categories)||void 0===G?void 0:G[0])||void 0===H?void 0:H.categories)||void 0===I?void 0:I.length)&&
0<this.categories[0].categories.filter(function(N){return""!==N.title}).length};F.prototype.searchCategoryItems=function(G){var H=G.category,I=G.start;I=void 0===I?0:I;G=G.num;var N=void 0===G?100:G;G="orgid: "+this.portal.id;H=JSON.stringify([this.rootNode+(void 0===H?"":H)]);H={start:I,num:N,categories:this.group?H:encodeURIComponent(H)};this.token&&(H.token=this.token.slice(7,this.token.length));if(this.group)return r["default"].request({url:this.portal.url+"content/groups/"+this.group.id+"/search",
content:H}).then(function(M){u["default"].publish("categorySchema/loading",M.results&&M.results.length||0);M.results=M.results.map(function(J){return l["default"].simplifyItemObject(J,!0)});return M},function(M){});H.q=G;return this.portal.queryItems(H).then(function(M){var J;u["default"].publish("categorySchema/loading",(null===(J=M.results)||void 0===J?void 0:J.length)||0);M.results=M.results.map(function(R){return l["default"].simplifyItemObject(R)});return M},function(M){return 0})};F.prototype.updateCounts=
function(){var G=this,H={portal:this.portal};this.group&&(H.group=this.group);l["default"].getCounts(H).then(function(I){if(G.domNode){g["default"](".js-category-count",G.domNode).forEach(function(M){return M.innerHTML=""});var N=new RegExp(G.rootNode.toLowerCase()+"/");I.filter(function(M){return M.value.toLowerCase()!==G.rootNode.toLowerCase()}).map(function(M){return{value:M.value.replace(N,"/"),count:M.count}}).forEach(function(M){if(M.value&&0<M.value.length)try{var J=G.domNode.querySelector('.js-category-count[data-category-path\x3d"'+
M.value+'"]');J&&(J.innerHTML="("+M.count+")")}catch(R){}})}},function(I){return 0})};F.prototype.updateItems=function(G){return r["default"].request({url:this.portal.url+"content/"+(this.group?"groups/"+this.group.id+"/updateCategories":"updateItems"),content:{items:JSON.stringify(G)}},{usePost:!0}).then(function(H){u["default"].publish("categorySchema/loading",G.length||0,"update");return H},function(H){"GWM_0021"===(null===H||void 0===H?void 0:H.messageCode)&&d["default"].showAlert("error",H.message)})};
F.prototype.deleteCategorySchema=function(){return r["default"].request({url:""+this.portal.url+(this.group?"community/groups/"+this.group.id:"portals/"+this.portal.id)+"/deleteCategorySchema"},{usePost:!0})};F.prototype.submit=function(){var G=this,H,I,N;this.isCreate&&(this.cleanUp(!0),0<(null===(N=null===(I=null===(H=this.categories)||void 0===H?void 0:H[0])||void 0===I?void 0:I.categories)||void 0===N?void 0:N.length)?this.updateSchema(!0).then(function(M){G.setUnsaved(!1);G.close(!0);d["default"].showAlert("success",
E["default"].contentCategories.success);u["default"].publish("categorySchema/updated",G.categories,!!G.group)},function(M){return 0}):(d["default"].showAlert("error",E["default"].contentCategories.errors.schemaEmpty),this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){G.domNode.querySelector(".js-category-item-input").focus()},300)))};F.prototype.cleanUp=function(G){this.cleaningUp=!0;g["default"](".js-category-edit-li.is-editing",this.domNode).forEach(function(H){var I=
H.querySelector(".js-category-edit-submit"),N=H.querySelector(".js-category-item-input"),M=N.classList.contains("input-error")&&G;H=H.querySelector(".js-category-cancel-edit");(""===N.value||M?H:I).click()});this.updateState();this.cleaningUp=!1};return F=n.__decorate([y["default"](C["default"],w["default"],c["default"])],F)}()})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal":function(){define("require exports tslib preact preact/hooks preact/compat ./CategoryNode ./AddCategoryButton ../helpers ../api arcgisonline/pages/utils/alerts arcgisonline/pages/utils/timeout arcgisonline/pages/utils/a11y dragula/dragula dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/topic".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e){function a(m){return"\"'/\\`#%\x3c\x3e\x26".split("").filter(function(t){return-1<m.indexOf(t)}).map(function(t){return"\x3ccode\x3e"+t+"\x3c/code\x3e"})}function b(m,t,v){return m=m.map(function(A){var B;if(-1<A.path.indexOf(t)){if(null===(B=A.categories)||void 0===B?0:B.length)A.categories=b(A.categories,t,v);return n.__assign(n.__assign({},A),{path:A.path.replace(t,v)})}return n.__assign({},A)})}var c=this;Object.defineProperty(K,"__esModule",{value:!0});
f=n.__importDefault(f);g=n.__importDefault(g);w=n.__importDefault(w);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);K["default"]=function(m){var t=m.active,v=m.telemetry,A=m.onClose,B=m.memberCategories,x=m.categoryCount,D=n.__assign(n.__assign(n.__assign({},l["default"].common),l["default"].contentCategories),l["default"].memberCategories.modal);m=p.useState((null===B||void 0===B?0:B.length)?k.updateMemberCount(k.convertToCategoryData(B),
x):[{title:"Categories",path:"/Categories",categories:[{title:"",path:"/Categories/",categories:[],isEditing:!0,saveDisabled:!0}]}]);var E=m[0],y=m[1];m=p.useState(null);var F=m[0],G=m[1];B=p.useState((null===B||void 0===B?0:B.length)?JSON.stringify(B):'[{"title":"Categories"}]');var H=B[0],I=B[1];B=p.useState(!1);m=B[0];var N=B[1],M=p.useRef(null),J=p.useRef(null),R=p.useRef(null),Z=function(ja){return n.__awaiter(c,void 0,void 0,function(){return n.__generator(this,function(la){switch(la.label){case 0:return[4,
u.saveCategorizedMembers(ja)];case 1:return la.sent(),[4,C.timeout(300)];case 2:return la.sent(),[2]}})})},T=function(ja,la){return n.__awaiter(c,void 0,void 0,function(){var na,ra;return n.__generator(this,function(va){switch(va.label){case 0:return[4,u.searchUsersWithCategory(ja)];case 1:return na=va.sent(),ra=k.updateCategorizedMembers(na,ja,la),[4,Z(ra)];case 2:return va.sent(),[2]}})})},X=function(ja,la,na){na=n.__assign(n.__assign({},na),{path:na.path.replace(ja,la)});na.categories&&(na.categories=
na.categories.map(function(ra){return X(ja,la,ra)}));return na},aa=function(ja,la,na){return n.__awaiter(c,void 0,void 0,function(){var ra,va,za,Aa,Ba,Oa,Ja;return n.__generator(this,function(xa){switch(xa.label){case 0:return ra=JSON.parse(ja.dataset.data),va=ra.path,za=la.dataset.path,Aa=za+"/"+ra.title,Ba=X(va,Aa,ra),ja.dataset.data=JSON.stringify(Ba),Oa=Array.from(la.childNodes).filter(function(Ea){return Ea.classList.contains("member-category")&&Ea.dataset.data}).map(function(Ea){return JSON.parse(Ea.dataset.data)}),
la===na?[3,2]:[4,T(va,Aa)];case 1:xa.sent(),xa.label=2;case 2:return Ja={},Object.keys(x).forEach(function(Ea){Ea===va.toLowerCase()?Ja[Aa.toLowerCase()]=x[Ea]:Ja[Ea]=x[Ea]}),y(function(Ea){Ea=n.__spreadArray([],Ea);if(la!==na){var sa=na.dataset.path;Ea=k.removeCategoryFromSrc(sa,va,Ea);Oa=k.removeCategoryFromSrc(sa,va,Oa)}Ea=k.reorderCategories(Aa,Oa,Ea);return Ea=k.updateMemberCount(Ea,Ja)}),[2]}})})},fa=function(ja,la,na){z["default"].postToLiveRegion(k.getNodePositionText(ja,d["default"].reorder["new"]));
aa(ja,la,na)},oa=function(ja,la){var na=!ja.sorting;na&&z["default"].postToLiveRegion(d["default"].reorder.started+" "+k.getNodePositionText(la,d["default"].reorder.current));y(function(ra){return k.clearEditOrAddProperties(k.toggleSorting(ja.path,na,ra))})},ua=function(){return[].slice.call(M.current.querySelectorAll(".member-categories-list"))};p.useEffect(function(){if(M.current&&!F){var ja=r["default"](ua(),{moves:function(la,na,ra){return ra.classList.contains("category-edit-item__drag-handle")||
ra.classList.contains("category-edit-item__drag-icon")},accepts:function(la,na,ra,va){va=k.getCategoryLevel(na.dataset.path);var za=k.getDraggedLevel(la);return!(ra!==na&&k.isDuplicateTitle(na,la))&&!(ra!==na&&3<va+za)&&!la.contains(na)&&!na.classList.contains("member-category__sub-placeholder")&&!na.classList.contains("member-categories-list--deepest")}});ja.on("drop",aa);G(ja)}},[M]);p.useEffect(function(){J.current&&J.current.setFocus("close-button")},[J]);var ha=function(ja){return n.__awaiter(c,
void 0,void 0,function(){var la,na,ra;return n.__generator(this,function(va){switch(va.label){case 0:return(la=!(null===(na=ja[0].categories)||void 0===na?0:na.length))?[4,u.deleteMemberCategoriesSchema()]:[3,2];case 1:return va.sent(),[3,4];case 2:return null===v||void 0===v?void 0:v.logEvent({category:"member category",action:"config schema",count:null===(ra=ja[0].categories)||void 0===ra?void 0:ra.length,size:k.getCategoryCount(ja)}),[4,u.saveMemberCategories(ja)];case 3:va.sent(),va.label=4;case 4:return e["default"].publish("member-categories-and-count/update",
{categories:la?[]:ja}),w["default"].showAlert("success",D.saveSuccess),la&&(e["default"].publish("member-categories/delete-all"),y([{title:"Categories",path:"/Categories",categories:[{title:"",path:"/Categories/",categories:[],isEditing:!0,saveDisabled:!0}]}])),[2]}})})};p.useEffect(function(){F&&G(function(na){na.containers=ua();return na});var ja=k.removeExtraProperties(k.removeEmptyCategories(E)),la=JSON.stringify(ja);H!==la&&(I(la),ha(ja))},[E]);p.useEffect(function(){y(function(ja){return k.updateMemberCount(ja,
x)})},[x]);var U=function(ja,la,na){return!ja.trim().length||!!ka(ja,la)||ja.trim()===na},ka=function(ja,la){if(200<k.getCategoryCount(E))return D.errors.tooMany;var na=a(ja);if(0<na.length)return na=na.join(" "),D.errors.charsNotAllowed.replace("${chars}",na);if(k.getSiblings(la,E).some(function(ra){return ra.title===ja.trim()}))return D.errors.alreadyExists.replace("${name}",ja)},W=function(ja,la,na){return na.map(function(ra){var va;if(la===ra.path)return n.__assign(n.__assign({},ra),{errorMessage:ka(ja,
la),saveDisabled:U(ja,la,ra.title)});if(null===(va=ra.categories)||void 0===va?0:va.length)ra.categories=W(ja,la,ra.categories);return n.__assign({},ra)})},Q=function(ja,la){y(function(na){return n.__spreadArray([],W(ja,la,na))})},L=function(ja,la,na,ra,va){void 0===ra&&(ra=0);void 0===va&&(va="Categories");var za=k.getCategoryLevel(la);return na.map(function(Aa){var Ba;if(za===ra)return la===Aa.path&&(Aa=n.__assign(n.__assign({},Aa),{categories:b(Aa.categories,Aa.path+"/",va+"/"+ja+"/"),title:ja,
path:va+"/"+ja,isEditing:!1})),n.__assign({},Aa);if(null===(Ba=Aa.categories)||void 0===Ba?0:Ba.length)Aa.categories=L(ja,la,Aa.categories,ra+1,Aa.path);return n.__assign({},Aa)})},ca=function(ja,la,na){return n.__awaiter(c,void 0,void 0,function(){var ra;return n.__generator(this,function(va){switch(va.label){case 0:if(!na)return[3,2];ra=k.getParentPath(la);return[4,T(la,ra+"/"+ja)];case 1:va.sent(),va.label=2;case 2:return y(function(za){za=n.__spreadArray([],za);za=na?k.updateFinishEditing(la,
!0,za):k.updateFinishAdding(k.getParentPath(la),!0,za);za=L(ja,la,za);za[0].finishAdding&&window.setTimeout(function(){R.current.focus()},100);return za}),N(!1),[2]}})})},Y=1===E[0].categories.length&&!E[0].categories[0].title,da=function(ja){N(!1);Y||(ja.title?y(function(la){return k.updateFinishEditing(ja.path,!0,k.updateIsEditing(ja.path,!1,k.removeEmptyCategories(la)))}):y(function(la){la=k.updateFinishAdding(k.getParentPath(ja.path),!0,k.removeEmptyCategories(la));la[0].finishAdding&&R.current.focus();
return la}))},S=function(ja){N(!0);y(function(la){return k.clearEditOrAddProperties(k.updateIsEditing(ja.path,!0,k.removeEmptyCategories(la)))})},P=function(ja){Y||(N(!0),y(function(la){la=k.removeEmptyCategories(la);la=k.addCategory(ja,la);la=k.clearEditOrAddProperties(la);return n.__spreadArray([],la)}))},V=function(ja){return n.__awaiter(c,void 0,void 0,function(){var la,na;return n.__generator(this,function(ra){switch(ra.label){case 0:return Y?[2]:[4,u.searchUsersWithCategory(ja.path)];case 1:return la=
ra.sent(),na=k.removeCategoriesFromMembers(la,ja.path),[4,Z(na)];case 2:return ra.sent(),y(function(va){va=k.updateFinishAdding(k.getParentPath(ja.path),!0,k.removeCategory(ja.path,va));va[0].finishAdding&&R.current.focus();return va}),[2]}})})},ba=function(ja){y(function(la){return k.toggleCollapsed(ja,la)})},ea=1===E[0].categories.length,ia=ea&&!E[0].categories[0].title;return q.h(q.Fragment,null,t&&h.createPortal(q.h("calcite-modal",{role:"dialog","aria-modal":"true",scale:"l",width:1460,noPadding:!0,
active:t,backgroundColor:"grey",oncalciteModalClose:A,"aria-labelledby":"member-categories-modal-title",ref:J,intlClose:D.close,disableOutsideClose:!0},q.h("h3",{slot:"header","class":"font-size-2 trailer-0",id:"member-categories-modal-title"},D.configureTitle),q.h("div",{slot:"content",ref:M},q.h("div",{"class":"member-categories__edit-mask "+(m?"":"hide")}),q.h("div",{"class":"column-14 post-1 leader-1 trailer-1 member-categories__content"},q.h("div",{"class":"category-editor-group category-editor-group--spaced member-categories__root-container",
role:"application"},q.h("ul",{id:"root-member-category-list",role:"group","class":"member-categories-list","data-path":"/Categories"},E[0].categories.map(function(ja,la){return q.h(f["default"],{key:ja.path+"-"+la,data:ja,isParent:!0,isEditing:ea||!ja.title,noCategoryYet:ia,onChange:Q,onSave:ca,onEdit:S,onCancel:da,onDelete:V,onAddSubCategory:P,onCollapsedToggle:ba,onPositionChange:fa,onSortingToggle:oa})}),q.h(g["default"],{buttonRef:R,level:1,onClick:function(){return P("/Categories")},disabled:ea&&
!E[0].categories[0].title})))),q.h("div",{"class":"column-8 leader-1 padding-leader-half margin-right-1"},q.h("p",{"class":"font-size--1"},D.editDescription)))),document.body))}})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryNode":function(){define("require exports tslib preact preact/hooks ./AddCategoryButton ../helpers ./CategoryConfirm arcgisonline/pages/utils/formatters dojo/i18n!../../../../nls/arcgisonline dojo/string".split(" "),function(O,K,n,q,p,h,f,g,k,
u,w){Object.defineProperty(K,"__esModule",{value:!0});h=n.__importDefault(h);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);var C=function(z){var r,l,d=z.data,e=z.isParent,a=z.noCategoryYet,b=z.onEdit,c=z.onCancel,m=z.onChange,t=z.onSave,v=z.onDelete,A=z.onAddSubCategory,B=z.onCollapsedToggle,x=z.onPositionChange,D=z.onSortingToggle;z=n.__assign(n.__assign(n.__assign(n.__assign({},u["default"].common),u["default"].orgHomePageSetup.content),u["default"].contentCategories),
u["default"].memberCategories.modal);var E="category-editor-"+k["default"].hyphenate(d.title)+"-input",y=p.useState(d.title),F=y[0],G=y[1];y=p.useState(!1);var H=y[0],I=y[1];y=p.useState(!1);var N=y[0],M=y[1],J=p.useRef(null),R=p.useRef(null),Z=p.useRef(null),T=p.useRef(null),X=p.useRef(null),aa=p.useRef(null);p.useEffect(function(){d.sorting&&Z.current&&Z.current.focus()},[Z,d.sorting]);p.useEffect(function(){if(d.isEditing){var Q=R.current;Q.focus();Q.select();Q.scrollIntoView({block:"center"})}},
[d.isEditing]);p.useEffect(function(){T.current&&d.finishAdding&&setTimeout(function(){T.current.focus()},100)},[T,d.finishAdding]);p.useEffect(function(){X.current&&d.finishEditing&&X.current.focus()},[X,d.finishEditing]);var fa=function(){var Q=F.trim();d.title!==Q&&0<d.memberCount?M(!0):t(Q,d.path,0<d.title.length)};y=d.isEditing&&!N?"is-editing":"";var oa=function(){I(!1);aa.current.focus()},ua=function(){I(!1);v(d)},ha=d.memberCount?1===d.memberCount?z.inUseDeleteSingle:z.inUseDeletePlural.replace("${number}",
""+d.memberCount):"",U;H&&d.memberCount&&(U=q.h(g["default"],{message:ha,confirmText:z.deleteCategory,isRed:!0,onCancel:oa,onConfirm:ua}));H=d.memberCount?1===d.memberCount?w["default"].substitute(z.inUseEditSingle,{category:d.title,newCategory:F}):w["default"].substitute(z.inUseEditPlural,{number:d.memberCount,category:d.title,newCategory:F}):"";var ka=function(Q){return!!Q&&!Q.classList.contains("member-category-node__placeholder")&&!Q.classList.contains("member-category__add-sibling")};N&&d.memberCount&&
(U=q.h(g["default"],{message:H,confirmText:z["continue"],onConfirm:function(){M(!1);t(F,d.path,0<d.title.length)},onCancel:function(){M(!1);c(d)}}));H={__html:d.errorMessage};oa=(oa="rtl"===document.documentElement.dir)&&d.collapsed?"chevron-left":!oa&&d.collapsed?"chevron-right":"chevron-down";ua=f.getCategoryLevel(d.path);ha=3<=ua;var W=0<(null===(r=d.categories)||void 0===r?void 0:r.length)||3>f.getCategoryLevel(d.path);r=""+(N?F:d.title)+(d.memberCount?" ("+d.memberCount+")":"");N="rtl"===document.documentElement.dir;
return q.h("li",{ref:J,"class":"member-category "+(d.collapsed?"":"is-open")+" "+(e?"is-parent":"")+" "+(d.hidden?"hide":"")+" "+y+" member-category--level-"+ua+" js-member-category-node",role:"treeitem","data-title":d.title,"data-path":d.path,"data-data":JSON.stringify(d)},q.h("span",{"class":"member-category-edit-item"},q.h("div",{"class":"flex flex-align-center member-category-edit-item__info "+(d.sorting?"member-category-edit-item__info--sorting":"")},q.h("div",{ref:Z,"class":"category-edit-item__drag-handle flex-center tooltip tooltip-bottom-"+
(N?"right":"left"),tabIndex:0,onKeyDown:function(Q){var L=J.current;if(" "===Q.key||"Enter"===Q.key){var ca=!0;D(d,J.current)}else if("ArrowDown"===Q.key&&d.sorting)ka(L.nextElementSibling)&&(ca=!0,L.nextElementSibling.insertAdjacentElement("afterend",L),L=L.parentElement,x(J.current,L,L));else if("ArrowUp"===Q.key&&d.sorting)ka(L.previousElementSibling)&&(ca=!0,L.parentElement.insertBefore(L,L.previousElementSibling),L=L.parentElement,x(J.current,L,L));else if("ArrowRight"===Q.key&&d.sorting){var Y=
L.previousElementSibling,da=L.parentElement;if(ka(Y)){Y=Y.querySelector(".member-categories-list");var S=f.getCategoryLevel(Y.dataset.path),P=f.getDraggedLevel(L);3>=S+P&&ka(Y)&&!f.isDuplicateTitle(Y,L)&&!Y.classList.contains("member-categories-list--deepest")&&(ca=!0,Y.appendChild(L),x(J.current,Y,da))}}else"ArrowLeft"===Q.key&&d.sorting&&(da=L.parentElement,Y=da.closest("li.member-category"),S=null===Y||void 0===Y?void 0:Y.parentElement,ka(Y)&&ka(S)&&!f.isDuplicateTitle(S,L)&&"root-member-category-list"!==
Y.id&&(Y.insertAdjacentElement("afterend",L),ca=!0,x(J.current,S,da)));ca&&Q.preventDefault()},onBlur:function(){d.sorting&&D(d,J.current)},"aria-label":z.reorder},q.h("calcite-icon",{"class":"category-edit-item__drag-icon",icon:"drag",scale:"s"})),q.h("button",{"class":"btn-link btn-link-darker-gray member-category__toggle-btn tooltip "+(ha?"hide":""),onClick:function(){e&&B(d.path)},"aria-label":""+(d.collapsed?z.expand:z.collapse)},q.h("calcite-icon",{icon:oa,scale:"s"})),q.h("div",{"class":"member-category-edit-item__title"},
r),q.h("div",{"class":"flex-1"}),q.h("button",{"class":"tooltip category-edit-item--action member-category-edit-item__edit-btn margin-right-1","aria-label":z.editCategory,onClick:function(){G(d.title);b(d)},ref:X},q.h("calcite-icon",{icon:"pencil",scale:"s"})),q.h("button",{ref:aa,"class":"tooltip category-edit-item--action member-category-edit-item__delete-btn margin-right-1","aria-label":z.deleteCategory,onClick:function(){0<d.memberCount?I(!0):v(d)}},q.h("calcite-icon",{icon:"trash",scale:"s"}))),
q.h("form",{"class":"member-category-edit-item__form member-category__form flex",onSubmit:function(Q){return Q.preventDefault()}},q.h("label",{"class":"flex-1 overflow-visible trailer-0","for":E},q.h("span",{"class":"screen-readers-only"},z.categoryName),q.h("input",{id:E,ref:R,type:"text",value:F,"class":"category-edit-form__input member-category__form-input "+(d.errorMessage?"input-error":""),onInput:function(Q){Q=Q.target.value;m(Q,d.path);G(Q)},onKeyDown:function(Q){"Enter"!==Q.key||d.saveDisabled||
(Q.preventDefault(),fa())},autoComplete:"off",maxLength:100}),q.h("div",{"class":"input-error-message "+(d.errorMessage?"is-active":""),dangerouslySetInnerHTML:H})),q.h("span",{"class":"member-category-edit-item__form-actions"},q.h("button",{"class":"tooltip tooltip-bottom btn-link category-edit-form__action member-category-edit-item__form-action category-edit-form__action--green",type:"button","aria-label":z.save,onClick:fa,disabled:d.saveDisabled},q.h("calcite-icon",{icon:"check"})),q.h("button",
{"class":"tooltip tooltip-bottom btn-link category-edit-form__action member-category-edit-item__form-action",onClick:function(){a?R.current.focus():(c(d),X.current.focus())},"aria-label":z.cancel,type:"button",disabled:a},q.h("calcite-icon",{icon:"x"}))))),U,q.h("div",{"class":"category-editor-group category-editor-group--spaced member-category__spacer "+(d.collapsed?"hide":"")},q.h("ul",{id:"member-category-sub-list-"+d.path,role:"group","class":"member-categories-list "+(ha?"member-categories-list--deepest":
""),"data-path":""+d.path},W&&(null===(l=d.categories)||void 0===l?void 0:l.map(function(Q,L){var ca=f.getCategoryLevel(d.path);return q.h(C,{key:Q.path+"-"+L,data:Q,isParent:3>ca,isEditing:!Q.title,noCategoryYet:a,onChange:m,onSave:t,onEdit:b,onCancel:c,onDelete:v,onAddSubCategory:A,onCollapsedToggle:B,onPositionChange:x,onSortingToggle:D})})),q.h("li",{"class":"member-category member-category-node__placeholder "+(ha?"member-category-node__placeholder--deepest":"")},q.h("ul",{role:"group","class":"category-editor-group category-editor-group--spaced member-category__sub-placeholder "+
(ha||!d.title?"member-category__sub-placeholder--deepest":"")}))),d.title&&2>=f.getCategoryLevel(d.path)&&q.h(h["default"],{buttonRef:T,onClick:function(){return A(d.path)}})),d.collapsed&&q.h("div",{"class":"collapsed-member-category__placeholder"}))};K["default"]=C})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/AddCategoryButton":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../../nls/arcgisonline"],function(O,K,n,q,p){Object.defineProperty(K,
"__esModule",{value:!0});p=n.__importDefault(p);K["default"]=function(h){var f=h.level,g=h.onClick;return q.h("button",{ref:h.buttonRef,"class":"member-category__add-sibling tooltip tooltip-right","aria-label":p["default"].contentCategories.addCat,onClick:function(){return g(f)},disabled:h.disabled},q.h("calcite-icon",{icon:"plus-circle"}))}})},"arcgisonline/pages/components/MemberCategories/helpers":function(){define(["require","exports","tslib","arcgisonline/pages/utils/categories","dojo/string"],
function(O,K,n,q,p){function h(J){J=J.filter(function(R){return R.title}).map(function(R){return n.__assign({},R)});J.forEach(function(R){var Z;if(null===(Z=R.categories)||void 0===Z?0:Z.length)R.categories=h(R.categories)});return J}function f(J,R,Z){return Z.map(function(T){var X;return T.path===J?n.__assign(n.__assign({},T),{finishAdding:R}):(null===(X=T.categories)||void 0===X?0:X.length)?n.__assign(n.__assign({},T),{finishAdding:!1,categories:f(J,R,T.categories)}):n.__assign(n.__assign({},T),
{finishAdding:!1})})}function g(J,R,Z){return Z.map(function(T){var X;return T.path===J?n.__assign(n.__assign({},T),{finishEditing:R,errorMessage:""}):(null===(X=T.categories)||void 0===X?0:X.length)?n.__assign(n.__assign({},T),{finishEditing:!1,errorMessage:"",categories:g(J,R,T.categories)}):n.__assign(n.__assign({},T),{finishEditing:!1,errorMessage:""})})}function k(J){return J.map(function(R){var Z;R=n.__assign(n.__assign({},R),{finishAdding:!1,finishEditing:!1});if(null===(Z=R.categories)||void 0===
Z?0:Z.length)R=n.__assign(n.__assign({},R),{categories:k(R.categories)});return R})}function u(J,R,Z,T){void 0===T&&(T=!1);Z=Z.map(function(X){var aa;if(X.path&&X.path===J&&!T)return T=!0,n.__assign(n.__assign({},X),{isEditing:R,saveDisabled:!0});(null===(aa=X.categories)||void 0===aa?0:aa.length)&&!T&&(X.categories=u(J,R,X.categories,T));return n.__assign({},X)});return n.__spreadArray([],Z)}function w(J,R,Z){return Z.map(function(T){var X=n.__spreadArray([],T.categories||[]);X.length&&(X=w(J,R,
X));return T.path&&T.path===J?n.__assign(n.__assign({},T),{sorting:R,categories:X}):n.__assign(n.__assign({},T),{sorting:!1,categories:X})})}function C(J){return J.categories.map(function(R){var Z;if(null===(Z=R.categories)||void 0===Z?0:Z.length)R.categories=C(R);return n.__assign(n.__assign({},R),{selected:!1,indeterminate:!1})})}function z(J){var R;return!(null===(R=J.categories)||void 0===R||!R.length)&&J.categories.some(function(Z){var T;return Z.selected||Z.indeterminate||!(null===(T=Z.categories)||
void 0===T||!T.length)&&z(Z)})}function r(J,R){return R.map(function(Z){var T;Z=n.__assign({},Z);if(null===(T=Z.categories)||void 0===T?0:T.length)Z.categories=r(J,Z.categories);-1<J.indexOf(Z.path)&&(Z.indeterminate=z(Z));return Z})}function l(J,R,Z,T){void 0===Z&&(Z=!1);void 0===T&&(T=[]);var X=!J.selected;return R.map(function(aa){var fa,oa;if(aa.path&&aa.path===J.path&&!Z)return Z=!0,!X&&(null===(fa=aa.categories)||void 0===fa?0:fa.length)&&(aa.categories=C(aa)),X?n.__assign(n.__assign({},aa),
{selected:X,indeterminate:!1}):n.__assign(n.__assign({},aa),{selected:X});(null===(oa=aa.categories)||void 0===oa?0:oa.length)&&!Z&&(-1<J.path.indexOf(aa.path)&&aa.path!==K.rootTitle&&(aa=n.__assign(n.__assign({},aa),{selected:X}),X?aa.indeterminate=!1:T.push(aa.path)),aa.categories=l(J,aa.categories,Z,T));return n.__assign({},aa)})}function d(J){return-1<J.indexOf(K.rootTitle)?J:""+K.rootTitle+J}function e(J,R){void 0===R&&(R=[]);J.forEach(function(Z){var T;if(Z.selected||Z.indeterminate)null!==
(T=Z.categories)&&void 0!==T&&T.some(function(X){return X.selected||X.indeterminate})?e(Z.categories,R):Z.selected&&R.push(Z.path)});return R}function a(J,R){void 0===R&&(R=[]);J.forEach(function(Z){var T;Z.indeterminate&&R.push(Z.path);(null===(T=Z.categories)||void 0===T?0:T.length)&&a(Z.categories,R)});return R}function b(J,R){var Z=q["default"].getSchemaOrder(R);return n.__spreadArray([],J).sort(function(T,X){return Z[T]-Z[X]})}function c(J,R){return R.map(function(Z){var T,X=J.filter(function(aa){var fa;
return null===(fa=aa.categories)||void 0===fa?void 0:fa.some(function(oa){var ua;return d(oa)===Z.path||(null===(ua=Z.categories)||void 0===ua?void 0:ua.length)&&-1<d(oa).indexOf(Z.path)})});X.length?X.length===J.length?Z=n.__assign(n.__assign({},Z),{selected:!0,indeterminate:!1}):X.length<J.length&&(Z=n.__assign(n.__assign({},Z),{selected:!1,indeterminate:!0})):Z=n.__assign(n.__assign({},Z),{selected:!1,indeterminate:!1});if(null===(T=Z.categories)||void 0===T?0:T.length)Z.categories=c(J,Z.categories);
return n.__assign({},Z)})}function m(J){return J.map(function(R){var Z,T={title:R.title};if(null===(Z=R.categories)||void 0===Z?0:Z.length)T.categories=m(R.categories);return T})}function t(J,R){void 0===R&&(R="");return J.map(function(Z){var T,X=(R?R+"/":"/")+Z.title;return{title:Z.title,path:X,categories:(null===(T=Z.categories)||void 0===T?0:T.length)?t(Z.categories,X):[]}})}function v(J,R){return R?J.map(function(Z){var T,X=n.__assign({},Z);Z=Z.path.toLowerCase();X.memberCount=R[Z]||0;if(null===
(T=X.categories)||void 0===T?0:T.length)X.categories=v(X.categories,R);return X}):J}function A(J,R){void 0===R&&(R=1);var Z=J.querySelector(":scope \x3e .category-editor-group \x3e .member-categories-list \x3e .js-member-category-node");return Z?(R++,A(Z,R)):R}function B(J,R){return R.map(function(Z){if(Z.path===J){var T={title:"",categories:[],isEditing:!0,path:Z.path+"/",saveDisabled:!0};return n.__assign(n.__assign({},Z),{categories:n.__spreadArray(n.__spreadArray([],Z.categories),[T])})}return-1<
J.indexOf(Z.path)&&(null===(T=Z.categories)||void 0===T?0:T.length)?n.__assign(n.__assign({},Z),{categories:B(J,Z.categories)}):n.__assign({},Z)})}function x(J,R){return R.map(function(Z){var T;if(J===Z.path)return n.__assign(n.__assign({},Z),{collapsed:!Z.collapsed});if(null===(T=Z.categories)||void 0===T?0:T.length)Z.categories=x(J,Z.categories);return n.__assign({},Z)})}function D(J,R){var Z=J.substring(0,J.lastIndexOf("/")),T=[];R.some(function(X){if(X.path===Z)return T=X.categories.filter(function(aa){return aa.path!==
J}),!0;if(-1<J.indexOf(X.path+"/"))return T=D(J,X.categories),!0});return T}function E(J){return J.substring(0,J.lastIndexOf("/"))}function y(J,R,Z){return Z.map(function(T){var X;T.path===J?T.categories=T.categories.filter(function(aa){return aa.path!==R}):-1<R.indexOf(T.path)&&(null===(X=T.categories)||void 0===X?0:X.length)&&(T.categories=y(J,R,T.categories));return n.__assign({},T)})}function F(J,R,Z){var T=J.substring(0,J.lastIndexOf("/"));return Z.map(function(X){var aa;X.path===T?X.categories=
R:-1<J.indexOf(T)&&(null===(aa=X.categories)||void 0===aa?0:aa.length)&&(X.categories=F(J,R,X.categories));return n.__assign({},X)})}function G(J,R){var Z=E(J);R.some(function(T){if(T.path===Z)return T.categories=T.categories.filter(function(X){return X.path!==J}),!0;if(-1<J.indexOf(T.path+"/"))return T.categories=G(J,T.categories),!0});return n.__spreadArray([],R)}function H(J,R){return R.map(function(Z){var T;if(null===(T=Z.categories)||void 0===T?0:T.length)Z.categories=H(J,Z.categories);return n.__assign(n.__assign({},
Z),{searchTerm:J,hidden:!N(J,Z)})})}function I(J,R){return R.map(function(Z){return n.__assign(n.__assign({},Z),{categories:n.__spreadArray([],Z.categories||[])})}).filter(function(Z){var T,X,aa=-1<Z.path.search(new RegExp(J,"i"));if(null===(T=Z.categories)||void 0===T?0:T.length)Z.categories=I(J,Z.categories);return aa||0<(null===(X=Z.categories)||void 0===X?void 0:X.length)})}function N(J,R){var Z;return-1<R.title.search(new RegExp(J,"i"))||!J?!0:(null===(Z=R.categories)||void 0===Z?0:Z.length)?
R.categories.some(function(T){return N(J,T)}):!1}function M(J,R){void 0===R&&(R=0);J.forEach(function(Z){var T;"/Categories"!==Z.path&&R++;if(null===(T=Z.categories)||void 0===T?0:T.length)R=M(Z.categories,R)});return R}Object.defineProperty(K,"__esModule",{value:!0});K.getCategoryCount=K.matchSearchTerm=K.filterCategoriesBySearchTerm=K.searchCategories=K.removeCategory=K.reorderCategories=K.removeCategoryFromSrc=K.getParentPath=K.getSiblings=K.toggleCollapsed=K.removeCategoriesFromMembers=K.updateCategorizedMembers=
K.addCategory=K.getDraggedLevel=K.isDuplicateTitle=K.getCategoryLevel=K.updateMemberCount=K.convertToCategoryData=K.removeExtraProperties=K.updateSelectedFromMembers=K.updateMembersFromSelected=K.sortCategoryPaths=K.getPartialPath=K.getFullPath=K.toggleSelected=K.fixDeselectedParents=K.getNodePositionText=K.toggleSorting=K.updateIsEditing=K.clearEditOrAddProperties=K.updateFinishEditing=K.updateFinishAdding=K.removeEmptyCategories=K.rootTitle=void 0;q=n.__importDefault(q);p=n.__importDefault(p);K.rootTitle=
"/Categories";K.removeEmptyCategories=h;K.updateFinishAdding=f;K.updateFinishEditing=g;K.clearEditOrAddProperties=k;K.updateIsEditing=u;K.toggleSorting=w;K.getNodePositionText=function(J,R){var Z=Array.from(J.parentElement.children).filter(function(X){return!X.classList.contains("member-category-node__placeholder")&&!X.classList.contains("member-category__add-sibling")}),T=Z.length;Z=Z.findIndex(function(X){return X===J})+1;return p["default"].substitute(R,{n:Z,total:T})};K.fixDeselectedParents=r;
K.toggleSelected=l;K.getFullPath=d;K.getPartialPath=function(J){return J.replace(new RegExp(K.rootTitle+"/"),"/")};K.sortCategoryPaths=b;K.updateMembersFromSelected=function(J,R){var Z=e(R[0].categories),T=a(R[0].categories);return J.map(function(X){X.categories||(X.categories=[]);X.categories=X.categories.filter(function(aa){return-1<Z.indexOf(aa)||-1<T.indexOf(aa)});Z.forEach(function(aa){var fa=X.categories.some(function(oa){return-1<oa.indexOf(aa)});-1!==X.categories.indexOf(aa)||fa||X.categories.push(aa)});
return n.__assign(n.__assign({},X),{categories:b(X.categories,R)})})};K.updateSelectedFromMembers=c;K.removeExtraProperties=m;K.convertToCategoryData=t;K.updateMemberCount=v;K.getCategoryLevel=function(J){return J.match(/\//g).length-1};K.isDuplicateTitle=function(J,R){var Z=R.dataset.title,T=!1;J.querySelectorAll(":scope \x3e li.member-category:not(.gu-transit)").forEach(function(X){X.dataset.title===Z&&(T=!0)});return T};K.getDraggedLevel=A;K.addCategory=B;K.updateCategorizedMembers=function(J,
R,Z){Object.keys(J).forEach(function(T){var X=[];J[T].map(function(aa){return aa.replace(R,Z)}).forEach(function(aa){if(!X.find(function(oa){return-1<oa.indexOf(aa)})){var fa=X.findIndex(function(oa){return-1<aa.indexOf(oa)});-1<fa?X.splice(fa,1,aa):X.push(aa)}});J[T]=X});return n.__assign({},J)};K.removeCategoriesFromMembers=function(J,R){Object.keys(J).forEach(function(Z){J[Z]=J[Z].filter(function(T){T=d(T);return T!==R&&-1===T.indexOf(R)})});return n.__assign({},J)};K.toggleCollapsed=x;K.getSiblings=
D;K.getParentPath=E;K.removeCategoryFromSrc=y;K.reorderCategories=F;K.removeCategory=G;K.searchCategories=H;K.filterCategoriesBySearchTerm=I;K.matchSearchTerm=N;K.getCategoryCount=M})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryConfirm":function(){define("require exports tslib preact preact/hooks preact/compat dojo/i18n!../../../../nls/arcgisonline".split(" "),function(O,K,n,q,p,h,f){Object.defineProperty(K,"__esModule",{value:!0});f=n.__importDefault(f);K["default"]=
function(g){var k=g.message,u=g.confirmText,w=g.isRed,C=g.onConfirm,z=g.onCancel;g=n.__assign(n.__assign({},f["default"].common),f["default"].contentCategories);var r=p.useRef(null);p.useEffect(function(){r.current&&r.current.setFocus()},[r]);return q.h(q.Fragment,null,h.createPortal(q.h("calcite-modal",{role:"dialog","aria-modal":"true","aria-labelledby":"member-category-confirm",active:!0,intlClose:g.close,oncalciteModalClose:function(){return z()}},q.h("h3",{slot:"header","class":"font-size-2 trailer-0",
id:"member-category-confirm"},g.categoryInUse),q.h("div",{slot:"content"},q.h("p",{"class":"font-size--1 trailer-half"},k)),q.h("calcite-button",{slot:"secondary",width:"full",appearance:"outline",color:"blue",onClick:function(){return z()}},g.cancel),q.h("calcite-button",{ref:r,slot:"primary",width:"full",color:w?"red":"blue",appearance:"solid",onClick:function(){return C()}},u)),document.body))}})},"arcgisonline/pages/components/MemberCategories/api":function(){define("require exports tslib arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/pageUtil".split(" "),
function(O,K,n,q,p,h){Object.defineProperty(K,"__esModule",{value:!0});K.getMemberCategoriesCount=K.saveCategorizedMembers=K.searchUsersWithCategory=K.deleteMemberCategoriesSchema=K.getMemberCategories=K.saveMemberCategories=void 0;q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);var f=q["default"].restBaseUrl+"portals/self";K.saveMemberCategories=function(g){return n.__awaiter(this,void 0,void 0,function(){var k;return n.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,
2,,3]),k={memberCategorySchema:g},[4,p["default"].request({url:f+"/assignMemberCategorySchema",content:{memberCategorySchema:JSON.stringify(k)}},{usePost:!0})];case 1:return u.sent(),[2,!0];case 2:return u.sent(),[2,!1];case 3:return[2]}})})};K.getMemberCategories=function(){return n.__awaiter(this,void 0,void 0,function(){var g;return n.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,p["default"].request({url:f+"/memberCategorySchema"})];case 1:return g=k.sent(),
[2,(null===g||void 0===g?void 0:g.memberCategorySchema)||[]];case 2:return k.sent(),[2,[]];case 3:return[2]}})})};K.deleteMemberCategoriesSchema=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,p["default"].request({url:q["default"].restBaseUrl+"portals/self/deleteMemberCategorySchema"},{usePost:!0})];case 1:return g.sent(),[2,!0];case 2:return g.sent(),[2,!1];case 3:return[2]}})})};K.searchUsersWithCategory=
function(g){return n.__awaiter(this,void 0,void 0,function(){var k,u;return n.__generator(this,function(w){switch(w.label){case 0:k={},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,h["default"].fetchAllResources(f+"/users/search",{categories:g})];case 2:return u=w.sent(),(null===u||void 0===u?0:u.length)&&u.forEach(function(C){k[C.username]=C.categories}),[3,4];case 3:return w.sent(),[3,4];case 4:return[2,k]}})})};K.saveCategorizedMembers=function(g){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,
function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,Promise.all(Object.keys(g).map(function(u){return p["default"].request({url:q["default"].restBaseUrl+"community/users/"+u+"/update",content:{categories:JSON.stringify(g[u])}},{usePost:!0})}))];case 1:return k.sent(),[2,!0];case 2:return k.sent(),[2,!1];case 3:return[2]}})})};K.getMemberCategoriesCount=function(g){var k,u;return n.__awaiter(this,void 0,void 0,function(){var w,C;return n.__generator(this,function(z){switch(z.label){case 0:return z.trys.push([0,
2,,3]),[4,p["default"].request({url:f+"/users/search",content:{q:"orgid:"+g.id,countFields:"categories",countSize:200,num:0}})];case 1:return w=z.sent(),C=(null===(u=null===(k=null===w||void 0===w?void 0:w.aggregations)||void 0===k?void 0:k.counts[0])||void 0===u?void 0:u.fieldValues)||[],[2,C.reduce(function(r,l){"/categories"!==l.value&&(r[l.value]=l.count);return r},{})];case 2:return z.sent(),[3,3];case 3:return[2]}})})}})},"arcgisonline/pages/utils/timeout":function(){define(["require","exports"],
function(O,K){Object.defineProperty(K,"__esModule",{value:!0});K.timeout=void 0;K.timeout=function(n){return new Promise(function(q){return setTimeout(q,n)})}})},"arcgisonline/pages/dijit/SelectedMembers":function(){define("require exports tslib calcite-web/js/calcite-web dojo/on dojo/query dojo/topic dojo/text!./SelectedMembers/templates/SelectedMembers.html dojo/i18n!../../nls/arcgisonline dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../utils/culture ../utils/dom ./AssignLicenses/MembersSelectedSection ./AssignLicenses/MembersSelectedRow ../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);return function(){function a(b,c){this.templateString=g["default"];this.i18n=k["default"];this.floated=!0;this.buttonClasses="";this.allowRemovingAll=
!1;this.topic="";this._membersSectionsMap={};this._directionClass="right";this._sectionsClass="";this._rows=[]}a.prototype.postMixInProperties=function(){this.inherited(arguments);this._directionClass=this.alignLeft?"left":"right";this._sectionsClass=this.showSections?"":"max-height";this.floated||(this._directionClass="")};a.prototype.postCreate=function(){this.inherited(arguments);this._render();q["default"].dropdown();this._addListeners()};a.prototype.update=function(b){var c=this;this._updateDelay&&
clearTimeout(this._updateDelay);this._updateDelay=window.setTimeout(function(){c.members=b;u["default"].empty(c._selectedMembersPanel);Object.keys(c._membersSectionsMap).forEach(function(m){c._membersSectionsMap[m].section.destroy()});c._membersSectionsMap={};c._render()},10)};a.prototype.remove=function(b){var c=this;this.members=this.members.filter(function(m,t){var v;m.id===b.id&&(null===(v=c._rows[t])||void 0===v?void 0:v.destroy(),c._rows=c._rows.splice(t,1));return m.id!==b.id});this._updateMembersSelectedLabel()};
a.prototype.add=function(b){this.members.push(b);b=new d["default"]({member:b,topic:this.topic});this._selectedMembersPanel.appendChild(b.domNode);this._rows.push(b);this._updateMembersSelectedLabel()};a.prototype._render=function(){var b=this;this._updateMembersSelectedLabel();this.showSections?(this.members.forEach(function(c){var m=b._membersSectionsMap[c.licenseType.id];m?m.members.push(c):b._membersSectionsMap[c.licenseType.id]={licenseType:c.licenseType,members:[c]}}),Object.keys(this._membersSectionsMap).forEach(function(c){var m=
new l["default"](b._membersSectionsMap[c]);b._selectedMembersPanel.appendChild(m.domNode);b._membersSectionsMap[c].section=m})):(this._rows.forEach(function(c){return c.destroy()}),this.members.forEach(function(c){c=new d["default"]({member:c,topic:b.topic});b._selectedMembersPanel.appendChild(c.domNode);b._rows.push(c)}));this._adjustRemoveVisibility()};a.prototype._addListeners=function(){var b=this;this.own(f["default"].subscribe(this.topic+"selected-members-row/remove",this._onMembersRemove.bind(this)),
p["default"](this.toggleBtn,"click",function(){var c;b.domNode.classList.contains("is-active")&&(null===(c=b.telemetry)||void 0===c?void 0:c.logEvent({category:"Selection dropdown",action:"Show"}))}))};a.prototype._onMembersRemove=function(b){var c;null===(c=this.telemetry)||void 0===c?void 0:c.logEvent({category:"Selection dropdown",action:"Remove"});if(1<this.members.length&&!this.emitViewEvents){var m;this.members.forEach(function(t,v){t===b&&(m=v)});this.members.splice(m,1);this._membersSectionsMap[b.licenseType.id]?
this._membersSectionsMap[b.licenseType.id].section.removeMember(b):this._rows.forEach(function(t){t.member===b&&t.destroy()});this._updateMembersSelectedLabel();this._adjustRemoveVisibility();f["default"].publish(this.topic+"selected-members/remove")}else f["default"].publish(this.topic+"view/items/deselect",b)};a.prototype._updateMembersSelectedLabel=function(){this._membersSelectedLabel.textContent=z["default"].getString(this.i18n.myOrganization.manageLicenses.membersSelected,this.members.length)};
a.prototype._adjustRemoveVisibility=function(){1!==this.members.length||this.allowRemovingAll?r["default"].showNodes(h["default"](".member-selected-row__close-btn",this.domNode)):r["default"].hideNodes(h["default"](".member-selected-row__close-btn",this.domNode))};return a=n.__decorate([e["default"](C["default"],w["default"])],a)}()})},"arcgisonline/pages/dijit/AssignLicenses/MembersSelectedSection":function(){define("require exports tslib ./MembersSelectedRow ../../../tsutils/declareDecorator dojo/string dojo/text!./templates/MembersSelectedSection.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase".split(" "),
function(O,K,n,q,p,h,f,g,k,u){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);return function(){function w(C,z){this.templateString=f["default"];this.i18n=g["default"];this._rows=[]}w.prototype.postCreate=function(){var C=this;this.inherited(arguments);this._licenseTypesLabel.textContent=h["default"].substitute(this.i18n.myOrganization.manageLicenses.havingLicenseTypes,{licenseTypeName:this.licenseType.name});
this.members.forEach(function(z){z=new q["default"]({member:z});C._list.appendChild(z.domNode);C._rows.push(z)})};w.prototype.removeMember=function(C){this._rows.forEach(function(z){z.member===C&&z.destroy()});this._rows=this._rows.filter(function(z){return z.member!==C});0===this._rows.length&&this.destroy()};return w=n.__decorate([p["default"](u["default"],k["default"])],w)}()})},"arcgisonline/pages/dijit/AssignLicenses/MembersSelectedRow":function(){define("require exports tslib dojo/topic dojo/text!./templates/MembersSelectedRow.html dijit/_TemplatedMixin dijit/_WidgetBase ../MemberThumb ../../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);return function(){function u(w,C){this.templateString=p["default"];this.topic=""}u.prototype.postCreate=function(){this.inherited(arguments);this._memberThumb=new g["default"]({member:this.member,cssClasses:"assign-licenses__member-thumb margin-right-1"},this._memberThumb);this._removeBtn.addEventListener("click",this._onRemoveClick.bind(this))};
u.prototype._onRemoveClick=function(w){w.stopPropagation();q["default"].publish(this.topic+"selected-members-row/remove",this.member)};return u=n.__decorate([k["default"](f["default"],h["default"])],u)}()})},"arcgisonline/pages/group/widgets/UpdateGroupRoleOverlay":function(){define("require exports tslib preact esri/Evented dojo/i18n!../../../nls/arcgisonline arcgisonline/pages/dijit/Overlay arcgisonline/pages/components/Group/GroupRoleSelect arcgisonline/tsutils/declareDecorator".split(" "),function(O,
K,n,q,p,h,f,g,k){p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);return function(){function u(w,C){this.title=h["default"].GroupWidget.updateGroupRole;this.i18n=h["default"];this.overlayContents='\x3cdiv class\x3d"js-update-group-role__content padding-1"\x3e\x3c/div\x3e';this.maxWidth=600;this.constrain=!0;this.closeOnScrimClick=!1;this.users=[];this.selectedRole="admins";this.disableManagerRole=!1;this.handleChange=this.handleChange.bind(this)}
u.prototype.postMixInProperties=function(){this.inherited(arguments);1===this.users.length&&(this.title=h["default"].GroupWidget.updateRoleOverlay.oneUserTitle.replace("${fullname}",this.users[0].fullName))};u.prototype.handleChange=function(w){this.selectedRole=w;this.renderSelect()};u.prototype.renderSelect=function(){q.render(q.h(g["default"],{value:this.selectedRole,disableManager:this.disableManagerRole,onChange:this.handleChange}),this.domNode.querySelector(".js-update-group-role__content"))};
u.prototype.handlePrimary=function(){this.emit("save",{selectedRole:this.selectedRole})};u.prototype.open=function(){this.users.every(function(w){return"Member"===w.role})&&(this.selectedRole="users");this.renderSelect();this.inherited(arguments)};return u=n.__decorate([k["default"](f["default"],p["default"])],u)}()})},"arcgisonline/pages/components/Group/GroupRoleSelect":function(){define("require exports tslib preact ./GroupRoleOption dojo/i18n!../../../nls/arcgisonline".split(" "),function(O,K,
n,q,p,h){Object.defineProperty(K,"__esModule",{value:!0});p=n.__importDefault(p);h=n.__importDefault(h);K["default"]=function(f){var g=f.value,k=f.onChange;f=f.disableManager;var u=n.__assign({},h["default"].GroupWidget.updateRoleOverlay);return q.h("div",null,f&&q.h("p",null,u.managerDisabled),q.h(p["default"],{id:"manager-group-role",inputName:"manager-group-role",title:u.manager,description:u.managerDesc,value:"admins",onSelect:k,selected:"admins"===g,disabled:f}),q.h(p["default"],{id:"member-group-role",
inputName:"member-group-role",title:u.member,description:u.memberDesc,value:"users",selected:"users"===g,onSelect:k}))}})},"arcgisonline/pages/components/Group/GroupRoleOption":function(){define(["require","exports","preact"],function(O,K,n){Object.defineProperty(K,"__esModule",{value:!0});K["default"]=function(q){var p=q.id,h=q.title,f=q.description,g=q.value,k=q.onSelect,u=q.selected,w=q.disabled;return n.h("label",{"for":p,"class":"flex flex-align-center group-role-option trailer-0 "+(u?"group-role-option--selected":
"")+" "+(w?"group-role-option--disabled":""),onClick:function(){w||k(g)}},n.h("input",{type:"radio",id:p,name:q.inputName,checked:u,"class":"flex-0"}),n.h("div",{"class":"margin-left-1"},n.h("div",{"class":"avenir-bold"},h),n.h("p",{"class":"font-size--1 trailer-0"},f)))}})},"arcgisonline/sharing/dijit/dialog/thumbnailDialogs/CreateGroupThumbnailDlg":function(){define(["require","../ThumbnailDlg","esri/arcgis/Portal","dojo/topic"],function(O,K,n,q){return function(p){p=new K(p);(function(){this.suggestedSize=
this.i18n.GroupWidget.thumbnailDlg.sizeSpecGroup;this.aspectRatio=1;this.height=233;this.thumbnailSpecificationMsg=this.i18n.GroupWidget.thumbnailSpecification;this._handleImageData=function(h){q.publish("thumbnail/change",h);this._dlg.hide()};this.skipToEditor=function(h){this._validate(h)}}).call(p);return p}})},"arcgisonline/sharing/dijit/dialog/ThumbnailDlg":function(){define("require exports tslib esri/Evented dojo/_base/lang dojo/topic dojo/on dojo/dom-class dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ConfirmDialog ../../../pages/utils/dom ../../../pages/utils/icons ../../../esriGeowConfig dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/ThumbnailDlg.html ../../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b){function c(m){var t=atob(m.split(",")[1]);m=m.split(",")[0].split(":")[1].split(";")[0];for(var v=new ArrayBuffer(t.length),A=new Uint8Array(v),B=0;B<t.length;B++)A[B]=t.charCodeAt(B);return new Blob([v],{type:m})}q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);
l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);return function(){function m(){this.i18n=e["default"];this.baseClass="esriThumbnailDlg";this.templateString=a["default"];this.icons=l["default"];this.imgScale=1;this.imgDragging=!1;this.imgLeft=this.imgTop=0;this.prevLeft=this.prevTop=null;this.transformOrigin=[50,50];this.height=233;this.aspectRatio=1;this.imageHasBeenManipulated=!1;this.imageFormat="png"}m.prototype.postMixInProperties=
function(){var t;this.inherited(arguments);(null===(t=this.item)||void 0===t?0:t.portal)&&p["default"].mixin(this,{portal:this.item.portal,portalUser:this.item.portal.getPortalUser()})};m.prototype.startup=function(){this.inherited(arguments);return this._initUI()};m.prototype.showModal=function(){var t=this,v=new k["default"],A=new z["default"]({title:this.i18n.itemProperties.uploadThumbnail,buttonOk:this.i18n.common.ok,buttonCancel:this.i18n.common.cancel,busyMessage:this.i18n.addItemFrm.pleaseWait,
style:{width:"475px",height:"auto"}});this._dlg=A;A.setContent(this.domNode);A.show();A.actionBarNode.setAttribute("style","padding: 6px !important;");g["default"].add(this._dlg.okButton.domNode,"dlg-element-hide");this._difImageLink=document.createElement("button");this._difImageLink.innerHTML=l["default"].inline[d["default"].isRightToLeft?"chevron-right":"chevron-left"]["16"]+e["default"].GroupWidget.thumbnailDlg.difImage;this._difImageLink.className="btn-link inline-block font-size--2 left leader-quarter dlg-element-hide";
A.actionBarNode.appendChild(this._difImageLink);this.own(f["default"](this._difImageLink,"click",this._hideImageScale.bind(this)),f["default"](A,"ok",function(){t._getCanvasImage().then(t._handleImageData.bind(t),t._showError.bind(t))}),f["default"](A,"hide",function(){return v.resolve(t.item)}));return v};m.prototype._initUI=function(){var t=new k["default"];this._setSuggestedSize();this._initHandlers();t.resolve(!1);return t};m.prototype._setSuggestedSize=function(){this.suggestedSize&&(this._sizeSuggestion.textContent=
this.suggestedSize)};m.prototype._initHandlers=function(){this.own(f["default"](this._fileInput,"change",this._handleFileInputChange.bind(this)),f["default"](this._dragDropNode,"dragover",this._handleImageDragOver.bind(this)),f["default"](this._dragDropNode,"dragenter",this._handleImageDragOver.bind(this)),f["default"](this._dragDropNode,"drop",this._handleImageDrop.bind(this)),f["default"](this._zoomSlider,"input",this._handleZoomSliderChange.bind(this)),f["default"](this._zoomSlider,"change",this._handleZoomSliderChange.bind(this)),
f["default"](this._thumbTranslucentContainer,"mousedown",this._handleImageMouseDown.bind(this)),f["default"](this._thumbTranslucentContainer,"touchstart",this._handleImageMouseDown.bind(this)),f["default"](this._thumbTranslucentContainer,"mouseup",this._handleImageMouseUp.bind(this)),f["default"](this._thumbTranslucentContainer,"touchend",this._handleImageMouseUp.bind(this)),f["default"](this._thumbTranslucentContainer,"mouseout",this._handleImageMouseOut.bind(this)),f["default"](this._thumbTranslucentContainer,
"mousemove",this._handleImageMouseMove.bind(this)),f["default"](this._thumbTranslucentContainer,"touchmove",this._handleImageMouseMove.bind(this)),f["default"](this._cropNode,"wheel",this._handleImageWheel.bind(this)),f["default"](this._previewImage,"load",this._handleInputImageSize.bind(this)))};m.prototype._handleFileInputChange=function(t){this._validate(this._fileInput.files[0])};m.prototype._handleImageDragOver=function(t){t.preventDefault()};m.prototype._handleImageDrop=function(t){t.preventDefault();
t.dataTransfer.files[0]&&this._validate(t.dataTransfer.files[0])};m.prototype._handleZoomSliderChange=function(t){this.imgScale=Math.pow(1.1,t.target.value-50);this._updatePreviewImage()};m.prototype._handleImageMouseDown=function(t){t.preventDefault();this.imgDragging=!0};m.prototype._handleImageMouseUp=function(t){this.imgDragging=!1;this.prevLeft=this.prevTop=null};m.prototype._handleImageMouseOut=function(t){this.imgDragging=!1;this.prevLeft=this.prevTop=null};m.prototype._handleImageMouseMove=
function(t){if(this.imgDragging)if(this.prevTop&&this.prevLeft){var v=t.clientY-this.prevTop,A=t.clientX-this.prevLeft;this.imgTop+=t.clientY-this.prevTop;this.imgLeft+=t.clientX-this.prevLeft;this._updatePreviewImage();this.prevTop+=v;this.prevLeft+=A}else this.prevTop=t.clientY,this.prevLeft=t.clientX};m.prototype._handleImageWheel=function(t){this.imgScale=0<t.deltaY?1*this.imgScale/1.1:1.1*this.imgScale;this._updatePreviewImage();this._zoomSlider.value=""+(50+Math.log(this.imgScale)/Math.log(1.1));
this._getImageExtent();t.preventDefault()};m.prototype._handleInputImageSize=function(){var t=this._previewImage.naturalWidth/this._previewImage.naturalHeight,v=this.aspectRatio*this.height,A=this.height;t<this.aspectRatio?(this._previewImage.style.width=v+"px",this._previewImage.style.height=v/t+"px",this._previewImage.width=v,this._previewImage.height=v/t,this.imgTop=-(this._previewImage.height-A)/2,this._previewImage.style.top=this.imgTop+"px",this.imgLeft=0,this._previewImage.style.left="0px"):
(this._previewImage.style.height=A+"px",this._previewImage.style.width=A*t+"px",this._previewImage.height=A,this._previewImage.width=A*t,this.imgLeft=-(this._previewImage.width-v)/2,this._previewImage.style.left=this.imgLeft+"px",this.imgTop=0,this._previewImage.style.top="0px")};m.prototype._validate=function(t){var v=this,A=null===t||void 0===t?void 0:t.name;if(A)if(/\.(gif|jpg|jpeg|png)$/i.test(A))A=new FileReader,A.onload=function(B){v.imgFile=B.target.result;v._previewImage.setAttribute("src",
v.imgFile)},A.readAsDataURL(t),this._displayImageScale();else return this._fileInput.value="",this._showError({title:this.i18n.itemProperties.error.error,message:this.i18n.itemProperties.error.badImageType})};m.prototype._setReadOnlyAttr=function(t){h["default"].publish("/esri/disable",t);this._fileInput.readOnly=t};m.prototype._showError=function(t){var v=this,A;t=p["default"].mixin(p["default"].mixin({},e["default"].publishWizard.errors.error),t);-1<(null===(A=t.message)||void 0===A?void 0:A.toLowerCase().indexOf("timeout exceeded"))&&
(t.message=this.i18n.common.errors.timedOut);this._errorDlg=new z["default"]({showCancel:!1,style:{width:"400px",height:"auto"}});this._errorDlg.show(t).then(function(){v.set("readOnly",!1);v._errorDlg.hide()});return!1};m.prototype._displayImageScale=function(){r["default"].hideNode(this._dragDropNode);r["default"].showNode(this._cropNode);g["default"].remove(this._difImageLink,"dlg-element-hide");g["default"].remove(this._dlg.okButton.domNode,"dlg-element-hide");g["default"].add(this._difImageLink,
"dlg-element-show");g["default"].add(this._dlg.okButton.domNode,"dlg-element-show");this._thumbTransparentContainer.style.height=this.height+"px";this._thumbTransparentContainer.style.width=this.height*this.aspectRatio+"px";this._thumbTranslucentContainer.style.height=this.height+60+"px";this._thumbTranslucentContainer.style.width=this.height*this.aspectRatio+60+"px";this._cropThumbContainer.style.height=this.height+60+"px";this.imageHasBeenManipulated=!1;this.imageFormat="png"};m.prototype._hideImageScale=
function(){this._fileInput.value=null;r["default"].showNode(this._dragDropNode);r["default"].hideNode(this._cropNode);g["default"].remove(this._difImageLink,"dlg-element-show");g["default"].remove(this._dlg.okButton.domNode,"dlg-element-show");g["default"].add(this._difImageLink,"dlg-element-hide");g["default"].add(this._dlg.okButton.domNode,"dlg-element-hide")};m.prototype._updatePreviewImage=function(){this._previewImage.setAttribute("style","\n        transform: scale("+this.imgScale+");\n        top: "+
this.imgTop+"px;\n        left: "+this.imgLeft+"px;\n        transform-origin: "+this.transformOrigin[0]+"% "+this.transformOrigin[1]+"%;\n      ");this.imageHasBeenManipulated=!0};m.prototype._getImageExtent=function(){var t=this._previewImage.getBoundingClientRect(),v=this._thumbTransparentContainer.getBoundingClientRect();return{left:(v.left-t.left)/t.width,top:(v.top-t.top)/t.height,right:(v.right-t.left)/t.width,bottom:(v.bottom-t.top)/t.height}};m.prototype._getDrawDimensions=function(){var t=
this._previewImage.getBoundingClientRect(),v=this._thumbTransparentContainer.getBoundingClientRect();return{left:(0<t.left-v.left?t.left-v.left:0)/v.width,top:(0<t.top-v.top?t.top-v.top:0)/v.height,width:((t.right>v.right?v.right:t.right)-(t.left<v.left?v.left:t.left))/v.width,height:((t.bottom>v.bottom?v.bottom:t.bottom)-(t.top<v.top?v.top:t.top))/v.height}};m.prototype._getCanvasImage=function(){var t=this,v=new k["default"],A=new Image;A.onload=function(){t._properAspectRatio(A)&&t._withinSizeLimits(A)&&
!t.imageHasBeenManipulated?(t.imageFormat=t.imgFile.split(";")[0].split("/")[1],v.resolve(t._getRawImageData())):v.resolve(t._getScaledImageData(A))};A.src=this.imgFile;return v};m.prototype._getRawImageData=function(){return{blob:c(this.imgFile),base64:this.imgFile,format:this.imageFormat}};m.prototype._getScaledImageData=function(t){var v=this._canvasNode.getContext("2d"),A={scaleFactor:1,ctx:v,img:t,node:this._canvasNode};try{var B=this.drawImage.bind(this)(A);var x=B.blob;var D=B.base64;if(1E7<
x.size||0===x.size)v.clearRect(0,0,this._canvasNode.width,this._canvasNode.height),B=this.drawImage.bind(this)(n.__assign(n.__assign({},A),{scaleFactor:1600/t.width})),x=B.blob,D=B.base64}catch(E){"NS_ERROR_FAILURE"===E.name?(v.clearRect(0,0,this._canvasNode.width,this._canvasNode.height),B=this.drawImage.bind(this)(n.__assign(n.__assign({},A),{scaleFactor:1600/t.width})),x=B.blob,D=B.base64):this._showError(E)}return{blob:x,base64:D,format:this.imageFormat}};m.prototype.drawImage=function(t){var v=
t.scaleFactor,A=t.ctx,B=t.img;t=t.node;var x=this.height*this.aspectRatio,D=this.height,E=this._getImageExtent(),y=0>E.left?0:E.left,F=0>E.top?0:E.top,G=1<E.right?1:E.right,H=1<E.bottom?1:E.bottom,I=this._getDrawDimensions(),N=y*B.width,M=F*B.height;y=G*B.width-y*B.width;F=H*B.height-F*B.height;H=E.right*B.width-E.left*B.width;E=E.bottom*B.height-E.top*B.height;t.width=H<x?x:H*v;t.height=E<D?D:E*v;v=I.left*t.width;x=I.top*t.height;D=I.width*t.width;I=I.height*t.height;A.fillStyle="#efefef";A.fillRect(0,
0,t.width,t.height);A.drawImage(B,N,M,y,F,v,x,D,I);A=t.toDataURL("image/png");return{base64:A,blob:c(A)}};m.prototype._properAspectRatio=function(t){return.01>Math.abs(1-this.aspectRatio/(t.width/t.height))};m.prototype._withinSizeLimits=function(t){return 1600>t.width&&133<=t.height};return m=n.__decorate([b["default"](u["default"],w["default"],C["default"],q["default"])],m)}()})},"arcgisonline/sharing/dijit/dialog/ShareGroupDlg":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated,dijit/Dialog,dijit/form/CheckBox,dijit/form/RadioButton,dijit/form/SimpleTextarea,dijit/form/Textarea,dijit/form/TextBox,dijit/layout/StackContainer,dojo/data/ObjectStore,dojo/store/Memory,arcgisonline/sharing/dijit/ComboBox,arcgisonline/sharing/dijit/GroupTemplatesGrid,arcgisonline/sharing/dijit/dialog/GeneralDlg,arcgisonline/sharing/geow/Account,arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Community,arcgisonline/sharing/util,esri/dijit/Tags,arcgisonline/sharing/dijit/dialog/BrowseItemsDlg,arcgisonline/sharing/dijit/dialog/PluginGroupTemplates,arcgisonline/sharing/dijit/dialog/ConfirmDialog,arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg,arcgisonline/sharing/dijit/dialog/_CreateItemUtilMixin"],
function(O,K,n){O.provide("arcgisonline.sharing.dijit.dialog.ShareGroupDlg");O.require("dijit._Widget");O.require("dijit._Templated");O.require("dijit.Dialog");O.require("dijit.form.CheckBox");O.require("dijit.form.RadioButton");O.require("dijit.form.SimpleTextarea");O.require("dijit.form.Textarea");O.require("dijit.form.TextBox");O.require("dijit.layout.StackContainer");O.require("dojo.data.ObjectStore");O.require("dojo.store.Memory");O.require("arcgisonline.sharing.dijit.ComboBox");O.require("arcgisonline.sharing.dijit.GroupTemplatesGrid");
O.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");O.require("arcgisonline.sharing.geow.Account");O.require("arcgisonline.sharing.geow.Content");O.require("arcgisonline.sharing.geow.Community");O.require("arcgisonline.sharing.util");O.require("esri.dijit.Tags");O.require("arcgisonline.sharing.dijit.dialog.BrowseItemsDlg");O.require("arcgisonline.sharing.dijit.dialog.PluginGroupTemplates");O.require("arcgisonline.sharing.dijit.dialog.ConfirmDialog");O.require("arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg");
O.require("arcgisonline.sharing.dijit.dialog._CreateItemUtilMixin");O.declare("arcgisonline.sharing.dijit.dialog.ShareGroupDlg",[K._Widget,K._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent"\x3e\r\n    \x3cdiv data-dojo-type\x3d"dijit.Dialog" data-dojo-attach-point\x3d"_shareGroupDialog" id\x3d"share-group-dialog" title\x3d"${i18n.share}"\x3e\r\n        \x3cdiv data-dojo-type\x3d"dijit.layout.StackContainer" id\x3d"share-group-stack" data-dojo-attach-point\x3d"_stackContainer" class\x3d"shareGroupDialog"\x3e\r\n            \x3c!-- all options --\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackAllOptions" class\x3d"share-map-stack-stack" style\x3d"overflow-y:auto;"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_shareGroupNotice"\x3e${i18n.shareGroup}\x3c/div\x3e\r\n                \x3cdiv style\x3d"padding-top:1.5em;"\x3e\r\n                    \x3clabel style\x3d"font-weight:bold;" class\x3d"trailer-0" for\x3d"shareGroupUrlInput"\x3e${i18n.linkToGroup}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"clearfix esriLeadingPadding05" style\x3d"clear:both; height:30px;"\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left" style\x3d"padding-top:10px; width:320px;"\x3e\r\n                        \x3cdiv data-dojo-attach-point\x3d"_shareGroupUrl" data-dojo-type\x3d"dijit.form.Textarea" data-dojo-props\x3d"id: \'shareGroupUrlInput\'" style\x3d"width:270px; color:#000;"\x3e\x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"socialNetworkLinks" style\x3d"padding-top:10px;" class\x3d"socialNetworkBadges esriFloatLeading left"\x3e\r\n                        \x3cdiv class\x3d"esriItemLinks"\x3e\r\n                            \x3c!-- use table because of RTL + IE --\x3e\r\n                            \x3ctable class\x3d"table-no-table"\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd style\x3d"width:24px;"\x3e\r\n                                \x3ca id\x3d"facebookLink" class\x3d"icon-social-facebook" href\x3d"#" aria-label\x3d"${i18n.shareFacebook}" target\x3d"_blank"\x3e\x3cspan class\x3d"facebookBadge dijitInline"\x3e\x3c/span\x3e\x3c/a\x3e\r\n                            \x3c/td\x3e\x3ctd\x3e\r\n                                \x3ca id\x3d"facebookLink2" title\x3d"${i18n.shareFacebook}" target\x3d"_blank"\x3e${i18n.facebook}\x3c/a\x3e\r\n                            \x3c/td\x3e\x3ctd style\x3d"width:25px;"\x3e\r\n                                \x26nbsp;\r\n                            \x3c/td\x3e\x3ctd style\x3d"width:24px;"\x3e\r\n                                \x3ca id\x3d"twitterLink" class\x3d"icon-social-twitter" href\x3d"#" aria-label\x3d"${i18n.shareTwitter}" target\x3d"_blank"\x3e\x3cspan class\x3d"twitterBadge dijitInline"\x3e\x3c/span\x3e\x3c/a\x3e\r\n                            \x3c/td\x3e\x3ctd\x3e\r\n                                \x3ca id\x3d"twitterLink2" title\x3d"${i18n.shareTwitter}" target\x3d"_blank"\x3e${i18n.twitter}\x3c/a\x3e\r\n                            \x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv style\x3d"clear:both; padding-top:15px;"\x3e\x3clabel style\x3d"font-weight:bold;" class\x3d"trailer-half"\x3e${i18n.embedGroup}\x3c/label\x3e\x3c/div\x3e\r\n                \x3cdiv class\x3d"clearfix trailer-2"\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingPadding05" style\x3d"clear:both;"\x3e\r\n                        \x3cbutton class\x3d"cancel" id\x3d"button-share-group-embed" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onEmbed"\x3e${i18n.embedInWebsite}\x3c/button\x3e\r\n                        \x3cbutton class\x3d"cancel if-licensed" id\x3d"button-share-group-application" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onApplication"\x3e${i18n.makeWebApp}\x3c/button\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer"\x3e\r\n                    \x3cbutton class\x3d"calcite primary right" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.done}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- embed option --\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackEmbed" class\x3d"share-map-stack-stack" style\x3d"overflow-y:auto;"\x3e\r\n                \x3c!--\x3cdiv\x3e\x3clabel style\x3d"font-weight:bold; text-decoration:underline;"\x3e${i18n.embedInWebsite}\x3c/label\x3e\x3c/div\x3e--\x3e\r\n\r\n                \x3cdiv style\x3d"padding-top:15px;"\x3e${i18n.embedGroupInWebsite}\x3c/div\x3e\r\n\r\n                \x3cdiv style\x3d"padding-bottom:5px; padding-top:15px;"\x3e\r\n                    \x3clabel for\x3d"share-group-embed" style\x3d"font-weight:bold;" class\x3d"trailer-0"\x3e${i18n.copyPaste}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_shareGroupEmbed" id\x3d"share-group-embed" data-dojo-type\x3d"dijit.form.Textarea" style\x3d"width:98%; min-height:100px; max-height:100px;"\x3e\x3c/div\x3e\r\n\r\n                \x3cdiv id\x3d"share-group-groupsize" style\x3d"padding-top:20px; line-height:18px;"\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize1"\x3e\x3clabel for\x3d"groupSize:one" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" data-dojo-attach-point\x3d"_groupSizeOne" id\x3d"groupSize:one" checked/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize2"\x3e\x3clabel for\x3d"groupSize:two" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:two"/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize3"\x3e\x3clabel for\x3d"groupSize:three" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:three"/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize4"\x3e\x3clabel for\x3d"groupSize:four" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:four"/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize5"\x3e\x3clabel for\x3d"groupSize:five" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:five"/\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriFloatLeading left esriLeadingMargin2 margin-right-2" style\x3d"width:34px; text-align:center;"\x3e\r\n                        \x3cdiv class\x3d"groupGallerySize6"\x3e\x3clabel for\x3d"groupSize:six" class\x3d"trailer-0 padding-trailer-1"\x3e\x26nbsp;\x3c/label\x3e\x3c/div\x3e\r\n                        \x3cinput type\x3d"radio" name\x3d"groupSize" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onGroupSizeClick" id\x3d"groupSize:six"/\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3cdiv style\x3d"clear:both; padding-top:15px;" class\x3d"trailer-2"\x3e\r\n                    \x3ctable border\x3d"0" style\x3d"width:100%;" class\x3d"table-plain"\x3e\r\n                        \x3ctbody\x3e\r\n                        \x3ctr\x3e\r\n                            \x3ctd style\x3d"vertical-align:top;"\x3e${i18n.displayWebMaps}\x3c/td\x3e\r\n                            \x3ctd style\x3d"vertical-align:top;"\x3e\r\n                                \x3cdiv\x3e\r\n                                    \x3cspan class\x3d"flex"\x3e\r\n                                        \x3cinput type\x3d"radio" name\x3d"displayWebMaps" id\x3d"displayWebMaps:over" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-point\x3d"_displayWebMapsOver" data-dojo-attach-event\x3d"onClick:onDisplayWebMapsClick" checked /\x3e\r\n                                        \x3clabel class\x3d"inline-block trailer-0 line-height-1 margin-left-half" for\x3d"displayWebMaps:over"\x3e${i18n.displayOverEmbeddedGallery}\x3c/label\x3e\r\n                                    \x3c/span\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"leader-1"\x3e\r\n                                    \x3cspan class\x3d"flex"\x3e\r\n                                        \x3cinput type\x3d"radio" name\x3d"displayWebMaps" id\x3d"displayWebMaps:predefined" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onDisplayWebMapsClick"/\x3e\r\n                                        \x3clabel class\x3d"inline-block trailer-0 line-height-1 margin-left-half" for\x3d"displayWebMaps:predefined"\x3e${i18n.displayInPredefinedApp}\x3c/label\x3e\r\n                                    \x3c/span\x3e\r\n                                    \x3cdiv class\x3d"inline-block margin-left-half"\x3e\r\n                                        \x3cdiv style\x3d"margin-left:20px; line-height:18px;" id\x3d"sharePredefinedApp" data-dojo-attach-point\x3d"_sharePredefinedApp" data-dojo-attach-event\x3d"onChange:onPreconfiguredAppChange" data-dojo-type\x3d"arcgisonline.sharing.dijit.ComboBox"\x3e\x3c/div\x3e\r\n                                    \x3c/div\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"leader-1"\x3e\r\n                                    \x3cspan class\x3d"flex"\x3e\r\n                                        \x3cinput type\x3d"radio" name\x3d"displayWebMaps" id\x3d"displayWebMaps:configured" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-event\x3d"onClick:onDisplayWebMapsClick"/\x3e\r\n                                        \x3clabel class\x3d"inline-block trailer-0 line-height-1 margin-left-half" for\x3d"displayWebMaps:configured"\x3e${i18n.displayInConfiguredApp}\x3c/label\x3e\r\n                                    \x3c/span\x3e\r\n                                    \x3cdiv class\x3d"inline-block margin-left-half"\x3e\r\n                                        \x3cdiv style\x3d"margin-left:20px; padding-left:5px;" data-dojo-attach-point\x3d"_shareConfiguredApp" data-dojo-attach-event\x3d"onChange:onConfiguredAppChange,onKeyPress:onConfiguredAppKeyPress" data-dojo-type\x3d"dijit.form.TextBox" data-dojo-props\x3d"trim:true"\x3e\x3c/div\x3e\r\n                                    \x3c/div\x3e\r\n                                \x3c/div\x3e\r\n                            \x3c/td\x3e\r\n                        \x3c/tr\x3e\r\n                        \x3c/tbody\x3e\r\n                    \x3c/table\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer"\x3e\r\n                    \x3cdiv class\x3d"right"\x3e\r\n                        \x3cbutton class\x3d"calcite primary" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.done}\x3c/button\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- application option gallery  --\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackApplicationGallery" class\x3d"share-map-stack-stack"\x3e\r\n                \x3cdiv id\x3d"share-map-application-gallery-box"\x3e\r\n                    \x3cdiv id\x3d"gallery-grid"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer right"\x3e\r\n                    \x3cbutton class\x3d"calcite cancel" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.cancel}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- application option publish  --\x3e\r\n            \x3cdiv id\x3d"share-group-application-publish" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackApplicationPublish" class\x3d"share-map-stack-stack" style\x3d"overflow-y:auto;"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_itemProperties"\x3e\x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer full-width padding-right-0 clearfix"\x3e\r\n                    \x3cbutton id\x3d"publish-back-button" class\x3d"calcite default clear left" type\x3d"button" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onApplicationPublishBack"\x3e${i18n.back}\x3c/button\x3e\r\n                    \x3cdiv class\x3d"right"\x3e\r\n                        \x3cbutton id\x3d"publish-group-button" class\x3d"calcite primary" type\x3d"button" data-dojo-type\x3d"dijit.form.Button"\x3e${i18n.done}\x3c/button\x3e\r\n                        \x3cbutton id\x3d"publish-cancel-button" class\x3d"calcite cancel" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.cancel}\x3c/button\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- application option help  --\x3e\r\n            \x3cdiv id\x3d"share-map-application-help" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-attach-point\x3d"_stackApplicationHelp" class\x3d"share-map-stack-stack" style\x3d"overflow-y:auto;"\x3e\r\n                \x3c!--\x3cdiv\x3e\x3clabel style\x3d"font-weight:bold; text-decoration:underline; "\x3e${i18n.makeWebApp}\x3c/label\x3e\x3c/div\x3e--\x3e\r\n                \x3cdiv style\x3d"padding-top:15px;"\x3e\x3clabel\x3e${i18n.followSteps}\x3c/label\x3e\x3c/div\x3e\r\n                \x3cdiv style\x3d"padding-top:0;" class\x3d"trailer-2"\x3e\r\n                    \x3cul\x3e\r\n                        \x3cli\x3e\r\n                            \x3cspan style\x3d"font-weight:bold;"\x3e${i18n.unzipFile}\x3c/span\x3e\r\n                            \x3cdiv\x3e${i18n.unzipFileInstructions}\x3c/div\x3e\r\n                        \x3c/li\x3e\r\n                        \x3cli style\x3d"margin-top:10px;"\x3e\r\n                            \x3cspan style\x3d"font-weight:bold;"\x3e${i18n.deployTheApp}\x3c/span\x3e\r\n                            \x3cdiv\x3e${i18n.copyAppToWeb}\x3c/div\x3e\r\n                        \x3c/li\x3e\r\n                        \x3cli style\x3d"margin-top:10px;"\x3e\r\n                            \x3cspan style\x3d"font-weight:bold;"\x3e${i18n.configureTheApp}\x3c/span\x3e\r\n                            \x3cdiv\x3e${i18n.makeAppChanges}\x3c/div\x3e\r\n                        \x3c/li\x3e\r\n                    \x3c/ul\x3e\r\n                    \x3cdiv style\x3d"padding-top:10px;"\x3e\r\n                        \x3cspan id\x3d"share-group-groupId"\x3e${i18n.yourGroupId} \x3c/span\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing buttonContainer right"\x3e\r\n                    \x3cbutton class\x3d"calcite default clear" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onApplicationHelpBack"\x3e${i18n.back}\x3c/button\x3e\r\n                    \x3cbutton class\x3d"calcite primary right" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.done}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing buttonContainer right"\x3e\r\n        \x3cbutton class\x3d"calcite default cancel" data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:onApplicationHelpBack"\x3e${i18n.back}\x3c/button\x3e\r\n        \x3cbutton class\x3d"calcite primary" data-dojo-type\x3d"dijit.form.Button" data-dojo-attach-event\x3d"onClick:onClose"\x3e${i18n.done}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
account:arcgisonline.sharing.geow.Account,content:arcgisonline.sharing.geow.Content,community:arcgisonline.sharing.geow.Community,createItemUtil:arcgisonline.sharing.dijit.dialog._CreateItemUtilMixin,util:arcgisonline.sharing.util,group:null,i18n:null,init:!1,shortenedUrl:null,allItemNames:null,templatesGroupId:null,_user:null,_groupUser:null,_isAdmin:!1,_isPublishing:!1,_folders:null,_folderStore:null,_selectedTemplate:null,_stackContainer:null,_stackAllOptions:null,_stackEmbed:null,_stackApplicationGallery:null,
_stackApplicationPublish:null,_stackApplicationPublishHelp:null,_stackApplicationHelp:null,_templateStore:null,iframeSrc:'\x3ciframe title\x3d"${title}" scrolling\x3d"no" frameborder\x3d"0" src\x3d"${host}/webmap/embedGallery.html?displayapps\x3d${displayApps}\x26displayinline\x3d${displayInline}\x26group\x3d${groupId}${templateUrl}" style\x3d"width:${galleryWidth}px; height:${galleryHeight}px"\x3e\x3c/iframe\x3e',displayApps:!0,displayInline:!1,galleryWidth:960,galleryHeight:238,displayWebMapsMode:"over",
predefinedUrl:"",configuredUrl:"",publishViewItemButtonHandler:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.ShareGroupDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common;O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline","arcgisonline").shareGroupDlg);O.mixin(this.i18n,{GroupWidget:O.i18n.getLocalization("arcgisonline",
"arcgisonline").GroupWidget});this.i18n.browseItemsDlg=O.i18n.getLocalization("arcgisonline","arcgisonline").browseItemsDlg},postCreate:function(){this.init||(this.loadConnections(),this.init=!0,this._setupItemPropertiesDlg(),this._stackContainer.selectChild(this._stackEmbed))},destroy:function(){this.inherited(arguments)},show:function(q,p,h,f,g){this.group=q;this._user=p;this._groupUser=h;this._isAdmin=f;this._roleCanCreateItem=(this._isCustomRole=esriGeowConfig.userRole&&esriGeowConfig.userRole.isCustom())&&
esriGeowConfig.userRole.canCreateItem();this._roleCanShareGroupToPublic=this._isCustomRole&&esriGeowConfig.userRole.canShareGroupToPublic();this._initialStack=g;this.clear();"createWebApp"===g?(K.byId("share-group-dialog").set("title",this.i18n.GroupWidget.createWebApp),this._stackContainer.selectChild(this._stackApplicationGallery)):"embed"===g?(K.byId("share-group-dialog").set("title",this.i18n.GroupWidget.embed),this._stackContainer.selectChild(this._stackEmbed)):this._stackContainer.selectChild(this._stackAllOptions);
O.style("share-group-dialog","visibility","hidden");K.byId("share-group-dialog").show();this._shareGroupDialog.resize();O.style("share-group-dialog","top","70px");O.style("share-group-dialog","visibility","visible");this.updateDlgComponents()},_setupItemPropertiesDlg:function(){this._itemPropDlg||this.getUserItemTitles(O.hitch(this,function(){this._itemPropDlg=new arcgisonline.sharing.dijit.dialog.ItemPropertiesDlg({typeInfo:"configapp",existingItems:this.allItemNames,showFolders:!0,showFile:!1,item:O.mixin({},
this._webAppItemCard)},O.create("div",{},this._itemProperties));this._itemPropDlg.startup()}))},updateDlgComponents:function(){"public"!==this.group.access&&(O.attr(this._shareGroupNotice,"innerHTML",this.i18n.shareGroup+" "+this.i18n.privateGroup),K.byId("button-share-group-embed").set("disabled",!0));this._isCustomRole&&(this._roleCanCreateItem||(K.byId("button-share-group-application").set("disabled",!0),K.byId("publish-group-button").set("disabled",!0)),this._roleCanShareGroupToPublic||K.byId("button-share-group-embed").set("disabled",
!0));this._user||O.style(K.byId("button-share-group-application").domNode,"display","none");var q=esri.urlToObject(window.location.href).path+"?id\x3d"+this.group.id;esriGeowConfig.self&&esriGeowConfig.self.customBaseUrl&&-1<q.indexOf(esriGeowConfig.self.customBaseUrl)&&(q=esriGeowConfig.baseUrl+"group.html?id\x3d"+this.group.id);if("public"===this.group.access&&!this.util.isPortal()){var p=q.indexOf("://"),h=q.indexOf("/",p+3);q=q.substring(0,p+3)+esriGeowConfig.self.portalHostname+q.substring(h)}esriGeowConfig.showSocialMediaLinks&&
esriGeowConfig.bitlyUrl&&0<esriGeowConfig.bitlyUrl.length?(O.style(this._shareGroupUrl,"width","270px"),this.useShortenedUrl(q)):(this._shareGroupUrl.set("value",q),this._shareGroupUrl.focus(),O.style(this._shareGroupUrl,"width","450px"));p=esriGeowConfig.userRole||{};p=!p.id||p.canShareGroupToPublic();this.util.canShowSocialMediaLinks()&&p?(p=arcgisonline.sharing.util.socialNetworkTitle(this.group.title),O.connect(O.byId("facebookLink"),"onclick",O.partial(arcgisonline.sharing.util._checkShare,this.group,
"Facebook")),O.connect(O.byId("facebookLink2"),"onclick",O.partial(arcgisonline.sharing.util._checkShare,this.group,"Facebook")),O.connect(O.byId("twitterLink"),"onclick",O.partial(arcgisonline.sharing.util._checkShare,this.group,"Twitter")),O.connect(O.byId("twitterLink2"),"onclick",O.partial(arcgisonline.sharing.util._checkShare,this.group,"Twitter")),O.byId("facebookLink").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+p+"\x26n\x3dfb\x26u\x3d"+q),O.byId("facebookLink2").href=
esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+p+"\x26n\x3dfb\x26u\x3d"+q),O.byId("twitterLink").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+p+"\x26n\x3dtw\x26u\x3d"+q),O.byId("twitterLink2").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+p+"\x26n\x3dtw\x26u\x3d"+q)):O.style(O.byId("socialNetworkLinks"),"display","none");this.onGroupSizeClick({target:{id:"groupSize:one"}});esriGeowConfig.self&&esriGeowConfig.self.templatesGroupQuery&&(q=esriGeowConfig.self.templatesGroupQuery,
this.templatesGroupId||this.community.searchGroups(encodeURIComponent(q),O.hitch(this,"handleGetTemplatesGroupId"),O.hitch(this,"handleGetTemplatesGroupId")));O.attr(O.byId("share-group-groupId"),"innerHTML",this.i18n.yourGroupId+" "+this.group.id)},handleGetTemplatesGroupId:function(q){q&&1===q.total&&(this.templatesGroupId=q.results[0].id,this.content.search(esriGeowConfig.restBaseUrl+"search",{q:"group:"+this.templatesGroupId+' AND type:"Web Mapping Application"',sortField:"title",num:"50"},O.hitch(this,
this.handleTemplates),O.hitch(this,this.handleTemplates)))},handleTemplates:function(q){q&&0<q.total&&(q=q.results,this._templateStore=new O.store.Memory({data:q,idProperty:"title"}),this._sharePredefinedApp.set("store",new O.data.ObjectStore({objectStore:this._templateStore})),this._sharePredefinedApp.set("searchAttr","title"),this._sharePredefinedApp.set("labelType","html"),this._sharePredefinedApp.set("labelFunc",this.templateLabelFunc),this._sharePredefinedApp.set("value",q[0].title),this.predefinedUrl=
q[0].url)},templateLabelFunc:function(q,p){var h=p.getValue(q,"id"),f=p.getValue(q,"title"),g=p.getValue(q,"thumbnail"),k=arcgisonline.sharing.util.getToken();g=g?esriGeowConfig.restBaseUrl+"content/items/"+h+"/info/"+g+(k?"?token\x3d"+k:""):arcgisonline.sharing.util.relativeToExplicitUrl("images/transparent.gif");return["\x3cdiv style\x3d'width:100px; height:100px; padding:0.5em; display:inline;' id\x3d'galleryNode_"+h+"'\x3e\x3cimg style\x3d'width:90px; height:60px; vertical-align:middle;' src\x3d'"+
g+"' alt\x3d'"+f+"' title\x3d'"+f+"'/\x3e\x3cbr/\x3e\x3cspan class\x3d'esriLeadingMargin05' style\x3d'width:90px; max-width:90px; white-space:normal !important;'\x3e"+f+"\x3c/span\x3e\x3c/div\x3e"]},useShortenedUrl:function(q){if(this.shortenedUrl)this._shareGroupUrl.set("value",this.shortenedUrl);else{var p=arcgisonline.sharing.util.getUser();if(p&&"public"===this.group.access&&esriGeowConfig.self.id===p.accountId&&"public"!==esriGeowConfig.self.access){p=q.indexOf("://");var h=q.indexOf("/",p+3);
q=q.substring(0,p+3)+esriGeowConfig.self.portalHostname+q.substring(h)}this.util.shortenUrl(q,O.hitch(this,function(f){this.shortenedUrl=f;var g=this.util.socialNetworkTitle(this.group.title);this._shareGroupUrl.set("value",f);this._shareGroupUrl.focus();O.connect(O.byId("facebookLink"),"onclick",O.partial(arcgisonline.sharing.util._checkShare,this.group,"Facebook"));O.connect(O.byId("facebookLink2"),"onclick",O.partial(arcgisonline.sharing.util._checkShare,this.group,"Facebook"));O.connect(O.byId("twitterLink"),
"onclick",O.partial(arcgisonline.sharing.util._checkShare,this.group,"Twitter"));O.connect(O.byId("twitterLink2"),"onclick",O.partial(arcgisonline.sharing.util._checkShare,this.group,"Twitter"));O.byId("facebookLink").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+g+"\x26n\x3dfb\x26u\x3d"+q);O.byId("facebookLink2").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+g+"\x26n\x3dfb\x26u\x3d"+q);O.byId("twitterLink").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+
g+"\x26n\x3dtw\x26u\x3d"+q);O.byId("twitterLink2").href=esriGeowConfig.baseUrl+encodeURI("socialnetwork.html?t\x3d"+g+"\x26n\x3dtw\x26u\x3d"+q)}),O.hitch(this,function(f,g){this._shareGroupUrl.set("value",q);this._shareGroupUrl.focus();O.style(O.byId("socialNetworkLinks"),"display","none");O.style(O.byId("share-map-url"),"width","450px")}))}},getUserItemTitles:function(q){var p=arcgisonline.sharing.util.getUser();null!=p&&arcgisonline.sharing.util.getJsonWithContent(esriGeowConfig.restBaseUrl+"search",
{num:100,q:'type:"Web Mapping Application" itemtype:text owner:"'+p.username+'"'},O.hitch(this,function(h){this.allItemNames=O.map(h.results,O.hitch(this,function(f){return f.title}));q()}),O.hitch(this,function(h){this.showError({title:this.i18n.errorTitle,message:esri.substitute({message:h.message},this.i18n.searchMapsFailed)});q()}))},clear:function(){this._isPublishing=!1;this.displayInline=this.displayApps=!0;this.galleryWidth=960;this.galleryHeight=238;this.displayWebMapsMode="over";this.configuredUrl=
this.predefinedUrl="";O.attr(this._shareGroupNotice,"innerHTML",this.i18n.shareGroup);O.attr(this._shareGroupUrl,"value","");O.attr(O.byId("facebookLink"),"href","#");O.attr(O.byId("facebookLink2"),"href","#");O.attr(O.byId("twitterLink"),"href","#");O.attr(O.byId("twitterLink2"),"href","#");this._shareGroupEmbed.set("value","");this._groupSizeOne.set("checked",!0);this._displayWebMapsOver.set("checked",!0);this._sharePredefinedApp.set("disabled",!0);this._shareConfiguredApp.set("disabled",!0);this._shareConfiguredApp.set("value",
"");this._shareConfiguredApp.set("placeholder",this.i18n.enterURLToApp);K.byId("publish-group-button").set("disabled",!1);K.byId("publish-group-button").set("label",this.i18n.done);O.attr(O.byId("share-group-groupId"),"innerHTML",this.i18n.yourGroupId+" ")},onEmbed:function(){K.byId("button-share-group-embed").get("disabled")||(this._stackContainer.selectChild(this._stackEmbed),K.byId("share-group-dialog").set("title",this.i18n.embedInWebsite))},onApplication:function(){if(!K.byId("button-share-group-application").get("disabled")){this._stackContainer.selectChild(this._stackApplicationGallery);
K.byId("share-group-dialog").set("title",this.i18n.makeNewWebApp);var q=K.byId("templatesGallery");q&&q._groupDoesntExist&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.notice,message:this.i18n.groupDoesntExist})}},onApplicationBack:function(q){q.preventDefault();this._stackContainer.selectChild(this._stackAllOptions);K.byId("share-group-dialog").set("title",this.i18n.share)},onApplicationHelpBack:function(){this._stackContainer.selectChild(this._stackApplicationGallery)},
onApplicationPublishBack:function(){this._isPublishing||(this._stackContainer.back(),K.byId("share-group-dialog").set("title",this.i18n.GroupWidget.createWebApp))},onTempPublishHelp:function(){this._stackContainer.selectChild(this._stackApplicationPublishHelp)},onTempHelp:function(){this._stackContainer.selectChild(this._stackApplicationHelp)},loadConnections:function(){K.byId("templatesGallery");O.connect(this._stackApplicationGallery,"onShow",O.hitch(this,function(){this._browseItemsDlg||(this._browseItemsDlg=
new arcgisonline.sharing.dijit.dialog.BrowseItemsDlg({message:this.i18n.selectTemplate,"class":"esriBrowseItemsDlg"},O.create("div",{},O.byId("gallery-grid"))),this._browseItemsDlg.startup(),this._browseItemsDlg.addPlugin("arcgisonline/sharing/dijit/dialog/PluginGroupTemplates"),this._browseItemstopicHandle=O.subscribe("/esri/browseitems/close",O.hitch(this,function(q,p){if("create-app"===q)this.onCreateApp(p);else if("preview-app"===q)this.onPreviewApp(p);else if("download-app"===q)this.onDownload(p)})))}));
O.connect(K.byId("publish-group-button"),"onClick",this,"publishWebApp");O.connect(this._shareGroupEmbed,"onKeyPress",O.hitch(this,this.doNothing));O.mixin(K.byId("share-group-dialog"),{onCancel:O.hitch(this,function(){this.hide()})})},onCreateApp:function(q){this._user?this.content.getItemData(q.id,O.hitch(this,function(p){this._selectedTemplate=O.mixin(q,{data:p});this._itemPropDlg.set("title",this._selectedTemplate.title);this._stackContainer.selectChild(this._stackApplicationPublish)})):window.location=
esriGeowConfig.baseUrl+"signin.html?error\x3d403\x26returnUrl\x3d"+encodeURIComponent(window.location)},onPreviewApp:function(q){var p=esriGeowConfig.restBaseUrl+"content/items/"+q.id+"/data",h=this.util.getToken();esri.request({url:p+(h?"?token\x3d"+h:""),callbackParamName:"callback"});p=arcgisonline.sharing.util.getHomeAppContext();arcgisonline.sharing.util.isPortal()&&q.url&&0===q.url.indexOf("/")&&q.url&&-1===q.url.indexOf(p)&&(q.url=p+q.url);window.open(q.url+"?group\x3d"+this.group.id)},onDownload:function(q){var p=
K.byId("share-group-stack");arcgisonline.sharing.util.downloadWebMappingApp(q);p.selectChild(this._stackApplicationHelp)},publishWebApp:function(q){q.preventDefault();var p=this._selectedTemplate,h=this._itemPropDlg,f=arcgisonline.sharing.util.getHomeAppContext(),g=O.mixin(this._itemPropDlg.get("item"),{groupId:this.group.id}),k=O.hitch(this,function(u){this._itemPropDlg.set("readOnly",u);O.query(".share-map-application-publish-config-back").style("color",u?"#999":"#21759B");K.byId("publish-group-button").set("disabled",
u);K.byId("publish-group-button").set("label",u?this.i18n.savingAndPublishing:this.i18n.done)});k(!0);h._validate().then(O.hitch(this,function(u){arcgisonline.sharing.util.isPortal()&&p.url&&0===p.url.indexOf("/")&&p.url&&-1===p.url.indexOf(f)&&(p.url=f+p.url);this.createItemUtil.createTemplatedApplication(g,this._selectedTemplate,h._portal).then(O.hitch(this,function(w){window.location=w.configureUrl}),O.hitch(this,function(w){k(!1);var C=this.i18n.errorAddingItem;w&&w.message&&(C=w.message);C={title:this.i18n.errorTitle,
message:esri.substitute({title:p.title,message:C},this.i18n.savingApplicationFailed)};409===w.code&&(C.message=esri.substitute({title:p.title},this.i18n.applicationAlreadyExists));this.showError(C)}))}),O.hitch(this,function(u){k(!1);this.showError(u)}))},showError:function(q){(this._dlg||(this._dlg=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance())).show({title:q.title,message:q.message})},onPreconfiguredAppChange:function(q){q=this._sharePredefinedApp.get("value");var p=
!1;this._sharePredefinedApp.get("store").query({title:q}).forEach(O.hitch(this,function(h){p||(this.predefinedUrl=h.url,this.buildIFrameSrc(),p=!0)}))},onConfiguredAppChange:function(q){this.configuredUrl=this._shareConfiguredApp.get("value");this.buildIFrameSrc()},onConfiguredAppKeyPress:function(q){q.keyCode==O.keys.ENTER&&(O.stopEvent(q),this.onConfiguredAppChange(q));this.buildIFrameSrc()},doNothing:function(q){},onGroupSizeClick:function(q){q&&q.target&&("groupSize:one"===q.target.id?(this.galleryWidth=
720,this.galleryHeight=687):"groupSize:two"===q.target.id?(this.galleryWidth=720,this.galleryHeight=460):"groupSize:three"===q.target.id?(this.galleryWidth=720,this.galleryHeight=238):"groupSize:four"===q.target.id?(this.galleryWidth=960,this.galleryHeight=687):"groupSize:five"===q.target.id?(this.galleryWidth=960,this.galleryHeight=460):"groupSize:six"===q.target.id&&(this.galleryWidth=960,this.galleryHeight=238),this.buildIFrameSrc())},buildIFrameSrc:function(){var q="",p=!1===esriGeowConfig.isMultiTenant,
h=location.protocol+"//"+esriGeowConfig.portalHostname;"predefined"===this.displayWebMapsMode?this.predefinedUrl&&0<this.predefinedUrl.length?(this.predefinedUrl=0===this.predefinedUrl.indexOf("http")||0===this.predefinedUrl.indexOf("//")?this.predefinedUrl:h+this.predefinedUrl,this._user&&this._user.accountId&&!p&&(this.predefinedUrl=this.predefinedUrl.replace("/hosted/","/apps/")),q="\x26templateurl\x3d"+encodeURIComponent(this.predefinedUrl)):this.displayInline=!0:"configured"===this.displayWebMapsMode&&
(this.configuredUrl&&0<this.configuredUrl.length?(q="\x26templateurl\x3d"+encodeURIComponent(this.configuredUrl),this.displayInline=!1):this.displayInline=!0);q=esri.substitute({displayApps:this.displayApps,displayInline:this.displayInline,galleryWidth:this.galleryWidth,galleryHeight:this.galleryHeight,groupId:this.group.id,title:this.group.title,host:esriGeowConfig.baseUrl.substring(0,esriGeowConfig.baseUrl.length-1),templateUrl:q},this.iframeSrc);this._shareGroupEmbed.set("value",q)},onDisplayWebMapsClick:function(q){"displayWebMaps:over"===
q.target.id?(this.displayWebMapsMode="over",this.displayInline=!0,this._sharePredefinedApp.set("disabled",!0),this._shareConfiguredApp.set("disabled",!0),this.buildIFrameSrc()):"displayWebMaps:predefined"===q.target.id?(this.displayWebMapsMode="predefined",this.displayInline=!1,this._sharePredefinedApp.set("disabled",!1),this._shareConfiguredApp.set("disabled",!0),this.buildIFrameSrc()):"displayWebMaps:configured"===q.target.id&&(this.displayWebMapsMode="configured",this.displayInline=!1,this._sharePredefinedApp.set("disabled",
!0),this._shareConfiguredApp.set("disabled",!1),this.buildIFrameSrc())},onClose:function(){this.hide();this._selectedTemplate=null;this._browseItemsDlg&&(this._browseItemsDlg.destroy(),this._browseItemsDlg=null,this._browseItemstopicHandle.remove())},hide:function(){K.byId("share-group-dialog").hide();9>O.isIE&&this._stackContainer.selectChild(this._stackAllOptions)}})})},"dojo/data/ObjectStore":function(){define("../_base/lang ../Evented ../_base/declare ../_base/Deferred ../promise/all ../_base/array ../_base/connect ../regexp".split(" "),
function(O,K,n,q,p,h,f,g){function k(u){return"*"==u?".*":"?"==u?".":u}return n("dojo.data.ObjectStore",[K],{objectStore:null,constructor:function(u){this._dirtyObjects=[];u.labelAttribute&&(u.labelProperty=u.labelAttribute);O.mixin(this,u)},labelProperty:"label",getValue:function(u,w,C){return"function"===typeof u.get?u.get(w):w in u?u[w]:C},getValues:function(u,w){var C=this.getValue(u,w);return C instanceof Array?C:void 0===C?[]:[C]},getAttributes:function(u){var w=[],C;for(C in u)!u.hasOwnProperty(C)||
"_"==C.charAt(0)&&"_"==C.charAt(1)||w.push(C);return w},hasAttribute:function(u,w){return w in u},containsValue:function(u,w,C){return-1<h.indexOf(this.getValues(u,w),C)},isItem:function(u){return"object"==typeof u&&u&&!(u instanceof Date)},isItemLoaded:function(u){return u&&"function"!==typeof u.load},loadItem:function(u){var w;"function"===typeof u.item.load?q.when(u.item.load(),function(C){w=C;var z=C instanceof Error?u.onError:u.onItem;z&&z.call(u.scope,C)}):u.onItem&&u.onItem.call(u.scope,u.item);
return w},close:function(u){return u&&u.abort&&u.abort()},fetch:function(u){function w(a){u.onError&&u.onError.call(z,a,u)}u=O.delegate(u,u&&u.queryOptions);var C=this,z=u.scope||C,r=u.query;if("object"==typeof r){r=O.delegate(r);for(var l in r){var d=r[l];"string"==typeof d&&(r[l]=RegExp("^"+g.escapeString(d,"*?\\").replace(/\\.|\*|\?/g,k)+"$",u.ignoreCase?"mi":"m"),r[l].toString=function(a){return function(){return a}}(d))}}var e=this.objectStore.query(r,u);q.when(e.total,function(a){q.when(e,function(b){u.onBegin&&
u.onBegin.call(z,a||b.length,u);if(u.onItem)for(var c=0;c<b.length;c++)u.onItem.call(z,b[c],u);u.onComplete&&u.onComplete.call(z,u.onItem?null:b,u);return b},w)},w);u.abort=function(){e.cancel&&e.cancel()};e.observe&&(this.observing&&this.observing.cancel(),this.observing=e.observe(function(a,b,c){if(-1==h.indexOf(C._dirtyObjects,a))if(-1==b)C.onNew(a);else if(-1==c)C.onDelete(a);else for(var m in a)if(m!=C.objectStore.idProperty)C.onSet(a,m,null,a[m])},!0));this.onFetch(e);u.store=this;return u},
getFeatures:function(){return{"dojo.data.api.Read":!!this.objectStore.get,"dojo.data.api.Identity":!0,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":!0}},getLabel:function(u){if(this.isItem(u))return this.getValue(u,this.labelProperty)},getLabelAttributes:function(u){return[this.labelProperty]},getIdentity:function(u){return this.objectStore.getIdentity?this.objectStore.getIdentity(u):u[this.objectStore.idProperty||"id"]},getIdentityAttributes:function(u){return[this.objectStore.idProperty]},
fetchItemByIdentity:function(u){var w;q.when(this.objectStore.get(u.identity),function(C){w=C;u.onItem.call(u.scope,C)},function(C){u.onError.call(u.scope,C)});return w},newItem:function(u,w){if(w){var C=this.getValue(w.parent,w.attribute,[]);C=C.concat([u]);u.__parent=C;this.setValue(w.parent,w.attribute,C)}this._dirtyObjects.push({object:u,save:!0});this.onNew(u);return u},deleteItem:function(u){this.changing(u,!0);this.onDelete(u)},setValue:function(u,w,C){var z=u[w];this.changing(u);u[w]=C;this.onSet(u,
w,z,C)},setValues:function(u,w,C){if(!O.isArray(C))throw Error("setValues expects to be passed an Array object as its value");this.setValue(u,w,C)},unsetAttribute:function(u,w){this.changing(u);var C=u[w];delete u[w];this.onSet(u,w,C,void 0)},changing:function(u,w){u.__isDirty=!0;for(var C=0;C<this._dirtyObjects.length;C++){var z=this._dirtyObjects[C];if(u==z.object){w&&(z.object=!1,this._saveNotNeeded||(z.save=!0));return}}z=u instanceof Array?[]:{};for(C in u)u.hasOwnProperty(C)&&(z[C]=u[C]);this._dirtyObjects.push({object:!w&&
u,old:z,save:!this._saveNotNeeded})},save:function(u){u=u||{};var w=[],C=[],z=this,r=this._dirtyObjects;try{f.connect(u,"onError",function(){if(!1!==u.revertOnError){var m=r;r=C;z.revert();z._dirtyObjects=m}else z._dirtyObjects=r.concat(C)});var l;this.objectStore.transaction&&(l=this.objectStore.transaction());for(var d=0;d<r.length;d++){var e=r[d],a=e.object,b=e.old;delete a.__isDirty;if(a){var c=this.objectStore.put(a,{overwrite:!!b});w.push(c)}else"undefined"!=typeof b&&(c=this.objectStore.remove(this.getIdentity(b)),
w.push(c));C.push(e);r.splice(d--,1)}p(w).then(function(m){u.onComplete&&u.onComplete.call(u.scope,m)},function(m){u.onError&&u.onError.call(u.scope,m)});l&&l.commit()}catch(m){u.onError.call(u.scope,value)}},revert:function(){for(var u=this._dirtyObjects,w=u.length;0<w;){w--;var C=u[w],z=C.object;C=C.old;if(z&&C){for(var r in C)C.hasOwnProperty(r)&&z[r]!==C[r]&&(this.onSet(z,r,z[r],C[r]),z[r]=C[r]);for(r in z)C.hasOwnProperty(r)||(this.onSet(z,r,z[r]),delete z[r])}else if(C)this.onNew(C);else this.onDelete(z);
delete (z||C).__isDirty;u.splice(w,1)}},isDirty:function(u){return u?u.__isDirty:!!this._dirtyObjects.length},onSet:function(){},onNew:function(){},onDelete:function(){},onFetch:function(u){}})})},"arcgisonline/sharing/dijit/GroupTemplatesGrid":function(){define(["dojo","dijit","dojox","dojo/require!arcgisonline/sharing/geow/Content,arcgisonline/sharing/geow/Community,arcgisonline/sharing/dijit/Gallery,arcgisonline/sharing/dijit/views,arcgisonline/sharing/util,dojo/mouse"],function(O,K,n){O.provide("arcgisonline.sharing.dijit.GroupTemplatesGrid");
O.require("arcgisonline.sharing.geow.Content");O.require("arcgisonline.sharing.geow.Community");O.require("arcgisonline.sharing.dijit.Gallery");O.require("arcgisonline.sharing.dijit.views");O.require("arcgisonline.sharing.util");O.require("dojo.mouse");O.declare("arcgisonline.sharing.dijit.GroupTemplatesGrid",[K._Widget,K._Templated],{templateString:"\x3cdiv dojoAttachPoint\x3d'containerNode'\x3e\x3c/div\x3e",i18n:null,sortField:null,sortOrder:null,showThumbnail:!0,templatesGroupId:null,groupQuery:null,
galleryNodes:4,textMenus:[],_views:arcgisonline.sharing.dijit.views,_util:arcgisonline.sharing.util,_gallery:null,_galleryPane:null,_detailsPane:null,_detailsTextPane:null,_detailsIconPane:null,_detailsTimer:null,onPublish:function(){},onPreview:function(){},_getTemplates:function(){var q={q:"group:"+this.templatesGroupId+' AND type:"Web Mapping Application"',sortField:this.sortField,num:"50"};this.sortOrder&&(q.sortOrder=this.sortOrder);arcgisonline.sharing.geow.Content.search(esriGeowConfig.restBaseUrl+
"search",q,O.hitch(this,this._handleTemplatesResponse),O.hitch(this,this._handleTemplatesResponse))},refresh:function(){this._getTemplates()},postMixInProperties:function(){this.inherited(arguments);this.i18n=O.i18n.getLocalization("arcgisonline","arcgisonline").common;O.mixin(this.i18n,O.i18n.getLocalization("arcgisonline","arcgisonline").templatesGridWidget)},postCreate:function(){this._gallery=new arcgisonline.sharing.dijit.Gallery({id:this.id+"_Gallery",nodesPerPage:this.galleryNodes,showNodeLabels:!0,
showToolTip:!1,noResultsMessage:"\x3cp class\x3d'esriItemLinks'\x3e\x3cspan\x3e"+this.i18n.noItemsToDisplay+"\x3c/span\x3e\x3c/p\x3e"},O.create("div",null,this.domNode));this._user=arcgisonline.sharing.util.getUser();var q=this;O.mixin(this._gallery,{_buildNodeLayout:function(p,h){var f=O.create("div",{id:"galleryNode_"+p.id,"class":this.nodeClass,style:"position:relative;"});O.addClass(f,h?"large":"small");if(this.showNodeLabels){var g=O.create("div",{"class":"galleryLabelContainer"},f),k=p.title||
"";O.create("span",{innerHTML:k,alt:k,title:k},g)}g=void 0!==esriGeowConfig.isMultiTenant&&null!==esriGeowConfig.isMultiTenant&&!1===esriGeowConfig.isMultiTenant;var u=p.url;u=0===u.indexOf("http")||0===u.indexOf("//")?u:window.location.protocol+"//"+window.location.host+u;q&&q._user&&q._user.accountId?u=g?q._getPortalPreviewUrl(p,u):u.replace("/hosted/","/apps/"):q&&g&&(u=q._getPortalPreviewUrl(p,u));g=O.create("a",{href:"JavaScript:void(0);"},f);O.create("img",{"class":this.thumbClass,src:p.thumbnail?
this._getThumbailUrl(p):arcgisonline.sharing.util.relativeToExplicitUrl("images/transparent.gif")},g);O.create("br",null,f);k=O.create("div",{"class":"linksDiv"},f);k=O.create("div",{"class":"esriItemLinks"},k);var w=O.create("div",{"class":"esriFloatLeading"},k),C=O.create("a",{href:"JavaScript:void(0);",style:"text-decoration: none;"},w);O.connect(C,"onclick",O.hitch(this,function(l){l.preventDefault();l.stopPropagation()}));O.create("span",{innerHTML:this.i18n.publish},C);O.create("div",{"class":"dijitReset dijitInline esriArrows"},
C);arcgisonline.sharing.geow.Content.getApplicationCode(p,O.hitch(this,function(l){var d=O.filter(l.relatedItems&&0<l.relatedItems.length?l.relatedItems:[l],function(e){return null!==e.url});d&&d.length?(l=d[0],O.query(".toolbar .codeAttachment").style("display","none")):l=l.relatedItems&&0<l.relatedItems.length?l.relatedItems[0]:l;d=[];d.push({label:this.i18n.publish,onClick:O.hitch(q,"onPublish",{url:p.url,id:p.id})});l.id&&d.push({label:this.i18n.download,onClick:O.hitch(q,"onDownload",l.url||
esriGeowConfig.restBaseUrl+"content/items/"+l.id+"/data",l.url?!0:!1)});d.push({label:this.i18n.preview,onClick:O.hitch(q,"onPreview",{url:u,id:l.id})});l=new arcgisonline.sharing.dijit.TextMenu({triggerNode:C,labelNode:C,textMenuItems:d});q.textMenus.push(l)}));O.create("span",{innerHTML:"\x26nbsp;",style:"width:0;"},k);k=p.snippet||"";145<k.length&&(k=k.substring(0,140)+"...");k=O.create("div",{id:"tooltip"+p.id,className:"templatesGridTooltip",innerHTML:'\x3cp class\x3d"title ellipsis"\x3e'+p.title+
"\x3c/p\x3e\x3cp\x3e"+k+"\x3c/p\x3e"},f,"first");var z=function(l){(l=O.byId(l))&&O.style(l,{opacity:0,display:"none"})},r=function(l,d){var e=O.byId(l);esri.show(e);var a=O.coords(e),b=O.coords(O.byId(d).parentNode);a.w+a.x>b.w+b.x&&(O.style(e,"left","auto"),O.style(e,"right",O.isIE?"10px":"0"));O.fadeIn({node:e}).play();O.forEach(q.textMenus,function(c){c.hide()})};/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())?O.connect(g,"onclick",function(){var l=
O.byId("tooltip"+p.id);l&&"block"===O.getStyle(l,"display")?z("tooltip"+p.id):r("tooltip"+p.id,"galleryNode_"+p.id);O.query(".templatesGridTooltip").forEach(function(d){d.id!=="tooltip"+p.id&&z(d.id)})}):(O.connect(g,O.mouse.enter,function(){O.query(".templatesGridTooltip").forEach(function(l){z(l.id)});r("tooltip"+p.id,"galleryNode_"+p.id)}),O.connect(k,O.mouse.leave,function(){z("tooltip"+p.id)}));return f}});this._gallery.startup()},_getPortalPreviewUrl:function(q,p){var h=arcgisonline.sharing.util.parseUrl(p);
"/"===q.url.substring(0,1)&&-1<esriGeowConfig.baseUrl.indexOf(h.host)&&(p=window.location.protocol+"//"+window.location.host+arcgisonline.sharing.util.getHomeAppContext()+q.url);return p="https:"===window.location.protocol?arcgisonline.sharing.util.getSecureUrl(p):arcgisonline.sharing.util.getHttpUrl(p)},onDownload:function(q,p,h){h.preventDefault();p?window.open(q):window.location=q},_setGroupQueryAttr:function(q){(this.groupQuery=q)&&0<this.groupQuery.length&&arcgisonline.sharing.geow.Community.searchGroups(this.groupQuery,
O.hitch(this,this._handleGetGroup),O.hitch(this,this._handleGetGroup))},_setGroupIdAttr:function(q){null!==q&&0!==q.length&&(this.pageCount=0,this.templatesGroupId=q,this._getTemplates())},_handleTemplatesResponse:function(q){for(var p,h=[],f=0;f<q.results.length;f++)p=q.results[f],p.url&&h.push(p);O.attr(this._gallery,"items",h)},_handleGetGroup:function(q,p){this._groupDoesntExist=!1;q&&1==q.total?(this.templatesGroupId=q.results[0].id,q.results[0].sortField&&(this.sortField=q.results[0].sortField),
q.results[0].sortOrder&&(this.sortOrder=q.results[0].sortOrder),this._setGroupIdAttr(q.results[0].id)):q&&1<q.total||(this._groupDoesntExist=!0)},nextPage:function(){this._gallery.nextPage()},prevPage:function(){this._gallery.prevPage()},doNothing:function(q){q.preventDefault();q.stopPropagation()}})})},"arcgisonline/sharing/dijit/dialog/PluginGroupTemplates":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/promise/all"],function(O,K,n,q){var p=O("arcgisonline.sharing.dijit.dialog.PluginGroupTemplates",
null,{infoPanelTemplate:'\x3cdiv\x3e\x3cdiv class\x3d"template-info-showing"\x3e\x3cdiv class\x3d"thumbnail"\x3e\x3cimg src\x3d"${item:_formatInfoPanelImage}"\x3e\x3c/div\x3e\x3ch4\x3e${item.title}\x3c/h4\x3e\x3cdiv class\x3d"template-info"\x3e\x3cp class\x3d"quiet-scroll"\x3e${item.snippet}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-actions"\x3e\x3cbutton class\x3d"btn blue btn-main" id\x3d"create-app"\x3e${i18n.items.createApp}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${previewButtonWidth}" id\x3d"preview-app"\x3e${i18n.templatesGridWidget.preview}\x3c/button\x3e\x3cbutton class\x3d"btn btn-secondary ${hideDownload}" id\x3d"download-app"\x3e${i18n.templatesGridWidget.download}\x3c/button\x3e\x3cbutton class\x3d"btn btn-cancel" id\x3d"close-panel"\x3e${i18n.common.close}\x3c/button\x3e\x3c/div\x3e\x3cdiv\x3e',
constructor:function(h){K.mixin(this,h)},fetchData:function(){var h=[];this.parent._currentFilter.types=['type:"Web Mapping Application"'];this._portal=this.parent._portal;this._user=this._portal.getPortalUser();return this._fetchEsriGroupTemplates().then(K.hitch(this,function(f){n.forEach(f||[],function(g){g&&g.id&&h.push('group:"'+g.id+'"')});return this._fetchGroupItems(h)}))},_fetchGroup:function(h,f){this._groups=this._groups||[];return this._groups[h]||this._portal.queryGroups(f,!0).then(K.hitch(this,
function(g){g=g.total&&g.results&&g.results[0]||null;return(this._groups[h]=g)||{}}))},_fetchGroupItems:function(h){return this.parent._fetchItems({groups:h})},_fetchEsriGroupTemplates:function(){return q([this._fetchGroup("esriGallery",this._portal.galleryTemplatesGroupQuery||null)]).then(K.hitch(this,function(h){return h||[]}))}});K.mixin(p,{add:function(h,f){if(!h.plugIn){var g=f||{};g.parent=h;h.plugIn=new p(g)}},remove:function(h){h.plugIn&&(h.plugIn.destroy(),delete h.plugIn)}});return p})},
"arcgisonline/sharing/dijit/dialog/MembershipRequestsDlg":function(){define("require esri/declare esri/Evented dojo/_base/lang dojo/_base/array dojo/on dojo/dom-class dojo/dom-construct dojo/query dojo/string dojo/topic dojo/store/Memory dijit/a11yclick dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../../esriGeowConfig ../../../pages/utils/icons ../../../pages/utils/date ../../util ../Grid ./GeneralDlg dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/MembershipRequestsDlg.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x){var D=K("arcgisonline.sharing.dijit.dialog.MembershipRequestsDlg",[d,e,a,n],{baseClass:"esriMembershipRequestsDlg",widgetsInTemplate:!0,templateString:x,groupId:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=q.mixin({},B.common);q.mixin(this.i18n,B.membershipRequestsDlg);q.mixin(this.i18n,B.groupMembershipRequestsGrid);q.mixin(this.i18n,{error:B.inviteUsersDlg.error})},postCreate:function(){this.loadConnections()},
loadConnections:function(){this.own(k(".jevent").on("click",function(E){E.preventDefault()}),z(this._closeBtn,q.hitch(this,function(){this._dialog.hide()})),w.subscribe("onApplicationAccept",q.hitch(this,"onApplicationApprove")),w.subscribe("onApplicationDecline",q.hitch(this,"onApplicationDecline")))},show:function(E){this.groupId=E;this.clearStore();this.requestApplications();this._dialog.show()},approveApplication:function(E,y){var F=t.getUser(),G=this._requestsGrid._grid.store;F&&t.request({url:b.restBaseUrl+
"community/groups/"+this.groupId+"/applications/"+y+"/accept"},{usePost:!0}).then(q.hitch(this,function(){G.remove(E.id);w.publish("onApplicationAccept",{})}),q.hitch(this,function(){var H=new A;h.once(H._dialog,"hide",function(){H._dialog.destroyRecursive();H.destroyRecursive()});H.show({title:this.i18n.errorTitle,message:u.substitute(this.i18n.error.unableToAddPrivs,{user:y})});G.remove(E.id);w.publish("onApplicationAccept",{})}))},declineApplication:function(E,y){var F=t.getUser(),G=this._requestsGrid._grid.store;
F&&t.request({url:b.restBaseUrl+"community/groups/"+this.groupId+"/applications/"+y+"/decline"},{usePost:!0}).then(q.hitch(this,function(){G.remove(E.id);w.publish("onApplicationDecline",{})}))},onApplicationApprove:function(){0===this._requestsGrid._grid.store.query().length?this.hide():this.refresh()},onApplicationDecline:function(){0===this._requestsGrid._grid.store.query().length?this.hide():this.refresh()},requestApplications:function(){var E=this._requestsGrid._grid.store;return t.request({url:b.restBaseUrl+
"community/groups/"+this.groupId+"/applications"}).then(q.hitch(this,function(y){y.applications&&(p.forEach(y.applications,function(F,G){F.id=G;E.put(F)}),this.refresh())}))},clearStore:function(){this._requestsGrid||this.createGrid();var E=this._requestsGrid&&this._requestsGrid._grid&&this._requestsGrid._grid.store||void 0;E&&p.forEach(q.clone(E.query()),function(y){E.remove(y.id)})},createGrid:function(){this._requestsGrid=new v({id:"requestsGrid",columns:this.getRequestGridColumns(),noDataMessage:this.i18n.noMembershipRequests,
showLoadingMessage:!1,showHeader:!1,showFooter:!1,selectionMode:"none",rowsPerPage:5,className:"requests-grid",store:new C({idProperty:"id",label:"fullname",data:[]}),sort:[{attribute:"received",descending:!1}]},this._requestsGridContainer);this._requestsGrid.startup();k(".dgrid-status").forEach(function(E){E.tabIndex=-1;f.add(E,"left")})},getRequestGridColumns:function(){return{fullname:{label:" ",sortable:!1,formatter:q.hitch(this,function(E){return E})},username:{label:" ",sortable:!1,formatter:q.hitch(this,
function(E){return E})},received:{label:" ",sortable:!1,formatter:q.hitch(this,function(E){E=new Date(parseFloat(E));return m.format(E,"long-date")})},yourResponse:{label:" ",sortable:!1,renderCell:q.hitch(this,function(E){var y=E.username,F=g.create("div",{className:"esriFloatTrailing"}),G=g.create("button",{innerHTML:"\x3cspan class\x3d'text-green'\x3e"+c.inline.check["16"]+"\x3c/span\x3e"+this.i18n.approve,className:"btn-link btn-link-off-black clickable margin-right-1"},F),H=g.create("button",
{innerHTML:"\x3cspan class\x3d'text-red'\x3e"+c.inline["minus-circle"]["16"]+"\x3c/span\x3e"+this.i18n.decline,className:"btn-link btn-link-off-black clickable"},F);this.own(z(G,q.hitch(this,"approveApplication",E,y)),z(H,q.hitch(this,"declineApplication",E,y)));return F})}}},hide:function(){this._dialog.hide()},refresh:function(){if(this._requestsGrid._grid&&this._requestsGrid._grid._started){var E=this._requestsGrid._grid._currentPage||1,y=this._requestsGrid._grid.store?this._requestsGrid._grid.store.query().length:
0;h.once(this._requestsGrid._grid,"dgrid-refresh-complete",function(F){F.grid._currentPage!==E&&0<y&&F.grid.gotoPage(E)});this._requestsGrid._grid.resize();this._requestsGrid._grid.refresh()}}});D.prototype.statics={getInstance:function(){this._instance||(this._instance=new D);return this._instance}};return D})},"arcgisonline/sharing/dijit/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dojo/_base/array dojo/on dojo/aspect dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem dgrid/Grid dgrid/extensions/Pagination dgrid/extensions/DijitRegistry dgrid/OnDemandGrid dgrid/extensions/ColumnResizer dgrid/Keyboard ./_RefreshMixin ./Rating dojo/query dojo/dom-class dojo/dom-style dojo/when dojo/store/Memory dgrid/Selection dgrid/selector dojo/store/Observable put-selector/put dgrid/util/mouse dgrid/util/touch arcgisonline/sharing/util ../../pages/utils/date ../../pages/utils/keys arcgisonline/sharing/geow/Content dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M,J,R,Z){esri.i18nBundle=Z;return O("arcgisonline.sharing.dijit.Grid",[f],{postMixInProperties:function(){this.inherited(arguments);this._util=N;this._content=R;this._supportedViews=["gallery","details","table"];this._favorites={};this._portalUser=this._util.getUser();this._galleryTemplate=this._galleryTemplate||"\x3cdiv style\x3d'opacity:0;' class\x3d'grid-item gallery-view'\x3e${item:_formatThumbnail}\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e${item:_formatItemTypeIcon}\x3c/div\x3e";
this._detailsTemplate=this._detailsTemplate||'\x3cdiv style\x3d\'opacity:0;\' class\x3d\'grid-item detail-view\'\x3e${item:_formatThumbnail}\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e\x3cdiv class\x3d"rating-system"\x3e\x3cdiv data-dojo-type\x3d\'arcgisonline/sharing/dijit/Rating\' data-dojo-props\x3d\'numStars:5,value:${item.avgRating},disabled:true\'\x3e\x3c/div\x3e\x26nbsp;\x3cspan\x3e(${item.numRatings})\x3c/span\x3e\x3c/div\x3e${item:_formatItemTypeIcon}\x3cp class\x3d"grid-item-type"\x3e${item:_formatType}\x3c/p\x3e\x3cp class\x3d"grid-item-desc"\x3e${item.snippet}\x3c/p\x3e${item:_formatPremiumContentIcon}\x3cspan class\x3d"openItem" id\x3d"openItem"\x3e\x3c/span\x3e\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"calcite btn small primary details-button"\x3e${i18n.gallery.details}\x3c/a\x3e\x3c/div\x3e';
this._itemPopupTemplate=this._itemPopupTemplate||'\x3cdiv class\x3d"grid-item-hover"\x3e\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e\x3cspan id\x3d\'openItem\'\x3e\x3c/span\x3e\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"calcite btn small primary details-button"\x3e${i18n.details}\x3c/a\x3e\x3cp class\x3d"item-hover-type"\x3e${item:_formatItemTypeIcon}${item:_formatType} by\x26nbsp;${item.owner:_formatOwnerLink}\x3c/p\x3e\x3cp class\x3d"item-hover-desc"\x3e${item.snippet}\x3c/p\x3e${item:_formatPremiumContentIcon}\x3cdiv class\x3d"rating-system"\x3e\x3cdiv data-dojo-type\x3d\'arcgisonline/sharing/dijit/Rating\' data-dojo-props\x3d\'numStars:5,value:${item.avgRating},disabled:true\'\x3e\x3c/div\x3e\x26nbsp;\x3cspan\x3e(${item.numRatings})\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e';
this._renderers=K.mixin(this._renderers||{},{gallery:K.hitch(this,function(T){T.snippet=T.snippet||"";var X=G("div"),aa=new (O([f,u,w],{templateString:n.substitute(this._galleryTemplate,{item:T,i18n:Z.gallery},null,this)}));T.widget=aa;X.appendChild(aa.domNode);return X}),details:K.hitch(this,function(T){T.snippet=T.snippet||"";var X=G("div"),aa=new (O([f,u,w],{templateString:n.substitute(this._detailsTemplate,{item:T,i18n:Z},null,this)})),fa=new C({label:Z.gallery.open,className:"btn calcite primary",
dropDown:this._getOpenInMenu(T)},v(".openItem",X)[0]);T.widget=aa;X.appendChild(aa.domNode);v(".openItem",X).replaceWith(fa.domNode);0===fa.dropDown.getChildren().length&&fa.set("disabled",!0);return X}),table:function(){return G("div",l.prototype.renderRow.apply(this,arguments))}})},buildRendering:function(){this.inherited(arguments);var T=O([l,e,d,b,E,m]),X=this.columns||{title:{label:"title"},type:{label:"type"},modified:{label:"last modified"},access:{label:"sharing"}};this._view=this.view||"table";
this._query=this.query;this._sort=this.sort||[{attribute:"title",descending:!1}];this._queryOptions=this.queryOptions||{sort:this.sort};this._store=this.store||new D({data:[]});this._rowsPerPage=this.rowsPerPage||9;this._pagingLinks=this.pagingLinks?this.pagingLinks:3;this._showHeader=this.showHeader||!1;this._selectionMode=this.selectionMode||"extended";this._useTouchScroll=this.useTouchScroll||!1;this._grid=new T({columns:X,renderRow:this._renderers[this._view],noDataMessage:this.noDataMessage||
"",showHeader:this._showHeader,store:this._store,query:this._query,showLoadingMessage:!1,firstLastArrows:this._pagingLinks,previousNextArrows:this._pagingLinks,rowsPerPage:this._rowsPerPage,pagingLinks:this._pagingLinks,allowSelectAll:!0,selectionMode:this._selectionMode,sort:this._sort},this.domNode);this._grid.startup()},postCreate:function(){this.inherited(arguments);this.own(this._grid.on("refresh",K.hitch(this,function(){this._grid.showFooter=this._grid._total>this._grid.rowsPerPage;this._onGridRefresh()})),
h.before(this._grid,"removeRow",K.hitch(this,function(T){T&&(T=this._grid.row(T),(T=(T.data||T).widget)&&T.destroyRecursive())})),this._grid.on(".fav-icon a:click",K.hitch(this,function(T){T.preventDefault();var X=this._grid.row(T),aa=T.target.parentNode.parentNode.parentNode,fa=A.contains(T.target.parentNode,"fav-off");T=this._content[fa?"addToFavorites":"removeFromFavorites"](X.data).then(K.hitch(this,function(){this._favorites[X.data.id].id=fa?X.data.id:!1}));v(".fav-on",aa).style({display:fa?
"":"none"});v(".fav-off",aa).style({display:fa?"none":""});setTimeout(K.hitch(this,function(){v(".fav-on",aa).style({width:fa?"200px":"24px"});v(".fav-off",aa).style({width:fa?"24px":"200px"});setTimeout(K.hitch(this,function(){v(".fav-on, .fav-off").style({width:"24px"})}),2500)}),50);T.then(K.hitch(this,function(){}))})),this._grid.on(".fav-icon a:mouseout",K.hitch(this,function(T){B.set(T.target.parentNode,{width:"24px"})})));!esri.isTouchEnabled||"gallery"!==this._view&&"details"!==this._view?
"gallery"!==this._view&&"details"!==this._view||this.own(this._grid.on(H.enterRow,K.hitch(this,function(T){if(T.relatedTarget&&!1===A.contains(T.relatedTarget,"dijitMenu")&&!1===A.contains(T.relatedTarget,"dijitReset")){var X=this._grid.row(T),aa=v("img",X.element)[0];clearTimeout(this._showPopupTimeout);aa&&(this._showPopupTimeout=setTimeout(K.hitch(this,function(){this._portalUser?this._isFavorite(X.data.id).then(K.hitch(this,function(fa){this._showPopup(X.data,aa.parentNode)})):this._showPopup(X.data,
aa)}),400))}})),this._grid.on(H.leaveRow,K.hitch(this,function(T){T.relatedTarget&&!1===A.contains(T.relatedTarget,"dijitTooltipDialog")&&!1===A.contains(T.relatedTarget,"dijitTooltipConnector")&&(clearTimeout(this._showPopupTimeout),clearTimeout(this._closePopupTimeout),this._closePopupTimeout=setTimeout(K.hitch(this,function(){v(".fav-on, .fav-off",this.domNode).style("display","none").style("width","24px");this._closePopup()}),10))}))):this.own(this._grid.on(I.selector(".dgrid-content .dgrid-row",
I.tap),K.hitch(this,function(T){T.preventDefault();var X=this._grid.row(T);this._portalUser?this._isFavorite(X.data.id).then(K.hitch(this,function(aa){this._showPopup(X.data,v("img",X.element)[0].parentNode)})):this._showPopup(X.data,v("img",X.element)[0])})),this._grid.on(".dgrid-row:click",K.hitch(this,function(T){T.preventDefault();var X=this._grid.row(T);this._portalUser?this._isFavorite(X.data.id).then(K.hitch(this,function(aa){this._showPopup(X.data,v("img",X.element)[0].parentNode)})):this._showPopup(X.data,
v("img",X.element)[0])})))},_onGridRefresh:function(T){this.emit("onRefresh",{currentPage:this._grid._currentPage});this._pagingLinks&&(v(".dgrid-navigation",this._grid.domNode)[this._grid._total<=this._grid.rowsPerPage?"addClass":"removeClass"]("hide"),v(".dgrid-pagination",this._grid.domNode)[0===this._grid._total?"addClass":"removeClass"]("hide"))},_getGridAttr:function(){return this._grid},_showPopup:function(T,X){"details"===this._view?this._portalUser&&this._isFavorite(T.id).then(K.hitch(this,
function(aa){v(".fav-on",X.parentNode).style("display",aa.id?"":"none");v(".fav-off",X.parentNode).style("display",aa.id?"none":"")})):"gallery"===this._view&&T.id&&T.id!==this._popupId&&(this._portalUser&&this._isFavorite(T.id).then(K.hitch(this,function(aa){v(".fav-on",X.parentNode).style("display",aa.id?"":"none");v(".fav-off",X.parentNode).style("display",aa.id?"none":"")})),this._closePopup(),this._popupId=T.id,this._tooltip=new g({onMouseLeave:K.hitch(this,"_closePopup"),content:new (O([f,u,
w],{templateString:n.substitute(this._itemPopupTemplate,{item:T,i18n:Z.gallery},null,this)}))}),k.open({popup:this._tooltip,around:X,orient:["after-centered","before-centered"]}),this._popupButton=new C({label:Z.gallery.open,className:"calcite btn small primary",dropDown:this._getOpenInMenu(T)}),v("#openItem").replaceWith(this._popupButton.domNode),0===this._popupButton.dropDown.getChildren().length&&this._popupButton.set("disabled",!0))},_closePopup:function(T){T&&T.relatedTarget&&(!0===A.contains(T.relatedTarget,
"dijitBackgroundIframe")||!0===A.contains(T.relatedTarget,"dijitMenu")||!0===A.contains(T.relatedTarget,"dijitReset"))||!this._tooltip||(k.close(this._tooltip),this._popupConnect&&this._popupConnect.remove(),this._popupButton&&this._popupButton.destroyRecursive(),this._tooltip.destroyRecursive(),this._popupId=this._tooltip=null)},_isFavorite:function(T){return x(this._favorites[T]||this._searchItems('(group:"'+this._portalUser.favGroupId+'" AND id:"'+T+'")').then(K.hitch(this,function(X){this._favorites[T]=
X.results[0]||{id:!1};return this._favorites[T]})))},_searchItems:function(T){return this._util.request({url:esriGeowConfig.restBaseUrl+"search",content:{q:T,f:"json"}})},refresh:function(){this._grid&&(this._grid.set("query",this._query,this._queryOptions),v(".dgrid-row",this._grid.domNode).attr("tabindex","0"),this.own(p(this._grid.domNode.querySelector(".dgrid-content"),"keyup",function(T){var X=T.target;X.classList.contains("dgrid-row")&&T.keyCode===J.ENTER&&("single"===this._grid.selectionMode&&
this._grid.clearSelection(),this._grid.select(X))}.bind(this))))},gotoPage:function(T){this._grid.query=this._query;this._grid.queryOptions=this._queryOptions;this._grid._sort=this._queryOptions.sort;this._grid.gotoPage(T)},_formatItemTitle:function(T){return T.title||T.name||""},_formatType:function(T){return this._content.changeTypename({type:T.type,typeKeywords:T.typeKeywords},!1)||T.type},_formatLargeThumbnail:function(T){return T?"\x3cimg class\x3d'grid-item-thumb' alt\x3d'' src\x3d'"+T+"'\x3e":
"\x3cimg class\x3d'grid-item-thumb' alt\x3d'' src\x3d'"+this._util.getStaticImagesUrl()+"/desktopapp.png'\x3e"},_getDefaultThumbnail:function(T){var X=this._util.getStaticImagesUrl();return"web mapping application"==T?X+"/webapp.png":"mobile application"==T?X+"/mobileapp.png":"workforce project"===T?X+"/workforceproject.png":"hub initiative"===T?X+"/hubinitiative.png":"hub page"===T?X+"/hubpage.png":"hub site application"===T?X+"/hubsite.png":"dashboard"===T?X+"/opsdashboard.png":"geoprocessing service"===
T&&esriGeowConfig.self&&esriGeowConfig.self.isPortal?X+"/webtool.png":"web scene"===T||"scene service"===T?X+"/scene.png":"ortho mapping project"===T?X+"/orthomappingproject.png":"ortho mapping template"===T?X+"/orthomappingtemplate.png":X+"/desktopapp.png"},_formatThumbnail:function(T){var X=T.thumbnailUrl||this._getDefaultThumbnail(T.type&&T.type.toLowerCase()),aa=this._util.getHomePageGalleryLinkInfo(T),fa=-1<dojo.indexOf(T.typeKeywords,"Web AppBuilder for ArcGIS");fa=esriGeowConfig.self&&esriGeowConfig.self.isPortal&&
fa||"Application"===T.type||"Web Mapping Application"===T.type&&!fa||"Mobile Application"===T.type||"Document Link"===T.type;var oa="Application"===T.type||"Web Mapping Application"===T.type||"Mobile Application"===T.type||"Document Link"===T.type||"CityEngine Web Scene"===T.type||"Dashboard"===T.type;T='\x3ca href\x3d"'+(esri.isTouchEnabled?"#":fa?T.url||"item.html?id\x3d"+T.id:aa&&aa.href&&aa.href.replace(/"/g,"'")||"item.html?id\x3d"+T.id)+'" target\x3d"'+(oa?"_blank":"")+'"\x3e\x3cimg class\x3d"grid-item-thumb" alt\x3d"" src\x3d"'+
X+'" /\x3e\x3c/a\x3e';X=esriGeowConfig.userRole&&esriGeowConfig.userRole.isCustom();X=!X||X&&esriGeowConfig.userRole.canShareItemToGroup();aa='\x3cdiv class\x3d"gallery-img"\x3e\x3cdiv class\x3d"fav-icon"\x3e\x3ca href\x3d"#"\x3e\x3cdiv class\x3d"fav-on" style\x3d"display:none;"\x3e\x3cdiv class\x3d"star-on"\x3e\x3c/div\x3e\x3cp id\x3d"addString"\x3e'+Z.gallery.addFavorite+'\x3c/p\x3e\x3c/div\x3e\x3c/a\x3e\x3ca href\x3d"#"\x3e\x3cdiv class\x3d"fav-off" style\x3d"display:none;"\x3e\x3cdiv class\x3d"star-off"\x3e\x3c/div\x3e\x3cp id\x3d"remString"\x3e'+
Z.gallery.removeFavorite+"\x3c/p\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e"+T+"\x3c/div\x3e";return X&&this._portalUser?aa:T},_formatItemTypeIcon:function(T){return"\x3cimg class\x3d'grid-item-icon' alt\x3d'' src\x3d'"+this._content._getItemIconUrl(T)+"'\x3e"},_formatPremiumContentIcon:function(T){var X=T.isPremiumContent,aa=T.getTypeInfo(),fa=esriGeowConfig.self&&esriGeowConfig.self.isPortal?"portal":"";T=-1<q.indexOf(T.typeKeywords,"Requires Credits");return X?'\x3cp class\x3d"grid-item-type" title\x3d"'+
(T?Z.common["premiumcontentcreditstitle"+fa]:Z.common["premiumcontenttitle"+fa])+"\"\x3e\x3cimg class\x3d'grid-premium-icon' alt\x3d'' src\x3d'"+aa.premiumIconUrl+"'\x3e"+(T?Z.common.premiumcontent:Z.common.subscriptioncontent)+"\x3c/p\x3e":""},_formatDate:function(T){!1===T instanceof Date&&(T=new Date(T));return T?M.format(T,"long-month-year"):""},_formatOwnerLink:function(T){return'\x3ca href\x3d"user.html?user\x3d'+T+'"\x3e'+T+"\x3c/a\x3e"},_getOpenInMenu:function(T){T=this._util.getItemOpenLinkObjects(T);
var X;var aa=new z({autoFocus:!0,_destroyOnRemove:!0,showTitle:!1});q.forEach(T,function(fa){X=new r({label:fa.label,onClick:function(){fa.onClick()}});aa.addChild(X)});aa.startup();return aa},_setViewAttr:function(T){this._view=T=-1===q.indexOf(this._supportedViews,T)?this._view:T;this._grid&&(this._grid.renderRow=this._renderers[T],G(this._grid.domNode,"!table!gallery!details."+T),this._grid.set("showHeader","table"===this._view))},_setStoreAttr:function(T){this._store=T},_setQueryAttr:function(T,
X){this._query=T||this._query;this._queryOptions=X||this._queryOptions},_setItemsAttr:function(T){(this._store=this._store||new F(new D({data:T,identifier:"id",label:"id"})),this._store.setData)?this._store.setData(T):this._store=new F(new D({data:T}));this.set("store",this._store);this.set("view",this._view)}})})},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(O,K,n){return O("dgrid.extensions.DijitRegistry",null,{minSize:0,
maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){n.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var q=n.getEnclosingWidget(this.domNode.parentNode);q&&q.isLayoutContainer&&this._resizeHandle.remove()}},destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);n.remove(this.id)},getChildren:function(){return[]},isLeftToRight:function(){return!this.isRTL},
resize:function(q){q&&K.setMarginBox(this.domNode,q);this.inherited(arguments)},_set:function(q,p){this[q]=p},watch:function(){},getParent:function(){return n.getEnclosingWidget(this.domNode.parentNode)}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),function(O,K,n,q,p,h,f,g,k){function u(l){for(var d=
l.length,e=d,a=l[0].length,b=Array(d);d--;)b[d]=Array(a);var c={};for(d=0;d<e;d++)for(var m=b[d],t=l[d],v=0,A=0;v<a;v++){var B=t[A];if("undefined"==typeof m[v]){m[v]=B.id;if(B.rowSpan&&1<B.rowSpan){var x=b;for(var D=B.rowSpan,E=d,y=v,F=B.id,G=1;G<D;G++)x[E+G][y]=F}if(0<d&&B.colSpan&&1<B.colSpan)for(x=1;x<B.colSpan;x++)if(m[++v]=B.id,B.rowSpan&&1<B.rowSpan){D=b;E=B.rowSpan;y=d;F=v;G=B.id;for(var H=1;H<E;H++)D[y+H][F]=G}c[B.id]=l[0][v].id;A++}}return c}function w(l,d,e,a,b){if(!(0>=e)){var c=l.columns[d];
if(c){var m={grid:l,columnId:d,width:e,bubbles:!0,cancelable:!0};a&&(m.parentType=a);if(!l._resizedColumns||K.emit(l.headerNode,"dgrid-columnresize",m))return"auto"===e?delete c.width:(c.width=e,e+="px"),(a=l._columnSizes[d])?a.set("width",e):a=g.addCssRule("#"+g.escapeCssIdentifier(l.domNode.id)+" .dgrid-column-"+g.escapeCssIdentifier(d,"-"),"width: "+e+";"),l._columnSizes[d]=a,!1!==b&&l.resize(),!0}}}var C,z=0,r={create:function(){C=k("div.dgrid-column-resizer")},destroy:function(){k(C,"!");C=null},
show:function(l){l=h.position(l.domNode,!0);C.style.top=l.y+"px";C.style.height=l.h+"px";k(document.body,C)},move:function(l){C.style.left=l+"px"},hide:function(){C.parentNode.removeChild(C)}};return O("dgrid.extensions.ColumnResizer",null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);z++||r.create()},destroy:function(){this.inherited(arguments);for(var l in this._columnSizes)this._columnSizes[l].remove();--z||r.destroy()},
resizeColumnWidth:function(l,d){return w(this,l,d)},configStructure:function(){var l=this._oldColumnSizes=q.mixin({},this._columnSizes),d;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(d in l)d in this._columnSizes||l[d].remove();delete this._oldColumnSizes},_configColumn:function(l){this.inherited(arguments);var d=l.id,e;"width"in l&&((e=this._oldColumnSizes[d])?e.set("width",l.width+"px"):e=g.addCssRule("#"+g.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+g.escapeCssIdentifier(d,
"-"),"width: "+l.width+"px;"),this._columnSizes[d]=e)},renderHeader:function(){this.inherited(arguments);var l=this;if(this.columnSets&&this.columnSets.length)for(var d=this.columnSets.length;d--;)var e=q.mixin(e||{},u(this.columnSets[d]));else this.subRows&&1<this.subRows.length&&(e=u(this.subRows));d=n(".dgrid-cell",l.headerNode);for(var a=d.length;a--;){var b=d[a],c=b.columnId,m=l.columns[c],t=b.childNodes;if(m&&!1!==m.resizable){m=k("div.dgrid-resize-header-container");for(b.contents=m;0<t.length;)k(m,
t[0]);k(b,m,"div.dgrid-resize-handle.resizeNode-"+g.escapeCssIdentifier(c,"-")).columnId=e&&e[c]||c}}l.mouseMoveListen||(K(l.headerNode,".dgrid-resize-handle:mousedown"+(f("touch")?",.dgrid-resize-handle:touchstart":""),function(v){l._resizeMouseDown(v,this);l.mouseMoveListen.resume();l.mouseUpListen.resume()}),l._listeners.push(l.mouseMoveListen=K.pausable(document,"mousemove"+(f("touch")?",touchmove":""),g.throttleDelayed(function(v){l._updateResizerPosition(v)}))),l._listeners.push(l.mouseUpListen=
K.pausable(document,"mouseup"+(f("touch")?",touchend":""),function(v){l._resizeMouseUp(v);l.mouseMoveListen.pause();l.mouseUpListen.pause()})),l.mouseMoveListen.pause(),l.mouseUpListen.pause())},_resizeMouseDown:function(l,d){l.preventDefault();p.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(l);this._targetCell=n(".dgrid-column-"+g.escapeCssIdentifier(d.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(l);r.show(this)},_resizeMouseUp:function(l){var d=this._columnSizes,
e;this.adjustLastColumn&&(e=this.headerNode.clientWidth-1);if(!this._resizedColumns){var a=n(".dgrid-cell",this.headerNode);this.columnSets&&this.columnSets.length?a=a.filter(function(B){return"0"==B.columnId.split("-")[0]&&!(B.columnId in d)}):this.subRows&&1<this.subRows.length&&(a=a.filter(function(B){return"0"==B.columnId.charAt(0)&&!(B.columnId in d)}));var b=a.map(function(B){return B.offsetWidth});a.forEach(function(B,x){w(this,B.columnId,b[x],null,!1)},this);this._resizedColumns=!0}p.setSelectable(this.domNode,
!0);a=this._targetCell;var c=this._getResizeMouseLocation(l)-this._startX,m=a.offsetWidth+c,t=this._getResizedColumnWidths(),v=t.totalWidth;t=t.lastColId;var A=n(".dgrid-column-"+g.escapeCssIdentifier(t,"-"),this.headerNode)[0].offsetWidth;m<this.minWidth&&(m=this.minWidth);w(this,a.columnId,m,l.type)&&a.columnId!=t&&this.adjustLastColumn&&(v+c<e?w(this,t,"auto",l.type):A-c<=this.minWidth&&w(this,t,this.minWidth,l.type));r.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(l){if(this._targetCell){l=
this._getResizeMouseLocation(l);var d=this._targetCell.offsetWidth,e=l;d+(l-this._startX)<this.minWidth&&(e=this._startX-(d-this.minWidth));r.move(e)}},_getResizeMouseLocation:function(l){var d=0;l.pageX?d=l.pageX:l.clientX&&(d=l.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return d},_getResizedColumnWidths:function(){var l=0,d=n((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),e=d.length;if(!e)return{};for(var a=d[e-1].columnId;e--;)l+=
d[e].offsetWidth;return{totalWidth:l,lastColId:a}}})})},"arcgisonline/sharing/dijit/Rating":function(){define("dojo/_base/declare dojox/form/Rating dojo/dom-attr dojo/dom-construct dojo/string ../../pages/utils/icons dojo/i18n!../../nls/arcgisonline".split(" "),function(O,K,n,q,p,h,f){return O([K],{constructor:function(g){O.safeMixin(this,g)},postCreate:function(){this.inherited(arguments);var g=p.substitute(f.common.ratingMsg2,{stars:this.params.value});n.set(this.domNode,"aria-label",g);n.set(this.domNode,
"tabindex",0);[].slice.call(this.domNode.querySelectorAll(".dojoxRatingInput")).forEach(function(k){q.place(h["star-f"]["16"],k,"after");q.place(h.star["16"],k,"after")})},_onMouse:function(){this.get("disabled")||this.inherited(arguments)},onStarClick:function(){this.get("disabled")||this.inherited(arguments)},_setValueAttr:function(g){g=Math.round(g);this.inherited(arguments)}})})},"dojox/form/Rating":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/mouse dojo/on dojo/string dojo/query dijit/form/_FormWidget".split(" "),
function(O,K,n,q,p,h,f,g,k){return O("dojox.form.Rating",k,{templateString:null,numStars:3,value:0,buildRendering:function(u){for(var w='\x3clabel class\x3d"dojoxRatingStar dijitInline ${hidden}"\x3e\x3cspan class\x3d"dojoxRatingLabel"\x3e${value} stars\x3c/span\x3e\x3cinput type\x3d"radio" name\x3d"rating-'+Math.random().toString(36).substring(2)+'" value\x3d"${value}" dojoAttachPoint\x3d"focusNode" class\x3d"dojoxRatingInput"\x3e\x3c/label\x3e',C='\x3cdiv dojoAttachPoint\x3d"domNode" class\x3d"dojoxRating dijitInline"\x3e\x3cdiv data-dojo-attach-point\x3d"list"\x3e'+
f.substitute(w,{value:0,hidden:"dojoxRatingHidden"})+"${stars}\x3c/div\x3e\x3c/div\x3e",z="",r=0;r<this.numStars;r++)z+=f.substitute(w,{value:r+1,hidden:""});this.templateString=f.substitute(C,{stars:z});this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._renderStars(this.value);this.own(h(this.list,h.selector(".dojoxRatingStar","mouseover"),K.hitch(this,"_onMouse")),h(this.list,h.selector(".dojoxRatingStar","click"),K.hitch(this,"_onClick")),h(this.list,h.selector(".dojoxRatingInput",
"change"),K.hitch(this,"onStarChange")),h(this.list,p.leave,K.hitch(this,function(){this._renderStars(this.value)})))},_onMouse:function(u){var w=+n.get(u.target.querySelector("input"),"value");this._renderStars(w,!0);this.onMouseOver(u,w)},_onClick:function(u){if("LABEL"===u.target.tagName){var w=+n.get(u.target.querySelector("input"),"value");u.target.value=w;this.onStarClick(u,w);w==this.value&&(u.preventDefault(),this.onStarChange(u))}},_renderStars:function(u,w){g(".dojoxRatingStar",this.domNode).forEach(function(C,
z){z>u?(q.remove(C,"dojoxRatingStarHover"),q.remove(C,"dojoxRatingStarChecked")):(q.remove(C,"dojoxRatingStar"+(w?"Checked":"Hover")),q.add(C,"dojoxRatingStar"+(w?"Hover":"Checked")))})},onStarChange:function(u){u=+n.get(u.target,"value");this.setAttribute("value",u==this.value?0:u);this._renderStars(this.value);this.onChange(this.value)},onStarClick:function(u,w){},onMouseOver:function(){},setAttribute:function(u,w){this.set(u,w)},_setValueAttr:function(u){this._set("value",u);this._renderStars(u);
var w=g("input[type\x3dradio]",this.domNode)[u];w&&(w.checked=!0);this.onChange(u)}})})},"arcgisonline/sharing/dijit/dialog/JoinGroupDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dijit/a11yclick dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../util ../../../pages/utils/dom dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/JoinGroupDlg.html".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C,z,
r,l){var d=K("arcgisonline.sharing.dijit.dialog.JoinGroupDlg",[k,u,w],{declaredClass:"arcgisonline.sharing.dijit.dialog.JoinGroupDlg",basePath:O.toUrl("arcgisonline/sharing/dijit/dialog"),templateString:l,widgetsInTemplate:!0,postMixInProperties:function(){this.inherited(arguments);this.i18n=n.mixin(r.common,r.joinGroupDlg)},postCreate:function(){this.inherited(arguments);this._loadConnections()},show:function(e,a,b){this.groupId=e;this.leavingDisallowed=a;b&&(this.successHandler=b);this.leavingDisallowed&&
z.showNode(this._administrativeGroup);this._dialog.show()},hide:function(e){e&&e.preventDefault();this._dialog.hide()},_loadConnections:function(){this.own(h(this._okBtn,n.hitch(this,"_submitRequest")),h(this._cancelBtn,n.hitch(this,"hide")))},_submitRequest:function(e){e&&e.preventDefault();var a=C.request({url:esriGeowConfig.restBaseUrl+"community/groups/"+this.groupId+"/join"},{usePost:!0}).then(dojo.hitch(this,function(b,c){this.hide();this.successHandler&&this.successHandler(b,c)}),dojo.hitch(this,
function(b){if(!a.canceled){var c=b.message;b.messageCode&&"COM_1082"===b.messageCode?c=this.i18n.levelOneSharedUpdateCapabilities:-1<c.indexOf("You have already applied to join this group.")?c=this.i18n.alreadyRequested+"\x3cbr\x3e"+this.i18n.applicationConsidered:-1<c.indexOf("Unable to apply to join group:")?c=this.i18n.cannotAccept:-1<c.indexOf(" is by invitation only.")&&(c=this.i18n.byInviteOnly);arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.joinGroupError,
message:c})}this.hide()}))}});d.prototype.statics={_instance:null,getInstance:function(){null==this._instance&&(this._instance=new d);return this._instance}};return d})},"arcgisonline/sharing/dijit/dialog/InvitationsDlg":function(){define("require esri/declare esri/Evented dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/on dojo/query dojo/string dojo/topic dijit/a11yclick dojo/promise/all dojo/store/Memory dijit/Tooltip dijit/Dialog dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../util ../../../pages/pageUtil ../../../pages/utils/date ../../../pages/utils/formatters ../../../pages/utils/icons ../Grid ./ConfirmDialog ./GeneralDlg dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/InvitationsDlg.html dojo/text!./templates/InvitationsDlgGroup.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F){var G=K("arcgisonline.sharing.dijit.dialog.InvitationsDlg",[e,a,b,n],{basePath:O.toUrl("arcgisonline/sharing/dijit/dialog"),baseClass:"esriInvitationsDlg",widgetsInTemplate:!0,templateString:y,invitations:null,groupsUser:null,postMixInProperties:function(){this.inherited(arguments);this.i18n=q.mixin({},E.common);q.mixin(this.i18n,E.invitationsDlg);q.mixin(this.i18n,E.invitationsGrid)},postCreate:function(){this.loadConnections()},
show:function(H,I){this.clearStore();I&&(I.username||I.email)&&(this.groupsUser=I);this.invitations=H;this.getGroupInfos();this._dialog.show()},update:function(H){this.clearStore();this.invitations=H;this.getGroupInfos();this._dialog.show()},getGroupInfos:function(){var H=c.getUser(),I=[];if(null!==H){var N=this.groupsUser&&this.groupsUser.username?this.groupsUser.username:this.groupsUser&&this.groupsUser.email?this.groupsUser.email:H.username;for(H=0;H<this.invitations.length;H++)I.push(c.request({url:esriGeowConfig.restBaseUrl+
"community/users/"+N+"/invitations/"+this.invitations[H].groupId}));C(I).then(function(M){p.forEach(M,function(R,Z){this.invitations[Z].fromUsername=R.fromUsername.username;this.invitations[Z].fromUserFullname=R.fromUsername.fullname;this.invitations[Z].groupTitle=R.group.title;this.invitations[Z].groupOwner=R.group.owner;this.invitations[Z].groupIsPrivate="private"===R.group.access;this.invitations[Z].groupAccess=R.group.access;this.invitations[Z].groupDescription=R.group.description;this.invitations[Z].groupThumbnail=
R.group.thumbnail;this.invitations[Z].leavingDisallowed=R.group.leavingDisallowed;this.groupsUser&&(this.invitations[Z].asUser=N)}.bind(this));var J=this._invitationsGrid._grid.store;p.forEach(this.invitations,function(R){J.put(R)}.bind(this));this.refresh()}.bind(this))}},loadConnections:function(){this.own(g(".jevent").on("click",function(H){H&&H instanceof Event&&H.preventDefault()}),f(this._closeBtn,"click",function(){this._dialog.hide()}.bind(this)),u.subscribe("onInvitationAccept",this.onInvitationAccept.bind(this)),
u.subscribe("onInvitationDecline",this.onInvitationDecline.bind(this)))},createGrid:function(){this._invitationsGrid=new B({id:"invitationsGrid",columns:this.getInvitationGridColumns(),noDataMessage:this.i18n.noGroupInvites,showLoadingMessage:!1,showHeader:!1,showFooter:!1,selectionMode:"none",rowsPerPage:5,className:"invitations-grid",store:new z({idProperty:"id",label:"groupTitle",data:[]}),sort:[{attribute:"received",descending:!1}]},this._invitationsGridContainer);this._invitationsGrid.startup()},
clearStore:function(){this._invitationsGrid||this.createGrid();var H=this._invitationsGrid&&this._invitationsGrid._grid&&this._invitationsGrid._grid.store||void 0;H&&p.forEach(q.clone(H.query()),function(I){H.remove(I.id)})},getInvitationGridColumns:function(){return{groupTitle:{label:this.i18n.groupName,sortable:!1,renderCell:function(H){var I=!1;this.groupsUser&&(this.groupsUser.privileges&&-1<this.groupsUser.privileges.indexOf("portal:admin:viewGroups")?I=!0:this.groupsUser.privileges&&-1<this.groupsUser.privileges.indexOf("portal:user:viewOrgGroups")&&
"private"!==H.groupAccess?I=!0:"public"===H.groupAccess&&(I=!0));var N=H.groupThumbnail?esriGeowConfig.restBaseUrl+"community/groups/"+H.groupId+"/info/"+H.groupThumbnail+"?token\x3d"+c.getToken():"",M=t.format(new Date(H.received),"long-date");M=k.substitute(E.GroupWidget.invitedEventDescription,{fullName:H.fromUserFullname,fullDate:M});I={i18n:E,icons:A,id:H.groupId,title:H.groupTitle,thumbnail:H.groupThumbnail,thumbnailUrl:N,notificationSummary:M,fillColor:"#"+H.groupId.substr(H.groupId.length-
6),useLetter:H.groupTitle.charAt(0)&&H.groupTitle.charAt(0).match(/^\w+$/),isPrivate:!I};I=h.toDom(k.substitute(F,I,null,{hide:v.hide,show:v.show,firstChar:v.firstChar,stripHTML:v.stripHTML}));N=g(".js-accept-invitation",I).shift();M=g(".js-decline-invitation",I).shift();var J=H.asUser?H.asUser:null,R=H.leavingDisallowed?this.confirmLeavingDisallowed.bind(this,H,J):this.acceptInvitation.bind(this,H,J);H=this.declineInvitation.bind(this,H,J);this.own(w(N,R),w(M,H));return I}.bind(this)}}},confirmLeavingDisallowed:function(H,
I){var N=E.invitationsDlg.leavingDisabled,M=m.createSpecifiedDialog(x,{"class":"general-dialog",title:E.invitationsDlg.joinGroup,buttonOkLabel:E.invitationsDlg.joinGroup,style:{height:"auto"}});M.setContent(N);M.show().then(function(J){"onOk"===J&&(this.acceptInvitation(H,I),M.hide())}.bind(this))},acceptInvitation:function(H,I){var N=c.getUser(),M=this._invitationsGrid._grid.store,J=H.groupId;N&&c.request({url:esriGeowConfig.restBaseUrl+"community/users/"+(I?I:N.username)+"/invitations/"+J+"/accept",
content:{}},{usePost:!0}).then(function(R){M.remove(H.id);u.publish("onInvitationAccept",{})}.bind(this),function(R){var Z=c.getUser();Z=Z&&Z.orgId?this.i18n.acceptFailure:this.i18n.acceptFailurePublic;"COM_1050"===R.messageCode?Z=this.i18n.privilegeError:"ORG_3103"===R.messageCode&&(Z=this.i18n.maxExternalOrgs);m.createSpecifiedDialog(D).show({title:this.i18n.errorTitle,message:Z})}.bind(this))},declineInvitation:function(H,I){var N=c.getUser(),M=H.groupId,J=this._invitationsGrid._grid.store;N&&
c.request({url:esriGeowConfig.restBaseUrl+"community/users/"+(I?I:N.username)+"/invitations/"+M+"/decline"},{usePost:!0}).then(function(){J.remove(H.id);u.publish("onInvitationDecline",{})}.bind(this))},onInvitationAccept:function(){0===this._invitationsGrid._grid.store.query().length?this.hide():this.refresh()},onInvitationDecline:function(){0===this._invitationsGrid._grid.store.query().length?this.hide():this.refresh()},hide:function(){this._dialog.hide()},refresh:function(){if(this._invitationsGrid._grid&&
this._invitationsGrid._grid._started){var H=this._invitationsGrid._grid._currentPage||1,I=this._invitationsGrid._grid.store?this._invitationsGrid._grid.store.query().length:0;f.once(this._invitationsGrid._grid,"dgrid-refresh-complete",function(N){N.grid._currentPage!==H&&0<I&&N.grid.gotoPage(H)});this._invitationsGrid._grid.resize();this._invitationsGrid._grid.refresh()}}});G.prototype.statics={getInstance:function(){this._instance||(this._instance=new G);return this._instance}};return G})},"arcgisonline/sharing/dijit/GroupSelector":function(){define("require exports tslib ../../esriGeowConfig ../util ../geow/Account ../../tsutils/declareDecorator esri/lang dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/Deferred dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/i18n!../../nls/arcgisonline dojo/keys dojo/on dojo/sniff dojo/text!./templates/GroupSelector.html dojo/_base/lang dojo/promise/all ../../pages/utils/icons".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);return function(){function B(x,D){this.declaredClass="arcgisonline.sharing.dijit.GroupSelector";this.baseClass="esriGroupSelector";this.templateString=m["default"];this.widgetsInTemplate=!0;this.icons=A["default"];this._setConstructorProperties(x)}B.prototype.postMixInProperties=function(){this.inherited(arguments);this._mixinI18N()};B.prototype.postCreate=function(){this.inherited(arguments);this._createConnections();this._setIntializationProperties()};B.prototype.startup=
function(){this.inherited(arguments);this._initialize()};B.prototype._mixinI18N=function(){var x={};t["default"].mixin(x,e["default"].common);t["default"].mixin(x,e["default"].groupSelector);this.i18n=x};B.prototype._setConstructorProperties=function(x){x.groups&&(this.groups=x.groups);x.selectedGroups&&(this.selectedGroups=x.selectedGroups);g["default"].isDefined(x.autoLoad)?this.autoLoad=x.autoLoad:this.autoLoad=!0;g["default"].isDefined(x.restrictSearch)?this.restrictSearch=x.restrictSearch:this.restrictSearch=
!0;g["default"].isDefined(x.enableRestrict)?this.enableRestrict=x.enableRestrict:this.enableRestrict=!1;g["default"].isDefined(x.enableSearch)?this.enableSearch=x.enableSearch:this.enableSearch=!0;g["default"].isDefined(x.enableListActions)&&(this.enableListActions=x.enableListActions);g["default"].isDefined(x.excludeEnterpriseGroups)?this.excludeEnterpriseGroups=x.excludeEnterpriseGroups:this.excludeEnterpriseGroups=!1;g["default"].isDefined(x.excludeSharedUpdateGroups)?this.excludeSharedUpdateGroups=
x.excludeSharedUpdateGroups:this.excludeSharedUpdateGroups=!1;g["default"].isDefined(x.capResults)&&0<x.capResults&&(this.capResults=x.capResults)};B.prototype._createConnections=function(){this.own(C["default"](this._searchBtn,t["default"].hitch(this,this._searchClick)),C["default"](this._clearSearchBtn,t["default"].hitch(this,this._clearSearch)),b["default"](this._searchBox,"blur",t["default"].hitch(this,function(x){x&&x.preventDefault()})),b["default"](this._restrictSearch,"change",t["default"].hitch(this,
this._restrictSearchChange)),C["default"](this._groupsPane,t["default"].hitch(this,this._selectGroup)),C["default"](this._selectedGroupsPane,t["default"].hitch(this,this._removeGroup)),C["default"](this._addAll,t["default"].hitch(this,this._addAllClick)),C["default"](this._clearAll,t["default"].hitch(this,this._clearAllClick)));10>=c["default"]("ie")||7>c["default"]("trident")?this.own(b["default"](this._searchBox,"keydown",t["default"].hitch(this,this._searchKeyup))):this.own(b["default"](this._searchBox,
"keyup",t["default"].hitch(this,this._searchKeyup)))};B.prototype._setIntializationProperties=function(){this.user=p["default"].getUser();this._searchBox.set("value","")};B.prototype._initializeUI=function(){this._toggleClearSearchButton();this._toggleRestrictSearch();this._toggleEnableSearch();this._toggleEnableRestrict();this._toggleEnableListActions()};B.prototype._setSelfDependentProperties=function(x){r["default"].set(this._restrictSearchLabel,"innerHTML",g["default"].substitute({name:x.name},
this.i18n.onlySearch))};B.prototype._initialize=function(){var x=this;this._initializeUI();h["default"].getSelf(function(D){x._setSelfDependentProperties(D);D=x.groups;!x.autoLoad||D&&0!==D.length?x._refreshGroups():x._doSearch(null).then(function(){x._refreshGroups()});x._refreshSelectedGroups()})};B.prototype._searchKeyup=function(x){x.keyCode===a["default"].ENTER&&this._searchClick(x);this._toggleClearSearchButton()};B.prototype._toggleClearSearchButton=function(){var x=t["default"].trim(this._searchBox.get("value"));
0<(null===x||void 0===x?void 0:x.length)?d["default"].set(this._clearSearchBtn,"display",""):d["default"].set(this._clearSearchBtn,"display","none")};B.prototype._toggleEnableSearch=function(){this.enableSearch?d["default"].set(this._searchControls,"display",""):d["default"].set(this._searchControls,"display","none")};B.prototype._toggleEnableRestrict=function(){this.enableRestrict?d["default"].set(this._restrictSearchControl,"display",""):d["default"].set(this._restrictSearchControl,"display","none")};
B.prototype._toggleRestrictSearch=function(){this._restrictSearch.set("checked",this.restrictSearch)};B.prototype._toggleEnableListActions=function(){this.enableListActions?(d["default"].set(this._addAllContainer,"display",""),d["default"].set(this._clearAllContainer,"display","")):(d["default"].set(this._addAllContainer,"display","none"),d["default"].set(this._clearAllContainer,"display","none"))};B.prototype._searchClick=function(x){var D=this;x&&x.preventDefault();x=t["default"].trim(this._searchBox.get("value"));
0<(null===x||void 0===x?void 0:x.length)?this._doSearch(x).then(function(){return D._refreshGroups()}):(this.groupResults=null,this._refreshGroups())};B.prototype._searchGroups=function(x){return p["default"].request({url:q["default"].restBaseUrl+"community/groups",content:x})};B.prototype._configureSearchParams=function(x,D,E){var y=this.user,F=this.restrictSearch,G=this.excludeSharedUpdateGroups;y=(null===y||void 0===y?0:y.accountId)&&F?"orgid:"+y.accountId:"";F=0<(null===E||void 0===E?void 0:E.length);
var H=p["default"].isPortal()?' -owner:"esri_nav" -owner:"esri_boundaries" -owner:"esri_demographics" -owner:"esri_livingatlas"':"";G&&(H+=" -capabilities:updateitemcontrol");return{start:x,num:D,sortField:"title",sortOrder:"asc",q:F?"("+E+H+" "+y+")":y+H}};B.prototype._doSearch=function(x){var D,E=this,y=new z["default"],F=[],G=0<(null===x||void 0===x?void 0:x.length),H=E._configureSearchParams(1,100,x),I=E.excludeEnterpriseGroups,N=E.capResults,M=0,J=-1,R=0,Z=0,T=[],X,aa,fa;0===(null===(D=H.q)||
void 0===D?void 0:D.length)?E._processGroups(G,[]).then(function(){y.resolve()}):E._searchGroups(H).then(function(oa){if(oa.code&&oa.message)y.reject(oa);else{if(p["default"].isPortal()&&I)for(fa=0;fa<oa.results.length;fa++)aa=oa.results[fa],g["default"].isDefined(aa.provider)||g["default"].isDefined(aa.providerGroupName)||T.push(aa);else T=T.concat(oa.results);N&&0<N&&(oa.total>N&&(oa.total=N),oa.nextStart>N&&(oa.nextStart=-1));if(0<oa.nextStart){R=oa.total-oa.results.length;Z=Math.ceil(R/100);for(J=
oa.nextStart;M<Z;M++)H.start=J+100*M,F.push(E._searchGroups(H));v["default"](F).then(function(ua){for(M=0;M<ua.length;M++)if(X=ua[M],!X.code&&!X.message)if(p["default"].isPortal()&&I)for(fa=0;fa<X.results.length;fa++)aa=X.results[fa],g["default"].isDefined(aa.provider)||aa.providerGroupName||T.push(aa);else T=T.concat(X.results);E._processGroups(G,T).then(function(){y.resolve()})},function(ua){y.resolve()})}else E._processGroups(G,T).then(function(){y.resolve()})}},function(oa){y.reject(oa)});return y};
B.prototype._clearSearch=function(){var x=this;this._searchBox.set("value","");this._toggleClearSearchButton();this._doSearch(null).then(function(){return x._refreshGroups()})};B.prototype._restrictSearchChange=function(){this.restrictSearch=this._restrictSearch.get("checked");this._searchClick(null)};B.prototype._processGroups=function(x,D){var E=new z["default"];this._distinguishGroupTitles(D);x?this.groupResults=D:(this.groups=D,this.groupResults=null);this._emitResult(D);E.resolve();return E};
B.prototype._distinguishGroupTitles=function(x){if(g["default"].isDefined(x)){for(var D=q["default"].isRightToLeft?" \x26#8207;":" ",E={},y=0,F,G;y<x.length;y++)F=x[y],G=E[F.title],E[F.title]=G?G+1:1;for(y=0;y<x.length;y++)F=x[y],G=E[F.title],1<G&&(F.altTitle=F.title+D+"("+F.owner+")")}};B.prototype._retrieveCurrentGroups=function(){var x=this.groupResults;return null!==x&&void 0!==x?x:this.groups};B.prototype._retrieveSelectedGroups=function(){return this.selectedGroups||[]};B.prototype._emitSelect=
function(x){this.emit("select",{selectedGroup:x})};B.prototype._emitRemove=function(x){this.emit("remove",{removedGroup:x})};B.prototype._emitSelectionChange=function(){this.emit("selection-change",{selectedGroups:this._retrieveSelectedGroups()})};B.prototype._emitResult=function(x){this.emit("result",{groups:x})};B.prototype._selectGroup=function(x){var D;if(null!==(D=null===x||void 0===x?void 0:x.target)&&void 0!==D&&D.id){x.preventDefault();var E=x.target.id.indexOf("group-");D=!1;var y;if(-1<
E&&(x=parseInt(x.target.id.substring(E+6),10),E=this._retrieveCurrentGroups())&&(y=E[x])){x=this._retrieveSelectedGroups();for(E=0;E<x.length;E++){var F=x[E];if(F.id===y.id||F.title===y.title&&F.owner===y.owner){D=!0;break}}D||(D=t["default"].clone(y),x.push(D),this.selectedGroups=x,this._emitSelect(D),this._emitSelectionChange(),this._refreshSelectedGroups())}}};B.prototype._removeGroup=function(x){var D;null!==(D=null===x||void 0===x?void 0:x.target)&&void 0!==D&&D.id&&(x.preventDefault(),-1<x.target.id.indexOf("selected-group-")&&
(D=parseInt(x.target.id.substring(15),10),x=this._retrieveSelectedGroups(),x.length>D&&(D=x.splice(D,1)[0],this.selectedGroups=x,this._emitRemove(D),this._emitSelectionChange(),this._refreshSelectedGroups())))};B.prototype._refreshSelectedGroups=function(){var x;r["default"].set(this._selectedGroupsPane,"innerHTML","");var D=this._retrieveSelectedGroups(),E;if(D)for(E=0;E<D.length;E++){var y=D[E];l["default"].create("a",{href:"#",id:"selected-group-"+E,innerHTML:null!==(x=y.altTitle)&&void 0!==x?
x:y.title,className:"linkNoHref","data-id":y.id,"data-title":y.title,"data-owner":y.owner,tabindex:0},this._selectedGroupsPane);l["default"].create("br",null,this._selectedGroupsPane)}};B.prototype._refreshGroups=function(){var x;r["default"].set(this._groupsPane,"innerHTML","");var D=this._retrieveCurrentGroups(),E;if(0<(null===D||void 0===D?void 0:D.length))for(E=0;E<D.length;E++){var y=D[E];l["default"].create("a",{id:"group-"+E,innerHTML:null!==(x=y.altTitle)&&void 0!==x?x:y.title,className:"linkNoHref",
"data-id":y.id,"data-title":y.title,"data-owner":y.owner,tabindex:0},this._groupsPane);l["default"].create("br",null,this._groupsPane)}else 0===(null===D||void 0===D?void 0:D.length)&&l["default"].create("span",{innerHTML:this.i18n.noSearchResults},this._groupsPane)};B.prototype._addAllClick=function(){var x,D=this._retrieveCurrentGroups(),E=this._retrieveSelectedGroups();E=null!==(x=null===E||void 0===E?void 0:E.length)&&void 0!==x?x:0;this.selectedGroups=t["default"].clone(D);this._refreshSelectedGroups();
D.length!==E&&this._emitSelectionChange()};B.prototype._clearAllClick=function(){var x=this._retrieveSelectedGroups();this.selectedGroups=[];this._refreshSelectedGroups();0<x.length&&this._emitSelectionChange()};B.prototype.enableSearchUI=function(x){this.enableSearch=x;this._toggleEnableSearch()};B.prototype.enableRestrictSearchUI=function(x){this.enableRestrict=x;this._toggleEnableRestrict()};B.prototype.restrictSearchToOrg=function(x){this.restrictSearch=x;this._toggleRestrictSearch();this._searchClick(null)};
B.prototype.enableListActionsUI=function(x){this.enableListActions=x;this._toggleEnableListActions()};B.prototype.reset=function(){this._clearSearch();this._clearAllClick()};B.prototype.focusSearch=function(){this._searchBox&&this._searchBox.focus()};B.prototype._setSearchLabelAttr=function(x){this._searchLabel&&r["default"].set(this._searchLabel,"innerHTML",x)};B.prototype._setGroupsLabelAttr=function(x){this._groupListLabel&&r["default"].set(this._groupListLabel,"innerHTML",x)};B.prototype._setGroupsClickLabelAttr=
function(x){this._groupsClickLabel&&r["default"].set(this._groupsClickLabel,"innerHTML",x)};B.prototype._setSelectedGroupsLabelAttr=function(x){this._selectedGroupListLabel&&r["default"].set(this._selectedGroupListLabel,"innerHTML",x)};B.prototype._setSelectedGroupsClickLabelAttr=function(x){this._selectedGroupsClickLabel&&r["default"].set(this._selectedGroupsClickLabel,"innerHTML",x)};B.prototype._setGroupsAttr=function(x){this.groups=x;this.groupResults=null;this._refreshGroups()};B.prototype._getGroupsAttr=
function(){return this._retrieveCurrentGroups()};B.prototype._setSelectedGroupsAttr=function(x){this.selectedGroups=x;this._emitSelectionChange();this._refreshSelectedGroups()};B.prototype._getSelectedGroupsAttr=function(){return this._retrieveSelectedGroups()};B.prototype._setValueAttr=function(x){this.selectedGroups=x;this._emitSelectionChange();this._refreshSelectedGroups()};B.prototype._getValueAttr=function(){return this._retrieveSelectedGroups()};return B=n.__decorate([f["default"](u["default"],
k["default"],w["default"])],B)}()})},"arcgisonline/pages/group/widgets/CreateGroup/CreateGroup":function(){define("require exports tslib preact dojo/on dojo/text!./templates/CreateGroup.html dojo/i18n!../../../../nls/arcgisonline esri/lang dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts ./Overview ./Membership ./GroupDesignations arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/SubscriptionStatusDlg arcgisonline/sharing/dijit/dialog/SelectEnterpriseGroupDlg arcgisonline/esriGeowConfig ../../../components/Group/MembershipAndDesignations/MembershipAndDesignations arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t){p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);return function(){function v(A,B){this.title=
f["default"].createGroupOverlay.title;this.i18n=f["default"];this.overlayContents=h["default"];this.maxWidth=1080;this.constrain=!0;this.hasTrustedOrgs=this.closeOnScrimClick=!1;this.defaultMemberAccess="org";this.isSharedUpdate=this.isAdminGroup=this.isAdmin=!1;this.MAX_GROUPS_DEFAULT=512;this.handleMembershipAndDesignationsChange=this.handleMembershipAndDesignationsChange.bind(this)}v.prototype.open=function(){var A=this;this.inherited(arguments);this._primaryBtn.id="create-group-save-btn";this._cancelBtn.id=
"create-group-cancel-btn";var B=this.portalUser.userRole,x=!this.portalUser.orgId,D=(this.isAdmin=!x&&this.portalUser.isOrgAdmin)||this.portal.canSharePublic&&B.canShareGroupToPublic(),E=this.isAdmin||B.canShareGroupToOrg();B=!x&&(this.isAdmin||B.isCustom()&&B.canManageEnterpriseGroups());x={portal:this.portal,portalUser:this.portalUser,canSharePublic:D,canShareToOrg:E,isAdmin:this.isAdmin,isPublicUser:x,checkForEnterpriseGroupSupport:B,hasTrustedOrgs:this.hasTrustedOrgs,defaultMemberAccess:this.defaultMemberAccess};
this.membershipCard=new l["default"](x,this.domNode.querySelector(".js-membership"));this.designations=new d["default"](n.__assign(n.__assign({},x),{membershipAccess:this.defaultMemberAccess}),this.domNode.querySelector(".js-group-designations"));this.overviewCard=new r["default"](x,this.domNode.querySelector(".js-overview"));this.own(this.membershipCard.on("membership/change",function(y){A.designations.membershipAccess=y;A.designations.calculateToggleStates()}),this.designations.on("admin-group/toggle",
function(y){A.isAdminGroup=y.checked;A.updateMembershipOptions()}),this.designations.on("shared-update/toggle",function(y){A.isSharedUpdate=y.checked;A.updateMembershipOptions()}))};v.prototype.close=function(){this.inherited(arguments)};v.prototype.handlePrimary=function(){var A=this;this.validate()&&this.getFormData().then(function(B){A.showLoader(A.i18n.createGroupOverlay.creating);var x=c["default"].hideDefaultCheckErrorMessage;c["default"].hideDefaultCheckErrorMessage=!0;e["default"].request({url:c["default"].restBaseUrl+
"community/createGroup",form:B},{usePost:!0}).then(function(D){c["default"].hideDefaultCheckErrorMessage=x;A.hideLoader();A.close();(null===D||void 0===D?0:D.success)&&(null===D||void 0===D?0:D.group)?window.location.href="group.html?id\x3d"+D.group.id:A.handleCreateGroupFailure(D)},function(D){A.hideLoader();A.handleCreateGroupFailure(D);c["default"].hideDefaultCheckErrorMessage=x;A.close()})})};v.prototype.renderMembershipAndDesignations=function(){var A=n.__assign(n.__assign(n.__assign({},this.i18n.common),
this.i18n.GroupWidget),this.i18n.createGroupOverlay);q.render(q.h(m["default"],{portal:this.portal,portalUser:this.portalUser,hasTrustedOrgs:this.hasTrustedOrgs,texts:A,enterpriseGroupType:"saml",supportsEnterpriseGroups:!1,request:e["default"].request,esriGeowConfig:c["default"],onChange:this.handleMembershipAndDesignationsChange}),this.domNode.querySelector(".js-membership-preact"))};v.prototype.handleMembershipAndDesignationsChange=function(A){this.membershipAndDesignations=A};v.prototype.showError=
function(A){z["default"].showAlert("error",A)};v.prototype.generateSubscriptionStatusDlg=function(){var A=new a["default"];p["default"].once(A.subscriptionStatusDlg,"hide",function(){A.subscriptionStatusDlg.destroyRecursive();A.destroyRecursive()});return A};v.prototype.handleCreateGroupFailure=function(A){var B=this,x,D,E=["SB_0005","SB_0006","SB_0007"],y=this.overviewCard.getValues().title,F=function(){window.location.href="group.html?owner\x3d"+encodeURIComponent(B.portalUser.username)+"\x26title\x3d"+
encodeURIComponent(y)};-1!==["SB_0001","SB_0002","SB_0003","SB_0004"].indexOf(null===A||void 0===A?void 0:A.messageCode)?this.generateSubscriptionStatusDlg().show(this.portal.subscriptionInfo):-1!==E.indexOf(null===A||void 0===A?void 0:A.messageCode)?this.generateSubscriptionStatusDlg().showOther(A.messageCode):-1<(null===(x=null===A||void 0===A?void 0:A.message)||void 0===x?void 0:x.indexOf("file exceeds the max size"))?(this.showError(A.message),setTimeout(F,3E3)):"COM_0044"===(null===A||void 0===
A?void 0:A.messageCode)?-1<(null===(D=null===A||void 0===A?void 0:A.details[0])||void 0===D?void 0:D.indexOf("open data"))?this.showError(this.i18n.GroupWidget.error.cantEnableOpenData):(A=g["default"].substitute({name:y},this.i18n.GroupWidget.error.nonUniqueName),this.showError(this.i18n.GroupWidget.error.cantCreateGroup+" "+A)):"COM_1064"===(null===A||void 0===A?void 0:A.messageCode)||"COM_0065"===(null===A||void 0===A?void 0:A.messageCode)?(A=this.retrieveMaxGroupsFromErrorMessage(A.message),A=
g["default"].substitute({numGroups:A},this.i18n.GroupWidget.error.groupMax),this.showError(this.i18n.GroupWidget.error.cantCreateGroup+" "+A)):"GWM_0021"===(null===A||void 0===A?void 0:A.messageCode)?this.showError(A.message):this.showError(this.i18n.GroupWidget.error.cantCreateGroup)};v.prototype.retrieveMaxGroupsFromErrorMessage=function(A){var B=/'(\d*)?'/;try{var x=B.exec(A);if(null!==x){var D=parseInt(x[x.length-1],10);if(!g["default"].isDefined(D)||isNaN(D))D=this.MAX_GROUPS_DEFAULT}else D=
this.MAX_GROUPS_DEFAULT}catch(E){D=this.MAX_GROUPS_DEFAULT}return D};v.prototype.updateMembershipOptions=function(){this.membershipCard.disableOptionsByDesignations({leavingDisallowed:this.isAdminGroup,isSharedOwnership:this.isSharedUpdate})};v.prototype.validate=function(){return this.overviewCard.validate()&&this.membershipCard.validate()};v.prototype.getFormData=function(){var A=this,B=this.overviewCard.getValues(),x=B.title,D=B.snippet,E=B.tags,y=B.thumbnailBlob,F=B.fileName,G=this.membershipCard.getValues();
B=G.autoJoin;var H=G.useEnterpriseGroup,I=G.isInvitationOnly,N=G.isViewOnly,M=G.contribute,J=G.enterpriseGroup,R=G.hiddenMembers,Z=G.access,T=G.privacy;G=G.membershipAccess;var X=this.designations.getValues(),aa=X.update,fa=X.isOpenData;X=X.adminGroup;var oa=this.membershipCard.enterpriseGroupType,ua=new FormData;y&&ua.append("thumbnail",y,F);ua.append("access",Z);ua.append("tags",E);ua.append("autoJoin",""+B);ua.append("isInvitationOnly",""+I);ua.append("isViewOnly",""+N);ua.append("sortField","title");
ua.append("sortOrder","asc");ua.append("displaySettings","");ua.append("isOpenData",""+fa);E=[];aa&&E.push("updateitemcontrol");ua.append("capabilities",E.join(","));ua.append("title",x);ua.append("snippet",D);ua.append("privacy",T);ua.append("enterpriseGroup",J);ua.append("update",""+aa);ua.append("contribute",M);this.isAdmin&&!H&&ua.append("hiddenMembers",""+R);this.portal.isPortal||!G&&""!==G||ua.append("membershipAccess",G);!this.isAdmin||H||B||(ua.append("leavingDisallowed",""+X),X&&ua.append("membershipAccess",
"org"));return new Promise(function(ha,U){if(A.portal.isPortal&&"saml"!==oa&&H){var ka=new b["default"];ka._searchEnterpriseGroups(J,10).then(function(W){var Q;ka._dialog.destroyRecursive();ka.destroyRecursive();C["default"].enterpriseGroupMatches(null===(Q=null===W||void 0===W?void 0:W.groups[0])||void 0===Q?void 0:Q.rolename,J)?(ua.append("provider","enterprise"),ua.append("providerGroupName",W.groups[0].rolename),ha(ua)):(z["default"].showAlert("error",A.i18n.GroupWidget.enterpriseGroups.invalidEnterpriseGroup),
U())},function(){ka._dialog.destroyRecursive();ka.destroyRecursive();z["default"].showAlert("error",A.i18n.GroupWidget.enterpriseGroups.searchEnterpriseGroupFailure);U()})}else"saml"===oa&&H&&(ua.append("provider","enterprise"),ua.append("providerGroupName",J)),ha(ua)})};return v=n.__decorate([t["default"](u["default"],k["default"],w["default"])],v)}()})},"arcgisonline/pages/group/widgets/CreateGroup/Overview":function(){define("require exports tslib preact esri/dijit/Tags dojo/text!./templates/Overview.html dojo/i18n!../../../../nls/arcgisonline dojo/topic dojo/on dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation arcgisonline/pages/utils/icons arcgisonline/pages/pageUtil arcgisonline/pages/utils/dom arcgisonline/sharing/util arcgisonline/pages/components/ImageUploadModal/ImageUploadModal arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(c,m){this.templateString=h["default"];this.i18n=n.__assign(n.__assign({},f["default"].GroupWidget),f["default"].createGroupOverlay);
this.icons=z["default"];this.thumbExtension="";this.handleThumbnailSave=this.handleThumbnailSave.bind(this);this.hideThumbnailModal=this.hideThumbnailModal.bind(this)}b.prototype.postCreate=function(){var c=this;this.inherited(arguments);this.render();this.own(k["default"](this.uploadBtn,"click",function(){c.handleUploadClick()}),g["default"].subscribe("thumbnail/change",function(m){return c.handleThumbUpload(m)}),k["default"](document.querySelector(".js-overlay-content"),"scroll",function(){c.tagsInput._created&&
!c.tagsInput.isValid()&&c.tagsInput._displayMessage(null)}))};b.prototype.getValues=function(){return{title:this.nameInput.getValue(),snippet:this.summaryInput.getValue(),tags:this.tagsInput.get("tags"),thumbnailBlob:this.thumbBlob,fileName:"thumbnail "+(new Date).getTime()+"."+this.thumbExtension}};b.prototype.validate=function(){var c=this.nameInput.validate();c||(this.nameInput.domNode.scrollIntoView({behavior:"smooth"}),this.nameInput.focus());return c};b.prototype.render=function(){this.nameInput=
new C["default"]({labelText:this.i18n.name,placeholder:this.i18n.nameHelp,requiredMsg:this.i18n.enterName,baseClass:"avenir-demi",inputId:"create-group-name-input"},this.domNode.querySelector(".js-name-input"));this.summaryInput=new C["default"]({labelText:this.i18n.newSummaryLabel,placeholder:this.i18n.newSummaryHelp,rows:4,type:"textarea",baseClass:"avenir-demi",maxLength:250,inputId:"create-group-summary-input"},this.domNode.querySelector(".js-summary-input"));this.tagsInput=new p["default"](r["default"].tagDefaults("groupTagsInput"),
"groupTagsInput");this.tagsInput.startup();this.populateTags()};b.prototype.handleThumbUpload=function(c){this.thumbImg.src=c.base64;this.thumbBlob=c.blob;this.thumbExtension=c.format;l["default"].showNode(this.thumbImg)};b.prototype.handleUploadClick=function(){this.thumbModalContainer||(this.thumbModalContainer=document.createElement("div"),this.thumbModalContainer.classList.add("create-group-thumbnail-modal-container"),document.body.appendChild(this.thumbModalContainer));this.renderThumbnailModal()};
b.prototype.renderThumbnailModal=function(){q.render(q.h(e["default"],{texts:{title:f["default"].GroupWidget.uploadThumbnail,size:f["default"].GroupWidget.thumbnailDlg.sizeSpecGroup},onSave:this.handleThumbnailSave,onCancel:this.hideThumbnailModal,height:233,zoomToFull:!0,fillBackground:!0}),this.thumbModalContainer)};b.prototype.handleThumbnailSave=function(c){g["default"].publish("thumbnail/change",c);this.hideThumbnailModal()};b.prototype.hideThumbnailModal=function(){q.render(null,this.thumbModalContainer)};
b.prototype.populateTags=function(){var c=this;d["default"].loadUserTags(this.portalUser.username).then(function(m){c.tagsInput.set("knownTags",m)})};return b=n.__decorate([a["default"](w["default"],u["default"])],b)}()})},"arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./TextboxWithValidation.html dojo/text!./UrlTextbox.html dojox/uuid/generateRandomUuid dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/pages/utils/validation arcgisonline/pages/utils/formatters arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);return function(){function l(d,e){this.type="text";this.labelClass=this.placeholder="";this.isValid=!0;this.inputId=this.labelDescription=this.labelText="";this.hide=z["default"].hide}l.prototype.postMixInProperties=
function(){this.inherited(arguments);this.uid=g["default"]();this.templateString="url"===this.type?f["default"]:h["default"]};l.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};l.prototype.validate=function(){if(!this.requiredMsg)return!0;var d=this.input.value.trim();if("string"===typeof this.requiredMsg){var e=this.requiredMsg;d=!!d}else e=this.requiredMsg(d),d=!e;d?C["default"].clearState([this.input,this.errorMsg]):C["default"].setInvalidState(this.input,
this.errorMsg,e);return this.isValid=d};l.prototype.clearError=function(){this.isValid=!0;C["default"].clearState([this.input,this.errorMsg])};l.prototype.showError=function(d){this.isValid=!1;C["default"].setInvalidState(this.input,this.errorMsg,d)};l.prototype.hideError=function(){this.isValid=!0;C["default"].clearState([this.input,this.errorMsg])};l.prototype.getValue=function(){var d=this.input.value.trim();return"url"===this.type&&(null===d||void 0===d?0:d.length)&&-1===(null===d||void 0===d?
void 0:d.indexOf("https://"))?"https://"+d:d};l.prototype.setValue=function(d){d=null!==d&&void 0!==d?d:"";"url"===this.type&&-1<d.indexOf("https://")&&(d=d.replace("https://",""));this.input.value=d};l.prototype.focus=function(){this.input.focus()};l.prototype.render=function(){if("textarea"===this.type){var d=this.domNode.querySelector(".js-textarea");this.rows&&(d.rows=this.rows);this.input=d}else this.input=this.domNode.querySelector(".js-text-input");this.placeholder&&(this.input.placeholder=
this.placeholder);w["default"].showNode(this.input);this.maxLength&&(this.input.maxLength=this.maxLength);this.input.id=this.inputId||this.uid;this.domNode.setAttribute("for",this.input.id)};l.prototype.addEventListeners=function(){this.own(p["default"](this.input,"input",this.handleInput.bind(this)))};l.prototype.handleInput=function(d){this.validate();this.emit("input")};return l=n.__decorate([r["default"](u["default"],k["default"],q["default"])],l)}()})},"arcgisonline/pages/group/widgets/CreateGroup/Membership":function(){define("require exports tslib esri/Evented dojo/Deferred dojo/on dojo/promise/all dojo/topic dojo/text!./templates/Membership.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/SelectOptions arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation arcgisonline/pages/group/widgets/HideMembers arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/ConfirmDialog arcgisonline/sharing/dijit/dialog/SelectEnterpriseGroupDlg arcgisonline/pages/dijit/_CheckReadonlyMixin arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);return function(){function B(x,D){this.templateString=k["default"];this.i18n=n.__assign(n.__assign(n.__assign({},u["default"].common),u["default"].GroupWidget),u["default"].createGroupOverlay);this.hasTrustedOrgs=this.isEditing=!1;this.defaultMemberAccess="org";this.enterpriseGroupType="";this.loaded=this.supportsEnterpriseGroups=!1;this.currentAccess="";this.lastJoinValue="invitation";this.isArabic=this.isSharedOwnership=this.leavingDisallowed=!1}B.prototype.postMixInProperties=
function(){this.inherited(arguments);this.isArabic="ar"===document.documentElement.lang};B.prototype.postCreate=function(){this.inherited(arguments);this.render()};B.prototype.getValues=function(){var x,D,E=this.joinOptions.value(),y=this.contributeOptions.value(),F=this.membersOptions.value(),G=this.portal.isPortal||!this.portal.id?"":null===(x=this.membershipOptions)||void 0===x?void 0:x.value();x=this.isPublicUser?"public":null===(D=this.viewOptions)||void 0===D?void 0:D.value();return{autoJoin:"autoJoin"===
E,useEnterpriseGroup:"enterprise"===E,isInvitationOnly:"invitation"===E,isViewOnly:"orgManagers"===y||"owners"===y,contribute:y,enterpriseGroup:"enterprise"===E?this.enterpriseGroupInput.getValue().trim():"",hiddenMembers:"ownerAndManagers"===F,access:x,privacy:x,membershipAccess:"anyOrg"===G?"":G}};B.prototype.validate=function(){var x="enterprise"!==this.joinOptions.value()||this.enterpriseGroupInput.validate();x||(this.enterpriseGroupInput.domNode.scrollIntoView({behavior:"smooth"}),this.enterpriseGroupInput.focus());
return x};B.prototype.disableOptionsByDesignations=function(x){var D=this,E,y,F=x.leavingDisallowed,G=x.isSharedOwnership,H="enterprise"===((null===(E=this.joinOptions)||void 0===E?void 0:E.value())||"");this.leavingDisallowed=F;this.isSharedOwnership=G;null===(y=this.membershipOptions)||void 0===y?void 0:y.selectOptions.forEach(function(I){"anyOrg"===I.value&&(F||G||H)?I.disable():"collaboration"===I.value&&(F||H)?I.disable():D.group&&!D.group.isGroupOwnerOrgMember()&&"org"===I.value?I.disable():
I.enable()});this.disableJoinOptionsByDesignations()};B.prototype.disableMembershipOptions=function(x){var D;null===(D=this.membershipOptions)||void 0===D?void 0:D.selectOptions.forEach(function(E){-1<x.indexOf(E.value)&&E.disable()})};B.prototype.disableJoinOptionsByDesignations=function(){var x=this,D,E,y=(null===(D=this.group)||void 0===D?void 0:D.membershipAccess)||(null===(E=this.membershipOptions)||void 0===E?void 0:E.value())||"org";this.joinOptions.selectOptions.forEach(function(F){"autoJoin"===
F.value&&(x.leavingDisallowed||x.isSharedOwnership)?F.disable():"enterprise"!==F.value||!x.leavingDisallowed&&"org"===y?F.enable():F.disable()})};B.prototype.disableAutoJoin=function(){this.joinOptions.selectOptions.forEach(function(x){"autoJoin"===x.value&&x.disable()})};B.prototype.enableAutoJoin=function(){this.joinOptions.selectOptions.forEach(function(x){"autoJoin"===x.value&&x.enable()})};B.prototype.disableOptions=function(){var x,D,E,y,F;null===(x=this.membershipOptions)||void 0===x?void 0:
x.disable();null===(D=this.joinOptions)||void 0===D?void 0:D.disable();null===(E=this.viewOptions)||void 0===E?void 0:E.disable();null===(y=this.contributeOptions)||void 0===y?void 0:y.disable();null===(F=this.membersOptions)||void 0===F?void 0:F.disable()};B.prototype.enableMembershipOptions=function(){var x;null===(x=this.membershipOptions)||void 0===x?void 0:x.enable()};B.prototype.handleHideMembersClick=function(){var x=this;if(!this.checkReadonly(this.portal)){var D=new a["default"]({onConfirm:function(){x.page._updateGroup({hiddenMembers:!0}).then(function(E){D.close();
x.viewMembersValue.textContent=x.i18n.onlyGroupManagers;d["default"].hideNode(x.hideMembersBtn);x.group.hiddenMembers=!0;l["default"].showAlert("success",x.i18n.settingsSuccess.hideMembers)},function(E){D.close();g["default"].publish("group-settings/error",E)})}});D.open()}};B.prototype.render=function(){var x=this;this.contributeOptions=this.createRadioGroup(this.getContributeOptions(),".js-contribute-options");this.membersOptions=this.createRadioGroup(this.getDisplayOptions(),".js-display-options");
this.group&&d["default"].hideNode(this.hideMembersTooltip);this.group&&this.contributeOptions.select(this.group.isViewOnly?"owners":"members");this.own(this.contributeOptions.on("change",function(E){x.group&&g["default"].publish("group/update",{successMessage:x.i18n.settingsSuccess.contribute,params:{isViewOnly:"owners"===E}})}),this.membersOptions.on("change",function(E){x.renderJoinOptions()}));this.group&&(d["default"].hideNode(this.membersOptions.domNode),this.group.hiddenMembers||!this.group.hiddenMembers&&
this.isAdmin&&this.group.isOwner&&!this.group.isBackedByEnterpriseGroup)&&(this.viewMembersValue.textContent=this.group.hiddenMembers?this.i18n.onlyGroupManagers:this.i18n.groupViewers,d["default"].showHide(this.hideMembersBtn,!this.group.hiddenMembers),this.own(h["default"](this.hideMembersBtn,"click",function(){return x.handleHideMembersClick()})),d["default"].showNode(this.editViewMembersSection));!this.portal.isPortal&&this.portal.id&&(this.membershipOptions=this.createRadioGroup(this.getMemberOptions(),
".js-member-options"),this.own(this.membershipOptions.on("change",function(E){var y=x.portalUser.userRole,F=new p["default"];x.group&&"org"===E&&!y.canAddExternalMembersToGroup()?x.confirmIrreversible().then(function(G){"onOk"===G?F.resolve(!0):(x.membershipOptions.select("anyOrg"),F.resolve(!1))}):F.resolve(!0);F.then(function(G){G&&(x.checkEnterpriseOptionState(E),x.emit("membership/change",E),G={membershipAccess:"anyOrg"===E?"":E},G.membershipAccess||(G.clearEmptyFields=!0),g["default"].publish("group/update",
{successMessage:x.i18n.settingsSuccess.allowedMembership,params:G,errorCallback:function(){x.checkEnterpriseOptionState(x.membershipOptions.previousValue);x.membershipOptions.revert()}}))})})));this.renderViewOptions();d["default"].showHide(this.membersSection,this.isAdmin&&(!this.group||this.group.isOwner&&!this.group.isBackedByEnterpriseGroup));d["default"].showHide(this.membershipSection,!this.portal.isPortal&&!!this.portal.id);var D=this.portalUser.userRole;D=(!this.group||this.group.isGroupOwnerOrgMember())&&
!this.isPublicUser&&(this.isAdmin||D.isCustom()&&D.canManageEnterpriseGroups());this.getEnterpriseInfo(D).then(function(){x.renderJoinOptions();x.checkMembershipOptionState(x.joinOptions.value());x.emit("loaded");x.loaded=!0})};B.prototype.checkEnterpriseOptionState=function(x){var D=this;this.joinOptions&&this.joinOptions.selectOptions.forEach(function(E){"enterprise"===E.value&&(D.leavingDisallowed||"org"!==x?E.disable():E.enable())})};B.prototype.checkMembershipOptionState=function(x){var D=this;
this.membershipOptions&&this.membershipOptions.selectOptions.forEach(function(E){var y="anyOrg"===E.value&&(D.leavingDisallowed||D.isSharedOwnership),F="collaboration"===E.value&&D.leavingDisallowed;"org"!==E.value&&"enterprise"===x||y||F?E.disable():"org"===E.value&&D.group&&!D.group.isGroupOwnerOrgMember()?E.disable():E.enable()})};B.prototype.renderViewOptions=function(){var x=this;if(this.isPublicUser)d["default"].hideNode(this.domNode.querySelector(".js-view-section"));else{var D="public";this.group?
D=this.group.access:this.isPublicUser||(this.canSharePublic||(D="org"),this.canShareToOrg||(D="private"));this.viewOptions=this.createRadioGroup(this.getViewOptions(),".js-view-options");this.viewOptions.select(D);this.viewOptions.selectOptions.forEach(function(E){x.canSharePublic||"public"!==E.value?x.canShareToOrg||"org"!==E.value||E.disable():E.disable()});this.currentAccess=D;this.own(this.viewOptions.on("change",function(){var E=x.viewOptions.value();if(x.currentAccess!==E){var y=new p["default"];
if(x.group){if(b["default"].groupUsedInOrgSettings(x.group.id)&&"private"===E){l["default"].showAlert("error",x.portal.isPortal?x.i18n.error.usedInPortalSettings:x.i18n.error.usedInOrgSettings);x.viewOptions.select(x.currentAccess);return}var F=x.portalUser.userRole;"public"===x.group.access&&(!F.canShareGroupToPublic()||!x.isAdmin&&!x.portal.canSharePublic)||"org"===x.group.access&&!F.canShareGroupToOrg()?x.confirmIrreversible().then(function(G){"onOk"===G?y.resolve(!0):(x.viewOptions.select(x.currentAccess),
y.resolve(!1))}):y.resolve(!0)}else y.resolve(!0);y.then(function(G){G&&(x.group&&g["default"].publish("group/update",{successMessage:x.i18n.settingsSuccess.view,params:{access:E}}),g["default"].publish("group-access/change",E),"private"!==x.currentAccess&&"private"!==E||x.renderJoinOptions(),x.currentAccess=E)})}}))}};B.prototype.renderJoinOptions=function(){var x=this,D;this.joinOptions&&(this.joinOptions.domNode.insertAdjacentHTML("afterend",'\x3cdiv class\x3d"js-join-options"\x3e\x3c/div\x3e'),
this.searchEnterpriseBtn.insertAdjacentHTML("beforebegin",'\x3cdiv class\x3d"js-enterprise-group-input"\x3e\x3c/div\x3e'),this.joinOptions.destroy());this.joinOptions=this.createRadioGroup(this.getJoinOptions(),".js-join-options");var E=(null===(D=this.enterpriseGroupInput)||void 0===D?void 0:D.getValue())||"";this.enterpriseGroupInput=new e["default"]({labelText:this.i18n.joinOptions.enterpriseLabel,placeholder:this.i18n.joinOptions.enterprisePlaceholder,requiredMsg:this.i18n.enterpriseGroups.missingEnterpriseGroupName,
baseClass:"trailer-0"},this.enterpriseInputContainer.querySelector(".js-enterprise-group-input"));E&&this.enterpriseGroupInput.setValue(E);this.group&&(this.group.provider&&this.group.providerGroupName?(this.enterpriseGroupInput.setValue(this.group.providerGroupName),this.joinOptions.select("enterprise")):this.group.isInvitationOnly?this.joinOptions.select("invitation"):this.group.autoJoin?this.joinOptions.select("autoJoin"):this.joinOptions.select("request"));this.supportsEnterpriseGroups&&(this.group?
(this.enterpriseInputContainer.className="hide position-relative",this.enterpriseInputContainer.querySelector(".js-group-name-wrapper").classList.add("enterprise-group-name-wrapper"),d["default"].showNode(this.enterpriseButtons),this.group.provider&&this.group.providerGroupName&&(d["default"].showNode(this.enterpriseInputContainer),d["default"].hideNode(this.cancelEnterpriseBtn))):this.enterpriseInputContainer.className="hide leader-quarter margin-left-2 margin-right-3 trailer-half",this.joinOptions.selectOptions.forEach(function(y){"enterprise"===
y.value&&y.domNode.insertAdjacentElement("afterend",x.enterpriseInputContainer)}));this.joinOptions.value()||(this.joinOptions.select("invitation"),this.lastJoinValue="invitation");"enterprise"===this.joinOptions.value()&&d["default"].showNode(this.enterpriseInputContainer);this.disableJoinOptionsByDesignations();this.own(this.joinOptions.on("change",function(y){"enterprise"!==y&&g["default"].publish("group/update",{successMessage:x.i18n.settingsSuccess.join,params:{isInvitationOnly:"invitation"===
y,autoJoin:"autoJoin"===y,provider:"enterprise"===y?"enterprise":"",providerGroupName:"enterprise"===y?x.enterpriseGroupInput.getValue():"",clearEmptyFields:!0}});x.lastJoinValue=y;x.publishJoinChange()}),h["default"](this.cancelEnterpriseBtn,"click",function(){x.joinOptions.select(x.joinOptions.previousValue);x.publishJoinChange()}),h["default"](this.saveEnterpriseBtn,"click",function(){x.validate()&&g["default"].publish("group/update",{successMessage:x.i18n.settingsSuccess.join,params:{isInvitationOnly:!1,
autoJoin:!1,provider:"enterprise",providerGroupName:x.enterpriseGroupInput.getValue(),clearEmptyFields:!0}})}))};B.prototype.publishJoinChange=function(){var x=this.joinOptions.value();g["default"].publish("group-join/change",x);this.enterpriseGroupInput.clearError();"request"===x?(this.joinDesc.textContent=this.i18n.joinOptions["requestDesc"+(this.isPublicUser?"Public":"")],d["default"].showNode(this.joinDesc)):d["default"].hideNode(this.joinDesc);"enterprise"===x?(d["default"].showNode(this.enterpriseInputContainer),
d["default"].showNode(this.cancelEnterpriseBtn),this.membersOptions.selectOptions.forEach(function(D){"ownerAndManagers"===D.value&&D.disable()})):(d["default"].hideNode(this.enterpriseInputContainer),this.membersOptions.enable());this.checkMembershipOptionState(x)};B.prototype.getEnterpriseInfo=function(x){var D=new p["default"];x?this.portal.isPortal?this.checkEnterprisePortal().then(function(){D.resolve()}):this.checkEnterprise().then(function(){D.resolve()}):(this.enterpriseGroupType=void 0,this.supportsEnterpriseGroups=
!1,D.resolve());return D};B.prototype.checkEnterprisePortal=function(){var x=this,D=new p["default"];f["default"]({enterpriseGroupConfig:r["default"].checkEnterpriseGroupStore(),idpConfig:r["default"].fetchIDPConfig()}).then(function(E){var y=E.enterpriseGroupConfig;E=E.idpConfig;(null===y||void 0===y?0:y.supportsEnterpriseGroups)?(E=y.supportsEnterpriseGroups,x.enterpriseGroupType=y.storeType,x.supportsEnterpriseGroups=E):(null===E||void 0===E?0:E.updateGroupsAtSignin)?(x.enterpriseGroupType="saml",
x.supportsEnterpriseGroups=E.updateGroupsAtSignin):(x.enterpriseGroupType=void 0,x.supportsEnterpriseGroups=!1);"saml"!==x.enterpriseGroupType&&(d["default"].showNode(x.searchEnterpriseBtn),x.own(h["default"](x.searchEnterpriseBtn,"click",function(){r["default"].createSpecifiedDialog(m["default"],{},x.searchEnterpriseBtn).show(x.enterpriseGroupInput.getValue())}),g["default"].subscribe("enterprise-group-selected",function(F){x.enterpriseGroupInput.setValue(F.rolename)})));D.resolve()},function(){x.enterpriseGroupType=
void 0;x.supportsEnterpriseGroups=!1;D.resolve()});return D};B.prototype.checkEnterprise=function(){var x=this,D=new p["default"];b["default"].request({url:b["default"].getSecureUrl(A["default"].restBaseUrl)+"portals/self/idp"}).then(function(E){x.enterpriseGroupType="saml";x.supportsEnterpriseGroups=null===E||void 0===E?void 0:E.updateGroupsAtSignin;D.resolve()},function(){x.enterpriseGroupType=void 0;x.supportsEnterpriseGroups=!1;D.resolve()});return D};B.prototype.getMemberOptions=function(){var x,
D,E=this.i18n.memberOptions,y=E.collab,F=E.external;return n.__spreadArray(n.__spreadArray([{inputId:"can-be-members-org",name:"can-be-members",text:E.org,value:"org",selected:this.group?"org"===this.group.membershipAccess:"org"===this.defaultMemberAccess}],!this.portal.isPortal&&this.portal.canHavePartnerCollab()&&this.hasTrustedOrgs?[{inputId:"can-be-members-collaboration",name:"can-be-members",text:y,value:"collaboration",selected:"collaboration"===this.defaultMemberAccess||"collaboration"===(null===
(x=this.group)||void 0===x?void 0:x.membershipAccess)}]:[]),[{inputId:"can-be-members-anyOrg",name:"can-be-members",text:F,value:"anyOrg",selected:""===(null===(D=this.group)||void 0===D?void 0:D.membershipAccess)||this.group&&!this.group.membershipAccess}])};B.prototype.getViewOptions=function(){var x=this.i18n.viewOptions;return[{inputId:"can-view-group-private",name:"can-view-group",text:x.groupMembers,value:"private",selected:!0},{inputId:"can-view-group-org",name:"can-view-group",text:x.orgMembers,
value:"org"},{inputId:"can-view-group-public",name:"can-view-group",text:x.everyone,value:"public"}]};B.prototype.getJoinOptions=function(){var x,D,E=this.i18n.joinOptions,y=E.request,F=E.invitation;E=E.add;var G=this.supportsEnterpriseGroups&&this.i18n.joinOptions[this.enterpriseGroupType+"Enterprise"],H=null===(x=this.viewOptions)||void 0===x?void 0:x.value();x="ownerAndManagers"===(null===(D=this.membersOptions)||void 0===D?void 0:D.value());return n.__spreadArray(n.__spreadArray(n.__spreadArray([{inputId:"join-group-by-invitation",
name:"join-group-by",text:F,value:"invitation",selected:"invitation"===this.lastJoinValue}],"private"!==H?[{inputId:"join-group-by-request",name:"join-group-by",text:y,value:"request",selected:"request"===this.lastJoinValue}]:[]),this.supportsEnterpriseGroups&&!x?[{inputId:"join-group-by-enterprise",name:"join-group-by",text:G,value:"enterprise",selected:"enterprise"===this.lastJoinValue}]:[]),this.isPublicUser||"private"===H?[]:[{inputId:"join-group-by-autoJoin",name:"join-group-by",text:E,value:"autoJoin",
selected:"autoJoin"===this.lastJoinValue}])};B.prototype.getContributeOptions=function(){var x=this.i18n,D=x.ownerAndManagers,E=x.ownerOnly;return[{inputId:"contribute-by-members",name:"contribute-by",text:x.allMembers,value:"members",selected:!0},{inputId:"contribute-by-owners",name:"contribute-by",text:this.isPublicUser?E:D,value:"owners"}]};B.prototype.getDisplayOptions=function(){var x=this.i18n;return[{inputId:"display-members-to-members",name:"display-members-to",text:x.groupViewers,value:"allMembers",
selected:!0},{inputId:"display-members-to-owner",name:"display-members-to",text:x.ownerAndManagers,value:"ownerAndManagers"}]};B.prototype.createRadioGroup=function(x,D){return new z["default"]({options:x,rounded:!0,vertical:!0},this.domNode.querySelector(D))};B.prototype.confirmIrreversible=function(){new p["default"];var x=new c["default"]({"class":"confirmDlg-default"});return x.show({title:this.i18n.notice,message:this.i18n.changeSettingIrreversible}).then(function(D){"onOk"===D&&x.hide();return D})};
return B=n.__decorate([v["default"](C["default"],w["default"],t["default"],q["default"])],B)}()})},"arcgisonline/pages/dijit/SelectOptions":function(){define("require exports tslib esri/Evented dojo/on dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid arcgisonline/pages/utils/dom ./SelectOption/SelectOption arcgisonline/tsutils/declareDecorator".split(" "),function(O,K,n,q,p,h,f,g,k,u,w,C){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);
f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);return function(){function z(r,l){this.templateString='\x3cdiv class\x3d"select-options flex"\x3e\x3c/div\x3e';this.i18n=h["default"];this.id=null;this.vertical=this.rounded=!1;this.previousValue=""}z.prototype.postMixInProperties=function(){this.inherited(arguments);this.id=this.id||k["default"]()};z.prototype.postCreate=function(){this.inherited(arguments);this.render()};
z.prototype.value=function(){return this.selectedValue};z.prototype.select=function(r){this.handleSelect(r,!0)};z.prototype.revert=function(){this.handleSelect(this.previousValue,!0)};z.prototype.disable=function(){this.selectOptions.forEach(function(r){r.disable()})};z.prototype.enable=function(){this.selectOptions.forEach(function(r){r.enable()})};z.prototype.render=function(){var r=this;this.vertical&&this.domNode.classList.add("select-options--vertical");this.selectOptions=this.options.map(function(l){var d=
new w["default"](n.__assign(n.__assign(n.__assign(n.__assign({},l),r.optionsClass&&{baseClass:r.optionsClass}),r.optionsLabelClass&&{labelClass:r.optionsLabelClass}),{vertical:r.vertical}));l.selected&&(r.selectedValue=l.value);r.own(p["default"](d,"select",r.handleSelect.bind(r)));return d});u["default"].appendChildren(this.selectOptions.map(function(l){return l.domNode}),this.domNode);this.rounded&&(this.domNode.classList.add("radio-group--rounded"),this.selectOptions.forEach(function(l){l.domNode.classList.add("margin-right-half")}))};
z.prototype.handleSelect=function(r,l){this.selectOptions.forEach(function(d){d.value!==r?d.deselect():d.select()});this.previousValue=this.selectedValue;this.selectedValue=r;l||this.emit("change",this.selectedValue)};return z=n.__decorate([C["default"](g["default"],f["default"],q["default"])],z)}()})},"arcgisonline/pages/dijit/SelectOption/SelectOption":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./SelectOption.html dojo/text!./SelectOptionRadio.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);return function(){function z(r,l){this.templateString=h["default"];this.labelClass="";this.vertical=!1;this.inputId=""}z.prototype.postMixInProperties=function(){this.inherited(arguments);this.vertical&&(this.templateString=f["default"])};z.prototype.postCreate=
function(){this.inherited(arguments);this.render()};z.prototype.deselect=function(){this.selected=!1;this.radio.checked=!1;this.radio.removeAttribute("checked");this.domNode.classList.remove("select-option__radio-label--selected")};z.prototype.select=function(){this.selected=!0;this.radio.checked=!0;this.domNode.classList.add("select-option__radio-label--selected")};z.prototype.disable=function(){this.domNode.classList.add("select-option--disabled");this.radio.disabled=!0};z.prototype.enable=function(){this.domNode.classList.remove("select-option--disabled");
this.radio.disabled=!1};z.prototype.render=function(){this.selected&&this.select();this.icon&&(this.iconContainer.innerHTML=u["default"][this.icon]["24"],w["default"].showNode(this.iconContainer));this.inputId&&(this.radio.id=this.inputId,this.selectLabel.setAttribute("for",this.radio.id));this.addEventListeners()};z.prototype.addEventListeners=function(){this.own(p["default"](this.vertical?this.radio:this.selectLabel,"click",this.handleClick.bind(this)))};z.prototype.handleClick=function(r){this.vertical&&
this.domNode.classList.add("select-option__radio-label--selected");this.emit("select",this.value)};return z=n.__decorate([C["default"](k["default"],g["default"],q["default"])],z)}()})},"arcgisonline/pages/group/widgets/HideMembers":function(){define("require exports tslib dojo/string dijit/_TemplatedMixin dijit/_WidgetBase ../../dijit/Overlay ../../../tsutils/declareDecorator dojo/text!./templates/HideMembers.html dojo/i18n!../../../nls/arcgisonline ../../utils/icons".split(" "),function(O,K,n,q,
p,h,f,g,k,u,w){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);return function(){function C(z,r){this.title=u["default"].GroupWidget.hideMembersDlg.title;this.primaryBtnText=u["default"].GroupWidget.hideMembersDlg.hide;this.i18n=u["default"];this.icons=w["default"];this.constrain=!0;this.overlayContents=q["default"].substitute(k["default"],{i18n:u["default"],icons:w["default"]});
this.maxWidth=500;this.background="white"}C.prototype.handlePrimary=function(){this.onConfirm()};C.prototype.open=function(){this.inherited(arguments)};C.prototype.close=function(){this.inherited(arguments)};return C=n.__decorate([g["default"](h["default"],p["default"],f["default"])],C)}()})},"arcgisonline/sharing/dijit/dialog/SelectEnterpriseGroupDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/event dojo/on dojo/dom-class dojo/dom-construct dojo/dom-style dojo/keys dojo/topic dojo/store/Memory esri/lang esri/request arcgisonline/sharing/util arcgisonline/sharing/dijit/Grid arcgisonline/esriGeowConfig dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/Button dijit/form/TextBox dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/SelectEnterpriseGroupDlg.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A){var B=K("arcgisonline.sharing.dijit.dialog.SelectEnterpriseGroupDlg",[a,b,c],{declaredClass:"arcgisonline.sharing.dijit.dialog.SelectEnterpriseGroupDlg",basePath:O.toUrl("esri/arcgisonline/sharing/dijit/dialog"),baseClass:"esriSelectEnterpriseGroupDlg",widgetsInTemplate:!0,templateString:A,rowsPerPage:10,_maxGroups:1E3,_searchEnterpriseGroupsAPI:"/security/groups/searchEnterpriseGroups",postMixInProperties:function(){this.inherited(arguments);
this.i18n={};n.mixin(this.i18n,v.common);n.mixin(this.i18n,v.selectEnterpriseGroupDlg)},postCreate:function(){this.inherited(arguments);this._portalAdminUrl=l.getPortalAdminBaseUrl()},startup:function(){this.inherited(arguments)},show:function(x){this._clear();this._initSearch(x);this._dialog.show();this._groupsGrid&&this._groupsGrid._started&&(this._groupsGrid._grid.resize(),this._groupsGrid._grid.refresh());this.onSearch()},onSearchKeyDown:function(x){x.keyCode==u.ENTER&&(p.stop(x),this.onSearch())},
onSearch:function(x){x&&x.preventDefault();this._clearGroupsGrid();this._groupsGrid.refresh();this._setSearchingMessage(this.i18n.searching);(x=this._search.get("value"))&&""!==x?this._searchEnterpriseGroups(x).then(n.hitch(this,function(D){if(D&&D.groups&&0<D.groups.length){var E=this._groupsGrid.get("store"),y;for(y=0;y<D.groups.length;y++)E.put(D.groups[y])}this._groupsGrid.refresh()}),n.hitch(this,function(D){this._groupsGrid.refresh()})):this._defaultGroupsQuery()},onGoToPageKeyDown:function(x){x.keyCode==
u.ENTER&&(p.stop(x),this.onGoToPage())},onGoToPage:function(){var x=this._goTo.get("value"),D=Math.ceil(this._groupsGrid._grid._total/this._groupsGrid._grid._rowsOnPage);try{x=parseInt(x),x<=D?this._groupsGrid._grid.gotoPage(x).then(n.hitch(this,function(){this._goTo.set("value","")})):this._goTo.set("value","")}catch(E){this._goTo.set("value","")}},onCancel:function(){this._dialog.hide()},onOk:function(){w.publish("enterprise-group-selected",this._selectedGroup);this._dialog.hide()},_setSearchingMessage:function(x){if(this._groupsGrid){var D=
this._groupsGrid.domNode.querySelector(".dgrid-no-data");D&&(D.textContent=x)}},_searchEnterpriseGroups:function(x,D){var E=l.formatPortalOrgUrl(this._portalAdminUrl,this._searchEnterpriseGroupsAPI,(e.portal||{}).id),y={maxCount:z.isDefined(D)?D:this._maxGroups};z.isDefined(x)&&0<x.length&&(y.filter=x);return l.request({url:E,content:y})},_defaultGroupsQuery:function(){this._clearGroupsGrid();this._searchEnterpriseGroups().then(n.hitch(this,function(x){if(x&&x.groups&&0<x.groups.length){var D=this._groupsGrid.get("store"),
E;for(E=0;E<x.groups.length;E++)D.put(x.groups[E])}this._groupsGrid.refresh()}),n.hitch(this,function(x){this._groupsGrid.refresh()}))},_groupsGridColumns:function(){return{rolename:{label:" "+this.i18n.groupNameCol,sortable:!1,formatter:n.hitch(this,function(x){return'\x3cspan class\x3d"esriContentTypeName"\x3e'+x+"\x3c/span\x3e"})},description:{label:" "+this.i18n.descCol,sortable:!1,formatter:n.hitch(this,function(x){x=z.isDefined(x)?x:"";return'\x3cspan class\x3d"esriContentTypeName"\x3e'+x+"\x3c/span\x3e"})}}},
_createGroupsGrid:function(){this._groupsGrid=new d({columns:this._groupsGridColumns(),id:"groupsGrid",region:"center",noDataMessage:this.i18n.noGroupsFound,showLoadingMessage:!0,showHeader:!0,rowsPerPage:this.rowsPerPage,pagingLinks:!0,selectionMode:"single",store:new C({identifier:"rolename",label:"rolename",data:[]})},g.create("div",null,this._gridContainer));this._groupsGrid.startup();this._groupsGrid.on("dgrid-select",n.hitch(this,this._selectedGridRow));this._groupsGrid.on("dgrid-deselect",
n.hitch(this,this._deselectedGridRow));this._groupsGrid.on("dgrid-refresh-complete",n.hitch(this,function(){1<Math.ceil(this._groupsGrid._grid._total/this._groupsGrid._grid._rowsOnPage)?k.set(this._goToPageContainer,"display",""):k.set(this._goToPageContainer,"display","none")}))},_selectedGridRow:function(x){f.add(x.rows[0].element,"selectedGroup");this._selectedGroup=x.rows[0].data;this._okBtn.set("disabled",!1)},_deselectedGridRow:function(x){f.remove(x.rows[0].element,"selectedGroup");this._selectedGroup&&
this._selectedGroup.name===x.rows[0].data.name&&(this._selectedGroup=null,this._okBtn.set("disabled",!0))},_initGrid:function(){this._groupsGrid?this._clearGroupsGrid():this._createGroupsGrid();this._groupsGrid.refresh()},_clearGroupsGrid:function(){var x=this._groupsGrid.get("store"),D=x.query(),E;for(E=0;E<D.length;E++)D[E]&&D[E].id&&x.remove(D[E].id)},_clear:function(){this._search.set("value","");this._selectedGroup=null;this._okBtn.set("disabled",!0);this._initGrid()},_initSearch:function(x){z.isDefined(x)&&
this._search.set("value",x)}});B.prototype.statics={_instance:null,getInstance:function(){null==this._instance&&(this._instance=new B);return this._instance}};return B})},"arcgisonline/pages/group/widgets/CreateGroup/GroupDesignations":function(){define("require exports tslib esri/Evented dojo/text!./templates/GroupDesignations.html dojo/i18n!../../../../nls/arcgisonline dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/ToggleSwitch arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);return function(){function z(r,l){this.templateString=p["default"];this.i18n=n.__assign(n.__assign({},h["default"].GroupWidget),h["default"].createGroupOverlay);this.membershipAccess="org";this.joinOption="invitation"}z.prototype.postCreate=function(){this.inherited(arguments);
this.render();this.calculateToggleStates()};z.prototype.getValues=function(){return{update:this.sharedUpdateToggle.checked(),isOpenData:this.openDataToggle.checked(),adminGroup:this.adminGroupToggle.checked()}};z.prototype.disableAdminGroup=function(){this.adminGroupToggle.disable()};z.prototype.enableAdminGroup=function(){this.adminGroupToggle.enable()};z.prototype.disableSharedUpdate=function(){this.sharedUpdateToggle.disable()};z.prototype.enableSharedUpdate=function(){this.sharedUpdateToggle.enable()};
z.prototype.disabledOpenData=function(){this.openDataToggle.disable()};z.prototype.calculateToggleStates=function(){"enterprise"===this.joinOption||"autoJoin"===this.joinOption||"org"!==this.membershipAccess?this.adminGroupToggle.disable():this.adminGroupToggle.enable();"autoJoin"===this.joinOption||"anyOrg"===this.membershipAccess?this.sharedUpdateToggle.disable():this.sharedUpdateToggle.enable()};z.prototype.getTooltipIcon=function(r){return'\x3cbutton class\x3d"btn-link margin-left-quarter tooltip tooltip-multiline" aria-label\x3d"'+
r+'"\x3e\x3ccalcite-icon icon\x3d"question" scale\x3d"s" flip-rtl\x3d"'+(("ar"===document.documentElement.lang?"true":"false")+'"\x3e\x3c/calcite-icon\x3e\x3c/button\x3e')};z.prototype.render=function(){var r=this,l,d,e,a=this.portalUser.userRole;a=this.isAdmin||a.canCreateUpdateCapableGroup();var b=this.i18n,c=b.sharedUpdateNote,m=b.cannotLeave,t=b.openDataGroup,v=b.adminNote;this.sharedUpdateToggle=this.createToggle('\x3cp class\x3d"trailer-quarter"\x3e'+b.editableByAll+this.getTooltipIcon(this.group?
this.i18n.sharedOwnershipTipSettings:this.i18n.sharedOwnershipTip)+"\x3c/p\x3e"+(this.portal.isPortal?"":'\x3cp class\x3d"trailer-0"\x3e'+c+"\x3c/p\x3e"),"shared-update-toggle",".js-shared-update-toggle");this.sharedUpdateToggle.domNode.classList.add("trailer-quarter");b='\x3cp class\x3d"trailer-quarter"\x3e'+m+(this.group?"":this.getTooltipIcon(this.i18n.cantChangeTip))+"\x3c/p\x3e"+(this.portal.isPortal?"":'\x3cp class\x3d"trailer-0"\x3e'+v+"\x3c/p\x3e");this.adminGroupToggle=this.createToggle(b,
"admin-group-toggle",".js-admin-group-toggle");this.openDataToggle=this.createToggle(t,"open-data-toggle",".js-open-data-toggle");a=a&&(!this.group||this.group&&-1<(null===(l=this.group.capabilities)||void 0===l?void 0:l.indexOf("updateitemcontrol")));w["default"].showHide(this.sharedUpdateSection,a);this.group&&-1<(null===(d=this.group.capabilities)||void 0===d?void 0:d.indexOf("updateitemcontrol"))&&this.sharedUpdateToggle.hideSwitch();w["default"].showHide(this.adminGroupSection,this.isAdmin&&
(!this.group||this.group&&this.group.leavingDisallowed));this.group&&this.group.leavingDisallowed&&this.adminGroupToggle.hideSwitch();this.checkOpenData();w["default"].showHide(this.openDataSection,this.canShowOpenData);this.canShowOpenData&&(null===(e=this.group)||void 0===e?0:e.isOpenData)&&(this.openDataToggle.check(),this.group.isGroupOwnerOrgMember()||this.openDataToggle.disable());this.sharedUpdateSection.classList.contains("hide")&&this.adminGroupSection.classList.contains("hide")&&this.openDataSection.classList.contains("hide")&&
w["default"].hideNode(this.domNode);this.own(f["default"].subscribe("group-access/change",function(A){"public"!==A&&r.openDataToggle.uncheck();w["default"].showHide(r.openDataSection,r.canShowOpenData&&"public"===A)}),f["default"].subscribe("group-join/change",function(A){r.joinOption=A;r.calculateToggleStates()}),this.openDataToggle.on("change",function(A){f["default"].publish("group/update",{successMessage:h["default"].GroupWidget.settingsSuccess.openData,params:{isOpenData:A}})}),this.adminGroupToggle.on("change",
function(A){r.emit("admin-group/toggle",{checked:A})}),this.sharedUpdateToggle.on("change",function(A){r.emit("shared-update/toggle",{checked:A})}))};z.prototype.checkOpenData=function(){var r,l,d,e=(!this.group||this.group.isOpenData||this.group.isGroupOwnerOrgMember())&&!0===(null===(d=null===(l=null===(r=this.portal)||void 0===r?void 0:r.portalProperties)||void 0===l?void 0:l.openData)||void 0===d?void 0:d.enabled)&&(this.isAdmin||this.portalUser.userRole.canDesignateOpenDataGroups());this.canShowOpenData=
!this.portal.isPortal&&!this.isPublicUser&&e};z.prototype.createToggle=function(r,l,d){return new u["default"]({label:r,trackId:l,baseClass:"create-group__toggle-switch leader-quarter",labelPosition:"left"},this.domNode.querySelector(d))};return z=n.__decorate([C["default"](k["default"],g["default"],q["default"])],z)}()})},"arcgisonline/pages/components/Group/MembershipAndDesignations/MembershipAndDesignations":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./Membership/Membership ./Designations/Designations".split(" "),
function(O,K,n,q,p,h,f,g,k){Object.defineProperty(K,"__esModule",{value:!0});g=n.__importDefault(g);k=n.__importDefault(k);K["default"]=function(u){var w=u.onChange,C={membershipAccess:"org",autoJoin:!1,isInvitationOnly:!0,isViewOnly:!1,provider:"",providerGroupName:"",hiddenMembers:!1,access:"public",capabilities:[]};u=p.useReducer(f.reducer,{portal:u.portal,portalUser:u.portalUser,texts:u.texts,hasTrustedOrgs:u.hasTrustedOrgs||!1,group:u.group||C,enterpriseGroupType:u.enterpriseGroupType,supportsEnterpriseGroups:u.supportsEnterpriseGroups,
request:u.request,esriGeowConfig:u.esriGeowConfig});var z=u[0],r=u[1];u=p.useMemo(function(){return{state:z,dispatch:r}},[z]);p.useEffect(function(){null===w||void 0===w?void 0:w(z.group)},[z.group]);return q.h("div",null,q.h(h.StoreContext.Provider,{value:u},q.h(g["default"],null),q.h(k["default"],null)))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/store-context":function(){define(["require","exports","preact","preact/hooks"],function(O,K,n,q){Object.defineProperty(K,"__esModule",
{value:!0});K.useStoreContext=K.StoreContext=void 0;K.StoreContext=n.createContext({});K.useStoreContext=function(){return q.useContext(K.StoreContext)}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/reducer":function(){define(["require","exports","tslib"],function(O,K,n){Object.defineProperty(K,"__esModule",{value:!0});K.reducer=K.toggleOpenData=K.toggleAdminGroup=K.toggleSharedUpdate=K.updateEnterprise=K.updateViewOnly=K.updateProviderGroupName=K.updateAccess=K.updateJoinValue=
K.updateMembershipAccess=K.TOGGLE_OPEN_DATA=K.TOGGLE_ADMIN_GROUP=K.TOGGLE_SHARED_UPDATE=K.UPDATE_ENTERPRISE=K.UPDATE_VIEW_ONLY=K.UPDATE_PROVIDER_GROUP_NAME=K.UPDATE_ACCESS=K.UPDATE_JOIN=K.UPDATE_MEMBERSHIP_ACCESS=void 0;K.UPDATE_MEMBERSHIP_ACCESS="UPDATE_MEMBERSHIP_ACCESS";K.UPDATE_JOIN="UPDATE_JOIN";K.UPDATE_ACCESS="UPDATE_ACCESS";K.UPDATE_PROVIDER_GROUP_NAME="UPDATE_PROVIDER_GROUP_NAME";K.UPDATE_VIEW_ONLY="UPDATE_VIEW_ONLY";K.UPDATE_ENTERPRISE="UPDATE_ENTERPRISE";K.TOGGLE_SHARED_UPDATE="TOGGLE_SHARED_UPDATE";
K.TOGGLE_ADMIN_GROUP="TOGGLE_ADMIN_GROUP";K.TOGGLE_OPEN_DATA="TOGGLE_OPEN_DATA";K.updateMembershipAccess=function(q){return{type:K.UPDATE_MEMBERSHIP_ACCESS,payload:q}};K.updateJoinValue=function(q){return{type:K.UPDATE_JOIN,payload:q}};K.updateAccess=function(q){return{type:K.UPDATE_ACCESS,payload:q}};K.updateProviderGroupName=function(q){return{type:K.UPDATE_PROVIDER_GROUP_NAME,payload:q}};K.updateViewOnly=function(q){return{type:K.UPDATE_VIEW_ONLY,payload:q}};K.updateEnterprise=function(q){return{type:K.UPDATE_ENTERPRISE,
payload:q}};K.toggleSharedUpdate=function(q){return{type:K.TOGGLE_SHARED_UPDATE,payload:q}};K.toggleAdminGroup=function(q){return{type:K.TOGGLE_ADMIN_GROUP,payload:q}};K.toggleOpenData=function(q){return{type:K.TOGGLE_OPEN_DATA,payload:q}};K.reducer=function(q,p){var h=p.payload;switch(p.type){case K.UPDATE_MEMBERSHIP_ACCESS:return n.__assign(n.__assign({},q),{group:n.__assign(n.__assign({},q.group),{membershipAccess:p.payload})});case K.UPDATE_JOIN:return n.__assign(n.__assign({},q),{group:n.__assign(n.__assign({},
q.group),h)});case K.UPDATE_ACCESS:return n.__assign(n.__assign({},q),{group:n.__assign(n.__assign({},q.group),{access:h})});case K.UPDATE_PROVIDER_GROUP_NAME:return n.__assign(n.__assign({},q),{group:n.__assign(n.__assign({},q.group),{providerGroupName:h})});case K.UPDATE_VIEW_ONLY:return n.__assign(n.__assign({},q),{group:n.__assign(n.__assign({},q.group),{isViewOnly:h})});case K.UPDATE_ENTERPRISE:return n.__assign(n.__assign({},q),{enterpriseGroupType:h.enterpriseGroupType,supportsEnterpriseGroups:h.supportsEnterpriseGroups});
case K.TOGGLE_SHARED_UPDATE:return h=p.payload?n.__spreadArray(n.__spreadArray([],q.group.capabilities),["updateitemcontrol"]):q.group.capabilities.filter(function(f){return"updateitemcontrol"!==f}),n.__assign(n.__assign({},q),{group:n.__assign(n.__assign({},q.group),{capabilities:h})});case K.TOGGLE_ADMIN_GROUP:return n.__assign(n.__assign({},q),{group:n.__assign(n.__assign({},q.group),{leavingDisallowed:p.payload})});case K.TOGGLE_OPEN_DATA:return n.__assign(n.__assign({},q),{group:n.__assign(n.__assign({},
q.group),{isOpenData:p.payload})});default:return n.__assign({},q)}}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/Membership":function(){define("require exports tslib preact ../store-context ./MembershipOptions/MembershipOptions ./JoinOptions/JoinOptions ./ViewOptions/ViewOptions ./ContributeOptions/ContributeOptions".split(" "),function(O,K,n,q,p,h,f,g,k){Object.defineProperty(K,"__esModule",{value:!0});h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);
k=n.__importDefault(k);K["default"]=function(){var u=p.useStoreContext().state.texts;return q.h("div",{"class":"create-group-card"},q.h("h2",{"class":"font-size-2 avenir-demi trailer-1"},u.membership),q.h("div",{"class":"create-group-card__body"},q.h(h["default"],null),q.h(f["default"],null),q.h(g["default"],null),q.h(k["default"],null)))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/MembershipOptions/MembershipOptions":function(){define("require exports tslib preact ../MembershipRadioGroup/MembershipRadioGroup ../../store-context ../../reducer ../../../util".split(" "),
function(O,K,n,q,p,h,f,g){Object.defineProperty(K,"__esModule",{value:!0});p=n.__importDefault(p);K["default"]=function(){var k=h.useStoreContext(),u=k.state,w=k.dispatch,C=u.portal,z=u.group;k=u.texts;u=u.hasTrustedOrgs;var r=k.memberOptions||{},l=r.org,d=r.collab;r=r.external;var e=!!z.provider||z.leavingDisallowed,a=!!z.provider||g.isSharedUpdate(z)||z.leavingDisallowed;C=n.__spreadArray(n.__spreadArray([{text:l,value:"org"}],!C.isPortal&&C.canHavePartnerCollab()&&u?[{text:d,value:"collaboration",
disabled:e}]:[]),[{text:r,value:"",disabled:a}]).map(function(b){return n.__assign(n.__assign({},b),{id:"membership-access-"+(b.value||"external"),checked:b.value===z.membershipAccess})});return q.h(p["default"],{title:k.whoCanJoin,inputName:"membership-access",options:C,onChange:function(b){w(f.updateMembershipAccess(b))}})}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/MembershipRadioGroup/MembershipRadioGroup":function(){define(["require","exports","tslib","preact",
"../MembershipRadioOption/MembershipRadioOption"],function(O,K,n,q,p){Object.defineProperty(K,"__esModule",{value:!0});p=n.__importDefault(p);K["default"]=function(h){var f=h.inputName,g=h.options,k=h.onChange;return q.h("div",{"class":"trailer-1"},q.h("div",{"class":"avenir-demi"},h.title),q.h("div",{"class":"flex select-options--vertical"},g.map(function(u){return q.h(p["default"],{inputId:u.id,inputName:f,labelText:u.text,value:u.value,onClick:k,checked:u.checked,disabled:u.disabled})})))}})},
"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/MembershipRadioOption/MembershipRadioOption":function(){define(["require","exports","preact"],function(O,K,n){Object.defineProperty(K,"__esModule",{value:!0});K["default"]=function(q){var p=q.inputId,h=q.value,f=q.labelText,g=q.checked,k=q.disabled,u=q.onClick;return n.h("label",{"class":"flex select-option__radio-label font-size--1 "+(g?"select-option__radio-label--selected":"")+" "+(k?"select-option--disabled":""),"for":p},
n.h("input",{type:"radio",id:p,name:q.inputName,checked:g,disabled:k,onClick:function(){null===u||void 0===u?void 0:u(h)}}),f)}})},"arcgisonline/pages/components/Group/util":function(){define(["require","exports"],function(O,K){Object.defineProperty(K,"__esModule",{value:!0});K.isSharedUpdate=void 0;K.isSharedUpdate=function(n){var q;return-1<(null===(q=n.capabilities)||void 0===q?void 0:q.indexOf("updateitemcontrol"))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/JoinOptions/JoinOptions":function(){define("require exports tslib preact preact/hooks ../../store-context ../../../util ../../reducer ../MembershipRadioOption/MembershipRadioOption".split(" "),
function(O,K,n,q,p,h,f,g,k){Object.defineProperty(K,"__esModule",{value:!0});k=n.__importDefault(k);K["default"]=function(){var u=h.useStoreContext(),w=u.state,C=u.dispatch,z=w.portalUser,r=w.texts,l=w.group;u=w.enterpriseGroupType;var d=w.supportsEnterpriseGroups,e=w.request,a=w.esriGeowConfig;p.useEffect(function(){null===e||void 0===e?void 0:e({url:(null===a||void 0===a?void 0:a.restBaseUrl)+"portals/self/idp"}).then(function(y){C(g.updateEnterprise({enterpriseGroupType:"saml",supportsEnterpriseGroups:null===
y||void 0===y?void 0:y.updateGroupsAtSignin}))},function(){C(g.updateEnterprise({enterpriseGroupType:void 0,supportsEnterpriseGroups:!1}))})},[]);w=!z.orgId;z=l.leavingDisallowed||"org"!==l.membershipAccess;var b=f.isSharedUpdate(l)||l.leavingDisallowed,c=r.joinOptions||{},m=c.request,t=c.invitation,v=c.add,A=c.samlEnterprise,B=c.ldapEnterprise;c=c.windowsEnterprise;var x="";if(u)switch(u){case "saml":x=A;break;case "ldap":x=B;break;case "windows":x=c;break;default:x=""}u=n.__spreadArray(n.__spreadArray(n.__spreadArray([{id:"join-radio-invitation",
text:t,value:"invitation",checked:l.isInvitationOnly}],"private"!==l.access?[{id:"join-radio-request",text:m,value:"request",checked:!l.isInvitationOnly&&!l.autoJoin&&!l.provider}]:[]),d&&!l.hiddenMembers?[{id:"join-radio-enterprise",text:x,value:"enterprise",checked:!!l.provider,disabled:z}]:[]),w||"private"===l.access?[]:[{id:"join-radio-autoJoin",text:v,value:"autoJoin",checked:l.autoJoin,disabled:b}]);var D=function(y){var F;y=(null===(F=y.target)||void 0===F?void 0:F.value)||"";C(g.updateProviderGroupName(y))},
E=function(y){C(g.updateJoinValue({autoJoin:"autoJoin"===y,isInvitationOnly:"invitation"===y,provider:"enterprise"===y?"enterprise":""}))};return q.h("div",{"class":"trailer-1"},q.h("div",{"class":"avenir-demi"},r.whoCanJoin),q.h("div",{"class":"flex select-options--vertical"},u.map(function(y){return q.h(q.Fragment,null,q.h(k["default"],{inputId:y.id,inputName:"join-radio",labelText:y.text,value:y.value,onClick:E,checked:y.checked,disabled:y.disabled}),"enterprise"===y.value&&y.checked&&q.h("div",
{"class":"leader-quarter margin-left-2 margin-right-3 trailer-half"},q.h("label",{"class":"trailer-0"},q.h("span",null,r.joinOptions.enterpriseLabel),q.h("input",{type:"text",placeholder:r.joinOptions.enterprisePlaceholder,"class":l.providerGroupName?"":"input-error",onInput:D}),q.h("div",{"class":"input-error-message "+(l.providerGroupName?"":"is-active")},r.enterpriseGroups.missingEnterpriseGroupName))))})))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/ViewOptions/ViewOptions":function(){define("require exports tslib preact ../../store-context ../../reducer ../MembershipRadioGroup/MembershipRadioGroup".split(" "),
function(O,K,n,q,p,h,f){Object.defineProperty(K,"__esModule",{value:!0});f=n.__importDefault(f);K["default"]=function(){var g=p.useStoreContext(),k=g.state,u=g.dispatch;g=k.texts;var w=k.group,C=g.viewOptions||{};k=C.groupMembers;var z=C.orgMembers;C=C.everyone;k=n.__spreadArray(n.__spreadArray([],w.isInvitationOnly||w.provider?[{text:k,value:"private"}]:[]),[{text:z,value:"org"},{text:C,value:"public"}]).map(function(r){return n.__assign(n.__assign({},r),{id:"group-access-"+r.value,checked:r.value===
w.access})});return q.h(f["default"],{title:g.whoCanView,inputName:"group-access",options:k,onChange:function(r){u(h.updateAccess(r))}})}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/ContributeOptions/ContributeOptions":function(){define("require exports tslib preact ../MembershipRadioGroup/MembershipRadioGroup ../../store-context ../../reducer".split(" "),function(O,K,n,q,p,h,f){Object.defineProperty(K,"__esModule",{value:!0});p=n.__importDefault(p);K["default"]=function(){var g=
h.useStoreContext(),k=g.state,u=g.dispatch;g=k.texts;var w=k.group,C=g.ownerAndManagers,z=g.ownerOnly;k=[{text:g.allMembers,value:"members"},{text:k.portalUser.orgId?C:z,value:"owner"}].map(function(r){var l=!1;"members"===r.value?l=!w.isViewOnly:"owner"===r.value&&(l=w.isViewOnly||!1);return n.__assign(n.__assign({},r),{id:"contribute-options-"+r.value,checked:l})});return q.h(p["default"],{title:g.contributeBy,inputName:"contribute-options",options:k,onChange:function(r){u(f.updateViewOnly("owner"===
r))}})}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Designations/Designations":function(){define("require exports tslib preact ../store-context ../reducer ./DesignationOption/DesignationOption".split(" "),function(O,K,n,q,p,h,f){Object.defineProperty(K,"__esModule",{value:!0});f=n.__importDefault(f);K["default"]=function(){var g=p.useStoreContext(),k=g.state,u=g.dispatch;g=k.texts;k=k.group;var w=-1<k.capabilities.indexOf("updateitemcontrol"),C=""===k.membershipAccess||k.autoJoin,
z="org"!==k.membershipAccess||k.autoJoin;return q.h("div",{"class":"create-group-card"},q.h("h2",{"class":"font-size-2 avenir-demi trailer-1"},g.groupDesignations),q.h("div",{"class":"create-group-card__body"},q.h(f["default"],{switchId:"shared-update-toggle",title:g.sharedUpdate,description1:g.editableByAll,tooltip:g.sharedOwnershipTip,description2:g.sharedUpdateNote,onChange:function(r){u(h.toggleSharedUpdate(r.detail.switched))},switched:w,disabled:C}),q.h(f["default"],{switchId:"admin-group-toggle",
title:g.adminGroup,description1:g.cannotLeave,description2:g.adminNote,onChange:function(r){u(h.toggleAdminGroup(r.detail.switched))},switched:k.leavingDisallowed,disabled:z}),q.h(f["default"],{switchId:"open-data-toggle",title:g.openData,description1:g.openDataGroup,onChange:function(r){u(h.toggleOpenData(r.detail.switched))},switched:k.isOpenData})))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Designations/DesignationOption/DesignationOption":function(){define(["require",
"exports","preact"],function(O,K,n){Object.defineProperty(K,"__esModule",{value:!0});K["default"]=function(q){var p=q.description1,h=q.onChange,f=q.tooltip,g=q.description2,k=q.switched,u=q.disabled,w=q.switchId;return n.h("div",{"class":"trailer-1",id:w+"-option"},n.h("div",{"class":"avenir-demi","data-test":"title"},q.title),n.h("div",{"class":"flex create-group__toggle-switch leader-quarter trailer-quarter"},n.h("div",{"class":"flex-1 margin-right-1"},p&&n.h("p",{"class":"trailer-quarter","data-test":"desc1"},
p,f&&n.h("button",{"class":"btn-link margin-left-quarter tooltip tooltip-multiline","aria-label":f},n.h("calcite-icon",{icon:"question",scale:"s"}))),g&&n.h("p",{"class":"trailer-0","data-test":"desc2"},g)),n.h("div",{"class":"flex-0"},n.h("calcite-switch",{id:w,oncalciteSwitchChange:h,switched:k,disabled:u,"data-test":"switch"}))))}})},"arcgisonline/pages/dijit/View":function(){define("require exports tslib preact esri/Evented dojo/string dojo/on dojo/query dojo/topic dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin ./Card ./CardMobile ./CardWide ./TableRow ../pageUtil ../utils/arrays ../utils/icons dojo/text!./View/templates/tableHeader.html dojo/text!./View/templates/empty.html dojo/text!./View/templates/none.html dojo/text!./View/templates/loader.html dojo/text!./View/templates/View.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ../utils/dropdown ../components/SearchFeedback ../utils/search".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y){p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);return function(){function F(G,H){this.templateString=A["default"];this.i18n=B["default"];this.select=!0;this.listTemplate=null;this.tableHead=c["default"];this.emptyView=m["default"];this.noneView=t["default"];this.loaderView=v["default"];this.listView=l["default"];this.mobileView=r["default"];this.tableRowView=d["default"];this.showSource=this.fullItemTypes=!1;this.location=B["default"].contentPage.searchingFor;this.sortOptions=
[];this.showShareGroups=this.allowShare=this.hasSharedOwnershipGroups=!1;this.searchTerm="";this._shiftPressed=this._hasFilters=this.showFeedback=this.allowDragAndDrop=this.recordSelection=this.recordSortToggle=!1;this._lastSelected=null;this._items=[];this._selected=[];this._dijits=[];this._itemViews={};this.feedbackSearchTerm=""}F.prototype.postCreate=function(){this.inherited(arguments);this._view=this.activeView;var G={i18n:B["default"],location:this.location,searchTerm:""};this.domNode.querySelector(".js-empty-wrap").innerHTML=
h["default"].substitute(this.emptyView,{i18n:B["default"]});this.domNode.querySelector(".js-none-wrap").innerHTML=h["default"].substitute(this.noneView,{i18n:B["default"]});this.domNode.querySelector(".js-loader-wrap").innerHTML=h["default"].substitute(this.loaderView,G);this.domNode.querySelector(".js-table-header").innerHTML=h["default"].substitute(this.tableHead,{i18n:B["default"],icons:b["default"],selectClass:this.select?"":"hide"});0<this.sortOptions.length&&(G=a["default"].find(this.sortOptions,
function(H){return H.active}))&&this._sortUpdate(G);this._itemViews=this.declareItemViews();this._addEventListeners()};F.prototype.destroy=function(){this.inherited(arguments);this._dijits.forEach(function(G){return G.destroy()})};F.prototype.setEmptyView=function(G){this.emptyView=G;this.domNode.querySelector(".js-empty-wrap").innerHTML=h["default"].substitute(this.emptyView,{i18n:B["default"]})};F.prototype.declareItemViews=function(){return{grid:{template:z["default"],containerClass:".js-grid-wrap"},
mobile:{template:this.mobileView,containerClass:".js-mobile-wrap"},list:{template:this.listView,containerClass:".js-list-wrap"},table:{template:this.tableRowView,containerClass:".js-table-rows"}}};F.prototype.allowCategorization=function(){g["default"](this.domNode).addClass("allow-categorization")};F.prototype.preventCategorization=function(){g["default"](this.domNode).removeClass("allow-categorization")};F.prototype.updateSearchFeedback=function(G,H,I,N,M,J){var R=this;this.searchTerm=G;var Z=this.domNode.querySelector(".js-search-feedback");
q.render(q.h(null,null),Z);Z.classList.add("hide");H&&this.showFeedback&&this.telemetry&&G&&G!==this.feedbackSearchTerm&&((null===M||void 0===M?0:M.eueiEnabled)||J&&!J.orgId)&&(Z.classList.remove("hide"),q.render(q.h(E.SearchFeedback,{telemetry:this.telemetry,searchTerm:this.searchTerm,page:I,onlyOrg:N,section:"content",enriched:y.semanticSearchEnabled(this.portal,this.portalUser),onSubmit:function(){return R.feedbackSearchTerm=G}}),Z))};F.prototype._addEventListeners=function(){var G=this;this.own(f["default"](window,
"keydown",function(H){return G._shiftPressed=H.shiftKey}),f["default"](window,"keyup",function(H){return G._shiftPressed=!1}),g["default"](".js-table-sort-header",this.domNode).on("click",this._sortHeader.bind(this)),f["default"](this.domNode.querySelector(".js-select-all"),"click",this._toggleAll.bind(this)),k["default"].subscribe("view/toggle",this._toggleView.bind(this)),k["default"].subscribe("view/update",this._updateView.bind(this)),k["default"].subscribe("view/deselect",this._deselectItem.bind(this)),
k["default"].subscribe("view/deselectAll",this._deselectAll.bind(this)),k["default"].subscribe("view/select",this._parseSelect.bind(this)),k["default"].subscribe("view/loading",this._showLoadingScreen.bind(this)),k["default"].subscribe("view/updateShare",this._updateItemsSharing.bind(this)),k["default"].subscribe("sort/update",this._sortUpdate.bind(this)),k["default"].subscribe("pagination/page",this._scrollToTop.bind(this)),k["default"].subscribe("item/update",this._updateItem.bind(this)));this.allowDragAndDrop&&
(this.domNode.classList.add("drag-and-drop-well"),this.own(f["default"](this.domNode,"dragover",function(H){H.preventDefault();G.dragover||(G.dragover=!0,G.domNode.classList.add("drag-and-drop-well--dragging"))}),f["default"](this.domNode,"dragleave",function(H){H.preventDefault();G.dragover=!1;G.domNode.classList.remove("drag-and-drop-well--dragging")}),f["default"](this.domNode,"drop",function(H){H.preventDefault();G.dragover=!1;G.domNode.classList.remove("drag-and-drop-well--dragging");k["default"].publish("view/drop",
H.dataTransfer)})))};F.prototype._toggleView=function(G){this._view=G;k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};F.prototype._showLoadingScreen=function(G){g["default"](".js-view",this.domNode).addClass("hide");var H=this.domNode.querySelector(".js-loader-wrap"),I=h["default"].substitute(this.location,{term:G});H.innerHTML=h["default"].substitute(this.loaderView,{i18n:B["default"],location:I,searchTerm:G});H.classList.remove("hide")};F.prototype._parseSelect=
function(G,H){var I=this._items.indexOf(G);H||!this._lastSelected&&0!==this._lastSelected||!this._shiftPressed?(this._selectItem(G),this._lastSelected=I):this._selectRange(Math.min(this._lastSelected,I),Math.max(this._lastSelected,I))};F.prototype._selectItem=function(G){a["default"].find(this._selected,function(H){return H.id===G.id})||(G.isSelected=!0,this._selected.push(G));this._setSelectAllState()};F.prototype._toggleAll=function(G){var H;this._lastSelected=null;this._shiftPressed=!1;(G=G.target.checked)?
this._selectPage():this._deselectPage();this.recordSelection&&(null===(H=this.telemetry)||void 0===H?void 0:H.logEvent({category:"Select",action:(G?"Select":"Unselect")+" page",count:this._items.length}))};F.prototype._selectRange=function(G,H){this._lastSelected=null;for(var I=G;I<=H;I++)k["default"].publish("view/select",this._items[I],!0);k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};F.prototype._selectPage=function(){this._lastSelected=null;this._items.forEach(function(G){return k["default"].publish("view/select",
G)});k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};F.prototype._deselectItem=function(G){this._lastSelected=null;G.isSelected=!1;this._selected=this._selected.filter(function(H){return H.id!==G.id});this._setSelectAllState()};F.prototype._deselectPage=function(){this._lastSelected=null;this._items.forEach(function(G){return k["default"].publish("view/deselect",G)});k["default"].publish("view/update",this._items,this._selected,this._hasFilters)};F.prototype._deselectAll=
function(){this._lastSelected=null;this._items=this._items.map(function(G){G.isSelected=!1;return G});this._selected=[];this._setSelectAllState()};F.prototype._sortUpdate=function(G){this._currentSort=G;this._lastSelected=null;if("table"===this._view){var H=G.ascending?"is-ascending":"is-descending";g["default"](".js-table-sort-header").removeClass(["is-descending","is-ascending"]).attr("aria-sort","none");var I=g["default"](".js-table-sort-header[data-sort\x3d'"+G.property+"']");0<I.length&&(I.addClass(H),
I.attr({"aria-sort":G.ascending?"ascending":"descending","data-sort-order":G.ascending?"asc":"desc"}))}};F.prototype._updateItem=function(G){G&&"isFavorite"!==G.name&&this._updateView(this._items,this._selected,this._hasFilters)};F.prototype._updateItemsSharing=function(G){var H=this;(G||[]).forEach(function(I){var N=a["default"].find(H._items,function(M){return M.id===I.id});N&&(N.set("access",I.access),N.set("groupData",I.groupData),N.set("sharedGroups",I.sharedGroups))})};F.prototype._sortHeader=
function(G){this._lastSelected=null;var H=G.target;if(!H.getAttribute("data-sort")){var I=g["default"](G.target).closest(".js-table-sort-header")[0];I&&(H=I)}var N=H.getAttribute("data-sort");I=u["default"].contains(H,"is-ascending")||u["default"].contains(H,"is-descending");H=H.getAttribute("data-sort-order");I&&(H="asc"===H?"desc":"asc");G=(I=a["default"].find(this.sortOptions,function(M){return M.property===N}))?I.label:G.target.innerHTML;this.telemetry&&this.recordSortToggle&&this.telemetry.logEvent({category:"Table Sort Order",
action:"selected sort order"});k["default"].publish("sort/update",{label:G,property:N,ascending:"asc"===H})};F.prototype._updateView=function(G,H,I,N,M){var J=this;this._lastSelected=null;N=this.domNode.querySelector(".js-content-loader");M=this.domNode.querySelector(".js-table-wrap");null===N||void 0===N?void 0:N.classList.add("is-active");this._dijits.forEach(function(aa){return aa.destroy()});g["default"](".js-view",this.domNode).addClass("hide");this._items=G||[];this._selected=H||[];this._hasFilters=
I;var R=this.mobileView&&720>=window.innerWidth?"mobile":this._view;H=this._itemViews[R];var Z=H.template,T=this.domNode.querySelector(H.containerClass);H=this.domNode.querySelector(".js-none-wrap");var X=this.domNode.querySelector(".js-empty-wrap");I=I?H:X;0<G.length?(G.forEach(function(aa,fa){var oa=a["default"].find(J._selected,function(ua){return ua.id===aa.id});oa={item:aa,options:e["default"].getQueryParams(),select:J.select,isSelected:oa,portalUser:J.portalUser,fullItemTypes:J.fullItemTypes,
showSource:J.showSource,hasSharedOwnershipGroups:J.hasSharedOwnershipGroups,allowShare:J.allowShare,showShareGroups:J.showShareGroups,itemIndex:fa,telemetry:J.telemetry,page:J.page,telemetryOptions:J.telemetryOptions,portal:J.portal,recordSelection:J.recordSelection,searchTerm:J.searchTerm,addSearchTelemetryParams:J.addSearchTelemetryParams};J.tableRow&&"table"===R&&(oa.template=J.tableRow);J.listTemplate&&"list"===R&&(oa.template=J.listTemplate);oa=new Z(oa);oa.startup();oa.placeAt(T);J._dijits.push(oa)}),
u["default"].remove(T,"hide"),k["default"].publish("view/show"),"table"===R&&(M.classList.remove("hide"),this._setSelectAllState(),this._sortUpdate(this._currentSort))):I.classList.remove("hide");null===N||void 0===N?void 0:N.classList.remove("is-active");D.dropdown()};F.prototype._setSelectAllState=function(){var G=this.domNode.querySelector(".js-select-all"),H=this._items.filter(function(I){return I.isSelected});0===H.length?(G.checked=!1,G.indeterminate=!1):H.length===this._items.length?(G.checked=
!0,G.indeterminate=!1,G.disabled=!1):G.indeterminate=!0};F.prototype._scrollToTop=function(){this._lastSelected=null;var G=this.domNode.getBoundingClientRect().top;0>G&&window.scrollBy(0,G-50)};F.prototype.getItemCount=function(){return this._items.length};return F=n.__decorate([x["default"](w["default"],C["default"],p["default"])],F)}()})},"arcgisonline/pages/dijit/Card":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/string ./Card/_CardBase dojo/text!./Card/Card.html dojo/text!./Card/MinimalCard.html dojo/i18n!../../nls/arcgisonline".split(" "),
function(O,K,n,q,p,h,f,g,k){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);return function(){function u(w,C){this.alwaysShowDrag=this.draggable=!1;this.templateString=w.minimal?g["default"]:f["default"]}u.prototype.postMixInProperties=function(){var w,C;this.inherited(arguments);this.item.ownerText=null!==(C=null===(w=this.item.verified)||void 0===w?void 0:w.name)&&void 0!==C?C:this.item.owner;this.item.viewMsg=
p["default"].substitute(k["default"].viewsWidget.universalViewsMsgAlone,{viewcount:this.item.numViews})};u.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};u.prototype.setDraggable=function(w){(this.draggable=w)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return u=n.__decorate([q["default"](h["default"])],u)}()})},
"arcgisonline/pages/dijit/CardMobile":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/text!./CardMobile/CardMobile.html ../utils/formatters ./Card/_CardBase".split(" "),function(O,K,n,q,p,h,f){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);return function(){function g(k){this.templateString=p["default"];this.alwaysShowDrag=this.draggable=!1}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.item.ownerText=
h["default"].formatOwnerText(this.item,!0)};g.prototype.postCreate=function(){this.inherited(arguments);this.draggable&&this.domNode.classList.add("card--draggable");this.alwaysShowDrag&&this.domNode.classList.add("card--show-drag")};g.prototype.setDraggable=function(k){(this.draggable=k)?this.domNode.classList.add("card--draggable"):this.domNode.classList.remove("card--draggable")};return g=n.__decorate([q["default"](f["default"])],g)}()})},"arcgisonline/pages/dijit/CardWide":function(){define("require exports tslib ../../tsutils/declareDecorator ./Card/_CardBase dojo/text!./CardWide/CardWide.html".split(" "),
function(O,K,n,q,p,h){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);return function(){function f(){this.isWide=!0;this.templateString=h["default"]}f.prototype.postCreate=function(){this.inherited(arguments)};return f=n.__decorate([q["default"](p["default"])],f)}()})},"arcgisonline/pages/dijit/TableRow":function(){define("require exports tslib dojo/dom-construct dojo/query dojo/string dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin ../utils/formatters ../../esriGeowConfig ./ItemShareSummary ../utils/item ../utils/setItemUrls ../utils/icons ../utils/dom ./Card/_getItemClasses ../item/_Actions ./_CheckReadonlyMixin dojo/text!./TableRow/templates/TableRow.html dojo/text!./Card/OpenDropdown.html dojo/i18n!../../nls/arcgisonline ../../tsutils/declareDecorator ./OrgPopup/OrgPopup preact ../components/Favorite".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);
v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);D=n.__importDefault(D);return function(){function E(y,F){this.template=m["default"];this.i18n=v["default"];this.fullDate=w["default"].fullDate;this.completeDate=w["default"].completeDate;this.capitalize=w["default"].capitalize;this.empty=w["default"].empty;this.shortenNumber=w["default"].shortenNumber;this.getAccess=w["default"].getAccess;this.getAccessIcon=w["default"].getAccessIcon;this.show=w["default"].show;this.hide=w["default"].hide;
this.icons=d["default"];this.cssClasses=[];this.dropdownClass=this.removedRow=this.activeRow=this.selectClass=this.checked="";this.recordSelection=this.favoritesDisabled=this.showShareGroups=this.hasSharedOwnershipGroups=this.showSource=this.fullItemTypes=this.isRemoved=this.isSelected=this.select=!1}E.prototype.postMixInProperties=function(){var y=this,F,G;this.inherited(arguments);this.formatDisplayName=w["default"].formatDisplayName.bind(this,this.item,this.fullItemTypes);this.templateString=this.template||
m["default"];this.checked=this.isSelected?"checked":"";this.selectClass=this.select?"":"hide";this.activeRow=this.isSelected?"table-select-row-active":"";this.removedRow=this.isRemoved?"table-select-row-removed":"";this.dropdownClass=2<this.itemIndex?"dropdown-up":"";if(null===(F=this.item)||void 0===F?0:F.classification)this.favoritesDisabled=!this.portalUser,this.item.openIn.forEach(function(H){return l["default"][H](y.item)}),this.item.premiumClass=this.item.isPremium?"":"hide",this.cssClasses=
a["default"](this.item,this.portalUser),this.item.isAdmin=this.item.isAdmin||(null===(G=this.portalUser)||void 0===G?void 0:G.isOrgAdmin)&&this.item.portal.id===this.portalUser.orgId,this.item.canShare=this.allowShare&&r["default"].canShareItem(this.item,this.portalUser),this.item.ownerText=w["default"].formatOwnerText(this.item),this.item.badges=r["default"].getBadges(this.item,!1,this.portalUser)};E.prototype.postCreate=function(){var y=this,F,G;this.inherited(arguments);this.cssClasses&&this.cssClasses.forEach(function(J){return J&&
y.domNode.classList.add(J)});!this.favoritesDisabled&&0<p["default"](".js-favorites-container",this.domNode).length&&(this.favorite=x.render(x.h(D["default"],{item:this.item}),this.domNode.querySelector(".js-favorites-container")));if(0<p["default"](".js-open-dropdown-container",this.domNode).length){var H=this.domNode.querySelector(".js-open-dropdown-container"),I=h["default"].substitute(t["default"],{item:this.item,i18n:v["default"],icons:d["default"]},null,this);q["default"].place(I,H);(null===
(F=this.item.portal)||void 0===F?0:F.isPortal)&&e["default"].hideNodes(H.querySelectorAll(".js-hide-portal"))}F=this.item;H=this.portalUser;I=this.allowShare;var N=this.telemetry,M=this.showShareGroups;(null===(G=this.item)||void 0===G?0:G.classification)&&new z["default"]({item:F,portalUser:H,showShareGroups:M,allowShare:I,telemetry:N},this.domNode.querySelector(".js-share-summary"));if("Feature Service"===F.type||"Feature Collection"===F.type)G=this.domNode.querySelector(".js-layers-tables"),I=
this.domNode.querySelector(".js-layers-tables-toggle"),G&&I&&C["default"].deepLayerSearchEnabled&&e["default"].createElement("arcgis-layers-and-tables-summary-popup",{item:F,layers:F.sublayers,portal:F.portal,api:3,user:H,searchTerm:this.searchTerm,config:C["default"],telemetry:this.telemetry,tooltip:this.formatDisplayName(F.displayName),i18nNoService:v["default"].publishWizard.errors.selectedServiceNotExist.message,i18nNoLayers:v["default"].SelectLayersWFS.noLayers},G).appendChild(I);this._addEventListeners()};
E.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.destroy();this.favorite&&x.render(null,this.domNode.querySelector(".js-favorites-container"),this.favorite)};E.prototype._addEventListeners=function(){var y;this.own(p["default"](".js-table-select-checkbox",this.domNode).on("change",this._toggleSelected.bind(this)),p["default"](".js-card-item-owner",this.domNode).on("click",this._showProfile.bind(this)),p["default"](".js-action",this.domNode).on("click",this._handleAction.bind(this)),
p["default"](".js-item-share-dropdown",this.domNode).on("click",this._shareItemDropdown.bind(this)),p["default"](".js-item-categorize",this.domNode).on("click",this._categorizeItem.bind(this)),g["default"].subscribe("view/deselectAll",this._deselect.bind(this)),g["default"].subscribe("view/items/"+this.item.id+"/deselect",this._deselect.bind(this)));var F=this.domNode.querySelector(".js-verified-owner-link");F&&this.own(f["default"](F,"click",this.showOrgPopup.bind(this)));(null===(y=this.item)||
void 0===y?0:y.watch)&&this.own(this.item.watch(this._itemUpdate.bind(this)))};E.prototype._handleAction=function(y){var F=this;y.preventDefault();var G=y.target.getAttribute("data-action");if(G&&b["default"][G]&&("share"!==G||!this.checkReadonly(this.item.portal))){var H={evt:y,item:this.item,user:this.portalUser,portal:this.item.portal,telemetry:this.telemetry};if("share"!==G||this.item.isOwner)b["default"][G](H);else this.item.getOwnerProfile(!0,!0).then(function(I){F.item.itemOwner=I;b["default"].share(H)})}};
E.prototype.selectItem=function(){this.domNode.classList.add("table-select-row-active");this.item.isSelected=!0;this.domNode.querySelector(".js-table-select-checkbox").checked=!0};E.prototype._select=function(){this.selectItem();g["default"].publish("view/select",this.item)};E.prototype._deselect=function(){this.domNode.classList.remove("table-select-row-active");this.item.isSelected=!1;this.domNode.querySelector(".js-table-select-checkbox").checked=!1;g["default"].publish("view/deselect",this.item)};
E.prototype._toggleSelected=function(){var y;if(this.domNode.classList.contains("table-select-row-active")){var F="Unselect row";this._deselect()}else F="Select row",this._select();this.recordSelection&&(null===(y=this.telemetry)||void 0===y?void 0:y.logEvent({category:"Select",action:F,count:1}))};E.prototype._itemUpdate=function(y,F,G){g["default"].publish("item/update",{item:this.item,name:y,oldValue:F,value:G})};E.prototype._showProfile=function(y){g["default"].publish("profile/show",y)};E.prototype.showOrgPopup=
function(y){y.stopPropagation();(new B["default"]({item:this.item,opener:y.target})).open()};E.prototype._shareItemDropdown=function(y){this.domNode.querySelector(".js-item-share-dropdown").blur()};E.prototype._categorizeItem=function(y){g["default"].publish("item/categorize",this.item,this.domNode.querySelector(".js-dropdown-toggle"))};return E=n.__decorate([A["default"](k["default"],u["default"],c["default"])],E)}()})},"arcgisonline/pages/components/Favorite":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic ../../sharing/geow/Content arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/pages/pageUtil".split(" "),
function(O,K,n,q,p,h,f,g,k){Object.defineProperty(K,"__esModule",{value:!0});p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);O=function(u){function w(){var C=null!==u&&u.apply(this,arguments)||this;C.buttonRef=q.createRef();C.handleClick=function(z){var r=C.state.isFavorite,l=C.props.item;C.checkReadonly(l.portal)||(C.setState(function(d){return{isFavorite:!d.isFavorite}}),l.set("isFavorite",r),(r?f["default"].removeFromFavorites(l):
f["default"].addToFavorites(l)).then(function(){C.buttonRef.current.blur()},function(d){h["default"].publish("alert/show",{type:"error",text:null===d||void 0===d?void 0:d.message});C.setState(function(e){return{isFavorite:!e.isFavorite}});l.set("isFavorite",r)}))};return C}n.__extends(w,u);w.prototype.componentDidMount=function(){this.setState({isFavorite:this.props.item.isFavorite})};w.prototype.checkReadonly=function(C){return(null===C||void 0===C?0:C.isPortal)&&C.isReadOnly?(k["default"].createSpecifiedDialog(g["default"]).show({title:p["default"].common.errorTitle,
message:p["default"].common.errors.portalInReadOnlyModeMsg}),!0):!1};w.prototype.render=function(){var C=this.state.isFavorite;return q.h("span",null,q.h("button",{onClick:this.handleClick,ref:this.buttonRef,role:"checkbox","aria-label":p["default"].common.favorite,"aria-checked":C?"true":"false","class":"favorites__button position-relative card-action "+(C?"btn-link-yellow":"")},q.h("calcite-icon",{icon:C?"star-f":"star",scale:"s"}),q.h("span",{"aria-hidden":"true","class":"favorites__tooltip"},
C?p["default"].common.unfavorite:p["default"].common.favorite)))};return w}(q.Component);K["default"]=O})},"arcgisonline/pages/utils/dropdown":function(){define(["require","exports","tslib","calcite-web/js/calcite-web","dojo/query"],function(O,K,n,q,p){Object.defineProperty(K,"__esModule",{value:!0});K.dropdown=void 0;q=n.__importDefault(q);p=n.__importDefault(p);K.dropdown=function(){q["default"].dropdown();p["default"](".dropdown-link").on("mouseover",function(h){var f;null===(f=h.target)||void 0===
f?void 0:f.focus()})}})},"arcgisonline/pages/components/SearchFeedback":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline preact/hooks".split(" "),function(O,K,n,q,p,h){Object.defineProperty(K,"__esModule",{value:!0});K.SearchFeedback=void 0;p=n.__importDefault(p);K.SearchFeedback=function(f){var g=f.telemetry,k=f.searchTerm,u=f.page,w=f.onlyOrg,C=f.section,z=f.enriched,r=f.onSubmit,l=h.useState(1);f=l[0];var d=l[1];l=h.useState({dontSee:!1,irrelevant:!1,filters:!1,
notEnoughInfo:!1});var e=l[0],a=l[1];w=C+" "+(w?"org only":"all");C=h.useState("");var b=C[0],c=C[1],m={category:"search result page feedback "+(1===f?"1":"2"),pageName:w,statusCode:z?"enriched":"not enriched",pageUrl:window.location.href,number:Math.ceil(u.start/u.num),searchquery:k};return q.h("div",null,1===f&&q.h("div",{"class":"leader-1 trailer-1 panel panel-white padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 flex flex-center"},q.h("div",{"class":"flex-1"},q.h("h4",{"class":"font-size-0 text-black avenir-demi trailer-quarter"},
p["default"].searchFeedback.areTheseResultsHelpful),q.h("p",{"class":"text-off-black font-size--2 trailer-0"},p["default"].searchFeedback.helpUsImprove)),q.h("calcite-button",{"icon-start":"thumbs-up",appearance:"outline","class":"padding-left-1",onClick:function(){g.logEvent(n.__assign(n.__assign({},m),{label:"yes"}));d(3);r()}},p["default"].searchFeedback.helpful),q.h("calcite-button",{appearance:"outline","icon-start":"thumbs-down","class":"padding-left-1",onClick:function(){g.logEvent(n.__assign(n.__assign({},
m),{label:"no"}));d(2)}},p["default"].searchFeedback.notHelpful)),2===f&&q.h("div",{"class":"trailer-1 panel panel-white padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1"},q.h("h4",{"class":"font-size-0 text-black avenir-demi trailer-0"},p["default"].searchFeedback.whatMakes),q.h("p",{"class":"text-off-black font-size--2 trailer-half"},p["default"].searchFeedback.selectAllThatApply),Object.keys(e).map(function(t){return q.h("calcite-chip",{"class":"margin-right-half trailer-half",
value:t,appearance:e[t]?"solid":"clear",color:e[t]?"blue":"grey",onClick:function(){var v;a(n.__assign(n.__assign({},e),(v={},v[t]=!e[t],v)))}},p["default"].searchFeedback[t])}),q.h("div",{"class":"leader-1"},q.h("calcite-label",null,q.h("span",{"class":"display-block padding-trailer-half"},p["default"].searchFeedback.tellUsMore),q.h("calcite-input",{type:"textarea",maxLength:250,oncalciteInputInput:function(t){return c(t.detail.value)}})),q.h("div",{"class":"flex flex-end trailer-1"},q.h("span",
{"class":"font-size--2 text-darker-gray"},b.length," / ",250))),q.h("div",{"class":"flex flex-end"},q.h("calcite-button",{appearance:"outline",color:"blue",onClick:function(){d(3);r()},"class":"margin-right-quarter"},p["default"].searchFeedback.close),q.h("calcite-button",{appearance:"solid",color:"blue",onClick:function(){d(3);Object.keys(e).filter(function(t){return e[t]}).forEach(function(t){g.logEvent(n.__assign(n.__assign({},m),{label:t}))});b&&g.logEvent(n.__assign(n.__assign({},m),{details:b,
label:"other"}));r()}},p["default"].searchFeedback.sendFeedback))),3===f&&q.h("calcite-alert",{label:p["default"].searchFeedback.thankYou,active:!0,color:"green",icon:"check-circle",scale:"m","intl-close":"Close"},q.h("div",{slot:"title"},p["default"].searchFeedback.thankYou)))}})},"arcgisonline/pages/organization/widgets/AssignGroupsOverlay/AssignGroupsOverlay":function(){define("require exports tslib esri/request dojo/topic dojo/text!./AssignGroupsOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/string dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/dijit/SelectedMembers arcgisonline/pages/utils/alerts arcgisonline/pages/utils/promises arcgisonline/pages/pageUtil arcgisonline/esriGeowConfig arcgis-components/wrappers/GroupBrowser arcgisonline/tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);a=n.__importDefault(a);return function(){function b(c,m){this.title=f["default"].myOrganization.membersTab.assignGroupsOverlay.title;this.i18n=f["default"];
this.overlayContents=g["default"].substitute(h["default"],{i18n:this.i18n});this.selectedGroups=[]}b.prototype.open=function(){this.inherited(arguments);this.init();new C["default"]({members:this.members},this.domNode.querySelector(".js-selected-members"))};b.prototype.close=function(){this.inherited(arguments);p["default"].publish("manage-members/close")};b.prototype.handlePrimary=function(){this.addRemoveUsers()};b.prototype.showMessage=function(c,m){var t=this.i18n.batchAssignToGroupsDlg,v=t.assignmentSuccessful,
A=t.oneGroupSomeUnsuccessful;t=t.manyGroupsSomeUnsuccessful;var B="";0<c.length&&(B=1===this.selectedGroups.length?g["default"].substitute(A,{group:this.selectedGroups[0].title,userList:c.join(",")}):g["default"].substitute(t,{userList:c.join(",")}));0===c.length?(z["default"].showAlert("success",""+v),p["default"].publish("members/refresh"),p["default"].publish("items/refresh")):m?(z["default"].showAlert("warning","\x3cp\x3e"+v+"\x3c/p\x3e\x3cp\x3e"+B+"\x3c/p\x3e"),p["default"].publish("members/refresh"),
p["default"].publish("items/refresh")):z["default"].showAlert("error",B)};b.prototype.getAddUsersRequests=function(){var c=this;return this.selectedGroups.map(function(m){return l["default"].sendAllResources(d["default"].restBaseUrl+"community/groups/"+m.id+"/addUsers",25,c.members.map(function(t){return t.username}),function(t){return{users:t.join(", ")}},{timeout:18E4})})};b.prototype.init=function(){return n.__awaiter(this,void 0,void 0,function(){var c,m=this;return n.__generator(this,function(t){switch(t.label){case 0:this.domNode.classList.add("assign-group-members-overlay"),
t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Promise.all(this.members.map(function(v){return m.getAllGroups(v.username)}))];case 2:return c=t.sent(),c.forEach(function(v,A){m.members[A].userGroups=v}),this.initGroupBrowser(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})})};b.prototype.getAllGroups=function(c){return l["default"].fetchAllResources(d["default"].restBaseUrl+"community/groups",{num:100,searchUserAccess:"groupMember",searchUserName:c})};b.prototype.initGroupBrowser=function(){var c=
{};this.members.forEach(function(m){m.userGroups.forEach(function(t){c[t.id]?c[t.id].selectedByIds.push(m.id):c[t.id]={group:t,selectedByIds:[m.id]}})});this.groupBrowser=new e.GroupBrowserWrapper(this.domNode.querySelector(".js-group-browser"),{apiVersion:3,portal:this.portal,portalUser:this.portal.portalUser,request:q["default"],initialState:n.__assign(n.__assign({},e.initialState),{config:n.__assign(n.__assign({},e.initialState.config),{enableFiltering:!0,baseQ:"orgid:"+this.portal.id+' AND (-owner:"esri_nav" -owner:"esri_boundaries" -owner:"esri_demographics" -owner:"esri_livingatlas")',
shareMode:"DEFAULT"}),groups:n.__assign(n.__assign({},e.initialState.groups),{selectorItems:this.members,selectedGroups:c}),parameters:n.__assign(n.__assign({},e.initialState.parameters),{filter:n.__assign(n.__assign({},e.initialState.parameters.filter),{currentUsername:this.portal.portalUser.username})}),ui:n.__assign(n.__assign({},e.initialState.ui),{filter:{expanded:!0}}),utils:n.__assign(n.__assign({},e.initialState.utils),{portalUser:this.portal.portalUser})}),onChange:this.handleGroupChange.bind(this)})};
b.prototype.determineAddRemove=function(){var c=this,m=this.groupBrowser.getState().groups.selectedGroups,t=[];Object.keys(m).forEach(function(B){B=m[B];var x=B.group;B.selectedByIds.length===c.members.length&&t.push(x)});var v={},A={};this.members.forEach(function(B){t.forEach(function(x){B.userGroups.some(function(D){return D.id===x.id})||(v[x.id]||(v[x.id]=[]),v[x.id].push(B.username))});B.userGroups.forEach(function(x){Object.keys(m).some(function(D){return m[D].group.id===x.id})||(A[x.id]||(A[x.id]=
[]),A[x.id].push(B.username))})});return{addRecords:v,removeRecords:A}};b.prototype.addRemoveUsers=function(){return n.__awaiter(this,void 0,void 0,function(){var c,m,t,v,A,B,x,D,E,y,F,G=this;return n.__generator(this,function(H){switch(H.label){case 0:c=this.determineAddRemove();m=c.addRecords;t=c.removeRecords;v=Object.keys(m).some(function(I){return 0<m[I].length});A=Object.keys(t).some(function(I){return 0<t[I].length});if(!v&&!A)return this.close(),[2];B=Object.keys(m).map(function(I){return G.addRemoveRequests(I,
m)});x=Object.keys(t).map(function(I){return G.addRemoveRequests(I,t,!0)});D=[];E=!1;H.label=1;case 1:return H.trys.push([1,3,,4]),[4,r["default"].eachAlways(B)];case 2:return y=H.sent(),y.forEach(function(I,N){I.value.forEach(function(M){var J=M.notAdded;null===J||void 0===J?void 0:J.forEach(function(R){-1===D.indexOf(R)&&D.push(R);R=Object.keys(m)[N];J.length<m[R].length&&(E=!0)})})}),[3,4];case 3:return H.sent(),z["default"].showAlert("error",this.i18n.batchAssignToGroupsDlg.assignmentError),[2];
case 4:return H.trys.push([4,6,,7]),[4,r["default"].eachAlways(x)];case 5:return F=H.sent(),F.forEach(function(I,N){I.value.forEach(function(M){var J=M.notRemoved;null===J||void 0===J?void 0:J.forEach(function(R){-1===D.indexOf(R)&&D.push(R);R=Object.keys(t)[N];J.length<t[R].length&&(E=!0)})})}),[3,7];case 6:return H.sent(),z["default"].showAlert("error",this.i18n.batchAssignToGroupsDlg.assignmentError),[2];case 7:return this.showMessage(D,E),this.close(),[2]}})})};b.prototype.getGroupUrl=function(c){return d["default"].restBaseUrl+
"community/groups/"+c};b.prototype.addRemoveRequests=function(c,m,t){void 0===t&&(t=!1);t=this.getGroupUrl(c)+"/"+(t?"removeUsers":"addUsers");return l["default"].sendAllResources(t,25,m[c],function(v){return{users:v.join(", ")}},{timeout:18E4})};b.prototype.handleGroupChange=function(c){this.selectedGroups=c};return b=n.__decorate([a["default"](u["default"],k["default"],w["default"])],b)}()})},"arcgis-components/wrappers/GroupBrowser":function(){define(["../Component","../GroupBrowser/index"],function(O,
K){return function(n){function q(h){if(p[h])return p[h].exports;var f=p[h]={i:h,l:!1,exports:{}};return n[h].call(f.exports,f,f.exports,q),f.l=!0,f.exports}var p={};return q.m=n,q.c=p,q.d=function(h,f,g){q.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},q.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},q.t=function(h,f){if((1&f&&(h=q(h)),8&f)||4&f&&"object"==typeof h&&
h&&h.__esModule)return h;var g=Object.create(null);if(q.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&f&&"string"!=typeof h)for(var k in h)q.d(g,k,function(u){return h[u]}.bind(null,k));return g},q.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};return q.d(f,"a",f),f},q.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},q.p="",q(q.s=981)}({0:function(n,q,p){function h(r,l){function d(){this.constructor=r}if("function"!=typeof l&&
null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");C(r,l);r.prototype=null===l?Object.create(l):(d.prototype=l.prototype,new d)}function f(r,l){var d={},e;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&0>l.indexOf(e)&&(d[e]=r[e]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(e=Object.getOwnPropertySymbols(r);a<e.length;a++)0>l.indexOf(e[a])&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(d[e[a]]=r[e[a]])}return d}
function g(r,l,d,e){var a,b=arguments.length,c=3>b?l:null===e?e=Object.getOwnPropertyDescriptor(l,d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,l,d,e);else for(var m=r.length-1;0<=m;m--)(a=r[m])&&(c=(3>b?a(c):3<b?a(l,d,c):a(l,d))||c);return 3<b&&c&&Object.defineProperty(l,d,c),c}function k(r,l,d,e){return new (d||(d=Promise))(function(a,b){function c(v){try{t(e.next(v))}catch(A){b(A)}}function m(v){try{t(e["throw"](v))}catch(A){b(A)}}function t(v){var A;
v.done?a(v.value):(A=v.value,A instanceof d?A:new d(function(B){B(A)})).then(c,m)}t((e=e.apply(r,l||[])).next())})}function u(r,l){function d(t){return function(v){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;m;)try{if(e=1,a&&(b=2&A[0]?a["return"]:A[0]?a["throw"]||((b=a["return"])&&b.call(a),0):a.next)&&!(b=b.call(a,A[1])).done)return b;switch(a=0,b&&(A=[2&A[0],b.value]),A[0]){case 0:case 1:b=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++;
a=A[1];A=[0];continue;case 7:A=m.ops.pop();m.trys.pop();continue;default:if(!(b=m.trys,(b=0<b.length&&b[b.length-1])||6!==A[0]&&2!==A[0])){m=0;continue}if(3===A[0]&&(!b||A[1]>b[0]&&A[1]<b[3]))m.label=A[1];else if(6===A[0]&&m.label<b[1])m.label=b[1],b=A;else if(b&&m.label<b[2])m.label=b[2],m.ops.push(A);else{b[2]&&m.ops.pop();m.trys.pop();continue}}A=l.call(r,m)}catch(B){A=[6,B],a=0}finally{e=b=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([t,v])}}var e,a,b,c,m={label:0,sent:function(){if(1&
b[0])throw b[1];return b[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(r,l){for(var d=0,e=l.length,a=r.length;d<e;d++,a++)r[a]=l[d];return r}p.d(q,"d",function(){return h});p.d(q,"a",function(){return z});p.d(q,"f",function(){return f});p.d(q,"c",function(){return g});p.d(q,"b",function(){return k});p.d(q,"e",function(){return u});p.d(q,"g",function(){return w});var C=function(r,l){return(C=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(d[a]=e[a])})(r,l)},z=function(){return(z=Object.assign||function(r){for(var l,d=1,e=arguments.length;d<e;d++)for(var a in l=arguments[d])Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);return r}).apply(this,arguments)};Object.create;Object.create},101:function(n,q,p){p.d(q,"a",function(){return f});p.d(q,"b",function(){return g});var h=
p(0),f=function(k){return k?k.urlKey?location.protocol+"//"+k.urlKey+"."+k.customBaseUrl:location.protocol+"//"+k.portalHostname:""},g=function(k){return Object(h.a)(Object(h.a)({},k),{baseUrl:f(k)})}},128:function(n,q,p){p.d(q,"a",function(){return f});p.d(q,"b",function(){return g});var h=p(0);n=p(15);var f=function(k,u){var w;return u.thumbnail&&(w=k.restUrl+"/community/groups/"+u.id+"/info/"+u.thumbnail+(k.credential?"?token\x3d"+k.credential.token:"")),w},g=Object(n.a)(function(k,u){return Object(h.a)(Object(h.a)({},
u),{thumbURI:f(k,u)})})},137:function(n,q,p){p.d(q,"a",function(){return h});p.d(q,"d",function(){return k});p.d(q,"c",function(){return u});p.d(q,"e",function(){return w});p.d(q,"f",function(){return C});var h,f=p(0),g=p(25);!function(z){z.LOADING="loading";z.LOADED="loaded";z.FAILED="failed"}(h||(h={}));var k=function(z){var r=z.selectedGroups,l=z.selectorItems;return 0===l.length?Object.keys(r).map(function(d){return r[d].group}):Object.keys(r).filter(function(d){return w(r[d],l)}).map(function(d){return r[d].group})},
u=function(z){var r=z.initialSelectedGroups,l=z.selectedGroups,d=Object.keys(l).map(function(e){return l[e].group.id});return Object.keys(r).map(function(e){return r[e].group.id}).filter(function(e){return 0>d.indexOf(e)}).map(function(e){return r[e].group})},w=function(z,r){return!z.selectedByIds||z.selectedByIds.length===r.length},C={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:h.LOADING,total:0,hasGroups:!0};q.b=function(z,r){switch(void 0===z&&(z=C),r.type){case g.a.DESELECT_GROUPS:return Object(f.a)(Object(f.a)({},
z),{selectedGroups:r.payload.reduce(function(e,a){var b=a.id;e[b];return Object(f.f)(e,["symbol"==typeof b?b:b+""])},z.selectedGroups)});case g.a.REVERT_GROUPS:return r.payload?Object(f.a)(Object(f.a)({},z),{selectedGroups:r.payload.reduce(function(e,a){var b;if(z.initialSelectedGroups[a.id])return Object(f.a)(Object(f.a)({},e),((b={})[a.id]=z.initialSelectedGroups[a.id],b));b=a.id;e[b];return Object(f.f)(e,["symbol"==typeof b?b:b+""])},z.selectedGroups)}):Object(f.a)(Object(f.a)({},z),{selectedGroups:Object(f.a)({},
z.initialSelectedGroups)});case g.a.SELECT_GROUPS:var l=z.selectorItems.map(function(e){return e.id});return Object(f.a)(Object(f.a)({},z),{selectedGroups:r.payload.reduce(function(e,a){var b;return Object(f.a)(Object(f.a)({},e),((b={})[a.group.id]=Object(f.a)({selectedByIds:l},a),b))},z.selectedGroups)});case g.a.SET_INITIAL_GROUPS:var d=r.payload.reduce(function(e,a){var b;return Object(f.a)(Object(f.a)({},e),((b={})[a.group.id]=a,b))},{});return Object(f.a)(Object(f.a)({},z),{selectedGroups:d,
initialSelectedGroups:Object(f.a)({},d)});case g.a.SET_SELECTOR_ITEMS:return Object(f.a)(Object(f.a)({},z),{selectorItems:r.payload});case g.a.CLEAR_SELECTION:return Object(f.a)(Object(f.a)({},z),{selectedGroups:{}});case g.a.LOADING_GROUPS:return Object(f.a)(Object(f.a)({},z),{status:h.LOADING});case g.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},z),{displayGroups:r.payload.results,total:r.payload.total,status:h.LOADED});case g.a.LOAD_GROUPS_FAIL:return Object(f.a)(Object(f.a)({},z),{displayGroups:[],
status:h.FAILED});case g.a.SET_HAS_GROUPS:return Object(f.a)(Object(f.a)({},z),{hasGroups:r.payload});default:return z}}},144:function(n,q,p){p.d(q,"d",function(){return u});p.d(q,"e",function(){return w});p.d(q,"b",function(){return C});p.d(q,"c",function(){return z});p.d(q,"a",function(){return r});p.d(q,"f",function(){return l});var h=p(0),f=p(181),g=p(163),k=p(68),u=function(d){return 1<d.length&&Object(g.a)(),{type:k.a.SELECT_GROUPS,payload:d.map(function(e){return{group:Object(f.c)(e)}})}},
w=function(d){return{type:k.a.SET_INITIAL_GROUPS,payload:d.map(function(e){return Object(h.a)(Object(h.a)({},e),{group:Object(f.c)(e.group)})})}},C=function(d){return 1<d.length&&Object(g.b)(),{type:k.a.DESELECT_GROUPS,payload:d}},z=function(d){return{type:k.a.REVERT_GROUPS,payload:d}},r=function(){return Object(g.c)(),{type:k.a.CLEAR_SELECTION}},l=function(d){return{type:k.a.SET_SELECTOR_ITEMS,payload:d}}},148:function(n,q,p){p.d(q,"a",function(){return f});var h=p(0);n=p(15);var f=Object(n.a)(function(g,
k){var u=Object(h.a),w=Object(h.a)({},k);var C=k.thumbnail?g.restUrl+"/community/users/"+k.username+"/info/"+k.thumbnail+(g.credential?"?token\x3d"+g.credential.token:""):void 0;return u(w,{thumbURI:C})})},15:function(n,q,p){function h(g){return function u(){for(var w=this,C=[],z=0;z<arguments.length;z++)C[z]=arguments[z];return C.length>=g.length?g.call.apply(g,Object(f.g)([this],C)):function(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];return u.call.apply(u,Object(f.g)(Object(f.g)([w],
C),r))}}}p.d(q,"a",function(){return h});var f=p(0)},159:function(n,q,p){p.d(q,"b",function(){return d});p.d(q,"a",function(){return a});var h=p(0),f=p(181),g=p(30),k=p(163),u=p(54),w=p(68),C=p(28),z=p(61),r=p(38),l=p(26),d=function(x,D){e(D()).then(function(E){var y=D();y=Object(u.b)(y)?y:y.gbState;var F=y.utils;y.ui.focus.focusSelectAll&&Object(k.c)();x({type:w.a.LOAD_GROUPS_SUCCESS,payload:Object(h.a)(Object(h.a)({},E),{results:E.results.map(function(G){return Object(f.b)(F.portal,G)})})})})["catch"](function(E){var y=
D();(Object(u.b)(y)?y:y.gbState).ui.focus.focusSelectAll&&Object(k.c)();x({type:w.a.LOAD_GROUPS_FAIL,payload:E})})},e=function(x){x=Object(u.b)(x)?x:x.gbState;var D=x.utils,E=D.request,y=D.portal,F=x.config;D=F.groupsPerPage;var G=F.withinShare,H=(F.withinAppConfig,x.parameters);F=H.filter;H=H.sort;var I=x.ui.page.currentPageNumber,N={q:B(x),num:D,sortField:H.field,sortOrder:H.order,start:(I-1)*D+1};return G&&(N.searchUserAccess="groupMember",N.searchUserName=F.currentUsername),F.designationFilter!==
r.b.orgSettings||m(y)?new C.Promise(function(M,J){Object(g.g)(E,y,N).then(M,J)}):new C.Promise(function(M){M({query:N.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},a=function(x){var D=x.user;x=x.state;x=Object(u.b)(x)?x:x.gbState;var E=x.utils,y=E.request,F=E.portal;x=Object(h.a)(Object(h.a)({},x),{parameters:Object(h.a)(Object(h.a)({},x.parameters),{filter:Object(h.a)(Object(h.a)({},x.parameters.filter),{currentUsername:D.username})})});var G={q:B(x),num:100,searchUserAccess:"groupMember",
searchUserName:D.username};return(new C.Promise(function(H,I){return Object(g.g)(y,F,G).then(function(N){if(-1!==N.nextStart){var M=Math.ceil(N.total/100)-1,J=[N.results];N=function(Z){J.push(new C.Promise(function(T,X){var aa=100*(Z+1)+1;Object(g.g)(y,F,Object(h.a)(Object(h.a)({},G),{start:aa})).then(function(fa){T(fa.results)},X)}))};for(var R=0;R<M;R++)N(R);C.Promise.all(J).then(function(Z){H(Object(z.b)(Z))})}else H(N.results)},I)}))["catch"](function(H){throw H;})},b=function(x){var D,E=x.shareMode,
y=x.currentUsername,F=x.portalUser;x=x.userGroups;var G=[];switch(x&&x.forEach(function(H){var I,N=null===(I=H.userMembership)||void 0===I?void 0:I.memberType;!H.isViewOnly||"owner"!==N&&"admin"!==N||G.push(H.id)}),G.length&&(D="(isviewonly:false OR "+G.join(" OR ")+")"),E){case l.d.DEFAULT:return D||"(owner:"+y+" OR isviewonly:false)";case l.d.GROUP:return"owner:"+y+" -capabilities:updateitemcontrol";case l.d.ADMIN:return F.username===y?"(isviewonly:false OR owner:"+F.username+") -capabilities:updateitemcontrol":
"(owner:"+y+" OR isviewonly:false)";default:return""}},c=function(x,D){0!==(null==x?void 0:x.indexOf("id:"))||-1<D.indexOf(x)||D.push(x)},m=function(x){var D,E,y,F,G,H=[],I=[x.featuredItemsGroupQuery,x.basemapGalleryGroupQuery,x.templatesGroupQuery,x["2DStylesGroupQuery"],x.stylesGroupQuery,x.analysisLayersGroupQuery,x.galleryTemplatesGroupQuery];if(x.hasModernHomePageEnabled){var N=(null===(E=null===(D=x.homePageConfig)||void 0===D?void 0:D.content)||void 0===E?void 0:E.filter(function(M){return"gallery"===
M.type&&!!M.groupId}))||[];0<N.length&&N.forEach(function(M){c("id:"+M.groupId,H)})}else I.push(x.homePageFeaturedContent);return I.forEach(function(M){c(M,H)}),null===(y=x.featuredGroups)||void 0===y||y.forEach(function(M){(M=M.id)&&c("id:"+M,H)}),null===(G=null===(F=x.userDefaults)||void 0===F?void 0:F.groups)||void 0===G||G.forEach(function(M){c("id:"+M,H)}),0<H.length?"("+H.join(" OR ")+")":""},t=function(x){var D=x.portal;switch(x.designationFilter){case r.b.openData:return"isopendata:true";
case r.b.updateGroups:return"capabilities:updateitemcontrol";case r.b.distributed:return"capabilities:distributed";case r.b.administrative:return"isleavingdisallowed:true";case r.b.orgSettings:return m(D)||"";default:return""}},v=function(x){var D=x.portal,E=x.username,y=x.currentUsername,F=x.userType,G=x.withinAppConfig;E=x.shareMode===l.d.ADMIN&&y||E;G=D.isPortal&&G?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(x.ownerFilter){case r.d.itemOwner:return"owner:"+
E+" "+G;case r.d.inOrg:return"-owner:"+E+" orgid:"+D.id+" "+G;case r.d.outsideOrg:return F===l.e.PUBLIC?"-owner:"+E+" "+G:"(orgid: [0 TO \\{]) -orgid:"+D.id+" "+G;default:return G}},A=function(x){return x?"created: ["+(D=x).start+" TO "+D.end+"]":"";var D},B=function(x){var D=x.utils,E=D.portal;D=D.portalUser;var y=x.config,F=y.shareMode,G=y.userType,H=y.withinAppConfig,I=y.hasIndoorsSpaces;x=x.parameters.filter;var N=x.designationFilter,M=x.membershipFilter,J=x.dateCreatedFilter,R=x.currentUsername,
Z=x.ownerFilter;return[y.baseQ+" "+x.searchString,b({shareMode:F,currentUsername:R,portalUser:D,userGroups:y.userGroups}),I?"-capabilities:distributed":t({designationFilter:N,portal:E}),I?"membershipaccess:org":M?"anyOrg"===M?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+M:"",A(J),v({ownerFilter:Z,portal:E,username:D.username,currentUsername:R,shareMode:F,userType:G,withinAppConfig:H})].filter(function(T){return T}).join(" ").trim()}},16:function(n,q){n.exports=O},163:function(n,
q,p){function h(){k("gb__select-all-input")}function f(){k("gb__clear-selection-btn")}function g(){setTimeout(function(){var u=document.querySelector(".gcard-gcc__container");u&&(u=u.querySelector(".btn-2018check__input"))&&u.focus()},50)}function k(u){setTimeout(function(){var w=document.querySelector("#"+u);w&&w.focus()},50)}p.d(q,"c",function(){return h});p.d(q,"a",function(){return f});p.d(q,"b",function(){return g})},170:function(n,q){var p=function(){return this}();try{p=p||(new Function("return this"))()}catch(h){"object"==
typeof window&&(p=window)}n.exports=p},175:function(n,q,p){var h;p.d(q,"a",function(){return h});(h||(h={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},177:function(n,q,p){p.d(q,"a",function(){return c});var h=p(0),f=p(54),g=p(144),k=p(159),u=p(313),w=p(314),C=p(186),z=p(30),r=p(28),l=p(25),d=p(61),e=p(68),a=p(192),b=p(58),c=function(t){return function(v,A){var B=A(),x=(Object(f.b)(B)?B:B.gbState).utils,D=x.portal;x=x.portalUser;if(!(t&&t.selectorItems&&0<t.selectorItems.length))return v(k.b),r.Promise.resolve();
var E=t.selectorItems,y=t.userType;v({type:l.a.SET_SHARE_MODE,payload:t.shareMode});v({type:l.a.SET_USER_TYPE,payload:y});v(Object(g.f)(E));D=Object(b.b)({user:x,items:E,portal:D});var F=x.username===D.username?[x]:[x,D];return 1<F.length&&!t.anySelectorItemsPrivate&&v({type:l.a.ENABLE_USER_TOGGLE}),v(Object(C.c)(F)),v(Object(C.h)(D.username)),void 0===B.config.hasTrustedOrgs&&v(u.a),Object(w.a)(A()).then(function(G){return G&&v({type:a.a.USER_DETAILS_LOADED,payload:G.groups}),v(k.b),r.Promise.all(F.map(function(H){return Object(k.a)({user:H,
state:A()})})).then(function(H){H=Object(d.b)(H);var I=H.map(function(N){return N.id});H=H.filter(function(N,M){return I.indexOf(N.id)===M});return v(m(H))})})}},m=function(t){return function(v,A){return new r.Promise(function(B,x){var D=A();D=Object(f.b)(D)?D:D.gbState;var E=D.utils,y=E.portal,F=E.request,G=Object(z.b)(D.groups.selectorItems);D=Object(z.a)(t).map(function(H){return Object(z.i)({itemIds:G,groupIds:Object(z.b)(H),portal:y,request:F})});r.Promise.all(D).then(function(H){var I=H.reduce(function(M,
J){return Object(h.a)(Object(h.a)({},M),J)},{}),N=Object.keys(I);H=t.filter(function(M){return 0<=N.indexOf(M.id)}).map(function(M){return{group:M,selectedByIds:I[M.id].items.map(function(J){return J.itemId})}});v({type:e.a.SET_HAS_GROUPS,payload:0<t.length});v(Object(g.e)(H));B()})["catch"](x)})}}},181:function(n,q,p){p.d(q,"b",function(){return k});p.d(q,"c",function(){return u});p.d(q,"a",function(){return w});var h=p(63);n=p(5);var f=p(99),g=p(128),k=function(C,z){return Object(h.a)(Object(g.b)(C))(z)},
u=Object(h.a)(Object(n.e)("thumbURI")),w=function(C){var z=C.initialSelectedByIds;return!Object(f.a)(C.selectedBy.map(function(r){return r.id}),z)}},186:function(n,q,p){p.d(q,"b",function(){return f});p.d(q,"g",function(){return g});p.d(q,"h",function(){return k});p.d(q,"e",function(){return u});p.d(q,"f",function(){return w});p.d(q,"d",function(){return C});p.d(q,"c",function(){return z});p.d(q,"a",function(){return r});var h=p(83),f=function(l){return{type:h.a.SET_SEARCH_STRING,payload:l}},g=function(l){return{type:h.a.UPDATE_OWNER_FILTER,
payload:l}},k=function(l){return{type:h.a.UPDATE_USERNAME_FILTER,payload:l}},u=function(l){return{type:h.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:l}},w=function(l){return{type:h.a.UPDATE_MEMBERSHIP_FILTER,payload:l}},C=function(l){return{type:h.a.UPDATE_CREATED_ON_FILTER,payload:{section:l.section,created:l.created}}},z=function(l){return{type:h.a.SET_USERS,payload:l}},r=function(l){return{type:h.a.CLEAR_FILTERS,payload:l}}},189:function(n,q){function p(){throw Error("setTimeout has not been defined");
}function h(){throw Error("clearTimeout has not been defined");}function f(b){if(z===setTimeout)return setTimeout(b,0);if((z===p||!z)&&setTimeout)return z=setTimeout,setTimeout(b,0);try{return z(b,0)}catch(c){try{return z.call(null,b,0)}catch(m){return z.call(this,b,0)}}}function g(){e&&l&&(e=!1,l.length?d=l.concat(d):a=-1,d.length&&k())}function k(){if(!e){var b=f(g);e=!0;for(var c=d.length;c;){l=d;for(d=[];++a<c;)l&&l[a].run();a=-1;c=d.length}l=null;e=!1;(function(m){if(r===clearTimeout)return clearTimeout(m);
if((r===h||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(m);try{r(m)}catch(t){try{return r.call(null,m)}catch(v){return r.call(this,m)}}})(b)}}function u(b,c){this.fun=b;this.array=c}function w(){}var C=n.exports={};try{var z="function"==typeof setTimeout?setTimeout:p}catch(b){z=p}try{var r="function"==typeof clearTimeout?clearTimeout:h}catch(b){r=h}!0;var l,d=[],e=!1,a=-1;C.nextTick=function(b){var c=Array(arguments.length-1);if(1<arguments.length)for(var m=1;m<arguments.length;m++)c[m-1]=
arguments[m];d.push(new u(b,c));1!==d.length||e||f(k)};u.prototype.run=function(){this.fun.apply(null,this.array)};C.title="browser";C.browser=!0;C.env={};C.argv=[];C.version="";C.versions={};C.on=w;C.addListener=w;C.once=w;C.off=w;C.removeListener=w;C.removeAllListeners=w;C.emit=w;C.prependListener=w;C.prependOnceListener=w;C.listeners=function(b){return[]};C.binding=function(b){throw Error("process.binding is not supported");};C.cwd=function(){return"/"};C.chdir=function(b){throw Error("process.chdir is not supported");
};C.umask=function(){return 0}},192:function(n,q,p){var h;p.d(q,"a",function(){return h});(h||(h={})).USER_DETAILS_LOADED="USER_LOADED"},204:function(n,q,p){var h;p.d(q,"a",function(){return h});(function(f){f.SET_PAGE="SET_PAGE";f.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";f.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(h||(h={}))},207:function(n,q,p){p.d(q,"b",function(){return g});var h=p(0),f=p(25),g={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,
enableSingleSelection:!1,hasIndoorsSpaces:!1};q.a=function(k,u){switch(void 0===k&&(k=g),u.type){case f.a.ENABLE_USER_TOGGLE:return Object(h.a)(Object(h.a)({},k),{enableUserToggle:!0});case f.a.SET_SHARE_MODE:return Object(h.a)(Object(h.a)({},k),{shareMode:u.payload});case f.a.SET_USER_TYPE:return Object(h.a)(Object(h.a)({},k),{userType:u.payload});case f.a.TRUSTED_ORGS_LOADED:return Object(h.a)(Object(h.a)({},k),{hasTrustedOrgs:0<u.payload.length});case f.a.USER_DETAILS_LOADED:return Object(h.a)(Object(h.a)({},
k),{userGroups:u.payload});case f.a.SET_SELECTOR_ITEMS:var w=!!u.payload.find(function(C){var z;return-1<(null===(z=null==C?void 0:C.typeKeywords)||void 0===z?void 0:z.indexOf("EditExtensionIndoorsSpaces"))});return Object(h.a)(Object(h.a)({},k),{hasIndoorsSpaces:w});default:return k}}},208:function(n,q,p){p.d(q,"b",function(){return f});n=p(16);var h=p(209);p=p(38);var f={sort:h.b,filter:p.f};q.a=Object(n.combineReducers)({sort:h.a,filter:p.e})},209:function(n,q,p){p.d(q,"b",function(){return g});
var h=p(0),f=p(25),g={field:"title",order:"asc"},k={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};q.a=function(u,w){switch(void 0===u&&(u=g),w.type){case f.a.CHANGE_SORT_FIELD:return Object(h.a)(Object(h.a)({},u),{field:w.payload,order:k[w.payload]});case f.a.CHANGE_SORT_ORDER:return Object(h.a)(Object(h.a)({},u),{order:w.payload});default:return u}}},210:function(n,q,p){p.d(q,"b",function(){return k});n=p(16);var h=p(211),f=p(212),g=p(213);
p=p(214);var k={page:h.b,sort:f.b,focus:g.b,filter:p.b};q.a=Object(n.combineReducers)({page:h.a,sort:f.a,focus:g.a,filter:p.a})},211:function(n,q,p){p.d(q,"b",function(){return g});var h=p(0),f=p(25),g={currentPageNumber:1};q.a=function(k,u){switch(void 0===k&&(k=g),u.type){case f.a.CLEAR_FILTERS:case f.a.UPDATE_USERNAME_FILTER:case f.a.UPDATE_OWNER_FILTER:case f.a.UPDATE_CREATED_ON_FILTER:case f.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(h.a)(Object(h.a)({},k),{currentPageNumber:1});case f.a.SET_PAGE:return Object(h.a)(Object(h.a)({},
k),{currentPageNumber:u.payload});case f.a.LOAD_GROUPS_SUCCESS:return Object(h.a)(Object(h.a)({},k),{currentPageNumber:u.payload.num>u.payload.total?1:Math.ceil(u.payload.start/u.payload.num)});case f.a.LOAD_GROUPS_FAIL:return Object(h.a)(Object(h.a)({},k),{currentPageNumber:1});default:return k}}},212:function(n,q,p){p.d(q,"b",function(){return f});var h=p(25),f=!1;q.a=function(g,k){switch(void 0===g&&(g=f),k.type){case h.a.CHANGE_SORT_FIELD:case h.a.CHANGE_SORT_ORDER:case h.a.TOGGLE_SORT_DROPDOWN:return!g;
default:return g}}},213:function(n,q,p){p.d(q,"b",function(){return g});var h=p(0),f=p(25),g={focusSelectAll:!1};q.a=function(k,u){switch(u.type){case f.a.LOAD_GROUPS_FAIL:case f.a.LOAD_GROUPS_SUCCESS:return Object(h.a)(Object(h.a)({},k),{focusSelectAll:!1});case f.a.CHANGE_SORT_FIELD:case f.a.CHANGE_SORT_ORDER:return Object(h.a)(Object(h.a)({},k),{focusSelectAll:!0});default:return k}}},214:function(n,q,p){p.d(q,"b",function(){return k});var h=p(0),f=p(25),g=p(38),k={expanded:!1};q.a=function(u,
w){switch(w.type){case f.a.CLEAR_FILTERS:switch(w.payload){case void 0:case g.a.DATE_CREATED:return Object(h.a)(Object(h.a)({},u),{dateCreatedSelectedSection:void 0});default:return u}case f.a.TOGGLE_EXPANDED_FILTERS:return Object(h.a)(Object(h.a)({},u),{expanded:!u.expanded});case f.a.UPDATE_CREATED_ON_FILTER:return Object(h.a)(Object(h.a)({},u),{dateCreatedSelectedSection:w.payload.section});default:return u}}},215:function(n,q,p){p.d(q,"b",function(){return f});var h=p(101),f={portal:{},portalUser:{},
request:function(g){return null}};q.a=function(g,k){return void 0===g&&(g=f),k.type,g.portal.portalHostname&&!g.portal.baseUrl&&(g.portal.baseUrl=Object(h.a)(g.portal)),g}},25:function(n,q,p){p.d(q,"a",function(){return u});var h;n=p(0);q=p(204);var f=p(68),g=p(175),k=p(83);p=p(192);!function(w){w.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";w.SET_SHARE_MODE="SET_SHARE_MODE";w.SET_USER_TYPE="SET_USER_TYPE"}(h||(h={}));var u=Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},q.a),
f.a),k.a),h),g.a),p.a)},258:function(n,q){n.exports=K},26:function(n,q,p){var h,f,g,k,u;p.d(q,"b",function(){return h});p.d(q,"a",function(){return f});p.d(q,"c",function(){return g});p.d(q,"e",function(){return k});p.d(q,"d",function(){return u});(function(w){w.org="org";w["private"]="private";w["public"]="public";w.shared="shared"})(h||(h={}));(function(w){w.LOADING="LOADING";w.SHARE="SHARE";w.GROUP_BROWSER="GROUP_BROWSER";w.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(f||(f={}));
(function(w){w.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";w.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";w.REVERT_GROUPS="REVERT_GROUPS";w.EDITABLE_LAYERS="EDITABLE_LAYERS";w.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";w.NONE="NONE";w.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";w.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(g||(g={}));(function(w){w.ORG="ORG";w.PUBLIC="PUBLIC"})(k||(k={}));(function(w){w.DEFAULT="DEFAULT";w.ADMIN="ADMIN";w.GROUP="GROUP"})(u||(u=
{}))},28:function(n,q,p){(function(h,f){n.exports=function(){function g(){var aa=setTimeout;return function(){return aa(k,1)}}function k(){for(var aa=0;aa<v;aa+=2)(0,G[aa])(G[aa+1]),G[aa]=void 0,G[aa+1]=void 0;v=0}function u(aa,fa){var oa=this,ua=new this.constructor(C);void 0===ua[R]&&m(ua);var ha=oa._state;if(ha){var U=arguments[ha-1];x(function(){return c(ha,ua,U,oa._result)})}else a(oa,ua,aa,fa);return ua}function w(aa){if(aa&&"object"==typeof aa&&aa.constructor===this)return aa;var fa=new this(C);
return r(fa,aa),fa}function C(){}function z(aa,fa,oa){fa.constructor===aa.constructor&&oa===u&&fa.constructor.resolve===w?function(ua,ha){1===ha._state?d(ua,ha._result):2===ha._state?e(ua,ha._result):a(ha,void 0,function(U){return r(ua,U)},function(U){return e(ua,U)})}(aa,fa):void 0===oa?d(aa,fa):"function"==typeof oa?function(ua,ha,U){x(function(ka){var W=!1,Q=function(L,ca,Y,da){try{L.call(ca,Y,da)}catch(S){return S}}(U,ha,function(L){W||(W=!0,ha!==L?r(ka,L):d(ka,L))},function(L){W||(W=!0,e(ka,
L))},ka._label);!W&&Q&&(W=!0,e(ka,Q))},ua)}(aa,fa,oa):d(aa,fa)}function r(aa,fa){if(aa===fa)e(aa,new TypeError("You cannot resolve a promise with itself"));else if(ua=typeof(oa=fa),null===oa||"object"!==ua&&"function"!==ua)d(aa,fa);else{oa=void 0;try{oa=fa.then}catch(ha){return void e(aa,ha)}z(aa,fa,oa)}var oa,ua}function l(aa){aa._onerror&&aa._onerror(aa._result);b(aa)}function d(aa,fa){void 0===aa._state&&(aa._result=fa,aa._state=1,0!==aa._subscribers.length&&x(b,aa))}function e(aa,fa){void 0===
aa._state&&(aa._state=2,aa._result=fa,x(l,aa))}function a(aa,fa,oa,ua){var ha=aa._subscribers,U=ha.length;aa._onerror=null;ha[U]=fa;ha[U+1]=oa;ha[U+2]=ua;0===U&&aa._state&&x(b,aa)}function b(aa){var fa=aa._subscribers,oa=aa._state;if(0!==fa.length){for(var ua=void 0,ha=void 0,U=aa._result,ka=0;ka<fa.length;ka+=3)ua=fa[ka],ha=fa[ka+oa],ua?c(oa,ua,ha,U):ha(U);aa._subscribers.length=0}}function c(aa,fa,oa,ua){var ha="function"==typeof oa,U=void 0,ka=void 0,W=!0;if(ha){try{U=oa(ua)}catch(Q){W=!1,ka=Q}if(fa===
U)return void e(fa,new TypeError("A promises callback cannot return that same promise."))}else U=ua;void 0!==fa._state||(ha&&W?r(fa,U):!1===W?e(fa,ka):1===aa?d(fa,U):2===aa&&e(fa,U))}function m(aa){aa[R]=Z++;aa._state=void 0;aa._result=void 0;aa._subscribers=[]}var t=Array.isArray?Array.isArray:function(aa){return"[object Array]"===Object.prototype.toString.call(aa)},v=0,A=void 0,B=void 0,x=function(aa,fa){G[v]=aa;G[v+1]=fa;2===(v+=2)&&(B?B(k):J())},D="undefined"!=typeof window?window:void 0,E=D||
{};E=E.MutationObserver||E.WebKitMutationObserver;var y="undefined"==typeof self&&void 0!==h&&"[object process]"==={}.toString.call(h),F="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,G=Array(1E3),H,I,N,M,J=void 0;y?J=function(){return h.nextTick(k)}:E?(I=0,N=new E(k),M=document.createTextNode(""),N.observe(M,{characterData:!0}),J=function(){M.data=I=++I%2}):F?((H=new MessageChannel).port1.onmessage=k,J=function(){return H.port2.postMessage(0)}):
J=void 0===D?function(){try{var aa=Function("return this")().require("vertx");return void 0!==(A=aa.runOnLoop||aa.runOnContext)?function(){A(k)}:g()}catch(fa){return g()}}():g();var R=Math.random().toString(36).substring(2),Z=0,T=function(){function aa(fa,oa){this._instanceConstructor=fa;this.promise=new fa(C);this.promise[R]||m(this.promise);t(oa)?(this.length=oa.length,this._remaining=oa.length,this._result=Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||
0,this._enumerate(oa),0===this._remaining&&d(this.promise,this._result))):e(this.promise,Error("Array Methods must be provided an Array"))}return aa.prototype._enumerate=function(fa){for(var oa=0;void 0===this._state&&oa<fa.length;oa++)this._eachEntry(fa[oa],oa)},aa.prototype._eachEntry=function(fa,oa){var ua=this._instanceConstructor,ha=ua.resolve;if(ha===w){var U=ha=void 0,ka=!1;try{ha=fa.then}catch(W){ka=!0,U=W}ha===u&&void 0!==fa._state?this._settledAt(fa._state,oa,fa._result):"function"!=typeof ha?
(this._remaining--,this._result[oa]=fa):ua===X?(ua=new ua(C),ka?e(ua,U):z(ua,fa,ha),this._willSettleAt(ua,oa)):this._willSettleAt(new ua(function(W){return W(fa)}),oa)}else this._willSettleAt(ha(fa),oa)},aa.prototype._settledAt=function(fa,oa,ua){var ha=this.promise;void 0===ha._state&&(this._remaining--,2===fa?e(ha,ua):this._result[oa]=ua);0===this._remaining&&d(ha,this._result)},aa.prototype._willSettleAt=function(fa,oa){var ua=this;a(fa,void 0,function(ha){return ua._settledAt(1,oa,ha)},function(ha){return ua._settledAt(2,
oa,ha)})},aa}(),X=function(){function aa(fa){this[R]=Z++;this._result=this._state=void 0;this._subscribers=[];if(C!==fa){if("function"!=typeof fa)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof aa)(function(oa,ua){try{ua(function(ha){r(oa,ha)},function(ha){e(oa,ha)})}catch(ha){e(oa,ha)}})(this,fa);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}return aa.prototype["catch"]=function(fa){return this.then(null,fa)},aa.prototype["finally"]=function(fa){var oa=this.constructor;return"function"==typeof fa?this.then(function(ua){return oa.resolve(fa()).then(function(){return ua})},function(ua){return oa.resolve(fa()).then(function(){throw ua;})}):this.then(fa,fa)},aa}();return X.prototype.then=u,X.all=function(aa){return(new T(this,aa)).promise},X.race=function(aa){var fa=this;return t(aa)?new fa(function(oa,ua){for(var ha=aa.length,U=0;U<ha;U++)fa.resolve(aa[U]).then(oa,
ua)}):new fa(function(oa,ua){return ua(new TypeError("You must pass an array to race."))})},X.resolve=w,X.reject=function(aa){var fa=new this(C);return e(fa,aa),fa},X._setScheduler=function(aa){B=aa},X._setAsap=function(aa){x=aa},X._asap=x,X.polyfill=function(){var aa=void 0;if(void 0!==f)aa=f;else if("undefined"!=typeof self)aa=self;else try{aa=Function("return this")()}catch(ua){throw Error("polyfill failed because global object is unavailable in this environment");}var fa=aa.Promise;if(fa){var oa=
null;try{oa=Object.prototype.toString.call(fa.resolve())}catch(ua){}if("[object Promise]"===oa&&!fa.cast)return}aa.Promise=X},X.Promise=X,X}()}).call(this,p(189),p(170))},30:function(n,q,p){function h(G){return G.reduce(function(H,I){return I&&I.relatedItems?H.concat(I.relatedItems.map(function(N){return N})):H},[])}function f(G,H,I){return G(H,{query:Object(u.a)({f:"json"},I)}).then(function(N){return N.data})}function g(G,H){void 0===H&&(H=100);for(var I=[],N=0;N<Math.ceil(G.length/H);N++)I.push(G.slice(N*
H,(N+1)*H));return I.filter(function(M){return 0<M.length})}function k(G){var H=G.itemIds,I=G.request,N=G.groupIds,M=G.portal.restUrl+"/content/itemsgroups";return new w.Promise(function(J,R){I(M,{method:"get",query:{f:"json",items:H,groups:N}}).then(function(Z){J(Z.data)},R)})}p.d(q,"u",function(){return C});p.d(q,"n",function(){return z});p.d(q,"h",function(){return r});p.d(q,"e",function(){return l});p.d(q,"f",function(){return d});p.d(q,"j",function(){return e});p.d(q,"o",function(){return a});
p.d(q,"l",function(){return b});p.d(q,"k",function(){return c});p.d(q,"m",function(){return m});p.d(q,"c",function(){return t});p.d(q,"d",function(){return v});p.d(q,"r",function(){return A});p.d(q,"s",function(){return B});p.d(q,"t",function(){return x});p.d(q,"g",function(){return D});p.d(q,"p",function(){return E});p.d(q,"q",function(){return y});p.d(q,"v",function(){return f});p.d(q,"a",function(){return g});p.d(q,"i",function(){return k});p.d(q,"b",function(){return F});var u=p(0),w=p(28),C=
function(G){return function(H,I){return G({url:H,content:I.query},{usePost:"post"===I.method}).then(function(N){return{data:N}})}},z=function(G,H,I){return f(G,H.restUrl+"/portals/self",{culture:I,"default":!0})},r=function(G,H,I){return f(G,H.restUrl+"/content/items/"+I+"/data")},l=function(G,H,I,N){return f(G,H.restUrl+"/community/groups",Object(u.a)({q:I},N))},d=function(G,H,I){return f(G,H.restUrl+"/community/groups/"+I+"/categorySchema")},e=function(G,H,I){return f(G,H.restUrl+"/portals/"+(I||
H.id)+"/categorySchema")},a=function(G,H){return f(G,H.restUrl+"/portals/"+H.id+"/servers")},b=function(G,H,I,N){return G(H.restUrl+"/portals/"+(I||H.id)+"/collaborationsSummary",N)},c=function(G,H,I,N){return G(H.restUrl+"/portals/"+(I||H.id)+"/collaboratedItems",N)},m=function(G,H,I){return f(G,location.protocol+"//"+H.portalHostname+"/sharing/rest/portals/"+(I||"self"))},t=function(G,H,I){return G(H.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+H.id+" AND access:public",num:100,start:I||
1,sortField:"title",sortOrder:"asc"}}).then(function(N){return N.data.total>N.data.start+N.data.num?t(G,H,N.data.start+N.data.num).then(function(M){return Object(u.a)(Object(u.a)({},M),{data:Object(u.a)(Object(u.a)({},M.data),{results:N.data.results.concat(M.data.results)})})}):N})},v=function(G,H,I,N){return G(H.restUrl+"/community/users/"+I+"/provisionedListings",{query:{f:"json",num:100,start:N||1}}).then(function(M){var J=w.Promise.all(M.data.provisionedListings.filter(function(Z){return Z.itemId}).map(function(Z){return(new w.Promise(function(T,
X){G(H.restUrl+"/content/items/"+Z.itemId,{method:"get",query:{f:"json"}}).then(function(aa){T(aa.data)},X)}))["catch"](function(T){return 0})})),R=M.data.provisionedListings.map(function(Z){return f(G,H.restUrl+"/content/items/"+(Z.id||Z.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(T){return T},function(T){})});return M.data.total>M.data.start+M.data.num?v(G,H,I,M.data.start+M.data.num).then(function(Z){return w.Promise.all([J].concat(R)).then(function(T){return T[0].results.concat(h(T.slice(1))).concat(Z)})}):
w.Promise.all([J].concat(R)).then(function(Z){return Z[0].filter(function(T){return void 0!==T}).concat(h(Z.slice(1)))})})},A=function(G,H,I){return f(G,H.restUrl+"/community/users/"+(I||H.user.username))},B=function(G,H,I){return f(G,H.restUrl+"/content/users/"+(I||H.user.username),{num:1})},x=function(G,H,I){return f(G,H.restUrl+"/content/groups/"+I)},D=function(G,H,I){return f(G,H.restUrl+"/community/groups",I)},E=function(G,H){return f(G,H.restUrl+"/portals/self/settings")},y=function(G,H){return f(G,
H.restUrl+"/portals/self/trustedOrgs",{num:100})},F=function(G,H){return void 0===H&&(H=","),G.map(function(I){return I.id}).join(H)}},313:function(n,q,p){p.d(q,"a",function(){return k});var h=p(30),f=p(54),g=p(175),k=function(u,w){var C=w();C=(Object(f.b)(C)?C:C.gbState).utils;Object(h.q)(C.request,C.portal).then(function(z){var r;z=(null===(r=null==z?void 0:z.trustedOrgs)||void 0===r?void 0:r.filter(function(l){return-1<l.from.established&&-1<l.to.established}))||[];u({type:g.a.TRUSTED_ORGS_LOADED,
payload:z})},function(){u({type:g.a.TRUSTED_ORGS_LOADED,payload:[]})})}},314:function(n,q,p){p.d(q,"a",function(){return k});var h=p(30),f=p(54),g=p(28),k=function(u){u=(Object(f.b)(u)?u:u.gbState).utils;var w=u.request,C=u.portal,z=u.portalUser;return new g.Promise(function(r,l){Object(h.r)(w,C,z.username).then(function(d){r(d)},function(){r()})})}},38:function(n,q,p){p.d(q,"b",function(){return h});p.d(q,"d",function(){return g});p.d(q,"c",function(){return k});p.d(q,"a",function(){return u});p.d(q,
"f",function(){return z});var h,f,g,k,u,w=p(0),C=p(25);!function(r){r.openData="openData";r.updateGroups="updateGroups";r.distributed="distributed";r.administrative="administrative";r.orgSettings="orgSettings"}(h||(h={}));(f||(f={})).owner="owner";(function(r){r.itemOwner="itemOwner";r.inOrg="inOrg";r.outsideOrg="outsideOrg"})(g||(g={}));(function(r){r.myOrg="org";r.partnered="collaboration";r.anyOrg="anyOrg"})(k||(k={}));(function(r){r.USER="USER";r.OWNER="OWNER";r.DESIGNATION="DESIGNATION";r.DATE_CREATED=
"DATE_CREATED";r.MEMBERSHIP="MEMBERSHIP"})(u||(u={}));var z={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};q.e=function(r,l){switch(void 0===r&&(r=z),l.type){case C.a.CLEAR_FILTERS:switch(l.payload){case u.DESIGNATION:return Object(w.a)(Object(w.a)({},r),{designationFilter:void 0});case u.DATE_CREATED:return Object(w.a)(Object(w.a)({},r),{dateCreatedFilter:void 0});case u.OWNER:return Object(w.a)(Object(w.a)({},r),{ownerFilter:void 0});case u.USER:return r;case u.MEMBERSHIP:return Object(w.a)(Object(w.a)({},
r),{membershipFilter:void 0});default:return Object(w.a)(Object(w.a)({},r),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case C.a.UPDATE_OWNER_FILTER:return Object(w.a)(Object(w.a)({},r),{ownerFilter:l.payload===r.ownerFilter?void 0:l.payload});case C.a.UPDATE_USERNAME_FILTER:return Object(w.a)(Object(w.a)({},r),{currentUsername:l.payload});case C.a.UPDATE_CREATED_ON_FILTER:return Object(w.a)(Object(w.a)({},r),{dateCreatedFilter:l.payload.created});
case C.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(w.a)(Object(w.a)({},r),{designationFilter:l.payload===r.designationFilter?void 0:l.payload});case C.a.UPDATE_MEMBERSHIP_FILTER:return Object(w.a)(Object(w.a)({},r),{membershipFilter:l.payload===r.membershipFilter?void 0:l.payload});case C.a.SET_USERS:return Object(w.a)(Object(w.a)({},r),{allUsers:l.payload.reduce(function(d,e){var a;return Object(w.a)(Object(w.a)({},d),((a={})[e.username]=e,a))},{})});case C.a.SET_SEARCH_STRING:return Object(w.a)(Object(w.a)({},
r),{searchString:l.payload});default:return r}}},5:function(n,q,p){function h(r){return 0===Object.keys(r).length&&r.constructor===Object}function f(r){return null!=r}function g(r,l){return C.apply(null,arguments)}function k(r,l){return z.apply(null,arguments)}p.d(q,"b",function(){return h});p.d(q,"a",function(){return f});p.d(q,"e",function(){return w});p.d(q,"c",function(){return g});p.d(q,"d",function(){return k});var u=p(0);n=p(15);var w=Object(n.a)(function(r,l){var d=Object(u.a)({},l);return delete d[r],
d}),C=Object(n.a)(function(r,l){return Object.keys(l).reduce(function(d,e){return d[e]=r(l[e],e,l),d},{})}),z=Object(n.a)(function(r,l){return Object.keys(l).reduce(function(d,e){return r(l[e],e,l)&&(d[e]=l[e]),d},{})})},51:function(n,q,p){function h(B){return!(!B.urlKey||!B.customBaseUrl)}function f(B){return B.role===e.admin||B.role===e.accountAdmin}function g(B){return Object(c.a)(B.roleId)&&0<(B.roleId||"").length}function k(B){return!g(B)||g(B)&&-1<(B.privileges||[]).indexOf("portal:admin:viewItems")}
function u(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToOrg")}function w(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToGroup")}function C(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToPublic")}function z(B,x){return r(B)||l(B)||x.canSharePublic&&d(B)}function r(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToGroup")}function l(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToOrg")}function d(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToPublic")}
p.d(q,"l",function(){return t});p.d(q,"h",function(){return v});p.d(q,"m",function(){return A});p.d(q,"k",function(){return h});p.d(q,"i",function(){return f});p.d(q,"j",function(){return g});p.d(q,"g",function(){return k});p.d(q,"b",function(){return u});p.d(q,"a",function(){return w});p.d(q,"c",function(){return C});p.d(q,"d",function(){return r});p.d(q,"e",function(){return l});p.d(q,"f",function(){return d});var e,a=p(63),b=p(148),c=p(5),m=p(58);!function(B){B.user="org_user";B.accountUser="account_user";
B.publisher="org_publisher";B.accountPublisher="account_publisher";B.admin="org_admin";B.accountAdmin="account_admin";B.viewer="iAAAAAAAAAAAAAAA";B.dataEditor="iBBBBBBBBBBBBBBB"}(e||(e={}));var t=function(B){var x=B.items;return!!B.user.orgId&&x.every(function(D){return D.isOrgItem})},v=function(B){var x=B.items,D=B.user,E=B.portal;B=x[0];var y=Object(m.c)(B,D),F=g(D),G=z(D,E);if(F=Object(m.a)(B,D)&&-1<(D.privileges||[]).indexOf("portal:admin:updateItems")&&!F)F=!h(E)||w(D)||u(D)||E.canSharePublic&&
C(D)||z(D,E);E=F;return!(B.portal.isPortal&&B.owner!==D.username&&-1<B.owner.indexOf("esri_"))&&(y||E||t({items:x,user:D})&&G)},A=function(B,x){return Object(a.a)(Object(b.a)(B))(x)}},54:function(n,q,p){p.d(q,"b",function(){return k});p.d(q,"a",function(){return u});p.d(q,"c",function(){return w});n=p(16);q=p(215);var h=p(208),f=p(137),g=p(210);p=p(207);var k=function(C){return!C.gbState},u={config:p.b,parameters:h.b,groups:f.f,ui:g.b,utils:q.b},w=Object(n.combineReducers)({config:p.a,parameters:h.a,
groups:f.b,ui:g.a,utils:q.a})},58:function(n,q,p){function h(C,z){return(null==C?void 0:C.owner)===z.username}function f(C,z){var r;if(!(r=h(C,z)))if(Object(k.a)(C.isAdmin))r=!!C.isAdmin;else{r=C.owner;var l="admin"===C.itemControl;r=!(C.portal.isPortal&&!h(C,z)&&l&&-1<r.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(r))&&l}return r}function g(C,z){return f(C,z)||"update"===C.itemControl}p.d(q,"d",function(){return h});p.d(q,"c",function(){return f});p.d(q,
"a",function(){return g});p.d(q,"b",function(){return w});var k=p(5),u=p(51),w=function(C){var z=C.user,r=C.items;C=C.portal;return Object(u.l)({items:r,user:z})&&Object(u.h)({items:r,user:z,portal:C})&&Object(u.g)(z)&&r[0].itemOwner||z}},61:function(n,q,p){function h(v){var A=v.groupIds,B=v.shareLevelOptions,x=v.restUrl,D=v.request,E=v.unshare;return w.Promise.all(v.items.map(function(y,F){return new w.Promise(function(G,H){D(x+"/content/items/"+(y.itemId||y.id)+"/"+(E?"unshare":"share"),{method:"post",
query:Object(k.a)({f:"json",groups:A,confirmItemControl:!0},B||{})}).then(G,H)})}))["catch"](function(y){throw y;})}function f(v,A){return new w.Promise(function(B,x){var D,E=null===(D=v.helpMap)||void 0===D?void 0:D.m;E?B(E):A(v.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then(function(y){var F;B(null===(F=y.data.helpMap)||void 0===F?void 0:F.m)},x)})}p.d(q,"h",function(){return z});p.d(q,"g",function(){return r});p.d(q,"b",function(){return l});p.d(q,"e",function(){return d});p.d(q,
"d",function(){return e});p.d(q,"f",function(){return m});p.d(q,"c",function(){return t});p.d(q,"a",function(){return f});var g,k=p(0),u=p(30),w=p(28);n=p(26);var C=p(58),z=function(v){var A=v.items,B=v.groups,x=v.restUrl,D=v.request,E=v.portalUser;if(0===A.length)return w.Promise.resolve();var y=Object(u.b)(B);return A.every(function(F){return Object(C.d)(F,E)})?new w.Promise(function(F,G){if(!B||0===B.length)return F();var H={f:"json",items:Object(u.b)(A),groups:y};D(x+"/content/users/"+E.username+
"/unshareItems",{method:"post",query:H}).then(F,G)}):h({items:A,groupIds:y,restUrl:x,request:D,unshare:!0})},r=function(v){var A=v.items,B=v.groups,x=v.restUrl,D=v.request,E=v.portalUser,y=v.selectedOptions;v=v.ignoreShareLevel;if(0===A.length)return w.Promise.resolve();if(!v&&!y)throw"Selected options must be provided unless share level is ignored.";var F=Object(u.b)(B),G=v?{}:a(y);return A.every(function(H){return Object(C.d)(H,E)})?new w.Promise(function(H,I){D(x+"/content/users/"+E.username+"/shareItems",
{method:"post",query:Object(k.a)({f:"json",items:Object(u.b)(A),groups:F,confirmItemControl:!0},G)}).then(function(N){N=N.data;N.results.every(function(M){return M.success})?H():I(N)},I)}):h({items:A,groupIds:F,shareLevelOptions:G,restUrl:x,request:D})},l=function(v){return v.reduce(function(A,B){return Object(k.g)(Object(k.g)([],A),B)},[])},d=function(v){return 1<Object.keys(v).filter(function(A){return"total"!==A&&0<v[A]}).length},e=function(v){return Object.keys(v).filter(function(A){return"total"!==
A}).reduce(function(A,B){return v[B]===v.total?B:A})},a=function(v){return d(v)?{}:b[e(v)]},b=((g={})[n.b["public"]]={org:!1,everyone:!0},g[n.b.org]={org:!0,everyone:!1},g[n.b["private"]]={org:!1,everyone:!1},g[n.b.shared]={org:!1,everyone:!1},g),c="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces".split(";"),m=function(v){var A,B,x=v.typeKeywords,D=v.type;
D=c.some(function(y){return-1<x.indexOf(y)})&&"Real Time Analytic"!==D&&"Big Data Analytic"!==D;var E=!(null===(A=null==v?void 0:v.portal)||void 0===A?0:A.isPortal)&&"Image Service"===v.type&&-1<(null===(B=v.url)||void 0===B?void 0:B.indexOf("://iservices"))&&-1<v.url.indexOf("arcgis.com");v="Knowledge Graph"===v.type;return D||E||v},t=function(v,A,B){return B&&A["public"]===A.total?v.filter(function(x){return-1<x.typeKeywords.indexOf("DeveloperBasemap")}):[]}},63:function(n,q,p){function h(){for(var f=
[],g=0;g<arguments.length;g++)f[g]=arguments[g];return function(k){return f.reduceRight(function(u,w){return w(u)},k)}}p.d(q,"a",function(){return h})},68:function(n,q,p){var h;p.d(q,"a",function(){return h});(function(f){f.LOADING_GROUPS="LOADING_GROUPS";f.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";f.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";f.SELECT_GROUPS="SELECT_GROUPS";f.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";f.DESELECT_GROUPS="DESELECT_GROUPS";f.REVERT_GROUPS="REVERT_GROUPS";f.CLEAR_SELECTION="CLEAR_SELECTION";
f.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";f.SET_HAS_GROUPS="SET_HAS_GROUPS"})(h||(h={}))},83:function(n,q,p){var h;p.d(q,"a",function(){return h});(function(f){f.SET_SEARCH_STRING="SET_SEARCH_STRING";f.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";f.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";f.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";f.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";f.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";f.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";f.UPDATE_MEMBERSHIP_FILTER=
"UPDATE_MEMBERSHIP_ON_FILTER";f.SET_USERS="SET_USERS";f.CLEAR_FILTERS="CLEAR_FILTERS"})(h||(h={}))},981:function(n,q,p){p.r(q);p.d(q,"GroupBrowserWrapper",function(){return z});var h=p(0),f=p(16),g=p(258),k=p.n(g),u=p(25),w=p(30),C=p(177);p.d(q,"initialState",function(){return g.initialState});var z=function(){function r(l,d){this.options=d;this.listener=this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.style.width="100%";this.renderContainer.style.height=
"100%";this.renderContainer.id="group-browser-wrapper";l.appendChild(this.renderContainer);var e=d.initialState?d.initialState:g.initialState;this.initialState=Object(h.a)(Object(h.a)({},e),{config:e.config,utils:{portalUser:d.portalUser,request:4===d.apiVersion?d.request:Object(w.u)(d.request),portal:4===d.apiVersion?d.portal:Object(h.a)(Object(h.a)({},d.portal),{restUrl:d.portal.portalUrl.slice(0,-1),credential:d.portalUser&&d.portalUser.credential?d.portal.user.credential:void 0})}});this.store=
Object(f.applyMiddleware)(f.thunk,Object(f.addListener)(this.listener))(f.createStore)(g.reducers,this.initialState);this.projector=Object(f.createProjector)(this.store,function(a){return a(k.a,{key:"gb"})},this.renderContainer);this.store.dispatch(Object(C.a)())}return r.prototype.getState=function(){return this.store?this.store.getState():this.initialState},r.prototype.deselectGroups=function(l){if(this.store){var d=this.store.getState();l=l.filter(function(e){return d.groups.selectedGroups[e]}).map(function(e){return d.groups.selectedGroups[e].group});
this.store.dispatch(Object(g.deselectGroups)(l))}},r.prototype.selectGroups=function(l){this.store&&this.store.dispatch(Object(g.selectGroups)(l))},r.prototype.emitSelectedGroups=function(l){this.options.onChange&&this.options.onChange(Object.keys(l).map(function(d){return l[d].group}))},r.prototype.listener=function(l,d){var e=d.groups.selectedGroups;switch(l.type){case u.a.DESELECT_GROUPS:case u.a.SELECT_GROUPS:case u.a.CLEAR_SELECTION:this.emitSelectedGroups(e)}this.options.listener&&this.options.listener(l,
d)},r}()},99:function(n,q,p){function h(C,z){if(null==C?0:C.length)for(var r=void 0,l=0;l<C.length;l++)if(z(r=C[l]))return r}function f(C){return C.filter(function(z){return 0<z.length})}function g(C,z,r){var l=[];return z.forEach(function(d){(r?d[r].toLowerCase()===C.toLowerCase():d.toLowerCase()===C.toLowerCase())?l.unshift(d):l.push(d)}),l}p.d(q,"e",function(){return k});p.d(q,"f",function(){return u});p.d(q,"c",function(){return h});p.d(q,"b",function(){return f});p.d(q,"a",function(){return w});
p.d(q,"d",function(){return g});n=p(15);var k=function(C,z,r){return r.indexOf(C)===z},u=Object(n.a)(function(C,z){var r={};return z.filter(function(l){return!r[l[C]]&&(r[l[C]]=!0,!0)})}),w=function(C,z){return C.length===z.length&&C.reduce(function(r,l){return r&&-1<z.indexOf(l)},!0)}}})})},"arcgisonline/pages/groups/widgets/_organization":function(){define("require exports tslib esri/Evented dojo/_base/lang dojo/string dojo/query dojo/topic dojo/Deferred ../../pageUtil ../../utils/icons ../../utils/groups ../../group/widgets/filters/_content ./_filters ../../content/widgets/_baseTab ./_GroupCard ./_GroupCardMobile ../../dijit/_CheckReadonlyMixin ../../dijit/FilterTags ../../group/widgets/CreateGroup/CreateGroup ../../dijit/FilterTree ../../dijit/FilterDate ../../dijit/FilterStatus ../../dijit/FilterSingle ../../dijit/View ../../dijit/Pagination ../../dijit/ControlBar arcgisonline/sharing/util ../../group/_GroupActions dojo/text!./templates/_organization.html dojo/text!./templates/_empty.html dojo/text!./templates/_none.html dojo/text!./templates/_actions.html dojo/i18n!../../../nls/arcgisonline ../../../tsutils/declareDecorator".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N,M){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);F=n.__importDefault(F);G=n.__importDefault(G);H=n.__importDefault(H);I=n.__importDefault(I);N=n.__importDefault(N);M=n.__importDefault(M);return function(){function J(){this.templateString=F["default"];this.widgetsInTemplate=!0;this.trustedOrgs=[];this.endedCollabs=[];this._showAggregationCount=!1;this.icons=w["default"];this._sort={property:"title",label:N["default"].sortDropdown.title,
ascending:!0};this._sortOptions=[{ascending:!0,label:N["default"].sortDropdown.title,property:"title",active:!0},{ascending:!1,label:N["default"].sortDropdown.modified,property:"modified"},{ascending:!1,label:N["default"].sortDropdown.created,property:"created"}]}J.prototype.postMixInProperties=function(){this._resetState();this._filters=p["default"].clone(z["default"].filterStatus);this._filters.created.param="created";this._filters.viewableBy={param:"access",chipText:N["default"].groupsPage.viewableByChipText,
options:{"public":{label:N["default"].groupsPage.everyone,value:"public",q:"access:public orgid:"+this.portal.id},org:{label:N["default"].groupsPage.organization,value:"org",q:"access:org"},"private":{label:N["default"].groupsPage.groupMembers,value:"private",q:"access:private"}}};this._sort={property:"title",label:N["default"].sortDropdown.title,ascending:!0}};J.prototype.postCreate=function(){var R=this;this.inherited(arguments);this._filters.created.minDate=this.portal.created;this._filters.modified.minDate=
this.portal.created;this._dateFilter=new t["default"](this._filters.modified,this.domNode.querySelector(".js-filter-date"));this._dateCreatedFilter=new t["default"](this._filters.created,this.domNode.querySelector(".js-filter-date-created"));this._sharingFilter=new m["default"](this._filters.viewableBy,this.domNode.querySelector(".js-filter-sharing"));this._filterStatus=new v["default"](this._filters,this.domNode.querySelector(".js-filter-status"));if(this.portal.isPortal||!this.portal.canHavePartnerCollab())this.domNode.querySelector(".js-filter-membership-container").remove(),
this.domNode.querySelector(".js-filter-current-members-container").remove();else{var Z=n.__assign({},r["default"].allowedMembers);0===this.trustedOrgs.length&&delete Z.options.collaboration;this.allowedMembersFilter=new A["default"](Z,this.domNode.querySelector(".js-filter-allowed-members"));var T={myOrg:{label:N["default"].GroupsWidget.currentMembersFilter.myOrg,value:"myOrg"},anotherOrg:{label:N["default"].GroupsWidget.currentMembersFilter.anotherOrg,value:"anotherOrg"}};n.__spreadArray(n.__spreadArray([],
this.trustedOrgs.map(function(X){return{id:X.to.orgId,name:X.to.name}})),this.endedCollabs).sort(function(X,aa){return X.name>aa.name?1:X.name<aa.name?-1:0}).forEach(function(X){T[X.id]={label:X.name,value:X.id}});this.currentMembersFilter=new A["default"]({param:"memberorgids",chipText:N["default"].GroupsWidget.currentMembersFilter.chipText,options:T},this.domNode.querySelector(".js-filter-current-members"));this.currentMembersFilter.domNode.classList.add("current-members-filter")}this.portal.isPortal&&
delete r["default"].specialGroups.options.openData;this._specialGroupsFilter=new A["default"](r["default"].specialGroups,this.domNode.querySelector(".js-filter-specialGroups"));this.renderOrgSettingsTooltip();this._pagination=new x["default"]({num:this._page.num,pageSizeLabel:N["default"].contentPage.paginationPerPageGroups,telemetry:this.page.telemetry},this.domNode.querySelector(".js-pagination"));this._controlBar=new D["default"]({actions:h["default"].substitute(I["default"],{i18n:N["default"],
page:this.page,icons:w["default"]}),search:{placeholder:N["default"].GroupsWidget.searchMyOrganizationsGroups,searchTerm:this._searchTerm},sort:this._sortOptions,filterContainer:this.domNode.querySelector(".js-filter-wrap"),viewContainer:this.domNode.querySelector(".js-view-wrap"),telemetry:this.page.telemetry,telemetryOptions:{search:!0,viewToggle:!0,sortOrderToggle:!0,filterToggle:!0}},this.domNode.querySelector(".js-control-bar"));this._view=new B["default"]({select:!1,sortOptions:this._sortOptions,
portalUser:this.portalUser,portal:this.portal,activeView:"list",emptyView:G["default"],noneView:H["default"],listView:d["default"],mobileView:e["default"]},this.domNode.querySelector(".js-content"));this._tagsFilter=new b["default"]({portal:this.portal,aggregationQuery:this.getAggregationQuery.bind(this),semanticSearchEnabled:this.semanticSearchEnabled},this.domNode.querySelector(".js-filter-tags"));g["default"].publish("sort/update",p["default"].clone(this._sort));this.portal.isPortal&&this.portal.isReadOnly&&
this.own(f["default"](".js-if-not-readonly",this._controlBar.domNode).on("click",function(X){R.checkReadonly()&&X.preventDefault()}))};J.prototype.startup=function(){var R=this,Z=new k["default"];this.inherited(arguments);setTimeout(function(){var T,X,aa=u["default"].getQueryParams(),fa=aa.membershipaccess;aa=aa.memberorgids;fa&&(null===(T=R.allowedMembersFilter)||void 0===T?void 0:T.select(fa));aa&&(null===(X=R.currentMembersFilter)||void 0===X?void 0:X.select(aa))},100);Z.resolve();return Z};J.prototype.destroy=
function(){this.inherited(arguments);this._removeOwnerSortOption()};J.prototype._addEventListeners=function(){var R=this;this.inherited(arguments);this.own(this.page.watch("formattedInvitationCount",function(){f["default"](".js-invitation-count").attr("innerHTML",R.page.formattedInvitationCount)}));u["default"].registerItemActions(this,this.domNode,y["default"],this.page);var Z=f["default"](".js-create-group-btn",this._controlBar.domNode);Z&&this.own(Z.on("click",function(T){T.preventDefault();(new c["default"]({portal:R.portal,
portalUser:R.portalUser,hasTrustedOrgs:0<R.trustedOrgs.length})).open()}))};J.prototype._updateView=function(R){this.inherited(arguments);this._ownerListener&&(this._ownerListener.remove(),g["default"].publish("profile/hide"));this._ownerListener=f["default"](".js-group-owner").on("click",this._showProfile.bind(this));return!0};J.prototype.getAggregationQuery=function(){return(this._searchTerm?"("+this._searchTerm+") ":"")+(this.portalUser.orgId?" orgid:"+this.portal.id:"")};J.prototype._defendLastPage=
function(R){R=(Math.ceil(R.total/this._page.num)-1)*this._page.num+1;R=0<R?R:1;this._firstLoad&&(this._initialStart=R);this._page.start=R;return this._getItems()};J.prototype._getItems=function(){var R=this,Z=new k["default"];E["default"].request({url:this.portal.url+"community/groups",content:this.getParams()}).then(function(T){T=n.__assign(n.__assign({},T),{items:T.results});R._mustDefendLastPage(T.total)?(R._defendLastPage(T).then(function(X){X=n.__assign(n.__assign({},X),{items:X.results});Z.resolve(X)}),
function(X){Z.reject(X)}):Z.resolve(T)});(function(T){Z.reject(T)});return Z};J.prototype.getParams=function(){var R,Z,T,X,aa,fa,oa="relevance"===this._sort.property?"":this._sort.property,ua=this._sort.ascending?"asc":"desc",ha=this._filterState,U=(this._searchTerm?"("+this._searchTerm+") ":"")+"orgid:"+this.portalUser.orgId;this.portal.isPortal&&(U+=' -owner:"esri_livingatlas" -owner:"esri_boundaries" -owner:"esri_demographics"');0<(null===(R=ha.modified)||void 0===R?void 0:R.length)&&(U+=" "+ha.modified[0].q);
0<(null===(Z=ha.created)||void 0===Z?void 0:Z.length)&&(U+=" "+ha.created[0].q);0<(null===(T=ha.access)||void 0===T?void 0:T.length)&&(U+=" "+ha.access[0].q);if(null===(X=ha.membershipaccess)||void 0===X?0:X.length)U=(R="anyOrg"===ha.membershipaccess[0].value?"":ha.membershipaccess[0].value)?U+(" membershipaccess:"+R):U+" membershipaccess:NULL";if(null===(aa=ha.memberorgids)||void 0===aa?0:aa.length)aa=ha.memberorgids[0].value,U="myOrg"===aa?U+" memberorgids:NULL":"anotherOrg"===aa?U+" -memberorgids:NULL":
U+(" memberorgids:"+aa);if(0<(null===(fa=ha.specialGroups)||void 0===fa?void 0:fa.length))switch(ha.specialGroups[0].value){case "openData":U+=" isopendata:true";break;case "sharedUpdate":U+=" capabilities:updateitemcontrol";break;case "distributed":U+=" capabilities:distributed";break;case "admin":U+=" isleavingdisallowed:true";break;case "orgSettings":U+=C.getOrgSettingsGroupsQuery(this.portal)}return{q:U,num:this._page.num,start:this._firstLoad?this._initialStart:this._page.start,sortField:oa,
sortOrder:ua}};return J=n.__decorate([M["default"](l["default"],q["default"],a["default"])],J)}()})},"arcgisonline/pages/group/widgets/filters/_content":function(){define(["require","exports","tslib","dojo/i18n!../../../../nls/arcgisonline"],function(O,K,n,q){q=n.__importDefault(q);return{filterStatus:{sharing:{param:"access",chipText:q["default"].filters.shared,multiselect:!1,options:{shared:{label:q["default"].itemSharing.shared,value:"shared",q:"access:shared"},org:{label:q["default"].itemSharing.org,
value:"org",q:"access:org"},"public":{label:q["default"].itemSharing["public"],value:"public",q:"access:public"}}},modified:{param:"modified",chipText:q["default"].filters.modified},created:{param:"uploaded",chipText:q["default"].GroupWidget.dateCreatedLabel},collaboration:{param:"origin",chipText:q["default"].filters.collaborationChip,options:{}}}}})},"arcgisonline/pages/dijit/FilterTags":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/topic dojo/on dojo/debounce dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterTags/templates/FilterTags.html dojo/text!./FilterTags/templates/Option.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ../utils/icons ../utils/arrays arcgisonline/sharing/util ../../esriGeowConfig esri/libs/sanitizer/Sanitizer".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
return function(){function A(B,x){var D;this.templateString=l["default"];this._hasRendered=this.semanticSearchEnabled=!1;this._searchString="";this.i18n=a["default"];this.sanitizer=null!==(D=null===B||void 0===B?void 0:B.sanitizer)&&void 0!==D?D:new v["default"]}A.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a["default"];this._state={param:"tags",options:{},chipText:a["default"].filters.tagged,preselected:[],selected:[]};this._endPoint=this.searchEndpoint||t["default"].restBaseUrl+
"search";this._aggregationQuery=this.aggregationQuery||function(){return""};this._hiddenTypes=this.hiddenTypes||t["default"].viewQueries.none};A.prototype.postCreate=function(){var B=this;this._fetchTags().then(this._updateUI.bind(this)).then(this._addEventListeners.bind(this)).then(function(){0<B._state.preselected.length&&B.select(B._state.preselected)})};A.prototype.destroy=function(){this._clear()};A.prototype._addEventListeners=function(){var B=this,x=g["default"](".js-tag-search",this.domNode),
D=p["default"].hitch(this,function(E,y,F){h["default"].contains(F.target,E)&&p["default"].hitch(B,y)(F)});this.own(u["default"](this.domNode,"click",function(E){D("js-filter-tree-link",B._clickHandler,E)}),u["default"](this.clearLink,"click",this._clearHandler.bind(this)),u["default"](x,"input",w["default"](this._listUpdate.bind(this),400).bind(this)),k["default"].subscribe("filter/clear",this._clear.bind(this)),k["default"].subscribe("filter/remove",this._remove.bind(this)),k["default"].subscribe("aggregations/refresh",
this._rerender.bind(this)))};A.prototype._fetchTags=function(B){var x=this;B=B||{};var D={countFields:"tags",countSize:B.countSize||200,q:(B.tag&&"tags:("+B.tag+"* OR "+B.tag+") "||"")+this._aggregationQuery()+" "+this._hiddenTypes,num:0};this.semanticSearchEnabled&&(D.enriched=!0);B.additive||(this._state.localOptions={});return m["default"].request({url:this._endPoint,content:D}).then(function(E){var y,F;return 0<(null===(F=null===(y=E.aggregations)||void 0===y?void 0:y.counts)||void 0===F?void 0:
F.length)?(E.aggregations.counts[0].fieldValues.forEach(function(G){var H=x._state.preselected||[],I=(x._state.selected||[]).map(function(N){return N.value});H=[].concat(H).concat(I);-1<G.value.indexOf("\x3c")||(I=G.value.trim(),x._state.options[I]=x._state.options[I]||{value:I,label:I,count:G.count,countLabel:"("+G.count+")",active:-1<H.indexOf(I)})}),!0):!1},function(E){})};A.prototype.select=function(B){var x=this;B=[].concat(this.sanitizer.sanitize(B)).filter(function(D,E,y){return y.indexOf(D)===
E});this._hasRendered?(B.map(function(D){x._state.options[D]||(x._state.options[D]={value:D,label:D,count:0,countLabel:"",active:!0},x._updateUI());return x._state.options[D]}).forEach(function(D){D.active=!0;-1===x._state.selected.indexOf(D)&&x._state.selected.push(D);g["default"](".js-filter-tree-item[data-value\x3d'"+D.value+"']",x.domNode).addClass("is-active");g["default"](".js-filter-tree-item[data-value\x3d'"+D.value+"']",x.domNode).forEach(function(E){E.setAttribute("aria-selected",!0)})}),
this._setClearVisibility(),k["default"].publish("filter/update",this._state)):this._state.preselected=B};A.prototype._clear=function(){c["default"].toArray(this._state.options).forEach(function(B){B.active=!1});this._state.selected=[];g["default"](".js-filter-tree-item",this.domNode).forEach(function(B){h["default"].remove(B,"is-active");B.setAttribute("aria-selected",!1)});g["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']").addClass("hide")};A.prototype._remove=function(B){B.param===
this._state.param&&(this._state.options[B.value].active=!1,this._state.selected=this._state.selected.filter(function(x){return x.value!==B.value}),this._setClearVisibility(),g["default"](".js-filter-tree-item[data-value\x3d'"+B.value+"']",this.domNode).forEach(function(x){h["default"].remove(x,"is-active");x.setAttribute("aria-selected",!1)}))};A.prototype._rerender=function(){this._fetchTags().then(this._updateUI.bind(this)).then(this._clearInvalidOptions.bind(this))};A.prototype._updateUI=function(){var B=
this,x=c["default"].toArray(this._state.options),D=g["default"](this.domNode).closest(".accordion-section").shift();0===x.length?h["default"].add(D,"hide"):(h["default"].remove(D,"hide"),x=x.filter(function(E){return""===B._searchString||-1<E.value.toLowerCase().indexOf(B._searchString)}).sort(function(E,y){return y.count-E.count}),this.domNode.querySelector(".js-tags-list").innerHTML=x.reduce(this._renderList.bind(this),""),!this.clearLink&&(D=D.querySelector(".accordion-title"))&&(f["default"].place(C["default"].substitute(e["default"],
{i18n:a["default"],hide:"hide",param:this._state.param}),D),this.clearLink=D.querySelector(".js-clear-filter")),g["default"](".js-no-tags",this.domNode)[0<x.length?"addClass":"removeClass"]("hide"));return this._hasRendered=!0};A.prototype._clearInvalidOptions=function(){var B=c["default"].toArray(this._state.options);this._state.selected=this._state.selected.map(function(x){return c["default"].find(B,function(D){return D.value.toLowerCase()===x.value.toLowerCase()})})};A.prototype._renderList=function(B,
x){var D=p["default"].mixin(p["default"].clone(x),{isActive:x.active?"is-active":"",selected:x.active?'aria-selected\x3d"true"':"",icons:b["default"]});D=C["default"].substitute(d["default"],D);return B+D};A.prototype._setClearVisibility=function(){var B=g["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<this._state.selected.length?B.removeClass("hide"):B.addClass("hide")};A.prototype._clickHandler=function(B){B.preventDefault();var x=B.target.parentNode,D=h["default"].contains(x,
"is-active"),E=B.target.getAttribute("data-value");D?(k["default"].publish("filter/remove",{param:this._state.param,value:B.target.getAttribute("data-value"),partial:!0}),h["default"].remove(x,"is-active"),x.setAttribute("aria-selected",!1)):(this._state.options[E].active=!0,this._state.selected.push(this._state.options[E]),h["default"].add(x,"is-active"),x.setAttribute("aria-selected",!0),this._setClearVisibility(),k["default"].publish("filter/update",this._state))};A.prototype._clearHandler=function(B){B.stopPropagation();
this._clear();k["default"].publish("filter/update",this._state)};A.prototype._listUpdate=function(B){this._searchString=null===B||void 0===B?void 0:B.target.value.toLowerCase();this._fetchTags({tag:this._searchString,additive:!0}).then(this._updateUI.bind(this))};return A=n.__decorate([q["default"](z["default"],r["default"])],A)}()})},"arcgisonline/pages/dijit/FilterTree":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dijit/_WidgetBase dojo/text!./FilterTree/templates/FilterTree.html dojo/text!./FilterTree/templates/FilterOption.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/i18n!../../nls/arcgisonline ../utils/arrays".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b){function c(m){return m.options?b["default"].toArray(m.options).reduce(function(t,v){if(v.options)return t.push(v),t.concat(c(v));t.push(v);return t},[]):[]}q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);
e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);return function(){function m(t,v){this.summedAggregationProperties={}}m.prototype.postMixInProperties=function(){this.inherited(arguments);this._state=h["default"].clone(this.params);this.multiselect=this.params.multiselect;this._state.selected=this.params.selected||[]};m.prototype.postCreate=function(){var t,v=b["default"].toArray(this._state.options).reduce(h["default"].hitch(this,this._renderList),"");this.domNode.innerHTML=z["default"].substitute(l["default"],
{list:v});if(v=w["default"](".accordion-title",this.domNode.parentElement)[0]){var A=0<(null===(t=this._state.selected)||void 0===t?void 0:t.length)?"":"hide";k["default"].place(z["default"].substitute(e["default"],{i18n:a["default"],hide:A,param:this._state.param}),v)}this._attachEvents()};m.prototype.select=function(t){var v=this,A=[];t=t.length?t.split(","):[t];var B=w["default"](".js-filter-tree-item",this.domNode),x;t&&(this._clear(),t.forEach(function(D){v._state.options[D]&&(x=v._state.options[D],
x.active=!0,A.push(x),B.forEach(function(E){g["default"].get(E,"data-value")===D&&f["default"].add(E,"is-active")}))},this),this._state.selected=A,C["default"].publish("filter/update",this._onlyLeaves(this._state)),this._showHideClearButton())};m.prototype._renderList=function(t,v){var A="";v.options&&(A={list:b["default"].toArray(v.options).reduce(h["default"].hitch(this,this._renderList),"")},A=z["default"].substitute(l["default"],A));var B=v.active?"is-active":"",x=this.multiselect?"":"filter-tree-item-single";
A=n.__assign(n.__assign({},v),{list:A,selected:B,single:x});A=z["default"].substitute(d["default"],A);v.aggregationFields&&(this.summedAggregationProperties[v.value]=v.aggregationFields);return t+A};m.prototype._onlyLeaves=function(t){t=h["default"].clone(this._state);var v=[];t.selected.forEach(h["default"].hitch(this,function(A){0===c(A).filter(function(B){return B.active}).length&&v.push(A)}));t.selected=v;return t};m.prototype._clickHandler=function(t){p["default"].stop(t);t=w["default"](t.target).closest(".js-filter-tree-item");
for(var v=[g["default"].get(t[0],"data-value")],A=t.parent().closest(".js-filter-tree-item");0<A.length;)v.unshift(g["default"].get(A[0],"data-value")),A=A.parent().closest(".js-filter-tree-item");var B=this._state;v.forEach(function(x){return B=B.options[x]});f["default"].contains(t[0],"is-active")?(f["default"].remove(t[0],"is-active"),w["default"](".js-filter-tree-item",t[0]).removeClass("is-active"),this._deselectTree(B)):(B.active=!0,this.multiselect?(f["default"].add(t[0],"is-active"),this._state.selected.push(B)):
(w["default"](".js-filter-tree-item",this.domNode).removeClass("is-active"),f["default"].add(t[0],"is-active"),(t=w["default"](t[0].parentElement).closest(".js-filter-tree-item"))&&t.addClass("is-active"),this._state.selected=[B]));C["default"].publish("filter/update",this._onlyLeaves(this._state));this._showHideClearButton()};m.prototype._deselectTree=function(t){this._state.selected=this._state.selected.filter(function(v){return v.value!==t.value});t.active=!1;t.options&&b["default"].toArray(t.options).forEach(h["default"].hitch(this,
this._deselectTree))};m.prototype._clear=function(){b["default"].toArray(this._state.options).forEach(h["default"].hitch(this,this._deselectTree));w["default"](".js-filter-tree-item",this.domNode).removeClass("is-active");this._showHideClearButton()};m.prototype._remove=function(t){if(t.param===this._state.param){var v=b["default"].find(this._state.selected,function(A){return A.value===t.value});v&&(this._deselectTree(v),v=w["default"](".js-filter-tree-item[data-value\x3d'"+v.value+"']",this.domNode),
v.removeClass("is-active"),w["default"](".js-filter-tree-item",v[0]).removeClass("is-active"));C["default"].publish("filter/update",this._onlyLeaves(this._state));this._showHideClearButton()}};m.prototype._showHideClearButton=function(){var t,v=w["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");0<(null===(t=this._state.selected)||void 0===t?void 0:t.length)?v.removeClass("hide"):v.addClass("hide")};m.prototype._removeFilter=function(t){var v=this;t.stopPropagation();this._state.selected.forEach(h["default"].hitch(this,
function(A){C["default"].publish("filter/remove",{param:v._state.param,value:A.value})}))};m.prototype._attachEvents=function(){var t=w["default"](".js-filter-tree-link",this.domNode),v=w["default"](".js-clear-filter[data-filter-param\x3d'"+this._state.param+"']");this.own(v.on("click",h["default"].hitch(this,this._removeFilter)),t.on("click",h["default"].hitch(this,this._clickHandler)),C["default"].subscribe("filter/clear",h["default"].hitch(this,this._clear)),C["default"].subscribe("filter/remove",
h["default"].hitch(this,this._remove)),C["default"].subscribe("aggregations/update",this._updateCounts.bind(this)))};m.prototype._getCountForFieldValue=function(t,v){var A=b["default"].find(t,function(B){return B.value===v});return(null===A||void 0===A?void 0:A.count)||0};m.prototype._updateCounts=function(t){var v=this;t.fieldName===this._state.param&&(w["default"](".js-filter-link-count",this.domNode).innerHTML(""),t.fieldValues.forEach(function(A){var B=v.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+
A.value+"']");B&&(B.innerHTML="("+A.count+")")}),Object.keys(this.summedAggregationProperties).forEach(function(A){var B=v.summedAggregationProperties[A].reduce(function(x,D){return x+v._getCountForFieldValue(t.fieldValues,D)},0);(A=v.domNode.querySelector(".js-filter-link-count[data-value\x3d'"+A+"']"))&&B&&(A.innerHTML="("+B+")")}))};return m=n.__decorate([q["default"](r["default"],u["default"])],m)}()})},"arcgisonline/pages/groups/widgets/_featured":function(){define("require exports tslib ./_GroupCard ./_GroupCardMobile ../../organization/widgets/ProfilePopup ../../../sharing/util ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/on dojo/promise/all dojo/Deferred dojo/string dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/_featured.html dojo/text!./templates/_emptyFeatured.html".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);return function(){function b(){this.templateString=e["default"]}b.prototype.startup=function(){var c=this,m=new r["default"];
this.inherited(arguments);this._updateView=this._updateView.bind(this);this.render().then(function(t){m.resolve(t);c.own(w["default"](".js-group-owner",c.domNode).on("click",c._showProfilePopup.bind(c)))});return m};b.prototype.destroy=function(){this.inherited(arguments);this._popup&&this._popup.close()};b.prototype.render=function(){var c=this,m=new r["default"];this._getFeaturedGroups().then(function(t){c._updateView(t);m.resolve(t)});return m};b.prototype._getFeaturedGroups=function(){var c=this,
m=new r["default"],t=this.portal.featuredGroups.map(function(v){return c._getGroupSafe({url:c.portal.url+"community/groups",content:{q:v.id?'id:"'+v.id+'"':'owner:"'+v.owner+'" title:"'+v.title+'"',num:1}})});z["default"](t).then(function(v){v=v.filter(function(A){return A});m.resolve(v)});return m};b.prototype._getGroupSafe=function(c){var m=new r["default"];f["default"].request(c).then(function(t){var v;0<(null===(v=null===t||void 0===t?void 0:t.results)||void 0===v?void 0:v.length)?m.resolve(t.results[0]):
m.resolve(!1)},function(t){m.resolve(!1)});return m};b.prototype._updateView=function(c){var m=this,t=this.domNode.querySelector(".js-content"),v=720>=window.innerWidth?p["default"]:q["default"];c.forEach(function(A){A=new v({item:A,portalUser:m.portalUser,portal:m.portal});A.startup();A.placeAt(t)});1>c.length&&(this.domNode.innerHTML=l["default"].substitute(a["default"],{i18n:d["default"]}))};b.prototype._showProfilePopup=function(c){var m=this;this._popup&&this._popup.close();this._popup=new h["default"]({username:c.target.getAttribute("data-owner"),
opener:c.target,portal:this.portal});this._popup.open();C["default"].once(this._popup,"close",function(){m._popup=void 0})};return b=n.__decorate([g["default"](k["default"],u["default"])],b)}()})},"arcgisonline/pages/basePage":function(){define("require exports tslib calcite-web/js/calcite-web dojo/_base/kernel dojo/Deferred dojo/when dojo/_base/lang dojo/_base/window dojo/query dojo/debounce dijit/_WidgetBase dijit/registry dojo/on dojo/string dojo/topic dojo/dom-attr dojo/dom-construct dojo/dom-class esri/Evented esri/config arcgisonline/sharing/util ./utils/alerts ./utils/dom ./utils/organization arcgisonline/telemetry ../sharing/dijit/SiteHeader ./components/SiteFooter dojo/i18n!../nls/arcgisonline ./components/ManageBlockedApps/blocked-apps-service ../tsutils/declareDecorator arcgisonline/esriGeowConfig preact ./utils/queryHandler".split(" "),
function(O,K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D,E,y,F,G,H,I,N){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);
v=n.__importDefault(v);A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);E=n.__importDefault(E);y=n.__importDefault(y);F=n.__importDefault(F);G=n.__importDefault(G);H=n.__importDefault(H);N=n.__importStar(N);return function(){function M(J){this.i18n=y["default"];this.esriPortalConfig=H["default"];this._handles=[];this._forceErrorToast=this._hideErrors=this._showErrors=this.hideFooter=this.hideHeader=this.isLoaded=!1;this.page=n.__assign({},J);this.portalUser=
J.portalUser||null;this.portal=J.portal||null}M.prototype.destroy=function(){I.render(null,this.footerDiv)};M.prototype.postMixInProperties=function(){this.inherited(arguments);m["default"].defaults.io.errorHandler=this._showError.bind(this);this._queryStringParams=N.queryToObject(window.location.search.slice(1))};M.prototype.startup=function(){this.inherited(arguments);this.telemetry=x["default"].init({config:this.portal});var J=getComputedStyle(document.documentElement);"rgba(0, 0, 0, 0)"===(null===
J||void 0===J?void 0:J["background-color"])&&document.body.classList.contains("dj_a11y")&&document.documentElement.classList.add("a11y-black");this._buildPage();this._addEventListeners()};M.prototype.toggleErrors=function(J){this._hideErrors=!J;this._showErrors=J};M.prototype._setPageTitleAttr=function(J){window.document.title=J};M.prototype._setIsLoadedAttr=function(J){this.isLoaded=J};M.prototype.showLoader=function(){A["default"].activateNode(this._loader);A["default"].hideNode(this._content)};
M.prototype.hideLoader=function(){A["default"].deactivateNode(document.querySelector(".js-page-loader"));A["default"].showNode(document.querySelector(".js-content-wrapper"));A["default"].deactivateNode(this._loader);A["default"].showNode(this._content)};M.prototype.removeError=function(){var J=document.querySelector(".js-alert");J&&a["default"].destroy(J)};M.prototype.hideErrors=function(){var J=document.querySelector(".js-alert");J&&a["default"].empty(J)};M.prototype.showAlert=function(J){var R=
J.type||"success";J=J.text||"";this._alert&&this._alert.destroy();this._alert=v["default"].showAlert(R,J)};M.prototype.showError=function(J){this._showError(J)};M.prototype._addEventListeners=function(){this.own(d["default"].subscribe("alert/show",this.showAlert.bind(this)),d["default"].subscribe("tabs/disable",this._disableTabs.bind(this)),d["default"].subscribe("tabs/enable",this._enableTabs.bind(this)),d["default"].subscribe("page/showError",this._showError.bind(this)),r["default"](window,"resize",
w["default"](function(){return d["default"].publish("window/resize")},300)))};M.prototype._buildPage=function(){var J=this,R;this.set("pageTitle",H["default"].portalName||this.i18n.common.arcgis);var Z=p["default"].locale.split("-");document.documentElement.lang=-1!==p["default"].locale.indexOf("-")?[Z[0],Z[1].toUpperCase()].join("-"):Z[0];this.pageNode=this.pageNode||k["default"].body();this.flexFix=a["default"].create("div",{"class":"flex-column"},this.pageNode,"next");this.contentWrapper=a["default"].create("div",
{"class":"js-content-wrapper content-wrapper flex-column flex-1 hide"},this.flexFix,"next");this.hideHeader||(this.header=new D["default"]({page:this,id:"header",esriPortalConfig:this.esriPortalConfig,relativePath:this.relativePath,telemetry:this.telemetry}),this.header.placeAt(this.contentWrapper,"first"),this.header.startup());a["default"].place(this.domNode,this.contentWrapper);this.hideFooter||(this.footerDiv=a["default"].create("div",null,this.contentWrapper,"last"),this.footer=I.h(E["default"],
{id:"footer",portal:this.portal}),I.render(this.footer,this.footerDiv));this.skipToContent&&(Z=l["default"].substitute('\x3ca href\x3d"#${skipToContent}" class\x3d"skip-to-content js-skip-to-content"\x3e${i18n.common.skipToContent}\x3c/a\x3e',{skipToContent:this.skipToContent,i18n:y["default"]}),a["default"].place(Z,this.pageNode,"first"),document.querySelector(".js-skip-to-content").addEventListener("click",function(T){T.preventDefault();T.stopPropagation();if(T=document.getElementById(J.skipToContent))T.tabIndex=
-1,T.focus()}));this.set("htmlCssClasses");(null===(R=this.portalUser)||void 0===R?0:R.orgId)&&this.setBlockedClasses()};M.prototype.setBlockedClasses=function(){F["default"].getBlockedApps().then(function(J){var R={webappbuilder:"wab-blocked",arcgisstorymaps:"storymap-blocked",opsdashboard:"dashboard-blocked",experienceBuilder:"exp-builder-blocked",HubforArcGIS:"hub-blocked"};Object.keys(R).forEach(function(Z){-1<(null===J||void 0===J?void 0:J.indexOf(Z))&&(Z=R[Z],document.documentElement.classList.add(Z),
document.body.classList.add(Z))})})};M.prototype._setHtmlCssClassesAttr=function(){var J=[],R=this.portal,Z=R.getPortalUser(),T=Z&&Z.isOrgUser,X=Z&&Z.licenses,aa;J.push(R.isPortal?"is-on-premise":"is-online");J.push(Z?"is-signed-in":"is-signed-out");Object.keys(X||{}).forEach(function(fa){aa=X[fa];!aa.valid&&aa.className&&J.push(aa.className)});J.push(H["default"].webAppBuilderEnabled&&T?"is-wab-enabled":"");J.push(H["default"].showCreateDashboard&&T?"is-createDashboard-enabled":"");J.push(H["default"].sceneViewerEnabled?
"is-sceneViewer-enabled":"");b["default"].add(document.querySelector("html"),J.join(" "))};M.prototype._request=function(J,R){return t["default"].request(J,R)};M.prototype._showError=function(J){var R=null;R=J&&J.message||this.i18n.common.errors.genericError.message;var Z=document.querySelector(".js-alert")||a["default"].toDom('\x3cdiv class\x3d"flex-center js-alert leader-2 trailer-2"\x3e\x3c/div\x3e'),T=null;if(!(this._hideErrors||J&&("SB_0001"===J.messageCode||"SB_0002"===J.messageCode)||403!==
J.code&&"GWM_0003"===J.messageCode)){if(!this._item&&this.portalUser&&J&&403===J.code){if(-1!==J.message.indexOf("world/utilities.gpserver"))return;R=this.i18n.errorWidget.accessDeniedResource;this._showErrors=!0}else"GWM_0011"===(null===J||void 0===J?void 0:J.messageCode)?(R=-1<window.location.href.indexOf("/group.html")?this.i18n.common.errors.spamContentGroupUpdate:this.i18n.common.errors.spamContentItemUpdate,this._showErrors=!0):R&&"Item does not exist or is inaccessible."===R?(R=this.i18n.errorWidget.itemNotFound+
" "+this.i18n.errorWidget.invalidItem,this._showErrors=!0):R&&"Your request has timed out."===R?R=this.i18n.contentCategories.errors.timedOut:this.portal.isPortal&&J&&"string"===typeof J&&-1<J.indexOf("ERROR 002555")?(R=this.i18n.itemProperties.error.dataStoreReadOnlyMode,this._showErrors=!0):R&&-1<R.indexOf("Your account is out of storage space and your item cannot be updated.")?(R=this.i18n.common.errors.outOfStorageSpace,this._showErrors=!0):R=J.messageHTML?J.messageHTML:t["default"].htmlEncode(R);
T=a["default"].toDom('\x3cdiv class\x3d"column-12 alert alert-red alert-inline break-word is-active"\x3e'+R+"\x3c/div\x3e");if(this._showErrors&&J&&499!==J.code&&498!==J.code&&404!==J.code)if(this._forceErrorToast||this.isLoaded&&!J.forceErrorNode)v["default"].showAlert("error",R);else{u["default"](".content-wrapper .loader, .js-page-loader").removeClass("is-active");u["default"](".js-content-wrapper").removeClass("hide");R=document.querySelector(".view-background");var X=document.querySelectorAll("header.subnav").length?
1:0;a["default"].place(Z,R,X);a["default"].place(T,Z,"only")}d["default"].publish("ago/page/error",{error:J});return J}};M.prototype._createTab=function(J,R){var Z=this.tabDijit=new J(g["default"].mixin({page:this,i18n:this.i18n,portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry},R||{}),a["default"].create("div",{},this._content)),T=new h["default"];Z.startup().then(function(){q["default"].init();T.resolve(Z)});return T};M.prototype._destroyTab=function(){var J=this,R=new h["default"],
Z=this.tabDijit&&this.tabDijit.canDestroy?this.tabDijit.canDestroy():!0;f["default"](Z,function(){J.showLoader();(z["default"].findWidgets(J._content)||[]).forEach(function(T){T.destroy?T.destroy():T.destroyRecursive&&T.destroyRecursive()});a["default"].empty(J._content);v["default"].clearAlerts();R.resolve(!0)});return R};M.prototype._disableTabs=function(){var J=this;this._clearTabHandlerOverrides();var R=document.querySelectorAll(".js-subnav-link");A["default"].forEachNode(R,function(Z){J._disabledTabHandlers.push(r["default"](Z,
"click",function(T){T.stopPropagation();T.preventDefault()}));e["default"].set(Z,"aria-disabled",!0);b["default"].add(Z,"disabled")})};M.prototype._enableTabs=function(){var J=this;setTimeout(function(){J._clearTabHandlerOverrides();var R=document.querySelectorAll(".js-subnav-link");A["default"].forEachNode(R,function(Z){e["default"].set(Z,"aria-disabled",!1);b["default"].remove(Z,"disabled")})},500)};M.prototype._clearTabHandlerOverrides=function(){this._disabledTabHandlers=this._disabledTabHandlers||
[];this._disabledTabHandlers.forEach(function(J){return J.remove()})};M.prototype.getMemberDefaults=function(){var J,R=null===(J=this.portalUser)||void 0===J?void 0:J.userRole;J=(null===R||void 0===R?void 0:R.isAdmin())||(null===R||void 0===R?void 0:R.canManageSecurity());return this.portalUser&&this.portal.id&&J?this.portal.getMemberDefaults():(J=new h["default"],J.resolve(),J)};M.prototype.getHomePageConfig=function(){var J=new h["default"];if(!this.portalUser||!this.portal.id)return J.resolve(),
J;var R=B["default"].hasModernHomePageEnabled(this.portal);(this.portal.hasModernHomePageEnabled=R)?this.portal.getHomePageConfig().then(function(){J.resolve()}):J.resolve();return J};return M=n.__decorate([G["default"](C["default"],c["default"])],M)}()})},"arcgisonline/pages/components/SiteFooter":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/organization ../utils/arrays dojo/topic preact preact/hooks dojo/i18n!../../nls/arcgisonline".split(" "),function(O,K,n,q,
p,h,f,g,k,u){Object.defineProperty(K,"__esModule",{value:!0});q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);u=n.__importDefault(u);K["default"]=function(w){var C=w.id,z=w.portal;w=k.useState(!1);var r=w[0],l=w[1];w=k.useState([]);var d=w[0],e=w[1];k.useEffect(function(){var v=f["default"].subscribe("contact-us-link/update",b);return function(){var A;null===(A=null===v||void 0===v?void 0:v.remove)||void 0===A?void 0:A.call(v)}},[]);k.useEffect(function(){a()},
[d]);var a=function(){var v,A,B=n.__assign(n.__assign(n.__assign({},u["default"].common),u["default"].siteFooter),{helpLabel:u["default"].supportPage.helpLabel}),x=z.portalUser,D=z.isPortal,E=window.location.href;-1<E.indexOf("?useExisting\x3d1")&&(E=E.substring(0,E.length-14));l(-1<E.indexOf("viewer.html")&&-1===E.indexOf("returnUrl")&&!p["default"].isMobile());var y=[];(q["default"].footerLinks||[]).forEach(function(F){var G,H,I="${i18n.legal}"===(null===F||void 0===F?void 0:F.title),N=!!(I&&(null===
x||void 0===x?0:x.accountId)),M="${i18n.help}"===(null===F||void 0===F?void 0:F.title)||"support.html"===(null===F||void 0===F?void 0:F.url),J=!(M&&!x&&"public"===z.access&&(D||!D&&z.customBaseUrl));I=!I&&!M||I&&!N||M&&!J;N=null===(G=F.title)||void 0===G?void 0:G.indexOf("${i18n.");G=null===(H=F.title)||void 0===H?void 0:H.indexOf("}");H=-1<N&&-1<G?""+B[F.title.substring(N+7,G)]:F.title;if(F.url){-1===F.url.indexOf("http")&&-1===F.url.indexOf("mailto:")&&r&&(F.url="support.html"===F.url?z.helpBase||
""+q["default"].baseUrl+F.url:""+q["default"].baseUrl+F.url);if("${i18n.help}"===F.title||"support.html"===F.url)F.url=z.helpBase;I&&y.push({href:F.url,target:"_blank",title:H})}else D&&"contactUs"===F.type?(G=q["default"].portalName||"ArcGIS.com",I=escape(E),F="mailto:"+F.email,y.push({id:C+"_contactEsri",href:F+('?subject\x3d"A comment about '+G+'"\x26body\x3d"I have the following comment about the ')+(G+" Web site. %0AReferring page: "+I+' %0A %0A(Please provide as much detail as possible. Note: Contact Us is not meant for obtaining technical support or general product information.)"'),
title:H})):"reportAbuse"===F.type&&(I=escape(E),F="mailto:"+F.email+'?subject\x3d"Concerns about an item"',y.push({href:F+('\x26body\x3d"I have concerns about the following. %0AReferring page: '+I+" %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\""),title:H}))});b(null===(A=null===(v=z.portalProperties)||void 0===v?
void 0:v.links)||void 0===A?void 0:A.contactUs,y)},b=function(v,A){A=null!==A&&void 0!==A?A:d;v=null!==v&&void 0!==v?v:{visible:!1,url:""};var B={id:C+"_customContactUs",href:v.url,title:u["default"].siteFooter.customContactUs,className:v.visible?"footer__contact-us":"footer__contact-us hide"},x=h["default"].findIndex(A,function(D){return D.id===C+"_customContactUs"});-1<x?A[x]=B:(x=h["default"].findIndex(A,function(D){return D.id===C+"_contactEsri"}),-1<x?A.splice(x,0,B):A.push(B));e(A)};w=C+"_links";
var c=r?"\x26nbsp;. ":"",m=d.filter(function(v){return!v.className||-1===v.className.indexOf("hide")}),t=m.map(function(v,A){var B,x,D,E=null!==(B=v.id)&&void 0!==B?B:C+"_link"+A;B=v.href;var y=null!==(x=v.target)&&void 0!==x?x:"";x=null!==(D=v.className)&&void 0!==D?D:"";D=A===m.length-1;return g.h(g.Fragment,null,g.h("a",{id:E,href:B,className:x,target:y},v.title),D?null:g.h("span",null,c))});return g.h("div",{"class":"padding-leader-2 footer text-center padding-trailer-1 font-size--2 text-light-gray",
role:"contentinfo"},g.h("span",{id:w,"class":"esriItemLinks"},t),g.h("div",{"class":"esri-footer-barrier"}))}})},"url:arcgisonline/pages/dijit/Alert/Alert.html":'\x3cdiv class\x3d"alert alert-${modifier} alert-fixed alert-fade-in-down leader-1 trailer-1 ${cssClasses}"\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-${modifier}" aria-label\x3d"${iconAltText}"\x3e\r\n      ${!icon}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0 alert__text-container" role\x3d"status"\x3e\r\n      ${!text}\r\n      \x3cdiv data-dojo-attach-point\x3d"_listContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"alert-close btn-link btn-link-black js-alert-close" aria-label\x3d"${i18n.common.close}"\x3e\r\n      ${!icons.x.32}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryPicker.html":'\x3cdiv class\x3d"leader-half"\x3e\r\n  \x3cdiv\r\n    class\x3d"js-add-category-error alert alert-red font-size--3 padding-leader-quarter padding-trailer-quarter trailer-quarter"\r\n  \x3e\r\n    ${i18n.contentCategories.addCategoryError}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"category-picker"\x3e\r\n    \x3cdiv class\x3d"font-size--1 category-picker__chip-wrap js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"hide category-picker__default-text font-size--1" data-dojo-attach-point\x3d"defaultTextContainer"\x3e${defaultText}\x3c/div\x3e\r\n    \x3cdiv class\x3d"dropdown js-add-category-dropdown leader-half trailer-half category-picker__dropdown"\x3e\r\n      \x3cspan class\x3d"font-size--1 category-picker__dropdown-btn"\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size--1 js-add-category-dropdown-button"\r\n          tabindex\x3d"0"\r\n          aria-haspopup\x3d"true"\r\n          aria-expanded\x3d"false"\r\n          type\x3d"button"\r\n        \x3e\r\n          \x3cspan class\x3d"text-green"\x3e${!icons.inline.plus-f.16}\x3c/span\r\n          \x3e${i18n.contentCategories.addCategory}${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"dropdown-menu leader-quarter category-picker__dropdown-menu"\x3e\r\n        \x3cdiv class\x3d"category-picker-search-wrap"\x3e\r\n          \x3cinput\r\n            type\x3d"text"\r\n            class\x3d"add-category-input js-add-category-input leader-0"\r\n            placeholder\x3d"${i18n.contentCategories.filterCategories}"\r\n            aria-label\x3d"${i18n.contentCategories.addCategoryToItem}"\r\n          /\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\r\n          class\x3d"js-add-category-dropdown-menu category-picker-dropdown-nav padding-leader-half padding-trailer-half padding-left-half padding-right-half filter-tree--always-open"\r\n          role\x3d"menu"\r\n        \x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/Category.html":'\x3cli class\x3d"js-category-picker-item filter-tree-item category-picker--add-category-dropdown ${isActive}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3cspan class\x3d"category-picker--add-category-dropdown-icon"\x3e${icons.check.16}\x3c/span\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link category-picker--add-category-dropdown-link js-add-category-dropdown-link ${isSelected}" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e${title}\x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"${role}"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryPicker/templates/CategoryChip.html":'\x3cspan class\x3d"label filter-label js-category-chip" data-category-name\x3d"${category}"\x3e\r\n  ${category:formatCategoryChip}\r\n  \x3cbutton class\x3d"js-category-chip-remove btn-link filter-label-remove margin-left-quarter right" aria-label\x3d"${removeText}" data-category-name\x3d"${category}"\x3e${icons.x.16}\x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/InlineEdit.html":'\x3cdiv\x3e\r\n    \x3ch1 class\x3d"${titleClass} break-word flex text-ellipsis" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"if-name js-view subnav-title__name" id\x3d"${titleId}"\x3e\x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn btn-transparent padding-leader-quarter font-size--3 ${editButtonClasses}" aria-label\x3d"${inputLabel}"\x3e${!icons.edit.16}\x3c/button\x3e\r\n    \x3c/h1\x3e\r\n    \x3cform class\x3d"hide ${formClass}" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"leader-0 flex flex-1"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"${inputClass} flex-1 margin-right-1 margin-left-0" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input" autocomplete\x3d"off"\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${saveButtonClasses}" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${cancelButtonClasses}" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditTextArea.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link btn-link-darker-gray font-size--3 ${editButtonUpdatePermissionClasses}" aria-label\x3d"${inputLabel}"\x3e\r\n            ${!icons.inline.edit.16} ${i18n.common.edit}\r\n        \x3c/button\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"trailer-quarter" for\x3d"${inputId}"\x3e\r\n            ${inputLabel}\r\n            \x3ctextarea\r\n                id\x3d"${inputId}"\r\n                data-dojo-attach-point\x3d"_input"\r\n                name\x3d"snippet"\r\n                rows\x3d"${rows}"\r\n                class\x3d"js-snippet-input display-block resize-v"\x3e${value}\x3c/textarea\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n                \x3cdiv class\x3d"hide inline-edit__characters-left" data-dojo-attach-point\x3d"_charactersLeft"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-quarter"\x3e\r\n                \x3cspan class\x3d"inline-edit-textarea__save-loader margin-right-half hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n                \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n                \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditFieldValueType.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n    \x3cbutton class\x3d"js-inline-edit right btn-link btn-link-darker-gray font-size--3 ${editButtonUpdatePermissionClasses}" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"_form" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n    \x3clabel class\x3d"trailer-half"\x3e\r\n      ${inputLabel}\r\n      \x3cselect class\x3d"dropdown-change" data-dojo-attach-point\x3d"_input"\x3e\x3c/select\x3e\r\n      \x3c!-- \x3cselect class\x3d"dropdown-change" data-dojo-attach-point\x3d"_type"\x3e\x3c/select\x3e --\x3e\r\n    \x3c/label\x3e\r\n    \x3cdiv class\x3d"text-right"\x3e\r\n        \x3cspan class\x3d"inline-edit-textarea__save-loader margin-right-half hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditRichText.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView" class\x3d"trailer-2"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn-link btn-link-darker-gray ${editButtonUpdatePermissionClasses} font-size--3 right" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide leader-1" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"trailer-half" for\x3d"${inputId}"\x3e${inputLabel}\x3c/label\x3e\r\n        \x3cdiv id\x3d"${inputId}" class\x3d"rich-text" data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-right leader-half"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditCustom.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_textView" class\x3d"leader-1 padding-leader-half"\x3e\r\n        \x3cbutton class\x3d"js-inline-edit btn-link btn-link-darker-gray if-can-update font-size--3 right" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n        \x3ch5 class\x3d"trailer-half"\x3e\r\n            ${viewTitle}\r\n        \x3c/h5\x3e\r\n        \x3cp class\x3d"js-view break-word"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide ${formClass}" aria-live\x3d"polite"\x3e\r\n        ${formTitle}\r\n        \x3cdiv data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"text-right ${buttonsClass}"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditLayerRename.html":'\x3cdiv\x3e\r\n    \x3ch5 class\x3d"font-size-1 trailer-0 leader-0 sub-nav-title break-word" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"padding-right-1 gutter-right-1 rtl-gutter-right-0"\x3e\r\n            \x3ca target\x3d"_blank" href\x3d"${layerUrl}" class\x3d"if-name js-view"\x3e\x3c/a\x3e\r\n        \x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link font-size--3 btn-link-darker-gray if-can-renameLayer" aria-label\x3d"${inputLabel}"\x3e${!icons.inline.edit.16}${i18n.common.edit}\x3c/button\x3e\r\n    \x3c/h5\x3e\r\n    \x3cform class\x3d"column-12 padding-leader-half padding-trailer-half hide" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"input-group leader-0"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"input-group-input" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input"\x3e\r\n            \x3cspan class\x3d"input-group-button padding-right-quarter"\x3e\r\n                \x3cbutton class\x3d"btn" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n                \x3cbutton class\x3d"btn-link btn btn-clear btn-two cancel-title-edit" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditLayerRenameSubnav.html":'\x3cdiv class\x3d"flex-1 flex"\x3e\r\n    \x3ch5 class\x3d"trailer-0 leader-0 break-word flex" data-edit-id\x3d"name" id\x3d"itemtitle" data-dojo-attach-point\x3d"_textView"\x3e\r\n        \x3cspan class\x3d"padding-right-1 gutter-right-1 rtl-gutter-right-0 js-view subnav-breadcrumb flex-1 text-ellipsis"\x3e\x3c/span\x3e\r\n        \x3cbutton class\x3d"js-inline-edit right btn-link font-size--3 btn-link-white" aria-label\x3d"${inputLabel}"\x3e${!icons.edit.16}\x3c/button\x3e\r\n    \x3c/h5\x3e\r\n    \x3cform class\x3d"hide ${formClass}" data-edit-id\x3d"name" data-dojo-attach-point\x3d"_form"\x3e\r\n        \x3cdiv class\x3d"leader-0 flex flex-1"\x3e\r\n            \x3cinput maxlength\x3d"250" class\x3d"${inputClass} flex-1 margin-right-1 margin-left-0" name\x3d"name" type\x3d"text" placeholder\x3d"${placeholder}"\r\n                value\x3d"${value}" data-dojo-attach-point\x3d"_input" autocomplete\x3d"off"\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${saveButtonClasses}" type\x3d"submit" data-dojo-attach-point\x3d"_saveButton"\x3e${i18n.common.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"flex-0"\x3e\r\n                \x3cbutton class\x3d"${cancelButtonClasses}" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"inline-edit-save-loader hide" data-dojo-attach-point\x3d"_saveLoader"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InlineEdit/templates/inlineEditNotebookTags.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_textView"\x3e\r\n    \x3cbutton\r\n      class\x3d"js-inline-edit btn-link btn-link-darker-gray if-can-update font-size--3 right"\r\n      aria-label\x3d"${inputLabel}"\r\n    \x3e\r\n      ${!icons.inline.edit.16}${i18n.common.edit}\r\n    \x3c/button\x3e\r\n    \x3ch4 class\x3d"panel-header if-tag if-can-update"\x3e${viewTitle}\x3c/h5\x3e\r\n    \x3cp class\x3d"js-view"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"_form" action\x3d"" class\x3d"hide ${formClass}" aria-live\x3d"polite"\x3e\r\n    ${formTitle}\r\n    \x3cdiv data-dojo-attach-point\x3d"_inputEl"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"text-right ${buttonsClass}"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_saveButton" type\x3d"submit" class\x3d"btn"\x3e${i18n.common.save}\x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelButton" class\x3d"btn btn-clear btn-two"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/_option.html":'\x3ca\r\n  href\x3d"#${id}"\r\n  data-tab\x3d"${id}"\r\n  data-logClick\x3d"${logClick}"\r\n  role\x3d"tab"\r\n  aria-selected\x3d"false"\r\n  class\x3d"js-subnav-link subnav-link ${isActive} ${show:hide} ${classes:empty}"\r\n  aria-controls\x3d"tabcontent"\x3e\r\n  \x3cspan class\x3d"subnav-link__text no-pointer"\x3e${label}\x3c/a\x3e\r\n',"url:arcgisonline/pages/dijit/SubNav/templates/_title.html":'\x3cdiv class\x3d"js-subnav-edit subnav-edit flex flex-column flex-1 flex-align-center break-word"\x3e\r\n  \x3ch1 class\x3d"subnav-title ${_titleTypeSize}" id\x3d"pagetitle"\x3e${titleText}\x3c/h1\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/_paths.html":'\x3cdiv class\x3d"flex flex-1 flex-align-center break-word"\x3e\r\n  \x3ch1 class\x3d"subnav-title flex flex-align-center margin-right-1 ${_titleTypeSize} js-subnav-paths" id\x3d"pagetitle"\x3e\r\n    ${paths}\r\n  \x3c/h1\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/dijit/SubNav/templates/_path.html":'\x3ca href\x3d"#" class\x3d"subnav-breadcrumb js-subnav-path ${lastPath} text-ellipsis"\x3e\r\n  \x3cspan class\x3d"${showBack} inline-block padding-right-quarter subnav-breadcrumb-back"\x3e${icons.arrow-left.24}\x3c/span\x3e${title}\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/dijit/SubNav/templates/SubNav.html":'\x3cheader class\x3d"subnav" role\x3d"banner"\x3e\r\n  \x3cdiv class\x3d"subnav-wrap grid-container flex phone-flex-column js-subnav-wrap"\x3e\r\n    \x3cdiv class\x3d"flex flex-1 flex-align-center phone-flex-column ${_titleTypeSize}"\x3e\r\n      \x3cspan class\x3d"js-subnav-title-wrap flex-1 flex"\x3e${!titleHTML}\x3c/span\x3e\r\n      \x3cbutton class\x3d"js-subnav-expand subnav-expand ${hideLinks}"\x3e\r\n        \x3cspan class\x3d"js-subnav-current-label subnav-expand__current-label no-pointer inline-block margin-right-half margin-left-0"\x3e${activeLabel}\x3c/span\x3e\r\n        \x3csvg class\x3d"subnav-expand-icon no-pointer" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16"\x3e\r\n          \x3cpath fill\x3d"#FFF" d\x3d"M8 11.5l-7-7h14z"/\x3e\r\n        \x3c/svg\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cnav class\x3d"subnav-links ${hideLinks} js-subnav-links flex-0 flex" role\x3d"tablist" aria-labelledby\x3d"pagetitle"\x3e${!linksHTML}\x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/header\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/Overlay.html":'\x3cdiv class\x3d"overlay-background js-overlay-background" data-dojo-attach-point\x3d"_backgroundScrim" id\x3d"${id}"\x3e\r\n  \x3cdiv\r\n    class\x3d"overlay overlay--${background} ${class} js-overlay"\r\n    role\x3d"dialog"\r\n    aria-labelledby\x3d"overlay-title-${uid}"\r\n    aria-modal\x3d"true"\r\n    data-dojo-attach-point\x3d"_overlay"\r\n  \x3e\r\n    \x3cdiv\r\n      class\x3d"js-overlay-loader overlay-loader-container overlay-white fullscreen"\r\n      data-dojo-attach-point\x3d"_overlayLoader"\r\n    \x3e\r\n      \x3cdiv class\x3d"loader is-active"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text overlay-loader-text" data-dojo-attach-point\x3d"_overlayLoaderText"\x3e\r\n          ${!loadingText}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"overlay-title-bar flex js-overlay-title-bar" data-dojo-attach-point\x3d"_overlayTitleBar"\x3e\r\n      \x3cdiv class\x3d"flex overlay-mobile__title font-size-2"\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__back-arrow" data-dojo-attach-point\x3d"_backArrow"\x3e${!icons.arrow-left.24}\x3c/div\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__title-text" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3ch3 id\x3d"overlay-title-${uid}" class\x3d"overlay-title flex-1" title\x3d"${title}" data-dojo-attach-point\x3d"overlayTitle"\x3e${title}\x3c/h3\x3e\r\n      \x3cdiv\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 margin-right-half flex-0 overlay-help hide"\r\n          data-dojo-attach-point\x3d"_helpBtn"\r\n          aria-label\x3d"help"\r\n        \x3e\r\n          ${!icons.question.32}\x3c/button\r\n        \x3e\x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 flex-0 overlay-close"\r\n          data-dojo-attach-point\x3d"closeBtn"\r\n          aria-label\x3d"${i18n.common.close}"\r\n        \x3e\r\n          ${!icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-overlay-control-bar"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-control-bar-filters js-overlay-control-bar-filters"\x3e\x3c/div\x3e\r\n    \x3cdiv\r\n      class\x3d"overlay-content js-overlay-content"\r\n      data-dojo-attach-point\x3d"_overlayContentWrapper"\r\n      id\x3d"overlay-content-${uid}"\r\n    \x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-action-bar ${showActionBar:hide}" data-dojo-attach-point\x3d"_overlayActionBar"\x3e\r\n      \x3cbutton class\x3d"hide btn-link" data-dojo-attach-point\x3d"backBtn"\x3e\x3c/button\x3e\r\n      \x3cnav class\x3d"right"\x3e\r\n        \x3cbutton class\x3d"btn js-overlay-primary" data-dojo-attach-point\x3d"_primaryBtn"\x3e${primaryBtnText}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear js-overlay-cancel" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n          ${i18n.common.cancel}\r\n        \x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-loader folder-loader loader loader-centered overlay-white"\x3e\r\n      \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPicker.html":'\x3cdiv class\x3d"${containerClass}"\x3e\r\n  \x3cdiv class\x3d"font-size--1 trailer-half flex js-member-picker-header"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size--1 flex-1" id\x3d"folder-picker-label"\x3e${i18n.changeOwner.selectFolder}\x3c/h4\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 flex-0 btn-link-off-black right js-folder-picker-cancel"\x3e\r\n      ${i18n.common.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput\r\n    class\x3d"member-picker-search js-search-input"\r\n    placeholder\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-label\x3d"${i18n.changeOwner.searchFolders}"\r\n    aria-controls\x3d"folder-results-list"\r\n    type\x3d"search"\r\n    autocomplete\x3d"off"\r\n  /\x3e\r\n\r\n  \x3cul\r\n    class\x3d"js-member-picker-results folder-picker-results member-picker-results--border"\r\n    id\x3d"folder-results-list"\r\n    role\x3d"menu"\r\n    aria-labelledby\x3d"folder-picker-label"\r\n    data-dojo-attach-point\x3d"_resultsDropdown"\r\n  \x3e\r\n    \x3cli class\x3d"folder-list-item js-no-folder hide" data-title\x3d"no-folder" role\x3d"none"\x3e\r\n      \x3cspan\r\n        class\x3d"folder-list-link folder-list-link--expanded"\r\n        data-id\x3d"no-folder"\r\n        data-title\x3d"no-folder"\r\n        role\x3d"menuitem"\r\n        aria-selected\x3d"false"\r\n        data-dojo-attach-point\x3d"_folderLink"\r\n      \x3e\r\n        ${i18n.folderDlg.noFolders}\r\n        \x3cbutton class\x3d"js-create-folder-inline create-folder-inline-link btn-link font-size--2"\x3e\r\n          ${i18n.folderDlg.noFolderLabel}\r\n        \x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/li\x3e\r\n  \x3c/ul\x3e\r\n  \x3cbutton\r\n    class\x3d"js-create-new-folder btn-link btn-link-dark-blue padding-leader-quarter padding-trailer-quarter leader-half padding-left-half padding-right-half font-size--2"\r\n  \x3e\r\n    ${!icons.inline.folder-plus.16} ${i18n.changeOwner.createNewFolder}\r\n  \x3c/button\x3e\r\n  \x3cform class\x3d"hide js-create-folder-form position-relative leader-half"\x3e\r\n    \x3cinput\r\n      class\x3d"folder-list-link folder-list-link--large leader-0 trailer-0 js-create-folder-input"\r\n      type\x3d"text"\r\n      maxlength\x3d"125"\r\n      value\x3d""\r\n      placeholder\x3d"${i18n.changeOwner.enterFolderName}"\r\n      aria-label\x3d"${i18n.changeOwner.enterFolderName}"\r\n    /\x3e\r\n    \x3cspan class\x3d"change-owner-new-folder-icon"\x3e${!icons.inline.folder-plus.16}\x3c/span\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.save}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show folder-list-action--green folder-list-action--left js-folder-create-save"\r\n      type\x3d"submit"\r\n    \x3e\r\n      ${!icons.check.24}\r\n    \x3c/button\x3e\r\n    \x3cbutton\r\n      aria-label\x3d"${i18n.common.cancel}"\r\n      class\x3d"tooltip tooltip-left btn-link folder-list-action folder-list-action--show js-folder-create-cancel"\r\n    \x3e\r\n      ${!icons.x.24}\r\n    \x3c/button\x3e\r\n  \x3c/form\x3e\r\n  \x3cdiv class\x3d"js-create-folder-error-message input-error-message"\x3e\r\n    ${i18n.folderDlg.passwordMin}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/FolderPickerRow.html":'\x3cli class\x3d"folder-list-item" data-title\x3d"${folder.title}" role\x3d"none"\x3e\r\n  \x3cspan \r\n    class\x3d"folder-list-link folder-list-link--expanded" \r\n    data-id\x3d"${folder.id}"\r\n    data-title\x3d"${folder.title}"\r\n    role\x3d"menuitem"\r\n    aria-selected\x3d"false"\r\n    data-dojo-attach-point\x3d"_folderLink"\x3e\r\n    ${!folderIcon}${folder.title}\r\n  \x3c/span\x3e\r\n\x3c/li\x3e',"url:arcgisonline/pages/dijit/ChangeOwner/templates/ChangeOwner.html":'\x3cdiv class\x3d"change-owner-container padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-owner-area visibility-hidden"\x3e\r\n      \x3ch4 class\x3d"font-size--1 js-item-owner-label"\x3e${i18n.changeOwner.itemOwner}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex change-owner-card js-owner-edit input-error--no-icon"\x3e\r\n        \x3cdiv class\x3d"js-member-thumb"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0 js-fullname"\x3eFullname\x3c/h4\x3e\r\n          \x3cp class\x3d"trailer-0 font-size--2 js-username"\x3eUsername\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black change-owner-card-edit js-owner-edit-button"\r\n          aria-label\x3d"${i18n.changeOwner.title}"\r\n        \x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cp class\x3d"input-error-message js-member-select-error position-absolute"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-member-picker"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-area visibility-hidden leader-1"\x3e\r\n      \x3ch4 class\x3d"font-size--1"\x3e${i18n.changeOwner.folder}\x3c/h4\x3e\r\n      \x3cdiv class\x3d"panel panel-white flex trailer-2 change-owner-card js-folder-edit"\x3e\r\n        \x3cdiv class\x3d"flex-0 js-folder-icon"\x3e${icons.inline.folder.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half break-word"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-0 js-folder-name"\x3e${i18n.folderDlg.noFolderLabel}\x3c/h4\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black change-owner-card-edit js-folder-edit-button" aria-label\x3d"${i18n.changeOwner.title}"\x3e\r\n          ${icons.edit.16}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-picker hide"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/OverlayConfirm.html":'\x3cdiv class\x3d"position-relative full-height overlay-confirm"\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-pane ${cssClasses} position-relative"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray overlay-confirm-close-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"overlay-confirm__icon margin-right-1" data-dojo-attach-point\x3d"icon"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"avenir-demi font-size-1" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half flex overlay-confirm-buttons" data-dojo-attach-point\x3d"_buttons"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear js-cancel-btn"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-1 padding-leader-1 overlay-confirm-actions" data-dojo-attach-point\x3d"_actions"\x3e\r\n        \x3cbutton class\x3d"btn-link trailer-half display-block js-action-one"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn-link js-action-two"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ChangeOwner/templates/MoveItem.html":'\x3cdiv class\x3d"padding-leader-1 padding-trailer-1 padding-left-1 padding-right-1 position-relative"\x3e\r\n  \x3cdiv class\x3d"js-change-owner-loader loader loader-centered is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.updating}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-change-owner-wrapper change-owner-wrapper"\x3e\r\n    \x3cdiv class\x3d"js-folder-picker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/SaveItem.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.titleLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTitle"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextTitle}" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half clearfix"\x3e\r\n    ${i18n.tagsLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemTagsContainer"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"categories-container"\x3e\r\n    \x3clabel class\x3d"calcite-web-label trailer-0 clearfix categories-container"\r\n      data-dojo-attach-point\x3d"saveItemCategoriesContainer"\r\n      for\x3d"saveItemCategoryPicker"\x3e\r\n      ${i18n.categoriesLabel}\r\n    \x3c/label\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemCategories" id\x3d"saveItemCategoryPicker"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-textbox"\x3e\r\n    ${i18n.summaryLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemSummary"\r\n         data-dojo-type\x3d"dijit/form/TextBox"\r\n         placeHolder\x3d"${i18n.defaultTextSummary}" maxlength\x3d"250" trim\x3d"true"\x3e\x3c/div\x3e\r\n\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"calcite-web-label trailer-half calcite-web-label-select" for\x3d"itemFolderComboBox"\x3e\r\n    ${i18n.saveInFolderLabel}\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemFolder"\r\n         data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\r\n         id\x3d"itemFolderComboBox"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExportDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"exportDialog" id\x3d"export-dialog" title\x3d"${i18n.exportDialogTitle}" execute\x3d""\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"saveItemForm"\x3e\x3c/div\x3e\r\n    \x3cfieldset data-dojo-attach-point\x3d"featureCollectionDiv" class\x3d"featureCollectionOnly hide"\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" data-dojo-attach-point\x3d"generalizeChk" name\x3d"generalize"\x3e${i18n.generalize}\x3c/label\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"generalize" checked\x3e${i18n.keepOrig}\x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n\r\n    \x3cp data-dojo-attach-point\x3d"_message" class\x3d"break_word"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"exportingLabel" style\x3d"visibility:hidden;"\x3e${i18n.exportingLabel}\x3c/span\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" type\x3d"button" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3cbutton class\x3d"btn" type\x3d"button" data-dojo-attach-point\x3d"exportBtn"\x3e${i18n.exportLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/ComboBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"combobox" aria-haspopup\x3d"true"\r\n     data-dojo-attach-point\x3d"_popupStateNode"\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n       data-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1"\r\n           readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true" ${_buttonInputDisabled}/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text"\r\n           tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\x3e\r\n    \x3cinput class\x3d\'dijitReset dijitInputInner\' readonly\x3d"readonly" ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n           data-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"/\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/templates/DefineExtent.html":'\x3cdiv\x3e\r\n  \x3cspan\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin05 extent-search backward-compatible-extent-search inline-block" data-dojo-attach-point\x3d"_extentSearchContainer"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"calcite secondary btn btn-blue small right" id\x3d"extent-dlg-draw-button" data-dojo-attach-point\x3d"_buttonSetExtent"\x3e\r\n      ${i18n.drawExtent}\r\n    \x3c/button\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv id\x3d"extent-map-container" style\x3d"width:500px; max-width: 100%; height:340px; border:1px solid #000;"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"inline-block leader-half"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-left"\x3e${i18n.leftLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input inline-block" id\x3d"extent-left" data-dojo-attach-point\x3d"_extentLeft"\r\n           data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-right"\x3e${i18n.rightLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-right" data-dojo-attach-point\x3d"_extentRight" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n  \x3cbr\x3e\r\n  \x3cdiv class\x3d"inline-block"\x3e\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-top"\x3e${i18n.topLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-top" data-dojo-attach-point\x3d"_extentTop" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n\r\n    \x3cspan class\x3d"extent-spacer"\x3e\x26nbsp;\x3c/span\x3e\r\n\r\n    \x3clabel class\x3d"extent-label inline-block" for\x3d"extent-bottom"\x3e${i18n.bottomLabel}\x3c/label\x3e\r\n    \x3cinput class\x3d"extent-input" id\x3d"extent-bottom" data-dojo-attach-point\x3d"_extentBottom" data-dojo-type\x3d"dijit/form/TextBox"\r\n           data-dojo-props\x3d"trim:true, required:true"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ExtentDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"extent-dialog" data-dojo-attach-point\x3d"_extentDialog" title\x3d"${i18n.extentDlgTitle}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_extentContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"right esriFloatTrailing margin-right-1 extent-ltr-margin-right-0"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_cancelBtn" type\x3d"button" data-dojo-type\x3d"dijit/form/Button" class\x3d"cancel"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_okBtn" data-dojo-type\x3d"dijit/form/Button" class\x3d"primary"\x3e\r\n        ${i18n.ok}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\r\n\trole\x3d"listbox" aria-haspopup\x3d"true"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\r\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t/\x3e\x3c/div\r\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\r\n\t\t/\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\r\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/\x3e\x3c/td\r\n\t\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dojox/form/resources/TriStateCheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dojoxTriStateCheckBoxInner" dojoAttachPoint\x3d"stateLabelNode"\x3e\x3c/div\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" dojoAttachPoint\x3d"focusNode"\r\n\tclass\x3d"dijitReset dojoxTriStateCheckBoxInput" dojoAttachEvent\x3d"onclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',"url:arcgisonline/sharing/dijit/dialog/templates/RateLimiting.html":'\x3cdiv\x3e\r\n  \x3cdiv id\x3d"rateLimiting" class\x3d"rateLimiting"\x3e\r\n    \x3cp\x3e${i18n.rateLimiting.instructions}\x3c/p\x3e\r\n    \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"_enableLimits" type\x3d"checkbox" value\x3d"true" name\x3d"enableRateLimiting"/\x3e\r\n    \x3clabel class\x3d"esriLeadingMargin05 esriTrailingMargin1 inline-block trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.hitRate}\x3c/label\x3e\r\n    \x3cdiv class\x3d"rateLimitingDiv esriLeadingMargin108 clearfix"\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1000"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitRate"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\',constraints:{min:1, max:1000000, places:0}" /\x3e\r\n      \x3clabel class\x3d"canDisable esriLeadingMargin1 esriTrailingMargin1 inline-block left leader-half trailer-0 padding-right-half" for\x3d"referrerUri"\x3e\r\n        ${i18n.rateLimiting.per}\r\n      \x3c/label\x3e\r\n      \x3cinput class\x3d"hitRate" value\x3d"1"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"_hitCount"\r\n        data-dojo-props\x3d"disabled:true, rangeMessage:\'${i18n.rateLimiting.hitRateRangeMessage}\', invalidMessage:\'${i18n.rateLimiting.hitRateInvalidMessage}\', constraints:{min:1, max:1000000, places:0}"/\x3e\r\n\r\n      \x3cselect class\x3d"esriUnits left inline-block" data-dojo-attach-point\x3d"_interval" data-dojo-type\x3d"dijit/form/Select" data-dojo-props\x3d"disabled:true" style\x3d"width:8.75em;"\x3e\r\n        \x3coption value\x3d"1"\x3e${i18n.rateLimiting.second}\x3c/option\x3e\r\n        \x3coption value\x3d"60"\x3e${i18n.rateLimiting.minute}\x3c/option\x3e\r\n        \x3coption value\x3d"3600"\x3e${i18n.rateLimiting.hour}\x3c/option\x3e\r\n        \x3coption value\x3d"86400"\x3e${i18n.rateLimiting.day}\x3c/option\x3e\r\n        \x3coption value\x3d"604800"\x3e${i18n.rateLimiting.week}\x3c/option\x3e\r\n        \x3coption value\x3d"2628000"\x3e${i18n.rateLimiting.month}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr /\x3e\r\n    \x3clabel class\x3d"esriTrailingMargin05 trailer-half" for\x3d"referrerUri"\x3e${i18n.rateLimiting.referrerUri}\x3c/label\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cinput data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"_referrerUrl" data-dojo-props\x3d"placeHolder:\'${i18n.registerApp.urlPlaceHolder}\'" type\x3d"text" class\x3d"left referrerUrl"/\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_delBtn" data-dojo-props\x3d"disabled:true, label:\'${i18n.registerApp.del}\'"\x3e\x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite small cancel" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_addBtn" data-dojo-props\x3d"label:\'${i18n.registerApp.add}\'"\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin93 trailer-half referralUris" data-dojo-type\x3d"dijit/form/MultiSelect" data-dojo-attach-point\x3d"_referrers" data-dojo-props\x3d"size:4, name:\'referral_uris\'"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\r\n\t\x3e\x3c/span\r\n\x3e\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/UploadProgressBar/UploadProgressBar.html":'\x3cdiv class\x3d"upload-progress-bar flex-1 flex-column-justify-center margin-right-1 margin-left-half position-relative"\x3e\r\n  \x3cdiv class\x3d"progress-bar"\x3e\r\n    \x3cdiv class\x3d"progress-bar-fill" data-dojo-attach-point\x3d"_uploadProgressFill"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--3 upload-percent-label" data-dojo-attach-point\x3d"_uploadPercentLabel"\x3e0%\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/form/resources/Uploader.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e \r\n\t\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1" data-dojo-attach-point\x3d"valueNode" /\x3e\r\n\x3c/span\x3e\r\n',
"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\r\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n","url:esri/dijit/VisibleScaleRangeSlider/templates/ScaleMenu.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.section}"\x3e\r\n    \x3cdiv class\x3d"${css.header}"\x3e${labels.current}\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_currentScaleLabel" class\x3d"${css.item} ${css.current}"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dap_scaleInput" data-dojo-type\x3d"dijit/form/TextBox" class\x3d"${css.input}"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"${css.section}" data-dojo-attach-point\x3d"dap_recommendedScaleSection"\x3e\r\n    \x3cdiv class\x3d"${css.header}" data-dojo-attach-point\x3d"dap_scaleListHeader"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.content}"\x3e\r\n      \x3col data-dojo-attach-point\x3d"dap_recommendedScales" class\x3d"${css.list}"\x3e\r\n        \x3cli data-dojo-attach-point\x3d"dap_mapScaleItem" class\x3d"${css.item} ${css.selectable}"\x3e\x3c/li\x3e\r\n        \x3c!--additional list items added dynamically--\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:esri/dijit/VisibleScaleRangeSlider/templates/ScalePreview.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${css.header}"\x3e${labels.preview}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dap_scalePreviewThumbnail" class\x3d"${css.thumbnail}"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:dojox/form/resources/HorizontalRangeSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onkeyup:_onKeyUp" role\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent\x3d"onmousedown:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv role\x3d"presentation" class\x3d"dojoxRangeSliderBarContainer" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent\x3d"onmousedown:_onBarClick"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClickMax" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent\x3d"onmousedown:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/PublishTilesDlg.html":'\x3cdiv data-dojo-attach-point\x3d"contentNode"\x3e\r\n  \x3cp data-dojo-attach-point\x3d"_message"\x3e\x3c/p\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_itemPropertiesDlg"  data-dojo-type\x3d"arcgisonline/sharing/dijit/dialog/ItemPropertiesDlg" data-dojo-props\x3d"typeInfo:\'${_typeInfo}\', showFile:false, showUrl:false, showFolders:${showFolders}"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"sceneProperties hide"\x3e\r\n      \x3cdiv class\x3d"sceneDataDisplay hide"\x3e\r\n          \x3cdiv\x3e${i18n.publishTileServiceDlg.displayInLbl}\x3c/div\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-globalWkid" data-dojo-attach-point\x3d"_globalWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"global"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_globalWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel\x3e\r\n              \x3cinput id\x3d"${id}-localWkid" data-dojo-attach-point\x3d"_localWkidRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"local"\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_localWkidRadioLabel"\x3e\x3c/span\x3e\r\n          \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"sceneMultipatch hide"\x3e\r\n        \x3clabel\x3e\r\n          \x3cinput id\x3d"${id}-enableUpdates" data-dojo-attach-point\x3d"_enableSceneUpdates" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-props\x3d"checked:true" value\x3d"true"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_enableSceneUpdatesLabel"\x3e${i18n.publishTileServiceDlg.enableUpdates}\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilePropertiesContainer"\x3e\r\n    \x3clabel\x3e${i18n.publishTileServiceDlg.tileSchemeLabel}\x3c/label\x3e\r\n    \x3cdiv class\x3d"tilePropertiesRadios"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-agoBasemap" data-dojo-attach-point\x3d"_agoBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:true" value\x3d"ago"\x3e${i18n.publishTileServiceDlg.matchAGOLBasemaps}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-custom" data-dojo-attach-point\x3d"_customBasemapRadio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-props\x3d"checked:false" value\x3d"custom"\x3e${i18n.publishTileServiceDlg.matchOwnBasemap}\r\n      \x3c/label\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"_customBasemapUrl" class\x3d"custom esriLeadingMargin2" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"disabled:true,placeholder:\'${i18n.publishTileServiceDlg.tileSchemePlaceholder}\'"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"tileProperties hide" data-dojo-attach-point\x3d"_tilesOnDemandContainer"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput id\x3d"${id}-tilesOnDemand" data-dojo-attach-point\x3d"_tilesOnDemand" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.enableTilesOnDemand}\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"visibleScaleRange hide"\x3e\r\n      \x3clabel class\x3d"tileRange"\x3e${i18n.publishTileServiceDlg.scaleRangeLabel}\x3c/label\x3e\r\n      \x3cdiv\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_visibleScaleRangeContainer"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader js-visible-range-loader overlay-white position-relative hide" data-dojo-attach-point\x3d"_visibleRangeLoader"\x3e\r\n          \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"loader-text hide" data-dojo-attach-point\x3d"_visibleRangeLoaderMsg"\x3e${!i18n.common.loading}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_increaseScaleWarning"\x3e\r\n      ${i18n.publishTileServiceDlg.increaseScaleWarning}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"vectorTileProperties leader-half hide" data-dojo-attach-point\x3d"_selectAttributesContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_selectAttributesBtn"\x3e${i18n.itemProperties.configureAttributes.selectAttributes}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"viewProperties hide"\x3e\r\n    \x3clabel\x3e ${i18n.publishTileServiceDlg.createViewOptionsLabel}\x3c/label\x3e\r\n    \x3clabel\x3e\r\n      \x3cinput id\x3d"${id}-preserveIds" data-dojo-attach-point\x3d"_preserveIds" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e ${i18n.publishTileServiceDlg.preserveLayerIds}\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/widget/Wizard/Wizard.html":'\x3cdiv class\x3d"dojoxWizard" dojoAttachPoint\x3d"wizardNode"\x3e\r\n    \x3cdiv class\x3d"dojoxWizardContainer" dojoAttachPoint\x3d"containerNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"dojoxWizardButtons" dojoAttachPoint\x3d"wizardNav"\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"previousButton"\x3e${previousButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"nextButton"\x3e${nextButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"doneButton" style\x3d"display:none"\x3e${doneButtonLabel}\x3c/button\x3e\r\n        \x3cbutton dojoType\x3d"dijit.form.Button" type\x3d"button" dojoAttachPoint\x3d"cancelButton"\x3e${cancelButtonLabel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptions.html":'\x3cdiv class\x3d"advanced-offline-options grid-container js-accordion"\x3e\r\n  \x3csection class\x3d"accordion-section is-active"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-attachments-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-half leader-1 avenir-demi"\x3e${i18n.itemProperties.advancedOptions.editableFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"featuresAndAttachments" data-sync\x3d"syncFeaturesAndAttachments"\r\n            class\x3d"js-editable-features js-edit-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"features"\r\n            data-sync\x3d"syncFeaturesUploadAttachments" class\x3d"js-editable-features js-edit-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesOnly}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"editableFeatures" value\x3d"none"\r\n            data-sync\x3d"uploadFeaturesAndAttachments" class\x3d"js-editable-features js-edit-none"\x3e\r\n          ${i18n.itemProperties.advancedOptions.neverGetUpdates}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half avenir-demi"\x3e${i18n.itemProperties.advancedOptions.readonlyFeatures}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 margin-left-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"true"\r\n            class\x3d"js-readonly-features js-readonly-features-and-attachments"\x3e\r\n          ${i18n.itemProperties.advancedOptions.downloadFeaturesAndAttachments}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\x3cinput type\x3d"radio" name\x3d"readonlyFeatures" value\x3d"false"\r\n            class\x3d"js-readonly-features js-readonly-features-only"\x3e\r\n          ${i18n.itemProperties.advancedOptions.readonlyFeaturesOnly}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.featuresAttachmentsFootNote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3csection class\x3d"accordion-section is-active leader-1"\x3e\r\n    \x3ch4 class\x3d"accordion-title font-size-1" tabindex\x3d"0"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e ${i18n.itemProperties.advancedOptions.tilePackageTitle}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-package-info"\x3e\x3c/div\x3e\r\n    \x3c/h4\x3e\r\n    \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv\x3e${i18n.itemProperties.advancedOptions.tilePackageDescription}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-1"\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"webmap" class\x3d"js-tile-option js-tile-webmap"\x3e\r\n          ${i18n.itemProperties.advancedOptions.useBasemapInWebmap}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"mobile" class\x3d"js-tile-option js-tile-mobile"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e${i18n.itemProperties.advancedOptions.useTilePackageOnMobile}\x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-half padding-left-2 hide advanced-offline-options__option-input-container js-file-name-container"\x3e\r\n              \x3clabel class\x3d"trailer-0"\x3e\r\n                ${i18n.itemProperties.advancedOptions.packageFileName}\r\n                \x3cinput type\x3d"text" class\x3d"js-tile-mobile-file-name" placeholder\x3d"${i18n.itemProperties.advancedOptions.fileNamePlaceholder}"\x3e\r\n                \x3cdiv class\x3d"input-error-message js-tile-mobile-file-name-error"\x3e\x3c/div\x3e\r\n              \x3c/label\x3e\r\n              \x3cdiv class\x3d"font-size--2"\x3e${i18n.itemProperties.advancedOptions.enterTilePackageFileName}\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- hide the third option until Apps team supports it --\x3e\r\n        \x3cdiv class\x3d"advanced-offline-options__option-row flex hide"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"useTilePackage" value\x3d"uploaded" class\x3d"js-tile-option js-tile-org"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv\x3e\r\n              ${i18n.itemProperties.advancedOptions.useUploadedTilePackage}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"hide leader-half padding-left-2 padding-trailer-1 advanced-offline-options__option-input-container js-tile-search-container"\x3e\r\n              \x3cinput type\x3d"search" class\x3d"input-minimal js-tile-search" placeholder\x3d"${i18n.itemProperties.advancedOptions.findPackage}"\x3e\r\n              \x3cdiv class\x3d"position-relative"\x3e\r\n                \x3cdiv class\x3d"advanced-offline-options__search-results trailer-1 js-search-results"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"advanced-offline-options__foot-note font-size--2 leader-1"\x3e${i18n.itemProperties.advancedOptions.tilePackageFootnote}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n  \x3cdiv class\x3d"position-relative js-update-loader-container advanced-offline-options__loader-container"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_optionsLoader" class\x3d"loader js-update-loader overlay-white fullscreen"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${i18n.itemProperties.updatingItemLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ca class\x3d"js-learn-more" target\x3d"_blank"\x3e${i18n.itemProperties.advancedOptions.learnMore}\x3c/a\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/AdvancedOfflineOptions/templates/AdvancedOfflineOptionSearchItem.html":'\x3cbutton class\x3d"btn-link flex advanced-offline-options__search-result-item"\x3e\r\n    \x3cdiv class\x3d"margin-right-half"\x3e\r\n        \x3cimg src\x3d"js/arcgisonline/img/item-types/tilepackage16.svg" class\x3d"advanced-offline-options__search-result-item-img"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-right-1 advanced-offline-options__search-result-item-title"\x3e${title}\x3c/div\x3e\r\n\x3c/button\x3e',
"url:arcgisonline/pages/dijit/InfoTooltip/templates/InfoTooltip.html":'\x3cdiv class\x3d"inline-block"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn-link btn-link-darker-gray info-icon ${buttonClasses}" aria-label\x3d"${buttonAriaLabel}" data-dojo-attach-point\x3d"_infoButton"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"iconWrapper"\x3e${!icons.inline.info.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"hide margin-left-quarter font-size--1" data-dojo-attach-point\x3d"infoTextEl"\x3e${infoText}\x3c/div\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_popover" class\x3d"text-left"\x3e\r\n        \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"_closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"popover-title"\x3e${title}\x3c/div\x3e\r\n        \x3cdiv class\x3d"popover-text leader-half" data-dojo-attach-point\x3d"_popoverContent"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/ManageSceneCache.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_optionsContainer"\x3e\r\n    ${i18n.description}\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildFullContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildFullRadio" checked\x3e ${i18n.rebuildFull}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildLayersRadio"\x3e ${i18n.rebuildLayers}\r\n      \x3c/label\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_rebuildPartialContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"_rebuildPartialAttrContainer"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_portalOptionsContainer"\x3e\r\n    \x3cfieldset class\x3d"trailer-0 fieldset-checkbox leader-half padding-trailer-1"\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalFullRadio"\x3e ${i18n.rebuildFullCache}\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalPartialRadio"\x3e ${i18n.rebuildPartialCache}\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"hide"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"rebuildOption" data-dojo-attach-point\x3d"_rebuildPortalAttributesRadio"\x3e ${i18n.rebuildAttributesCache}\r\n      \x3c/label\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"loader js-caching-loader overlay-white position-relative leader-1 padding-trailer-1" data-dojo-attach-point\x3d"_caching"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${!i18n.republishing}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv data-dojo-attach-point\x3d"_sceneLayerSelectContainer"\x3e\r\n    \x3clabel class\x3d"trailer-0" data-dojo-attach-point\x3d"_sceneLayerSelectLabel"\x3e${i18n.selectLayers}\x3c/label\x3e\r\n    \x3cdiv class\x3d"scene-layer-list trailer-1" data-dojo-attach-point\x3d"_sceneLayerContainer"\x3e\r\n      \x3c!-- create scene layers here--\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"right inline-block padding-right-1" data-dojo-attach-point\x3d"_buttonBar"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-blue" disabled\x3d"true" data-dojo-attach-point\x3d"_rebuildBtn"\x3e${i18n.rebuildLabel}\x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/JobStatusDlg.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv class\x3d"${baseClass} orgDlg job-status-dlg" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_statusContainer"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_statusInfo"\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.status}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStatus"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.startTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobStartTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.endTime}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobEndTime"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.duration}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobDuration"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_jobAdminDetailsContainer"\x3e\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.machine}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobMachine"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.user}\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_jobUser"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.jobId}\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_jobIdLinkContainer"\x3e\x3ca data-dojo-attach-point\x3d"_jobIdLink" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_jobIdText"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"loader overlay-white position-relative js-status-loader" data-dojo-attach-point\x3d"_statusLoader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text"\x3e${!i18n.awaitingInfo}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-blue" data-dojo-attach-point\x3d"_cancelJobBtn"\x3e${i18n.cancelJob}\x3c/button\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_closeBtn"\x3e${i18n.close}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/AppendData/templates/_table-row.html":'\x3cdiv class\x3d"table-select-row" role\x3d"row"\x3e\r\n    \x3c!-- Field Name --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-field text-ellipsis"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width display-block"\x3e${displayName}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n    \x3c!-- Match Field --\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-matchField text-ellipsis" data-dojo-attach-point\x3d"matchFieldsContainer"\x3e\r\n        \x3cspan class\x3d"margin-left-quarter text-ellipsis full-width" data-dojo-attach-point\x3d"matchFieldValue" data-value\x3d"__none"\x3e${!i18n.appendDataDlg.none}\x3c/span\x3e\r\n        \x3cselect data-dojo-attach-point\x3d"matchFields" class\x3d"leader-0 hide"\x3e\x3c/select\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/loader.html":'\x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 is-active"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${location}\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/sharing/dijit/AppendData/templates/_appendData.html":'\x3cdiv\x3e\r\n    \x3csection class\x3d"padding-leader-half content-node append-data"\x3e\r\n\r\n            \x3c!--Step 1--\x3e\r\n            \x3cdiv class\x3d"step-1 hide" data-dojo-attach-point\x3d"step1"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half"\x3e${i18n.appendDataDlg.messageStep1Title}\x3c/label\x3e\r\n                \x3cul class\x3d"trailer-half"\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet1}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet2}\x3c/li\x3e\r\n                    \x3cli\x3e${i18n.appendDataDlg.messageStep1Bullet3}\x3c/li\x3e\r\n                    \x3cli data-dojo-attach-point\x3d"step1Bullet4"\x3e${i18n.appendDataDlg.messageStep1Bullet4}\x3c/li\x3e\r\n                \x3c/ul\x3e\r\n                \x3cform data-dojo-attach-point\x3d"fileForm" enctype\x3d"multipart/form-data" class\x3d"text-left"\x3e\r\n                    \x3clabel\x3e\r\n                        ${i18n.appendDataDlg.fileName}\r\n                        \x3cinput name\x3d"file" type\x3d"file" accept\x3d".zip, .csv, .xls, .xlsx, .geojson" data-dojo-attach-point\x3d"fileInput"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"hide" data-dojo-attach-point\x3d"zipSelect"\x3e\r\n                        ${i18n.appendDataDlg.contents}\r\n                        \x3cselect name\x3d"type" data-dojo-attach-point\x3d"supportedTypes" class\x3d"text-left"\x3e\x3c/select\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/form\x3e\r\n                \x3cp class\x3d"trailer-quarter"\x3e${i18n.appendDataDlg.note}\x3c/p\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!--Step 2--\x3e\r\n            \x3cdiv class\x3d"step-2 padding-right-half hide" data-dojo-attach-point\x3d"step2"\x3e\r\n                \x3cp class\x3d"trailer-half"\x3e${!i18n.appendDataDlg.messageStep2}\x3c/p\x3e\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"serviceLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseServiceLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"serviceLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3clabel class\x3d"trailer-half" data-dojo-attach-point\x3d"dataLayersContainer"\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"appendDataLabel"\x3e${i18n.appendDataDlg.chooseLayer}\x3c/span\x3e\r\n                    \x3cselect data-dojo-attach-point\x3d"dataLayersSelect" class\x3d"leader-0 select-full"\x3e\x3c/select\x3e\r\n                \x3c/label\x3e\r\n\r\n                \x3c!-- Update Existing Features--\x3e\r\n                \x3cdiv class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesLbl}\x3c/div\x3e\r\n                \x3cp class\x3d"trailer-half updateFeatures"\x3e${i18n.appendDataDlg.updateExistingFeaturesMsg}\x3c/p\x3e\r\n                \x3clabel class\x3d"inline-block margin-right-half trailer-half align-middle updateFeatures js-updateFeatures js-attributesOnly"\x3e\r\n                    \x3cinput name\x3d"updateExistingFeatures" type\x3d"checkbox" data-dojo-attach-point\x3d"updateExistingFeatures"/\x3e\r\n                    ${i18n.appendDataDlg.updateExistingFeatures}\r\n                \x3c/label\x3e\r\n                \x3cdiv class\x3d"margin-left-1 updateFeatures js-updateFeatures-container js-updateFeatures"\x3e\r\n                    \x3c!-- UID field matching --\x3e\r\n                    \x3cp class\x3d"trailer-half"\x3e${i18n.appendDataDlg.selectFields}\x3c/p\x3e\r\n                    \x3cdiv class\x3d"trailer-half"\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"fromField" class\x3d"margin-right-half inline-block"\x3e\x3c/select\x3e\r\n                        \x3cspan class\x3d"margin-right-half"\x3e${i18n.appendDataDlg.matchesTo}\x3c/span\x3e\r\n                        \x3cselect data-dojo-attach-point\x3d"toField" class\x3d"inline-block"\x3e\x3c/select\x3e\r\n                    \x3c/div\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.skipInserts}\r\n                        \x3cinput name\x3d"skipInserts" type\x3d"checkbox" data-dojo-attach-point\x3d"skipInserts"/\x3e\r\n                    \x3c/label\x3e\r\n                    \x3clabel class\x3d"inline-block margin-right-half trailer-half js-updateGeometry js-attributesOnly"\x3e\r\n                        ${i18n.appendDataDlg.updateGeometryOnly}\r\n                        \x3cinput name\x3d"updateGeometry" type\x3d"checkbox" data-dojo-attach-point\x3d"updateGeometry"/\x3e\r\n                    \x3c/label\x3e\r\n                \x3c/div\x3e\r\n\r\n                \x3c!-- Table View --\x3e\r\n                \x3cbutton class\x3d"btn-link trailer-half btn-fill" data-value\x3d"false" data-dojo-attach-point\x3d"showFieldMatchingLink"\x3e${i18n.appendDataDlg.showFieldMatching}\x3c/button\x3e\r\n                \x3cdiv class\x3d"js-table-wrap table-select trailer-half js-view hide" role\x3d"table" data-dojo-attach-point\x3d"fieldMatching"\x3e\r\n                    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\r\n                        \x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header is-ascending" aria-sort\x3d"ascending" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.fields}\x3c/button\x3e\x3c/span\x3e\r\n                            \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"matchField" data-sort-order\x3d"asc"\x3e${i18n.appendDataDlg.matchField}\x3c/button\x3e\x3c/span\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3c!-- Loader --\x3e\r\n            \x3cdiv class\x3d"hide analyze-loader-wrap js-analyze-loader-wrap"\x3e\x3c/div\x3e\r\n\r\n    \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.chooseArchiveOption}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.chooseArchiveOption}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameScheme}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item stepper__radio-item--selected"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForArchive}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"replace"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\r\n            \x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/span\r\n          \x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeSwapped}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.retainsBothLayers}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.idealForReplacement}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-replace_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- End radio --\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-column"\x3e\r\n        \x3cdiv class\x3d"replace-lyr-preview-label flex flex-space-between"\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.replacementLayer}\x3c/span\x3e\r\n          \x3cspan\x3e${i18n.replaceLayer.currentLayer}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.archiveOption}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.chooseArchiveOption}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/img/Archive_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1,.cls-13{fill:none}.cls-1{stroke:#323232;stroke-miterlimit:10}.cls-1,.cls-13,.cls-14{stroke-linecap:round}.cls-2{fill:#323232}.cls-14,.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}.cls-13,.cls-14{stroke:#ff3636;stroke-linejoin:round}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M389.51 132.42c-7 0-14.06 4.57-19.41 13.84M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z" fill\x3d"#ff3636"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5zM198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M228.88 135.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM219.41 140.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM209.94 146l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM281.65 156.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM264.44 166.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM254.97 172l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM234.02 129.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM223.7 135.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM214.23 140.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM173.75 157.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM226.57 188.4l2.6 1.5 16.36-9.44-2.6-1.5-16.36 9.44zM229.86 157.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM244.49 149.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M222.59 169.2a3.88 3.88 0 011.86 2h10.31L219 162.18v5.95a9.28 9.28 0 013.59 1.07zM213.09 169.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"217.85" cy\x3d"171.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 217.85 171.934)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M213.12 174.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM224.45 172.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M350.67 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M350.33 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L294.75 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L406.25 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M320.2 143.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM295.25 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM344.61 186.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM344.45 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM399.69 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M319.5 171.9l19.92 11.5 19.79-11.43-19.92-11.5-19.79 11.43z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M321.07 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM295.25 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM345.48 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM346.18 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM400.56 155.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M338.55 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath fill\x3d"#ffe0e0" d\x3d"M229.17 189.9l-55.42-32 55.08-31.8 55.42 32-55.08 31.8z" opacity\x3d".5"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M232.93 150v-1.73a2.8 2.8 0 00-2.57-2.27h-3.29a2.8 2.8 0 00-2.57 2.27V150"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M235.47 170h-12.94l-2.35-20h17.64l-2.35 20z"/\x3e\x3cpath class\x3d"cls-14" d\x3d"M219.5 149h19v4h-19z"/\x3e\x3cpath class\x3d"cls-13" d\x3d"M223.6 155.6l1.2 12M227.2 155.6l.4 12M230.8 155.6l-.4 12M234.4 155.6l-1.2 12"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.65 87a29.18 29.18 0 011.35-8.41 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"archive-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3ctext class\x3d"archive-lyr-archive-svg" x\x3d"395" y\x3d"137" text-anchor\x3d"start"\x3e${i18n.replaceLayer.archivedSvg}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/img/Replace_no-text.svg":'\x3csvg id\x3d"Layer_1" data-name\x3d"Layer 1" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 550 200" class\x3d"font-size--3"\x3e\x3cdefs\x3e\x3cstyle\x3e.cls-1{fill:none;stroke:#323232;stroke-linecap:round;stroke-miterlimit:10}.cls-2{fill:#323232}.cls-3{fill:#fff}.cls-4{fill:#efe9e3}.cls-5{fill:#a9d99d}.cls-6{fill:#fcf2ea}.cls-7{fill:#e5e4de}.cls-8{fill:#bdf2af}.cls-9{fill:#a7d6fe}\x3c/style\x3e\x3c/defs\x3e\x3cpath class\x3d"cls-1" d\x3d"M100.34 109.42c-7 0-14.06 4.57-19.42 13.84M219.51 16.42c-7 0-14.06 4.57-19.41 13.84"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M245 83.11l-.19-13.15-7.42 4.29-9.52-5.5-7.75 4.47 9.53 5.5-7.42 4.28 22.77.11z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M118.17 126.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M117.83 62.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L62.25 93a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L173.75 95a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M87.7 79.49l19.06 11 30.12-17.39-19.05-11L87.7 79.49zM62.75 93.9l19.05 11 19.79-11.43-19.05-11L62.75 93.9zM112.11 122.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM111.95 93.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM167.19 90.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M87 107.9l19.92 11.5 19.79-11.43-19.92-11.5L87 107.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M88.57 78.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM62.75 93.9l18.18 10.5 18.94-10.93-18.19-10.5L62.75 93.9zM112.98 122.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM113.68 93.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM168.06 91.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M106.05 118.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M117.88 71.07l7.79 4.5 7.74-4.47-7.79-4.5-7.74 4.47zM108.41 76.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM98.94 82l7.8 4.5 6.88-3.97-7.79-4.5L98.94 82zM170.66 92.6l-7.75 4.47 2.6 1.5 7.74-4.47-2.59-1.5zM153.44 102.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM143.97 108l2.6 1.5 6.89-3.97-2.6-1.5-6.89 3.97zM123.02 65.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM112.7 71.06l-5.2-3-6.89 3.98 5.2 3 6.89-3.98zM103.23 76.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM62.75 93.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM115.58 124.4l2.59 1.5 16.36-9.44-2.6-1.5-16.35 9.44zM118.86 93.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM133.49 85.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M111.59 105.2a3.88 3.88 0 011.86 2h10.31L108 98.18v5.95a9.28 9.28 0 013.59 1.07zM102.09 105.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"106.85" cy\x3d"107.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 106.851 107.935)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M102.12 110.67a3.9 3.9 0 01-1.86-2l-11.34.33 16.08 9.29.63-6.55a9.09 9.09 0 01-3.51-1.07zM113.45 108.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.21 84.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M177.79 7.89L244 46.12l-65.79 38L112 45.88l65.79-38m0-1a1 1 0 00-.5.14L111.5 45a1 1 0 000 1.74L177.71 85a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L178.29 7a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M178.17 78.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M177.83 14.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L122.25 45a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L233.75 47a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M147.71 31.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM122.75 45.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM172.11 74.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM171.95 45.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM227.19 42.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M147 59.9l19.91 11.5 19.8-11.43-19.92-11.5L147 59.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M148.57 30.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM122.75 45.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM172.98 74.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM173.68 45.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM228.06 43.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M166.05 70.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.21 148.61a.52.52 0 01-.25-.07l-66.21-38.23a.49.49 0 010-.86l65.79-38a.59.59 0 01.25-.07.52.52 0 01.25.07l66.21 38.23a.49.49 0 010 .86l-65.79 38a.59.59 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M288.79 71.89L355 110.12l-65.79 38L223 109.88l65.79-38m0-1a1 1 0 00-.5.14L222.5 109a1 1 0 000 1.74L288.71 149a1 1 0 00.5.14 1 1 0 00.5-.14l65.79-38a1 1 0 000-1.74L289.29 71a1 1 0 00-.5-.14z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M289.17 142.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.83 78.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L233.25 109a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L344.75 111a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M258.7 95.49l19.06 11 30.12-17.39-19.05-11-30.13 17.39zM233.75 109.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM283.11 138.4l6.06 3.5 19.8-11.43-6.07-3.5-19.79 11.43zM282.95 109.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM338.19 106.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M258 123.9l19.92 11.5 19.79-11.43-19.92-11.5L258 123.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M259.57 94.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM233.75 109.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM283.98 138.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM284.68 109.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM339.06 107.1l-29.26 16.89 5.19 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M277.05 134.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-7" d\x3d"M288.88 87.07l7.79 4.5 7.75-4.47-7.8-4.5-7.74 4.47zM279.41 92.54l7.79 4.5 6.89-3.98-7.8-4.5-6.88 3.98zM269.94 98l7.8 4.5 6.88-3.97-7.79-4.5-6.89 3.97zM341.65 108.6l-7.74 4.47 2.6 1.5 7.74-4.47-2.6-1.5zM324.44 118.54l2.6 1.5 6.89-3.98-2.6-1.5-6.89 3.98zM314.98 124l2.59 1.5 6.89-3.97-2.6-1.5-6.88 3.97zM294.02 81.1l-5.19-3-7.75 4.47 5.2 3 7.74-4.47zM283.7 87.06l-5.2-3-6.88 3.98 5.19 3 6.89-3.98zM274.23 92.53l-5.2-3-6.88 3.97 5.19 3 6.89-3.97zM233.75 109.9l15.59 9 16.35-9.44-15.59-9-16.35 9.44zM286.57 140.4l2.6 1.5 16.35-9.44-2.59-1.5-16.36 9.44zM289.86 109.5l12.99 7.5 12.05-6.95-12.99-7.5-12.05 6.95zM304.49 101.06l12.99 7.5 12.05-6.96-12.99-7.5-12.05 6.96z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M282.59 121.2a3.88 3.88 0 011.86 2h10.31L279 114.18v5.95a9.28 9.28 0 013.59 1.07zM273.09 121.19a9 9 0 013.52-1.07v-6l-16.32 9.42 11-.35a3.71 3.71 0 011.8-2z"/\x3e\x3cellipse class\x3d"cls-9" cx\x3d"277.85" cy\x3d"123.94" rx\x3d"2.47" ry\x3d"4.27" transform\x3d"rotate(-89.69 277.848 123.937)"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M273.12 126.67a3.9 3.9 0 01-1.86-2l-11.34.36 16.08 9.26.63-6.55a9.09 9.09 0 01-3.51-1.07zM284.45 124.65a3.78 3.78 0 01-1.83 2 9.15 9.15 0 01-3.56 1.06l-.61 6.34 16.32-9.42z"/\x3e\x3cpath class\x3d"cls-3" d\x3d"M229.17 190.4a.47.47 0 01-.25-.07l-55.42-32a.49.49 0 010-.86l55.08-31.8a.43.43 0 01.25-.07.47.47 0 01.25.07l55.42 32a.49.49 0 010 .86l-55.08 31.8a.43.43 0 01-.25.07z"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M228.83 126.1l55.42 32-55.08 31.8-55.42-32 55.08-31.8m0-1a1 1 0 00-.5.13L173.25 157a1 1 0 000 1.74l55.42 32a1 1 0 00.5.13 1 1 0 00.5-.13L284.75 159a1 1 0 000-1.74l-55.42-32a1 1 0 00-.5-.13z"/\x3e\x3cpath class\x3d"cls-4" d\x3d"M198.71 143.49l19.05 11 30.12-17.39-19.05-11-30.12 17.39zM173.75 157.9l19.05 11 19.79-11.43-19.05-11-19.79 11.43zM223.11 186.4l6.06 3.5 19.8-11.43-6.06-3.5-19.8 11.43zM222.95 157.49l19.92 11.5 30.12-17.39-19.91-11.5-30.13 17.39zM278.19 154.6l-30.12 17.39 6.06 3.5 30.12-17.39-6.06-3.5z"/\x3e\x3cpath class\x3d"cls-5" d\x3d"M198 171.9l19.91 11.5 19.8-11.43-19.92-11.5L198 171.9z"/\x3e\x3cpath class\x3d"cls-6" d\x3d"M199.57 142.99l18.18 10.5 29.26-16.89-18.18-10.5-29.26 16.89zM173.75 157.9l18.18 10.5 18.94-10.93-18.19-10.5-18.93 10.93zM223.98 186.9l5.19 3 18.94-10.93-5.2-3-18.93 10.93zM224.68 157.49l18.19 10.5 29.26-16.89-18.19-10.5-29.26 16.89zM279.06 155.1l-29.27 16.89 5.2 3 29.26-16.89-5.19-3z"/\x3e\x3cpath class\x3d"cls-8" d\x3d"M217.05 182.9l-18.19-10.5 18.94-10.93 18.18 10.5-18.93 10.93z"/\x3e\x3cpath class\x3d"cls-1" d\x3d"M132.68 85.94a30.38 30.38 0 011.32-7.35 39.56 39.56 0 013.68-8.38 40.18 40.18 0 015.45-7.37 29.46 29.46 0 016.68-5.4 17.25 17.25 0 015.6-2.16"/\x3e\x3cpath class\x3d"cls-2" d\x3d"M137.07 82.96l-.68-.74-3.62 3.34-3.07-3.86-.78.63 3.73 4.7 4.42-4.07zM153.15 60.13l-.83-.56 2.74-4.1-4.29-2.43.49-.87 5.23 2.96-3.34 5z"/\x3e\x3ctext class\x3d"replace-lyr-current-layer-svg" x\x3d"225" y\x3d"20" text-anchor\x3d"start"\x3e${i18n.replaceLayer.currentLayer}\x3c/text\x3e\x3ctext x\x3d"80" y\x3d"140" text-anchor\x3d"middle"\x3e${i18n.replaceLayer.replacementLayer}\x3c/text\x3e\x3c/svg\x3e\r\n',
"url:arcgisonline/pages/dijit/ReplaceLayer/templates/ReplaceSceneLayer.html":'\x3cdiv class\x3d"stepper js-overlay-body grid-container"\x3e\r\n  \x3cdiv class\x3d"stepper__header js-stepper-headers"\x3e\r\n    \x3cdiv class\x3d"stepper__header-steps"\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"1"\r\n        title\x3d"${i18n.replaceLayer.selectReplacementLayer}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 stepper__step-item--active js-step-link js-step-header-1"\r\n      \x3e\r\n        ${i18n.replaceLayer.selectReplacementLayer}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"2"\r\n        title\x3d"${i18n.replaceLayer.replaceSceneLayer.archive}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-2"\r\n      \x3e\r\n        ${i18n.replaceLayer.replaceSceneLayer.archive}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"3"\r\n        title\x3d"${i18n.replaceLayer.previewStyles}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-3 js-replace-lyr-show-preview-step"\r\n      \x3e\r\n        ${i18n.replaceLayer.previewStyles}\r\n      \x3c/button\x3e\r\n      \x3cbutton\r\n        data-step-num\x3d"4"\r\n        title\x3d"${i18n.replaceLayer.summary}"\r\n        class\x3d"btn-link btn-link-darker-gray stepper__step-item text-left font-size-1 js-step-link js-step-header-4"\r\n      \x3e\r\n        ${i18n.replaceLayer.summary}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__step-bars js-step-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 stepper__search-container"\x3e\x3cdiv class\x3d"js-search-input"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"stepper__content"\x3e\r\n    \x3cbutton data-step-num\x3d"1" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-1 leader-half hide"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ch4 class\x3d"font-size--1 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/h4\x3e\r\n        \x3cdiv class\x3d"pre-select"\x3e\r\n          \x3cdiv class\x3d"font-size-2 text-darker-gray trailer-1"\x3e${i18n.replaceLayer.noLayerSelected}\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-clear js-replace-layer-select trailer-2"\x3e${i18n.replaceLayer.selectLayer}\x3c/button\x3e\r\n          \x3cdiv\x3e${i18n.replaceLayer.requirements}\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-half" /\x3e\r\n          \x3cdiv\x3e\r\n            \x3cspan\x3e${i18n.replaceLayer.layersShouldHaveSame}\x3c/span\x3e\r\n            \x3cul\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.coordinateSystem}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.layerShouldHaveSameComposition}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.layerTypesShouldMatch}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"post-select hide"\x3e\r\n          \x3cdiv class\x3d"selected-card trailer-2"\x3e\r\n            \x3cdiv class\x3d"stepper__content-pane js-replace-lyr-selected-layer"\x3e\r\n              \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n              \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n                \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n                \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n                \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n              \x3c/h5\x3e\r\n              \x3cdiv class\x3d"replace-lyr-change-lyr-container"\x3e\r\n                \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-lyr"\x3e\r\n                  ${i18n.replaceLayer.changeLayer}\r\n                \x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\r\n              data-dojo-attach-point\x3d"_layerError"\r\n              class\x3d"input-error-message input-error-message-right js-replace-lyr-error replace-lyr-error"\r\n            \x3e\r\n              ${i18n.replaceLayer.error}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-check-styles flex-center"\x3e\r\n            \x3cspan class\x3d"replace-lyr-loader margin-right-quarter"\x3e\x3c/span\x3e ${i18n.replaceLayer.checkIfCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-success font-size--1 js-replace-lyr-check-styles-success flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-success-icon"\x3e${icons.inline.check-circle-f.16}\x3c/span\x3e\r\n            ${i18n.replaceLayer.stylesAreCompatible}\r\n          \x3c/div\x3e\r\n          \x3cdiv\r\n            class\x3d"stepper__content-pane-compact stepper__alert-warning font-size--1 js-replace-lyr-check-styles-warning flex-center hide"\r\n          \x3e\r\n            \x3cspan class\x3d"replace-lyr-warning-icon margin-right-half"\r\n              \x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\r\n            \x3e\r\n            \x3cdiv\x3e${i18n.replaceLayer.stylesAreIncompatible}\x3cbr /\x3e\x3cspan class\x3d"js-replace-lyr-show-preview-step"\x3e${i18n.replaceLayer.reviewDifferences}\x3c/span\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cbutton data-step-num\x3d"2" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-2 leader-half hide"\x3e\r\n      \x3c!-- Radio --\x3e\r\n      \x3cdiv class\x3d"stepper__radio-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0 stepper__radio-title"\x3e\r\n          \x3c!-- Radio \'checked\' needed for summary --\x3e\r\n          \x3cinput\r\n            name\x3d"js-replace-lyr-archive-option-radio"\r\n            type\x3d"radio"\r\n            role\x3d"radio"\r\n            value\x3d"archive"\r\n            checked\r\n            class\x3d"hide"\r\n          /\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.archiveAs}\x3c/span\x3e\r\n\r\n          \x3cdiv class\x3d"js-replace-lyr-edit-container replace-lyr-edit-container margin-left-half input-group hide"\x3e\r\n            \x3cinput\r\n              class\x3d"js-replace-lyr-edit-name input-group-input"\r\n              onfocus\x3d"this.select();"\r\n              type\x3d"text"\r\n              placeholder\x3d"${i18n.replaceLayer.layerName}"\r\n              maxlength\x3d"120"\r\n            /\x3e\r\n            \x3cdiv class\x3d"js-replace-name-input-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.invalidServiceTitle.message}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"js-replace-name-available-error input-error-message"\x3e\r\n              ${i18n.addItemFrm.errors.serviceNameExists.message}\r\n            \x3c/div\x3e\r\n            \x3cspan class\x3d"input-group-button"\x3e\r\n              \x3cbutton class\x3d"js-replace-lyr-edit-save btn"\x3e${i18n.replaceLayer.save}\x3c/button\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cbutton class\x3d"js-replace-lyr-current-arch-btn margin-left-half btn-link"\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-arch-name"\x3e\x3c/span\x3e ${icons.inline.edit.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n\r\n        \x3cdiv class\x3d"stepper__radio-desc leader-quarter"\x3e${i18n.replaceLayer.contentWillBeArchived}\x3c/div\x3e\r\n        \x3c!-- below the divider - list of replacement rules and localized svg--\x3e\r\n        \x3chr class\x3d"margin-left-2 leader-half trailer-half" /\x3e\r\n        \x3cdiv class\x3d"margin-left-1 stepper__radio-details flex"\x3e\r\n          \x3cdiv class\x3d"stepper__radio-detail margin-right-2"\x3e\r\n            \x3cul class\x3d"font-size--2"\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replaceSceneLayer.retainsCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.archiveCurrentLayer}\x3c/li\x3e\r\n              \x3cli\x3e${i18n.replaceLayer.replacementLayerIsDeleted}\x3c/li\x3e\r\n            \x3c/ul\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-archive_svg stepper__radio-detail"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"stepper__content-pane stepper__content-pane-flex leader-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 stepper__method-title"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/span\x3e\r\n          \x3cdiv class\x3d"margin-left-1 font-size--2 leader-quarter"\x3e${i18n.replaceLayer.willUpdateItemInfo}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"toggle-switch replace-lyr-switch modifier-class"\x3e\r\n          \x3cinput type\x3d"checkbox" class\x3d"js-replace-lyr-replace-item-switch toggle-switch-input" /\x3e\r\n          \x3cspan class\x3d"toggle-switch-track margin-right-1"\x3e\x3c/span\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"3" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-3 grid-container stepper__content-container flex-column leader-half hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-half"\x3e${i18n.replaceLayer.stylePreview}\x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-single-style flex hide"\x3e\r\n        \x3cspan\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e \x3cb class\x3d"js-replace-lyr-style-layer margin-left-half"\x3e\x3c/b\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1 js-replace-lyr-multiple-styles replace-lyr-multiple-styles flex"\x3e\r\n        \x3c/span\x3e${i18n.replaceLayer.otherStyles}\x3c/span\x3e\r\n        \x3cselect class\x3d"js-replace-lyr-style-layer-dropdown margin-left-half"\x3e\x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane flex-1"\x3e\x3ciframe class\x3d"js-replace-lyr-preview-container replace-lyr-preview-container"\x3e\x3c/iframe\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton data-step-num\x3d"4" class\x3d"btn-link btn-link-darker-gray stepper__title js-stepper-title"\x3e\x3c/button\x3e\r\n    \x3cdiv class\x3d"js-step-4 leader-half hide"\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.currentLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-current-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"trailer-half font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-current-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-current-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by} \x3ca class\x3d"js-replace-lyr-current-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replacementLayer}\x3c/div\x3e\r\n          \x3ch3 class\x3d"js-replace-lyr-selected-lyr-name trailer-quarter"\x3e\x3c/h3\x3e\r\n          \x3ch5 class\x3d"font-size--2"\x3e\r\n            \x3cimg class\x3d"js-replace-lyr-selected-icon replace-lyr-item-type-icon" /\x3e\r\n            \x3cspan class\x3d"js-replace-lyr-selected-type"\x3e\x3c/span\x3e ${i18n.replaceLayer.by}\r\n            \x3ca class\x3d"js-replace-lyr-selected-owner" target\x3d"_blank"\x3e\x3c/a\x3e\r\n          \x3c/h5\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container flex-center"\x3e\r\n            \x3cdiv class\x3d"js-replace-lyr-check-styles-warning flex-center font-size--1 hide"\x3e\r\n              \x3cspan class\x3d"replace-lyr-warning-icon"\x3e${icons.inline.exclamation-mark-triangle-f.16}\x3c/span\x3e\r\n              ${i18n.replaceLayer.stylesAreIncompatible}\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link js-replace-lyr-change-lyr-summary text-right flex-1"\x3e\r\n              ${i18n.replaceLayer.selectReplacementLayer}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"selected-card trailer-1"\x3e\r\n        \x3cdiv class\x3d"stepper__content-pane"\x3e\r\n          \x3cdiv class\x3d"font-size--3 trailer-half"\x3e${i18n.replaceLayer.replaceSceneLayer.archiveDetails}\x3c/div\x3e\r\n          \x3cul\x3e\r\n            \x3cli class\x3d"js-replace-lyr-archive-option hide"\x3e\r\n              ${i18n.replaceLayer.archiveAs} \x3cb class\x3d"js-replace-lyr-new-layer-name"\x3e\x3c/b\x3e\r\n            \x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-option hide"\x3e${i18n.replaceLayer.useReplacementAsArchive}\x3c/li\x3e\r\n            \x3cli class\x3d"js-replace-lyr-replace-item-information hide"\x3e${i18n.replaceLayer.replaceItemInfo}\x3c/li\x3e\r\n          \x3c/ul\x3e\r\n          \x3chr class\x3d"leader-1 trailer-1" /\x3e\r\n          \x3cdiv class\x3d"replace-lyr-sub-container"\x3e\r\n            \x3cbutton class\x3d"font-size--3 btn-link replace-lyr-change-lyr-btn js-replace-lyr-change-option"\x3e\r\n              ${i18n.replaceLayer.replaceSceneLayer.updateArchive}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"stepper__content-pane-compact font-size--1 js-replace-lyr-availabilty-notice flex flex-space-between hide"\x3e\r\n        \x3cspan\x3e${icons.inline.lightbulb.24} ${i18n.replaceLayer.replacementLayerAvailabilityNotice}\x3c/span\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-off-black js-replace-lyr-availabilty-notice-close replace-lyr-availabilty-notice-close"\x3e${icons.inline.x.16}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn stepper__next leader-half js-stepper-next-btn"\x3e${i18n.myOrganization.inviteMembers.next}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/OverwriteFromCloud.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n   \x3cdiv class\x3d"overwriteDialog"\x3e\r\n       \x3cp class\x3d"overwriteInfoText"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoText}\x3c/p\x3e\r\n       \x3cp class\x3d"overwriteInfoNote"\x3e${i18n.overwriteFromCloudDlg.overwriteInfoNote}\x3c/p\x3e\r\n   \x3c/div\x3e \r\n   \x3c!-- Loader --\x3e\r\n   \x3cdiv class\x3d"loader loader-connectDataset is-active hide padding-leader-3 padding-trailer-3"\x3e\r\n     \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n     \x3cdiv class\x3d"loader-text"\x3e${i18n.overwriteFromCloudDlg.defaultLoading}\x3c/div\x3e\r\n   \x3c/div\x3e \r\n \x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultIssue.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUpdated.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsResultUnchanged.html":'\x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n  ${title}\x3cbr\x3e\r\n  \x3cspan class\x3d"font-size--3"\x3e${message}\x3c/span\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/httpsUpdate.html":'\x3cdiv class\x3d"clearfix"\x3e\r\n  \x3cdiv class\x3d"leader-half font-size--1" data-dojo-attach-point\x3d"updateHttpsDesc"\x3e${i18n.itemProperties.updateLayersToHTTPSDesc}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"updateHttpsLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingLayersToHTTPS}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingLayersToHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide update-https-results" data-dojo-attach-point\x3d"updateHttpsResults"\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersWithIssues"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleIssues"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"text-red" data-dojo-attach-point\x3d"issuesTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"issues"\x3e\x3c!-- write out issues here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUpdated"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUpdated"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"updatedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"updated"\x3e\x3c!-- write out updated here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"layersUnchanged"\x3e\r\n      \x3cdiv class\x3d"update-layer-section inline-block"\x3e\r\n        \x3cspan class\x3d"icon-ui-right update-section-toggle" data-dojo-attach-point\x3d"toggleUnchanged"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"unchangedTitle"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-half margin-left-1" data-dojo-attach-point\x3d"unchanged"\x3e\x3c!-- write out unchanged here --\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"noChangesMade"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.noLayersToUpdateHTTPS}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"unexpectedError"\x3e${i18n.itemProperties.errorUpdateHTTPS}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"leader-1 inline-block esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"okBtn"\x3e${i18n.itemProperties.updateLayers}\x3c/button\x3e\r\n    \x3cbutton class\x3d"hide btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/item/widgets/typeOptions/mapOptions/domainUpdate.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"updateDomainDesc"\x3e${i18n.itemProperties.updateDomainDesc}\x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"updateDomainContainer"\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-update-select"\x3e\r\n        ${i18n.common.find}\x3cbr\x3e\r\n        \x3cselect class\x3d"select-full" data-dojo-attach-point\x3d"domainSelect" id\x3d"domain-update-select"\x3e\x3c/select\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"align-top"\x3e\r\n      \x3clabel for\x3d"domain-replace-input"\x3e\r\n        ${i18n.common.replace}\x3cbr\x3e\r\n        \x3cinput id\x3d"domain-replace-input" data-dojo-attach-point\x3d"domainReplace"\x3e\r\n        \x3cdiv class\x3d"hide input-error-message" data-dojo-attach-point\x3d"domainReplaceError"\x3e\r\n          ${i18n.itemProperties.siteReferenceInvalid}\r\n        \x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"inline-block align-top"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear btn-small" data-dojo-attach-point\x3d"replaceDomainBtn" disabled\x3e${i18n.common.replace}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainLoading"\x3e\r\n    \x3cspan class\x3d"icon-ui-loading-indicator icon-ui-flush icon-ui-spinning" aria-label\x3d"${i18n.itemProperties.updatingDomains}"\x3e\x3c/span\x3e\r\n    ${i18n.itemProperties.updatingDomains}\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainFailure"\x3e\r\n    \x3cspan class\x3d"icon-ui-error icon-ui-red"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainFailureMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"replaceDomainSuccess"\x3e\r\n    \x3cspan class\x3d"icon-ui-check-mark text-dark-green"\x3e\x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"replaceDomainSuccessMessage"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"layerDetailsContainer"\x3e\r\n    ${i18n.itemProperties.layersWithDomain}\r\n    \x3cdiv class\x3d"font-size--2" data-dojo-attach-point\x3d"layerDetails"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"clearfix leader-1 esriFloatTrailing right"\x3e\r\n    \x3cbutton class\x3d"btn btn-blue" data-dojo-attach-point\x3d"doneBtn"\x3e${i18n.common.done}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Favorite/Favorite.html":'\x3cspan\x3e\r\n  \x3cbutton class\x3d"card-action tooltip tooltip-bottom-right" aria-label\x3d"${i18n.common.favorite}" data-dojo-attach-point\x3d"button"\x3e\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummary.html":'\x3cdiv class\x3d"share-summary ${directionClass} ${responsiveClass}"\x3e\r\n  \x3cbutton class\x3d"js-share-button share-summary__button flex flex-center flex-0 tooltip tooltip--data tooltip-multiline tooltip--multiline-short"\x3e\r\n    \x3cspan class\x3d"js-icon share-summary__level flex flex-center"\x3e${!levelIcon}\x3c/span\x3e\r\n    \x3cspan class\x3d"js-sharing-plus-icon share-summary__plus"\x3e${!icons.plus.16}\x3c/span\x3e\r\n    \x3cspan class\x3d"share-summary__group share-summary__group--unknown"\x3e\r\n      ${!icons.users.16}\r\n    \x3c/span\x3e\r\n  \x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ItemShareSummary/ItemShareSummaryOverflow.html":'\x3cspan class\x3d"share-summary__overflow"\x3e\x26#43;${num}\x3c/span\x3e',"url:arcgisonline/pages/dijit/Card/Card.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap tooltip" aria-label\x3d"${selectItem}"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-card-select-check-mark" value\x3d"${item.id}" data-id\x3d"${item.id}" ${checked}\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n\r\n  \x3ca href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size--1 trailer-0 text-ellipsis"\x3e\x3ca class\x3d"card-title-link" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${!item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-quarter flex"\x3e\r\n        \x3cspan class\x3d"js-layers-tables font-size--2"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle text-darkest-gray"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray card-created" title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-0 text-darker-gray"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/p\x3e\r\n      \x3cdiv class\x3d"flex-0 card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center leader-quarter"\x3e\r\n      \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis font-size--2 inline-block"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center flex-justify-end card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/OpenDropdown.html":'\x3cdiv class\x3d"display-block dropdown js-dropdown"\x3e\r\n  \x3cbutton class\x3d"card-action js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false" aria-label\x3d"${i18n.siteHeader.moreOptions}"\x3e\r\n    ${icons.ellipsis-f.16}\r\n  \x3c/button\x3e\r\n  \x3cnav class\x3d"dropdown-menu dropdown-menu-constrained dropdown-right" role\x3d"menu"\x3e\r\n    \x3c!-- Primary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"item.html?id\x3d${item.id}${telemetryParams:empty}" class\x3d"dropdown-link"\x3e${i18n.itemLinks.viewDetails}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-pdf js-action" data-action\x3d"download"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3cbutton role\x3d"menuitem" class\x3d"dropdown-link js-item-categorize if-allow-categorization"\x3e${i18n.items.categorize}\x3c/button\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-file if-download js-action" data-action\x3d"download"\x3e${i18n.itemLinks.download}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadUrl:empty}" class\x3d"dropdown-link if-explorer js-action" data-action\x3d"download"\x3e${i18n.itemLinks.openExplorer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.downloadStyleUrl:empty}" class\x3d"dropdown-link if-resources"\x3e${i18n.itemLinks.downloadStyle}\x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-map-viewer-classic"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapNewViewerUrl:empty}" data-href\x3d"${item.mapNewViewerUrl:empty}" class\x3d"dropdown-link if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.addToNewViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemProperties.openViewerFullEditingRole}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"if-map-viewer-modern"\x3e\r\n      \x3cdiv class\x3d"if-map-viewer-beta"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.newMapViewerUrl:empty}" class\x3d"dropdown-link if-can-openInNewMapViewer"\x3e${i18n.itemLinks.openMapViewerBetaLabel}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide-if-no-legacy-viewer-support"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerUrl:empty}" data-href\x3d"${item.mapViewerUrl:empty}" class\x3d"dropdown-link if-map if-featureCollection if-vectorTile if-2d if-table js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewer}\x3c/a\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.mapViewerWithEditUrl:empty}" data-href\x3d"${item.mapViewerWithEditUrl:empty}" class\x3d"dropdown-link if-can-edit-service js-action" data-action\x3d"newMapViewer"\x3e${i18n.itemLinks.openMapViewerWithControl}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"if-geoBIM"\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.geoBIMUrl:empty}" class\x3d"dropdown-link if-create-GeoBIM"\x3e${i18n.itemLinks.openGeoBIM}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene if-3d"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.url:empty}" target\x3d"_blank" class\x3d"dropdown-link if-app"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-mobile"\x3e${i18n.itemLinks.getApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.appViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-link"\x3e${i18n.itemLinks.open}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workforceViewerUrl:empty}" class\x3d"dropdown-link if-workforceProject-and-not-blocked"\x3e${i18n.itemLinks.openWorkforce}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.workflowViewerUrl:empty}"  class\x3d"dropdown-link if-workflow"\x3e${i18n.itemLinks.openWorkflow}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyViewerUrl:empty}" class\x3d"dropdown-link if-surveyFormBrowser-and-not-blocked"\x3e${i18n.itemLinks.openSurveyBrowser}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyAppUrl:empty}" class\x3d"dropdown-link if-surveyForm-and-not-blocked"\x3e${i18n.itemLinks.openSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyManageUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.manageSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.surveyEditUrl:empty}" class\x3d"dropdown-link if-can-edit-surveyForm js-open-surveyViewer "\x3e${i18n.itemLinks.editSurveyApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.insightsViewerUrl:empty}" class\x3d"dropdown-link if-insights-and-not-blocked"\x3e${i18n.itemLinks.openInsights}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.urbanViewerUrl:empty}" class\x3d"dropdown-link if-urbanModel"\x3e${i18n.itemLinks.openUrbanModel}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.orthoMakerUrl:empty}" class\x3d"dropdown-link if-orthoMaker"\x3e${i18n.itemLinks.openOrthoMaker}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.missionViewerUrl:empty}" class\x3d"dropdown-link if-mission"\x3e${i18n.itemLinks.openMission}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.geoAIStudioUrl:empty}" class\x3d"dropdown-link if-geoAIStudioProject"\x3e${i18n.itemLinks.openGeoAIStudio}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubInitiativeUrl:empty}" class\x3d"dropdown-link if-hubInitiative-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubEventUrl:empty}" class\x3d"dropdown-link if-hubEvent-and-not-blocked"\x3e${i18n.itemLinks.viewInHub}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.openHubInitiative}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.hubProjectEditUrl:empty}" class\x3d"dropdown-link if-hubProject-and-not-blocked"\x3e${i18n.itemLinks.editHubProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotViewerUrl:empty}" class\x3d"dropdown-link if-bigDataAnalytic if-realTimeAnalytic"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.iotFeedUrl:empty}" class\x3d"dropdown-link if-feedLayer"\x3e${i18n.itemLinks.openAnalyticsIoT}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.vrExperienceUrl:empty}" class\x3d"dropdown-link if-vrExperience-and-not-blocked js-hide-portal"\x3e${i18n.itemLinks.openVRExperience}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.cityEngineViewerUrl:empty}" class\x3d"dropdown-link if-city-engine"\x3e${i18n.itemLinks.viewApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburViewerUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburProjectUrl:empty}" class\x3d"dropdown-link if-excaliburProject"\x3e${i18n.itemLinks.viewExcaliburProject}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.excaliburMediaUrl:empty}" class\x3d"dropdown-link if-excaliburMedia"\x3e${i18n.itemLinks.openExcalibur}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-dashboard-and-not-blocked"\x3e${i18n.itemLinks.dashboardView}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.dashboardEditUrl:empty}" class\x3d"dropdown-link if-can-edit-dashboard"\x3e${i18n.itemLinks.dashboardEdit}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.fieldMapsUrl:empty}" class\x3d"dropdown-link if-fieldMaps"\x3e${i18n.itemLinks.fieldMaps}\x3c/a\x3e\r\n    \x3cdiv class\x3d"if-notebookServer-enabled"\x3e\r\n      \x3cspan class\x3d"if-can-create-notebooks"\x3e\r\n        \x3ca role\x3d"menuitem" href\x3d"${item.notebookViewerUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-notebook"\x3e${i18n.itemLinks.openNotebook}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- Web Experience Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperience-and-not-blocked" target\x3d"_blank" rel\x3d"noopener noreferrer"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperience"\x3e${i18n.common.edit}\x3c/a\x3e\r\n\r\n    \x3c!-- Web Experience Template Actions ---\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceUrl:empty}" class\x3d"dropdown-link if-published-webExperienceTemplate-and-not-blocked"\x3e${i18n.itemLinks.view}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.webExperienceEditUrl:empty}" class\x3d"dropdown-link if-can-edit-webExperienceTemplate"\x3e${i18n.common.edit}\x3c/a\x3e\r\n    \x3cspan class\x3d"if-published-webExperienceTemplate-and-not-blocked"\x3e\r\n      \x3ca href\x3d"${item.webExperienceCreateUrl:empty}" class\x3d"dropdown-link if-can-create-webExperienceTemplate if-published-webExperienceTemplate-and-not-blocked if-no-public-user js-open-btn"\x3e${i18n.itemLinks.createWebExperience}\x3c/a\x3e\r\n    \x3c/span\x3e\r\n\r\n    \x3c!-- Secondary Item Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.wabEditUrl:empty}" class\x3d"dropdown-link if-can-edit-wab-and-not-blocked"\x3e${i18n.itemLinks.editApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.sceneViewerUrl:empty}" class\x3d"dropdown-link if-scene-2"\x3e${i18n.itemLinks.openSceneViewer}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openDesktop}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-desktop if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"arcmap"\x3e${i18n.itemLinks.openArcMap}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openDesktop:empty}" class\x3d"dropdown-link js-action if-pro if-desktopPro" data-action\x3d"openDesktop" data-type\x3d"pro"\x3e${i18n.itemLinks.openPro}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-no-presentation if-map"\x3e${i18n.siteHeader.createPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.openPresentationUrl:empty}" class\x3d"dropdown-link if-presentation"\x3e${i18n.siteHeader.viewPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.createPresentationUrl:empty}" class\x3d"dropdown-link if-create-presentation"\x3e${i18n.siteHeader.editPresentation}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureUrl:empty}" class\x3d"dropdown-link if-can-configure"\x3e${i18n.itemProperties.configureApp}\x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.viewStyleUrl:empty}" target\x3d"_blank" class\x3d"dropdown-link if-vectorTile if-viewStyle"\x3e${i18n.itemLinks.viewStyle}\x3c/a\x3e\r\n\r\n    \x3c!-- Storymap Actions --\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.configureStoryMapUrl:empty}" class\x3d"dropdown-link if-editable-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.editStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.editStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n    \x3ca role\x3d"menuitem" href\x3d"${item.storyMapViewerUrl:empty}" class\x3d"dropdown-link if-published-storymap-and-not-blocked"\x3e\r\n      \x3cspan class\x3d"if-storymap-item"\x3e${i18n.itemLinks.viewStorymap}\x3c/span\x3e\r\n      \x3cspan class\x3d"if-storymap-collection"\x3e${i18n.itemLinks.viewStorymapCollection}\x3c/span\x3e\r\n    \x3c/a\x3e\r\n\r\n    \x3cdiv class\x3d"if-published-storymap-theme"\x3e\r\n      \x3ca\r\n        class\x3d"dropdown-link"\r\n        href\x3d"${item.newStoryMapFromThemeUrl:empty}"\r\n      \x3e\r\n        ${i18n.itemLinks.newStoryFromTheme}\r\n      \x3c/a\x3e\r\n      \x3ca role\x3d"menuitem" href\x3d"${item.newStoryMapCollectionFromThemeUrl:empty}" class\x3d"dropdown-link"\x3e\r\n        ${i18n.itemLinks.newCollectionFromTheme}\r\n      \x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3ca\r\n      href\x3d"${item.configureStoryMapThemeUrl:empty}"\r\n      class\x3d"dropdown-link if-editable-storymap-theme"\r\n    \x3e\r\n      ${i18n.itemLinks.editStorymapTheme}\r\n    \x3c/a\x3e\r\n  \x3c/nav\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/OrgPopup/OrgPopup.html":'\x3cdiv\x3e\r\n  \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"hide popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loader" class\x3d"profile-popup__loader loader"\x3e\r\n    \x3cdiv class\x3d"profile-popup__loader-bars loader-bars"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"text-left" data-dojo-attach-point\x3d"content"\x3e\r\n    \x3cdiv class\x3d"profile-popup__top-section flex flex-align-center"\x3e\r\n      \x3cimg src\x3d"${item.verified.thumbnail}" class\x3d"profile-popup__org-thumbnail margin-right-1"\x3e\r\n      \x3cdiv class\x3d"flex-1 font-size-1 avenir-demi"\x3e\r\n        ${item.verified.name}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"profile-popup__org-bottom" data-dojo-attach-point\x3d"bottomSection"\x3e\r\n      \x3cdiv class\x3d"profile-popup__bio-container" data-dojo-attach-point\x3d"descContainer"\x3e\r\n        \x3cp class\x3d"profile-popup__bio-section trailer-half" data-dojo-attach-point\x3d"descEl"\x3e\x3c/p\x3e\r\n        \x3cbutton class\x3d"hide btn-link btn-link-darker-gray profile-popup__more-toggle" data-dojo-attach-point\x3d"descToggle"\x3e${!icons.chevron-down.24}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1"\x3e\r\n        \x3ca href\x3d"${item.verified.url}"  target\x3d"_blank"\x3e${i18n.myOrganization.homeTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n        \x3ca href\x3d"${item.verified.url}gallery.html"  target\x3d"_blank" class\x3d"margin-left-1"\x3e${i18n.myOrganization.galleryTab.tabTitle} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_listTemplate.html":'\x3cdiv class\x3d"card block card-wide trailer-1"\x3e\r\n  \x3cdiv class\x3d"full-width panel panel-white panel-no-border padding-trailer-0 border-box"\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cdiv class\x3d"position-relative left"\x3e\r\n        \x3cspan class\x3d"notification-dot notification-dot-${group.applications} notification-dot--top-left"\x3e${group.applications}\x3c/span\x3e\r\n        \x3ca href\x3d"group.html?id\x3d${group.id}" class\x3d"card-image-small display-block padding-right-1 padding-left-0 group-card-thumbnail js-group-card-title" title\x3d"${i18n.GroupsWidget.viewGroupDetails}"\x3e\r\n          \x3cimg src\x3d"${group.thumbnailUrl}" alt\x3d"" class\x3d"${group.thumbnail:hide}"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"${group.thumbnail:show}"\x3e\r\n            \x3cpath fill\x3d"${group.fillColor}" d\x3d"M0 0h65v65H0z"/\x3e\r\n            \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n            \x3cpath class\x3d"${group.useLetter:show}" fill\x3d"#FFF" d\x3d"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"/\x3e\r\n            \x3ctext class\x3d"${group.useLetter:hide} font-size-4" x\x3d"50%" y\x3d"50%" fill\x3d"white" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e\r\n              \x3ctspan class\x3d"group-thumbnail-default-text" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n              \x3ctspan class\x3d"group-thumbnail-ie-text" y\x3d"70%" x\x3d"55%" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n            \x3c/text\x3e\r\n          \x3c/svg\x3e\r\n        \x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"group-card-content border-box padding-trailer-half right"\x3e\r\n        \x3cdiv class\x3d"flex phone-flex-column"\x3e\r\n          \x3ch4 class\x3d"trailer-0 phone-trailer-half font-size-1 full-width text-ellipsis margin-right-1 margin-left-0"\x3e\r\n            \x3ca href\x3d"group.html?id\x3d${group.id}" title\x3d"${group.title}" class\x3d"text-ellipsis js-group-card-title"\x3e${group.title:stripHTML}\x3c/a\x3e\r\n          \x3c/h4\x3e\r\n          \x3cbutton data-group-id\x3d"${group.id}" class\x3d"flex-0 btn-link btn-link-off-black font-size--2 js-remove-group ${group.canDelete:hide}"\x3e${!icons.inline.trash.16}${i18n.GroupWidget.deleteGroup}\x3c/button\x3e\r\n          \x3cbutton data-group-id\x3d"${group.id}" class\x3d"flex-0 btn-link btn-link-off-black font-size--2 js-leave-group ${group.canLeave:hide}"\x3e${!icons.inline.sign-out.16}${i18n.GroupWidget.leaveGroup}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cp class\x3d"font-size--2 trailer-0 text-darkest-gray phone-leader-half"\x3e${i18n.GroupWidget.ownerLabel} \x3cbutton class\x3d"btn-link js-group-owner tooltip" data-owner\x3d"${group.owner}" aria-label\x3d"${i18n.viewsWidget.viewUserprofile}"\x3e${group.owner}\x3c/button\x3e\x3c/p\x3e\r\n        \x3cp class\x3d"font-size--2 trailer-0 text-darkest-gray"\x3e\r\n          \x3cspan class\x3d"inline-block margin-right-1 margin-left-0"\x3e${i18n.GroupWidget.dateCreatedLabel} ${group.created:fullDate}\x3c/span\x3e\x3cspan class\x3d"inline-block margin-right-1 margin-left-0"\x3e${i18n.GroupWidget.dateModifiedLabel} ${group.modified:fullDate}\x3c/span\x3e\r\n          \x3cspan class\x3d"inline-block"\x3e\r\n            ${i18n.groupsPage.viewableByChipText}\r\n            \x3cspan class\x3d"margin-left-quarter"\x3e\r\n              ${!group.accessIcon}${group.access:getGroupAccess}\r\n            \x3c/span\x3e\r\n          \x3c/span\x3e\r\n        \x3c/p\x3e\r\n        \x3cdiv class\x3d"flex leader-half"\x3e\r\n          \x3cdiv class\x3d"js-group-badges flex-0"\x3e\x3c/div\x3e\r\n          \x3cp class\x3d"flex-1 font-size--2 trailer-0 leader-quarter break-word ${group.snippet:hide}"\x3e${group.snippet:stripHTML}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton data-group-id\x3d"${group.id}" class\x3d"btn-link btn-link-off-black font-size--2 leader-1 js-view-membership-requests ${group.hasApplications:hide}"\x3e\r\n          ${!icons.inline.envelope.16}${i18n.GroupWidget.membershipRequests}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_mobileTemplate.html":'\x3ca href\x3d"group.html?id\x3d${group.id}" class\x3d"block card card-mobile trailer-half"\x3e\r\n  \x3cdiv class\x3d"card-content"\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cdiv class\x3d"position-relative flex-0"\x3e\r\n        \x3cspan class\x3d"notification-dot notification-dot-${group.applications} notification-dot--top-left"\x3e${group.applications}\x3c/span\x3e\r\n        \x3cspan class\x3d"card-image-small display-block padding-right-1 padding-left-0 group-card-thumbnail"\x3e\r\n          \x3cdiv class\x3d"${group.thumbnail:hide}"\x3e\r\n            \x3cimg src\x3d"${group.thumbnailUrl}" alt\x3d"${group.title}" class\x3d"display-block"\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"${group.thumbnail:show}"\x3e\r\n            \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"display-block"\x3e\r\n              \x3cpath fill\x3d"${group.fillColor}" d\x3d"M0 0h65v65H0z"/\x3e\r\n              \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n              \x3cpath class\x3d"${group.useLetter:show}" fill\x3d"#FFF" d\x3d"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"/\x3e\r\n              \x3ctext class\x3d"${group.useLetter:hide} font-size-4" x\x3d"50%" y\x3d"50%" fill\x3d"white" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e\r\n                \x3ctspan class\x3d"group-thumbnail-default-text" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n                \x3ctspan class\x3d"group-thumbnail-ie-text" y\x3d"70%" x\x3d"55%" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${group.title:firstChar}\x3c/tspan\x3e\r\n              \x3c/text\x3e\r\n            \x3c/svg\x3e\r\n          \x3c/div\x3e\r\n        \x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 flex flex-align-center"\x3e\r\n        \x3cdiv\x3e\r\n          \x3ch4 class\x3d"trailer-0 font-size-1"\x3e\r\n            ${group.title:stripHTML}\r\n          \x3c/h4\x3e\r\n          \x3cp class\x3d"font-size--2 trailer-0 text-darkest-gray"\x3e${i18n.GroupWidget.ownerLabel} ${group.owner}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryListViewCard.html":'\x3cdiv class\x3d"card ${selectCardClass} ${selectedClass} ${removedClass} card-wide trailer-1 js-category-card category-card" data-item-id\x3d"${item.id}"\x3e\r\n  \x3cspan class\x3d"category-card-image flex-0 panel panel-no-border tablet-hide"\x3e\r\n    \x3cimg class\x3d"card-image--static card-image--contained js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d"${item.title}"\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"flex-1 padding-leader-half padding-trailer-half padding-left-1 padding-right-1"\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3ch4 class\x3d"trailer-0 font-size-0"\x3e${item.title}\x3c/h4\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"font-size--3 trailer-quarter flex"\x3e\r\n      \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n      \x3cspan class\x3d"text-ellipsis flex-1" data-owner\x3d"${item.owner}"\x3e${item.owner}\x3c/span\x3e\r\n    \x3c/p\x3e\r\n    \x3cp class\x3d"font-size--3 trailer-half"\x3e${item.snippet}\x26nbsp;\x3c/p\x3e\r\n    \x3cdiv class\x3d"font-size--1 js-category-chip-wrap" data-dojo-attach-point\x3d"_chipWrap"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryView.html":'\x3cdiv class\x3d"full-height"\x3e\r\n  \x3cdiv class\x3d"grid-container full-height"\x3e\r\n    \x3cdiv class\x3d"column-7 tablet-column-6 full-height padding-leader-1 padding-trailer-1"\x3e\r\n      \x3cdiv\r\n        class\x3d"panel panel-white padding-left-half padding-right-half padding-top-half padding-bottom-half category-tree-full-height"\r\n      \x3e\r\n        \x3cul\r\n          class\x3d"category-editor-group category-editor-group--fixed-height js-category-group js-category-root"\r\n          role\x3d"tree"\r\n        \x3e\x3c/ul\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-17 tablet-column-6 full-height phone-hide"\x3e\r\n      \x3cdiv class\x3d"js-item-wrapper margin-left-1 category-list-items full-height"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryView/templates/Category.html":'\x3cli class\x3d"category-editor-item category-view-item" role\x3d"treeitem"\x3e\r\n  \x3clabel class\x3d"category-view-checkbox flex"\x3e\r\n    \x3cspan class\x3d"category-view-checkbox-input-wrap flex-0"\x3e\r\n      \x3cinput type\x3d"checkbox" class\x3d"checkbox-custom-input js-category-select-checkbox" value\x3d"${path}"\x3e\r\n      \x3cspan class\x3d"checkbox-custom"\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n      \x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cspan class\x3d"category-editor-name js-name category-editor-name--draggable" data-category-name\x3d"${title}" data-category-path\x3d"${path}"\x3e\r\n      \x3cspan class\x3d"category-view-path"\x3e${path}\x3c/span\x3e\x3cspan class\x3d"category-view-name"\x3e${title}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n  ${children}\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/CategoryView/templates/CategoryGroup.html":'\x3cul class\x3d"category-editor-group category-view-group js-category-group js-category-root" role\x3d"tree"\x3e\r\n  ${categories}\r\n\x3c/ul\x3e',"url:arcgisonline/pages/dijit/CategoryView/templates/_undo.html":'\x3cnav class\x3d"leader-quarter right margin-right-1"\x3e\r\n  \x3cbutton class\x3d"js-undo btn-link tooltip tooltip-top" aria-label\x3d"${i18n.contentCategories.undo}" disabled\x3e\r\n    \x3csvg class\x3d"no-pointer rtl-flip" width\x3d"32" height\x3d"19" viewBox\x3d"0 0 20 19" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\r\n      \x3cpath d\x3d"M20 9v6a4.004 4.004 0 0 1-4 4H2.5v-2H16a2.002 2.002 0 0 0 2-2V9a2.002 2.002 0 0 0-2-2H3.914l3.182 3.181-1.414 1.414L.086 6 5.682.405l1.414 1.414L3.914 5H16a4.004 4.004 0 0 1 4 4z" fill\x3d"#0079c1"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cbutton class\x3d"js-redo btn-link tooltip tooltip-top" aria-label\x3d"${i18n.contentCategories.redo}" disabled\x3e\r\n    \x3csvg class\x3d"no-pointer rtl-flip" width\x3d"32" height\x3d"19" viewBox\x3d"0 0 20 19" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\r\n      \x3cpath d\x3d"M0 9v6a4.004 4.004 0 0 0 4 4h13.5v-2H4a2.002 2.002 0 0 1-2-2V9a2.002 2.002 0 0 1 2-2h12.086l-3.182 3.181 1.414 1.414L19.914 6 14.318.405l-1.414 1.414L16.086 5H4a4.004 4.004 0 0 0-4 4z" fill\x3d"#0079c1"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/nav\x3e',
"url:arcgisonline/pages/content/widgets/templates/_empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n  \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n  \x3ch3\x3e${i18n.emptyStates.noItemsYet}\x3c/h3\x3e\r\n  \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${message}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/Checkbox/templates/Checkbox.html":'\x3clabel class\x3d"checkbox-custom-label ${labelClass}" for\x3d"${uid}"\x3e\r\n  \x3cinput id\x3d"${uid}" type\x3d"checkbox" class\x3d"checkbox-custom-input" ${_checked} data-dojo-attach-point\x3d"_checkbox" \x3e\r\n  \x3cspan class\x3d"checkbox-custom ${_modifierClasses}"\x3e\r\n    \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n    \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"js-checkbox-label-text ${hideLabelClass}"\x3e${label}\x3c/span\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/dijit/MemberBrowser/templates/MemberBrowserRow.html":'\x3cdiv class\x3d"member-browser-row member-browser-row--select flex flex-center ${_activeClass}"\x3e\r\n  \x3cdiv class\x3d"flex-1 flex margin-right-half"\x3e\r\n    \x3cdiv class\x3d"js-member-browser-row-thumbnail"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half"\x3e\r\n      \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0"\x3e${member.fullName}\x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--2"\x3e${member.username}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cspan class\x3d"js-member-browser-row-checkbox"\x3e\x3c/span\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/templates/members/invite-user-row.html":'\x3cdiv class\x3d"member-browser-row member-browser-row--select flex flex-center ${_activeClass}"\x3e\r\n  \x3cdiv class\x3d"flex-1 flex margin-right-half"\x3e\r\n    \x3cdiv class\x3d"js-member-browser-row-thumbnail"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half"\x3e\r\n      \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0"\x3e${member.fullName}\x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--2"\x3e${member.username}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide invite-user-row__collab-org-badge font-size--1 margin-right-2 tooltip-multiline" data-dojo-attach-point\x3d"collabOrgBadge"\x3e\x3cspan class\x3d"hide" data-dojo-attach-point\x3d"collabOrgBadgeIcon"\x3e${!icons.inline.group.16}\x3c/span\x3e \x3cspan data-dojo-attach-point\x3d"collabOrgNameEl"\x3e\x3c/span\x3e\x3c/div\x3e\r\n  \x3cspan class\x3d"js-member-browser-row-checkbox"\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/MemberBrowser/templates/MemberBrowser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-top-bar sticky-top"\x3e\r\n    \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-wrapper-loader is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.myOrganization.manageLicenseMembers.loadingMembers}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"grid-container padding-trailer-half padding-leader-half hide js-member-browser-wrapper"\x3e\r\n    \x3cdiv class\x3d"flex column-24"\x3e\r\n      \x3cdiv class\x3d"js-filters-panel"\x3e\r\n        \x3cdiv class\x3d"js-membership-notice group-membership-notice font-size--1 hide"\x3e\r\n          \x3cdiv class\x3d"avenir-demi"\x3e${i18n.createGroupOverlay.whoCanJoin}\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-membership-text"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"trailer-half font-size--1 avenir-demi tablet-hide js-filters-title"\x3e${i18n.myOrganization.manageLicenseMembers.filters}\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-outside-org-toggle"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"accordion filters--accordion js-accordion js-member-filters"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3cdiv class\x3d"flex flex-wrap trailer-half font-size--2"\x3e\r\n          \x3cdiv class\x3d"js-filter-status-mobile"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"flex full-width flex-space-between"\x3e\r\n            \x3cdiv class\x3d"js-show-on-select hide flex-0 flex-center"\x3e\r\n              \x3cdiv class\x3d"js-selected-members"\x3e\x3c/div\x3e\r\n              \x3cbutton\r\n                class\x3d"btn btn-link btn-link--inherit padding-left-1 leader-quarter trailer-quarter js-deselect"\x3e${i18n.GroupWidget.deselect}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"flex-1 flex flex-align-center js-count-and-status"\x3e\r\n              \x3cdiv class\x3d"js-grid-member-count flex-0 padding-right-1 padding-leader-quarter padding-trailer-quarter"\x3e\x3c/div\x3e\r\n              \x3cdiv class\x3d"js-filter-status flex-1"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cbutton class\x3d"flex-0 btn btn-link btn-link--inherit padding-left-1 leader-quarter trailer-quarter js-select-page phone-hide"\x3e${i18n.filters.selectPage}\x3c/button\x3e\r\n            \x3cbutton class\x3d"flex-0 btn btn-link btn-link--inherit padding-left-1 leader-quarter trailer-quarter js-deselect-page hide phone-hide"\x3e${i18n.filters.deselectPage}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-grid"\x3e\r\n          \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-loader"\x3e\r\n            \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"loader-text"\x3e${i18n.myOrganization.manageLicenseMembers.loadingMembers}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"hide leader-3 text-center js-no-results"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-members-list"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide text-center panel js-search-for-results"\x3e\r\n          \x3csvg viewBox\x3d"0 0 64 64" width\x3d"128" height\x3d"128" class\x3d"trailer-half leader-1" fill\x3d"#a9a9a9"\x3e\r\n            \x3cpath d\x3d"M16.37 23.071c1.418 4.135 5.303 7.329 7.738 7.329 2.531 0 6.561-3.424 7.858-7.702 3.067-2.303 1.683-8.088.39-10.09l-.326-.513c-1.1-1.74-1.968-3.114-5.152-3.673-3.39-.595-5.45.604-6.624 1.83a1.72 1.72 0 0 0-1.275-.019c-2.742.833-4.323 4.461-4.57 6.772-.164 1.54-.113 4.346 1.96 6.066zm7.738 6.53c-1.888 0-5.622-2.842-6.978-6.779a23.946 23.946 0 0 1 2.205-5.96 12.824 12.824 0 0 0 .824-1.633c3.33 2.389 7.73 1.82 9.02 1.585.207.625.751 2.211 2.026 5.638-1.25 4.153-5.083 7.148-7.097 7.148zM15.205 17.09c.216-2.032 1.64-5.372 4.007-6.091a1.54 1.54 0 0 1 .438-.077.477.477 0 0 1 .369.133l.305.33.292-.342c.988-1.152 2.853-2.408 6.124-1.833 2.835.498 3.543 1.617 4.613 3.312l.331.52c1.14 1.766 2.228 6.654.128 8.746-1.62-4.365-1.975-5.54-1.978-5.552l-.108-.361-.367.086c-.056.013-5.543 1.26-9.12-1.679l-.43-.353-.199.52a12.524 12.524 0 0 1-.959 1.998 23.028 23.028 0 0 0-2.168 5.65 6.431 6.431 0 0 1-1.278-5.007zm21.53 16.773l-.656.459c-1.41-2.01-4.427-3.136-7.72-4.166-.348 2.295-2.808 4.91-4.359 4.91s-4.01-2.615-4.358-4.91c-3.294 1.03-6.31 2.156-7.721 4.166l-.655-.46c1.624-2.314 5.002-3.505 8.616-4.618l.518-.159v.541c0 2.041 2.44 4.64 3.6 4.64s3.6-2.599 3.6-4.64v-.541l.518.16c3.614 1.112 6.992 2.303 8.616 4.618zm23.013 20.606L44.447 39.167l-1.414 1.415-3.801-3.801a19.94 19.94 0 1 0-2.451 2.45l3.803 3.803-1.414 1.415 15.299 15.3a2.382 2.382 0 0 0 1.697.702h.002a2.413 2.413 0 0 0 1.695-.702l1.886-1.886a2.4 2.4 0 0 0 0-3.394zM4.9 24A19.1 19.1 0 1 1 24 43.1 19.122 19.122 0 0 1 4.9 24zm32.474 14.693q.69-.63 1.32-1.32l3.774 3.775-1.32 1.32zm21.81 18.604l-1.887 1.886a1.61 1.61 0 0 1-1.13.468h-.001a1.589 1.589 0 0 1-1.131-.468L40.3 44.449l4.146-4.15 14.736 14.736a1.6 1.6 0 0 1 0 2.262z" /\x3e\r\n          \x3c/svg\x3e\r\n          \x3cp class\x3d"font-size--1 text-darker-gray text-constrain-narrow text-center margin-auto"\x3e${i18n.GroupWidget.searchForResults}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide text-center panel js-suspended-collab"\x3e\r\n          \x3ccalcite-icon scale\x3d"l" icon\x3d"users" class\x3d"leader-1 trailer-1"\x3e\x3c/calcite-icon\x3e\r\n          \x3cp class\x3d"text-darker-gray text-constrain-narrow text-center margin-auto js-suspended-text"\x3e${i18n.GroupWidget.suspendedCollabResults}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-pagination"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Pagination/templates/Number.html":'\x3cli\x3e\x3ca href\x3d"#" class\x3d"js-btn btn btn-small pagination-btn ${is-active}" data-page\x3d"${pageNum}" aria-label\x3d"${label}" ${current}\x3e${pageNum}\x3c/a\x3e\x3c/li\x3e\r\n',"url:arcgisonline/pages/dijit/Pagination/templates/Ellipsis.html":'\x3cli\x3e\x3cspan class\x3d"avenir-light text-light-gray btn-small pagination-btn--inactive"\x3e${pageNum}\x3c/span\x3e\x3c/li\x3e\r\n',"url:arcgisonline/pages/dijit/Pagination/templates/Pagination.html":'\x3cdiv class\x3d"text-center trailer-1 padding-leader-1" data-dojo-attach-point\x3d"pagination"\x3e\r\n  \x3cdiv class\x3d"alert alert-yellow margin-auto trailer-1 js-over-limit"\x3e${i18n.contentPage.errors.overItemLimit}\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex phone-flex-column"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cnav class\x3d"pagination margin-auto" data-dojo-attach-point\x3d"navigation" role\x3d"navigation" aria-label\x3d"${i18n.contentPage.paginationLabel}"\x3e\r\n          \x3ca href\x3d"#" aria-label\x3d"${i18n.contentPage.paginationPrevious}" class\x3d"js-btn-previous js-btn pagination-btn btn btn-small btn-transparent btn-disabled" data-dojo-attach-point\x3d"previous"\x3e${i18n.common.previous}\x3c/a\x3e\r\n          \x3cspan class\x3d"js-pagination-links pagination-links" data-dojo-attach-point\x3d"pageLinks"\x3e\x3c/span\x3e\r\n          \x3ca href\x3d"#" aria-label\x3d"${i18n.contentPage.paginationNext}" class\x3d"js-btn-next js-btn pagination-btn btn btn-small btn-transparent btn-disabled" data-dojo-attach-point\x3d"next"\x3e${i18n.common.next}\x3c/a\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0" data-dojo-attach-point\x3d"_pageDropdown"\x3e\r\n      \x3cdiv class\x3d"dropdown dropdown-up js-dropdown padding-leader-quarter right full-width phone-leader-half"\x3e\r\n        \x3c!-- extends side-nav --\x3e\r\n        \x3cbutton class\x3d"btn-link font-size--2 btn-link-black js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_pageNumLabel"\x3e\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n        \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link is-active" role\x3d"menuitem" data-num\x3d"20"\x3e20\x3c/button\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link" role\x3d"menuitem" data-num\x3d"60"\x3e60\x3c/button\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link" role\x3d"menuitem" data-num\x3d"100"\x3e100\x3c/button\x3e\r\n        \x3c/nav\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SearchInput/SearchInput.html":'\x3cdiv class\x3d"full-width position-relative"\x3e\r\n  \x3cinput type\x3d"search" placeholder\x3d"${placeholder}" aria-label\x3d"${placeholder}" class\x3d"flex-1 input-minimal search-input ${cssTheme}" data-dojo-attach-point\x3d"searchInput"\x3e\r\n  \x3cbutton class\x3d"btn-link btn-link-darker-gray search-input__clear-btn hide" data-dojo-attach-point\x3d"clearBtn"\x3e${!icons.x.16}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/members/SearchDropdown.html":'\x3cdiv class\x3d"control-bar__action js-dropdown control-bar--search-dropdown"\x3e\r\n    \x3cbutton class\x3d"control-bar__btn js-toggle-search-dropdown js-dropdown-toggle" aria-label\x3d"${i18n.myOrganization.membersTab.searchMembersBy}" aria-controls\x3d"sortmenu" data-dojo-attach-point\x3d"_toggleLink" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n        \x3cspan class\x3d"control-bar__btn-text js-search-label" data-dojo-attach-point\x3d"_searchLabel"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"control-bar__dropdown-menu dropdown-menu js-control-bar-search-dropdown" role\x3d"menu" id\x3d"searchmenu" aria-labelledby\x3d"searchmenutitle"\x3e\r\n        \x3ch3 class\x3d"control-bar__dropdown-menu__title" id\x3d"searchmenutitle"\x3e\r\n            ${i18n.myOrganization.membersTab.searchMembersBy}\r\n            \x3cbutton class\x3d"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n                ${!icons.x.24}\r\n            \x3c/button\x3e\r\n        \x3c/h3\x3e\r\n        \x3cnav class\x3d"js-search-options"\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item is-active"  role\x3d"menuitem" data-property\x3d"fullname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"username"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.username}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"firstname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.firstName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"lastname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.lastName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n        \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/ControlBar.html":'\x3cdiv class\x3d"control-bar ${hideActionClass} ${hideRightClass} ${marginClass} ${positionAbsoluteClass}"\x3e\r\n  \x3cdiv class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3cdiv class\x3d"js-control-bar-actions control-bar__section control-bar__section--left flex flex-center flex-0"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__search ${searchActionClass} flex-1 flex js-control-bar-search-wrap"\x3e\r\n        \x3cspan class\x3d"control-bar__search-icon"\x3e${!icons.search-f.24}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-control-bar-search"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search-dropdown js-control-bar-search-dropdown hide"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search__error input-error-message js-control-bar-search-error"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__section control-bar__section--right flex flex-center js-control-bar-right-section"\x3e\r\n        \x3cdiv class\x3d"js-control-bar-view-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-sort-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-filter-toggle ${hideFilterClass}"\x3e\r\n          \x3cbutton class\x3d"control-bar__btn ${filterActiveClass} js-toggle-filters" aria-controls\x3d"view-filters-wrap"\x3e\r\n            ${!icons.inline.sliders.16}\x3cspan class\x3d"control-bar__btn-text"\x3e${i18n.controlBar.filter}\x3c/span\x3e\r\n          \x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-refresh control-bar__refresh hide"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/Filters.html":'\x3cdiv class\x3d"view--filters js-filters-mobile-wrap" id\x3d"view-filters-wrap"\x3e\r\n  \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"view--filters--wrap flex-column"\x3e\r\n    \x3cdiv class\x3d"view--filters--header clearfix flex-0"\x3e\r\n      \x3ch3 class\x3d"trailer-0 font-size-1"\x3e\r\n        ${i18n.controlBar.filter}\r\n        \x3cbutton class\x3d"js-collapse-filters-button control-bar__dropdown-menu__close control-bar__dropdown-menu__close--flush control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n          ${icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/h3\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-filters-insert flex-1 view--filters--content leader-quarter"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"view--filters--footer flex-0"\x3e\r\n      \x3cbutton class\x3d"btn display-block margin-auto js-collapse-filters-button js-view-filter-results-button"\x3e${i18n.controlBar.viewResults}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterStatus.html":'\x3cdiv class\x3d"padding-left-1 inline-block flex-1 filter-chip-wrap hide" data-dojo-attach-point\x3d"filterChipWrap"\x3e\r\n    \x3cspan class\x3d"font-size--2 margin-right-half filter-chips-label"\x3e${i18n.GroupWidget.filters}\x3c/span\x3e\r\n    \x3cspan class\x3d"margin-right-half break-word filter-chips" data-dojo-attach-point\x3d"filterChips"\x3e\x3c/span\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-off-black font-size--2 filter-clear-all" data-dojo-attach-point\x3d"clearAll"\x3e${i18n.GroupWidget.clearAll}\x3c/a\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterChip.html":'\x3cspan class\x3d"filter-chip margin-right-half js-filter-chip" data-filter\x3d"${filter.param}" data-value\x3d"${selected.value}"\x3e\r\n  \x3cspan class\x3d"filter-chip-text"\x3e${filter.chipText} ${selected.label}\x3c/span\x3e\r\n  \x3cbutton\r\n    class\x3d"filter-chip--remove js-filter-chip-remove"\r\n    data-filter\x3d"${filter.param}"\r\n    data-value\x3d"${selected.value}"\r\n    aria-label\x3d"${i18n.FilterDlg.removeFilterBtn}: \'${filter.chipText} ${selected.simpleLabel}\'"\r\n  \x3e${icons.x.16}\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/ToggleSwitch/templates/ToggleSwitch.html":'\x3clabel class\x3d"toggle-switch clearfix ${labelClasses} ${hasTooltip}" for\x3d"${uid}"\x3e\r\n  \x3cinput id\x3d"${uid}" type\x3d"checkbox" class\x3d"toggle-switch-input" aria-label\x3d"${label}" data-dojo-attach-point\x3d"_checkbox"\x3e\r\n  \x3cspan class\x3d"toggle-switch-track ${direction}" data-dojo-attach-point\x3d"toggleTrack"\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"inline-block margin-${direction}-half toggle-switch-label ${tooltipClass} padding-leader-quarter padding-trailer-quarter" data-dojo-attach-point\x3d"_label"\x3e\r\n    \x3cspan class\x3d"toggle-switch-label--text" data-dojo-attach-point\x3d"labelWrapper"\x3e${!label}\x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loaderContainer" class\x3d"toggle-switch__loader-container hide"\x3e\r\n    \x3ccalcite-loader scale\x3d"l" inline data-dojo-attach-point\x3d"loader"\x3e\x3c/calcite-loader\x3e\r\n  \x3c/div\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingleWithSearch/templates/FilterSingleWithSearch.html":'\x3csection class\x3d"accordion-section ${activeClass} ${cssClasses}"\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title" tabindex\x3d"0"\x3e${!icons.chevron-down.16}${title}\x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content"\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_searchContainer"\x3e\r\n          \x3cinput class\x3d"filters--accordion--input" type\x3d"search" data-dojo-attach-point\x3d"_searchInput" placeholder\x3d"${searchText}" aria-label\x3d"${searchText}"\x3e\r\n      \x3c/div\x3e\r\n    \x3cdiv class\x3d"filters--accordion--content max-height max-height--short ${filterCssClasses} filter-scroll"  data-dojo-attach-point\x3d"_filterList"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterSingle.html":'\x3cul class\x3d"filter-tree" role\x3d"listbox"\x3e${list}\x3c/ul\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item filter-tree-item-single ${selected} js-filter-item" data-value\x3d"${value}"\x3e\r\n  \x3ca role\x3d"option" aria-selected\x3d"false" href\x3d"#" title\x3d"${label}" class\x3d"filter-tree-link js-filter-link" data-param\x3d"${param}" data-value\x3d"${value}"\x3e${label} \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/ClearAll.html":'\x3cbutton class\x3d"js-clear-filter btn-link btn-link-off-black font-size--3 right ${hide}" data-filter-param\x3d"${param}"\x3e${i18n.groupSelector.clear}\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/FilterDate/templates/FilterDate.html":'\x3cul class\x3d"filter-tree"\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"today"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.today}" data-value\x3d"today"\x3e${i18n.filters.today}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"yesterday"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.yesterday}" data-value\x3d"yesterday"\x3e${i18n.filters.yesterday}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last7Days"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last7Days}" data-value\x3d"last7Days"\x3e${i18n.filters.last7Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last30Days"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last30Days}" data-value\x3d"last30Days"\x3e${i18n.filters.last30Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item hide" data-dojo-attach-point\x3d"_neverOption" data-value\x3d"never"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.never}" data-value\x3d"never"\x3e${i18n.filters.never}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"custom"\x3e\r\n    \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.customRange}" data-value\x3d"custom"\x3e${i18n.filters.customRange}\x3c/a\x3e\r\n    \x3cdiv class\x3d"js-custom-date-select hide font-size--3 margin-left-1 margin-right-0"\x3e\r\n      \x3clabel class\x3d"trailer-quarter" for\x3d"${uid}-start"\x3e\r\n        ${i18n.filters.from}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-start" data-dojo-attach-point\x3d"customStart" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customStartError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"trailer-0" for\x3d"${uid}-end"\x3e\r\n        ${i18n.filters.to}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-end" data-dojo-attach-point\x3d"customEnd" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customEndError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/li\x3e\r\n\x3c/ul\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterOrganizationGroups/templates/FilterOrganizationGroups.html":'\x3csection class\x3d"accordion-section ${activeClass} ${cssClasses}" title\x3d"${title}"\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title" tabindex\x3d"0"\x3e${!icons.chevron-down.16}${title}\x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content"\x3e\r\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_searchContainer"\x3e\r\n        \x3cinput class\x3d"filters--accordion--input" type\x3d"search" data-dojo-attach-point\x3d"_searchInput" placeholder\x3d"${searchText}" aria-label\x3d"${searchText}"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"filters--accordion--content max-height max-height--short min-heigt filter--wrap filter-scroll" data-dojo-attach-point\x3d"_filterListWrap"\x3e\x3c/div\x3e\r\n    \x3cp class\x3d"trailer-0 font-size--3 padding-left-2 padding-right-2 padding-trailer-half hide"\r\n      data-dojo-attach-point\x3d"_noResults"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCollabOrgs/FilterCollabOrgs.html":'\x3csection class\x3d"accordion-section is-active"\x3e\r\n  \x3cdiv class\x3d"font-size--1 collab-toggle-container hide" data-dojo-attach-point\x3d"coordsToggleContainer"\x3e\r\n    \x3cdiv class\x3d"js-collab-contacts-toggle"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title" tabindex\x3d"0"\x3e\r\n    ${!icons.chevron-down.16}${i18n.searchFilters.collabOrgs}\r\n  \x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content"\x3e\r\n    \x3cdiv\r\n      class\x3d"filters--accordion--content max-height max-height--short ${filterCssClasses} filter-scroll"\r\n      data-dojo-attach-point\x3d"filterList"\r\n    \x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/FilterCategoryWrapper.html":'\x3csection class\x3d"accordion-section is-active js-filter-category-container"\x3e\r\n  \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.contentCategories.categories}\x3c/h4\x3e\r\n  \x3cdiv class\x3d"accordion-content max-height filters--accordion--content"\x3e\r\n    \x3cdiv class\x3d"js-filter-category"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',"url:arcgisonline/pages/dijit/FilterCategory/templates/FilterCategory.html":'\x3cdiv\x3e\r\n  \x3c!-- if categories exist --\x3e\r\n  \x3cdiv class\x3d"js-category-filter hide"\x3e\r\n    \x3cul class\x3d"filter-tree js-uncategorized" role\x3d"tree"\x3e\x3c/ul\x3e\r\n    \x3cul class\x3d"filter-tree js-category-root position-relative" role\x3d"tree"\x3e\x3c/ul\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- if no categories but user is able to set up --\x3e\r\n  \x3cdiv class\x3d"padding-left-1 padding-right-1 js-no-categories-action hide"\x3e\r\n    \x3ch5 class\x3d"font-size-0 avenir-regular leader-half trailer-quarter"\x3e${noCategoriesText}\x3c/h5\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half"\x3e${filterDescription}\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small btn-wrap btn-clear trailer-half js-setup-categories"\x3e${setupText}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Category.html":'\x3cli class\x3d"js-filter-tree-item filter-tree-item-single filter-tree-item ${isActive} ${isParent}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3ca href\x3d"#" title\x3d"${title}" class\x3d"filter-tree-link js-filter-tree-link" data-category-name\x3d"${title}" data-category-path\x3d"${path}" data-category-description\x3d"${description}"\x3e\r\n    ${title}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"${normalizedPath}"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Uncategorized.html":'\x3cli class\x3d"js-filter-tree-item-uncategorized filter-tree-item-single filter-tree-item"\x3e\r\n  \x3ca href\x3d"#" class\x3d"js-filter-tree-link-uncategorized filter-tree-link"\x3e\r\n    ${i18n.contentCategories.uncategorized}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"_none_"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/FilterCategory/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"group"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/FilterCategory/templates/EditSchemaButton.html":'\x3cbutton class\x3d"js-edit-categories btn-link btn-link-off-black margin-left-1 font-size--3 inline-block tooltip hide" aria-label\x3d"${contentCategoriesStrings.configureCategories}"\x3e${icons.edit.16}\r\n\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/CategoryEdit/templates/CategoryEdit.html":'\x3cdiv class\x3d"grid-container"\x3e\r\n  \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-content-loading is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-category-wrapper hide"\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-setup-explanation hide"\x3e\r\n      \x3cnav class\x3d"category-setup-options js-standard-categories-nav"\x3e\r\n        \x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option is-active" data-category-set\x3d"custom"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e${i18n.contentCategories.customTitle}\x3c/h4\x3e\r\n          \x3cp class\x3d"font-size--3 trailer-0"\x3e${i18n.contentCategories.customText}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-14 pre-1 post-1 leader-1 trailer-1"\x3e\r\n      \x3cdiv class\x3d"js-category-container"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-edit-explanation"\x3e\r\n      \x3cp\x3e${i18n.contentCategories.editCategorySchemaExplanation}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Node.html":'\x3cli class\x3d"category-editor-item category-editor-item__offset ${isOpen} ${isParent} js-category-edit-li" role\x3d"treeitem" data-category-path\x3d"${path}"\x3e\r\n  \x3cbutton class\x3d"category-editor-expand category-edit-expand__absolute js-toggle-item"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-dot"\x3e\r\n      \x3ccircle cx\x3d"8" cy\x3d"16" r\x3d"4"\x3e\x3c/circle\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-minus"\x3e\r\n      \x3cpath d\x3d"M15 17H1v-2h14v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-plus"\x3e\r\n      \x3cpath d\x3d"M15 17H9v6H7v-6H1v-2h6V9h2v6h6v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cspan class\x3d"category-edit-item js-category-edit-item" data-current-category\x3d"${title}"\x3e\r\n    \x3cspan class\x3d"category-edit-item--title js-category-edit-title"\x3e${title} \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path:lowerCase}"\x3e\x3c/span\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"category-edit-item--actions js-category-edit-actions inline-block right if-renameDeleteFromSchema"\x3e\r\n      \x3cbutton class\x3d"tooltip category-edit-item--action js-category-edit-button" aria-label\x3d"${i18n.contentCategories.editCategory}"\x3e\r\n        ${icons.edit.16}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"tooltip tooltip-bottom-right category-edit-item--action category-edit-item--action--delete js-category-delete-button" aria-label\x3d"${i18n.contentCategories.deleteCategory}"\x3e\r\n        ${icons.trash.16}\r\n      \x3c/button\x3e\r\n    \x3c/span\x3e\r\n    \x3cform class\x3d"category-edit-form flex js-category-edit-form"\x3e\r\n      \x3clabel class\x3d"flex-1 overflow-visible trailer-0" for\x3d"category-editor-${title:hyphenate}-input"\x3e\r\n        \x3cspan class\x3d"screen-readers-only"\x3e${i18n.contentCategories.categoryName}\x3c/span\x3e\r\n        \x3cinput id\x3d"category-editor-${title:hyphenate}-input" type\x3d"text" value\x3d"${title}" class\x3d"js-category-item-input category-edit-form__input"\x3e\r\n        \x3cdiv class\x3d"js-category-item-input-error input-error-message"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3cspan class\x3d"category-edit-form__actions"\x3e\r\n        \x3cbutton class\x3d"js-category-edit-submit tooltip tooltip-bottom btn-link category-edit-form__action category-edit-form__action--green" type\x3d"submit" disabled aria-label\x3d"${saveText}"\x3e${icons.check.24}\x3c/button\x3e\r\n        \x3cbutton class\x3d"js-category-cancel-edit tooltip tooltip-bottom btn-link category-edit-form__action" aria-label\x3d"${i18n.common.cancel}"\x3e${icons.x.24}\x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/form\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"category-edit--delete-warning category-edit--messaging js-category-edit-delete-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-explanation font-size--1 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-red btn-small js-delete-confirm"\x3e${i18n.contentCategories.deleteCategory}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-delete"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--edit-warning category-edit--messaging js-category-edit-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-0"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-edit-explanation font-size--2 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small js-edit-confirm"\x3e${i18n.contentCategories.continue}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-edit calcite-web-btn calcite-web-btn-clear"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--loader category-edit--messaging js-category-loader hide"\x3e\r\n    \x3ch4 class\x3d"trailer-half font-size-1"\x3e${i18n.contentCategories.updating}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2"\x3e${i18n.contentCategories.noNavigate}\x3c/p\x3e\r\n    \x3cdiv class\x3d"progress-bar leader-1 margin-left-0"\x3e\r\n      \x3cdiv class\x3d"progress-bar-fill progress-bar-fill--blue js-category-loader-bar"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"js-loading-message font-size--2 leader-half padding-left-1 text-right"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Group.html":'\x3cul role\x3d"group" class\x3d"category-editor-group category-editor-group--spaced js-category-group"\x3e\r\n  ${categories}\r\n  \x3cbutton class\x3d"js-add-sibling category-editor-add-sibling tooltip tooltip-right" aria-label\x3d"${ariaText}" data-category-path\x3d"${path}"\x3e\r\n    \x3csvg class\x3d"category-editor-add-sibling-icon" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"20" height\x3d"20" viewBox\x3d"0 0 16 16"\x3e\r\n      \x3cpath fill\x3d"#828282" d\x3d"M12 8.57H8.572V12H7.429V8.57H4V7.428h3.429V4h1.144v3.428H12V8.57z"/\x3e\r\n      \x3ccircle fill\x3d"none" stroke\x3d"#828282" stroke-miterlimit\x3d"10" stroke-dasharray\x3d"1.9519,0.9759" cx\x3d"8" cy\x3d"8" r\x3d"7"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/ul\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/_count.html":'\x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path}"\x3e(${num})\x3c/span\x3e',"url:arcgisonline/pages/dijit/CategoryEdit/templates/_standard.html":'\x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option" data-category-set\x3d"${key}"\x3e\r\n  \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e\r\n    ${title}\r\n    \x3ca href\x3d"${helpBase}${helpLink}" aria-label\x3d"${i18n.addItemFrm.learnMore}" class\x3d"tooltip right" target\x3d"_blank"\x3e\r\n      \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"currentColor" d\x3d"M11.5 1A10.5 10.5 0 1 0 22 11.5 10.499 10.499 0 0 0 11.5 1zm0 20.1a9.6 9.6 0 1 1 9.6-9.6 9.61 9.61 0 0 1-9.6 9.6zM13 18h-3v-1h1V8h1v9h1zM11.5 6.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM12 9h-2V8h2z"/\x3e\x3c/svg\x3e\r\n    \x3c/a\x3e\r\n  \x3c/h4\x3e\r\n  \x3cp class\x3d"font-size--3 trailer-0"\x3e${description}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/SelectedMembers/templates/SelectedMembers.html":'\x3cdiv class\x3d"dropdown ${_directionClass} js-dropdown"\x3e\r\n  \x3cbutton data-dojo-attach-point\x3d"toggleBtn" class\x3d"btn-link flex font-size--1 assign-licenses__members-dropdown js-dropdown-toggle ${buttonClasses}"\x3e\r\n    \x3cdiv class\x3d"assign-licenses__members-text" data-dojo-attach-point\x3d"_membersSelectedLabel"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"assign-licenses__members-dropdown-arrow"\x3e\r\n      \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" id\x3d"icons" viewBox\x3d"0 0 16 16"\x3e\r\n        \x3cpath d\x3d"M5 1.5l7 7-7 7zm1 11.586L10.586 8.5 6 3.914z"\x3e\x3c/path\x3e\r\n      \x3c/svg\x3e\r\n    \x3c/div\x3e\r\n  \x3c/button\x3e\r\n  \x3cnav class\x3d"dropdown-menu dropdown-${_directionClass} ${_sectionsClass} assign-licenses__members-selected-panel" role\x3d"menu" data-dojo-attach-point\x3d"_selectedMembersPanel"\x3e\r\n  \x3c/nav\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/AssignLicenses/templates/MembersSelectedRow.html":'\x3cli class\x3d"flex margin-left-0 trailer-half margin-right-half"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_memberThumb"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 members-selected-row__full-name"\x3e\r\n    ${member.fullName}\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn-link member-selected-row__close-btn" data-dojo-attach-point\x3d"_removeBtn"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" id\x3d"icons" viewBox\x3d"0 0 16 16"\x3e\r\n      \x3cpath d\x3d"M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/AssignLicenses/templates/MembersSelectedSection.html":'\x3csection class\x3d"members-selected-section"\x3e\r\n    \x3cdiv class\x3d"font-size--3 trailer-half" data-dojo-attach-point\x3d"_licenseTypesLabel"\x3e\x3c/div\x3e\r\n    \x3cul class\x3d"list-plain margin-left-0 trailer-0 max-height" data-dojo-attach-point\x3d"_list"\x3e\x3c/ul\x3e\r\n\x3c/section\x3e\r\n',"url:arcgisonline/pages/group/widgets/templates/members/invite.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-group-invite-browser"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/members/invite-loader.html":'\x3cdiv class\x3d"leader-1 trailer-1"\x3e\r\n  \x3cp class\x3d"font-size--1"\x3e${text}\x3c/p\x3e\r\n  \x3cdiv class\x3d"progress-bar progress-bar--flush js-progress-bar"\r\n       role\x3d"progressbar" \r\n       aria-valuenow\x3d"0" \r\n       aria-valuemin\x3d"0" \r\n       aria-valuemax\x3d"100"\x3e\r\n    \x3cdiv class\x3d"progress-bar-fill progress-bar-fill--blue js-progress-bar-fill" style\x3d"width:0%"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cp class\x3d"trailer-0 font-size--2 js-progress-bar-percentage"\x3e0%\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/templates/members/invite-error.html":'\x3cdiv\x3e\r\n  \x3cp class\x3d"leader-half trailer-half"\x3e${errorStrings.text}\x3c/p\x3e\r\n  \x3cdiv class\x3d"js-notadded max-height"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/group/widgets/templates/members/invite-error-row.html":'\x3cdiv class\x3d"flex panel panel-white ${border}"\x3e\r\n  \x3cdiv class\x3d"js-member-thumbnail"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half"\x3e\r\n    \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0"\x3e${fullName}\x3c/h4\x3e\r\n    \x3cp class\x3d"trailer-0 font-size--2"\x3e${username}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/ThumbnailDlg.html":'\x3cdiv data-dojo-attach-point\x3d"contentNode" class\x3d"content-node"\x3e\r\n  \x3ccanvas data-dojo-attach-point\x3d"_canvasNode" hidden\x3e\x3c/canvas\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_dragDropNode" draggable\x3d"true"\x3e\r\n    \x3cdiv class\x3d"text-center panel panel-dashed"\x3e\r\n      \x3cdiv class\x3d"icon--large trailer-half leader-quarter text-dark-gray"\x3e\r\n        ${!icons.upload.32}\r\n      \x3c/div\x3e\r\n      \x3cp data-dojo-attach-point\x3d"_message" class\x3d"trailer-0"\x3e\r\n        \x3cspan class\x3d"display-block font-size-1"\x3e${i18n.GroupWidget.thumbnailDlg.dragDrop}\x3c/span\x3e\r\n        \x3cspan class\x3d"display-block font-size--2" data-dojo-attach-point\x3d"_sizeSuggestion"\x3e${i18n.GroupWidget.thumbnailDlg.sizeSpec}\x3c/span\x3e\r\n      \x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"text-center leader-1 trailer-half"\x3e\r\n      \x3cb class\x3d"horizontal-lines"\x3e\x3cspan\x3e${i18n.GroupWidget.thumbnailDlg.or}\x3c/span\x3e\x3c/b\x3e\r\n    \x3c/p\x3e\r\n    \x3cform data-dojo-attach-point\x3d"_thumbnailForm" enctype\x3d"multipart/form-data" class\x3d"text-left"\x3e\r\n      \x3clabel for\x3d"browse-for-thumbnail"\x3e\r\n        ${i18n.GroupWidget.thumbnailDlg.browseFile}\r\n        \x3cinput name\x3d"browse-for-thumbnail" id\x3d"browse-for-thumbnail" type\x3d"file" accept\x3d".jpg,.gif,.png,image/jpg,image/gif,image/png" data-dojo-attach-point\x3d"_fileInput"/\x3e\r\n      \x3c/label\x3e\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_cropNode" class\x3d"edit-thumb-display hide"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_cropThumbContainer" class\x3d"crop-thumb-container"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_thumbTranslucentContainer" class\x3d"crop-thumb-translucent"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_thumbTransparentContainer" class\x3d"crop-thumb-clear"\x3e\r\n          \x3cimg data-dojo-attach-point\x3d"_previewImage" class\x3d"preview-image"\x3e\x3c/img\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3clabel class\x3d"trailer-half leader-half" for\x3d"group-thumbnail-upload-zoom-slider"\x3e\r\n      ${i18n.GroupWidget.thumbnailDlg.zoom}\r\n      \x3cinput id\x3d"group-thumbnail-upload-zoom-slider" type\x3d"range" data-dojo-attach-point\x3d"_zoomSlider"\x3e\x3c/input\x3e\r\n      \x3cspan class\x3d"clearfix"\x3e\r\n        \x3cspan class\x3d"left inline-block leader-half"\x3e${!icons.image.16}\x3c/span\x3e\r\n        \x3cspan class\x3d"right"\x3e${!icons.image.32}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/MembershipRequestsDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"${baseClass} membership-requests-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.membershipRequests}"\x3e\r\n    \x3cdiv class\x3d"membership-requests-label"\x3e${i18n.requestedMemberShip}\x3c/div\x3e\r\n    \x3cdiv class\x3d"${baseClass} requests-container"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_requestsGridContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr style\x3d"clear:both;"\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing right" style\x3d"padding-top:1rem;padding-bottom:5px;"\x3e\r\n      \x3cbutton data-dojo-attach-point\x3d"_closeBtn" class\x3d"jevent primary" data-dojo-type\x3d"dijit/form/Button"\x3e${i18n.close}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr/\x3e\x26nbsp;\x3cbr/\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/JoinGroupDlg.html":'\x3cdiv class\x3d"widgetContent"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" id\x3d"join_group-dialog" class\x3d"join-group-dialog" title\x3d"${i18n.joinGroupTitle}"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_joinGroupContent"\x3e\r\n      ${i18n.yourRequestForReview}\r\n      \x3cbr\x3e\r\n      ${i18n.youCanCheckStatus}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide leader-half" data-dojo-attach-point\x3d"_administrativeGroup"\x3e\r\n      ${i18n.leavingDisabled}\r\n    \x3c/div\x3e\r\n    \x3cbr\x3e\r\n      \x3cdiv class\x3d"esriFloatTrailing right leader-1"\x3e\r\n        \x3cbutton data-dojo-attach-point\x3d"_okBtn" class\x3d"btn btn-blue"\x3e${i18n.submitRequest}\x3c/button\x3e\r\n        \x3cbutton data-dojo-attach-point\x3d"_cancelBtn" class\x3d"btn btn-clear"\x3e${i18n.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/InvitationsDlg.html":'\x3cdiv\x3e\r\n  \t\x3cdiv data-dojo-type\x3d"dijit/Dialog" class\x3d"${baseClass} invitations-dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.invitationsDlgTitle}"\x3e\r\n      \x3cdiv class\x3d"trailer-half"\x3e${i18n.invitationMsg}\x3c/div\x3e\r\n      \x3cdiv class\x3d"${baseClass} invitations-container padding-leader-quarter"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_invitationsGridContainer"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"clearfix"\x3e\r\n        \x3cdiv class\x3d"esriFloatTrailing right" style\x3d"padding-top:1rem; padding-bottom:5px;"\x3e\r\n          \x3cbutton data-dojo-attach-point\x3d"_closeBtn" class\x3d"jevent primary" data-dojo-type\x3d"dijit/form/Button" tabIndex\x3d"1"\x3e${i18n.close}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n  \t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/InvitationsDlgGroup.html":'\x3cdiv class\x3d"avenir-regular"\x3e\r\n  \x3cdiv class\x3d"panel panel-white panel-no-padding padding-leader-half padding-trailer-quarter padding-left-1 padding-right-1 border-bottom-clear"\x3e\r\n    \x3cdiv class\x3d"left"\x3e\r\n      \x3cdiv class\x3d"inline-block  ${isPrivate:show}"\x3e\r\n        \x3ca href\x3d"group.html?id\x3d${id}" class\x3d"card-image-small display-block margin-right-1 margin-left-0 group-card-thumbnail" title\x3d"${i18n.GroupsWidget.viewGroupDetails}"\x3e\r\n          \x3cimg src\x3d"${thumbnailUrl}" alt\x3d"${title}" class\x3d"${thumbnail:hide}"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"${thumbnail:show}"\x3e\r\n            \x3cpath fill\x3d"${fillColor}" d\x3d"M0 0h65v65H0z"/\x3e\r\n            \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n            \x3cpath class\x3d"${useLetter:show}" fill\x3d"#FFF" d\x3d"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"/\x3e\r\n            \x3ctext class\x3d"${useLetter:hide} font-size-4" x\x3d"50%" y\x3d"50%" fill\x3d"white" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e\r\n              \x3ctspan class\x3d"group-thumbnail-default-text" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${title:firstChar}\x3c/tspan\x3e\r\n              \x3ctspan class\x3d"group-thumbnail-ie-text" y\x3d"70%" x\x3d"55%" dominant-baseline\x3d"central" text-anchor\x3d"middle"\x3e${title:firstChar}\x3c/tspan\x3e\r\n            \x3c/text\x3e\r\n          \x3c/svg\x3e\r\n        \x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"inline-block  ${isPrivate:hide}"\x3e\r\n        \x3cdiv class\x3d"card-image-small display-block margin-right-1 margin-left-0 group-card-thumbnail"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"65" height\x3d"65" viewBox\x3d"0 0 65 65" class\x3d"${thumbnail:show}"\x3e\r\n            \x3cpath fill\x3d"#AAA" d\x3d"M0 0h65v65H0z"/\x3e\r\n            \x3cpath fill\x3d"#ccc" d\x3d"M0 0h65v65H0z" fill-opacity\x3d"0.8"/\x3e\r\n            \x3cpath fill\x3d"#FFF" d\x3d"M42.5 30.5h-20c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-20v-14h20v14zm-14-20c0-2.205 1.794-4 4-4s4 1.795 4 4v4h2v-4c0-3.309-2.691-6-6-6s-6 2.691-6 6v4h2v-4zm-4 0c0-4.4 3.6-8 8-8s8 3.6 8 8v4h2v-4c0-5.514-4.486-10-10-10s-10 4.486-10 10v4h2v-4zm10 12v-2h-2v-2h-2v10h2v-2h2v-2h-2v-2h2z"/\x3e\r\n          \x3c/svg\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"group-card-content border-box right"\x3e\r\n      \x3ch4 class\x3d"trailer-0 leader-quarter font-size-1 full-width text-ellipsis margin-right-1 text-left"\x3e\r\n        \x3ca href\x3d"group.html?id\x3d${id}" title\x3d"${title}" class\x3d"text-ellipsis ${isPrivate:show}"\x3e${title:stripHTML}\x3c/a\x3e\r\n        \x3cspan class\x3d"text-ellipsis ${isPrivate:hide}" title\x3d"${title}"\x3e${title:stripHTML}\x3c/span\x3e\r\n      \x3c/h4\x3e\r\n      \x3cp class\x3d"trailer-0 text-left"\x3e${notificationSummary}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"panel panel-no-padding padding-leader-quarter padding-trailer-quarter padding-left-quarter padding-right-quarter clearfix"\x3e\r\n    \x3cdiv class\x3d"right"\x3e\r\n      \x3cbutton class\x3d"js-accept-invitation btn btn-link btn-link-off-black margin-right-1 margin-left-0 inline-block"\x3e\x3cspan class\x3d"text-green"\x3e${icons.inline.check.16}\x3c/span\x3e${i18n.invitationsGrid.joinThisGroup}\x3c/button\x3e\r\n      \x3cbutton class\x3d"js-decline-invitation btn btn-link btn-link-off-black margin-right-1 margin-left-0 inline-block"\x3e\x3cspan class\x3d"text-red"\x3e${icons.inline.minus-circle.16}\x3c/span\x3e${i18n.invitationsGrid.decline}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/GroupSelector.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"marginTop1" data-dojo-attach-point\x3d"_searchControls"\x3e\r\n    \x3clabel data-dojo-attach-point\x3d"_searchLabel"\x3e${i18n.searchByName}\x3c/label\x3e\x3cbr/\x3e\r\n    \x3cspan class\x3d"searchControls"\x3e\r\n      \x3cinput type\x3d"text" class\x3d"groupSearch"\r\n             data-dojo-attach-point\x3d"_searchBox"\r\n             data-dojo-type\x3d"dijit/form/TextBox"\x3e\r\n      \x3cbutton class\x3d"clearSearchBtn" data-dojo-attach-point\x3d"_clearSearchBtn"\r\n              style\x3d"display:none;"\x3e${!icons.x.16}\x3c/button\x3e\r\n      \x3cbutton class\x3d"searchBtn" data-dojo-attach-point\x3d"_searchBtn" title\x3d"${i18n.search}"\x3e${!icons.search.16}\x3c/button\x3e\r\n    \x3c/span\x3e\r\n    \x3clabel data-dojo-attach-point\x3d"_restrictSearchControl" style\x3d"display:none;" class\x3d"trailer-0"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_restrictSearch"\r\n           data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-props\x3d"type:\'checkbox\', checked:true"\x3e\x3c/div\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"_restrictSearchLabel"\x3e\x3c/span\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"marginTop1 leader-1"\x3e\r\n    \x3ctable class\x3d"marginTop1 group-selector-table" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd class\x3d"column270"\x3e\r\n            \x3clabel data-dojo-attach-point\x3d"_groupsClickLabel"\x3e${i18n.clickToAdd}\x3c/label\x3e\r\n            \x3cdiv class\x3d"groupListLabel clearfix"\x3e\r\n              \x3cdiv class\x3d"left" data-dojo-attach-point\x3d"_groupListLabel"\x3e${i18n.groups}\x3c/div\x3e\r\n              \x3cdiv class\x3d"esriFloatTrailing right actionLink" data-dojo-attach-point\x3d"_addAllContainer"\x3e\r\n                \x3cspan class\x3d"esriItemLinks"\x3e\x3ca data-dojo-attach-point\x3d"_addAll" class\x3d"pointer" tabindex\x3d"0"\x3e${i18n.addAll}\x3c/a\x3e\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"_groupsPane" class\x3d"group-list"\x3e\r\n                \x3c!-- group list is populated here --\x3e\r\n              \x3c/div\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"column10"\x3e\x3c/td\x3e\r\n          \x3ctd class\x3d"column270"\x3e\r\n            \x3clabel data-dojo-attach-point\x3d"_selectedGroupsClickLabel"\x3e${i18n.clickToRemove}\x3c/label\x3e\r\n            \x3cdiv class\x3d"groupListLabel selectedGroupListLabel clearfix"\x3e\r\n              \x3cdiv class\x3d"left" data-dojo-attach-point\x3d"_selectedGroupListLabel"\x3e${i18n.selectedGroups}\x3c/div\x3e\r\n              \x3cdiv class\x3d"esriFloatTrailing right actionLink" data-dojo-attach-point\x3d"_clearAllContainer"\x3e\r\n                \x3cspan class\x3d"esriItemLinks"\x3e\x3ca data-dojo-attach-point\x3d"_clearAll" class\x3d"pointer" tabindex\x3d"0"\x3e${i18n.clear}\x3c/a\x3e\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"_selectedGroupsPane" class\x3d"group-list"\x3e\r\n                \x3c!-- selected group list is populated here --\x3e\r\n              \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/CreateGroup/templates/CreateGroup.html":'\x3cdiv class\x3d"create-group"\x3e\r\n  \x3cdiv class\x3d"js-overview"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-membership-preact trailer-1"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-membership"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-group-designations"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/group/widgets/CreateGroup/templates/Overview.html":'\x3cdiv class\x3d"create-group-card"\x3e\r\n  \x3ch2 class\x3d"font-size-2 avenir-demi trailer-1"\x3e${i18n.overview}\x3c/h2\x3e\r\n  \x3cdiv class\x3d"flex create-group-card__body"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cdiv class\x3d"js-name-input"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-summary-input"\x3e\x3c/div\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"tagsLabel"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.tagsLabel}\x3c/span\x3e\r\n        \x3cdiv id\x3d"groupTagsInput" class\x3d"js-tags"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-left-2"\x3e\r\n      \x3cdiv class\x3d"create-group__img-container"\x3e\r\n        \x3cimg data-dojo-attach-point\x3d"thumbImg" class\x3d"hide"\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half"\x3e\r\n        \x3cbutton class\x3d"btn-link" data-dojo-attach-point\x3d"uploadBtn"\x3e${!icons.inline.upload-to.16} ${i18n.uploadImage}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation.html":'\x3clabel for\x3d"${uid}"\x3e\r\n  \x3cspan class\x3d"${labelClass}"\x3e${labelText}\x3c/span\x3e\r\n  \x3cdiv class\x3d"avenir-regular ${labelDescription:hide}"\x3e${labelDescription}\x3c/div\x3e\r\n  \x3cinput type\x3d"text" class\x3d"js-text-input hide"\x3e\r\n  \x3ctextarea class\x3d"js-textarea hide" placeholder\x3d"${placeholder}"\x3e\x3c/textarea\x3e\r\n  \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"errorMsg"\x3e\x3c/div\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/dijit/TextboxWithValidation/UrlTextbox.html":'\x3clabel for\x3d"${uid}"\x3e\r\n  ${labelText}\r\n  \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"url-textbox__protocol"\x3ehttps://\x3c/div\x3e\x3cinput class\x3d"flex-1 url-textbox__input js-text-input" type\x3d"text"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"errorMsg"\x3e\x3c/div\x3e\r\n\x3c/label\x3e\r\n',"url:arcgisonline/pages/group/widgets/CreateGroup/templates/Membership.html":'\x3cdiv class\x3d"create-group-card"\x3e\r\n  \x3ch2 class\x3d"font-size-2 avenir-demi trailer-1"\x3e${i18n.membership}\x3c/h2\x3e\r\n  \x3cdiv class\x3d"create-group-card__body"\x3e\r\n    \x3cdiv class\x3d"trailer-1 js-view-section"\x3e\r\n      \x3cdiv class\x3d"avenir-demi"\x3e${i18n.whoCanView}\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-view-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"membershipSection"\x3e\r\n      \x3cdiv class\x3d"avenir-demi"\x3e${i18n.whoCanJoin}\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-member-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1"\x3e\r\n      \x3cdiv class\x3d"trailer-0"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.joinBy}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-join-options"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-quarter" data-dojo-attach-point\x3d"joinDesc"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-quarter" data-dojo-attach-point\x3d"enterpriseInputContainer"\x3e\r\n        \x3cdiv class\x3d"js-group-name-wrapper"\x3e\r\n          \x3cdiv class\x3d"js-enterprise-group-input"\x3e\x3c/div\x3e\r\n          \x3cbutton type\x3d"button" data-dojo-attach-point\x3d"searchEnterpriseBtn" class\x3d"btn btn-clear btn-small leader-half hide"\x3e\r\n            ${i18n.enterpriseGroups.selectLabel}\r\n          \x3c/button\x3e\r\n          \x3cdiv class\x3d"hide flex leader-1" data-dojo-attach-point\x3d"enterpriseButtons"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"cancelEnterpriseBtn" class\x3d"btn btn-clear margin-right-half"\x3e${i18n.cancel}\x3c/button\x3e\r\n            \x3cbutton class\x3d"btn" data-dojo-attach-point\x3d"saveEnterpriseBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"trailer-1"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.contributeBy}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-contribute-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"membersSection"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.displayMembersTo}\x3cbutton data-dojo-attach-point\x3d"hideMembersTooltip" class\x3d"btn-link margin-left-quarter tooltip tooltip-multiline" aria-label\x3d"${i18n.hideMembersTip}"\x3e\x3ccalcite-icon icon\x3d"question" scale\x3d"s" flip-rtl\x3d"${isArabic}"\x3e\x3c/calcite-icon\x3e\x3c/button\x3e\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-display-options"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"editViewMembersSection"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"viewMembersValue"\x3e\x3c/div\x3e\r\n        \x3cbutton class\x3d"btn btn-clear leader-half" data-dojo-attach-point\x3d"hideMembersBtn"\x3e${i18n.hideMembers}\x3c/button\x3e\r\n        \x3cdiv class\x3d"hide-members-note leader-half"\x3e${i18n.whoCanSeeMembersNote}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SelectOption/SelectOption.html":'\x3cdiv class\x3d"font-size--1 position-relative"\x3e\r\n  \x3cinput class\x3d"radio-group-input" id\x3d"${name}-${value}-option" data-dojo-attach-point\x3d"radio" type\x3d"radio" name\x3d"${name}" value\x3d"" \x3e\r\n  \x3clabel class\x3d"radio-group-label ${labelClass}" for\x3d"${name}-${value}-option" data-dojo-attach-point\x3d"selectLabel"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"iconContainer" class\x3d"hide trailer-quarter"\x3e\x3c/div\x3e\r\n    ${text}\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SelectOption/SelectOptionRadio.html":'\x3clabel data-dojo-attach-point\x3d"selectLabel" class\x3d"flex select-option__radio-label font-size--1"\x3e\r\n  \x3cinput type\x3d"radio" name\x3d"${name}" data-dojo-attach-point\x3d"radio" \x3e\r\n  ${text}\r\n\x3c/label\x3e\r\n',"url:arcgisonline/pages/group/widgets/templates/HideMembers.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"alert alert-yellow is-active"\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-yellow" aria-label\x3d"${i18n.GroupWidget.warningIcon}"\x3e\r\n        ${icons.exclamation-mark-triangle.32}\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0"\x3e\r\n        ${i18n.GroupWidget.noRevert}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cp class\x3d"padding-leader-1 padding-left-1 padding-right-1"\x3e${i18n.GroupWidget.hideMembersDlg.description}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/SelectEnterpriseGroupDlg.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" id\x3d"select-enterprise-group-dialog" class\x3d"${baseClass}" title\x3d"${i18n.selectGroup}"\x3e\r\n    \x3cp class\x3d"trailer-0"\x3e${i18n.useSearch}\x3c/p\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing esriTrailingMargin025"\x3e\r\n      \x3clabel for\x3d"searchInput" class\x3d"display-inline"\x3e${i18n.findGroup}\x3c/label\x3e\r\n      \x3cdiv id\x3d"searchInput" data-dojo-type\x3d"dijit/form/TextBox" class\x3d"${baseClass}" data-dojo-attach-point\x3d"_search" data-dojo-props\x3d"trim:true" data-dojo-attach-event\x3d"onKeyDown:onSearchKeyDown"\x3e\x3c/div\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_searchBtn" class\x3d"calcite light small leader-half" data-dojo-attach-event\x3d"onClick:onSearch"\x3e${i18n.search}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr style\x3d"clear:both;"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_gridContainer" class\x3d"leader-1"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half clearfix"\x3e\r\n      \x3cdiv class\x3d"esriFloatLeading left" data-dojo-attach-point\x3d"_goToPageContainer"\x3e\r\n        \x3clabel for\x3d"goToInput" class\x3d"inline-block"\x3e${i18n.goToPage}\x3c/label\x3e\r\n        \x3cdiv id\x3d"goToInput" class\x3d"${baseClass}" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_goTo" data-dojo-attach-event\x3d"onKeyDown:onGoToPageKeyDown" data-dojo-props\x3d"trim:true"\x3e\x3c/div\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_goBtn" class\x3d"calcite light small" data-dojo-attach-event\x3d"onClick:onGoToPage"\x3e${i18n.goTo}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_okBtn" class\x3d"calcite blue" data-dojo-attach-event\x3d"onClick:onOk"\x3e${i18n.selectGroup}\x3c/button\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_cancelBtn" class\x3d"calcite transparent cancel" data-dojo-attach-event\x3d"onClick:onCancel"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cbr style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/CreateGroup/templates/GroupDesignations.html":'\x3cdiv class\x3d"create-group-card"\x3e\r\n  \x3ch2 class\x3d"font-size-2 avenir-demi trailer-1"\x3e${i18n.groupDesignations}\x3c/h2\x3e\r\n  \x3cdiv class\x3d"create-group-card__body"\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"sharedUpdateSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.sharedUpdate}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-shared-update-toggle"\x3e\x3c/div\x3e\r\n        \x3c!-- \x3cdiv class\x3d"font-size--1 create-group__option-desc"\x3e${i18n.membershipLimited}\x3c/div\x3e --\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"adminGroupSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.adminGroup}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-admin-group-toggle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"openDataSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.openData}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-open-data-toggle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_my.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n  \x3csection class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3c!-- Left Side --\x3e\r\n      \x3cdiv class\x3d"js-filter-wrap"\x3e\r\n        \x3ch4 class\x3d"trailer-half font-size--1 avenir-demi tablet-hide"\x3e${i18n.GroupWidget.filters}\x3c/h4\x3e\r\n        \x3c!-- Filters --\x3e\r\n        \x3cdiv class\x3d"js-filters"\x3e\r\n          \x3chr class\x3d"leader-half trailer-half tablet-hide js-membership-requests-hr" /\x3e\r\n          \x3cdiv class\x3d"js-membership-requests-only"\x3e\x3c/div\x3e\r\n          \x3chr class\x3d"leader-0 trailer-0 tablet-show" /\x3e\r\n          \x3cdiv class\x3d"accordion filters--accordion js-accordion"\x3e\r\n            \x3c!-- Owner --\x3e\r\n            \x3csection class\x3d"accordion-section is-active js-filter-owner-container"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.filters.owner}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-owner"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n            \x3c!-- Members may be from --\x3e\r\n            \x3csection class\x3d"accordion-section is-active js-filter-membership-container"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupsWidget.allowedMembersFilter.heading}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-allowed-members"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n            \x3c!-- Current members are from --\x3e\r\n            \x3csection class\x3d"accordion-section is-active js-filter-current-members-container"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupsWidget.currentMembersFilter.heading}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-current-members"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n            \x3c!-- Special Groups --\x3e\r\n            \x3csection class\x3d"accordion-section is-active js-filter-specialGroups-container if-no-public-user"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e\r\n                ${!icons.chevron-down.16}${i18n.filters.specialGroups}\r\n              \x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-specialGroups"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n            \x3c!-- Creation Date --\x3e\r\n            \x3csection class\x3d"accordion-section is-active"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e\r\n                ${!icons.chevron-down.16}${i18n.GroupWidget.dateCreated}\r\n              \x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-date"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Main --\x3e\r\n      \x3cmain class\x3d"view-wrap js-view-wrap" id\x3d"main-content-area"\x3e\r\n        \x3c!-- Hide if items are selected --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-quarter hide-if-selected flex break-word"\x3e\r\n          \x3cdiv class\x3d"font-size--1 inline-block flex-1 flex flex-align-center filter-status-wrap"\x3e\r\n            \x3c!-- Current/Total counts --\x3e\r\n            \x3cspan\r\n              class\x3d"padding-right-1 padding-left-0 padding-leader-quarter padding-trailer-quarter font-size--2 flex-0 break-word border-box text-ellipsis"\r\n              data-dojo-attach-point\x3d"_rangeText"\r\n            \x3e\x3c/span\x3e\r\n\r\n            \x3c!-- Filter Status --\x3e\r\n            \x3cdiv class\x3d"inline-block js-filter-status"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3c!-- Content Views --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-half js-content js-view block-group block-group-1-up"\x3e\x3c/div\x3e\r\n\r\n        \x3c!-- Pagination --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-leader-half padding-trailer-half js-pagination"\x3e\x3c/div\x3e\r\n      \x3c/main\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_empty.html":'\x3cdiv class\x3d"text-center margin-auto"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M151.962 116.785c1.731-4.752 4.17-11.732 4.17-20.14 0-9.994 0-36.54-28-36.54s-28 26.546-28 36.54c0 8.409 2.442 15.389 4.172 20.14-8.263 3.003-12.171 9.658-12.171 20.571 0 32.248 3.96 52.825 4 53.029l.318 1.615h63.363l.318-1.615c.04-.204 4-20.78 4-53.029 0-10.913-3.908-17.568-12.17-20.57zm-47.83-20.14c0-16.09 2.852-32.54 24-32.54s24 16.45 24 32.54c0 7.877-2.395 14.57-4.034 19.061a34.43 34.43 0 0 0-1.314-.24l.014-.093-6.665-.983v-4.563a29.692 29.692 0 0 0 8.031-19.783c0-.182-.01-.36-.02-.537l-.044-1.399-1.024-.546c-6.64-3.55-10.43-9.449-13.462-14.7l-1.493-2.585-1.822 2.364c-4.358 5.646-8.862 11.485-20.692 14.704l-1.434.39-.052 1.75c-.01.185-.02.37-.02.559a29.691 29.691 0 0 0 8.032 19.784v4.562l-6.665.983.014.094c-.446.073-.886.152-1.314.24-1.638-4.491-4.035-11.184-4.035-19.062zm24 15.552c-6.057 0-15.627-9.724-16.019-21.412a37.2 37.2 0 0 0 19.546-13.392c3.088 4.986 6.859 9.797 12.5 13.118-.249 11.81-9.922 21.686-16.026 21.686zm-8 5.646v-4.53a14.46 14.46 0 0 0 8 2.884 14.46 14.46 0 0 0 8-2.885v4.53l5.055.746c-4.568 4.286-10.253 11.426-13.054 15.058-2.801-3.632-8.487-10.772-13.054-15.058zM156.493 188H99.773c-.904-5.39-3.641-23.935-3.641-50.644 0-10.86 4.122-16.256 13.75-17.914 4.312 2.868 13.382 14.338 16.648 18.704l1.602 2.14 1.601-2.14c3.266-4.366 12.334-15.836 16.648-18.704 9.629 1.658 13.75 7.053 13.75 17.914 0 26.71-2.736 45.253-3.64 50.644zm47.64-71.96v-6.257a29.413 29.413 0 0 0 7.46-11.505 11.687 11.687 0 0 0 4.204-7.215 25.265 25.265 0 0 0-3.297-16.829c-.265-.39-.518-.772-.764-1.144-2.626-3.968-4.894-7.395-12.844-8.726-7.984-1.334-13.02 1.18-16.036 3.95a5.719 5.719 0 0 0-3.033.152c-7.326 2.123-10.968 11.044-11.54 16.168-.41 3.648-.29 10.274 4.809 14.485a29.588 29.588 0 0 0 7.042 10.575v6.358c-6.57.25-11.383 1.747-14.632 4.583l2.63 3.014c2.562-2.237 6.59-3.426 12.284-3.62 1.378 4.864 7.501 7.971 11.718 7.971s10.34-3.108 11.718-7.973c15.08.501 16.282 7.758 16.282 17.862V180h-52v4h56v-46.111c0-10.7-1.59-21.152-20-21.85zM192.195 112c-4.104 0-12.206-5.945-15.338-14.226.497-1.957 2.288-8.518 4.967-12.727a27.533 27.533 0 0 0 1.503-2.706c7.353 4.427 16.355 3.759 20.125 3.21.635 1.787 1.912 5.252 4.34 11.49-2.886 8.574-11.324 14.959-15.597 14.959zm-19.938-26.92c.48-4.275 3.568-11.29 8.68-12.772a3.268 3.268 0 0 1 .881-.145l1.486 1.528 1.43-1.591c2.156-2.4 6.244-5.006 13.497-3.79 6.236 1.044 7.716 3.28 10.17 6.988.253.383.514.775.787 1.179a21.457 21.457 0 0 1 2.684 13.815 9.139 9.139 0 0 1-1.188 3.144c-3.235-8.375-3.98-10.721-3.988-10.745l-.55-1.753-1.795.398c-.124.028-12.621 2.71-20.643-3.58l-2.104-1.65-.989 2.485a26.413 26.413 0 0 1-2.165 4.307 47.095 47.095 0 0 0-4.673 11.01c-1.801-2.932-1.771-6.594-1.52-8.829zM192.133 124c-2.738 0-8-2.534-8-6v-5.039c2.847 1.921 5.72 3.039 8.061 3.039 2.32 0 5.14-1.095 7.939-2.965V118c0 3.466-5.262 6-8 6zm-130.39 12c.127 0 .257-.002.39-.008.134.006.263.008.39.008 5.378 0 17.61-5.297 17.61-14.02v-.735a12.36 12.36 0 0 1 5.468 5.37l3.503-1.927a15.865 15.865 0 0 0-13.685-8.66c10.541-6.598 14.223-18.94 12.21-28.756C85.719 77.955 78.05 68 62.259 68c-15.73 0-23.406 9.901-25.346 19.168-2.056 9.827 1.61 22.246 12.212 28.871-10.136.403-16.726 8.623-17.245 21.77-.85 21.455 3.993 44.38 4.042 44.61L36.26 184h51.872v-4H39.519c-1.054-5.483-4.345-24.299-3.643-42.032.174-4.398 1.39-13.484 8.257-16.759v.771c0 8.723 12.231 14.02 17.61 14.02zm14.39-14.02c0 5.789-9.551 10.02-13.61 10.02-.092 0-.189-.002-.288-.007l-.102-.006-.103.006a5.8 5.8 0 0 1-.287.007c-4.06 0-13.61-4.231-13.61-10.02v-1.876a15.67 15.67 0 0 1 1.77-.105l.23.002a6.003 6.003 0 0 0 5.983-5.668A13.477 13.477 0 0 0 62.261 116a13.33 13.33 0 0 0 5.895-1.534A6.012 6.012 0 0 0 74.16 120a15.57 15.57 0 0 1 1.974.097zM62.26 112c-6.56 0-12.75-8.186-13.9-15.504a21.373 21.373 0 0 1-.254-3.799 15.685 15.685 0 0 1 13.962-5.474l.192.017.191-.017c5.591-.54 10.89 1.55 13.962 5.474a21.355 21.355 0 0 1-.253 3.8c-1.15 7.317-7.339 15.503-13.9 15.503zM40.829 87.986C41.613 84.236 45.48 72 62.26 72c16.846 0 20.678 12.305 21.452 16.076 1.793 8.742-1.677 19.846-11.578 25.273v-1.564a24.459 24.459 0 0 0 7.98-14.668 25.27 25.27 0 0 0 .274-5.22l-.03-.583-.338-.475c-3.804-5.335-10.593-8.237-17.758-7.616-7.174-.62-13.954 2.282-17.757 7.616l-.338.474-.03.583a25.222 25.222 0 0 0 .273 5.221 24.492 24.492 0 0 0 7.724 14.434v1.65C42.39 107.7 39.015 96.657 40.829 87.987z"/\x3e\x3c/svg\x3e\r\n    \x3ch3\x3e${i18n.emptyStates.noGroupsYet}\x3c/h3\x3e\r\n    \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${i18n.emptyStates.myGroups}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/groups/widgets/templates/_emptyLevel1.html":'\x3cdiv class\x3d"text-center margin-auto"\x3e\r\n  \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M151.962 116.785c1.731-4.752 4.17-11.732 4.17-20.14 0-9.994 0-36.54-28-36.54s-28 26.546-28 36.54c0 8.409 2.442 15.389 4.172 20.14-8.263 3.003-12.171 9.658-12.171 20.571 0 32.248 3.96 52.825 4 53.029l.318 1.615h63.363l.318-1.615c.04-.204 4-20.78 4-53.029 0-10.913-3.908-17.568-12.17-20.57zm-47.83-20.14c0-16.09 2.852-32.54 24-32.54s24 16.45 24 32.54c0 7.877-2.395 14.57-4.034 19.061a34.43 34.43 0 0 0-1.314-.24l.014-.093-6.665-.983v-4.563a29.692 29.692 0 0 0 8.031-19.783c0-.182-.01-.36-.02-.537l-.044-1.399-1.024-.546c-6.64-3.55-10.43-9.449-13.462-14.7l-1.493-2.585-1.822 2.364c-4.358 5.646-8.862 11.485-20.692 14.704l-1.434.39-.052 1.75c-.01.185-.02.37-.02.559a29.691 29.691 0 0 0 8.032 19.784v4.562l-6.665.983.014.094c-.446.073-.886.152-1.314.24-1.638-4.491-4.035-11.184-4.035-19.062zm24 15.552c-6.057 0-15.627-9.724-16.019-21.412a37.2 37.2 0 0 0 19.546-13.392c3.088 4.986 6.859 9.797 12.5 13.118-.249 11.81-9.922 21.686-16.026 21.686zm-8 5.646v-4.53a14.46 14.46 0 0 0 8 2.884 14.46 14.46 0 0 0 8-2.885v4.53l5.055.746c-4.568 4.286-10.253 11.426-13.054 15.058-2.801-3.632-8.487-10.772-13.054-15.058zM156.493 188H99.773c-.904-5.39-3.641-23.935-3.641-50.644 0-10.86 4.122-16.256 13.75-17.914 4.312 2.868 13.382 14.338 16.648 18.704l1.602 2.14 1.601-2.14c3.266-4.366 12.334-15.836 16.648-18.704 9.629 1.658 13.75 7.053 13.75 17.914 0 26.71-2.736 45.253-3.64 50.644zm47.64-71.96v-6.257a29.413 29.413 0 0 0 7.46-11.505 11.687 11.687 0 0 0 4.204-7.215 25.265 25.265 0 0 0-3.297-16.829c-.265-.39-.518-.772-.764-1.144-2.626-3.968-4.894-7.395-12.844-8.726-7.984-1.334-13.02 1.18-16.036 3.95a5.719 5.719 0 0 0-3.033.152c-7.326 2.123-10.968 11.044-11.54 16.168-.41 3.648-.29 10.274 4.809 14.485a29.588 29.588 0 0 0 7.042 10.575v6.358c-6.57.25-11.383 1.747-14.632 4.583l2.63 3.014c2.562-2.237 6.59-3.426 12.284-3.62 1.378 4.864 7.501 7.971 11.718 7.971s10.34-3.108 11.718-7.973c15.08.501 16.282 7.758 16.282 17.862V180h-52v4h56v-46.111c0-10.7-1.59-21.152-20-21.85zM192.195 112c-4.104 0-12.206-5.945-15.338-14.226.497-1.957 2.288-8.518 4.967-12.727a27.533 27.533 0 0 0 1.503-2.706c7.353 4.427 16.355 3.759 20.125 3.21.635 1.787 1.912 5.252 4.34 11.49-2.886 8.574-11.324 14.959-15.597 14.959zm-19.938-26.92c.48-4.275 3.568-11.29 8.68-12.772a3.268 3.268 0 0 1 .881-.145l1.486 1.528 1.43-1.591c2.156-2.4 6.244-5.006 13.497-3.79 6.236 1.044 7.716 3.28 10.17 6.988.253.383.514.775.787 1.179a21.457 21.457 0 0 1 2.684 13.815 9.139 9.139 0 0 1-1.188 3.144c-3.235-8.375-3.98-10.721-3.988-10.745l-.55-1.753-1.795.398c-.124.028-12.621 2.71-20.643-3.58l-2.104-1.65-.989 2.485a26.413 26.413 0 0 1-2.165 4.307 47.095 47.095 0 0 0-4.673 11.01c-1.801-2.932-1.771-6.594-1.52-8.829zM192.133 124c-2.738 0-8-2.534-8-6v-5.039c2.847 1.921 5.72 3.039 8.061 3.039 2.32 0 5.14-1.095 7.939-2.965V118c0 3.466-5.262 6-8 6zm-130.39 12c.127 0 .257-.002.39-.008.134.006.263.008.39.008 5.378 0 17.61-5.297 17.61-14.02v-.735a12.36 12.36 0 0 1 5.468 5.37l3.503-1.927a15.865 15.865 0 0 0-13.685-8.66c10.541-6.598 14.223-18.94 12.21-28.756C85.719 77.955 78.05 68 62.259 68c-15.73 0-23.406 9.901-25.346 19.168-2.056 9.827 1.61 22.246 12.212 28.871-10.136.403-16.726 8.623-17.245 21.77-.85 21.455 3.993 44.38 4.042 44.61L36.26 184h51.872v-4H39.519c-1.054-5.483-4.345-24.299-3.643-42.032.174-4.398 1.39-13.484 8.257-16.759v.771c0 8.723 12.231 14.02 17.61 14.02zm14.39-14.02c0 5.789-9.551 10.02-13.61 10.02-.092 0-.189-.002-.288-.007l-.102-.006-.103.006a5.8 5.8 0 0 1-.287.007c-4.06 0-13.61-4.231-13.61-10.02v-1.876a15.67 15.67 0 0 1 1.77-.105l.23.002a6.003 6.003 0 0 0 5.983-5.668A13.477 13.477 0 0 0 62.261 116a13.33 13.33 0 0 0 5.895-1.534A6.012 6.012 0 0 0 74.16 120a15.57 15.57 0 0 1 1.974.097zM62.26 112c-6.56 0-12.75-8.186-13.9-15.504a21.373 21.373 0 0 1-.254-3.799 15.685 15.685 0 0 1 13.962-5.474l.192.017.191-.017c5.591-.54 10.89 1.55 13.962 5.474a21.355 21.355 0 0 1-.253 3.8c-1.15 7.317-7.339 15.503-13.9 15.503zM40.829 87.986C41.613 84.236 45.48 72 62.26 72c16.846 0 20.678 12.305 21.452 16.076 1.793 8.742-1.677 19.846-11.578 25.273v-1.564a24.459 24.459 0 0 0 7.98-14.668 25.27 25.27 0 0 0 .274-5.22l-.03-.583-.338-.475c-3.804-5.335-10.593-8.237-17.758-7.616-7.174-.62-13.954 2.282-17.757 7.616l-.338.474-.03.583a25.222 25.222 0 0 0 .273 5.221 24.492 24.492 0 0 0 7.724 14.434v1.65C42.39 107.7 39.015 96.657 40.829 87.987z"/\x3e\x3c/svg\x3e\r\n  \x3ch3\x3e${i18n.emptyStates.noGroupsYet}\x3c/h3\x3e\r\n  \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${i18n.emptyStates.myGroupsLevel1}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/groups/widgets/templates/_none.html":'\x3cdiv class\x3d"text-center leader-1 text-constrain margin-auto"\x3e${i18n.GroupsWidget.noGroupsMatch}\x3c/div\x3e',"url:arcgisonline/pages/groups/widgets/templates/_actions.html":'\x3cdiv class\x3d"flex full-width"\x3e\r\n  \x3cdiv class\x3d"if-can-create flex-1"\x3e\r\n    \x3ca href\x3d"./group.html" class\x3d"js-if-not-readonly js-create-group-btn btn btn-clear btn-fill btn-small phone-hide"\x3e ${icons.inline.plus-square.16}${i18n.GroupsWidget.createGroup}\x3c/a\x3e\r\n    \x3ca href\x3d"./group.html" class\x3d"js-if-not-readonly js-create-group-btn phone-show"\x3e ${icons.inline.plus-square.24}\x3c/a\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"flex-1 flex-center btn btn-small btn-clear text-center if-can-assign js-add-to-groups-btn"\x3e${i18n.GroupsWidget.addToGroups}\x3c/button\x3e\r\n  \x3cdiv class\x3d"if-invitations"\x3e\r\n    \x3cbutton data-action\x3d"openInvitations" class\x3d"btn-link btn-link-darker-gray flex-1 btn-link-center js-action-openInvitations margin-left-1 margin-right-0 phone-hide"\x3e\r\n    ${icons.inline.envelope.16}${i18n.GroupsWidget.invitations}\r\n      \x3cspan class\x3d"notification-dot notification-dot-1 js-invitation-count"\x3e${page.formattedInvitationCount}\x3c/span\x3e\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Card/MinimalCard.html":'\x3cdiv class\x3d"js-card card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} block trailer-1 position-relative" data-id\x3d"${item.id}" tabindex\x3d"0"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center" tabindex\x3d"0"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3ca data-dojo-attach-point\x3d"thumbLink" href\x3d"${item.defaultOpenUrl:empty}" class\x3d"card-image-wrap card-last js-default-open" aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 link-white text-center thumbnail-icon card-image-open"\x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image js-card-image no-pointer ${isImage:show}" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3cspan class\x3d"card-image-wrap__center-image ${isImage:hide}"\x3e\r\n      \x3cimg class\x3d"card-image js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d""\x3e\r\n    \x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding"\x3e\r\n    \x3cdiv class\x3d"padding-leader-half padding-half padding-left-half padding-right-half card-content-auto-top"\x3e\r\n      \x3ch4 class\x3d"card-title font-size-0 leader-quarter trailer-quarter text-ellipsis avenir-bold"\x3e\x3ca data-dojo-attach-point\x3d"titleLink" class\x3d"card-title-link minimal-card__title-link display-block text-ellipsis" href\x3d"item.html?id\x3d${item.id}" title\x3d"${item.title}"\x3e${item.title}\x3c/a\x3e\x3c/h4\x3e\r\n      \x3cp class\x3d"font-size--2"\x3e${item.displayName:formatDisplayName}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/CardMobile/CardMobile.html":'\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"js-card block card card-mobile trailer-half" data-id\x3d"${item.id}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dragHandle" class\x3d"card-drag-handle flex-center tooltip" tabindex\x3d"0" title\x3d"${i18n.orgHomePageSetup.content.reorder}" aria-label\x3d"${i18n.orgHomePageSetup.content.reorder}"\x3e\r\n    ${!icons.drag.16}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"card-content"\x3e\r\n    \x3ch4 class\x3d"trailer-0 font-size-1"\x3e${item.title}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half flex"\x3e\r\n      \x3cspan class\x3d"flex-0"\x3e\r\n        \x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"margin-left-quarter margin-right-quarter flex-0"\x3e${i18n.itemProperties.by}\x3c/span\x3e\r\n      \x3cspan class\x3d"flex-1 text-ellipsis"\x3e${!item.ownerText}\x3c/span\x3e\r\n    \x3c/p\x3e\r\n    \x3cdiv class\x3d"clearfix"\x3e\r\n      \x3cspan class\x3d"left inline-block margin-right-1 margin-left-0 font-size--3 text-darker-gray"\x3e\r\n        \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 16 16" width\x3d"16" class\x3d"icon-inline icon-inline--on-left"\x3e\r\n          \x3cpath fill\x3d"currentColor" d\x3d"M8 7h3v1H7V3h1zm4.803 5.803a7.5 7.5 0 1 1 0-10.606 7.5 7.5 0 0 1 0 10.606zm-.636-9.97A6.591 6.591 0 0 0 .927 7H2v1H.927A6.567 6.567 0 0 0 7 14.073v-1.38h1v1.38a6.591 6.591 0 0 0 4.167-11.24z"/\x3e\r\n        \x3c/svg\x3e\r\n        ${item.modified:fullDate}\r\n      \x3c/span\x3e\r\n      \x3cdiv class\x3d"right inline-block card-badges js-card-badges"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/a\x3e\r\n',
"url:arcgisonline/pages/dijit/CardWide/CardWide.html":'\x3cdiv\r\n  class\x3d"js-card block card ${selectCardClass} ${selectedClass} ${removedClass} ${imageClass} card-wide trailer-1"\r\n  data-id\x3d"${item.id}"\r\n\x3e\r\n  \x3clabel class\x3d"card-select-check-mark js-card-select-check-mark-wrap"\x3e\r\n    \x3cinput\r\n      type\x3d"checkbox"\r\n      class\x3d"checkbox-custom-input js-card-select-check-mark"\r\n      value\x3d"${item.id}"\r\n      aria-label\x3d"${selectItem}"\r\n      data-id\x3d"${item.id}"\r\n      ${checked}\r\n    /\x3e\r\n    \x3cspan class\x3d"checkbox-custom checkbox-custom--large checkbox-custom--on-dark"\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\r\n        \x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z" /\x3e\r\n      \x3c/svg\x3e\r\n      \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\r\n        \x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z" /\x3e\r\n      \x3c/svg\x3e\r\n    \x3c/span\x3e\r\n  \x3c/label\x3e\r\n  \x3ca\r\n    class\x3d"card-wide-image-wrap card-wide-image-wrap--static js-default-open"\r\n    href\x3d"${item.defaultOpenUrl:empty}"\r\n    aria-label\x3d"${!item.title}: ${item.defaultOpenText:empty}"\r\n  \x3e\r\n    \x3cspan class\x3d"card-image-overlay no-pointer"\x3e\r\n      \x3cspan class\x3d"font-size--1 text-center thumbnail-icon"\r\n        \x3e${!item.defaultOpenSvg:empty}${item.defaultOpenText:empty}\x3c/span\r\n      \x3e\r\n    \x3c/span\x3e\r\n    \x3cimg class\x3d"card-image--static js-card-image no-pointer" src\x3d"${item.largeThumbnailUrl}" alt\x3d"" /\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"card-content card-content-no-padding card-content--static"\x3e\r\n    \x3cdiv class\x3d"padding-left-half padding-right-half padding-leader-half card-last"\x3e\r\n      \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\r\n        \x3ca class\x3d"card-title-link js-card-title-link" href\x3d"item.html?id\x3d${item.id}"\x3e${!item.title}\x3c/a\x3e\r\n      \x3c/h4\x3e\r\n      \x3cdiv class\x3d"js-layers-tables font-size--2"\x3e\x3c/div\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half flex ${hasSublayers:show}"\x3e\r\n        \x3cspan class\x3d"js-layers-tables-toggle"\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:show}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3cspan class\x3d"flex-0 ${showSource:hide} tooltip tooltip--data" data-tooltip\x3d"${item.sourceLabel}"\x3e\x3cimg width\x3d"16" src\x3d"${item.svgIconUrl16}" alt\x3d"${item.sourceLabel}" class\x3d"icon-inline icon-inline--on-left"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n        \x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cp class\x3d"font-size--2 trailer-half leader-quarter"\x3e${item.snippet}\x3c/p\x3e\r\n      \x3cp class\x3d"font-size--3 trailer-half leader-quarter text-darker-gray"\x3e\r\n        \x3cspan\r\n          class\x3d"inline-block margin-right-1 card-created"\r\n          title\x3d"${i18n.contentPage.createdLabel} ${item.created:completeDate}"\r\n          \x3e${i18n.contentPage.created} ${item.created:fullDate}\x3c/span\r\n        \x3e\r\n        \x3cspan\r\n          class\x3d"inline-block margin-right-1"\r\n          title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\r\n          \x3e${i18n.contentPage.modified} ${item.modified:fullDate}\x3c/span\r\n        \x3e\r\n        \x3cspan class\x3d"inline-block margin-right-1"\x3e${item:formatViewsLabel} ${item.numViews:formatNumViews}\x3c/span\x3e\r\n      \x3c/p\x3e\r\n      \x3cdiv class\x3d"js-sublayers"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 card-badges js-card-badges trailer-half"\x3e${!item.badges}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"card-action-bar flex flex-center clearfix"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3cspan class\x3d"js-card-owner-text flex-1 text-ellipsis"\x3e${!item.ownerText}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-0 flex flex-center card-actions"\x3e\r\n        \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-favorites-container inline-block"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-open-dropdown-container inline-block dropdown-up"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/TableRow/templates/TableRow.html":'\x3cdiv class\x3d"table-select-row ${activeRow} ${removedRow}" role\x3d"row"\x3e\r\n  \x3clabel class\x3d"table-select-cell table-select-checkbox ${selectClass}" role\x3d"cell"\x3e\r\n    \x3cinput type\x3d"checkbox" class\x3d"js-table-select-checkbox" aria-label\x3d"${i18n.GroupWidget.selectItem}" ${checked}\x3e\r\n  \x3c/label\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-extra-wide" role\x3d"cell"\x3e\r\n    \x3cspan class\x3d"flex"\x3e\r\n      \x3cspan class\x3d"table-select-title flex flex-1"\x3e\r\n        \x3ca href\x3d"./item.html?id\x3d${item.id}" class\x3d"flex-1 overflow-hidden"\x3e${!item.title}\x3c/a\x3e\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"padding-left-half padding-right-half table-select-item-type full-width"\x3e\r\n        \x3cspan class\x3d"flex-1"\x3e\r\n          \x3cspan class\x3d"js-layers-tables"\x3e\x3c/span\x3e\r\n          \x3cspan class\x3d"js-layers-tables-toggle display-block text-ellipsis" title\x3d"${item.displayName:formatDisplayName}"\x3e\r\n            \x3cimg src\x3d"${item.svgIconUrl16}" width\x3d"16" height\x3d"16" alt\x3d"${item.displayName}" class\x3d"icon-inline icon-inline--on-left"\x3e\r\n            \x3cspan class\x3d"margin-left-quarter"\x3e${item.displayName:formatDisplayName}\x3c/span\x3e\r\n          \x3c/span\x3e\r\n        \x3c/span\x3e\r\n        \x3cspan class\x3d"table-select-item-type--badges"\x3e${!item.badges}\x3c/span\x3e\r\n      \x3c/span\x3e\r\n      \x3cspan class\x3d"js-share-summary"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"js-favorites-container inline-block"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"js-open-dropdown-container ${dropdownClass}"\x3e\x3c/span\x3e\r\n    \x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell" title\x3d"${i18n.itemProperties.lastModified} ${item.modified:completeDate}"\x3e${item.modified:fullDate}\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell" role\x3d"cell"\x3e${!item.ownerText}\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/tableHeader.html":'\x3cdiv class\x3d"table-select-row table-select-row-header" role\x3d"row"\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-checkbox ${selectClass}"  role\x3d"columnheader"\x3e\r\n    \x3clabel class\x3d"table-select-cell-sort table-select-check-all"\x3e\r\n      \x3cinput type\x3d"checkbox" aria-label\x3d"${i18n.filters.selectAll}" class\x3d"js-select-all"\x3e\r\n    \x3c/label\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"title" data-sort-order\x3d"asc"\x3e${i18n.filters.titleHeader}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"modified" data-sort-order\x3d"desc"\x3e${i18n.filters.modifiedHeader}\x3c/button\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"table-select-cell table-select-cell-th table-select-cell-medium" role\x3d"columnheader"\x3e\x3cbutton class\x3d"table-select-cell-sort js-table-sort-header" data-sort\x3d"owner" data-sort-order\x3d"asc"\x3e${i18n.filters.owner}\x3c/button\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/empty.html":'\x3cdiv class\x3d"js-empty-view text-center"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"/\x3e\x3c/svg\x3e\r\n    \x3ch3\x3e${i18n.GroupWidget.noItemsYet}\x3c/h3\x3e\r\n    \x3cp class\x3d"font-size--2 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItemsYetExplanation}\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/View/templates/none.html":'\x3cdiv class\x3d"text-center leader-1 text-constrain margin-auto"\x3e${i18n.GroupWidget.noItems}\x3c/div\x3e',"url:arcgisonline/pages/dijit/View/templates/View.html":'\x3cdiv\x3e\r\n  \x3c!-- Table View --\x3e\r\n  \x3cdiv class\x3d"hide content-table-view js-table-wrap table-select js-view" role\x3d"table"\x3e\r\n    \x3cdiv class\x3d"table-select-head js-table-header" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"table-select-rows js-table-rows js-view" role\x3d"rowgroup"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- Grid View --\x3e\r\n  \x3cdiv\r\n    class\x3d"hide content-grid-view block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up js-grid-wrap js-view"\r\n  \x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Mobile View --\x3e\r\n  \x3cdiv class\x3d"hide content-mobile-view block-group block-group-1-up js-mobile-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- List View --\x3e\r\n  \x3cdiv class\x3d"hide content-list_view block-group block-group-1-up js-list-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Empty View (no results) --\x3e\r\n  \x3cdiv class\x3d"hide js-empty-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- None View (tabula rasa) --\x3e\r\n  \x3cdiv class\x3d"hide js-none-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Loader --\x3e\r\n  \x3cdiv class\x3d"hide js-loader-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Gallery Grid View --\x3e\r\n  \x3cdiv\r\n    class\x3d"hide block-group block-group-4-up laptop-block-group-3-up tablet-block-group-2-up phone-block-group-1-up gallery-card-wrap js-gallery-wrap js-view"\r\n  \x3e\x3c/div\x3e\r\n\r\n  \x3c!-- Gallery List View --\x3e\r\n  \x3cdiv class\x3d"hide block-group block-group-1-up  gallery-list-wrap js-gallery-list-wrap js-view"\x3e\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"hide js-search-feedback"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/AssignGroupsOverlay/AssignGroupsOverlay.html":'\x3cdiv class\x3d"js-group-browser"\x3e\x3c/div\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterTags/templates/FilterTags.html":'\x3cdiv\x3e\r\n  \x3cinput type\x3d"search" class\x3d"js-tag-search filters--accordion--input" placeholder\x3d"${i18n.filters.filterTags}" aria-label\x3d"${i18n.filters.filterTags}" aria-controls\x3d"tagsList"\x3e\r\n  \x3cul class\x3d"js-tags-list filter-tree filter max-height max-height--short" role\x3d"listbox" aria-multiselectable\x3d"true" aria-label\x3d"${i18n.filters.filterByTag}" id\x3d"tagsList" tabindex\x3d"0"\x3e\x3c/ul\x3e\r\n  \x3cdiv class\x3d"hide js-no-tags font-size--2 padding-left-1 padding-right-1 padding-trailer-1"\x3e${!i18n.filters.noTagsFound}\x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterTags/templates/Option.html":'\x3cli class\x3d"filter-tree-item js-filter-tree-item ${isActive}" data-value\x3d"${value}" role\x3d"option" ${selected}\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link filter-tree-link--multiple js-filter-tree-link ${isActive}" data-value\x3d"${value}"\x3e${icons.inline.check.16}${value}\x3cspan class\x3d"filter-tree-count margin-left-quarter inline-block no-pointer hide"\x3e${countLabel}\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterTree/templates/FilterTree.html":'\x3cul class\x3d"filter-tree"\x3e${list}\x3c/ul\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterTree/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item ${selected} ${single} js-filter-tree-item" data-value\x3d"${value}"\x3e\r\n  \x3ca href\x3d"#" class\x3d"filter-tree-link js-filter-tree-link" data-value\x3d"${value}"\x3e${label}\x3c/a\x3e\r\n  \x3cspan class\x3d"js-filter-link-count filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\r\n  ${list}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_organization.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n  \x3csection class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3c!-- Left Side --\x3e\r\n      \x3cdiv class\x3d"js-filter-wrap"\x3e\r\n        \x3ch4 class\x3d"trailer-half font-size--1 avenir-demi tablet-hide"\x3e${i18n.GroupWidget.filters}\x3c/h4\x3e\r\n        \x3c!-- Filters --\x3e\r\n        \x3cdiv class\x3d"js-filters"\x3e\r\n          \x3cdiv class\x3d"accordion filters--accordion js-accordion"\x3e\r\n            \x3c!-- Members may be from --\x3e\r\n            \x3csection class\x3d"accordion-section is-active js-filter-membership-container"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupsWidget.allowedMembersFilter.heading}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-allowed-members"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Current members are from --\x3e\r\n            \x3csection class\x3d"accordion-section is-active js-filter-current-members-container"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupsWidget.currentMembersFilter.heading}\x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-current-members"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n             \x3c!-- Special Groups --\x3e\r\n             \x3csection class\x3d"accordion-section is-active js-filter-specialGroups-container if-no-public-user"\x3e\r\n              \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e\r\n                ${!icons.chevron-down.16}${i18n.filters.specialGroups}\r\n              \x3c/h4\x3e\r\n              \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-specialGroups"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Modified Date --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.dateModified}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-date"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Creation Date --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.GroupWidget.dateCreated}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content"\x3e\x3cdiv class\x3d"js-filter-date-created"\x3e\x3c/div\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n\r\n            \x3c!-- Sharing Status --\x3e\r\n            \x3csection class\x3d"accordion-section"\x3e\r\n                \x3ch4 class\x3d"accordion-title filters--accordion--title"\x3e${!icons.chevron-down.16}${i18n.groupsPage.viewableBy}\x3c/h4\x3e\r\n                \x3cdiv class\x3d"accordion-content filters--accordion--content js-filter-sharing"\x3e\x3c/div\x3e\r\n            \x3c/section\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Main --\x3e\r\n      \x3cmain class\x3d"view-wrap js-view-wrap" id\x3d"main-content-area"\x3e\r\n\r\n        \x3c!-- Hide if items are selected --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-quarter hide-if-selected flex break-word"\x3e\r\n\r\n          \x3cdiv class\x3d"font-size--1 inline-block flex-1 flex flex-align-center filter-status-wrap"\x3e\r\n            \x3c!-- Current/Total counts --\x3e\r\n            \x3cspan class\x3d"padding-right-1 padding-left-0 padding-leader-quarter padding-trailer-quarter font-size--2 flex-0 break-word border-box text-ellipsis" data-dojo-attach-point\x3d"_rangeText"\x3e\x3c/span\x3e\r\n\r\n            \x3c!-- Filter Status --\x3e\r\n            \x3cdiv class\x3d"inline-block js-filter-status"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3c!-- Content Views --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-trailer-half js-content js-view block-group block-group-1-up"\x3e\x3c/div\x3e\r\n\r\n        \x3c!-- Pagination --\x3e\r\n        \x3cdiv class\x3d"clearfix padding-leader-half padding-trailer-half js-pagination"\x3e\x3c/div\x3e\r\n      \x3c/main\x3e\r\n    \x3c/div\x3e\r\n  \x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_featured.html":'\x3csection class\x3d"grid-container padding-leader-1 content-container"\x3e\r\n  \x3cdiv class\x3d"column-24 if-signed-in"\x3e\r\n    \x3ch2 class\x3d"left"\x3e${i18n.GroupsWidget.featuredGroups}\x3c/h2\x3e\r\n    \x3cspan class\x3d"tooltip tooltip-multiline text-blue font-size--3 margin-left-quarter left" aria-label\x3d"${i18n.groupsPage.featuredGroupsHelp}" tabindex\x3d"0"\x3e\x3cspan class\x3d"icon-ui-question icon-ui-flush if-can-update-featured-groups"\x3e\x3c/span\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"column-24" id\x3d"main-content-area"\x3e\r\n    \x3cdiv class\x3d"js-content block-group block-group-2-up tablet-block-group-1-up"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/groups/widgets/templates/_emptyFeatured.html":'\x3cdiv class\x3d"text-center margin-auto"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 256 256" width\x3d"256"\x3e\x3cpath fill\x3d"#ccc" d\x3d"M151.962 116.785c1.731-4.752 4.17-11.732 4.17-20.14 0-9.994 0-36.54-28-36.54s-28 26.546-28 36.54c0 8.409 2.442 15.389 4.172 20.14-8.263 3.003-12.171 9.658-12.171 20.571 0 32.248 3.96 52.825 4 53.029l.318 1.615h63.363l.318-1.615c.04-.204 4-20.78 4-53.029 0-10.913-3.908-17.568-12.17-20.57zm-47.83-20.14c0-16.09 2.852-32.54 24-32.54s24 16.45 24 32.54c0 7.877-2.395 14.57-4.034 19.061a34.43 34.43 0 0 0-1.314-.24l.014-.093-6.665-.983v-4.563a29.692 29.692 0 0 0 8.031-19.783c0-.182-.01-.36-.02-.537l-.044-1.399-1.024-.546c-6.64-3.55-10.43-9.449-13.462-14.7l-1.493-2.585-1.822 2.364c-4.358 5.646-8.862 11.485-20.692 14.704l-1.434.39-.052 1.75c-.01.185-.02.37-.02.559a29.691 29.691 0 0 0 8.032 19.784v4.562l-6.665.983.014.094c-.446.073-.886.152-1.314.24-1.638-4.491-4.035-11.184-4.035-19.062zm24 15.552c-6.057 0-15.627-9.724-16.019-21.412a37.2 37.2 0 0 0 19.546-13.392c3.088 4.986 6.859 9.797 12.5 13.118-.249 11.81-9.922 21.686-16.026 21.686zm-8 5.646v-4.53a14.46 14.46 0 0 0 8 2.884 14.46 14.46 0 0 0 8-2.885v4.53l5.055.746c-4.568 4.286-10.253 11.426-13.054 15.058-2.801-3.632-8.487-10.772-13.054-15.058zM156.493 188H99.773c-.904-5.39-3.641-23.935-3.641-50.644 0-10.86 4.122-16.256 13.75-17.914 4.312 2.868 13.382 14.338 16.648 18.704l1.602 2.14 1.601-2.14c3.266-4.366 12.334-15.836 16.648-18.704 9.629 1.658 13.75 7.053 13.75 17.914 0 26.71-2.736 45.253-3.64 50.644zm47.64-71.96v-6.257a29.413 29.413 0 0 0 7.46-11.505 11.687 11.687 0 0 0 4.204-7.215 25.265 25.265 0 0 0-3.297-16.829c-.265-.39-.518-.772-.764-1.144-2.626-3.968-4.894-7.395-12.844-8.726-7.984-1.334-13.02 1.18-16.036 3.95a5.719 5.719 0 0 0-3.033.152c-7.326 2.123-10.968 11.044-11.54 16.168-.41 3.648-.29 10.274 4.809 14.485a29.588 29.588 0 0 0 7.042 10.575v6.358c-6.57.25-11.383 1.747-14.632 4.583l2.63 3.014c2.562-2.237 6.59-3.426 12.284-3.62 1.378 4.864 7.501 7.971 11.718 7.971s10.34-3.108 11.718-7.973c15.08.501 16.282 7.758 16.282 17.862V180h-52v4h56v-46.111c0-10.7-1.59-21.152-20-21.85zM192.195 112c-4.104 0-12.206-5.945-15.338-14.226.497-1.957 2.288-8.518 4.967-12.727a27.533 27.533 0 0 0 1.503-2.706c7.353 4.427 16.355 3.759 20.125 3.21.635 1.787 1.912 5.252 4.34 11.49-2.886 8.574-11.324 14.959-15.597 14.959zm-19.938-26.92c.48-4.275 3.568-11.29 8.68-12.772a3.268 3.268 0 0 1 .881-.145l1.486 1.528 1.43-1.591c2.156-2.4 6.244-5.006 13.497-3.79 6.236 1.044 7.716 3.28 10.17 6.988.253.383.514.775.787 1.179a21.457 21.457 0 0 1 2.684 13.815 9.139 9.139 0 0 1-1.188 3.144c-3.235-8.375-3.98-10.721-3.988-10.745l-.55-1.753-1.795.398c-.124.028-12.621 2.71-20.643-3.58l-2.104-1.65-.989 2.485a26.413 26.413 0 0 1-2.165 4.307 47.095 47.095 0 0 0-4.673 11.01c-1.801-2.932-1.771-6.594-1.52-8.829zM192.133 124c-2.738 0-8-2.534-8-6v-5.039c2.847 1.921 5.72 3.039 8.061 3.039 2.32 0 5.14-1.095 7.939-2.965V118c0 3.466-5.262 6-8 6zm-130.39 12c.127 0 .257-.002.39-.008.134.006.263.008.39.008 5.378 0 17.61-5.297 17.61-14.02v-.735a12.36 12.36 0 0 1 5.468 5.37l3.503-1.927a15.865 15.865 0 0 0-13.685-8.66c10.541-6.598 14.223-18.94 12.21-28.756C85.719 77.955 78.05 68 62.259 68c-15.73 0-23.406 9.901-25.346 19.168-2.056 9.827 1.61 22.246 12.212 28.871-10.136.403-16.726 8.623-17.245 21.77-.85 21.455 3.993 44.38 4.042 44.61L36.26 184h51.872v-4H39.519c-1.054-5.483-4.345-24.299-3.643-42.032.174-4.398 1.39-13.484 8.257-16.759v.771c0 8.723 12.231 14.02 17.61 14.02zm14.39-14.02c0 5.789-9.551 10.02-13.61 10.02-.092 0-.189-.002-.288-.007l-.102-.006-.103.006a5.8 5.8 0 0 1-.287.007c-4.06 0-13.61-4.231-13.61-10.02v-1.876a15.67 15.67 0 0 1 1.77-.105l.23.002a6.003 6.003 0 0 0 5.983-5.668A13.477 13.477 0 0 0 62.261 116a13.33 13.33 0 0 0 5.895-1.534A6.012 6.012 0 0 0 74.16 120a15.57 15.57 0 0 1 1.974.097zM62.26 112c-6.56 0-12.75-8.186-13.9-15.504a21.373 21.373 0 0 1-.254-3.799 15.685 15.685 0 0 1 13.962-5.474l.192.017.191-.017c5.591-.54 10.89 1.55 13.962 5.474a21.355 21.355 0 0 1-.253 3.8c-1.15 7.317-7.339 15.503-13.9 15.503zM40.829 87.986C41.613 84.236 45.48 72 62.26 72c16.846 0 20.678 12.305 21.452 16.076 1.793 8.742-1.677 19.846-11.578 25.273v-1.564a24.459 24.459 0 0 0 7.98-14.668 25.27 25.27 0 0 0 .274-5.22l-.03-.583-.338-.475c-3.804-5.335-10.593-8.237-17.758-7.616-7.174-.62-13.954 2.282-17.757 7.616l-.338.474-.03.583a25.222 25.222 0 0 0 .273 5.221 24.492 24.492 0 0 0 7.724 14.434v1.65C42.39 107.7 39.015 96.657 40.829 87.987z"/\x3e\x3c/svg\x3e\r\n    \x3ch3 class\x3d"if-signed-in"\x3e${i18n.groupsPage.noFeaturedGroups}\x3c/h3\x3e\r\n    \x3ch3 class\x3d"if-signed-out"\x3e${i18n.groupsPage.noFeaturedGroupsAnon}\x3c/h3\x3e\r\n    \x3cp class\x3d"font-size--2 text-constrain margin-auto if-can-update-featured-groups"\x3e${i18n.groupsPage.noFeaturedGroupsAdmin}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/item/widgets/templates/_loader.html":'\x3cdiv class\x3d"loader is-active padding-leader-3 padding-trailer-3"\x3e\r\n  \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/groups/widgets/templates/_whats-new.html":'\x3csection class\x3d"padding-leader-half margin-left-1"\x3e\r\n  \x3ch4 class\x3d"font-size-2 trailer-quarter icon-ui-check-mark icon-ui-green"\x3e${i18n.whatsNew.groupsPage.newLookTitle}\x3c/h4\x3e\r\n  \x3cp class\x3d"margin-left-2"\x3e${i18n.whatsNew.groupsPage.newLookMsg}\x3c/p\x3e\r\n  \x3ch4 class\x3d"font-size-2 trailer-quarter icon-ui-check-mark icon-ui-green"\x3e${i18n.whatsNew.groupsPage.searchFilterTitle}\x3c/h4\x3e\r\n  \x3cp class\x3d"margin-left-2"\x3e${i18n.whatsNew.groupsPage.searchFilterMsg}\x3c/p\x3e\r\n\x3c/section\x3e\r\n',
"*now":function(O){O(['dojo/i18n!*preload*arcgisonline/pages/nls/groups*["ar","bg","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("arcgisonline/pages/groups","require exports tslib dojo/Deferred dojo/string dojo/_base/lang dojo/dom-construct dojo/topic dojo/promise/all dojo/has ../esriGeowConfig ../sharing/util ./utils/date ./pageUtil ./components/Collaborations/collab-service ./utils/dom ./utils/number ./dijit/SubNav ./item/_Actions ./groups/widgets/_my ./groups/widgets/_organization ./groups/widgets/_featured dojo/i18n!../nls/arcgisonline dojo/text!./item/widgets/templates/_loader.html dojo/text!./groups/widgets/templates/_whats-new.html ./basePage ../tsutils/declareDecorator".split(" "),function(O,
K,n,q,p,h,f,g,k,u,w,C,z,r,l,d,e,a,b,c,m,t,v,A,B,x,D){q=n.__importDefault(q);p=n.__importDefault(p);h=n.__importDefault(h);f=n.__importDefault(f);g=n.__importDefault(g);k=n.__importDefault(k);u=n.__importDefault(u);w=n.__importDefault(w);C=n.__importDefault(C);z=n.__importDefault(z);r=n.__importDefault(r);l=n.__importDefault(l);d=n.__importDefault(d);e=n.__importDefault(e);a=n.__importDefault(a);b=n.__importDefault(b);c=n.__importDefault(c);m=n.__importDefault(m);t=n.__importDefault(t);v=n.__importDefault(v);
A=n.__importDefault(A);B=n.__importDefault(B);x=n.__importDefault(x);D=n.__importDefault(D);return function(){function E(){this.baseClass="flex-1 overflow-visible view-background";this.skipToContent="main-content-area";this.trustedOrgs=[];this.endedCollabs=[]}E.prototype.startup=function(){var y=this;this.inherited(arguments);k["default"]({groupsUser:this._getGroupsUser()}).then(function(){return y._fetchInvitations()}).then(function(){return y.getTrustedOrgs()}).then(function(){return y.getMemberDefaults()}).then(function(){return y.getHomePageConfig()}).then(function(){return y._renderPage()}).then(function(){return y.emit("ready")},
function(F){y._showError(F);y.emit("error",F)})};E.prototype.destroy=function(){this._destroyTab();f["default"].empty(this.tabs.domNode);this.inherited(arguments)};E.prototype._setBodyCssClassesAttr=function(y){var F=y.isAdminView,G=y.isOwnerView,H=y.canDelete,I=y.portalUser,N=y.canAssignToGroups;y=y.attributes;y=void 0===y?[]:y;var M=this.invitations||[],J=null===I||void 0===I?void 0:I.orgId,R=null===I||void 0===I?void 0:I.userRole,Z=(null===I||void 0===I?void 0:I.privileges)||[],T=null===I||void 0===
I?void 0:I.isOrgUser;J=!J||J&&R&&R.canCreateGroup();F=n.__spreadArray([I?"is-signed-in":"is-signed-out",!T&&"is-public-user",F?"is-admin":"is-owner",G&&J&&"can-create",N&&"can-assign",H&&"can-delete",-1<Z.indexOf("portal:admin:updateGroups")&&"can-update-featured-groups",0<M.length&&"has-invitations"],y).filter(function(X){return X});d["default"].addClasses(document.body,F)};E.prototype._renderPage=function(){var y=this,F=new q["default"];this.set("pageTitle",v["default"].groupsPage.groupsTitle2);
this.groupsUser&&h["default"].mixin(v["default"].GroupsWidget,{groups:this.groupsUser.fullName+" "+v["default"].groupsPage.groupsTitle,myGroups:p["default"].substitute(v["default"].GroupsWidget.userGroups,{username:this.groupsUser.fullName})});this.tabs=new a["default"]({active:window.location.hash.replace("#","")||"my",titleText:v["default"].GroupsWidget.groups,telemetry:this.telemetry,links:[{id:"my",label:v["default"].GroupsWidget.myGroups,logClick:!0,show:!!this.portalUser},{id:"featured",label:v["default"].GroupsWidget.featuredGroups,
logClick:!0,show:!!this.portalUser},{id:"organization",label:v["default"].GroupsWidget.myOrganizationsGroups,logClick:!0,show:this.portalUser&&this.portalUser.isOrgUser}]},f["default"].create("div",{},this.domNode,"next"));this._loader=f["default"].place(p["default"].substitute(A["default"],{i18n:v["default"]}),this.domNode,"next");this._content=f["default"].create("main",{"class":"hide tab-content",id:"tabcontent","aria-live":"polite",role:"tabpanel"},this.domNode,"next");this.set("formattedInvitationCount",
this._formatInvitations());this.set("bodyCssClasses",this);this._showWhatsNew();this._updateTab(window.location.hash&&window.location.hash.substring(1)).then(function(){y.hideLoader();y._loadEventHandlers();F.resolve()});return F};E.prototype._showWhatsNew=function(){var y=p["default"].substitute(B["default"],{i18n:v["default"]});this.portal.isPortal||b["default"].whatsNew(h["default"].mixin({},{redirectUrl:"https://links.esri.com/blog/new-groups-page",title:v["default"].whatsNew.groupsPage.title,
message:y,endDate:new Date("July 31, 2017"),key:"groupsPage"}))};E.prototype._updateTab=function(y){var F=this,G=new q["default"],H=y||"my",I;this.portalUser?"organization"===H&&this.portalUser&&!this.portalUser.isOrgUser&&(H="my"):H="featured";this._destroyTab().then(function(){F.currentView=H||"my";switch(H){case "organization":I=m["default"];break;case "featured":I=t["default"];break;default:I=c["default"]}F._createTab(I,{portalUser:F.groupsUser||F.portalUser,trustedOrgs:F.trustedOrgs,endedCollabs:F.endedCollabs}).then(function(N){"my"===
H&&F.groupsUser&&F.portalUser&&F.groupsUser.username!==F.portalUser.username&&r["default"].updateQueryParams({user:F.groupsUser.username});G.resolve(N)})});return G};E.prototype._loadEventHandlers=function(){var y=this;window.addEventListener("popstate",function(){var F=window.location.hash.replace("#","");y._updateTab(F).then(function(){return y.hideLoader()})});this.own(g["default"].subscribe("/dojo/hashchange",function(F){(u["default"]("ie")||u["default"]("trident")||u["default"]("edge"))&&y._updateTab(F).then(function(){return y.hideLoader()})}))};
E.prototype._getGroupsUser=function(){var y=this,F=this.portalUser||{},G=F.userRole,H=F.isOrgAdmin,I=F.username,N=F.orgId,M=new q["default"],J=H||G&&G.canViewUsers()&&G.canViewOrgGroups();J&&this._queryStringParams.user?this.portal.getUserProfile(this._queryStringParams.user).then(function(R){R&&R.orgId===N&&R.username!==I?(y.groupsUser=R,y.isAdminView=J,y.canDelete=G&&G.canDeleteOrgGroups(),y.canAssignToGroups=G&&G.canAssignUsersToOrgGroups(),y.canManageMembershipRequests=G&&G.isAdmin(),M.resolve(R)):
M.resolve(null)}):(this.isOwnerView=!0,M.resolve(null));return M};E.prototype.getTrustedOrgs=function(){var y=this,F;return(null===(F=this.portalUser)||void 0===F?0:F.orgId)&&this.portal.canHavePartnerCollab()?k["default"]({currentCollabs:l["default"].getCollaborations()}).then(function(G){var H;G=G.currentCollabs;y.trustedOrgs=(null===(H=null===G||void 0===G?void 0:G.trustedOrgs)||void 0===H?void 0:H.filter(function(I){return-1<I.from.established&&-1<I.to.established}))||[]}):null};E.prototype._fetchInvitations=
function(){var y=this,F=new q["default"],G=this.groupsUser&&this.isAdminView?this.groupsUser:this.portalUser;G&&G.username?C["default"].request({url:w["default"].restBaseUrl+"community/users/"+G.username+"/invitations"}).then(function(H){H=H.userInvitations.filter(function(I){return"group"===I.targetType});y.set("invitations",H);F.resolve()},function(){F.resolve()}):F.resolve();return F};E.prototype._refreshInvitations=function(){var y=this;this._fetchInvitations().then(function(){y.set("formattedInvitationCount",
y._formatInvitations());y.set("bodyCssClasses",y)})};E.prototype._formatDate=function(y){!1===y instanceof Date&&(y=new Date(y));return y?z["default"].format(y,"long-month-day-year"):""};E.prototype._formatSharing=function(y){var F=v["default"].GroupWidget,G=F.privatemsg,H=F.publicLabel,I=F.accessOpenData,N=F.organization;F=F.sharedOwnershipMembers;var M=y.access,J="";"private"===M?J=G:"public"===M?(J=H,y.isOpenDataEnabled&&(J+=" "+I)):"org"===M&&(J=N);y.isSharedOwnership&&(J+=F);return J};E.prototype._formatInvitations=
function(){var y=this.invitations||[];return y?e["default"].format(y.length):"0"};E.prototype._htmlEncode=function(y){return C["default"].htmlEncode(y)};return E=n.__decorate([D["default"](x["default"])],E)}()});