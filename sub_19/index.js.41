define(["../Component","dojo/i18n!../ItemBrowser/nls/resources","dojo/i18n!../Share/nls/resources","../Loaders/LoaderBars","../GroupBrowser/index","../Modals/Overlay"],(function(e,t,n,r,i,a){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=857)}({0:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function c(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(16),a=function(e,t,n){var r,i=null==t?void 0:t.toLowerCase(),a=!1,o=!1,c=!1,u=!1;if("ogcfeatureserver"===i)r="featureshosted";else if((null==i?void 0:i.indexOf("service"))>0||"feature collection"===i||"kml"===i||"wms"===i||"wmts"===i||"wfs"===i){var s=n.indexOf("Hosted Service")>-1;if("feature service"===i||"feature collection"===i||"kml"===i||"wfs"===i)u=n.indexOf("Table")>-1,a=n.indexOf("Route Layer")>-1,o=n.indexOf("Markup")>-1,r=(c=-1!==n.indexOf("Spatiotemporal"))&&u?"spatiotemporaltable":u?"table":a?"routelayer":o?"markup":c?"spatiotemporal":s?"featureshosted":"features";else if("map service"===i||"wms"===i||"wmts"===i)r=s||n.indexOf("Tiled")>-1||"wmts"===i?"maptiles":"mapimages";else if("scene service"===i)r=n.indexOf("Line")>-1?"sceneweblayerline":n.indexOf("3DObject")>-1?"sceneweblayermultipatch":n.indexOf("Point")>-1?"sceneweblayerpoint":n.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":n.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":n.indexOf("Polygon")>-1?"sceneweblayerpolygon":n.indexOf("Building")>-1?"sceneweblayerbuilding":n.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer";else if("image service"===i){var l=n.indexOf("Elevation 3D Layer")>-1,d=n.indexOf("Tiled Imagery")>-1;r=l?"elevationlayer":d?"tiledimagerylayer":"imagery"}else r="stream service"===i?"streamlayer":"vector tile service"===i?"vectortile":"datastore catalog service"===i?"datastorecollection":"geocoding service"===i?"geocodeservice":"geoprocessing service"===i&&n.indexOf("Web Tool")>-1?"tool":"layers"}else r="web map"===i||"cityengine web scene"===i?"maps":"web scene"===i?n.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===i&&(null==n?void 0:n.indexOf("configurableApp"))>-1?"instantapps":"web mapping application"===i||"mobile application"===i||"application"===i||"operation view"===i||"desktop application"===i?"apps":"map document"===i||"map package"===i||"published map"===i||"scene document"===i||"globe document"===i||"basemap package"===i||"mobile basemap package"===i||"mobile map package"===i||"project package"===i||"project template"===i||"pro map"===i||"layout"===i||"layer"===i&&n.indexOf("ArcGIS Pro")>-1||"explorer map"===i&&n.indexOf("Explorer Document")>-1?"mapsgray":"service definition"===i||"csv"===i||"administrative report"===i||"shapefile"===i||"cad drawing"===i||"geojson"===i||"360 vr experience"===i||"netcdf"===i?"datafiles":"explorer add in"===i||"desktop add in"===i||"windows viewer add in"===i||"windows viewer configuration"===i?"appsgray":"arcgis pro add in"===i||"arcgis pro configuration"===i?"addindesktop":"rule package"===i||"file geodatabase"===i||"csv collection"===i||"kml collection"===i||"windows mobile package"===i||"map template"===i||"desktop application template"===i||"arcpad package"===i||"code sample"===i||"form"===i||"document link"===i||"vector tile package"===i||"operations dashboard add in"===i||"rules package"===i||"image"===i||"workflow manager package"===i||"explorer map"===i&&n.indexOf("Explorer Mapping Application")>-1||n.indexOf("Document")>-1?"datafilesgray":"network analysis service"===i||"geoprocessing service"===i||"geodata service"===i||"geometry service"===i||"geoprocessing package"===i||"locator package"===i||"geoprocessing sample"===i||"workflow manager service"===i||"raster function template"===i||"deep learning package"===i?"toolsgray":"layer"===i||"layer package"===i||"explorer layer"===i?"layersgray":"scene package"===i?"scenepackage":"tile package"===i?"tilepackage":"storymap"===i?"storymap":"storymap theme"===i?"storymaptheme":"web experience"===i?"experiencebuilder":"web experience template"===i?"webexperiencetemplate":"task file"===i?"taskfile":"report template"===i?"report-template":"statistical data collection"===i?"statisticaldatacollection":"insights workbook"===i?"workbook":"insights model"===i?"insightsmodel":"insights page"===i?"insightspage":"hub initiative"===i?"hubinitiative":"hub page"===i?"hubpage":"hub site application"===i?"hubsite":"relational database connection"===i?"relationaldatabaseconnection":"big data file share"===i?"datastorecollection":"image collection"===i?"imagecollection":"desktop style"===i?"desktopstyle":"style"===i?"style":"dashboard"===i?"dashboard":"feed"===i?"feed":"real time analytic"===i?"realtimeanalytics":"big data analytic"===i?"bigdataanalytics":"maps";return e+"/"+r+"16.png"},o=Object(i.a)((function(e,t){return Object(r.a)(Object(r.a)({},t),{iconURI:a(e,t.type,t.typeKeywords?t.typeKeywords:[])})}))},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(16),a=function(e,t){var n,r="notebook"!==(null===(n=t.type)||void 0===n?void 0:n.toLowerCase())?"default_thumb.png":"notebook-thumb.png",i=e.baseUrl+"/home/js/arcgisonline/css/images/"+r;return t.thumbnail&&(i=e.restUrl+"/content/items/"+t.id+"/info/"+t.thumbnail+(e.credential?"?token="+e.credential.token:"")),i},o=Object(i.a)((function(e,t){return Object(r.a)(Object(r.a)({},t),{thumbURI:a(e,t)})}))},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(16),a=function(e,t){return t.description?t.description.replace(/src=('|")js\/jsapi\/esri\//g,(function(t){return"src="+('"'===t[4]?'"':"'")+e.baseUrl+"/home/js/jsapi/esri/"})):void 0},o=Object(i.a)((function(e,t){return Object(r.a)(Object(r.a)({},t),{patchedDescription:a(e,t)})}))},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),i=n(121),a=n(16),o=n(56),c=function(e,t){var n,r=t.type,a=t.typeKeywords||[],c=r,u=(null==e?void 0:e.portalUser)||(null==e?void 0:e.user);if("Feature Service"===r||"Feature Collection"===r){if(c=a.indexOf("Table")>-1?"Table":a.indexOf("Route Layer")>-1?"Route Layer":a.indexOf("Markup")>-1?"Markup":"Feature Layer",u&&Object(o.d)(t,u)&&(null==a?void 0:a.indexOf("Hosted Service"))>-1){var s=(null===(n=null===document||void 0===document?void 0:document.documentElement)||void 0===n?void 0:n.lang)||"en";c=c+" ("+(i.a[s]||i.a[s.split("-")[0]]||i.a.en)+")"}}else if("Image Service"===r){var l=a.indexOf("Elevation 3D Layer")>-1,d=a.indexOf("Tiled Imagery")>-1;c=l?"Elevation Layer":d?"Tiled Imagery Layer":"Imagery Layer"}else"Scene Service"===r?c="Scene Layer":"Scene Package"===r?c="Scene Layer Package":"Stream Service"===r?c="Feature Layer":"Geocoding Service"===r?c="Locator":"Microsoft Powerpoint"===r?c="Microsoft PowerPoint":"OGCFeatureServer"===r?c="OGC Feature Layer":"GeoJson"===r?c="GeoJSON":"Globe Service"===r?c="Globe Layer":"Vector Tile Service"===r?c="Tile Layer":"netCDF"===r?c="NetCDF":"Map Service"===r?c=-1===a.indexOf("Spatiotemporal")&&(a.indexOf("Hosted Service")>-1||a.indexOf("Tiled")>-1)?"Tile Layer":"Map Image Layer":r&&r.toLowerCase().indexOf("add in")>-1?c=r.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===r?c="Big Data File Share":"Web Mapping Application"===r&&(null==a?void 0:a.includes("configurableApp"))&&(c="Instant App");return c},u=Object(a.a)((function(e,t){return Object(r.a)(Object(r.a)({},t),{displayName:c(e,t)})}))},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(16),a=function(e,t){var n=[],r=e.typeKeywords?e.typeKeywords:[];return e.contentStatus&&("org_authoritative"===e.contentStatus||"public_authoritative"===e.contentStatus?n.push("authoritative"):"deprecated"===e.contentStatus&&n.push("deprecated")),e.origin&&n.push("collaboration"),e.groupDesignations&&e.groupDesignations.indexOf("livingatlas")>-1&&n.push("livingAtlas"),r.indexOf("Requires Credits")>-1?n.push("premium"):r.indexOf("Requires Subscription")>-1&&n.push("subscriber"),r.indexOf("Public Data Collection")>-1&&((null==t?void 0:t.portalUser)||(null==t?void 0:t.user))&&n.push("publicDataCollection"),"Solution"===e.type&&e.typeKeywords.indexOf("ArcGIS Solution")>-1&&n.push("solution"),n},o=Object(i.a)((function(e,t){return Object(r.a)(Object(r.a)({},t),{badges:a(t,e)})}))},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ar:"مستضاف",bs:"hostirano",ca:"allotjat",cs:"hostovaná položka",da:"hostede",de:"gehostet",el:"hosted",en:"hosted",es:"alojado",et:"majutatud",fi:"isännöity",fr:"hébergé",he:"מתארח",hr:"hostirano",hu:"tárolt",id:"di-host",it:"ospitati",ja:"ホスト",ko:"호스팅",lt:"talpinamas",lv:"viesots",nl:"gehoste",nb:"hostet",pl:"hostowane","pt-br":"hospedado","pt-pt":"alojados",ro:"găzduite",ru:"размещенный",sl:"gostujoči",sk:"hostil",sr:"hostovani",sv:"driftade",th:"หลัก",tr:"barındırılan",uk:"розміщений на хості",vi:"được lưu trữ","zh-cn":"托管","zh-hk":"託管","zh-tw":"託管"}},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(0),i=n(16),a=function(e,t){var n;return t.thumbnail&&(n=e.restUrl+"/community/groups/"+t.id+"/info/"+t.thumbnail+(e.credential?"?token="+e.credential.token:"")),n},o=Object(i.a)((function(e,t){return Object(r.a)(Object(r.a)({},t),{thumbURI:a(e,t)})}))},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s}));var r,i=n(0),a=n(26);!function(e){e.LOADING="loading",e.LOADED="loaded",e.FAILED="failed"}(r||(r={}));var o=function(e){var t=e.selectedGroups,n=e.selectorItems;return 0===n.length?Object.keys(t).map((function(e){return t[e].group})):Object.keys(t).filter((function(e){return u(t[e],n)})).map((function(e){return t[e].group}))},c=function(e){var t=e.initialSelectedGroups,n=e.selectedGroups,r=Object.keys(n).map((function(e){return n[e].group.id}));return Object.keys(t).map((function(e){return t[e].group.id})).filter((function(e){return r.indexOf(e)<0})).map((function(e){return t[e].group}))},u=function(e,t){return!e.selectedByIds||e.selectedByIds.length===t.length},s={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:r.LOADING,total:0,hasGroups:!0};t.b=function(e,t){switch(void 0===e&&(e=s),t.type){case a.a.DESELECT_GROUPS:return Object(i.a)(Object(i.a)({},e),{selectedGroups:t.payload.reduce((function(e,t){var n=e,r=t.id;n[r];return Object(i.f)(n,["symbol"==typeof r?r:r+""])}),e.selectedGroups)});case a.a.REVERT_GROUPS:return t.payload?Object(i.a)(Object(i.a)({},e),{selectedGroups:t.payload.reduce((function(t,n){var r;if(e.initialSelectedGroups[n.id])return Object(i.a)(Object(i.a)({},t),((r={})[n.id]=e.initialSelectedGroups[n.id],r));var a=t,o=n.id;a[o];return Object(i.f)(a,["symbol"==typeof o?o:o+""])}),e.selectedGroups)}):Object(i.a)(Object(i.a)({},e),{selectedGroups:Object(i.a)({},e.initialSelectedGroups)});case a.a.SELECT_GROUPS:var n=e.selectorItems.map((function(e){return e.id}));return Object(i.a)(Object(i.a)({},e),{selectedGroups:t.payload.reduce((function(e,t){var r;return Object(i.a)(Object(i.a)({},e),((r={})[t.group.id]=Object(i.a)({selectedByIds:n},t),r))}),e.selectedGroups)});case a.a.SET_INITIAL_GROUPS:var o=t.payload.reduce((function(e,t){var n;return Object(i.a)(Object(i.a)({},e),((n={})[t.group.id]=t,n))}),{});return Object(i.a)(Object(i.a)({},e),{selectedGroups:o,initialSelectedGroups:Object(i.a)({},o)});case a.a.SET_SELECTOR_ITEMS:return Object(i.a)(Object(i.a)({},e),{selectorItems:t.payload});case a.a.CLEAR_SELECTION:return Object(i.a)(Object(i.a)({},e),{selectedGroups:{}});case a.a.LOADING_GROUPS:return Object(i.a)(Object(i.a)({},e),{status:r.LOADING});case a.a.LOAD_GROUPS_SUCCESS:return Object(i.a)(Object(i.a)({},e),{displayGroups:t.payload.results,total:t.payload.total,status:r.LOADED});case a.a.LOAD_GROUPS_FAIL:return Object(i.a)(Object(i.a)({},e),{displayGroups:[],status:r.FAILED});case a.a.SET_HAS_GROUPS:return Object(i.a)(Object(i.a)({},e),{hasGroups:t.payload});default:return e}}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"k",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"i",(function(){return j})),n.d(t,"h",(function(){return R})),n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return A})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return w}));var r,i=n(0),a=n(172),o=n(140),c=n(131),u=n(61),s=n(29),l=n(325),d=n(188),p=n(368),f=n(55),b=n(56),h=n(25);!function(e){e.SET_SELECTED_SHARE_LEVEL="SET_SELECTED_SHARE_LEVEL",e.SET_INITIAL_SHARE_LEVEL="SET_INITIAL_SHARE_LEVEL",e.SET_CURRENT_VIEW="SET_CURRENT_VIEW",e.SET_AND_FOCUS_VIEW="SET_AND_FOCUS_VIEW",e.SET_DEPENDENT_ITEMS="SET_DEPENDENT_ITEMS",e.SET_MINI_DIALOG="SET_MINI_DIALOG",e.SET_SHARE_MODE="SET_SHARE_MODE",e.SET_USER_TYPE="SET_USER_TYPE",e.SET_HELP_MAP="SET_HELP_MAP"}(r||(r={}));var m=function(e){return{type:r.SET_SELECTED_SHARE_LEVEL,payload:e}},v=function(){return{type:r.SET_INITIAL_SHARE_LEVEL}},O=function(e){return{type:r.SET_MINI_DIALOG,payload:e}},g=function(){return function(e,t){var n,i,o=t(),c=o.utilities,s=c.portal,l=c.request,d=o.resources.items,p=E(o),f=s.urlKey||s.isPortal?h.e.ORG:h.e.PUBLIC;e(v()),e((n=p,{type:r.SET_SHARE_MODE,payload:n})),e((i=f,{type:r.SET_USER_TYPE,payload:i})),e(Object(a.a)({selectorItems:d,anySelectorItemsPrivate:t().resources.selectedOptions[h.b.private]>0,shareMode:p,userType:f})).then((function(){return Object(u.a)(s,l)})).then((function(t){var n;e((n=t,{type:r.SET_HELP_MAP,payload:n})),e(y(h.a.SHARE))}))}},y=function(e){return function(t){t(function(e){return{type:r.SET_CURRENT_VIEW,payload:e}}(e))}},E=function(e){var t=e.resources,n=t.items,r=t.portalUser,i=e.utilities.portal,a=n[0];if(Object(b.d)(a,r))return h.d.DEFAULT;var o=!a.orgId||a.orgId===r.orgId;return Object(f.h)({items:n,user:r,portal:i})&&o?h.d.ADMIN:h.d.GROUP};function _(e,t){var n=t(),r=n.utilities.request,i=n.resources,a=i.items,o=i.selectedOptions,c=i.selectedOptionsDirty,u=Object(d.b)(a),s=c&&o.public===o.total;e(y(h.a.LOADING)),u.length>0&&s?Object(d.a)({items:u,request:r}).then((function(t){if(t.length){var n=t.some((function(e){return-1===e.typeKeywords.indexOf("Public Data Collection")}));e(O(n?h.c.PUBLIC_DATA_COLLECTION_DISABLED:h.c.PUBLIC_DATA_COLLECTION_ENABLED))}else e(S)})).catch((function(){e(S)})):e(S)}function S(e,t){var n=t(),i=n.utilities,a=i.portal,o=i.request,s=i.onComplete,l=n.resources,d=l.items,f=l.selectedOptions,b=l.portalUser,m=n.gbState.groups,v=m.selectedGroups,O=m.initialSelectedGroups,g=Object(c.d)({selectedGroups:v,selectorItems:d}),y=Object(c.c)({initialSelectedGroups:O,selectedGroups:v}),E=[];Object(u.h)({items:d,groups:y,portalUser:b,restUrl:a.restUrl,request:o}).then((function(){return Object(u.g)({items:d,groups:g,portalUser:b,request:o,restUrl:a.restUrl,selectedOptions:f})})).catch((function(e){e.results?E=E.concat(Object(p.a)(e.results,d)):e.message&&E.push({error:e})})).then((function(){return e(T)})).then((function(){var n=t().resources,i=n.items,a=n.dependentItems,o=a.needShareLevelUpdate,c=a.needGroupSharingUpdate,l=a.notEditable,d=a.premium,p=a.needPubliclyEditableWarning,f=a.needEditableWarning,b=a.needDataCollectionEnabled,m=a.needGroupDependentApplicationWarning,v=n.selectedOptions,O=n.selectedOptionsDirty,g=O&&v.public===v.total;if(0!==o.length||0!==c.length||0!==l.length||0!==d.length||0!==p.length||0!==f.length||0!==b.length||0!==m.length&&g||0!==Object(u.c)(i,v,O).length)e({type:r.SET_CURRENT_VIEW,payload:h.a.DEPENDENT_ITEM_CONFIRMATION});else{var y=E.length>0?{errors:E,selectedOptions:v}:{selectedOptions:v};s(y)}})).catch(console.error)}function j(e,t){var n=t(),r=n.utilities,a=r.portal,o=r.request,l=r.onComplete,d=n.resources,p=d.dependentItems,f=p.needShareLevelUpdate,b=p.needGroupSharingUpdate,h=p.needEditableWarning,m=d.selectedOptions,v=d.portalUser,O=n.gbState.groups,g=O.selectedGroups,y=O.selectorItems;if(0!==f.length||0!==b.length||0!==h.length){var E=Object(u.g)({items:Object(i.g)(Object(i.g)([],f),h),groups:[],portalUser:v,request:o,restUrl:a.restUrl,selectedOptions:m}),_=Object(u.g)({items:b,groups:Object(c.d)({selectedGroups:g,selectorItems:y}),portalUser:v,request:o,restUrl:a.restUrl,selectedOptions:m,ignoreShareLevel:!0});s.Promise.all([E,_]).then((function(){var e=Object(i.g)(Object(i.g)(Object(i.g)([],f),b),h),t=e.map((function(e){return e.id})),n=e.filter((function(e,n){return t.indexOf(e.id)===n}));l({dependentItems:n,selectedOptions:m})})).catch((function(e){throw e}))}else l({selectedOptions:m})}var T=function(e,t){var n=t(),i=n.resources,a=i.items,o=i.selectedOptions,c=n.utilities,u=c.portal,d=c.request,p=c.iconDir,f=n.gbState.groups,b=f.selectedGroups,h=f.selectorItems,m=a.map((function(e){return Object(l.b)({item:e,portal:u,request:d,iconDir:p})}));return s.Promise.all(m).then((function(e){return I({dependentItems:e,selectedGroups:b,selectorItems:h,selectedOptions:o,request:d,portal:u})})).then((function(t){e({type:r.SET_DEPENDENT_ITEMS,payload:t})}))},I=function(e){var t=e.dependentItems,n=e.selectedGroups,r=e.selectorItems,i=e.selectedOptions,a=e.request,o=e.portal;return new s.Promise((function(e,p){var f=Object(u.b)(t).filter((function(e){return e})),b=f.map((function(e){return e.id})),m=f.filter((function(e,t){return b.indexOf(e.id)===t}));s.Promise.all(m.map((function(e){return Object(l.a)({item:e,selectedOptions:i,selectedGroups:Object(c.d)({selectedGroups:n,selectorItems:r}),request:a,portal:o})}))).then((function(t){var n=[],r=[],a=[],o=[],c=[],s=[],l=[],p=[],f=!Object(u.e)(i)&&Object(u.d)(i)===h.b.public;t.forEach((function(e,t){var i=m[t];if(e.premium)o.push(i);else{if(!e.groupDependentApplication)return f&&e.editable&&Object(d.c)(i)&&i.isUpdateLayer?i.access===h.b.public?void s.push(i):i.typeKeywords.indexOf("Public Data Collection")>-1?void c.push(i):void l.push(i):void((e.needsShareLevelUpdate||e.needsGroupSharingUpdate)&&(e.editable?(e.needsShareLevelUpdate&&r.push(i),e.needsGroupSharingUpdate&&n.push(i)):a.push(i)));p.push(i)}})),e({needGroupSharingUpdate:n,needShareLevelUpdate:r,notEditable:a,premium:o,needPubliclyEditableWarning:s,needEditableWarning:c,needDataCollectionEnabled:l,needGroupDependentApplicationWarning:p})})).catch((function(e){throw e}))}))};function R(e,t){switch(t().resources.currentMiniDlg){case h.c.OPEN_GROUP_BROWSER:e(m(h.b.public)),e(y(h.a.GROUP_BROWSER));break;case h.c.REVERT_SHARE_LEVEL:e(v()),e(Object(o.c)());break;case h.c.REVERT_GROUPS:e(m(h.b.public)),e(Object(o.c)());break;case h.c.EDITABLE_LAYERS:e(S);break;case h.c.SET_SHARE_TO_PRIVATE:e(m(h.b.private)),e(Object(o.a)());break;case h.c.PUBLIC_DATA_COLLECTION_DISABLED:e(y(h.a.SHARE));break;case h.c.PUBLIC_DATA_COLLECTION_ENABLED:e(S);break;case h.c.NONE:}e({type:r.SET_MINI_DIALOG,payload:h.c.NONE})}var L=function(e,t){var n=t(),r=n.gbState.groups.initialSelectedGroups,i=n.resources.selectedOptions;n.config.userType===h.e.PUBLIC&&i.private>0&&Object.keys(r).length>0?e(O(h.c.REVERT_GROUPS)):e(Object(o.c)())},A=function(e,t){var n=t(),r=n.utilities.portal,i=n.resources,a=i.portalUser,o=i.selectedOptions;Object(f.k)(r)||Object(f.a)(a)||!Object(u.e)(o)&&Object(u.d)(o)!==h.b.private?e(y(h.a.GROUP_BROWSER)):e(O(h.c.OPEN_GROUP_BROWSER))},D=function(e,t){var n=t(),r=n.utilities.portal,i=n.resources,a=i.portalUser,o=i.items,c=n.gbState.groups.selectedGroups;Object(f.k)(r)||Object(f.b)(a)||!Object(d.d)({items:o,groupDatas:Object.keys(c).map((function(e){return c[e]}))})?e(v()):e(O(h.c.REVERT_SHARE_LEVEL))},w=function(e){return function(t,n){var r=n(),i=r.utilities.portal,a=r.resources.portalUser,o=r.gbState.groups.selectedGroups;!Object(f.k)(i)&&!Object(f.b)(a)&&e===h.b.private&&Object.keys(o).length>0?t(O(h.c.SET_SHARE_TO_PRIVATE)):t(m(e))}}},140:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return p}));var r=n(0),i=n(177),a=n(159),o=n(67),c=function(e){return e.length>1&&Object(a.a)(),{type:o.a.SELECT_GROUPS,payload:e.map((function(e){return{group:Object(i.c)(e)}}))}},u=function(e){return{type:o.a.SET_INITIAL_GROUPS,payload:e.map((function(e){return Object(r.a)(Object(r.a)({},e),{group:Object(i.c)(e.group)})}))}},s=function(e){return e.length>1&&Object(a.b)(),{type:o.a.DESELECT_GROUPS,payload:e}},l=function(e){return{type:o.a.REVERT_GROUPS,payload:e}},d=function(){return Object(a.c)(),{type:o.a.CLEAR_SELECTION}},p=function(e){return{type:o.a.SET_SELECTOR_ITEMS,payload:e}}},145:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(16),a=function(e,t){if(t.thumbnail)return e.restUrl+"/community/users/"+t.username+"/info/"+t.thumbnail+(e.credential?"?token="+e.credential.token:"")},o=Object(i.a)((function(e,t){return Object(r.a)(Object(r.a)({},t),{thumbURI:a(e,t)})}))},155:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(0),i=n(177),a=n(32),o=n(159),c=n(57),u=n(67),s=n(29),l=n(61),d=n(37),p=n(25),f=function(e,t){b(t()).then((function(n){var a=t(),s=Object(c.b)(a)?a:a.gbState,l=s.ui,d=s.utils;l.focus.focusSelectAll&&Object(o.c)(),e({type:u.a.LOAD_GROUPS_SUCCESS,payload:Object(r.a)(Object(r.a)({},n),{results:n.results.map((function(e){return Object(i.b)(d.portal,e)}))})})})).catch((function(n){var r=t();(Object(c.b)(r)?r:r.gbState).ui.focus.focusSelectAll&&Object(o.c)(),e({type:u.a.LOAD_GROUPS_FAIL,payload:n})}))},b=function(e){var t=Object(c.b)(e)?e:e.gbState,n=t.utils,r=n.request,i=n.portal,o=t.config,u=o.groupsPerPage,l=o.withinShare,p=(o.withinAppConfig,t.parameters),f=p.filter,b=p.sort,h=t.ui.page.currentPageNumber,m={q:S(t),num:u,sortField:b.field,sortOrder:b.order,start:(h-1)*u+1};return l&&(m.searchUserAccess="groupMember",m.searchUserName=f.currentUsername),f.designationFilter!==d.b.orgSettings||O(i)?new s.Promise((function(e,t){Object(a.g)(r,i,m).then(e,t)})):new s.Promise((function(e){e({query:m.q,total:0,start:1,num:100,nextStart:-1,results:[]})}))},h=function(e){var t=e.user,n=e.state,i=Object(c.b)(n)?n:n.gbState,o=i.utils,u=o.request,d=o.portal,p=Object(r.a)(Object(r.a)({},i),{parameters:Object(r.a)(Object(r.a)({},i.parameters),{filter:Object(r.a)(Object(r.a)({},i.parameters.filter),{currentUsername:t.username})})}),f={q:S(p),num:100,searchUserAccess:"groupMember",searchUserName:t.username};return new s.Promise((function(e,t){return Object(a.g)(u,d,f).then((function(t){if(-1!==t.nextStart){for(var n=Math.ceil(t.total/100)-1,i=[t.results],o=function(e){i.push(new s.Promise((function(t,n){var i=100*(e+1)+1;Object(a.g)(u,d,Object(r.a)(Object(r.a)({},f),{start:i})).then((function(e){t(e.results)}),n)})))},c=0;c<n;c++)o(c);s.Promise.all(i).then((function(t){e(Object(l.b)(t))}))}else e(t.results)}),t)})).catch((function(e){throw e}))},m=function(e){var t=e.shareMode,n=e.currentUsername,r=e.portalUser;switch(t){case p.d.DEFAULT:return"(owner:"+n+" OR isviewonly:false)";case p.d.GROUP:return"owner:"+n+" -capabilities:updateitemcontrol";case p.d.ADMIN:return r.username===n?"(isviewonly:false OR owner:"+r.username+") -capabilities:updateitemcontrol":"(owner:"+n+" OR isviewonly:false)";default:return""}},v=function(e,t){0!==(null==e?void 0:e.indexOf("id:"))||t.indexOf(e)>-1||t.push(e)},O=function(e){var t,n,r,i,a,o=[],c=[e.featuredItemsGroupQuery,e.basemapGalleryGroupQuery,e.templatesGroupQuery,e["2DStylesGroupQuery"],e.stylesGroupQuery,e.analysisLayersGroupQuery,e.galleryTemplatesGroupQuery];if(e.hasModernHomePageEnabled){var u=(null===(n=null===(t=e.homePageConfig)||void 0===t?void 0:t.content)||void 0===n?void 0:n.filter((function(e){return"gallery"===e.type&&!!e.groupId})))||[];u.length>0&&u.forEach((function(e){var t=e.groupId;v("id:"+t,o)}))}else c.push(e.homePageFeaturedContent);return c.forEach((function(e){v(e,o)})),null===(r=e.featuredGroups)||void 0===r||r.forEach((function(e){var t=e.id;t&&v("id:"+t,o)})),null===(a=null===(i=e.userDefaults)||void 0===i?void 0:i.groups)||void 0===a||a.forEach((function(e){v("id:"+e,o)})),o.length>0?"("+o.join(" OR ")+")":""},g=function(e){var t=e.designationFilter,n=e.portal;switch(t){case d.b.openData:return"isopendata:true";case d.b.updateGroups:return"capabilities:updateitemcontrol";case d.b.distributed:return"capabilities:distributed";case d.b.administrative:return"isleavingdisallowed:true";case d.b.orgSettings:return O(n)||"";default:return""}},y=function(e){return e?"anyOrg"===e?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:"+e:""},E=function(e){var t=e.ownerFilter,n=e.portal,r=e.username,i=e.currentUsername,a=e.shareMode,o=e.userType,c=e.withinAppConfig,u=a===p.d.ADMIN&&i||r,s=n.isPortal&&c?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(t){case d.d.itemOwner:return"owner:"+u+" "+s;case d.d.inOrg:return"-owner:"+u+" orgid:"+n.id+" "+s;case d.d.outsideOrg:if(o===p.e.PUBLIC)return"-owner:"+u+" "+s;return"(orgid: [0 TO \\{]) -orgid:"+n.id+" "+s;default:return s}},_=function(e){return e?"created"+": ["+(t=e).start+" TO "+t.end+"]":"";var t},S=function(e){var t=e.utils,n=t.portal,r=t.portalUser,i=e.config,a=i.baseQ,o=i.shareMode,c=i.userType,u=i.withinAppConfig,s=i.hasIndoorsSpaces,l=e.parameters.filter,d=l.searchString,p=l.designationFilter,f=l.membershipFilter,b=l.dateCreatedFilter,h=l.currentUsername,v=l.ownerFilter;return[a+" "+d,m({shareMode:o,currentUsername:h,portalUser:r}),s?"-capabilities:distributed":g({designationFilter:p,portal:n}),s?"memberorgids:NULL":y(f),_(b),E({ownerFilter:v,portal:n,username:r.username,currentUsername:h,shareMode:o,userType:c,withinAppConfig:u})].filter((function(e){return e})).join(" ").trim()}},159:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));function r(){o("gb__select-all-input")}function i(){o("gb__clear-selection-btn")}function a(){setTimeout((function(){var e=document.querySelector(".gcard-gcc__container");if(e){var t=e.querySelector(".btn-2018check__input");t&&t.focus()}}),50)}function o(e){setTimeout((function(){var t=document.querySelector("#"+e);t&&t.focus()}),50)}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){return function t(){for(var n=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return i.length>=e.length?e.call.apply(e,Object(r.g)([this],i)):function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return t.call.apply(t,Object(r.g)(Object(r.g)([n],i),e))}}}},164:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},17:function(t,n){t.exports=e},170:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"}(r||(r={}))},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),i=n(57),a=n(140),o=n(155),c=n(303),u=n(184),s=n(32),l=n(29),d=n(26),p=n(61),f=n(67),b=n(56),h=function(e){return function(t,n){var r=n(),s=(Object(i.b)(r)?r:r.gbState).utils,f=s.portal,h=s.portalUser;if(!(e&&e.selectorItems&&e.selectorItems.length>0))return t(o.b),l.Promise.resolve();var v=e.selectorItems,O=e.shareMode,g=e.userType;t({type:d.a.SET_SHARE_MODE,payload:O}),t({type:d.a.SET_USER_TYPE,payload:g}),t(Object(a.f)(v));var y=Object(b.b)({user:h,items:v,portal:f}),E=h.username===y.username?[h]:[h,y];return E.length>1&&!e.anySelectorItemsPrivate&&t({type:d.a.ENABLE_USER_TOGGLE}),t(Object(u.c)(E)),t(Object(u.h)(y.username)),t(o.b),void 0===r.config.hasTrustedOrgs&&t(c.a),l.Promise.all(E.map((function(e){return Object(o.a)({user:e,state:n()})}))).then((function(e){var n=Object(p.b)(e),r=n.map((function(e){return e.id})),i=n.filter((function(e,t){return r.indexOf(e.id)===t}));return t(m(i))}))}},m=function(e){return function(t,n){return new l.Promise((function(o,c){var u=n(),d=Object(i.b)(u)?u:u.gbState,p=d.utils,b=p.portal,h=p.request,m=d.groups.selectorItems,v=Object(s.b)(m),O=Object(s.a)(e).map((function(e){return Object(s.i)({itemIds:v,groupIds:Object(s.b)(e),portal:b,request:h})}));l.Promise.all(O).then((function(n){var i=n.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),t)}),{}),c=Object.keys(i),u=e.filter((function(e){return c.indexOf(e.id)>=0})).map((function(e){return{group:e,selectedByIds:i[e.id].items.map((function(e){return e.itemId}))}}));t({type:f.a.SET_HAS_GROUPS,payload:e.length>0}),t(Object(a.e)(u)),o()})).catch(c)}))}}},177:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s}));var r=n(59),i=n(6),a=n(96),o=n(124),c=function(e,t){return Object(r.a)(Object(o.b)(e))(t)},u=Object(r.a)(Object(i.e)("thumbURI")),s=function(e){var t=e.selectedBy,n=e.initialSelectedByIds;return!Object(a.a)(t.map((function(e){return e.id})),n)}},184:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(82),i=function(e){return{type:r.a.SET_SEARCH_STRING,payload:e}},a=function(e){return{type:r.a.UPDATE_OWNER_FILTER,payload:e}},o=function(e){return{type:r.a.UPDATE_USERNAME_FILTER,payload:e}},c=function(e){return{type:r.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:e}},u=function(e){return{type:r.a.UPDATE_MEMBERSHIP_FILTER,payload:e}},s=function(e){var t=e.section,n=e.created;return{type:r.a.UPDATE_CREATED_ON_FILTER,payload:{section:t,created:n}}},l=function(e){return{type:r.a.SET_USERS,payload:e}},d=function(e){return{type:r.a.CLEAR_FILTERS,payload:e}}},186:function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,s=[],l=!1,d=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):d=-1,s.length&&f())}function f(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++d<t;)u&&u[d].run();d=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new b(e,t)),1!==s.length||l||c(f)},b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},188:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(29),i=n(32),a=n(25),o=function(e){var t=e.items,n=e.groupDatas;return t.filter((function(e){var t=e.access?e.access:e.sharing&&e.sharing.access;return t===a.b.private||t===a.b.shared})).reduce((function(e,t){return e||c({item:t,groupDatas:n})}),!1)},c=function(e){var t=e.item;return e.groupDatas.reduce((function(e,n){return e||!!n.selectedByIds&&n.selectedByIds.indexOf(t.id)>=0}),!1)};function u(e){return"Feature Service"===e.type&&e.typeKeywords.indexOf("Hosted Service")>-1}function s(e){return e.filter((function(e){return e.access!==a.b.public&&u(e)}))}function l(e){var t=e.items,n=e.request,a=t.map((function(e){return function(e,t){return new r.Promise((function(n){u(e)?Object(i.v)(t,e.url+"/layers").then((function(t){var r=t.layers;n((null==r?void 0:r.reduce((function(e,t){return e||t&&t.capabilities.indexOf("Editing")>-1}),!1))&&e)}),(function(){return n(!1)})):n(!1)}))}(e,n)}));return r.Promise.all(a).then((function(e){return e.filter((function(e){return e}))}))}},196:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.SET_PAGE="SET_PAGE",e.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN",e.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"}(r||(r={}))},197:function(e,t){e.exports=r},199:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),i=n(26),a={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};t.a=function(e,t){switch(void 0===e&&(e=a),t.type){case i.a.ENABLE_USER_TOGGLE:return Object(r.a)(Object(r.a)({},e),{enableUserToggle:!0});case i.a.SET_SHARE_MODE:return Object(r.a)(Object(r.a)({},e),{shareMode:t.payload});case i.a.SET_USER_TYPE:return Object(r.a)(Object(r.a)({},e),{userType:t.payload});case i.a.TRUSTED_ORGS_LOADED:return Object(r.a)(Object(r.a)({},e),{hasTrustedOrgs:t.payload.length>0});case i.a.SET_SELECTOR_ITEMS:var n=!!t.payload.find((function(e){var t;return(null===(t=null==e?void 0:e.typeKeywords)||void 0===t?void 0:t.indexOf("EditExtensionIndoorsSpaces"))>-1}));return Object(r.a)(Object(r.a)({},e),{hasIndoorsSpaces:n});default:return e}}},200:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(17),i=n(201),a=n(37),o={sort:i.b,filter:a.f};t.a=Object(r.combineReducers)({sort:i.a,filter:a.e})},201:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),i=n(26),a={field:"title",order:"asc"},o={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};t.a=function(e,t){switch(void 0===e&&(e=a),t.type){case i.a.CHANGE_SORT_FIELD:return Object(r.a)(Object(r.a)({},e),{field:t.payload,order:o[t.payload]});case i.a.CHANGE_SORT_ORDER:return Object(r.a)(Object(r.a)({},e),{order:t.payload});default:return e}}},202:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(17),i=n(203),a=n(204),o=n(205),c=n(206),u={page:i.b,sort:a.b,focus:o.b,filter:c.b};t.a=Object(r.combineReducers)({page:i.a,sort:a.a,focus:o.a,filter:c.a})},203:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),i=n(26),a={currentPageNumber:1};t.a=function(e,t){switch(void 0===e&&(e=a),t.type){case i.a.CLEAR_FILTERS:case i.a.UPDATE_USERNAME_FILTER:case i.a.UPDATE_OWNER_FILTER:case i.a.UPDATE_CREATED_ON_FILTER:case i.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(r.a)(Object(r.a)({},e),{currentPageNumber:1});case i.a.SET_PAGE:return Object(r.a)(Object(r.a)({},e),{currentPageNumber:t.payload});case i.a.LOAD_GROUPS_SUCCESS:return Object(r.a)(Object(r.a)({},e),{currentPageNumber:t.payload.num>t.payload.total?1:Math.ceil(t.payload.start/t.payload.num)});case i.a.LOAD_GROUPS_FAIL:return Object(r.a)(Object(r.a)({},e),{currentPageNumber:1});default:return e}}},204:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(26),i=!1;t.a=function(e,t){switch(void 0===e&&(e=i),t.type){case r.a.CHANGE_SORT_FIELD:case r.a.CHANGE_SORT_ORDER:case r.a.TOGGLE_SORT_DROPDOWN:return!e;default:return e}}},205:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),i=n(26),a={focusSelectAll:!1};t.a=function(e,t){switch(t.type){case i.a.LOAD_GROUPS_FAIL:case i.a.LOAD_GROUPS_SUCCESS:return Object(r.a)(Object(r.a)({},e),{focusSelectAll:!1});case i.a.CHANGE_SORT_FIELD:case i.a.CHANGE_SORT_ORDER:return Object(r.a)(Object(r.a)({},e),{focusSelectAll:!0});default:return e}}},206:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(0),i=n(26),a=n(37),o={expanded:!1};t.a=function(e,t){switch(t.type){case i.a.CLEAR_FILTERS:switch(t.payload){case void 0:case a.a.DATE_CREATED:return Object(r.a)(Object(r.a)({},e),{dateCreatedSelectedSection:void 0});default:return e}case i.a.TOGGLE_EXPANDED_FILTERS:return Object(r.a)(Object(r.a)({},e),{expanded:!e.expanded});case i.a.UPDATE_CREATED_ON_FILTER:return Object(r.a)(Object(r.a)({},e),{dateCreatedSelectedSection:t.payload.section});default:return e}}},207:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(99),i={portal:{},portalUser:{},request:function(e){return null}};t.a=function(e,t){return void 0===e&&(e=i),t.type,e.portal.portalHostname&&!e.portal.baseUrl&&(e.portal.baseUrl=Object(r.a)(e.portal)),e}},242:function(e,t,n){"use strict";var r=n(124);t.a=function(e,t){var n=e.group,i=e.stacked,a=void 0!==i&&i,o=e.portal,c=e.transparent,u={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!n.thumbURI,"gcard-thumbnail--stacked":a,"gcard-thumbnail--transparent":c};if(n.thumbnail&&!n.thumbURI&&o&&(n.thumbURI=Object(r.a)(o,n)),n.thumbURI)return t("img",{src:n.thumbURI,classes:u,alt:n.title});var s=!(!n.title.charAt(0)||!n.title.charAt(0).match(/^\w+$/));return t("div",{key:"group-thumbnail-"+n.id,classes:u},t("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},t("path",{fill:"#"+n.id.substr(n.id.length-6),d:"M0 0h65v65H0z"}),t("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),s?t("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},n.title.slice(0,1).toUpperCase()):t("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},25:function(e,t,n){"use strict";var r,i,a,o,c;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),function(e){e.org="org",e.private="private",e.public="public",e.shared="shared"}(r||(r={})),function(e){e.LOADING="LOADING",e.SHARE="SHARE",e.GROUP_BROWSER="GROUP_BROWSER",e.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"}(i||(i={})),function(e){e.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE",e.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL",e.REVERT_GROUPS="REVERT_GROUPS",e.EDITABLE_LAYERS="EDITABLE_LAYERS",e.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER",e.NONE="NONE",e.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED",e.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"}(a||(a={})),function(e){e.ORG="ORG",e.PUBLIC="PUBLIC"}(o||(o={})),function(e){e.DEFAULT="DEFAULT",e.ADMIN="ADMIN",e.GROUP="GROUP"}(c||(c={}))},251:function(e,t){e.exports=i},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n(0),a=n(196),o=n(67),c=n(170),u=n(82);!function(e){e.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE",e.SET_SHARE_MODE="SET_SHARE_MODE",e.SET_USER_TYPE="SET_USER_TYPE"}(r||(r={}));var s=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},a.a),o.a),u.a),r),c.a)},284:function(e,t){e.exports=a},29:function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,o=void 0,c=function(e,t){b[i]=e,b[i+1]=t,2===(i+=2)&&(o?o(h):y())},u="undefined"!=typeof window?window:void 0,s=u||{},l=s.MutationObserver||s.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(h,1)}}var b=new Array(1e3);function h(){for(var e=0;e<i;e+=2)(0,b[e])(b[e+1]),b[e]=void 0,b[e+1]=void 0;i=0}var m,v,O,g,y=void 0;function E(e,t){var n=this,r=new this.constructor(j);void 0===r[S]&&C(r);var i=n._state;if(i){var a=arguments[i-1];c((function(){return U(i,r,a,n._result)}))}else D(n,r,e,t);return r}function _(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(j);return I(t,e),t}d?y=function(){return t.nextTick(h)}:l?(v=0,O=new l(h),g=document.createTextNode(""),O.observe(g,{characterData:!0}),y=function(){g.data=v=++v%2}):p?((m=new MessageChannel).port1.onmessage=h,y=function(){return m.port2.postMessage(0)}):y=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(h)}:f()}catch(e){return f()}}():f();var S=Math.random().toString(36).substring(2);function j(){}function T(t,n,r){n.constructor===t.constructor&&r===E&&n.constructor.resolve===_?function(e,t){1===t._state?L(e,t._result):2===t._state?A(e,t._result):D(t,void 0,(function(t){return I(e,t)}),(function(t){return A(e,t)}))}(t,n):void 0===r?L(t,n):e(r)?function(e,t,n){c((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?I(e,n):L(e,n))}),(function(t){r||(r=!0,A(e,t))}),e._label);!r&&i&&(r=!0,A(e,i))}),e)}(t,n,r):L(t,n)}function I(e,t){if(e===t)A(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)L(e,t);else{var n=void 0;try{n=t.then}catch(t){return void A(e,t)}T(e,t,n)}var r,i}function R(e){e._onerror&&e._onerror(e._result),w(e)}function L(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&c(w,e))}function A(e,t){void 0===e._state&&(e._state=2,e._result=t,c(R,e))}function D(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+1]=n,i[a+2]=r,0===a&&e._state&&c(w,e)}function w(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?U(n,r,i,a):i(a);e._subscribers.length=0}}function U(t,n,r,i){var a=e(r),o=void 0,c=void 0,u=!0;if(a){try{o=r(i)}catch(e){u=!1,c=e}if(n===o)return void A(n,new TypeError("A promises callback cannot return that same promise."))}else o=i;void 0!==n._state||(a&&u?I(n,o):!1===u?A(n,c):1===t?L(n,o):2===t&&A(n,o))}var P=0;function C(e){e[S]=P++,e._state=void 0,e._result=void 0,e._subscribers=[]}var G=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(j),this.promise[S]||C(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&L(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===_){var i=void 0,a=void 0,o=!1;try{i=e.then}catch(e){o=!0,a=e}if(i===E&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===k){var c=new n(j);o?A(c,a):T(c,e,i),this._willSettleAt(c,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?A(r,n):this._result[t]=n),0===this._remaining&&L(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),k=function(){function t(e){this[S]=P++,this._result=this._state=void 0,this._subscribers=[],j!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){I(e,t)}),(function(t){A(e,t)}))}catch(t){A(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return k.prototype.then=E,k.all=function(e){return new G(this,e).promise},k.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},k.resolve=_,k.reject=function(e){var t=new this(j);return A(t,e),t},k._setScheduler=function(e){o=e},k._setAsap=function(e){c=e},k._asap=c,k.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=k},k.Promise=k,k},e.exports=r()}).call(this,n(186),n(164))},290:function(e,t,n){"use strict";var r=n(0),i=n(17),a=n(620),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.items,r=t.text,i=t.title,o=t.portal,c=t.error;return n.length>0&&e("div",{key:"need-update-list",classes:{"dependent-items":!0,"dependent-items--error":c}},e("h4",{class:"dependent-items__title"},i.replace("${num}",n.length.toString())),r&&e("p",{class:"dependent-items__count"},r),e("ul",{class:"dependent-items__list"},n.map((function(t){return e(a.a,{key:t.id,item:t,portal:o})}))))},t}(i.Component);t.a=o},302:function(e,t,n){"use strict";var r=n(0),i=n(17),a={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0},o=function(e){function t(t){var n=e.call(this,t)||this;return n.registerFirstFocusable=n.registerFirstFocusable.bind(n),n.registerLastFocusable=n.registerLastFocusable.bind(n),n.handleFocusChange=n.handleFocusChange.bind(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.findFirstFocusable(this.props.children),t=this.findLastFocusable(this.props.children);return e&&t&&(e.properties?e.properties.afterCreate=this.registerFirstFocusable:e.properties={afterCreate:this.registerFirstFocusable},t.properties?t.properties.afterCreate=this.registerLastFocusable:t.properties={afterCreate:this.registerLastFocusable}),this.props.children},t.prototype.findFirstFocusable=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];if(c(n))return n;if(n.children){var r=this.findFirstFocusable(n.children);if(r)return r}}},t.prototype.findLastFocusable=function(e){if(e)for(var t=e.length-1;t>=0;t--){var n=e[t];if(c(n))return n;if(n.children){var r=this.findLastFocusable(n.children);if(r)return r}}},t.prototype.registerFirstFocusable=function(e){this.firstFocusableElement&&this.firstFocusableElement!==e&&this.firstFocusableElement.removeEventListener("keydown",this.handleFocusChange),e.addEventListener("keydown",this.handleFocusChange),this.firstFocusableElement=e,setTimeout((function(){e&&e.focus()}),10)},t.prototype.registerLastFocusable=function(e){this.lastFocusableElement&&this.lastFocusableElement!==e&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange),this.lastFocusableElement=e,this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},t.prototype.handleFocusChange=function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),e.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),e.preventDefault()))},t}(i.Component);function c(e){return a[e.vnodeSelector]&&(!e.properties||!e.properties.disabled&&-1!==e.properties.tabindex)||e.properties&&e.properties.tabindex&&parseInt(e.properties.tabindex,10)>-1}t.a=o},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(32),i=n(57),a=n(170),o=function(e,t){var n=t(),o=(Object(i.b)(n)?n:n.gbState).utils,c=o.request,u=o.portal;Object(r.q)(c,u).then((function(t){var n,r=(null===(n=null==t?void 0:t.trustedOrgs)||void 0===n?void 0:n.filter((function(e){return e.from.established>-1&&e.to.established>-1})))||[];e({type:a.a.TRUSTED_ORGS_LOADED,payload:r})}),(function(){e({type:a.a.TRUSTED_ORGS_LOADED,payload:[]})}))}},309:function(e,t,n){"use strict";var r=n(0),i=n(36),a=n(38),o=n(17),c=n(87),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.onCancel,r=t.title,o=t.onBack;return e("div",{class:"share-dlg__container-header",key:"share-view-header"},e("h2",{key:"share-view-header-title",id:"modal-title",class:"share-dlg__title"},t.back?e("button",{key:"share-dlg-header-back",class:"share-dlg__back",onclick:o,"aria-label":a.backToShare},e("svg",{viewbox:"0 0 24 24",role:"img"},e("path",{d:c.b})),r):r),e("button",{class:"mod__overlay__close","aria-label":i.close,onclick:n},e("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24",fill:"currentColor"},e("path",{d:c.k}))))},t}(o.Component);t.a=u},32:function(e,t,n){"use strict";n.d(t,"u",(function(){return a})),n.d(t,"n",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"m",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return y})),n.d(t,"g",(function(){return E})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return S})),n.d(t,"v",(function(){return j})),n.d(t,"a",(function(){return T})),n.d(t,"i",(function(){return I})),n.d(t,"b",(function(){return R}));var r=n(0),i=n(29),a=function(e){return function(t,n){return e({url:t,content:n.query},{usePost:"post"===n.method}).then((function(e){return{data:e}}))}},o=function(e,t,n){return j(e,t.restUrl+"/portals/self",{culture:n,default:!0})},c=function(e,t,n){return j(e,t.restUrl+"/content/items/"+n+"/data")},u=function(e,t,n,i){return j(e,t.restUrl+"/community/groups",Object(r.a)({q:n},i))},s=function(e,t,n){return j(e,t.restUrl+"/community/groups/"+n+"/categorySchema")},l=function(e,t,n){return j(e,t.restUrl+"/portals/"+(n||t.id)+"/categorySchema")},d=function(e,t){return j(e,t.restUrl+"/portals/"+t.id+"/servers")},p=function(e,t,n,r){return e(t.restUrl+"/portals/"+(n||t.id)+"/collaborationsSummary",r)},f=function(e,t,n,r){return e(t.restUrl+"/portals/"+(n||t.id)+"/collaboratedItems",r)},b=function(e,t,n){return j(e,location.protocol+"//"+t.portalHostname+"/sharing/rest/portals/"+(n||"self"))},h=function(e,t,n){return e(t.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+t.id+" AND access:public",num:100,start:n||1,sortField:"title",sortOrder:"asc"}}).then((function(n){return n.data.total>n.data.start+n.data.num?h(e,t,n.data.start+n.data.num).then((function(e){return Object(r.a)(Object(r.a)({},e),{data:Object(r.a)(Object(r.a)({},e.data),{results:n.data.results.concat(e.data.results)})})})):n}))},m=function(e,t,n,r){return e(t.restUrl+"/community/users/"+n+"/provisionedListings",{query:{f:"json",num:100,start:r||1}}).then((function(r){var a=i.Promise.all(r.data.provisionedListings.filter((function(e){return e.itemId})).map((function(n){return new i.Promise((function(r,i){e(t.restUrl+"/content/items/"+n.itemId,{method:"get",query:{f:"json"}}).then((function(e){var t=e.data;r(t)}),i)})).catch((function(e){return console.error(e)}))}))),o=r.data.provisionedListings.map((function(n){return j(e,t.restUrl+"/content/items/"+(n.id||n.itemId)+"/relatedItems?relationshipType=Listed2ImplicitlyListed&direction=forward").then((function(e){return e}),(function(e){}))}));return r.data.total>r.data.start+r.data.num?m(e,t,n,r.data.start+r.data.num).then((function(e){return i.Promise.all([a].concat(o)).then((function(t){return t[0].results.concat(v(t.slice(1))).concat(e)}))})):i.Promise.all([a].concat(o)).then((function(e){return e[0].filter((function(e){return void 0!==e})).concat(v(e.slice(1)))}))}))};function v(e){return e.reduce((function(e,t){return t&&t.relatedItems?e.concat(t.relatedItems.map((function(e){return e}))):e}),[])}var O=function(e,t,n){return j(e,t.restUrl+"/community/users/"+(n||t.user.username))},g=function(e,t,n){return j(e,t.restUrl+"/content/users/"+(n||t.user.username),{num:1})},y=function(e,t,n){return j(e,t.restUrl+"/content/groups/"+n)},E=function(e,t,n){return j(e,t.restUrl+"/community/groups",n)},_=function(e,t){return j(e,t.restUrl+"/portals/self/settings")},S=function(e,t){return j(e,t.restUrl+"/portals/self/trustedOrgs",{num:100})};function j(e,t,n){return e(t,{query:Object(r.a)({f:"json"},n)}).then((function(e){return e.data}))}function T(e,t){void 0===t&&(t=100);for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,a=(r+1)*t;n.push(e.slice(i,a))}return n.filter((function(e){return e.length>0}))}function I(e){var t=e.itemIds,n=e.portal,r=e.request,a=e.groupIds,o=n.restUrl+"/content/itemsgroups";return new i.Promise((function(e,n){r(o,{method:"get",query:{f:"json",items:t,groups:a}}).then((function(t){var n=t.data;e(n)}),n)}))}var R=function(e,t){return void 0===t&&(t=","),e.map((function(e){return e.id})).join(t)}},325:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m}));var r=n(0),i=n(29),a=n(32),o=n(78),c=n(61),u=n(188),s=n(25),l=function(e){if(e.depth&&e.depth>4)return i.Promise.resolve([]);switch(e.depth=e.depth?e.depth+1:1,e.item.type){case"Web Map":case"Web Scene":return f(e);case"Web Mapping Application":return p(e);default:return i.Promise.resolve([])}},d=function(e){var t=e.item,n=e.request,r=e.portal,c=e.iconDir;return t.itemId?new i.Promise((function(e){Object(a.v)(n,r.restUrl+"/content/items/"+t.itemId).then((function(t){Object(u.b)([t]).length>0?Object(u.a)({items:[t],request:n}).then((function(n){t.isUpdateLayer=n.length>0,e(Object(o.a)(r,c,t))}),(function(){return e(Object(o.a)(r,c,t))})):e(Object(o.a)(r,c,t))}),(function(){return e(null)}))})):i.Promise.resolve(null)},p=function(e){var t=e.item,n=e.request,o=e.portal,u=e.iconDir;return new i.Promise((function(e){Object(a.v)(n,o.restUrl+"/content/items/"+t.id+"/data").then((function(a){var s=function(e){var t,n,i,a,o,c,u,s,l,d,p=(null===(t=null==e?void 0:e.map)||void 0===t?void 0:t.itemId)?[e.map.itemId]:[],f=null!==(a=null===(i=null===(n=e.values)||void 0===n?void 0:n.itemCollection)||void 0===i?void 0:i.map((function(e){return e.id})))&&void 0!==a?a:[],b=null!==(u=null===(c=null===(o=e.values)||void 0===o?void 0:o.webmap)||void 0===c?void 0:c.split(","))&&void 0!==u?u:[],h=null!==(d=null===(l=null===(s=e.values)||void 0===s?void 0:s.webscene)||void 0===l?void 0:l.split(","))&&void 0!==d?d:[];return Object(r.g)(Object(r.g)(Object(r.g)(Object(r.g)([],p),f),b),h)}(a).map((function(e){return d({item:{itemId:e},request:n,portal:o,iconDir:u})}));i.Promise.all(s).then((function(s){var d=s.filter((function(e){return e})),p=d.map((function(e){return l({item:e,request:n,portal:o,iconDir:u})}));i.Promise.all(p).then((function(n){var i,o=Object(r.g)(Object(r.g)([],d),Object(c.b)(n));(null===(i=a.values)||void 0===i?void 0:i.group)&&(t.itemData=a,o.push(t)),e(o)}))}))}))}))},f=function(e){var t=e.item,n=e.request,o=e.portal,c=e.iconDir;return new i.Promise((function(e){return function(e){var t=e.portal,n=e.item,o=e.request;return new i.Promise((function(e){if(n.itemData){var i=n.itemData,c=i.operationalLayers,u=i.baseMap,s=i.tables,l=i.ground;return e(Object(r.g)(Object(r.g)(Object(r.g)(Object(r.g)([],(null==u?void 0:u.baseMapLayers)||[]),(null==l?void 0:l.layers)||[]),c||[]),s||[]))}return Object(a.v)(o,t.restUrl+"/content/items/"+n.id+"/data").then((function(t){var n=t.operationalLayers,i=t.baseMap,a=t.tables,o=t.ground;return e(Object(r.g)(Object(r.g)(Object(r.g)(Object(r.g)([],n||[]),(null==i?void 0:i.baseMapLayers)||[]),(null==o?void 0:o.layers)||[]),a||[]))}),(function(){return e([])}))}))}({request:n,item:t,portal:o}).then((function(t){i.Promise.all(b(t).map((function(e){return d({item:e,request:n,portal:o,iconDir:c})}))).then(e)}))}))},b=function(e){return e.reduce((function(e,t){return(null==t?void 0:t.itemId)?e.concat(t):(null==t?void 0:t.layers)&&"GroupLayer"===t.layerType?e.concat(t.layers):e}),[])},h={needsShareLevelUpdate:!1,needsGroupSharingUpdate:!1,editable:!0,premium:!1,groupDependentApplication:!1},m=function(e){var t=e.item,n=e.selectedOptions,a=e.selectedGroups,o=e.request,c=e.portal;return v({item:t,selectedOptions:n})?i.Promise.resolve(Object(r.a)(Object(r.a)({},h),{editable:!1,premium:!0})):O({item:t,selectedGroups:a,request:o,portal:c,selectedOptions:n}).then((function(e){return{needsGroupSharingUpdate:e.needsGroupSharingUpdate,needsShareLevelUpdate:e.needsShareLevelUpdate||g({item:t,selectedOptions:n}),editable:e.editable,premium:!1,groupDependentApplication:e.groupDependentApplication}}))},v=function(e){var t=e.selectedOptions,n=e.item;if(Object(c.e)(t))return!1;if(Object(c.d)(t)===s.b.public){var r=n.typeKeywords;return n.owner.toLowerCase().indexOf("esri")>-1&&((null==r?void 0:r.indexOf("Requires Credits"))>-1||(null==r?void 0:r.indexOf("Requires Subscription"))>-1)}return!1},O=function(e){var t=e.item,n=e.selectedGroups,o=e.selectedOptions,u=e.request,l=e.portal;return new i.Promise((function(e,i){var d,p;if("Web Mapping Application"===t.type&&(null===(p=null===(d=t.itemData)||void 0===d?void 0:d.values)||void 0===p?void 0:p.group))e(Object(r.a)(Object(r.a)({},h),{groupDependentApplication:!0}));else{var f=t.ownerFolder?"/"+t.ownerFolder:"",b=l.restUrl+"/content/users/"+t.owner+f+"/items/"+(t.itemId||t.id);Object(a.v)(u,b).then((function(i){var a,u=i.item.itemControl,l=i.sharing.groups,d=t.access||(null===(a=t.sharing)||void 0===a?void 0:a.access);if(Object(c.f)(t)&&o.total===o.public)e(Object(r.a)(Object(r.a)({},h),{needsShareLevelUpdate:!0,editable:!1}));else if(u&&"admin"!==u&&"update"!==u)e(Object(r.a)(Object(r.a)({},h),{editable:!1}));else if(d!==s.b.public)if(n.length>l.length)e(Object(r.a)(Object(r.a)({},h),{needsGroupSharingUpdate:!0}));else{var p=n.some((function(e){return l.indexOf(e.id)<0}));e(Object(r.a)(Object(r.a)({},h),{needsGroupSharingUpdate:p}))}else e(Object(r.a)({},h))}),(function(n){Object(a.v)(u,l.restUrl+"/content/items/"+(t.itemId||t.id)).then((function(t){var n=t.access;n===s.b.public||n===s.b.org&&o.total===o.org+o.private?e(Object(r.a)(Object(r.a)({},h),{editable:!1})):e(Object(r.a)(Object(r.a)({},h),{needsShareLevelUpdate:!0,editable:!1}))}),(function(t){e(Object(r.a)(Object(r.a)({},h),{needsShareLevelUpdate:!0,editable:!1}))}))}))}}))},g=function(e){var t,n=e.item,r=e.selectedOptions,i=!0;Object(c.e)(r)&&(i=!1);var a=Object(c.d)(r);a!==s.b.private&&a!==s.b.shared||(i=!1);var o=n.access||(null===(t=n.sharing)||void 0===t?void 0:t.access);return o===s.b.public&&(i=!1),o===a&&(i=!1),a===s.b.private&&(o===s.b.shared&&(i=!1),o===s.b.org&&(i=!1)),i}},36:function(e,n){e.exports=t},368:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(38),i=n(96);function a(e,t){var n=e.filter((function(e){var t;return!e.success&&500===(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.code)})).map((function(e){var n=Object(i.c)(t,(function(t){return t.id===e.itemId}));return(null==n?void 0:n.title)||e.itemId}));return e.map((function(e){return function(e,t){e.error=e.error||{};var n=e.error,i=n.messageCode,a=n.code;return i&&r.errors[i]&&(e.error.message=r.errors[i]),a&&r.errors[a]&&(e.error.message=r.errors[a]),(500===i||500===a&&t)&&(e.error.details=t,e.error.message=r.errors[500]+" "+(null==t?void 0:t.join(", "))),e}(e,n)})).filter((function(e){return!e.success}))}},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return l}));var r,i,a,o,c,u=n(0),s=n(26);!function(e){e.openData="openData",e.updateGroups="updateGroups",e.distributed="distributed",e.administrative="administrative",e.orgSettings="orgSettings"}(r||(r={})),function(e){e.owner="owner"}(i||(i={})),function(e){e.itemOwner="itemOwner",e.inOrg="inOrg",e.outsideOrg="outsideOrg"}(a||(a={})),function(e){e.myOrg="org",e.partnered="collaboration",e.anyOrg="anyOrg"}(o||(o={})),function(e){e.USER="USER",e.OWNER="OWNER",e.DESIGNATION="DESIGNATION",e.DATE_CREATED="DATE_CREATED",e.MEMBERSHIP="MEMBERSHIP"}(c||(c={}));var l={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};t.e=function(e,t){switch(void 0===e&&(e=l),t.type){case s.a.CLEAR_FILTERS:switch(t.payload){case c.DESIGNATION:return Object(u.a)(Object(u.a)({},e),{designationFilter:void 0});case c.DATE_CREATED:return Object(u.a)(Object(u.a)({},e),{dateCreatedFilter:void 0});case c.OWNER:return Object(u.a)(Object(u.a)({},e),{ownerFilter:void 0});case c.USER:return e;case c.MEMBERSHIP:return Object(u.a)(Object(u.a)({},e),{membershipFilter:void 0});default:return Object(u.a)(Object(u.a)({},e),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case s.a.UPDATE_OWNER_FILTER:return Object(u.a)(Object(u.a)({},e),{ownerFilter:t.payload===e.ownerFilter?void 0:t.payload});case s.a.UPDATE_USERNAME_FILTER:return Object(u.a)(Object(u.a)({},e),{currentUsername:t.payload});case s.a.UPDATE_CREATED_ON_FILTER:return Object(u.a)(Object(u.a)({},e),{dateCreatedFilter:t.payload.created});case s.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(u.a)(Object(u.a)({},e),{designationFilter:t.payload===e.designationFilter?void 0:t.payload});case s.a.UPDATE_MEMBERSHIP_FILTER:return Object(u.a)(Object(u.a)({},e),{membershipFilter:t.payload===e.membershipFilter?void 0:t.payload});case s.a.SET_USERS:return Object(u.a)(Object(u.a)({},e),{allUsers:t.payload.reduce((function(e,t){var n;return Object(u.a)(Object(u.a)({},e),((n={})[t.username]=t,n))}),{})});case s.a.SET_SEARCH_STRING:return Object(u.a)(Object(u.a)({},e),{searchString:t.payload});default:return e}}},38:function(e,t){e.exports=n},410:function(e,t,n){"use strict";var r,i=n(0),a=n(38),o=n(17),c=n(615),u=n(133),s=n(25),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyUp=function(e){"Escape"===e.key&&t.props.handleSecondaryClick()},t}return Object(i.d)(t,e),t.prototype.render=function(e){var t=this,n=this.props,r=n.handleSecondaryClick,i=n.handlePrimaryClick,a=n.text;if(n.dialogExists&&a)return e("div",{key:"share-mini-dlg__wrapper",afterCreate:function(){window.addEventListener("keyup",t.handleKeyUp)},afterRemoved:function(){window.removeEventListener("keyup",t.handleKeyUp)}},e(c.a,{key:"share-mini-dlg__component",isError:null==a?void 0:a.isError,render:function(){return e("div",{key:"share-mini-dlg",class:"share-mini-dlg"},e("h2",{class:"share-mini-dlg__title"},a.title),e("p",{class:"share-mini-dlg__body"},a.body),e("div",{class:"share-mini-dlg__buttons"},a.secondaryButton&&e("button",{appearance:"outline",onclick:r,id:"share-mini-dlg-secondary",class:"share-dlg__button--secondary share-mini-dlg__cancel-button"},a.secondaryButton),e("button",{onclick:i,id:"share-mini-dlg-primary",class:"share-dlg__button--primary share-mini-dlg__remove-button"},a.primaryButton)))}}))},t}(o.Component);t.a=Object(o.connect)((function(e){var t=e.resources.currentMiniDlg;return{text:d[t],dialogExists:t!==s.c.NONE}}),(function(e){return{handleSecondaryClick:function(){e(Object(u.k)(s.c.NONE)),e(Object(u.j)(s.a.SHARE))},handlePrimaryClick:function(){e(u.h)}}}))(l);var d=((r={})[s.c.OPEN_GROUP_BROWSER]={title:a.MiniDlg.changeShareLevelTitle,body:a.MiniDlg.changeShareLevelBody,primaryButton:a.update,secondaryButton:a.cancel},r[s.c.SET_SHARE_TO_PRIVATE]={title:a.MiniDlg.setShareToPrivateTitle,body:a.MiniDlg.setShareToPrivateBody,primaryButton:a.update,secondaryButton:a.cancel},r[s.c.REVERT_SHARE_LEVEL]={title:a.MiniDlg.revertShareLevelTitle,body:a.MiniDlg.revertShareLevelBody,primaryButton:a.update,secondaryButton:a.cancel},r[s.c.REVERT_GROUPS]={title:a.MiniDlg.revertGroupsTitle,body:a.MiniDlg.revertGroupsBody,primaryButton:a.update,secondaryButton:a.cancel},r[s.c.EDITABLE_LAYERS]={title:a.MiniDlg.editableLayersTitle,body:a.MiniDlg.editableLayersBody,primaryButton:a.update,secondaryButton:a.cancel,isError:!0},r[s.c.PUBLIC_DATA_COLLECTION_ENABLED]={title:a.MiniDlg.publicDataCollectionEnabledTitle,body:a.MiniDlg.publicDataCollectionEnabledBody,primaryButton:a.update,secondaryButton:a.cancel,isError:!0},r[s.c.PUBLIC_DATA_COLLECTION_DISABLED]={title:a.MiniDlg.publicDataCollectionDisabledTitle,body:a.MiniDlg.publicDataCollectionDisabledBody,primaryButton:a.ok,isError:!0},r)},428:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(482),i=n(483),a=n(57),o=n(484),c=n(17);a.a.ui.filter.expanded=window.innerWidth>860;var u={resources:r.b,utilities:i.b,gbState:a.a,config:o.b},s=Object(c.combineReducers)({resources:r.a,utilities:i.a,gbState:a.c,config:o.a})},482:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r,i=n(0),a=n(133),o=n(25),c=((r={total:0})[o.b.private]=0,r[o.b.org]=0,r[o.b.public]=0,r),u={items:[],portalUser:{},selectedOptions:Object(i.a)({},c),selectedOptionsDirty:!1,dependentItems:{needShareLevelUpdate:[],needGroupSharingUpdate:[],notEditable:[],premium:[],needEditableWarning:[],needPubliclyEditableWarning:[],needDataCollectionEnabled:[],needGroupDependentApplicationWarning:[]},currentMiniDlg:o.c.NONE,isLoading:!1};function s(e){var t=Object(i.a)(Object(i.a)({},c),{total:e.length});return e.forEach((function(e){switch(e.access?e.access:e.sharing&&e.sharing.access){case o.b.public:t[o.b.public]++;break;case o.b.org:t[o.b.org]++;break;case o.b.shared:case o.b.private:t[o.b.private]++}})),t}t.a=function(e,t){var n;switch(void 0===e&&(e=u),t.type){case a.a.SET_HELP_MAP:return Object(i.a)(Object(i.a)({},e),{helpMap:t.payload});case a.a.SET_SELECTED_SHARE_LEVEL:var r=e.selectedOptions.total,o=Object(i.a)(Object(i.a)(Object(i.a)({},c),((n={})[t.payload]=r,n)),{total:r}),l=s(e.items),d=!Object.keys(o).reduce((function(e,t){return e&&o[t]===l[t]}),!0);return Object(i.a)(Object(i.a)({},e),{selectedOptions:o,selectedOptionsDirty:d});case a.a.SET_INITIAL_SHARE_LEVEL:return Object(i.a)(Object(i.a)({},e),{selectedOptions:s(e.items),selectedOptionsDirty:!1});case a.a.SET_DEPENDENT_ITEMS:return Object(i.a)(Object(i.a)({},e),{dependentItems:t.payload});case a.a.SET_MINI_DIALOG:return Object(i.a)(Object(i.a)({},e),{currentMiniDlg:t.payload});default:return e}}},483:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var r={onCancel:function(){return null},onComplete:function(){return null},request:function(e){return null},portal:{},iconDir:""};t.a=function(e,t){return void 0===e&&(e=r),t.type,e}},484:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(0),i=n(133),a=n(25),o={groupsPerPage:10,currentView:a.a.LOADING,shareMode:a.d.DEFAULT,userType:a.e.ORG};t.a=function(e,t){switch(void 0===e&&(e=o),t.type){case i.a.SET_CURRENT_VIEW:return Object(r.a)(Object(r.a)({},e),{currentView:t.payload});case i.a.SET_SHARE_MODE:return Object(r.a)(Object(r.a)({},e),{shareMode:t.payload});case i.a.SET_USER_TYPE:return Object(r.a)(Object(r.a)({},e),{userType:t.payload});default:return e}}},55:function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return y}));var r,i=n(59),a=n(145),o=n(6),c=n(56);!function(e){e.user="org_user",e.accountUser="account_user",e.publisher="org_publisher",e.accountPublisher="account_publisher",e.admin="org_admin",e.accountAdmin="account_admin",e.viewer="iAAAAAAAAAAAAAAA",e.dataEditor="iBBBBBBBBBBBBBBB"}(r||(r={}));var u=function(e){var t=e.items,n=e.user,r=e.portal,i=t[0],a=Object(c.c)(i,n),o=p(n),u=v(n,r),s=!!n.orgId&&t.every((function(e){return e.portal.id===n.orgId})),d=Object(c.a)(i,n)&&function(e){return(e.privileges||[]).indexOf("portal:admin:updateItems")>-1}(n)&&!o&&(function(e,t){return!l(t)||h(e)||b(e)||t.canSharePublic&&m(e)}(n,r)||v(n,r));return a||d||s&&u},s=function(e,t){return Object(i.a)(Object(a.a)(e))(t)};function l(e){return!(!e.urlKey||!e.customBaseUrl)}function d(e){return e.role===r.admin||e.role===r.accountAdmin}function p(e){return Object(o.a)(e.roleId)&&(e.roleId||"").length>0}function f(e){return!p(e)||p(e)&&function(e){return(e.privileges||[]).indexOf("portal:admin:viewItems")>-1}(e)}function b(e){return(e.privileges||[]).indexOf("portal:user:shareToOrg")>-1}function h(e){return(e.privileges||[]).indexOf("portal:user:shareToGroup")>-1}function m(e){return(e.privileges||[]).indexOf("portal:user:shareToPublic")>-1}function v(e,t){return O(e)||g(e)||t.canSharePublic&&y(e)}function O(e){return(e.privileges||[]).indexOf("portal:admin:shareToGroup")>-1}function g(e){return(e.privileges||[]).indexOf("portal:admin:shareToOrg")>-1}function y(e){return(e.privileges||[]).indexOf("portal:admin:shareToPublic")>-1}},56:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(6),i=n(55);function a(e,t){return(null==e?void 0:e.owner)===t.username}function o(e,t){return a(e,t)||function(e,t){if(Object(r.a)(e.isAdmin))return!!e.isAdmin;var n=e.owner,i="admin"===e.itemControl;return!(e.portal.isPortal&&!a(e,t)&&i&&n.indexOf("esri_")>-1&&["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(n)<0)&&i}(e,t)}function c(e,t){return o(e,t)||"update"===e.itemControl}var u=function(e){var t=e.user,n=e.items,r=e.portal;return Object(i.h)({items:n,user:t,portal:r})&&Object(i.g)(t)&&n[0].itemOwner||t}},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(17),i=n(207),a=n(200),o=n(131),c=n(202),u=n(199),s=function(e){return!e.gbState},l={config:u.b,parameters:a.b,groups:o.f,ui:c.b,utils:i.b},d=Object(r.combineReducers)({config:u.a,parameters:a.a,groups:o.b,ui:c.a,utils:i.a})},59:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduceRight((function(e,t){return t(e)}),t)}}n.d(t,"a",(function(){return r}))},6:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n(0),i=n(16);function a(e){return 0===Object.keys(e).length&&e.constructor===Object}function o(e){return null!=e}var c=Object(i.a)((function(e,t){var n=Object(r.a)({},t);return delete n[e],n}));function u(e,t){return s.apply(null,arguments)}var s=Object(i.a)((function(e,t){return Object.keys(t).reduce((function(n,r){return n[r]=e(t[r],r,t),n}),{})}));function l(e,t){return d.apply(null,arguments)}var d=Object(i.a)((function(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r],r,t)&&(n[r]=t[r]),n}),{})}))},609:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n(610),a=n(617),o=n(618),c=n(616),u=n(25),s=((r={})[u.a.SHARE]=i.a,r[u.a.LOADING]=c.a,r[u.a.GROUP_BROWSER]=a.a,r[u.a.DEPENDENT_ITEM_CONFIRMATION]=o.a,r)},61:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return y}));var r,i=n(0),a=n(32),o=n(29),c=n(25),u=n(56),s=function(e){var t=e.items,n=e.groups,r=e.restUrl,i=e.request,c=e.portalUser;if(0===t.length)return o.Promise.resolve();var s=Object(a.b)(n);return t.every((function(e){return Object(u.d)(e,c)}))?new o.Promise((function(e,o){if(!n||0===n.length)return e();var u={f:"json",items:Object(a.b)(t),groups:s};i(r+"/content/users/"+c.username+"/unshareItems",{method:"post",query:u}).then(e,o)})):d({items:t,groupIds:s,restUrl:r,request:i,unshare:!0})},l=function(e){var t=e.items,n=e.groups,r=e.restUrl,c=e.request,s=e.portalUser,l=e.selectedOptions,p=e.ignoreShareLevel;if(0===t.length)return o.Promise.resolve();if(!p&&!l)throw"Selected options must be provided unless share level is ignored.";var f=Object(a.b)(n),b=p?{}:h(l);return t.every((function(e){return Object(u.d)(e,s)}))?new o.Promise((function(e,n){c(r+"/content/users/"+s.username+"/shareItems",{method:"post",query:Object(i.a)({f:"json",items:Object(a.b)(t),groups:f,confirmItemControl:!0},b)}).then((function(t){var r=t.data;r.results.every((function(e){return e.success}))?e():n(r)}),n)})):d({items:t,groupIds:f,shareLevelOptions:b,restUrl:r,request:c})};function d(e){var t=e.items,n=e.groupIds,r=e.shareLevelOptions,a=e.restUrl,c=e.request,u=e.unshare;return o.Promise.all(t.map((function(e,t){return new o.Promise((function(t,o){c(a+"/content/items/"+(e.itemId||e.id)+"/"+(u?"unshare":"share"),{method:"post",query:Object(i.a)({f:"json",groups:n,confirmItemControl:!0},r||{})}).then(t,o)}))}))).catch((function(e){throw e}))}var p=function(e){return e.reduce((function(e,t){return Object(i.g)(Object(i.g)([],e),t)}),[])},f=function(e){return Object.keys(e).filter((function(t){return"total"!==t&&e[t]>0})).length>1},b=function(e){return Object.keys(e).filter((function(e){return"total"!==e})).reduce((function(t,n){return e[n]===e.total?n:t}))},h=function(e){return f(e)?{}:m[b(e)]},m=((r={})[c.b.public]={org:!1,everyone:!0},r[c.b.org]={org:!0,everyone:!1},r[c.b.private]={org:!1,everyone:!1},r[c.b.shared]={org:!1,everyone:!1},r),v=["Location Tracking Service","Location Tracking View","IoTFeed","IoTRealTimeAnalytic","IoTBigDataAnalytic","IoTFeatureLayer","IoTMapImageLayer","IoTStreamLayer","Administrative Report","EditExtensionIndoorsSpaces"],O=function(e){var t,n,r=e.typeKeywords,i=e.type,a=v.some((function(e){return r.indexOf(e)>-1}))&&"Real Time Analytic"!==i&&"Big Data Analytic"!==i,o=!(null===(t=null==e?void 0:e.portal)||void 0===t?void 0:t.isPortal)&&"Image Service"===e.type&&(null===(n=e.url)||void 0===n?void 0:n.indexOf("://iservices"))>-1&&e.url.indexOf("arcgis.com")>-1,c="Knowledge Graph"===e.type;return a||o||c},g=function(e,t,n){return function(e,t){return t&&e.public===e.total}(t,n)?e.filter((function(e){return e.typeKeywords.indexOf("DeveloperBasemap")>-1})):[]};function y(e,t){return new o.Promise((function(n,r){var i,a=null===(i=e.helpMap)||void 0===i?void 0:i.m;a?n(a):t(e.restUrl+"/portals/helpmap",{query:{f:"json",format:"json"}}).then((function(e){var t;n(null===(t=e.data.helpMap)||void 0===t?void 0:t.m)}),r)}))}},610:function(e,t,n){"use strict";var r=n(0),i=n(38),a=n(17),o=n(309),c=n(611),u=n(133),s=n(410),l=n(25),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.miniDialogOpen,r=t.onCancel,a=t.attemptToSaveShareState;return[e(o.a,{key:"share-dlg-header",onCancel:r,title:i.share}),e("div",{key:"share-view-content",class:"share-dlg__contents"},e(c.a,{key:"share-dialog"}),e(s.a,{key:"share-mini-dlg"})),e("div",{class:"share-dlg__container-footer",key:"share-view-footer"},e("button",{class:"share-dlg__button--primary",key:"share-view-save",id:"share-modal-primary",disabled:n,onclick:function(){a()}},i.save),e("button",{class:"share-dlg__button--secondary",key:"share-view-close",id:"share-modal-secondary",disabled:n,onclick:r},i.cancel))]},t}(a.Component);t.a=Object(a.connect)((function(e){var t=e.resources.currentMiniDlg,n=e.utilities.onCancel;return{miniDialogOpen:t!==l.c.NONE,onCancel:n}}),(function(e){return{attemptToSaveShareState:function(){e(u.d)}}}))(d)},611:function(e,t,n){"use strict";var r=n(0),i=n(38),a=n(17),o=n(87),c=n(612),u=n(614),s=n(133),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.portal,r=t.resetShareLevel,a=t.selectedOptionsDirty;return e("div",{class:"share-level__wrap",key:"share-level__wrap"},e("div",{class:"share-dlg__header",key:"share-dlg__header"},e("h3",{id:"share-options-title",class:"share-options__title"},i.ShareDialog.setSharingLevel),a&&e("button",{onclick:r,class:"btn-svg share-options__reset share-dlg__btn-svg"},e("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},e("path",{d:o.g})),i.ShareOptions.revert)),e(c.a,{key:"share-options"}),e("hr",{class:"share-dlg__divider"}),e(u.a,{key:"share-groups-section",portal:n}))},t}(a.Component);t.a=Object(a.connect)((function(e){return{portal:e.utilities.portal,selectedOptionsDirty:e.resources.selectedOptionsDirty}}),(function(e){return{resetShareLevel:function(){e(s.e)}}}))(l)},612:function(e,t,n){"use strict";var r,i=n(0),a=n(38),o=n(17),c=n(25),u=n(613),s=n(133),l=n(55),d=n(61),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.handleOptionClick,r=t.selectedOptions,i=t.availableShareLevels,o=t.showOptions,s=t.userType,l=t.possibleShareLevels,p=t.items;return e("fieldset",{class:"share-options"},o&&l.map((function(t){var o=c.b[t],l=Object(d.f)(p[0])?a.ShareDialog.sharingLimitedItemDisclaimer:a.ShareDialog.cannotShareToLevelDisclaimer;return e(u.a,{key:o,level:o,handleLevelClick:function(){n(o)},disabledText:l,total:r.total,count:r[o],userType:s,disabled:-1===i.indexOf(o)})})),o&&i.length<l.length&&!Object(d.f)(p[0])&&e("p",{key:"share-options__disclaimer--limited",class:"share-options__disclaimer"},a.ShareDialog.sharingLimitedDisclaimer),!o&&e("p",{key:"share-options__disclaimer--none",class:"share-options__disclaimer"},a.ShareDialog.noShareDisclaimer))},t}(o.Component);t.a=Object(o.connect)((function(e){var t=e.utilities.portal,n=e.resources,r=n.portalUser,i=n.items,a=n.selectedOptions,o=e.config,u=o.shareMode,s=o.userType,l={user:r,items:i,userType:s},d=u!==c.d.GROUP,p=h({portal:t,portalUser:r,selectedOptions:a,userType:s});return{selectedOptions:a,showOptions:d,userType:s,availableShareLevels:p.filter((function(e){return m[e](l)})),possibleShareLevels:p,items:i}}),(function(e){return{handleOptionClick:function(t){e(Object(s.f)(t))}}}))(p);var f=function(e,t){return t.every((function(t){return t.owner===e.username}))},b=function(e,t){return t.every((function(t){return t.owner===e.username||t.portal.id===(null==e?void 0:e.orgId)}))},h=function(e){var t=e.portal,n=e.portalUser,r=e.selectedOptions;return e.userType===c.e.PUBLIC?[c.b.private,c.b.public]:t.canSharePublic||0!==r.public||Object(l.i)(n)?[c.b.private,c.b.org,c.b.public]:[c.b.private,c.b.org]},m=((r={})[c.b.private]=function(e){return!0},r[c.b.org]=function(e){var t=e.user,n=e.items;if(e.userType===c.e.PUBLIC)return!1;var r=f(t,n),i=b(t,n),a=Object(l.i)(t)&&!Object(l.j)(t)&&b(t,n);return Object(l.b)(t)&&(r||a)||Object(l.e)(t)&&i},r[c.b.public]=function(e){var t=e.user,n=e.items,r=e.userType;if(1===n.length&&Object(d.f)(n[0]))return!1;var i=f(t,n),a=b(t,n),o=Object(l.i)(t)&&!Object(l.j)(t)&&a;return r===c.e.PUBLIC||Object(l.c)(t)&&(i||o)||Object(l.f)(t)&&a},r)},613:function(e,t,n){"use strict";var r,i,a=n(0),o=n(38),c=n(17),u=n(87),s=n(25),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.level,r=t.count,i=t.total,a=t.handleLevelClick,c=t.userType,l=t.disabled,b=t.disabledText,h=f[n],m=h.description,v=h.title;c===s.e.PUBLIC&&n===s.b.public&&(m=o.ShareDialog.everyoneDescriptionPublic);var O=r===i,g=r>0&&!O,y=d(o.ShareOptions[n],r,i),E=d(o.ShareOptions.numItems,r,i);return e("label",{key:v,id:"share-level-"+n,classes:{"share-options__label":!0,"share-options__label--selected":O,"share-options__label--indeterminate":g,"share-options__label--disabled":l},"aria-label":l&&b?b:void 0},e("input",{type:"radio",name:"sharing-type",key:v,class:"share-options__input",checked:O,disabled:l,indeterminate:g,onclick:function(e){e.preventDefault(),l||a()}}),e("svg",{style:"\n              width: 24px;\n              height: 24px;\n              fill: currentColor;\n            ",role:"img"},e("path",{d:p[n]})),e("span",{class:"share-options__content"},e("h4",{class:"share-options__header"},v,g&&e("span",{class:"share-options__indeterminate-text","aria-label":l?void 0:y},e("svg",{style:"\n                      width: 1rem;\n                      height: 1rem;\n                      margin: 0 0.25rem;\n                      display: inline-block;\n                      vertical-align: -0.25rem;\n                      fill: #959595;\n                    "},e("path",{d:u.d})),e("span",null,E))),e("p",{class:"share-options__description"},m)))},t}(c.Component);t.a=l;var d=function(e,t,n){return void 0===e&&(e=""),e.replace("${num}",""+t).replace("${total}",""+n)},p=((r={})[s.b.public]=u.c,r[s.b.org]=u.e,r[s.b.private]=u.h,r[s.b.shared]=u.h,r),f=((i={})[s.b.private]={title:o.ShareDialog.owner,description:o.ShareDialog.ownerDescription},i[s.b.shared]={title:o.ShareDialog.owner,description:o.ShareDialog.ownerDescription},i[s.b.org]={title:o.ShareDialog.organization,description:o.ShareDialog.organizationDescription},i[s.b.public]={title:o.ShareDialog.everyone,description:o.ShareDialog.everyoneDescription},i)},614:function(e,t,n){"use strict";var r=n(0),i=n(38),a=n(17),o=n(242),c=n(87),u=n(133),s=n(55),l=n(177),d=n(67),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.selectedGroupsDatas,r=t.portal,a=t.handleRemoveGroupsClick,o=t.handleRevertGroupsClick,u=t.handleEditGroupSharingClick,s=t.groupSharingMixed,l=t.hasGroups,d=t.groupsDirty,p=t.canShareItemToGroup,f=t.selectorItemsLength;return e("div",{class:"share-groups"},e("h3",{class:"share-groups__header"},i.groups.setGroupSharing,p&&n.length>0&&!d&&e("button",{class:"share-dlg__button--transparent btn-svg share-dlg__btn-svg",id:"share-groups__remove",onclick:a,"aria-haspopup":"true"},e("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},e("path",{d:c.k})),i.groups.remove),d&&e("button",{onclick:o,class:"btn-svg share-options__reset share-dlg__btn-svg"},e("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},e("path",{d:c.g})),i.ShareOptions.revert)),e("div",{class:"share-groups__body"},n.length>0?this.getGroupIcons({needsWarning:s,groupDatas:n,portal:r,selectorItemsLength:f,tsx:e}):e("p",{class:"share-groups__empty"},l?i.groups.noneYet:i.groups.noGroupsToShare),l&&p&&e("button",{onclick:u,id:"edit-group-sharing-button",class:"share-dlg__button--secondary btn-svg share-groups__edit share-dlg__btn-svg"},e("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"16",height:"16",viewBox:"0 0 24 24"},e("path",{d:c.i})),i.groups.editGroupSharing)))},t.prototype.getGroupIcons=function(e){var t=e.groupDatas,n=e.portal,r=e.tsx,a=e.needsWarning,c=e.selectorItemsLength,u=Math.max(t.length-3,0);return r("div",null,r("div",{key:"group-thumbnails",class:"share-groups__thumbnails"},t.slice(0,3).map((function(e){return r(o.a,{transparent:e.selectedByIds&&e.selectedByIds.length!==c,group:e.group,stacked:!0,portal:n})})),u>0&&r("span",{class:"share-groups__plus"},"+"+u)),a&&r("p",{class:"share-groups__empty"},i.groups.mixedGroupSharing))},t}(a.Component);t.a=Object(a.connect)((function(e){var t,n,r,i,a=e.utilities.portal,o=e.resources.portalUser,c=e.gbState.groups,u=c.selectedGroups,d=c.initialSelectedGroups,p=c.selectorItems,f=c.hasGroups,b=Object.keys(u).map((function(e){return u[e]})).sort((function(e,t){return e.selectedByIds&&t.selectedByIds?t.selectedByIds.length-e.selectedByIds.length:0})),h=b[b.length-1],m=(h&&h.selectedByIds&&h.selectedByIds.length||0)<(p&&p.length||0),v=!Object(s.k)(a)||Object(s.a)(o)||Object(s.d)(o)&&(n=u,r=(t=o).username,i=t.orgId,Object.keys(n).every((function(e){var t=n[e].group,a=r===(null==t?void 0:t.owner),o=i&&i===(null==t?void 0:t.orgId);return a||o}))),O=Object.keys(u).length,g=Object.keys(d),y=g.length!==O||g.reduce((function(e,t){return e||!u[t]||Object(l.a)({selectedBy:(u[t].selectedByIds||[]).map((function(e){return{id:e}})),initialSelectedByIds:d[t].selectedByIds||[]})}),!1);return{selectedGroupsDatas:b,groupSharingMixed:m,hasGroups:f,canShareItemToGroup:v,selectorItemsLength:p.length,groupsDirty:y}}),(function(e){return{handleRemoveGroupsClick:function(){e({type:d.a.CLEAR_SELECTION})},handleRevertGroupsClick:function(){e(u.c)},handleEditGroupSharingClick:function(){e(u.b)}}}))(p)},615:function(e,t,n){"use strict";var r=n(302);t.a=function(e,t){var n=e.render;return t("div",{class:"mini-dlg__wrapper",key:"mini-dlg__wrapper"},t("div",{classes:{"mini-dlg":!0,"min-dlg--error":!!e.isError}},t(r.a,{key:"mini-dlg-trap"},n())),t("div",{class:"mini-dlg__scrim"}))}},616:function(e,t,n){"use strict";var r=n(0),i=n(38),a=n(17),o=n(309),c=n(197),u=n.n(c),s=n(410),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){return[e(o.a,{key:"share-dlg-header-loading",onCancel:this.props.handleCancelClick,title:i.share}),e("div",{key:"loading-view-content",class:"share-dlg__contents share-loader__container"},e(u.a,{key:"share-loader",text:i.loading}),e(s.a,{key:"share-mini-dlg"})),e("div",{class:"share-dlg__container-footer",key:"share-view-footer"},e("button",{class:"share-dlg__button--primary",key:"loading-view-save",id:"share-modal-primary",disabled:""},i.update),e("button",{class:"share-dlg__button--secondary",key:"loading-view-close",id:"share-modal-secondary",onclick:this.props.handleCancelClick},i.cancel))]},t}(a.Component);t.a=Object(a.connect)((function(e){return{handleCancelClick:e.utilities.onCancel}}),(function(e){return{}}))(l)},617:function(e,t,n){"use strict";var r=n(0),i=n(38),a=n(17),o=n(133),c=n(251),u=n.n(c),s=n(309),l=n(25),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){return[e(s.a,{key:"share-dlg-header-loading",onCancel:this.props.onCancel,onBack:this.props.closeGroupBrowser,back:!0,title:i.groupSharing}),e("div",{key:"group-browser-view-content-gb",class:"share-dlg__contents share-dlg__contents--wide"},e(u.a,{key:"share-group-browser"})),e("div",{class:"share-dlg__container-footer",key:"share-view-footer"},e("button",{class:"share-dlg__button--primary",key:"group-browser-view-save",id:"share-modal-primary",onclick:this.props.closeGroupBrowser},i.ok))]},t}(a.Component);t.a=Object(a.connect)((function(e){return{onCancel:e.utilities.onCancel}}),(function(e){return{closeGroupBrowser:function(){e(Object(o.j)(l.a.SHARE))}}}))(d)},618:function(e,t,n){"use strict";var r=n(0),i=n(38),a=n(17),o=n(309),c=n(619),u=n(133),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!1},n}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this,n=this.props,r=n.handlePrimaryClick,a=n.handleCancelClick,u=n.updatable,s=this.state.loading;return[e(o.a,{key:"share-dlg-header-loading",onCancel:a,title:i.DependentItems.updateSharing}),e("div",{key:"dependent-item-view-content",class:"share-dlg__contents"},e(c.a,{key:"dependent-items"})),e("div",{class:"share-dlg__container-footer",key:"share-view-footer"},e("button",{class:"share-dlg__button--primary",key:"dependent-item-view-save",id:"share-modal-primary",loading:s,onclick:function(){t.setState({loading:!0}),r()}},u?i.update:i.ok),u&&e("button",{class:"share-dlg__button--secondary",key:"dependent-item-view-close",id:"share-modal-secondary",onclick:a},i.cancel))]},t}(a.Component);t.a=Object(a.connect)((function(e){var t=e.utilities,n=e.resources,i=n.dependentItems,a=i.needShareLevelUpdate,o=i.needGroupSharingUpdate,c=i.needEditableWarning,u=n.selectedOptions;return{updatable:Object(r.g)(Object(r.g)(Object(r.g)([],a),o),c).length>0,handleCancelClick:function(){t.onComplete({selectedOptions:u})}}}),(function(e){return{handlePrimaryClick:function(){e(u.i)}}}))(s)},619:function(e,t,n){"use strict";var r=n(0),i=n(38),a=n(17),o=n(290),c=n(61),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.dependentItems,a=n.needShareLevelUpdate,c=n.needGroupSharingUpdate,u=n.notEditable,s=n.premium,l=n.needEditableWarning,d=n.needPubliclyEditableWarning,p=n.needDataCollectionEnabled,f=n.needGroupDependentApplicationWarning,b=t.portal,h=t.items,m=t.helpMap,v=t.authenticatedItems,O=Object(r.g)(Object(r.g)([],a),c),g=O.map((function(e){return e.id})),y=O.filter((function(e,t){return g.indexOf(e.id)===t})),E=1===h.length&&"Web Map"===h[0].type,_=i.DependentItems[E?"premiumItemsWebMap":"premiumItems"],S=m&&e("a",{href:""+b.helpBase+m[120001307]},i.DependentItems[E?"premiumTextMap":"premiumText"]);return e("div",{class:"dependent-items-confirmation",key:"dependent-items-confirmation"},e(o.a,{key:"need-editable-warning-list",items:l,title:i.DependentItems.needEditableTitle,text:i.DependentItems.needEditableText,portal:b,error:!0}),e(o.a,{key:"need-editable-warning-public-list",items:d,title:i.DependentItems.needPubliclyEditableTitle,text:i.DependentItems.needPubliclyEditableText,portal:b,error:!0}),e(o.a,{key:"authenticated-items-warning",items:v,title:i.DependentItems.authenticatedItemsTitle,text:i.DependentItems.authenticatedItemsText,portal:b,error:!0}),e(o.a,{key:"need-data-collection-endabled-list",items:p,title:i.DependentItems.needDataCollectionEnabledTitle,text:i.DependentItems.needDataCollectionEnabledText,portal:b,error:!0}),e(o.a,{key:"group-dependent",items:f,title:i.DependentItems.groupDependentApplicationTitle,text:i.DependentItems.groupDependentApplicationText,portal:b,error:!0}),e(o.a,{key:"needs-update-list",items:y,title:i.DependentItems.updateItemsCount,text:i.DependentItems.confirmationDescription,portal:b}),e(o.a,{key:"premium-items-list",items:s,title:_,text:S,portal:b}),e(o.a,{key:"not-editable-list",items:u,title:i.DependentItems.uneditableItemsCount,portal:b}))},t}(a.Component);t.a=Object(a.connect)((function(e){var t=e.resources,n=t.dependentItems,r=t.items,i=t.helpMap,a=t.selectedOptionsDirty,o=t.selectedOptions,u=e.utilities.portal;return{dependentItems:n,authenticatedItems:Object(c.c)(r,o,a),portal:u,helpMap:i,items:r}}),(function(){return{}}))(u)},620:function(e,t,n){"use strict";var r=n(0),i=n(38),a=n(17),o=n(99),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this.props,n=t.item,r=t.portal,a=n.name||n.title,c=Object(o.a)(r)+"/home/item.html?id="+n.id;return e("li",{key:n.id,class:"dependent-item"},e("h3",{class:"dependent-item__title"},r?e("a",{href:c,target:"_blank",rel:"noreferrer"},a):e("span",null,a)),e("span",{class:"dependent-item__details"},n.iconURI&&e("img",{class:"dependent-item__icon",src:n.iconURI}),e("p",{class:"dependent-item__description"},i.DependentItems.itemDescription.replace("${type}",n.displayName||n.type).replace("${owner}",n.owner?n.owner:""))))},t}(a.Component);t.a=c},67:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.LOADING_GROUPS="LOADING_GROUPS",e.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS",e.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL",e.SELECT_GROUPS="SELECT_GROUPS",e.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS",e.DESELECT_GROUPS="DESELECT_GROUPS",e.REVERT_GROUPS="REVERT_GROUPS",e.CLEAR_SELECTION="CLEAR_SELECTION",e.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS",e.SET_HAS_GROUPS="SET_HAS_GROUPS"}(r||(r={}))},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(59),i=n(6),a=n(120),o=n(119),c=n(113),u=n(118),s=n(117),l=function(e,t,n){return Object(r.a)(Object(s.a)(e),Object(u.a)(e),Object(c.a)(t),Object(o.a)(e),Object(a.a)(e))(n)},d=Object(r.a)(Object(i.e)("patchedDescription"),Object(i.e)("thumbURI"),Object(i.e)("iconURI"),Object(i.e)("displayName"),Object(i.e)("badges"))},82:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.SET_SEARCH_STRING="SET_SEARCH_STRING",e.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER",e.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD",e.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER",e.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER",e.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER",e.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER",e.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER",e.SET_USERS="SET_USERS",e.CLEAR_FILTERS="CLEAR_FILTERS"}(r||(r={}))},857:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(17),a=n(428);n.d(t,"reducers",(function(){return a.b})),n.d(t,"initialState",(function(){return a.a}));var o=n(609),c=n(284),u=n.n(c),s=n(25),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(e){var t=this.props.currentView,n=o.a[t];return e("div",{key:"share-container",class:"share-dlg__container"},e(u.a,{key:"sharing-overlay",scrollable:!0,size:t===s.a.GROUP_BROWSER?"large":"small"},e(n,{key:t})))},t}(i.Component);t.default=Object(i.connect)((function(e){return{currentView:e.config.currentView}}),(function(e){return{}}))(l)},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return f}));var r="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",i="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",a="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",o="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",c="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",u="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",s="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",l="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",d="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",p="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",f="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},96:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n(16),i=function(e,t,n){return n.indexOf(e)===t},a=Object(r.a)((function(e,t){var n={};return t.filter((function(t){return!n[t[e]]&&(n[t[e]]=!0,!0)}))}));function o(e,t){if(null==e?void 0:e.length)for(var n=void 0,r=0;r<e.length;r++)if(t(n=e[r]))return n}function c(e){return e.filter((function(e){return e.length>0}))}var u=function(e,t){return e.length===t.length&&e.reduce((function(e,n){return e&&t.indexOf(n)>-1}),!0)};function s(e,t,n){var r=[];return t.forEach((function(t){(n?t[n].toLowerCase()===e.toLowerCase():t.toLowerCase()===e.toLowerCase())?r.unshift(t):r.push(t)})),r}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(0),i=function(e){return e?e.urlKey?location.protocol+"//"+e.urlKey+"."+e.customBaseUrl:location.protocol+"//"+e.portalHostname:""},a=function(e){return Object(r.a)(Object(r.a)({},e),{baseUrl:i(e)})}}})}));
//# sourceMappingURL=index.js.map