//>>built
/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
require({cache:{"tslib/tslib":function(){var C,H,A,t,w,u,x,l,E,r,d,a,h,g,n,q,f,k,e,v,D,B,J,z;(function(G){function Q(b,c){b!==N&&("function"===typeof Object.create?Object.defineProperty(b,"__esModule",{value:!0}):b.__esModule=!0);return function(m,p){return b[m]=c?c(m,p):p}}var N="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(b){G(Q(N,Q(b)))}):"object"===typeof module&&"object"===
typeof module.exports?G(Q(N,Q(module.exports))):G(Q(N))})(function(G){var Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(b[m]=c[m])};C=function(b,c){function m(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");Q(b,c);b.prototype=null===c?Object.create(c):(m.prototype=c.prototype,new m)};H=Object.assign||
function(b){for(var c,m=1,p=arguments.length;m<p;m++){c=arguments[m];for(var y in c)Object.prototype.hasOwnProperty.call(c,y)&&(b[y]=c[y])}return b};A=function(b,c){var m={},p;for(p in b)Object.prototype.hasOwnProperty.call(b,p)&&0>c.indexOf(p)&&(m[p]=b[p]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var y=0;for(p=Object.getOwnPropertySymbols(b);y<p.length;y++)0>c.indexOf(p[y])&&Object.prototype.propertyIsEnumerable.call(b,p[y])&&(m[p[y]]=b[p[y]])}return m};t=function(b,c,m,p){var y=
arguments.length,F=3>y?c:null===p?p=Object.getOwnPropertyDescriptor(c,m):p,K;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)F=Reflect.decorate(b,c,m,p);else for(var M=b.length-1;0<=M;M--)if(K=b[M])F=(3>y?K(F):3<y?K(c,m,F):K(c,m))||F;return 3<y&&F&&Object.defineProperty(c,m,F),F};w=function(b,c){return function(m,p){c(m,p,b)}};u=function(b,c){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(b,c)};x=function(b,c,m,p){function y(F){return F instanceof
m?F:new m(function(K){K(F)})}return new (m||(m=Promise))(function(F,K){function M(S){try{I(p.next(S))}catch(L){K(L)}}function O(S){try{I(p["throw"](S))}catch(L){K(L)}}function I(S){S.done?F(S.value):y(S.value).then(M,O)}I((p=p.apply(b,c||[])).next())})};l=function(b,c){function m(I){return function(S){return p([I,S])}}function p(I){if(F)throw new TypeError("Generator is already executing.");for(;y;)try{if(F=1,K&&(M=I[0]&2?K["return"]:I[0]?K["throw"]||((M=K["return"])&&M.call(K),0):K.next)&&!(M=M.call(K,
I[1])).done)return M;if(K=0,M)I=[I[0]&2,M.value];switch(I[0]){case 0:case 1:M=I;break;case 4:return y.label++,{value:I[1],done:!1};case 5:y.label++;K=I[1];I=[0];continue;case 7:I=y.ops.pop();y.trys.pop();continue;default:if(!(M=y.trys,M=0<M.length&&M[M.length-1])&&(6===I[0]||2===I[0])){y=0;continue}if(3===I[0]&&(!M||I[1]>M[0]&&I[1]<M[3]))y.label=I[1];else if(6===I[0]&&y.label<M[1])y.label=M[1],M=I;else if(M&&y.label<M[2])y.label=M[2],y.ops.push(I);else{M[2]&&y.ops.pop();y.trys.pop();continue}}I=c.call(b,
y)}catch(S){I=[6,S],K=0}finally{F=M=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}var y={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},F,K,M,O;return O={next:m(0),"throw":m(1),"return":m(2)},"function"===typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O};E=function(b,c){for(var m in b)"default"===m||Object.prototype.hasOwnProperty.call(c,m)||z(c,b,m)};z=Object.create?function(b,c,m,p){void 0===p&&(p=m);Object.defineProperty(b,p,{enumerable:!0,
get:function(){return c[m]}})}:function(b,c,m,p){void 0===p&&(p=m);b[p]=c[m]};r=function(b){var c="function"===typeof Symbol&&Symbol.iterator,m=c&&b[c],p=0;if(m)return m.call(b);if(b&&"number"===typeof b.length)return{next:function(){b&&p>=b.length&&(b=void 0);return{value:b&&b[p++],done:!b}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.");};d=function(b,c){var m="function"===typeof Symbol&&b[Symbol.iterator];if(!m)return b;b=m.call(b);var p,y=[];try{for(;(void 0===
c||0<c--)&&!(p=b.next()).done;)y.push(p.value)}catch(K){var F={error:K}}finally{try{p&&!p.done&&(m=b["return"])&&m.call(b)}finally{if(F)throw F.error;}}return y};a=function(){for(var b=[],c=0;c<arguments.length;c++)b=b.concat(d(arguments[c]));return b};h=function(){for(var b=0,c=0,m=arguments.length;c<m;c++)b+=arguments[c].length;b=Array(b);var p=0;for(c=0;c<m;c++)for(var y=arguments[c],F=0,K=y.length;F<K;F++,p++)b[p]=y[F];return b};g=function(b,c,m){if(m||2===arguments.length)for(var p=0,y=c.length,
F;p<y;p++)!F&&p in c||(F||(F=Array.prototype.slice.call(c,0,p)),F[p]=c[p]);return b.concat(F||Array.prototype.slice.call(c))};n=function(b){return this instanceof n?(this.v=b,this):new n(b)};q=function(b,c,m){function p(L){O[L]&&(I[L]=function(T){return new Promise(function(R,P){1<S.push([L,T,R,P])||y(L,T)})})}function y(L,T){try{var R=O[L](T);R.value instanceof n?Promise.resolve(R.value.v).then(F,K):M(S[0][2],R)}catch(P){M(S[0][3],P)}}function F(L){y("next",L)}function K(L){y("throw",L)}function M(L,
T){(L(T),S.shift(),S.length)&&y(S[0][0],S[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O=m.apply(b,c||[]),I,S=[];return I={},p("next"),p("throw"),p("return"),I[Symbol.asyncIterator]=function(){return this},I};f=function(b){function c(y,F){m[y]=b[y]?function(K){return(p=!p)?{value:n(b[y](K)),done:"return"===y}:F?F(K):K}:F}var m,p;return m={},c("next"),c("throw",function(y){throw y;}),c("return"),m[Symbol.iterator]=function(){return this},m};k=function(b){function c(F){y[F]=
b[F]&&function(K){return new Promise(function(M,O){K=b[F](K);m(M,O,K.done,K.value)})}}function m(F,K,M,O){Promise.resolve(O).then(function(I){F({value:I,done:M})},K)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p=b[Symbol.asyncIterator],y;return p?p.call(b):(b="function"===typeof r?r(b):b[Symbol.iterator](),y={},c("next"),c("throw"),c("return"),y[Symbol.asyncIterator]=function(){return this},y)};e=function(b,c){Object.defineProperty?Object.defineProperty(b,
"raw",{value:c}):b.raw=c;return b};var N=Object.create?function(b,c){Object.defineProperty(b,"default",{enumerable:!0,value:c})}:function(b,c){b["default"]=c};v=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var m in b)"default"!==m&&Object.prototype.hasOwnProperty.call(b,m)&&z(c,b,m);N(c,b);return c};D=function(b){return b&&b.__esModule?b:{"default":b}};B=function(b,c,m,p){if("a"===m&&!p)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof c?
b!==c||!p:!c.has(b))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===m?p:"a"===m?p.call(b):p?p.value:c.get(b)};J=function(b,c,m,p,y){if("m"===p)throw new TypeError("Private method is not writable");if("a"===p&&!y)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof c?b!==c||!y:!c.has(b))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===p?y.call(b,
m):y?y.value=m:c.set(b,m),m};G("__extends",C);G("__assign",H);G("__rest",A);G("__decorate",t);G("__param",w);G("__metadata",u);G("__awaiter",x);G("__generator",l);G("__exportStar",E);G("__createBinding",z);G("__values",r);G("__read",d);G("__spread",a);G("__spreadArrays",h);G("__spreadArray",g);G("__await",n);G("__asyncGenerator",q);G("__asyncDelegator",f);G("__asyncValues",k);G("__makeTemplateObject",e);G("__importStar",v);G("__importDefault",D);G("__classPrivateFieldGet",B);G("__classPrivateFieldSet",
J)})},"esri/core/accessorSupport/decorators":function(){define("exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),function(C,H,A,t,w,u,x,l,E,r){C.aliasOf=H.aliasOf;C.autoDestroy=A.autoDestroy;C.cast=t.cast;C.enumeration=w.enumeration;C.ensureRange=u.ensureRange;C.property=u.property;C.propertyJSONMeta=u.propertyJSONMeta;C.reader=x.reader;
C.shared=l.shared;C.finalizeClass=E.finalizeClass;C.subclass=E.subclass;C.writer=r.writer;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["exports","../metadata"],function(C,H){C.autoDestroy=function(){return(A,t)=>{H.getOwnClassMetadata(A).autoDestroy=!0;return A[t]}};Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"app/widgets/panels/MapMaker/SaveMapForm":function(){define("require exports tslib esri/core/accessorSupport/decorators esri/widgets/support/widget esri/widgets/Widget esri/core/watchUtils arcgis-components/wrappers/Tags esri/intl/substitute".split(" "),
function(C,H,A,t,w,u,x,l,E){Object.defineProperty(H,"__esModule",{value:!0});u=A.__importDefault(u);x=A.__importStar(x);l=A.__importStar(l);E=A.__importStar(E);C=function(r){function d(a){a=r.call(this,a)||this;a.readOnly=!1;a.mode="loading";return a}A.__extends(d,r);d.prototype.postInitialize=function(){return A.__awaiter(this,void 0,void 0,function(){var a,h,g,n=this;return A.__generator(this,function(q){a=this.state;h=a.mapView;g=h.map;this.portalItem=g.portalItem||a.portalItem||this.getDefaultItem();
this.fetchTags();this.set("mode","ready");this.portalItem.set&&this.own(x.watch(this.portalItem,"title",function(){n.container.querySelector(".js-title").value=n.getTitle()}));return[2]})})};d.prototype.destroy=function(){this.tagsWidget&&(this.tagsWidget.destroy(),this.tagsWidget=null);this.emit("done",{})};d.prototype.getItem=function(){var a=this.portalItem,h=this.container.querySelector("form"),g=this.formToJSON(h.elements);h=this.tagsWidget.getTags();var n=g.title;g=g.snippet;a.tags=h&&h.length?
h:null;a.title=n;a.snippet=g;return a};d.prototype.formToJSON=function(a){return[].reduce.call(a,function(h,g){g.value&&(h[g.name]=g.value);return h},{})};d.prototype.fetchTags=function(){var a=this.state.portal.user;return(null===a||void 0===a?void 0:a.tags)||[]};d.prototype.getDefaultItem=function(){return{title:this.getTitle()}};d.prototype.getTitle=function(){var a=document.querySelector(".esri-header-brand-text")||document.querySelector(".esri-header-inline-title-text");return a&&a.textContent.substring(0,
256)};d.prototype.disableForm=function(a){this.container.querySelector("form").classList[a?"add":"remove"]("disabled")};d.prototype.onAfterCreate=function(a){};d.prototype.setFocus=function(a){a.focus()};d.prototype.createTagsWidget=function(a){var h=this,g=this.readOnly,n=this.state.portal.user;n={minWidth:"100%",maxWidth:"100%",activeTags:this.portalItem.tags||[],knownTags:((null===n||void 0===n?void 0:n.userTags)||[]).map(function(q){return q.tag})};a=this.tagsWidget=new l.TagsWrapper(a,n);n=a.renderContainer.querySelector("#tags-input");
g?n.setAttribute("readonly",!0):a.watchTags(function(){return h.validateForm()})};d.prototype.validateForm=function(){var a=this,h=this.tagsWidget,g=this.container,n=this.state;if(this.readOnly)return Promise.resolve(!0);n=n.portal;var q=h.renderContainer.querySelector("#tags-input"),f=/^[^<>]*$/,k=h.getTags();h=(h=g.querySelector(".js-folder"))&&h.value;var e=g.querySelector(".js-title"),v=(e&&e.value||"").trim(),D="";return n.isUniqueItemTitle(v,h,"Web Map").then(function(B){D=v?B?"":E.substitute(a.messagesErrors.duplicateTitle,
{title:v}):a.messagesErrors.needTitle;e.setCustomValidity(D);k&&!f.test(k.join(","))&&(D=a.messagesErrors.badCharacterTags);q.setCustomValidity(D);return!D})};d.prototype.validateTitle=function(){var a=this.container.querySelector(".js-title");a.setCustomValidity(a.value?"":this.messagesErrors.needTitle);return!0};d.prototype.render=function(){return"ready"===this.mode?w.tsx("div",null,w.tsx("form",{id:"save-item-form",class:"js-saveForm save-form",afterCreate:this.onAfterCreate,bind:this,autocomplete:"off",
onchange:this.onChange,onsubmit:this.validateForm},this.saveFormTemplate())):w.tsx("div",null)};d.prototype.onChange=function(a){this.emit("change",this.getItem())};d.prototype.saveFormTemplate=function(){var a=this.readOnly,h=this.portalItem.snippet,g=this.getTitle();return w.tsx("div",{class:"js-template"},w.tsx("label",null,this.messages.title,w.tsx("input",{class:"js-title",name:"title",type:"text",maxlength:"256",required:!0,value:g,placeholder:this.messages.titlePlaceholder,afterCreate:this.setFocus,
autofocus:!0,autocomplete:"off",readOnly:a,onkeydown:this.validateTitle.bind(this)})),w.tsx("label",{for:"tags-input"},this.messages.tags,w.tsx("div",{bind:this,afterCreate:this.createTagsWidget})),w.tsx("calcite-label",null,this.messages.summary,w.tsx("calcite-input",{type:"textarea","max-length":"2048",scale:"m",name:"snippet",value:h,readOnly:a,placeholder:this.messages.summaryPlaceholder})))};A.__decorate([t.property()],d.prototype,"mode",void 0);A.__decorate([t.property(),w.messageBundle("mapviewer/mapMaker")],
d.prototype,"messages",void 0);A.__decorate([t.property(),w.messageBundle("mapviewer/errors")],d.prototype,"messagesErrors",void 0);return d=A.__decorate([t.subclass("")],d)}(u.default);H.default=C})},"esri/core/watchUtils":function(){define("exports ./deprecate ./events ./lang ./Logger ./promiseUtils".split(" "),function(C,H,A,t,w,u){function x(f,k,e,v){var D=Array.isArray(k)?k:k.includes(",")?k.split(","):[k];k=f.watch(k,e,v);for(const B of D)D=B.trim().replace(q,"$1"),v=f.get(D),e.call(f,v,v,D,
f);return k}function l(f,k,e,v,D){D=f.watch(k,(J,z,G,Q)=>{if(!e||e(J))null==v?void 0:v.call(f,J,z,G,Q)},D);if(Array.isArray(k))for(var B of k){const J=f.get(B);e&&e(J)&&(null==v?void 0:v.call(f,J,J,k,f))}else B=f.get(k),e&&e(B)&&(null==v?void 0:v.call(f,B,B,k,f));return D}function E(f,k,e,v,D){function B(){Q&&(Q.remove(),Q=null)}const J="function"===typeof v?v:null,z="object"===typeof v?v:null;"boolean"===typeof v&&(D=v);let G=!1,Q;const N=u.createDeferred();u.onAbort(z,()=>{B();N.reject(u.createAbortError())});
v={then:N.promise.then.bind(N.promise),catch:N.promise.catch.bind(N.promise),remove:B};Object.freeze(v);Q=l(f,k,e,(b,c,m,p)=>{G=!0;B();J&&J.call(f,b,c,m,p);N.resolve({value:b,oldValue:c,propertyName:m,target:p})},D);G&&B();return v}function r(f){return!!f}function d(f){return!f}function a(f){return!0===f}function h(f){return!1===f}function g(f){return void 0!==f}function n(f){return void 0===f}H.deprecatedModule(w.getLogger("esri.core.watchUtils"),"esri/core/watchUtils",{replacement:"esri/core/reactiveUtils",
warnOnce:!0,version:"4.24"});const q=/\?(\.|$)/g;C.init=x;C.on=function(f,k,e,v,D,B,J){function z(N){const b=G[N];b&&(B&&B(b.target,N,f,e),b.handle.remove(),delete G[N])}const G={},Q=x(f,k,(N,b,c)=>{z(c);A.isEventTarget(N)&&(G[c]={handle:A.on(N,e,v),target:N},D&&D(N,c,f,e))},J);return{remove(){Q.remove();for(const N in G)z(N)}}};C.once=function(f,k,e,v){return E(f,k,null,e,v)};C.pausable=function(f,k,e,v){let D=!1;const B=f.watch(k,(J,z,G,Q)=>{D||e.call(f,J,z,G,Q)},v);return{remove(){B.remove()},
pause(){D=!0},resume(){D=!1}}};C.watch=function(f,k,e,v){return f.watch(k,e,v)};C.when=function(f,k,e,v){return l(f,k,r,e,v)};C.whenDefined=function(f,k,e,v){return l(f,k,g,e,v)};C.whenDefinedOnce=function(f,k,e,v){return E(f,k,g,e,v)};C.whenEqual=function(f,k,e,v,D){return l(f,k,B=>t.equals(e,B),v,D)};C.whenEqualOnce=function(f,k,e,v,D){return E(f,k,B=>t.equals(e,B),v,D)};C.whenFalse=function(f,k,e,v){return l(f,k,h,e,v)};C.whenFalseOnce=function(f,k,e,v){return E(f,k,h,e,v)};C.whenNot=function(f,
k,e,v){return l(f,k,d,e,v)};C.whenNotOnce=function(f,k,e,v){return E(f,k,d,e,v)};C.whenOnce=function(f,k,e,v){return E(f,k,r,e,v)};C.whenTrue=function(f,k,e,v){return l(f,k,a,e,v)};C.whenTrueOnce=function(f,k,e,v){return E(f,k,a,e,v)};C.whenUndefined=function(f,k,e,v){return l(f,k,n,e,v)};C.whenUndefinedOnce=function(f,k,e,v){return E(f,k,n,e,v)};C.whenValidOnce=E;Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"arcgis-components/wrappers/Tags":function(){define(["../Component",
"../Inputs/Tags/index"],function(C,H){return function(A){function t(u){if(w[u])return w[u].exports;var x=w[u]={i:u,l:!1,exports:{}};return A[u].call(x.exports,x,x.exports,t),x.l=!0,x.exports}var w={};return t.m=A,t.c=w,t.d=function(u,x,l){t.o(u,x)||Object.defineProperty(u,x,{enumerable:!0,get:l})},t.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},t.t=function(u,x){if((1&x&&
(u=t(u)),8&x)||4&x&&"object"==typeof u&&u&&u.__esModule)return u;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:u}),2&x&&"string"!=typeof u)for(var E in u)t.d(l,E,function(r){return u[r]}.bind(null,E));return l},t.n=function(u){var x=u&&u.__esModule?function(){return u.default}:function(){return u};return t.d(x,"a",x),x},t.o=function(u,x){return Object.prototype.hasOwnProperty.call(u,x)},t.p="",t(t.s=987)}({0:function(A,t,w){function u(g,n){function q(){this.constructor=
g}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(g,n);g.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function x(g,n){var q={},f;for(f in g)Object.prototype.hasOwnProperty.call(g,f)&&0>n.indexOf(f)&&(q[f]=g[f]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(f=Object.getOwnPropertySymbols(g);k<f.length;k++)0>n.indexOf(f[k])&&Object.prototype.propertyIsEnumerable.call(g,f[k])&&
(q[f[k]]=g[f[k]])}return q}function l(g,n,q,f){var k,e=arguments.length,v=3>e?n:null===f?f=Object.getOwnPropertyDescriptor(n,q):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(g,n,q,f);else for(var D=g.length-1;0<=D;D--)(k=g[D])&&(v=(3>e?k(v):3<e?k(n,q,v):k(n,q))||v);return 3<e&&v&&Object.defineProperty(n,q,v),v}function E(g,n,q,f){return new (q||(q=Promise))(function(k,e){function v(J){try{B(f.next(J))}catch(z){e(z)}}function D(J){try{B(f.throw(J))}catch(z){e(z)}}
function B(J){var z;J.done?k(J.value):(z=J.value,z instanceof q?z:new q(function(G){G(z)})).then(v,D)}B((f=f.apply(g,n||[])).next())})}function r(g,n){function q(B){return function(J){return function(z){if(f)throw new TypeError("Generator is already executing.");for(;D;)try{if(f=1,k&&(e=2&z[0]?k.return:z[0]?k.throw||((e=k.return)&&e.call(k),0):k.next)&&!(e=e.call(k,z[1])).done)return e;switch(k=0,e&&(z=[2&z[0],e.value]),z[0]){case 0:case 1:e=z;break;case 4:return D.label++,{value:z[1],done:!1};case 5:D.label++;
k=z[1];z=[0];continue;case 7:z=D.ops.pop();D.trys.pop();continue;default:if(!(e=D.trys,(e=0<e.length&&e[e.length-1])||6!==z[0]&&2!==z[0])){D=0;continue}if(3===z[0]&&(!e||z[1]>e[0]&&z[1]<e[3]))D.label=z[1];else if(6===z[0]&&D.label<e[1])D.label=e[1],e=z;else if(e&&D.label<e[2])D.label=e[2],D.ops.push(z);else{e[2]&&D.ops.pop();D.trys.pop();continue}}z=n.call(g,D)}catch(G){z=[6,G],k=0}finally{f=e=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([B,J])}}var f,k,e,v,D={label:0,sent:function(){if(1&
e[0])throw e[1];return e[1]},trys:[],ops:[]};return v={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function d(g,n){for(var q=0,f=n.length,k=g.length;q<f;q++,k++)g[k]=n[q];return g}w.d(t,"d",function(){return u});w.d(t,"a",function(){return h});w.d(t,"f",function(){return x});w.d(t,"c",function(){return l});w.d(t,"b",function(){return E});w.d(t,"e",function(){return r});w.d(t,"g",function(){return d});var a=function(g,n){return(a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(q,f){q.__proto__=f}||function(q,f){for(var k in f)Object.prototype.hasOwnProperty.call(f,k)&&(q[k]=f[k])})(g,n)},h=function(){return(h=Object.assign||function(g){for(var n,q=1,f=arguments.length;q<f;q++)for(var k in n=arguments[q])Object.prototype.hasOwnProperty.call(n,k)&&(g[k]=n[k]);return g}).apply(this,arguments)};Object.create;Object.create},16:function(A,t){A.exports=C},713:function(A,t){A.exports=H},987:function(A,t,w){w.r(t);w.d(t,"TagsWrapper",function(){return r});
var u=w(0),x=w(16);A=w(713);w=w.n(A);var l=function(d,a){switch(a.type){case "UPDATE_ACTIVE_TAGS":return Object(u.a)(Object(u.a)({},d),{activeTags:a.payload});case "UPDATE_KNOWN_TAGS":return Object(u.a)(Object(u.a)({},d),{knownTags:a.payload});default:return d}},E=Object(x.connect)(function(d){return{activeTags:d.activeTags,knownTags:d.knownTags}},function(d){return{onChange:function(a){d({type:"UPDATE_ACTIVE_TAGS",payload:a})}}})(w.a),r=function(){function d(a,h){this.renderContainer=a;this.store=
Object(x.createStore)(l,{activeTags:h.activeTags,knownTags:h.knownTags});this.projector=Object(x.createProjector)(this.store,function(g){return g(E,Object(u.a)({key:"wrapped-tags"},h))},this.renderContainer)}return d.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},d.prototype.focus=function(){var a=this.renderContainer.querySelector("input");
a&&a.focus()},d.prototype.getTags=function(){return this.store.getState().activeTags},d.prototype.setTags=function(a){this.store.dispatch({type:"UPDATE_ACTIVE_TAGS",payload:a})},d.prototype.getKnownTags=function(){return this.store.getState().knownTags},d.prototype.setKnownTags=function(a){this.store.dispatch({type:"UPDATE_KNOWN_TAGS",payload:a})},d.prototype.watchTags=function(a){var h=this,g=this.store.getState().activeTags;return this.store.subscribe(function(){var n=h.store.getState().activeTags;
n!==g&&a(g=n)})},d}()}})})},"arcgis-components/Component":function(){define(function(){return function(C){function H(t){if(A[t])return A[t].exports;var w=A[t]={i:t,l:!1,exports:{}};return C[t].call(w.exports,w,w.exports,H),w.l=!0,w.exports}var A={};return H.m=C,H.c=A,H.d=function(t,w,u){H.o(t,w)||Object.defineProperty(t,w,{enumerable:!0,get:u})},H.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",
{value:!0})},H.t=function(t,w){if((1&w&&(t=H(t)),8&w)||4&w&&"object"==typeof t&&t&&t.__esModule)return t;var u=Object.create(null);if(H.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&w&&"string"!=typeof t)for(var x in t)H.d(u,x,function(l){return t[l]}.bind(null,x));return u},H.n=function(t){var w=t&&t.__esModule?function(){return t.default}:function(){return t};return H.d(w,"a",w),w},H.o=function(t,w){return Object.prototype.hasOwnProperty.call(t,w)},H.p="",H(H.s=809)}({0:function(C,
H,A){function t(a,h){function g(){this.constructor=a}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");r(a,h);a.prototype=null===h?Object.create(h):(g.prototype=h.prototype,new g)}function w(a,h){var g={},n;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&0>h.indexOf(n)&&(g[n]=a[n]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var q=0;for(n=Object.getOwnPropertySymbols(a);q<n.length;q++)0>h.indexOf(n[q])&&Object.prototype.propertyIsEnumerable.call(a,
n[q])&&(g[n[q]]=a[n[q]])}return g}function u(a,h,g,n){var q,f=arguments.length,k=3>f?h:null===n?n=Object.getOwnPropertyDescriptor(h,g):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(a,h,g,n);else for(var e=a.length-1;0<=e;e--)(q=a[e])&&(k=(3>f?q(k):3<f?q(h,g,k):q(h,g))||k);return 3<f&&k&&Object.defineProperty(h,g,k),k}function x(a,h,g,n){return new (g||(g=Promise))(function(q,f){function k(D){try{v(n.next(D))}catch(B){f(B)}}function e(D){try{v(n.throw(D))}catch(B){f(B)}}
function v(D){var B;D.done?q(D.value):(B=D.value,B instanceof g?B:new g(function(J){J(B)})).then(k,e)}v((n=n.apply(a,h||[])).next())})}function l(a,h){function g(v){return function(D){return function(B){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,q&&(f=2&B[0]?q.return:B[0]?q.throw||((f=q.return)&&f.call(q),0):q.next)&&!(f=f.call(q,B[1])).done)return f;switch(q=0,f&&(B=[2&B[0],f.value]),B[0]){case 0:case 1:f=B;break;case 4:return e.label++,{value:B[1],done:!1};case 5:e.label++;
q=B[1];B=[0];continue;case 7:B=e.ops.pop();e.trys.pop();continue;default:if(!(f=e.trys,(f=0<f.length&&f[f.length-1])||6!==B[0]&&2!==B[0])){e=0;continue}if(3===B[0]&&(!f||B[1]>f[0]&&B[1]<f[3]))e.label=B[1];else if(6===B[0]&&e.label<f[1])e.label=f[1],f=B;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(B);else{f[2]&&e.ops.pop();e.trys.pop();continue}}B=h.call(a,e)}catch(J){B=[6,J],q=0}finally{n=f=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([v,D])}}var n,q,f,k,e={label:0,sent:function(){if(1&
f[0])throw f[1];return f[1]},trys:[],ops:[]};return k={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function E(a,h){for(var g=0,n=h.length,q=a.length;g<n;g++,q++)a[q]=h[g];return a}A.d(H,"d",function(){return t});A.d(H,"a",function(){return d});A.d(H,"f",function(){return w});A.d(H,"c",function(){return u});A.d(H,"b",function(){return x});A.d(H,"e",function(){return l});A.d(H,"g",function(){return E});var r=function(a,h){return(r=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(g,n){g.__proto__=n}||function(g,n){for(var q in n)Object.prototype.hasOwnProperty.call(n,q)&&(g[q]=n[q])})(a,h)},d=function(){return(d=Object.assign||function(a){for(var h,g=1,n=arguments.length;g<n;g++)for(var q in h=arguments[g])Object.prototype.hasOwnProperty.call(h,q)&&(a[q]=h[q]);return a}).apply(this,arguments)};Object.create;Object.create},15:function(C,H,A){function t(u){return function l(){for(var E=this,r=[],d=0;d<arguments.length;d++)r[d]=arguments[d];
return r.length>=u.length?u.call.apply(u,Object(w.g)([this],r)):function(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];return l.call.apply(l,Object(w.g)(Object(w.g)([E],r),a))}}}A.d(H,"a",function(){return t});var w=A(0)},441:function(C,H,A){!function(t){var w="".concat("http://www.w3.org/","2000/svg"),u="".concat("http://www.w3.org/","1999/xlink"),x=[],l=function(b,c){var m={};return Object.keys(b).forEach(function(p){m[p]=b[p]}),c&&Object.keys(c).forEach(function(p){m[p]=c[p]}),m},
E=function(b,c){return b.vnodeSelector===c.vnodeSelector&&(b.properties&&c.properties?b.properties.key===c.properties.key&&b.properties.bind===c.properties.bind:!b.properties&&!c.properties)},r=function(b){if("string"!=typeof b)throw Error("Style values must be strings");},d=function(b,c,m,p){var y=b[c];if(""!==y.vnodeSelector){var F=y.properties;if(!(F&&(void 0===F.key?F.bind:F.key)))for(F=0;F<b.length;F++)if(F!==c&&E(b[F],y))throw{error:Error("".concat(m.vnodeSelector," had a ").concat(y.vnodeSelector,
" child ").concat("added"===p?p:"removed",", but there is now more than one. You must add unique key properties to make them distinguishable.")),parentNode:m,childNode:y};}},a=[],h=!1,g=function(b){(b.children||[]).forEach(g);b.properties&&b.properties.afterRemoved&&b.properties.afterRemoved.apply(b.properties.bind||b.properties,[b.domNode])},n=function(){h=!1;a.forEach(g);a.length=0},q=function(b){a.push(b);h||(h=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(n,
{timeout:16}):setTimeout(n,16))},f=function(b){var c=b.domNode;if(b.properties){var m=b.properties.exitAnimation;if(m)return c.style.pointerEvents="none",void m(c,function(){c.parentNode&&(c.parentNode.removeChild(c),q(b))},b.properties)}c.parentNode&&(c.parentNode.removeChild(c),q(b))},k=function(b,c,m){!function(p,y,F){if(y)for(var K=0;K<y.length;K++)e(y[K],p,void 0,F)}(b,c.children,m);c.text&&(b.textContent=c.text);(function(p,y,F){if(y)for(var K=F.eventHandlerInterceptor,M=Object.keys(y),O=M.length,
I=function(L){var T,R=M[L];L=y[R];if("className"===R)throw Error('Property "className" is not supported, use "class".');if("class"===R)v(p,L,!0);else if("classes"===R){var P=Object.keys(L),V=P.length;for(R=0;R<V;R++){var U=P[R];L[U]&&p.classList.add(U)}}else if("styles"===R)for(P=Object.keys(L),V=P.length,R=0;R<V;R++){U=P[R];var W=L[U];W&&(r(W),F.styleApplyer(p,U,W))}else"key"!==R&&null!=L&&(P=typeof L,"function"===P?(0===R.lastIndexOf("on",0)&&(K&&(L=K(R,L,p,y)),"oninput"===R&&(T=L,L=function(Z){T.apply(this,
[Z]);Z.target["oninput-value"]=Z.target.value})),p[R]=L):F.namespace===w?"href"===R?p.setAttributeNS(u,R,L):p.setAttribute(R,L):"string"===P&&"value"!==R&&"innerHTML"!==R?p.setAttribute(R,L):p[R]=L)},S=0;S<O;S++)I(S)})(b,c.properties,m);c.properties&&c.properties.afterCreate&&c.properties.afterCreate.apply(c.properties.bind||c.properties,[b,m,c.vnodeSelector,c.properties,c.children])},e=function(b,c,m,p){var y=0,F=b.vnodeSelector,K=c.ownerDocument;if(""===F){var M=b.domNode=K.createTextNode(b.text);
void 0!==m?c.insertBefore(M,m):c.appendChild(M)}else{for(var O=0;O<=F.length;++O){var I=F.charAt(O);if(O===F.length||"."===I||"#"===I)I=F.charAt(y-1),y=F.slice(y,O),"."===I?M.classList.add(y):"#"===I?M.id=y:("svg"===y&&(p=l(p,{namespace:w})),void 0!==p.namespace?M=b.domNode=K.createElementNS(p.namespace,y):(M=b.domNode=b.domNode||K.createElement(y),"input"===y&&b.properties&&void 0!==b.properties.type&&M.setAttribute("type",b.properties.type)),void 0!==m?c.insertBefore(M,m):M.parentNode!==c&&c.appendChild(M)),
y=O+1}k(M,b,p)}},v=function(b,c,m){c&&c.split(" ").forEach(function(p){p&&b.classList.toggle(p,m)})};var D=function(b,c,m){var p=b.domNode,y=!1;if(b===c)return!1;var F=!1;if(""===c.vnodeSelector){if(c.text!==b.text)return b=p.ownerDocument.createTextNode(c.text),p.parentNode.replaceChild(b,p),c.domNode=b,y=!0;c.domNode=p}else 0===c.vnodeSelector.lastIndexOf("svg",0)&&(m=l(m,{namespace:w})),b.text!==c.text&&(F=!0,void 0===c.text?p.removeChild(p.firstChild):p.textContent=c.text),c.domNode=p,F=function(K,
M,O,I,S){if(O===I)return!1;I=I||x;for(var L,T=(O=O||x).length,R=I.length,P=L=0,V=!1;P<R;){var U=L<T?O[L]:void 0,W=I[P];if(void 0!==U&&E(U,W))V=D(U,W,S)||V,L++;else{a:{U=O;var Z=W;if(""!==Z.vnodeSelector)for(var Y=L+1;Y<U.length;Y++)if(E(U[Y],Z)){U=Y;break a}U=-1}if(0<=U){for(;L<U;L++)f(O[L]),d(O,L,K,"removed");V=D(O[U],W,S)||V;L=U+1}else e(W,M,L<T?O[L].domNode:void 0,S),W.properties&&(U=W.properties.enterAnimation)&&U(W.domNode,W.properties),d(I,P,K,"added")}P++}if(T>L)for(;L<T;L++)f(O[L]),d(O,L,
K,"removed");return V}(c,p,b.children,c.children,m)||F,F=function(K,M,O,I){if(O){for(var S=!1,L=Object.keys(O),T=L.length,R=0;R<T;R++){var P=L[R],V=O[P],U=M[P];if("class"===P)U!==V&&(v(K,U,!1),v(K,V,!0));else if("classes"===P){var W=K.classList,Z=Object.keys(V),Y=Z.length;for(P=0;P<Y;P++){var X=Z[P],aa=!!V[X];aa!==!!U[X]&&(S=!0,aa?W.add(X):W.remove(X))}}else if("styles"===P)for(W=Object.keys(V),Z=W.length,P=0;P<Z;P++)Y=W[P],X=V[Y],X!==U[Y]&&(S=!0,X?(r(X),I.styleApplyer(K,Y,X)):I.styleApplyer(K,Y,
""));else(V||"string"!=typeof U||(V=""),"value"===P)?(W=K[P],W!==V&&(K["oninput-value"]?W===K["oninput-value"]:V!==U)&&(K[P]=V,K["oninput-value"]=void 0),V!==U&&(S=!0)):V!==U&&(U=typeof V,"function"===U&&I.eventHandlerInterceptor||(I.namespace===w?"href"===P?K.setAttributeNS(u,P,V):K.setAttribute(P,V):"string"===U&&"innerHTML"!==P?"role"===P&&""===V?K.removeAttribute(P):K.setAttribute(P,V):K[P]!==V&&(K[P]=V),S=!0))}return S}}(p,b.properties,c.properties,m)||F,c.properties&&c.properties.afterUpdate&&
c.properties.afterUpdate.apply(c.properties.bind||c.properties,[p,m,c.vnodeSelector,c.properties,c.children]);return F&&c.properties&&c.properties.updateAnimation&&c.properties.updateAnimation(p,c.properties,b.properties),y};var B=function(b,c){return{getLastRender:function(){return b},update:function(m){if(b.vnodeSelector!==m.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var p=b;b=m;D(p,m,c)},
domNode:b.domNode}},J={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(b,c,m){"-"===c.charAt(0)?b.style.setProperty(c,m):b.style[c]=m}},z={create:function(b,c){return c=l(J,c),e(b,document.createElement("div"),void 0,c),B(b,c)},append:function(b,c,m){return m=l(J,m),e(c,b,void 0,m),B(c,m)},insertBefore:function(b,c,m){return m=l(J,m),e(c,b.parentNode,b,m),B(c,m)},merge:function(b,c,m){return m=l(J,m),c.domNode=b,k(b,c,m),B(c,m)},replace:function(b,
c,m){return m=l(J,m),e(c,b.parentNode,b,m),b.parentNode.removeChild(b),B(c,m)}},G=function(b,c,m){for(var p=0,y=c.length;p<y;p++){var F=c[p];Array.isArray(F)?G(b,F,m):null!=F&&!1!==F&&("string"==typeof F&&(F={vnodeSelector:"",properties:void 0,children:void 0,text:F.toString(),domNode:null}),m.push(F))}};var Q=Array.prototype.find?function(b,c){return b.find(c)}:function(b,c){return b.filter(c)[0]};var N=function(b,c){var m=b;return c.forEach(function(p){m=m&&m.children?Q(m.children,function(y){return y.domNode===
p}):void 0}),m};t.createCache=function(){var b,c;return{invalidate:function(){b=c=void 0},result:function(m,p){if(b)for(var y=0;y<m.length;y++)b[y]!==m[y]&&(c=void 0);return c||(c=p(),b=m),c}}};t.createMapping=function(b,c,m){var p=[],y=[];return{results:y,map:function(F){for(var K=F.map(b),M=y.slice(),O=0,I=0;I<F.length;I++){var S=F[I],L=K[I];if(L===p[O])y[I]=M[O],m(S,M[O],I),O++;else{for(var T=!1,R=1;R<p.length+1;R++){var P=(O+R)%p.length;if(p[P]===L){y[I]=M[P];m(F[I],M[P],I);O=P+1;T=!0;break}}T||
(y[I]=c(S,I))}}y.length=F.length;p=K}}};t.createProjector=function(b){var c,m,p=l(J,b),y=p.performanceLogger,F=!0,K=!1,M=[],O=[],I=function(L,T,R){p.eventHandlerInterceptor=function(V,U,W){function Z(Y){W("domEvent",Y);for(var X=U(),aa=Y.currentTarget,ca=X.domNode,ba=[];aa&&aa!==ca;)ba.push(aa),aa=aa.parentNode;ba.reverse();var da;X=N(X.getLastRender(),ba);return V.scheduleRender(),X&&(da=X.properties["on".concat(Y.type)].apply(X.properties.bind||this,arguments)),W("domEventProcessed",Y),da}return function(Y,
X,aa,ca){return Z}}(c,function(){return P},y);var P=L(T,R(),p);M.push(P);O.push(R)},S=function(){if(m=void 0,F){F=!1;y("renderStart",void 0);for(var L=0;L<M.length;L++){var T=O[L]();y("rendered",void 0);M[L].update(T);y("patched",void 0)}y("renderDone",void 0);F=!0}};return c={renderNow:S,scheduleRender:function(){m||K||(m=requestAnimationFrame(S))},stop:function(){m&&(cancelAnimationFrame(m),m=void 0);K=!0},resume:function(){K=!1;F=!0;c.scheduleRender()},append:function(L,T){I(z.append,L,T)},insertBefore:function(L,
T){I(z.insertBefore,L,T)},merge:function(L,T){I(z.merge,L,T)},replace:function(L,T){I(z.replace,L,T)},detach:function(L){for(var T=0;T<O.length;T++)if(O[T]===L)return O.splice(T,1),M.splice(T,1)[0];throw Error("renderFunction was not found");}}};t.dom=z;t.h=function(b,c,m){if(Array.isArray(c))m=c,c=void 0;else if(c&&("string"==typeof c||c.vnodeSelector)||m&&("string"==typeof m||m.vnodeSelector))throw Error("h called with invalid arguments");var p,y;return m&&1===m.length&&"string"==typeof m[0]?p=
m[0]:m&&(G(b,m,y=[]),0===y.length&&(y=void 0)),{vnodeSelector:b,properties:c,children:y,text:""===p?void 0:p,domNode:null}};Object.defineProperty(t,"__esModule",{value:!0})}(H)},5:function(C,H,A){function t(a){return 0===Object.keys(a).length&&a.constructor===Object}function w(a){return null!=a}function u(a,h){return r.apply(null,arguments)}function x(a,h){return d.apply(null,arguments)}A.d(H,"b",function(){return t});A.d(H,"a",function(){return w});A.d(H,"e",function(){return E});A.d(H,"c",function(){return u});
A.d(H,"d",function(){return x});var l=A(0);C=A(15);var E=Object(C.a)(function(a,h){h=Object(l.a)({},h);return delete h[a],h}),r=Object(C.a)(function(a,h){return Object.keys(h).reduce(function(g,n){return g[n]=a(h[n],n,h),g},{})}),d=Object(C.a)(function(a,h){return Object.keys(h).reduce(function(g,n){return a(h[n],n,h)&&(g[n]=h[n]),g},{})})},63:function(C,H,A){function t(){for(var w=[],u=0;u<arguments.length;u++)w[u]=arguments[u];return function(x){return w.reduceRight(function(l,E){return E(l)},x)}}
A.d(H,"a",function(){return t})},809:function(C,H,A){function t(k,e,v,D){var B=new q({key:"root"},e);k&&(B.store=k);var J=Object(a.createProjector)(D);e=Object(d.a)(Object(d.a)({},J),{append:function(z){return J.append(z,function(){return B.render.bind(B)(B.tsx.bind(B))})}});return e.append(v),k&&k.subscribe(function(){return J.scheduleRender()}),e}function w(k,e){return function(v){return function(D,B){return function(J,z){return B(v,Object(d.a)(Object(d.a)(Object(d.a)({},D),k(z(),D)),e(J,D)))}}}}
function u(){for(var k=[],e=0;e<arguments.length;e++)k[e]=arguments[e];return function(v){return function(D,B){var J=v(D,B);D=h.a;var z=J.dispatch;B=k.map(function(G){return G({dispatch:function(Q){return z(Q)},getState:J.getState})});return z=D.apply(void 0,B)(J.dispatch),Object(d.a)(Object(d.a)({},J),{dispatch:z})}}}function x(k){return function(e){return function(v,D){return e(function(B,J){if("@@shunt/SETSTATE"===J.type)return J.payload;B=v(B,J);return-1===J.type.indexOf("@@component/INIT")&&
k(J,B),B},D)}}}function l(k){return function(e){e.dispatch;var v=e.getState;return function(D){return function(B){var J=D(B);return k(B,v()),J}}}}function E(k){var e=Object(g.d)(function(v){return"function"==typeof v},k);return function(v,D){return void 0===v&&(v={}),Object(g.c)(function(B,J){return B(v[J],D)},e)}}function r(k,e){var v=e,D=[];e={dispatch:function(B){return v=k(v,B),D.forEach(function(J){return J()}),B},subscribe:function(B){return D.push(B),function(){D.splice(D.indexOf(B),1)}},getState:function(){return v}};
return e.dispatch({type:"@@component/INIT"+Math.random().toString(36).substring(7)}),e}A.r(H);A.d(H,"createProjector",function(){return t});A.d(H,"Component",function(){return n});A.d(H,"RootComponent",function(){return q});A.d(H,"connect",function(){return w});A.d(H,"applyMiddleware",function(){return u});A.d(H,"shunt",function(){return x});A.d(H,"thunk",function(){return f});A.d(H,"addListener",function(){return l});A.d(H,"combineReducers",function(){return E});A.d(H,"createStore",function(){return r});
var d=A(0),a=A(441),h=A(63),g=A(5),n=function(){function k(e){this.childComponents={};this.state={};this.props=e}return k.prototype.componentDidConnect=function(){},k.prototype.componentWillReceiveProps=function(e){},k.prototype.setState=function(e){this.state=Object(d.a)(Object(d.a)({},this.state),e);this.store?this.store.dispatch({type:this.props.key+"_COMPONENT_STATE_UPDATE"}):console.warn("\n                A component's 'setState' method was called from its constructor function.\n                Set component state directly in the constructor function, and use 'setState' in callbacks etc.\n            ")},
k.prototype.tsx=function(e,v,D){var B=Array.prototype.slice.call(arguments).slice(2);if("string"==typeof e)var J=a.h.apply(this,[e,v,B]);else if(e.prototype&&e.prototype.constructor.name){var z=e;B=Object(d.a)(Object(d.a)({},v),{children:B});var G=this.childComponents[B.key];G?(G.componentWillReceiveProps(B),G.props=B,J=G.render(G.tsx.bind(G))):((G=this.childComponents[B.key]=new z(B)).store=this.store,G.componentDidConnect(),J=G.render(G.tsx.bind(G)))}else J=(z=e)(Object(d.a)(Object(d.a)({},v),{children:B}),
this.tsx.bind(this));return"function"==typeof J?J(this.store.dispatch,this.store.getState):J},k}(),q=function(k){function e(v,D){v=k.call(this,v)||this;return v.renderRoot=D,v}return Object(d.d)(e,k),e.prototype.render=function(v){var D=this;return v(function(B,J){return D.renderRoot(J)})},e}(n);void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){var k=/function\s([^(]{1,})\(/.exec(this.toString());return k&&1<k.length?
k[1].trim():""},set:function(k){}});var f=function(k){var e=k.dispatch,v=k.getState;return function(D){return function(B){return"function"==typeof B?B(e,v):D(B)}}}}})})},"arcgis-components/Inputs/Tags/index":function(){define(["../../Component","dojo/i18n!../../Inputs/Tags/nls/resources"],function(C,H){return function(A){function t(u){if(w[u])return w[u].exports;var x=w[u]={i:u,l:!1,exports:{}};return A[u].call(x.exports,x,x.exports,t),x.l=!0,x.exports}var w={};return t.m=A,t.c=w,t.d=function(u,x,
l){t.o(u,x)||Object.defineProperty(u,x,{enumerable:!0,get:l})},t.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},t.t=function(u,x){if((1&x&&(u=t(u)),8&x)||4&x&&"object"==typeof u&&u&&u.__esModule)return u;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:u}),2&x&&"string"!=typeof u)for(var E in u)t.d(l,E,function(r){return u[r]}.bind(null,
E));return l},t.n=function(u){var x=u&&u.__esModule?function(){return u.default}:function(){return u};return t.d(x,"a",x),x},t.o=function(u,x){return Object.prototype.hasOwnProperty.call(u,x)},t.p="",t(t.s=859)}({0:function(A,t,w){function u(g,n){function q(){this.constructor=g}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(g,n);g.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function x(g,n){var q={},
f;for(f in g)Object.prototype.hasOwnProperty.call(g,f)&&0>n.indexOf(f)&&(q[f]=g[f]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(f=Object.getOwnPropertySymbols(g);k<f.length;k++)0>n.indexOf(f[k])&&Object.prototype.propertyIsEnumerable.call(g,f[k])&&(q[f[k]]=g[f[k]])}return q}function l(g,n,q,f){var k,e=arguments.length,v=3>e?n:null===f?f=Object.getOwnPropertyDescriptor(n,q):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(g,n,q,f);else for(var D=
g.length-1;0<=D;D--)(k=g[D])&&(v=(3>e?k(v):3<e?k(n,q,v):k(n,q))||v);return 3<e&&v&&Object.defineProperty(n,q,v),v}function E(g,n,q,f){return new (q||(q=Promise))(function(k,e){function v(J){try{B(f.next(J))}catch(z){e(z)}}function D(J){try{B(f.throw(J))}catch(z){e(z)}}function B(J){var z;J.done?k(J.value):(z=J.value,z instanceof q?z:new q(function(G){G(z)})).then(v,D)}B((f=f.apply(g,n||[])).next())})}function r(g,n){function q(B){return function(J){return function(z){if(f)throw new TypeError("Generator is already executing.");
for(;D;)try{if(f=1,k&&(e=2&z[0]?k.return:z[0]?k.throw||((e=k.return)&&e.call(k),0):k.next)&&!(e=e.call(k,z[1])).done)return e;switch(k=0,e&&(z=[2&z[0],e.value]),z[0]){case 0:case 1:e=z;break;case 4:return D.label++,{value:z[1],done:!1};case 5:D.label++;k=z[1];z=[0];continue;case 7:z=D.ops.pop();D.trys.pop();continue;default:if(!(e=D.trys,(e=0<e.length&&e[e.length-1])||6!==z[0]&&2!==z[0])){D=0;continue}if(3===z[0]&&(!e||z[1]>e[0]&&z[1]<e[3]))D.label=z[1];else if(6===z[0]&&D.label<e[1])D.label=e[1],
e=z;else if(e&&D.label<e[2])D.label=e[2],D.ops.push(z);else{e[2]&&D.ops.pop();D.trys.pop();continue}}z=n.call(g,D)}catch(G){z=[6,G],k=0}finally{f=e=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([B,J])}}var f,k,e,v,D={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return v={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function d(g,n){for(var q=0,f=n.length,k=g.length;q<f;q++,k++)g[k]=n[q];return g}
w.d(t,"d",function(){return u});w.d(t,"a",function(){return h});w.d(t,"f",function(){return x});w.d(t,"c",function(){return l});w.d(t,"b",function(){return E});w.d(t,"e",function(){return r});w.d(t,"g",function(){return d});var a=function(g,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,f){q.__proto__=f}||function(q,f){for(var k in f)Object.prototype.hasOwnProperty.call(f,k)&&(q[k]=f[k])})(g,n)},h=function(){return(h=Object.assign||function(g){for(var n,q=1,f=arguments.length;q<
f;q++)for(var k in n=arguments[q])Object.prototype.hasOwnProperty.call(n,k)&&(g[k]=n[k]);return g}).apply(this,arguments)};Object.create;Object.create},18:function(A,t){A.exports=C},417:function(A,t){A.exports=H},545:function(A,t,w){t.a=function(u,x){var l=u.name;return x("li",{class:"inp-tags__tag",key:l},x("span",{title:l,class:"inp-tags__tag-innards",onkeydown:u.onKeyDown,id:"tag-"+l,tabindex:"-1"},l,x("button",{class:"inp-tags__tag-remove-btn","data-value":l,onclick:u.onRemove,tabindex:"-1",type:"button"},
x("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 32 32"},x("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"})))))}},546:function(A,t,w){var u=w(417);t.a=function(x,l){var E=x.onSuggestionFocus,r=x.onSuggestionBlur,d=x.onSuggestionClick,a=x.onSuggestionKeyDown;if(!x.visible)return null;x=x.matchingTags.map(function(g,n){return l("li",{id:"suggestion-"+n,classes:{"inp-tags__suggestion":!0,
"inp-tags__suggestion--grey":0==n%2,"inp-tags__suggestion--white":0!=n%2},"data-value":g,"data-index":n,key:g,title:g,onfocus:E,onblur:r,onmousedown:d,onkeydown:a,tabindex:"0"},g)});var h=l("div",{class:"inp-tags__no-suggestions",id:"no-matching-div"},l("div",{class:"inp-tags__no-suggestions-text",id:"no-matching-text"},u.noTagsFound));return l("ul",{id:"tag-suggestions",class:"inp-tags__suggestions",key:"tag-suggestions"},x[0]?x:h)}},859:function(A,t,w){w.r(t);var u=w(0);A=w(18);var x=w(417),l=w(545),
E=w(546);w=function(r){function d(a){a=r.call(this,a)||this;return a.state={value:"",isFocused:!1,isTyping:!1,hasBeenFocused:!1},a.handleInputBlur=a.handleInputBlur.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.handleInputFocus=a.handleInputFocus.bind(a),a.handleInputKeyDown=a.handleInputKeyDown.bind(a),a.handleSuggestionBlur=a.handleSuggestionBlur.bind(a),a.handleSuggestionClick=a.handleSuggestionClick.bind(a),a.handleSuggestionFocus=a.handleSuggestionFocus.bind(a),a.handleSuggestionKeyDown=
a.handleSuggestionKeyDown.bind(a),a.handleWidgetClick=a.handleWidgetClick.bind(a),a.spliceTag=a.spliceTag.bind(a),a.handleTagInputKeyDown=a.handleTagInputKeyDown.bind(a),a}return Object(u.d)(d,r),d.prototype.render=function(a){var h=this,g={"inp-tags__active-tags":!0,"inp-tags__active-tags--focused":this.state.isFocused},n=this.props.knownTags.filter(function(q){return-1!==q.toLowerCase().indexOf(h.state.value.toLowerCase())&&-1===h.props.activeTags.indexOf(q)});return a("div",{id:"tags-container",
classes:{"inp-tags__container":!0},style:"\n                        min-width: "+(this.props.minWidth?this.props.minWidth:"auto")+";\n                        max-width: "+(this.props.maxWidth?this.props.maxWidth:"auto")+";\n                    "},a("ul",{classes:g,key:"active-tags",id:"active-tags"},this.props.activeTags.filter(function(q){return q}).map(function(q){return a(l.a,{name:q,onRemove:h.spliceTag,onKeyDown:h.handleTagInputKeyDown})}),a("input",{id:"tags-input",class:"inp-tags__input",placeholder:x.addTags,
value:this.state.value,onkeydown:this.handleInputKeyDown,onfocus:this.handleInputFocus,onblur:this.handleInputBlur,oninput:this.handleInputChange,afterCreate:this.handler})),a(E.a,{matchingTags:n,onSuggestionBlur:this.handleSuggestionBlur,onSuggestionClick:this.handleSuggestionClick,onSuggestionFocus:this.handleSuggestionFocus,onSuggestionKeyDown:this.handleSuggestionKeyDown,visible:this.state.isTyping}))},d.prototype.handler=function(a){},d.prototype.addTag=function(a,h){var g=this;void 0===h&&(h=
!0);var n=[];a.split(",").forEach(function(q){(q=g.stripHTML(q.trim()))&&-1===g.props.activeTags.indexOf(q)&&-1===n.indexOf(q)&&n.push(q)});this.props.onChange(this.props.activeTags.concat(n));(a=document.getElementById("tags-input"))&&h&&a.focus()},d.prototype.spliceTag=function(a){a=a.currentTarget||a.target;var h=Object(u.g)([],this.props.activeTags);h.splice(this.props.activeTags.indexOf(a.dataset.value),1);this.props.onChange(h)},d.prototype.handleInputBlur=function(a){var h=this;setTimeout(function(){var g=
document.getElementById("tags-container");(null==g?0:g.contains(document.activeElement))||(h.addTag(a.target.value,!1),h.setState({value:"",hasBeenFocused:!0,isFocused:!1,isTyping:!1}))})},d.prototype.handleInputChange=function(a){this.setState({value:a.target.value})},d.prototype.handleInputFocus=function(){this.setState({isFocused:!0})},d.prototype.handleInputKeyDown=function(a){switch(a.key){case "Enter":a.target.value&&(this.addTag(a.target.value),this.setState({value:"",isTyping:!1}),(h=document.getElementById("tags-input"))&&
(h.focus(),h.value=""));break;case "Tab":var h;a.target.value&&(a.preventDefault(),this.addTag(a.target.value),this.setState({value:"",isTyping:!1}),(h=document.getElementById("tags-input"))&&(h.focus(),h.value=""));break;case "Backspace":a.target.value||(a=Object(u.g)([],this.props.activeTags),a.pop(),this.props.onChange(a),this.setState({value:"",isTyping:!1}));break;case "Down":case "ArrowDown":h=document.getElementById("suggestion-0");this.state.isTyping&&h?(a.preventDefault(),h.focus()):this.setState({isTyping:!0});
break;case "Up":case "ArrowUp":case "Left":case "ArrowLeft":this.focusElement(document.getElementById("tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;default:this.setState({isTyping:!0})}},d.prototype.handleSuggestionBlur=function(a){a.preventDefault();this.setState({isFocused:!1,isTyping:!1})},d.prototype.handleSuggestionClick=function(a){a.preventDefault();this.addTag(a.target.dataset.value);this.setState({value:"",isFocused:!0,isTyping:!1});(a=document.getElementById("tags-input"))&&
(a.focus(),a.value="")},d.prototype.handleSuggestionFocus=function(a){a.preventDefault();this.setState({isFocused:!0,isTyping:!0})},d.prototype.handleSuggestionKeyDown=function(a){switch(a.preventDefault(),a.key){case "Up":case "ArrowUp":0===a.target["data-index"]?this.focusElement(document.getElementById("tags-input")):this.focusElement(document.getElementById("suggestion-"+(a.target["data-index"]-1)));break;case "Down":case "ArrowDown":(a=document.getElementById("suggestion-"+(a.target["data-index"]+
1)))?a.focus():this.focusElement(document.getElementById("suggestion-0"));break;case "Tab":case "Enter":this.handleSuggestionClick(a);break;case "Escape":a.preventDefault(),this.focusElement(document.getElementById("tags-input"))}},d.prototype.handleWidgetClick=function(a){(a=document.getElementById("tags-input"))&&a.focus()},d.prototype.handleTagInputKeyDown=function(a){var h=document.activeElement.getAttribute("title");if(h){var g=this.props.activeTags.indexOf(h);switch(a.key){case "Left":case "ArrowLeft":this.focusElement(document.getElementById(0<
g?"tag-"+this.props.activeTags[g-1]:"tag-"+this.props.activeTags[this.props.activeTags.length-1]));break;case "Right":case "ArrowRight":this.focusElement(document.getElementById(g<this.props.activeTags.length-1?"tag-"+this.props.activeTags[g+1]:"tag-"+this.props.activeTags[0]));break;case "Down":case "ArrowDown":this.focusElement(document.getElementById("tags-input"));break;case "Backspace":case "Delete":a=Object(u.g)([],this.props.activeTags),a.splice(this.props.activeTags.indexOf(h),1),this.props.onChange(a),
this.focusElement(document.getElementById("tag-"+this.props.activeTags[g<this.props.activeTags.length-1?g+1:g-1]))}}},d.prototype.focusElement=function(a){a&&a.focus()},d.prototype.stripHTML=function(a){return a&&a.replace(/<(?:.|\s)*?>/g,"")},d}(A.Component);t.default=w}})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./has!host-browser?./_base/xhr ./json module".split(" "),function(C,H,A,t,w,u,x,l,E){A.add("dojo-preload-i18n-Api",1);x=C.i18n=
{};var r=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,d=function(z,G,Q,N){var b=[Q+N];G=G.split("-");for(var c="",m=0;m<G.length;m++)if(c+=(c?"-":"")+G[m],!z||z[c])b.push(Q+c+"/"+N),b.specificity=c;return b},a={},h=function(z,G,Q){Q=Q?Q.toLowerCase():C.locale;z=z.replace(/\./g,"/");G=G.replace(/\./g,"/");return/root/i.test(Q)?z+"/nls/"+G:z+"/nls/"+Q+"/"+G},g=C.getL10nName=function(z,G,Q){return z=E.id+"!"+h(z,G,Q)},n=function(z,G,Q,N,b,c){z([G],function(m){var p=u.clone(m.root||m.ROOT),y=d(!m._v1x&&
m,b,Q,N);z(y,function(){for(var F=1;F<y.length;F++)p=u.mixin(u.clone(p),arguments[F]);a[G+"/"+b]=p;p.$locale=y.specificity;c()})})},q=function(z){var G=w.extraLocale||[];G=u.isArray(G)?G:[G];G.push(z);return G},f=function(z,G,Q){var N=r.exec(z),b=N[1]+"/",c=N[5]||N[4],m=b+c,p=(N=N[5]&&N[4])||C.locale||"",y=m+"/"+p;N=N?[p]:q(p);var F=N.length,K=function(){--F||Q(u.delegate(a[y]))};p=z.split("*");var M="preload"==p[1];if(A("dojo-preload-i18n-Api")){if(M&&(a[z]||(a[z]=1,D(p[2],l.parse(p[3]),1,G)),Q(1)),
(p=M)||(e&&v.push([z,G,Q]),p=e&&!a[y]),p)return}else if(M){Q(1);return}t.forEach(N,function(O){var I=m+"/"+O;A("dojo-preload-i18n-Api")&&B(I);a[I]?K():n(G,m,b,c,O,K)})};A("dojo-preload-i18n-Api");var k=x.normalizeLocale=function(z){z=z?z.toLowerCase():C.locale;return"root"==z?"ROOT":z},e=0,v=[],D=x._preloadLocalizations=function(z,G,Q,N){function b(y,F){N([y],F)}function c(y,F){for(y=y.split("-");y.length;){if(F(y.join("-")))return;y.pop()}F("ROOT")}function m(){for(--e;!e&&v.length;)f.apply(null,
v.shift())}function p(y){y=k(y);c(y,function(F){if(0<=t.indexOf(G,F)){var K=z.replace(/\./g,"/")+"_"+F;e++;b(K,function(M){for(var O in M){var I=M[O],S=O.match(/(.+)\/([^\/]+)$/);if(S){var L=S[2];S=S[1]+"/";if(I._localized){var T;if("ROOT"===F){var R=T=I._localized;delete I._localized;R.root=I;a[H.toAbsMid(O)]=R}else T=I._localized,a[H.toAbsMid(S+L+"/"+F)]=I;F!==y&&function(P,V,U,W){var Z=[],Y=[];c(y,function(X){W[X]&&(Z.push(H.toAbsMid(P+X+"/"+V)),Y.push(H.toAbsMid(P+V+"/"+X)))});Z.length?(e++,N(Z,
function(){for(var X=Z.length-1;0<=X;X--)U=u.mixin(u.clone(U),arguments[X]),a[Y[X]]=U;a[H.toAbsMid(P+V+"/"+y)]=u.clone(U);m()})):a[H.toAbsMid(P+V+"/"+y)]=U}(S,L,I,T)}}}m()});return!0}return!1})}N=N||H;p();t.forEach(C.config.extraLocale,p)},B=function(){},J={};B=function(z){for(var G,Q=z.split("/"),N=C.global[Q[0]],b=1;N&&b<Q.length-1;N=N[Q[b++]]);N&&((G=N[Q[b]])||(G=N[Q[b].replace(/-/g,"_")]),G&&(a[z]=G));return G};x.getLocalization=function(z,G,Q){var N,b=h(z,G,Q);if(J[b])return J[b];f(b,H,function(c){N=
J[b]=c});return N};return u.mixin(x,{dynamic:!0,normalize:function(z,G){return/^\./.test(z)?G(z):z},load:f,cache:a,getL10nName:g})})},"dojo/_base/kernel":function(){define(["../global","../has","./config","require","module"],function(C,H,A,t,w){var u,x={},l={},E={config:A,global:C,dijit:x,dojox:l};x={dojo:["dojo",E],dijit:["dijit",x],dojox:["dojox",l]};w=t.map&&t.map[w.id.match(/[^\/]+/)[0]];for(u in w)x[u]?x[u][0]=w[u]:x[u]=[w[u],{}];for(u in x)w=x[u],w[1]._scopeName=w[0],A.noGlobals||(C[w[0]]=w[1]);
E.scopeMap=x;E.baseUrl=E.config.baseUrl=t.baseUrl;E.isAsync=t.async;E.locale=A.locale;C="$Rev:$".match(/[0-9a-f]{7,}/);E.version={major:1,minor:16,patch:4,flag:"",revision:C?C[0]:NaN,toString:function(){var d=E.version;return d.major+"."+d.minor+"."+d.patch+d.flag+" ("+d.revision+")"}};H("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(E);E.exit=function(){};H("host-webworker");"undefined"!=typeof console||(console=
{});C="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var r;for(H=0;r=C[H++];)console[r]?console[r]=Function.prototype.bind.call(console[r],console):function(){var d=r+"";console[d]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(d+":");console.log(a.join(" "))}:function(){};console[d]._fake=!0}();E.deprecated=E.experimental=function(){};E._hasResource={};return E})},"dojo/_base/config":function(){define(["../global",
"../has","require"],function(C,H,A){C={};A=A.rawConfig;for(var t in A)C[t]=A[t];!C.locale&&"undefined"!=typeof navigator&&(t=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(C.locale=t.toLowerCase());return C})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(C,H,A){function t(r){return x[r]=new Function("item","index","array",r)}function w(r){var d=!r;return function(a,h,g){var n=0,q=a&&a.length||0;q&&
"string"==typeof a&&(a=a.split(""));"string"==typeof h&&(h=x[h]||t(h));if(g)for(;n<q;++n){var f=!h.call(g,a[n],n,a);if(r^f)return!f}else for(;n<q;++n)if(f=!h(a[n],n,a),r^f)return!f;return d}}function u(r){var d=1,a=0,h=0;r||(d=a=h=-1);return function(g,n,q,f){if(f&&0<d)return E.lastIndexOf(g,n,q);f=g&&g.length||0;var k=r?f+h:a;q===l?q=r?a:f+h:0>q?(q=f+q,0>q&&(q=a)):q=q>=f?f+h:q;for(f&&"string"==typeof g&&(g=g.split(""));q!=k;q+=d)if(g[q]==n)return q;return-1}}var x={},l,E={every:w(!1),some:w(!0),
indexOf:u(!0),lastIndexOf:u(!1),forEach:function(r,d,a){var h=0,g=r&&r.length||0;g&&"string"==typeof r&&(r=r.split(""));"string"==typeof d&&(d=x[d]||t(d));if(a)for(;h<g;++h)d.call(a,r[h],h,r);else for(;h<g;++h)d(r[h],h,r)},map:function(r,d,a,h){var g=0,n=r&&r.length||0;h=new (h||Array)(n);n&&"string"==typeof r&&(r=r.split(""));"string"==typeof d&&(d=x[d]||t(d));if(a)for(;g<n;++g)h[g]=d.call(a,r[g],g,r);else for(;g<n;++g)h[g]=d(r[g],g,r);return h},filter:function(r,d,a){var h=0,g=r&&r.length||0,n=
[];g&&"string"==typeof r&&(r=r.split(""));"string"==typeof d&&(d=x[d]||t(d));if(a)for(;h<g;++h){var q=r[h];d.call(a,q,h,r)&&n.push(q)}else for(;h<g;++h)q=r[h],d(q,h,r)&&n.push(q);return n},clearCache:function(){x={}}};A.mixin(C,E);return E})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(C,H){var A=function(l,E,r){r||(r=l[0]&&C.scopeMap[l[0]]?C.scopeMap[l.shift()][1]:C.global);try{for(var d=0;d<l.length;d++){var a=l[d];if("__proto__"===a||"constructor"===a)return;if(!(a in
r))if(E)r[a]={};else return;r=r[a]}return r}catch(h){}},t=Object.prototype.toString,w=function(l,E,r){return(r||[]).concat(Array.prototype.slice.call(l,E||0))},u=/\{([^\}]+)\}/g,x={_extraNames:[],_mixin:function(l,E,r){var d,a={};for(d in E){var h=E[d];d in l&&(l[d]===h||d in a&&a[d]===h)||(l[d]=r?r(h):h)}return l},mixin:function(l,E){l||(l={});for(var r=1,d=arguments.length;r<d;r++)x._mixin(l,arguments[r]);return l},setObject:function(l,E,r){var d=l.split(".");l=d.pop();return(r=A(d,!0,r))&&l?r[l]=
E:void 0},getObject:function(l,E,r){return l?A(l.split("."),E,r):r},exists:function(l,E){return void 0!==x.getObject(l,!1,E)},isString:function(l){return"string"==typeof l||l instanceof String},isArray:Array.isArray||function(l){return"[object Array]"==t.call(l)},isFunction:function(l){return"[object Function]"===t.call(l)},isObject:function(l){return void 0!==l&&(null===l||"object"==typeof l||x.isArray(l)||x.isFunction(l))},isArrayLike:function(l){return!!l&&!x.isString(l)&&!x.isFunction(l)&&!(l.tagName&&
"form"==l.tagName.toLowerCase())&&(x.isArray(l)||isFinite(l.length))},isAlien:function(l){return l&&!x.isFunction(l)&&/\{\s*\[native code\]\s*\}/.test(String(l))},extend:function(l,E){for(var r=1,d=arguments.length;r<d;r++)x._mixin(l.prototype,arguments[r]);return l},_hitchArgs:function(l,E){var r=x._toArray(arguments,2),d=x.isString(E);return function(){var a=x._toArray(arguments),h=d?(l||C.global)[E]:E;return h&&h.apply(l||this,r.concat(a))}},hitch:function(l,E){if(2<arguments.length)return x._hitchArgs.apply(C,
arguments);E||(E=l,l=null);if(x.isString(E)){l=l||C.global;if(!l[E])throw['lang.hitch: scope["',E,'"] is null (scope\x3d"',l,'")'].join("");return function(){return l[E].apply(l,arguments||[])}}return l?function(){return E.apply(l,arguments||[])}:E},delegate:function(){function l(){}return function(E,r){l.prototype=E;E=new l;l.prototype=null;r&&x._mixin(E,r);return E}}(),_toArray:H("ie")?function(){function l(E,r,d){d=d||[];for(r=r||0;r<E.length;r++)d.push(E[r]);return d}return function(E){return(E.item?
l:w).apply(this,arguments)}}():w,partial:function(l){return x.hitch.apply(C,[null].concat(x._toArray(arguments)))},clone:function(l){if(!l||"object"!=typeof l||x.isFunction(l))return l;if(l.nodeType&&"cloneNode"in l)return l.cloneNode(!0);if(l instanceof Date)return new Date(l.getTime());if(l instanceof RegExp)return new RegExp(l);var E;if(x.isArray(l)){var r=[];var d=0;for(E=l.length;d<E;++d)d in l&&(r[d]=x.clone(l[d]))}else r=l.constructor?new l.constructor:{};return x._mixin(r,l,x.clone)},trim:String.prototype.trim?
function(l){return l.trim()}:function(l){return l.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(l,E,r){return l.replace(r||u,x.isFunction(E)?E:function(d,a){return x.getObject(a,!1,E)})}};x.mixin(C,x);return x})},"dojo/sniff":function(){define(["./has"],function(C){if(C("host-browser")){var H=navigator,A=H.userAgent;H=H.appVersion;var t=parseFloat(H);C.add("edge",parseFloat(A.split("Edge/")[1])||void 0);C.add("webkit",!C("edge")&&parseFloat(A.split("WebKit/")[1])||void 0);C.add("chrome",
!C("edge")&&parseFloat(A.split("Chrome/")[1])||void 0);C.add("safari",0<=H.indexOf("Safari")&&!C("chrome")&&!C("edge")?parseFloat(H.split("Version/")[1]):void 0);C.add("mac",0<=H.indexOf("Macintosh"));if(A.match(/(iPhone|iPod|iPad)/)){var w=RegExp.$1.replace(/P/,"p"),u=A.match(/OS ([\d_]+)/)?RegExp.$1:"1";u=parseFloat(u.replace(/_/,".").replace(/_/g,""));C.add(w,u);C.add("ios",u)}C.add("trident",parseFloat(H.split("Trident/")[1])||void 0);C("webkit")||(0<=A.indexOf("Opera")&&C.add("opera",9.8<=t?
parseFloat(A.split("Version/")[1])||t:t),0<=A.indexOf("Gecko")&&!C("trident")&&!C("edge")&&C.add("mozilla",t),C("mozilla")&&C.add("ff",parseFloat(A.split("Firefox/")[1]||A.split("Minefield/")[1])||void 0),document.all&&!C("opera")&&(A=parseFloat(H.split("MSIE ")[1])||void 0,(H=document.documentMode)&&5!=H&&Math.floor(A)!=H&&(A=H),C.add("ie",A)))}return C})},"dojo/json":function(){define(["./has"],function(C){return JSON})},"*now":function(C){C(['dojo/i18n!*preload*app/widgets/panels/MapMaker/nls/SaveMap*["ar","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])}}});
define("require exports tslib esri/core/accessorSupport/decorators esri/widgets/support/widget ./SaveMapForm esri/core/domUtils esri/intl/substitute".split(" "),function(C,H,A,t,w,u,x,l){Object.defineProperty(H,"__esModule",{value:!0});u=A.__importDefault(u);x=A.__importStar(x);l=A.__importStar(l);C=function(E){function r(d){d=E.call(this,d)||this;d.saveItem=!1;return d}A.__extends(r,E);r.prototype.postInitialize=function(){return A.__awaiter(this,void 0,void 0,function(){var d,a,h;return A.__generator(this,
function(g){d=this.state;a=d.mapView;h=a.map;this.onCancel=this.onCancel.bind(this);this.onAfterCreate=this.onAfterCreate.bind(this);this.onSave=this.onSave.bind(this);this.onOpen=this.onOpen.bind(this);this.onDone=this.onDone.bind(this);this.portalItem=h.portalItem||d.portalItem||this.getDefaultItem();this.fetchFolders();this.fetchTags();this.createContainer();this.set("mode","ready");return[2]})})};r.prototype.destroy=function(){this.tagsWidget&&(this.tagsWidget.destroy(),this.tagsWidget=null);
this.modal&&x.remove(this.modal);this.emit("done",{})};r.prototype.fetchFolders=function(){var d=this.state.portal.user;return null===d||void 0===d?void 0:d.folders};r.prototype.getItem=function(){var d=this.portalItem,a=this.container.querySelector("form"),h=this.formToJSON(a.elements);a=this.tagsWidget.getTags();var g=d.clone?d.clone():d,n=h.title,q=h.snippet;h=(h=h.folderId)&&"root"!==h?h:null;g.tags=a&&a.length?a:null;g.title=n;g.snippet=q;g.ownerFolder=h;g.folderId=h;g.type=d.type||"Web Map";
return g};r.prototype.getTitle=function(){var d=document.querySelector(".esri-header-brand-text")||document.querySelector(".esri-header-inline-title-text"),a=this.portalItem,h=256-((null===a||void 0===a?0:a.id)?this.messages.saveAsCopy.length-7:0);d=d&&d.textContent.substring(0,h);return a&&a.id?l.substitute(this.messages.saveAsCopy,{title:d}):d};r.prototype.onCancel=function(d){d=this.modal;this.saveItem=!1;d.active=!1};r.prototype.onSave=function(d){var a=this;d.preventDefault();this.disableForm(!0);
var h=document.getElementById("submit-button");this.validateForm().then(function(g){if(g)return a.saveItem=!0,g=a.getItem(),a.emit("save",{event:d,item:g,saveItem:a.saveItem}),!0;h.click();a.disableForm(!1);return!1})};r.prototype.onKeyDown=function(d){var a=d.target;"Enter"===d.key&&(a=a.classList,(null===a||void 0===a?0:a.contains("inp-tags__input"))&&d.preventDefault())};r.prototype.onOpen=function(){var d=this.modal;setTimeout(function(){return d.active=!0},50)};r.prototype.onDone=function(){var d=
this;return new Promise(function(a){d.modal.active=!1;setTimeout(function(){d.emit("close",{value:!1});d.destroy();a(!0)},200)})};r.prototype.onAfterCreate=function(d){d=this.modal;this.onOpen();d.beforeClose=this.onDone;d.disableEscape=!0;d.closeLabel=this.messagesCommon.close;this.onOpen()};r.prototype.disableForm=function(d){E.prototype.disableForm.call(this,d);var a=this.modal,h=a.querySelector(".js-save");a=a.querySelector(".js-cancel");h.loading=d?!0:!1;a.disabled=d?!0:!1};r.prototype.setFocus=
function(d){d.focus()};r.prototype.createContainer=function(){var d=this.modal=document.createElement("calcite-modal");d.setAttribute("area-labeledby","modal-title");d.setAttribute("size","s");d.setAttribute("width","s");d.setAttribute("intl-close",this.messagesCommon.close);d.disableOutsideClose=!0;document.body.appendChild(d);this.container=d};r.prototype.validateForm=function(){var d=this,a=this.tagsWidget,h=this.container,g=this.state.portal,n=a.renderContainer.querySelector("#tags-input"),q=
/^[^<>]*$/,f=a.getTags();a=(a=h.querySelector(".js-folder"))&&a.value;var k=h.querySelector(".js-title"),e=(k&&k.value||"").trim(),v="";return g.isUniqueItemTitle(e,a,"Web Map").then(function(D){v=e?D?"":l.substitute(d.messagesErrors.duplicateTitle,{title:e}):d.messagesErrors.needTitle;k.setCustomValidity(v);f&&!q.test(f.join(","))&&(v=d.messagesErrors.badCharacterTags);n.setCustomValidity(v);return!v})};r.prototype.render=function(){return"ready"===this.mode?w.tsx("div",null,w.tsx("h3",{slot:"header",
id:"modal-title"},this.messages.saveMap),w.tsx("form",{id:"save-item-form",class:"js-saveForm save-form",afterCreate:this.onAfterCreate,slot:"content",onsubmit:this.onSave,onkeydown:this.onKeyDown,bind:this},this.saveFormTemplate(),w.tsx("button",{id:"submit-button",type:"submit",class:"hide"})),w.tsx("calcite-button",{class:"js-cancel",form:"save-item-form",slot:"secondary",onclick:this.onCancel,bind:this,width:"small",appearance:"clear",type:"button",text:this.messagesCommon.cancel},this.messagesCommon.cancel),
w.tsx("calcite-button",{class:"js-save",form:"save-item-form",slot:"primary",width:"small",type:"button",bind:this,onclick:this.onSave,text:this.messages.saveMapBtn},this.messages.saveMapBtn)):w.tsx("div",null)};r.prototype.saveFormTemplate=function(){var d=this.portalItem,a=this.state.portal.user.folders,h=d.snippet;d=d.ownerFolder;var g=this.getTitle();return w.tsx("div",{class:"js-template"},w.tsx("label",null,this.messages.title,w.tsx("input",{class:"js-title",name:"title",type:"text",maxlength:"256",
required:!0,value:g,placeholder:this.messages.titlePlaceholder,afterCreate:this.setFocus,autofocus:!0})),w.tsx("label",{for:"tags-input"},this.messages.tags,w.tsx("div",{bind:this,afterCreate:this.createTagsWidget})),w.tsx("calcite-label",null,this.messages.summary,w.tsx("calcite-input",{type:"textarea","max-length":"2048",scale:"m",name:"snippet",value:h,placeholder:this.messages.summaryPlaceholder})),w.tsx("label",null,this.messages.saveInFolder,w.tsx("select",{class:"folder-select js-folder",name:"folderId",
value:d||"root",autocomplete:!0},(null===a||void 0===a?0:a.length)?a.map(this.folderTemplate):null)))};r.prototype.folderTemplate=function(d){return w.tsx("option",{value:d.id||"root"},d.title)};A.__decorate([t.property(),w.messageBundle("mapviewer/common")],r.prototype,"messagesCommon",void 0);A.__decorate([t.property(),w.messageBundle("mapviewer/errors")],r.prototype,"messagesErrors",void 0);A.__decorate([t.property(),w.messageBundle("mapviewer/mapMaker")],r.prototype,"messages",void 0);return r=
A.__decorate([t.subclass("")],r)}(u.default);H.default=C});